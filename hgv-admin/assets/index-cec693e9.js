(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))S(E);new MutationObserver(E=>{for(const O of E)if(O.type==="childList")for(const B of O.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&S(B)}).observe(document,{childList:!0,subtree:!0});function w(E){const O={};return E.integrity&&(O.integrity=E.integrity),E.referrerPolicy&&(O.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?O.credentials="include":E.crossOrigin==="anonymous"?O.credentials="omit":O.credentials="same-origin",O}function S(E){if(E.ep)return;E.ep=!0;const O=w(E);fetch(E.href,O)}})();function mH(d,m){const w=Object.create(null),S=d.split(",");for(let E=0;E<S.length;E++)w[S[E]]=!0;return m?E=>!!w[E.toLowerCase()]:E=>!!w[E]}const pi={},JA=[],Hm=()=>{},kZ=()=>!1,AZ=/^on[^a-z]/,pP=d=>AZ.test(d),hH=d=>d.startsWith("onUpdate:"),Vs=Object.assign,gH=(d,m)=>{const w=d.indexOf(m);w>-1&&d.splice(w,1)},EZ=Object.prototype.hasOwnProperty,ja=(d,m)=>EZ.call(d,m),Ar=Array.isArray,ZA=d=>_D(d)==="[object Map]",bP=d=>_D(d)==="[object Set]",tU=d=>_D(d)==="[object Date]",sa=d=>typeof d=="function",gs=d=>typeof d=="string",hD=d=>typeof d=="symbol",ei=d=>d!==null&&typeof d=="object",sW=d=>ei(d)&&sa(d.then)&&sa(d.catch),lW=Object.prototype.toString,_D=d=>lW.call(d),TZ=d=>_D(d).slice(8,-1),cW=d=>_D(d)==="[object Object]",pH=d=>gs(d)&&d!=="NaN"&&d[0]!=="-"&&""+parseInt(d,10)===d,JM=mH(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yP=d=>{const m=Object.create(null);return w=>m[w]||(m[w]=d(w))},OZ=/-(\w)/g,Qg=yP(d=>d.replace(OZ,(m,w)=>w?w.toUpperCase():"")),DZ=/\B([A-Z])/g,$S=yP(d=>d.replace(DZ,"-$1").toLowerCase()),wP=yP(d=>d.charAt(0).toUpperCase()+d.slice(1)),P7=yP(d=>d?`on${wP(d)}`:""),gD=(d,m)=>!Object.is(d,m),ZM=(d,m)=>{for(let w=0;w<d.length;w++)d[w](m)},oP=(d,m,w)=>{Object.defineProperty(d,m,{configurable:!0,enumerable:!1,value:w})},iP=d=>{const m=parseFloat(d);return isNaN(m)?d:m};let nU;const K7=()=>nU||(nU=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function CP(d){if(Ar(d)){const m={};for(let w=0;w<d.length;w++){const S=d[w],E=gs(S)?MZ(S):CP(S);if(E)for(const O in E)m[O]=E[O]}return m}else{if(gs(d))return d;if(ei(d))return d}}const RZ=/;(?![^(]*\))/g,BZ=/:([^]+)/,$Z=/\/\*[^]*?\*\//g;function MZ(d){const m={};return d.replace($Z,"").split(RZ).forEach(w=>{if(w){const S=w.split(BZ);S.length>1&&(m[S[0].trim()]=S[1].trim())}}),m}function SP(d){let m="";if(gs(d))m=d;else if(Ar(d))for(let w=0;w<d.length;w++){const S=SP(d[w]);S&&(m+=S+" ")}else if(ei(d))for(const w in d)d[w]&&(m+=w+" ");return m.trim()}const PZ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",NZ=mH(PZ);function fW(d){return!!d||d===""}function IZ(d,m){if(d.length!==m.length)return!1;let w=!0;for(let S=0;w&&S<d.length;S++)w=xP(d[S],m[S]);return w}function xP(d,m){if(d===m)return!0;let w=tU(d),S=tU(m);if(w||S)return w&&S?d.getTime()===m.getTime():!1;if(w=hD(d),S=hD(m),w||S)return d===m;if(w=Ar(d),S=Ar(m),w||S)return w&&S?IZ(d,m):!1;if(w=ei(d),S=ei(m),w||S){if(!w||!S)return!1;const E=Object.keys(d).length,O=Object.keys(m).length;if(E!==O)return!1;for(const B in d){const I=d.hasOwnProperty(B),G=m.hasOwnProperty(B);if(I&&!G||!I&&G||!xP(d[B],m[B]))return!1}}return String(d)===String(m)}function zZ(d,m){return d.findIndex(w=>xP(w,m))}const ir=d=>gs(d)?d:d==null?"":Ar(d)||ei(d)&&(d.toString===lW||!sa(d.toString))?JSON.stringify(d,vW,2):String(d),vW=(d,m)=>m&&m.__v_isRef?vW(d,m.value):ZA(m)?{[`Map(${m.size})`]:[...m.entries()].reduce((w,[S,E])=>(w[`${S} =>`]=E,w),{})}:bP(m)?{[`Set(${m.size})`]:[...m.values()]}:ei(m)&&!Ar(m)&&!cW(m)?String(m):m;let Im;class dW{constructor(m=!1){this.detached=m,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Im,!m&&Im&&(this.index=(Im.scopes||(Im.scopes=[])).push(this)-1)}get active(){return this._active}run(m){if(this._active){const w=Im;try{return Im=this,m()}finally{Im=w}}}on(){Im=this}off(){Im=this.parent}stop(m){if(this._active){let w,S;for(w=0,S=this.effects.length;w<S;w++)this.effects[w].stop();for(w=0,S=this.cleanups.length;w<S;w++)this.cleanups[w]();if(this.scopes)for(w=0,S=this.scopes.length;w<S;w++)this.scopes[w].stop(!0);if(!this.detached&&this.parent&&!m){const E=this.parent.scopes.pop();E&&E!==this&&(this.parent.scopes[this.index]=E,E.index=this.index)}this.parent=void 0,this._active=!1}}}function LZ(d){return new dW(d)}function FZ(d,m=Im){m&&m.active&&m.effects.push(d)}function HZ(){return Im}const bH=d=>{const m=new Set(d);return m.w=0,m.n=0,m},mW=d=>(d.w&qy)>0,hW=d=>(d.n&qy)>0,VZ=({deps:d})=>{if(d.length)for(let m=0;m<d.length;m++)d[m].w|=qy},UZ=d=>{const{deps:m}=d;if(m.length){let w=0;for(let S=0;S<m.length;S++){const E=m[S];mW(E)&&!hW(E)?E.delete(d):m[w++]=E,E.w&=~qy,E.n&=~qy}m.length=w}},X7=new WeakMap;let sD=0,qy=1;const Y7=30;let zm;const RS=Symbol(""),J7=Symbol("");class yH{constructor(m,w=null,S){this.fn=m,this.scheduler=w,this.active=!0,this.deps=[],this.parent=void 0,FZ(this,S)}run(){if(!this.active)return this.fn();let m=zm,w=jy;for(;m;){if(m===this)return;m=m.parent}try{return this.parent=zm,zm=this,jy=!0,qy=1<<++sD,sD<=Y7?VZ(this):rU(this),this.fn()}finally{sD<=Y7&&UZ(this),qy=1<<--sD,zm=this.parent,jy=w,this.parent=void 0,this.deferStop&&this.stop()}}stop(){zm===this?this.deferStop=!0:this.active&&(rU(this),this.onStop&&this.onStop(),this.active=!1)}}function rU(d){const{deps:m}=d;if(m.length){for(let w=0;w<m.length;w++)m[w].delete(d);m.length=0}}let jy=!0;const gW=[];function uE(){gW.push(jy),jy=!1}function sE(){const d=gW.pop();jy=d===void 0?!0:d}function Sf(d,m,w){if(jy&&zm){let S=X7.get(d);S||X7.set(d,S=new Map);let E=S.get(w);E||S.set(w,E=bH()),pW(E)}}function pW(d,m){let w=!1;sD<=Y7?hW(d)||(d.n|=qy,w=!mW(d)):w=!d.has(zm),w&&(d.add(zm),zm.deps.push(d))}function Q1(d,m,w,S,E,O){const B=X7.get(d);if(!B)return;let I=[];if(m==="clear")I=[...B.values()];else if(w==="length"&&Ar(d)){const G=Number(S);B.forEach((ee,ae)=>{(ae==="length"||ae>=G)&&I.push(ee)})}else switch(w!==void 0&&I.push(B.get(w)),m){case"add":Ar(d)?pH(w)&&I.push(B.get("length")):(I.push(B.get(RS)),ZA(d)&&I.push(B.get(J7)));break;case"delete":Ar(d)||(I.push(B.get(RS)),ZA(d)&&I.push(B.get(J7)));break;case"set":ZA(d)&&I.push(B.get(RS));break}if(I.length===1)I[0]&&Z7(I[0]);else{const G=[];for(const ee of I)ee&&G.push(...ee);Z7(bH(G))}}function Z7(d,m){const w=Ar(d)?d:[...d];for(const S of w)S.computed&&aU(S);for(const S of w)S.computed||aU(S)}function aU(d,m){(d!==zm||d.allowRecurse)&&(d.scheduler?d.scheduler():d.run())}const WZ=mH("__proto__,__v_isRef,__isVue"),bW=new Set(Object.getOwnPropertyNames(Symbol).filter(d=>d!=="arguments"&&d!=="caller").map(d=>Symbol[d]).filter(hD)),jZ=wH(),GZ=wH(!1,!0),qZ=wH(!0),oU=KZ();function KZ(){const d={};return["includes","indexOf","lastIndexOf"].forEach(m=>{d[m]=function(...w){const S=so(this);for(let O=0,B=this.length;O<B;O++)Sf(S,"get",O+"");const E=S[m](...w);return E===-1||E===!1?S[m](...w.map(so)):E}}),["push","pop","shift","unshift","splice"].forEach(m=>{d[m]=function(...w){uE();const S=so(this)[m].apply(this,w);return sE(),S}}),d}function XZ(d){const m=so(this);return Sf(m,"has",d),m.hasOwnProperty(d)}function wH(d=!1,m=!1){return function(S,E,O){if(E==="__v_isReactive")return!d;if(E==="__v_isReadonly")return d;if(E==="__v_isShallow")return m;if(E==="__v_raw"&&O===(d?m?fQ:xW:m?SW:CW).get(S))return S;const B=Ar(S);if(!d){if(B&&ja(oU,E))return Reflect.get(oU,E,O);if(E==="hasOwnProperty")return XZ}const I=Reflect.get(S,E,O);return(hD(E)?bW.has(E):WZ(E))||(d||Sf(S,"get",E),m)?I:Ul(I)?B&&pH(E)?I:I.value:ei(I)?d?kW(I):kP(I):I}}const YZ=yW(),JZ=yW(!0);function yW(d=!1){return function(w,S,E,O){let B=w[S];if(tE(B)&&Ul(B)&&!Ul(E))return!1;if(!d&&(!uP(E)&&!tE(E)&&(B=so(B),E=so(E)),!Ar(w)&&Ul(B)&&!Ul(E)))return B.value=E,!0;const I=Ar(w)&&pH(S)?Number(S)<w.length:ja(w,S),G=Reflect.set(w,S,E,O);return w===so(O)&&(I?gD(E,B)&&Q1(w,"set",S,E):Q1(w,"add",S,E)),G}}function ZZ(d,m){const w=ja(d,m);d[m];const S=Reflect.deleteProperty(d,m);return S&&w&&Q1(d,"delete",m,void 0),S}function QZ(d,m){const w=Reflect.has(d,m);return(!hD(m)||!bW.has(m))&&Sf(d,"has",m),w}function eQ(d){return Sf(d,"iterate",Ar(d)?"length":RS),Reflect.ownKeys(d)}const wW={get:jZ,set:YZ,deleteProperty:ZZ,has:QZ,ownKeys:eQ},tQ={get:qZ,set(d,m){return!0},deleteProperty(d,m){return!0}},nQ=Vs({},wW,{get:GZ,set:JZ}),CH=d=>d,_P=d=>Reflect.getPrototypeOf(d);function jM(d,m,w=!1,S=!1){d=d.__v_raw;const E=so(d),O=so(m);w||(m!==O&&Sf(E,"get",m),Sf(E,"get",O));const{has:B}=_P(E),I=S?CH:w?kH:pD;if(B.call(E,m))return I(d.get(m));if(B.call(E,O))return I(d.get(O));d!==E&&d.get(m)}function GM(d,m=!1){const w=this.__v_raw,S=so(w),E=so(d);return m||(d!==E&&Sf(S,"has",d),Sf(S,"has",E)),d===E?w.has(d):w.has(d)||w.has(E)}function qM(d,m=!1){return d=d.__v_raw,!m&&Sf(so(d),"iterate",RS),Reflect.get(d,"size",d)}function iU(d){d=so(d);const m=so(this);return _P(m).has.call(m,d)||(m.add(d),Q1(m,"add",d,d)),this}function uU(d,m){m=so(m);const w=so(this),{has:S,get:E}=_P(w);let O=S.call(w,d);O||(d=so(d),O=S.call(w,d));const B=E.call(w,d);return w.set(d,m),O?gD(m,B)&&Q1(w,"set",d,m):Q1(w,"add",d,m),this}function sU(d){const m=so(this),{has:w,get:S}=_P(m);let E=w.call(m,d);E||(d=so(d),E=w.call(m,d)),S&&S.call(m,d);const O=m.delete(d);return E&&Q1(m,"delete",d,void 0),O}function lU(){const d=so(this),m=d.size!==0,w=d.clear();return m&&Q1(d,"clear",void 0,void 0),w}function KM(d,m){return function(S,E){const O=this,B=O.__v_raw,I=so(B),G=m?CH:d?kH:pD;return!d&&Sf(I,"iterate",RS),B.forEach((ee,ae)=>S.call(E,G(ee),G(ae),O))}}function XM(d,m,w){return function(...S){const E=this.__v_raw,O=so(E),B=ZA(O),I=d==="entries"||d===Symbol.iterator&&B,G=d==="keys"&&B,ee=E[d](...S),ae=w?CH:m?kH:pD;return!m&&Sf(O,"iterate",G?J7:RS),{next(){const{value:me,done:ie}=ee.next();return ie?{value:me,done:ie}:{value:I?[ae(me[0]),ae(me[1])]:ae(me),done:ie}},[Symbol.iterator](){return this}}}}function Fy(d){return function(...m){return d==="delete"?!1:this}}function rQ(){const d={get(O){return jM(this,O)},get size(){return qM(this)},has:GM,add:iU,set:uU,delete:sU,clear:lU,forEach:KM(!1,!1)},m={get(O){return jM(this,O,!1,!0)},get size(){return qM(this)},has:GM,add:iU,set:uU,delete:sU,clear:lU,forEach:KM(!1,!0)},w={get(O){return jM(this,O,!0)},get size(){return qM(this,!0)},has(O){return GM.call(this,O,!0)},add:Fy("add"),set:Fy("set"),delete:Fy("delete"),clear:Fy("clear"),forEach:KM(!0,!1)},S={get(O){return jM(this,O,!0,!0)},get size(){return qM(this,!0)},has(O){return GM.call(this,O,!0)},add:Fy("add"),set:Fy("set"),delete:Fy("delete"),clear:Fy("clear"),forEach:KM(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(O=>{d[O]=XM(O,!1,!1),w[O]=XM(O,!0,!1),m[O]=XM(O,!1,!0),S[O]=XM(O,!0,!0)}),[d,w,m,S]}const[aQ,oQ,iQ,uQ]=rQ();function SH(d,m){const w=m?d?uQ:iQ:d?oQ:aQ;return(S,E,O)=>E==="__v_isReactive"?!d:E==="__v_isReadonly"?d:E==="__v_raw"?S:Reflect.get(ja(w,E)&&E in S?w:S,E,O)}const sQ={get:SH(!1,!1)},lQ={get:SH(!1,!0)},cQ={get:SH(!0,!1)},CW=new WeakMap,SW=new WeakMap,xW=new WeakMap,fQ=new WeakMap;function vQ(d){switch(d){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dQ(d){return d.__v_skip||!Object.isExtensible(d)?0:vQ(TZ(d))}function kP(d){return tE(d)?d:xH(d,!1,wW,sQ,CW)}function _W(d){return xH(d,!1,nQ,lQ,SW)}function kW(d){return xH(d,!0,tQ,cQ,xW)}function xH(d,m,w,S,E){if(!ei(d)||d.__v_raw&&!(m&&d.__v_isReactive))return d;const O=E.get(d);if(O)return O;const B=dQ(d);if(B===0)return d;const I=new Proxy(d,B===2?S:w);return E.set(d,I),I}function QA(d){return tE(d)?QA(d.__v_raw):!!(d&&d.__v_isReactive)}function tE(d){return!!(d&&d.__v_isReadonly)}function uP(d){return!!(d&&d.__v_isShallow)}function AW(d){return QA(d)||tE(d)}function so(d){const m=d&&d.__v_raw;return m?so(m):d}function _H(d){return oP(d,"__v_skip",!0),d}const pD=d=>ei(d)?kP(d):d,kH=d=>ei(d)?kW(d):d;function EW(d){jy&&zm&&(d=so(d),pW(d.dep||(d.dep=bH())))}function TW(d,m){d=so(d);const w=d.dep;w&&Z7(w)}function Ul(d){return!!(d&&d.__v_isRef===!0)}function At(d){return OW(d,!1)}function mQ(d){return OW(d,!0)}function OW(d,m){return Ul(d)?d:new hQ(d,m)}class hQ{constructor(m,w){this.__v_isShallow=w,this.dep=void 0,this.__v_isRef=!0,this._rawValue=w?m:so(m),this._value=w?m:pD(m)}get value(){return EW(this),this._value}set value(m){const w=this.__v_isShallow||uP(m)||tE(m);m=w?m:so(m),gD(m,this._rawValue)&&(this._rawValue=m,this._value=w?m:pD(m),TW(this))}}function Po(d){return Ul(d)?d.value:d}const gQ={get:(d,m,w)=>Po(Reflect.get(d,m,w)),set:(d,m,w,S)=>{const E=d[m];return Ul(E)&&!Ul(w)?(E.value=w,!0):Reflect.set(d,m,w,S)}};function DW(d){return QA(d)?d:new Proxy(d,gQ)}class pQ{constructor(m,w,S,E){this._setter=w,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new yH(m,()=>{this._dirty||(this._dirty=!0,TW(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!E,this.__v_isReadonly=S}get value(){const m=so(this);return EW(m),(m._dirty||!m._cacheable)&&(m._dirty=!1,m._value=m.effect.run()),m._value}set value(m){this._setter(m)}}function bQ(d,m,w=!1){let S,E;const O=sa(d);return O?(S=d,E=Hm):(S=d.get,E=d.set),new pQ(S,E,O||!E,w)}function Gy(d,m,w,S){let E;try{E=S?d(...S):d()}catch(O){AP(O,m,w)}return E}function Vm(d,m,w,S){if(sa(d)){const O=Gy(d,m,w,S);return O&&sW(O)&&O.catch(B=>{AP(B,m,w)}),O}const E=[];for(let O=0;O<d.length;O++)E.push(Vm(d[O],m,w,S));return E}function AP(d,m,w,S=!0){const E=m?m.vnode:null;if(m){let O=m.parent;const B=m.proxy,I=w;for(;O;){const ee=O.ec;if(ee){for(let ae=0;ae<ee.length;ae++)if(ee[ae](d,B,I)===!1)return}O=O.parent}const G=m.appContext.config.errorHandler;if(G){Gy(G,null,10,[d,B,I]);return}}yQ(d,w,E,S)}function yQ(d,m,w,S=!0){console.error(d)}let bD=!1,Q7=!1;const Vl=[];let Zg=0;const eE=[];let J1=null,AS=0;const RW=Promise.resolve();let AH=null;function BW(d){const m=AH||RW;return d?m.then(this?d.bind(this):d):m}function wQ(d){let m=Zg+1,w=Vl.length;for(;m<w;){const S=m+w>>>1;yD(Vl[S])<d?m=S+1:w=S}return m}function EH(d){(!Vl.length||!Vl.includes(d,bD&&d.allowRecurse?Zg+1:Zg))&&(d.id==null?Vl.push(d):Vl.splice(wQ(d.id),0,d),$W())}function $W(){!bD&&!Q7&&(Q7=!0,AH=RW.then(PW))}function CQ(d){const m=Vl.indexOf(d);m>Zg&&Vl.splice(m,1)}function SQ(d){Ar(d)?eE.push(...d):(!J1||!J1.includes(d,d.allowRecurse?AS+1:AS))&&eE.push(d),$W()}function cU(d,m=bD?Zg+1:0){for(;m<Vl.length;m++){const w=Vl[m];w&&w.pre&&(Vl.splice(m,1),m--,w())}}function MW(d){if(eE.length){const m=[...new Set(eE)];if(eE.length=0,J1){J1.push(...m);return}for(J1=m,J1.sort((w,S)=>yD(w)-yD(S)),AS=0;AS<J1.length;AS++)J1[AS]();J1=null,AS=0}}const yD=d=>d.id==null?1/0:d.id,xQ=(d,m)=>{const w=yD(d)-yD(m);if(w===0){if(d.pre&&!m.pre)return-1;if(m.pre&&!d.pre)return 1}return w};function PW(d){Q7=!1,bD=!0,Vl.sort(xQ);const m=Hm;try{for(Zg=0;Zg<Vl.length;Zg++){const w=Vl[Zg];w&&w.active!==!1&&Gy(w,null,14)}}finally{Zg=0,Vl.length=0,MW(),bD=!1,AH=null,(Vl.length||eE.length)&&PW()}}function _Q(d,m,...w){if(d.isUnmounted)return;const S=d.vnode.props||pi;let E=w;const O=m.startsWith("update:"),B=O&&m.slice(7);if(B&&B in S){const ae=`${B==="modelValue"?"model":B}Modifiers`,{number:me,trim:ie}=S[ae]||pi;ie&&(E=w.map(oe=>gs(oe)?oe.trim():oe)),me&&(E=w.map(iP))}let I,G=S[I=P7(m)]||S[I=P7(Qg(m))];!G&&O&&(G=S[I=P7($S(m))]),G&&Vm(G,d,6,E);const ee=S[I+"Once"];if(ee){if(!d.emitted)d.emitted={};else if(d.emitted[I])return;d.emitted[I]=!0,Vm(ee,d,6,E)}}function NW(d,m,w=!1){const S=m.emitsCache,E=S.get(d);if(E!==void 0)return E;const O=d.emits;let B={},I=!1;if(!sa(d)){const G=ee=>{const ae=NW(ee,m,!0);ae&&(I=!0,Vs(B,ae))};!w&&m.mixins.length&&m.mixins.forEach(G),d.extends&&G(d.extends),d.mixins&&d.mixins.forEach(G)}return!O&&!I?(ei(d)&&S.set(d,null),null):(Ar(O)?O.forEach(G=>B[G]=null):Vs(B,O),ei(d)&&S.set(d,B),B)}function EP(d,m){return!d||!pP(m)?!1:(m=m.slice(2).replace(/Once$/,""),ja(d,m[0].toLowerCase()+m.slice(1))||ja(d,$S(m))||ja(d,m))}let Wl=null,TP=null;function sP(d){const m=Wl;return Wl=d,TP=d&&d.type.__scopeId||null,m}function OP(d){TP=d}function DP(){TP=null}function Jt(d,m=Wl,w){if(!m||d._n)return d;const S=(...E)=>{S._d&&CU(-1);const O=sP(m);let B;try{B=d(...E)}finally{sP(O),S._d&&CU(1)}return B};return S._n=!0,S._c=!0,S._d=!0,S}function N7(d){const{type:m,vnode:w,proxy:S,withProxy:E,props:O,propsOptions:[B],slots:I,attrs:G,emit:ee,render:ae,renderCache:me,data:ie,setupState:oe,ctx:he,inheritAttrs:Q}=d;let Ct,Me;const rt=sP(d);try{if(w.shapeFlag&4){const tt=E||S;Ct=Jg(ae.call(tt,tt,me,O,oe,ie,he)),Me=G}else{const tt=m;Ct=Jg(tt.length>1?tt(O,{attrs:G,slots:I,emit:ee}):tt(O,null)),Me=m.props?G:kQ(G)}}catch(tt){vD.length=0,AP(tt,d,1),Ct=_t(Ky)}let ve=Ct;if(Me&&Q!==!1){const tt=Object.keys(Me),{shapeFlag:He}=ve;tt.length&&He&7&&(B&&tt.some(hH)&&(Me=AQ(Me,B)),ve=nE(ve,Me))}return w.dirs&&(ve=nE(ve),ve.dirs=ve.dirs?ve.dirs.concat(w.dirs):w.dirs),w.transition&&(ve.transition=w.transition),Ct=ve,sP(rt),Ct}const kQ=d=>{let m;for(const w in d)(w==="class"||w==="style"||pP(w))&&((m||(m={}))[w]=d[w]);return m},AQ=(d,m)=>{const w={};for(const S in d)(!hH(S)||!(S.slice(9)in m))&&(w[S]=d[S]);return w};function EQ(d,m,w){const{props:S,children:E,component:O}=d,{props:B,children:I,patchFlag:G}=m,ee=O.emitsOptions;if(m.dirs||m.transition)return!0;if(w&&G>=0){if(G&1024)return!0;if(G&16)return S?fU(S,B,ee):!!B;if(G&8){const ae=m.dynamicProps;for(let me=0;me<ae.length;me++){const ie=ae[me];if(B[ie]!==S[ie]&&!EP(ee,ie))return!0}}}else return(E||I)&&(!I||!I.$stable)?!0:S===B?!1:S?B?fU(S,B,ee):!0:!!B;return!1}function fU(d,m,w){const S=Object.keys(m);if(S.length!==Object.keys(d).length)return!0;for(let E=0;E<S.length;E++){const O=S[E];if(m[O]!==d[O]&&!EP(w,O))return!0}return!1}function TQ({vnode:d,parent:m},w){for(;m&&m.subTree===d;)(d=m.vnode).el=w,m=m.parent}const OQ=d=>d.__isSuspense;function DQ(d,m){m&&m.pendingBranch?Ar(d)?m.effects.push(...d):m.effects.push(d):SQ(d)}const YM={};function Um(d,m,w){return IW(d,m,w)}function IW(d,m,{immediate:w,deep:S,flush:E,onTrack:O,onTrigger:B}=pi){var I;const G=HZ()===((I=dl)==null?void 0:I.scope)?dl:null;let ee,ae=!1,me=!1;if(Ul(d)?(ee=()=>d.value,ae=uP(d)):QA(d)?(ee=()=>d,S=!0):Ar(d)?(me=!0,ae=d.some(tt=>QA(tt)||uP(tt)),ee=()=>d.map(tt=>{if(Ul(tt))return tt.value;if(QA(tt))return DS(tt);if(sa(tt))return Gy(tt,G,2)})):sa(d)?m?ee=()=>Gy(d,G,2):ee=()=>{if(!(G&&G.isUnmounted))return ie&&ie(),Vm(d,G,3,[oe])}:ee=Hm,m&&S){const tt=ee;ee=()=>DS(tt())}let ie,oe=tt=>{ie=rt.onStop=()=>{Gy(tt,G,4)}},he;if(CD)if(oe=Hm,m?w&&Vm(m,G,3,[ee(),me?[]:void 0,oe]):ee(),E==="sync"){const tt=wee();he=tt.__watcherHandles||(tt.__watcherHandles=[])}else return Hm;let Q=me?new Array(d.length).fill(YM):YM;const Ct=()=>{if(rt.active)if(m){const tt=rt.run();(S||ae||(me?tt.some((He,Xt)=>gD(He,Q[Xt])):gD(tt,Q)))&&(ie&&ie(),Vm(m,G,3,[tt,Q===YM?void 0:me&&Q[0]===YM?[]:Q,oe]),Q=tt)}else rt.run()};Ct.allowRecurse=!!m;let Me;E==="sync"?Me=Ct:E==="post"?Me=()=>Cf(Ct,G&&G.suspense):(Ct.pre=!0,G&&(Ct.id=G.uid),Me=()=>EH(Ct));const rt=new yH(ee,Me);m?w?Ct():Q=rt.run():E==="post"?Cf(rt.run.bind(rt),G&&G.suspense):rt.run();const ve=()=>{rt.stop(),G&&G.scope&&gH(G.scope.effects,rt)};return he&&he.push(ve),ve}function RQ(d,m,w){const S=this.proxy,E=gs(d)?d.includes(".")?zW(S,d):()=>S[d]:d.bind(S,S);let O;sa(m)?O=m:(O=m.handler,w=m);const B=dl;rE(this);const I=IW(E,O.bind(S),w);return B?rE(B):BS(),I}function zW(d,m){const w=m.split(".");return()=>{let S=d;for(let E=0;E<w.length&&S;E++)S=S[w[E]];return S}}function DS(d,m){if(!ei(d)||d.__v_skip||(m=m||new Set,m.has(d)))return d;if(m.add(d),Ul(d))DS(d.value,m);else if(Ar(d))for(let w=0;w<d.length;w++)DS(d[w],m);else if(bP(d)||ZA(d))d.forEach(w=>{DS(w,m)});else if(cW(d))for(const w in d)DS(d[w],m);return d}function ar(d,m){const w=Wl;if(w===null)return d;const S=PP(w)||w.proxy,E=d.dirs||(d.dirs=[]);for(let O=0;O<m.length;O++){let[B,I,G,ee=pi]=m[O];B&&(sa(B)&&(B={mounted:B,updated:B}),B.deep&&DS(I),E.push({dir:B,instance:S,value:I,oldValue:void 0,arg:G,modifiers:ee}))}return d}function _S(d,m,w,S){const E=d.dirs,O=m&&m.dirs;for(let B=0;B<E.length;B++){const I=E[B];O&&(I.oldValue=O[B].value);let G=I.dir[S];G&&(uE(),Vm(G,w,8,[d.el,I,d,m]),sE())}}function LW(d,m){return sa(d)?(()=>Vs({name:d.name},m,{setup:d}))():d}const cD=d=>!!d.type.__asyncLoader,FW=d=>d.type.__isKeepAlive;function BQ(d,m){HW(d,"a",m)}function $Q(d,m){HW(d,"da",m)}function HW(d,m,w=dl){const S=d.__wdc||(d.__wdc=()=>{let E=w;for(;E;){if(E.isDeactivated)return;E=E.parent}return d()});if(RP(m,S,w),w){let E=w.parent;for(;E&&E.parent;)FW(E.parent.vnode)&&MQ(S,m,w,E),E=E.parent}}function MQ(d,m,w,S){const E=RP(m,d,S,!0);TH(()=>{gH(S[m],E)},w)}function RP(d,m,w=dl,S=!1){if(w){const E=w[d]||(w[d]=[]),O=m.__weh||(m.__weh=(...B)=>{if(w.isUnmounted)return;uE(),rE(w);const I=Vm(m,w,d,B);return BS(),sE(),I});return S?E.unshift(O):E.push(O),O}}const eb=d=>(m,w=dl)=>(!CD||d==="sp")&&RP(d,(...S)=>m(...S),w),ep=eb("bm"),lo=eb("m"),PQ=eb("bu"),NQ=eb("u"),BP=eb("bum"),TH=eb("um"),IQ=eb("sp"),zQ=eb("rtg"),LQ=eb("rtc");function FQ(d,m=dl){RP("ec",d,m)}const VW="components";function eo(d,m){return VQ(VW,d,!0,m)||d}const HQ=Symbol.for("v-ndc");function VQ(d,m,w=!0,S=!1){const E=Wl||dl;if(E){const O=E.type;if(d===VW){const I=pee(O,!1);if(I&&(I===m||I===Qg(m)||I===wP(Qg(m))))return O}const B=vU(E[d]||O[d],m)||vU(E.appContext[d],m);return!B&&S?O:B}}function vU(d,m){return d&&(d[m]||d[Qg(m)]||d[wP(Qg(m))])}function po(d,m,w,S){let E;const O=w&&w[S];if(Ar(d)||gs(d)){E=new Array(d.length);for(let B=0,I=d.length;B<I;B++)E[B]=m(d[B],B,void 0,O&&O[B])}else if(typeof d=="number"){E=new Array(d);for(let B=0;B<d;B++)E[B]=m(B+1,B,void 0,O&&O[B])}else if(ei(d))if(d[Symbol.iterator])E=Array.from(d,(B,I)=>m(B,I,void 0,O&&O[I]));else{const B=Object.keys(d);E=new Array(B.length);for(let I=0,G=B.length;I<G;I++){const ee=B[I];E[I]=m(d[ee],ee,I,O&&O[I])}}else E=[];return w&&(w[S]=E),E}function eH(d,m,w={},S,E){if(Wl.isCE||Wl.parent&&cD(Wl.parent)&&Wl.parent.isCE)return m!=="default"&&(w.name=m),_t("slot",w,S&&S());let O=d[m];O&&O._c&&(O._d=!1),Ve();const B=O&&UW(O(w)),I=_d(Or,{key:w.key||B&&B.key||`_${m}`},B||(S?S():[]),B&&d._===1?64:-2);return!E&&I.scopeId&&(I.slotScopeIds=[I.scopeId+"-s"]),O&&O._c&&(O._d=!0),I}function UW(d){return d.some(m=>fP(m)?!(m.type===Ky||m.type===Or&&!UW(m.children)):!0)?d:null}const tH=d=>d?ej(d)?PP(d)||d.proxy:tH(d.parent):null,fD=Vs(Object.create(null),{$:d=>d,$el:d=>d.vnode.el,$data:d=>d.data,$props:d=>d.props,$attrs:d=>d.attrs,$slots:d=>d.slots,$refs:d=>d.refs,$parent:d=>tH(d.parent),$root:d=>tH(d.root),$emit:d=>d.emit,$options:d=>OH(d),$forceUpdate:d=>d.f||(d.f=()=>EH(d.update)),$nextTick:d=>d.n||(d.n=BW.bind(d.proxy)),$watch:d=>RQ.bind(d)}),I7=(d,m)=>d!==pi&&!d.__isScriptSetup&&ja(d,m),UQ={get({_:d},m){const{ctx:w,setupState:S,data:E,props:O,accessCache:B,type:I,appContext:G}=d;let ee;if(m[0]!=="$"){const oe=B[m];if(oe!==void 0)switch(oe){case 1:return S[m];case 2:return E[m];case 4:return w[m];case 3:return O[m]}else{if(I7(S,m))return B[m]=1,S[m];if(E!==pi&&ja(E,m))return B[m]=2,E[m];if((ee=d.propsOptions[0])&&ja(ee,m))return B[m]=3,O[m];if(w!==pi&&ja(w,m))return B[m]=4,w[m];nH&&(B[m]=0)}}const ae=fD[m];let me,ie;if(ae)return m==="$attrs"&&Sf(d,"get",m),ae(d);if((me=I.__cssModules)&&(me=me[m]))return me;if(w!==pi&&ja(w,m))return B[m]=4,w[m];if(ie=G.config.globalProperties,ja(ie,m))return ie[m]},set({_:d},m,w){const{data:S,setupState:E,ctx:O}=d;return I7(E,m)?(E[m]=w,!0):S!==pi&&ja(S,m)?(S[m]=w,!0):ja(d.props,m)||m[0]==="$"&&m.slice(1)in d?!1:(O[m]=w,!0)},has({_:{data:d,setupState:m,accessCache:w,ctx:S,appContext:E,propsOptions:O}},B){let I;return!!w[B]||d!==pi&&ja(d,B)||I7(m,B)||(I=O[0])&&ja(I,B)||ja(S,B)||ja(fD,B)||ja(E.config.globalProperties,B)},defineProperty(d,m,w){return w.get!=null?d._.accessCache[m]=0:ja(w,"value")&&this.set(d,m,w.value,null),Reflect.defineProperty(d,m,w)}};function dU(d){return Ar(d)?d.reduce((m,w)=>(m[w]=null,m),{}):d}let nH=!0;function WQ(d){const m=OH(d),w=d.proxy,S=d.ctx;nH=!1,m.beforeCreate&&mU(m.beforeCreate,d,"bc");const{data:E,computed:O,methods:B,watch:I,provide:G,inject:ee,created:ae,beforeMount:me,mounted:ie,beforeUpdate:oe,updated:he,activated:Q,deactivated:Ct,beforeDestroy:Me,beforeUnmount:rt,destroyed:ve,unmounted:tt,render:He,renderTracked:Xt,renderTriggered:mn,errorCaptured:Nt,serverPrefetch:Cn,expose:Qt,inheritAttrs:Eo,components:Ce,directives:Y,filters:Ht}=m;if(ee&&jQ(ee,S,null),B)for(const Kn in B){const xn=B[Kn];sa(xn)&&(S[Kn]=xn.bind(w))}if(E){const Kn=E.call(w,w);ei(Kn)&&(d.data=kP(Kn))}if(nH=!0,O)for(const Kn in O){const xn=O[Kn],P=sa(xn)?xn.bind(w,w):sa(xn.get)?xn.get.bind(w,w):Hm,ta=!sa(xn)&&sa(xn.set)?xn.set.bind(w):Hm,Dt=Qo({get:P,set:ta});Object.defineProperty(S,Kn,{enumerable:!0,configurable:!0,get:()=>Dt.value,set:en=>Dt.value=en})}if(I)for(const Kn in I)WW(I[Kn],S,w,Kn);if(G){const Kn=sa(G)?G.call(w):G;Reflect.ownKeys(Kn).forEach(xn=>{QM(xn,Kn[xn])})}ae&&mU(ae,d,"c");function ft(Kn,xn){Ar(xn)?xn.forEach(P=>Kn(P.bind(w))):xn&&Kn(xn.bind(w))}if(ft(ep,me),ft(lo,ie),ft(PQ,oe),ft(NQ,he),ft(BQ,Q),ft($Q,Ct),ft(FQ,Nt),ft(LQ,Xt),ft(zQ,mn),ft(BP,rt),ft(TH,tt),ft(IQ,Cn),Ar(Qt))if(Qt.length){const Kn=d.exposed||(d.exposed={});Qt.forEach(xn=>{Object.defineProperty(Kn,xn,{get:()=>w[xn],set:P=>w[xn]=P})})}else d.exposed||(d.exposed={});He&&d.render===Hm&&(d.render=He),Eo!=null&&(d.inheritAttrs=Eo),Ce&&(d.components=Ce),Y&&(d.directives=Y)}function jQ(d,m,w=Hm){Ar(d)&&(d=rH(d));for(const S in d){const E=d[S];let O;ei(E)?"default"in E?O=Wm(E.from||S,E.default,!0):O=Wm(E.from||S):O=Wm(E),Ul(O)?Object.defineProperty(m,S,{enumerable:!0,configurable:!0,get:()=>O.value,set:B=>O.value=B}):m[S]=O}}function mU(d,m,w){Vm(Ar(d)?d.map(S=>S.bind(m.proxy)):d.bind(m.proxy),m,w)}function WW(d,m,w,S){const E=S.includes(".")?zW(w,S):()=>w[S];if(gs(d)){const O=m[d];sa(O)&&Um(E,O)}else if(sa(d))Um(E,d.bind(w));else if(ei(d))if(Ar(d))d.forEach(O=>WW(O,m,w,S));else{const O=sa(d.handler)?d.handler.bind(w):m[d.handler];sa(O)&&Um(E,O,d)}}function OH(d){const m=d.type,{mixins:w,extends:S}=m,{mixins:E,optionsCache:O,config:{optionMergeStrategies:B}}=d.appContext,I=O.get(m);let G;return I?G=I:!E.length&&!w&&!S?G=m:(G={},E.length&&E.forEach(ee=>lP(G,ee,B,!0)),lP(G,m,B)),ei(m)&&O.set(m,G),G}function lP(d,m,w,S=!1){const{mixins:E,extends:O}=m;O&&lP(d,O,w,!0),E&&E.forEach(B=>lP(d,B,w,!0));for(const B in m)if(!(S&&B==="expose")){const I=GQ[B]||w&&w[B];d[B]=I?I(d[B],m[B]):m[B]}return d}const GQ={data:hU,props:gU,emits:gU,methods:lD,computed:lD,beforeCreate:Ec,created:Ec,beforeMount:Ec,mounted:Ec,beforeUpdate:Ec,updated:Ec,beforeDestroy:Ec,beforeUnmount:Ec,destroyed:Ec,unmounted:Ec,activated:Ec,deactivated:Ec,errorCaptured:Ec,serverPrefetch:Ec,components:lD,directives:lD,watch:KQ,provide:hU,inject:qQ};function hU(d,m){return m?d?function(){return Vs(sa(d)?d.call(this,this):d,sa(m)?m.call(this,this):m)}:m:d}function qQ(d,m){return lD(rH(d),rH(m))}function rH(d){if(Ar(d)){const m={};for(let w=0;w<d.length;w++)m[d[w]]=d[w];return m}return d}function Ec(d,m){return d?[...new Set([].concat(d,m))]:m}function lD(d,m){return d?Vs(Object.create(null),d,m):m}function gU(d,m){return d?Ar(d)&&Ar(m)?[...new Set([...d,...m])]:Vs(Object.create(null),dU(d),dU(m??{})):m}function KQ(d,m){if(!d)return m;if(!m)return d;const w=Vs(Object.create(null),d);for(const S in m)w[S]=Ec(d[S],m[S]);return w}function jW(){return{app:null,config:{isNativeTag:kZ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let XQ=0;function YQ(d,m){return function(S,E=null){sa(S)||(S=Vs({},S)),E!=null&&!ei(E)&&(E=null);const O=jW(),B=new Set;let I=!1;const G=O.app={_uid:XQ++,_component:S,_props:E,_container:null,_context:O,_instance:null,version:Cee,get config(){return O.config},set config(ee){},use(ee,...ae){return B.has(ee)||(ee&&sa(ee.install)?(B.add(ee),ee.install(G,...ae)):sa(ee)&&(B.add(ee),ee(G,...ae))),G},mixin(ee){return O.mixins.includes(ee)||O.mixins.push(ee),G},component(ee,ae){return ae?(O.components[ee]=ae,G):O.components[ee]},directive(ee,ae){return ae?(O.directives[ee]=ae,G):O.directives[ee]},mount(ee,ae,me){if(!I){const ie=_t(S,E);return ie.appContext=O,ae&&m?m(ie,ee):d(ie,ee,me),I=!0,G._container=ee,ee.__vue_app__=G,PP(ie.component)||ie.component.proxy}},unmount(){I&&(d(null,G._container),delete G._container.__vue_app__)},provide(ee,ae){return O.provides[ee]=ae,G},runWithContext(ee){cP=G;try{return ee()}finally{cP=null}}};return G}}let cP=null;function QM(d,m){if(dl){let w=dl.provides;const S=dl.parent&&dl.parent.provides;S===w&&(w=dl.provides=Object.create(S)),w[d]=m}}function Wm(d,m,w=!1){const S=dl||Wl;if(S||cP){const E=S?S.parent==null?S.vnode.appContext&&S.vnode.appContext.provides:S.parent.provides:cP._context.provides;if(E&&d in E)return E[d];if(arguments.length>1)return w&&sa(m)?m.call(S&&S.proxy):m}}function JQ(d,m,w,S=!1){const E={},O={};oP(O,MP,1),d.propsDefaults=Object.create(null),GW(d,m,E,O);for(const B in d.propsOptions[0])B in E||(E[B]=void 0);w?d.props=S?E:_W(E):d.type.props?d.props=E:d.props=O,d.attrs=O}function ZQ(d,m,w,S){const{props:E,attrs:O,vnode:{patchFlag:B}}=d,I=so(E),[G]=d.propsOptions;let ee=!1;if((S||B>0)&&!(B&16)){if(B&8){const ae=d.vnode.dynamicProps;for(let me=0;me<ae.length;me++){let ie=ae[me];if(EP(d.emitsOptions,ie))continue;const oe=m[ie];if(G)if(ja(O,ie))oe!==O[ie]&&(O[ie]=oe,ee=!0);else{const he=Qg(ie);E[he]=aH(G,I,he,oe,d,!1)}else oe!==O[ie]&&(O[ie]=oe,ee=!0)}}}else{GW(d,m,E,O)&&(ee=!0);let ae;for(const me in I)(!m||!ja(m,me)&&((ae=$S(me))===me||!ja(m,ae)))&&(G?w&&(w[me]!==void 0||w[ae]!==void 0)&&(E[me]=aH(G,I,me,void 0,d,!0)):delete E[me]);if(O!==I)for(const me in O)(!m||!ja(m,me))&&(delete O[me],ee=!0)}ee&&Q1(d,"set","$attrs")}function GW(d,m,w,S){const[E,O]=d.propsOptions;let B=!1,I;if(m)for(let G in m){if(JM(G))continue;const ee=m[G];let ae;E&&ja(E,ae=Qg(G))?!O||!O.includes(ae)?w[ae]=ee:(I||(I={}))[ae]=ee:EP(d.emitsOptions,G)||(!(G in S)||ee!==S[G])&&(S[G]=ee,B=!0)}if(O){const G=so(w),ee=I||pi;for(let ae=0;ae<O.length;ae++){const me=O[ae];w[me]=aH(E,G,me,ee[me],d,!ja(ee,me))}}return B}function aH(d,m,w,S,E,O){const B=d[w];if(B!=null){const I=ja(B,"default");if(I&&S===void 0){const G=B.default;if(B.type!==Function&&!B.skipFactory&&sa(G)){const{propsDefaults:ee}=E;w in ee?S=ee[w]:(rE(E),S=ee[w]=G.call(null,m),BS())}else S=G}B[0]&&(O&&!I?S=!1:B[1]&&(S===""||S===$S(w))&&(S=!0))}return S}function qW(d,m,w=!1){const S=m.propsCache,E=S.get(d);if(E)return E;const O=d.props,B={},I=[];let G=!1;if(!sa(d)){const ae=me=>{G=!0;const[ie,oe]=qW(me,m,!0);Vs(B,ie),oe&&I.push(...oe)};!w&&m.mixins.length&&m.mixins.forEach(ae),d.extends&&ae(d.extends),d.mixins&&d.mixins.forEach(ae)}if(!O&&!G)return ei(d)&&S.set(d,JA),JA;if(Ar(O))for(let ae=0;ae<O.length;ae++){const me=Qg(O[ae]);pU(me)&&(B[me]=pi)}else if(O)for(const ae in O){const me=Qg(ae);if(pU(me)){const ie=O[ae],oe=B[me]=Ar(ie)||sa(ie)?{type:ie}:Vs({},ie);if(oe){const he=wU(Boolean,oe.type),Q=wU(String,oe.type);oe[0]=he>-1,oe[1]=Q<0||he<Q,(he>-1||ja(oe,"default"))&&I.push(me)}}}const ee=[B,I];return ei(d)&&S.set(d,ee),ee}function pU(d){return d[0]!=="$"}function bU(d){const m=d&&d.toString().match(/^\s*(function|class) (\w+)/);return m?m[2]:d===null?"null":""}function yU(d,m){return bU(d)===bU(m)}function wU(d,m){return Ar(m)?m.findIndex(w=>yU(w,d)):sa(m)&&yU(m,d)?0:-1}const KW=d=>d[0]==="_"||d==="$stable",DH=d=>Ar(d)?d.map(Jg):[Jg(d)],QQ=(d,m,w)=>{if(m._n)return m;const S=Jt((...E)=>DH(m(...E)),w);return S._c=!1,S},XW=(d,m,w)=>{const S=d._ctx;for(const E in d){if(KW(E))continue;const O=d[E];if(sa(O))m[E]=QQ(E,O,S);else if(O!=null){const B=DH(O);m[E]=()=>B}}},YW=(d,m)=>{const w=DH(m);d.slots.default=()=>w},eee=(d,m)=>{if(d.vnode.shapeFlag&32){const w=m._;w?(d.slots=so(m),oP(m,"_",w)):XW(m,d.slots={})}else d.slots={},m&&YW(d,m);oP(d.slots,MP,1)},tee=(d,m,w)=>{const{vnode:S,slots:E}=d;let O=!0,B=pi;if(S.shapeFlag&32){const I=m._;I?w&&I===1?O=!1:(Vs(E,m),!w&&I===1&&delete E._):(O=!m.$stable,XW(m,E)),B=m}else m&&(YW(d,m),B={default:1});if(O)for(const I in E)!KW(I)&&!(I in B)&&delete E[I]};function oH(d,m,w,S,E=!1){if(Ar(d)){d.forEach((ie,oe)=>oH(ie,m&&(Ar(m)?m[oe]:m),w,S,E));return}if(cD(S)&&!E)return;const O=S.shapeFlag&4?PP(S.component)||S.component.proxy:S.el,B=E?null:O,{i:I,r:G}=d,ee=m&&m.r,ae=I.refs===pi?I.refs={}:I.refs,me=I.setupState;if(ee!=null&&ee!==G&&(gs(ee)?(ae[ee]=null,ja(me,ee)&&(me[ee]=null)):Ul(ee)&&(ee.value=null)),sa(G))Gy(G,I,12,[B,ae]);else{const ie=gs(G),oe=Ul(G);if(ie||oe){const he=()=>{if(d.f){const Q=ie?ja(me,G)?me[G]:ae[G]:G.value;E?Ar(Q)&&gH(Q,O):Ar(Q)?Q.includes(O)||Q.push(O):ie?(ae[G]=[O],ja(me,G)&&(me[G]=ae[G])):(G.value=[O],d.k&&(ae[d.k]=G.value))}else ie?(ae[G]=B,ja(me,G)&&(me[G]=B)):oe&&(G.value=B,d.k&&(ae[d.k]=B))};B?(he.id=-1,Cf(he,w)):he()}}}const Cf=DQ;function nee(d){return ree(d)}function ree(d,m){const w=K7();w.__VUE__=!0;const{insert:S,remove:E,patchProp:O,createElement:B,createText:I,createComment:G,setText:ee,setElementText:ae,parentNode:me,nextSibling:ie,setScopeId:oe=Hm,insertStaticContent:he}=d,Q=(ye,pe,Fe,je=null,Be=null,bt=null,on=!1,Qe=null,qt=!!pe.dynamicChildren)=>{if(ye===pe)return;ye&&!oD(ye,pe)&&(je=K(ye),en(ye,Be,bt,!0),ye=null),pe.patchFlag===-2&&(qt=!1,pe.dynamicChildren=null);const{type:Et,ref:Rt,shapeFlag:sn}=pe;switch(Et){case $P:Ct(ye,pe,Fe,je);break;case Ky:Me(ye,pe,Fe,je);break;case z7:ye==null&&rt(pe,Fe,je,on);break;case Or:Ce(ye,pe,Fe,je,Be,bt,on,Qe,qt);break;default:sn&1?He(ye,pe,Fe,je,Be,bt,on,Qe,qt):sn&6?Y(ye,pe,Fe,je,Be,bt,on,Qe,qt):(sn&64||sn&128)&&Et.process(ye,pe,Fe,je,Be,bt,on,Qe,qt,Ne)}Rt!=null&&Be&&oH(Rt,ye&&ye.ref,bt,pe||ye,!pe)},Ct=(ye,pe,Fe,je)=>{if(ye==null)S(pe.el=I(pe.children),Fe,je);else{const Be=pe.el=ye.el;pe.children!==ye.children&&ee(Be,pe.children)}},Me=(ye,pe,Fe,je)=>{ye==null?S(pe.el=G(pe.children||""),Fe,je):pe.el=ye.el},rt=(ye,pe,Fe,je)=>{[ye.el,ye.anchor]=he(ye.children,pe,Fe,je,ye.el,ye.anchor)},ve=({el:ye,anchor:pe},Fe,je)=>{let Be;for(;ye&&ye!==pe;)Be=ie(ye),S(ye,Fe,je),ye=Be;S(pe,Fe,je)},tt=({el:ye,anchor:pe})=>{let Fe;for(;ye&&ye!==pe;)Fe=ie(ye),E(ye),ye=Fe;E(pe)},He=(ye,pe,Fe,je,Be,bt,on,Qe,qt)=>{on=on||pe.type==="svg",ye==null?Xt(pe,Fe,je,Be,bt,on,Qe,qt):Cn(ye,pe,Be,bt,on,Qe,qt)},Xt=(ye,pe,Fe,je,Be,bt,on,Qe)=>{let qt,Et;const{type:Rt,props:sn,shapeFlag:Pn,transition:or,dirs:gr}=ye;if(qt=ye.el=B(ye.type,bt,sn&&sn.is,sn),Pn&8?ae(qt,ye.children):Pn&16&&Nt(ye.children,qt,null,je,Be,bt&&Rt!=="foreignObject",on,Qe),gr&&_S(ye,null,je,"created"),mn(qt,ye,ye.scopeId,on,je),sn){for(const Er in sn)Er!=="value"&&!JM(Er)&&O(qt,Er,null,sn[Er],bt,ye.children,je,Be,Fr);"value"in sn&&O(qt,"value",null,sn.value),(Et=sn.onVnodeBeforeMount)&&Yg(Et,je,ye)}gr&&_S(ye,null,je,"beforeMount");const na=(!Be||Be&&!Be.pendingBranch)&&or&&!or.persisted;na&&or.beforeEnter(qt),S(qt,pe,Fe),((Et=sn&&sn.onVnodeMounted)||na||gr)&&Cf(()=>{Et&&Yg(Et,je,ye),na&&or.enter(qt),gr&&_S(ye,null,je,"mounted")},Be)},mn=(ye,pe,Fe,je,Be)=>{if(Fe&&oe(ye,Fe),je)for(let bt=0;bt<je.length;bt++)oe(ye,je[bt]);if(Be){let bt=Be.subTree;if(pe===bt){const on=Be.vnode;mn(ye,on,on.scopeId,on.slotScopeIds,Be.parent)}}},Nt=(ye,pe,Fe,je,Be,bt,on,Qe,qt=0)=>{for(let Et=qt;Et<ye.length;Et++){const Rt=ye[Et]=Qe?Uy(ye[Et]):Jg(ye[Et]);Q(null,Rt,pe,Fe,je,Be,bt,on,Qe)}},Cn=(ye,pe,Fe,je,Be,bt,on)=>{const Qe=pe.el=ye.el;let{patchFlag:qt,dynamicChildren:Et,dirs:Rt}=pe;qt|=ye.patchFlag&16;const sn=ye.props||pi,Pn=pe.props||pi;let or;Fe&&kS(Fe,!1),(or=Pn.onVnodeBeforeUpdate)&&Yg(or,Fe,pe,ye),Rt&&_S(pe,ye,Fe,"beforeUpdate"),Fe&&kS(Fe,!0);const gr=Be&&pe.type!=="foreignObject";if(Et?Qt(ye.dynamicChildren,Et,Qe,Fe,je,gr,bt):on||xn(ye,pe,Qe,null,Fe,je,gr,bt,!1),qt>0){if(qt&16)Eo(Qe,pe,sn,Pn,Fe,je,Be);else if(qt&2&&sn.class!==Pn.class&&O(Qe,"class",null,Pn.class,Be),qt&4&&O(Qe,"style",sn.style,Pn.style,Be),qt&8){const na=pe.dynamicProps;for(let Er=0;Er<na.length;Er++){const Aa=na[Er],ti=sn[Aa],Pa=Pn[Aa];(Pa!==ti||Aa==="value")&&O(Qe,Aa,ti,Pa,Be,ye.children,Fe,je,Fr)}}qt&1&&ye.children!==pe.children&&ae(Qe,pe.children)}else!on&&Et==null&&Eo(Qe,pe,sn,Pn,Fe,je,Be);((or=Pn.onVnodeUpdated)||Rt)&&Cf(()=>{or&&Yg(or,Fe,pe,ye),Rt&&_S(pe,ye,Fe,"updated")},je)},Qt=(ye,pe,Fe,je,Be,bt,on)=>{for(let Qe=0;Qe<pe.length;Qe++){const qt=ye[Qe],Et=pe[Qe],Rt=qt.el&&(qt.type===Or||!oD(qt,Et)||qt.shapeFlag&70)?me(qt.el):Fe;Q(qt,Et,Rt,null,je,Be,bt,on,!0)}},Eo=(ye,pe,Fe,je,Be,bt,on)=>{if(Fe!==je){if(Fe!==pi)for(const Qe in Fe)!JM(Qe)&&!(Qe in je)&&O(ye,Qe,Fe[Qe],null,on,pe.children,Be,bt,Fr);for(const Qe in je){if(JM(Qe))continue;const qt=je[Qe],Et=Fe[Qe];qt!==Et&&Qe!=="value"&&O(ye,Qe,Et,qt,on,pe.children,Be,bt,Fr)}"value"in je&&O(ye,"value",Fe.value,je.value)}},Ce=(ye,pe,Fe,je,Be,bt,on,Qe,qt)=>{const Et=pe.el=ye?ye.el:I(""),Rt=pe.anchor=ye?ye.anchor:I("");let{patchFlag:sn,dynamicChildren:Pn,slotScopeIds:or}=pe;or&&(Qe=Qe?Qe.concat(or):or),ye==null?(S(Et,Fe,je),S(Rt,Fe,je),Nt(pe.children,Fe,Rt,Be,bt,on,Qe,qt)):sn>0&&sn&64&&Pn&&ye.dynamicChildren?(Qt(ye.dynamicChildren,Pn,Fe,Be,bt,on,Qe),(pe.key!=null||Be&&pe===Be.subTree)&&JW(ye,pe,!0)):xn(ye,pe,Fe,Rt,Be,bt,on,Qe,qt)},Y=(ye,pe,Fe,je,Be,bt,on,Qe,qt)=>{pe.slotScopeIds=Qe,ye==null?pe.shapeFlag&512?Be.ctx.activate(pe,Fe,je,on,qt):Ht(pe,Fe,je,Be,bt,on,qt):_r(ye,pe,qt)},Ht=(ye,pe,Fe,je,Be,bt,on)=>{const Qe=ye.component=vee(ye,je,Be);if(FW(ye)&&(Qe.ctx.renderer=Ne),dee(Qe),Qe.asyncDep){if(Be&&Be.registerDep(Qe,ft),!ye.el){const qt=Qe.subTree=_t(Ky);Me(null,qt,pe,Fe)}return}ft(Qe,ye,pe,Fe,Be,bt,on)},_r=(ye,pe,Fe)=>{const je=pe.component=ye.component;if(EQ(ye,pe,Fe))if(je.asyncDep&&!je.asyncResolved){Kn(je,pe,Fe);return}else je.next=pe,CQ(je.update),je.update();else pe.el=ye.el,je.vnode=pe},ft=(ye,pe,Fe,je,Be,bt,on)=>{const Qe=()=>{if(ye.isMounted){let{next:Rt,bu:sn,u:Pn,parent:or,vnode:gr}=ye,na=Rt,Er;kS(ye,!1),Rt?(Rt.el=gr.el,Kn(ye,Rt,on)):Rt=gr,sn&&ZM(sn),(Er=Rt.props&&Rt.props.onVnodeBeforeUpdate)&&Yg(Er,or,Rt,gr),kS(ye,!0);const Aa=N7(ye),ti=ye.subTree;ye.subTree=Aa,Q(ti,Aa,me(ti.el),K(ti),ye,Be,bt),Rt.el=Aa.el,na===null&&TQ(ye,Aa.el),Pn&&Cf(Pn,Be),(Er=Rt.props&&Rt.props.onVnodeUpdated)&&Cf(()=>Yg(Er,or,Rt,gr),Be)}else{let Rt;const{el:sn,props:Pn}=pe,{bm:or,m:gr,parent:na}=ye,Er=cD(pe);if(kS(ye,!1),or&&ZM(or),!Er&&(Rt=Pn&&Pn.onVnodeBeforeMount)&&Yg(Rt,na,pe),kS(ye,!0),sn&&Dr){const Aa=()=>{ye.subTree=N7(ye),Dr(sn,ye.subTree,ye,Be,null)};Er?pe.type.__asyncLoader().then(()=>!ye.isUnmounted&&Aa()):Aa()}else{const Aa=ye.subTree=N7(ye);Q(null,Aa,Fe,je,ye,Be,bt),pe.el=Aa.el}if(gr&&Cf(gr,Be),!Er&&(Rt=Pn&&Pn.onVnodeMounted)){const Aa=pe;Cf(()=>Yg(Rt,na,Aa),Be)}(pe.shapeFlag&256||na&&cD(na.vnode)&&na.vnode.shapeFlag&256)&&ye.a&&Cf(ye.a,Be),ye.isMounted=!0,pe=Fe=je=null}},qt=ye.effect=new yH(Qe,()=>EH(Et),ye.scope),Et=ye.update=()=>qt.run();Et.id=ye.uid,kS(ye,!0),Et()},Kn=(ye,pe,Fe)=>{pe.component=ye;const je=ye.vnode.props;ye.vnode=pe,ye.next=null,ZQ(ye,pe.props,je,Fe),tee(ye,pe.children,Fe),uE(),cU(),sE()},xn=(ye,pe,Fe,je,Be,bt,on,Qe,qt=!1)=>{const Et=ye&&ye.children,Rt=ye?ye.shapeFlag:0,sn=pe.children,{patchFlag:Pn,shapeFlag:or}=pe;if(Pn>0){if(Pn&128){ta(Et,sn,Fe,je,Be,bt,on,Qe,qt);return}else if(Pn&256){P(Et,sn,Fe,je,Be,bt,on,Qe,qt);return}}or&8?(Rt&16&&Fr(Et,Be,bt),sn!==Et&&ae(Fe,sn)):Rt&16?or&16?ta(Et,sn,Fe,je,Be,bt,on,Qe,qt):Fr(Et,Be,bt,!0):(Rt&8&&ae(Fe,""),or&16&&Nt(sn,Fe,je,Be,bt,on,Qe,qt))},P=(ye,pe,Fe,je,Be,bt,on,Qe,qt)=>{ye=ye||JA,pe=pe||JA;const Et=ye.length,Rt=pe.length,sn=Math.min(Et,Rt);let Pn;for(Pn=0;Pn<sn;Pn++){const or=pe[Pn]=qt?Uy(pe[Pn]):Jg(pe[Pn]);Q(ye[Pn],or,Fe,null,Be,bt,on,Qe,qt)}Et>Rt?Fr(ye,Be,bt,!0,!1,sn):Nt(pe,Fe,je,Be,bt,on,Qe,qt,sn)},ta=(ye,pe,Fe,je,Be,bt,on,Qe,qt)=>{let Et=0;const Rt=pe.length;let sn=ye.length-1,Pn=Rt-1;for(;Et<=sn&&Et<=Pn;){const or=ye[Et],gr=pe[Et]=qt?Uy(pe[Et]):Jg(pe[Et]);if(oD(or,gr))Q(or,gr,Fe,null,Be,bt,on,Qe,qt);else break;Et++}for(;Et<=sn&&Et<=Pn;){const or=ye[sn],gr=pe[Pn]=qt?Uy(pe[Pn]):Jg(pe[Pn]);if(oD(or,gr))Q(or,gr,Fe,null,Be,bt,on,Qe,qt);else break;sn--,Pn--}if(Et>sn){if(Et<=Pn){const or=Pn+1,gr=or<Rt?pe[or].el:je;for(;Et<=Pn;)Q(null,pe[Et]=qt?Uy(pe[Et]):Jg(pe[Et]),Fe,gr,Be,bt,on,Qe,qt),Et++}}else if(Et>Pn)for(;Et<=sn;)en(ye[Et],Be,bt,!0),Et++;else{const or=Et,gr=Et,na=new Map;for(Et=gr;Et<=Pn;Et++){const mr=pe[Et]=qt?Uy(pe[Et]):Jg(pe[Et]);mr.key!=null&&na.set(mr.key,Et)}let Er,Aa=0;const ti=Pn-gr+1;let Pa=!1,Ea=0;const to=new Array(ti);for(Et=0;Et<ti;Et++)to[Et]=0;for(Et=or;Et<=sn;Et++){const mr=ye[Et];if(Aa>=ti){en(mr,Be,bt,!0);continue}let no;if(mr.key!=null)no=na.get(mr.key);else for(Er=gr;Er<=Pn;Er++)if(to[Er-gr]===0&&oD(mr,pe[Er])){no=Er;break}no===void 0?en(mr,Be,bt,!0):(to[no-gr]=Et+1,no>=Ea?Ea=no:Pa=!0,Q(mr,pe[no],Fe,null,Be,bt,on,Qe,qt),Aa++)}const Sa=Pa?aee(to):JA;for(Er=Sa.length-1,Et=ti-1;Et>=0;Et--){const mr=gr+Et,no=pe[mr],ku=mr+1<Rt?pe[mr+1].el:je;to[Et]===0?Q(null,no,Fe,ku,Be,bt,on,Qe,qt):Pa&&(Er<0||Et!==Sa[Er]?Dt(no,Fe,ku,2):Er--)}}},Dt=(ye,pe,Fe,je,Be=null)=>{const{el:bt,type:on,transition:Qe,children:qt,shapeFlag:Et}=ye;if(Et&6){Dt(ye.component.subTree,pe,Fe,je);return}if(Et&128){ye.suspense.move(pe,Fe,je);return}if(Et&64){on.move(ye,pe,Fe,Ne);return}if(on===Or){S(bt,pe,Fe);for(let sn=0;sn<qt.length;sn++)Dt(qt[sn],pe,Fe,je);S(ye.anchor,pe,Fe);return}if(on===z7){ve(ye,pe,Fe);return}if(je!==2&&Et&1&&Qe)if(je===0)Qe.beforeEnter(bt),S(bt,pe,Fe),Cf(()=>Qe.enter(bt),Be);else{const{leave:sn,delayLeave:Pn,afterLeave:or}=Qe,gr=()=>S(bt,pe,Fe),na=()=>{sn(bt,()=>{gr(),or&&or()})};Pn?Pn(bt,gr,na):na()}else S(bt,pe,Fe)},en=(ye,pe,Fe,je=!1,Be=!1)=>{const{type:bt,props:on,ref:Qe,children:qt,dynamicChildren:Et,shapeFlag:Rt,patchFlag:sn,dirs:Pn}=ye;if(Qe!=null&&oH(Qe,null,Fe,ye,!0),Rt&256){pe.ctx.deactivate(ye);return}const or=Rt&1&&Pn,gr=!cD(ye);let na;if(gr&&(na=on&&on.onVnodeBeforeUnmount)&&Yg(na,pe,ye),Rt&6)nr(ye.component,Fe,je);else{if(Rt&128){ye.suspense.unmount(Fe,je);return}or&&_S(ye,null,pe,"beforeUnmount"),Rt&64?ye.type.remove(ye,pe,Fe,Be,Ne,je):Et&&(bt!==Or||sn>0&&sn&64)?Fr(Et,pe,Fe,!1,!0):(bt===Or&&sn&384||!Be&&Rt&16)&&Fr(qt,pe,Fe),je&&Mi(ye)}(gr&&(na=on&&on.onVnodeUnmounted)||or)&&Cf(()=>{na&&Yg(na,pe,ye),or&&_S(ye,null,pe,"unmounted")},Fe)},Mi=ye=>{const{type:pe,el:Fe,anchor:je,transition:Be}=ye;if(pe===Or){Xi(Fe,je);return}if(pe===z7){tt(ye);return}const bt=()=>{E(Fe),Be&&!Be.persisted&&Be.afterLeave&&Be.afterLeave()};if(ye.shapeFlag&1&&Be&&!Be.persisted){const{leave:on,delayLeave:Qe}=Be,qt=()=>on(Fe,bt);Qe?Qe(ye.el,bt,qt):qt()}else bt()},Xi=(ye,pe)=>{let Fe;for(;ye!==pe;)Fe=ie(ye),E(ye),ye=Fe;E(pe)},nr=(ye,pe,Fe)=>{const{bum:je,scope:Be,update:bt,subTree:on,um:Qe}=ye;je&&ZM(je),Be.stop(),bt&&(bt.active=!1,en(on,ye,pe,Fe)),Qe&&Cf(Qe,pe),Cf(()=>{ye.isUnmounted=!0},pe),pe&&pe.pendingBranch&&!pe.isUnmounted&&ye.asyncDep&&!ye.asyncResolved&&ye.suspenseId===pe.pendingId&&(pe.deps--,pe.deps===0&&pe.resolve())},Fr=(ye,pe,Fe,je=!1,Be=!1,bt=0)=>{for(let on=bt;on<ye.length;on++)en(ye[on],pe,Fe,je,Be)},K=ye=>ye.shapeFlag&6?K(ye.component.subTree):ye.shapeFlag&128?ye.suspense.next():ie(ye.anchor||ye.el),En=(ye,pe,Fe)=>{ye==null?pe._vnode&&en(pe._vnode,null,null,!0):Q(pe._vnode||null,ye,pe,null,null,null,Fe),cU(),MW(),pe._vnode=ye},Ne={p:Q,um:en,m:Dt,r:Mi,mt:Ht,mc:Nt,pc:xn,pbc:Qt,n:K,o:d};let yt,Dr;return m&&([yt,Dr]=m(Ne)),{render:En,hydrate:yt,createApp:YQ(En,yt)}}function kS({effect:d,update:m},w){d.allowRecurse=m.allowRecurse=w}function JW(d,m,w=!1){const S=d.children,E=m.children;if(Ar(S)&&Ar(E))for(let O=0;O<S.length;O++){const B=S[O];let I=E[O];I.shapeFlag&1&&!I.dynamicChildren&&((I.patchFlag<=0||I.patchFlag===32)&&(I=E[O]=Uy(E[O]),I.el=B.el),w||JW(B,I)),I.type===$P&&(I.el=B.el)}}function aee(d){const m=d.slice(),w=[0];let S,E,O,B,I;const G=d.length;for(S=0;S<G;S++){const ee=d[S];if(ee!==0){if(E=w[w.length-1],d[E]<ee){m[S]=E,w.push(S);continue}for(O=0,B=w.length-1;O<B;)I=O+B>>1,d[w[I]]<ee?O=I+1:B=I;ee<d[w[O]]&&(O>0&&(m[S]=w[O-1]),w[O]=S)}}for(O=w.length,B=w[O-1];O-- >0;)w[O]=B,B=m[B];return w}const oee=d=>d.__isTeleport,Or=Symbol.for("v-fgt"),$P=Symbol.for("v-txt"),Ky=Symbol.for("v-cmt"),z7=Symbol.for("v-stc"),vD=[];let Lm=null;function Ve(d=!1){vD.push(Lm=d?null:[])}function iee(){vD.pop(),Lm=vD[vD.length-1]||null}let wD=1;function CU(d){wD+=d}function ZW(d){return d.dynamicChildren=wD>0?Lm||JA:null,iee(),wD>0&&Lm&&Lm.push(d),d}function Ze(d,m,w,S,E,O){return ZW(U(d,m,w,S,E,O,!0))}function _d(d,m,w,S,E){return ZW(_t(d,m,w,S,E,!0))}function fP(d){return d?d.__v_isVNode===!0:!1}function oD(d,m){return d.type===m.type&&d.key===m.key}const MP="__vInternal",QW=({key:d})=>d??null,eP=({ref:d,ref_key:m,ref_for:w})=>(typeof d=="number"&&(d=""+d),d!=null?gs(d)||Ul(d)||sa(d)?{i:Wl,r:d,k:m,f:!!w}:d:null);function U(d,m=null,w=null,S=0,E=null,O=d===Or?0:1,B=!1,I=!1){const G={__v_isVNode:!0,__v_skip:!0,type:d,props:m,key:m&&QW(m),ref:m&&eP(m),scopeId:TP,slotScopeIds:null,children:w,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:O,patchFlag:S,dynamicProps:E,dynamicChildren:null,appContext:null,ctx:Wl};return I?(RH(G,w),O&128&&d.normalize(G)):w&&(G.shapeFlag|=gs(w)?8:16),wD>0&&!B&&Lm&&(G.patchFlag>0||O&6)&&G.patchFlag!==32&&Lm.push(G),G}const _t=uee;function uee(d,m=null,w=null,S=0,E=null,O=!1){if((!d||d===HQ)&&(d=Ky),fP(d)){const I=nE(d,m,!0);return w&&RH(I,w),wD>0&&!O&&Lm&&(I.shapeFlag&6?Lm[Lm.indexOf(d)]=I:Lm.push(I)),I.patchFlag|=-2,I}if(bee(d)&&(d=d.__vccOpts),m){m=see(m);let{class:I,style:G}=m;I&&!gs(I)&&(m.class=SP(I)),ei(G)&&(AW(G)&&!Ar(G)&&(G=Vs({},G)),m.style=CP(G))}const B=gs(d)?1:OQ(d)?128:oee(d)?64:ei(d)?4:sa(d)?2:0;return U(d,m,w,S,E,B,O,!0)}function see(d){return d?AW(d)||MP in d?Vs({},d):d:null}function nE(d,m,w=!1){const{props:S,ref:E,patchFlag:O,children:B}=d,I=m?lee(S||{},m):S;return{__v_isVNode:!0,__v_skip:!0,type:d.type,props:I,key:I&&QW(I),ref:m&&m.ref?w&&E?Ar(E)?E.concat(eP(m)):[E,eP(m)]:eP(m):E,scopeId:d.scopeId,slotScopeIds:d.slotScopeIds,children:B,target:d.target,targetAnchor:d.targetAnchor,staticCount:d.staticCount,shapeFlag:d.shapeFlag,patchFlag:m&&d.type!==Or?O===-1?16:O|16:O,dynamicProps:d.dynamicProps,dynamicChildren:d.dynamicChildren,appContext:d.appContext,dirs:d.dirs,transition:d.transition,component:d.component,suspense:d.suspense,ssContent:d.ssContent&&nE(d.ssContent),ssFallback:d.ssFallback&&nE(d.ssFallback),el:d.el,anchor:d.anchor,ctx:d.ctx,ce:d.ce}}function Tr(d=" ",m=0){return _t($P,null,d,m)}function Lr(d="",m=!1){return m?(Ve(),_d(Ky,null,d)):_t(Ky,null,d)}function Jg(d){return d==null||typeof d=="boolean"?_t(Ky):Ar(d)?_t(Or,null,d.slice()):typeof d=="object"?Uy(d):_t($P,null,String(d))}function Uy(d){return d.el===null&&d.patchFlag!==-1||d.memo?d:nE(d)}function RH(d,m){let w=0;const{shapeFlag:S}=d;if(m==null)m=null;else if(Ar(m))w=16;else if(typeof m=="object")if(S&65){const E=m.default;E&&(E._c&&(E._d=!1),RH(d,E()),E._c&&(E._d=!0));return}else{w=32;const E=m._;!E&&!(MP in m)?m._ctx=Wl:E===3&&Wl&&(Wl.slots._===1?m._=1:(m._=2,d.patchFlag|=1024))}else sa(m)?(m={default:m,_ctx:Wl},w=32):(m=String(m),S&64?(w=16,m=[Tr(m)]):w=8);d.children=m,d.shapeFlag|=w}function lee(...d){const m={};for(let w=0;w<d.length;w++){const S=d[w];for(const E in S)if(E==="class")m.class!==S.class&&(m.class=SP([m.class,S.class]));else if(E==="style")m.style=CP([m.style,S.style]);else if(pP(E)){const O=m[E],B=S[E];B&&O!==B&&!(Ar(O)&&O.includes(B))&&(m[E]=O?[].concat(O,B):B)}else E!==""&&(m[E]=S[E])}return m}function Yg(d,m,w,S=null){Vm(d,m,7,[w,S])}const cee=jW();let fee=0;function vee(d,m,w){const S=d.type,E=(m?m.appContext:d.appContext)||cee,O={uid:fee++,vnode:d,type:S,parent:m,appContext:E,root:null,next:null,subTree:null,effect:null,update:null,scope:new dW(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:m?m.provides:Object.create(E.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qW(S,E),emitsOptions:NW(S,E),emit:null,emitted:null,propsDefaults:pi,inheritAttrs:S.inheritAttrs,ctx:pi,data:pi,props:pi,attrs:pi,slots:pi,refs:pi,setupState:pi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:w,suspenseId:w?w.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return O.ctx={_:O},O.root=m?m.root:O,O.emit=_Q.bind(null,O),d.ce&&d.ce(O),O}let dl=null,BH,KA,SU="__VUE_INSTANCE_SETTERS__";(KA=K7()[SU])||(KA=K7()[SU]=[]),KA.push(d=>dl=d),BH=d=>{KA.length>1?KA.forEach(m=>m(d)):KA[0](d)};const rE=d=>{BH(d),d.scope.on()},BS=()=>{dl&&dl.scope.off(),BH(null)};function ej(d){return d.vnode.shapeFlag&4}let CD=!1;function dee(d,m=!1){CD=m;const{props:w,children:S}=d.vnode,E=ej(d);JQ(d,w,E,m),eee(d,S);const O=E?mee(d,m):void 0;return CD=!1,O}function mee(d,m){const w=d.type;d.accessCache=Object.create(null),d.proxy=_H(new Proxy(d.ctx,UQ));const{setup:S}=w;if(S){const E=d.setupContext=S.length>1?gee(d):null;rE(d),uE();const O=Gy(S,d,0,[d.props,E]);if(sE(),BS(),sW(O)){if(O.then(BS,BS),m)return O.then(B=>{xU(d,B,m)}).catch(B=>{AP(B,d,0)});d.asyncDep=O}else xU(d,O,m)}else tj(d,m)}function xU(d,m,w){sa(m)?d.type.__ssrInlineRender?d.ssrRender=m:d.render=m:ei(m)&&(d.setupState=DW(m)),tj(d,w)}let _U;function tj(d,m,w){const S=d.type;if(!d.render){if(!m&&_U&&!S.render){const E=S.template||OH(d).template;if(E){const{isCustomElement:O,compilerOptions:B}=d.appContext.config,{delimiters:I,compilerOptions:G}=S,ee=Vs(Vs({isCustomElement:O,delimiters:I},B),G);S.render=_U(E,ee)}}d.render=S.render||Hm}rE(d),uE(),WQ(d),sE(),BS()}function hee(d){return d.attrsProxy||(d.attrsProxy=new Proxy(d.attrs,{get(m,w){return Sf(d,"get","$attrs"),m[w]}}))}function gee(d){const m=w=>{d.exposed=w||{}};return{get attrs(){return hee(d)},slots:d.slots,emit:d.emit,expose:m}}function PP(d){if(d.exposed)return d.exposeProxy||(d.exposeProxy=new Proxy(DW(_H(d.exposed)),{get(m,w){if(w in m)return m[w];if(w in fD)return fD[w](d)},has(m,w){return w in m||w in fD}}))}function pee(d,m=!0){return sa(d)?d.displayName||d.name:d.name||m&&d.__name}function bee(d){return sa(d)&&"__vccOpts"in d}const Qo=(d,m)=>bQ(d,m,CD);function nj(d,m,w){const S=arguments.length;return S===2?ei(m)&&!Ar(m)?fP(m)?_t(d,null,[m]):_t(d,m):_t(d,null,m):(S>3?w=Array.prototype.slice.call(arguments,2):S===3&&fP(w)&&(w=[w]),_t(d,m,w))}const yee=Symbol.for("v-scx"),wee=()=>Wm(yee),Cee="3.3.4",See="http://www.w3.org/2000/svg",ES=typeof document<"u"?document:null,kU=ES&&ES.createElement("template"),xee={insert:(d,m,w)=>{m.insertBefore(d,w||null)},remove:d=>{const m=d.parentNode;m&&m.removeChild(d)},createElement:(d,m,w,S)=>{const E=m?ES.createElementNS(See,d):ES.createElement(d,w?{is:w}:void 0);return d==="select"&&S&&S.multiple!=null&&E.setAttribute("multiple",S.multiple),E},createText:d=>ES.createTextNode(d),createComment:d=>ES.createComment(d),setText:(d,m)=>{d.nodeValue=m},setElementText:(d,m)=>{d.textContent=m},parentNode:d=>d.parentNode,nextSibling:d=>d.nextSibling,querySelector:d=>ES.querySelector(d),setScopeId(d,m){d.setAttribute(m,"")},insertStaticContent(d,m,w,S,E,O){const B=w?w.previousSibling:m.lastChild;if(E&&(E===O||E.nextSibling))for(;m.insertBefore(E.cloneNode(!0),w),!(E===O||!(E=E.nextSibling)););else{kU.innerHTML=S?`<svg>${d}</svg>`:d;const I=kU.content;if(S){const G=I.firstChild;for(;G.firstChild;)I.appendChild(G.firstChild);I.removeChild(G)}m.insertBefore(I,w)}return[B?B.nextSibling:m.firstChild,w?w.previousSibling:m.lastChild]}};function _ee(d,m,w){const S=d._vtc;S&&(m=(m?[m,...S]:[...S]).join(" ")),m==null?d.removeAttribute("class"):w?d.setAttribute("class",m):d.className=m}function kee(d,m,w){const S=d.style,E=gs(w);if(w&&!E){if(m&&!gs(m))for(const O in m)w[O]==null&&iH(S,O,"");for(const O in w)iH(S,O,w[O])}else{const O=S.display;E?m!==w&&(S.cssText=w):m&&d.removeAttribute("style"),"_vod"in d&&(S.display=O)}}const AU=/\s*!important$/;function iH(d,m,w){if(Ar(w))w.forEach(S=>iH(d,m,S));else if(w==null&&(w=""),m.startsWith("--"))d.setProperty(m,w);else{const S=Aee(d,m);AU.test(w)?d.setProperty($S(S),w.replace(AU,""),"important"):d[S]=w}}const EU=["Webkit","Moz","ms"],L7={};function Aee(d,m){const w=L7[m];if(w)return w;let S=Qg(m);if(S!=="filter"&&S in d)return L7[m]=S;S=wP(S);for(let E=0;E<EU.length;E++){const O=EU[E]+S;if(O in d)return L7[m]=O}return m}const TU="http://www.w3.org/1999/xlink";function Eee(d,m,w,S,E){if(S&&m.startsWith("xlink:"))w==null?d.removeAttributeNS(TU,m.slice(6,m.length)):d.setAttributeNS(TU,m,w);else{const O=NZ(m);w==null||O&&!fW(w)?d.removeAttribute(m):d.setAttribute(m,O?"":w)}}function Tee(d,m,w,S,E,O,B){if(m==="innerHTML"||m==="textContent"){S&&B(S,E,O),d[m]=w??"";return}const I=d.tagName;if(m==="value"&&I!=="PROGRESS"&&!I.includes("-")){d._value=w;const ee=I==="OPTION"?d.getAttribute("value"):d.value,ae=w??"";ee!==ae&&(d.value=ae),w==null&&d.removeAttribute(m);return}let G=!1;if(w===""||w==null){const ee=typeof d[m];ee==="boolean"?w=fW(w):w==null&&ee==="string"?(w="",G=!0):ee==="number"&&(w=0,G=!0)}try{d[m]=w}catch{}G&&d.removeAttribute(m)}function TS(d,m,w,S){d.addEventListener(m,w,S)}function Oee(d,m,w,S){d.removeEventListener(m,w,S)}function Dee(d,m,w,S,E=null){const O=d._vei||(d._vei={}),B=O[m];if(S&&B)B.value=S;else{const[I,G]=Ree(m);if(S){const ee=O[m]=Mee(S,E);TS(d,I,ee,G)}else B&&(Oee(d,I,B,G),O[m]=void 0)}}const OU=/(?:Once|Passive|Capture)$/;function Ree(d){let m;if(OU.test(d)){m={};let S;for(;S=d.match(OU);)d=d.slice(0,d.length-S[0].length),m[S[0].toLowerCase()]=!0}return[d[2]===":"?d.slice(3):$S(d.slice(2)),m]}let F7=0;const Bee=Promise.resolve(),$ee=()=>F7||(Bee.then(()=>F7=0),F7=Date.now());function Mee(d,m){const w=S=>{if(!S._vts)S._vts=Date.now();else if(S._vts<=w.attached)return;Vm(Pee(S,w.value),m,5,[S])};return w.value=d,w.attached=$ee(),w}function Pee(d,m){if(Ar(m)){const w=d.stopImmediatePropagation;return d.stopImmediatePropagation=()=>{w.call(d),d._stopped=!0},m.map(S=>E=>!E._stopped&&S&&S(E))}else return m}const DU=/^on[a-z]/,Nee=(d,m,w,S,E=!1,O,B,I,G)=>{m==="class"?_ee(d,S,E):m==="style"?kee(d,w,S):pP(m)?hH(m)||Dee(d,m,w,S,B):(m[0]==="."?(m=m.slice(1),!0):m[0]==="^"?(m=m.slice(1),!1):Iee(d,m,S,E))?Tee(d,m,S,O,B,I,G):(m==="true-value"?d._trueValue=S:m==="false-value"&&(d._falseValue=S),Eee(d,m,S,E))};function Iee(d,m,w,S){return S?!!(m==="innerHTML"||m==="textContent"||m in d&&DU.test(m)&&sa(w)):m==="spellcheck"||m==="draggable"||m==="translate"||m==="form"||m==="list"&&d.tagName==="INPUT"||m==="type"&&d.tagName==="TEXTAREA"||DU.test(m)&&gs(w)?!1:m in d}const vP=d=>{const m=d.props["onUpdate:modelValue"]||!1;return Ar(m)?w=>ZM(m,w):m};function zee(d){d.target.composing=!0}function RU(d){const m=d.target;m.composing&&(m.composing=!1,m.dispatchEvent(new Event("input")))}const cr={created(d,{modifiers:{lazy:m,trim:w,number:S}},E){d._assign=vP(E);const O=S||E.props&&E.props.type==="number";TS(d,m?"change":"input",B=>{if(B.target.composing)return;let I=d.value;w&&(I=I.trim()),O&&(I=iP(I)),d._assign(I)}),w&&TS(d,"change",()=>{d.value=d.value.trim()}),m||(TS(d,"compositionstart",zee),TS(d,"compositionend",RU),TS(d,"change",RU))},mounted(d,{value:m}){d.value=m??""},beforeUpdate(d,{value:m,modifiers:{lazy:w,trim:S,number:E}},O){if(d._assign=vP(O),d.composing||document.activeElement===d&&d.type!=="range"&&(w||S&&d.value.trim()===m||(E||d.type==="number")&&iP(d.value)===m))return;const B=m??"";d.value!==B&&(d.value=B)}},rj={deep:!0,created(d,{value:m,modifiers:{number:w}},S){const E=bP(m);TS(d,"change",()=>{const O=Array.prototype.filter.call(d.options,B=>B.selected).map(B=>w?iP(dP(B)):dP(B));d._assign(d.multiple?E?new Set(O):O:O[0])}),d._assign=vP(S)},mounted(d,{value:m}){BU(d,m)},beforeUpdate(d,m,w){d._assign=vP(w)},updated(d,{value:m}){BU(d,m)}};function BU(d,m){const w=d.multiple;if(!(w&&!Ar(m)&&!bP(m))){for(let S=0,E=d.options.length;S<E;S++){const O=d.options[S],B=dP(O);if(w)Ar(m)?O.selected=zZ(m,B)>-1:O.selected=m.has(B);else if(xP(dP(O),m)){d.selectedIndex!==S&&(d.selectedIndex=S);return}}!w&&d.selectedIndex!==-1&&(d.selectedIndex=-1)}}function dP(d){return"_value"in d?d._value:d.value}const Lee=["ctrl","shift","alt","meta"],Fee={stop:d=>d.stopPropagation(),prevent:d=>d.preventDefault(),self:d=>d.target!==d.currentTarget,ctrl:d=>!d.ctrlKey,shift:d=>!d.shiftKey,alt:d=>!d.altKey,meta:d=>!d.metaKey,left:d=>"button"in d&&d.button!==0,middle:d=>"button"in d&&d.button!==1,right:d=>"button"in d&&d.button!==2,exact:(d,m)=>Lee.some(w=>d[`${w}Key`]&&!m.includes(w))},Hee=(d,m)=>(w,...S)=>{for(let E=0;E<m.length;E++){const O=Fee[m[E]];if(O&&O(w,m))return}return d(w,...S)},Vee={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Uee=(d,m)=>w=>{if(!("key"in w))return;const S=$S(w.key);if(m.some(E=>E===S||Vee[E]===S))return d(w)},Wee=Vs({patchProp:Nee},xee);let $U;function jee(){return $U||($U=nee(Wee))}const Gee=(...d)=>{const m=jee().createApp(...d),{mount:w}=m;return m.mount=S=>{const E=qee(S);if(!E)return;const O=m._component;!sa(O)&&!O.render&&!O.template&&(O.template=E.innerHTML),E.innerHTML="";const B=w(E,!1,E instanceof SVGElement);return E instanceof Element&&(E.removeAttribute("v-cloak"),E.setAttribute("data-v-app","")),B},m};function qee(d){return gs(d)?document.querySelector(d):d}var Kee=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const Xee=Symbol();var MU;(function(d){d.direct="direct",d.patchObject="patch object",d.patchFunction="patch function"})(MU||(MU={}));function Yee(){const d=LZ(!0),m=d.run(()=>At({}));let w=[],S=[];const E=_H({install(O){E._a=O,O.provide(Xee,E),O.config.globalProperties.$pinia=E,S.forEach(B=>w.push(B)),S=[]},use(O){return!this._a&&!Kee?S.push(O):w.push(O),this},_p:w,_a:null,_e:d,_s:new Map,state:m});return E}const aj="/assets/logo-c0c0c1a9.svg",Jee="/assets/tour-3908d667.svg",Zee="/assets/guide-2f617d29.svg",Qee="/assets/language-1f6f72b9.svg",ete="/assets/mobility-6abf7304.svg",tte="/assets/place-32612cab.svg",nte="/assets/category-1c106769.svg",rte="/assets/verify-af8a1288.svg",ate="/assets/skill-6808aa68.svg",ote="/assets/page-2cc861e5.svg",ite="/assets/usermanagement-a4fe644f.svg";/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const XA=typeof window<"u";function ute(d){return d.__esModule||d[Symbol.toStringTag]==="Module"}const Ao=Object.assign;function H7(d,m){const w={};for(const S in m){const E=m[S];w[S]=jm(E)?E.map(d):d(E)}return w}const dD=()=>{},jm=Array.isArray,ste=/\/$/,lte=d=>d.replace(ste,"");function V7(d,m,w="/"){let S,E={},O="",B="";const I=m.indexOf("#");let G=m.indexOf("?");return I<G&&I>=0&&(G=-1),G>-1&&(S=m.slice(0,G),O=m.slice(G+1,I>-1?I:m.length),E=d(O)),I>-1&&(S=S||m.slice(0,I),B=m.slice(I,m.length)),S=dte(S??m,w),{fullPath:S+(O&&"?")+O+B,path:S,query:E,hash:B}}function cte(d,m){const w=m.query?d(m.query):"";return m.path+(w&&"?")+w+(m.hash||"")}function PU(d,m){return!m||!d.toLowerCase().startsWith(m.toLowerCase())?d:d.slice(m.length)||"/"}function fte(d,m,w){const S=m.matched.length-1,E=w.matched.length-1;return S>-1&&S===E&&aE(m.matched[S],w.matched[E])&&oj(m.params,w.params)&&d(m.query)===d(w.query)&&m.hash===w.hash}function aE(d,m){return(d.aliasOf||d)===(m.aliasOf||m)}function oj(d,m){if(Object.keys(d).length!==Object.keys(m).length)return!1;for(const w in d)if(!vte(d[w],m[w]))return!1;return!0}function vte(d,m){return jm(d)?NU(d,m):jm(m)?NU(m,d):d===m}function NU(d,m){return jm(m)?d.length===m.length&&d.every((w,S)=>w===m[S]):d.length===1&&d[0]===m}function dte(d,m){if(d.startsWith("/"))return d;if(!d)return m;const w=m.split("/"),S=d.split("/"),E=S[S.length-1];(E===".."||E===".")&&S.push("");let O=w.length-1,B,I;for(B=0;B<S.length;B++)if(I=S[B],I!==".")if(I==="..")O>1&&O--;else break;return w.slice(0,O).join("/")+"/"+S.slice(B-(B===S.length?1:0)).join("/")}var SD;(function(d){d.pop="pop",d.push="push"})(SD||(SD={}));var mD;(function(d){d.back="back",d.forward="forward",d.unknown=""})(mD||(mD={}));function mte(d){if(!d)if(XA){const m=document.querySelector("base");d=m&&m.getAttribute("href")||"/",d=d.replace(/^\w+:\/\/[^\/]+/,"")}else d="/";return d[0]!=="/"&&d[0]!=="#"&&(d="/"+d),lte(d)}const hte=/^[^#]+#/;function gte(d,m){return d.replace(hte,"#")+m}function pte(d,m){const w=document.documentElement.getBoundingClientRect(),S=d.getBoundingClientRect();return{behavior:m.behavior,left:S.left-w.left-(m.left||0),top:S.top-w.top-(m.top||0)}}const NP=()=>({left:window.pageXOffset,top:window.pageYOffset});function bte(d){let m;if("el"in d){const w=d.el,S=typeof w=="string"&&w.startsWith("#"),E=typeof w=="string"?S?document.getElementById(w.slice(1)):document.querySelector(w):w;if(!E)return;m=pte(E,d)}else m=d;"scrollBehavior"in document.documentElement.style?window.scrollTo(m):window.scrollTo(m.left!=null?m.left:window.pageXOffset,m.top!=null?m.top:window.pageYOffset)}function IU(d,m){return(history.state?history.state.position-m:-1)+d}const uH=new Map;function yte(d,m){uH.set(d,m)}function wte(d){const m=uH.get(d);return uH.delete(d),m}let Cte=()=>location.protocol+"//"+location.host;function ij(d,m){const{pathname:w,search:S,hash:E}=m,O=d.indexOf("#");if(O>-1){let I=E.includes(d.slice(O))?d.slice(O).length:1,G=E.slice(I);return G[0]!=="/"&&(G="/"+G),PU(G,"")}return PU(w,d)+S+E}function Ste(d,m,w,S){let E=[],O=[],B=null;const I=({state:ie})=>{const oe=ij(d,location),he=w.value,Q=m.value;let Ct=0;if(ie){if(w.value=oe,m.value=ie,B&&B===he){B=null;return}Ct=Q?ie.position-Q.position:0}else S(oe);E.forEach(Me=>{Me(w.value,he,{delta:Ct,type:SD.pop,direction:Ct?Ct>0?mD.forward:mD.back:mD.unknown})})};function G(){B=w.value}function ee(ie){E.push(ie);const oe=()=>{const he=E.indexOf(ie);he>-1&&E.splice(he,1)};return O.push(oe),oe}function ae(){const{history:ie}=window;ie.state&&ie.replaceState(Ao({},ie.state,{scroll:NP()}),"")}function me(){for(const ie of O)ie();O=[],window.removeEventListener("popstate",I),window.removeEventListener("beforeunload",ae)}return window.addEventListener("popstate",I),window.addEventListener("beforeunload",ae,{passive:!0}),{pauseListeners:G,listen:ee,destroy:me}}function zU(d,m,w,S=!1,E=!1){return{back:d,current:m,forward:w,replaced:S,position:window.history.length,scroll:E?NP():null}}function xte(d){const{history:m,location:w}=window,S={value:ij(d,w)},E={value:m.state};E.value||O(S.value,{back:null,current:S.value,forward:null,position:m.length-1,replaced:!0,scroll:null},!0);function O(G,ee,ae){const me=d.indexOf("#"),ie=me>-1?(w.host&&document.querySelector("base")?d:d.slice(me))+G:Cte()+d+G;try{m[ae?"replaceState":"pushState"](ee,"",ie),E.value=ee}catch(oe){console.error(oe),w[ae?"replace":"assign"](ie)}}function B(G,ee){const ae=Ao({},m.state,zU(E.value.back,G,E.value.forward,!0),ee,{position:E.value.position});O(G,ae,!0),S.value=G}function I(G,ee){const ae=Ao({},E.value,m.state,{forward:G,scroll:NP()});O(ae.current,ae,!0);const me=Ao({},zU(S.value,G,null),{position:ae.position+1},ee);O(G,me,!1),S.value=G}return{location:S,state:E,push:I,replace:B}}function _te(d){d=mte(d);const m=xte(d),w=Ste(d,m.state,m.location,m.replace);function S(O,B=!0){B||w.pauseListeners(),history.go(O)}const E=Ao({location:"",base:d,go:S,createHref:gte.bind(null,d)},m,w);return Object.defineProperty(E,"location",{enumerable:!0,get:()=>m.location.value}),Object.defineProperty(E,"state",{enumerable:!0,get:()=>m.state.value}),E}function kte(d){return typeof d=="string"||d&&typeof d=="object"}function uj(d){return typeof d=="string"||typeof d=="symbol"}const Hy={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},sj=Symbol("");var LU;(function(d){d[d.aborted=4]="aborted",d[d.cancelled=8]="cancelled",d[d.duplicated=16]="duplicated"})(LU||(LU={}));function oE(d,m){return Ao(new Error,{type:d,[sj]:!0},m)}function Y1(d,m){return d instanceof Error&&sj in d&&(m==null||!!(d.type&m))}const FU="[^/]+?",Ate={sensitive:!1,strict:!1,start:!0,end:!0},Ete=/[.+*?^${}()[\]/\\]/g;function Tte(d,m){const w=Ao({},Ate,m),S=[];let E=w.start?"^":"";const O=[];for(const ee of d){const ae=ee.length?[]:[90];w.strict&&!ee.length&&(E+="/");for(let me=0;me<ee.length;me++){const ie=ee[me];let oe=40+(w.sensitive?.25:0);if(ie.type===0)me||(E+="/"),E+=ie.value.replace(Ete,"\\$&"),oe+=40;else if(ie.type===1){const{value:he,repeatable:Q,optional:Ct,regexp:Me}=ie;O.push({name:he,repeatable:Q,optional:Ct});const rt=Me||FU;if(rt!==FU){oe+=10;try{new RegExp(`(${rt})`)}catch(tt){throw new Error(`Invalid custom RegExp for param "${he}" (${rt}): `+tt.message)}}let ve=Q?`((?:${rt})(?:/(?:${rt}))*)`:`(${rt})`;me||(ve=Ct&&ee.length<2?`(?:/${ve})`:"/"+ve),Ct&&(ve+="?"),E+=ve,oe+=20,Ct&&(oe+=-8),Q&&(oe+=-20),rt===".*"&&(oe+=-50)}ae.push(oe)}S.push(ae)}if(w.strict&&w.end){const ee=S.length-1;S[ee][S[ee].length-1]+=.7000000000000001}w.strict||(E+="/?"),w.end?E+="$":w.strict&&(E+="(?:/|$)");const B=new RegExp(E,w.sensitive?"":"i");function I(ee){const ae=ee.match(B),me={};if(!ae)return null;for(let ie=1;ie<ae.length;ie++){const oe=ae[ie]||"",he=O[ie-1];me[he.name]=oe&&he.repeatable?oe.split("/"):oe}return me}function G(ee){let ae="",me=!1;for(const ie of d){(!me||!ae.endsWith("/"))&&(ae+="/"),me=!1;for(const oe of ie)if(oe.type===0)ae+=oe.value;else if(oe.type===1){const{value:he,repeatable:Q,optional:Ct}=oe,Me=he in ee?ee[he]:"";if(jm(Me)&&!Q)throw new Error(`Provided param "${he}" is an array but it is not repeatable (* or + modifiers)`);const rt=jm(Me)?Me.join("/"):Me;if(!rt)if(Ct)ie.length<2&&(ae.endsWith("/")?ae=ae.slice(0,-1):me=!0);else throw new Error(`Missing required param "${he}"`);ae+=rt}}return ae||"/"}return{re:B,score:S,keys:O,parse:I,stringify:G}}function Ote(d,m){let w=0;for(;w<d.length&&w<m.length;){const S=m[w]-d[w];if(S)return S;w++}return d.length<m.length?d.length===1&&d[0]===40+40?-1:1:d.length>m.length?m.length===1&&m[0]===40+40?1:-1:0}function Dte(d,m){let w=0;const S=d.score,E=m.score;for(;w<S.length&&w<E.length;){const O=Ote(S[w],E[w]);if(O)return O;w++}if(Math.abs(E.length-S.length)===1){if(HU(S))return 1;if(HU(E))return-1}return E.length-S.length}function HU(d){const m=d[d.length-1];return d.length>0&&m[m.length-1]<0}const Rte={type:0,value:""},Bte=/[a-zA-Z0-9_]/;function $te(d){if(!d)return[[]];if(d==="/")return[[Rte]];if(!d.startsWith("/"))throw new Error(`Invalid path "${d}"`);function m(oe){throw new Error(`ERR (${w})/"${ee}": ${oe}`)}let w=0,S=w;const E=[];let O;function B(){O&&E.push(O),O=[]}let I=0,G,ee="",ae="";function me(){ee&&(w===0?O.push({type:0,value:ee}):w===1||w===2||w===3?(O.length>1&&(G==="*"||G==="+")&&m(`A repeatable param (${ee}) must be alone in its segment. eg: '/:ids+.`),O.push({type:1,value:ee,regexp:ae,repeatable:G==="*"||G==="+",optional:G==="*"||G==="?"})):m("Invalid state to consume buffer"),ee="")}function ie(){ee+=G}for(;I<d.length;){if(G=d[I++],G==="\\"&&w!==2){S=w,w=4;continue}switch(w){case 0:G==="/"?(ee&&me(),B()):G===":"?(me(),w=1):ie();break;case 4:ie(),w=S;break;case 1:G==="("?w=2:Bte.test(G)?ie():(me(),w=0,G!=="*"&&G!=="?"&&G!=="+"&&I--);break;case 2:G===")"?ae[ae.length-1]=="\\"?ae=ae.slice(0,-1)+G:w=3:ae+=G;break;case 3:me(),w=0,G!=="*"&&G!=="?"&&G!=="+"&&I--,ae="";break;default:m("Unknown state");break}}return w===2&&m(`Unfinished custom RegExp for param "${ee}"`),me(),B(),E}function Mte(d,m,w){const S=Tte($te(d.path),w),E=Ao(S,{record:d,parent:m,children:[],alias:[]});return m&&!E.record.aliasOf==!m.record.aliasOf&&m.children.push(E),E}function Pte(d,m){const w=[],S=new Map;m=WU({strict:!1,end:!0,sensitive:!1},m);function E(ae){return S.get(ae)}function O(ae,me,ie){const oe=!ie,he=Nte(ae);he.aliasOf=ie&&ie.record;const Q=WU(m,ae),Ct=[he];if("alias"in ae){const ve=typeof ae.alias=="string"?[ae.alias]:ae.alias;for(const tt of ve)Ct.push(Ao({},he,{components:ie?ie.record.components:he.components,path:tt,aliasOf:ie?ie.record:he}))}let Me,rt;for(const ve of Ct){const{path:tt}=ve;if(me&&tt[0]!=="/"){const He=me.record.path,Xt=He[He.length-1]==="/"?"":"/";ve.path=me.record.path+(tt&&Xt+tt)}if(Me=Mte(ve,me,Q),ie?ie.alias.push(Me):(rt=rt||Me,rt!==Me&&rt.alias.push(Me),oe&&ae.name&&!UU(Me)&&B(ae.name)),he.children){const He=he.children;for(let Xt=0;Xt<He.length;Xt++)O(He[Xt],Me,ie&&ie.children[Xt])}ie=ie||Me,(Me.record.components&&Object.keys(Me.record.components).length||Me.record.name||Me.record.redirect)&&G(Me)}return rt?()=>{B(rt)}:dD}function B(ae){if(uj(ae)){const me=S.get(ae);me&&(S.delete(ae),w.splice(w.indexOf(me),1),me.children.forEach(B),me.alias.forEach(B))}else{const me=w.indexOf(ae);me>-1&&(w.splice(me,1),ae.record.name&&S.delete(ae.record.name),ae.children.forEach(B),ae.alias.forEach(B))}}function I(){return w}function G(ae){let me=0;for(;me<w.length&&Dte(ae,w[me])>=0&&(ae.record.path!==w[me].record.path||!lj(ae,w[me]));)me++;w.splice(me,0,ae),ae.record.name&&!UU(ae)&&S.set(ae.record.name,ae)}function ee(ae,me){let ie,oe={},he,Q;if("name"in ae&&ae.name){if(ie=S.get(ae.name),!ie)throw oE(1,{location:ae});Q=ie.record.name,oe=Ao(VU(me.params,ie.keys.filter(rt=>!rt.optional).map(rt=>rt.name)),ae.params&&VU(ae.params,ie.keys.map(rt=>rt.name))),he=ie.stringify(oe)}else if("path"in ae)he=ae.path,ie=w.find(rt=>rt.re.test(he)),ie&&(oe=ie.parse(he),Q=ie.record.name);else{if(ie=me.name?S.get(me.name):w.find(rt=>rt.re.test(me.path)),!ie)throw oE(1,{location:ae,currentLocation:me});Q=ie.record.name,oe=Ao({},me.params,ae.params),he=ie.stringify(oe)}const Ct=[];let Me=ie;for(;Me;)Ct.unshift(Me.record),Me=Me.parent;return{name:Q,path:he,params:oe,matched:Ct,meta:zte(Ct)}}return d.forEach(ae=>O(ae)),{addRoute:O,resolve:ee,removeRoute:B,getRoutes:I,getRecordMatcher:E}}function VU(d,m){const w={};for(const S of m)S in d&&(w[S]=d[S]);return w}function Nte(d){return{path:d.path,redirect:d.redirect,name:d.name,meta:d.meta||{},aliasOf:void 0,beforeEnter:d.beforeEnter,props:Ite(d),children:d.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in d?d.components||null:d.component&&{default:d.component}}}function Ite(d){const m={},w=d.props||!1;if("component"in d)m.default=w;else for(const S in d.components)m[S]=typeof w=="object"?w[S]:w;return m}function UU(d){for(;d;){if(d.record.aliasOf)return!0;d=d.parent}return!1}function zte(d){return d.reduce((m,w)=>Ao(m,w.meta),{})}function WU(d,m){const w={};for(const S in d)w[S]=S in m?m[S]:d[S];return w}function lj(d,m){return m.children.some(w=>w===d||lj(d,w))}const cj=/#/g,Lte=/&/g,Fte=/\//g,Hte=/=/g,Vte=/\?/g,fj=/\+/g,Ute=/%5B/g,Wte=/%5D/g,vj=/%5E/g,jte=/%60/g,dj=/%7B/g,Gte=/%7C/g,mj=/%7D/g,qte=/%20/g;function $H(d){return encodeURI(""+d).replace(Gte,"|").replace(Ute,"[").replace(Wte,"]")}function Kte(d){return $H(d).replace(dj,"{").replace(mj,"}").replace(vj,"^")}function sH(d){return $H(d).replace(fj,"%2B").replace(qte,"+").replace(cj,"%23").replace(Lte,"%26").replace(jte,"`").replace(dj,"{").replace(mj,"}").replace(vj,"^")}function Xte(d){return sH(d).replace(Hte,"%3D")}function Yte(d){return $H(d).replace(cj,"%23").replace(Vte,"%3F")}function Jte(d){return d==null?"":Yte(d).replace(Fte,"%2F")}function mP(d){try{return decodeURIComponent(""+d)}catch{}return""+d}function Zte(d){const m={};if(d===""||d==="?")return m;const S=(d[0]==="?"?d.slice(1):d).split("&");for(let E=0;E<S.length;++E){const O=S[E].replace(fj," "),B=O.indexOf("="),I=mP(B<0?O:O.slice(0,B)),G=B<0?null:mP(O.slice(B+1));if(I in m){let ee=m[I];jm(ee)||(ee=m[I]=[ee]),ee.push(G)}else m[I]=G}return m}function jU(d){let m="";for(let w in d){const S=d[w];if(w=Xte(w),S==null){S!==void 0&&(m+=(m.length?"&":"")+w);continue}(jm(S)?S.map(O=>O&&sH(O)):[S&&sH(S)]).forEach(O=>{O!==void 0&&(m+=(m.length?"&":"")+w,O!=null&&(m+="="+O))})}return m}function Qte(d){const m={};for(const w in d){const S=d[w];S!==void 0&&(m[w]=jm(S)?S.map(E=>E==null?null:""+E):S==null?S:""+S)}return m}const ene=Symbol(""),GU=Symbol(""),IP=Symbol(""),MH=Symbol(""),lH=Symbol("");function iD(){let d=[];function m(S){return d.push(S),()=>{const E=d.indexOf(S);E>-1&&d.splice(E,1)}}function w(){d=[]}return{add:m,list:()=>d.slice(),reset:w}}function Wy(d,m,w,S,E){const O=S&&(S.enterCallbacks[E]=S.enterCallbacks[E]||[]);return()=>new Promise((B,I)=>{const G=me=>{me===!1?I(oE(4,{from:w,to:m})):me instanceof Error?I(me):kte(me)?I(oE(2,{from:m,to:me})):(O&&S.enterCallbacks[E]===O&&typeof me=="function"&&O.push(me),B())},ee=d.call(S&&S.instances[E],m,w,G);let ae=Promise.resolve(ee);d.length<3&&(ae=ae.then(G)),ae.catch(me=>I(me))})}function U7(d,m,w,S){const E=[];for(const O of d)for(const B in O.components){let I=O.components[B];if(!(m!=="beforeRouteEnter"&&!O.instances[B]))if(tne(I)){const ee=(I.__vccOpts||I)[m];ee&&E.push(Wy(ee,w,S,O,B))}else{let G=I();E.push(()=>G.then(ee=>{if(!ee)return Promise.reject(new Error(`Couldn't resolve component "${B}" at "${O.path}"`));const ae=ute(ee)?ee.default:ee;O.components[B]=ae;const ie=(ae.__vccOpts||ae)[m];return ie&&Wy(ie,w,S,O,B)()}))}}return E}function tne(d){return typeof d=="object"||"displayName"in d||"props"in d||"__vccOpts"in d}function qU(d){const m=Wm(IP),w=Wm(MH),S=Qo(()=>m.resolve(Po(d.to))),E=Qo(()=>{const{matched:G}=S.value,{length:ee}=G,ae=G[ee-1],me=w.matched;if(!ae||!me.length)return-1;const ie=me.findIndex(aE.bind(null,ae));if(ie>-1)return ie;const oe=KU(G[ee-2]);return ee>1&&KU(ae)===oe&&me[me.length-1].path!==oe?me.findIndex(aE.bind(null,G[ee-2])):ie}),O=Qo(()=>E.value>-1&&ane(w.params,S.value.params)),B=Qo(()=>E.value>-1&&E.value===w.matched.length-1&&oj(w.params,S.value.params));function I(G={}){return rne(G)?m[Po(d.replace)?"replace":"push"](Po(d.to)).catch(dD):Promise.resolve()}return{route:S,href:Qo(()=>S.value.href),isActive:O,isExactActive:B,navigate:I}}const nne=LW({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qU,setup(d,{slots:m}){const w=kP(qU(d)),{options:S}=Wm(IP),E=Qo(()=>({[XU(d.activeClass,S.linkActiveClass,"router-link-active")]:w.isActive,[XU(d.exactActiveClass,S.linkExactActiveClass,"router-link-exact-active")]:w.isExactActive}));return()=>{const O=m.default&&m.default(w);return d.custom?O:nj("a",{"aria-current":w.isExactActive?d.ariaCurrentValue:null,href:w.href,onClick:w.navigate,class:E.value},O)}}}),Cv=nne;function rne(d){if(!(d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)&&!d.defaultPrevented&&!(d.button!==void 0&&d.button!==0)){if(d.currentTarget&&d.currentTarget.getAttribute){const m=d.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(m))return}return d.preventDefault&&d.preventDefault(),!0}}function ane(d,m){for(const w in m){const S=m[w],E=d[w];if(typeof S=="string"){if(S!==E)return!1}else if(!jm(E)||E.length!==S.length||S.some((O,B)=>O!==E[B]))return!1}return!0}function KU(d){return d?d.aliasOf?d.aliasOf.path:d.path:""}const XU=(d,m,w)=>d??m??w,one=LW({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(d,{attrs:m,slots:w}){const S=Wm(lH),E=Qo(()=>d.route||S.value),O=Wm(GU,0),B=Qo(()=>{let ee=Po(O);const{matched:ae}=E.value;let me;for(;(me=ae[ee])&&!me.components;)ee++;return ee}),I=Qo(()=>E.value.matched[B.value]);QM(GU,Qo(()=>B.value+1)),QM(ene,I),QM(lH,E);const G=At();return Um(()=>[G.value,I.value,d.name],([ee,ae,me],[ie,oe,he])=>{ae&&(ae.instances[me]=ee,oe&&oe!==ae&&ee&&ee===ie&&(ae.leaveGuards.size||(ae.leaveGuards=oe.leaveGuards),ae.updateGuards.size||(ae.updateGuards=oe.updateGuards))),ee&&ae&&(!oe||!aE(ae,oe)||!ie)&&(ae.enterCallbacks[me]||[]).forEach(Q=>Q(ee))},{flush:"post"}),()=>{const ee=E.value,ae=d.name,me=I.value,ie=me&&me.components[ae];if(!ie)return YU(w.default,{Component:ie,route:ee});const oe=me.props[ae],he=oe?oe===!0?ee.params:typeof oe=="function"?oe(ee):oe:null,Ct=nj(ie,Ao({},he,m,{onVnodeUnmounted:Me=>{Me.component.isUnmounted&&(me.instances[ae]=null)},ref:G}));return YU(w.default,{Component:Ct,route:ee})||Ct}}});function YU(d,m){if(!d)return null;const w=d(m);return w.length===1?w[0]:w}const hj=one;function ine(d){const m=Pte(d.routes,d),w=d.parseQuery||Zte,S=d.stringifyQuery||jU,E=d.history,O=iD(),B=iD(),I=iD(),G=mQ(Hy);let ee=Hy;XA&&d.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const ae=H7.bind(null,K=>""+K),me=H7.bind(null,Jte),ie=H7.bind(null,mP);function oe(K,En){let Ne,yt;return uj(K)?(Ne=m.getRecordMatcher(K),yt=En):yt=K,m.addRoute(yt,Ne)}function he(K){const En=m.getRecordMatcher(K);En&&m.removeRoute(En)}function Q(){return m.getRoutes().map(K=>K.record)}function Ct(K){return!!m.getRecordMatcher(K)}function Me(K,En){if(En=Ao({},En||G.value),typeof K=="string"){const Fe=V7(w,K,En.path),je=m.resolve({path:Fe.path},En),Be=E.createHref(Fe.fullPath);return Ao(Fe,je,{params:ie(je.params),hash:mP(Fe.hash),redirectedFrom:void 0,href:Be})}let Ne;if("path"in K)Ne=Ao({},K,{path:V7(w,K.path,En.path).path});else{const Fe=Ao({},K.params);for(const je in Fe)Fe[je]==null&&delete Fe[je];Ne=Ao({},K,{params:me(Fe)}),En.params=me(En.params)}const yt=m.resolve(Ne,En),Dr=K.hash||"";yt.params=ae(ie(yt.params));const ye=cte(S,Ao({},K,{hash:Kte(Dr),path:yt.path})),pe=E.createHref(ye);return Ao({fullPath:ye,hash:Dr,query:S===jU?Qte(K.query):K.query||{}},yt,{redirectedFrom:void 0,href:pe})}function rt(K){return typeof K=="string"?V7(w,K,G.value.path):Ao({},K)}function ve(K,En){if(ee!==K)return oE(8,{from:En,to:K})}function tt(K){return mn(K)}function He(K){return tt(Ao(rt(K),{replace:!0}))}function Xt(K){const En=K.matched[K.matched.length-1];if(En&&En.redirect){const{redirect:Ne}=En;let yt=typeof Ne=="function"?Ne(K):Ne;return typeof yt=="string"&&(yt=yt.includes("?")||yt.includes("#")?yt=rt(yt):{path:yt},yt.params={}),Ao({query:K.query,hash:K.hash,params:"path"in yt?{}:K.params},yt)}}function mn(K,En){const Ne=ee=Me(K),yt=G.value,Dr=K.state,ye=K.force,pe=K.replace===!0,Fe=Xt(Ne);if(Fe)return mn(Ao(rt(Fe),{state:typeof Fe=="object"?Ao({},Dr,Fe.state):Dr,force:ye,replace:pe}),En||Ne);const je=Ne;je.redirectedFrom=En;let Be;return!ye&&fte(S,yt,Ne)&&(Be=oE(16,{to:je,from:yt}),Dt(yt,yt,!0,!1)),(Be?Promise.resolve(Be):Qt(je,yt)).catch(bt=>Y1(bt)?Y1(bt,2)?bt:ta(bt):xn(bt,je,yt)).then(bt=>{if(bt){if(Y1(bt,2))return mn(Ao({replace:pe},rt(bt.to),{state:typeof bt.to=="object"?Ao({},Dr,bt.to.state):Dr,force:ye}),En||je)}else bt=Ce(je,yt,!0,pe,Dr);return Eo(je,yt,bt),bt})}function Nt(K,En){const Ne=ve(K,En);return Ne?Promise.reject(Ne):Promise.resolve()}function Cn(K){const En=Xi.values().next().value;return En&&typeof En.runWithContext=="function"?En.runWithContext(K):K()}function Qt(K,En){let Ne;const[yt,Dr,ye]=une(K,En);Ne=U7(yt.reverse(),"beforeRouteLeave",K,En);for(const Fe of yt)Fe.leaveGuards.forEach(je=>{Ne.push(Wy(je,K,En))});const pe=Nt.bind(null,K,En);return Ne.push(pe),Fr(Ne).then(()=>{Ne=[];for(const Fe of O.list())Ne.push(Wy(Fe,K,En));return Ne.push(pe),Fr(Ne)}).then(()=>{Ne=U7(Dr,"beforeRouteUpdate",K,En);for(const Fe of Dr)Fe.updateGuards.forEach(je=>{Ne.push(Wy(je,K,En))});return Ne.push(pe),Fr(Ne)}).then(()=>{Ne=[];for(const Fe of ye)if(Fe.beforeEnter)if(jm(Fe.beforeEnter))for(const je of Fe.beforeEnter)Ne.push(Wy(je,K,En));else Ne.push(Wy(Fe.beforeEnter,K,En));return Ne.push(pe),Fr(Ne)}).then(()=>(K.matched.forEach(Fe=>Fe.enterCallbacks={}),Ne=U7(ye,"beforeRouteEnter",K,En),Ne.push(pe),Fr(Ne))).then(()=>{Ne=[];for(const Fe of B.list())Ne.push(Wy(Fe,K,En));return Ne.push(pe),Fr(Ne)}).catch(Fe=>Y1(Fe,8)?Fe:Promise.reject(Fe))}function Eo(K,En,Ne){I.list().forEach(yt=>Cn(()=>yt(K,En,Ne)))}function Ce(K,En,Ne,yt,Dr){const ye=ve(K,En);if(ye)return ye;const pe=En===Hy,Fe=XA?history.state:{};Ne&&(yt||pe?E.replace(K.fullPath,Ao({scroll:pe&&Fe&&Fe.scroll},Dr)):E.push(K.fullPath,Dr)),G.value=K,Dt(K,En,Ne,pe),ta()}let Y;function Ht(){Y||(Y=E.listen((K,En,Ne)=>{if(!nr.listening)return;const yt=Me(K),Dr=Xt(yt);if(Dr){mn(Ao(Dr,{replace:!0}),yt).catch(dD);return}ee=yt;const ye=G.value;XA&&yte(IU(ye.fullPath,Ne.delta),NP()),Qt(yt,ye).catch(pe=>Y1(pe,12)?pe:Y1(pe,2)?(mn(pe.to,yt).then(Fe=>{Y1(Fe,20)&&!Ne.delta&&Ne.type===SD.pop&&E.go(-1,!1)}).catch(dD),Promise.reject()):(Ne.delta&&E.go(-Ne.delta,!1),xn(pe,yt,ye))).then(pe=>{pe=pe||Ce(yt,ye,!1),pe&&(Ne.delta&&!Y1(pe,8)?E.go(-Ne.delta,!1):Ne.type===SD.pop&&Y1(pe,20)&&E.go(-1,!1)),Eo(yt,ye,pe)}).catch(dD)}))}let _r=iD(),ft=iD(),Kn;function xn(K,En,Ne){ta(K);const yt=ft.list();return yt.length?yt.forEach(Dr=>Dr(K,En,Ne)):console.error(K),Promise.reject(K)}function P(){return Kn&&G.value!==Hy?Promise.resolve():new Promise((K,En)=>{_r.add([K,En])})}function ta(K){return Kn||(Kn=!K,Ht(),_r.list().forEach(([En,Ne])=>K?Ne(K):En()),_r.reset()),K}function Dt(K,En,Ne,yt){const{scrollBehavior:Dr}=d;if(!XA||!Dr)return Promise.resolve();const ye=!Ne&&wte(IU(K.fullPath,0))||(yt||!Ne)&&history.state&&history.state.scroll||null;return BW().then(()=>Dr(K,En,ye)).then(pe=>pe&&bte(pe)).catch(pe=>xn(pe,K,En))}const en=K=>E.go(K);let Mi;const Xi=new Set,nr={currentRoute:G,listening:!0,addRoute:oe,removeRoute:he,hasRoute:Ct,getRoutes:Q,resolve:Me,options:d,push:tt,replace:He,go:en,back:()=>en(-1),forward:()=>en(1),beforeEach:O.add,beforeResolve:B.add,afterEach:I.add,onError:ft.add,isReady:P,install(K){const En=this;K.component("RouterLink",Cv),K.component("RouterView",hj),K.config.globalProperties.$router=En,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>Po(G)}),XA&&!Mi&&G.value===Hy&&(Mi=!0,tt(E.location).catch(Dr=>{}));const Ne={};for(const Dr in Hy)Object.defineProperty(Ne,Dr,{get:()=>G.value[Dr],enumerable:!0});K.provide(IP,En),K.provide(MH,_W(Ne)),K.provide(lH,G);const yt=K.unmount;Xi.add(K),K.unmount=function(){Xi.delete(K),Xi.size<1&&(ee=Hy,Y&&Y(),Y=null,G.value=Hy,Mi=!1,Kn=!1),yt()}}};function Fr(K){return K.reduce((En,Ne)=>En.then(()=>Cn(Ne)),Promise.resolve())}return nr}function une(d,m){const w=[],S=[],E=[],O=Math.max(m.matched.length,d.matched.length);for(let B=0;B<O;B++){const I=m.matched[B];I&&(d.matched.find(ee=>aE(ee,I))?S.push(I):w.push(I));const G=d.matched[B];G&&(m.matched.find(ee=>aE(ee,G))||E.push(G))}return[w,S,E]}function Gm(){return Wm(IP)}function tb(){return Wm(MH)}function gj(d,m){return function(){return d.apply(m,arguments)}}const{toString:sne}=Object.prototype,{getPrototypeOf:PH}=Object,zP=(d=>m=>{const w=sne.call(m);return d[w]||(d[w]=w.slice(8,-1).toLowerCase())})(Object.create(null)),tp=d=>(d=d.toLowerCase(),m=>zP(m)===d),LP=d=>m=>typeof m===d,{isArray:lE}=Array,xD=LP("undefined");function lne(d){return d!==null&&!xD(d)&&d.constructor!==null&&!xD(d.constructor)&&xd(d.constructor.isBuffer)&&d.constructor.isBuffer(d)}const pj=tp("ArrayBuffer");function cne(d){let m;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?m=ArrayBuffer.isView(d):m=d&&d.buffer&&pj(d.buffer),m}const fne=LP("string"),xd=LP("function"),bj=LP("number"),FP=d=>d!==null&&typeof d=="object",vne=d=>d===!0||d===!1,tP=d=>{if(zP(d)!=="object")return!1;const m=PH(d);return(m===null||m===Object.prototype||Object.getPrototypeOf(m)===null)&&!(Symbol.toStringTag in d)&&!(Symbol.iterator in d)},dne=tp("Date"),mne=tp("File"),hne=tp("Blob"),gne=tp("FileList"),pne=d=>FP(d)&&xd(d.pipe),bne=d=>{let m;return d&&(typeof FormData=="function"&&d instanceof FormData||xd(d.append)&&((m=zP(d))==="formdata"||m==="object"&&xd(d.toString)&&d.toString()==="[object FormData]"))},yne=tp("URLSearchParams"),wne=d=>d.trim?d.trim():d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kD(d,m,{allOwnKeys:w=!1}={}){if(d===null||typeof d>"u")return;let S,E;if(typeof d!="object"&&(d=[d]),lE(d))for(S=0,E=d.length;S<E;S++)m.call(null,d[S],S,d);else{const O=w?Object.getOwnPropertyNames(d):Object.keys(d),B=O.length;let I;for(S=0;S<B;S++)I=O[S],m.call(null,d[I],I,d)}}function yj(d,m){m=m.toLowerCase();const w=Object.keys(d);let S=w.length,E;for(;S-- >0;)if(E=w[S],m===E.toLowerCase())return E;return null}const wj=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Cj=d=>!xD(d)&&d!==wj;function cH(){const{caseless:d}=Cj(this)&&this||{},m={},w=(S,E)=>{const O=d&&yj(m,E)||E;tP(m[O])&&tP(S)?m[O]=cH(m[O],S):tP(S)?m[O]=cH({},S):lE(S)?m[O]=S.slice():m[O]=S};for(let S=0,E=arguments.length;S<E;S++)arguments[S]&&kD(arguments[S],w);return m}const Cne=(d,m,w,{allOwnKeys:S}={})=>(kD(m,(E,O)=>{w&&xd(E)?d[O]=gj(E,w):d[O]=E},{allOwnKeys:S}),d),Sne=d=>(d.charCodeAt(0)===65279&&(d=d.slice(1)),d),xne=(d,m,w,S)=>{d.prototype=Object.create(m.prototype,S),d.prototype.constructor=d,Object.defineProperty(d,"super",{value:m.prototype}),w&&Object.assign(d.prototype,w)},_ne=(d,m,w,S)=>{let E,O,B;const I={};if(m=m||{},d==null)return m;do{for(E=Object.getOwnPropertyNames(d),O=E.length;O-- >0;)B=E[O],(!S||S(B,d,m))&&!I[B]&&(m[B]=d[B],I[B]=!0);d=w!==!1&&PH(d)}while(d&&(!w||w(d,m))&&d!==Object.prototype);return m},kne=(d,m,w)=>{d=String(d),(w===void 0||w>d.length)&&(w=d.length),w-=m.length;const S=d.indexOf(m,w);return S!==-1&&S===w},Ane=d=>{if(!d)return null;if(lE(d))return d;let m=d.length;if(!bj(m))return null;const w=new Array(m);for(;m-- >0;)w[m]=d[m];return w},Ene=(d=>m=>d&&m instanceof d)(typeof Uint8Array<"u"&&PH(Uint8Array)),Tne=(d,m)=>{const S=(d&&d[Symbol.iterator]).call(d);let E;for(;(E=S.next())&&!E.done;){const O=E.value;m.call(d,O[0],O[1])}},One=(d,m)=>{let w;const S=[];for(;(w=d.exec(m))!==null;)S.push(w);return S},Dne=tp("HTMLFormElement"),Rne=d=>d.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(w,S,E){return S.toUpperCase()+E}),JU=(({hasOwnProperty:d})=>(m,w)=>d.call(m,w))(Object.prototype),Bne=tp("RegExp"),Sj=(d,m)=>{const w=Object.getOwnPropertyDescriptors(d),S={};kD(w,(E,O)=>{let B;(B=m(E,O,d))!==!1&&(S[O]=B||E)}),Object.defineProperties(d,S)},$ne=d=>{Sj(d,(m,w)=>{if(xd(d)&&["arguments","caller","callee"].indexOf(w)!==-1)return!1;const S=d[w];if(xd(S)){if(m.enumerable=!1,"writable"in m){m.writable=!1;return}m.set||(m.set=()=>{throw Error("Can not rewrite read-only method '"+w+"'")})}})},Mne=(d,m)=>{const w={},S=E=>{E.forEach(O=>{w[O]=!0})};return lE(d)?S(d):S(String(d).split(m)),w},Pne=()=>{},Nne=(d,m)=>(d=+d,Number.isFinite(d)?d:m),W7="abcdefghijklmnopqrstuvwxyz",ZU="0123456789",xj={DIGIT:ZU,ALPHA:W7,ALPHA_DIGIT:W7+W7.toUpperCase()+ZU},Ine=(d=16,m=xj.ALPHA_DIGIT)=>{let w="";const{length:S}=m;for(;d--;)w+=m[Math.random()*S|0];return w};function zne(d){return!!(d&&xd(d.append)&&d[Symbol.toStringTag]==="FormData"&&d[Symbol.iterator])}const Lne=d=>{const m=new Array(10),w=(S,E)=>{if(FP(S)){if(m.indexOf(S)>=0)return;if(!("toJSON"in S)){m[E]=S;const O=lE(S)?[]:{};return kD(S,(B,I)=>{const G=w(B,E+1);!xD(G)&&(O[I]=G)}),m[E]=void 0,O}}return S};return w(d,0)},Fne=tp("AsyncFunction"),Hne=d=>d&&(FP(d)||xd(d))&&xd(d.then)&&xd(d.catch),jt={isArray:lE,isArrayBuffer:pj,isBuffer:lne,isFormData:bne,isArrayBufferView:cne,isString:fne,isNumber:bj,isBoolean:vne,isObject:FP,isPlainObject:tP,isUndefined:xD,isDate:dne,isFile:mne,isBlob:hne,isRegExp:Bne,isFunction:xd,isStream:pne,isURLSearchParams:yne,isTypedArray:Ene,isFileList:gne,forEach:kD,merge:cH,extend:Cne,trim:wne,stripBOM:Sne,inherits:xne,toFlatObject:_ne,kindOf:zP,kindOfTest:tp,endsWith:kne,toArray:Ane,forEachEntry:Tne,matchAll:One,isHTMLForm:Dne,hasOwnProperty:JU,hasOwnProp:JU,reduceDescriptors:Sj,freezeMethods:$ne,toObjectSet:Mne,toCamelCase:Rne,noop:Pne,toFiniteNumber:Nne,findKey:yj,global:wj,isContextDefined:Cj,ALPHABET:xj,generateString:Ine,isSpecCompliantForm:zne,toJSONObject:Lne,isAsyncFn:Fne,isThenable:Hne};function Ga(d,m,w,S,E){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=d,this.name="AxiosError",m&&(this.code=m),w&&(this.config=w),S&&(this.request=S),E&&(this.response=E)}jt.inherits(Ga,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:jt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const _j=Ga.prototype,kj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(d=>{kj[d]={value:d}});Object.defineProperties(Ga,kj);Object.defineProperty(_j,"isAxiosError",{value:!0});Ga.from=(d,m,w,S,E,O)=>{const B=Object.create(_j);return jt.toFlatObject(d,B,function(G){return G!==Error.prototype},I=>I!=="isAxiosError"),Ga.call(B,d.message,m,w,S,E),B.cause=d,B.name=d.name,O&&Object.assign(B,O),B};const Vne=null;function fH(d){return jt.isPlainObject(d)||jt.isArray(d)}function Aj(d){return jt.endsWith(d,"[]")?d.slice(0,-2):d}function QU(d,m,w){return d?d.concat(m).map(function(E,O){return E=Aj(E),!w&&O?"["+E+"]":E}).join(w?".":""):m}function Une(d){return jt.isArray(d)&&!d.some(fH)}const Wne=jt.toFlatObject(jt,{},null,function(m){return/^is[A-Z]/.test(m)});function HP(d,m,w){if(!jt.isObject(d))throw new TypeError("target must be an object");m=m||new FormData,w=jt.toFlatObject(w,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Q,Ct){return!jt.isUndefined(Ct[Q])});const S=w.metaTokens,E=w.visitor||ae,O=w.dots,B=w.indexes,G=(w.Blob||typeof Blob<"u"&&Blob)&&jt.isSpecCompliantForm(m);if(!jt.isFunction(E))throw new TypeError("visitor must be a function");function ee(he){if(he===null)return"";if(jt.isDate(he))return he.toISOString();if(!G&&jt.isBlob(he))throw new Ga("Blob is not supported. Use a Buffer instead.");return jt.isArrayBuffer(he)||jt.isTypedArray(he)?G&&typeof Blob=="function"?new Blob([he]):Buffer.from(he):he}function ae(he,Q,Ct){let Me=he;if(he&&!Ct&&typeof he=="object"){if(jt.endsWith(Q,"{}"))Q=S?Q:Q.slice(0,-2),he=JSON.stringify(he);else if(jt.isArray(he)&&Une(he)||(jt.isFileList(he)||jt.endsWith(Q,"[]"))&&(Me=jt.toArray(he)))return Q=Aj(Q),Me.forEach(function(ve,tt){!(jt.isUndefined(ve)||ve===null)&&m.append(B===!0?QU([Q],tt,O):B===null?Q:Q+"[]",ee(ve))}),!1}return fH(he)?!0:(m.append(QU(Ct,Q,O),ee(he)),!1)}const me=[],ie=Object.assign(Wne,{defaultVisitor:ae,convertValue:ee,isVisitable:fH});function oe(he,Q){if(!jt.isUndefined(he)){if(me.indexOf(he)!==-1)throw Error("Circular reference detected in "+Q.join("."));me.push(he),jt.forEach(he,function(Me,rt){(!(jt.isUndefined(Me)||Me===null)&&E.call(m,Me,jt.isString(rt)?rt.trim():rt,Q,ie))===!0&&oe(Me,Q?Q.concat(rt):[rt])}),me.pop()}}if(!jt.isObject(d))throw new TypeError("data must be an object");return oe(d),m}function eW(d){const m={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(d).replace(/[!'()~]|%20|%00/g,function(S){return m[S]})}function NH(d,m){this._pairs=[],d&&HP(d,this,m)}const Ej=NH.prototype;Ej.append=function(m,w){this._pairs.push([m,w])};Ej.toString=function(m){const w=m?function(S){return m.call(this,S,eW)}:eW;return this._pairs.map(function(E){return w(E[0])+"="+w(E[1])},"").join("&")};function jne(d){return encodeURIComponent(d).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Tj(d,m,w){if(!m)return d;const S=w&&w.encode||jne,E=w&&w.serialize;let O;if(E?O=E(m,w):O=jt.isURLSearchParams(m)?m.toString():new NH(m,w).toString(S),O){const B=d.indexOf("#");B!==-1&&(d=d.slice(0,B)),d+=(d.indexOf("?")===-1?"?":"&")+O}return d}class Gne{constructor(){this.handlers=[]}use(m,w,S){return this.handlers.push({fulfilled:m,rejected:w,synchronous:S?S.synchronous:!1,runWhen:S?S.runWhen:null}),this.handlers.length-1}eject(m){this.handlers[m]&&(this.handlers[m]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(m){jt.forEach(this.handlers,function(S){S!==null&&m(S)})}}const tW=Gne,Oj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qne=typeof URLSearchParams<"u"?URLSearchParams:NH,Kne=typeof FormData<"u"?FormData:null,Xne=typeof Blob<"u"?Blob:null,Yne=(()=>{let d;return typeof navigator<"u"&&((d=navigator.product)==="ReactNative"||d==="NativeScript"||d==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Jne=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Fm={isBrowser:!0,classes:{URLSearchParams:qne,FormData:Kne,Blob:Xne},isStandardBrowserEnv:Yne,isStandardBrowserWebWorkerEnv:Jne,protocols:["http","https","file","blob","url","data"]};function Zne(d,m){return HP(d,new Fm.classes.URLSearchParams,Object.assign({visitor:function(w,S,E,O){return Fm.isNode&&jt.isBuffer(w)?(this.append(S,w.toString("base64")),!1):O.defaultVisitor.apply(this,arguments)}},m))}function Qne(d){return jt.matchAll(/\w+|\[(\w*)]/g,d).map(m=>m[0]==="[]"?"":m[1]||m[0])}function ere(d){const m={},w=Object.keys(d);let S;const E=w.length;let O;for(S=0;S<E;S++)O=w[S],m[O]=d[O];return m}function Dj(d){function m(w,S,E,O){let B=w[O++];const I=Number.isFinite(+B),G=O>=w.length;return B=!B&&jt.isArray(E)?E.length:B,G?(jt.hasOwnProp(E,B)?E[B]=[E[B],S]:E[B]=S,!I):((!E[B]||!jt.isObject(E[B]))&&(E[B]=[]),m(w,S,E[B],O)&&jt.isArray(E[B])&&(E[B]=ere(E[B])),!I)}if(jt.isFormData(d)&&jt.isFunction(d.entries)){const w={};return jt.forEachEntry(d,(S,E)=>{m(Qne(S),E,w,0)}),w}return null}function tre(d,m,w){if(jt.isString(d))try{return(m||JSON.parse)(d),jt.trim(d)}catch(S){if(S.name!=="SyntaxError")throw S}return(w||JSON.stringify)(d)}const IH={transitional:Oj,adapter:Fm.isNode?"http":"xhr",transformRequest:[function(m,w){const S=w.getContentType()||"",E=S.indexOf("application/json")>-1,O=jt.isObject(m);if(O&&jt.isHTMLForm(m)&&(m=new FormData(m)),jt.isFormData(m))return E&&E?JSON.stringify(Dj(m)):m;if(jt.isArrayBuffer(m)||jt.isBuffer(m)||jt.isStream(m)||jt.isFile(m)||jt.isBlob(m))return m;if(jt.isArrayBufferView(m))return m.buffer;if(jt.isURLSearchParams(m))return w.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),m.toString();let I;if(O){if(S.indexOf("application/x-www-form-urlencoded")>-1)return Zne(m,this.formSerializer).toString();if((I=jt.isFileList(m))||S.indexOf("multipart/form-data")>-1){const G=this.env&&this.env.FormData;return HP(I?{"files[]":m}:m,G&&new G,this.formSerializer)}}return O||E?(w.setContentType("application/json",!1),tre(m)):m}],transformResponse:[function(m){const w=this.transitional||IH.transitional,S=w&&w.forcedJSONParsing,E=this.responseType==="json";if(m&&jt.isString(m)&&(S&&!this.responseType||E)){const B=!(w&&w.silentJSONParsing)&&E;try{return JSON.parse(m)}catch(I){if(B)throw I.name==="SyntaxError"?Ga.from(I,Ga.ERR_BAD_RESPONSE,this,null,this.response):I}}return m}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fm.classes.FormData,Blob:Fm.classes.Blob},validateStatus:function(m){return m>=200&&m<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};jt.forEach(["delete","get","head","post","put","patch"],d=>{IH.headers[d]={}});const zH=IH,nre=jt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rre=d=>{const m={};let w,S,E;return d&&d.split(`
`).forEach(function(B){E=B.indexOf(":"),w=B.substring(0,E).trim().toLowerCase(),S=B.substring(E+1).trim(),!(!w||m[w]&&nre[w])&&(w==="set-cookie"?m[w]?m[w].push(S):m[w]=[S]:m[w]=m[w]?m[w]+", "+S:S)}),m},nW=Symbol("internals");function uD(d){return d&&String(d).trim().toLowerCase()}function nP(d){return d===!1||d==null?d:jt.isArray(d)?d.map(nP):String(d)}function are(d){const m=Object.create(null),w=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let S;for(;S=w.exec(d);)m[S[1]]=S[2];return m}const ore=d=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(d.trim());function j7(d,m,w,S,E){if(jt.isFunction(S))return S.call(this,m,w);if(E&&(m=w),!!jt.isString(m)){if(jt.isString(S))return m.indexOf(S)!==-1;if(jt.isRegExp(S))return S.test(m)}}function ire(d){return d.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(m,w,S)=>w.toUpperCase()+S)}function ure(d,m){const w=jt.toCamelCase(" "+m);["get","set","has"].forEach(S=>{Object.defineProperty(d,S+w,{value:function(E,O,B){return this[S].call(this,m,E,O,B)},configurable:!0})})}class VP{constructor(m){m&&this.set(m)}set(m,w,S){const E=this;function O(I,G,ee){const ae=uD(G);if(!ae)throw new Error("header name must be a non-empty string");const me=jt.findKey(E,ae);(!me||E[me]===void 0||ee===!0||ee===void 0&&E[me]!==!1)&&(E[me||G]=nP(I))}const B=(I,G)=>jt.forEach(I,(ee,ae)=>O(ee,ae,G));return jt.isPlainObject(m)||m instanceof this.constructor?B(m,w):jt.isString(m)&&(m=m.trim())&&!ore(m)?B(rre(m),w):m!=null&&O(w,m,S),this}get(m,w){if(m=uD(m),m){const S=jt.findKey(this,m);if(S){const E=this[S];if(!w)return E;if(w===!0)return are(E);if(jt.isFunction(w))return w.call(this,E,S);if(jt.isRegExp(w))return w.exec(E);throw new TypeError("parser must be boolean|regexp|function")}}}has(m,w){if(m=uD(m),m){const S=jt.findKey(this,m);return!!(S&&this[S]!==void 0&&(!w||j7(this,this[S],S,w)))}return!1}delete(m,w){const S=this;let E=!1;function O(B){if(B=uD(B),B){const I=jt.findKey(S,B);I&&(!w||j7(S,S[I],I,w))&&(delete S[I],E=!0)}}return jt.isArray(m)?m.forEach(O):O(m),E}clear(m){const w=Object.keys(this);let S=w.length,E=!1;for(;S--;){const O=w[S];(!m||j7(this,this[O],O,m,!0))&&(delete this[O],E=!0)}return E}normalize(m){const w=this,S={};return jt.forEach(this,(E,O)=>{const B=jt.findKey(S,O);if(B){w[B]=nP(E),delete w[O];return}const I=m?ire(O):String(O).trim();I!==O&&delete w[O],w[I]=nP(E),S[I]=!0}),this}concat(...m){return this.constructor.concat(this,...m)}toJSON(m){const w=Object.create(null);return jt.forEach(this,(S,E)=>{S!=null&&S!==!1&&(w[E]=m&&jt.isArray(S)?S.join(", "):S)}),w}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([m,w])=>m+": "+w).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(m){return m instanceof this?m:new this(m)}static concat(m,...w){const S=new this(m);return w.forEach(E=>S.set(E)),S}static accessor(m){const S=(this[nW]=this[nW]={accessors:{}}).accessors,E=this.prototype;function O(B){const I=uD(B);S[I]||(ure(E,B),S[I]=!0)}return jt.isArray(m)?m.forEach(O):O(m),this}}VP.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);jt.reduceDescriptors(VP.prototype,({value:d},m)=>{let w=m[0].toUpperCase()+m.slice(1);return{get:()=>d,set(S){this[w]=S}}});jt.freezeMethods(VP);const Z1=VP;function G7(d,m){const w=this||zH,S=m||w,E=Z1.from(S.headers);let O=S.data;return jt.forEach(d,function(I){O=I.call(w,O,E.normalize(),m?m.status:void 0)}),E.normalize(),O}function Rj(d){return!!(d&&d.__CANCEL__)}function AD(d,m,w){Ga.call(this,d??"canceled",Ga.ERR_CANCELED,m,w),this.name="CanceledError"}jt.inherits(AD,Ga,{__CANCEL__:!0});function sre(d,m,w){const S=w.config.validateStatus;!w.status||!S||S(w.status)?d(w):m(new Ga("Request failed with status code "+w.status,[Ga.ERR_BAD_REQUEST,Ga.ERR_BAD_RESPONSE][Math.floor(w.status/100)-4],w.config,w.request,w))}const lre=Fm.isStandardBrowserEnv?function(){return{write:function(w,S,E,O,B,I){const G=[];G.push(w+"="+encodeURIComponent(S)),jt.isNumber(E)&&G.push("expires="+new Date(E).toGMTString()),jt.isString(O)&&G.push("path="+O),jt.isString(B)&&G.push("domain="+B),I===!0&&G.push("secure"),document.cookie=G.join("; ")},read:function(w){const S=document.cookie.match(new RegExp("(^|;\\s*)("+w+")=([^;]*)"));return S?decodeURIComponent(S[3]):null},remove:function(w){this.write(w,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function cre(d){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(d)}function fre(d,m){return m?d.replace(/\/+$/,"")+"/"+m.replace(/^\/+/,""):d}function Bj(d,m){return d&&!cre(m)?fre(d,m):m}const vre=Fm.isStandardBrowserEnv?function(){const m=/(msie|trident)/i.test(navigator.userAgent),w=document.createElement("a");let S;function E(O){let B=O;return m&&(w.setAttribute("href",B),B=w.href),w.setAttribute("href",B),{href:w.href,protocol:w.protocol?w.protocol.replace(/:$/,""):"",host:w.host,search:w.search?w.search.replace(/^\?/,""):"",hash:w.hash?w.hash.replace(/^#/,""):"",hostname:w.hostname,port:w.port,pathname:w.pathname.charAt(0)==="/"?w.pathname:"/"+w.pathname}}return S=E(window.location.href),function(B){const I=jt.isString(B)?E(B):B;return I.protocol===S.protocol&&I.host===S.host}}():function(){return function(){return!0}}();function dre(d){const m=/^([-+\w]{1,25})(:?\/\/|:)/.exec(d);return m&&m[1]||""}function mre(d,m){d=d||10;const w=new Array(d),S=new Array(d);let E=0,O=0,B;return m=m!==void 0?m:1e3,function(G){const ee=Date.now(),ae=S[O];B||(B=ee),w[E]=G,S[E]=ee;let me=O,ie=0;for(;me!==E;)ie+=w[me++],me=me%d;if(E=(E+1)%d,E===O&&(O=(O+1)%d),ee-B<m)return;const oe=ae&&ee-ae;return oe?Math.round(ie*1e3/oe):void 0}}function rW(d,m){let w=0;const S=mre(50,250);return E=>{const O=E.loaded,B=E.lengthComputable?E.total:void 0,I=O-w,G=S(I),ee=O<=B;w=O;const ae={loaded:O,total:B,progress:B?O/B:void 0,bytes:I,rate:G||void 0,estimated:G&&B&&ee?(B-O)/G:void 0,event:E};ae[m?"download":"upload"]=!0,d(ae)}}const hre=typeof XMLHttpRequest<"u",gre=hre&&function(d){return new Promise(function(w,S){let E=d.data;const O=Z1.from(d.headers).normalize(),B=d.responseType;let I;function G(){d.cancelToken&&d.cancelToken.unsubscribe(I),d.signal&&d.signal.removeEventListener("abort",I)}jt.isFormData(E)&&(Fm.isStandardBrowserEnv||Fm.isStandardBrowserWebWorkerEnv?O.setContentType(!1):O.setContentType("multipart/form-data;",!1));let ee=new XMLHttpRequest;if(d.auth){const oe=d.auth.username||"",he=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";O.set("Authorization","Basic "+btoa(oe+":"+he))}const ae=Bj(d.baseURL,d.url);ee.open(d.method.toUpperCase(),Tj(ae,d.params,d.paramsSerializer),!0),ee.timeout=d.timeout;function me(){if(!ee)return;const oe=Z1.from("getAllResponseHeaders"in ee&&ee.getAllResponseHeaders()),Q={data:!B||B==="text"||B==="json"?ee.responseText:ee.response,status:ee.status,statusText:ee.statusText,headers:oe,config:d,request:ee};sre(function(Me){w(Me),G()},function(Me){S(Me),G()},Q),ee=null}if("onloadend"in ee?ee.onloadend=me:ee.onreadystatechange=function(){!ee||ee.readyState!==4||ee.status===0&&!(ee.responseURL&&ee.responseURL.indexOf("file:")===0)||setTimeout(me)},ee.onabort=function(){ee&&(S(new Ga("Request aborted",Ga.ECONNABORTED,d,ee)),ee=null)},ee.onerror=function(){S(new Ga("Network Error",Ga.ERR_NETWORK,d,ee)),ee=null},ee.ontimeout=function(){let he=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const Q=d.transitional||Oj;d.timeoutErrorMessage&&(he=d.timeoutErrorMessage),S(new Ga(he,Q.clarifyTimeoutError?Ga.ETIMEDOUT:Ga.ECONNABORTED,d,ee)),ee=null},Fm.isStandardBrowserEnv){const oe=(d.withCredentials||vre(ae))&&d.xsrfCookieName&&lre.read(d.xsrfCookieName);oe&&O.set(d.xsrfHeaderName,oe)}E===void 0&&O.setContentType(null),"setRequestHeader"in ee&&jt.forEach(O.toJSON(),function(he,Q){ee.setRequestHeader(Q,he)}),jt.isUndefined(d.withCredentials)||(ee.withCredentials=!!d.withCredentials),B&&B!=="json"&&(ee.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&ee.addEventListener("progress",rW(d.onDownloadProgress,!0)),typeof d.onUploadProgress=="function"&&ee.upload&&ee.upload.addEventListener("progress",rW(d.onUploadProgress)),(d.cancelToken||d.signal)&&(I=oe=>{ee&&(S(!oe||oe.type?new AD(null,d,ee):oe),ee.abort(),ee=null)},d.cancelToken&&d.cancelToken.subscribe(I),d.signal&&(d.signal.aborted?I():d.signal.addEventListener("abort",I)));const ie=dre(ae);if(ie&&Fm.protocols.indexOf(ie)===-1){S(new Ga("Unsupported protocol "+ie+":",Ga.ERR_BAD_REQUEST,d));return}ee.send(E||null)})},rP={http:Vne,xhr:gre};jt.forEach(rP,(d,m)=>{if(d){try{Object.defineProperty(d,"name",{value:m})}catch{}Object.defineProperty(d,"adapterName",{value:m})}});const $j={getAdapter:d=>{d=jt.isArray(d)?d:[d];const{length:m}=d;let w,S;for(let E=0;E<m&&(w=d[E],!(S=jt.isString(w)?rP[w.toLowerCase()]:w));E++);if(!S)throw S===!1?new Ga(`Adapter ${w} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(jt.hasOwnProp(rP,w)?`Adapter '${w}' is not available in the build`:`Unknown adapter '${w}'`);if(!jt.isFunction(S))throw new TypeError("adapter is not a function");return S},adapters:rP};function q7(d){if(d.cancelToken&&d.cancelToken.throwIfRequested(),d.signal&&d.signal.aborted)throw new AD(null,d)}function aW(d){return q7(d),d.headers=Z1.from(d.headers),d.data=G7.call(d,d.transformRequest),["post","put","patch"].indexOf(d.method)!==-1&&d.headers.setContentType("application/x-www-form-urlencoded",!1),$j.getAdapter(d.adapter||zH.adapter)(d).then(function(S){return q7(d),S.data=G7.call(d,d.transformResponse,S),S.headers=Z1.from(S.headers),S},function(S){return Rj(S)||(q7(d),S&&S.response&&(S.response.data=G7.call(d,d.transformResponse,S.response),S.response.headers=Z1.from(S.response.headers))),Promise.reject(S)})}const oW=d=>d instanceof Z1?d.toJSON():d;function iE(d,m){m=m||{};const w={};function S(ee,ae,me){return jt.isPlainObject(ee)&&jt.isPlainObject(ae)?jt.merge.call({caseless:me},ee,ae):jt.isPlainObject(ae)?jt.merge({},ae):jt.isArray(ae)?ae.slice():ae}function E(ee,ae,me){if(jt.isUndefined(ae)){if(!jt.isUndefined(ee))return S(void 0,ee,me)}else return S(ee,ae,me)}function O(ee,ae){if(!jt.isUndefined(ae))return S(void 0,ae)}function B(ee,ae){if(jt.isUndefined(ae)){if(!jt.isUndefined(ee))return S(void 0,ee)}else return S(void 0,ae)}function I(ee,ae,me){if(me in m)return S(ee,ae);if(me in d)return S(void 0,ee)}const G={url:O,method:O,data:O,baseURL:B,transformRequest:B,transformResponse:B,paramsSerializer:B,timeout:B,timeoutMessage:B,withCredentials:B,adapter:B,responseType:B,xsrfCookieName:B,xsrfHeaderName:B,onUploadProgress:B,onDownloadProgress:B,decompress:B,maxContentLength:B,maxBodyLength:B,beforeRedirect:B,transport:B,httpAgent:B,httpsAgent:B,cancelToken:B,socketPath:B,responseEncoding:B,validateStatus:I,headers:(ee,ae)=>E(oW(ee),oW(ae),!0)};return jt.forEach(Object.keys(Object.assign({},d,m)),function(ae){const me=G[ae]||E,ie=me(d[ae],m[ae],ae);jt.isUndefined(ie)&&me!==I||(w[ae]=ie)}),w}const Mj="1.5.0",LH={};["object","boolean","number","function","string","symbol"].forEach((d,m)=>{LH[d]=function(S){return typeof S===d||"a"+(m<1?"n ":" ")+d}});const iW={};LH.transitional=function(m,w,S){function E(O,B){return"[Axios v"+Mj+"] Transitional option '"+O+"'"+B+(S?". "+S:"")}return(O,B,I)=>{if(m===!1)throw new Ga(E(B," has been removed"+(w?" in "+w:"")),Ga.ERR_DEPRECATED);return w&&!iW[B]&&(iW[B]=!0,console.warn(E(B," has been deprecated since v"+w+" and will be removed in the near future"))),m?m(O,B,I):!0}};function pre(d,m,w){if(typeof d!="object")throw new Ga("options must be an object",Ga.ERR_BAD_OPTION_VALUE);const S=Object.keys(d);let E=S.length;for(;E-- >0;){const O=S[E],B=m[O];if(B){const I=d[O],G=I===void 0||B(I,O,d);if(G!==!0)throw new Ga("option "+O+" must be "+G,Ga.ERR_BAD_OPTION_VALUE);continue}if(w!==!0)throw new Ga("Unknown option "+O,Ga.ERR_BAD_OPTION)}}const vH={assertOptions:pre,validators:LH},Vy=vH.validators;class hP{constructor(m){this.defaults=m,this.interceptors={request:new tW,response:new tW}}request(m,w){typeof m=="string"?(w=w||{},w.url=m):w=m||{},w=iE(this.defaults,w);const{transitional:S,paramsSerializer:E,headers:O}=w;S!==void 0&&vH.assertOptions(S,{silentJSONParsing:Vy.transitional(Vy.boolean),forcedJSONParsing:Vy.transitional(Vy.boolean),clarifyTimeoutError:Vy.transitional(Vy.boolean)},!1),E!=null&&(jt.isFunction(E)?w.paramsSerializer={serialize:E}:vH.assertOptions(E,{encode:Vy.function,serialize:Vy.function},!0)),w.method=(w.method||this.defaults.method||"get").toLowerCase();let B=O&&jt.merge(O.common,O[w.method]);O&&jt.forEach(["delete","get","head","post","put","patch","common"],he=>{delete O[he]}),w.headers=Z1.concat(B,O);const I=[];let G=!0;this.interceptors.request.forEach(function(Q){typeof Q.runWhen=="function"&&Q.runWhen(w)===!1||(G=G&&Q.synchronous,I.unshift(Q.fulfilled,Q.rejected))});const ee=[];this.interceptors.response.forEach(function(Q){ee.push(Q.fulfilled,Q.rejected)});let ae,me=0,ie;if(!G){const he=[aW.bind(this),void 0];for(he.unshift.apply(he,I),he.push.apply(he,ee),ie=he.length,ae=Promise.resolve(w);me<ie;)ae=ae.then(he[me++],he[me++]);return ae}ie=I.length;let oe=w;for(me=0;me<ie;){const he=I[me++],Q=I[me++];try{oe=he(oe)}catch(Ct){Q.call(this,Ct);break}}try{ae=aW.call(this,oe)}catch(he){return Promise.reject(he)}for(me=0,ie=ee.length;me<ie;)ae=ae.then(ee[me++],ee[me++]);return ae}getUri(m){m=iE(this.defaults,m);const w=Bj(m.baseURL,m.url);return Tj(w,m.params,m.paramsSerializer)}}jt.forEach(["delete","get","head","options"],function(m){hP.prototype[m]=function(w,S){return this.request(iE(S||{},{method:m,url:w,data:(S||{}).data}))}});jt.forEach(["post","put","patch"],function(m){function w(S){return function(O,B,I){return this.request(iE(I||{},{method:m,headers:S?{"Content-Type":"multipart/form-data"}:{},url:O,data:B}))}}hP.prototype[m]=w(),hP.prototype[m+"Form"]=w(!0)});const aP=hP;class FH{constructor(m){if(typeof m!="function")throw new TypeError("executor must be a function.");let w;this.promise=new Promise(function(O){w=O});const S=this;this.promise.then(E=>{if(!S._listeners)return;let O=S._listeners.length;for(;O-- >0;)S._listeners[O](E);S._listeners=null}),this.promise.then=E=>{let O;const B=new Promise(I=>{S.subscribe(I),O=I}).then(E);return B.cancel=function(){S.unsubscribe(O)},B},m(function(O,B,I){S.reason||(S.reason=new AD(O,B,I),w(S.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(m){if(this.reason){m(this.reason);return}this._listeners?this._listeners.push(m):this._listeners=[m]}unsubscribe(m){if(!this._listeners)return;const w=this._listeners.indexOf(m);w!==-1&&this._listeners.splice(w,1)}static source(){let m;return{token:new FH(function(E){m=E}),cancel:m}}}const bre=FH;function yre(d){return function(w){return d.apply(null,w)}}function wre(d){return jt.isObject(d)&&d.isAxiosError===!0}const dH={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dH).forEach(([d,m])=>{dH[m]=d});const Cre=dH;function Pj(d){const m=new aP(d),w=gj(aP.prototype.request,m);return jt.extend(w,aP.prototype,m,{allOwnKeys:!0}),jt.extend(w,m,null,{allOwnKeys:!0}),w.create=function(E){return Pj(iE(d,E))},w}const qu=Pj(zH);qu.Axios=aP;qu.CanceledError=AD;qu.CancelToken=bre;qu.isCancel=Rj;qu.VERSION=Mj;qu.toFormData=HP;qu.AxiosError=Ga;qu.Cancel=qu.CanceledError;qu.all=function(m){return Promise.all(m)};qu.spread=yre;qu.isAxiosError=wre;qu.mergeConfig=iE;qu.AxiosHeaders=Z1;qu.formToJSON=d=>Dj(jt.isHTMLForm(d)?new FormData(d):d);qu.getAdapter=$j.getAdapter;qu.HttpStatusCode=Cre;qu.default=qu;const Wn=qu;const Sre={class:"full"},xre={class:"login-container"},_re={class:"login-content"},kre=U("img",{src:aj,width:"200"},null,-1),Are=U("p",null,"Bitte melden Sie sich an.",-1),Ere={key:0,class:"spin-loading"},Tre={key:1},Ore={__name:"Login",setup(d){const m=At(""),w=At(""),S=At(!1),E=()=>{S.value=!0,Wn.post("/auth/login",{email:m.value,password:w.value}).then(O=>{S.value=!1,sessionStorage.setItem("token",O.data.token),window.location.href="/"}).catch(O=>{S.value=!1,console.log(O),window.alert("Sie konnten nicht angemeldet werden. Überprüfen Sie Ihre Eingaben.")})};return(O,B)=>(Ve(),Ze("main",Sre,[U("div",xre,[U("div",_re,[kre,Are,ar(U("input",{type:"email",placeholder:"Email","onUpdate:modelValue":B[0]||(B[0]=I=>m.value=I)},null,512),[[cr,m.value]]),ar(U("input",{type:"password",placeholder:"Passwort","onUpdate:modelValue":B[1]||(B[1]=I=>w.value=I)},null,512),[[cr,w.value]]),U("button",{class:"button-primary",onClick:E},[S.value?(Ve(),Ze("span",Ere)):(Ve(),Ze("span",Tre,"Anmelden"))])])])]))}};const ED=(d,m)=>{const w=d.__vccOpts||d;for(const[S,E]of m)w[S]=E;return w},qm=d=>(OP("data-v-983e2b26"),d=d(),DP(),d),Dre={key:1},Rre=qm(()=>U("div",{class:"header-content"},[U("img",{alt:"Vue logo",class:"logo",src:aj,width:"40",height:"40"})],-1)),Bre=[Rre],$re={key:2,class:"content-container"},Mre={class:"sidebar"},Pre={class:"wrapper"},Nre=qm(()=>U("img",{src:Jee,width:"25",height:"25"},null,-1)),Ire=qm(()=>U("img",{src:Zee,width:"25",height:"25"},null,-1)),zre=qm(()=>U("img",{src:Qee,width:"25",height:"25"},null,-1)),Lre=qm(()=>U("img",{src:ete,width:"25",height:"25"},null,-1)),Fre=qm(()=>U("img",{src:tte,width:"25",height:"25"},null,-1)),Hre=qm(()=>U("img",{src:nte,width:"25",height:"25"},null,-1)),Vre=qm(()=>U("img",{src:rte,width:"25",height:"25"},null,-1)),Ure=qm(()=>U("img",{src:ate,width:"25",height:"25"},null,-1)),Wre=qm(()=>U("img",{src:ote,width:"25",height:"25"},null,-1)),jre=qm(()=>U("img",{src:ite,width:"25",height:"25"},null,-1)),Gre={__name:"App",setup(d){const m=At(!1),w=()=>{sessionStorage.getItem("token")?m.value=!0:m.value=!1};return setInterval(()=>{w()},60*1e3),ep(()=>{w()}),(S,E)=>(Ve(),Ze(Or,null,[m.value?Lr("",!0):(Ve(),_d(Ore,{key:0})),m.value?(Ve(),Ze("header",Dre,Bre)):Lr("",!0),m.value?(Ve(),Ze("div",$re,[U("div",Mre,[U("div",Pre,[_t(Po(Cv),{to:"/touren",class:"navigation-link"},{default:Jt(()=>[Nre,Tr(" Touren ")]),_:1}),_t(Po(Cv),{to:"/guides",class:"navigation-link"},{default:Jt(()=>[Ire,Tr(" Guides ")]),_:1}),_t(Po(Cv),{to:"/sprachen",class:"navigation-link"},{default:Jt(()=>[zre,Tr(" Sprachen ")]),_:1}),_t(Po(Cv),{to:"/mobilitaet",class:"navigation-link"},{default:Jt(()=>[Lre,Tr(" Mobilität ")]),_:1}),_t(Po(Cv),{to:"/orte",class:"navigation-link"},{default:Jt(()=>[Fre,Tr(" Orte ")]),_:1}),_t(Po(Cv),{to:"/kategorien",class:"navigation-link"},{default:Jt(()=>[Hre,Tr(" Kategorie ")]),_:1}),_t(Po(Cv),{to:"/zertifikate",class:"navigation-link"},{default:Jt(()=>[Vre,Tr(" Zertifikate ")]),_:1}),_t(Po(Cv),{to:"/skills",class:"navigation-link"},{default:Jt(()=>[Ure,Tr(" Skills ")]),_:1}),_t(Po(Cv),{to:"/pages",class:"navigation-link"},{default:Jt(()=>[Wre,Tr(" Seiten ")]),_:1}),_t(Po(Cv),{to:"/verwaltung",class:"navigation-link align-bottom"},{default:Jt(()=>[jre,Tr(" Benutzerverwaltung ")]),_:1})])]),m.value?(Ve(),_d(Po(hj),{key:0,class:"view"})):Lr("",!0)])):Lr("",!0)],64))}},qre=ED(Gre,[["__scopeId","data-v-983e2b26"]]),np="/assets/edit-cf18a27b.svg",kd="/assets/delete-8c83b779.svg";const Kre=d=>(OP("data-v-47e38e88"),d=d(),DP(),d),Xre={class:"input-container"},Yre={class:"align-end"},Jre={key:0},Zre={class:"align-end"},Qre={key:1},eae=["colspan"],tae=Kre(()=>U("span",{class:"loader"},null,-1)),nae={key:2},rae=["colspan"],aae={__name:"IDLTable",props:{tableData:{type:Array,required:!0},tableColumns:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(d){const m=d,w=At(""),S=Qo(()=>m.tableData.filter(O=>Object.values(O).some(B=>String(B).toLowerCase().includes(w.value.toLowerCase())))),E=O=>typeof O=="boolean"?O?"Ja":"Nein":typeof O=="number"?O===0?"Nein":"Ja":new Date(O).getTime()>0?new Date(O).toLocaleString("de-DE"):O==="draft"?"Entwurf":O==="published"?"Veröffentlicht":O;return(O,B)=>(Ve(),Ze("div",null,[U("div",Xre,[ar(U("input",{type:"search","onUpdate:modelValue":B[0]||(B[0]=I=>w.value=I),placeholder:"Suche"},null,512),[[cr,w.value]])]),U("table",null,[U("thead",null,[U("tr",null,[(Ve(!0),Ze(Or,null,po(d.tableColumns,I=>(Ve(),Ze("th",{key:I.key},ir(I.title),1))),128)),U("th",Yre,[eH(O.$slots,"actions",{},void 0,!0)])])]),S.value.length>0?(Ve(),Ze("tbody",Jre,[(Ve(!0),Ze(Or,null,po(S.value,I=>(Ve(),Ze("tr",{key:I.id},[(Ve(!0),Ze(Or,null,po(d.tableColumns,G=>(Ve(),Ze("td",{key:G.key},ir(E(I[G.key])),1))),128)),U("td",Zre,[eH(O.$slots,"tableActions",{row:I},void 0,!0)])]))),128))])):d.loading?(Ve(),Ze("tbody",Qre,[U("tr",null,[U("td",{colspan:d.tableColumns.length+1},[tae,Tr("Lade Daten...")],8,eae)])])):(Ve(),Ze("tbody",nae,[U("tr",null,[U("td",{colspan:S.value.length+1},"Keine Daten vorhanden",8,rae)])]))])]))}},rp=ED(aae,[["__scopeId","data-v-47e38e88"]]),oae={class:"row"},iae=U("h1",null,"Alle Touren",-1),uae=U("hr",{class:"divider"},null,-1),sae=U("img",{src:np,width:"20"},null,-1),lae=["onClick"],cae=U("img",{src:kd,width:"20"},null,-1),fae=[cae],vae={__name:"Overview",setup(d){const m=At([]),w=At(!1),S=At([{key:"name",title:"Name"},{key:"status",title:"Status"},{key:"is_public",title:"Öffentliche Tour"},{key:"updated_at",title:"zuletzt aktualisiert"}]),E=()=>{w.value=!0,Wn.get("/tours").then(B=>{w.value=!1,m.value=B.data.tours}).catch(B=>{w.value=!1,B.response.status===401?sessionStorage.removeItem("token"):(console.log(B),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut."))})},O=B=>{Wn.delete(`/tours/${B}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{console.log(I),E()}).catch(I=>{console.log(I),I.response.status===401?sessionStorage.removeItem("token"):(console.log(I),window.alert("Die Tour konnte nicht gelöscht werden. Bitte versuche es erneut."))})};return lo(()=>{E()}),(B,I)=>{const G=eo("router-link"),ee=eo("RouterLink");return Ve(),Ze("main",null,[U("div",oae,[iae,_t(G,{to:"/tour-erstellen",class:"button-primary"},{default:Jt(()=>[Tr("Tour hinzufügen")]),_:1})]),uae,_t(rp,{tableData:m.value,tableColumns:S.value,loading:w.value},{actions:Jt(()=>[Tr(" Aktionen ")]),tableActions:Jt(ae=>[_t(ee,{to:`/tour-bearbeiten/${ae.row.id}`},{default:Jt(()=>[sae]),_:2},1032,["to"]),U("button",{onClick:me=>O(ae.row.id)},fae,8,lae)]),_:1},8,["tableData","tableColumns","loading"])])}}},dae="/assets/de-8fcaa96d.svg",mae="/assets/en-4c5edc0c.svg";const hae={class:"languageContainer"},gae={class:"languageIcon"},pae=["src","alt"],bae={class:"languageContainerColumns"},yae={class:"languageTitle"},Ca={__name:"LanguageContainer",props:{lang:{type:String,default:"de"},title:{type:String,required:!0,default:"Keinen Titel angegeben"}},setup(d){const m=d,w={de:dae,en:mae},S=m.lang;return(E,O)=>(Ve(),Ze("div",hae,[U("div",gae,[U("img",{src:w[Po(S)],alt:Po(S)},null,8,pae)]),U("div",bae,[U("h4",yae,ir(d.title),1),eH(E.$slots,"content")])]))}};const wae={style:{"margin-bottom":"10px"}},Cae={class:"input-row"},Sae=["aria-checked","onKeydown"],xae={class:"toggle-value"},Nj={__name:"toggleSwitch",props:{value:{type:Boolean,default:!1},color:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},titel:{type:String,default:"Titel"}},emits:["input"],setup(d,{emit:m}){const w=d,S=Qo(()=>({"bg-primary":w.value,"bg-secondary":!w.value})),E=Qo(()=>({transform:w.value?"translateX(14px)":"translateX(0)"})),O=()=>{w.disabled||m("input",!w.value)};return(B,I)=>(Ve(),Ze("div",null,[U("h4",wae,ir(d.titel),1),U("div",Cae,[U("span",{class:"toggle-wrapper",role:"checkbox","aria-checked":d.value.toString(),tabindex:"0",onClick:O,onKeydown:Uee(Hee(O,["prevent"]),["space"])},[U("span",{class:SP(["toggle-background",S.value])},null,2),U("span",{class:"toggle-indicator",style:CP(E.value)},null,4)],40,Sae),U("span",xae,ir(d.value?"Ja":"Nein"),1)])]))}},MS="/assets/close-e7fb7946.svg";var gP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _ae(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var Ij={exports:{}};(function(d){(function(){var m=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},w=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},S=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},E=function(e,n){return O(function(a,i){return e.eq(n(a),n(i))})},O=function(e){return{eq:e}},B=O(function(e,n){return e===n}),I=B,G=function(e){return O(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,l=0;l<i;l++)if(!e.eq(n[l],a[l]))return!1;return!0})},ee=function(e,n){return E(G(e),function(a){return S(a,n)})},ae=function(e){return O(function(n,a){var i=Object.keys(n),l=Object.keys(a);if(!ee(I).eq(i,l))return!1;for(var f=i.length,p=0;p<f;p++){var C=i[p];if(!e.eq(n[C],a[C]))return!1}return!0})},me=O(function(e,n){if(e===n)return!0;var a=m(e),i=m(n);return a!==i?!1:w(a)?e===n:a==="array"?G(me).eq(e,n):a==="object"?ae(me).eq(e,n):!1}),ie=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},oe=function(e){return function(n){return ie(n)===e}},he=function(e){return function(n){return typeof n===e}},Q=function(e){return function(n){return e===n}},Ct=oe("string"),Me=oe("object"),rt=oe("array"),ve=Q(null),tt=he("boolean"),He=Q(void 0),Xt=function(e){return e==null},mn=function(e){return!Xt(e)},Nt=he("function"),Cn=he("number"),Qt=function(){},Eo=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},Ce=function(e,n){return function(a){return e(n(a))}},Y=function(e){return function(){return e}},Ht=function(e){return e},_r=function(e,n){return e===n};function ft(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var f=n.concat(i);return e.apply(null,f)}}var Kn=function(e){return function(n){return!e(n)}},xn=function(e){return function(){throw new Error(e)}},P=function(e){return e()},ta=function(e){e()},Dt=Y(!1),en=Y(!0),Mi=function(){return Xi},Xi=function(){var e=function(i){return i()},n=Ht,a={fold:function(i,l){return i()},isSome:Dt,isNone:en,getOr:n,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:Y(null),getOrUndefined:Y(void 0),or:n,orThunk:e,map:Mi,each:Qt,bind:Mi,exists:Dt,forall:en,filter:function(){return Mi()},toArray:function(){return[]},toString:Y("none()")};return a}(),nr=function(e){var n=Y(e),a=function(){return l},i=function(f){return f(e)},l={fold:function(f,p){return p(e)},isSome:en,isNone:Dt,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(f){return nr(f(e))},each:function(f){f(e)},bind:i,exists:i,forall:i,filter:function(f){return f(e)?l:Xi},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return l},Fr=function(e){return e==null?Xi:nr(e)},K={some:nr,none:Mi,from:Fr},En=Array.prototype.slice,Ne=Array.prototype.indexOf,yt=Array.prototype.push,Dr=function(e,n){return Ne.call(e,n)},ye=function(e,n){var a=Dr(e,n);return a===-1?K.none():K.some(a)},pe=function(e,n){return Dr(e,n)>-1},Fe=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return!0}return!1},je=function(e,n){for(var a=e.length,i=new Array(a),l=0;l<a;l++){var f=e[l];i[l]=n(f,l)}return i},Be=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];n(l,a)}},bt=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},on=function(e,n){for(var a=[],i=[],l=0,f=e.length;l<f;l++){var p=e[l],C=n(p,l)?a:i;C.push(p)}return{pass:a,fail:i}},Qe=function(e,n){for(var a=[],i=0,l=e.length;i<l;i++){var f=e[i];n(f,i)&&a.push(f)}return a},qt=function(e,n,a){return bt(e,function(i,l){a=n(a,i,l)}),a},Et=function(e,n,a){return Be(e,function(i,l){a=n(a,i,l)}),a},Rt=function(e,n,a){for(var i=0,l=e.length;i<l;i++){var f=e[i];if(n(f,i))return K.some(f);if(a(f,i))break}return K.none()},sn=function(e,n){return Rt(e,n,Dt)},Pn=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return K.some(a)}return K.none()},or=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!rt(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);yt.apply(n,e[a])}return n},gr=function(e,n){return or(je(e,n))},na=function(e,n){for(var a=0,i=e.length;a<i;++a){var l=e[a];if(n(l,a)!==!0)return!1}return!0},Er=function(e){var n=En.call(e,0);return n.reverse(),n},Aa=function(e,n){return Qe(e,function(a){return!pe(n,a)})},ti=function(e,n){for(var a={},i=0,l=e.length;i<l;i++){var f=e[i];a[String(f)]=n(f,i)}return a},Pa=function(e,n){var a=En.call(e,0);return a.sort(n),a},Ea=function(e,n){return n>=0&&n<e.length?K.some(e[n]):K.none()},to=function(e){return Ea(e,0)},Sa=function(e){return Ea(e,e.length-1)},mr=Nt(Array.from)?Array.from:function(e){return En.call(e)},no=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return K.none()},ku=Object.keys,Ad=Object.hasOwnProperty,Hr=function(e,n){for(var a=ku(e),i=0,l=a.length;i<l;i++){var f=a[i],p=e[f];n(p,f)}},ps=function(e,n){return Us(e,function(a,i){return{k:i,v:n(a,i)}})},Us=function(e,n){var a={};return Hr(e,function(i,l){var f=n(i,l);a[f.k]=f.v}),a},jl=function(e){return function(n,a){e[a]=n}},Dn=function(e,n,a,i){var l={};return Hr(e,function(f,p){(n(f,p)?a:i)(f,p)}),l},Xr=function(e,n){var a={},i={};return Dn(e,n,jl(a),jl(i)),{t:a,f:i}},ni=function(e,n){var a={};return Dn(e,n,jl(a),Qt),a},bs=function(e,n){var a=[];return Hr(e,function(i,l){a.push(n(i,l))}),a},Ed=function(e){return bs(e,Ht)},Qr=function(e,n){return pr(e,n)?K.from(e[n]):K.none()},pr=function(e,n){return Ad.call(e,n)},Ws=function(e,n){return pr(e,n)&&e[n]!==void 0&&e[n]!==null},Km=function(e,n,a){return a===void 0&&(a=me),ae(a).eq(e,n)},xf=Array.isArray,js=function(e){if(xf(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},Tc=function(e,n,a){var i,l;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(pr(e,i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},Sv=function(e,n){var a=[];return Tc(e,function(i,l){a.push(n(i,l,e))}),a},ml=function(e,n){var a=[];return Tc(e,function(i,l){(!n||n(i,l,e))&&a.push(i)}),a},hl=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},_f=function(e,n,a,i){for(var l=He(a)?e[0]:a,f=0;f<e.length;f++)l=n.call(i,l,e[f],f);return l},aa=function(e,n,a){var i,l;for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e))return i;return-1},Gs=function(e){return e[e.length-1]},Mn=function(){return Mn=Object.assign||function(n){for(var a,i=1,l=arguments.length;i<l;i++){a=arguments[i];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(n[f]=a[f])}return n},Mn.apply(this,arguments)};function Xm(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a}function Au(e,n,a){if(a||arguments.length===2)for(var i=0,l=n.length,f;i<l;i++)(f||!(i in n))&&(f||(f=Array.prototype.slice.call(n,0,i)),f[i]=n[i]);return e.concat(f||Array.prototype.slice.call(n))}var Oc=function(e){var n=!1,a;return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return n||(n=!0,a=e.apply(null,i)),a}},Ym=function(e,n,a,i){var l=e.isiOS()&&/ipad/i.test(a)===!0,f=e.isiOS()&&!l,p=e.isiOS()||e.isAndroid(),C=p||i("(pointer:coarse)"),_=l||!f&&p&&i("(min-device-width:768px)"),$=f||p&&!_,F=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,V=!$&&!_&&!F;return{isiPad:Y(l),isiPhone:Y(f),isTablet:Y(_),isPhone:Y($),isTouch:Y(C),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Y(F),isDesktop:Y(V)}},Gl=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},Jm=function(e,n){var a=Gl(e,n);if(!a)return{major:0,minor:0};var i=function(l){return Number(n.replace(a,"$"+l))};return ys(i(1),i(2))},kf=function(e,n){var a=String(n).toLowerCase();return e.length===0?Zm():Jm(e,a)},Zm=function(){return ys(0,0)},ys=function(e,n){return{major:e,minor:n}},Dc={nu:ys,detect:kf,unknown:Zm},Gt=function(e,n){return no(n.brands,function(a){var i=a.brand.toLowerCase();return sn(e,function(l){var f;return i===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(function(l){return{current:l.name,version:Dc.nu(parseInt(a.version,10),0)}})})},Td=function(e,n){var a=String(n).toLowerCase();return sn(e,function(i){return i.search(a)})},xv=function(e,n){return Td(e,n).map(function(a){var i=Dc.detect(a.versionRegexes,n);return{current:a.name,version:i}})},_v=function(e,n){return Td(e,n).map(function(a){var i=Dc.detect(a.versionRegexes,n);return{current:a.name,version:i}})},ql=function(e,n){return e.substring(n)},Ku=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},Qm=function(e,n){return co(e,n)?ql(e,n.length):e},To=function(e,n){return e.indexOf(n)!==-1},co=function(e,n){return Ku(e,n,0)},Eu=function(e){return function(n){return n.replace(e,"")}},qs=Eu(/^\s+|\s+$/g),Od=Eu(/^\s+/g),Xu=Eu(/\s+$/g),Af=function(e){return e.length>0},Dd=function(e){return!Af(e)},gl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Tu=function(e){return function(n){return To(n,e)}},Lt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return To(e,"edge/")&&To(e,"chrome")&&To(e,"safari")&&To(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,gl],search:function(e){return To(e,"chrome")&&!To(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return To(e,"msie")||To(e,"trident")}},{name:"Opera",versionRegexes:[gl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Tu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Tu("firefox")},{name:"Safari",versionRegexes:[gl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(To(e,"safari")||To(e,"mobile/"))&&To(e,"applewebkit")}}],bi=[{name:"Windows",search:Tu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return To(e,"iphone")||To(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Tu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Tu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Tu("linux"),versionRegexes:[]},{name:"Solaris",search:Tu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Tu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Tu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],pl={browsers:Y(Lt),oses:Y(bi)},eh="Edge",Ef="Chrome",Vr="IE",kv="Opera",bl="Firefox",ro="Safari",Av=function(){return iu({current:void 0,version:Dc.unknown()})},iu=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isEdge:i(eh),isChrome:i(Ef),isIE:i(Vr),isOpera:i(kv),isFirefox:i(bl),isSafari:i(ro)}},Yu={unknown:Av,nu:iu,edge:Y(eh),chrome:Y(Ef),ie:Y(Vr),opera:Y(kv),firefox:Y(bl),safari:Y(ro)},xa="Windows",Tf="iOS",Of="Android",Ev="Linux",Rd="OSX",yl="Solaris",Ks="FreeBSD",Tv="ChromeOS",ws=function(){return Ou({current:void 0,version:Dc.unknown()})},Ou=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isWindows:i(xa),isiOS:i(Tf),isAndroid:i(Of),isOSX:i(Rd),isLinux:i(Ev),isSolaris:i(yl),isFreeBSD:i(Ks),isChromeOS:i(Tv)}},J={unknown:ws,nu:Ou,windows:Y(xa),ios:Y(Tf),android:Y(Of),linux:Y(Ev),osx:Y(Rd),solaris:Y(yl),freebsd:Y(Ks),chromeos:Y(Tv)},_e=function(e,n,a){var i=pl.browsers(),l=pl.oses(),f=n.bind(function(_){return Gt(i,_)}).orThunk(function(){return xv(i,e)}).fold(Yu.unknown,Yu.nu),p=_v(l,e).fold(J.unknown,J.nu),C=Ym(p,f,e,a);return{browser:f,os:p,deviceType:C}},Pe={detect:_e},ut=function(e){return window.matchMedia(e).matches},Bt=Oc(function(){return Pe.detect(navigator.userAgent,K.from(navigator.userAgentData),ut)}),bn=function(){return Bt()},Gr=navigator.userAgent,oa=bn(),rr=oa.browser,Da=oa.os,La=oa.deviceType,Rc=/WebKit/.test(Gr)&&!rr.isEdge(),Pi="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Kl=Gr.indexOf("Windows Phone")!==-1,Rn={opera:rr.isOpera(),webkit:Rc,ie:rr.isIE()||rr.isEdge()?rr.version.major:!1,gecko:rr.isFirefox(),mac:Da.isOSX()||Da.isiOS(),iOS:La.isiPad()||La.isiPhone(),android:Da.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:rr.isIE()?document.documentMode||7:10,fileApi:Pi,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!rr.isIE(),desktop:La.isDesktop(),windowsPhone:Kl,browser:{current:rr.current,version:rr.version,isChrome:rr.isChrome,isEdge:rr.isEdge,isFirefox:rr.isFirefox,isIE:rr.isIE,isOpera:rr.isOpera,isSafari:rr.isSafari},os:{current:Da.current,version:Da.version,isAndroid:Da.isAndroid,isChromeOS:Da.isChromeOS,isFreeBSD:Da.isFreeBSD,isiOS:Da.isiOS,isLinux:Da.isLinux,isOSX:Da.isOSX,isSolaris:Da.isSolaris,isWindows:Da.isWindows},deviceType:{isDesktop:La.isDesktop,isiPad:La.isiPad,isiPhone:La.isiPhone,isPhone:La.isPhone,isTablet:La.isTablet,isTouch:La.isTouch,isWebView:La.isWebView}},th=/^\s*|\s*$/g,ap=function(e){return e==null?"":(""+e).replace(th,"")},Ur=function(e,n){return n?n==="array"&&xf(e)?!0:typeof e===n:e!==void 0},op=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},nh=pr,Xy=function(e,n,a){var i=this,l,f,p,C=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var _=e[3].match(/(^|\.)(\w+)$/i)[2],$=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!$[_]){if(e[2]==="static"){$[_]=n,this.onCreate&&this.onCreate(e[2],e[3],$[_]);return}n[_]||(n[_]=function(){},C=1),$[_]=n[_],i.extend($[_].prototype,n),e[5]&&(l=i.resolve(e[5]).prototype,f=e[5].match(/\.(\w+)$/i)[1],p=$[_],C?$[_]=function(){return l[f].apply(this,arguments)}:$[_]=function(){return this.parent=l[f],p.apply(this,arguments)},$[_].prototype[_]=$[_],i.each(l,function(F,V){$[_].prototype[V]=l[V]}),i.each(n,function(F,V){l[V]?$[_].prototype[V]=function(){return this.parent=l[V],F.apply(this,arguments)}:V!==_&&($[_].prototype[V]=F)})),i.each(n.static,function(F,V){$[_][V]=F})}},da=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var l=n[i];for(var f in l)if(pr(l,f)){var p=l[f];p!==void 0&&(e[f]=p)}}return e},Xs=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),Tc(e,function(l,f){if(n.call(i,l,f,a)===!1)return!1;Xs(l,n,a,i)}))},Yy=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},wl=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},qo=function(e,n){return!e||Ur(e,"array")?e:Sv(e.split(n||","),ap)},Df=function(e){var n=Rn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},et={trim:ap,isArray:xf,is:Ur,toArray:js,makeMap:op,each:Tc,map:Sv,grep:ml,inArray:hl,hasOwn:nh,extend:da,create:Xy,walk:Xs,createNS:Yy,resolve:wl,explode:qo,_addCacheSuffix:Df},rh=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Rf(i.childNodes[0])},bo=function(e,n){var a=n||document,i=a.createElement(e);return Rf(i)},nb=function(e,n){var a=n||document,i=a.createTextNode(e);return Rf(i)},Rf=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ov=function(e,n,a){return K.from(e.dom.elementFromPoint(n,a)).map(Rf)},De={fromHtml:rh,fromTag:bo,fromText:nb,fromDom:Rf,fromPoint:Ov},ri=function(e,n){var a=[],i=function(f){return a.push(f),n(f)},l=n(e);do l=l.bind(i);while(l.isSome());return a},ah=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},ip=function(e,n){return ah(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},rb=8,Bd=9,up=11,sp=1,Cs=3,Xl=function(e,n){var a=e.dom;if(a.nodeType!==sp)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},ab=function(e){return e.nodeType!==sp&&e.nodeType!==Bd&&e.nodeType!==up||e.childElementCount===0},ob=function(e,n){var a=n===void 0?document:n.dom;return ab(a)?[]:je(a.querySelectorAll(e),De.fromDom)},Yl=function(e,n){var a=n===void 0?document:n.dom;return ab(a)?K.none():K.from(a.querySelector(e)).map(De.fromDom)},_a=function(e,n){return e.dom===n.dom},ib=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},uu=function(e,n){return ip(e.dom,n.dom)},Ni=function(e,n){return bn().browser.isIE()?uu(e,n):ib(e,n)};typeof window<"u"||Function("return this;")();var yo=function(e){var n=e.dom.nodeName;return n.toLowerCase()},Bc=function(e){return e.dom.nodeType},Xn=function(e){return function(n){return Bc(n)===e}},Ju=function(e){return Bc(e)===rb||yo(e)==="#comment"},Ra=Xn(sp),Fa=Xn(Cs),ub=Xn(Bd),ai=Xn(up),lp=function(e){return function(n){return Ra(n)&&yo(n)===e}},Cl=function(e){return De.fromDom(e.dom.ownerDocument)},Nn=function(e){return ub(e)?e:Cl(e)},Zu=function(e){return De.fromDom(Nn(e).dom.documentElement)},qa=function(e){return De.fromDom(Nn(e).dom.defaultView)},Ka=function(e){return K.from(e.dom.parentNode).map(De.fromDom)},No=function(e,n){for(var a=Nt(n)?n:Dt,i=e.dom,l=[];i.parentNode!==null&&i.parentNode!==void 0;){var f=i.parentNode,p=De.fromDom(f);if(l.push(p),a(p)===!0)break;i=f}return l},wo=function(e){var n=function(a){return Qe(a,function(i){return!_a(e,i)})};return Ka(e).map(Yi).map(n).getOr([])},Bf=function(e){return K.from(e.dom.previousSibling).map(De.fromDom)},Ss=function(e){return K.from(e.dom.nextSibling).map(De.fromDom)},Mr=function(e){return Er(ri(e,Bf))},ka=function(e){return ri(e,Ss)},Yi=function(e){return je(e.dom.childNodes,De.fromDom)},Jl=function(e,n){var a=e.dom.childNodes;return K.from(a[n]).map(De.fromDom)},Oo=function(e){return Jl(e,0)},Qu=function(e){return Jl(e,e.dom.childNodes.length-1)},sb=function(e){return e.dom.childNodes.length},$f=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return De.fromDom(n)},la=function(e){return ai(e)&&mn(e.dom.host)},Ys=Nt(Element.prototype.attachShadow)&&Nt(Node.prototype.getRootNode),$c=Y(Ys),su=Ys?function(e){return De.fromDom(e.dom.getRootNode())}:Nn,ao=function(e){return la(e)?e:$f(Nn(e))},Mc=function(e){var n=su(e);return la(n)?K.some(n):K.none()},Zl=function(e){return De.fromDom(e.dom.host)},Ii=function(e){if($c()&&mn(e.target)){var n=De.fromDom(e.target);if(Ra(n)&&lu(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return to(a)}}return K.from(e.target)},lu=function(e){return mn(e.dom.shadowRoot)},yi=function(e,n){var a=Ka(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},Dv=function(e,n){var a=Ss(e);a.fold(function(){var i=Ka(e);i.each(function(l){Io(l,n)})},function(i){yi(i,n)})},Js=function(e,n){var a=Oo(e);a.fold(function(){Io(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},Io=function(e,n){e.dom.appendChild(n.dom)},$d=function(e,n){yi(e,n),Io(n,e)},lb=function(e,n){Be(n,function(a){yi(e,a)})},Mf=function(e,n){Be(n,function(a){Io(e,a)})},Pf=function(e){e.dom.textContent="",Be(Yi(e),function(n){oo(n)})},oo=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Nf=function(e){var n=Yi(e);n.length>0&&lb(e,n),oo(e)},If=function(e){var n=Fa(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return Mc(De.fromDom(n)).fold(function(){return a.body.contains(n)},Ce(If,Zl))},zi=function(e,n){var a=function(i,l){return zi(e+i,n+l)};return{left:e,top:n,translate:a}},Ql=zi,zf=function(e){var n=e.getBoundingClientRect();return Ql(n.left,n.top)},ec=function(e,n){return e!==void 0?e:n!==void 0?n:0},Na=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,l=n.documentElement;if(a===e.dom)return Ql(a.offsetLeft,a.offsetTop);var f=ec(i==null?void 0:i.pageYOffset,l.scrollTop),p=ec(i==null?void 0:i.pageXOffset,l.scrollLeft),C=ec(l.clientTop,a.clientTop),_=ec(l.clientLeft,a.clientLeft);return Du(e).translate(p-_,f-C)},Du=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?Ql(i.offsetLeft,i.offsetTop):If(e)?zf(n):Ql(0,0)},oh=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return Ql(a,i)},es=function(e,n,a){var i=a!==void 0?a.dom:document,l=i.defaultView;l&&l.scrollTo(e,n)},ih=function(e,n){var a=bn().browser.isSafari();a&&Nt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},cb=function(e){var n=e===void 0?window:e;return bn().browser.isFirefox()?K.none():K.from(n.visualViewport)},cp=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},Lf=function(e){var n=e===void 0?window:e,a=n.document,i=oh(De.fromDom(a));return cb(n).fold(function(){var l=n.document.documentElement,f=l.clientWidth,p=l.clientHeight;return cp(i.left,i.top,f,p)},function(l){return cp(Math.max(l.pageLeft,i.left),Math.max(l.pageTop,i.top),l.width,l.height)})},Ff=function(e){return function(n){return!!n&&n.nodeType===e}},Pc=function(e){return!!e&&!Object.getPrototypeOf(e)},In=Ff(1),xs=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return pe(n,i)}return!1}},cu=function(e,n){var a=n.toLowerCase().split(" ");return function(i){if(In(i))for(var l=0;l<a.length;l++){var f=i.ownerDocument.defaultView.getComputedStyle(i,null),p=f?f.getPropertyValue(e):null;if(p===a[l])return!0}return!1}},Li=function(e){return function(n){return In(n)&&n.hasAttribute(e)}},_s=function(e,n){return function(a){return In(a)&&a.getAttribute(e)===n}},fo=function(e){return In(e)&&e.hasAttribute("data-mce-bogus")},zo=function(e){return In(e)&&e.getAttribute("data-mce-bogus")==="all"},Co=function(e){return In(e)&&e.tagName==="TABLE"},Nc=function(e){return function(n){return!!(In(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},wi=xs(["textarea","input"]),rn=Ff(3),Hf=Ff(8),fp=Ff(9),Yn=Ff(11),ca=xs(["br"]),uh=xs(["img"]),Sl=Nc("true"),Ba=Nc("false"),sh=xs(["td","th"]),Ru=xs(["video","audio","object","embed"]),Md=function(e,n,a){return a===void 0&&(a=_r),e.exists(function(i){return a(i,n)})},Qn=function(e){for(var n=[],a=function(l){n.push(l)},i=0;i<e.length;i++)e[i].each(a);return n},Ji=function(e,n,a){return e.isSome()&&n.isSome()?K.some(a(e.getOrDie(),n.getOrDie())):K.none()},Jy=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?K.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):K.none()},Zy=function(e,n){return e?K.some(n):K.none()},Ia=function(e){return e.style!==void 0&&Nt(e.style.getPropertyValue)},lh=function(e,n,a){if(Ct(a)||tt(a)||Cn(a))e.setAttribute(n,a+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},R=function(e,n,a){lh(e.dom,n,a)},H=function(e,n){var a=e.dom;Hr(n,function(i,l){lh(a,l,i)})},q=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},fe=function(e,n){return K.from(q(e,n))},Re=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},Je=function(e,n){e.dom.removeAttribute(n)},vn=function(e){return Et(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},Hn=function(e,n,a){if(!Ct(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Ia(e)&&e.style.setProperty(n,a)},br=function(e,n){var a=e.dom;Hr(n,function(i,l){Hn(a,l,i)})},er=function(e,n){var a=e.dom,i=window.getComputedStyle(a),l=i.getPropertyValue(n);return l===""&&!If(e)?ma(a,n):l},ma=function(e,n){return Ia(e)?e.style.getPropertyValue(n):""},Ci=function(e,n){var a=e.dom,i=ma(a,n);return K.from(i).filter(function(l){return l.length>0})},Xa=function(e){var n={},a=e.dom;if(Ia(a))for(var i=0;i<a.style.length;i++){var l=a.style.item(i);n[l]=a.style[l]}return n},cE=function(e){return e.dom.offsetWidth},IS=bn().browser,zS=function(e){return sn(e,Ra)},fE=function(e){return IS.isFirefox()&&yo(e)==="table"?zS(Yi(e)).filter(function(n){return yo(n)==="caption"}).bind(function(n){return zS(ka(n)).map(function(a){var i=a.dom.offsetTop,l=n.dom.offsetTop,f=n.dom.offsetHeight;return i<=l?-f:0})}).getOr(0):0},tc=function(e,n){return e.children&&pe(e.children,n)},vp=function(e,n,a){var i=0,l=0,f=e.ownerDocument;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&er(De.fromDom(e),"position")==="static"){var p=n.getBoundingClientRect();return i=p.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,l=p.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:i,y:l}}for(var C=n;C&&C!==a&&C.nodeType&&!tc(C,a);){var _=C;i+=_.offsetLeft||0,l+=_.offsetTop||0,C=_.offsetParent}for(C=n.parentNode;C&&C!==a&&C.nodeType&&!tc(C,a);)i-=C.scrollLeft||0,l-=C.scrollTop||0,C=C.parentNode;l+=fE(De.fromDom(n))}return{x:i,y:l}},Bu={},ch={exports:Bu};(function(e,n,a,i){(function(l,f){typeof n=="object"&&typeof a<"u"?a.exports=f():typeof e=="function"&&e.amd?e(f):(l=typeof globalThis<"u"?globalThis:l||self,l.EphoxContactWrapper=f())})(this,function(){var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof gP<"u"?gP:typeof self<"u"?self:{},f={exports:{}};(function($){(function(F){var V=setTimeout;function W(){}function te(we,Ie){return function(){we.apply(Ie,arguments)}}function re(we){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof we!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Oe(we,this)}function ue(we,Ie){for(;we._state===3;)we=we._value;if(we._state===0){we._deferreds.push(Ie);return}we._handled=!0,re._immediateFn(function(){var ot=we._state===1?Ie.onFulfilled:Ie.onRejected;if(ot===null){(we._state===1?se:be)(Ie.promise,we._value);return}var wt;try{wt=ot(we._value)}catch(Bn){be(Ie.promise,Bn);return}se(Ie.promise,wt)})}function se(we,Ie){try{if(Ie===we)throw new TypeError("A promise cannot be resolved with itself.");if(Ie&&(typeof Ie=="object"||typeof Ie=="function")){var ot=Ie.then;if(Ie instanceof re){we._state=3,we._value=Ie,ge(we);return}else if(typeof ot=="function"){Oe(te(ot,Ie),we);return}}we._state=1,we._value=Ie,ge(we)}catch(wt){be(we,wt)}}function be(we,Ie){we._state=2,we._value=Ie,ge(we)}function ge(we){we._state===2&&we._deferreds.length===0&&re._immediateFn(function(){we._handled||re._unhandledRejectionFn(we._value)});for(var Ie=0,ot=we._deferreds.length;Ie<ot;Ie++)ue(we,we._deferreds[Ie]);we._deferreds=null}function $e(we,Ie,ot){this.onFulfilled=typeof we=="function"?we:null,this.onRejected=typeof Ie=="function"?Ie:null,this.promise=ot}function Oe(we,Ie){var ot=!1;try{we(function(wt){ot||(ot=!0,se(Ie,wt))},function(wt){ot||(ot=!0,be(Ie,wt))})}catch(wt){if(ot)return;ot=!0,be(Ie,wt)}}re.prototype.catch=function(we){return this.then(null,we)},re.prototype.then=function(we,Ie){var ot=new this.constructor(W);return ue(this,new $e(we,Ie,ot)),ot},re.all=function(we){var Ie=Array.prototype.slice.call(we);return new re(function(ot,wt){if(Ie.length===0)return ot([]);var Bn=Ie.length;function tn(On,kt){try{if(kt&&(typeof kt=="object"||typeof kt=="function")){var Yt=kt.then;if(typeof Yt=="function"){Yt.call(kt,function(Ot){tn(On,Ot)},wt);return}}Ie[On]=kt,--Bn===0&&ot(Ie)}catch(Ot){wt(Ot)}}for(var dt=0;dt<Ie.length;dt++)tn(dt,Ie[dt])})},re.resolve=function(we){return we&&typeof we=="object"&&we.constructor===re?we:new re(function(Ie){Ie(we)})},re.reject=function(we){return new re(function(Ie,ot){ot(we)})},re.race=function(we){return new re(function(Ie,ot){for(var wt=0,Bn=we.length;wt<Bn;wt++)we[wt].then(Ie,ot)})},re._immediateFn=typeof setImmediate=="function"?function(we){setImmediate(we)}:function(we){V(we,0)},re._unhandledRejectionFn=function(Ie){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Ie)},re._setImmediateFn=function(Ie){re._immediateFn=Ie},re._setUnhandledRejectionFn=function(Ie){re._unhandledRejectionFn=Ie},$.exports?$.exports=re:F.Promise||(F.Promise=re)})(l)})(f);var p=f.exports,C=function(){return typeof window<"u"?window:Function("return this;")()}(),_={boltExport:C.Promise||p};return _})})(void 0,Bu,ch);var Qy=ch.exports.boltExport,dp=function(e){var n=K.none(),a=[],i=function($){return dp(function(F){l(function(V){F($(V))})})},l=function($){p()?_($):a.push($)},f=function($){p()||(n=K.some($),C(a),a=[])},p=function(){return n.isSome()},C=function($){Be($,_)},_=function($){n.each(function(F){setTimeout(function(){$(F)},0)})};return e(f),{get:l,map:i,isReady:p}},fb=function(e){return dp(function(n){n(e)})},LS={nu:dp,pure:fb},vE=function(e){setTimeout(function(){throw e},0)},nc=function(e){var n=function(_){e().then(_,vE)},a=function(_){return nc(function(){return e().then(_)})},i=function(_){return nc(function(){return e().then(function($){return _($).toPromise()})})},l=function(_){return nc(function(){return e().then(function(){return _.toPromise()})})},f=function(){return LS.nu(n)},p=function(){var _=null;return nc(function(){return _===null&&(_=e()),_})},C=e;return{map:a,bind:i,anonBind:l,toLazy:f,toCached:p,toPromise:C,get:n}},mp=function(e){return nc(function(){return new Qy(e)})},dE=function(e){return nc(function(){return Qy.resolve(e)})},e2={nu:mp,pure:dE},mE=function(e,n){return n(function(a){var i=[],l=0,f=function(p){return function(C){i[p]=C,l++,l>=e.length&&a(i)}};e.length===0?a([]):Be(e,function(p,C){p.get(f(C))})})},hE=function(e){return mE(e,e2.nu)},fh=function(e){var n=function(V){return fh(e)},a=function(V){return fh(e)},i=function(V){return fh(V(e))},l=function(V){return fh(e)},f=function(V){V(e)},p=function(V){return V(e)},C=function(V,W){return W(e)},_=function(V){return V(e)},$=function(V){return V(e)},F=function(){return K.some(e)};return{isValue:en,isError:Dt,getOr:Y(e),getOrThunk:Y(e),getOrDie:Y(e),or:n,orThunk:a,fold:C,map:i,mapError:l,each:f,bind:p,exists:_,forall:$,toOptional:F}},hp=function(e){var n=function($){return $()},a=function(){return xn(String(e))()},i=Ht,l=function($){return $()},f=function($){return hp(e)},p=function($){return hp($(e))},C=function($){return hp(e)},_=function($,F){return $(e)};return{isValue:Dt,isError:en,getOr:Ht,getOrThunk:n,getOrDie:a,or:i,orThunk:l,fold:_,map:f,mapError:p,each:Qt,bind:C,exists:Dt,forall:en,toOptional:K.none}},FS=function(e,n){return e.fold(function(){return hp(n)},fh)},HS={value:fh,error:hp,fromOption:FS},ts=function(e){if(!rt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return Be(e,function(i,l){var f=ku(i);if(f.length!==1)throw new Error("one and only one name per case");var p=f[0],C=i[p];if(a[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!rt(C))throw new Error("case arguments must be an array");n.push(p),a[p]=function(){for(var _=[],$=0;$<arguments.length;$++)_[$]=arguments[$];var F=_.length;if(F!==C.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+C.length+" ("+C+"), got "+F);var V=function(W){var te=ku(W);if(n.length!==te.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+te.join(","));var re=na(n,function(ue){return pe(te,ue)});if(!re)throw new Error("Not all branches were specified when using match. Specified: "+te.join(", ")+`
Required: `+n.join(", "));return W[p].apply(null,_)};return{fold:function(){for(var W=[],te=0;te<arguments.length;te++)W[te]=arguments[te];if(W.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+W.length);var re=W[l];return re.apply(null,_)},match:V,log:function(W){console.log(W,{constructors:n,constructor:p,params:_})}}}}),a},yn={generate:ts};yn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Vf=function(e){return e.fold(Ht,Ht)};function gp(e,n,a,i,l){return e(a,i)?K.some(a):Nt(l)&&l(a)?K.none():n(a,i,l)}var Rv=function(e,n,a){for(var i=e.dom,l=Nt(a)?a:Dt;i.parentNode;){i=i.parentNode;var f=De.fromDom(i);if(n(f))return K.some(f);if(l(f))break}return K.none()},vh=function(e,n,a){var i=function(l,f){return f(l)};return gp(i,Rv,e,n,a)},t2=function(e,n){var a=e.dom;return a.parentNode?xl(De.fromDom(a.parentNode),function(i){return!_a(e,i)&&n(i)}):K.none()},xl=function(e,n){var a=function(l){return n(De.fromDom(l))},i=sn(e.dom.childNodes,a);return i.map(De.fromDom)},Pd=function(e,n,a){return Rv(e,function(i){return Xl(i,n)},a)},dh=function(e,n){return Yl(n,e)},vo=function(e,n,a){var i=function(l,f){return Xl(l,f)};return gp(i,Pd,e,n,a)},oi=window.Promise?window.Promise:Qy,pp,Ic=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],l=function(p){window.setTimeout(p,0)},f=0;f<i.length&&!a;f++)a=window[i[f]+"RequestAnimationFrame"];a||(a=l),a(e,n)},bp=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},vb=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},db=function(e){return clearTimeout(e)},gE=function(e){return clearInterval(e)},mh=function(e,n){var a,i=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];clearTimeout(a),a=bp(function(){e.apply(this,l)},n)};return i.stop=function(){clearTimeout(a)},i},Fi={requestAnimationFrame:function(e,n){if(pp){pp.then(e);return}pp=new oi(function(a){n||(n=document.body),Ic(a,n)}).then(e)},setTimeout:bp,setInterval:vb,setEditorTimeout:function(e,n,a){return bp(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=vb(function(){e.removed?clearInterval(i):n()},a);return i},debounce:mh,throttle:mh,clearInterval:gE,clearTimeout:db},VS=function(e,n){n===void 0&&(n={});var a=0,i={},l=De.fromDom(e),f=Nn(l),p=n.maxLoadTime||5e3,C=function(se){n.referrerPolicy=se},_=function(se){Io(ao(l),se)},$=function(se){var be=ao(l);dh(be,"#"+se).each(oo)},F=function(se){return Qr(i,se).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},V=function(se,be,ge){var $e,Oe=et._addCacheSuffix(se),we=F(Oe);i[Oe]=we,we.count++;var Ie=function(kt,Yt){for(var Ot=kt.length;Ot--;)kt[Ot]();we.status=Yt,we.passed=[],we.failed=[],$e&&($e.onload=null,$e.onerror=null,$e=null)},ot=function(){return Ie(we.passed,2)},wt=function(){return Ie(we.failed,3)},Bn=function(kt,Yt){kt()||(Date.now()-On<p?Fi.setTimeout(Yt):wt())},tn=function(){Bn(function(){for(var kt=e.styleSheets,Yt=kt.length;Yt--;){var Ot=kt[Yt],zt=Ot.ownerNode;if(zt&&zt.id===$e.id)return ot(),!0}return!1},tn)};if(be&&we.passed.push(be),ge&&we.failed.push(ge),we.status!==1){if(we.status===2){ot();return}if(we.status===3){wt();return}we.status=1;var dt=De.fromTag("link",f.dom);H(dt,{rel:"stylesheet",type:"text/css",id:we.id});var On=Date.now();n.contentCssCors&&R(dt,"crossOrigin","anonymous"),n.referrerPolicy&&R(dt,"referrerpolicy",n.referrerPolicy),$e=dt.dom,$e.onload=tn,$e.onerror=wt,_(dt),R(dt,"href",Oe)}},W=function(se){return e2.nu(function(be){V(se,Eo(be,Y(HS.value(se))),Eo(be,Y(HS.error(se))))})},te=function(se,be,ge){hE(je(se,W)).get(function($e){var Oe=on($e,function(we){return we.isValue()});Oe.fail.length>0?ge(Oe.fail.map(Vf)):be(Oe.pass.map(Vf))})},re=function(se){var be=et._addCacheSuffix(se);Qr(i,be).each(function(ge){var $e=--ge.count;$e===0&&(delete i[be],$(ge.id))})},ue=function(se){Be(se,function(be){re(be)})};return{load:V,loadAll:te,unload:re,unloadAll:ue,_setReferrerPolicy:C}},Ha=function(){var e=new WeakMap,n=function(a,i){var l=su(a),f=l.dom;return K.from(e.get(f)).getOrThunk(function(){var p=VS(f,i);return e.set(f,p),p})};return{forElement:n}},_l=Ha(),Yr=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,l){var f,p;if(n){if(!l&&n[a])return n[a];if(n!==this.rootNode){if(f=n[i],f)return f;for(p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(f=p[i],f)return f}}},e.prototype.findPreviousNode=function(n,a,i,l){var f,p,C;if(n){if(f=n[i],this.rootNode&&f===this.rootNode)return;if(f){if(!l){for(C=f[a];C;C=C[a])if(!C[a])return C}return f}if(p=n.parentNode,p&&p!==this.rootNode)return p}},e}(),Bv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Zs=["td","th"],pE=["thead","tbody","tfoot"],Lo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],fu=["h1","h2","h3","h4","h5","h6"],US=["li","dd","dt"],it=["ul","ol","dl"],$u=["pre","script","textarea","style"],Uf=function(e){var n;return function(a){return n=n||ti(e,en),pr(n,yo(a))}},zn=Uf(fu),ks=Uf(Bv),bE=function(e){return yo(e)==="table"},Zi=function(e){return Ra(e)&&!ks(e)},hh=function(e){return Ra(e)&&yo(e)==="br"},zc=Uf(Lo),kl=Uf(it),Hi=Uf(US),Pr=Uf(pE),rc=Uf(Zs),Nd=Uf($u),pa=function(e,n,a){return Pd(e,n,a).isSome()},$v="\uFEFF",ns=" ",rs=function(e){return e===$v},yE=function(e){return e.replace(/\uFEFF/g,"")},Te=$v,vu=rs,ac=yE,gh=In,As=rn,fa=function(e){return As(e)&&(e=e.parentNode),gh(e)&&e.hasAttribute("data-mce-caret")},ba=function(e){return As(e)&&vu(e.data)},Mu=function(e){return fa(e)||ba(e)},Wf=function(e){return e.firstChild!==e.lastChild||!ca(e.firstChild)},n2=function(e,n){var a=e.ownerDocument,i=a.createTextNode(Te),l=e.parentNode;if(n){var f=e.previousSibling;if(As(f)){if(Mu(f))return f;if(wp(f))return f.splitText(f.data.length-1)}l.insertBefore(i,e)}else{var f=e.nextSibling;if(As(f)){if(Mu(f))return f;if(yp(f))return f.splitText(1),f}e.nextSibling?l.insertBefore(i,e.nextSibling):l.appendChild(i)}return i},_n=function(e){var n=e.container();return rn(n)?n.data.charAt(e.offset())===Te||e.isAtStart()&&ba(n.previousSibling):!1},mb=function(e){var n=e.container();return rn(n)?n.data.charAt(e.offset()-1)===Te||e.isAtEnd()&&ba(n.nextSibling):!1},Es=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},WS=function(e,n,a){var i=n.ownerDocument,l=i.createElement(e);l.setAttribute("data-mce-caret",a?"before":"after"),l.setAttribute("data-mce-bogus","all"),l.appendChild(Es());var f=n.parentNode;return a?f.insertBefore(l,n):n.nextSibling?f.insertBefore(l,n.nextSibling):f.appendChild(l),l},yp=function(e){return As(e)&&e.data[0]===Te},wp=function(e){return As(e)&&e.data[e.data.length-1]===Te},r2=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];fo(a)&&a.parentNode.removeChild(a)},a2=function(e){return e&&e.hasAttribute("data-mce-caret")?(r2(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Lc=function(e){return fa(e.startContainer)},jf=Sl,wE=Ba,o2=ca,CE=rn,jS=xs(["script","style","textarea"]),Cp=xs(["img","input","textarea","hr","iframe","video","audio","object","embed"]),ph=xs(["table"]),GS=Mu,Fc=function(e){return GS(e)?!1:CE(e)?!jS(e.parentNode):Cp(e)||o2(e)||ph(e)||i2(e)},bh=function(e){return In(e)&&e.getAttribute("unselectable")==="true"},i2=function(e){return bh(e)===!1&&wE(e)},qS=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(i2(e))return!1;if(jf(e))return!0}return!0},SE=function(e){return i2(e)?Et(mr(e.getElementsByTagName("*")),function(n,a){return n||jf(a)},!1)!==!0:!1},xE=function(e){return Cp(e)||SE(e)},Do=function(e,n){return Fc(e)&&qS(e,n)},Hc=/^[ \t\r\n]*$/,Al=function(e){return Hc.test(e)},Mv=function(e,n){var a=De.fromDom(n),i=De.fromDom(e);return pa(i,"pre,code",ft(_a,a))},KS=function(e,n){return rn(e)&&Al(e.data)&&Mv(e,n)===!1},El=function(e){return In(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Id=function(e,n){return Fc(e)&&KS(e,n)===!1||El(e)||u2(e)},u2=Li("data-mce-bookmark"),s2=Li("data-mce-bogus"),Gf=_s("data-mce-bogus","all"),Qs=function(e,n){var a=0;if(Id(e,e))return!1;var i=e.firstChild;if(!i)return!0;var l=new Yr(i,e);do{if(n){if(Gf(i)){i=l.next(!0);continue}if(s2(i)){i=l.next();continue}}if(ca(i)){a++,i=l.next();continue}if(Id(i,e))return!1;i=l.next()}while(i);return a<=1},Si=function(e,n){return n===void 0&&(n=!0),Qs(e.dom,n)},hb=function(e){return e.nodeName.toLowerCase()==="span"},l2=function(e,n){return mn(e)&&(Id(e,n)||Zi(De.fromDom(e)))},zd=function(e,n){var a=new Yr(e,n).prev(!1),i=new Yr(e,n).next(!1),l=He(a)||l2(a,n),f=He(i)||l2(i,n);return l&&f},yh=function(e){return hb(e)&&e.getAttribute("data-mce-type")==="bookmark"},wh=function(e,n){return rn(e)&&e.data.length>0&&zd(e,n)},_E=function(e){return In(e)?e.childNodes.length>0:!1},Ch=function(e){return Yn(e)||fp(e)},c2=function(e,n,a){var i=a||n;if(In(n)&&yh(n))return n;for(var l=n.childNodes,f=l.length-1;f>=0;f--)c2(e,l[f],i);if(In(n)){var p=n.childNodes;p.length===1&&yh(p[0])&&n.parentNode.insertBefore(p[0],n)}return!Ch(n)&&!Id(n,i)&&!_E(n)&&!wh(n,i)&&e.remove(n),n},kE=et.makeMap,Ya=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pv=/[<>&\"\']/g,f2=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,v2={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},el={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Ts={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Ld=function(e){var n=De.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Nv=function(e,n){var a,i,l,f={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),el[i]||(l="&"+e[a+1]+";",f[i]=l,f[l]=i);return f}},pb=Nv("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Sp=function(e,n){return e.replace(n?Ya:gb,function(a){return el[a]||a})},d2=function(e){return(""+e).replace(Pv,function(n){return el[n]||n})},Fd=function(e,n){return e.replace(n?Ya:gb,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":el[a]||"&#"+a.charCodeAt(0)+";"})},bb=function(e,n,a){return a=a||pb,e.replace(n?Ya:gb,function(i){return el[i]||a[i]||i})},AE=function(e,n){var a=Nv(n)||pb,i=function(p,C){return p.replace(C?Ya:gb,function(_){return el[_]!==void 0?el[_]:a[_]!==void 0?a[_]:_.length>1?"&#"+((_.charCodeAt(0)-55296)*1024+(_.charCodeAt(1)-56320)+65536)+";":"&#"+_.charCodeAt(0)+";"})},l=function(p,C){return bb(p,C,a)},f=kE(e.replace(/\+/g,","));return f.named&&f.numeric?i:f.named?n?l:bb:f.numeric?Fd:Sp},m2=function(e){return e.replace(f2,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):v2[a]||String.fromCharCode(a)):Ts[n]||pb[n]||Ld(n)})},Os={encodeRaw:Sp,encodeAllRaw:d2,encodeNumeric:Fd,encodeNamed:bb,getEncodeFunc:AE,decode:m2},as={},Sh={},Tl=et.makeMap,Vi=et.each,yb=et.extend,qf=et.explode,XS=et.inArray,xi=function(e,n){return e=et.trim(e),e?e.split(n||" "):[]},h2=function(e,n){var a=Tl(e," ",Tl(e.toUpperCase()," "));return yb(a,n)},wb=function(e){return h2("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},Rr=function(e){var n={},a,i,l,f,p,C,_=function(F,V,W){var te,re,ue,se=function(ge,$e){var Oe={},we,Ie;for(we=0,Ie=ge.length;we<Ie;we++)Oe[ge[we]]=$e||{};return Oe};W=W||[],V=V||"",typeof W=="string"&&(W=xi(W));var be=xi(F);for(te=be.length;te--;)re=xi([a,V].join(" ")),ue={attributes:se(re),attributesOrder:re,children:se(W,Sh)},n[be[te]]=ue},$=function(F,V){var W,te,re,ue,se=xi(F);W=se.length;for(var be=xi(V);W--;)for(te=n[se[W]],re=0,ue=be.length;re<ue;re++)te.attributes[be[re]]={},te.attributesOrder.push(be[re])};return as[e]?as[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",C="acronym applet basefont big font strike tt",l=[l,C].join(" "),Vi(xi(C),function(F){_(F,"",l)}),p="center dir isindex noframes",i=[i,p].join(" "),f=[i,l].join(" "),Vi(xi(p),function(F){_(F,"",f)})),f=f||[i,l].join(" "),_("html","manifest","head body"),_("head","","base command link meta noscript script style title"),_("title hr noscript br"),_("base","href target"),_("link","href rel media hreflang type sizes hreflang"),_("meta","name http-equiv content charset"),_("style","media type scoped"),_("script","src async defer type charset"),_("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),_("address dt dd div caption","",f),_("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),_("blockquote","cite",f),_("ol","reversed start type","li"),_("ul","","li"),_("li","value",f),_("dl","","dt dd"),_("a","href target rel media hreflang type",l),_("q","cite",l),_("ins del","cite datetime",f),_("img","src sizes srcset alt usemap ismap width height"),_("iframe","src name width height",f),_("embed","src type width height"),_("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),_("param","name value"),_("map","name",[f,"area"].join(" ")),_("area","alt coords shape href target rel media hreflang type"),_("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),_("colgroup","span","col"),_("col","span"),_("tbody thead tfoot","","tr"),_("tr","","td th"),_("td","colspan rowspan headers",f),_("th","colspan rowspan headers scope abbr",f),_("form","accept-charset action autocomplete enctype method name novalidate target",f),_("fieldset","disabled form name",[f,"legend"].join(" ")),_("label","form for",l),_("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),_("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?f:l),_("select","disabled form multiple name required size","option optgroup"),_("optgroup","disabled label","option"),_("option","disabled label selected value"),_("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),_("menu","type label",[f,"li"].join(" ")),_("noscript","",f),e!=="html4"&&(_("wbr"),_("ruby","",[l,"rt rp"].join(" ")),_("figcaption","",f),_("mark rt rp summary bdi","",l),_("canvas","width height",f),_("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),_("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),_("picture","","img source"),_("source","src srcset type media sizes"),_("track","kind src srclang label default"),_("datalist","",[l,"option"].join(" ")),_("article section nav aside main header footer","",f),_("hgroup","","h1 h2 h3 h4 h5 h6"),_("figure","",[f,"figcaption"].join(" ")),_("time","datetime",l),_("dialog","open",f),_("command","type label icon disabled checked radiogroup command"),_("output","for form name",l),_("progress","value max",l),_("meter","value min max low high optimum",l),_("details","open",[f,"summary"].join(" ")),_("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&($("script","language xml:space"),$("style","xml:space"),$("object","declare classid code codebase codetype archive standby align border hspace vspace"),$("embed","align name hspace vspace"),$("param","valuetype type"),$("a","charset name rev shape coords"),$("br","clear"),$("applet","codebase archive code object alt name width height align hspace vspace"),$("img","name longdesc align border hspace vspace"),$("iframe","longdesc frameborder marginwidth marginheight scrolling align"),$("font basefont","size color face"),$("input","usemap align"),$("select"),$("textarea"),$("h1 h2 h3 h4 h5 h6 div p legend caption","align"),$("ul","type compact"),$("li","type"),$("ol dl menu dir","compact"),$("pre","width xml:space"),$("hr","align noshade size width"),$("isindex","prompt"),$("table","summary width frame rules cellspacing cellpadding align bgcolor"),$("col","width align char charoff valign"),$("colgroup","width align char charoff valign"),$("thead","align char charoff valign"),$("tr","align char charoff valign bgcolor"),$("th","axis align char charoff valign nowrap bgcolor width height"),$("form","accept"),$("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),$("tfoot","align char charoff valign"),$("tbody","align char charoff valign"),$("area","nohref"),$("body","background bgcolor text link vlink alink")),e!=="html4"&&($("input button select textarea","autofocus"),$("input textarea","placeholder"),$("a","download"),$("link script img","crossorigin"),$("img","loading"),$("iframe","sandbox seamless allowfullscreen loading")),Vi(xi("a form meter progress dfn"),function(F){n[F]&&delete n[F].children[F]}),delete n.caption.children.table,delete n.script,as[e]=n,n)},kn=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),Vi(e,function(i,l){a[l]=a[l.toUpperCase()]=n==="map"?Tl(i,/[, ]/):qf(i,/[, ]/)})),a},Ds=function(e){var n={},a={},i=[],l={},f={},p=function(gt,$t,pn){var ze=e[gt];return ze?ze=Tl(ze,/[, ]/,Tl(ze.toUpperCase(),/[, ]/)):(ze=as[gt],ze||(ze=h2($t,pn),as[gt]=ze)),ze};e=e||{};var C=Rr(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var _=kn(e.valid_styles),$=kn(e.invalid_styles,"map"),F=kn(e.valid_classes,"map"),V=p("whitespace_elements","pre script noscript style textarea video audio iframe object code"),W=p("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),te=p("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),re=p("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),ue="td th iframe video audio object script code",se=p("non_empty_elements",ue+" pre",te),be=p("move_caret_before_on_enter_elements",ue+" table",te),ge=p("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),$e=p("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",ge),Oe=p("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");Vi((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(gt){f[gt]=new RegExp("</"+gt+"[^>]*>","gi")});var we=function(gt){return new RegExp("^"+gt.replace(/([?+*])/g,".$1")+"$")},Ie=function(gt){var $t,pn,ze,xt,pt,wn,An,ga,Zo,Go,Bm,Uu,xu,di,Fl,Wu,yf,ya,Ma=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,mi=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ds=/[*?+]/;if(gt){var gv=xi(gt,",");for(n["@"]&&(Wu=n["@"].attributes,yf=n["@"].attributesOrder),$t=0,pn=gv.length;$t<pn;$t++)if(pt=Ma.exec(gv[$t]),pt){if(di=pt[1],Zo=pt[2],Fl=pt[3],ga=pt[5],Uu={},xu=[],wn={attributes:Uu,attributesOrder:xu},di==="#"&&(wn.paddEmpty=!0),di==="-"&&(wn.removeEmpty=!0),pt[4]==="!"&&(wn.removeEmptyAttrs=!0),Wu&&(Hr(Wu,function(pv,Wg){Uu[Wg]=pv}),xu.push.apply(xu,yf)),ga){for(ga=xi(ga,"|"),ze=0,xt=ga.length;ze<xt;ze++)if(pt=mi.exec(ga[ze]),pt){if(An={},Bm=pt[1],Go=pt[2].replace(/[\\:]:/g,":"),di=pt[3],ya=pt[4],Bm==="!"&&(wn.attributesRequired=wn.attributesRequired||[],wn.attributesRequired.push(Go),An.required=!0),Bm==="-"){delete Uu[Go],xu.splice(XS(xu,Go),1);continue}di&&(di==="="&&(wn.attributesDefault=wn.attributesDefault||[],wn.attributesDefault.push({name:Go,value:ya}),An.defaultValue=ya),di===":"&&(wn.attributesForced=wn.attributesForced||[],wn.attributesForced.push({name:Go,value:ya}),An.forcedValue=ya),di==="<"&&(An.validValues=Tl(ya,"?"))),ds.test(Go)?(wn.attributePatterns=wn.attributePatterns||[],An.pattern=we(Go),wn.attributePatterns.push(An)):(Uu[Go]||xu.push(Go),Uu[Go]=An)}}!Wu&&Zo==="@"&&(Wu=Uu,yf=xu),Fl&&(wn.outputName=Zo,n[Fl]=wn),ds.test(Zo)?(wn.pattern=we(Zo),i.push(wn)):n[Zo]=wn}}},ot=function(gt){n={},i=[],Ie(gt),Vi(C,function($t,pn){a[pn]=$t.children})},wt=function(gt){var $t=/^(~)?(.+)$/;gt&&(as.text_block_elements=as.block_elements=null,Vi(xi(gt,","),function(pn){var ze=$t.exec(pn),xt=ze[1]==="~",pt=xt?"span":"div",wn=ze[2];if(a[wn]=a[pt],l[wn]=pt,xt||($e[wn.toUpperCase()]={},$e[wn]={}),!n[wn]){var An=n[pt];An=yb({},An),delete An.removeEmptyAttrs,delete An.removeEmpty,n[wn]=An}Vi(a,function(ga,Zo){ga[pt]&&(a[Zo]=ga=yb({},a[Zo]),ga[wn]=ga[pt])})}))},Bn=function(gt){var $t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;as[e.schema]=null,gt&&Vi(xi(gt,","),function(pn){var ze=$t.exec(pn),xt,pt;ze&&(pt=ze[1],pt?xt=a[ze[2]]:xt=a[ze[2]]={"#comment":{}},xt=a[ze[2]],Vi(xi(ze[3],"|"),function(wn){pt==="-"?delete xt[wn]:xt[wn]={}}))})},tn=function(gt){var $t=n[gt],pn;if($t)return $t;for(pn=i.length;pn--;)if($t=i[pn],$t.pattern.test(gt))return $t};e.valid_elements?ot(e.valid_elements):(Vi(C,function(gt,$t){n[$t]={attributes:gt.attributes,attributesOrder:gt.attributesOrder},a[$t]=gt.children}),e.schema!=="html5"&&Vi(xi("strong/b em/i"),function(gt){var $t=xi(gt,"/");n[$t[1]].outputName=$t[0]}),Vi(Oe,function(gt,$t){n[$t]&&(e.padd_empty_block_inline_children&&(n[$t].paddInEmptyBlock=!0),n[$t].removeEmpty=!0)}),Vi(xi("ol ul blockquote a table tbody"),function(gt){n[gt]&&(n[gt].removeEmpty=!0)}),Vi(xi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(gt){n[gt].paddEmpty=!0}),Vi(xi("span"),function(gt){n[gt].removeEmptyAttrs=!0})),wt(e.custom_elements),Bn(e.valid_children),Ie(e.extended_valid_elements),Bn("+ol[ul|ol],+ul[ul|ol]"),Vi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(gt,$t){n[$t]&&(n[$t].parentsRequired=xi(gt))}),e.invalid_elements&&Vi(qf(e.invalid_elements),function(gt){n[gt]&&delete n[gt]}),tn("span")||Ie("span[!data-mce-type|*]");var dt=Y(_),On=Y($),kt=Y(F),Yt=Y(re),Ot=Y($e),zt=Y(ge),un=Y(Oe),ht=Y(te),nn=Y(W),dr=Y(se),jr=Y(be),zr=Y(V),Bi=Y(f),Za=function(gt,$t){var pn=a[gt.toLowerCase()];return!!(pn&&pn[$t.toLowerCase()])},Vu=function(gt,$t){var pn,ze,xt=tn(gt);if(xt)if($t){if(xt.attributes[$t])return!0;if(pn=xt.attributePatterns,pn){for(ze=pn.length;ze--;)if(pn[ze].pattern.test(gt))return!0}}else return!0;return!1},vs=Y(l);return{children:a,elements:n,getValidStyles:dt,getValidClasses:kt,getBlockElements:Ot,getInvalidStyles:On,getShortEndedElements:ht,getTextBlockElements:zt,getTextInlineElements:un,getBoolAttrs:Yt,getElementRule:tn,getSelfClosingElements:nn,getNonEmptyElements:dr,getMoveCaretBeforeOnEnterElements:jr,getWhiteSpaceElements:zr,getSpecialElements:Bi,isValidChild:Za,isValid:Vu,getCustomElements:vs,addValidElements:Ie,setValidElements:ot,addCustomElements:wt,addValidChildren:Bn}},Cb=function(e,n,a,i){var l=function(f){return f=parseInt(f,10).toString(16),f.length>1?f:"0"+f};return"#"+l(n)+l(a)+l(i)},Ol=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,p=/\s+$/,C,_={},$,F,V=$v;e=e||{},n&&($=n.getValidStyles(),F=n.getInvalidStyles());var W=(`\\" \\' \\; \\: ; : `+V).split(" ");for(C=0;C<W.length;C++)_[W[C]]=V+C,_[V+C]=W[C];return{toHex:function(te){return te.replace(i,Cb)},parse:function(te){var re={},ue,se,be,ge,$e=e.url_converter,Oe=e.url_converter_scope||a,we=function(kt,Yt,Ot){var zt=re[kt+"-top"+Yt];if(zt){var un=re[kt+"-right"+Yt];if(un){var ht=re[kt+"-bottom"+Yt];if(ht){var nn=re[kt+"-left"+Yt];if(nn){var dr=[zt,un,ht,nn];for(C=dr.length-1;C--&&dr[C]===dr[C+1];);C>-1&&Ot||(re[kt+Yt]=C===-1?dr[0]:dr.join(" "),delete re[kt+"-top"+Yt],delete re[kt+"-right"+Yt],delete re[kt+"-bottom"+Yt],delete re[kt+"-left"+Yt])}}}}},Ie=function(kt){var Yt=re[kt],Ot;if(Yt){for(Yt=Yt.split(" "),Ot=Yt.length;Ot--;)if(Yt[Ot]!==Yt[0])return!1;return re[kt]=Yt[0],!0}},ot=function(kt,Yt,Ot,zt){Ie(Yt)&&Ie(Ot)&&Ie(zt)&&(re[kt]=re[Yt]+" "+re[Ot]+" "+re[zt],delete re[Yt],delete re[Ot],delete re[zt])},wt=function(kt){return ge=!0,_[kt]},Bn=function(kt,Yt){return ge&&(kt=kt.replace(/\uFEFF[0-9]/g,function(Ot){return _[Ot]})),Yt||(kt=kt.replace(/\\([\'\";:])/g,"$1")),kt},tn=function(kt){return String.fromCharCode(parseInt(kt.slice(1),16))},dt=function(kt){return kt.replace(/\\[0-9a-f]+/gi,tn)},On=function(kt,Yt,Ot,zt,un,ht){if(un=un||ht,un)return un=Bn(un),"'"+un.replace(/\'/g,"\\'")+"'";if(Yt=Bn(Yt||Ot||zt),!e.allow_script_urls){var nn=Yt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(nn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(nn))return""}return $e&&(Yt=$e.call(Oe,Yt,"style")),"url('"+Yt.replace(/\'/g,"\\'")+"')"};if(te){for(te=te.replace(/[\u0000-\u001F]/g,""),te=te.replace(/\\[\"\';:\uFEFF]/g,wt).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(kt){return kt.replace(/[;:]/g,wt)});ue=f.exec(te);)if(f.lastIndex=ue.index+ue[0].length,se=ue[1].replace(p,"").toLowerCase(),be=ue[2].replace(p,""),se&&be){if(se=dt(se),be=dt(be),se.indexOf(V)!==-1||se.indexOf('"')!==-1||!e.allow_script_urls&&(se==="behavior"||/expression\s*\(|\/\*|\*\//.test(be)))continue;se==="font-weight"&&be==="700"?be="bold":(se==="color"||se==="background-color")&&(be=be.toLowerCase()),be=be.replace(i,Cb),be=be.replace(l,On),re[se]=ge?Bn(be,!0):be}we("border","",!0),we("border","-width"),we("border","-color"),we("border","-style"),we("padding",""),we("margin",""),ot("border","border-width","border-style","border-color"),re.border==="medium none"&&delete re.border,re["border-image"]==="none"&&delete re["border-image"]}return re},serialize:function(te,re){var ue="",se=function(ge){var $e,Oe=$[ge];if(Oe)for(var we=0,Ie=Oe.length;we<Ie;we++)ge=Oe[we],$e=te[ge],$e&&(ue+=(ue.length>0?" ":"")+ge+": "+$e+";")},be=function(ge,$e){var Oe=F["*"];return Oe&&Oe[ge]?!1:(Oe=F[$e],!(Oe&&Oe[ge]))};return re&&$?(se("*"),se(re)):Hr(te,function(ge,$e){ge&&(!F||be($e,re))&&(ue+=(ue.length>0?" ":"")+$e+": "+ge+";")}),ue}}},YS={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},va=function(e){return e instanceof Event||Nt(e.initEvent)},g2=function(e){return e.isDefaultPrevented===en||e.isDefaultPrevented===Dt},Sb=function(e){return Xt(e.preventDefault)||va(e)},xb=function(e,n){var a=n??{};for(var i in e)pr(YS,i)||(a[i]=e[i]);return mn(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},vt=function(e,n,a,i){var l,f=xb(n,i);return f.type=e,Xt(f.target)&&(f.target=(l=f.srcElement)!==null&&l!==void 0?l:a),Sb(n)&&(f.preventDefault=function(){f.defaultPrevented=!0,f.isDefaultPrevented=en,Nt(n.preventDefault)?n.preventDefault():va(n)&&(n.returnValue=!1)},f.stopPropagation=function(){f.cancelBubble=!0,f.isPropagationStopped=en,Nt(n.stopPropagation)?n.stopPropagation():va(n)&&(n.cancelBubble=!0)},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=en,f.stopPropagation()},g2(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?en:Dt,f.isPropagationStopped=f.cancelBubble===!0?en:Dt,f.isImmediatePropagationStopped=Dt)),f},p2="mce-data-",b2=/^(?:mouse|contextmenu)|click/,Iv=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},xp=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},Hd=function(e){return mn(e)&&b2.test(e.type)},zv=function(e,n){var a=vt(e.type,e,document,n);if(Hd(e)&&He(e.pageX)&&!He(e.clientX)){var i=a.target.ownerDocument||document,l=i.documentElement,f=i.body,p=a;p.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),p.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return He(a.metaKey)&&(a.metaKey=!1),a},Vd=function(e,n,a){var i=e.document,l={type:"ready"};if(a.domLoaded){n(l);return}var f=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},p=function(){xp(e,"DOMContentLoaded",p),xp(e,"load",p),a.domLoaded||(a.domLoaded=!0,n(l)),e=null};f()?p():Iv(e,"DOMContentLoaded",p),a.domLoaded||Iv(e,"load",p)},xh=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=p2+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,l){var f=this,p,C,_,$,F,V,W,te=window,re=function(se){f.executeHandlers(zv(se||te.event),p)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[f.expando]?p=n[f.expando]:(p=f.count++,n[f.expando]=p,f.events[p]={}),l=l||n;var ue=a.split(" ");for(_=ue.length;_--;){if($=ue[_],V=re,F=W=!1,$==="DOMContentLoaded"&&($="ready"),f.domLoaded&&$==="ready"&&n.readyState==="complete"){i.call(l,zv({type:$}));continue}f.hasMouseEnterLeave||(F=f.mouseEnterLeave[$],F&&(V=function(se){var be=se.currentTarget,ge=se.relatedTarget;if(ge&&be.contains)ge=be.contains(ge);else for(;ge&&ge!==be;)ge=ge.parentNode;ge||(se=zv(se||te.event),se.type=se.type==="mouseout"?"mouseleave":"mouseenter",se.target=be,f.executeHandlers(se,p))})),!f.hasFocusIn&&($==="focusin"||$==="focusout")&&(W=!0,F=$==="focusin"?"focus":"blur",V=function(se){se=zv(se||te.event),se.type=se.type==="focus"?"focusin":"focusout",f.executeHandlers(se,p)}),C=f.events[p][$],C?$==="ready"&&f.domLoaded?i(zv({type:$})):C.push({func:i,scope:l}):(f.events[p][$]=C=[{func:i,scope:l}],C.fakeName=F,C.capture=W,C.nativeHandler=V,$==="ready"?Vd(n,V,f):Iv(n,F||$,V,W))}return n=C=null,i}},e.prototype.unbind=function(n,a,i){var l,f,p,C,_;if(!n||n.nodeType===3||n.nodeType===8)return this;var $=n[this.expando];if($){if(_=this.events[$],a){var F=a.split(" ");for(f=F.length;f--;)if(C=F[f],l=_[C],l){if(i){for(p=l.length;p--;)if(l[p].func===i){var V=l.nativeHandler,W=l.fakeName,te=l.capture;l=l.slice(0,p).concat(l.slice(p+1)),l.nativeHandler=V,l.fakeName=W,l.capture=te,_[C]=l}}(!i||l.length===0)&&(delete _[C],xp(n,l.fakeName||C,l.nativeHandler,l.capture))}}else Hr(_,function(re,ue){xp(n,re.fakeName||ue,re.nativeHandler,re.capture)}),_={};for(C in _)if(pr(_,C))return this;delete this.events[$];try{delete n[this.expando]}catch{n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var l;if(!n||n.nodeType===3||n.nodeType===8)return this;var f=zv({type:a,target:n},i);do l=n[this.expando],l&&this.executeHandlers(f,l),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!f.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],l=i&&i[n.type];if(l)for(var f=0,p=l.length;f<p;f++){var C=l[f];if(C&&C.func.call(C.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),So,jn,Rs,JS,os,y2,Vc,Kf,Xf,Bs,Lv,Ko,du,Uc,Fv,_h,Ud,ln,ii="sizzle"+-new Date,oc=window.document,Wc=0,_p=0,ZS=Eb(),_b=Eb(),Hv=Eb(),Vv=function(e,n){return e===n&&(Bs=!0),0},kh="undefined",kp=1<<31,EE={}.hasOwnProperty,$s=[],w2=$s.pop,Wd=$s.push,Uv=$s.push,C2=$s.slice,Wv=$s.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},QS="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Va="[\\x20\\t\\r\\n\\f]",_i="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ui="\\["+Va+"*("+_i+")(?:"+Va+"*([*^$|!~]?=)"+Va+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+_i+"))|)"+Va+"*\\]",ex=":("+_i+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ui+")*)|.*)\\)|)",kb=new RegExp("^"+Va+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Va+"+$","g"),TE=new RegExp("^"+Va+"*,"+Va+"*"),tx=new RegExp("^"+Va+"*([>+~]|"+Va+")"+Va+"*"),Dl=new RegExp("="+Va+`*([^\\]'"]*?)`+Va+"*\\]","g"),OE=new RegExp(ex),Ah=new RegExp("^"+_i+"$"),Ab={ID:new RegExp("^#("+_i+")"),CLASS:new RegExp("^\\.("+_i+")"),TAG:new RegExp("^("+_i+"|[*])"),ATTR:new RegExp("^"+Ui),PSEUDO:new RegExp("^"+ex),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Va+"*(even|odd|(([+-]|)(\\d*)n|)"+Va+"*(?:([+-]|)"+Va+"*(\\d+)|))"+Va+"*\\)|)","i"),bool:new RegExp("^(?:"+QS+")$","i"),needsContext:new RegExp("^"+Va+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Va+"*((?:-\\d)?\\d*)"+Va+"*\\)|)(?=[^-]|$)","i")},DE=/^(?:input|select|textarea|button)$/i,nx=/^h\d$/i,S2=/^[^{]+\{\s*\[native \w/,x2=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_2=/[+~]/,RE=/'|\\/g,jv=new RegExp("\\\\([\\da-f]{1,6}"+Va+"?|("+Va+")|.)","ig"),Gv=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{Uv.apply($s=C2.call(oc.childNodes),oc.childNodes),$s[oc.childNodes.length].nodeType}catch{Uv={apply:$s.length?function(n,a){Wd.apply(n,C2.call(a))}:function(n,a){for(var i=n.length,l=0;n[i++]=a[l++];);n.length=i-1}}}var ia=function(e,n,a,i){var l,f,p,C,_,$,F,V,W,te;if((n?n.ownerDocument||n:oc)!==Ko&&Lv(n),n=n||Ko,a=a||[],!e||typeof e!="string")return a;if((C=n.nodeType)!==1&&C!==9)return[];if(Uc&&!i){if(l=x2.exec(e))if(p=l[1]){if(C===9)if(f=n.getElementById(p),f&&f.parentNode){if(f.id===p)return a.push(f),a}else return a;else if(n.ownerDocument&&(f=n.ownerDocument.getElementById(p))&&ln(n,f)&&f.id===p)return a.push(f),a}else{if(l[2])return Uv.apply(a,n.getElementsByTagName(e)),a;if((p=l[3])&&So.getElementsByClassName)return Uv.apply(a,n.getElementsByClassName(p)),a}if(So.qsa&&(!Fv||!Fv.test(e))){if(V=F=ii,W=n,te=C===9&&e,C===1&&n.nodeName.toLowerCase()!=="object"){for($=os(e),(F=n.getAttribute("id"))?V=F.replace(RE,"\\$&"):n.setAttribute("id",V),V="[id='"+V+"'] ",_=$.length;_--;)$[_]=V+Ob($[_]);W=_2.test(e)&&Tb(n.parentNode)||n,te=$.join(",")}if(te)try{return Uv.apply(a,W.querySelectorAll(te)),a}catch{}finally{F||n.removeAttribute("id")}}}return Vc(e.replace(kb,"$1"),n,a,i)};function Eb(){var e=[];function n(a,i){return e.push(a+" ")>jn.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function ic(e){return e[ii]=!0,e}function rx(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||kp)-(~e.sourceIndex||kp);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function uc(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function jc(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function qv(e){return ic(function(n){return n=+n,ic(function(a,i){for(var l,f=e([],a.length,n),p=f.length;p--;)a[l=f[p]]&&(a[l]=!(i[l]=a[l]))})})}function Tb(e){return e&&typeof e.getElementsByTagName!==kh&&e}So=ia.support={},JS=ia.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},Lv=ia.setDocument=function(e){var n,a=e?e.ownerDocument||e:oc,i=a.defaultView;function l(f){try{return f.top}catch{}return null}return a===Ko||a.nodeType!==9||!a.documentElement?Ko:(Ko=a,du=a.documentElement,Uc=!JS(a),i&&i!==l(i)&&(i.addEventListener?i.addEventListener("unload",function(){Lv()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Lv()})),So.attributes=!0,So.getElementsByTagName=!0,So.getElementsByClassName=S2.test(a.getElementsByClassName),So.getById=!0,jn.find.ID=function(f,p){if(typeof p.getElementById!==kh&&Uc){var C=p.getElementById(f);return C&&C.parentNode?[C]:[]}},jn.filter.ID=function(f){var p=f.replace(jv,Gv);return function(C){return C.getAttribute("id")===p}},jn.find.TAG=So.getElementsByTagName?function(f,p){if(typeof p.getElementsByTagName!==kh)return p.getElementsByTagName(f)}:function(f,p){var C,_=[],$=0,F=p.getElementsByTagName(f);if(f==="*"){for(;C=F[$++];)C.nodeType===1&&_.push(C);return _}return F},jn.find.CLASS=So.getElementsByClassName&&function(f,p){if(Uc)return p.getElementsByClassName(f)},_h=[],Fv=[],So.disconnectedMatch=!0,Fv=Fv.length&&new RegExp(Fv.join("|")),_h=_h.length&&new RegExp(_h.join("|")),n=S2.test(du.compareDocumentPosition),ln=n||S2.test(du.contains)?function(f,p){var C=f.nodeType===9?f.documentElement:f,_=p&&p.parentNode;return f===_||!!(_&&_.nodeType===1&&(C.contains?C.contains(_):f.compareDocumentPosition&&f.compareDocumentPosition(_)&16))}:function(f,p){if(p){for(;p=p.parentNode;)if(p===f)return!0}return!1},Vv=n?function(f,p){if(f===p)return Bs=!0,0;var C=!f.compareDocumentPosition-!p.compareDocumentPosition;return C||(C=(f.ownerDocument||f)===(p.ownerDocument||p)?f.compareDocumentPosition(p):1,C&1||!So.sortDetached&&p.compareDocumentPosition(f)===C?f===a||f.ownerDocument===oc&&ln(oc,f)?-1:p===a||p.ownerDocument===oc&&ln(oc,p)?1:Xf?Wv.call(Xf,f)-Wv.call(Xf,p):0:C&4?-1:1)}:function(f,p){if(f===p)return Bs=!0,0;var C,_=0,$=f.parentNode,F=p.parentNode,V=[f],W=[p];if(!$||!F)return f===a?-1:p===a?1:$?-1:F?1:Xf?Wv.call(Xf,f)-Wv.call(Xf,p):0;if($===F)return rx(f,p);for(C=f;C=C.parentNode;)V.unshift(C);for(C=p;C=C.parentNode;)W.unshift(C);for(;V[_]===W[_];)_++;return _?rx(V[_],W[_]):V[_]===oc?-1:W[_]===oc?1:0},a)},ia.matches=function(e,n){return ia(e,null,null,n)},ia.matchesSelector=function(e,n){if((e.ownerDocument||e)!==Ko&&Lv(e),n=n.replace(Dl,"='$1']"),So.matchesSelector&&Uc&&(!_h||!_h.test(n))&&(!Fv||!Fv.test(n)))try{var a=Ud.call(e,n);if(a||So.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return ia(n,Ko,null,[e]).length>0},ia.contains=function(e,n){return(e.ownerDocument||e)!==Ko&&Lv(e),ln(e,n)},ia.attr=function(e,n){(e.ownerDocument||e)!==Ko&&Lv(e);var a=jn.attrHandle[n.toLowerCase()],i=a&&EE.call(jn.attrHandle,n.toLowerCase())?a(e,n,!Uc):void 0;return i!==void 0?i:So.attributes||!Uc?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},ia.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ia.uniqueSort=function(e){var n,a=[],i=0,l=0;if(Bs=!So.detectDuplicates,Xf=!So.sortStable&&e.slice(0),e.sort(Vv),Bs){for(;n=e[l++];)n===e[l]&&(i=a.push(l));for(;i--;)e.splice(a[i],1)}return Xf=null,e},Rs=ia.getText=function(e){var n,a="",i=0,l=e.nodeType;if(l){if(l===1||l===9||l===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=Rs(e)}else if(l===3||l===4)return e.nodeValue}else for(;n=e[i++];)a+=Rs(n);return a},jn=ia.selectors={cacheLength:50,createPseudo:ic,match:Ab,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(jv,Gv),e[3]=(e[3]||e[4]||e[5]||"").replace(jv,Gv),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ia.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ia.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return Ab.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&OE.test(a)&&(n=os(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(jv,Gv).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=ZS[e+" "];return n||(n=new RegExp("(^|"+Va+")"+e+"("+Va+"|$)"))&&ZS(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==kh&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var l=ia.attr(i,e);return l==null?n==="!=":n?(l+="",n==="="?l===a:n==="!="?l!==a:n==="^="?a&&l.indexOf(a)===0:n==="*="?a&&l.indexOf(a)>-1:n==="$="?a&&l.slice(-a.length)===a:n==="~="?(" "+l+" ").indexOf(a)>-1:n==="|="?l===a||l.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,l){var f=e.slice(0,3)!=="nth",p=e.slice(-4)!=="last",C=n==="of-type";return i===1&&l===0?function(_){return!!_.parentNode}:function(_,$,F){var V,W,te,re,ue,se,be=f!==p?"nextSibling":"previousSibling",ge=_.parentNode,$e=C&&_.nodeName.toLowerCase(),Oe=!F&&!C;if(ge){if(f){for(;be;){for(te=_;te=te[be];)if(C?te.nodeName.toLowerCase()===$e:te.nodeType===1)return!1;se=be=e==="only"&&!se&&"nextSibling"}return!0}if(se=[p?ge.firstChild:ge.lastChild],p&&Oe){for(W=ge[ii]||(ge[ii]={}),V=W[e]||[],ue=V[0]===Wc&&V[1],re=V[0]===Wc&&V[2],te=ue&&ge.childNodes[ue];te=++ue&&te&&te[be]||(re=ue=0)||se.pop();)if(te.nodeType===1&&++re&&te===_){W[e]=[Wc,ue,re];break}}else if(Oe&&(V=(_[ii]||(_[ii]={}))[e])&&V[0]===Wc)re=V[1];else for(;(te=++ue&&te&&te[be]||(re=ue=0)||se.pop())&&!((C?te.nodeName.toLowerCase()===$e:te.nodeType===1)&&++re&&(Oe&&((te[ii]||(te[ii]={}))[e]=[Wc,re]),te===_)););return re-=l,re===i||re%i===0&&re/i>=0}}},PSEUDO:function(e,n){var a,i=jn.pseudos[e]||jn.setFilters[e.toLowerCase()]||ia.error("unsupported pseudo: "+e);return i[ii]?i(n):i.length>1?(a=[e,e,"",n],jn.setFilters.hasOwnProperty(e.toLowerCase())?ic(function(l,f){for(var p,C=i(l,n),_=C.length;_--;)p=Wv.call(l,C[_]),l[p]=!(f[p]=C[_])}):function(l){return i(l,0,a)}):i}},pseudos:{not:ic(function(e){var n=[],a=[],i=y2(e.replace(kb,"$1"));return i[ii]?ic(function(l,f,p,C){for(var _,$=i(l,null,C,[]),F=l.length;F--;)(_=$[F])&&(l[F]=!(f[F]=_))}):function(l,f,p){return n[0]=l,i(n,null,p,a),n[0]=null,!a.pop()}}),has:ic(function(e){return function(n){return ia(e,n).length>0}}),contains:ic(function(e){return e=e.replace(jv,Gv),function(n){return(n.textContent||n.innerText||Rs(n)).indexOf(e)>-1}}),lang:ic(function(e){return Ah.test(e||"")||ia.error("unsupported lang: "+e),e=e.replace(jv,Gv).toLowerCase(),function(n){var a;do if(a=Uc?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===du},focus:function(e){return e===Ko.activeElement&&(!Ko.hasFocus||Ko.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!jn.pseudos.empty(e)},header:function(e){return nx.test(e.nodeName)},input:function(e){return DE.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:qv(function(){return[0]}),last:qv(function(e,n){return[n-1]}),eq:qv(function(e,n,a){return[a<0?a+n:a]}),even:qv(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:qv(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:qv(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:qv(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},jn.pseudos.nth=jn.pseudos.eq,Be(["radio","checkbox","file","password","image"],function(e){jn.pseudos[e]=uc(e)}),Be(["submit","reset"],function(e){jn.pseudos[e]=jc(e)});function Ap(){}Ap.prototype=jn.filters=jn.pseudos,jn.setFilters=new Ap,os=ia.tokenize=function(e,n){var a,i,l,f,p,C,_,$=_b[e+" "];if($)return n?0:$.slice(0);for(p=e,C=[],_=jn.preFilter;p;){(!a||(i=TE.exec(p)))&&(i&&(p=p.slice(i[0].length)||p),C.push(l=[])),a=!1,(i=tx.exec(p))&&(a=i.shift(),l.push({value:a,type:i[0].replace(kb," ")}),p=p.slice(a.length));for(f in jn.filter)jn.filter.hasOwnProperty(f)&&(i=Ab[f].exec(p))&&(!_[f]||(i=_[f](i)))&&(a=i.shift(),l.push({value:a,type:f,matches:i}),p=p.slice(a.length));if(!a)break}return n?p.length:p?ia.error(e):_b(e,C).slice(0)};function Ob(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function Db(e,n,a){var i=n.dir,l=a&&i==="parentNode",f=_p++;return n.first?function(p,C,_){for(;p=p[i];)if(p.nodeType===1||l)return e(p,C,_)}:function(p,C,_){var $,F,V=[Wc,f];if(_){for(;p=p[i];)if((p.nodeType===1||l)&&e(p,C,_))return!0}else for(;p=p[i];)if(p.nodeType===1||l){if(F=p[ii]||(p[ii]={}),($=F[i])&&$[0]===Wc&&$[1]===f)return V[2]=$[2];if(F[i]=V,V[2]=e(p,C,_))return!0}}}function jd(e){return e.length>1?function(n,a,i){for(var l=e.length;l--;)if(!e[l](n,a,i))return!1;return!0}:e[0]}function BE(e,n,a){for(var i=0,l=n.length;i<l;i++)ia(e,n[i],a);return a}function Rb(e,n,a,i,l){for(var f,p=[],C=0,_=e.length,$=n!=null;C<_;C++)(f=e[C])&&(!a||a(f,i,l))&&(p.push(f),$&&n.push(C));return p}function Eh(e,n,a,i,l,f){return i&&!i[ii]&&(i=Eh(i)),l&&!l[ii]&&(l=Eh(l,f)),ic(function(p,C,_,$){var F,V,W,te=[],re=[],ue=C.length,se=p||BE(n||"*",_.nodeType?[_]:_,[]),be=e&&(p||!n)?Rb(se,te,e,_,$):se,ge=a?l||(p?e:ue||i)?[]:C:be;if(a&&a(be,ge,_,$),i)for(F=Rb(ge,re),i(F,[],_,$),V=F.length;V--;)(W=F[V])&&(ge[re[V]]=!(be[re[V]]=W));if(p){if(l||e){if(l){for(F=[],V=ge.length;V--;)(W=ge[V])&&F.push(be[V]=W);l(null,ge=[],F,$)}for(V=ge.length;V--;)(W=ge[V])&&(F=l?Wv.call(p,W):te[V])>-1&&(p[F]=!(C[F]=W))}}else ge=Rb(ge===C?ge.splice(ue,ge.length):ge),l?l(null,C,ge,$):Uv.apply(C,ge)})}function Ep(e){for(var n,a,i,l=e.length,f=jn.relative[e[0].type],p=f||jn.relative[" "],C=f?1:0,_=Db(function(V){return V===n},p,!0),$=Db(function(V){return Wv.call(n,V)>-1},p,!0),F=[function(V,W,te){var re=!f&&(te||W!==Kf)||((n=W).nodeType?_(V,W,te):$(V,W,te));return n=null,re}];C<l;C++)if(a=jn.relative[e[C].type])F=[Db(jd(F),a)];else{if(a=jn.filter[e[C].type].apply(null,e[C].matches),a[ii]){for(i=++C;i<l&&!jn.relative[e[i].type];i++);return Eh(C>1&&jd(F),C>1&&Ob(e.slice(0,C-1).concat({value:e[C-2].type===" "?"*":""})).replace(kb,"$1"),a,C<i&&Ep(e.slice(C,i)),i<l&&Ep(e=e.slice(i)),i<l&&Ob(e))}F.push(a)}return jd(F)}function Tp(e,n){var a=n.length>0,i=e.length>0,l=function(f,p,C,_,$){var F,V,W,te=0,re="0",ue=f&&[],se=[],be=Kf,ge=f||i&&jn.find.TAG("*",$),$e=Wc+=be==null?1:Math.random()||.1,Oe=ge.length;for($&&(Kf=p!==Ko&&p);re!==Oe&&(F=ge[re])!=null;re++){if(i&&F){for(V=0;W=e[V++];)if(W(F,p,C)){_.push(F);break}$&&(Wc=$e)}a&&((F=!W&&F)&&te--,f&&ue.push(F))}if(te+=re,a&&re!==te){for(V=0;W=n[V++];)W(ue,se,p,C);if(f){if(te>0)for(;re--;)ue[re]||se[re]||(se[re]=w2.call(_));se=Rb(se)}Uv.apply(_,se),$&&!f&&se.length>0&&te+n.length>1&&ia.uniqueSort(_)}return $&&(Wc=$e,Kf=be),ue};return a?ic(l):l}y2=ia.compile=function(e,n){var a,i=[],l=[],f=Hv[e+" "];if(!f){for(n||(n=os(e)),a=n.length;a--;)f=Ep(n[a]),f[ii]?i.push(f):l.push(f);f=Hv(e,Tp(l,i)),f.selector=e}return f},Vc=ia.select=function(e,n,a,i){var l,f,p,C,_,$=typeof e=="function"&&e,F=!i&&os(e=$.selector||e);if(a=a||[],F.length===1){if(f=F[0]=F[0].slice(0),f.length>2&&(p=f[0]).type==="ID"&&So.getById&&n.nodeType===9&&Uc&&jn.relative[f[1].type]){if(n=(jn.find.ID(p.matches[0].replace(jv,Gv),n)||[])[0],n)$&&(n=n.parentNode);else return a;e=e.slice(f.shift().value.length)}for(l=Ab.needsContext.test(e)?0:f.length;l--&&(p=f[l],!jn.relative[C=p.type]);)if((_=jn.find[C])&&(i=_(p.matches[0].replace(jv,Gv),_2.test(f[0].type)&&Tb(n.parentNode)||n))){if(f.splice(l,1),e=i.length&&Ob(f),!e)return Uv.apply(a,i),a;break}}return($||y2(e,F))(i,n,!Uc,a,_2.test(e)&&Tb(n.parentNode)||n),a},So.sortStable=ii.split("").sort(Vv).join("")===ii,So.detectDuplicates=!!Bs,Lv(),So.sortDetached=!0;var k2=document,Fo=Array.prototype.push,Gd=Array.prototype.slice,Ro=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,mu=xh.Event,qd=et.makeMap("children,contents,next,prev"),Ms=function(e){return typeof e<"u"},Bb=function(e){return typeof e=="string"},Gc=function(e){return e&&e===e.window},Th=function(e,n){n=n||k2;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var l;l=a.firstChild;)i.appendChild(l);return i},Oh=function(e,n,a,i){var l;if(Bb(n))n=Th(n,Kv(e[0]));else if(n.length&&!n.nodeType){if(n=Jn.makeArray(n),i)for(l=n.length-1;l>=0;l--)Oh(e,n[l],a,i);else for(l=0;l<n.length;l++)Oh(e,n[l],a,i);return e}if(n.nodeType)for(l=e.length;l--;)a.call(e[l],n);return e},ax=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},ox=function(e,n,a){var i,l;return n=Jn(n)[0],e.each(function(){var f=this;(!a||i!==f.parentNode)&&(i=f.parentNode,l=n.cloneNode(!1),f.parentNode.insertBefore(l,f)),l.appendChild(f)}),e},$E=et.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ME=et.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),PE={for:"htmlFor",class:"className",readonly:"readOnly"},ix={float:"cssFloat"},$b={},Mb={},ki=function(e,n){return new Jn.fn.init(e,n)},Pb=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},A2=/^\s*|\s*$/g,tl=function(e){return e==null?"":(""+e).replace(A2,"")},$a=function(e,n){var a,i,l,f;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(f=e[i],n.call(f,i,f)===!1))break}else for(l=0;l<a&&(f=e[l],n.call(f,l,f)!==!1);l++);return e},Ps=function(e,n){var a=[];return $a(e,function(i,l){n(l,i)&&a.push(l)}),a},Kv=function(e){return e?e.nodeType===9?e:e.ownerDocument:k2};ki.fn=ki.prototype={constructor:ki,selector:"",context:null,length:0,init:function(e,n){var a=this,i,l;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return Jn(e).attr(n);a.context=n=document}if(Bb(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=Ro.exec(e),i)if(i[1])for(l=Th(e,Kv(n)).firstChild;l;)Fo.call(a,l),l=l.nextSibling;else{if(l=Kv(n).getElementById(i[2]),!l)return a;if(l.id!==i[2])return a.find(e);a.length=1,a[0]=l}else return Jn(n).find(e);else this.add(e,!1);return a},toArray:function(){return et.toArray(this)},add:function(e,n){var a=this,i,l;if(Bb(e))return a.add(Jn(e));if(n!==!1)for(i=Jn.unique(a.toArray().concat(Jn.makeArray(e))),a.length=i.length,l=0;l<i.length;l++)a[l]=i[l];else Fo.apply(a,Jn.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")$a(e,function(l,f){a.attr(l,f)});else if(Ms(n))this.each(function(){var l;if(this.nodeType===1){if(l=$b[e],l&&l.set){l.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=$b[e],i&&i.get)return i.get(a[0],e);if(ME[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=PE[e]||e,typeof e=="object")$a(e,function(i,l){a.prop(i,l)});else if(Ms(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,l,f=function(C){return C.replace(/-(\D)/g,function(_,$){return $.toUpperCase()})},p=function(C){return C.replace(/[A-Z]/g,function(_){return"-"+_})};if(typeof e=="object")$a(e,function(C,_){a.css(C,_)});else if(Ms(n))e=f(e),typeof n=="number"&&!$E[e]&&(n=n.toString()+"px"),a.each(function(){var C=this.style;if(l=Mb[e],l&&l.set){l.set(this,n);return}try{this.style[ix[e]||e]=n}catch{}(n===null||n==="")&&(C.removeProperty?C.removeProperty(p(e)):C.removeAttribute(e))});else{if(i=a[0],l=Mb[e],l&&l.get)return l.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(p(e))}catch{return}else return i.currentStyle?i.currentStyle[f(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],mu.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(Ms(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch{Jn(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(Ms(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Oh(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Oh(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Oh(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Oh(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return Jn(e).append(this),this},prependTo:function(e){return Jn(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return ox(this,e)},wrapAll:function(e){return ox(this,e,!0)},wrapInner:function(e){return this.each(function(){Jn(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Jn(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Jn(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?$a(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,l){var f=ax(l,e);if(f!==n){var p=l.className;f?l.className=tl((" "+p+" ").replace(" "+e+" "," ")):l.className+=p?" "+e:e}})),a},hasClass:function(e){return ax(this[0],e)},each:function(e){return $a(this,e)},on:function(e,n){return this.each(function(){mu.bind(this,e,n)})},off:function(e,n){return this.each(function(){mu.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?mu.fire(this,e.type,e):mu.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Jn(Gd.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)Jn.find(e,this[n],i);return Jn(i)},filter:function(e){return Jn(typeof e=="function"?Ps(this.toArray(),function(n,a){return e(a,n)}):Jn.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof Jn&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&Jn(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),Jn(n)},offset:function(e){var n,a,i,l=0,f=0,p;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(p=n.getBoundingClientRect(),l=p.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,f=p.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:l,top:f})},push:Fo,sort:Array.prototype.sort,splice:Array.prototype.splice},et.extend(ki,{extend:et.extend,makeArray:function(e){return Gc(e)||e.nodeType?[e]:et.toArray(e)},inArray:Pb,isArray:et.isArray,each:$a,trim:tl,grep:Ps,find:ia,expr:ia.selectors,unique:ia.uniqueSort,text:ia.getText,contains:ia.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=Jn.find.matchesSelector(n[0],e)?[n[0]]:[]:n=Jn.find.matches(e,n),n}});var E2=function(e,n,a){var i=[],l=e[n];for(typeof a!="string"&&a instanceof Jn&&(a=a[0]);l&&l.nodeType!==9&&!(a!==void 0&&(l===a||typeof a=="string"&&Jn(l).is(a)));)l.nodeType===1&&i.push(l),l=l[n];return i},Nb=function(e,n,a,i){var l=[];for(i instanceof Jn&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&Jn(e).is(i)))break;l.push(e)}return l},ux=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};$a({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return E2(e,"parentNode")},next:function(e){return ux(e,"nextSibling",1)},prev:function(e){return ux(e,"previousSibling",1)},children:function(e){return Nb(e.firstChild,"nextSibling",1)},contents:function(e){return et.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){ki.fn[e]=function(a){var i=this,l=[];i.each(function(){var p=n.call(l,this,a,l);p&&(Jn.isArray(p)?l.push.apply(l,p):l.push(p))}),this.length>1&&(qd[e]||(l=Jn.unique(l)),e.indexOf("parents")===0&&(l=l.reverse()));var f=Jn(l);return a?f.filter(a):f}}),$a({parentsUntil:function(e,n){return E2(e,"parentNode",n)},nextUntil:function(e,n){return Nb(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return Nb(e,"previousSibling",1,n).slice(1)}},function(e,n){ki.fn[e]=function(a,i){var l=this,f=[];l.each(function(){var C=n.call(f,this,a,f);C&&(Jn.isArray(C)?f.push.apply(f,C):f.push(C))}),this.length>1&&(f=Jn.unique(f),(e.indexOf("parents")===0||e==="prevUntil")&&(f=f.reverse()));var p=Jn(f);return i?p.filter(i):p}}),ki.fn.is=function(e){return!!e&&this.filter(e).length>0},ki.fn.init.prototype=ki.fn,ki.overrideDefaults=function(e){var n,a=function(i,l){return n=n||e(),arguments.length===0&&(i=n.element),l||(l=n.context),new a.fn.init(i,l)};return Jn.extend(a,this),a},ki.attrHooks=$b,ki.cssHooks=Mb;var Jn=ki,Dh=et.each,Ib=et.grep,T2=Rn.ie,Ho=/^([a-z0-9],?)+$/i,nl=function(e,n,a){var i=n.keep_values,l={set:function(p,C,_){n.url_converter&&C!==null&&(C=n.url_converter.call(n.url_converter_scope||a(),C,_,p[0])),p.attr("data-mce-"+_,C).attr(_,C)},get:function(p,C){return p.attr("data-mce-"+C)||p.attr(C)}},f={style:{set:function(p,C){if(C!==null&&typeof C=="object"){p.css(C);return}i&&p.attr("data-mce-style",C),C!==null&&typeof C=="string"?(p.removeAttr("style"),p.css(e.parse(C))):p.attr("style",C)},get:function(p){var C=p.attr("data-mce-style")||p.attr("style");return C=e.serialize(e.parse(C),p[0].nodeName),C}}};return i&&(f.href=f.src=l),f},sx=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},Kd=function(e,n){var a=0,i,l;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)l=e.nodeType,!(n&&l===3&&(l===i||!e.nodeValue.length))&&(a++,i=l);return a},Ta=function(e,n){n===void 0&&(n={});var a={},i=window,l={},f=0,p=!0,C=!0,_=_l.forElement(De.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),$=[],F=n.schema?n.schema:Ds({}),V=Ol({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),W=n.ownEvents?new xh:xh.Event,te=F.getBlockElements(),re=Jn.overrideDefaults(function(){return{context:e,element:$m.getRoot()}}),ue=function(xe){if(typeof xe=="string")return!!te[xe];if(xe){var Ue=xe.nodeType;if(Ue)return!!(Ue===1&&te[xe.nodeName])}return!1},se=function(xe){return xe&&e&&Ct(xe)?e.getElementById(xe):xe},be=function(xe){return re(typeof xe=="string"?se(xe):xe)},ge=function(xe,Ue,Tt){var Vt,tr,$r=be(xe);return $r.length&&(Vt=ZO[Ue],Vt&&Vt.get?tr=Vt.get($r,Ue):tr=$r.attr(Ue)),typeof tr>"u"&&(tr=Tt||""),tr},$e=function(xe){var Ue=se(xe);return Ue?Ue.attributes:[]},Oe=function(xe,Ue,Tt){Tt===""&&(Tt=null);var Vt=be(xe),tr=Vt.attr(Ue);if(Vt.length){var $r=ZO[Ue];$r&&$r.set?$r.set(Vt,Tt,Ue):Vt.attr(Ue,Tt),tr!==Tt&&n.onSetAttrib&&n.onSetAttrib({attrElm:Vt,attrName:Ue,attrValue:Tt})}},we=function(xe,Ue){if(!T2||xe.nodeType!==1||Ue)return xe.cloneNode(Ue);var Tt=e.createElement(xe.nodeName);return Dh($e(xe),function(Vt){Oe(Tt,Vt.nodeName,ge(xe,Vt.nodeName))}),Tt},Ie=function(){return n.root_element||e.body},ot=function(xe){var Ue=Lf(xe);return{x:Ue.x,y:Ue.y,w:Ue.width,h:Ue.height}},wt=function(xe,Ue){return vp(e.body,se(xe),Ue)},Bn=function(xe,Ue,Tt){var Vt=Ct(Ue)?be(xe).css(Ue,Tt):be(xe).css(Ue);n.update_styles&&sx(V,Vt)},tn=function(xe,Ue){var Tt=be(xe).css(Ue);n.update_styles&&sx(V,Tt)},dt=function(xe,Ue,Tt){var Vt=be(xe);return Tt?Vt.css(Ue):(Ue=Ue.replace(/-(\D)/g,function(tr,$r){return $r.toUpperCase()}),Ue==="float"&&(Ue=Rn.browser.isIE()?"styleFloat":"cssFloat"),Vt[0]&&Vt[0].style?Vt[0].style[Ue]:void 0)},On=function(xe){var Ue,Tt;return xe=se(xe),Ue=dt(xe,"width"),Tt=dt(xe,"height"),Ue.indexOf("px")===-1&&(Ue=0),Tt.indexOf("px")===-1&&(Tt=0),{w:parseInt(Ue,10)||xe.offsetWidth||xe.clientWidth,h:parseInt(Tt,10)||xe.offsetHeight||xe.clientHeight}},kt=function(xe){xe=se(xe);var Ue=wt(xe),Tt=On(xe);return{x:Ue.x,y:Ue.y,w:Tt.w,h:Tt.h}},Yt=function(xe,Ue){var Tt;if(!xe)return!1;if(!Array.isArray(xe)){if(Ue==="*")return xe.nodeType===1;if(Ho.test(Ue)){var Vt=Ue.toLowerCase().split(/,/),tr=xe.nodeName.toLowerCase();for(Tt=Vt.length-1;Tt>=0;Tt--)if(Vt[Tt]===tr)return!0;return!1}if(xe.nodeType&&xe.nodeType!==1)return!1}var $r=Array.isArray(xe)?xe:[xe];return ia(Ue,$r[0].ownerDocument||$r[0],null,$r).length>0},Ot=function(xe,Ue,Tt,Vt){var tr=[],$r,Ua=se(xe);for(Vt=Vt===void 0,Tt=Tt||(Ie().nodeName!=="BODY"?Ie().parentNode:null),et.is(Ue,"string")&&($r=Ue,Ue==="*"?Ue=function(jg){return jg.nodeType===1}:Ue=function(jg){return Yt(jg,$r)});Ua&&!(Ua===Tt||Xt(Ua.nodeType)||fp(Ua)||Yn(Ua));){if(!Ue||typeof Ue=="function"&&Ue(Ua))if(Vt)tr.push(Ua);else return[Ua];Ua=Ua.parentNode}return Vt?tr:null},zt=function(xe,Ue,Tt){var Vt=Ot(xe,Ue,Tt,!1);return Vt&&Vt.length>0?Vt[0]:null},un=function(xe,Ue,Tt){var Vt=Ue;if(xe){for(typeof Ue=="string"&&(Vt=function(tr){return Yt(tr,Ue)}),xe=xe[Tt];xe;xe=xe[Tt])if(typeof Vt=="function"&&Vt(xe))return xe}return null},ht=function(xe,Ue){return un(xe,Ue,"nextSibling")},nn=function(xe,Ue){return un(xe,Ue,"previousSibling")},dr=function(xe,Ue){return ia(xe,se(Ue)||n.root_element||e,[])},jr=function(xe,Ue,Tt){var Vt,tr=typeof xe=="string"?se(xe):xe;if(!tr)return!1;if(et.isArray(tr)&&(tr.length||tr.length===0))return Vt=[],Dh(tr,function(Ua,jg){Ua&&Vt.push(Ue.call(Tt,typeof Ua=="string"?se(Ua):Ua,jg))}),Vt;var $r=Tt||this;return Ue.call($r,tr)},zr=function(xe,Ue){be(xe).each(function(Tt,Vt){Dh(Ue,function(tr,$r){Oe(Vt,$r,tr)})})},Bi=function(xe,Ue){var Tt=be(xe);T2?Tt.each(function(Vt,tr){if(tr.canHaveHTML!==!1){for(;tr.firstChild;)tr.removeChild(tr.firstChild);try{tr.innerHTML="<br>"+Ue,tr.removeChild(tr.firstChild)}catch{Jn("<div></div>").html("<br>"+Ue).contents().slice(1).appendTo(tr)}return Ue}}):Tt.html(Ue)},Za=function(xe,Ue,Tt,Vt,tr){return jr(xe,function($r){var Ua=typeof Ue=="string"?e.createElement(Ue):Ue;return zr(Ua,Tt),Vt&&(typeof Vt!="string"&&Vt.nodeType?Ua.appendChild(Vt):typeof Vt=="string"&&Bi(Ua,Vt)),tr?Ua:$r.appendChild(Ua)})},Vu=function(xe,Ue,Tt){return Za(e.createElement(xe),xe,Ue,Tt,!0)},vs=Os.decode,gt=Os.encodeAllRaw,$t=function(xe,Ue,Tt){var Vt="",tr;Vt+="<"+xe;for(tr in Ue)Ws(Ue,tr)&&(Vt+=" "+tr+'="'+gt(Ue[tr])+'"');return typeof Tt<"u"?Vt+">"+Tt+"</"+xe+">":Vt+" />"},pn=function(xe){var Ue,Tt=e.createElement("div"),Vt=e.createDocumentFragment();for(Vt.appendChild(Tt),xe&&(Tt.innerHTML=xe);Ue=Tt.firstChild;)Vt.appendChild(Ue);return Vt.removeChild(Tt),Vt},ze=function(xe,Ue){var Tt=be(xe);return Ue?Tt.each(function(){for(var Vt;Vt=this.firstChild;)Vt.nodeType===3&&Vt.data.length===0?this.removeChild(Vt):this.parentNode.insertBefore(Vt,this)}).remove():Tt.remove(),Tt.length>1?Tt.toArray():Tt[0]},xt=function(xe){return jr(xe,function(Ue){var Tt,Vt=Ue.attributes;for(Tt=Vt.length-1;Tt>=0;Tt--)Ue.removeAttributeNode(Vt.item(Tt))})},pt=function(xe){return V.parse(xe)},wn=function(xe,Ue){return V.serialize(xe,Ue)},An=function(xe){var Ue,Tt;if($m!==Ta.DOM&&e===document){if(a[xe])return;a[xe]=!0}Tt=e.getElementById("mceDefaultStyles"),Tt||(Tt=e.createElement("style"),Tt.id="mceDefaultStyles",Tt.type="text/css",Ue=e.getElementsByTagName("head")[0],Ue.firstChild?Ue.insertBefore(Tt,Ue.firstChild):Ue.appendChild(Tt)),Tt.styleSheet?Tt.styleSheet.cssText+=xe:Tt.appendChild(e.createTextNode(xe))},ga=function(xe){xe||(xe=""),Be(xe.split(","),function(Ue){l[Ue]=!0,_.load(Ue,Qt)})},Zo=function(xe,Ue,Tt){be(xe).toggleClass(Ue,Tt).each(function(){this.className===""&&Jn(this).attr("class",null)})},Go=function(xe,Ue){be(xe).addClass(Ue)},Bm=function(xe,Ue){Zo(xe,Ue,!1)},Uu=function(xe,Ue){return be(xe).hasClass(Ue)},xu=function(xe){be(xe).show()},di=function(xe){be(xe).hide()},Fl=function(xe){return be(xe).css("display")==="none"},Wu=function(xe){return(xe||"mce_")+f++},yf=function(xe){var Ue=typeof xe=="string"?se(xe):xe;return In(Ue)?Ue.outerHTML:Jn("<div></div>").append(Jn(Ue).clone()).html()},ya=function(xe,Ue){be(xe).each(function(){try{if("outerHTML"in this){this.outerHTML=Ue;return}}catch{}ze(Jn(this).html(Ue),!0)})},Ma=function(xe,Ue){var Tt=se(Ue);return jr(xe,function(Vt){var tr=Tt.parentNode,$r=Tt.nextSibling;return $r?tr.insertBefore(Vt,$r):tr.appendChild(Vt),Vt})},mi=function(xe,Ue,Tt){return jr(Ue,function(Vt){return et.is(Vt,"array")&&(xe=xe.cloneNode(!0)),Tt&&Dh(Ib(Vt.childNodes),function(tr){xe.appendChild(tr)}),Vt.parentNode.replaceChild(xe,Vt)})},ds=function(xe,Ue){var Tt;return xe.nodeName!==Ue.toUpperCase()&&(Tt=Vu(Ue),Dh($e(xe),function(Vt){Oe(Tt,Vt.nodeName,ge(xe,Vt.nodeName))}),mi(Tt,xe,!0)),Tt||xe},gv=function(xe,Ue){for(var Tt=xe,Vt;Tt;){for(Vt=Ue;Vt&&Tt!==Vt;)Vt=Vt.parentNode;if(Tt===Vt)break;Tt=Tt.parentNode}return!Tt&&xe.ownerDocument?xe.ownerDocument.documentElement:Tt},pv=function(xe){return V.toHex(et.trim(xe))},Wg=function(xe){if(In(xe)){var Ue=xe.nodeName.toLowerCase()==="a"&&!ge(xe,"href")&&ge(xe,"id");if(ge(xe,"name")||ge(xe,"data-mce-bookmark")||Ue)return!0}return!1},$y=function(xe,Ue){var Tt,Vt,tr=0;if(Wg(xe))return!1;if(xe=xe.firstChild,xe){var $r=new Yr(xe,xe.parentNode),Ua=F?F.getWhiteSpaceElements():{};Ue=Ue||(F?F.getNonEmptyElements():null);do{if(Tt=xe.nodeType,In(xe)){var jg=xe.getAttribute("data-mce-bogus");if(jg){xe=$r.next(jg==="all");continue}if(Vt=xe.nodeName.toLowerCase(),Ue&&Ue[Vt]){if(Vt==="br"){tr++,xe=$r.next();continue}return!1}if(Wg(xe))return!1}if(Tt===8||Tt===3&&!Al(xe.nodeValue)||Tt===3&&xe.parentNode&&Ua[xe.parentNode.nodeName]&&Al(xe.nodeValue))return!1;xe=$r.next()}while(xe)}return tr<=1},HA=function(){return e.createRange()},wM=function(xe,Ue,Tt){var Vt=HA(),tr,$r,Ua;if(xe&&Ue)return Vt.setStart(xe.parentNode,Kd(xe)),Vt.setEnd(Ue.parentNode,Kd(Ue)),tr=Vt.extractContents(),Vt=HA(),Vt.setStart(Ue.parentNode,Kd(Ue)+1),Vt.setEnd(xe.parentNode,Kd(xe)+1),$r=Vt.extractContents(),Ua=xe.parentNode,Ua.insertBefore(c2($m,tr),xe),Tt?Ua.insertBefore(Tt,xe):Ua.insertBefore(Ue,xe),Ua.insertBefore(c2($m,$r),xe),ze(xe),Tt||Ue},CM=function(xe,Ue,Tt,Vt){if(et.isArray(xe)){for(var tr=xe.length,$r=[];tr--;)$r[tr]=CM(xe[tr],Ue,Tt,Vt);return $r}n.collect&&(xe===e||xe===i)&&$.push([xe,Ue,Tt,Vt]);var Ua=W.bind(xe,Ue,Tt,Vt||$m);return Ua},YO=function(xe,Ue,Tt){if(et.isArray(xe)){for(var Vt=xe.length,tr=[];Vt--;)tr[Vt]=YO(xe[Vt],Ue,Tt);return tr}else{if($.length>0&&(xe===e||xe===i))for(var Vt=$.length;Vt--;){var $r=$[Vt];xe===$r[0]&&(!Ue||Ue===$r[1])&&(!Tt||Tt===$r[2])&&W.unbind($r[0],$r[1],$r[2])}return W.unbind(xe,Ue,Tt)}},VF=function(xe,Ue,Tt){return W.fire(xe,Ue,Tt)},SM=function(xe){if(xe&&In(xe)){var Ue=xe.getAttribute("data-mce-contenteditable");return Ue&&Ue!=="inherit"?Ue:xe.contentEditable!=="inherit"?xe.contentEditable:null}else return null},UF=function(xe){for(var Ue=Ie(),Tt=null;xe&&xe!==Ue&&(Tt=SM(xe),Tt===null);xe=xe.parentNode);return Tt},xM=function(){if($.length>0)for(var xe=$.length;xe--;){var Ue=$[xe];W.unbind(Ue[0],Ue[1],Ue[2])}Hr(l,function(Tt,Vt){_.unload(Vt),delete l[Vt]}),ia.setDocument&&ia.setDocument()},JO=function(xe,Ue){if(T2){for(;xe;){if(Ue===xe)return!0;xe=xe.parentNode}return!1}else return xe===Ue||Ue.contains(xe)},WF=function(xe){return"startContainer: "+xe.startContainer.nodeName+", startOffset: "+xe.startOffset+", endContainer: "+xe.endContainer.nodeName+", endOffset: "+xe.endOffset},$m={doc:e,settings:n,win:i,files:l,stdMode:p,boxModel:C,styleSheetLoader:_,boundEvents:$,styles:V,schema:F,events:W,isBlock:ue,$:re,$$:be,root:null,clone:we,getRoot:Ie,getViewPort:ot,getRect:kt,getSize:On,getParent:zt,getParents:Ot,get:se,getNext:ht,getPrev:nn,select:dr,is:Yt,add:Za,create:Vu,createHTML:$t,createFragment:pn,remove:ze,setStyle:Bn,getStyle:dt,setStyles:tn,removeAllAttribs:xt,setAttrib:Oe,setAttribs:zr,getAttrib:ge,getPos:wt,parseStyle:pt,serializeStyle:wn,addStyle:An,loadCSS:ga,addClass:Go,removeClass:Bm,hasClass:Uu,toggleClass:Zo,show:xu,hide:di,isHidden:Fl,uniqueId:Wu,setHTML:Bi,getOuterHTML:yf,setOuterHTML:ya,decode:vs,encode:gt,insertAfter:Ma,replace:mi,rename:ds,findCommonAncestor:gv,toHex:pv,run:jr,getAttribs:$e,isEmpty:$y,createRng:HA,nodeIndex:Kd,split:wM,bind:CM,unbind:YO,fire:VF,getContentEditable:SM,getContentEditableParent:UF,destroy:xM,isChildOf:JO,dumpRng:WF},ZO=nl(V,n,Y($m));return $m};Ta.DOM=Ta(document),Ta.nodeIndex=Kd;var Xd=Ta.DOM,zb=et.each,Rh=et.grep,O2=0,lx=1,Op=2,cx=3,Yf=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var l=Xd,f,p=function(){l.remove($),f&&(f.onerror=f.onload=f=null)},C=function(){p(),a()},_=function(){p(),Nt(i)?i():typeof console<"u"&&console.log&&console.log("Failed to load script: "+n)},$=l.uniqueId();f=document.createElement("script"),f.id=$,f.type="text/javascript",f.src=et._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=C,f.onerror=_,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)},e.prototype.isDone=function(n){return this.states[n]===Op},e.prototype.markDone=function(n){this.states[n]=Op},e.prototype.add=function(n,a,i,l){var f=this.states[n];this.queue.push(n),f===void 0&&(this.states[n]=O2),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:l,scope:i||this}))},e.prototype.load=function(n,a,i,l){return this.add(n,a,i,l)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,l){var f=this,p=[],C=function($,F){zb(f.scriptLoadedCallbacks[F],function(V){Nt(V[$])&&V[$].call(V.scope)}),f.scriptLoadedCallbacks[F]=void 0};f.queueLoadedCallbacks.push({success:a,failure:l,scope:i||this});var _=function(){var $=Rh(n);if(n.length=0,zb($,function(V){if(f.states[V]===Op){C("success",V);return}if(f.states[V]===cx){C("failure",V);return}f.states[V]!==lx&&(f.states[V]=lx,f.loading++,f.loadScript(V,function(){f.states[V]=Op,f.loading--,C("success",V),_()},function(){f.states[V]=cx,f.loading--,p.push(V),C("failure",V),_()}))}),!f.loading){var F=f.queueLoadedCallbacks.slice(0);f.queueLoadedCallbacks.length=0,zb(F,function(V){p.length===0?Nt(V.success)&&V.success.call(V.scope):Nt(V.failure)&&V.failure.call(V.scope,p)})}};_()},e.ScriptLoader=new e,e}(),hu=function(e){var n=e,a=function(){return n},i=function(l){n=l};return{get:a,set:i}},D2=function(e){return Me(e)&&pr(e,"raw")},NE=function(e){return rt(e)&&e.length>1},sc={},Jf=hu("en"),Lb=function(){return Qr(sc,Jf.get())},IE=function(){return ps(sc,function(e){return Mn({},e)})},zE=function(e){e&&Jf.set(e)},Yd=function(){return Jf.get()},Jd=function(e,n){var a=sc[e];a||(sc[e]=a={}),Hr(n,function(i,l){a[l.toLowerCase()]=i})},Fb=function(e){var n=Lb().getOr({}),a=function(_){return Nt(_)?Object.prototype.toString.call(_):i(_)?"":""+_},i=function(_){return _===""||_===null||_===void 0},l=function(_){var $=a(_);return Qr(n,$.toLowerCase()).map(a).getOr($)},f=function(_){return _.replace(/{context:\w+}$/,"")};if(i(e))return"";if(D2(e))return a(e.raw);if(NE(e)){var p=e.slice(1),C=l(e[0]).replace(/\{([0-9]+)\}/g,function(_,$){return pr(p,$)?a(p[$]):_});return f(C)}return f(l(e))},Nr=function(){return Lb().bind(function(e){return Qr(e,"_dir")}).exists(function(e){return e==="rtl"})},Vo=function(e){return pr(sc,e)},gu={getData:IE,setCode:zE,getCode:Yd,add:Jd,translate:Fb,isRtl:Nr,hasCode:Vo},Pu=function(){var e=[],n={},a={},i=[],l=function(ue,se){var be=Qe(i,function(ge){return ge.name===ue&&ge.state===se});Be(be,function(ge){return ge.callback()})},f=function(ue){if(a[ue])return a[ue].instance},p=function(ue){var se;return a[ue]&&(se=a[ue].dependencies),se||[]},C=function(ue,se){Pu.languageLoad!==!1&&re(ue,function(){var be=gu.getCode(),ge=","+(se||"")+",";!be||se&&ge.indexOf(","+be+",")===-1||Yf.ScriptLoader.add(n[ue]+"/langs/"+be+".js")},"loaded")},_=function(ue,se,be){var ge=se;return e.push(ge),a[ue]={instance:ge,dependencies:be},l(ue,"added"),ge},$=function(ue){delete n[ue],delete a[ue]},F=function(ue,se){return typeof se=="object"?se:typeof ue=="string"?{prefix:"",resource:se,suffix:""}:{prefix:ue.prefix,resource:se,suffix:ue.suffix}},V=function(ue,se){var be=n[ue];Be(se,function(ge){Yf.ScriptLoader.add(be+"/"+ge)})},W=function(ue,se,be,ge){var $e=p(ue);Be($e,function(Oe){var we=F(se,Oe);te(we.resource,we,void 0,void 0)}),be&&(ge?be.call(ge):be.call(Yf))},te=function(ue,se,be,ge,$e){if(!n[ue]){var Oe=typeof se=="string"?se:se.prefix+se.resource+se.suffix;Oe.indexOf("/")!==0&&Oe.indexOf("://")===-1&&(Oe=Pu.baseURL+"/"+Oe),n[ue]=Oe.substring(0,Oe.lastIndexOf("/"));var we=function(){l(ue,"loaded"),W(ue,se,be,ge)};a[ue]?we():Yf.ScriptLoader.add(Oe,we,ge,$e)}},re=function(ue,se,be){be===void 0&&(be="added"),pr(a,ue)&&be==="added"||pr(n,ue)&&be==="loaded"?se():i.push({name:ue,state:be,callback:se})};return{items:e,urls:n,lookup:a,_listeners:i,get:f,dependencies:p,requireLangPack:C,add:_,remove:$,createUrl:F,addComponents:V,load:te,waitFor:re}};Pu.languageLoad=!0,Pu.baseURL="",Pu.PluginManager=Pu(),Pu.ThemeManager=Pu();var ha=function(e){var n=hu(K.none()),a=function(){return n.get().each(e)},i=function(){a(),n.set(K.none())},l=function(){return n.get().isSome()},f=function(){return n.get()},p=function(C){a(),n.set(K.some(C))};return{clear:i,isSet:l,get:f,set:p}},Xv=function(){var e=ha(Qt),n=function(a){return e.get().each(a)};return Mn(Mn({},e),{on:n})},Hb=function(e,n){var a=null,i=function(){ve(a)||(clearTimeout(a),a=null)},l=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];ve(a)&&(a=setTimeout(function(){a=null,e.apply(null,f)},n))};return{cancel:i,throttle:l}},Xo=function(e,n){var a=null,i=function(){ve(a)||(clearTimeout(a),a=null)},l=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];i(),a=setTimeout(function(){a=null,e.apply(null,f)},n)};return{cancel:i,throttle:l}},qc=function(e,n){var a=q(e,n);return a===void 0||a===""?[]:a.split(" ")},LE=function(e,n,a){var i=qc(e,n),l=i.concat([a]);return R(e,n,l.join(" ")),!0},FE=function(e,n,a){var i=Qe(qc(e,n),function(l){return l!==a});return i.length>0?R(e,n,i.join(" ")):Je(e,n),!1},Vb=function(e){return e.dom.classList!==void 0},Ub=function(e){return qc(e,"class")},R2=function(e,n){return LE(e,"class",n)},B2=function(e,n){return FE(e,"class",n)},Zd=function(e,n){Vb(e)?e.dom.classList.add(n):R2(e,n)},Dp=function(e){var n=Vb(e)?e.dom.classList:Ub(e);n.length===0&&Je(e,"class")},$2=function(e,n){if(Vb(e)){var a=e.dom.classList;a.remove(n)}else B2(e,n);Dp(e)},M2=function(e,n){return Vb(e)&&e.dom.classList.contains(n)},Bh=function(e,n){var a=[];return Be(Yi(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(Bh(i,n))}),a},Ai=function(e,n){return ob(n,e)},is=Y("mce-annotation"),Rp=Y("data-mce-annotation"),Uo=Y("data-mce-annotation-uid"),Wb=function(e,n){var a=e.selection.getRng(),i=De.fromDom(a.startContainer),l=De.fromDom(e.getBody()),f=n.fold(function(){return"."+is()},function($){return"["+Rp()+'="'+$+'"]'}),p=Jl(i,a.startOffset).getOr(i),C=vo(p,f,function($){return _a($,l)}),_=function($,F){return Re($,F)?K.some(q($,F)):K.none()};return C.bind(function($){return _($,""+Uo()).bind(function(F){return _($,""+Rp()).map(function(V){var W=P2(e,F);return{uid:F,name:V,elements:W}})})})},Zf=function(e){return Ra(e)&&M2(e,is())},P2=function(e,n){var a=De.fromDom(e.getBody());return Ai(a,"["+Uo()+'="'+n+'"]')},N2=function(e,n){var a=De.fromDom(e.getBody()),i=Ai(a,"["+Rp()+'="'+n+'"]'),l={};return Be(i,function(f){var p=q(f,Uo()),C=Qr(l,p).getOr([]);l[p]=C.concat([f])}),l},fx=function(e,n){var a=hu({}),i=function(){return{listeners:[],previous:Xv()}},l=function(F,V){f(F,function(W){return V(W),W})},f=function(F,V){var W=a.get(),te=Qr(W,F).getOrThunk(i),re=V(te);W[F]=re,a.set(W)},p=function(F,V,W){l(F,function(te){Be(te.listeners,function(re){return re(!0,F,{uid:V,nodes:je(W,function(ue){return ue.dom})})})})},C=function(F){l(F,function(V){Be(V.listeners,function(W){return W(!1,F)})})},_=Xo(function(){var F=a.get(),V=Pa(ku(F));Be(V,function(W){f(W,function(te){var re=te.previous.get();return Wb(e,K.some(W)).fold(function(){re.isSome()&&(C(W),te.previous.clear())},function(ue){var se=ue.uid,be=ue.name,ge=ue.elements;Md(re,se)||(p(be,se,ge),te.previous.set(se))}),{previous:te.previous,listeners:te.listeners}})})},30);e.on("remove",function(){_.cancel()}),e.on("NodeChange",function(){_.throttle()});var $=function(F,V){f(F,function(W){return{previous:W.previous,listeners:W.listeners.concat([V])}})};return{addListener:$}},I2=function(e,n){var a=function(i){return K.from(i.attr(Rp())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){Be(i,function(l){a(l).each(function(f){f.persistent===!1&&l.unwrap()})})})})},Bp=function(){var e={},n=function(i,l){e[i]={name:i,settings:l}},a=function(i){return Qr(e,i).map(function(l){return l.settings})};return{register:n,lookup:a}},jb=0,vx=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return jb++,e+"_"+i+jb+String(a)},HE=function(e,n){Be(n,function(a){Zd(e,a)})},Wi=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,Yi(De.fromDom(i))},Yo=function(e){return je(e,De.fromDom)},pu=function(e){return e.dom.innerHTML},bu=function(e,n){var a=Cl(e),i=a.dom,l=De.fromDom(i.createDocumentFragment()),f=Wi(n,i);Mf(l,f),Pf(e),Io(e,l)},Nu=function(e,n){return De.fromDom(e.dom.cloneNode(n))},Bo=function(e){return Nu(e,!1)},Gb=function(e){return Nu(e,!0)},qb=function(e,n,a){a===void 0&&(a=Dt);var i=new Yr(e,n),l=function(f){var p;do p=i[f]();while(p&&!rn(p)&&!a(p));return K.from(p).filter(rn)};return{current:function(){return K.from(i.current()).filter(rn)},next:function(){return l("next")},prev:function(){return l("prev")},prev2:function(){return l("prev2")}}},z2=function(e,n){var a=n||function(p){return e.isBlock(p)||ca(p)||Ba(p)},i=function(p,C,_,$){if(rn(p)){var F=$(p,C,p.data);if(F!==-1)return K.some({container:p,offset:F})}return _().bind(function(V){return i(V.container,V.offset,_,$)})},l=function(p,C,_,$){var F=qb(p,$,a);return i(p,C,function(){return F.prev().map(function(V){return{container:V,offset:V.length}})},_).getOrNull()},f=function(p,C,_,$){var F=qb(p,$,a);return i(p,C,function(){return F.next().map(function(V){return{container:V,offset:0}})},_).getOrNull()};return{backwards:l,forwards:f}},Qd=Math.round,Yv=function(e){return e?{left:Qd(e.left),top:Qd(e.top),bottom:Qd(e.bottom),right:Qd(e.right),width:Qd(e.width),height:Qd(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Kb=function(e,n){return e=Yv(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Xb=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},Yb=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},$h=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:Yb(n.top-e.bottom,e,n)},Mh=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:Yb(n.bottom-e.top,e,n)},dx=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},Kc=function(e,n,a){return Math.min(Math.max(e,n),a)},em=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},za=function(e,n){if(In(e)&&e.hasChildNodes()){var a=e.childNodes,i=Kc(n,0,a.length-1);return a[i]}else return e},VE=function(e,n){if(!(n<0&&In(e)&&e.hasChildNodes()))return za(e,n)},UE=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Jb=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&UE.test(e)},WE=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},mx=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},It=In,jE=Fc,Wo=cu("display","block table"),L2=cu("float","left right"),tm=mx(It,jE,Kn(L2)),hx=Kn(cu("white-space","pre pre-line pre-wrap")),Qi=rn,$p=ca,Zb=Ta.nodeIndex,Mp=VE,lc=function(e){return"createRange"in e?e.createRange():Ta.DOM.createRng()},Pp=function(e){return e&&/[\r\n\t ]/.test(e)},Np=function(e){return!!e.setStart&&!!e.setEnd},yu=function(e){var n=e.startContainer,a=e.startOffset;if(Pp(e.toString())&&hx(n.parentNode)&&rn(n)){var i=n.data;if(Pp(i[a-1])||Pp(i[a+1]))return!0}return!1},cc=function(e){var n=e.ownerDocument,a=lc(n),i=n.createTextNode(ns),l=e.parentNode;l.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var f=Yv(a.getBoundingClientRect());return l.removeChild(i),f},gx=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,l=e.endOffset;if(n===a&&rn(a)&&i===0&&l===1){var f=e.cloneRange();return f.setEndAfter(a),Xc(f)}else return null},eu=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},Xc=function(e){var n,a=e.getClientRects();return a.length>0?n=Yv(a[0]):n=Yv(e.getBoundingClientRect()),!Np(e)&&$p(e)&&eu(n)?cc(e):eu(n)&&Np(e)?gx(e):n},Jv=function(e,n){var a=Kb(e,n);return a.width=1,a.right=a.left+1,a},Ip=function(e){var n=[],a=function(_){_.height!==0&&(n.length>0&&Xb(_,n[n.length-1])||n.push(_))},i=function(_,$){var F=lc(_.ownerDocument);if($<_.data.length){if(Jb(_.data[$]))return n;if(Jb(_.data[$-1])&&(F.setStart(_,$),F.setEnd(_,$+1),!yu(F)))return a(Jv(Xc(F),!1)),n}$>0&&(F.setStart(_,$-1),F.setEnd(_,$),yu(F)||a(Jv(Xc(F),!1))),$<_.data.length&&(F.setStart(_,$),F.setEnd(_,$+1),yu(F)||a(Jv(Xc(F),!0)))},l=e.container(),f=e.offset();if(Qi(l))return i(l,f),n;if(It(l))if(e.isAtEnd()){var p=Mp(l,f);Qi(p)&&i(p,p.data.length),tm(p)&&!$p(p)&&a(Jv(Xc(p),!1))}else{var p=Mp(l,f);if(Qi(p)&&i(p,0),tm(p)&&e.isAtEnd())return a(Jv(Xc(p),!1)),n;var C=Mp(e.container(),e.offset()-1);tm(C)&&!$p(C)&&(Wo(C)||Wo(p)||!tm(p))&&a(Jv(Xc(C),!1)),tm(p)&&a(Jv(Xc(p),!0))}return n},Ke=function(e,n,a){var i=function(){return Qi(e),n===0},l=function(){return Qi(e)?n>=e.data.length:n>=e.childNodes.length},f=function(){var F=lc(e.ownerDocument);return F.setStart(e,n),F.setEnd(e,n),F},p=function(){return a||(a=Ip(Ke(e,n))),a},C=function(){return p().length>0},_=function(F){return F&&e===F.container()&&n===F.offset()},$=function(F){return Mp(e,F?n-1:n)};return{container:Y(e),offset:Y(n),toRange:f,getClientRects:p,isVisible:C,isAtStart:i,isAtEnd:l,isEqual:_,getNode:$}};Ke.fromRangeStart=function(e){return Ke(e.startContainer,e.startOffset)},Ke.fromRangeEnd=function(e){return Ke(e.endContainer,e.endOffset)},Ke.after=function(e){return Ke(e.parentNode,Zb(e)+1)},Ke.before=function(e){return Ke(e.parentNode,Zb(e))},Ke.isAbove=function(e,n){return Ji(to(n.getClientRects()),Sa(e.getClientRects()),$h).getOr(!1)},Ke.isBelow=function(e,n){return Ji(Sa(n.getClientRects()),to(e.getClientRects()),Mh).getOr(!1)},Ke.isAtStart=function(e){return e?e.isAtStart():!1},Ke.isAtEnd=function(e){return e?e.isAtEnd():!1},Ke.isTextPosition=function(e){return e?rn(e.container()):!1},Ke.isElementPosition=function(e){return Ke.isTextPosition(e)===!1};var Qf=function(e,n){rn(n)&&n.data.length===0&&e.remove(n)},Ph=function(e,n,a){n.insertNode(a),Qf(e,a.previousSibling),Qf(e,a.nextSibling)},GE=function(e,n,a){var i=K.from(a.firstChild),l=K.from(a.lastChild);n.insertNode(a),i.each(function(f){return Qf(e,f.previousSibling)}),l.each(function(f){return Qf(e,f.nextSibling)})},Qb=function(e,n,a){Yn(a)?GE(e,n,a):Ph(e,n,a)},Rl=rn,e0=fo,F2=Ta.nodeIndex,H2=function(e){var n=e.parentNode;return e0(n)?H2(n):n},t0=function(e){return e?_f(e.childNodes,function(n,a){return e0(a)&&a.nodeName!=="BR"?n=n.concat(t0(a)):n.push(a),n},[]):[]},V2=function(e,n){for(;(e=e.previousSibling)&&Rl(e);)n+=e.data.length;return n},U2=function(e){return function(n){return e===n}},W2=function(e){var n,a;n=t0(H2(e)),a=aa(n,U2(e),e),n=n.slice(0,a+1);var i=_f(n,function(l,f,p){return Rl(f)&&Rl(n[p-1])&&l++,l},0);return n=ml(n,xs([e.nodeName])),a=aa(n,U2(e),e),a-i},j2=function(e){var n;return Rl(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+W2(e)+"]"},nm=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},px=function(e,n){var a,i,l=[],f,p,C;return a=n.container(),i=n.offset(),Rl(a)?f=V2(a,i):(p=a.childNodes,i>=p.length?(f="after",i=p.length-1):f="before",a=p[i]),l.push(j2(a)),C=nm(e,a),C=ml(C,Kn(fo)),l=l.concat(Sv(C,function(_){return j2(_)})),l.reverse().join("/")+","+f},qE=function(e,n,a){var i=t0(e);return i=ml(i,function(l,f){return!Rl(l)||!Rl(i[f-1])}),i=ml(i,xs([n])),i[a]},KE=function(e,n){for(var a=e,i=0,l;Rl(a);){if(l=a.data.length,n>=i&&n<=i+l){e=a,n=n-i;break}if(!Rl(a.nextSibling)){e=a,n=l;break}i+=l,a=a.nextSibling}return Rl(e)&&n>e.data.length&&(n=e.data.length),Ke(e,n)},Nh=function(e,n){var a;if(!n)return null;var i=n.split(","),l=i[0].split("/");a=i.length>1?i[1]:"before";var f=_f(l,function(p,C){var _=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C);return _?(_[1]==="text()"&&(_[1]="#text"),qE(p,_[1],parseInt(_[2],10))):null},e);return f?Rl(f)?KE(f,parseInt(a,10)):(a==="after"?a=F2(f)+1:a=F2(f),Ke(f.parentNode,a)):null},Ih=Ba,n0=function(e,n,a){var i,l;for(l=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&rn(i);i=i.previousSibling)l+=e(i.data).length;return l},G2=function(e,n,a,i,l){var f=i[l?"startContainer":"endContainer"],p=i[l?"startOffset":"endOffset"],C=[],_,$=0,F=e.getRoot();for(rn(f)?C.push(a?n0(n,f,p):p):(_=f.childNodes,p>=_.length&&_.length&&($=1,p=Math.max(0,_.length-1)),C.push(e.nodeIndex(_[p],a)+$));f&&f!==F;f=f.parentNode)C.push(e.nodeIndex(f,a));return C},zh=function(e,n,a,i){var l=n.dom,f={};return f.start=G2(l,e,a,i,!0),n.isCollapsed()||(f.end=G2(l,e,a,i,!1)),Lc(i)&&(f.isFakeCaret=!0),f},q2=function(e,n,a){var i=0;return et.each(e.select(n),function(l){if(l.getAttribute("data-mce-bogus")!=="all"){if(l===a)return!1;i++}}),i},io=function(e,n){var a,i,l,f=n?"start":"end";a=e[f+"Container"],i=e[f+"Offset"],In(a)&&a.nodeName==="TR"&&(l=a.childNodes,a=l[Math.min(n?i:i-1,l.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},zp=function(e){return io(e,!0),io(e,!1),e},mo=function(e,n){var a;if(In(e)&&(e=za(e,n),Ih(e)))return e;if(Mu(e)&&(rn(e)&&fa(e)&&(e=e.parentNode),a=e.previousSibling,Ih(a)||(a=e.nextSibling,Ih(a))))return a},r0=function(e){return mo(e.startContainer,e.startOffset)||mo(e.endContainer,e.endOffset)},rm=function(e,n,a){var i=a.getNode(),l=i?i.nodeName:null,f=a.getRng();if(Ih(i)||l==="IMG")return{name:l,index:q2(a.dom,l,i)};var p=r0(f);return p?(l=p.tagName,{name:l,index:q2(a.dom,l,p)}):zh(e,a,n,f)},K2=function(e){var n=e.getRng();return{start:px(e.dom.getRoot(),Ke.fromRangeStart(n)),end:px(e.dom.getRoot(),Ke.fromRangeEnd(n))}},Lp=function(e){return{rng:e.getRng()}},X2=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},bx=function(e,n){var a=e.dom,i=e.getRng(),l=a.uniqueId(),f=e.isCollapsed(),p=e.getNode(),C=p.nodeName;if(C==="IMG")return{name:C,index:q2(a,C,p)};var _=zp(i.cloneRange());if(!f){_.collapse(!1);var $=X2(a,l+"_end",n);Qb(a,_,$)}i=zp(i),i.collapse(!0);var F=X2(a,l+"_start",n);return Qb(a,i,F),e.moveToBookmark({id:l,keep:!0}),{id:l}},XE=function(e,n,a){return n===2?rm(ac,a,e):n===3?K2(e):n?Lp(e):bx(e,!1)},yx=ft(rm,Ht,!0),YE=Ta.DOM,a0="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Fp=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var l=e.getParam(n,"","hash");return Qr(l,e.id).getOr(a)}else return i},JE=function(e){return e.getParam("iframe_attrs",{})},wx=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Y2=function(e){return e.getParam("document_base_url","")},ZE=function(e){return Fp(e,"body_id","tinymce")},QE=function(e){return Fp(e,"body_class","")},o0=function(e){return e.getParam("content_security_policy","")},J2=function(e){return e.getParam("br_in_pre",!0)},Ei=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},Lh=function(e){return e.getParam("forced_root_block_attrs",{})},Fh=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Cx=function(e){return e.getParam("no_newline_selector","")},eT=function(e){return e.getParam("keep_styles",!0)},Hp=function(e){return e.getParam("end_container_on_empty_block",!1)},Vp=function(e){return et.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},am=function(e){return et.explode(e.getParam("font_size_classes",""))},i0=function(e){return e.getParam("images_dataimg_filter",en,"function")},Up=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Z2=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},tT=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Yc=function(e){return e.getParam("icons","","string")},u0=function(e){return e.getParam("icons_url","","string")},nT=function(e){return e.getParam("images_upload_url","","string")},Zv=function(e){return e.getParam("images_upload_base_path","","string")},Qv=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},rT=function(e){return e.getParam("images_upload_handler",null,"function")},s0=function(e){return e.getParam("content_css_cors",!1,"boolean")},l0=function(e){return e.getParam("referrer_policy","","string")},c0=function(e){return e.getParam("language","en","string")},ui=function(e){return e.getParam("language_url","","string")},Sx=function(e){return e.getParam("indent_use_margin",!1)},Q2=function(e){return e.getParam("indentation","40px","string")},xx=function(e){var n=e.getParam("content_css");return Ct(n)?je(n.split(","),qs):rt(n)?n:n===!1||e.inline?[]:["default"]},_x=function(e){var n=e.getParam("font_css",[]);return rt(n)?n:je(n.split(","),qs)},fc=function(e){return e.getParam("directionality",gu.isRtl()?"rtl":void 0)},ev=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},kx=function(e){var n=e.getParam("object_resizing");return n===!1||Rn.iOS?!1:Ct(n)?n:"table,img,figure.image,div,video,iframe"},Ax=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},ew=function(e){return e.getParam("placeholder",YE.getAttrib(e.getElement(),"placeholder"),"string")},f0=function(e){return e.getParam("event_root")},Ex=function(e){return e.getParam("service_message")},Hh=function(e){return e.getParam("theme")},aT=function(e){return e.getParam("validate")},Wp=function(e){return e.getParam("inline_boundaries")!==!1},oT=function(e){return e.getParam("formats")},Vh=function(e){var n=e.getParam("preview_styles",a0);return Ct(n)?n:""},om=function(e){return e.getParam("format_empty_lines",!1,"boolean")},tw=function(e){return e.getParam("custom_ui_selector","","string")},Tx=function(e){return e.getParam("theme_url")},iT=function(e){return e.getParam("inline")},Ox=function(e){return e.getParam("hidden_input")},Dx=function(e){return e.getParam("submit_patch")},nw=function(e){return e.getParam("encoding")==="xml"},uT=function(e){return e.getParam("add_form_submit_trigger")},v0=function(e){return e.getParam("add_unload_trigger")},sT=function(e){return Ei(e)!==""},jp=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},lT=function(e){return e.getParam("disable_nodechange")},cT=function(e){return e.getParam("readonly")},fT=function(e){return e.getParam("content_css_cors")},d0=function(e){return e.getParam("plugins","","string")},vT=function(e){return e.getParam("external_plugins")},Uh=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},Rx=function(e){return e.getParam("visual",!0,"boolean")},dT=function(e){return e.getParam("visual_table_class","mce-item-table","string")},rw=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},Bx=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},aw=In,$x=rn,Mx=function(e){var n=e.parentNode;n&&n.removeChild(e)},Wh=function(e){var n=ac(e);return{count:e.length-n.length,text:n}},ow=function(e){for(var n;(n=e.data.lastIndexOf(Te))!==-1;)e.deleteData(n,1)},iw=function(e,n){return ed(e),n},mT=function(e,n){var a=Wh(e.data.substr(0,n.offset())),i=Wh(e.data.substr(n.offset())),l=a.text+i.text;return l.length>0?(ow(e),Ke(e,n.offset()-a.count)):n},hT=function(e,n){var a=n.container(),i=ye(mr(a.childNodes),e).map(function(l){return l<n.offset()?Ke(a,n.offset()-1):n}).getOr(n);return ed(e),i},uw=function(e,n){return $x(e)&&n.container()===e?mT(e,n):iw(e,n)},gT=function(e,n){return n.container()===e.parentNode?hT(e,n):iw(e,n)},Px=function(e,n){return Ke.isTextPosition(n)?uw(e,n):gT(e,n)},ed=function(e){aw(e)&&Mu(e)&&(Wf(e)?e.removeAttribute("data-mce-caret"):Mx(e)),$x(e)&&(ow(e),e.data.length===0&&Mx(e))},jh=bn().browser,Nx=Ba,pT=Ru,Ix=sh,bT="*[contentEditable=false],video,audio,embed,object",sw=function(e,n,a){var i=Kb(n.getBoundingClientRect(),a),l,f;if(e.tagName==="BODY"){var p=e.ownerDocument.documentElement;l=e.scrollLeft||p.scrollLeft,f=e.scrollTop||p.scrollTop}else{var C=e.getBoundingClientRect();l=e.scrollLeft-C.left,f=e.scrollTop-C.top}i.left+=l,i.right+=l,i.top+=f,i.bottom+=f,i.width=1;var _=n.offsetWidth-n.clientWidth;return _>0&&(a&&(_*=-1),i.left+=_,i.right+=_),i},Gh=function(e){for(var n=Ai(De.fromDom(e),bT),a=0;a<n.length;a++){var i=n[a].dom,l=i.previousSibling;if(wp(l)){var f=l.data;f.length===1?l.parentNode.removeChild(l):l.deleteData(f.length-1,1)}if(l=i.nextSibling,yp(l)){var f=l.data;f.length===1?l.parentNode.removeChild(l):l.deleteData(0,1)}}},tu=function(e,n,a,i){var l=Xv(),f,p,C=Ei(e),_=C.length>0?C:"p",$=function(ue,se){var be;if(F(),Ix(se))return null;if(a(se)){p=WS(_,se,ue);var ge=sw(n,se,ue);Jn(p).css("top",ge.top);var $e=Jn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Mn({},ge)).appendTo(n)[0];l.set({caret:$e,element:se,before:ue}),ue&&Jn($e).addClass("mce-visual-caret-before"),V(),be=se.ownerDocument.createRange(),be.setStart(p,0),be.setEnd(p,0)}else return p=n2(se,ue),be=se.ownerDocument.createRange(),qh(p.nextSibling)?(be.setStart(p,0),be.setEnd(p,0)):(be.setStart(p,1),be.setEnd(p,1)),be;return be},F=function(){Gh(n),p&&(ed(p),p=null),l.on(function(ue){Jn(ue.caret).remove(),l.clear()}),f&&(Fi.clearInterval(f),f=void 0)},V=function(){f=Fi.setInterval(function(){i()?Jn("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):Jn("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},W=function(){l.on(function(ue){var se=sw(n,ue.element,ue.before);Jn(ue.caret).css(Mn({},se))})},te=function(){return Fi.clearInterval(f)},re=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:$,hide:F,getCss:re,reposition:W,destroy:te}},lw=function(){return jh.isIE()||jh.isEdge()||jh.isFirefox()},qh=function(e){return Nx(e)||pT(e)},im=function(e){return qh(e)||Co(e)&&lw()},m0=Ba,yT=Ru,zx=cu("display","block table table-cell table-caption list-item"),cw=Mu,Iu=fa,Gp=In,wT=Fc,um=function(e){return e>0},td=function(e){return e<0},Kh=function(e,n){for(var a;a=e(n);)if(!Iu(a))return a;return null},nd=function(e,n,a,i,l){var f=new Yr(e,i),p=m0(e)||Iu(e);if(td(n)){if(p&&(e=Kh(f.prev.bind(f),!0),a(e)))return e;for(;e=Kh(f.prev.bind(f),l);)if(a(e))return e}if(um(n)){if(p&&(e=Kh(f.next.bind(f),!0),a(e)))return e;for(;e=Kh(f.next.bind(f),l);)if(a(e))return e}return null},vc=function(e,n){for(;e&&e!==n;){if(zx(e))return e;e=e.parentNode}return null},dc=function(e,n,a){return vc(e.container(),a)===vc(n.container(),a)},h0=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return Gp(a)?a.childNodes[i+e]:null},g0=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},fw=function(e,n,a){return vc(n,e)===vc(a,e)},Xh=function(e,n,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==n;){var l=a[i];if(cw(l)&&(l=l[i]),m0(l)||yT(l)){if(fw(n,l,a))return l;break}if(wT(l))break;a=a.parentNode}return null},Yh=ft(g0,!0),Jh=ft(g0,!1),ji=function(e,n,a){var i,l=ft(Xh,!0,n),f=ft(Xh,!1,n),p=a.startContainer,C=a.startOffset;if(fa(p)){Gp(p)||(p=p.parentNode);var _=p.getAttribute("data-mce-caret");if(_==="before"&&(i=p.nextSibling,im(i)))return Yh(i);if(_==="after"&&(i=p.previousSibling,im(i)))return Jh(i)}if(!a.collapsed)return a;if(rn(p)){if(cw(p)){if(e===1){if(i=f(p),i)return Yh(i);if(i=l(p),i)return Jh(i)}if(e===-1){if(i=l(p),i)return Jh(i);if(i=f(p),i)return Yh(i)}return a}if(wp(p)&&C>=p.data.length-1)return e===1&&(i=f(p),i)?Yh(i):a;if(yp(p)&&C<=1)return e===-1&&(i=l(p),i)?Jh(i):a;if(C===p.data.length)return i=f(p),i?Yh(i):a;if(C===0)return i=l(p),i?Jh(i):a}return a},Zh=function(e,n){return K.from(h0(e?0:-1,n)).filter(m0)},Qh=function(e,n,a){var i=ji(e,n,a);return e===-1?Ke.fromRangeStart(i):Ke.fromRangeEnd(i)},p0=function(e){return K.from(e.getNode()).map(De.fromDom)},CT=function(e){return K.from(e.getNode(!0)).map(De.fromDom)},vw=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},b0=function(e,n){var a=dc(e,n);return!a&&ca(e.getNode())?!0:a},Ti;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Ti||(Ti={}));var ST=Ba,Jc=rn,y0=In,dw=ca,eg=Fc,mw=xE,qp=Do,xT=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},Lx=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},Fx=function(e,n){if(um(e)){if(eg(n.previousSibling)&&!Jc(n.previousSibling))return Ke.before(n);if(Jc(n))return Ke(n,0)}if(td(e)){if(eg(n.nextSibling)&&!Jc(n.nextSibling))return Ke.after(n);if(Jc(n))return Ke(n,n.data.length)}return td(e)?dw(n)?Ke.before(n):Ke.after(n):Ke.before(n)},_T=function(e,n){var a=n.nextSibling;return a&&eg(a)?Jc(a)?Ke(a,0):Ke.before(a):tg(Ti.Forwards,Ke.after(n),e)},tg=function(e,n,a){var i,l,f,p;if(!y0(a)||!n)return null;if(n.isEqual(Ke.after(a))&&a.lastChild){if(p=Ke.after(a.lastChild),td(e)&&eg(a.lastChild)&&y0(a.lastChild))return dw(a.lastChild)?Ke.before(a.lastChild):p}else p=n;var C=p.container(),_=p.offset();if(Jc(C)){if(td(e)&&_>0)return Ke(C,--_);if(um(e)&&_<C.length)return Ke(C,++_);i=C}else{if(td(e)&&_>0&&(l=Lx(C,_-1),eg(l)))return!mw(l)&&(f=nd(l,e,qp,l),f)?Jc(f)?Ke(f,f.data.length):Ke.after(f):Jc(l)?Ke(l,l.data.length):Ke.before(l);if(um(e)&&_<C.childNodes.length&&(l=Lx(C,_),eg(l)))return dw(l)?_T(a,l):!mw(l)&&(f=nd(l,e,qp,l),f)?Jc(f)?Ke(f,0):Ke.before(f):Jc(l)?Ke(l,0):Ke.after(l);i=l||p.getNode()}if((um(e)&&p.isAtEnd()||td(e)&&p.isAtStart())&&(i=nd(i,e,en,a,!0),qp(i,a)))return Fx(e,i);l=nd(i,e,qp,a);var $=Gs(Qe(xT(C,a),ST));return $&&(!l||!$.contains(l))?(um(e)?p=Ke.after($):p=Ke.before($),p):l?Fx(e,l):null},uo=function(e){return{next:function(n){return tg(Ti.Forwards,n,e)},prev:function(n){return tg(Ti.Backwards,n,e)}}},w0=function(e,n,a){var i=e?Ke.before(a):Ke.after(a);return zu(e,n,i)},C0=function(e){return ca(e)?Ke.before(e):Ke.after(e)},hw=function(e){return Ke.isTextPosition(e)?e.offset()===0:Fc(e.getNode())},Hx=function(e){if(Ke.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return Fc(e.getNode(!0))},gw=function(e,n){return!Ke.isTextPosition(e)&&!Ke.isTextPosition(n)&&e.getNode()===n.getNode(!0)},sm=function(e){return!Ke.isTextPosition(e)&&ca(e.getNode())},S0=function(e,n,a){return e?!gw(n,a)&&!sm(n)&&Hx(n)&&hw(a):!gw(a,n)&&hw(n)&&Hx(a)},zu=function(e,n,a){var i=uo(n);return K.from(e?i.next(a):i.prev(a))},mc=function(e,n,a){return zu(e,n,a).bind(function(i){return dc(a,i,n)&&S0(e,a,i)?zu(e,n,i):K.some(i)})},x0=function(e,n,a,i){return mc(e,n,a).bind(function(l){return i(l)?x0(e,n,l,i):K.some(l)})},tv=function(e,n){var a=e?n.firstChild:n.lastChild;return rn(a)?K.some(Ke(a,e?0:a.data.length)):a?Fc(a)?K.some(e?Ke.before(a):C0(a)):w0(e,n,a):K.none()},Bl=ft(zu,!0),hc=ft(zu,!1),nu=ft(tv,!0),rl=ft(tv,!1),ng="_mce_caret",Zc=function(e){return In(e)&&e.id===ng},lm=function(e,n){for(;n&&n!==e;){if(n.id===ng)return n;n=n.parentNode}return null},Vx=function(e){return Ct(e.start)},Ux=function(e){return pr(e,"rng")},kT=function(e){return pr(e,"id")},AT=function(e){return pr(e,"name")},Wx=function(e){return et.isArray(e.start)},jx=function(e,n){return In(n)&&e.isBlock(n)&&!n.innerHTML&&!Rn.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},Gx=function(e,n){var a,i=e.createRng();return a=Nh(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=Nh(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},ET=function(e,n){var a=e.ownerDocument.createTextNode(Te);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},qx=function(e){return e.hasChildNodes()===!1},TT=function(e,n){return rl(e).fold(Dt,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},Kx=function(e,n,a){return qx(n)&&lm(e,n)?(ET(n,a),!0):!1},Xx=function(e,n,a,i){var l=a[n?"start":"end"],f,p,C,_,$=e.getRoot();if(l){for(C=l[0],p=$,f=l.length-1;f>=1;f--){if(_=p.childNodes,Kx($,p,i))return!0;if(l[f]>_.length-1)return Kx($,p,i)?!0:TT(p,i);p=_[l[f]]}p.nodeType===3&&(C=Math.min(l[0],p.nodeValue.length)),p.nodeType===1&&(C=Math.min(l[0],p.childNodes.length)),n?i.setStart(p,C):i.setEnd(p,C)}return!0},pw=function(e){return rn(e)&&e.data.length>0},Yx=function(e,n,a){var i=e.get(a.id+"_"+n),l,f,p,C,_=a.keep,$,F;if(i){if(l=i.parentNode,n==="start"?(_?i.hasChildNodes()?(l=i.firstChild,f=1):pw(i.nextSibling)?(l=i.nextSibling,f=0):pw(i.previousSibling)?(l=i.previousSibling,f=i.previousSibling.data.length):(l=i.parentNode,f=e.nodeIndex(i)+1):f=e.nodeIndex(i),$=l,F=f):(_?i.hasChildNodes()?(l=i.firstChild,f=1):pw(i.previousSibling)?(l=i.previousSibling,f=i.previousSibling.data.length):(l=i.parentNode,f=e.nodeIndex(i)):f=e.nodeIndex(i),$=l,F=f),!_){for(C=i.previousSibling,p=i.nextSibling,et.each(et.grep(i.childNodes),function(V){rn(V)&&(V.nodeValue=V.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);C&&p&&C.nodeType===p.nodeType&&rn(C)&&!Rn.opera&&(f=C.nodeValue.length,C.appendData(p.nodeValue),e.remove(p),$=C,F=f)}return K.some(Ke($,F))}else return K.none()},OT=function(e,n){var a=e.createRng();return Xx(e,!0,n,a)&&Xx(e,!1,n,a)?K.some(a):K.none()},wr=function(e,n){var a=Yx(e,"start",n),i=Yx(e,"end",n);return Ji(a,i.or(a),function(l,f){var p=e.createRng();return p.setStart(jx(e,l.container()),l.offset()),p.setEnd(jx(e,f.container()),f.offset()),p})},cm=function(e,n){return K.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},rg=function(e,n){var a=e.dom;if(n){if(Wx(n))return OT(a,n);if(Vx(n))return K.some(Gx(a,n));if(kT(n))return wr(a,n);if(AT(n))return cm(a,n);if(Ux(n))return K.some(n.rng)}return K.none()},bw=function(e,n,a){return XE(e,n,a)},DT=function(e,n){rg(e,n).each(function(a){e.setRng(a)})},Lu=function(e){return In(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},RT=function(e){return function(n){return e===n}},fm=RT(ns),rd=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},_0=function(e){return!rd(e)&&!fm(e)},k0=function(e){return!!e.nodeType},BT=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Jx=function(e,n,a){var i=a.startOffset,l=a.startContainer;if(!(l===a.endContainer&&BT(l.childNodes[i]))&&In(l)){var f=l.childNodes,p=void 0;i<f.length?(l=f[i],p=new Yr(l,e.getParent(l,e.isBlock))):(l=f[f.length-1],p=new Yr(l,e.getParent(l,e.isBlock)),p.next(!0));for(var C=p.current();C;C=p.next())if(rn(C)&&!E0(C)){a.setStart(C,0),n.setRng(a);return}}},A0=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(In(e)||!E0(e))return e}},yw=function(e,n){return k0(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},ag=function(e,n,a){return e.schema.isValidChild(n,a)},E0=function(e,n){if(n===void 0&&(n=!1),mn(e)&&rn(e)){var a=n?e.data.replace(/ /g," "):e.data;return Al(a)}else return!1},$T=function(e){return mn(e)&&rn(e)&&e.length===0},Qc=function(e,n){return Nt(e)?e=e(n):mn(n)&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},ww=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},Cw=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},og=function(e,n,a){return Cw(e,e.getStyle(n,a),a)},Sw=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},Kp=function(e,n,a){return e.getParents(n,a,e.getRoot())},Zx=function(e,n){var a=function(i){var l=function(f){return f.length>1&&f.charAt(0)==="%"};return Fe(["styles","attributes"],function(f){return Qr(i,f).exists(function(p){var C=rt(p)?p:Ed(p);return Fe(C,l)})})};return Fe(e.formatter.get(n),a)},MT=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],l=function(f){return ni(f,function(p,C){return Fe(i,function(_){return _===C})})};return Fe(e.formatter.get(n),function(f){var p=l(f);return Fe(e.formatter.get(a),function(C){var _=l(C);return Km(p,_)})})},ef=function(e){return Ws(e,"block")},us=function(e){return Ws(e,"selector")},Oi=function(e){return Ws(e,"inline")},PT=function(e){return us(e)&&Oi(e)&&Md(Qr(e,"mixed"),!0)},xw=function(e){return us(e)&&e.expand!==!1&&!Oi(e)},ig=Lu,_w=Kp,Xp=E0,kw=yw,NT=function(e){return ca(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Ut=function(e,n){for(var a=n;a;){if(In(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},jo=function(e,n,a,i){for(var l=n.data,f=a;e?f>=0:f<l.length;e?f--:f++)if(i(l.charAt(f)))return e?f+1:f;return-1},ug=function(e,n,a){return jo(e,n,a,function(i){return fm(i)||rd(i)})},si=function(e,n,a){return jo(e,n,a,_0)},al=function(e,n,a,i,l,f){var p,C=e.getParent(a,e.isBlock)||n,_=function(F,V,W){var te=z2(e),re=l?te.backwards:te.forwards;return K.from(re(F,V,function(ue,se){return ig(ue.parentNode)?-1:(p=ue,W(l,ue,se))},C))},$=_(a,i,ug);return $.bind(function(F){return f?_(F.container,F.offset+(l?-1:0),si):K.some(F)}).orThunk(function(){return p?K.some({container:p,offset:l?0:p.length}):K.none()})},Aw=function(e,n,a,i,l){rn(i)&&Dd(i.data)&&i[l]&&(i=i[l]);for(var f=_w(e,i),p=0;p<f.length;p++)for(var C=0;C<n.length;C++){var _=n[C];if(!(mn(_.collapsed)&&_.collapsed!==a.collapsed)&&us(_)&&e.is(f[p],_.selector))return f[p]}return i},Yp=function(e,n,a,i){var l=a,f=e.dom,p=f.getRoot(),C=n[0];if(ef(C)&&(l=C.wrapper?null:f.getParent(a,C.block,p)),!l){var _=f.getParent(a,"LI,TD,TH");l=f.getParent(rn(a)?a.parentNode:a,function($){return $!==p&&kw(e,$)},_)}if(l&&ef(C)&&C.wrapper&&(l=_w(f,l,"ul,ol").reverse()[0]||l),!l)for(l=a;l[i]&&!f.isBlock(l[i])&&(l=l[i],!ww(l,"br")););return l||a},T0=function(e,n,a,i){var l=a.parentNode;return mn(a[i])?!1:l===n||Xt(l)||e.isBlock(l)?!0:T0(e,n,l,i)},O0=function(e,n,a,i,l){var f=a,p=l?"previousSibling":"nextSibling",C=e.getRoot();if(rn(a)&&!Xp(a)&&(l?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(f))return f;for(var _=f[p];_;_=_[p]){var $=rn(_)&&!T0(e,C,_,p);if(!ig(_)&&!NT(_)&&!Xp(_,$))return f}if(f===C||f.parentNode===C){a=f;break}f=f.parentNode}return a},D0=function(e){return ig(e.parentNode)||ig(e)},ad=function(e,n,a,i){i===void 0&&(i=!1);var l=n.startContainer,f=n.startOffset,p=n.endContainer,C=n.endOffset,_=e.dom,$=a[0];if(In(l)&&l.hasChildNodes()&&(l=za(l,f),rn(l)&&(f=0)),In(p)&&p.hasChildNodes()&&(p=za(p,n.collapsed?C:C-1),rn(p)&&(C=p.nodeValue.length)),l=Ut(_,l),p=Ut(_,p),D0(l)&&(l=ig(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,rn(l)&&(f=n.collapsed?l.length:0)),D0(p)&&(p=ig(p)?p:p.parentNode,n.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,rn(p)&&(C=n.collapsed?0:p.length)),n.collapsed){var F=al(_,e.getBody(),l,f,!0,i);F.each(function(W){var te=W.container,re=W.offset;l=te,f=re});var V=al(_,e.getBody(),p,C,!1,i);V.each(function(W){var te=W.container,re=W.offset;p=te,C=re})}return(Oi($)||$.block_expand)&&((!Oi($)||!rn(l)||f===0)&&(l=O0(_,a,l,f,!0)),(!Oi($)||!rn(p)||C===p.nodeValue.length)&&(p=O0(_,a,p,C,!1))),xw($)&&(l=Aw(_,a,n,l,"previousSibling"),p=Aw(_,a,n,p,"nextSibling")),(ef($)||us($))&&(l=Yp(e,a,l,"previousSibling"),p=Yp(e,a,p,"nextSibling"),ef($)&&(_.isBlock(l)||(l=O0(_,a,l,f,!0)),_.isBlock(p)||(p=O0(_,a,p,C,!1)))),In(l)&&(f=_.nodeIndex(l),l=l.parentNode),In(p)&&(C=_.nodeIndex(p)+1,p=p.parentNode),{startContainer:l,startOffset:f,endContainer:p,endOffset:C}},Jp=function(e,n,a){var i=n.startOffset,l=za(n.startContainer,i),f=n.endOffset,p=za(n.endContainer,f-1),C=function(ue){var se=ue[0];rn(se)&&se===l&&i>=se.data.length&&ue.splice(0,1);var be=ue[ue.length-1];return f===0&&ue.length>0&&be===p&&rn(be)&&ue.splice(ue.length-1,1),ue},_=function(ue,se,be){for(var ge=[];ue&&ue!==be;ue=ue[se])ge.push(ue);return ge},$=function(ue,se){return e.getParent(ue,function(be){return be.parentNode===se},se)},F=function(ue,se,be){for(var ge=be?"nextSibling":"previousSibling",$e=ue,Oe=$e.parentNode;$e&&$e!==se;$e=Oe){Oe=$e.parentNode;var we=_($e===ue?$e:$e[ge],ge);we.length&&(be||we.reverse(),a(C(we)))}};if(l===p)return a(C([l]));var V=e.findCommonAncestor(l,p);if(e.isChildOf(l,p))return F(l,V,!0);if(e.isChildOf(p,l))return F(p,V);var W=$(l,V)||l,te=$(p,V)||p;F(l,W,!0);var re=_(W===l?W:W.nextSibling,"nextSibling",te===p?te.nextSibling:te);re.length&&a(C(re)),F(p,te)},Ew=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},Tw=function(e){return gr(e,function(n){var a=em(n);return a?[De.fromDom(a)]:[]})},Ow=function(e){return Ew(e).length>1},IT=function(e){return Qe(Tw(e),rc)},Qx=function(e){return Ai(e,"td[data-mce-selected],th[data-mce-selected]")},nv=function(e,n){var a=Qx(n);return a.length>0?a:IT(e)},tf=function(e){return nv(Ew(e.selection.getSel()),De.fromDom(e.getBody()))},vm=function(e,n){return Pd(e,"table",n)},sg=function(e){var n=e.startContainer,a=e.startOffset;return rn(n)?a===0?K.some(De.fromDom(n)):K.none():K.from(n.childNodes[a]).map(De.fromDom)},Dw=function(e){var n=e.endContainer,a=e.endOffset;return rn(n)?a===n.data.length?K.some(De.fromDom(n)):K.none():K.from(n.childNodes[a-1]).map(De.fromDom)},R0=function(e){return Oo(e).fold(Y([e]),function(n){return[e].concat(R0(n))})},nf=function(e){return Qu(e).fold(Y([e]),function(n){return yo(n)==="br"?Bf(n).map(function(a){return[e].concat(nf(a))}).getOr([]):[e].concat(nf(n))})},$l=function(e,n){return Ji(sg(n),Dw(n),function(a,i){var l=sn(R0(e),ft(_a,a)),f=sn(nf(e),ft(_a,i));return l.isSome()&&f.isSome()}).getOr(!1)},od=function(e,n,a,i){var l=a,f=new Yr(a,l),p=ni(e.schema.getMoveCaretBeforeOnEnterElements(),function(C,_){return!pe(["td","th","table"],_.toLowerCase())});do{if(rn(a)&&et.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(p[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?f.next():f.prev());l.nodeName==="BODY"&&(i?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},id=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},dm=function(e,n){var a=tf(e);a.length>0?Be(a,function(i){var l=i.dom,f=e.dom.createRng();f.setStartBefore(l),f.setEndAfter(l),n(f,!0)}):n(e.selection.getRng(),!1)},lg=function(e,n,a){var i=bx(e,n);a(i),e.moveToBookmark(i)},Rw=function(e,n){var a=function(f){if(!e(f))throw new Error("Can only get "+n+" value of a "+n+" node");return i(f).getOr("")},i=function(f){return e(f)?K.from(f.dom.nodeValue):K.none()},l=function(f,p){if(!e(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=p};return{get:a,getOption:i,set:l}},Bw=Rw(Fa,"text"),$w=function(e){return Bw.get(e)},B0=function(e){return Fa(e)&&$w(e)===Te},Di=function(e,n,a,i){return Ka(n).fold(function(){return"skipping"},function(l){return i==="br"||B0(n)?"valid":Zf(n)?"existing":Zc(n.dom)?"caret":!ag(e,a,i)||!ag(e,yo(l),a)?"invalid-child":"valid"})},Ns=function(e,n){var a=ad(e,n,[{inline:"span"}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},ol=function(e,n,a,i){var l=n.uid,f=l===void 0?vx("mce-annotation"):l,p=Xm(n,["uid"]),C=De.fromTag("span",e);Zd(C,is()),R(C,""+Uo(),f),R(C,""+Rp(),a);var _=i(f,p),$=_.attributes,F=$===void 0?{}:$,V=_.classes,W=V===void 0?[]:V;return H(C,F),HE(C,W),C},rf=function(e,n,a,i,l){var f=[],p=ol(e.getDoc(),l,a,i),C=Xv(),_=function(){C.clear()},$=function(){return C.get().getOrThunk(function(){var te=Bo(p);return f.push(te),C.set(te),te})},F=function(te){Be(te,V)},V=function(te){var re=Di(e,te,"span",yo(te));switch(re){case"invalid-child":{_();var ue=Yi(te);F(ue),_();break}case"valid":{var se=$();$d(te,se);break}}},W=function(te){var re=je(te,De.fromDom);F(re)};return Jp(e.dom,n,function(te){_(),W(te)}),f},cg=function(e,n,a,i){e.undoManager.transact(function(){var l=e.selection,f=l.getRng(),p=tf(e).length>0;if(f.collapsed&&!p&&Ns(e,f),l.getRng().collapsed&&!p){var C=ol(e.getDoc(),i,n,a.decorate);bu(C,ns),l.getRng().insertNode(C.dom),l.select(C.dom)}else lg(l,!1,function(){dm(e,function(_){rf(e,_,n,a.decorate,i)})})})},$0=function(e){var n=Bp();I2(e,n);var a=fx(e);return{register:function(i,l){n.register(i,l)},annotate:function(i,l){n.lookup(i).each(function(f){cg(e,i,f,l)})},annotationChanged:function(i,l){a.addListener(i,l)},remove:function(i){Wb(e,K.some(i)).each(function(l){var f=l.elements;Be(f,Nf)})},getAll:function(i){var l=N2(e,i);return ps(l,function(f){return je(f,function(p){return p.dom})})}}},ud=function(e){return{getBookmark:ft(bw,e),moveToBookmark:ft(DT,e)}};ud.isBookmarkNode=Lu;var mm=function(e,n){for(;n&&n!==e;){if(Sl(n)||Ba(n))return n;n=n.parentNode}return null},hm=function(e,n,a){if(a.collapsed)return!1;if(Rn.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(In(i))return Fe(i.getClientRects(),function(l){return dx(l,e,n)})}return Fe(a.getClientRects(),function(l){return dx(l,e,n)})},zT=function(e,n){return e.fire("PreProcess",n)},Mw=function(e,n){return e.fire("PostProcess",n)},e_=function(e){return e.fire("remove")},t_=function(e){return e.fire("detach")},Pw=function(e,n){return e.fire("SwitchMode",{mode:n})},Nw=function(e,n,a,i,l){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:l})},ua=function(e,n,a,i,l){e.fire("ObjectResized",{target:n,width:a,height:i,origin:l})},af=function(e){return e.fire("PreInit")},n_=function(e){return e.fire("PostRender")},r_=function(e){return e.fire("Init")},a_=function(e,n){return e.fire("PlaceholderToggle",{state:n})},M0=function(e,n,a){return e.fire(n,a)},Iw=function(e,n,a,i){return e.fire("FormatApply",{format:n,node:a,vars:i})},Zp=function(e,n,a,i){return e.fire("FormatRemove",{format:n,node:a,vars:i})},$n={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||$n.metaKeyPressed(e)},metaKeyPressed:function(e){return Rn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},LT=Ba,zw=function(e,n){var a="data-mce-selected",i=n.dom,l=et.each,f,p,C,_,$,F,V,W,te,re,ue,se,be,ge,$e,Oe=n.getDoc(),we=document,Ie=Math.abs,ot=Math.round,wt=n.getBody(),Bn,tn,dt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},On=function(ze){return ze&&(ze.nodeName==="IMG"||n.dom.is(ze,"figure.image"))},kt=function(ze){return Ru(ze)||i.hasClass(ze,"mce-preview-object")},Yt=function(ze,xt){if(ze.type==="longpress"||ze.type.indexOf("touch")===0){var pt=ze.touches[0];return On(ze.target)&&!hm(pt.clientX,pt.clientY,xt)}else return On(ze.target)&&!hm(ze.clientX,ze.clientY,xt)},Ot=function(ze){var xt=ze.target;Yt(ze,n.selection.getRng())&&!ze.isDefaultPrevented()&&n.selection.select(xt)},zt=function(ze){return i.is(ze,"figure.image")?[ze.querySelector("img")]:i.hasClass(ze,"mce-preview-object")&&mn(ze.firstElementChild)?[ze,ze.firstElementChild]:[ze]},un=function(ze){var xt=kx(n);return!xt||ze.getAttribute("data-mce-resize")==="false"||ze===n.getBody()?!1:i.hasClass(ze,"mce-preview-object")?Xl(De.fromDom(ze.firstElementChild),xt):Xl(De.fromDom(ze),xt)},ht=function(ze){return kt(ze)?i.create("img",{src:Rn.transparentSrc}):ze.cloneNode(!0)},nn=function(ze,xt,pt){if(mn(pt)){var wn=zt(ze);Be(wn,function(An){An.style[xt]||!n.schema.isValid(An.nodeName.toLowerCase(),xt)?i.setStyle(An,xt,pt):i.setAttrib(An,xt,""+pt)})}},dr=function(ze,xt,pt){nn(ze,"width",xt),nn(ze,"height",pt)},jr=function(ze){var xt,pt,wn,An,ga;xt=ze.screenX-F,pt=ze.screenY-V,ge=xt*_[2]+re,$e=pt*_[3]+ue,ge=ge<5?5:ge,$e=$e<5?5:$e,(On(f)||kt(f))&&Ax(n)!==!1?wn=!$n.modifierPressed(ze):wn=$n.modifierPressed(ze),wn&&(Ie(xt)>Ie(pt)?($e=ot(ge*se),ge=ot($e/se)):(ge=ot($e/se),$e=ot(ge*se))),dr(p,ge,$e),An=_.startPos.x+xt,ga=_.startPos.y+pt,An=An>0?An:0,ga=ga>0?ga:0,i.setStyles(C,{left:An,top:ga,display:"block"}),C.innerHTML=ge+" &times; "+$e,_[2]<0&&p.clientWidth<=ge&&i.setStyle(p,"left",W+(re-ge)),_[3]<0&&p.clientHeight<=$e&&i.setStyle(p,"top",te+(ue-$e)),xt=wt.scrollWidth-Bn,pt=wt.scrollHeight-tn,xt+pt!==0&&i.setStyles(C,{left:An-xt,top:ga-pt}),be||(Nw(n,f,re,ue,"corner-"+_.name),be=!0)},zr=function(){var ze=be;be=!1,ze&&(nn(f,"width",ge),nn(f,"height",$e)),i.unbind(Oe,"mousemove",jr),i.unbind(Oe,"mouseup",zr),we!==Oe&&(i.unbind(we,"mousemove",jr),i.unbind(we,"mouseup",zr)),i.remove(p),i.remove(C),i.remove($),Bi(f),ze&&(ua(n,f,ge,$e,"corner-"+_.name),i.setAttrib(f,"style",i.getAttrib(f,"style"))),n.nodeChanged()},Bi=function(ze){gt();var xt=i.getPos(ze,wt),pt=xt.x,wn=xt.y,An=ze.getBoundingClientRect(),ga=An.width||An.right-An.left,Zo=An.height||An.bottom-An.top;f!==ze&&(Za(),f=ze,ge=$e=0);var Go=n.fire("ObjectSelected",{target:ze}),Bm=i.getAttrib(f,a,"1");un(ze)&&!Go.isDefaultPrevented()?l(dt,function(Uu,xu){var di,Fl=function(Wu){var yf=zt(f)[0];F=Wu.screenX,V=Wu.screenY,re=yf.clientWidth,ue=yf.clientHeight,se=ue/re,_=Uu,_.name=xu,_.startPos={x:ga*Uu[0]+pt,y:Zo*Uu[1]+wn},Bn=wt.scrollWidth,tn=wt.scrollHeight,$=i.add(wt,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles($,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),p=ht(f),i.addClass(p,"mce-clonedresizable"),i.setAttrib(p,"data-mce-bogus","all"),p.contentEditable="false",i.setStyles(p,{left:pt,top:wn,margin:0}),dr(p,ga,Zo),p.removeAttribute(a),wt.appendChild(p),i.bind(Oe,"mousemove",jr),i.bind(Oe,"mouseup",zr),we!==Oe&&(i.bind(we,"mousemove",jr),i.bind(we,"mouseup",zr)),C=i.add(wt,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},re+" &times; "+ue)};di=i.get("mceResizeHandle"+xu),di&&i.remove(di),di=i.add(wt,"div",{id:"mceResizeHandle"+xu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+xu+"-resize; margin:0; padding:0"}),Rn.ie===11&&(di.contentEditable=!1),i.bind(di,"mousedown",function(Wu){Wu.stopImmediatePropagation(),Wu.preventDefault(),Fl(Wu)}),Uu.elm=di,i.setStyles(di,{left:ga*Uu[0]+pt-di.offsetWidth/2,top:Zo*Uu[1]+wn-di.offsetHeight/2})}):Za(),i.getAttrib(f,a)||f.setAttribute(a,Bm)},Za=function(){gt(),f&&f.removeAttribute(a),Hr(dt,function(ze,xt){var pt=i.get("mceResizeHandle"+xt);pt&&(i.unbind(pt),i.remove(pt))})},Vu=function(ze){var xt,pt,wn=function(An,ga){if(An)do if(An===ga)return!0;while(An=An.parentNode)};if(!(be||n.removed)){if(l(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(An){An.removeAttribute(a)}),pt=ze.type==="mousedown"?ze.target:e.getNode(),pt=i.$(pt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],wn(pt,wt)&&($t(),xt=e.getStart(!0),wn(xt,pt)&&wn(e.getEnd(!0),pt))){Bi(pt);return}Za()}},vs=function(ze){return LT(mm(n.getBody(),ze))},gt=function(){Hr(dt,function(ze){ze.elm&&(i.unbind(ze.elm),delete ze.elm)})},$t=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};n.on("init",function(){if($t(),Rn.browser.isIE()||Rn.browser.isEdge()){n.on("mousedown click",function(pt){var wn=pt.target,An=wn.nodeName;!be&&/^(TABLE|IMG|HR)$/.test(An)&&!vs(wn)&&(pt.button!==2&&n.selection.select(wn,An==="TABLE"),pt.type==="mousedown"&&n.nodeChanged())});var ze=function(pt){var wn=function(An){Fi.setEditorTimeout(n,function(){return n.selection.select(An)})};if(vs(pt.target)||Ru(pt.target)){pt.preventDefault(),wn(pt.target);return}/^(TABLE|IMG|HR)$/.test(pt.target.nodeName)&&(pt.preventDefault(),pt.target.tagName==="IMG"&&wn(pt.target))};i.bind(wt,"mscontrolselect",ze),n.on("remove",function(){return i.unbind(wt,"mscontrolselect",ze)})}var xt=Fi.throttle(function(pt){n.composing||Vu(pt)});n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",xt),n.on("keyup compositionend",function(pt){f&&f.nodeName==="TABLE"&&xt(pt)}),n.on("hide blur",Za),n.on("contextmenu longpress",Ot,!0)}),n.on("remove",gt);var pn=function(){f=p=$=null};return{isResizable:un,showResizeRect:Bi,hideResizeRect:Za,updateResizeRect:Vu,destroy:pn}},o_=function(e){return Sl(e)||Ba(e)},Lw=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},FT=function(e,n,a){var i,l=a.elementFromPoint(e,n),f=a.body.createTextRange();if((!l||l.tagName==="HTML")&&(l=a.body),f.moveToElementText(l),i=et.toArray(f.getClientRects()),i=i.sort(function(p,C){return p=Math.abs(Math.max(p.top-n,p.bottom-n)),C=Math.abs(Math.max(C.top-n,C.bottom-n)),p-C}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return f.moveToPoint(e,n),f.collapse(!0),f}catch{}}return null},i_=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return Ba(Lw(a,n,o_))?null:e},Fw=function(e,n,a){var i,l,f=a;if(f.caretPositionFromPoint)l=f.caretPositionFromPoint(e,n),l&&(i=a.createRange(),i.setStart(l.offsetNode,l.offset),i.collapse(!0));else if(f.caretRangeFromPoint)i=f.caretRangeFromPoint(e,n);else if(f.body.createTextRange){i=f.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch{i=FT(e,n,a)}return i_(i,a.body)}return i},Hw=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},HT=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Is=function(e,n,a){return HT(e,n,a)!==null},wu=function(e,n,a){return Is(e,n,function(i){return i.nodeName===a})},of=function(e){return e&&e.nodeName==="TABLE"},VT=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},UT=function(e,n){return Mu(e)&&Is(e,n,Zc)===!1},Vw=function(e,n,a){for(var i=new Yr(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(ca(n))return!0},fr=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},WT=function(e,n){for(;n&&n!==e;){if(Ba(n))return!0;n=n.parentNode}return!1},P0=function(e,n,a,i,l){var f,p=e.getRoot(),C,_=e.schema.getNonEmptyElements(),$=e.getParent(l.parentNode,e.isBlock)||p;if(i&&ca(l)&&n&&e.isEmpty($))return K.some(Ke(l.parentNode,e.nodeIndex(l)));for(var F=new Yr(l,$);C=F[i?"prev":"next"]();){if(e.getContentEditableParent(C)==="false"||UT(C,p))return K.none();if(rn(C)&&C.nodeValue.length>0)return wu(C,p,"A")===!1?K.some(Ke(C,i?C.nodeValue.length:0)):K.none();if(e.isBlock(C)||_[C.nodeName.toLowerCase()])return K.none();f=C}return a&&f?K.some(Ke(f,0)):K.none()},N0=function(e,n,a,i){var l,f,p=e.getRoot(),C,_,$=!1;l=i[(a?"start":"end")+"Container"],f=i[(a?"start":"end")+"Offset"];var F=In(l)&&f===l.childNodes.length,V=e.schema.getNonEmptyElements();if(_=a,Mu(l))return K.none();if(In(l)&&f>l.childNodes.length-1&&(_=!1),fp(l)&&(l=p,f=0),l===p){if(_&&(C=l.childNodes[f>0?f-1:0],C&&(Mu(C)||V[C.nodeName]||of(C))))return K.none();if(l.hasChildNodes()){if(f=Math.min(!_&&f>0?f-1:f,l.childNodes.length-1),l=l.childNodes[f],f=rn(l)&&F?l.data.length:0,!n&&l===p.lastChild&&of(l)||WT(p,l)||Mu(l))return K.none();if(l.hasChildNodes()&&of(l)===!1){C=l;var W=new Yr(l,p);do{if(Ba(C)||Mu(C)){$=!1;break}if(rn(C)&&C.nodeValue.length>0){f=_?0:C.nodeValue.length,l=C,$=!0;break}if(V[C.nodeName.toLowerCase()]&&!VT(C)){f=e.nodeIndex(C),l=C.parentNode,_||f++,$=!0;break}}while(C=_?W.next():W.prev())}}}return n&&(rn(l)&&f===0&&P0(e,F,n,!0,l).each(function(te){l=te.container(),f=te.offset(),$=!0}),In(l)&&(C=l.childNodes[f],C||(C=l.childNodes[f-1]),C&&ca(C)&&!fr(C,"A")&&!Vw(e,C,!1)&&!Vw(e,C,!0)&&P0(e,F,n,!0,C).each(function(te){l=te.container(),f=te.offset(),$=!0}))),_&&!n&&rn(l)&&f===l.nodeValue.length&&P0(e,F,n,!1,l).each(function(te){l=te.container(),f=te.offset(),$=!0}),$?K.some(Ke(l,f)):K.none()},I0=function(e,n){var a=n.collapsed,i=n.cloneRange(),l=Ke.fromRangeStart(n);return N0(e,a,!0,i).each(function(f){(!a||!Ke.isAbove(l,f))&&i.setStart(f.container(),f.offset())}),a||N0(e,a,!1,i).each(function(f){i.setEnd(f.container(),f.offset())}),a&&i.collapse(!0),Hw(n,i)?K.none():K.some(i)},Qp=function(e,n){return e.splitText(n)},rv=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,l=e.endOffset;return n===i&&rn(n)?a>0&&a<n.nodeValue.length&&(i=Qp(n,a),n=i.previousSibling,l>a?(l=l-a,n=i=Qp(i,l).previousSibling,l=i.nodeValue.length,a=0):l=0):(rn(n)&&a>0&&a<n.nodeValue.length&&(n=Qp(n,a),a=0),rn(i)&&l>0&&l<i.nodeValue.length&&(i=Qp(i,l).previousSibling,l=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:l}},e1=function(e){var n=function(l,f){return Jp(e,l,f)},a=rv,i=function(l){return I0(e,l).fold(Dt,function(f){return l.setStart(f.startContainer,f.startOffset),l.setEnd(f.endContainer,f.endOffset),!0})};return{walk:n,split:a,normalize:i}};e1.compareRanges=Hw,e1.getCaretRangeFromPoint=Fw,e1.getSelectedNode=em,e1.getNode=za;var jT=function(e,n){var a=function(C,_){if(!Cn(_)&&!_.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+_);var $=C.dom;Ia($)&&($.style[e]=_+"px")},i=function(C){var _=n(C);if(_<=0||_===null){var $=er(C,e);return parseFloat($)||0}return _},l=i,f=function(C,_){return Et(_,function($,F){var V=er(C,F),W=V===void 0?0:parseInt(V,10);return isNaN(W)?$:$+W},0)},p=function(C,_,$){var F=f(C,$),V=_>F?_-F:0;return V};return{set:a,get:i,getOuter:l,aggregate:f,max:p}},u_=jT("height",function(e){var n=e.dom;return If(e)?n.getBoundingClientRect().height:n.offsetHeight}),Uw=function(e){return u_.get(e)},sd=function(e,n){var a=e.view(n);return a.fold(Y([]),function(i){var l=e.owner(i),f=sd(e,l);return[i].concat(f)})},z0=function(e,n){var a=n.owner(e);return sd(n,a)},s_=function(e){var n,a=e.dom===document?K.none():K.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(De.fromDom)},GT=function(e){return Nn(e)},qT=Object.freeze({__proto__:null,view:s_,owner:GT}),KT=function(e){var n=De.fromDom(document),a=oh(n),i=z0(e,qT),l=Du(e),f=qt(i,function(p,C){var _=Du(C);return{left:p.left+_.left,top:p.top+_.top}},{left:0,top:0});return Ql(f.left+l.left+a.left,f.top+l.top+a.top)},gm=function(e){return yo(e)==="textarea"},Ww=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},Sn=function(e,n){e.fire("AfterScrollIntoView",n)},l_=function(e,n){var a=Yi(e);if(a.length===0||gm(e))return{element:e,offset:n};if(n<a.length&&!gm(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return gm(i)?{element:e,offset:n}:yo(i)==="img"?{element:i,offset:1}:Fa(i)?{element:i,offset:$w(i).length}:{element:i,offset:Yi(i).length}},c_=function(e,n){var a=Na(e),i=Uw(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},XT=function(e,n){var a=l_(e,n),i=De.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Te+"</span>");return yi(a.element,i),c_(i,function(){return oo(i)})},t1=function(e){return c_(De.fromDom(e),Qt)},ru=function(e,n,a,i){jw(e,function(l,f){return YT(e,n,a,i)},a)},n1=function(e,n,a,i,l){var f={elm:i.element.dom,alignToTop:l};if(!Ww(e,f)){var p=oh(n).top;a(n,p,i,l),Sn(e,f)}},YT=function(e,n,a,i){var l=De.fromDom(e.getBody()),f=De.fromDom(e.getDoc());cE(l);var p=XT(De.fromDom(a.startContainer),a.startOffset);n1(e,f,n,p,i),p.cleanup()},f_=function(e,n,a,i){var l=De.fromDom(e.getDoc());n1(e,l,a,t1(n),i)},jw=function(e,n,a){var i=a.startContainer,l=a.startOffset,f=a.endContainer,p=a.endOffset;n(De.fromDom(i),De.fromDom(f));var C=e.dom.createRng();C.setStart(i,l),C.setEnd(f,p),e.selection.setRng(a)},Gw=function(e,n,a,i){var l=e.pos;if(a)es(l.left,l.top,i);else{var f=l.top-n+e.height;es(l.left,f,i)}},v_=function(e,n,a,i,l){var f=a+n,p=i.pos.top,C=i.bottom,_=C-p>=a;if(p<n)Gw(i,a,l!==!1,e);else if(p>f){var $=_?l!==!1:l===!0;Gw(i,a,$,e)}else C>f&&!_&&Gw(i,a,l===!0,e)},qw=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;v_(e,n,l,a,i)},Kw=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;v_(e,n,l,a,i);var f=KT(a.element),p=Lf(window);f.top<p.y?ih(a.element,i!==!1):f.top>p.bottom&&ih(a.element,i===!0)},av=function(e,n,a){return ru(e,qw,n,a)},JT=function(e,n,a){return f_(e,n,qw,a)},ZT=function(e,n,a){return ru(e,Kw,n,a)},d_=function(e,n,a){return f_(e,n,Kw,a)},QT=function(e,n,a){var i=e.inline?JT:d_;i(e,n,a)},r1=function(e,n,a){var i=e.inline?av:ZT;i(e,n,a)},Wr=function(){return De.fromDom(document)},L0=function(e){return e.dom.focus()},ov=function(e){var n=su(e).dom;return e.dom===n.activeElement},Ml=function(e){return e===void 0&&(e=Wr()),K.from(e.dom.activeElement).map(De.fromDom)},ld=function(e){return Ml(su(e)).filter(function(n){return e.dom.contains(n.dom)})},Fu=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},F0={create:Fu},pm=yn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),fg=function(e,n,a,i){return e.fold(n,a,i)},cd=function(e){return e.fold(Ht,Ht,Ht)},e3=pm.before,m_=pm.on,t3=pm.after,n3={before:e3,on:m_,after:t3,cata:fg,getStart:cd},ur=yn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Pl=function(e){return ur.exact(e.start,e.soffset,e.finish,e.foffset)},vg=function(e){return e.match({domRange:function(n){return De.fromDom(n.startContainer)},relative:function(n,a){return n3.getStart(n)},exact:function(n,a,i,l){return n}})},h_=ur.domRange,a1=ur.relative,Cr=ur.exact,g_=function(e){var n=vg(e);return qa(n)},p_=F0.create,o1={domRange:h_,relative:a1,exact:Cr,exactFromRange:Pl,getWin:g_,range:p_},b_=bn().browser,i1=function(e,n){var a=Fa(n)?$w(n).length:Yi(n).length+1;return e>a?a:e<0?0:e},bm=function(e){return o1.range(e.start,i1(e.soffset,e.start),e.finish,i1(e.foffset,e.finish))},Xw=function(e,n){return!Pc(n.dom)&&(Ni(e,n)||_a(e,n))},Yw=function(e){return function(n){return Xw(e,n.start)&&Xw(e,n.finish)}},y_=function(e){return e.inline===!0||b_.isIE()},w_=function(e){return o1.range(De.fromDom(e.startContainer),e.startOffset,De.fromDom(e.endContainer),e.endOffset)},fd=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?K.none():K.from(n.getRangeAt(0));return a.map(w_)},ym=function(e){var n=qa(e);return fd(n.dom).filter(Yw(e))},Jw=function(e,n){return K.from(n).filter(Yw(e)).map(bm)},C_=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),K.some(n)}catch{return K.none()}},H0=function(e){var n=y_(e)?ym(De.fromDom(e.getBody())):K.none();e.bookmark=n.isSome()?n:e.bookmark},r3=function(e,n){var a=De.fromDom(e.getBody()),i=y_(e)?K.from(n):K.none(),l=i.map(w_).filter(Yw(a));e.bookmark=l.isSome()?l:e.bookmark},dg=function(e){var n=e.bookmark?e.bookmark:K.none();return n.bind(function(a){return Jw(De.fromDom(e.getBody()),a)}).bind(C_)},Zw=function(e){dg(e).each(function(n){return e.selection.setRng(n)})},Qw=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},S_={isEditorUIElement:Qw},eC=function(e){return e.type==="nodechange"&&e.selectionChange},V0=function(e,n){var a=function(){n.throttle()};Ta.DOM.bind(document,"mouseup",a),e.on("remove",function(){Ta.DOM.unbind(document,"mouseup",a)})},U0=function(e){e.on("focusout",function(){H0(e)})},tC=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},nC=function(e,n){var a=bn().browser;a.isIE()?U0(e):tC(e,n),e.on("keyup NodeChange",function(i){eC(i)||H0(e)})},x_=function(e){var n=Hb(function(){H0(e)},0);e.on("init",function(){e.inline&&V0(e,n),nC(e,n)}),e.on("remove",function(){n.cancel()})},wm,mg=Ta.DOM,__=function(e){return S_.isEditorUIElement(e)},k_=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},W0=function(e,n){var a=tw(e),i=mg.getParent(n,function(l){return __(l)||(a?e.dom.is(l,a):!1)});return i!==null},A_=function(e){try{var n=su(De.fromDom(e.getElement()));return Ml(n).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},E_=function(e,n){var a=n.editor;x_(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Fi.setEditorTimeout(a,function(){var i=e.focusedEditor;!W0(a,A_(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),wm||(wm=function(i){var l=e.activeEditor;l&&Ii(i).each(function(f){f.ownerDocument===document&&f!==document.body&&!W0(l,f)&&e.focusedEditor===l&&(l.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},mg.bind(document,"focusin",wm))},rC=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(mg.unbind(document,"focusin",wm),wm=null)},T_=function(e){e.on("AddEditor",ft(E_,e)),e.on("RemoveEditor",ft(rC,e))},O_=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},D_=function(e){return e.collapsed?K.from(za(e.startContainer,e.startOffset)).map(De.fromDom):K.none()},a3=function(e,n){return D_(n).bind(function(a){return Pr(a)?K.some(a):Ni(e,a)===!1?K.some(e):K.none()})},R_=function(e,n){a3(De.fromDom(e.getBody()),n).bind(function(a){return nu(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},aC=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},hg=function(e){return ov(e)||ld(e).isSome()},o3=function(e){return e.iframeElement&&ov(De.fromDom(e.iframeElement))},B_=function(e){var n=e.getBody();return n&&hg(De.fromDom(n))},$_=function(e){var n=su(De.fromDom(e.getElement()));return Ml(n).filter(function(a){return!k_(a.dom)&&W0(e,a.dom)}).isSome()},il=function(e){return e.inline?B_(e):o3(e)},M_=function(e){return il(e)||$_(e)},P_=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&il(e)===!1&&dg(e).each(function(f){e.selection.setRng(f),i=f});var l=O_(e,n.getNode());if(e.$.contains(a,l)){aC(l),R_(e,i),j0(e);return}e.inline||(Rn.opera||aC(a),e.getWin().focus()),(Rn.gecko||e.inline)&&(aC(a),R_(e,i)),j0(e)},j0=function(e){return e.editorManager.setActive(e)},G0=function(e,n){e.removed||(n?j0(e):P_(e))},oC=function(e,n,a,i,l){var f=a?n.startContainer:n.endContainer,p=a?n.startOffset:n.endOffset;return K.from(f).map(De.fromDom).map(function(C){return!i||!n.collapsed?Jl(C,l(C,p)).getOr(C):C}).bind(function(C){return Ra(C)?K.some(C):Ka(C).filter(Ra)}).map(function(C){return C.dom}).getOr(e)},Cm=function(e,n,a){return oC(e,n,!0,a,function(i,l){return Math.min(sb(i),l)})},gg=function(e,n,a){return oC(e,n,!1,a,function(i,l){return l>0?l-1:l})},N_=function(e,n){for(var a=e;e&&rn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},I_=function(e,n){var a,i,l;if(!n)return e;i=n.startContainer,l=n.endContainer;var f=n.startOffset,p=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===l&&p-f<2&&i.hasChildNodes()&&(a=i.childNodes[f]),i.nodeType===3&&l.nodeType===3&&(i.length===f?i=N_(i.nextSibling,!0):i=i.parentNode,p===0?l=N_(l.previousSibling,!1):l=l.parentNode,i&&i===l))?i:a&&a.nodeType===3?a.parentNode:a},q0=function(e,n,a,i){var l,f=[],p=e.getRoot();if(a=e.getParent(a||Cm(p,n,n.collapsed),e.isBlock),i=e.getParent(i||gg(p,n,n.collapsed),e.isBlock),a&&a!==p&&f.push(a),a&&i&&a!==i){l=a;for(var C=new Yr(a,p);(l=C.next())&&l!==i;)e.isBlock(l)&&f.push(l)}return i&&a!==i&&i!==p&&f.push(i),f},i3=function(e,n,a){return K.from(n).map(function(i){var l=e.nodeIndex(i),f=e.createRng();return f.setStart(i.parentNode,l),f.setEnd(i.parentNode,l+1),a&&(od(e,f,i,!0),od(e,f,i,!1)),f})},K0=function(e,n){return je(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},u1={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},X0=function(e,n,a){var i=a?"lastChild":"firstChild",l=a?"prev":"next";if(e[i])return e[i];if(e!==n){var f=e[l];if(f)return f;for(var p=e.parent;p&&p!==n;p=p.parent)if(f=p[l],f)return f}},z_=function(e){if(!Al(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},Y0=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},ul=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,u1[n]||1);return a&&Hr(a,function(l,f){i.attr(f,l)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,l;if(typeof n!="string")return n!=null&&Hr(n,function(p,C){i.attr(C,p)}),i;if(l=i.attributes){if(a!==void 0){if(a===null){if(n in l.map){delete l.map[n];for(var f=l.length;f--;)if(l[f].name===n)return l.splice(f,1),i}return i}if(n in l.map){for(var f=l.length;f--;)if(l[f].name===n){l[f].value=a;break}}else l.push({name:n,value:a});return l.map[n]=a,i}return l.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var l=[];l.map={};for(var f=0,p=i.length;f<p;f++){var C=i[f];C.name!=="id"&&(l[l.length]={name:C.name,value:C.value},l.map[C.name]=C.value)}a.attributes=l}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,l=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):l.next=i,a.lastChild===n?(a.lastChild=l,l&&(l.next=null)):i.prev=l,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var l=a.parent||this;return i?(a===l.firstChild?l.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===l.lastChild?l.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=l,n},e.prototype.getAll=function(n){for(var a=this,i=[],l=a.firstChild;l;l=X0(l,a))l.name===n&&i.push(l);return i},e.prototype.children=function(){for(var n=this,a=[],i=n.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=X0(i,n))a.push(i);for(var l=a.length;l--;){var i=a[l];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var l=this,f=l.firstChild;if(Y0(l))return!1;if(f)do{if(f.type===1){if(f.attr("data-mce-bogus"))continue;if(n[f.name]||Y0(f))return!1}if(f.type===8||f.type===3&&!z_(f)||f.type===3&&f.parent&&a[f.parent.name]&&Al(f.value)||i&&i(f))return!1}while(f=X0(f,l));return!0},e.prototype.walk=function(n){return X0(this,null,n)},e}(),u3=function(e){for(var n=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},l=vx("img"),f,p=0,C=0;f=n.exec(e);){var _=f[0],$=l+"_"+C++;i[$]=_,p<f.index&&a.push(e.substr(p,f.index-p)),a.push($),p=f.index+_.length}var F=new RegExp(l+"_[0-9]+","g");return p===0?{prefix:l,uris:i,html:e,re:F}:(p<e.length&&a.push(e.substr(p)),{prefix:l,uris:i,html:a.join(""),re:F})},J0=function(e,n){return e.replace(n.re,function(a){return Qr(n.uris,a).getOr(a)})},L_=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return n?K.some({type:n[1],data:decodeURIComponent(n[2])}):K.none()},s1=et.each,l1=et.trim,iC="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),F_={ftp:21,http:80,https:443,mailto:25},H_=["img","video"],V_=function(e,n){return mn(e)?!e:mn(n)?!pe(H_,n):!0},Z0=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?V_(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},vd=function(){function e(n,a){n=l1(n),this.settings=a||{};var i=this.settings.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}var f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var p=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+l.toAbsPath(p,n);else{var C=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+l.toAbsPath(p,C[1])+C[2]}}n=n.replace(/@@/g,"(mce_at)");var _=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);s1(iC,function($,F){var V=_[F];V&&(V=V.replace(/\(mce_at\)/g,"@@")),l[$]=V}),i&&(l.protocol||(l.protocol=i.protocol),l.userInfo||(l.userInfo=i.userInfo),!l.port&&l.host==="mce_host"&&(l.port=i.port),(!l.host||l.host==="mce_host")&&(l.host=i.host),l.source=""),f&&(l.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(i[0]);return l&&(a=l[1]),{type:a,data:i[1]}},e.isDomSafe=function(n,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var l=Os.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch{l=unescape(l)}return/((java|vb)script|mhtml):/i.test(l)?!1:!Z0(i,l,a)},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var l=this.getURI(),f=i.getURI();return l===f||l.charAt(l.length-1)==="/"&&l.substr(0,l.length-1)===f?l:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=F_[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,l="",f,p,C=n.substring(0,n.lastIndexOf("/")).split("/"),_=a.split("/");if(C.length>=_.length){for(f=0,p=C.length;f<p;f++)if(f>=_.length||C[f]!==_[f]){i=f+1;break}}if(C.length<_.length){for(f=0,p=_.length;f<p;f++)if(f>=C.length||C[f]!==_[f]){i=f+1;break}}if(i===1)return a;for(f=0,p=C.length-(i-1);f<p;f++)l+="../";for(f=i-1,p=_.length;f<p;f++)f!==i-1?l+="/"+_[f]:l+=_[f];return l},e.prototype.toAbsPath=function(n,a){var i,l=0,f=[],p,C=/\/$/.test(a)?"/":"",_=n.split("/"),$=a.split("/");for(s1(_,function(F){F&&f.push(F)}),_=f,i=$.length-1,f=[];i>=0;i--)if(!($[i].length===0||$[i]===".")){if($[i]===".."){l++;continue}if(l>0){l--;continue}f.push($[i])}return i=_.length-l,i<=0?p=Er(f).join("/"):p=_.slice(0,i).join("/")+"/"+Er(f).join("/"),p.indexOf("/")!==0&&(p="/"+p),C&&p.lastIndexOf("/")!==p.length-1&&(p+=C),p},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),s3=et.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),l3=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},c3=Oc(function(){return document.implementation.createHTMLDocument("parser")}),dd=function(e,n,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getShortEndedElements(),p=1,C=a;p!==0;)for(i.lastIndex=C;;){var _=i.exec(n);if(_===null)return C;if(_[1]==="!"){co(_[2],"--")?C=uC(n,!1,_.index+3):C=uC(n,!0,_.index+1);break}else{l.lastIndex=i.lastIndex;var $=l.exec(n);if(ve($)||$.index!==i.lastIndex)continue;_[1]==="/"?p-=1:pr(f,_[2])||(p+=1),C=i.lastIndex+$[0].length;break}}return C},f3=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},uC=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&f3(i,a)){var l=i.indexOf("[endif]",a);return i.indexOf(">",l)}else if(n){var f=i.indexOf(">",a);return f!==-1?f:i.length}else{var p=/--!?>/g;p.lastIndex=a;var C=p.exec(e);return C?C.index+C[0].length:i.length}},v3=function(e,n){var a=e.exec(n);if(a){var i=a[1],l=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?l:null}else return null},pg=function(e,n){n===void 0&&(n=Ds()),e=e||{};var a=c3(),i=a.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var l=e.comment?e.comment:Qt,f=e.cdata?e.cdata:Qt,p=e.text?e.text:Qt,C=e.start?e.start:Qt,_=e.end?e.end:Qt,$=e.pi?e.pi:Qt,F=e.doctype?e.doctype:Qt,V=function(te,re){re===void 0&&(re="html");for(var ue=te.html,se,be=0,ge,$e,Oe=[],we,Ie,ot,wt,Bn,tn,dt,On,kt,Yt,Ot,zt,un,ht,nn,dr,jr,zr=0,Bi=Os.decode,Za=et.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Vu=re==="html"?0:1,vs=function(ya){var Ma,mi;for(Ma=Oe.length;Ma--&&Oe[Ma].name!==ya;);if(Ma>=0){for(mi=Oe.length-1;mi>=Ma;mi--)ya=Oe[mi],ya.valid&&_(ya.name);Oe.length=Ma}},gt=function(ya,Ma){return p(J0(ya,te),Ma)},$t=function(ya){ya!==""&&(ya.charAt(0)===">"&&(ya=" "+ya),!e.allow_conditional_comments&&ya.substr(0,3).toLowerCase()==="[if"&&(ya=" "+ya),l(J0(ya,te)))},pn=function(ya){return J0(ya,te)},ze=function(ya,Ma){var mi=ya||"",ds=!co(mi,"--"),gv=uC(ue,ds,Ma);return ya=ue.substr(Ma,gv-Ma),$t(ds?mi+ya:ya),gv+1},xt=function(ya,Ma,mi,ds,gv){if(Ma=Ma.toLowerCase(),mi=pn(Ma in Zo?Ma:Bi(mi||ds||gv||"")),Go&&!Bn&&l3(Ma)===!1){var pv=Ot[Ma];if(!pv&&zt){for(var Wg=zt.length;Wg--&&(pv=zt[Wg],!pv.pattern.test(Ma)););Wg===-1&&(pv=null)}if(!pv||pv.validValues&&!(mi in pv.validValues))return}var $y=Ma==="name"||Ma==="id";$y&&ya in s3&&(mi in a||mi in i)||Za[Ma]&&!vd.isDomSafe(mi,ya,e)||Bn&&(Ma in Za||Ma.indexOf("on")===0)||(we.map[Ma]=mi,we.push({name:Ma,value:mi}))},pt=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),wn=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,An=n.getShortEndedElements(),ga=e.self_closing_elements||n.getSelfClosingElements(),Zo=n.getBoolAttrs(),Go=e.validate,Bm=e.remove_internals,Uu=e.fix_self_closing,xu=n.getSpecialElements(),di=ue+">";se=pt.exec(di);){var Fl=se[0];if(be<se.index&&gt(Bi(ue.substr(be,se.index-be))),ge=se[7])ge=ge.toLowerCase(),ge.charAt(0)===":"&&(ge=ge.substr(1)),vs(ge);else if(ge=se[8]){if(se.index+Fl.length>ue.length){gt(Bi(ue.substr(se.index))),be=se.index+Fl.length;continue}ge=ge.toLowerCase(),ge.charAt(0)===":"&&(ge=ge.substr(1)),tn=ge in An,Uu&&ga[ge]&&Oe.length>0&&Oe[Oe.length-1].name===ge&&vs(ge);var Wu=v3(wn,se[9]);if(Wu!==null){if(Wu==="all"){be=dd(n,ue,pt.lastIndex),pt.lastIndex=be;continue}On=!1}if(!Go||(dt=n.getElementRule(ge))){if(On=!0,Go&&(Ot=dt.attributes,zt=dt.attributePatterns),(Yt=se[9])?(Bn=Yt.indexOf("data-mce-type")!==-1,Bn&&Bm&&(On=!1),we=[],we.map={},Yt.replace(wn,function(ya,Ma,mi,ds,gv){return xt(ge,Ma,mi,ds,gv),""})):(we=[],we.map={}),Go&&!Bn){if(un=dt.attributesRequired,ht=dt.attributesDefault,nn=dt.attributesForced,dr=dt.removeEmptyAttrs,dr&&!we.length&&(On=!1),nn)for(Ie=nn.length;Ie--;)kt=nn[Ie],wt=kt.name,jr=kt.value,jr==="{$uid}"&&(jr="mce_"+zr++),we.map[wt]=jr,we.push({name:wt,value:jr});if(ht)for(Ie=ht.length;Ie--;)kt=ht[Ie],wt=kt.name,wt in we.map||(jr=kt.value,jr==="{$uid}"&&(jr="mce_"+zr++),we.map[wt]=jr,we.push({name:wt,value:jr}));if(un){for(Ie=un.length;Ie--&&!(un[Ie]in we.map););Ie===-1&&(On=!1)}if(kt=we.map["data-mce-bogus"]){if(kt==="all"){be=dd(n,ue,pt.lastIndex),pt.lastIndex=be;continue}On=!1}}On&&C(ge,we,tn)}else On=!1;if($e=xu[ge]){$e.lastIndex=be=se.index+Fl.length,(se=$e.exec(ue))?(On&&(ot=ue.substr(be,se.index-be)),be=se.index+se[0].length):(ot=ue.substr(be),be=ue.length),On&&(ot.length>0&&gt(ot,!0),_(ge)),pt.lastIndex=be;continue}tn||(!Yt||Yt.indexOf("/")!==Yt.length-1?Oe.push({name:ge,valid:On}):On&&_(ge))}else if(ge=se[1])$t(ge);else if(ge=se[2]){var yf=Vu===1||e.preserve_cdata||Oe.length>0&&n.isValidChild(Oe[Oe.length-1].name,"#cdata");if(yf)f(ge);else{be=ze("",se.index+2),pt.lastIndex=be;continue}}else if(ge=se[3])F(ge);else if((ge=se[4])||Fl==="<!"){be=ze(ge,se.index+Fl.length),pt.lastIndex=be;continue}else if(ge=se[5])if(Vu===1)$(ge,se[6]);else{be=ze("?",se.index+2),pt.lastIndex=be;continue}be=se.index+Fl.length}for(be<ue.length&&gt(Bi(ue.substr(be))),Ie=Oe.length-1;Ie>=0;Ie--)ge=Oe[Ie],ge.valid&&_(ge.name)},W=function(te,re){re===void 0&&(re="html"),V(u3(te),re)};return{parse:W}};pg.findEndTag=dd;var sC=function(e,n){var a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(a,"")},U_=function(e,n){for(var a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,i=e.schema,l=sC(e.getTempAttrs(),n),f=i.getShortEndedElements(),p;p=a.exec(l);){var C=a.lastIndex,_=p[0].length,$=void 0;f[p[1]]?$=C:$=pg.findEndTag(i,l,C),l=l.substring(0,C-_)+l.substring($),a.lastIndex=C-_}return ac(l)},Q0=U_,W_=function(e,n){var a=Ei(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},j_=function(e,n){return Mn(Mn({},e),{format:n,get:!0,getInner:!0})},d3=function(e,n,a,i){var l=j_(n,a),f=n.no_events?l:e.fire("BeforeGetContent",l),p;return f.format==="raw"?p=et.trim(Q0(e.serializer,i.innerHTML)):f.format==="text"?p=e.dom.isEmpty(i)?"":ac(i.innerText||i.textContent):f.format==="tree"?p=e.serializer.serialize(i,f):p=W_(e,e.serializer.serialize(i,f)),!pe(["text","tree"],f.format)&&!Nd(De.fromDom(i))?f.content=et.trim(p):f.content=p,f.no_events?f.content:e.fire("GetContent",f).content},ey=function(e,n,a){return K.from(e.getBody()).fold(Y(n.format==="tree"?new ul("body",11):""),function(i){return d3(e,n,a,i)})},ty=et.each,lC=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var l=function(p){var C={};return ty(e.getAttribs(p),function(_){var $=_.nodeName.toLowerCase();$.indexOf("_")!==0&&$!=="style"&&$.indexOf("data-")!==0&&(C[$]=e.getAttrib(p,$))}),C},f=function(p,C){var _,$;for($ in p)if(pr(p,$)){if(_=C[$],typeof _>"u"||p[$]!==_)return!1;delete C[$]}for($ in C)if(pr(C,$))return!1;return!0};return!f(l(a),l(i))||!f(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!Lu(a)&&!Lu(i)};return{compare:n}},G_=et.makeMap,q_=function(e){var n=[];e=e||{};var a=e.indent,i=G_(e.indent_before||""),l=G_(e.indent_after||""),f=Os.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format==="html";return{start:function(C,_,$){var F,V,W,te;if(a&&i[C]&&n.length>0&&(te=n[n.length-1],te.length>0&&te!==`
`&&n.push(`
`)),n.push("<",C),_)for(F=0,V=_.length;F<V;F++)W=_[F],n.push(" ",W.name,'="',f(W.value,!0),'"');!$||p?n[n.length]=">":n[n.length]=" />",$&&a&&l[C]&&n.length>0&&(te=n[n.length-1],te.length>0&&te!==`
`&&n.push(`
`))},end:function(C){var _;n.push("</",C,">"),a&&l[C]&&n.length>0&&(_=n[n.length-1],_.length>0&&_!==`
`&&n.push(`
`))},text:function(C,_){C.length>0&&(n[n.length]=_?C:f(C))},cdata:function(C){n.push("<![CDATA[",C,"]]>")},comment:function(C){n.push("<!--",C,"-->")},pi:function(C,_){_?n.push("<?",C," ",f(_),"?>"):n.push("<?",C,"?>"),a&&n.push(`
`)},doctype:function(C){n.push("<!DOCTYPE",C,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},Sm=function(e,n){n===void 0&&(n=Ds());var a=q_(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(l){var f=e.validate,p={3:function(_){a.text(_.value,_.raw)},8:function(_){a.comment(_.value)},7:function(_){a.pi(_.name,_.value)},10:function(_){a.doctype(_.value)},4:function(_){a.cdata(_.value)},11:function(_){if(_=_.firstChild)do C(_);while(_=_.next)}};a.reset();var C=function(_){var $=p[_.type];if($)$(_);else{var F=_.name,V=_.shortEnded,W=_.attributes;if(f&&W&&W.length>1){var te=[];te.map={};var re=n.getElementRule(_.name);if(re){for(var ue=0,se=re.attributesOrder.length;ue<se;ue++){var be=re.attributesOrder[ue];if(be in W.map){var ge=W.map[be];te.map[be]=ge,te.push({name:be,value:ge})}}for(var ue=0,se=W.length;ue<se;ue++){var be=W[ue].name;if(!(be in te.map)){var ge=W.map[be];te.map[be]=ge,te.push({name:be,value:ge})}}W=te}}if(a.start(_.name,W,V),!V){if(_=_.firstChild)do C(_);while(_=_.next);a.end(F)}}};return l.type===1&&!e.inner?C(l):p[11](l),a.getContent()};return{serialize:i}},c1=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Be(e,function(n){c1.add(n)})})();var ny=["font","text-decoration","text-emphasis"],f1=function(e,n){return ku(e.parseStyle(e.getAttrib(n,"style")))},K_=function(e){return c1.has(e)},iv=function(e,n){return na(f1(e,n),function(a){return!K_(a)})},m3=function(e){return Qe(e,function(n){return Fe(ny,function(a){return co(n,a)})})},uf=function(e,n,a){var i=f1(e,n),l=f1(e,a),f=function(p){var C=e.getStyle(n,p),_=e.getStyle(a,p);return Af(C)&&Af(_)&&C!==_};return Fe(i,function(p){var C=function($){return Fe($,function(F){return F===p})};if(!C(l)&&C(ny)){var _=m3(l);return Fe(_,f)}else return f(p)})},X_=function(e,n,a){return K.from(a.container()).filter(rn).exists(function(i){var l=e?0:-1;return n(i.data.charAt(a.offset()+l))})},ry=ft(X_,!0,rd),cC=ft(X_,!1,rd),h3=function(e){var n=e.container();return rn(n)&&(n.data.length===0||vu(n.data)&&ud.isBookmarkNode(n.parentNode))},md=function(e,n){return function(a){return K.from(h0(e?0:-1,a)).filter(n).isSome()}},Y_=function(e){return uh(e)&&er(De.fromDom(e),"display")==="block"},J_=function(e){return Ba(e)&&!zo(e)},g3=md(!0,Y_),fC=md(!1,Y_),bg=md(!0,Ru),yg=md(!1,Ru),Z_=md(!0,Co),vC=md(!1,Co),Nl=md(!0,J_),hd=md(!1,J_),Tn=function(e){for(var n=[],a=e.dom;a;)n.push(De.fromDom(a)),a=a.lastChild;return n},dC=function(e){var n=Ai(e,"br"),a=Qe(Tn(e).slice(-1),hh);n.length===a.length&&Be(a,oo)},sf=function(e){Pf(e),Io(e,De.fromHtml('<br data-mce-bogus="1">'))},Q_=function(e){Qu(e).each(function(n){Bf(n).each(function(a){ks(e)&&hh(n)&&ks(a)&&oo(n)})})},p3=function(e){return e.slice(0,-1)},ek=function(e,n,a){return Ni(n,e)?p3(No(e,function(i){return a(i)||_a(i,n)})):[]},v1=function(e,n){return ek(e,n,Dt)},gc=function(e,n){return[e].concat(v1(e,n))},ay=function(e,n,a){return x0(e,n,a,h3)},tk=function(e,n){return sn(gc(De.fromDom(n.container()),e),ks)},Vn=function(e,n,a){return ay(e,n.dom,a).forall(function(i){return tk(n,a).fold(function(){return dc(i,a,n.dom)===!1},function(l){return dc(i,a,n.dom)===!1&&Ni(l,De.fromDom(i.container()))})})},mC=function(e,n,a){return tk(n,a).fold(function(){return ay(e,n.dom,a).forall(function(i){return dc(i,a,n.dom)===!1})},function(i){return ay(e,i.dom,a).isNone()})},Gn=ft(mC,!1),hC=ft(mC,!0),nk=ft(Vn,!1),rk=ft(Vn,!0),wg=function(e){return p0(e).exists(hh)},Cg=function(e,n,a){var i=Qe(gc(De.fromDom(a.container()),n),ks),l=to(i).getOr(n);return zu(e,l.dom,a).filter(wg)},Sg=function(e,n){return p0(n).exists(hh)||Cg(!0,e,n).isSome()},xg=function(e,n){return CT(n).exists(hh)||Cg(!1,e,n).isSome()},b3=ft(Cg,!1),Ln=ft(Cg,!0),ak=function(e){return Ke.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},gC=function(e,n){var a=Qe(gc(De.fromDom(n.container()),e),ks);return to(a).getOr(e)},d1=function(e,n){return ak(n)?cC(n):cC(n)||hc(gC(e,n).dom,n).exists(cC)},gd=function(e,n){return ak(n)?ry(n):ry(n)||Bl(gC(e,n).dom,n).exists(ry)},ok=function(e){return pe(["pre","pre-wrap"],e)},oy=function(e){return p0(e).bind(function(n){return vh(n,Ra)}).exists(function(n){return ok(er(n,"white-space"))})},pC=function(e,n){return hc(e.dom,n).isNone()},y3=function(e,n){return Bl(e.dom,n).isNone()},ik=function(e,n){return pC(e,n)||y3(e,n)||Gn(e,n)||hC(e,n)||xg(e,n)||Sg(e,n)},w3=function(e,n){return oy(n)?!1:ik(e,n)||d1(e,n)||gd(e,n)},iy=function(e,n){return oy(n)?!1:Gn(e,n)||nk(e,n)||xg(e,n)||d1(e,n)},C3=function(e){var n=e.container(),a=e.offset();return rn(n)&&a<n.data.length?Ke(n,a+1):e},uy=function(e,n){return oy(n)?!1:hC(e,n)||rk(e,n)||Sg(e,n)||gd(e,n)},uk=function(e,n){return iy(e,n)||uy(e,C3(n))},sk=function(e,n){return fm(e.charAt(n))},S3=function(e){var n=e.container();return rn(n)&&To(n.data,ns)},lk=function(e){var n=e.split("");return je(n,function(a,i){return fm(a)&&i>0&&i<n.length-1&&_0(n[i-1])&&_0(n[i+1])?" ":a}).join("")},bC=function(e,n){var a=n.data,i=Ke(n,0);return sk(a,0)&&!uk(e,i)?(n.data=" "+a.slice(1),!0):!1},Sr=function(e){var n=e.data,a=lk(n);return a!==n?(e.data=a,!0):!1},ck=function(e,n){var a=n.data,i=Ke(n,a.length-1);return sk(a,a.length-1)&&!uk(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},sy=function(e,n){return K.some(n).filter(S3).bind(function(a){var i=a.container(),l=bC(e,i)||Sr(i)||ck(e,i);return l?K.some(a):K.none()})},yC=function(e){var n=De.fromDom(e.getBody());e.selection.isCollapsed()&&sy(n,Ke.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},fk=function(e,n,a){var i=Et(e,function(l,f){return rd(f)||fm(f)?l.previousCharIsSpace||l.str===""&&n||l.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:l.str+ns}:{previousCharIsSpace:!0,str:l.str+" "}:{previousCharIsSpace:!1,str:l.str+f}},{previousCharIsSpace:!1,str:""});return i.str},wC=function(e,n,a){if(a!==0){var i=De.fromDom(e),l=Rv(i,ks).getOr(i),f=e.data.slice(n,n+a),p=n+a>=e.data.length&&uy(l,Ke(e,e.data.length)),C=n===0&&iy(l,Ke(e,0));e.replaceData(n,a,fk(f,C,p))}},m1=function(e,n){var a=e.data.slice(n),i=a.length-Od(a).length;wC(e,n,i)},ly=function(e,n){var a=e.data.slice(0,n),i=a.length-Xu(a).length;wC(e,n-i,i)},u=function(e,n,a,i){i===void 0&&(i=!0);var l=Xu(e.data).length,f=i?e:n,p=i?n:e;return i?f.appendData(p.data):f.insertData(0,p.data),oo(De.fromDom(p)),a&&m1(f,l),f},c=function(e,n){var a=e.container(),i=e.offset();return Ke.isTextPosition(e)===!1&&a===n.parentNode&&i>Ke.before(n).offset()},h=function(e,n){return c(n,e)?Ke(n.container(),n.offset()-1):n},b=function(e){return rn(e)?Ke(e,0):Ke.before(e)},x=function(e){return rn(e)?Ke(e,e.data.length):Ke.after(e)},T=function(e){return Fc(e.previousSibling)?K.some(x(e.previousSibling)):e.previousSibling?rl(e.previousSibling):K.none()},M=function(e){return Fc(e.nextSibling)?K.some(b(e.nextSibling)):e.nextSibling?nu(e.nextSibling):K.none()},L=function(e,n){var a=Ke.before(n.previousSibling?n.previousSibling:n.parentNode);return hc(e,a).fold(function(){return Bl(e,Ke.after(n))},K.some)},Z=function(e,n){return Bl(e,Ke.after(n)).fold(function(){return hc(e,Ke.before(n))},K.some)},le=function(e,n){return T(n).orThunk(function(){return M(n)}).orThunk(function(){return L(e,n)})},Se=function(e,n){return M(n).orThunk(function(){return T(n)}).orThunk(function(){return Z(e,n)})},Xe=function(e,n,a){return e?Se(n,a):le(n,a)},St=function(e,n,a){return Xe(e,n,a).map(ft(h,a))},st=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},Ye=function(e){return function(n){return n.dom===e}},Pt=function(e,n){return n&&pr(e.schema.getBlockElements(),yo(n))},Ft=function(e){if(Si(e)){var n=De.fromHtml('<br data-mce-bogus="1">');return Pf(e),Io(e,n),K.some(Ke.before(n.dom))}else return K.none()},gn=function(e,n,a){var i=Bf(e).filter(Fa),l=Ss(e).filter(Fa);return oo(e),Jy(i,l,n,function(f,p,C){var _=f.dom,$=p.dom,F=_.data.length;return u(_,$,a),C.container()===$?Ke(_,F):C}).orThunk(function(){return a&&(i.each(function(f){return ly(f.dom,f.dom.length)}),l.each(function(f){return m1(f.dom,0)})),n})},Br=function(e,n){return pr(e.schema.getTextInlineElements(),yo(n))},hn=function(e,n,a,i){i===void 0&&(i=!0);var l=St(n,e.getBody(),a.dom),f=Rv(a,ft(Pt,e),Ye(e.getBody())),p=gn(a,l,Br(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(Ft).fold(function(){i&&st(e,n,p)},function(C){i&&st(e,n,K.some(C))})},Fn=function(e){return function(n){return _a(e,n)}},vr=function(e){return Ai(e,"td,th")},sr=function(e,n){var a=function($){return vm(De.fromDom($),n)},i=a(e.startContainer),l=a(e.endContainer),f=i.isSome(),p=l.isSome(),C=Ji(i,l,_a).getOr(!1),_=!C&&f&&p;return{startTable:i,endTable:l,isStartInTable:f,isEndInTable:p,isSameTable:C,isMultiTable:_}},ho=function(e,n){return{start:e,end:n}},li=function(e,n,a){return{rng:e,table:n,cells:a}},ci=yn.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),xr=function(e,n){return vo(De.fromDom(e),"td,th",n)},Un=function(e){return!_a(e.start,e.end)},yr=function(e,n){return vm(e.start,n).bind(function(a){return vm(e.end,n).bind(function(i){return Zy(_a(a,i),a)})})},ra=function(e,n){return!Un(e)&&yr(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},Ja=function(e,n){var a=xr(e.startContainer,n),i=xr(e.endContainer,n);return Ji(a,i,ho)},uv=function(e){return function(n){return vm(n,e).bind(function(a){return Sa(vr(a)).map(function(i){return ho(n,i)})})}},ea=function(e){return function(n){return vm(n,e).bind(function(a){return to(vr(a)).map(function(i){return ho(i,n)})})}},ss=function(e){return function(n){return yr(n,e).map(function(a){return li(n,a,vr(a))})}},fi=function(e,n,a,i){if(a.collapsed||!e.forall(Un))return K.none();if(n.isSameTable){var l=e.bind(ss(i));return K.some({start:l,end:l})}else{var f=xr(a.startContainer,i),p=xr(a.endContainer,i),C=f.bind(uv(i)).bind(ss(i)),_=p.bind(ea(i)).bind(ss(i));return K.some({start:C,end:_})}},h1=function(e,n){return Pn(e,function(a){return _a(a,n)})},sv=function(e){return Ji(h1(e.cells,e.rng.start),h1(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},pc=function(e,n,a){return e.exists(function(i){return ra(i,a)&&$l(i.start,n)})},zs=function(e,n){var a=n.startTable,i=n.endTable,l=e.cloneRange();return a.each(function(f){return l.setStartAfter(f.dom)}),i.each(function(f){return l.setEndBefore(f.dom)}),l},lf=function(e,n,a,i){return fi(e,n,a,i).bind(function(l){var f=l.start,p=l.end;return f.or(p)}).bind(function(l){var f=n.isSameTable,p=sv(l).getOr([]);if(f&&l.cells.length===p.length)return K.some(ci.fullTable(l.table));if(p.length>0){if(f)return K.some(ci.partialTable(p,K.none()));var C=zs(a,n);return K.some(ci.partialTable(p,K.some(Mn(Mn({},n),{rng:C}))))}else return K.none()})},cy=function(e,n,a,i){return fi(e,n,a,i).bind(function(l){var f=l.start,p=l.end,C=f.bind(sv).getOr([]),_=p.bind(sv).getOr([]);if(C.length>0&&_.length>0){var $=zs(a,n);return K.some(ci.multiTable(C,_,$))}else return K.none()})},_g=function(e,n){var a=Fn(e),i=Ja(n,a),l=sr(n,a);return pc(i,n,a)?i.map(function(f){return ci.singleCellTable(n,f.start)}):l.isMultiTable?cy(i,l,n,a):lf(i,l,n,a)},kg=function(e){var n=Ju(e)?Bf(e):Qu(e);return n.bind(kg).orThunk(function(){return K.some(e)})},Ag=function(e){return Be(e,function(n){Je(n,"contenteditable"),sf(n)})},bc=function(e,n){return K.from(e.dom.getParent(n,e.dom.isBlock)).map(De.fromDom)},Eg=function(e,n,a){a.each(function(i){n?oo(i):(sf(i),e.selection.setCursorLocation(i.dom,0))})},Tg=function(e,n,a,i){var l=a.cloneRange();i?(l.setStart(a.startContainer,a.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(a.endContainer,a.endOffset)),x3(e,l,n,!1)},CC=function(e){var n=tf(e),a=De.fromDom(e.selection.getNode());sh(a.dom)&&Si(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),n.length>1&&Fe(n,function(i){return _a(i,a)})&&R(a,"data-mce-selected","1")},Og=function(e,n,a){var i=e.selection.getRng(),l=a.bind(function(f){var p=f.rng,C=f.isStartInTable,_=bc(e,C?p.endContainer:p.startContainer);p.deleteContents(),Eg(e,C,_.filter(Si));var $=C?n[0]:n[n.length-1];return Tg(e,$,i,C),Si($)?K.none():K.some(C?n.slice(1):n.slice(0,-1))}).getOr(n);return Ag(l),CC(e),!0},TD=function(e,n,a,i){var l=e.selection.getRng(),f=n[0],p=a[a.length-1];Tg(e,f,l,!0),Tg(e,p,l,!1);var C=Si(f)?n:n.slice(1),_=Si(p)?a:a.slice(0,-1);return Ag(C.concat(_)),i.deleteContents(),CC(e),!0},x3=function(e,n,a,i){i===void 0&&(i=!0),n.deleteContents();var l=kg(a).getOr(a),f=De.fromDom(e.dom.getParent(l.dom,e.dom.isBlock));if(Si(f)&&(sf(f),i&&e.selection.setCursorLocation(f.dom,0)),!_a(a,f)){var p=Md(Ka(f),a)?[]:wo(f);Be(p.concat(Yi(a)),function(C){!_a(C,f)&&!Ni(C,f)&&Si(C)&&oo(C)})}return!0},UP=function(e,n){return hn(e,!1,n),!0},Dg=function(e,n,a){return _g(n,a).map(function(i){return i.fold(ft(x3,e),ft(UP,e),ft(Og,e),ft(TD,e))})},WP=function(e,n){return fy(e,n)},ls=function(e,n,a,i){return _3(n,i).fold(function(){return Dg(e,n,a)},function(l){return WP(e,l)}).getOr(!1)},qr=function(e,n,a){var i=De.fromDom(e.getBody()),l=e.selection.getRng();return a.length!==0?Og(e,a,K.none()):ls(e,i,l,n)},cf=function(e,n){return sn(gc(n,e),rc)},_3=function(e,n){return sn(gc(n,e),lp("caption"))},OD=function(e,n,a,i,l){return mc(a,e.getBody(),l).bind(function(f){return cf(n,De.fromDom(f.getNode())).map(function(p){return _a(p,i)===!1})})},fy=function(e,n){return sf(n),e.selection.setCursorLocation(n.dom,0),K.some(!0)},k3=function(e,n,a,i){return nu(e.dom).bind(function(l){return rl(e.dom).map(function(f){return n?a.isEqual(l)&&i.isEqual(f):a.isEqual(f)&&i.isEqual(l)})}).getOr(!0)},DD=function(e,n){return fy(e,n)},RD=function(e,n,a){return _3(e,De.fromDom(a.getNode())).map(function(i){return _a(i,n)===!1})},jP=function(e,n,a,i,l){return mc(a,e.getBody(),l).bind(function(f){return k3(i,a,l,f)?DD(e,i):RD(n,i,f)}).or(K.some(!0))},GP=function(e,n,a,i){var l=Ke.fromRangeStart(e.selection.getRng());return cf(a,i).bind(function(f){return Si(f)?fy(e,f):OD(e,a,n,f,l)}).getOr(!1)},A3=function(e,n,a,i){var l=Ke.fromRangeStart(e.selection.getRng());return Si(i)?fy(e,i):jP(e,a,n,i,l)},E3=function(e,n){return e?Z_(n):vC(n)},lv=function(e,n){var a=Ke.fromRangeStart(e.selection.getRng());return E3(n,a)||zu(n,e.getBody(),a).exists(function(i){return E3(n,i)})},qP=function(e,n,a){var i=De.fromDom(e.getBody());return _3(i,a).fold(function(){return GP(e,n,i,a)||lv(e,n)},function(l){return A3(e,n,i,l).getOr(!1)})},vk=function(e,n){var a=De.fromDom(e.selection.getStart(!0)),i=tf(e);return e.selection.isCollapsed()&&i.length===0?qP(e,n,a):qr(e,a,i)},KP=function(e,n,a,i){var l=document.createRange();return l.setStart(e,n),l.setEnd(a,i),l},T3=function(e){var n=Ke.fromRangeStart(e),a=Ke.fromRangeEnd(e),i=e.commonAncestorContainer;return zu(!1,i,a).map(function(l){return!dc(n,a,i)&&dc(n,l,i)?KP(n.container(),n.offset(),l.container(),l.offset()):e}).getOr(e)},O3=function(e){return e.collapsed?e:T3(e)},XP=function(e){return e.firstChild&&e.firstChild===e.lastChild},D3=function(e){return e.name==="br"||e.value===ns},YP=function(e,n){var a=e.getBlockElements();return a[n.name]&&XP(n)&&D3(n.firstChild)},JP=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||YP(e,n))},BD=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),JP(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},ZP=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},QP=function(e,n,a){var i=n.serialize(a),l=e.createFragment(i);return ZP(l)},dk=function(e){return Qe(e.childNodes,function(n){return n.nodeName==="LI"})},eN=function(e){return e.data===ns||ca(e)},$D=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&eN(e.firstChild)},MD=function(e){return!e.firstChild||$D(e)},R3=function(e){return e.length>0&&MD(e[e.length-1])?e.slice(0,-1):e},B3=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},tN=function(e,n){return!!B3(e,n)},$3=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},nN=function(e,n){var a=Ke.before(e),i=uo(n),l=i.next(a);return l?l.toRange():null},PD=function(e,n){var a=Ke.after(e),i=uo(n),l=i.prev(a);return l?l.toRange():null},SC=function(e,n,a,i){var l=$3(e,i),f=e.parentNode;return f.insertBefore(l[0],e),et.each(n,function(p){f.insertBefore(p,e)}),f.insertBefore(l[1],e),f.removeChild(e),PD(n[n.length-1],a)},M3=function(e,n,a){var i=e.parentNode;return et.each(n,function(l){i.insertBefore(l,e)}),nN(e,a)},rN=function(e,n,a,i){return i.insertAfter(n.reverse(),e),PD(n[0],a)},aN=function(e,n,a,i){var l=QP(n,e,i),f=B3(n,a.startContainer),p=R3(dk(l.firstChild)),C=1,_=2,$=n.getRoot(),F=function(V){var W=Ke.fromRangeStart(a),te=uo(n.getRoot()),re=V===C?te.prev(W):te.next(W);return re?B3(n,re.getNode())!==f:!0};return F(C)?M3(f,p,$):F(_)?rN(f,p,$,n):SC(f,p,$,a)},ND=function(e,n,a){var i=De.fromDom(e.getRoot());return iy(i,Ke.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),uy(i,Ke.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},mk=sh,oN=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,mk);return a===i&&$l(De.fromDom(a),n)}else return!1},iN=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,l=a.lastChild;!i||i===l&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},uN=function(e,n){K.from(e.getParent(n,"td,th")).map(De.fromDom).each(Q_)},sN=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var l=e.getBody(),f=lC(i);et.each(i.select("*[data-mce-fragment]"),function(p){var C=mn(a[p.nodeName.toLowerCase()]);if(C&&iv(i,p))for(var _=p.parentNode;mn(_)&&_!==l;_=_.parentNode){var $=uf(i,p,_);if($)break;if(f.compare(_,p)){i.remove(p,!0);break}}})}},ID=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},zD=function(e){et.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},lN=function(e){return!!e.getAttribute("data-mce-fragment")},cN=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},fN=function(e,n){var a,i=e.dom,l=e.selection;if(n){l.scrollIntoView(n);var f=mm(e.getBody(),n);if(i.getContentEditable(f)==="false"){i.remove(n),l.select(f);return}var p=i.createRng(),C=n.previousSibling;if(rn(C)){if(p.setStart(C,C.nodeValue.length),!Rn.ie){var _=n.nextSibling;rn(_)&&(C.appendData(_.data),_.parentNode.removeChild(_))}}else p.setStartBefore(n),p.setEndBefore(n);var $=function(V){var W=Ke.fromRangeStart(V),te=uo(e.getBody());if(W=te.next(W),W)return W.toRange()},F=i.getParent(n,i.isBlock);i.remove(n),F&&i.isEmpty(F)&&(e.$(F).empty(),p.setStart(F,0),p.setEnd(F,0),!mk(F)&&!lN(F)&&(a=$(p))?(p=a,i.remove(F)):i.add(F,i.create("br",{"data-mce-bogus":"1"}))),l.setRng(p)}},vN=function(e){var n=e.dom,a=O3(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,mk);oN(n,a,i)?x3(e,a,De.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},dN=function(e,n,a){var i,l,f,p=e.selection,C=e.dom;/^ | $/.test(n)&&(n=ND(C,p.getRng(),n));var _=e.parser,$=a.merge,F=Sm({validate:aT(e)},e.schema),V='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',W=e.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:a.paste});if(W.isDefaultPrevented()){e.fire("SetContent",{content:W.content,format:"html",selection:!0,paste:a.paste});return}n=W.content,n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,V),l=p.getRng();var te=l.startContainer||(l.parentElement?l.parentElement():null),re=e.getBody();te===re&&p.isCollapsed()&&C.isBlock(re.firstChild)&&cN(e,re.firstChild)&&C.isEmpty(re.firstChild)&&(l=C.createRng(),l.setStart(re.firstChild,0),l.setEnd(re.firstChild,0),p.setRng(l)),p.isCollapsed()||vN(e),i=p.getNode();var ue={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},se=_.parse(n,ue);if(a.paste===!0&&BD(e.schema,se)&&tN(C,i)){l=aN(F,C,p.getRng(),se),p.setRng(l),e.fire("SetContent",W);return}if(ID(se),f=se.lastChild,f.attr("id")==="mce_marker"){var be=f;for(f=f.prev;f;f=f.walk(!0))if(f.type===3||!C.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(be,f,f.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!ue.invalid)n=F.serialize(se),iN(e,n,i);else{e.selection.setContent(V),i=p.getNode();var ge=e.getBody();for(i.nodeType===9?i=f=ge:f=i;f!==ge;)i=f,f=f.parentNode;n=i===ge?ge.innerHTML:C.getOuterHTML(i),n=F.serialize(_.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return F.serialize(se)}))),i===ge?C.setHTML(ge,n):C.setOuterHTML(i,n)}sN(e,$),fN(e,C.get("mce_marker")),zD(e.getBody()),uN(C,p.getStart()),e.fire("SetContent",W),e.addVisual()},P3=function(e,n){n(e),e.firstChild&&P3(e.firstChild,n),e.next&&P3(e.next,n)},xC=function(e,n,a){var i={},l={},f=[];a.firstChild&&P3(a.firstChild,function(_){Be(e,function($){$.name===_.name&&(i[$.name]?i[$.name].nodes.push(_):i[$.name]={filter:$,nodes:[_]})}),Be(n,function($){typeof _.attr($.name)=="string"&&(l[$.name]?l[$.name].nodes.push(_):l[$.name]={filter:$,nodes:[_]})})});for(var p in i)pr(i,p)&&f.push(i[p]);for(var C in l)pr(l,C)&&f.push(l[C]);return f},mN=function(e,n,a){var i=xC(e,n,a);Be(i,function(l){Be(l.filter.callbacks,function(f){f(l.nodes,l.filter.name,{})})})},LD="html",_C=function(e){return e instanceof ul},hN=function(e){il(e)&&nu(e.getBody()).each(function(n){var a=n.getNode(),i=Co(a)?nu(a).getOr(n):n;e.selection.setRng(i.toRange())})},hk=function(e,n,a){e.dom.setHTML(e.getBody(),n),a!==!0&&hN(e)},FD=function(e,n,a,i){if(a.length===0||/^\s+$/.test(a)){var l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?a="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+l+"</li>");var f=Ei(e);f&&e.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(a=l,a=e.dom.createHTML(f,Lh(e),a)):a||(a='<br data-mce-bogus="1">'),hk(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=Sm({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=Nd(De.fromDom(n))?a:et.trim(a),hk(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},gN=function(e,n,a,i){mN(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var l=Sm({validate:e.validate},e.schema).serialize(a);return i.content=Nd(De.fromDom(n))?l:et.trim(l),hk(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},pN=function(e,n){return Mn(Mn({format:LD},e),{set:!0,content:_C(n)?"":n})},bN=function(e,n,a){var i=pN(a,n),l=a.no_events?i:e.fire("BeforeSetContent",i);return _C(n)||(n=l.content),K.from(e.getBody()).fold(Y(n),function(f){return _C(n)?gN(e,f,n,l):FD(e,f,n,l)})},yN=function(e,n){return t2(e,n).isSome()},HD=function(e){return Nt(e)?e:Dt},wN=function(e,n,a){for(var i=e.dom,l=HD(a);i.parentNode;){i=i.parentNode;var f=De.fromDom(i),p=n(f);if(p.isSome())return p;if(l(f))break}return K.none()},N3=function(e,n,a){var i=n(e),l=HD(a);return i.orThunk(function(){return l(e)?K.none():wN(e,n,l)})},I3=ww,VD=function(e,n,a){var i=e.formatter.get(a);if(i)for(var l=0;l<i.length;l++){var f=i[l];if(us(f)&&f.inherit===!1&&e.dom.is(n,f.selector))return!0}return!1},z3=function(e,n,a,i,l){var f=e.dom.getRoot();return n===f?!1:(n=e.dom.getParent(n,function(p){return VD(e,p,a)?!0:p.parentNode===f||!!au(e,p,a,i,!0)}),!!au(e,n,a,i,l))},L3=function(e,n,a){if(I3(n,a.inline)||I3(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},gk=function(e,n,a,i,l,f){var p=a[i];if(Nt(a.onmatch))return a.onmatch(n,a,i);if(p){if(He(p.length)){for(var C in p)if(pr(p,C)){var _=i==="attributes"?e.getAttrib(n,C):og(e,n,C),$=Qc(p[C],f),F=Xt(_)||Dd(_);if(F&&Xt($))continue;if(l&&F&&!a.exact||(!l||a.exact)&&!I3(_,Cw(e,$,C)))return!1}}else for(var V=0;V<p.length;V++)if(i==="attributes"?e.getAttrib(n,p[V]):og(e,n,p[V]))return!0}return!0},au=function(e,n,a,i,l){var f=e.formatter.get(a),p=e.dom;if(f&&n)for(var C=0;C<f.length;C++){var _=f[C];if(L3(e.dom,n,_)&&gk(p,n,_,"attributes",l,i)&&gk(p,n,_,"styles",l,i)){var $=_.classes;if($){for(var F=0;F<$.length;F++)if(!e.dom.hasClass(n,Qc($[F],i)))return}return _}}},kC=function(e,n,a,i,l){if(i)return z3(e,i,n,a,l);if(i=e.selection.getNode(),z3(e,i,n,a,l))return!0;var f=e.selection.getStart();return!!(f!==i&&z3(e,f,n,a,l))},F3=function(e,n,a){var i=[],l={},f=e.selection.getStart();return e.dom.getParent(f,function(p){for(var C=0;C<n.length;C++){var _=n[C];!l[_]&&au(e,p,_,a)&&(l[_]=!0,i.push(_))}},e.dom.getRoot()),i},H3=function(e,n){var a=function(l){return _a(l,De.fromDom(e.getBody()))},i=function(l,f){return au(e,l.dom,f)?K.some(f):K.none()};return K.from(e.selection.getStart(!0)).bind(function(l){return N3(De.fromDom(l),function(f){return no(n,function(p){return i(f,p)})},a)}).getOrNull()},CN=function(e,n){var a=e.formatter.get(n),i=e.dom;if(a)for(var l=e.selection.getStart(),f=Kp(i,l),p=a.length-1;p>=0;p--){var C=a[p];if(!us(C)||mn(C.defaultBlock))return!0;for(var _=f.length-1;_>=0;_--)if(i.is(f[_],C.selector))return!0}return!1},UD=function(e,n,a){return Et(a,function(i,l){var f=Zx(e,l);return e.formatter.matchNode(n,l,{},f)?i.concat([l]):i},[])},vy=Te,V3="_mce_caret",U3=function(e,n){return e.importNode(n,!0)},SN=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==vy||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},W3=function(e){return SN(e).length>0},WD=function(e){if(e){var n=new Yr(e,e);for(e=n.current();e;e=n.next())if(rn(e))return e}return null},g1=function(e){var n=De.fromTag("span");return H(n,{id:V3,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Io(n,De.fromText(vy)),n},jD=function(e){var n=WD(e);return n&&n.nodeValue.charAt(0)===vy&&n.deleteData(0,1),n},j3=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(W3(n))hn(e,!1,De.fromDom(n),a);else{var f=l.getRng(),p=i.getParent(n,i.isBlock),C=f.startContainer,_=f.startOffset,$=f.endContainer,F=f.endOffset,V=jD(n);i.remove(n,!0),C===V&&_>0&&f.setStart(V,_-1),$===V&&F>0&&f.setEnd(V,F-1),p&&i.isEmpty(p)&&sf(De.fromDom(p)),l.setRng(f)}},pk=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(n)j3(e,n,a);else if(n=lm(e.getBody(),l.getStart()),!n)for(;n=i.get(V3);)j3(e,n,!1)},xN=function(e,n,a){var i=e.dom,l=i.getParent(a,ft(yw,e));l&&i.isEmpty(l)?a.parentNode.replaceChild(n,a):(dC(De.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},GD=function(e,n){return e.appendChild(n),n},qD=function(e,n){var a=qt(e,function(i,l){return GD(i,l.cloneNode(!1))},n);return GD(a,a.ownerDocument.createTextNode(vy))},_N=function(e,n,a,i,l,f){var p=e.formatter,C=e.dom,_=Qe(ku(p.get()),function(W){return W!==i&&!To(W,"removeformat")}),$=UD(e,a,_),F=Qe($,function(W){return!MT(e,W,i)});if(F.length>0){var V=a.cloneNode(!1);return C.add(n,V),p.remove(i,l,V,f),C.remove(V),K.some(V)}else return K.none()},kN=function(e,n,a){var i,l,f=e.selection,p=f.getRng(),C=p.startOffset,_=p.startContainer,$=_.nodeValue;i=lm(e.getBody(),f.getStart()),i&&(l=WD(i));var F=/[^\s\u00a0\u00ad\u200b\ufeff]/;if($&&C>0&&C<$.length&&F.test($.charAt(C))&&F.test($.charAt(C-1))){var V=f.getBookmark();p.collapse(!0);var W=ad(e,p,e.formatter.get(n));W=rv(W),e.formatter.apply(n,a,W),f.moveToBookmark(V)}else(!i||l.nodeValue!==vy)&&(i=U3(e.getDoc(),g1(!0).dom),l=i.firstChild,p.insertNode(i),C=1),e.formatter.apply(n,a,i),f.setCursorLocation(l,C)},KD=function(e,n,a,i){var l=e.dom,f=e.selection,p,C,_,$=[],F=f.getRng(),V=F.startContainer,W=F.startOffset;for(C=V,V.nodeType===3&&(W!==V.nodeValue.length&&(p=!0),C=C.parentNode);C;){if(au(e,C,n,a,i)){_=C;break}C.nextSibling&&(p=!0),$.push(C),C=C.parentNode}if(_)if(p){var te=f.getBookmark();F.collapse(!0);var re=ad(e,F,e.formatter.get(n),!0);re=rv(re),e.formatter.remove(n,a,re,i),f.moveToBookmark(te)}else{var ue=lm(e.getBody(),_),se=g1(!1).dom;xN(e,se,ue!==null?ue:_);var be=_N(e,se,_,n,a,i),ge=qD($.concat(be.toArray()),se);j3(e,ue,!1),f.setCursorLocation(ge,1),l.isEmpty(_)&&l.remove(_)}},AN=function(e,n){var a=e.selection,i=e.getBody();pk(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===vy&&pk(e,lm(i,a.getStart())),(n===37||n===39)&&pk(e,lm(i,a.getStart()))},G3=function(e){e.on("mouseup keydown",function(n){AN(e,n.keyCode)})},dy=function(e,n){var a=g1(!1),i=qD(n,a.dom);return yi(De.fromDom(e),a),oo(De.fromDom(e)),Ke(i,0)},EN=function(e,n){var a=e.schema.getTextInlineElements();return pr(a,yo(n))&&!Zc(n.dom)&&!fo(n.dom)},TN=function(e){return Zc(e.dom)&&W3(e.dom)},p1={},bk=ml,XD=Tc,ON=function(e,n){var a=p1[e];a||(p1[e]=[]),p1[e].push(n)},YD=function(e,n){XD(p1[e],function(a){a(n)})};ON("pre",function(e){var n=e.selection.getRng(),a,i=function(p){return f(p.previousSibling)&&hl(a,p.previousSibling)!==-1},l=function(p,C){Jn(C).remove(),Jn(p).append("<br><br>").append(C.childNodes)},f=xs(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),XD(bk(bk(a,f),i),function(p){l(p.previousSibling,p)}))});var AC=et.each,q3=function(e){return In(e)&&!Lu(e)&&!Zc(e)&&!fo(e)},EC=function(e,n){for(var a=e;a;a=a[n]){if(rn(a)&&Af(a.data))return e;if(In(a)&&!Lu(a))return a}return e},pd=function(e,n,a){var i=lC(e);if(n&&a&&(n=EC(n,"previousSibling"),a=EC(a,"nextSibling"),i.compare(n,a))){for(var l=n.nextSibling;l&&l!==a;){var f=l;l=l.nextSibling,n.appendChild(f)}return e.remove(a),et.each(et.grep(a.childNodes),function(p){n.appendChild(p)}),n}return a},JD=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var l=pd(e,A0(i),i);pd(e,l,A0(l,!0))}},K3=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";AC(e.select(i,a),function(l){q3(l)&&AC(n.styles,function(f,p){e.setStyle(l,p,"")})})}},X3=function(e,n,a){AC(e.childNodes,function(i){q3(i)&&(n(i)&&a(i),i.hasChildNodes()&&X3(i,n,a))})},DN=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},ZD=function(e,n){return function(a){return!!(a&&og(e,a,n))}},QD=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),DN(e,i)}},my=yn.generate([{keep:[]},{rename:["name"]},{removed:[]}]),RN=/^(src|href|style)$/,Rg=et.each,hy=ww,BN=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},eR=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},tR=function(e,n,a){var i=n[a?"startContainer":"endContainer"],l=n[a?"startOffset":"endOffset"];if(In(i)){var f=i.childNodes.length-1;!a&&l&&l--,i=i.childNodes[l>f?f:l]}return rn(i)&&a&&l>=i.nodeValue.length&&(i=new Yr(i,e.getBody()).next()||i),rn(i)&&!a&&l===0&&(i=new Yr(i,e.getBody()).prev()||i),i},Y3=function(e,n){var a=n?"firstChild":"lastChild";if(BN(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},J3=function(e,n,a,i){var l=e.create(a,i);return n.parentNode.insertBefore(l,n),l.appendChild(n),l},nR=function(e,n,a,i,l){var f=De.fromDom(n),p=De.fromDom(e.create(i,l)),C=a?ka(f):Mr(f);return Mf(p,C),a?(yi(f,p),Js(p,f)):(Dv(f,p),Io(p,f)),p.dom},$N=function(e,n,a){if(Oi(a)&&hy(n,a.inline)||ef(a)&&hy(n,a.block))return!0;if(us(a))return In(n)&&e.is(n,a.selector)},MN=function(e,n){return n.links&&e.nodeName==="A"},yk=function(e,n,a,i){var l=A0(n,a,i);return Xt(l)||l.nodeName==="BR"||e.isBlock(l)},PN=function(e,n,a){var i=n.parentNode,l,f=e.dom,p=Ei(e);ef(a)&&(p?i===f.getRoot()&&(!a.list_block||!hy(n,a.list_block))&&Be(mr(n.childNodes),function(C){ag(e,p,C.nodeName.toLowerCase())?l?l.appendChild(C):(l=J3(f,C,p),f.setAttribs(l,e.settings.forced_root_block_attrs)):l=null}):f.isBlock(n)&&!f.isBlock(i)&&(!yk(f,n,!1)&&!yk(f,n.firstChild,!0,!0)&&n.insertBefore(f.create("br"),n.firstChild),!yk(f,n,!0)&&!yk(f,n.lastChild,!1,!0)&&n.appendChild(f.create("br")))),!(PT(a)&&!hy(a.inline,n))&&f.remove(n,!0)},rR=function(e,n,a,i,l){var f,p=e.dom;if(!$N(p,i,n)&&!MN(i,n))return my.keep();var C=i;if(Oi(n)&&n.remove==="all"&&rt(n.preserve_attributes)){var _=Qe(p.getAttribs(C),function(W){return pe(n.preserve_attributes,W.name.toLowerCase())});if(p.removeAllAttribs(C),Be(_,function(W){return p.setAttrib(C,W.name,W.value)}),_.length>0)return my.rename("span")}if(n.remove!=="all"){Rg(n.styles,function(W,te){W=Cw(p,Qc(W,a),te+""),Cn(te)&&(te=W,l=null),(n.remove_similar||!l||hy(og(p,l,te),W))&&p.setStyle(C,te,""),f=!0}),f&&p.getAttrib(C,"style")===""&&(C.removeAttribute("style"),C.removeAttribute("data-mce-style")),Rg(n.attributes,function(W,te){var re;if(W=Qc(W,a),Cn(te)&&(te=W,l=null),n.remove_similar||!l||hy(p.getAttrib(l,te),W)){if(te==="class"&&(W=p.getAttrib(C,te),W&&(re="",Be(W.split(/\s+/),function(ue){/mce\-\w+/.test(ue)&&(re+=(re?" ":"")+ue)}),re))){p.setAttrib(C,te,re);return}if(RN.test(te)&&C.removeAttribute("data-mce-"+te),te==="style"&&xs(["li"])(C)&&p.getStyle(C,"list-style-type")==="none"){C.removeAttribute(te),p.setStyle(C,"list-style-type","none");return}te==="class"&&C.removeAttribute("className"),C.removeAttribute(te)}}),Rg(n.classes,function(W){W=Qc(W,a),(!l||p.hasClass(l,W))&&p.removeClass(C,W)});for(var $=p.getAttribs(C),F=0;F<$.length;F++){var V=$[F].nodeName;if(V.indexOf("_")!==0&&V.indexOf("data-")!==0)return my.keep()}}return n.remove!=="none"?(PN(e,C,n),my.removed()):my.keep()},gy=function(e,n,a,i,l){return rR(e,n,a,i,l).fold(Dt,function(f){return e.dom.rename(i,f),!0},en)},NN=function(e,n,a,i,l){var f;return Be(Kp(e.dom,n.parentNode).reverse(),function(p){if(!f&&p.id!=="_start"&&p.id!=="_end"){var C=au(e,p,a,i,l);C&&C.split!==!1&&(f=p)}}),f},IN=function(e,n,a,i){return rR(e,n,a,i,i).fold(Y(i),function(l){var f=e.dom.createFragment();return f.appendChild(i),e.dom.rename(i,l)},Y(null))},Z3=function(e,n,a,i,l,f,p,C){var _,$,F,V=e.dom;if(a){for(var W=a.parentNode,te=i.parentNode;te&&te!==W;te=te.parentNode){_=V.clone(te,!1);for(var re=0;re<n.length&&(_=IN(e,n[re],C,_),_!==null);re++);_&&($&&_.appendChild($),F||(F=_),$=_)}f&&(!p.mixed||!V.isBlock(a))&&(i=V.split(a,i)),$&&(l.parentNode.insertBefore($,l),F.appendChild(l),Oi(p)&&JD(V,p,C,$))}return i},Q3=function(e,n,a,i,l){var f=e.formatter.get(n),p=f[0],C=!0,_=e.dom,$=e.selection,F=function(ge){var $e=NN(e,ge,n,a,l);return Z3(e,f,$e,ge,ge,!0,p,a)},V=function(ge){return Lu(ge)&&In(ge)&&(ge.id==="_start"||ge.id==="_end")},W=function(ge){return Fe(f,function($e){return gy(e,$e,a,ge,ge)})},te=function(ge){var $e=!0,Oe=!1;In(ge)&&_.getContentEditable(ge)&&($e=C,C=_.getContentEditable(ge)==="true",Oe=!0);var we=mr(ge.childNodes);if(C&&!Oe){var Ie=W(ge),ot=Ie||Fe(f,function(dt){return L3(_,ge,dt)}),wt=ge.parentNode;!ot&&mn(wt)&&xw(p)&&W(wt)}if(p.deep&&we.length){for(var Bn=0;Bn<we.length;Bn++)te(we[Bn]);Oe&&(C=$e)}var tn=["underline","line-through","overline"];Be(tn,function(dt){In(ge)&&e.dom.getStyle(ge,"text-decoration")===dt&&ge.parentNode&&Sw(_,ge.parentNode)===dt&&gy(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:dt}},null,ge)})},re=function(ge){var $e=_.get(ge?"_start":"_end"),Oe=$e[ge?"firstChild":"lastChild"];return V(Oe)&&(Oe=Oe[ge?"firstChild":"lastChild"]),rn(Oe)&&Oe.data.length===0&&(Oe=ge?$e.previousSibling||$e.nextSibling:$e.nextSibling||$e.previousSibling),_.remove($e,!0),Oe},ue=function(ge){var $e,Oe,we=ad(e,ge,f,ge.collapsed);if(p.split){if(we=rv(we),$e=tR(e,we,!0),Oe=tR(e,we),$e!==Oe){if($e=Y3($e,!0),Oe=Y3(Oe,!1),eR(_,$e,Oe)){var Ie=K.from($e.firstChild).getOr($e);F(nR(_,Ie,!0,"span",{id:"_start","data-mce-type":"bookmark"})),re(!0);return}if(eR(_,Oe,$e)){var Ie=K.from(Oe.lastChild).getOr(Oe);F(nR(_,Ie,!1,"span",{id:"_end","data-mce-type":"bookmark"})),re(!1);return}$e=J3(_,$e,"span",{id:"_start","data-mce-type":"bookmark"}),Oe=J3(_,Oe,"span",{id:"_end","data-mce-type":"bookmark"});var ot=_.createRng();ot.setStartAfter($e),ot.setEndBefore(Oe),Jp(_,ot,function(wt){Be(wt,function(Bn){!Lu(Bn)&&!Lu(Bn.parentNode)&&F(Bn)})}),F($e),F(Oe),$e=re(!0),Oe=re()}else $e=Oe=F($e);we.startContainer=$e.parentNode?$e.parentNode:$e,we.startOffset=_.nodeIndex($e),we.endContainer=Oe.parentNode?Oe.parentNode:Oe,we.endOffset=_.nodeIndex(Oe)+1}Jp(_,we,function(wt){Be(wt,te)})};if(i){if(k0(i)){var se=_.createRng();se.setStartBefore(i),se.setEndAfter(i),ue(se)}else ue(i);Zp(e,n,i,a);return}if(_.getContentEditable($.getNode())==="false"){i=$.getNode();for(var be=0;be<f.length&&!(f[be].ceFalseOverride&&gy(e,f[be],a,i,i));be++);Zp(e,n,i,a);return}!$.isCollapsed()||!Oi(p)||tf(e).length?(lg($,!0,function(){dm(e,ue)}),Oi(p)&&kC(e,n,a,$.getStart())&&Jx(_,$,$.getRng()),e.nodeChanged()):KD(e,n,a,l),Zp(e,n,i,a)},aR=et.each,wk=function(e,n,a,i){var l=function(f){if(f.nodeType===1&&f.parentNode&&f.parentNode.nodeType===1){var p=Sw(e,f.parentNode);e.getStyle(f,"color")&&p?e.setStyle(f,"text-decoration",p):e.getStyle(f,"text-decoration")===p&&e.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(et.walk(i,l,"childNodes"),l(i))},oR=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&X3(i,ZD(e,"fontSize"),QD(e,"backgroundColor",Qc(n.styles.backgroundColor,a)))},TC=function(e,n,a,i){Oi(n)&&(n.inline==="sub"||n.inline==="sup")&&(X3(i,ZD(e,"fontSize"),QD(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},OC=function(e,n,a,i){aR(n,function(l){Oi(l)&&aR(e.dom.select(l.inline,i),function(f){q3(f)&&gy(e,l,a,f,l.exact?f:null)}),K3(e.dom,l,i)})},iR=function(e,n,a,i,l){au(e,l.parentNode,a,i)&&gy(e,n,i,l)||n.merge_with_parents&&e.dom.getParent(l.parentNode,function(f){if(au(e,f,a,i))return gy(e,n,i,l),!0})},Ck=et.each,zN=function(e){return In(e)&&!Lu(e)&&!Zc(e)&&!fo(e)},LN=function(e,n,a,i){if(om(e)&&Oi(n)){var l=wb(e.schema),f=yN(De.fromDom(a),function(p){return Zc(p.dom)});return Ws(l,i)&&Si(De.fromDom(a.parentNode),!1)&&!f}else return!1},e4=function(e,n,a,i){var l=e.formatter.get(n),f=l[0],p=!i&&e.selection.isCollapsed(),C=e.dom,_=e.selection,$=function($e,Oe){if(Oe===void 0&&(Oe=f),Nt(Oe.onformat)&&Oe.onformat($e,Oe,a,i),Ck(Oe.styles,function(Ie,ot){C.setStyle($e,ot,Qc(Ie,a))}),Oe.styles){var we=C.getAttrib($e,"style");we&&C.setAttrib($e,"data-mce-style",we)}Ck(Oe.attributes,function(Ie,ot){C.setAttrib($e,ot,Qc(Ie,a))}),Ck(Oe.classes,function(Ie){Ie=Qc(Ie,a),C.hasClass($e,Ie)||C.addClass($e,Ie)})},F=function($e,Oe){var we=!1;return Ck($e,function(Ie){if(!us(Ie))return!1;if(!(mn(Ie.collapsed)&&Ie.collapsed!==p)&&C.is(Oe,Ie.selector)&&!Zc(Oe))return $(Oe,Ie),we=!0,!1}),we},V=function($e){if(Ct($e)){var Oe=C.create($e);return $(Oe),Oe}else return null},W=function($e,Oe,we){var Ie=[],ot=!0,wt=f.inline||f.block,Bn=V(wt);Jp($e,Oe,function(tn){var dt,On=function(kt){var Yt=!1,Ot=ot,zt=kt.nodeName.toLowerCase(),un=kt.parentNode,ht=un.nodeName.toLowerCase();if(In(kt)&&$e.getContentEditable(kt)&&(Ot=ot,ot=$e.getContentEditable(kt)==="true",Yt=!0),ca(kt)&&!LN(e,f,kt,ht)){dt=null,ef(f)&&$e.remove(kt);return}if(ef(f)&&f.wrapper&&au(e,kt,n,a)){dt=null;return}if(ot&&!Yt&&ef(f)&&!f.wrapper&&yw(e,zt)&&ag(e,ht,wt)){var nn=$e.rename(kt,wt);$(nn),Ie.push(nn),dt=null;return}if(us(f)){var dr=F(l,kt);if(!dr&&mn(un)&&xw(f)&&(dr=F(l,un)),!Oi(f)||dr){dt=null;return}}ot&&!Yt&&ag(e,wt,zt)&&ag(e,ht,wt)&&!(!we&&rn(kt)&&vu(kt.data))&&!Zc(kt)&&(!Oi(f)||!$e.isBlock(kt))?(dt||(dt=$e.clone(Bn,!1),kt.parentNode.insertBefore(dt,kt),Ie.push(dt)),dt.appendChild(kt)):(dt=null,Be(mr(kt.childNodes),On),Yt&&(ot=Ot),dt=null)};Be(tn,On)}),f.links===!0&&Be(Ie,function(tn){var dt=function(On){On.nodeName==="A"&&$(On,f),Be(mr(On.childNodes),dt)};dt(tn)}),Be(Ie,function(tn){var dt=function(Yt){var Ot=0;return Be(Yt.childNodes,function(zt){!$T(zt)&&!Lu(zt)&&Ot++}),Ot},On=function(Yt){var Ot=sn(Yt.childNodes,zN).filter(function(zt){return L3($e,zt,f)});return Ot.map(function(zt){var un=$e.clone(zt,!1);return $(un),$e.replace(un,Yt,!0),$e.remove(zt,!0),un}).getOr(Yt)},kt=dt(tn);if((Ie.length>1||!$e.isBlock(tn))&&kt===0){$e.remove(tn,!0);return}(Oi(f)||ef(f)&&f.wrapper)&&(!f.exact&&kt===1&&(tn=On(tn)),OC(e,l,a,tn),iR(e,f,n,a,tn),oR($e,f,a,tn),wk($e,f,a,tn),TC($e,f,a,tn),JD($e,f,a,tn))})};if(C.getContentEditable(_.getNode())==="false"){i=_.getNode();for(var te=0,re=l.length;te<re;te++){var ue=l[te];if(ue.ceFalseOverride&&us(ue)&&C.is(i,ue.selector)){$(i,ue);break}}Iw(e,n,i,a);return}if(f){if(i)if(k0(i)){if(!F(l,i)){var se=C.createRng();se.setStartBefore(i),se.setEndAfter(i),W(C,ad(e,se,l),!0)}}else W(C,i,!0);else if(!p||!Oi(f)||tf(e).length){var be=_.getNode(),ge=l[0];!e.settings.forced_root_block&&ge.defaultBlock&&!C.getParent(be,C.isBlock)&&e4(e,ge.defaultBlock),_.setRng(O3(_.getRng())),lg(_,!0,function(){dm(e,function($e,Oe){var we=Oe?$e:ad(e,$e,l);W(C,we,!1)})}),Jx(C,_,_.getRng()),e.nodeChanged()}else kN(e,n,a);YD(n,e)}Iw(e,n,i,a)},uR=function(e){return pr(e,"vars")},FN=function(e,n){e.set({}),n.on("NodeChange",function(a){py(n,a.element,e.get())}),n.on("FormatApply FormatRemove",function(a){var i=K.from(a.node).map(function(l){return k0(l)?l:l.startContainer}).bind(function(l){return In(l)?K.some(l):K.from(l.parentElement)}).getOrThunk(function(){return sR(n)});py(n,i,e.get())})},sR=function(e){return e.selection.getStart()},t4=function(e,n,a,i,l){var f=function(C){var _=e.formatter.matchNode(C,a,l??{},i);return!He(_)},p=function(C){return VD(e,C,a)?!0:i?!1:mn(e.formatter.matchNode(C,a,l,!0))};return Rt(n,f,p)},lR=function(e,n){var a=n??sR(e);return Qe(Kp(e.dom,a),function(i){return In(i)&&!fo(i)})},py=function(e,n,a){var i=lR(e,n);Hr(a,function(l,f){var p=function(C){var _=t4(e,i,f,C.similar,uR(C)?C.vars:void 0),$=_.isSome();if(C.state.get()!==$){C.state.set($);var F=_.getOr(n);uR(C)?C.callback($,{node:F,format:f,parents:i}):Be(C.callbacks,function(V){return V($,{node:F,format:f,parents:i})})}};Be([l.withSimilar,l.withoutSimilar],p),Be(l.withVars,p)})},HN=function(e,n,a,i,l,f){var p=n.get();Be(a.split(","),function(C){var _=Qr(p,C).getOrThunk(function(){var V={withSimilar:{state:hu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:hu(!1),similar:!1,callbacks:[]},withVars:[]};return p[C]=V,V}),$=function(){var V=lR(e);return t4(e,V,C,l,f).isSome()};if(He(f)){var F=l?_.withSimilar:_.withoutSimilar;F.callbacks.push(i),F.callbacks.length===1&&F.state.set($())}else _.withVars.push({state:hu($()),similar:l,vars:f,callback:i})}),n.set(p)},VN=function(e,n,a){var i=e.get();Be(n.split(","),function(l){return Qr(i,l).each(function(f){i[l]={withSimilar:Mn(Mn({},f.withSimilar),{callbacks:Qe(f.withSimilar.callbacks,function(p){return p!==a})}),withoutSimilar:Mn(Mn({},f.withoutSimilar),{callbacks:Qe(f.withoutSimilar.callbacks,function(p){return p!==a})}),withVars:Qe(f.withVars,function(p){return p.callback!==a})}})}),e.set(i)},UN=function(e,n,a,i,l,f){return n.get()===null&&FN(n,e),HN(e,n,a,i,l,f),{unbind:function(){return VN(n,a,i)}}},WN=function(e,n,a,i){var l=e.formatter.get(n);kC(e,n,a,i)&&(!("toggle"in l[0])||l[0].toggle)?Q3(e,n,a,i):e4(e,n,a,i)},Sk=function(e,n){var a=n||document,i=a.createDocumentFragment();return Be(e,function(l){i.appendChild(l.dom)}),De.fromDom(i)},xk=function(e,n,a){return{element:e,width:n,rows:a}},n4=function(e,n){return{element:e,cells:n}},cR=function(e,n){return{x:e,y:n}},_k=function(e,n){var a=parseInt(q(e,n),10);return isNaN(a)?1:a},fR=function(e,n,a,i,l){for(var f=_k(l,"rowspan"),p=_k(l,"colspan"),C=e.rows,_=a;_<a+f;_++){C[_]||(C[_]=n4(Gb(i),[]));for(var $=n;$<n+p;$++){var F=C[_].cells;F[$]=_===a&&$===n?l:Bo(l)}}},jN=function(e,n,a){var i=e.rows,l=i[a]?i[a].cells:[];return!!l[n]},GN=function(e,n,a){for(;jN(e,n,a);)n++;return n},vR=function(e){return Et(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},dR=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var l=a[i].cells,f=0;f<l.length;f++)if(_a(l[f],n))return K.some(cR(f,i));return K.none()},mR=function(e,n,a,i,l){for(var f=[],p=e.rows,C=a;C<=l;C++){var _=p[C].cells,$=n<i?_.slice(n,i+1):_.slice(i,n+1);f.push(n4(p[C].element,$))}return f},r4=function(e,n,a){var i=n.x,l=n.y,f=a.x,p=a.y,C=l<p?mR(e,i,l,f,p):mR(e,i,p,f,l);return xk(e.element,vR(C),C)},a4=function(e,n){var a=Bo(e.element),i=De.fromTag("tbody");return Mf(i,n),Io(a,i),a},hR=function(e){return je(e.rows,function(n){var a=je(n.cells,function(l){var f=Gb(l);return Je(f,"colspan"),Je(f,"rowspan"),f}),i=Bo(n.element);return Mf(i,a),i})},kk=function(e){var n=xk(Bo(e),0,[]);return Be(Ai(e,"tr"),function(a,i){Be(Ai(a,"td,th"),function(l,f){fR(n,GN(n,f,i),i,a,l)})}),xk(n.element,vR(n.rows),n.rows)},Il=function(e){return a4(e,hR(e))},DC=function(e,n,a){return dR(e,n).bind(function(i){return dR(e,a).map(function(l){return r4(e,i,l)})})},b1=function(e){return sn(e,function(n){return yo(n)==="ul"||yo(n)==="ol"})},qN=function(e,n){return sn(e,function(a){return yo(a)==="li"&&$l(a,n)}).fold(Y([]),function(a){return b1(e).map(function(i){var l=De.fromTag(yo(i)),f=ni(Xa(i),function(p,C){return co(C,"list-style")});return br(l,f),[De.fromTag("li"),l]}).getOr([])})},gR=function(e,n){var a=Et(n,function(i,l){return Io(l,i),l},e);return n.length>0?Sk([a]):a},pR=function(e){return Hi(e)?Ka(e).filter(kl).fold(Y([]),function(n){return[e,n]}):kl(e)?[e]:[]},KN=function(e,n){var a=De.fromDom(n.commonAncestorContainer),i=gc(a,e),l=Qe(i,function(C){return Zi(C)||zn(C)}),f=qN(i,n),p=l.concat(f.length?f:pR(a));return je(p,Bo)},bR=function(){return Sk([])},XN=function(e,n){return gR(De.fromDom(n.cloneContents()),KN(e,n))},yR=function(e,n){return Pd(n,"table",ft(_a,e))},Ak=function(e,n){return yR(e,n[0]).bind(function(a){var i=n[0],l=n[n.length-1],f=kk(a);return DC(f,i,l).map(function(p){return Sk([Il(p)])})}).getOrThunk(bR)},wR=function(e,n){return n.length>0&&n[0].collapsed?bR():XN(e,n[0])},CR=function(e,n){var a=nv(n,e);return a.length>0?Ak(e,a):wR(e,n)},Ek=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},Tk=function(e,n){return n>=0&&n<e.length&&rd(e.charAt(n))},SR=function(e,n){var a=ac(e.innerText);return n?Ek(a):a},YN=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},JN=function(e){return K.from(e.selection.getRng()).map(function(n){var a=K.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),l=YN(a),f=Rn.browser.isIE()&&l!=="pre",p=e.dom.add(i,l,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),C=SR(p,f),_=ac(p.textContent);if(e.dom.remove(p),Tk(_,0)||Tk(_,_.length-1)){var $=a.getOr(i),F=SR($,f),V=F.indexOf(C);if(V===-1)return C;var W=Tk(F,V-1),te=Tk(F,V+C.length);return(W?" ":"")+C+(te?" ":"")}else return C}).getOr("")},ZN=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),l=e.selection.getSel(),f=K0(e,Ew(l)),p=n.contextual?CR(De.fromDom(e.getBody()),f).dom:a.cloneContents();return p&&i.appendChild(p),e.selection.serializer.serialize(i,n)},QN=function(e,n){return Mn(Mn({},e),{format:n,get:!0,selection:!0})},eI=function(e,n,a){a===void 0&&(a={});var i=QN(a,n),l=e.fire("BeforeGetContent",i);if(l.isDefaultPrevented())return e.fire("GetContent",l),l.content;if(l.format==="text")return JN(e);l.getInner=!0;var f=ZN(e,l);return l.format==="tree"?f:(l.content=e.selection.isCollapsed()?"":f,e.fire("GetContent",l),l.content)},o4=0,xR=1,_R=2,tI=function(e,n){var a=e.length+n.length+2,i=new Array(a),l=new Array(a),f=function(F,V,W){return{start:F,end:V,diag:W}},p=function(F,V,W,te,re){var ue=_(F,V,W,te);if(ue===null||ue.start===V&&ue.diag===V-te||ue.end===F&&ue.diag===F-W)for(var se=F,be=W;se<V||be<te;)se<V&&be<te&&e[se]===n[be]?(re.push([o4,e[se]]),++se,++be):V-F>te-W?(re.push([_R,e[se]]),++se):(re.push([xR,n[be]]),++be);else{p(F,ue.start,W,ue.start-ue.diag,re);for(var ge=ue.start;ge<ue.end;++ge)re.push([o4,e[ge]]);p(ue.end,V,ue.end-ue.diag,te,re)}},C=function(F,V,W,te){for(var re=F;re-V<te&&re<W&&e[re]===n[re-V];)++re;return f(F,re,V)},_=function(F,V,W,te){var re=V-F,ue=te-W;if(re===0||ue===0)return null;var se=re-ue,be=ue+re,ge=(be%2===0?be:be+1)/2;i[1+ge]=F,l[1+ge]=V+1;var $e,Oe,we,Ie,ot;for($e=0;$e<=ge;++$e){for(Oe=-$e;Oe<=$e;Oe+=2){for(we=Oe+ge,Oe===-$e||Oe!==$e&&i[we-1]<i[we+1]?i[we]=i[we+1]:i[we]=i[we-1]+1,Ie=i[we],ot=Ie-F+W-Oe;Ie<V&&ot<te&&e[Ie]===n[ot];)i[we]=++Ie,++ot;if(se%2!==0&&se-$e<=Oe&&Oe<=se+$e&&l[we-se]<=i[we])return C(l[we-se],Oe+F-W,V,te)}for(Oe=se-$e;Oe<=se+$e;Oe+=2){for(we=Oe+ge-se,Oe===se-$e||Oe!==se+$e&&l[we+1]<=l[we-1]?l[we]=l[we+1]-1:l[we]=l[we-1],Ie=l[we]-1,ot=Ie-F+W-Oe;Ie>=F&&ot>=W&&e[Ie]===n[ot];)l[we]=Ie--,ot--;if(se%2===0&&-$e<=Oe&&Oe<=$e&&l[we]<=i[we+se])return C(l[we],Oe+F-W,V,te)}}},$=[];return p(0,e.length,0,n.length,$),$},kR=function(e){return In(e)?e.outerHTML:rn(e)?Os.encodeRaw(e.data,!1):Hf(e)?"<!--"+e.data+"-->":""},i4=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},nI=function(e,n,a){var i=i4(n);if(e.hasChildNodes()&&a<e.childNodes.length){var l=e.childNodes[a];l.parentNode.insertBefore(i,l)}else e.appendChild(i)},by=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},AR=function(e,n){var a=0;Be(e,function(i){i[0]===o4?a++:i[0]===xR?(nI(n,i[1],a),a++):i[0]===_R&&by(n,a)})},Jo=function(e){return Qe(je(mr(e.childNodes),kR),function(n){return n.length>0})},rI=function(e,n){var a=je(mr(n.childNodes),kR);return AR(tI(a,e),n),n},aI=Oc(function(){return document.implementation.createHTMLDocument("undo")}),oI=function(e){return e.indexOf("</iframe>")!==-1},iI=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},ff=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},yy=function(e){var n=Jo(e.getBody()),a=gr(n,function(l){var f=U_(e.serializer,l);return f.length>0?[f]:[]}),i=a.join("");return oI(i)?iI(a):ff(i)},y1=function(e,n,a){var i=a?n.beforeBookmark:n.bookmark;n.type==="fragmented"?rI(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:mn(i)&&Wx(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},w1=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},Ok=function(e){var n=De.fromTag("body",aI());return bu(n,w1(e)),Be(Ai(n,"*[data-mce-bogus]"),Nf),pu(n)},uI=function(e,n){return w1(e)===w1(n)},sI=function(e,n){return Ok(e)===Ok(n)},xm=function(e,n){return!e||!n?!1:uI(e,n)?!0:sI(e,n)},Bg=function(e){return e.get()===0},_m=function(e,n,a){Bg(a)&&(e.typing=n)},Dk=function(e,n){e.typing&&(_m(e,!1,n),e.add())},lI=function(e){e.typing&&(e.typing=!1,e.add())},u4=function(e,n,a){Bg(n)&&a.set(yx(e.selection))},ER=function(e,n,a,i,l,f,p){var C=yy(e);if(f=f||{},f=et.extend(f,C),Bg(i)===!1||e.removed)return null;var _=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:f,lastLevel:_,originalEvent:p}).isDefaultPrevented()||_&&xm(_,f))return null;n.data[a.get()]&&l.get().each(function(W){n.data[a.get()].beforeBookmark=W});var $=jp(e);if($&&n.data.length>$){for(var F=0;F<n.data.length-1;F++)n.data[F]=n.data[F+1];n.data.length--,a.set(n.data.length)}f.bookmark=yx(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(f),a.set(n.data.length-1);var V={level:f,lastLevel:_,originalEvent:p};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",V),e.fire("change",V)):e.fire("AddUndo",V),f},TR=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},cI=function(e,n,a,i,l){if(n.transact(i)){var f=n.data[a.get()].bookmark,p=n.data[a.get()-1];y1(e,p,!0),n.transact(l)&&(n.data[a.get()-1].beforeBookmark=f)}},fI=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],y1(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},OR=function(e,n,a,i){var l;return n.typing&&(n.add(),n.typing=!1,_m(n,!1,a)),i.get()>0&&(i.set(i.get()-1),l=n.data[i.get()],y1(e,l,!0),e.setDirty(!0),e.fire("Undo",{level:l})),l},vI=function(e){e.clear(),e.add()},dI=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!xm(yy(e),n.data[0])},mI=function(e,n){return n.get()<e.data.length-1&&!e.typing},hI=function(e,n,a){return Dk(e,n),e.beforeChange(),e.ignore(a),e.add()},gI=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},DR=function(e,n){var a=e.dom,i=mn(n)?n:e.getBody();He(e.hasVisual)&&(e.hasVisual=Rx(e)),Be(a.select("table,a",i),function(l){switch(l.nodeName){case"TABLE":var f=dT(e),p=a.getAttrib(l,"border");(!p||p==="0")&&e.hasVisual?a.addClass(l,f):a.removeClass(l,f);break;case"A":if(!a.getAttrib(l,"href")){var C=a.getAttrib(l,"name")||l.id,_=rw(e);C&&e.hasVisual?a.addClass(l,_):a.removeClass(l,_)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},RR=function(e){return{undoManager:{beforeChange:function(n,a){return u4(e,n,a)},add:function(n,a,i,l,f,p){return ER(e,n,a,i,l,f,p)},undo:function(n,a,i){return OR(e,n,a,i)},redo:function(n,a){return fI(e,n,a)},clear:function(n,a){return TR(e,n,a)},reset:function(n){return vI(n)},hasUndo:function(n,a){return dI(e,n,a)},hasRedo:function(n,a){return mI(n,a)},transact:function(n,a,i){return hI(n,a,i)},ignore:function(n,a){return gI(n,a)},extra:function(n,a,i,l){return cI(e,n,a,i,l)}},formatter:{match:function(n,a,i,l){return kC(e,n,a,i,l)},matchAll:function(n,a){return F3(e,n,a)},matchNode:function(n,a,i,l){return au(e,n,a,i,l)},canApply:function(n){return CN(e,n)},closest:function(n){return H3(e,n)},apply:function(n,a,i){return e4(e,n,a,i)},remove:function(n,a,i,l){return Q3(e,n,a,i,l)},toggle:function(n,a,i){return WN(e,n,a,i)},formatChanged:function(n,a,i,l,f){return UN(e,n,a,i,l,f)}},editor:{getContent:function(n,a){return ey(e,n,a)},setContent:function(n,a){return bN(e,n,a)},insertContent:function(n,a){return dN(e,n,a)},addVisual:function(n){return DR(e,n)}},selection:{getContent:function(n,a){return eI(e,n,a)}},raw:{getModel:function(){return K.none()}}}},RC=function(e){var n=function(C){return Me(C)?C:{}},a=e.undoManager,i=e.formatter,l=e.editor,f=e.selection,p=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(C,_,$){return a.transact($)},ignore:function(C,_){return a.ignore(_)},extra:function(C,_,$,F){return a.extra($,F)}},formatter:{match:function(C,_,$,F){return i.match(C,n(_),F)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(C){return i.canApply(C)},closest:function(C){return i.closest(C)},apply:function(C,_,$){return i.apply(C,n(_))},remove:function(C,_,$,F){return i.remove(C,n(_))},toggle:function(C,_,$){return i.toggle(C,n(_))},formatChanged:function(C,_,$,F,V){return i.formatChanged(_,$,F,V)}},editor:{getContent:function(C,_){return l.getContent(C)},setContent:function(C,_){return l.setContent(C,_)},insertContent:function(C,_){return l.insertContent(C)},addVisual:l.addVisual},selection:{getContent:function(C,_){return f.getContent(_)}},raw:{getModel:function(){return K.some(p.getRawModel())}}}},BR=function(){var e=Y(null),n=Y("");return{undoManager:{beforeChange:Qt,add:e,undo:e,redo:e,clear:Qt,reset:Qt,hasUndo:Dt,hasRedo:Dt,transact:e,ignore:Qt,extra:Qt},formatter:{match:Dt,matchAll:Y([]),matchNode:Y(void 0),canApply:Dt,closest:n,apply:Qt,remove:Qt,toggle:Qt,formatChanged:Y({unbind:Qt})},editor:{getContent:n,setContent:n,insertContent:Qt,addVisual:Qt},selection:{getContent:n},raw:{getModel:Y(K.none())}}},km=function(e){return pr(e.plugins,"rtc")},$R=function(e){return Qr(e.plugins,"rtc").bind(function(n){return K.from(n.setup)})},pI=function(e){var n=e;return $R(e).fold(function(){return n.rtcInstance=RR(e),K.none()},function(a){return n.rtcInstance=BR(),K.some(function(){return a().then(function(i){return n.rtcInstance=RC(i),i.rtc.isRemote})})})},Rk=function(e){return e.rtcInstance?e.rtcInstance:RR(e)},Ri=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},bI=function(e,n,a){Ri(e).undoManager.beforeChange(n,a)},MR=function(e,n,a,i,l,f,p){return Ri(e).undoManager.add(n,a,i,l,f,p)},PR=function(e,n,a,i){return Ri(e).undoManager.undo(n,a,i)},NR=function(e,n,a){return Ri(e).undoManager.redo(n,a)},IR=function(e,n,a){Ri(e).undoManager.clear(n,a)},zR=function(e,n){Ri(e).undoManager.reset(n)},yI=function(e,n,a){return Ri(e).undoManager.hasUndo(n,a)},wI=function(e,n,a){return Ri(e).undoManager.hasRedo(n,a)},CI=function(e,n,a,i){return Ri(e).undoManager.transact(n,a,i)},SI=function(e,n,a){Ri(e).undoManager.ignore(n,a)},s4=function(e,n,a,i,l){Ri(e).undoManager.extra(n,a,i,l)},BC=function(e,n,a,i,l){return Ri(e).formatter.match(n,a,i,l)},LR=function(e,n,a){return Ri(e).formatter.matchAll(n,a)},FR=function(e,n,a,i,l){return Ri(e).formatter.matchNode(n,a,i,l)},Bk=function(e,n){return Ri(e).formatter.canApply(n)},xI=function(e,n){return Ri(e).formatter.closest(n)},_I=function(e,n,a,i){Ri(e).formatter.apply(n,a,i)},$g=function(e,n,a,i,l){Ri(e).formatter.remove(n,a,i,l)},l4=function(e,n,a,i){Ri(e).formatter.toggle(n,a,i)},HR=function(e,n,a,i,l,f){return Ri(e).formatter.formatChanged(n,a,i,l,f)},$C=function(e,n,a){return Rk(e).editor.getContent(n,a)},VR=function(e,n,a){return Rk(e).editor.setContent(n,a)},UR=function(e,n,a){return Rk(e).editor.insertContent(n,a)},WR=function(e,n,a){return Ri(e).selection.getContent(n,a)},jR=function(e,n){return Ri(e).editor.addVisual(n)},kI=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return WR(e,a,n)},GR=function(e){return e.dom.length===0?(oo(e),K.none()):K.some(e)},AI=function(e,n){return e.filter(function(a){return ud.isBookmarkNode(a.dom)}).bind(n?Ss:Bf)},c4=function(e,n,a,i){var l=e.dom,f=n.dom,p=i?l.length:f.length;i?(u(l,f,!1,!i),a.setStart(f,p)):(u(f,l,!1,!i),a.setEnd(f,p))},EI=function(e,n){Ka(e).each(function(a){var i=e.dom;n&&iy(a,Ke(i,0))?m1(i,0):!n&&uy(a,Ke(i,i.length))&&ly(i,i.length)})},qR=function(e,n,a,i){e.bind(function(l){var f=i?ly:m1;return f(l.dom,i?l.dom.length:0),n.filter(Fa).map(function(p){return c4(l,p,a,i)})}).orThunk(function(){var l=AI(n,i).or(n).filter(Fa);return l.map(function(f){return EI(f,i)})})},MC=function(e,n){var a=K.from(n.firstChild).map(De.fromDom),i=K.from(n.lastChild).map(De.fromDom);e.deleteContents(),e.insertNode(n);var l=a.bind(Bf).filter(Fa).bind(GR),f=i.bind(Ss).filter(Fa).bind(GR);qR(l,a,e,!0),qR(f,i,e,!1),e.collapse(!1)},f4=function(e,n){return Mn(Mn({format:"html"},e),{set:!0,selection:!0,content:n})},TI=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),l=i?{context:i.nodeName.toLowerCase()}:{},f=e.parser.parse(n.content,Mn(Mn({isRootContent:!0,forced_root_block:!1},l),n));return Sm({validate:e.validate},e.schema).serialize(f)}else return n.content},KR=function(e,n,a){a===void 0&&(a={});var i=f4(a,n),l=i;if(!i.no_events){var f=e.fire("BeforeSetContent",i);if(f.isDefaultPrevented()){e.fire("SetContent",f);return}else l=f}l.content=TI(e,l);var p=e.selection.getRng();MC(p,p.createContextualFragment(l.content)),e.selection.setRng(p),r1(e,p),l.no_events||e.fire("SetContent",l)},XR=function(e,n,a){if(e&&pr(e,n)){var i=Qe(e[n],function(l){return l!==a});i.length===0?delete e[n]:e[n]=i}};function $k(e,n){var a,i,l=function(p,C){return sn(C,function(_){return e.is(_,p)})},f=function(p){return e.getParents(p,null,e.getRoot())};return{selectorChangedWithUnbind:function(p,C){return a||(a={},i={},n.on("NodeChange",function(_){var $=_.element,F=f($),V={};et.each(a,function(W,te){l(te,F).each(function(re){i[te]||(Be(W,function(ue){ue(!0,{node:re,selector:te,parents:F})}),i[te]=W),V[te]=W})}),et.each(i,function(W,te){V[te]||(delete i[te],et.each(W,function(re){re(!1,{node:$,selector:te,parents:F})}))})})),a[p]||(a[p]=[]),a[p].push(C),l(p,f(n.selection.getStart())).each(function(){i[p]=a[p]}),{unbind:function(){XR(a,p,C),XR(i,p,C)}}}}}var v4=function(e){return!!e.select},YR=function(e){return!!(e&&e.ownerDocument)&&Ni(De.fromDom(e.ownerDocument),De.fromDom(e))},vi=function(e){return e?v4(e)?!0:YR(e.startContainer)&&YR(e.endContainer):!1},JR=function(e,n,a,i){var l,f,p=$k(e,i).selectorChangedWithUnbind,C=function(ht,nn){var dr=e.createRng();mn(ht)&&mn(nn)?(dr.setStart(ht,nn),dr.setEnd(ht,nn),$e(dr),se(!1)):(od(e,dr,i.getBody(),!0),$e(dr))},_=function(ht){return kI(i,ht)},$=function(ht,nn){return KR(i,ht,nn)},F=function(ht){return Cm(i.getBody(),ge(),ht)},V=function(ht){return gg(i.getBody(),ge(),ht)},W=function(ht,nn){return zt.getBookmark(ht,nn)},te=function(ht){return zt.moveToBookmark(ht)},re=function(ht,nn){return i3(e,ht,nn).each($e),ht},ue=function(){var ht=ge(),nn=be();return!ht||ht.item?!1:ht.compareEndPoints?ht.compareEndPoints("StartToEnd",ht)===0:!nn||ht.collapsed},se=function(ht){var nn=ge();nn.collapse(!!ht),$e(nn)},be=function(){return n.getSelection?n.getSelection():n.document.selection},ge=function(){var ht,nn,dr,jr=function(Za,Vu,vs){try{return Vu.compareBoundaryPoints(Za,vs)}catch{return-1}},zr=n.document;if(i.bookmark!==void 0&&il(i)===!1){var Bi=dg(i);if(Bi.isSome())return Bi.map(function(Za){return K0(i,[Za])[0]}).getOr(zr.createRange())}try{(ht=be())&&!Pc(ht.anchorNode)&&(ht.rangeCount>0?nn=ht.getRangeAt(0):nn=ht.createRange?ht.createRange():zr.createRange(),nn=K0(i,[nn])[0])}catch{}return nn||(nn=zr.createRange?zr.createRange():zr.body.createTextRange()),nn.setStart&&nn.startContainer.nodeType===9&&nn.collapsed&&(dr=e.getRoot(),nn.setStart(dr,0),nn.setEnd(dr,0)),l&&f&&(jr(nn.START_TO_START,nn,l)===0&&jr(nn.END_TO_END,nn,l)===0?nn=f:(l=null,f=null)),nn},$e=function(ht,nn){var dr;if(vi(ht)){var jr=v4(ht)?ht:null;if(jr){f=null;try{jr.select()}catch{}return}var zr=be(),Bi=i.fire("SetSelectionRange",{range:ht,forward:nn});if(ht=Bi.range,zr){f=ht;try{zr.removeAllRanges(),zr.addRange(ht)}catch{}nn===!1&&zr.extend&&(zr.collapse(ht.endContainer,ht.endOffset),zr.extend(ht.startContainer,ht.startOffset)),l=zr.rangeCount>0?zr.getRangeAt(0):null}!ht.collapsed&&ht.startContainer===ht.endContainer&&zr.setBaseAndExtent&&!Rn.ie&&ht.endOffset-ht.startOffset<2&&ht.startContainer.hasChildNodes()&&(dr=ht.startContainer.childNodes[ht.startOffset],dr&&dr.tagName==="IMG"&&(zr.setBaseAndExtent(ht.startContainer,ht.startOffset,ht.endContainer,ht.endOffset),(zr.anchorNode!==ht.startContainer||zr.focusNode!==ht.endContainer)&&zr.setBaseAndExtent(dr,0,dr,1))),i.fire("AfterSetSelectionRange",{range:ht,forward:nn})}},Oe=function(ht){return $(e.getOuterHTML(ht)),ht},we=function(){return I_(i.getBody(),ge())},Ie=function(ht,nn){return q0(e,ge(),ht,nn)},ot=function(){var ht=be(),nn=ht==null?void 0:ht.anchorNode,dr=ht==null?void 0:ht.focusNode;if(!ht||!nn||!dr||Pc(nn)||Pc(dr))return!0;var jr=e.createRng();jr.setStart(nn,ht.anchorOffset),jr.collapse(!0);var zr=e.createRng();return zr.setStart(dr,ht.focusOffset),zr.collapse(!0),jr.compareBoundaryPoints(jr.START_TO_START,zr)<=0},wt=function(){var ht=ge(),nn=be();if(!Ow(nn)&&id(i)){var dr=I0(e,ht);return dr.each(function(jr){$e(jr,ot())}),dr.getOr(ht)}return ht},Bn=function(ht,nn){return p(ht,nn),Ot},tn=function(){for(var ht,nn=e.getRoot();nn&&nn.nodeName!=="BODY";){if(nn.scrollHeight>nn.clientHeight){ht=nn;break}nn=nn.parentNode}return ht},dt=function(ht,nn){mn(ht)?QT(i,ht,nn):r1(i,ge(),nn)},On=function(ht,nn){return $e(Fw(ht,nn,i.getDoc()))},kt=function(){var ht=ge();return ht.collapsed?Ke.fromRangeStart(ht).getClientRects()[0]:ht.getBoundingClientRect()},Yt=function(){n=l=f=null,un.destroy()},Ot={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:se,setCursorLocation:C,getContent:_,setContent:$,getBookmark:W,moveToBookmark:te,select:re,isCollapsed:ue,isForward:ot,setNode:Oe,getNode:we,getSel:be,setRng:$e,getRng:ge,getStart:F,getEnd:V,getSelectedBlocks:Ie,normalize:wt,selectorChanged:Bn,selectorChangedWithUnbind:p,getScrollContainer:tn,scrollIntoView:dt,placeCaretAt:On,getBoundingClientRect:kt,destroy:Yt},zt=ud(Ot),un=zw(Ot,i);return Ot.bookmarkManager=zt,Ot.controlSelection=un,Ot},ZR=function(e,n){Be(n,function(a){e.attr(a,null)})},OI=function(e,n,a){e.addNodeFilter("font",function(i){Be(i,function(l){var f=n.parse(l.attr("style")),p=l.attr("color"),C=l.attr("face"),_=l.attr("size");p&&(f.color=p),C&&(f["font-family"]=C),_&&(f["font-size"]=a[parseInt(l.attr("size"),10)-1]),l.name="span",l.attr("style",n.serialize(f)),ZR(l,["color","face","size"])})})},DI=function(e,n){e.addNodeFilter("strike",function(a){Be(a,function(i){var l=n.parse(i.attr("style"));l["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(l))})})},QR=function(e,n){var a=Ol();n.convert_fonts_to_spans&&OI(e,a,et.explode(n.font_size_legacy_values)),DI(e,a)},RI=function(e,n){n.inline_styles&&QR(e,n)},d4=function(e){return new oi(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="blob",l.onload=function(){l.status===200?n(l.response):i()},l.onerror=i,l.send()}catch{i()}})},m4=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},h4=function(e,n){var a;try{a=atob(n)}catch{return K.none()}for(var i=new Uint8Array(a.length),l=0;l<i.length;l++)i[l]=a.charCodeAt(l);return K.some(new Blob([i],{type:e}))},g4=function(e){return new oi(function(n){var a=m4(e),i=a.type,l=a.data;h4(i,l).fold(function(){return n(new Blob([]))},n)})},eB=function(e){return e.indexOf("blob:")===0?d4(e):e.indexOf("data:")===0?g4(e):null},BI=function(e){return new oi(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},$I=0,p4=function(e){return(e||"blobid")+$I++},MI=function(e,n,a,i){var l,f;if(n.src.indexOf("blob:")===0){f=e.getByUri(n.src),f?a({image:n,blobInfo:f}):eB(n.src).then(function($){BI($).then(function(F){l=m4(F).data,f=e.create(p4(),$,l),e.add(f),a({image:n,blobInfo:f})})},function($){i($)});return}var p=m4(n.src),C=p.data,_=p.type;l=C,f=e.getByData(l,_),f?a({image:n,blobInfo:f}):eB(n.src).then(function($){f=e.create(p4(),$,l),e.add(f),a({image:n,blobInfo:f})},function($){i($)})},tB=function(e){return e?mr(e.getElementsByTagName("img")):[]},nB=function(e,n){var a={},i=function(l,f){f||(f=en);var p=Qe(tB(l),function(_){var $=_.src;return!Rn.fileApi||_.hasAttribute("data-mce-bogus")||_.hasAttribute("data-mce-placeholder")||!$||$===Rn.transparentSrc?!1:$.indexOf("blob:")===0?!e.isUploaded($)&&f(_):$.indexOf("data:")===0?f(_):!1}),C=je(p,function(_){if(a[_.src]!==void 0)return new oi(function(F){a[_.src].then(function(V){if(typeof V=="string")return V;F({image:_,blobInfo:V.blobInfo})})});var $=new oi(function(F,V){MI(n,_,F,V)}).then(function(F){return delete a[F.image.src],F}).catch(function(F){return delete a[_.src],F});return a[_.src]=$,$});return oi.all(C)};return{findAll:i}},PC=function(e,n,a,i){var l=e.padd_empty_with_br||n.insert;l&&a[i.name]?i.empty().append(new ul("br",1)).shortEnded=!0:i.empty().append(new ul("#text",3)).value=ns},rB=function(e){return b4(e,"#text")&&e.firstChild.value===ns},b4=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},aB=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},wy=function(e,n,a,i){return i.isEmpty(n,a,function(l){return aB(e,l)})},oB=function(e,n){return e&&(pr(n,e.name)||e.name==="br")},iB=function(e){return mn(e.attr("data-mce-bogus"))},PI=function(e){return e.attr("src")===Rn.transparentSrc||mn(e.attr("data-mce-placeholder"))},y4=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),Hr(e.attributes.map,function(i,l){a.setAttribute(l,i)}),n.images_dataimg_filter(a)}else return!0},NI=function(e,n){var a=n.blob_cache,i=function(l){var f=l.attr("src");PI(l)||iB(l)||L_(f).filter(function(){return y4(l,n)}).bind(function(p){var C=p.type,_=p.data;return K.from(a.getByData(_,C)).orThunk(function(){return h4(C,_).map(function($){var F=a.create(p4(),$,_);return a.add(F),F})})}).each(function(p){l.attr("src",p.blobUri())})};a&&e.addAttributeFilter("src",function(l){return Be(l,i)})},Mk=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,l,f){var p,C=i.length,_,$=et.extend({},a.getBlockElements()),F=a.getNonEmptyElements(),V,W,te,re,ue=a.getWhiteSpaceElements(),se,be;for($.body=1,p=0;p<C;p++)if(_=i[p],V=_.parent,$[_.parent.name]&&_===V.lastChild){for(te=_.prev;te;){if(re=te.name,re!=="span"||te.attr("data-mce-type")!=="bookmark"){re==="br"&&(_=null);break}te=te.prev}_&&(_.remove(),wy(a,F,ue,V)&&(se=a.getElementRule(V.name),se&&(se.removeEmpty?V.remove():se.paddEmpty&&PC(n,f,$,V))))}else{for(W=_;V&&V.firstChild===W&&V.lastChild===W&&(W=V,!$[V.name]);)V=V.parent;W===V&&n.padd_empty_with_br!==!0&&(be=new ul("#text",3),be.value=ns,_.replace(be))}}),e.addAttributeFilter("href",function(i){var l=i.length,f=function(_){var $=_.split(" ").filter(function(F){return F.length>0});return $.concat(["noopener"]).sort().join(" ")},p=function(_){var $=_?et.trim(_):"";return/\b(noopener)\b/g.test($)?$:f($)};if(!n.allow_unsafe_link_target)for(;l--;){var C=i[l];C.name==="a"&&C.attr("target")==="_blank"&&C.attr("rel",p(C.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var l=i.length,f,p,C,_;l--;)if(_=i[l],_.name==="a"&&_.firstChild&&!_.attr("href")){C=_.parent,f=_.lastChild;do p=f.prev,C.insert(f,_),f=p;while(f)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var l=i.length,f,p;l--;)if(f=i[l],p=f.parent,p.name==="ul"||p.name==="ol")if(f.prev&&f.prev.name==="li")f.prev.append(f);else{var C=new ul("li",1);C.attr("style","list-style-type: none"),f.wrap(C)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var l=a.getValidClasses(),f=i.length;f--;){for(var p=i[f],C=p.attr("class").split(" "),_="",$=0;$<C.length;$++){var F=C[$],V=!1,W=l["*"];W&&W[F]&&(V=!0),W=l[p.name],!V&&W&&W[F]&&(V=!0),V&&(_&&(_+=" "),_+=F)}_.length||(_=null),p.attr("class",_)}}),NI(e,n)},uB=et.makeMap,sB=et.each,lB=et.explode,cB=et.extend,Pk=function(e,n){n===void 0&&(n=Ds());var a={},i=[],l={},f={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var p=function(re){for(var ue=uB("tr,td,th,tbody,thead,tfoot,table"),se=n.getNonEmptyElements(),be=n.getWhiteSpaceElements(),ge=n.getTextBlockElements(),$e=n.getSpecialElements(),Oe=function(zt,un){if(un===void 0&&(un=zt.parent),$e[zt.name])zt.empty().remove();else{for(var ht=zt.children(),nn=0,dr=ht;nn<dr.length;nn++){var jr=dr[nn];n.isValidChild(un.name,jr.name)||Oe(jr,un)}zt.unwrap()}},we=0;we<re.length;we++){var Ie=re[we],ot=void 0,wt=void 0,Bn=void 0;if(!(!Ie.parent||Ie.fixed)){if(ge[Ie.name]&&Ie.parent.name==="li"){for(var tn=Ie.next;tn&&ge[tn.name];){tn.name="li",tn.fixed=!0,Ie.parent.insert(tn,Ie.parent);tn=tn.next}Ie.unwrap();continue}var dt=[Ie];for(ot=Ie.parent;ot&&!n.isValidChild(ot.name,Ie.name)&&!ue[ot.name];ot=ot.parent)dt.push(ot);if(ot&&dt.length>1)if(n.isValidChild(ot.name,Ie.name)){dt.reverse(),wt=C(dt[0].clone());for(var On=wt,kt=0;kt<dt.length-1;kt++){n.isValidChild(On.name,dt[kt].name)?(Bn=C(dt[kt].clone()),On.append(Bn)):Bn=On;for(var Yt=dt[kt].firstChild;Yt&&Yt!==dt[kt+1];){var Ot=Yt.next;Bn.append(Yt),Yt=Ot}On=Bn}wy(n,se,be,wt)?ot.insert(Ie,dt[0],!0):(ot.insert(wt,dt[0],!0),ot.insert(Ie,wt)),ot=dt[0],(wy(n,se,be,ot)||b4(ot,"br"))&&ot.empty().remove()}else Oe(Ie);else if(Ie.parent){if(Ie.name==="li"){var tn=Ie.prev;if(tn&&(tn.name==="ul"||tn.name==="ol")){tn.append(Ie);continue}if(tn=Ie.next,tn&&(tn.name==="ul"||tn.name==="ol")){tn.insert(Ie,tn.firstChild,!0);continue}Ie.wrap(C(new ul("ul",1)));continue}n.isValidChild(Ie.parent.name,"div")&&n.isValidChild("div",Ie.name)?Ie.wrap(C(new ul("div",1))):Oe(Ie)}}}},C=function(re){var ue=re.name;if(ue in a){var se=l[ue];se?se.push(re):l[ue]=[re]}for(var be=i.length;be--;){var ge=i[be].name;if(ge in re.attributes.map){var se=f[ge];se?se.push(re):f[ge]=[re]}}return re},_=function(re,ue){sB(lB(re),function(se){var be=a[se];be||(a[se]=be=[]),be.push(ue)})},$=function(){var re=[];for(var ue in a)pr(a,ue)&&re.push({name:ue,callbacks:a[ue]});return re},F=function(re,ue){sB(lB(re),function(se){var be;for(be=0;be<i.length;be++)if(i[be].name===se){i[be].callbacks.push(ue);return}i.push({name:se,callbacks:[ue]})})},V=function(){return[].concat(i)},W=function(re,ue){var se,be,ge,$e,Oe,we,Ie,ot=[],wt,Bn=function(ze){return ze===!1?"":ze===!0?"p":ze};ue=ue||{},l={},f={};var tn=cB(uB("script,style,head,html,body,title,meta,param"),n.getBlockElements()),dt=wb(n),On=n.getNonEmptyElements(),kt=n.children,Yt=e.validate,Ot="forced_root_block"in ue?ue.forced_root_block:e.forced_root_block,zt=Bn(Ot),un=n.getWhiteSpaceElements(),ht=/^[ \t\r\n]+/,nn=/[ \t\r\n]+$/,dr=/[ \t\r\n]+/g,jr=/^[ \t\r\n]+$/,zr=pr(un,ue.context)||pr(un,e.root_name),Bi=function(){var ze=pn.firstChild,xt=null,pt=function(An){An&&(ze=An.firstChild,ze&&ze.type===3&&(ze.value=ze.value.replace(ht,"")),ze=An.lastChild,ze&&ze.type===3&&(ze.value=ze.value.replace(nn,"")))};if(n.isValidChild(pn.name,zt.toLowerCase())){for(;ze;){var wn=ze.next;ze.type===3||ze.type===1&&ze.name!=="p"&&!tn[ze.name]&&!ze.attr("data-mce-type")?(xt||(xt=Za(zt,1),xt.attr(e.forced_root_block_attrs),pn.insert(xt,ze)),xt.append(ze)):(pt(xt),xt=null),ze=wn}pt(xt)}},Za=function(ze,xt){var pt=new ul(ze,xt),wn;return ze in a&&(wn=l[ze],wn?wn.push(pt):l[ze]=[pt]),pt},Vu=function(ze){for(var xt=n.getBlockElements(),pt=ze.prev;pt&&pt.type===3;){var wn=pt.value.replace(nn,"");if(wn.length>0){pt.value=wn;return}var An=pt.next;if(An){if(An.type===3&&An.value.length){pt=pt.prev;continue}if(!xt[An.name]&&An.name!=="script"&&An.name!=="style"){pt=pt.prev;continue}}var ga=pt.prev;pt.remove(),pt=ga}},vs=function(ze){var xt={};for(var pt in ze)pt!=="li"&&pt!=="p"&&(xt[pt]=ze[pt]);return xt},gt=function(ze){for(var xt=ze;mn(xt);){if(xt.name in dt)return wy(n,On,un,xt);xt=xt.parent}return!1},$t=pg({validate:Yt,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:vs(n.getSelfClosingElements()),cdata:function(ze){wt.append(Za("#cdata",4)).value=ze},text:function(ze,xt){var pt;zr||(ze=ze.replace(dr," "),oB(wt.lastChild,tn)&&(ze=ze.replace(ht,""))),ze.length!==0&&(pt=Za("#text",3),pt.raw=!!xt,wt.append(pt).value=ze)},comment:function(ze){wt.append(Za("#comment",8)).value=ze},pi:function(ze,xt){wt.append(Za(ze,7)).value=xt,Vu(wt)},doctype:function(ze){var xt=wt.append(Za("#doctype",10));xt.value=ze,Vu(wt)},start:function(ze,xt,pt){var wn=Yt?n.getElementRule(ze):{};if(wn){var An=Za(wn.outputName||ze,1);An.attributes=xt,An.shortEnded=pt,wt.append(An);var ga=kt[wt.name];ga&&kt[An.name]&&!ga[An.name]&&ot.push(An);for(var Zo=i.length;Zo--;){var Go=i[Zo].name;Go in xt.map&&(we=f[Go],we?we.push(An):f[Go]=[An])}tn[ze]&&Vu(An),pt||(wt=An),!zr&&un[ze]&&(zr=!0)}},end:function(ze){var xt,pt,wn,An=Yt?n.getElementRule(ze):{};if(An){if(tn[ze]&&!zr){if(xt=wt.firstChild,xt&&xt.type===3)if(pt=xt.value.replace(ht,""),pt.length>0)xt.value=pt,xt=xt.next;else for(wn=xt.next,xt.remove(),xt=wn;xt&&xt.type===3;)pt=xt.value,wn=xt.next,(pt.length===0||jr.test(pt))&&(xt.remove(),xt=wn),xt=wn;if(xt=wt.lastChild,xt&&xt.type===3)if(pt=xt.value.replace(nn,""),pt.length>0)xt.value=pt,xt=xt.prev;else for(wn=xt.prev,xt.remove(),xt=wn;xt&&xt.type===3;)pt=xt.value,wn=xt.prev,(pt.length===0||jr.test(pt))&&(xt.remove(),xt=wn),xt=wn}zr&&un[ze]&&(zr=!1);var ga=wy(n,On,un,wt),Zo=wt.parent;An.paddInEmptyBlock&&ga&&gt(wt)?PC(e,ue,tn,wt):An.removeEmpty&&ga?tn[wt.name]?wt.empty().remove():wt.unwrap():An.paddEmpty&&(rB(wt)||ga)&&PC(e,ue,tn,wt),wt=Zo}}},n),pn=wt=new ul(ue.context||e.root_name,11);if($t.parse(re,ue.format),Yt&&ot.length&&(ue.context?ue.invalid=!0:p(ot)),zt&&(pn.name==="body"||ue.isRootContent)&&Bi(),!ue.invalid){for(Ie in l)if(pr(l,Ie)){for(we=a[Ie],se=l[Ie],$e=se.length;$e--;)se[$e].parent||se.splice($e,1);for(be=0,ge=we.length;be<ge;be++)we[be](se,Ie,ue)}for(be=0,ge=i.length;be<ge;be++)if(we=i[be],we.name in f){for(se=f[we.name],$e=se.length;$e--;)se[$e].parent||se.splice($e,1);for($e=0,Oe=we.callbacks.length;$e<Oe;$e++)we.callbacks[$e](se,we.name,ue)}}return pn},te={schema:n,addAttributeFilter:F,getAttributeFilters:V,addNodeFilter:_,getNodeFilters:$,filterNode:C,parse:W};return Mk(te,e),RI(te,e),te},II=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,l){for(var f=i.length;f--;){var p=i[f];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(l,null)}}),e.addAttributeFilter("src,href,style",function(i,l){for(var f="data-mce-"+l,p=n.url_converter,C=n.url_converter_scope,_=i.length;_--;){var $=i[_],F=$.attr(f);F!==void 0?($.attr(l,F.length>0?F:null),$.attr(f,null)):(F=$.attr(l),l==="style"?F=a.serializeStyle(a.parseStyle(F),$.name):p&&(F=p.call(C,F,l,$.name)),$.attr(l,F.length>0?F:null))}}),e.addAttributeFilter("class",function(i){for(var l=i.length;l--;){var f=i[l],p=f.attr("class");p&&(p=f.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",function(i,l,f){for(var p=i.length;p--;){var C=i[p];if(C.attr("data-mce-type")==="bookmark"&&!f.cleanup){var _=K.from(C.firstChild).exists(function($){return!vu($.value)});_?C.unwrap():C.remove()}}}),e.addNodeFilter("noscript",function(i){for(var l=i.length;l--;){var f=i[l].firstChild;f&&(f.value=Os.decode(f.value))}}),e.addNodeFilter("script,style",function(i,l){for(var f=function(F){return F.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},p=i.length;p--;){var C=i[p],_=C.firstChild?C.firstChild.value:"";if(l==="script"){var $=C.attr("type");$&&C.attr("type",$==="mce-no/type"?null:$.replace(/^mce\-/,"")),n.element_format==="xhtml"&&_.length>0&&(C.firstChild.value=`// <![CDATA[
`+f(_)+`
// ]]>`)}else n.element_format==="xhtml"&&_.length>0&&(C.firstChild.value=`<!--
`+f(_)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var l=i.length;l--;){var f=i[l];n.preserve_cdata&&f.value.indexOf("[CDATA[")===0?(f.name="#cdata",f.type=4,f.value=a.decode(f.value.replace(/^\[CDATA\[|\]\]$/g,""))):f.value.indexOf("mce:protected ")===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(f.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,l){for(var f=i.length;f--;){var p=i[f];p.type===7?p.remove():p.type===1&&l==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){Be(i,function(l){l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,l){for(var f=i.length;f--;)i[f].attr(l,null)})},zI=function(e){var n=function(l){return l&&l.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},LI=function(e,n,a){var i,l=e.dom,f=n.cloneNode(!0),p=document.implementation;if(p.createHTMLDocument){var C=p.createHTMLDocument("");et.each(f.nodeName==="BODY"?f.childNodes:[f],function(_){C.body.appendChild(C.importNode(_,!0))}),f.nodeName!=="BODY"?f=C.body.firstChild:f=C.body,i=l.doc,l.doc=C}return zT(e,Mn(Mn({},a),{node:f})),i&&(l.doc=i),f},FI=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},fB=function(e,n,a){return FI(e,a)?LI(e,n,a):n},HI=function(e,n,a){et.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,l){for(var f=i.length;f--;)i[f].attr(l,null)}),n.push(a))},VI=function(e,n,a){if(!n.no_events&&e){var i=Mw(e,Mn(Mn({},n),{content:a}));return i.content}else return a},UI=function(e,n,a){var i=ac(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||Nd(De.fromDom(n))?i:et.trim(i)},WI=function(e,n,a){var i=a.selection?Mn({forced_root_block:!1},a):a,l=e.parse(n,i);return zI(l),l},jI=function(e,n,a){var i=Sm(e,n);return i.serialize(a)},GI=function(e,n,a,i,l){var f=jI(n,a,i);return VI(e,l,f)},qI=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:Ta.DOM,l=n&&n.schema?n.schema:Ds(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var f=Pk(e,l);II(f,e,i);var p=function(C,_){_===void 0&&(_={});var $=Mn({format:"html"},_),F=fB(n,C,$),V=UI(i,F,$),W=WI(f,V,$);return $.format==="tree"?W:GI(n,e,l,W,$)};return{schema:l,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:p,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:ft(HI,f,a),getTempAttrs:Y(a),getNodeFilters:f.getNodeFilters,getAttributeFilters:f.getAttributeFilters}},vB=function(e,n){var a=qI(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},dB="html",KI=function(e,n){n===void 0&&(n={});var a=n.format?n.format:dB;return $C(e,n,a)},w4=function(e,n,a){return a===void 0&&(a={}),VR(e,n,a)},Nk=Ta.DOM,XI=function(e){Nk.setStyle(e.id,"display",e.orgDisplay)},Ik=function(e){return K.from(e).each(function(n){return n.destroy()})},NC=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},YI=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),Nk.unbind(n,"submit reset",e.formEventDelegate))},JI=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),l=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&l&&Nk.remove(l.nextSibling),e_(e),e.editorManager.remove(e),!e.inline&&i&&XI(e),t_(e),Nk.remove(e.getContainer()),Ik(n),Ik(a),e.destroy()}},mB=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Ik(a),Ik(i)),YI(e),NC(e),e.destroyed=!0}},hB=function(e,n){var a=Me(e)&&Me(n);return a?gB(e,n):n},ZI=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},l=0;l<n.length;l++){var f=n[l];for(var p in f)pr(f,p)&&(i[p]=e(i[p],f[p]))}return i}},gB=ZI(hB),QI="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),IC="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),pB="imagetools,toc".split(","),bB=function(e){var n=Qe(QI,function(i){return pr(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&n.push("forced_root_block (false only)"),Pa(n)},ez=function(e){var n=et.makeMap(e.plugins," "),a=function(l){return pr(n,l)},i=Au(Au([],Qe(IC,a),!0),gr(pB,function(l){return a(l)?[l+" (moving to premium)"]:[]}),!0);return Pa(i)},yB=function(e,n){var a=bB(e),i=ez(n),l=i.length>0,f=a.length>0,p=n.theme==="mobile";if(l||f||p){var C=`
- `,_=p?`

Themes:`+C+"mobile":"",$=l?`

Plugins:`+C+i.join(C):"",F=f?`

Settings:`+C+a.join(C):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+_+$+F)}},tz=function(e,n){return{sections:Y(e),settings:Y(n)}},C4=bn().deviceType,nz=C4.isTouch(),S4=C4.isPhone(),rz=C4.isTablet(),az=["lists","autolink","autosave"],wB={table_grid:!1,object_resizing:!1,resize:!1},Cy=function(e){var n=rt(e)?e.join(" "):e,a=je(Ct(n)?n.split(" "):[],qs);return Qe(a,function(i){return i.length>0})},oz=function(e){return Qe(e,ft(pe,az))},iz=function(e,n){var a=Xr(n,function(i,l){return pe(e,l)});return tz(a.t,a.f)},zC=function(e,n,a){a===void 0&&(a={});var i=e.sections(),l=Qr(i,n).getOr({});return et.extend({},a,l)},LC=function(e,n){return pr(e.sections(),n)},CB=function(e,n,a){var i=e.sections();return LC(e,n)&&i[n].theme===a},uz=function(e,n){return LC(e,n)?e.sections()[n]:{}},SB=function(e,n){return Qr(e,"toolbar_mode").orThunk(function(){return Qr(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},sz=function(e,n,a,i,l){var f={id:n,theme:"silver",toolbar_mode:SB(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l};return Mn(Mn({},f),i?wB:{})},xB=function(e,n){var a={resize:!1,toolbar_mode:SB(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return Mn(Mn(Mn({},wB),a),n?i:{})},lz=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?et.extend({},e.external_plugins,a):a},cz=function(e,n){return[].concat(Cy(e)).concat(Cy(n))},fz=function(e,n,a,i){return e&&CB(n,"mobile","mobile")?oz(i):e&&LC(n,"mobile")?i:a},vz=function(e,n,a,i){var l=Cy(a.forced_plugins),f=Cy(i.plugins),p=uz(n,"mobile"),C=p.plugins?Cy(p.plugins):f,_=fz(e,n,f,C),$=cz(l,_);if(Rn.browser.isIE()&&pe($,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return et.extend(i,{plugins:$.join(" ")})},dz=function(e,n){return e&&LC(n,"mobile")},Cu=function(e,n,a,i,l){var f=e?{mobile:xB(l.mobile||{},n)}:{},p=iz(["mobile"],gB(f,l)),C=et.extend(a,i,p.settings(),dz(e,p)?zC(p,"mobile"):{},{validate:!0,external_plugins:lz(i,p.settings())});return vz(e,p,i,C)},_B=function(e,n,a,i,l){var f=sz(l,n,a,nz,e),p=Cu(S4||rz,S4,f,i,l);return p.deprecation_warnings!==!1&&yB(l,p),p},C1=function(e,n,a){return K.from(n.settings[a]).filter(e)},mz=function(e){var n={};return typeof e=="string"?Be(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[et.trim(i[0])]=et.trim(i[1]):n[et.trim(i[0])]=et.trim(i[0])}):n=e,n},hz=function(e){return function(n){return rt(n)&&na(n,e)}},gz=function(e,n,a,i){var l=n in e.settings?e.settings[n]:a;return i==="hash"?mz(l):i==="string"?C1(Ct,e,n).getOr(a):i==="number"?C1(Cn,e,n).getOr(a):i==="boolean"?C1(tt,e,n).getOr(a):i==="object"?C1(Me,e,n).getOr(a):i==="array"?C1(rt,e,n).getOr(a):i==="string[]"?C1(hz(Ct),e,n).getOr(a):i==="function"?C1(Nt,e,n).getOr(a):l},Ir=function(){var e={},n=function(l,f){e[l]=f},a=function(l){return e[l]?e[l]:{icons:{}}},i=function(l){return pr(e,l)};return{add:n,get:a,has:i}},zk=Ir(),kB=function(e,n){var a=n.dom;return a[e]},AB=function(e,n){return parseInt(er(n,e),10)},xo=ft(kB,"clientWidth"),pz=ft(kB,"clientHeight"),FC=ft(AB,"margin-top"),bz=ft(AB,"margin-left"),yz=function(e){return e.dom.getBoundingClientRect()},wz=function(e,n,a){var i=xo(e),l=pz(e);return n>=0&&a>=0&&n<=i&&a<=l},EB=function(e,n,a,i){var l=yz(n),f=e?l.left+n.dom.clientLeft+bz(n):0,p=e?l.top+n.dom.clientTop+FC(n):0,C=a-f,_=i-p;return{x:C,y:_}},Am=function(e,n,a){var i=De.fromDom(e.getBody()),l=e.inline?i:Zu(i),f=EB(e.inline,l,n,a);return wz(l,f.x,f.y)},zl=function(e){return K.from(e).map(De.fromDom)},HC=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return zl(n).map(If).getOr(!1)},S1=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},cv=function(e){var n=[],a=function(){var W=e.theme;return W&&W.getNotificationManagerImpl?W.getNotificationManagerImpl():S1()},i=function(){return K.from(n[0])},l=function(W,te){return W.type===te.type&&W.text===te.text&&!W.progressBar&&!W.timeout&&!te.progressBar&&!te.timeout},f=function(){n.length>0&&a().reposition(n)},p=function(W){n.push(W)},C=function(W){Pn(n,function(te){return te===W}).each(function(te){n.splice(te,1)})},_=function(W,te){if(te===void 0&&(te=!0),!(e.removed||!HC(e)))return te&&e.fire("BeforeOpenNotification",{notification:W}),sn(n,function(re){return l(a().getArgs(re),W)}).getOrThunk(function(){e.editorManager.setActive(e);var re=a().open(W,function(){C(re),f(),i().fold(function(){return e.focus()},function(ue){return L0(De.fromDom(ue.getEl()))})});return p(re),f(),e.fire("OpenNotification",{notification:Mn({},re)}),re})},$=function(){i().each(function(W){a().close(W),C(W),f()})},F=Y(n),V=function(W){W.on("SkinLoaded",function(){var te=Ex(W);te&&_({text:te,type:"warning",timeout:0},!1),f()}),W.on("show ResizeEditor ResizeWindow NodeChange",function(){Fi.requestAnimationFrame(f)}),W.on("remove",function(){Be(n.slice(),function(te){a().close(te)})})};return V(e),{open:_,close:$,getNotifications:F}},sl=Pu.PluginManager,bd=Pu.ThemeManager;function x4(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var _4=function(e){var n=[],a=function(){var ue=e.theme;return ue&&ue.getWindowManagerImpl?ue.getWindowManagerImpl():x4()},i=function(ue,se){return function(){for(var be=[],ge=0;ge<arguments.length;ge++)be[ge]=arguments[ge];return se?se.apply(ue,be):void 0}},l=function(ue){e.fire("OpenWindow",{dialog:ue})},f=function(ue){e.fire("CloseWindow",{dialog:ue})},p=function(ue){n.push(ue),l(ue)},C=function(ue){f(ue),n=Qe(n,function(se){return se!==ue}),n.length===0&&e.focus()},_=function(){return K.from(n[n.length-1])},$=function(ue){e.editorManager.setActive(e),H0(e);var se=ue();return p(se),se},F=function(ue,se){return $(function(){return a().open(ue,se,C)})},V=function(ue){return $(function(){return a().openUrl(ue,C)})},W=function(ue,se,be){var ge=a();ge.alert(ue,i(be||ge,se))},te=function(ue,se,be){var ge=a();ge.confirm(ue,i(be||ge,se))},re=function(){_().each(function(ue){a().close(ue),C(ue)})};return e.on("remove",function(){Be(n,function(ue){a().close(ue)})}),{open:F,openUrl:V,alert:W,confirm:te,close:re}},k4=function(e,n){e.notificationManager.open({type:"error",text:n})},Lk=function(e,n){e._skinLoaded?k4(e,n):e.on("SkinLoaded",function(){k4(e,n)})},TB=function(e,n){Lk(e,gu.translate(["Failed to upload image: {0}",n]))},Fk=function(e,n,a){M0(e,n,{message:a}),console.error(a)},A4=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},Hk=function(e,n,a){Fk(e,"PluginLoadError",A4("plugin",n,a))},Cz=function(e,n,a){Fk(e,"IconsLoadError",A4("icons",n,a))},VC=function(e,n,a){Fk(e,"LanguageLoadError",A4("language",n,a))},OB=function(e,n,a){var i=gu.translate(["Failed to initialize plugin: {0}",n]);M0(e,"PluginLoadError",{message:i}),UC(i,a),Lk(e,i)},UC=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,Au([e],n,!1)):i.log.apply(i,Au([e],n,!1)))},Em=function(e){return/^[a-z0-9\-]+$/i.test(e)},E4=function(e){return DB(e,xx(e))},Sz=function(e){return DB(e,_x(e))},DB=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,l="content"+i+".css",f=e.inline===!0;return je(n,function(p){return Em(p)&&!f?a+"/"+p+"/"+l:e.documentBaseURI.toAbsolute(p)})},xz=function(e){e.contentCSS=e.contentCSS.concat(E4(e),Sz(e))},x1=function(){var e=1,n=2,a={},i=function(W,te){return{status:W,resultUri:te}},l=function(W){return W in a},f=function(W){var te=a[W];return te?te.resultUri:null},p=function(W){return l(W)?a[W].status===e:!1},C=function(W){return l(W)?a[W].status===n:!1},_=function(W){a[W]=i(e,null)},$=function(W,te){a[W]=i(n,te)},F=function(W){delete a[W]},V=function(){a={}};return{hasBlobUri:l,getResultUri:f,isPending:p,isUploaded:C,markPending:_,markUploaded:$,removeFailed:F,destroy:V}},_z=0,kz=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},Gi=function(e){return e+_z+++kz()},Az=function(){var e=[],n=function(V){var W={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return W[V.toLowerCase()]||"dat"},a=function(V,W,te,re,ue){if(Ct(V)){var se=V;return i({id:se,name:re,filename:ue,blob:W,base64:te})}else{if(Me(V))return i(V);throw new Error("Unknown input type")}},i=function(V){if(!V.blob||!V.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var W=V.id||Gi("blobid"),te=V.name||W,re=V.blob;return{id:Y(W),name:Y(te),filename:Y(V.filename||te+"."+n(re.type)),blob:Y(re),base64:Y(V.base64),blobUri:Y(V.blobUri||URL.createObjectURL(re)),uri:Y(V.uri)}},l=function(V){p(V.id())||e.push(V)},f=function(V){return sn(e,V).getOrUndefined()},p=function(V){return f(function(W){return W.id()===V})},C=function(V){return f(function(W){return W.blobUri()===V})},_=function(V,W){return f(function(te){return te.base64()===V&&te.blob().type===W})},$=function(V){e=Qe(e,function(W){return W.blobUri()===V?(URL.revokeObjectURL(W.blobUri()),!1):!0})},F=function(){Be(e,function(V){URL.revokeObjectURL(V.blobUri())}),e=[]};return{create:a,add:l,get:p,getByUri:C,getByData:_,findFirst:f,removeByUri:$,destroy:F}},RB=function(e,n){var a={},i=function(re,ue){return re?re.replace(/\/$/,"")+"/"+ue.replace(/^\//,""):ue},l=function(re,ue,se,be){var ge=new XMLHttpRequest;ge.open("POST",n.url),ge.withCredentials=n.credentials,ge.upload.onprogress=function(Oe){be(Oe.loaded/Oe.total*100)},ge.onerror=function(){se("Image upload failed due to a XHR Transport error. Code: "+ge.status)},ge.onload=function(){if(ge.status<200||ge.status>=300){se("HTTP Error: "+ge.status);return}var Oe=JSON.parse(ge.responseText);if(!Oe||typeof Oe.location!="string"){se("Invalid JSON: "+ge.responseText);return}ue(i(n.basePath,Oe.location))};var $e=new FormData;$e.append("file",re.blob(),re.filename()),ge.send($e)},f=function(){return new oi(function(re){re([])})},p=function(re,ue){return{url:ue,blobInfo:re,status:!0}},C=function(re,ue,se){return{url:"",blobInfo:re,status:!1,error:{message:ue,options:se}}},_=function(re,ue){et.each(a[re],function(se){se(ue)}),delete a[re]},$=function(re,ue,se){return e.markPending(re.blobUri()),new oi(function(be){var ge,$e;try{var Oe=function(){ge&&(ge.close(),$e=Qt)},we=function(ot){Oe(),e.markUploaded(re.blobUri(),ot),_(re.blobUri(),p(re,ot)),be(p(re,ot))},Ie=function(ot,wt){var Bn=wt||{};Oe(),e.removeFailed(re.blobUri()),_(re.blobUri(),C(re,ot,Bn)),be(C(re,ot,Bn))};$e=function(ot){ot<0||ot>100||K.from(ge).orThunk(function(){return K.from(se).map(P)}).each(function(wt){ge=wt,wt.progressBar.value(ot)})},ue(re,we,Ie,$e)}catch(ot){be(C(re,ot.message,{}))}})},F=function(re){return re===l},V=function(re){var ue=re.blobUri();return new oi(function(se){a[ue]=a[ue]||[],a[ue].push(se)})},W=function(re,ue){return re=et.grep(re,function(se){return!e.isUploaded(se.blobUri())}),oi.all(et.map(re,function(se){return e.isPending(se.blobUri())?V(se):$(se,n.handler,ue)}))},te=function(re,ue){return!n.url&&F(n.handler)?f():W(re,ue)};return Nt(n.handler)===!1&&(n.handler=l),{upload:te}},T4=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},O4=function(e,n){return RB(n,{url:nT(e),basePath:Zv(e),credentials:Qv(e),handler:rT(e)})},BB=function(e){var n=x1(),a=O4(e,n);return{upload:function(i,l){return l===void 0&&(l=!0),a.upload(i,l?T4(e):void 0)}}},D4=function(e){var n=hu(null);e.on("change AddUndo",function(i){n.set(Mn({},i.level))});var a=function(){var i=e.undoManager.data;Sa(i).filter(function(l){return!xm(n.get(),l)}).each(function(l){e.setDirty(!0),e.fire("change",{level:l,lastLevel:Ea(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},Ez=function(e){var n=Az(),a,i,l=x1(),f=[],p=D4(e),C=function(Oe){return function(we){return e.selection?Oe(we):[]}},_=function(Oe){return Oe+(Oe.indexOf("?")===-1?"?":"&")+new Date().getTime()},$=function(Oe,we,Ie){var ot=0;do ot=Oe.indexOf(we,ot),ot!==-1&&(Oe=Oe.substring(0,ot)+Ie+Oe.substr(ot+we.length),ot+=Ie.length-we.length+1);while(ot!==-1);return Oe},F=function(Oe,we,Ie){var ot='src="'+Ie+'"'+(Ie===Rn.transparentSrc?' data-mce-placeholder="1"':"");return Oe=$(Oe,'src="'+we+'"',ot),Oe=$(Oe,'data-mce-src="'+we+'"','data-mce-src="'+Ie+'"'),Oe},V=function(Oe,we){Be(e.undoManager.data,function(Ie){Ie.type==="fragmented"?Ie.fragments=je(Ie.fragments,function(ot){return F(ot,Oe,we)}):Ie.content=F(Ie.content,Oe,we)})},W=function(Oe,we){var Ie=e.convertURL(we,"src");V(Oe.src,we),e.$(Oe).attr({src:Z2(e)?_(we):we,"data-mce-src":Ie})},te=function(Oe){return a||(a=O4(e,l)),be().then(C(function(we){var Ie=je(we,function(ot){return ot.blobInfo});return a.upload(Ie,T4(e)).then(C(function(ot){var wt=[],Bn=je(ot,function(tn,dt){var On=we[dt].blobInfo,kt=we[dt].image;return tn.status&&tT(e)?(n.removeByUri(kt.src),km(e)||W(kt,tn.url)):tn.error&&(tn.error.options.remove&&(V(kt.getAttribute("src"),Rn.transparentSrc),wt.push(kt)),TB(e,tn.error.message)),{element:kt,status:tn.status,uploadUri:tn.url,blobInfo:On}});return Bn.length>0&&p.fireIfChanged(),wt.length>0&&(km(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){Be(wt,function(tn){e.dom.remove(tn),n.removeByUri(tn.src)})})),Oe&&Oe(Bn),Bn}))}))},re=function(Oe){if(Up(e))return te(Oe)},ue=function(Oe){if(na(f,function(Ie){return Ie(Oe)})===!1)return!1;if(Oe.getAttribute("src").indexOf("data:")===0){var we=i0(e);return we(Oe)}return!0},se=function(Oe){f.push(Oe)},be=function(){return i||(i=nB(l,n)),i.findAll(e.getBody(),ue).then(C(function(Oe){return Oe=Qe(Oe,function(we){return typeof we=="string"?(Lk(e,we),!1):!0}),km(e)||Be(Oe,function(we){V(we.image.src,we.blobInfo.blobUri()),we.image.src=we.blobInfo.blobUri(),we.image.removeAttribute("data-mce-src")}),Oe}))},ge=function(){n.destroy(),l.destroy(),i=a=null},$e=function(Oe){return Oe.replace(/src="(blob:[^"]+)"/g,function(we,Ie){var ot=l.getResultUri(Ie);if(ot)return'src="'+ot+'"';var wt=n.getByUri(Ie);if(wt||(wt=Et(e.editorManager.get(),function(tn,dt){return tn||dt.editorUpload&&dt.editorUpload.blobCache.getByUri(Ie)},null)),wt){var Bn=wt.blob();return'src="data:'+Bn.type+";base64,"+wt.base64()+'"'}return we})};return e.on("SetContent",function(){Up(e)?re():be()}),e.on("RawSaveContent",function(Oe){Oe.content=$e(Oe.content)}),e.on("GetContent",function(Oe){Oe.source_view||Oe.format==="raw"||Oe.format==="tree"||(Oe.content=$e(Oe.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(Oe){Be(Oe,function(we){var Ie=we.attr("src");if(!n.getByUri(Ie)){var ot=l.getResultUri(Ie);ot&&we.attr("src",ot)}})})}),{blobCache:n,addFilter:se,uploadImages:te,uploadImagesAuto:re,scanForImages:be,destroy:ge}},Tz=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,l){return In(a)&&a.hasAttribute("href")},onformat:function(a,i,l){et.each(l,function(f,p){e.setAttrib(a,p,f)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return et.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},Oz=function(e){var n={},a=function(p){return mn(p)?n[p]:n},i=function(p){return pr(n,p)},l=function(p,C){p&&(Ct(p)?(rt(C)||(C=[C]),Be(C,function(_){He(_.deep)&&(_.deep=!us(_)),He(_.split)&&(_.split=!us(_)||Oi(_)),He(_.remove)&&us(_)&&!Oi(_)&&(_.remove="none"),us(_)&&Oi(_)&&(_.mixed=!0,_.block_expand=!0),Ct(_.classes)&&(_.classes=_.classes.split(/\s+/))}),n[p]=C):Hr(p,function(_,$){l($,_)}))},f=function(p){return p&&n[p]&&delete n[p],n};return l(Tz(e.dom)),l(oT(e)),{get:a,has:i,register:l,unregister:f}},Vk=et.each,cs=Ta.DOM,fv=function(e,n){var a,i,l,f=n&&n.schema||Ds({}),p=function(F,V){V.classes.length&&cs.addClass(F,V.classes.join(" ")),cs.setAttribs(F,V.attrs)},C=function(F){i=typeof F=="string"?{name:F,classes:[],attrs:{}}:F;var V=cs.create(i.name);return p(V,i),V},_=function(F,V){var W=typeof F!="string"?F.nodeName.toLowerCase():F,te=f.getElementRule(W),re=te&&te.parentsRequired;return re&&re.length?V&&et.inArray(re,V)!==-1?V:re[0]:!1},$=function(F,V,W){var te,re,ue=V.length>0&&V[0],se=ue&&ue.name,be=_(F,se);if(be)se===be?(re=V[0],V=V.slice(1)):re=be;else if(ue)re=V[0],V=V.slice(1);else if(!W)return F;return re&&(te=C(re),te.appendChild(F)),W&&(te||(te=cs.create("div"),te.appendChild(F)),et.each(W,function(ge){var $e=C(ge);te.insertBefore($e,F)})),$(te,V,re&&re.siblings)};return e&&e.length?(i=e[0],a=C(i),l=cs.create("div"),l.appendChild($(a,e.slice(1),i.siblings)),l):""},Dz=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=et.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,l,f,p,C){switch(l){case"#":a.attrs.id=f;break;case".":a.classes.push(f);break;case":":et.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(a.attrs[f]=f);break}if(p==="["){var _=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);_&&(a.attrs[_[1]]=_[2])}return""})),a.name=n||"div",a},Rz=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),et.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=et.map(n.split(/(?:~\+|~|\+)/),Dz),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},Bz=function(e,n){var a,i,l="",f,p=Vh(e);if(p==="")return"";var C=function(V){return V.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var _=Qr(n,"preview");if(Md(_,!1))return"";p=_.getOr(p)}a=n.block||n.inline||"span";var $=Rz(n.selector);$.length?($[0].name||($[0].name=a),a=n.selector,i=fv($,e)):i=fv([a],e);var F=cs.select(a,i)[0]||i.firstChild;return Vk(n.styles,function(V,W){var te=C(V);te&&cs.setStyle(F,W,te)}),Vk(n.attributes,function(V,W){var te=C(V);te&&cs.setAttrib(F,W,te)}),Vk(n.classes,function(V){var W=C(V);cs.hasClass(F,W)||cs.addClass(F,W)}),e.fire("PreviewFormats"),cs.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),f=cs.getStyle(e.getBody(),"fontSize",!0),f=/px$/.test(f)?parseInt(f,10):0,Vk(p.split(" "),function(V){var W=cs.getStyle(F,V,!0);if(!(V==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(W)&&(W=cs.getStyle(e.getBody(),V,!0),cs.toHex(W).toLowerCase()==="#ffffff"))&&!(V==="color"&&cs.toHex(W).toLowerCase()==="#000000")){if(V==="font-size"&&/em|%$/.test(W)){if(f===0)return;var te=parseFloat(W)/(/%$/.test(W)?100:1);W=te*f+"px"}V==="border"&&W&&(l+="padding:0 2px;"),l+=V+":"+W+";"}}),e.fire("AfterPreviewFormats"),cs.remove(i),l},$z=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},$B=function(e){var n=Oz(e),a=hu(null);return $z(e),G3(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,l,f){_I(e,i,l,f)},remove:function(i,l,f,p){$g(e,i,l,f,p)},toggle:function(i,l,f){l4(e,i,l,f)},match:function(i,l,f,p){return BC(e,i,l,f,p)},closest:function(i){return xI(e,i)},matchAll:function(i,l){return LR(e,i,l)},matchNode:function(i,l,f,p){return FR(e,i,l,f,p)},canApply:function(i){return Bk(e,i)},formatChanged:function(i,l,f,p){return HR(e,a,i,l,f,p)},getCssText:ft(Bz,e)}},_o=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},MB=function(e,n,a){var i=hu(!1),l=function(_){_m(n,!1,a),n.add({},_)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(_){var $=_.command;_o($)||(Dk(n,a),n.beforeChange())}),e.on("ExecCommand",function(_){var $=_.command;_o($)||l(_)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",function(_){var $=_.keyCode;_.isDefaultPrevented()||(($>=33&&$<=36||$>=37&&$<=40||$===45||_.ctrlKey)&&(l(),e.nodeChanged()),($===46||$===8)&&e.nodeChanged(),i.get()&&n.typing&&xm(yy(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(_){var $=_.keyCode;if(!_.isDefaultPrevented()){if($>=33&&$<=36||$>=37&&$<=40||$===45){n.typing&&l(_);return}var F=_.ctrlKey&&!_.altKey||_.metaKey;($<16||$>20)&&$!==224&&$!==91&&!n.typing&&!F&&(n.beforeChange(),_m(n,!0,a),n.add({},_),i.set(!0))}}),e.on("mousedown",function(_){n.typing&&l(_)});var f=function(_){return _.inputType==="insertReplacementText"},p=function(_){return _.inputType==="insertText"&&_.data===null},C=function(_){return _.inputType==="insertFromPaste"||_.inputType==="insertFromDrop"};e.on("input",function(_){_.inputType&&(f(_)||p(_)||C(_))&&l(_)}),e.on("AddUndo Undo Redo ClearUndos",function(_){_.isDefaultPrevented()||e.nodeChanged()})},PB=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},vf=function(e){var n=Xv(),a=hu(0),i=hu(0),l={data:[],typing:!1,beforeChange:function(){bI(e,a,n)},add:function(f,p){return MR(e,l,i,a,n,f,p)},undo:function(){return PR(e,l,a,i)},redo:function(){return NR(e,i,l.data)},clear:function(){IR(e,l,i)},reset:function(){zR(e,l)},hasUndo:function(){return yI(e,l,i)},hasRedo:function(){return wI(e,l,i)},transact:function(f){return CI(e,l,a,f)},ignore:function(f){SI(e,a,f)},extra:function(f,p){s4(e,l,i,f,p)}};return km(e)||MB(e,l,a),PB(e),l},NB=[9,27,$n.HOME,$n.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,$n.DOWN,$n.UP,$n.LEFT,$n.RIGHT].concat(Rn.browser.isFirefox()?[224]:[]),IB="data-mce-placeholder",zB=function(e){return e.type==="keydown"||e.type==="keyup"},Uk=function(e){var n=e.keyCode;return n===$n.BACKSPACE||n===$n.DELETE},Mz=function(e){if(zB(e)){var n=e.keyCode;return!Uk(e)&&($n.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||pe(NB,n))}else return!1},Sy=function(e){return zB(e)&&!(Uk(e)||e.type==="keyup"&&e.keyCode===229)},Pz=function(e,n,a){if(Si(De.fromDom(n),!1)){var i=a==="",l=n.firstElementChild;return l?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(l):a===l.nodeName.toLowerCase():!0}else return!1},LB=function(e){var n=e.dom,a=Ei(e),i=ew(e),l=function(f,p){if(!Mz(f)){var C=e.getBody(),_=Sy(f)?!1:Pz(n,C,a),$=n.getAttrib(C,IB)!=="";($!==_||p)&&(n.setAttrib(C,IB,_?i:null),n.setAttrib(C,"aria-placeholder",_?i:null),a_(e,_),e.on(_?"keydown":"keyup",l),e.off(_?"keyup":"keydown",l))}};i&&e.on("init",function(f){l(f,!0),e.on("change SetContent ExecCommand",l),e.on("paste",function(p){return Fi.setEditorTimeout(e,function(){return l(p)})})})},FB=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,R4=function(e){return FB.test(e)},Mg=function(e,n){return Xl(De.fromDom(n),ev(e))},B4=function(e){return Ta.DOM.getStyle(e,"direction",!0)==="rtl"||R4(e.textContent)},Nz=function(e,n,a){return Qe(Ta.DOM.getParents(a.container(),"*",n),e)},Pg=function(e,n,a){var i=Nz(e,n,a);return K.from(i[i.length-1])},Iz=function(e,n,a){var i=vc(n,e),l=vc(a,e);return i&&i===l},df=function(e){return _n(e)||mb(e)},yc=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?ba(a)?rn(a.nextSibling)?Ke(a.nextSibling,0):Ke.after(a):_n(n)?Ke(a,i+1):n:ba(a)?rn(a.previousSibling)?Ke(a.previousSibling,a.previousSibling.data.length):Ke.before(a):mb(n)?Ke(a,i-1):n},HB=ft(yc,!0),VB=ft(yc,!1),WC=function(e){return function(n){return _a(e,De.fromDom(n.dom.parentNode))}},zz=function(e){return zc(e)||Hi(e)},jC=function(e,n){return Ni(e,n)?vh(n,zz,WC(e)):K.none()},UB=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},$4=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),UB(e))},Lz=function(e,n,a){return Ji(nu(a),rl(a),function(i,l){var f=yc(!0,i),p=yc(!1,l),C=yc(!1,n);return e?Bl(a,C).exists(function(_){return _.isEqual(p)&&n.isEqual(f)}):hc(a,C).exists(function(_){return _.isEqual(f)&&n.isEqual(p)})}).getOr(!0)},Fz=function(e,n){return{block:e,position:n}},Ng=function(e,n){return{from:e,to:n}},M4=function(e,n){var a=De.fromDom(e),i=De.fromDom(n.container());return jC(a,i).map(function(l){return Fz(l,n)})},Hz=function(e){return _a(e.from.block,e.to.block)===!1},Vz=function(e){return Ka(e.from.block).bind(function(n){return Ka(e.to.block).filter(function(a){return _a(n,a)})}).isSome()},Uz=function(e){return Ba(e.from.block.dom)===!1&&Ba(e.to.block.dom)===!1},Wz=function(e,n,a){return ca(a.position.getNode())&&Si(a.block)===!1?tv(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?zu(n,e,i).bind(function(l){return M4(e,l)}):K.some(a)}).getOr(a):a},jz=function(e,n,a){var i=M4(e,Ke.fromRangeStart(a)),l=i.bind(function(f){return zu(n,e,f.position).bind(function(p){return M4(e,p).map(function(C){return Wz(e,n,C)})})});return Ji(i,l,Ng).filter(function(f){return Hz(f)&&Vz(f)&&Uz(f)})},Gz=function(e,n,a){return a.collapsed?jz(e,n,a):K.none()},qz=function(e){var n=Yi(e);return Pn(n,ks).fold(Y(n),function(a){return n.slice(0,a)})},WB=function(e){var n=qz(e);return Be(n,oo),n},jB=function(e,n){var a=gc(n,e);return sn(a.reverse(),function(i){return Si(i)}).each(oo)},Kz=function(e){return Qe(Mr(e),function(n){return!Si(n)}).length===0},Xz=function(e,n,a,i){if(Si(a))return sf(a),nu(a.dom);Kz(i)&&Si(n)&&yi(i,De.fromTag("br"));var l=hc(a.dom,Ke.before(i.dom));return Be(WB(n),function(f){yi(i,f)}),jB(e,n),l},GC=function(e,n,a){if(Si(a))return oo(a),Si(n)&&sf(n),nu(n.dom);var i=rl(a.dom);return Be(WB(n),function(l){Io(a,l)}),jB(e,n),i},Yz=function(e,n){var a=gc(n,e);return K.from(a[a.length-1])},P4=function(e,n){return Ni(n,e)?Yz(n,e):K.none()},GB=function(e,n){tv(e,n.dom).map(function(a){return a.getNode()}).map(De.fromDom).filter(hh).each(oo)},qB=function(e,n,a){return GB(!0,n),GB(!1,a),P4(n,a).fold(ft(GC,e,n,a),ft(Xz,e,n,a))},KB=function(e,n,a,i){return n?qB(e,i,a):qB(e,a,i)},Wk=function(e,n){var a=De.fromDom(e.getBody()),i=Gz(a.dom,n,e.selection.getRng()).bind(function(l){return KB(a,n,l.from.block,l.to.block)});return i.each(function(l){e.selection.setRng(l.toRange())}),i.isSome()},_1=function(e,n){var a=n.getRng();return Ji(jC(e,De.fromDom(a.startContainer)),jC(e,De.fromDom(a.endContainer)),function(i,l){return _a(i,l)===!1?(a.deleteContents(),KB(e,!0,i,l).each(function(f){n.setRng(f.toRange())}),!0):!1}).getOr(!1)},Ig=function(e,n){var a=De.fromDom(n),i=ft(_a,e);return Rv(a,rc,i).isSome()},jk=function(e,n){return Ig(e,n.startContainer)||Ig(e,n.endContainer)},Gk=function(e,n){var a=hc(e.dom,Ke.fromRangeStart(n)).isNone(),i=Bl(e.dom,Ke.fromRangeEnd(n)).isNone();return!jk(e,n)&&a&&i},k1=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},A1=function(e){var n=De.fromDom(e.getBody()),a=e.selection.getRng();return Gk(n,a)?k1(e):_1(n,e.selection)},E1=function(e,n){return e.selection.isCollapsed()?!1:A1(e)},qk=Sl,XB=Ba,vv=function(e,n,a,i,l){return K.from(n._selectionOverrides.showCaret(e,a,i,l))},N4=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},T1=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?K.none():K.some(N4(n))},I4=function(e,n,a){var i=ji(1,e.getBody(),n),l=Ke.fromRangeStart(i),f=l.getNode();if(qh(f))return vv(1,e,f,!l.isAtEnd(),!1);var p=l.getNode(!0);if(qh(p))return vv(1,e,p,!1,!1);var C=e.dom.getParent(l.getNode(),function(_){return XB(_)||qk(_)});return qh(C)?vv(1,e,C,!1,a):K.none()},zg=function(e,n,a){return n.collapsed?I4(e,n,a).getOr(n):n},YB=function(e){return Nl(e)||bg(e)},JB=function(e){return hd(e)||yg(e)},ZB=function(e,n){rn(n)&&n.data.length===0&&e.remove(n)},qC=function(e,n,a,i,l,f){return vv(i,e,f.getNode(!l),l,!0).each(function(p){if(n.collapsed){var C=n.cloneRange();l?C.setEnd(p.startContainer,p.startOffset):C.setStart(p.endContainer,p.endOffset),C.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),ZB(e.dom,a),!0},QB=function(e,n){var a=e.selection.getRng();if(!rn(a.commonAncestorContainer))return!1;var i=n?Ti.Forwards:Ti.Backwards,l=uo(e.getBody()),f=ft(vw,n?l.next:l.prev),p=n?YB:JB,C=Qh(i,e.getBody(),a),_=yc(n,f(C));if(!_||!b0(C,_))return!1;if(p(_))return qC(e,a,C.getNode(),i,n,_);var $=f(_);return $&&p($)&&b0(_,$)?qC(e,a,C.getNode(),i,n,$):!1},KC=function(e,n){return QB(e,n)},e5=function(e){return rc(De.fromDom(e))||Hi(De.fromDom(e))},ll=yn.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Tm=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return In(a)&&a.getAttribute("data-mce-caret")===i},t5=function(e,n,a,i){var l=function(f){return Zi(De.fromDom(f))&&!dc(a,i,e)};return Zh(!n,a).fold(function(){return Zh(n,i).fold(Dt,l)},l)},z4=function(e,n,a,i){var l=i.getNode(n===!1);return jC(De.fromDom(e),De.fromDom(a.getNode())).map(function(f){return Si(f)?ll.remove(f.dom):ll.moveToElement(l)}).orThunk(function(){return K.some(ll.moveToElement(l))})},Om=function(e,n,a){return zu(n,e,a).bind(function(i){return e5(i.getNode())||t5(e,n,a,i)?K.none():n&&Ba(i.getNode())||n===!1&&Ba(i.getNode(!0))?z4(e,n,a,i):n&&hd(a)||n===!1&&Nl(a)?K.some(ll.moveToPosition(i)):K.none()})},mf=function(e,n){return e&&Ba(n.nextSibling)?K.some(ll.moveToElement(n.nextSibling)):e===!1&&Ba(n.previousSibling)?K.some(ll.moveToElement(n.previousSibling)):K.none()},Jz=function(e,n,a){return a.fold(function(i){return K.some(ll.remove(i))},function(i){return K.some(ll.moveToElement(i))},function(i){return dc(n,i,e)?K.none():K.some(ll.moveToPosition(i))})},Zz=function(e,n,a){return Tm(n,a)?mf(n,a.getNode(n===!1)).fold(function(){return Om(e,n,a)},K.some):Om(e,n,a).bind(function(i){return Jz(e,a,i)})},Qz=function(e,n,a){var i=ji(n?1:-1,e,a),l=Ke.fromRangeStart(i),f=De.fromDom(e);return n===!1&&hd(l)?K.some(ll.remove(l.getNode(!0))):n&&Nl(l)?K.some(ll.remove(l.getNode())):n===!1&&Nl(l)&&xg(f,l)?b3(f,l).map(function(p){return ll.remove(p.getNode())}):n&&hd(l)&&Sg(f,l)?Ln(f,l).map(function(p){return ll.remove(p.getNode())}):Zz(e,n,l)},eL=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),hn(e,n,De.fromDom(a)),!0}},tL=function(e,n){return function(a){var i=n?Ke.before(a):Ke.after(a);return e.selection.setRng(i.toRange()),!0}},nL=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},n5=function(e,n){return K.from(mm(e.getBody(),n))},rL=function(e,n){var a=e.selection.getNode();return n5(e,a).filter(Ba).fold(function(){return Qz(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(eL(e,n),tL(e,n),nL(e))})},en)},aL=function(e){Be(Ai(e,".mce-offscreen-selection"),oo)},oL=function(e,n){var a=e.selection.getNode();if(Ba(a)&&!sh(a)){var i=n5(e,a.parentNode).filter(Ba);return i.fold(function(){return aL(De.fromDom(e.getBody())),hn(e,n,De.fromDom(e.selection.getNode())),$4(e),!0},en)}return!1},r5=function(e){var n=e.dom,a=e.selection,i=mm(e.getBody(),a.getNode());if(Sl(i)&&n.isBlock(i)&&n.isEmpty(i)){var l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(l),a.setRng(Ke.before(l).toRange())}return!0},Kk=function(e,n){return e.selection.isCollapsed()?rL(e,n):oL(e,n)},L4=function(e,n){var a=Ke.fromRangeStart(e.selection.getRng());return zu(n,e.getBody(),a).filter(function(i){return n?g3(i):fC(i)}).bind(function(i){return K.from(h0(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},xy=function(e,n){return e.selection.isCollapsed()?L4(e,n):!1},O1=rn,a5=function(e){return O1(e)&&e.data[0]===Te},o5=function(e){return O1(e)&&e.data[e.data.length-1]===Te},F4=function(e){return e.ownerDocument.createTextNode(Te)},i5=function(e){if(O1(e.previousSibling))return o5(e.previousSibling)||e.previousSibling.appendData(Te),e.previousSibling;if(O1(e))return a5(e)||e.insertData(0,Te),e;var n=F4(e);return e.parentNode.insertBefore(n,e),n},H4=function(e){if(O1(e.nextSibling))return a5(e.nextSibling)||e.nextSibling.insertData(0,Te),e.nextSibling;if(O1(e))return o5(e)||e.appendData(Te),e;var n=F4(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},XC=function(e,n){return e?i5(n):H4(n)},u5=ft(XC,!0),V4=ft(XC,!1),s5=function(e,n){return rn(e.container())?XC(n,e.container()):XC(n,e.getNode())},l5=function(e,n){var a=n.get();return a&&e.container()===a&&ba(a)},hf=function(e,n){return n.fold(function(a){ed(e.get());var i=u5(a);return e.set(i),K.some(Ke(i,i.length-1))},function(a){return nu(a).map(function(i){if(l5(i,e))return Ke(e.get(),1);ed(e.get());var l=s5(i,!0);return e.set(l),Ke(l,1)})},function(a){return rl(a).map(function(i){if(l5(i,e))return Ke(e.get(),e.get().length-1);ed(e.get());var l=s5(i,!1);return e.set(l),Ke(l,l.length-1)})},function(a){ed(e.get());var i=V4(a);return e.set(i),K.some(Ke(i,1))})},wc=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return K.none()},ou=yn.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),U4=function(e,n){var a=vc(n,e);return a||e},Xk=function(e,n,a){var i=HB(a),l=U4(n,i.container());return Pg(e,l,i).fold(function(){return Bl(l,i).bind(ft(Pg,e,l)).map(function(f){return ou.before(f)})},K.none)},c5=function(e,n){return lm(e,n)===null},W4=function(e,n,a){return Pg(e,n,a).filter(ft(c5,n))},f5=function(e,n,a){var i=VB(a);return W4(e,n,i).bind(function(l){var f=hc(l,i);return f.isNone()?K.some(ou.start(l)):K.none()})},v5=function(e,n,a){var i=HB(a);return W4(e,n,i).bind(function(l){var f=Bl(l,i);return f.isNone()?K.some(ou.end(l)):K.none()})},d5=function(e,n,a){var i=VB(a),l=U4(n,i.container());return Pg(e,l,i).fold(function(){return hc(l,i).bind(ft(Pg,e,l)).map(function(f){return ou.after(f)})},K.none)},j4=function(e){return B4(_y(e))===!1},Cc=function(e,n,a){var i=wc([Xk,f5,v5,d5],[e,n,a]);return i.filter(j4)},_y=function(e){return e.fold(Ht,Ht,Ht,Ht)},Yk=function(e){return e.fold(Y("before"),Y("start"),Y("end"),Y("after"))},Jk=function(e){return e.fold(ou.before,ou.before,ou.after,ou.after)},G4=function(e){return e.fold(ou.start,ou.start,ou.end,ou.end)},iL=function(e,n){return Yk(e)===Yk(n)&&_y(e)===_y(n)},uL=function(e,n,a,i,l,f){return Ji(Pg(n,a,i),Pg(n,a,l),function(p,C){return p!==C&&Iz(a,p,C)?ou.after(e?p:C):f}).getOr(f)},m5=function(e,n){return e.fold(en,function(a){return!iL(a,n)})},sL=function(e,n,a,i,l){var f=yc(e,l),p=zu(e,a,f).map(ft(yc,e)),C=p.fold(function(){return i.map(Jk)},function(_){return Cc(n,a,_).map(ft(uL,e,n,a,f,_)).filter(ft(m5,i))});return C.filter(j4)},lL=function(e,n){return e?n.fold(Eo(K.some,ou.start),K.none,Eo(K.some,ou.after),K.none):n.fold(K.none,Eo(K.some,ou.before),K.none,Eo(K.some,ou.end))},YC=function(e,n,a,i){var l=yc(e,i),f=Cc(n,a,l);return Cc(n,a,l).bind(ft(lL,e)).orThunk(function(){return sL(e,n,a,f,i)})};ft(YC,!1),ft(YC,!0);var cL=function(e){return Nt(e.selection.getSel().modify)},h5=function(e,n,a){var i=e?1:-1;return n.setRng(Ke(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},fL=function(e,n){var a=n.selection.getRng(),i=e?Ke.fromRangeEnd(a):Ke.fromRangeStart(a);return cL(n)?e&&_n(i)?h5(!0,n.selection,i):!e&&mb(i)?h5(!1,n.selection,i):!1:!1},yd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(yd||(yd={}));var Zk=function(e,n){return e===Ti.Backwards?Er(n):n},vL=function(e,n,a){return e===Ti.Forwards?n.next(a):n.prev(a)},dL=function(e,n,a,i){return ca(i.getNode(n===Ti.Forwards))?yd.Br:dc(a,i)===!1?yd.Block:yd.Wrap},JC=function(e,n,a,i){for(var l=uo(a),f=i,p=[];f;){var C=vL(n,l,f);if(!C)break;if(ca(C.getNode(!1)))return n===Ti.Forwards?{positions:Zk(n,p).concat([C]),breakType:yd.Br,breakAt:K.some(C)}:{positions:Zk(n,p),breakType:yd.Br,breakAt:K.some(C)};if(!C.isVisible()){f=C;continue}if(e(f,C)){var _=dL(a,n,f,C);return{positions:Zk(n,p),breakType:_,breakAt:K.some(C)}}p.push(C),f=C}return{positions:Zk(n,p),breakType:yd.Eol,breakAt:K.none()}},ZC=function(e,n,a,i){return n(a,i).breakAt.map(function(l){var f=n(a,l).positions;return e===Ti.Backwards?f.concat(l):[l].concat(f)}).getOr([])},QC=function(e,n){return Et(e,function(a,i){return a.fold(function(){return K.some(i)},function(l){return Ji(to(l.getClientRects()),to(i.getClientRects()),function(f,p){var C=Math.abs(n-f.left),_=Math.abs(n-p.left);return _<=C?i:l}).or(a)})},K.none())},g5=function(e,n){return to(n.getClientRects()).bind(function(a){return QC(e,a.left)})},eS=ft(JC,Ke.isAbove,-1),tS=ft(JC,Ke.isBelow,1),mL=ft(ZC,-1,eS),p5=ft(ZC,1,tS),hL=function(e,n){return eS(e,n).breakAt.isNone()},gL=function(e,n){return tS(e,n).breakAt.isNone()},q4=function(e){return nu(e).map(function(n){return[n].concat(tS(e,n).positions)}).getOr([])},pL=function(e){return rl(e).map(function(n){return eS(e,n).positions.concat(n)}).getOr([])},bL=function(e){var n=function(i){return je(i,function(l){var f=Yv(l);return f.node=e,f})};if(In(e))return n(e.getClientRects());if(rn(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},K4=function(e){return gr(e,bL)},D1;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(D1||(D1={}));var yL=function(e,n,a,i){for(;i=nd(i,e,Do,n);)if(a(i))return},b5=function(e,n,a,i,l,f){var p=0,C=[],_=function(V){var W=K4([V]);e===-1&&(W=W.reverse());for(var te=0;te<W.length;te++){var re=W[te];if(!a(re,$)){if(C.length>0&&n(re,Gs(C))&&p++,re.line=p,l(re))return!0;C.push(re)}}},$=Gs(f.getClientRects());if(!$)return C;var F=f.getNode();return _(F),yL(e,i,_,F),C},wL=function(e,n){return n.line>e},Qk=function(e,n){return n.line===e},eA=ft(b5,D1.Up,$h,Mh),CL=ft(b5,D1.Down,Mh,$h),SL=function(e,n,a,i){var l=uo(n),f,p,C,_,$=[],F=0,V=function(ue){return Gs(ue.getClientRects())};e===1?(f=l.next,p=Mh,C=$h,_=Ke.after(i)):(f=l.prev,p=$h,C=Mh,_=Ke.before(i));var W=V(_);do if(_.isVisible()){var te=V(_);if(!C(te,W)){$.length>0&&p(te,Gs($))&&F++;var re=Yv(te);if(re.position=_,re.line=F,a(re))return $;$.push(re)}}while(_=f(_));return $},nS=function(e){return function(n){return wL(e,n)}},X4=function(e){return function(n){return Qk(e,n)}},xL=Ba,y5=nd,Y4=function(e,n){return Math.abs(e.left-n)},J4=function(e,n){return Math.abs(e.right-n)},w5=function(e,n){return e>=n.left&&e<=n.right},_L=function(e,n){return e>=n.top&&e<=n.bottom},kL=function(e){return Ws(e,"node")},tA=function(e,n,a){return a===void 0&&(a=en),_f(e,function(i,l){if(w5(n,l))return a(l)?l:i;if(w5(n,i))return a(i)?i:l;var f=Math.min(Y4(i,n),J4(i,n)),p=Math.min(Y4(l,n),J4(l,n));return p===f&&kL(l)&&xL(l.node)||p<f?l:i})},C5=function(e,n,a,i,l){var f=y5(i,e,Do,n,!l);do if(!f||a(f))return;while(f=y5(f,e,Do,n))},AL=function(e,n,a){a===void 0&&(a=!0);var i=[],l=function(f,p){var C=Qe(K4([p]),function(_){return!f(_,n)});return i=i.concat(C),C.length===0};return i.push(n),C5(D1.Up,e,ft(l,$h),n.node,a),C5(D1.Down,e,ft(l,Mh),n.node,a),i},EL=function(e){return Qe(mr(e.getElementsByTagName("*")),im)},gf=function(e,n){return{node:e.node,before:Y4(e,n)<J4(e,n)}},Z4=function(e,n,a){var i=K4(EL(e)),l=Qe(i,ft(_L,a)),f=function(_){return!Co(_.node)&&!Ru(_.node)},p=tA(l,n,f);if(p){var C=f(p);if(p=tA(AL(e,p,C),n,f),p&&im(p.node))return gf(p,n)}return null},wd=function(e,n){e.selection.setRng(n),r1(e,e.selection.getRng())},nA=function(e,n,a){return K.some(zg(e,n,a))},S5=function(e,n,a,i,l,f){var p=n===Ti.Forwards,C=uo(e.getBody()),_=ft(vw,p?C.next:C.prev),$=p?i:l;if(!a.collapsed){var F=em(a);if(f(F))return vv(n,e,F,n===Ti.Backwards,!1)}var V=Qh(n,e.getBody(),a);if($(V))return T1(e,V.getNode(!p));var W=yc(p,_(V)),te=Lc(a);if(!W)return te?K.some(a):K.none();if($(W))return vv(n,e,W.getNode(!p),p,!1);var re=_(W);return re&&$(re)&&b0(W,re)?vv(n,e,re.getNode(!p),p,!1):te?nA(e,W.toRange(),!1):K.none()},Q4=function(e,n,a,i,l,f){var p=Qh(n,e.getBody(),a),C=Gs(p.getClientRects()),_=n===D1.Down;if(!C)return K.none();var $=_?CL:eA,F=$(e.getBody(),nS(1),p),V=Qe(F,X4(1)),W=C.left,te=tA(V,W);if(te&&f(te.node)){var re=Math.abs(W-te.left),ue=Math.abs(W-te.right);return vv(n,e,te.node,re<ue,!1)}var se;if(i(p)?se=p.getNode():l(p)?se=p.getNode(!0):se=em(a),se){var be=SL(n,e.getBody(),nS(1),se),ge=tA(Qe(be,X4(1)),W);if(ge||(ge=Gs(Qe(be,X4(0))),ge))return nA(e,ge.position.toRange(),!1)}return V.length===0?eO(e,_).filter(_?l:i).map(function($e){return zg(e,$e.toRange(),!1)}):K.none()},eO=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var l=Ke.fromRangeEnd(a),f=tS(i,l);return Sa(f.positions)}else{var l=Ke.fromRangeStart(a),f=eS(i,l);return to(f.positions)}},tO=function(e,n,a){return eO(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},rA=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},x5=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},_5=function(e,n,a){return hf(n,a).map(function(i){return rA(e,i),a})},ky=function(e,n,a){var i=e.getBody(),l=Ke.fromRangeStart(e.selection.getRng()),f=ft(Mg,e),p=YC(a,f,i,l);return p.bind(function(C){return _5(e,n,C)})},k5=function(e,n,a){var i=je(Ai(De.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(p){return p.dom}),l=Qe(i,e),f=Qe(a,e);Be(Aa(l,f),ft(x5,!1)),Be(Aa(f,l),ft(x5,!0))},A5=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=Ke.fromRangeStart(e.selection.getRng());Ke.isTextPosition(a)&&df(a)===!1&&(rA(e,Px(n.get(),a)),n.set(null))}},E5=function(e,n,a,i){if(n.selection.isCollapsed()){var l=Qe(i,e);Be(l,function(f){var p=Ke.fromRangeStart(n.selection.getRng());Cc(e,n.getBody(),p).bind(function(C){return _5(n,a,C)})})}},aA=function(e,n,a){return Wp(e)?ky(e,n,a).isSome():!1},T5=function(e,n,a){return Wp(n)?fL(e,n):!1},TL=function(e){var n=hu(null),a=ft(Mg,e);return e.on("NodeChange",function(i){Wp(e)&&!(Rn.browser.isIE()&&i.initial)&&(k5(a,e.dom,i.parents),A5(e,n),E5(a,e,n,i.parents))}),n},OL=ft(T5,!0),DL=ft(T5,!1),oA=function(e,n,a){if(Wp(e)){var i=eO(e,n).getOrThunk(function(){var l=e.selection.getRng();return n?Ke.fromRangeEnd(l):Ke.fromRangeStart(l)});return Cc(ft(Mg,e),e.getBody(),i).exists(function(l){var f=Jk(l);return hf(a,f).exists(function(p){return rA(e,p),!0})})}else return!1},RL=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},dv=function(e){return Ji(nu(e),rl(e),function(n,a){var i=yc(!0,n),l=yc(!1,a);return Bl(e,i).forall(function(f){return f.isEqual(l)})}).getOr(!0)},O5=function(e,n){return function(a){return hf(n,a).exists(function(i){return rA(e,i),!0})}},D5=function(e,n,a,i){var l=e.getBody(),f=ft(Mg,e);e.undoManager.ignore(function(){e.selection.setRng(RL(a,i)),e.execCommand("Delete"),Cc(f,l,Ke.fromRangeStart(e.selection.getRng())).map(G4).map(O5(e,n))}),e.nodeChanged()},BL=function(e,n){var a=vc(n,e);return a||e},$L=function(e,n,a,i){var l=BL(e.getBody(),i.container()),f=ft(Mg,e),p=Cc(f,l,i);return p.bind(function(C){return a?C.fold(Y(K.some(G4(C))),K.none,Y(K.some(Jk(C))),K.none):C.fold(K.none,Y(K.some(Jk(C))),K.none,Y(K.some(G4(C))))}).map(O5(e,n)).getOrThunk(function(){var C=mc(a,l,i),_=C.bind(function($){return Cc(f,l,$)});return Ji(p,_,function(){return Pg(f,l,i).exists(function($){return dv($)?(hn(e,a,De.fromDom($)),!0):!1})}).orThunk(function(){return _.bind(function($){return C.map(function(F){return a?D5(e,n,i,F):D5(e,n,F,i),!0})})}).getOr(!1)})},iA=function(e,n,a){if(e.selection.isCollapsed()&&Wp(e)){var i=Ke.fromRangeStart(e.selection.getRng());return $L(e,n,a,i)}return!1},ML=function(e,n){var a=gc(n,e);return Pn(a,ks).fold(Y(a),function(i){return a.slice(0,i)})},PL=function(e){return sb(e)===1},Lg=function(e,n,a,i){var l=ft(EN,n),f=je(Qe(i,l),function(C){return C.dom});if(f.length===0)hn(n,e,a);else{var p=dy(a.dom,f);n.selection.setRng(p.toRange())}},NL=function(e,n){var a=De.fromDom(e.getBody()),i=De.fromDom(e.selection.getStart()),l=Qe(ML(a,i),PL);return Sa(l).exists(function(f){var p=Ke.fromRangeStart(e.selection.getRng());return Lz(n,p,f.dom)&&!TN(f)?(Lg(n,e,f,l),!0):!1})},uA=function(e,n){return e.selection.isCollapsed()?NL(e,n):!1},sA=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),hn(e,n,De.fromDom(a)),!0},nO=function(e,n){var a=n?bg:yg,i=n?Ti.Forwards:Ti.Backwards,l=Qh(i,e.getBody(),e.selection.getRng());return a(l)?sA(e,n,l.getNode(!n)):K.from(yc(n,l)).filter(function(f){return a(f)&&b0(l,f)}).exists(function(f){return sA(e,n,f.getNode(!n))})},IL=function(e,n){var a=e.selection.getNode();return Ru(a)?sA(e,n,a):!1},lA=function(e,n){return e.selection.isCollapsed()?nO(e,n):IL(e,n)},zL=function(e){return vh(e,function(n){return Sl(n.dom)||Ba(n.dom)}).exists(function(n){return Sl(n.dom)})},Dm=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},R5=function(e,n){var a=e||bE(n)?"margin":"padding",i=er(n,"direction")==="rtl"?"-right":"-left";return a+i},LL=function(e,n,a,i,l,f){var p=R5(a,De.fromDom(f));if(n==="outdent"){var C=Math.max(0,Dm(f.style[p])-i);e.setStyle(f,p,C?C+l:"")}else{var C=Dm(f.style[p])+i+l;e.setStyle(f,p,C)}},FL=function(e,n){return na(n,function(a){var i=R5(Sx(e),a),l=Ci(a,i).map(Dm).getOr(0),f=e.dom.getContentEditable(a.dom);return f!=="false"&&l>0})},B5=function(e){var n=aO(e);return!e.mode.isReadOnly()&&(n.length>1||FL(e,n))},cA=function(e){return kl(e)||Hi(e)},rO=function(e){return Ka(e).exists(cA)},aO=function(e){return Qe(Yo(e.selection.getSelectedBlocks()),function(n){return!cA(n)&&!rO(n)&&zL(n)})},oO=function(e,n){var a=e.dom,i=e.selection,l=e.formatter,f=Q2(e),p=/[a-z%]+$/i.exec(f)[0],C=parseInt(f,10),_=Sx(e),$=Ei(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&$===""&&!a.getParent(i.getNode(),a.isBlock)&&l.apply("div"),Be(aO(e),function(F){LL(a,n,_,C,p,F.dom)})},iO=function(e,n){if(e.selection.isCollapsed()&&B5(e)){var a=e.dom,i=e.selection.getRng(),l=Ke.fromRangeStart(i),f=a.getParent(i.startContainer,a.isBlock);if(f!==null&&Gn(De.fromDom(f),l))return oO(e,"outdent"),!0}return!1},$5=function(e,n){e.getDoc().execCommand(n,!1,null)},rS=function(e,n){if(!iO(e)){if(Kk(e,!1))return;if(KC(e,!1))return;if(iA(e,n,!1))return;if(Wk(e,!1))return;if(vk(e))return;if(xy(e,!1))return;if(lA(e,!1))return;if(E1(e))return;if(uA(e,!1))return;$5(e,"Delete"),$4(e)}},HL=function(e,n){if(!Kk(e,!0)){if(KC(e,!0))return;if(iA(e,n,!0))return;if(Wk(e,!0))return;if(vk(e))return;if(xy(e,!0))return;if(lA(e,!0))return;if(E1(e))return;if(uA(e,!0))return;$5(e,"ForwardDelete")}},VL=function(e,n){e.addCommand("delete",function(){rS(e,n)}),e.addCommand("forwardDelete",function(){HL(e,n)})},M5=5,Ay=400,P5=function(e){return e.touches===void 0||e.touches.length!==1?K.none():K.some(e.touches[0])},Rm=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>M5||i>M5},UL=function(e){var n=Xv(),a=hu(!1),i=Xo(function(l){e.fire("longpress",Mn(Mn({},l),{type:"longpress"})),a.set(!0)},Ay);e.on("touchstart",function(l){P5(l).each(function(f){i.cancel();var p={x:f.clientX,y:f.clientY,target:l.target};i.throttle(l),a.set(!1),n.set(p)})},!0),e.on("touchmove",function(l){i.cancel(),P5(l).each(function(f){n.on(function(p){Rm(f,p)&&(n.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(l){i.cancel(),l.type!=="touchcancel"&&n.get().filter(function(f){return f.target.isEqualNode(l.target)}).each(function(){a.get()?l.preventDefault():e.fire("tap",Mn(Mn({},l),{type:"tap"}))})},!0)},aS=function(e,n){return pr(e,n.nodeName)},uO=function(e,n){return rn(n)?!0:In(n)?!aS(e,n)&&!Lu(n):!1},WL=function(e,n,a){return Fe(v1(De.fromDom(a),De.fromDom(n)),function(i){return aS(e,i.dom)})},jL=function(e,n){if(rn(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||aS(e,n.nextSibling)))return!0}return!1},GL=function(e){var n=e.dom,a=e.selection,i=e.schema,l=i.getBlockElements(),f=a.getStart(),p=e.getBody(),C,_,$,F=Ei(e);if(!(!f||!In(f)||!F)){var V=p.nodeName.toLowerCase();if(!(!i.isValidChild(V,F.toLowerCase())||WL(l,p,f))){var W=a.getRng(),te=W.startContainer,re=W.startOffset,ue=W.endContainer,se=W.endOffset,be=il(e);for(f=p.firstChild;f;)if(uO(l,f)){if(jL(l,f)){_=f,f=f.nextSibling,n.remove(_);continue}C||(C=n.create(F,Lh(e)),f.parentNode.insertBefore(C,f),$=!0),_=f,f=f.nextSibling,C.appendChild(_)}else C=null,f=f.nextSibling;$&&be&&(W.setStart(te,re),W.setEnd(ue,se),a.setRng(W),e.nodeChanged())}}},N5=function(e){Ei(e)&&e.on("NodeChange",ft(GL,e))},qL=function(e){return dh(De.fromDom(e.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull()},KL=function(e){e.selection.setRng(e.selection.getRng())},I5=function(e,n){n.hasAttribute("data-mce-caret")&&(a2(n),KL(e),e.selection.scrollIntoView(n))},XL=function(e,n){var a=qL(e);if(a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),I5(e,a);return}Wf(a)&&(I5(e,a),e.undoManager.add())}},z5=function(e){e.on("keyup compositionstart",ft(XL,e))},L5=Ba,R1=function(e,n,a){return S5(n,e,a,Nl,hd,L5)},YL=function(e,n,a){var i=function(f){return Nl(f)||Z_(f)},l=function(f){return hd(f)||vC(f)};return Q4(n,e,a,i,l,L5)},oS=function(e){var n=e.dom.create(Ei(e));return(!Rn.ie||Rn.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},sO=function(e,n,a){var i=uo(e.getBody()),l=ft(vw,n===1?i.next:i.prev);if(a.collapsed&&sT(e)){var f=e.dom.getParent(a.startContainer,"PRE");if(!f)return;var p=l(Ke.fromRangeStart(a));if(!p){var C=oS(e);n===1?e.$(f).after(C):e.$(f).before(C),e.selection.select(C,!0),e.selection.collapse()}}},lO=function(e,n){var a=n?Ti.Forwards:Ti.Backwards,i=e.selection.getRng();return R1(a,e,i).orThunk(function(){return sO(e,a,i),K.none()})},cO=function(e,n){var a=n?1:-1,i=e.selection.getRng();return YL(a,e,i).orThunk(function(){return sO(e,a,i),K.none()})},F5=function(e,n){return lO(e,n).exists(function(a){return wd(e,a),!0})},H5=function(e,n){return cO(e,n).exists(function(a){return wd(e,a),!0})},V5=function(e,n){var a=n?hd:Nl;return tO(e,n,a)},fO=function(e){return pe(["figcaption"],yo(e))},U5=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},W5=function(e,n,a){a?Io(e,n):Js(e,n)},JL=function(e,n){var a=De.fromTag("br");return W5(e,a,n),U5(a)},ZL=function(e,n,a,i){var l=De.fromTag(a),f=De.fromTag("br");return H(l,i),Io(l,f),W5(e,l,n),U5(f)},j5=function(e,n,a,i){return n===""?JL(e,i):ZL(e,i,n,a)},QL=function(e,n){var a=ft(_a,n);return vh(De.fromDom(e.container()),ks,a).filter(fO)},e6=function(e,n,a){return n?gL(e.dom,a):hL(e.dom,a)},t6=function(e,n){var a=De.fromDom(e.getBody()),i=Ke.fromRangeStart(e.selection.getRng()),l=Ei(e),f=Lh(e);return QL(i,a).exists(function(){if(e6(a,n,i)){var p=j5(a,l,f,n);return e.selection.setRng(p),!0}else return!1})},G5=function(e,n){return e.selection.isCollapsed()?t6(e,n):!1},n6=function(e){return je(e,function(n){return Mn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Qt},n)})},r6=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},a6=function(e,n){return gr(n6(e),function(a){return r6(a,n)?[a]:[]})},kr=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},B1=function(e,n){return sn(a6(e,n),function(a){return a.action()})},q5=function(e,n){var a=n?Ti.Forwards:Ti.Backwards,i=e.selection.getRng();return S5(e,a,i,bg,yg,Ru).exists(function(l){return wd(e,l),!0})},vO=function(e,n){var a=n?1:-1,i=e.selection.getRng();return Q4(e,a,i,bg,yg,Ru).exists(function(l){return wd(e,l),!0})},K5=function(e,n){var a=n?yg:bg;return tO(e,n,a)},o6=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},i6=function(e,n){return gr(n,function(a){var i=o6(Yv(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},u6=function(e,n,a){return Et(e,function(i,l){return i.fold(function(){return K.some(l)},function(f){var p=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-a)),C=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-a));return K.some(C<p?l:f)})},K.none())},X5=function(e,n,a,i,l){var f=Ai(De.fromDom(a),"td,th,caption").map(function(C){return C.dom}),p=Qe(i6(e,f),function(C){return n(C,l)});return u6(p,i,l).map(function(C){return C.cell})},s6=function(e){return e.bottom},l6=function(e){return e.top},c6=function(e,n){return e.y<n},f6=function(e,n){return e.y>n},v6=ft(X5,s6,c6),d6=ft(X5,l6,f6),m6=function(e,n){return to(n.getClientRects()).bind(function(a){return v6(e,a.left,a.top)}).bind(function(a){return g5(pL(a),n)})},h6=function(e,n){return Sa(n.getClientRects()).bind(function(a){return d6(e,a.left,a.top)}).bind(function(a){return g5(q4(a),n)})},Y5=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},g6=function(e){return e.breakType===yd.Wrap&&e.positions.length===0},p6=function(e){return e.breakType===yd.Br&&e.positions.length===1},dO=function(e,n,a){var i=e(n,a);return g6(i)||!ca(a.getNode())&&p6(i)?!Y5(e,n,i):i.breakAt.isNone()},J5=ft(dO,eS),fA=ft(dO,tS),Z5=function(e,n,a){var i=Ke.fromRangeStart(n);return tv(!e,a).exists(function(l){return l.isEqual(i)})},mO=function(e,n,a,i){var l=e.selection.getRng(),f=n?1:-1;return lw()&&Z5(n,l,a)?(vv(f,e,a,!n,!1).each(function(p){wd(e,p)}),!0):!1},hO=function(e,n,a){return m6(n,a).orThunk(function(){return to(a.getClientRects()).bind(function(i){return QC(mL(e,Ke.before(n)),i.left)})}).getOr(Ke.before(n))},Q5=function(e,n,a){return h6(n,a).orThunk(function(){return to(a.getClientRects()).bind(function(i){return QC(p5(e,Ke.after(n)),i.left)})}).getOr(Ke.after(n))},e$=function(e,n){var a=n.getNode(e);return In(a)&&a.nodeName==="TABLE"?K.some(a):K.none()},t$=function(e,n,a,i){var l=Ei(n);l?n.undoManager.transact(function(){var f=De.fromTag(l);H(f,Lh(n)),Io(f,De.fromTag("br")),e?Dv(De.fromDom(a),f):yi(De.fromDom(a),f);var p=n.dom.createRng();p.setStart(f.dom,0),p.setEnd(f.dom,0),wd(n,p)}):wd(n,i.toRange())},$1=function(e,n,a){var i=e$(!!n,a),l=n===!1;i.fold(function(){return wd(e,a.toRange())},function(f){return tv(l,e.getBody()).filter(function(p){return p.isEqual(a)}).fold(function(){return wd(e,a.toRange())},function(p){return t$(n,e,f,a)})})},n$=function(e,n,a,i){var l=e.selection.getRng(),f=Ke.fromRangeStart(l),p=e.getBody();if(!n&&J5(i,f)){var C=hO(p,a,f);return $1(e,n,C),!0}else if(n&&fA(i,f)){var C=Q5(p,a,f);return $1(e,n,C),!0}else return!1},vA=function(e,n,a){return K.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return K.from(e.dom.getParent(i,"table")).map(function(l){return a(e,n,l,i)})}).getOr(!1)},r$=function(e,n){return vA(e,n,mO)},dA=function(e,n){return vA(e,n,n$)},b6=function(e,n,a){var i=bn().os;B1([{keyCode:$n.RIGHT,action:kr(F5,e,!0)},{keyCode:$n.LEFT,action:kr(F5,e,!1)},{keyCode:$n.UP,action:kr(H5,e,!1)},{keyCode:$n.DOWN,action:kr(H5,e,!0)},{keyCode:$n.RIGHT,action:kr(r$,e,!0)},{keyCode:$n.LEFT,action:kr(r$,e,!1)},{keyCode:$n.UP,action:kr(dA,e,!1)},{keyCode:$n.DOWN,action:kr(dA,e,!0)},{keyCode:$n.RIGHT,action:kr(q5,e,!0)},{keyCode:$n.LEFT,action:kr(q5,e,!1)},{keyCode:$n.UP,action:kr(vO,e,!1)},{keyCode:$n.DOWN,action:kr(vO,e,!0)},{keyCode:$n.RIGHT,action:kr(aA,e,n,!0)},{keyCode:$n.LEFT,action:kr(aA,e,n,!1)},{keyCode:$n.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:kr(OL,e,n)},{keyCode:$n.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:kr(DL,e,n)},{keyCode:$n.UP,action:kr(G5,e,!1)},{keyCode:$n.DOWN,action:kr(G5,e,!0)}],a).each(function(l){a.preventDefault()})},y6=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&b6(e,n,a)})},w6=function(e,n,a){B1([{keyCode:$n.BACKSPACE,action:kr(iO,e,!1)},{keyCode:$n.BACKSPACE,action:kr(Kk,e,!1)},{keyCode:$n.DELETE,action:kr(Kk,e,!0)},{keyCode:$n.BACKSPACE,action:kr(KC,e,!1)},{keyCode:$n.DELETE,action:kr(KC,e,!0)},{keyCode:$n.BACKSPACE,action:kr(iA,e,n,!1)},{keyCode:$n.DELETE,action:kr(iA,e,n,!0)},{keyCode:$n.BACKSPACE,action:kr(vk,e,!1)},{keyCode:$n.DELETE,action:kr(vk,e,!0)},{keyCode:$n.BACKSPACE,action:kr(xy,e,!1)},{keyCode:$n.DELETE,action:kr(xy,e,!0)},{keyCode:$n.BACKSPACE,action:kr(lA,e,!1)},{keyCode:$n.DELETE,action:kr(lA,e,!0)},{keyCode:$n.BACKSPACE,action:kr(E1,e,!1)},{keyCode:$n.DELETE,action:kr(E1,e,!0)},{keyCode:$n.BACKSPACE,action:kr(Wk,e,!1)},{keyCode:$n.DELETE,action:kr(Wk,e,!0)},{keyCode:$n.BACKSPACE,action:kr(uA,e,!1)},{keyCode:$n.DELETE,action:kr(uA,e,!0)}],a).each(function(i){a.preventDefault()})},C6=function(e,n){B1([{keyCode:$n.BACKSPACE,action:kr(r5,e)},{keyCode:$n.DELETE,action:kr(r5,e)}],n)},S6=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&w6(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&C6(e,a)})},x6=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Ey=function(e,n){var a,i=n,l=e.dom,f=e.schema.getMoveCaretBeforeOnEnterElements();if(n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var p=x6(n.firstChild);p&&/^(UL|OL|DL)$/.test(p.nodeName)&&n.insertBefore(l.doc.createTextNode(ns),n.firstChild)}var C=l.createRng();if(n.normalize(),n.hasChildNodes()){for(var _=new Yr(n,n);a=_.current();){if(rn(a)){C.setStart(a,0),C.setEnd(a,0);break}if(f[a.nodeName.toLowerCase()]){C.setStartBefore(a),C.setEndBefore(a);break}i=a,a=_.next()}a||(C.setStart(i,0),C.setEnd(i,0))}else ca(n)?n.nextSibling&&l.isBlock(n.nextSibling)?(C.setStartBefore(n),C.setEndBefore(n)):(C.setStartAfter(n),C.setEndAfter(n)):(C.setStart(n,0),C.setEnd(n,0));e.selection.setRng(C),r1(e,C)}},Ty=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},gO=function(e){return K.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},pO=function(e){return gO(e).fold(Y(""),function(n){return n.nodeName.toUpperCase()})},_6=function(e){return gO(e).filter(function(n){return Hi(De.fromDom(n))}).isSome()},a$=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},o$=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},bO=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},yO=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},wO=function(e){return yO(e)&&yO(e.parentNode)},iS=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},mA=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!In(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},k6=function(e,n,a,i,l){var f=e.dom,p=e.selection.getRng();if(a!==e.getBody()){wO(a)&&(l="LI");var C=l?n(l):f.create("BR");if(mA(a,i,!0)&&mA(a,i,!1))if(bO(a,"LI")){var _=iS(a);f.insertAfter(C,_),o$(a)?f.remove(_):f.remove(a)}else f.replace(C,a);else if(mA(a,i,!0))bO(a,"LI")?(f.insertAfter(C,iS(a)),C.appendChild(f.doc.createTextNode(" ")),C.appendChild(a)):a.parentNode.insertBefore(C,a),f.remove(i);else if(mA(a,i,!1))f.insertAfter(C,iS(a)),f.remove(i);else{a=iS(a);var $=p.cloneRange();$.setStartAfter(i),$.setEndAfter(a);var F=$.extractContents();l==="LI"&&a$(F,"LI")?(C=F.firstChild,f.insertAfter(F,a)):(f.insertAfter(F,a),f.insertAfter(C,a)),f.remove(i)}Ey(e,C)}},hA=function(e){Be(Bh(De.fromDom(e),Fa),function(n){var a=n.dom;a.nodeValue=ac(a.nodeValue)})},A6=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},E6=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},CO=function(e){e.innerHTML='<br data-mce-bogus="1">'},gA=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},i$=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},T6=function(e,n,a){var i=a,l=[],f;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;In(i)&&!n[i.nodeName.toLowerCase()]&&l.push(i)}for(f=l.length;f--;)i=l[f],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||A6(e,i))&&e.remove(i)}},Ls=function(e,n,a){return rn(n)===!1?a:e?a===1&&n.data.charAt(a-1)===Te?0:a:a===n.data.length-1&&n.data.charAt(a)===Te?n.data.length:a},O6=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,Ls(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,Ls(!1,e.endContainer,e.endOffset)),n},SO=function(e){do rn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},xO=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},_O=function(e,n,a){var i=e.dom;K.from(a.style).map(i.parseStyle).each(function(_){var $=Xa(De.fromDom(n)),F=Mn(Mn({},$),_);i.setStyles(n,F)});var l=K.from(a.class).map(function(_){return _.split(/\s+/)}),f=K.from(n.className).map(function(_){return Qe(_.split(/\s+/),function($){return $!==""})});Ji(l,f,function(_,$){var F=Qe($,function(W){return!pe(_,W)}),V=Au(Au([],_,!0),F,!0);i.setAttrib(n,"class",V.join(" "))});var p=["style","class"],C=ni(a,function(_,$){return!pe(p,$)});i.setAttribs(n,C)},uS=function(e,n){var a=Ei(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=Lh(e);_O(e,n,i)}},D6=function(e,n,a,i,l){var f,p,C,_,$,F,V=n||"P",W=e.dom,te=xO(W,i);if(p=W.getParent(i,W.isBlock),!p||!i$(W,p)){if(p=p||te,p===e.getBody()||E6(p)?F=p.nodeName.toLowerCase():F=p.parentNode.nodeName.toLowerCase(),!p.hasChildNodes())return f=W.create(V),uS(e,f),p.appendChild(f),a.setStart(f,0),a.setEnd(f,0),f;for(_=i;_.parentNode!==p;)_=_.parentNode;for(;_&&!W.isBlock(_);)C=_,_=_.previousSibling;if(C&&e.schema.isValidChild(F,V.toLowerCase())){for(f=W.create(V),uS(e,f),C.parentNode.insertBefore(f,C),_=C;_&&!W.isBlock(_);)$=_.nextSibling,f.appendChild(_),_=$;a.setStart(i,l),a.setEnd(i,l)}}return i},u$=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},R6=function(e,n){var a,i,l,f,p,C,_,$,F,V,W=e.dom,te=e.schema,re=te.getNonEmptyElements(),ue=e.selection.getRng(),se=function(ot){var wt=i,Bn,tn,dt,On=te.getTextInlineElements();if(ot||$==="TABLE"||$==="HR"?Bn=W.create(ot||F):Bn=f.cloneNode(!1),dt=Bn,eT(e)===!1)W.setAttrib(Bn,"style",null),W.setAttrib(Bn,"class",null);else do if(On[wt.nodeName]){if(Zc(wt)||Lu(wt))continue;tn=wt.cloneNode(!1),W.setAttrib(tn,"id",""),Bn.hasChildNodes()?(tn.appendChild(Bn.firstChild),Bn.appendChild(tn)):(dt=tn,Bn.appendChild(tn))}while((wt=wt.parentNode)&&wt!==we);return uS(e,Bn),CO(dt),Bn},be=function(ot){var wt,Bn,tn=Ls(ot,i,l);if(rn(i)&&(ot?tn>0:tn<i.nodeValue.length))return!1;if(i.parentNode===f&&V&&!ot||ot&&In(i)&&i===f.firstChild)return!0;if(gA(i,"TABLE")||gA(i,"HR"))return V&&!ot||!V&&ot;var dt=new Yr(i,f);for(rn(i)&&(ot&&tn===0?dt.prev():!ot&&tn===i.nodeValue.length&&dt.next());wt=dt.current();){if(In(wt)){if(!wt.getAttribute("data-mce-bogus")&&(Bn=wt.nodeName.toLowerCase(),re[Bn]&&Bn!=="br"))return!1}else if(rn(wt)&&!Al(wt.nodeValue))return!1;ot?dt.prev():dt.next()}return!0},ge=function(){/^(H[1-6]|PRE|FIGURE)$/.test($)&&Ie!=="HGROUP"?p=se(F):p=se(),Hp(e)&&i$(W,_)&&W.isEmpty(f)?p=W.split(_,f):W.insertAfter(p,f),Ey(e,p)};I0(W,ue).each(function(ot){ue.setStart(ot.startContainer,ot.startOffset),ue.setEnd(ot.endContainer,ot.endOffset)}),i=ue.startContainer,l=ue.startOffset,F=Ei(e);var $e=!!(n&&n.shiftKey),Oe=!!(n&&n.ctrlKey);In(i)&&i.hasChildNodes()&&(V=l>i.childNodes.length-1,i=i.childNodes[Math.min(l,i.childNodes.length-1)]||i,V&&rn(i)?l=i.nodeValue.length:l=0);var we=xO(W,i);if(we){(F&&!$e||!F&&$e)&&(i=D6(e,F,ue,i,l)),f=W.getParent(i,W.isBlock),_=f?W.getParent(f.parentNode,W.isBlock):null,$=f?f.nodeName.toUpperCase():"";var Ie=_?_.nodeName.toUpperCase():"";if(Ie==="LI"&&!Oe&&(f=_,_=_.parentNode,$=Ie),/^(LI|DT|DD)$/.test($)&&W.isEmpty(f)){k6(e,se,_,f,F);return}F&&f===e.getBody()||(F=F||"P",fa(f)?(p=a2(f),W.isEmpty(f)&&CO(f),uS(e,p),Ey(e,p)):be()?ge():be(!0)?(p=f.parentNode.insertBefore(se(),f),Ey(e,gA(f,"HR")?p:f)):(a=O6(ue).cloneRange(),a.setEndAfter(f),C=a.extractContents(),hA(C),SO(C),p=C.firstChild,W.insertAfter(C,f),T6(W,re,p),u$(W,f),W.isEmpty(f)&&CO(f),p.normalize(),W.isEmpty(p)?(W.remove(p),ge()):(uS(e,p),Ey(e,p))),W.setAttrib(p,"id",""),e.fire("NewBlock",{newBlock:p}))}},B6=function(e,n,a){for(var i=new Yr(n,a),l,f=e.getNonEmptyElements();l=i.next();)if(f[l.nodeName.toLowerCase()]||l.length>0)return!0},s$=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),r1(e,i)},$6=function(e,n){var a=e.selection,i=e.dom,l=a.getRng(),f,p;I0(i,l).each(function(re){l.setStart(re.startContainer,re.startOffset),l.setEnd(re.endContainer,re.endOffset)});var C=l.startOffset,_=l.startContainer;if(_.nodeType===1&&_.hasChildNodes()){var $=C>_.childNodes.length-1;_=_.childNodes[Math.min(C,_.childNodes.length-1)]||_,$&&_.nodeType===3?C=_.nodeValue.length:C=0}var F=i.getParent(_,i.isBlock),V=F?i.getParent(F.parentNode,i.isBlock):null,W=V?V.nodeName.toUpperCase():"",te=!!(n&&n.ctrlKey);W==="LI"&&!te&&(F=V),_&&_.nodeType===3&&C>=_.nodeValue.length&&(B6(e.schema,_,F)||(f=i.create("br"),l.insertNode(f),l.setStartAfter(f),l.setEndAfter(f),p=!0)),f=i.create("br"),Qb(i,l,f),s$(e,f,p),e.undoManager.add()},M6=function(e,n){var a=De.fromTag("br");yi(De.fromDom(n),a),e.undoManager.add()},P6=function(e,n){I6(e.getBody(),n)||Dv(De.fromDom(n),De.fromTag("br"));var a=De.fromTag("br");Dv(De.fromDom(n),a),s$(e,a.dom,!1),e.undoManager.add()},N6=function(e){return ca(e.getNode())},I6=function(e,n){return N6(Ke.after(n))?!0:Bl(e,Ke.after(n)).map(function(a){return ca(a.getNode())}).getOr(!1)},l$=function(e){return e&&e.nodeName==="A"&&"href"in e},Su=function(e){return e.fold(Dt,l$,l$,Dt)},z6=function(e){var n=ft(Mg,e),a=Ke.fromRangeStart(e.selection.getRng());return Cc(n,e.getBody(),a).filter(Su)},L6=function(e,n){n.fold(Qt,ft(M6,e),ft(P6,e),Qt)},c$=function(e,n){var a=z6(e);a.isSome()?a.each(ft(L6,e)):$6(e,n)},fs=function(e,n){return gO(e).filter(function(a){return n.length>0&&Xl(De.fromDom(a),n)}).isSome()},F6=function(e){return fs(e,Fh(e))},f$=function(e){return fs(e,Cx(e))},Ll=yn.generate([{br:[]},{block:[]},{none:[]}]),Oy=function(e,n){return f$(e)},kO=function(e){return function(n,a){var i=Ei(n)==="";return i===e}},v$=function(e){return function(n,a){return _6(n)===e}},pA=function(e,n){return function(a,i){var l=pO(a)===e.toUpperCase();return l===n}},bA=function(e){return pA("pre",e)},H6=function(){return pA("summary",!0)},yA=function(e){return function(n,a){return J2(n)===e}},V6=function(e,n){return F6(e)},sS=function(e,n){return n},d$=function(e){var n=Ei(e),a=Ty(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},Fs=function(e,n){return function(a,i){var l=Et(e,function(f,p){return f&&p(a,i)},!0);return l?K.some(n):K.none()}},m$=function(e,n){return wc([Fs([Oy],Ll.none()),Fs([H6()],Ll.br()),Fs([bA(!0),yA(!1),sS],Ll.br()),Fs([bA(!0),yA(!1)],Ll.block()),Fs([bA(!0),yA(!0),sS],Ll.block()),Fs([bA(!0),yA(!0)],Ll.br()),Fs([v$(!0),sS],Ll.br()),Fs([v$(!0)],Ll.block()),Fs([kO(!0),sS,d$],Ll.block()),Fs([kO(!0)],Ll.br()),Fs([V6],Ll.br()),Fs([kO(!1),sS],Ll.br()),Fs([d$],Ll.block())],[e,!!(n&&n.shiftKey)]).getOr(Ll.none())},h$=function(e,n){m$(e,n).fold(function(){c$(e,n)},function(){R6(e,n)},Qt)},U6=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),lI(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),h$(e,n)}))},W6=function(e){e.on("keydown",function(n){n.keyCode===$n.ENTER&&U6(e,n)})},j6=function(e,n,a){B1([{keyCode:$n.END,action:kr(V5,e,!0)},{keyCode:$n.HOME,action:kr(V5,e,!1)},{keyCode:$n.END,action:kr(K5,e,!0)},{keyCode:$n.HOME,action:kr(K5,e,!1)},{keyCode:$n.END,action:kr(oA,e,!0,n)},{keyCode:$n.HOME,action:kr(oA,e,!1,n)}],a).each(function(i){a.preventDefault()})},G6=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&j6(e,n,a)})},AO=bn().browser,g$=function(e){var n=Hb(function(){e.composing||yC(e)},0);AO.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},p$=function(e){g$(e),e.on("input",function(n){n.isComposing===!1&&yC(e)})},b$=bn(),q6=function(e,n,a){B1([{keyCode:$n.PAGE_UP,action:kr(oA,e,!1,n)},{keyCode:$n.PAGE_DOWN,action:kr(oA,e,!0,n)}],a)},y$=function(e){return e.stopImmediatePropagation()},w$=function(e){return e.keyCode===$n.PAGE_UP||e.keyCode===$n.PAGE_DOWN},C$=function(e,n,a){a&&!e.get()?n.on("NodeChange",y$,!0):!a&&e.get()&&n.off("NodeChange",y$),e.set(a)},K6=function(e,n){if(!b$.os.isOSX()){var a=hu(!1);e.on("keydown",function(i){w$(i)&&C$(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&q6(e,n,i),w$(i)&&a.get()&&(C$(a,e,!1),e.nodeChanged())})}},S$=function(e,n){var a=n.container(),i=n.offset();return rn(a)?(a.insertData(i,e),K.some(Ke(a,i+e.length))):p0(n).map(function(l){var f=De.fromText(e);return n.isAtEnd()?Dv(l,f):yi(l,f),Ke(f.dom,e.length)})},x$=ft(S$,ns),X6=ft(S$," "),Y6=function(e){return function(n){return n.fold(function(a){return hc(e.dom,Ke.before(a))},function(a){return nu(a)},function(a){return rl(a)},function(a){return Bl(e.dom,Ke.after(a))})}},J6=function(e,n){return function(a){return w3(e,a)?x$(n):X6(n)}},Z6=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},_$=function(e){var n=Ke.fromRangeStart(e.selection.getRng()),a=De.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=ft(Mg,e),l=Ke.fromRangeStart(e.selection.getRng());return Cc(i,e.getBody(),l).bind(Y6(a)).bind(J6(a,n)).exists(Z6(e))}else return!1},Q6=function(e,n){B1([{keyCode:$n.SPACEBAR,action:kr(_$,e)}],n).each(function(a){n.preventDefault()})},e8=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&Q6(e,n)})},t8=function(e){var n=TL(e);return z5(e),y6(e,n),S6(e,n),W6(e),e8(e),p$(e),G6(e,n),K6(e,n),n},n8=function(e){return km(e)?hu(null):t8(e)},k$=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(l){var f=n.selection.getRng(),p={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(l.type==="nodechange"||!Hw(p,a))&&n.fire("SelectionChange"),a=p}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var l=n.selection.getStart(!0);!l||!Rn.range&&n.selection.isCollapsed()||id(n)&&!i.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(l){!l.isDefaultPrevented()&&id(n)&&(n.selection.getNode().nodeName==="IMG"?Fi.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,l,f;this.editor.initialized&&a&&!lT(this.editor)&&!this.editor.mode.isReadOnly()&&(f=this.editor.getBody(),i=a.getStart(!0)||f,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,f))&&(i=f),l=[],this.editor.dom.getParent(i,function(p){if(p===f)return!0;l.push(p)}),n=n||{},n.element=i,n.parents=l,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),wA=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},A$=function(e){e.parser.addNodeFilter("details",function(n){Be(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){Be(n,function(a){var i=a.attr("data-mce-open");a.attr("open",Ct(i)?i:null),a.attr("data-mce-open",null)})})},E$=function(e){wA(e),A$(e)},T$=function(e){return In(e)&&zc(De.fromDom(e))},r8=function(e){var n=e.selection.getRng(),a=Ke.fromRangeStart(n),i=Ke.fromRangeEnd(n);if(Ke.isElementPosition(a)){var l=a.container();T$(l)&&nu(l).each(function(f){return n.setStart(f.container(),f.offset())})}if(Ke.isElementPosition(i)){var l=a.container();T$(l)&&rl(l).each(function(p){return n.setEnd(p.container(),p.offset())})}e.selection.setRng(O3(n))},EO=function(e){e.on("click",function(n){n.detail>=3&&r8(e)})},O$=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,l=a.defaultView;return{top:n.top+l.pageYOffset-i.clientTop,left:n.left+l.pageXOffset-i.clientLeft}},a8=function(e){return e.inline?O$(e.getBody()):{left:0,top:0}},o8=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},i8=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:l},pf=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=O$(e.getContentAreaContainer()),i=i8(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},D$=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},R$=function(e,n){return D$(a8(e),o8(e),pf(e,n))},CA=Ba,u8=Sl,s8=function(e,n){return CA(n)&&n!==e},l8=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!CA(n)},c8=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},f8=function(e,n,a,i){var l=e.dom,f=n.cloneNode(!0);l.setStyles(f,{width:a,height:i}),l.setAttrib(f,"data-mce-selected",null);var p=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),l.setStyles(f,{margin:0,boxSizing:"border-box"}),p.appendChild(f),p},v8=function(e,n){e.parentNode!==n&&n.appendChild(e)},TO=function(e,n,a,i,l,f){var p=0,C=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>l&&(p=n.pageX+a-l),n.pageY+i>f&&(C=n.pageY+i-f),e.style.width=a-p+"px",e.style.height=i-C+"px"},B$=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},d8=function(e){return e.button===0},$$=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},m8=function(e,n){return function(a){if(d8(a)){var i=sn(n.dom.getParents(a.target),WE(CA,u8)).getOr(null);if(s8(n.getBody(),i)){var l=n.dom.getPos(i),f=n.getBody(),p=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?f.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:p.offsetHeight)-2,relX:a.pageX-l.x,relY:a.pageY-l.y,width:i.offsetWidth,height:i.offsetHeight,ghost:f8(n,i,i.offsetWidth,i.offsetHeight)})}}}},h8=function(e,n){var a=Fi.throttle(function(i,l){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,l)},0);return n.on("remove",a.stop),function(i){return e.on(function(l){var f=Math.max(Math.abs(i.screenX-l.screenX),Math.abs(i.screenY-l.screenY));if(!l.dragging&&f>10){var p=n.fire("dragstart",{target:l.element});if(p.isDefaultPrevented())return;l.dragging=!0,n.focus()}if(l.dragging){var C=$$(l,R$(n,i));v8(l.ghost,n.getBody()),TO(l.ghost,C,l.width,l.height,l.maxX,l.maxY),a(i.clientX,i.clientY)}})}},g8=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},p8=function(e,n){return function(a){e.on(function(i){if(i.dragging){if(l8(n,g8(n.selection),i.element)){var l=c8(i.element),f=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});f.isDefaultPrevented()||n.undoManager.transact(function(){B$(i.element),n.insertContent(n.dom.getOuterHTML(l)),n._selectionOverrides.hideFakeCaret()})}n.fire("dragend")}}),M$(e)}},b8=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),M$(e)}},M$=function(e){e.on(function(n){B$(n.ghost)}),e.clear()},OO=function(e){var n=Xv(),a=Ta.DOM,i=document,l=m8(n,e),f=h8(n,e),p=p8(n,e),C=b8(n,e);e.on("mousedown",l),e.on("mousemove",f),e.on("mouseup",p),a.bind(i,"mousemove",f),a.bind(i,"mouseup",C),e.on("remove",function(){a.unbind(i,"mousemove",f),a.unbind(i,"mouseup",C)}),e.on("keydown",function(_){_.keyCode===$n.ESC&&C()})},y8=function(e){e.on("drop",function(n){var a=typeof n.clientX<"u"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(CA(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},P$=function(e){var n=function(l){if(!l.isDefaultPrevented()){var f=l.dataTransfer;f&&(pe(f.types,"Files")||f.files.length>0)&&(l.preventDefault(),l.type==="drop"&&Lk(e,"Dropped file type is not supported"))}},a=function(l){W0(e,l.target)&&n(l)},i=function(){var l=Ta.DOM,f=e.dom,p=document,C=e.inline?e.getBody():e.getDoc(),_=["drop","dragover"];Be(_,function($){l.bind(p,$,a),f.bind(C,$,n)}),e.on("remove",function(){Be(_,function($){l.unbind(p,$,a),f.unbind(C,$,n)})})};e.on("init",function(){Fi.setEditorTimeout(e,i,0)})},w8=function(e){OO(e),y8(e),Uh(e)&&P$(e)},C8=function(e){var n=Hb(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=zg(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},S8=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(Ru(a)){var i=mm(e.getBody(),a),l=Ba(i)?i:a;e.selection.getNode()!==l&&T1(e,l).each(function(f){return e.selection.setRng(f)})}})})},N$=Sl,go=Ba,SA=function(e,n){return mm(e.getBody(),n)},x8=function(e){var n=e.selection,a=e.dom,i=a.isBlock,l=e.getBody(),f=tu(e,l,i,function(){return il(e)}),p="sel-"+a.uniqueId(),C="data-mce-selected",_,$=function(dt){return a.hasClass(dt,"mce-offscreen-selection")},F=function(dt){return dt!==l&&(go(dt)||Ru(dt))&&a.isChildOf(dt,l)},V=function(dt){return Nl(dt)||hd(dt)||bg(dt)||yg(dt)},W=function(){var dt=a.get(p);return dt&&dt.getElementsByTagName("*")[0]},te=function(dt){dt&&n.setRng(dt)},re=n.getRng,ue=function(dt,On,kt,Yt){Yt===void 0&&(Yt=!0);var Ot=e.fire("ShowCaret",{target:On,direction:dt,before:kt});return Ot.isDefaultPrevented()?null:(Yt&&n.scrollIntoView(On,dt===-1),f.show(kt,On))},se=function(dt){dt.hasAttribute("data-mce-caret")&&(a2(dt),te(re()),n.scrollIntoView(dt))},be=function(){e.on("mouseup",function(Ot){var zt=re();zt.collapsed&&Am(e,Ot.clientX,Ot.clientY)&&I4(e,zt,!1).each(te)}),e.on("click",function(Ot){var zt=SA(e,Ot.target);zt&&(go(zt)&&(Ot.preventDefault(),e.focus()),N$(zt)&&a.isChildOf(zt,n.getNode())&&wt())}),e.on("blur NewBlock",wt),e.on("ResizeWindow FullscreenStateChanged",f.reposition);var dt=function(Ot){var zt=Ot.firstChild;if(Xt(zt))return!1;var un=Ke.before(zt);if(ca(un.getNode())&&Ot.childNodes.length===1)return!V(un);var ht=uo(Ot),nn=ht.next(un);return nn&&!V(nn)},On=function(Ot,zt){var un=a.getParent(Ot,i),ht=a.getParent(zt,i);return un===ht},kt=function(Ot,zt){var un=a.getParent(Ot,i),ht=a.getParent(zt,i);return Xt(un)?!1:Ot!==ht&&a.isChildOf(un,ht)&&go(SA(e,un))===!1?!0:!a.isChildOf(ht,un)&&!On(un,ht)&&dt(un)};e.on("tap",function(Ot){var zt=Ot.target,un=SA(e,zt);go(un)?(Ot.preventDefault(),T1(e,un).each(ot)):F(zt)&&T1(e,zt).each(ot)},!0),e.on("mousedown",function(Ot){var zt=Ot.target;if(!(zt!==l&&zt.nodeName!=="HTML"&&!a.isChildOf(zt,l))&&Am(e,Ot.clientX,Ot.clientY)!==!1){var un=SA(e,zt);if(un)go(un)?(Ot.preventDefault(),T1(e,un).each(ot)):(wt(),!(N$(un)&&Ot.shiftKey)&&!hm(Ot.clientX,Ot.clientY,n.getRng())&&(tn(),n.placeCaretAt(Ot.clientX,Ot.clientY)));else if(F(zt))T1(e,zt).each(ot);else if(im(zt)===!1){wt(),tn();var ht=Z4(l,Ot.clientX,Ot.clientY);if(ht&&!kt(zt,ht.node)){Ot.preventDefault();var nn=ue(1,ht.node,ht.before,!1);te(nn),e.getBody().focus()}}}}),e.on("keypress",function(Ot){$n.modifierPressed(Ot)||go(n.getNode())&&Ot.preventDefault()}),e.on("GetSelectionRange",function(Ot){var zt=Ot.range;if(_){if(!_.parentNode){_=null;return}zt=zt.cloneRange(),zt.selectNode(_),Ot.range=zt}}),e.on("SetSelectionRange",function(Ot){Ot.range=Oe(Ot.range);var zt=ot(Ot.range,Ot.forward);zt&&(Ot.range=zt)});var Yt=function(Ot){return Ot.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(Ot){var zt=Ot.range,un=zt.startContainer.parentNode;!$e(zt)&&!Yt(un)&&tn(),$(un)||wt()}),e.on("copy",function(Ot){var zt=Ot.clipboardData;if(!Ot.isDefaultPrevented()&&Ot.clipboardData&&!Rn.ie){var un=W();un&&(Ot.preventDefault(),zt.clearData(),zt.setData("text/html",un.outerHTML),zt.setData("text/plain",un.outerText||un.innerText))}}),w8(e),C8(e),S8(e)},ge=function(dt){return Mu(dt)||yp(dt)||wp(dt)},$e=function(dt){return ge(dt.startContainer)||ge(dt.endContainer)},Oe=function(dt){var On=e.schema.getShortEndedElements(),kt=a.createRng(),Yt=dt.startContainer,Ot=dt.startOffset,zt=dt.endContainer,un=dt.endOffset;return pr(On,Yt.nodeName.toLowerCase())?Ot===0?kt.setStartBefore(Yt):kt.setStartAfter(Yt):kt.setStart(Yt,Ot),pr(On,zt.nodeName.toLowerCase())?un===0?kt.setEndBefore(zt):kt.setEndAfter(zt):kt.setEnd(zt,un),kt},we=function(dt,On,kt){var Yt=e.$,Ot=dh(De.fromDom(e.getBody()),"#"+p).fold(function(){return Yt([])},function(ht){return Yt([ht.dom])});Ot.length===0&&(Ot=Yt('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",p),Ot.appendTo(e.getBody()));var zt=a.createRng();On===kt&&Rn.ie?(Ot.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(On),zt.setStartAfter(Ot[0].firstChild.firstChild),zt.setEndAfter(On)):(Ot.empty().append(ns).append(On).append(ns),zt.setStart(Ot[0].firstChild,1),zt.setEnd(Ot[0].lastChild,0)),Ot.css({top:a.getPos(dt,e.getBody()).y}),Ot[0].focus();var un=n.getSel();return un.removeAllRanges(),un.addRange(zt),zt},Ie=function(dt){var On=dt.cloneNode(!0),kt=e.fire("ObjectSelected",{target:dt,targetClone:On});if(kt.isDefaultPrevented())return null;var Yt=we(dt,kt.targetClone,On),Ot=De.fromDom(dt);return Be(Ai(De.fromDom(e.getBody()),"*[data-mce-selected]"),function(zt){_a(Ot,zt)||Je(zt,C)}),a.getAttrib(dt,C)||dt.setAttribute(C,"1"),_=dt,tn(),Yt},ot=function(dt,On){if(!dt)return null;if(dt.collapsed){if(!$e(dt)){var kt=On?1:-1,Yt=Qh(kt,l,dt),Ot=Yt.getNode(!On);if(im(Ot))return ue(kt,Ot,On?!Yt.isAtEnd():!1,!1);var zt=Yt.getNode(On);if(im(zt))return ue(kt,zt,On?!1:!Yt.isAtEnd(),!1)}return null}var un=dt.startContainer,ht=dt.startOffset,nn=dt.endOffset;if(un.nodeType===3&&ht===0&&go(un.parentNode)&&(un=un.parentNode,ht=a.nodeIndex(un),un=un.parentNode),un.nodeType!==1)return null;if(nn===ht+1&&un===dt.endContainer){var dr=un.childNodes[ht];if(F(dr))return Ie(dr)}return null},wt=function(){_&&_.removeAttribute(C),dh(De.fromDom(e.getBody()),"#"+p).each(oo),_=null},Bn=function(){f.destroy(),_=null},tn=function(){f.hide()};return Rn.ceFalse&&!km(e)&&be(),{showCaret:ue,showBlockCaretContainer:se,hideFakeCaret:tn,destroy:Bn}},_8=function(e){var n=et.each,a=$n.BACKSPACE,i=$n.DELETE,l=e.dom,f=e.selection,p=e.parser,C=Rn.gecko,_=Rn.ie,$=Rn.webkit,F="data:text/mce-internal,",V=_?"Text":"URL",W=function(gt,$t){try{e.getDoc().execCommand(gt,!1,$t)}catch{}},te=function(gt){return gt.isDefaultPrevented()},re=function(gt){var $t,pn;gt.dataTransfer&&(e.selection.isCollapsed()&&gt.target.tagName==="IMG"&&f.select(gt.target),$t=e.selection.getContent(),$t.length>0&&(pn=F+escape(e.id)+","+escape($t),gt.dataTransfer.setData(V,pn)))},ue=function(gt){var $t;return gt.dataTransfer&&($t=gt.dataTransfer.getData(V),$t&&$t.indexOf(F)>=0)?($t=$t.substr(F.length).split(","),{id:unescape($t[0]),html:unescape($t[1])}):null},se=function(gt,$t){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:gt,internal:$t}):e.execCommand("mceInsertContent",!1,gt)},be=function(){var gt=function(pn){var ze=l.create("body"),xt=pn.cloneContents();return ze.appendChild(xt),f.serializer.serialize(ze,{format:"html"})},$t=function(pn){var ze=gt(pn),xt=l.createRng();xt.selectNode(e.getBody());var pt=gt(xt);return ze===pt};e.on("keydown",function(pn){var ze=pn.keyCode,xt,pt;if(!te(pn)&&(ze===i||ze===a)){if(xt=e.selection.isCollapsed(),pt=e.getBody(),xt&&!l.isEmpty(pt)||!xt&&!$t(e.selection.getRng()))return;pn.preventDefault(),e.setContent(""),pt.firstChild&&l.isBlock(pt.firstChild)?e.selection.setCursorLocation(pt.firstChild,0):e.selection.setCursorLocation(pt,0),e.nodeChanged()}})},ge=function(){e.shortcuts.add("meta+a",null,"SelectAll")},$e=function(){e.inline||l.bind(e.getDoc(),"mousedown mouseup",function(gt){var $t;if(gt.target===e.getDoc().documentElement)if($t=f.getRng(),e.getBody().focus(),gt.type==="mousedown"){if(Mu($t.startContainer))return;f.placeCaretAt(gt.clientX,gt.clientY)}else f.setRng($t)})},Oe=function(){e.on("keydown",function(gt){if(!te(gt)&&gt.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){var $t=f.getNode(),pn=$t.previousSibling;if($t.nodeName==="HR"){l.remove($t),gt.preventDefault();return}pn&&pn.nodeName&&pn.nodeName.toLowerCase()==="hr"&&(l.remove(pn),gt.preventDefault())}}})},we=function(){Range.prototype.getClientRects||e.on("mousedown",function(gt){if(!te(gt)&&gt.target.nodeName==="HTML"){var $t=e.getBody();$t.blur(),Fi.setEditorTimeout(e,function(){$t.focus()})}})},Ie=function(){e.on("click",function(gt){var $t=gt.target;/^(IMG|HR)$/.test($t.nodeName)&&l.getContentEditableParent($t)!=="false"&&(gt.preventDefault(),e.selection.select($t),e.nodeChanged()),$t.nodeName==="A"&&l.hasClass($t,"mce-item-anchor")&&(gt.preventDefault(),f.select($t))})},ot=function(){var gt=function(){var pn=l.getAttribs(f.getStart().cloneNode(!1));return function(){var ze=f.getStart();ze!==e.getBody()&&(l.setAttrib(ze,"style",null),n(pn,function(xt){ze.setAttributeNode(xt.cloneNode(!0))}))}},$t=function(){return!f.isCollapsed()&&l.getParent(f.getStart(),l.isBlock)!==l.getParent(f.getEnd(),l.isBlock)};e.on("keypress",function(pn){var ze;if(!te(pn)&&(pn.keyCode===8||pn.keyCode===46)&&$t())return ze=gt(),e.getDoc().execCommand("delete",!1,null),ze(),pn.preventDefault(),!1}),l.bind(e.getDoc(),"cut",function(pn){var ze;!te(pn)&&$t()&&(ze=gt(),Fi.setEditorTimeout(e,function(){ze()}))})},wt=function(){e.on("keydown",function(gt){if(!te(gt)&&gt.keyCode===a&&f.isCollapsed()&&f.getRng().startOffset===0){var $t=f.getNode().previousSibling;if($t&&$t.nodeName&&$t.nodeName.toLowerCase()==="table")return gt.preventDefault(),!1}})},Bn=function(){e.on("keydown",function(gt){var $t,pn;if(!(te(gt)||gt.keyCode!==$n.BACKSPACE)){$t=f.getRng();var ze=$t.startContainer,xt=$t.startOffset,pt=l.getRoot();if(pn=ze,!(!$t.collapsed||xt!==0)){for(;pn&&pn.parentNode&&pn.parentNode.firstChild===pn&&pn.parentNode!==pt;)pn=pn.parentNode;pn.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,pn),$t=l.createRng(),$t.setStart(ze,0),$t.setEnd(ze,0),f.setRng($t))}}})},tn=function(){var gt=function(){W("StyleWithCSS",!1),W("enableInlineTableEditing",!1),kx(e)||W("enableObjectResizing",!1)};cT(e)||e.on("BeforeExecCommand mousedown",gt)},dt=function(){var gt=function(){n(l.select("a"),function($t){var pn=$t.parentNode,ze=l.getRoot();if(pn.lastChild===$t){for(;pn&&!l.isBlock(pn);){if(pn.parentNode.lastChild!==pn||pn===ze)return;pn=pn.parentNode}l.add(pn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function($t){($t.type==="setcontent"||$t.command==="mceInsertLink")&&gt()})},On=function(){Ei(e)&&e.on("init",function(){W("DefaultParagraphSeparator",Ei(e))})},kt=function(){e.on("keyup focusin mouseup",function(gt){$n.modifierPressed(gt)||f.normalize()},!0)},Yt=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Ot=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},zt=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(gt){var $t;if(gt.target.nodeName==="HTML"){if(Rn.ie>11){e.getBody().focus();return}$t=e.selection.getRng(),e.getBody().focus(),e.selection.setRng($t),e.selection.normalize(),e.nodeChanged()}}))},un=function(){Rn.mac&&e.on("keydown",function(gt){if($n.metaKeyPressed(gt)&&!gt.shiftKey&&(gt.keyCode===37||gt.keyCode===39)){gt.preventDefault();var $t=e.selection.getSel();$t.modify("move",gt.keyCode===37?"backward":"forward","lineboundary")}})},ht=function(){W("AutoUrlDetect",!1)},nn=function(){e.on("click",function(gt){var $t=gt.target;do if($t.tagName==="A"){gt.preventDefault();return}while($t=$t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},dr=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(gt){gt.preventDefault()})})},jr=function(){p.addNodeFilter("br",function(gt){for(var $t=gt.length;$t--;)gt[$t].attr("class")==="Apple-interchange-newline"&&gt[$t].remove()})},zr=function(){e.on("dragstart",function(gt){re(gt)}),e.on("drop",function(gt){if(!te(gt)){var $t=ue(gt);if($t&&$t.id!==e.id){gt.preventDefault();var pn=Fw(gt.x,gt.y,e.getDoc());f.setRng(pn),se($t.html,!0)}}})},Bi=Qt,Za=function(){if(!C||e.removed)return!1;var gt=e.selection.getSel();return!gt||!gt.rangeCount||gt.rangeCount===0},Vu=function(){$&&($e(),Ie(),dr(),ge(),Rn.iOS&&(Ot(),zt(),nn())),C&&(we(),tn(),Yt(),un())},vs=function(){Bn(),be(),Rn.windowsPhone||kt(),$&&($e(),Ie(),On(),dr(),wt(),jr(),Rn.iOS?(Ot(),zt(),nn()):ge()),Rn.ie>=11&&(zt(),wt()),Rn.ie&&(ge(),ht(),zr()),C&&(Oe(),we(),ot(),tn(),dt(),Yt(),un(),wt())};return km(e)?Vu():vs(),{refreshContentEditable:Bi,isHidden:Za}},xA=Ta.DOM,DO=function(e,n){var a=De.fromDom(e.getBody()),i=ao(su(a)),l=De.fromTag("style");R(l,"type","text/css"),Io(l,De.fromText(n)),Io(i,l),e.on("remove",function(){oo(l)})},k8=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},_A=function(e){return ni(e,function(n){return He(n)===!1})},I$=function(e){var n=e.settings;return _A({block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements,padd_empty_block_inline_children:n.format_empty_lines})},z$=function(e){var n=e.settings,a=e.editorUpload.blobCache;return _A({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:k8(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})},A8=function(e){var n=e.settings;return Mn(Mn(Mn({},z$(e)),I$(e)),_A({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before}))},E8=function(e){var n=Pk(z$(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var l=a.length,f,p,C=e.dom,_="data-mce-"+i;l--;)if(f=a[l],p=f.attr(i),p&&!f.attr(_)){if(p.indexOf("data:")===0||p.indexOf("blob:")===0)continue;i==="style"?(p=C.serializeStyle(C.parseStyle(p),f.name),p.length||(p=null),f.attr(_,p),f.attr(i,p)):i==="tabindex"?(f.attr(_,p),f.attr(i,null)):f.attr(_,e.convertURL(p,i,f.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var l=a[i],f=l.attr("type")||"no/type";f.indexOf("mce-")!==0&&l.attr("type","mce-"+f)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var l=a[i];l.type=8,l.name="#comment",l.value="[CDATA["+e.dom.encode(l.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,l=e.schema.getNonEmptyElements();i--;){var f=a[i];f.isEmpty(l)&&f.getAll("br").length===0&&(f.append(new ul("br",1)).shortEnded=!0)}}),n},T8=function(e){e.settings.auto_focus&&Fi.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},O8=function(e){var n=e.dom.getRoot();!e.inline&&(!id(e)||e.selection.getStart(!0)===n)&&nu(n).each(function(a){var i=a.getNode(),l=Co(i)?nu(i).getOr(a):a;Rn.browser.isIE()?r3(e,l.toRange()):e.selection.setRng(l.toRange())})},D8=function(e){e.bindPendingEventDelegates(),e.initialized=!0,r_(e),e.focus(!0),O8(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),T8(e)},L$=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},R8=function(e,n,a){var i=[new oi(function(l,f){return L$(e).loadAll(n,l,f)})];return e.inline?i:i.concat([new oi(function(l,f){return e.ui.styleSheetLoader.loadAll(a,l,f)})])},F$=function(e){var n=L$(e),a=_x(e),i=e.contentCSS,l=function(){n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},f=function(){e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){var p="";et.each(e.contentStyles,function(_){p+=_+`\r
`}),e.dom.addStyle(p)}var C=oi.all(R8(e,i,a)).then(f).catch(f);return e.settings.content_style&&DO(e,e.settings.content_style),C},B8=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();af(e),!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,xA.setAttrib(i,"spellcheck","false")),e.quirks=_8(e),n_(e);var l=fc(e);l!==void 0&&(i.dir=l),n.protect&&e.on("BeforeSetContent",function(f){et.each(n.protect,function(p){f.content=f.content.replace(p,function(C){return"<!--mce:protected "+escape(C)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(f){e.composing=f.type==="compositionstart"})},$8=function(e){km(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},RO=function(e){e.removed!==!0&&($8(e),D8(e))},kA=function(e,n){var a=e.settings,i=e.getElement(),l=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(l.open(),l.write(e.iframeHTML),l.close()),e.inline&&(xA.addClass(i,"mce-content-body"),e.contentDocument=l=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var f=e.getBody();f.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&xA.getStyle(f,"position",!0)==="static"&&(f.style.position="relative"),f.contentEditable=e.getParam("content_editable_state",!0)),f.disabled=!1,e.editorUpload=Ez(e),e.schema=Ds(I$(e)),e.dom=Ta(l,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:s0(e),referrerPolicy:l0(e),onSetAttrib:function(_){e.fire("SetAttrib",_)}}),e.parser=E8(e),e.serializer=vB(A8(e),e),e.selection=JR(e.dom,e.getWin(),e.serializer,e),e.annotator=$0(e),e.formatter=$B(e),e.undoManager=vf(e),e._nodeChangeDispatcher=new k$(e),e._selectionOverrides=x8(e),UL(e),E$(e),km(e)||EO(e);var p=n8(e);VL(e,p),N5(e),LB(e);var C=pI(e);B8(e),C.fold(function(){F$(e).then(function(){return RO(e)})},function(_){e.setProgressState(!0),F$(e).then(function(){_().then(function($){e.setProgressState(!1),RO(e)},function($){e.notificationManager.open({type:"error",text:String($)}),RO(e)})})})},lS=Ta.DOM,M8=function(e,n){if(document.domain!==window.location.hostname&&Rn.browser.isIE()){var a=Gi("mce");e[a]=function(){kA(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return lS.setAttrib(n,"src",i),!0}return!1},P8=function(e,n,a,i){var l=De.fromTag("iframe");return H(l,i),H(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),Zd(l,"tox-edit-area__iframe"),l},N8=function(e){var n=wx(e)+"<html><head>";Y2(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=ZE(e),i=QE(e),l=e.translate(Bx(e));return o0(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+o0(e)+'" />'),n+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+l+'">')+"<br></body></html>",n},H$=function(e,n){var a=e.translate("Rich Text Area"),i=P8(e.id,a,n.height,JE(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var l=M8(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=N8(e),lS.add(n.iframeContainer,i),l},I8=function(e,n){var a=H$(e,n);n.editorContainer&&(lS.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=lS.isHidden(n.editorContainer)),e.getElement().style.display="none",lS.setAttrib(e.id,"aria-hidden","true"),a||kA(e)},BO=Ta.DOM,$O=function(e,n,a){var i=sl.get(a),l=sl.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=et.trim(a),i&&et.inArray(n,a)===-1){if(et.each(sl.dependencies(a),function(p){$O(e,n,p)}),e.plugins[a])return;try{var f=new i(e,l,e.$);e.plugins[a]=f,f.init&&(f.init(e,l),n.push(a))}catch(p){OB(e,a,p)}}},MO=function(e){return e.replace(/^\-/,"")},z8=function(e){var n=[];et.each(d0(e).split(/[ ,]/),function(a){$O(e,n,MO(a))})},L8=function(e){var n=et.trim(Yc(e)),a=e.ui.registry.getAll().icons,i=Mn(Mn({},zk.get("default").icons),zk.get(n).icons);Hr(i,function(l,f){pr(a,f)||e.ui.registry.addIcon(f,l)})},F8=function(e){var n=Hh(e);if(Ct(n)){e.settings.theme=MO(n);var a=bd.get(n);e.theme=new a(e,bd.urls[n]),e.theme.init&&e.theme.init(e,bd.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},V$=function(e){return e.theme.renderUI()},H8=function(e){var n=e.getElement(),a=Hh(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},U$=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},W$=function(e){var n=BO.create("div");return BO.insertAfter(n,e),U$(n)},V8=function(e){var n=e.getElement();return e.inline?U$(null):W$(n)},U8=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,Ct(Hh(e))?V$(e):Nt(Hh(e))?H8(e):V8(e)},j$=function(e,n){var a={show:K.from(n.show).getOr(Qt),hide:K.from(n.hide).getOr(Qt),disable:K.from(n.disable).getOr(Qt),isDisabled:K.from(n.isDisabled).getOr(Dt),enable:function(){e.mode.isReadOnly()||K.from(n.enable).map(ta)}};e.ui=Mn(Mn({},e.ui),a)},G$=function(e){e.fire("ScriptsLoaded"),L8(e),F8(e),z8(e);var n=U8(e);j$(e,K.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,xz(e),e.inline?kA(e):I8(e,a)},M1=Ta.DOM,q$=function(e){return e.charAt(0)==="-"},K$=function(e,n){var a=c0(n),i=ui(n);if(gu.hasCode(a)===!1&&a!=="en"){var l=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(l,Qt,void 0,function(){VC(n,l,a)})}},X$=function(e,n,a,i){var l=Hh(n);if(Ct(l)){if(!q$(l)&&!pr(bd.urls,l)){var f=Tx(n);f?bd.load(l,n.documentBaseURI.toAbsolute(f)):bd.load(l,"themes/"+l+"/theme"+a+".js")}e.loadQueue(function(){bd.waitFor(l,i)})}else i()},W8=function(e){return K.from(u0(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:K.none()}})},Y$=function(e,n,a){return K.from(n).filter(function(i){return i.length>0&&!zk.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:K.some(i)}})},j8=function(e,n,a){var i=Y$(n,"default",a),l=W8(n).orThunk(function(){return Y$(n,Yc(n),"")});Be(Qn([i,l]),function(f){e.add(f.url,Qt,void 0,function(){Cz(n,f.url,f.name.getOrUndefined())})})},G8=function(e,n){et.each(vT(e),function(a,i){sl.load(i,a,Qt,void 0,function(){Hk(e,a,i)}),e.settings.plugins+=" "+i}),et.each(d0(e).split(/[ ,]/),function(a){if(a=et.trim(a),a&&!sl.urls[a])if(q$(a)){a=a.substr(1,a.length);var i=sl.dependencies(a);et.each(i,function(f){var p={prefix:"plugins/",resource:f,suffix:"/plugin"+n+".js"},C=sl.createUrl(p,f);sl.load(C.resource,C,Qt,void 0,function(){Hk(e,C.prefix+C.resource+C.suffix,C.resource)})})}else{var l={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};sl.load(a,l,Qt,void 0,function(){Hk(e,l.prefix+l.resource+l.suffix,a)})}})},q8=function(e,n){var a=Yf.ScriptLoader;X$(a,e,n,function(){K$(a,e),j8(a,e,n),G8(e,n),a.loadQueue(function(){e.removed||G$(e)},e,function(){e.removed||G$(e)})})},K8=function(e,n){return _l.forElement(e,{contentCssCors:fT(n),referrerPolicy:l0(n)})},X8=function(e){var n=e.id;gu.setCode(c0(e));var a=function(){M1.unbind(window,"ready",a),e.render()};if(!xh.Event.domLoaded){M1.bind(window,"ready",a);return}if(e.getElement()&&Rn.contentEditable){var i=De.fromDom(e.getElement()),l=vn(i);e.on("remove",function(){bt(i.dom.attributes,function(p){return Je(i,p.name)}),H(i,l)}),e.ui.styleSheetLoader=K8(i,e),iT(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var f=e.getElement().form||M1.getParent(n,"form");f&&(e.formElement=f,Ox(e)&&!wi(e.getElement())&&(M1.insertAfter(M1.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(p){e.fire(p.type,p)},M1.bind(f,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),Dx(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)})),e.windowManager=_4(e),e.notificationManager=cv(e),nw(e)&&e.on("GetContent",function(p){p.save&&(p.content=M1.encode(p.content))}),uT(e)&&e.on("submit",function(){e.initialized&&e.save()}),v0(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),q8(e,e.suffix)}},Y8=function(e,n){return jR(e,n)},J8={"font-size":"size","font-family":"face"},Z8=function(e,n,a){var i=function(f){return Ci(f,e).orThunk(function(){return yo(f)==="font"?Qr(J8,e).bind(function(p){return fe(f,p)}):K.none()})},l=function(f){return _a(De.fromDom(n),f)};return N3(De.fromDom(a),function(f){return i(f)},l)},AA=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},J$=function(e,n){return K.from(Ta.DOM.getStyle(n,e,!0))},PO=function(e){return function(n,a){return K.from(a).map(De.fromDom).filter(Ra).bind(function(i){return Z8(e,n,i.dom).or(J$(e,i.dom))}).getOr("")}},Q8=PO("font-size"),Z$=Eo(AA,PO("font-family")),Q$=function(e){return nu(e.getBody()).map(function(n){var a=n.container();return rn(a)?a.parentNode:a})},eF=function(e){return K.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?K.none():K.from(e.selection.getStart(!0))})},tF=function(e,n){return eF(e).orThunk(ft(Q$,e)).map(De.fromDom).filter(Ra).bind(n)},NO=function(e,n){return tF(e,Ce(K.some,n))},EA=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=Vp(e),l=am(e);return l?l[a-1]||n:i[a-1]||n}else return n}else return n},nF=function(e){var n=e.split(/\s*,\s*/);return je(n,function(a){return a.indexOf(" ")!==-1&&!(co(a,'"')||co(a,"'"))?"'"+a+"'":a}).join(",")},IO=function(e,n){var a=EA(e,n);e.formatter.toggle("fontname",{value:nF(a)}),e.nodeChanged()},rF=function(e){return NO(e,function(n){return Z$(e.getBody(),n.dom)}).getOr("")},aF=function(e,n){e.formatter.toggle("fontsize",{value:EA(e,n)}),e.nodeChanged()},oF=function(e){return NO(e,function(n){return Q8(e.getBody(),n.dom)}).getOr("")},eM=function(e){return NO(e,function(n){var a=De.fromDom(e.getBody()),i=N3(n,function(f){return Ci(f,"line-height")},ft(_a,a)),l=function(){var f=parseFloat(er(n,"line-height")),p=parseFloat(er(n,"font-size"));return String(f/p)};return i.getOrThunk(l)}).getOr("")},iF=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},uF=function(e){if(typeof e!="string"){var n=et.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},sF=function(e,n){var a=uF(n);UR(e,a.content,a.details)},TA=et.each,lF=et.map,Hs=et.inArray,Fg=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,l){var f,p=!1,C=this;if(!C.editor.removed){if(n.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!l||!l.skip_focus)?C.editor.focus():Zw(C.editor)),l=C.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),l.isDefaultPrevented())return!1;var _=n.toLowerCase();if(f=C.commands.exec[_])return f(_,a,i),C.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(TA(this.editor.plugins,function($){if($.execCommand&&$.execCommand(n,a,i))return C.editor.fire("ExecCommand",{command:n,ui:a,value:i}),p=!0,!1}),p)return p;if(C.editor.theme&&C.editor.theme.execCommand&&C.editor.theme.execCommand(n,a,i))return C.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{p=C.editor.getDoc().execCommand(n,a,i)}catch{}return p?(C.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch{}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch{}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;TA(n,function(l,f){TA(f.toLowerCase().split(","),function(p){i.commands[a][p]=l})})},e.prototype.addCommand=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.exec[n]=function(f,p,C,_){return a.call(i||l.editor,p,C,_)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch{}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||l.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||l.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":Qt,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(l,f,p){G0(n,p)},"Cut,Copy,Paste":function(l){var f=n.getDoc(),p;try{a.execNativeCommand(l)}catch{p=!0}if(l==="paste"&&!f.queryCommandEnabled(l)&&(p=!0),p||!f.queryCommandSupported(l)){var C=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Rn.mac&&(C=C.replace(/Ctrl\+/g,"⌘+")),n.notificationManager.open({text:C,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var l=n.dom.getParent(n.selection.getStart(),"a");l&&n.dom.remove(l,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(l){var f=l.substring(7);f==="full"&&(f="justify"),TA("left,center,right,justify".split(","),function(p){f!==p&&n.formatter.remove("align"+p)}),f!=="none"&&a.toggleFormat("align"+f)},"InsertUnorderedList,InsertOrderedList":function(l){var f;a.execNativeCommand(l);var p=n.dom.getParent(n.selection.getNode(),"ol,ul");p&&(f=p.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(f.nodeName)&&(a.storeSelection(),n.dom.split(f,p),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){a.toggleFormat(l)},"ForeColor,HiliteColor":function(l,f,p){a.toggleFormat(l,{value:p})},FontName:function(l,f,p){IO(n,p)},FontSize:function(l,f,p){aF(n,p)},LineHeight:function(l,f,p){iF(n,p)},Lang:function(l,f,p){a.toggleFormat(l,{value:p.code,customValue:p.customCode})},RemoveFormat:function(l){n.formatter.remove(l)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(l,f,p){return a.toggleFormat(p||"p")},mceCleanup:function(){var l=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(l)},mceRemoveNode:function(l,f,p){var C=p||n.selection.getNode();C!==n.getBody()&&(a.storeSelection(),n.dom.remove(C,!0),a.restoreSelection())},mceSelectNodeDepth:function(l,f,p){var C=0;n.dom.getParent(n.selection.getNode(),function(_){if(_.nodeType===1&&C++===p)return n.selection.select(_),!1},n.getBody())},mceSelectNode:function(l,f,p){n.selection.select(p)},mceInsertContent:function(l,f,p){sF(n,p)},mceInsertRawHTML:function(l,f,p){n.selection.setContent("tiny_mce_marker");var C=n.getContent();n.setContent(C.replace(/tiny_mce_marker/g,function(){return p}))},mceInsertNewLine:function(l,f,p){h$(n,p)},mceToggleFormat:function(l,f,p){a.toggleFormat(p)},mceSetContent:function(l,f,p){n.setContent(p)},"Indent,Outdent":function(l){oO(n,l)},mceRepaint:Qt,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(l,f,p){n.execCommand("mceInsertContent",!1,p.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(l,f,p){typeof p=="string"&&(p={href:p});var C=n.dom.getParent(n.selection.getNode(),"a");p.href=p.href.replace(/ /g,"%20"),(!C||!p.href)&&n.formatter.remove("link"),p.href&&n.formatter.apply("link",p,C)},selectAll:function(){var l=n.dom.getParent(n.selection.getStart(),Sl);if(l){var f=n.dom.createRng();f.selectNodeContents(l),n.selection.setRng(f)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(l,f,p){return c$(n,p),!0}});var i=function(l){return function(){var f=n.selection,p=f.isCollapsed()?[n.dom.getParent(f.getNode(),n.dom.isBlock)]:f.getSelectedBlocks(),C=lF(p,function(_){return!!n.formatter.matchNode(_,l)});return Hs(C,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){return a.isFormatMatch(l)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return B5(n)},"InsertUnorderedList,InsertOrderedList":function(l){var f=n.dom.getParent(n.selection.getNode(),"ul,ol");return f&&(l==="insertunorderedlist"&&f.tagName==="UL"||l==="insertorderedlist"&&f.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return rF(n)},this),a.addQueryValueHandler("FontSize",function(){return oF(n)},this),a.addQueryValueHandler("LineHeight",function(){return eM(n)},this)},e}(),P1="data-mce-contenteditable",cF=function(e,n,a){M2(e,n)&&a===!1?$2(e,n):a&&Zd(e,n)},zO=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch{}},OA=function(e,n){e.dom.contentEditable=n?"true":"false"},fF=function(e){Be(Ai(e,'*[contenteditable="true"]'),function(n){R(n,P1,"true"),OA(n,!1)})},vF=function(e){Be(Ai(e,"*["+P1+'="true"]'),function(n){Je(n,P1),OA(n,!0)})},tM=function(e){K.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},Dy=function(e){e.selection.setRng(e.selection.getRng())},dF=function(e,n){var a=De.fromDom(e.getBody());cF(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),tM(e),e.readonly=!0,OA(a,!1),fF(a)):(e.readonly=!1,OA(a,!0),vF(a),zO(e,"StyleWithCSS",!1),zO(e,"enableInlineTableEditing",!1),zO(e,"enableObjectResizing",!1),M_(e)&&e.focus(),Dy(e),e.nodeChanged())},N1=function(e){return e.readonly},nM=function(e){e.parser.addAttributeFilter("contenteditable",function(n){N1(e)&&Be(n,function(a){a.attr(P1,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(P1,function(n){N1(e)&&Be(n,function(a){a.attr("contenteditable",a.attr(P1))})}),e.serializer.addTempAttr(P1)},mv=function(e){e.serializer?nM(e):e.on("PreInit",function(){nM(e)})},mF=function(e){return e.type==="click"},hF=function(e,n){var a=function(i){return _a(i,De.fromDom(e.getBody()))};return vo(n,"a",a).bind(function(i){return fe(i,"href")})},rM=function(e,n){if(mF(n)&&!$n.metaKeyPressed(n)){var a=De.fromDom(n.target);hF(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var l=e.dom.select(i+',[name="'+Qm(i,"#")+'"]');l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},gF=function(e){e.on("ShowCaret",function(n){N1(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){N1(e)&&n.preventDefault()})},aM=et.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),DA=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Dt}return e.isNative=function(n){return!!aM[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),l=vt(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);var f=this.bindings[i];if(f)for(var p=0,C=f.length;p<C;p++){var _=f[p];if(!_.removed){if(_.once&&this.off(i,_.func),l.isImmediatePropagationStopped())return l;if(_.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l},e.prototype.on=function(n,a,i,l){if(a===!1&&(a=Dt),a){var f={func:a,removed:!1};l&&et.extend(f,l);for(var p=n.toLowerCase().split(" "),C=p.length;C--;){var _=p[C],$=this.bindings[_];$||($=[],this.toggleEvent(_,!0)),i?$=Au([f],$,!0):$=Au(Au([],$,!0),[f],!1),this.bindings[_]=$}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var l=n.toLowerCase().split(" "),f=l.length;f--;){var p=l[f],C=this.bindings[p];if(!p)return Hr(this.bindings,function($,F){i.toggleEvent(F,!1),delete i.bindings[F]}),this;if(C){if(!a)C.length=0;else{var _=on(C,function($){return $.func===a});C=_.fail,this.bindings[p]=C,Be(_.pass,function($){$.removed=!0})}C.length||(this.toggleEvent(n,!1),delete this.bindings[p])}}else Hr(this.bindings,function($,F){i.toggleEvent(F,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),I1=function(e){return e._eventDispatcher||(e._eventDispatcher=new DA({scope:e,toggleEvent:function(n,a){DA.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},RA={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var l=I1(i).fire(e,n);if(a!==!1&&i.parent)for(var f=i.parent();f&&!l.isPropagationStopped();)f.fire(e,l,!1),f=f.parent();return l},on:function(e,n,a){return I1(this).on(e,n,a)},off:function(e,n){return I1(this).off(e,n)},once:function(e,n){return I1(this).once(e,n)},hasEventListeners:function(e){return I1(this).has(e)}},BA=Ta.DOM,z1,$A=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=f0(e);return a?(e.eventRoot||(e.eventRoot=BA.select(a)[0]),e.eventRoot):e.getBody()},pF=function(e){return!e.hidden&&!N1(e)},LO=function(e,n,a){pF(e)?e.fire(n,a):N1(e)&&rM(e,a)},FO=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=$A(e,n);if(f0(e)){if(z1||(z1={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||z1&&(Hr(z1,function(l,f){e.dom.unbind($A(e,f))}),z1=null)})),z1[n])return;a=function(l){for(var f=l.target,p=e.editorManager.get(),C=p.length;C--;){var _=p[C].getBody();(_===f||BA.isChildOf(f,_))&&LO(p[C],n,l)}},z1[n]=a,BA.bind(i,n,a)}else a=function(l){LO(e,n,l)},BA.bind(i,n,a),e.delegates[n]=a}},oM=Mn(Mn({},RA),{bindPendingEventDelegates:function(){var e=this;et.each(e._pendingNativeEvents,function(n){FO(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||a.removed||(n?a.initialized?FO(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind($A(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(Hr(e.delegates,function(i,l){e.dom.unbind($A(e,l),l,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),iM=["design","readonly"],uM=function(e,n,a,i){var l=a[n.get()],f=a[i];try{f.activate()}catch(p){console.error("problem while activating editor mode "+i+":",p);return}l.deactivate(),l.editorReadOnly!==f.editorReadOnly&&dF(e,f.editorReadOnly),n.set(i),Pw(e,i)},bF=function(e,n,a,i){if(i!==a.get()){if(!pr(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?uM(e,a,n,i):e.on("init",function(){return uM(e,a,n,i)})}},yF=function(e,n,a){var i;if(pe(iM,n))throw new Error("Cannot override default mode "+n);return Mn(Mn({},e),(i={},i[n]=Mn(Mn({},a),{deactivate:function(){try{a.deactivate()}catch(l){console.error("problem while deactivating editor mode "+n+":",l)}}}),i))},wF=function(e){var n=hu("design"),a=hu({design:{activate:Qt,deactivate:Qt,editorReadOnly:!1},readonly:{activate:Qt,deactivate:Qt,editorReadOnly:!0}});return mv(e),gF(e),{isReadOnly:function(){return N1(e)},set:function(i){return bF(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,l){a.set(yF(a.get(),i,l))}}},MA=et.each,cS=et.explode,sM={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},lM=et.makeMap("alt,ctrl,shift,meta,access"),CF=function(e){var n,a={};MA(cS(e.toLowerCase(),"+"),function(l){l in lM?a[l]=!0:/^[0-9]{2,}$/.test(l)?a.keyCode=parseInt(l,10):(a.charCode=l.charCodeAt(0),a.keyCode=sM[l]||l.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in lM)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,Rn.mac?a.ctrl=!0:a.shift=!0),a.meta&&(Rn.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},PA=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(MA(a.shortcuts,function(l){if(a.matchShortcut(i,l))return a.pendingPatterns=l.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(l),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,l){var f=this,p=f.normalizeCommandFunc(i);return MA(cS(et.trim(n)),function(C){var _=f.createShortcut(C,a,p,l);f.shortcuts[_.id]=_}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:et.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,l){var f=et.map(cS(n,">"),CF);return f[f.length-1]=et.extend(f[f.length-1],{func:i,scope:l||this.editor}),et.extend(f[0],{desc:this.editor.translate(a),subpatterns:f.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),cM=function(){var e={},n={},a={},i={},l={},f={},p={},C=function($,F){return function(V,W){return $[V.toLowerCase()]=Mn(Mn({},W),{type:F})}},_=function($,F){return i[$.toLowerCase()]=F};return{addButton:C(e,"button"),addGroupToolbarButton:C(e,"grouptoolbarbutton"),addToggleButton:C(e,"togglebutton"),addMenuButton:C(e,"menubutton"),addSplitButton:C(e,"splitbutton"),addMenuItem:C(n,"menuitem"),addNestedMenuItem:C(n,"nestedmenuitem"),addToggleMenuItem:C(n,"togglemenuitem"),addAutocompleter:C(a,"autocompleter"),addContextMenu:C(l,"contextmenu"),addContextToolbar:C(f,"contexttoolbar"),addContextForm:C(f,"contextform"),addSidebar:C(p,"sidebar"),addIcon:_,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:l,contextToolbars:f,sidebars:p}}}},SF=function(){var e=cM();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},L1=Ta.DOM,fM=et.extend,xF=et.each,vM=et.resolve,_F=Rn.ie,NA=function(){function e(n,a,i){var l=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,fM(this,oM),this.settings=_B(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(Yf.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ta.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Pu.languageLoad=this.settings.language_load,Pu.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new vd(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new PA(this),this.editorCommands=new Fg(this),this.settings.cache_suffix&&(Rn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:SF(),styleSheetLoader:void 0,show:Qt,hide:Qt,enable:Qt,disable:Qt,isDisabled:Dt};var f=this,p=wF(f);this.mode=p,this.setMode=p.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Jn.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}return e.prototype.render=function(){X8(this)},e.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},e.prototype.hasFocus=function(){return il(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var l=this,f=l.settings[n],p;if(f)return l.callbackLookup&&(p=l.callbackLookup[n])&&(f=p.func,p=p.scope),typeof f=="string"&&(p=f.replace(/\.\w+$/,""),p=p?vM(p):0,f=vM(f),l.callbackLookup=l.callbackLookup||{},l.callbackLookup[n]={func:f,scope:p}),f.apply(p||l,a)},e.prototype.translate=function(n){return gu.translate(n)},e.prototype.getParam=function(n,a,i){return gz(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=pe(d0(this).split(/[ ,]/),n);return i?a?sl.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,l){this.shortcuts.add(n,a,i,l)},e.prototype.execCommand=function(n,a,i,l){return this.editorCommands.execCommand(n,a,i,l)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(L1.show(n.getContainer()),L1.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(_F&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(L1.hide(n.getContainer()),L1.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),l;if(a.removed)return"";if(i){n=n||{},n.load=!0;var f=wi(i)?i.value:i.innerHTML;return l=a.setContent(f,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,l}},e.prototype.save=function(n){var a=this,i=a.getElement(),l,f;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,l=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),l=n.content,wi(i)?i.value=l:((n.is_removing||!a.inline)&&(i.innerHTML=l),(f=L1.getParent(a.id,"form"))&&xF(f.elements,function(p){if(p.name===a.id)return p.value=l,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),l},e.prototype.setContent=function(n,a){return w4(this,n,a)},e.prototype.getContent=function(n){return KI(this,n)},e.prototype.insertContent=function(n,a){a&&(n=fM({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?w4(this,this.startContent,{format:"raw"}):w4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=L1.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=L1.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var l=this,f=l.settings;return f.urlconverter_callback?l.execCallback("urlconverter_callback",n,i,!0,a):!f.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:f.relative_urls?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,f.remove_script_host),n)},e.prototype.addVisual=function(n){Y8(this,n)},e.prototype.remove=function(){JI(this)},e.prototype.destroy=function(n){mB(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),bf=Ta.DOM,kF=et.explode,ko=et.each,HO=et.extend,Cd=0,VO=!1,fS,Hg=[],Hu=[],UO=function(e){return e!=="length"},WO=function(e){var n=e.type;ko(Vg.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},jO=function(e){e!==VO&&(e?Jn(window).on("resize scroll",WO):Jn(window).off("resize scroll",WO),VO=e)},dM=function(e){var n=Hu;delete Hg[e.id];for(var a=0;a<Hg.length;a++)if(Hg[a]===e){Hg.splice(a,1);break}return Hu=Qe(Hu,function(i){return e!==i}),Vg.activeEditor===e&&(Vg.activeEditor=Hu.length>0?Hu[0]:null),Vg.focusedEditor===e&&(Vg.focusedEditor=null),n.length!==Hu.length},AF=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(dM(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},EF=document.compatMode!=="CSS1Compat",Vg=Mn(Mn({},RA),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Jn,majorVersion:"5",minorVersion:"10.7",releaseDate:"2022-12-06",editors:Hg,i18n:gu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=vd.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,i=l.suffix;else{for(var f=document.getElementsByTagName("script"),p=0;p<f.length;p++){var C=f[p].src||"";if(C!==""){var _=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){_.indexOf(".min")!==-1&&(i=".min"),n=C.substring(0,C.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var C=document.currentScript.src;C.indexOf(".min")!==-1&&(i=".min"),n=C.substring(0,C.lastIndexOf("/"))}}e.baseURL=new vd(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new vd(e.baseURL),e.suffix=i,T_(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&Hr(i,function(l,f){Pu.PluginManager.urls[f]=l})},init:function(e){var n=this,a,i=et.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=function(V,W){return V.inline&&W.tagName.toLowerCase()in i},f=function(V){var W=V.id;return W||(W=Qr(V,"name").filter(function(te){return!bf.get(te)}).getOrThunk(bf.uniqueId),V.setAttribute("id",W)),W},p=function(V){var W=e[V];if(W)return W.apply(n,[])},C=function(V,W){return W.constructor===RegExp?W.test(V.className):bf.hasClass(V,W)},_=function(V){var W=[];if(Rn.browser.isIE()&&Rn.browser.version.major<11)return UC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(EF)return UC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(V.types)return ko(V.types,function(re){W=W.concat(bf.select(re.selector))}),W;if(V.selector)return bf.select(V.selector);if(V.target)return[V.target];switch(V.mode){case"exact":var te=V.elements||"";te.length>0&&ko(kF(te),function(re){var ue=bf.get(re);ue?W.push(ue):ko(document.forms,function(se){ko(se.elements,function(be){be.name===re&&(re="mce_editor_"+Cd++,bf.setAttrib(be,"id",re),W.push(be))})})});break;case"textareas":case"specific_textareas":ko(bf.select("textarea"),function(re){V.editor_deselector&&C(re,V.editor_deselector)||(!V.editor_selector||C(re,V.editor_selector))&&W.push(re)});break}return W},$=function(V){a=V},F=function(){var V=0,W=[],te,re=function(ue,se,be){var ge=new NA(ue,se,n);W.push(ge),ge.on("init",function(){++V===te.length&&$(W)}),ge.targetElm=ge.targetElm||be,ge.render()};if(bf.unbind(window,"ready",F),p("onpageload"),te=Jn.unique(_(e)),e.types){ko(e.types,function(ue){et.each(te,function(se){return bf.is(se,ue.selector)?(re(f(se),HO({},e,ue),se),!1):!0})});return}et.each(te,function(ue){AF(n.get(ue.id))}),te=et.grep(te,function(ue){return!n.get(ue.id)}),te.length===0?$([]):ko(te,function(ue){l(e,ue)?UC("Could not initialize inline editor on invalid inline target element",ue):re(f(ue),e,ue)})};return n.settings=e,bf.bind(window,"ready",F),new oi(function(V){a?V(a):$=function(W){V(W)}})},get:function(e){return arguments.length===0?Hu.slice(0):Ct(e)?sn(Hu,function(n){return n.id===e}).getOr(null):Cn(e)&&Hu[e]?Hu[e]:null},add:function(e){var n=this,a=Hg[e.id];return a===e||(n.get(e.id)===null&&(UO(e.id)&&(Hg[e.id]=e),Hg.push(e),Hu.push(e)),jO(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),fS||(fS=function(i){var l=n.fire("BeforeUnload");if(l.returnValue)return i.preventDefault(),i.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",fS))),e},createEditor:function(e,n){return this.add(new NA(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=Hu.length-1;a>=0;a--)n.remove(Hu[a]);return}if(Ct(e)){ko(bf.select(e),function(l){i=n.get(l.id),i&&n.remove(i)});return}return i=e,ve(n.get(i.id))?null:(dM(i)&&n.fire("RemoveEditor",{editor:i}),Hu.length===0&&window.removeEventListener("beforeunload",fS),i.remove(),jO(Hu.length>0),i)},execCommand:function(e,n,a){var i=this,l=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new NA(a,i.settings,i).render(),!0;case"mceRemoveEditor":return l&&l.remove(),!0;case"mceToggleEditor":return l?(l.isHidden()?l.show():l.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){ko(Hu,function(e){e.save()})},addI18n:function(e,n){gu.add(e,n)},translate:function(e){return gu.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new vd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new vd(this.baseURL)}});Vg.setup();var mM=Math.min,F1=Math.max,IA=Math.round,hM=function(e,n,a){var i=n.x,l=n.y,f=e.w,p=e.h,C=n.w,_=n.h,$=(a||"").split("");return $[0]==="b"&&(l+=_),$[1]==="r"&&(i+=C),$[0]==="c"&&(l+=IA(_/2)),$[1]==="c"&&(i+=IA(C/2)),$[3]==="b"&&(l-=p),$[4]==="r"&&(i-=f),$[3]==="c"&&(l-=IA(p/2)),$[4]==="c"&&(i-=IA(f/2)),H1(i,l,f,p)},TF=function(e,n,a,i){var l,f;for(f=0;f<i.length;f++)if(l=hM(e,n,i[f]),l.x>=a.x&&l.x+l.w<=a.w+a.x&&l.y>=a.y&&l.y+l.h<=a.h+a.y)return i[f];return null},OF=function(e,n,a){return H1(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},DF=function(e,n){var a=F1(e.x,n.x),i=F1(e.y,n.y),l=mM(e.x+e.w,n.x+n.w),f=mM(e.y+e.h,n.y+n.h);return l-a<0||f-i<0?null:H1(a,i,l-a,f-i)},RF=function(e,n,a){var i=e.x,l=e.y,f=e.x+e.w,p=e.y+e.h,C=n.x+n.w,_=n.y+n.h,$=F1(0,n.x-i),F=F1(0,n.y-l),V=F1(0,f-C),W=F1(0,p-_);return i+=$,l+=F,a&&(f+=$,p+=F,i-=V,l-=W),f-=V,p-=W,H1(i,l,f-i,p-l)},H1=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},BF=function(e){return H1(e.left,e.top,e.width,e.height)},$F={inflate:OF,relativePosition:hM,findBestRelativePosition:TF,intersect:DF,clamp:RF,create:H1,fromClientRect:BF},MF=function(e,n,a){a===void 0&&(a=1e3);var i=!1,l=null,f=function($){return function(){for(var F=[],V=0;V<arguments.length;V++)F[V]=arguments[V];i||(i=!0,l!==null&&(clearTimeout(l),l=null),$.apply(null,F))}},p=f(e),C=f(n),_=function(){for(var $=[],F=0;F<arguments.length;F++)$[F]=arguments[F];!i&&l===null&&(l=setTimeout(function(){return C.apply(null,$)},a))};return{start:_,resolve:p,reject:C}},GO=function(){var e={},n={},a=function(l,f){var p='Script at URL "'+f+'" failed to load',C='Script at URL "'+f+"\" did not call `tinymce.Resource.add('"+l+"', data)` within 1 second";if(e[l]!==void 0)return e[l];var _=new oi(function($,F){var V=MF($,F);n[l]=V.resolve,Yf.ScriptLoader.loadScript(f,function(){return V.start(C)},function(){return V.reject(p)})});return e[l]=_,_},i=function(l,f){n[l]!==void 0&&(n[l](f),delete n[l]),e[l]=oi.resolve(f)};return{load:a,add:i}},vS=GO(),hv=et.each,Ry=et.extend,zA,dS,qO=function(){};qO.extend=zA=function(e){var n=this,a=n.prototype,i=function(){var C,_,$,F=this;if(!dS&&(F.init&&F.init.apply(F,arguments),_=F.Mixins,_))for(C=_.length;C--;)$=_[C],$.init&&$.init.apply(F,arguments)},l=function(){return this},f=function(C,_){return function(){var $=this,F=$._super;$._super=a[C];var V=_.apply($,arguments);return $._super=F,V}};dS=!0;var p=new n;return dS=!1,e.Mixins&&(hv(e.Mixins,function(C){for(var _ in C)_!=="init"&&(e[_]=C[_])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&hv(e.Methods.split(","),function(C){e[C]=l}),e.Properties&&hv(e.Properties.split(","),function(C){var _="_"+C;e[C]=function($){var F=this;return $!==void 0?(F[_]=$,F):F[_]}}),e.Statics&&hv(e.Statics,function(C,_){i[_]=C}),e.Defaults&&a.Defaults&&(e.Defaults=Ry({},a.Defaults,e.Defaults)),Hr(e,function(C,_){typeof C=="function"&&a[_]?p[_]=f(_,C):p[_]=C}),i.prototype=p,i.constructor=i,i.extend=zA,i};var mS=Math.min,LA=Math.max,Ug=Math.round,gM=function(e){var n={},a=0,i=0,l=0,f=function(V,W,te){var re,ue,se;re=0,ue=0,se=0,V=V/255,W=W/255,te=te/255;var be=mS(V,mS(W,te)),ge=LA(V,LA(W,te));if(be===ge)return se=be,{h:0,s:0,v:se*100};var $e=V===be?W-te:te===be?V-W:te-V;return re=V===be?3:te===be?1:5,re=60*(re-$e/(ge-be)),ue=(ge-be)/ge,se=ge,{h:Ug(re),s:Ug(ue*100),v:Ug(se*100)}},p=function(V,W,te){if(V=(parseInt(V,10)||0)%360,W=parseInt(W,10)/100,te=parseInt(te,10)/100,W=LA(0,mS(W,1)),te=LA(0,mS(te,1)),W===0){a=i=l=Ug(255*te);return}var re=V/60,ue=te*W,se=ue*(1-Math.abs(re%2-1)),be=te-ue;switch(Math.floor(re)){case 0:a=ue,i=se,l=0;break;case 1:a=se,i=ue,l=0;break;case 2:a=0,i=ue,l=se;break;case 3:a=0,i=se,l=ue;break;case 4:a=se,i=0,l=ue;break;case 5:a=ue,i=0,l=se;break;default:a=i=l=0}a=Ug(255*(a+be)),i=Ug(255*(i+be)),l=Ug(255*(l+be))},C=function(){var V=function(W){return W=parseInt(W,10).toString(16),W.length>1?W:"0"+W};return"#"+V(a)+V(i)+V(l)},_=function(){return{r:a,g:i,b:l}},$=function(){return f(a,i,l)},F=function(V){var W;return typeof V=="object"?"r"in V?(a=V.r,i=V.g,l=V.b):"v"in V&&p(V.h,V.s,V.v):(W=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(V))?(a=parseInt(W[1],10),i=parseInt(W[2],10),l=parseInt(W[3],10)):(W=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(V))?(a=parseInt(W[1],16),i=parseInt(W[2],16),l=parseInt(W[3],16)):(W=/#([0-F])([0-F])([0-F])/gi.exec(V))&&(a=parseInt(W[1]+W[1],16),i=parseInt(W[2]+W[2],16),l=parseInt(W[3]+W[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,n};return e&&F(e),n.toRgb=_,n.toHsv=$,n.toHex=C,n.parse=F,n},PF=function(e){var n=JSON.stringify(e);return Ct(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},KO={serialize:PF,parse:function(e){try{return JSON.parse(e)}catch{}}},NF={callbacks:{},count:0,send:function(e){var n=this,a=Ta.DOM,i=e.count!==void 0?e.count:n.count,l="tinymce_jsonp_"+i;n.callbacks[i]=function(f){a.remove(l),delete n.callbacks[i],e.callback(f)},a.add(a.doc.body,"script",{id:l,src:e.url,type:"text/javascript"}),n.count++}},FA=Mn(Mn({},RA),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):Fi.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",FA.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&et.each(e.requestheaders,function(l){n.setRequestHeader(l.key,l.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=FA.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();Fi.setTimeout(i,10)}}),pM=et.extend,IF=function(){function e(n){this.settings=pM({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,l=pM(this.settings,n);l.success=function(f,p){f=KO.parse(f),typeof f>"u"&&(f={error:"JSON Parse error."}),f.error?a.call(l.error_scope||l.scope,f.error,p):i.call(l.success_scope||l.scope,f.result)},l.error=function(f,p){a&&a.call(l.error_scope||l.scope,f,p)},l.data=KO.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),l.content_type="application/json",FA.send(l)},e}(),bM=function(){return function(){var e={},n=[],a={getItem:function(i){var l=e[i];return l||null},setItem:function(i,l){n.push(i),e[i]=String(l)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(l){return l===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},By;try{var XO="__storage_test__";By=window.localStorage,By.setItem(XO,XO),By.removeItem(XO)}catch{By=bM()}var zF=By,LF={geom:{Rect:$F},util:{Promise:oi,Delay:Fi,Tools:et,VK:$n,URI:vd,Class:qO,EventDispatcher:DA,Observable:RA,I18n:gu,XHR:FA,JSON:KO,JSONRequest:IF,JSONP:NF,LocalStorage:zF,Color:gM,ImageUploader:BB},dom:{EventUtils:xh,Sizzle:ia,DomQuery:Jn,TreeWalker:Yr,TextSeeker:z2,DOMUtils:Ta,ScriptLoader:Yf,RangeUtils:e1,Serializer:vB,StyleSheetLoader:VS,ControlSelection:zw,BookmarkManager:ud,Selection:JR,Event:xh.Event},html:{Styles:Ol,Entities:Os,Node:ul,Schema:Ds,SaxParser:pg,DomParser:Pk,Writer:q_,Serializer:Sm},Env:Rn,AddOnManager:Pu,Annotator:$0,Formatter:$B,UndoManager:vf,EditorCommands:Fg,WindowManager:_4,NotificationManager:cv,EditorObservable:oM,Shortcuts:PA,Editor:NA,FocusManager:S_,EditorManager:Vg,DOM:Ta.DOM,ScriptLoader:Yf.ScriptLoader,PluginManager:sl,ThemeManager:bd,IconManager:zk,Resource:vS,trim:et.trim,isArray:et.isArray,is:et.is,toArray:et.toArray,makeMap:et.makeMap,each:et.each,map:et.map,grep:et.grep,inArray:et.inArray,extend:et.extend,create:et.create,walk:et.walk,createNS:et.createNS,resolve:et.resolve,explode:et.explode,_addCacheSuffix:et._addCacheSuffix,isOpera:Rn.opera,isWebKit:Rn.webkit,isIE:Rn.ie,isGecko:Rn.gecko,isMac:Rn.mac},yM=et.extend(Vg,LF),FF=function(e){try{d.exports=e}catch{}},HF=function(e){window.tinymce=e,window.tinyMCE=e};HF(yM),FF(yM)})()})(Ij);var kae=Ij.exports;const Zr=_ae(kae);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var d=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},m=function(t){return function(r){return d(r)===t}},w=function(t){return function(r){return typeof r===t}},S=function(t){return function(r){return t===r}},E=m("string"),O=m("object"),B=m("array"),I=S(null),G=w("boolean"),ee=S(void 0),ae=function(t){return t==null},me=function(t){return!ae(t)},ie=w("function"),oe=w("number"),he=function(t,r){if(B(t)){for(var o=0,s=t.length;o<s;++o)if(!r(t[o]))return!1;return!0}return!1},Q=function(){},Ct=function(t){return function(){return t()}},Me=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(r.apply(null,o))}},rt=function(t,r){return function(o){return t(r(o))}},ve=function(t){return function(){return t}},tt=function(t){return t},He=function(t,r){return t===r};function Xt(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];var g=r.concat(s);return t.apply(null,g)}}var mn=function(t){return function(r){return!t(r)}},Nt=function(t){return function(){throw new Error(t)}},Cn=ve(!1),Qt=ve(!0),Eo=tinymce.util.Tools.resolve("tinymce.ThemeManager"),Ce=function(){return Ce=Object.assign||function(r){for(var o,s=1,v=arguments.length;s<v;s++){o=arguments[s];for(var g in o)Object.prototype.hasOwnProperty.call(o,g)&&(r[g]=o[g])}return r},Ce.apply(this,arguments)};function Y(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,s=Object.getOwnPropertySymbols(t);v<s.length;v++)r.indexOf(s[v])<0&&Object.prototype.propertyIsEnumerable.call(t,s[v])&&(o[s[v]]=t[s[v]]);return o}function Ht(t,r,o){if(o||arguments.length===2)for(var s=0,v=r.length,g;s<v;s++)(g||!(s in r))&&(g||(g=Array.prototype.slice.call(r,0,s)),g[s]=r[s]);return t.concat(g||Array.prototype.slice.call(r))}var _r=function(){return ft},ft=function(){var t=function(s){return s()},r=tt,o={fold:function(s,v){return s()},isSome:Cn,isNone:Qt,getOr:r,getOrThunk:t,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:ve(null),getOrUndefined:ve(void 0),or:r,orThunk:t,map:_r,each:Q,bind:_r,exists:Cn,forall:Qt,filter:function(){return _r()},toArray:function(){return[]},toString:ve("none()")};return o}(),Kn=function(t){var r=ve(t),o=function(){return v},s=function(g){return g(t)},v={fold:function(g,y){return y(t)},isSome:Qt,isNone:Cn,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(g){return Kn(g(t))},each:function(g){g(t)},bind:s,exists:s,forall:s,filter:function(g){return g(t)?v:ft},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return v},xn=function(t){return t==null?ft:Kn(t)},P={some:Kn,none:_r,from:xn},ta=Array.prototype.slice,Dt=Array.prototype.indexOf,en=Array.prototype.push,Mi=function(t,r){return Dt.call(t,r)},Xi=function(t,r){var o=Mi(t,r);return o===-1?P.none():P.some(o)},nr=function(t,r){return Mi(t,r)>-1},Fr=function(t,r){for(var o=0,s=t.length;o<s;o++){var v=t[o];if(r(v,o))return!0}return!1},K=function(t,r){for(var o=[],s=0;s<t;s++)o.push(r(s));return o},En=function(t,r){for(var o=[],s=0;s<t.length;s+=r){var v=ta.call(t,s,s+r);o.push(v)}return o},Ne=function(t,r){for(var o=t.length,s=new Array(o),v=0;v<o;v++){var g=t[v];s[v]=r(g,v)}return s},yt=function(t,r){for(var o=0,s=t.length;o<s;o++){var v=t[o];r(v,o)}},Dr=function(t,r){for(var o=t.length-1;o>=0;o--){var s=t[o];r(s,o)}},ye=function(t,r){for(var o=[],s=[],v=0,g=t.length;v<g;v++){var y=t[v],k=r(y,v)?o:s;k.push(y)}return{pass:o,fail:s}},pe=function(t,r){for(var o=[],s=0,v=t.length;s<v;s++){var g=t[s];r(g,s)&&o.push(g)}return o},Fe=function(t,r,o){return Dr(t,function(s,v){o=r(o,s,v)}),o},je=function(t,r,o){return yt(t,function(s,v){o=r(o,s,v)}),o},Be=function(t,r,o){for(var s=0,v=t.length;s<v;s++){var g=t[s];if(r(g,s))return P.some(g);if(o(g,s))break}return P.none()},bt=function(t,r){return Be(t,r,Cn)},on=function(t,r){for(var o=0,s=t.length;o<s;o++){var v=t[o];if(r(v,o))return P.some(o)}return P.none()},Qe=function(t){for(var r=[],o=0,s=t.length;o<s;++o){if(!B(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);en.apply(r,t[o])}return r},qt=function(t,r){return Qe(Ne(t,r))},Et=function(t,r){for(var o=0,s=t.length;o<s;++o){var v=t[o];if(r(v,o)!==!0)return!1}return!0},Rt=function(t){var r=ta.call(t,0);return r.reverse(),r},sn=function(t,r){return pe(t,function(o){return!nr(r,o)})},Pn=function(t,r){for(var o={},s=0,v=t.length;s<v;s++){var g=t[s];o[String(g)]=r(g,s)}return o},or=function(t){return[t]},gr=function(t,r){var o=ta.call(t,0);return o.sort(r),o},na=function(t,r){return r>=0&&r<t.length?P.some(t[r]):P.none()},Er=function(t){return na(t,0)},Aa=function(t){return na(t,t.length-1)},ti=ie(Array.from)?Array.from:function(t){return ta.call(t)},Pa=function(t,r){for(var o=0;o<t.length;o++){var s=r(t[o],o);if(s.isSome())return s}return P.none()},Ea=Object.keys,to=Object.hasOwnProperty,Sa=function(t,r){for(var o=Ea(t),s=0,v=o.length;s<v;s++){var g=o[s],y=t[g];r(y,g)}},mr=function(t,r){return no(t,function(o,s){return{k:s,v:r(o,s)}})},no=function(t,r){var o={};return Sa(t,function(s,v){var g=r(s,v);o[g.k]=g.v}),o},ku=function(t){return function(r,o){t[o]=r}},Ad=function(t,r,o,s){var v={};return Sa(t,function(g,y){(r(g,y)?o:s)(g,y)}),v},Hr=function(t,r){var o={};return Ad(t,r,ku(o),Q),o},ps=function(t,r){var o=[];return Sa(t,function(s,v){o.push(r(s,v))}),o},Us=function(t,r){for(var o=Ea(t),s=0,v=o.length;s<v;s++){var g=o[s],y=t[g];if(r(y,g,t))return P.some(y)}return P.none()},jl=function(t){return ps(t,tt)},Dn=function(t,r){return Xr(t,r)?P.from(t[r]):P.none()},Xr=function(t,r){return to.call(t,r)},ni=function(t,r){return Xr(t,r)&&t[r]!==void 0&&t[r]!==null},bs=function(t,r,o){return o===void 0&&(o=He),t.exists(function(s){return o(s,r)})},Ed=function(t,r,o){return o===void 0&&(o=He),Ws(t,r,o).getOr(t.isNone()&&r.isNone())},Qr=function(t){for(var r=[],o=function(v){r.push(v)},s=0;s<t.length;s++)t[s].each(o);return r},pr=function(t){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s.isSome())r.push(s.getOrDie());else return P.none()}return P.some(r)},Ws=function(t,r,o){return t.isSome()&&r.isSome()?P.some(o(t.getOrDie(),r.getOrDie())):P.none()},Km=function(t,r,o,s){return t.isSome()&&r.isSome()&&o.isSome()?P.some(s(t.getOrDie(),r.getOrDie(),o.getOrDie())):P.none()},xf=function(t,r){return t!=null?P.some(r(t)):P.none()},js=function(t,r){return t?P.some(r):P.none()},Tc=function(t,r){return t+r},Sv=function(t,r){return t.substring(r)},ml=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},hl=function(t,r){return Gs(t,r)?Sv(t,r.length):t},_f=function(t,r){return Mn(t,r)?t:Tc(t,r)},aa=function(t,r){return t.indexOf(r)!==-1},Gs=function(t,r){return ml(t,r,0)},Mn=function(t,r){return ml(t,r,t.length-r.length)},Xm=function(t){return function(r){return r.replace(t,"")}},Au=Xm(/^\s+|\s+$/g),Oc=function(t){return t.length>0},Ym=function(t){return!Oc(t)},Gl=function(t){return t.style!==void 0&&ie(t.style.getPropertyValue)},Jm=function(t,r){var o=r||document,s=o.createElement("div");if(s.innerHTML=t,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return ys(s.childNodes[0])},kf=function(t,r){var o=r||document,s=o.createElement(t);return ys(s)},Zm=function(t,r){var o=r||document,s=o.createTextNode(t);return ys(s)},ys=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Dc=function(t,r,o){return P.from(t.dom.elementFromPoint(r,o)).map(ys)},Gt={fromHtml:Jm,fromTag:kf,fromText:Zm,fromDom:ys,fromPoint:Dc};typeof window<"u"||Function("return this;")();var Td=9,xv=11,_v=1,ql=3,Ku=function(t){var r=t.dom.nodeName;return r.toLowerCase()},Qm=function(t){return t.dom.nodeType},To=function(t){return function(r){return Qm(r)===t}},co=To(_v),Eu=To(ql),qs=To(Td),Od=To(xv),Xu=function(t){var r=!1,o;return function(){for(var s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];return r||(r=!0,o=t.apply(null,s)),o}},Af=function(t,r,o,s){var v=t.isiOS()&&/ipad/i.test(o)===!0,g=t.isiOS()&&!v,y=t.isiOS()||t.isAndroid(),k=y||s("(pointer:coarse)"),A=v||!g&&y&&s("(min-device-width:768px)"),D=g||y&&!A,N=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,z=!D&&!A&&!N;return{isiPad:ve(v),isiPhone:ve(g),isTablet:ve(A),isPhone:ve(D),isTouch:ve(k),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ve(N),isDesktop:ve(z)}},Dd=function(t,r){for(var o=0;o<t.length;o++){var s=t[o];if(s.test(r))return s}},gl=function(t,r){var o=Dd(t,r);if(!o)return{major:0,minor:0};var s=function(v){return Number(r.replace(o,"$"+v))};return bi(s(1),s(2))},Tu=function(t,r){var o=String(r).toLowerCase();return t.length===0?Lt():gl(t,o)},Lt=function(){return bi(0,0)},bi=function(t,r){return{major:t,minor:r}},pl={nu:bi,detect:Tu,unknown:Lt},eh=function(t,r){return Pa(r.brands,function(o){var s=o.brand.toLowerCase();return bt(t,function(v){var g;return s===((g=v.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(function(v){return{current:v.name,version:pl.nu(parseInt(o.version,10),0)}})})},Ef=function(t,r){var o=String(r).toLowerCase();return bt(t,function(s){return s.search(o)})},Vr=function(t,r){return Ef(t,r).map(function(o){var s=pl.detect(o.versionRegexes,r);return{current:o.name,version:s}})},kv=function(t,r){return Ef(t,r).map(function(o){var s=pl.detect(o.versionRegexes,r);return{current:o.name,version:s}})},bl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ro=function(t){return function(r){return aa(r,t)}},Av=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return aa(t,"edge/")&&aa(t,"chrome")&&aa(t,"safari")&&aa(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,bl],search:function(t){return aa(t,"chrome")&&!aa(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return aa(t,"msie")||aa(t,"trident")}},{name:"Opera",versionRegexes:[bl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ro("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ro("firefox")},{name:"Safari",versionRegexes:[bl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(aa(t,"safari")||aa(t,"mobile/"))&&aa(t,"applewebkit")}}],iu=[{name:"Windows",search:ro("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return aa(t,"iphone")||aa(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ro("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ro("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ro("linux"),versionRegexes:[]},{name:"Solaris",search:ro("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ro("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ro("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Yu={browsers:ve(Av),oses:ve(iu)},xa="Edge",Tf="Chrome",Of="IE",Ev="Opera",Rd="Firefox",yl="Safari",Ks=function(){return Tv({current:void 0,version:pl.unknown()})},Tv=function(t){var r=t.current,o=t.version,s=function(v){return function(){return r===v}};return{current:r,version:o,isEdge:s(xa),isChrome:s(Tf),isIE:s(Of),isOpera:s(Ev),isFirefox:s(Rd),isSafari:s(yl)}},ws={unknown:Ks,nu:Tv,edge:ve(xa),chrome:ve(Tf),ie:ve(Of),opera:ve(Ev),firefox:ve(Rd),safari:ve(yl)},Ou="Windows",J="iOS",_e="Android",Pe="Linux",ut="OSX",Bt="Solaris",bn="FreeBSD",Gr="ChromeOS",oa=function(){return rr({current:void 0,version:pl.unknown()})},rr=function(t){var r=t.current,o=t.version,s=function(v){return function(){return r===v}};return{current:r,version:o,isWindows:s(Ou),isiOS:s(J),isAndroid:s(_e),isOSX:s(ut),isLinux:s(Pe),isSolaris:s(Bt),isFreeBSD:s(bn),isChromeOS:s(Gr)}},Da={unknown:oa,nu:rr,windows:ve(Ou),ios:ve(J),android:ve(_e),linux:ve(Pe),osx:ve(ut),solaris:ve(Bt),freebsd:ve(bn),chromeos:ve(Gr)},La=function(t,r,o){var s=Yu.browsers(),v=Yu.oses(),g=r.bind(function(A){return eh(s,A)}).orThunk(function(){return Vr(s,t)}).fold(ws.unknown,ws.nu),y=kv(v,t).fold(Da.unknown,Da.nu),k=Af(y,g,t,o);return{browser:g,os:y,deviceType:k}},Rc={detect:La},Pi=function(t){return window.matchMedia(t).matches},Kl=Xu(function(){return Rc.detect(navigator.userAgent,P.from(navigator.userAgentData),Pi)}),Rn=function(){return Kl()},th=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},ap=function(t,r){return th(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},Ur=function(t,r){var o=t.dom;if(o.nodeType!==_v)return!1;var s=o;if(s.matches!==void 0)return s.matches(r);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(r);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(r);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},op=function(t){return t.nodeType!==_v&&t.nodeType!==Td&&t.nodeType!==xv||t.childElementCount===0},nh=function(t,r){var o=r===void 0?document:r.dom;return op(o)?[]:Ne(o.querySelectorAll(t),Gt.fromDom)},Xy=function(t,r){var o=r===void 0?document:r.dom;return op(o)?P.none():P.from(o.querySelector(t)).map(Gt.fromDom)},da=function(t,r){return t.dom===r.dom},Xs=function(t,r){var o=t.dom,s=r.dom;return o===s?!1:o.contains(s)},Yy=function(t,r){return ap(t.dom,r.dom)},wl=function(t,r){return Rn().browser.isIE()?Yy(t,r):Xs(t,r)},qo=function(t){return Gt.fromDom(t.dom.ownerDocument)},Df=function(t){return qs(t)?t:qo(t)},et=function(t){return Gt.fromDom(Df(t).dom.documentElement)},rh=function(t){return Gt.fromDom(Df(t).dom.defaultView)},bo=function(t){return P.from(t.dom.parentNode).map(Gt.fromDom)},nb=function(t){return bo(t)},Rf=function(t){return P.from(t.dom.offsetParent).map(Gt.fromDom)},Ov=function(t){return P.from(t.dom.nextSibling).map(Gt.fromDom)},De=function(t){return Ne(t.dom.childNodes,Gt.fromDom)},ri=function(t,r){var o=t.dom.childNodes;return P.from(o[r]).map(Gt.fromDom)},ah=function(t){return ri(t,0)},ip=function(t,r){return{element:t,offset:r}},rb=function(t,r){var o=De(t);return o.length>0&&r<o.length?ip(o[r],0):ip(t,r)},Bd=function(t){return Od(t)&&me(t.dom.host)},up=ie(Element.prototype.attachShadow)&&ie(Node.prototype.getRootNode),sp=ve(up),Cs=up?function(t){return Gt.fromDom(t.dom.getRootNode())}:Df,Xl=function(t){return Bd(t)?t:Gt.fromDom(Df(t).dom.body)},ab=function(t){return ob(t).isSome()},ob=function(t){var r=Cs(t);return Bd(r)?P.some(r):P.none()},Yl=function(t){return Gt.fromDom(t.dom.host)},_a=function(t){if(sp()&&me(t.target)){var r=Gt.fromDom(t.target);if(co(r)&&ib(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return Er(o)}}return P.from(t.target)},ib=function(t){return me(t.dom.shadowRoot)},uu=function(t){var r=Eu(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return ob(Gt.fromDom(r)).fold(function(){return o.body.contains(r)},rt(uu,Yl))},Ni=function(){return yo(Gt.fromDom(document))},yo=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return Gt.fromDom(r)},Bc=function(t,r,o){if(E(o)||G(o)||oe(o))t.setAttribute(r,o+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},Xn=function(t,r,o){Bc(t.dom,r,o)},Ju=function(t,r){var o=t.dom;Sa(r,function(s,v){Bc(o,v,s)})},Ra=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},Fa=function(t,r){return P.from(Ra(t,r))},ub=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},ai=function(t,r){t.dom.removeAttribute(r)},lp=function(t,r,o){if(!E(o))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Gl(t)&&t.style.setProperty(r,o)},Cl=function(t,r){Gl(t)&&t.style.removeProperty(r)},Nn=function(t,r,o){var s=t.dom;lp(s,r,o)},Zu=function(t,r){var o=t.dom;Sa(r,function(s,v){lp(o,v,s)})},qa=function(t,r){var o=t.dom;Sa(r,function(s,v){s.fold(function(){Cl(o,v)},function(g){lp(o,v,g)})})},Ka=function(t,r){var o=t.dom,s=window.getComputedStyle(o),v=s.getPropertyValue(r);return v===""&&!uu(t)?No(o,r):v},No=function(t,r){return Gl(t)?t.style.getPropertyValue(r):""},wo=function(t,r){var o=t.dom,s=No(o,r);return P.from(s).filter(function(v){return v.length>0})},Bf=function(t){var r={},o=t.dom;if(Gl(o))for(var s=0;s<o.style.length;s++){var v=o.style.item(s);r[v]=o.style[v]}return r},Ss=function(t,r,o){var s=Gt.fromTag(t);Nn(s,r,o);var v=wo(s,r);return v.isSome()},Mr=function(t,r){var o=t.dom;Cl(o,r),bs(Fa(t,"style").map(Au),"")&&ai(t,"style")},ka=function(t){return t.dom.offsetWidth},Yi=function(t,r){var o=function(k,A){if(!oe(A)&&!A.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+A);var D=k.dom;Gl(D)&&(D.style[t]=A+"px")},s=function(k){var A=r(k);if(A<=0||A===null){var D=Ka(k,t);return parseFloat(D)||0}return A},v=s,g=function(k,A){return je(A,function(D,N){var z=Ka(k,N),j=z===void 0?0:parseInt(z,10);return isNaN(j)?D:D+j},0)},y=function(k,A,D){var N=g(k,D),z=A>N?A-N:0;return z};return{set:o,get:s,getOuter:v,aggregate:g,max:y}},Jl=Yi("height",function(t){var r=t.dom;return uu(t)?r.getBoundingClientRect().height:r.offsetHeight}),Oo=function(t){return Jl.get(t)},Qu=function(t){return Jl.getOuter(t)},sb=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=Jl.max(t,r,o);Nn(t,"max-height",s+"px")},$f=function(t,r){var o=function(s,v){return $f(t+s,r+v)};return{left:t,top:r,translate:o}},la=$f,Ys=function(t){var r=t.getBoundingClientRect();return la(r.left,r.top)},$c=function(t,r){return t!==void 0?t:r!==void 0?r:0},su=function(t){var r=t.dom.ownerDocument,o=r.body,s=r.defaultView,v=r.documentElement;if(o===t.dom)return la(o.offsetLeft,o.offsetTop);var g=$c(s==null?void 0:s.pageYOffset,v.scrollTop),y=$c(s==null?void 0:s.pageXOffset,v.scrollLeft),k=$c(v.clientTop,o.clientTop),A=$c(v.clientLeft,o.clientLeft);return ao(t).translate(y-A,g-k)},ao=function(t){var r=t.dom,o=r.ownerDocument,s=o.body;return s===r?la(s.offsetLeft,s.offsetTop):uu(t)?Ys(r):la(0,0)},Mc=Yi("width",function(t){return t.dom.offsetWidth}),Zl=function(t,r){return Mc.set(t,r)},Ii=function(t){return Mc.get(t)},lu=function(t){return Mc.getOuter(t)},yi=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Mc.max(t,r,o);Nn(t,"max-width",s+"px")},Dv=function(t,r,o,s,v,g,y){return{target:t,x:r,y:o,stop:s,prevent:v,kill:g,raw:y}},Js=function(t){var r=Gt.fromDom(_a(t).getOr(t.target)),o=function(){return t.stopPropagation()},s=function(){return t.preventDefault()},v=Me(s,o);return Dv(r,t.clientX,t.clientY,o,s,v,t)},Io=function(t,r){return function(o){t(o)&&r(Js(o))}},$d=function(t,r,o,s,v){var g=Io(o,s);return t.dom.addEventListener(r,g,v),{unbind:Xt(Pf,t,r,g,v)}},lb=function(t,r,o,s){return $d(t,r,o,s,!1)},Mf=function(t,r,o,s){return $d(t,r,o,s,!0)},Pf=function(t,r,o,s){t.dom.removeEventListener(r,o,s)},oo=function(t,r){var o=bo(t);o.each(function(s){s.dom.insertBefore(r.dom,t.dom)})},Nf=function(t,r){var o=Ov(t);o.fold(function(){var s=bo(t);s.each(function(v){zi(v,r)})},function(s){oo(s,r)})},If=function(t,r){var o=ah(t);o.fold(function(){zi(t,r)},function(s){t.dom.insertBefore(r.dom,s.dom)})},zi=function(t,r){t.dom.appendChild(r.dom)},Ql=function(t,r,o){ri(t,o).fold(function(){zi(t,r)},function(s){oo(s,r)})},zf=function(t,r){yt(r,function(o){oo(t,o)})},ec=function(t,r){yt(r,function(o){zi(t,o)})},Na=function(t){t.dom.textContent="",yt(De(t),function(r){Du(r)})},Du=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},oh=function(t){var r=De(t);r.length>0&&zf(t,r),Du(t)},es=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,s=r.body.scrollTop||r.documentElement.scrollTop;return la(o,s)},ih=function(t,r,o){var s=o!==void 0?o.dom:document,v=s.defaultView;v&&v.scrollTo(t,r)},cb=function(t){var r=t===void 0?window:t;return Rn().browser.isFirefox()?P.none():P.from(r.visualViewport)},cp=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Lf=function(t){var r=t===void 0?window:t,o=r.document,s=es(Gt.fromDom(o));return cb(r).fold(function(){var v=r.document.documentElement,g=v.clientWidth,y=v.clientHeight;return cp(s.left,s.top,g,y)},function(v){return cp(Math.max(v.pageLeft,s.left),Math.max(v.pageTop,s.top),v.width,v.height)})},Ff=function(t,r){var o=t.view(r);return o.fold(ve([]),function(s){var v=t.owner(s),g=Ff(t,v);return[s].concat(g)})},Pc=function(t,r){var o=r.owner(t),s=Ff(r,o);return P.some(s)},In=function(t){var r,o=t.dom===document?P.none():P.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(Gt.fromDom)},xs=function(t){return qo(t)},cu=Object.freeze({__proto__:null,view:In,owner:xs}),Li=function(t){var r=Gt.fromDom(document),o=es(r),s=Pc(t,cu);return s.fold(Xt(su,t),function(v){var g=ao(t),y=Fe(v,function(k,A){var D=ao(A);return{left:k.left+D.left,top:k.top+D.top}},{left:0,top:0});return la(y.left+g.left+o.left,y.top+g.top+o.top)})},_s=function(t,r,o){return{point:t,width:r,height:o}},fo=function(t,r,o,s){return{x:t,y:r,width:o,height:s}},zo=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Co=function(t){var r=su(t),o=lu(t),s=Qu(t);return zo(r.left,r.top,o,s)},Nc=function(t){var r=Li(t),o=lu(t),s=Qu(t);return zo(r.left,r.top,o,s)},wi=function(){return Lf(window)},rn=function(t){var r=function(z){return rn(t)},o=function(z){return rn(t)},s=function(z){return rn(z(t))},v=function(z){return rn(t)},g=function(z){z(t)},y=function(z){return z(t)},k=function(z,j){return j(t)},A=function(z){return z(t)},D=function(z){return z(t)},N=function(){return P.some(t)};return{isValue:Qt,isError:Cn,getOr:ve(t),getOrThunk:ve(t),getOrDie:ve(t),or:r,orThunk:o,fold:k,map:s,mapError:v,each:g,bind:y,exists:A,forall:D,toOptional:N}},Hf=function(t){var r=function(D){return D()},o=function(){return Nt(String(t))()},s=tt,v=function(D){return D()},g=function(D){return Hf(t)},y=function(D){return Hf(D(t))},k=function(D){return Hf(t)},A=function(D,N){return D(t)};return{isValue:Cn,isError:Qt,getOr:tt,getOrThunk:r,getOrDie:o,or:s,orThunk:v,fold:A,map:g,mapError:y,each:Q,bind:k,exists:Cn,forall:Qt,toOptional:P.none}},fp=function(t,r){return t.fold(function(){return Hf(r)},rn)},Yn={value:rn,error:Hf,fromOption:fp},ca;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(ca||(ca={}));var uh=function(t,r,o){return t.stype===ca.Error?r(t.serror):o(t.svalue)},Sl=function(t){var r=[],o=[];return yt(t,function(s){uh(s,function(v){return o.push(v)},function(v){return r.push(v)})}),{values:r,errors:o}},Ba=function(t,r){return t.stype===ca.Error?{stype:ca.Error,serror:r(t.serror)}:t},sh=function(t,r){return t.stype===ca.Value?{stype:ca.Value,svalue:r(t.svalue)}:t},Ru=function(t,r){return t.stype===ca.Value?r(t.svalue):t},Md=function(t,r){return t.stype===ca.Error?r(t.serror):t},Qn=function(t){return{stype:ca.Value,svalue:t}},Ji=function(t){return{stype:ca.Error,serror:t}},Jy=function(t){return uh(t,Yn.error,Yn.value)},Zy=function(t){return t.fold(Ji,Qn)},Ia={fromResult:Zy,toResult:Jy,svalue:Qn,partition:Sl,serror:Ji,bind:Ru,bindError:Md,map:sh,mapError:Ba,fold:uh},lh=function(t,r,o,s){return{tag:"field",key:t,newKey:r,presence:o,prop:s}},R=function(t,r){return{tag:"custom",newKey:t,instantiator:r}},H=function(t,r,o){switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},q=function(t,r){return r},fe=function(t,r){var o=O(t)&&O(r);return o?Je(t,r):r},Re=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var s={},v=0;v<r.length;v++){var g=r[v];for(var y in g)Xr(g,y)&&(s[y]=t(s[y],g[y]))}return s}},Je=Re(fe),vn=Re(q),Hn=function(){return{tag:"required",process:{}}},br=function(t){return{tag:"defaultedThunk",process:t}},er=function(t){return br(ve(t))},ma=function(){return{tag:"option",process:{}}},Ci=function(t){return{tag:"mergeWithThunk",process:t}},Xa=function(t){return Ci(ve(t))},cE=function(t,r){return t.length>0?Ia.svalue(Je(r,vn.apply(void 0,t))):Ia.svalue(r)},IS=function(t){return Me(Ia.serror,Qe)(t)},zS=function(t,r){var o=Ia.partition(t);return o.errors.length>0?IS(o.errors):cE(o.values,r)},fE=function(t){var r=Ia.partition(t);return r.errors.length>0?IS(r.errors):Ia.svalue(r.values)},tc={consolidateObj:zS,consolidateArr:fE},vp=function(t){return O(t)&&Ea(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Bu=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:ve("... (only showing first ten failures)")}]):t;return Ne(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},ch=function(t,r){return Ia.serror([{path:t,getErrorInfo:r}])},Qy=function(t,r,o){return ch(t,function(){return'Could not find valid *required* value for "'+r+'" in '+vp(o)})},dp=function(t,r){return ch(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},fb=function(t,r,o){return ch(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+vp(r)})},LS=function(t,r){return ch(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},vE=function(t,r){return ch(t,ve(r))},nc=function(t){var r=function(s,v){return Ia.bindError(t(v),function(g){return vE(s,g)})},o=ve("val");return{extract:r,toString:o}},mp=nc(Ia.svalue),dE=function(t,r,o,s){return Dn(r,o).fold(function(){return Qy(t,o,r)},s)},e2=function(t,r,o,s){var v=Dn(t,r).getOrThunk(function(){return o(t)});return s(v)},mE=function(t,r,o){return o(Dn(t,r))},hE=function(t,r,o,s){var v=Dn(t,r).map(function(g){return g===!0?o(t):g});return s(v)},fh=function(t,r,o,s,v){var g=function(k){return v.extract(r.concat([s]),k)},y=function(k){return k.fold(function(){return Ia.svalue(P.none())},function(A){var D=v.extract(r.concat([s]),A);return Ia.map(D,P.some)})};switch(t.tag){case"required":return dE(r,o,s,g);case"defaultedThunk":return e2(o,s,t.process,g);case"option":return mE(o,s,y);case"defaultedOptionThunk":return hE(o,s,t.process,y);case"mergeWithThunk":return e2(o,s,ve({}),function(k){var A=Je(t.process(o),k);return g(A)})}},hp=function(t,r,o){for(var s={},v=[],g=0,y=o;g<y.length;g++){var k=y[g];H(k,function(A,D,N,z){var j=fh(N,t,r,A,z);Ia.fold(j,function(X){v.push.apply(v,X)},function(X){s[D]=X})},function(A,D){s[A]=D(r)})}return v.length>0?Ia.serror(v):Ia.svalue(s)},FS=function(t){var r=function(s,v){return t().extract(s,v)},o=function(){return t().toString()};return{extract:r,toString:o}},HS=function(t){return Ea(Hr(t,me))},ts=function(t){var r=yn(t),o=Fe(t,function(v,g){return H(g,function(y){var k;return Je(v,(k={},k[y]=!0,k))},ve(v))},{}),s=function(v,g){var y=G(g)?[]:HS(g),k=pe(y,function(A){return!ni(o,A)});return k.length===0?r.extract(v,g):LS(v,k)};return{extract:s,toString:r.toString}},yn=function(t){var r=function(s,v){return hp(s,v,t)},o=function(){var s=Ne(t,function(v){return H(v,function(g,y,k,A){return g+" -> "+A.toString()},function(g,y){return"state("+g+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:r,toString:o}},Vf=function(t){var r=function(s,v){var g=Ne(v,function(y,k){return t.extract(s.concat(["["+k+"]"]),y)});return tc.consolidateArr(g)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},gp=function(t){var r=function(s,v){for(var g=[],y=0,k=t;y<k.length;y++){var A=k[y],D=A.extract(s,v);if(D.stype===ca.Value)return D;g.push(D)}return tc.consolidateArr(g)},o=function(){return"oneOf("+Ne(t,function(s){return s.toString()}).join(", ")+")"};return{extract:r,toString:o}},Rv=function(t,r){var o=function(g,y){return Vf(nc(t)).extract(g,y)},s=function(g,y){var k=Ea(y),A=o(g,k);return Ia.bind(A,function(D){var N=Ne(D,function(z){return lh(z,z,Hn(),r)});return yn(N).extract(g,y)})},v=function(){return"setOf("+r.toString()+")"};return{extract:s,toString:v}},vh=function(t,r){var o=Xu(r),s=function(g,y){return o().extract(g,y)},v=function(){return o().toString()};return{extract:s,toString:v}},t2=Me(Vf,yn),xl=ve(mp),Pd=function(t,r){return nc(function(o){var s=typeof o;return t(o)?Ia.svalue(o):Ia.serror("Expected type: "+r+" but got: "+s)})},dh=Pd(oe,"number"),vo=Pd(E,"string"),oi=Pd(G,"boolean"),pp=Pd(ie,"function"),Ic=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return Ic(t[r])});default:return!1}},bp=nc(function(t){return Ic(t)?Ia.svalue(t):Ia.serror("Expected value to be acceptable for sending via postMessage")}),vb=function(t,r,o,s){var v=Dn(o,s);return v.fold(function(){return fb(t,o,s)},function(g){return g.extract(t.concat(["branch: "+s]),r)})},db=function(t,r){var o=function(v,g){var y=Dn(g,t);return y.fold(function(){return dp(v,t)},function(k){return vb(v,g,r,k)})},s=function(){return"chooseOn("+t+"). Possible values: "+Ea(r)};return{extract:o,toString:s}},gE=function(){return Vf(mp)},mh=function(t){return nc(function(r){return t(r).fold(Ia.serror,Ia.svalue)})},Fi=function(t,r){return Rv(function(o){return Ia.fromResult(t(o))},r)},VS=function(t,r,o){var s=r.extract([t],o);return Ia.mapError(s,function(v){return{input:o,errors:v}})},Ha=function(t,r,o){return Ia.toResult(VS(t,r,o))},_l=function(t){return t.fold(function(r){throw new Error(Bv(r))},tt)},Yr=function(t,r,o){return _l(Ha(t,r,o))},Bv=function(t){return`Errors: 
`+Bu(t.errors).join(`
`)+`

Input object: `+vp(t.input)},Zs=function(t,r){return db(t,mr(r,yn))},pE=function(t,r){return vh(t,r)},Lo=lh,fu=R,US=function(t){return mh(function(r){return nr(t,r)?Yn.value(r):Yn.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},it=function(t){return Lo(t,t,Hn(),xl())},$u=function(t,r){return Lo(t,t,Hn(),r)},Uf=function(t){return $u(t,dh)},zn=function(t){return $u(t,vo)},ks=function(t,r){return Lo(t,t,Hn(),US(r))},bE=function(t){return $u(t,oi)},Zi=function(t){return $u(t,pp)},hh=function(t,r){return Lo(t,t,ma(),nc(function(o){return Ia.serror("The field: "+t+" is forbidden. "+r)}))},zc=function(t,r){return Lo(t,t,Hn(),yn(r))},kl=function(t,r){return Lo(t,t,Hn(),t2(r))},Hi=function(t,r){return Lo(t,t,Hn(),Vf(r))},Pr=function(t){return Lo(t,t,ma(),xl())},rc=function(t,r){return Lo(t,t,ma(),r)},Nd=function(t){return rc(t,dh)},pa=function(t){return rc(t,vo)},$v=function(t){return rc(t,pp)},ns=function(t,r){return rc(t,Vf(r))},rs=function(t,r){return rc(t,yn(r))},yE=function(t,r){return rc(t,ts(r))},Te=function(t,r){return Lo(t,t,er(r),xl())},vu=function(t,r,o){return Lo(t,t,er(r),o)},ac=function(t,r){return vu(t,r,dh)},gh=function(t,r){return vu(t,r,vo)},As=function(t,r,o){return vu(t,r,US(o))},fa=function(t,r){return vu(t,r,oi)},ba=function(t,r){return vu(t,r,pp)},Mu=function(t,r){return vu(t,r,bp)},Wf=function(t,r,o){return vu(t,r,Vf(o))},n2=function(t,r,o){return vu(t,r,yn(o))},_n=function(t){var r=t,o=function(){return r},s=function(v){r=v};return{get:o,set:s}},mb=function(t){if(!B(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return yt(t,function(s,v){var g=Ea(s);if(g.length!==1)throw new Error("one and only one name per case");var y=g[0],k=s[y];if(o[y]!==void 0)throw new Error("duplicate key detected:"+y);if(y==="cata")throw new Error("cannot have a case named cata (sorry)");if(!B(k))throw new Error("case arguments must be an array");r.push(y),o[y]=function(){for(var A=[],D=0;D<arguments.length;D++)A[D]=arguments[D];var N=A.length;if(N!==k.length)throw new Error("Wrong number of arguments to case "+y+". Expected "+k.length+" ("+k+"), got "+N);var z=function(j){var X=Ea(j);if(r.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+X.join(","));var ne=Et(r,function(de){return nr(X,de)});if(!ne)throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+r.join(", "));return j[y].apply(null,A)};return{fold:function(){for(var j=[],X=0;X<arguments.length;X++)j[X]=arguments[X];if(j.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+j.length);var ne=j[v];return ne.apply(null,A)},match:z,log:function(j){console.log(j,{constructors:r,constructor:y,params:A})}}}}),o},Es={generate:mb};Es.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var WS=function(t){var r=[],o=[];return yt(t,function(s){s.fold(function(v){r.push(v)},function(v){o.push(v)})}),{errors:r,values:o}},yp=function(t,r){var o={};return Sa(t,function(s,v){nr(r,v)||(o[v]=s)}),o},wp=function(t,r){var o;return o={},o[t]=r,o},r2=function(t){var r={};return yt(t,function(o){r[o.key]=o.value}),r},a2=function(t,r){return yp(t,r)},Lc=function(t,r){return wp(t,r)},jf=function(t){return r2(t)},wE=function(t,r){return t.length===0?Yn.value(r):Yn.value(Je(r,vn.apply(void 0,t)))},o2=function(t){return Yn.error(Qe(t))},CE=function(t,r){var o=WS(t);return o.errors.length>0?o2(o.errors):wE(o.values,r)},jS=function(t){return ie(t)?t:Cn},Cp=function(t,r,o){for(var s=t.dom,v=jS(o);s.parentNode;){s=s.parentNode;var g=Gt.fromDom(s),y=r(g);if(y.isSome())return y;if(v(g))break}return P.none()},ph=function(t,r,o){var s=r(t),v=jS(o);return s.orThunk(function(){return v(t)?P.none():Cp(t,r,v)})},GS=function(t,r){return da(t.element,r.event.target)},Fc={can:Qt,abort:Cn,run:Q},bh=function(t){if(!ni(t,"can")&&!ni(t,"abort")&&!ni(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return Ce(Ce({},Fc),t)},i2=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return je(t,function(v,g){return v&&r(g).apply(void 0,o)},!0)}},qS=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return je(t,function(v,g){return v||r(g).apply(void 0,o)},!1)}},SE=function(t){return ie(t)?{can:Qt,abort:Cn,run:t}:t},xE=function(t){var r=i2(t,function(v){return v.can}),o=qS(t,function(v){return v.abort}),s=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];yt(t,function(y){y.run.apply(void 0,v)})};return{can:r,abort:o,run:s}},Do=ve,Hc=Do("touchstart"),Al=Do("touchmove"),Mv=Do("touchend"),KS=Do("touchcancel"),El=Do("mousedown"),Id=Do("mousemove"),u2=Do("mouseout"),s2=Do("mouseup"),Gf=Do("mouseover"),Qs=Do("focusin"),Si=Do("focusout"),hb=Do("keydown"),l2=Do("keyup"),zd=Do("input"),yh=Do("change"),wh=Do("click"),_E=Do("transitioncancel"),Ch=Do("transitionend"),c2=Do("transitionstart"),kE=Do("selectstart"),Ya=function(t){return ve("alloy."+t)},gb={tap:Ya("tap")},Pv=Ya("focus"),f2=Ya("blur.post"),v2=Ya("paste.post"),el=Ya("receive"),Ts=Ya("execute"),Ld=Ya("focus.item"),Nv=gb.tap,pb=Ya("longpress"),Sp=Ya("sandbox.close"),d2=Ya("typeahead.cancel"),Fd=Ya("system.init"),bb=Ya("system.touchmove"),AE=Ya("system.touchend"),m2=Ya("system.scroll"),Os=Ya("system.resize"),as=Ya("system.attached"),Sh=Ya("system.detached"),Tl=Ya("system.dismissRequested"),Vi=Ya("system.repositionRequested"),yb=Ya("focusmanager.shifted"),qf=Ya("slotcontainer.visibility"),XS=Ya("change.tab"),xi=Ya("dismiss.tab"),h2=Ya("highlight"),wb=Ya("dehighlight"),Rr=function(t,r){Ol(t,t.element,r,{})},kn=function(t,r,o){Ol(t,t.element,r,o)},Ds=function(t){Rr(t,Ts())},Cb=function(t,r,o){Ol(t,r,o,{})},Ol=function(t,r,o,s){var v=Ce({target:r},s);t.getSystem().triggerEvent(o,r,v)},YS=function(t,r,o,s){t.getSystem().triggerEvent(o,r,s.event)},va=function(t){return jf(t)},g2=function(t,r){return{key:t,value:bh({abort:r})}},Sb=function(t,r){return{key:t,value:bh({can:r})}},xb=function(t){return{key:t,value:bh({run:function(r,o){o.event.prevent()}})}},vt=function(t,r){return{key:t,value:bh({run:r})}},p2=function(t,r,o){return{key:t,value:bh({run:function(s,v){r.apply(void 0,[s,v].concat(o))}})}},b2=function(t){return function(r){return vt(t,r)}},Iv=function(t){return function(r){return{key:t,value:bh({run:function(o,s){GS(o,s)&&r(o,s)}})}}},xp=function(t,r){return vt(t,function(o,s){o.getSystem().getByUid(r).each(function(v){YS(v,v.element,t,s)})})},Hd=function(t,r,o){var s=r.partUids[o];return xp(t,s)},zv=function(t,r){return vt(t,function(o,s){var v=s.event,g=o.getSystem().getByDom(v.target).getOrThunk(function(){var y=ph(v.target,function(k){return o.getSystem().getByDom(k).toOptional()},Cn);return y.getOr(o)});r(o,g,s)})},Vd=function(t){return vt(t,function(r,o){o.cut()})},xh=function(t){return vt(t,function(r,o){o.stop()})},So=function(t,r){return Iv(t)(r)},jn=Iv(as()),Rs=Iv(Sh()),JS=Iv(Fd()),os=b2(Ts()),y2=function(t,r){var o=r||document,s=o.createElement("div");return s.innerHTML=t,De(Gt.fromDom(s))},Vc=function(t){return t.dom.innerHTML},Kf=function(t,r){var o=qo(t),s=o.dom,v=Gt.fromDom(s.createDocumentFragment()),g=y2(r,s);ec(v,g),Na(t),zi(t,v)},Xf=function(t){var r=Gt.fromTag("div"),o=Gt.fromDom(t.dom.cloneNode(!0));return zi(r,o),Vc(r)},Bs=function(t,r){return Gt.fromDom(t.dom.cloneNode(r))},Lv=function(t){return Bs(t,!1)},Ko=function(t){if(Bd(t))return"#shadow-root";var r=Lv(t);return Xf(r)},du=function(t){return Ko(t)},Uc=function(t,r,o){return da(r,t.element)&&!da(r,o)},Fv=va([Sb(Pv(),function(t,r){var o=r.event,s=o.originator,v=o.target;return Uc(t,s,v)?(console.warn(Pv()+` did not get interpreted by the desired target. 
Originator: `+du(s)+`
Target: `+du(v)+`
Check the `+Pv()+" event handlers"),!1):!0})]),_h=Object.freeze({__proto__:null,events:Fv}),Ud=0,ln=function(t){var r=new Date,o=r.getTime(),s=Math.floor(Math.random()*1e9);return Ud++,t+"_"+s+Ud+String(o)},ii=ve("alloy-id-"),oc=ve("data-alloy-id"),Wc=ii(),_p=oc(),ZS=function(t,r){var o=ln(Wc+t);return _b(r,o),o},_b=function(t,r){Object.defineProperty(t.dom,_p,{value:r,writable:!0})},Hv=function(t){var r=co(t)?t.dom[_p]:null;return P.from(r)},Vv=function(t){return ln(t)},kh=tt,kp=function(t){var r=function(v){return"The component must be in a context to execute: "+v+(t?`
`+du(t().element)+" is not in context.":"")},o=function(v){return function(){throw new Error(r(v))}},s=function(v){return function(){console.warn(r(v))}};return{debugInfo:ve("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:Cn}},EE=kp(),$s=function(t,r,o){var s=o.toString(),v=s.indexOf(")")+1,g=s.indexOf("("),y=s.substring(g+1,v-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:w2(y.slice(0,1).concat(y.slice(3)))}},t},w2=function(t){return Ne(t,function(r){return Mn(r,"/*")?r.substring(0,r.length-2):r})},Wd=function(t,r){var o=t.toString(),s=o.indexOf(")")+1,v=o.indexOf("("),g=o.substring(v+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:w2(g)}},t},Uv=function(t,r){var o=r.toString(),s=o.indexOf(")")+1,v=o.indexOf("("),g=o.substring(v+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:w2(g.slice(1))}},t},C2=ln("alloy-premade"),Wv=function(t){return Lc(C2,t)},QS=function(t){return Dn(t,C2)},Va=function(t){return Uv(function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t.apply(void 0,Ht([r.getApis(),r],o,!1))},t)},_i={init:function(){return Ui({readState:ve("No State required")})}},Ui=function(t){return t},ex=function(t,r){var o=Ne(r,function(v){return rs(v.name(),[it("config"),Te("state",_i)])}),s=Ha("component.behaviours",yn(o),t.behaviours).fold(function(v){throw new Error(Bv(v)+`
Complete spec:
`+JSON.stringify(t,null,2))},tt);return{list:r,data:mr(s,function(v){var g=v.map(function(y){return{config:y.config,state:y.state.init(y.config)}});return ve(g)})}},kb=function(t){return t.list},TE=function(t){return t.data},tx=function(t,r){var o={};return Sa(t,function(s,v){Sa(s,function(g,y){var k=Dn(o,y).getOr([]);o[y]=k.concat([r(v,g)])})}),o},Dl=function(t){return{classes:ee(t.classes)?[]:t.classes,attributes:ee(t.attributes)?{}:t.attributes,styles:ee(t.styles)?{}:t.styles}},OE=function(t,r){return Ce(Ce({},t),{attributes:Ce(Ce({},t.attributes),r.attributes),styles:Ce(Ce({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},Ah=function(t,r,o,s){var v=Ce({},r);yt(o,function(N){v[N.name()]=N.exhibit(t,s)});var g=tx(v,function(N,z){return{name:N,modification:z}}),y=function(N){return Fe(N,function(z,j){return Ce(Ce({},j.modification),z)},{})},k=Fe(g.classes,function(N,z){return z.modification.concat(N)},[]),A=y(g.attributes),D=y(g.styles);return Dl({classes:k,attributes:A,styles:D})},Ab=function(t,r,o,s){try{var v=gr(o,function(g,y){var k=g[r],A=y[r],D=s.indexOf(k),N=s.indexOf(A);if(D===-1)throw new Error("The ordering for "+t+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(s,null,2));if(N===-1)throw new Error("The ordering for "+t+" does not have an entry for "+A+`.
Order specified: `+JSON.stringify(s,null,2));return D<N?-1:N<D?1:0});return Yn.value(v)}catch(g){return Yn.error([g])}},DE=function(t,r){return{handler:t,purpose:r}},nx=function(t,r){return{cHandler:t,purpose:r}},S2=function(t,r){return nx(Xt.apply(void 0,[t.handler].concat(r)),t.purpose)},x2=function(t){return t.cHandler},_2=function(t,r){return{name:t,handler:r}},RE=function(t,r){var o={};return yt(t,function(s){o[s.name()]=s.handlers(r)}),o},jv=function(t,r,o){var s=Ce(Ce({},o),RE(r,t));return tx(s,_2)},Gv=function(t,r,o,s){var v=jv(t,o,s);return rx(v,r)},ia=function(t){var r=SE(t);return function(o,s){for(var v=[],g=2;g<arguments.length;g++)v[g-2]=arguments[g];var y=[o,s].concat(v);r.abort.apply(void 0,y)?s.stop():r.can.apply(void 0,y)&&r.run.apply(void 0,y)}},Eb=function(t,r){return Yn.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ne(r,function(o){return o.name}),null,2)])},ic=function(t,r,o){var s=r[o];return s?Ab("Event: "+o,"name",t,s).map(function(v){var g=Ne(v,function(y){return y.handler});return xE(g)}):Eb(o,t)},rx=function(t,r){var o=ps(t,function(s,v){var g=s.length===1?Yn.value(s[0].handler):ic(s,r,v);return g.map(function(y){var k=ia(y),A=s.length>1?pe(r[v],function(D){return Fr(s,function(N){return N.name===D})}).join(" > "):s[0].name;return Lc(v,DE(k,A))})});return CE(o,{})},uc,jc="alloy.base.behaviour",qv=yn([Lo("dom","dom",Hn(),yn([it("tag"),Te("styles",{}),Te("classes",[]),Te("attributes",{}),Pr("value"),Pr("innerHtml")])),it("components"),it("uid"),Te("events",{}),Te("apis",{}),Lo("eventOrder","eventOrder",Xa((uc={},uc[Ts()]=["disabling",jc,"toggling","typeaheadevents"],uc[Pv()]=[jc,"focusing","keying"],uc[Fd()]=[jc,"disabling","toggling","representing"],uc[zd()]=[jc,"representing","streaming","invalidating"],uc[Sh()]=[jc,"representing","item-events","tooltipping"],uc[El()]=["focusing",jc,"item-type-events"],uc[Hc()]=["focusing",jc,"item-type-events"],uc[Gf()]=["item-type-events","tooltipping"],uc[el()]=["receiving","reflecting","tooltipping"],uc)),xl()),Pr("domModification")]),Tb=function(t){return Ha("custom.definition",qv,t)},Ap=function(t){return Ce(Ce({},t.dom),{uid:t.uid,domChildren:Ne(t.components,function(r){return r.element})})},Ob=function(t){return t.domModification.fold(function(){return Dl({})},Dl)},Db=function(t){return t.events},jd=function(t,r){var o=Ra(t,r);return o===void 0||o===""?[]:o.split(" ")},BE=function(t,r,o){var s=jd(t,r),v=s.concat([o]);return Xn(t,r,v.join(" ")),!0},Rb=function(t,r,o){var s=pe(jd(t,r),function(v){return v!==o});return s.length>0?Xn(t,r,s.join(" ")):ai(t,r),!1},Eh=function(t){return t.dom.classList!==void 0},Ep=function(t){return jd(t,"class")},Tp=function(t,r){return BE(t,"class",r)},k2=function(t,r){return Rb(t,"class",r)},Fo=function(t,r){Eh(t)?t.dom.classList.add(r):Tp(t,r)},Gd=function(t){var r=Eh(t)?t.dom.classList:Ep(t);r.length===0&&ai(t,"class")},Ro=function(t,r){if(Eh(t)){var o=t.dom.classList;o.remove(r)}else k2(t,r);Gd(t)},mu=function(t,r){return Eh(t)&&t.dom.classList.contains(r)},qd=function(t,r){yt(r,function(o){Fo(t,o)})},Ms=function(t,r){yt(r,function(o){Ro(t,o)})},Bb=function(t,r){return Et(r,function(o){return mu(t,o)})},Gc=function(t){return t.dom.value},Th=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},Oh=function(t){var r=Gt.fromTag(t.tag);Ju(r,t.attributes),qd(r,t.classes),Zu(r,t.styles),t.innerHtml.each(function(s){return Kf(r,s)});var o=t.domChildren;if(ec(r,o),t.value.each(function(s){Th(r,s)}),!t.uid)debugger;return _b(r,t.uid),r},ax=function(t){var r=Dn(t,"behaviours").getOr({});return qt(Ea(r),function(o){var s=r[o];return me(s)?[s.me]:[]})},ox=function(t,r){return ex(t,r)},$E=function(t){var r=ax(t);return ox(t,r)},ME=function(t,r,o){var s=Ap(t),v=Ob(t),g={"alloy.base.modification":v},y=r.length>0?Ah(o,g,r,s):v;return OE(s,y)},PE=function(t,r,o){var s={"alloy.base.behaviour":Db(t)};return Gv(o,t.eventOrder,r,s).getOrDie()},ix=function(t){var r=function(){return Ee},o=_n(EE),s=_l(Tb(t)),v=$E(t),g=kb(v),y=TE(v),k=ME(s,g,y),A=Oh(k),D=PE(s,g,y),N=_n(s.components),z=function(Ge){o.set(Ge)},j=function(){o.set(kp(r))},X=function(){var Ge=De(A),We=qt(Ge,function(Ae){return o.get().getByDom(Ae).fold(function(){return[]},or)});N.set(We)},ne=function(Ge){var We=y,Ae=ie(We[Ge.name()])?We[Ge.name()]:function(){throw new Error("Could not find "+Ge.name()+" in "+JSON.stringify(t,null,2))};return Ae()},de=function(Ge){return ie(y[Ge.name()])},ke=function(){return s.apis},ce=function(Ge){return y[Ge]().map(function(We){return We.state.readState()}).getOr("not enabled")},Ee={uid:t.uid,getSystem:o.get,config:ne,hasConfigured:de,spec:t,readState:ce,getApis:ke,connect:z,disconnect:j,element:A,syncComponents:X,components:N.get,events:D};return Ee},$b=function(t){var r=Dn(t,"components").getOr([]);return Ne(r,$a)},Mb=function(t){var r=kh(t),o=r.events,s=Y(r,["events"]),v=$b(s),g=Ce(Ce({},s),{events:Ce(Ce({},_h),o),components:v});return Yn.value(ix(g))},ki=function(t){var r=Gt.fromText(t);return Pb({element:r})},Pb=function(t){var r=Yr("external.component",ts([it("element"),Pr("uid")]),t),o=_n(kp()),s=function(k){o.set(k)},v=function(){o.set(kp(function(){return y}))},g=r.uid.getOrThunk(function(){return Vv("external")});_b(r.element,g);var y={uid:g,getSystem:o.get,config:P.none,hasConfigured:Cn,connect:s,disconnect:v,getApis:function(){return{}},element:r.element,spec:t,readState:ve("No state"),syncComponents:Q,components:ve([]),events:{}};return Wv(y)},A2=Vv,tl=function(t){return Xr(t,"uid")},$a=function(t){return QS(t).getOrThunk(function(){var r=tl(t)?t:Ce({uid:A2("")},t);return Mb(r).getOrDie()})},Ps=Wv;function Kv(t,r,o,s,v){return t(o,s)?P.some(o):ie(v)&&v(o)?P.none():r(o,s,v)}var E2=function(t,r,o){for(var s=t.dom,v=ie(o)?o:Cn;s.parentNode;){s=s.parentNode;var g=Gt.fromDom(s);if(r(g))return P.some(g);if(v(g))break}return P.none()},Nb=function(t,r,o){var s=function(v,g){return g(v)};return Kv(s,E2,t,r,o)},ux=function(t,r){var o=function(v){return r(Gt.fromDom(v))},s=bt(t.dom.childNodes,o);return s.map(Gt.fromDom)},Jn=function(t,r){var o=function(s){for(var v=0;v<s.childNodes.length;v++){var g=Gt.fromDom(s.childNodes[v]);if(r(g))return P.some(g);var y=o(s.childNodes[v]);if(y.isSome())return y}return P.none()};return o(t.dom)},Dh=function(t,r,o){return Nb(t,r,o).isSome()},Ib=function(t,r,o){return E2(t,function(s){return Ur(s,r)},o)},T2=function(t,r){return ux(t,function(o){return Ur(o,r)})},Ho=function(t,r){return Xy(r,t)},nl=function(t,r,o){var s=function(v,g){return Ur(v,g)};return Kv(s,Ib,t,r,o)},sx=function(t){var r=Nb(t,function(o){if(!co(o))return!1;var s=Ra(o,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return r.bind(function(o){var s=Ra(o,"id"),v=Cs(o);return Ho(v,'[aria-owns="'+s+'"]')})},Kd=function(){var t=ln("aria-owns"),r=function(s){Xn(s,"aria-owns",t)},o=function(s){ai(s,"aria-owns")};return{id:t,link:r,unlink:o}},Ta=function(t,r){return sx(r).exists(function(o){return Xd(t,o)})},Xd=function(t,r){return Dh(r,function(o){return da(o,t.element)},Cn)||Ta(t,r)},zb="unknown",Rh;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Rh||(Rh={}));var O2=_n({}),lx=function(t,r){var o=[],s=new Date().getTime();return{logEventCut:function(v,g,y){o.push({outcome:"cut",target:g,purpose:y})},logEventStopped:function(v,g,y){o.push({outcome:"stopped",target:g,purpose:y})},logNoParent:function(v,g,y){o.push({outcome:"no-parent",target:g,purpose:y})},logEventNoHandlers:function(v,g){o.push({outcome:"no-handlers-left",target:g})},logEventResponse:function(v,g,y){o.push({outcome:"response",purpose:y,target:g})},write:function(){var v=new Date().getTime();nr(["mousemove","mouseover","mouseout",Fd()],t)||console.log(t,{event:t,time:v-s,target:r.dom,sequence:Ne(o,function(g){return nr(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+du(g.target)+")":g.outcome})})}}},Op=function(t,r,o){var s=Dn(O2.get(),t).orThunk(function(){var y=Ea(O2.get());return Pa(y,function(k){return t.indexOf(k)>-1?P.some(O2.get()[k]):P.none()})}).getOr(Rh.NORMAL);switch(s){case Rh.NORMAL:return o(NE());case Rh.LOGGING:{var v=lx(t,r),g=o(v);return v.write(),g}case Rh.STOP:return!0}},cx=["alloy/data/Fields","alloy/debugging/Debugging"],Yf=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return bt(r,function(o){return o.indexOf("alloy")>0&&!Fr(cx,function(s){return o.indexOf(s)>-1})}).getOr(zb)}else return zb},hu={logEventCut:Q,logEventStopped:Q,logNoParent:Q,logEventNoHandlers:Q,logEventResponse:Q,write:Q},D2=function(t,r,o){return Op(t,r,o)},NE=ve(hu),sc=ve([it("menu"),it("selectedMenu")]),Jf=ve([it("item"),it("selectedItem")]);ve(yn(Jf().concat(sc())));var Lb=ve(yn(Jf())),IE=zc("initSize",[it("numColumns"),it("numRows")]),zE=function(){return $u("markers",Lb())},Yd=function(){return zc("markers",[it("backgroundMenu")].concat(sc()).concat(Jf()))},Jd=function(t){return zc("markers",Ne(t,it))},Fb=function(t,r,o){return Yf(),Lo(r,r,o,mh(function(s){return Yn.value(function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];return s.apply(void 0,v)})}))},Nr=function(t){return Fb("onHandler",t,er(Q))},Vo=function(t){return Fb("onKeyboardHandler",t,er(P.none))},gu=function(t){return Fb("onHandler",t,Hn())},Pu=function(t){return Fb("onKeyboardHandler",t,Hn())},ha=function(t,r){return fu(t,ve(r))},Xv=function(t){return fu(t,tt)},Hb=ve(IE),Xo=function(t,r,o,s,v,g,y,k){return k===void 0&&(k=!1),{x:t,y:r,bubble:o,direction:s,placement:v,restriction:g,label:y+"-"+v,alwaysFit:k}},qc=Es.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),LE=function(t,r,o,s,v,g,y,k,A){return t.fold(r,o,s,v,g,y,k,A)},FE=function(t,r,o,s){return t.fold(r,r,s,s,r,s,o,o)},Vb=function(t,r,o,s){return t.fold(r,s,r,s,o,o,r,s)},Ub=qc.southeast,R2=qc.southwest,B2=qc.northeast,Zd=qc.northwest,Dp=qc.south,$2=qc.north,M2=qc.east,Bh=qc.west,Ai=function(t,r,o,s){var v=t+r;return v>s?o:v<o?s:v},is=function(t,r,o){return Math.min(Math.max(t,r),o)},Rp=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Uo=function(t,r){return Pn(["left","right","top","bottom"],function(o){return Dn(r,o).map(function(s){return Rp(t,s)})})},Wb=function(t,r,o){var s=function(A,D){return r[A].map(function(N){var z=A==="top"||A==="bottom",j=z?o.top:o.left,X=A==="left"||A==="top"?Math.max:Math.min,ne=X(N,D)+j;return z?is(ne,t.y,t.bottom):is(ne,t.x,t.right)}).getOr(D)},v=s("left",t.x),g=s("top",t.y),y=s("right",t.right),k=s("bottom",t.bottom);return zo(v,g,y-v,k-g)},Zf="layout",P2=function(t){return t.x},N2=function(t,r){return t.x+t.width/2-r.width/2},fx=function(t,r){return t.x+t.width-r.width},I2=function(t,r){return t.y-r.height},Bp=function(t){return t.y+t.height},jb=function(t,r){return t.y+t.height/2-r.height/2},vx=function(t){return t.x+t.width},HE=function(t,r){return t.x-r.width},Wi=function(t,r,o){return Xo(P2(t),Bp(t),o.southeast(),Ub(),"southeast",Uo(t,{left:1,top:3}),Zf)},Yo=function(t,r,o){return Xo(fx(t,r),Bp(t),o.southwest(),R2(),"southwest",Uo(t,{right:0,top:3}),Zf)},pu=function(t,r,o){return Xo(P2(t),I2(t,r),o.northeast(),B2(),"northeast",Uo(t,{left:1,bottom:2}),Zf)},bu=function(t,r,o){return Xo(fx(t,r),I2(t,r),o.northwest(),Zd(),"northwest",Uo(t,{right:0,bottom:2}),Zf)},Nu=function(t,r,o){return Xo(N2(t,r),I2(t,r),o.north(),$2(),"north",Uo(t,{bottom:2}),Zf)},Bo=function(t,r,o){return Xo(N2(t,r),Bp(t),o.south(),Dp(),"south",Uo(t,{top:3}),Zf)},Gb=function(t,r,o){return Xo(vx(t),jb(t,r),o.east(),M2(),"east",Uo(t,{left:0}),Zf)},qb=function(t,r,o){return Xo(HE(t,r),jb(t,r),o.west(),Bh(),"west",Uo(t,{right:1}),Zf)},z2=function(){return[Wi,Yo,pu,bu,Bo,Nu,Gb,qb]},Qd=function(){return[Yo,Wi,bu,pu,Bo,Nu,Gb,qb]},Yv=function(){return[pu,bu,Wi,Yo,Nu,Bo]},Kb=function(){return[bu,pu,Yo,Wi,Nu,Bo]},Xb=function(){return[Wi,Yo,pu,bu,Bo,Nu]},Yb=function(){return[Yo,Wi,bu,pu,Bo,Nu]},$h=function(t,r){return r.universal?t:pe(t,function(o){return nr(r.channels,o)})},Mh=function(t){return va([vt(el(),function(r,o){var s=t.channels,v=Ea(s),g=o,y=$h(v,g);yt(y,function(k){var A=s[k],D=A.schema,N=Yr("channel["+k+`] data
Receiver: `+du(r.element),D,g.data);A.onReceive(r,N)})})])},dx=Object.freeze({__proto__:null,events:Mh}),Kc=[$u("channels",Fi(Yn.value,ts([gu("onReceive"),Te("schema",xl())])))],em=function(t,r,o){return os(function(s){o(s,t,r)})},za=function(t,r,o){return JS(function(s,v){o(s,t,r)})},VE=function(t,r,o,s,v,g){var y=ts(t),k=rs(r,[yE("config",t)]);return mx(y,k,r,o,s,v,g)},UE=function(t,r,o,s,v,g){var y=t,k=rs(r,[rc("config",t)]);return mx(y,k,r,o,s,v,g)},Jb=function(t,r,o){var s=function(v){for(var g=[],y=1;y<arguments.length;y++)g[y-1]=arguments[y];var k=[v].concat(g);return v.config({name:ve(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(A){var D=Array.prototype.slice.call(k,1);return r.apply(void 0,[v,A.config,A.state].concat(D))})};return $s(s,o,r)},WE=function(t){return{key:t,value:void 0}},mx=function(t,r,o,s,v,g,y){var k=function(z){return ni(z,o)?z[o]():P.none()},A=mr(v,function(z,j){return Jb(o,z,j)}),D=mr(g,function(z,j){return Wd(z,j)}),N=Ce(Ce(Ce({},D),A),{revoke:Xt(WE,o),config:function(z){var j=Yr(o+"-config",t,z);return{key:o,value:{config:j,me:N,configAsRaw:Xu(function(){return Yr(o+"-config",t,z)}),initialConfig:z,state:y}}},schema:ve(r),exhibit:function(z,j){return Ws(k(z),Dn(s,"exhibit"),function(X,ne){return ne(j,X.config,X.state)}).getOrThunk(function(){return Dl({})})},name:ve(o),handlers:function(z){return k(z).map(function(j){var X=Dn(s,"events").getOr(function(){return{}});return X(j.config,j.state)}).getOr({})}});return N},It=function(t){return jf(t)},jE=ts([it("fields"),it("name"),Te("active",{}),Te("apis",{}),Te("state",_i),Te("extra",{})]),Wo=function(t){var r=Yr("Creating behaviour: "+t.name,jE,t);return VE(r.fields,r.name,r.active,r.apis,r.extra,r.state)},L2=ts([it("branchKey"),it("branches"),it("name"),Te("active",{}),Te("apis",{}),Te("state",_i),Te("extra",{})]),tm=function(t){var r=Yr("Creating behaviour: "+t.name,L2,t);return UE(Zs(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},hx=ve(void 0),Qi=Wo({fields:Kc,name:"receiving",active:dx}),$p=function(t,r){return Dl({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},Zb=Object.freeze({__proto__:null,exhibit:$p}),Mp=function(){return Gt.fromDom(document)},lc=function(t){return t.dom.focus()},Pp=function(t){return t.dom.blur()},Np=function(t){var r=Cs(t).dom;return t.dom===r.activeElement},yu=function(t){return t===void 0&&(t=Mp()),P.from(t.dom.activeElement).map(Gt.fromDom)},cc=function(t){return yu(Cs(t)).filter(function(r){return t.dom.contains(r.dom)})},gx=function(t,r){var o=Cs(r),s=yu(o).bind(function(g){var y=function(k){return da(g,k)};return y(r)?P.some(r):Jn(r,y)}),v=t(r);return s.each(function(g){yu(o).filter(function(y){return da(y,g)}).fold(function(){lc(g)},Q)}),v},eu=function(t,r,o,s,v){var g=function(y){return y+"px"};return{position:t,left:r.map(g),top:o.map(g),right:s.map(g),bottom:v.map(g)}},Xc=function(t){return Ce(Ce({},t),{position:P.some(t.position)})},Jv=function(t,r){qa(t,Xc(r))},Ip=Es.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Ke=function(t,r,o,s,v,g){var y=r.rect,k=y.x-o,A=y.y-s,D=y.width,N=y.height,z=v-(k+D),j=g-(A+N),X=P.some(k),ne=P.some(A),de=P.some(z),ke=P.some(j),ce=P.none();return LE(r.direction,function(){return eu(t,X,ne,ce,ce)},function(){return eu(t,ce,ne,de,ce)},function(){return eu(t,X,ce,ce,ke)},function(){return eu(t,ce,ce,de,ke)},function(){return eu(t,X,ne,ce,ce)},function(){return eu(t,X,ce,ce,ke)},function(){return eu(t,X,ne,ce,ce)},function(){return eu(t,ce,ne,de,ce)})},Qf=function(t,r){return t.fold(function(){var o=r.rect;return eu("absolute",P.some(o.x),P.some(o.y),P.none(),P.none())},function(o,s,v,g){return Ke("absolute",r,o,s,v,g)},function(o,s,v,g){return Ke("fixed",r,o,s,v,g)})},Ph=function(t,r){var o=Xt(Li,r),s=t.fold(o,o,function(){var y=es();return Li(r).translate(-y.left,-y.top)}),v=lu(r),g=Qu(r);return zo(s.left,s.top,v,g)},GE=function(t,r){return r.fold(function(){return t.fold(wi,wi,zo)},function(o){return t.fold(o,o,function(){var s=o(),v=Qb(t,s.x,s.y);return zo(v.left,v.top,s.width,s.height)})})},Qb=function(t,r,o){var s=la(r,o),v=function(){var g=es();return s.translate(-g.left,-g.top)};return t.fold(ve(s),ve(s),v)},Rl=function(t,r,o,s){return t.fold(r,o,s)};Ip.none;var e0=Ip.relative,F2=Ip.fixed,H2=function(t,r){return{anchorBox:t,origin:r}},t0=function(t,r){return H2(t,r)},V2="data-alloy-placement",U2=function(t,r){Xn(t,V2,r)},W2=function(t){return Fa(t,V2)},j2=function(t){return ai(t,V2)},nm=Es.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),px=function(t,r){var o=r.x,s=r.y,v=r.right,g=r.bottom,y=t.x,k=t.y,A=t.right,D=t.bottom,N=t.width,z=t.height,j=y>=o&&y<=v,X=k>=s&&k<=g,ne=j&&X,de=A<=v&&A>=o,ke=D<=g&&D>=s,ce=de&&ke,Ee=Math.min(N,y>=o?v-y:A-o),Ge=Math.min(z,k>=s?g-k:D-s);return{originInBounds:ne,sizeInBounds:ce,visibleW:Ee,visibleH:Ge}},qE=function(t,r){var o=r.x,s=r.y,v=r.right,g=r.bottom,y=t.x,k=t.y,A=t.width,D=t.height,N=Math.max(o,v-A),z=Math.max(s,g-D),j=is(y,o,N),X=is(k,s,z),ne=Math.min(j+A,v)-j,de=Math.min(X+D,g)-X;return zo(j,X,ne,de)},KE=function(t,r,o){var s=ve(r.bottom-o.y),v=ve(o.bottom-r.y),g=FE(t,v,v,s),y=ve(r.right-o.x),k=ve(o.right-r.x),A=Vb(t,k,k,y);return{maxWidth:A,maxHeight:g}},Nh=function(t,r,o,s){var v=t.bubble,g=v.offset,y=Wb(s,t.restriction,g),k=t.x+g.left,A=t.y+g.top,D=zo(k,A,r,o),N=px(D,y),z=N.originInBounds,j=N.sizeInBounds,X=N.visibleW,ne=N.visibleH,de=z&&j,ke=de?D:qE(D,y),ce=ke.width>0&&ke.height>0,Ee=KE(t.direction,ke,s),Ge=Ee.maxWidth,We=Ee.maxHeight,Ae={rect:ke,maxHeight:We,maxWidth:Ge,direction:t.direction,placement:t.placement,classes:{on:v.classesOn,off:v.classesOff},layout:t.label,testY:A};return de||t.alwaysFit?nm.fit(Ae):nm.nofit(Ae,X,ne,ce)},Ih=function(t,r,o,s,v,g){var y=s.width,k=s.height,A=function(N,z,j,X,ne){var de=N(o,s,v,t,g),ke=Nh(de,y,k,g);return ke.fold(ve(ke),function(ce,Ee,Ge,We){var Ae=ne===We?Ge>X||Ee>j:!ne&&We;return Ae?ke:nm.nofit(z,j,X,ne)})},D=je(r,function(N,z){var j=Xt(A,z);return N.fold(ve(N),j)},nm.nofit({rect:o,maxHeight:s.height,maxWidth:s.width,direction:Ub(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return D.fold(tt,tt)},n0=function(t){var r=_n(P.none()),o=function(){return r.get().each(t)},s=function(){o(),r.set(P.none())},v=function(){return r.get().isSome()},g=function(){return r.get()},y=function(k){o(),r.set(P.some(k))};return{clear:s,isSet:v,get:g,set:y}},G2=function(){return n0(function(t){return t.destroy()})},zh=function(){return n0(function(t){return t.unbind()})},q2=function(){var t=G2(),r=function(o){return t.get().each(o)};return Ce(Ce({},t),{run:r})},io=function(){var t=n0(Q),r=function(o){return t.get().each(o)};return Ce(Ce({},t),{on:r})},zp=Qt,mo=function(t,r,o){return lb(t,r,zp,o)},r0=function(t,r,o){return Mf(t,r,zp,o)},rm=Js,K2=["top","bottom","right","left"],Lp="data-alloy-transition-timer",X2=function(t,r){return Bb(t,r.classes)},bx=function(t,r,o){return o.exists(function(s){var v=t.mode;return v==="all"?!0:s[v]!==r[v]})},XE=function(t,r){var o=function(s){return parseFloat(s).toFixed(3)};return Us(r,function(s,v){var g=t[v].map(o),y=s.map(o);return!Ed(g,y)}).isSome()},yx=function(t){var r=function(g){var y=Ka(t,g),k=E(y)?y.split(/\s*,\s*/):[];return pe(k,Oc)},o=function(g){if(E(g)&&/^[\d.]+/.test(g)){var y=parseFloat(g);return Mn(g,"ms")?y:y*1e3}else return 0},s=r("transition-delay"),v=r("transition-duration");return je(v,function(g,y,k){var A=o(s[k])+o(y);return Math.max(g,A)},0)},YE=function(t,r){var o=zh(),s=zh(),v,g=function(N){var z,j=(z=N.raw.pseudoElement)!==null&&z!==void 0?z:"";return da(N.target,t)&&Ym(j)&&nr(K2,N.raw.propertyName)},y=function(N){if(ae(N)||g(N)){o.clear(),s.clear();var z=N==null?void 0:N.raw.type;(ae(z)||z===Ch())&&(clearTimeout(v),ai(t,Lp),Ms(t,r.classes))}},k=function(){o.set(mo(t,Ch(),y)),s.set(mo(t,_E(),y))};if("ontransitionstart"in t.dom)var A=mo(t,c2(),function(N){g(N)&&(A.unbind(),k())});else k();var D=yx(t);requestAnimationFrame(function(){v=setTimeout(y,D+17),Xn(t,Lp,v)})},a0=function(t,r){qd(t,r.classes),Fa(t,Lp).each(function(o){clearTimeout(parseInt(o,10)),ai(t,Lp)}),YE(t,r)},Fp=function(t,r,o,s,v,g){var y=bx(s,v,g);if(y||X2(t,s)){Nn(t,"position",o.position);var k=Ph(r,t),A=Qf(r,Ce(Ce({},v),{rect:k})),D=Pn(K2,function(N){return A[N]});XE(o,D)&&(qa(t,D),y&&a0(t,s),ka(t))}else Ms(t,s.classes)},JE=function(t){return{width:lu(t),height:Qu(t)}},wx=function(t,r,o,s){Mr(r,"max-height"),Mr(r,"max-width");var v=JE(r);return Ih(r,s.preference,t,v,o,s.bounds)},Y2=function(t,r){var o=r.classes;Ms(t,o.off),qd(t,o.on)},ZE=function(t,r,o){var s=o.maxHeightFunction;s(t,r.maxHeight)},QE=function(t,r,o){var s=o.maxWidthFunction;s(t,r.maxWidth)},o0=function(t,r,o){var s=Qf(o.origin,r);o.transition.each(function(v){Fp(t,o.origin,s,v,r,o.lastPlacement)}),Jv(t,s)},J2=function(t,r){U2(t,r.placement)},Ei=function(t,r){sb(t,Math.floor(r))},Lh=ve(function(t,r){Ei(t,r),Zu(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Fh=ve(function(t,r){Ei(t,r)}),Cx=function(t,r,o){return t[r]===void 0?o:t[r]},eT=function(t,r,o,s,v,g,y,k){var A=Cx(y,"maxHeightFunction",Lh()),D=Cx(y,"maxWidthFunction",Q),N=t.anchorBox,z=t.origin,j={bounds:GE(z,g),origin:z,preference:s,maxHeightFunction:A,maxWidthFunction:D,lastPlacement:v,transition:k};return Hp(N,r,o,j)},Hp=function(t,r,o,s){var v=wx(t,r,o,s);return o0(r,v,s),J2(r,v),Y2(r,v),ZE(r,v,s),QE(r,v,s),{layout:v.layout,placement:v.placement}},Vp=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],am=function(t,r,o,s){s===void 0&&(s=1);var v=t*s,g=r*s,y=function(A){return Dn(o,A).getOr([])},k=function(A,D,N){var z=sn(Vp,N);return{offset:la(A,D),classesOn:qt(N,y),classesOff:qt(z,y)}};return{southeast:function(){return k(-t,r,["top","alignLeft"])},southwest:function(){return k(t,r,["top","alignRight"])},south:function(){return k(-t/2,r,["top","alignCentre"])},northeast:function(){return k(-t,-r,["bottom","alignLeft"])},northwest:function(){return k(t,-r,["bottom","alignRight"])},north:function(){return k(-t/2,-r,["bottom","alignCentre"])},east:function(){return k(t,-r/2,["valignCentre","left"])},west:function(){return k(-t,-r/2,["valignCentre","right"])},insetNortheast:function(){return k(v,g,["top","alignLeft","inset"])},insetNorthwest:function(){return k(-v,g,["top","alignRight","inset"])},insetNorth:function(){return k(-v/2,g,["top","alignCentre","inset"])},insetSoutheast:function(){return k(v,-g,["bottom","alignLeft","inset"])},insetSouthwest:function(){return k(-v,-g,["bottom","alignRight","inset"])},insetSouth:function(){return k(-v/2,-g,["bottom","alignCentre","inset"])},insetEast:function(){return k(-v,-g/2,["valignCentre","right","inset"])},insetWest:function(){return k(v,-g/2,["valignCentre","left","inset"])}}},i0=function(){return am(0,0,{})},Up=tt,Z2=function(t,r){return function(o){return tT(o)==="rtl"?r:t}},tT=function(t){return Ka(t,"direction")==="rtl"?"rtl":"ltr"},Yc;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Yc||(Yc={}));var u0="data-alloy-vertical-dir",nT=function(t){return Dh(t,function(r){return co(r)&&Ra(r,"data-alloy-vertical-dir")===Yc.BottomToTop})},Zv=function(){return rs("layouts",[it("onLtr"),it("onRtl"),Pr("onBottomLtr"),Pr("onBottomRtl")])},Qv=function(t,r,o,s,v,g,y){var k=y.map(nT).getOr(!1),A=r.layouts.map(function(X){return X.onLtr(t)}),D=r.layouts.map(function(X){return X.onRtl(t)}),N=k?r.layouts.bind(function(X){return X.onBottomLtr.map(function(ne){return ne(t)})}).or(A).getOr(v):A.getOr(o),z=k?r.layouts.bind(function(X){return X.onBottomRtl.map(function(ne){return ne(t)})}).or(D).getOr(g):D.getOr(s),j=Z2(N,z);return j(t)},rT=function(t,r,o){var s=r.hotspot,v=Ph(o,s.element),g=Qv(t.element,r,Xb(),Yb(),Yv(),Kb(),P.some(r.hotspot.element));return P.some(Up({anchorBox:v,bubble:r.bubble.getOr(i0()),overrides:r.overrides,layouts:g,placer:P.none()}))},s0=[it("hotspot"),Pr("bubble"),Te("overrides",{}),Zv(),ha("placement",rT)],l0=function(t,r,o){var s=Qb(o,r.x,r.y),v=zo(s.left,s.top,r.width,r.height),g=Qv(t.element,r,z2(),Qd(),z2(),Qd(),P.none());return P.some(Up({anchorBox:v,bubble:r.bubble,overrides:r.overrides,layouts:g,placer:P.none()}))},c0=[it("x"),it("y"),Te("height",0),Te("width",0),Te("bubble",i0()),Te("overrides",{}),Zv(),ha("placement",l0)],ui=Es.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Sx=function(t){return t.fold(tt,function(r,o,s){return r.translate(-o,-s)})},Q2=function(t){return t.fold(tt,tt)},xx=function(t){return je(t,function(r,o){return r.translate(o.left,o.top)},la(0,0))},_x=function(t){var r=Ne(t,Sx);return xx(r)},fc=function(t){var r=Ne(t,Q2);return xx(r)},ev=ui.screen,kx=ui.absolute,Ax=function(t,r,o){var s=rh(o.root).dom,v=function(g){var y=qo(g),k=qo(t.element);return da(y,k)};return P.from(s.frameElement).map(Gt.fromDom).filter(v).map(su)},ew=function(t,r,o){var s=qo(t.element),v=es(s),g=Ax(t,r,o).getOr(v);return kx(g,v.left,v.top)},f0=function(t,r,o,s){var v=ev(la(t,r));return P.some(_s(v,o,s))},Ex=function(t,r,o,s,v){return t.map(function(g){var y=[r,g.point],k=Rl(s,function(){return fc(y)},function(){return fc(y)},function(){return _x(y)}),A=fo(k.left,k.top,g.width,g.height),D=o.showAbove?Yv():Xb(),N=o.showAbove?Kb():Yb(),z=Qv(v,o,D,N,D,N,P.none());return Up({anchorBox:A,bubble:o.bubble.getOr(i0()),overrides:o.overrides,layouts:z,placer:P.none()})})},Hh=function(t,r,o){var s=ew(t,o,r);return r.node.filter(uu).bind(function(v){var g=v.dom.getBoundingClientRect(),y=f0(g.left,g.top,g.width,g.height),k=r.node.getOr(t.element);return Ex(y,s,r,o,k)})},aT=[it("node"),it("root"),Pr("bubble"),Zv(),Te("overrides",{}),Te("showAbove",!1),ha("placement",Hh)],Wp="\uFEFF",oT=" ",Vh=function(t,r,o,s){return{start:t,soffset:r,finish:o,foffset:s}},om={create:Vh},tw=Es.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Tx=function(t,r,o,s){return t.fold(r,o,s)},iT=function(t){return t.fold(tt,tt,tt)},Ox=tw.before,Dx=tw.on,nw=tw.after,uT={before:Ox,on:Dx,after:nw,cata:Tx,getStart:iT},v0=Es.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),sT=function(t){return v0.exact(t.start,t.soffset,t.finish,t.foffset)},jp=function(t){return t.match({domRange:function(r){return Gt.fromDom(r.startContainer)},relative:function(r,o){return uT.getStart(r)},exact:function(r,o,s,v){return r}})},lT=v0.domRange,cT=v0.relative,fT=v0.exact,d0=function(t){var r=jp(t);return rh(r)},vT=om.create,Uh={domRange:lT,relative:cT,exact:fT,exactFromRange:sT,getWin:d0,range:vT},Rx=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,s){t.setStart(o.dom,s)},function(o){t.setStartAfter(o.dom)})},dT=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,s){t.setEnd(o.dom,s)},function(o){t.setEndAfter(o.dom)})},rw=function(t,r,o){var s=t.document.createRange();return Rx(s,r),dT(s,o),s},Bx=function(t,r,o,s,v){var g=t.document.createRange();return g.setStart(r.dom,o),g.setEnd(s.dom,v),g},aw=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},$x=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?P.some(o).map(aw):P.none()},Mx=function(t){var r=t.getBoundingClientRect();return r.width>0||r.height>0?P.some(r).map(aw):P.none()},Wh=Es.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ow=function(t,r,o){return r(Gt.fromDom(o.startContainer),o.startOffset,Gt.fromDom(o.endContainer),o.endOffset)},iw=function(t,r){return r.match({domRange:function(o){return{ltr:ve(o),rtl:P.none}},relative:function(o,s){return{ltr:Xu(function(){return rw(t,o,s)}),rtl:Xu(function(){return P.some(rw(t,s,o))})}},exact:function(o,s,v,g){return{ltr:Xu(function(){return Bx(t,o,s,v,g)}),rtl:Xu(function(){return P.some(Bx(t,v,g,o,s))})}}})},mT=function(t,r){var o=r.ltr();if(o.collapsed){var s=r.rtl().filter(function(v){return v.collapsed===!1});return s.map(function(v){return Wh.rtl(Gt.fromDom(v.endContainer),v.endOffset,Gt.fromDom(v.startContainer),v.startOffset)}).getOrThunk(function(){return ow(t,Wh.ltr,o)})}else return ow(t,Wh.ltr,o)},hT=function(t,r){var o=iw(t,r);return mT(t,o)},uw=function(t,r){var o=hT(t,r);return o.match({ltr:function(s,v,g,y){var k=t.document.createRange();return k.setStart(s.dom,v),k.setEnd(g.dom,y),k},rtl:function(s,v,g,y){var k=t.document.createRange();return k.setStart(g.dom,y),k.setEnd(s.dom,v),k}})};Wh.ltr,Wh.rtl;var gT=function(t,r){var o=function(g){if(!t(g))throw new Error("Can only get "+r+" value of a "+r+" node");return s(g).getOr("")},s=function(g){return t(g)?P.from(g.dom.nodeValue):P.none()},v=function(g,y){if(!t(g))throw new Error("Can only set raw "+r+" value of a "+r+" node");g.dom.nodeValue=y};return{get:o,getOption:s,set:v}},Px=gT(Eu,"text"),ed=function(t){return Px.get(t)},jh=function(t){return Px.getOption(t)},Nx=function(t){return Ku(t)==="img"?1:jh(t).fold(function(){return De(t).length},function(r){return r.length})},pT=function(t){return jh(t).filter(function(r){return r.trim().length!==0||r.indexOf(oT)>-1}).isSome()},Ix=["img","br"],bT=function(t){var r=pT(t);return r||nr(Ix,Ku(t))},sw=function(t){return Gh(t,bT)},Gh=function(t,r){var o=function(s){for(var v=De(s),g=v.length-1;g>=0;g--){var y=v[g];if(r(y))return P.some(y);var k=o(y);if(k.isSome())return k}return P.none()};return o(t)},tu=function(t,r){return nh(r,t)},lw=function(t,r,o,s){var v=qo(t),g=v.dom.createRange();return g.setStart(t.dom,r),g.setEnd(o.dom,s),g},qh=function(t,r,o,s){var v=lw(t,r,o,s),g=da(t,o)&&r===s;return v.collapsed&&!g},im=function(t){return P.from(t.getSelection())},m0=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return P.some(om.create(Gt.fromDom(r.startContainer),r.startOffset,Gt.fromDom(o.endContainer),o.endOffset))}else return P.none()},yT=function(t){if(t.anchorNode===null||t.focusNode===null)return m0(t);var r=Gt.fromDom(t.anchorNode),o=Gt.fromDom(t.focusNode);return qh(r,t.anchorOffset,o,t.focusOffset)?P.some(om.create(r,t.anchorOffset,o,t.focusOffset)):m0(t)},zx=function(t){return im(t).filter(function(r){return r.rangeCount>0}).bind(yT)},cw=function(t,r){var o=uw(t,r);return $x(o)},Iu=function(t,r){var o=uw(t,r);return Mx(o)},Gp=function(t,r){return{element:t,offset:r}},wT=function(t,r){var o=De(t);if(o.length===0)return Gp(t,r);if(r<o.length)return Gp(o[r],0);var s=o[o.length-1],v=Eu(s)?ed(s).length:De(s).length;return Gp(s,v)},um=function(t,r){return Eu(t)?Gp(t,r):wT(t,r)},td=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return zx(t)}});return o().map(function(s){var v=um(s.start,s.soffset),g=um(s.finish,s.foffset);return Uh.range(v.element,v.offset,g.element,g.offset)})},Kh=function(t,r,o){var s=rh(r.root).dom,v=ew(t,o,r),g=td(s,r).bind(function(A){var D=Iu(s,Uh.exactFromRange(A)).orThunk(function(){var N=Gt.fromText(Wp);oo(A.start,N);var z=cw(s,Uh.exact(N,0,N,1));return Du(N),z});return D.bind(function(N){return f0(N.left,N.top,N.width,N.height)})}),y=td(s,r).bind(function(A){return co(A.start)?P.some(A.start):nb(A.start)}),k=y.getOr(t.element);return Ex(g,v,r,o,k)},nd=[Pr("getSelection"),it("root"),Pr("bubble"),Zv(),Te("overrides",{}),Te("showAbove",!1),ha("placement",Kh)],vc="link-layout",dc=function(t){return t.x+t.width},h0=function(t,r){return t.x-r.width},g0=function(t,r){return t.y-r.height+t.height},fw=function(t){return t.y},Xh=function(t,r,o){return Xo(dc(t),fw(t),o.southeast(),Ub(),"southeast",Uo(t,{left:0,top:2}),vc)},Yh=function(t,r,o){return Xo(h0(t,r),fw(t),o.southwest(),R2(),"southwest",Uo(t,{right:1,top:2}),vc)},Jh=function(t,r,o){return Xo(dc(t),g0(t,r),o.northeast(),B2(),"northeast",Uo(t,{left:0,bottom:3}),vc)},ji=function(t,r,o){return Xo(h0(t,r),g0(t,r),o.northwest(),Zd(),"northwest",Uo(t,{right:1,bottom:3}),vc)},Zh=function(){return[Xh,Yh,Jh,ji]},Qh=function(){return[Yh,Xh,ji,Jh]},p0=function(t,r,o){var s=Ph(o,r.item.element),v=Qv(t.element,r,Zh(),Qh(),Zh(),Qh(),P.none());return P.some(Up({anchorBox:s,bubble:i0(),overrides:r.overrides,layouts:v,placer:P.none()}))},CT=[it("item"),Zv(),Te("overrides",{}),ha("placement",p0)],vw=Zs("type",{selection:nd,node:aT,hotspot:s0,submenu:CT,makeshift:c0}),b0=[Hi("classes",vo),As("mode","all",["all","layout","placement"])],Ti=[Te("useFixed",Cn),Pr("getBounds")],ST=[$u("anchor",vw),rs("transition",b0)],Jc=function(){var t=document.documentElement;return F2(0,0,t.clientWidth,t.clientHeight)},y0=function(t){var r=su(t.element),o=t.element.dom.getBoundingClientRect();return e0(r.left,r.top,o.width,o.height)},dw=function(t,r,o,s,v,g,y){var k=t0(o.anchorBox,r);return eT(k,v.element,o.bubble,o.layouts,g,s,o.overrides,y)},eg=function(t,r,o,s,v){mw(t,r,o,s,v,P.none())},mw=function(t,r,o,s,v,g){var y=g.map(Co);return qp(t,r,o,s,v,y)},qp=function(t,r,o,s,v,g){var y=Yr("placement.info",yn(ST),v),k=y.anchor,A=s.element,D=o.get(s.uid);gx(function(){Nn(A,"position","fixed");var N=wo(A,"visibility");Nn(A,"visibility","hidden");var z=r.useFixed()?Jc():y0(t),j=k.placement,X=g.map(ve).or(r.getBounds);j(t,k,z).each(function(ne){var de=ne.placer.getOr(dw),ke=de(t,z,ne,X,s,D,y.transition);o.set(s.uid,ke)}),N.fold(function(){Mr(A,"visibility")},function(ne){Nn(A,"visibility",ne)}),wo(A,"left").isNone()&&wo(A,"top").isNone()&&wo(A,"right").isNone()&&wo(A,"bottom").isNone()&&bs(wo(A,"position"),"fixed")&&Mr(A,"position")},A)},xT=function(t,r,o){return r.useFixed()?"fixed":"absolute"},Lx=function(t,r,o,s){var v=s.element;yt(["position","left","right","top","bottom"],function(g){return Mr(v,g)}),j2(v),o.clear(s.uid)},Fx=Object.freeze({__proto__:null,position:eg,positionWithin:mw,positionWithinBounds:qp,getMode:xT,reset:Lx}),_T=function(){var t={},r=function(v,g){t[v]=g},o=function(v){return Dn(t,v)},s=function(v){me(v)?delete t[v]:t={}};return Ui({readState:function(){return t},clear:s,set:r,get:o})},tg=Object.freeze({__proto__:null,init:_T}),uo=Wo({fields:Ti,name:"positioning",active:Zb,apis:Fx,state:tg}),w0=function(t){Rr(t,Sh());var r=t.components();yt(r,w0)},C0=function(t){var r=t.components();yt(r,C0),Rr(t,as())},hw=function(t,r){zi(t.element,r.element)},Hx=function(t){yt(t.components(),function(r){return Du(r.element)}),Na(t.element),t.syncComponents()},gw=function(t,r){var o=t.components();Hx(t);var s=sn(o,r);yt(s,function(v){w0(v),t.getSystem().removeFromWorld(v)}),yt(r,function(v){v.getSystem().isConnected()?hw(t,v):(t.getSystem().addToWorld(v),hw(t,v),uu(t.element)&&C0(v)),t.syncComponents()})},sm=function(t,r){S0(t,r,zi)},S0=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),uu(t.element)&&C0(r),t.syncComponents()},zu=function(t){w0(t),Du(t.element),t.getSystem().removeFromWorld(t)},mc=function(t){var r=bo(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});zu(t),r.each(function(o){o.syncComponents()})},x0=function(t){var r=t.components();yt(r,zu),Na(t.element),t.syncComponents()},tv=function(t,r){hc(t,r,zi)},Bl=function(t,r){hc(t,r,Nf)},hc=function(t,r,o){o(t,r.element);var s=De(r.element);yt(s,function(v){r.getByDom(v).each(C0)})},nu=function(t){var r=De(t.element);yt(r,function(o){t.getByDom(o).each(w0)}),Du(t.element)},rl=function(t,r,o,s){o.get().each(function(y){x0(t)});var v=r.getAttachPoint(t);sm(v,t);var g=t.getSystem().build(s);return sm(t,g),o.set(g),g},ng=function(t,r,o,s){var v=rl(t,r,o,s);return r.onOpen(t,v),v},Zc=function(t,r,o,s){return o.get().map(function(){return rl(t,r,o,s)})},lm=function(t,r,o,s,v){Gx(t,r),ng(t,r,o,s),v(),qx(t,r)},Vx=function(t,r,o){o.get().each(function(s){x0(t),mc(t),r.onClose(t,s),o.clear()})},Ux=function(t,r,o){return o.isOpen()},kT=function(t,r,o,s){return Ux(t,r,o)&&o.get().exists(function(v){return r.isPartOf(t,v,s)})},AT=function(t,r,o){return o.get()},Wx=function(t,r,o,s){wo(t.element,r).fold(function(){ai(t.element,o)},function(v){Xn(t.element,o,v)}),Nn(t.element,r,s)},jx=function(t,r,o){Fa(t.element,o).fold(function(){return Mr(t.element,r)},function(s){return Nn(t.element,r,s)})},Gx=function(t,r,o){var s=r.getAttachPoint(t);Nn(t.element,"position",uo.getMode(s)),Wx(t,"visibility",r.cloakVisibilityAttr,"hidden")},ET=function(t){return Fr(["top","left","right","bottom"],function(r){return wo(t,r).isSome()})},qx=function(t,r,o){ET(t.element)||Mr(t.element,"position"),jx(t,"visibility",r.cloakVisibilityAttr)},TT=Object.freeze({__proto__:null,cloak:Gx,decloak:qx,open:ng,openWhileCloaked:lm,close:Vx,isOpen:Ux,isPartOf:kT,getState:AT,setContent:Zc}),Kx=function(t,r){return va([vt(Sp(),function(o,s){Vx(o,t,r)})])},Xx=Object.freeze({__proto__:null,events:Kx}),pw=[Nr("onOpen"),Nr("onClose"),it("isPartOf"),it("getAttachPoint"),Te("cloakVisibilityAttr","data-precloak-visibility")],Yx=function(){var t=io(),r=ve("not-implemented");return Ui({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},OT=Object.freeze({__proto__:null,init:Yx}),wr=Wo({fields:pw,name:"sandboxing",active:Xx,apis:TT,state:OT}),cm=ve("dismiss.popups"),rg=ve("reposition.popups"),bw=ve("mouse.released"),DT=ts([Te("isExtraPart",Cn),rs("fireEventInstead",[Te("event",Tl())])]),Lu=function(t){var r,o=Yr("Dismissal",DT,t);return r={},r[cm()]={schema:ts([it("target")]),onReceive:function(s,v){if(wr.isOpen(s)){var g=wr.isPartOf(s,v.target)||o.isExtraPart(s,v.target);g||o.fireEventInstead.fold(function(){return wr.close(s)},function(y){return Rr(s,y.event)})}}},r},RT=ts([rs("fireEventInstead",[Te("event",Vi())]),Zi("doReposition")]),fm=function(t){var r,o=Yr("Reposition",RT,t);return r={},r[rg()]={onReceive:function(s){wr.isOpen(s)&&o.fireEventInstead.fold(function(){return o.doReposition(s)},function(v){return Rr(s,v.event)})}},r},rd=function(t,r,o){r.store.manager.onLoad(t,r,o)},_0=function(t,r,o){r.store.manager.onUnload(t,r,o)},k0=function(t,r,o,s){r.store.manager.setValue(t,r,o,s)},BT=function(t,r,o){return r.store.manager.getValue(t,r,o)},Jx=function(t,r,o){return o},A0=Object.freeze({__proto__:null,onLoad:rd,onUnload:_0,setValue:k0,getValue:BT,getState:Jx}),yw=function(t,r){var o=t.resetOnDom?[jn(function(s,v){rd(s,t,r)}),Rs(function(s,v){_0(s,t,r)})]:[za(t,r,rd)];return va(o)},ag=Object.freeze({__proto__:null,events:yw}),E0=function(){var t=_n(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},s=function(){t.set(null)};return Ui({set:t.set,get:t.get,isNotSet:o,clear:s,readState:r})},$T=function(){var t=Q;return Ui({readState:t})},Qc=function(){var t=_n({}),r=_n({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},s=function(){t.set({}),r.set({})},v=function(y){return Dn(t.get(),y).orThunk(function(){return Dn(r.get(),y)})},g=function(y){var k=t.get(),A=r.get(),D={},N={};yt(y,function(z){D[z.value]=z,Dn(z,"meta").each(function(j){Dn(j,"text").each(function(X){N[X]=z})})}),t.set(Ce(Ce({},k),D)),r.set(Ce(Ce({},A),N))};return Ui({readState:o,lookup:v,update:g,clear:s})},ww=function(t){return t.store.manager.state(t)},Cw=Object.freeze({__proto__:null,memory:E0,dataset:Qc,manual:$T,init:ww}),og=function(t,r,o,s){var v=r.store;o.update([s]),v.setValue(t,s),r.onSetValue(t,s)},Sw=function(t,r,o){var s=r.store,v=s.getDataKey(t);return o.lookup(v).getOrThunk(function(){return s.getFallbackEntry(v)})},Kp=function(t,r,o){var s=r.store;s.initialValue.each(function(v){og(t,r,o,v)})},Zx=function(t,r,o){o.clear()},MT=[Pr("initialValue"),it("getFallbackEntry"),it("getDataKey"),it("setValue"),ha("manager",{setValue:og,getValue:Sw,onLoad:Kp,onUnload:Zx,state:Qc})],ef=function(t,r,o){return r.store.getValue(t)},us=function(t,r,o,s){r.store.setValue(t,s),r.onSetValue(t,s)},Oi=function(t,r,o){r.store.initialValue.each(function(s){r.store.setValue(t,s)})},PT=[it("getValue"),Te("setValue",Q),Pr("initialValue"),ha("manager",{setValue:us,getValue:ef,onLoad:Oi,onUnload:Q,state:_i.init})],xw=function(t,r,o,s){o.set(s),r.onSetValue(t,s)},ig=function(t,r,o){return o.get()},_w=function(t,r,o){r.store.initialValue.each(function(s){o.isNotSet()&&o.set(s)})},Xp=function(t,r,o){o.clear()},kw=[Pr("initialValue"),ha("manager",{setValue:xw,getValue:ig,onLoad:_w,onUnload:Xp,state:E0})],NT=[vu("store",{mode:"memory"},Zs("mode",{memory:kw,manual:PT,dataset:MT})),Nr("onSetValue"),Te("resetOnDom",!1)],Ut=Wo({fields:NT,name:"representing",active:ag,apis:A0,extra:{setValueFrom:function(t,r){var o=Ut.getValue(r);Ut.setValue(t,o)}},state:Cw}),jo=function(t,r){return n2(t,{},Ne(r,function(o){return hh(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([fu("dump",tt)]))},ug=function(t){return t.dump},si=function(t,r){return Ce(Ce({},It(r)),t.dump)},al={field:jo,augment:si,get:ug},Aw="placeholder",Yp=Es.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),T0=function(t){return Xr(t,"uiType")},O0=function(t,r,o,s){return t.exists(function(v){return v!==o.owner})?Yp.single(!0,ve(o)):Dn(s,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+Ea(s)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(v){return v.replace()})},D0=function(t,r,o,s){return T0(o)&&o.uiType===Aw?O0(t,r,o,s):Yp.single(!1,ve(o))},ad=function(t,r,o,s){var v=D0(t,r,o,s);return v.fold(function(g,y){var k=T0(o)?y(r,o.config,o.validated):y(r),A=Dn(k,"components").getOr([]),D=qt(A,function(N){return ad(t,r,N,s)});return[Ce(Ce({},k),{components:D})]},function(g,y){if(T0(o)){var k=y(r,o.config,o.validated),A=o.validated.preprocess.getOr(tt);return A(k)}else return y(r)})},Jp=function(t,r,o,s){return qt(o,function(v){return ad(t,r,v,s)})},Ew=function(t,r){var o=!1,s=function(){return o},v=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},g=function(){return r.fold(function(y,k){return y},function(y,k){return y})};return{name:ve(t),required:g,used:s,replace:v}},Tw=function(t,r,o,s){var v=mr(s,function(y,k){return Ew(k,y)}),g=Jp(t,r,o,v);return Sa(v,function(y){if(y.used()===!1&&y.required())throw new Error("Placeholder: "+y.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),g},Ow=Yp.single,IT=Yp.multiple,Qx=ve(Aw),nv=Es.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),tf=Te("factory",{sketch:tt}),vm=Te("schema",[]),sg=it("name"),Dw=Lo("pname","pname",br(function(t){return"<alloy."+ln(t.name)+">"}),xl()),R0=fu("schema",function(){return[Pr("preprocess")]}),nf=Te("defaults",ve({})),$l=Te("overrides",ve({})),od=yn([tf,vm,sg,Dw,nf,$l]),id=yn([tf,vm,sg,nf,$l]),dm=yn([tf,vm,sg,Dw,nf,$l]),lg=yn([tf,R0,sg,it("unit"),Dw,nf,$l]),Rw=function(t){return t.fold(P.some,P.none,P.some,P.some)},Bw=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},$w=function(t){return t.fold(tt,tt,tt,tt)},B0=function(t,r){return function(o){var s=Yr("Converting part type",r,o);return t(s)}},Di=B0(nv.required,od),Ns=B0(nv.external,id),ol=B0(nv.optional,dm),rf=B0(nv.group,lg),cg=ve("entirety"),$0=Object.freeze({__proto__:null,required:Di,external:Ns,optional:ol,group:rf,asNamedPart:Rw,name:Bw,asCommon:$w,original:cg}),ud=function(t,r,o,s){return Je(r.defaults(t,o,s),o,{uid:t.partUids[r.name]},r.overrides(t,o,s))},mm=function(t,r,o){var s={},v={};return yt(o,function(g){g.fold(function(y){s[y.pname]=Ow(!0,function(k,A,D){return y.factory.sketch(ud(k,y,A,D))})},function(y){var k=r.parts[y.name];v[y.name]=ve(y.factory.sketch(ud(r,y,k[cg()]),k))},function(y){s[y.pname]=Ow(!1,function(k,A,D){return y.factory.sketch(ud(k,y,A,D))})},function(y){s[y.pname]=IT(!0,function(k,A,D){var N=k[y.name];return Ne(N,function(z){return y.factory.sketch(Je(y.defaults(k,z,D),z,y.overrides(k,z)))})})})}),{internals:ve(s),externals:ve(v)}},hm=function(t,r){var o={};return yt(r,function(s){Rw(s).each(function(v){var g=zT(t,v.pname);o[v.name]=function(y){var k=Yr("Part: "+v.name+" in "+t,yn(v.schema),y);return Ce(Ce({},g),{config:y,validated:k})}})}),o},zT=function(t,r){return{uiType:Qx(),owner:t,name:r}},Mw=function(t,r,o){return{uiType:Qx(),owner:t,name:r,config:o,validated:{}}},e_=function(t){return qt(t,function(r){return r.fold(P.none,P.some,P.none,P.none).map(function(o){return zc(o.name,o.schema.concat([Xv(cg())]))}).toArray()})},t_=function(t){return Ne(t,Bw)},Pw=function(t,r,o){return mm(t,r,o)},Nw=function(t,r,o){return Tw(P.some(t),r,r.components,o)},ua=function(t,r,o){var s=r.partUids[o];return t.getSystem().getByUid(s).toOptional()},af=function(t,r,o){return ua(t,r,o).getOrDie("Could not find part: "+o)},n_=function(t,r,o){var s={},v=r.partUids,g=t.getSystem();return yt(o,function(y){s[y]=ve(g.getByUid(v[y]))}),s},r_=function(t,r){var o=t.getSystem();return mr(r.partUids,function(s,v){return ve(o.getByUid(s))})},a_=function(t){return Ea(t.partUids)},M0=function(t,r,o){var s={},v=r.partUids,g=t.getSystem();return yt(o,function(y){s[y]=ve(g.getByUid(v[y]).getOrDie())}),s},Iw=function(t,r){var o=t_(r);return jf(Ne(o,function(s){return{key:s,value:t+"-"+s}}))},Zp=function(t){return Lo("partUids","partUids",Ci(function(r){return Iw(r.uid,t)}),xl())},$n=Object.freeze({__proto__:null,generate:hm,generateOne:Mw,schemas:e_,names:t_,substitutes:Pw,components:Nw,defaultUids:Iw,defaultUidsSchema:Zp,getAllParts:r_,getAllPartNames:a_,getPart:ua,getPartOrDie:af,getParts:n_,getPartsOrDie:M0}),LT=function(t,r){var o=t.length>0?[zc("parts",t)]:[];return o.concat([it("uid"),Te("dom",{}),Te("components",[]),Xv("originalSpec"),Te("debug.sketcher",{})]).concat(r)},zw=function(t,r,o,s,v){var g=LT(s,v);return Yr(t+" [SpecSchema]",ts(g.concat(r)),o)},o_=function(t,r,o,s){var v=i_(s),g=zw(t,r,v,[],[]);return o(g,v)},Lw=function(t,r,o,s,v){var g=i_(v),y=e_(o),k=Zp(o),A=zw(t,r,g,y,[k]),D=Pw(t,A,o),N=Nw(t,A,D.internals());return s(A,N,g,D.externals())},FT=function(t){return Xr(t,"uid")},i_=function(t){return FT(t)?t:Ce(Ce({},t),{uid:Vv("uid")})},Fw=function(t){return t.uid!==void 0},Hw=ts([it("name"),it("factory"),it("configFields"),Te("apis",{}),Te("extraApis",{})]),HT=ts([it("name"),it("factory"),it("configFields"),it("partFields"),Te("apis",{}),Te("extraApis",{})]),Is=function(t){var r=Yr("Sketcher for "+t.name,Hw,t),o=function(g){return o_(r.name,r.configFields,r.factory,g)},s=mr(r.apis,Va),v=mr(r.extraApis,function(g,y){return Wd(g,y)});return Ce(Ce({name:r.name,configFields:r.configFields,sketch:o},s),v)},wu=function(t){var r=Yr("Sketcher for "+t.name,HT,t),o=function(y){return Lw(r.name,r.configFields,r.partFields,r.factory,y)},s=hm(r.name,r.partFields),v=mr(r.apis,Va),g=mr(r.extraApis,function(y,k){return Wd(y,k)});return Ce(Ce({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:s},v),g)},of=function(t){return Ku(t)==="input"&&Ra(t,"type")!=="radio"||Ku(t)==="textarea"},VT=function(t,r,o){return r.find(t)},UT=Object.freeze({__proto__:null,getCurrent:VT}),Vw=[it("find")],fr=Wo({fields:Vw,name:"composing",apis:UT}),WT=["input","button","textarea","select"],P0=function(t,r,o){var s=r.disabled()?Uw:sd;s(t,r)},N0=function(t,r){return r.useNative===!0&&nr(WT,Ku(t.element))},I0=function(t){return ub(t.element,"disabled")},Qp=function(t){Xn(t.element,"disabled","disabled")},rv=function(t){ai(t.element,"disabled")},e1=function(t){return Ra(t.element,"aria-disabled")==="true"},jT=function(t){Xn(t.element,"aria-disabled","true")},u_=function(t){Xn(t.element,"aria-disabled","false")},Uw=function(t,r,o){r.disableClass.each(function(v){Fo(t.element,v)});var s=N0(t,r)?Qp:jT;s(t),r.onDisabled(t)},sd=function(t,r,o){r.disableClass.each(function(v){Ro(t.element,v)});var s=N0(t,r)?rv:u_;s(t),r.onEnabled(t)},z0=function(t,r){return N0(t,r)?I0(t):e1(t)},s_=function(t,r,o,s){var v=s?Uw:sd;v(t,r)},GT=Object.freeze({__proto__:null,enable:sd,disable:Uw,isDisabled:z0,onLoad:P0,set:s_}),qT=function(t,r){return Dl({classes:r.disabled()?r.disableClass.toArray():[]})},KT=function(t,r){return va([g2(Ts(),function(o,s){return z0(o,t)}),za(t,r,P0)])},gm=Object.freeze({__proto__:null,exhibit:qT,events:KT}),Ww=[ba("disabled",Cn),Te("useNative",!0),Pr("disableClass"),Nr("onDisabled"),Nr("onEnabled")],Sn=Wo({fields:Ww,name:"disabling",active:gm,apis:GT}),l_=function(t,r,o,s){var v=tu(t.element,"."+r.highlightClass);yt(v,function(g){Fr(s,function(y){return y.element===g})||(Ro(g,r.highlightClass),t.getSystem().getByDom(g).each(function(y){r.onDehighlight(t,y),Rr(y,wb())}))})},c_=function(t,r,o){return l_(t,r,o,[])},XT=function(t,r,o,s){jw(t,r,o,s)&&(Ro(s.element,r.highlightClass),r.onDehighlight(t,s),Rr(s,wb()))},t1=function(t,r,o,s){l_(t,r,o,[s]),jw(t,r,o,s)||(Fo(s.element,r.highlightClass),r.onHighlight(t,s),Rr(s,h2()))},ru=function(t,r,o){qw(t,r).each(function(s){t1(t,r,o,s)})},n1=function(t,r,o){Kw(t,r).each(function(s){t1(t,r,o,s)})},YT=function(t,r,o,s){v_(t,r,o,s).fold(function(v){throw v},function(v){t1(t,r,o,v)})},f_=function(t,r,o,s){var v=d_(t,r),g=bt(v,s);g.each(function(y){t1(t,r,o,y)})},jw=function(t,r,o,s){return mu(s.element,r.highlightClass)},Gw=function(t,r,o){return Ho(t.element,"."+r.highlightClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},v_=function(t,r,o,s){var v=tu(t.element,"."+r.itemClass);return P.from(v[s]).fold(function(){return Yn.error(new Error("No element found with index "+s))},t.getSystem().getByDom)},qw=function(t,r,o){return Ho(t.element,"."+r.itemClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},Kw=function(t,r,o){var s=tu(t.element,"."+r.itemClass),v=s.length>0?P.some(s[s.length-1]):P.none();return v.bind(function(g){return t.getSystem().getByDom(g).toOptional()})},av=function(t,r,o,s){var v=tu(t.element,"."+r.itemClass),g=on(v,function(y){return mu(y,r.highlightClass)});return g.bind(function(y){var k=Ai(y,s,0,v.length-1);return t.getSystem().getByDom(v[k]).toOptional()})},JT=function(t,r,o){return av(t,r,o,-1)},ZT=function(t,r,o){return av(t,r,o,1)},d_=function(t,r,o){var s=tu(t.element,"."+r.itemClass);return Qr(Ne(s,function(v){return t.getSystem().getByDom(v).toOptional()}))},QT=Object.freeze({__proto__:null,dehighlightAll:c_,dehighlight:XT,highlight:t1,highlightFirst:ru,highlightLast:n1,highlightAt:YT,highlightBy:f_,isHighlighted:jw,getHighlighted:Gw,getFirst:qw,getLast:Kw,getPrevious:JT,getNext:ZT,getCandidates:d_}),r1=[it("highlightClass"),it("itemClass"),Nr("onHighlight"),Nr("onDehighlight")],Wr=Wo({fields:r1,name:"highlighting",apis:QT}),L0=[8],ov=[9],Ml=[13],ld=[27],Fu=[32],F0=[37],pm=[38],fg=[39],cd=[40],e3=function(t,r,o){var s=Rt(t.slice(0,r)),v=Rt(t.slice(r+1));return bt(s.concat(v),o)},m_=function(t,r,o){var s=Rt(t.slice(0,r));return bt(s,o)},t3=function(t,r,o){var s=t.slice(0,r),v=t.slice(r+1);return bt(v.concat(s),o)},n3=function(t,r,o){var s=t.slice(r+1);return bt(s,o)},ur=function(t){return function(r){var o=r.raw;return nr(t,o.which)}},Pl=function(t){return function(r){return Et(t,function(o){return o(r)})}},vg=function(t){var r=t.raw;return r.shiftKey===!0},h_=function(t){var r=t.raw;return r.ctrlKey===!0},a1=mn(vg),Cr=function(t,r){return{matches:t,classification:r}},g_=function(t,r){var o=bt(t,function(s){return s.matches(r)});return o.map(function(s){return s.classification})},p_=function(t,r,o){var s=r.exists(function(v){return o.exists(function(g){return da(g,v)})});s||kn(t,yb(),{prevFocus:r,newFocus:o})},o1=function(){var t=function(o){return cc(o.element)},r=function(o,s){var v=t(o);o.getSystem().triggerFocus(s,o.element);var g=t(o);p_(o,v,g)};return{get:t,set:r}},b_=function(){var t=function(o){return Wr.getHighlighted(o).map(function(s){return s.element})},r=function(o,s){var v=t(o);o.getSystem().getByDom(s).fold(Q,function(y){Wr.highlight(o,y)});var g=t(o);p_(o,v,g)};return{get:t,set:r}},i1;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(i1||(i1={}));var bm=function(t,r,o,s,v){var g=function(){return t.concat([Te("focusManager",o1()),vu("focusInside","onFocus",mh(function(D){return nr(["onFocus","onEnterOrSpace","onApi"],D)?Yn.value(D):Yn.error("Invalid value for focusInside")})),ha("handler",A),ha("state",r),ha("sendFocusIn",v)])},y=function(D,N,z,j,X){var ne=z(D,N,j,X);return g_(ne,N.event).bind(function(de){return de(D,N,j,X)})},k=function(D,N){var z=D.focusInside!==i1.OnFocusMode?P.none():v(D).map(function(ne){return vt(Pv(),function(de,ke){ne(de,D,N),ke.stop()})}),j=function(ne,de){var ke=ur(Fu.concat(Ml))(de.event);D.focusInside===i1.OnEnterOrSpaceMode&&ke&&GS(ne,de)&&v(D).each(function(ce){ce(ne,D,N),de.stop()})},X=[vt(hb(),function(ne,de){y(ne,de,o,D,N).fold(function(){j(ne,de)},function(ke){de.stop()})}),vt(l2(),function(ne,de){y(ne,de,s,D,N).each(function(ke){de.stop()})})];return va(z.toArray().concat(X))},A={schema:g,processKey:y,toEvents:k};return A},Xw=function(t){var r=[Pr("onEscape"),Pr("onEnter"),Te("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Te("firstTabstop",0),Te("useTabstopAt",Qt),Pr("visibilitySelector")].concat([t]),o=function(de,ke){var ce=de.visibilitySelector.bind(function(Ee){return nl(ke,Ee)}).getOr(ke);return Oo(ce)>0},s=function(de,ke){var ce=tu(de.element,ke.selector),Ee=pe(ce,function(Ge){return o(ke,Ge)});return P.from(Ee[ke.firstTabstop])},v=function(de,ke){return ke.focusManager.get(de).bind(function(ce){return nl(ce,ke.selector)})},g=function(de,ke){return o(de,ke)&&de.useTabstopAt(ke)},y=function(de,ke,ce){s(de,ke).each(function(Ee){ke.focusManager.set(de,Ee)})},k=function(de,ke,ce,Ee,Ge){return Ge(ke,ce,function(We){return g(Ee,We)}).fold(function(){return Ee.cyclic?P.some(!0):P.none()},function(We){return Ee.focusManager.set(de,We),P.some(!0)})},A=function(de,ke,ce,Ee){var Ge=tu(de.element,ce.selector);return v(de,ce).bind(function(We){var Ae=on(Ge,Xt(da,We));return Ae.bind(function(Le){return k(de,Ge,Le,ce,Ee)})})},D=function(de,ke,ce){var Ee=ce.cyclic?e3:m_;return A(de,ke,ce,Ee)},N=function(de,ke,ce){var Ee=ce.cyclic?t3:n3;return A(de,ke,ce,Ee)},z=function(de,ke,ce){return ce.onEnter.bind(function(Ee){return Ee(de,ke)})},j=function(de,ke,ce){return ce.onEscape.bind(function(Ee){return Ee(de,ke)})},X=ve([Cr(Pl([vg,ur(ov)]),D),Cr(ur(ov),N),Cr(ur(ld),j),Cr(Pl([a1,ur(Ml)]),z)]),ne=ve([]);return bm(r,_i.init,X,ne,function(){return P.some(y)})},Yw=Xw(fu("cyclic",Cn)),y_=Xw(fu("cyclic",Qt)),w_=function(t,r,o){return Cb(t,o,Ts()),P.some(!0)},fd=function(t,r,o){var s=of(o)&&ur(Fu)(r.event);return s?P.none():w_(t,r,o)},ym=function(t,r){return P.some(!0)},Jw=[Te("execute",fd),Te("useSpace",!1),Te("useEnter",!0),Te("useControlEnter",!1),Te("useDown",!1)],C_=function(t,r,o){return o.execute(t,r,t.element)},H0=function(t,r,o,s){var v=o.useSpace&&!of(t.element)?Fu:[],g=o.useEnter?Ml:[],y=o.useDown?cd:[],k=v.concat(g).concat(y);return[Cr(ur(k),C_)].concat(o.useControlEnter?[Cr(Pl([h_,ur(Ml)]),C_)]:[])},r3=function(t,r,o,s){return o.useSpace&&!of(t.element)?[Cr(ur(Fu),ym)]:[]},dg=bm(Jw,_i.init,H0,r3,function(){return P.none()}),Zw=function(){var t=io(),r=function(v,g){t.set({numRows:v,numColumns:g})},o=function(){return t.get().map(function(v){return v.numRows})},s=function(){return t.get().map(function(v){return v.numColumns})};return Ui({readState:function(){return t.get().map(function(v){return{numRows:String(v.numRows),numColumns:String(v.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:s})},Qw=function(t){return t.state(t)},S_=Object.freeze({__proto__:null,flatgrid:Zw,init:Qw}),eC=function(t){return function(r,o,s,v){var g=t(r.element);return nC(g,r,o,s,v)}},V0=function(t,r){var o=Z2(t,r);return eC(o)},U0=function(t,r){var o=Z2(r,t);return eC(o)},tC=function(t){return function(r,o,s,v){return nC(t,r,o,s,v)}},nC=function(t,r,o,s,v){var g=s.focusManager.get(r).bind(function(y){return t(r.element,y,s,v)});return g.map(function(y){return s.focusManager.set(r,y),!0})},x_=tC,wm=tC,mg=tC,__=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},k_=function(t){return!__(t.dom)},W0=function(t,r){return on(t,r).map(function(o){return{index:o,candidates:t}})},A_=function(t,r,o){var s=function(y){return da(y,r)},v=tu(t,o),g=pe(v,k_);return W0(g,s)},E_=function(t,r){return on(t,function(o){return da(r,o)})},rC=function(t,r,o,s){var v=Math.floor(r/o),g=r%o;return s(v,g).bind(function(y){var k=y.row*o+y.column;return k>=0&&k<t.length?P.some(t[k]):P.none()})},T_=function(t,r,o,s,v){return rC(t,r,s,function(g,y){var k=g===o-1,A=k?t.length-g*s:s,D=Ai(y,v,0,A-1);return P.some({row:g,column:D})})},O_=function(t,r,o,s,v){return rC(t,r,s,function(g,y){var k=Ai(g,v,0,o-1),A=k===o-1,D=A?t.length-k*s:s,N=is(y,0,D-1);return P.some({row:k,column:N})})},D_=function(t,r,o,s){return T_(t,r,o,s,1)},a3=function(t,r,o,s){return T_(t,r,o,s,-1)},R_=function(t,r,o,s){return O_(t,r,o,s,-1)},aC=function(t,r,o,s){return O_(t,r,o,s,1)},hg=[it("selector"),Te("execute",fd),Vo("onEscape"),Te("captureTab",!1),Hb()],o3=function(t,r,o){Ho(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},B_=function(t,r){return r.focusManager.get(t).bind(function(o){return nl(o,r.selector)})},$_=function(t,r,o,s){return B_(t,o).bind(function(v){return o.execute(t,r,v)})},il=function(t){return function(r,o,s,v){return A_(r,o,s.selector).bind(function(g){return t(g.candidates,g.index,v.getNumRows().getOr(s.initSize.numRows),v.getNumColumns().getOr(s.initSize.numColumns))})}},M_=function(t,r,o){return o.captureTab?P.some(!0):P.none()},P_=function(t,r,o){return o.onEscape(t,r)},j0=il(a3),G0=il(D_),oC=il(R_),Cm=il(aC),gg=ve([Cr(ur(F0),V0(j0,G0)),Cr(ur(fg),U0(j0,G0)),Cr(ur(pm),x_(oC)),Cr(ur(cd),wm(Cm)),Cr(Pl([vg,ur(ov)]),M_),Cr(Pl([a1,ur(ov)]),M_),Cr(ur(ld),P_),Cr(ur(Fu.concat(Ml)),$_)]),N_=ve([Cr(ur(Fu),ym)]),I_=bm(hg,Zw,gg,N_,function(){return P.some(o3)}),q0=function(t,r,o,s){var v=function(y){return Ku(y)==="button"&&Ra(y,"disabled")==="disabled"},g=function(y,k,A){var D=Ai(k,s,0,A.length-1);return D===y?P.none():v(A[D])?g(y,D,A):P.from(A[D])};return A_(t,o,r).bind(function(y){var k=y.index,A=y.candidates;return g(k,k,A)})},i3=[it("selector"),Te("getInitial",P.none),Te("execute",fd),Vo("onEscape"),Te("executeOnMove",!1),Te("allowVertical",!0)],K0=function(t,r){return r.focusManager.get(t).bind(function(o){return nl(o,r.selector)})},u1=function(t,r,o){return K0(t,o).bind(function(s){return o.execute(t,r,s)})},X0=function(t,r,o){r.getInitial(t).orThunk(function(){return Ho(t.element,r.selector)}).each(function(s){r.focusManager.set(t,s)})},z_=function(t,r,o){return q0(t,o.selector,r,-1)},Y0=function(t,r,o){return q0(t,o.selector,r,1)},ul=function(t){return function(r,o,s,v){return t(r,o,s,v).bind(function(){return s.executeOnMove?u1(r,o,s):P.some(!0)})}},u3=function(t,r,o){return o.onEscape(t,r)},J0=function(t,r,o,s){var v=F0.concat(o.allowVertical?pm:[]),g=fg.concat(o.allowVertical?cd:[]);return[Cr(ur(v),ul(V0(z_,Y0))),Cr(ur(g),ul(U0(z_,Y0))),Cr(ur(Ml),u1),Cr(ur(Fu),u1),Cr(ur(ld),u3)]},L_=ve([Cr(ur(Fu),ym)]),s1=bm(i3,_i.init,J0,L_,function(){return P.some(X0)}),l1=function(t,r,o){return P.from(t[r]).bind(function(s){return P.from(s[o]).map(function(v){return{rowIndex:r,columnIndex:o,cell:v}})})},iC=function(t,r,o,s){var v=t[r],g=v.length,y=Ai(o,s,0,g-1);return l1(t,r,y)},F_=function(t,r,o,s){var v=Ai(o,s,0,t.length-1),g=t[v].length,y=is(r,0,g-1);return l1(t,v,y)},H_=function(t,r,o,s){var v=t[r],g=v.length,y=is(o+s,0,g-1);return l1(t,r,y)},V_=function(t,r,o,s){var v=is(o+s,0,t.length-1),g=t[v].length,y=is(r,0,g-1);return l1(t,v,y)},Z0=function(t,r,o){return iC(t,r,o,1)},vd=function(t,r,o){return iC(t,r,o,-1)},s3=function(t,r,o){return F_(t,o,r,-1)},l3=function(t,r,o){return F_(t,o,r,1)},c3=function(t,r,o){return H_(t,r,o,-1)},dd=function(t,r,o){return H_(t,r,o,1)},f3=function(t,r,o){return V_(t,o,r,-1)},uC=function(t,r,o){return V_(t,o,r,1)},v3=[zc("selectors",[it("row"),it("cell")]),Te("cycles",!0),Te("previousSelector",P.none),Te("execute",fd)],pg=function(t,r,o){var s=r.previousSelector(t).orThunk(function(){var v=r.selectors;return Ho(t.element,v.cell)});s.each(function(v){r.focusManager.set(t,v)})},sC=function(t,r,o){return cc(t.element).bind(function(s){return o.execute(t,r,s)})},U_=function(t,r){return Ne(t,function(o){return tu(o,r.selectors.cell)})},Q0=function(t,r){return function(o,s,v){var g=v.cycles?t:r;return nl(s,v.selectors.row).bind(function(y){var k=tu(y,v.selectors.cell);return E_(k,s).bind(function(A){var D=tu(o,v.selectors.row);return E_(D,y).bind(function(N){var z=U_(D,v);return g(z,N,A).map(function(j){return j.cell})})})})}},W_=Q0(vd,c3),j_=Q0(Z0,dd),d3=Q0(s3,f3),ey=Q0(l3,uC),ty=ve([Cr(ur(F0),V0(W_,j_)),Cr(ur(fg),U0(W_,j_)),Cr(ur(pm),x_(d3)),Cr(ur(cd),wm(ey)),Cr(ur(Fu.concat(Ml)),sC)]),lC=ve([Cr(ur(Fu),ym)]),G_=bm(v3,_i.init,ty,lC,function(){return P.some(pg)}),q_=[it("selector"),Te("execute",fd),Te("moveOnTab",!1)],Sm=function(t,r,o){return o.focusManager.get(t).bind(function(s){return o.execute(t,r,s)})},c1=function(t,r,o){Ho(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},ny=function(t,r,o){return q0(t,o.selector,r,-1)},f1=function(t,r,o){return q0(t,o.selector,r,1)},K_=function(t,r,o,s){return o.moveOnTab?mg(ny)(t,r,o,s):P.none()},iv=function(t,r,o,s){return o.moveOnTab?mg(f1)(t,r,o,s):P.none()},m3=ve([Cr(ur(pm),mg(ny)),Cr(ur(cd),mg(f1)),Cr(Pl([vg,ur(ov)]),K_),Cr(Pl([a1,ur(ov)]),iv),Cr(ur(Ml),Sm),Cr(ur(Fu),Sm)]),uf=ve([Cr(ur(Fu),ym)]),X_=bm(q_,_i.init,m3,uf,function(){return P.some(c1)}),ry=[Vo("onSpace"),Vo("onEnter"),Vo("onShiftEnter"),Vo("onLeft"),Vo("onRight"),Vo("onTab"),Vo("onShiftTab"),Vo("onUp"),Vo("onDown"),Vo("onEscape"),Te("stopSpaceKeyup",!1),Pr("focusIn")],cC=function(t,r,o){return[Cr(ur(Fu),o.onSpace),Cr(Pl([a1,ur(Ml)]),o.onEnter),Cr(Pl([vg,ur(Ml)]),o.onShiftEnter),Cr(Pl([vg,ur(ov)]),o.onShiftTab),Cr(Pl([a1,ur(ov)]),o.onTab),Cr(ur(pm),o.onUp),Cr(ur(cd),o.onDown),Cr(ur(F0),o.onLeft),Cr(ur(fg),o.onRight),Cr(ur(Fu),o.onSpace),Cr(ur(ld),o.onEscape)]},h3=function(t,r,o){return o.stopSpaceKeyup?[Cr(ur(Fu),ym)]:[]},md=bm(ry,_i.init,cC,h3,function(t){return t.focusIn}),Y_=Yw.schema(),J_=y_.schema(),g3=s1.schema(),fC=I_.schema(),bg=G_.schema(),yg=dg.schema(),Z_=X_.schema(),vC=md.schema(),Nl=Object.freeze({__proto__:null,acyclic:Y_,cyclic:J_,flow:g3,flatgrid:fC,matrix:bg,execution:yg,menu:Z_,special:vC}),hd=function(t){return ni(t,"setGridSize")},Tn=tm({branchKey:"mode",branches:Nl,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(s){s(t,r,o)})},setGridSize:function(t,r,o,s,v){hd(o)?o.setGridSize(s,v):console.error("Layout does not support setGridSize")}},state:S_}),dC=function(t,r,o,s){gx(function(){var v=Ne(s,t.getSystem().build);gw(t,v)},t.element)},sf=function(t,r,o,s){var v=t.getSystem().build(s);S0(t,v,o)},Q_=function(t,r,o,s){sf(t,r,zi,s)},p3=function(t,r,o,s){sf(t,r,If,s)},ek=function(t,r,o,s){var v=v1(t),g=bt(v,function(y){return da(s.element,y.element)});g.each(mc)},v1=function(t,r){return t.components()},gc=function(t,r,o,s,v){var g=v1(t);return P.from(g[s]).map(function(y){return ek(t,r,o,y),v.each(function(k){sf(t,r,function(A,D){Ql(A,D,s)},k)}),y})},ay=function(t,r,o,s,v){var g=v1(t);return on(g,s).bind(function(y){return gc(t,r,o,y,v)})},tk=Object.freeze({__proto__:null,append:Q_,prepend:p3,remove:ek,replaceAt:gc,replaceBy:ay,set:dC,contents:v1}),Vn=Wo({fields:[],name:"replacing",apis:tk}),mC=function(t,r){var o=va(r);return Wo({fields:[it("enabled")],name:t,active:{events:ve(o)}})},Gn=function(t,r){var o=mC(t,r);return{key:t,value:{config:{},me:o,configAsRaw:ve({}),initialConfig:{},state:_i}}},hC=function(t,r){r.ignore||(lc(t.element),r.onFocus(t))},nk=function(t,r){r.ignore||Pp(t.element)},rk=function(t){return Np(t.element)},wg=Object.freeze({__proto__:null,focus:hC,blur:nk,isFocused:rk}),Cg=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return Dl(o)},Sg=function(t){return va([vt(Pv(),function(r,o){hC(r,t),o.stop()})].concat(t.stopMousedown?[vt(El(),function(r,o){o.event.prevent()})]:[]))},xg=Object.freeze({__proto__:null,exhibit:Cg,events:Sg}),b3=[Nr("onFocus"),Te("stopMousedown",!1),Te("ignore",!1)],Ln=Wo({fields:b3,name:"focusing",active:xg,apis:wg}),ak=function(t){var r=function(){var o=_n(t),s=function(){return o.get()},v=function(k){return o.set(k)},g=function(){return o.set(t)},y=function(){return o.get()};return{get:s,set:v,clear:g,readState:y}};return{init:r}},gC=function(t,r,o){var s=r.aria;s.update(t,s,o.get())},d1=function(t,r,o){r.toggleClass.each(function(s){o.get()?Fo(t.element,s):Ro(t.element,s)})},gd=function(t,r,o){pC(t,r,o,!o.get())},ok=function(t,r,o){o.set(!0),d1(t,r,o),gC(t,r,o)},oy=function(t,r,o){o.set(!1),d1(t,r,o),gC(t,r,o)},pC=function(t,r,o,s){var v=s?ok:oy;v(t,r,o)},y3=function(t,r,o){return o.get()},ik=function(t,r,o){pC(t,r,o,r.selected)},w3=Object.freeze({__proto__:null,onLoad:ik,toggle:gd,isOn:y3,on:ok,off:oy,set:pC}),iy=function(){return Dl({})},C3=function(t,r){var o=em(t,r,gd),s=za(t,r,ik);return va(Qe([t.toggleOnExecute?[o]:[],[s]]))},uy=Object.freeze({__proto__:null,exhibit:iy,events:C3}),uk=function(t,r,o){Xn(t.element,"aria-pressed",o),r.syncWithExpanded&&lk(t,r,o)},sk=function(t,r,o){Xn(t.element,"aria-selected",o)},S3=function(t,r,o){Xn(t.element,"aria-checked",o)},lk=function(t,r,o){Xn(t.element,"aria-expanded",o)},bC=[Te("selected",!1),Pr("toggleClass"),Te("toggleOnExecute",!0),vu("aria",{mode:"none"},Zs("mode",{pressed:[Te("syncWithExpanded",!1),ha("update",uk)],checked:[ha("update",S3)],expanded:[ha("update",lk)],selected:[ha("update",sk)],none:[ha("update",Q)]}))],Sr=Wo({fields:bC,name:"toggling",active:uy,apis:w3,state:ak(!1)}),ck=function(){var t=function(r,o){o.stop(),Ds(r)};return[vt(wh(),t),vt(Nv(),t),Vd(Hc()),Vd(El())]},sy=function(t){var r=function(o){return os(function(s,v){o(s),v.stop()})};return va(Qe([t.map(r).toArray(),ck()]))},yC="alloy.item-hover",fk="alloy.item-focus",wC=function(t){(cc(t.element).isNone()||Ln.isFocused(t))&&(Ln.isFocused(t)||Ln.focus(t),kn(t,yC,{item:t}))},m1=function(t){kn(t,fk,{item:t})},ly=ve(yC),u=ve(fk),c=function(t){return{dom:t.dom,domModification:Ce(Ce({},t.domModification),{attributes:Ce(Ce(Ce({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:al.augment(t.itemBehaviours,[t.toggling.fold(Sr.revoke,function(r){return Sr.config(Ce({aria:{mode:"checked"}},r))}),Ln.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){m1(r)}}),Tn.config({mode:"execution"}),Ut.config({store:{mode:"memory",initialValue:t.data}}),Gn("item-type-events",Ht(Ht([],ck(),!0),[vt(Gf(),wC),vt(Ld(),Ln.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},h=[it("data"),it("components"),it("dom"),Te("hasSubmenu",!1),Pr("toggling"),al.field("itemBehaviours",[Sr,Ln,Tn,Ut]),Te("ignoreFocus",!1),Te("domModification",{}),ha("builder",c),Te("eventOrder",{})],b=function(t){return{dom:t.dom,components:t.components,events:va([xh(Ld())])}},x=[it("dom"),it("components"),ha("builder",b)],T=ve("item-widget"),M=ve([Di({name:"widget",overrides:function(t){return{behaviours:It([Ut.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:Q}})])}}})]),L=function(t){var r=Pw(T(),t,M()),o=Nw(T(),t,r.internals()),s=function(g){return ua(g,t,"widget").map(function(y){return Tn.focusIn(y),y})},v=function(g,y){return of(y.event.target)?P.none():function(){return t.autofocus&&y.setSource(g.element),P.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:va([os(function(g,y){s(g).each(function(k){y.stop()})}),vt(Gf(),wC),vt(Ld(),function(g,y){t.autofocus?s(g):Ln.focus(g)})]),behaviours:al.augment(t.widgetBehaviours,[Ut.config({store:{mode:"memory",initialValue:t.data}}),Ln.config({ignore:t.ignoreFocus,onFocus:function(g){m1(g)}}),Tn.config({mode:"special",focusIn:t.autofocus?function(g){s(g)}:hx(),onLeft:v,onRight:v,onEscape:function(g,y){return!Ln.isFocused(g)&&!t.autofocus?(Ln.focus(g),P.some(!0)):(t.autofocus&&y.setSource(g.element),P.none())}})])}},Z=[it("uid"),it("data"),it("components"),it("dom"),Te("autofocus",!1),Te("ignoreFocus",!1),al.field("widgetBehaviours",[Ut,Ln,Tn]),Te("domModification",{}),Zp(M()),ha("builder",L)],le=Zs("type",{widget:Z,item:h,separator:x}),Se=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},Xe=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},St=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},st=ve([rf({factory:{sketch:function(t){var r=Yr("menu.spec item",le,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return Xr(r,"uid")?r:Ce(Ce({},r),{uid:Vv("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),Ye=ve([it("value"),it("items"),it("dom"),it("components"),Te("eventOrder",{}),jo("menuBehaviours",[Wr,Ut,fr,Tn]),vu("movement",{mode:"menu",moveOnTab:!0},Zs("mode",{grid:[Hb(),ha("config",Se)],matrix:[ha("config",Xe),it("rowSelector")],menu:[Te("moveOnTab",!0),ha("config",St)]})),zE(),Te("fakeFocus",!1),Te("focusManager",o1()),Nr("onHighlight")]),Pt=ve("alloy.menu-focus"),Ft=function(t,r,o,s){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:si(t.menuBehaviours,[Wr.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),Ut.config({store:{mode:"memory",initialValue:t.value}}),fr.config({find:P.some}),Tn.config(t.movement.config(t,t.movement))]),events:va([vt(u(),function(v,g){var y=g.event;v.getSystem().getByDom(y.target).each(function(k){Wr.highlight(v,k),g.stop(),kn(v,Pt(),{menu:v,item:k})})}),vt(ly(),function(v,g){var y=g.event.item;Wr.highlight(v,y)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},gn=wu({name:"Menu",configFields:Ye(),partFields:st(),factory:Ft}),Br=function(t){return no(t,function(r,o){return{k:r,v:o}})},hn=function(t,r,o,s){return Dn(o,s).bind(function(v){return Dn(t,v).bind(function(g){var y=hn(t,r,o,g);return P.some([g].concat(y))})}).getOr([])},Fn=function(t,r){var o={};Sa(t,function(y,k){yt(y,function(A){o[A]=k})});var s=r,v=Br(r),g=mr(v,function(y,k){return[k].concat(hn(o,s,v,k))});return mr(o,function(y){return Dn(g,y).getOr([y])})},vr=function(){var t=_n({}),r=_n({}),o=_n({}),s=io(),v=_n({}),g=function(){t.set({}),r.set({}),o.set({}),s.clear()},y=function(){return s.get().isNone()},k=function(Ae,Le){var at;r.set(Ce(Ce({},r.get()),(at={},at[Ae]={type:"prepared",menu:Le},at)))},A=function(Ae,Le,at,Wt){s.set(Ae),t.set(at),r.set(Le),v.set(Wt);var ct=Fn(Wt,at);o.set(ct)},D=function(Ae){return Us(t.get(),function(Le,at){return Le===Ae})},N=function(Ae,Le,at){return de(Ae).bind(function(Wt){return D(Ae).bind(function(ct){return Le(ct).map(function(Kt){return{triggeredMenu:Wt,triggeringItem:Kt,triggeringPath:at}})})})},z=function(Ae,Le){var at=pe(ce(Ae).toArray(),function(Wt){return de(Wt).isSome()});return Dn(o.get(),Ae).bind(function(Wt){var ct=Rt(at.concat(Wt)),Kt=qt(ct,function(mt,nt){return N(mt,Le,ct.slice(0,nt+1)).fold(function(){return bs(s.get(),mt)?[]:[P.none()]},function(Mt){return[P.some(Mt)]})});return pr(Kt)})},j=function(Ae){return Dn(t.get(),Ae).map(function(Le){var at=Dn(o.get(),Ae).getOr([]);return[Le].concat(at)})},X=function(Ae){return Dn(o.get(),Ae).bind(function(Le){return Le.length>1?P.some(Le.slice(1)):P.none()})},ne=function(Ae){return Dn(o.get(),Ae)},de=function(Ae){return ke(Ae).bind(sr)},ke=function(Ae){return Dn(r.get(),Ae)},ce=function(Ae){return Dn(t.get(),Ae)},Ee=function(Ae){var Le=v.get();return sn(Ea(Le),Ae)},Ge=function(){return s.get().bind(de)},We=function(){return r.get()};return{setMenuBuilt:k,setContents:A,expand:j,refresh:ne,collapse:X,lookupMenu:ke,lookupItem:ce,otherMenus:Ee,getPrimary:Ge,getMenus:We,clear:g,isClear:y,getTriggeringPath:z}},sr=function(t){return t.type==="prepared"?P.some(t.menu):P.none()},ho={init:vr,extractPreparedMenu:sr},li=function(t,r){var o=io(),s=function(lt,an,dn){return mr(dn,function(hr,Kr){var Oa=function(){return gn.sketch(Ce(Ce({},hr),{value:Kr,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?b_():o1()}))};return Kr===an?{type:"prepared",menu:lt.getSystem().build(Oa())}:{type:"notbuilt",nbMenu:Oa}})},v=ho.init(),g=function(lt){var an=s(lt,t.data.primary,t.data.menus),dn=A();return v.setContents(t.data.primary,an,t.data.expansions,dn),v.getPrimary()},y=function(lt){return Ut.getValue(lt).value},k=function(lt,an,dn){return Pa(an,function(hr){if(!hr.getSystem().isConnected())return P.none();var Kr=Wr.getCandidates(hr);return bt(Kr,function(Oa){return y(Oa)===dn})})},A=function(lt){return mr(t.data.menus,function(an,dn){return qt(an.items,function(hr){return hr.type==="separator"?[]:[hr.data.value]})})},D=function(lt,an){Wr.highlight(lt,an),Wr.getHighlighted(an).orThunk(function(){return Wr.getFirst(an)}).each(function(dn){Cb(lt,dn.element,Ld())})},N=function(lt,an){return Qr(Ne(an,function(dn){return lt.lookupMenu(dn).bind(function(hr){return hr.type==="prepared"?P.some(hr.menu):P.none()})}))},z=function(lt,an,dn){var hr=N(an,an.otherMenus(dn));yt(hr,function(Kr){Ms(Kr.element,[t.markers.backgroundMenu]),t.stayInDom||Vn.remove(lt,Kr)})},j=function(lt){return o.get().getOrThunk(function(){var an={},dn=tu(lt.element,"."+t.markers.item),hr=pe(dn,function(Kr){return Ra(Kr,"aria-haspopup")==="true"});return yt(hr,function(Kr){lt.getSystem().getByDom(Kr).each(function(Oa){var Qa=y(Oa);an[Qa]=Oa})}),o.set(an),an})},X=function(lt,an){var dn=j(lt);Sa(dn,function(hr,Kr){var Oa=nr(an,Kr);Xn(hr.element,"aria-expanded",Oa)})},ne=function(lt,an,dn){return P.from(dn[0]).bind(function(hr){return an.lookupMenu(hr).bind(function(Kr){if(Kr.type==="notbuilt")return P.none();var Oa=Kr.menu,Qa=N(an,dn.slice(1));return yt(Qa,function(cl){Fo(cl.element,t.markers.backgroundMenu)}),uu(Oa.element)||Vn.append(lt,Ps(Oa)),Ms(Oa.element,[t.markers.backgroundMenu]),D(lt,Oa),z(lt,an,dn),P.some(Oa)})})},de;(function(lt){lt[lt.HighlightSubmenu=0]="HighlightSubmenu",lt[lt.HighlightParent=1]="HighlightParent"})(de||(de={}));var ke=function(lt,an,dn){if(dn.type==="notbuilt"){var hr=lt.getSystem().build(dn.nbMenu());return v.setMenuBuilt(an,hr),hr}else return dn.menu},ce=function(lt,an,dn){if(dn===void 0&&(dn=de.HighlightSubmenu),an.hasConfigured(Sn)&&Sn.isDisabled(an))return P.some(an);var hr=y(an);return v.expand(hr).bind(function(Kr){return X(lt,Kr),P.from(Kr[0]).bind(function(Oa){return v.lookupMenu(Oa).bind(function(Qa){var cl=ke(lt,Oa,Qa);return uu(cl.element)||Vn.append(lt,Ps(cl)),t.onOpenSubmenu(lt,an,cl,Rt(Kr)),dn===de.HighlightSubmenu?(Wr.highlightFirst(cl),ne(lt,v,Kr)):(Wr.dehighlightAll(cl),P.some(an))})})})},Ee=function(lt,an){var dn=y(an);return v.collapse(dn).bind(function(hr){return X(lt,hr),ne(lt,v,hr).map(function(Kr){return t.onCollapseMenu(lt,an,Kr),Kr})})},Ge=function(lt,an){var dn=y(an);return v.refresh(dn).bind(function(hr){return X(lt,hr),ne(lt,v,hr)})},We=function(lt,an){return of(an.element)?P.none():ce(lt,an,de.HighlightSubmenu)},Ae=function(lt,an){return of(an.element)?P.none():Ee(lt,an)},Le=function(lt,an){return Ee(lt,an).orThunk(function(){return t.onEscape(lt,an).map(function(){return lt})})},at=function(lt){return function(an,dn){return nl(dn.getSource(),"."+t.markers.item).bind(function(hr){return an.getSystem().getByDom(hr).toOptional().bind(function(Kr){return lt(an,Kr).map(Qt)})})}},Wt=va([vt(Pt(),function(lt,an){var dn=an.event.item;v.lookupItem(y(dn)).each(function(){var hr=an.event.menu;Wr.highlight(lt,hr);var Kr=y(an.event.item);v.refresh(Kr).each(function(Oa){return z(lt,v,Oa)})})}),os(function(lt,an){var dn=an.event.target;lt.getSystem().getByDom(dn).each(function(hr){var Kr=y(hr);Kr.indexOf("collapse-item")===0&&Ee(lt,hr),ce(lt,hr,de.HighlightSubmenu).fold(function(){t.onExecute(lt,hr)},Q)})}),jn(function(lt,an){g(lt).each(function(dn){Vn.append(lt,Ps(dn)),t.onOpenMenu(lt,dn),t.highlightImmediately&&D(lt,dn)})})].concat(t.navigateOnHover?[vt(ly(),function(lt,an){var dn=an.event.item;Ge(lt,dn),ce(lt,dn,de.HighlightParent),t.onHover(lt,dn)})]:[])),ct=function(lt){return Wr.getHighlighted(lt).bind(Wr.getHighlighted)},Kt=function(lt){ct(lt).each(function(an){Ee(lt,an)})},mt=function(lt){v.getPrimary().each(function(an){D(lt,an)})},nt=function(lt){return P.from(lt.components()[0]).filter(function(an){return Ra(an.element,"role")==="menu"})},Mt=function(lt){var an=v.getPrimary().bind(function(dn){return ct(lt).bind(function(hr){var Kr=y(hr),Oa=jl(v.getMenus()),Qa=Qr(Ne(Oa,ho.extractPreparedMenu));return v.getTriggeringPath(Kr,function(cl){return k(lt,Qa,cl)})}).map(function(hr){return{primary:dn,triggeringPath:hr}})});an.fold(function(){nt(lt).each(function(dn){t.onRepositionMenu(lt,dn,[])})},function(dn){var hr=dn.primary,Kr=dn.triggeringPath;t.onRepositionMenu(lt,hr,Kr)})},cn={collapseMenu:Kt,highlightPrimary:mt,repositionMenus:Mt};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:si(t.tmenuBehaviours,[Tn.config({mode:"special",onRight:at(We),onLeft:at(Ae),onEscape:at(Le),focusIn:function(lt,an){v.getPrimary().each(function(dn){Cb(lt,dn.element,Ld())})}}),Wr.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),fr.config({find:function(lt){return Wr.getHighlighted(lt)}}),Vn.config({})]),eventOrder:t.eventOrder,apis:cn,events:Wt}},ci=ve("collapse-item"),xr=function(t,r,o){return{primary:t,menus:r,expansions:o}},Un=function(t,r){return{primary:t,menus:Lc(t,r),expansions:{}}},yr=function(t){return{value:ln(ci()),meta:{text:t}}},ra=Is({name:"TieredMenu",configFields:[Pu("onExecute"),Pu("onEscape"),gu("onOpenMenu"),gu("onOpenSubmenu"),Nr("onRepositionMenu"),Nr("onCollapseMenu"),Te("highlightImmediately",!0),zc("data",[it("primary"),it("menus"),it("expansions")]),Te("fakeFocus",!1),Nr("onHighlight"),Nr("onHover"),Yd(),it("dom"),Te("navigateOnHover",!0),Te("stayInDom",!1),jo("tmenuBehaviours",[Tn,Wr,fr,Vn]),Te("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:li,extraApis:{tieredData:xr,singleData:Un,collapseItem:yr}}),Ja=function(t,r,o,s,v){var g=function(){return t.lazySink(r)},y=s.type==="horizontal"?{layouts:{onLtr:function(){return Xb()},onRtl:function(){return Yb()}}}:{},k=function(D){return D.length===2},A=function(D){return k(D)?y:{}};return ra.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return wr.close(r),t.onEscape.map(function(D){return D(r)}),P.some(!0)},onExecute:function(){return P.some(!0)},onOpenMenu:function(D,N){uo.positionWithinBounds(g().getOrDie(),N,o,v())},onOpenSubmenu:function(D,N,z,j){var X=g().getOrDie();uo.position(X,z,{anchor:Ce({type:"submenu",item:N},A(j))})},onRepositionMenu:function(D,N,z){var j=g().getOrDie();uo.positionWithinBounds(j,N,o,v()),yt(z,function(X){var ne=A(X.triggeringPath);uo.position(j,X.triggeredMenu,{anchor:Ce({type:"submenu",item:X.triggeringItem},ne)})})}})},uv=function(t,r){var o=function(X,ne){var de=t.getRelated(X);return de.exists(function(ke){return Xd(ke,ne)})},s=function(X,ne){wr.setContent(X,ne)},v=function(X,ne,de){g(X,ne,de,P.none())},g=function(X,ne,de,ke){y(X,ne,de,function(){return ke.map(function(ce){return Co(ce)})})},y=function(X,ne,de,ke){var ce=t.lazySink(X).getOrDie();wr.openWhileCloaked(X,ne,function(){return uo.positionWithinBounds(ce,X,de,ke())}),Ut.setValue(X,P.some({mode:"position",config:de,getBounds:ke}))},k=function(X,ne,de){A(X,ne,de,P.none)},A=function(X,ne,de,ke){var ce=Ja(t,X,ne,de,ke);wr.open(X,ce),Ut.setValue(X,P.some({mode:"menu",menu:ce}))},D=function(X){wr.isOpen(X)&&(Ut.setValue(X,P.none()),wr.close(X))},N=function(X){return wr.getState(X)},z=function(X){wr.isOpen(X)&&Ut.getValue(X).each(function(ne){switch(ne.mode){case"menu":wr.getState(X).each(ra.repositionMenus);break;case"position":var de=t.lazySink(X).getOrDie();uo.positionWithinBounds(de,X,ne.config,ne.getBounds());break}})},j={setContent:s,showAt:v,showWithin:g,showWithinBounds:y,showMenuAt:k,showMenuWithinBounds:A,hide:D,getContent:N,reposition:z,isOpen:wr.isOpen};return{uid:t.uid,dom:t.dom,behaviours:si(t.inlineBehaviours,[wr.config({isPartOf:function(X,ne,de){return Xd(ne,de)||o(X,de)},getAttachPoint:function(X){return t.lazySink(X).getOrDie()},onOpen:function(X){t.onShow(X)},onClose:function(X){t.onHide(X)}}),Ut.config({store:{mode:"memory",initialValue:P.none()}}),Qi.config({channels:Ce(Ce({},Lu(Ce({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(X){return{fireEventInstead:{event:X.event}}}).getOr({})))),fm(Ce(Ce({},t.fireRepositionEventInstead.map(function(X){return{fireEventInstead:{event:X.event}}}).getOr({})),{doReposition:z})))})]),eventOrder:t.eventOrder,apis:j}},ea=Is({name:"InlineView",configFields:[it("lazySink"),Nr("onShow"),Nr("onHide"),$v("onEscape"),jo("inlineBehaviours",[wr,Ut,Qi]),rs("fireDismissalEventInstead",[Te("event",Tl())]),rs("fireRepositionEventInstead",[Te("event",Vi())]),Te("getRelated",P.none),Te("isExtraPart",Cn),Te("eventOrder",P.none)],factory:uv,apis:{showAt:function(t,r,o,s){t.showAt(r,o,s)},showWithin:function(t,r,o,s,v){t.showWithin(r,o,s,v)},showWithinBounds:function(t,r,o,s,v){t.showWithinBounds(r,o,s,v)},showMenuAt:function(t,r,o,s){t.showMenuAt(r,o,s)},showMenuWithinBounds:function(t,r,o,s,v){t.showMenuWithinBounds(r,o,s,v)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),ss="layout-inset",fi=function(t){return t.x},h1=function(t,r){return t.x+t.width/2-r.width/2},sv=function(t,r){return t.x+t.width-r.width},pc=function(t){return t.y},zs=function(t,r){return t.y+t.height-r.height},lf=function(t,r){return t.y+t.height/2-r.height/2},cy=function(t,r,o){return Xo(sv(t,r),zs(t,r),o.insetSouthwest(),Zd(),"southwest",Uo(t,{right:0,bottom:3}),ss)},_g=function(t,r,o){return Xo(fi(t),zs(t,r),o.insetSoutheast(),B2(),"southeast",Uo(t,{left:1,bottom:3}),ss)},kg=function(t,r,o){return Xo(sv(t,r),pc(t),o.insetNorthwest(),R2(),"northwest",Uo(t,{right:0,top:2}),ss)},Ag=function(t,r,o){return Xo(fi(t),pc(t),o.insetNortheast(),Ub(),"northeast",Uo(t,{left:1,top:2}),ss)},bc=function(t,r,o){return Xo(h1(t,r),pc(t),o.insetNorth(),Dp(),"north",Uo(t,{top:2}),ss)},Eg=function(t,r,o){return Xo(h1(t,r),zs(t,r),o.insetSouth(),$2(),"south",Uo(t,{bottom:3}),ss)},Tg=function(t,r,o){return Xo(sv(t,r),lf(t,r),o.insetEast(),Bh(),"east",Uo(t,{right:0}),ss)},CC=function(t,r,o){return Xo(fi(t),lf(t,r),o.insetWest(),M2(),"west",Uo(t,{left:1}),ss)},Og=function(t){switch(t){case"north":return bc;case"northeast":return Ag;case"northwest":return kg;case"south":return Eg;case"southeast":return _g;case"southwest":return cy;case"east":return Tg;case"west":return CC}},TD=function(t,r,o,s,v){var g=W2(s).map(Og).getOr(bc);return g(t,r,o,s,v)},x3=function(t){switch(t){case"north":return Eg;case"northeast":return _g;case"northwest":return cy;case"south":return bc;case"southeast":return Ag;case"southwest":return kg;case"east":return CC;case"west":return Tg}},UP=function(t,r,o,s,v){var g=W2(s).map(x3).getOr(bc);return g(t,r,o,s,v)},Dg=tinymce.util.Tools.resolve("tinymce.util.Delay"),WP=function(t){var r=sy(t.action),o=t.dom.tag,s=function(g){return Dn(t.dom,"attributes").bind(function(y){return Dn(y,g)})},v=function(){if(o==="button"){var g=s("type").getOr("button"),y=s("role").map(function(A){return{role:A}}).getOr({});return Ce({type:g},y)}else{var k=s("role").getOr("button");return{role:k}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:al.augment(t.buttonBehaviours,[Ln.config({}),Tn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:v()},eventOrder:t.eventOrder}},ls=Is({name:"Button",factory:WP,configFields:[Te("uid",void 0),it("dom"),Te("components",[]),al.field("buttonBehaviours",[Ln,Tn]),Pr("action"),Pr("role"),Te("eventOrder",{})]}),qr=function(t){var r=Fw(t)&&ni(t,"uid")?t.uid:Vv("memento"),o=function(g){return g.getSystem().getByUid(r).getOrDie()},s=function(g){return g.getSystem().getByUid(r).toOptional()},v=function(){return Ce(Ce({},t),{uid:r})};return{get:o,getOpt:s,asSpec:v}},cf=tinymce.util.Tools.resolve("tinymce.util.I18n"),_3={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},OD="temporary-placeholder",fy=function(t){return function(){return Dn(t,OD).getOr("!not found!")}},k3=function(t,r){var o=t.toLowerCase();if(cf.isRtl()){var s=_f(o,"-rtl");return Xr(r,s)?s:o}else return o},DD=function(t,r){return Dn(r,k3(t,r))},RD=function(t,r){var o=r();return DD(t,o).getOrThunk(fy(o))},jP=function(t,r,o){var s=r();return DD(t,s).or(o).getOrThunk(fy(s))},GP=function(t){return cf.isRtl()?Xr(_3,t):!1},A3=function(){return Gn("add-focusable",[jn(function(t){T2(t.element,"svg").each(function(r){return Xn(r,"focusable","false")})})])},E3=function(t,r,o,s){var v,g,y=GP(r)?["tox-icon--flip"]:[],k=Dn(o,k3(r,o)).or(s).getOrThunk(fy(o));return{dom:{tag:t.tag,attributes:(v=t.attributes)!==null&&v!==void 0?v:{},classes:t.classes.concat(y),innerHtml:k},behaviours:It(Ht(Ht([],(g=t.behaviours)!==null&&g!==void 0?g:[],!0),[A3()],!1))}},lv=function(t,r,o,s){return s===void 0&&(s=P.none()),E3(r,t,o(),s)},qP=function(t,r,o){var s=o(),v=bt(t,function(g){return Xr(s,k3(g,s))});return E3(r,v.getOr(OD),s,P.none())},vk={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},KP=function(t){var r=qr({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:It([Vn.config({})])}),o=function(X){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+X+"%"}}}},s=function(X){return{dom:{tag:"div",classes:["tox-text"],innerHtml:X+"%"}}},v=qr({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:It([Vn.config({})])}),g=function(X,ne){X.getSystem().isConnected()&&v.getOpt(X).each(function(de){Vn.set(de,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(ne)]},s(ne)])})},y=function(X,ne){if(X.getSystem().isConnected()){var de=r.get(X);Vn.set(de,[ki(ne)])}},k={updateProgress:g,updateText:y},A=Qe([t.icon.toArray(),t.level.toArray(),t.level.bind(function(X){return P.from(vk[X])}).toArray()]),D=qr(ls.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[lv("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(X){t.onAction(X)}})),N=qP(A,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),z={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:It([Vn.config({})])},j=[N,z];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(X){return["tox-notification","tox-notification--in","tox-notification--"+X]}).getOr(["tox-notification","tox-notification--in"])},behaviours:It([Ln.config({}),Gn("notification-events",[vt(Qs(),function(X){D.getOpt(X).each(Ln.focus)})])]),components:j.concat(t.progress?[v.asSpec()]:[]).concat(t.closeButton?[D.asSpec()]:[]),apis:k}},T3=Is({name:"Notification",factory:KP,configFields:[Pr("level"),it("progress"),it("icon"),it("onAction"),it("text"),it("iconProvider"),it("translationProvider"),fa("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function O3(t,r,o){var s=r.backstage.shared,v=function(D){switch(D){case"bc-bc":return Eg;case"tc-tc":return bc;case"tc-bc":return Nu;case"bc-tc":default:return Bo}},g=function(D){D.length>0&&yt(D,function(N,z){z===0?N.moveRel(null,"banner"):N.moveRel(D[z-1].getEl(),"bc-tc")})},y=function(D,N){var z=!D.closeButton&&D.timeout&&(D.timeout>0||D.timeout<0),j=function(){N(),ea.hide(ne)},X=$a(T3.sketch({text:D.text,level:nr(["success","error","warning","warn","info"],D.type)?D.type:void 0,progress:D.progressBar===!0,icon:P.from(D.icon),closeButton:!z,onAction:j,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),ne=$a(ea.sketch(Ce({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(ne),D.timeout>0&&Dg.setTimeout(function(){j()},D.timeout);var de=function(){var ke=Co(Gt.fromDom(t.getContentAreaContainer())),ce=wi(),Ee=is(ce.x,ke.x,ke.right),Ge=is(ce.y,ke.y,ke.bottom),We=Math.max(ke.right,ce.right),Ae=Math.max(ke.bottom,ce.bottom);return P.some(zo(Ee,Ge,We-Ee,Ae-Ge))};return{close:j,moveTo:function(ke,ce){ea.showAt(ne,Ps(X),{anchor:{type:"makeshift",x:ke,y:ce}})},moveRel:function(ke,ce){var Ee=Ps(X),Ge={maxHeightFunction:Fh()};if(ce!=="banner"&&me(ke)){var We=v(ce),Ae={type:"node",root:Ni(),node:P.some(Gt.fromDom(ke)),overrides:Ge,layouts:{onRtl:function(){return[We]},onLtr:function(){return[We]}}};ea.showWithinBounds(ne,Ee,{anchor:Ae},de)}else{var Le=Ce(Ce({},s.anchors.banner()),{overrides:Ge});ea.showWithinBounds(ne,Ee,{anchor:Le},de)}},text:function(ke){T3.updateText(X,ke)},settings:D,getEl:function(){return X.element.dom},progressBar:{value:function(ke){T3.updateProgress(X,ke)}}}},k=function(D){D.close()},A=function(D){return D.settings};return{open:y,close:k,reposition:g,getArgs:A}}var XP=function(t,r){var o=null,s=function(){I(o)||(clearTimeout(o),o=null)},v=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];I(o)&&(o=setTimeout(function(){o=null,t.apply(null,g)},r))};return{cancel:s,throttle:v}},D3=function(t,r){var o=null,s=function(){I(o)||(clearTimeout(o),o=null)},v=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];s(),o=setTimeout(function(){o=null,t.apply(null,g)},r)};return{cancel:s,throttle:v}},YP=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),JP=function(t,r){return t.isBlock(r)||nr(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},BD=function(t,r,o,s,v){var g=YP(t,function(y){return JP(t,y)});return P.from(g.backwards(r,o,s,v))},ZP="[data-mce-autocompleter]",QP=function(t,r){return dk(Gt.fromDom(t.selection.getNode())).getOrThunk(function(){var o=Gt.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return zi(o,Gt.fromDom(r.extractContents())),r.insertNode(o.dom),bo(o).each(function(s){return s.dom.normalize()}),sw(o).map(function(s){t.selection.setCursorLocation(s.dom,Nx(s))}),o})},dk=function(t){return nl(t,ZP)},eN=function(t){return t.collapsed&&t.startContainer.nodeType===3},$D=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},MD=function(t){return t!==""&&`  \f
\r	\v`.indexOf(t)!==-1},R3=function(t,r){return t.substring(r.length)},B3=function(t,r,o){var s;for(s=r-1;s>=0;s--){var v=t.charAt(s);if(MD(v))return P.none();if(v===o)break}return P.some(s)},tN=function(t,r,o,s){if(s===void 0&&(s=0),!eN(r))return P.none();var v=function(y,k,A){return B3(A,k,o).getOr(k)},g=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return BD(t,r.startContainer,r.startOffset,v,g).bind(function(y){var k=r.cloneRange();if(k.setStart(y.container,y.offset),k.setEnd(r.endContainer,r.endOffset),k.collapsed)return P.none();var A=$D(k),D=A.lastIndexOf(o);return D!==0||R3(A,o).length<s?P.none():P.some({text:R3(A,o),range:k,triggerChar:o})})},$3=function(t,r,o,s){return s===void 0&&(s=0),dk(Gt.fromDom(r.startContainer)).fold(function(){return tN(t,r,o,s)},function(v){var g=t.createRng();g.selectNode(v.dom);var y=$D(g);return P.some({range:g,text:R3(y,o),triggerChar:o})})},nN=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(s,v){kn(s,hb(),{raw:v})};r.on("keydown",function(s){var v=function(){return t.getView().bind(Wr.getHighlighted)};s.which===8&&t.onKeypress.throttle(s),t.isActive()&&(s.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?s.which===13?(v().each(Ds),s.preventDefault()):s.which===40?(v().fold(function(){t.getView().each(Wr.highlightFirst)},function(g){o(g,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&v().each(function(g){o(g,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(s){t.isActive()&&!t.isProcessingAction()&&dk(Gt.fromDom(s.element)).isNone()&&t.cancelIfNecessary()})},PD={setup:nN},SC=tinymce.util.Tools.resolve("tinymce.util.Promise"),M3=function(t,r){return{container:t,offset:r}},rN=function(t){return t.nodeType===ql},aN=function(t){return t.nodeType===_v},ND=function(t){if(rN(t))return M3(t,t.data.length);var r=t.childNodes;return r.length>0?ND(r[r.length-1]):M3(t,r.length)},mk=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?mk(o[r],0):o.length>0&&aN(t)&&o.length===r?ND(o[o.length-1]):M3(t,r)},oN=function(t,r){return BD(t,r.container,r.offset,function(o,s){return s===0?-1:s},t.getRoot()).filter(function(o){var s=o.container.data.charAt(o.offset-1);return!MD(s)}).isSome()},iN=function(t){return function(r){var o=mk(r.startContainer,r.startOffset);return!oN(t,o)}},uN=function(t,r,o){return Pa(o.triggerChars,function(s){return $3(t,r,s)})},sN=function(t,r){var o=r(),s=t.selection.getRng();return uN(t.dom,s,o).bind(function(v){return ID(t,r,v)})},ID=function(t,r,o,s){s===void 0&&(s={});var v=r(),g=t.selection.getRng(),y=g.startContainer.nodeValue,k=pe(v.lookupByChar(o.triggerChar),function(D){return o.text.length>=D.minChars&&D.matches.getOrThunk(function(){return iN(t.dom)})(o.range,y,o.text)});if(k.length===0)return P.none();var A=SC.all(Ne(k,function(D){var N=D.fetch(o.text,D.maxResults,s);return N.then(function(z){return{matchText:o.text,items:z,columns:D.columns,onAction:D.onAction,highlightOn:D.highlightOn}})}));return P.some({lookupData:A,context:o})},zD=yn([zn("type"),pa("text")]),lN=function(t){return Ha("separatormenuitem",zD,t)},cN=yn([Te("type","autocompleteitem"),Te("active",!1),Te("disabled",!1),Te("meta",{}),zn("value"),pa("text"),pa("icon")]),fN=yn([zn("type"),zn("ch"),ac("minChars",1),Te("columns",1),ac("maxResults",10),$v("matches"),Zi("fetch"),Zi("onAction"),Wf("highlightOn",[],vo)]),vN=function(t){return Ha("Autocompleter.Separator",zD,t)},dN=function(t){return Ha("Autocompleter.Item",cN,t)},P3=function(t){return Ha("Autocompleter",fN,t)},xC=[fa("disabled",!1),pa("tooltip"),pa("icon"),pa("text"),ba("onSetup",function(){return Q})],mN=yn([zn("type"),Zi("onAction")].concat(xC)),LD=function(t){return Ha("toolbarbutton",mN,t)},_C=[fa("active",!1)].concat(xC),hN=yn(_C.concat([zn("type"),Zi("onAction")])),hk=function(t){return Ha("ToggleButton",hN,t)},FD=[ba("predicate",Cn),As("scope","node",["node","editor"]),As("position","selection",["node","selection","line"])],gN=xC.concat([Te("type","contextformbutton"),Te("primary",!1),Zi("onAction"),fu("original",tt)]),pN=_C.concat([Te("type","contextformbutton"),Te("primary",!1),Zi("onAction"),fu("original",tt)]),bN=xC.concat([Te("type","contextformbutton")]),yN=_C.concat([Te("type","contextformtogglebutton")]),HD=Zs("type",{contextformbutton:gN,contextformtogglebutton:pN}),wN=yn([Te("type","contextform"),ba("initValue",ve("")),pa("label"),Hi("commands",HD),rc("launch",Zs("type",{contextformbutton:bN,contextformtogglebutton:yN}))].concat(FD)),N3=function(t){return Ha("ContextForm",wN,t)},I3=yn([Te("type","contexttoolbar"),zn("items")].concat(FD)),VD=function(t){return Ha("ContextToolbar",I3,t)},z3=function(t){var r={};return yt(t,function(o){r[o]={}}),Ea(r)},L3=function(t){var r=t.ui.registry.getAll().popups,o=mr(r,function(y){return P3(y).fold(function(k){throw new Error(Bv(k))},tt)}),s=z3(ps(o,function(y){return y.ch})),v=jl(o),g=function(y){return pe(v,function(k){return k.ch===y})};return{dataset:o,triggerChars:s,lookupByChar:g}},gk;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(gk||(gk={}));var au=gk,kC="tox-menu-nav__js",F3="tox-collection__item",H3="tox-swatch",CN={normal:kC,color:H3},UD="tox-collection__item--enabled",vy="tox-collection__group-heading",V3="tox-collection__item-icon",U3="tox-collection__item-label",SN="tox-collection__item-accessory",W3="tox-collection__item-caret",WD="tox-collection__item-checkmark",g1="tox-collection__item--active",jD="tox-collection__item-container",j3="tox-collection__item-container--column",pk="tox-collection__item-container--row",xN="tox-collection__item-container--align-right",GD="tox-collection__item-container--align-left",qD="tox-collection__item-container--valign-top",_N="tox-collection__item-container--valign-middle",kN="tox-collection__item-container--valign-bottom",KD=function(t){return Dn(CN,t).getOr(kC)},AN=function(t){return t==="color"?"tox-swatches":"tox-menu"},G3=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:AN(t),tieredMenu:"tox-tiered-menu"}},dy=function(t){var r=G3(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:KD(t)}},EN=function(t,r,o){var s=G3(o);return{tag:"div",classes:Qe([[s.menu,"tox-menu-"+r+"-column"],t?[s.hasIcons]:[]])}},TN=[gn.parts.items({})],p1=function(t,r,o){var s=G3(o),v={tag:"div",classes:Qe([[s.tieredMenu]])};return{dom:v,markers:dy(o)}},bk=function(t,r){return function(o){var s=En(o,r);return Ne(s,function(v){return{dom:t,components:v}})}},XD=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[gn.parts.items({preprocess:t!=="auto"?bk({tag:"div",classes:["tox-swatches__row"]},t):tt})]}]}},ON=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[gn.parts.items({preprocess:bk({tag:"div",classes:["tox-collection__group"]},t)})]}},YD=function(t,r){var o=[],s=[];return yt(t,function(v,g){r(v,g)?(s.length>0&&o.push(s),s=[],Xr(v.dom,"innerHtml")&&s.push(v)):s.push(v)}),s.length>0&&o.push(s),Ne(o,function(v){return{dom:{tag:"div",classes:["tox-collection__group"]},components:v}})},AC=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[gn.parts.items({preprocess:function(s){return t!=="auto"&&t>1?bk({tag:"div",classes:["tox-collection__group"]},t)(s):YD(s,function(v,g){return r[g].type==="separator"})}})]}},q3=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[gn.parts.items({preprocess:function(o){return YD(o,function(s,v){return t[v].type==="separator"})}})]}},EC=function(t){return Fr(t,function(r){return"icon"in r&&r.icon!==void 0})},pd=function(t){return console.error(Bv(t)),console.log(t),P.none()},JD=function(t,r,o,s,v){var g=q3(o);return{value:t,dom:g.dom,components:g.components,items:o}},K3=function(t,r,o,s,v){if(v==="color"){var g=XD(s);return{value:t,dom:g.dom,components:g.components,items:o}}if(v==="normal"&&s==="auto"){var g=AC(s,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(v==="normal"&&s===1){var g=AC(1,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(v==="normal"){var g=AC(s,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(v==="listpreview"&&s!=="auto"){var g=ON(s);return{value:t,dom:g.dom,components:g.components,items:o}}return{value:t,dom:EN(r,s,v),components:TN,items:o}},X3=[zn("type"),zn("src"),pa("alt"),Wf("classes",[],vo)],DN=yn(X3),ZD=[zn("type"),zn("text"),pa("name"),Wf("classes",["tox-collection__item-label"],vo)],QD=yn(ZD),my=FS(function(){return db("type",{cardimage:DN,cardtext:QD,cardcontainer:RN})}),RN=yn([zn("type"),gh("direction","horizontal"),gh("align","left"),gh("valign","middle"),Hi("items",my)]),Rg=[fa("disabled",!1),pa("text"),pa("shortcut"),Lo("value","value",br(function(){return ln("menuitem-value")}),xl()),Te("meta",{})],hy=yn([zn("type"),pa("label"),Hi("items",my),ba("onSetup",function(){return Q}),ba("onAction",Q)].concat(Rg)),BN=function(t){return Ha("cardmenuitem",hy,t)},eR=yn([zn("type"),fa("active",!1),pa("icon")].concat(Rg)),tR=function(t){return Ha("choicemenuitem",eR,t)},Y3=[zn("type"),zn("fancytype"),ba("onAction",Q)],J3=[Te("initData",{})].concat(Y3),nR=[n2("initData",{},[fa("allowCustomColors",!0),ns("colors",xl())])].concat(Y3),$N=Zs("fancytype",{inserttable:J3,colorswatch:nR}),MN=function(t){return Ha("fancymenuitem",$N,t)},yk=yn([zn("type"),ba("onSetup",function(){return Q}),ba("onAction",Q),pa("icon")].concat(Rg)),PN=function(t){return Ha("menuitem",yk,t)},rR=yn([zn("type"),Zi("getSubmenuItems"),ba("onSetup",function(){return Q}),pa("icon")].concat(Rg)),gy=function(t){return Ha("nestedmenuitem",rR,t)},NN=yn([zn("type"),pa("icon"),fa("active",!1),ba("onSetup",function(){return Q}),Zi("onAction")].concat(Rg)),IN=function(t){return Ha("togglemenuitem",NN,t)},Z3=function(t,r,o){var s=tu(t.element,"."+o);if(s.length>0){var v=on(s,function(g){var y=g.dom.getBoundingClientRect().top,k=s[0].dom.getBoundingClientRect().top;return Math.abs(y-k)>r}).getOr(s.length);return P.some({numColumns:v,numRows:Math.ceil(s.length/v)})}else return P.none()},Q3=function(t,r){return It([Gn(t,r)])},aR=function(t){return Q3(ln("unnamed-events"),t)},wk={namedEvents:Q3,unnamedEvents:aR},oR=ln("tooltip.exclusive"),TC=ln("tooltip.show"),OC=ln("tooltip.hide"),iR=function(t,r,o){t.getSystem().broadcastOn([oR],{})},Ck=function(t,r,o,s){o.getTooltip().each(function(v){v.getSystem().isConnected()&&Vn.set(v,s)})},zN=Object.freeze({__proto__:null,hideAllExclusive:iR,setComponents:Ck}),LN=function(t,r){var o=function(v){r.getTooltip().each(function(g){mc(g),t.onHide(v,g),r.clearTooltip()}),r.clearTimer()},s=function(v){if(!r.isShowing()){iR(v);var g=t.lazySink(v).getOrDie(),y=v.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:va(t.mode==="normal"?[vt(Gf(),function(k){Rr(v,TC)}),vt(u2(),function(k){Rr(v,OC)})]:[]),behaviours:It([Vn.config({})])});r.setTooltip(y),sm(g,y),t.onShow(v,y),uo.position(g,y,{anchor:t.anchor(v)})}};return va(Qe([[vt(TC,function(v){r.resetTimer(function(){s(v)},t.delay)}),vt(OC,function(v){r.resetTimer(function(){o(v)},t.delay)}),vt(el(),function(v,g){var y=g;y.universal||nr(y.channels,oR)&&o(v)}),Rs(function(v){o(v)})],t.mode==="normal"?[vt(Qs(),function(v){Rr(v,TC)}),vt(f2(),function(v){Rr(v,OC)}),vt(Gf(),function(v){Rr(v,TC)}),vt(u2(),function(v){Rr(v,OC)})]:[vt(h2(),function(v,g){Rr(v,TC)}),vt(wb(),function(v){Rr(v,OC)})]]))},e4=Object.freeze({__proto__:null,events:LN}),uR=[it("lazySink"),it("tooltipDom"),Te("exclusive",!0),Te("tooltipComponents",[]),Te("delay",300),As("mode","normal",["normal","follow-highlight"]),Te("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:ve([Bo,Nu,Wi,pu,Yo,bu]),onRtl:ve([Bo,Nu,Wi,pu,Yo,bu])}}}),Nr("onHide"),Nr("onShow")],FN=function(){var t=io(),r=io(),o=function(){t.on(clearTimeout)},s=function(g,y){o(),t.set(setTimeout(g,y))},v=ve("not-implemented");return Ui({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:o,resetTimer:s,readState:v})},sR=Object.freeze({__proto__:null,init:FN}),t4=Wo({fields:uR,name:"tooltipping",active:e4,state:sR,apis:zN}),lR=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},py=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),HN=tinymce.util.Tools.resolve("tinymce.EditorManager"),VN=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var s=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=HN.baseURL+"/skins/ui/"+s}return o},UN=function(t){return t.getParam("readonly",!1,"boolean")},WN=function(t){return t.getParam("skin")===!1},Sk=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},xk=function(t){return t.getParam("width",py.DOM.getStyle(t.getElement(),"width"))},n4=function(t){return P.from(t.getParam("min_width")).filter(oe)},cR=function(t){return P.from(t.getParam("min_height")).filter(oe)},_k=function(t){return P.from(t.getParam("max_width")).filter(oe)},fR=function(t){return P.from(t.getParam("max_height")).filter(oe)},jN=function(t){return P.from(t.getParam("style_formats")).filter(B)},GN=function(t){return t.getParam("style_formats_merge",!1,"boolean")},vR=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},dR=function(t){return t.getParam("content_langs",void 0,"array")},mR=function(t){return t.getParam("removed_menuitems","")},r4=function(t){return t.getParam("menubar",!0,"boolean")!==!1},a4=function(t){var r=t.getParam("toolbar",!0),o=r===!0,s=E(r),v=B(r)&&r.length>0;return!kk(t)&&(v||s||o)},hR=function(t){var r=K(9,function(s){return t.getParam("toolbar"+(s+1),!1,"string")}),o=pe(r,function(s){return typeof s=="string"});return o.length>0?P.some(o):P.none()},kk=function(t){return hR(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},Qt)},Il;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Il||(Il={}));var DC=function(t){return t.getParam("toolbar_mode","","string")},b1;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(b1||(b1={}));var qN=function(t){return t.getParam("toolbar_groups",{},"object")},gR=function(t){return t.getParam("toolbar_location",b1.auto,"string")},pR=function(t){return gR(t)===b1.bottom},KN=function(t){return t.getParam("fixed_toolbar_container","","string")},bR=function(t){return t.getParam("fixed_toolbar_container_target")},XN=function(t){return t.getParam("toolbar_persist",!1,"boolean")},yR=function(t){if(!t.inline)return P.none();var r=KN(t);if(r.length>0)return Ho(Ni(),r);var o=bR(t);return me(o)?P.some(Gt.fromDom(o)):P.none()},Ak=function(t){return t.inline&&yR(t).isSome()},wR=function(t){var r=yR(t);return r.getOrThunk(function(){return Xl(Cs(Gt.fromDom(t.getElement())))})},CR=function(t){return t.inline&&!r4(t)&&!a4(t)&&!kk(t)},Ek=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!Ak(t)&&!CR(t)},Tk=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},SR=function(t){return t.getParam("draggable_modal",!1,"boolean")},YN=function(t){var r=t.getParam("menu");return r?mr(r,function(o){return Ce(Ce({},o),{items:o.items})}):{}},JN=function(t){return t.getParam("menubar")},ZN=function(t){return t.getParam("toolbar",!0)},QN=function(t){return t.getParam("file_picker_callback")},eI=function(t){return t.getParam("file_picker_types")},o4=function(t){return t.getParam("file_browser_callback_types")},xR=function(t){return t.getParam("typeahead_urls")===!1},_R=function(t){return t.getParam("anchor_top","#top")},tI=function(t){return t.getParam("anchor_bottom","#bottom")},kR=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},i4="silver.readonly",nI=yn([bE("readonly")]),by=function(t,r){var o=t.outerContainer,s=o.element;r&&(t.mothership.broadcastOn([cm()],{target:s}),t.uiMothership.broadcastOn([cm()],{target:s})),t.mothership.broadcastOn([i4],{readonly:r}),t.uiMothership.broadcastOn([i4],{readonly:r})},AR=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&by(r,!0)}),t.on("SwitchMode",function(){return by(r,t.mode.isReadOnly())}),UN(t)&&t.setMode("readonly")},Jo=function(){var t;return Qi.config({channels:(t={},t[i4]={schema:nI,onReceive:function(r,o){Sn.set(r,o.readonly)}},t)})},rI=function(t){return Sn.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},aI=function(t){return Sn.config({disabled:t})},oI=function(t){return Sn.config({disabled:t,disableClass:"tox-tbtn--disabled"})},iI=function(t){return Sn.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},ff={item:rI,button:aI,splitButton:oI,toolbarButton:iI},yy=function(t,r){var o=t.getApi(r);return function(s){s(o)}},y1=function(t,r){return jn(function(o){var s=yy(t,o);s(function(v){var g=t.onSetup(v);ie(g)&&r.set(g)})})},w1=function(t,r){return Rs(function(o){return yy(t,o)(r.get())})},Ok,uI=function(t,r){return os(function(o,s){yy(t,o)(t.onAction),!t.triggersSubmenu&&r===au.CLOSE_ON_EXECUTE&&(Rr(o,Sp()),s.stop())})},sI=(Ok={},Ok[Ts()]=["disabling","alloy.base.behaviour","toggling","item-events"],Ok),xm=Qr,Bg=function(t,r,o,s){var v=_n(Q);return{type:"item",dom:r.dom,components:xm(r.optComponents),data:t.data,eventOrder:sI,hasSubmenu:t.triggersSubmenu,itemBehaviours:It([Gn("item-events",[uI(t,o),y1(t,v),w1(t,v)]),ff.item(function(){return t.disabled||s.isDisabled()}),Jo(),Vn.config({})].concat(t.itemBehaviours))}},_m=function(t){return{value:t.value,meta:Ce({text:t.text.getOr("")},t.meta)}},Dk=tinymce.util.Tools.resolve("tinymce.Env"),lI=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},s=Dk.mac?r:o,v=t.split("+"),g=Ne(v,function(y){var k=y.toLowerCase().trim();return Xr(s,k)?s[k]:y});return Dk.mac?g.join(""):g.join("+")},u4=function(t,r,o){return o===void 0&&(o=[V3]),lv(t,{tag:"div",classes:o},r)},ER=function(t){return{dom:{tag:"div",classes:[U3]},components:[ki(cf.translate(t))]}},TR=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},cI=function(t,r){return{dom:{tag:"div",classes:[U3]},components:[{dom:{tag:t.tag,styles:t.styles},components:[ki(cf.translate(r))]}]}},fI=function(t){return{dom:{tag:"div",classes:[SN],innerHtml:lI(t)}}},OR=function(t){return u4("checkmark",t,[WD])},vI=function(t){return u4("chevron-right",t,[W3])},dI=function(t){return u4("chevron-down",t,[W3])},mI=function(t,r){var o=t.direction==="vertical"?j3:pk,s=t.align==="left"?GD:xN,v=function(){switch(t.valign){case"top":return qD;case"middle":return _N;case"bottom":return kN}};return{dom:{tag:"div",classes:[jD,o,s,v()]},components:r}},hI=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},gI=function(t,r,o){var s="custom",v="remove",g=t.ariaLabel,y=t.value,k=t.iconContent.map(function(D){return jP(D,r.icons,o)}),A=function(){var D=H3,N=k.getOr(""),z=g.map(function(X){return{title:r.translate(X)}}).getOr({}),j={tag:"div",attributes:z,classes:[D]};return y===s?Ce(Ce({},j),{tag:"button",classes:Ht(Ht([],j.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:N}):y===v?Ce(Ce({},j),{classes:Ht(Ht([],j.classes,!0),["tox-swatch--remove"],!1),innerHtml:N}):Ce(Ce({},j),{attributes:Ce(Ce({},j.attributes),{"data-mce-color":y}),styles:{"background-color":y}})};return{dom:A(),optComponents:[]}},DR=function(t){var r=t.map(function(o){return{attributes:{title:cf.translate(o)}}}).getOr({});return Ce({tag:"div",classes:[kC,F3]},r)},RR=function(t,r,o,s){var v={tag:"div",classes:[V3]},g=function(j){return lv(j,v,r.icons,s)},y=function(){return P.some({dom:v})},k=o?t.iconContent.map(g).orThunk(y):P.none(),A=t.checkMark,D=P.from(t.meta).fold(function(){return ER},function(j){return Xr(j,"style")?Xt(cI,j.style):ER}),N=t.htmlContent.fold(function(){return t.textContent.map(D)},function(j){return P.some(TR(j,[U3]))}),z={dom:DR(t.ariaLabel),optComponents:[k,N,t.shortcutContent.map(fI),A,t.caret]};return z},RC=function(t,r,o,s){return s===void 0&&(s=P.none()),t.presets==="color"?gI(t,r,s):RR(t,r,o,s)},BR=function(t,r){return Dn(t,"tooltipWorker").map(function(o){return[t4.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:Fh}}},mode:"follow-highlight",onShow:function(s,v){o(function(g){t4.setComponents(s,[Pb({element:Gt.fromDom(g)})])})}})]}).getOr([])},km=function(t){return py.DOM.encode(t)},$R=function(t,r){var o=cf.translate(t),s=km(o);if(r.length>0){var v=new RegExp(lR(r),"gi");return s.replace(v,function(g){return'<span class="tox-autocompleter-highlight">'+g+"</span>"})}else return s},pI=function(t,r,o,s,v,g,y,k){k===void 0&&(k=!0);var A=RC({presets:s,textContent:P.none(),htmlContent:o?t.text.map(function(D){return $R(D,r)}):P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:t.value},y.providers,k,t.icon);return Bg({data:_m(t),disabled:t.disabled,getApi:ve({}),onAction:function(D){return v(t.value,t.meta)},onSetup:ve(Q),triggersSubmenu:!1,itemBehaviours:BR(t.meta,y)},A,g,y.providers)},Rk=function(t,r){return Ne(t,function(o){switch(o.type){case"cardcontainer":return mI(o,Rk(o.items,r));case"cardimage":return hI(o.src,o.classes,o.alt);case"cardtext":var s=o.name.exists(function(g){return nr(r.cardText.highlightOn,g)}),v=s?P.from(r.cardText.matchText).getOr(""):"";return TR($R(o.text,v),o.classes)}})},Ri=function(t,r,o,s){var v=function(y){return{isDisabled:function(){return Sn.isDisabled(y)},setDisabled:function(k){Sn.set(y,k),yt(tu(y.element,"*"),function(A){y.getSystem().getByDom(A).each(function(D){D.hasConfigured(Sn)&&Sn.set(D,k)})})}}},g={dom:DR(t.label),optComponents:[P.some({dom:{tag:"div",classes:[jD,pk]},components:Rk(t.items,s)})]};return Bg({data:_m(Ce({text:P.none()},t)),disabled:t.disabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(s.itemBehaviours).getOr([])},g,r,o.providers)},bI=function(t,r,o,s,v,g,y,k){k===void 0&&(k=!0);var A=function(N){return{setActive:function(z){Sr.set(N,z)},isActive:function(){return Sr.isOn(N)},isDisabled:function(){return Sn.isDisabled(N)},setDisabled:function(z){return Sn.set(N,z)}}},D=RC({presets:o,textContent:r?t.text:P.none(),htmlContent:P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:P.none(),checkMark:r?P.some(OR(y.icons)):P.none(),caret:P.none(),value:t.value},y,k);return Je(Bg({data:_m(t),disabled:t.disabled,getApi:A,onAction:function(N){return s(t.value)},onSetup:function(N){return N.setActive(v),Q},triggersSubmenu:!1,itemBehaviours:[]},D,g,y),{toggling:{toggleClass:UD,toggleOnExecute:!1,selected:t.active}})},MR=hm(T(),M()),PR=function(t){return{value:t}},NR=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,IR=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,zR=function(t){return NR.test(t)||IR.test(t)},yI=function(t){return hl(t,"#").toUpperCase()},wI=function(t){return zR(t)?P.some({value:yI(t)}):P.none()},CI=function(t){var r=t.value.replace(NR,function(o,s,v,g){return s+s+v+v+g+g});return{value:r}},SI=function(t){var r=CI(t),o=IR.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},s4=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},BC=function(t){var r=s4(t.red)+s4(t.green)+s4(t.blue);return PR(r)},LR=Math.min,FR=Math.max,Bk=Math.round,xI=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,_I=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,$g=function(t,r,o,s){return{red:t,green:r,blue:o,alpha:s}},l4=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},HR=function(t){var r,o,s,v=(t.hue||0)%360,g=t.saturation/100,y=t.value/100;if(g=FR(0,LR(g,1)),y=FR(0,LR(y,1)),g===0)return r=o=s=Bk(255*y),$g(r,o,s,1);var k=v/60,A=y*g,D=A*(1-Math.abs(k%2-1)),N=y-A;switch(Math.floor(k)){case 0:r=A,o=D,s=0;break;case 1:r=D,o=A,s=0;break;case 2:r=0,o=A,s=D;break;case 3:r=0,o=D,s=A;break;case 4:r=D,o=0,s=A;break;case 5:r=A,o=0,s=D;break;default:r=o=s=0}return r=Bk(255*(r+N)),o=Bk(255*(o+N)),s=Bk(255*(s+N)),$g(r,o,s,1)},$C=function(t){var r=SI(t),o=parseInt(r[1],16),s=parseInt(r[2],16),v=parseInt(r[3],16);return $g(o,s,v,1)},VR=function(t,r,o,s){var v=parseInt(t,10),g=parseInt(r,10),y=parseInt(o,10),k=parseFloat(s);return $g(v,g,y,k)},UR=function(t){if(t==="transparent")return P.some($g(0,0,0,0));var r=xI.exec(t);if(r!==null)return P.some(VR(r[1],r[2],r[3],"1"));var o=_I.exec(t);return o!==null?P.some(VR(o[1],o[2],o[3],o[4])):P.none()},WR=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},jR=$g(255,0,0,1),kI=function(t){return t.fire("SkinLoaded")},GR=function(t,r){return t.fire("SkinLoadError",r)},AI=function(t){return t.fire("ResizeEditor")},c4=function(t,r){return t.fire("ResizeContent",r)},EI=function(t,r){return t.fire("ScrollContent",r)},qR=function(t,r){return t.fire("TextColorChange",r)},MC=function(t,r,o){return{hue:t,saturation:r,value:o}},f4=function(t){var r=0,o=0,s=0,v=t.red/255,g=t.green/255,y=t.blue/255,k=Math.min(v,Math.min(g,y)),A=Math.max(v,Math.max(g,y));if(k===A)return s=k,MC(0,0,s*100);var D=v===k?g-y:y===k?v-g:y-v;return r=v===k?3:y===k?1:5,r=60*(r-D/(A-k)),o=(A-k)/A,s=A,MC(Math.round(r),Math.round(o*100),Math.round(s*100))},TI=function(t){return f4($C(t))},KR=function(t){return BC(HR(t))},XR=function(t){return wI(t).orThunk(function(){return UR(t).map(BC)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data,v=s[0],g=s[1],y=s[2],k=s[3];return BC($g(v,g,y,k))})},$k=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),v4="tinymce-custom-colors";function YR(t){t===void 0&&(t=10);var r=$k.getItem(v4),o=E(r)?JSON.parse(r):[],s=function(A){var D=t-A.length;return D<0?A.slice(0,t):A},v=s(o),g=function(A){Xi(v,A).each(y),v.unshift(A),v.length>t&&v.pop(),$k.setItem(v4,JSON.stringify(v))},y=function(A){v.splice(A,1)},k=function(){return v.slice(0)};return{add:g,state:k}}var vi="choiceitem",JR=[{type:vi,text:"Light Green",value:"#BFEDD2"},{type:vi,text:"Light Yellow",value:"#FBEEB8"},{type:vi,text:"Light Red",value:"#F8CAC6"},{type:vi,text:"Light Purple",value:"#ECCAFA"},{type:vi,text:"Light Blue",value:"#C2E0F4"},{type:vi,text:"Green",value:"#2DC26B"},{type:vi,text:"Yellow",value:"#F1C40F"},{type:vi,text:"Red",value:"#E03E2D"},{type:vi,text:"Purple",value:"#B96AD9"},{type:vi,text:"Blue",value:"#3598DB"},{type:vi,text:"Dark Turquoise",value:"#169179"},{type:vi,text:"Orange",value:"#E67E23"},{type:vi,text:"Dark Red",value:"#BA372A"},{type:vi,text:"Dark Purple",value:"#843FA1"},{type:vi,text:"Dark Blue",value:"#236FA1"},{type:vi,text:"Light Gray",value:"#ECF0F1"},{type:vi,text:"Medium Gray",value:"#CED4D9"},{type:vi,text:"Gray",value:"#95A5A6"},{type:vi,text:"Dark Gray",value:"#7E8C8D"},{type:vi,text:"Navy Blue",value:"#34495E"},{type:vi,text:"Black",value:"#000000"},{type:vi,text:"White",value:"#ffffff"}],ZR=YR(10),OI=function(t){for(var r=[],o=0;o<t.length;o+=2)r.push({text:t[o+1],value:"#"+XR(t[o]).value,type:"choiceitem"});return r},DI=function(t,r){return t.getParam("color_cols",r,"number")},QR=function(t){return t.getParam("custom_colors")!==!1},RI=function(t){return t.getParam("color_map")},d4=function(t){var r=RI(t);return r!==void 0?OI(r):JR},m4=function(){return Ne(ZR.state(),function(t){return{type:vi,text:t,value:t}})},h4=function(t){ZR.add(t)},g4="#000000",eB=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(s){var v;(v=s.style[r==="forecolor"?"color":"background-color"])&&(o=o||v)}),P.from(o)},BI=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},$I=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},p4=function(t){t.addCommand("mceApplyTextcolor",function(r,o){BI(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){$I(t,r)})},MI=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},tB=function(t){var r=d4(t),o=MI(r.length);return DI(t,o)},nB=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,s]:[o]},PC=function(t,r,o,s){if(o==="custom"){var v=iB(t);v(function(g){g.each(function(y){h4(y),t.execCommand("mceApplyTextcolor",r,y),s(y)})},g4)}else o==="remove"?(s(""),t.execCommand("mceRemoveTextcolor",r)):(s(o),t.execCommand("mceApplyTextcolor",r,o))},rB=function(t,r){return t.concat(m4().concat(nB(r)))},b4=function(t,r){return function(o){o(rB(t,r))}},aB=function(t,r,o){var s=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(s,o)},wy=function(t,r,o,s,v){t.ui.registry.addSplitButton(r,{tooltip:s,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(g){var y=eB(t,o);return y.bind(function(k){return UR(k).map(function(A){var D=BC(A).value;return aa(g.toLowerCase(),D)})}).getOr(!1)},columns:tB(t),fetch:b4(d4(t),QR(t)),onAction:function(g){PC(t,o,v.get(),Q)},onItemAction:function(g,y){PC(t,o,y,function(k){v.set(k),qR(t,{name:r,color:k})})},onSetup:function(g){aB(g,r,v.get());var y=function(k){k.name===r&&aB(g,k.name,k.color)};return t.on("TextColorChange",y),function(){t.off("TextColorChange",y)}}})},oB=function(t,r,o,s){t.ui.registry.addNestedMenuItem(r,{text:s,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(v){PC(t,o,v.value,Q)}}]}})},iB=function(t){return function(r,o){var s=!1,v=function(k){var A=k.getData(),D=A.colorpicker;s?(r(P.from(D)),k.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",D]))},g=function(k,A){A.name==="hex-valid"&&(s=A.value)},y={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:y,onAction:g,onSubmit:v,onClose:Q,onCancel:function(){r(P.none())}})}},PI=function(t){p4(t);var r=_n(g4),o=_n(g4);wy(t,"forecolor","forecolor","Text color",r),wy(t,"backcolor","hilitecolor","Background color",o),oB(t,"forecolor","forecolor","Text color"),oB(t,"backcolor","hilitecolor","Background color")},y4=function(t,r,o,s,v,g,y,k){var A=EC(r),D=v!=="color"?"normal":"color",N=NI(r,o,s,D,g,y,k);return K3(t,A,N,s,v)},NI=function(t,r,o,s,v,g,y){return Qr(Ne(t,function(k){return k.type==="choiceitem"?tR(k).fold(pd,function(A){return P.some(bI(A,o===1,s,r,g(k.value),v,y,EC(t)))}):P.none()}))},Mk=function(t,r){var o=dy(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var s=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},uB=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+H3:"."+F3}}},sB=function(t,r){var o=lB(t,r),s=r.colorinput.getColorCols(),v="color",g=y4(ln("menu-value"),o,function(k){t.onAction({value:k})},s,v,au.CLOSE_ON_EXECUTE,Cn,r.shared.providers),y=Ce(Ce({},g),{markers:dy(v),movement:Mk(s,v)});return{type:"widget",data:{value:ln("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[MR.widget(gn.sketch(y))]}},lB=function(t,r){var o=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return rB(r.colorinput.getColors(),o)},function(s){return s.concat(nB(o))})},cB=ln("cell-over"),Pk=ln("cell-execute"),II=function(t,r,o){var s,v=function(k){return kn(k,cB,{row:t,col:r})},g=function(k){return kn(k,Pk,{row:t,col:r})},y=function(k,A){A.stop(),g(k)};return $a({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=o,s)},behaviours:It([Gn("insert-table-picker-cell",[vt(Gf(),Ln.focus),vt(Ts(),g),vt(wh(),y),vt(Nv(),y)]),Sr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Ln.config({onFocus:v})])})},zI=function(t,r,o){for(var s=[],v=0;v<r;v++){for(var g=[],y=0;y<o;y++)g.push(II(v,y,t));s.push(g)}return s},LI=function(t,r,o,s,v){for(var g=0;g<s;g++)for(var y=0;y<v;y++)Sr.set(t[g][y],g<=r&&y<=o)},FI=function(t){return qt(t,function(r){return Ne(r,Ps)})},fB=function(t,r){return ki(r+"x"+t)},HI=function(t){var r=10,o=10,s=ln("size-label"),v=zI(s,r,o),g=fB(0,0),y=qr({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[g],behaviours:It([Vn.config({})])});return{type:"widget",data:{value:ln("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[MR.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:FI(v).concat(y.asSpec()),behaviours:It([Gn("insert-table-picker",[jn(function(k){Vn.set(y.get(k),[g])}),zv(cB,function(k,A,D){var N=D.event,z=N.row,j=N.col;LI(v,z,j,r,o),Vn.set(y.get(k),[fB(z+1,j+1)])}),zv(Pk,function(k,A,D){var N=D.event,z=N.row,j=N.col;t.onAction({numRows:z+1,numColumns:j+1}),Rr(k,Sp())})]),Tn.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},VI={inserttable:HI,colorswatch:sB},UI=function(t,r){return Dn(VI,t.fancytype).map(function(o){return o(t,r)})},WI=function(t,r,o,s,v){s===void 0&&(s=!0),v===void 0&&(v=!1);var g=v?dI(o.icons):vI(o.icons),y=function(A){return{isDisabled:function(){return Sn.isDisabled(A)},setDisabled:function(D){return Sn.set(A,D)}}},k=RC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.some(g),checkMark:P.none(),shortcutContent:t.shortcut},o,s);return Bg({data:_m(t),getApi:y,disabled:t.disabled,onAction:Q,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},k,r,o)},jI=function(t,r,o,s){s===void 0&&(s=!0);var v=function(y){return{isDisabled:function(){return Sn.isDisabled(y)},setDisabled:function(k){return Sn.set(y,k)}}},g=RC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.none(),checkMark:P.none(),shortcutContent:t.shortcut},o,s);return Bg({data:_m(t),getApi:v,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,o)},GI=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:Ce({tag:"div",classes:[F3,vy]},r),components:[]}},qI=function(t,r,o,s){s===void 0&&(s=!0);var v=function(y){return{setActive:function(k){Sr.set(y,k)},isActive:function(){return Sr.isOn(y)},isDisabled:function(){return Sn.isDisabled(y)},setDisabled:function(k){return Sn.set(y,k)}}},g=RC({iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,checkMark:P.some(OR(o.icons)),caret:P.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,s);return Je(Bg({data:_m(t),disabled:t.disabled,getApi:v,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,o),{toggling:{toggleClass:UD,toggleOnExecute:!1,selected:t.active}})},vB=pI,dB=GI,KI=jI,w4=WI,Nk=qI,XI=UI,Ik=Ri,NC;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(NC||(NC={}));var YI=function(t,r,o,s,v){var g=o.shared.providers,y=function(k){return v?Ce(Ce({},k),{shortcut:P.none(),icon:k.text.isSome()?P.none():k.icon}):k};switch(t.type){case"menuitem":return PN(t).fold(pd,function(k){return P.some(KI(y(k),r,g,s))});case"nestedmenuitem":return gy(t).fold(pd,function(k){return P.some(w4(y(k),r,g,s,v))});case"togglemenuitem":return IN(t).fold(pd,function(k){return P.some(Nk(y(k),r,g,s))});case"separator":return lN(t).fold(pd,function(k){return P.some(dB(k))});case"fancymenuitem":return MN(t).fold(pd,function(k){return XI(y(k),o)});default:return console.error("Unknown item in general menu",t),P.none()}},JI=function(t,r,o,s,v,g,y){var k=s===1,A=!k||EC(t);return Qr(Ne(t,function(D){switch(D.type){case"separator":return vN(D).fold(pd,function(N){return P.some(dB(N))});case"cardmenuitem":return BN(D).fold(pd,function(N){return P.some(Ik(Ce(Ce({},N),{onAction:function(z){N.onAction(z),o(N.value,N.meta)}}),v,g,{itemBehaviours:BR(N.meta,g),cardText:{matchText:r,highlightOn:y}}))});case"autocompleteitem":default:return dN(D).fold(pd,function(N){return P.some(vB(N,r,k,"normal",o,v,g,A))})}}))},mB=function(t,r,o,s,v){var g=EC(r),y=Qr(Ne(r,function(A){var D=function(z){return v?!Xr(z,"text"):g},N=function(z){return YI(z,o,s,D(z),v)};return A.type==="nestedmenuitem"&&A.getSubmenuItems().length<=0?N(Ce(Ce({},A),{disabled:!0})):N(A)})),k=v?JD:K3;return k(t,g,y,1,"normal")},hB=function(t){return ra.singleData(t.value,t)},ZI=function(t,r,o,s){var v=o===NC.ContentFocus?b_():o1(),g=Mk(r,s),y=dy(s);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:y.selectedItem,item:y.item},movement:g,fakeFocus:o===NC.ContentFocus,focusManager:v,menuBehaviours:wk.unnamedEvents(r!=="auto"?[]:[jn(function(k,A){Z3(k,4,y.item).each(function(D){var N=D.numColumns,z=D.numRows;Tn.setGridSize(k,z,N)})})])}},gB=function(t,r){var o=io(),s=_n(!1),v=$a(ea.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:It([Gn("dismissAutocompleter",[vt(Tl(),function(){return A()})])]),lazySink:r.getSink})),g=function(){return ea.isOpen(v)},y=function(){return o.get().isSome()},k=function(){y()&&ea.hide(v)},A=function(){if(y()){var ce=o.get().map(function(Ee){return Ee.element});dk(ce.getOr(Gt.fromDom(t.selection.getNode()))).each(oh),k(),o.clear(),s.set(!1)}},D=Xu(function(){return L3(t)}),N=function(ce,Ee){var Ge=Pa(Ee,function(We){return P.from(We.columns)}).getOr(1);return qt(Ee,function(We){var Ae=We.items;return JI(Ae,We.matchText,function(Le,at){var Wt=t.selection.getRng();$3(t.dom,Wt,ce).fold(function(){return console.error("Lost context. Cursor probably moved")},function(ct){var Kt=ct.range,mt={hide:function(){A()},reload:function(nt){k(),ne(nt)}};s.set(!0),We.onAction(mt,Kt,Le,at),s.set(!1)})},Ge,au.BUBBLE_TO_SANDBOX,r,We.highlightOn)})},z=function(ce){if(!y()){var Ee=QP(t,ce.range);o.set({triggerChar:ce.triggerChar,element:Ee,matchLength:ce.text.length}),s.set(!1)}},j=function(ce,Ee,Ge,We){ce.matchLength=Ee.text.length;var Ae=Pa(Ge,function(Le){return P.from(Le.columns)}).getOr(1);ea.showAt(v,gn.sketch(ZI(K3("autocompleter-value",!0,We,Ae,"normal"),Ae,NC.ContentFocus,"normal")),{anchor:{type:"node",root:Gt.fromDom(t.getBody()),node:P.from(ce.element)}}),ea.getContent(v).each(Wr.highlightFirst)},X=function(ce){return o.get().map(function(Ee){return $3(t.dom,t.selection.getRng(),Ee.triggerChar).bind(function(Ge){return ID(t,D,Ge,ce)})}).getOrThunk(function(){return sN(t,D)})},ne=function(ce){X(ce).fold(A,function(Ee){z(Ee.context),Ee.lookupData.then(function(Ge){o.get().map(function(We){var Ae=Ee.context;if(We.triggerChar===Ae.triggerChar){var Le=N(Ae.triggerChar,Ge);Le.length>0?j(We,Ae,Ge,Le):Ae.text.length-We.matchLength>=10?A():k()}})})})},de=D3(function(ce){ce.which!==27&&ne()},50),ke={onKeypress:de,cancelIfNecessary:A,isMenuOpen:g,isActive:y,isProcessingAction:s.get,getView:function(){return ea.getContent(v)}};t.hasPlugin("rtc")===!1&&PD.setup(ke,t)},QI={register:gB},IC=function(t,r,o){return nl(t,r,o).isSome()},pB=function(t,r){var o=null,s=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];o=setTimeout(function(){t.apply(null,g),o=null},r)},v=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:v,schedule:s}},bB=5,ez=400,yB=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?P.none():P.some(r.touches[0])},tz=function(t,r){var o=Math.abs(t.clientX-r.x),s=Math.abs(t.clientY-r.y);return o>bB||s>bB},C4=function(t){var r=io(),o=_n(!1),s=pB(function(D){t.triggerEvent(pb(),D),o.set(!0)},ez),v=function(D){return yB(D).each(function(N){s.cancel();var z={x:N.clientX,y:N.clientY,target:D.target};s.schedule(D),o.set(!1),r.set(z)}),P.none()},g=function(D){return s.cancel(),yB(D).each(function(N){r.on(function(z){tz(N,z)&&r.clear()})}),P.none()},y=function(D){s.cancel();var N=function(z){return da(z.target,D.target)};return r.get().filter(N).map(function(z){return o.get()?(D.prevent(),!1):t.triggerEvent(Nv(),D)})},k=jf([{key:Hc(),value:v},{key:Al(),value:g},{key:Mv(),value:y}]),A=function(D,N){return Dn(k,N).bind(function(z){return z(D)})};return{fireIfReady:A}},nz=function(t){var r=t.raw;return r.which===L0[0]&&!nr(["input","textarea"],Ku(t.target))&&!IC(t.target,'[contenteditable="true"]')},S4=function(){return Rn().browser.isFirefox()},rz=function(t,r){return S4()?r0(t,"focus",r):mo(t,"focusin",r)},az=function(t,r){return S4()?r0(t,"blur",r):mo(t,"focusout",r)},wB=function(t,r){var o=Ce({stopBackspace:!0},r),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],v=C4(o),g=Ne(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(X){return mo(t,X,function(ne){v.fireIfReady(ne,X).each(function(ke){ke&&ne.kill()});var de=o.triggerEvent(X,ne);de&&ne.kill()})}),y=io(),k=mo(t,"paste",function(X){v.fireIfReady(X,"paste").each(function(de){de&&X.kill()});var ne=o.triggerEvent("paste",X);ne&&X.kill(),y.set(setTimeout(function(){o.triggerEvent(v2(),X)},0))}),A=mo(t,"keydown",function(X){var ne=o.triggerEvent("keydown",X);ne?X.kill():o.stopBackspace&&nz(X)&&X.prevent()}),D=rz(t,function(X){var ne=o.triggerEvent("focusin",X);ne&&X.kill()}),N=io(),z=az(t,function(X){var ne=o.triggerEvent("focusout",X);ne&&X.kill(),N.set(setTimeout(function(){o.triggerEvent(f2(),X)},0))}),j=function(){yt(g,function(X){X.unbind()}),A.unbind(),D.unbind(),z.unbind(),k.unbind(),y.on(clearTimeout),N.on(clearTimeout)};return{unbind:j}},Cy=function(t,r){var o=Dn(t,"target").getOr(r);return _n(o)},oz=function(t,r){var o=_n(!1),s=_n(!1),v=function(){o.set(!0)},g=function(){s.set(!0)};return{stop:v,cut:g,isStopped:o.get,isCut:s.get,event:t,setSource:r.set,getSource:r.get}},iz=function(t){var r=_n(!1),o=function(){r.set(!0)};return{stop:o,cut:Q,isStopped:r.get,isCut:Cn,event:t,setSource:Nt("Cannot set source of a broadcasted event"),getSource:Nt("Cannot get source of a broadcasted event")}},zC=Es.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),LC=function(t,r,o,s,v,g){var y=t(r,s),k=oz(o,v);return y.fold(function(){return g.logEventNoHandlers(r,s),zC.complete()},function(A){var D=A.descHandler,N=x2(D);return N(k),k.isStopped()?(g.logEventStopped(r,A.element,D.purpose),zC.stopped()):k.isCut()?(g.logEventCut(r,A.element,D.purpose),zC.complete()):bo(A.element).fold(function(){return g.logNoParent(r,A.element,D.purpose),zC.complete()},function(z){return g.logEventResponse(r,A.element,D.purpose),zC.resume(z)})})},CB=function(t,r,o,s,v,g){return LC(t,r,o,s,v,g).fold(Qt,function(y){return CB(t,r,o,y,v,g)},Cn)},uz=function(t,r,o,s,v){var g=Cy(o,s);return LC(t,r,o,s,g,v)},SB=function(t,r,o){var s=iz(r);return yt(t,function(v){var g=v.descHandler,y=x2(g);y(s)}),s.isStopped()},sz=function(t,r,o,s){return xB(t,r,o,o.target,s)},xB=function(t,r,o,s,v){var g=Cy(o,s);return CB(t,r,o,s,g,v)},lz=function(t,r){return{element:t,descHandler:r}},cz=function(t,r){return{id:t,descHandler:r}},fz=function(){var t={},r=function(y,k,A){Sa(A,function(D,N){var z=t[N]!==void 0?t[N]:{};z[k]=S2(D,y),t[N]=z})},o=function(y,k){return Hv(k).bind(function(A){return Dn(y,A)}).map(function(A){return lz(k,A)})},s=function(y){return Dn(t,y).map(function(k){return ps(k,function(A,D){return cz(D,A)})}).getOr([])},v=function(y,k,A){return Dn(t,k).bind(function(D){return ph(A,function(N){return o(D,N)},y)})},g=function(y){Sa(t,function(k,A){Xr(k,y)&&delete k[y]})};return{registerId:r,unregisterId:g,filterByType:s,find:v}},vz=function(){var t=fz(),r={},o=function(D){var N=D.element;return Hv(N).getOrThunk(function(){return ZS("uid-",D.element)})},s=function(D,N){var z=r[N];if(z===D)g(D);else throw new Error('The tagId "'+N+'" is already used by: '+du(z.element)+`
Cannot use it for: `+du(D.element)+`
The conflicting element is`+(uu(z.element)?" ":" not ")+"already in the DOM")},v=function(D){var N=o(D);ni(r,N)&&s(D,N);var z=[D];t.registerId(z,N,D.events),r[N]=D},g=function(D){Hv(D.element).each(function(N){delete r[N],t.unregisterId(N)})},y=function(D){return t.filterByType(D)},k=function(D,N,z){return t.find(D,N,z)},A=function(D){return Dn(r,D)};return{find:k,filter:y,register:v,unregister:g,getById:A}},dz=function(t){var r=t.dom,o=r.attributes,s=Y(r,["attributes"]);return{uid:t.uid,dom:Ce({tag:"div",attributes:Ce({role:"presentation"},o)},s),components:t.components,behaviours:ug(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},Cu=Is({name:"Container",factory:dz,configFields:[Te("components",[]),jo("containerBehaviours",[]),Te("events",{}),Te("domModification",{}),Te("eventOrder",{})]}),_B=function(t){var r=function(ce){return bo(t.element).fold(Qt,function(Ee){return da(ce,Ee)})},o=vz(),s=function(ce,Ee){return o.find(r,ce,Ee)},v=wB(t.element,{triggerEvent:function(ce,Ee){return D2(ce,Ee.target,function(Ge){return sz(s,ce,Ee,Ge)})}}),g={debugInfo:ve("real"),triggerEvent:function(ce,Ee,Ge){D2(ce,Ee,function(We){return xB(s,ce,Ge,Ee,We)})},triggerFocus:function(ce,Ee){Hv(ce).fold(function(){lc(ce)},function(Ge){D2(Pv(),ce,function(We){return uz(s,Pv(),{originator:Ee,kill:Q,prevent:Q,target:ce},ce,We),!1})})},triggerEscape:function(ce,Ee){g.triggerEvent("keydown",ce.element,Ee.event)},getByUid:function(ce){return de(ce)},getByDom:function(ce){return ke(ce)},build:$a,addToGui:function(ce){A(ce)},removeFromGui:function(ce){D(ce)},addToWorld:function(ce){y(ce)},removeFromWorld:function(ce){k(ce)},broadcast:function(ce){j(ce)},broadcastOn:function(ce,Ee){X(ce,Ee)},broadcastEvent:function(ce,Ee){ne(ce,Ee)},isConnected:Qt},y=function(ce){ce.connect(g),Eu(ce.element)||(o.register(ce),yt(ce.components(),y),g.triggerEvent(Fd(),ce.element,{target:ce.element}))},k=function(ce){Eu(ce.element)||(yt(ce.components(),k),o.unregister(ce)),ce.disconnect()},A=function(ce){sm(t,ce)},D=function(ce){mc(ce)},N=function(){v.unbind(),Du(t.element)},z=function(ce){var Ee=o.filter(el());yt(Ee,function(Ge){var We=Ge.descHandler,Ae=x2(We);Ae(ce)})},j=function(ce){z({universal:!0,data:ce})},X=function(ce,Ee){z({universal:!1,channels:ce,data:Ee})},ne=function(ce,Ee){var Ge=o.filter(ce);return SB(Ge,Ee)},de=function(ce){return o.getById(ce).fold(function(){return Yn.error(new Error('Could not find component with uid: "'+ce+'" in system.'))},Yn.value)},ke=function(ce){var Ee=Hv(ce).getOr("not found");return de(Ee)};return y(t),{root:t,element:t.element,destroy:N,add:A,remove:D,getByUid:de,getByDom:ke,addToWorld:y,removeFromWorld:k,broadcast:j,broadcastOn:X,broadcastEvent:ne}},C1=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ne(t.items,r.interpreter)}},mz=ve([Te("prefix","form-field"),jo("fieldBehaviours",[fr,Ut])]),hz=ve([ol({schema:[it("dom")],name:"label"}),ol({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[it("text")],name:"aria-descriptor"}),Di({factory:{sketch:function(t){var r=a2(t,["factory"]);return t.factory.sketch(r)}},schema:[it("factory")],name:"field"})]),gz=function(t,r,o,s){var v=si(t.fieldBehaviours,[fr.config({find:function(k){return ua(k,t,"field")}}),Ut.config({store:{mode:"manual",getValue:function(k){return fr.getCurrent(k).bind(Ut.getValue)},setValue:function(k,A){fr.getCurrent(k).each(function(D){Ut.setValue(D,A)})}}})]),g=va([jn(function(k,A){var D=n_(k,t,["label","field","aria-descriptor"]);D.field().each(function(N){var z=ln(t.prefix);D.label().each(function(j){Xn(j.element,"for",z),Xn(N.element,"id",z)}),D["aria-descriptor"]().each(function(j){var X=ln(t.prefix);Xn(j.element,"id",X),Xn(N.element,"aria-describedby",X)})})})]),y={getField:function(k){return ua(k,t,"field")},getLabel:function(k){return ua(k,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:v,events:g,apis:y}},Ir=wu({name:"FormField",configFields:mz(),partFields:hz(),factory:gz,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),zk=function(t,r){return Dl({attributes:jf([{key:r.tabAttr,value:"true"}])})},kB=Object.freeze({__proto__:null,exhibit:zk}),AB=[Te("tabAttr","data-alloy-tabstop")],xo=Wo({fields:AB,name:"tabstopping",active:kB}),pz=tinymce.util.Tools.resolve("tinymce.html.Entities"),FC=function(t,r,o,s){var v=yz(t,r,o,s);return Ir.sketch(v)},bz=function(t,r){return FC(t,r,[],[])},yz=function(t,r,o,s){return{dom:EB(o),components:t.toArray().concat([r]),fieldBehaviours:It(s)}},wz=function(){return EB([])},EB=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},Am=function(t,r){return Ir.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},zl=ln("form-component-change"),HC=ln("form-close"),S1=ln("form-cancel"),cv=ln("form-action"),sl=ln("form-submit"),bd=ln("form-block"),x4=ln("form-unblock"),_4=ln("form-tabchange"),k4=ln("form-resize"),Lk=function(t,r){var o,s=t.label.map(function(z){return Am(z,r)}),v=function(z){return function(j,X){nl(X.event.target,"[data-collection-item-value]").each(function(ne){z(j,X,ne,Ra(ne,"data-collection-item-value"))})}},g=function(z,j){var X=Ne(j,function(ke){var ce=cf.translate(ke.text),Ee=t.columns===1?'<div class="tox-collection__item-label">'+ce+"</div>":"",Ge='<div class="tox-collection__item-icon">'+ke.icon+"</div>",We={_:" "," - ":" ","-":" "},Ae=ce.replace(/\_| \- |\-/g,function(at){return We[at]}),Le=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+Le+'" tabindex="-1" data-collection-item-value="'+pz.encodeAllRaw(ke.value)+'" title="'+Ae+'" aria-label="'+Ae+'">'+Ge+Ee+"</div>"}),ne=t.columns!=="auto"&&t.columns>1?En(X,t.columns):[X],de=Ne(ne,function(ke){return'<div class="tox-collection__group">'+ke.join("")+"</div>"});Kf(z.element,de.join(""))},y=v(function(z,j,X,ne){j.stop(),r.isDisabled()||kn(z,cv,{name:t.name,value:ne})}),k=[vt(Gf(),v(function(z,j,X){lc(X)})),vt(wh(),y),vt(Nv(),y),vt(Qs(),v(function(z,j,X){Ho(z.element,"."+g1).each(function(ne){Ro(ne,g1)}),Fo(X,g1)})),vt(Si(),v(function(z){Ho(z.element,"."+g1).each(function(j){Ro(j,g1)})})),os(v(function(z,j,X,ne){kn(z,cv,{name:t.name,value:ne})}))],A=function(z,j){return Ne(tu(z.element,".tox-collection__item"),j)},D=Ir.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:tt},behaviours:It([Sn.config({disabled:r.isDisabled,onDisabled:function(z){A(z,function(j){Fo(j,"tox-collection__item--state-disabled"),Xn(j,"aria-disabled",!0)})},onEnabled:function(z){A(z,function(j){Ro(j,"tox-collection__item--state-disabled"),ai(j,"aria-disabled")})}}),Jo(),Vn.config({}),Ut.config({store:{mode:"memory",initialValue:[]},onSetValue:function(z,j){g(z,j),t.columns==="auto"&&Z3(z,5,"tox-collection__item").each(function(X){var ne=X.numRows,de=X.numColumns;Tn.setGridSize(z,ne,de)}),Rr(z,k4)}}),xo.config({}),Tn.config(uB(t.columns,"normal")),Gn("collection-events",k)]),eventOrder:(o={},o[Ts()]=["disabling","alloy.base.behaviour","collection-events"],o)}),N=["tox-form__group--collection"];return FC(s,D,N,[])},TB=ve([Pr("data"),Te("inputAttributes",{}),Te("inputStyles",{}),Te("tag","input"),Te("inputClasses",[]),Nr("onSetValue"),Te("styles",{}),Te("eventOrder",{}),jo("inputBehaviours",[Ut,Ln]),Te("selectOnFocus",!0)]),Fk=function(t){return It([Ln.config({onFocus:t.selectOnFocus?function(r){var o=r.element,s=Gc(o);o.dom.setSelectionRange(0,s.length)}:Q})])},A4=function(t){return Ce(Ce({},Fk(t)),si(t.inputBehaviours,[Ut.config({store:Ce(Ce({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return Gc(r.element)},setValue:function(r,o){var s=Gc(r.element);s!==o&&Th(r.element,o)}}),onSetValue:t.onSetValue})]))},Hk=function(t){return{tag:t.tag,attributes:Ce({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},Cz=function(t,r){return{uid:t.uid,dom:Hk(t),components:[],behaviours:A4(t),eventOrder:t.eventOrder}},VC=Is({name:"Input",configFields:TB(),factory:Cz}),OB={},UC={exports:OB};(function(t,r,o,s){(function(v,g){typeof r=="object"&&typeof o<"u"?o.exports=g():typeof t=="function"&&t.amd?t(g):(v=typeof globalThis<"u"?globalThis:v||self,v.EphoxContactWrapper=g())})(this,function(){var v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof gP<"u"?gP:typeof self<"u"?self:{},g={exports:{}};(function(D){(function(N){var z=setTimeout;function j(){}function X(Ae,Le){return function(){Ae.apply(Le,arguments)}}function ne(Ae){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Ae!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],We(Ae,this)}function de(Ae,Le){for(;Ae._state===3;)Ae=Ae._value;if(Ae._state===0){Ae._deferreds.push(Le);return}Ae._handled=!0,ne._immediateFn(function(){var at=Ae._state===1?Le.onFulfilled:Le.onRejected;if(at===null){(Ae._state===1?ke:ce)(Le.promise,Ae._value);return}var Wt;try{Wt=at(Ae._value)}catch(ct){ce(Le.promise,ct);return}ke(Le.promise,Wt)})}function ke(Ae,Le){try{if(Le===Ae)throw new TypeError("A promise cannot be resolved with itself.");if(Le&&(typeof Le=="object"||typeof Le=="function")){var at=Le.then;if(Le instanceof ne){Ae._state=3,Ae._value=Le,Ee(Ae);return}else if(typeof at=="function"){We(X(at,Le),Ae);return}}Ae._state=1,Ae._value=Le,Ee(Ae)}catch(Wt){ce(Ae,Wt)}}function ce(Ae,Le){Ae._state=2,Ae._value=Le,Ee(Ae)}function Ee(Ae){Ae._state===2&&Ae._deferreds.length===0&&ne._immediateFn(function(){Ae._handled||ne._unhandledRejectionFn(Ae._value)});for(var Le=0,at=Ae._deferreds.length;Le<at;Le++)de(Ae,Ae._deferreds[Le]);Ae._deferreds=null}function Ge(Ae,Le,at){this.onFulfilled=typeof Ae=="function"?Ae:null,this.onRejected=typeof Le=="function"?Le:null,this.promise=at}function We(Ae,Le){var at=!1;try{Ae(function(Wt){at||(at=!0,ke(Le,Wt))},function(Wt){at||(at=!0,ce(Le,Wt))})}catch(Wt){if(at)return;at=!0,ce(Le,Wt)}}ne.prototype.catch=function(Ae){return this.then(null,Ae)},ne.prototype.then=function(Ae,Le){var at=new this.constructor(j);return de(this,new Ge(Ae,Le,at)),at},ne.all=function(Ae){var Le=Array.prototype.slice.call(Ae);return new ne(function(at,Wt){if(Le.length===0)return at([]);var ct=Le.length;function Kt(nt,Mt){try{if(Mt&&(typeof Mt=="object"||typeof Mt=="function")){var cn=Mt.then;if(typeof cn=="function"){cn.call(Mt,function(lt){Kt(nt,lt)},Wt);return}}Le[nt]=Mt,--ct===0&&at(Le)}catch(lt){Wt(lt)}}for(var mt=0;mt<Le.length;mt++)Kt(mt,Le[mt])})},ne.resolve=function(Ae){return Ae&&typeof Ae=="object"&&Ae.constructor===ne?Ae:new ne(function(Le){Le(Ae)})},ne.reject=function(Ae){return new ne(function(Le,at){at(Ae)})},ne.race=function(Ae){return new ne(function(Le,at){for(var Wt=0,ct=Ae.length;Wt<ct;Wt++)Ae[Wt].then(Le,at)})},ne._immediateFn=typeof setImmediate=="function"?function(Ae){setImmediate(Ae)}:function(Ae){z(Ae,0)},ne._unhandledRejectionFn=function(Le){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Le)},ne._setImmediateFn=function(Le){ne._immediateFn=Le},ne._setUnhandledRejectionFn=function(Le){ne._unhandledRejectionFn=Le},D.exports?D.exports=ne:N.Promise||(N.Promise=ne)})(v)})(g);var y=g.exports,k=function(){return typeof window<"u"?window:Function("return this;")()}(),A={boltExport:k.Promise||y};return A})})(void 0,OB,UC);var Em=UC.exports.boltExport,E4=function(t){var r=P.none(),o=[],s=function(D){return E4(function(N){v(function(z){N(D(z))})})},v=function(D){y()?A(D):o.push(D)},g=function(D){y()||(r=P.some(D),k(o),o=[])},y=function(){return r.isSome()},k=function(D){yt(D,A)},A=function(D){r.each(function(N){setTimeout(function(){D(N)},0)})};return t(g),{get:v,map:s,isReady:y}},Sz=function(t){return E4(function(r){r(t)})},DB={nu:E4,pure:Sz},xz=function(t){setTimeout(function(){throw t},0)},x1=function(t){var r=function(A){t().then(A,xz)},o=function(A){return x1(function(){return t().then(A)})},s=function(A){return x1(function(){return t().then(function(D){return A(D).toPromise()})})},v=function(A){return x1(function(){return t().then(function(){return A.toPromise()})})},g=function(){return DB.nu(r)},y=function(){var A=null;return x1(function(){return A===null&&(A=t()),A})},k=t;return{map:o,bind:s,anonBind:v,toLazy:g,toCached:y,toPromise:k,get:r}},_z=function(t){return x1(function(){return new Em(t)})},kz=function(t){return x1(function(){return Em.resolve(t)})},Gi={nu:_z,pure:kz},Az=["input","textarea"],RB=function(t){var r=Ku(t);return nr(Az,r)},T4=function(t,r){var o=r.getRoot(t).getOr(t.element);Ro(o,r.invalidClass),r.notify.each(function(s){RB(t.element)&&Xn(t.element,"aria-invalid",!1),s.getContainer(t).each(function(v){Kf(v,s.validHtml)}),s.onValid(t)})},O4=function(t,r,o,s){var v=r.getRoot(t).getOr(t.element);Fo(v,r.invalidClass),r.notify.each(function(g){RB(t.element)&&Xn(t.element,"aria-invalid",!0),g.getContainer(t).each(function(y){Kf(y,s)}),g.onInvalid(t,s)})},BB=function(t,r,o){return r.validator.fold(function(){return Gi.pure(Yn.value(!0))},function(s){return s.validate(t)})},D4=function(t,r,o){return r.notify.each(function(s){s.onValidate(t)}),BB(t,r).map(function(s){return t.getSystem().isConnected()?s.fold(function(v){return O4(t,r,o,v),Yn.error(v)},function(v){return T4(t,r),Yn.value(v)}):Yn.error("No longer in system")})},Ez=function(t,r){var o=r.getRoot(t).getOr(t.element);return mu(o,r.invalidClass)},Tz=Object.freeze({__proto__:null,markValid:T4,markInvalid:O4,query:BB,run:D4,isInvalid:Ez}),Oz=function(t,r){return t.validator.map(function(o){return va([vt(o.onEvent,function(s){D4(s,t,r).get(tt)})].concat(o.validateOnLoad?[jn(function(s){D4(s,t,r).get(Q)})]:[]))}).getOr({})},Vk=Object.freeze({__proto__:null,events:Oz}),cs=[it("invalidClass"),Te("getRoot",P.none),rs("notify",[Te("aria","alert"),Te("getContainer",P.none),Te("validHtml",""),Nr("onValid"),Nr("onInvalid"),Nr("onValidate")]),rs("validator",[it("validate"),Te("onEvent","input"),Te("validateOnLoad",!0)])],fv=Wo({fields:cs,name:"invalidating",active:Vk,apis:Tz,extra:{validation:function(t){return function(r){var o=Ut.getValue(r);return Gi.pure(t(o))}}}}),Dz=function(t,r,o,s){return o.getOrCreate(t,r,s)},Rz=Object.freeze({__proto__:null,getCoupled:Dz}),Bz=[$u("others",Fi(Yn.value,xl()))],$z=function(){var t={},r=function(s,v,g){var y=Ea(v.others);if(y)return Dn(t,g).getOrThunk(function(){var k=Dn(v.others,g).getOrDie("No information found for coupled component: "+g),A=k(s),D=s.getSystem().build(A);return t[g]=D,D});throw new Error("Cannot find coupled component: "+g+". Known coupled components: "+JSON.stringify(y,null,2))},o=ve({});return Ui({readState:o,getOrCreate:r})},$B=Object.freeze({__proto__:null,init:$z}),_o=Wo({fields:Bz,name:"coupling",apis:Rz,state:$B}),MB=ve("sink"),PB=ve(ol({name:MB(),overrides:ve({dom:{tag:"div"},behaviours:It([uo.config({useFixed:Qt})]),events:va([Vd(hb()),Vd(El()),Vd(wh())])})})),vf;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(vf||(vf={}));var NB=function(t,r){var o=t.getHotspot(r).getOr(r),s="hotspot",v=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:s,hotspot:o,overrides:v}},function(g){return{type:s,hotspot:o,overrides:v,layouts:g}})},IB=function(t,r,o){var s=t.fetch;return s(o).map(r)},zB=function(t,r,o,s,v,g,y){var k=IB(t,r,s),A=LB(s,t);return k.map(function(D){return D.bind(function(N){return P.from(ra.sketch(Ce(Ce({},g.menu()),{uid:Vv(""),data:N,highlightImmediately:y===vf.HighlightFirst,onOpenMenu:function(z,j){var X=A().getOrDie();uo.position(X,j,{anchor:o}),wr.decloak(v)},onOpenSubmenu:function(z,j,X){var ne=A().getOrDie();uo.position(ne,X,{anchor:{type:"submenu",item:j}}),wr.decloak(v)},onRepositionMenu:function(z,j,X){var ne=A().getOrDie();uo.position(ne,j,{anchor:o}),yt(X,function(de){uo.position(ne,de.triggeredMenu,{anchor:{type:"submenu",item:de.triggeringItem}})})},onEscape:function(){return Ln.focus(s),wr.close(v),P.some(!0)}})))})})},Uk=function(t,r,o,s,v,g,y){var k=NB(t,o),A=zB(t,r,k,o,s,v,y);return A.map(function(D){return D.fold(function(){wr.isOpen(s)&&wr.close(s)},function(N){wr.cloak(s),wr.open(s,N),g(s)}),s})},Mz=function(t,r,o,s,v,g,y){return wr.close(s),Gi.pure(s)},Sy=function(t,r,o,s,v,g){var y=_o.getCoupled(o,"sandbox"),k=wr.isOpen(y),A=k?Mz:Uk;return A(t,r,o,y,s,v,g)},Pz=function(t,r,o){var s=fr.getCurrent(r).getOr(r),v=Ii(t.element);o?Nn(s.element,"min-width",v+"px"):Zl(s.element,v)},LB=function(t,r){return t.getSystem().getByUid(r.uid+"-"+MB()).map(function(o){return function(){return Yn.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return Yn.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},FB=function(t){wr.getState(t).each(function(r){ra.repositionMenus(r)})},R4=function(t,r,o){var s=Kd(),v=function(k,A){var D=NB(t,r);s.link(r.element),t.matchWidth&&Pz(D.hotspot,A,t.useMinWidth),t.onOpen(D,k,A),o!==void 0&&o.onOpen!==void 0&&o.onOpen(k,A)},g=function(k,A){s.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(k,A)},y=LB(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:al.augment(t.sandboxBehaviours,[Ut.config({store:{mode:"memory",initialValue:r}}),wr.config({onOpen:v,onClose:g,isPartOf:function(k,A,D){return Xd(A,D)||Xd(r,D)},getAttachPoint:function(){return y().getOrDie()}}),fr.config({find:function(k){return wr.getState(k).bind(function(A){return fr.getCurrent(A)})}}),Qi.config({channels:Ce(Ce({},Lu({isExtraPart:Cn})),fm({doReposition:FB}))})])}},Mg=function(t){var r=_o.getCoupled(t,"sandbox");FB(r)},B4=function(){return[Te("sandboxClasses",[]),al.field("sandboxBehaviours",[fr,Qi,wr,Ut])]},Nz=ve([it("dom"),it("fetch"),Nr("onOpen"),Vo("onExecute"),Te("getHotspot",P.some),Te("getAnchorOverrides",ve({})),Zv(),jo("dropdownBehaviours",[Sr,_o,Tn,Ln]),it("toggleClass"),Te("eventOrder",{}),Pr("lazySink"),Te("matchWidth",!1),Te("useMinWidth",!1),Pr("role")].concat(B4())),Pg=ve([Ns({schema:[Yd()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),PB()]),Iz=function(t,r,o,s){var v,g=function(N){return Dn(t.dom,"attributes").bind(function(z){return Dn(z,N)})},y=function(N){wr.getState(N).each(function(z){ra.highlightPrimary(z)})},k=function(N){var z=y;Sy(t,tt,N,s,z,vf.HighlightFirst).get(Q)},A={expand:function(N){Sr.isOn(N)||Sy(t,tt,N,s,Q,vf.HighlightNone).get(Q)},open:function(N){Sr.isOn(N)||Sy(t,tt,N,s,Q,vf.HighlightFirst).get(Q)},isOpen:Sr.isOn,close:function(N){Sr.isOn(N)&&Sy(t,tt,N,s,Q,vf.HighlightFirst).get(Q)},repositionMenus:function(N){Sr.isOn(N)&&Mg(N)}},D=function(N,z){return Ds(N),P.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:si(t.dropdownBehaviours,[Sr.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),_o.config({others:{sandbox:function(N){return R4(t,N,{onOpen:function(){return Sr.on(N)},onClose:function(){return Sr.off(N)}})}}}),Tn.config({mode:"special",onSpace:D,onEnter:D,onDown:function(N,z){if(df.isOpen(N)){var j=_o.getCoupled(N,"sandbox");y(j)}else df.open(N);return P.some(!0)},onEscape:function(N,z){return df.isOpen(N)?(df.close(N),P.some(!0)):P.none()}}),Ln.config({})]),events:sy(P.some(k)),eventOrder:Ce(Ce({},t.eventOrder),(v={},v[Ts()]=["disabling","toggling","alloy.base.behaviour"],v)),apis:A,domModification:{attributes:Ce(Ce({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(N){return{role:N}})),t.dom.tag==="button"?{type:g("type").getOr("button")}:{})}}},df=wu({name:"Dropdown",configFields:Nz(),partFields:Pg(),factory:Iz,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),yc=function(){return Dl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},HB=function(){return va([g2(kE(),Qt)])},VB=Object.freeze({__proto__:null,events:HB,exhibit:yc}),WC=Wo({fields:[],name:"unselecting",active:VB}),zz=function(t,r){return df.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:It([ff.button(r.providers.isDisabled),Jo(),WC.config({}),xo.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return Gi.nu(function(s){return t.fetch(s)}).map(function(s){return P.from(hB(Je(y4(ln("menu-value"),s,function(v){t.onItemAction(o,v)},t.columns,t.presets,au.CLOSE_ON_EXECUTE,Cn,r.providers),{movement:Mk(t.columns,t.presets)})))})},parts:{menu:p1(!1,1,t.presets)}})},jC=ln("color-input-change"),UB=ln("color-swatch-change"),$4=ln("color-picker-cancel"),Lz=function(t,r,o){var s=Ir.parts.field({factory:VC,inputClasses:["tox-textfield"],onSetValue:function(A){return fv.run(A).get(Q)},inputBehaviours:It([Sn.config({disabled:r.providers.isDisabled}),Jo(),xo.config({}),fv.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(A){return bo(A.element)},notify:{onValid:function(A){var D=Ut.getValue(A);kn(A,jC,{color:D})}},validator:{validateOnLoad:!1,validate:function(A){var D=Ut.getValue(A);if(D.length===0)return Gi.pure(Yn.value(!0));var N=Gt.fromTag("span");Nn(N,"background-color",D);var z=wo(N,"background-color").fold(function(){return Yn.error("blah")},function(j){return Yn.value(D)});return Gi.pure(z)}}})]),selectOnFocus:!1}),v=t.label.map(function(A){return Am(A,r.providers)}),g=function(A,D){kn(A,UB,{value:D})},y=function(A,D){k.getOpt(A).each(function(N){D==="custom"?o.colorPicker(function(z){z.fold(function(){return Rr(N,$4)},function(j){g(N,j),h4(j)})},"#ffffff"):D==="remove"?g(N,""):g(N,D)})},k=qr(zz({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Yo,Wi,Bo]},onLtr:function(){return[Wi,Yo,Bo]}},components:[],fetch:b4(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:y},r));return Ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:v.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,k.asSpec()]}]),fieldBehaviours:It([Gn("form-field-events",[vt(jC,function(A,D){k.getOpt(A).each(function(N){Nn(N.element,"background-color",D.event.color)}),kn(A,zl,{name:t.name})}),vt(UB,function(A,D){Ir.getField(A).each(function(N){Ut.setValue(N,D.event.value),fr.getCurrent(A).each(Ln.focus)})}),vt($4,function(A,D){Ir.getField(A).each(function(N){fr.getCurrent(A).each(Ln.focus)})})])])})},Fz=ol({schema:[it("dom")],name:"label"}),Ng=function(t){return ol({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(s){return{events:va([p2(Hc(),function(v,g,y){return s(v,y)},[r]),p2(El(),function(v,g,y){return s(v,y)},[r]),p2(Id(),function(v,g,y){y.mouseIsDown.get()&&s(v,y)},[r])])}})}})},M4=Ng("top-left"),Hz=Ng("top"),Vz=Ng("top-right"),Uz=Ng("right"),Wz=Ng("bottom-right"),jz=Ng("bottom"),Gz=Ng("bottom-left"),qz=Ng("left"),WB=Di({name:"thumb",defaults:ve({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:va([Hd(Hc(),t,"spectrum"),Hd(Al(),t,"spectrum"),Hd(Mv(),t,"spectrum"),Hd(El(),t,"spectrum"),Hd(Id(),t,"spectrum"),Hd(s2(),t,"spectrum")])}}}),jB=Di({schema:[fu("mouseIsDown",function(){return _n(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,s=function(v,g){return o.getValueFromEvent(g).map(function(y){return o.setValueFrom(v,t,y)})};return{behaviours:It([Tn.config({mode:"special",onLeft:function(v){return o.onLeft(v,t)},onRight:function(v){return o.onRight(v,t)},onUp:function(v){return o.onUp(v,t)},onDown:function(v){return o.onDown(v,t)}}),Ln.config({})]),events:va([vt(Hc(),s),vt(Al(),s),vt(El(),s),vt(Id(),function(v,g){t.mouseIsDown.get()&&s(v,g)})])}}}),Kz=[Fz,qz,Uz,Hz,jz,M4,Vz,Gz,Wz,WB,jB],Xz="slider.change.value",GC=ve(Xz),Yz=function(t){return t.type.indexOf("touch")!==-1},P4=function(t){var r=t.event.raw;if(Yz(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?P.some(o.touches[0]).map(function(v){return la(v.clientX,v.clientY)}):P.none()}else{var s=r;return s.clientX!==void 0?P.some(s).map(function(v){return la(v.clientX,v.clientY)}):P.none()}},GB="top",qB="right",KB="bottom",Wk="left",_1=function(t){return t.model.minX},Ig=function(t){return t.model.minY},jk=function(t){return t.model.minX-1},Gk=function(t){return t.model.minY-1},k1=function(t){return t.model.maxX},A1=function(t){return t.model.maxY},E1=function(t){return t.model.maxX+1},qk=function(t){return t.model.maxY+1},XB=function(t,r,o){return r(t)-o(t)},vv=function(t){return XB(t,k1,_1)},N4=function(t){return XB(t,A1,Ig)},T1=function(t){return vv(t)/2},I4=function(t){return N4(t)/2},zg=function(t){return t.stepSize},YB=function(t){return t.snapToGrid},JB=function(t){return t.snapStart},ZB=function(t){return t.rounded},qC=function(t,r){return t[r+"-edge"]!==void 0},QB=function(t){return qC(t,Wk)},KC=function(t){return qC(t,qB)},e5=function(t){return qC(t,GB)},ll=function(t){return qC(t,KB)},Tm=function(t){return t.model.value.get()},t5=function(t){return{x:t}},z4=function(t){return{y:t}},Om=function(t,r){return{x:t,y:r}},mf=function(t,r){kn(t,GC(),{value:r})},Jz=function(t,r){mf(t,Om(jk(r),Gk(r)))},Zz=function(t,r){mf(t,z4(Gk(r)))},Qz=function(t,r){mf(t,Om(T1(r),Gk(r)))},eL=function(t,r){mf(t,Om(E1(r),Gk(r)))},tL=function(t,r){mf(t,t5(E1(r)))},nL=function(t,r){mf(t,Om(E1(r),I4(r)))},n5=function(t,r){mf(t,Om(E1(r),qk(r)))},rL=function(t,r){mf(t,z4(qk(r)))},aL=function(t,r){mf(t,Om(T1(r),qk(r)))},oL=function(t,r){mf(t,Om(jk(r),qk(r)))},r5=function(t,r){mf(t,t5(jk(r)))},Kk=function(t,r){mf(t,Om(jk(r),I4(r)))},L4=function(t,r,o,s){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-s)},xy=function(t,r,o,s){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+s)},O1=function(t,r,o){return Math.max(r,Math.min(o,t))},a5=function(t,r,o,s,v){return v.fold(function(){var g=t-r,y=Math.round(g/s)*s;return O1(r+y,r-1,o+1)},function(g){var y=(t-g)%s,k=Math.round(y/s),A=Math.floor((t-g)/s),D=Math.floor((o-g)/s),N=Math.min(D,A+k),z=g+N*s;return Math.max(g,z)})},o5=function(t,r,o){return Math.min(o,Math.max(t,r))-r},F4=function(t){var r=t.min,o=t.max,s=t.range,v=t.value,g=t.step,y=t.snap,k=t.snapStart,A=t.rounded,D=t.hasMinEdge,N=t.hasMaxEdge,z=t.minBound,j=t.maxBound,X=t.screenRange,ne=D?r-1:r,de=N?o+1:o;if(v<z)return ne;if(v>j)return de;var ke=o5(v,z,j),ce=O1(ke/X*s+r,ne,de);return y&&ce>=r&&ce<=o?a5(ce,r,o,g,k):A?Math.round(ce):ce},i5=function(t){var r=t.min,o=t.max,s=t.range,v=t.value,g=t.hasMinEdge,y=t.hasMaxEdge,k=t.maxBound,A=t.maxOffset,D=t.centerMinEdge,N=t.centerMaxEdge;return v<r?g?0:D:v>o?y?k:N:(v-r)/s*A},H4="top",XC="right",u5="bottom",V4="left",s5="width",l5="height",hf=function(t){return t.element.dom.getBoundingClientRect()},wc=function(t,r){return t[r]},ou=function(t){var r=hf(t);return wc(r,V4)},U4=function(t){var r=hf(t);return wc(r,XC)},Xk=function(t){var r=hf(t);return wc(r,H4)},c5=function(t){var r=hf(t);return wc(r,u5)},W4=function(t){var r=hf(t);return wc(r,s5)},f5=function(t){var r=hf(t);return wc(r,l5)},v5=function(t,r,o){return(t+r)/2-o},d5=function(t,r){var o=hf(t),s=hf(r),v=wc(o,V4),g=wc(o,XC),y=wc(s,V4);return v5(v,g,y)},j4=function(t,r){var o=hf(t),s=hf(r),v=wc(o,H4),g=wc(o,u5),y=wc(s,H4);return v5(v,g,y)},Cc=function(t,r){kn(t,GC(),{value:r})},_y=function(t){return{x:t}},Yk=function(t,r,o){var s={min:_1(r),max:k1(r),range:vv(r),value:o,step:zg(r),snap:YB(r),snapStart:JB(r),rounded:ZB(r),hasMinEdge:QB(r),hasMaxEdge:KC(r),minBound:ou(t),maxBound:U4(t),screenRange:W4(t)};return F4(s)},Jk=function(t,r,o){var s=Yk(t,r,o),v=_y(s);return Cc(t,v),s},G4=function(t,r){var o=_1(r);Cc(t,_y(o))},iL=function(t,r){var o=k1(r);Cc(t,_y(o))},uL=function(t,r,o){var s=t>0?xy:L4,v=s(Tm(o).x,_1(o),k1(o),zg(o));return Cc(r,_y(v)),P.some(v)},m5=function(t){return function(r,o){return uL(t,r,o).map(Qt)}},sL=function(t){var r=P4(t);return r.map(function(o){return o.left})},lL=function(t,r,o,s,v){var g=0,y=W4(t),k=s.bind(function(N){return P.some(d5(N,t))}).getOr(g),A=v.bind(function(N){return P.some(d5(N,t))}).getOr(y),D={min:_1(r),max:k1(r),range:vv(r),value:o,hasMinEdge:QB(r),hasMaxEdge:KC(r),minBound:ou(t),minOffset:g,maxBound:U4(t),maxOffset:y,centerMinEdge:k,centerMaxEdge:A};return i5(D)},YC=function(t,r,o,s,v,g){var y=lL(r,g,o,s,v);return ou(r)-ou(t)+y},cL=function(t,r,o,s){var v=Tm(o),g=YC(t,s.getSpectrum(t),v.x,s.getLeftEdge(t),s.getRightEdge(t),o),y=Ii(r.element)/2;Nn(r.element,"left",g-y+"px")},h5=m5(-1),fL=m5(1),yd=P.none,Zk=P.none,vL={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some(tL),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some(r5)},dL=Object.freeze({__proto__:null,setValueFrom:Jk,setToMin:G4,setToMax:iL,findValueOfOffset:Yk,getValueFromEvent:sL,findPositionOfValue:YC,setPositionFromValue:cL,onLeft:h5,onRight:fL,onUp:yd,onDown:Zk,edgeActions:vL}),JC=function(t,r){kn(t,GC(),{value:r})},ZC=function(t){return{y:t}},QC=function(t,r,o){var s={min:Ig(r),max:A1(r),range:N4(r),value:o,step:zg(r),snap:YB(r),snapStart:JB(r),rounded:ZB(r),hasMinEdge:e5(r),hasMaxEdge:ll(r),minBound:Xk(t),maxBound:c5(t),screenRange:f5(t)};return F4(s)},g5=function(t,r,o){var s=QC(t,r,o),v=ZC(s);return JC(t,v),s},eS=function(t,r){var o=Ig(r);JC(t,ZC(o))},tS=function(t,r){var o=A1(r);JC(t,ZC(o))},mL=function(t,r,o){var s=t>0?xy:L4,v=s(Tm(o).y,Ig(o),A1(o),zg(o));return JC(r,ZC(v)),P.some(v)},p5=function(t){return function(r,o){return mL(t,r,o).map(Qt)}},hL=function(t){var r=P4(t);return r.map(function(o){return o.top})},gL=function(t,r,o,s,v){var g=0,y=f5(t),k=s.bind(function(N){return P.some(j4(N,t))}).getOr(g),A=v.bind(function(N){return P.some(j4(N,t))}).getOr(y),D={min:Ig(r),max:A1(r),range:N4(r),value:o,hasMinEdge:e5(r),hasMaxEdge:ll(r),minBound:Xk(t),minOffset:g,maxBound:c5(t),maxOffset:y,centerMinEdge:k,centerMaxEdge:A};return i5(D)},q4=function(t,r,o,s,v,g){var y=gL(r,g,o,s,v);return Xk(r)-Xk(t)+y},pL=function(t,r,o,s){var v=Tm(o),g=q4(t,s.getSpectrum(t),v.y,s.getTopEdge(t),s.getBottomEdge(t),o),y=Oo(r.element)/2;Nn(r.element,"top",g-y+"px")},bL=P.none,K4=P.none,D1=p5(-1),yL=p5(1),b5={"top-left":P.none(),top:P.some(Zz),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some(rL),"bottom-left":P.none(),left:P.none()},wL=Object.freeze({__proto__:null,setValueFrom:g5,setToMin:eS,setToMax:tS,findValueOfOffset:QC,getValueFromEvent:hL,findPositionOfValue:q4,setPositionFromValue:pL,onLeft:bL,onRight:K4,onUp:D1,onDown:yL,edgeActions:b5}),Qk=function(t,r){kn(t,GC(),{value:r})},eA=function(t,r){return{x:t,y:r}},CL=function(t,r,o){var s=Yk(t,r,o.left),v=QC(t,r,o.top),g=eA(s,v);return Qk(t,g),g},SL=function(t,r,o,s){var v=t>0?xy:L4,g=r?Tm(s).x:v(Tm(s).x,_1(s),k1(s),zg(s)),y=r?v(Tm(s).y,Ig(s),A1(s),zg(s)):Tm(s).y;return Qk(o,eA(g,y)),P.some(g)},nS=function(t,r){return function(o,s){return SL(t,r,o,s).map(Qt)}},X4=function(t,r){var o=_1(r),s=Ig(r);Qk(t,eA(o,s))},xL=function(t,r){var o=k1(r),s=A1(r);Qk(t,eA(o,s))},y5=function(t){return P4(t)},Y4=function(t,r,o,s){var v=Tm(o),g=YC(t,s.getSpectrum(t),v.x,s.getLeftEdge(t),s.getRightEdge(t),o),y=q4(t,s.getSpectrum(t),v.y,s.getTopEdge(t),s.getBottomEdge(t),o),k=Ii(r.element)/2,A=Oo(r.element)/2;Nn(r.element,"left",g-k+"px"),Nn(r.element,"top",y-A+"px")},J4=nS(-1,!1),w5=nS(1,!1),_L=nS(-1,!0),kL=nS(1,!0),tA={"top-left":P.some(Jz),top:P.some(Qz),"top-right":P.some(eL),right:P.some(nL),"bottom-right":P.some(n5),bottom:P.some(aL),"bottom-left":P.some(oL),left:P.some(Kk)},C5=Object.freeze({__proto__:null,setValueFrom:CL,setToMin:X4,setToMax:xL,getValueFromEvent:y5,setPositionFromValue:Y4,onLeft:J4,onRight:w5,onUp:_L,onDown:kL,edgeActions:tA}),AL=[Te("stepSize",1),Te("onChange",Q),Te("onChoose",Q),Te("onInit",Q),Te("onDragStart",Q),Te("onDragEnd",Q),Te("snapToGrid",!1),Te("rounded",!0),Pr("snapStart"),$u("model",Zs("mode",{x:[Te("minX",0),Te("maxX",100),fu("value",function(t){return _n(t.mode.minX)}),it("getInitialValue"),ha("manager",dL)],y:[Te("minY",0),Te("maxY",100),fu("value",function(t){return _n(t.mode.minY)}),it("getInitialValue"),ha("manager",wL)],xy:[Te("minX",0),Te("maxX",100),Te("minY",0),Te("maxY",100),fu("value",function(t){return _n({x:t.mode.minX,y:t.mode.minY})}),it("getInitialValue"),ha("manager",C5)]})),jo("sliderBehaviours",[Tn,Ut]),fu("mouseIsDown",function(){return _n(!1)})],EL=function(t,r,o,s){var v,g=function(Ae){return af(Ae,t,"thumb")},y=function(Ae){return af(Ae,t,"spectrum")},k=function(Ae){return ua(Ae,t,"left-edge")},A=function(Ae){return ua(Ae,t,"right-edge")},D=function(Ae){return ua(Ae,t,"top-edge")},N=function(Ae){return ua(Ae,t,"bottom-edge")},z=t.model,j=z.manager,X=function(Ae,Le){j.setPositionFromValue(Ae,Le,t,{getLeftEdge:k,getRightEdge:A,getTopEdge:D,getBottomEdge:N,getSpectrum:y})},ne=function(Ae,Le){z.value.set(Le);var at=g(Ae);X(Ae,at)},de=function(Ae,Le){ne(Ae,Le);var at=g(Ae);return t.onChange(Ae,at,Le),P.some(!0)},ke=function(Ae){j.setToMin(Ae,t)},ce=function(Ae){j.setToMax(Ae,t)},Ee=function(Ae){var Le=function(){ua(Ae,t,"thumb").each(function(Wt){var ct=z.value.get();t.onChoose(Ae,Wt,ct)})},at=t.mouseIsDown.get();t.mouseIsDown.set(!1),at&&Le()},Ge=function(Ae,Le){Le.stop(),t.mouseIsDown.set(!0),t.onDragStart(Ae,g(Ae))},We=function(Ae,Le){Le.stop(),t.onDragEnd(Ae,g(Ae)),Ee(Ae)};return{uid:t.uid,dom:t.dom,components:r,behaviours:si(t.sliderBehaviours,[Tn.config({mode:"special",focusIn:function(Ae){return ua(Ae,t,"spectrum").map(Tn.focusIn).map(Qt)}}),Ut.config({store:{mode:"manual",getValue:function(Ae){return z.value.get()}}}),Qi.config({channels:(v={},v[bw()]={onReceive:Ee},v)})]),events:va([vt(GC(),function(Ae,Le){de(Ae,Le.event.value)}),jn(function(Ae,Le){var at=z.getInitialValue();z.value.set(at);var Wt=g(Ae);X(Ae,Wt);var ct=y(Ae);t.onInit(Ae,Wt,ct,z.value.get())}),vt(Hc(),Ge),vt(Mv(),We),vt(El(),Ge),vt(s2(),We)]),apis:{resetToMin:ke,resetToMax:ce,setValue:ne,refresh:X},domModification:{styles:{position:"relative"}}}},gf=wu({name:"Slider",configFields:AL,partFields:Kz,factory:EL,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),Z4=ln("rgb-hex-update"),wd=ln("slider-update"),nA=ln("palette-update"),S5=function(t,r){var o=gf.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=gf.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return gf.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ve({y:0})},components:[o,s],sliderBehaviours:It([Ln.config({})]),onChange:function(v,g,y){kn(v,wd,{value:y})}})},Q4="form",eO=[jo("formBehaviours",[Ut])],tO=function(t){return"<alloy.field."+t+">"},rA=function(t){var r=function(){var g=[],y=function(k,A){return g.push(k),Mw(Q4,tO(k),A)};return{field:y,record:ve(g)}}(),o=t(r),s=r.record(),v=Ne(s,function(g){return Di({name:g,pname:tO(g)})});return Lw(Q4,eO,v,_5,o)},x5=function(t,r){return t.fold(function(){return Yn.error(r)},Yn.value)},_5=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:si(t.formBehaviours,[Ut.config({store:{mode:"manual",getValue:function(o){var s=r_(o,t);return mr(s,function(v,g){return v().bind(function(y){var k=fr.getCurrent(y);return x5(k,new Error("Cannot find a current component to extract the value from for form part '"+g+"': "+du(y.element)))}).map(Ut.getValue)})},setValue:function(o,s){Sa(s,function(v,g){ua(o,t,g).each(function(y){fr.getCurrent(y).each(function(k){Ut.setValue(k,v)})})})}}})]),apis:{getField:function(o,s){return ua(o,t,s).bind(fr.getCurrent)}}}},ky={getField:Va(function(t,r,o){return t.getField(r,o)}),sketch:rA},k5=ln("valid-input"),A5=ln("invalid-input"),E5=ln("validating-input"),aA="colorcustom.rgb.",T5=function(t,r,o,s){var v=function(j,X){return fv.config({invalidClass:r("invalid"),notify:{onValidate:function(ne){kn(ne,E5,{type:j})},onValid:function(ne){kn(ne,k5,{type:j,value:Ut.getValue(ne)})},onInvalid:function(ne){kn(ne,A5,{type:j,value:Ut.getValue(ne)})}},validator:{validate:function(ne){var de=Ut.getValue(ne),ke=X(de)?Yn.value(!0):Yn.error(t("aria.input.invalid"));return Gi.pure(ke)},validateOnLoad:!1}})},g=function(j,X,ne,de,ke){var ce=t(aA+"range"),Ee=Ir.parts.label({dom:{tag:"label",innerHtml:ne,attributes:{"aria-label":de}}}),Ge=Ir.parts.field({data:ke,factory:VC,inputAttributes:Ce({type:"text"},X==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:It([v(X,j),xo.config({})]),onSetValue:function(at){if(fv.isInvalid(at)){var Wt=fv.run(at);Wt.get(Q)}}}),We=[Ee,Ge],Ae=X!=="hex"?[Ir.parts["aria-descriptor"]({text:ce})]:[],Le=We.concat(Ae);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Le}},y=function(j,X){var ne=BC(X);return ky.getField(j,"hex").each(function(de){Ln.isFocused(de)||Ut.setValue(j,{hex:ne.value})}),ne},k=function(j,X){var ne=X.red,de=X.green,ke=X.blue;Ut.setValue(j,{red:ne,green:de,blue:ke})},A=qr({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),D=function(j,X){A.getOpt(j).each(function(ne){Nn(ne.element,"background-color","#"+X.value)})},N=function(){var j={red:_n(P.some(255)),green:_n(P.some(255)),blue:_n(P.some(255)),hex:_n(P.some("ffffff"))},X=function(nt,Mt){var cn=$C(Mt);k(nt,cn),ce(cn)},ne=function(nt){return j[nt].get()},de=function(nt,Mt){j[nt].set(Mt)},ke=function(){return ne("red").bind(function(nt){return ne("green").bind(function(Mt){return ne("blue").map(function(cn){return $g(nt,Mt,cn,1)})})})},ce=function(nt){var Mt=nt.red,cn=nt.green,lt=nt.blue;de("red",P.some(Mt)),de("green",P.some(cn)),de("blue",P.some(lt))},Ee=function(nt,Mt){var cn=Mt.event;cn.type!=="hex"?de(cn.type,P.none()):s(nt)},Ge=function(nt,Mt){o(nt);var cn=PR(Mt);de("hex",P.some(Mt));var lt=$C(cn);k(nt,lt),ce(lt),kn(nt,Z4,{hex:cn}),D(nt,cn)},We=function(nt,Mt,cn){var lt=parseInt(cn,10);de(Mt,P.some(lt)),ke().each(function(an){var dn=y(nt,an);kn(nt,Z4,{hex:dn}),D(nt,dn)})},Ae=function(nt){return nt.type==="hex"},Le=function(nt,Mt){var cn=Mt.event;Ae(cn)?Ge(nt,cn.value):We(nt,cn.type,cn.value)},at=function(nt){return{label:t(aA+nt+".label"),description:t(aA+nt+".description")}},Wt=at("red"),ct=at("green"),Kt=at("blue"),mt=at("hex");return Je(ky.sketch(function(nt){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[nt.field("red",Ir.sketch(g(l4,"red",Wt.label,Wt.description,255))),nt.field("green",Ir.sketch(g(l4,"green",ct.label,ct.description,255))),nt.field("blue",Ir.sketch(g(l4,"blue",Kt.label,Kt.description,255))),nt.field("hex",Ir.sketch(g(zR,"hex",mt.label,mt.description,"ffffff"))),A.asSpec()],formBehaviours:It([fv.config({invalidClass:r("form-invalid")}),Gn("rgb-form-events",[vt(k5,Le),vt(A5,Ee),vt(E5,Ee)])])}}),{apis:{updateHex:function(nt,Mt){Ut.setValue(nt,{hex:Mt.value}),X(nt,Mt),D(nt,Mt)}}})},z=Is({factory:N,name:"RgbForm",configFields:[],apis:{updateHex:function(j,X,ne){j.updateHex(X,ne)}},extraApis:{}});return z},TL=function(t,r){var o=gf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),s=gf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),v=function(D,N){var z=D.width,j=D.height,X=D.getContext("2d");if(X!==null){X.fillStyle=N,X.fillRect(0,0,z,j);var ne=X.createLinearGradient(0,0,z,0);ne.addColorStop(0,"rgba(255,255,255,1)"),ne.addColorStop(1,"rgba(255,255,255,0)"),X.fillStyle=ne,X.fillRect(0,0,z,j);var de=X.createLinearGradient(0,0,0,j);de.addColorStop(0,"rgba(0,0,0,0)"),de.addColorStop(1,"rgba(0,0,0,1)"),X.fillStyle=de,X.fillRect(0,0,z,j)}},g=function(D,N){var z=D.components()[0].element.dom,j=MC(N,100,100),X=HR(j);v(z,WR(X))},y=function(D,N){var z=f4($C(N));gf.setValue(D,{x:z.saturation,y:100-z.value})},k=function(D){var N=ve({x:0,y:0}),z=function(ne,de,ke){kn(ne,nA,{value:ke})},j=function(ne,de,ke,ce){v(ke.element.dom,WR(jR))},X=It([fr.config({find:P.some}),Ln.config({})]);return gf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:N},rounded:!1,components:[o,s],onChange:z,onInit:j,sliderBehaviours:X})},A=Is({factory:k,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(D,N,z){g(N,z)},setThumb:function(D,N,z){y(N,z)}},extraApis:{}});return A},OL=function(t,r){var o=function(v){var g=T5(t,r,v.onValidHex,v.onInvalidHex),y=TL(t,r),k=function(Le){return(100-Le)/100*360},A=function(Le){return 100-Le/360*100},D={paletteRgba:_n(jR),paletteHue:_n(0)},N=qr(S5(t,r)),z=qr(y.sketch({})),j=qr(g.sketch({})),X=function(Le,at,Wt){z.getOpt(Le).each(function(ct){y.setHue(ct,Wt)})},ne=function(Le,at){j.getOpt(Le).each(function(Wt){g.updateHex(Wt,at)})},de=function(Le,at,Wt){N.getOpt(Le).each(function(ct){gf.setValue(ct,{y:A(Wt)})})},ke=function(Le,at){z.getOpt(Le).each(function(Wt){y.setThumb(Wt,at)})},ce=function(Le,at){var Wt=$C(Le);D.paletteRgba.set(Wt),D.paletteHue.set(at)},Ee=function(Le,at,Wt,ct){ce(at,Wt),yt(ct,function(Kt){Kt(Le,at,Wt)})},Ge=function(){var Le=[ne];return function(at,Wt){var ct=Wt.event.value,Kt=D.paletteHue.get(),mt=MC(Kt,ct.x,100-ct.y),nt=KR(mt);Ee(at,nt,Kt,Le)}},We=function(){var Le=[X,ne];return function(at,Wt){var ct=k(Wt.event.value.y),Kt=D.paletteRgba.get(),mt=f4(Kt),nt=MC(ct,mt.saturation,mt.value),Mt=KR(nt);Ee(at,Mt,ct,Le)}},Ae=function(){var Le=[X,de,ke];return function(at,Wt){var ct=Wt.event.hex,Kt=TI(ct);Ee(at,ct,Kt.hue,Le)}};return{uid:v.uid,dom:v.dom,components:[z.asSpec(),N.asSpec(),j.asSpec()],behaviours:It([Gn("colour-picker-events",[vt(Z4,Ae()),vt(nA,Ge()),vt(wd,We())]),fr.config({find:function(Le){return j.getOpt(Le)}}),Tn.config({mode:"acyclic"})])}},s=Is({name:"ColourPicker",configFields:[it("dom"),Te("onValidHex",Q),Te("onInvalidHex",Q)],factory:o});return s},DL=function(){return fr.config({find:P.some})},oA=function(t){return fr.config({find:t.getOpt})},RL=function(t){return fr.config({find:function(r){return ri(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},dv={self:DL,memento:oA,childAt:RL},O5={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},D5=function(t){return O5[t]},BL=function(t){return D5(t)},$L=function(t){var r=function(y){return"tox-"+y},o=OL(BL,r),s=function(y){kn(y,cv,{name:"hex-valid",value:!0})},v=function(y){kn(y,cv,{name:"hex-valid",value:!1})},g=qr(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:v}));return{dom:{tag:"div"},components:[g.asSpec()],behaviours:It([Ut.config({store:{mode:"manual",getValue:function(y){var k=g.get(y),A=fr.getCurrent(k),D=A.bind(function(N){var z=Ut.getValue(N);return z.hex});return D.map(function(N){return"#"+N}).getOr("")},setValue:function(y,k){var A=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,D=A.exec(k),N=g.get(y),z=fr.getCurrent(N);z.fold(function(){console.log("Can not find form")},function(j){Ut.setValue(j,{hex:P.from(D[1]).getOr("")}),ky.getField(j,"hex").each(function(X){Rr(X,zd())})})}}}),dv.self()])}},iA=tinymce.util.Tools.resolve("tinymce.Resource"),ML=function(t){return Xr(t,"init")},PL=function(t){var r=io(),o=qr({dom:{tag:t.tag}}),s=io();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:It([Gn("custom-editor-events",[jn(function(v){o.getOpt(v).each(function(g){(ML(t)?t.init(g.element.dom):iA.load(t.scriptId,t.scriptUrl).then(function(y){return y(g.element.dom,t.settings)})).then(function(y){s.on(function(k){y.setValue(k)}),s.clear(),r.set(y)})})})]),Ut.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return s.get().getOr("")},function(v){return v.getValue()})},setValue:function(v,g){r.get().fold(function(){s.set(g)},function(y){return y.setValue(g)})}}}),dv.self()]),components:[o.asSpec()]}},Lg=tinymce.util.Tools.resolve("tinymce.util.Tools"),NL=yn([Te("preprocess",tt),Te("postprocess",tt)]),uA=function(t,r){var o=Yr("RepresentingConfigs.memento processors",NL,r);return Ut.config({store:{mode:"manual",getValue:function(s){var v=t.get(s),g=Ut.getValue(v);return o.postprocess(g)},setValue:function(s,v){var g=o.preprocess(v),y=t.get(s);Ut.setValue(y,g)}}})},sA=function(t,r,o){return Ut.config(Je({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(s){return{store:{initialValue:s}}}).getOr({})))},nO=function(t,r,o){return sA(t,function(s){return r(s.element)},function(s,v){return o(s.element,v)})},IL=function(t){return nO(t,Gc,Th)},lA=function(t){return nO(t,Vc,Kf)},zL=function(t){return Ut.config({store:{mode:"memory",initialValue:t}})},Dm={memento:uA,withElement:nO,withComp:sA,domValue:IL,domHtml:lA,memory:zL},R5="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",LL=function(t,r){var o=Lg.explode(r.getSetting("images_file_types",R5,"string")),s=function(v){return Fr(o,function(g){return Mn(v.name.toLowerCase(),"."+g.toLowerCase())})};return pe(ti(t),s)},FL=function(t,r){var o=function(z,j){j.stop()},s=function(z){return function(j,X){yt(z,function(ne){ne(j,X)})}},v=function(z,j){if(!Sn.isDisabled(z)){var X=j.event.raw;y(z,X.dataTransfer.files)}},g=function(z,j){var X=j.event.raw.target;y(z,X.files)},y=function(z,j){Ut.setValue(z,LL(j,r)),kn(z,zl,{name:t.name})},k=qr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:It([Gn("input-file-events",[Vd(wh()),Vd(Nv())])])}),A=function(z){return{uid:z.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:It([Dm.memory([]),dv.self(),Sn.config({}),Sr.config({toggleClass:"dragenter",toggleOnExecute:!1}),Gn("dropzone-events",[vt("dragenter",s([o,Sr.toggle])),vt("dragleave",s([o,Sr.toggle])),vt("dragover",o),vt("drop",s([o,v])),vt(yh(),g)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},ls.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[k.asSpec()],action:function(j){var X=k.get(j);X.element.dom.click()},buttonBehaviours:It([xo.config({}),ff.button(r.isDisabled),Jo()])})]}]}},D=t.label.map(function(z){return Am(z,r)}),N=Ir.parts.field({factory:{sketch:A}});return FC(D,N,["tox-form__group--stretched"],[])},B5=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:Ne(t.items,r.interpreter)}},cA=ln("alloy-fake-before-tabstop"),rO=ln("alloy-fake-after-tabstop"),aO=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:It([Ln.config({ignore:!0}),xo.config({})])}},oO=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[aO([cA]),t,aO([rO])],behaviours:It([dv.childAt(1)])}},iO=function(t,r){kn(t,hb(),{raw:{which:9,shiftKey:r}})},$5=function(t,r){var o=r.element;mu(o,cA)?iO(t,!0):mu(o,rO)&&iO(t,!1)},rS=function(t){return IC(t,["."+cA,"."+rO].join(","),Cn)},HL=!(Rn().browser.isIE()||Rn().browser.isEdge()),VL=function(t){var r=_n("");return{getValue:function(o){return r.get()},setValue:function(o,s){if(t)Xn(o.element,"srcdoc",s);else{Xn(o.element,"src","javascript:''");var v=o.element.dom.contentWindow.document;v.open(),v.write(s),v.close()}r.set(s)}}},M5=function(t,r){var o=HL&&t.sandboxed,s=Ce(Ce({},t.label.map(function(A){return{title:A}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),v=VL(o),g=t.label.map(function(A){return Am(A,r)}),y=function(A){return oO({uid:A.uid,dom:{tag:"iframe",attributes:s},behaviours:It([xo.config({}),Ln.config({}),Dm.withComp(P.none(),v.getValue,v.setValue)])})},k=Ir.parts.field({factory:{sketch:y}});return FC(g,k,["tox-form__group--stretched"],[])},Ay=function(t,r){return UL(document.createElement("canvas"),t,r)},P5=function(t){var r=Ay(t.width,t.height),o=Rm(r);return o.drawImage(t,0,0),r},Rm=function(t){return t.getContext("2d")},UL=function(t,r,o){return t.width=r,t.height=o,t},aS=function(t){return t.naturalWidth||t.width},uO=function(t){return t.naturalHeight||t.height},WL=function(t){return new Em(function(r,o){var s=URL.createObjectURL(t),v=new Image,g=function(){v.removeEventListener("load",y),v.removeEventListener("error",k)},y=function(){g(),r(v)},k=function(){g(),o("Unable to load data of type "+t.type+": "+s)};v.addEventListener("load",y),v.addEventListener("error",k),v.src=s,v.complete&&setTimeout(y,0)})},jL=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return P.none();for(var s=o[1],v=r[1],g=1024,y=atob(v),k=y.length,A=Math.ceil(k/g),D=new Array(A),N=0;N<A;++N){for(var z=N*g,j=Math.min(z+g,k),X=new Array(j-z),ne=z,de=0;ne<j;++de,++ne)X[de]=y[ne].charCodeAt(0);D[N]=new Uint8Array(X)}return P.some(new Blob(D,{type:s}))},GL=function(t){return new Em(function(r,o){jL(t).fold(function(){o("uri is not base64: "+t)},r)})},N5=function(t,r,o){return r=r||"image/png",ie(HTMLCanvasElement.prototype.toBlob)?new Em(function(s,v){t.toBlob(function(g){g?s(g):v()},r,o)}):GL(t.toDataURL(r,o))},qL=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},KL=function(t){return WL(t).then(function(r){XL(r);var o=Ay(aS(r),uO(r)),s=Rm(o);return s.drawImage(r,0,0),o})},I5=function(t){return new Em(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},XL=function(t){URL.revokeObjectURL(t.src)},z5=function(t,r,o){var s=r.type,v=ve(s),g=function(){return Em.resolve(r)},y=ve(o),k=function(){return o.split(",")[1]},A=function(j,X){return t.then(function(ne){return N5(ne,j,X)})},D=function(j,X){return t.then(function(ne){return qL(ne,j,X)})},N=function(j,X){return D(j,X).then(function(ne){return ne.split(",")[1]})},z=function(){return t.then(P5)};return{getType:v,toBlob:g,toDataURL:y,toBase64:k,toAdjustedBlob:A,toAdjustedDataURL:D,toAdjustedBase64:N,toCanvas:z}},L5=function(t){return I5(t).then(function(r){return z5(KL(t),t,r)})},R1=function(t,r){return N5(t,r).then(function(o){return z5(Em.resolve(t),o,t.toDataURL())})},YL=function(t){return L5(t)},oS=function(t,r,o){var s=typeof t=="string"?parseFloat(t):t;return s>o?s=o:s<r&&(s=r),s},sO=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},lO=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],cO=function(t,r){for(var o=[],s=new Array(25),v,g=0;g<5;g++){for(var y=0;y<5;y++)o[y]=r[y+g*5];for(var y=0;y<5;y++){v=0;for(var k=0;k<5;k++)v+=t[y+k*5]*o[k];s[y+g*5]=v}}return s},F5=function(t,r){var o;return r=oS(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=lO[r]:o=lO[Math.floor(r)]*(1-o)+lO[Math.floor(r)+1]*o,o=o*127+127),cO(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},H5=function(t,r){return r=oS(255*r,-255,255),cO(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},V5=function(t,r,o,s){return r=oS(r,0,2),o=oS(o,0,2),s=oS(s,0,2),cO(t,[r,0,0,0,0,0,o,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},fO=function(t,r){return t.toCanvas().then(function(o){return U5(o,t.getType(),r)})},U5=function(t,r,o){var s=Rm(t),v=function(y,k){for(var A,D,N,z,j=y.data,X=k[0],ne=k[1],de=k[2],ke=k[3],ce=k[4],Ee=k[5],Ge=k[6],We=k[7],Ae=k[8],Le=k[9],at=k[10],Wt=k[11],ct=k[12],Kt=k[13],mt=k[14],nt=k[15],Mt=k[16],cn=k[17],lt=k[18],an=k[19],dn=0;dn<j.length;dn+=4)A=j[dn],D=j[dn+1],N=j[dn+2],z=j[dn+3],j[dn]=A*X+D*ne+N*de+z*ke+ce,j[dn+1]=A*Ee+D*Ge+N*We+z*Ae+Le,j[dn+2]=A*at+D*Wt+N*ct+z*Kt+mt,j[dn+3]=A*nt+D*Mt+N*cn+z*lt+an;return y},g=v(s.getImageData(0,0,t.width,t.height),o);return s.putImageData(g,0,0),R1(t,r)},W5=function(t,r){return t.toCanvas().then(function(o){return JL(o,t.getType(),r)})},JL=function(t,r,o){var s=Rm(t),v=function(k,A,D){for(var N=function(Mt,cn,lt){return Mt>lt?Mt=lt:Mt<cn&&(Mt=cn),Mt},z=Math.round(Math.sqrt(D.length)),j=Math.floor(z/2),X=k.data,ne=A.data,de=k.width,ke=k.height,ce=0;ce<ke;ce++)for(var Ee=0;Ee<de;Ee++){for(var Ge=0,We=0,Ae=0,Le=0;Le<z;Le++)for(var at=0;at<z;at++){var Wt=N(Ee+at-j,0,de-1),ct=N(ce+Le-j,0,ke-1),Kt=(ct*de+Wt)*4,mt=D[Le*z+at];Ge+=X[Kt]*mt,We+=X[Kt+1]*mt,Ae+=X[Kt+2]*mt}var nt=(ce*de+Ee)*4;ne[nt]=N(Ge,0,255),ne[nt+1]=N(We,0,255),ne[nt+2]=N(Ae,0,255)}return A},g=s.getImageData(0,0,t.width,t.height),y=s.getImageData(0,0,t.width,t.height);return y=v(g,y,o),s.putImageData(y,0,0),R1(t,r)},ZL=function(t){var r=function(o,s,v){for(var g=Rm(o),y=new Array(256),k=function(N,z){for(var j=N.data,X=0;X<j.length;X+=4)j[X]=z[j[X]],j[X+1]=z[j[X+1]],j[X+2]=z[j[X+2]];return N},A=0;A<y.length;A++)y[A]=t(A,v);var D=k(g.getImageData(0,0,o.width,o.height),y);return g.putImageData(D,0,0),R1(o,s)};return function(o,s){return o.toCanvas().then(function(v){return r(v,o.getType(),s)})}},j5=function(t){return function(r,o){return fO(r,t(sO(),o))}},QL=function(t){return function(r){return fO(r,t)}},e6=function(t){return function(r){return W5(r,t)}},t6=QL([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),G5=j5(H5),n6=j5(F5),r6=function(t,r,o,s){return fO(t,V5(sO(),r,o,s))},a6=e6([0,-1,0,-1,5,-1,0,-1,0]),kr=ZL(function(t,r){return Math.pow(t/255,1-r)*255}),B1=function(t,r,o){var s=aS(t),v=uO(t),g=r/s,y=o/v,k=!1;(g<.5||g>2)&&(g=g<.5?.5:2,k=!0),(y<.5||y>2)&&(y=y<.5?.5:2,k=!0);var A=q5(t,g,y);return k?A.then(function(D){return B1(D,r,o)}):A},q5=function(t,r,o){return new Em(function(s){var v=aS(t),g=uO(t),y=Math.floor(v*r),k=Math.floor(g*o),A=Ay(y,k),D=Rm(A);D.drawImage(t,0,0,v,g,0,0,y,k),s(A)})},vO=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),s=Math.round(t*o);return Math.ceil(s/o)},K5=function(t,r){return t.toCanvas().then(function(o){return o6(o,t.getType(),r)})},o6=function(t,r,o){var s=o<0?360+o:o,v=s*Math.PI/180,g=t.width,y=t.height,k=Math.sin(v),A=Math.cos(v),D=vO(Math.abs(g*A)+Math.abs(y*k)),N=vO(Math.abs(g*k)+Math.abs(y*A)),z=Ay(D,N),j=Rm(z);return j.translate(D/2,N/2),j.rotate(v),j.drawImage(t,-g/2,-y/2),R1(z,r)},i6=function(t,r){return t.toCanvas().then(function(o){return u6(o,t.getType(),r)})},u6=function(t,r,o){var s=Ay(t.width,t.height),v=Rm(s);return o==="v"?(v.scale(1,-1),v.drawImage(t,0,-s.height)):(v.scale(-1,1),v.drawImage(t,-s.width,0)),R1(s,r)},X5=function(t,r,o,s,v){return t.toCanvas().then(function(g){return s6(g,t.getType(),r,o,s,v)})},s6=function(t,r,o,s,v,g){var y=Ay(v,g),k=Rm(y);return k.drawImage(t,-o,-s),R1(y,r)},l6=function(t,r,o){return t.toCanvas().then(function(s){return B1(s,r,o).then(function(v){return R1(v,t.getType())})})},c6=function(t){return t6(t)},f6=function(t){return a6(t)},v6=function(t,r){return kr(t,r)},d6=function(t,r,o,s){return r6(t,r,o,s)},m6=function(t,r){return G5(t,r)},h6=function(t,r){return n6(t,r)},Y5=function(t,r){return i6(t,r)},g6=function(t,r,o,s,v){return X5(t,r,o,s,v)},p6=function(t,r,o){return l6(t,r,o)},dO=function(t,r){return K5(t,r)},J5=function(t,r,o){return lv(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},r)},fA=function(t,r){return J5(t,r,[])},Z5=function(t,r){return J5(t,r,[Vn.config({})])},mO=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:It([Vn.config({})])}},hO,Q5=ln("toolbar.button.execute"),e$=function(t){return os(function(r,o){yy(t,r)(function(s){kn(r,Q5,{buttonApi:s}),t.onAction(s)})})},t$=(hO={},hO[Ts()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],hO),$1=ln("update-menu-text"),n$=ln("update-menu-icon"),vA=function(t,r,o){var s=_n(Q),v=t.text.map(function(z){return qr(mO(z,r,o.providers))}),g=t.icon.map(function(z){return qr(Z5(z,o.providers.icons))}),y=function(z,j){var X=Ut.getValue(z);return Ln.focus(X),kn(X,"keydown",{raw:j.event.raw}),df.close(X),P.some(!0)},k=t.role.fold(function(){return{}},function(z){return{role:z}}),A=t.tooltip.fold(function(){return{}},function(z){var j=o.providers.translate(z);return{title:j,"aria-label":j}}),D=lv("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},o.providers.icons),N=qr(df.sketch(Ce(Ce(Ce({},t.uid?{uid:t.uid}:{}),k),{dom:{tag:"button",classes:[r,r+"--select"].concat(Ne(t.classes,function(z){return r+"--"+z})),attributes:Ce({},A)},components:xm([g.map(function(z){return z.asSpec()}),v.map(function(z){return z.asSpec()}),P.some(D)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:It(Ht(Ht([],t.dropdownBehaviours,!0),[ff.button(function(){return t.disabled||o.providers.isDisabled()}),Jo(),WC.config({}),Vn.config({}),Gn("dropdown-events",[y1(t,s),w1(t,s)]),Gn("menubutton-update-display-text",[vt($1,function(z,j){v.bind(function(X){return X.getOpt(z)}).each(function(X){Vn.set(X,[ki(o.providers.translate(j.event.text))])})}),vt(n$,function(z,j){g.bind(function(X){return X.getOpt(z)}).each(function(X){Vn.set(X,[Z5(j.event.icon,o.providers.icons)])})})])],!1)),eventOrder:Je(t$,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:It([Tn.config({mode:"special",onLeft:y,onRight:y})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:p1(!1,t.columns,t.presets)},fetch:function(z){return Gi.nu(Xt(t.fetch,z))}})));return N.asSpec()},r$=function(t){return E(t)},dA=function(t){return t.type==="separator"},b6=function(t){return Xr(t,"getSubmenuItems")},y6={type:"separator"},w6=function(t,r){var o=je(t,function(s,v){return r$(v)?v===""?s:v==="|"?s.length>0&&!dA(s[s.length-1])?s.concat([y6]):s:Xr(r,v.toLowerCase())?s.concat([r[v.toLowerCase()]]):s:s.concat([v])},[]);return o.length>0&&dA(o[o.length-1])&&o.pop(),o},C6=function(t,r){var o=t.getSubmenuItems(),s=Ey(o,r),v=Je(s.menus,Lc(t.value,s.items)),g=Je(s.expansions,Lc(t.value,t.value));return{item:t,menus:v,expansions:g}},S6=function(t,r){return b6(t)?C6(t,r):{item:t,menus:{},expansions:{}}},x6=function(t){if(dA(t))return t;var r=Dn(t,"value").getOrThunk(function(){return ln("generated-menu-item")});return Je({value:r},t)},Ey=function(t,r){var o=w6(E(t)?t.split(" "):t,r);return Fe(o,function(s,v){var g=x6(v),y=S6(g,r);return{menus:Je(s.menus,y.menus),items:[y.item].concat(s.items),expansions:Je(s.expansions,y.expansions)}},{menus:{},expansions:{},items:[]})},Ty=function(t,r,o,s){var v=ln("primary-menu"),g=Ey(t,o.shared.providers.menuItems());if(g.items.length===0)return P.none();var y=mB(v,g.items,r,o,s),k=mr(g.menus,function(D,N){return mB(N,D,r,o,!1)}),A=Je(k,Lc(v,y));return P.from(ra.tieredData(v,A,g.expansions))},gO=function(t){return{isDisabled:function(){return Sn.isDisabled(t)},setDisabled:function(r){return Sn.set(t,r)},setActive:function(r){var o=t.element;r?(Fo(o,"tox-tbtn--enabled"),Xn(o,"aria-pressed",!0)):(Ro(o,"tox-tbtn--enabled"),ai(o,"aria-pressed"))},isActive:function(){return mu(t.element,"tox-tbtn--enabled")}}},pO=function(t,r,o,s){return vA({text:t.text,icon:t.icon,tooltip:t.tooltip,role:s,fetch:function(v,g){t.fetch(function(y){g(Ty(y,au.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:gO,columns:1,presets:"normal",classes:[],dropdownBehaviours:[xo.config({})]},r,o.shared)},_6=function(t,r,o){var s=function(g){return function(y){var k=!y.isActive();y.setActive(k),g.storage.set(k),o.shared.getSink().each(function(A){r().getOpt(A).each(function(D){lc(D.element),kn(D,cv,{name:g.name,value:g.storage.get()})})})}},v=function(g){return function(y){y.setActive(g.storage.get())}};return function(g){g(Ne(t,function(y){var k=y.text.fold(function(){return{}},function(A){return{text:A}});return Ce(Ce({type:y.type,active:!1},k),{onAction:s(y),onSetup:v(y)})}))}},a$=function(t,r,o,s,v,g){o===void 0&&(o=[]);var y=r.fold(function(){return{}},function(D){return{action:D}}),k=Ce({buttonBehaviours:It([ff.button(function(){return t.disabled||g.isDisabled()}),Jo(),xo.config({}),Gn("button press",[xb("click"),xb("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},y),A=Je(k,{dom:s});return Je(A,{components:v})},o$=function(t,r,o,s){s===void 0&&(s=[]);var v=t.tooltip.map(function(A){return{"aria-label":o.translate(A),title:o.translate(A)}}).getOr({}),g={tag:"button",classes:["tox-tbtn"],attributes:v},y=t.icon.map(function(A){return fA(A,o.icons)}),k=xm([y]);return a$(t,r,s,g,k,o)},bO=function(t,r,o,s){s===void 0&&(s=[]);var v=o$(t,P.some(r),o,s);return ls.sketch(v)},yO=function(t,r,o,s,v){s===void 0&&(s=[]),v===void 0&&(v=[]);var g=o.translate(t.text),y=t.icon?t.icon.map(function(z){return fA(z,o.icons)}):P.none(),k=y.isSome()?xm([y]):[],A=y.isSome()?{}:{innerHtml:g},D=Ht(Ht(Ht(Ht([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),y.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),v,!0),N=Ce(Ce({tag:"button",classes:D},A),{attributes:{title:g}});return a$(t,r,s,N,k,o)},wO=function(t,r,o,s,v){s===void 0&&(s=[]),v===void 0&&(v=[]);var g=yO(t,P.some(r),o,s,v);return ls.sketch(g)},iS=function(t,r){return function(o){r==="custom"?kn(o,cv,{name:t,value:{}}):r==="submit"?Rr(o,sl):r==="cancel"?Rr(o,S1):console.error("Unknown button type: ",r)}},mA=function(t,r){return r==="menu"},k6=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},hA=function(t,r,o){if(mA(t,r)){var s=function(){return y},v=t,g=Ce(Ce({},t),{onSetup:function(D){return D.setDisabled(t.disabled),Q},fetch:_6(v.items,s,o)}),y=qr(pO(g,"tox-tbtn",o,P.none()));return y.asSpec()}else if(k6(t,r)){var k=iS(t.name,r),A=Ce(Ce({},t),{borderless:!1});return wO(A,k,o.shared.providers,[])}else console.error("Unknown footer button type: ",r)},A6=function(t,r){var o=iS(t.name,"custom");return bz(P.none(),Ir.parts.field(Ce({factory:ls},yO(t,P.some(o),r,[Dm.memory(""),dv.self()]))))},E6=ve([Te("field1Name","field1"),Te("field2Name","field2"),gu("onLockedChange"),Jd(["lockClass"]),Te("locked",!1),al.field("coupledFieldBehaviours",[fr,Ut])]),CO=function(t,r,o){return ua(t,r,o).bind(fr.getCurrent)},gA=function(t,r){return Di({factory:Ir,name:t,overrides:function(o){return{fieldBehaviours:It([Gn("coupled-input-behaviour",[vt(zd(),function(s){CO(s,o,r).each(function(v){ua(s,o,"lock").each(function(g){Sr.isOn(g)&&o.onLockedChange(s,v,g)})})})])])}}})},i$=ve([gA("field1","field2"),gA("field2","field1"),Di({factory:ls,schema:[it("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:It([Sr.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),T6=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:al.augment(t.coupledFieldBehaviours,[fr.config({find:P.some}),Ut.config({store:{mode:"manual",getValue:function(v){var g,y=M0(v,t,["field1","field2"]);return g={},g[t.field1Name]=Ut.getValue(y.field1()),g[t.field2Name]=Ut.getValue(y.field2()),g},setValue:function(v,g){var y=M0(v,t,["field1","field2"]);ni(g,t.field1Name)&&Ut.setValue(y.field1(),g[t.field1Name]),ni(g,t.field2Name)&&Ut.setValue(y.field2(),g[t.field2Name])}}})]),apis:{getField1:function(v){return ua(v,t,"field1")},getField2:function(v){return ua(v,t,"field2")},getLock:function(v){return ua(v,t,"lock")}}}},Ls=wu({name:"FormCoupledInputs",configFields:E6(),partFields:i$(),factory:T6,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),O6=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(v){return v in r?r[v]:1},s=t.value.toFixed(o(t.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+t.unit},SO=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var s=parseFloat(o[1]),v=o[2];return Yn.value({value:s,unit:v})}else return Yn.error(t)},xO=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(v){return Xr(o,v)};return t.unit===r?P.some(t.value):s(t.unit)&&s(r)?o[t.unit]===o[r]?P.some(t.value):P.some(t.value/o[t.unit]*o[r]):P.none()},_O=function(t){return P.none()},uS=function(t,r){return function(o){return xO(o,r).map(function(s){return{value:s*t,unit:r}})}},D6=function(t,r){var o=SO(t).toOptional(),s=SO(r).toOptional();return Ws(o,s,function(v,g){return xO(v,g.unit).map(function(y){return g.value/y}).map(function(y){return uS(y,g.unit)}).getOr(_O)}).getOr(_O)},u$=function(t,r){var o=_O,s=ln("ratio-event"),v=function(z){return lv(z,{tag:"span",classes:["tox-icon","tox-lock-icon__"+z]},r.icons)},g=Ls.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[v("lock"),v("unlock")],buttonBehaviours:It([Sn.config({disabled:function(){return t.disabled||r.isDisabled()}}),Jo(),xo.config({})])}),y=function(z){return{dom:{tag:"div",classes:["tox-form__group"]},components:z}},k=function(z){return Ir.parts.field({factory:VC,inputClasses:["tox-textfield"],inputBehaviours:It([Sn.config({disabled:function(){return t.disabled||r.isDisabled()}}),Jo(),xo.config({}),Gn("size-input-events",[vt(Qs(),function(j,X){kn(j,s,{isField1:z})}),vt(yh(),function(j,X){kn(j,zl,{name:t.name})})])]),selectOnFocus:!1})},A=function(z){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(z)}}},D=Ls.parts.field1(y([Ir.parts.label(A("Width")),k(!0)])),N=Ls.parts.field2(y([Ir.parts.label(A("Height")),k(!1)]));return Ls.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[D,N,y([A("&nbsp;"),g])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(z,j,X){SO(Ut.getValue(z)).each(function(ne){o(ne).each(function(de){Ut.setValue(j,O6(de))})})},coupledFieldBehaviours:It([Sn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(z){Ls.getField1(z).bind(Ir.getField).each(Sn.disable),Ls.getField2(z).bind(Ir.getField).each(Sn.disable),Ls.getLock(z).each(Sn.disable)},onEnabled:function(z){Ls.getField1(z).bind(Ir.getField).each(Sn.enable),Ls.getField2(z).bind(Ir.getField).each(Sn.enable),Ls.getLock(z).each(Sn.enable)}}),Jo(),Gn("size-input-events2",[vt(s,function(z,j){var X=j.event.isField1,ne=X?Ls.getField1(z):Ls.getField2(z),de=X?Ls.getField2(z):Ls.getField1(z),ke=ne.map(Ut.getValue).getOr(""),ce=de.map(Ut.getValue).getOr("");o=D6(ke,ce)})])])})},R6=ve(ln("undo")),B6=ve(ln("redo")),s$=ve(ln("zoom")),$6=ve(ln("back")),M6=ve(ln("apply")),P6=ve(ln("swap")),N6=ve(ln("transform")),I6=ve(ln("temp-transform")),l$=ve(ln("transform-apply")),Su={undo:R6,redo:B6,zoom:s$,back:$6,apply:M6,swap:P6,transform:N6,tempTransform:I6,transformApply:l$},z6=ve("save-state"),L6=ve("disable"),c$=ve("enable"),fs={formActionEvent:cv,saveState:z6,disable:L6,enable:c$},F6=function(t,r){var o=function(Zt,Zn,Jr,Wa){return qr(wO({name:Zt,text:Zt,disabled:Jr,primary:Wa,icon:P.none(),borderless:!1},Zn,r))},s=function(Zt,Zn,Jr,Wa){return qr(bO({name:Zt,icon:P.some(Zt),tooltip:P.some(Zn),disabled:Wa,primary:!1,borderless:!1},Jr,r))},v=function(Zt,Zn){Zt.map(function(Jr){var Wa=Jr.get(Zn);Wa.hasConfigured(Sn)&&Sn.disable(Wa)})},g=function(Zt,Zn){Zt.map(function(Jr){var Wa=Jr.get(Zn);Wa.hasConfigured(Sn)&&Sn.enable(Wa)})},y={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},k=Q,A=function(Zt,Zn,Jr){kn(Zt,Zn,Jr)},D=function(Zt){return Rr(Zt,fs.disable())},N=function(Zt){return Rr(Zt,fs.enable())},z=function(Zt,Zn){D(Zt),A(Zt,Su.transform(),{transform:Zn}),N(Zt)},j=function(Zt,Zn){D(Zt),A(Zt,Su.tempTransform(),{transform:Zn}),N(Zt)},X=function(Zt){return function(){wv.getOpt(Zt).each(function(Zn){Vn.set(Zn,[Kg])})}},ne=function(Zt,Zn){D(Zt),A(Zt,Su.transformApply(),{transform:Zn,swap:X(Zt)}),N(Zt)},de=function(){return o("Back",function(Zt){return A(Zt,Su.back(),{swap:X(Zt)})},!1,!1)},ke=function(){return qr({dom:{tag:"div",classes:["tox-spacer"]},behaviours:It([Sn.config({})])})},ce=function(){return o("Apply",function(Zt){return A(Zt,Su.apply(),{swap:X(Zt)})},!0,!0)},Ee=function(){return function(Zt){var Zn=t.getRect();return g6(Zt,Zn.x,Zn.y,Zn.w,Zn.h)}},Ge=[de(),ke(),o("Apply",function(Zt){var Zn=Ee();ne(Zt,Zn),t.hideCrop()},!1,!0)],We=Cu.sketch({dom:y,components:Ge.map(function(Zt){return Zt.asSpec()}),containerBehaviours:It([Gn("image-tools-crop-buttons-events",[vt(fs.disable(),function(Zt,Zn){v(Ge,Zt)}),vt(fs.enable(),function(Zt,Zn){g(Ge,Zt)})])])}),Ae=qr(u$({name:"size",label:P.none(),constrain:!0,disabled:!1},r)),Le=function(Zt,Zn){return function(Jr){return p6(Jr,Zt,Zn)}},at=[de(),ke(),Ae,ke(),o("Apply",function(Zt){Ae.getOpt(Zt).each(function(Zn){var Jr=Ut.getValue(Zn),Wa=parseInt(Jr.width,10),hs=parseInt(Jr.height,10),Gu=Le(Wa,hs);ne(Zt,Gu)})},!1,!0)],Wt=Cu.sketch({dom:y,components:at.map(function(Zt){return Zt.asSpec()}),containerBehaviours:It([Gn("image-tools-resize-buttons-events",[vt(fs.disable(),function(Zt,Zn){v(at,Zt)}),vt(fs.enable(),function(Zt,Zn){g(at,Zt)})])])}),ct=function(Zt,Zn){return function(Jr){return Zt(Jr,Zn)}},Kt=ct(Y5,"h"),mt=ct(Y5,"v"),nt=ct(dO,-90),Mt=ct(dO,90),cn=function(Zt,Zn){j(Zt,Zn)},lt=[de(),ke(),s("flip-horizontally","Flip horizontally",function(Zt){cn(Zt,Kt)},!1),s("flip-vertically","Flip vertically",function(Zt){cn(Zt,mt)},!1),s("rotate-left","Rotate counterclockwise",function(Zt){cn(Zt,nt)},!1),s("rotate-right","Rotate clockwise",function(Zt){cn(Zt,Mt)},!1),ke(),ce()],an=Cu.sketch({dom:y,components:lt.map(function(Zt){return Zt.asSpec()}),containerBehaviours:It([Gn("image-tools-fliprotate-buttons-events",[vt(fs.disable(),function(Zt,Zn){v(lt,Zt)}),vt(fs.enable(),function(Zt,Zn){g(lt,Zt)})])])}),dn=function(Zt,Zn,Jr,Wa,hs){var Gu=gf.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(Zt)}}),fl=gf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),kc=gf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return qr(gf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Jr,maxX:hs,getInitialValue:ve({x:Wa})},components:[Gu,fl,kc],sliderBehaviours:It([Ln.config({})]),onChoose:Zn}))},hr=function(Zt,Zn,Jr,Wa,hs){var Gu=function(fl,kc,Iy){var xS=ct(Zn,Iy.x/100);z(fl,xS)};return dn(Zt,Gu,Jr,Wa,hs)},Kr=function(Zt,Zn,Jr,Wa,hs){return[de(),hr(Zt,Zn,Jr,Wa,hs),ce()]},Oa=function(Zt,Zn,Jr,Wa,hs){var Gu=Kr(Zt,Zn,Jr,Wa,hs);return Cu.sketch({dom:y,components:Gu.map(function(fl){return fl.asSpec()}),containerBehaviours:It([Gn("image-tools-filter-panel-buttons-events",[vt(fs.disable(),function(fl,kc){v(Gu,fl)}),vt(fs.enable(),function(fl,kc){g(Gu,fl)})])])})},Qa=[de(),ke(),ce()],cl=Cu.sketch({dom:y,components:Qa.map(function(Zt){return Zt.asSpec()})}),_u=Oa("Brightness",m6,-100,0,100),qA=Oa("Contrast",h6,-100,0,100),hi=Oa("Gamma",v6,-100,0,100),U1=function(Zt,Zn,Jr){return function(Wa){return d6(Wa,Zt,Zn,Jr)}},W1=function(Zt){var Zn=function(Jr,Wa,hs){var Gu=wS.getOpt(Jr),fl=CS.getOpt(Jr),kc=j1.getOpt(Jr);Gu.each(function(Iy){fl.each(function(xS){kc.each(function(zy){var R7=Ut.getValue(Iy).x/100,B7=Ut.getValue(zy).x/100,q1=Ut.getValue(xS).x/100,Ly=U1(R7,B7,q1);z(Jr,Ly)})})})};return dn(Zt,Zn,0,100,200)},wS=W1("R"),j1=W1("G"),CS=W1("B"),ms=[de(),wS,j1,CS,ce()],yv=Cu.sketch({dom:y,components:ms.map(function(Zt){return Zt.asSpec()})}),ju=function(Zt,Zn,Jr){return function(Wa){var hs=function(){wv.getOpt(Wa).each(function(Gu){Vn.set(Gu,[Zt]),Jr(Gu)})};A(Wa,Su.swap(),{transform:Zn,swap:hs})}},SS=function(Zt){t.showCrop()},qg=function(Zt){Ae.getOpt(Zt).each(function(Zn){var Jr=t.getMeasurements(),Wa=Jr.width,hs=Jr.height;Ut.setValue(Zn,{width:Wa,height:hs})})},Ny=P.some(f6),gi=P.some(c6),Nm=[s("crop","Crop",ju(We,P.none(),SS),!1),s("resize","Resize",ju(Wt,P.none(),qg),!1),s("orientation","Orientation",ju(an,P.none(),k),!1),s("brightness","Brightness",ju(_u,P.none(),k),!1),s("sharpen","Sharpen",ju(cl,Ny,k),!1),s("contrast","Contrast",ju(qA,P.none(),k),!1),s("color-levels","Color levels",ju(yv,P.none(),k),!1),s("gamma","Gamma",ju(hi,P.none(),k),!1),s("invert","Invert",ju(cl,gi,k),!1)],Kg=Cu.sketch({dom:y,components:Nm.map(function(Zt){return Zt.asSpec()})}),G1=Cu.sketch({dom:{tag:"div"},components:[Kg],containerBehaviours:It([Vn.config({})])}),wv=qr(G1),Xg=function(Zt){return wv.getOpt(Zt).map(function(Zn){var Jr=Zn.components()[0];return Jr.components()[Jr.components().length-1]})};return{memContainer:wv,getApplyButton:Xg}},f$=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Ll=tinymce.util.Tools.resolve("tinymce.util.Observable"),Oy=tinymce.util.Tools.resolve("tinymce.util.VK"),kO=function(t){var r=Math.max,o=t.documentElement,s=t.body,v=r(o.scrollWidth,s.scrollWidth),g=r(o.clientWidth,s.clientWidth),y=r(o.offsetWidth,s.offsetWidth),k=r(o.scrollHeight,s.scrollHeight),A=r(o.clientHeight,s.clientHeight),D=r(o.offsetHeight,s.offsetHeight);return{width:v<y?g:v,height:k<D?A:k}},v$=function(t){return me(t.changedTouches)},pA=function(t){if(v$(t))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function bA(t,r){var o,s,v,g,y=[],k=[],A=(o=r.document)!==null&&o!==void 0?o:document,D=(s=r.root)!==null&&s!==void 0?s:A,N=Gt.fromDom(A),z,j,X,ne=Gt.fromDom(D.getElementById((v=r.handle)!==null&&v!==void 0?v:t)),de=function(Ge){var We=Ge.raw,Ae=kO(A);pA(We),Ge.prevent(),z=We.button,j=We.screenX,X=We.screenY;var Le=Ka(ne,"cursor");g=Gt.fromTag("div",A),Zu(g,{position:"absolute",top:"0",left:"0",width:Ae.width+"px",height:Ae.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:Le}),zi(yo(N),g),k.push(mo(N,"mousemove",ke),mo(N,"touchmove",ke),mo(N,"mouseup",ce),mo(N,"touchend",ce)),r.start(We)},ke=function(Ge){var We=Ge.raw;if(pA(We),We.button!==z)return ce(Ge);We.deltaX=We.screenX-j,We.deltaY=We.screenY-X,Ge.prevent(),r.drag(We)},ce=function(Ge){pA(Ge.raw),yt(k,function(We){return We.unbind()}),k=[],Du(g),r.stop&&r.stop(Ge.raw)},Ee=function(){yt(k.concat(y),function(Ge){return Ge.unbind()}),k=[],y=[],me(g)&&Du(g)};return y.push(mo(ne,"mousedown",de),mo(ne,"touchstart",de)),{destroy:Ee}}var H6=0,yA=function(t,r,o,s,v){var g,y=[],k="tox-",A=k+"crid-"+H6++,D=Gt.fromDom(s),N=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],z=["top","right","bottom","left"],j=function(ct,Kt){return{x:Kt.x+ct.x,y:Kt.y+ct.y,w:Kt.w,h:Kt.h}},X=function(ct,Kt){return{x:Kt.x-ct.x,y:Kt.y-ct.y,w:Kt.w,h:Kt.h}},ne=function(){return X(o,t)},de=function(ct,Kt,mt,nt){var Mt=Kt.x+mt*ct.deltaX,cn=Kt.y+nt*ct.deltaY,lt=Math.max(20,Kt.w+mt*ct.deltaW),an=Math.max(20,Kt.h+nt*ct.deltaH),dn=t=f$.clamp({x:Mt,y:cn,w:lt,h:an},o,ct.name==="move");dn=X(o,dn),Wt.fire("updateRect",{rect:dn}),Ae(dn)},ke=function(){var ct=function(Mt){var cn;return bA(A,{document:s.ownerDocument,root:Cs(D).dom,handle:A+"-"+Mt.name,start:function(){cn=t},drag:function(lt){de(Mt,cn,lt.deltaX,lt.deltaY)}})},Kt=Gt.fromTag("div");Ju(Kt,{id:A,class:k+"croprect-container",role:"grid","aria-dropeffect":"execute"}),zi(D,Kt),yt(z,function(Mt){Ho(D,"#"+A).each(function(cn){var lt=Gt.fromTag("div");Ju(lt,{id:A+"-"+Mt,class:k+"croprect-block","data-mce-bogus":"all"}),Nn(lt,"display","none"),zi(cn,lt)})}),yt(N,function(Mt){Ho(D,"#"+A).each(function(cn){var lt=Gt.fromTag("div");Ju(lt,{id:A+"-"+Mt.name,"aria-label":Mt.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:Mt.label}),qd(lt,[k+"croprect-handle",k+"croprect-handle-"+Mt.name]),Nn(lt,"display","none"),zi(cn,lt)})}),g=Ne(N,ct),Ee(t);var mt=function(Mt){Xn(Mt.target,"aria-grabbed",Mt.raw.type==="focus"?"true":"false")},nt=function(Mt){var cn;yt(N,function(an){if(Ra(Mt.target,"id")===A+"-"+an.name)return cn=an,!1});var lt=function(an,dn,hr,Kr,Oa){an.stopPropagation(),an.preventDefault(),de(cn,hr,Kr,Oa)};switch(Mt.raw.keyCode){case Oy.LEFT:lt(Mt,cn,t,-10,0);break;case Oy.RIGHT:lt(Mt,cn,t,10,0);break;case Oy.UP:lt(Mt,cn,t,0,-10);break;case Oy.DOWN:lt(Mt,cn,t,0,10);break;case Oy.ENTER:case Oy.SPACEBAR:Mt.prevent(),v();break}};y.push(mo(D,"focusin",mt),mo(D,"focusout",mt),mo(D,"keydown",nt))},ce=function(ct){var Kt=Ht(Ht([],Ne(N,function(nt){return"#"+A+"-"+nt.name}),!0),Ne(z,function(nt){return"#"+A+"-"+nt}),!0).join(","),mt=tu(D,Kt);ct?yt(mt,function(nt){return Mr(nt,"display")}):yt(mt,function(nt){return Nn(nt,"display","none")})},Ee=function(ct){var Kt=function(mt,nt){Ho(D,"#"+A+"-"+mt).each(function(Mt){Zu(Mt,{left:nt.x+"px",top:nt.y+"px",width:Math.max(0,nt.w)+"px",height:Math.max(0,nt.h)+"px"})})};yt(N,function(mt){Ho(D,"#"+A+"-"+mt.name).each(function(nt){Zu(nt,{left:ct.w*mt.xMul+ct.x+"px",top:ct.h*mt.yMul+ct.y+"px"})})}),Kt("top",{x:r.x,y:r.y,w:r.w,h:ct.y-r.y}),Kt("right",{x:ct.x+ct.w,y:ct.y,w:r.w-ct.x-ct.w+r.x,h:ct.h}),Kt("bottom",{x:r.x,y:ct.y+ct.h,w:r.w,h:r.h-ct.y-ct.h+r.y}),Kt("left",{x:r.x,y:ct.y,w:ct.x-r.x,h:ct.h}),Kt("move",ct)},Ge=function(ct){t=ct,Ee(t)},We=function(ct){r=ct,Ee(t)},Ae=function(ct){Ge(j(o,ct))},Le=function(ct){o=ct,Ee(t)},at=function(){yt(g,function(ct){return ct.destroy()}),g=[],yt(y,function(ct){return ct.unbind()}),y=[]};ke();var Wt=Ce(Ce({},Ll),{toggleVisibility:ce,setClampRect:Le,setRect:Ge,getInnerRect:ne,setInnerRect:Ae,setViewPortRect:We,destroy:at});return Wt},V6={create:yA},sS=function(t){return new SC(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},d$=function(t){var r=qr({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=_n(1),s=q2(),v=_n({x:0,y:0,w:1,h:1}),g=_n({x:0,y:0,w:1,h:1}),y=function(ke,ce){ne.getOpt(ke).each(function(Ee){var Ge=o.get(),We=Ii(Ee.element),Ae=Oo(Ee.element),Le=ce.dom.naturalWidth*Ge,at=ce.dom.naturalHeight*Ge,Wt=Math.max(0,We/2-Le/2),ct=Math.max(0,Ae/2-at/2),Kt={left:Wt.toString()+"px",top:ct.toString()+"px",width:Le.toString()+"px",height:at.toString()+"px",position:"absolute"};Zu(ce,Kt),r.getOpt(Ee).each(function(mt){Zu(mt.element,Kt)}),s.run(function(mt){var nt=v.get();mt.setRect({x:nt.x*Ge+Wt,y:nt.y*Ge+ct,w:nt.w*Ge,h:nt.h*Ge}),mt.setClampRect({x:Wt,y:ct,w:Le,h:at}),mt.setViewPortRect({x:0,y:0,w:We,h:Ae})})})},k=function(ke,ce){ne.getOpt(ke).each(function(Ee){var Ge=Ii(Ee.element),We=Oo(Ee.element),Ae=ce.dom.naturalWidth,Le=ce.dom.naturalHeight,at=Math.min(Ge/Ae,We/Le);at>=1?o.set(1):o.set(at)})},A=function(ke,ce){var Ee=Gt.fromTag("img");return Xn(Ee,"src",ce),sS(Ee.dom).then(function(){ke.getSystem().isConnected()&&ne.getOpt(ke).map(function(Ge){var We=Pb({element:Ee});Vn.replaceAt(Ge,1,P.some(We));var Ae=g.get(),Le={x:0,y:0,w:Ee.dom.naturalWidth,h:Ee.dom.naturalHeight};g.set(Le);var at=f$.inflate(Le,-20,-20);v.set(at),(Ae.w!==Le.w||Ae.h!==Le.h)&&k(Ge,Ee),y(Ge,Ee)})})},D=function(ke,ce){var Ee=o.get(),Ge=ce>0?Math.min(2,Ee+.1):Math.max(.1,Ee-.1);o.set(Ge),ne.getOpt(ke).each(function(We){var Ae=We.components()[1].element;y(We,Ae)})},N=function(){s.run(function(ke){ke.toggleVisibility(!0)})},z=function(){s.run(function(ke){ke.toggleVisibility(!1)})},j=function(){return v.get()},X=Cu.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:It([Gn("image-panel-crop-events",[jn(function(ke){ne.getOpt(ke).each(function(ce){var Ee=ce.element.dom,Ge=V6.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Ee,Q);Ge.toggleVisibility(!1),Ge.on("updateRect",function(We){var Ae=We.rect,Le=o.get(),at={x:Math.round(Ae.x/Le),y:Math.round(Ae.y/Le),w:Math.round(Ae.w/Le),h:Math.round(Ae.h/Le)};v.set(at)}),s.set(Ge)})}),Rs(function(){s.clear()})])])}],containerBehaviours:It([Vn.config({}),Gn("image-panel-events",[jn(function(ke){A(ke,t)})])])}),ne=qr(X),de=function(){var ke=g.get();return{width:ke.w,height:ke.h}};return{memContainer:ne,updateSrc:A,zoom:D,showCrop:N,hideCrop:z,getRect:j,getMeasurements:de}},Fs=function(t,r,o,s,v){return bO({name:t,icon:P.some(r),disabled:o,tooltip:P.some(t),primary:!1,borderless:!1},s,v)},m$=function(t,r){r?Sn.enable(t):Sn.disable(t)},h$=function(t){var r=function(g,y,k){o.getOpt(g).each(function(A){m$(A,y)}),s.getOpt(g).each(function(A){m$(A,k)})},o=qr(Fs("Undo","undo",!0,function(g){kn(g,Su.undo(),{direction:1})},t)),s=qr(Fs("Redo","redo",!0,function(g){kn(g,Su.redo(),{direction:1})},t)),v=Cu.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),s.asSpec(),Fs("Zoom in","zoom-in",!1,function(g){kn(g,Su.zoom(),{direction:1})},t),Fs("Zoom out","zoom-out",!1,function(g){kn(g,Su.zoom(),{direction:-1})},t)]});return{container:v,updateButtonUndoStates:r}};function U6(){var t=[],r=-1,o=function(k){var A=t.splice(++r);return t.push(k),{state:k,removed:A}},s=function(){if(g())return t[--r]},v=function(){if(y())return t[++r]},g=function(){return r>0},y=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:s,redo:v,canUndo:g,canRedo:y}}var W6=function(t){var r=_n(t),o=io(),s=U6();s.add(t);var v=function(){return r.get()},g=function(Ee){r.set(Ee)},y=function(){return o.get().getOrThunk(r.get)},k=function(Ee){var Ge=A(Ee);return z(),o.set(Ge),Ge.url},A=function(Ee){return{blob:Ee,url:URL.createObjectURL(Ee)}},D=function(Ee){URL.revokeObjectURL(Ee.url)},N=function(Ee){Lg.each(Ee,D)},z=function(){o.on(D),o.clear()},j=function(Ee){var Ge=A(Ee);g(Ge);var We=s.add(Ge).removed;return N(We),Ge.url},X=function(Ee){var Ge=A(Ee);return o.set(Ge),Ge.url},ne=function(Ee){return o.get().fold(Q,function(Ge){j(Ge.blob),Ee()})},de=function(){var Ee=s.undo();return g(Ee),Ee.url},ke=function(){var Ee=s.redo();return g(Ee),Ee.url},ce=function(){var Ee=s.canUndo(),Ge=s.canRedo();return{undoEnabled:Ee,redoEnabled:Ge}};return{getBlobState:v,setBlobState:g,addBlobState:j,getTempState:y,updateTempState:k,addTempState:X,applyTempState:ne,destroyTempState:z,undo:de,redo:ke,getHistoryStates:ce}},j6=function(t,r){var o=W6(t.currentState),s=function(mt,nt){var Mt=nt.event.direction;at.zoom(mt,Mt)},v=function(mt){var nt=o.getHistoryStates();Wt.updateButtonUndoStates(mt,nt.undoEnabled,nt.redoEnabled),kn(mt,fs.formActionEvent,{name:fs.saveState(),value:nt.undoEnabled})},g=function(mt){Wt.updateButtonUndoStates(mt,!1,!1)},y=function(mt,nt){var Mt=o.undo();z(mt,Mt).then(function(cn){N(mt),v(mt)})},k=function(mt,nt){var Mt=o.redo();z(mt,Mt).then(function(cn){N(mt),v(mt)})},A=function(mt){return mt.toBlob()},D=function(mt){kn(mt,fs.formActionEvent,{name:fs.disable(),value:{}})},N=function(mt){ct.getApplyButton(mt).each(function(nt){Sn.enable(nt)}),kn(mt,fs.formActionEvent,{name:fs.enable(),value:{}})},z=function(mt,nt){return D(mt),at.updateSrc(mt,nt)},j=function(mt,nt,Mt,cn,lt){D(mt),YL(nt).then(Mt).then(A).then(cn).then(function(an){return z(mt,an)}).then(function(){v(mt),lt(),N(mt)}).catch(function(an){console.log(an),mt.getSystem().isConnected()&&N(mt)})},X=function(mt,nt,Mt){var cn=o.getBlobState().blob,lt=function(an){return o.updateTempState(an)};j(mt,cn,nt,lt,Mt)},ne=function(mt,nt){var Mt=o.getTempState().blob,cn=function(lt){return o.addTempState(lt)};j(mt,Mt,nt,cn,Q)},de=function(mt,nt,Mt){var cn=o.getBlobState().blob,lt=function(an){var dn=o.addBlobState(an);return ce(mt),dn};j(mt,cn,nt,lt,Mt)},ke=function(mt,nt){var Mt=function(){ce(mt);var cn=nt.event.swap;cn()};o.applyTempState(Mt)},ce=function(mt){var nt=o.getBlobState().url;return o.destroyTempState(),v(mt),nt},Ee=function(mt){var nt=ce(mt);z(mt,nt).then(function(Mt){N(mt)})},Ge=function(mt,nt){Ee(mt);var Mt=nt.event.swap;Mt(),at.hideCrop()},We=function(mt,nt){return X(mt,nt.event.transform,Q)},Ae=function(mt,nt){return ne(mt,nt.event.transform)},Le=function(mt,nt){return de(mt,nt.event.transform,nt.event.swap)},at=d$(t.currentState.url),Wt=h$(r),ct=F6(at,r),Kt=function(mt,nt){g(mt);var Mt=nt.event.transform,cn=nt.event.swap;Mt.fold(function(){cn()},function(lt){X(mt,lt,cn)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[ct.memContainer.asSpec(),at.memContainer.asSpec(),Wt.container],behaviours:It([Ut.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),Gn("image-tools-events",[vt(Su.undo(),y),vt(Su.redo(),k),vt(Su.zoom(),s),vt(Su.back(),Ge),vt(Su.apply(),ke),vt(Su.transform(),We),vt(Su.tempTransform(),Ae),vt(Su.transformApply(),Le),vt(Su.swap(),Kt)]),dv.self()])}},G6=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},s=Ne(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:It([dv.self(),Vn.config({}),Dm.domHtml(P.none()),Tn.config({mode:"acyclic"})])}},AO=function(t){return!Xr(t,"items")},g$="data-value",p$=function(t,r,o,s){return Ne(o,function(v){return AO(v)?{type:"togglemenuitem",text:v.text,value:v.value,active:v.value===s,onAction:function(){Ut.setValue(t,v.value),kn(t,zl,{name:r}),Ln.focus(t)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:function(){return p$(t,r,v.items,s)}}})},b$=function(t,r){return Pa(t,function(o){return AO(o)?js(o.value===r,o):b$(o.items,r)})},q6=function(t,r){var o=r.shared.providers,s=Er(t.items).filter(AO),v=t.label.map(function(k){return Am(k,o)}),g=Ir.parts.field({dom:{},factory:{sketch:function(k){return vA({uid:k.uid,text:s.map(function(A){return A.text}),icon:P.none(),tooltip:t.label,role:P.none(),fetch:function(A,D){var N=p$(A,t.name,t.items,Ut.getValue(A));D(Ty(N,au.CLOSE_ON_EXECUTE,r,!1))},onSetup:ve(Q),getApi:ve({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[xo.config({}),Ut.config({store:{mode:"manual",initialValue:s.map(function(A){return A.value}).getOr(""),getValue:function(A){return Ra(A.element,g$)},setValue:function(A,D){b$(t.items,D).each(function(N){Xn(A.element,g$,N.value),kn(A,$1,{text:N.text})})}}})]},"tox-listbox",r.shared)}}}),y={dom:{tag:"div",classes:["tox-listboxfield"]},components:[g]};return Ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Qe([v.toArray(),[y]]),fieldBehaviours:It([Sn.config({disabled:ve(t.disabled),onDisabled:function(k){Ir.getField(k).each(Sn.disable)},onEnabled:function(k){Ir.getField(k).each(Sn.enable)}})])})},y$=function(t,r){return{dom:{tag:"div",classes:t.classes},components:Ne(t.items,r.shared.interpreter)}},w$=function(t,r){var o=Ne(t.options,function(v){return{dom:{tag:"option",value:v.value,innerHtml:v.text}}}),s=t.data.map(function(v){return Lc("initialValue",v)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:si(t.selectBehaviours,[Ln.config({}),Ut.config({store:Ce({mode:"manual",getValue:function(v){return Gc(v.element)},setValue:function(v,g){var y=bt(t.options,function(k){return k.value===g});y.isSome()&&Th(v.element,g)}},s)})])}},C$=Is({name:"HtmlSelect",configFields:[it("options"),jo("selectBehaviours",[Ln,Ut]),Te("selectClasses",[]),Te("selectAttributes",{}),Pr("data")],factory:w$}),K6=function(t,r){var o=Ne(t.items,function(k){return{text:r.translate(k.text),value:k.value}}),s=t.label.map(function(k){return Am(k,r)}),v=Ir.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:C$,selectBehaviours:It([Sn.config({disabled:function(){return t.disabled||r.isDisabled()}}),xo.config({}),Gn("selectbox-change",[vt(yh(),function(k,A){kn(k,zl,{name:t.name})})])])}),g=t.size>1?P.none():P.some(lv("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),y={dom:{tag:"div",classes:["tox-selectfield"]},components:Qe([[v],g.toArray()])};return Ir.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Qe([s.toArray(),[y]]),fieldBehaviours:It([Sn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(k){Ir.getField(k).each(Sn.disable)},onEnabled:function(k){Ir.getField(k).each(Sn.enable)}}),Jo()])})},S$=function(t,r){var o=function(k){return{dom:{tag:"th",innerHtml:r.translate(k)}}},s=function(k){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ne(k,o)}]}},v=function(k){return{dom:{tag:"td",innerHtml:r.translate(k)}}},g=function(k){return{dom:{tag:"tr"},components:Ne(k,v)}},y=function(k){return{dom:{tag:"tbody"},components:Ne(k,g)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(t.header),y(t.cells)],behaviours:It([xo.config({}),Ln.config({})])}},x$=function(t,r){var o=t.label.map(function(j){return Am(j,r)}),s=[Sn.config({disabled:function(){return t.disabled||r.isDisabled()}}),Jo(),Tn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(j){return Rr(j,sl),P.some(!0)}}),Gn("textfield-change",[vt(zd(),function(j,X){kn(j,zl,{name:t.name})}),vt(v2(),function(j,X){kn(j,zl,{name:t.name})})]),xo.config({})],v=t.validation.map(function(j){return fv.config({getRoot:function(X){return bo(X.element)},invalidClass:"tox-invalid",validator:{validate:function(X){var ne=Ut.getValue(X),de=j.validator(ne);return Gi.pure(de===!0?Yn.value(ne):Yn.error(de))},validateOnLoad:j.validateOnLoad}})}).toArray(),g=t.placeholder.fold(ve({}),function(j){return{placeholder:r.translate(j)}}),y=t.inputMode.fold(ve({}),function(j){return{inputmode:j}}),k=Ce(Ce({},g),y),A=Ir.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:k,inputClasses:[t.classname],inputBehaviours:It(Qe([s,v])),selectOnFocus:!1,factory:VC}),D=t.flex?["tox-form__group--stretched"]:[],N=D.concat(t.maximized?["tox-form-group--maximize"]:[]),z=[Sn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(j){Ir.getField(j).each(Sn.disable)},onEnabled:function(j){Ir.getField(j).each(Sn.enable)}}),Jo()];return FC(o,A,N,z)},X6=function(t,r){return x$({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:P.none(),maximized:t.maximized},r)},Y6=function(t,r){return x$({name:t.name,multiline:!0,label:t.label,inputMode:P.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:P.none(),maximized:t.maximized},r)},J6=function(t,r){var o=t.stream.streams,s=o.setup(t,r);return va([vt(t.event,s),Rs(function(){return r.cancel()})].concat(t.cancelEvent.map(function(v){return[vt(v,function(){return r.cancel()})]}).getOr([])))},Z6=Object.freeze({__proto__:null,events:J6}),_$=function(t){var r=_n(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},s=function(g){r.set(g)},v=function(){var g=r.get();g!==null&&g.cancel()};return Ui({readState:o,setTimer:s,cancel:v})},Q6=function(t){return t.stream.streams.state(t)},e8=Object.freeze({__proto__:null,throttle:_$,init:Q6}),t8=function(t,r){var o=t.stream,s=D3(t.onStream,o.delay);return r.setTimer(s),function(v,g){s.throttle(v,g),o.stopEvent&&g.stop()}},n8=[$u("stream",Zs("mode",{throttle:[it("delay"),Te("stopEvent",!0),ha("streams",{setup:t8,state:_$})]})),Te("event","input"),Pr("cancelEvent"),gu("onStream")],k$=Wo({fields:n8,name:"streaming",active:Z6,state:e8}),wA=function(t,r,o){var s=Ut.getValue(o);Ut.setValue(r,s),E$(r)},A$=function(t,r){var o=t.element,s=Gc(o),v=o.dom;Ra(o,"type")!=="number"&&r(v,s)},E$=function(t){A$(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},T$=function(t,r){A$(t,function(o,s){return o.setSelectionRange(r,s.length)})},r8=function(t,r,o){if(t.selectsOver){var s=Ut.getValue(r),v=t.getDisplayText(s),g=Ut.getValue(o),y=t.getDisplayText(g);return y.indexOf(v)===0?P.some(function(){wA(t,r,o),T$(r,v.length)}):P.none()}else return P.none()},EO=ve("alloy.typeahead.itemexecute"),O$=function(t,r,o,s){var v=function(A,D,N){t.previewing.set(!1);var z=_o.getCoupled(A,"sandbox");if(wr.isOpen(z))fr.getCurrent(z).each(function(X){Wr.getHighlighted(X).fold(function(){N(X)},function(){YS(z,X.element,"keydown",D)})});else{var j=function(X){fr.getCurrent(X).each(N)};Uk(t,y(A),A,z,s,j,vf.HighlightFirst).get(Q)}},g=Fk(t),y=function(A){return function(D){return D.map(function(N){var z=jl(N.menus),j=qt(z,function(ne){return pe(ne.items,function(de){return de.type==="item"})}),X=Ut.getState(A);return X.update(Ne(j,function(ne){return ne.data})),N})}},k=[Ln.config({}),Ut.config({onSetValue:t.onSetValue,store:Ce({mode:"dataset",getDataKey:function(A){return Gc(A.element)},getFallbackEntry:function(A){return{value:A,meta:{}}},setValue:function(A,D){Th(A.element,t.model.getDisplayText(D))}},t.initialData.map(function(A){return Lc("initialValue",A)}).getOr({}))}),k$.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(A,D){var N=_o.getCoupled(A,"sandbox"),z=Ln.isFocused(A);if(z&&Gc(A.element).length>=t.minChars){var j=fr.getCurrent(N).bind(function(ne){return Wr.getHighlighted(ne).map(Ut.getValue)});t.previewing.set(!0);var X=function(ne){fr.getCurrent(N).each(function(de){j.fold(function(){t.model.selectsOver&&Wr.highlightFirst(de)},function(ke){Wr.highlightBy(de,function(ce){var Ee=Ut.getValue(ce);return Ee.value===ke.value}),Wr.getHighlighted(de).orThunk(function(){return Wr.highlightFirst(de),P.none()})})})};Uk(t,y(A),A,N,s,X,vf.HighlightFirst).get(Q)}},cancelEvent:d2()}),Tn.config({mode:"special",onDown:function(A,D){return v(A,D,Wr.highlightFirst),P.some(!0)},onEscape:function(A){var D=_o.getCoupled(A,"sandbox");return wr.isOpen(D)?(wr.close(D),P.some(!0)):P.none()},onUp:function(A,D){return v(A,D,Wr.highlightLast),P.some(!0)},onEnter:function(A){var D=_o.getCoupled(A,"sandbox"),N=wr.isOpen(D);if(N&&!t.previewing.get())return fr.getCurrent(D).bind(function(j){return Wr.getHighlighted(j)}).map(function(j){return kn(A,EO(),{item:j}),!0});var z=Ut.getValue(A);return Rr(A,d2()),t.onExecute(D,A,z),N&&wr.close(D),P.some(!0)}}),Sr.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),_o.config({others:{sandbox:function(A){return R4(t,A,{onOpen:function(){return Sr.on(A)},onClose:function(){return Sr.off(A)}})}}}),Gn("typeaheadevents",[os(function(A){var D=Q;Sy(t,y(A),A,s,D,vf.HighlightFirst).get(Q)}),vt(EO(),function(A,D){var N=_o.getCoupled(A,"sandbox");wA(t.model,A,D.event.item),Rr(A,d2()),t.onItemExecute(A,N,D.event.item,Ut.getValue(A)),wr.close(N),E$(A)})].concat(t.dismissOnBlur?[vt(f2(),function(A){var D=_o.getCoupled(A,"sandbox");cc(D.element).isNone()&&wr.close(D)})]:[]))];return{uid:t.uid,dom:Hk(Je(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:Ce(Ce({},g),si(t.typeaheadBehaviours,k)),eventOrder:t.eventOrder}},a8=ve([Pr("lazySink"),it("fetch"),Te("minChars",5),Te("responseTime",1e3),Nr("onOpen"),Te("getHotspot",P.some),Te("getAnchorOverrides",ve({})),Te("layouts",P.none()),Te("eventOrder",{}),n2("model",{},[Te("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),Te("selectsOver",!0),Te("populateFromBrowse",!0)]),Nr("onSetValue"),Vo("onExecute"),Nr("onItemExecute"),Te("inputClasses",[]),Te("inputAttributes",{}),Te("inputStyles",{}),Te("matchWidth",!0),Te("useMinWidth",!1),Te("dismissOnBlur",!0),Jd(["openClass"]),Pr("initialData"),jo("typeaheadBehaviours",[Ln,Ut,k$,Tn,Sr,_o]),fu("previewing",function(){return _n(!0)})].concat(TB()).concat(B4())),o8=ve([Ns({schema:[Yd()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(s){r8(t.model,s,o).fold(function(){return Wr.dehighlight(r,o)},function(v){return v()})}):r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&wA(t.model,s,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(s){return kn(s,EO(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&wA(t.model,s,o)})}}}})]),i8=wu({name:"Typeahead",configFields:a8(),partFields:o8(),factory:O$}),pf=function(t){var r=function(){return pf(t.toCached())},o=function(A){return pf(t.bind(function(D){return D.fold(function(N){return Gi.pure(Yn.error(N))},function(N){return A(N)})}))},s=function(A){return pf(t.map(function(D){return D.bind(A)}))},v=function(A){return pf(t.map(function(D){return D.map(A)}))},g=function(A){return pf(t.map(function(D){return D.mapError(A)}))},y=function(A,D){return t.map(function(N){return N.fold(A,D)})},k=function(A,D){return pf(Gi.nu(function(N){var z=!1,j=setTimeout(function(){z=!0,N(Yn.error(D()))},A);t.get(function(X){z||(clearTimeout(j),N(X))})}))};return Ce(Ce({},t),{toCached:r,bindFuture:o,bindResult:s,mapResult:v,mapError:g,foldResult:y,withTimeout:k})},D$=function(t){return pf(Gi.nu(t))},R$=function(t){return pf(Gi.pure(Yn.value(t)))},CA=function(t){return pf(Gi.pure(Yn.error(t)))},u8=function(t){return pf(Gi.pure(t))},s8=function(t){return pf(t.map(Yn.value))},l8=function(t){return D$(function(r){t.then(function(o){r(Yn.value(o))},function(o){r(Yn.error(o))})})},c8={nu:D$,wrap:pf,pure:R$,value:R$,error:CA,fromResult:u8,fromFuture:s8,fromPromise:l8},f8={type:"separator"},v8=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:Q}},TO=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:Q}},B$=function(t){return Ne(t,v8)},d8=function(t,r){return pe(r,function(o){return o.type===t})},$$=function(t,r){return B$(d8(t,r))},m8=function(t){return $$("header",t.targets)},h8=function(t){return $$("anchor",t.targets)},g8=function(t){return P.from(t.anchorTop).map(function(r){return TO("<top>",r)}).toArray()},p8=function(t){return P.from(t.anchorBottom).map(function(r){return TO("<bottom>",r)}).toArray()},b8=function(t){return Ne(t,function(r){return TO(r,r)})},M$=function(t){return je(t,function(r,o){var s=r.length===0||o.length===0;return s?r.concat(o):r.concat(f8,o)},[])},OO=function(t,r){var o=t.toLowerCase();return pe(r,function(s){var v=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return aa(v.toLowerCase(),o)||aa(s.value.toLowerCase(),o)})},y8=function(t,r,o){var s=Ut.getValue(r),v=s.meta.text!==void 0?s.meta.text:s.value,g=o.getLinkInformation();return g.fold(function(){return[]},function(y){var k=OO(v,b8(o.getHistory(t)));return t==="file"?M$([k,OO(v,m8(y)),OO(v,Qe([g8(y),h8(y),p8(y)]))]):k})},P$=ln("aria-invalid"),w8=function(t,r,o){var s,v=r.shared.providers,g=function(ce){var Ee=Ut.getValue(ce);o.addToHistory(Ee.value,t.filetype)},y=Ir.parts.field({factory:i8,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":P$,type:"url"},minChars:0,responseTime:0,fetch:function(ce){var Ee=y8(t.filetype,ce,o),Ge=Ty(Ee,au.BUBBLE_TO_SANDBOX,r,!1);return Gi.pure(Ge)},getHotspot:function(ce){return X.getOpt(ce)},onSetValue:function(ce,Ee){ce.hasConfigured(fv)&&fv.run(ce).get(Q)},typeaheadBehaviours:It(Qe([o.getValidationHandler().map(function(ce){return fv.config({getRoot:function(Ee){return bo(Ee.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Ee,Ge){D.getOpt(Ee).each(function(We){Xn(We.element,"title",v.translate(Ge))})}},validator:{validate:function(Ee){var Ge=Ut.getValue(Ee);return c8.nu(function(We){ce({type:t.filetype,url:Ge.value},function(Ae){if(Ae.status==="invalid"){var Le=Yn.error(Ae.message);We(Le)}else{var at=Yn.value(Ae.message);We(at)}})})},validateOnLoad:!1}})}).toArray(),[Sn.config({disabled:function(){return t.disabled||v.isDisabled()}}),xo.config({}),Gn("urlinput-events",Qe([t.filetype==="file"?[vt(zd(),function(ce){kn(ce,zl,{name:t.name})})]:[],[vt(yh(),function(ce){kn(ce,zl,{name:t.name}),g(ce)}),vt(v2(),function(ce){kn(ce,zl,{name:t.name}),g(ce)})]]))]])),eventOrder:(s={},s[zd()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(ce){return ce.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:p1(!1,1,"normal")},onExecute:function(ce,Ee,Ge){kn(Ee,sl,{})},onItemExecute:function(ce,Ee,Ge,We){g(ce),kn(ce,zl,{name:t.name})}}),k=t.label.map(function(ce){return Am(ce,v)}),A=function(ce,Ee,Ge,We){return Ge===void 0&&(Ge=ce),We===void 0&&(We=ce),lv(Ge,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ce],attributes:Ce({title:v.translate(We),"aria-live":"polite"},Ee.fold(function(){return{}},function(Ae){return{id:Ae}}))},v.icons)},D=qr(A("invalid",P.some(P$),"warning")),N=qr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[D.asSpec()]}),z=o.getUrlPicker(t.filetype),j=ln("browser.url.event"),X=qr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[y,N.asSpec()],behaviours:It([Sn.config({disabled:function(){return t.disabled||v.isDisabled()}})])}),ne=qr(wO({name:t.name,icon:P.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(ce){return Rr(ce,j)},v,[],["tox-browse-url"])),de=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Qe([[X.asSpec()],z.map(function(){return ne.asSpec()}).toArray()])}},ke=function(ce){fr.getCurrent(ce).each(function(Ee){var Ge=Ut.getValue(Ee),We=Ce({fieldname:t.name},Ge);z.each(function(Ae){Ae(We).get(function(Le){Ut.setValue(Ee,Le),kn(ce,zl,{name:t.name})})})})};return Ir.sketch({dom:wz(),components:k.toArray().concat([de()]),fieldBehaviours:It([Sn.config({disabled:function(){return t.disabled||v.isDisabled()},onDisabled:function(ce){Ir.getField(ce).each(Sn.disable),ne.getOpt(ce).each(Sn.disable)},onEnabled:function(ce){Ir.getField(ce).each(Sn.enable),ne.getOpt(ce).each(Sn.enable)}}),Jo(),Gn("url-input-events",[vt(j,ke)])])})},C8=function(t,r){return Cu.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[ls.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:RD(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){kn(o,cv,{name:"alert-banner",value:t.url})},buttonBehaviours:It([A3()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},S8=function(t,r){var o=Ut.config({store:{mode:"manual",getValue:function(A){var D=A.element.dom;return D.checked},setValue:function(A,D){var N=A.element.dom;N.checked=D}}}),s=function(A){return A.element.dom.click(),P.some(!0)},v=Ir.parts.field({factory:{sketch:tt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:It([dv.self(),Sn.config({disabled:function(){return t.disabled||r.isDisabled()}}),xo.config({}),Ln.config({}),o,Tn.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),Gn("checkbox-events",[vt(yh(),function(A,D){kn(A,zl,{name:t.name})})])])}),g=Ir.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:It([WC.config({})])}),y=function(A){var D=A==="checked"?"selected":"unselected";return lv(D,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+A]},r.icons)},k=qr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[y("checked"),y("unchecked")]});return Ir.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[v,k.asSpec(),g],fieldBehaviours:It([Sn.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(A){Ir.getField(A).each(Sn.disable)},onEnabled:function(A){Ir.getField(A).each(Sn.enable)}}),Jo()])})},N$=function(t){return t.presets==="presentation"?Cu.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):Cu.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:It([xo.config({}),Ln.config({})])})},go=function(t){return function(r,o,s){return Dn(o,"name").fold(function(){return t(o,s)},function(v){return r.field(v,t(o,s))})}},SA=function(t){return function(r,o,s){var v=Je(o,{source:"dynamic"});return go(t)(r,v,s)}},x8={bar:go(function(t,r){return C1(t,r.shared)}),collection:go(function(t,r){return Lk(t,r.shared.providers)}),alertbanner:go(function(t,r){return C8(t,r.shared.providers)}),input:go(function(t,r){return X6(t,r.shared.providers)}),textarea:go(function(t,r){return Y6(t,r.shared.providers)}),label:go(function(t,r){return G6(t,r.shared)}),iframe:SA(function(t,r){return M5(t,r.shared.providers)}),button:go(function(t,r){return A6(t,r.shared.providers)}),checkbox:go(function(t,r){return S8(t,r.shared.providers)}),colorinput:go(function(t,r){return Lz(t,r.shared,r.colorinput)}),colorpicker:go($L),dropzone:go(function(t,r){return FL(t,r.shared.providers)}),grid:go(function(t,r){return B5(t,r.shared)}),listbox:go(function(t,r){return q6(t,r)}),selectbox:go(function(t,r){return K6(t,r.shared.providers)}),sizeinput:go(function(t,r){return u$(t,r.shared.providers)}),urlinput:go(function(t,r){return w8(t,r,r.urlinput)}),customeditor:go(PL),htmlpanel:go(N$),imagetools:go(function(t,r){return j6(t,r.shared.providers)}),table:go(function(t,r){return S$(t,r.shared.providers)}),panel:go(function(t,r){return y$(t,r)})},_8={field:function(t,r){return r}},xA=function(t,r,o){var s=Je(o,{shared:{interpreter:function(v){return DO(t,v,s)}}});return DO(t,r,s)},DO=function(t,r,o){return Dn(x8,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(s){return s(t,r,o)})},k8=function(t,r){var o=_8;return DO(o,t,r)},_A={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},I$=function(t,r,o){var s=12,v={maxHeightFunction:Fh()},g=function(){return{type:"node",root:Xl(t()),node:P.from(t()),bubble:am(s,s,_A),layouts:{onRtl:function(){return[Ag]},onLtr:function(){return[kg]}},overrides:v}},y=function(){return{type:"hotspot",hotspot:r(),bubble:am(-s,s,_A),layouts:{onRtl:function(){return[Wi]},onLtr:function(){return[Yo]}},overrides:v}};return function(){return o()?g():y()}},z$=function(t,r,o){var s=function(){return{type:"node",root:Xl(t()),node:P.from(t()),layouts:{onRtl:function(){return[bc]},onLtr:function(){return[bc]}}}},v=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[Bo]},onLtr:function(){return[Bo]}}}};return function(){return o()?s():v()}},A8=function(t,r){return function(){return{type:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return P.some(Uh.range(Gt.fromDom(o.startContainer),o.startOffset,Gt.fromDom(o.endContainer),o.endOffset))}}}},E8=function(t){return function(r){return{type:"node",root:t(),node:r}}},T8=function(t,r,o){var s=Ak(t),v=function(){return Gt.fromDom(t.getBody())},g=function(){return Gt.fromDom(t.getContentAreaContainer())},y=function(){return s||!o()};return{inlineDialog:I$(g,r,y),banner:z$(g,r,y),cursor:A8(t,v),node:E8(v)}},O8=function(t){return function(r,o){var s=iB(t);s(r,o)}},D8=function(t){return function(){return QR(t)}},L$=function(t){return function(){return d4(t)}},R8=function(t){return function(){return tB(t)}},F$=function(t){return{colorPicker:O8(t),hasCustomColors:D8(t),getColors:L$(t),getColorCols:R8(t)}},B8=function(t){return function(){return SR(t)}},$8=function(t){return{isDraggableModal:B8(t)}},RO=function(t){var r=_n(pR(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},kA=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],lS=function(t){return Xr(t,"items")},M8=function(t){return Xr(t,"block")},P8=function(t){return Xr(t,"inline")},N8=function(t){return Xr(t,"selector")},H$=function(t){return je(t,function(r,o){if(lS(o)){var s=H$(o.items);return{customFormats:r.customFormats.concat(s.customFormats),formats:r.formats.concat([{title:o.title,items:s.formats}])}}else if(P8(o)||M8(o)||N8(o)){var v=E(o.name)?o.name:o.title.toLowerCase(),g="custom-"+v;return{customFormats:r.customFormats.concat([{name:g,format:o}]),formats:r.formats.concat([{title:o.title,format:g,icon:o.icon}])}}else return Ce(Ce({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},I8=function(t,r){var o=H$(r),s=function(v){yt(v,function(g){t.formatter.has(g.name)||t.formatter.register(g.name,g.format)})};return t.formatter?s(o.customFormats):t.on("init",function(){s(o.customFormats)}),o.formats},BO=function(t){return jN(t).map(function(r){var o=I8(t,r);return GN(t)?kA.concat(o):o}).getOr(kA)},$O=function(t,r,o){var s={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return Je(t,s)},MO=function(t,r,o,s){var v=function(A){return $O(A,o,s)},g=function(A){var D={type:"submenu"};return Je(A,D)},y=function(A){var D=E(A.name)?A.name:ln(A.title),N="custom-"+D,z={type:"formatter",format:N,isSelected:o(N),getStylePreview:s(N)},j=Je(A,z);return t.formatter.register(D,j),j},k=function(A){return Ne(A,function(D){var N=Ea(D);if(ni(D,"items")){var z=k(D.items);return Je(g(D),{getStyleItems:ve(z)})}else return ni(D,"format")?v(D):N.length===1&&nr(N,"title")?Je(D,{type:"separator"}):y(D)})};return k(r)},z8=function(t){var r=function(z){return function(){return t.formatter.match(z)}},o=function(z){return function(){var j=t.formatter.get(z);return j!==void 0?P.some({tag:j.length>0&&(j[0].inline||j[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(z))}):P.none()}},s=function(z){var j=z.items;return j!==void 0&&j.length>0?qt(j,s):[z.format]},v=_n([]),g=_n([]),y=_n([]),k=_n([]),A=_n(!1);t.on("PreInit",function(z){var j=BO(t),X=MO(t,j,r,o);v.set(X),g.set(qt(X,s))}),t.on("addStyleModifications",function(z){var j=MO(t,z.items,r,o);y.set(j),A.set(z.replace),k.set(qt(j,s))});var D=function(){var z=A.get()?[]:v.get(),j=y.get();return z.concat(j)},N=function(){var z=A.get()?[]:g.get(),j=k.get();return z.concat(j)};return{getData:D,getFlattenedKeys:N}},L8=function(t){return me(t)&&t.nodeType===1},F8=Lg.trim,V$=function(t){return function(r){return!!(L8(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},H8=V$("true"),U$=V$("false"),W$=function(t,r,o,s,v){return{type:t,title:r,url:o,level:s,attach:v}},V8=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return H8(t)}return!1},U8=function(t,r){return Ne(tu(Gt.fromDom(r),t),function(o){return o.dom})},j$=function(t){return t.innerText||t.textContent},G$=function(t){return t.id?t.id:ln("h")},M1=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},q$=function(t){return M1(t)&&X$(t)},K$=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},X$=function(t){return V8(t)&&!U$(t)},W8=function(t){return K$(t)&&X$(t)},Y$=function(t){return K$(t)?parseInt(t.nodeName.substr(1),10):0},j8=function(t){var r=G$(t),o=function(){t.id=r};return W$("header",j$(t),"#"+r,Y$(t),o)},G8=function(t){var r=t.id||t.name,o=j$(t);return W$("anchor",o||"#"+r,"#"+r,0,Q)},q8=function(t){return Ne(pe(t,W8),j8)},K8=function(t){return Ne(pe(t,q$),G8)},X8=function(t){var r=U8("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},Y8=function(t){return F8(t.title).length>0},J8=function(t){var r=X8(t);return pe(q8(r).concat(K8(r)),Y8)},Z8={find:J8},AA="tinymce-url-history",J$=5,PO=function(t){return E(t)&&/^https?/.test(t)},Q8=function(t){return B(t)&&t.length<=J$&&Et(t,PO)},Z$=function(t){return O(t)&&Us(t,function(r){return!Q8(r)}).isNone()},Q$=function(){var t=$k.getItem(AA);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+AA+" was not valid JSON",o),{};throw o}return Z$(r)?r:(console.log("Local storage "+AA+" was not valid format",r),{})},eF=function(t){if(!Z$(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));$k.setItem(AA,JSON.stringify(t))},tF=function(t){var r=Q$();return Dn(r,t).getOr([])},NO=function(t,r){if(PO(t)){var o=Q$(),s=Dn(o,r).getOr([]),v=pe(s,function(g){return g!==t});o[r]=[t].concat(v).slice(0,J$),eF(o)}},EA=function(t){return!!t},nF=function(t){return mr(Lg.makeMap(t,/[, ]/),EA)},IO=function(t){return P.from(QN(t)).filter(ie)},rF=function(t){var r=P.some(eI(t)).filter(EA),o=P.some(o4(t)).filter(EA),s=r.or(o).map(nF);return IO(t).fold(Cn,function(v){return s.fold(Qt,function(g){return Ea(g).length>0?g:!1})})},aF=function(t,r){var o=rF(t);return G(o)?o?IO(t):P.none():o[r]?IO(t):P.none()},oF=function(t,r){return aF(t,r).map(function(o){return function(s){return Gi.nu(function(v){var g=function(k,A){if(!E(k))throw new Error("Expected value to be string");if(A!==void 0&&!O(A))throw new Error("Expected meta to be a object");var D={value:k,meta:A};v(D)},y=Ce({filetype:r,fieldname:s.fieldname},P.from(s.meta).getOr({}));o.call(t,g,s.value,y)})}})},eM=function(t){return P.from(t).filter(E).getOrUndefined()},iF=function(t){return xR(t)?P.none():P.some({targets:Z8.find(t.getBody()),anchorTop:eM(_R(t)),anchorBottom:eM(tI(t))})},uF=function(t){return P.from(kR(t))},sF=function(t){return{getHistory:tF,addToHistory:NO,getLinkInformation:function(){return iF(t)},getValidationHandler:function(){return uF(t)},getUrlPicker:function(r){return oF(t,r)}}},TA=function(t,r,o){var s=_n(!1),v=RO(r),g={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:cf.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(y){return k8(y,g)},anchors:T8(r,o,v.isPositionedAtTop),header:v,getSink:function(){return Yn.value(t)}},urlinput:sF(r),styleselect:z8(r),colorinput:F$(r),dialog:$8(r),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(y){return s.set(y)}};return g},lF=function(t,r,o){var s=function(We,Ae){yt([r,o],function(Le){Le.broadcastEvent(We,Ae)})},v=function(We,Ae){yt([r,o],function(Le){Le.broadcastOn([We],Ae)})},g=function(We){return v(cm(),{target:We.target})},y=Mp(),k=mo(y,"touchstart",g),A=mo(y,"touchmove",function(We){return s(bb(),We)}),D=mo(y,"touchend",function(We){return s(AE(),We)}),N=mo(y,"mousedown",g),z=mo(y,"mouseup",function(We){We.raw.button===0&&v(bw(),{target:We.target})}),j=function(We){return v(cm(),{target:Gt.fromDom(We.target)})},X=function(We){We.button===0&&v(bw(),{target:Gt.fromDom(We.target)})},ne=function(){yt(t.editorManager.get(),function(We){t!==We&&We.fire("DismissPopups",{relatedTarget:t})})},de=function(We){return s(m2(),rm(We))},ke=function(We){v(rg(),{}),s(Os(),rm(We))},ce=function(){return v(rg(),{})},Ee=function(We){We.state&&v(cm(),{target:Gt.fromDom(t.getContainer())})},Ge=function(We){v(cm(),{target:Gt.fromDom(We.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",j),t.on("tap",j),t.on("mouseup",X),t.on("mousedown",ne),t.on("ScrollWindow",de),t.on("ResizeWindow",ke),t.on("ResizeEditor",ce),t.on("AfterProgressState",Ee),t.on("DismissPopups",Ge)}),t.on("remove",function(){t.off("click",j),t.off("tap",j),t.off("mouseup",X),t.off("mousedown",ne),t.off("ScrollWindow",de),t.off("ResizeWindow",ke),t.off("ResizeEditor",ce),t.off("AfterProgressState",Ee),t.off("DismissPopups",Ge),N.unbind(),k.unbind(),A.unbind(),D.unbind(),z.unbind()}),t.on("detach",function(){nu(r),nu(o),r.destroy(),o.destroy()})},Hs=$n,Fg=$0,P1=ve([Te("shell",!1),it("makeItem"),Te("setupItem",Q),al.field("listBehaviours",[Vn])]),cF=function(){return{behaviours:It([Vn.config({})])}},zO=ol({name:"items",overrides:cF}),OA=ve([zO]),fF=ve("CustomList"),vF=function(t,r,o,s){var v=function(k,A){y(k).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(D){var N=Vn.contents(D),z=A.length,j=z-N.length,X=j>0?K(j,function(){return t.makeItem()}):[],ne=N.slice(z);yt(ne,function(ke){return Vn.remove(D,ke)}),yt(X,function(ke){return Vn.append(D,ke)});var de=Vn.contents(D);yt(de,function(ke,ce){t.setupItem(k,ke,A[ce],ce)})})},g=t.shell?{behaviours:[Vn.config({})],components:[]}:{behaviours:[],components:r},y=function(k){return t.shell?P.some(k):ua(k,t,"items")};return{uid:t.uid,dom:t.dom,components:g.components,behaviours:si(t.listBehaviours,g.behaviours),apis:{setItems:v}}},tM=wu({name:fF(),configFields:P1(),partFields:OA(),factory:vF,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),Dy=ve([it("dom"),Te("shell",!0),jo("toolbarBehaviours",[Vn])]),dF=function(){return{behaviours:It([Vn.config({})])}},N1=ve([ol({name:"groups",overrides:dF})]),nM=function(t,r,o,s){var v=function(k,A){g(k).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(D){Vn.set(D,A)})},g=function(k){return t.shell?P.some(k):ua(k,t,"groups")},y=t.shell?{behaviours:[Vn.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:y.components,behaviours:si(t.toolbarBehaviours,y.behaviours),apis:{setGroups:v},domModification:{attributes:{role:"group"}}}},mv=wu({name:"Toolbar",configFields:Dy(),partFields:N1(),factory:nM,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),mF=Q,hF=Cn,rM=ve([]),gF=Object.freeze({__proto__:null,setup:mF,isDocked:hF,getBehaviours:rM}),aM=function(t){var r=bs(wo(t,"position"),"fixed"),o=r?P.none():Rf(t);return o.orThunk(function(){var s=Gt.fromTag("span");return bo(t).bind(function(v){zi(v,s);var g=Rf(s);return Du(s),g})})},DA=function(t){return aM(t).map(su).getOrThunk(function(){return la(0,0)})},I1=Es.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),RA=function(t,r){var o=t.element;Fo(o,r.transitionClass),Ro(o,r.fadeOutClass),Fo(o,r.fadeInClass),r.onShow(t)},BA=function(t,r){var o=t.element;Fo(o,r.transitionClass),Ro(o,r.fadeInClass),Fo(o,r.fadeOutClass),r.onHide(t)},z1=function(t,r){return t.y<r.bottom&&t.bottom>r.y},$A=function(t,r){return t.y>=r.y},pF=function(t,r){return t.bottom<=r.bottom},LO=function(t,r,o){return Et(t,function(s){switch(s){case"bottom":return pF(r,o);case"top":return $A(r,o)}})},FO=function(t,r){return r.getInitialPos().map(function(o){return zo(o.bounds.x,o.bounds.y,Ii(t),Oo(t))})},oM=function(t,r,o){o.setInitialPos({style:Bf(t),position:Ka(t,"position")||"static",bounds:r})},iM=function(t,r,o){return o.getInitialPos().bind(function(s){switch(o.clearInitialPos(),s.position){case"static":return P.some(I1.static());case"absolute":var v=aM(t).map(Co).getOrThunk(function(){return Co(Ni())});return P.some(I1.absolute(eu("absolute",Dn(s.style,"left").map(function(g){return r.x-v.x}),Dn(s.style,"top").map(function(g){return r.y-v.y}),Dn(s.style,"right").map(function(g){return v.right-r.right}),Dn(s.style,"bottom").map(function(g){return v.bottom-r.bottom}))));default:return P.none()}})},uM=function(t,r,o){return FO(t,o).filter(function(s){return LO(o.getModes(),s,r)}).bind(function(s){return iM(t,s,o)})},bF=function(t,r,o){var s=Co(t);if(LO(o.getModes(),s,r))return P.none();oM(t,s,o);var v=wi(),g=s.x-v.x,y=r.y-v.y,k=v.bottom-r.bottom,A=s.y<=r.y;return P.some(I1.fixed(eu("fixed",P.some(g),A?P.some(y):P.none(),P.none(),A?P.none():P.some(k))))},yF=function(t,r,o){var s=t.element,v=bs(wo(s,"position"),"fixed");return v?uM(s,r,o):bF(s,r,o)},wF=function(t,r){var o=t.element;return FO(o,r).bind(function(s){return iM(o,s,r)})},MA=function(t,r,o){o.setDocked(!1),yt(["left","right","top","bottom","position"],function(s){return Mr(t.element,s)}),r.onUndocked(t)},cS=function(t,r,o,s){var v=s.position==="fixed";o.setDocked(v),Jv(t.element,s);var g=v?r.onDocked:r.onUndocked;g(t)},sM=function(t,r,o,s,v){v===void 0&&(v=!1),r.contextual.each(function(g){g.lazyContext(t).each(function(y){var k=z1(y,s);if(k!==o.isVisible())if(o.setVisible(k),v&&!k)qd(t.element,[g.fadeOutClass]),g.onHide(t);else{var A=k?RA:BA;A(t,g)}})})},lM=function(t,r,o){var s=r.lazyViewport(t),v=o.isDocked();v&&sM(t,r,o,s),yF(t,s,o).each(function(g){g.fold(function(){return MA(t,r,o)},function(y){return cS(t,r,o,y)},function(y){sM(t,r,o,s,!0),cS(t,r,o,y)})})},CF=function(t,r,o){var s=t.element;o.setDocked(!1),wF(t,o).each(function(v){v.fold(function(){return MA(t,r,o)},function(g){return cS(t,r,o,g)},Q)}),o.setVisible(!0),r.contextual.each(function(v){Ms(s,[v.fadeInClass,v.fadeOutClass,v.transitionClass]),v.onShow(t)}),PA(t,r,o)},PA=function(t,r,o){t.getSystem().isConnected()&&lM(t,r,o)},cM=function(t,r,o){o.isDocked()&&CF(t,r,o)},SF=function(t,r,o){return o.isDocked()},L1=function(t,r,o,s){return o.setModes(s)},fM=function(t,r,o){return o.getModes()},xF=Object.freeze({__proto__:null,refresh:PA,reset:cM,isDocked:SF,getModes:fM,setModes:L1}),vM=function(t,r){return va([So(Ch(),function(o,s){t.contextual.each(function(v){if(mu(o.element,v.transitionClass)){Ms(o.element,[v.transitionClass,v.fadeInClass]);var g=r.isVisible()?v.onShown:v.onHidden;g(o)}s.stop()})}),vt(m2(),function(o,s){PA(o,t,r)}),vt(Os(),function(o,s){cM(o,t,r)})])},_F=Object.freeze({__proto__:null,events:vM}),NA=[rs("contextual",[zn("fadeInClass"),zn("fadeOutClass"),zn("transitionClass"),Zi("lazyContext"),Nr("onShow"),Nr("onShown"),Nr("onHide"),Nr("onHidden")]),ba("lazyViewport",wi),Wf("modes",["top","bottom"],vo),Nr("onDocked"),Nr("onUndocked")],bf=function(t){var r=_n(!1),o=_n(!0),s=io(),v=_n(t.modes),g=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+v.get().join(",")};return Ui({isDocked:r.get,setDocked:r.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:o.get,setVisible:o.set,getModes:v.get,setModes:v.set,readState:g})},kF=Object.freeze({__proto__:null,init:bf}),ko=Wo({fields:NA,name:"docking",active:_F,apis:xF,state:kF}),HO=ve(ln("toolbar-height-change")),Cd={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},VO="tox-tinymce--toolbar-sticky-on",fS="tox-tinymce--toolbar-sticky-off",Hg=function(t,r){var o=qo(r),s=o.dom.defaultView.innerHeight,v=es(o),g=Gt.fromDom(t.elm),y=Nc(g),k=Oo(g),A=y.y,D=A+k,N=su(r),z=Oo(r),j=N.top,X=j+z,ne=Math.abs(j-v.top)<2,de=Math.abs(X-(v.top+s))<2;if(ne&&A<X)ih(v.left,A-z,o);else if(de&&D>j){var ke=A-s+k+z;ih(v.left,ke,o)}},Hu=function(t,r){return nr(ko.getModes(t),r)},UO=function(t){var r=function(s){return Qu(s)+(parseInt(Ka(s,"margin-top"),10)||0)+(parseInt(Ka(s,"margin-bottom"),10)||0)},o=t.element;bo(o).each(function(s){var v="padding-"+ko.getModes(t)[0];if(ko.isDocked(t)){var g=Ii(s);Nn(o,"width",g+"px"),Nn(s,v,r(o)+"px")}else Mr(o,"width"),Mr(s,v)})},WO=function(t,r){r?(Ro(t,Cd.fadeOutClass),qd(t,[Cd.transitionClass,Cd.fadeInClass])):(Ro(t,Cd.fadeInClass),qd(t,[Cd.fadeOutClass,Cd.transitionClass]))},jO=function(t,r){var o=Gt.fromDom(t.getContainer());r?(Fo(o,VO),Ro(o,fS)):(Fo(o,fS),Ro(o,VO))},dM=function(t,r){var o=qo(r);yu(o).filter(function(s){return!da(r,s)}).filter(function(s){return da(s,Gt.fromDom(o.dom.body))||wl(t,s)}).each(function(){return lc(r)})},AF=function(t,r){return cc(t).orThunk(function(){return r().toOptional().bind(function(o){return cc(o.element)})})},EF=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(ko.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(UO)}),t.on("SkinLoaded",function(){o().each(function(s){ko.isDocked(s)?ko.reset(s):ko.refresh(s)})}),t.on("FullscreenStateChanged",function(){o().each(ko.reset)})),t.on("AfterScrollIntoView",function(s){o().each(function(v){ko.refresh(v);var g=v.element;k_(g)&&Hg(s,g)})}),t.on("PostRender",function(){jO(t,!1)})},Vg=function(t){return t().map(ko.isDocked).getOr(!1)},mM=function(){var t;return[Qi.config({channels:(t={},t[HO()]={onReceive:UO},t)})]},F1=function(t,r){var o=io(),s=r.getSink,v=function(k){s().each(function(A){return k(A.element)})},g=function(k){t.inline||UO(k),jO(t,ko.isDocked(k)),k.getSystem().broadcastOn([rg()],{}),s().each(function(A){return A.getSystem().broadcastOn([rg()],{})})},y=t.inline?[]:mM();return Ht([Ln.config({}),ko.config({contextual:Ce({lazyContext:function(k){var A=Qu(k.element),D=t.inline?t.getContentAreaContainer():t.getContainer(),N=Co(Gt.fromDom(D)),z=N.height-A,j=N.y+(Hu(k,"top")?0:A);return P.some(zo(N.x,j,N.width,z))},onShow:function(){v(function(k){return WO(k,!0)})},onShown:function(k){v(function(A){return Ms(A,[Cd.transitionClass,Cd.fadeInClass])}),o.get().each(function(A){dM(k.element,A),o.clear()})},onHide:function(k){AF(k.element,s).fold(o.clear,o.set),v(function(A){return WO(A,!1)})},onHidden:function(){v(function(k){return Ms(k,[Cd.transitionClass])})}},Cd),lazyViewport:function(k){var A=wi(),D=Tk(t),N=A.y+(Hu(k,"top")?D:0),z=A.height-(Hu(k,"bottom")?D:0);return zo(A.x,N,A.width,z)},modes:[r.header.getDockingMode()],onDocked:g,onUndocked:g})],y,!0)},IA=Object.freeze({__proto__:null,setup:EF,isDocked:Vg,getBehaviours:F1}),hM=function(t){var r=t.editor,o=t.sticky?F1:rM;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:It(o(r,t.sharedBackstage))}},TF=yn([zn("type"),$u("items",gp([t2([zn("name"),Hi("items",vo)]),vo]))].concat(xC)),OF=function(t){return Ha("GroupToolbarButton",TF,t)},DF=[pa("text"),pa("tooltip"),pa("icon"),Zi("fetch"),ba("onSetup",function(){return Q})],RF=yn(Ht([zn("type")],DF,!0)),H1=function(t){return Ha("menubutton",RF,t)},BF=yn([zn("type"),pa("tooltip"),pa("icon"),pa("text"),$v("select"),Zi("fetch"),ba("onSetup",function(){return Q}),As("presets","normal",["normal","color","listpreview"]),Te("columns",1),Zi("onAction"),Zi("onItemAction")]),$F=function(t){return Ha("SplitButton",BF,t)},MF=function(t,r){var o=function(v,g){var y=Ne(g,function(k){var A={type:"menubutton",text:k.text,fetch:function(N){N(k.getItems())}},D=H1(A).mapError(function(N){return Bv(N)}).getOrDie();return pO(D,"tox-mbtn",r.backstage,P.some("menuitem"))});Vn.set(v,y)},s={focus:Tn.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:It([Vn.config({}),Gn("menubar-events",[jn(function(v){t.onSetup(v)}),vt(Gf(),function(v,g){Ho(v.element,".tox-mbtn--active").each(function(y){nl(g.event.target,".tox-mbtn").each(function(k){da(y,k)||v.getSystem().getByDom(y).each(function(A){v.getSystem().getByDom(k).each(function(D){df.expand(D),df.close(A),Ln.focus(D)})})})})}),vt(yb(),function(v,g){g.event.prevFocus.bind(function(y){return v.getSystem().getByDom(y).toOptional()}).each(function(y){g.event.newFocus.bind(function(k){return v.getSystem().getByDom(k).toOptional()}).each(function(k){df.isOpen(y)&&(df.expand(k),df.close(y))})})})]),Tn.config({mode:"flow",selector:".tox-mbtn",onEscape:function(v){return t.onEscape(v),P.some(!0)}}),xo.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},GO=Is({factory:MF,name:"silver.Menubar",configFields:[it("dom"),it("uid"),it("onEscape"),it("backstage"),Te("onSetup",Q)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),vS=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},hv=function(t){return t.dimension.property},Ry=function(t,r){return t.dimension.getDimension(r)},zA=function(t,r){var o=vS(t,r);Ms(o,[r.shrinkingClass,r.growingClass])},dS=function(t,r){Ro(t.element,r.openClass),Fo(t.element,r.closedClass),Nn(t.element,hv(r),"0px"),ka(t.element)},qO=function(t,r){Ro(t.element,r.closedClass),Fo(t.element,r.openClass),Mr(t.element,hv(r))},mS=function(t,r,o,s){o.setCollapsed(),Nn(t.element,hv(r),Ry(r,t.element)),ka(t.element),zA(t,r),dS(t,r),r.onStartShrink(t),r.onShrunk(t)},LA=function(t,r,o,s){var v=s.getOrThunk(function(){return Ry(r,t.element)});o.setCollapsed(),Nn(t.element,hv(r),v),ka(t.element);var g=vS(t,r);Ro(g,r.growingClass),Fo(g,r.shrinkingClass),dS(t,r),r.onStartShrink(t)},Ug=function(t,r,o){var s=Ry(r,t.element),v=s==="0px"?mS:LA;v(t,r,o,P.some(s))},gM=function(t,r,o){var s=vS(t,r),v=mu(s,r.shrinkingClass),g=Ry(r,t.element);qO(t,r);var y=Ry(r,t.element),k=function(){Nn(t.element,hv(r),g),ka(t.element)},A=function(){dS(t,r)},D=v?k:A;D(),Ro(s,r.shrinkingClass),Fo(s,r.growingClass),qO(t,r),Nn(t.element,hv(r),y),o.setExpanded(),r.onStartGrow(t)},PF=function(t,r,o){if(o.isExpanded()){Mr(t.element,hv(r));var s=Ry(r,t.element);Nn(t.element,hv(r),s)}},KO=function(t,r,o){o.isExpanded()||gM(t,r,o)},NF=function(t,r,o){o.isExpanded()&&Ug(t,r,o)},FA=function(t,r,o){o.isExpanded()&&mS(t,r,o)},pM=function(t,r,o){return o.isExpanded()},IF=function(t,r,o){return o.isCollapsed()},bM=function(t,r,o){var s=vS(t,r);return mu(s,r.growingClass)===!0},By=function(t,r,o){var s=vS(t,r);return mu(s,r.shrinkingClass)===!0},XO=function(t,r,o){return bM(t,r)||By(t,r)},zF=function(t,r,o){var s=o.isExpanded()?Ug:gM;s(t,r,o)},LF=Object.freeze({__proto__:null,refresh:PF,grow:KO,shrink:NF,immediateShrink:FA,hasGrown:pM,hasShrunk:IF,isGrowing:bM,isShrinking:By,isTransitioning:XO,toggleGrow:zF,disableTransitions:zA}),yM=function(t,r,o){var s=r.expanded;return Dl(s?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Lc(r.dimension.property,"0px")})},FF=function(t,r){return va([So(Ch(),function(o,s){var v=s.event.raw;if(v.propertyName===t.dimension.property){zA(o,t),r.isExpanded()&&Mr(o.element,t.dimension.property);var g=r.isExpanded()?t.onGrown:t.onShrunk;g(o)}})])},HF=Object.freeze({__proto__:null,exhibit:yM,events:FF}),e=[it("closedClass"),it("openClass"),it("shrinkingClass"),it("growingClass"),Pr("getAnimationRoot"),Nr("onShrunk"),Nr("onStartShrink"),Nr("onGrown"),Nr("onStartGrow"),Te("expanded",!1),$u("dimension",Zs("property",{width:[ha("property","width"),ha("getDimension",function(t){return Ii(t)+"px"})],height:[ha("property","height"),ha("getDimension",function(t){return Oo(t)+"px"})]}))],n=function(t){var r=_n(t.expanded),o=function(){return"expanded: "+r.get()};return Ui({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:Xt(r.set,!1),setExpanded:Xt(r.set,!0),readState:o})},a=Object.freeze({__proto__:null,init:n}),i=Wo({fields:e,name:"sliding",active:HF,apis:LF,state:a}),l="container",f=[jo("slotBehaviours",[])],p=function(t){return"<alloy.field."+t+">"},C=function(t){var r=function(){var g=[],y=function(k,A){return g.push(k),Mw(l,p(k),A)};return{slot:y,record:ve(g)}}(),o=t(r),s=r.record(),v=Ne(s,function(g){return Di({name:g,pname:p(g)})});return Lw(l,f,v,_,o)},_=function(t,r){var o=function(de){return a_(t)},s=function(de,ke){return ua(de,t,ke)},v=function(de,ke){return function(ce,Ee){return ua(ce,t,Ee).map(function(Ge){return de(Ge,Ee)}).getOr(ke)}},g=function(de){return function(ke,ce){yt(ce,function(Ee){return de(ke,Ee)})}},y=function(de,ke){return Ra(de.element,"aria-hidden")!=="true"},k=function(de,ke){if(!y(de)){var ce=de.element;Mr(ce,"display"),ai(ce,"aria-hidden"),kn(de,qf(),{name:ke,visible:!0})}},A=function(de,ke){if(y(de)){var ce=de.element;Nn(ce,"display","none"),Xn(ce,"aria-hidden","true"),kn(de,qf(),{name:ke,visible:!1})}},D=v(y,!1),N=v(A),z=g(N),j=function(de){return z(de,o())},X=v(k),ne={getSlotNames:o,getSlot:s,isShowing:D,hideSlot:N,hideAllSlots:j,showSlot:X};return{uid:t.uid,dom:t.dom,components:r,behaviours:ug(t.slotBehaviours),apis:ne}},$=mr({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return Va(t)}),F=Ce(Ce({},$),{sketch:C}),V=yn([pa("icon"),pa("tooltip"),ba("onShow",Q),ba("onHide",Q),ba("onSetup",function(){return Q})]),W=function(t){return Ha("sidebar",V,t)},te=function(t){var r=t.ui.registry.getAll().sidebars;yt(Ea(r),function(o){var s=r[o],v=function(){return bs(P.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:s.icon,tooltip:s.tooltip,onAction:function(g){t.execCommand("ToggleSidebar",!1,o),g.setActive(v())},onSetup:function(g){var y=function(){return g.setActive(v())};return t.on("ToggleSidebar",y),function(){t.off("ToggleSidebar",y)}}})})},re=function(t){return{element:function(){return t.element.dom}}},ue=function(t,r){var o=Ne(Ea(r),function(s){var v=r[s],g=_l(W(v));return{name:s,getApi:re,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return Ne(o,function(s){var v=_n(Q);return t.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:wk.unnamedEvents([y1(s,v),w1(s,v),vt(qf(),function(g,y){var k=y.event,A=bt(o,function(D){return D.name===k.name});A.each(function(D){var N=k.visible?D.onShow:D.onHide;N(D.getApi(g))})})])})})},se=function(t){return F.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:ue(r,t),slotBehaviours:wk.unnamedEvents([jn(function(o){return F.hideAllSlots(o)})])}})},be=function(t,r){var o=fr.getCurrent(t);o.each(function(s){return Vn.set(s,[se(r)])})},ge=function(t,r){var o=fr.getCurrent(t);o.each(function(s){var v=fr.getCurrent(s);v.each(function(g){i.hasGrown(s)?F.isShowing(g,r)?i.shrink(s):(F.hideAllSlots(g),F.showSlot(g,r)):(F.hideAllSlots(g),F.showSlot(g,r),i.grow(s))})})},$e=function(t){var r=fr.getCurrent(t);return r.bind(function(o){var s=i.isGrowing(o)||i.hasGrown(o);if(s){var v=fr.getCurrent(o);return v.bind(function(g){return bt(F.getSlotNames(g),function(y){return F.isShowing(g,y)})})}else return P.none()})},Oe=ln("FixSizeEvent"),we=ln("AutoSizeEvent"),Ie=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:It([xo.config({}),Ln.config({}),i.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=fr.getCurrent(r);o.each(F.hideAllSlots),Rr(r,we)},onGrown:function(r){Rr(r,we)},onStartGrow:function(r){kn(r,Oe,{width:wo(r.element,"width").getOr("")})},onStartShrink:function(r){kn(r,Oe,{width:Ii(r.element)+"px"})}}),Vn.config({}),fr.config({find:function(r){var o=Vn.contents(r);return Er(o)}})])}],behaviours:It([dv.childAt(0),Gn("sidebar-sliding-events",[vt(Oe,function(r,o){Nn(r.element,"width",o.event.width)}),vt(we,function(r,o){Mr(r.element,"width")})])])}},ot=function(t,r,o,s){Xn(t.element,"aria-busy",!0);var v=r.getRoot(t).getOr(t),g=It([Tn.config({mode:"special",onTab:function(){return P.some(!0)},onShiftTab:function(){return P.some(!0)}}),Ln.config({})]),y=s(v,g),k=v.getSystem().build(y);Vn.append(v,Ps(k)),k.hasConfigured(Tn)&&r.focus&&Tn.focusIn(k),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return Vn.remove(v,k)})},wt=function(t,r,o){ai(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},Bn=Object.freeze({__proto__:null,block:ot,unblock:wt}),tn=[ba("getRoot",P.none),fa("focus",!0),Nr("onBlock"),Nr("onUnblock")],dt=function(){var t=G2(),r=function(o){t.set({destroy:o})};return Ui({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},On=Object.freeze({__proto__:null,init:dt}),kt=Wo({fields:tn,name:"blocking",apis:Bn,state:On}),Yt=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return je(r,function(o,s){var v;return s.name==="class"?o:Ce(Ce({},o),(v={},v[s.name]=s.value,v))},{})},Ot=function(t){return Array.prototype.slice.call(t.dom.classList,0)},zt=function(t){var r=Gt.fromHtml(t),o=De(r),s=Yt(r),v=Ot(r),g=o.length===0?{}:{innerHtml:Vc(r)};return Ce({tag:Ku(r),classes:v,attributes:s},g)},un=function(t){return function(r,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:zt('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},ht=function(t){return fr.getCurrent(t).each(function(r){return lc(r.element)})},nn=function(t,r){var o="tabindex",s="data-mce-"+o;P.from(t.iframeElement).map(Gt.fromDom).each(function(v){r?(Fa(v,o).each(function(g){return Xn(v,s,g)}),Xn(v,o,-1)):(ai(v,o),Fa(v,s).each(function(g){Xn(v,o,g),ai(v,s)}))})},dr=function(t,r,o,s){var v=r.element;if(nn(t,o),o)kt.block(r,un(s)),Mr(v,"display"),ai(v,"aria-hidden"),t.hasFocus()&&ht(r);else{var g=fr.getCurrent(r).exists(function(y){return Np(y.element)});kt.unblock(r),Nn(v,"display","none"),Xn(v,"aria-hidden","true"),g&&t.focus()}},jr=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:It([Vn.config({}),kt.config({focus:!1}),fr.config({find:function(r){return Er(r.components())}})]),components:[]}},zr=function(t){return t.type==="focusin"},Bi=function(t){if(zr(t)){var r=t.composed?Er(t.composedPath()):P.from(t.target);return r.map(Gt.fromDom).filter(co).exists(function(o){return mu(o,"mce-pastebin")})}else return!1},Za=function(t,r,o){var s=_n(!1),v=io(),g=function(k){s.get()&&!Bi(k)&&(k.preventDefault(),ht(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",g),t.on("BeforeExecCommand",function(k){k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&g(k)})});var y=function(k){k!==s.get()&&(s.set(k),dr(t,r(),k,o.providers),t.fire("AfterProgressState",{state:k}))};t.on("ProgressState",function(k){if(v.on(Dg.clearTimeout),oe(k.time)){var A=Dg.setEditorTimeout(t,function(){return y(k.state)},k.time);v.set(A)}else y(k.state),v.clear()})},Vu=function(t,r){var o={len:0,list:[]},s=je(t,function(v,g){var y=r(g,v.len);return y.fold(ve(v),function(k){return{len:k.finish,list:v.list.concat([k])}})},o);return s.list},vs=function(t,r,o){return{within:t,extra:r,withinWidth:o}},gt=function(t,r,o){var s=Vu(t,function(k,A){var D=o(k);return P.some({element:k,start:A,finish:A+D,width:D})}),v=pe(s,function(k){return k.finish<=r}),g=Fe(v,function(k,A){return k+A.width},0),y=s.slice(v.length);return{within:v,extra:y,withinWidth:g}},$t=function(t){return Ne(t,function(r){return r.element})},pn=function(t,r,o){var s=$t(t.concat(r));return vs(s,[],o)},ze=function(t,r,o,s){var v=$t(t).concat([o]);return vs(v,$t(r),s)},xt=function(t,r,o){return vs($t(t),[],o)},pt=function(t,r,o){var s=gt(r,t,o);return s.extra.length===0?P.some(s):P.none()},wn=function(t,r,o,s){var v=pt(t,r,o).getOrThunk(function(){return gt(r,t-o(s),o)}),g=v.within,y=v.extra,k=v.withinWidth;return y.length===1&&y[0].width<=o(s)?pn(g,y,k):y.length>=1?ze(g,y,s,k):xt(g,y,k)},An=function(t,r){var o=Ne(r,function(s){return Ps(s)});mv.setGroups(t,o)},ga=function(t){return Pa(t,function(r){return cc(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},Zo=function(t,r,o){var s=r.builtGroups.get();if(s.length!==0){var v=af(t,r,"primary"),g=_o.getCoupled(t,"overflowGroup");Nn(v.element,"visibility","hidden");var y=s.concat([g]),k=ga(y);o([]),An(v,y);var A=Ii(v.element),D=wn(A,r.builtGroups.get(),function(N){return Ii(N.element)},g);D.extra.length===0?(Vn.remove(v,g),o([])):(An(v,D.within),o(D.extra)),Mr(v.element,"visibility"),ka(v.element),k.each(Ln.focus)}},Go=ve([jo("splitToolbarBehaviours",[_o]),fu("builtGroups",function(){return _n([])})]),Bm=ve([Jd(["overflowToggledClass"]),$v("getOverflowBounds"),it("lazySink"),fu("overflowGroups",function(){return _n([])})].concat(Go())),Uu=ve([Di({factory:mv,schema:Dy(),name:"primary"}),Ns({schema:Dy(),name:"overflow"}),Ns({name:"overflow-button"}),Ns({name:"overflow-group"})]),xu=ve(function(t,r){yi(t,Math.floor(r))}),di=ve([Jd(["toggledClass"]),it("lazySink"),Zi("fetch"),$v("getBounds"),rs("fireDismissalEventInstead",[Te("event",Tl())]),Zv()]),Fl=ve([Ns({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:It([Sr.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Ns({factory:mv,schema:Dy(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:It([Tn.config({mode:"cyclic",onEscape:function(r){return ua(r,t,"button").each(Ln.focus),P.none()}})])}}})]),Wu=function(t,r){var o=_o.getCoupled(t,"toolbarSandbox");wr.isOpen(o)?wr.close(o):wr.open(o,r.toolbar())},yf=function(t,r,o,s){var v=o.getBounds.map(function(y){return y()}),g=o.lazySink(t).getOrDie();uo.positionWithinBounds(g,r,{anchor:{type:"hotspot",hotspot:t,layouts:s,overrides:{maxWidthFunction:xu()}}},v)},ya=function(t,r,o,s,v){mv.setGroups(r,v),yf(t,r,o,s),Sr.on(t)},Ma=function(t,r,o){var s=Kd(),v=function(y,k){o.fetch().get(function(A){ya(t,k,o,r.layouts,A),s.link(t.element),Tn.focusIn(k)})},g=function(){Sr.off(t),Ln.focus(t),s.unlink(t.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:It([Tn.config({mode:"special",onEscape:function(y){return wr.close(y),P.some(!0)}}),wr.config({onOpen:v,onClose:g,isPartOf:function(y,k,A){return Xd(k,A)||Xd(t,A)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),Qi.config({channels:Ce(Ce({},Lu(Ce({isExtraPart:Cn},o.fireDismissalEventInstead.map(function(y){return{fireEventInstead:{event:y.event}}}).getOr({})))),fm({doReposition:function(){wr.getState(_o.getCoupled(t,"toolbarSandbox")).each(function(y){yf(t,y,o,r.layouts)})}}))})])}},mi=function(t,r,o,s){return Ce(Ce({},ls.sketch(Ce(Ce({},s.button()),{action:function(v){Wu(v,s)},buttonBehaviours:al.augment({dump:s.button().buttonBehaviours},[_o.config({others:{toolbarSandbox:function(v){return Ma(v,o,t)}}})])}))),{apis:{setGroups:function(v,g){wr.getState(_o.getCoupled(v,"toolbarSandbox")).each(function(y){ya(v,y,t,o.layouts,g)})},reposition:function(v){wr.getState(_o.getCoupled(v,"toolbarSandbox")).each(function(g){yf(v,g,t,o.layouts)})},toggle:function(v){Wu(v,s)},getToolbar:function(v){return wr.getState(_o.getCoupled(v,"toolbarSandbox"))},isOpen:function(v){return wr.isOpen(_o.getCoupled(v,"toolbarSandbox"))}}})},ds=wu({name:"FloatingToolbarButton",factory:mi,configFields:di(),partFields:Fl(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),gv=ve([it("items"),Jd(["itemSelector"]),jo("tgroupBehaviours",[Tn])]),pv=ve([rf({name:"items",unit:"item"})]),Wg=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:si(t.tgroupBehaviours,[Tn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},$y=wu({name:"ToolbarGroup",configFields:gv(),partFields:pv(),factory:Wg}),HA=function(t){return Ne(t,function(r){return Ps(r)})},wM=function(t,r,o){Zo(t,o,function(s){o.overflowGroups.set(s),r.getOpt(t).each(function(v){ds.setGroups(v,HA(s))})})},CM=function(t,r,o,s){var v=qr(ds.sketch({fetch:function(){return Gi.nu(function(g){g(HA(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[Yo,Wi]},onRtl:function(){return[Wi,Yo]},onBottomLtr:function(){return[bu,pu]},onBottomRtl:function(){return[pu,bu]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:si(t.splitToolbarBehaviours,[_o.config({others:{overflowGroup:function(){return $y.sketch(Ce(Ce({},s["overflow-group"]()),{items:[v.asSpec()]}))}}})]),apis:{setGroups:function(g,y){t.builtGroups.set(Ne(y,g.getSystem().build)),wM(g,v,t)},refresh:function(g){return wM(g,v,t)},toggle:function(g){v.getOpt(g).each(function(y){ds.toggle(y)})},isOpen:function(g){return v.getOpt(g).map(ds.isOpen).getOr(!1)},reposition:function(g){v.getOpt(g).each(function(y){ds.reposition(y)})},getOverflow:function(g){return v.getOpt(g).bind(ds.getToolbar)}},domModification:{attributes:{role:"group"}}}},YO=wu({name:"SplitFloatingToolbar",configFields:Bm(),partFields:Uu(),factory:CM,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),VF=ve([Jd(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Nr("onOpened"),Nr("onClosed")].concat(Go())),SM=ve([Di({factory:mv,schema:Dy(),name:"primary"}),Di({factory:mv,schema:Dy(),name:"overflow",overrides:function(t){return{toolbarBehaviours:It([i.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){ua(r,t,"overflow-button").each(function(o){Sr.off(o),Ln.focus(o)}),t.onClosed(r)},onGrown:function(r){Tn.focusIn(r),t.onOpened(r)},onStartGrow:function(r){ua(r,t,"overflow-button").each(Sr.on)}}),Tn.config({mode:"acyclic",onEscape:function(r){return ua(r,t,"overflow-button").each(Ln.focus),P.some(!0)}})])}}}),Ns({name:"overflow-button",overrides:function(t){return{buttonBehaviours:It([Sr.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Ns({name:"overflow-group"})]),UF=function(t,r){return ua(t,r,"overflow").map(i.hasGrown).getOr(!1)},xM=function(t,r){ua(t,r,"overflow-button").bind(function(){return ua(t,r,"overflow")}).each(function(o){JO(t,r),i.toggleGrow(o)})},JO=function(t,r){ua(t,r,"overflow").each(function(o){Zo(t,r,function(s){var v=Ne(s,function(g){return Ps(g)});mv.setGroups(o,v)}),ua(t,r,"overflow-button").each(function(s){i.hasGrown(o)&&Sr.on(s)}),i.refresh(o)})},WF=function(t,r,o,s){var v="alloy.toolbar.toggle",g=function(y,k){var A=Ne(k,y.getSystem().build);t.builtGroups.set(A)};return{uid:t.uid,dom:t.dom,components:r,behaviours:si(t.splitToolbarBehaviours,[_o.config({others:{overflowGroup:function(y){return $y.sketch(Ce(Ce({},s["overflow-group"]()),{items:[ls.sketch(Ce(Ce({},s["overflow-button"]()),{action:function(k){Rr(y,v)}}))]}))}}}),Gn("toolbar-toggle-events",[vt(v,function(y){xM(y,t)})])]),apis:{setGroups:function(y,k){g(y,k),JO(y,t)},refresh:function(y){return JO(y,t)},toggle:function(y){return xM(y,t)},isOpen:function(y){return UF(y,t)}},domModification:{attributes:{role:"group"}}}},$m=wu({name:"SplitSlidingToolbar",configFields:VF(),partFields:SM(),factory:WF,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),ZO=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:Ce({tag:"div",classes:["tox-toolbar__group"]},r),components:[$y.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:It([xo.config({}),Ln.config({})])}},xe=function(t){return $y.sketch(ZO(t))},Ue=function(t,r){var o=jn(function(s){var v=Ne(t.initGroups,xe);mv.setGroups(s,v)});return It([ff.toolbarButton(t.providers.isDisabled),Jo(),Tn.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Gn("toolbar-events",[o])])},Tt=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":ZO({title:P.none(),items:[]}),"overflow-button":o$({name:"more",icon:P.some("more-drawer"),disabled:!1,tooltip:P.some("More..."),primary:!1,borderless:!1},P.none(),t.providers)},splitToolbarBehaviours:Ue(t,r)}},Vt=function(t){var r=Tt(t),o=4,s=YO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return YO.sketch(Ce(Ce({},r),{lazySink:t.getSink,getOverflowBounds:function(){var v=t.moreDrawerData.lazyHeader().element,g=Nc(v),y=et(v),k=Nc(y),A=Math.max(y.dom.scrollHeight,k.height);return zo(g.x+o,k.y,g.width-o*2,A)},parts:Ce(Ce({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},tr=function(t){var r=$m.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=$m.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=Tt(t);return $m.sketch(Ce(Ce({},s),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(v){v.getSystem().broadcastOn([HO()],{type:"opened"})},onClosed:function(v){v.getSystem().broadcastOn([HO()],{type:"closed"})}}))},$r=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return mv.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Il.scrolling?["tox-toolbar--scrolling"]:[])},components:[mv.parts.groups({})],toolbarBehaviours:Ue(t,r)})},Ua=function(t,r,o){var s={getSocket:function(v){return Hs.getPart(v,t,"socket")},setSidebar:function(v,g){Hs.getPart(v,t,"sidebar").each(function(y){return be(y,g)})},toggleSidebar:function(v,g){Hs.getPart(v,t,"sidebar").each(function(y){return ge(y,g)})},whichSidebar:function(v){return Hs.getPart(v,t,"sidebar").bind($e).getOrNull()},getHeader:function(v){return Hs.getPart(v,t,"header")},getToolbar:function(v){return Hs.getPart(v,t,"toolbar")},setToolbar:function(v,g){Hs.getPart(v,t,"toolbar").each(function(y){y.getApis().setGroups(y,g)})},setToolbars:function(v,g){Hs.getPart(v,t,"multiple-toolbar").each(function(y){tM.setItems(y,g)})},refreshToolbar:function(v){var g=Hs.getPart(v,t,"toolbar");g.each(function(y){return y.getApis().refresh(y)})},toggleToolbarDrawer:function(v){Hs.getPart(v,t,"toolbar").each(function(g){xf(g.getApis().toggle,function(y){return y(g)})})},isToolbarDrawerToggled:function(v){return Hs.getPart(v,t,"toolbar").bind(function(g){return P.from(g.getApis().isOpen).map(function(y){return y(g)})}).getOr(!1)},getThrobber:function(v){return Hs.getPart(v,t,"throbber")},focusToolbar:function(v){var g=Hs.getPart(v,t,"toolbar").orThunk(function(){return Hs.getPart(v,t,"multiple-toolbar")});g.each(function(y){Tn.focusIn(y)})},setMenubar:function(v,g){Hs.getPart(v,t,"menubar").each(function(y){GO.setMenus(y,g)})},focusMenubar:function(v){Hs.getPart(v,t,"menubar").each(function(g){GO.focus(g)})}};return{uid:t.uid,dom:t.dom,components:r,apis:s,behaviours:t.behaviours}},jg=Fg.optional({factory:GO,name:"menubar",schema:[it("backstage")]}),Vj=function(t){return t.type===Il.sliding?tr:t.type===Il.floating?Vt:$r},Uj=Fg.optional({factory:{sketch:function(t){return tM.sketch({uid:t.uid,dom:t.dom,listBehaviours:It([Tn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return $r({type:t.type,uid:ln("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),P.some(!0)}})},setupItem:function(r,o,s,v){mv.setGroups(o,s)},shell:!0})}},name:"multiple-toolbar",schema:[it("dom"),it("onEscape")]}),Wj=Fg.optional({factory:{sketch:function(t){var r=Vj(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),P.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[it("dom"),it("onEscape"),it("getSink")]}),jj=Fg.optional({factory:{sketch:hM},name:"header",schema:[it("dom")]}),Gj=Fg.optional({name:"socket",schema:[it("dom")]}),qj=Fg.optional({factory:{sketch:Ie},name:"sidebar",schema:[it("dom")]}),Kj=Fg.optional({factory:{sketch:jr},name:"throbber",schema:[it("dom")]}),$o=wu({name:"OuterContainer",factory:Ua,configFields:[it("dom"),it("behaviours")],partFields:[jj,jg,Wj,Uj,Gj,qj,Kj],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var s=Ne(o,function(v){return xe(v)});t.setToolbar(r,s)},setToolbars:function(t,r,o){var s=Ne(o,function(v){return Ne(v,xe)});t.setToolbars(r,s)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),Xj="file edit view insert format tools table help",XH={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},Yj=function(t,r,o){var s=mR(o).split(/[ ,]/);return{text:t.title,getItems:function(){return qt(t.items,function(v){var g=v.toLowerCase();return g.trim().length===0?[]:Fr(s,function(y){return y===g})?[]:g==="separator"||g==="|"?[{type:"separator"}]:r.menuItems[g]?[r.menuItems[g]]:[]})}}},jF=function(t){return typeof t=="string"?t.split(" "):t},YH=function(t,r){var o=Ce(Ce({},XH),r.menus),s=Ea(r.menus).length>0,v=r.menubar===void 0||r.menubar===!0?jF(Xj):jF(r.menubar===!1?"":r.menubar),g=pe(v,function(k){var A=Xr(XH,k);return s?A||Dn(r.menus,k).exists(function(D){return Xr(D,"items")}):A}),y=Ne(g,function(k){var A=o[k];return Yj({title:A.title,items:jF(A.items)},r,t)});return pe(y,function(k){var A=function(D){return D.type!=="separator"};return k.getItems().length>0&&Fr(k.getItems(),A)})},JH=function(t){var r=function(){t._skinLoaded=!0,kI(t)};return function(){t.initialized?r():t.on("init",r)}},Jj=function(t,r){return function(){return GR(t,{message:r})}},ZH=function(t,r,o){return new SC(function(s,v){o.load(r,s,v),t.on("remove",function(){return o.unload(r)})})},Zj=function(t,r){var o=r+"/skin.min.css";return ZH(t,o,t.ui.styleSheetLoader)},Qj=function(t,r){var o=ab(Gt.fromDom(t.getElement()));if(o){var s=r+"/skin.shadowdom.min.css";return ZH(t,s,py.DOM.styleSheetLoader)}else return SC.resolve()},QH=function(t,r){var o=VN(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),WN(r)===!1&&E(o)?SC.all([Zj(r,o),Qj(r,o)]).then(JH(r),Jj(r,"Skin could not be loaded")):JH(r)()},eG=Xt(QH,!1),tG=Xt(QH,!0),_M=function(t,r){return function(o){var s=zh(),v=function(){o.setActive(t.formatter.match(r));var g=t.formatter.formatChanged(r,o.setActive);s.set(g)};return t.initialized?v():t.once("init",v),function(){t.off("init",v),s.clear()}}},kM=function(t,r,o){return function(s){var v=function(){return o(s)},g=function(){o(s),t.on(r,v)};return t.initialized?g():t.once("init",g),function(){t.off("init",g),t.off(r,v)}}},e9=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},bv=function(t,r){return function(){return t.execCommand(r)}},nG=function(t,r,o){var s=function(k,A,D,N){var z=r.shared.providers.translate(k.title);if(k.type==="separator")return P.some({type:"separator",text:z});if(k.type==="submenu"){var j=qt(k.getStyleItems(),function(X){return v(X,A,N)});return A===0&&j.length<=0?P.none():P.some({type:"nestedmenuitem",text:z,disabled:j.length<=0,getSubmenuItems:function(){return qt(k.getStyleItems(),function(X){return v(X,A,N)})}})}else return P.some(Ce({type:"togglemenuitem",text:z,icon:k.icon,active:k.isSelected(N),disabled:D,onAction:o.onAction(k)},k.getStylePreview().fold(function(){return{}},function(X){return{meta:{style:X}}})))},v=function(k,A,D){var N=k.type==="formatter"&&o.isInvalid(k);return A===0?N?[]:s(k,A,!1,D).toArray():s(k,A,N,D).toArray()},g=function(k){var A=o.getCurrentValue(),D=o.shouldHide?0:1;return qt(k,function(N){return v(N,D,A)})},y=function(k,A){return function(D,N){var z=A(),j=g(z),X=Ty(j,au.CLOSE_ON_EXECUTE,k,!1);N(X)}};return{validateItems:g,getFetch:y}},VA=function(t,r,o){var s=o.dataset,v=s.type==="basic"?function(){return Ne(s.data,function(g){return $O(g,o.isSelectedFor,o.getPreviewFor)})}:s.getData;return{items:nG(t,r,o),getStyleItems:v}},QO=function(t,r,o){var s=VA(t,r,o),v=s.items,g=s.getStyleItems,y=function(A){return{getComponent:ve(A)}},k=kM(t,"NodeChange",function(A){var D=A.getComponent();o.updateText(D)});return vA({text:o.icon.isSome()?P.none():o.text,icon:o.icon,tooltip:P.from(o.tooltip),role:P.none(),fetch:v.getFetch(r,g),onSetup:k,getApi:y,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},rG=function(t){return Ne(t,function(r){var o=r,s=r,v=r.split("=");return v.length>1&&(o=v[0],s=v[1]),{title:o,format:s}})},aG=function(t){return{type:"basic",data:t}},UA;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(UA||(UA={}));var oG=function(t,r){return r===UA.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},GF=function(t,r,o,s){var v=t.getParam(r,o,"string"),g=rG(oG(v,s));return{type:"basic",data:g}},qF=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],t9=function(t){var r=function(){return bt(qF,function(k){return t.formatter.match(k.format)})},o=function(k){return function(){return t.formatter.match(k)}},s=function(k){return P.none},v=function(k){var A=r(),D=A.fold(ve("left"),function(N){return N.title.toLowerCase()});kn(k,n$,{icon:"align-"+D})},g=aG(qF),y=function(k){return function(){return bt(qF,function(A){return A.format===k.format}).each(function(A){return t.execCommand(A.command)})}};return{tooltip:"Align",text:P.none(),icon:P.some("align-left"),isSelectedFor:o,getCurrentValue:P.none,getPreviewFor:s,onAction:y,updateText:v,dataset:g,shouldHide:!1,isInvalid:function(k){return!t.formatter.canApply(k.format)}}},iG=function(t,r){return QO(t,r,t9(t))},uG=function(t,r){var o=VA(t,r,t9(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},sG="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",lG=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],n9=function(t){var r=t.split(/\s*,\s*/);return Ne(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},cG=function(t){var r=function(){var o=n9(t.toLowerCase());return Et(lG,function(s){return o.indexOf(s.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},r9=function(t){var r="System Font",o=function(){var D=function(ne){return ne?n9(ne)[0]:""},N=t.queryCommandValue("FontName"),z=A.data,j=N?N.toLowerCase():"",X=bt(z,function(ne){var de=ne.format;return de.toLowerCase()===j||D(de).toLowerCase()===D(j).toLowerCase()}).orThunk(function(){return js(cG(j),{title:r,format:j})});return{matchOpt:X,font:N}},s=function(D){return function(N){return N.exists(function(z){return z.format===D})}},v=function(){var D=o().matchOpt;return D},g=function(D){return function(){return P.some({tag:"div",styles:D.indexOf("dings")===-1?{"font-family":D}:{}})}},y=function(D){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,D.format)})}},k=function(D){var N=o(),z=N.matchOpt,j=N.font,X=z.fold(ve(j),function(ne){return ne.title});kn(D,$1,{text:X})},A=GF(t,"font_formats",sG,UA.SemiColon);return{tooltip:"Fonts",text:P.some(r),icon:P.none(),isSelectedFor:s,getCurrentValue:v,getPreviewFor:g,onAction:y,updateText:k,dataset:A,shouldHide:!1,isInvalid:Cn}},fG=function(t,r){return QO(t,r,r9(t))},vG=function(t,r){var o=VA(t,r,r9(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},dG="8pt 10pt 12pt 14pt 18pt 24pt 36pt",mG={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},hG={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},gG=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},pG=function(t,r){return/[0-9.]+px$/.test(t)?gG(parseInt(t,10)*72/96,r||0)+"pt":Dn(hG,t).getOr(t)},bG=function(t){return Dn(mG,t).getOr("")},a9=function(t){var r=function(){var A=P.none(),D=k.data,N=t.queryCommandValue("FontSize");if(N)for(var z=function(X){var ne=pG(N,X),de=bG(ne);A=bt(D,function(ke){return ke.format===N||ke.format===ne||ke.format===de})},j=3;A.isNone()&&j>=0;j--)z(j);return{matchOpt:A,size:N}},o=function(A){return function(D){return D.exists(function(N){return N.format===A})}},s=function(){var A=r().matchOpt;return A},v=ve(P.none),g=function(A){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,A.format)})}},y=function(A){var D=r(),N=D.matchOpt,z=D.size,j=N.fold(ve(z),function(X){return X.title});kn(A,$1,{text:j})},k=GF(t,"fontsize_formats",dG,UA.Space);return{tooltip:"Font sizes",text:P.some("12pt"),icon:P.none(),isSelectedFor:o,getPreviewFor:v,getCurrentValue:s,onAction:g,updateText:y,dataset:k,shouldHide:!1,isInvalid:Cn}},yG=function(t,r){return QO(t,r,a9(t))},wG=function(t,r){var o=VA(t,r,a9(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},o9=function(t,r){var o=r(),s=Ne(o,function(v){return v.format});return P.from(t.formatter.closest(s)).bind(function(v){return bt(o,function(g){return g.format===v})}).orThunk(function(){return js(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},CG="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",i9=function(t){var r="Paragraph",o=function(y){return function(){return t.formatter.match(y)}},s=function(y){return function(){var k=t.formatter.get(y);return P.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(y))})}},v=function(y){var k=o9(t,function(){return g.data}),A=k.fold(ve(r),function(D){return D.title});kn(y,$1,{text:A})},g=GF(t,"block_formats",CG,UA.SemiColon);return{tooltip:"Blocks",text:P.some(r),icon:P.none(),isSelectedFor:o,getCurrentValue:P.none,getPreviewFor:s,onAction:e9(t),updateText:v,dataset:g,shouldHide:!1,isInvalid:function(y){return!t.formatter.canApply(y.format)}}},SG=function(t,r){return QO(t,r,i9(t))},xG=function(t,r){var o=VA(t,r,i9(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},u9=function(t,r){var o="Paragraph",s=function(y){return function(){return t.formatter.match(y)}},v=function(y){return function(){var k=t.formatter.get(y);return k!==void 0?P.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(y))}):P.none()}},g=function(y){var k=function(z){var j=z.items;return j!==void 0&&j.length>0?qt(j,k):[{title:z.title,format:z.format}]},A=qt(BO(t),k),D=o9(t,ve(A)),N=D.fold(ve(o),function(z){return z.title});kn(y,$1,{text:N})};return{tooltip:"Formats",text:P.some(o),icon:P.none(),isSelectedFor:s,getCurrentValue:P.none,getPreviewFor:v,onAction:e9(t),updateText:g,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(y){return!t.formatter.canApply(y.format)},dataset:r}},_G=function(t,r){var o=Ce({type:"advanced"},r.styleselect);return QO(t,r,u9(t,o))},kG=function(t,r){var o=Ce({type:"advanced"},r.styleselect),s=VA(t,r,u9(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},AG=function(t,r){var o=function(s,v){t.updateState.each(function(g){var y=g(s,v);r.set(y)}),t.renderComponents.each(function(g){var y=g(v,r.get()),k=Ne(y,s.getSystem().build);gw(s,k)})};return va([vt(el(),function(s,v){var g=v;if(!g.universal){var y=t.channel;nr(g.channels,y)&&o(s,g.data)}}),jn(function(s,v){t.initialData.each(function(g){o(s,g)})})])},EG=Object.freeze({__proto__:null,events:AG}),TG=function(t,r,o){return o},OG=Object.freeze({__proto__:null,getState:TG}),DG=[it("channel"),Pr("renderComponents"),Pr("updateState"),Pr("initialData")],RG=function(){var t=_n(P.none()),r=function(){return t.set(P.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:r}},BG=Object.freeze({__proto__:null,init:RG}),Sc=Wo({fields:DG,name:"reflecting",active:EG,apis:OG,state:BG}),$G=ve([it("toggleClass"),it("fetch"),gu("onExecute"),Te("getHotspot",P.some),Te("getAnchorOverrides",ve({})),Zv(),gu("onItemExecute"),Pr("lazySink"),it("dom"),Nr("onOpen"),jo("splitDropdownBehaviours",[_o,Tn,Ln]),Te("matchWidth",!1),Te("useMinWidth",!1),Te("eventOrder",{}),Pr("role")].concat(B4())),MG=Di({factory:ls,schema:[it("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:It([Ln.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(Ds)},buttonBehaviours:It([Sr.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),PG=Di({factory:ls,schema:[it("dom")],name:"button",defaults:function(){return{buttonBehaviours:It([Ln.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),NG=ve([MG,PG,ol({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[it("text")],name:"aria-descriptor"}),Ns({schema:[Yd()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(s){t.onItemExecute(s,r,o)})}}}}),PB()]),IG=function(t,r,o,s){var v,g=function(z){fr.getCurrent(z).each(function(j){Wr.highlightFirst(j),Tn.focusIn(j)})},y=function(z){var j=g;Sy(t,tt,z,s,j,vf.HighlightFirst).get(Q)},k=function(z){return y(z),P.some(!0)},A=function(z){var j=af(z,t,"button");return Ds(j),P.some(!0)},D=Ce(Ce({},va([jn(function(z,j){var X=ua(z,t,"aria-descriptor");X.each(function(ne){var de=ln("aria");Xn(ne.element,"id",de),Xn(z.element,"aria-describedby",de)})})])),sy(P.some(y))),N={repositionMenus:function(z){Sr.isOn(z)&&Mg(z)}};return{uid:t.uid,dom:t.dom,components:r,apis:N,eventOrder:Ce(Ce({},t.eventOrder),(v={},v[Ts()]=["disabling","toggling","alloy.base.behaviour"],v)),events:D,behaviours:si(t.splitDropdownBehaviours,[_o.config({others:{sandbox:function(z){var j=af(z,t,"arrow"),X={onOpen:function(){Sr.on(j),Sr.on(z)},onClose:function(){Sr.off(j),Sr.off(z)}};return R4(t,z,X)}}}),Tn.config({mode:"special",onSpace:A,onEnter:A,onDown:k}),Ln.config({}),Sr.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},AM=wu({name:"SplitDropdown",configFields:$G(),partFields:NG(),factory:IG,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),zG=function(t){return{isDisabled:function(){return Sn.isDisabled(t)},setDisabled:function(r){return Sn.set(t,r)}}},LG=function(t){return{setActive:function(r){Sr.set(t,r)},isActive:function(){return Sr.isOn(t)},isDisabled:function(){return Sn.isDisabled(t)},setDisabled:function(r){return Sn.set(t,r)}}},s9=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},l9=ln("focus-button"),KF=function(t,r,o,s,v,g){var y;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:s9(o,g)},components:xm([t.map(function(k){return fA(k,g.icons)}),r.map(function(k){return mO(k,"tox-tbtn",g)})]),eventOrder:(y={},y[El()]=["focusing","alloy.base.behaviour","common-button-display-events"],y),buttonBehaviours:It([ff.toolbarButton(g.isDisabled),Jo(),Gn("common-button-display-events",[vt(El(),function(k,A){A.event.prevent(),Rr(k,l9)})])].concat(s.map(function(k){return Sc.config({channel:k,initialData:{icon:t,text:r},renderComponents:function(A,D){return xm([A.icon.map(function(N){return fA(N,g.icons)}),A.text.map(function(N){return mO(N,"tox-tbtn",g)})])}})}).toArray()).concat(v.getOr([])))}},FG=function(t,r,o,s){var v=r.shared;return ds.sketch({lazySink:v.getSink,fetch:function(){return Gi.nu(function(g){g(Ne(o(t.items),xe))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:KF(t.icon,t.text,t.tooltip,P.none(),P.none(),v.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},c9=function(t,r,o){var s=_n(Q),v=KF(t.icon,t.text,t.tooltip,P.none(),P.none(),o);return ls.sketch({dom:v.dom,components:v.components,eventOrder:t$,buttonBehaviours:It([Gn("toolbar-button-events",[e$({onAction:t.onAction,getApi:r.getApi}),y1(r,s),w1(r,s)]),ff.toolbarButton(function(){return t.disabled||o.isDisabled()}),Jo()].concat(r.toolbarButtonBehaviours))})},HG=function(t,r){return f9(t,r,[])},f9=function(t,r,o){return c9(t,{toolbarButtonBehaviours:[].concat(o.length>0?[Gn("toolbarButtonWith",o)]:[]),getApi:zG,onSetup:t.onSetup},r)},VG=function(t,r){return v9(t,r,[])},v9=function(t,r,o){return Je(c9(t,{toolbarButtonBehaviours:[Vn.config({}),Sr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[Gn("toolbarToggleButtonWith",o)]:[]),getApi:LG,onSetup:t.onSetup},r))},UG=function(t,r,o){return function(s){return Gi.nu(function(v){return r.fetch(v)}).map(function(v){return P.from(hB(Je(y4(ln("menu-value"),v,function(g){r.onItemAction(t(s),g)},r.columns,r.presets,au.CLOSE_ON_EXECUTE,r.select.getOr(Cn),o),{movement:Mk(r.columns,r.presets),menuBehaviours:wk.unnamedEvents(r.columns!=="auto"?[]:[jn(function(g,y){Z3(g,4,KD(r.presets)).each(function(k){var A=k.numRows,D=k.numColumns;Tn.setGridSize(g,A,D)})})])})))})}},WG=function(t,r){var o,s=ln("channel-update-split-dropdown-display"),v=function(k){return{isDisabled:function(){return Sn.isDisabled(k)},setDisabled:function(A){return Sn.set(k,A)},setIconFill:function(A,D){Ho(k.element,'svg path[id="'+A+'"], rect[id="'+A+'"]').each(function(N){Xn(N,"fill",D)})},setIconStroke:function(A,D){Ho(k.element,'svg path[id="'+A+'"], rect[id="'+A+'"]').each(function(N){Xn(N,"stroke",D)})},setActive:function(A){Xn(k.element,"aria-pressed",A),Ho(k.element,"span").each(function(D){k.getSystem().getByDom(D).each(function(N){return Sr.set(N,A)})})},isActive:function(){return Ho(k.element,"span").exists(function(A){return k.getSystem().getByDom(A).exists(Sr.isOn)})}}},g=_n(Q),y={getApi:v,onSetup:t.onSetup};return AM.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:Ce({"aria-pressed":!1},s9(t.tooltip,r.providers))},onExecute:function(k){t.onAction(v(k))},onItemExecute:function(k,A,D){},splitDropdownBehaviours:It([ff.splitButton(r.providers.isDisabled),Jo(),Gn("split-dropdown-events",[vt(l9,Ln.focus),y1(y,g),w1(y,g)]),WC.config({})]),eventOrder:(o={},o[as()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:UG(v,t,r.providers),parts:{menu:p1(!1,t.columns,t.presets)},components:[AM.parts.button(KF(t.icon,t.text,P.none(),P.some(s),P.some([Sr.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),AM.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:RD("chevron-down",r.providers.icons)},buttonBehaviours:It([ff.splitButton(r.providers.isDisabled),Jo(),A3()])}),AM.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},jG=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],eD=function(t,r){return function(o,s,v){var g=t(o).mapError(function(y){return Bv(y)}).getOrDie();return r(g,s,v)}},WA={button:eD(LD,function(t,r){return HG(t,r.backstage.shared.providers)}),togglebutton:eD(hk,function(t,r){return VG(t,r.backstage.shared.providers)}),menubutton:eD(H1,function(t,r){return pO(t,"tox-tbtn",r.backstage,P.none())}),splitbutton:eD($F,function(t,r){return WG(t,r.backstage.shared)}),grouptoolbarbutton:eD(OF,function(t,r,o){var s,v=o.ui.registry.getAll().buttons,g=function(k){return EM(o,{buttons:v,toolbar:k,allowToolbarGroups:!1},r,P.none())},y=(s={},s[u0]=r.backstage.shared.header.isPositionedAtTop()?Yc.TopToBottom:Yc.BottomToTop,s);switch(DC(o)){case Il.floating:return FG(t,r.backstage,g,y);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return _G(t,r.backstage)},fontsizeSelectButton:function(t,r){return yG(t,r.backstage)},fontSelectButton:function(t,r){return fG(t,r.backstage)},formatButton:function(t,r){return SG(t,r.backstage)},alignMenuButton:function(t,r){return iG(t,r.backstage)}},GG=function(t,r,o){return Dn(WA,t.type).fold(function(){return console.error("skipping button defined by",t),P.none()},function(s){return P.some(s(t,r,o))})},d9={styleselect:WA.styleSelectButton,fontsizeselect:WA.fontsizeSelectButton,fontselect:WA.fontSelectButton,formatselect:WA.formatButton,align:WA.alignMenuButton},qG=function(t){var r=Ne(jG,function(o){var s=pe(o.items,function(v){return Xr(t,v)||Xr(d9,v)});return{name:o.name,items:s}});return pe(r,function(o){return o.items.length>0})},KG=function(t){var r=t.split("|");return Ne(r,function(o){return{items:o.trim().split(" ")}})},XG=function(t){return he(t,function(r){return Xr(r,"name")&&Xr(r,"items")})},YG=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?qG(o):E(r)?KG(r):XG(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},JG=function(t,r,o,s,v,g){return Dn(r,o.toLowerCase()).orThunk(function(){return g.bind(function(y){return Pa(y,function(k){return Dn(r,k+o.toLowerCase())})})}).fold(function(){return Dn(d9,o.toLowerCase()).map(function(y){return y(t,v)}).orThunk(function(){return P.none()})},function(y){return y.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),P.none()):GG(y,v,t)})},EM=function(t,r,o,s){var v=YG(r),g=Ne(v,function(y){var k=qt(y.items,function(A){return A.trim().length===0?[]:JG(t,r.buttons,A,r.allowToolbarGroups,o,s).toArray()});return{title:P.from(t.translate(y.name)),items:k}});return pe(g,function(y){return y.items.length>0})},m9=function(t,r,o,s){var v=r.outerContainer,g=o.toolbar,y=o.buttons;if(he(g,E)){var k=g.map(function(A){var D={toolbar:A,buttons:y,allowToolbarGroups:o.allowToolbarGroups};return EM(t,D,{backstage:s},P.none())});$o.setToolbars(v,k)}else $o.setToolbar(v,EM(t,o,{backstage:s},P.none()))},h9=Rn(),ZG=h9.os.isiOS()&&h9.os.version.major<=12,QG=function(t,r){var o=t.dom,s=t.getWin(),v=t.getDoc().documentElement,g=_n(la(s.innerWidth,s.innerHeight)),y=_n(la(v.offsetWidth,v.offsetHeight)),k=function(){var j=g.get();(j.left!==s.innerWidth||j.top!==s.innerHeight)&&(g.set(la(s.innerWidth,s.innerHeight)),c4(t))},A=function(){var j=t.getDoc().documentElement,X=y.get();(X.left!==j.offsetWidth||X.top!==j.offsetHeight)&&(y.set(la(j.offsetWidth,j.offsetHeight)),c4(t))},D=function(j){return EI(t,j)};o.bind(s,"resize",k),o.bind(s,"scroll",D);var N=r0(Gt.fromDom(t.getBody()),"load",A),z=r.uiMothership.element;t.on("hide",function(){Nn(z,"display","none")}),t.on("show",function(){Mr(z,"display")}),t.on("NodeChange",A),t.on("remove",function(){N.unbind(),o.unbind(s,"resize",k),o.unbind(s,"scroll",D),s=null})},eq=function(t,r,o,s,v){var g=_n(0),y=r.outerContainer;eG(t);var k=Gt.fromDom(v.targetNode),A=Xl(Cs(k));Bl(k,r.mothership),tv(A,r.uiMothership),t.on("PostRender",function(){m9(t,r,o,s),g.set(t.getWin().innerWidth),$o.setMenubar(y,YH(t,o)),$o.setSidebar(y,o.sidebar),QG(t,r)});var D=$o.getSocket(y).getOrDie("Could not find expected socket element");if(ZG){Zu(D.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var N=XP(function(){t.fire("ScrollContent")},20),z=mo(D.element,"scroll",N.throttle);t.on("remove",z.unbind)}AR(t,r),t.addCommand("ToggleSidebar",function(de,ke){$o.toggleSidebar(y,ke),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return $o.whichSidebar(y)});var j=DC(t),X=function(){$o.refreshToolbar(r.outerContainer)};(j===Il.sliding||j===Il.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var de=t.getWin().innerWidth;de!==g.get()&&(X(),g.set(de))});var ne={enable:function(){by(r,!1)},disable:function(){by(r,!0)},isDisabled:function(){return Sn.isDisabled(y)}};return{iframeContainer:D.element.dom,editorContainer:y.element.dom,api:ne}},tq=Object.freeze({__proto__:null,render:eq}),XF=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?P.some(parseInt(""+t,10)):P.none()},YF=function(t){return oe(t)?t+"px":t},TM=function(t,r,o){var s=r.filter(function(g){return t<g}),v=o.filter(function(g){return t>g});return s.or(v).getOr(t)},nq=function(t){var r=Sk(t),o=cR(t),s=fR(t);return XF(r).map(function(v){return TM(v,o,s)})},rq=function(t){var r=nq(t);return r.getOr(Sk(t))},g9=function(t){var r=xk(t),o=n4(t),s=_k(t);return XF(r).map(function(v){return TM(v,o,s)})},aq=function(t){var r=g9(t);return r.getOr(xk(t))},oq=function(t,r,o,s,v){var g=o.uiMothership,y=o.outerContainer,k=py.DOM,A=Ak(t),D=Ek(t),N=_k(t).or(g9(t)),z=s.shared.header,j=z.isPositionedAtTop,X=DC(t),ne=X===Il.sliding||X===Il.floating,de=_n(!1),ke=function(){return de.get()&&!t.removed},ce=function(mt){return ne?mt.fold(ve(0),function(nt){return nt.components().length>1?Oo(nt.components()[1].element):0}):0},Ee=function(mt){switch(gR(t)){case b1.auto:var nt=$o.getToolbar(y),Mt=ce(nt),cn=Oo(mt.element)-Mt,lt=Co(r),an=lt.y>cn;if(an)return"top";var dn=et(r),hr=Math.max(dn.dom.scrollHeight,Oo(dn)),Kr=lt.bottom<hr-cn;if(Kr)return"bottom";var Oa=wi(),Qa=Oa.bottom<lt.bottom-cn;return Qa?"bottom":"top";case b1.bottom:return"bottom";case b1.top:default:return"top"}},Ge=function(mt){var nt=v.get();ko.setModes(nt,[mt]),z.setDockingMode(mt);var Mt=j()?Yc.TopToBottom:Yc.BottomToTop;Xn(nt.element,u0,Mt)},We=function(){var mt=N.getOrThunk(function(){var nt=XF(Ka(Ni(),"margin-left")).getOr(0);return Ii(Ni())-su(r).left+nt});Nn(v.get().element,"max-width",mt+"px")},Ae=function(){var mt=$o.getToolbar(y),nt=ce(mt),Mt=Co(r),cn=j()?Math.max(Mt.y-Oo(v.get().element)+nt,0):Mt.bottom;Zu(y.element,{position:"absolute",top:Math.round(cn)+"px",left:Math.round(Mt.x)+"px"})},Le=function(){g.broadcastOn([rg()],{})},at=function(mt){if(mt===void 0&&(mt=!1),!!ke()){if(A||We(),ne&&$o.refreshToolbar(y),A||Ae(),D){var nt=v.get();mt?ko.reset(nt):ko.refresh(nt)}Le()}},Wt=function(mt){if(mt===void 0&&(mt=!0),!(A||!D||!ke())){var nt=z.getDockingMode(),Mt=Ee(v.get());Mt!==nt&&(Ge(Mt),mt&&at(!0))}},ct=function(){de.set(!0),Nn(y.element,"display","flex"),k.addClass(t.getBody(),"mce-edit-focus"),Mr(g.element,"display"),Wt(!1),at()},Kt=function(){de.set(!1),o.outerContainer&&(Nn(y.element,"display","none"),k.removeClass(t.getBody(),"mce-edit-focus")),Nn(g.element,"display","none")};return{isVisible:ke,isPositionedAtTop:j,show:ct,hide:Kt,update:at,updateMode:Wt,repositionPopups:Le}},p9=function(t,r){var o=Co(t);return{pos:r?o.y:o.bottom,bounds:o}},iq=function(t,r,o,s){var v=_n(p9(r,o.isPositionedAtTop())),g=function(k){var A=p9(r,o.isPositionedAtTop()),D=A.pos,N=A.bounds,z=v.get(),j=z.pos,X=z.bounds,ne=N.height!==X.height||N.width!==X.width;v.set({pos:D,bounds:N}),ne&&c4(t,k),o.isVisible()&&(j!==D?o.update(!0):ne&&(o.updateMode(),o.repositionPopups()))};s||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(k){Dg.requestAnimationFrame(function(){return g(k)})}),t.on("ScrollWindow",function(){return o.updateMode()});var y=zh();y.set(r0(Gt.fromDom(t.getBody()),"load",g)),t.on("remove",function(){y.clear()})},uq=function(t,r,o,s,v){var g=r.mothership,y=r.uiMothership,k=r.outerContainer,A=_n(null),D=Gt.fromDom(v.targetNode),N=oq(t,D,r,s,A),z=XN(t);tG(t);var j=function(){if(A.get()){N.show();return}A.set($o.getHeader(k).getOrDie());var ne=wR(t);tv(ne,g),tv(ne,y),m9(t,r,o,s),$o.setMenubar(k,YH(t,o)),N.show(),iq(t,D,N,z),t.nodeChanged()};t.on("show",j),t.on("hide",N.hide),z||(t.on("focus",j),t.on("blur",N.hide)),t.on("init",function(){(t.hasFocus()||z)&&j()}),AR(t,r);var X={show:function(){N.show()},hide:function(){N.hide()},enable:function(){by(r,!1)},disable:function(){by(r,!0)},isDisabled:function(){return Sn.isDisabled(k)}};return{editorContainer:k.element.dom,api:X}},sq=Object.freeze({__proto__:null,render:uq}),lq="contexttoolbar-show",b9="contexttoolbar-hide",cq=function(t){return{hide:function(){return Rr(t,Sp())},getValue:function(){return Ut.getValue(t)}}},y9=function(t,r){return vt(Q5,function(o,s){var v=t.get(o),g=cq(v);r.onAction(g,s.event.buttonApi)})},fq=function(t,r,o){var s=r.original;s.primary;var v=Y(s,["primary"]),g=_l(LD(Ce(Ce({},v),{type:"button",onAction:Q})));return f9(g,o.backstage.shared.providers,[y9(t,r)])},vq=function(t,r,o){var s=r.original;s.primary;var v=Y(s,["primary"]),g=_l(hk(Ce(Ce({},v),{type:"togglebutton",onAction:Q})));return v9(g,o.backstage.shared.providers,[y9(t,r)])},dq=function(t,r,o){var s={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?vq(t,r,s):fq(t,r,s)},mq=function(t,r,o){var s=Ne(r,function(y){return qr(dq(t,y,o))}),v=function(){return Ne(s,function(y){return y.asSpec()})},g=function(y){return Pa(r,function(k,A){return k.primary?P.from(s[A]).bind(function(D){return D.getOpt(y)}).filter(mn(Sn.isDisabled)):P.none()})};return{asSpecs:v,findPrimary:g}},w9=function(t,r){var o=t.label.fold(function(){return{}},function(g){return{"aria-label":g}}),s=qr(VC.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:It([Tn.config({mode:"special",onEnter:function(g){return v.findPrimary(g).map(function(y){return Ds(y),!0})},onLeft:function(g,y){return y.cut(),P.none()},onRight:function(g,y){return y.cut(),P.none()}})])})),v=mq(s,t.commands,r);return[{title:P.none(),items:[s.asSpec()]},{title:P.none(),items:v.asSpecs()}]},hq=function(t,r,o){return $r({type:t,uid:ln("context-toolbar"),initGroups:w9(r,o),onEscape:P.none,cyclicKeying:!0,providers:o})},gq={renderContextForm:hq,buildInitGroups:w9},C9=function(t,r,o){return o===void 0&&(o=.01),r.bottom-t.y>=o&&t.bottom-r.y>=o},pq=function(t){var r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){var o=rb(Gt.fromDom(t.startContainer),t.startOffset).element,s=Eu(o)?bo(o):P.some(o);return s.filter(co).map(function(v){return v.dom.getBoundingClientRect()}).getOr(r)}else return r},JF=function(t){var r=t.selection.getRng(),o=pq(r);if(t.inline){var s=es();return zo(s.left+o.left,s.top+o.top,o.width,o.height)}else{var v=Nc(Gt.fromDom(t.getBody()));return zo(v.x+o.left,v.y+o.top,o.width,o.height)}},bq=function(t,r){return r.filter(uu).map(Nc).getOrThunk(function(){return JF(t)})},yq=function(t,r,o){var s=Math.max(t.x+o,r.x),v=Math.min(t.right-o,r.right);return{x:s,width:v-s}},wq=function(t,r,o,s,v,g){var y=Gt.fromDom(t.getContainer()),k=Ho(y,".tox-editor-header").getOr(y),A=Co(k),D=A.y>=r.bottom,N=s&&!D;if(t.inline&&N)return{y:Math.max(A.bottom+g,o.y),bottom:o.bottom};if(t.inline&&!N)return{y:o.y,bottom:Math.min(A.y-g,o.bottom)};var z=v==="line"?Co(y):r;return N?{y:Math.max(A.bottom+g,o.y),bottom:Math.min(z.bottom-g,o.bottom)}:{y:Math.max(z.y+g,o.y),bottom:Math.min(A.y-g,o.bottom)}},S9=function(t,r,o,s){s===void 0&&(s=0);var v=Lf(window),g=Co(Gt.fromDom(t.getContentAreaContainer())),y=r4(t)||a4(t)||kk(t),k=yq(g,v,s),A=k.x,D=k.width;if(t.inline&&!y)return zo(A,v.y,D,v.height);var N=r.header.isPositionedAtTop(),z=wq(t,g,v,N,o,s),j=z.y,X=z.bottom;return zo(A,j,D,X-j)},OM=12,x9={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},_9={maxHeightFunction:Fh(),maxWidthFunction:xu()},Cq=function(t,r){var o=t.selection.getRng(),s=rb(Gt.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&da(s.element,r)},Sq=function(t,r,o){var s=wo(t,"position");Nn(t,"position",r);var v=o(t);return s.each(function(g){return Nn(t,"position",g)}),v},k9=function(t){return t==="node"},xq=function(t,r,o,s,v){var g=JF(t),y=s.lastElement().exists(function(D){return da(o,D)});if(Cq(t,o))return y?TD:bc;if(y)return Sq(r,s.getMode(),function(){var D=C9(g,Co(r));return D&&!s.isReposition()?UP:TD});var k=s.getMode()==="fixed"?v.y+es().top:v.y,A=Oo(r)+OM;return k+A<=g.y?bc:Eg},_q=function(t,r,o,s){var v=function(A){return function(D,N,z,j,X){var ne=xq(t,j,A,o,X),de=Ce(Ce({},D),{y:X.y,height:X.height});return Ce(Ce({},ne(de,N,z,j,X)),{alwaysFit:!0})}},g=function(A){return k9(s)?[v(A)]:[]},y={onLtr:function(A){return[Nu,Bo,pu,Wi,bu,Yo].concat(g(A))},onRtl:function(A){return[Nu,Bo,bu,Yo,pu,Wi].concat(g(A))}},k={onLtr:function(A){return[Bo,Wi,Yo,pu,bu,Nu].concat(g(A))},onRtl:function(A){return[Bo,Yo,Wi,bu,pu,Nu].concat(g(A))}};return r?k:y},kq=function(t,r,o,s){return r==="line"?{bubble:am(OM,0,x9),layouts:{onLtr:function(){return[Gb]},onRtl:function(){return[qb]}},overrides:_9}:{bubble:am(0,OM,x9,1/OM),layouts:_q(t,o,s,r),overrides:_9}},ZF=function(t,r){var o=pe(r,function(y){return y.predicate(t.dom)}),s=ye(o,function(y){return y.type==="contexttoolbar"}),v=s.pass,g=s.fail;return{contextToolbars:v,contextForms:g}},Aq=function(t){if(t.length<=1)return t;var r=function(k){return Fr(t,function(A){return A.position===k})},o=function(k){return pe(t,function(A){return A.position===k})},s=r("selection"),v=r("node");if(s||v)if(v&&s){var g=o("node"),y=Ne(o("selection"),function(k){return Ce(Ce({},k),{position:"node"})});return g.concat(y)}else return o(s?"selection":"node");else return o("line")},Eq=function(t){if(t.length<=1)return t;var r=function(s){return bt(t,function(v){return v.position===s})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(s){return s.position});return o.fold(function(){return[]},function(s){return pe(t,function(v){return v.position===s})})},Tq=function(t,r,o){var s=ZF(t,r);if(s.contextForms.length>0)return P.some({elem:t,toolbars:[s.contextForms[0]]});var v=ZF(t,o);if(v.contextForms.length>0)return P.some({elem:t,toolbars:[v.contextForms[0]]});if(s.contextToolbars.length>0||v.contextToolbars.length>0){var g=Aq(s.contextToolbars.concat(v.contextToolbars));return P.some({elem:t,toolbars:g})}else return P.none()},Oq=function(t,r,o){return t(r)?P.none():Cp(r,function(s){if(co(s)){var v=ZF(s,o.inNodeScope),g=v.contextToolbars,y=v.contextForms,k=y.length>0?y:Eq(g);return k.length>0?P.some({elem:s,toolbars:k}):P.none()}else return P.none()},t)},Dq=function(t,r){var o=Gt.fromDom(r.getBody()),s=function(y){return da(y,o)},v=function(y){return!s(y)&&!wl(o,y)},g=Gt.fromDom(r.selection.getNode());return v(g)?P.none():Tq(g,t.inNodeScope,t.inEditorScope).orThunk(function(){return Oq(s,g,t)})},Rq=function(t,r){var o={},s=[],v=[],g={},y={},k=function(N,z){var j=_l(N3(z));o[N]=j,j.launch.map(function(X){g["form:"+N]=Ce(Ce({},z.launch),{type:X.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(j)}})}),j.scope==="editor"?v.push(j):s.push(j),y[N]=j},A=function(N,z){VD(z).each(function(j){z.scope==="editor"?v.push(j):s.push(j),y[N]=j})},D=Ea(t);return yt(D,function(N){var z=t[N];z.type==="contextform"?k(N,z):z.type==="contexttoolbar"&&A(N,z)}),{forms:o,inNodeScope:s,inEditorScope:v,lookupTable:y,formNavigators:g}},A9=ln("forward-slide"),E9=ln("backward-slide"),QF=ln("change-slide-event"),e7="tox-pop--resizing",Bq=function(t){var r=_n([]);return ea.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),ea.getContent(o).each(function(s){Mr(s.element,"visibility")}),Ro(o.element,e7),Mr(o.element,"width")},inlineBehaviours:It([Gn("context-toolbar-events",[So(Ch(),function(o,s){s.event.raw.propertyName==="width"&&(Ro(o.element,e7),Mr(o.element,"width"))}),vt(QF,function(o,s){var v=o.element;Mr(v,"width");var g=Ii(v);ea.setContent(o,s.event.contents),Fo(v,e7);var y=Ii(v);Nn(v,"width",g+"px"),ea.getContent(o).each(function(k){s.event.focus.bind(function(A){return lc(A),cc(v)}).orThunk(function(){return Tn.focusIn(k),yu(Cs(v))})}),Dg.setTimeout(function(){Nn(o.element,"width",y+"px")},0)}),vt(A9,function(o,s){ea.getContent(o).each(function(v){r.set(r.get().concat([{bar:v,focus:yu(Cs(o.element))}]))}),kn(o,QF,{contents:s.event.forwardContents,focus:P.none()})}),vt(E9,function(o,s){Aa(r.get()).each(function(v){r.set(r.get().slice(0,r.get().length-1)),kn(o,QF,{contents:Ps(v.bar),focus:v.focus})})})]),Tn.config({mode:"special",onEscape:function(o){return Aa(r.get()).fold(function(){return t.onEscape()},function(s){return Rr(o,E9),P.some(!0)})}})]),lazySink:function(){return Yn.value(t.sink)}})},t7="tox-pop--transition",$q=function(t,r,o,s){var v=s.backstage,g=v.shared,y=Rn().deviceType.isTouch,k=io(),A=io(),D=io(),N=$a(Bq({sink:o,onEscape:function(){return t.focus(),P.some(!0)}})),z=function(){var ct=D.get().getOr("node"),Kt=k9(ct)?1:0;return S9(t,g,ct,Kt)},j=function(){return!t.removed&&!(y()&&v.isContextMenuOpen())},X=function(ct){return bs(Ws(ct,k.get(),da),!0)},ne=function(){if(j()){var ct=z(),Kt=bs(D.get(),"node")?bq(t,k.get()):JF(t);return ct.height<=0||!C9(Kt,ct)}else return!0},de=function(){k.clear(),A.clear(),D.clear(),ea.hide(N)},ke=function(){if(ea.isOpen(N)){var ct=N.element;Mr(ct,"display"),ne()?Nn(ct,"display","none"):(A.set(0),ea.reposition(N))}},ce=function(ct){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ct],behaviours:It([Tn.config({mode:"acyclic"}),Gn("pop-dialog-wrap-events",[jn(function(Kt){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return Tn.focusIn(Kt)})}),Rs(function(Kt){t.shortcuts.remove("ctrl+F9")})])])}},Ee=Xu(function(){return Rq(r,function(ct){var Kt=Ae([ct]);kn(N,A9,{forwardContents:ce(Kt)})})}),Ge=function(ct,Kt){return EM(t,{buttons:ct,toolbar:Kt.items,allowToolbarGroups:!1},s,P.some(["form:"]))},We=function(ct,Kt){return gq.buildInitGroups(ct,Kt)},Ae=function(ct){var Kt=t.ui.registry.getAll().buttons,mt=Ee(),nt=Ce(Ce({},Kt),mt.formNavigators),Mt=DC(t)===Il.scrolling?Il.scrolling:Il.default,cn=Qe(Ne(ct,function(lt){return lt.type==="contexttoolbar"?Ge(nt,lt):We(lt,g.providers)}));return $r({type:Mt,uid:ln("context-toolbar"),initGroups:cn,onEscape:P.none,cyclicKeying:!0,providers:g.providers})},Le=function(ct,Kt){var mt=ct==="node"?g.anchors.node(Kt):g.anchors.cursor(),nt=kq(t,ct,y(),{lastElement:k.get,isReposition:function(){return bs(A.get(),0)},getMode:function(){return uo.getMode(o)}});return Je(mt,nt)},at=function(ct,Kt){if(Wt.cancel(),!!j()){var mt=Ae(ct),nt=ct[0].position,Mt=Le(nt,Kt);D.set(nt),A.set(1);var cn=N.element;Mr(cn,"display"),X(Kt)||(Ro(cn,t7),uo.reset(o,N)),ea.showWithinBounds(N,ce(mt),{anchor:Mt,transition:{classes:[t7],mode:"placement"}},function(){return P.some(z())}),Kt.fold(k.clear,k.set),ne()&&Nn(cn,"display","none")}},Wt=D3(function(){if(!(!t.hasFocus()||t.removed))if(mu(N.element,t7))Wt.throttle();else{var ct=Ee();Dq(ct,t).fold(de,function(Kt){at(Kt.toolbars,P.some(Kt.elem))})}},17);t.on("init",function(){t.on("remove",de),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ke),t.on("click keyup focus SetContent",Wt.throttle),t.on(b9,de),t.on(lq,function(ct){var Kt=Ee();Dn(Kt.lookupTable,ct.toolbarKey).each(function(mt){at([mt],js(ct.target!==t,ct.target)),ea.getContent(N).each(Tn.focusIn)})}),t.on("focusout",function(ct){Dg.setEditorTimeout(t,function(){cc(o.element).isNone()&&cc(N.element).isNone()&&de()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&de()}),t.on("AfterProgressState",function(ct){ct.state?de():t.hasFocus()&&Wt.throttle()}),t.on("NodeChange",function(ct){cc(N.element).fold(Wt.throttle,Q)})})},Mq=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];yt(r,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:bv(t,o.cmd),onSetup:_M(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:bv(t,"JustifyNone")})},Pq={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Nq=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,s="\\.",v=function(k){return"(?:"+k+")?"},g=["Infinity",t+s+v(t)+v(o),s+t+v(o),t+v(o)].join("|"),y="[+-]?(?:"+g+")";return new RegExp("^("+y+")(.*)$")}(),Iq=function(t,r){return Fr(r,function(o){return Fr(Pq[o],function(s){return t===s})})},zq=function(t,r){var o=P.from(Nq.exec(t));return o.bind(function(s){var v=Number(s[1]),g=s[2];return Iq(g,r)?P.some({value:v,unit:g}):P.none()})},Lq=function(t,r){return zq(t,r).map(function(o){var s=o.value,v=o.unit;return s+v})},T9=function(t,r){var o=function(){var s=r.getOptions(t),v=r.getCurrent(t).map(r.hash),g=io();return Ne(s,function(y){return{type:"togglemenuitem",text:r.display(y),onSetup:function(k){var A=function(N){N&&(g.on(function(z){return z.setActive(!1)}),g.set(k)),k.setActive(N)};A(bs(v,r.hash(y)));var D=r.watcher(t,y,A);return function(){g.clear(),D()}},onAction:function(){return r.setCurrent(t,y)}}})};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(s){return s(o())},onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:o,onSetup:r.onMenuSetup})},Fq={name:"lineheight",text:"Line height",icon:"line-height",getOptions:vR,hash:function(t){return Lq(t,["fixed","relative","empty"]).getOr(t)},display:tt,watcher:function(t,r,o){return t.formatter.formatChanged("lineheight",o,!1,{value:r}).unbind},getCurrent:function(t){return P.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,r){return t.execCommand("LineHeight",!1,r)}},Hq=function(t){var r=P.from(dR(t));return r.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:ve(o),hash:function(s){return ee(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,v,g){return s.formatter.formatChanged("lang",g,!1,{value:v.code,customValue:v.customCode}).unbind},getCurrent:function(s){var v=Gt.fromDom(s.selection.getNode());return ph(v,function(g){return P.some(g).filter(co).bind(function(y){var k=Fa(y,"lang");return k.map(function(A){var D=Fa(y,"data-mce-lang").getOrUndefined();return{code:A,customCode:D,title:""}})})})},setCurrent:function(s,v){return s.execCommand("Lang",!1,v)},onToolbarSetup:function(s){var v=zh();return s.setActive(t.formatter.match("lang",{},void 0,!0)),v.set(t.formatter.formatChanged("lang",s.setActive,!0)),v.clear}}})},Vq=function(t){T9(t,Fq),Hq(t).each(function(r){return T9(t,r)})},Uq=function(t,r){uG(t,r),vG(t,r),kG(t,r),xG(t,r),wG(t,r)},Wq=function(t){return kM(t,"NodeChange",function(r){r.setDisabled(!t.queryCommandState("outdent"))})},jq=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Wq(t),onAction:bv(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:bv(t,"indent")})},Gq=function(t){jq(t)},n7=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},qq=function(t){Lg.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,v){t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:_M(t,s.name),onAction:n7(t,s.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:_M(t,o),onAction:n7(t,o)})}},Kq=function(t){Lg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:bv(t,r.action)})})},Xq=function(t){Lg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:bv(t,r.action),onSetup:_M(t,r.name)})})},Yq=function(t){qq(t),Kq(t),Xq(t)},Jq=function(t){Lg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:bv(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:n7(t,"code")})},Zq=function(t){Yq(t),Jq(t)},DM=function(t,r){return kM(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[r]())})},Qq=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:DM(t,"hasUndo"),onAction:bv(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:DM(t,"hasRedo"),onAction:bv(t,"redo")})},eK=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:DM(t,"hasUndo"),onAction:bv(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:DM(t,"hasRedo"),onAction:bv(t,"redo")})},tK=function(t){Qq(t),eK(t)},nK=function(t){return kM(t,"VisualAid",function(r){r.setActive(t.hasVisual)})},rK=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:nK(t),onAction:bv(t,"mceToggleVisualAid")})},aK=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:bv(t,"mceToggleVisualAid")})},oK=function(t){aK(t),rK(t)},iK=function(t,r){Mq(t),Zq(t),Uq(t,r),tK(t),PI(t),oK(t),Gq(t),Vq(t)},tD=function(t,r){return{type:"makeshift",x:t,y:r}},uK=function(t,r,o){return tD(t.x+r,t.y+o)},O9=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},sK=function(t){if(O9(t)){var r=t.touches[0];return tD(r.pageX,r.pageY)}else return tD(t.pageX,t.pageY)},lK=function(t){if(O9(t)){var r=t.touches[0];return tD(r.clientX,r.clientY)}else return tD(t.clientX,t.clientY)},cK=function(t,r){var o=py.DOM.getPos(t);return uK(r,o.x,o.y)},fK=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?sK(r):cK(t.getContentAreaContainer(),lK(r)):D9(t)},D9=function(t){return{type:"selection",root:Gt.fromDom(t.selection.getNode())}},vK=function(t){return{type:"node",node:P.some(Gt.fromDom(t.selection.getNode())),root:Gt.fromDom(t.getBody())}},R9=function(t,r,o){switch(o){case"node":return vK(t);case"point":return fK(t,r);case"selection":return D9(t)}},dK=function(t,r,o,s,v,g){var y=o(),k=R9(t,r,g);Ty(y,au.CLOSE_ON_EXECUTE,s,!1).map(function(A){r.preventDefault(),ea.showMenuAt(v,{anchor:k},{menu:{markers:dy("normal")},data:A})})},mK={onLtr:function(){return[Bo,Wi,Yo,pu,bu,Nu,bc,Eg,Ag,_g,kg,cy]},onRtl:function(){return[Bo,Yo,Wi,bu,pu,Nu,bc,Eg,kg,cy,Ag,_g]}},hK=12,gK={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},pK=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var s=r.touches[0],v=o.getRng(),g=cw(t.getWin(),Uh.domRange(v));return g.exists(function(y){return y.left<=s.clientX&&y.right>=s.clientX&&y.top<=s.clientY&&y.bottom>=s.clientY})},bK=function(t){var r=t.selection.getRng(),o=function(){Dg.setEditorTimeout(t,function(){t.selection.setRng(r)},10),g()};t.once("touchend",o);var s=function(y){y.preventDefault(),y.stopImmediatePropagation()};t.on("mousedown",s,!0);var v=function(){return g()};t.once("longpresscancel",v);var g=function(){t.off("touchend",o),t.off("longpresscancel",v),t.off("mousedown",s)}},yK=function(t,r,o){var s=R9(t,r,o),v=o==="point"?hK:0;return Ce({bubble:am(0,v,gK),layouts:mK,overrides:{maxWidthFunction:xu(),maxHeightFunction:Fh()}},s)},wK=function(t,r,o,s,v,g,y){var k=yK(t,r,g);Ty(o,au.CLOSE_ON_EXECUTE,s,!0).map(function(A){r.preventDefault(),ea.showMenuWithinBounds(v,{anchor:k},{menu:{markers:dy("normal"),highlightImmediately:y},data:A,type:"horizontal"},function(){return P.some(S9(t,s.shared,g==="node"?"node":"selection"))}),t.fire(b9)})},CK=function(t,r,o,s,v,g){var y=Rn(),k=y.os.isiOS(),A=y.os.isOSX(),D=y.os.isAndroid(),N=y.deviceType.isTouch(),z=function(){return!(D||k||A&&N)},j=function(){var ne=o();wK(t,r,ne,s,v,g,z())};if((A||k)&&g!=="node"){var X=function(){bK(t),j()};pK(t,r)?X():(t.once("selectionchange",X),t.once("touchend",function(){return t.off("selectionchange",X)}))}else j()},B9=function(t){return typeof t=="string"?t.split(/[ ,]/):t},$9=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},SK=function(t,r,o){var s=t.ui.registry.getAll().contextMenus;return P.from(t.getParam(r)).map(B9).getOrThunk(function(){return pe(B9(o),function(v){return Xr(s,v)})})},xK=function(t){return t.getParam("contextmenu")===!1},_K=function(t){return SK(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},kK=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},M9=function(t){return E(t)?t==="|":t.type==="separator"},r7={type:"separator"},P9=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(E(t))return t;switch(t.type){case"separator":return r7;case"submenu":return Ce(Ce({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return E(o)?o:Ne(o,P9)}});default:return Ce(Ce({type:"menuitem"},r(t)),{onAction:Ct(t.onAction)})}},N9=function(t,r){if(r.length===0)return t;var o=Aa(t).filter(function(v){return!M9(v)}),s=o.fold(function(){return[]},function(v){return[r7]});return t.concat(s).concat(r).concat([r7])},AK=function(t,r,o){var s=je(r,function(v,g){return Dn(t,g.toLowerCase()).map(function(y){var k=y.update(o);if(E(k))return N9(v,k.split(" "));if(k.length>0){var A=Ne(k,P9);return N9(v,A)}else return v}).getOrThunk(function(){return v.concat([g])})},[]);return s.length>0&&M9(s[s.length-1])&&s.pop(),s},EK=function(t,r){return r.ctrlKey&&!$9(t)},I9=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},z9=function(t,r){return I9(t,r)?t.selection.getStart(!0):r.target},TK=function(t,r){var o=kK(t),s=I9(t,r)?"selection":"point";if(Oc(o)){var v=z9(t,r),g=IC(Gt.fromDom(v),o);return g?"node":s}else return s},OK=function(t,r,o){var s=Rn(),v=s.deviceType.isTouch,g=$a(ea.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:It([Gn("dismissContextMenu",[vt(Tl(),function(A,D){wr.close(A),t.focus()})])])})),y=function(A){return ea.hide(g)},k=function(A){if($9(t)&&A.preventDefault(),!(EK(t,A)||xK(t))){var D=TK(t,A),N=function(){var j=z9(t,A),X=t.ui.registry.getAll(),ne=_K(t);return AK(X.contextMenus,ne,j)},z=v()?CK:dK;z(t,A,N,o,g,D)}};t.on("init",function(){var A="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(v()?"":" ResizeWindow");t.on(A,y),t.on("longpress contextmenu",k)})},a7=Es.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),RM=function(t){return function(r){return r.translate(-t.left,-t.top)}},BM=function(t){return function(r){return r.translate(t.left,t.top)}},V1=function(t){return function(r,o){return je(t,function(s,v){return v(s)},la(r,o))}},$M=function(t,r,o){return t.fold(V1([BM(o),RM(r)]),V1([RM(r)]),V1([]))},jA=function(t,r,o){return t.fold(V1([BM(o)]),V1([]),V1([BM(r)]))},L9=function(t,r,o){return t.fold(V1([]),V1([RM(o)]),V1([BM(r),RM(o)]))},DK=function(t,r,o,s,v,g){var y=jA(t,v,g),k=jA(r,v,g);return Math.abs(y.left-k.left)<=o&&Math.abs(y.top-k.top)<=s},RK=function(t,r,o,s,v,g){var y=jA(t,v,g),k=jA(r,v,g),A=Math.abs(y.left-k.left),D=Math.abs(y.top-k.top);return la(A,D)},F9=function(t,r,o){var s=t.fold(function(v,g){return{position:P.some("absolute"),left:P.some(v+"px"),top:P.some(g+"px")}},function(v,g){return{position:P.some("absolute"),left:P.some(v-o.left+"px"),top:P.some(g-o.top+"px")}},function(v,g){return{position:P.some("fixed"),left:P.some(v+"px"),top:P.some(g+"px")}});return Ce({right:P.none(),bottom:P.none()},s)},BK=function(t,r,o){return t.fold(function(s,v){return MM(s+r,v+o)},function(s,v){return My(s+r,v+o)},function(s,v){return hS(s+r,v+o)})},o7=function(t,r,o,s){var v=function(g,y){return function(k,A){var D=g(r,o,s);return y(k.getOr(D.left),A.getOr(D.top))}};return t.fold(v(L9,MM),v(jA,My),v($M,hS))},MM=a7.offset,My=a7.absolute,hS=a7.fixed,H9=function(t,r){var o=Ra(t,r);return ee(o)?NaN:parseInt(o,10)},$K=function(t,r){var o=t.element,s=H9(o,r.leftAttr),v=H9(o,r.topAttr);return isNaN(s)||isNaN(v)?P.none():P.some(la(s,v))},MK=function(t,r,o){var s=t.element;Xn(s,r.leftAttr,o.left+"px"),Xn(s,r.topAttr,o.top+"px")},PK=function(t,r){var o=t.element;ai(o,r.leftAttr),ai(o,r.topAttr)},NK=function(t,r,o,s){return $K(t,r).fold(function(){return o},function(v){return hS(v.left+s.left,v.top+s.top)})},IK=function(t,r,o,s,v,g){var y=NK(t,r,o,s),k=r.mustSnap?LK(t,r,y,v,g):FK(t,r,y,v,g),A=$M(y,v,g);return MK(t,r,A),k.fold(function(){return{coord:hS(A.left,A.top),extra:P.none()}},function(D){return{coord:D.output,extra:D.extra}})},zK=function(t,r){PK(t,r)},V9=function(t,r,o,s){return Pa(t,function(v){var g=v.sensor,y=DK(r,g,v.range.left,v.range.top,o,s);return y?P.some({output:o7(v.output,r,o,s),extra:v.extra}):P.none()})},LK=function(t,r,o,s,v){var g=r.getSnapPoints(t),y=V9(g,o,s,v);return y.orThunk(function(){var k=je(g,function(A,D){var N=D.sensor,z=RK(o,N,D.range.left,D.range.top,s,v);return A.deltas.fold(function(){return{deltas:P.some(z),snap:P.some(D)}},function(j){var X=(z.left+z.top)/2,ne=(j.left+j.top)/2;return X<=ne?{deltas:P.some(z),snap:P.some(D)}:A})},{deltas:P.none(),snap:P.none()});return k.snap.map(function(A){return{output:o7(A.output,o,s,v),extra:A.extra}})})},FK=function(t,r,o,s,v){var g=r.getSnapPoints(t);return V9(g,o,s,v)},HK=function(t,r,o){return{coord:o7(t.output,t.output,r,o),extra:t.extra}},VK=function(t,r,o,s){var v=r.getTarget(t.element);if(r.repositionTarget){var g=qo(t.element),y=es(g),k=DA(v),A=HK(s,y,k),D=F9(A.coord,y,k);qa(v,D)}},UK=Object.freeze({__proto__:null,snapTo:VK}),i7="data-initial-z-index",WK=function(t){bo(t.element).filter(co).each(function(r){Fa(r,i7).fold(function(){return Mr(r,"z-index")},function(o){return Nn(r,"z-index",o)}),ai(r,i7)})},jK=function(t){bo(t.element).filter(co).each(function(r){wo(r,"z-index").each(function(o){Xn(r,i7,o)}),Nn(r,"z-index",Ka(t.element,"z-index"))})},U9=function(t,r){t.getSystem().addToGui(r),jK(r)},GK=function(t){WK(t),t.getSystem().removeFromGui(t)},W9=function(t,r,o){return t.getSystem().build(Cu.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},qK=rs("snaps",[it("getSnapPoints"),Nr("onSensor"),it("leftAttr"),it("topAttr"),Te("lazyViewport",wi),Te("mustSnap",!1)]),u7=[Te("useFixed",Cn),it("blockerClass"),Te("getTarget",tt),Te("onDrag",Q),Te("repositionTarget",!0),Te("onDrop",Q),ba("getBounds",wi),qK],KK=function(t){return Km(wo(t,"left"),wo(t,"top"),wo(t,"position"),function(r,o,s){var v=s==="fixed"?hS:MM;return v(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=su(t);return My(r.left,r.top)})},XK=function(t,r,o,s,v){var g=v.bounds,y=jA(r,o,s),k=is(y.left,g.x,g.x+g.width-v.width),A=is(y.top,g.y,g.y+g.height-v.height),D=My(k,A);return r.fold(function(){var N=L9(D,o,s);return MM(N.left,N.top)},ve(D),function(){var N=$M(D,o,s);return hS(N.left,N.top)})},YK=function(t,r,o,s,v,g,y){var k=r.fold(function(){var A=BK(o,g.left,g.top),D=$M(A,s,v);return hS(D.left,D.top)},function(A){var D=IK(t,A,o,g,s,v);return D.extra.each(function(N){A.onSensor(t,N)}),D.coord});return XK(t,k,s,v,y)},JK=function(t,r,o,s){var v=r.getTarget(t.element);if(r.repositionTarget){var g=qo(t.element),y=es(g),k=DA(v),A=KK(v),D=YK(t,r.snaps,A,y,k,s,o),N=F9(D,y,k);qa(v,N)}r.onDrag(t,v,s)},j9=function(t,r){return{bounds:t.getBounds(),height:Qu(r.element),width:lu(r.element)}},s7=function(t,r,o,s,v){var g=o.update(s,v),y=o.getStartData().getOrThunk(function(){return j9(r,t)});g.each(function(k){JK(t,r,y,k)})},G9=function(t,r,o,s){r.each(GK),o.snaps.each(function(g){zK(t,g)});var v=o.getTarget(t.element);s.reset(),o.onDrop(t,v)},l7=function(t){return function(r,o){var s=function(v){o.setStartData(j9(r,v))};return va(Ht([vt(m2(),function(v){o.getStartData().each(function(){return s(v)})})],t(r,o,s),!0))}},ZK=function(t){return va([vt(El(),t.forceDrop),vt(s2(),t.drop),vt(Id(),function(r,o){t.move(o.event)}),vt(u2(),t.delayDrop)])},QK=function(t){return P.from(la(t.x,t.y))},eX=function(t,r){return la(r.left-t.left,r.top-t.top)},tX=Object.freeze({__proto__:null,getData:QK,getDelta:eX}),q9=function(t,r,o){return[vt(El(),function(s,v){var g=v.event.raw;if(g.button===0){v.stop();var y=function(){return G9(s,P.some(D),t,r)},k=pB(y,200),A={drop:y,delayDrop:k.schedule,forceDrop:y,move:function(z){k.cancel(),s7(s,t,r,tX,z)}},D=W9(s,t.blockerClass,ZK(A)),N=function(){o(s),U9(s,D)};N()}})]},nX=Ht(Ht([],u7,!0),[ha("dragger",{handlers:l7(q9)})],!1),rX=function(t){return va([vt(Hc(),t.forceDrop),vt(Mv(),t.drop),vt(KS(),t.drop),vt(Al(),function(r,o){t.move(o.event)})])},aX=function(t){var r=t[0];return P.some(la(r.clientX,r.clientY))},oX=function(t){var r=t.raw,o=r.touches;return o.length===1?aX(o):P.none()},iX=function(t,r){return la(r.left-t.left,r.top-t.top)},K9=Object.freeze({__proto__:null,getData:oX,getDelta:iX}),X9=function(t,r,o){var s=io(),v=function(g){G9(g,s.get(),t,r),s.clear()};return[vt(Hc(),function(g,y){y.stop();var k=function(){return v(g)},A={drop:k,delayDrop:Q,forceDrop:k,move:function(z){s7(g,t,r,K9,z)}},D=W9(g,t.blockerClass,rX(A));s.set(D);var N=function(){o(g),U9(g,D)};N()}),vt(Al(),function(g,y){y.stop(),s7(g,t,r,K9,y.event)}),vt(Mv(),function(g,y){y.stop(),v(g)}),vt(KS(),v)]},uX=Ht(Ht([],u7,!0),[ha("dragger",{handlers:l7(X9)})],!1),sX=function(t,r,o){return Ht(Ht([],q9(t,r,o),!0),X9(t,r,o),!0)},lX=Ht(Ht([],u7,!0),[ha("dragger",{handlers:l7(sX)})],!1),cX=nX,fX=uX,vX=lX,dX=Object.freeze({__proto__:null,mouse:cX,touch:fX,mouseOrTouch:vX}),mX=function(){var t=P.none(),r=P.none(),o=function(){t=P.none(),r=P.none()},s=function(A,D){var N=t.map(function(z){return A.getDelta(z,D)});return t=P.some(D),N},v=function(A,D){return A.getData(D).bind(function(N){return s(A,N)})},g=function(A){r=P.some(A)},y=function(){return r},k=ve({});return Ui({readState:k,reset:o,update:v,getStartData:y,setStartData:g})},hX=Object.freeze({__proto__:null,init:mX}),gS=tm({branchKey:"mode",branches:dX,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:P.from(t.extra)}}},state:hX,apis:UK}),c7=40,PM=c7/2,Y9=function(t,r,o,s,v,g){return t.fold(function(){return gS.snap({sensor:My(o-PM,s-PM),range:la(v,g),output:My(P.some(o),P.some(s)),extra:{td:r}})},function(y){var k=o-PM,A=s-PM,D=c7,N=c7,z=y.element.dom.getBoundingClientRect();return gS.snap({sensor:My(k,A),range:la(D,N),output:My(P.some(o-z.width/2),P.some(s-z.height/2)),extra:{td:r}})})},J9=function(t,r,o){var s=function(v,g){return v.exists(function(y){return da(y,g)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(v,g){var y=g.td;s(r.get(),y)||(r.set(y),o(y))},mustSnap:!0}},Z9=function(t){return qr(ls.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:It([gS.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),WC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},gX=function(t,r){var o=_n([]),s=_n([]),v=_n(!1),g=io(),y=io(),k=function(at){var Wt=Nc(at);return Y9(X.getOpt(r),at,Wt.x,Wt.y,Wt.width,Wt.height)},A=function(){return Ne(o.get(),function(at){return k(at)})},D=function(at){var Wt=Nc(at);return Y9(ne.getOpt(r),at,Wt.right,Wt.bottom,Wt.width,Wt.height)},N=function(){return Ne(s.get(),function(at){return D(at)})},z=J9(A,g,function(at){y.get().each(function(Wt){t.fire("TableSelectorChange",{start:at,finish:Wt})})}),j=J9(N,y,function(at){g.get().each(function(Wt){t.fire("TableSelectorChange",{start:Wt,finish:at})})}),X=Z9(z),ne=Z9(j),de=$a(X.asSpec()),ke=$a(ne.asSpec()),ce=function(at,Wt,ct,Kt){var mt=Wt.dom.getBoundingClientRect();Mr(at.element,"display");var nt=rh(Gt.fromDom(t.getBody())).dom.innerHeight,Mt=ct(mt),cn=Kt(mt,nt);(Mt||cn)&&Nn(at.element,"display","none")},Ee=function(at,Wt,ct,Kt){var mt=ct(Wt);gS.snapTo(at,mt);var nt=function(cn){return cn[Kt]<0},Mt=function(cn,lt){return cn[Kt]>lt};ce(at,Wt,nt,Mt)},Ge=function(at){return Ee(de,at,k,"top")},We=function(){return g.get().each(Ge)},Ae=function(at){return Ee(ke,at,D,"bottom")},Le=function(){return y.get().each(Ae)};Rn().deviceType.isTouch()&&(t.on("TableSelectionChange",function(at){v.get()||(sm(r,de),sm(r,ke),v.set(!0)),g.set(at.start),y.set(at.finish),at.otherCells.each(function(Wt){o.set(Wt.upOrLeftCells),s.set(Wt.downOrRightCells),Ge(at.start),Ae(at.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){We(),Le()}),t.on("TableSelectionClear",function(){v.get()&&(mc(de),mc(ke),v.set(!1)),g.clear(),y.clear()}))},pX=function(t){return!!(t.nodeType===1&&(t.nodeName==="BR"||t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark"))},bX=function(t,r,o){r.delimiter||(r.delimiter="»");var s=function(g){var y=g||[],k=Ne(y,function(D,N){return ls.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":N,"tab-index":-1,"aria-level":N+1},innerHtml:D.name},action:function(z){t.focus(),t.selection.select(D.element),t.nodeChanged()},buttonBehaviours:It([ff.button(o.isDisabled),Jo()])})}),A={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return je(k.slice(1),function(D,N){var z=D;return z.push(A),z.push(N),z},[k[0]])},v=function(g){for(var y=[],k=g.length;k-- >0;){var A=g[k];if(A.nodeType===1&&!pX(A)){var D=t.fire("ResolveName",{name:A.nodeName.toLowerCase(),target:A});if(D.isDefaultPrevented()||y.push({name:D.name,element:A}),D.isPropagationStopped())break}}return y};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:It([Tn.config({mode:"flow",selector:"div[role=button]"}),Sn.config({disabled:o.isDisabled}),Jo(),xo.config({}),Vn.config({}),Gn("elementPathEvents",[jn(function(g,y){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Tn.focusIn(g)}),t.on("NodeChange",function(k){var A=v(k.parents);A.length>0?Vn.set(g,s(A)):Vn.set(g,[])})})])]),components:[]}},pS;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(pS||(pS={}));var yX=function(t,r,o,s,v){var g={};return g.height=TM(s+r.top,cR(t),fR(t)),o===pS.Both&&(g.width=TM(v+r.left,n4(t),_k(t))),g},Q9=function(t,r,o){var s=Gt.fromDom(t.getContainer()),v=yX(t,r,o,Oo(s),Ii(s));Sa(v,function(g,y){return Nn(s,y,YF(g))}),AI(t)},wX=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?pS.None:o==="both"?pS.Both:pS.Vertical},NM=function(t,r,o,s){var v=20,g=la(o*v,s*v);return Q9(t,g,r),P.some(!0)},CX=function(t,r){var o=wX(t);return o===pS.None?P.none():P.some(lv("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[gS.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,v,g){return Q9(t,g,o)},blockerClass:"tox-blocker"}),Tn.config({mode:"special",onLeft:function(){return NM(t,o,-1,0)},onRight:function(){return NM(t,o,1,0)},onUp:function(){return NM(t,o,0,-1)},onDown:function(){return NM(t,o,0,1)}}),xo.config({}),Ln.config({})]},r.icons))},SX=function(t,r){var o,s=function(v,g,y){return Vn.set(v,[ki(r.translate(["{0} "+y,g[y]]))])};return ls.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:It([ff.button(r.isDisabled),Jo(),xo.config({}),Vn.config({}),Ut.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Gn("wordcount-events",[os(function(v){var g=Ut.getValue(v),y=g.mode==="words"?"characters":"words";Ut.setValue(v,{mode:y,count:g.count}),s(v,g.count,y)}),jn(function(v){t.on("wordCountUpdate",function(g){var y=Ut.getValue(v).mode;Ut.setValue(v,{mode:y,count:g.wordCount}),s(v,g.wordCount,y)})})])]),eventOrder:(o={},o[Ts()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},xX=function(t,r){var o=function(){var g=cf.translate(["Powered by {0}","Tiny"]),y='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+g+'">'+g+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:y}}},s=function(){var g=[];return t.getParam("elementpath",!0,"boolean")&&g.push(bX(t,{},r)),t.hasPlugin("wordcount")&&g.push(SX(t,r)),t.getParam("branding",!0,"boolean")&&g.push(o()),g.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:g}]:[]},v=function(){var g=s(),y=CX(t,r);return g.concat(y.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:v()}},_X=function(t){var r,o=t.inline,s=o?sq:tq,v=Ek(t)?IA:gF,g=P.none(),y=Rn(),k=y.browser.isIE(),A=k?["tox-platform-ie"]:[],D=y.deviceType.isTouch(),N="tox-platform-touch",z=D?[N]:[],j=pR(t),X=wR(t),ne=cf.isRtl()?{attributes:{dir:"rtl"}}:{},de={attributes:(r={},r[u0]=j?Yc.BottomToTop:Yc.TopToBottom,r)},ke=function(){return g.bind($o.getHeader)},ce=function(){return v.isDocked(ke)},Ee=function(){Nn(ju.element,"width",document.body.clientWidth+"px")},Ge=function(){var gi=da(Ni(),X)&&Ka(X,"display")==="grid",Nm={dom:Ce({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(A).concat(z)},ne),behaviours:It([uo.config({useFixed:function(){return ce()}})])},Kg={dom:{styles:{width:document.body.clientWidth+"px"}},events:va([vt(Os(),Ee)])};return Je(Nm,gi?Kg:{})},We=$a(Ge()),Ae=function(){return Yn.value(We)},Le=qr({dom:{tag:"div",classes:["tox-anchorbar"]}}),at=function(){return g.bind(function(gi){return Le.getOpt(gi)}).getOrDie("Could not find a anchor bar element")},Wt=function(){return g.bind(function(gi){return $o.getToolbar(gi)}).getOrDie("Could not find more toolbar element")},ct=function(){return g.bind(function(gi){return $o.getThrobber(gi)}).getOrDie("Could not find throbber element")},Kt=TA(We,t,at),mt=$o.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Kt,onEscape:function(){t.focus()}}),nt=DC(t),Mt=$o.parts.toolbar(Ce({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Ae,providers:Kt.shared.providers,onEscape:function(){t.focus()},type:nt,lazyToolbar:Wt,lazyHeader:function(){return ke().getOrDie("Could not find header element")}},de)),cn=$o.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Kt.shared.providers,onEscape:function(){t.focus()},type:nt}),lt=$o.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),an=$o.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),dn=$o.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Kt}),hr=t.getParam("statusbar",!0,"boolean"),Kr=hr&&!o?P.some(xX(t,Kt.shared.providers)):P.none(),Oa={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[lt,an]},Qa=kk(t),cl=a4(t),_u=r4(t),qA=function(){return Qa?[cn]:cl?[Mt]:[]},hi=$o.parts.header({dom:Ce({tag:"div",classes:["tox-editor-header"]},de),components:Qe([_u?[mt]:[],qA(),Ak(t)?[]:[Le.asSpec()]]),sticky:Ek(t),editor:t,sharedBackstage:Kt.shared}),U1=Qe([j?[]:[hi],o?[]:[Oa],j?[hi]:[]]),W1={dom:{tag:"div",classes:["tox-editor-container"]},components:U1},wS=Qe([[W1],o?[]:Kr.toArray(),[dn]]),j1=CR(t),CS=Ce(Ce({role:"application"},cf.isRtl()?{dir:"rtl"}:{}),j1?{"aria-hidden":"true"}:{}),ms=$a($o.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(j?["tox-tinymce--toolbar-bottom"]:[]).concat(z).concat(A),styles:Ce({visibility:"hidden"},j1?{opacity:"0",border:"0"}:{}),attributes:CS},components:wS,behaviours:It([Jo(),Sn.config({disableClass:"tox-tinymce--disabled"}),Tn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));g=P.some(ms),t.shortcuts.add("alt+F9","focus menubar",function(){$o.focusMenubar(ms)}),t.shortcuts.add("alt+F10","focus toolbar",function(){$o.focusToolbar(ms)}),t.addCommand("ToggleToolbarDrawer",function(){$o.toggleToolbarDrawer(ms)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return $o.isToolbarDrawerToggled(ms)});var yv=_B(ms),ju=_B(We);lF(t,yv,ju);var SS=function(){var gi={broadcastAll:ju.broadcast,broadcastOn:ju.broadcastOn,register:Q};return{channels:gi}},qg=function(){var gi=YF(rq(t)),Nm=YF(aq(t));return t.inline||(Ss("div","width",Nm)&&Nn(ms.element,"width",Nm),Ss("div","height",gi)?Nn(ms.element,"height",gi):Nn(ms.element,"height","200px")),gi},Ny=function(){v.setup(t,Kt.shared,ke),iK(t,Kt),OK(t,Ae,Kt),te(t),Za(t,ct,Kt.shared),mr(qN(t),function(Gu,fl){t.ui.registry.addGroupToolbarButton(fl,Gu)});var gi=t.ui.registry.getAll(),Nm=gi.buttons,Kg=gi.menuItems,G1=gi.contextToolbars,wv=gi.sidebars,Xg=hR(t),Zt={menuItems:Kg,menus:YN(t),menubar:JN(t),toolbar:Xg.getOrThunk(function(){return ZN(t)}),allowToolbarGroups:nt===Il.floating,buttons:Nm,sidebar:wv};$q(t,G1,We,{backstage:Kt}),gX(t,We);var Zn=t.getElement(),Jr=qg(),Wa={mothership:yv,uiMothership:ju,outerContainer:ms},hs={targetNode:Zn,height:Jr};return s.render(t,Wa,Zt,Kt,hs)};return{mothership:yv,uiMothership:ju,backstage:Kt,renderUI:Ny,getUi:SS}},kX=function(t,r){var o=P.from(Ra(t,"id")).fold(function(){var s=ln("dialog-describe");return Xn(r,"id",s),s},tt);Xn(t,"aria-describedby",o)},AX=function(t,r){var o=Fa(t,"id").fold(function(){var s=ln("dialog-label");return Xn(r,"id",s),s},tt);Xn(t,"aria-labelledby",o)},EX=ve([it("lazySink"),Pr("dragBlockClass"),ba("getBounds",wi),Te("useTabstopAt",Qt),Te("eventOrder",{}),jo("modalBehaviours",[Tn]),Vo("onExecute"),Pu("onEscape")]),f7={sketch:tt},TX=ve([ol({name:"draghandle",overrides:function(t,r){return{behaviours:It([gS.config({mode:"mouse",getTarget:function(o){return Ib(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),Di({schema:[it("dom")],name:"title"}),Di({factory:f7,schema:[it("dom")],name:"close"}),Di({factory:f7,schema:[it("dom")],name:"body"}),ol({factory:f7,schema:[it("dom")],name:"footer"}),Ns({factory:{sketch:function(t,r){return Ce(Ce({},t),{dom:r.dom,components:r.components})}},schema:[Te("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Te("components",[])],name:"blocker"})]),OX=function(t,r,o,s){var v,g=io(),y=function(ne){g.set(ne);var de=t.lazySink(ne).getOrDie(),ke=s.blocker(),ce=de.getSystem().build(Ce(Ce({},ke),{components:ke.components.concat([Ps(ne)]),behaviours:It([Ln.config({}),Gn("dialog-blocker-events",[So(Qs(),function(){Tn.focusIn(ne)})])])}));sm(de,ce),Tn.focusIn(ne)},k=function(ne){g.clear(),bo(ne.element).each(function(de){ne.getSystem().getByDom(de).each(function(ke){mc(ke)})})},A=function(ne){return af(ne,t,"body")},D=function(ne){return af(ne,t,"footer")},N=function(ne,de){kt.block(ne,de)},z=function(ne){kt.unblock(ne)},j=ln("modal-events"),X=Ce(Ce({},t.eventOrder),(v={},v[as()]=[j].concat(t.eventOrder["alloy.system.attached"]||[]),v));return{uid:t.uid,dom:t.dom,components:r,apis:{show:y,hide:k,getBody:A,getFooter:D,setIdle:z,setBusy:N},eventOrder:X,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:si(t.modalBehaviours,[Vn.config({}),Tn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),kt.config({getRoot:g.get}),Gn(j,[jn(function(ne){AX(ne.element,af(ne,t,"title").element),kX(ne.element,af(ne,t,"body").element)})])])}},$i=wu({name:"ModalDialog",configFields:EX(),partFields:TX(),factory:OX,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),DX=yn([zn("type"),zn("name")].concat(Rg)),RX=oi,eV=[Lo("name","name",br(function(){return ln("button-name")}),vo),pa("icon"),As("align","end",["start","end"]),fa("primary",!1),fa("disabled",!1)],tV=Ht(Ht([],eV,!0),[zn("text")],!1),v7=Ht([ks("type",["submit","cancel","custom"])],tV,!0),BX=Ht([ks("type",["menu"]),pa("text"),pa("tooltip"),pa("icon"),Hi("items",DX)],eV,!0),$X=Zs("type",{submit:v7,cancel:v7,custom:v7,menu:BX}),MX=[zn("type"),zn("text"),ks("level",["info","warn","error","success"]),zn("icon"),Te("url","")],PX=yn(MX),NX=function(t){return[zn("type"),t]},IX=[zn("type"),zn("text"),fa("disabled",!1),fa("primary",!1),Lo("name","name",br(function(){return ln("button-name")}),vo),pa("icon"),fa("borderless",!1)],zX=yn(IX),LX=[zn("type"),zn("name"),zn("label"),fa("disabled",!1)],FX=yn(LX),HX=oi,d7=[zn("type"),zn("name")],Sd=d7.concat([pa("label")]),VX=Sd.concat([Te("columns","auto")]),UX=yn(VX),WX=t2([zn("value"),zn("text"),zn("icon")]),jX=Sd,GX=yn(jX),qX=vo,KX=Sd,XX=yn(KX),YX=vo,JX=d7.concat([gh("tag","textarea"),zn("scriptId"),zn("scriptUrl"),Mu("settings",void 0)]),ZX=d7.concat([gh("tag","textarea"),Zi("init")]),QX=mh(function(t){return Ha("customeditor.old",ts(ZX),t).orThunk(function(){return Ha("customeditor.new",ts(JX),t)})}),eY=vo,tY=Sd,nY=yn(tY),rY=gE(),aY=function(t){return[zn("type"),Uf("columns"),t]},oY=[zn("type"),zn("html"),As("presets","presentation",["presentation","document"])],iY=yn(oY),uY=Sd.concat([fa("sandboxed",!0)]),sY=yn(uY),lY=vo,cY=Sd.concat([$u("currentState",yn([it("blob"),zn("url")]))]),fY=yn(cY),vY=Sd.concat([pa("inputMode"),pa("placeholder"),fa("maximized",!1),fa("disabled",!1)]),dY=yn(vY),mY=vo,hY=function(t){return[zn("type"),zn("label"),t]},gY=[zn("text"),zn("value")],pY=[zn("text"),Hi("items",pE("items",function(){return nV}))],nV=gp([yn(gY),yn(pY)]),bY=Sd.concat([Hi("items",nV),fa("disabled",!1)]),yY=yn(bY),wY=vo,CY=Sd.concat([kl("items",[zn("text"),zn("value")]),ac("size",1),fa("disabled",!1)]),SY=yn(CY),xY=vo,_Y=Sd.concat([fa("constrain",!0),fa("disabled",!1)]),kY=yn(_Y),rV=yn([zn("width"),zn("height")]),AY=[zn("type"),Hi("header",vo),Hi("cells",Vf(vo))],EY=yn(AY),TY=Sd.concat([pa("placeholder"),fa("maximized",!1),fa("disabled",!1)]),OY=yn(TY),DY=vo,RY=Sd.concat([As("filetype","file",["image","media","file"]),Te("disabled",!1)]),BY=yn(RY),$Y=yn([zn("value"),Te("meta",{})]),m7=function(t){return Lo("items","items",Hn(),Vf(mh(function(r){return Ha("Checking item of "+t,h7,r).fold(function(o){return Yn.error(Bv(o))},function(o){return Yn.value(o)})})))},h7=FS(function(){return db("type",{alertbanner:PX,bar:yn(NX(m7("bar"))),button:zX,checkbox:FX,colorinput:GX,colorpicker:XX,dropzone:nY,grid:yn(aY(m7("grid"))),iframe:sY,input:dY,listbox:yY,selectbox:SY,sizeinput:kY,textarea:OY,urlinput:BY,customeditor:QX,htmlpanel:iY,imagetools:fY,collection:UX,label:yn(hY(m7("label"))),table:EY,panel:aV})}),MY=[zn("type"),Te("classes",[]),Hi("items",h7)],aV=yn(MY),PY=[Lo("name","name",br(function(){return ln("tab-name")}),vo),zn("title"),Hi("items",h7)],NY=[zn("type"),kl("tabs",PY)],IY=yn(NY),zY=tV,LY=$X,FY=yn([zn("title"),$u("body",db("type",{panel:aV,tabpanel:IY})),gh("size","normal"),Hi("buttons",LY),Te("initialData",{}),ba("onAction",Q),ba("onChange",Q),ba("onSubmit",Q),ba("onClose",Q),ba("onCancel",Q),Te("onTabChange",Q)]),HY=function(t){return Ha("dialog",FY,t)},VY=yn(Ht([ks("type",["cancel","custom"])],zY,!0)),UY=yn([zn("title"),zn("url"),Nd("height"),Nd("width"),ns("buttons",VY),ba("onAction",Q),ba("onCancel",Q),ba("onClose",Q),ba("onMessage",Q)]),WY=function(t){return Ha("dialog",UY,t)},g7=function(t){return O(t)?[t].concat(qt(jl(t),g7)):B(t)?qt(t,g7):[]},jY=function(t){return E(t.type)&&E(t.name)},GY={checkbox:HX,colorinput:qX,colorpicker:YX,dropzone:rY,input:mY,iframe:lY,sizeinput:rV,selectbox:xY,listbox:wY,size:rV,textarea:DY,urlinput:$Y,customeditor:eY,collection:WX,togglemenuitem:RX},qY=function(t){return P.from(GY[t.type])},KY=function(t){return pe(g7(t),jY)},XY=function(t){var r=KY(t),o=qt(r,function(s){return qY(s).fold(function(){return[]},function(v){return[$u(s.name,v)]})});return yn(o)},oV=function(t){var r=_l(HY(t)),o=XY(t),s=t.initialData;return{internalDialog:r,dataValidator:o,initialData:s}},nD={open:function(t,r){var o=oV(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=_l(WY(r));return t(o)},redial:function(t){return oV(t)}},iV=function(t){var r=[],o={};return Sa(t,function(s,v){s.fold(function(){r.push(v)},function(g){o[v]=g})}),r.length>0?Yn.error(r):Yn.value(o)},YY=function(t,r){var o=qr(ky.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Ne(t.items,function(v){return xA(s,v,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:It([Tn.config({mode:"acyclic",useTabstopAt:mn(rS)}),dv.memento(o),Dm.memento(o,{postprocess:function(s){return iV(s).fold(function(v){return console.error(v),{}},tt)}})])}},JY=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:sy(t.action),behaviours:si(t.tabButtonBehaviours,[Ln.config({}),Tn.config({mode:"execution",useSpace:!0,useEnter:!0}),Ut.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},ZY=Is({name:"TabButton",configFields:[Te("uid",void 0),it("value"),Lo("dom","dom",Ci(function(){return{attributes:{role:"tab",id:ln("aria"),"aria-selected":"false"}}}),xl()),Pr("action"),Te("domModification",{}),jo("tabButtonBehaviours",[Ln,Tn,Ut]),it("view")],factory:JY}),QY=ve([it("tabs"),it("dom"),Te("clickToDismiss",!1),jo("tabbarBehaviours",[Wr,Tn]),Jd(["tabClass","selectedClass"])]),eJ=rf({factory:ZY,name:"tabs",unit:"tab",overrides:function(t){var r=function(s,v){Wr.dehighlight(s,v),kn(s,xi(),{tabbar:s,button:v})},o=function(s,v){Wr.highlight(s,v),kn(s,XS(),{tabbar:s,button:v})};return{action:function(s){var v=s.getSystem().getByUid(t.uid).getOrDie(),g=Wr.isHighlighted(v,s),y=function(){return g&&t.clickToDismiss?r:g?Q:o}();y(v,s)},domModification:{classes:[t.markers.tabClass]}}}}),tJ=ve([eJ]),nJ=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:si(t.tabbarBehaviours,[Wr.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(v,g){Xn(g.element,"aria-selected","true")},onDehighlight:function(v,g){Xn(g.element,"aria-selected","false")}}),Tn.config({mode:"flow",getInitial:function(v){return Wr.getHighlighted(v).map(function(g){return g.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},uV=wu({name:"Tabbar",configFields:QY(),partFields:tJ(),factory:nJ}),rJ=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:si(t.tabviewBehaviours,[Vn.config({})]),domModification:{attributes:{role:"tabpanel"}}}},aJ=Is({name:"Tabview",configFields:[jo("tabviewBehaviours",[Vn])],factory:rJ}),oJ=ve([Te("selectFirst",!0),Nr("onChangeTab"),Nr("onDismissTab"),Te("tabs",[]),jo("tabSectionBehaviours",[])]),iJ=Di({factory:uV,schema:[it("dom"),zc("markers",[it("tabClass"),it("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),uJ=Di({factory:aJ,name:"tabview"}),sJ=ve([iJ,uJ]),lJ=function(t,r,o,s){var v=function(y){var k=Ut.getValue(y);ua(y,t,"tabview").each(function(A){var D=bt(t.tabs,function(N){return N.value===k});D.each(function(N){var z=N.view();Fa(y.element,"id").each(function(j){Xn(A.element,"aria-labelledby",j)}),Vn.set(A,z),t.onChangeTab(A,y,z)})})},g=function(y,k){ua(y,t,"tabbar").each(function(A){k(A).each(Ds)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:ug(t.tabSectionBehaviours),events:va(Qe([t.selectFirst?[jn(function(y,k){g(y,Wr.getFirst)})]:[],[vt(XS(),function(y,k){var A=k.event.button;v(A)}),vt(xi(),function(y,k){var A=k.event.button;t.onDismissTab(y,A)})]])),apis:{getViewItems:function(y){return ua(y,t,"tabview").map(function(k){return Vn.contents(k)}).getOr([])},showTab:function(y,k){var A=function(D){var N=Wr.getCandidates(D),z=bt(N,function(j){return Ut.getValue(j)===k});return z.filter(function(j){return!Wr.isHighlighted(D,j)})};g(y,A)}}}},GA=wu({name:"TabSection",configFields:oJ(),partFields:sJ(),factory:lJ,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),cJ=function(t,r,o){return Ne(t,function(s,v){Vn.set(o,t[v].view());var g=r.dom.getBoundingClientRect();return Vn.set(o,[]),g.height})},fJ=function(t){return Er(gr(t,function(r,o){return r>o?-1:r<o?1:0}))},vJ=function(t,r,o){var s=et(t).dom,v=Ib(t,".tox-dialog-wrap").getOr(t),g=Ka(v,"position")==="fixed",y;g?y=Math.max(s.clientHeight,window.innerHeight):y=Math.max(s.offsetHeight,s.scrollHeight);var k=Oo(r),A=r.dom.offsetLeft>=o.dom.offsetLeft+Ii(o),D=A?Math.max(Oo(o),k):k,N=parseInt(Ka(t,"margin-top"),10)||0,z=parseInt(Ka(t,"margin-bottom"),10)||0,j=Oo(t)+N+z,X=j-D;return y-X},dJ=function(t,r){Er(t).each(function(o){return GA.showTab(r,o.value)})},sV=function(t,r){Nn(t,"height",r+"px"),Rn().browser.isIE()?Mr(t,"flex-basis"):Nn(t,"flex-basis",r+"px")},IM=function(t,r,o){Ib(t,'[role="dialog"]').each(function(s){Ho(s,'[role="tablist"]').each(function(v){o.get().map(function(g){return Nn(r,"height","0"),Nn(r,"flex-basis","0"),Math.min(g,vJ(s,r,v))}).each(function(g){sV(r,g)})})})},p7=function(t){return Ho(t,'[role="tabpanel"]')},mJ=function(t){var r=function(){var s=io(),v=[jn(function(y){var k=y.element;p7(k).each(function(A){Nn(A,"visibility","hidden"),y.getSystem().getByDom(A).toOptional().each(function(D){var N=cJ(t,A,D),z=fJ(N);z.fold(s.clear,s.set)}),IM(k,A,s),Mr(A,"visibility"),dJ(t,y),Dg.requestAnimationFrame(function(){IM(k,A,s)})})}),vt(Os(),function(y){var k=y.element;p7(k).each(function(A){IM(k,A,s)})}),vt(k4,function(y,k){var A=y.element;p7(A).each(function(D){var N=yu(Cs(D));Nn(D,"visibility","hidden");var z=wo(D,"height").map(function(ne){return parseInt(ne,10)});Mr(D,"height"),Mr(D,"flex-basis");var j=D.dom.getBoundingClientRect().height,X=z.forall(function(ne){return j>ne});X?(s.set(j),IM(A,D,s)):z.each(function(ne){sV(D,ne)}),Mr(D,"visibility"),N.each(lc)})})],g=!1;return{extraEvents:v,selectFirst:g}}(),o=function(){var s=[],v=!0;return{extraEvents:s,selectFirst:v}}();return{smartTabHeight:r,naiveTabHeight:o}},lV="send-data-to-section",cV="send-data-to-view",hJ=function(t,r){var o=_n({}),s=function(A){var D=Ut.getValue(A),N=iV(D).getOr({}),z=o.get(),j=Je(z,N);o.set(j)},v=function(A){var D=o.get();Ut.setValue(A,D)},g=_n(null),y=Ne(t.tabs,function(A){return{value:A.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(A.title)},view:function(){return[ky.sketch(function(D){return{dom:{tag:"div",classes:["tox-form"]},components:Ne(A.items,function(N){return xA(D,N,r)}),formBehaviours:It([Tn.config({mode:"acyclic",useTabstopAt:mn(rS)}),Gn("TabView.form.events",[jn(v),Rs(s)]),Qi.config({channels:jf([{key:lV,value:{onReceive:s}},{key:cV,value:{onReceive:v}}])})])}})]}}}),k=mJ(y).smartTabHeight;return GA.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(A,D,N){var z=Ut.getValue(D);kn(A,_4,{name:z,oldName:g.get()}),g.set(z)},tabs:y,components:[GA.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[uV.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:It([xo.config({})])}),GA.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:k.selectFirst,tabSectionBehaviours:It([Gn("tabpanel",k.extraEvents),Tn.config({mode:"acyclic"}),fr.config({find:function(A){return Er(GA.getViewItems(A))}}),Ut.config({store:{mode:"manual",getValue:function(A){return A.getSystem().broadcastOn([lV],{}),o.get()},setValue:function(A,D){o.set(D),A.getSystem().broadcastOn([cV],{})}}})])})},b7=ln("update-dialog"),fV=ln("update-title"),vV=ln("update-body"),dV=ln("update-footer"),mV=ln("body-send-message"),hV=function(t,r,o,s){var v=function(k){switch(k.body.type){case"tabpanel":return[hJ(k.body,o)];default:return[YY(k.body,o)]}},g=function(k,A){return P.some({isTabPanel:function(){return A.body.type==="tabpanel"}})},y={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:Ce(Ce({},r.map(function(k){return{id:k}}).getOr({})),s?y:{})},components:[],behaviours:It([dv.childAt(0),Sc.config({channel:vV,updateState:g,renderComponents:v,initialData:t})])}},gJ=function(t,r,o,s){return hV(t,P.some(r),o,s)},pJ=function(t,r){var o=hV(t,P.none(),r,!1);return $i.parts.body(o)},bJ=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[oO({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:It([xo.config({}),Ln.config({})])})]}],behaviours:It([Tn.config({mode:"acyclic",useTabstopAt:mn(rS)})])};return $i.parts.body(r)};function bS(t){"@babel/helpers - typeof";return bS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bS(t)}function y7(t,r){return y7=Object.setPrototypeOf||function(s,v){return s.__proto__=v,s},y7(t,r)}function yJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zM(t,r,o){return yJ()?zM=Reflect.construct:zM=function(v,g,y){var k=[null];k.push.apply(k,g);var A=Function.bind.apply(v,k),D=new A;return y&&y7(D,y.prototype),D},zM.apply(null,arguments)}function Mm(t){return wJ(t)||CJ(t)||SJ(t)||xJ()}function wJ(t){if(Array.isArray(t))return w7(t)}function CJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SJ(t,r){if(t){if(typeof t=="string")return w7(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return w7(t,r)}}function w7(t,r){(r==null||r>t.length)&&(r=t.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=t[o];return s}function xJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _J=Object.hasOwnProperty,gV=Object.setPrototypeOf,kJ=Object.isFrozen,AJ=Object.getPrototypeOf,EJ=Object.getOwnPropertyDescriptor,xc=Object.freeze,Gg=Object.seal,TJ=Object.create,pV=typeof Reflect<"u"&&Reflect,LM=pV.apply,C7=pV.construct;LM||(LM=function(r,o,s){return r.apply(o,s)}),xc||(xc=function(r){return r}),Gg||(Gg=function(r){return r}),C7||(C7=function(r,o){return zM(r,Mm(o))});var OJ=Pm(Array.prototype.forEach),bV=Pm(Array.prototype.pop),rD=Pm(Array.prototype.push),FM=Pm(String.prototype.toLowerCase),DJ=Pm(String.prototype.match),Py=Pm(String.prototype.replace),RJ=Pm(String.prototype.indexOf),BJ=Pm(String.prototype.trim),_c=Pm(RegExp.prototype.test),S7=$J(TypeError);function Pm(t){return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),v=1;v<o;v++)s[v-1]=arguments[v];return LM(t,r,s)}}function $J(t){return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return C7(t,o)}}function wa(t,r){gV&&gV(t,null);for(var o=r.length;o--;){var s=r[o];if(typeof s=="string"){var v=FM(s);v!==s&&(kJ(r)||(r[o]=v),s=v)}t[s]=!0}return t}function yS(t){var r=TJ(null),o;for(o in t)LM(_J,t,[o])&&(r[o]=t[o]);return r}function HM(t,r){for(;t!==null;){var o=EJ(t,r);if(o){if(o.get)return Pm(o.get);if(typeof o.value=="function")return Pm(o.value)}t=AJ(t)}function s(v){return console.warn("fallback value for",v),null}return s}var yV=xc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),x7=xc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_7=xc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),MJ=xc(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),k7=xc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),PJ=xc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wV=xc(["#text"]),CV=xc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),A7=xc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),SV=xc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),VM=xc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),NJ=Gg(/\{\{[\w\W]*|[\w\W]*\}\}/gm),IJ=Gg(/<%[\w\W]*|[\w\W]*%>/gm),zJ=Gg(/^data-[\-\w.\u00B7-\uFFFF]/),LJ=Gg(/^aria-[\-\w]+$/),FJ=Gg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),HJ=Gg(/^(?:\w+script|data):/i),VJ=Gg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),UJ=Gg(/^html$/i),WJ=function(){return typeof window>"u"?null:window},jJ=function(r,o){if(bS(r)!=="object"||typeof r.createPolicy!="function")return null;var s=null,v="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(v)&&(s=o.currentScript.getAttribute(v));var g="dompurify"+(s?"#"+s:"");try{return r.createPolicy(g,{createHTML:function(k){return k}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function xV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:WJ(),r=function(qe){return xV(qe)};if(r.version="2.3.8",r.removed=[],!t||!t.document||t.document.nodeType!==9)return r.isSupported=!1,r;var o=t.document,s=t.document,v=t.DocumentFragment,g=t.HTMLTemplateElement,y=t.Node,k=t.Element,A=t.NodeFilter,D=t.NamedNodeMap,N=D===void 0?t.NamedNodeMap||t.MozNamedAttrMap:D,z=t.HTMLFormElement,j=t.DOMParser,X=t.trustedTypes,ne=k.prototype,de=HM(ne,"cloneNode"),ke=HM(ne,"nextSibling"),ce=HM(ne,"childNodes"),Ee=HM(ne,"parentNode");if(typeof g=="function"){var Ge=s.createElement("template");Ge.content&&Ge.content.ownerDocument&&(s=Ge.content.ownerDocument)}var We=jJ(X,o),Ae=We?We.createHTML(""):"",Le=s,at=Le.implementation,Wt=Le.createNodeIterator,ct=Le.createDocumentFragment,Kt=Le.getElementsByTagName,mt=o.importNode,nt={};try{nt=yS(s).documentMode?s.documentMode:{}}catch{}var Mt={};r.isSupported=typeof Ee=="function"&&at&&typeof at.createHTMLDocument<"u"&&nt!==9;var cn=NJ,lt=IJ,an=zJ,dn=LJ,hr=HJ,Kr=VJ,Oa=FJ,Qa=null,cl=wa({},[].concat(Mm(yV),Mm(x7),Mm(_7),Mm(k7),Mm(wV))),_u=null,qA=wa({},[].concat(Mm(CV),Mm(A7),Mm(SV),Mm(VM))),hi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U1=null,W1=null,wS=!0,j1=!0,CS=!1,ms=!1,yv=!1,ju=!1,SS=!1,qg=!1,Ny=!1,gi=!1,Nm=!0,Kg=!0,G1=!1,wv={},Xg=null,Zt=wa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Zn=null,Jr=wa({},["audio","video","img","source","image","track"]),Wa=null,hs=wa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Gu="http://www.w3.org/1998/Math/MathML",fl="http://www.w3.org/2000/svg",kc="http://www.w3.org/1999/xhtml",Iy=kc,xS=!1,zy,R7=["application/xhtml+xml","text/html"],B7="text/html",q1,Ly=null,yZ=s.createElement("form"),WV=function(qe){return qe instanceof RegExp||qe instanceof Function},$7=function(qe){Ly&&Ly===qe||((!qe||bS(qe)!=="object")&&(qe={}),qe=yS(qe),Qa="ALLOWED_TAGS"in qe?wa({},qe.ALLOWED_TAGS):cl,_u="ALLOWED_ATTR"in qe?wa({},qe.ALLOWED_ATTR):qA,Wa="ADD_URI_SAFE_ATTR"in qe?wa(yS(hs),qe.ADD_URI_SAFE_ATTR):hs,Zn="ADD_DATA_URI_TAGS"in qe?wa(yS(Jr),qe.ADD_DATA_URI_TAGS):Jr,Xg="FORBID_CONTENTS"in qe?wa({},qe.FORBID_CONTENTS):Zt,U1="FORBID_TAGS"in qe?wa({},qe.FORBID_TAGS):{},W1="FORBID_ATTR"in qe?wa({},qe.FORBID_ATTR):{},wv="USE_PROFILES"in qe?qe.USE_PROFILES:!1,wS=qe.ALLOW_ARIA_ATTR!==!1,j1=qe.ALLOW_DATA_ATTR!==!1,CS=qe.ALLOW_UNKNOWN_PROTOCOLS||!1,ms=qe.SAFE_FOR_TEMPLATES||!1,yv=qe.WHOLE_DOCUMENT||!1,qg=qe.RETURN_DOM||!1,Ny=qe.RETURN_DOM_FRAGMENT||!1,gi=qe.RETURN_TRUSTED_TYPE||!1,SS=qe.FORCE_BODY||!1,Nm=qe.SANITIZE_DOM!==!1,Kg=qe.KEEP_CONTENT!==!1,G1=qe.IN_PLACE||!1,Oa=qe.ALLOWED_URI_REGEXP||Oa,Iy=qe.NAMESPACE||kc,qe.CUSTOM_ELEMENT_HANDLING&&WV(qe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(hi.tagNameCheck=qe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),qe.CUSTOM_ELEMENT_HANDLING&&WV(qe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(hi.attributeNameCheck=qe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),qe.CUSTOM_ELEMENT_HANDLING&&typeof qe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(hi.allowCustomizedBuiltInElements=qe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),zy=R7.indexOf(qe.PARSER_MEDIA_TYPE)===-1?zy=B7:zy=qe.PARSER_MEDIA_TYPE,q1=zy==="application/xhtml+xml"?function(fn){return fn}:FM,ms&&(j1=!1),Ny&&(qg=!0),wv&&(Qa=wa({},Mm(wV)),_u=[],wv.html===!0&&(wa(Qa,yV),wa(_u,CV)),wv.svg===!0&&(wa(Qa,x7),wa(_u,A7),wa(_u,VM)),wv.svgFilters===!0&&(wa(Qa,_7),wa(_u,A7),wa(_u,VM)),wv.mathMl===!0&&(wa(Qa,k7),wa(_u,SV),wa(_u,VM))),qe.ADD_TAGS&&(Qa===cl&&(Qa=yS(Qa)),wa(Qa,qe.ADD_TAGS)),qe.ADD_ATTR&&(_u===qA&&(_u=yS(_u)),wa(_u,qe.ADD_ATTR)),qe.ADD_URI_SAFE_ATTR&&wa(Wa,qe.ADD_URI_SAFE_ATTR),qe.FORBID_CONTENTS&&(Xg===Zt&&(Xg=yS(Xg)),wa(Xg,qe.FORBID_CONTENTS)),Kg&&(Qa["#text"]=!0),yv&&wa(Qa,["html","head","body"]),Qa.table&&(wa(Qa,["tbody"]),delete U1.tbody),xc&&xc(qe),Ly=qe)},jV=wa({},["mi","mo","mn","ms","mtext"]),GV=wa({},["foreignobject","desc","title","annotation-xml"]),wZ=wa({},["title","style","font","a","script"]),UM=wa({},x7);wa(UM,_7),wa(UM,MJ);var M7=wa({},k7);wa(M7,PJ);var CZ=function(qe){var fn=Ee(qe);(!fn||!fn.tagName)&&(fn={namespaceURI:kc,tagName:"template"});var qn=FM(qe.tagName),Mo=FM(fn.tagName);return qe.namespaceURI===fl?fn.namespaceURI===kc?qn==="svg":fn.namespaceURI===Gu?qn==="svg"&&(Mo==="annotation-xml"||jV[Mo]):!!UM[qn]:qe.namespaceURI===Gu?fn.namespaceURI===kc?qn==="math":fn.namespaceURI===fl?qn==="math"&&GV[Mo]:!!M7[qn]:qe.namespaceURI===kc?fn.namespaceURI===fl&&!GV[Mo]||fn.namespaceURI===Gu&&!jV[Mo]?!1:!M7[qn]&&(wZ[qn]||!UM[qn]):!1},K1=function(qe){rD(r.removed,{element:qe});try{qe.parentNode.removeChild(qe)}catch{try{qe.outerHTML=Ae}catch{qe.remove()}}},qV=function(qe,fn){try{rD(r.removed,{attribute:fn.getAttributeNode(qe),from:fn})}catch{rD(r.removed,{attribute:null,from:fn})}if(fn.removeAttribute(qe),qe==="is"&&!_u[qe])if(qg||Ny)try{K1(fn)}catch{}else try{fn.setAttribute(qe,"")}catch{}},KV=function(qe){var fn,qn;if(SS)qe="<remove></remove>"+qe;else{var Mo=DJ(qe,/^[\r\n\t ]+/);qn=Mo&&Mo[0]}zy==="application/xhtml+xml"&&(qe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+qe+"</body></html>");var wf=We?We.createHTML(qe):qe;if(Iy===kc)try{fn=new j().parseFromString(wf,zy)}catch{}if(!fn||!fn.documentElement){fn=at.createDocument(Iy,"template",null);try{fn.documentElement.innerHTML=xS?"":wf}catch{}}var Hl=fn.body||fn.documentElement;return qe&&qn&&Hl.insertBefore(s.createTextNode(qn),Hl.childNodes[0]||null),Iy===kc?Kt.call(fn,yv?"html":"body")[0]:yv?fn.documentElement:Hl},XV=function(qe){return Wt.call(qe.ownerDocument||qe,qe,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT,null,!1)},SZ=function(qe){return qe instanceof z&&(typeof qe.nodeName!="string"||typeof qe.textContent!="string"||typeof qe.removeChild!="function"||!(qe.attributes instanceof N)||typeof qe.removeAttribute!="function"||typeof qe.setAttribute!="function"||typeof qe.namespaceURI!="string"||typeof qe.insertBefore!="function")},aD=function(qe){return bS(y)==="object"?qe instanceof y:qe&&bS(qe)==="object"&&typeof qe.nodeType=="number"&&typeof qe.nodeName=="string"},X1=function(qe,fn,qn){Mt[qe]&&OJ(Mt[qe],function(Mo){Mo.call(r,fn,qn,Ly)})},YV=function(qe){var fn;if(X1("beforeSanitizeElements",qe,null),SZ(qe)||_c(/[\u0080-\uFFFF]/,qe.nodeName))return K1(qe),!0;var qn=q1(qe.nodeName);if(X1("uponSanitizeElement",qe,{tagName:qn,allowedTags:Qa}),qe.hasChildNodes()&&!aD(qe.firstElementChild)&&(!aD(qe.content)||!aD(qe.content.firstElementChild))&&_c(/<[/\w]/g,qe.innerHTML)&&_c(/<[/\w]/g,qe.textContent)||qn==="select"&&_c(/<template/i,qe.innerHTML))return K1(qe),!0;if(!Qa[qn]||U1[qn]){if(!U1[qn]&&ZV(qn)&&(hi.tagNameCheck instanceof RegExp&&_c(hi.tagNameCheck,qn)||hi.tagNameCheck instanceof Function&&hi.tagNameCheck(qn)))return!1;if(Kg&&!Xg[qn]){var Mo=Ee(qe)||qe.parentNode,wf=ce(qe)||qe.childNodes;if(wf&&Mo)for(var Hl=wf.length,vl=Hl-1;vl>=0;--vl)Mo.insertBefore(de(wf[vl],!0),ke(qe))}return K1(qe),!0}return qe instanceof k&&!CZ(qe)||(qn==="noscript"||qn==="noembed")&&_c(/<\/no(script|embed)/i,qe.innerHTML)?(K1(qe),!0):(ms&&qe.nodeType===3&&(fn=qe.textContent,fn=Py(fn,cn," "),fn=Py(fn,lt," "),qe.textContent!==fn&&(rD(r.removed,{element:qe.cloneNode()}),qe.textContent=fn)),X1("afterSanitizeElements",qe,null),!1)},JV=function(qe,fn,qn){if(Nm&&(fn==="id"||fn==="name")&&(qn in s||qn in yZ))return!1;if(!(j1&&!W1[fn]&&_c(an,fn))){if(!(wS&&_c(dn,fn))){if(!_u[fn]||W1[fn]){if(!(ZV(qe)&&(hi.tagNameCheck instanceof RegExp&&_c(hi.tagNameCheck,qe)||hi.tagNameCheck instanceof Function&&hi.tagNameCheck(qe))&&(hi.attributeNameCheck instanceof RegExp&&_c(hi.attributeNameCheck,fn)||hi.attributeNameCheck instanceof Function&&hi.attributeNameCheck(fn))||fn==="is"&&hi.allowCustomizedBuiltInElements&&(hi.tagNameCheck instanceof RegExp&&_c(hi.tagNameCheck,qn)||hi.tagNameCheck instanceof Function&&hi.tagNameCheck(qn))))return!1}else if(!Wa[fn]){if(!_c(Oa,Py(qn,Kr,""))){if(!((fn==="src"||fn==="xlink:href"||fn==="href")&&qe!=="script"&&RJ(qn,"data:")===0&&Zn[qe])){if(!(CS&&!_c(hr,Py(qn,Kr,"")))){if(qn)return!1}}}}}}return!0},ZV=function(qe){return qe.indexOf("-")>0},QV=function(qe){var fn,qn,Mo,wf;X1("beforeSanitizeAttributes",qe,null);var Hl=qe.attributes;if(Hl){var vl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_u};for(wf=Hl.length;wf--;){fn=Hl[wf];var WM=fn,Ac=WM.name,eU=WM.namespaceURI;if(qn=Ac==="value"?fn.value:BJ(fn.value),Mo=q1(Ac),vl.attrName=Mo,vl.attrValue=qn,vl.keepAttr=!0,vl.forceKeepAttr=void 0,X1("uponSanitizeAttribute",qe,vl),qn=vl.attrValue,!vl.forceKeepAttr&&(qV(Ac,qe),!!vl.keepAttr)){if(_c(/\/>/i,qn)){qV(Ac,qe);continue}ms&&(qn=Py(qn,cn," "),qn=Py(qn,lt," "));var _Z=q1(qe.nodeName);if(JV(_Z,Mo,qn))try{eU?qe.setAttributeNS(eU,Ac,qn):qe.setAttribute(Ac,qn),bV(r.removed)}catch{}}}X1("afterSanitizeAttributes",qe,null)}},xZ=function lr(qe){var fn,qn=XV(qe);for(X1("beforeSanitizeShadowDOM",qe,null);fn=qn.nextNode();)X1("uponSanitizeShadowNode",fn,null),!YV(fn)&&(fn.content instanceof v&&lr(fn.content),QV(fn));X1("afterSanitizeShadowDOM",qe,null)};return r.sanitize=function(lr,qe){var fn,qn,Mo,wf,Hl;if(xS=!lr,xS&&(lr="<!-->"),typeof lr!="string"&&!aD(lr)){if(typeof lr.toString!="function")throw S7("toString is not a function");if(lr=lr.toString(),typeof lr!="string")throw S7("dirty is not a string, aborting")}if(!r.isSupported){if(bS(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof lr=="string")return t.toStaticHTML(lr);if(aD(lr))return t.toStaticHTML(lr.outerHTML)}return lr}if(ju||$7(qe),r.removed=[],typeof lr=="string"&&(G1=!1),G1){if(lr.nodeName){var vl=q1(lr.nodeName);if(!Qa[vl]||U1[vl])throw S7("root node is forbidden and cannot be sanitized in-place")}}else if(lr instanceof y)fn=KV("<!---->"),qn=fn.ownerDocument.importNode(lr,!0),qn.nodeType===1&&qn.nodeName==="BODY"||qn.nodeName==="HTML"?fn=qn:fn.appendChild(qn);else{if(!qg&&!ms&&!yv&&lr.indexOf("<")===-1)return We&&gi?We.createHTML(lr):lr;if(fn=KV(lr),!fn)return qg?null:gi?Ae:""}fn&&SS&&K1(fn.firstChild);for(var WM=XV(G1?lr:fn);Mo=WM.nextNode();)Mo.nodeType===3&&Mo===wf||YV(Mo)||(Mo.content instanceof v&&xZ(Mo.content),QV(Mo),wf=Mo);if(wf=null,G1)return lr;if(qg){if(Ny)for(Hl=ct.call(fn.ownerDocument);fn.firstChild;)Hl.appendChild(fn.firstChild);else Hl=fn;return _u.shadowroot&&(Hl=mt.call(o,Hl,!0)),Hl}var Ac=yv?fn.outerHTML:fn.innerHTML;return yv&&Qa["!doctype"]&&fn.ownerDocument&&fn.ownerDocument.doctype&&fn.ownerDocument.doctype.name&&_c(UJ,fn.ownerDocument.doctype.name)&&(Ac="<!DOCTYPE "+fn.ownerDocument.doctype.name+`>
`+Ac),ms&&(Ac=Py(Ac,cn," "),Ac=Py(Ac,lt," ")),We&&gi?We.createHTML(Ac):Ac},r.setConfig=function(lr){$7(lr),ju=!0},r.clearConfig=function(){Ly=null,ju=!1},r.isValidAttribute=function(lr,qe,fn){Ly||$7({});var qn=q1(lr),Mo=q1(qe);return JV(qn,Mo,fn)},r.addHook=function(lr,qe){typeof qe=="function"&&(Mt[lr]=Mt[lr]||[],rD(Mt[lr],qe))},r.removeHook=function(lr){if(Mt[lr])return bV(Mt[lr])},r.removeHooks=function(lr){Mt[lr]&&(Mt[lr]=[])},r.removeAllHooks=function(){Mt={}},r}var GJ=xV(),qJ=function(t){return GJ().sanitize(t)},KJ=Dk.deviceType.isTouch(),_V=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},kV=function(t,r){return $i.parts.close(ls.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:It([xo.config({})])}))},AV=function(){return $i.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},EV=function(t,r){return $i.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:zt("<p>"+qJ(r.translate(t))+"</p>")}]}]})},TV=function(t){return $i.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},OV=function(t,r){return[Cu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Cu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},E7=function(t){var r,o="tox-dialog",s=o+"-wrap",v=s+"__backdrop",g=o+"__disable-scroll";return $i.sketch({lazySink:t.lazySink,onEscape:function(y){return t.onEscape(y),P.some(!0)},useTabstopAt:function(y){return!rS(y)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:Ce({position:"relative"},t.extraStyles)},components:Ht([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:zt('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:KJ?[v,v+"--opaque"]:[v]}}]}},dragBlockClass:s,modalBehaviours:It(Ht([Ln.config({}),Gn("dialog-events",t.dialogEvents.concat([So(Qs(),function(y,k){Tn.focusIn(y)})])),Gn("scroll-lock",[jn(function(){Fo(Ni(),g)}),Rs(function(){Ro(Ni(),g)})])],t.extraBehaviours,!0)),eventOrder:Ce((r={},r[Ts()]=["dialog-events"],r[as()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[Sh()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},DV=function(t){return ls.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[lv("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(r){Rr(r,S1)}})},RV=function(t,r,o){var s=function(v){return[ki(o.translate(v.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:Ce({},r.map(function(v){return{id:v}}).getOr({}))},components:s(t),behaviours:It([Sc.config({channel:fV,renderComponents:s})])}},BV=function(){return{dom:zt('<div class="tox-dialog__draghandle"></div>')}},XJ=function(t,r,o){return Cu.sketch({dom:zt('<div class="tox-dialog__header"></div>'),components:[RV(t,P.some(r),o),BV(),DV(o)],containerBehaviours:It([gS.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return nl(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},YJ=function(t,r){var o=$i.parts.title(RV(t,P.none(),r)),s=$i.parts.draghandle(BV()),v=$i.parts.close(DV(r)),g=[o].concat(t.draggable?[s]:[]).concat([v]);return Cu.sketch({dom:zt('<div class="tox-dialog__header"></div>'),components:g})},$V=function(t,r){return YJ({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},MV=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:zt('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},PV=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(s){$i.setBusy(t(),function(v,g){return MV(s.message,g,r)})},onUnblock:function(){$i.setIdle(t())}}},NV=function(t,r,o,s){var v,g=function(y,k){return P.some(k)};return $a(E7(Ce(Ce({},t),{lazySink:s.shared.getSink,extraBehaviours:Ht([Sc.config({channel:b7,updateState:g,initialData:r}),Dm.memory({})],t.extraBehaviours,!0),onEscape:function(y){Rr(y,S1)},dialogEvents:o,eventOrder:(v={},v[el()]=[Sc.name(),Qi.name()],v[as()]=["scroll-lock",Sc.name(),"messages","dialog-events","alloy.base.behaviour"],v[Sh()]=["alloy.base.behaviour","dialog-events","messages",Sc.name(),"scroll-lock"],v)})))},IV=function(t){var r=function(o){var s=Ne(o.items,function(v){var g=_n(!1);return Ce(Ce({},v),{storage:g})});return Ce(Ce({},o),{items:s})};return Ne(t,function(o){return o.type==="menu"?r(o):o})},zV=function(t){return je(t,function(r,o){if(o.type==="menu"){var s=o;return je(s.items,function(v,g){return v[g.name]=g.storage,v},r)}return r},{})},LV=function(t,r){return[zv(Qs(),$5),t(HC,function(o,s){r.onClose(),s.onClose()}),t(S1,function(o,s,v,g){s.onCancel(o),Rr(g,HC)}),vt(x4,function(o,s){return r.onUnblock()}),vt(bd,function(o,s){return r.onBlock(s.event)})]},JJ=function(t,r){var o=function(v,g){return vt(v,function(y,k){s(y,function(A,D){g(t(),A,k.event,y)})})},s=function(v,g){Sc.getState(v).get().each(function(y){g(y,v)})};return Ht(Ht([],LV(o,r),!0),[o(cv,function(v,g,y){g.onAction(v,{name:y.name})})],!1)},ZJ=function(t,r,o){var s=function(g,y){return vt(g,function(k,A){v(k,function(D,N){y(t(),D,A.event,k)})})},v=function(g,y){Sc.getState(g).get().each(function(k){y(k.internalDialog,g)})};return Ht(Ht([],LV(s,r),!0),[s(sl,function(g,y){return y.onSubmit(g)}),s(zl,function(g,y,k){y.onChange(g,{name:k.name})}),s(cv,function(g,y,k,A){var D=function(){return Tn.focusIn(A)},N=function(X){return ub(X,"disabled")||Fa(X,"aria-disabled").exists(function(ne){return ne==="true"})},z=Cs(A.element),j=yu(z);y.onAction(g,{name:k.name,value:k.value}),yu(z).fold(D,function(X){N(X)||j.exists(function(ne){return wl(X,ne)&&N(ne)})?D():o().toOptional().filter(function(ne){return!wl(ne.element,X)}).each(D)})}),s(_4,function(g,y,k){y.onTabChange(g,{newTabName:k.name,oldTabName:k.oldName})}),Rs(function(g){var y=t();Ut.setValue(g,y.getData())})],!1)},T7={initUrlDialog:JJ,initDialog:ZJ},QJ=function(t,r){return hA(t,t.type,r)},eZ=function(t,r,o){return bt(r,function(s){return s.name===o}).bind(function(s){return s.memento.getOpt(t)})},tZ=function(t,r){var o=r.map(function(k){return k.footerButtons}).getOr([]),s=ye(o,function(k){return k.align==="start"}),v=function(k,A){return Cu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+k]},components:Ne(A,function(D){return D.memento.asSpec()})})},g=v("start",s.pass),y=v("end",s.fail);return[g,y]},FV=function(t,r){var o=function(s,v){var g=Ne(v.buttons,function(k){var A=qr(QJ(k,r));return{name:k.name,align:k.align,memento:A}}),y=function(k,A){return eZ(k,g,A)};return P.some({lookupByName:y,footerButtons:g})};return{dom:zt('<div class="tox-dialog__footer"></div>'),components:[],behaviours:It([Sc.config({channel:dV,initialData:t,updateState:o,renderComponents:tZ})])}},nZ=function(t,r){return FV(t,r)},HV=function(t,r){return $i.parts.footer(FV(t,r))},O7=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var s=fr.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return ky.getField(s,r).fold(function(){var v=t.getFooter(),g=Sc.getState(v);return g.get().bind(function(y){return y.lookupByName(s,r)})},function(v){return P.some(v)})}else return P.none()},rZ=function(t,r){var o=t.getRoot();return Sc.getState(o).get().map(function(s){return _l(Ha("data",s.dataValidator,r))}).getOr(r)},VV=function(t,r,o){var s=function(de){var ke=t.getRoot();ke.getSystem().isConnected()&&de(ke)},v=function(){var de=t.getRoot(),ke=de.getSystem().isConnected()?t.getFormWrapper():de,ce=Ut.getValue(ke),Ee=mr(o,function(Ge){return Ge.get()});return Ce(Ce({},ce),Ee)},g=function(de){s(function(ke){var ce=ne.getData(),Ee=Ce(Ce({},ce),de),Ge=rZ(t,Ee),We=t.getFormWrapper();Ut.setValue(We,Ge),Sa(o,function(Ae,Le){Xr(Ee,Le)&&Ae.set(Ee[Le])})})},y=function(de){O7(t,de).each(Sn.disable)},k=function(de){O7(t,de).each(Sn.enable)},A=function(de){O7(t,de).each(Ln.focus)},D=function(de){if(!E(de))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(ke){kn(ke,bd,{message:de})})},N=function(){s(function(de){Rr(de,x4)})},z=function(de){s(function(ke){var ce=t.getBody(),Ee=Sc.getState(ce);Ee.get().exists(function(Ge){return Ge.isTabPanel()})&&fr.getCurrent(ce).each(function(Ge){GA.showTab(Ge,de)})})},j=function(de){s(function(ke){var ce=r(de);ke.getSystem().broadcastOn([b7],ce),ke.getSystem().broadcastOn([fV],ce.internalDialog),ke.getSystem().broadcastOn([vV],ce.internalDialog),ke.getSystem().broadcastOn([dV],ce.internalDialog),ne.setData(ce.initialData)})},X=function(){s(function(de){Rr(de,HC)})},ne={getData:v,setData:g,disable:y,enable:k,focus:A,block:D,unblock:N,showTab:z,redial:j,close:X};return ne},aZ=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},oZ=function(t,r,o){var s=$V(t.internalDialog.title,o),v=pJ({body:t.internalDialog.body},o),g=IV(t.internalDialog.buttons),y=zV(g),k=HV({buttons:g},o),A=T7.initDialog(function(){return X},PV(function(){return z},o.shared.providers,r),o.shared.getSink),D=aZ(t.internalDialog.size),N={header:s,body:v,footer:P.some(k),extraClasses:D,extraBehaviours:[],extraStyles:{}},z=NV(N,t,A,o),j=function(){var ne=function(){var de=$i.getBody(z);return fr.getCurrent(de).getOr(de)};return{getRoot:ve(z),getBody:function(){return $i.getBody(z)},getFooter:function(){return $i.getFooter(z)},getFormWrapper:ne}}(),X=VV(j,r.redial,y);return{dialog:z,instanceApi:X}},iZ=function(t,r,o,s){var v,g,y=ln("dialog-label"),k=ln("dialog-content"),A=function(ce,Ee){return P.some(Ee)},D=qr(XJ({title:t.internalDialog.title,draggable:!0},y,o.shared.providers)),N=qr(gJ({body:t.internalDialog.body},k,o,s)),z=IV(t.internalDialog.buttons),j=zV(z),X=qr(nZ({buttons:z},o)),ne=T7.initDialog(function(){return ke},{onBlock:function(ce){kt.block(de,function(Ee,Ge){return MV(ce.message,Ge,o.shared.providers)})},onUnblock:function(){kt.unblock(de)},onClose:function(){return r.closeWindow()}},o.shared.getSink),de=$a({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(v={role:"dialog"},v["aria-labelledby"]=y,v["aria-describedby"]=k,v)},eventOrder:(g={},g[el()]=[Sc.name(),Qi.name()],g[Ts()]=["execute-on-form"],g[as()]=["reflecting","execute-on-form"],g),behaviours:It([Tn.config({mode:"cyclic",onEscape:function(ce){return Rr(ce,HC),P.some(!0)},useTabstopAt:function(ce){return!rS(ce)&&(Ku(ce)!=="button"||Ra(ce,"disabled")!=="disabled")}}),Sc.config({channel:b7,updateState:A,initialData:t}),Ln.config({}),Gn("execute-on-form",ne.concat([So(Qs(),function(ce,Ee){Tn.focusIn(ce)})])),kt.config({getRoot:function(){return P.some(de)}}),Vn.config({}),Dm.memory({})]),components:[D.asSpec(),N.asSpec(),X.asSpec()]}),ke=VV({getRoot:ve(de),getFooter:function(){return X.get(de)},getBody:function(){return N.get(de)},getFormWrapper:function(){var ce=N.get(de);return fr.getCurrent(ce).getOr(ce)}},r.redial,j);return{dialog:de,instanceApi:ke}},D7=tinymce.util.Tools.resolve("tinymce.util.URI"),uZ=function(t){var r=function(y){t.getSystem().isConnected()&&y(t)},o=function(y){if(!E(y))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(k){kn(k,bd,{message:y})})},s=function(){r(function(y){Rr(y,x4)})},v=function(){r(function(y){Rr(y,HC)})},g=function(y){r(function(k){k.getSystem().broadcastOn([mV],y)})};return{block:o,unblock:s,close:v,sendMessage:g}},sZ=["insertContent","setContent","execCommand","close","block","unblock"],UV=function(t){return O(t)&&sZ.indexOf(t.mceAction)!==-1},lZ=function(t){return!UV(t)&&O(t)&&Xr(t,"mceAction")},cZ=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var s=G(o.ui)?o.ui:!1;t.execCommand(o.cmd,s,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},fZ=function(t,r,o,s){var v,g=$V(t.title,s),y=bJ(t),k=t.buttons.bind(function(Ee){return Ee.length===0?P.none():P.some(HV({buttons:Ee},s))}),A=T7.initUrlDialog(function(){return ce},PV(function(){return ke},s.shared.providers,r)),D=Ce(Ce({},t.height.fold(function(){return{}},function(Ee){return{height:Ee+"px","max-height":Ee+"px"}})),t.width.fold(function(){return{}},function(Ee){return{width:Ee+"px","max-width":Ee+"px"}})),N=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],z=new D7(t.url,{base_uri:new D7(window.location.href)}),j=z.protocol+"://"+z.host+(z.port?":"+z.port:""),X=zh(),ne=[Gn("messages",[jn(function(){var Ee=mo(Gt.fromDom(window),"message",function(Ge){if(z.isSameOrigin(new D7(Ge.raw.origin))){var We=Ge.raw.data;UV(We)?cZ(o,ce,We):lZ(We)&&t.onMessage(ce,We)}});X.set(Ee)}),Rs(X.clear)]),Qi.config({channels:(v={},v[mV]={onReceive:function(Ee,Ge){Ho(Ee.element,"iframe").each(function(We){var Ae=We.dom.contentWindow;Ae.postMessage(Ge,j)})}},v)})],de={header:g,body:y,footer:k,extraClasses:N,extraBehaviours:ne,extraStyles:D},ke=NV(de,t,A,s),ce=uZ(ke);return{dialog:ke,instanceApi:ce}},vZ=function(t){var r=t.backstage.shared,o=function(s,v){var g=function(){$i.hide(D),v()},y=qr(hA({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:P.none()},"cancel",t.backstage)),k=AV(),A=kV(g,r.providers),D=$a(E7({lazySink:function(){return r.getSink()},header:_V(k,A),body:EV(s,r.providers),footer:P.some(TV(OV([],[y.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[vt(S1,g)],eventOrder:{}}));$i.show(D);var N=y.get(D);Ln.focus(N)};return{open:o}},dZ=function(t){var r=t.backstage.shared,o=function(s,v){var g=function(j){$i.hide(N),v(j)},y=qr(hA({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:P.none()},"submit",t.backstage)),k=hA({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:P.none()},"cancel",t.backstage),A=AV(),D=kV(function(){return g(!1)},r.providers),N=$a(E7({lazySink:function(){return r.getSink()},header:_V(A,D),body:EV(s,r.providers),footer:P.some(TV(OV([],[k,y.asSpec()]))),onEscape:function(){return g(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[vt(S1,function(){return g(!1)}),vt(sl,function(){return g(!0)})],eventOrder:{}}));$i.show(N);var z=y.get(N);Ln.focus(z)};return{open:o}},mZ=function(t,r){return _l(Ha("data",r,t))},hZ=function(t){return IC(t,".tox-alert-dialog")||IC(t,".tox-confirm-dialog")},gZ=function(t,r,o){return r&&o?[]:[ko.config({contextual:{lazyContext:function(){return P.some(Co(Gt.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},pZ=function(t){var r=t.backstage,o=t.editor,s=Ek(o),v=vZ(t),g=dZ(t),y=function(ne,de,ke){return de!==void 0&&de.inline==="toolbar"?N(ne,r.shared.anchors.inlineDialog(),ke,de.ariaAttrs):de!==void 0&&de.inline==="cursor"?N(ne,r.shared.anchors.cursor(),ke,de.ariaAttrs):D(ne,ke)},k=function(ne,de){return A(ne,de)},A=function(ne,de){var ke=function(ce){var Ee=fZ(ce,{closeWindow:function(){$i.hide(Ee.dialog),de(Ee.instanceApi)}},o,r);return $i.show(Ee.dialog),Ee.instanceApi};return nD.openUrl(ke,ne)},D=function(ne,de){var ke=function(ce,Ee,Ge){var We=Ee,Ae={dataValidator:Ge,initialData:We,internalDialog:ce},Le=oZ(Ae,{redial:nD.redial,closeWindow:function(){$i.hide(Le.dialog),de(Le.instanceApi)}},r);return $i.show(Le.dialog),Le.instanceApi.setData(We),Le.instanceApi};return nD.open(ke,ne)},N=function(ne,de,ke,ce){var Ee=function(Ge,We,Ae){var Le=mZ(We,Ae),at=io(),Wt=r.shared.header.isPositionedAtTop(),ct={dataValidator:Ae,initialData:Le,internalDialog:Ge},Kt=function(){return at.on(function(Mt){ea.reposition(Mt),ko.refresh(Mt)})},mt=iZ(ct,{redial:nD.redial,closeWindow:function(){at.on(ea.hide),o.off("ResizeEditor",Kt),at.clear(),ke(mt.instanceApi)}},r,ce),nt=$a(ea.sketch(Ce(Ce({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},Wt?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:It(Ht([Gn("window-manager-inline-events",[vt(Tl(),function(Mt,cn){Rr(mt.dialog,S1)})])],gZ(o,s,Wt),!0)),isExtraPart:function(Mt,cn){return hZ(cn)}})));return at.set(nt),ea.showWithin(nt,Ps(mt.dialog),{anchor:de},P.some(Ni())),(!s||!Wt)&&(ko.refresh(nt),o.on("ResizeEditor",Kt)),mt.instanceApi.setData(Le),Tn.focusIn(mt.dialog),mt.instanceApi};return nD.open(Ee,ne)},z=function(ne,de){g.open(ne,function(ke){de(ke)})},j=function(ne,de){v.open(ne,function(){de()})},X=function(ne){ne.close()};return{open:y,openUrl:k,alert:j,close:X,confirm:z}};function bZ(){Eo.add("silver",function(t){var r=_X(t),o=r.uiMothership,s=r.backstage,v=r.renderUI,g=r.getUi;QI.register(t,s.shared);var y=pZ({editor:t,backstage:s});return{renderUI:v,getWindowManagerImpl:ve(y),getNotificationManagerImpl:function(){return O3(t,{backstage:s},o)},ui:g()}})}bZ()})();(function(){var d=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(Y,Ht,_r){var ft=Ht==="UL"?"InsertUnorderedList":"InsertOrderedList";Y.execCommand(ft,!1,_r===!1?null:{"list-style-type":_r})},w=function(Y){Y.addCommand("ApplyUnorderedListStyle",function(Ht,_r){m(Y,"UL",_r["list-style-type"])}),Y.addCommand("ApplyOrderedListStyle",function(Ht,_r){m(Y,"OL",_r["list-style-type"])})},S=tinymce.util.Tools.resolve("tinymce.util.Tools"),E=function(Y){var Ht=Y.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return Ht?Ht.split(/[ ,]/):[]},O=function(Y){var Ht=Y.getParam("advlist_bullet_styles","default,circle,square");return Ht?Ht.split(/[ ,]/):[]},B=function(){},I=function(Y){return function(){return Y}},G=function(Y){return Y},ee=I(!1),ae=I(!0),me=function(){return ie},ie=function(){var Y=function(ft){return ft()},Ht=G,_r={fold:function(ft,Kn){return ft()},isSome:ee,isNone:ae,getOr:Ht,getOrThunk:Y,getOrDie:function(ft){throw new Error(ft||"error: getOrDie called on none.")},getOrNull:I(null),getOrUndefined:I(void 0),or:Ht,orThunk:Y,map:me,each:B,bind:me,exists:ee,forall:ae,filter:function(){return me()},toArray:function(){return[]},toString:I("none()")};return _r}(),oe=function(Y){var Ht=I(Y),_r=function(){return Kn},ft=function(xn){return xn(Y)},Kn={fold:function(xn,P){return P(Y)},isSome:ae,isNone:ee,getOr:Ht,getOrThunk:Ht,getOrDie:Ht,getOrNull:Ht,getOrUndefined:Ht,or:_r,orThunk:_r,map:function(xn){return oe(xn(Y))},each:function(xn){xn(Y)},bind:ft,exists:ft,forall:ft,filter:function(xn){return xn(Y)?Kn:ie},toArray:function(){return[Y]},toString:function(){return"some("+Y+")"}};return Kn},he=function(Y){return Y==null?ie:oe(Y)},Q={some:oe,none:me,from:he},Ct=function(Y,Ht){return Y.$.contains(Y.getBody(),Ht)},Me=function(Y){return Y&&/^(TH|TD)$/.test(Y.nodeName)},rt=function(Y){return function(Ht){return Ht&&/^(OL|UL|DL)$/.test(Ht.nodeName)&&Ct(Y,Ht)}},ve=function(Y){var Ht=Y.dom.getParent(Y.selection.getNode(),"ol,ul"),_r=Y.dom.getStyle(Ht,"listStyleType");return Q.from(_r)},tt=function(Y,Ht){for(var _r=0;_r<Y.length;_r++){var ft=Y[_r];if(Ht(ft))return _r}return-1},He=function(Y){return Y.replace(/\-/g," ").replace(/\b\w/g,function(Ht){return Ht.toUpperCase()})},Xt=function(Y,Ht,_r){var ft=tt(Ht.parents,Me),Kn=ft!==-1?Ht.parents.slice(0,ft):Ht.parents,xn=S.grep(Kn,rt(Y));return xn.length>0&&xn[0].nodeName===_r},mn=function(Y,Ht){return function(_r){var ft=function(Kn){_r.setActive(Xt(Y,Kn,Ht))};return Y.on("NodeChange",ft),function(){return Y.off("NodeChange",ft)}}},Nt=function(Y,Ht,_r,ft,Kn,xn){Y.ui.registry.addSplitButton(Ht,{tooltip:_r,icon:Kn==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(P){var ta=S.map(xn,function(Dt){var en=Kn==="OL"?"num":"bull",Mi=Dt==="disc"||Dt==="decimal"?"default":Dt,Xi=Dt==="default"?"":Dt,nr=He(Dt);return{type:"choiceitem",value:Xi,icon:"list-"+en+"-"+Mi,text:nr}});P(ta)},onAction:function(){return Y.execCommand(ft)},onItemAction:function(P,ta){m(Y,Kn,ta)},select:function(P){var ta=ve(Y);return ta.map(function(Dt){return P===Dt}).getOr(!1)},onSetup:mn(Y,Kn)})},Cn=function(Y,Ht,_r,ft,Kn,xn){Y.ui.registry.addToggleButton(Ht,{active:!1,tooltip:_r,icon:Kn==="OL"?"ordered-list":"unordered-list",onSetup:mn(Y,Kn),onAction:function(){return Y.execCommand(ft)}})},Qt=function(Y,Ht,_r,ft,Kn,xn){xn.length>1?Nt(Y,Ht,_r,ft,Kn,xn):Cn(Y,Ht,_r,ft,Kn)},Eo=function(Y){Qt(Y,"numlist","Numbered list","InsertOrderedList","OL",E(Y)),Qt(Y,"bullist","Bullet list","InsertUnorderedList","UL",O(Y))};function Ce(){d.add("advlist",function(Y){Y.hasPlugin("lists")?(Eo(Y),w(Y)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}Ce()})();(function(){var d=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(I,G){I.focus(),I.undoManager.transact(function(){I.setContent(G)}),I.selection.setCursorLocation(),I.nodeChanged()},w=function(I){return I.getContent({source_view:!0})},S=function(I){var G=w(I);I.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:G},onSubmit:function(ee){m(I,ee.getData().code),ee.close()}})},E=function(I){I.addCommand("mceCodeEditor",function(){S(I)})},O=function(I){var G=function(){return I.execCommand("mceCodeEditor")};I.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:G}),I.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:G})};function B(){d.add("code",function(I){return E(I),O(I),{}})}B()})();(function(){var d=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=tinymce.util.Tools.resolve("tinymce.util.VK"),w=function(J){var _e=typeof J;return J===null?"null":_e==="object"&&(Array.prototype.isPrototypeOf(J)||J.constructor&&J.constructor.name==="Array")?"array":_e==="object"&&(String.prototype.isPrototypeOf(J)||J.constructor&&J.constructor.name==="String")?"string":_e},S=function(J){return function(_e){return w(_e)===J}},E=function(J){return function(_e){return typeof _e===J}},O=function(J){return function(_e){return J===_e}},B=S("string"),I=S("array"),G=O(null),ee=E("boolean"),ae=E("function"),me=function(){},ie=function(J){return function(){return J}},oe=function(J){return J},he=function(J,_e){return J===_e},Q=ie(!1),Ct=ie(!0),Me=function(){return rt},rt=function(){var J=function(ut){return ut()},_e=oe,Pe={fold:function(ut,Bt){return ut()},isSome:Q,isNone:Ct,getOr:_e,getOrThunk:J,getOrDie:function(ut){throw new Error(ut||"error: getOrDie called on none.")},getOrNull:ie(null),getOrUndefined:ie(void 0),or:_e,orThunk:J,map:Me,each:me,bind:Me,exists:Q,forall:Ct,filter:function(){return Me()},toArray:function(){return[]},toString:ie("none()")};return Pe}(),ve=function(J){var _e=ie(J),Pe=function(){return Bt},ut=function(bn){return bn(J)},Bt={fold:function(bn,Gr){return Gr(J)},isSome:Ct,isNone:Q,getOr:_e,getOrThunk:_e,getOrDie:_e,getOrNull:_e,getOrUndefined:_e,or:Pe,orThunk:Pe,map:function(bn){return ve(bn(J))},each:function(bn){bn(J)},bind:ut,exists:ut,forall:ut,filter:function(bn){return bn(J)?Bt:rt},toArray:function(){return[J]},toString:function(){return"some("+J+")"}};return Bt},tt=function(J){return J==null?rt:ve(J)},He={some:ve,none:Me,from:tt},Xt=Array.prototype.indexOf,mn=Array.prototype.push,Nt=function(J,_e){return Xt.call(J,_e)},Cn=function(J,_e){return Nt(J,_e)>-1},Qt=function(J,_e){for(var Pe=J.length,ut=new Array(Pe),Bt=0;Bt<Pe;Bt++){var bn=J[Bt];ut[Bt]=_e(bn,Bt)}return ut},Eo=function(J,_e){for(var Pe=0,ut=J.length;Pe<ut;Pe++){var Bt=J[Pe];_e(Bt,Pe)}},Ce=function(J,_e,Pe){return Eo(J,function(ut,Bt){Pe=_e(Pe,ut,Bt)}),Pe},Y=function(J){for(var _e=[],Pe=0,ut=J.length;Pe<ut;++Pe){if(!I(J[Pe]))throw new Error("Arr.flatten item "+Pe+" was not an array, input: "+J);mn.apply(_e,J[Pe])}return _e},Ht=function(J,_e){return Y(Qt(J,_e))},_r=function(J,_e){for(var Pe=0;Pe<J.length;Pe++){var ut=_e(J[Pe],Pe);if(ut.isSome())return ut}return He.none()},ft=function(J,_e,Pe){return Pe===void 0&&(Pe=he),J.exists(function(ut){return Pe(ut,_e)})},Kn=function(J){for(var _e=[],Pe=function(Bt){_e.push(Bt)},ut=0;ut<J.length;ut++)J[ut].each(Pe);return _e},xn=function(J,_e){return J?He.some(_e):He.none()},P=function(J){var _e=J.getParam("link_assume_external_targets",!1);return ee(_e)&&_e?1:B(_e)&&(_e==="http"||_e==="https")?_e:0},ta=function(J){return J.getParam("link_context_toolbar",!1,"boolean")},Dt=function(J){return J.getParam("link_list")},en=function(J){return J.getParam("default_link_target")},Mi=function(J){return J.getParam("target_list",!0)},Xi=function(J){return J.getParam("rel_list",[],"array")},nr=function(J){return J.getParam("link_class_list",[],"array")},Fr=function(J){return J.getParam("link_title",!0,"boolean")},K=function(J){return J.getParam("allow_unsafe_link_target",!1,"boolean")},En=function(J){return J.getParam("link_quicklink",!1,"boolean")},Ne=function(J){return J.getParam("link_default_protocol","http","string")},yt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Dr=function(J){return B(J.value)?J.value:""},ye=function(J){return B(J.text)?J.text:B(J.title)?J.title:""},pe=function(J,_e){var Pe=[];return yt.each(J,function(ut){var Bt=ye(ut);if(ut.menu!==void 0){var bn=pe(ut.menu,_e);Pe.push({text:Bt,items:bn})}else{var Gr=_e(ut);Pe.push({text:Bt,value:Gr})}}),Pe},Fe=function(J){return J===void 0&&(J=Dr),function(_e){return He.from(_e).map(function(Pe){return pe(Pe,J)})}},je=function(J){return Fe(Dr)(J)},Be=function(J,_e){return function(Pe){return{name:J,type:"listbox",label:_e,items:Pe}}},bt={sanitize:je,sanitizeWith:Fe,createUi:Be,getValue:Dr},on=function(){return on=Object.assign||function(_e){for(var Pe,ut=1,Bt=arguments.length;ut<Bt;ut++){Pe=arguments[ut];for(var bn in Pe)Object.prototype.hasOwnProperty.call(Pe,bn)&&(_e[bn]=Pe[bn])}return _e},on.apply(this,arguments)},Qe=Object.keys,qt=Object.hasOwnProperty,Et=function(J,_e){for(var Pe=Qe(J),ut=0,Bt=Pe.length;ut<Bt;ut++){var bn=Pe[ut],Gr=J[bn];_e(Gr,bn)}},Rt=function(J){return function(_e,Pe){J[Pe]=_e}},sn=function(J,_e,Pe,ut){var Bt={};return Et(J,function(bn,Gr){(_e(bn,Gr)?Pe:ut)(bn,Gr)}),Bt},Pn=function(J,_e){var Pe={};return sn(J,_e,Rt(Pe),me),Pe},or=function(J,_e){return qt.call(J,_e)},gr=function(J,_e){return or(J,_e)&&J[_e]!==void 0&&J[_e]!==null},na=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Er=tinymce.util.Tools.resolve("tinymce.util.URI"),Aa=function(J){return J&&J.nodeName.toLowerCase()==="a"},ti=function(J){return Aa(J)&&!!to(J)},Pa=function(J,_e){if(J.collapsed)return[];var Pe=J.cloneContents(),ut=new na(Pe.firstChild,Pe),Bt=[],bn=Pe.firstChild;do _e(bn)&&Bt.push(bn);while(bn=ut.next());return Bt},Ea=function(J){return/^\w+:/i.test(J)},to=function(J){var _e=J.getAttribute("data-mce-href");return _e||J.getAttribute("href")},Sa=function(J,_e){var Pe=["noopener"],ut=J?J.split(/\s+/):[],Bt=function(rr){return yt.trim(rr.sort().join(" "))},bn=function(rr){return rr=Gr(rr),rr.length>0?rr.concat(Pe):Pe},Gr=function(rr){return rr.filter(function(Da){return yt.inArray(Pe,Da)===-1})},oa=_e?bn(ut):Gr(ut);return oa.length>0?Bt(oa):""},mr=function(J){return J.replace(/\uFEFF/g,"")},no=function(J,_e){return _e=_e||J.selection.getNode(),Us(_e)?J.dom.select("a[href]",_e)[0]:J.dom.getParent(_e,"a[href]")},ku=function(J,_e){var Pe=_e?_e.innerText||_e.textContent:J.getContent({format:"text"});return mr(Pe)},Ad=function(J){return yt.grep(J,ti).length>0},Hr=function(J){return Pa(J,ti).length>0},ps=function(J){var _e=J.schema.getTextInlineElements(),Pe=function(Bt){return Bt.nodeType===1&&!Aa(Bt)&&!or(_e,Bt.nodeName.toLowerCase())},ut=Pa(J.selection.getRng(),Pe);return ut.length===0},Us=function(J){return J&&J.nodeName==="FIGURE"&&/\bimage\b/i.test(J.className)},jl=function(J){var _e=["title","rel","class","target"];return Ce(_e,function(Pe,ut){return J[ut].each(function(Bt){Pe[ut]=Bt.length>0?Bt:null}),Pe},{href:J.href})},Dn=function(J,_e){return(_e==="http"||_e==="https")&&!Ea(J)?_e+"://"+J:J},Xr=function(J,_e){var Pe=on({},_e);if(!(Xi(J).length>0)&&K(J)===!1){var ut=Sa(Pe.rel,Pe.target==="_blank");Pe.rel=ut||null}return He.from(Pe.target).isNone()&&Mi(J)===!1&&(Pe.target=en(J)),Pe.href=Dn(Pe.href,P(J)),Pe},ni=function(J,_e,Pe,ut){Pe.each(function(Bt){or(_e,"innerText")?_e.innerText=Bt:_e.textContent=Bt}),J.dom.setAttribs(_e,ut),J.selection.select(_e)},bs=function(J,_e,Pe,ut){Us(_e)?Sv(J,_e,ut):Pe.fold(function(){J.execCommand("mceInsertLink",!1,ut)},function(Bt){J.insertContent(J.dom.createHTML("a",ut,J.dom.encode(Bt)))})},Ed=function(J,_e,Pe){var ut=J.selection.getNode(),Bt=no(J,ut),bn=Xr(J,jl(Pe));J.undoManager.transact(function(){Pe.href===_e.href&&_e.attach(),Bt?(J.focus(),ni(J,Bt,Pe.text,bn)):bs(J,ut,Pe.text,bn)})},Qr=function(J){var _e=J.dom,Pe=J.selection,ut=Pe.getBookmark(),Bt=Pe.getRng().cloneRange(),bn=_e.getParent(Bt.startContainer,"a[href]",J.getBody()),Gr=_e.getParent(Bt.endContainer,"a[href]",J.getBody());bn&&Bt.setStartBefore(bn),Gr&&Bt.setEndAfter(Gr),Pe.setRng(Bt),J.execCommand("unlink"),Pe.moveToBookmark(ut)},pr=function(J){J.undoManager.transact(function(){var _e=J.selection.getNode();Us(_e)?Tc(J,_e):Qr(J),J.focus()})},Ws=function(J){var _e=J.class,Pe=J.href,ut=J.rel,Bt=J.target,bn=J.text,Gr=J.title;return Pn({class:_e.getOrNull(),href:Pe,rel:ut.getOrNull(),target:Bt.getOrNull(),text:bn.getOrNull(),title:Gr.getOrNull()},function(oa,rr){return G(oa)===!1})},Km=function(J,_e){var Pe=_e.href;return on(on({},_e),{href:Er.isDomSafe(Pe,"a",J.settings)?Pe:""})},xf=function(J,_e,Pe){var ut=Km(J,Pe);J.hasPlugin("rtc",!0)?J.execCommand("createlink",!1,Ws(ut)):Ed(J,_e,ut)},js=function(J){J.hasPlugin("rtc",!0)?J.execCommand("unlink"):pr(J)},Tc=function(J,_e){var Pe=J.dom.select("img",_e)[0];if(Pe){var ut=J.dom.getParents(Pe,"a[href]",_e)[0];ut&&(ut.parentNode.insertBefore(Pe,ut),J.dom.remove(ut))}},Sv=function(J,_e,Pe){var ut=J.dom.select("img",_e)[0];if(ut){var Bt=J.dom.create("a",Pe);ut.parentNode.insertBefore(Bt,ut),Bt.appendChild(ut)}},ml=function(J){return gr(J,"items")},hl=function(J,_e){return _r(_e,function(Pe){return ml(Pe)?hl(J,Pe.items):xn(Pe.value===J,Pe)})},_f=function(J,_e,Pe,ut){var Bt=ut[_e],bn=J.length>0;return Bt!==void 0?hl(Bt,Pe).map(function(Gr){return{url:{value:Gr.value,meta:{text:bn?J:Gr.text,attach:me}},text:bn?J:Gr.text}}):He.none()},aa=function(J,_e){return _e==="link"?J.link:_e==="anchor"?J.anchor:He.none()},Gs=function(J,_e){var Pe={text:J.text,title:J.title},ut=function(rr){return xn(Pe.title.length<=0,He.from(rr.meta.title).getOr(""))},Bt=function(rr){return xn(Pe.text.length<=0,He.from(rr.meta.text).getOr(rr.value))},bn=function(rr){var Da=Bt(rr.url),La=ut(rr.url);return Da.isSome()||La.isSome()?He.some(on(on({},Da.map(function(Rc){return{text:Rc}}).getOr({})),La.map(function(Rc){return{title:Rc}}).getOr({}))):He.none()},Gr=function(rr,Da){var La=aa(_e,Da.name).getOr([]);return _f(Pe.text,Da.name,La,rr)},oa=function(rr,Da){var La=Da.name;return La==="url"?bn(rr()):Cn(["anchor","link"],La)?Gr(rr(),Da):((La==="text"||La==="title")&&(Pe[La]=rr()[La]),He.none())};return{onChange:oa}},Mn={init:Gs,getDelta:_f},Xm=tinymce.util.Tools.resolve("tinymce.util.Delay"),Au=tinymce.util.Tools.resolve("tinymce.util.Promise"),Oc=function(J,_e,Pe){var ut=J.selection.getRng();Xm.setEditorTimeout(J,function(){J.windowManager.confirm(_e,function(Bt){J.selection.setRng(ut),Pe(Bt)})})},Ym=function(J){var _e=J.href,Pe=_e.indexOf("@")>0&&_e.indexOf("/")===-1&&_e.indexOf("mailto:")===-1;return Pe?He.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(ut){return on(on({},ut),{href:"mailto:"+_e})}}):He.none()},Gl=function(J,_e){return function(Pe){var ut=Pe.href,Bt=J===1&&!Ea(ut)||J===0&&/^\s*www(\.|\d\.)/i.test(ut);return Bt?He.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+_e+":// prefix?",preprocess:function(bn){return on(on({},bn),{href:_e+"://"+ut})}}):He.none()}},Jm=function(J,_e){return _r([Ym,Gl(P(J),Ne(J))],function(Pe){return Pe(_e)}).fold(function(){return Au.resolve(_e)},function(Pe){return new Au(function(ut){Oc(J,Pe.message,function(Bt){ut(Bt?Pe.preprocess(_e):_e)})})})},kf={preprocess:Jm},Zm=function(J){var _e=J.dom.select("a:not([href])"),Pe=Ht(_e,function(ut){var Bt=ut.name||ut.id;return Bt?[{text:Bt,value:"#"+Bt}]:[]});return Pe.length>0?He.some([{text:"None",value:""}].concat(Pe)):He.none()},ys={getAnchors:Zm},Dc=function(J){var _e=nr(J);return _e.length>0?bt.sanitize(_e):He.none()},Gt={getClasses:Dc},Td=tinymce.util.Tools.resolve("tinymce.util.XHR"),xv=function(J){try{return He.some(JSON.parse(J))}catch{return He.none()}},_v=function(J){var _e=function(ut){return J.convertURL(ut.value||ut.url,"href")},Pe=Dt(J);return new Au(function(ut){B(Pe)?Td.send({url:Pe,success:function(Bt){return ut(xv(Bt))},error:function(Bt){return ut(He.none())}}):ae(Pe)?Pe(function(Bt){return ut(He.some(Bt))}):ut(He.from(Pe))}).then(function(ut){return ut.bind(bt.sanitizeWith(_e)).map(function(Bt){if(Bt.length>0){var bn=[{text:"None",value:""}];return bn.concat(Bt)}else return Bt})})},ql={getLinks:_v},Ku=function(J,_e){var Pe=Xi(J);if(Pe.length>0){var ut=ft(_e,"_blank"),Bt=K(J)===!1,bn=function(oa){return Sa(bt.getValue(oa),ut)},Gr=Bt?bt.sanitizeWith(bn):bt.sanitize;return Gr(Pe)}return He.none()},Qm={getRels:Ku},To=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],co=function(J){var _e=Mi(J);return I(_e)?bt.sanitize(_e).orThunk(function(){return He.some(To)}):_e===!1?He.none():He.some(To)},Eu={getTargets:co},qs=function(J,_e,Pe){var ut=J.getAttrib(_e,Pe);return ut!==null&&ut.length>0?He.some(ut):He.none()},Od=function(J,_e){var Pe=J.dom,ut=ps(J),Bt=ut?He.some(ku(J.selection,_e)):He.none(),bn=_e?He.some(Pe.getAttrib(_e,"href")):He.none(),Gr=_e?He.from(Pe.getAttrib(_e,"target")):He.none(),oa=qs(Pe,_e,"rel"),rr=qs(Pe,_e,"class"),Da=qs(Pe,_e,"title");return{url:bn,text:Bt,title:Da,target:Gr,rel:oa,linkClass:rr}},Xu=function(J,_e){return ql.getLinks(J).then(function(Pe){var ut=Od(J,_e);return{anchor:ut,catalogs:{targets:Eu.getTargets(J),rels:Qm.getRels(J,ut.target),classes:Gt.getClasses(J),anchor:ys.getAnchors(J),link:Pe},optNode:He.from(_e),flags:{titleEnabled:Fr(J)}}})},Af={collect:Xu},Dd=function(J,_e){return function(Pe){var ut=Pe.getData();if(!ut.url.value){js(J),Pe.close();return}var Bt=function(oa){return He.from(ut[oa]).filter(function(rr){return!ft(_e.anchor[oa],rr)})},bn={href:ut.url.value,text:Bt("text"),target:Bt("target"),rel:Bt("rel"),class:Bt("linkClass"),title:Bt("title")},Gr={href:ut.url.value,attach:ut.url.meta!==void 0&&ut.url.meta.attach?ut.url.meta.attach:me};kf.preprocess(J,bn).then(function(oa){xf(J,Gr,oa)}),Pe.close()}},gl=function(J){var _e=no(J);return Af.collect(J,_e)},Tu=function(J,_e){var Pe=J.anchor,ut=Pe.url.getOr("");return{url:{value:ut,meta:{original:{value:ut}}},text:Pe.text.getOr(""),title:Pe.title.getOr(""),anchor:ut,link:ut,rel:Pe.rel.getOr(""),target:Pe.target.or(_e).getOr(""),linkClass:Pe.linkClass.getOr("")}},Lt=function(J,_e,Pe){var ut=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],Bt=J.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),bn=J.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Gr=He.from(en(Pe)),oa=Tu(J,Gr),rr=J.catalogs,Da=Mn.init(oa,rr),La={type:"panel",items:Y([ut,Bt,bn,Kn([rr.anchor.map(bt.createUi("anchor","Anchors")),rr.rels.map(bt.createUi("rel","Rel")),rr.targets.map(bt.createUi("target","Open link in...")),rr.link.map(bt.createUi("link","Link list")),rr.classes.map(bt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:La,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:oa,onChange:function(Rc,Pi){var Kl=Pi.name;Da.onChange(Rc.getData,{name:Kl}).each(function(Rn){Rc.setData(Rn)})},onSubmit:_e}},bi=function(J){var _e=gl(J);_e.then(function(Pe){var ut=Dd(J,Pe);return Lt(Pe,ut,J)}).then(function(Pe){J.windowManager.open(Pe)})},pl=function(J,_e){document.body.appendChild(J),J.dispatchEvent(_e),document.body.removeChild(J)},eh=function(J){var _e=document.createElement("a");_e.target="_blank",_e.href=J,_e.rel="noreferrer noopener";var Pe=document.createEvent("MouseEvents");Pe.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),pl(_e,Pe)},Ef=function(J,_e){return J.dom.getParent(_e,"a[href]")},Vr=function(J){return Ef(J,J.selection.getStart())},kv=function(J){return J.altKey===!0&&J.shiftKey===!1&&J.ctrlKey===!1&&J.metaKey===!1},bl=function(J,_e){if(_e){var Pe=to(_e);if(/^#/.test(Pe)){var ut=J.$(Pe);ut.length&&J.selection.scrollIntoView(ut[0],!0)}else eh(_e.href)}},ro=function(J){return function(){bi(J)}},Av=function(J){return function(){bl(J,Vr(J))}},iu=function(J){J.on("click",function(_e){var Pe=Ef(J,_e.target);Pe&&m.metaKeyPressed(_e)&&(_e.preventDefault(),bl(J,Pe))}),J.on("keydown",function(_e){var Pe=Vr(J);Pe&&_e.keyCode===13&&kv(_e)&&(_e.preventDefault(),bl(J,Pe))})},Yu=function(J,_e){return J.on("NodeChange",_e),function(){return J.off("NodeChange",_e)}},xa=function(J){return function(_e){var Pe=function(){return _e.setActive(!J.mode.isReadOnly()&&no(J,J.selection.getNode())!==null)};return Pe(),Yu(J,Pe)}},Tf=function(J){return function(_e){var Pe=function(){return _e.setDisabled(no(J,J.selection.getNode())===null)};return Pe(),Yu(J,Pe)}},Of=function(J){return function(_e){var Pe=function(Bt){return Ad(Bt)||Hr(J.selection.getRng())},ut=J.dom.getParents(J.selection.getStart());return _e.setDisabled(!Pe(ut)),Yu(J,function(Bt){return _e.setDisabled(!Pe(Bt.parents))})}},Ev=function(J){J.addCommand("mceLink",function(){En(J)?J.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):ro(J)()})},Rd=function(J){J.addShortcut("Meta+K","",function(){J.execCommand("mceLink")})},yl=function(J){J.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ro(J),onSetup:xa(J)}),J.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Av(J),onSetup:Tf(J)}),J.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return js(J)},onSetup:Of(J)})},Ks=function(J){J.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Av(J),onSetup:Tf(J)}),J.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:ro(J)}),J.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return js(J)},onSetup:Of(J)})},Tv=function(J){var _e="link unlink openlink",Pe="link";J.ui.registry.addContextMenu("link",{update:function(ut){return Ad(J.dom.getParents(ut,"a"))?_e:Pe}})},ws=function(J){var _e=function(Bt){Bt.selection.collapse(!1)},Pe=function(Bt){var bn=J.selection.getNode();return Bt.setDisabled(!no(J,bn)),me},ut=function(Bt){var bn=no(J),Gr=ps(J);if(!bn&&Gr){var oa=ku(J.selection,bn);return He.some(oa.length>0?oa:Bt)}else return He.none()};J.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:xa(J)},label:"Link",predicate:function(Bt){return!!no(J,Bt)&&ta(J)},initValue:function(){var Bt=no(J);return Bt?to(Bt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Bt){var bn=J.selection.getNode();return Bt.setActive(!!no(J,bn)),xa(J)(Bt)},onAction:function(Bt){var bn=Bt.getValue(),Gr=ut(bn),oa={href:bn,attach:me};xf(J,oa,{href:bn,text:Gr,title:He.none(),rel:He.none(),target:He.none(),class:He.none()}),_e(J),Bt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Pe,onAction:function(Bt){js(J),Bt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Pe,onAction:function(Bt){Av(J)(),Bt.hide()}}]})};function Ou(){d.add("link",function(J){yl(J),Ks(J),Tv(J),ws(J),iu(J),Ev(J),Rd(J)})}Ou()})();(function(){var d=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(R){var H=typeof R;return R===null?"null":H==="object"&&(Array.prototype.isPrototypeOf(R)||R.constructor&&R.constructor.name==="Array")?"array":H==="object"&&(String.prototype.isPrototypeOf(R)||R.constructor&&R.constructor.name==="String")?"string":H},w=function(R){return function(H){return m(H)===R}},S=function(R){return function(H){return typeof H===R}},E=w("string"),O=w("object"),B=w("array"),I=S("boolean"),G=S("function"),ee=S("number"),ae=function(){},me=function(R){return function(){return R}},ie=function(R){return R},oe=function(R,H){return R===H},he=function(R){return function(H){return!R(H)}},Q=me(!1),Ct=me(!0),Me=function(){return rt},rt=function(){var R=function(fe){return fe()},H=ie,q={fold:function(fe,Re){return fe()},isSome:Q,isNone:Ct,getOr:H,getOrThunk:R,getOrDie:function(fe){throw new Error(fe||"error: getOrDie called on none.")},getOrNull:me(null),getOrUndefined:me(void 0),or:H,orThunk:R,map:Me,each:ae,bind:Me,exists:Q,forall:Ct,filter:function(){return Me()},toArray:function(){return[]},toString:me("none()")};return q}(),ve=function(R){var H=me(R),q=function(){return Re},fe=function(Je){return Je(R)},Re={fold:function(Je,vn){return vn(R)},isSome:Ct,isNone:Q,getOr:H,getOrThunk:H,getOrDie:H,getOrNull:H,getOrUndefined:H,or:q,orThunk:q,map:function(Je){return ve(Je(R))},each:function(Je){Je(R)},bind:fe,exists:fe,forall:fe,filter:function(Je){return Je(R)?Re:rt},toArray:function(){return[R]},toString:function(){return"some("+R+")"}};return Re},tt=function(R){return R==null?rt:ve(R)},He={some:ve,none:Me,from:tt},Xt=Array.prototype.slice,mn=Array.prototype.push,Nt=function(R,H){for(var q=R.length,fe=new Array(q),Re=0;Re<q;Re++){var Je=R[Re];fe[Re]=H(Je,Re)}return fe},Cn=function(R,H){for(var q=0,fe=R.length;q<fe;q++){var Re=R[q];H(Re,q)}},Qt=function(R,H){for(var q=[],fe=0,Re=R.length;fe<Re;fe++){var Je=R[fe];H(Je,fe)&&q.push(Je)}return q},Eo=function(R,H){if(R.length===0)return[];for(var q=H(R[0]),fe=[],Re=[],Je=0,vn=R.length;Je<vn;Je++){var Hn=R[Je],br=H(Hn);br!==q&&(fe.push(Re),Re=[]),q=br,Re.push(Hn)}return Re.length!==0&&fe.push(Re),fe},Ce=function(R,H,q){return Cn(R,function(fe,Re){q=H(q,fe,Re)}),q},Y=function(R,H,q){for(var fe=0,Re=R.length;fe<Re;fe++){var Je=R[fe];if(H(Je,fe))return He.some(Je);if(q(Je,fe))break}return He.none()},Ht=function(R,H){return Y(R,H,Q)},_r=function(R){for(var H=[],q=0,fe=R.length;q<fe;++q){if(!B(R[q]))throw new Error("Arr.flatten item "+q+" was not an array, input: "+R);mn.apply(H,R[q])}return H},ft=function(R,H){return _r(Nt(R,H))},Kn=function(R){var H=Xt.call(R,0);return H.reverse(),H},xn=function(R,H){return H>=0&&H<R.length?He.some(R[H]):He.none()},P=function(R){return xn(R,0)},ta=function(R){return xn(R,R.length-1)},Dt=function(R,H){for(var q=0;q<R.length;q++){var fe=H(R[q],q);if(fe.isSome())return fe}return He.none()},en=function(){return en=Object.assign||function(H){for(var q,fe=1,Re=arguments.length;fe<Re;fe++){q=arguments[fe];for(var Je in q)Object.prototype.hasOwnProperty.call(q,Je)&&(H[Je]=q[Je])}return H},en.apply(this,arguments)};function Mi(R,H,q){if(q||arguments.length===2)for(var fe=0,Re=H.length,Je;fe<Re;fe++)(Je||!(fe in H))&&(Je||(Je=Array.prototype.slice.call(H,0,fe)),Je[fe]=H[fe]);return R.concat(Je||Array.prototype.slice.call(H))}var Xi=function(R){var H=!1,q;return function(){for(var fe=[],Re=0;Re<arguments.length;Re++)fe[Re]=arguments[Re];return H||(H=!0,q=R.apply(null,fe)),q}},nr=function(R,H,q,fe){var Re=R.isiOS()&&/ipad/i.test(q)===!0,Je=R.isiOS()&&!Re,vn=R.isiOS()||R.isAndroid(),Hn=vn||fe("(pointer:coarse)"),br=Re||!Je&&vn&&fe("(min-device-width:768px)"),er=Je||vn&&!br,ma=H.isSafari()&&R.isiOS()&&/safari/i.test(q)===!1,Ci=!er&&!br&&!ma;return{isiPad:me(Re),isiPhone:me(Je),isTablet:me(br),isPhone:me(er),isTouch:me(Hn),isAndroid:R.isAndroid,isiOS:R.isiOS,isWebView:me(ma),isDesktop:me(Ci)}},Fr=function(R,H){for(var q=0;q<R.length;q++){var fe=R[q];if(fe.test(H))return fe}},K=function(R,H){var q=Fr(R,H);if(!q)return{major:0,minor:0};var fe=function(Re){return Number(H.replace(q,"$"+Re))};return yt(fe(1),fe(2))},En=function(R,H){var q=String(H).toLowerCase();return R.length===0?Ne():K(R,q)},Ne=function(){return yt(0,0)},yt=function(R,H){return{major:R,minor:H}},Dr={nu:yt,detect:En,unknown:Ne},ye=function(R,H){return Dt(H.brands,function(q){var fe=q.brand.toLowerCase();return Ht(R,function(Re){var Je;return fe===((Je=Re.brand)===null||Je===void 0?void 0:Je.toLowerCase())}).map(function(Re){return{current:Re.name,version:Dr.nu(parseInt(q.version,10),0)}})})},pe=function(R,H){var q=String(H).toLowerCase();return Ht(R,function(fe){return fe.search(q)})},Fe=function(R,H){return pe(R,H).map(function(q){var fe=Dr.detect(q.versionRegexes,H);return{current:q.name,version:fe}})},je=function(R,H){return pe(R,H).map(function(q){var fe=Dr.detect(q.versionRegexes,H);return{current:q.name,version:fe}})},Be=function(R,H){return R.indexOf(H)!==-1},bt=function(R){return function(H){return H.replace(R,"")}},on=bt(/^\s+|\s+$/g),Qe=function(R){return R.length>0},qt=function(R){return!Qe(R)},Et=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Rt=function(R){return function(H){return Be(H,R)}},sn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(R){return Be(R,"edge/")&&Be(R,"chrome")&&Be(R,"safari")&&Be(R,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Et],search:function(R){return Be(R,"chrome")&&!Be(R,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(R){return Be(R,"msie")||Be(R,"trident")}},{name:"Opera",versionRegexes:[Et,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Rt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Rt("firefox")},{name:"Safari",versionRegexes:[Et,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(R){return(Be(R,"safari")||Be(R,"mobile/"))&&Be(R,"applewebkit")}}],Pn=[{name:"Windows",search:Rt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(R){return Be(R,"iphone")||Be(R,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Rt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Rt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Rt("linux"),versionRegexes:[]},{name:"Solaris",search:Rt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Rt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Rt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],or={browsers:me(sn),oses:me(Pn)},gr="Edge",na="Chrome",Er="IE",Aa="Opera",ti="Firefox",Pa="Safari",Ea=function(){return to({current:void 0,version:Dr.unknown()})},to=function(R){var H=R.current,q=R.version,fe=function(Re){return function(){return H===Re}};return{current:H,version:q,isEdge:fe(gr),isChrome:fe(na),isIE:fe(Er),isOpera:fe(Aa),isFirefox:fe(ti),isSafari:fe(Pa)}},Sa={unknown:Ea,nu:to,edge:me(gr),chrome:me(na),ie:me(Er),opera:me(Aa),firefox:me(ti),safari:me(Pa)},mr="Windows",no="iOS",ku="Android",Ad="Linux",Hr="OSX",ps="Solaris",Us="FreeBSD",jl="ChromeOS",Dn=function(){return Xr({current:void 0,version:Dr.unknown()})},Xr=function(R){var H=R.current,q=R.version,fe=function(Re){return function(){return H===Re}};return{current:H,version:q,isWindows:fe(mr),isiOS:fe(no),isAndroid:fe(ku),isOSX:fe(Hr),isLinux:fe(Ad),isSolaris:fe(ps),isFreeBSD:fe(Us),isChromeOS:fe(jl)}},ni={unknown:Dn,nu:Xr,windows:me(mr),ios:me(no),android:me(ku),linux:me(Ad),osx:me(Hr),solaris:me(ps),freebsd:me(Us),chromeos:me(jl)},bs=function(R,H,q){var fe=or.browsers(),Re=or.oses(),Je=H.bind(function(br){return ye(fe,br)}).orThunk(function(){return Fe(fe,R)}).fold(Sa.unknown,Sa.nu),vn=je(Re,R).fold(ni.unknown,ni.nu),Hn=nr(vn,Je,R,q);return{browser:Je,os:vn,deviceType:Hn}},Ed={detect:bs},Qr=function(R){return window.matchMedia(R).matches},pr=Xi(function(){return Ed.detect(navigator.userAgent,He.from(navigator.userAgentData),Qr)}),Ws=function(){return pr()},Km=function(R,H,q){return(R.compareDocumentPosition(H)&q)!==0},xf=function(R,H){return Km(R,H,Node.DOCUMENT_POSITION_CONTAINED_BY)},js=1,Tc=function(R,H){var q=H||document,fe=q.createElement("div");if(fe.innerHTML=R,!fe.hasChildNodes()||fe.childNodes.length>1)throw console.error("HTML does not have a single root node",R),new Error("HTML must have a single root node");return hl(fe.childNodes[0])},Sv=function(R,H){var q=H||document,fe=q.createElement(R);return hl(fe)},ml=function(R,H){var q=H||document,fe=q.createTextNode(R);return hl(fe)},hl=function(R){if(R==null)throw new Error("Node cannot be null or undefined");return{dom:R}},_f=function(R,H,q){return He.from(R.dom.elementFromPoint(H,q)).map(hl)},aa={fromHtml:Tc,fromTag:Sv,fromText:ml,fromDom:hl,fromPoint:_f},Gs=function(R,H){var q=R.dom;if(q.nodeType!==js)return!1;var fe=q;if(fe.matches!==void 0)return fe.matches(H);if(fe.msMatchesSelector!==void 0)return fe.msMatchesSelector(H);if(fe.webkitMatchesSelector!==void 0)return fe.webkitMatchesSelector(H);if(fe.mozMatchesSelector!==void 0)return fe.mozMatchesSelector(H);throw new Error("Browser lacks native selectors")},Mn=function(R,H){return R.dom===H.dom},Xm=function(R,H){var q=R.dom,fe=H.dom;return q===fe?!1:q.contains(fe)},Au=function(R,H){return xf(R.dom,H.dom)},Oc=function(R,H){return Ws().browser.isIE()?Au(R,H):Xm(R,H)},Ym=Gs,Gl=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Jm=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),kf=tinymce.util.Tools.resolve("tinymce.util.VK"),Zm=Object.keys,ys=function(R,H){for(var q=Zm(R),fe=0,Re=q.length;fe<Re;fe++){var Je=q[fe],vn=R[Je];H(vn,Je)}},Dc=function(R){return function(H,q){R[q]=H}},Gt=function(R,H,q,fe){var Re={};return ys(R,function(Je,vn){(H(Je,vn)?q:fe)(Je,vn)}),Re},Td=function(R,H){var q={};return Gt(R,H,Dc(q),ae),q};typeof window<"u"||Function("return this;")();var xv=function(R){var H=R.dom.nodeName;return H.toLowerCase()},_v=function(R){return R.dom.nodeType},ql=function(R){return function(H){return _v(H)===R}},Ku=ql(js),Qm=function(R){return function(H){return Ku(H)&&xv(H)===R}},To=function(R,H,q){if(E(q)||I(q)||ee(q))R.setAttribute(H,q+"");else throw console.error("Invalid call to Attribute.set. Key ",H,":: Value ",q,":: Element ",R),new Error("Attribute value was not simple")},co=function(R,H){var q=R.dom;ys(H,function(fe,Re){To(q,Re,fe)})},Eu=function(R){return Ce(R.dom.attributes,function(H,q){return H[q.name]=q.value,H},{})},qs=function(R){return He.from(R.dom.parentNode).map(aa.fromDom)},Od=function(R){return Nt(R.dom.childNodes,aa.fromDom)},Xu=function(R,H){var q=R.dom.childNodes;return He.from(q[H]).map(aa.fromDom)},Af=function(R){return Xu(R,0)},Dd=function(R){return Xu(R,R.dom.childNodes.length-1)},gl=function(R,H){var q=qs(R);q.each(function(fe){fe.dom.insertBefore(H.dom,R.dom)})},Tu=function(R,H){R.dom.appendChild(H.dom)},Lt=function(R,H){Cn(H,function(q){gl(R,q)})},bi=function(R,H){Cn(H,function(q){Tu(R,q)})},pl=function(R){var H=R.dom;H.parentNode!==null&&H.parentNode.removeChild(H)},eh=function(R,H){return aa.fromDom(R.dom.cloneNode(H))},Ef=function(R){return eh(R,!0)},Vr=function(R,H){var q=aa.fromTag(H),fe=Eu(R);return co(q,fe),q},kv=function(R,H){var q=Vr(R,H);gl(R,q);var fe=Od(R);return bi(q,fe),pl(R),q},bl=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ro=tinymce.util.Tools.resolve("tinymce.util.Tools"),Av=function(R){return function(H){return H&&H.nodeName.toLowerCase()===R}},iu=function(R){return function(H){return H&&R.test(H.nodeName)}},Yu=function(R){return R&&R.nodeType===3},xa=iu(/^(OL|UL|DL)$/),Tf=iu(/^(OL|UL)$/),Of=Av("ol"),Ev=iu(/^(LI|DT|DD)$/),Rd=iu(/^(DT|DD)$/),yl=iu(/^(TH|TD)$/),Ks=Av("br"),Tv=function(R){return R.parentNode.firstChild===R},ws=function(R,H){return H&&!!R.schema.getTextBlockElements()[H.nodeName]},Ou=function(R,H){return R&&R.nodeName in H},J=function(R,H){return Ks(H)?R.isBlock(H.nextSibling)&&!Ks(H.previousSibling):!1},_e=function(R,H,q){var fe=R.isEmpty(H);return q&&R.select("span[data-mce-type=bookmark]",H).length>0?!1:fe},Pe=function(R,H){return R.isChildOf(H,R.getRoot())},ut=function(R){return R.getParam("lists_indent_on_tab",!0)},Bt=function(R){var H=R.getParam("forced_root_block","p");return H===!1?"":H===!0?"p":H},bn=function(R){return R.getParam("forced_root_block_attrs",{})},Gr=function(R,H){var q=R.dom,fe=R.schema.getBlockElements(),Re=q.createFragment(),Je=Bt(R),vn,Hn,br;if(Je&&(Hn=q.create(Je),Hn.tagName===Je.toUpperCase()&&q.setAttribs(Hn,bn(R)),Ou(H.firstChild,fe)||Re.appendChild(Hn)),H)for(;vn=H.firstChild;){var er=vn.nodeName;!br&&(er!=="SPAN"||vn.getAttribute("data-mce-type")!=="bookmark")&&(br=!0),Ou(vn,fe)?(Re.appendChild(vn),Hn=null):Je?(Hn||(Hn=q.create(Je),Re.appendChild(Hn)),Hn.appendChild(vn)):Re.appendChild(vn)}return Je?br||Hn.appendChild(q.create("br",{"data-mce-bogus":"1"})):Re.appendChild(q.create("br")),Re},oa=bl.DOM,rr=function(R,H,q){var fe=function(er){ro.each(Re,function(ma){er.parentNode.insertBefore(ma,q.parentNode)}),oa.remove(er)},Re=oa.select('span[data-mce-type="bookmark"]',H),Je=Gr(R,q),vn=oa.createRng();vn.setStartAfter(q),vn.setEndAfter(H);for(var Hn=vn.extractContents(),br=Hn.firstChild;br;br=br.firstChild)if(br.nodeName==="LI"&&R.dom.isEmpty(br)){oa.remove(br);break}R.dom.isEmpty(Hn)||oa.insertAfter(Hn,H),oa.insertAfter(Je,H),_e(R.dom,q.parentNode)&&fe(q.parentNode),oa.remove(q),_e(R.dom,H)&&oa.remove(H)},Da=Qm("dd"),La=Qm("dt"),Rc=function(R,H){Da(H)?kv(H,"dt"):La(H)&&qs(H).each(function(q){return rr(R,q.dom,H.dom)})},Pi=function(R){La(R)&&kv(R,"dd")},Kl=function(R,H,q){H==="Indent"?Cn(q,Pi):Cn(q,function(fe){return Rc(R,fe)})},Rn=function(R,H){if(Yu(R))return{container:R,offset:H};var q=Gl.getNode(R,H);return Yu(q)?{container:q,offset:H>=R.childNodes.length?q.data.length:0}:q.previousSibling&&Yu(q.previousSibling)?{container:q.previousSibling,offset:q.previousSibling.data.length}:q.nextSibling&&Yu(q.nextSibling)?{container:q.nextSibling,offset:0}:{container:R,offset:H}},th=function(R){var H=R.cloneRange(),q=Rn(R.startContainer,R.startOffset);H.setStart(q.container,q.offset);var fe=Rn(R.endContainer,R.endOffset);return H.setEnd(fe.container,fe.offset),H},ap=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ur=function(R,H){var q=H||R.selection.getStart(!0);return R.dom.getParent(q,"OL,UL,DL",wl(R,q))},op=function(R,H){return R&&H.length===1&&H[0]===R},nh=function(R){return Qt(R.querySelectorAll("ol,ul,dl"),xa)},Xy=function(R){var H=Ur(R),q=R.selection.getSelectedBlocks();return op(H,q)?nh(H):Qt(q,function(fe){return xa(fe)&&H!==fe})},da=function(R,H){var q=ro.map(H,function(fe){var Re=R.dom.getParent(fe,"li,dd,dt",wl(R,fe));return Re||fe});return ap.unique(q)},Xs=function(R){var H=R.selection.getSelectedBlocks();return Qt(da(R,H),Ev)},Yy=function(R){return Qt(Xs(R),Rd)},wl=function(R,H){var q=R.dom.getParents(H,"TD,TH");return q.length>0?q[0]:R.getBody()},qo=function(R,H){var q=R.dom.getParents(H,"ol,ul",wl(R,H));return ta(q)},Df=function(R){var H=qo(R,R.selection.getStart()),q=Qt(R.selection.getSelectedBlocks(),Tf);return H.toArray().concat(q)},et=function(R){var H=Df(R);return rh(R,H)},rh=function(R,H){var q=Nt(H,function(fe){return qo(R,fe).getOr(fe)});return ap.unique(q)},bo=function(R,H,q){return q===void 0&&(q=oe),R.exists(function(fe){return q(fe,H)})},nb=function(R,H,q){return R.isSome()&&H.isSome()?He.some(q(R.getOrDie(),H.getOrDie())):He.none()},Rf=function(R,H){var q=H||document,fe=q.createDocumentFragment();return Cn(R,function(Re){fe.appendChild(Re.dom)}),aa.fromDom(fe)},Ov=function(R,H,q){return R.fire("ListMutation",{action:H,element:q})},De=function(R){return R.style!==void 0&&G(R.style.getPropertyValue)},ri=function(R,H,q){if(!E(q))throw console.error("Invalid call to CSS.set. Property ",H,":: Value ",q,":: Element ",R),new Error("CSS value must be a string: "+q);De(R)&&R.style.setProperty(H,q)},ah=function(R,H,q){var fe=R.dom;ri(fe,H,q)},ip=function(R,H){Tu(R.item,H.list)},rb=function(R){for(var H=1;H<R.length;H++)ip(R[H-1],R[H])},Bd=function(R,H){nb(ta(R),P(H),ip)},up=function(R,H){var q={list:aa.fromTag(H,R),item:aa.fromTag("li",R)};return Tu(q.list,q.item),q},sp=function(R,H,q){for(var fe=[],Re=0;Re<q;Re++)fe.push(up(R,H.listType));return fe},Cs=function(R,H){for(var q=0;q<R.length-1;q++)ah(R[q].item,"list-style-type","none");ta(R).each(function(fe){co(fe.list,H.listAttributes),co(fe.item,H.itemAttributes),bi(fe.item,H.content)})},Xl=function(R,H){xv(R.list)!==H.listType&&(R.list=kv(R.list,H.listType)),co(R.list,H.listAttributes)},ab=function(R,H,q){var fe=aa.fromTag("li",R);return co(fe,H),bi(fe,q),fe},ob=function(R,H){Tu(R.list,H),R.item=H},Yl=function(R,H,q){var fe=H.slice(0,q.depth);return ta(fe).each(function(Re){var Je=ab(R,q.itemAttributes,q.content);ob(Re,Je),Xl(Re,q)}),fe},_a=function(R,H,q){var fe=sp(R,q,q.depth-H.length);return rb(fe),Cs(fe,q),Bd(H,fe),H.concat(fe)},ib=function(R,H){var q=Ce(H,function(fe,Re){return Re.depth>fe.length?_a(R,fe,Re):Yl(R,fe,Re)},[]);return P(q).map(function(fe){return fe.list})},uu=function(R){return Ym(R,"OL,UL")},Ni=function(R){return Af(R).exists(uu)},yo=function(R){return Dd(R).exists(uu)},Bc=function(R){return R.depth>0},Xn=function(R){return R.isSelected},Ju=function(R){var H=Od(R),q=yo(R)?H.slice(0,-1):H;return Nt(q,Ef)},Ra=function(R,H,q){return qs(R).filter(Ku).map(function(fe){return{depth:H,dirty:!1,isSelected:q,content:Ju(R),itemAttributes:Eu(R),listAttributes:Eu(fe),listType:xv(fe)}})},Fa=function(R,H){switch(R){case"Indent":H.depth++;break;case"Outdent":H.depth--;break;case"Flatten":H.depth=0}H.dirty=!0},ub=function(R,H){R.listType=H.listType,R.listAttributes=en({},H.listAttributes)},ai=function(R){R.listAttributes=Td(R.listAttributes,function(H,q){return q!=="start"})},lp=function(R,H){var q=R[H].depth,fe=function(Je){return Je.depth===q&&!Je.dirty},Re=function(Je){return Je.depth<q};return Y(Kn(R.slice(0,H)),fe,Re).orThunk(function(){return Y(R.slice(H+1),fe,Re)})},Cl=function(R){return Cn(R,function(H,q){lp(R,q).fold(function(){H.dirty&&ai(H)},function(fe){return ub(H,fe)})}),R},Nn=function(R){var H=R,q=function(){return H},fe=function(Re){H=Re};return{get:q,set:fe}},Zu=function(R,H,q,fe){return Af(fe).filter(uu).fold(function(){H.each(function(vn){Mn(vn.start,fe)&&q.set(!0)});var Re=Ra(fe,R,q.get());H.each(function(vn){Mn(vn.end,fe)&&q.set(!1)});var Je=Dd(fe).filter(uu).map(function(vn){return qa(R,H,q,vn)}).getOr([]);return Re.toArray().concat(Je)},function(Re){return qa(R,H,q,Re)})},qa=function(R,H,q,fe){return ft(Od(fe),function(Re){var Je=uu(Re)?qa:Zu,vn=R+1;return Je(vn,H,q,Re)})},Ka=function(R,H){var q=Nn(!1),fe=0;return Nt(R,function(Re){return{sourceList:Re,entries:qa(fe,H,q,Re)}})},No=function(R,H){var q=Cl(H);return Nt(q,function(fe){var Re=Rf(fe.content);return aa.fromDom(Gr(R,Re.dom))})},wo=function(R,H){var q=Cl(H);return ib(R.contentDocument,q).toArray()},Bf=function(R,H){return ft(Eo(H,Bc),function(q){var fe=P(q).exists(Bc);return fe?wo(R,q):No(R,q)})},Ss=function(R,H){Cn(Qt(R,Xn),function(q){return Fa(H,q)})},Mr=function(R){var H=Nt(Xs(R),aa.fromDom);return nb(Ht(H,he(Ni)),Ht(Kn(H),he(Ni)),function(q,fe){return{start:q,end:fe}})},ka=function(R,H,q){var fe=Ka(H,Mr(R));Cn(fe,function(Re){Ss(Re.entries,q);var Je=Bf(R,Re.entries);Cn(Je,function(vn){Ov(R,q==="Indent"?"IndentList":"OutdentList",vn.dom)}),Lt(Re.sourceList,Je),pl(Re.sourceList)})},Yi=function(R,H){var q=Nt(et(R),aa.fromDom),fe=Nt(Yy(R),aa.fromDom),Re=!1;if(q.length||fe.length){var Je=R.selection.getBookmark();ka(R,q,H),Kl(R,H,fe),R.selection.moveToBookmark(Je),R.selection.setRng(th(R.selection.getRng())),R.nodeChanged(),Re=!0}return Re},Jl=function(R){return Yi(R,"Indent")},Oo=function(R){return Yi(R,"Outdent")},Qu=function(R){return Yi(R,"Flatten")},sb=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),$f=bl.DOM,la=function(R){var H={},q=function(fe){var Re=R[fe?"startContainer":"endContainer"],Je=R[fe?"startOffset":"endOffset"];if(Re.nodeType===1){var vn=$f.create("span",{"data-mce-type":"bookmark"});Re.hasChildNodes()?(Je=Math.min(Je,Re.childNodes.length-1),fe?Re.insertBefore(vn,Re.childNodes[Je]):$f.insertAfter(vn,Re.childNodes[Je])):Re.appendChild(vn),Re=vn,Je=0}H[fe?"startContainer":"endContainer"]=Re,H[fe?"startOffset":"endOffset"]=Je};return q(!0),R.collapsed||q(),H},Ys=function(R){var H=function(fe){var Re,Je=function(br){for(var er=br.parentNode.firstChild,ma=0;er;){if(er===br)return ma;(er.nodeType!==1||er.getAttribute("data-mce-type")!=="bookmark")&&ma++,er=er.nextSibling}return-1},vn=Re=R[fe?"startContainer":"endContainer"],Hn=R[fe?"startOffset":"endOffset"];vn&&(vn.nodeType===1&&(Hn=Je(vn),vn=vn.parentNode,$f.remove(Re),!vn.hasChildNodes()&&$f.isBlock(vn)&&vn.appendChild($f.create("br"))),R[fe?"startContainer":"endContainer"]=vn,R[fe?"startOffset":"endOffset"]=Hn)};H(!0),H();var q=$f.createRng();return q.setStart(R.startContainer,R.startOffset),R.endContainer&&q.setEnd(R.endContainer,R.endOffset),th(q)},$c=function(R){switch(R){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},su=function(R){return/\btox\-/.test(R.className)},ao=function(R,H,q){var fe=function(Je){var vn=Y(Je.parents,xa,yl).filter(function(Hn){return Hn.nodeName===H&&!su(Hn)}).isSome();q(vn)},Re=R.dom.getParents(R.selection.getNode());return fe({parents:Re}),R.on("NodeChange",fe),function(){return R.off("NodeChange",fe)}},Mc=function(R,H,q){var fe=q["list-style-type"]?q["list-style-type"]:null;R.setStyle(H,"list-style-type",fe)},Zl=function(R,H){ro.each(H,function(q,fe){R.setAttribute(fe,q)})},Ii=function(R,H,q){Zl(H,q["list-attributes"]),ro.each(R.select("li",H),function(fe){Zl(fe,q["list-item-attributes"])})},lu=function(R,H,q){Mc(R,H,q),Ii(R,H,q)},yi=function(R,H,q){ro.each(q,function(fe){var Re;return R.setStyle(H,(Re={},Re[fe]="",Re))})},Dv=function(R,H,q,fe){var Re=H[q?"startContainer":"endContainer"],Je=H[q?"startOffset":"endOffset"];for(Re.nodeType===1&&(Re=Re.childNodes[Math.min(Je,Re.childNodes.length-1)]||Re),!q&&Ks(Re.nextSibling)&&(Re=Re.nextSibling);Re.parentNode!==fe;){if(ws(R,Re)||/^(TD|TH)$/.test(Re.parentNode.nodeName))return Re;Re=Re.parentNode}return Re},Js=function(R,H,q){for(var fe=[],Re=R.dom,Je=Dv(R,H,!0,q),vn=Dv(R,H,!1,q),Hn,br=[],er=Je;er&&(br.push(er),er!==vn);er=er.nextSibling);return ro.each(br,function(ma){if(ws(R,ma)){fe.push(ma),Hn=null;return}if(Re.isBlock(ma)||Ks(ma)){Ks(ma)&&Re.remove(ma),Hn=null;return}var Ci=ma.nextSibling;if(sb.isBookmarkNode(ma)&&(xa(Ci)||ws(R,Ci)||!Ci&&ma.parentNode===q)){Hn=null;return}Hn||(Hn=Re.create("p"),ma.parentNode.insertBefore(Hn,ma),fe.push(Hn)),Hn.appendChild(ma)}),fe},Io=function(R,H,q){var fe=R.getStyle(H,"list-style-type"),Re=q?q["list-style-type"]:"";return Re=Re===null?"":Re,fe===Re},$d=function(R,H,q){var fe=R.selection.getRng(),Re="LI",Je=wl(R,R.selection.getStart(!0)),vn=R.dom;if(vn.getContentEditable(R.selection.getNode())!=="false"){H=H.toUpperCase(),H==="DL"&&(Re="DT");var Hn=la(fe),br=Js(R,fe,Je);ro.each(br,function(er){var ma,Ci=er.previousSibling,Xa=er.parentNode;Ev(Xa)||(Ci&&xa(Ci)&&Ci.nodeName===H&&Io(vn,Ci,q)?(ma=Ci,er=vn.rename(er,Re),Ci.appendChild(er)):(ma=vn.create(H),er.parentNode.insertBefore(ma,er),ma.appendChild(er),er=vn.rename(er,Re)),yi(vn,er,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),lu(vn,ma,q),Nf(R.dom,ma))}),R.selection.setRng(Ys(Hn))}},lb=function(R,H){return R&&H&&xa(R)&&R.nodeName===H.nodeName},Mf=function(R,H,q){var fe=R.getStyle(H,"list-style-type",!0),Re=R.getStyle(q,"list-style-type",!0);return fe===Re},Pf=function(R,H){return R.className===H.className},oo=function(R,H,q){return lb(H,q)&&Mf(R,H,q)&&Pf(H,q)},Nf=function(R,H){var q,fe;if(q=H.nextSibling,oo(R,H,q)){for(;fe=q.firstChild;)H.appendChild(fe);R.remove(q)}if(q=H.previousSibling,oo(R,H,q)){for(;fe=q.lastChild;)H.insertBefore(fe,H.firstChild);R.remove(q)}},If=function(R,H,q,fe){if(H.nodeName!==q){var Re=R.dom.rename(H,q);lu(R.dom,Re,fe),Ov(R,$c(q),Re)}else lu(R.dom,H,fe),Ov(R,$c(q),H)},zi=function(R,H,q,fe,Re){var Je=xa(H);if(Je&&H.nodeName===fe&&!Ql(Re))Qu(R);else{$d(R,fe,Re);var vn=la(R.selection.getRng()),Hn=Je?Mi([H],q,!0):q;ro.each(Hn,function(br){If(R,br,fe,Re)}),R.selection.setRng(Ys(vn))}},Ql=function(R){return"list-style-type"in R},zf=function(R,H,q,fe){if(H!==R.getBody())if(H)if(H.nodeName===q&&!Ql(fe)&&!su(H))Qu(R);else{var Re=la(R.selection.getRng());lu(R.dom,H,fe);var Je=R.dom.rename(H,q);Nf(R.dom,Je),R.selection.setRng(Ys(Re)),$d(R,q,fe),Ov(R,$c(q),Je)}else $d(R,q,fe),Ov(R,$c(q),H)},ec=function(R,H,q){var fe=Ur(R),Re=Xy(R),Je=O(q)?q:{};Re.length>0?zi(R,fe,Re,H,Je):zf(R,fe,H,Je)},Na=bl.DOM,Du=function(R,H){var q=H.parentNode;if(q.nodeName==="LI"&&q.firstChild===H){var fe=q.previousSibling;fe&&fe.nodeName==="LI"?(fe.appendChild(H),_e(R,q)&&Na.remove(q)):Na.setStyle(q,"listStyleType","none")}if(xa(q)){var fe=q.previousSibling;fe&&fe.nodeName==="LI"&&fe.appendChild(H)}},oh=function(R,H){var q=ro.grep(R.select("ol,ul",H));ro.each(q,function(fe){Du(R,fe)})},es=function(R,H,q,fe){var Re=H.startContainer,Je=H.startOffset;if(Yu(Re)&&(q?Je<Re.data.length:Je>0))return Re;var vn=R.schema.getNonEmptyElements();Re.nodeType===1&&(Re=Gl.getNode(Re,Je));var Hn=new Jm(Re,fe);for(q&&J(R.dom,Re)&&Hn.next();Re=Hn[q?"next":"prev2"]();)if(Re.nodeName==="LI"&&!Re.hasChildNodes()||vn[Re.nodeName]||Yu(Re)&&Re.data.length>0)return Re},ih=function(R,H){var q=H.childNodes;return q.length===1&&!xa(q[0])&&R.isBlock(q[0])},cb=function(R,H){ih(R,H)&&R.remove(H.firstChild,!0)},cp=function(R,H,q){var fe,Re=ih(R,q)?q.firstChild:q;if(cb(R,H),!_e(R,H,!0))for(;fe=H.firstChild;)Re.appendChild(fe)},Lf=function(R,H,q){var fe,Re=H.parentNode;if(!(!Pe(R,H)||!Pe(R,q))){xa(q.lastChild)&&(fe=q.lastChild),Re===q.lastChild&&Ks(Re.previousSibling)&&R.remove(Re.previousSibling);var Je=q.lastChild;Je&&Ks(Je)&&H.hasChildNodes()&&R.remove(Je),_e(R,q,!0)&&R.$(q).empty(),cp(R,H,q),fe&&q.appendChild(fe);var vn=Oc(aa.fromDom(q),aa.fromDom(H)),Hn=vn?R.getParents(H,xa,q):[];R.remove(H),Cn(Hn,function(br){_e(R,br)&&br!==R.getRoot()&&R.remove(br)})}},Ff=function(R,H,q){R.dom.$(q).empty(),Lf(R.dom,H,q),R.selection.setCursorLocation(q,0)},Pc=function(R,H,q,fe){var Re=R.dom;if(Re.isEmpty(fe))Ff(R,q,fe);else{var Je=la(H);Lf(Re,q,fe),R.selection.setRng(Ys(Je))}},In=function(R,H,q,fe){var Re=la(H);Lf(R.dom,q,fe);var Je=Ys(Re);R.selection.setRng(Je)},xs=function(R,H){var q=R.dom,fe=R.selection,Re=fe.getStart(),Je=wl(R,Re),vn=q.getParent(fe.getStart(),"LI",Je);if(vn){var Hn=vn.parentNode;if(Hn===R.getBody()&&_e(q,Hn))return!0;var br=th(fe.getRng()),er=q.getParent(es(R,br,H,Je),"LI",Je);if(er&&er!==vn)return R.undoManager.transact(function(){H?Pc(R,br,er,vn):Tv(vn)?Oo(R):In(R,br,vn,er)}),!0;if(!er&&!H&&br.startOffset===0&&br.endOffset===0)return R.undoManager.transact(function(){Qu(R)}),!0}return!1},cu=function(R,H,q){var fe=R.getParent(H.parentNode,R.isBlock,q);R.remove(H),fe&&R.isEmpty(fe)&&R.remove(fe)},Li=function(R,H){var q=R.dom,fe=R.selection.getStart(),Re=wl(R,fe),Je=q.getParent(fe,q.isBlock,Re);if(Je&&q.isEmpty(Je)){var vn=th(R.selection.getRng()),Hn=q.getParent(es(R,vn,H,Re),"LI",Re);if(Hn)return R.undoManager.transact(function(){cu(q,Je,Re),Nf(q,Hn.parentNode),R.selection.select(Hn,!0),R.selection.collapse(H)}),!0}return!1},_s=function(R,H){return xs(R,H)||Li(R,H)},fo=function(R){var H=R.selection.getStart(),q=wl(R,H),fe=R.dom.getParent(H,"LI,DT,DD",q);return fe||Xs(R).length>0?(R.undoManager.transact(function(){R.execCommand("Delete"),oh(R.dom,R.getBody())}),!0):!1},zo=function(R,H){return R.selection.isCollapsed()?_s(R,H):fo(R)},Co=function(R){R.on("keydown",function(H){H.keyCode===kf.BACKSPACE?zo(R,!1)&&H.preventDefault():H.keyCode===kf.DELETE&&zo(R,!0)&&H.preventDefault()})},Nc=function(R){return{backspaceDelete:function(H){zo(R,H)}}},wi=function(R,H){var q=Ur(R);R.undoManager.transact(function(){O(H.styles)&&R.dom.setStyles(q,H.styles),O(H.attrs)&&ys(H.attrs,function(fe,Re){return R.dom.setAttrib(q,Re,fe)})})},rn=function(R){var H=Kn(on(R).split("")),q=Nt(H,function(fe,Re){var Je=fe.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Re)*Je});return Ce(q,function(fe,Re){return fe+Re},0)},Hf=function(R){if(R--,R<0)return"";var H=R%26,q=Math.floor(R/26),fe=Hf(q),Re=String.fromCharCode("A".charCodeAt(0)+H);return fe+Re},fp=function(R){return/^[A-Z]+$/.test(R)},Yn=function(R){return/^[a-z]+$/.test(R)},ca=function(R){return/^[0-9]+$/.test(R)},uh=function(R){return ca(R)?2:fp(R)?0:Yn(R)?1:qt(R)?3:4},Sl=function(R){switch(uh(R)){case 2:return He.some({listStyleType:He.none(),start:R});case 0:return He.some({listStyleType:He.some("upper-alpha"),start:rn(R).toString()});case 1:return He.some({listStyleType:He.some("lower-alpha"),start:rn(R).toString()});case 3:return He.some({listStyleType:He.none(),start:""});case 4:return He.none()}},Ba=function(R){var H=parseInt(R.start,10);return bo(R.listStyleType,"upper-alpha")?Hf(H):bo(R.listStyleType,"lower-alpha")?Hf(H).toLowerCase():R.start},sh=function(R){var H=Ur(R);Of(H)&&R.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Ba({start:R.dom.getAttrib(H,"start","1"),listStyleType:He.some(R.dom.getStyle(H,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(q){var fe=q.getData();Sl(fe.start).each(function(Re){R.execCommand("mceListUpdate",!1,{attrs:{start:Re.start==="1"?"":Re.start},styles:{"list-style-type":Re.listStyleType.getOr("")}})}),q.close()}})},Ru=function(R,H){return function(){var q=Ur(R);return q&&q.nodeName===H}},Md=function(R){R.addCommand("mceListProps",function(){sh(R)})},Qn=function(R){R.on("BeforeExecCommand",function(H){var q=H.command.toLowerCase();q==="indent"?Jl(R):q==="outdent"&&Oo(R)}),R.addCommand("InsertUnorderedList",function(H,q){ec(R,"UL",q)}),R.addCommand("InsertOrderedList",function(H,q){ec(R,"OL",q)}),R.addCommand("InsertDefinitionList",function(H,q){ec(R,"DL",q)}),R.addCommand("RemoveList",function(){Qu(R)}),Md(R),R.addCommand("mceListUpdate",function(H,q){O(q)&&wi(R,q)}),R.addQueryStateHandler("InsertUnorderedList",Ru(R,"UL")),R.addQueryStateHandler("InsertOrderedList",Ru(R,"OL")),R.addQueryStateHandler("InsertDefinitionList",Ru(R,"DL"))},Ji=function(R){R.on("keydown",function(H){H.keyCode!==kf.TAB||kf.metaKeyPressed(H)||R.undoManager.transact(function(){(H.shiftKey?Oo(R):Jl(R))&&H.preventDefault()})})},Jy=function(R){ut(R)&&Ji(R),Co(R)},Zy=function(R){var H=function(q){return function(){return R.execCommand(q)}};R.hasPlugin("advlist")||(R.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:H("InsertOrderedList"),onSetup:function(q){return ao(R,"OL",q.setActive)}}),R.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:H("InsertUnorderedList"),onSetup:function(q){return ao(R,"UL",q.setActive)}}))},Ia=function(R){var H={text:"List properties...",icon:"ordered-list",onAction:function(){return R.execCommand("mceListProps")},onSetup:function(q){return ao(R,"OL",function(fe){return q.setDisabled(!fe)})}};R.ui.registry.addMenuItem("listprops",H),R.ui.registry.addContextMenu("lists",{update:function(q){var fe=Ur(R,q);return Of(fe)?["listprops"]:[]}})};function lh(){d.add("lists",function(R){return R.hasPlugin("rtc",!0)===!1?(Jy(R),Qn(R)):Md(R),Zy(R),Ia(R),Nc(R)})}lh()})();(function(){var d=function(u){var c=typeof u;return u===null?"null":c==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":c==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":c},m=function(u){return function(c){return d(c)===u}},w=function(u){return function(c){return typeof c===u}},S=function(u){return function(c){return u===c}},E=m("string"),O=m("object"),B=m("array"),I=S(null),G=w("boolean"),ee=S(void 0),ae=function(u){return u==null},me=function(u){return!ae(u)},ie=w("function"),oe=w("number"),he=function(){},Q=function(u,c){return function(){for(var h=[],b=0;b<arguments.length;b++)h[b]=arguments[b];return u(c.apply(null,h))}},Ct=function(u,c){return function(h){return u(c(h))}},Me=function(u){return function(){return u}},rt=function(u){return u},ve=function(u,c){return u===c};function tt(u){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];return function(){for(var b=[],x=0;x<arguments.length;x++)b[x]=arguments[x];var T=c.concat(b);return u.apply(null,T)}}var He=function(u){return function(c){return!u(c)}},Xt=function(u){return function(){throw new Error(u)}},mn=Me(!1),Nt=Me(!0),Cn=function(){return Qt},Qt=function(){var u=function(b){return b()},c=rt,h={fold:function(b,x){return b()},isSome:mn,isNone:Nt,getOr:c,getOrThunk:u,getOrDie:function(b){throw new Error(b||"error: getOrDie called on none.")},getOrNull:Me(null),getOrUndefined:Me(void 0),or:c,orThunk:u,map:Cn,each:he,bind:Cn,exists:mn,forall:Nt,filter:function(){return Cn()},toArray:function(){return[]},toString:Me("none()")};return h}(),Eo=function(u){var c=Me(u),h=function(){return x},b=function(T){return T(u)},x={fold:function(T,M){return M(u)},isSome:Nt,isNone:mn,getOr:c,getOrThunk:c,getOrDie:c,getOrNull:c,getOrUndefined:c,or:h,orThunk:h,map:function(T){return Eo(T(u))},each:function(T){T(u)},bind:b,exists:b,forall:b,filter:function(T){return T(u)?x:Qt},toArray:function(){return[u]},toString:function(){return"some("+u+")"}};return x},Ce=function(u){return u==null?Qt:Eo(u)},Y={some:Eo,none:Cn,from:Ce},Ht=Array.prototype.slice,_r=Array.prototype.indexOf,ft=Array.prototype.push,Kn=function(u,c){return _r.call(u,c)},xn=function(u,c){return Kn(u,c)>-1},P=function(u,c){for(var h=0,b=u.length;h<b;h++){var x=u[h];if(c(x,h))return!0}return!1},ta=function(u,c){for(var h=[],b=0;b<u;b++)h.push(c(b));return h},Dt=function(u,c){for(var h=u.length,b=new Array(h),x=0;x<h;x++){var T=u[x];b[x]=c(T,x)}return b},en=function(u,c){for(var h=0,b=u.length;h<b;h++){var x=u[h];c(x,h)}},Mi=function(u,c){for(var h=u.length-1;h>=0;h--){var b=u[h];c(b,h)}},Xi=function(u,c){for(var h=[],b=[],x=0,T=u.length;x<T;x++){var M=u[x],L=c(M,x)?h:b;L.push(M)}return{pass:h,fail:b}},nr=function(u,c){for(var h=[],b=0,x=u.length;b<x;b++){var T=u[b];c(T,b)&&h.push(T)}return h},Fr=function(u,c,h){return Mi(u,function(b,x){h=c(h,b,x)}),h},K=function(u,c,h){return en(u,function(b,x){h=c(h,b,x)}),h},En=function(u,c,h){for(var b=0,x=u.length;b<x;b++){var T=u[b];if(c(T,b))return Y.some(T);if(h(T,b))break}return Y.none()},Ne=function(u,c){return En(u,c,mn)},yt=function(u,c){for(var h=0,b=u.length;h<b;h++){var x=u[h];if(c(x,h))return Y.some(h)}return Y.none()},Dr=function(u){for(var c=[],h=0,b=u.length;h<b;++h){if(!B(u[h]))throw new Error("Arr.flatten item "+h+" was not an array, input: "+u);ft.apply(c,u[h])}return c},ye=function(u,c){return Dr(Dt(u,c))},pe=function(u,c){for(var h=0,b=u.length;h<b;++h){var x=u[h];if(c(x,h)!==!0)return!1}return!0},Fe=function(u){var c=Ht.call(u,0);return c.reverse(),c},je=function(u,c){for(var h={},b=0,x=u.length;b<x;b++){var T=u[b];h[String(T)]=c(T,b)}return h},Be=function(u){return[u]},bt=function(u,c){var h=Ht.call(u,0);return h.sort(c),h},on=function(u,c){return c>=0&&c<u.length?Y.some(u[c]):Y.none()},Qe=function(u){return on(u,0)},qt=function(u){return on(u,u.length-1)},Et=function(u,c){for(var h=0;h<u.length;h++){var b=c(u[h],h);if(b.isSome())return b}return Y.none()},Rt=function(){return Rt=Object.assign||function(c){for(var h,b=1,x=arguments.length;b<x;b++){h=arguments[b];for(var T in h)Object.prototype.hasOwnProperty.call(h,T)&&(c[T]=h[T])}return c},Rt.apply(this,arguments)};function sn(u,c,h){if(h||arguments.length===2)for(var b=0,x=c.length,T;b<x;b++)(T||!(b in c))&&(T||(T=Array.prototype.slice.call(c,0,b)),T[b]=c[b]);return u.concat(T||Array.prototype.slice.call(c))}var Pn=function(u){var c=!1,h;return function(){for(var b=[],x=0;x<arguments.length;x++)b[x]=arguments[x];return c||(c=!0,h=u.apply(null,b)),h}},or=function(u,c,h,b){var x=u.isiOS()&&/ipad/i.test(h)===!0,T=u.isiOS()&&!x,M=u.isiOS()||u.isAndroid(),L=M||b("(pointer:coarse)"),Z=x||!T&&M&&b("(min-device-width:768px)"),le=T||M&&!Z,Se=c.isSafari()&&u.isiOS()&&/safari/i.test(h)===!1,Xe=!le&&!Z&&!Se;return{isiPad:Me(x),isiPhone:Me(T),isTablet:Me(Z),isPhone:Me(le),isTouch:Me(L),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:Me(Se),isDesktop:Me(Xe)}},gr=function(u,c){for(var h=0;h<u.length;h++){var b=u[h];if(b.test(c))return b}},na=function(u,c){var h=gr(u,c);if(!h)return{major:0,minor:0};var b=function(x){return Number(c.replace(h,"$"+x))};return ti(b(1),b(2))},Er=function(u,c){var h=String(c).toLowerCase();return u.length===0?Aa():na(u,h)},Aa=function(){return ti(0,0)},ti=function(u,c){return{major:u,minor:c}},Pa={nu:ti,detect:Er,unknown:Aa},Ea=function(u,c){return Et(c.brands,function(h){var b=h.brand.toLowerCase();return Ne(u,function(x){var T;return b===((T=x.brand)===null||T===void 0?void 0:T.toLowerCase())}).map(function(x){return{current:x.name,version:Pa.nu(parseInt(h.version,10),0)}})})},to=function(u,c){var h=String(c).toLowerCase();return Ne(u,function(b){return b.search(h)})},Sa=function(u,c){return to(u,c).map(function(h){var b=Pa.detect(h.versionRegexes,c);return{current:h.name,version:b}})},mr=function(u,c){return to(u,c).map(function(h){var b=Pa.detect(h.versionRegexes,c);return{current:h.name,version:b}})},no=function(u,c){return u.substring(c)},ku=function(u,c,h){return c===""||u.length>=c.length&&u.substr(h,h+c.length)===c},Ad=function(u,c){return ps(u,c)?no(u,c.length):u},Hr=function(u,c){return u.indexOf(c)!==-1},ps=function(u,c){return ku(u,c,0)},Us=function(u,c){return ku(u,c,u.length-c.length)},jl=function(u){return function(c){return c.replace(u,"")}},Dn=jl(/^\s+|\s+$/g),Xr=function(u){return u.length>0},ni=function(u){return!Xr(u)},bs=function(u){var c=parseFloat(u);return isNaN(c)?Y.none():Y.some(c)},Ed=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qr=function(u){return function(c){return Hr(c,u)}},pr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return Hr(u,"edge/")&&Hr(u,"chrome")&&Hr(u,"safari")&&Hr(u,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ed],search:function(u){return Hr(u,"chrome")&&!Hr(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return Hr(u,"msie")||Hr(u,"trident")}},{name:"Opera",versionRegexes:[Ed,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qr("firefox")},{name:"Safari",versionRegexes:[Ed,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(Hr(u,"safari")||Hr(u,"mobile/"))&&Hr(u,"applewebkit")}}],Ws=[{name:"Windows",search:Qr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return Hr(u,"iphone")||Hr(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Qr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qr("linux"),versionRegexes:[]},{name:"Solaris",search:Qr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Qr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Km={browsers:Me(pr),oses:Me(Ws)},xf="Edge",js="Chrome",Tc="IE",Sv="Opera",ml="Firefox",hl="Safari",_f=function(){return aa({current:void 0,version:Pa.unknown()})},aa=function(u){var c=u.current,h=u.version,b=function(x){return function(){return c===x}};return{current:c,version:h,isEdge:b(xf),isChrome:b(js),isIE:b(Tc),isOpera:b(Sv),isFirefox:b(ml),isSafari:b(hl)}},Gs={unknown:_f,nu:aa,edge:Me(xf),chrome:Me(js),ie:Me(Tc),opera:Me(Sv),firefox:Me(ml),safari:Me(hl)},Mn="Windows",Xm="iOS",Au="Android",Oc="Linux",Ym="OSX",Gl="Solaris",Jm="FreeBSD",kf="ChromeOS",Zm=function(){return ys({current:void 0,version:Pa.unknown()})},ys=function(u){var c=u.current,h=u.version,b=function(x){return function(){return c===x}};return{current:c,version:h,isWindows:b(Mn),isiOS:b(Xm),isAndroid:b(Au),isOSX:b(Ym),isLinux:b(Oc),isSolaris:b(Gl),isFreeBSD:b(Jm),isChromeOS:b(kf)}},Dc={unknown:Zm,nu:ys,windows:Me(Mn),ios:Me(Xm),android:Me(Au),linux:Me(Oc),osx:Me(Ym),solaris:Me(Gl),freebsd:Me(Jm),chromeos:Me(kf)},Gt=function(u,c,h){var b=Km.browsers(),x=Km.oses(),T=c.bind(function(Z){return Ea(b,Z)}).orThunk(function(){return Sa(b,u)}).fold(Gs.unknown,Gs.nu),M=mr(x,u).fold(Dc.unknown,Dc.nu),L=or(M,T,u,h);return{browser:T,os:M,deviceType:L}},Td={detect:Gt},xv=function(u){return window.matchMedia(u).matches},_v=Pn(function(){return Td.detect(navigator.userAgent,Y.from(navigator.userAgentData),xv)}),ql=function(){return _v()},Ku=function(u,c,h){return(u.compareDocumentPosition(c)&h)!==0},Qm=function(u,c){return Ku(u,c,Node.DOCUMENT_POSITION_CONTAINED_BY)},To=8,co=9,Eu=11,qs=1,Od=3,Xu=function(u,c){var h=c||document,b=h.createElement("div");if(b.innerHTML=u,!b.hasChildNodes()||b.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return gl(b.childNodes[0])},Af=function(u,c){var h=c||document,b=h.createElement(u);return gl(b)},Dd=function(u,c){var h=c||document,b=h.createTextNode(u);return gl(b)},gl=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},Tu=function(u,c,h){return Y.from(u.dom.elementFromPoint(c,h)).map(gl)},Lt={fromHtml:Xu,fromTag:Af,fromText:Dd,fromDom:gl,fromPoint:Tu},bi=function(u,c){var h=u.dom;if(h.nodeType!==qs)return!1;var b=h;if(b.matches!==void 0)return b.matches(c);if(b.msMatchesSelector!==void 0)return b.msMatchesSelector(c);if(b.webkitMatchesSelector!==void 0)return b.webkitMatchesSelector(c);if(b.mozMatchesSelector!==void 0)return b.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")},pl=function(u){return u.nodeType!==qs&&u.nodeType!==co&&u.nodeType!==Eu||u.childElementCount===0},eh=function(u,c){var h=c===void 0?document:c.dom;return pl(h)?[]:Dt(h.querySelectorAll(u),Lt.fromDom)},Ef=function(u,c){var h=c===void 0?document:c.dom;return pl(h)?Y.none():Y.from(h.querySelector(u)).map(Lt.fromDom)},Vr=function(u,c){return u.dom===c.dom},kv=function(u,c){var h=u.dom,b=c.dom;return h===b?!1:h.contains(b)},bl=function(u,c){return Qm(u.dom,c.dom)},ro=function(u,c){return ql().browser.isIE()?bl(u,c):kv(u,c)},Av=bi,iu=Object.keys,Yu=Object.hasOwnProperty,xa=function(u,c){for(var h=iu(u),b=0,x=h.length;b<x;b++){var T=h[b],M=u[T];c(M,T)}},Tf=function(u,c){return Of(u,function(h,b){return{k:b,v:c(h,b)}})},Of=function(u,c){var h={};return xa(u,function(b,x){var T=c(b,x);h[T.k]=T.v}),h},Ev=function(u){return function(c,h){u[h]=c}},Rd=function(u,c,h,b){var x={};return xa(u,function(T,M){(c(T,M)?h:b)(T,M)}),x},yl=function(u,c){var h={};return Rd(u,c,Ev(h),he),h},Ks=function(u,c){var h=[];return xa(u,function(b,x){h.push(c(b,x))}),h},Tv=function(u){return Ks(u,rt)},ws=function(u){return iu(u).length},Ou=function(u,c){return J(u,c)?Y.from(u[c]):Y.none()},J=function(u,c){return Yu.call(u,c)},_e=function(u,c){return J(u,c)&&u[c]!==void 0&&u[c]!==null},Pe=function(u){for(var c in u)if(Yu.call(u,c))return!1;return!0},ut=["tfoot","thead","tbody","colgroup"],Bt=function(u){return xn(ut,u)},bn=function(u,c){return{rows:u,columns:c}},Gr=function(u,c){return{row:u,column:c}},oa=function(u,c,h){return{element:u,rowspan:c,colspan:h}},rr=function(u,c,h,b){return{element:u,rowspan:c,colspan:h,isNew:b}},Da=function(u,c,h,b,x,T){return{element:u,rowspan:c,colspan:h,row:b,column:x,isLocked:T}},La=function(u,c,h){return{element:u,cells:c,section:h}},Rc=function(u,c,h,b){return{element:u,cells:c,section:h,isNew:b}},Pi=function(u,c,h){return{element:u,isNew:c,isLocked:h}},Kl=function(u,c,h,b){return{element:u,cells:c,section:h,isNew:b}},Rn=function(u,c,h,b){return{startRow:u,startCol:c,finishRow:h,finishCol:b}},th=function(u,c,h){return{element:u,colspan:c,column:h}},ap=function(u,c){return{element:u,columns:c}};typeof window<"u"||Function("return this;")();var Ur=function(u){var c=u.dom.nodeName;return c.toLowerCase()},op=function(u){return u.dom.nodeType},nh=function(u){return function(c){return op(c)===u}},Xy=function(u){return op(u)===To||Ur(u)==="#comment"},da=nh(qs),Xs=nh(Od),Yy=nh(co),wl=nh(Eu),qo=function(u){return function(c){return da(c)&&Ur(c)===u}},Df=function(u){return Lt.fromDom(u.dom.ownerDocument)},et=function(u){return Yy(u)?u:Df(u)},rh=function(u){return Lt.fromDom(et(u).dom.defaultView)},bo=function(u){return Y.from(u.dom.parentNode).map(Lt.fromDom)},nb=function(u){return Y.from(u.dom.parentElement).map(Lt.fromDom)},Rf=function(u,c){for(var h=ie(c)?c:mn,b=u.dom,x=[];b.parentNode!==null&&b.parentNode!==void 0;){var T=b.parentNode,M=Lt.fromDom(T);if(x.push(M),h(M)===!0)break;b=T}return x},Ov=function(u){return Y.from(u.dom.previousSibling).map(Lt.fromDom)},De=function(u){return Y.from(u.dom.nextSibling).map(Lt.fromDom)},ri=function(u){return Dt(u.dom.childNodes,Lt.fromDom)},ah=function(u,c){var h=u.dom.childNodes;return Y.from(h[c]).map(Lt.fromDom)},ip=function(u){return ah(u,0)},rb=function(u){return wl(u)&&me(u.dom.host)},Bd=ie(Element.prototype.attachShadow)&&ie(Node.prototype.getRootNode),up=Me(Bd),sp=Bd?function(u){return Lt.fromDom(u.dom.getRootNode())}:et,Cs=function(u){var c=sp(u);return rb(c)?Y.some(c):Y.none()},Xl=function(u){return Lt.fromDom(u.dom.host)},ab=function(u){if(up()&&me(u.target)){var c=Lt.fromDom(u.target);if(da(c)&&ob(c)&&u.composed&&u.composedPath){var h=u.composedPath();if(h)return Qe(h)}}return Y.from(u.target)},ob=function(u){return me(u.dom.shadowRoot)},Yl=function(u){var c=Xs(u)?u.dom.parentNode:u.dom;if(c==null||c.ownerDocument===null)return!1;var h=c.ownerDocument;return Cs(Lt.fromDom(c)).fold(function(){return h.body.contains(c)},Ct(Yl,Xl))},_a=function(){return ib(Lt.fromDom(document))},ib=function(u){var c=u.dom.body;if(c==null)throw new Error("Body is not available yet");return Lt.fromDom(c)},uu=function(u,c,h){return nr(Rf(u,h),c)},Ni=function(u,c){return nr(ri(u),c)},yo=function(u,c){var h=[];return en(ri(u),function(b){c(b)&&(h=h.concat([b])),h=h.concat(yo(b,c))}),h},Bc=function(u,c,h){return uu(u,function(b){return bi(b,c)},h)},Xn=function(u,c){return Ni(u,function(h){return bi(h,c)})},Ju=function(u,c){return eh(c,u)};function Ra(u,c,h,b,x){return u(h,b)?Y.some(h):ie(x)&&x(h)?Y.none():c(h,b,x)}var Fa=function(u,c,h){for(var b=u.dom,x=ie(h)?h:mn;b.parentNode;){b=b.parentNode;var T=Lt.fromDom(b);if(c(T))return Y.some(T);if(x(T))break}return Y.none()},ub=function(u,c,h){var b=function(x,T){return T(x)};return Ra(b,Fa,u,c,h)},ai=function(u,c){var h=function(x){return c(Lt.fromDom(x))},b=Ne(u.dom.childNodes,h);return b.map(Lt.fromDom)},lp=function(u,c){var h=function(b){for(var x=0;x<b.childNodes.length;x++){var T=Lt.fromDom(b.childNodes[x]);if(c(T))return Y.some(T);var M=h(b.childNodes[x]);if(M.isSome())return M}return Y.none()};return h(u.dom)},Cl=function(u,c,h){return Fa(u,function(b){return bi(b,c)},h)},Nn=function(u,c){return ai(u,function(h){return bi(h,c)})},Zu=function(u,c){return Ef(c,u)},qa=function(u,c,h){var b=function(x,T){return bi(x,T)};return Ra(b,Cl,u,c,h)},Ka=function(u,c,h){if(E(h)||G(h)||oe(h))u.setAttribute(c,h+"");else throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",h,":: Element ",u),new Error("Attribute value was not simple")},No=function(u,c,h){Ka(u.dom,c,h)},wo=function(u,c){var h=u.dom;xa(c,function(b,x){Ka(h,x,b)})},Bf=function(u,c){xa(c,function(h,b){h.fold(function(){ka(u,b)},function(x){Ka(u.dom,b,x)})})},Ss=function(u,c){var h=u.dom.getAttribute(c);return h===null?void 0:h},Mr=function(u,c){return Y.from(Ss(u,c))},ka=function(u,c){u.dom.removeAttribute(c)},Yi=function(u){return K(u.dom.attributes,function(c,h){return c[h.name]=h.value,c},{})},Jl=function(u,c,h){return h===void 0&&(h=ve),u.exists(function(b){return h(b,c)})},Oo=function(u){for(var c=[],h=function(x){c.push(x)},b=0;b<u.length;b++)u[b].each(h);return c},Qu=function(u,c,h){return u.isSome()&&c.isSome()?Y.some(h(u.getOrDie(),c.getOrDie())):Y.none()},sb=function(u,c){return u!=null?c(u):Y.none()},$f=function(u){return u.bind(rt)},la=function(u,c){return u?Y.some(c):Y.none()},Ys=function(u){return u.style!==void 0&&ie(u.style.getPropertyValue)},$c=function(u,c,h){if(!E(h))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",h,":: Element ",u),new Error("CSS value must be a string: "+h);Ys(u)&&u.style.setProperty(c,h)},su=function(u,c){Ys(u)&&u.style.removeProperty(c)},ao=function(u,c,h){var b=u.dom;$c(b,c,h)},Mc=function(u,c){var h=u.dom;xa(c,function(b,x){$c(h,x,b)})},Zl=function(u,c){var h=u.dom,b=window.getComputedStyle(h),x=b.getPropertyValue(c);return x===""&&!Yl(u)?Ii(h,c):x},Ii=function(u,c){return Ys(u)?u.style.getPropertyValue(c):""},lu=function(u,c){var h=u.dom,b=Ii(h,c);return Y.from(b).filter(function(x){return x.length>0})},yi=function(u,c){var h=u.dom;su(h,c),Jl(Mr(u,"style").map(Dn),"")&&ka(u,"style")},Dv=function(u,c){var h=u.dom,b=c.dom;Ys(h)&&Ys(b)&&(b.style.cssText=h.style.cssText)},Js=function(u,c,h){return h===void 0&&(h=0),Mr(u,c).map(function(b){return parseInt(b,10)}).getOr(h)},Io=function(u,c){return Js(u,c,1)},$d=function(u){return qo("col")(u)?Js(u,"span",1)>1:Io(u,"colspan")>1},lb=function(u){return Io(u,"rowspan")>1},Mf=function(u,c){return parseInt(Zl(u,c),10)},Pf=Me(10),oo=Me(10),Nf=function(u,c){return If(u,c,Nt)},If=function(u,c,h){return ye(ri(u),function(b){return bi(b,c)?h(b)?[b]:[]:If(b,c,h)})},zi=function(u,c,h){if(h===void 0&&(h=mn),h(c))return Y.none();if(xn(u,Ur(c)))return Y.some(c);var b=function(x){return bi(x,"table")||h(x)};return Cl(c,u.join(","),b)},Ql=function(u,c){return zi(["td","th"],u,c)},zf=function(u){return Nf(u,"th,td")},ec=function(u){return bi(u,"colgroup")?Xn(u,"col"):ye(oh(u),function(c){return Xn(c,"col")})},Na=function(u,c){return qa(u,"table",c)},Du=function(u){return Nf(u,"tr")},oh=function(u){return Na(u).fold(Me([]),function(c){return Xn(c,"colgroup")})},es=function(u,c){return Dt(u,function(h){if(Ur(h)==="colgroup"){var b=Dt(ec(h),function(x){var T=Js(x,"span",1);return oa(x,1,T)});return La(h,b,"colgroup")}else{var b=Dt(zf(h),function(T){var M=Js(T,"rowspan",1),L=Js(T,"colspan",1);return oa(T,M,L)});return La(h,b,c(h))}})},ih=function(u){return bo(u).map(function(c){var h=Ur(c);return Bt(h)?h:"tbody"}).getOr("tbody")},cb=function(u){var c=Du(u),h=oh(u),b=sn(sn([],h,!0),c,!0);return es(b,ih)},cp=function(u,c){return es(u,function(){return c})},Lf=function(u,c,h){var b=u.cells,x=b.slice(0,c),T=b.slice(c),M=x.concat(h).concat(T);return In(u,M)},Ff=function(u,c,h){return Lf(u,c,[h])},Pc=function(u,c,h){var b=u.cells;b[c]=h},In=function(u,c){return Kl(u.element,c,u.section,u.isNew)},xs=function(u,c){var h=u.cells,b=Dt(h,c);return Kl(u.element,b,u.section,u.isNew)},cu=function(u,c){return u.cells[c]},Li=function(u,c){return cu(u,c).element},_s=function(u){return u.cells.length},fo=function(u){var c=Xi(u,function(h){return h.section==="colgroup"});return{rows:c.fail,cols:c.pass}},zo=function(u,c,h){var b=Dt(u.cells,h);return Kl(c(u.element),b,u.section,!0)},Co="data-snooker-locked-cols",Nc=function(u){return Mr(u,Co).bind(function(c){return Y.from(c.match(/\d+/g))}).map(function(c){return je(c,Nt)})},wi=function(u){var c=K(fo(u).rows,function(b,x){return en(x.cells,function(T,M){T.isLocked&&(b[M]=!0)}),b},{}),h=Ks(c,function(b,x){return parseInt(x,10)});return bt(h)},rn=function(u,c){return u+","+c},Hf=function(u,c,h){return Y.from(u.access[rn(c,h)])},fp=function(u,c,h){var b=Yn(u,function(x){return h(c,x.element)});return b.length>0?Y.some(b[0]):Y.none()},Yn=function(u,c){var h=ye(u.all,function(b){return b.cells});return nr(h,c)},ca=function(u){var c={},h=0;return en(u.cells,function(b){var x=b.colspan;ta(x,function(T){var M=h+T;c[M]=th(b.element,x,M)}),h+=x}),c},uh=function(u){var c={},h=[],b=Qe(u).map(function(Pt){return Pt.element}).bind(Na),x=b.bind(Nc).getOr({}),T=0,M=0,L=0,Z=Xi(u,function(Pt){return Pt.section==="colgroup"}),le=Z.pass,Se=Z.fail;en(Se,function(Pt){var Ft=[];en(Pt.cells,function(gn){for(var Br=0;c[rn(L,Br)]!==void 0;)Br++;for(var hn=_e(x,Br.toString()),Fn=Da(gn.element,gn.rowspan,gn.colspan,L,Br,hn),vr=0;vr<gn.colspan;vr++)for(var sr=0;sr<gn.rowspan;sr++){var ho=L+sr,li=Br+vr,ci=rn(ho,li);c[ci]=Fn,M=Math.max(M,li+1)}Ft.push(Fn)}),T++,h.push(La(Pt.element,Ft,Pt.section)),L++});var Xe=qt(le).map(function(Pt){var Ft=ca(Pt),gn=ap(Pt.element,Tv(Ft));return{colgroups:[gn],columns:Ft}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),St=Xe.columns,st=Xe.colgroups,Ye=bn(T,M);return{grid:Ye,access:c,all:h,columns:St,colgroups:st}},Sl=function(u){var c=cb(u);return uh(c)},Ba=function(u){return ye(u.all,function(c){return c.cells})},sh=function(u){return Tv(u.columns)},Ru=function(u){return iu(u.columns).length>0},Md=function(u,c){return Y.from(u.columns[c])},Qn={fromTable:Sl,generate:uh,getAt:Hf,findItem:fp,filterItems:Yn,justCells:Ba,justColumns:sh,hasColumns:Ru,getColumnAt:Md},Ji=function(u,c){var h=c.column,b=c.column+c.colspan-1,x=c.row,T=c.row+c.rowspan-1;return h<=u.finishCol&&b>=u.startCol&&x<=u.finishRow&&T>=u.startRow},Jy=function(u,c){return c.column>=u.startCol&&c.column+c.colspan-1<=u.finishCol&&c.row>=u.startRow&&c.row+c.rowspan-1<=u.finishRow},Zy=function(u,c){for(var h=!0,b=tt(Jy,c),x=c.startRow;x<=c.finishRow;x++)for(var T=c.startCol;T<=c.finishCol;T++)h=h&&Qn.getAt(u,x,T).exists(b);return h?Y.some(c):Y.none()},Ia=function(u,c){return Rn(Math.min(u.row,c.row),Math.min(u.column,c.column),Math.max(u.row+u.rowspan-1,c.row+c.rowspan-1),Math.max(u.column+u.colspan-1,c.column+c.colspan-1))},lh=function(u,c,h){var b=Qn.findItem(u,c,Vr),x=Qn.findItem(u,h,Vr);return b.bind(function(T){return x.map(function(M){return Ia(T,M)})})},R=function(u,c,h){return lh(u,c,h).bind(function(b){return Zy(u,b)})},H=function(u,c,h,b){return Qn.findItem(u,c,Vr).bind(function(x){var T=h>0?x.row+x.rowspan-1:x.row,M=b>0?x.column+x.colspan-1:x.column,L=Qn.getAt(u,T+h,M+b);return L.map(function(Z){return Z.element})})},q=function(u,c,h){return lh(u,c,h).map(function(b){var x=Qn.filterItems(u,tt(Ji,b));return Dt(x,function(T){return T.element})})},fe=function(u,c){var h=function(b,x){return ro(x,b)};return Qn.findItem(u,c,h).map(function(b){return b.element})},Re=function(u,c,h){return Na(u).bind(function(b){var x=br(b);return H(x,u,c,h)})},Je=function(u,c,h){var b=br(u);return q(b,c,h)},vn=function(u,c,h,b,x){var T=br(u),M=Vr(u,h)?Y.some(c):fe(T,c),L=Vr(u,x)?Y.some(b):fe(T,b);return M.bind(function(Z){return L.bind(function(le){return q(T,Z,le)})})},Hn=function(u,c,h){var b=br(u);return R(b,c,h)},br=Qn.fromTable,er=function(u,c){var h=bo(u);h.each(function(b){b.dom.insertBefore(c.dom,u.dom)})},ma=function(u,c){var h=De(u);h.fold(function(){var b=bo(u);b.each(function(x){Xa(x,c)})},function(b){er(b,c)})},Ci=function(u,c){var h=ip(u);h.fold(function(){Xa(u,c)},function(b){u.dom.insertBefore(c.dom,b.dom)})},Xa=function(u,c){u.dom.appendChild(c.dom)},cE=function(u,c,h){ah(u,h).fold(function(){Xa(u,c)},function(b){er(b,c)})},IS=function(u,c){er(u,c),Xa(c,u)},zS=function(u,c){en(c,function(h){er(u,h)})},fE=function(u,c){en(c,function(h,b){var x=b===0?u:c[b-1];ma(x,h)})},tc=function(u,c){en(c,function(h){Xa(u,h)})},vp=function(u){u.dom.textContent="",en(ri(u),function(c){Bu(c)})},Bu=function(u){var c=u.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},ch=function(u){var c=ri(u);c.length>0&&zS(u,c),Bu(u)},Qy=function(u,c){var h=function(T){if(!u(T))throw new Error("Can only get "+c+" value of a "+c+" node");return b(T).getOr("")},b=function(T){return u(T)?Y.from(T.dom.nodeValue):Y.none()},x=function(T,M){if(!u(T))throw new Error("Can only set raw "+c+" value of a "+c+" node");T.dom.nodeValue=M};return{get:h,getOption:b,set:x}},dp=Qy(Xs,"text"),fb=function(u){return dp.get(u)},LS=function(u){return dp.getOption(u)},vE=function(u,c){return dp.set(u,c)},nc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function mp(){var u=function(le){return Lt.fromDom(le.dom.cloneNode(!1))},c=function(le){return et(le).dom},h=function(le){return da(le)?Ur(le)==="body"?!0:xn(nc,Ur(le)):!1},b=function(le){return da(le)?xn(["br","img","hr","input"],Ur(le)):!1},x=function(le){return da(le)&&Ss(le,"contenteditable")==="false"},T=function(le,Se){return le.dom.compareDocumentPosition(Se.dom)},M=function(le,Se){var Xe=Yi(le);wo(Se,Xe)},L=function(le){var Se=Ur(le);return xn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Se)},Z=function(le){return da(le)?Mr(le,"lang"):Y.none()};return{up:Me({selector:Cl,closest:qa,predicate:Fa,all:Rf}),down:Me({selector:Ju,predicate:yo}),styles:Me({get:Zl,getRaw:lu,set:ao,remove:yi}),attrs:Me({get:Ss,set:No,remove:ka,copyTo:M}),insert:Me({before:er,after:ma,afterAll:fE,append:Xa,appendAll:tc,prepend:Ci,wrap:IS}),remove:Me({unwrap:ch,remove:Bu}),create:Me({nu:Lt.fromTag,clone:u,text:Lt.fromText}),query:Me({comparePosition:T,prevSibling:Ov,nextSibling:De}),property:Me({children:ri,name:Ur,parent:bo,document:c,isText:Xs,isComment:Xy,isElement:da,isSpecial:L,getLanguage:Z,getText:fb,setText:vE,isBoundary:h,isEmptyTag:b,isNonEditable:x}),eq:Vr,is:Av}}var dE=function(u,c,h,b){var x=h[0],T=h.slice(1);return b(u,c,x,T)},e2=function(u,c,h){return h.length>0?dE(u,c,h,mE):Y.none()},mE=function(u,c,h,b){var x=c(u,h);return Fr(b,function(T,M){var L=c(u,M);return hE(u,T,L)},x)},hE=function(u,c,h){return c.bind(function(b){return h.filter(tt(u.eq,b))})},fh=function(u,c){return tt(u.eq,c)},hp=function(u,c,h,b){b===void 0&&(b=mn);var x=[c].concat(u.up().all(c)),T=[h].concat(u.up().all(h)),M=function(Se){var Xe=yt(Se,b);return Xe.fold(function(){return Se},function(St){return Se.slice(0,St+1)})},L=M(x),Z=M(T),le=Ne(L,function(Se){return P(Z,fh(u,Se))});return{firstpath:L,secondpath:Z,shared:le}},FS=e2,HS=hp,ts=mp(),yn=function(u,c){return FS(ts,function(h,b){return u(b)},c)},Vf=function(u,c,h){return HS(ts,u,c,h)},gp=function(u){return Cl(u,"table")},Rv=function(u,c,h){var b=function(x){return function(T){return h!==void 0&&h(T)||Vr(T,x)}};return Vr(u,c)?Y.some({boxes:Y.some([u]),start:u,finish:c}):gp(u).bind(function(x){return gp(c).bind(function(T){if(Vr(x,T))return Y.some({boxes:Je(x,u,c),start:u,finish:c});if(ro(x,T)){var M=Bc(c,"td,th",b(x)),L=M.length>0?M[M.length-1]:c;return Y.some({boxes:vn(x,u,x,c,T),start:u,finish:L})}else if(ro(T,x)){var M=Bc(u,"td,th",b(T)),Z=M.length>0?M[M.length-1]:u;return Y.some({boxes:vn(T,u,x,c,T),start:u,finish:Z})}else return Vf(u,c).shared.bind(function(le){return qa(le,"table",h).bind(function(Se){var Xe=Bc(c,"td,th",b(Se)),St=Xe.length>0?Xe[Xe.length-1]:c,st=Bc(u,"td,th",b(Se)),Ye=st.length>0?st[st.length-1]:u;return Y.some({boxes:vn(Se,u,x,c,T),start:Ye,finish:St})})})})})},vh=function(u,c){var h=Ju(u,c);return h.length>0?Y.some(h):Y.none()},t2=function(u,c){return Ne(u,function(h){return bi(h,c)})},xl=function(u,c,h){return Zu(u,c).bind(function(b){return Zu(u,h).bind(function(x){return yn(gp,[b,x]).map(function(T){return{first:b,last:x,table:T}})})})},Pd=function(u,c){return Cl(u,"table").bind(function(h){return Zu(h,c).bind(function(b){return Rv(b,u).bind(function(x){return x.boxes.map(function(T){return{boxes:T,start:x.start,finish:x.finish}})})})})},dh=function(u,c,h,b,x){return t2(u,x).bind(function(T){return Re(T,c,h).bind(function(M){return Pd(M,b)})})},vo=function(u,c){return vh(u,c)},oi=function(u,c,h){return xl(u,c,h).bind(function(b){var x=function(Z){return Vr(u,Z)},T="thead,tfoot,tbody,table",M=Cl(b.first,T,x),L=Cl(b.last,T,x);return M.bind(function(Z){return L.bind(function(le){return Vr(Z,le)?Hn(b.table,b.first,b.last):Y.none()})})})},pp=function(u){if(!B(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var c=[],h={};return en(u,function(b,x){var T=iu(b);if(T.length!==1)throw new Error("one and only one name per case");var M=T[0],L=b[M];if(h[M]!==void 0)throw new Error("duplicate key detected:"+M);if(M==="cata")throw new Error("cannot have a case named cata (sorry)");if(!B(L))throw new Error("case arguments must be an array");c.push(M),h[M]=function(){for(var Z=[],le=0;le<arguments.length;le++)Z[le]=arguments[le];var Se=Z.length;if(Se!==L.length)throw new Error("Wrong number of arguments to case "+M+". Expected "+L.length+" ("+L+"), got "+Se);var Xe=function(St){var st=iu(St);if(c.length!==st.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+st.join(","));var Ye=pe(c,function(Pt){return xn(st,Pt)});if(!Ye)throw new Error("Not all branches were specified when using match. Specified: "+st.join(", ")+`
Required: `+c.join(", "));return St[M].apply(null,Z)};return{fold:function(){for(var St=[],st=0;st<arguments.length;st++)St[st]=arguments[st];if(St.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+St.length);var Ye=St[x];return Ye.apply(null,Z)},match:Xe,log:function(St){console.log(St,{constructors:c,constructor:M,params:Z})}}}}),h},Ic={generate:pp},bp=Ic.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),vb=function(u,c,h,b){return u.fold(c,h,b)},db=bp.none,gE=bp.multiple,mh=bp.single,Fi=function(u,c,h){var b=function(){return vo(u(),h).fold(function(){return c().fold(db,mh)},function(x){return gE(x)})};return{get:b}},VS=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ha=function(u,c){return Lt.fromDom(u.dom.cloneNode(c))},_l=function(u){return Ha(u,!1)},Yr=function(u){return Ha(u,!0)},Bv=function(u,c){var h=Lt.fromTag(c),b=Yi(u);return wo(h,b),h},Zs=function(u,c){var h=Bv(u,c),b=ri(Yr(u));return tc(h,b),h},pE=function(u,c){var h=Bv(u,c);er(u,h);var b=ri(u);return tc(h,b),Bu(u),h},Lo=function(u,c){var h=function(L,Z){if(!oe(Z)&&!Z.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+Z);var le=L.dom;Ys(le)&&(le.style[u]=Z+"px")},b=function(L){var Z=c(L);if(Z<=0||Z===null){var le=Zl(L,u);return parseFloat(le)||0}return Z},x=b,T=function(L,Z){return K(Z,function(le,Se){var Xe=Zl(L,Se),St=Xe===void 0?0:parseInt(Xe,10);return isNaN(St)?le:le+St},0)},M=function(L,Z,le){var Se=T(L,le),Xe=Z>Se?Z-Se:0;return Xe};return{set:h,get:b,getOuter:x,aggregate:T,max:M}},fu=function(){var u=ql().browser;return u.isIE()||u.isEdge()},US=function(u,c){return bs(u).getOr(c)},it=function(u,c,h){return US(Zl(u,c),h)},$u=function(u){return Zl(u,"box-sizing")},Uf=function(u,c,h,b){var x=it(u,"padding-"+h,0),T=it(u,"padding-"+b,0),M=it(u,"border-"+h+"-width",0),L=it(u,"border-"+b+"-width",0);return c-x-T-M-L},zn=function(u,c){var h=u.dom,b=h.getBoundingClientRect().height||h.offsetHeight;return c==="border-box"?b:Uf(u,b,"top","bottom")},ks=function(u,c){var h=u.dom,b=h.getBoundingClientRect().width||h.offsetWidth;return c==="border-box"?b:Uf(u,b,"left","right")},bE=function(u){return fu()?zn(u,$u(u)):it(u,"height",u.dom.offsetHeight)},Zi=function(u){return fu()?ks(u,$u(u)):it(u,"width",u.dom.offsetWidth)},hh=function(u){return ks(u,"content-box")},zc=Lo("width",function(u){return u.dom.offsetWidth}),kl=function(u){return zc.get(u)},Hi=function(u){return zc.getOuter(u)},Pr=hh,rc=Zi,Nd=function(u,c){c===void 0&&(c=Nt);var h=u.grid,b=ta(h.columns,rt),x=ta(h.rows,rt);return Dt(b,function(T){var M=function(){return ye(x,function(le){return Qn.getAt(u,le,T).filter(function(Se){return Se.column===T}).toArray()})},L=function(le){return le.colspan===1&&c(le.element)},Z=function(){return Qn.getAt(u,0,T)};return pa(M,L,Z)})},pa=function(u,c,h){var b=u(),x=Ne(b,c),T=x.orThunk(function(){return Y.from(b[0]).orThunk(h)});return T.map(function(M){return M.element})},$v=function(u){var c=u.grid,h=ta(c.rows,rt),b=ta(c.columns,rt);return Dt(h,function(x){var T=function(){return ye(b,function(Z){return Qn.getAt(u,x,Z).filter(function(le){return le.row===x}).fold(Me([]),function(le){return[le]})})},M=function(Z){return Z.rowspan===1},L=function(){return Qn.getAt(u,x,0)};return pa(T,M,L)})},ns=function(u,c){if(c<0||c>=u.length-1)return Y.none();var h=u[c].fold(function(){var x=Fe(u.slice(0,c));return Et(x,function(T,M){return T.map(function(L){return{value:L,delta:M+1}})})},function(x){return Y.some({value:x,delta:0})}),b=u[c+1].fold(function(){var x=u.slice(c+1);return Et(x,function(T,M){return T.map(function(L){return{value:L,delta:M+1}})})},function(x){return Y.some({value:x,delta:1})});return h.bind(function(x){return b.map(function(T){var M=T.delta+x.delta;return Math.abs(T.value-x.value)/M})})},rs=function(u,c){return function(h){return yE(h)==="rtl"?c:u}},yE=function(u){return Zl(u,"direction")==="rtl"?"rtl":"ltr"},Te=Lo("height",function(u){var c=u.dom;return Yl(u)?c.getBoundingClientRect().height:c.offsetHeight}),vu=function(u){return Te.get(u)},ac=function(u){return Te.getOuter(u)},gh=bE,As=function(u,c){var h=function(b,x){return As(u+b,c+x)};return{left:u,top:c,translate:h}},fa=As,ba=function(u){var c=u.getBoundingClientRect();return fa(c.left,c.top)},Mu=function(u,c){return u!==void 0?u:c!==void 0?c:0},Wf=function(u){var c=u.dom.ownerDocument,h=c.body,b=c.defaultView,x=c.documentElement;if(h===u.dom)return fa(h.offsetLeft,h.offsetTop);var T=Mu(b==null?void 0:b.pageYOffset,x.scrollTop),M=Mu(b==null?void 0:b.pageXOffset,x.scrollLeft),L=Mu(x.clientTop,h.clientTop),Z=Mu(x.clientLeft,h.clientLeft);return n2(u).translate(M-Z,T-L)},n2=function(u){var c=u.dom,h=c.ownerDocument,b=h.body;return b===c?fa(b.offsetLeft,b.offsetTop):Yl(u)?ba(c):fa(0,0)},_n=function(u,c){return{row:u,y:c}},mb=function(u,c){return{col:u,x:c}},Es=function(u){var c=Wf(u);return c.left+Hi(u)},WS=function(u){return Wf(u).left},yp=function(u,c){return mb(u,WS(c))},wp=function(u,c){return mb(u,Es(c))},r2=function(u){return Wf(u).top},a2=function(u,c){return _n(u,r2(c))},Lc=function(u,c){return _n(u,r2(c)+ac(c))},jf=function(u,c,h){if(h.length===0)return[];var b=Dt(h.slice(1),function(T,M){return T.map(function(L){return u(M,L)})}),x=h[h.length-1].map(function(T){return c(h.length-1,T)});return b.concat([x])},wE=function(u){return-u},o2={delta:rt,positions:function(u){return jf(a2,Lc,u)},edge:r2},CE={delta:rt,edge:WS,positions:function(u){return jf(yp,wp,u)}},jS={delta:wE,edge:Es,positions:function(u){return jf(wp,yp,u)}},Cp=rs(CE,jS),ph={delta:function(u,c){return Cp(c).delta(u,c)},positions:function(u,c){return Cp(c).positions(u,c)},edge:function(u){return Cp(u).edge(u)}},GS={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Fc=function(){var u="[0-9]+",c="[+-]?"+u,h="[eE]"+c,b="\\.",x=function(L){return"(?:"+L+")?"},T=["Infinity",u+b+x(u)+x(h),b+u+x(h),u+x(h)].join("|"),M="[+-]?(?:"+T+")";return new RegExp("^("+M+")(.*)$")}(),bh=function(u,c){return P(c,function(h){return P(GS[h],function(b){return u===b})})},i2=function(u,c){var h=Y.from(Fc.exec(u));return h.bind(function(b){var x=Number(b[1]),T=b[2];return bh(T,c)?Y.some({value:x,unit:T}):Y.none()})},qS=/(\d+(\.\d+)?)%/,SE=/(\d+(\.\d+)?)px|em/,xE=qo("col"),Do=function(u,c,h){var b=nb(u).getOrThunk(function(){return ib(Df(u))});return c(u)/h(b)*100},Hc=function(u,c){ao(u,"width",c+"px")},Al=function(u,c){ao(u,"width",c+"%")},Mv=function(u,c){ao(u,"height",c+"px")},KS=function(u){return gh(u)+"px"},El=function(u,c,h,b){var x=Na(u).map(function(T){var M=h(T);return Math.floor(c/100*M)}).getOr(c);return b(u,x),x},Id=function(u,c,h,b){var x=parseFloat(u);return Us(u,"%")&&Ur(c)!=="table"?El(c,x,h,b):x},u2=function(u){var c=KS(u);return c?Id(c,u,vu,Mv):vu(u)},s2=function(u,c,h){var b=h(u),x=Io(u,c);return b/x},Gf=function(u,c){return lu(u,c).orThunk(function(){return Mr(u,c).map(function(h){return h+"px"})})},Qs=function(u){return Gf(u,"width")},Si=function(u){return Gf(u,"height")},hb=function(u){return Do(u,kl,Pr)},l2=function(u){return xE(u)?kl(u):rc(u)},zd=function(u){return s2(u,"rowspan",u2)},yh=function(u){var c=Qs(u);return c.bind(function(h){return i2(h,["fixed","relative","empty"])})},wh=function(u,c,h){ao(u,"width",c+h)},_E=function(u){return kl(u)+"px"},Ch=function(u){return Do(u,kl,Pr)+"%"},c2=function(u){return Qs(u).exists(function(c){return qS.test(c)})},kE=function(u){return Qs(u).exists(function(c){return SE.test(c)})},Ya=function(u){return Qs(u).isNone()},gb=Me(qS),Pv=qo("col"),f2=function(u){return Qs(u).getOrThunk(function(){return l2(u)+"px"})},v2=function(u){return Si(u).getOrThunk(function(){return zd(u)+"px"})},el=function(u){return Dt(Qn.justColumns(u),function(c){return Y.from(c.element)})},Ts=function(u){var c=ql().browser,h=c.isChrome()||c.isFirefox();return Pv(u)?h:!0},Ld=function(u,c,h,b,x,T){return u.filter(b).fold(function(){return T(ns(h,c))},function(M){return x(M)})},Nv=function(u,c,h,b){var x=Nd(u),T=Qn.hasColumns(u)?el(u):x,M=[Y.some(ph.edge(c))].concat(Dt(ph.positions(x,c),function(Z){return Z.map(function(le){return le.x})})),L=He($d);return Dt(T,function(Z,le){return Ld(Z,le,M,L,function(Se){if(Ts(Se))return h(Se);var Xe=sb(x[le],rt);return Ld(Xe,le,M,L,function(St){return b(Y.some(kl(St)))},b)},b)})},pb=function(u){return u.map(function(c){return c+"px"}).getOr("")},Sp=function(u,c){return Nv(u,c,f2,pb)},d2=function(u,c,h){return Nv(u,c,hb,function(b){return b.fold(function(){return h.minCellWidth()},function(x){return x/h.pixelWidth()*100})})},Fd=function(u,c,h){return Nv(u,c,l2,function(b){return b.getOrThunk(h.minCellWidth)})},bb=function(u,c,h,b,x){var T=$v(u),M=[Y.some(h.edge(c))].concat(Dt(h.positions(T,c),function(L){return L.map(function(Z){return Z.y})}));return Dt(T,function(L,Z){return Ld(L,Z,M,He(lb),b,x)})},AE=function(u,c,h){return bb(u,c,h,zd,function(b){return b.getOrThunk(oo)})},m2=function(u,c,h){return bb(u,c,h,v2,pb)},Os=function(u,c){return function(){return Yl(u)?c(u):parseFloat(lu(u,"width").getOr("0"))}},as=function(u){var c=Os(u,kl),h=Me(0),b=function(x,T){return Fd(x,u,T)};return{width:c,pixelWidth:c,getWidths:b,getCellDelta:h,singleColumnWidth:Me([0]),minCellWidth:h,setElementWidth:he,adjustTableWidth:he,isRelative:!0,label:"none"}},Sh=function(u){var c=Os(u,function(Z){return parseFloat(Ch(Z))}),h=Os(u,kl),b=function(Z){return Z/h()*100},x=function(Z,le){return[100-Z]},T=function(){return Pf()/h()*100},M=function(Z){var le=c(),Se=Z/100*le,Xe=le+Se;Al(u,Xe)},L=function(Z,le){return d2(Z,u,le)};return{width:c,pixelWidth:h,getWidths:L,getCellDelta:b,singleColumnWidth:x,minCellWidth:T,setElementWidth:Al,adjustTableWidth:M,isRelative:!0,label:"percent"}},Tl=function(u){var c=Os(u,kl),h=rt,b=function(M,L){var Z=Math.max(Pf(),M+L);return[Z-M]},x=function(M){var L=c()+M;Hc(u,L)},T=function(M,L){return Fd(M,u,L)};return{width:c,pixelWidth:c,getWidths:T,getCellDelta:h,singleColumnWidth:b,minCellWidth:Pf,setElementWidth:Hc,adjustTableWidth:x,isRelative:!1,label:"pixel"}},Vi=function(u,c){var h=gb().exec(c);return h!==null?Sh(u):Tl(u)},yb=function(u){var c=Qs(u);return c.fold(function(){return as(u)},function(h){return Vi(u,h)})},qf={getTableSize:yb,pixelSize:Tl,percentageSize:Sh,noneSize:as},XS=function(u,c,h,b,x,T){return{minRow:u,minCol:c,maxRow:h,maxCol:b,allCells:x,selectedCells:T}},xi=function(u,c){var h=u.grid.columns,b=u.grid.rows,x=b,T=h,M=0,L=0,Z=[],le=[];return xa(u.access,function(Se){if(Z.push(Se),c(Se)){le.push(Se);var Xe=Se.row,St=Xe+Se.rowspan-1,st=Se.column,Ye=st+Se.colspan-1;Xe<x?x=Xe:St>M&&(M=St),st<T?T=st:Ye>L&&(L=Ye)}}),XS(x,T,M,L,Z,le)},h2=function(u,c,h){var b=u[h].element,x=Lt.fromTag("td");Xa(x,Lt.fromTag("br"));var T=c?Xa:Ci;T(b,x)},wb=function(u,c,h,b){for(var x=c.grid.columns,T=c.grid.rows,M=0;M<T;M++)for(var L=!1,Z=0;Z<x;Z++)if(!(M<h.minRow||M>h.maxRow||Z<h.minCol||Z>h.maxCol)){var le=Qn.getAt(c,M,Z).filter(b).isNone();le?h2(u,L,M):L=!0}},Rr=function(u,c,h,b){xa(h.columns,function(M){(M.column<c.minCol||M.column>c.maxCol)&&Bu(M.element)});var x=nr(Nf(u,"tr"),function(M){return M.dom.childElementCount===0});en(x,Bu),(c.minCol===c.maxCol||c.minRow===c.maxRow)&&en(Nf(u,"th,td"),function(M){ka(M,"rowspan"),ka(M,"colspan")}),ka(u,Co),ka(u,"data-snooker-col-series");var T=qf.getTableSize(u);T.adjustTableWidth(b)},kn=function(u,c,h,b){if(b.minCol===0&&c.grid.columns===b.maxCol+1)return 0;var x=Fd(c,u,h),T=K(x,function(le,Se){return le+Se},0),M=K(x.slice(b.minCol,b.maxCol+1),function(le,Se){return le+Se},0),L=M/T*h.pixelWidth(),Z=L-h.pixelWidth();return h.getCellDelta(Z)},Ds=function(u,c){var h=function(St){return bi(St.element,c)},b=Yr(u),x=cb(b),T=qf.getTableSize(u),M=Qn.generate(x),L=xi(M,h),Z="th:not("+c+"),td:not("+c+")",le=If(b,"th,td",function(St){return bi(St,Z)});en(le,Bu),wb(x,M,L,h);var Se=Qn.fromTable(u),Xe=kn(u,Se,T,L);return Rr(b,L,M,Xe),b},Cb=" ",Ol=function(u){return Ur(u)==="img"?1:LS(u).fold(function(){return ri(u).length},function(c){return c.length})},YS=function(u){return LS(u).filter(function(c){return c.trim().length!==0||c.indexOf(Cb)>-1}).isSome()},va=["img","br"],g2=function(u){var c=YS(u);return c||xn(va,Ur(u))},Sb=function(u){return lp(u,g2)},xb=function(u){return vt(u,g2)},vt=function(u,c){var h=function(b){for(var x=ri(b),T=x.length-1;T>=0;T--){var M=x[T];if(c(M))return Y.some(M);var L=h(M);if(L.isSome())return L}return Y.none()};return h(u)},p2={scope:["row","col"]},b2=function(u){return function(){var c=Lt.fromTag("td",u.dom);return Xa(c,Lt.fromTag("br",u.dom)),c}},Iv=function(u){return function(){return Lt.fromTag("col",u.dom)}},xp=function(u){return function(){return Lt.fromTag("colgroup",u.dom)}},Hd=function(u){return function(){return Lt.fromTag("tr",u.dom)}},zv=function(u,c,h){var b=Zs(u,c);return xa(h,function(x,T){x===null?ka(b,T):No(b,T,x)}),b},Vd=function(u){return u},xh=function(u,c,h){var b=Sb(u);return b.map(function(x){var T=h.join(","),M=Bc(x,T,function(L){return Vr(L,u)});return Fr(M,function(L,Z){var le=_l(Z);return ka(le,"contenteditable"),Xa(L,le),le},c)}).getOr(c)},So=function(u,c){xa(p2,function(h,b){return Mr(u,b).filter(function(x){return xn(h,x)}).each(function(x){return No(c,b,x)})})},jn=function(u,c,h){var b=function(M,L){Dv(M.element,L),yi(L,"height"),M.colspan!==1&&yi(L,"width")},x=function(M){var L=Lt.fromTag(Ur(M.element),c.dom),Z=h.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),le=Z.length>0?xh(M.element,L,Z):L;return Xa(le,Lt.fromTag("br")),b(M,L),So(M.element,L),u(M.element,L),L},T=function(M){var L=Lt.fromTag(Ur(M.element),c.dom);return b(M,L),u(M.element,L),L};return{col:T,colgroup:xp(c),row:Hd(c),cell:x,replace:zv,colGap:Iv(c),gap:b2(c)}},Rs=function(u){return{col:Iv(u),colgroup:xp(u),row:Hd(u),cell:b2(u),replace:Vd,colGap:Iv(u),gap:b2(u)}},JS=function(u,c){var h=c||document,b=h.createElement("div");return b.innerHTML=u,ri(Lt.fromDom(b))},os=function(u){return Dt(u,Lt.fromDom)},y2=function(u){return u.nodeName.toLowerCase()},Vc=function(u){return Lt.fromDom(u.getBody())},Kf=function(u){return u.getBoundingClientRect().width},Xf=function(u){return u.getBoundingClientRect().height},Bs=function(u){return function(c){return Vr(c,Vc(u))}},Lv=function(u){return u?u.replace(/px$/,""):""},Ko=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},du=function(u){ka(u,"data-mce-style");var c=function(h){return ka(h,"data-mce-style")};en(zf(u),c),en(ec(u),c),en(Du(u),c)},Uc=function(u,c){var h=u.dom.getStyle(c,"width")||u.dom.getAttrib(c,"width");return Y.from(h).filter(Xr)},Fv=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},_h=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},Ud=function(u){return Lt.fromDom(u.selection.getStart())},ln=function(u){return Lt.fromDom(u.selection.getEnd())},ii=function(u){return vb(u.get(),Me([]),rt,Be)},oc=function(u){var c=function(x,T){return Mr(x,T).exists(function(M){return parseInt(M,10)>1})},h=function(x){return c(x,"rowspan")||c(x,"colspan")},b=ii(u);return b.length>0&&pe(b,h)?Y.some(b):Y.none()},Wc=function(u,c,h){return vb(c.get(),Y.none,function(b){return b.length<=1?Y.none():oi(u,h.firstSelectedSelector,h.lastSelectedSelector).map(function(x){return{bounds:x,cells:b}})},Y.none)},_p="data-mce-selected",ZS="td["+_p+"],th["+_p+"]",_b="["+_p+"]",Hv="data-mce-first-selected",Vv="td["+Hv+"],th["+Hv+"]",kh="data-mce-last-selected",kp="td["+kh+"],th["+kh+"]",EE=_b,$s={selected:_p,selectedSelector:ZS,firstSelected:Hv,firstSelectedSelector:Vv,lastSelected:kh,lastSelectedSelector:kp},w2=function(u){return{element:u,mergable:Y.none(),unmergable:Y.none(),selection:[u]}},Wd=function(u,c,h){return{element:h,mergable:Wc(c,u,$s),unmergable:oc(u),selection:ii(u)}},Uv=function(u,c,h){return{element:u,clipboard:c,generators:h}},C2=function(u,c,h,b){return{selection:ii(u),clipboard:h,generators:b}},Wv=function(u){return Na(u).bind(function(c){return vo(c,$s.firstSelectedSelector)}).fold(Me(u),function(c){return c[0]})},QS=function(u){return function(c,h){var b=Ur(c),x=b==="col"||b==="colgroup"?Wv(c):c;return qa(x,u,h)}},Va=QS("th,td,caption"),_i=QS("th,td"),Ui=function(u){return ii(u)},ex=function(u,c){var h=_i(u),b=h.bind(function(x){return Na(x)}).map(function(x){return Du(x)});return Qu(h,b,function(x,T){return nr(T,function(M){return P(os(M.dom.cells),function(L){return Ss(L,c)==="1"||Vr(L,x)})})}).getOr([])},kb=function(u){return Na(u[0]).map(function(c){var h=Ds(c,EE);return du(h),[h]})},TE=function(u,c){return Dt(c,function(h){return u.selection.serializer.serialize(h.dom,{})}).join("")},tx=function(u){return Dt(u,function(c){return c.dom.innerText}).join("")},Dl=function(u,c,h){u.on("BeforeGetContent",function(b){var x=function(T){b.preventDefault(),kb(T).each(function(M){b.content=b.format==="text"?tx(M):TE(u,M)})};b.selection===!0&&vb(c.get(),he,x,he)}),u.on("BeforeSetContent",function(b){if(b.selection===!0&&b.paste===!0){var x=Ui(c);Qe(x).each(function(T){Na(T).each(function(M){var L=nr(JS(b.content),function(St){return Ur(St)!=="meta"}),Z=qo("table");if(L.length===1&&Z(L[0])){b.preventDefault();var le=Lt.fromDom(u.getDoc()),Se=Rs(le),Xe=Uv(T,L[0],Se);h.pasteCells(M,Xe).each(function(){u.focus()})}})})}})},OE=Ic.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Ah=Rt({},OE),Ab=function(u,c){return u.length===0?Ah.none():u.length===1?Ah.only(0):c===0?Ah.left(0,1):c===u.length-1?Ah.right(c-1,c):c>0&&c<u.length-1?Ah.middle(c-1,c,c+1):Ah.none()},DE=function(u,c,h,b,x){var T=u.slice(0),M=Ab(u,c),L=Me(Dt(T,Me(0))),Z=function(St){return b.singleColumnWidth(T[St],h)},le=function(St,st){return x.calcLeftEdgeDeltas(T,St,st,h,b.minCellWidth(),b.isRelative)},Se=function(St,st,Ye){return x.calcMiddleDeltas(T,St,st,Ye,h,b.minCellWidth(),b.isRelative)},Xe=function(St,st){return x.calcRightEdgeDeltas(T,St,st,h,b.minCellWidth(),b.isRelative)};return M.fold(L,Z,le,Se,Xe)},nx=function(u,c,h){for(var b=0,x=u;x<c;x++)b+=h[x]!==void 0?h[x]:0;return b},S2=function(u,c){var h=Qn.justCells(u);return Dt(h,function(b){var x=nx(b.column,b.column+b.colspan,c);return{element:b.element,width:x,colspan:b.colspan}})},x2=function(u,c){var h=Qn.justColumns(u);return Dt(h,function(b,x){return{element:b.element,width:c[x],colspan:b.colspan}})},_2=function(u,c){var h=Qn.justCells(u);return Dt(h,function(b){var x=nx(b.row,b.row+b.rowspan,c);return{element:b.element,height:x,rowspan:b.rowspan}})},RE=function(u,c){return Dt(u.all,function(h,b){return{element:h.element,height:c[b]}})},jv=function(u){return Fr(u,function(c,h){return c+h},0)},Gv=function(u,c){return Qn.hasColumns(u)?x2(u,c):S2(u,c)},ia=function(u,c,h){var b=Gv(u,c);en(b,function(x){h.setElementWidth(x.element,x.width)})},Eb=function(u,c,h,b,x){var T=Qn.fromTable(u),M=x.getCellDelta(c),L=x.getWidths(T,x),Z=h===T.grid.columns-1,le=b.clampTableDelta(L,h,M,x.minCellWidth(),Z),Se=DE(L,h,le,x,b),Xe=Dt(Se,function(St,st){return St+L[st]});ia(T,Xe,x),b.resizeTable(x.adjustTableWidth,le,Z)},ic=function(u,c,h,b){var x=Qn.fromTable(u),T=AE(x,u,b),M=Dt(T,function(Se,Xe){return h===Xe?Math.max(c+Se,oo()):Se}),L=_2(x,M),Z=RE(x,M);en(Z,function(Se){Mv(Se.element,Se.height)}),en(L,function(Se){Mv(Se.element,Se.height)});var le=jv(M);Mv(u,le)},rx=function(u,c,h,b,x){var T=Qn.generate(c),M=b.getWidths(T,b),L=b.pixelWidth(),Z=x.calcRedestributedWidths(M,L,h.pixelDelta,b.isRelative),le=Z.newSizes,Se=Z.delta;ia(T,le,b),b.adjustTableWidth(Se)},uc=function(u,c,h,b){var x=Qn.generate(c),T=b.getWidths(x,b);ia(x,T,b)},jc=function(u){return Dt(u,Me(0))},qv=function(u,c,h,b,x){return x(u.slice(0,c)).concat(b).concat(x(u.slice(h)))},Tb=function(u){return function(c,h,b,x){if(u(b)){var T=Math.max(x,c[h]-Math.abs(b)),M=Math.abs(T-c[h]);return b>=0?M:-M}else return b}},Ap=Tb(function(u){return u<0}),Ob=Tb(Nt),Db=function(){var u=function(L,Z,le,Se,Xe){var St=Ap(L,Z,Se,Xe);return qv(L,Z,le+1,[St,0],jc)},c=function(L,Z,le,Se){var Xe=(100+le)/100,St=Math.max(Se,(L[Z]+le)/Xe);return Dt(L,function(st,Ye){var Pt=Ye===Z?St:st/Xe;return Pt-st})},h=function(L,Z,le,Se,Xe,St){return St?c(L,Z,Se,Xe):u(L,Z,le,Se,Xe)},b=function(L,Z,le,Se,Xe,St,st){return h(L,le,Se,Xe,St,st)},x=function(L,Z){return L(Z)},T=function(L,Z,le,Se,Xe,St){if(St)return c(L,le,Se,Xe);var st=Ap(L,le,Se,Xe);return jc(L.slice(0,le)).concat([st])},M=function(L,Z,le,Se){if(Se){var Xe=Z+le,St=Xe/Z,st=Dt(L,function(Ye){return Ye/St});return{delta:St*100-100,newSizes:st}}else return{delta:le,newSizes:L}};return{resizeTable:x,clampTableDelta:Ap,calcLeftEdgeDeltas:h,calcMiddleDeltas:b,calcRightEdgeDeltas:T,calcRedestributedWidths:M}},jd=function(){var u=function(M,L,Z,le,Se){var Xe=le>=0?Z:L,St=Ob(M,Xe,le,Se);return qv(M,L,Z+1,[St,-St],jc)},c=function(M,L,Z,le,Se,Xe){return u(M,Z,le,Se,Xe)},h=function(M,L,Z){Z&&M(L)},b=function(M,L,Z,le,Se,Xe){if(Xe)return jc(M);var St=le/M.length;return Dt(M,Me(St))},x=function(M,L,Z,le,Se){if(Se){if(Z>=0)return Z;var Xe=K(M,function(St,st){return St+st-le},0);return Math.max(-Xe,Z)}else return Ap(M,L,Z,le)},T=function(M,L,Z,le){return{delta:0,newSizes:M}};return{resizeTable:h,clampTableDelta:x,calcLeftEdgeDeltas:u,calcMiddleDeltas:c,calcRightEdgeDeltas:b,calcRedestributedWidths:T}},BE=function(u,c){var h=Y.from(u.dom.documentElement).map(Lt.fromDom).getOr(u);return{parent:Me(h),view:Me(u),origin:Me(fa(0,0)),isResizable:c}},Rb=function(u,c,h){var b=function(){return Wf(c)};return{parent:Me(c),view:Me(u),origin:b,isResizable:h}},Eh=function(u,c,h){return{parent:Me(c),view:Me(u),origin:Me(fa(0,0)),isResizable:h}},Ep={only:BE,detached:Rb,body:Eh},Tp=Ic.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),k2=function(u,c,h){var b=h.substring(0,h.length-u.length),x=parseFloat(b);return b===x.toString()?c(x):Tp.invalid(h)},Fo=function(u){return Us(u,"%")?k2("%",Tp.percent,u):Us(u,"px")?k2("px",Tp.pixels,u):Tp.invalid(u)},Gd=Rt(Rt({},Tp),{from:Fo}),Ro=function(u,c){return Dt(u,function(h){var b=Gd.from(h);return b.fold(function(){return h},function(x){var T=x/c*100;return T+"%"},function(x){return x+"%"})})},mu=function(u,c,h){var b=h/c;return Dt(u,function(x){var T=Gd.from(x);return T.fold(function(){return x},function(M){return M*b+"px"},function(M){return M/100*h+"px"})})},qd=function(u,c){var h=u.fold(function(){return Me("")},function(b){var x=b/c;return Me(x+"px")},function(){var b=100/c;return Me(b+"%")});return ta(c,h)},Ms=function(u,c,h){return u.fold(function(){return c},function(b){return mu(c,h,b)},function(b){return Ro(c,h)})},Bb=function(u,c,h){var b=Gd.from(h),x=pe(u,function(T){return T==="0px"})?qd(b,u.length):Ms(b,u,c);return ax(x)},Gc=function(u,c){return u.length===0?c:Fr(u,function(h,b){return Gd.from(b).fold(Me(0),rt,rt)+h},0)},Th=function(u,c){var h=Math.floor(u);return{value:h+c,remainder:u-h}},Oh=function(u,c){return Gd.from(u).fold(Me(u),function(h){return h+c+"px"},function(h){return h+c+"%"})},ax=function(u){if(u.length===0)return u;var c=Fr(u,function(b,x){var T=Gd.from(x).fold(function(){return{value:x,remainder:0}},function(M){return Th(M,"px")},function(M){return{value:M+"%",remainder:0}});return{output:[T.value].concat(b.output),remainder:b.remainder+T.remainder}},{output:[],remainder:0}),h=c.output;return h.slice(0,h.length-1).concat([Oh(h[h.length-1],Math.round(c.remainder))])},ox=Gd.from,$E=function(u,c,h){en(c,function(b){var x=u.slice(b.column,b.colspan+b.column),T=Gc(x,Pf());ao(b.element,"width",T+h)})},ME=function(u,c,h){en(c,function(b,x){var T=Gc([u[x]],Pf());ao(b.element,"width",T+h)})},PE=function(u,c,h,b){en(h,function(x){var T=u.slice(x.row,x.rowspan+x.row),M=Gc(T,oo());ao(x.element,"height",M+b)}),en(c,function(x,T){ao(x.element,"height",u[T])})},ix=function(u){return ox(u).fold(Me("px"),Me("px"),Me("%"))},$b=function(u,c,h){var b=Qn.fromTable(u),x=b.all,T=Qn.justCells(b),M=Qn.justColumns(b);c.each(function(L){var Z=ix(L),le=kl(u),Se=Sp(b,u),Xe=Bb(Se,le,L);Qn.hasColumns(b)?ME(Xe,M,Z):$E(Xe,T,Z),ao(u,"width",L)}),h.each(function(L){var Z=ix(L),le=vu(u),Se=m2(b,u,o2),Xe=Bb(Se,le,L);PE(Xe,x,T,Z),ao(u,"height",L)})},Mb=c2,ki=kE,Pb=Ya,A2=function(u){var c=Qn.fromTable(u);return c.grid},tl=function(u){var c=[],h=function(T){if(T===void 0)throw new Error("Event bind error: undefined handler");c.push(T)},b=function(T){c=nr(c,function(M){return M!==T})},x=function(){for(var T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];var L={};en(u,function(Z,le){L[Z]=T[le]}),en(c,function(Z){Z(L)})};return{bind:h,unbind:b,trigger:x}},$a=function(u){var c=Tf(u,function(b){return{bind:b.bind,unbind:b.unbind}}),h=Tf(u,function(b){return b.trigger});return{registry:c,trigger:h}},Ps=function(u,c){var h=null,b=function(){I(h)||(clearTimeout(h),h=null)},x=function(){for(var T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];b(),h=setTimeout(function(){h=null,u.apply(null,T)},c)};return{cancel:b,throttle:x}},Kv=function(u){return u.slice(0).sort()},E2=function(u,c){throw new Error("All required keys ("+Kv(u).join(", ")+") were not specified. Specified keys were: "+Kv(c).join(", ")+".")},Nb=function(u){throw new Error("Unsupported keys for object: "+Kv(u).join(", "))},ux=function(u,c){if(!B(c))throw new Error("The "+u+" fields must be an array. Was: "+c+".");en(c,function(h){if(!E(h))throw new Error("The value "+h+" in the "+u+" fields was not a string.")})},Jn=function(u,c){throw new Error("All values need to be of type: "+c+". Keys ("+Kv(u).join(", ")+") were not.")},Dh=function(u){var c=Kv(u),h=Ne(c,function(b,x){return x<c.length-1&&b===c[x+1]});h.each(function(b){throw new Error("The field: "+b+" occurs more than once in the combined fields: ["+c.join(", ")+"].")})},Ib=function(u,c){return T2(u,c,{validate:ie,label:"function"})},T2=function(u,c,h){if(c.length===0)throw new Error("You must specify at least one required field.");return ux("required",c),Dh(c),function(b){var x=iu(b),T=pe(c,function(L){return xn(x,L)});T||E2(c,x),u(c,x);var M=nr(c,function(L){return!h.validate(b[L],L)});return M.length>0&&Jn(M,h.label),b}},Ho=function(u,c){var h=nr(c,function(b){return!xn(u,b)});h.length>0&&Nb(h)},nl=function(u){return Ib(Ho,u)},sx=nl(["compare","extract","mutate","sink"]),Kd=nl(["element","start","stop","destroy"]),Ta=nl(["forceDrop","drop","move","delayDrop"]),Xd=function(){var u=Y.none(),c=function(){u=Y.none()},h=function(T,M){var L=u.map(function(Z){return T.compare(Z,M)});return u=Y.some(M),L},b=function(T,M){var L=M.extract(T);L.each(function(Z){var le=h(M,Z);le.each(function(Se){x.trigger.move(Se)})})},x=$a({move:tl(["info"])});return{onEvent:b,reset:c,events:x.registry}},zb=function(){var u=$a({move:tl(["info"])});return{onEvent:he,reset:he,events:u.registry}},Rh=function(){var u=zb(),c=Xd(),h=u,b=function(){h.reset(),h=c},x=function(){h.reset(),h=u},T=function(L,Z){h.onEvent(L,Z)},M=function(){return h===c};return{on:b,off:x,isOn:M,onEvent:T,events:c.events}},O2=function(u,c,h){var b=!1,x=$a({start:tl([]),stop:tl([])}),T=Rh(),M=function(){st.stop(),T.isOn()&&(T.off(),x.trigger.stop())},L=Ps(M,200),Z=function(Pt){st.start(Pt),T.on(),x.trigger.start()},le=function(Pt){L.cancel(),T.onEvent(Pt,c)};T.events.move.bind(function(Pt){c.mutate(u,Pt.info)});var Se=function(){b=!0},Xe=function(){b=!1},St=function(Pt){return function(){for(var Ft=[],gn=0;gn<arguments.length;gn++)Ft[gn]=arguments[gn];b&&Pt.apply(null,Ft)}},st=c.sink(Ta({forceDrop:M,drop:St(M),move:St(le),delayDrop:St(L.throttle)}),h),Ye=function(){st.destroy()};return{element:st.element,go:Z,on:Se,off:Xe,destroy:Ye,events:x.registry}},lx=function(u,c,h,b,x,T,M){return{target:u,x:c,y:h,stop:b,prevent:x,kill:T,raw:M}},Op=function(u){var c=Lt.fromDom(ab(u).getOr(u.target)),h=function(){return u.stopPropagation()},b=function(){return u.preventDefault()},x=Q(b,h);return lx(c,u.clientX,u.clientY,h,b,x,u)},cx=function(u,c){return function(h){u(h)&&c(Op(h))}},Yf=function(u,c,h,b,x){var T=cx(h,b);return u.dom.addEventListener(c,T,x),{unbind:tt(D2,u,c,T,x)}},hu=function(u,c,h,b){return Yf(u,c,h,b,!1)},D2=function(u,c,h,b){u.dom.removeEventListener(c,h,b)},NE=Nt,sc=function(u,c,h){return hu(u,c,NE,h)},Jf=Op,Lb=function(u,c){var h=Ss(u,c);return h===void 0||h===""?[]:h.split(" ")},IE=function(u,c,h){var b=Lb(u,c),x=b.concat([h]);return No(u,c,x.join(" ")),!0},zE=function(u,c,h){var b=nr(Lb(u,c),function(x){return x!==h});return b.length>0?No(u,c,b.join(" ")):ka(u,c),!1},Yd=function(u){return u.dom.classList!==void 0},Jd=function(u){return Lb(u,"class")},Fb=function(u,c){return IE(u,"class",c)},Nr=function(u,c){return zE(u,"class",c)},Vo=function(u,c){Yd(u)?u.dom.classList.add(c):Fb(u,c)},gu=function(u){var c=Yd(u)?u.dom.classList:Jd(u);c.length===0&&ka(u,"class")},Pu=function(u,c){if(Yd(u)){var h=u.dom.classList;h.remove(c)}else Nr(u,c);gu(u)},ha=function(u,c){return Yd(u)&&u.dom.classList.contains(c)},Xv=function(u){var c=u.replace(/\./g,"-"),h=function(b){return c+"-"+b};return{resolve:h}},Hb=Xv("ephox-dragster"),Xo=Hb.resolve,qc=function(u){var c=Rt({layerClass:Xo("blocker")},u),h=Lt.fromTag("div");No(h,"role","presentation"),Mc(h,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Vo(h,Xo("blocker")),Vo(h,c.layerClass);var b=Me(h),x=function(){Bu(h)};return{element:b,destroy:x}},LE=function(u,c){return fa(c.left-u.left,c.top-u.top)},FE=function(u){return Y.some(fa(u.x,u.y))},Vb=function(u,c){u.mutate(c.left,c.top)},Ub=function(u,c){var h=qc(c),b=sc(h.element(),"mousedown",u.forceDrop),x=sc(h.element(),"mouseup",u.drop),T=sc(h.element(),"mousemove",u.move),M=sc(h.element(),"mouseout",u.delayDrop),L=function(){h.destroy(),x.unbind(),T.unbind(),M.unbind(),b.unbind()},Z=function(Se){Xa(Se,h.element())},le=function(){Bu(h.element())};return Kd({element:h.element,start:Z,stop:le,destroy:L})},R2=sx({compare:LE,extract:FE,sink:Ub,mutate:Vb}),B2=function(u,c){c===void 0&&(c={});var h=c.mode!==void 0?c.mode:R2;return O2(u,h,c)},Zd=function(u){return qa(u,"[contenteditable]")},Dp=function(u,c){return c===void 0&&(c=!1),!ql().browser.isIE()&&Yl(u)?u.dom.isContentEditable:Zd(u).fold(Me(c),function(h){return $2(h)==="true"})},$2=function(u){return u.dom.contentEditable},M2=Xv("ephox-snooker"),Bh=M2.resolve,Ai=function(){var u=$a({drag:tl(["xDelta","yDelta"])}),c=function(h,b){u.trigger.drag(h,b)};return{mutate:c,events:u.registry}},is=function(){var u=$a({drag:tl(["xDelta","yDelta","target"])}),c=Y.none(),h=Ai();h.events.drag.bind(function(T){c.each(function(M){u.trigger.drag(T.xDelta,T.yDelta,M)})});var b=function(T){c=Y.some(T)},x=function(){return c};return{assign:b,get:x,mutate:h.mutate,events:u.registry}},Rp=function(u,c,h,b,x){var T=Lt.fromTag("div");return Mc(T,{position:"absolute",left:c-b/2+"px",top:h+"px",height:x+"px",width:b+"px"}),wo(T,{"data-column":u,role:"presentation"}),T},Uo=function(u,c,h,b,x){var T=Lt.fromTag("div");return Mc(T,{position:"absolute",left:c+"px",top:h-x/2+"px",height:x+"px",width:b+"px"}),wo(T,{"data-row":u,role:"presentation"}),T},Wb=Bh("resizer-bar"),Zf=Bh("resizer-rows"),P2=Bh("resizer-cols"),N2=7,fx=function(u,c){return ye(u.all,function(h,b){return c(h.element)?[b]:[]})},I2=function(u,c){var h=[];return ta(u.grid.columns,function(b){var x=Qn.getColumnAt(u,b).map(function(T){return T.element});x.forall(c)&&h.push(b)}),nr(h,function(b){var x=Qn.filterItems(u,function(T){return T.column===b});return pe(x,function(T){return c(T.element)})})},Bp=function(u){var c=Ju(u.parent(),"."+Wb);en(c,Bu)},jb=function(u,c,h){var b=u.origin();en(c,function(x){x.each(function(T){var M=h(b,T);Vo(M,Wb),Xa(u.parent(),M)})})},vx=function(u,c,h,b){jb(u,c,function(x,T){var M=Rp(T.col,T.x-x.left,h.top-x.top,N2,b);return Vo(M,P2),M})},HE=function(u,c,h,b){jb(u,c,function(x,T){var M=Uo(T.row,h.left-x.left,T.y-x.top,b,N2);return Vo(M,Zf),M})},Wi=function(u,c,h,b,x){var T=Wf(h),M=c.isResizable,L=b.length>0?o2.positions(b,h):[],Z=L.length>0?fx(u,M):[],le=nr(L,function(st,Ye){return P(Z,function(Pt){return Ye===Pt})});HE(c,le,T,Hi(h));var Se=x.length>0?ph.positions(x,h):[],Xe=Se.length>0?I2(u,M):[],St=nr(Se,function(st,Ye){return P(Xe,function(Pt){return Ye===Pt})});vx(c,St,T,ac(h))},Yo=function(u,c){if(Bp(u),u.isResizable(c)){var h=Qn.fromTable(c),b=$v(h),x=Nd(h);Wi(h,u,c,b,x)}},pu=function(u,c){var h=Ju(u.parent(),"."+Wb);en(h,c)},bu=function(u){pu(u,function(c){ao(c,"display","none")})},Nu=function(u){pu(u,function(c){ao(c,"display","block")})},Bo=function(u){return ha(u,Zf)},Gb=function(u){return ha(u,P2)},qb=Bh("resizer-bar-dragging"),z2=function(u){var c=is(),h=B2(c,{}),b=Y.none(),x=function(Ye,Pt){return Y.from(Ss(Ye,Pt))};c.events.drag.bind(function(Ye){x(Ye.target,"data-row").each(function(Pt){var Ft=Mf(Ye.target,"top");ao(Ye.target,"top",Ft+Ye.yDelta+"px")}),x(Ye.target,"data-column").each(function(Pt){var Ft=Mf(Ye.target,"left");ao(Ye.target,"left",Ft+Ye.xDelta+"px")})});var T=function(Ye,Pt){var Ft=Mf(Ye,Pt),gn=Js(Ye,"data-initial-"+Pt,0);return Ft-gn};h.events.stop.bind(function(){c.get().each(function(Ye){b.each(function(Pt){x(Ye,"data-row").each(function(Ft){var gn=T(Ye,"top");ka(Ye,"data-initial-top"),st.trigger.adjustHeight(Pt,gn,parseInt(Ft,10))}),x(Ye,"data-column").each(function(Ft){var gn=T(Ye,"left");ka(Ye,"data-initial-left"),st.trigger.adjustWidth(Pt,gn,parseInt(Ft,10))}),Yo(u,Pt)})})});var M=function(Ye,Pt){st.trigger.startAdjust(),c.assign(Ye),No(Ye,"data-initial-"+Pt,Mf(Ye,Pt)),Vo(Ye,qb),ao(Ye,"opacity","0.2"),h.go(u.parent())},L=sc(u.parent(),"mousedown",function(Ye){Bo(Ye.target)&&M(Ye.target,"top"),Gb(Ye.target)&&M(Ye.target,"left")}),Z=function(Ye){return Vr(Ye,u.view())},le=function(Ye){return qa(Ye,"table",Z).filter(Dp)},Se=sc(u.view(),"mouseover",function(Ye){le(Ye.target).fold(function(){Yl(Ye.target)&&Bp(u)},function(Pt){b=Y.some(Pt),Yo(u,Pt)})}),Xe=function(){L.unbind(),Se.unbind(),h.destroy(),Bp(u)},St=function(Ye){Yo(u,Ye)},st=$a({adjustHeight:tl(["table","delta","row"]),adjustWidth:tl(["table","delta","column"]),startAdjust:tl([])});return{destroy:Xe,refresh:St,on:h.on,off:h.off,hideBars:tt(bu,u),showBars:tt(Nu,u),events:st.registry}},Qd=function(u,c,h){var b=o2,x=ph,T=z2(u),M=$a({beforeResize:tl(["table","type"]),afterResize:tl(["table","type"]),startDrag:tl([])});return T.events.adjustHeight.bind(function(L){var Z=L.table;M.trigger.beforeResize(Z,"row");var le=b.delta(L.delta,Z);ic(Z,le,L.row,b),M.trigger.afterResize(Z,"row")}),T.events.startAdjust.bind(function(L){M.trigger.startDrag()}),T.events.adjustWidth.bind(function(L){var Z=L.table;M.trigger.beforeResize(Z,"col");var le=x.delta(L.delta,Z),Se=h(Z);Eb(Z,le,L.column,c,Se),M.trigger.afterResize(Z,"col")}),{on:T.on,off:T.off,hideBars:T.hideBars,showBars:T.showBars,destroy:T.destroy,events:M.registry}},Yv={create:Qd},Kb=function(u,c){return u.fire("newrow",{node:c})},Xb=function(u,c){return u.fire("newcell",{node:c})},Yb=function(u,c,h,b,x){u.fire("ObjectResizeStart",{target:c,width:h,height:b,origin:x})},$h=function(u,c,h,b,x){u.fire("ObjectResized",{target:c,width:h,height:b,origin:x})},Mh=function(u,c,h,b,x){u.fire("TableSelectionChange",{cells:c,start:h,finish:b,otherCells:x})},dx=function(u){u.fire("TableSelectionClear")},Kc=function(u,c,h){u.fire("TableModified",Rt(Rt({},h),{table:c}))},em={structure:!1,style:!0},za={structure:!0,style:!1},VE={structure:!0,style:!0},UE="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Jb={"border-collapse":"collapse",width:"100%"},WE=ta(5,function(u){var c=u+1+"px";return{title:c,value:c}}),mx=Dt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(u){return{title:u,value:u.toLowerCase()}}),It=function(u){var c;if(Qf(u)){var h=u.dom,b=(c=h.getParent(u.selection.getStart(),h.isBlock))!==null&&c!==void 0?c:u.getBody(),x=Pr(Lt.fromDom(b));return Rt(Rt({},Jb),{width:x+"px"})}else return Ph(u)?yl(Jb,function(T,M){return M!=="width"}):Jb},jE={border:"1"},Wo="preservetable",L2=function(u){return u.getParam("table_sizing_mode","auto")},tm=function(u){return u.getParam("table_responsive_width")},hx=function(u){return u.getParam("table_border_widths",WE,"array")},Qi=function(u){return u.getParam("table_border_styles",mx,"array")},$p=function(u){return u.getParam("table_default_attributes",jE,"object")},Zb=function(u){return u.getParam("table_default_styles",It(u),"object")},Mp=function(u){return u.getParam("table_resize_bars",!0,"boolean")},lc=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},Pp=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},Np=function(u){return u.getParam("table_row_advtab",!0,"boolean")},yu=function(u){return u.getParam("table_advtab",!0,"boolean")},cc=function(u){return u.getParam("table_appearance_options",!0,"boolean")},gx=function(u){return u.getParam("table_grid",!0,"boolean")},eu=function(u){return u.getParam("table_style_by_css",!1,"boolean")},Xc=function(u){return u.getParam("table_cell_class_list",[],"array")},Jv=function(u){return u.getParam("table_row_class_list",[],"array")},Ip=function(u){return u.getParam("table_class_list",[],"array")},Ke=function(u){return L2(u)==="relative"||tm(u)===!0},Qf=function(u){return L2(u)==="fixed"||tm(u)===!1},Ph=function(u){return L2(u)==="responsive"},GE=function(u){return u.getParam("table_toolbar",UE)},Qb=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},Rl=function(u){var c="section",h=u.getParam("table_header_type",c,"string"),b=["section","cells","sectionCells","auto"];return xn(b,h)?h:c},e0=function(u){var c=["preservetable","resizetable"],h=u.getParam("table_column_resizing",Wo,"string");return Ne(c,function(b){return b===h}).getOr(Wo)},F2=function(u){return e0(u)==="preservetable"},H2=function(u){return e0(u)==="resizetable"},t0=function(u){var c=u.getParam("table_clone_elements");return E(c)?Y.some(c.split(/[ ,]/)):Array.isArray(c)?Y.some(c):Y.none()},V2=function(u){var c=u.getParam("object_resizing",!0);return E(c)?c==="table":c},U2=function(u){return u.getParam("table_background_color_map",[],"array")},W2=function(u){return u.getParam("table_border_color_map",[],"array")},j2=function(u,c){return Ke(u)?qf.percentageSize(c):Qf(u)?qf.pixelSize(c):qf.getTableSize(c)},nm=function(u){ka(u,"width")},px=function(u){var c=Ch(u);$b(u,Y.some(c),Y.none()),nm(u)},qE=function(u){var c=_E(u);$b(u,Y.some(c),Y.none()),nm(u)},KE=function(u){yi(u,"width");var c=ec(u),h=c.length>0?c:zf(u);en(h,function(b){yi(b,"width"),nm(b)}),nm(u)},Nh=px,Ih=qE,n0=KE,G2=function(u){var c=Qn.fromTable(u);Qn.hasColumns(c)||en(zf(u),function(h){var b=Zl(h,"width");ao(h,"width",b),ka(h,"width")})},zh=function(){var u=Lt.fromTag("div");return Mc(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Xa(_a(),u),u},q2=function(u,c){return u.inline?Ep.body(Vc(u),zh(),c):Ep.only(Lt.fromDom(u.getDoc()),c)},io=function(u,c){u.inline&&Bu(c.parent())},zp="bar-",mo=function(u){return Ss(u,"data-mce-resize")!=="false"},r0=function(u){var c=Y.none(),h=Y.none(),b=Y.none(),x,T,M=function(Ye){return Ye.nodeName==="TABLE"},L=function(){return h},Z=function(){return b.getOr(Ep.only(Lt.fromDom(u.getBody()),mo))},le=function(Ye){return j2(u,Ye)},Se=function(){return F2(u)?jd():Db()},Xe=function(Ye){return A2(Ye).columns},St=function(Ye,Pt,Ft){var gn=Us(Pt,"e");if(T===""&&Nh(Ye),Ft!==x&&T!==""){ao(Ye,"width",T);var Br=Se(),hn=le(Ye),Fn=F2(u)||gn?Xe(Ye)-1:0;Eb(Ye,Ft-x,Fn,Br,hn)}else if(Fv(T)){var vr=parseFloat(T.replace("%","")),sr=Ft*vr/x;ao(Ye,"width",sr+"%")}_h(T)&&G2(Ye)},st=function(){h.each(function(Ye){Ye.destroy()}),b.each(function(Ye){io(u,Ye)})};return u.on("init",function(){var Ye=q2(u,mo);if(b=Y.some(Ye),V2(u)&&Mp(u)){var Pt=Se(),Ft=Yv.create(Ye,Pt,le);Ft.on(),Ft.events.startDrag.bind(function(gn){c=Y.some(u.selection.getRng())}),Ft.events.beforeResize.bind(function(gn){var Br=gn.table.dom;Yb(u,Br,Kf(Br),Xf(Br),zp+gn.type)}),Ft.events.afterResize.bind(function(gn){var Br=gn.table,hn=Br.dom;du(Br),c.each(function(Fn){u.selection.setRng(Fn),u.focus()}),$h(u,hn,Kf(hn),Xf(hn),zp+gn.type),u.undoManager.add()}),h=Y.some(Ft)}}),u.on("ObjectResizeStart",function(Ye){var Pt=Ye.target;if(M(Pt)){var Ft=Lt.fromDom(Pt);en(u.dom.select(".mce-clonedresizable"),function(gn){u.dom.addClass(gn,"mce-"+e0(u)+"-columns")}),!ki(Ft)&&Qf(u)?Ih(Ft):!Mb(Ft)&&Ke(u)&&Nh(Ft),Pb(Ft)&&ps(Ye.origin,zp)&&Nh(Ft),x=Ye.width,T=Ph(u)?"":Uc(u,Pt).getOr("")}}),u.on("ObjectResized",function(Ye){var Pt=Ye.target;if(M(Pt)){var Ft=Lt.fromDom(Pt),gn=Ye.origin;ps(gn,"corner-")&&St(Ft,gn,Ye.width),du(Ft),Kc(u,Ft.dom,em)}}),u.on("SwitchMode",function(){L().each(function(Ye){u.mode.isReadOnly()?Ye.hideBars():Ye.showBars()})}),{lazyResize:L,lazyWire:Z,destroy:st}},rm=function(u,c){return{element:u,offset:c}},K2=function(u,c,h){return u.property().isText(c)&&u.property().getText(c).trim().length===0||u.property().isComment(c)?h(c).bind(function(b){return K2(u,b,h).orThunk(function(){return Y.some(b)})}):Y.none()},Lp=function(u,c){if(u.property().isText(c))return u.property().getText(c).length;var h=u.property().children(c);return h.length},X2=function(u,c){var h=K2(u,c,u.query().prevSibling).getOr(c);if(u.property().isText(h))return rm(h,Lp(u,h));var b=u.property().children(h);return b.length>0?X2(u,b[b.length-1]):rm(h,Lp(u,h))},bx=X2,XE=mp(),yx=function(u){return bx(XE,u)},YE=function(u,c){var h=Io(u,"colspan");if(h===1){var b=yh(u);b.each(function(x){var T=x.value/2;wh(u,T,x.unit),wh(c,T,x.unit)})}},a0=qo("th"),Fp=function(u){return pe(u,function(c){return a0(c.element)})},JE=function(u,c){return u&&c?"sectionCells":u?"section":"cells"},wx=function(u){var c=u.section==="thead",h=Jl(Y2(u.cells),"th");return c||h?{type:"header",subType:JE(c,h)}:u.section==="tfoot"?{type:"footer"}:{type:"body"}},Y2=function(u){var c=nr(u,function(h){return a0(h.element)});return c.length===0?Y.some("td"):c.length===u.length?Y.some("th"):Y.none()},ZE=function(u){var c=Dt(u,function(T){return wx(T).type}),h=xn(c,"header"),b=xn(c,"footer");if(!h&&!b)return Y.some("body");var x=xn(c,"body");return h&&!x&&!b?Y.some("header"):!h&&!x&&b?Y.some("footer"):Y.none()},QE=function(u){return Et(u.all,function(c){var h=wx(c);return h.type==="header"?Y.from(h.subType):Y.none()})},o0=function(u,c,h){return Pi(h(u.element,c),!0,u.isLocked)},J2=function(u,c){return u.section!==c?Kl(u.element,u.cells,c,u.isNew):u},Ei=function(){return{transformRow:J2,transformCell:function(u,c,h){var b=h(u.element,c),x=Ur(b)!=="td"?pE(b,"td"):b;return Pi(x,u.isNew,u.isLocked)}}},Lh=function(){return{transformRow:J2,transformCell:o0}},Fh=function(){return{transformRow:function(u,c){var h=c==="thead"?"tbody":c;return J2(u,h)},transformCell:o0}},Cx=function(){return{transformRow:rt,transformCell:o0}},eT=function(u,c){var h=Qn.fromTable(u),b=QE(h).getOr(c);switch(b){case"section":return Ei();case"sectionCells":return Lh();case"cells":return Fh()}},Hp={getTableSectionType:eT,section:Ei,sectionCells:Lh,cells:Fh,fallback:Cx},Vp=function(u,c,h,b){h===b?ka(u,c):No(u,c,h)},am=function(u,c,h){qt(Xn(u,c)).fold(function(){return Ci(u,h)},function(b){return ma(b,h)})},i0=function(u,c){var h=Nn(u,c).getOrThunk(function(){var b=Lt.fromTag(c,Df(u).dom);return c==="thead"?am(u,"caption,colgroup",b):c==="colgroup"?am(u,"caption",b):Xa(u,b),b});return vp(h),h},Up=function(u,c){var h=[],b=[],x=function(st){return Dt(st,function(Ye){Ye.isNew&&h.push(Ye.element);var Pt=Ye.element;return vp(Pt),en(Ye.cells,function(Ft){Ft.isNew&&b.push(Ft.element),Vp(Ft.element,"colspan",Ft.colspan,1),Vp(Ft.element,"rowspan",Ft.rowspan,1),Xa(Pt,Ft.element)}),Pt})},T=function(st){return ye(st,function(Ye){return Dt(Ye.cells,function(Pt){return Vp(Pt.element,"span",Pt.colspan,1),Pt.element})})},M=function(st,Ye){var Pt=i0(u,Ye),Ft=Ye==="colgroup"?T:x,gn=Ft(st);tc(Pt,gn)},L=function(st){Nn(u,st).each(Bu)},Z=function(st,Ye){st.length>0?M(st,Ye):L(Ye)},le=[],Se=[],Xe=[],St=[];return en(c,function(st){switch(st.section){case"thead":le.push(st);break;case"tbody":Se.push(st);break;case"tfoot":Xe.push(st);break;case"colgroup":St.push(st);break}}),Z(St,"colgroup"),Z(le,"thead"),Z(Se,"tbody"),Z(Xe,"tfoot"),{newRows:h,newCells:b}},Z2=function(u){return Dt(u,function(c){var h=_l(c.element);return en(c.cells,function(b){var x=Yr(b.element);Vp(x,"colspan",b.colspan,1),Vp(x,"rowspan",b.rowspan,1),Xa(h,x)}),h})},tT=function(u,c){return Dt(u,function(h){return cu(h,c)})},Yc=function(u,c){return u[c]},u0=function(u,c){if(u.length===0)return 0;var h=u[0],b=yt(u,function(x){return!c(h.element,x.element)});return b.getOr(u.length)},nT=function(u,c,h,b){var x=Yc(u,c),T=x.section==="colgroup",M=u0(x.cells.slice(h),b),L=T?1:u0(tT(u.slice(c),h),b);return{colspan:M,rowspan:L}},Zv=function(u,c){var h=Dt(u,function(x){return Dt(x.cells,mn)}),b=function(x,T,M,L){for(var Z=x;Z<x+M;Z++)for(var le=T;le<T+L;le++)h[Z][le]=!0};return Dt(u,function(x,T){var M=ye(x.cells,function(L,Z){if(h[T][Z]===!1){var le=nT(u,T,Z,c);return b(T,Z,le.rowspan,le.colspan),[rr(L.element,le.rowspan,le.colspan,L.isNew)]}else return[]});return Rc(x.element,M,x.section,x.isNew)})},Qv=function(u,c,h){var b=[];en(u.colgroups,function(Se){for(var Xe=[],St=0;St<u.grid.columns;St++){var st=Qn.getColumnAt(u,St).map(function(Ye){return Pi(Ye.element,h,!1)}).getOrThunk(function(){return Pi(c.colGap(),!0,!1)});Xe.push(st)}b.push(Kl(Se.element,Xe,"colgroup",h))});for(var x=0;x<u.grid.rows;x++){for(var T=[],M=0;M<u.grid.columns;M++){var L=Qn.getAt(u,x,M).map(function(Se){return Pi(Se.element,h,Se.isLocked)}).getOrThunk(function(){return Pi(c.gap(),!0,!1)});T.push(L)}var Z=u.all[x],le=Kl(Z.element,T,Z.section,h);b.push(le)}return b},rT=function(u,c){return Qv(u,c,!1)},s0=function(u){return Zv(u,Vr)},l0=function(u,c){return Et(u.all,function(h){return Ne(h.cells,function(b){return Vr(c,b.element)})})},c0=function(u,c,h){var b=Dt(c.selection,function(T){return Ql(T).bind(function(M){return l0(u,M)}).filter(h)}),x=Oo(b);return la(x.length>0,x)},ui=function(u,c,h,b,x){return function(T,M,L,Z,le){var Se=Qn.fromTable(M),Xe=Y.from(le==null?void 0:le.section).getOrThunk(Hp.fallback),St=c(Se,L).map(function(st){var Ye=rT(Se,Z),Pt=u(Ye,st,Vr,x(Z),Xe),Ft=wi(Pt.grid),gn=s0(Pt.grid);return{info:st,grid:gn,cursor:Pt.cursor,lockedColumns:Ft}});return St.bind(function(st){var Ye=Up(M,st.grid),Pt=Y.from(le==null?void 0:le.sizing).getOrThunk(function(){return qf.getTableSize(M)}),Ft=Y.from(le==null?void 0:le.resize).getOrThunk(jd);return h(M,st.grid,st.info,{sizing:Pt,resize:Ft,section:Xe}),b(M),Yo(T,M),ka(M,Co),st.lockedColumns.length>0&&No(M,Co,st.lockedColumns.join(",")),Y.some({cursor:st.cursor,newRows:Ye.newRows,newCells:Ye.newCells})})}},Sx=function(u,c){return Ql(c.element).bind(function(h){return l0(u,h).map(function(b){var x=Rt(Rt({},b),{generators:c.generators,clipboard:c.clipboard});return x})})},Q2=function(u,c){return c0(u,c,Nt).map(function(h){return{cells:h,generators:c.generators,clipboard:c.clipboard}})},xx=function(u,c){return c.mergable},_x=function(u,c){return c.unmergable},fc=function(u,c){return c0(u,c,Nt)},ev=function(u,c){return c0(u,c,function(h){return!h.isLocked})},kx=function(u,c){return l0(u,c).exists(function(h){return!h.isLocked})},Ax=function(u,c){return pe(c,function(h){return kx(u,h)})},ew=function(u,c){return xx(u,c).filter(function(h){return Ax(u,h.cells)})},f0=function(u,c){return _x(u,c).filter(function(h){return Ax(u,h)})},Ex=function(u,c,h,b){var x=fo(u).rows;if(x.length===0)return u;for(var T=c.startRow;T<=c.finishRow;T++)for(var M=c.startCol;M<=c.finishCol;M++){var L=x[T],Z=cu(L,M).isLocked;Pc(L,M,Pi(b(),!1,Z))}return u},Hh=function(u,c,h,b){for(var x=fo(u).rows,T=!0,M=0;M<x.length;M++)for(var L=0;L<_s(x[0]);L++){var Z=x[M],le=cu(Z,L),Se=le.element,Xe=h(Se,c);Xe===!0&&T===!1?Pc(Z,L,Pi(b(),!0,le.isLocked)):Xe===!0&&(T=!1)}return u},aT=function(u,c){return K(u,function(h,b){return P(h,function(x){return c(x.element,b.element)})?h:h.concat([b])},[])},Wp=function(u,c,h,b){return c>0&&c<u[0].cells.length&&en(u,function(x){var T=x.cells[c-1],M=x.cells[c],L=h(M.element,T.element);L&&Pc(x,c,Pi(b(),!0,M.isLocked))}),u},oT=function(u,c,h,b){var x=fo(u).rows;if(c>0&&c<x.length){var T=x[c-1].cells,M=aT(T,h);en(M,function(L){for(var Z=Y.none(),le=c;le<x.length;le++)for(var Se=function(St){var st=x[le],Ye=cu(st,St),Pt=h(Ye.element,L.element);Pt&&(Z.isNone()&&(Z=Y.some(b())),Z.each(function(Ft){Pc(st,St,Pi(Ft,!0,Ye.isLocked))}))},Xe=0;Xe<_s(x[0]);Xe++)Se(Xe)})}return u},Vh=function(u){var c=function(Xe){return Vh(u)},h=function(Xe){return Vh(u)},b=function(Xe){return Vh(Xe(u))},x=function(Xe){return Vh(u)},T=function(Xe){Xe(u)},M=function(Xe){return Xe(u)},L=function(Xe,St){return St(u)},Z=function(Xe){return Xe(u)},le=function(Xe){return Xe(u)},Se=function(){return Y.some(u)};return{isValue:Nt,isError:mn,getOr:Me(u),getOrThunk:Me(u),getOrDie:Me(u),or:c,orThunk:h,fold:L,map:b,mapError:x,each:T,bind:M,exists:Z,forall:le,toOptional:Se}},om=function(u){var c=function(le){return le()},h=function(){return Xt(String(u))()},b=rt,x=function(le){return le()},T=function(le){return om(u)},M=function(le){return om(le(u))},L=function(le){return om(u)},Z=function(le,Se){return le(u)};return{isValue:mn,isError:Nt,getOr:rt,getOrThunk:c,getOrDie:h,or:b,orThunk:x,fold:Z,map:T,mapError:M,each:he,bind:L,exists:mn,forall:Nt,toOptional:Y.none}},tw=function(u,c){return u.fold(function(){return om(c)},Vh)},Tx={value:Vh,error:om,fromOption:tw},iT=function(u,c,h){if(u.row>=c.length||u.column>_s(c[0]))return Tx.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var b=c.slice(u.row),x=b[0].cells.slice(u.column),T=_s(h[0]),M=h.length;return Tx.value({rowDelta:b.length-M,colDelta:x.length-T})},Ox=function(u,c){var h=_s(u[0]),b=_s(c[0]);return{rowDelta:0,colDelta:h-b}},Dx=function(u,c){var h=u.length,b=c.length;return{rowDelta:h-b,colDelta:0}},nw=function(u,c,h,b){var x=c.section==="colgroup"?h.col:h.cell;return ta(u,function(T){return Pi(x(),!0,b(T))})},uT=function(u,c,h,b){var x=u[u.length-1];return u.concat(ta(c,function(){var T=x.section==="colgroup"?h.colgroup:h.row,M=zo(x,T,rt),L=nw(M.cells.length,M,h,function(Z){return J(b,Z.toString())});return In(M,L)}))},v0=function(u,c,h,b){return Dt(u,function(x){var T=nw(c,x,h,mn);return Lf(x,b,T)})},sT=function(u,c,h){return Dt(u,function(b){return K(h,function(x,T){var M=nw(1,b,c,Nt)[0];return Ff(x,T,M)},b)})},jp=function(u,c,h){var b=c.colDelta<0?v0:rt,x=c.rowDelta<0?uT:rt,T=wi(u),M=_s(u[0]),L=P(T,function(Se){return Se===M-1}),Z=b(u,Math.abs(c.colDelta),h,L?M-1:M),le=wi(Z);return x(Z,Math.abs(c.rowDelta),h,je(le,Nt))},lT=function(u,c,h,b){var x=cu(u[c],h),T=tt(b,x.element),M=u[c];return u.length>1&&_s(M)>1&&(h>0&&T(Li(M,h-1))||h<M.cells.length-1&&T(Li(M,h+1))||c>0&&T(Li(u[c-1],h))||c<u.length-1&&T(Li(u[c+1],h)))},cT=function(u,c,h,b,x,T){for(var M=u.row,L=u.column,Z=h.length,le=_s(h[0]),Se=M+Z,Xe=L+le+T.length,St=je(T,Nt),st=M;st<Se;st++)for(var Ye=0,Pt=L;Pt<Xe;Pt++){if(St[Pt]){Ye++;continue}lT(c,st,Pt,x)&&Hh(c,Li(c[st],Pt),x,b.cell);var Ft=Pt-L-Ye,gn=cu(h[st-M],Ft),Br=gn.element,hn=b.replace(Br);Pc(c[st],Pt,Pi(hn,!0,gn.isLocked))}return c},fT=function(u,c,h){var b=_s(c[0]),x=fo(c).cols.length+u.row,T=ta(b-u.column,function(L){return L+u.column}),M=Ne(T,function(L){return pe(h,function(Z){return Z!==L})}).getOr(b-1);return{row:x,column:M}},d0=function(u,c,h){return nr(h,function(b){return b>=u.column&&b<=_s(c[0])+u.column})},vT=function(u,c,h,b,x){var T=wi(c),M=fT(u,c,T),L=fo(h).rows,Z=d0(M,L,T),le=iT(M,c,L);return le.map(function(Se){var Xe=Rt(Rt({},Se),{colDelta:Se.colDelta-Z.length}),St=jp(c,Xe,b),st=wi(St),Ye=d0(M,L,st);return cT(M,St,L,b,x,Ye)})},Uh=function(u,c,h,b,x){Wp(c,u,x,b.cell);var T=Dx(h,c),M=jp(h,T,b),L=Dx(c,M),Z=jp(c,L,b);return Dt(Z,function(le,Se){return Lf(le,u,M[Se].cells)})},Rx=function(u,c,h,b,x){oT(c,u,x,b.cell);var T=wi(c),M=Ox(c,h),L=Rt(Rt({},M),{colDelta:M.colDelta-T.length}),Z=jp(c,L,b),le=fo(Z),Se=le.cols,Xe=le.rows,St=wi(Z),st=Ox(h,c),Ye=Rt(Rt({},st),{colDelta:st.colDelta+St.length}),Pt=sT(h,b,St),Ft=jp(Pt,Ye,b);return Se.concat(Xe.slice(0,u)).concat(Ft).concat(Xe.slice(u,Xe.length))},dT=function(u,c,h,b){return zo(u,function(x){return b(x,h)},c)},rw=function(u,c,h,b,x){var T=fo(u),M=T.rows,L=T.cols,Z=M.slice(0,c),le=M.slice(c),Se=dT(M[h],function(Xe,St){var st=c>0&&c<M.length&&b(Li(M[c-1],St),Li(M[c],St)),Ye=st?cu(M[c],St):Pi(x(Xe.element,b),!0,Xe.isLocked);return Ye},b,x);return L.concat(Z).concat([Se]).concat(le)},Bx=function(u,c,h,b,x,T,M){if(h==="colgroup"||!b){var L=cu(u,x);return Pi(M(L.element,T),!0,!1)}else return cu(u,c)},aw=function(u,c,h,b,x){return Dt(u,function(T){var M=c>0&&c<_s(T)&&b(Li(T,c-1),Li(T,c)),L=Bx(T,c,T.section,M,h,b,x);return Ff(T,c,L)})},$x=function(u,c){return ye(u,function(h){var b=h.cells,x=Fr(c,function(T,M){return M>=0&&M<T.length?T.slice(0,M).concat(T.slice(M+1)):T},b);return x.length>0?[Kl(h.element,x,h.section,h.isNew)]:[]})},Mx=function(u,c,h){var b=fo(u),x=b.rows,T=b.cols;return T.concat(x.slice(0,c)).concat(x.slice(h+1))},Wh=function(u,c,h,b){return Li(u[c],h)!==void 0&&c>0&&b(Li(u[c-1],h),Li(u[c],h))},ow=function(u,c,h){return c>0&&h(Li(u,c-1),Li(u,c))},iw=function(u,c,h,b){return Wh(u,c,h,b)||ow(u[c],h,b)},mT=function(u,c){var h=pe(c,rt)&&Fp(u.cells);return h?Nt:function(b,x,T){var M=Ur(b.element);return!(M==="th"&&c[T])}},hT=function(u,c){var h=pe(c,rt)&&Fp(u);return h?Nt:function(b,x,T){var M=Ur(b.element);return!(M==="th"&&c[x])}},uw=function(u,c,h,b){var x=function(L){return L==="row"?lb(c):$d(c)},T=function(L){return x(L)?L+"group":L};if(u)return a0(c)?T(h):null;if(b&&a0(c)){var M=h==="row"?"col":"row";return T(M)}else return null},gT=function(u,c){return function(h,b,x){return Y.some(uw(u,h.element,"col",c[x]))}},Px=function(u,c){return function(h,b){return Y.some(uw(u,h.element,"row",c[b]))}},ed=function(u,c,h){return Pi(h(u.element,c),!0,u.isLocked)},jh=function(u,c,h,b,x,T,M){var L=function(Z){return P(c,function(le){return h(Z.element,le.element)})};return Dt(u,function(Z,le){return xs(Z,function(Se,Xe){if(L(Se)){var St=M(Se,le,Xe)?x(Se,h,b):Se;return T(St,le,Xe).each(function(st){Bf(St.element,{scope:Y.from(st)})}),St}else return Se})})},Nx=function(u,c,h){return ye(u,function(b,x){return iw(u,x,c,h)?[]:[cu(b,c)]})},pT=function(u,c,h){var b=u[c];return ye(b.cells,function(x,T){return iw(u,c,T,h)?[]:[x]})},Ix=function(u,c,h,b,x){var T=fo(u).rows,M=ye(c,function(Se){return Nx(T,Se,b)}),L=Dt(u,function(Se){return Fp(Se.cells)}),Z=hT(M,L),le=Px(h,L);return jh(u,M,b,x,ed,le,Z)},bT=function(u,c,h,b,x,T,M){var L=fo(u),Z=L.cols,le=L.rows,Se=le[c[0]],Xe=ye(c,function(gn){return pT(le,gn,x)}),St=Dt(Se.cells,function(gn,Br){return Fp(Nx(le,Br,x))}),st=sn([],le,!0);en(c,function(gn){st[gn]=M.transformRow(le[gn],h)});var Ye=Z.concat(st),Pt=mT(Se,St),Ft=gT(b,St);return jh(Ye,Xe,x,T,M.transformCell,Ft,Pt)},sw=function(u,c,h,b){var x=fo(u).rows,T=Dt(c,function(M){return cu(x[M.row],M.column)});return jh(u,T,h,b,ed,Y.none,Nt)},Gh=function(u){var c=function(h,b){var x=P(h,function(T){return T.column===b.column});return x?h:h.concat([b])};return K(u,c,[]).sort(function(h,b){return h.column-b.column})},tu=qo("col"),lw=qo("colgroup"),qh=function(u){return Ur(u)==="tr"||lw(u)},im=function(u){var c=Js(u,"colspan",1),h=Js(u,"rowspan",1);return{element:u,colspan:c,rowspan:h}},m0=function(u,c){c===void 0&&(c=im);var h=function(L){return tu(L.element)?u.col(L):u.cell(L)},b=function(L){return lw(L.element)?u.colgroup(L):u.row(L)},x=function(L){if(qh(L))return b({element:L});var Z=h(c(L));return T=Y.some({item:L,replacement:Z}),Z},T=Y.none(),M=function(L,Z){return T.fold(function(){return x(L)},function(le){return Z(L,le.item)?le.replacement:x(L)})};return{getOrInit:M}},yT=function(u){return function(c){var h=[],b=function(M,L){return Ne(h,function(Z){return L(Z.item,M)})},x=function(M){var L=u==="td"?{scope:null}:{},Z=c.replace(M,u,L);return h.push({item:M,sub:Z}),Z},T=function(M,L){return qh(M)||tu(M)?M:b(M,L).fold(function(){return x(M)},function(Z){return L(M,Z.item)?Z.sub:x(M)})};return{replaceOrInit:T}}},zx=function(u){return Mr(u,"scope").map(function(c){return c.substr(0,3)})},cw=function(u){var c=function(b){var x=zx(b);return x.each(function(T){return No(b,"scope",T)}),function(){var T=u.cell({element:b,colspan:1,rowspan:1});return yi(T,"width"),yi(b,"width"),x.each(function(M){return No(T,"scope",M)}),T}},h=function(b){var x=function(){var T=Oo(Dt(b,zx));if(T.length===0)return Y.none();var M=T[0],L=["row","col"],Z=P(T,function(le){return le!==M&&xn(L,le)});return Z?Y.none():Y.from(M)};return yi(b[0],"width"),x().fold(function(){return ka(b[0],"scope")},function(T){return No(b[0],"scope",T+"group")}),Me(b[0])};return{unmerge:c,merge:h}},Iu={modification:m0,transform:yT,merging:cw},Gp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],wT=function(u,c){var h=u.property().name(c);return xn(["ol","ul"],h)},um=function(u,c){var h=u.property().name(c);return xn(Gp,h)},td=function(u,c){return xn(["br","img","hr","input"],u.property().name(c))},Kh=mp(),nd=function(u){return um(Kh,u)},vc=function(u){return wT(Kh,u)},dc=function(u){return td(Kh,u)},h0=function(u){var c=function(Z){return Ur(Z)==="br"},h=function(Z){return pe(Z,function(le){return c(le)||Xs(le)&&fb(le).trim().length===0})},b=function(Z){return Ur(Z)==="li"||Fa(Z,vc).isSome()},x=function(Z){return De(Z).map(function(le){return nd(le)?!0:dc(le)?Ur(le)!=="img":!1}).getOr(!1)},T=function(Z){return xb(Z).bind(function(le){var Se=x(le);return bo(le).map(function(Xe){return Se===!0||b(Xe)||c(le)||nd(Xe)&&!Vr(Z,Xe)?[]:[Lt.fromTag("br")]})}).getOr([])},M=function(){var Z=ye(u,function(le){var Se=ri(le);return h(Se)?[]:Se.concat(T(le))});return Z.length===0?[Lt.fromTag("br")]:Z},L=M();vp(u[0]),tc(u[0],L)},g0=function(u){return Dp(u,!0)},fw=function(u){var c=zf(u);c.length===0&&Bu(u)},Xh=function(u,c){return{grid:u,cursor:c}},Yh=function(u){return Et(u,function(c){return Et(c.cells,function(h){var b=h.element;return la(g0(b),b)})})},Jh=function(u,c,h){var b,x,T=fo(u).rows;return Y.from((x=(b=T[c])===null||b===void 0?void 0:b.cells[h])===null||x===void 0?void 0:x.element).filter(g0).orThunk(function(){return Yh(T)})},ji=function(u,c,h){var b=Jh(u,c,h);return Xh(u,b)},Zh=function(u){var c=function(h,b){var x=P(h,function(T){return T.row===b.row});return x?h:h.concat([b])};return K(u,c,[]).sort(function(h,b){return h.row-b.row})},Qh=function(u,c,h,b){var x=c[0].row,T=Zh(c),M=Fr(T,function(L,Z){var le=rw(L.grid,x,Z.row+L.delta,h,b.getOrInit);return{grid:le,delta:L.delta+1}},{grid:u,delta:0}).grid;return ji(M,x,c[0].column)},p0=function(u,c,h,b){var x=Zh(c),T=x[x.length-1],M=T.row+T.rowspan,L=Fr(x,function(Z,le){return rw(Z,M,le.row,h,b.getOrInit)},u);return ji(L,M,c[0].column)},CT=function(u,c,h,b){var x=c.details,T=Gh(x),M=T[0].column,L=Fr(T,function(Z,le){var Se=aw(Z.grid,M,le.column+Z.delta,h,b.getOrInit);return{grid:Se,delta:Z.delta+1}},{grid:u,delta:0}).grid;return ji(L,x[0].row,M)},vw=function(u,c,h,b){var x=c.details,T=x[x.length-1],M=T.column+T.colspan,L=Gh(x),Z=Fr(L,function(le,Se){return aw(le,M,Se.column,h,b.getOrInit)},u);return ji(Z,x[0].row,M)},b0=function(u,c,h,b){var x=Gh(c),T=Dt(x,function(L){return L.column}),M=Ix(u,T,!0,h,b.replaceOrInit);return ji(M,c[0].row,c[0].column)},Ti=function(u,c,h,b){var x=sw(u,c,h,b.replaceOrInit);return ji(x,c[0].row,c[0].column)},ST=function(u,c,h,b){var x=Gh(c),T=Dt(x,function(L){return L.column}),M=Ix(u,T,!1,h,b.replaceOrInit);return ji(M,c[0].row,c[0].column)},Jc=function(u,c,h,b){var x=sw(u,c,h,b.replaceOrInit);return ji(x,c[0].row,c[0].column)},y0=function(u,c){return function(h,b,x,T,M){var L=Zh(b),Z=Dt(L,function(Se){return Se.row}),le=bT(h,Z,u,c,x,T.replaceOrInit,M);return ji(le,b[0].row,b[0].column)}},dw=y0("thead",!0),eg=y0("tbody",!1),mw=y0("tfoot",!1),qp=function(u,c,h,b){var x=Gh(c.details),T=$x(u,Dt(x,function(L){return L.column})),M=T.length>0?T[0].cells.length-1:0;return ji(T,x[0].row,Math.min(x[0].column,M))},xT=function(u,c,h,b){var x=Zh(c),T=Mx(u,x[0].row,x[x.length-1].row),M=T.length>0?T.length-1:0;return ji(T,Math.min(c[0].row,M),c[0].column)},Lx=function(u,c,h,b){var x=c.cells;h0(x);var T=Ex(u,c.bounds,h,b.merge(x));return Xh(T,Y.from(x[0]))},Fx=function(u,c,h,b){var x=function(M,L){return Hh(M,L,h,b.unmerge(L))},T=Fr(c,x,u);return Xh(T,Y.from(c[0]))},_T=function(u,c,h,b){var x=function(Z,le){var Se=Qn.fromTable(Z);return Qv(Se,le,!0)},T=x(c.clipboard,c.generators),M=Gr(c.row,c.column),L=vT(M,u,T,c.generators,h);return L.fold(function(){return Xh(u,Y.some(c.element))},function(Z){return ji(Z,c.row,c.column)})},tg=function(u,c,h){var b=cp(u,h.section),x=Qn.generate(b);return Qv(x,c,!0)},uo=function(u,c,h,b){var x=fo(u).rows,T=c.cells[0].column,M=x[c.cells[0].row],L=tg(c.clipboard,c.generators,M),Z=Uh(T,u,L,c.generators,h);return ji(Z,c.cells[0].row,c.cells[0].column)},w0=function(u,c,h,b){var x=fo(u).rows,T=c.cells[c.cells.length-1].column+c.cells[c.cells.length-1].colspan,M=x[c.cells[0].row],L=tg(c.clipboard,c.generators,M),Z=Uh(T,u,L,c.generators,h);return ji(Z,c.cells[0].row,c.cells[0].column)},C0=function(u,c,h,b){var x=fo(u).rows,T=c.cells[0].row,M=x[T],L=tg(c.clipboard,c.generators,M),Z=Rx(T,u,L,c.generators,h);return ji(Z,c.cells[0].row,c.cells[0].column)},hw=function(u,c,h,b){var x=fo(u).rows,T=c.cells[c.cells.length-1].row+c.cells[c.cells.length-1].rowspan,M=x[c.cells[0].row],L=tg(c.clipboard,c.generators,M),Z=Rx(T,u,L,c.generators,h);return ji(Z,c.cells[0].row,c.cells[0].column)},Hx=function(u,c){var h=Qn.fromTable(u),b=fc(h,c);return b.bind(function(x){var T=x[x.length-1],M=x[0].column,L=T.column+T.colspan,Z=Dr(Dt(h.all,function(le){return nr(le.cells,function(Se){return Se.column>=M&&Se.column<L})}));return Y2(Z)}).getOr("")},gw=function(u,c){var h=Qn.fromTable(u),b=fc(h,c);return b.bind(Y2).getOr("")},sm=function(u,c){var h=Qn.fromTable(u),b=fc(h,c);return b.bind(function(x){var T=x[x.length-1],M=x[0].row,L=T.row+T.rowspan,Z=h.all.slice(M,L);return ZE(Z)}).getOr("")},S0=function(u,c,h,b){return uc(u,c,h,b.sizing)},zu=function(u,c,h,b){return rx(u,c,h,b.sizing,b.resize)},mc=function(u,c){return P(c,function(h){return h.column===0&&h.isLocked})},x0=function(u,c){return P(c,function(h){return h.column+h.colspan>=u.grid.columns&&h.isLocked})},tv=function(u,c){var h=Nd(u),b=Gh(c);return K(b,function(x,T){var M=h[T.column],L=M.map(Hi).getOr(0);return x+L},0)},Bl=function(u){return function(c,h){return fc(c,h).filter(function(b){var x=u?mc:x0;return!x(c,b)}).map(function(b){return{details:b,pixelDelta:tv(c,b)}})}},hc=function(u,c){return ev(u,c).map(function(h){return{details:h,pixelDelta:-tv(u,h)}})},nu=function(u){return function(c,h){return Q2(c,h).filter(function(b){var x=u?mc:x0;return!x(c,b.cells)})}},rl=Iu.transform("th"),ng=Iu.transform("td"),Zc=ui(Qh,fc,he,he,Iu.modification),lm=ui(p0,fc,he,he,Iu.modification),Vx=ui(CT,Bl(!0),zu,he,Iu.modification),Ux=ui(vw,Bl(!1),zu,he,Iu.modification),kT=ui(qp,hc,zu,fw,Iu.modification),AT=ui(xT,fc,he,fw,Iu.modification),Wx=ui(b0,ev,he,he,rl),jx=ui(ST,ev,he,he,ng),Gx=ui(dw,ev,he,he,rl),ET=ui(eg,ev,he,he,ng),qx=ui(mw,ev,he,he,ng),TT=ui(Ti,ev,he,he,rl),Kx=ui(Jc,ev,he,he,ng),Xx=ui(Lx,ew,S0,he,Iu.merging),pw=ui(Fx,f0,S0,he,Iu.merging),Yx=ui(_T,Sx,S0,he,Iu.modification),OT=ui(uo,nu(!0),he,he,Iu.modification),wr=ui(w0,nu(!1),he,he,Iu.modification),cm=ui(C0,Q2,he,he,Iu.modification),rg=ui(hw,Q2,he,he,Iu.modification),bw=Hx,DT=gw,Lu=sm,RT=function(u,c,h){var b=function(fi){return Ur(Vc(fi))==="table"},x=function(fi){return b(u)===!1||A2(fi).rows>1},T=function(fi){return b(u)===!1||A2(fi).columns>1},M=t0(u),L=H2(u)?he:YE,Z=function(fi){switch(Rl(u)){case"section":return Hp.section();case"sectionCells":return Hp.sectionCells();case"cells":return Hp.cells();default:return Hp.getTableSectionType(fi,"section")}},le=function(fi,h1){return h1.cursor.fold(function(){var sv=zf(fi);return Qe(sv).filter(Yl).map(function(pc){c.clear(fi);var zs=u.dom.createRng();return zs.selectNode(pc.dom),u.selection.setRng(zs),No(pc,"data-mce-selected","1"),zs})},function(sv){var pc=yx(sv),zs=u.dom.createRng();return zs.setStart(pc.element.dom,pc.offset),zs.setEnd(pc.element.dom,pc.offset),u.selection.setRng(zs),c.clear(fi),Y.some(zs)})},Se=function(fi,h1,sv,pc,zs){return function(lf,cy,_g){_g===void 0&&(_g=!1),du(lf);var kg=pc(),Ag=Lt.fromDom(u.getDoc()),bc=jn(sv,Ag,M),Eg={sizing:j2(u,lf),resize:H2(u)?Db():jd(),section:Z(lf)};return h1(lf)?fi(kg,lf,cy,bc,Eg).bind(function(Tg){en(Tg.newRows,function(Og){Kb(u,Og.dom)}),en(Tg.newCells,function(Og){Xb(u,Og.dom)});var CC=le(lf,Tg);return Yl(lf)&&(du(lf),_g||Kc(u,lf.dom,zs)),CC.map(function(Og){return{rng:Og,effect:zs}})}):Y.none()}},Xe=Se(AT,x,he,h,za),St=Se(kT,T,he,h,za),st=Se(Zc,Nt,he,h,za),Ye=Se(lm,Nt,he,h,za),Pt=Se(Vx,Nt,L,h,za),Ft=Se(Ux,Nt,L,h,za),gn=Se(Xx,Nt,he,h,za),Br=Se(pw,Nt,he,h,za),hn=Se(OT,Nt,he,h,za),Fn=Se(wr,Nt,he,h,za),vr=Se(cm,Nt,he,h,za),sr=Se(rg,Nt,he,h,za),ho=Se(Yx,Nt,he,h,VE),li=Se(TT,Nt,he,h,za),ci=Se(Kx,Nt,he,h,za),xr=Se(Wx,Nt,he,h,za),Un=Se(jx,Nt,he,h,za),yr=Se(Gx,Nt,he,h,za),ra=Se(ET,Nt,he,h,za),Ja=Se(qx,Nt,he,h,za),uv=DT,ea=bw,ss=Lu;return{deleteRow:Xe,deleteColumn:St,insertRowsBefore:st,insertRowsAfter:Ye,insertColumnsBefore:Pt,insertColumnsAfter:Ft,mergeCells:gn,unmergeCells:Br,pasteColsBefore:hn,pasteColsAfter:Fn,pasteRowsBefore:vr,pasteRowsAfter:sr,pasteCells:ho,makeCellsHeader:li,unmakeCellsHeader:ci,makeColumnsHeader:xr,unmakeColumnsHeader:Un,makeRowsHeader:yr,makeRowsBody:ra,makeRowsFooter:Ja,getTableRowType:ss,getTableCellType:uv,getTableColType:ea}},fm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},rd=function(){return Lt.fromTag("th")},_0=function(){return Lt.fromTag("td")},k0=function(){return Lt.fromTag("col")},BT=function(u,c,h,b){for(var x=Lt.fromTag("tr"),T=0;T<u;T++){var M=b<c||T<h?rd():_0();T<h&&No(M,"scope","row"),b<c&&No(M,"scope","col"),Xa(M,Lt.fromTag("br")),Xa(x,M)}return x},Jx=function(u){var c=Lt.fromTag("colgroup");return ta(u,function(){return Xa(c,k0())}),c},A0=function(u,c,h,b){return ta(u,function(x){return BT(c,h,b,x)})},yw=function(u,c,h,b,x,T){T===void 0&&(T=fm);var M=Lt.fromTag("table"),L=x!=="cells";Mc(M,T.styles),wo(M,T.attributes),T.colGroups&&Xa(M,Jx(c));var Z=Math.min(u,h);if(L&&h>0){var le=Lt.fromTag("thead");Xa(M,le);var Se=x==="sectionCells"?Z:0,Xe=A0(h,c,Se,b);tc(le,Xe)}var St=Lt.fromTag("tbody");Xa(M,St);var st=L?u-Z:u,Ye=L?0:h,Pt=A0(st,c,Ye,b);return tc(St,Pt),M},ag=function(u){return u.dom.innerHTML},E0=function(u){var c=Lt.fromTag("div"),h=Lt.fromDom(u.dom.cloneNode(!0));return Xa(c,h),ag(c)},$T=function(u,c){u.selection.select(c.dom,!0),u.selection.collapse(!0)},Qc=function(u,c){Zu(c,"td,th").each(tt($T,u))},ww=function(u,c){en(Ju(c,"tr"),function(h){Kb(u,h.dom),en(Ju(h,"th,td"),function(b){Xb(u,b.dom)})})},Cw=function(u){return E(u)&&u.indexOf("%")!==-1},og=function(u,c,h,b,x){var T=Zb(u),M={styles:T,attributes:$p(u),colGroups:Qb(u)};return u.undoManager.ignore(function(){var L=yw(h,c,x,b,Rl(u),M);No(L,"data-mce-id","__mce");var Z=E0(L);u.insertContent(Z),u.addVisual()}),Zu(Vc(u),'table[data-mce-id="__mce"]').map(function(L){return Qf(u)?Ih(L):Ph(u)?n0(L):(Ke(u)||Cw(T.width))&&Nh(L),du(L),ka(L,"data-mce-id"),ww(u,L),Qc(u,L),L.dom}).getOr(null)},Sw=function(u,c,h,b,x){b===void 0&&(b={});var T=function(Z){return oe(Z)&&Z>0};if(T(c)&&T(h)){var M=b.headerRows||0,L=b.headerColumns||0;return og(u,h,c,L,M)}else return console.error(x),null},Kp=function(u){return function(){return u().fold(function(){return[]},function(c){return Dt(c,function(h){return h.dom})})}},Zx=function(u){return function(c){var h=c.length>0?Y.some(os(c)):Y.none();u(h)}},MT=function(u){return function(c,h,b){b===void 0&&(b={});var x=Sw(u,h,c,b,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),x}},ef=function(u,c,h,b){return{insertTable:MT(u),setClipboardRows:Zx(c.setRows),getClipboardRows:Kp(c.getRows),setClipboardCols:Zx(c.setColumns),getClipboardCols:Kp(c.getColumns),resizeHandler:h,selectionTargets:b}},us=function(u,c,h){var b=Js(u,c,1);h===1||b<=1?ka(u,c):No(u,c,Math.min(h,b))},Oi=function(u,c,h){if(Qn.hasColumns(u)){var b=nr(Qn.justColumns(u),function(M){return M.column>=c&&M.column<h}),x=Dt(b,function(M){var L=Yr(M.element);return us(L,"span",h-c),L}),T=Lt.fromTag("colgroup");return tc(T,x),[T]}else return[]},PT=function(u,c,h){return Dt(u.all,function(b){var x=nr(b.cells,function(L){return L.column>=c&&L.column<h}),T=Dt(x,function(L){var Z=Yr(L.element);return us(Z,"colspan",h-c),Z}),M=Lt.fromTag("tr");return tc(M,T),M})},xw=function(u,c){var h=Qn.fromTable(u),b=ev(h,c);return b.map(function(x){var T=x[x.length-1],M=x[0].column,L=T.column+T.colspan,Z=Oi(h,M,L),le=PT(h,M,L);return sn(sn([],Z,!0),le,!0)})},ig=function(u,c,h){var b=Qn.fromTable(u),x=fc(b,c);return x.bind(function(T){var M=Qv(b,h,!1),L=fo(M).rows,Z=L.slice(T[0].row,T[T.length-1].row+T[T.length-1].rowspan),le=ye(Z,function(Xe){var St=nr(Xe.cells,function(st){return!st.isLocked});return St.length>0?[Rt(Rt({},Xe),{cells:St})]:[]}),Se=s0(le);return la(Se.length>0,Se)}).map(function(T){return Z2(T)})},_w=tinymce.util.Tools.resolve("tinymce.util.Tools"),Xp=function(u,c,h){var b=u.select("td,th",c),x,T=function(M,L){for(var Z=0;Z<L.length;Z++){var le=u.getStyle(L[Z],h);if(typeof M>"u"&&(M=le),M!==le)return""}return M};return T(x,b)},kw=function(u,c,h){h&&u.formatter.apply("align"+h,{},c)},NT=function(u,c,h){h&&u.formatter.apply("valign"+h,{},c)},Ut=function(u,c){_w.each("left center right".split(" "),function(h){u.formatter.remove("align"+h,{},c)})},jo=function(u,c){_w.each("top middle bottom".split(" "),function(h){u.formatter.remove("valign"+h,{},c)})},ug=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],si=function(u){return{value:u}},al=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Aw=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Yp=function(u){return al.test(u)||Aw.test(u)},T0=function(u){return Ad(u,"#").toUpperCase()},O0=function(u){return Yp(u)?Y.some({value:T0(u)}):Y.none()},D0=function(u){var c=u.toString(16);return(c.length===1?"0"+c:c).toUpperCase()},ad=function(u){var c=D0(u.red)+D0(u.green)+D0(u.blue);return si(c)},Jp=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Ew=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Tw=function(u,c,h,b){return{red:u,green:c,blue:h,alpha:b}},Ow=function(u,c,h,b){var x=parseInt(u,10),T=parseInt(c,10),M=parseInt(h,10),L=parseFloat(b);return Tw(x,T,M,L)},IT=function(u){if(u==="transparent")return Y.some(Tw(0,0,0,0));var c=Jp.exec(u);if(c!==null)return Y.some(Ow(c[1],c[2],c[3],"1"));var h=Ew.exec(u);return h!==null?Y.some(Ow(h[1],h[2],h[3],h[4])):Y.none()},Qx=function(u){return O0(u).orThunk(function(){return IT(u).map(ad)}).getOrThunk(function(){var c=document.createElement("canvas");c.height=1,c.width=1;var h=c.getContext("2d");h.clearRect(0,0,c.width,c.height),h.fillStyle="#FFFFFF",h.fillStyle=u,h.fillRect(0,0,1,1);var b=h.getImageData(0,0,1,1).data,x=b[0],T=b[1],M=b[2],L=b[3];return ad(Tw(x,T,M,L))})},nv=function(u){var c=u,h=function(){return c},b=function(x){c=x};return{get:h,set:b}},tf=function(u){var c=nv(Y.none()),h=function(){return c.get().each(u)},b=function(){h(),c.set(Y.none())},x=function(){return c.get().isSome()},T=function(){return c.get()},M=function(L){h(),c.set(Y.some(L))};return{clear:b,isSet:x,get:T,set:M}},vm=function(){return tf(function(u){return u.unbind()})},sg=function(){var u=tf(he),c=function(h){return u.get().each(h)};return Rt(Rt({},u),{on:c})},Dw=function(u,c,h,b){return function(x){var T=vm(),M=ni(b),L=function(){var Z=Ui(c),le=function(Se){return u.formatter.match(h,{value:b},Se.dom,M)};M?(x.setActive(!P(Z,le)),T.set(u.formatter.formatChanged(h,function(Se){return x.setActive(!Se)},!0))):(x.setActive(pe(Z,le)),T.set(u.formatter.formatChanged(h,x.setActive,!1,{value:b})))};return u.initialized?L():u.on("init",L),T.clear}},R0=function(u){return _e(u,"menu")},nf=function(u){return Dt(u,function(c){var h=c.text||c.title;return R0(c)?{text:h,items:nf(c.menu)}:{text:h,value:c.value}})},$l=function(u,c,h,b,x){return Dt(h,function(T){var M=T.text||T.title;return R0(T)?{type:"nestedmenuitem",text:M,getSubmenuItems:function(){return $l(u,c,T.menu,b,x)}}:{text:M,type:"togglemenuitem",onAction:function(){return x(T.value)},onSetup:Dw(u,c,b,T.value)}})},od=function(u,c){return function(h){var b;u.execCommand("mceTableApplyCellStyle",!1,(b={},b[c]=h,b))}},id=function(u){return ye(u,function(c){return R0(c)?[Rt(Rt({},c),{menu:id(c.menu)})]:Xr(c.value)?[c]:[]})},dm=function(u,c,h,b,x){return function(T){return T($l(u,c,h,b,x))}},lg=function(u,c,h){var b=Dt(c,function(x){return{text:x.title,value:"#"+Qx(x.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:b.length>0?b:void 0,allowCustomColors:!1},onAction:function(x){var T,M=x.value==="remove"?"":x.value;u.execCommand("mceTableApplyCellStyle",!1,(T={},T[h]=M,T))}}]},Rw=function(u){return function(){var c=u.queryCommandValue("mceTableRowType"),h=c==="header"?"body":"header";u.execCommand("mceTableRowType",!1,{type:h})}},Bw=function(u){return function(){var c=u.queryCommandValue("mceTableColType"),h=c==="th"?"td":"th";u.execCommand("mceTableColType",!1,{type:h})}},$w=function(u){var c=nf(Xc(u));return c.length>0?Y.some({name:"class",type:"listbox",label:"Class",items:c}):Y.none()},B0=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:ug}],Di=function(u){return B0.concat($w(u).toArray())},Ns=function(u,c){var h=[{text:"Select...",value:""}],b=[{name:"borderstyle",type:"listbox",label:"Border style",items:h.concat(nf(Qi(u)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],x={name:"borderwidth",type:"input",label:"Border width"},T=c==="cell"?[x].concat(b):b;return{title:"Advanced",name:"advanced",items:T}},ol=function(u){return function(c,h){var b=c.dom,x=function(L,Z){(!u||Z)&&b.setAttrib(h,L,Z)},T=function(L,Z){(!u||Z)&&b.setStyle(h,L,Z)},M=function(L,Z){(!u||Z)&&(Z===""?c.formatter.remove(L,{value:null},h,!0):c.formatter.apply(L,{value:Z},h))};return{setAttrib:x,setStyle:T,setFormat:M}}},rf={normal:ol(!1),ifTruthy:ol(!0)},cg=function(u){return function(c){return ps(c,"rgb")?u.toHex(c):c}},$0=function(u,c){var h=Lt.fromDom(c);return{borderwidth:lu(h,"border-width").getOr(""),borderstyle:lu(h,"border-style").getOr(""),bordercolor:lu(h,"border-color").map(cg(u)).getOr(""),backgroundcolor:lu(h,"background-color").map(cg(u)).getOr("")}},ud=function(u){var c=u[0],h=u.slice(1);return en(h,function(b){en(iu(c),function(x){xa(b,function(T,M){var L=c[x];L!==""&&x===M&&L!==T&&(c[x]="")})})}),c},mm=function(u,c,h,b){return Ne(u,function(x){return!ee(h.formatter.matchNode(b,c+x))}).getOr("")},hm=tt(mm,["left","center","right"],"align"),zT=tt(mm,["top","middle","bottom"],"valign"),Mw=function(u,c){var h=Zb(u),b=$p(u),x=function(Se){return{borderstyle:Ou(h,"border-style").getOr(""),bordercolor:cg(Se)(Ou(h,"border-color").getOr("")),backgroundcolor:cg(Se)(Ou(h,"background-color").getOr(""))}},T={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},M=function(){var Se=h["border-width"];return eu(u)&&Se?{border:Se}:Ou(b,"border").fold(function(){return{}},function(Xe){return{border:Xe}})},L=c?x(u.dom):{},Z=function(){var Se=Ou(h,"border-spacing").or(Ou(b,"cellspacing")).fold(function(){return{}},function(St){return{cellspacing:St}}),Xe=Ou(h,"border-padding").or(Ou(b,"cellpadding")).fold(function(){return{}},function(St){return{cellpadding:St}});return Rt(Rt({},Se),Xe)},le=Rt(Rt(Rt(Rt(Rt(Rt({},T),h),b),L),M()),Z());return le},e_=function(u){return Na(Lt.fromDom(u)).map(function(c){var h={selection:os(u.cells)};return Lu(c,h)}).getOr("")},t_=function(u,c,h){var b=function(L,Z){var le=lu(Lt.fromDom(Z),"border-width");return eu(u)&&le.isSome()?le.getOr(""):L.getAttrib(Z,"border")||Xp(u.dom,Z,"border-width")||Xp(u.dom,Z,"border")},x=u.dom,T=eu(u)?x.getStyle(c,"border-spacing")||x.getAttrib(c,"cellspacing"):x.getAttrib(c,"cellspacing")||x.getStyle(c,"border-spacing"),M=eu(u)?Xp(x,c,"padding")||x.getAttrib(c,"cellpadding"):x.getAttrib(c,"cellpadding")||Xp(x,c,"padding");return Rt({width:x.getStyle(c,"width")||x.getAttrib(c,"width"),height:x.getStyle(c,"height")||x.getAttrib(c,"height"),cellspacing:T,cellpadding:M,border:b(x,c),caption:!!x.select("caption",c)[0],class:x.getAttrib(c,"class",""),align:hm(u,c)},h?$0(x,c):{})},Pw=function(u,c,h){var b=u.dom;return Rt({height:b.getStyle(c,"height")||b.getAttrib(c,"height"),class:b.getAttrib(c,"class",""),type:e_(c),align:hm(u,c)},h?$0(b,c):{})},Nw=function(u,c,h,b){var x=u.dom,T=b.getOr(c),M=function(L,Z){return x.getStyle(L,Z)||x.getAttrib(L,Z)};return Rt({width:M(T,"width"),height:M(c,"height"),scope:x.getAttrib(c,"scope"),celltype:y2(c),class:x.getAttrib(c,"class",""),halign:hm(u,c),valign:zT(u,c)},h?$0(x,c):{})},ua=function(u,c){var h=Qn.fromTable(u),b=Qn.justCells(h),x=nr(b,function(T){return P(c,function(M){return Vr(T.element,M)})});return Dt(x,function(T){return{element:T.element.dom,column:Qn.getColumnAt(h,T.column).map(function(M){return M.element.dom})}})},af=function(u,c,h){u.setAttrib("scope",h.scope),u.setAttrib("class",h.class),u.setStyle("height",Ko(h.height)),c.setStyle("width",Ko(h.width))},n_=function(u,c){u.setFormat("tablecellbackgroundcolor",c.backgroundcolor),u.setFormat("tablecellbordercolor",c.bordercolor),u.setFormat("tablecellborderstyle",c.borderstyle),u.setFormat("tablecellborderwidth",Ko(c.borderwidth))},r_=function(u,c,h){var b=c.length===1;en(c,function(x){var T=x.element,M=b?rf.normal(u,T):rf.ifTruthy(u,T),L=x.column.map(function(Z){return b?rf.normal(u,Z):rf.ifTruthy(u,Z)}).getOr(M);af(M,L,h),Pp(u)&&n_(M,h),b&&(Ut(u,T),jo(u,T)),h.halign&&kw(u,T,h.halign),h.valign&&NT(u,T,h.valign)})},a_=function(u,c){u.execCommand("mceTableCellType",!1,{type:c.celltype,no_events:!0})},M0=function(u,c,h,b){var x=yl(b,function(T,M){return h[M]!==T});ws(x)>0&&c.length>=1&&Na(c[0]).each(function(T){var M=ua(T,c),L=ws(yl(x,function(le,Se){return Se!=="scope"&&Se!=="celltype"}))>0,Z=J(x,"celltype");(L||J(x,"scope"))&&r_(u,M,b),Z&&a_(u,b),Kc(u,T.dom,{structure:Z,style:L})})},Iw=function(u,c,h,b){var x=b.getData();b.close(),u.undoManager.transact(function(){M0(u,c,h,x),u.focus()})},Zp=function(u,c){var h=Na(c[0]).map(function(b){return Dt(ua(b,c),function(x){return Nw(u,x.element,Pp(u),x.column)})});return ud(h.getOrDie())},$n=function(u,c){var h=Ui(c);if(h.length!==0){var b=Zp(u,h),x={type:"tabpanel",tabs:[{title:"General",name:"general",items:Di(u)},Ns(u,"cell")]},T={type:"panel",items:[{type:"grid",columns:2,items:Di(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:Pp(u)?x:T,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b,onSubmit:tt(Iw,u,h,b)})}},LT=function(u){var c=nf(Jv(u));return c.length>0?Y.some({name:"class",type:"listbox",label:"Class",items:c}):Y.none()},zw=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],o_=function(u){return zw.concat(LT(u).toArray())},Lw=function(u,c){u.setAttrib("class",c.class),u.setStyle("height",Ko(c.height))},FT=function(u,c){u.setStyle("background-color",c.backgroundcolor),u.setStyle("border-color",c.bordercolor),u.setStyle("border-style",c.borderstyle)},i_=function(u,c,h,b){var x=c.length===1;en(c,function(T){var M=x?rf.normal(u,T):rf.ifTruthy(u,T);Lw(M,h),Np(u)&&FT(M,h),h.align!==b.align&&(Ut(u,T),kw(u,T,h.align))})},Fw=function(u,c){u.execCommand("mceTableRowType",!1,{type:c.type,no_events:!0})},Hw=function(u,c,h,b){var x=yl(b,function(L,Z){return h[Z]!==L});if(ws(x)>0){var T=J(x,"type"),M=T?ws(x)>1:!0;M&&i_(u,c,b,h),T&&Fw(u,b),Na(Lt.fromDom(c[0])).each(function(L){return Kc(u,L.dom,{structure:T,style:M})})}},HT=function(u,c,h,b){var x=b.getData();b.close(),u.undoManager.transact(function(){Hw(u,c,h,x),u.focus()})},Is=function(u){var c=ex(Ud(u),$s.selected);if(c.length!==0){var h=Dt(c,function(M){return Pw(u,M.dom,Np(u))}),b=ud(h),x={type:"tabpanel",tabs:[{title:"General",name:"general",items:o_(u)},Ns(u,"row")]},T={type:"panel",items:[{type:"grid",columns:2,items:o_(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:Np(u)?x:T,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b,onSubmit:tt(HT,u,Dt(c,function(M){return M.dom}),b)})}},wu=function(u,c,h){var b=h?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],x=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],T=cc(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],M=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],L=c.length>0?[{type:"listbox",name:"class",label:"Class",items:c}]:[];return b.concat(x).concat(T).concat(M).concat(L)},of=function(u,c,h,b){if(c.tagName==="TD"||c.tagName==="TH")E(h)?u.setStyle(c,h,b):u.setStyle(c,h);else if(c.children)for(var x=0;x<c.children.length;x++)of(u,c.children[x],h,b)},VT=function(u,c,h){var b=u.dom,x={},T={};if(x.class=h.class,T.height=Ko(h.height),b.getAttrib(c,"width")&&!eu(u)?x.width=Lv(h.width):T.width=Ko(h.width),eu(u)?(T["border-width"]=Ko(h.border),T["border-spacing"]=Ko(h.cellspacing)):(x.border=h.border,x.cellpadding=h.cellpadding,x.cellspacing=h.cellspacing),eu(u)&&c.children)for(var M=0;M<c.children.length;M++)of(b,c.children[M],{"border-width":Ko(h.border),padding:Ko(h.cellpadding)}),yu(u)&&of(b,c.children[M],{"border-color":h.bordercolor});yu(u)&&(T["background-color"]=h.backgroundcolor,T["border-color"]=h.bordercolor,T["border-style"]=h.borderstyle),x.style=b.serializeStyle(Rt(Rt({},Zb(u)),T)),b.setAttribs(c,Rt(Rt({},$p(u)),x))},UT=function(u,c,h,b){var x=u.dom,T=b.getData(),M=yl(T,function(L,Z){return h[Z]!==L});b.close(),T.class===""&&delete T.class,u.undoManager.transact(function(){if(!c){var L=parseInt(T.cols,10)||1,Z=parseInt(T.rows,10)||1;c=og(u,L,Z,0,0)}if(ws(M)>0){VT(u,c,T);var le=x.select("caption",c)[0];(le&&!T.caption||!le&&T.caption)&&u.execCommand("mceTableToggleCaption"),T.align===""?Ut(u,c):kw(u,c,T.align)}if(u.focus(),u.addVisual(),ws(M)>0){var Se=J(M,"caption"),Xe=Se?ws(M)>1:!0;Kc(u,c,{structure:Se,style:Xe})}})},Vw=function(u,c){var h=u.dom,b,x=Mw(u,yu(u));c===!1?(b=h.getParent(u.selection.getStart(),"table",u.getBody()),b?x=t_(u,b,yu(u)):yu(u)&&(x.borderstyle="",x.bordercolor="",x.backgroundcolor="")):(x.cols="1",x.rows="1",yu(u)&&(x.borderstyle="",x.bordercolor="",x.backgroundcolor=""));var T=nf(Ip(u));T.length>0&&x.class&&(x.class=x.class.replace(/\s*mce\-item\-table\s*/g,""));var M={type:"grid",columns:2,items:wu(u,T,c)},L=function(){return{type:"panel",items:[M]}},Z=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[M]},Ns(u,"table")]}},le=yu(u)?Z():L();u.windowManager.open({title:"Table Properties",size:"normal",body:le,onSubmit:tt(UT,u,b,x),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:x})},fr=function(u){return Va(Ud(u),Bs(u))},WT=function(u){return _i(Ud(u),Bs(u))},P0=function(u,c,h,b,x){var T=Bs(u),M=function(){return fr(u).each(function(hn){Na(hn,T).filter(He(T)).each(function(Fn){var vr=Lt.fromText("");if(ma(Fn,vr),Bu(Fn),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var sr=u.dom.createRng();sr.setStart(vr.dom,0),sr.setEnd(vr.dom,0),u.selection.setRng(sr),u.nodeChanged()}})})},L=function(hn){return fr(u).each(function(Fn){var vr=Ph(u)||Qf(u)||Ke(u);vr||Na(Fn,T).each(function(sr){hn==="relative"&&!Mb(sr)?Nh(sr):hn==="fixed"&&!ki(sr)?Ih(sr):hn==="responsive"&&!Pb(sr)&&n0(sr),du(sr),Kc(u,sr.dom,za)})})},Z=function(hn){return Na(hn,T)},le=function(hn){return WT(u).bind(function(Fn){return Z(Fn).map(function(vr){return hn(vr,Fn)})})},Se=function(hn,Fn){le(function(vr){u.formatter.toggle("tableclass",{value:Fn},vr.dom),Kc(u,vr.dom,em)})},Xe=function(hn,Fn){le(function(vr){var sr=Ui(b),ho=pe(sr,function(ci){return u.formatter.match("tablecellclass",{value:Fn},ci.dom)}),li=ho?u.formatter.remove:u.formatter.apply;en(sr,function(ci){return li("tablecellclass",{value:Fn},ci.dom)}),Kc(u,vr.dom,em)})},St=function(){fr(u).each(function(hn){Na(hn,T).each(function(Fn){Nn(Fn,"caption").fold(function(){var vr=Lt.fromTag("caption");Xa(vr,Lt.fromText("Caption")),cE(Fn,vr,0),u.selection.setCursorLocation(vr.dom,0)},function(vr){qo("caption")(hn)&&Ef("td",Fn).each(function(sr){return u.selection.setCursorLocation(sr.dom,0)}),Bu(vr)}),Kc(u,Fn.dom,za)})})},st=function(hn){u.focus()},Ye=function(hn,Fn){return Fn===void 0&&(Fn=!1),le(function(vr,sr){var ho=Wd(b,vr,sr);hn(vr,ho,Fn).each(st)})},Pt=function(){return le(function(hn,Fn){var vr=Wd(b,hn,Fn),sr=jn(he,Lt.fromDom(u.getDoc()),Y.none());return ig(hn,vr,sr)})},Ft=function(){return le(function(hn,Fn){var vr=Wd(b,hn,Fn);return xw(hn,vr)})},gn=function(hn,Fn){return Fn().each(function(vr){var sr=Dt(vr,function(ho){return Yr(ho)});le(function(ho,li){var ci=Rs(Lt.fromDom(u.getDoc())),xr=C2(b,li,sr,ci);hn(ho,xr).each(st)})})},Br=function(hn){return function(Fn,vr){return Ou(vr,"type").each(function(sr){Ye(hn(sr),vr.no_events)})}};xa({mceTableSplitCells:function(){return Ye(c.unmergeCells)},mceTableMergeCells:function(){return Ye(c.mergeCells)},mceTableInsertRowBefore:function(){return Ye(c.insertRowsBefore)},mceTableInsertRowAfter:function(){return Ye(c.insertRowsAfter)},mceTableInsertColBefore:function(){return Ye(c.insertColumnsBefore)},mceTableInsertColAfter:function(){return Ye(c.insertColumnsAfter)},mceTableDeleteCol:function(){return Ye(c.deleteColumn)},mceTableDeleteRow:function(){return Ye(c.deleteRow)},mceTableCutCol:function(){return Ft().each(function(hn){x.setColumns(hn),Ye(c.deleteColumn)})},mceTableCutRow:function(){return Pt().each(function(hn){x.setRows(hn),Ye(c.deleteRow)})},mceTableCopyCol:function(){return Ft().each(function(hn){return x.setColumns(hn)})},mceTableCopyRow:function(){return Pt().each(function(hn){return x.setRows(hn)})},mceTablePasteColBefore:function(){return gn(c.pasteColsBefore,x.getColumns)},mceTablePasteColAfter:function(){return gn(c.pasteColsAfter,x.getColumns)},mceTablePasteRowBefore:function(){return gn(c.pasteRowsBefore,x.getRows)},mceTablePasteRowAfter:function(){return gn(c.pasteRowsAfter,x.getRows)},mceTableDelete:M,mceTableCellToggleClass:Xe,mceTableToggleClass:Se,mceTableToggleCaption:St,mceTableSizingMode:function(hn,Fn){return L(Fn)},mceTableCellType:Br(function(hn){return hn==="th"?c.makeCellsHeader:c.unmakeCellsHeader}),mceTableColType:Br(function(hn){return hn==="th"?c.makeColumnsHeader:c.unmakeColumnsHeader}),mceTableRowType:Br(function(hn){switch(hn){case"header":return c.makeRowsHeader;case"footer":return c.makeRowsFooter;default:return c.makeRowsBody}})},function(hn,Fn){return u.addCommand(Fn,hn)}),xa({mceTableProps:tt(Vw,u,!1),mceTableRowProps:tt(Is,u),mceTableCellProps:tt($n,u,b)},function(hn,Fn){return u.addCommand(Fn,function(){return hn()})}),u.addCommand("mceInsertTable",function(hn,Fn){O(Fn)&&iu(Fn).length>0?Sw(u,Fn.rows,Fn.columns,Fn.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Vw(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(hn,Fn){var vr=function(li){return"tablecell"+li.toLowerCase().replace("-","")};if(O(Fn)){var sr=Ui(b);if(sr.length!==0){var ho=yl(Fn,function(li,ci){return u.formatter.has(vr(ci))&&E(li)});Pe(ho)||(xa(ho,function(li,ci){en(sr,function(xr){rf.normal(u,xr.dom).setFormat(vr(ci),li)})}),Z(sr[0]).each(function(li){return Kc(u,li.dom,em)}))}}})},N0=function(u,c,h){var b=Bs(u),x=function(T){return _i(Ud(u)).bind(function(M){return Na(M,b).map(function(L){var Z=Wd(h,L,M);return T(L,Z)})}).getOr("")};xa({mceTableRowType:function(){return x(c.getTableRowType)},mceTableCellType:function(){return x(c.getTableCellType)},mceTableColType:function(){return x(c.getTableColType)}},function(T,M){return u.addQueryValueHandler(M,T)})},I0=function(){var u=sg(),c=sg();return{getRows:u.get,setRows:function(h){h.fold(u.clear,u.set),c.clear()},clearRows:u.clear,getColumns:c.get,setColumns:function(h){h.fold(c.clear,c.set),u.clear()},clearColumns:c.clear}},Qp={remove_similar:!0,inherit:!1},rv=Rt({selector:"td,th"},Qp),e1={tablecellbackgroundcolor:Rt({styles:{backgroundColor:"%value"}},rv),tablecellverticalalign:Rt({styles:{"vertical-align":"%value"}},rv),tablecellbordercolor:Rt({styles:{borderColor:"%value"}},rv),tablecellclass:Rt({classes:["%value"]},rv),tableclass:Rt({selector:"table",classes:["%value"]},Qp),tablecellborderstyle:Rt({styles:{borderStyle:"%value"}},rv),tablecellborderwidth:Rt({styles:{borderWidth:"%value"}},rv)},jT=function(u){u.formatter.register(e1)},u_=Ic.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Uw=function(u){return u===void 0&&(u=void 0),u_.none(u)},sd=Rt(Rt({},u_),{none:Uw}),z0=function(u,c,h,b,x){x===void 0&&(x=Nt);var T=b===1;if(!T&&h<=0)return sd.first(u[0]);if(T&&h>=u.length-1)return sd.last(u[u.length-1]);var M=h+b,L=u[M];return x(L)?sd.middle(c,L):z0(u,c,M,b,x)},s_=function(u,c){return Na(u,c).bind(function(h){var b=zf(h),x=yt(b,function(T){return Vr(u,T)});return x.map(function(T){return{index:T,all:b}})})},GT=function(u,c,h){var b=s_(u,h);return b.fold(function(){return sd.none(u)},function(x){return z0(x.all,u,x.index,1,c)})},qT=function(u,c,h){var b=s_(u,h);return b.fold(function(){return sd.none()},function(x){return z0(x.all,u,x.index,-1,c)})},KT=function(u,c,h,b){return{start:u,soffset:c,finish:h,foffset:b}},gm={create:KT},Ww=Ic.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Sn=function(u,c,h,b){return u.fold(c,h,b)},l_=function(u){return u.fold(rt,rt,rt)},c_=Ww.before,XT=Ww.on,t1=Ww.after,ru={before:c_,on:XT,after:t1,cata:Sn,getStart:l_},n1=Ic.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),YT=function(u){return n1.exact(u.start,u.soffset,u.finish,u.foffset)},f_=function(u){return u.match({domRange:function(c){return Lt.fromDom(c.startContainer)},relative:function(c,h){return ru.getStart(c)},exact:function(c,h,b,x){return c}})},jw=n1.domRange,Gw=n1.relative,v_=n1.exact,qw=function(u){var c=f_(u);return rh(c)},Kw=gm.create,av={domRange:jw,relative:Gw,exact:v_,exactFromRange:YT,getWin:qw,range:Kw},JT=function(u,c){var h=u.document.createRange();return h.selectNode(c.dom),h},ZT=function(u,c){var h=u.document.createRange();return d_(h,c),h},d_=function(u,c){return u.selectNodeContents(c.dom)},QT=function(u,c){c.fold(function(h){u.setStartBefore(h.dom)},function(h,b){u.setStart(h.dom,b)},function(h){u.setStartAfter(h.dom)})},r1=function(u,c){c.fold(function(h){u.setEndBefore(h.dom)},function(h,b){u.setEnd(h.dom,b)},function(h){u.setEndAfter(h.dom)})},Wr=function(u,c,h){var b=u.document.createRange();return QT(b,c),r1(b,h),b},L0=function(u,c,h,b,x){var T=u.document.createRange();return T.setStart(c.dom,h),T.setEnd(b.dom,x),T},ov=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},Ml=function(u){var c=u.getClientRects(),h=c.length>0?c[0]:u.getBoundingClientRect();return h.width>0||h.height>0?Y.some(h).map(ov):Y.none()},ld=Ic.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Fu=function(u,c,h){return c(Lt.fromDom(h.startContainer),h.startOffset,Lt.fromDom(h.endContainer),h.endOffset)},F0=function(u,c){return c.match({domRange:function(h){return{ltr:Me(h),rtl:Y.none}},relative:function(h,b){return{ltr:Pn(function(){return Wr(u,h,b)}),rtl:Pn(function(){return Y.some(Wr(u,b,h))})}},exact:function(h,b,x,T){return{ltr:Pn(function(){return L0(u,h,b,x,T)}),rtl:Pn(function(){return Y.some(L0(u,x,T,h,b))})}}})},pm=function(u,c){var h=c.ltr();if(h.collapsed){var b=c.rtl().filter(function(x){return x.collapsed===!1});return b.map(function(x){return ld.rtl(Lt.fromDom(x.endContainer),x.endOffset,Lt.fromDom(x.startContainer),x.startOffset)}).getOrThunk(function(){return Fu(u,ld.ltr,h)})}else return Fu(u,ld.ltr,h)},fg=function(u,c){var h=F0(u,c);return pm(u,h)},cd=function(u,c){var h=fg(u,c);return h.match({ltr:function(b,x,T,M){var L=u.document.createRange();return L.setStart(b.dom,x),L.setEnd(T.dom,M),L},rtl:function(b,x,T,M){var L=u.document.createRange();return L.setStart(T.dom,M),L.setEnd(b.dom,x),L}})};ld.ltr,ld.rtl;var e3=function(u,c,h,b,x){if(x===0)return 0;if(c===b)return x-1;for(var T=b,M=1;M<x;M++){var L=u(M),Z=Math.abs(c-L.left);if(h<=L.bottom){if(h<L.top||Z>T)return M-1;T=Z}}return 0},m_=function(u,c,h){return c>=u.left&&c<=u.right&&h>=u.top&&h<=u.bottom},t3=function(u,c,h,b,x){var T=function(le){var Se=u.dom.createRange();return Se.setStart(c.dom,le),Se.collapse(!0),Se},M=function(le){var Se=T(le);return Se.getBoundingClientRect()},L=fb(c).length,Z=e3(M,h,b,x.right,L);return T(Z)},n3=function(u,c,h,b){var x=u.dom.createRange();x.selectNode(c.dom);var T=x.getClientRects(),M=Et(T,function(L){return m_(L,h,b)?Y.some(L):Y.none()});return M.map(function(L){return t3(u,c,h,b,L)})},ur=function(u,c,h,b){var x=u.dom.createRange(),T=ri(c);return Et(T,function(M){return x.selectNode(M.dom),m_(x.getBoundingClientRect(),h,b)?Pl(u,M,h,b):Y.none()})},Pl=function(u,c,h,b){return Xs(c)?n3(u,c,h,b):ur(u,c,h,b)},vg=function(u,c,h,b){var x=u.dom.createRange();x.selectNode(c.dom);var T=x.getBoundingClientRect(),M=Math.max(T.left,Math.min(T.right,h)),L=Math.max(T.top,Math.min(T.bottom,b));return Pl(u,c,M,L)},h_=!0,a1=!1,Cr=function(u,c){return c-u.left<u.right-c?h_:a1},g_=function(u,c,h){var b=u.dom.createRange();return b.selectNode(c.dom),b.collapse(h),b},p_=function(u,c,h){var b=u.dom.createRange();b.selectNode(c.dom);var x=b.getBoundingClientRect(),T=Cr(x,h),M=T===h_?Sb:xb;return M(c).map(function(L){return g_(u,L,T)})},o1=function(u,c,h){var b=c.dom.getBoundingClientRect(),x=Cr(b,h);return Y.some(g_(u,c,x))},b_=function(u,c,h){var b=ri(c).length===0?o1:p_;return b(u,c,h)},i1=function(u,c,h){var b,x;return Y.from((x=(b=u.dom).caretPositionFromPoint)===null||x===void 0?void 0:x.call(b,c,h)).bind(function(T){if(T.offsetNode===null)return Y.none();var M=u.dom.createRange();return M.setStart(T.offsetNode,T.offset),M.collapse(),Y.some(M)})},bm=function(u,c,h){var b,x;return Y.from((x=(b=u.dom).caretRangeFromPoint)===null||x===void 0?void 0:x.call(b,c,h))},Xw=function(u,c,h,b){var x=u.dom.createRange();x.selectNode(c.dom);var T=x.getBoundingClientRect(),M=Math.max(T.left,Math.min(T.right,h)),L=Math.max(T.top,Math.min(T.bottom,b));return vg(u,c,M,L)},Yw=function(u,c,h){return Lt.fromPoint(u,c,h).bind(function(b){var x=function(){return b_(u,b,c)};return ri(b).length===0?x():Xw(u,b,c,h).orThunk(x)})},y_=function(){return document.caretPositionFromPoint?i1:document.caretRangeFromPoint?bm:Yw}(),w_=function(u,c,h){var b=Lt.fromDom(u.document);return y_(b,c,h).map(function(x){return gm.create(Lt.fromDom(x.startContainer),x.startOffset,Lt.fromDom(x.endContainer),x.endOffset)})},fd=function(u,c){var h=Ur(u);return h==="input"?ru.after(u):xn(["br","img"],h)?c===0?ru.before(u):ru.after(u):ru.on(u,c)},ym=function(u,c){var h=u.fold(ru.before,fd,ru.after),b=c.fold(ru.before,fd,ru.after);return av.relative(h,b)},Jw=function(u,c,h,b){var x=fd(u,c),T=fd(h,b);return av.relative(x,T)},C_=function(u){return u.match({domRange:function(c){var h=Lt.fromDom(c.startContainer),b=Lt.fromDom(c.endContainer);return Jw(h,c.startOffset,b,c.endOffset)},relative:ym,exact:Jw})},H0=function(u,c,h,b){var x=Df(u),T=x.dom.createRange();return T.setStart(u.dom,c),T.setEnd(h.dom,b),T},r3=function(u,c,h,b){var x=H0(u,c,h,b),T=Vr(u,h)&&c===b;return x.collapsed&&!T},dg=function(u){return Y.from(u.getSelection())},Zw=function(u,c){dg(u).each(function(h){h.removeAllRanges(),h.addRange(c)})},Qw=function(u,c,h,b,x){var T=L0(u,c,h,b,x);Zw(u,T)},S_=function(u,c,h,b,x,T){c.collapse(h.dom,b),c.extend(x.dom,T)},eC=function(u,c){return fg(u,c).match({ltr:function(h,b,x,T){Qw(u,h,b,x,T)},rtl:function(h,b,x,T){dg(u).each(function(M){if(M.setBaseAndExtent)M.setBaseAndExtent(h.dom,b,x.dom,T);else if(M.extend)try{S_(u,M,h,b,x,T)}catch{Qw(u,x,T,h,b)}else Qw(u,x,T,h,b)})}})},V0=function(u,c,h,b,x){var T=Jw(c,h,b,x);eC(u,T)},U0=function(u,c,h){var b=ym(c,h);eC(u,b)},tC=function(u){var c=av.getWin(u).dom,h=function(x,T,M,L){return L0(c,x,T,M,L)},b=C_(u);return fg(c,b).match({ltr:h,rtl:h})},nC=function(u){if(u.rangeCount>0){var c=u.getRangeAt(0),h=u.getRangeAt(u.rangeCount-1);return Y.some(gm.create(Lt.fromDom(c.startContainer),c.startOffset,Lt.fromDom(h.endContainer),h.endOffset))}else return Y.none()},x_=function(u){if(u.anchorNode===null||u.focusNode===null)return nC(u);var c=Lt.fromDom(u.anchorNode),h=Lt.fromDom(u.focusNode);return r3(c,u.anchorOffset,h,u.focusOffset)?Y.some(gm.create(c,u.anchorOffset,h,u.focusOffset)):nC(u)},wm=function(u,c,h){h===void 0&&(h=!0);var b=h?ZT:JT,x=b(u,c);Zw(u,x)},mg=function(u){return dg(u).filter(function(c){return c.rangeCount>0}).bind(x_)},__=function(u){return mg(u).map(function(c){return av.exact(c.start,c.soffset,c.finish,c.foffset)})},k_=function(u,c){var h=cd(u,c);return Ml(h)},W0=function(u,c,h){return w_(u,c,h)},A_=function(u){dg(u).each(function(c){return c.removeAllRanges()})},E_=tinymce.util.Tools.resolve("tinymce.util.VK"),rC=function(u,c,h){return D_(u,c,GT(h,Dp))},T_=function(u,c,h){return D_(u,c,qT(h,Dp))},O_=function(u,c){var h=av.exact(c,0,c,0);return tC(h)},D_=function(u,c,h){return h.fold(Y.none,Y.none,function(b,x){return Sb(x).map(function(T){return O_(u,T)})},function(b){return u.execCommand("mceTableInsertRowAfter"),rC(u,c,b)})},a3=["table","li","dl"],R_=function(u,c,h){if(u.keyCode===E_.TAB){var b=Vc(c),x=function(L){var Z=Ur(L);return Vr(L,b)||xn(a3,Z)},T=c.selection.getRng(),M=Lt.fromDom(u.shiftKey?T.startContainer:T.endContainer);Ql(M,x).each(function(L){u.preventDefault(),Na(L,x).each(h.clear),c.selection.collapse(u.shiftKey);var Z=u.shiftKey?T_:rC,le=Z(c,x,L);le.each(function(Se){c.selection.setRng(Se)})})}},aC=function(u,c){return{selection:u,kill:c}},hg={create:aC},o3=function(u,c,h,b){return{start:ru.on(u,c),finish:ru.on(h,b)}},B_={create:o3},$_=function(u,c){var h=cd(u,c);return gm.create(Lt.fromDom(h.startContainer),h.startOffset,Lt.fromDom(h.endContainer),h.endOffset)},il=B_.create,M_=function(u,c,h,b,x,T,M){return Vr(h,x)&&b===T?Y.none():qa(h,"td,th",c).bind(function(L){return qa(x,"td,th",c).bind(function(Z){return P_(u,c,L,Z,M)})})},P_=function(u,c,h,b,x){return Vr(h,b)?Y.none():Rv(h,b,c).bind(function(T){var M=T.boxes.getOr([]);return M.length>1?(x(u,M,T.start,T.finish),Y.some(hg.create(Y.some(il(h,0,h,Ol(h))),!0))):Y.none()})},j0=function(u,c,h,b,x){var T=function(M){return x.clearBeforeUpdate(h),x.selectRange(h,M.boxes,M.start,M.finish),M.boxes};return dh(b,u,c,x.firstSelectedSelector,x.lastSelectedSelector).map(T)},G0=function(u,c){return{item:u,mode:c}},oC=function(u,c,h,b){return b===void 0&&(b=Cm),u.property().parent(c).map(function(x){return G0(x,b)})},Cm=function(u,c,h,b){return b===void 0&&(b=gg),h.sibling(u,c).map(function(x){return G0(x,b)})},gg=function(u,c,h,b){b===void 0&&(b=gg);var x=u.property().children(c),T=h.first(x);return T.map(function(M){return G0(M,b)})},N_=[{current:oC,next:Cm,fallback:Y.none()},{current:Cm,next:gg,fallback:Y.some(oC)},{current:gg,next:gg,fallback:Y.some(Cm)}],I_=function(u,c,h,b,x){x===void 0&&(x=N_);var T=Ne(x,function(M){return M.current===h});return T.bind(function(M){return M.current(u,c,b,M.next).orThunk(function(){return M.fallback.bind(function(L){return I_(u,c,L,b)})})})},q0=function(){var u=function(h,b){return h.query().prevSibling(b)},c=function(h){return h.length>0?Y.some(h[h.length-1]):Y.none()};return{sibling:u,first:c}},i3=function(){var u=function(h,b){return h.query().nextSibling(b)},c=function(h){return h.length>0?Y.some(h[0]):Y.none()};return{sibling:u,first:c}},K0={left:q0,right:i3},u1=function(u,c,h,b,x,T){var M=I_(u,c,b,x);return M.bind(function(L){return T(L.item)?Y.none():h(L.item)?Y.some(L.item):u1(u,L.item,h,L.mode,x,T)})},X0=function(u,c,h,b){return u1(u,c,h,Cm,K0.left(),b)},z_=function(u,c,h,b){return u1(u,c,h,Cm,K0.right(),b)},Y0=function(u){return function(c){return u.property().children(c).length===0}},ul=function(u,c,h){return J0(u,c,Y0(u),h)},u3=function(u,c,h){return L_(u,c,Y0(u),h)},J0=X0,L_=z_,s1=mp(),l1=function(u,c){return ul(s1,u,c)},iC=function(u,c){return u3(s1,u,c)},F_=function(u,c,h){return J0(s1,u,c,h)},H_=function(u,c,h){return L_(s1,u,c,h)},V_=function(u,c,h){return Fa(u,c,h).isSome()},Z0=Ic.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),vd=function(u,c,h){var b=u.getRect(c),x=u.getRect(h);return x.right>b.left&&x.left<b.right},s3=function(u){return qa(u,"tr")},l3=function(u,c,h,b,x,T,M){return qa(b,"td,th",M).bind(function(L){return qa(c,"td,th",M).map(function(Z){return Vr(L,Z)?Vr(b,L)&&Ol(L)===x?T(Z):Z0.none("in same cell"):yn(s3,[L,Z]).fold(function(){return vd(u,Z,L)?Z0.success():T(Z)},function(le){return T(Z)})})}).getOr(Z0.none("default"))},c3=function(u,c,h,b,x){return u.fold(c,h,b,x)},dd=Rt(Rt({},Z0),{verify:l3,cata:c3}),f3=function(u,c,h,b){return{parent:u,children:c,element:h,index:b}},uC=function(u){return bo(u).bind(function(c){var h=ri(c);return v3(h,u).map(function(b){return f3(c,h,u,b)})})},v3=function(u,c){return yt(u,tt(Vr,c))},pg=function(u){return Ur(u)==="br"},sC=function(u,c,h){return c(u,h).bind(function(b){return Xs(b)&&fb(b).trim().length===0?sC(b,c,h):Y.some(b)})},U_=function(u,c,h){return h.traverse(c).orThunk(function(){return sC(c,h.gather,u)}).map(h.relative)},Q0=function(u,c){return ah(u,c).filter(pg).orThunk(function(){return ah(u,c-1).filter(pg)})},W_=function(u,c,h,b){return Q0(c,h).bind(function(x){return b.traverse(x).fold(function(){return sC(x,b.gather,u).map(b.relative)},function(T){return uC(T).map(function(M){return ru.on(M.parent,M.index)})})})},j_=function(u,c,h,b){var x=pg(c)?U_(u,c,b):W_(u,c,h,b);return x.map(function(T){return{start:T,finish:T}})},d3=function(u){return dd.cata(u,function(c){return Y.none()},function(){return Y.none()},function(c){return Y.some(rm(c,0))},function(c){return Y.some(rm(c,Ol(c)))})},ey=function(u,c){return{left:u.left,top:u.top+c,right:u.right,bottom:u.bottom+c}},ty=function(u,c){return{left:u.left,top:u.top-c,right:u.right,bottom:u.bottom-c}},lC=function(u,c,h){return{left:u.left+c,top:u.top+h,right:u.right+c,bottom:u.bottom+h}},G_=function(u){return u.top},q_=function(u){return u.bottom},Sm=function(u,c,h){return h>=0&&h<Ol(c)?u.getRangedRect(c,h,c,h+1):h>0?u.getRangedRect(c,h-1,c,h):Y.none()},c1=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},ny=function(u,c){return Y.some(u.getRect(c))},f1=function(u,c,h){return da(c)?ny(u,c).map(c1):Xs(c)?Sm(u,c,h).map(c1):Y.none()},K_=function(u,c){return da(c)?ny(u,c).map(c1):Xs(c)?u.getRangedRect(c,0,c,Ol(c)).map(c1):Y.none()},iv=5,m3=100,uf=Ic.generate([{none:[]},{retry:["caret"]}]),X_=function(u,c){return u.left<c.left||Math.abs(c.right-u.left)<1||u.left>c.right},ry=function(u,c,h){return ub(c,nd).fold(mn,function(b){return K_(u,b).exists(function(x){return X_(h,x)})})},cC=function(u,c,h,b,x){var T=ey(x,iv);return Math.abs(h.bottom-b.bottom)<1||h.top>x.bottom?uf.retry(T):h.top===x.bottom?uf.retry(ey(x,1)):ry(u,c,x)?uf.retry(lC(T,iv,0)):uf.none()},h3=function(u,c,h,b,x){var T=ty(x,iv);return Math.abs(h.top-b.top)<1||h.bottom<x.top?uf.retry(T):h.bottom===x.top?uf.retry(ty(x,1)):ry(u,c,x)?uf.retry(lC(T,iv,0)):uf.none()},md={point:G_,adjuster:h3,move:ty,gather:l1},Y_={point:q_,adjuster:cC,move:ey,gather:iC},J_=function(u,c,h){return u.elementFromPoint(c,h).filter(function(b){return Ur(b)==="table"}).isSome()},g3=function(u,c,h,b,x){return fC(u,c,h,c.move(b,iv),x)},fC=function(u,c,h,b,x){return x===0?Y.some(b):J_(u,b.left,c.point(b))?g3(u,c,h,b,x-1):u.situsFromPoint(b.left,c.point(b)).bind(function(T){return T.start.fold(Y.none,function(M){return K_(u,M).bind(function(L){return c.adjuster(u,M,L,h,b).fold(Y.none,function(Z){return fC(u,c,h,Z,x-1)})}).orThunk(function(){return Y.some(b)})},Y.none)})},bg=function(u,c){return u.situsFromPoint(c.left,c.bottom+iv)},yg=function(u,c){return u.situsFromPoint(c.left,c.top-iv)},Z_=function(u,c,h){return u.point(c)>h.getInnerHeight()?Y.some(u.point(c)-h.getInnerHeight()):u.point(c)<0?Y.some(-u.point(c)):Y.none()},vC=function(u,c,h){var b=u.move(h,iv),x=fC(c,u,h,b,m3).getOr(b);return Z_(u,x,c).fold(function(){return c.situsFromPoint(x.left,u.point(x))},function(T){return c.scrollBy(0,T),c.situsFromPoint(x.left,u.point(x)-T)})},Nl={tryUp:tt(vC,md),tryDown:tt(vC,Y_),ieTryUp:yg,ieTryDown:bg,getJumpSize:Me(iv)},hd=20,Tn=function(u,c,h){return u.getSelection().bind(function(b){return j_(c,b.finish,b.foffset,h).fold(function(){return Y.some(rm(b.finish,b.foffset))},function(x){var T=u.fromSitus(x),M=dd.verify(u,b.finish,b.foffset,T.finish,T.foffset,h.failure,c);return d3(M)})})},dC=function(u,c,h,b,x,T){return T===0?Y.none():p3(u,c,h,b,x).bind(function(M){var L=u.fromSitus(M),Z=dd.verify(u,h,b,L.finish,L.foffset,x.failure,c);return dd.cata(Z,function(){return Y.none()},function(){return Y.some(M)},function(le){return Vr(h,le)&&b===0?sf(u,h,b,ty,x):dC(u,c,le,0,x,T-1)},function(le){return Vr(h,le)&&b===Ol(le)?sf(u,h,b,ey,x):dC(u,c,le,Ol(le),x,T-1)})})},sf=function(u,c,h,b,x){return f1(u,c,h).bind(function(T){return Q_(u,x,b(T,Nl.getJumpSize()))})},Q_=function(u,c,h){var b=ql().browser;return b.isChrome()||b.isSafari()||b.isFirefox()||b.isEdge()?c.otherRetry(u,h):b.isIE()?c.ieRetry(u,h):Y.none()},p3=function(u,c,h,b,x){return f1(u,h,b).bind(function(T){return Q_(u,x,T)})},ek=function(u,c,h){return Tn(u,c,h).bind(function(b){return dC(u,c,b.element,b.offset,h,hd).map(u.fromSitus)})},v1=function(u,c){return V_(u,function(h){return bo(h).exists(function(b){return Vr(b,c)})})},gc=function(u,c,h,b,x){return qa(b,"td,th",c).bind(function(T){return qa(T,"table",c).bind(function(M){return v1(x,M)?ek(u,c,h).bind(function(L){return qa(L.finish,"td,th",c).map(function(Z){return{start:T,finish:Z,range:L}})}):Y.none()})})},ay=function(u,c,h,b,x,T){return ql().browser.isIE()?Y.none():T(b,c).orThunk(function(){return gc(u,c,h,b,x).map(function(M){var L=M.range;return hg.create(Y.some(il(L.start,L.soffset,L.finish,L.foffset)),!0)})})},tk=function(u,c){return qa(u,"tr",c).bind(function(h){return qa(h,"table",c).bind(function(b){var x=Ju(b,"tr");return Vr(h,x[0])?F_(b,function(T){return xb(T).isSome()},c).map(function(T){var M=Ol(T);return hg.create(Y.some(il(T,M,T,M)),!0)}):Y.none()})})},Vn=function(u,c){return qa(u,"tr",c).bind(function(h){return qa(h,"table",c).bind(function(b){var x=Ju(b,"tr");return Vr(h,x[x.length-1])?H_(b,function(T){return Sb(T).isSome()},c).map(function(T){return hg.create(Y.some(il(T,0,T,0)),!0)}):Y.none()})})},mC=function(u,c,h,b,x,T,M){return gc(u,h,b,x,T).bind(function(L){return P_(c,h,L.start,L.finish,M)})},Gn=function(u,c){return qa(u,"td,th",c)},hC=function(u,c,h,b){var x=sg(),T=x.clear,M=function(Se){x.on(function(Xe){b.clearBeforeUpdate(c),Gn(Se.target,h).each(function(St){Rv(Xe,St,h).each(function(st){var Ye=st.boxes.getOr([]);if(Ye.length===1){var Pt=Ye[0],Ft=$2(Pt)==="false",gn=Jl(Zd(Se.target),Pt,Vr);Ft&&gn&&(b.selectRange(c,Ye,Pt,Pt),u.selectContents(Pt))}else Ye.length>1&&(b.selectRange(c,Ye,st.start,st.finish),u.selectContents(St))})})})},L=function(Se){b.clear(c),Gn(Se.target,h).each(x.set)},Z=function(Se){M(Se)},le=function(Se){M(Se),T()};return{clearstate:T,mousedown:L,mouseover:Z,mouseup:le}},nk={traverse:De,gather:iC,relative:ru.before,otherRetry:Nl.tryDown,ieRetry:Nl.ieTryDown,failure:dd.failedDown},rk={traverse:Ov,gather:l1,relative:ru.before,otherRetry:Nl.tryUp,ieRetry:Nl.ieTryUp,failure:dd.failedUp},wg=function(u){return function(c){return c===u}},Cg=wg(38),Sg=wg(40),xg=function(u){return u>=37&&u<=40},b3={isBackward:wg(37),isForward:wg(39)},Ln={isBackward:wg(39),isForward:wg(37)},ak=function(u){var c=u!==void 0?u.dom:document,h=c.body.scrollLeft||c.documentElement.scrollLeft,b=c.body.scrollTop||c.documentElement.scrollTop;return fa(h,b)},gC=function(u,c,h){var b=h!==void 0?h.dom:document,x=b.defaultView;x&&x.scrollBy(u,c)},d1=function(u){var c=function(Ft,gn){return Lt.fromPoint(Lt.fromDom(u.document),Ft,gn)},h=function(Ft){return Ft.dom.getBoundingClientRect()},b=function(Ft,gn,Br,hn){var Fn=av.exact(Ft,gn,Br,hn);return k_(u,Fn)},x=function(){return __(u).map(function(Ft){return $_(u,Ft)})},T=function(Ft){var gn=av.relative(Ft.start,Ft.finish);return $_(u,gn)},M=function(Ft,gn){return W0(u,Ft,gn).map(function(Br){return B_.create(Br.start,Br.soffset,Br.finish,Br.foffset)})},L=function(){A_(u)},Z=function(Ft){Ft===void 0&&(Ft=!1),__(u).each(function(gn){return gn.fold(function(Br){return Br.collapse(Ft)},function(Br,hn){var Fn=Ft?Br:hn;U0(u,Fn,Fn)},function(Br,hn,Fn,vr){var sr=Ft?Br:Fn,ho=Ft?hn:vr;V0(u,sr,ho,sr,ho)})})},le=function(Ft){wm(u,Ft,!1)},Se=function(Ft){wm(u,Ft)},Xe=function(Ft){V0(u,Ft.start,Ft.soffset,Ft.finish,Ft.foffset)},St=function(Ft,gn){U0(u,Ft,gn)},st=function(){return u.innerHeight},Ye=function(){var Ft=ak(Lt.fromDom(u.document));return Ft.top},Pt=function(Ft,gn){gC(Ft,gn,Lt.fromDom(u.document))};return{elementFromPoint:c,getRect:h,getRangedRect:b,getSelection:x,fromSitus:T,situsFromPoint:M,clearSelection:L,collapseSelection:Z,setSelection:Xe,setRelativeSelection:St,selectNode:le,selectContents:Se,getInnerHeight:st,getScrollY:Ye,scrollBy:Pt}},gd=function(u,c){return{rows:u,cols:c}},ok=function(u,c,h,b){var x=d1(u),T=hC(x,c,h,b);return{clearstate:T.clearstate,mousedown:T.mousedown,mouseover:T.mouseover,mouseup:T.mouseup}},oy=function(u,c,h,b){var x=d1(u),T=function(){return b.clear(c),Y.none()},M=function(Z,le,Se,Xe,St,st){var Ye=Z.raw,Pt=Ye.which,Ft=Ye.shiftKey===!0,gn=vh(c,b.selectedSelector).fold(function(){return xg(Pt)&&!Ft&&b.clearBeforeUpdate(c),Sg(Pt)&&Ft?tt(mC,x,c,h,nk,Xe,le,b.selectRange):Cg(Pt)&&Ft?tt(mC,x,c,h,rk,Xe,le,b.selectRange):Sg(Pt)?tt(ay,x,h,nk,Xe,le,Vn):Cg(Pt)?tt(ay,x,h,rk,Xe,le,tk):Y.none},function(Br){var hn=function(Fn){return function(){var vr=Et(Fn,function(sr){return j0(sr.rows,sr.cols,c,Br,b)});return vr.fold(function(){return xl(c,b.firstSelectedSelector,b.lastSelectedSelector).map(function(sr){var ho=Sg(Pt)||st.isForward(Pt)?ru.after:ru.before;return x.setRelativeSelection(ru.on(sr.first,0),ho(sr.table)),b.clear(c),hg.create(Y.none(),!0)})},function(sr){return Y.some(hg.create(Y.none(),!0))})}};return Sg(Pt)&&Ft?hn([gd(1,0)]):Cg(Pt)&&Ft?hn([gd(-1,0)]):st.isBackward(Pt)&&Ft?hn([gd(0,-1),gd(-1,0)]):st.isForward(Pt)&&Ft?hn([gd(0,1),gd(1,0)]):xg(Pt)&&!Ft?T:Y.none});return gn()},L=function(Z,le,Se,Xe,St){return vh(c,b.selectedSelector).fold(function(){var st=Z.raw,Ye=st.which,Pt=st.shiftKey===!0;return Pt&&xg(Ye)?M_(c,h,le,Se,Xe,St,b.selectRange):Y.none()},Y.none)};return{keydown:M,keyup:L}},pC=function(u,c,h,b){var x=d1(u);return function(T,M){b.clearBeforeUpdate(c),Rv(T,M,h).each(function(L){var Z=L.boxes.getOr([]);b.selectRange(c,Z,L.start,L.finish),x.selectContents(M),x.collapseSelection()})}},y3=function(u,c){en(c,function(h){Pu(u,h)})},ik=function(u){return function(c){Vo(c,u)}},w3=function(u){return function(c){y3(c,u)}},iy=function(u){var c=ik(u.selected),h=w3([u.selected,u.lastSelected,u.firstSelected]),b=function(T){var M=Ju(T,u.selectedSelector);en(M,h)},x=function(T,M,L,Z){b(T),en(M,c),Vo(L,u.firstSelected),Vo(Z,u.lastSelected)};return{clearBeforeUpdate:b,clear:b,selectRange:x,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},C3=function(u,c,h){var b=function(Z){ka(Z,u.selected),ka(Z,u.firstSelected),ka(Z,u.lastSelected)},x=function(Z){No(Z,u.selected,"1")},T=function(Z){M(Z),h()},M=function(Z){var le=Ju(Z,u.selectedSelector+","+u.firstSelectedSelector+","+u.lastSelectedSelector);en(le,b)},L=function(Z,le,Se,Xe){T(Z),en(le,x),No(Se,u.firstSelected,"1"),No(Xe,u.lastSelected,"1"),c(le,Se,Xe)};return{clearBeforeUpdate:M,clear:T,selectRange:L,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},uy={byClass:iy,byAttr:C3},uk=function(u,c){var h=u.slice(0,c[c.length-1].row+1),b=s0(h);return ye(b,function(x){var T=x.cells.slice(0,c[c.length-1].column+1);return Dt(T,function(M){return M.element})})},sk=function(u,c){var h=u.slice(c[0].row+c[0].rowspan-1,u.length),b=s0(h);return ye(b,function(x){var T=x.cells.slice(c[0].column+c[0].colspan-1,x.cells.length);return Dt(T,function(M){return M.element})})},S3=function(u,c,h){var b=Qn.fromTable(u),x=fc(b,c);return x.map(function(T){var M=Qv(b,h,!1),L=uk(M,T),Z=sk(M,T);return{upOrLeftCells:L,downOrRightCells:Z}})},lk=tinymce.util.Tools.resolve("tinymce.Env"),bC=function(u){return ha(Lt.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function Sr(u,c,h){var b=function(M,L,Z){h.targets().each(function(le){var Se=Na(L);Se.each(function(Xe){var St=t0(u),st=jn(he,Lt.fromDom(u.getDoc()),St),Ye=S3(Xe,le,st);Mh(u,M,L,Z,Ye)})})},x=function(){return dx(u)},T=uy.byAttr($s,b,x);return u.on("init",function(M){var L=u.getWin(),Z=Vc(u),le=Bs(u),Se=function(){var xr=u.selection,Un=Lt.fromDom(xr.getStart()),yr=Lt.fromDom(xr.getEnd()),ra=yn(Na,[Un,yr]);ra.fold(function(){return T.clear(Z)},he)},Xe=ok(L,Z,le,T),St=oy(L,Z,le,T),st=pC(L,Z,le,T),Ye=function(xr){return xr.raw.shiftKey===!0};u.on("TableSelectorChange",function(xr){return st(xr.start,xr.finish)});var Pt=function(xr,Un){Ye(xr)&&(Un.kill&&xr.kill(),Un.selection.each(function(yr){var ra=av.relative(yr.start,yr.finish),Ja=cd(L,ra);u.selection.setRng(Ja)}))},Ft=function(xr){var Un=Jf(xr);if(Un.raw.shiftKey&&xg(Un.raw.which)){var yr=u.selection.getRng(),ra=Lt.fromDom(yr.startContainer),Ja=Lt.fromDom(yr.endContainer);St.keyup(Un,ra,yr.startOffset,Ja,yr.endOffset).each(function(uv){Pt(Un,uv)})}},gn=function(xr){var Un=Jf(xr);c().each(function(ea){return ea.hideBars()});var yr=u.selection.getRng(),ra=Lt.fromDom(yr.startContainer),Ja=Lt.fromDom(yr.endContainer),uv=rs(b3,Ln)(Lt.fromDom(u.selection.getStart()));St.keydown(Un,ra,yr.startOffset,Ja,yr.endOffset,uv).each(function(ea){Pt(Un,ea)}),c().each(function(ea){return ea.showBars()})},Br=function(xr){return xr.button===0},hn=function(xr){return xr.buttons===void 0||lk.browser.isEdge()&&xr.buttons===0?!0:(xr.buttons&1)!==0},Fn=function(xr){Xe.clearstate()},vr=function(xr){Br(xr)&&bC(xr)&&Xe.mousedown(Jf(xr))},sr=function(xr){hn(xr)&&bC(xr)&&Xe.mouseover(Jf(xr))},ho=function(xr){Br(xr)&&bC(xr)&&Xe.mouseup(Jf(xr))},li=function(){var xr=nv(Lt.fromDom(Z)),Un=nv(0),yr=function(ra){var Ja=Lt.fromDom(ra.target);if(Ur(Ja)==="td"||Ur(Ja)==="th"){var uv=xr.get(),ea=Un.get();Vr(uv,Ja)&&ra.timeStamp-ea<300&&(ra.preventDefault(),st(Ja,Ja))}xr.set(Ja),Un.set(ra.timeStamp)};return{touchEnd:yr}},ci=li();u.on("dragstart",Fn),u.on("mousedown",vr),u.on("mouseover",sr),u.on("mouseup",ho),u.on("touchend",ci.touchEnd),u.on("keyup",Ft),u.on("keydown",gn),u.on("NodeChange",Se)}),{clear:T.clear}}var ck=function(u,c){return Nn(u,c).isSome()},sy=function(u,c){var h=nv(Y.none()),b=nv([]),x=Y.none(),T=qo("caption"),M=function(Un){return x.forall(function(yr){return!yr[Un]})},L=function(){return Va(Ud(u),Bs(u))},Z=function(){return Va(ln(u),Bs(u))},le=function(){return L().bind(function(Un){return $f(Qu(Na(Un),Z().bind(Na),function(yr,ra){return Vr(yr,ra)?T(Un)?Y.some(w2(Un)):Y.some(Wd(c,yr,Un)):Y.none()}))})},Se=function(Un){var yr=Na(Un.element);return yr.map(function(ra){var Ja=Qn.fromTable(ra),uv=fc(Ja,Un).getOr([]),ea=K(uv,function(ss,fi){return fi.isLocked&&(ss.onAny=!0,fi.column===0?ss.onFirst=!0:fi.column+fi.colspan>=Ja.grid.columns&&(ss.onLast=!0)),ss},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:ew(Ja,Un).isSome(),unmergeable:f0(Ja,Un).isSome(),locked:ea}})},Xe=function(){h.set(Pn(le)()),x=h.get().bind(Se),en(b.get(),function(Un){return Un()})},St=function(Un){return Un(),b.set(b.get().concat([Un])),function(){b.set(nr(b.get(),function(yr){return yr!==Un}))}},st=function(Un,yr){return St(function(){return h.get().fold(function(){Un.setDisabled(!0)},function(ra){Un.setDisabled(yr(ra))})})},Ye=function(Un,yr,ra){return St(function(){return h.get().fold(function(){Un.setDisabled(!0),Un.setActive(!1)},function(Ja){Un.setDisabled(yr(Ja)),Un.setActive(ra(Ja))})})},Pt=function(Un){return x.exists(function(yr){return yr.locked[Un]})},Ft=function(Un){return st(Un,function(yr){return!1})},gn=function(Un){return st(Un,function(yr){return T(yr.element)})},Br=function(Un){return function(yr){return st(yr,function(ra){return T(ra.element)||Pt(Un)})}},hn=function(Un){return function(yr){return st(yr,function(ra){return T(ra.element)||Un().isNone()})}},Fn=function(Un,yr){return function(ra){return st(ra,function(Ja){return T(Ja.element)||Un().isNone()||Pt(yr)})}},vr=function(Un){return st(Un,function(yr){return M("mergeable")})},sr=function(Un){return st(Un,function(yr){return M("unmergeable")})},ho=function(Un){return Ye(Un,mn,function(yr){var ra=Na(yr.element,Bs(u));return ra.exists(function(Ja){return ck(Ja,"caption")})})},li=function(Un,yr){return function(ra){return Ye(ra,function(Ja){return T(Ja.element)},function(){return u.queryCommandValue(Un)===yr})}},ci=li("mceTableRowType","header"),xr=li("mceTableColType","th");return u.on("NodeChange ExecCommand TableSelectorChange",Xe),{onSetupTable:Ft,onSetupCellOrRow:gn,onSetupColumn:Br,onSetupPasteable:hn,onSetupPasteableColumn:Fn,onSetupMergeable:vr,onSetupUnmergeable:sr,resetTargets:Xe,onSetupTableWithCaption:ho,onSetupTableRowHeaders:ci,onSetupTableColumnHeaders:xr,targets:h.get}},yC=function(u,c,h,b){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(L){return L("inserttable | cell row column | advtablesort | tableprops deletetable")}});var x=function(L){return function(){return u.execCommand(L)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:x("mceTableProps"),icon:"table",onSetup:h.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:x("mceTableDelete"),icon:"table-delete-table",onSetup:h.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:x("mceTableCellProps"),icon:"table-cell-properties",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:x("mceTableMergeCells"),icon:"table-merge-cells",onSetup:h.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:x("mceTableSplitCells"),icon:"table-split-cells",onSetup:h.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:x("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:x("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:x("mceTableDeleteRow"),icon:"table-delete-row",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:x("mceTableRowProps"),icon:"table-row-properties",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:x("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:h.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:x("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:h.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:x("mceTableDeleteCol"),icon:"table-delete-column",onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:x("mceTableCutRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:x("mceTableCopyRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:x("mceTablePasteRowBefore"),onSetup:h.onSetupPasteable(b.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:x("mceTablePasteRowAfter"),onSetup:h.onSetupPasteable(b.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:x("mceTableCutCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:x("mceTableCopyCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:x("mceTablePasteColBefore"),onSetup:h.onSetupPasteableColumn(b.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:x("mceTablePasteColAfter"),onSetup:h.onSetupPasteableColumn(b.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:x("mceInsertTable"),icon:"table"});var T=id(Ip(u));T.length!==0&&u.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:dm(u,c,T,"tableclass",function(L){return u.execCommand("mceTableToggleClass",!1,L)}),onSetup:h.onSetupTable});var M=id(Xc(u));M.length!==0&&u.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:dm(u,c,M,"tablecellclass",function(L){return u.execCommand("mceTableCellToggleClass",!1,L)}),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:dm(u,c,ug,"tablecellverticalalign",od(u,"vertical-align")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:dm(u,c,hx(u),"tablecellborderwidth",od(u,"border-width")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:dm(u,c,Qi(u),"tablecellborderstyle",od(u,"border-style")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:x("mceTableToggleCaption"),icon:"table-caption",onSetup:h.onSetupTableWithCaption}),u.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(L){return L(lg(u,U2(u),"background-color"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(L){return L(lg(u,W2(u),"border-color"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:Rw(u),onSetup:h.onSetupTableRowHeaders}),u.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:Bw(u),onSetup:h.onSetupTableColumnHeaders})},fk=function(u){var c=function(b){return u.dom.is(b,"table")&&u.getBody().contains(b)},h=GE(u);h.length>0&&u.ui.registry.addContextToolbar("table",{predicate:c,items:h,scope:"node",position:"node"})},wC=function(u,c,h,b){var x=function(st){return function(){return u.execCommand(st)}},T=function(st){u.execCommand("mceInsertTable",!1,{rows:st.numRows,columns:st.numColumns})},M={text:"Table properties",onSetup:h.onSetupTable,onAction:x("mceTableProps")},L={text:"Delete table",icon:"table-delete-table",onSetup:h.onSetupTable,onAction:x("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:x("mceTableInsertRowBefore"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:x("mceTableInsertRowAfter"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:x("mceTableDeleteRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:x("mceTableRowProps"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:x("mceTableCutRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:x("mceTableCopyRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:x("mceTablePasteRowBefore"),onSetup:h.onSetupPasteable(b.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:x("mceTablePasteRowAfter"),onSetup:h.onSetupPasteable(b.getRows)});var Z={type:"nestedmenuitem",text:"Row",getSubmenuItems:Me("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:x("mceTableInsertColBefore"),onSetup:h.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:x("mceTableInsertColAfter"),onSetup:h.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:x("mceTableDeleteCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:x("mceTableCutCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:x("mceTableCopyCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:x("mceTablePasteColBefore"),onSetup:h.onSetupPasteableColumn(b.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:x("mceTablePasteColAfter"),onSetup:h.onSetupPasteableColumn(b.getColumns,"onLast")});var le={type:"nestedmenuitem",text:"Column",getSubmenuItems:Me("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:x("mceTableCellProps"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:x("mceTableMergeCells"),onSetup:h.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:x("mceTableSplitCells"),onSetup:h.onSetupUnmergeable});var Se={type:"nestedmenuitem",text:"Cell",getSubmenuItems:Me("tablecellprops tablemergecells tablesplitcells")};gx(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:x("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:T}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:x("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",M),u.ui.registry.addMenuItem("deletetable",L),u.ui.registry.addNestedMenuItem("row",Z),u.ui.registry.addNestedMenuItem("column",le),u.ui.registry.addNestedMenuItem("cell",Se),u.ui.registry.addContextMenu("table",{update:function(){return h.resetTargets(),h.targets().fold(Me(""),function(st){return Ur(st.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var Xe=id(Ip(u));Xe.length!==0&&u.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return $l(u,c,Xe,"tableclass",function(st){return u.execCommand("mceTableToggleClass",!1,st)})},onSetup:h.onSetupTable});var St=id(Xc(u));St.length!==0&&u.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return $l(u,c,St,"tablecellclass",function(st){return u.execCommand("mceTableCellToggleClass",!1,st)})},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return $l(u,c,ug,"tablecellverticalalign",od(u,"vertical-align"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return $l(u,c,hx(u),"tablecellborderwidth",od(u,"border-width"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return $l(u,c,Qi(u),"tablecellborderstyle",od(u,"border-style"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:x("mceTableToggleCaption"),onSetup:h.onSetupTableWithCaption}),u.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return lg(u,U2(u),"background-color")},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return lg(u,W2(u),"border-color")},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:Rw(u),onSetup:h.onSetupTableRowHeaders}),u.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:Bw(u),onSetup:h.onSetupTableColumnHeaders})},m1=function(u){var c=Fi(function(){return Vc(u)},function(){return _i(Ud(u),Bs(u))},$s.selectedSelector),h=sy(u,c),b=r0(u),x=Sr(u,b.lazyResize,h),T=RT(u,x,b.lazyWire),M=I0();return P0(u,T,x,c,M),N0(u,T,c),Dl(u,c,T),wC(u,c,h,M),yC(u,c,h,M),fk(u),u.on("PreInit",function(){u.serializer.addTempAttr($s.firstSelected),u.serializer.addTempAttr($s.lastSelected),jT(u)}),lc(u)&&u.on("keydown",function(L){R_(L,u,x)}),u.on("remove",function(){b.destroy()}),ef(u,M,b,h)};function ly(){VS.add("table",m1)}ly()})();const PS=`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment{background-color:#fff0b7}.tox-comments-visible .tox-comment--active{background-color:#ffe168}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden):before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A);cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked:before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A)}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden):before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body *[data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body *[contentEditable=false]{cursor:default}.mce-content-body *[contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A),default}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-object{background:transparent url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A) no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--21by9,.tiny-pageembed--16by9,.tiny-pageembed--4by3,.tiny-pageembed--1by1{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--21by9 iframe,.tiny-pageembed--16by9 iframe,.tiny-pageembed--4by3 iframe,.tiny-pageembed--1by1 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks):before{color:#222f3eb3;content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks):before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks):before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,.mce-content-body .mce-clonedresizable.mce-resizetable-columns td{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor:before{background-color:inherit;border-radius:50%;content:"";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover:after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body img[data-mce-selected],.mce-content-body video[data-mce-selected],.mce-content-body audio[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body table[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,.mce-content-body.mce-content-readonly *[contentEditable=true]:hover{outline:none}.mce-content-body *[data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:none}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:none}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{background-color:#b4d7ffb3;border:1px solid rgba(180,215,255,.7);bottom:-1px;content:"";left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{border-color:#0054b4b3}}.mce-content-body img::-moz-selection{background:none}.mce-content-body img::selection{background:none}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}table[style*="border-width: 0px"],.mce-item-table:not([border]),.mce-item-table[border="0"],table[style*="border-width: 0px"] td,.mce-item-table:not([border]) td,.mce-item-table[border="0"] td,table[style*="border-width: 0px"] th,.mce-item-table:not([border]) th,.mce-item-table[border="0"] th,table[style*="border-width: 0px"] caption,.mce-item-table:not([border]) caption,.mce-item-table[border="0"] caption{border:1px dashed #bbb}.mce-visualblocks p,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks section,.mce-visualblocks article,.mce-visualblocks blockquote,.mce-visualblocks address,.mce-visualblocks pre,.mce-visualblocks figure,.mce-visualblocks figcaption,.mce-visualblocks hgroup,.mce-visualblocks aside,.mce-visualblocks ul,.mce-visualblocks ol,.mce-visualblocks dl{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) ul,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) dl{margin-left:3px}.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] ul,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] dl{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy:after{content:"-"}body{font-family:sans-serif}table{border-collapse:collapse}
`,NS=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) th,table:not([cellpadding]) td{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) th,table[border]:not([border="0"]):not([style*=border-width]) td{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) th,table[border]:not([border="0"]):not([style*=border-style]) td{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) th,table[border]:not([border="0"]):not([style*=border-color]) td{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}
`;const Aae={class:"row"},Eae=U("hr",{class:"divider"},null,-1),Tae={class:"row content-row"},Oae={class:"row content-row"},Dae=U("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Rae=U("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Bae={class:"content-row"},$ae=U("h3",null,"Zertifikat Bild",-1),Mae=U("hr",{class:"divider"},null,-1),Pae={key:0,class:"image"},Nae=["src"],Iae={class:"row"},zae={class:"col"},Lae={class:"content-row"},Fae={class:"errorMessages"},HH={__name:"ZertifikateForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newCertificate"],setup(d,{emit:m}){const w=d,S=At({"name:de":"","name:en":"","description:de":"","description:en":"",image:null}),E=At([]),O=At(w.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen"),B=At(null),I=Gm(),G=()=>(E.value=[],S.value["name:de"]===""&&E.value.push("Bitte geben Sie einen Namen (DE) ein"),S.value["name:en"]===""&&E.value.push("Bitte geben Sie einen Namen (EN) ein"),E.value.length===0),ee=()=>{G()&&(O.value=w.editMode?"Zertifikat aktualisieren...":"Zertifikat erstellen...",S.value["description:de"]=Zr.get("editor_de").getContent(),S.value["description:en"]=Zr.get("editor_en").getContent(),Wn.post("/certificates",S.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(oe=>{O.value=w.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",w.insidePopup?m("newCertificate",oe.data.certificate):I.push("/zertifikate")}).catch(oe=>{console.log(oe),O.value=w.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",oe.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Zertifikat")}))},ae=()=>{G()&&(O.value=w.editMode?"Zertifikat aktualisieren...":"Zertifikat erstellen...",S.value["description:de"]=Zr.get("editor_de").getContent(),S.value["description:en"]=Zr.get("editor_en").getContent(),Wn.patch(`/certificates/${w.id}`,S.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(oe=>{O.value=w.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",I.push("/zertifikate")}).catch(oe=>{console.log(oe),O.value=w.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",oe.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Zertifikat")}))},me=oe=>{const he=oe.target.files;if(console.log(he),he)for(let Q=0;Q<he.length;Q++){const Ct=he[Q],Me=new FormData;Me.append("file",Ct),Wn.post("/media",Me,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(rt=>{S.value.image=rt.data.media.id,B.value=rt.data.media.url}).catch(rt=>{console.log(rt),window.alert("Fehler beim Upload des Bildes")})}};lo(async()=>{w.editMode&&ie(),Zr.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:PS.toString()+`
`+NS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:oe=>{oe.on("init",()=>{oe.setContent("<p>Zertifikats Beschreibung</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const ie=()=>{Wn.get(`/certificates/${w.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(oe=>{S.value=oe.data.certificate,S.value["name:de"]=oe.data.certificate.translations[0].name,S.value["name:en"]=oe.data.certificate.translations[1].name,S.value.image=oe.data.certificate.image,oe.data.certificate.image!==null&&(B.value=oe.data.certificate.image.url),Zr.get("editor_de").setContent(oe.data.certificate.translations[0].description),Zr.get("editor_en").setContent(oe.data.certificate.translations[1].description)}).catch(oe=>{oe.response.status===401?sessionStorage.removeItem("token"):console.log(oe)})};return ep(()=>{w.insidePopup||Zr.remove()}),(oe,he)=>{const Q=eo("router-Link");return Ve(),Ze(Or,null,[U("div",Aae,[U("h1",null,ir(w.editMode?"Zertifikat Aktualisieren":"Zertifikat Erstellen"),1),w.insidePopup?(Ve(),Ze("button",{key:1,class:"button-primary",onClick:he[0]||(he[0]=Ct=>m("closePopup"))}," Abbrechen ")):(Ve(),_d(Q,{key:0,to:"/zertifikate",class:"button-primary"},{default:Jt(()=>[Tr("Abbrechen")]),_:1}))]),Eae,U("div",Tae,[_t(Ca,{lang:"de",title:"Zertifikat (DE)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":he[1]||(he[1]=Ct=>S.value["name:de"]=Ct),placeholder:"Name"},null,512),[[cr,S.value["name:de"]]])]),_:1}),_t(Ca,{lang:"en",title:"Zertifikat (EN)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":he[2]||(he[2]=Ct=>S.value["name:en"]=Ct),placeholder:"Name"},null,512),[[cr,S.value["name:en"]]])]),_:1})]),U("div",Oae,[_t(Ca,{lang:"de",title:"Beschreibung"},{content:Jt(()=>[Dae]),_:1}),_t(Ca,{lang:"en",title:"Description"},{content:Jt(()=>[Rae]),_:1})]),U("div",Bae,[$ae,Mae,B.value?(Ve(),Ze("div",Pae,[U("img",{src:B.value},null,8,Nae)])):Lr("",!0),U("div",Iae,[U("div",zae,[U("input",{type:"file",onChange:me},null,32)])])]),U("div",Lae,[U("button",{class:"button-primary",onClick:he[3]||(he[3]=Ct=>w.editMode?ae():ee())},ir(O.value),1),U("div",Fae,[(Ve(!0),Ze(Or,null,po(E.value,Ct=>(Ve(),Ze("p",{key:Ct},ir(Ct),1))),128))])])],64)}}};const Hae={key:0,class:"Popup"},Vae={class:"addPopup"},Uae={class:"select-container"},Wae={class:"chip-container"},jae={class:"chip-name"},Gae=["onClick"],qae=U("img",{src:MS,alt:"close",width:"15",height:"15"},null,-1),Kae=[qae],Xae={key:0,class:"selectable-options"},Yae=["onClick"],Jae={class:"option-content"},Zae={key:0,class:"option-avatar"},Qae=["src"],eoe={class:"option-name"},toe={__name:"CertificateSelect",props:{selectedCertificate:{type:Array,default:()=>[]}},setup(d,{expose:m}){const w=d,S=At([]),E=At(!1),O=At(!1),B=At([]),I=Qo(()=>B.value.filter(oe=>oe.name.toLowerCase().includes(G.value.toLowerCase()))),G=At(""),ee=oe=>{S.value.push(oe),B.value.push(oe),O.value=!1},ae=async()=>(await Wn.get("/certificates")).data.certificates,me=oe=>{S.value.includes(oe)||S.value.push(oe)};window.addEventListener("click",oe=>{oe.target.closest(".select-container")||(E.value=!1)});function ie(){return S.value.map(oe=>oe.id)}return m({getData:ie}),lo(async()=>{B.value=await ae()}),Um(()=>w.selectedCertificate,oe=>{S.value=oe}),(oe,he)=>(Ve(),Ze("div",null,[O.value?(Ve(),Ze("div",Hae,[U("div",{class:"popupBackground",onClick:he[0]||(he[0]=Q=>O.value=!1)}),U("div",Vae,[_t(HH,{insidePopup:!0,onClosePopup:he[1]||(he[1]=Q=>O.value=!1),onNewCertificate:ee})])])):Lr("",!0),U("div",Uae,[U("div",{class:"combobox",onClick:he[3]||(he[3]=Q=>E.value=!0)},[U("div",Wae,[(Ve(!0),Ze(Or,null,po(S.value,Q=>(Ve(),Ze("div",{class:"chip",key:Q.id},[U("div",jae,ir(Q.name),1),U("div",{class:"chip-remove",onClick:Ct=>S.value.splice(S.value.indexOf(Q),1)},Kae,8,Gae)]))),128))]),E.value||S.value.length===0?ar((Ve(),Ze("input",{key:0,type:"search","onUpdate:modelValue":he[2]||(he[2]=Q=>G.value=Q),placeholder:"Name des Zertifikates"},null,512)),[[cr,G.value]]):Lr("",!0)]),E.value?(Ve(),Ze("div",Xae,[(Ve(!0),Ze(Or,null,po(I.value,Q=>(Ve(),Ze("div",{class:"option",key:Q.id,onClick:Ct=>me(Q)},[U("div",Jae,[Q.image?(Ve(),Ze("div",Zae,[U("img",{src:Q.image.url,alt:"avatar"},null,8,Qae)])):Lr("",!0),U("div",eoe,ir(Q.name),1)])],8,Yae))),128)),I.value.length===0?(Ve(),Ze("div",{key:0,class:"option",onClick:he[4]||(he[4]=Q=>O.value=!0)},' "'+ir(G.value)+'" hinzufügen ? ',1)):Lr("",!0)])):Lr("",!0)])]))}},noe={class:"row"},roe=U("hr",{class:"divider"},null,-1),aoe={class:"row content-row"},ooe={class:"row content-row"},ioe=U("div",null,[U("a",{style:{"margin-top":"15px","margin-bottom":"5px","text-decoration":"underline"},href:"https://www.welt-flaggen.de/register/laenderkuerzel/"}," Liste der Länderkürzel "),U("p",null," Bitte die Kürzel der Länder von dieser Seite nehmen damit die Flaggen erscheinen. Über die Suche werden die Kürzel sofort dargestellt (2-Stellig). ")],-1),uoe={class:"content-row"},soe={class:"errorMessages"},VH={__name:"SprachenForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newLanguage"],setup(d,{emit:m}){const w=d,S=At({"name:de":"","name:en":"","description:de":"","description:en":""}),E=At([]),O=At(w.editMode?"Sprache aktualisieren":"Sprache erstellen"),B=At(null),I=Gm(),G=()=>(E.value=[],S.value["name:de"]===""&&E.value.push("Bitte geben Sie einen Namen (DE) ein"),S.value["name:en"]===""&&E.value.push("Bitte geben Sie einen Namen (EN) ein"),E.value.length===0),ee=()=>{G()&&(O.value=w.editMode?"Sprache aktualisieren...":"Sprache erstellen...",Wn.post("/languages",S.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{O.value=w.editMode?"Sprache aktualisieren":"Sprache erstellen",w.insidePopup?m("newLanguage",ie.data.language):I.push("/sprachen")}).catch(ie=>{console.log(ie),O.value=w.editMode?"Sprache aktualisieren":"Sprache erstellen",ie.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Sprache")}))},ae=()=>{G()&&(O.value=w.editMode?"Sprache aktualisieren...":"Sprache erstellen...",S.value.image!==null&&(S.value.image=S.value.image.id),S.value.tours!==null&&(S.value.tours=S.value.tours.map(ie=>ie.id)),S.value.guides!==null&&(S.value.guides=S.value.guides.map(ie=>ie.id)),Wn.patch(`/languages/${w.id}`,S.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{O.value=w.editMode?"Sprache aktualisieren":"Sprache erstellen",I.push("/sprachen")}).catch(ie=>{console.log(ie),O.value=w.editMode?"Sprache aktualisieren":"Sprache erstellen",ie.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Sprache")}))};lo(async()=>{w.editMode&&me()});const me=()=>{Wn.get(`/languages/${w.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{S.value=ie.data.language,S.value["name:de"]=ie.data.language.translations[0].name,S.value["name:en"]=ie.data.language.translations[1].name,S.value["description:de"]=ie.data.language.translations[0].description,S.value["description:en"]=ie.data.language.translations[1].description,S.value.image=ie.data.language.image,ie.data.language.image!==null&&(B.value=ie.data.language.image.url)}).catch(ie=>{ie.response.status===401?sessionStorage.removeItem("token"):console.log(ie)})};return ep(()=>{w.insidePopup||tinymce.remove()}),(ie,oe)=>{const he=eo("router-Link");return Ve(),Ze(Or,null,[U("div",noe,[U("h1",null,ir(w.editMode?"Sprache Aktualisieren":"Sprache Erstellen"),1),w.insidePopup?(Ve(),Ze("button",{key:1,class:"button-primary",onClick:oe[0]||(oe[0]=Q=>m("closePopup"))}," Abbrechen ")):(Ve(),_d(he,{key:0,to:"/sprachen",class:"button-primary"},{default:Jt(()=>[Tr("Abbrechen")]),_:1}))]),roe,U("div",aoe,[_t(Ca,{lang:"de",title:"Sprache (DE)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":oe[1]||(oe[1]=Q=>S.value["name:de"]=Q),placeholder:"Name"},null,512),[[cr,S.value["name:de"]]])]),_:1}),_t(Ca,{lang:"en",title:"Sprache (EN)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":oe[2]||(oe[2]=Q=>S.value["name:en"]=Q),placeholder:"Name"},null,512),[[cr,S.value["name:en"]]])]),_:1})]),U("div",ooe,[_t(Ca,{lang:"de",title:"Kürzel (DE)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":oe[3]||(oe[3]=Q=>S.value["description:de"]=Q),placeholder:"Kürzel"},null,512),[[cr,S.value["description:de"]]])]),_:1}),_t(Ca,{lang:"en",title:"Kürzel (EN)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":oe[4]||(oe[4]=Q=>S.value["description:en"]=Q),placeholder:"Shortname"},null,512),[[cr,S.value["description:en"]]])]),_:1}),ioe]),U("div",uoe,[U("button",{class:"button-primary",onClick:oe[5]||(oe[5]=Q=>w.editMode?ae():ee())},ir(O.value),1),U("div",soe,[(Ve(!0),Ze(Or,null,po(E.value,Q=>(Ve(),Ze("p",{key:Q},ir(Q),1))),128))])])],64)}}};const loe={key:0,class:"Popup"},coe={class:"addPopup"},foe={class:"select-container"},voe={class:"chip-container"},doe={class:"chip-name"},moe=["onClick"],hoe=U("img",{src:MS,alt:"close",width:"15",height:"15"},null,-1),goe=[hoe],poe={key:0,class:"selectable-options"},boe=["onClick"],yoe={class:"option-content"},woe={key:0,class:"option-avatar"},Coe=["src"],Soe={class:"option-name"},xoe={__name:"SprachenSelect",props:{selectedLanguages:{type:Array,default:()=>[]}},setup(d,{expose:m}){const w=d,S=At([]),E=At(!1),O=At(!1),B=At([]),I=Qo(()=>B.value.filter(oe=>oe.name.toLowerCase().includes(G.value.toLowerCase()))),G=At(""),ee=oe=>{S.value.push(oe),B.value.push(oe),O.value=!1},ae=async()=>(await Wn.get("/languages")).data.languages,me=oe=>{S.value.includes(oe)||S.value.push(oe)};window.addEventListener("click",oe=>{oe.target.closest(".select-container")||(E.value=!1)});function ie(){return S.value.map(oe=>oe.id)}return m({getData:ie}),lo(async()=>{B.value=await ae()}),Um(()=>w.selectedLanguages,oe=>{S.value=oe}),(oe,he)=>(Ve(),Ze("div",null,[O.value?(Ve(),Ze("div",loe,[U("div",{class:"popupBackground",onClick:he[0]||(he[0]=Q=>O.value=!1)}),U("div",coe,[_t(VH,{insidePopup:!0,onClosePopup:he[1]||(he[1]=Q=>O.value=!1),onNewLanguage:ee})])])):Lr("",!0),U("div",foe,[U("div",{class:"combobox",onClick:he[3]||(he[3]=Q=>E.value=!0)},[U("div",voe,[(Ve(!0),Ze(Or,null,po(S.value,Q=>(Ve(),Ze("div",{class:"chip",key:Q.id},[U("div",doe,ir(Q.name),1),U("div",{class:"chip-remove",onClick:Ct=>S.value.splice(S.value.indexOf(Q),1)},goe,8,moe)]))),128))]),E.value||S.value.length===0?ar((Ve(),Ze("input",{key:0,type:"search","onUpdate:modelValue":he[2]||(he[2]=Q=>G.value=Q),placeholder:"Name der Sprache"},null,512)),[[cr,G.value]]):Lr("",!0)]),E.value?(Ve(),Ze("div",poe,[(Ve(!0),Ze(Or,null,po(I.value,Q=>(Ve(),Ze("div",{class:"option",key:Q.id,onClick:Ct=>me(Q)},[U("div",yoe,[Q.image?(Ve(),Ze("div",woe,[U("img",{src:Q.image.url,alt:"avatar"},null,8,Coe)])):Lr("",!0),U("div",Soe,ir(Q.name),1)])],8,boe))),128)),I.value.length===0?(Ve(),Ze("div",{key:0,class:"option",onClick:he[4]||(he[4]=Q=>O.value=!0)},' "'+ir(G.value)+'" hinzufügen ? ',1)):Lr("",!0)])):Lr("",!0)])]))}},_oe={class:"row"},koe=U("hr",{class:"divider"},null,-1),Aoe={class:"row content-row"},Eoe={class:"content-row"},Toe={class:"errorMessages"},UH={__name:"SkillForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newSkill"],setup(d,{emit:m}){const w=d,S=At({"name:de":"","name:en":"","description:de":"","description:en":""}),E=At([]),O=At(w.editMode?"Skill aktualisieren":"Skill erstellen"),B=At(null),I=Gm(),G=()=>(E.value=[],S.value["name:de"]===""&&E.value.push("Bitte geben Sie einen Namen (DE) ein"),S.value["name:en"]===""&&E.value.push("Bitte geben Sie einen Namen (EN) ein"),E.value.length===0),ee=()=>{G()&&(O.value=w.editMode?"Skill aktualisieren...":"Skill erstellen...",Wn.post("/skills",S.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{O.value=w.editMode?"Skill aktualisieren":"Skill erstellen",w.insidePopup?m("newSkill",ie.data.skill):I.push("/skills")}).catch(ie=>{console.log(ie),O.value=w.editMode?"Skill aktualisieren":"Skill erstellen",ie.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Skill")}))},ae=()=>{G()&&(O.value=w.editMode?"Skill aktualisieren...":"Skill erstellen...",S.value.image!==null&&(S.value.image=S.value.image.id),S.value.guides!==null&&(S.value.guides=S.value.guides.map(ie=>ie.id)),Wn.patch(`/skills/${w.id}`,S.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{O.value=w.editMode?"Skill aktualisieren":"Skill erstellen",I.push("/skills")}).catch(ie=>{console.log(ie),O.value=w.editMode?"Skill aktualisieren":"Skill erstellen",ie.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Skill")}))};lo(async()=>{w.editMode&&me()});const me=()=>{Wn.get(`/skills/${w.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{S.value=ie.data.skill,S.value["name:de"]=ie.data.skill.translations[0].name,S.value["name:en"]=ie.data.skill.translations[1].name,S.value.image=ie.data.skill.image,ie.data.skill.image!==null&&(B.value=ie.data.skill.image.url)}).catch(ie=>{ie.response.status===401?sessionStorage.removeItem("token"):console.log(ie)})};return ep(()=>{w.insidePopup||tinymce.remove()}),(ie,oe)=>{const he=eo("router-Link");return Ve(),Ze(Or,null,[U("div",_oe,[U("h1",null,ir(w.editMode?"Skill Aktualisieren":"Skill Erstellen"),1),w.insidePopup?(Ve(),Ze("button",{key:1,class:"button-primary",onClick:oe[0]||(oe[0]=Q=>m("closePopup"))}," Abbrechen ")):(Ve(),_d(he,{key:0,to:"/skills",class:"button-primary"},{default:Jt(()=>[Tr("Abbrechen")]),_:1}))]),koe,U("div",Aoe,[_t(Ca,{lang:"de",title:"Skill (DE)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":oe[1]||(oe[1]=Q=>S.value["name:de"]=Q),placeholder:"Name"},null,512),[[cr,S.value["name:de"]]])]),_:1}),_t(Ca,{lang:"en",title:"Skill (EN)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":oe[2]||(oe[2]=Q=>S.value["name:en"]=Q),placeholder:"Name"},null,512),[[cr,S.value["name:en"]]])]),_:1})]),U("div",Eoe,[U("button",{class:"button-primary",onClick:oe[3]||(oe[3]=Q=>w.editMode?ae():ee())},ir(O.value),1),U("div",Toe,[(Ve(!0),Ze(Or,null,po(E.value,Q=>(Ve(),Ze("p",{key:Q},ir(Q),1))),128))])])],64)}}};const Ooe={key:0,class:"Popup"},Doe={class:"addPopup"},Roe={class:"select-container"},Boe={class:"chip-container"},$oe={class:"chip-name"},Moe=["onClick"],Poe=U("img",{src:MS,alt:"close",width:"15",height:"15"},null,-1),Noe=[Poe],Ioe={key:0,class:"selectable-options"},zoe=["onClick"],Loe={class:"option-content"},Foe={key:0,class:"option-avatar"},Hoe=["src"],Voe={class:"option-name"},Uoe={__name:"SkillSelect",props:{selectedSkills:{type:Array,default:()=>[]}},setup(d,{expose:m}){const w=d,S=At([]),E=At(!1),O=At(!1),B=At([]),I=Qo(()=>B.value.filter(oe=>oe.name.toLowerCase().includes(G.value.toLowerCase()))),G=At(""),ee=oe=>{S.value.push(oe),B.value.push(oe),O.value=!1},ae=async()=>(await Wn.get("/skills")).data.skills,me=oe=>{S.value.includes(oe)||S.value.push(oe)};window.addEventListener("click",oe=>{oe.target.closest(".select-container")||(E.value=!1)});function ie(){return S.value.map(oe=>oe.id)}return m({getData:ie}),lo(async()=>{B.value=await ae()}),Um(()=>w.selectedSkills,oe=>{S.value=oe}),(oe,he)=>(Ve(),Ze("div",null,[O.value?(Ve(),Ze("div",Ooe,[U("div",{class:"popupBackground",onClick:he[0]||(he[0]=Q=>O.value=!1)}),U("div",Doe,[_t(UH,{insidePopup:!0,onClosePopup:he[1]||(he[1]=Q=>O.value=!1),onNewSkill:ee})])])):Lr("",!0),U("div",Roe,[U("div",{class:"combobox",onClick:he[3]||(he[3]=Q=>E.value=!0)},[U("div",Boe,[(Ve(!0),Ze(Or,null,po(S.value,Q=>(Ve(),Ze("div",{class:"chip",key:Q.id},[U("div",$oe,ir(Q.name),1),U("div",{class:"chip-remove",onClick:Ct=>S.value.splice(S.value.indexOf(Q),1)},Noe,8,Moe)]))),128))]),E.value||S.value.length===0?ar((Ve(),Ze("input",{key:0,type:"search","onUpdate:modelValue":he[2]||(he[2]=Q=>G.value=Q),placeholder:"Name des Skills"},null,512)),[[cr,G.value]]):Lr("",!0)]),E.value?(Ve(),Ze("div",Ioe,[(Ve(!0),Ze(Or,null,po(I.value,Q=>(Ve(),Ze("div",{class:"option",key:Q.id,onClick:Ct=>me(Q)},[U("div",Loe,[Q.image?(Ve(),Ze("div",Foe,[U("img",{src:Q.image.url,alt:"avatar"},null,8,Hoe)])):Lr("",!0),U("div",Voe,ir(Q.name),1)])],8,zoe))),128)),I.value.length===0?(Ve(),Ze("div",{key:0,class:"option",onClick:he[4]||(he[4]=Q=>O.value=!0)},' "'+ir(G.value)+'" hinzufügen ? ',1)):Lr("",!0)])):Lr("",!0)])]))}},Woe={class:"row"},joe=U("hr",{class:"divider"},null,-1),Goe={class:"row content-row"},qoe={class:"row content-row"},Koe=U("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Xoe=U("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Yoe={class:"content-row"},Joe={class:"errorMessages"},WH={__name:"MobilitaetForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newMobility"],setup(d,{emit:m}){const w=d,S=At({"name:de":"","name:en":"","description:de":"","description:en":""}),E=At([]),O=At(w.editMode?"Mobilität aktualisieren":"Mobilität erstellen"),B=At(null),I=Gm(),G=()=>(E.value=[],S.value["name:de"]===""&&E.value.push("Bitte geben Sie einen Namen (DE) ein"),S.value["name:en"]===""&&E.value.push("Bitte geben Sie einen Namen (EN) ein"),E.value.length===0),ee=()=>{G()&&(O.value=w.editMode?"Mobilität aktualisieren...":"Mobilität erstellen...",S.value["description:de"]=Zr.get("editor_de").getContent(),S.value["description:en"]=Zr.get("editor_en").getContent(),Wn.post("/mobility",S.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{O.value=w.editMode?"Mobilität aktualisieren":"Mobilität erstellen",w.insidePopup?m("newMobility",ie.data.mobility):I.push("/mobilitaet")}).catch(ie=>{console.log(ie),O.value=w.editMode?"Mobilität aktualisieren":"Mobilität erstellen",ie.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Mobilität")}))},ae=()=>{G()&&(O.value=w.editMode?"Mobilität aktualisieren...":"Mobilität erstellen...",S.value["description:de"]=Zr.get("editor_de").getContent(),S.value["description:en"]=Zr.get("editor_en").getContent(),S.value.main_image!==null&&(S.value.main_image=S.value.main_image.id),S.value.tours!==null&&(S.value.tours=S.value.tours.map(ie=>ie.id)),S.value.guides!==null&&(S.value.guides=S.value.guides.map(ie=>ie.id)),Wn.patch(`/mobility/${w.id}`,S.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{O.value=w.editMode?"Mobilität aktualisieren":"Mobilität erstellen",I.push("/mobilitaet")}).catch(ie=>{console.log(ie),O.value=w.editMode?"Mobilität aktualisieren":"Mobilität erstellen",ie.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Mobilität")}))};lo(async()=>{w.editMode&&me(),Zr.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:PS.toString()+`
`+NS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:ie=>{ie.on("init",()=>{ie.setContent("<p>Mobilitäts Beschreibung</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const me=()=>{Wn.get(`/mobility/${w.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{S.value=ie.data.mobility,S.value["name:de"]=ie.data.mobility.translations[0].name,S.value["name:en"]=ie.data.mobility.translations[1].name,S.value.main_image=ie.data.mobility.main_image,ie.data.mobility.main_image!==null&&(B.value=ie.data.mobility.main_image.url),Zr.get("editor_de").setContent(ie.data.mobility.translations[0].description),Zr.get("editor_en").setContent(ie.data.mobility.translations[1].description)}).catch(ie=>{ie.response.status===401?sessionStorage.removeItem("token"):console.log(ie)})};return ep(()=>{w.insidePopup||Zr.remove()}),(ie,oe)=>{const he=eo("router-Link");return Ve(),Ze(Or,null,[U("div",Woe,[U("h1",null,ir(w.editMode?"Mobilität Aktualisieren":"Mobilität Erstellen"),1),w.insidePopup?(Ve(),Ze("button",{key:1,class:"button-primary",onClick:oe[0]||(oe[0]=Q=>m("closePopup"))}," Abbrechen ")):(Ve(),_d(he,{key:0,to:"/mobilitaet",class:"button-primary"},{default:Jt(()=>[Tr("Abbrechen")]),_:1}))]),joe,U("div",Goe,[_t(Ca,{lang:"de",title:"Mobilität (DE)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":oe[1]||(oe[1]=Q=>S.value["name:de"]=Q),placeholder:"Name"},null,512),[[cr,S.value["name:de"]]])]),_:1}),_t(Ca,{lang:"en",title:"Mobilität (EN)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":oe[2]||(oe[2]=Q=>S.value["name:en"]=Q),placeholder:"Name"},null,512),[[cr,S.value["name:en"]]])]),_:1})]),U("div",qoe,[_t(Ca,{lang:"de",title:"Beschreibung"},{content:Jt(()=>[Koe]),_:1}),_t(Ca,{lang:"en",title:"Description"},{content:Jt(()=>[Xoe]),_:1})]),U("div",Yoe,[U("button",{class:"button-primary",onClick:oe[3]||(oe[3]=Q=>w.editMode?ae():ee())},ir(O.value),1),U("div",Joe,[(Ve(!0),Ze(Or,null,po(E.value,Q=>(Ve(),Ze("p",{key:Q},ir(Q),1))),128))])])],64)}}};const Zoe={key:0,class:"Popup"},Qoe={class:"addPopup"},eie={class:"select-container"},tie={class:"chip-container"},nie={class:"chip-name"},rie=["onClick"],aie=U("img",{src:MS,alt:"close",width:"15",height:"15"},null,-1),oie=[aie],iie={key:0,class:"selectable-options"},uie=["onClick"],sie={class:"option-content"},lie={key:0,class:"option-avatar"},cie=["src"],fie={class:"option-name"},vie={__name:"MobilitaetSelect",props:{selectedMobilites:{type:Array,default:()=>[]}},setup(d,{expose:m}){const w=d,S=At([]),E=At(!1),O=At(!1),B=At([]),I=Qo(()=>B.value.filter(oe=>oe.name.toLowerCase().includes(G.value.toLowerCase()))),G=At(""),ee=oe=>{console.log(oe),S.value.push(oe),B.value.push(oe),O.value=!1},ae=async()=>(await Wn.get("/mobility")).data.mobilities,me=oe=>{S.value.includes(oe)||S.value.push(oe)};window.addEventListener("click",oe=>{oe.target.closest(".select-container")||(E.value=!1)});function ie(){return S.value.map(oe=>oe.id)}return m({getData:ie}),lo(async()=>{B.value=await ae()}),Um(()=>w.selectedMobilites,oe=>{S.value=oe}),(oe,he)=>(Ve(),Ze("div",null,[O.value?(Ve(),Ze("div",Zoe,[U("div",{class:"popupBackground",onClick:he[0]||(he[0]=Q=>O.value=!1)}),U("div",Qoe,[_t(WH,{insidePopup:!0,onClosePopup:he[1]||(he[1]=Q=>O.value=!1),onNewMobility:ee})])])):Lr("",!0),U("div",eie,[U("div",{class:"combobox",onClick:he[3]||(he[3]=Q=>E.value=!0)},[U("div",tie,[(Ve(!0),Ze(Or,null,po(S.value,Q=>(Ve(),Ze("div",{class:"chip",key:Q.id},[U("div",nie,ir(Q.name),1),U("div",{class:"chip-remove",onClick:Ct=>S.value.splice(S.value.indexOf(Q),1)},oie,8,rie)]))),128))]),E.value||S.value.length===0?ar((Ve(),Ze("input",{key:0,type:"search","onUpdate:modelValue":he[2]||(he[2]=Q=>G.value=Q),placeholder:"Name der Mobilität"},null,512)),[[cr,G.value]]):Lr("",!0)]),E.value?(Ve(),Ze("div",iie,[(Ve(!0),Ze(Or,null,po(I.value,Q=>(Ve(),Ze("div",{class:"option",key:Q.id,onClick:Ct=>me(Q)},[U("div",sie,[Q.image?(Ve(),Ze("div",lie,[U("img",{src:Q.image.url,alt:"avatar"},null,8,cie)])):Lr("",!0),U("div",fie,ir(Q.name),1)])],8,uie))),128)),I.value.length===0?(Ve(),Ze("div",{key:0,class:"option",onClick:he[4]||(he[4]=Q=>O.value=!0)},' "'+ir(G.value)+'" hinzufügen ? ',1)):Lr("",!0)])):Lr("",!0)])]))}};const die={class:"row"},mie=U("hr",{class:"divider"},null,-1),hie={class:"row content-row"},gie={class:"row content-row"},pie=U("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),bie=U("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),yie={class:"content-row"},wie=U("h3",null,"Guide Eigenschaften",-1),Cie=U("hr",{class:"divider"},null,-1),Sie={class:"row"},xie={class:"col",style:{width:"23%","min-width":"200px"}},_ie=U("span",null,"Zertifikatsauswahl",-1),kie={class:"col",style:{width:"23%","min-width":"200px"}},Aie=U("span",null,"Sprachauswahl",-1),Eie={class:"col",style:{width:"23%","min-width":"200px"}},Tie=U("span",null,"Mobilitätsauswahl",-1),Oie={class:"col",style:{width:"23%","min-width":"200px"}},Die=U("span",null,"Skillauswahl",-1),Rie={class:"content-row"},Bie=U("h3",null,"Kontakt",-1),$ie=U("hr",{class:"divider"},null,-1),Mie={class:"row"},Pie={class:"col"},Nie=U("span",null,"Email",-1),Iie={class:"col"},zie=U("span",null,"Telefon",-1),Lie={class:"col"},Fie=U("span",null,"Webseite",-1),Hie={class:"col"},Vie=U("span",null,"Handynummer",-1),Uie={class:"content-row"},Wie=U("h3",null,"Guide Bild",-1),jie=U("hr",{class:"divider"},null,-1),Gie={key:0,class:"image"},qie=["src"],Kie={class:"row"},Xie={class:"col"},Yie={class:"content-row"},Jie={class:"errorMessages"},jH={__name:"GuideForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newGuide"],setup(d,{emit:m}){const w=d,S=At(null),E=At(null),O=At(null),B=At(null),I=At({"name:de":"","name:en":"","description:de":"","description:en":"",contact:{},image:null,languages:[],skills:[],mobility:[],certificates:[]}),G=At([]),ee=At(w.editMode?"Guide aktualisieren":"Guide erstellen"),ae=At(null),me=Gm(),ie=()=>{const rt=S.value.getData(),ve=E.value.getData(),tt=O.value.getData(),He=B.value.getData();return I.value.certificates=rt,I.value.languages=ve,I.value.mobility=tt,I.value.skills=He,G.value=[],I.value["name:de"]===""&&G.value.push("Bitte geben Sie einen Namen (DE) ein"),I.value["name:en"]===""&&G.value.push("Bitte geben Sie einen Namen (EN) ein"),I.value.languages.length===0&&G.value.push("Bitte wählen Sie mindestens eine Sprache aus"),G.value.length===0},oe=()=>{ie()&&(ee.value=w.editMode?"Guide aktualisieren...":"Guide erstellen...",I.value["description:de"]=Zr.get("editor_de").getContent(),I.value["description:en"]=Zr.get("editor_en").getContent(),Wn.post("/guides",I.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(rt=>{ee.value=w.editMode?"Guide aktualisieren":"Guide erstellen",w.insidePopup?m("newGuide",rt.data.guide):me.push("/guides")}).catch(rt=>{ee.value=w.editMode?"Guide aktualisieren":"Guide erstellen",rt.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen des Guides")}))},he=()=>{if(!ie())return;ee.value=w.editMode?"Guide aktualisieren...":"Guide erstellen...",I.tours!==null&&(I.value.tours=I.value.tours.map(Xt=>Xt.id)),I.languages!==null&&(I.value.languages=I.value.languages.map(Xt=>Xt.id)),I.skills!==null&&(I.value.skills=I.value.skills.map(Xt=>Xt.id)),I.mobility!==null&&(I.value.mobility=I.value.mobility.map(Xt=>Xt.id)),I.certificates!==null&&(I.value.certificates=I.value.certificates.map(Xt=>Xt.id)),typeof I.value.image=="object"&&I.value.image!==null&&(I.value.image=I.value.image.id),I.value["description:de"]=Zr.get("editor_de").getContent(),I.value["description:en"]=Zr.get("editor_en").getContent();const rt=S.value.getData(),ve=E.value.getData(),tt=O.value.getData(),He=B.value.getData();I.value.certificates=rt,I.value.languages=ve,I.value.mobility=tt,I.value.skills=He,Wn.patch(`/guides/${w.id}`,I.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Xt=>{ee.value=w.editMode?"Guide aktualisieren":"Guide erstellen",me.push("/guides")}).catch(Xt=>{console.log(Xt),ee.value=w.editMode?"Guide aktualisieren":"Guide erstellen",Xt.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Guides")})},Q=rt=>{const ve=rt.target.files;if(console.log(ve),ve)for(let tt=0;tt<ve.length;tt++){const He=ve[tt],Xt=new FormData;Xt.append("file",He),Wn.post("/media",Xt,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(mn=>{I.value.image=mn.data.media.id,ae.value=mn.data.media.url}).catch(mn=>{console.log(mn),window.alert("Fehler beim Upload des Bildes")})}};lo(async()=>{w.editMode&&Ct(),Zr.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:PS.toString()+`
`+NS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:rt=>{rt.on("init",()=>{rt.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const Ct=()=>{Wn.get(`/guides/${w.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(rt=>{I.value=rt.data.guide,I.value["name:de"]=rt.data.guide.translations[0].name,I.value["name:en"]=rt.data.guide.translations[1].name,I.value["description:de"]=rt.data.guide.translations[0].description,I.value["description:en"]=rt.data.guide.translations[1].description,rt.data.guide.contact!==null&&!Array.isArray(JSON.parse(rt.data.guide.contact))?I.value.contact=JSON.parse(rt.data.guide.contact):I.value.contact={},ae.value=rt.data.guide.image?rt.data.guide.image.url:null,I.value.languages=rt.data.guide.languages,I.value.skills=rt.data.guide.skills,I.value.mobility=rt.data.guide.mobility,I.value.certificates=rt.data.guide.certificates,rt.data.guide.image!==null&&(ae.value=rt.data.guide.image.url),Zr.get("editor_de").setContent(rt.data.guide.translations[0].description||""),Zr.get("editor_en").setContent(rt.data.guide.translations[1].description||""),console.log(I)}).catch(rt=>{console.log(rt),rt.response.status===401?sessionStorage.removeItem("token"):console.log(rt)})},Me=()=>{I.value.image=null,ae.value=null};return ep(()=>{w.insidePopup||Zr.remove()}),(rt,ve)=>{const tt=eo("router-Link");return Ve(),Ze(Or,null,[U("div",die,[U("h1",null,ir(w.editMode?"Guide Aktualisieren":"Guide Erstellen"),1),w.insidePopup?(Ve(),Ze("button",{key:1,class:"button-primary",onClick:ve[0]||(ve[0]=He=>m("closePopup"))}," Abbrechen ")):(Ve(),_d(tt,{key:0,to:"/guides",class:"button-primary"},{default:Jt(()=>[Tr("Abbrechen")]),_:1}))]),mie,U("div",hie,[_t(Ca,{lang:"de",title:"Name"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":ve[1]||(ve[1]=He=>I.value["name:de"]=He),placeholder:"Name"},null,512),[[cr,I.value["name:de"]]])]),_:1}),_t(Ca,{lang:"en",title:"Name"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":ve[2]||(ve[2]=He=>I.value["name:en"]=He),placeholder:"Name"},null,512),[[cr,I.value["name:en"]]])]),_:1})]),U("div",gie,[_t(Ca,{lang:"de",title:"Beschreibung"},{content:Jt(()=>[pie]),_:1}),_t(Ca,{lang:"en",title:"Description"},{content:Jt(()=>[bie]),_:1})]),U("div",yie,[wie,Cie,U("div",Sie,[U("div",xie,[_ie,_t(toe,{ref_key:"certificateSelect",ref:S,"selected-certificate":I.value.certificates},null,8,["selected-certificate"])]),U("div",kie,[Aie,_t(xoe,{ref_key:"languageSelect",ref:E,"selected-languages":I.value.languages},null,8,["selected-languages"])]),U("div",Eie,[Tie,_t(vie,{ref_key:"mobilitySelect",ref:O,"selected-mobilites":I.value.mobility},null,8,["selected-mobilites"])]),U("div",Oie,[Die,_t(Uoe,{ref_key:"skillSelect",ref:B,"selected-skills":I.value.skills},null,8,["selected-skills"])])])]),U("div",Rie,[Bie,$ie,U("div",Mie,[U("div",Pie,[Nie,ar(U("input",{type:"text",placeholder:"Email","onUpdate:modelValue":ve[3]||(ve[3]=He=>I.value.contact.email=He)},null,512),[[cr,I.value.contact.email]])]),U("div",Iie,[zie,ar(U("input",{type:"text",placeholder:"Telefon","onUpdate:modelValue":ve[4]||(ve[4]=He=>I.value.contact.phone=He)},null,512),[[cr,I.value.contact.phone]])]),U("div",Lie,[Fie,ar(U("input",{type:"text",placeholder:"Webseite","onUpdate:modelValue":ve[5]||(ve[5]=He=>I.value.contact.website=He)},null,512),[[cr,I.value.contact.website]])]),U("div",Hie,[Vie,ar(U("input",{type:"text",placeholder:"Handynummer","onUpdate:modelValue":ve[6]||(ve[6]=He=>I.value.contact.mobile=He)},null,512),[[cr,I.value.contact.mobile]])])])]),U("div",Uie,[Wie,jie,ae.value?(Ve(),Ze("div",Gie,[U("img",{src:ae.value},null,8,qie)])):Lr("",!0),ae.value?(Ve(),Ze("a",{key:1,onClick:Me,class:"removeImage"},"Bild entfernen")):Lr("",!0),U("div",Kie,[U("div",Xie,[U("input",{type:"file",onChange:Q},null,32)])])]),U("div",Yie,[U("button",{class:"button-primary",onClick:ve[7]||(ve[7]=He=>w.editMode?he():oe())},ir(ee.value),1),U("div",Jie,[(Ve(!0),Ze(Or,null,po(G.value,He=>(Ve(),Ze("p",{key:He},ir(He),1))),128))])])],64)}}};const Zie={key:0,class:"Popup"},Qie={class:"addPopup"},eue={class:"select-container"},tue={class:"chip-container"},nue={class:"chip-name"},rue=["onClick"],aue=U("img",{src:MS,alt:"close",width:"15",height:"15"},null,-1),oue=[aue],iue={key:0,class:"selectable-options"},uue=["onClick"],sue={class:"option-content"},lue={key:0,class:"option-avatar"},cue=["src"],fue={class:"option-name"},zj={__name:"GuideSelect",props:{selectedGuides:{type:Array,default:()=>[]}},setup(d,{expose:m}){const w=d,S=At([]),E=At(!1),O=At(!1),B=At([]),I=Qo(()=>B.value.filter(oe=>oe.name.toLowerCase().includes(G.value.toLowerCase()))),G=At(""),ee=oe=>{S.value.push(oe),B.value.push(oe),O.value=!1},ae=async()=>(await Wn.get("/guides")).data.guides,me=oe=>{S.value.includes(oe)||S.value.push(oe)};window.addEventListener("click",oe=>{oe.target.closest(".select-container")||(E.value=!1)});function ie(){return S.value.map(oe=>oe.id)}return m({getData:ie}),lo(async()=>{B.value=await ae()}),Um(()=>w.selectedGuides,oe=>{console.log(oe),S.value=oe}),(oe,he)=>(Ve(),Ze("div",null,[O.value?(Ve(),Ze("div",Zie,[U("div",{class:"popupBackground",onClick:he[0]||(he[0]=Q=>O.value=!1)}),U("div",Qie,[_t(jH,{insidePopup:"true",onClosePopup:he[1]||(he[1]=Q=>O.value=!1),onNewGuide:ee})])])):Lr("",!0),U("div",eue,[U("div",{class:"combobox",onClick:he[3]||(he[3]=Q=>E.value=!0)},[U("div",tue,[(Ve(!0),Ze(Or,null,po(S.value,Q=>(Ve(),Ze("div",{class:"chip",key:Q.id},[U("div",nue,ir(Q.name),1),U("div",{class:"chip-remove",onClick:Ct=>S.value.splice(S.value.indexOf(Q),1)},oue,8,rue)]))),128))]),E.value||S.value.length===0?ar((Ve(),Ze("input",{key:0,type:"search","onUpdate:modelValue":he[2]||(he[2]=Q=>G.value=Q),placeholder:"Name des Guides"},null,512)),[[cr,G.value]]):Lr("",!0)]),E.value?(Ve(),Ze("div",iue,[(Ve(!0),Ze(Or,null,po(I.value,Q=>(Ve(),Ze("div",{class:"option",key:Q.id,onClick:Ct=>me(Q)},[U("div",sue,[Q.image?(Ve(),Ze("div",lue,[U("img",{src:Q.image.url,alt:"avatar"},null,8,cue)])):Lr("",!0),U("div",fue,ir(Q.name),1)])],8,uue))),128)),I.value.length===0?(Ve(),Ze("div",{key:0,class:"option",onClick:he[4]||(he[4]=Q=>O.value=!0)},' "'+ir(G.value)+'" hinzufügen ? ',1)):Lr("",!0)])):Lr("",!0)])]))}},vue={class:"row"},due=U("hr",{class:"divider"},null,-1),mue={class:"row content-row"},hue={class:"content-row"},gue={class:"errorMessages"},GH={__name:"OrtFrom",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newPlace"],setup(d,{emit:m}){const w=d,S=At({"name:de":"","name:en":"","description:de":"","description:en":""}),E=At([]),O=At(w.editMode?"Ort aktualisieren":"Ort erstellen"),B=At(null),I=Gm(),G=()=>(E.value=[],S.value["name:de"]===""&&E.value.push("Bitte geben Sie einen Namen (DE) ein"),S.value["name:en"]===""&&E.value.push("Bitte geben Sie einen Namen (EN) ein"),E.value.length===0),ee=()=>{G()&&(O.value=w.editMode?"Ort aktualisieren...":"Ort erstellen...",Wn.post("/places",S.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{O.value=w.editMode?"Ort aktualisieren":"Ort erstellen",w.insidePopup?m("newPlace",ie.data.place):I.push("/orte")}).catch(ie=>{console.log(ie),O.value=w.editMode?"Ort aktualisieren":"Ort erstellen",ie.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen des Ortes")}))},ae=()=>{G()&&(O.value=w.editMode?"Ort aktualisieren...":"Ort erstellen...",S.value.main_image!==null&&(S.value.main_image=S.value.main_image.id),S.value.tours!==null&&(S.value.tours=S.value.tours.map(ie=>ie.id)),Wn.patch(`/places/${w.id}`,S.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{O.value=w.editMode?"Ort aktualisieren":"Ort erstellen",I.push("/orte")}).catch(ie=>{console.log(ie),O.value=w.editMode?"Ort aktualisieren":"Ort erstellen",ie.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Ortes")}))};lo(async()=>{w.editMode&&me()});const me=()=>{Wn.get(`/places/${w.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{S.value=ie.data.place,S.value["name:de"]=ie.data.place.translations[0].name,S.value["name:en"]=ie.data.place.translations[1].name,S.value.main_image=ie.data.place.main_image,ie.data.place.main_image!==null&&(B.value=ie.data.place.main_image.url)}).catch(ie=>{ie.response.status===401?sessionStorage.removeItem("token"):console.log(ie)})};return ep(()=>{w.insidePopup||tinymce.remove()}),(ie,oe)=>{const he=eo("router-Link");return Ve(),Ze(Or,null,[U("div",vue,[U("h1",null,ir(w.editMode?"Ort Aktualisieren":"Ort Erstellen"),1),w.insidePopup?(Ve(),Ze("button",{key:1,class:"button-primary",onClick:oe[0]||(oe[0]=Q=>m("closePopup"))}," Abbrechen ")):(Ve(),_d(he,{key:0,to:"/orte",class:"button-primary"},{default:Jt(()=>[Tr("Abbrechen")]),_:1}))]),due,U("div",mue,[_t(Ca,{lang:"de",title:"Ort (DE)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":oe[1]||(oe[1]=Q=>S.value["name:de"]=Q),placeholder:"Name"},null,512),[[cr,S.value["name:de"]]])]),_:1}),_t(Ca,{lang:"en",title:"Ort (EN)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":oe[2]||(oe[2]=Q=>S.value["name:en"]=Q),placeholder:"Name"},null,512),[[cr,S.value["name:en"]]])]),_:1})]),U("div",hue,[U("button",{class:"button-primary",onClick:oe[3]||(oe[3]=Q=>w.editMode?ae():ee())},ir(O.value),1),U("div",gue,[(Ve(!0),Ze(Or,null,po(E.value,Q=>(Ve(),Ze("p",{key:Q},ir(Q),1))),128))])])],64)}}};const pue={key:0,class:"Popup"},bue={class:"addPopup"},yue={class:"select-container"},wue={class:"chip-container"},Cue={class:"chip-name"},Sue=["onClick"],xue=U("img",{src:MS,alt:"close",width:"15",height:"15"},null,-1),_ue=[xue],kue={key:0,class:"selectable-options"},Aue=["onClick"],Eue={class:"option-content"},Tue={key:0,class:"option-avatar"},Oue=["src"],Due={class:"option-name"},Lj={__name:"OrtSelect",props:{selectedplaces:{type:Array,default:()=>[]}},setup(d,{expose:m}){const w=d,S=At([]),E=At(!1),O=At(!1),B=At([]),I=Qo(()=>B.value.filter(oe=>oe.name.toLowerCase().includes(G.value.toLowerCase()))),G=At(""),ee=oe=>{S.value.push(oe),B.value.push(oe),O.value=!1},ae=async()=>(await Wn.get("/places")).data.places,me=oe=>{S.value.includes(oe)||S.value.push(oe)};window.addEventListener("click",oe=>{oe.target.closest(".select-container")||(E.value=!1)});function ie(){return S.value.map(oe=>oe.id)}return m({getData:ie}),lo(async()=>{B.value=await ae()}),Um(()=>w.selectedplaces,oe=>{S.value=oe}),(oe,he)=>(Ve(),Ze("div",null,[O.value?(Ve(),Ze("div",pue,[U("div",{class:"popupBackground",onClick:he[0]||(he[0]=Q=>O.value=!1)}),U("div",bue,[_t(GH,{insidePopup:!0,onClosePopup:he[1]||(he[1]=Q=>O.value=!1),onNewPlace:ee})])])):Lr("",!0),U("div",yue,[U("div",{class:"combobox",onClick:he[3]||(he[3]=Q=>E.value=!0)},[U("div",wue,[(Ve(!0),Ze(Or,null,po(S.value,Q=>(Ve(),Ze("div",{class:"chip",key:Q.id},[U("div",Cue,ir(Q.name),1),U("div",{class:"chip-remove",onClick:Ct=>S.value.splice(S.value.indexOf(Q),1)},_ue,8,Sue)]))),128))]),E.value||S.value.length===0?ar((Ve(),Ze("input",{key:0,type:"search","onUpdate:modelValue":he[2]||(he[2]=Q=>G.value=Q),placeholder:"Name des Ortes"},null,512)),[[cr,G.value]]):Lr("",!0)]),E.value?(Ve(),Ze("div",kue,[(Ve(!0),Ze(Or,null,po(I.value,Q=>(Ve(),Ze("div",{class:"option",key:Q.id,onClick:Ct=>me(Q)},[U("div",Eue,[Q.image?(Ve(),Ze("div",Tue,[U("img",{src:Q.image.url,alt:"avatar"},null,8,Oue)])):Lr("",!0),U("div",Due,ir(Q.name),1)])],8,Aue))),128)),I.value.length===0?(Ve(),Ze("div",{key:0,class:"option",onClick:he[4]||(he[4]=Q=>O.value=!0)},' "'+ir(G.value)+'" hinzufügen ? ',1)):Lr("",!0)])):Lr("",!0)])]))}},Rue={class:"row"},Bue=U("hr",{class:"divider"},null,-1),$ue={class:"row content-row"},Mue={class:"content-row"},Pue={class:"errorMessages"},qH={__name:"KategorieForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newTheme"],setup(d,{emit:m}){const w=d,S=At({"name:de":"","name:en":"","description:de":"","description:en":""}),E=At([]),O=At(w.editMode?"Kategorie aktualisieren":"Kategorie erstellen"),B=At(null),I=Gm(),G=()=>(E.value=[],S.value["name:de"]===""&&E.value.push("Bitte geben Sie einen Namen (DE) ein"),S.value["name:en"]===""&&E.value.push("Bitte geben Sie einen Namen (EN) ein"),E.value.length===0),ee=()=>{G()&&(O.value=w.editMode?"Kategorie aktualisieren...":"Kategorie erstellen...",S.value["name:en"]===""&&(S.value["name:en"]=S.value["name:de"]),S.value["description:en"]===""&&(S.value["description:en"]=S.value["description:de"]),Wn.post("/themes",S.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{O.value=w.editMode?"Kategorie aktualisieren":"Kategorie erstellen",w.insidePopup?m("newTheme",ie.data.theme):I.push("/kategorien")}).catch(ie=>{console.log(ie),O.value=w.editMode?"Kategorie aktualisieren":"Kategorie erstellen",ie.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen de Kategorie")}))},ae=()=>{G()&&(O.value=w.editMode?"Kategorie aktualisieren...":"Kategorie erstellen...",S.value.image!==null&&(S.value.image=S.value.image.id),S.value.tours!==null&&(S.value.tours=S.value.tours.map(ie=>ie.id)),Wn.patch(`/themes/${w.id}`,S.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{O.value=w.editMode?"Kategorie aktualisieren":"Kategorie erstellen",I.push("/kategorien")}).catch(ie=>{console.log(ie),O.value=w.editMode?"Kategorie aktualisieren":"Kategorie erstellen",ie.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Kategorie")}))};lo(async()=>{w.editMode&&me()});const me=()=>{Wn.get(`/themes/${w.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ie=>{S.value=ie.data.theme,S.value["name:de"]=ie.data.theme.translations[0].name,S.value["name:en"]=ie.data.theme.translations[1].name,S.value.image=ie.data.theme.image,ie.data.theme.image!==null&&(B.value=ie.data.theme.image.url)}).catch(ie=>{ie.response.status===401?sessionStorage.removeItem("token"):console.log(ie)})};return BP(()=>{w.insidePopup||tinymce.remove()}),(ie,oe)=>{const he=eo("router-Link");return Ve(),Ze(Or,null,[U("div",Rue,[U("h1",null,ir(w.editMode?"Kategorie Aktualisieren":"Kategorie Erstellen"),1),w.insidePopup?(Ve(),Ze("button",{key:1,class:"button-primary",onClick:oe[0]||(oe[0]=Q=>m("closePopup"))}," Abbrechen ")):(Ve(),_d(he,{key:0,to:"/kategorien",class:"button-primary"},{default:Jt(()=>[Tr("Abbrechen")]),_:1}))]),Bue,U("div",$ue,[_t(Ca,{lang:"de",title:"Kategorie (DE)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":oe[1]||(oe[1]=Q=>S.value["name:de"]=Q),placeholder:"Name"},null,512),[[cr,S.value["name:de"]]])]),_:1}),_t(Ca,{lang:"en",title:"Kategorie (EN)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":oe[2]||(oe[2]=Q=>S.value["name:en"]=Q),placeholder:"Name"},null,512),[[cr,S.value["name:en"]]])]),_:1})]),U("div",Mue,[U("button",{class:"button-primary",onClick:oe[3]||(oe[3]=Q=>w.editMode?ae():ee())},ir(O.value),1),U("div",Pue,[(Ve(!0),Ze(Or,null,po(E.value,Q=>(Ve(),Ze("p",{key:Q},ir(Q),1))),128))])])],64)}}};const Nue={key:0,class:"Popup"},Iue={class:"addPopup"},zue={class:"select-container"},Lue={class:"chip-container"},Fue={class:"chip-name"},Hue=["onClick"],Vue=U("img",{src:MS,alt:"close",width:"15",height:"15"},null,-1),Uue=[Vue],Wue={key:0,class:"selectable-options"},jue=["onClick"],Gue={class:"option-content"},que={key:0,class:"option-avatar"},Kue=["src"],Xue={class:"option-name"},Fj={__name:"KategorieSelect",props:{selectedthemes:{type:Array,default:()=>[]}},setup(d,{expose:m}){const w=d,S=At([]),E=At(!1),O=At(!1),B=At([]),I=Qo(()=>B.value.filter(oe=>oe.name.toLowerCase().includes(G.value.toLowerCase()))),G=At(""),ee=oe=>{S.value.push(oe),B.value.push(oe),O.value=!1},ae=async()=>(await Wn.get("/themes")).data.themes,me=oe=>{S.value.includes(oe)||S.value.push(oe)};window.addEventListener("click",oe=>{oe.target.closest(".select-container")||(E.value=!1)});function ie(){return S.value.map(oe=>oe.id)}return m({getData:ie}),lo(async()=>{B.value=await ae()}),Um(()=>w.selectedthemes,oe=>{S.value=oe}),(oe,he)=>(Ve(),Ze("div",null,[O.value?(Ve(),Ze("div",Nue,[U("div",{class:"popupBackground",onClick:he[0]||(he[0]=Q=>O.value=!1)}),U("div",Iue,[_t(qH,{insidePopup:!0,onClosePopup:he[1]||(he[1]=Q=>O.value=!1),onNewTheme:ee})])])):Lr("",!0),U("div",zue,[U("div",{class:"combobox",onClick:he[3]||(he[3]=Q=>E.value=!0)},[U("div",Lue,[(Ve(!0),Ze(Or,null,po(S.value,Q=>(Ve(),Ze("div",{class:"chip",key:Q.id},[U("div",Fue,ir(Q.name),1),U("div",{class:"chip-remove",onClick:Ct=>S.value.splice(S.value.indexOf(Q),1)},Uue,8,Hue)]))),128))]),E.value||S.value.length===0?ar((Ve(),Ze("input",{key:0,type:"search","onUpdate:modelValue":he[2]||(he[2]=Q=>G.value=Q),placeholder:"Name der Kategorie"},null,512)),[[cr,G.value]]):Lr("",!0)]),E.value?(Ve(),Ze("div",Wue,[(Ve(!0),Ze(Or,null,po(I.value,Q=>(Ve(),Ze("div",{class:"option",key:Q.id,onClick:Ct=>me(Q)},[U("div",Gue,[Q.image?(Ve(),Ze("div",que,[U("img",{src:Q.image.url,alt:"avatar"},null,8,Kue)])):Lr("",!0),U("div",Xue,ir(Q.name),1)])],8,jue))),128)),I.value.length===0?(Ve(),Ze("div",{key:0,class:"option",onClick:he[4]||(he[4]=Q=>O.value=!0)},' "'+ir(G.value)+'" hinzufügen ? ',1)):Lr("",!0)])):Lr("",!0)])]))}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Yue(d,m,w,S){function E(O){return O instanceof w?O:new w(function(B){B(O)})}return new(w||(w=Promise))(function(O,B){function I(ae){try{ee(S.next(ae))}catch(me){B(me)}}function G(ae){try{ee(S.throw(ae))}catch(me){B(me)}}function ee(ae){ae.done?O(ae.value):E(ae.value).then(I,G)}ee((S=S.apply(d,m||[])).next())})}var Jue=function d(m,w){if(m===w)return!0;if(m&&w&&typeof m=="object"&&typeof w=="object"){if(m.constructor!==w.constructor)return!1;var S,E,O;if(Array.isArray(m)){if(S=m.length,S!=w.length)return!1;for(E=S;E--!==0;)if(!d(m[E],w[E]))return!1;return!0}if(m.constructor===RegExp)return m.source===w.source&&m.flags===w.flags;if(m.valueOf!==Object.prototype.valueOf)return m.valueOf()===w.valueOf();if(m.toString!==Object.prototype.toString)return m.toString()===w.toString();if(O=Object.keys(m),S=O.length,S!==Object.keys(w).length)return!1;for(E=S;E--!==0;)if(!Object.prototype.hasOwnProperty.call(w,O[E]))return!1;for(E=S;E--!==0;){var B=O[E];if(!d(m[B],w[B]))return!1}return!0}return m!==m&&w!==w};const uW="__googleMapsScriptId";var YA;(function(d){d[d.INITIALIZED=0]="INITIALIZED",d[d.LOADING=1]="LOADING",d[d.SUCCESS=2]="SUCCESS",d[d.FAILURE=3]="FAILURE"})(YA||(YA={}));class OS{constructor({apiKey:m,authReferrerPolicy:w,channel:S,client:E,id:O=uW,language:B,libraries:I=[],mapIds:G,nonce:ee,region:ae,retries:me=3,url:ie="https://maps.googleapis.com/maps/api/js",version:oe}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=m,this.authReferrerPolicy=w,this.channel=S,this.client=E,this.id=O||uW,this.language=B,this.libraries=I,this.mapIds=G,this.nonce=ee,this.region=ae,this.retries=me,this.url=ie,this.version=oe,OS.instance){if(!Jue(this.options,OS.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(OS.instance.options)}`);return OS.instance}OS.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?YA.FAILURE:this.done?YA.SUCCESS:this.loading?YA.LOADING:YA.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let m=this.url;return m+="?callback=__googleMapsCallback",this.apiKey&&(m+=`&key=${this.apiKey}`),this.channel&&(m+=`&channel=${this.channel}`),this.client&&(m+=`&client=${this.client}`),this.libraries.length>0&&(m+=`&libraries=${this.libraries.join(",")}`),this.language&&(m+=`&language=${this.language}`),this.region&&(m+=`&region=${this.region}`),this.version&&(m+=`&v=${this.version}`),this.mapIds&&(m+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(m+=`&auth_referrer_policy=${this.authReferrerPolicy}`),m}deleteScript(){const m=document.getElementById(this.id);m&&m.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((m,w)=>{this.loadCallback(S=>{S?w(S.error):m(window.google)})})}importLibrary(m){return this.execute(),google.maps.importLibrary(m)}loadCallback(m){this.callbacks.push(m),this.execute()}setScript(){var m,w;if(document.getElementById(this.id)){this.callback();return}const S={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(S).forEach(O=>!S[O]&&delete S[O]),!((w=(m=window==null?void 0:window.google)===null||m===void 0?void 0:m.maps)===null||w===void 0)&&w.importLibrary||(O=>{let B,I,G,ee="The Google Maps JavaScript API",ae="google",me="importLibrary",ie="__ib__",oe=document,he=window;he=he[ae]||(he[ae]={});const Q=he.maps||(he.maps={}),Ct=new Set,Me=new URLSearchParams,rt=()=>B||(B=new Promise((ve,tt)=>Yue(this,void 0,void 0,function*(){var He;yield I=oe.createElement("script"),I.id=this.id,Me.set("libraries",[...Ct]+"");for(G in O)Me.set(G.replace(/[A-Z]/g,Xt=>"_"+Xt[0].toLowerCase()),O[G]);Me.set("callback",ae+".maps."+ie),I.src=this.url+"?"+Me,Q[ie]=ve,I.onerror=()=>B=tt(Error(ee+" could not load.")),I.nonce=this.nonce||((He=oe.querySelector("script[nonce]"))===null||He===void 0?void 0:He.nonce)||"",oe.head.append(I)})));Q[me]?console.warn(ee+" only loads once. Ignoring:",O):Q[me]=(ve,...tt)=>Ct.add(ve)&&rt().then(()=>Q[me](ve,...tt))})(S);const E=this.libraries.map(O=>this.importLibrary(O));E.length||E.push(this.importLibrary("core")),Promise.all(E).then(()=>this.callback(),O=>{const B=new ErrorEvent("error",{error:O});this.loadErrorCallback(B)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(m){if(this.errors.push(m),this.errors.length<=this.retries){const w=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${w} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},w)}else this.onerrorEvent=m,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(m=>{m(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}}const Zue={class:"d-flex text-center",style:{margin:"10px 0"}},Que={class:"row",style:{"justify-content":"unset"}},ese=U("div",{class:"col",style:{"margin-right":"10px"}},[U("input",{id:"address",type:"textbox",value:"",placeholder:"Suche nach Adresse"})],-1),tse={class:"col"},nse="AIzaSyBw_QNEvvoRbs-czfH2GbPPkupqDdJTxhg",Hj={__name:"MapComponent",props:{coordinates:{type:Object,default:()=>[]}},setup(d,{expose:m}){const w=d,S=Qo(()=>({lat:w.coordinates.lat||53.551086,lng:w.coordinates.lng||9.993682})),E=new OS({apiKey:nse}),O=At(null),B=At(null);let I=At(null),G=At(null),ee=null;lo(async()=>{await E.load(),G.value=new google.maps.Map(O.value,{center:S.value,zoom:9}),I.value=new google.maps.Geocoder,ee=G.value.addListener("click",me),w.coordinates.lat&&w.coordinates.lng&&(B.value=new google.maps.Marker({map:G.value,position:w.coordinates,title:"Adresse"})),console.log(w.coordinates)});const ae=()=>{const oe=document.getElementById("address").value;I.value.geocode({address:oe},(he,Q)=>{Q==="OK"?(G.value.setCenter(he[0].geometry.location),B.value=new google.maps.Marker({map:G.value,position:he[0].geometry.location,title:"Adresse"})):alert("Die Adresse konnte nicht gefunden werden: "+Q)})};TH(async()=>{ee&&ee.remove(),G.value&&(G.value=null)});const me=oe=>{const he={lat:oe.latLng.lat(),lng:oe.latLng.lng()};B.value&&(B.value=null),B.value=new google.maps.Marker({map:G.value,position:he,title:"Adresse"})};return m({getData:()=>({lat:B.value.position.lat(),lng:B.value.position.lng()})}),(oe,he)=>(Ve(),Ze("div",null,[U("div",Zue,[U("div",Que,[ese,U("div",tse,[U("input",{type:"button",class:"button-primary",value:"Adresse Suchen",onClick:he[0]||(he[0]=Q=>ae())})])])]),U("div",{ref_key:"mapDiv",ref:O,style:{width:"100%",height:"400px"}},null,512)]))}};const qi=d=>(OP("data-v-78297612"),d=d(),DP(),d),rse={class:"row"},ase=qi(()=>U("h1",null,"Tour erstellen",-1)),ose=qi(()=>U("hr",{class:"divider"},null,-1)),ise={class:"creation-grid"},use={class:"main-content"},sse=qi(()=>U("h4",null,"Allgemeine Informationen",-1)),lse=qi(()=>U("hr",{class:"divider"},null,-1)),cse={class:"row content-row"},fse={class:"row content-row"},vse={class:"content-row"},dse=qi(()=>U("h4",null,"Standort",-1)),mse=qi(()=>U("hr",{class:"divider"},null,-1)),hse={class:"content-row"},gse=qi(()=>U("h4",null,"Bilder",-1)),pse=qi(()=>U("hr",{class:"divider"},null,-1)),bse={key:0,class:"images"},yse=["onClick","onDrop"],wse=qi(()=>U("img",{src:kd,width:"25",height:"25"},null,-1)),Cse=[wse],Sse=["src"],xse={class:"content-row"},_se={key:0},kse=qi(()=>U("hr",{class:"divider"},null,-1)),Ase={class:"input-container"},Ese=qi(()=>U("h5",null,"Datum der Tour",-1)),Tse={class:"input-container"},Ose=qi(()=>U("h5",null,"Wie lange geht die Tour",-1)),Dse={class:"input-container"},Rse=qi(()=>U("h5",null,"Preis",-1)),Bse={class:"creation-sidebar"},$se={class:"sidebar-item"},Mse=qi(()=>U("h4",null,"Guide hinzufügen",-1)),Pse=qi(()=>U("hr",{class:"divider"},null,-1)),Nse={class:"sidebar-item"},Ise=qi(()=>U("h4",null,"Ort hinzufügen",-1)),zse=qi(()=>U("hr",{class:"divider"},null,-1)),Lse={class:"sidebar-item"},Fse=qi(()=>U("h4",null,"Kategorien hinzufügen",-1)),Hse=qi(()=>U("hr",{class:"divider"},null,-1)),Vse={class:"sidebar-item"},Use=qi(()=>U("h4",null,"Veröffentlichen",-1)),Wse=qi(()=>U("hr",{class:"divider"},null,-1)),jse={class:"input-container"},Gse=qi(()=>U("option",{value:"draft"},"Entwurf",-1)),qse=qi(()=>U("option",{value:"published"},"Veröffentlichen",-1)),Kse=[Gse,qse],Xse={class:"errorMessages"},Yse={__name:"Create",setup(d){const m=At({"name:de":"","name:en":"","description:de":"","description:en":"",location:{lat:0,lng:0},status:"draft",is_public:!1,date:null,duration:null,price:0,guides:[],places:[],images:[],main_image:null,themes:[]}),w=At(null),S=At(null),E=At(null),O=At(null),B=At([]);At(null);const I=At("Tour erstellen"),G=At([]),ee=Gm(),ae=Qo(()=>m.value.price.replace(",",".").replace(/[^0-9.]/g,"")),me=Qo(()=>m.value.duration.replace(",",".").replace(/[^0-9.]/g,"")),ie=Ct=>{const Me=Ct.target.files;if(console.log(Me),Me)for(let rt=0;rt<Me.length;rt++){const ve=Me[rt],tt=new FormData;tt.append("file",ve),Wn.post("/media",tt,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(He=>{B.value.push(He.data.media)}).catch(He=>{console.log(He),window.alert("Fehler beim Upload des Bildes")})}},oe=Ct=>{B.value=B.value.filter(Me=>Me.id!==Ct)},he=()=>(G.value=[],m.value["name:de"]===""&&G.value.push("Titel der Tour (DE) ist ein Pflichtfeld"),m.value["name:en"]===""&&G.value.push("Titel der Tour (EN) ist ein Pflichtfeld"),B.value.length===0&&G.value.push("Es muss mindestens ein Bild hochgeladen werden"),m.value.is_public&&(m.value.date===null&&G.value.push("Datum der Tour ist ein Pflichtfeld"),m.value.duration===null&&G.value.push("Dauer der Tour ist ein Pflichtfeld"),m.value.price===null&&G.value.push("Preis der Tour ist ein Pflichtfeld")),G.value.length===0),Q=()=>{if(!he())return;const Ct=O.value.getData();m.value.location.lat=Ct.lat,m.value.location.lng=Ct.lng,m.value["description:de"]=Zr.get("editor_de").getContent(),m.value["description:en"]=Zr.get("editor_en").getContent(),m.value.images=B.value.map(tt=>tt.id);const Me=w.value.getData(),rt=S.value.getData(),ve=E.value.getData();m.value.guides=Me,m.value.places=rt,m.value.themes=ve,m.value.is_public&&(m.value.price=ae.value,m.value.duration=me.value),Wn.post("/tours",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(tt=>{I.value="Tour wurde erstellt",ee.push("/tour-bearbeiten/"+tt.data.tour.id)}).catch(tt=>{console.log(tt),tt.response.status===401?sessionStorage.removeItem("token"):window.alert("Tour konnte nicht erstellt werden")})};return lo(async()=>{Zr.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:PS.toString()+`
`+NS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:Ct=>{Ct.on("init",()=>{Ct.setContent("<p>Starte hier mit der Beschreibung deiner Tour.</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),ep(()=>{Zr.remove()}),(Ct,Me)=>{const rt=eo("router-Link");return Ve(),Ze("main",null,[U("div",rse,[ase,_t(rt,{to:"/",class:"button-primary"},{default:Jt(()=>[Tr("Abbrechen")]),_:1})]),ose,U("div",ise,[U("div",use,[sse,lse,U("div",cse,[_t(Ca,{lang:"de",title:"Titel der Tour"},{content:Jt(()=>[ar(U("input",{type:"text",for:"title",placeholder:"Titel","onUpdate:modelValue":Me[0]||(Me[0]=ve=>m.value["name:de"]=ve)},null,512),[[cr,m.value["name:de"]]])]),_:1}),_t(Ca,{lang:"en",title:"title of the tour"},{content:Jt(()=>[ar(U("input",{type:"text",for:"title",placeholder:"Title","onUpdate:modelValue":Me[1]||(Me[1]=ve=>m.value["name:en"]=ve)},null,512),[[cr,m.value["name:en"]]])]),_:1})]),U("div",fse,[_t(Ca,{lang:"de",title:"Beschreibung der Tour"},{content:Jt(()=>[ar(U("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de","onUpdate:modelValue":Me[2]||(Me[2]=ve=>m.value["description:de"]=ve)},null,512),[[cr,m.value["description:de"]]])]),_:1}),_t(Ca,{lang:"en",title:"Description of the tour"},{content:Jt(()=>[ar(U("textarea",{for:"description",placeholder:"Description",id:"editor_en","onUpdate:modelValue":Me[3]||(Me[3]=ve=>m.value["description:en"]=ve)},null,512),[[cr,m.value["description:en"]]])]),_:1})]),U("div",vse,[dse,mse,_t(Hj,{ref_key:"mapContainer",ref:O},null,512)]),U("div",hse,[gse,pse,B.value.length>0?(Ve(),Ze("div",bse,[(Ve(!0),Ze(Or,null,po(B.value,ve=>(Ve(),Ze("div",{class:"image",key:ve.id},[U("button",{class:"removeImage",onClick:tt=>oe(ve.id),draggable:"true",onDrop:tt=>Ct.reorderImages(ve.id),onDragover:Me[4]||(Me[4]=(...tt)=>Ct.allowDrop&&Ct.allowDrop(...tt)),onDragstart:Me[5]||(Me[5]=(...tt)=>Ct.dragImage&&Ct.dragImage(...tt))},Cse,40,yse),U("img",{src:ve.url},null,8,Sse)]))),128))])):Lr("",!0),U("input",{type:"file",onChange:ie},null,32)]),U("div",xse,[_t(Nj,{value:m.value.is_public,titel:"Öffentliche Tour",onInput:Me[6]||(Me[6]=ve=>m.value.is_public=ve)},null,8,["value"]),m.value.is_public?(Ve(),Ze("div",_se,[kse,U("div",Ase,[Ese,ar(U("input",{type:"date","onUpdate:modelValue":Me[7]||(Me[7]=ve=>m.value.date=ve)},null,512),[[cr,m.value.date]])]),U("div",Tse,[Ose,ar(U("input",{type:"text","onUpdate:modelValue":Me[8]||(Me[8]=ve=>m.value.duration=ve),placeholder:"bspw. 1,5 Stunden"},null,512),[[cr,m.value.duration]])]),U("div",Dse,[Rse,ar(U("input",{type:"text","onUpdate:modelValue":Me[9]||(Me[9]=ve=>m.value.price=ve),placeholder:"bspw. 10.50€"},null,512),[[cr,m.value.price]])])])):Lr("",!0)])]),U("div",Bse,[U("div",$se,[Mse,Pse,_t(zj,{ref_key:"guideSelect",ref:w},null,512)]),U("div",Nse,[Ise,zse,_t(Lj,{ref_key:"ortSelect",ref:S},null,512)]),U("div",Lse,[Fse,Hse,_t(Fj,{ref_key:"kategorieSelect",ref:E},null,512)]),U("div",Vse,[Use,Wse,U("div",jse,[ar(U("select",{"onUpdate:modelValue":Me[10]||(Me[10]=ve=>m.value.status=ve)},Kse,512),[[rj,m.value.status]])]),U("button",{class:"button-primary",onClick:Q},ir(I.value),1),U("div",Xse,[(Ve(!0),Ze(Or,null,po(G.value,ve=>(Ve(),Ze("p",{key:ve},ir(ve),1))),128))])])])])])}}},Jse=ED(Yse,[["__scopeId","data-v-78297612"]]);const Ki=d=>(OP("data-v-3022a10c"),d=d(),DP(),d),Zse={class:"row"},Qse=Ki(()=>U("h1",null,"Tour bearbeiten",-1)),ele=Ki(()=>U("hr",{class:"divider"},null,-1)),tle={class:"creation-grid"},nle={class:"main-content"},rle=Ki(()=>U("h4",null,"Allgemeine Informationen",-1)),ale=Ki(()=>U("hr",{class:"divider"},null,-1)),ole={class:"row content-row"},ile={class:"row content-row"},ule={class:"content-row"},sle=Ki(()=>U("h4",null,"Standort",-1)),lle=Ki(()=>U("hr",{class:"divider"},null,-1)),cle={class:"content-row"},fle=Ki(()=>U("h4",null,"Bilder",-1)),vle=Ki(()=>U("hr",{class:"divider"},null,-1)),dle={key:0,class:"images"},mle=["onClick","onDrop"],hle=Ki(()=>U("img",{src:kd,width:"25",height:"25"},null,-1)),gle=[hle],ple=["src"],ble={class:"content-row"},yle={key:0},wle=Ki(()=>U("hr",{class:"divider"},null,-1)),Cle={class:"input-container"},Sle=Ki(()=>U("h5",null,"Datum der Tour",-1)),xle={class:"input-container"},_le=Ki(()=>U("h5",null,"Wie lange geht die Tour",-1)),kle={class:"input-container"},Ale=Ki(()=>U("h5",null,"Preis",-1)),Ele={class:"creation-sidebar"},Tle={class:"sidebar-item"},Ole=Ki(()=>U("h4",null,"Guide hinzufügen",-1)),Dle=Ki(()=>U("hr",{class:"divider"},null,-1)),Rle={class:"sidebar-item"},Ble=Ki(()=>U("h4",null,"Ort hinzufügen",-1)),$le=Ki(()=>U("hr",{class:"divider"},null,-1)),Mle={class:"sidebar-item"},Ple=Ki(()=>U("h4",null,"Kategorien hinzufügen",-1)),Nle=Ki(()=>U("hr",{class:"divider"},null,-1)),Ile={class:"sidebar-item"},zle=Ki(()=>U("h4",null,"Veröffentlichen",-1)),Lle=Ki(()=>U("hr",{class:"divider"},null,-1)),Fle={class:"input-container"},Hle=Ki(()=>U("option",{value:"draft"},"Entwurf",-1)),Vle=Ki(()=>U("option",{value:"published"},"Veröffentlichen",-1)),Ule=[Hle,Vle],Wle={class:"errorMessages"},jle={__name:"Edit",setup(d){const m=At({"name:de":"","name:en":"","description:de":"","description:en":"",location:{lat:0,lng:0},status:"draft",is_public:!1,date:new Date,duration:null,price:0,guides:[],places:[],images:[],main_image:null,themes:[],created_at:null,updated_at:null}),w=At(null),S=At(null),E=At(null),O=At(null),B=At([]),I=At(!0),G=At("Aktualisieren"),ee=tb(),{id:ae}=ee.params,me=Gm(),ie=At([]),oe=Qo(()=>typeof m.value.price=="number"?m.value.price:m.value.price.replace(",",".").replace(/[^0-9.]/g,"")),he=Qo(()=>typeof m.value.duration=="number"?m.value.duration:m.value.duration.replace(",",".").replace(/[^0-9.]/g,"")),Q=()=>{Wn.get("/tours/"+ae,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(He=>{try{B.value=He.data.tour.images,m.value["name:de"]=He.data.tour.translations[0].name,m.value["name:en"]=He.data.tour.translations[1].name,m.value["description:de"]=He.data.tour.translations[0].description,m.value["description:en"]=He.data.tour.translations[1].description;let Xt=He.data.tour.location;Xt?(Xt=JSON.parse(Xt),m.value.location.lat=Xt.lat,m.value.location.lng=Xt.lng):(m.value.location.lat=0,m.value.location.lng=0),m.value.status=He.data.tour.status,m.value.is_public=He.data.tour.is_public,m.value.date=He.data.tour.date,m.value.duration=He.data.tour.duration,m.value.price=He.data.tour.price,m.value.guides=He.data.tour.guides,m.value.places=He.data.tour.places,m.value.images=He.data.tour.images,m.value.main_image=He.data.tour.main_image,m.value.themes=He.data.tour.themes,m.value.created_at=He.data.tour.created_at,m.value.updated_at=He.data.tour.updated_at,Zr.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:PS.toString()+`
`+NS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:mn=>{mn.on("init",()=>{console.log("Editor is initialized."),Zr.get("editor_de").setContent(m.value["description:de"]||""),Zr.get("editor_en").setContent(m.value["description:en"]||"")})}}),I.value=!1}catch(Xt){console.log(Xt),window.alert("Tour konnte nicht geladen werden")}document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}).catch(He=>{He.response.status===401?sessionStorage.removeItem("token"):window.alert("Tour konnte nicht geladen werden")})},Ct=()=>{if(B.value.length===0){B.value=null;return}let He=[];for(let Xt=0;Xt<B.value.length;Xt++)He.push(B.value[Xt].id);m.value.images=He,m.value.main_image=B.value[0].id,B.value.length===0&&(m.value.main_image=null)},Me=He=>{const Xt=He.target.files;if(console.log(Xt),Xt)for(let mn=0;mn<Xt.length;mn++){const Nt=Xt[mn],Cn=new FormData;Cn.append("file",Nt),Wn.post("/media",Cn,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Qt=>{B.value.push(Qt.data.media)}).catch(Qt=>{console.log(Qt),window.alert("Fehler beim Upload des Bildes")})}},rt=He=>{B.value=B.value.filter(Xt=>Xt.id!==He)},ve=()=>(ie.value=[],m.value["name:de"]===""&&ie.value.push("Titel der Tour (DE) ist ein Pflichtfeld"),m.value["name:en"]===""&&ie.value.push("Titel der Tour (EN) ist ein Pflichtfeld"),B.value.length===0&&ie.value.push("Es muss mindestens ein Bild hochgeladen werden"),m.value.is_public&&(m.value.date===null&&ie.value.push("Datum der Tour ist ein Pflichtfeld"),m.value.duration===null&&ie.value.push("Dauer der Tour ist ein Pflichtfeld"),m.value.price===null&&ie.value.push("Preis der Tour ist ein Pflichtfeld")),ie.value.length===0),tt=()=>{if(!ve())return;const He=O.value.getData();m.value.location=m.value.location,m.value.location.lat=He.lat,m.value.location.lng=He.lng,G.value="Tour wird aktualisiert...",Ct(),m.value["description:de"]=Zr.get("editor_de").getContent(),m.value["description:en"]=Zr.get("editor_en").getContent();const Xt=w.value.getData(),mn=S.value.getData(),Nt=E.value.getData();m.value.guides=Xt,m.value.places=mn,m.value.themes=Nt,m.value.is_public&&(m.value.price=oe.value,m.value.duration=he.value),Wn.patch("/tours/"+ae,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Cn=>{G.value="Erfolgreich Aktualisiert",window.onbeforeunload=null,setTimeout(()=>{me.push("/touren")},1e3)}).catch(Cn=>{console.log(Cn),Cn.response.status===401?sessionStorage.removeItem("token"):window.alert("Tour konnte nicht aktualisiert werden")})};return lo(()=>{Q()}),ep(()=>{Zr.remove()}),(He,Xt)=>{const mn=eo("router-Link");return Ve(),Ze("main",null,[U("div",Zse,[Qse,_t(mn,{to:"/",class:"button-primary"},{default:Jt(()=>[Tr("Abbrechen")]),_:1})]),ele,U("div",tle,[U("div",nle,[rle,ale,U("div",ole,[_t(Ca,{lang:"de",title:"Titel der Tour"},{content:Jt(()=>[ar(U("input",{type:"text",for:"title",placeholder:"Titel","onUpdate:modelValue":Xt[0]||(Xt[0]=Nt=>m.value["name:de"]=Nt)},null,512),[[cr,m.value["name:de"]]])]),_:1}),_t(Ca,{lang:"en",title:"title of the tour"},{content:Jt(()=>[ar(U("input",{type:"text",for:"title",placeholder:"Title","onUpdate:modelValue":Xt[1]||(Xt[1]=Nt=>m.value["name:en"]=Nt)},null,512),[[cr,m.value["name:en"]]])]),_:1})]),U("div",ile,[_t(Ca,{lang:"de",title:"Beschreibung der Tour"},{content:Jt(()=>[ar(U("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de","onUpdate:modelValue":Xt[2]||(Xt[2]=Nt=>m.value["description:de"]=Nt)},null,512),[[cr,m.value["description:de"]]])]),_:1}),_t(Ca,{lang:"en",title:"Description of the tour"},{content:Jt(()=>[ar(U("textarea",{for:"description",placeholder:"Description",id:"editor_en","onUpdate:modelValue":Xt[3]||(Xt[3]=Nt=>m.value["description:en"]=Nt)},null,512),[[cr,m.value["description:en"]]])]),_:1})]),U("div",ule,[sle,lle,I.value?Lr("",!0):(Ve(),_d(Hj,{key:0,ref_key:"mapContainer",ref:O,coordinates:m.value.location},null,8,["coordinates"]))]),U("div",cle,[fle,vle,B.value.length>0?(Ve(),Ze("div",dle,[(Ve(!0),Ze(Or,null,po(B.value,Nt=>(Ve(),Ze("div",{class:"image",key:Nt.id},[U("button",{class:"removeImage",onClick:Cn=>rt(Nt.id),draggable:"true",onDrop:Cn=>He.reorderImages(Nt.id),onDragover:Xt[4]||(Xt[4]=(...Cn)=>He.allowDrop&&He.allowDrop(...Cn)),onDragstart:Xt[5]||(Xt[5]=(...Cn)=>He.dragImage&&He.dragImage(...Cn))},gle,40,mle),U("img",{src:Nt.url},null,8,ple)]))),128))])):Lr("",!0),U("input",{type:"file",onChange:Me},null,32)]),U("div",ble,[_t(Nj,{value:m.value.is_public,titel:"Öffentliche Tour",onInput:Xt[6]||(Xt[6]=Nt=>m.value.is_public=Nt)},null,8,["value"]),m.value.is_public?(Ve(),Ze("div",yle,[wle,U("div",Cle,[Sle,ar(U("input",{type:"date","onUpdate:modelValue":Xt[7]||(Xt[7]=Nt=>m.value.date=Nt)},null,512),[[cr,m.value.date]])]),U("div",xle,[_le,ar(U("input",{type:"text","onUpdate:modelValue":Xt[8]||(Xt[8]=Nt=>m.value.duration=Nt),placeholder:"bspw. 1,5 Stunden"},null,512),[[cr,m.value.duration]])]),U("div",kle,[Ale,ar(U("input",{type:"text","onUpdate:modelValue":Xt[9]||(Xt[9]=Nt=>m.value.price=Nt)},null,512),[[cr,m.value.price]])])])):Lr("",!0)])]),U("div",Ele,[U("div",Tle,[Ole,Dle,_t(zj,{ref_key:"guideSelect",ref:w,selectedGuides:m.value.guides},null,8,["selectedGuides"])]),U("div",Rle,[Ble,$le,_t(Lj,{ref_key:"ortSelect",ref:S,selectedplaces:m.value.places},null,8,["selectedplaces"])]),U("div",Mle,[Ple,Nle,_t(Fj,{ref_key:"kategorieSelect",ref:E,selectedthemes:m.value.themes},null,8,["selectedthemes"])]),U("div",Ile,[zle,Lle,U("p",null," Erstellt am: "+ir(new Date(m.value.created_at).toLocaleString("de-DE")),1),U("p",null," Bearbeitet am: "+ir(new Date(m.value.updated_at).toLocaleString("de-DE")),1),U("div",Fle,[ar(U("select",{"onUpdate:modelValue":Xt[10]||(Xt[10]=Nt=>m.value.status=Nt)},Ule,512),[[rj,m.value.status]])]),U("button",{class:"button-primary",onClick:tt},ir(G.value),1),U("div",Wle,[(Ve(!0),Ze(Or,null,po(ie.value,Nt=>(Ve(),Ze("p",{key:Nt},ir(Nt),1))),128))])])])])])}}},Gle=ED(jle,[["__scopeId","data-v-3022a10c"]]),qle={class:"row"},Kle=U("h1",null,"Alle Guides",-1),Xle=U("hr",{class:"divider"},null,-1),Yle=U("img",{src:np,width:"20"},null,-1),Jle=["onClick"],Zle=U("img",{src:kd,width:"20"},null,-1),Qle=[Zle],ece={__name:"Overview",setup(d){const m=At([]),w=At(!1),S=At([{key:"name",title:"Name"}]),E=()=>{w.value=!0,Wn.get("/guides").then(B=>{w.value=!1,m.value=B.data.guides}).catch(B=>{w.value=!1,console.log(B),B.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},O=B=>{window.confirm("Willst du diesen Guide wirklich löschen?")&&Wn.delete(`/guides/${B}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{E()}).catch(I=>{console.log(I),I.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Guide konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return lo(()=>{E()}),(B,I)=>{const G=eo("router-link"),ee=eo("RouterLink");return Ve(),Ze("main",null,[U("div",qle,[Kle,_t(G,{to:"/guide-erstellen",class:"button-primary"},{default:Jt(()=>[Tr("Guide hinzufügen")]),_:1})]),Xle,_t(rp,{tableData:m.value,tableColumns:S.value,loading:w.value},{actions:Jt(()=>[Tr(" Aktionen ")]),tableActions:Jt(ae=>[_t(ee,{to:`/guide-bearbeiten/${ae.row.id}`},{default:Jt(()=>[Yle]),_:2},1032,["to"]),U("button",{onClick:me=>O(ae.row.id)},Qle,8,Jle)]),_:1},8,["tableData","tableColumns","loading"])])}}},tce={__name:"Create",setup(d){return(m,w)=>(Ve(),Ze("main",null,[_t(jH)]))}},nce={__name:"Edit",setup(d){const w=tb().params.id;return(S,E)=>(Ve(),Ze("main",null,[_t(jH,{"edit-mode":!0,id:Po(w)},null,8,["id"])]))}},rce={class:"row"},ace=U("h1",null,"Alle Sprachen",-1),oce=U("hr",{class:"divider"},null,-1),ice=U("img",{src:np,width:"20"},null,-1),uce=["onClick"],sce=U("img",{src:kd,width:"20"},null,-1),lce=[sce],cce={__name:"Overview",setup(d){const m=At([]),w=At(!1),S=At([{key:"name",title:"Name"}]),E=()=>{w.value=!0,Wn.get("/languages").then(B=>{w.value=!1,m.value=B.data.languages}).catch(B=>{w.value=!1,console.log(B),B.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},O=B=>{Wn.delete(`/languages/${B}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{E()}).catch(I=>{console.log(I),I.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Sprache konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return lo(()=>{E()}),(B,I)=>{const G=eo("router-link"),ee=eo("RouterLink");return Ve(),Ze("main",null,[U("div",rce,[ace,_t(G,{to:"/sprache-erstellen",class:"button-primary"},{default:Jt(()=>[Tr("Sprache hinzufügen")]),_:1})]),oce,_t(rp,{tableData:m.value,tableColumns:S.value,loading:w.value},{actions:Jt(()=>[Tr(" Aktionen ")]),tableActions:Jt(ae=>[_t(ee,{to:`/sprache-bearbeiten/${ae.row.id}`},{default:Jt(()=>[ice]),_:2},1032,["to"]),U("button",{onClick:me=>O(ae.row.id)},lce,8,uce)]),_:1},8,["tableData","tableColumns","loading"])])}}},fce={__name:"Create",setup(d){return(m,w)=>(Ve(),Ze("main",null,[_t(VH)]))}},vce={__name:"Edit",setup(d){const w=tb().params.id;return(S,E)=>(Ve(),Ze("main",null,[_t(VH,{"edit-mode":!0,id:Po(w)},null,8,["id"])]))}},dce={class:"row"},mce=U("h1",null,"Alle Mobilitäten",-1),hce=U("hr",{class:"divider"},null,-1),gce=U("img",{src:np,width:"20"},null,-1),pce=["onClick"],bce=U("img",{src:kd,width:"20"},null,-1),yce=[bce],wce={__name:"Overview",setup(d){const m=At([]),w=At(!1),S=At([{key:"name",title:"Name"}]),E=()=>{w.value=!0,Wn.get("/mobility").then(B=>{w.value=!1,m.value=B.data.mobilities}).catch(B=>{w.value=!1,console.log(B),B.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},O=B=>{Wn.delete(`/mobility/${B}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{E()}).catch(I=>{console.log(I),I.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Mobilität konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return lo(()=>{E()}),(B,I)=>{const G=eo("router-link"),ee=eo("RouterLink");return Ve(),Ze("main",null,[U("div",dce,[mce,_t(G,{to:"/mobilitaet-erstellen",class:"button-primary"},{default:Jt(()=>[Tr("Mobilität hinzufügen")]),_:1})]),hce,_t(rp,{tableData:m.value,tableColumns:S.value,loading:w.value},{actions:Jt(()=>[Tr(" Aktionen ")]),tableActions:Jt(ae=>[_t(ee,{to:`/mobilitaet-bearbeiten/${ae.row.id}`},{default:Jt(()=>[gce]),_:2},1032,["to"]),U("button",{onClick:me=>O(ae.row.id)},yce,8,pce)]),_:1},8,["tableData","tableColumns","loading"])])}}},Cce={__name:"Create",setup(d){return(m,w)=>(Ve(),Ze("main",null,[_t(WH)]))}},Sce={__name:"Edit",setup(d){const w=tb().params.id;return(S,E)=>(Ve(),Ze("main",null,[_t(WH,{"edit-mode":!0,id:Po(w)},null,8,["id"])]))}},xce={class:"row"},_ce=U("h1",null,"Alle Orte",-1),kce=U("hr",{class:"divider"},null,-1),Ace=U("img",{src:np,width:"20"},null,-1),Ece=["onClick"],Tce=U("img",{src:kd,width:"20"},null,-1),Oce=[Tce],Dce={__name:"Overview",setup(d){const m=At([]),w=At(!1),S=At([{key:"name",title:"Name"}]),E=()=>{w.value=!0,Wn.get("/places").then(B=>{w.value=!1,m.value=B.data.places}).catch(B=>{w.value=!1,console.log(B),B.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},O=B=>{Wn.delete(`/places/${B}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{E()}).catch(I=>{console.log(I),I.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Ort konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return lo(()=>{E()}),(B,I)=>{const G=eo("router-link"),ee=eo("RouterLink");return Ve(),Ze("main",null,[U("div",xce,[_ce,_t(G,{to:"/ort-erstellen",class:"button-primary"},{default:Jt(()=>[Tr("Ort hinzufügen")]),_:1})]),kce,_t(rp,{tableData:m.value,tableColumns:S.value,loading:w.value},{actions:Jt(()=>[Tr(" Aktionen ")]),tableActions:Jt(ae=>[_t(ee,{to:`/ort-bearbeiten/${ae.row.id}`},{default:Jt(()=>[Ace]),_:2},1032,["to"]),U("button",{onClick:me=>O(ae.row.id)},Oce,8,Ece)]),_:1},8,["tableData","tableColumns","loading"])])}}},Rce={__name:"Create",setup(d){return(m,w)=>(Ve(),Ze("main",null,[_t(GH)]))}},Bce={__name:"Edit",setup(d){const w=tb().params.id;return(S,E)=>(Ve(),Ze("main",null,[_t(GH,{"edit-mode":!0,id:Po(w)},null,8,["id"])]))}},$ce={class:"row"},Mce=U("h1",null,"Alle Kategorien",-1),Pce=U("hr",{class:"divider"},null,-1),Nce=U("img",{src:np,width:"20"},null,-1),Ice=["onClick"],zce=U("img",{src:kd,width:"20"},null,-1),Lce=[zce],Fce={__name:"Overview",setup(d){const m=At([]),w=At(!1),S=At([{key:"name",title:"Name"}]),E=()=>{w.value=!0,Wn.get("/themes").then(B=>{w.value=!1,m.value=B.data.themes}).catch(B=>{w.value=!1,console.log(B),B.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},O=B=>{Wn.delete(`/themes/${B}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{E()}).catch(I=>{console.log(I),I.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Kategorie konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return lo(()=>{E()}),(B,I)=>{const G=eo("router-link"),ee=eo("RouterLink");return Ve(),Ze("main",null,[U("div",$ce,[Mce,_t(G,{to:"/kategorie-erstellen",class:"button-primary"},{default:Jt(()=>[Tr("Kategorie hinzufügen")]),_:1})]),Pce,_t(rp,{tableData:m.value,tableColumns:S.value,loading:w.value},{actions:Jt(()=>[Tr(" Aktionen ")]),tableActions:Jt(ae=>[_t(ee,{to:`/kategorie-bearbeiten/${ae.row.id}`},{default:Jt(()=>[Nce]),_:2},1032,["to"]),U("button",{onClick:me=>O(ae.row.id)},Lce,8,Ice)]),_:1},8,["tableData","tableColumns","loading"])])}}},Hce={__name:"Create",setup(d){return(m,w)=>(Ve(),Ze("main",null,[_t(qH)]))}},Vce={__name:"Edit",setup(d){const w=tb().params.id;return(S,E)=>(Ve(),Ze("main",null,[_t(qH,{"edit-mode":!0,id:Po(w)},null,8,["id"])]))}},Uce={class:"row"},Wce=U("h1",null,"Alle Zertifikate",-1),jce=U("hr",{class:"divider"},null,-1),Gce=U("img",{src:np,width:"20"},null,-1),qce=["onClick"],Kce=U("img",{src:kd,width:"20"},null,-1),Xce=[Kce],Yce={__name:"Overview",setup(d){const m=At([]),w=At(!1),S=At([{key:"name",title:"Name"}]),E=()=>{w.value=!0,Wn.get("/certificates").then(B=>{w.value=!1,m.value=B.data.certificates}).catch(B=>{w.value=!1,console.log(B),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},O=B=>{Wn.delete(`/certificates/${B}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{E()}).catch(I=>{console.log(I),I.response.status===401&&sessionStorage.removeItem("token"),window.alert("Das Zertifikat konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return lo(()=>{E()}),(B,I)=>{const G=eo("router-link"),ee=eo("RouterLink");return Ve(),Ze("main",null,[U("div",Uce,[Wce,_t(G,{to:"/zertifikat-erstellen",class:"button-primary"},{default:Jt(()=>[Tr("Zertifikat hinzufügen")]),_:1})]),jce,_t(rp,{tableData:m.value,tableColumns:S.value,loading:w.value},{actions:Jt(()=>[Tr(" Aktionen ")]),tableActions:Jt(ae=>[_t(ee,{to:`/zertifikat-bearbeiten/${ae.row.id}`},{default:Jt(()=>[Gce]),_:2},1032,["to"]),U("button",{onClick:me=>O(ae.row.id)},Xce,8,qce)]),_:1},8,["tableData","tableColumns","loading"])])}}},Jce={__name:"Create",setup(d){return(m,w)=>(Ve(),Ze("main",null,[_t(HH)]))}},Zce={__name:"Edit",setup(d){const w=tb().params.id;return(S,E)=>(Ve(),Ze("main",null,[_t(HH,{"edit-mode":!0,id:Po(w)},null,8,["id"])]))}},Qce={class:"row"},efe=U("h1",null,"Alle Skills",-1),tfe=U("hr",{class:"divider"},null,-1),nfe=U("img",{src:np,width:"20"},null,-1),rfe=["onClick"],afe=U("img",{src:kd,width:"20"},null,-1),ofe=[afe],ife={__name:"Overview",setup(d){const m=At([]),w=At(!1),S=At([{key:"name",title:"Name"}]),E=()=>{w.value=!0,Wn.get("/skills").then(B=>{w.value=!1,m.value=B.data.skills}).catch(B=>{w.value=!1,console.log(B),B.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},O=B=>{Wn.delete(`/skills/${B}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{E()}).catch(I=>{console.log(I),I.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Skill konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return lo(()=>{E()}),(B,I)=>{const G=eo("router-link"),ee=eo("RouterLink");return Ve(),Ze("main",null,[U("div",Qce,[efe,_t(G,{to:"/skill-erstellen",class:"button-primary"},{default:Jt(()=>[Tr("Skill hinzufügen")]),_:1})]),tfe,_t(rp,{tableData:m.value,tableColumns:S.value,loading:w.value},{actions:Jt(()=>[Tr(" Aktionen ")]),tableActions:Jt(ae=>[_t(ee,{to:`/skill-bearbeiten/${ae.row.id}`},{default:Jt(()=>[nfe]),_:2},1032,["to"]),U("button",{onClick:me=>O(ae.row.id)},ofe,8,rfe)]),_:1},8,["tableData","tableColumns","loading"])])}}},ufe={__name:"Create",setup(d){return(m,w)=>(Ve(),Ze("main",null,[_t(UH)]))}},sfe={__name:"Edit",setup(d){const w=tb().params.id;return(S,E)=>(Ve(),Ze("main",null,[_t(UH,{"edit-mode":!0,id:Po(w)},null,8,["id"])]))}},lfe={class:"row"},cfe=U("h1",null,"Alle Benutzer",-1),ffe=U("hr",{class:"divider"},null,-1),vfe=U("img",{src:np,width:"20"},null,-1),dfe=["onClick"],mfe=U("img",{src:kd,width:"20"},null,-1),hfe=[mfe],gfe={__name:"Overview",setup(d){const m=At([]),w=At(!1),S=At([{key:"name",title:"Name"},{key:"updated_at",title:"zuletzt aktualisiert"}]),E=()=>{w.value=!0,Wn.get("/users").then(B=>{w.value=!1,m.value=B.data.users}).catch(B=>{w.value=!1,console.log(B),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},O=B=>{Wn.delete(`/users/${B}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{E()}).catch(I=>{console.log(I),I.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Benutzer konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return lo(()=>{E()}),(B,I)=>{const G=eo("router-link"),ee=eo("RouterLink");return Ve(),Ze("main",null,[U("div",lfe,[cfe,_t(G,{to:"/verwaltung-erstellen",class:"button-primary"},{default:Jt(()=>[Tr("Benutzer hinzufügen")]),_:1})]),ffe,_t(rp,{tableData:m.value,tableColumns:S.value,loading:w.value},{actions:Jt(()=>[Tr(" Aktionen ")]),tableActions:Jt(ae=>[_t(ee,{to:`/verwaltung-bearbeiten/${ae.row.id}`},{default:Jt(()=>[vfe]),_:2},1032,["to"]),U("button",{onClick:me=>O(ae.row.id)},hfe,8,dfe)]),_:1},8,["tableData","tableColumns","loading"])])}}},pfe={class:"row"},bfe=U("h1",null,"Benutzer erstellen",-1),yfe=U("hr",{class:"divider"},null,-1),wfe={class:"row content-row"},Cfe={class:"col",style:{width:"48%","min-width":"200px"}},Sfe={class:"col",style:{width:"48%","min-width":"200px"}},xfe={class:"row content-row"},_fe={class:"col",style:{width:"48%","min-width":"200px"}},kfe={class:"col",style:{width:"48%","min-width":"200px"}},Afe={__name:"Create",setup(d){const m=At({name:"",email:"",password:"",password_confirmation:""}),w=Gm(),S=()=>m.value.password!==m.value.password_confirmation?(alert("Passwörter stimmen nicht überein"),!1):!0,E=()=>{S()&&Wn.post("/auth/register",m.value).then(()=>{w.push("/verwaltung")}).catch(O=>{window.alert("Benutzer konnte nicht erstellt werden")})};return(O,B)=>(Ve(),Ze("main",null,[U("div",pfe,[bfe,_t(Po(Cv),{to:"/verwaltung",class:"button-primary"},{default:Jt(()=>[Tr("Abbrechen")]),_:1})]),yfe,U("div",wfe,[U("div",Cfe,[ar(U("input",{type:"name",placeholder:"Benutzername",for:"username",name:"username","onUpdate:modelValue":B[0]||(B[0]=I=>m.value.name=I)},null,512),[[cr,m.value.name]])]),U("div",Sfe,[ar(U("input",{type:"email",placeholder:"Email",for:"email",name:"email","onUpdate:modelValue":B[1]||(B[1]=I=>m.value.email=I)},null,512),[[cr,m.value.email]])])]),U("div",xfe,[U("div",_fe,[ar(U("input",{type:"password",placeholder:"Passwort",for:"password",name:"password","onUpdate:modelValue":B[2]||(B[2]=I=>m.value.password=I)},null,512),[[cr,m.value.password]])]),U("div",kfe,[ar(U("input",{type:"password",placeholder:"Passwort (Wiederholen)",for:"password",name:"password","onUpdate:modelValue":B[3]||(B[3]=I=>m.value.password_confirmation=I)},null,512),[[cr,m.value.password_confirmation]])])]),U("div",{class:"row content-row"},[U("button",{class:"button-primary",onClick:E}," Benutzer erstellen ")])]))}},Efe={class:"row"},Tfe=U("h1",null,"Benutzer erstellen",-1),Ofe=U("hr",{class:"divider"},null,-1),Dfe={class:"row content-row"},Rfe={class:"col",style:{width:"48%","min-width":"200px"}},Bfe={class:"col",style:{width:"48%","min-width":"200px"}},$fe={class:"row content-row"},Mfe={class:"col",style:{width:"48%","min-width":"200px"}},Pfe={class:"col",style:{width:"48%","min-width":"200px"}},Nfe={__name:"Edit",setup(d){const m=At({name:"",email:"",password:"",password_confirmation:""}),w=Gm(),S=w.currentRoute.value.params.id,E=()=>m.value.password!==m.value.password_confirmation?(alert("Passwörter stimmen nicht überein"),!1):!0,O=()=>{E()&&Wn.patch("/users/"+S,m.value).then(()=>{w.push("/verwaltung")}).catch(I=>{window.alert("Benutzer konnte nicht erstellt werden")})},B=()=>{Wn.get(`/users/${S}`).then(I=>{m.value=I.data.user}).catch(I=>{console.log(I)})};return lo(()=>{B()}),(I,G)=>(Ve(),Ze("main",null,[U("div",Efe,[Tfe,_t(Po(Cv),{to:"/verwaltung",class:"button-primary"},{default:Jt(()=>[Tr("Abbrechen")]),_:1})]),Ofe,U("div",Dfe,[U("div",Rfe,[ar(U("input",{type:"name",placeholder:"Benutzername",for:"username",name:"username","onUpdate:modelValue":G[0]||(G[0]=ee=>m.value.name=ee)},null,512),[[cr,m.value.name]])]),U("div",Bfe,[ar(U("input",{type:"email",placeholder:"Email",for:"email",name:"email","onUpdate:modelValue":G[1]||(G[1]=ee=>m.value.email=ee)},null,512),[[cr,m.value.email]])])]),U("div",$fe,[U("div",Mfe,[ar(U("input",{type:"password",placeholder:"Passwort",for:"password",name:"password","onUpdate:modelValue":G[2]||(G[2]=ee=>m.value.password=ee)},null,512),[[cr,m.value.password]])]),U("div",Pfe,[ar(U("input",{type:"password",placeholder:"Passwort (Wiederholen)",for:"password",name:"password","onUpdate:modelValue":G[3]||(G[3]=ee=>m.value.password_confirmation=ee)},null,512),[[cr,m.value.password_confirmation]])])]),U("div",{class:"row content-row"},[U("button",{class:"button-primary",onClick:O}," Benutzer erstellen ")])]))}},Ife={class:"row"},zfe=U("h1",null,"Alle Seiten",-1),Lfe=U("hr",{class:"divider"},null,-1),Ffe=U("img",{src:np,width:"20"},null,-1),Hfe=["onClick"],Vfe=U("img",{src:kd,width:"20"},null,-1),Ufe=[Vfe],Wfe={__name:"Overview",setup(d){const m=At([]),w=At(!1),S=At([{key:"name",title:"Name"}]),E=()=>{w.value=!0,Wn.get("/pages").then(B=>{w.value=!1,m.value=B.data}).catch(B=>{w.value=!1,console.log(B),B.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},O=B=>{window.confirm("Sind Sie sicher, dass Sie diese Seite löschen möchten?")&&Wn.delete(`/pages/${B}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{E()}).catch(I=>{console.log(I),I.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return lo(()=>{E()}),(B,I)=>{const G=eo("router-link"),ee=eo("RouterLink");return Ve(),Ze("main",null,[U("div",Ife,[zfe,_t(G,{to:"/page-erstellen",class:"button-primary"},{default:Jt(()=>[Tr("Seite hinzufügen")]),_:1})]),Lfe,_t(rp,{tableData:m.value,tableColumns:S.value,loading:w.value},{actions:Jt(()=>[Tr(" Aktionen ")]),tableActions:Jt(ae=>[_t(ee,{to:`/page-bearbeiten/${ae.row.id}`},{default:Jt(()=>[Ffe]),_:2},1032,["to"]),U("button",{onClick:me=>O(ae.row.id)},Ufe,8,Hfe)]),_:1},8,["tableData","tableColumns","loading"])])}}},jfe={class:"row"},Gfe=U("h1",null,"Seite erstellen",-1),qfe=U("hr",{class:"divider"},null,-1),Kfe={class:"row content-row"},Xfe={class:"row content-row"},Yfe=U("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Jfe={class:"row content-row"},Zfe={class:"row content-row"},Qfe=U("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),eve={class:"content-row"},tve={class:"errorMessages"},nve={__name:"Create",setup(d){const m=At({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""}),w=At("Erstellen"),S=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen für die Seite ein."),!1):!0,E=()=>{S()&&(w.value="Speichern...",m.value["description:de"]=Zr.get("editor_de").getContent(),m.value["description:en"]=Zr.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Wn.post("/pages",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,router.push("/pages")}).catch(O=>{w.value="Erstellen",console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gespeichert werden. Bitte versuche es erneut.")}))};return lo(async()=>{await Zr.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:PS.toString()+`
`+NS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |   bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:O=>{O.on("init",()=>{O.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),BP(()=>{Zr.remove()}),(O,B)=>{const I=eo("router-Link");return Ve(),Ze("main",null,[U("div",jfe,[Gfe,_t(I,{to:"/pages",class:"button-primary"},{default:Jt(()=>[Tr("Abbrechen")]),_:1})]),qfe,U("div",Kfe,[_t(Ca,{lang:"de",title:"Titel (DE)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":B[0]||(B[0]=G=>m.value["name:de"]=G),placeholder:"Name"},null,512),[[cr,m.value["name:de"]]])]),_:1})]),U("div",Xfe,[_t(Ca,{lang:"de",title:"Beschreibung"},{content:Jt(()=>[Yfe]),_:1})]),U("div",Jfe,[_t(Ca,{lang:"en",title:"Titel (EN)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":B[1]||(B[1]=G=>m.value["name:en"]=G),placeholder:"Name"},null,512),[[cr,m.value["name:en"]]])]),_:1})]),U("div",Zfe,[_t(Ca,{lang:"en",title:"Description"},{content:Jt(()=>[Qfe]),_:1})]),U("div",eve,[U("button",{class:"button-primary",onClick:B[2]||(B[2]=G=>E())},ir(w.value),1),U("div",tve,[(Ve(!0),Ze(Or,null,po(O.errors,G=>(Ve(),Ze("p",{key:G},ir(G),1))),128))])])])}}},rve={class:"row"},ave=U("h1",null,"Seite erstellen",-1),ove=U("hr",{class:"divider"},null,-1),ive={class:"row content-row"},uve={class:"row content-row"},sve=U("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),lve={class:"row content-row"},cve={class:"row content-row"},fve=U("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),vve={class:"content-row"},dve={class:"errorMessages"},mve={__name:"Edit",setup(d){const m=At({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""}),w=At("Erstellen"),S=tb(),E=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen für die Seite ein."),!1):!0,O=()=>{E()&&(w.value="Speichern...",m.value["description:de"]=Zr.get("editor_de").getContent(),m.value["description:en"]=Zr.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Wn.patch("/pages/"+S.params.id,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,router.push("/pages")}).catch(B=>{w.value="Erstellen",console.log(B),B.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gespeichert werden. Bitte versuche es erneut.")}))};return lo(async()=>{if(S.params.id){const B=await Wn.get(`/pages/${S.params.id}`);m.value["name:de"]=B.data.translations[0].name,m.value["name:en"]=B.data.translations[1].name,m.value["description:de"]=B.data.translations[0].description,m.value["description:en"]=B.data.translations[1].description,m.value.status=B.data.status,w.value="Aktualisieren"}await Zr.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:PS.toString()+`
`+NS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:B=>{B.on("init",()=>{B.setContent("<p></p>")})}}),setTimeout(()=>{Zr.get("editor_de").setContent(m.value["description:de"]),Zr.get("editor_en").setContent(m.value["description:en"])},100)}),BP(()=>{Zr.remove()}),(B,I)=>{const G=eo("router-Link");return Ve(),Ze("main",null,[U("div",rve,[ave,_t(G,{to:"/pages",class:"button-primary"},{default:Jt(()=>[Tr("Abbrechen")]),_:1})]),ove,U("div",ive,[_t(Ca,{lang:"de",title:"Titel (DE)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":I[0]||(I[0]=ee=>m.value["name:de"]=ee),placeholder:"Name"},null,512),[[cr,m.value["name:de"]]])]),_:1})]),U("div",uve,[_t(Ca,{lang:"de",title:"Beschreibung"},{content:Jt(()=>[sve]),_:1})]),U("div",lve,[_t(Ca,{lang:"en",title:"Titel (EN)"},{content:Jt(()=>[ar(U("input",{type:"text","onUpdate:modelValue":I[1]||(I[1]=ee=>m.value["name:en"]=ee),placeholder:"Name"},null,512),[[cr,m.value["name:en"]]])]),_:1})]),U("div",cve,[_t(Ca,{lang:"en",title:"Description"},{content:Jt(()=>[fve]),_:1})]),U("div",vve,[U("button",{class:"button-primary",onClick:I[2]||(I[2]=ee=>O())},ir(w.value),1),U("div",dve,[(Ve(!0),Ze(Or,null,po(B.errors,ee=>(Ve(),Ze("p",{key:ee},ir(ee),1))),128))])])])}}};const hve={},gve=U("h1",null,"Dashboard",-1),pve=U("hr",{class:"divider"},null,-1),bve={class:"content-row"},yve={class:"col"},wve=U("h2",null,"Empfohlene Vorgehensweise",-1),Cve=U("hr",{class:"divider"},null,-1),Sve=U("h3",null,"Zuerst Zertifikate, Sprachen und Guides erstellen",-1),xve=U("p",null," Es ist ratsam, zuerst Guides und ihre Attribute anzulegen, da dies den Aufwand während der Tour-Erstellung verringert. ",-1),_ve={class:"col",style:{margin:"5px 0"}},kve={class:"col",style:{margin:"5px 0"}},Ave={class:"col",style:{margin:"5px 0"}},Eve=U("h3",null,"Touren erstellen",-1),Tve=U("p",null," Nachdem Sie Guides, Sprachen und Zertifikate erstellt und verknüpft haben, können Sie mit dem Anlegen der Touren beginnen. Wenn Sie während der Tour-Erstellung feststellen, dass Sie einen Guide oder ein Zertifikat vergessen haben, können Sie diese auch während des Vorgangs erstellen. ",-1),Ove={class:"col",style:{margin:"5px 0"}};function Dve(d,m){const w=eo("router-link");return Ve(),Ze("div",null,[gve,pve,U("div",bve,[U("div",yve,[wve,Cve,U("ol",null,[U("li",null,[Sve,xve,U("div",_ve,[_t(w,{style:{display:"inline-block"},to:"/guides",class:"button-primary"},{default:Jt(()=>[Tr("Guides")]),_:1})]),U("div",kve,[_t(w,{style:{display:"inline-block"},to:"/sprachen",class:"button-primary"},{default:Jt(()=>[Tr("Sprachen")]),_:1})]),U("div",Ave,[_t(w,{style:{display:"inline-block"},to:"/zertifikate",class:"button-primary"},{default:Jt(()=>[Tr("Zertifikate")]),_:1})])]),U("li",null,[Eve,Tve,U("div",Ove,[_t(w,{style:{display:"inline-block"},to:"/touren",class:"button-primary"},{default:Jt(()=>[Tr("Touren")]),_:1})])])])])])])}const Rve=ED(hve,[["render",Dve]]),Bve=ine({history:_te("/"),routes:[{path:"/",name:"getting-started",component:Rve},{path:"/touren",name:"home",component:vae},{path:"/tour-erstellen",name:"touren",component:Jse},{path:"/tour-bearbeiten/:id",name:"tour-bearbeiten",component:Gle},{path:"/guides",name:"guides",component:ece},{path:"/guide-erstellen",name:"guide-erstellen",component:tce},{path:"/guide-bearbeiten/:id",name:"guide-bearbeiten",component:nce},{path:"/sprachen",name:"sprachen",component:cce},{path:"/sprache-erstellen",name:"sprache-erstellen",component:fce},{path:"/sprache-bearbeiten/:id",name:"sprache-bearbeiten",component:vce},{path:"/mobilitaet",name:"mobilität",component:wce},{path:"/mobilitaet-erstellen",name:"mobilitaet-erstellen",component:Cce},{path:"/mobilitaet-bearbeiten/:id",name:"mobilitaet-bearbeiten",component:Sce},{path:"/orte",name:"orte",component:Dce},{path:"/ort-erstellen",name:"ort-erstellen",component:Rce},{path:"/ort-bearbeiten/:id",name:"ort-bearbeiten",component:Bce},{path:"/kategorien",name:"kategorien",component:Fce},{path:"/kategorie-erstellen",name:"kategorie-erstellen",component:Hce},{path:"/kategorie-bearbeiten/:id",name:"kategorie-bearbeiten",component:Vce},{path:"/zertifikate",name:"zertifikate",component:Yce},{path:"/zertifikat-erstellen",name:"zertifikat-erstellen",component:Jce},{path:"/zertifikat-bearbeiten/:id",name:"zertifikat-bearbeiten",component:Zce},{path:"/skills",name:"skills",component:ife},{path:"/skill-erstellen",name:"skill-erstellen",component:ufe},{path:"/skill-bearbeiten/:id",name:"skill-bearbeiten",component:sfe},{path:"/verwaltung",name:"verwaltung",component:gfe},{path:"/verwaltung-erstellen",name:"verwaltung-erstellen",component:Afe},{path:"/verwaltung-bearbeiten/:id",name:"verwaltung-bearbeiten",component:Nfe},{path:"/pages",name:"pages",component:Wfe},{path:"/page-erstellen",name:"page-erstellen",component:nve},{path:"/page-bearbeiten/:id",name:"page-bearbeiten",component:mve}],scrollBehavior(d,m,w){return{top:0}}});Wn.defaults.baseURL="https://api.hamburger-gaestefuehrer.de/api";Wn.defaults.headers.common["Access-Control-Allow-Origin"]="*";Wn.defaults.headers.common["Content-Type"]="application/json";Wn.defaults.withCredentials=!0;const KH=Gee(qre);KH.use(Yee());KH.use(Bve);KH.mount("#app");
