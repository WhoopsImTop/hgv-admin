(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))b(_);new MutationObserver(_=>{for(const x of _)if(x.type==="childList")for(const T of x.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&b(T)}).observe(document,{childList:!0,subtree:!0});function y(_){const x={};return _.integrity&&(x.integrity=_.integrity),_.referrerPolicy&&(x.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?x.credentials="include":_.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function b(_){if(_.ep)return;_.ep=!0;const x=y(_);fetch(_.href,x)}})();function DH(f,m){const y=Object.create(null),b=f.split(",");for(let _=0;_<b.length;_++)y[b[_]]=!0;return m?_=>!!y[_.toLowerCase()]:_=>!!y[_]}const bi={},iA=[],Gm=()=>{},rQ=()=>!1,aQ=/^on[^a-z]/,M8=f=>aQ.test(f),RH=f=>f.startsWith("onUpdate:"),js=Object.assign,$H=(f,m)=>{const y=f.indexOf(m);y>-1&&f.splice(y,1)},oQ=Object.prototype.hasOwnProperty,eo=(f,m)=>oQ.call(f,m),Lr=Array.isArray,uA=f=>P5(f)==="[object Map]",P8=f=>P5(f)==="[object Set]",wU=f=>P5(f)==="[object Date]",ba=f=>typeof f=="function",Cs=f=>typeof f=="string",A5=f=>typeof f=="symbol",ri=f=>f!==null&&typeof f=="object",TW=f=>ri(f)&&ba(f.then)&&ba(f.catch),OW=Object.prototype.toString,P5=f=>OW.call(f),iQ=f=>P5(f).slice(8,-1),DW=f=>P5(f)==="[object Object]",BH=f=>Cs(f)&&f!=="NaN"&&f[0]!=="-"&&""+parseInt(f,10)===f,s8=DH(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),I8=f=>{const m=Object.create(null);return y=>m[y]||(m[y]=f(y))},uQ=/-(\w)/g,lp=I8(f=>f.replace(uQ,(m,y)=>y?y.toUpperCase():"")),sQ=/\B([A-Z])/g,H_=I8(f=>f.replace(sQ,"-$1").toLowerCase()),N8=I8(f=>f.charAt(0).toUpperCase()+f.slice(1)),Y7=I8(f=>f?`on${N8(f)}`:""),E5=(f,m)=>!Object.is(f,m),l8=(f,m)=>{for(let y=0;y<f.length;y++)f[y](m)},p8=(f,m,y)=>{Object.defineProperty(f,m,{configurable:!0,enumerable:!1,value:y})},b8=f=>{const m=parseFloat(f);return isNaN(m)?f:m};let CU;const cH=()=>CU||(CU=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function z8(f){if(Lr(f)){const m={};for(let y=0;y<f.length;y++){const b=f[y],_=Cs(b)?vQ(b):z8(b);if(_)for(const x in _)m[x]=_[x]}return m}else{if(Cs(f))return f;if(ri(f))return f}}const lQ=/;(?![^(]*\))/g,cQ=/:([^]+)/,fQ=/\/\*[^]*?\*\//g;function vQ(f){const m={};return f.replace(fQ,"").split(lQ).forEach(y=>{if(y){const b=y.split(cQ);b.length>1&&(m[b[0].trim()]=b[1].trim())}}),m}function I5(f){let m="";if(Cs(f))m=f;else if(Lr(f))for(let y=0;y<f.length;y++){const b=I5(f[y]);b&&(m+=b+" ")}else if(ri(f))for(const y in f)f[y]&&(m+=y+" ");return m.trim()}const dQ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mQ=DH(dQ);function RW(f){return!!f||f===""}function hQ(f,m){if(f.length!==m.length)return!1;let y=!0;for(let b=0;y&&b<f.length;b++)y=F8(f[b],m[b]);return y}function F8(f,m){if(f===m)return!0;let y=wU(f),b=wU(m);if(y||b)return y&&b?f.getTime()===m.getTime():!1;if(y=A5(f),b=A5(m),y||b)return f===m;if(y=Lr(f),b=Lr(m),y||b)return y&&b?hQ(f,m):!1;if(y=ri(f),b=ri(m),y||b){if(!y||!b)return!1;const _=Object.keys(f).length,x=Object.keys(m).length;if(_!==x)return!1;for(const T in f){const O=f.hasOwnProperty(T),L=m.hasOwnProperty(T);if(O&&!L||!O&&L||!F8(f[T],m[T]))return!1}}return String(f)===String(m)}function gQ(f,m){return f.findIndex(y=>F8(y,m))}const Kn=f=>Cs(f)?f:f==null?"":Lr(f)||ri(f)&&(f.toString===OW||!ba(f.toString))?JSON.stringify(f,$W,2):String(f),$W=(f,m)=>m&&m.__v_isRef?$W(f,m.value):uA(m)?{[`Map(${m.size})`]:[...m.entries()].reduce((y,[b,_])=>(y[`${b} =>`]=_,y),{})}:P8(m)?{[`Set(${m.size})`]:[...m.values()]}:ri(m)&&!Lr(m)&&!DW(m)?String(m):m;let Vm;class BW{constructor(m=!1){this.detached=m,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Vm,!m&&Vm&&(this.index=(Vm.scopes||(Vm.scopes=[])).push(this)-1)}get active(){return this._active}run(m){if(this._active){const y=Vm;try{return Vm=this,m()}finally{Vm=y}}}on(){Vm=this}off(){Vm=this.parent}stop(m){if(this._active){let y,b;for(y=0,b=this.effects.length;y<b;y++)this.effects[y].stop();for(y=0,b=this.cleanups.length;y<b;y++)this.cleanups[y]();if(this.scopes)for(y=0,b=this.scopes.length;y<b;y++)this.scopes[y].stop(!0);if(!this.detached&&this.parent&&!m){const _=this.parent.scopes.pop();_&&_!==this&&(this.parent.scopes[this.index]=_,_.index=this.index)}this.parent=void 0,this._active=!1}}}function pQ(f){return new BW(f)}function bQ(f,m=Vm){m&&m.active&&m.effects.push(f)}function yQ(){return Vm}const MH=f=>{const m=new Set(f);return m.w=0,m.n=0,m},MW=f=>(f.w&t2)>0,PW=f=>(f.n&t2)>0,wQ=({deps:f})=>{if(f.length)for(let m=0;m<f.length;m++)f[m].w|=t2},CQ=f=>{const{deps:m}=f;if(m.length){let y=0;for(let b=0;b<m.length;b++){const _=m[b];MW(_)&&!PW(_)?_.delete(f):m[y++]=_,_.w&=~t2,_.n&=~t2}m.length=y}},fH=new WeakMap;let y5=0,t2=1;const vH=30;let Um;const F_=Symbol(""),dH=Symbol("");class PH{constructor(m,y=null,b){this.fn=m,this.scheduler=y,this.active=!0,this.deps=[],this.parent=void 0,bQ(this,b)}run(){if(!this.active)return this.fn();let m=Um,y=Qy;for(;m;){if(m===this)return;m=m.parent}try{return this.parent=Um,Um=this,Qy=!0,t2=1<<++y5,y5<=vH?wQ(this):_U(this),this.fn()}finally{y5<=vH&&CQ(this),t2=1<<--y5,Um=this.parent,Qy=y,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Um===this?this.deferStop=!0:this.active&&(_U(this),this.onStop&&this.onStop(),this.active=!1)}}function _U(f){const{deps:m}=f;if(m.length){for(let y=0;y<m.length;y++)m[y].delete(f);m.length=0}}let Qy=!0;const IW=[];function gA(){IW.push(Qy),Qy=!1}function pA(){const f=IW.pop();Qy=f===void 0?!0:f}function Tf(f,m,y){if(Qy&&Um){let b=fH.get(f);b||fH.set(f,b=new Map);let _=b.get(y);_||b.set(y,_=MH()),NW(_)}}function NW(f,m){let y=!1;y5<=vH?PW(f)||(f.n|=t2,y=!MW(f)):y=!f.has(Um),y&&(f.add(Um),Um.deps.push(f))}function ub(f,m,y,b,_,x){const T=fH.get(f);if(!T)return;let O=[];if(m==="clear")O=[...T.values()];else if(y==="length"&&Lr(f)){const L=Number(b);T.forEach((W,I)=>{(I==="length"||I>=L)&&O.push(W)})}else switch(y!==void 0&&O.push(T.get(y)),m){case"add":Lr(f)?BH(y)&&O.push(T.get("length")):(O.push(T.get(F_)),uA(f)&&O.push(T.get(dH)));break;case"delete":Lr(f)||(O.push(T.get(F_)),uA(f)&&O.push(T.get(dH)));break;case"set":uA(f)&&O.push(T.get(F_));break}if(O.length===1)O[0]&&mH(O[0]);else{const L=[];for(const W of O)W&&L.push(...W);mH(MH(L))}}function mH(f,m){const y=Lr(f)?f:[...f];for(const b of y)b.computed&&SU(b);for(const b of y)b.computed||SU(b)}function SU(f,m){(f!==Um||f.allowRecurse)&&(f.scheduler?f.scheduler():f.run())}const _Q=DH("__proto__,__v_isRef,__isVue"),zW=new Set(Object.getOwnPropertyNames(Symbol).filter(f=>f!=="arguments"&&f!=="caller").map(f=>Symbol[f]).filter(A5)),SQ=IH(),xQ=IH(!1,!0),kQ=IH(!0),xU=AQ();function AQ(){const f={};return["includes","indexOf","lastIndexOf"].forEach(m=>{f[m]=function(...y){const b=go(this);for(let x=0,T=this.length;x<T;x++)Tf(b,"get",x+"");const _=b[m](...y);return _===-1||_===!1?b[m](...y.map(go)):_}}),["push","pop","shift","unshift","splice"].forEach(m=>{f[m]=function(...y){gA();const b=go(this)[m].apply(this,y);return pA(),b}}),f}function EQ(f){const m=go(this);return Tf(m,"has",f),m.hasOwnProperty(f)}function IH(f=!1,m=!1){return function(b,_,x){if(_==="__v_isReactive")return!f;if(_==="__v_isReadonly")return f;if(_==="__v_isShallow")return m;if(_==="__v_raw"&&x===(f?m?UQ:UW:m?VW:HW).get(b))return b;const T=Lr(b);if(!f){if(T&&eo(xU,_))return Reflect.get(xU,_,x);if(_==="hasOwnProperty")return EQ}const O=Reflect.get(b,_,x);return(A5(_)?zW.has(_):_Q(_))||(f||Tf(b,"get",_),m)?O:Gl(O)?T&&BH(_)?O:O.value:ri(O)?f?jW(O):H8(O):O}}const TQ=FW(),OQ=FW(!0);function FW(f=!1){return function(y,b,_,x){let T=y[b];if(cA(T)&&Gl(T)&&!Gl(_))return!1;if(!f&&(!y8(_)&&!cA(_)&&(T=go(T),_=go(_)),!Lr(y)&&Gl(T)&&!Gl(_)))return T.value=_,!0;const O=Lr(y)&&BH(b)?Number(b)<y.length:eo(y,b),L=Reflect.set(y,b,_,x);return y===go(x)&&(O?E5(_,T)&&ub(y,"set",b,_):ub(y,"add",b,_)),L}}function DQ(f,m){const y=eo(f,m);f[m];const b=Reflect.deleteProperty(f,m);return b&&y&&ub(f,"delete",m,void 0),b}function RQ(f,m){const y=Reflect.has(f,m);return(!A5(m)||!zW.has(m))&&Tf(f,"has",m),y}function $Q(f){return Tf(f,"iterate",Lr(f)?"length":F_),Reflect.ownKeys(f)}const LW={get:SQ,set:TQ,deleteProperty:DQ,has:RQ,ownKeys:$Q},BQ={get:kQ,set(f,m){return!0},deleteProperty(f,m){return!0}},MQ=js({},LW,{get:xQ,set:OQ}),NH=f=>f,L8=f=>Reflect.getPrototypeOf(f);function n8(f,m,y=!1,b=!1){f=f.__v_raw;const _=go(f),x=go(m);y||(m!==x&&Tf(_,"get",m),Tf(_,"get",x));const{has:T}=L8(_),O=b?NH:y?HH:T5;if(T.call(_,m))return O(f.get(m));if(T.call(_,x))return O(f.get(x));f!==_&&f.get(m)}function r8(f,m=!1){const y=this.__v_raw,b=go(y),_=go(f);return m||(f!==_&&Tf(b,"has",f),Tf(b,"has",_)),f===_?y.has(f):y.has(f)||y.has(_)}function a8(f,m=!1){return f=f.__v_raw,!m&&Tf(go(f),"iterate",F_),Reflect.get(f,"size",f)}function kU(f){f=go(f);const m=go(this);return L8(m).has.call(m,f)||(m.add(f),ub(m,"add",f,f)),this}function AU(f,m){m=go(m);const y=go(this),{has:b,get:_}=L8(y);let x=b.call(y,f);x||(f=go(f),x=b.call(y,f));const T=_.call(y,f);return y.set(f,m),x?E5(m,T)&&ub(y,"set",f,m):ub(y,"add",f,m),this}function EU(f){const m=go(this),{has:y,get:b}=L8(m);let _=y.call(m,f);_||(f=go(f),_=y.call(m,f)),b&&b.call(m,f);const x=m.delete(f);return _&&ub(m,"delete",f,void 0),x}function TU(){const f=go(this),m=f.size!==0,y=f.clear();return m&&ub(f,"clear",void 0,void 0),y}function o8(f,m){return function(b,_){const x=this,T=x.__v_raw,O=go(T),L=m?NH:f?HH:T5;return!f&&Tf(O,"iterate",F_),T.forEach((W,I)=>b.call(_,L(W),L(I),x))}}function i8(f,m,y){return function(...b){const _=this.__v_raw,x=go(_),T=uA(x),O=f==="entries"||f===Symbol.iterator&&T,L=f==="keys"&&T,W=_[f](...b),I=y?NH:m?HH:T5;return!m&&Tf(x,"iterate",L?dH:F_),{next(){const{value:H,done:P}=W.next();return P?{value:H,done:P}:{value:O?[I(H[0]),I(H[1])]:I(H),done:P}},[Symbol.iterator](){return this}}}}function Ky(f){return function(...m){return f==="delete"?!1:this}}function PQ(){const f={get(x){return n8(this,x)},get size(){return a8(this)},has:r8,add:kU,set:AU,delete:EU,clear:TU,forEach:o8(!1,!1)},m={get(x){return n8(this,x,!1,!0)},get size(){return a8(this)},has:r8,add:kU,set:AU,delete:EU,clear:TU,forEach:o8(!1,!0)},y={get(x){return n8(this,x,!0)},get size(){return a8(this,!0)},has(x){return r8.call(this,x,!0)},add:Ky("add"),set:Ky("set"),delete:Ky("delete"),clear:Ky("clear"),forEach:o8(!0,!1)},b={get(x){return n8(this,x,!0,!0)},get size(){return a8(this,!0)},has(x){return r8.call(this,x,!0)},add:Ky("add"),set:Ky("set"),delete:Ky("delete"),clear:Ky("clear"),forEach:o8(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(x=>{f[x]=i8(x,!1,!1),y[x]=i8(x,!0,!1),m[x]=i8(x,!1,!0),b[x]=i8(x,!0,!0)}),[f,y,m,b]}const[IQ,NQ,zQ,FQ]=PQ();function zH(f,m){const y=m?f?FQ:zQ:f?NQ:IQ;return(b,_,x)=>_==="__v_isReactive"?!f:_==="__v_isReadonly"?f:_==="__v_raw"?b:Reflect.get(eo(y,_)&&_ in b?y:b,_,x)}const LQ={get:zH(!1,!1)},HQ={get:zH(!1,!0)},VQ={get:zH(!0,!1)},HW=new WeakMap,VW=new WeakMap,UW=new WeakMap,UQ=new WeakMap;function WQ(f){switch(f){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jQ(f){return f.__v_skip||!Object.isExtensible(f)?0:WQ(iQ(f))}function H8(f){return cA(f)?f:FH(f,!1,LW,LQ,HW)}function WW(f){return FH(f,!1,MQ,HQ,VW)}function jW(f){return FH(f,!0,BQ,VQ,UW)}function FH(f,m,y,b,_){if(!ri(f)||f.__v_raw&&!(m&&f.__v_isReactive))return f;const x=_.get(f);if(x)return x;const T=jQ(f);if(T===0)return f;const O=new Proxy(f,T===2?b:y);return _.set(f,O),O}function sA(f){return cA(f)?sA(f.__v_raw):!!(f&&f.__v_isReactive)}function cA(f){return!!(f&&f.__v_isReadonly)}function y8(f){return!!(f&&f.__v_isShallow)}function GW(f){return sA(f)||cA(f)}function go(f){const m=f&&f.__v_raw;return m?go(m):f}function LH(f){return p8(f,"__v_skip",!0),f}const T5=f=>ri(f)?H8(f):f,HH=f=>ri(f)?jW(f):f;function qW(f){Qy&&Um&&(f=go(f),NW(f.dep||(f.dep=MH())))}function KW(f,m){f=go(f);const y=f.dep;y&&mH(y)}function Gl(f){return!!(f&&f.__v_isRef===!0)}function xt(f){return XW(f,!1)}function GQ(f){return XW(f,!0)}function XW(f,m){return Gl(f)?f:new qQ(f,m)}class qQ{constructor(m,y){this.__v_isShallow=y,this.dep=void 0,this.__v_isRef=!0,this._rawValue=y?m:go(m),this._value=y?m:T5(m)}get value(){return qW(this),this._value}set value(m){const y=this.__v_isShallow||y8(m)||cA(m);m=y?m:go(m),E5(m,this._rawValue)&&(this._rawValue=m,this._value=y?m:T5(m),KW(this))}}function So(f){return Gl(f)?f.value:f}const KQ={get:(f,m,y)=>So(Reflect.get(f,m,y)),set:(f,m,y,b)=>{const _=f[m];return Gl(_)&&!Gl(y)?(_.value=y,!0):Reflect.set(f,m,y,b)}};function YW(f){return sA(f)?f:new Proxy(f,KQ)}class XQ{constructor(m,y,b,_){this._setter=y,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new PH(m,()=>{this._dirty||(this._dirty=!0,KW(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!_,this.__v_isReadonly=b}get value(){const m=go(this);return qW(m),(m._dirty||!m._cacheable)&&(m._dirty=!1,m._value=m.effect.run()),m._value}set value(m){this._setter(m)}}function YQ(f,m,y=!1){let b,_;const x=ba(f);return x?(b=f,_=Gm):(b=f.get,_=f.set),new XQ(b,_,x||!_,y)}function e2(f,m,y,b){let _;try{_=b?f(...b):f()}catch(x){V8(x,m,y)}return _}function qm(f,m,y,b){if(ba(f)){const x=e2(f,m,y,b);return x&&TW(x)&&x.catch(T=>{V8(T,m,y)}),x}const _=[];for(let x=0;x<f.length;x++)_.push(qm(f[x],m,y,b));return _}function V8(f,m,y,b=!0){const _=m?m.vnode:null;if(m){let x=m.parent;const T=m.proxy,O=y;for(;x;){const W=x.ec;if(W){for(let I=0;I<W.length;I++)if(W[I](f,T,O)===!1)return}x=x.parent}const L=m.appContext.config.errorHandler;if(L){e2(L,null,10,[f,T,O]);return}}JQ(f,y,_,b)}function JQ(f,m,y,b=!0){console.error(f)}let O5=!1,hH=!1;const jl=[];let sp=0;const lA=[];let ob=null,M_=0;const JW=Promise.resolve();let VH=null;function ZW(f){const m=VH||JW;return f?m.then(this?f.bind(this):f):m}function ZQ(f){let m=sp+1,y=jl.length;for(;m<y;){const b=m+y>>>1;D5(jl[b])<f?m=b+1:y=b}return m}function UH(f){(!jl.length||!jl.includes(f,O5&&f.allowRecurse?sp+1:sp))&&(f.id==null?jl.push(f):jl.splice(ZQ(f.id),0,f),QW())}function QW(){!O5&&!hH&&(hH=!0,VH=JW.then(tj))}function QQ(f){const m=jl.indexOf(f);m>sp&&jl.splice(m,1)}function eee(f){Lr(f)?lA.push(...f):(!ob||!ob.includes(f,f.allowRecurse?M_+1:M_))&&lA.push(f),QW()}function OU(f,m=O5?sp+1:0){for(;m<jl.length;m++){const y=jl[m];y&&y.pre&&(jl.splice(m,1),m--,y())}}function ej(f){if(lA.length){const m=[...new Set(lA)];if(lA.length=0,ob){ob.push(...m);return}for(ob=m,ob.sort((y,b)=>D5(y)-D5(b)),M_=0;M_<ob.length;M_++)ob[M_]();ob=null,M_=0}}const D5=f=>f.id==null?1/0:f.id,tee=(f,m)=>{const y=D5(f)-D5(m);if(y===0){if(f.pre&&!m.pre)return-1;if(m.pre&&!f.pre)return 1}return y};function tj(f){hH=!1,O5=!0,jl.sort(tee);const m=Gm;try{for(sp=0;sp<jl.length;sp++){const y=jl[sp];y&&y.active!==!1&&e2(y,null,14)}}finally{sp=0,jl.length=0,ej(),O5=!1,VH=null,(jl.length||lA.length)&&tj()}}function nee(f,m,...y){if(f.isUnmounted)return;const b=f.vnode.props||bi;let _=y;const x=m.startsWith("update:"),T=x&&m.slice(7);if(T&&T in b){const I=`${T==="modelValue"?"model":T}Modifiers`,{number:H,trim:P}=b[I]||bi;P&&(_=y.map(V=>Cs(V)?V.trim():V)),H&&(_=y.map(b8))}let O,L=b[O=Y7(m)]||b[O=Y7(lp(m))];!L&&x&&(L=b[O=Y7(H_(m))]),L&&qm(L,f,6,_);const W=b[O+"Once"];if(W){if(!f.emitted)f.emitted={};else if(f.emitted[O])return;f.emitted[O]=!0,qm(W,f,6,_)}}function nj(f,m,y=!1){const b=m.emitsCache,_=b.get(f);if(_!==void 0)return _;const x=f.emits;let T={},O=!1;if(!ba(f)){const L=W=>{const I=nj(W,m,!0);I&&(O=!0,js(T,I))};!y&&m.mixins.length&&m.mixins.forEach(L),f.extends&&L(f.extends),f.mixins&&f.mixins.forEach(L)}return!x&&!O?(ri(f)&&b.set(f,null),null):(Lr(x)?x.forEach(L=>T[L]=null):js(T,x),ri(f)&&b.set(f,T),T)}function U8(f,m){return!f||!M8(m)?!1:(m=m.slice(2).replace(/Once$/,""),eo(f,m[0].toLowerCase()+m.slice(1))||eo(f,H_(m))||eo(f,m))}let ql=null,W8=null;function w8(f){const m=ql;return ql=f,W8=f&&f.type.__scopeId||null,m}function V_(f){W8=f}function U_(){W8=null}function It(f,m=ql,y){if(!m||f._n)return f;const b=(..._)=>{b._d&&LU(-1);const x=w8(m);let T;try{T=f(..._)}finally{w8(x),b._d&&LU(1)}return T};return b._n=!0,b._c=!0,b._d=!0,b}function J7(f){const{type:m,vnode:y,proxy:b,withProxy:_,props:x,propsOptions:[T],slots:O,attrs:L,emit:W,render:I,renderCache:H,data:P,setupState:V,ctx:Z,inheritAttrs:q}=f;let $e,me;const Be=w8(f);try{if(y.shapeFlag&4){const ge=_||b;$e=ip(I.call(ge,ge,H,x,V,P,Z)),me=L}else{const ge=m;$e=ip(ge.length>1?ge(x,{attrs:L,slots:O,emit:W}):ge(x,null)),me=m.props?L:ree(L)}}catch(ge){S5.length=0,V8(ge,f,1),$e=it(n2)}let ne=$e;if(me&&q!==!1){const ge=Object.keys(me),{shapeFlag:De}=ne;ge.length&&De&7&&(T&&ge.some(RH)&&(me=aee(me,T)),ne=fA(ne,me))}return y.dirs&&(ne=fA(ne),ne.dirs=ne.dirs?ne.dirs.concat(y.dirs):y.dirs),y.transition&&(ne.transition=y.transition),$e=ne,w8(Be),$e}const ree=f=>{let m;for(const y in f)(y==="class"||y==="style"||M8(y))&&((m||(m={}))[y]=f[y]);return m},aee=(f,m)=>{const y={};for(const b in f)(!RH(b)||!(b.slice(9)in m))&&(y[b]=f[b]);return y};function oee(f,m,y){const{props:b,children:_,component:x}=f,{props:T,children:O,patchFlag:L}=m,W=x.emitsOptions;if(m.dirs||m.transition)return!0;if(y&&L>=0){if(L&1024)return!0;if(L&16)return b?DU(b,T,W):!!T;if(L&8){const I=m.dynamicProps;for(let H=0;H<I.length;H++){const P=I[H];if(T[P]!==b[P]&&!U8(W,P))return!0}}}else return(_||O)&&(!O||!O.$stable)?!0:b===T?!1:b?T?DU(b,T,W):!0:!!T;return!1}function DU(f,m,y){const b=Object.keys(m);if(b.length!==Object.keys(f).length)return!0;for(let _=0;_<b.length;_++){const x=b[_];if(m[x]!==f[x]&&!U8(y,x))return!0}return!1}function iee({vnode:f,parent:m},y){for(;m&&m.subTree===f;)(f=m.vnode).el=y,m=m.parent}const uee=f=>f.__isSuspense;function see(f,m){m&&m.pendingBranch?Lr(f)?m.effects.push(...f):m.effects.push(f):eee(f)}const u8={};function Km(f,m,y){return rj(f,m,y)}function rj(f,m,{immediate:y,deep:b,flush:_,onTrack:x,onTrigger:T}=bi){var O;const L=yQ()===((O=gl)==null?void 0:O.scope)?gl:null;let W,I=!1,H=!1;if(Gl(f)?(W=()=>f.value,I=y8(f)):sA(f)?(W=()=>f,b=!0):Lr(f)?(H=!0,I=f.some(ge=>sA(ge)||y8(ge)),W=()=>f.map(ge=>{if(Gl(ge))return ge.value;if(sA(ge))return N_(ge);if(ba(ge))return e2(ge,L,2)})):ba(f)?m?W=()=>e2(f,L,2):W=()=>{if(!(L&&L.isUnmounted))return P&&P(),qm(f,L,3,[V])}:W=Gm,m&&b){const ge=W;W=()=>N_(ge())}let P,V=ge=>{P=Be.onStop=()=>{e2(ge,L,4)}},Z;if($5)if(V=Gm,m?y&&qm(m,L,3,[W(),H?[]:void 0,V]):W(),_==="sync"){const ge=Zee();Z=ge.__watcherHandles||(ge.__watcherHandles=[])}else return Gm;let q=H?new Array(f.length).fill(u8):u8;const $e=()=>{if(Be.active)if(m){const ge=Be.run();(b||I||(H?ge.some((De,Se)=>E5(De,q[Se])):E5(ge,q)))&&(P&&P(),qm(m,L,3,[ge,q===u8?void 0:H&&q[0]===u8?[]:q,V]),q=ge)}else Be.run()};$e.allowRecurse=!!m;let me;_==="sync"?me=$e:_==="post"?me=()=>Af($e,L&&L.suspense):($e.pre=!0,L&&($e.id=L.uid),me=()=>UH($e));const Be=new PH(W,me);m?y?$e():q=Be.run():_==="post"?Af(Be.run.bind(Be),L&&L.suspense):Be.run();const ne=()=>{Be.stop(),L&&L.scope&&$H(L.scope.effects,Be)};return Z&&Z.push(ne),ne}function lee(f,m,y){const b=this.proxy,_=Cs(f)?f.includes(".")?aj(b,f):()=>b[f]:f.bind(b,b);let x;ba(m)?x=m:(x=m.handler,y=m);const T=gl;vA(this);const O=rj(_,x.bind(b),y);return T?vA(T):L_(),O}function aj(f,m){const y=m.split(".");return()=>{let b=f;for(let _=0;_<y.length&&b;_++)b=b[y[_]];return b}}function N_(f,m){if(!ri(f)||f.__v_skip||(m=m||new Set,m.has(f)))return f;if(m.add(f),Gl(f))N_(f.value,m);else if(Lr(f))for(let y=0;y<f.length;y++)N_(f[y],m);else if(P8(f)||uA(f))f.forEach(y=>{N_(y,m)});else if(DW(f))for(const y in f)N_(f[y],m);return f}function Nn(f,m){const y=ql;if(y===null)return f;const b=K8(y)||y.proxy,_=f.dirs||(f.dirs=[]);for(let x=0;x<m.length;x++){let[T,O,L,W=bi]=m[x];T&&(ba(T)&&(T={mounted:T,updated:T}),T.deep&&N_(O),_.push({dir:T,instance:b,value:O,oldValue:void 0,arg:L,modifiers:W}))}return f}function $_(f,m,y,b){const _=f.dirs,x=m&&m.dirs;for(let T=0;T<_.length;T++){const O=_[T];x&&(O.oldValue=x[T].value);let L=O.dir[b];L&&(gA(),qm(L,y,8,[f.el,O,f,m]),pA())}}function oj(f,m){return ba(f)?(()=>js({name:f.name},m,{setup:f}))():f}const C5=f=>!!f.type.__asyncLoader,ij=f=>f.type.__isKeepAlive;function cee(f,m){uj(f,"a",m)}function fee(f,m){uj(f,"da",m)}function uj(f,m,y=gl){const b=f.__wdc||(f.__wdc=()=>{let _=y;for(;_;){if(_.isDeactivated)return;_=_.parent}return f()});if(j8(m,b,y),y){let _=y.parent;for(;_&&_.parent;)ij(_.parent.vnode)&&vee(b,m,y,_),_=_.parent}}function vee(f,m,y,b){const _=j8(m,f,b,!0);sj(()=>{$H(b[m],_)},y)}function j8(f,m,y=gl,b=!1){if(y){const _=y[f]||(y[f]=[]),x=m.__weh||(m.__weh=(...T)=>{if(y.isUnmounted)return;gA(),vA(y);const O=qm(m,y,f,T);return L_(),pA(),O});return b?_.unshift(x):_.push(x),x}}const sb=f=>(m,y=gl)=>(!$5||f==="sp")&&j8(f,(...b)=>m(...b),y),Zm=sb("bm"),za=sb("m"),dee=sb("bu"),mee=sb("u"),W_=sb("bum"),sj=sb("um"),hee=sb("sp"),gee=sb("rtg"),pee=sb("rtc");function bee(f,m=gl){j8("ec",f,m)}const lj="components";function Na(f,m){return wee(lj,f,!0,m)||f}const yee=Symbol.for("v-ndc");function wee(f,m,y=!0,b=!1){const _=ql||gl;if(_){const x=_.type;if(f===lj){const O=Xee(x,!1);if(O&&(O===m||O===lp(m)||O===N8(lp(m))))return x}const T=RU(_[f]||x[f],m)||RU(_.appContext[f],m);return!T&&b?x:T}}function RU(f,m){return f&&(f[m]||f[lp(m)]||f[N8(lp(m))])}function Ia(f,m,y,b){let _;const x=y&&y[b];if(Lr(f)||Cs(f)){_=new Array(f.length);for(let T=0,O=f.length;T<O;T++)_[T]=m(f[T],T,void 0,x&&x[T])}else if(typeof f=="number"){_=new Array(f);for(let T=0;T<f;T++)_[T]=m(T+1,T,void 0,x&&x[T])}else if(ri(f))if(f[Symbol.iterator])_=Array.from(f,(T,O)=>m(T,O,void 0,x&&x[O]));else{const T=Object.keys(f);_=new Array(T.length);for(let O=0,L=T.length;O<L;O++){const W=T[O];_[O]=m(f[W],W,O,x&&x[O])}}else _=[];return y&&(y[b]=_),_}function gH(f,m,y={},b,_){if(ql.isCE||ql.parent&&C5(ql.parent)&&ql.parent.isCE)return m!=="default"&&(y.name=m),it("slot",y,b&&b());let x=f[m];x&&x._c&&(x._d=!1),Ke();const T=x&&cj(x(y)),O=Ym(Er,{key:y.key||T&&T.key||`_${m}`},T||(b?b():[]),T&&f._===1?64:-2);return!_&&O.scopeId&&(O.slotScopeIds=[O.scopeId+"-s"]),x&&x._c&&(x._d=!0),O}function cj(f){return f.some(m=>S8(m)?!(m.type===n2||m.type===Er&&!cj(m.children)):!0)?f:null}const pH=f=>f?Cj(f)?K8(f)||f.proxy:pH(f.parent):null,_5=js(Object.create(null),{$:f=>f,$el:f=>f.vnode.el,$data:f=>f.data,$props:f=>f.props,$attrs:f=>f.attrs,$slots:f=>f.slots,$refs:f=>f.refs,$parent:f=>pH(f.parent),$root:f=>pH(f.root),$emit:f=>f.emit,$options:f=>WH(f),$forceUpdate:f=>f.f||(f.f=()=>UH(f.update)),$nextTick:f=>f.n||(f.n=ZW.bind(f.proxy)),$watch:f=>lee.bind(f)}),Z7=(f,m)=>f!==bi&&!f.__isScriptSetup&&eo(f,m),Cee={get({_:f},m){const{ctx:y,setupState:b,data:_,props:x,accessCache:T,type:O,appContext:L}=f;let W;if(m[0]!=="$"){const V=T[m];if(V!==void 0)switch(V){case 1:return b[m];case 2:return _[m];case 4:return y[m];case 3:return x[m]}else{if(Z7(b,m))return T[m]=1,b[m];if(_!==bi&&eo(_,m))return T[m]=2,_[m];if((W=f.propsOptions[0])&&eo(W,m))return T[m]=3,x[m];if(y!==bi&&eo(y,m))return T[m]=4,y[m];bH&&(T[m]=0)}}const I=_5[m];let H,P;if(I)return m==="$attrs"&&Tf(f,"get",m),I(f);if((H=O.__cssModules)&&(H=H[m]))return H;if(y!==bi&&eo(y,m))return T[m]=4,y[m];if(P=L.config.globalProperties,eo(P,m))return P[m]},set({_:f},m,y){const{data:b,setupState:_,ctx:x}=f;return Z7(_,m)?(_[m]=y,!0):b!==bi&&eo(b,m)?(b[m]=y,!0):eo(f.props,m)||m[0]==="$"&&m.slice(1)in f?!1:(x[m]=y,!0)},has({_:{data:f,setupState:m,accessCache:y,ctx:b,appContext:_,propsOptions:x}},T){let O;return!!y[T]||f!==bi&&eo(f,T)||Z7(m,T)||(O=x[0])&&eo(O,T)||eo(b,T)||eo(_5,T)||eo(_.config.globalProperties,T)},defineProperty(f,m,y){return y.get!=null?f._.accessCache[m]=0:eo(y,"value")&&this.set(f,m,y.value,null),Reflect.defineProperty(f,m,y)}};function $U(f){return Lr(f)?f.reduce((m,y)=>(m[y]=null,m),{}):f}let bH=!0;function _ee(f){const m=WH(f),y=f.proxy,b=f.ctx;bH=!1,m.beforeCreate&&BU(m.beforeCreate,f,"bc");const{data:_,computed:x,methods:T,watch:O,provide:L,inject:W,created:I,beforeMount:H,mounted:P,beforeUpdate:V,updated:Z,activated:q,deactivated:$e,beforeDestroy:me,beforeUnmount:Be,destroyed:ne,unmounted:ge,render:De,renderTracked:Se,renderTriggered:We,errorCaptured:se,serverPrefetch:ce,expose:Ee,inheritAttrs:Ue,components:re,directives:j,filters:ke}=m;if(W&&See(W,b,null),T)for(const be in T){const st=T[be];ba(st)&&(b[be]=st.bind(y))}if(_){const be=_.call(y,y);ri(be)&&(f.data=H8(be))}if(bH=!0,x)for(const be in x){const st=x[be],B=ba(st)?st.bind(y,y):ba(st.get)?st.get.bind(y,y):Gm,kt=!ba(st)&&ba(st.set)?st.set.bind(y):Gm,at=Yi({get:B,set:kt});Object.defineProperty(b,be,{enumerable:!0,configurable:!0,get:()=>at.value,set:ot=>at.value=ot})}if(O)for(const be in O)fj(O[be],b,y,be);if(L){const be=ba(L)?L.call(y):L;Reflect.ownKeys(be).forEach(st=>{c8(st,be[st])})}I&&BU(I,f,"c");function le(be,st){Lr(st)?st.forEach(B=>be(B.bind(y))):st&&be(st.bind(y))}if(le(Zm,H),le(za,P),le(dee,V),le(mee,Z),le(cee,q),le(fee,$e),le(bee,se),le(pee,Se),le(gee,We),le(W_,Be),le(sj,ge),le(hee,ce),Lr(Ee))if(Ee.length){const be=f.exposed||(f.exposed={});Ee.forEach(st=>{Object.defineProperty(be,st,{get:()=>y[st],set:B=>y[st]=B})})}else f.exposed||(f.exposed={});De&&f.render===Gm&&(f.render=De),Ue!=null&&(f.inheritAttrs=Ue),re&&(f.components=re),j&&(f.directives=j)}function See(f,m,y=Gm){Lr(f)&&(f=yH(f));for(const b in f){const _=f[b];let x;ri(_)?"default"in _?x=Xm(_.from||b,_.default,!0):x=Xm(_.from||b):x=Xm(_),Gl(x)?Object.defineProperty(m,b,{enumerable:!0,configurable:!0,get:()=>x.value,set:T=>x.value=T}):m[b]=x}}function BU(f,m,y){qm(Lr(f)?f.map(b=>b.bind(m.proxy)):f.bind(m.proxy),m,y)}function fj(f,m,y,b){const _=b.includes(".")?aj(y,b):()=>y[b];if(Cs(f)){const x=m[f];ba(x)&&Km(_,x)}else if(ba(f))Km(_,f.bind(y));else if(ri(f))if(Lr(f))f.forEach(x=>fj(x,m,y,b));else{const x=ba(f.handler)?f.handler.bind(y):m[f.handler];ba(x)&&Km(_,x,f)}}function WH(f){const m=f.type,{mixins:y,extends:b}=m,{mixins:_,optionsCache:x,config:{optionMergeStrategies:T}}=f.appContext,O=x.get(m);let L;return O?L=O:!_.length&&!y&&!b?L=m:(L={},_.length&&_.forEach(W=>C8(L,W,T,!0)),C8(L,m,T)),ri(m)&&x.set(m,L),L}function C8(f,m,y,b=!1){const{mixins:_,extends:x}=m;x&&C8(f,x,y,!0),_&&_.forEach(T=>C8(f,T,y,!0));for(const T in m)if(!(b&&T==="expose")){const O=xee[T]||y&&y[T];f[T]=O?O(f[T],m[T]):m[T]}return f}const xee={data:MU,props:PU,emits:PU,methods:w5,computed:w5,beforeCreate:Rc,created:Rc,beforeMount:Rc,mounted:Rc,beforeUpdate:Rc,updated:Rc,beforeDestroy:Rc,beforeUnmount:Rc,destroyed:Rc,unmounted:Rc,activated:Rc,deactivated:Rc,errorCaptured:Rc,serverPrefetch:Rc,components:w5,directives:w5,watch:Aee,provide:MU,inject:kee};function MU(f,m){return m?f?function(){return js(ba(f)?f.call(this,this):f,ba(m)?m.call(this,this):m)}:m:f}function kee(f,m){return w5(yH(f),yH(m))}function yH(f){if(Lr(f)){const m={};for(let y=0;y<f.length;y++)m[f[y]]=f[y];return m}return f}function Rc(f,m){return f?[...new Set([].concat(f,m))]:m}function w5(f,m){return f?js(Object.create(null),f,m):m}function PU(f,m){return f?Lr(f)&&Lr(m)?[...new Set([...f,...m])]:js(Object.create(null),$U(f),$U(m??{})):m}function Aee(f,m){if(!f)return m;if(!m)return f;const y=js(Object.create(null),f);for(const b in m)y[b]=Rc(f[b],m[b]);return y}function vj(){return{app:null,config:{isNativeTag:rQ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Eee=0;function Tee(f,m){return function(b,_=null){ba(b)||(b=js({},b)),_!=null&&!ri(_)&&(_=null);const x=vj(),T=new Set;let O=!1;const L=x.app={_uid:Eee++,_component:b,_props:_,_container:null,_context:x,_instance:null,version:Qee,get config(){return x.config},set config(W){},use(W,...I){return T.has(W)||(W&&ba(W.install)?(T.add(W),W.install(L,...I)):ba(W)&&(T.add(W),W(L,...I))),L},mixin(W){return x.mixins.includes(W)||x.mixins.push(W),L},component(W,I){return I?(x.components[W]=I,L):x.components[W]},directive(W,I){return I?(x.directives[W]=I,L):x.directives[W]},mount(W,I,H){if(!O){const P=it(b,_);return P.appContext=x,I&&m?m(P,W):f(P,W,H),O=!0,L._container=W,W.__vue_app__=L,K8(P.component)||P.component.proxy}},unmount(){O&&(f(null,L._container),delete L._container.__vue_app__)},provide(W,I){return x.provides[W]=I,L},runWithContext(W){_8=L;try{return W()}finally{_8=null}}};return L}}let _8=null;function c8(f,m){if(gl){let y=gl.provides;const b=gl.parent&&gl.parent.provides;b===y&&(y=gl.provides=Object.create(b)),y[f]=m}}function Xm(f,m,y=!1){const b=gl||ql;if(b||_8){const _=b?b.parent==null?b.vnode.appContext&&b.vnode.appContext.provides:b.parent.provides:_8._context.provides;if(_&&f in _)return _[f];if(arguments.length>1)return y&&ba(m)?m.call(b&&b.proxy):m}}function Oee(f,m,y,b=!1){const _={},x={};p8(x,q8,1),f.propsDefaults=Object.create(null),dj(f,m,_,x);for(const T in f.propsOptions[0])T in _||(_[T]=void 0);y?f.props=b?_:WW(_):f.type.props?f.props=_:f.props=x,f.attrs=x}function Dee(f,m,y,b){const{props:_,attrs:x,vnode:{patchFlag:T}}=f,O=go(_),[L]=f.propsOptions;let W=!1;if((b||T>0)&&!(T&16)){if(T&8){const I=f.vnode.dynamicProps;for(let H=0;H<I.length;H++){let P=I[H];if(U8(f.emitsOptions,P))continue;const V=m[P];if(L)if(eo(x,P))V!==x[P]&&(x[P]=V,W=!0);else{const Z=lp(P);_[Z]=wH(L,O,Z,V,f,!1)}else V!==x[P]&&(x[P]=V,W=!0)}}}else{dj(f,m,_,x)&&(W=!0);let I;for(const H in O)(!m||!eo(m,H)&&((I=H_(H))===H||!eo(m,I)))&&(L?y&&(y[H]!==void 0||y[I]!==void 0)&&(_[H]=wH(L,O,H,void 0,f,!0)):delete _[H]);if(x!==O)for(const H in x)(!m||!eo(m,H))&&(delete x[H],W=!0)}W&&ub(f,"set","$attrs")}function dj(f,m,y,b){const[_,x]=f.propsOptions;let T=!1,O;if(m)for(let L in m){if(s8(L))continue;const W=m[L];let I;_&&eo(_,I=lp(L))?!x||!x.includes(I)?y[I]=W:(O||(O={}))[I]=W:U8(f.emitsOptions,L)||(!(L in b)||W!==b[L])&&(b[L]=W,T=!0)}if(x){const L=go(y),W=O||bi;for(let I=0;I<x.length;I++){const H=x[I];y[H]=wH(_,L,H,W[H],f,!eo(W,H))}}return T}function wH(f,m,y,b,_,x){const T=f[y];if(T!=null){const O=eo(T,"default");if(O&&b===void 0){const L=T.default;if(T.type!==Function&&!T.skipFactory&&ba(L)){const{propsDefaults:W}=_;y in W?b=W[y]:(vA(_),b=W[y]=L.call(null,m),L_())}else b=L}T[0]&&(x&&!O?b=!1:T[1]&&(b===""||b===H_(y))&&(b=!0))}return b}function mj(f,m,y=!1){const b=m.propsCache,_=b.get(f);if(_)return _;const x=f.props,T={},O=[];let L=!1;if(!ba(f)){const I=H=>{L=!0;const[P,V]=mj(H,m,!0);js(T,P),V&&O.push(...V)};!y&&m.mixins.length&&m.mixins.forEach(I),f.extends&&I(f.extends),f.mixins&&f.mixins.forEach(I)}if(!x&&!L)return ri(f)&&b.set(f,iA),iA;if(Lr(x))for(let I=0;I<x.length;I++){const H=lp(x[I]);IU(H)&&(T[H]=bi)}else if(x)for(const I in x){const H=lp(I);if(IU(H)){const P=x[I],V=T[H]=Lr(P)||ba(P)?{type:P}:js({},P);if(V){const Z=FU(Boolean,V.type),q=FU(String,V.type);V[0]=Z>-1,V[1]=q<0||Z<q,(Z>-1||eo(V,"default"))&&O.push(H)}}}const W=[T,O];return ri(f)&&b.set(f,W),W}function IU(f){return f[0]!=="$"}function NU(f){const m=f&&f.toString().match(/^\s*(function|class) (\w+)/);return m?m[2]:f===null?"null":""}function zU(f,m){return NU(f)===NU(m)}function FU(f,m){return Lr(m)?m.findIndex(y=>zU(y,f)):ba(m)&&zU(m,f)?0:-1}const hj=f=>f[0]==="_"||f==="$stable",jH=f=>Lr(f)?f.map(ip):[ip(f)],Ree=(f,m,y)=>{if(m._n)return m;const b=It((..._)=>jH(m(..._)),y);return b._c=!1,b},gj=(f,m,y)=>{const b=f._ctx;for(const _ in f){if(hj(_))continue;const x=f[_];if(ba(x))m[_]=Ree(_,x,b);else if(x!=null){const T=jH(x);m[_]=()=>T}}},pj=(f,m)=>{const y=jH(m);f.slots.default=()=>y},$ee=(f,m)=>{if(f.vnode.shapeFlag&32){const y=m._;y?(f.slots=go(m),p8(m,"_",y)):gj(m,f.slots={})}else f.slots={},m&&pj(f,m);p8(f.slots,q8,1)},Bee=(f,m,y)=>{const{vnode:b,slots:_}=f;let x=!0,T=bi;if(b.shapeFlag&32){const O=m._;O?y&&O===1?x=!1:(js(_,m),!y&&O===1&&delete _._):(x=!m.$stable,gj(m,_)),T=m}else m&&(pj(f,m),T={default:1});if(x)for(const O in _)!hj(O)&&!(O in T)&&delete _[O]};function CH(f,m,y,b,_=!1){if(Lr(f)){f.forEach((P,V)=>CH(P,m&&(Lr(m)?m[V]:m),y,b,_));return}if(C5(b)&&!_)return;const x=b.shapeFlag&4?K8(b.component)||b.component.proxy:b.el,T=_?null:x,{i:O,r:L}=f,W=m&&m.r,I=O.refs===bi?O.refs={}:O.refs,H=O.setupState;if(W!=null&&W!==L&&(Cs(W)?(I[W]=null,eo(H,W)&&(H[W]=null)):Gl(W)&&(W.value=null)),ba(L))e2(L,O,12,[T,I]);else{const P=Cs(L),V=Gl(L);if(P||V){const Z=()=>{if(f.f){const q=P?eo(H,L)?H[L]:I[L]:L.value;_?Lr(q)&&$H(q,x):Lr(q)?q.includes(x)||q.push(x):P?(I[L]=[x],eo(H,L)&&(H[L]=I[L])):(L.value=[x],f.k&&(I[f.k]=L.value))}else P?(I[L]=T,eo(H,L)&&(H[L]=T)):V&&(L.value=T,f.k&&(I[f.k]=T))};T?(Z.id=-1,Af(Z,y)):Z()}}}const Af=see;function Mee(f){return Pee(f)}function Pee(f,m){const y=cH();y.__VUE__=!0;const{insert:b,remove:_,patchProp:x,createElement:T,createText:O,createComment:L,setText:W,setElementText:I,parentNode:H,nextSibling:P,setScopeId:V=Gm,insertStaticContent:Z}=f,q=(Te,Ae,Ze,et=null,Le=null,bt=null,Jt=!1,ut=null,jt=!!Ae.dynamicChildren)=>{if(Te===Ae)return;Te&&!g5(Te,Ae)&&(et=te(Te),ot(Te,Le,bt,!0),Te=null),Ae.patchFlag===-2&&(jt=!1,Ae.dynamicChildren=null);const{type:Rt,ref:Ft,shapeFlag:rn}=Ae;switch(Rt){case G8:$e(Te,Ae,Ze,et);break;case n2:me(Te,Ae,Ze,et);break;case Q7:Te==null&&Be(Ae,Ze,et,Jt);break;case Er:re(Te,Ae,Ze,et,Le,bt,Jt,ut,jt);break;default:rn&1?De(Te,Ae,Ze,et,Le,bt,Jt,ut,jt):rn&6?j(Te,Ae,Ze,et,Le,bt,Jt,ut,jt):(rn&64||rn&128)&&Rt.process(Te,Ae,Ze,et,Le,bt,Jt,ut,jt,Ve)}Ft!=null&&Le&&CH(Ft,Te&&Te.ref,bt,Ae||Te,!Ae)},$e=(Te,Ae,Ze,et)=>{if(Te==null)b(Ae.el=O(Ae.children),Ze,et);else{const Le=Ae.el=Te.el;Ae.children!==Te.children&&W(Le,Ae.children)}},me=(Te,Ae,Ze,et)=>{Te==null?b(Ae.el=L(Ae.children||""),Ze,et):Ae.el=Te.el},Be=(Te,Ae,Ze,et)=>{[Te.el,Te.anchor]=Z(Te.children,Ae,Ze,et,Te.el,Te.anchor)},ne=({el:Te,anchor:Ae},Ze,et)=>{let Le;for(;Te&&Te!==Ae;)Le=P(Te),b(Te,Ze,et),Te=Le;b(Ae,Ze,et)},ge=({el:Te,anchor:Ae})=>{let Ze;for(;Te&&Te!==Ae;)Ze=P(Te),_(Te),Te=Ze;_(Ae)},De=(Te,Ae,Ze,et,Le,bt,Jt,ut,jt)=>{Jt=Jt||Ae.type==="svg",Te==null?Se(Ae,Ze,et,Le,bt,Jt,ut,jt):ce(Te,Ae,Le,bt,Jt,ut,jt)},Se=(Te,Ae,Ze,et,Le,bt,Jt,ut)=>{let jt,Rt;const{type:Ft,props:rn,shapeFlag:pn,transition:Yn,dirs:fr}=Te;if(jt=Te.el=T(Te.type,bt,rn&&rn.is,rn),pn&8?I(jt,Te.children):pn&16&&se(Te.children,jt,null,et,Le,bt&&Ft!=="foreignObject",Jt,ut),fr&&$_(Te,null,et,"created"),We(jt,Te,Te.scopeId,Jt,et),rn){for(const ir in rn)ir!=="value"&&!s8(ir)&&x(jt,ir,null,rn[ir],bt,Te.children,et,Le,_n);"value"in rn&&x(jt,"value",null,rn.value),(Rt=rn.onVnodeBeforeMount)&&op(Rt,et,Te)}fr&&$_(Te,null,et,"beforeMount");const qr=(!Le||Le&&!Le.pendingBranch)&&Yn&&!Yn.persisted;qr&&Yn.beforeEnter(jt),b(jt,Ae,Ze),((Rt=rn&&rn.onVnodeMounted)||qr||fr)&&Af(()=>{Rt&&op(Rt,et,Te),qr&&Yn.enter(jt),fr&&$_(Te,null,et,"mounted")},Le)},We=(Te,Ae,Ze,et,Le)=>{if(Ze&&V(Te,Ze),et)for(let bt=0;bt<et.length;bt++)V(Te,et[bt]);if(Le){let bt=Le.subTree;if(Ae===bt){const Jt=Le.vnode;We(Te,Jt,Jt.scopeId,Jt.slotScopeIds,Le.parent)}}},se=(Te,Ae,Ze,et,Le,bt,Jt,ut,jt=0)=>{for(let Rt=jt;Rt<Te.length;Rt++){const Ft=Te[Rt]=ut?Jy(Te[Rt]):ip(Te[Rt]);q(null,Ft,Ae,Ze,et,Le,bt,Jt,ut)}},ce=(Te,Ae,Ze,et,Le,bt,Jt)=>{const ut=Ae.el=Te.el;let{patchFlag:jt,dynamicChildren:Rt,dirs:Ft}=Ae;jt|=Te.patchFlag&16;const rn=Te.props||bi,pn=Ae.props||bi;let Yn;Ze&&B_(Ze,!1),(Yn=pn.onVnodeBeforeUpdate)&&op(Yn,Ze,Ae,Te),Ft&&$_(Ae,Te,Ze,"beforeUpdate"),Ze&&B_(Ze,!0);const fr=Le&&Ae.type!=="foreignObject";if(Rt?Ee(Te.dynamicChildren,Rt,ut,Ze,et,fr,bt):Jt||st(Te,Ae,ut,null,Ze,et,fr,bt,!1),jt>0){if(jt&16)Ue(ut,Ae,rn,pn,Ze,et,Le);else if(jt&2&&rn.class!==pn.class&&x(ut,"class",null,pn.class,Le),jt&4&&x(ut,"style",rn.style,pn.style,Le),jt&8){const qr=Ae.dynamicProps;for(let ir=0;ir<qr.length;ir++){const ua=qr[ir],va=rn[ua],Qr=pn[ua];(Qr!==va||ua==="value")&&x(ut,ua,va,Qr,Le,Te.children,Ze,et,_n)}}jt&1&&Te.children!==Ae.children&&I(ut,Ae.children)}else!Jt&&Rt==null&&Ue(ut,Ae,rn,pn,Ze,et,Le);((Yn=pn.onVnodeUpdated)||Ft)&&Af(()=>{Yn&&op(Yn,Ze,Ae,Te),Ft&&$_(Ae,Te,Ze,"updated")},et)},Ee=(Te,Ae,Ze,et,Le,bt,Jt)=>{for(let ut=0;ut<Ae.length;ut++){const jt=Te[ut],Rt=Ae[ut],Ft=jt.el&&(jt.type===Er||!g5(jt,Rt)||jt.shapeFlag&70)?H(jt.el):Ze;q(jt,Rt,Ft,null,et,Le,bt,Jt,!0)}},Ue=(Te,Ae,Ze,et,Le,bt,Jt)=>{if(Ze!==et){if(Ze!==bi)for(const ut in Ze)!s8(ut)&&!(ut in et)&&x(Te,ut,Ze[ut],null,Jt,Ae.children,Le,bt,_n);for(const ut in et){if(s8(ut))continue;const jt=et[ut],Rt=Ze[ut];jt!==Rt&&ut!=="value"&&x(Te,ut,Rt,jt,Jt,Ae.children,Le,bt,_n)}"value"in et&&x(Te,"value",Ze.value,et.value)}},re=(Te,Ae,Ze,et,Le,bt,Jt,ut,jt)=>{const Rt=Ae.el=Te?Te.el:O(""),Ft=Ae.anchor=Te?Te.anchor:O("");let{patchFlag:rn,dynamicChildren:pn,slotScopeIds:Yn}=Ae;Yn&&(ut=ut?ut.concat(Yn):Yn),Te==null?(b(Rt,Ze,et),b(Ft,Ze,et),se(Ae.children,Ze,Ft,Le,bt,Jt,ut,jt)):rn>0&&rn&64&&pn&&Te.dynamicChildren?(Ee(Te.dynamicChildren,pn,Ze,Le,bt,Jt,ut),(Ae.key!=null||Le&&Ae===Le.subTree)&&bj(Te,Ae,!0)):st(Te,Ae,Ze,Ft,Le,bt,Jt,ut,jt)},j=(Te,Ae,Ze,et,Le,bt,Jt,ut,jt)=>{Ae.slotScopeIds=ut,Te==null?Ae.shapeFlag&512?Le.ctx.activate(Ae,Ze,et,Jt,jt):ke(Ae,Ze,et,Le,bt,Jt,jt):rt(Te,Ae,jt)},ke=(Te,Ae,Ze,et,Le,bt,Jt)=>{const ut=Te.component=Wee(Te,et,Le);if(ij(Te)&&(ut.ctx.renderer=Ve),jee(ut),ut.asyncDep){if(Le&&Le.registerDep(ut,le),!Te.el){const jt=ut.subTree=it(n2);me(null,jt,Ae,Ze)}return}le(ut,Te,Ae,Ze,Le,bt,Jt)},rt=(Te,Ae,Ze)=>{const et=Ae.component=Te.component;if(oee(Te,Ae,Ze))if(et.asyncDep&&!et.asyncResolved){be(et,Ae,Ze);return}else et.next=Ae,QQ(et.update),et.update();else Ae.el=Te.el,et.vnode=Ae},le=(Te,Ae,Ze,et,Le,bt,Jt)=>{const ut=()=>{if(Te.isMounted){let{next:Ft,bu:rn,u:pn,parent:Yn,vnode:fr}=Te,qr=Ft,ir;B_(Te,!1),Ft?(Ft.el=fr.el,be(Te,Ft,Jt)):Ft=fr,rn&&l8(rn),(ir=Ft.props&&Ft.props.onVnodeBeforeUpdate)&&op(ir,Yn,Ft,fr),B_(Te,!0);const ua=J7(Te),va=Te.subTree;Te.subTree=ua,q(va,ua,H(va.el),te(va),Te,Le,bt),Ft.el=ua.el,qr===null&&iee(Te,ua.el),pn&&Af(pn,Le),(ir=Ft.props&&Ft.props.onVnodeUpdated)&&Af(()=>op(ir,Yn,Ft,fr),Le)}else{let Ft;const{el:rn,props:pn}=Ae,{bm:Yn,m:fr,parent:qr}=Te,ir=C5(Ae);if(B_(Te,!1),Yn&&l8(Yn),!ir&&(Ft=pn&&pn.onVnodeBeforeMount)&&op(Ft,qr,Ae),B_(Te,!0),rn&&Jn){const ua=()=>{Te.subTree=J7(Te),Jn(rn,Te.subTree,Te,Le,null)};ir?Ae.type.__asyncLoader().then(()=>!Te.isUnmounted&&ua()):ua()}else{const ua=Te.subTree=J7(Te);q(null,ua,Ze,et,Te,Le,bt),Ae.el=ua.el}if(fr&&Af(fr,Le),!ir&&(Ft=pn&&pn.onVnodeMounted)){const ua=Ae;Af(()=>op(Ft,qr,ua),Le)}(Ae.shapeFlag&256||qr&&C5(qr.vnode)&&qr.vnode.shapeFlag&256)&&Te.a&&Af(Te.a,Le),Te.isMounted=!0,Ae=Ze=et=null}},jt=Te.effect=new PH(ut,()=>UH(Rt),Te.scope),Rt=Te.update=()=>jt.run();Rt.id=Te.uid,B_(Te,!0),Rt()},be=(Te,Ae,Ze)=>{Ae.component=Te;const et=Te.vnode.props;Te.vnode=Ae,Te.next=null,Dee(Te,Ae.props,et,Ze),Bee(Te,Ae.children,Ze),gA(),OU(),pA()},st=(Te,Ae,Ze,et,Le,bt,Jt,ut,jt=!1)=>{const Rt=Te&&Te.children,Ft=Te?Te.shapeFlag:0,rn=Ae.children,{patchFlag:pn,shapeFlag:Yn}=Ae;if(pn>0){if(pn&128){kt(Rt,rn,Ze,et,Le,bt,Jt,ut,jt);return}else if(pn&256){B(Rt,rn,Ze,et,Le,bt,Jt,ut,jt);return}}Yn&8?(Ft&16&&_n(Rt,Le,bt),rn!==Rt&&I(Ze,rn)):Ft&16?Yn&16?kt(Rt,rn,Ze,et,Le,bt,Jt,ut,jt):_n(Rt,Le,bt,!0):(Ft&8&&I(Ze,""),Yn&16&&se(rn,Ze,et,Le,bt,Jt,ut,jt))},B=(Te,Ae,Ze,et,Le,bt,Jt,ut,jt)=>{Te=Te||iA,Ae=Ae||iA;const Rt=Te.length,Ft=Ae.length,rn=Math.min(Rt,Ft);let pn;for(pn=0;pn<rn;pn++){const Yn=Ae[pn]=jt?Jy(Ae[pn]):ip(Ae[pn]);q(Te[pn],Yn,Ze,null,Le,bt,Jt,ut,jt)}Rt>Ft?_n(Te,Le,bt,!0,!1,rn):se(Ae,Ze,et,Le,bt,Jt,ut,jt,rn)},kt=(Te,Ae,Ze,et,Le,bt,Jt,ut,jt)=>{let Rt=0;const Ft=Ae.length;let rn=Te.length-1,pn=Ft-1;for(;Rt<=rn&&Rt<=pn;){const Yn=Te[Rt],fr=Ae[Rt]=jt?Jy(Ae[Rt]):ip(Ae[Rt]);if(g5(Yn,fr))q(Yn,fr,Ze,null,Le,bt,Jt,ut,jt);else break;Rt++}for(;Rt<=rn&&Rt<=pn;){const Yn=Te[rn],fr=Ae[pn]=jt?Jy(Ae[pn]):ip(Ae[pn]);if(g5(Yn,fr))q(Yn,fr,Ze,null,Le,bt,Jt,ut,jt);else break;rn--,pn--}if(Rt>rn){if(Rt<=pn){const Yn=pn+1,fr=Yn<Ft?Ae[Yn].el:et;for(;Rt<=pn;)q(null,Ae[Rt]=jt?Jy(Ae[Rt]):ip(Ae[Rt]),Ze,fr,Le,bt,Jt,ut,jt),Rt++}}else if(Rt>pn)for(;Rt<=rn;)ot(Te[Rt],Le,bt,!0),Rt++;else{const Yn=Rt,fr=Rt,qr=new Map;for(Rt=fr;Rt<=pn;Rt++){const vr=Ae[Rt]=jt?Jy(Ae[Rt]):ip(Ae[Rt]);vr.key!=null&&qr.set(vr.key,Rt)}let ir,ua=0;const va=pn-fr+1;let Qr=!1,Hr=0;const da=new Array(va);for(Rt=0;Rt<va;Rt++)da[Rt]=0;for(Rt=Yn;Rt<=rn;Rt++){const vr=Te[Rt];if(ua>=va){ot(vr,Le,bt,!0);continue}let Fa;if(vr.key!=null)Fa=qr.get(vr.key);else for(ir=fr;ir<=pn;ir++)if(da[ir-fr]===0&&g5(vr,Ae[ir])){Fa=ir;break}Fa===void 0?ot(vr,Le,bt,!0):(da[Fa-fr]=Rt+1,Fa>=Hr?Hr=Fa:Qr=!0,q(vr,Ae[Fa],Ze,null,Le,bt,Jt,ut,jt),ua++)}const Ur=Qr?Iee(da):iA;for(ir=Ur.length-1,Rt=va-1;Rt>=0;Rt--){const vr=fr+Rt,Fa=Ae[vr],Zi=vr+1<Ft?Ae[vr+1].el:et;da[Rt]===0?q(null,Fa,Ze,Zi,Le,bt,Jt,ut,jt):Qr&&(ir<0||Rt!==Ur[ir]?at(Fa,Ze,Zi,2):ir--)}}},at=(Te,Ae,Ze,et,Le=null)=>{const{el:bt,type:Jt,transition:ut,children:jt,shapeFlag:Rt}=Te;if(Rt&6){at(Te.component.subTree,Ae,Ze,et);return}if(Rt&128){Te.suspense.move(Ae,Ze,et);return}if(Rt&64){Jt.move(Te,Ae,Ze,Ve);return}if(Jt===Er){b(bt,Ae,Ze);for(let rn=0;rn<jt.length;rn++)at(jt[rn],Ae,Ze,et);b(Te.anchor,Ae,Ze);return}if(Jt===Q7){ne(Te,Ae,Ze);return}if(et!==2&&Rt&1&&ut)if(et===0)ut.beforeEnter(bt),b(bt,Ae,Ze),Af(()=>ut.enter(bt),Le);else{const{leave:rn,delayLeave:pn,afterLeave:Yn}=ut,fr=()=>b(bt,Ae,Ze),qr=()=>{rn(bt,()=>{fr(),Yn&&Yn()})};pn?pn(bt,fr,qr):qr()}else b(bt,Ae,Ze)},ot=(Te,Ae,Ze,et=!1,Le=!1)=>{const{type:bt,props:Jt,ref:ut,children:jt,dynamicChildren:Rt,shapeFlag:Ft,patchFlag:rn,dirs:pn}=Te;if(ut!=null&&CH(ut,null,Ze,Te,!0),Ft&256){Ae.ctx.deactivate(Te);return}const Yn=Ft&1&&pn,fr=!C5(Te);let qr;if(fr&&(qr=Jt&&Jt.onVnodeBeforeUnmount)&&op(qr,Ae,Te),Ft&6)ct(Te.component,Ze,et);else{if(Ft&128){Te.suspense.unmount(Ze,et);return}Yn&&$_(Te,null,Ae,"beforeUnmount"),Ft&64?Te.type.remove(Te,Ae,Ze,Le,Ve,et):Rt&&(bt!==Er||rn>0&&rn&64)?_n(Rt,Ae,Ze,!1,!0):(bt===Er&&rn&384||!Le&&Ft&16)&&_n(jt,Ae,Ze),et&&An(Te)}(fr&&(qr=Jt&&Jt.onVnodeUnmounted)||Yn)&&Af(()=>{qr&&op(qr,Ae,Te),Yn&&$_(Te,null,Ae,"unmounted")},Ze)},An=Te=>{const{type:Ae,el:Ze,anchor:et,transition:Le}=Te;if(Ae===Er){cn(Ze,et);return}if(Ae===Q7){ge(Te);return}const bt=()=>{_(Ze),Le&&!Le.persisted&&Le.afterLeave&&Le.afterLeave()};if(Te.shapeFlag&1&&Le&&!Le.persisted){const{leave:Jt,delayLeave:ut}=Le,jt=()=>Jt(Ze,bt);ut?ut(Te.el,bt,jt):jt()}else bt()},cn=(Te,Ae)=>{let Ze;for(;Te!==Ae;)Ze=P(Te),_(Te),Te=Ze;_(Ae)},ct=(Te,Ae,Ze)=>{const{bum:et,scope:Le,update:bt,subTree:Jt,um:ut}=Te;et&&l8(et),Le.stop(),bt&&(bt.active=!1,ot(Jt,Te,Ae,Ze)),ut&&Af(ut,Ae),Af(()=>{Te.isUnmounted=!0},Ae),Ae&&Ae.pendingBranch&&!Ae.isUnmounted&&Te.asyncDep&&!Te.asyncResolved&&Te.suspenseId===Ae.pendingId&&(Ae.deps--,Ae.deps===0&&Ae.resolve())},_n=(Te,Ae,Ze,et=!1,Le=!1,bt=0)=>{for(let Jt=bt;Jt<Te.length;Jt++)ot(Te[Jt],Ae,Ze,et,Le)},te=Te=>Te.shapeFlag&6?te(Te.component.subTree):Te.shapeFlag&128?Te.suspense.next():P(Te.anchor||Te.el),fn=(Te,Ae,Ze)=>{Te==null?Ae._vnode&&ot(Ae._vnode,null,null,!0):q(Ae._vnode||null,Te,Ae,null,null,null,Ze),OU(),ej(),Ae._vnode=Te},Ve={p:q,um:ot,m:at,r:An,mt:ke,mc:se,pc:st,pbc:Ee,n:te,o:f};let pt,Jn;return m&&([pt,Jn]=m(Ve)),{render:fn,hydrate:pt,createApp:Tee(fn,pt)}}function B_({effect:f,update:m},y){f.allowRecurse=m.allowRecurse=y}function bj(f,m,y=!1){const b=f.children,_=m.children;if(Lr(b)&&Lr(_))for(let x=0;x<b.length;x++){const T=b[x];let O=_[x];O.shapeFlag&1&&!O.dynamicChildren&&((O.patchFlag<=0||O.patchFlag===32)&&(O=_[x]=Jy(_[x]),O.el=T.el),y||bj(T,O)),O.type===G8&&(O.el=T.el)}}function Iee(f){const m=f.slice(),y=[0];let b,_,x,T,O;const L=f.length;for(b=0;b<L;b++){const W=f[b];if(W!==0){if(_=y[y.length-1],f[_]<W){m[b]=_,y.push(b);continue}for(x=0,T=y.length-1;x<T;)O=x+T>>1,f[y[O]]<W?x=O+1:T=O;W<f[y[x]]&&(x>0&&(m[b]=y[x-1]),y[x]=b)}}for(x=y.length,T=y[x-1];x-- >0;)y[x]=T,T=m[T];return y}const Nee=f=>f.__isTeleport,Er=Symbol.for("v-fgt"),G8=Symbol.for("v-txt"),n2=Symbol.for("v-cmt"),Q7=Symbol.for("v-stc"),S5=[];let Wm=null;function Ke(f=!1){S5.push(Wm=f?null:[])}function zee(){S5.pop(),Wm=S5[S5.length-1]||null}let R5=1;function LU(f){R5+=f}function yj(f){return f.dynamicChildren=R5>0?Wm||iA:null,zee(),R5>0&&Wm&&Wm.push(f),f}function Ye(f,m,y,b,_,x){return yj(F(f,m,y,b,_,x,!0))}function Ym(f,m,y,b,_){return yj(it(f,m,y,b,_,!0))}function S8(f){return f?f.__v_isVNode===!0:!1}function g5(f,m){return f.type===m.type&&f.key===m.key}const q8="__vInternal",wj=({key:f})=>f??null,f8=({ref:f,ref_key:m,ref_for:y})=>(typeof f=="number"&&(f=""+f),f!=null?Cs(f)||Gl(f)||ba(f)?{i:ql,r:f,k:m,f:!!y}:f:null);function F(f,m=null,y=null,b=0,_=null,x=f===Er?0:1,T=!1,O=!1){const L={__v_isVNode:!0,__v_skip:!0,type:f,props:m,key:m&&wj(m),ref:m&&f8(m),scopeId:W8,slotScopeIds:null,children:y,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:x,patchFlag:b,dynamicProps:_,dynamicChildren:null,appContext:null,ctx:ql};return O?(GH(L,y),x&128&&f.normalize(L)):y&&(L.shapeFlag|=Cs(y)?8:16),R5>0&&!T&&Wm&&(L.patchFlag>0||x&6)&&L.patchFlag!==32&&Wm.push(L),L}const it=Fee;function Fee(f,m=null,y=null,b=0,_=null,x=!1){if((!f||f===yee)&&(f=n2),S8(f)){const O=fA(f,m,!0);return y&&GH(O,y),R5>0&&!x&&Wm&&(O.shapeFlag&6?Wm[Wm.indexOf(f)]=O:Wm.push(O)),O.patchFlag|=-2,O}if(Yee(f)&&(f=f.__vccOpts),m){m=Lee(m);let{class:O,style:L}=m;O&&!Cs(O)&&(m.class=I5(O)),ri(L)&&(GW(L)&&!Lr(L)&&(L=js({},L)),m.style=z8(L))}const T=Cs(f)?1:uee(f)?128:Nee(f)?64:ri(f)?4:ba(f)?2:0;return F(f,m,y,b,_,T,x,!0)}function Lee(f){return f?GW(f)||q8 in f?js({},f):f:null}function fA(f,m,y=!1){const{props:b,ref:_,patchFlag:x,children:T}=f,O=m?Hee(b||{},m):b;return{__v_isVNode:!0,__v_skip:!0,type:f.type,props:O,key:O&&wj(O),ref:m&&m.ref?y&&_?Lr(_)?_.concat(f8(m)):[_,f8(m)]:f8(m):_,scopeId:f.scopeId,slotScopeIds:f.slotScopeIds,children:T,target:f.target,targetAnchor:f.targetAnchor,staticCount:f.staticCount,shapeFlag:f.shapeFlag,patchFlag:m&&f.type!==Er?x===-1?16:x|16:x,dynamicProps:f.dynamicProps,dynamicChildren:f.dynamicChildren,appContext:f.appContext,dirs:f.dirs,transition:f.transition,component:f.component,suspense:f.suspense,ssContent:f.ssContent&&fA(f.ssContent),ssFallback:f.ssFallback&&fA(f.ssFallback),el:f.el,anchor:f.anchor,ctx:f.ctx,ce:f.ce}}function Ar(f=" ",m=0){return it(G8,null,f,m)}function Tr(f="",m=!1){return m?(Ke(),Ym(n2,null,f)):it(n2,null,f)}function ip(f){return f==null||typeof f=="boolean"?it(n2):Lr(f)?it(Er,null,f.slice()):typeof f=="object"?Jy(f):it(G8,null,String(f))}function Jy(f){return f.el===null&&f.patchFlag!==-1||f.memo?f:fA(f)}function GH(f,m){let y=0;const{shapeFlag:b}=f;if(m==null)m=null;else if(Lr(m))y=16;else if(typeof m=="object")if(b&65){const _=m.default;_&&(_._c&&(_._d=!1),GH(f,_()),_._c&&(_._d=!0));return}else{y=32;const _=m._;!_&&!(q8 in m)?m._ctx=ql:_===3&&ql&&(ql.slots._===1?m._=1:(m._=2,f.patchFlag|=1024))}else ba(m)?(m={default:m,_ctx:ql},y=32):(m=String(m),b&64?(y=16,m=[Ar(m)]):y=8);f.children=m,f.shapeFlag|=y}function Hee(...f){const m={};for(let y=0;y<f.length;y++){const b=f[y];for(const _ in b)if(_==="class")m.class!==b.class&&(m.class=I5([m.class,b.class]));else if(_==="style")m.style=z8([m.style,b.style]);else if(M8(_)){const x=m[_],T=b[_];T&&x!==T&&!(Lr(x)&&x.includes(T))&&(m[_]=x?[].concat(x,T):T)}else _!==""&&(m[_]=b[_])}return m}function op(f,m,y,b=null){qm(f,m,7,[y,b])}const Vee=vj();let Uee=0;function Wee(f,m,y){const b=f.type,_=(m?m.appContext:f.appContext)||Vee,x={uid:Uee++,vnode:f,type:b,parent:m,appContext:_,root:null,next:null,subTree:null,effect:null,update:null,scope:new BW(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:m?m.provides:Object.create(_.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mj(b,_),emitsOptions:nj(b,_),emit:null,emitted:null,propsDefaults:bi,inheritAttrs:b.inheritAttrs,ctx:bi,data:bi,props:bi,attrs:bi,slots:bi,refs:bi,setupState:bi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:y,suspenseId:y?y.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return x.ctx={_:x},x.root=m?m.root:x,x.emit=nee.bind(null,x),f.ce&&f.ce(x),x}let gl=null,qH,rA,HU="__VUE_INSTANCE_SETTERS__";(rA=cH()[HU])||(rA=cH()[HU]=[]),rA.push(f=>gl=f),qH=f=>{rA.length>1?rA.forEach(m=>m(f)):rA[0](f)};const vA=f=>{qH(f),f.scope.on()},L_=()=>{gl&&gl.scope.off(),qH(null)};function Cj(f){return f.vnode.shapeFlag&4}let $5=!1;function jee(f,m=!1){$5=m;const{props:y,children:b}=f.vnode,_=Cj(f);Oee(f,y,_,m),$ee(f,b);const x=_?Gee(f,m):void 0;return $5=!1,x}function Gee(f,m){const y=f.type;f.accessCache=Object.create(null),f.proxy=LH(new Proxy(f.ctx,Cee));const{setup:b}=y;if(b){const _=f.setupContext=b.length>1?Kee(f):null;vA(f),gA();const x=e2(b,f,0,[f.props,_]);if(pA(),L_(),TW(x)){if(x.then(L_,L_),m)return x.then(T=>{VU(f,T,m)}).catch(T=>{V8(T,f,0)});f.asyncDep=x}else VU(f,x,m)}else _j(f,m)}function VU(f,m,y){ba(m)?f.type.__ssrInlineRender?f.ssrRender=m:f.render=m:ri(m)&&(f.setupState=YW(m)),_j(f,y)}let UU;function _j(f,m,y){const b=f.type;if(!f.render){if(!m&&UU&&!b.render){const _=b.template||WH(f).template;if(_){const{isCustomElement:x,compilerOptions:T}=f.appContext.config,{delimiters:O,compilerOptions:L}=b,W=js(js({isCustomElement:x,delimiters:O},T),L);b.render=UU(_,W)}}f.render=b.render||Gm}vA(f),gA(),_ee(f),pA(),L_()}function qee(f){return f.attrsProxy||(f.attrsProxy=new Proxy(f.attrs,{get(m,y){return Tf(f,"get","$attrs"),m[y]}}))}function Kee(f){const m=y=>{f.exposed=y||{}};return{get attrs(){return qee(f)},slots:f.slots,emit:f.emit,expose:m}}function K8(f){if(f.exposed)return f.exposeProxy||(f.exposeProxy=new Proxy(YW(LH(f.exposed)),{get(m,y){if(y in m)return m[y];if(y in _5)return _5[y](f)},has(m,y){return y in m||y in _5}}))}function Xee(f,m=!0){return ba(f)?f.displayName||f.name:f.name||m&&f.__name}function Yee(f){return ba(f)&&"__vccOpts"in f}const Yi=(f,m)=>YQ(f,m,$5);function Sj(f,m,y){const b=arguments.length;return b===2?ri(m)&&!Lr(m)?S8(m)?it(f,null,[m]):it(f,m):it(f,null,m):(b>3?y=Array.prototype.slice.call(arguments,2):b===3&&S8(y)&&(y=[y]),it(f,m,y))}const Jee=Symbol.for("v-scx"),Zee=()=>Xm(Jee),Qee="3.3.4",ete="http://www.w3.org/2000/svg",P_=typeof document<"u"?document:null,WU=P_&&P_.createElement("template"),tte={insert:(f,m,y)=>{m.insertBefore(f,y||null)},remove:f=>{const m=f.parentNode;m&&m.removeChild(f)},createElement:(f,m,y,b)=>{const _=m?P_.createElementNS(ete,f):P_.createElement(f,y?{is:y}:void 0);return f==="select"&&b&&b.multiple!=null&&_.setAttribute("multiple",b.multiple),_},createText:f=>P_.createTextNode(f),createComment:f=>P_.createComment(f),setText:(f,m)=>{f.nodeValue=m},setElementText:(f,m)=>{f.textContent=m},parentNode:f=>f.parentNode,nextSibling:f=>f.nextSibling,querySelector:f=>P_.querySelector(f),setScopeId(f,m){f.setAttribute(m,"")},insertStaticContent(f,m,y,b,_,x){const T=y?y.previousSibling:m.lastChild;if(_&&(_===x||_.nextSibling))for(;m.insertBefore(_.cloneNode(!0),y),!(_===x||!(_=_.nextSibling)););else{WU.innerHTML=b?`<svg>${f}</svg>`:f;const O=WU.content;if(b){const L=O.firstChild;for(;L.firstChild;)O.appendChild(L.firstChild);O.removeChild(L)}m.insertBefore(O,y)}return[T?T.nextSibling:m.firstChild,y?y.previousSibling:m.lastChild]}};function nte(f,m,y){const b=f._vtc;b&&(m=(m?[m,...b]:[...b]).join(" ")),m==null?f.removeAttribute("class"):y?f.setAttribute("class",m):f.className=m}function rte(f,m,y){const b=f.style,_=Cs(y);if(y&&!_){if(m&&!Cs(m))for(const x in m)y[x]==null&&_H(b,x,"");for(const x in y)_H(b,x,y[x])}else{const x=b.display;_?m!==y&&(b.cssText=y):m&&f.removeAttribute("style"),"_vod"in f&&(b.display=x)}}const jU=/\s*!important$/;function _H(f,m,y){if(Lr(y))y.forEach(b=>_H(f,m,b));else if(y==null&&(y=""),m.startsWith("--"))f.setProperty(m,y);else{const b=ate(f,m);jU.test(y)?f.setProperty(H_(b),y.replace(jU,""),"important"):f[b]=y}}const GU=["Webkit","Moz","ms"],eH={};function ate(f,m){const y=eH[m];if(y)return y;let b=lp(m);if(b!=="filter"&&b in f)return eH[m]=b;b=N8(b);for(let _=0;_<GU.length;_++){const x=GU[_]+b;if(x in f)return eH[m]=x}return m}const qU="http://www.w3.org/1999/xlink";function ote(f,m,y,b,_){if(b&&m.startsWith("xlink:"))y==null?f.removeAttributeNS(qU,m.slice(6,m.length)):f.setAttributeNS(qU,m,y);else{const x=mQ(m);y==null||x&&!RW(y)?f.removeAttribute(m):f.setAttribute(m,x?"":y)}}function ite(f,m,y,b,_,x,T){if(m==="innerHTML"||m==="textContent"){b&&T(b,_,x),f[m]=y??"";return}const O=f.tagName;if(m==="value"&&O!=="PROGRESS"&&!O.includes("-")){f._value=y;const W=O==="OPTION"?f.getAttribute("value"):f.value,I=y??"";W!==I&&(f.value=I),y==null&&f.removeAttribute(m);return}let L=!1;if(y===""||y==null){const W=typeof f[m];W==="boolean"?y=RW(y):y==null&&W==="string"?(y="",L=!0):W==="number"&&(y=0,L=!0)}try{f[m]=y}catch{}L&&f.removeAttribute(m)}function I_(f,m,y,b){f.addEventListener(m,y,b)}function ute(f,m,y,b){f.removeEventListener(m,y,b)}function ste(f,m,y,b,_=null){const x=f._vei||(f._vei={}),T=x[m];if(b&&T)T.value=b;else{const[O,L]=lte(m);if(b){const W=x[m]=vte(b,_);I_(f,O,W,L)}else T&&(ute(f,O,T,L),x[m]=void 0)}}const KU=/(?:Once|Passive|Capture)$/;function lte(f){let m;if(KU.test(f)){m={};let b;for(;b=f.match(KU);)f=f.slice(0,f.length-b[0].length),m[b[0].toLowerCase()]=!0}return[f[2]===":"?f.slice(3):H_(f.slice(2)),m]}let tH=0;const cte=Promise.resolve(),fte=()=>tH||(cte.then(()=>tH=0),tH=Date.now());function vte(f,m){const y=b=>{if(!b._vts)b._vts=Date.now();else if(b._vts<=y.attached)return;qm(dte(b,y.value),m,5,[b])};return y.value=f,y.attached=fte(),y}function dte(f,m){if(Lr(m)){const y=f.stopImmediatePropagation;return f.stopImmediatePropagation=()=>{y.call(f),f._stopped=!0},m.map(b=>_=>!_._stopped&&b&&b(_))}else return m}const XU=/^on[a-z]/,mte=(f,m,y,b,_=!1,x,T,O,L)=>{m==="class"?nte(f,b,_):m==="style"?rte(f,y,b):M8(m)?RH(m)||ste(f,m,y,b,T):(m[0]==="."?(m=m.slice(1),!0):m[0]==="^"?(m=m.slice(1),!1):hte(f,m,b,_))?ite(f,m,b,x,T,O,L):(m==="true-value"?f._trueValue=b:m==="false-value"&&(f._falseValue=b),ote(f,m,b,_))};function hte(f,m,y,b){return b?!!(m==="innerHTML"||m==="textContent"||m in f&&XU.test(m)&&ba(y)):m==="spellcheck"||m==="draggable"||m==="translate"||m==="form"||m==="list"&&f.tagName==="INPUT"||m==="type"&&f.tagName==="TEXTAREA"||XU.test(m)&&Cs(y)?!1:m in f}const x8=f=>{const m=f.props["onUpdate:modelValue"]||!1;return Lr(m)?y=>l8(m,y):m};function gte(f){f.target.composing=!0}function YU(f){const m=f.target;m.composing&&(m.composing=!1,m.dispatchEvent(new Event("input")))}const Un={created(f,{modifiers:{lazy:m,trim:y,number:b}},_){f._assign=x8(_);const x=b||_.props&&_.props.type==="number";I_(f,m?"change":"input",T=>{if(T.target.composing)return;let O=f.value;y&&(O=O.trim()),x&&(O=b8(O)),f._assign(O)}),y&&I_(f,"change",()=>{f.value=f.value.trim()}),m||(I_(f,"compositionstart",gte),I_(f,"compositionend",YU),I_(f,"change",YU))},mounted(f,{value:m}){f.value=m??""},beforeUpdate(f,{value:m,modifiers:{lazy:y,trim:b,number:_}},x){if(f._assign=x8(x),f.composing||document.activeElement===f&&f.type!=="range"&&(y||b&&f.value.trim()===m||(_||f.type==="number")&&b8(f.value)===m))return;const T=m??"";f.value!==T&&(f.value=T)}},KH={deep:!0,created(f,{value:m,modifiers:{number:y}},b){const _=P8(m);I_(f,"change",()=>{const x=Array.prototype.filter.call(f.options,T=>T.selected).map(T=>y?b8(k8(T)):k8(T));f._assign(f.multiple?_?new Set(x):x:x[0])}),f._assign=x8(b)},mounted(f,{value:m}){JU(f,m)},beforeUpdate(f,m,y){f._assign=x8(y)},updated(f,{value:m}){JU(f,m)}};function JU(f,m){const y=f.multiple;if(!(y&&!Lr(m)&&!P8(m))){for(let b=0,_=f.options.length;b<_;b++){const x=f.options[b],T=k8(x);if(y)Lr(m)?x.selected=gQ(m,T)>-1:x.selected=m.has(T);else if(F8(k8(x),m)){f.selectedIndex!==b&&(f.selectedIndex=b);return}}!y&&f.selectedIndex!==-1&&(f.selectedIndex=-1)}}function k8(f){return"_value"in f?f._value:f.value}const pte=["ctrl","shift","alt","meta"],bte={stop:f=>f.stopPropagation(),prevent:f=>f.preventDefault(),self:f=>f.target!==f.currentTarget,ctrl:f=>!f.ctrlKey,shift:f=>!f.shiftKey,alt:f=>!f.altKey,meta:f=>!f.metaKey,left:f=>"button"in f&&f.button!==0,middle:f=>"button"in f&&f.button!==1,right:f=>"button"in f&&f.button!==2,exact:(f,m)=>pte.some(y=>f[`${y}Key`]&&!m.includes(y))},yte=(f,m)=>(y,...b)=>{for(let _=0;_<m.length;_++){const x=bte[m[_]];if(x&&x(y,m))return}return f(y,...b)},wte={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Cte=(f,m)=>y=>{if(!("key"in y))return;const b=H_(y.key);if(m.some(_=>_===b||wte[_]===b))return f(y)},_te=js({patchProp:mte},tte);let ZU;function Ste(){return ZU||(ZU=Mee(_te))}const xte=(...f)=>{const m=Ste().createApp(...f),{mount:y}=m;return m.mount=b=>{const _=kte(b);if(!_)return;const x=m._component;!ba(x)&&!x.render&&!x.template&&(x.template=_.innerHTML),_.innerHTML="";const T=y(_,!1,_ instanceof SVGElement);return _ instanceof Element&&(_.removeAttribute("v-cloak"),_.setAttribute("data-v-app","")),T},m};function kte(f){return Cs(f)?document.querySelector(f):f}var Ate=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const Ete=Symbol();var QU;(function(f){f.direct="direct",f.patchObject="patch object",f.patchFunction="patch function"})(QU||(QU={}));function Tte(){const f=pQ(!0),m=f.run(()=>xt({}));let y=[],b=[];const _=LH({install(x){_._a=x,x.provide(Ete,_),x.config.globalProperties.$pinia=_,b.forEach(T=>y.push(T)),b=[]},use(x){return!this._a&&!Ate?b.push(x):y.push(x),this},_p:y,_a:null,_e:f,_s:new Map,state:m});return _}const xj="/assets/logo-a79da443.svg",Ote="/assets/tour-3908d667.svg",Dte="/assets/guide-2f617d29.svg",Rte="/assets/language-1f6f72b9.svg",$te="/assets/mobility-6abf7304.svg",Bte="/assets/place-32612cab.svg",Mte="/assets/category-1c106769.svg",Pte="/assets/verify-af8a1288.svg",Ite="/assets/skill-6808aa68.svg",XH="/assets/page-2cc861e5.svg",Nte="/assets/usermanagement-a4fe644f.svg";/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const aA=typeof window<"u";function zte(f){return f.__esModule||f[Symbol.toStringTag]==="Module"}const $o=Object.assign;function nH(f,m){const y={};for(const b in m){const _=m[b];y[b]=Jm(_)?_.map(f):f(_)}return y}const x5=()=>{},Jm=Array.isArray,Fte=/\/$/,Lte=f=>f.replace(Fte,"");function rH(f,m,y="/"){let b,_={},x="",T="";const O=m.indexOf("#");let L=m.indexOf("?");return O<L&&O>=0&&(L=-1),L>-1&&(b=m.slice(0,L),x=m.slice(L+1,O>-1?O:m.length),_=f(x)),O>-1&&(b=b||m.slice(0,O),T=m.slice(O,m.length)),b=Wte(b??m,y),{fullPath:b+(x&&"?")+x+T,path:b,query:_,hash:T}}function Hte(f,m){const y=m.query?f(m.query):"";return m.path+(y&&"?")+y+(m.hash||"")}function eW(f,m){return!m||!f.toLowerCase().startsWith(m.toLowerCase())?f:f.slice(m.length)||"/"}function Vte(f,m,y){const b=m.matched.length-1,_=y.matched.length-1;return b>-1&&b===_&&dA(m.matched[b],y.matched[_])&&kj(m.params,y.params)&&f(m.query)===f(y.query)&&m.hash===y.hash}function dA(f,m){return(f.aliasOf||f)===(m.aliasOf||m)}function kj(f,m){if(Object.keys(f).length!==Object.keys(m).length)return!1;for(const y in f)if(!Ute(f[y],m[y]))return!1;return!0}function Ute(f,m){return Jm(f)?tW(f,m):Jm(m)?tW(m,f):f===m}function tW(f,m){return Jm(m)?f.length===m.length&&f.every((y,b)=>y===m[b]):f.length===1&&f[0]===m}function Wte(f,m){if(f.startsWith("/"))return f;if(!f)return m;const y=m.split("/"),b=f.split("/"),_=b[b.length-1];(_===".."||_===".")&&b.push("");let x=y.length-1,T,O;for(T=0;T<b.length;T++)if(O=b[T],O!==".")if(O==="..")x>1&&x--;else break;return y.slice(0,x).join("/")+"/"+b.slice(T-(T===b.length?1:0)).join("/")}var B5;(function(f){f.pop="pop",f.push="push"})(B5||(B5={}));var k5;(function(f){f.back="back",f.forward="forward",f.unknown=""})(k5||(k5={}));function jte(f){if(!f)if(aA){const m=document.querySelector("base");f=m&&m.getAttribute("href")||"/",f=f.replace(/^\w+:\/\/[^\/]+/,"")}else f="/";return f[0]!=="/"&&f[0]!=="#"&&(f="/"+f),Lte(f)}const Gte=/^[^#]+#/;function qte(f,m){return f.replace(Gte,"#")+m}function Kte(f,m){const y=document.documentElement.getBoundingClientRect(),b=f.getBoundingClientRect();return{behavior:m.behavior,left:b.left-y.left-(m.left||0),top:b.top-y.top-(m.top||0)}}const X8=()=>({left:window.pageXOffset,top:window.pageYOffset});function Xte(f){let m;if("el"in f){const y=f.el,b=typeof y=="string"&&y.startsWith("#"),_=typeof y=="string"?b?document.getElementById(y.slice(1)):document.querySelector(y):y;if(!_)return;m=Kte(_,f)}else m=f;"scrollBehavior"in document.documentElement.style?window.scrollTo(m):window.scrollTo(m.left!=null?m.left:window.pageXOffset,m.top!=null?m.top:window.pageYOffset)}function nW(f,m){return(history.state?history.state.position-m:-1)+f}const SH=new Map;function Yte(f,m){SH.set(f,m)}function Jte(f){const m=SH.get(f);return SH.delete(f),m}let Zte=()=>location.protocol+"//"+location.host;function Aj(f,m){const{pathname:y,search:b,hash:_}=m,x=f.indexOf("#");if(x>-1){let O=_.includes(f.slice(x))?f.slice(x).length:1,L=_.slice(O);return L[0]!=="/"&&(L="/"+L),eW(L,"")}return eW(y,f)+b+_}function Qte(f,m,y,b){let _=[],x=[],T=null;const O=({state:P})=>{const V=Aj(f,location),Z=y.value,q=m.value;let $e=0;if(P){if(y.value=V,m.value=P,T&&T===Z){T=null;return}$e=q?P.position-q.position:0}else b(V);_.forEach(me=>{me(y.value,Z,{delta:$e,type:B5.pop,direction:$e?$e>0?k5.forward:k5.back:k5.unknown})})};function L(){T=y.value}function W(P){_.push(P);const V=()=>{const Z=_.indexOf(P);Z>-1&&_.splice(Z,1)};return x.push(V),V}function I(){const{history:P}=window;P.state&&P.replaceState($o({},P.state,{scroll:X8()}),"")}function H(){for(const P of x)P();x=[],window.removeEventListener("popstate",O),window.removeEventListener("beforeunload",I)}return window.addEventListener("popstate",O),window.addEventListener("beforeunload",I,{passive:!0}),{pauseListeners:L,listen:W,destroy:H}}function rW(f,m,y,b=!1,_=!1){return{back:f,current:m,forward:y,replaced:b,position:window.history.length,scroll:_?X8():null}}function ene(f){const{history:m,location:y}=window,b={value:Aj(f,y)},_={value:m.state};_.value||x(b.value,{back:null,current:b.value,forward:null,position:m.length-1,replaced:!0,scroll:null},!0);function x(L,W,I){const H=f.indexOf("#"),P=H>-1?(y.host&&document.querySelector("base")?f:f.slice(H))+L:Zte()+f+L;try{m[I?"replaceState":"pushState"](W,"",P),_.value=W}catch(V){console.error(V),y[I?"replace":"assign"](P)}}function T(L,W){const I=$o({},m.state,rW(_.value.back,L,_.value.forward,!0),W,{position:_.value.position});x(L,I,!0),b.value=L}function O(L,W){const I=$o({},_.value,m.state,{forward:L,scroll:X8()});x(I.current,I,!0);const H=$o({},rW(b.value,L,null),{position:I.position+1},W);x(L,H,!1),b.value=L}return{location:b,state:_,push:O,replace:T}}function tne(f){f=jte(f);const m=ene(f),y=Qte(f,m.state,m.location,m.replace);function b(x,T=!0){T||y.pauseListeners(),history.go(x)}const _=$o({location:"",base:f,go:b,createHref:qte.bind(null,f)},m,y);return Object.defineProperty(_,"location",{enumerable:!0,get:()=>m.location.value}),Object.defineProperty(_,"state",{enumerable:!0,get:()=>m.state.value}),_}function nne(f){return typeof f=="string"||f&&typeof f=="object"}function Ej(f){return typeof f=="string"||typeof f=="symbol"}const Xy={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Tj=Symbol("");var aW;(function(f){f[f.aborted=4]="aborted",f[f.cancelled=8]="cancelled",f[f.duplicated=16]="duplicated"})(aW||(aW={}));function mA(f,m){return $o(new Error,{type:f,[Tj]:!0},m)}function ab(f,m){return f instanceof Error&&Tj in f&&(m==null||!!(f.type&m))}const oW="[^/]+?",rne={sensitive:!1,strict:!1,start:!0,end:!0},ane=/[.+*?^${}()[\]/\\]/g;function one(f,m){const y=$o({},rne,m),b=[];let _=y.start?"^":"";const x=[];for(const W of f){const I=W.length?[]:[90];y.strict&&!W.length&&(_+="/");for(let H=0;H<W.length;H++){const P=W[H];let V=40+(y.sensitive?.25:0);if(P.type===0)H||(_+="/"),_+=P.value.replace(ane,"\\$&"),V+=40;else if(P.type===1){const{value:Z,repeatable:q,optional:$e,regexp:me}=P;x.push({name:Z,repeatable:q,optional:$e});const Be=me||oW;if(Be!==oW){V+=10;try{new RegExp(`(${Be})`)}catch(ge){throw new Error(`Invalid custom RegExp for param "${Z}" (${Be}): `+ge.message)}}let ne=q?`((?:${Be})(?:/(?:${Be}))*)`:`(${Be})`;H||(ne=$e&&W.length<2?`(?:/${ne})`:"/"+ne),$e&&(ne+="?"),_+=ne,V+=20,$e&&(V+=-8),q&&(V+=-20),Be===".*"&&(V+=-50)}I.push(V)}b.push(I)}if(y.strict&&y.end){const W=b.length-1;b[W][b[W].length-1]+=.7000000000000001}y.strict||(_+="/?"),y.end?_+="$":y.strict&&(_+="(?:/|$)");const T=new RegExp(_,y.sensitive?"":"i");function O(W){const I=W.match(T),H={};if(!I)return null;for(let P=1;P<I.length;P++){const V=I[P]||"",Z=x[P-1];H[Z.name]=V&&Z.repeatable?V.split("/"):V}return H}function L(W){let I="",H=!1;for(const P of f){(!H||!I.endsWith("/"))&&(I+="/"),H=!1;for(const V of P)if(V.type===0)I+=V.value;else if(V.type===1){const{value:Z,repeatable:q,optional:$e}=V,me=Z in W?W[Z]:"";if(Jm(me)&&!q)throw new Error(`Provided param "${Z}" is an array but it is not repeatable (* or + modifiers)`);const Be=Jm(me)?me.join("/"):me;if(!Be)if($e)P.length<2&&(I.endsWith("/")?I=I.slice(0,-1):H=!0);else throw new Error(`Missing required param "${Z}"`);I+=Be}}return I||"/"}return{re:T,score:b,keys:x,parse:O,stringify:L}}function ine(f,m){let y=0;for(;y<f.length&&y<m.length;){const b=m[y]-f[y];if(b)return b;y++}return f.length<m.length?f.length===1&&f[0]===40+40?-1:1:f.length>m.length?m.length===1&&m[0]===40+40?1:-1:0}function une(f,m){let y=0;const b=f.score,_=m.score;for(;y<b.length&&y<_.length;){const x=ine(b[y],_[y]);if(x)return x;y++}if(Math.abs(_.length-b.length)===1){if(iW(b))return 1;if(iW(_))return-1}return _.length-b.length}function iW(f){const m=f[f.length-1];return f.length>0&&m[m.length-1]<0}const sne={type:0,value:""},lne=/[a-zA-Z0-9_]/;function cne(f){if(!f)return[[]];if(f==="/")return[[sne]];if(!f.startsWith("/"))throw new Error(`Invalid path "${f}"`);function m(V){throw new Error(`ERR (${y})/"${W}": ${V}`)}let y=0,b=y;const _=[];let x;function T(){x&&_.push(x),x=[]}let O=0,L,W="",I="";function H(){W&&(y===0?x.push({type:0,value:W}):y===1||y===2||y===3?(x.length>1&&(L==="*"||L==="+")&&m(`A repeatable param (${W}) must be alone in its segment. eg: '/:ids+.`),x.push({type:1,value:W,regexp:I,repeatable:L==="*"||L==="+",optional:L==="*"||L==="?"})):m("Invalid state to consume buffer"),W="")}function P(){W+=L}for(;O<f.length;){if(L=f[O++],L==="\\"&&y!==2){b=y,y=4;continue}switch(y){case 0:L==="/"?(W&&H(),T()):L===":"?(H(),y=1):P();break;case 4:P(),y=b;break;case 1:L==="("?y=2:lne.test(L)?P():(H(),y=0,L!=="*"&&L!=="?"&&L!=="+"&&O--);break;case 2:L===")"?I[I.length-1]=="\\"?I=I.slice(0,-1)+L:y=3:I+=L;break;case 3:H(),y=0,L!=="*"&&L!=="?"&&L!=="+"&&O--,I="";break;default:m("Unknown state");break}}return y===2&&m(`Unfinished custom RegExp for param "${W}"`),H(),T(),_}function fne(f,m,y){const b=one(cne(f.path),y),_=$o(b,{record:f,parent:m,children:[],alias:[]});return m&&!_.record.aliasOf==!m.record.aliasOf&&m.children.push(_),_}function vne(f,m){const y=[],b=new Map;m=lW({strict:!1,end:!0,sensitive:!1},m);function _(I){return b.get(I)}function x(I,H,P){const V=!P,Z=dne(I);Z.aliasOf=P&&P.record;const q=lW(m,I),$e=[Z];if("alias"in I){const ne=typeof I.alias=="string"?[I.alias]:I.alias;for(const ge of ne)$e.push($o({},Z,{components:P?P.record.components:Z.components,path:ge,aliasOf:P?P.record:Z}))}let me,Be;for(const ne of $e){const{path:ge}=ne;if(H&&ge[0]!=="/"){const De=H.record.path,Se=De[De.length-1]==="/"?"":"/";ne.path=H.record.path+(ge&&Se+ge)}if(me=fne(ne,H,q),P?P.alias.push(me):(Be=Be||me,Be!==me&&Be.alias.push(me),V&&I.name&&!sW(me)&&T(I.name)),Z.children){const De=Z.children;for(let Se=0;Se<De.length;Se++)x(De[Se],me,P&&P.children[Se])}P=P||me,(me.record.components&&Object.keys(me.record.components).length||me.record.name||me.record.redirect)&&L(me)}return Be?()=>{T(Be)}:x5}function T(I){if(Ej(I)){const H=b.get(I);H&&(b.delete(I),y.splice(y.indexOf(H),1),H.children.forEach(T),H.alias.forEach(T))}else{const H=y.indexOf(I);H>-1&&(y.splice(H,1),I.record.name&&b.delete(I.record.name),I.children.forEach(T),I.alias.forEach(T))}}function O(){return y}function L(I){let H=0;for(;H<y.length&&une(I,y[H])>=0&&(I.record.path!==y[H].record.path||!Oj(I,y[H]));)H++;y.splice(H,0,I),I.record.name&&!sW(I)&&b.set(I.record.name,I)}function W(I,H){let P,V={},Z,q;if("name"in I&&I.name){if(P=b.get(I.name),!P)throw mA(1,{location:I});q=P.record.name,V=$o(uW(H.params,P.keys.filter(Be=>!Be.optional).map(Be=>Be.name)),I.params&&uW(I.params,P.keys.map(Be=>Be.name))),Z=P.stringify(V)}else if("path"in I)Z=I.path,P=y.find(Be=>Be.re.test(Z)),P&&(V=P.parse(Z),q=P.record.name);else{if(P=H.name?b.get(H.name):y.find(Be=>Be.re.test(H.path)),!P)throw mA(1,{location:I,currentLocation:H});q=P.record.name,V=$o({},H.params,I.params),Z=P.stringify(V)}const $e=[];let me=P;for(;me;)$e.unshift(me.record),me=me.parent;return{name:q,path:Z,params:V,matched:$e,meta:hne($e)}}return f.forEach(I=>x(I)),{addRoute:x,resolve:W,removeRoute:T,getRoutes:O,getRecordMatcher:_}}function uW(f,m){const y={};for(const b of m)b in f&&(y[b]=f[b]);return y}function dne(f){return{path:f.path,redirect:f.redirect,name:f.name,meta:f.meta||{},aliasOf:void 0,beforeEnter:f.beforeEnter,props:mne(f),children:f.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in f?f.components||null:f.component&&{default:f.component}}}function mne(f){const m={},y=f.props||!1;if("component"in f)m.default=y;else for(const b in f.components)m[b]=typeof y=="object"?y[b]:y;return m}function sW(f){for(;f;){if(f.record.aliasOf)return!0;f=f.parent}return!1}function hne(f){return f.reduce((m,y)=>$o(m,y.meta),{})}function lW(f,m){const y={};for(const b in f)y[b]=b in m?m[b]:f[b];return y}function Oj(f,m){return m.children.some(y=>y===f||Oj(f,y))}const Dj=/#/g,gne=/&/g,pne=/\//g,bne=/=/g,yne=/\?/g,Rj=/\+/g,wne=/%5B/g,Cne=/%5D/g,$j=/%5E/g,_ne=/%60/g,Bj=/%7B/g,Sne=/%7C/g,Mj=/%7D/g,xne=/%20/g;function YH(f){return encodeURI(""+f).replace(Sne,"|").replace(wne,"[").replace(Cne,"]")}function kne(f){return YH(f).replace(Bj,"{").replace(Mj,"}").replace($j,"^")}function xH(f){return YH(f).replace(Rj,"%2B").replace(xne,"+").replace(Dj,"%23").replace(gne,"%26").replace(_ne,"`").replace(Bj,"{").replace(Mj,"}").replace($j,"^")}function Ane(f){return xH(f).replace(bne,"%3D")}function Ene(f){return YH(f).replace(Dj,"%23").replace(yne,"%3F")}function Tne(f){return f==null?"":Ene(f).replace(pne,"%2F")}function A8(f){try{return decodeURIComponent(""+f)}catch{}return""+f}function One(f){const m={};if(f===""||f==="?")return m;const b=(f[0]==="?"?f.slice(1):f).split("&");for(let _=0;_<b.length;++_){const x=b[_].replace(Rj," "),T=x.indexOf("="),O=A8(T<0?x:x.slice(0,T)),L=T<0?null:A8(x.slice(T+1));if(O in m){let W=m[O];Jm(W)||(W=m[O]=[W]),W.push(L)}else m[O]=L}return m}function cW(f){let m="";for(let y in f){const b=f[y];if(y=Ane(y),b==null){b!==void 0&&(m+=(m.length?"&":"")+y);continue}(Jm(b)?b.map(x=>x&&xH(x)):[b&&xH(b)]).forEach(x=>{x!==void 0&&(m+=(m.length?"&":"")+y,x!=null&&(m+="="+x))})}return m}function Dne(f){const m={};for(const y in f){const b=f[y];b!==void 0&&(m[y]=Jm(b)?b.map(_=>_==null?null:""+_):b==null?b:""+b)}return m}const Rne=Symbol(""),fW=Symbol(""),Y8=Symbol(""),JH=Symbol(""),kH=Symbol("");function p5(){let f=[];function m(b){return f.push(b),()=>{const _=f.indexOf(b);_>-1&&f.splice(_,1)}}function y(){f=[]}return{add:m,list:()=>f.slice(),reset:y}}function Zy(f,m,y,b,_){const x=b&&(b.enterCallbacks[_]=b.enterCallbacks[_]||[]);return()=>new Promise((T,O)=>{const L=H=>{H===!1?O(mA(4,{from:y,to:m})):H instanceof Error?O(H):nne(H)?O(mA(2,{from:m,to:H})):(x&&b.enterCallbacks[_]===x&&typeof H=="function"&&x.push(H),T())},W=f.call(b&&b.instances[_],m,y,L);let I=Promise.resolve(W);f.length<3&&(I=I.then(L)),I.catch(H=>O(H))})}function aH(f,m,y,b){const _=[];for(const x of f)for(const T in x.components){let O=x.components[T];if(!(m!=="beforeRouteEnter"&&!x.instances[T]))if($ne(O)){const W=(O.__vccOpts||O)[m];W&&_.push(Zy(W,y,b,x,T))}else{let L=O();_.push(()=>L.then(W=>{if(!W)return Promise.reject(new Error(`Couldn't resolve component "${T}" at "${x.path}"`));const I=zte(W)?W.default:W;x.components[T]=I;const P=(I.__vccOpts||I)[m];return P&&Zy(P,y,b,x,T)()}))}}return _}function $ne(f){return typeof f=="object"||"displayName"in f||"props"in f||"__vccOpts"in f}function vW(f){const m=Xm(Y8),y=Xm(JH),b=Yi(()=>m.resolve(So(f.to))),_=Yi(()=>{const{matched:L}=b.value,{length:W}=L,I=L[W-1],H=y.matched;if(!I||!H.length)return-1;const P=H.findIndex(dA.bind(null,I));if(P>-1)return P;const V=dW(L[W-2]);return W>1&&dW(I)===V&&H[H.length-1].path!==V?H.findIndex(dA.bind(null,L[W-2])):P}),x=Yi(()=>_.value>-1&&Pne(y.params,b.value.params)),T=Yi(()=>_.value>-1&&_.value===y.matched.length-1&&kj(y.params,b.value.params));function O(L={}){return Mne(L)?m[So(f.replace)?"replace":"push"](So(f.to)).catch(x5):Promise.resolve()}return{route:b,href:Yi(()=>b.value.href),isActive:x,isExactActive:T,navigate:O}}const Bne=oj({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vW,setup(f,{slots:m}){const y=H8(vW(f)),{options:b}=Xm(Y8),_=Yi(()=>({[mW(f.activeClass,b.linkActiveClass,"router-link-active")]:y.isActive,[mW(f.exactActiveClass,b.linkExactActiveClass,"router-link-exact-active")]:y.isExactActive}));return()=>{const x=m.default&&m.default(y);return f.custom?x:Sj("a",{"aria-current":y.isExactActive?f.ariaCurrentValue:null,href:y.href,onClick:y.navigate,class:_.value},x)}}}),$c=Bne;function Mne(f){if(!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)&&!f.defaultPrevented&&!(f.button!==void 0&&f.button!==0)){if(f.currentTarget&&f.currentTarget.getAttribute){const m=f.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(m))return}return f.preventDefault&&f.preventDefault(),!0}}function Pne(f,m){for(const y in m){const b=m[y],_=f[y];if(typeof b=="string"){if(b!==_)return!1}else if(!Jm(_)||_.length!==b.length||b.some((x,T)=>x!==_[T]))return!1}return!0}function dW(f){return f?f.aliasOf?f.aliasOf.path:f.path:""}const mW=(f,m,y)=>f??m??y,Ine=oj({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(f,{attrs:m,slots:y}){const b=Xm(kH),_=Yi(()=>f.route||b.value),x=Xm(fW,0),T=Yi(()=>{let W=So(x);const{matched:I}=_.value;let H;for(;(H=I[W])&&!H.components;)W++;return W}),O=Yi(()=>_.value.matched[T.value]);c8(fW,Yi(()=>T.value+1)),c8(Rne,O),c8(kH,_);const L=xt();return Km(()=>[L.value,O.value,f.name],([W,I,H],[P,V,Z])=>{I&&(I.instances[H]=W,V&&V!==I&&W&&W===P&&(I.leaveGuards.size||(I.leaveGuards=V.leaveGuards),I.updateGuards.size||(I.updateGuards=V.updateGuards))),W&&I&&(!V||!dA(I,V)||!P)&&(I.enterCallbacks[H]||[]).forEach(q=>q(W))},{flush:"post"}),()=>{const W=_.value,I=f.name,H=O.value,P=H&&H.components[I];if(!P)return hW(y.default,{Component:P,route:W});const V=H.props[I],Z=V?V===!0?W.params:typeof V=="function"?V(W):V:null,$e=Sj(P,$o({},Z,m,{onVnodeUnmounted:me=>{me.component.isUnmounted&&(H.instances[I]=null)},ref:L}));return hW(y.default,{Component:$e,route:W})||$e}}});function hW(f,m){if(!f)return null;const y=f(m);return y.length===1?y[0]:y}const Pj=Ine;function Nne(f){const m=vne(f.routes,f),y=f.parseQuery||One,b=f.stringifyQuery||cW,_=f.history,x=p5(),T=p5(),O=p5(),L=GQ(Xy);let W=Xy;aA&&f.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const I=nH.bind(null,te=>""+te),H=nH.bind(null,Tne),P=nH.bind(null,A8);function V(te,fn){let Ve,pt;return Ej(te)?(Ve=m.getRecordMatcher(te),pt=fn):pt=te,m.addRoute(pt,Ve)}function Z(te){const fn=m.getRecordMatcher(te);fn&&m.removeRoute(fn)}function q(){return m.getRoutes().map(te=>te.record)}function $e(te){return!!m.getRecordMatcher(te)}function me(te,fn){if(fn=$o({},fn||L.value),typeof te=="string"){const Ze=rH(y,te,fn.path),et=m.resolve({path:Ze.path},fn),Le=_.createHref(Ze.fullPath);return $o(Ze,et,{params:P(et.params),hash:A8(Ze.hash),redirectedFrom:void 0,href:Le})}let Ve;if("path"in te)Ve=$o({},te,{path:rH(y,te.path,fn.path).path});else{const Ze=$o({},te.params);for(const et in Ze)Ze[et]==null&&delete Ze[et];Ve=$o({},te,{params:H(Ze)}),fn.params=H(fn.params)}const pt=m.resolve(Ve,fn),Jn=te.hash||"";pt.params=I(P(pt.params));const Te=Hte(b,$o({},te,{hash:kne(Jn),path:pt.path})),Ae=_.createHref(Te);return $o({fullPath:Te,hash:Jn,query:b===cW?Dne(te.query):te.query||{}},pt,{redirectedFrom:void 0,href:Ae})}function Be(te){return typeof te=="string"?rH(y,te,L.value.path):$o({},te)}function ne(te,fn){if(W!==te)return mA(8,{from:fn,to:te})}function ge(te){return We(te)}function De(te){return ge($o(Be(te),{replace:!0}))}function Se(te){const fn=te.matched[te.matched.length-1];if(fn&&fn.redirect){const{redirect:Ve}=fn;let pt=typeof Ve=="function"?Ve(te):Ve;return typeof pt=="string"&&(pt=pt.includes("?")||pt.includes("#")?pt=Be(pt):{path:pt},pt.params={}),$o({query:te.query,hash:te.hash,params:"path"in pt?{}:te.params},pt)}}function We(te,fn){const Ve=W=me(te),pt=L.value,Jn=te.state,Te=te.force,Ae=te.replace===!0,Ze=Se(Ve);if(Ze)return We($o(Be(Ze),{state:typeof Ze=="object"?$o({},Jn,Ze.state):Jn,force:Te,replace:Ae}),fn||Ve);const et=Ve;et.redirectedFrom=fn;let Le;return!Te&&Vte(b,pt,Ve)&&(Le=mA(16,{to:et,from:pt}),at(pt,pt,!0,!1)),(Le?Promise.resolve(Le):Ee(et,pt)).catch(bt=>ab(bt)?ab(bt,2)?bt:kt(bt):st(bt,et,pt)).then(bt=>{if(bt){if(ab(bt,2))return We($o({replace:Ae},Be(bt.to),{state:typeof bt.to=="object"?$o({},Jn,bt.to.state):Jn,force:Te}),fn||et)}else bt=re(et,pt,!0,Ae,Jn);return Ue(et,pt,bt),bt})}function se(te,fn){const Ve=ne(te,fn);return Ve?Promise.reject(Ve):Promise.resolve()}function ce(te){const fn=cn.values().next().value;return fn&&typeof fn.runWithContext=="function"?fn.runWithContext(te):te()}function Ee(te,fn){let Ve;const[pt,Jn,Te]=zne(te,fn);Ve=aH(pt.reverse(),"beforeRouteLeave",te,fn);for(const Ze of pt)Ze.leaveGuards.forEach(et=>{Ve.push(Zy(et,te,fn))});const Ae=se.bind(null,te,fn);return Ve.push(Ae),_n(Ve).then(()=>{Ve=[];for(const Ze of x.list())Ve.push(Zy(Ze,te,fn));return Ve.push(Ae),_n(Ve)}).then(()=>{Ve=aH(Jn,"beforeRouteUpdate",te,fn);for(const Ze of Jn)Ze.updateGuards.forEach(et=>{Ve.push(Zy(et,te,fn))});return Ve.push(Ae),_n(Ve)}).then(()=>{Ve=[];for(const Ze of Te)if(Ze.beforeEnter)if(Jm(Ze.beforeEnter))for(const et of Ze.beforeEnter)Ve.push(Zy(et,te,fn));else Ve.push(Zy(Ze.beforeEnter,te,fn));return Ve.push(Ae),_n(Ve)}).then(()=>(te.matched.forEach(Ze=>Ze.enterCallbacks={}),Ve=aH(Te,"beforeRouteEnter",te,fn),Ve.push(Ae),_n(Ve))).then(()=>{Ve=[];for(const Ze of T.list())Ve.push(Zy(Ze,te,fn));return Ve.push(Ae),_n(Ve)}).catch(Ze=>ab(Ze,8)?Ze:Promise.reject(Ze))}function Ue(te,fn,Ve){O.list().forEach(pt=>ce(()=>pt(te,fn,Ve)))}function re(te,fn,Ve,pt,Jn){const Te=ne(te,fn);if(Te)return Te;const Ae=fn===Xy,Ze=aA?history.state:{};Ve&&(pt||Ae?_.replace(te.fullPath,$o({scroll:Ae&&Ze&&Ze.scroll},Jn)):_.push(te.fullPath,Jn)),L.value=te,at(te,fn,Ve,Ae),kt()}let j;function ke(){j||(j=_.listen((te,fn,Ve)=>{if(!ct.listening)return;const pt=me(te),Jn=Se(pt);if(Jn){We($o(Jn,{replace:!0}),pt).catch(x5);return}W=pt;const Te=L.value;aA&&Yte(nW(Te.fullPath,Ve.delta),X8()),Ee(pt,Te).catch(Ae=>ab(Ae,12)?Ae:ab(Ae,2)?(We(Ae.to,pt).then(Ze=>{ab(Ze,20)&&!Ve.delta&&Ve.type===B5.pop&&_.go(-1,!1)}).catch(x5),Promise.reject()):(Ve.delta&&_.go(-Ve.delta,!1),st(Ae,pt,Te))).then(Ae=>{Ae=Ae||re(pt,Te,!1),Ae&&(Ve.delta&&!ab(Ae,8)?_.go(-Ve.delta,!1):Ve.type===B5.pop&&ab(Ae,20)&&_.go(-1,!1)),Ue(pt,Te,Ae)}).catch(x5)}))}let rt=p5(),le=p5(),be;function st(te,fn,Ve){kt(te);const pt=le.list();return pt.length?pt.forEach(Jn=>Jn(te,fn,Ve)):console.error(te),Promise.reject(te)}function B(){return be&&L.value!==Xy?Promise.resolve():new Promise((te,fn)=>{rt.add([te,fn])})}function kt(te){return be||(be=!te,ke(),rt.list().forEach(([fn,Ve])=>te?Ve(te):fn()),rt.reset()),te}function at(te,fn,Ve,pt){const{scrollBehavior:Jn}=f;if(!aA||!Jn)return Promise.resolve();const Te=!Ve&&Jte(nW(te.fullPath,0))||(pt||!Ve)&&history.state&&history.state.scroll||null;return ZW().then(()=>Jn(te,fn,Te)).then(Ae=>Ae&&Xte(Ae)).catch(Ae=>st(Ae,te,fn))}const ot=te=>_.go(te);let An;const cn=new Set,ct={currentRoute:L,listening:!0,addRoute:V,removeRoute:Z,hasRoute:$e,getRoutes:q,resolve:me,options:f,push:ge,replace:De,go:ot,back:()=>ot(-1),forward:()=>ot(1),beforeEach:x.add,beforeResolve:T.add,afterEach:O.add,onError:le.add,isReady:B,install(te){const fn=this;te.component("RouterLink",$c),te.component("RouterView",Pj),te.config.globalProperties.$router=fn,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>So(L)}),aA&&!An&&L.value===Xy&&(An=!0,ge(_.location).catch(Jn=>{}));const Ve={};for(const Jn in Xy)Object.defineProperty(Ve,Jn,{get:()=>L.value[Jn],enumerable:!0});te.provide(Y8,fn),te.provide(JH,WW(Ve)),te.provide(kH,L);const pt=te.unmount;cn.add(te),te.unmount=function(){cn.delete(te),cn.size<1&&(W=Xy,j&&j(),j=null,L.value=Xy,An=!1,be=!1),pt()}}};function _n(te){return te.reduce((fn,Ve)=>fn.then(()=>ce(Ve)),Promise.resolve())}return ct}function zne(f,m){const y=[],b=[],_=[],x=Math.max(m.matched.length,f.matched.length);for(let T=0;T<x;T++){const O=m.matched[T];O&&(f.matched.find(W=>dA(W,O))?b.push(O):y.push(O));const L=f.matched[T];L&&(m.matched.find(W=>dA(W,L))||_.push(L))}return[y,b,_]}function Kl(){return Xm(Y8)}function Qm(){return Xm(JH)}function Ij(f,m){return function(){return f.apply(m,arguments)}}const{toString:Fne}=Object.prototype,{getPrototypeOf:ZH}=Object,J8=(f=>m=>{const y=Fne.call(m);return f[y]||(f[y]=y.slice(8,-1).toLowerCase())})(Object.create(null)),cp=f=>(f=f.toLowerCase(),m=>J8(m)===f),Z8=f=>m=>typeof m===f,{isArray:bA}=Array,M5=Z8("undefined");function Lne(f){return f!==null&&!M5(f)&&f.constructor!==null&&!M5(f.constructor)&&Dd(f.constructor.isBuffer)&&f.constructor.isBuffer(f)}const Nj=cp("ArrayBuffer");function Hne(f){let m;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?m=ArrayBuffer.isView(f):m=f&&f.buffer&&Nj(f.buffer),m}const Vne=Z8("string"),Dd=Z8("function"),zj=Z8("number"),Q8=f=>f!==null&&typeof f=="object",Une=f=>f===!0||f===!1,v8=f=>{if(J8(f)!=="object")return!1;const m=ZH(f);return(m===null||m===Object.prototype||Object.getPrototypeOf(m)===null)&&!(Symbol.toStringTag in f)&&!(Symbol.iterator in f)},Wne=cp("Date"),jne=cp("File"),Gne=cp("Blob"),qne=cp("FileList"),Kne=f=>Q8(f)&&Dd(f.pipe),Xne=f=>{let m;return f&&(typeof FormData=="function"&&f instanceof FormData||Dd(f.append)&&((m=J8(f))==="formdata"||m==="object"&&Dd(f.toString)&&f.toString()==="[object FormData]"))},Yne=cp("URLSearchParams"),Jne=f=>f.trim?f.trim():f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function N5(f,m,{allOwnKeys:y=!1}={}){if(f===null||typeof f>"u")return;let b,_;if(typeof f!="object"&&(f=[f]),bA(f))for(b=0,_=f.length;b<_;b++)m.call(null,f[b],b,f);else{const x=y?Object.getOwnPropertyNames(f):Object.keys(f),T=x.length;let O;for(b=0;b<T;b++)O=x[b],m.call(null,f[O],O,f)}}function Fj(f,m){m=m.toLowerCase();const y=Object.keys(f);let b=y.length,_;for(;b-- >0;)if(_=y[b],m===_.toLowerCase())return _;return null}const Lj=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Hj=f=>!M5(f)&&f!==Lj;function AH(){const{caseless:f}=Hj(this)&&this||{},m={},y=(b,_)=>{const x=f&&Fj(m,_)||_;v8(m[x])&&v8(b)?m[x]=AH(m[x],b):v8(b)?m[x]=AH({},b):bA(b)?m[x]=b.slice():m[x]=b};for(let b=0,_=arguments.length;b<_;b++)arguments[b]&&N5(arguments[b],y);return m}const Zne=(f,m,y,{allOwnKeys:b}={})=>(N5(m,(_,x)=>{y&&Dd(_)?f[x]=Ij(_,y):f[x]=_},{allOwnKeys:b}),f),Qne=f=>(f.charCodeAt(0)===65279&&(f=f.slice(1)),f),ere=(f,m,y,b)=>{f.prototype=Object.create(m.prototype,b),f.prototype.constructor=f,Object.defineProperty(f,"super",{value:m.prototype}),y&&Object.assign(f.prototype,y)},tre=(f,m,y,b)=>{let _,x,T;const O={};if(m=m||{},f==null)return m;do{for(_=Object.getOwnPropertyNames(f),x=_.length;x-- >0;)T=_[x],(!b||b(T,f,m))&&!O[T]&&(m[T]=f[T],O[T]=!0);f=y!==!1&&ZH(f)}while(f&&(!y||y(f,m))&&f!==Object.prototype);return m},nre=(f,m,y)=>{f=String(f),(y===void 0||y>f.length)&&(y=f.length),y-=m.length;const b=f.indexOf(m,y);return b!==-1&&b===y},rre=f=>{if(!f)return null;if(bA(f))return f;let m=f.length;if(!zj(m))return null;const y=new Array(m);for(;m-- >0;)y[m]=f[m];return y},are=(f=>m=>f&&m instanceof f)(typeof Uint8Array<"u"&&ZH(Uint8Array)),ore=(f,m)=>{const b=(f&&f[Symbol.iterator]).call(f);let _;for(;(_=b.next())&&!_.done;){const x=_.value;m.call(f,x[0],x[1])}},ire=(f,m)=>{let y;const b=[];for(;(y=f.exec(m))!==null;)b.push(y);return b},ure=cp("HTMLFormElement"),sre=f=>f.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(y,b,_){return b.toUpperCase()+_}),gW=(({hasOwnProperty:f})=>(m,y)=>f.call(m,y))(Object.prototype),lre=cp("RegExp"),Vj=(f,m)=>{const y=Object.getOwnPropertyDescriptors(f),b={};N5(y,(_,x)=>{let T;(T=m(_,x,f))!==!1&&(b[x]=T||_)}),Object.defineProperties(f,b)},cre=f=>{Vj(f,(m,y)=>{if(Dd(f)&&["arguments","caller","callee"].indexOf(y)!==-1)return!1;const b=f[y];if(Dd(b)){if(m.enumerable=!1,"writable"in m){m.writable=!1;return}m.set||(m.set=()=>{throw Error("Can not rewrite read-only method '"+y+"'")})}})},fre=(f,m)=>{const y={},b=_=>{_.forEach(x=>{y[x]=!0})};return bA(f)?b(f):b(String(f).split(m)),y},vre=()=>{},dre=(f,m)=>(f=+f,Number.isFinite(f)?f:m),oH="abcdefghijklmnopqrstuvwxyz",pW="0123456789",Uj={DIGIT:pW,ALPHA:oH,ALPHA_DIGIT:oH+oH.toUpperCase()+pW},mre=(f=16,m=Uj.ALPHA_DIGIT)=>{let y="";const{length:b}=m;for(;f--;)y+=m[Math.random()*b|0];return y};function hre(f){return!!(f&&Dd(f.append)&&f[Symbol.toStringTag]==="FormData"&&f[Symbol.iterator])}const gre=f=>{const m=new Array(10),y=(b,_)=>{if(Q8(b)){if(m.indexOf(b)>=0)return;if(!("toJSON"in b)){m[_]=b;const x=bA(b)?[]:{};return N5(b,(T,O)=>{const L=y(T,_+1);!M5(L)&&(x[O]=L)}),m[_]=void 0,x}}return b};return y(f,0)},pre=cp("AsyncFunction"),bre=f=>f&&(Q8(f)||Dd(f))&&Dd(f.then)&&Dd(f.catch),un={isArray:bA,isArrayBuffer:Nj,isBuffer:Lne,isFormData:Xne,isArrayBufferView:Hne,isString:Vne,isNumber:zj,isBoolean:Une,isObject:Q8,isPlainObject:v8,isUndefined:M5,isDate:Wne,isFile:jne,isBlob:Gne,isRegExp:lre,isFunction:Dd,isStream:Kne,isURLSearchParams:Yne,isTypedArray:are,isFileList:qne,forEach:N5,merge:AH,extend:Zne,trim:Jne,stripBOM:Qne,inherits:ere,toFlatObject:tre,kindOf:J8,kindOfTest:cp,endsWith:nre,toArray:rre,forEachEntry:ore,matchAll:ire,isHTMLForm:ure,hasOwnProperty:gW,hasOwnProp:gW,reduceDescriptors:Vj,freezeMethods:cre,toObjectSet:fre,toCamelCase:sre,noop:vre,toFiniteNumber:dre,findKey:Fj,global:Lj,isContextDefined:Hj,ALPHABET:Uj,generateString:mre,isSpecCompliantForm:hre,toJSONObject:gre,isAsyncFn:pre,isThenable:bre};function to(f,m,y,b,_){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=f,this.name="AxiosError",m&&(this.code=m),y&&(this.config=y),b&&(this.request=b),_&&(this.response=_)}un.inherits(to,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:un.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Wj=to.prototype,jj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(f=>{jj[f]={value:f}});Object.defineProperties(to,jj);Object.defineProperty(Wj,"isAxiosError",{value:!0});to.from=(f,m,y,b,_,x)=>{const T=Object.create(Wj);return un.toFlatObject(f,T,function(L){return L!==Error.prototype},O=>O!=="isAxiosError"),to.call(T,f.message,m,y,b,_),T.cause=f,T.name=f.name,x&&Object.assign(T,x),T};const yre=null;function EH(f){return un.isPlainObject(f)||un.isArray(f)}function Gj(f){return un.endsWith(f,"[]")?f.slice(0,-2):f}function bW(f,m,y){return f?f.concat(m).map(function(_,x){return _=Gj(_),!y&&x?"["+_+"]":_}).join(y?".":""):m}function wre(f){return un.isArray(f)&&!f.some(EH)}const Cre=un.toFlatObject(un,{},null,function(m){return/^is[A-Z]/.test(m)});function e6(f,m,y){if(!un.isObject(f))throw new TypeError("target must be an object");m=m||new FormData,y=un.toFlatObject(y,{metaTokens:!0,dots:!1,indexes:!1},!1,function(q,$e){return!un.isUndefined($e[q])});const b=y.metaTokens,_=y.visitor||I,x=y.dots,T=y.indexes,L=(y.Blob||typeof Blob<"u"&&Blob)&&un.isSpecCompliantForm(m);if(!un.isFunction(_))throw new TypeError("visitor must be a function");function W(Z){if(Z===null)return"";if(un.isDate(Z))return Z.toISOString();if(!L&&un.isBlob(Z))throw new to("Blob is not supported. Use a Buffer instead.");return un.isArrayBuffer(Z)||un.isTypedArray(Z)?L&&typeof Blob=="function"?new Blob([Z]):Buffer.from(Z):Z}function I(Z,q,$e){let me=Z;if(Z&&!$e&&typeof Z=="object"){if(un.endsWith(q,"{}"))q=b?q:q.slice(0,-2),Z=JSON.stringify(Z);else if(un.isArray(Z)&&wre(Z)||(un.isFileList(Z)||un.endsWith(q,"[]"))&&(me=un.toArray(Z)))return q=Gj(q),me.forEach(function(ne,ge){!(un.isUndefined(ne)||ne===null)&&m.append(T===!0?bW([q],ge,x):T===null?q:q+"[]",W(ne))}),!1}return EH(Z)?!0:(m.append(bW($e,q,x),W(Z)),!1)}const H=[],P=Object.assign(Cre,{defaultVisitor:I,convertValue:W,isVisitable:EH});function V(Z,q){if(!un.isUndefined(Z)){if(H.indexOf(Z)!==-1)throw Error("Circular reference detected in "+q.join("."));H.push(Z),un.forEach(Z,function(me,Be){(!(un.isUndefined(me)||me===null)&&_.call(m,me,un.isString(Be)?Be.trim():Be,q,P))===!0&&V(me,q?q.concat(Be):[Be])}),H.pop()}}if(!un.isObject(f))throw new TypeError("data must be an object");return V(f),m}function yW(f){const m={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(f).replace(/[!'()~]|%20|%00/g,function(b){return m[b]})}function QH(f,m){this._pairs=[],f&&e6(f,this,m)}const qj=QH.prototype;qj.append=function(m,y){this._pairs.push([m,y])};qj.toString=function(m){const y=m?function(b){return m.call(this,b,yW)}:yW;return this._pairs.map(function(_){return y(_[0])+"="+y(_[1])},"").join("&")};function _re(f){return encodeURIComponent(f).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kj(f,m,y){if(!m)return f;const b=y&&y.encode||_re,_=y&&y.serialize;let x;if(_?x=_(m,y):x=un.isURLSearchParams(m)?m.toString():new QH(m,y).toString(b),x){const T=f.indexOf("#");T!==-1&&(f=f.slice(0,T)),f+=(f.indexOf("?")===-1?"?":"&")+x}return f}class Sre{constructor(){this.handlers=[]}use(m,y,b){return this.handlers.push({fulfilled:m,rejected:y,synchronous:b?b.synchronous:!1,runWhen:b?b.runWhen:null}),this.handlers.length-1}eject(m){this.handlers[m]&&(this.handlers[m]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(m){un.forEach(this.handlers,function(b){b!==null&&m(b)})}}const wW=Sre,Xj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xre=typeof URLSearchParams<"u"?URLSearchParams:QH,kre=typeof FormData<"u"?FormData:null,Are=typeof Blob<"u"?Blob:null,Ere=(()=>{let f;return typeof navigator<"u"&&((f=navigator.product)==="ReactNative"||f==="NativeScript"||f==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Tre=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),jm={isBrowser:!0,classes:{URLSearchParams:xre,FormData:kre,Blob:Are},isStandardBrowserEnv:Ere,isStandardBrowserWebWorkerEnv:Tre,protocols:["http","https","file","blob","url","data"]};function Ore(f,m){return e6(f,new jm.classes.URLSearchParams,Object.assign({visitor:function(y,b,_,x){return jm.isNode&&un.isBuffer(y)?(this.append(b,y.toString("base64")),!1):x.defaultVisitor.apply(this,arguments)}},m))}function Dre(f){return un.matchAll(/\w+|\[(\w*)]/g,f).map(m=>m[0]==="[]"?"":m[1]||m[0])}function Rre(f){const m={},y=Object.keys(f);let b;const _=y.length;let x;for(b=0;b<_;b++)x=y[b],m[x]=f[x];return m}function Yj(f){function m(y,b,_,x){let T=y[x++];const O=Number.isFinite(+T),L=x>=y.length;return T=!T&&un.isArray(_)?_.length:T,L?(un.hasOwnProp(_,T)?_[T]=[_[T],b]:_[T]=b,!O):((!_[T]||!un.isObject(_[T]))&&(_[T]=[]),m(y,b,_[T],x)&&un.isArray(_[T])&&(_[T]=Rre(_[T])),!O)}if(un.isFormData(f)&&un.isFunction(f.entries)){const y={};return un.forEachEntry(f,(b,_)=>{m(Dre(b),_,y,0)}),y}return null}function $re(f,m,y){if(un.isString(f))try{return(m||JSON.parse)(f),un.trim(f)}catch(b){if(b.name!=="SyntaxError")throw b}return(y||JSON.stringify)(f)}const e9={transitional:Xj,adapter:jm.isNode?"http":"xhr",transformRequest:[function(m,y){const b=y.getContentType()||"",_=b.indexOf("application/json")>-1,x=un.isObject(m);if(x&&un.isHTMLForm(m)&&(m=new FormData(m)),un.isFormData(m))return _&&_?JSON.stringify(Yj(m)):m;if(un.isArrayBuffer(m)||un.isBuffer(m)||un.isStream(m)||un.isFile(m)||un.isBlob(m))return m;if(un.isArrayBufferView(m))return m.buffer;if(un.isURLSearchParams(m))return y.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),m.toString();let O;if(x){if(b.indexOf("application/x-www-form-urlencoded")>-1)return Ore(m,this.formSerializer).toString();if((O=un.isFileList(m))||b.indexOf("multipart/form-data")>-1){const L=this.env&&this.env.FormData;return e6(O?{"files[]":m}:m,L&&new L,this.formSerializer)}}return x||_?(y.setContentType("application/json",!1),$re(m)):m}],transformResponse:[function(m){const y=this.transitional||e9.transitional,b=y&&y.forcedJSONParsing,_=this.responseType==="json";if(m&&un.isString(m)&&(b&&!this.responseType||_)){const T=!(y&&y.silentJSONParsing)&&_;try{return JSON.parse(m)}catch(O){if(T)throw O.name==="SyntaxError"?to.from(O,to.ERR_BAD_RESPONSE,this,null,this.response):O}}return m}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jm.classes.FormData,Blob:jm.classes.Blob},validateStatus:function(m){return m>=200&&m<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};un.forEach(["delete","get","head","post","put","patch"],f=>{e9.headers[f]={}});const t9=e9,Bre=un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mre=f=>{const m={};let y,b,_;return f&&f.split(`
`).forEach(function(T){_=T.indexOf(":"),y=T.substring(0,_).trim().toLowerCase(),b=T.substring(_+1).trim(),!(!y||m[y]&&Bre[y])&&(y==="set-cookie"?m[y]?m[y].push(b):m[y]=[b]:m[y]=m[y]?m[y]+", "+b:b)}),m},CW=Symbol("internals");function b5(f){return f&&String(f).trim().toLowerCase()}function d8(f){return f===!1||f==null?f:un.isArray(f)?f.map(d8):String(f)}function Pre(f){const m=Object.create(null),y=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let b;for(;b=y.exec(f);)m[b[1]]=b[2];return m}const Ire=f=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(f.trim());function iH(f,m,y,b,_){if(un.isFunction(b))return b.call(this,m,y);if(_&&(m=y),!!un.isString(m)){if(un.isString(b))return m.indexOf(b)!==-1;if(un.isRegExp(b))return b.test(m)}}function Nre(f){return f.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(m,y,b)=>y.toUpperCase()+b)}function zre(f,m){const y=un.toCamelCase(" "+m);["get","set","has"].forEach(b=>{Object.defineProperty(f,b+y,{value:function(_,x,T){return this[b].call(this,m,_,x,T)},configurable:!0})})}class t6{constructor(m){m&&this.set(m)}set(m,y,b){const _=this;function x(O,L,W){const I=b5(L);if(!I)throw new Error("header name must be a non-empty string");const H=un.findKey(_,I);(!H||_[H]===void 0||W===!0||W===void 0&&_[H]!==!1)&&(_[H||L]=d8(O))}const T=(O,L)=>un.forEach(O,(W,I)=>x(W,I,L));return un.isPlainObject(m)||m instanceof this.constructor?T(m,y):un.isString(m)&&(m=m.trim())&&!Ire(m)?T(Mre(m),y):m!=null&&x(y,m,b),this}get(m,y){if(m=b5(m),m){const b=un.findKey(this,m);if(b){const _=this[b];if(!y)return _;if(y===!0)return Pre(_);if(un.isFunction(y))return y.call(this,_,b);if(un.isRegExp(y))return y.exec(_);throw new TypeError("parser must be boolean|regexp|function")}}}has(m,y){if(m=b5(m),m){const b=un.findKey(this,m);return!!(b&&this[b]!==void 0&&(!y||iH(this,this[b],b,y)))}return!1}delete(m,y){const b=this;let _=!1;function x(T){if(T=b5(T),T){const O=un.findKey(b,T);O&&(!y||iH(b,b[O],O,y))&&(delete b[O],_=!0)}}return un.isArray(m)?m.forEach(x):x(m),_}clear(m){const y=Object.keys(this);let b=y.length,_=!1;for(;b--;){const x=y[b];(!m||iH(this,this[x],x,m,!0))&&(delete this[x],_=!0)}return _}normalize(m){const y=this,b={};return un.forEach(this,(_,x)=>{const T=un.findKey(b,x);if(T){y[T]=d8(_),delete y[x];return}const O=m?Nre(x):String(x).trim();O!==x&&delete y[x],y[O]=d8(_),b[O]=!0}),this}concat(...m){return this.constructor.concat(this,...m)}toJSON(m){const y=Object.create(null);return un.forEach(this,(b,_)=>{b!=null&&b!==!1&&(y[_]=m&&un.isArray(b)?b.join(", "):b)}),y}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([m,y])=>m+": "+y).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(m){return m instanceof this?m:new this(m)}static concat(m,...y){const b=new this(m);return y.forEach(_=>b.set(_)),b}static accessor(m){const b=(this[CW]=this[CW]={accessors:{}}).accessors,_=this.prototype;function x(T){const O=b5(T);b[O]||(zre(_,T),b[O]=!0)}return un.isArray(m)?m.forEach(x):x(m),this}}t6.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);un.reduceDescriptors(t6.prototype,({value:f},m)=>{let y=m[0].toUpperCase()+m.slice(1);return{get:()=>f,set(b){this[y]=b}}});un.freezeMethods(t6);const ib=t6;function uH(f,m){const y=this||t9,b=m||y,_=ib.from(b.headers);let x=b.data;return un.forEach(f,function(O){x=O.call(y,x,_.normalize(),m?m.status:void 0)}),_.normalize(),x}function Jj(f){return!!(f&&f.__CANCEL__)}function z5(f,m,y){to.call(this,f??"canceled",to.ERR_CANCELED,m,y),this.name="CanceledError"}un.inherits(z5,to,{__CANCEL__:!0});function Fre(f,m,y){const b=y.config.validateStatus;!y.status||!b||b(y.status)?f(y):m(new to("Request failed with status code "+y.status,[to.ERR_BAD_REQUEST,to.ERR_BAD_RESPONSE][Math.floor(y.status/100)-4],y.config,y.request,y))}const Lre=jm.isStandardBrowserEnv?function(){return{write:function(y,b,_,x,T,O){const L=[];L.push(y+"="+encodeURIComponent(b)),un.isNumber(_)&&L.push("expires="+new Date(_).toGMTString()),un.isString(x)&&L.push("path="+x),un.isString(T)&&L.push("domain="+T),O===!0&&L.push("secure"),document.cookie=L.join("; ")},read:function(y){const b=document.cookie.match(new RegExp("(^|;\\s*)("+y+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove:function(y){this.write(y,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Hre(f){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(f)}function Vre(f,m){return m?f.replace(/\/+$/,"")+"/"+m.replace(/^\/+/,""):f}function Zj(f,m){return f&&!Hre(m)?Vre(f,m):m}const Ure=jm.isStandardBrowserEnv?function(){const m=/(msie|trident)/i.test(navigator.userAgent),y=document.createElement("a");let b;function _(x){let T=x;return m&&(y.setAttribute("href",T),T=y.href),y.setAttribute("href",T),{href:y.href,protocol:y.protocol?y.protocol.replace(/:$/,""):"",host:y.host,search:y.search?y.search.replace(/^\?/,""):"",hash:y.hash?y.hash.replace(/^#/,""):"",hostname:y.hostname,port:y.port,pathname:y.pathname.charAt(0)==="/"?y.pathname:"/"+y.pathname}}return b=_(window.location.href),function(T){const O=un.isString(T)?_(T):T;return O.protocol===b.protocol&&O.host===b.host}}():function(){return function(){return!0}}();function Wre(f){const m=/^([-+\w]{1,25})(:?\/\/|:)/.exec(f);return m&&m[1]||""}function jre(f,m){f=f||10;const y=new Array(f),b=new Array(f);let _=0,x=0,T;return m=m!==void 0?m:1e3,function(L){const W=Date.now(),I=b[x];T||(T=W),y[_]=L,b[_]=W;let H=x,P=0;for(;H!==_;)P+=y[H++],H=H%f;if(_=(_+1)%f,_===x&&(x=(x+1)%f),W-T<m)return;const V=I&&W-I;return V?Math.round(P*1e3/V):void 0}}function _W(f,m){let y=0;const b=jre(50,250);return _=>{const x=_.loaded,T=_.lengthComputable?_.total:void 0,O=x-y,L=b(O),W=x<=T;y=x;const I={loaded:x,total:T,progress:T?x/T:void 0,bytes:O,rate:L||void 0,estimated:L&&T&&W?(T-x)/L:void 0,event:_};I[m?"download":"upload"]=!0,f(I)}}const Gre=typeof XMLHttpRequest<"u",qre=Gre&&function(f){return new Promise(function(y,b){let _=f.data;const x=ib.from(f.headers).normalize(),T=f.responseType;let O;function L(){f.cancelToken&&f.cancelToken.unsubscribe(O),f.signal&&f.signal.removeEventListener("abort",O)}un.isFormData(_)&&(jm.isStandardBrowserEnv||jm.isStandardBrowserWebWorkerEnv?x.setContentType(!1):x.setContentType("multipart/form-data;",!1));let W=new XMLHttpRequest;if(f.auth){const V=f.auth.username||"",Z=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";x.set("Authorization","Basic "+btoa(V+":"+Z))}const I=Zj(f.baseURL,f.url);W.open(f.method.toUpperCase(),Kj(I,f.params,f.paramsSerializer),!0),W.timeout=f.timeout;function H(){if(!W)return;const V=ib.from("getAllResponseHeaders"in W&&W.getAllResponseHeaders()),q={data:!T||T==="text"||T==="json"?W.responseText:W.response,status:W.status,statusText:W.statusText,headers:V,config:f,request:W};Fre(function(me){y(me),L()},function(me){b(me),L()},q),W=null}if("onloadend"in W?W.onloadend=H:W.onreadystatechange=function(){!W||W.readyState!==4||W.status===0&&!(W.responseURL&&W.responseURL.indexOf("file:")===0)||setTimeout(H)},W.onabort=function(){W&&(b(new to("Request aborted",to.ECONNABORTED,f,W)),W=null)},W.onerror=function(){b(new to("Network Error",to.ERR_NETWORK,f,W)),W=null},W.ontimeout=function(){let Z=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded";const q=f.transitional||Xj;f.timeoutErrorMessage&&(Z=f.timeoutErrorMessage),b(new to(Z,q.clarifyTimeoutError?to.ETIMEDOUT:to.ECONNABORTED,f,W)),W=null},jm.isStandardBrowserEnv){const V=(f.withCredentials||Ure(I))&&f.xsrfCookieName&&Lre.read(f.xsrfCookieName);V&&x.set(f.xsrfHeaderName,V)}_===void 0&&x.setContentType(null),"setRequestHeader"in W&&un.forEach(x.toJSON(),function(Z,q){W.setRequestHeader(q,Z)}),un.isUndefined(f.withCredentials)||(W.withCredentials=!!f.withCredentials),T&&T!=="json"&&(W.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&W.addEventListener("progress",_W(f.onDownloadProgress,!0)),typeof f.onUploadProgress=="function"&&W.upload&&W.upload.addEventListener("progress",_W(f.onUploadProgress)),(f.cancelToken||f.signal)&&(O=V=>{W&&(b(!V||V.type?new z5(null,f,W):V),W.abort(),W=null)},f.cancelToken&&f.cancelToken.subscribe(O),f.signal&&(f.signal.aborted?O():f.signal.addEventListener("abort",O)));const P=Wre(I);if(P&&jm.protocols.indexOf(P)===-1){b(new to("Unsupported protocol "+P+":",to.ERR_BAD_REQUEST,f));return}W.send(_||null)})},m8={http:yre,xhr:qre};un.forEach(m8,(f,m)=>{if(f){try{Object.defineProperty(f,"name",{value:m})}catch{}Object.defineProperty(f,"adapterName",{value:m})}});const Qj={getAdapter:f=>{f=un.isArray(f)?f:[f];const{length:m}=f;let y,b;for(let _=0;_<m&&(y=f[_],!(b=un.isString(y)?m8[y.toLowerCase()]:y));_++);if(!b)throw b===!1?new to(`Adapter ${y} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(un.hasOwnProp(m8,y)?`Adapter '${y}' is not available in the build`:`Unknown adapter '${y}'`);if(!un.isFunction(b))throw new TypeError("adapter is not a function");return b},adapters:m8};function sH(f){if(f.cancelToken&&f.cancelToken.throwIfRequested(),f.signal&&f.signal.aborted)throw new z5(null,f)}function SW(f){return sH(f),f.headers=ib.from(f.headers),f.data=uH.call(f,f.transformRequest),["post","put","patch"].indexOf(f.method)!==-1&&f.headers.setContentType("application/x-www-form-urlencoded",!1),Qj.getAdapter(f.adapter||t9.adapter)(f).then(function(b){return sH(f),b.data=uH.call(f,f.transformResponse,b),b.headers=ib.from(b.headers),b},function(b){return Jj(b)||(sH(f),b&&b.response&&(b.response.data=uH.call(f,f.transformResponse,b.response),b.response.headers=ib.from(b.response.headers))),Promise.reject(b)})}const xW=f=>f instanceof ib?f.toJSON():f;function hA(f,m){m=m||{};const y={};function b(W,I,H){return un.isPlainObject(W)&&un.isPlainObject(I)?un.merge.call({caseless:H},W,I):un.isPlainObject(I)?un.merge({},I):un.isArray(I)?I.slice():I}function _(W,I,H){if(un.isUndefined(I)){if(!un.isUndefined(W))return b(void 0,W,H)}else return b(W,I,H)}function x(W,I){if(!un.isUndefined(I))return b(void 0,I)}function T(W,I){if(un.isUndefined(I)){if(!un.isUndefined(W))return b(void 0,W)}else return b(void 0,I)}function O(W,I,H){if(H in m)return b(W,I);if(H in f)return b(void 0,W)}const L={url:x,method:x,data:x,baseURL:T,transformRequest:T,transformResponse:T,paramsSerializer:T,timeout:T,timeoutMessage:T,withCredentials:T,adapter:T,responseType:T,xsrfCookieName:T,xsrfHeaderName:T,onUploadProgress:T,onDownloadProgress:T,decompress:T,maxContentLength:T,maxBodyLength:T,beforeRedirect:T,transport:T,httpAgent:T,httpsAgent:T,cancelToken:T,socketPath:T,responseEncoding:T,validateStatus:O,headers:(W,I)=>_(xW(W),xW(I),!0)};return un.forEach(Object.keys(Object.assign({},f,m)),function(I){const H=L[I]||_,P=H(f[I],m[I],I);un.isUndefined(P)&&H!==O||(y[I]=P)}),y}const eG="1.5.0",n9={};["object","boolean","number","function","string","symbol"].forEach((f,m)=>{n9[f]=function(b){return typeof b===f||"a"+(m<1?"n ":" ")+f}});const kW={};n9.transitional=function(m,y,b){function _(x,T){return"[Axios v"+eG+"] Transitional option '"+x+"'"+T+(b?". "+b:"")}return(x,T,O)=>{if(m===!1)throw new to(_(T," has been removed"+(y?" in "+y:"")),to.ERR_DEPRECATED);return y&&!kW[T]&&(kW[T]=!0,console.warn(_(T," has been deprecated since v"+y+" and will be removed in the near future"))),m?m(x,T,O):!0}};function Kre(f,m,y){if(typeof f!="object")throw new to("options must be an object",to.ERR_BAD_OPTION_VALUE);const b=Object.keys(f);let _=b.length;for(;_-- >0;){const x=b[_],T=m[x];if(T){const O=f[x],L=O===void 0||T(O,x,f);if(L!==!0)throw new to("option "+x+" must be "+L,to.ERR_BAD_OPTION_VALUE);continue}if(y!==!0)throw new to("Unknown option "+x,to.ERR_BAD_OPTION)}}const TH={assertOptions:Kre,validators:n9},Yy=TH.validators;class E8{constructor(m){this.defaults=m,this.interceptors={request:new wW,response:new wW}}request(m,y){typeof m=="string"?(y=y||{},y.url=m):y=m||{},y=hA(this.defaults,y);const{transitional:b,paramsSerializer:_,headers:x}=y;b!==void 0&&TH.assertOptions(b,{silentJSONParsing:Yy.transitional(Yy.boolean),forcedJSONParsing:Yy.transitional(Yy.boolean),clarifyTimeoutError:Yy.transitional(Yy.boolean)},!1),_!=null&&(un.isFunction(_)?y.paramsSerializer={serialize:_}:TH.assertOptions(_,{encode:Yy.function,serialize:Yy.function},!0)),y.method=(y.method||this.defaults.method||"get").toLowerCase();let T=x&&un.merge(x.common,x[y.method]);x&&un.forEach(["delete","get","head","post","put","patch","common"],Z=>{delete x[Z]}),y.headers=ib.concat(T,x);const O=[];let L=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(y)===!1||(L=L&&q.synchronous,O.unshift(q.fulfilled,q.rejected))});const W=[];this.interceptors.response.forEach(function(q){W.push(q.fulfilled,q.rejected)});let I,H=0,P;if(!L){const Z=[SW.bind(this),void 0];for(Z.unshift.apply(Z,O),Z.push.apply(Z,W),P=Z.length,I=Promise.resolve(y);H<P;)I=I.then(Z[H++],Z[H++]);return I}P=O.length;let V=y;for(H=0;H<P;){const Z=O[H++],q=O[H++];try{V=Z(V)}catch($e){q.call(this,$e);break}}try{I=SW.call(this,V)}catch(Z){return Promise.reject(Z)}for(H=0,P=W.length;H<P;)I=I.then(W[H++],W[H++]);return I}getUri(m){m=hA(this.defaults,m);const y=Zj(m.baseURL,m.url);return Kj(y,m.params,m.paramsSerializer)}}un.forEach(["delete","get","head","options"],function(m){E8.prototype[m]=function(y,b){return this.request(hA(b||{},{method:m,url:y,data:(b||{}).data}))}});un.forEach(["post","put","patch"],function(m){function y(b){return function(x,T,O){return this.request(hA(O||{},{method:m,headers:b?{"Content-Type":"multipart/form-data"}:{},url:x,data:T}))}}E8.prototype[m]=y(),E8.prototype[m+"Form"]=y(!0)});const h8=E8;class r9{constructor(m){if(typeof m!="function")throw new TypeError("executor must be a function.");let y;this.promise=new Promise(function(x){y=x});const b=this;this.promise.then(_=>{if(!b._listeners)return;let x=b._listeners.length;for(;x-- >0;)b._listeners[x](_);b._listeners=null}),this.promise.then=_=>{let x;const T=new Promise(O=>{b.subscribe(O),x=O}).then(_);return T.cancel=function(){b.unsubscribe(x)},T},m(function(x,T,O){b.reason||(b.reason=new z5(x,T,O),y(b.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(m){if(this.reason){m(this.reason);return}this._listeners?this._listeners.push(m):this._listeners=[m]}unsubscribe(m){if(!this._listeners)return;const y=this._listeners.indexOf(m);y!==-1&&this._listeners.splice(y,1)}static source(){let m;return{token:new r9(function(_){m=_}),cancel:m}}}const Xre=r9;function Yre(f){return function(y){return f.apply(null,y)}}function Jre(f){return un.isObject(f)&&f.isAxiosError===!0}const OH={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(OH).forEach(([f,m])=>{OH[m]=f});const Zre=OH;function tG(f){const m=new h8(f),y=Ij(h8.prototype.request,m);return un.extend(y,h8.prototype,m,{allOwnKeys:!0}),un.extend(y,m,null,{allOwnKeys:!0}),y.create=function(_){return tG(hA(f,_))},y}const Yu=tG(t9);Yu.Axios=h8;Yu.CanceledError=z5;Yu.CancelToken=Xre;Yu.isCancel=Jj;Yu.VERSION=eG;Yu.toFormData=e6;Yu.AxiosError=to;Yu.Cancel=Yu.CanceledError;Yu.all=function(m){return Promise.all(m)};Yu.spread=Yre;Yu.isAxiosError=Jre;Yu.mergeConfig=hA;Yu.AxiosHeaders=ib;Yu.formToJSON=f=>Yj(un.isHTMLForm(f)?new FormData(f):f);Yu.getAdapter=Qj.getAdapter;Yu.HttpStatusCode=Zre;Yu.default=Yu;const Dn=Yu;const Qre={class:"full"},eae={class:"login-container"},tae={class:"login-content"},nae=F("img",{src:xj,width:"200"},null,-1),rae=F("p",null,"Bitte melden Sie sich an.",-1),aae={key:0,class:"spin-loading"},oae={key:1},iae={__name:"Login",setup(f){const m=xt(""),y=xt(""),b=xt(!1),_=()=>{b.value=!0,Dn.post("/auth/login",{email:m.value,password:y.value}).then(x=>{b.value=!1,sessionStorage.setItem("token",x.data.token),x.data.role&&x.data.role==="guide"?(sessionStorage.setItem("role","guide"),sessionStorage.setItem("guideId",x.data.guide_id),window.location.href="/profile/"+x.data.guide_id):window.location.href="/"}).catch(x=>{b.value=!1,console.log(x),window.alert(x.response.data.message||"Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")})};return za(()=>{document.addEventListener("keydown",x=>{x.key==="Enter"&&_()})}),(x,T)=>(Ke(),Ye("main",Qre,[F("div",eae,[F("div",tae,[nae,rae,Nn(F("input",{type:"email",placeholder:"Email","onUpdate:modelValue":T[0]||(T[0]=O=>m.value=O)},null,512),[[Un,m.value]]),Nn(F("input",{type:"password",placeholder:"Passwort","onUpdate:modelValue":T[1]||(T[1]=O=>y.value=O)},null,512),[[Un,y.value]]),F("button",{class:"button-primary",onClick:_},[b.value?(Ke(),Ye("span",aae)):(Ke(),Ye("span",oae,"Anmelden"))])])])]))}};const lb=(f,m)=>{const y=f.__vccOpts||f;for(const[b,_]of m)y[b]=_;return y},Tv=f=>(V_("data-v-917b8e2f"),f=f(),U_(),f),uae={key:1},sae=Tv(()=>F("div",{class:"header-content"},[F("img",{alt:"Vue logo",class:"logo",src:xj,width:"60"})],-1)),lae=[sae],cae={key:2,class:"content-container"},fae={key:0,class:"sidebar"},vae={class:"wrapper"},dae=Tv(()=>F("img",{src:Ote,width:"25",height:"25"},null,-1)),mae=Tv(()=>F("img",{src:Dte,width:"25",height:"25"},null,-1)),hae=Tv(()=>F("img",{src:Rte,width:"25",height:"25"},null,-1)),gae=Tv(()=>F("img",{src:$te,width:"25",height:"25"},null,-1)),pae=Tv(()=>F("img",{src:Bte,width:"25",height:"25"},null,-1)),bae=Tv(()=>F("img",{src:Mte,width:"25",height:"25"},null,-1)),yae=Tv(()=>F("img",{src:Pte,width:"25",height:"25"},null,-1)),wae=Tv(()=>F("img",{src:Ite,width:"25",height:"25"},null,-1)),Cae=Tv(()=>F("img",{src:XH,width:"25",height:"25"},null,-1)),_ae=Tv(()=>F("img",{src:XH,width:"25",height:"25"},null,-1)),Sae=Tv(()=>F("img",{src:XH,width:"25",height:"25"},null,-1)),xae=Tv(()=>F("img",{src:Nte,width:"25",height:"25"},null,-1)),kae={__name:"App",setup(f){const m=xt(!1),y=xt(!1),b=()=>{const _=sessionStorage.getItem("token"),x=sessionStorage.getItem("role");_?(x==="guide"&&(y.value=!0),m.value=!0):m.value=!1};return setInterval(()=>{b()},60*1e3),Zm(()=>{b()}),(_,x)=>(Ke(),Ye(Er,null,[m.value?Tr("",!0):(Ke(),Ym(iae,{key:0})),m.value?(Ke(),Ye("header",uae,lae)):Tr("",!0),m.value?(Ke(),Ye("div",cae,[y.value?Tr("",!0):(Ke(),Ye("div",fae,[F("div",vae,[it(So($c),{to:"/touren",class:"navigation-link"},{default:It(()=>[dae,Ar(" Touren ")]),_:1}),it(So($c),{to:"/guides",class:"navigation-link"},{default:It(()=>[mae,Ar(" Guides ")]),_:1}),it(So($c),{to:"/sprachen",class:"navigation-link"},{default:It(()=>[hae,Ar(" Sprachen ")]),_:1}),it(So($c),{to:"/mobilitaet",class:"navigation-link"},{default:It(()=>[gae,Ar(" Mobilität ")]),_:1}),it(So($c),{to:"/orte",class:"navigation-link"},{default:It(()=>[pae,Ar(" Orte ")]),_:1}),it(So($c),{to:"/kategorien",class:"navigation-link"},{default:It(()=>[bae,Ar(" Kategorie ")]),_:1}),it(So($c),{to:"/zertifikate",class:"navigation-link"},{default:It(()=>[yae,Ar(" Zertifikate ")]),_:1}),it(So($c),{to:"/skills",class:"navigation-link"},{default:It(()=>[wae,Ar(" Themen ")]),_:1}),it(So($c),{to:"/pages",class:"navigation-link"},{default:It(()=>[Cae,Ar(" Seiten ")]),_:1}),it(So($c),{to:"/blog",class:"navigation-link"},{default:It(()=>[_ae,Ar(" Aktuelles ")]),_:1}),it(So($c),{to:"/startseite",class:"navigation-link"},{default:It(()=>[Sae,Ar(" Startseite ")]),_:1}),it(So($c),{to:"/verwaltung",class:"navigation-link align-bottom"},{default:It(()=>[xae,Ar(" Benutzerverwaltung ")]),_:1})])])),m.value?(Ke(),Ym(So(Pj),{key:1,class:I5(y.value?"guideContent":"view")},null,8,["class"])):Tr("",!0)])):Tr("",!0)],64))}},Aae=lb(kae,[["__scopeId","data-v-917b8e2f"]]),Rd="/assets/edit-cf18a27b.svg",Of="/assets/delete-8c83b779.svg";const Eae=f=>(V_("data-v-9042802d"),f=f(),U_(),f),Tae={class:"input-container"},Oae={class:"align-end"},Dae={key:0},Rae={class:"align-end"},$ae={key:1},Bae=["colspan"],Mae=Eae(()=>F("span",{class:"loader"},null,-1)),Pae={key:2},Iae=["colspan"],Nae={__name:"IDLTable",props:{tableData:{type:Array,required:!0},tableColumns:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(f){const m=f,y=xt(""),b=Yi(()=>m.tableData.filter(x=>Object.values(x).some(T=>String(T).toLowerCase().includes(y.value.toLowerCase())))),_=x=>typeof x=="boolean"?x?"Ja":"Nein":typeof x=="number"?x===0?"Nein":"Ja":(x==="created_at"||x==="updated_at")&&new Date(x).getTime()>0?new Date(x).toLocaleString("de-DE"):x==="draft"?"Entwurf":x==="published"?"Veröffentlicht":x;return(x,T)=>(Ke(),Ye("div",null,[F("div",Tae,[Nn(F("input",{type:"search","onUpdate:modelValue":T[0]||(T[0]=O=>y.value=O),placeholder:"Suche"},null,512),[[Un,y.value]])]),F("table",null,[F("thead",null,[F("tr",null,[(Ke(!0),Ye(Er,null,Ia(f.tableColumns,O=>(Ke(),Ye("th",{key:O.key},Kn(O.title),1))),128)),F("th",Oae,[gH(x.$slots,"actions",{},void 0,!0)])])]),b.value.length>0?(Ke(),Ye("tbody",Dae,[(Ke(!0),Ye(Er,null,Ia(b.value,O=>(Ke(),Ye("tr",{key:O.id},[(Ke(!0),Ye(Er,null,Ia(f.tableColumns,L=>(Ke(),Ye("td",{key:L.key},Kn(_(O[L.key])),1))),128)),F("td",Rae,[gH(x.$slots,"tableActions",{row:O},void 0,!0)])]))),128))])):f.loading?(Ke(),Ye("tbody",$ae,[F("tr",null,[F("td",{colspan:f.tableColumns.length+1},[Mae,Ar("Lade Daten... ")],8,Bae)])])):(Ke(),Ye("tbody",Pae,[F("tr",null,[F("td",{colspan:b.value.length+1},"Keine Daten vorhanden",8,Iae)])]))])]))}},eh=lb(Nae,[["__scopeId","data-v-9042802d"]]),zae={class:"row"},Fae=F("h1",null,"Alle Touren",-1),Lae=F("hr",{class:"divider"},null,-1),Hae=F("img",{src:Rd,width:"20"},null,-1),Vae=["onClick"],Uae=F("img",{src:Of,width:"20"},null,-1),Wae=[Uae],jae={__name:"Overview",setup(f){const m=xt([]),y=xt(!1),b=xt([{key:"name",title:"Name"},{key:"status",title:"Status"},{key:"is_public",title:"Öffentliche Tour"},{key:"updated_at",title:"zuletzt aktualisiert"}]),_=()=>{y.value=!0,Dn.get("/tours?preview=true&per_page=200&status=all").then(T=>{y.value=!1,m.value=T.data.tours.data}).catch(T=>{y.value=!1,T.response.status===401?sessionStorage.removeItem("token"):(console.log(T),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut."))})},x=T=>{const O=m.value.find(L=>L.id===T).name;window.confirm(`Möchtest du die Tour "${O}" wirklich löschen?`)&&Dn.delete(`/tours/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(L=>{console.log(L),_()}).catch(L=>{console.log(L),L.response.status===401?sessionStorage.removeItem("token"):(console.log(L),window.alert("Die Tour konnte nicht gelöscht werden. Bitte versuche es erneut."))})};return za(()=>{_()}),(T,O)=>{const L=Na("router-link"),W=Na("RouterLink");return Ke(),Ye("main",null,[F("div",zae,[Fae,it(L,{to:"/tour-erstellen",class:"button-primary"},{default:It(()=>[Ar("Tour hinzufügen")]),_:1})]),Lae,it(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:It(()=>[Ar(" Aktionen ")]),tableActions:It(I=>[it(W,{to:`/tour-bearbeiten/${I.row.id}`},{default:It(()=>[Hae]),_:2},1032,["to"]),F("button",{onClick:H=>x(I.row.id)},Wae,8,Vae)]),_:1},8,["tableData","tableColumns","loading"])])}}};function Gae(f,m){return m.forEach(function(y){y&&typeof y!="string"&&!Array.isArray(y)&&Object.keys(y).forEach(function(b){if(b!=="default"&&!(b in f)){var _=Object.getOwnPropertyDescriptor(y,b);Object.defineProperty(f,b,_.get?_:{enumerable:!0,get:function(){return y[b]}})}})}),Object.freeze(f)}function nG(f,m){return new Promise(function(y,b){let _;return qae(f).then(function(x){try{return _=x,y(new Blob([m.slice(0,2),_,m.slice(2)],{type:"image/jpeg"}))}catch(T){return b(T)}},b)})}const qae=f=>new Promise((m,y)=>{const b=new FileReader;b.addEventListener("load",({target:{result:_}})=>{const x=new DataView(_);let T=0;if(x.getUint16(T)!==65496)return y("not a valid JPEG");for(T+=2;;){const O=x.getUint16(T);if(O===65498)break;const L=x.getUint16(T+2);if(O===65505&&x.getUint32(T+4)===1165519206){const W=T+10;let I;switch(x.getUint16(W)){case 18761:I=!0;break;case 19789:I=!1;break;default:return y("TIFF header contains invalid endian")}if(x.getUint16(W+2,I)!==42)return y("TIFF header contains invalid version");const H=x.getUint32(W+4,I),P=W+H+2+12*x.getUint16(W+H,I);for(let V=W+H+2;V<P;V+=12)if(x.getUint16(V,I)==274){if(x.getUint16(V+2,I)!==3)return y("Orientation data type is invalid");if(x.getUint32(V+4,I)!==1)return y("Orientation data count is invalid");x.setUint16(V+8,1,I);break}return m(_.slice(T,T+2+L))}T+=2+L}return m(new Blob)}),b.readAsArrayBuffer(f)});var T8={},Kae={get exports(){return T8},set exports(f){T8=f}};(function(f){var m,y,b={};Kae.exports=b,b.parse=function(_,x){for(var T=b.bin.readUshort,O=b.bin.readUint,L=0,W={},I=new Uint8Array(_),H=I.length-4;O(I,H)!=101010256;)H--;L=H,L+=4;var P=T(I,L+=4);T(I,L+=2);var V=O(I,L+=2),Z=O(I,L+=4);L+=4,L=Z;for(var q=0;q<P;q++){O(I,L),L+=4,L+=4,L+=4,O(I,L+=4),V=O(I,L+=4);var $e=O(I,L+=4),me=T(I,L+=4),Be=T(I,L+2),ne=T(I,L+4);L+=6;var ge=O(I,L+=8);L+=4,L+=me+Be+ne,b._readLocal(I,ge,W,V,$e,x)}return W},b._readLocal=function(_,x,T,O,L,W){var I=b.bin.readUshort,H=b.bin.readUint;H(_,x),I(_,x+=4),I(_,x+=2);var P=I(_,x+=2);H(_,x+=2),H(_,x+=4),x+=4;var V=I(_,x+=8),Z=I(_,x+=2);x+=2;var q=b.bin.readUTF8(_,x,V);if(x+=V,x+=Z,W)T[q]={size:L,csize:O};else{var $e=new Uint8Array(_.buffer,x);if(P==0)T[q]=new Uint8Array($e.buffer.slice(x,x+O));else{if(P!=8)throw"unknown compression method: "+P;var me=new Uint8Array(L);b.inflateRaw($e,me),T[q]=me}}},b.inflateRaw=function(_,x){return b.F.inflate(_,x)},b.inflate=function(_,x){return _[0],_[1],b.inflateRaw(new Uint8Array(_.buffer,_.byteOffset+2,_.length-6),x)},b.deflate=function(_,x){x==null&&(x={level:6});var T=0,O=new Uint8Array(50+Math.floor(1.1*_.length));O[T]=120,O[T+1]=156,T+=2,T=b.F.deflateRaw(_,O,T,x.level);var L=b.adler(_,0,_.length);return O[T+0]=L>>>24&255,O[T+1]=L>>>16&255,O[T+2]=L>>>8&255,O[T+3]=L>>>0&255,new Uint8Array(O.buffer,0,T+4)},b.deflateRaw=function(_,x){x==null&&(x={level:6});var T=new Uint8Array(50+Math.floor(1.1*_.length)),O=b.F.deflateRaw(_,T,O,x.level);return new Uint8Array(T.buffer,0,O)},b.encode=function(_,x){x==null&&(x=!1);var T=0,O=b.bin.writeUint,L=b.bin.writeUshort,W={};for(var I in _){var H=!b._noNeed(I)&&!x,P=_[I],V=b.crc.crc(P,0,P.length);W[I]={cpr:H,usize:P.length,crc:V,file:H?b.deflateRaw(P):P}}for(var I in W)T+=W[I].file.length+30+46+2*b.bin.sizeUTF8(I);T+=22;var Z=new Uint8Array(T),q=0,$e=[];for(var I in W){var me=W[I];$e.push(q),q=b._writeHeader(Z,q,I,me,0)}var Be=0,ne=q;for(var I in W)me=W[I],$e.push(q),q=b._writeHeader(Z,q,I,me,1,$e[Be++]);var ge=q-ne;return O(Z,q,101010256),q+=4,L(Z,q+=4,Be),L(Z,q+=2,Be),O(Z,q+=2,ge),O(Z,q+=4,ne),q+=4,q+=2,Z.buffer},b._noNeed=function(_){var x=_.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(x)!=-1},b._writeHeader=function(_,x,T,O,L,W){var I=b.bin.writeUint,H=b.bin.writeUshort,P=O.file;return I(_,x,L==0?67324752:33639248),x+=4,L==1&&(x+=2),H(_,x,20),H(_,x+=2,0),H(_,x+=2,O.cpr?8:0),I(_,x+=2,0),I(_,x+=4,O.crc),I(_,x+=4,P.length),I(_,x+=4,O.usize),H(_,x+=4,b.bin.sizeUTF8(T)),H(_,x+=2,0),x+=2,L==1&&(x+=2,x+=2,I(_,x+=6,W),x+=4),x+=b.bin.writeUTF8(_,x,T),L==0&&(_.set(P,x),x+=P.length),x},b.crc={table:function(){for(var _=new Uint32Array(256),x=0;x<256;x++){for(var T=x,O=0;O<8;O++)1&T?T=3988292384^T>>>1:T>>>=1;_[x]=T}return _}(),update:function(_,x,T,O){for(var L=0;L<O;L++)_=b.crc.table[255&(_^x[T+L])]^_>>>8;return _},crc:function(_,x,T){return 4294967295^b.crc.update(4294967295,_,x,T)}},b.adler=function(_,x,T){for(var O=1,L=0,W=x,I=x+T;W<I;){for(var H=Math.min(W+5552,I);W<H;)L+=O+=_[W++];O%=65521,L%=65521}return L<<16|O},b.bin={readUshort:function(_,x){return _[x]|_[x+1]<<8},writeUshort:function(_,x,T){_[x]=255&T,_[x+1]=T>>8&255},readUint:function(_,x){return 16777216*_[x+3]+(_[x+2]<<16|_[x+1]<<8|_[x])},writeUint:function(_,x,T){_[x]=255&T,_[x+1]=T>>8&255,_[x+2]=T>>16&255,_[x+3]=T>>24&255},readASCII:function(_,x,T){for(var O="",L=0;L<T;L++)O+=String.fromCharCode(_[x+L]);return O},writeASCII:function(_,x,T){for(var O=0;O<T.length;O++)_[x+O]=T.charCodeAt(O)},pad:function(_){return _.length<2?"0"+_:_},readUTF8:function(_,x,T){for(var O,L="",W=0;W<T;W++)L+="%"+b.bin.pad(_[x+W].toString(16));try{O=decodeURIComponent(L)}catch{return b.bin.readASCII(_,x,T)}return O},writeUTF8:function(_,x,T){for(var O=T.length,L=0,W=0;W<O;W++){var I=T.charCodeAt(W);if(!(4294967168&I))_[x+L]=I,L++;else if(!(4294965248&I))_[x+L]=192|I>>6,_[x+L+1]=128|I>>0&63,L+=2;else if(!(4294901760&I))_[x+L]=224|I>>12,_[x+L+1]=128|I>>6&63,_[x+L+2]=128|I>>0&63,L+=3;else{if(4292870144&I)throw"e";_[x+L]=240|I>>18,_[x+L+1]=128|I>>12&63,_[x+L+2]=128|I>>6&63,_[x+L+3]=128|I>>0&63,L+=4}}return L},sizeUTF8:function(_){for(var x=_.length,T=0,O=0;O<x;O++){var L=_.charCodeAt(O);if(!(4294967168&L))T++;else if(!(4294965248&L))T+=2;else if(!(4294901760&L))T+=3;else{if(4292870144&L)throw"e";T+=4}}return T}},b.F={},b.F.deflateRaw=function(_,x,T,O){var L=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][O],W=b.F.U,I=b.F._goodIndex;b.F._hash;var H=b.F._putsE,P=0,V=T<<3,Z=0,q=_.length;if(O==0){for(;P<q;)H(x,V,P+(Ue=Math.min(65535,q-P))==q?1:0),V=b.F._copyExact(_,P,Ue,x,V+8),P+=Ue;return V>>>3}var $e=W.lits,me=W.strt,Be=W.prev,ne=0,ge=0,De=0,Se=0,We=0,se=0;for(q>2&&(me[se=b.F._hash(_,0)]=0),P=0;P<q;P++){if(We=se,P+1<q-2){se=b.F._hash(_,P+1);var ce=P+1&32767;Be[ce]=me[se],me[se]=ce}if(Z<=P){(ne>14e3||ge>26697)&&q-P>100&&(Z<P&&($e[ne]=P-Z,ne+=2,Z=P),V=b.F._writeBlock(P==q-1||Z==q?1:0,$e,ne,Se,_,De,P-De,x,V),ne=ge=Se=0,De=P);var Ee=0;P<q-2&&(Ee=b.F._bestMatch(_,P,Be,We,Math.min(L[2],q-P),L[3]));var Ue=Ee>>>16,re=65535&Ee;if(Ee!=0){re=65535&Ee;var j=I(Ue=Ee>>>16,W.of0);W.lhst[257+j]++;var ke=I(re,W.df0);W.dhst[ke]++,Se+=W.exb[j]+W.dxb[ke],$e[ne]=Ue<<23|P-Z,$e[ne+1]=re<<16|j<<8|ke,ne+=2,Z=P+Ue}else W.lhst[_[P]]++;ge++}}for(De==P&&_.length!=0||(Z<P&&($e[ne]=P-Z,ne+=2,Z=P),V=b.F._writeBlock(1,$e,ne,Se,_,De,P-De,x,V),ne=0,ge=0,ne=ge=Se=0,De=P);7&V;)V++;return V>>>3},b.F._bestMatch=function(_,x,T,O,L,W){var I=32767&x,H=T[I],P=I-H+32768&32767;if(H==I||O!=b.F._hash(_,x-P))return 0;for(var V=0,Z=0,q=Math.min(32767,x);P<=q&&--W!=0&&H!=I;){if(V==0||_[x+V]==_[x+V-P]){var $e=b.F._howLong(_,x,P);if($e>V){if(Z=P,(V=$e)>=L)break;P+2<$e&&($e=P+2);for(var me=0,Be=0;Be<$e-2;Be++){var ne=x-P+Be+32768&32767,ge=ne-T[ne]+32768&32767;ge>me&&(me=ge,H=ne)}}}P+=(I=H)-(H=T[I])+32768&32767}return V<<16|Z},b.F._howLong=function(_,x,T){if(_[x]!=_[x-T]||_[x+1]!=_[x+1-T]||_[x+2]!=_[x+2-T])return 0;var O=x,L=Math.min(_.length,x+258);for(x+=3;x<L&&_[x]==_[x-T];)x++;return x-O},b.F._hash=function(_,x){return(_[x]<<8|_[x+1])+(_[x+2]<<4)&65535},b.saved=0,b.F._writeBlock=function(_,x,T,O,L,W,I,H,P){var V,Z,q,$e,me,Be,ne,ge,De,Se=b.F.U,We=b.F._putsF,se=b.F._putsE;Se.lhst[256]++,Z=(V=b.F.getTrees())[0],q=V[1],$e=V[2],me=V[3],Be=V[4],ne=V[5],ge=V[6],De=V[7];var ce=32+(P+3&7?8-(P+3&7):0)+(I<<3),Ee=O+b.F.contSize(Se.fltree,Se.lhst)+b.F.contSize(Se.fdtree,Se.dhst),Ue=O+b.F.contSize(Se.ltree,Se.lhst)+b.F.contSize(Se.dtree,Se.dhst);Ue+=14+3*ne+b.F.contSize(Se.itree,Se.ihst)+(2*Se.ihst[16]+3*Se.ihst[17]+7*Se.ihst[18]);for(var re=0;re<286;re++)Se.lhst[re]=0;for(re=0;re<30;re++)Se.dhst[re]=0;for(re=0;re<19;re++)Se.ihst[re]=0;var j=ce<Ee&&ce<Ue?0:Ee<Ue?1:2;if(We(H,P,_),We(H,P+1,j),P+=3,j==0){for(;7&P;)P++;P=b.F._copyExact(L,W,I,H,P)}else{var ke,rt;if(j==1&&(ke=Se.fltree,rt=Se.fdtree),j==2){b.F.makeCodes(Se.ltree,Z),b.F.revCodes(Se.ltree,Z),b.F.makeCodes(Se.dtree,q),b.F.revCodes(Se.dtree,q),b.F.makeCodes(Se.itree,$e),b.F.revCodes(Se.itree,$e),ke=Se.ltree,rt=Se.dtree,se(H,P,me-257),se(H,P+=5,Be-1),se(H,P+=5,ne-4),P+=4;for(var le=0;le<ne;le++)se(H,P+3*le,Se.itree[1+(Se.ordr[le]<<1)]);P+=3*ne,P=b.F._codeTiny(ge,Se.itree,H,P),P=b.F._codeTiny(De,Se.itree,H,P)}for(var be=W,st=0;st<T;st+=2){for(var B=x[st],kt=B>>>23,at=be+(8388607&B);be<at;)P=b.F._writeLit(L[be++],ke,H,P);if(kt!=0){var ot=x[st+1],An=ot>>16,cn=ot>>8&255,ct=255&ot;se(H,P=b.F._writeLit(257+cn,ke,H,P),kt-Se.of0[cn]),P+=Se.exb[cn],We(H,P=b.F._writeLit(ct,rt,H,P),An-Se.df0[ct]),P+=Se.dxb[ct],be+=kt}}P=b.F._writeLit(256,ke,H,P)}return P},b.F._copyExact=function(_,x,T,O,L){var W=L>>>3;return O[W]=T,O[W+1]=T>>>8,O[W+2]=255-O[W],O[W+3]=255-O[W+1],W+=4,O.set(new Uint8Array(_.buffer,x,T),W),L+(T+4<<3)},b.F.getTrees=function(){for(var _=b.F.U,x=b.F._hufTree(_.lhst,_.ltree,15),T=b.F._hufTree(_.dhst,_.dtree,15),O=[],L=b.F._lenCodes(_.ltree,O),W=[],I=b.F._lenCodes(_.dtree,W),H=0;H<O.length;H+=2)_.ihst[O[H]]++;for(H=0;H<W.length;H+=2)_.ihst[W[H]]++;for(var P=b.F._hufTree(_.ihst,_.itree,7),V=19;V>4&&_.itree[1+(_.ordr[V-1]<<1)]==0;)V--;return[x,T,P,L,I,V,O,W]},b.F.getSecond=function(_){for(var x=[],T=0;T<_.length;T+=2)x.push(_[T+1]);return x},b.F.nonZero=function(_){for(var x="",T=0;T<_.length;T+=2)_[T+1]!=0&&(x+=(T>>1)+",");return x},b.F.contSize=function(_,x){for(var T=0,O=0;O<x.length;O++)T+=x[O]*_[1+(O<<1)];return T},b.F._codeTiny=function(_,x,T,O){for(var L=0;L<_.length;L+=2){var W=_[L],I=_[L+1];O=b.F._writeLit(W,x,T,O);var H=W==16?2:W==17?3:7;W>15&&(b.F._putsE(T,O,I,H),O+=H)}return O},b.F._lenCodes=function(_,x){for(var T=_.length;T!=2&&_[T-1]==0;)T-=2;for(var O=0;O<T;O+=2){var L=_[O+1],W=O+3<T?_[O+3]:-1,I=O+5<T?_[O+5]:-1,H=O==0?-1:_[O-1];if(L==0&&W==L&&I==L){for(var P=O+5;P+2<T&&_[P+2]==L;)P+=2;(V=Math.min(P+1-O>>>1,138))<11?x.push(17,V-3):x.push(18,V-11),O+=2*V-2}else if(L==H&&W==L&&I==L){for(P=O+5;P+2<T&&_[P+2]==L;)P+=2;var V=Math.min(P+1-O>>>1,6);x.push(16,V-3),O+=2*V-2}else x.push(L,0)}return T>>>1},b.F._hufTree=function(_,x,T){var O=[],L=_.length,W=x.length,I=0;for(I=0;I<W;I+=2)x[I]=0,x[I+1]=0;for(I=0;I<L;I++)_[I]!=0&&O.push({lit:I,f:_[I]});var H=O.length,P=O.slice(0);if(H==0)return 0;if(H==1){var V=O[0].lit;return P=V==0?1:0,x[1+(V<<1)]=1,x[1+(P<<1)]=1,1}O.sort(function(ge,De){return ge.f-De.f});var Z=O[0],q=O[1],$e=0,me=1,Be=2;for(O[0]={lit:-1,f:Z.f+q.f,l:Z,r:q,d:0};me!=H-1;)Z=$e!=me&&(Be==H||O[$e].f<O[Be].f)?O[$e++]:O[Be++],q=$e!=me&&(Be==H||O[$e].f<O[Be].f)?O[$e++]:O[Be++],O[me++]={lit:-1,f:Z.f+q.f,l:Z,r:q};var ne=b.F.setDepth(O[me-1],0);for(ne>T&&(b.F.restrictDepth(P,T,ne),ne=T),I=0;I<H;I++)x[1+(P[I].lit<<1)]=P[I].d;return ne},b.F.setDepth=function(_,x){return _.lit!=-1?(_.d=x,x):Math.max(b.F.setDepth(_.l,x+1),b.F.setDepth(_.r,x+1))},b.F.restrictDepth=function(_,x,T){var O=0,L=1<<T-x,W=0;for(_.sort(function(H,P){return P.d==H.d?H.f-P.f:P.d-H.d}),O=0;O<_.length&&_[O].d>x;O++){var I=_[O].d;_[O].d=x,W+=L-(1<<T-I)}for(W>>>=T-x;W>0;)(I=_[O].d)<x?(_[O].d++,W-=1<<x-I-1):O++;for(;O>=0;O--)_[O].d==x&&W<0&&(_[O].d--,W++);W!=0&&console.log("debt left")},b.F._goodIndex=function(_,x){var T=0;return x[16|T]<=_&&(T|=16),x[8|T]<=_&&(T|=8),x[4|T]<=_&&(T|=4),x[2|T]<=_&&(T|=2),x[1|T]<=_&&(T|=1),T},b.F._writeLit=function(_,x,T,O){return b.F._putsF(T,O,x[_<<1]),O+x[1+(_<<1)]},b.F.inflate=function(_,x){var T=Uint8Array;if(_[0]==3&&_[1]==0)return x||new T(0);var O=b.F,L=O._bitsF,W=O._bitsE,I=O._decodeTiny,H=O.makeCodes,P=O.codes2map,V=O._get17,Z=O.U,q=x==null;q&&(x=new T(_.length>>>2<<3));for(var $e,me,Be=0,ne=0,ge=0,De=0,Se=0,We=0,se=0,ce=0,Ee=0;Be==0;)if(Be=L(_,Ee,1),ne=L(_,Ee+1,2),Ee+=3,ne!=0){if(q&&(x=b.F._check(x,ce+(1<<17))),ne==1&&($e=Z.flmap,me=Z.fdmap,We=511,se=31),ne==2){ge=W(_,Ee,5)+257,De=W(_,Ee+5,5)+1,Se=W(_,Ee+10,4)+4,Ee+=14;for(var Ue=0;Ue<38;Ue+=2)Z.itree[Ue]=0,Z.itree[Ue+1]=0;var re=1;for(Ue=0;Ue<Se;Ue++){var j=W(_,Ee+3*Ue,3);Z.itree[1+(Z.ordr[Ue]<<1)]=j,j>re&&(re=j)}Ee+=3*Se,H(Z.itree,re),P(Z.itree,re,Z.imap),$e=Z.lmap,me=Z.dmap,Ee=I(Z.imap,(1<<re)-1,ge+De,_,Ee,Z.ttree);var ke=O._copyOut(Z.ttree,0,ge,Z.ltree);We=(1<<ke)-1;var rt=O._copyOut(Z.ttree,ge,De,Z.dtree);se=(1<<rt)-1,H(Z.ltree,ke),P(Z.ltree,ke,$e),H(Z.dtree,rt),P(Z.dtree,rt,me)}for(;;){var le=$e[V(_,Ee)&We];Ee+=15&le;var be=le>>>4;if(!(be>>>8))x[ce++]=be;else{if(be==256)break;var st=ce+be-254;if(be>264){var B=Z.ldef[be-257];st=ce+(B>>>3)+W(_,Ee,7&B),Ee+=7&B}var kt=me[V(_,Ee)&se];Ee+=15&kt;var at=kt>>>4,ot=Z.ddef[at],An=(ot>>>4)+L(_,Ee,15&ot);for(Ee+=15&ot,q&&(x=b.F._check(x,ce+(1<<17)));ce<st;)x[ce]=x[ce++-An],x[ce]=x[ce++-An],x[ce]=x[ce++-An],x[ce]=x[ce++-An];ce=st}}}else{7&Ee&&(Ee+=8-(7&Ee));var cn=4+(Ee>>>3),ct=_[cn-4]|_[cn-3]<<8;q&&(x=b.F._check(x,ce+ct)),x.set(new T(_.buffer,_.byteOffset+cn,ct),ce),Ee=cn+ct<<3,ce+=ct}return x.length==ce?x:x.slice(0,ce)},b.F._check=function(_,x){var T=_.length;if(x<=T)return _;var O=new Uint8Array(Math.max(T<<1,x));return O.set(_,0),O},b.F._decodeTiny=function(_,x,T,O,L,W){for(var I=b.F._bitsE,H=b.F._get17,P=0;P<T;){var V=_[H(O,L)&x];L+=15&V;var Z=V>>>4;if(Z<=15)W[P]=Z,P++;else{var q=0,$e=0;Z==16?($e=3+I(O,L,2),L+=2,q=W[P-1]):Z==17?($e=3+I(O,L,3),L+=3):Z==18&&($e=11+I(O,L,7),L+=7);for(var me=P+$e;P<me;)W[P]=q,P++}}return L},b.F._copyOut=function(_,x,T,O){for(var L=0,W=0,I=O.length>>>1;W<T;){var H=_[W+x];O[W<<1]=0,O[1+(W<<1)]=H,H>L&&(L=H),W++}for(;W<I;)O[W<<1]=0,O[1+(W<<1)]=0,W++;return L},b.F.makeCodes=function(_,x){for(var T,O,L,W,I=b.F.U,H=_.length,P=I.bl_count,V=0;V<=x;V++)P[V]=0;for(V=1;V<H;V+=2)P[_[V]]++;var Z=I.next_code;for(T=0,P[0]=0,O=1;O<=x;O++)T=T+P[O-1]<<1,Z[O]=T;for(L=0;L<H;L+=2)(W=_[L+1])!=0&&(_[L]=Z[W],Z[W]++)},b.F.codes2map=function(_,x,T){for(var O=_.length,L=b.F.U.rev15,W=0;W<O;W+=2)if(_[W+1]!=0)for(var I=W>>1,H=_[W+1],P=I<<4|H,V=x-H,Z=_[W]<<V,q=Z+(1<<V);Z!=q;)T[L[Z]>>>15-x]=P,Z++},b.F.revCodes=function(_,x){for(var T=b.F.U.rev15,O=15-x,L=0;L<_.length;L+=2){var W=_[L]<<x-_[L+1];_[L]=T[W]>>>O}},b.F._putsE=function(_,x,T){T<<=7&x;var O=x>>>3;_[O]|=T,_[O+1]|=T>>>8},b.F._putsF=function(_,x,T){T<<=7&x;var O=x>>>3;_[O]|=T,_[O+1]|=T>>>8,_[O+2]|=T>>>16},b.F._bitsE=function(_,x,T){return(_[x>>>3]|_[1+(x>>>3)]<<8)>>>(7&x)&(1<<T)-1},b.F._bitsF=function(_,x,T){return(_[x>>>3]|_[1+(x>>>3)]<<8|_[2+(x>>>3)]<<16)>>>(7&x)&(1<<T)-1},b.F._get17=function(_,x){return(_[x>>>3]|_[1+(x>>>3)]<<8|_[2+(x>>>3)]<<16)>>>(7&x)},b.F._get25=function(_,x){return(_[x>>>3]|_[1+(x>>>3)]<<8|_[2+(x>>>3)]<<16|_[3+(x>>>3)]<<24)>>>(7&x)},b.F.U=(m=Uint16Array,y=Uint32Array,{next_code:new m(16),bl_count:new m(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new m(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new y(32),flmap:new m(512),fltree:[],fdmap:new m(32),fdtree:[],lmap:new m(32768),ltree:[],ttree:[],dmap:new m(32768),dtree:[],imap:new m(512),itree:[],rev15:new m(32768),lhst:new y(286),dhst:new y(30),ihst:new y(19),lits:new y(15e3),strt:new m(65536),prev:new m(32768)}),function(){for(var _=b.F.U,x=0;x<32768;x++){var T=x;T=(4278255360&(T=(4042322160&(T=(3435973836&(T=(2863311530&T)>>>1|(1431655765&T)<<1))>>>2|(858993459&T)<<2))>>>4|(252645135&T)<<4))>>>8|(16711935&T)<<8,_.rev15[x]=(T>>>16|T<<16)>>>17}function O(L,W,I){for(;W--!=0;)L.push(0,I)}for(x=0;x<32;x++)_.ldef[x]=_.of0[x]<<3|_.exb[x],_.ddef[x]=_.df0[x]<<4|_.dxb[x];O(_.fltree,144,8),O(_.fltree,112,9),O(_.fltree,24,7),O(_.fltree,8,8),b.F.makeCodes(_.fltree,9),b.F.codes2map(_.fltree,9,_.flmap),b.F.revCodes(_.fltree,9),O(_.fdtree,32,5),b.F.makeCodes(_.fdtree,5),b.F.codes2map(_.fdtree,5,_.fdmap),b.F.revCodes(_.fdtree,5),O(_.itree,19,0),O(_.ltree,286,0),O(_.dtree,30,0),O(_.ttree,320,0)}()})();var Xae=Gae({__proto__:null,default:T8},[T8]);const Hm=function(){var f={nextZero(I,H){for(;I[H]!=0;)H++;return H},readUshort:(I,H)=>I[H]<<8|I[H+1],writeUshort(I,H,P){I[H]=P>>8&255,I[H+1]=255&P},readUint:(I,H)=>16777216*I[H]+(I[H+1]<<16|I[H+2]<<8|I[H+3]),writeUint(I,H,P){I[H]=P>>24&255,I[H+1]=P>>16&255,I[H+2]=P>>8&255,I[H+3]=255&P},readASCII(I,H,P){let V="";for(let Z=0;Z<P;Z++)V+=String.fromCharCode(I[H+Z]);return V},writeASCII(I,H,P){for(let V=0;V<P.length;V++)I[H+V]=P.charCodeAt(V)},readBytes(I,H,P){const V=[];for(let Z=0;Z<P;Z++)V.push(I[H+Z]);return V},pad:I=>I.length<2?`0${I}`:I,readUTF8(I,H,P){let V,Z="";for(let q=0;q<P;q++)Z+=`%${f.pad(I[H+q].toString(16))}`;try{V=decodeURIComponent(Z)}catch{return f.readASCII(I,H,P)}return V}};function m(I,H,P,V){const Z=H*P,q=x(V),$e=Math.ceil(H*q/8),me=new Uint8Array(4*Z),Be=new Uint32Array(me.buffer),{ctype:ne}=V,{depth:ge}=V,De=f.readUshort;if(ne==6){const B=Z<<2;if(ge==8)for(var Se=0;Se<B;Se+=4)me[Se]=I[Se],me[Se+1]=I[Se+1],me[Se+2]=I[Se+2],me[Se+3]=I[Se+3];if(ge==16)for(Se=0;Se<B;Se++)me[Se]=I[Se<<1]}else if(ne==2){const B=V.tabs.tRNS;if(B==null){if(ge==8)for(Se=0;Se<Z;Se++){var We=3*Se;Be[Se]=255<<24|I[We+2]<<16|I[We+1]<<8|I[We]}if(ge==16)for(Se=0;Se<Z;Se++)We=6*Se,Be[Se]=255<<24|I[We+4]<<16|I[We+2]<<8|I[We]}else{var se=B[0];const kt=B[1],at=B[2];if(ge==8)for(Se=0;Se<Z;Se++){var ce=Se<<2;We=3*Se,Be[Se]=255<<24|I[We+2]<<16|I[We+1]<<8|I[We],I[We]==se&&I[We+1]==kt&&I[We+2]==at&&(me[ce+3]=0)}if(ge==16)for(Se=0;Se<Z;Se++)ce=Se<<2,We=6*Se,Be[Se]=255<<24|I[We+4]<<16|I[We+2]<<8|I[We],De(I,We)==se&&De(I,We+2)==kt&&De(I,We+4)==at&&(me[ce+3]=0)}}else if(ne==3){const B=V.tabs.PLTE,kt=V.tabs.tRNS,at=kt?kt.length:0;if(ge==1)for(var Ee=0;Ee<P;Ee++){var Ue=Ee*$e,re=Ee*H;for(Se=0;Se<H;Se++){ce=re+Se<<2;var j=3*(ke=I[Ue+(Se>>3)]>>7-((7&Se)<<0)&1);me[ce]=B[j],me[ce+1]=B[j+1],me[ce+2]=B[j+2],me[ce+3]=ke<at?kt[ke]:255}}if(ge==2)for(Ee=0;Ee<P;Ee++)for(Ue=Ee*$e,re=Ee*H,Se=0;Se<H;Se++)ce=re+Se<<2,j=3*(ke=I[Ue+(Se>>2)]>>6-((3&Se)<<1)&3),me[ce]=B[j],me[ce+1]=B[j+1],me[ce+2]=B[j+2],me[ce+3]=ke<at?kt[ke]:255;if(ge==4)for(Ee=0;Ee<P;Ee++)for(Ue=Ee*$e,re=Ee*H,Se=0;Se<H;Se++)ce=re+Se<<2,j=3*(ke=I[Ue+(Se>>1)]>>4-((1&Se)<<2)&15),me[ce]=B[j],me[ce+1]=B[j+1],me[ce+2]=B[j+2],me[ce+3]=ke<at?kt[ke]:255;if(ge==8)for(Se=0;Se<Z;Se++){var ke;ce=Se<<2,j=3*(ke=I[Se]),me[ce]=B[j],me[ce+1]=B[j+1],me[ce+2]=B[j+2],me[ce+3]=ke<at?kt[ke]:255}}else if(ne==4){if(ge==8)for(Se=0;Se<Z;Se++){ce=Se<<2;var rt=I[le=Se<<1];me[ce]=rt,me[ce+1]=rt,me[ce+2]=rt,me[ce+3]=I[le+1]}if(ge==16)for(Se=0;Se<Z;Se++){var le;ce=Se<<2,rt=I[le=Se<<2],me[ce]=rt,me[ce+1]=rt,me[ce+2]=rt,me[ce+3]=I[le+2]}}else if(ne==0)for(se=V.tabs.tRNS?V.tabs.tRNS:-1,Ee=0;Ee<P;Ee++){const B=Ee*$e,kt=Ee*H;if(ge==1)for(var be=0;be<H;be++){var st=(rt=255*(I[B+(be>>>3)]>>>7-(7&be)&1))==255*se?0:255;Be[kt+be]=st<<24|rt<<16|rt<<8|rt}else if(ge==2)for(be=0;be<H;be++)st=(rt=85*(I[B+(be>>>2)]>>>6-((3&be)<<1)&3))==85*se?0:255,Be[kt+be]=st<<24|rt<<16|rt<<8|rt;else if(ge==4)for(be=0;be<H;be++)st=(rt=17*(I[B+(be>>>1)]>>>4-((1&be)<<2)&15))==17*se?0:255,Be[kt+be]=st<<24|rt<<16|rt<<8|rt;else if(ge==8)for(be=0;be<H;be++)st=(rt=I[B+be])==se?0:255,Be[kt+be]=st<<24|rt<<16|rt<<8|rt;else if(ge==16)for(be=0;be<H;be++)rt=I[B+(be<<1)],st=De(I,B+(be<<1))==se?0:255,Be[kt+be]=st<<24|rt<<16|rt<<8|rt}return me}function y(I,H,P,V){const Z=x(I),q=Math.ceil(P*Z/8),$e=new Uint8Array((q+1+I.interlace)*V);return H=I.tabs.CgBI?_(H,$e):b(H,$e),I.interlace==0?H=T(H,I,0,P,V):I.interlace==1&&(H=function(Be,ne){const ge=ne.width,De=ne.height,Se=x(ne),We=Se>>3,se=Math.ceil(ge*Se/8),ce=new Uint8Array(De*se);let Ee=0;const Ue=[0,0,4,0,2,0,1],re=[0,4,0,2,0,1,0],j=[8,8,8,4,4,2,2],ke=[8,8,4,4,2,2,1];let rt=0;for(;rt<7;){const be=j[rt],st=ke[rt];let B=0,kt=0,at=Ue[rt];for(;at<De;)at+=be,kt++;let ot=re[rt];for(;ot<ge;)ot+=st,B++;const An=Math.ceil(B*Se/8);T(Be,ne,Ee,B,kt);let cn=0,ct=Ue[rt];for(;ct<De;){let _n=re[rt],te=Ee+cn*An<<3;for(;_n<ge;){var le;if(Se==1&&(le=(le=Be[te>>3])>>7-(7&te)&1,ce[ct*se+(_n>>3)]|=le<<7-((7&_n)<<0)),Se==2&&(le=(le=Be[te>>3])>>6-(7&te)&3,ce[ct*se+(_n>>2)]|=le<<6-((3&_n)<<1)),Se==4&&(le=(le=Be[te>>3])>>4-(7&te)&15,ce[ct*se+(_n>>1)]|=le<<4-((1&_n)<<2)),Se>=8){const fn=ct*se+_n*We;for(let Ve=0;Ve<We;Ve++)ce[fn+Ve]=Be[(te>>3)+Ve]}te+=Se,_n+=st}cn++,ct+=be}B*kt!=0&&(Ee+=kt*(1+An)),rt+=1}return ce}(H,I)),H}function b(I,H){return _(new Uint8Array(I.buffer,2,I.length-6),H)}var _=function(){const I={H:{}};return I.H.N=function(H,P){const V=Uint8Array;let Z,q,$e=0,me=0,Be=0,ne=0,ge=0,De=0,Se=0,We=0,se=0;if(H[0]==3&&H[1]==0)return P||new V(0);const ce=I.H,Ee=ce.b,Ue=ce.e,re=ce.R,j=ce.n,ke=ce.A,rt=ce.Z,le=ce.m,be=P==null;for(be&&(P=new V(H.length>>>2<<5));$e==0;)if($e=Ee(H,se,1),me=Ee(H,se+1,2),se+=3,me!=0){if(be&&(P=I.H.W(P,We+(1<<17))),me==1&&(Z=le.J,q=le.h,De=511,Se=31),me==2){Be=Ue(H,se,5)+257,ne=Ue(H,se+5,5)+1,ge=Ue(H,se+10,4)+4,se+=14;let B=1;for(var st=0;st<38;st+=2)le.Q[st]=0,le.Q[st+1]=0;for(st=0;st<ge;st++){const ot=Ue(H,se+3*st,3);le.Q[1+(le.X[st]<<1)]=ot,ot>B&&(B=ot)}se+=3*ge,j(le.Q,B),ke(le.Q,B,le.u),Z=le.w,q=le.d,se=re(le.u,(1<<B)-1,Be+ne,H,se,le.v);const kt=ce.V(le.v,0,Be,le.C);De=(1<<kt)-1;const at=ce.V(le.v,Be,ne,le.D);Se=(1<<at)-1,j(le.C,kt),ke(le.C,kt,Z),j(le.D,at),ke(le.D,at,q)}for(;;){const B=Z[rt(H,se)&De];se+=15&B;const kt=B>>>4;if(!(kt>>>8))P[We++]=kt;else{if(kt==256)break;{let at=We+kt-254;if(kt>264){const _n=le.q[kt-257];at=We+(_n>>>3)+Ue(H,se,7&_n),se+=7&_n}const ot=q[rt(H,se)&Se];se+=15&ot;const An=ot>>>4,cn=le.c[An],ct=(cn>>>4)+Ee(H,se,15&cn);for(se+=15&cn;We<at;)P[We]=P[We++-ct],P[We]=P[We++-ct],P[We]=P[We++-ct],P[We]=P[We++-ct];We=at}}}}else{7&se&&(se+=8-(7&se));const B=4+(se>>>3),kt=H[B-4]|H[B-3]<<8;be&&(P=I.H.W(P,We+kt)),P.set(new V(H.buffer,H.byteOffset+B,kt),We),se=B+kt<<3,We+=kt}return P.length==We?P:P.slice(0,We)},I.H.W=function(H,P){const V=H.length;if(P<=V)return H;const Z=new Uint8Array(V<<1);return Z.set(H,0),Z},I.H.R=function(H,P,V,Z,q,$e){const me=I.H.e,Be=I.H.Z;let ne=0;for(;ne<V;){const ge=H[Be(Z,q)&P];q+=15&ge;const De=ge>>>4;if(De<=15)$e[ne]=De,ne++;else{let Se=0,We=0;De==16?(We=3+me(Z,q,2),q+=2,Se=$e[ne-1]):De==17?(We=3+me(Z,q,3),q+=3):De==18&&(We=11+me(Z,q,7),q+=7);const se=ne+We;for(;ne<se;)$e[ne]=Se,ne++}}return q},I.H.V=function(H,P,V,Z){let q=0,$e=0;const me=Z.length>>>1;for(;$e<V;){const Be=H[$e+P];Z[$e<<1]=0,Z[1+($e<<1)]=Be,Be>q&&(q=Be),$e++}for(;$e<me;)Z[$e<<1]=0,Z[1+($e<<1)]=0,$e++;return q},I.H.n=function(H,P){const V=I.H.m,Z=H.length;let q,$e,me,Be;const ne=V.j;for(var ge=0;ge<=P;ge++)ne[ge]=0;for(ge=1;ge<Z;ge+=2)ne[H[ge]]++;const De=V.K;for(q=0,ne[0]=0,$e=1;$e<=P;$e++)q=q+ne[$e-1]<<1,De[$e]=q;for(me=0;me<Z;me+=2)Be=H[me+1],Be!=0&&(H[me]=De[Be],De[Be]++)},I.H.A=function(H,P,V){const Z=H.length,q=I.H.m.r;for(let $e=0;$e<Z;$e+=2)if(H[$e+1]!=0){const me=$e>>1,Be=H[$e+1],ne=me<<4|Be,ge=P-Be;let De=H[$e]<<ge;const Se=De+(1<<ge);for(;De!=Se;)V[q[De]>>>15-P]=ne,De++}},I.H.l=function(H,P){const V=I.H.m.r,Z=15-P;for(let q=0;q<H.length;q+=2){const $e=H[q]<<P-H[q+1];H[q]=V[$e]>>>Z}},I.H.M=function(H,P,V){V<<=7&P;const Z=P>>>3;H[Z]|=V,H[Z+1]|=V>>>8},I.H.I=function(H,P,V){V<<=7&P;const Z=P>>>3;H[Z]|=V,H[Z+1]|=V>>>8,H[Z+2]|=V>>>16},I.H.e=function(H,P,V){return(H[P>>>3]|H[1+(P>>>3)]<<8)>>>(7&P)&(1<<V)-1},I.H.b=function(H,P,V){return(H[P>>>3]|H[1+(P>>>3)]<<8|H[2+(P>>>3)]<<16)>>>(7&P)&(1<<V)-1},I.H.Z=function(H,P){return(H[P>>>3]|H[1+(P>>>3)]<<8|H[2+(P>>>3)]<<16)>>>(7&P)},I.H.i=function(H,P){return(H[P>>>3]|H[1+(P>>>3)]<<8|H[2+(P>>>3)]<<16|H[3+(P>>>3)]<<24)>>>(7&P)},I.H.m=function(){const H=Uint16Array,P=Uint32Array;return{K:new H(16),j:new H(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new H(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new P(32),J:new H(512),_:[],h:new H(32),$:[],w:new H(32768),C:[],v:[],d:new H(32768),D:[],u:new H(512),Q:[],r:new H(32768),s:new P(286),Y:new P(30),a:new P(19),t:new P(15e3),k:new H(65536),g:new H(32768)}}(),function(){const H=I.H.m;for(var P=0;P<32768;P++){let Z=P;Z=(2863311530&Z)>>>1|(1431655765&Z)<<1,Z=(3435973836&Z)>>>2|(858993459&Z)<<2,Z=(4042322160&Z)>>>4|(252645135&Z)<<4,Z=(4278255360&Z)>>>8|(16711935&Z)<<8,H.r[P]=(Z>>>16|Z<<16)>>>17}function V(Z,q,$e){for(;q--!=0;)Z.push(0,$e)}for(P=0;P<32;P++)H.q[P]=H.S[P]<<3|H.T[P],H.c[P]=H.p[P]<<4|H.z[P];V(H._,144,8),V(H._,112,9),V(H._,24,7),V(H._,8,8),I.H.n(H._,9),I.H.A(H._,9,H.J),I.H.l(H._,9),V(H.$,32,5),I.H.n(H.$,5),I.H.A(H.$,5,H.h),I.H.l(H.$,5),V(H.Q,19,0),V(H.C,286,0),V(H.D,30,0),V(H.v,320,0)}(),I.H.N}();function x(I){return[1,null,3,1,2,null,4][I.ctype]*I.depth}function T(I,H,P,V,Z){let q=x(H);const $e=Math.ceil(V*q/8);let me,Be;q=Math.ceil(q/8);let ne=I[P],ge=0;if(ne>1&&(I[P]=[0,0,1][ne-2]),ne==3)for(ge=q;ge<$e;ge++)I[ge+1]=I[ge+1]+(I[ge+1-q]>>>1)&255;for(let De=0;De<Z;De++)if(me=P+De*$e,Be=me+De+1,ne=I[Be-1],ge=0,ne==0)for(;ge<$e;ge++)I[me+ge]=I[Be+ge];else if(ne==1){for(;ge<q;ge++)I[me+ge]=I[Be+ge];for(;ge<$e;ge++)I[me+ge]=I[Be+ge]+I[me+ge-q]}else if(ne==2)for(;ge<$e;ge++)I[me+ge]=I[Be+ge]+I[me+ge-$e];else if(ne==3){for(;ge<q;ge++)I[me+ge]=I[Be+ge]+(I[me+ge-$e]>>>1);for(;ge<$e;ge++)I[me+ge]=I[Be+ge]+(I[me+ge-$e]+I[me+ge-q]>>>1)}else{for(;ge<q;ge++)I[me+ge]=I[Be+ge]+O(0,I[me+ge-$e],0);for(;ge<$e;ge++)I[me+ge]=I[Be+ge]+O(I[me+ge-q],I[me+ge-$e],I[me+ge-q-$e])}return I}function O(I,H,P){const V=I+H-P,Z=V-I,q=V-H,$e=V-P;return Z*Z<=q*q&&Z*Z<=$e*$e?I:q*q<=$e*$e?H:P}function L(I,H,P){P.width=f.readUint(I,H),H+=4,P.height=f.readUint(I,H),H+=4,P.depth=I[H],H++,P.ctype=I[H],H++,P.compress=I[H],H++,P.filter=I[H],H++,P.interlace=I[H],H++}function W(I,H,P,V,Z,q,$e,me,Be){const ne=Math.min(H,Z),ge=Math.min(P,q);let De=0,Se=0;for(let rt=0;rt<ge;rt++)for(let le=0;le<ne;le++)if($e>=0&&me>=0?(De=rt*H+le<<2,Se=(me+rt)*Z+$e+le<<2):(De=(-me+rt)*H-$e+le<<2,Se=rt*Z+le<<2),Be==0)V[Se]=I[De],V[Se+1]=I[De+1],V[Se+2]=I[De+2],V[Se+3]=I[De+3];else if(Be==1){var We=I[De+3]*.00392156862745098,se=I[De]*We,ce=I[De+1]*We,Ee=I[De+2]*We,Ue=V[Se+3]*(1/255),re=V[Se]*Ue,j=V[Se+1]*Ue,ke=V[Se+2]*Ue;const be=1-We,st=We+Ue*be,B=st==0?0:1/st;V[Se+3]=255*st,V[Se+0]=(se+re*be)*B,V[Se+1]=(ce+j*be)*B,V[Se+2]=(Ee+ke*be)*B}else if(Be==2)We=I[De+3],se=I[De],ce=I[De+1],Ee=I[De+2],Ue=V[Se+3],re=V[Se],j=V[Se+1],ke=V[Se+2],We==Ue&&se==re&&ce==j&&Ee==ke?(V[Se]=0,V[Se+1]=0,V[Se+2]=0,V[Se+3]=0):(V[Se]=se,V[Se+1]=ce,V[Se+2]=Ee,V[Se+3]=We);else if(Be==3){if(We=I[De+3],se=I[De],ce=I[De+1],Ee=I[De+2],Ue=V[Se+3],re=V[Se],j=V[Se+1],ke=V[Se+2],We==Ue&&se==re&&ce==j&&Ee==ke)continue;if(We<220&&Ue>20)return!1}return!0}return{decode:function(H){const P=new Uint8Array(H);let V=8;const Z=f,q=Z.readUshort,$e=Z.readUint,me={tabs:{},frames:[]},Be=new Uint8Array(P.length);let ne,ge=0,De=0;const Se=[137,80,78,71,13,10,26,10];for(var We=0;We<8;We++)if(P[We]!=Se[We])throw"The input is not a PNG file!";for(;V<P.length;){const rt=Z.readUint(P,V);V+=4;const le=Z.readASCII(P,V,4);if(V+=4,le=="IHDR")L(P,V,me);else if(le=="iCCP"){for(var se=V;P[se]!=0;)se++;Z.readASCII(P,V,se-V),P[se+1];const be=P.slice(se+2,V+rt);let st=null;try{st=b(be)}catch{st=_(be)}me.tabs[le]=st}else if(le=="CgBI")me.tabs[le]=P.slice(V,V+4);else if(le=="IDAT"){for(We=0;We<rt;We++)Be[ge+We]=P[V+We];ge+=rt}else if(le=="acTL")me.tabs[le]={num_frames:$e(P,V),num_plays:$e(P,V+4)},ne=new Uint8Array(P.length);else if(le=="fcTL"){De!=0&&((ke=me.frames[me.frames.length-1]).data=y(me,ne.slice(0,De),ke.rect.width,ke.rect.height),De=0);const be={x:$e(P,V+12),y:$e(P,V+16),width:$e(P,V+4),height:$e(P,V+8)};let st=q(P,V+22);st=q(P,V+20)/(st==0?100:st);const B={rect:be,delay:Math.round(1e3*st),dispose:P[V+24],blend:P[V+25]};me.frames.push(B)}else if(le=="fdAT"){for(We=0;We<rt-4;We++)ne[De+We]=P[V+We+4];De+=rt-4}else if(le=="pHYs")me.tabs[le]=[Z.readUint(P,V),Z.readUint(P,V+4),P[V+8]];else if(le=="cHRM")for(me.tabs[le]=[],We=0;We<8;We++)me.tabs[le].push(Z.readUint(P,V+4*We));else if(le=="tEXt"||le=="zTXt"){me.tabs[le]==null&&(me.tabs[le]={});var ce=Z.nextZero(P,V),Ee=Z.readASCII(P,V,ce-V),Ue=V+rt-ce-1;if(le=="tEXt")j=Z.readASCII(P,ce+1,Ue);else{var re=b(P.slice(ce+2,ce+2+Ue));j=Z.readUTF8(re,0,re.length)}me.tabs[le][Ee]=j}else if(le=="iTXt"){me.tabs[le]==null&&(me.tabs[le]={}),ce=0,se=V,ce=Z.nextZero(P,se),Ee=Z.readASCII(P,se,ce-se);const be=P[se=ce+1];var j;P[se+1],se+=2,ce=Z.nextZero(P,se),Z.readASCII(P,se,ce-se),se=ce+1,ce=Z.nextZero(P,se),Z.readUTF8(P,se,ce-se),Ue=rt-((se=ce+1)-V),be==0?j=Z.readUTF8(P,se,Ue):(re=b(P.slice(se,se+Ue)),j=Z.readUTF8(re,0,re.length)),me.tabs[le][Ee]=j}else if(le=="PLTE")me.tabs[le]=Z.readBytes(P,V,rt);else if(le=="hIST"){const be=me.tabs.PLTE.length/3;for(me.tabs[le]=[],We=0;We<be;We++)me.tabs[le].push(q(P,V+2*We))}else if(le=="tRNS")me.ctype==3?me.tabs[le]=Z.readBytes(P,V,rt):me.ctype==0?me.tabs[le]=q(P,V):me.ctype==2&&(me.tabs[le]=[q(P,V),q(P,V+2),q(P,V+4)]);else if(le=="gAMA")me.tabs[le]=Z.readUint(P,V)/1e5;else if(le=="sRGB")me.tabs[le]=P[V];else if(le=="bKGD")me.ctype==0||me.ctype==4?me.tabs[le]=[q(P,V)]:me.ctype==2||me.ctype==6?me.tabs[le]=[q(P,V),q(P,V+2),q(P,V+4)]:me.ctype==3&&(me.tabs[le]=P[V]);else if(le=="IEND")break;V+=rt,Z.readUint(P,V),V+=4}var ke;return De!=0&&((ke=me.frames[me.frames.length-1]).data=y(me,ne.slice(0,De),ke.rect.width,ke.rect.height)),me.data=y(me,Be,me.width,me.height),delete me.compress,delete me.interlace,delete me.filter,me},toRGBA8:function(H){const P=H.width,V=H.height;if(H.tabs.acTL==null)return[m(H.data,P,V,H).buffer];const Z=[];H.frames[0].data==null&&(H.frames[0].data=H.data);const q=P*V*4,$e=new Uint8Array(q),me=new Uint8Array(q),Be=new Uint8Array(q);for(let ge=0;ge<H.frames.length;ge++){const De=H.frames[ge],Se=De.rect.x,We=De.rect.y,se=De.rect.width,ce=De.rect.height,Ee=m(De.data,se,ce,H);if(ge!=0)for(var ne=0;ne<q;ne++)Be[ne]=$e[ne];if(De.blend==0?W(Ee,se,ce,$e,P,V,Se,We,0):De.blend==1&&W(Ee,se,ce,$e,P,V,Se,We,1),Z.push($e.buffer.slice(0)),De.dispose!=0){if(De.dispose==1)W(me,se,ce,$e,P,V,Se,We,0);else if(De.dispose==2)for(ne=0;ne<q;ne++)$e[ne]=Be[ne]}}return Z},_paeth:O,_copyTile:W,_bin:f}}();(function(){const{_copyTile:f}=Hm,{_bin:m}=Hm,y=Hm._paeth;var b={table:function(){const se=new Uint32Array(256);for(let ce=0;ce<256;ce++){let Ee=ce;for(let Ue=0;Ue<8;Ue++)1&Ee?Ee=3988292384^Ee>>>1:Ee>>>=1;se[ce]=Ee}return se}(),update(se,ce,Ee,Ue){for(let re=0;re<Ue;re++)se=b.table[255&(se^ce[Ee+re])]^se>>>8;return se},crc:(se,ce,Ee)=>4294967295^b.update(4294967295,se,ce,Ee)};function _(se,ce,Ee,Ue){ce[Ee]+=se[0]*Ue>>4,ce[Ee+1]+=se[1]*Ue>>4,ce[Ee+2]+=se[2]*Ue>>4,ce[Ee+3]+=se[3]*Ue>>4}function x(se){return Math.max(0,Math.min(255,se))}function T(se,ce){const Ee=se[0]-ce[0],Ue=se[1]-ce[1],re=se[2]-ce[2],j=se[3]-ce[3];return Ee*Ee+Ue*Ue+re*re+j*j}function O(se,ce,Ee,Ue,re,j,ke){ke==null&&(ke=1);const rt=Ue.length,le=[];for(var be=0;be<rt;be++){const ct=Ue[be];le.push([ct>>>0&255,ct>>>8&255,ct>>>16&255,ct>>>24&255])}for(be=0;be<rt;be++){let ct=4294967295;for(var st=0,B=0;B<rt;B++){var kt=T(le[be],le[B]);B!=be&&kt<ct&&(ct=kt,st=B)}}const at=new Uint32Array(re.buffer),ot=new Int16Array(ce*Ee*4),An=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(be=0;be<An.length;be++)An[be]=255*((An[be]+.5)/16-.5);for(let ct=0;ct<Ee;ct++)for(let _n=0;_n<ce;_n++){var cn;be=4*(ct*ce+_n),ke!=2?cn=[x(se[be]+ot[be]),x(se[be+1]+ot[be+1]),x(se[be+2]+ot[be+2]),x(se[be+3]+ot[be+3])]:(kt=An[4*(3&ct)+(3&_n)],cn=[x(se[be]+kt),x(se[be+1]+kt),x(se[be+2]+kt),x(se[be+3]+kt)]),st=0;let te=16777215;for(B=0;B<rt;B++){const pt=T(cn,le[B]);pt<te&&(te=pt,st=B)}const fn=le[st],Ve=[cn[0]-fn[0],cn[1]-fn[1],cn[2]-fn[2],cn[3]-fn[3]];ke==1&&(_n!=ce-1&&_(Ve,ot,be+4,7),ct!=Ee-1&&(_n!=0&&_(Ve,ot,be+4*ce-4,3),_(Ve,ot,be+4*ce,5),_n!=ce-1&&_(Ve,ot,be+4*ce+4,1))),j[be>>2]=st,at[be>>2]=Ue[st]}}function L(se,ce,Ee,Ue,re){re==null&&(re={});const{crc:j}=b,ke=m.writeUint,rt=m.writeUshort,le=m.writeASCII;let be=8;const st=se.frames.length>1;let B,kt=!1,at=33+(st?20:0);if(re.sRGB!=null&&(at+=13),re.pHYs!=null&&(at+=21),re.iCCP!=null&&(B=pako.deflate(re.iCCP),at+=21+B.length+4),se.ctype==3){for(var ot=se.plte.length,An=0;An<ot;An++)se.plte[An]>>>24!=255&&(kt=!0);at+=8+3*ot+4+(kt?8+1*ot+4:0)}for(var cn=0;cn<se.frames.length;cn++)st&&(at+=38),at+=(fn=se.frames[cn]).cimg.length+12,cn!=0&&(at+=4);at+=12;const ct=new Uint8Array(at),_n=[137,80,78,71,13,10,26,10];for(An=0;An<8;An++)ct[An]=_n[An];if(ke(ct,be,13),be+=4,le(ct,be,"IHDR"),be+=4,ke(ct,be,ce),be+=4,ke(ct,be,Ee),be+=4,ct[be]=se.depth,be++,ct[be]=se.ctype,be++,ct[be]=0,be++,ct[be]=0,be++,ct[be]=0,be++,ke(ct,be,j(ct,be-17,17)),be+=4,re.sRGB!=null&&(ke(ct,be,1),be+=4,le(ct,be,"sRGB"),be+=4,ct[be]=re.sRGB,be++,ke(ct,be,j(ct,be-5,5)),be+=4),re.iCCP!=null){const Ve=13+B.length;ke(ct,be,Ve),be+=4,le(ct,be,"iCCP"),be+=4,le(ct,be,"ICC profile"),be+=11,be+=2,ct.set(B,be),be+=B.length,ke(ct,be,j(ct,be-(Ve+4),Ve+4)),be+=4}if(re.pHYs!=null&&(ke(ct,be,9),be+=4,le(ct,be,"pHYs"),be+=4,ke(ct,be,re.pHYs[0]),be+=4,ke(ct,be,re.pHYs[1]),be+=4,ct[be]=re.pHYs[2],be++,ke(ct,be,j(ct,be-13,13)),be+=4),st&&(ke(ct,be,8),be+=4,le(ct,be,"acTL"),be+=4,ke(ct,be,se.frames.length),be+=4,ke(ct,be,re.loop!=null?re.loop:0),be+=4,ke(ct,be,j(ct,be-12,12)),be+=4),se.ctype==3){for(ke(ct,be,3*(ot=se.plte.length)),be+=4,le(ct,be,"PLTE"),be+=4,An=0;An<ot;An++){const Ve=3*An,pt=se.plte[An],Jn=255&pt,Te=pt>>>8&255,Ae=pt>>>16&255;ct[be+Ve+0]=Jn,ct[be+Ve+1]=Te,ct[be+Ve+2]=Ae}if(be+=3*ot,ke(ct,be,j(ct,be-3*ot-4,3*ot+4)),be+=4,kt){for(ke(ct,be,ot),be+=4,le(ct,be,"tRNS"),be+=4,An=0;An<ot;An++)ct[be+An]=se.plte[An]>>>24&255;be+=ot,ke(ct,be,j(ct,be-ot-4,ot+4)),be+=4}}let te=0;for(cn=0;cn<se.frames.length;cn++){var fn=se.frames[cn];st&&(ke(ct,be,26),be+=4,le(ct,be,"fcTL"),be+=4,ke(ct,be,te++),be+=4,ke(ct,be,fn.rect.width),be+=4,ke(ct,be,fn.rect.height),be+=4,ke(ct,be,fn.rect.x),be+=4,ke(ct,be,fn.rect.y),be+=4,rt(ct,be,Ue[cn]),be+=2,rt(ct,be,1e3),be+=2,ct[be]=fn.dispose,be++,ct[be]=fn.blend,be++,ke(ct,be,j(ct,be-30,30)),be+=4);const Ve=fn.cimg;ke(ct,be,(ot=Ve.length)+(cn==0?0:4)),be+=4;const pt=be;le(ct,be,cn==0?"IDAT":"fdAT"),be+=4,cn!=0&&(ke(ct,be,te++),be+=4),ct.set(Ve,be),be+=ot,ke(ct,be,j(ct,pt,be-pt)),be+=4}return ke(ct,be,0),be+=4,le(ct,be,"IEND"),be+=4,ke(ct,be,j(ct,be-4,4)),be+=4,ct.buffer}function W(se,ce,Ee){for(let Ue=0;Ue<se.frames.length;Ue++){const re=se.frames[Ue];re.rect.width;const j=re.rect.height,ke=new Uint8Array(j*re.bpl+j);re.cimg=V(re.img,j,re.bpp,re.bpl,ke,ce,Ee)}}function I(se,ce,Ee,Ue,re){const j=re[0],ke=re[1],rt=re[2],le=re[3],be=re[4],st=re[5];let B=6,kt=8,at=255;for(var ot=0;ot<se.length;ot++){const Le=new Uint8Array(se[ot]);for(var An=Le.length,cn=0;cn<An;cn+=4)at&=Le[cn+3]}const ct=at!=255,_n=function(bt,Jt,ut,jt,Rt,Ft){const rn=[];for(var pn=0;pn<bt.length;pn++){const va=new Uint8Array(bt[pn]),Qr=new Uint32Array(va.buffer);var Yn;let Hr=0,da=0,Ur=Jt,vr=ut,Fa=jt?1:0;if(pn!=0){const Zi=Ft||jt||pn==1||rn[pn-2].dispose!=0?1:2;let Xl=0,Vr=1e9;for(let yi=0;yi<Zi;yi++){var fr=new Uint8Array(bt[pn-1-yi]);const Ju=new Uint32Array(bt[pn-1-yi]);let wi=Jt,Tn=ut,Pr=-1,lo=-1;for(let Zu=0;Zu<ut;Zu++)for(let Ir=0;Ir<Jt;Ir++)Qr[ir=Zu*Jt+Ir]!=Ju[ir]&&(Ir<wi&&(wi=Ir),Ir>Pr&&(Pr=Ir),Zu<Tn&&(Tn=Zu),Zu>lo&&(lo=Zu));Pr==-1&&(wi=Tn=Pr=lo=0),Rt&&((1&wi)==1&&wi--,(1&Tn)==1&&Tn--);const lu=(Pr-wi+1)*(lo-Tn+1);lu<Vr&&(Vr=lu,Xl=yi,Hr=wi,da=Tn,Ur=Pr-wi+1,vr=lo-Tn+1)}fr=new Uint8Array(bt[pn-1-Xl]),Xl==1&&(rn[pn-1].dispose=2),Yn=new Uint8Array(Ur*vr*4),f(fr,Jt,ut,Yn,Ur,vr,-Hr,-da,0),Fa=f(va,Jt,ut,Yn,Ur,vr,-Hr,-da,3)?1:0,Fa==1?P(va,Jt,ut,Yn,{x:Hr,y:da,width:Ur,height:vr}):f(va,Jt,ut,Yn,Ur,vr,-Hr,-da,0)}else Yn=va.slice(0);rn.push({rect:{x:Hr,y:da,width:Ur,height:vr},img:Yn,blend:Fa,dispose:0})}if(jt)for(pn=0;pn<rn.length;pn++){if((ua=rn[pn]).blend==1)continue;const va=ua.rect,Qr=rn[pn-1].rect,Hr=Math.min(va.x,Qr.x),da=Math.min(va.y,Qr.y),Ur={x:Hr,y:da,width:Math.max(va.x+va.width,Qr.x+Qr.width)-Hr,height:Math.max(va.y+va.height,Qr.y+Qr.height)-da};rn[pn-1].dispose=1,pn-1!=0&&H(bt,Jt,ut,rn,pn-1,Ur,Rt),H(bt,Jt,ut,rn,pn,Ur,Rt)}let qr=0;if(bt.length!=1)for(var ir=0;ir<rn.length;ir++){var ua;qr+=(ua=rn[ir]).rect.width*ua.rect.height}return rn}(se,ce,Ee,j,ke,rt),te={},fn=[],Ve=[];if(Ue!=0){const Le=[];for(cn=0;cn<_n.length;cn++)Le.push(_n[cn].img.buffer);const bt=function(Rt){let Ft=0;for(var rn=0;rn<Rt.length;rn++)Ft+=Rt[rn].byteLength;const pn=new Uint8Array(Ft);let Yn=0;for(rn=0;rn<Rt.length;rn++){const fr=new Uint8Array(Rt[rn]),qr=fr.length;for(let ir=0;ir<qr;ir+=4){let ua=fr[ir],va=fr[ir+1],Qr=fr[ir+2];const Hr=fr[ir+3];Hr==0&&(ua=va=Qr=0),pn[Yn+ir]=ua,pn[Yn+ir+1]=va,pn[Yn+ir+2]=Qr,pn[Yn+ir+3]=Hr}Yn+=qr}return pn.buffer}(Le),Jt=q(bt,Ue);for(cn=0;cn<Jt.plte.length;cn++)fn.push(Jt.plte[cn].est.rgba);let ut=0;for(cn=0;cn<_n.length;cn++){const jt=(Jn=_n[cn]).img.length;var pt=new Uint8Array(Jt.inds.buffer,ut>>2,jt>>2);Ve.push(pt);const Rt=new Uint8Array(Jt.abuf,ut,jt);st&&O(Jn.img,Jn.rect.width,Jn.rect.height,fn,Rt,pt),Jn.img.set(Rt),ut+=jt}}else for(ot=0;ot<_n.length;ot++){var Jn=_n[ot];const Le=new Uint32Array(Jn.img.buffer);var Te=Jn.rect.width;for(An=Le.length,pt=new Uint8Array(An),Ve.push(pt),cn=0;cn<An;cn++){const bt=Le[cn];if(cn!=0&&bt==Le[cn-1])pt[cn]=pt[cn-1];else if(cn>Te&&bt==Le[cn-Te])pt[cn]=pt[cn-Te];else{let Jt=te[bt];if(Jt==null&&(te[bt]=Jt=fn.length,fn.push(bt),fn.length>=300))break;pt[cn]=Jt}}}const Ae=fn.length;for(Ae<=256&&be==0&&(kt=Ae<=2?1:Ae<=4?2:Ae<=16?4:8,kt=Math.max(kt,le)),ot=0;ot<_n.length;ot++){(Jn=_n[ot]).rect.x,Jn.rect.y,Te=Jn.rect.width;const Le=Jn.rect.height;let bt=Jn.img;new Uint32Array(bt.buffer);let Jt=4*Te,ut=4;if(Ae<=256&&be==0){Jt=Math.ceil(kt*Te/8);var Ze=new Uint8Array(Jt*Le);const jt=Ve[ot];for(let Rt=0;Rt<Le;Rt++){cn=Rt*Jt;const Ft=Rt*Te;if(kt==8)for(var et=0;et<Te;et++)Ze[cn+et]=jt[Ft+et];else if(kt==4)for(et=0;et<Te;et++)Ze[cn+(et>>1)]|=jt[Ft+et]<<4-4*(1&et);else if(kt==2)for(et=0;et<Te;et++)Ze[cn+(et>>2)]|=jt[Ft+et]<<6-2*(3&et);else if(kt==1)for(et=0;et<Te;et++)Ze[cn+(et>>3)]|=jt[Ft+et]<<7-1*(7&et)}bt=Ze,B=3,ut=1}else if(ct==0&&_n.length==1){Ze=new Uint8Array(Te*Le*3);const jt=Te*Le;for(cn=0;cn<jt;cn++){const Rt=3*cn,Ft=4*cn;Ze[Rt]=bt[Ft],Ze[Rt+1]=bt[Ft+1],Ze[Rt+2]=bt[Ft+2]}bt=Ze,B=2,ut=3,Jt=3*Te}Jn.img=bt,Jn.bpl=Jt,Jn.bpp=ut}return{ctype:B,depth:kt,plte:fn,frames:_n}}function H(se,ce,Ee,Ue,re,j,ke){const rt=Uint8Array,le=Uint32Array,be=new rt(se[re-1]),st=new le(se[re-1]),B=re+1<se.length?new rt(se[re+1]):null,kt=new rt(se[re]),at=new le(kt.buffer);let ot=ce,An=Ee,cn=-1,ct=-1;for(let te=0;te<j.height;te++)for(let fn=0;fn<j.width;fn++){const Ve=j.x+fn,pt=j.y+te,Jn=pt*ce+Ve,Te=at[Jn];Te==0||Ue[re-1].dispose==0&&st[Jn]==Te&&(B==null||B[4*Jn+3]!=0)||(Ve<ot&&(ot=Ve),Ve>cn&&(cn=Ve),pt<An&&(An=pt),pt>ct&&(ct=pt))}cn==-1&&(ot=An=cn=ct=0),ke&&((1&ot)==1&&ot--,(1&An)==1&&An--),j={x:ot,y:An,width:cn-ot+1,height:ct-An+1};const _n=Ue[re];_n.rect=j,_n.blend=1,_n.img=new Uint8Array(j.width*j.height*4),Ue[re-1].dispose==0?(f(be,ce,Ee,_n.img,j.width,j.height,-j.x,-j.y,0),P(kt,ce,Ee,_n.img,j)):f(kt,ce,Ee,_n.img,j.width,j.height,-j.x,-j.y,0)}function P(se,ce,Ee,Ue,re){f(se,ce,Ee,Ue,re.width,re.height,-re.x,-re.y,2)}function V(se,ce,Ee,Ue,re,j,ke){const rt=[];let le,be=[0,1,2,3,4];j!=-1?be=[j]:(ce*Ue>5e5||Ee==1)&&(be=[0]),ke&&(le={level:0});const st=Xae;for(var B=0;B<be.length;B++){for(let ot=0;ot<ce;ot++)Z(re,se,ot,Ue,Ee,be[B]);rt.push(st.deflate(re,le))}let kt,at=1e9;for(B=0;B<rt.length;B++)rt[B].length<at&&(kt=B,at=rt[B].length);return rt[kt]}function Z(se,ce,Ee,Ue,re,j){const ke=Ee*Ue;let rt=ke+Ee;if(se[rt]=j,rt++,j==0)if(Ue<500)for(var le=0;le<Ue;le++)se[rt+le]=ce[ke+le];else se.set(new Uint8Array(ce.buffer,ke,Ue),rt);else if(j==1){for(le=0;le<re;le++)se[rt+le]=ce[ke+le];for(le=re;le<Ue;le++)se[rt+le]=ce[ke+le]-ce[ke+le-re]+256&255}else if(Ee==0){for(le=0;le<re;le++)se[rt+le]=ce[ke+le];if(j==2)for(le=re;le<Ue;le++)se[rt+le]=ce[ke+le];if(j==3)for(le=re;le<Ue;le++)se[rt+le]=ce[ke+le]-(ce[ke+le-re]>>1)+256&255;if(j==4)for(le=re;le<Ue;le++)se[rt+le]=ce[ke+le]-y(ce[ke+le-re],0,0)+256&255}else{if(j==2)for(le=0;le<Ue;le++)se[rt+le]=ce[ke+le]+256-ce[ke+le-Ue]&255;if(j==3){for(le=0;le<re;le++)se[rt+le]=ce[ke+le]+256-(ce[ke+le-Ue]>>1)&255;for(le=re;le<Ue;le++)se[rt+le]=ce[ke+le]+256-(ce[ke+le-Ue]+ce[ke+le-re]>>1)&255}if(j==4){for(le=0;le<re;le++)se[rt+le]=ce[ke+le]+256-y(0,ce[ke+le-Ue],0)&255;for(le=re;le<Ue;le++)se[rt+le]=ce[ke+le]+256-y(ce[ke+le-re],ce[ke+le-Ue],ce[ke+le-re-Ue])&255}}}function q(se,ce){const Ee=new Uint8Array(se),Ue=Ee.slice(0),re=new Uint32Array(Ue.buffer),j=$e(Ue,ce),ke=j[0],rt=j[1],le=Ee.length,be=new Uint8Array(le>>2);let st;if(Ee.length<2e7)for(var B=0;B<le;B+=4)st=me(ke,kt=Ee[B]*(1/255),at=Ee[B+1]*(1/255),ot=Ee[B+2]*(1/255),An=Ee[B+3]*(1/255)),be[B>>2]=st.ind,re[B>>2]=st.est.rgba;else for(B=0;B<le;B+=4){var kt=Ee[B]*.00392156862745098,at=Ee[B+1]*(1/255),ot=Ee[B+2]*(1/255),An=Ee[B+3]*(1/255);for(st=ke;st.left;)st=Be(st.est,kt,at,ot,An)<=0?st.left:st.right;be[B>>2]=st.ind,re[B>>2]=st.est.rgba}return{abuf:Ue.buffer,inds:be,plte:rt}}function $e(se,ce,Ee){Ee==null&&(Ee=1e-4);const Ue=new Uint32Array(se.buffer),re={i0:0,i1:se.length,bst:null,est:null,tdst:0,left:null,right:null};re.bst=De(se,re.i0,re.i1),re.est=Se(re.bst);const j=[re];for(;j.length<ce;){let rt=0,le=0;for(var ke=0;ke<j.length;ke++)j[ke].est.L>rt&&(rt=j[ke].est.L,le=ke);if(rt<Ee)break;const be=j[le],st=ne(se,Ue,be.i0,be.i1,be.est.e,be.est.eMq255);if(be.i0>=st||be.i1<=st){be.est.L=0;continue}const B={i0:be.i0,i1:st,bst:null,est:null,tdst:0,left:null,right:null};B.bst=De(se,B.i0,B.i1),B.est=Se(B.bst);const kt={i0:st,i1:be.i1,bst:null,est:null,tdst:0,left:null,right:null};for(kt.bst={R:[],m:[],N:be.bst.N-B.bst.N},ke=0;ke<16;ke++)kt.bst.R[ke]=be.bst.R[ke]-B.bst.R[ke];for(ke=0;ke<4;ke++)kt.bst.m[ke]=be.bst.m[ke]-B.bst.m[ke];kt.est=Se(kt.bst),be.left=B,be.right=kt,j[le]=B,j.push(kt)}for(j.sort((rt,le)=>le.bst.N-rt.bst.N),ke=0;ke<j.length;ke++)j[ke].ind=ke;return[re,j]}function me(se,ce,Ee,Ue,re){if(se.left==null)return se.tdst=function(B,kt,at,ot,An){const cn=kt-B[0],ct=at-B[1],_n=ot-B[2],te=An-B[3];return cn*cn+ct*ct+_n*_n+te*te}(se.est.q,ce,Ee,Ue,re),se;const j=Be(se.est,ce,Ee,Ue,re);let ke=se.left,rt=se.right;j>0&&(ke=se.right,rt=se.left);const le=me(ke,ce,Ee,Ue,re);if(le.tdst<=j*j)return le;const be=me(rt,ce,Ee,Ue,re);return be.tdst<le.tdst?be:le}function Be(se,ce,Ee,Ue,re){const{e:j}=se;return j[0]*ce+j[1]*Ee+j[2]*Ue+j[3]*re-se.eMq}function ne(se,ce,Ee,Ue,re,j){for(Ue-=4;Ee<Ue;){for(;ge(se,Ee,re)<=j;)Ee+=4;for(;ge(se,Ue,re)>j;)Ue-=4;if(Ee>=Ue)break;const ke=ce[Ee>>2];ce[Ee>>2]=ce[Ue>>2],ce[Ue>>2]=ke,Ee+=4,Ue-=4}for(;ge(se,Ee,re)>j;)Ee-=4;return Ee+4}function ge(se,ce,Ee){return se[ce]*Ee[0]+se[ce+1]*Ee[1]+se[ce+2]*Ee[2]+se[ce+3]*Ee[3]}function De(se,ce,Ee){const Ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],re=[0,0,0,0],j=Ee-ce>>2;for(let ke=ce;ke<Ee;ke+=4){const rt=se[ke]*.00392156862745098,le=se[ke+1]*(1/255),be=se[ke+2]*(1/255),st=se[ke+3]*(1/255);re[0]+=rt,re[1]+=le,re[2]+=be,re[3]+=st,Ue[0]+=rt*rt,Ue[1]+=rt*le,Ue[2]+=rt*be,Ue[3]+=rt*st,Ue[5]+=le*le,Ue[6]+=le*be,Ue[7]+=le*st,Ue[10]+=be*be,Ue[11]+=be*st,Ue[15]+=st*st}return Ue[4]=Ue[1],Ue[8]=Ue[2],Ue[9]=Ue[6],Ue[12]=Ue[3],Ue[13]=Ue[7],Ue[14]=Ue[11],{R:Ue,m:re,N:j}}function Se(se){const{R:ce}=se,{m:Ee}=se,{N:Ue}=se,re=Ee[0],j=Ee[1],ke=Ee[2],rt=Ee[3],le=Ue==0?0:1/Ue,be=[ce[0]-re*re*le,ce[1]-re*j*le,ce[2]-re*ke*le,ce[3]-re*rt*le,ce[4]-j*re*le,ce[5]-j*j*le,ce[6]-j*ke*le,ce[7]-j*rt*le,ce[8]-ke*re*le,ce[9]-ke*j*le,ce[10]-ke*ke*le,ce[11]-ke*rt*le,ce[12]-rt*re*le,ce[13]-rt*j*le,ce[14]-rt*ke*le,ce[15]-rt*rt*le],st=be,B=We;let kt=[Math.random(),Math.random(),Math.random(),Math.random()],at=0,ot=0;if(Ue!=0)for(let cn=0;cn<16&&(kt=B.multVec(st,kt),ot=Math.sqrt(B.dot(kt,kt)),kt=B.sml(1/ot,kt),!(cn!=0&&Math.abs(ot-at)<1e-9));cn++)at=ot;const An=[re*le,j*le,ke*le,rt*le];return{Cov:be,q:An,e:kt,L:at,eMq255:B.dot(B.sml(255,An),kt),eMq:B.dot(kt,An),rgba:(Math.round(255*An[3])<<24|Math.round(255*An[2])<<16|Math.round(255*An[1])<<8|Math.round(255*An[0])<<0)>>>0}}var We={multVec:(se,ce)=>[se[0]*ce[0]+se[1]*ce[1]+se[2]*ce[2]+se[3]*ce[3],se[4]*ce[0]+se[5]*ce[1]+se[6]*ce[2]+se[7]*ce[3],se[8]*ce[0]+se[9]*ce[1]+se[10]*ce[2]+se[11]*ce[3],se[12]*ce[0]+se[13]*ce[1]+se[14]*ce[2]+se[15]*ce[3]],dot:(se,ce)=>se[0]*ce[0]+se[1]*ce[1]+se[2]*ce[2]+se[3]*ce[3],sml:(se,ce)=>[se*ce[0],se*ce[1],se*ce[2],se*ce[3]]};Hm.encode=function(ce,Ee,Ue,re,j,ke,rt){re==null&&(re=0),rt==null&&(rt=!1);const le=I(ce,Ee,Ue,re,[!1,!1,!1,0,rt,!1]);return W(le,-1),L(le,Ee,Ue,j,ke)},Hm.encodeLL=function(ce,Ee,Ue,re,j,ke,rt,le){const be={ctype:0+(re==1?0:2)+(j==0?0:4),depth:ke,frames:[]},st=(re+j)*ke,B=st*Ee;for(let kt=0;kt<ce.length;kt++)be.frames.push({rect:{x:0,y:0,width:Ee,height:Ue},img:new Uint8Array(ce[kt]),blend:0,dispose:1,bpp:Math.ceil(st/8),bpl:Math.ceil(B/8)});return W(be,0,!0),L(be,Ee,Ue,rt,le)},Hm.encode.compress=I,Hm.encode.dither=O,Hm.quantize=q,Hm.quantize.getKDtree=$e,Hm.quantize.getNearest=me})();const rG={toArrayBuffer(f,m){const y=f.width,b=f.height,_=y<<2,x=f.getContext("2d").getImageData(0,0,y,b),T=new Uint32Array(x.data.buffer),O=(32*y+31)/32<<2,L=O*b,W=122+L,I=new ArrayBuffer(W),H=new DataView(I),P=1<<20;let V,Z,q,$e,me=P,Be=0,ne=0,ge=0;function De(se){H.setUint16(ne,se,!0),ne+=2}function Se(se){H.setUint32(ne,se,!0),ne+=4}function We(se){ne+=se}De(19778),Se(W),We(4),Se(122),Se(108),Se(y),Se(-b>>>0),De(1),De(32),Se(3),Se(L),Se(2835),Se(2835),We(8),Se(16711680),Se(65280),Se(255),Se(4278190080),Se(1466527264),function se(){for(;Be<b&&me>0;){for($e=122+Be*O,V=0;V<_;)me--,Z=T[ge++],q=Z>>>24,H.setUint32($e+V,Z<<8|q),V+=4;Be++}ge<T.length?(me=P,setTimeout(se,rG._dly)):m(I)}()},toBlob(f,m){this.toArrayBuffer(f,y=>{m(new Blob([y],{type:"image/bmp"}))})},_dly:9};var Ef={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Yae={[Ef.CHROME]:16384,[Ef.FIREFOX]:11180,[Ef.DESKTOP_SAFARI]:16384,[Ef.IE]:8192,[Ef.IOS]:4096,[Ef.ETC]:8192};const a9=typeof window<"u",aG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,O8=a9&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Jae=(a9||aG)&&(O8&&O8.getOriginalSymbol(window,"File")||typeof File<"u"&&File),oG=(a9||aG)&&(O8&&O8.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function o9(f,m,y=Date.now()){return new Promise(b=>{const _=f.split(","),x=_[0].match(/:(.*?);/)[1],T=globalThis.atob(_[1]);let O=T.length;const L=new Uint8Array(O);for(;O--;)L[O]=T.charCodeAt(O);const W=new Blob([L],{type:x});W.name=m,W.lastModified=y,b(W)})}function iG(f){return new Promise((m,y)=>{const b=new oG;b.onload=()=>m(b.result),b.onerror=_=>y(_),b.readAsDataURL(f)})}function uG(f){return new Promise((m,y)=>{const b=new Image;b.onload=()=>m(b),b.onerror=_=>y(_),b.src=f})}function z_(){if(z_.cachedResult!==void 0)return z_.cachedResult;let f=Ef.ETC;const{userAgent:m}=navigator;return/Chrom(e|ium)/i.test(m)?f=Ef.CHROME:/iP(ad|od|hone)/i.test(m)&&/WebKit/i.test(m)?f=Ef.IOS:/Safari/i.test(m)?f=Ef.DESKTOP_SAFARI:/Firefox/i.test(m)?f=Ef.FIREFOX:(/MSIE/i.test(m)||document.documentMode)&&(f=Ef.IE),z_.cachedResult=f,z_.cachedResult}function sG(f,m){const y=z_(),b=Yae[y];let _=f,x=m,T=_*x;const O=_>x?x/_:_/x;for(;T>b*b;){const L=(b+_)/2,W=(b+x)/2;L<W?(x=W,_=W*O):(x=L*O,_=L),T=_*x}return{width:_,height:x}}function n6(f,m){let y,b;try{if(y=new OffscreenCanvas(f,m),b=y.getContext("2d"),b===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{y=document.createElement("canvas"),b=y.getContext("2d")}return y.width=f,y.height=m,[y,b]}function lG(f,m){const{width:y,height:b}=sG(f.width,f.height),[_,x]=n6(y,b);return m&&/jpe?g/.test(m)&&(x.fillStyle="white",x.fillRect(0,0,_.width,_.height)),x.drawImage(f,0,0,_.width,_.height),_}function g8(){return g8.cachedResult!==void 0||(g8.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),g8.cachedResult}function D8(f,m={}){return new Promise(function(y,b){let _,x;var T=function(){try{return x=lG(_,m.fileType||f.type),y([_,x])}catch(L){return b(L)}},O=function(L){try{var W=function(I){try{throw I}catch(H){return b(H)}};try{let I;return iG(f).then(function(H){try{return I=H,uG(I).then(function(P){try{return _=P,function(){try{return T()}catch(V){return b(V)}}()}catch(V){return W(V)}},W)}catch(P){return W(P)}},W)}catch(I){W(I)}}catch(I){return b(I)}};try{if(g8()||[Ef.DESKTOP_SAFARI,Ef.MOBILE_SAFARI].includes(z_()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(f).then(function(L){try{return _=L,T()}catch{return O()}},O)}catch{O()}})}function R8(f,m,y,b,_=1){return new Promise(function(x,T){let O;if(m==="image/png"){let H,P,V;return H=f.getContext("2d"),{data:P}=H.getImageData(0,0,f.width,f.height),V=Hm.encode([P.buffer],f.width,f.height,4096*_),O=new Blob([V],{type:m}),O.name=y,O.lastModified=b,L.call(this)}{let H=function(){return L.call(this)};var W=H;if(m==="image/bmp")return new Promise(P=>rG.toBlob(f,P)).then((function(P){try{return O=P,O.name=y,O.lastModified=b,H.call(this)}catch(V){return T(V)}}).bind(this),T);{let P=function(){return H.call(this)};var I=P;if(typeof OffscreenCanvas=="function"&&f instanceof OffscreenCanvas)return f.convertToBlob({type:m,quality:_}).then((function(V){try{return O=V,O.name=y,O.lastModified=b,P.call(this)}catch(Z){return T(Z)}}).bind(this),T);{let V;return V=f.toDataURL(m,_),o9(V,y,b).then((function(Z){try{return O=Z,P.call(this)}catch(q){return T(q)}}).bind(this),T)}}}function L(){return x(O)}})}function up(f){f.width=0,f.height=0}function oA(){return new Promise(function(f,m){let y,b,_,x;return oA.cachedResult!==void 0?f(oA.cachedResult):o9("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(T){try{return y=T,D8(y).then(function(O){try{return b=O[1],R8(b,y.type,y.name,y.lastModified).then(function(L){try{return _=L,up(b),D8(_).then(function(W){try{return x=W[0],oA.cachedResult=x.width===1&&x.height===2,f(oA.cachedResult)}catch(I){return m(I)}},m)}catch(W){return m(W)}},m)}catch(L){return m(L)}},m)}catch(O){return m(O)}},m)})}function cG(f){return new Promise((m,y)=>{const b=new oG;b.onload=_=>{const x=new DataView(_.target.result);if(x.getUint16(0,!1)!=65496)return m(-2);const T=x.byteLength;let O=2;for(;O<T;){if(x.getUint16(O+2,!1)<=8)return m(-1);const L=x.getUint16(O,!1);if(O+=2,L==65505){if(x.getUint32(O+=2,!1)!=1165519206)return m(-1);const W=x.getUint16(O+=6,!1)==18761;O+=x.getUint32(O+4,W);const I=x.getUint16(O,W);O+=2;for(let H=0;H<I;H++)if(x.getUint16(O+12*H,W)==274)return m(x.getUint16(O+12*H+8,W))}else{if((65280&L)!=65280)break;O+=x.getUint16(O,!1)}}return m(-1)},b.onerror=_=>y(_),b.readAsArrayBuffer(f)})}function fG(f,m){const{width:y}=f,{height:b}=f,{maxWidthOrHeight:_}=m;let x,T=f;return isFinite(_)&&(y>_||b>_)&&([T,x]=n6(y,b),y>b?(T.width=_,T.height=b/y*_):(T.width=y/b*_,T.height=_),x.drawImage(f,0,0,T.width,T.height),up(f)),T}function vG(f,m){const{width:y}=f,{height:b}=f,[_,x]=n6(y,b);switch(m>4&&m<9?(_.width=b,_.height=y):(_.width=y,_.height=b),m){case 2:x.transform(-1,0,0,1,y,0);break;case 3:x.transform(-1,0,0,-1,y,b);break;case 4:x.transform(1,0,0,-1,0,b);break;case 5:x.transform(0,1,1,0,0,0);break;case 6:x.transform(0,1,-1,0,b,0);break;case 7:x.transform(0,-1,-1,0,b,y);break;case 8:x.transform(0,-1,1,0,0,y)}return x.drawImage(f,0,0,y,b),up(f),_}function AW(f,m,y=0){return new Promise(function(b,_){let x,T,O,L,W,I,H,P,V,Z,q,$e,me,Be,ne,ge,De,Se,We,se;function ce(Ue=5){if(m.signal&&m.signal.aborted)throw m.signal.reason;x+=Ue,m.onProgress(Math.min(x,100))}function Ee(Ue){if(m.signal&&m.signal.aborted)throw m.signal.reason;x=Math.min(Math.max(Ue,x),100),m.onProgress(x)}return x=y,T=m.maxIteration||10,O=1024*m.maxSizeMB*1024,ce(),D8(f,m).then((function(Ue){try{return[,L]=Ue,ce(),W=fG(L,m),ce(),new Promise(function(re,j){var ke;if(!(ke=m.exifOrientation))return cG(f).then((function(le){try{return ke=le,rt.call(this)}catch(be){return j(be)}}).bind(this),j);function rt(){return re(ke)}return rt.call(this)}).then((function(re){try{return I=re,ce(),oA().then((function(j){try{return H=j?W:vG(W,I),ce(),P=m.initialQuality||1,V=m.fileType||f.type,R8(H,V,f.name,f.lastModified,P).then((function(ke){try{{let st=function(){if(T--&&(ne>O||ne>me)){let kt,at;return kt=se?.95*We.width:We.width,at=se?.95*We.height:We.height,[De,Se]=n6(kt,at),Se.drawImage(We,0,0,kt,at),P*=V==="image/png"?.85:.95,R8(De,V,f.name,f.lastModified,P).then(function(ot){try{return ge=ot,up(We),We=De,ne=ge.size,Ee(Math.min(99,Math.floor((Be-ne)/(Be-O)*100))),st}catch(An){return _(An)}},_)}return[1]},B=function(){return up(We),up(De),up(W),up(H),up(L),Ee(100),b(ge)};var le=st,be=B;if(Z=ke,ce(),q=Z.size>O,$e=Z.size>f.size,!q&&!$e)return Ee(100),b(Z);var rt;return me=f.size,Be=Z.size,ne=Be,We=H,se=!m.alwaysKeepResolution&&q,(rt=(function(kt){for(;kt;){if(kt.then)return void kt.then(rt,_);try{if(kt.pop){if(kt.length)return kt.pop()?B.call(this):kt;kt=st}else kt=kt.call(this)}catch(at){return _(at)}}}).bind(this))(st)}}catch(st){return _(st)}}).bind(this),_)}catch(ke){return _(ke)}}).bind(this),_)}catch(j){return _(j)}}).bind(this),_)}catch(re){return _(re)}}).bind(this),_)})}const Zae=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let lH;function Qae(f,m){return new Promise((y,b)=>{lH||(lH=function(T){const O=[];return typeof T=="function"?O.push(`(${T})()`):O.push(T),URL.createObjectURL(new Blob(O))}(Zae));const _=new Worker(lH);_.addEventListener("message",function(T){if(m.signal&&m.signal.aborted)_.terminate();else if(T.data.progress===void 0){if(T.data.error)return b(new Error(T.data.error)),void _.terminate();y(T.data.file),_.terminate()}else m.onProgress(T.data.progress)}),_.addEventListener("error",b),m.signal&&m.signal.addEventListener("abort",()=>{b(m.signal.reason),_.terminate()}),_.postMessage({file:f,imageCompressionLibUrl:m.libURL,options:{...m,onProgress:void 0,signal:void 0}})})}function hl(f,m){return new Promise(function(y,b){let _,x,T,O,L,W;if(_={...m},T=0,{onProgress:O}=_,_.maxSizeMB=_.maxSizeMB||Number.POSITIVE_INFINITY,L=typeof _.useWebWorker!="boolean"||_.useWebWorker,delete _.useWebWorker,_.onProgress=V=>{T=V,typeof O=="function"&&O(T)},!(f instanceof Blob||f instanceof Jae))return b(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(f.type))return b(new Error("The file given is not an image"));if(W=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!L||typeof Worker!="function"||W)return AW(f,_).then((function(V){try{return x=V,P.call(this)}catch(Z){return b(Z)}}).bind(this),b);var I=(function(){try{return P.call(this)}catch(V){return b(V)}}).bind(this),H=function(V){try{return AW(f,_).then(function(Z){try{return x=Z,I()}catch(q){return b(q)}},b)}catch(Z){return b(Z)}};try{return _.libURL=_.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Qae(f,_).then(function(V){try{return x=V,I()}catch{return H()}},H)}catch{H()}function P(){try{x.name=f.name,x.lastModified=f.lastModified}catch{}try{_.preserveExif&&f.type==="image/jpeg"&&(!_.fileType||_.fileType&&_.fileType===f.type)&&(x=nG(f,x))}catch{}return y(x)}})}hl.getDataUrlFromFile=iG,hl.getFilefromDataUrl=o9,hl.loadImage=uG,hl.drawImageInCanvas=lG,hl.drawFileInCanvas=D8,hl.canvasToFile=R8,hl.getExifOrientation=cG,hl.handleMaxWidthOrHeight=fG,hl.followExifOrientation=vG,hl.cleanupCanvasMemory=up,hl.isAutoOrientationInBrowser=oA,hl.approximateBelowMaximumCanvasSizeOfBrowser=sG,hl.copyExifWithoutOrientation=nG,hl.getBrowserName=z_,hl.version="2.0.2";const eoe="/assets/de-8fcaa96d.svg",toe="/assets/en-4c5edc0c.svg";const noe={class:"languageContainer"},roe={class:"languageIcon"},aoe=["src","alt"],ooe={class:"languageContainerColumns"},ioe={class:"languageTitle"},tr={__name:"LanguageContainer",props:{lang:{type:String,default:"de"},title:{type:String,required:!0,default:"Keinen Titel angegeben"}},setup(f){const m=f,y={de:eoe,en:toe},b=m.lang;return(_,x)=>(Ke(),Ye("div",noe,[F("div",roe,[F("img",{src:y[So(b)],alt:So(b)},null,8,aoe)]),F("div",ooe,[F("h4",ioe,Kn(f.title),1),gH(_.$slots,"content")])]))}};const uoe={style:{"margin-bottom":"10px"}},soe={class:"input-row"},loe=["aria-checked","onKeydown"],coe={class:"toggle-value"},$8={__name:"toggleSwitch",props:{value:{type:Boolean,default:!1},color:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},titel:{type:String,default:"Titel"}},emits:["input"],setup(f,{emit:m}){const y=f,b=Yi(()=>({"bg-primary":y.value,"bg-secondary":!y.value})),_=Yi(()=>({transform:y.value?"translateX(14px)":"translateX(0)"})),x=()=>{y.disabled||m("input",!y.value)};return(T,O)=>(Ke(),Ye("div",null,[F("h4",uoe,Kn(f.titel),1),F("div",soe,[F("span",{class:"toggle-wrapper",role:"checkbox","aria-checked":f.value.toString(),tabindex:"0",onClick:x,onKeydown:Cte(yte(x,["prevent"]),["space"])},[F("span",{class:I5(["toggle-background",b.value])},null,2),F("span",{class:"toggle-indicator",style:z8(_.value)},null,4)],40,loe),F("span",coe,Kn(f.value?"Ja":"Nein"),1)])]))}},j_="/assets/close-e7fb7946.svg";var B8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function foe(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var dG={exports:{}};(function(f){(function(){var m=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},y=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},b=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},_=function(e,n){return x(function(a,i){return e.eq(n(a),n(i))})},x=function(e){return{eq:e}},T=x(function(e,n){return e===n}),O=T,L=function(e){return x(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,l=0;l<i;l++)if(!e.eq(n[l],a[l]))return!1;return!0})},W=function(e,n){return _(L(e),function(a){return b(a,n)})},I=function(e){return x(function(n,a){var i=Object.keys(n),l=Object.keys(a);if(!W(O).eq(i,l))return!1;for(var v=i.length,p=0;p<v;p++){var S=i[p];if(!e.eq(n[S],a[S]))return!1}return!0})},H=x(function(e,n){if(e===n)return!0;var a=m(e),i=m(n);return a!==i?!1:y(a)?e===n:a==="array"?L(H).eq(e,n):a==="object"?I(H).eq(e,n):!1}),P=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},V=function(e){return function(n){return P(n)===e}},Z=function(e){return function(n){return typeof n===e}},q=function(e){return function(n){return e===n}},$e=V("string"),me=V("object"),Be=V("array"),ne=q(null),ge=Z("boolean"),De=q(void 0),Se=function(e){return e==null},We=function(e){return!Se(e)},se=Z("function"),ce=Z("number"),Ee=function(){},Ue=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},re=function(e,n){return function(a){return e(n(a))}},j=function(e){return function(){return e}},ke=function(e){return e},rt=function(e,n){return e===n};function le(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var v=n.concat(i);return e.apply(null,v)}}var be=function(e){return function(n){return!e(n)}},st=function(e){return function(){throw new Error(e)}},B=function(e){return e()},kt=function(e){e()},at=j(!1),ot=j(!0),An=function(){return cn},cn=function(){var e=function(i){return i()},n=ke,a={fold:function(i,l){return i()},isSome:at,isNone:ot,getOr:n,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:j(null),getOrUndefined:j(void 0),or:n,orThunk:e,map:An,each:Ee,bind:An,exists:at,forall:ot,filter:function(){return An()},toArray:function(){return[]},toString:j("none()")};return a}(),ct=function(e){var n=j(e),a=function(){return l},i=function(v){return v(e)},l={fold:function(v,p){return p(e)},isSome:ot,isNone:at,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(v){return ct(v(e))},each:function(v){v(e)},bind:i,exists:i,forall:i,filter:function(v){return v(e)?l:cn},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return l},_n=function(e){return e==null?cn:ct(e)},te={some:ct,none:An,from:_n},fn=Array.prototype.slice,Ve=Array.prototype.indexOf,pt=Array.prototype.push,Jn=function(e,n){return Ve.call(e,n)},Te=function(e,n){var a=Jn(e,n);return a===-1?te.none():te.some(a)},Ae=function(e,n){return Jn(e,n)>-1},Ze=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return!0}return!1},et=function(e,n){for(var a=e.length,i=new Array(a),l=0;l<a;l++){var v=e[l];i[l]=n(v,l)}return i},Le=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];n(l,a)}},bt=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},Jt=function(e,n){for(var a=[],i=[],l=0,v=e.length;l<v;l++){var p=e[l],S=n(p,l)?a:i;S.push(p)}return{pass:a,fail:i}},ut=function(e,n){for(var a=[],i=0,l=e.length;i<l;i++){var v=e[i];n(v,i)&&a.push(v)}return a},jt=function(e,n,a){return bt(e,function(i,l){a=n(a,i,l)}),a},Rt=function(e,n,a){return Le(e,function(i,l){a=n(a,i,l)}),a},Ft=function(e,n,a){for(var i=0,l=e.length;i<l;i++){var v=e[i];if(n(v,i))return te.some(v);if(a(v,i))break}return te.none()},rn=function(e,n){return Ft(e,n,at)},pn=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return te.some(a)}return te.none()},Yn=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!Be(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);pt.apply(n,e[a])}return n},fr=function(e,n){return Yn(et(e,n))},qr=function(e,n){for(var a=0,i=e.length;a<i;++a){var l=e[a];if(n(l,a)!==!0)return!1}return!0},ir=function(e){var n=fn.call(e,0);return n.reverse(),n},ua=function(e,n){return ut(e,function(a){return!Ae(n,a)})},va=function(e,n){for(var a={},i=0,l=e.length;i<l;i++){var v=e[i];a[String(v)]=n(v,i)}return a},Qr=function(e,n){var a=fn.call(e,0);return a.sort(n),a},Hr=function(e,n){return n>=0&&n<e.length?te.some(e[n]):te.none()},da=function(e){return Hr(e,0)},Ur=function(e){return Hr(e,e.length-1)},vr=se(Array.from)?Array.from:function(e){return fn.call(e)},Fa=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return te.none()},Zi=Object.keys,Xl=Object.hasOwnProperty,Vr=function(e,n){for(var a=Zi(e),i=0,l=a.length;i<l;i++){var v=a[i],p=e[v];n(p,v)}},yi=function(e,n){return Ju(e,function(a,i){return{k:i,v:n(a,i)}})},Ju=function(e,n){var a={};return Vr(e,function(i,l){var v=n(i,l);a[v.k]=v.v}),a},wi=function(e){return function(n,a){e[a]=n}},Tn=function(e,n,a,i){var l={};return Vr(e,function(v,p){(n(v,p)?a:i)(v,p)}),l},Pr=function(e,n){var a={},i={};return Tn(e,n,wi(a),wi(i)),{t:a,f:i}},lo=function(e,n){var a={};return Tn(e,n,wi(a),Ee),a},lu=function(e,n){var a=[];return Vr(e,function(i,l){a.push(n(i,l))}),a},Zu=function(e){return lu(e,ke)},Ir=function(e,n){return Dr(e,n)?te.from(e[n]):te.none()},Dr=function(e,n){return Xl.call(e,n)},Gs=function(e,n){return Dr(e,n)&&e[n]!==void 0&&e[n]!==null},rh=function(e,n,a){return a===void 0&&(a=H),I(a).eq(e,n)},Df=Array.isArray,qs=function(e){if(Df(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},Bc=function(e,n,a){var i,l;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(Dr(e,i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},Ov=function(e,n){var a=[];return Bc(e,function(i,l){a.push(n(i,l,e))}),a},pl=function(e,n){var a=[];return Bc(e,function(i,l){(!n||n(i,l,e))&&a.push(i)}),a},bl=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},Rf=function(e,n,a,i){for(var l=De(a)?e[0]:a,v=0;v<e.length;v++)l=n.call(i,l,e[v],v);return l},ma=function(e,n,a){var i,l;for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e))return i;return-1},Ks=function(e){return e[e.length-1]},qn=function(){return qn=Object.assign||function(n){for(var a,i=1,l=arguments.length;i<l;i++){a=arguments[i];for(var v in a)Object.prototype.hasOwnProperty.call(a,v)&&(n[v]=a[v])}return n},qn.apply(this,arguments)};function ah(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a}function Ou(e,n,a){if(a||arguments.length===2)for(var i=0,l=n.length,v;i<l;i++)(v||!(i in n))&&(v||(v=Array.prototype.slice.call(n,0,i)),v[i]=n[i]);return e.concat(v||Array.prototype.slice.call(n))}var Mc=function(e){var n=!1,a;return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return n||(n=!0,a=e.apply(null,i)),a}},oh=function(e,n,a,i){var l=e.isiOS()&&/ipad/i.test(a)===!0,v=e.isiOS()&&!l,p=e.isiOS()||e.isAndroid(),S=p||i("(pointer:coarse)"),A=l||!v&&p&&i("(min-device-width:768px)"),N=v||p&&!A,X=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,J=!N&&!A&&!X;return{isiPad:j(l),isiPhone:j(v),isTablet:j(A),isPhone:j(N),isTouch:j(S),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:j(X),isDesktop:j(J)}},Yl=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},ih=function(e,n){var a=Yl(e,n);if(!a)return{major:0,minor:0};var i=function(l){return Number(n.replace(a,"$"+l))};return _s(i(1),i(2))},$f=function(e,n){var a=String(n).toLowerCase();return e.length===0?uh():ih(e,a)},uh=function(){return _s(0,0)},_s=function(e,n){return{major:e,minor:n}},Pc={nu:_s,detect:$f,unknown:uh},sn=function(e,n){return Fa(n.brands,function(a){var i=a.brand.toLowerCase();return rn(e,function(l){var v;return i===((v=l.brand)===null||v===void 0?void 0:v.toLowerCase())}).map(function(l){return{current:l.name,version:Pc.nu(parseInt(a.version,10),0)}})})},$d=function(e,n){var a=String(n).toLowerCase();return rn(e,function(i){return i.search(a)})},Dv=function(e,n){return $d(e,n).map(function(a){var i=Pc.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Rv=function(e,n){return $d(e,n).map(function(a){var i=Pc.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Jl=function(e,n){return e.substring(n)},Qu=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},sh=function(e,n){return po(e,n)?Jl(e,n.length):e},Bo=function(e,n){return e.indexOf(n)!==-1},po=function(e,n){return Qu(e,n,0)},Du=function(e){return function(n){return n.replace(e,"")}},Xs=Du(/^\s+|\s+$/g),Bd=Du(/^\s+/g),es=Du(/\s+$/g),Bf=function(e){return e.length>0},Md=function(e){return!Bf(e)},yl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ru=function(e){return function(n){return Bo(n,e)}},en=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Bo(e,"edge/")&&Bo(e,"chrome")&&Bo(e,"safari")&&Bo(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yl],search:function(e){return Bo(e,"chrome")&&!Bo(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Bo(e,"msie")||Bo(e,"trident")}},{name:"Opera",versionRegexes:[yl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ru("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ru("firefox")},{name:"Safari",versionRegexes:[yl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Bo(e,"safari")||Bo(e,"mobile/"))&&Bo(e,"applewebkit")}}],Ci=[{name:"Windows",search:Ru("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Bo(e,"iphone")||Bo(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ru("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ru("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ru("linux"),versionRegexes:[]},{name:"Solaris",search:Ru("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ru("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ru("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],wl={browsers:j(en),oses:j(Ci)},lh="Edge",Mf="Chrome",ea="IE",$v="Opera",Cl="Firefox",co="Safari",Bv=function(){return cu({current:void 0,version:Pc.unknown()})},cu=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isEdge:i(lh),isChrome:i(Mf),isIE:i(ea),isOpera:i($v),isFirefox:i(Cl),isSafari:i(co)}},ts={unknown:Bv,nu:cu,edge:j(lh),chrome:j(Mf),ie:j(ea),opera:j($v),firefox:j(Cl),safari:j(co)},Ra="Windows",Pf="iOS",If="Android",Mv="Linux",Pd="OSX",_l="Solaris",Ys="FreeBSD",Pv="ChromeOS",Ss=function(){return $u({current:void 0,version:Pc.unknown()})},$u=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isWindows:i(Ra),isiOS:i(Pf),isAndroid:i(If),isOSX:i(Pd),isLinux:i(Mv),isSolaris:i(_l),isFreeBSD:i(Ys),isChromeOS:i(Pv)}},ie={unknown:Ss,nu:$u,windows:j(Ra),ios:j(Pf),android:j(If),linux:j(Mv),osx:j(Pd),solaris:j(_l),freebsd:j(Ys),chromeos:j(Pv)},Ie=function(e,n,a){var i=wl.browsers(),l=wl.oses(),v=n.bind(function(A){return sn(i,A)}).orThunk(function(){return Dv(i,e)}).fold(ts.unknown,ts.nu),p=Rv(l,e).fold(ie.unknown,ie.nu),S=oh(p,v,e,a);return{browser:v,os:p,deviceType:S}},Je={detect:Ie},Et=function(e){return window.matchMedia(e).matches},qt=Mc(function(){return Je.detect(navigator.userAgent,te.from(navigator.userAgentData),Et)}),Bn=function(){return qt()},aa=navigator.userAgent,ha=Bn(),yr=ha.browser,La=ha.os,Ka=ha.deviceType,Ic=/WebKit/.test(aa)&&!yr.isEdge(),zi="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Zl=aa.indexOf("Windows Phone")!==-1,Wn={opera:yr.isOpera(),webkit:Ic,ie:yr.isIE()||yr.isEdge()?yr.version.major:!1,gecko:yr.isFirefox(),mac:La.isOSX()||La.isiOS(),iOS:Ka.isiPad()||Ka.isiPhone(),android:La.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:yr.isIE()?document.documentMode||7:10,fileApi:zi,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!yr.isIE(),desktop:Ka.isDesktop(),windowsPhone:Zl,browser:{current:yr.current,version:yr.version,isChrome:yr.isChrome,isEdge:yr.isEdge,isFirefox:yr.isFirefox,isIE:yr.isIE,isOpera:yr.isOpera,isSafari:yr.isSafari},os:{current:La.current,version:La.version,isAndroid:La.isAndroid,isChromeOS:La.isChromeOS,isFreeBSD:La.isFreeBSD,isiOS:La.isiOS,isLinux:La.isLinux,isOSX:La.isOSX,isSolaris:La.isSolaris,isWindows:La.isWindows},deviceType:{isDesktop:Ka.isDesktop,isiPad:Ka.isiPad,isiPhone:Ka.isiPhone,isPhone:Ka.isPhone,isTablet:Ka.isTablet,isTouch:Ka.isTouch,isWebView:Ka.isWebView}},ch=/^\s*|\s*$/g,vp=function(e){return e==null?"":(""+e).replace(ch,"")},ta=function(e,n){return n?n==="array"&&Df(e)?!0:typeof e===n:e!==void 0},dp=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},fh=Dr,r2=function(e,n,a){var i=this,l,v,p,S=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var A=e[3].match(/(^|\.)(\w+)$/i)[2],N=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!N[A]){if(e[2]==="static"){N[A]=n,this.onCreate&&this.onCreate(e[2],e[3],N[A]);return}n[A]||(n[A]=function(){},S=1),N[A]=n[A],i.extend(N[A].prototype,n),e[5]&&(l=i.resolve(e[5]).prototype,v=e[5].match(/\.(\w+)$/i)[1],p=N[A],S?N[A]=function(){return l[v].apply(this,arguments)}:N[A]=function(){return this.parent=l[v],p.apply(this,arguments)},N[A].prototype[A]=N[A],i.each(l,function(X,J){N[A].prototype[J]=l[J]}),i.each(n,function(X,J){l[J]?N[A].prototype[J]=function(){return this.parent=l[J],X.apply(this,arguments)}:J!==A&&(N[A].prototype[J]=X)})),i.each(n.static,function(X,J){N[A][J]=X})}},Sa=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var l=n[i];for(var v in l)if(Dr(l,v)){var p=l[v];p!==void 0&&(e[v]=p)}}return e},Js=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),Bc(e,function(l,v){if(n.call(i,l,v,a)===!1)return!1;Js(l,n,a,i)}))},a2=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},Sl=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},Jo=function(e,n){return!e||ta(e,"array")?e:Ov(e.split(n||","),vp)},Nf=function(e){var n=Wn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},wt={trim:vp,isArray:Df,is:ta,toArray:qs,makeMap:dp,each:Bc,map:Ov,grep:pl,inArray:bl,hasOwn:fh,extend:Sa,create:r2,walk:Js,createNS:a2,resolve:Sl,explode:Jo,_addCacheSuffix:Nf},vh=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return zf(i.childNodes[0])},xo=function(e,n){var a=n||document,i=a.createElement(e);return zf(i)},cb=function(e,n){var a=n||document,i=a.createTextNode(e);return zf(i)},zf=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Iv=function(e,n,a){return te.from(e.dom.elementFromPoint(n,a)).map(zf)},Ge={fromHtml:vh,fromTag:xo,fromText:cb,fromDom:zf,fromPoint:Iv},ai=function(e,n){var a=[],i=function(v){return a.push(v),n(v)},l=n(e);do l=l.bind(i);while(l.isSome());return a},dh=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},mp=function(e,n){return dh(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},fb=8,Id=9,hp=11,gp=1,xs=3,Ql=function(e,n){var a=e.dom;if(a.nodeType!==gp)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},vb=function(e){return e.nodeType!==gp&&e.nodeType!==Id&&e.nodeType!==hp||e.childElementCount===0},db=function(e,n){var a=n===void 0?document:n.dom;return vb(a)?[]:et(a.querySelectorAll(e),Ge.fromDom)},ec=function(e,n){var a=n===void 0?document:n.dom;return vb(a)?te.none():te.from(a.querySelector(e)).map(Ge.fromDom)},$a=function(e,n){return e.dom===n.dom},mb=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},fu=function(e,n){return mp(e.dom,n.dom)},Fi=function(e,n){return Bn().browser.isIE()?fu(e,n):mb(e,n)};typeof window<"u"||Function("return this;")();var ko=function(e){var n=e.dom.nodeName;return n.toLowerCase()},Nc=function(e){return e.dom.nodeType},cr=function(e){return function(n){return Nc(n)===e}},ns=function(e){return Nc(e)===fb||ko(e)==="#comment"},Ha=cr(gp),Xa=cr(xs),hb=cr(Id),oi=cr(hp),pp=function(e){return function(n){return Ha(n)&&ko(n)===e}},xl=function(e){return Ge.fromDom(e.dom.ownerDocument)},Xn=function(e){return hb(e)?e:xl(e)},rs=function(e){return Ge.fromDom(Xn(e).dom.documentElement)},no=function(e){return Ge.fromDom(Xn(e).dom.defaultView)},ro=function(e){return te.from(e.dom.parentNode).map(Ge.fromDom)},Lo=function(e,n){for(var a=se(n)?n:at,i=e.dom,l=[];i.parentNode!==null&&i.parentNode!==void 0;){var v=i.parentNode,p=Ge.fromDom(v);if(l.push(p),a(p)===!0)break;i=v}return l},Ao=function(e){var n=function(a){return ut(a,function(i){return!$a(e,i)})};return ro(e).map(Qi).map(n).getOr([])},Ff=function(e){return te.from(e.dom.previousSibling).map(Ge.fromDom)},ks=function(e){return te.from(e.dom.nextSibling).map(Ge.fromDom)},Kr=function(e){return ir(ai(e,Ff))},Ba=function(e){return ai(e,ks)},Qi=function(e){return et(e.dom.childNodes,Ge.fromDom)},tc=function(e,n){var a=e.dom.childNodes;return te.from(a[n]).map(Ge.fromDom)},Mo=function(e){return tc(e,0)},as=function(e){return tc(e,e.dom.childNodes.length-1)},gb=function(e){return e.dom.childNodes.length},Lf=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ge.fromDom(n)},ya=function(e){return oi(e)&&We(e.dom.host)},Zs=se(Element.prototype.attachShadow)&&se(Node.prototype.getRootNode),zc=j(Zs),vu=Zs?function(e){return Ge.fromDom(e.dom.getRootNode())}:Xn,fo=function(e){return ya(e)?e:Lf(Xn(e))},Fc=function(e){var n=vu(e);return ya(n)?te.some(n):te.none()},nc=function(e){return Ge.fromDom(e.dom.host)},Li=function(e){if(zc()&&We(e.target)){var n=Ge.fromDom(e.target);if(Ha(n)&&du(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return da(a)}}return te.from(e.target)},du=function(e){return We(e.dom.shadowRoot)},_i=function(e,n){var a=ro(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},Nv=function(e,n){var a=ks(e);a.fold(function(){var i=ro(e);i.each(function(l){Ho(l,n)})},function(i){_i(i,n)})},Qs=function(e,n){var a=Mo(e);a.fold(function(){Ho(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},Ho=function(e,n){e.dom.appendChild(n.dom)},Nd=function(e,n){_i(e,n),Ho(n,e)},pb=function(e,n){Le(n,function(a){_i(e,a)})},Hf=function(e,n){Le(n,function(a){Ho(e,a)})},Vf=function(e){e.dom.textContent="",Le(Qi(e),function(n){vo(n)})},vo=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Uf=function(e){var n=Qi(e);n.length>0&&pb(e,n),vo(e)},Wf=function(e){var n=Xa(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return Fc(Ge.fromDom(n)).fold(function(){return a.body.contains(n)},re(Wf,nc))},Hi=function(e,n){var a=function(i,l){return Hi(e+i,n+l)};return{left:e,top:n,translate:a}},rc=Hi,jf=function(e){var n=e.getBoundingClientRect();return rc(n.left,n.top)},ac=function(e,n){return e!==void 0?e:n!==void 0?n:0},ja=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,l=n.documentElement;if(a===e.dom)return rc(a.offsetLeft,a.offsetTop);var v=ac(i==null?void 0:i.pageYOffset,l.scrollTop),p=ac(i==null?void 0:i.pageXOffset,l.scrollLeft),S=ac(l.clientTop,a.clientTop),A=ac(l.clientLeft,a.clientLeft);return Bu(e).translate(p-A,v-S)},Bu=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?rc(i.offsetLeft,i.offsetTop):Wf(e)?jf(n):rc(0,0)},mh=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return rc(a,i)},os=function(e,n,a){var i=a!==void 0?a.dom:document,l=i.defaultView;l&&l.scrollTo(e,n)},hh=function(e,n){var a=Bn().browser.isSafari();a&&se(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},bb=function(e){var n=e===void 0?window:e;return Bn().browser.isFirefox()?te.none():te.from(n.visualViewport)},bp=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},Gf=function(e){var n=e===void 0?window:e,a=n.document,i=mh(Ge.fromDom(a));return bb(n).fold(function(){var l=n.document.documentElement,v=l.clientWidth,p=l.clientHeight;return bp(i.left,i.top,v,p)},function(l){return bp(Math.max(l.pageLeft,i.left),Math.max(l.pageTop,i.top),l.width,l.height)})},qf=function(e){return function(n){return!!n&&n.nodeType===e}},Lc=function(e){return!!e&&!Object.getPrototypeOf(e)},Zn=qf(1),As=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return Ae(n,i)}return!1}},mu=function(e,n){var a=n.toLowerCase().split(" ");return function(i){if(Zn(i))for(var l=0;l<a.length;l++){var v=i.ownerDocument.defaultView.getComputedStyle(i,null),p=v?v.getPropertyValue(e):null;if(p===a[l])return!0}return!1}},Vi=function(e){return function(n){return Zn(n)&&n.hasAttribute(e)}},Es=function(e,n){return function(a){return Zn(a)&&a.getAttribute(e)===n}},bo=function(e){return Zn(e)&&e.hasAttribute("data-mce-bogus")},Vo=function(e){return Zn(e)&&e.getAttribute("data-mce-bogus")==="all"},Eo=function(e){return Zn(e)&&e.tagName==="TABLE"},Hc=function(e){return function(n){return!!(Zn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},Si=As(["textarea","input"]),gn=qf(3),Kf=qf(8),yp=qf(9),dr=qf(11),wa=As(["br"]),gh=As(["img"]),kl=Hc("true"),Va=Hc("false"),ph=As(["td","th"]),Mu=As(["video","audio","object","embed"]),zd=function(e,n,a){return a===void 0&&(a=rt),e.exists(function(i){return a(i,n)})},gr=function(e){for(var n=[],a=function(l){n.push(l)},i=0;i<e.length;i++)e[i].each(a);return n},eu=function(e,n,a){return e.isSome()&&n.isSome()?te.some(a(e.getOrDie(),n.getOrDie())):te.none()},o2=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?te.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):te.none()},i2=function(e,n){return e?te.some(n):te.none()},Ga=function(e){return e.style!==void 0&&se(e.style.getPropertyValue)},bh=function(e,n,a){if($e(a)||ge(a)||ce(a))e.setAttribute(n,a+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},M=function(e,n,a){bh(e.dom,n,a)},Y=function(e,n){var a=e.dom;Vr(n,function(i,l){bh(a,l,i)})},ae=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},Ce=function(e,n){return te.from(ae(e,n))},qe=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},yt=function(e,n){e.dom.removeAttribute(n)},kn=function(e){return Rt(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},rr=function(e,n,a){if(!$e(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Ga(e)&&e.style.setProperty(n,a)},Rr=function(e,n){var a=e.dom;Vr(n,function(i,l){rr(a,l,i)})},pr=function(e,n){var a=e.dom,i=window.getComputedStyle(a),l=i.getPropertyValue(n);return l===""&&!Wf(e)?xa(a,n):l},xa=function(e,n){return Ga(e)?e.style.getPropertyValue(n):""},xi=function(e,n){var a=e.dom,i=xa(a,n);return te.from(i).filter(function(l){return l.length>0})},ao=function(e){var n={},a=e.dom;if(Ga(a))for(var i=0;i<a.style.length;i++){var l=a.style.item(i);n[l]=a.style[l]}return n},CA=function(e){return e.dom.offsetWidth},G_=Bn().browser,q_=function(e){return rn(e,Ha)},_A=function(e){return G_.isFirefox()&&ko(e)==="table"?q_(Qi(e)).filter(function(n){return ko(n)==="caption"}).bind(function(n){return q_(Ba(n)).map(function(a){var i=a.dom.offsetTop,l=n.dom.offsetTop,v=n.dom.offsetHeight;return i<=l?-v:0})}).getOr(0):0},oc=function(e,n){return e.children&&Ae(e.children,n)},wp=function(e,n,a){var i=0,l=0,v=e.ownerDocument;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&pr(Ge.fromDom(e),"position")==="static"){var p=n.getBoundingClientRect();return i=p.left+(v.documentElement.scrollLeft||e.scrollLeft)-v.documentElement.clientLeft,l=p.top+(v.documentElement.scrollTop||e.scrollTop)-v.documentElement.clientTop,{x:i,y:l}}for(var S=n;S&&S!==a&&S.nodeType&&!oc(S,a);){var A=S;i+=A.offsetLeft||0,l+=A.offsetTop||0,S=A.offsetParent}for(S=n.parentNode;S&&S!==a&&S.nodeType&&!oc(S,a);)i-=S.scrollLeft||0,l-=S.scrollTop||0,S=S.parentNode;l+=_A(Ge.fromDom(n))}return{x:i,y:l}},Pu={},yh={exports:Pu};(function(e,n,a,i){(function(l,v){typeof n=="object"&&typeof a<"u"?a.exports=v():typeof e=="function"&&e.amd?e(v):(l=typeof globalThis<"u"?globalThis:l||self,l.EphoxContactWrapper=v())})(this,function(){var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof B8<"u"?B8:typeof self<"u"?self:{},v={exports:{}};(function(N){(function(X){var J=setTimeout;function Q(){}function fe(Re,Qe){return function(){Re.apply(Qe,arguments)}}function de(Re){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Re!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],je(Re,this)}function he(Re,Qe){for(;Re._state===3;)Re=Re._value;if(Re._state===0){Re._deferreds.push(Qe);return}Re._handled=!0,de._immediateFn(function(){var St=Re._state===1?Qe.onFulfilled:Qe.onRejected;if(St===null){(Re._state===1?pe:Oe)(Qe.promise,Re._value);return}var Lt;try{Lt=St(Re._value)}catch(jn){Oe(Qe.promise,jn);return}pe(Qe.promise,Lt)})}function pe(Re,Qe){try{if(Qe===Re)throw new TypeError("A promise cannot be resolved with itself.");if(Qe&&(typeof Qe=="object"||typeof Qe=="function")){var St=Qe.then;if(Qe instanceof de){Re._state=3,Re._value=Qe,xe(Re);return}else if(typeof St=="function"){je(fe(St,Qe),Re);return}}Re._state=1,Re._value=Qe,xe(Re)}catch(Lt){Oe(Re,Lt)}}function Oe(Re,Qe){Re._state=2,Re._value=Qe,xe(Re)}function xe(Re){Re._state===2&&Re._deferreds.length===0&&de._immediateFn(function(){Re._handled||de._unhandledRejectionFn(Re._value)});for(var Qe=0,St=Re._deferreds.length;Qe<St;Qe++)he(Re,Re._deferreds[Qe]);Re._deferreds=null}function Xe(Re,Qe,St){this.onFulfilled=typeof Re=="function"?Re:null,this.onRejected=typeof Qe=="function"?Qe:null,this.promise=St}function je(Re,Qe){var St=!1;try{Re(function(Lt){St||(St=!0,pe(Qe,Lt))},function(Lt){St||(St=!0,Oe(Qe,Lt))})}catch(Lt){if(St)return;St=!0,Oe(Qe,Lt)}}de.prototype.catch=function(Re){return this.then(null,Re)},de.prototype.then=function(Re,Qe){var St=new this.constructor(Q);return he(this,new Xe(Re,Qe,St)),St},de.all=function(Re){var Qe=Array.prototype.slice.call(Re);return new de(function(St,Lt){if(Qe.length===0)return St([]);var jn=Qe.length;function mn(Vn,Ut){try{if(Ut&&(typeof Ut=="object"||typeof Ut=="function")){var vn=Ut.then;if(typeof vn=="function"){vn.call(Ut,function(Gt){mn(Vn,Gt)},Lt);return}}Qe[Vn]=Ut,--jn===0&&St(Qe)}catch(Gt){Lt(Gt)}}for(var Bt=0;Bt<Qe.length;Bt++)mn(Bt,Qe[Bt])})},de.resolve=function(Re){return Re&&typeof Re=="object"&&Re.constructor===de?Re:new de(function(Qe){Qe(Re)})},de.reject=function(Re){return new de(function(Qe,St){St(Re)})},de.race=function(Re){return new de(function(Qe,St){for(var Lt=0,jn=Re.length;Lt<jn;Lt++)Re[Lt].then(Qe,St)})},de._immediateFn=typeof setImmediate=="function"?function(Re){setImmediate(Re)}:function(Re){J(Re,0)},de._unhandledRejectionFn=function(Qe){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Qe)},de._setImmediateFn=function(Qe){de._immediateFn=Qe},de._setUnhandledRejectionFn=function(Qe){de._unhandledRejectionFn=Qe},N.exports?N.exports=de:X.Promise||(X.Promise=de)})(l)})(v);var p=v.exports,S=function(){return typeof window<"u"?window:Function("return this;")()}(),A={boltExport:S.Promise||p};return A})})(void 0,Pu,yh);var u2=yh.exports.boltExport,Cp=function(e){var n=te.none(),a=[],i=function(N){return Cp(function(X){l(function(J){X(N(J))})})},l=function(N){p()?A(N):a.push(N)},v=function(N){p()||(n=te.some(N),S(a),a=[])},p=function(){return n.isSome()},S=function(N){Le(N,A)},A=function(N){n.each(function(X){setTimeout(function(){N(X)},0)})};return e(v),{get:l,map:i,isReady:p}},yb=function(e){return Cp(function(n){n(e)})},K_={nu:Cp,pure:yb},SA=function(e){setTimeout(function(){throw e},0)},ic=function(e){var n=function(A){e().then(A,SA)},a=function(A){return ic(function(){return e().then(A)})},i=function(A){return ic(function(){return e().then(function(N){return A(N).toPromise()})})},l=function(A){return ic(function(){return e().then(function(){return A.toPromise()})})},v=function(){return K_.nu(n)},p=function(){var A=null;return ic(function(){return A===null&&(A=e()),A})},S=e;return{map:a,bind:i,anonBind:l,toLazy:v,toCached:p,toPromise:S,get:n}},_p=function(e){return ic(function(){return new u2(e)})},xA=function(e){return ic(function(){return u2.resolve(e)})},s2={nu:_p,pure:xA},kA=function(e,n){return n(function(a){var i=[],l=0,v=function(p){return function(S){i[p]=S,l++,l>=e.length&&a(i)}};e.length===0?a([]):Le(e,function(p,S){p.get(v(S))})})},AA=function(e){return kA(e,s2.nu)},wh=function(e){var n=function(J){return wh(e)},a=function(J){return wh(e)},i=function(J){return wh(J(e))},l=function(J){return wh(e)},v=function(J){J(e)},p=function(J){return J(e)},S=function(J,Q){return Q(e)},A=function(J){return J(e)},N=function(J){return J(e)},X=function(){return te.some(e)};return{isValue:ot,isError:at,getOr:j(e),getOrThunk:j(e),getOrDie:j(e),or:n,orThunk:a,fold:S,map:i,mapError:l,each:v,bind:p,exists:A,forall:N,toOptional:X}},Sp=function(e){var n=function(N){return N()},a=function(){return st(String(e))()},i=ke,l=function(N){return N()},v=function(N){return Sp(e)},p=function(N){return Sp(N(e))},S=function(N){return Sp(e)},A=function(N,X){return N(e)};return{isValue:at,isError:ot,getOr:ke,getOrThunk:n,getOrDie:a,or:i,orThunk:l,fold:A,map:v,mapError:p,each:Ee,bind:S,exists:at,forall:ot,toOptional:te.none}},X_=function(e,n){return e.fold(function(){return Sp(n)},wh)},Y_={value:wh,error:Sp,fromOption:X_},is=function(e){if(!Be(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return Le(e,function(i,l){var v=Zi(i);if(v.length!==1)throw new Error("one and only one name per case");var p=v[0],S=i[p];if(a[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Be(S))throw new Error("case arguments must be an array");n.push(p),a[p]=function(){for(var A=[],N=0;N<arguments.length;N++)A[N]=arguments[N];var X=A.length;if(X!==S.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+S.length+" ("+S+"), got "+X);var J=function(Q){var fe=Zi(Q);if(n.length!==fe.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+fe.join(","));var de=qr(n,function(he){return Ae(fe,he)});if(!de)throw new Error("Not all branches were specified when using match. Specified: "+fe.join(", ")+`
Required: `+n.join(", "));return Q[p].apply(null,A)};return{fold:function(){for(var Q=[],fe=0;fe<arguments.length;fe++)Q[fe]=arguments[fe];if(Q.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Q.length);var de=Q[l];return de.apply(null,A)},match:J,log:function(Q){console.log(Q,{constructors:n,constructor:p,params:A})}}}}),a},Mn={generate:is};Mn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Xf=function(e){return e.fold(ke,ke)};function xp(e,n,a,i,l){return e(a,i)?te.some(a):se(l)&&l(a)?te.none():n(a,i,l)}var zv=function(e,n,a){for(var i=e.dom,l=se(a)?a:at;i.parentNode;){i=i.parentNode;var v=Ge.fromDom(i);if(n(v))return te.some(v);if(l(v))break}return te.none()},Ch=function(e,n,a){var i=function(l,v){return v(l)};return xp(i,zv,e,n,a)},l2=function(e,n){var a=e.dom;return a.parentNode?Al(Ge.fromDom(a.parentNode),function(i){return!$a(e,i)&&n(i)}):te.none()},Al=function(e,n){var a=function(l){return n(Ge.fromDom(l))},i=rn(e.dom.childNodes,a);return i.map(Ge.fromDom)},Fd=function(e,n,a){return zv(e,function(i){return Ql(i,n)},a)},_h=function(e,n){return ec(n,e)},yo=function(e,n,a){var i=function(l,v){return Ql(l,v)};return xp(i,Fd,e,n,a)},ii=window.Promise?window.Promise:u2,kp,Vc=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],l=function(p){window.setTimeout(p,0)},v=0;v<i.length&&!a;v++)a=window[i[v]+"RequestAnimationFrame"];a||(a=l),a(e,n)},Ap=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},wb=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},Cb=function(e){return clearTimeout(e)},EA=function(e){return clearInterval(e)},Sh=function(e,n){var a,i=function(){for(var l=[],v=0;v<arguments.length;v++)l[v]=arguments[v];clearTimeout(a),a=Ap(function(){e.apply(this,l)},n)};return i.stop=function(){clearTimeout(a)},i},Ui={requestAnimationFrame:function(e,n){if(kp){kp.then(e);return}kp=new ii(function(a){n||(n=document.body),Vc(a,n)}).then(e)},setTimeout:Ap,setInterval:wb,setEditorTimeout:function(e,n,a){return Ap(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=wb(function(){e.removed?clearInterval(i):n()},a);return i},debounce:Sh,throttle:Sh,clearInterval:EA,clearTimeout:Cb},J_=function(e,n){n===void 0&&(n={});var a=0,i={},l=Ge.fromDom(e),v=Xn(l),p=n.maxLoadTime||5e3,S=function(pe){n.referrerPolicy=pe},A=function(pe){Ho(fo(l),pe)},N=function(pe){var Oe=fo(l);_h(Oe,"#"+pe).each(vo)},X=function(pe){return Ir(i,pe).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},J=function(pe,Oe,xe){var Xe,je=wt._addCacheSuffix(pe),Re=X(je);i[je]=Re,Re.count++;var Qe=function(Ut,vn){for(var Gt=Ut.length;Gt--;)Ut[Gt]();Re.status=vn,Re.passed=[],Re.failed=[],Xe&&(Xe.onload=null,Xe.onerror=null,Xe=null)},St=function(){return Qe(Re.passed,2)},Lt=function(){return Qe(Re.failed,3)},jn=function(Ut,vn){Ut()||(Date.now()-Vn<p?Ui.setTimeout(vn):Lt())},mn=function(){jn(function(){for(var Ut=e.styleSheets,vn=Ut.length;vn--;){var Gt=Ut[vn],Qt=Gt.ownerNode;if(Qt&&Qt.id===Xe.id)return St(),!0}return!1},mn)};if(Oe&&Re.passed.push(Oe),xe&&Re.failed.push(xe),Re.status!==1){if(Re.status===2){St();return}if(Re.status===3){Lt();return}Re.status=1;var Bt=Ge.fromTag("link",v.dom);Y(Bt,{rel:"stylesheet",type:"text/css",id:Re.id});var Vn=Date.now();n.contentCssCors&&M(Bt,"crossOrigin","anonymous"),n.referrerPolicy&&M(Bt,"referrerpolicy",n.referrerPolicy),Xe=Bt.dom,Xe.onload=mn,Xe.onerror=Lt,A(Bt),M(Bt,"href",je)}},Q=function(pe){return s2.nu(function(Oe){J(pe,Ue(Oe,j(Y_.value(pe))),Ue(Oe,j(Y_.error(pe))))})},fe=function(pe,Oe,xe){AA(et(pe,Q)).get(function(Xe){var je=Jt(Xe,function(Re){return Re.isValue()});je.fail.length>0?xe(je.fail.map(Xf)):Oe(je.pass.map(Xf))})},de=function(pe){var Oe=wt._addCacheSuffix(pe);Ir(i,Oe).each(function(xe){var Xe=--xe.count;Xe===0&&(delete i[Oe],N(xe.id))})},he=function(pe){Le(pe,function(Oe){de(Oe)})};return{load:J,loadAll:fe,unload:de,unloadAll:he,_setReferrerPolicy:S}},Ya=function(){var e=new WeakMap,n=function(a,i){var l=vu(a),v=l.dom;return te.from(e.get(v)).getOrThunk(function(){var p=J_(v,i);return e.set(v,p),p})};return{forElement:n}},El=Ya(),sa=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,l){var v,p;if(n){if(!l&&n[a])return n[a];if(n!==this.rootNode){if(v=n[i],v)return v;for(p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(v=p[i],v)return v}}},e.prototype.findPreviousNode=function(n,a,i,l){var v,p,S;if(n){if(v=n[i],this.rootNode&&v===this.rootNode)return;if(v){if(!l){for(S=v[a];S;S=S[a])if(!S[a])return S}return v}if(p=n.parentNode,p&&p!==this.rootNode)return p}},e}(),Fv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],el=["td","th"],TA=["thead","tbody","tfoot"],Uo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],hu=["h1","h2","h3","h4","h5","h6"],Z_=["li","dd","dt"],At=["ul","ol","dl"],Iu=["pre","script","textarea","style"],Yf=function(e){var n;return function(a){return n=n||va(e,ot),Dr(n,ko(a))}},Qn=Yf(hu),Ts=Yf(Fv),OA=function(e){return ko(e)==="table"},tu=function(e){return Ha(e)&&!Ts(e)},xh=function(e){return Ha(e)&&ko(e)==="br"},Uc=Yf(Uo),Tl=Yf(At),Wi=Yf(Z_),Xr=Yf(TA),uc=Yf(el),Ld=Yf(Iu),Ea=function(e,n,a){return Fd(e,n,a).isSome()},Lv="\uFEFF",us=" ",ss=function(e){return e===Lv},DA=function(e){return e.replace(/\uFEFF/g,"")},He=Lv,gu=ss,sc=DA,kh=Zn,Os=gn,Ca=function(e){return Os(e)&&(e=e.parentNode),kh(e)&&e.hasAttribute("data-mce-caret")},Ta=function(e){return Os(e)&&gu(e.data)},Nu=function(e){return Ca(e)||Ta(e)},Jf=function(e){return e.firstChild!==e.lastChild||!wa(e.firstChild)},c2=function(e,n){var a=e.ownerDocument,i=a.createTextNode(He),l=e.parentNode;if(n){var v=e.previousSibling;if(Os(v)){if(Nu(v))return v;if(Tp(v))return v.splitText(v.data.length-1)}l.insertBefore(i,e)}else{var v=e.nextSibling;if(Os(v)){if(Nu(v))return v;if(Ep(v))return v.splitText(1),v}e.nextSibling?l.insertBefore(i,e.nextSibling):l.appendChild(i)}return i},zn=function(e){var n=e.container();return gn(n)?n.data.charAt(e.offset())===He||e.isAtStart()&&Ta(n.previousSibling):!1},_b=function(e){var n=e.container();return gn(n)?n.data.charAt(e.offset()-1)===He||e.isAtEnd()&&Ta(n.nextSibling):!1},Ds=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Q_=function(e,n,a){var i=n.ownerDocument,l=i.createElement(e);l.setAttribute("data-mce-caret",a?"before":"after"),l.setAttribute("data-mce-bogus","all"),l.appendChild(Ds());var v=n.parentNode;return a?v.insertBefore(l,n):n.nextSibling?v.insertBefore(l,n.nextSibling):v.appendChild(l),l},Ep=function(e){return Os(e)&&e.data[0]===He},Tp=function(e){return Os(e)&&e.data[e.data.length-1]===He},f2=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];bo(a)&&a.parentNode.removeChild(a)},v2=function(e){return e&&e.hasAttribute("data-mce-caret")?(f2(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Wc=function(e){return Ca(e.startContainer)},Zf=kl,RA=Va,d2=wa,$A=gn,eS=As(["script","style","textarea"]),Op=As(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ah=As(["table"]),tS=Nu,jc=function(e){return tS(e)?!1:$A(e)?!eS(e.parentNode):Op(e)||d2(e)||Ah(e)||m2(e)},Eh=function(e){return Zn(e)&&e.getAttribute("unselectable")==="true"},m2=function(e){return Eh(e)===!1&&RA(e)},nS=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(m2(e))return!1;if(Zf(e))return!0}return!0},BA=function(e){return m2(e)?Rt(vr(e.getElementsByTagName("*")),function(n,a){return n||Zf(a)},!1)!==!0:!1},MA=function(e){return Op(e)||BA(e)},Po=function(e,n){return jc(e)&&nS(e,n)},Gc=/^[ \t\r\n]*$/,Ol=function(e){return Gc.test(e)},Hv=function(e,n){var a=Ge.fromDom(n),i=Ge.fromDom(e);return Ea(i,"pre,code",le($a,a))},rS=function(e,n){return gn(e)&&Ol(e.data)&&Hv(e,n)===!1},Dl=function(e){return Zn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Hd=function(e,n){return jc(e)&&rS(e,n)===!1||Dl(e)||h2(e)},h2=Vi("data-mce-bookmark"),g2=Vi("data-mce-bogus"),Qf=Es("data-mce-bogus","all"),tl=function(e,n){var a=0;if(Hd(e,e))return!1;var i=e.firstChild;if(!i)return!0;var l=new sa(i,e);do{if(n){if(Qf(i)){i=l.next(!0);continue}if(g2(i)){i=l.next();continue}}if(wa(i)){a++,i=l.next();continue}if(Hd(i,e))return!1;i=l.next()}while(i);return a<=1},ki=function(e,n){return n===void 0&&(n=!0),tl(e.dom,n)},Sb=function(e){return e.nodeName.toLowerCase()==="span"},p2=function(e,n){return We(e)&&(Hd(e,n)||tu(Ge.fromDom(e)))},Vd=function(e,n){var a=new sa(e,n).prev(!1),i=new sa(e,n).next(!1),l=De(a)||p2(a,n),v=De(i)||p2(i,n);return l&&v},Th=function(e){return Sb(e)&&e.getAttribute("data-mce-type")==="bookmark"},Oh=function(e,n){return gn(e)&&e.data.length>0&&Vd(e,n)},PA=function(e){return Zn(e)?e.childNodes.length>0:!1},Dh=function(e){return dr(e)||yp(e)},b2=function(e,n,a){var i=a||n;if(Zn(n)&&Th(n))return n;for(var l=n.childNodes,v=l.length-1;v>=0;v--)b2(e,l[v],i);if(Zn(n)){var p=n.childNodes;p.length===1&&Th(p[0])&&n.parentNode.insertBefore(p[0],n)}return!Dh(n)&&!Hd(n,i)&&!PA(n)&&!Oh(n,i)&&e.remove(n),n},IA=wt.makeMap,oo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vv=/[<>&\"\']/g,y2=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,w2={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},nl={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Rs={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Ud=function(e){var n=Ge.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Uv=function(e,n){var a,i,l,v={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),nl[i]||(l="&"+e[a+1]+";",v[i]=l,v[l]=i);return v}},kb=Uv("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Dp=function(e,n){return e.replace(n?oo:xb,function(a){return nl[a]||a})},C2=function(e){return(""+e).replace(Vv,function(n){return nl[n]||n})},Wd=function(e,n){return e.replace(n?oo:xb,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":nl[a]||"&#"+a.charCodeAt(0)+";"})},Ab=function(e,n,a){return a=a||kb,e.replace(n?oo:xb,function(i){return nl[i]||a[i]||i})},NA=function(e,n){var a=Uv(n)||kb,i=function(p,S){return p.replace(S?oo:xb,function(A){return nl[A]!==void 0?nl[A]:a[A]!==void 0?a[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"})},l=function(p,S){return Ab(p,S,a)},v=IA(e.replace(/\+/g,","));return v.named&&v.numeric?i:v.named?n?l:Ab:v.numeric?Wd:Dp},_2=function(e){return e.replace(y2,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):w2[a]||String.fromCharCode(a)):Rs[n]||kb[n]||Ud(n)})},$s={encodeRaw:Dp,encodeAllRaw:C2,encodeNumeric:Wd,encodeNamed:Ab,getEncodeFunc:NA,decode:_2},ls={},Rh={},Rl=wt.makeMap,ji=wt.each,Eb=wt.extend,ev=wt.explode,aS=wt.inArray,Ai=function(e,n){return e=wt.trim(e),e?e.split(n||" "):[]},S2=function(e,n){var a=Rl(e," ",Rl(e.toUpperCase()," "));return Eb(a,n)},Tb=function(e){return S2("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},Wr=function(e){var n={},a,i,l,v,p,S,A=function(X,J,Q){var fe,de,he,pe=function(xe,Xe){var je={},Re,Qe;for(Re=0,Qe=xe.length;Re<Qe;Re++)je[xe[Re]]=Xe||{};return je};Q=Q||[],J=J||"",typeof Q=="string"&&(Q=Ai(Q));var Oe=Ai(X);for(fe=Oe.length;fe--;)de=Ai([a,J].join(" ")),he={attributes:pe(de),attributesOrder:de,children:pe(Q,Rh)},n[Oe[fe]]=he},N=function(X,J){var Q,fe,de,he,pe=Ai(X);Q=pe.length;for(var Oe=Ai(J);Q--;)for(fe=n[pe[Q]],de=0,he=Oe.length;de<he;de++)fe.attributes[Oe[de]]={},fe.attributesOrder.push(Oe[de])};return ls[e]?ls[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",S="acronym applet basefont big font strike tt",l=[l,S].join(" "),ji(Ai(S),function(X){A(X,"",l)}),p="center dir isindex noframes",i=[i,p].join(" "),v=[i,l].join(" "),ji(Ai(p),function(X){A(X,"",v)})),v=v||[i,l].join(" "),A("html","manifest","head body"),A("head","","base command link meta noscript script style title"),A("title hr noscript br"),A("base","href target"),A("link","href rel media hreflang type sizes hreflang"),A("meta","name http-equiv content charset"),A("style","media type scoped"),A("script","src async defer type charset"),A("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",v),A("address dt dd div caption","",v),A("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),A("blockquote","cite",v),A("ol","reversed start type","li"),A("ul","","li"),A("li","value",v),A("dl","","dt dd"),A("a","href target rel media hreflang type",l),A("q","cite",l),A("ins del","cite datetime",v),A("img","src sizes srcset alt usemap ismap width height"),A("iframe","src name width height",v),A("embed","src type width height"),A("object","data type typemustmatch name usemap form width height",[v,"param"].join(" ")),A("param","name value"),A("map","name",[v,"area"].join(" ")),A("area","alt coords shape href target rel media hreflang type"),A("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),A("colgroup","span","col"),A("col","span"),A("tbody thead tfoot","","tr"),A("tr","","td th"),A("td","colspan rowspan headers",v),A("th","colspan rowspan headers scope abbr",v),A("form","accept-charset action autocomplete enctype method name novalidate target",v),A("fieldset","disabled form name",[v,"legend"].join(" ")),A("label","form for",l),A("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),A("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?v:l),A("select","disabled form multiple name required size","option optgroup"),A("optgroup","disabled label","option"),A("option","disabled label selected value"),A("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),A("menu","type label",[v,"li"].join(" ")),A("noscript","",v),e!=="html4"&&(A("wbr"),A("ruby","",[l,"rt rp"].join(" ")),A("figcaption","",v),A("mark rt rp summary bdi","",l),A("canvas","width height",v),A("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[v,"track source"].join(" ")),A("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[v,"track source"].join(" ")),A("picture","","img source"),A("source","src srcset type media sizes"),A("track","kind src srclang label default"),A("datalist","",[l,"option"].join(" ")),A("article section nav aside main header footer","",v),A("hgroup","","h1 h2 h3 h4 h5 h6"),A("figure","",[v,"figcaption"].join(" ")),A("time","datetime",l),A("dialog","open",v),A("command","type label icon disabled checked radiogroup command"),A("output","for form name",l),A("progress","value max",l),A("meter","value min max low high optimum",l),A("details","open",[v,"summary"].join(" ")),A("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(N("script","language xml:space"),N("style","xml:space"),N("object","declare classid code codebase codetype archive standby align border hspace vspace"),N("embed","align name hspace vspace"),N("param","valuetype type"),N("a","charset name rev shape coords"),N("br","clear"),N("applet","codebase archive code object alt name width height align hspace vspace"),N("img","name longdesc align border hspace vspace"),N("iframe","longdesc frameborder marginwidth marginheight scrolling align"),N("font basefont","size color face"),N("input","usemap align"),N("select"),N("textarea"),N("h1 h2 h3 h4 h5 h6 div p legend caption","align"),N("ul","type compact"),N("li","type"),N("ol dl menu dir","compact"),N("pre","width xml:space"),N("hr","align noshade size width"),N("isindex","prompt"),N("table","summary width frame rules cellspacing cellpadding align bgcolor"),N("col","width align char charoff valign"),N("colgroup","width align char charoff valign"),N("thead","align char charoff valign"),N("tr","align char charoff valign bgcolor"),N("th","axis align char charoff valign nowrap bgcolor width height"),N("form","accept"),N("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),N("tfoot","align char charoff valign"),N("tbody","align char charoff valign"),N("area","nohref"),N("body","background bgcolor text link vlink alink")),e!=="html4"&&(N("input button select textarea","autofocus"),N("input textarea","placeholder"),N("a","download"),N("link script img","crossorigin"),N("img","loading"),N("iframe","sandbox seamless allowfullscreen loading")),ji(Ai("a form meter progress dfn"),function(X){n[X]&&delete n[X].children[X]}),delete n.caption.children.table,delete n.script,ls[e]=n,n)},Fn=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),ji(e,function(i,l){a[l]=a[l.toUpperCase()]=n==="map"?Rl(i,/[, ]/):ev(i,/[, ]/)})),a},Bs=function(e){var n={},a={},i=[],l={},v={},p=function(Nt,Kt,$n){var tt=e[Nt];return tt?tt=Rl(tt,/[, ]/,Rl(tt.toUpperCase(),/[, ]/)):(tt=ls[Nt],tt||(tt=S2(Kt,$n),ls[Nt]=tt)),tt};e=e||{};var S=Wr(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var A=Fn(e.valid_styles),N=Fn(e.invalid_styles,"map"),X=Fn(e.valid_classes,"map"),J=p("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Q=p("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),fe=p("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),de=p("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),he="td th iframe video audio object script code",pe=p("non_empty_elements",he+" pre",fe),Oe=p("move_caret_before_on_enter_elements",he+" table",fe),xe=p("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Xe=p("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",xe),je=p("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");ji((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Nt){v[Nt]=new RegExp("</"+Nt+"[^>]*>","gi")});var Re=function(Nt){return new RegExp("^"+Nt.replace(/([?+*])/g,".$1")+"$")},Qe=function(Nt){var Kt,$n,tt,Vt,zt,Pn,Ln,Aa,ni,Yo,Im,Gu,Eu,mi,Ul,qu,xf,Oa,Wa=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,hi=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,bs=/[*?+]/;if(Nt){var Sv=Ai(Nt,",");for(n["@"]&&(qu=n["@"].attributes,xf=n["@"].attributesOrder),Kt=0,$n=Sv.length;Kt<$n;Kt++)if(zt=Wa.exec(Sv[Kt]),zt){if(mi=zt[1],ni=zt[2],Ul=zt[3],Aa=zt[5],Gu={},Eu=[],Pn={attributes:Gu,attributesOrder:Eu},mi==="#"&&(Pn.paddEmpty=!0),mi==="-"&&(Pn.removeEmpty=!0),zt[4]==="!"&&(Pn.removeEmptyAttrs=!0),qu&&(Vr(qu,function(xv,Qg){Gu[Qg]=xv}),Eu.push.apply(Eu,xf)),Aa){for(Aa=Ai(Aa,"|"),tt=0,Vt=Aa.length;tt<Vt;tt++)if(zt=hi.exec(Aa[tt]),zt){if(Ln={},Im=zt[1],Yo=zt[2].replace(/[\\:]:/g,":"),mi=zt[3],Oa=zt[4],Im==="!"&&(Pn.attributesRequired=Pn.attributesRequired||[],Pn.attributesRequired.push(Yo),Ln.required=!0),Im==="-"){delete Gu[Yo],Eu.splice(aS(Eu,Yo),1);continue}mi&&(mi==="="&&(Pn.attributesDefault=Pn.attributesDefault||[],Pn.attributesDefault.push({name:Yo,value:Oa}),Ln.defaultValue=Oa),mi===":"&&(Pn.attributesForced=Pn.attributesForced||[],Pn.attributesForced.push({name:Yo,value:Oa}),Ln.forcedValue=Oa),mi==="<"&&(Ln.validValues=Rl(Oa,"?"))),bs.test(Yo)?(Pn.attributePatterns=Pn.attributePatterns||[],Ln.pattern=Re(Yo),Pn.attributePatterns.push(Ln)):(Gu[Yo]||Eu.push(Yo),Gu[Yo]=Ln)}}!qu&&ni==="@"&&(qu=Gu,xf=Eu),Ul&&(Pn.outputName=ni,n[Ul]=Pn),bs.test(ni)?(Pn.pattern=Re(ni),i.push(Pn)):n[ni]=Pn}}},St=function(Nt){n={},i=[],Qe(Nt),ji(S,function(Kt,$n){a[$n]=Kt.children})},Lt=function(Nt){var Kt=/^(~)?(.+)$/;Nt&&(ls.text_block_elements=ls.block_elements=null,ji(Ai(Nt,","),function($n){var tt=Kt.exec($n),Vt=tt[1]==="~",zt=Vt?"span":"div",Pn=tt[2];if(a[Pn]=a[zt],l[Pn]=zt,Vt||(Xe[Pn.toUpperCase()]={},Xe[Pn]={}),!n[Pn]){var Ln=n[zt];Ln=Eb({},Ln),delete Ln.removeEmptyAttrs,delete Ln.removeEmpty,n[Pn]=Ln}ji(a,function(Aa,ni){Aa[zt]&&(a[ni]=Aa=Eb({},a[ni]),Aa[Pn]=Aa[zt])})}))},jn=function(Nt){var Kt=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;ls[e.schema]=null,Nt&&ji(Ai(Nt,","),function($n){var tt=Kt.exec($n),Vt,zt;tt&&(zt=tt[1],zt?Vt=a[tt[2]]:Vt=a[tt[2]]={"#comment":{}},Vt=a[tt[2]],ji(Ai(tt[3],"|"),function(Pn){zt==="-"?delete Vt[Pn]:Vt[Pn]={}}))})},mn=function(Nt){var Kt=n[Nt],$n;if(Kt)return Kt;for($n=i.length;$n--;)if(Kt=i[$n],Kt.pattern.test(Nt))return Kt};e.valid_elements?St(e.valid_elements):(ji(S,function(Nt,Kt){n[Kt]={attributes:Nt.attributes,attributesOrder:Nt.attributesOrder},a[Kt]=Nt.children}),e.schema!=="html5"&&ji(Ai("strong/b em/i"),function(Nt){var Kt=Ai(Nt,"/");n[Kt[1]].outputName=Kt[0]}),ji(je,function(Nt,Kt){n[Kt]&&(e.padd_empty_block_inline_children&&(n[Kt].paddInEmptyBlock=!0),n[Kt].removeEmpty=!0)}),ji(Ai("ol ul blockquote a table tbody"),function(Nt){n[Nt]&&(n[Nt].removeEmpty=!0)}),ji(Ai("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Nt){n[Nt].paddEmpty=!0}),ji(Ai("span"),function(Nt){n[Nt].removeEmptyAttrs=!0})),Lt(e.custom_elements),jn(e.valid_children),Qe(e.extended_valid_elements),jn("+ol[ul|ol],+ul[ul|ol]"),ji({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Nt,Kt){n[Kt]&&(n[Kt].parentsRequired=Ai(Nt))}),e.invalid_elements&&ji(ev(e.invalid_elements),function(Nt){n[Nt]&&delete n[Nt]}),mn("span")||Qe("span[!data-mce-type|*]");var Bt=j(A),Vn=j(N),Ut=j(X),vn=j(de),Gt=j(Xe),Qt=j(xe),yn=j(je),Pt=j(fe),hn=j(Q),kr=j(pe),ra=j(Oe),Zr=j(J),Pi=j(v),uo=function(Nt,Kt){var $n=a[Nt.toLowerCase()];return!!($n&&$n[Kt.toLowerCase()])},ju=function(Nt,Kt){var $n,tt,Vt=mn(Nt);if(Vt)if(Kt){if(Vt.attributes[Kt])return!0;if($n=Vt.attributePatterns,$n){for(tt=$n.length;tt--;)if($n[tt].pattern.test(Nt))return!0}}else return!0;return!1},ps=j(l);return{children:a,elements:n,getValidStyles:Bt,getValidClasses:Ut,getBlockElements:Gt,getInvalidStyles:Vn,getShortEndedElements:Pt,getTextBlockElements:Qt,getTextInlineElements:yn,getBoolAttrs:vn,getElementRule:mn,getSelfClosingElements:hn,getNonEmptyElements:kr,getMoveCaretBeforeOnEnterElements:ra,getWhiteSpaceElements:Zr,getSpecialElements:Pi,isValidChild:uo,isValid:ju,getCustomElements:ps,addValidElements:Qe,setValidElements:St,addCustomElements:Lt,addValidChildren:jn}},Ob=function(e,n,a,i){var l=function(v){return v=parseInt(v,10).toString(16),v.length>1?v:"0"+v};return"#"+l(n)+l(a)+l(i)},$l=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,v=/\s*([^:]+):\s*([^;]+);?/g,p=/\s+$/,S,A={},N,X,J=Lv;e=e||{},n&&(N=n.getValidStyles(),X=n.getInvalidStyles());var Q=(`\\" \\' \\; \\: ; : `+J).split(" ");for(S=0;S<Q.length;S++)A[Q[S]]=J+S,A[J+S]=Q[S];return{toHex:function(fe){return fe.replace(i,Ob)},parse:function(fe){var de={},he,pe,Oe,xe,Xe=e.url_converter,je=e.url_converter_scope||a,Re=function(Ut,vn,Gt){var Qt=de[Ut+"-top"+vn];if(Qt){var yn=de[Ut+"-right"+vn];if(yn){var Pt=de[Ut+"-bottom"+vn];if(Pt){var hn=de[Ut+"-left"+vn];if(hn){var kr=[Qt,yn,Pt,hn];for(S=kr.length-1;S--&&kr[S]===kr[S+1];);S>-1&&Gt||(de[Ut+vn]=S===-1?kr[0]:kr.join(" "),delete de[Ut+"-top"+vn],delete de[Ut+"-right"+vn],delete de[Ut+"-bottom"+vn],delete de[Ut+"-left"+vn])}}}}},Qe=function(Ut){var vn=de[Ut],Gt;if(vn){for(vn=vn.split(" "),Gt=vn.length;Gt--;)if(vn[Gt]!==vn[0])return!1;return de[Ut]=vn[0],!0}},St=function(Ut,vn,Gt,Qt){Qe(vn)&&Qe(Gt)&&Qe(Qt)&&(de[Ut]=de[vn]+" "+de[Gt]+" "+de[Qt],delete de[vn],delete de[Gt],delete de[Qt])},Lt=function(Ut){return xe=!0,A[Ut]},jn=function(Ut,vn){return xe&&(Ut=Ut.replace(/\uFEFF[0-9]/g,function(Gt){return A[Gt]})),vn||(Ut=Ut.replace(/\\([\'\";:])/g,"$1")),Ut},mn=function(Ut){return String.fromCharCode(parseInt(Ut.slice(1),16))},Bt=function(Ut){return Ut.replace(/\\[0-9a-f]+/gi,mn)},Vn=function(Ut,vn,Gt,Qt,yn,Pt){if(yn=yn||Pt,yn)return yn=jn(yn),"'"+yn.replace(/\'/g,"\\'")+"'";if(vn=jn(vn||Gt||Qt),!e.allow_script_urls){var hn=vn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(hn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(hn))return""}return Xe&&(vn=Xe.call(je,vn,"style")),"url('"+vn.replace(/\'/g,"\\'")+"')"};if(fe){for(fe=fe.replace(/[\u0000-\u001F]/g,""),fe=fe.replace(/\\[\"\';:\uFEFF]/g,Lt).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Ut){return Ut.replace(/[;:]/g,Lt)});he=v.exec(fe);)if(v.lastIndex=he.index+he[0].length,pe=he[1].replace(p,"").toLowerCase(),Oe=he[2].replace(p,""),pe&&Oe){if(pe=Bt(pe),Oe=Bt(Oe),pe.indexOf(J)!==-1||pe.indexOf('"')!==-1||!e.allow_script_urls&&(pe==="behavior"||/expression\s*\(|\/\*|\*\//.test(Oe)))continue;pe==="font-weight"&&Oe==="700"?Oe="bold":(pe==="color"||pe==="background-color")&&(Oe=Oe.toLowerCase()),Oe=Oe.replace(i,Ob),Oe=Oe.replace(l,Vn),de[pe]=xe?jn(Oe,!0):Oe}Re("border","",!0),Re("border","-width"),Re("border","-color"),Re("border","-style"),Re("padding",""),Re("margin",""),St("border","border-width","border-style","border-color"),de.border==="medium none"&&delete de.border,de["border-image"]==="none"&&delete de["border-image"]}return de},serialize:function(fe,de){var he="",pe=function(xe){var Xe,je=N[xe];if(je)for(var Re=0,Qe=je.length;Re<Qe;Re++)xe=je[Re],Xe=fe[xe],Xe&&(he+=(he.length>0?" ":"")+xe+": "+Xe+";")},Oe=function(xe,Xe){var je=X["*"];return je&&je[xe]?!1:(je=X[Xe],!(je&&je[xe]))};return de&&N?(pe("*"),pe(de)):Vr(fe,function(xe,Xe){xe&&(!X||Oe(Xe,de))&&(he+=(he.length>0?" ":"")+Xe+": "+xe+";")}),he}}},oS={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},_a=function(e){return e instanceof Event||se(e.initEvent)},x2=function(e){return e.isDefaultPrevented===ot||e.isDefaultPrevented===at},Db=function(e){return Se(e.preventDefault)||_a(e)},Rb=function(e,n){var a=n??{};for(var i in e)Dr(oS,i)||(a[i]=e[i]);return We(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},$t=function(e,n,a,i){var l,v=Rb(n,i);return v.type=e,Se(v.target)&&(v.target=(l=v.srcElement)!==null&&l!==void 0?l:a),Db(n)&&(v.preventDefault=function(){v.defaultPrevented=!0,v.isDefaultPrevented=ot,se(n.preventDefault)?n.preventDefault():_a(n)&&(n.returnValue=!1)},v.stopPropagation=function(){v.cancelBubble=!0,v.isPropagationStopped=ot,se(n.stopPropagation)?n.stopPropagation():_a(n)&&(n.cancelBubble=!0)},v.stopImmediatePropagation=function(){v.isImmediatePropagationStopped=ot,v.stopPropagation()},x2(v)||(v.isDefaultPrevented=v.defaultPrevented===!0?ot:at,v.isPropagationStopped=v.cancelBubble===!0?ot:at,v.isImmediatePropagationStopped=at)),v},k2="mce-data-",A2=/^(?:mouse|contextmenu)|click/,Wv=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},Rp=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},jd=function(e){return We(e)&&A2.test(e.type)},jv=function(e,n){var a=$t(e.type,e,document,n);if(jd(e)&&De(e.pageX)&&!De(e.clientX)){var i=a.target.ownerDocument||document,l=i.documentElement,v=i.body,p=a;p.pageX=e.clientX+(l&&l.scrollLeft||v&&v.scrollLeft||0)-(l&&l.clientLeft||v&&v.clientLeft||0),p.pageY=e.clientY+(l&&l.scrollTop||v&&v.scrollTop||0)-(l&&l.clientTop||v&&v.clientTop||0)}return De(a.metaKey)&&(a.metaKey=!1),a},Gd=function(e,n,a){var i=e.document,l={type:"ready"};if(a.domLoaded){n(l);return}var v=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},p=function(){Rp(e,"DOMContentLoaded",p),Rp(e,"load",p),a.domLoaded||(a.domLoaded=!0,n(l)),e=null};v()?p():Wv(e,"DOMContentLoaded",p),a.domLoaded||Wv(e,"load",p)},$h=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=k2+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,l){var v=this,p,S,A,N,X,J,Q,fe=window,de=function(pe){v.executeHandlers(jv(pe||fe.event),p)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[v.expando]?p=n[v.expando]:(p=v.count++,n[v.expando]=p,v.events[p]={}),l=l||n;var he=a.split(" ");for(A=he.length;A--;){if(N=he[A],J=de,X=Q=!1,N==="DOMContentLoaded"&&(N="ready"),v.domLoaded&&N==="ready"&&n.readyState==="complete"){i.call(l,jv({type:N}));continue}v.hasMouseEnterLeave||(X=v.mouseEnterLeave[N],X&&(J=function(pe){var Oe=pe.currentTarget,xe=pe.relatedTarget;if(xe&&Oe.contains)xe=Oe.contains(xe);else for(;xe&&xe!==Oe;)xe=xe.parentNode;xe||(pe=jv(pe||fe.event),pe.type=pe.type==="mouseout"?"mouseleave":"mouseenter",pe.target=Oe,v.executeHandlers(pe,p))})),!v.hasFocusIn&&(N==="focusin"||N==="focusout")&&(Q=!0,X=N==="focusin"?"focus":"blur",J=function(pe){pe=jv(pe||fe.event),pe.type=pe.type==="focus"?"focusin":"focusout",v.executeHandlers(pe,p)}),S=v.events[p][N],S?N==="ready"&&v.domLoaded?i(jv({type:N})):S.push({func:i,scope:l}):(v.events[p][N]=S=[{func:i,scope:l}],S.fakeName=X,S.capture=Q,S.nativeHandler=J,N==="ready"?Gd(n,J,v):Wv(n,X||N,J,Q))}return n=S=null,i}},e.prototype.unbind=function(n,a,i){var l,v,p,S,A;if(!n||n.nodeType===3||n.nodeType===8)return this;var N=n[this.expando];if(N){if(A=this.events[N],a){var X=a.split(" ");for(v=X.length;v--;)if(S=X[v],l=A[S],l){if(i){for(p=l.length;p--;)if(l[p].func===i){var J=l.nativeHandler,Q=l.fakeName,fe=l.capture;l=l.slice(0,p).concat(l.slice(p+1)),l.nativeHandler=J,l.fakeName=Q,l.capture=fe,A[S]=l}}(!i||l.length===0)&&(delete A[S],Rp(n,l.fakeName||S,l.nativeHandler,l.capture))}}else Vr(A,function(de,he){Rp(n,de.fakeName||he,de.nativeHandler,de.capture)}),A={};for(S in A)if(Dr(A,S))return this;delete this.events[N];try{delete n[this.expando]}catch{n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var l;if(!n||n.nodeType===3||n.nodeType===8)return this;var v=jv({type:a,target:n},i);do l=n[this.expando],l&&this.executeHandlers(v,l),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!v.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],l=i&&i[n.type];if(l)for(var v=0,p=l.length;v<p;v++){var S=l[v];if(S&&S.func.call(S.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),To,ur,Ms,iS,cs,E2,qc,tv,nv,Ps,Gv,Zo,pu,Kc,qv,Bh,qd,wn,ui="sizzle"+-new Date,lc=window.document,Xc=0,$p=0,uS=Pb(),$b=Pb(),Kv=Pb(),Xv=function(e,n){return e===n&&(Ps=!0),0},Mh="undefined",Bp=1<<31,zA={}.hasOwnProperty,Is=[],T2=Is.pop,Kd=Is.push,Yv=Is.push,O2=Is.slice,Jv=Is.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},sS="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ja="[\\x20\\t\\r\\n\\f]",Ei="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Gi="\\["+Ja+"*("+Ei+")(?:"+Ja+"*([*^$|!~]?=)"+Ja+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ei+"))|)"+Ja+"*\\]",lS=":("+Ei+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Gi+")*)|.*)\\)|)",Bb=new RegExp("^"+Ja+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ja+"+$","g"),FA=new RegExp("^"+Ja+"*,"+Ja+"*"),cS=new RegExp("^"+Ja+"*([>+~]|"+Ja+")"+Ja+"*"),Bl=new RegExp("="+Ja+`*([^\\]'"]*?)`+Ja+"*\\]","g"),LA=new RegExp(lS),Ph=new RegExp("^"+Ei+"$"),Mb={ID:new RegExp("^#("+Ei+")"),CLASS:new RegExp("^\\.("+Ei+")"),TAG:new RegExp("^("+Ei+"|[*])"),ATTR:new RegExp("^"+Gi),PSEUDO:new RegExp("^"+lS),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ja+"*(even|odd|(([+-]|)(\\d*)n|)"+Ja+"*(?:([+-]|)"+Ja+"*(\\d+)|))"+Ja+"*\\)|)","i"),bool:new RegExp("^(?:"+sS+")$","i"),needsContext:new RegExp("^"+Ja+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ja+"*((?:-\\d)?\\d*)"+Ja+"*\\)|)(?=[^-]|$)","i")},HA=/^(?:input|select|textarea|button)$/i,fS=/^h\d$/i,D2=/^[^{]+\{\s*\[native \w/,R2=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$2=/[+~]/,VA=/'|\\/g,Zv=new RegExp("\\\\([\\da-f]{1,6}"+Ja+"?|("+Ja+")|.)","ig"),Qv=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{Yv.apply(Is=O2.call(lc.childNodes),lc.childNodes),Is[lc.childNodes.length].nodeType}catch{Yv={apply:Is.length?function(n,a){Kd.apply(n,O2.call(a))}:function(n,a){for(var i=n.length,l=0;n[i++]=a[l++];);n.length=i-1}}}var ga=function(e,n,a,i){var l,v,p,S,A,N,X,J,Q,fe;if((n?n.ownerDocument||n:lc)!==Zo&&Gv(n),n=n||Zo,a=a||[],!e||typeof e!="string")return a;if((S=n.nodeType)!==1&&S!==9)return[];if(Kc&&!i){if(l=R2.exec(e))if(p=l[1]){if(S===9)if(v=n.getElementById(p),v&&v.parentNode){if(v.id===p)return a.push(v),a}else return a;else if(n.ownerDocument&&(v=n.ownerDocument.getElementById(p))&&wn(n,v)&&v.id===p)return a.push(v),a}else{if(l[2])return Yv.apply(a,n.getElementsByTagName(e)),a;if((p=l[3])&&To.getElementsByClassName)return Yv.apply(a,n.getElementsByClassName(p)),a}if(To.qsa&&(!qv||!qv.test(e))){if(J=X=ui,Q=n,fe=S===9&&e,S===1&&n.nodeName.toLowerCase()!=="object"){for(N=cs(e),(X=n.getAttribute("id"))?J=X.replace(VA,"\\$&"):n.setAttribute("id",J),J="[id='"+J+"'] ",A=N.length;A--;)N[A]=J+Nb(N[A]);Q=$2.test(e)&&Ib(n.parentNode)||n,fe=N.join(",")}if(fe)try{return Yv.apply(a,Q.querySelectorAll(fe)),a}catch{}finally{X||n.removeAttribute("id")}}}return qc(e.replace(Bb,"$1"),n,a,i)};function Pb(){var e=[];function n(a,i){return e.push(a+" ")>ur.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function cc(e){return e[ui]=!0,e}function vS(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||Bp)-(~e.sourceIndex||Bp);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function fc(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function Yc(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function ed(e){return cc(function(n){return n=+n,cc(function(a,i){for(var l,v=e([],a.length,n),p=v.length;p--;)a[l=v[p]]&&(a[l]=!(i[l]=a[l]))})})}function Ib(e){return e&&typeof e.getElementsByTagName!==Mh&&e}To=ga.support={},iS=ga.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},Gv=ga.setDocument=function(e){var n,a=e?e.ownerDocument||e:lc,i=a.defaultView;function l(v){try{return v.top}catch{}return null}return a===Zo||a.nodeType!==9||!a.documentElement?Zo:(Zo=a,pu=a.documentElement,Kc=!iS(a),i&&i!==l(i)&&(i.addEventListener?i.addEventListener("unload",function(){Gv()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Gv()})),To.attributes=!0,To.getElementsByTagName=!0,To.getElementsByClassName=D2.test(a.getElementsByClassName),To.getById=!0,ur.find.ID=function(v,p){if(typeof p.getElementById!==Mh&&Kc){var S=p.getElementById(v);return S&&S.parentNode?[S]:[]}},ur.filter.ID=function(v){var p=v.replace(Zv,Qv);return function(S){return S.getAttribute("id")===p}},ur.find.TAG=To.getElementsByTagName?function(v,p){if(typeof p.getElementsByTagName!==Mh)return p.getElementsByTagName(v)}:function(v,p){var S,A=[],N=0,X=p.getElementsByTagName(v);if(v==="*"){for(;S=X[N++];)S.nodeType===1&&A.push(S);return A}return X},ur.find.CLASS=To.getElementsByClassName&&function(v,p){if(Kc)return p.getElementsByClassName(v)},Bh=[],qv=[],To.disconnectedMatch=!0,qv=qv.length&&new RegExp(qv.join("|")),Bh=Bh.length&&new RegExp(Bh.join("|")),n=D2.test(pu.compareDocumentPosition),wn=n||D2.test(pu.contains)?function(v,p){var S=v.nodeType===9?v.documentElement:v,A=p&&p.parentNode;return v===A||!!(A&&A.nodeType===1&&(S.contains?S.contains(A):v.compareDocumentPosition&&v.compareDocumentPosition(A)&16))}:function(v,p){if(p){for(;p=p.parentNode;)if(p===v)return!0}return!1},Xv=n?function(v,p){if(v===p)return Ps=!0,0;var S=!v.compareDocumentPosition-!p.compareDocumentPosition;return S||(S=(v.ownerDocument||v)===(p.ownerDocument||p)?v.compareDocumentPosition(p):1,S&1||!To.sortDetached&&p.compareDocumentPosition(v)===S?v===a||v.ownerDocument===lc&&wn(lc,v)?-1:p===a||p.ownerDocument===lc&&wn(lc,p)?1:nv?Jv.call(nv,v)-Jv.call(nv,p):0:S&4?-1:1)}:function(v,p){if(v===p)return Ps=!0,0;var S,A=0,N=v.parentNode,X=p.parentNode,J=[v],Q=[p];if(!N||!X)return v===a?-1:p===a?1:N?-1:X?1:nv?Jv.call(nv,v)-Jv.call(nv,p):0;if(N===X)return vS(v,p);for(S=v;S=S.parentNode;)J.unshift(S);for(S=p;S=S.parentNode;)Q.unshift(S);for(;J[A]===Q[A];)A++;return A?vS(J[A],Q[A]):J[A]===lc?-1:Q[A]===lc?1:0},a)},ga.matches=function(e,n){return ga(e,null,null,n)},ga.matchesSelector=function(e,n){if((e.ownerDocument||e)!==Zo&&Gv(e),n=n.replace(Bl,"='$1']"),To.matchesSelector&&Kc&&(!Bh||!Bh.test(n))&&(!qv||!qv.test(n)))try{var a=qd.call(e,n);if(a||To.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return ga(n,Zo,null,[e]).length>0},ga.contains=function(e,n){return(e.ownerDocument||e)!==Zo&&Gv(e),wn(e,n)},ga.attr=function(e,n){(e.ownerDocument||e)!==Zo&&Gv(e);var a=ur.attrHandle[n.toLowerCase()],i=a&&zA.call(ur.attrHandle,n.toLowerCase())?a(e,n,!Kc):void 0;return i!==void 0?i:To.attributes||!Kc?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},ga.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ga.uniqueSort=function(e){var n,a=[],i=0,l=0;if(Ps=!To.detectDuplicates,nv=!To.sortStable&&e.slice(0),e.sort(Xv),Ps){for(;n=e[l++];)n===e[l]&&(i=a.push(l));for(;i--;)e.splice(a[i],1)}return nv=null,e},Ms=ga.getText=function(e){var n,a="",i=0,l=e.nodeType;if(l){if(l===1||l===9||l===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=Ms(e)}else if(l===3||l===4)return e.nodeValue}else for(;n=e[i++];)a+=Ms(n);return a},ur=ga.selectors={cacheLength:50,createPseudo:cc,match:Mb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Zv,Qv),e[3]=(e[3]||e[4]||e[5]||"").replace(Zv,Qv),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ga.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ga.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return Mb.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&LA.test(a)&&(n=cs(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(Zv,Qv).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=uS[e+" "];return n||(n=new RegExp("(^|"+Ja+")"+e+"("+Ja+"|$)"))&&uS(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==Mh&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var l=ga.attr(i,e);return l==null?n==="!=":n?(l+="",n==="="?l===a:n==="!="?l!==a:n==="^="?a&&l.indexOf(a)===0:n==="*="?a&&l.indexOf(a)>-1:n==="$="?a&&l.slice(-a.length)===a:n==="~="?(" "+l+" ").indexOf(a)>-1:n==="|="?l===a||l.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,l){var v=e.slice(0,3)!=="nth",p=e.slice(-4)!=="last",S=n==="of-type";return i===1&&l===0?function(A){return!!A.parentNode}:function(A,N,X){var J,Q,fe,de,he,pe,Oe=v!==p?"nextSibling":"previousSibling",xe=A.parentNode,Xe=S&&A.nodeName.toLowerCase(),je=!X&&!S;if(xe){if(v){for(;Oe;){for(fe=A;fe=fe[Oe];)if(S?fe.nodeName.toLowerCase()===Xe:fe.nodeType===1)return!1;pe=Oe=e==="only"&&!pe&&"nextSibling"}return!0}if(pe=[p?xe.firstChild:xe.lastChild],p&&je){for(Q=xe[ui]||(xe[ui]={}),J=Q[e]||[],he=J[0]===Xc&&J[1],de=J[0]===Xc&&J[2],fe=he&&xe.childNodes[he];fe=++he&&fe&&fe[Oe]||(de=he=0)||pe.pop();)if(fe.nodeType===1&&++de&&fe===A){Q[e]=[Xc,he,de];break}}else if(je&&(J=(A[ui]||(A[ui]={}))[e])&&J[0]===Xc)de=J[1];else for(;(fe=++he&&fe&&fe[Oe]||(de=he=0)||pe.pop())&&!((S?fe.nodeName.toLowerCase()===Xe:fe.nodeType===1)&&++de&&(je&&((fe[ui]||(fe[ui]={}))[e]=[Xc,de]),fe===A)););return de-=l,de===i||de%i===0&&de/i>=0}}},PSEUDO:function(e,n){var a,i=ur.pseudos[e]||ur.setFilters[e.toLowerCase()]||ga.error("unsupported pseudo: "+e);return i[ui]?i(n):i.length>1?(a=[e,e,"",n],ur.setFilters.hasOwnProperty(e.toLowerCase())?cc(function(l,v){for(var p,S=i(l,n),A=S.length;A--;)p=Jv.call(l,S[A]),l[p]=!(v[p]=S[A])}):function(l){return i(l,0,a)}):i}},pseudos:{not:cc(function(e){var n=[],a=[],i=E2(e.replace(Bb,"$1"));return i[ui]?cc(function(l,v,p,S){for(var A,N=i(l,null,S,[]),X=l.length;X--;)(A=N[X])&&(l[X]=!(v[X]=A))}):function(l,v,p){return n[0]=l,i(n,null,p,a),n[0]=null,!a.pop()}}),has:cc(function(e){return function(n){return ga(e,n).length>0}}),contains:cc(function(e){return e=e.replace(Zv,Qv),function(n){return(n.textContent||n.innerText||Ms(n)).indexOf(e)>-1}}),lang:cc(function(e){return Ph.test(e||"")||ga.error("unsupported lang: "+e),e=e.replace(Zv,Qv).toLowerCase(),function(n){var a;do if(a=Kc?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===pu},focus:function(e){return e===Zo.activeElement&&(!Zo.hasFocus||Zo.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!ur.pseudos.empty(e)},header:function(e){return fS.test(e.nodeName)},input:function(e){return HA.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:ed(function(){return[0]}),last:ed(function(e,n){return[n-1]}),eq:ed(function(e,n,a){return[a<0?a+n:a]}),even:ed(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:ed(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:ed(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:ed(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},ur.pseudos.nth=ur.pseudos.eq,Le(["radio","checkbox","file","password","image"],function(e){ur.pseudos[e]=fc(e)}),Le(["submit","reset"],function(e){ur.pseudos[e]=Yc(e)});function Mp(){}Mp.prototype=ur.filters=ur.pseudos,ur.setFilters=new Mp,cs=ga.tokenize=function(e,n){var a,i,l,v,p,S,A,N=$b[e+" "];if(N)return n?0:N.slice(0);for(p=e,S=[],A=ur.preFilter;p;){(!a||(i=FA.exec(p)))&&(i&&(p=p.slice(i[0].length)||p),S.push(l=[])),a=!1,(i=cS.exec(p))&&(a=i.shift(),l.push({value:a,type:i[0].replace(Bb," ")}),p=p.slice(a.length));for(v in ur.filter)ur.filter.hasOwnProperty(v)&&(i=Mb[v].exec(p))&&(!A[v]||(i=A[v](i)))&&(a=i.shift(),l.push({value:a,type:v,matches:i}),p=p.slice(a.length));if(!a)break}return n?p.length:p?ga.error(e):$b(e,S).slice(0)};function Nb(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function zb(e,n,a){var i=n.dir,l=a&&i==="parentNode",v=$p++;return n.first?function(p,S,A){for(;p=p[i];)if(p.nodeType===1||l)return e(p,S,A)}:function(p,S,A){var N,X,J=[Xc,v];if(A){for(;p=p[i];)if((p.nodeType===1||l)&&e(p,S,A))return!0}else for(;p=p[i];)if(p.nodeType===1||l){if(X=p[ui]||(p[ui]={}),(N=X[i])&&N[0]===Xc&&N[1]===v)return J[2]=N[2];if(X[i]=J,J[2]=e(p,S,A))return!0}}}function Xd(e){return e.length>1?function(n,a,i){for(var l=e.length;l--;)if(!e[l](n,a,i))return!1;return!0}:e[0]}function UA(e,n,a){for(var i=0,l=n.length;i<l;i++)ga(e,n[i],a);return a}function Fb(e,n,a,i,l){for(var v,p=[],S=0,A=e.length,N=n!=null;S<A;S++)(v=e[S])&&(!a||a(v,i,l))&&(p.push(v),N&&n.push(S));return p}function Ih(e,n,a,i,l,v){return i&&!i[ui]&&(i=Ih(i)),l&&!l[ui]&&(l=Ih(l,v)),cc(function(p,S,A,N){var X,J,Q,fe=[],de=[],he=S.length,pe=p||UA(n||"*",A.nodeType?[A]:A,[]),Oe=e&&(p||!n)?Fb(pe,fe,e,A,N):pe,xe=a?l||(p?e:he||i)?[]:S:Oe;if(a&&a(Oe,xe,A,N),i)for(X=Fb(xe,de),i(X,[],A,N),J=X.length;J--;)(Q=X[J])&&(xe[de[J]]=!(Oe[de[J]]=Q));if(p){if(l||e){if(l){for(X=[],J=xe.length;J--;)(Q=xe[J])&&X.push(Oe[J]=Q);l(null,xe=[],X,N)}for(J=xe.length;J--;)(Q=xe[J])&&(X=l?Jv.call(p,Q):fe[J])>-1&&(p[X]=!(S[X]=Q))}}else xe=Fb(xe===S?xe.splice(he,xe.length):xe),l?l(null,S,xe,N):Yv.apply(S,xe)})}function Pp(e){for(var n,a,i,l=e.length,v=ur.relative[e[0].type],p=v||ur.relative[" "],S=v?1:0,A=zb(function(J){return J===n},p,!0),N=zb(function(J){return Jv.call(n,J)>-1},p,!0),X=[function(J,Q,fe){var de=!v&&(fe||Q!==tv)||((n=Q).nodeType?A(J,Q,fe):N(J,Q,fe));return n=null,de}];S<l;S++)if(a=ur.relative[e[S].type])X=[zb(Xd(X),a)];else{if(a=ur.filter[e[S].type].apply(null,e[S].matches),a[ui]){for(i=++S;i<l&&!ur.relative[e[i].type];i++);return Ih(S>1&&Xd(X),S>1&&Nb(e.slice(0,S-1).concat({value:e[S-2].type===" "?"*":""})).replace(Bb,"$1"),a,S<i&&Pp(e.slice(S,i)),i<l&&Pp(e=e.slice(i)),i<l&&Nb(e))}X.push(a)}return Xd(X)}function Ip(e,n){var a=n.length>0,i=e.length>0,l=function(v,p,S,A,N){var X,J,Q,fe=0,de="0",he=v&&[],pe=[],Oe=tv,xe=v||i&&ur.find.TAG("*",N),Xe=Xc+=Oe==null?1:Math.random()||.1,je=xe.length;for(N&&(tv=p!==Zo&&p);de!==je&&(X=xe[de])!=null;de++){if(i&&X){for(J=0;Q=e[J++];)if(Q(X,p,S)){A.push(X);break}N&&(Xc=Xe)}a&&((X=!Q&&X)&&fe--,v&&he.push(X))}if(fe+=de,a&&de!==fe){for(J=0;Q=n[J++];)Q(he,pe,p,S);if(v){if(fe>0)for(;de--;)he[de]||pe[de]||(pe[de]=T2.call(A));pe=Fb(pe)}Yv.apply(A,pe),N&&!v&&pe.length>0&&fe+n.length>1&&ga.uniqueSort(A)}return N&&(Xc=Xe,tv=Oe),he};return a?cc(l):l}E2=ga.compile=function(e,n){var a,i=[],l=[],v=Kv[e+" "];if(!v){for(n||(n=cs(e)),a=n.length;a--;)v=Pp(n[a]),v[ui]?i.push(v):l.push(v);v=Kv(e,Ip(l,i)),v.selector=e}return v},qc=ga.select=function(e,n,a,i){var l,v,p,S,A,N=typeof e=="function"&&e,X=!i&&cs(e=N.selector||e);if(a=a||[],X.length===1){if(v=X[0]=X[0].slice(0),v.length>2&&(p=v[0]).type==="ID"&&To.getById&&n.nodeType===9&&Kc&&ur.relative[v[1].type]){if(n=(ur.find.ID(p.matches[0].replace(Zv,Qv),n)||[])[0],n)N&&(n=n.parentNode);else return a;e=e.slice(v.shift().value.length)}for(l=Mb.needsContext.test(e)?0:v.length;l--&&(p=v[l],!ur.relative[S=p.type]);)if((A=ur.find[S])&&(i=A(p.matches[0].replace(Zv,Qv),$2.test(v[0].type)&&Ib(n.parentNode)||n))){if(v.splice(l,1),e=i.length&&Nb(v),!e)return Yv.apply(a,i),a;break}}return(N||E2(e,X))(i,n,!Kc,a,$2.test(e)&&Ib(n.parentNode)||n),a},To.sortStable=ui.split("").sort(Xv).join("")===ui,To.detectDuplicates=!!Ps,Gv(),To.sortDetached=!0;var B2=document,Wo=Array.prototype.push,Yd=Array.prototype.slice,Io=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bu=$h.Event,Jd=wt.makeMap("children,contents,next,prev"),Ns=function(e){return typeof e<"u"},Lb=function(e){return typeof e=="string"},Jc=function(e){return e&&e===e.window},Nh=function(e,n){n=n||B2;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var l;l=a.firstChild;)i.appendChild(l);return i},zh=function(e,n,a,i){var l;if(Lb(n))n=Nh(n,td(e[0]));else if(n.length&&!n.nodeType){if(n=mr.makeArray(n),i)for(l=n.length-1;l>=0;l--)zh(e,n[l],a,i);else for(l=0;l<n.length;l++)zh(e,n[l],a,i);return e}if(n.nodeType)for(l=e.length;l--;)a.call(e[l],n);return e},dS=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},mS=function(e,n,a){var i,l;return n=mr(n)[0],e.each(function(){var v=this;(!a||i!==v.parentNode)&&(i=v.parentNode,l=n.cloneNode(!1),v.parentNode.insertBefore(l,v)),l.appendChild(v)}),e},WA=wt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),jA=wt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),GA={for:"htmlFor",class:"className",readonly:"readOnly"},hS={float:"cssFloat"},Hb={},Vb={},Ti=function(e,n){return new mr.fn.init(e,n)},Ub=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},M2=/^\s*|\s*$/g,rl=function(e){return e==null?"":(""+e).replace(M2,"")},Ua=function(e,n){var a,i,l,v;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(v=e[i],n.call(v,i,v)===!1))break}else for(l=0;l<a&&(v=e[l],n.call(v,l,v)!==!1);l++);return e},zs=function(e,n){var a=[];return Ua(e,function(i,l){n(l,i)&&a.push(l)}),a},td=function(e){return e?e.nodeType===9?e:e.ownerDocument:B2};Ti.fn=Ti.prototype={constructor:Ti,selector:"",context:null,length:0,init:function(e,n){var a=this,i,l;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return mr(e).attr(n);a.context=n=document}if(Lb(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=Io.exec(e),i)if(i[1])for(l=Nh(e,td(n)).firstChild;l;)Wo.call(a,l),l=l.nextSibling;else{if(l=td(n).getElementById(i[2]),!l)return a;if(l.id!==i[2])return a.find(e);a.length=1,a[0]=l}else return mr(n).find(e);else this.add(e,!1);return a},toArray:function(){return wt.toArray(this)},add:function(e,n){var a=this,i,l;if(Lb(e))return a.add(mr(e));if(n!==!1)for(i=mr.unique(a.toArray().concat(mr.makeArray(e))),a.length=i.length,l=0;l<i.length;l++)a[l]=i[l];else Wo.apply(a,mr.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")Ua(e,function(l,v){a.attr(l,v)});else if(Ns(n))this.each(function(){var l;if(this.nodeType===1){if(l=Hb[e],l&&l.set){l.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=Hb[e],i&&i.get)return i.get(a[0],e);if(jA[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=GA[e]||e,typeof e=="object")Ua(e,function(i,l){a.prop(i,l)});else if(Ns(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,l,v=function(S){return S.replace(/-(\D)/g,function(A,N){return N.toUpperCase()})},p=function(S){return S.replace(/[A-Z]/g,function(A){return"-"+A})};if(typeof e=="object")Ua(e,function(S,A){a.css(S,A)});else if(Ns(n))e=v(e),typeof n=="number"&&!WA[e]&&(n=n.toString()+"px"),a.each(function(){var S=this.style;if(l=Vb[e],l&&l.set){l.set(this,n);return}try{this.style[hS[e]||e]=n}catch{}(n===null||n==="")&&(S.removeProperty?S.removeProperty(p(e)):S.removeAttribute(e))});else{if(i=a[0],l=Vb[e],l&&l.get)return l.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(p(e))}catch{return}else return i.currentStyle?i.currentStyle[v(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],bu.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(Ns(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch{mr(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(Ns(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return zh(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return zh(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?zh(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?zh(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return mr(e).append(this),this},prependTo:function(e){return mr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return mS(this,e)},wrapAll:function(e){return mS(this,e,!0)},wrapInner:function(e){return this.each(function(){mr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){mr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),mr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?Ua(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,l){var v=dS(l,e);if(v!==n){var p=l.className;v?l.className=rl((" "+p+" ").replace(" "+e+" "," ")):l.className+=p?" "+e:e}})),a},hasClass:function(e){return dS(this[0],e)},each:function(e){return Ua(this,e)},on:function(e,n){return this.each(function(){bu.bind(this,e,n)})},off:function(e,n){return this.each(function(){bu.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?bu.fire(this,e.type,e):bu.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return mr(Yd.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)mr.find(e,this[n],i);return mr(i)},filter:function(e){return mr(typeof e=="function"?zs(this.toArray(),function(n,a){return e(a,n)}):mr.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof mr&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&mr(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),mr(n)},offset:function(e){var n,a,i,l=0,v=0,p;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(p=n.getBoundingClientRect(),l=p.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,v=p.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:l,top:v})},push:Wo,sort:Array.prototype.sort,splice:Array.prototype.splice},wt.extend(Ti,{extend:wt.extend,makeArray:function(e){return Jc(e)||e.nodeType?[e]:wt.toArray(e)},inArray:Ub,isArray:wt.isArray,each:Ua,trim:rl,grep:zs,find:ga,expr:ga.selectors,unique:ga.uniqueSort,text:ga.getText,contains:ga.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=mr.find.matchesSelector(n[0],e)?[n[0]]:[]:n=mr.find.matches(e,n),n}});var P2=function(e,n,a){var i=[],l=e[n];for(typeof a!="string"&&a instanceof mr&&(a=a[0]);l&&l.nodeType!==9&&!(a!==void 0&&(l===a||typeof a=="string"&&mr(l).is(a)));)l.nodeType===1&&i.push(l),l=l[n];return i},Wb=function(e,n,a,i){var l=[];for(i instanceof mr&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&mr(e).is(i)))break;l.push(e)}return l},gS=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};Ua({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return P2(e,"parentNode")},next:function(e){return gS(e,"nextSibling",1)},prev:function(e){return gS(e,"previousSibling",1)},children:function(e){return Wb(e.firstChild,"nextSibling",1)},contents:function(e){return wt.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){Ti.fn[e]=function(a){var i=this,l=[];i.each(function(){var p=n.call(l,this,a,l);p&&(mr.isArray(p)?l.push.apply(l,p):l.push(p))}),this.length>1&&(Jd[e]||(l=mr.unique(l)),e.indexOf("parents")===0&&(l=l.reverse()));var v=mr(l);return a?v.filter(a):v}}),Ua({parentsUntil:function(e,n){return P2(e,"parentNode",n)},nextUntil:function(e,n){return Wb(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return Wb(e,"previousSibling",1,n).slice(1)}},function(e,n){Ti.fn[e]=function(a,i){var l=this,v=[];l.each(function(){var S=n.call(v,this,a,v);S&&(mr.isArray(S)?v.push.apply(v,S):v.push(S))}),this.length>1&&(v=mr.unique(v),(e.indexOf("parents")===0||e==="prevUntil")&&(v=v.reverse()));var p=mr(v);return i?p.filter(i):p}}),Ti.fn.is=function(e){return!!e&&this.filter(e).length>0},Ti.fn.init.prototype=Ti.fn,Ti.overrideDefaults=function(e){var n,a=function(i,l){return n=n||e(),arguments.length===0&&(i=n.element),l||(l=n.context),new a.fn.init(i,l)};return mr.extend(a,this),a},Ti.attrHooks=Hb,Ti.cssHooks=Vb;var mr=Ti,Fh=wt.each,jb=wt.grep,I2=Wn.ie,jo=/^([a-z0-9],?)+$/i,al=function(e,n,a){var i=n.keep_values,l={set:function(p,S,A){n.url_converter&&S!==null&&(S=n.url_converter.call(n.url_converter_scope||a(),S,A,p[0])),p.attr("data-mce-"+A,S).attr(A,S)},get:function(p,S){return p.attr("data-mce-"+S)||p.attr(S)}},v={style:{set:function(p,S){if(S!==null&&typeof S=="object"){p.css(S);return}i&&p.attr("data-mce-style",S),S!==null&&typeof S=="string"?(p.removeAttr("style"),p.css(e.parse(S))):p.attr("style",S)},get:function(p){var S=p.attr("data-mce-style")||p.attr("style");return S=e.serialize(e.parse(S),p[0].nodeName),S}}};return i&&(v.href=v.src=l),v},pS=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},Zd=function(e,n){var a=0,i,l;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)l=e.nodeType,!(n&&l===3&&(l===i||!e.nodeValue.length))&&(a++,i=l);return a},Ma=function(e,n){n===void 0&&(n={});var a={},i=window,l={},v=0,p=!0,S=!0,A=El.forElement(Ge.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),N=[],X=n.schema?n.schema:Bs({}),J=$l({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),Q=n.ownEvents?new $h:$h.Event,fe=X.getBlockElements(),de=mr.overrideDefaults(function(){return{context:e,element:Nm.getRoot()}}),he=function(Pe){if(typeof Pe=="string")return!!fe[Pe];if(Pe){var lt=Pe.nodeType;if(lt)return!!(lt===1&&fe[Pe.nodeName])}return!1},pe=function(Pe){return Pe&&e&&$e(Pe)?e.getElementById(Pe):Pe},Oe=function(Pe){return de(typeof Pe=="string"?pe(Pe):Pe)},xe=function(Pe,lt,Wt){var nn,br,Gr=Oe(Pe);return Gr.length&&(nn=l5[lt],nn&&nn.get?br=nn.get(Gr,lt):br=Gr.attr(lt)),typeof br>"u"&&(br=Wt||""),br},Xe=function(Pe){var lt=pe(Pe);return lt?lt.attributes:[]},je=function(Pe,lt,Wt){Wt===""&&(Wt=null);var nn=Oe(Pe),br=nn.attr(lt);if(nn.length){var Gr=l5[lt];Gr&&Gr.set?Gr.set(nn,Wt,lt):nn.attr(lt,Wt),br!==Wt&&n.onSetAttrib&&n.onSetAttrib({attrElm:nn,attrName:lt,attrValue:Wt})}},Re=function(Pe,lt){if(!I2||Pe.nodeType!==1||lt)return Pe.cloneNode(lt);var Wt=e.createElement(Pe.nodeName);return Fh(Xe(Pe),function(nn){je(Wt,nn.nodeName,xe(Pe,nn.nodeName))}),Wt},Qe=function(){return n.root_element||e.body},St=function(Pe){var lt=Gf(Pe);return{x:lt.x,y:lt.y,w:lt.width,h:lt.height}},Lt=function(Pe,lt){return wp(e.body,pe(Pe),lt)},jn=function(Pe,lt,Wt){var nn=$e(lt)?Oe(Pe).css(lt,Wt):Oe(Pe).css(lt);n.update_styles&&pS(J,nn)},mn=function(Pe,lt){var Wt=Oe(Pe).css(lt);n.update_styles&&pS(J,Wt)},Bt=function(Pe,lt,Wt){var nn=Oe(Pe);return Wt?nn.css(lt):(lt=lt.replace(/-(\D)/g,function(br,Gr){return Gr.toUpperCase()}),lt==="float"&&(lt=Wn.browser.isIE()?"styleFloat":"cssFloat"),nn[0]&&nn[0].style?nn[0].style[lt]:void 0)},Vn=function(Pe){var lt,Wt;return Pe=pe(Pe),lt=Bt(Pe,"width"),Wt=Bt(Pe,"height"),lt.indexOf("px")===-1&&(lt=0),Wt.indexOf("px")===-1&&(Wt=0),{w:parseInt(lt,10)||Pe.offsetWidth||Pe.clientWidth,h:parseInt(Wt,10)||Pe.offsetHeight||Pe.clientHeight}},Ut=function(Pe){Pe=pe(Pe);var lt=Lt(Pe),Wt=Vn(Pe);return{x:lt.x,y:lt.y,w:Wt.w,h:Wt.h}},vn=function(Pe,lt){var Wt;if(!Pe)return!1;if(!Array.isArray(Pe)){if(lt==="*")return Pe.nodeType===1;if(jo.test(lt)){var nn=lt.toLowerCase().split(/,/),br=Pe.nodeName.toLowerCase();for(Wt=nn.length-1;Wt>=0;Wt--)if(nn[Wt]===br)return!0;return!1}if(Pe.nodeType&&Pe.nodeType!==1)return!1}var Gr=Array.isArray(Pe)?Pe:[Pe];return ga(lt,Gr[0].ownerDocument||Gr[0],null,Gr).length>0},Gt=function(Pe,lt,Wt,nn){var br=[],Gr,Za=pe(Pe);for(nn=nn===void 0,Wt=Wt||(Qe().nodeName!=="BODY"?Qe().parentNode:null),wt.is(lt,"string")&&(Gr=lt,lt==="*"?lt=function(ep){return ep.nodeType===1}:lt=function(ep){return vn(ep,Gr)});Za&&!(Za===Wt||Se(Za.nodeType)||yp(Za)||dr(Za));){if(!lt||typeof lt=="function"&&lt(Za))if(nn)br.push(Za);else return[Za];Za=Za.parentNode}return nn?br:null},Qt=function(Pe,lt,Wt){var nn=Gt(Pe,lt,Wt,!1);return nn&&nn.length>0?nn[0]:null},yn=function(Pe,lt,Wt){var nn=lt;if(Pe){for(typeof lt=="string"&&(nn=function(br){return vn(br,lt)}),Pe=Pe[Wt];Pe;Pe=Pe[Wt])if(typeof nn=="function"&&nn(Pe))return Pe}return null},Pt=function(Pe,lt){return yn(Pe,lt,"nextSibling")},hn=function(Pe,lt){return yn(Pe,lt,"previousSibling")},kr=function(Pe,lt){return ga(Pe,pe(lt)||n.root_element||e,[])},ra=function(Pe,lt,Wt){var nn,br=typeof Pe=="string"?pe(Pe):Pe;if(!br)return!1;if(wt.isArray(br)&&(br.length||br.length===0))return nn=[],Fh(br,function(Za,ep){Za&&nn.push(lt.call(Wt,typeof Za=="string"?pe(Za):Za,ep))}),nn;var Gr=Wt||this;return lt.call(Gr,br)},Zr=function(Pe,lt){Oe(Pe).each(function(Wt,nn){Fh(lt,function(br,Gr){je(nn,Gr,br)})})},Pi=function(Pe,lt){var Wt=Oe(Pe);I2?Wt.each(function(nn,br){if(br.canHaveHTML!==!1){for(;br.firstChild;)br.removeChild(br.firstChild);try{br.innerHTML="<br>"+lt,br.removeChild(br.firstChild)}catch{mr("<div></div>").html("<br>"+lt).contents().slice(1).appendTo(br)}return lt}}):Wt.html(lt)},uo=function(Pe,lt,Wt,nn,br){return ra(Pe,function(Gr){var Za=typeof lt=="string"?e.createElement(lt):lt;return Zr(Za,Wt),nn&&(typeof nn!="string"&&nn.nodeType?Za.appendChild(nn):typeof nn=="string"&&Pi(Za,nn)),br?Za:Gr.appendChild(Za)})},ju=function(Pe,lt,Wt){return uo(e.createElement(Pe),Pe,lt,Wt,!0)},ps=$s.decode,Nt=$s.encodeAllRaw,Kt=function(Pe,lt,Wt){var nn="",br;nn+="<"+Pe;for(br in lt)Gs(lt,br)&&(nn+=" "+br+'="'+Nt(lt[br])+'"');return typeof Wt<"u"?nn+">"+Wt+"</"+Pe+">":nn+" />"},$n=function(Pe){var lt,Wt=e.createElement("div"),nn=e.createDocumentFragment();for(nn.appendChild(Wt),Pe&&(Wt.innerHTML=Pe);lt=Wt.firstChild;)nn.appendChild(lt);return nn.removeChild(Wt),nn},tt=function(Pe,lt){var Wt=Oe(Pe);return lt?Wt.each(function(){for(var nn;nn=this.firstChild;)nn.nodeType===3&&nn.data.length===0?this.removeChild(nn):this.parentNode.insertBefore(nn,this)}).remove():Wt.remove(),Wt.length>1?Wt.toArray():Wt[0]},Vt=function(Pe){return ra(Pe,function(lt){var Wt,nn=lt.attributes;for(Wt=nn.length-1;Wt>=0;Wt--)lt.removeAttributeNode(nn.item(Wt))})},zt=function(Pe){return J.parse(Pe)},Pn=function(Pe,lt){return J.serialize(Pe,lt)},Ln=function(Pe){var lt,Wt;if(Nm!==Ma.DOM&&e===document){if(a[Pe])return;a[Pe]=!0}Wt=e.getElementById("mceDefaultStyles"),Wt||(Wt=e.createElement("style"),Wt.id="mceDefaultStyles",Wt.type="text/css",lt=e.getElementsByTagName("head")[0],lt.firstChild?lt.insertBefore(Wt,lt.firstChild):lt.appendChild(Wt)),Wt.styleSheet?Wt.styleSheet.cssText+=Pe:Wt.appendChild(e.createTextNode(Pe))},Aa=function(Pe){Pe||(Pe=""),Le(Pe.split(","),function(lt){l[lt]=!0,A.load(lt,Ee)})},ni=function(Pe,lt,Wt){Oe(Pe).toggleClass(lt,Wt).each(function(){this.className===""&&mr(this).attr("class",null)})},Yo=function(Pe,lt){Oe(Pe).addClass(lt)},Im=function(Pe,lt){ni(Pe,lt,!1)},Gu=function(Pe,lt){return Oe(Pe).hasClass(lt)},Eu=function(Pe){Oe(Pe).show()},mi=function(Pe){Oe(Pe).hide()},Ul=function(Pe){return Oe(Pe).css("display")==="none"},qu=function(Pe){return(Pe||"mce_")+v++},xf=function(Pe){var lt=typeof Pe=="string"?pe(Pe):Pe;return Zn(lt)?lt.outerHTML:mr("<div></div>").append(mr(lt).clone()).html()},Oa=function(Pe,lt){Oe(Pe).each(function(){try{if("outerHTML"in this){this.outerHTML=lt;return}}catch{}tt(mr(this).html(lt),!0)})},Wa=function(Pe,lt){var Wt=pe(lt);return ra(Pe,function(nn){var br=Wt.parentNode,Gr=Wt.nextSibling;return Gr?br.insertBefore(nn,Gr):br.appendChild(nn),nn})},hi=function(Pe,lt,Wt){return ra(lt,function(nn){return wt.is(nn,"array")&&(Pe=Pe.cloneNode(!0)),Wt&&Fh(jb(nn.childNodes),function(br){Pe.appendChild(br)}),nn.parentNode.replaceChild(Pe,nn)})},bs=function(Pe,lt){var Wt;return Pe.nodeName!==lt.toUpperCase()&&(Wt=ju(lt),Fh(Xe(Pe),function(nn){je(Wt,nn.nodeName,xe(Pe,nn.nodeName))}),hi(Wt,Pe,!0)),Wt||Pe},Sv=function(Pe,lt){for(var Wt=Pe,nn;Wt;){for(nn=lt;nn&&Wt!==nn;)nn=nn.parentNode;if(Wt===nn)break;Wt=Wt.parentNode}return!Wt&&Pe.ownerDocument?Pe.ownerDocument.documentElement:Wt},xv=function(Pe){return J.toHex(wt.trim(Pe))},Qg=function(Pe){if(Zn(Pe)){var lt=Pe.nodeName.toLowerCase()==="a"&&!xe(Pe,"href")&&xe(Pe,"id");if(xe(Pe,"name")||xe(Pe,"data-mce-bookmark")||lt)return!0}return!1},Hy=function(Pe,lt){var Wt,nn,br=0;if(Qg(Pe))return!1;if(Pe=Pe.firstChild,Pe){var Gr=new sa(Pe,Pe.parentNode),Za=X?X.getWhiteSpaceElements():{};lt=lt||(X?X.getNonEmptyElements():null);do{if(Wt=Pe.nodeType,Zn(Pe)){var ep=Pe.getAttribute("data-mce-bogus");if(ep){Pe=Gr.next(ep==="all");continue}if(nn=Pe.nodeName.toLowerCase(),lt&&lt[nn]){if(nn==="br"){br++,Pe=Gr.next();continue}return!1}if(Qg(Pe))return!1}if(Wt===8||Wt===3&&!Ol(Pe.nodeValue)||Wt===3&&Pe.parentNode&&Za[Pe.parentNode.nodeName]&&Ol(Pe.nodeValue))return!1;Pe=Gr.next()}while(Pe)}return br<=1},Y3=function(){return e.createRange()},RM=function(Pe,lt,Wt){var nn=Y3(),br,Gr,Za;if(Pe&&lt)return nn.setStart(Pe.parentNode,Zd(Pe)),nn.setEnd(lt.parentNode,Zd(lt)),br=nn.extractContents(),nn=Y3(),nn.setStart(lt.parentNode,Zd(lt)+1),nn.setEnd(Pe.parentNode,Zd(Pe)+1),Gr=nn.extractContents(),Za=Pe.parentNode,Za.insertBefore(b2(Nm,br),Pe),Wt?Za.insertBefore(Wt,Pe):Za.insertBefore(lt,Pe),Za.insertBefore(b2(Nm,Gr),Pe),tt(Pe),Wt||lt},$M=function(Pe,lt,Wt,nn){if(wt.isArray(Pe)){for(var br=Pe.length,Gr=[];br--;)Gr[br]=$M(Pe[br],lt,Wt,nn);return Gr}n.collect&&(Pe===e||Pe===i)&&N.push([Pe,lt,Wt,nn]);var Za=Q.bind(Pe,lt,Wt,nn||Nm);return Za},u5=function(Pe,lt,Wt){if(wt.isArray(Pe)){for(var nn=Pe.length,br=[];nn--;)br[nn]=u5(Pe[nn],lt,Wt);return br}else{if(N.length>0&&(Pe===e||Pe===i))for(var nn=N.length;nn--;){var Gr=N[nn];Pe===Gr[0]&&(!lt||lt===Gr[1])&&(!Wt||Wt===Gr[2])&&Q.unbind(Gr[0],Gr[1],Gr[2])}return Q.unbind(Pe,lt,Wt)}},r7=function(Pe,lt,Wt){return Q.fire(Pe,lt,Wt)},BM=function(Pe){if(Pe&&Zn(Pe)){var lt=Pe.getAttribute("data-mce-contenteditable");return lt&&lt!=="inherit"?lt:Pe.contentEditable!=="inherit"?Pe.contentEditable:null}else return null},a7=function(Pe){for(var lt=Qe(),Wt=null;Pe&&Pe!==lt&&(Wt=BM(Pe),Wt===null);Pe=Pe.parentNode);return Wt},MM=function(){if(N.length>0)for(var Pe=N.length;Pe--;){var lt=N[Pe];Q.unbind(lt[0],lt[1],lt[2])}Vr(l,function(Wt,nn){A.unload(nn),delete l[nn]}),ga.setDocument&&ga.setDocument()},s5=function(Pe,lt){if(I2){for(;Pe;){if(lt===Pe)return!0;Pe=Pe.parentNode}return!1}else return Pe===lt||lt.contains(Pe)},o7=function(Pe){return"startContainer: "+Pe.startContainer.nodeName+", startOffset: "+Pe.startOffset+", endContainer: "+Pe.endContainer.nodeName+", endOffset: "+Pe.endOffset},Nm={doc:e,settings:n,win:i,files:l,stdMode:p,boxModel:S,styleSheetLoader:A,boundEvents:N,styles:J,schema:X,events:Q,isBlock:he,$:de,$$:Oe,root:null,clone:Re,getRoot:Qe,getViewPort:St,getRect:Ut,getSize:Vn,getParent:Qt,getParents:Gt,get:pe,getNext:Pt,getPrev:hn,select:kr,is:vn,add:uo,create:ju,createHTML:Kt,createFragment:$n,remove:tt,setStyle:jn,getStyle:Bt,setStyles:mn,removeAllAttribs:Vt,setAttrib:je,setAttribs:Zr,getAttrib:xe,getPos:Lt,parseStyle:zt,serializeStyle:Pn,addStyle:Ln,loadCSS:Aa,addClass:Yo,removeClass:Im,hasClass:Gu,toggleClass:ni,show:Eu,hide:mi,isHidden:Ul,uniqueId:qu,setHTML:Pi,getOuterHTML:xf,setOuterHTML:Oa,decode:ps,encode:Nt,insertAfter:Wa,replace:hi,rename:bs,findCommonAncestor:Sv,toHex:xv,run:ra,getAttribs:Xe,isEmpty:Hy,createRng:Y3,nodeIndex:Zd,split:RM,bind:$M,unbind:u5,fire:r7,getContentEditable:BM,getContentEditableParent:a7,destroy:MM,isChildOf:s5,dumpRng:o7},l5=al(J,n,j(Nm));return Nm};Ma.DOM=Ma(document),Ma.nodeIndex=Zd;var Qd=Ma.DOM,Gb=wt.each,Lh=wt.grep,N2=0,bS=1,Np=2,yS=3,rv=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var l=Qd,v,p=function(){l.remove(N),v&&(v.onerror=v.onload=v=null)},S=function(){p(),a()},A=function(){p(),se(i)?i():typeof console<"u"&&console.log&&console.log("Failed to load script: "+n)},N=l.uniqueId();v=document.createElement("script"),v.id=N,v.type="text/javascript",v.src=wt._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(v,"referrerpolicy",this.settings.referrerPolicy),v.onload=S,v.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(v)},e.prototype.isDone=function(n){return this.states[n]===Np},e.prototype.markDone=function(n){this.states[n]=Np},e.prototype.add=function(n,a,i,l){var v=this.states[n];this.queue.push(n),v===void 0&&(this.states[n]=N2),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:l,scope:i||this}))},e.prototype.load=function(n,a,i,l){return this.add(n,a,i,l)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,l){var v=this,p=[],S=function(N,X){Gb(v.scriptLoadedCallbacks[X],function(J){se(J[N])&&J[N].call(J.scope)}),v.scriptLoadedCallbacks[X]=void 0};v.queueLoadedCallbacks.push({success:a,failure:l,scope:i||this});var A=function(){var N=Lh(n);if(n.length=0,Gb(N,function(J){if(v.states[J]===Np){S("success",J);return}if(v.states[J]===yS){S("failure",J);return}v.states[J]!==bS&&(v.states[J]=bS,v.loading++,v.loadScript(J,function(){v.states[J]=Np,v.loading--,S("success",J),A()},function(){v.states[J]=yS,v.loading--,p.push(J),S("failure",J),A()}))}),!v.loading){var X=v.queueLoadedCallbacks.slice(0);v.queueLoadedCallbacks.length=0,Gb(X,function(J){p.length===0?se(J.success)&&J.success.call(J.scope):se(J.failure)&&J.failure.call(J.scope,p)})}};A()},e.ScriptLoader=new e,e}(),yu=function(e){var n=e,a=function(){return n},i=function(l){n=l};return{get:a,set:i}},z2=function(e){return me(e)&&Dr(e,"raw")},qA=function(e){return Be(e)&&e.length>1},vc={},av=yu("en"),qb=function(){return Ir(vc,av.get())},KA=function(){return yi(vc,function(e){return qn({},e)})},XA=function(e){e&&av.set(e)},em=function(){return av.get()},tm=function(e,n){var a=vc[e];a||(vc[e]=a={}),Vr(n,function(i,l){a[l.toLowerCase()]=i})},Kb=function(e){var n=qb().getOr({}),a=function(A){return se(A)?Object.prototype.toString.call(A):i(A)?"":""+A},i=function(A){return A===""||A===null||A===void 0},l=function(A){var N=a(A);return Ir(n,N.toLowerCase()).map(a).getOr(N)},v=function(A){return A.replace(/{context:\w+}$/,"")};if(i(e))return"";if(z2(e))return a(e.raw);if(qA(e)){var p=e.slice(1),S=l(e[0]).replace(/\{([0-9]+)\}/g,function(A,N){return Dr(p,N)?a(p[N]):A});return v(S)}return v(l(e))},Yr=function(){return qb().bind(function(e){return Ir(e,"_dir")}).exists(function(e){return e==="rtl"})},Go=function(e){return Dr(vc,e)},wu={getData:KA,setCode:XA,getCode:em,add:tm,translate:Kb,isRtl:Yr,hasCode:Go},zu=function(){var e=[],n={},a={},i=[],l=function(he,pe){var Oe=ut(i,function(xe){return xe.name===he&&xe.state===pe});Le(Oe,function(xe){return xe.callback()})},v=function(he){if(a[he])return a[he].instance},p=function(he){var pe;return a[he]&&(pe=a[he].dependencies),pe||[]},S=function(he,pe){zu.languageLoad!==!1&&de(he,function(){var Oe=wu.getCode(),xe=","+(pe||"")+",";!Oe||pe&&xe.indexOf(","+Oe+",")===-1||rv.ScriptLoader.add(n[he]+"/langs/"+Oe+".js")},"loaded")},A=function(he,pe,Oe){var xe=pe;return e.push(xe),a[he]={instance:xe,dependencies:Oe},l(he,"added"),xe},N=function(he){delete n[he],delete a[he]},X=function(he,pe){return typeof pe=="object"?pe:typeof he=="string"?{prefix:"",resource:pe,suffix:""}:{prefix:he.prefix,resource:pe,suffix:he.suffix}},J=function(he,pe){var Oe=n[he];Le(pe,function(xe){rv.ScriptLoader.add(Oe+"/"+xe)})},Q=function(he,pe,Oe,xe){var Xe=p(he);Le(Xe,function(je){var Re=X(pe,je);fe(Re.resource,Re,void 0,void 0)}),Oe&&(xe?Oe.call(xe):Oe.call(rv))},fe=function(he,pe,Oe,xe,Xe){if(!n[he]){var je=typeof pe=="string"?pe:pe.prefix+pe.resource+pe.suffix;je.indexOf("/")!==0&&je.indexOf("://")===-1&&(je=zu.baseURL+"/"+je),n[he]=je.substring(0,je.lastIndexOf("/"));var Re=function(){l(he,"loaded"),Q(he,pe,Oe,xe)};a[he]?Re():rv.ScriptLoader.add(je,Re,xe,Xe)}},de=function(he,pe,Oe){Oe===void 0&&(Oe="added"),Dr(a,he)&&Oe==="added"||Dr(n,he)&&Oe==="loaded"?pe():i.push({name:he,state:Oe,callback:pe})};return{items:e,urls:n,lookup:a,_listeners:i,get:v,dependencies:p,requireLangPack:S,add:A,remove:N,createUrl:X,addComponents:J,load:fe,waitFor:de}};zu.languageLoad=!0,zu.baseURL="",zu.PluginManager=zu(),zu.ThemeManager=zu();var ka=function(e){var n=yu(te.none()),a=function(){return n.get().each(e)},i=function(){a(),n.set(te.none())},l=function(){return n.get().isSome()},v=function(){return n.get()},p=function(S){a(),n.set(te.some(S))};return{clear:i,isSet:l,get:v,set:p}},nd=function(){var e=ka(Ee),n=function(a){return e.get().each(a)};return qn(qn({},e),{on:n})},Xb=function(e,n){var a=null,i=function(){ne(a)||(clearTimeout(a),a=null)},l=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];ne(a)&&(a=setTimeout(function(){a=null,e.apply(null,v)},n))};return{cancel:i,throttle:l}},Qo=function(e,n){var a=null,i=function(){ne(a)||(clearTimeout(a),a=null)},l=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];i(),a=setTimeout(function(){a=null,e.apply(null,v)},n)};return{cancel:i,throttle:l}},Zc=function(e,n){var a=ae(e,n);return a===void 0||a===""?[]:a.split(" ")},YA=function(e,n,a){var i=Zc(e,n),l=i.concat([a]);return M(e,n,l.join(" ")),!0},JA=function(e,n,a){var i=ut(Zc(e,n),function(l){return l!==a});return i.length>0?M(e,n,i.join(" ")):yt(e,n),!1},Yb=function(e){return e.dom.classList!==void 0},Jb=function(e){return Zc(e,"class")},F2=function(e,n){return YA(e,"class",n)},L2=function(e,n){return JA(e,"class",n)},nm=function(e,n){Yb(e)?e.dom.classList.add(n):F2(e,n)},zp=function(e){var n=Yb(e)?e.dom.classList:Jb(e);n.length===0&&yt(e,"class")},H2=function(e,n){if(Yb(e)){var a=e.dom.classList;a.remove(n)}else L2(e,n);zp(e)},V2=function(e,n){return Yb(e)&&e.dom.classList.contains(n)},Hh=function(e,n){var a=[];return Le(Qi(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(Hh(i,n))}),a},Oi=function(e,n){return db(n,e)},fs=j("mce-annotation"),Fp=j("data-mce-annotation"),qo=j("data-mce-annotation-uid"),Zb=function(e,n){var a=e.selection.getRng(),i=Ge.fromDom(a.startContainer),l=Ge.fromDom(e.getBody()),v=n.fold(function(){return"."+fs()},function(N){return"["+Fp()+'="'+N+'"]'}),p=tc(i,a.startOffset).getOr(i),S=yo(p,v,function(N){return $a(N,l)}),A=function(N,X){return qe(N,X)?te.some(ae(N,X)):te.none()};return S.bind(function(N){return A(N,""+qo()).bind(function(X){return A(N,""+Fp()).map(function(J){var Q=U2(e,X);return{uid:X,name:J,elements:Q}})})})},ov=function(e){return Ha(e)&&V2(e,fs())},U2=function(e,n){var a=Ge.fromDom(e.getBody());return Oi(a,"["+qo()+'="'+n+'"]')},W2=function(e,n){var a=Ge.fromDom(e.getBody()),i=Oi(a,"["+Fp()+'="'+n+'"]'),l={};return Le(i,function(v){var p=ae(v,qo()),S=Ir(l,p).getOr([]);l[p]=S.concat([v])}),l},wS=function(e,n){var a=yu({}),i=function(){return{listeners:[],previous:nd()}},l=function(X,J){v(X,function(Q){return J(Q),Q})},v=function(X,J){var Q=a.get(),fe=Ir(Q,X).getOrThunk(i),de=J(fe);Q[X]=de,a.set(Q)},p=function(X,J,Q){l(X,function(fe){Le(fe.listeners,function(de){return de(!0,X,{uid:J,nodes:et(Q,function(he){return he.dom})})})})},S=function(X){l(X,function(J){Le(J.listeners,function(Q){return Q(!1,X)})})},A=Qo(function(){var X=a.get(),J=Qr(Zi(X));Le(J,function(Q){v(Q,function(fe){var de=fe.previous.get();return Zb(e,te.some(Q)).fold(function(){de.isSome()&&(S(Q),fe.previous.clear())},function(he){var pe=he.uid,Oe=he.name,xe=he.elements;zd(de,pe)||(p(Oe,pe,xe),fe.previous.set(pe))}),{previous:fe.previous,listeners:fe.listeners}})})},30);e.on("remove",function(){A.cancel()}),e.on("NodeChange",function(){A.throttle()});var N=function(X,J){v(X,function(Q){return{previous:Q.previous,listeners:Q.listeners.concat([J])}})};return{addListener:N}},j2=function(e,n){var a=function(i){return te.from(i.attr(Fp())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){Le(i,function(l){a(l).each(function(v){v.persistent===!1&&l.unwrap()})})})})},Lp=function(){var e={},n=function(i,l){e[i]={name:i,settings:l}},a=function(i){return Ir(e,i).map(function(l){return l.settings})};return{register:n,lookup:a}},Qb=0,CS=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return Qb++,e+"_"+i+Qb+String(a)},ZA=function(e,n){Le(n,function(a){nm(e,a)})},qi=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,Qi(Ge.fromDom(i))},ei=function(e){return et(e,Ge.fromDom)},Cu=function(e){return e.dom.innerHTML},_u=function(e,n){var a=xl(e),i=a.dom,l=Ge.fromDom(i.createDocumentFragment()),v=qi(n,i);Hf(l,v),Vf(e),Ho(e,l)},Fu=function(e,n){return Ge.fromDom(e.dom.cloneNode(n))},No=function(e){return Fu(e,!1)},e0=function(e){return Fu(e,!0)},t0=function(e,n,a){a===void 0&&(a=at);var i=new sa(e,n),l=function(v){var p;do p=i[v]();while(p&&!gn(p)&&!a(p));return te.from(p).filter(gn)};return{current:function(){return te.from(i.current()).filter(gn)},next:function(){return l("next")},prev:function(){return l("prev")},prev2:function(){return l("prev2")}}},G2=function(e,n){var a=n||function(p){return e.isBlock(p)||wa(p)||Va(p)},i=function(p,S,A,N){if(gn(p)){var X=N(p,S,p.data);if(X!==-1)return te.some({container:p,offset:X})}return A().bind(function(J){return i(J.container,J.offset,A,N)})},l=function(p,S,A,N){var X=t0(p,N,a);return i(p,S,function(){return X.prev().map(function(J){return{container:J,offset:J.length}})},A).getOrNull()},v=function(p,S,A,N){var X=t0(p,N,a);return i(p,S,function(){return X.next().map(function(J){return{container:J,offset:0}})},A).getOrNull()};return{backwards:l,forwards:v}},rm=Math.round,rd=function(e){return e?{left:rm(e.left),top:rm(e.top),bottom:rm(e.bottom),right:rm(e.right),width:rm(e.width),height:rm(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},n0=function(e,n){return e=rd(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},r0=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},a0=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},Vh=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:a0(n.top-e.bottom,e,n)},Uh=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:a0(n.bottom-e.top,e,n)},_S=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},Qc=function(e,n,a){return Math.min(Math.max(e,n),a)},am=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},qa=function(e,n){if(Zn(e)&&e.hasChildNodes()){var a=e.childNodes,i=Qc(n,0,a.length-1);return a[i]}else return e},QA=function(e,n){if(!(n<0&&Zn(e)&&e.hasChildNodes()))return qa(e,n)},e4=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),o0=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&e4.test(e)},t4=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},SS=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},Zt=Zn,n4=jc,Ko=mu("display","block table"),q2=mu("float","left right"),om=SS(Zt,n4,be(q2)),xS=be(mu("white-space","pre pre-line pre-wrap")),nu=gn,Hp=wa,i0=Ma.nodeIndex,Vp=QA,dc=function(e){return"createRange"in e?e.createRange():Ma.DOM.createRng()},Up=function(e){return e&&/[\r\n\t ]/.test(e)},Wp=function(e){return!!e.setStart&&!!e.setEnd},Su=function(e){var n=e.startContainer,a=e.startOffset;if(Up(e.toString())&&xS(n.parentNode)&&gn(n)){var i=n.data;if(Up(i[a-1])||Up(i[a+1]))return!0}return!1},mc=function(e){var n=e.ownerDocument,a=dc(n),i=n.createTextNode(us),l=e.parentNode;l.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var v=rd(a.getBoundingClientRect());return l.removeChild(i),v},kS=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,l=e.endOffset;if(n===a&&gn(a)&&i===0&&l===1){var v=e.cloneRange();return v.setEndAfter(a),ef(v)}else return null},ru=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},ef=function(e){var n,a=e.getClientRects();return a.length>0?n=rd(a[0]):n=rd(e.getBoundingClientRect()),!Wp(e)&&Hp(e)&&ru(n)?mc(e):ru(n)&&Wp(e)?kS(e):n},ad=function(e,n){var a=n0(e,n);return a.width=1,a.right=a.left+1,a},jp=function(e){var n=[],a=function(A){A.height!==0&&(n.length>0&&r0(A,n[n.length-1])||n.push(A))},i=function(A,N){var X=dc(A.ownerDocument);if(N<A.data.length){if(o0(A.data[N]))return n;if(o0(A.data[N-1])&&(X.setStart(A,N),X.setEnd(A,N+1),!Su(X)))return a(ad(ef(X),!1)),n}N>0&&(X.setStart(A,N-1),X.setEnd(A,N),Su(X)||a(ad(ef(X),!1))),N<A.data.length&&(X.setStart(A,N),X.setEnd(A,N+1),Su(X)||a(ad(ef(X),!0)))},l=e.container(),v=e.offset();if(nu(l))return i(l,v),n;if(Zt(l))if(e.isAtEnd()){var p=Vp(l,v);nu(p)&&i(p,p.data.length),om(p)&&!Hp(p)&&a(ad(ef(p),!1))}else{var p=Vp(l,v);if(nu(p)&&i(p,0),om(p)&&e.isAtEnd())return a(ad(ef(p),!1)),n;var S=Vp(e.container(),e.offset()-1);om(S)&&!Hp(S)&&(Ko(S)||Ko(p)||!om(p))&&a(ad(ef(S),!1)),om(p)&&a(ad(ef(p),!0))}return n},mt=function(e,n,a){var i=function(){return nu(e),n===0},l=function(){return nu(e)?n>=e.data.length:n>=e.childNodes.length},v=function(){var X=dc(e.ownerDocument);return X.setStart(e,n),X.setEnd(e,n),X},p=function(){return a||(a=jp(mt(e,n))),a},S=function(){return p().length>0},A=function(X){return X&&e===X.container()&&n===X.offset()},N=function(X){return Vp(e,X?n-1:n)};return{container:j(e),offset:j(n),toRange:v,getClientRects:p,isVisible:S,isAtStart:i,isAtEnd:l,isEqual:A,getNode:N}};mt.fromRangeStart=function(e){return mt(e.startContainer,e.startOffset)},mt.fromRangeEnd=function(e){return mt(e.endContainer,e.endOffset)},mt.after=function(e){return mt(e.parentNode,i0(e)+1)},mt.before=function(e){return mt(e.parentNode,i0(e))},mt.isAbove=function(e,n){return eu(da(n.getClientRects()),Ur(e.getClientRects()),Vh).getOr(!1)},mt.isBelow=function(e,n){return eu(Ur(n.getClientRects()),da(e.getClientRects()),Uh).getOr(!1)},mt.isAtStart=function(e){return e?e.isAtStart():!1},mt.isAtEnd=function(e){return e?e.isAtEnd():!1},mt.isTextPosition=function(e){return e?gn(e.container()):!1},mt.isElementPosition=function(e){return mt.isTextPosition(e)===!1};var iv=function(e,n){gn(n)&&n.data.length===0&&e.remove(n)},Wh=function(e,n,a){n.insertNode(a),iv(e,a.previousSibling),iv(e,a.nextSibling)},r4=function(e,n,a){var i=te.from(a.firstChild),l=te.from(a.lastChild);n.insertNode(a),i.each(function(v){return iv(e,v.previousSibling)}),l.each(function(v){return iv(e,v.nextSibling)})},u0=function(e,n,a){dr(a)?r4(e,n,a):Wh(e,n,a)},Ml=gn,s0=bo,K2=Ma.nodeIndex,X2=function(e){var n=e.parentNode;return s0(n)?X2(n):n},l0=function(e){return e?Rf(e.childNodes,function(n,a){return s0(a)&&a.nodeName!=="BR"?n=n.concat(l0(a)):n.push(a),n},[]):[]},Y2=function(e,n){for(;(e=e.previousSibling)&&Ml(e);)n+=e.data.length;return n},J2=function(e){return function(n){return e===n}},Z2=function(e){var n,a;n=l0(X2(e)),a=ma(n,J2(e),e),n=n.slice(0,a+1);var i=Rf(n,function(l,v,p){return Ml(v)&&Ml(n[p-1])&&l++,l},0);return n=pl(n,As([e.nodeName])),a=ma(n,J2(e),e),a-i},Q2=function(e){var n;return Ml(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+Z2(e)+"]"},im=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},AS=function(e,n){var a,i,l=[],v,p,S;return a=n.container(),i=n.offset(),Ml(a)?v=Y2(a,i):(p=a.childNodes,i>=p.length?(v="after",i=p.length-1):v="before",a=p[i]),l.push(Q2(a)),S=im(e,a),S=pl(S,be(bo)),l=l.concat(Ov(S,function(A){return Q2(A)})),l.reverse().join("/")+","+v},a4=function(e,n,a){var i=l0(e);return i=pl(i,function(l,v){return!Ml(l)||!Ml(i[v-1])}),i=pl(i,As([n])),i[a]},o4=function(e,n){for(var a=e,i=0,l;Ml(a);){if(l=a.data.length,n>=i&&n<=i+l){e=a,n=n-i;break}if(!Ml(a.nextSibling)){e=a,n=l;break}i+=l,a=a.nextSibling}return Ml(e)&&n>e.data.length&&(n=e.data.length),mt(e,n)},jh=function(e,n){var a;if(!n)return null;var i=n.split(","),l=i[0].split("/");a=i.length>1?i[1]:"before";var v=Rf(l,function(p,S){var A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(S);return A?(A[1]==="text()"&&(A[1]="#text"),a4(p,A[1],parseInt(A[2],10))):null},e);return v?Ml(v)?o4(v,parseInt(a,10)):(a==="after"?a=K2(v)+1:a=K2(v),mt(v.parentNode,a)):null},Gh=Va,c0=function(e,n,a){var i,l;for(l=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&gn(i);i=i.previousSibling)l+=e(i.data).length;return l},ew=function(e,n,a,i,l){var v=i[l?"startContainer":"endContainer"],p=i[l?"startOffset":"endOffset"],S=[],A,N=0,X=e.getRoot();for(gn(v)?S.push(a?c0(n,v,p):p):(A=v.childNodes,p>=A.length&&A.length&&(N=1,p=Math.max(0,A.length-1)),S.push(e.nodeIndex(A[p],a)+N));v&&v!==X;v=v.parentNode)S.push(e.nodeIndex(v,a));return S},qh=function(e,n,a,i){var l=n.dom,v={};return v.start=ew(l,e,a,i,!0),n.isCollapsed()||(v.end=ew(l,e,a,i,!1)),Wc(i)&&(v.isFakeCaret=!0),v},tw=function(e,n,a){var i=0;return wt.each(e.select(n),function(l){if(l.getAttribute("data-mce-bogus")!=="all"){if(l===a)return!1;i++}}),i},mo=function(e,n){var a,i,l,v=n?"start":"end";a=e[v+"Container"],i=e[v+"Offset"],Zn(a)&&a.nodeName==="TR"&&(l=a.childNodes,a=l[Math.min(n?i:i-1,l.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},Gp=function(e){return mo(e,!0),mo(e,!1),e},wo=function(e,n){var a;if(Zn(e)&&(e=qa(e,n),Gh(e)))return e;if(Nu(e)&&(gn(e)&&Ca(e)&&(e=e.parentNode),a=e.previousSibling,Gh(a)||(a=e.nextSibling,Gh(a))))return a},f0=function(e){return wo(e.startContainer,e.startOffset)||wo(e.endContainer,e.endOffset)},um=function(e,n,a){var i=a.getNode(),l=i?i.nodeName:null,v=a.getRng();if(Gh(i)||l==="IMG")return{name:l,index:tw(a.dom,l,i)};var p=f0(v);return p?(l=p.tagName,{name:l,index:tw(a.dom,l,p)}):qh(e,a,n,v)},nw=function(e){var n=e.getRng();return{start:AS(e.dom.getRoot(),mt.fromRangeStart(n)),end:AS(e.dom.getRoot(),mt.fromRangeEnd(n))}},qp=function(e){return{rng:e.getRng()}},rw=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},ES=function(e,n){var a=e.dom,i=e.getRng(),l=a.uniqueId(),v=e.isCollapsed(),p=e.getNode(),S=p.nodeName;if(S==="IMG")return{name:S,index:tw(a,S,p)};var A=Gp(i.cloneRange());if(!v){A.collapse(!1);var N=rw(a,l+"_end",n);u0(a,A,N)}i=Gp(i),i.collapse(!0);var X=rw(a,l+"_start",n);return u0(a,i,X),e.moveToBookmark({id:l,keep:!0}),{id:l}},i4=function(e,n,a){return n===2?um(sc,a,e):n===3?nw(e):n?qp(e):ES(e,!1)},TS=le(um,ke,!0),u4=Ma.DOM,v0="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Kp=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var l=e.getParam(n,"","hash");return Ir(l,e.id).getOr(a)}else return i},s4=function(e){return e.getParam("iframe_attrs",{})},OS=function(e){return e.getParam("doctype","<!DOCTYPE html>")},aw=function(e){return e.getParam("document_base_url","")},l4=function(e){return Kp(e,"body_id","tinymce")},c4=function(e){return Kp(e,"body_class","")},d0=function(e){return e.getParam("content_security_policy","")},ow=function(e){return e.getParam("br_in_pre",!0)},Di=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},Kh=function(e){return e.getParam("forced_root_block_attrs",{})},Xh=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},DS=function(e){return e.getParam("no_newline_selector","")},f4=function(e){return e.getParam("keep_styles",!0)},Xp=function(e){return e.getParam("end_container_on_empty_block",!1)},Yp=function(e){return wt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},sm=function(e){return wt.explode(e.getParam("font_size_classes",""))},m0=function(e){return e.getParam("images_dataimg_filter",ot,"function")},Jp=function(e){return e.getParam("automatic_uploads",!0,"boolean")},iw=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},v4=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},tf=function(e){return e.getParam("icons","","string")},h0=function(e){return e.getParam("icons_url","","string")},d4=function(e){return e.getParam("images_upload_url","","string")},od=function(e){return e.getParam("images_upload_base_path","","string")},id=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},m4=function(e){return e.getParam("images_upload_handler",null,"function")},g0=function(e){return e.getParam("content_css_cors",!1,"boolean")},p0=function(e){return e.getParam("referrer_policy","","string")},b0=function(e){return e.getParam("language","en","string")},si=function(e){return e.getParam("language_url","","string")},RS=function(e){return e.getParam("indent_use_margin",!1)},uw=function(e){return e.getParam("indentation","40px","string")},$S=function(e){var n=e.getParam("content_css");return $e(n)?et(n.split(","),Xs):Be(n)?n:n===!1||e.inline?[]:["default"]},BS=function(e){var n=e.getParam("font_css",[]);return Be(n)?n:et(n.split(","),Xs)},hc=function(e){return e.getParam("directionality",wu.isRtl()?"rtl":void 0)},uv=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},MS=function(e){var n=e.getParam("object_resizing");return n===!1||Wn.iOS?!1:$e(n)?n:"table,img,figure.image,div,video,iframe"},PS=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},sw=function(e){return e.getParam("placeholder",u4.getAttrib(e.getElement(),"placeholder"),"string")},y0=function(e){return e.getParam("event_root")},IS=function(e){return e.getParam("service_message")},Yh=function(e){return e.getParam("theme")},h4=function(e){return e.getParam("validate")},Zp=function(e){return e.getParam("inline_boundaries")!==!1},g4=function(e){return e.getParam("formats")},Jh=function(e){var n=e.getParam("preview_styles",v0);return $e(n)?n:""},lm=function(e){return e.getParam("format_empty_lines",!1,"boolean")},lw=function(e){return e.getParam("custom_ui_selector","","string")},NS=function(e){return e.getParam("theme_url")},p4=function(e){return e.getParam("inline")},zS=function(e){return e.getParam("hidden_input")},FS=function(e){return e.getParam("submit_patch")},cw=function(e){return e.getParam("encoding")==="xml"},b4=function(e){return e.getParam("add_form_submit_trigger")},w0=function(e){return e.getParam("add_unload_trigger")},y4=function(e){return Di(e)!==""},Qp=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},w4=function(e){return e.getParam("disable_nodechange")},C4=function(e){return e.getParam("readonly")},_4=function(e){return e.getParam("content_css_cors")},C0=function(e){return e.getParam("plugins","","string")},S4=function(e){return e.getParam("external_plugins")},Zh=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},LS=function(e){return e.getParam("visual",!0,"boolean")},x4=function(e){return e.getParam("visual_table_class","mce-item-table","string")},fw=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},HS=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},vw=Zn,VS=gn,US=function(e){var n=e.parentNode;n&&n.removeChild(e)},Qh=function(e){var n=sc(e);return{count:e.length-n.length,text:n}},dw=function(e){for(var n;(n=e.data.lastIndexOf(He))!==-1;)e.deleteData(n,1)},mw=function(e,n){return ud(e),n},k4=function(e,n){var a=Qh(e.data.substr(0,n.offset())),i=Qh(e.data.substr(n.offset())),l=a.text+i.text;return l.length>0?(dw(e),mt(e,n.offset()-a.count)):n},A4=function(e,n){var a=n.container(),i=Te(vr(a.childNodes),e).map(function(l){return l<n.offset()?mt(a,n.offset()-1):n}).getOr(n);return ud(e),i},hw=function(e,n){return VS(e)&&n.container()===e?k4(e,n):mw(e,n)},E4=function(e,n){return n.container()===e.parentNode?A4(e,n):mw(e,n)},WS=function(e,n){return mt.isTextPosition(n)?hw(e,n):E4(e,n)},ud=function(e){vw(e)&&Nu(e)&&(Jf(e)?e.removeAttribute("data-mce-caret"):US(e)),VS(e)&&(dw(e),e.data.length===0&&US(e))},eg=Bn().browser,jS=Va,T4=Mu,GS=ph,O4="*[contentEditable=false],video,audio,embed,object",gw=function(e,n,a){var i=n0(n.getBoundingClientRect(),a),l,v;if(e.tagName==="BODY"){var p=e.ownerDocument.documentElement;l=e.scrollLeft||p.scrollLeft,v=e.scrollTop||p.scrollTop}else{var S=e.getBoundingClientRect();l=e.scrollLeft-S.left,v=e.scrollTop-S.top}i.left+=l,i.right+=l,i.top+=v,i.bottom+=v,i.width=1;var A=n.offsetWidth-n.clientWidth;return A>0&&(a&&(A*=-1),i.left+=A,i.right+=A),i},tg=function(e){for(var n=Oi(Ge.fromDom(e),O4),a=0;a<n.length;a++){var i=n[a].dom,l=i.previousSibling;if(Tp(l)){var v=l.data;v.length===1?l.parentNode.removeChild(l):l.deleteData(v.length-1,1)}if(l=i.nextSibling,Ep(l)){var v=l.data;v.length===1?l.parentNode.removeChild(l):l.deleteData(0,1)}}},au=function(e,n,a,i){var l=nd(),v,p,S=Di(e),A=S.length>0?S:"p",N=function(he,pe){var Oe;if(X(),GS(pe))return null;if(a(pe)){p=Q_(A,pe,he);var xe=gw(n,pe,he);mr(p).css("top",xe.top);var Xe=mr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(qn({},xe)).appendTo(n)[0];l.set({caret:Xe,element:pe,before:he}),he&&mr(Xe).addClass("mce-visual-caret-before"),J(),Oe=pe.ownerDocument.createRange(),Oe.setStart(p,0),Oe.setEnd(p,0)}else return p=c2(pe,he),Oe=pe.ownerDocument.createRange(),ng(p.nextSibling)?(Oe.setStart(p,0),Oe.setEnd(p,0)):(Oe.setStart(p,1),Oe.setEnd(p,1)),Oe;return Oe},X=function(){tg(n),p&&(ud(p),p=null),l.on(function(he){mr(he.caret).remove(),l.clear()}),v&&(Ui.clearInterval(v),v=void 0)},J=function(){v=Ui.setInterval(function(){i()?mr("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):mr("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},Q=function(){l.on(function(he){var pe=gw(n,he.element,he.before);mr(he.caret).css(qn({},pe))})},fe=function(){return Ui.clearInterval(v)},de=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:N,hide:X,getCss:de,reposition:Q,destroy:fe}},pw=function(){return eg.isIE()||eg.isEdge()||eg.isFirefox()},ng=function(e){return jS(e)||T4(e)},cm=function(e){return ng(e)||Eo(e)&&pw()},_0=Va,D4=Mu,qS=mu("display","block table table-cell table-caption list-item"),bw=Nu,Lu=Ca,e1=Zn,R4=jc,fm=function(e){return e>0},sd=function(e){return e<0},rg=function(e,n){for(var a;a=e(n);)if(!Lu(a))return a;return null},ld=function(e,n,a,i,l){var v=new sa(e,i),p=_0(e)||Lu(e);if(sd(n)){if(p&&(e=rg(v.prev.bind(v),!0),a(e)))return e;for(;e=rg(v.prev.bind(v),l);)if(a(e))return e}if(fm(n)){if(p&&(e=rg(v.next.bind(v),!0),a(e)))return e;for(;e=rg(v.next.bind(v),l);)if(a(e))return e}return null},gc=function(e,n){for(;e&&e!==n;){if(qS(e))return e;e=e.parentNode}return null},pc=function(e,n,a){return gc(e.container(),a)===gc(n.container(),a)},S0=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return e1(a)?a.childNodes[i+e]:null},x0=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},yw=function(e,n,a){return gc(n,e)===gc(a,e)},ag=function(e,n,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==n;){var l=a[i];if(bw(l)&&(l=l[i]),_0(l)||D4(l)){if(yw(n,l,a))return l;break}if(R4(l))break;a=a.parentNode}return null},og=le(x0,!0),ig=le(x0,!1),Ki=function(e,n,a){var i,l=le(ag,!0,n),v=le(ag,!1,n),p=a.startContainer,S=a.startOffset;if(Ca(p)){e1(p)||(p=p.parentNode);var A=p.getAttribute("data-mce-caret");if(A==="before"&&(i=p.nextSibling,cm(i)))return og(i);if(A==="after"&&(i=p.previousSibling,cm(i)))return ig(i)}if(!a.collapsed)return a;if(gn(p)){if(bw(p)){if(e===1){if(i=v(p),i)return og(i);if(i=l(p),i)return ig(i)}if(e===-1){if(i=l(p),i)return ig(i);if(i=v(p),i)return og(i)}return a}if(Tp(p)&&S>=p.data.length-1)return e===1&&(i=v(p),i)?og(i):a;if(Ep(p)&&S<=1)return e===-1&&(i=l(p),i)?ig(i):a;if(S===p.data.length)return i=v(p),i?og(i):a;if(S===0)return i=l(p),i?ig(i):a}return a},ug=function(e,n){return te.from(S0(e?0:-1,n)).filter(_0)},sg=function(e,n,a){var i=Ki(e,n,a);return e===-1?mt.fromRangeStart(i):mt.fromRangeEnd(i)},k0=function(e){return te.from(e.getNode()).map(Ge.fromDom)},$4=function(e){return te.from(e.getNode(!0)).map(Ge.fromDom)},ww=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},A0=function(e,n){var a=pc(e,n);return!a&&wa(e.getNode())?!0:a},Ri;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Ri||(Ri={}));var B4=Va,nf=gn,E0=Zn,Cw=wa,lg=jc,_w=MA,t1=Po,M4=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},KS=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},XS=function(e,n){if(fm(e)){if(lg(n.previousSibling)&&!nf(n.previousSibling))return mt.before(n);if(nf(n))return mt(n,0)}if(sd(e)){if(lg(n.nextSibling)&&!nf(n.nextSibling))return mt.after(n);if(nf(n))return mt(n,n.data.length)}return sd(e)?Cw(n)?mt.before(n):mt.after(n):mt.before(n)},P4=function(e,n){var a=n.nextSibling;return a&&lg(a)?nf(a)?mt(a,0):mt.before(a):cg(Ri.Forwards,mt.after(n),e)},cg=function(e,n,a){var i,l,v,p;if(!E0(a)||!n)return null;if(n.isEqual(mt.after(a))&&a.lastChild){if(p=mt.after(a.lastChild),sd(e)&&lg(a.lastChild)&&E0(a.lastChild))return Cw(a.lastChild)?mt.before(a.lastChild):p}else p=n;var S=p.container(),A=p.offset();if(nf(S)){if(sd(e)&&A>0)return mt(S,--A);if(fm(e)&&A<S.length)return mt(S,++A);i=S}else{if(sd(e)&&A>0&&(l=KS(S,A-1),lg(l)))return!_w(l)&&(v=ld(l,e,t1,l),v)?nf(v)?mt(v,v.data.length):mt.after(v):nf(l)?mt(l,l.data.length):mt.before(l);if(fm(e)&&A<S.childNodes.length&&(l=KS(S,A),lg(l)))return Cw(l)?P4(a,l):!_w(l)&&(v=ld(l,e,t1,l),v)?nf(v)?mt(v,0):mt.before(v):nf(l)?mt(l,0):mt.after(l);i=l||p.getNode()}if((fm(e)&&p.isAtEnd()||sd(e)&&p.isAtStart())&&(i=ld(i,e,ot,a,!0),t1(i,a)))return XS(e,i);l=ld(i,e,t1,a);var N=Ks(ut(M4(S,a),B4));return N&&(!l||!N.contains(l))?(fm(e)?p=mt.after(N):p=mt.before(N),p):l?XS(e,l):null},ho=function(e){return{next:function(n){return cg(Ri.Forwards,n,e)},prev:function(n){return cg(Ri.Backwards,n,e)}}},T0=function(e,n,a){var i=e?mt.before(a):mt.after(a);return Hu(e,n,i)},O0=function(e){return wa(e)?mt.before(e):mt.after(e)},Sw=function(e){return mt.isTextPosition(e)?e.offset()===0:jc(e.getNode())},YS=function(e){if(mt.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return jc(e.getNode(!0))},xw=function(e,n){return!mt.isTextPosition(e)&&!mt.isTextPosition(n)&&e.getNode()===n.getNode(!0)},vm=function(e){return!mt.isTextPosition(e)&&wa(e.getNode())},D0=function(e,n,a){return e?!xw(n,a)&&!vm(n)&&YS(n)&&Sw(a):!xw(a,n)&&Sw(n)&&YS(a)},Hu=function(e,n,a){var i=ho(n);return te.from(e?i.next(a):i.prev(a))},bc=function(e,n,a){return Hu(e,n,a).bind(function(i){return pc(a,i,n)&&D0(e,a,i)?Hu(e,n,i):te.some(i)})},R0=function(e,n,a,i){return bc(e,n,a).bind(function(l){return i(l)?R0(e,n,l,i):te.some(l)})},sv=function(e,n){var a=e?n.firstChild:n.lastChild;return gn(a)?te.some(mt(a,e?0:a.data.length)):a?jc(a)?te.some(e?mt.before(a):O0(a)):T0(e,n,a):te.none()},Pl=le(Hu,!0),yc=le(Hu,!1),ou=le(sv,!0),ol=le(sv,!1),fg="_mce_caret",rf=function(e){return Zn(e)&&e.id===fg},dm=function(e,n){for(;n&&n!==e;){if(n.id===fg)return n;n=n.parentNode}return null},JS=function(e){return $e(e.start)},ZS=function(e){return Dr(e,"rng")},I4=function(e){return Dr(e,"id")},N4=function(e){return Dr(e,"name")},QS=function(e){return wt.isArray(e.start)},ex=function(e,n){return Zn(n)&&e.isBlock(n)&&!n.innerHTML&&!Wn.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},tx=function(e,n){var a,i=e.createRng();return a=jh(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=jh(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},z4=function(e,n){var a=e.ownerDocument.createTextNode(He);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},nx=function(e){return e.hasChildNodes()===!1},F4=function(e,n){return ol(e).fold(at,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},rx=function(e,n,a){return nx(n)&&dm(e,n)?(z4(n,a),!0):!1},ax=function(e,n,a,i){var l=a[n?"start":"end"],v,p,S,A,N=e.getRoot();if(l){for(S=l[0],p=N,v=l.length-1;v>=1;v--){if(A=p.childNodes,rx(N,p,i))return!0;if(l[v]>A.length-1)return rx(N,p,i)?!0:F4(p,i);p=A[l[v]]}p.nodeType===3&&(S=Math.min(l[0],p.nodeValue.length)),p.nodeType===1&&(S=Math.min(l[0],p.childNodes.length)),n?i.setStart(p,S):i.setEnd(p,S)}return!0},kw=function(e){return gn(e)&&e.data.length>0},ox=function(e,n,a){var i=e.get(a.id+"_"+n),l,v,p,S,A=a.keep,N,X;if(i){if(l=i.parentNode,n==="start"?(A?i.hasChildNodes()?(l=i.firstChild,v=1):kw(i.nextSibling)?(l=i.nextSibling,v=0):kw(i.previousSibling)?(l=i.previousSibling,v=i.previousSibling.data.length):(l=i.parentNode,v=e.nodeIndex(i)+1):v=e.nodeIndex(i),N=l,X=v):(A?i.hasChildNodes()?(l=i.firstChild,v=1):kw(i.previousSibling)?(l=i.previousSibling,v=i.previousSibling.data.length):(l=i.parentNode,v=e.nodeIndex(i)):v=e.nodeIndex(i),N=l,X=v),!A){for(S=i.previousSibling,p=i.nextSibling,wt.each(wt.grep(i.childNodes),function(J){gn(J)&&(J.nodeValue=J.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);S&&p&&S.nodeType===p.nodeType&&gn(S)&&!Wn.opera&&(v=S.nodeValue.length,S.appendData(p.nodeValue),e.remove(p),N=S,X=v)}return te.some(mt(N,X))}else return te.none()},L4=function(e,n){var a=e.createRng();return ax(e,!0,n,a)&&ax(e,!1,n,a)?te.some(a):te.none()},Br=function(e,n){var a=ox(e,"start",n),i=ox(e,"end",n);return eu(a,i.or(a),function(l,v){var p=e.createRng();return p.setStart(ex(e,l.container()),l.offset()),p.setEnd(ex(e,v.container()),v.offset()),p})},mm=function(e,n){return te.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},vg=function(e,n){var a=e.dom;if(n){if(QS(n))return L4(a,n);if(JS(n))return te.some(tx(a,n));if(I4(n))return Br(a,n);if(N4(n))return mm(a,n);if(ZS(n))return te.some(n.rng)}return te.none()},Aw=function(e,n,a){return i4(e,n,a)},H4=function(e,n){vg(e,n).each(function(a){e.setRng(a)})},Vu=function(e){return Zn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},V4=function(e){return function(n){return e===n}},hm=V4(us),cd=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},$0=function(e){return!cd(e)&&!hm(e)},B0=function(e){return!!e.nodeType},U4=function(e){return e&&/^(IMG)$/.test(e.nodeName)},ix=function(e,n,a){var i=a.startOffset,l=a.startContainer;if(!(l===a.endContainer&&U4(l.childNodes[i]))&&Zn(l)){var v=l.childNodes,p=void 0;i<v.length?(l=v[i],p=new sa(l,e.getParent(l,e.isBlock))):(l=v[v.length-1],p=new sa(l,e.getParent(l,e.isBlock)),p.next(!0));for(var S=p.current();S;S=p.next())if(gn(S)&&!P0(S)){a.setStart(S,0),n.setRng(a);return}}},M0=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(Zn(e)||!P0(e))return e}},Ew=function(e,n){return B0(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},dg=function(e,n,a){return e.schema.isValidChild(n,a)},P0=function(e,n){if(n===void 0&&(n=!1),We(e)&&gn(e)){var a=n?e.data.replace(/ /g," "):e.data;return Ol(a)}else return!1},W4=function(e){return We(e)&&gn(e)&&e.length===0},af=function(e,n){return se(e)?e=e(n):We(n)&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},Tw=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},Ow=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},mg=function(e,n,a){return Ow(e,e.getStyle(n,a),a)},Dw=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},n1=function(e,n,a){return e.getParents(n,a,e.getRoot())},ux=function(e,n){var a=function(i){var l=function(v){return v.length>1&&v.charAt(0)==="%"};return Ze(["styles","attributes"],function(v){return Ir(i,v).exists(function(p){var S=Be(p)?p:Zu(p);return Ze(S,l)})})};return Ze(e.formatter.get(n),a)},j4=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],l=function(v){return lo(v,function(p,S){return Ze(i,function(A){return A===S})})};return Ze(e.formatter.get(n),function(v){var p=l(v);return Ze(e.formatter.get(a),function(S){var A=l(S);return rh(p,A)})})},of=function(e){return Gs(e,"block")},vs=function(e){return Gs(e,"selector")},$i=function(e){return Gs(e,"inline")},G4=function(e){return vs(e)&&$i(e)&&zd(Ir(e,"mixed"),!0)},Rw=function(e){return vs(e)&&e.expand!==!1&&!$i(e)},hg=Vu,$w=n1,r1=P0,Bw=Ew,q4=function(e){return wa(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},an=function(e,n){for(var a=n;a;){if(Zn(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},Xo=function(e,n,a,i){for(var l=n.data,v=a;e?v>=0:v<l.length;e?v--:v++)if(i(l.charAt(v)))return e?v+1:v;return-1},gg=function(e,n,a){return Xo(e,n,a,function(i){return hm(i)||cd(i)})},li=function(e,n,a){return Xo(e,n,a,$0)},il=function(e,n,a,i,l,v){var p,S=e.getParent(a,e.isBlock)||n,A=function(X,J,Q){var fe=G2(e),de=l?fe.backwards:fe.forwards;return te.from(de(X,J,function(he,pe){return hg(he.parentNode)?-1:(p=he,Q(l,he,pe))},S))},N=A(a,i,gg);return N.bind(function(X){return v?A(X.container,X.offset+(l?-1:0),li):te.some(X)}).orThunk(function(){return p?te.some({container:p,offset:l?0:p.length}):te.none()})},Mw=function(e,n,a,i,l){gn(i)&&Md(i.data)&&i[l]&&(i=i[l]);for(var v=$w(e,i),p=0;p<v.length;p++)for(var S=0;S<n.length;S++){var A=n[S];if(!(We(A.collapsed)&&A.collapsed!==a.collapsed)&&vs(A)&&e.is(v[p],A.selector))return v[p]}return i},a1=function(e,n,a,i){var l=a,v=e.dom,p=v.getRoot(),S=n[0];if(of(S)&&(l=S.wrapper?null:v.getParent(a,S.block,p)),!l){var A=v.getParent(a,"LI,TD,TH");l=v.getParent(gn(a)?a.parentNode:a,function(N){return N!==p&&Bw(e,N)},A)}if(l&&of(S)&&S.wrapper&&(l=$w(v,l,"ul,ol").reverse()[0]||l),!l)for(l=a;l[i]&&!v.isBlock(l[i])&&(l=l[i],!Tw(l,"br")););return l||a},I0=function(e,n,a,i){var l=a.parentNode;return We(a[i])?!1:l===n||Se(l)||e.isBlock(l)?!0:I0(e,n,l,i)},N0=function(e,n,a,i,l){var v=a,p=l?"previousSibling":"nextSibling",S=e.getRoot();if(gn(a)&&!r1(a)&&(l?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(v))return v;for(var A=v[p];A;A=A[p]){var N=gn(A)&&!I0(e,S,A,p);if(!hg(A)&&!q4(A)&&!r1(A,N))return v}if(v===S||v.parentNode===S){a=v;break}v=v.parentNode}return a},z0=function(e){return hg(e.parentNode)||hg(e)},fd=function(e,n,a,i){i===void 0&&(i=!1);var l=n.startContainer,v=n.startOffset,p=n.endContainer,S=n.endOffset,A=e.dom,N=a[0];if(Zn(l)&&l.hasChildNodes()&&(l=qa(l,v),gn(l)&&(v=0)),Zn(p)&&p.hasChildNodes()&&(p=qa(p,n.collapsed?S:S-1),gn(p)&&(S=p.nodeValue.length)),l=an(A,l),p=an(A,p),z0(l)&&(l=hg(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,gn(l)&&(v=n.collapsed?l.length:0)),z0(p)&&(p=hg(p)?p:p.parentNode,n.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,gn(p)&&(S=n.collapsed?0:p.length)),n.collapsed){var X=il(A,e.getBody(),l,v,!0,i);X.each(function(Q){var fe=Q.container,de=Q.offset;l=fe,v=de});var J=il(A,e.getBody(),p,S,!1,i);J.each(function(Q){var fe=Q.container,de=Q.offset;p=fe,S=de})}return($i(N)||N.block_expand)&&((!$i(N)||!gn(l)||v===0)&&(l=N0(A,a,l,v,!0)),(!$i(N)||!gn(p)||S===p.nodeValue.length)&&(p=N0(A,a,p,S,!1))),Rw(N)&&(l=Mw(A,a,n,l,"previousSibling"),p=Mw(A,a,n,p,"nextSibling")),(of(N)||vs(N))&&(l=a1(e,a,l,"previousSibling"),p=a1(e,a,p,"nextSibling"),of(N)&&(A.isBlock(l)||(l=N0(A,a,l,v,!0)),A.isBlock(p)||(p=N0(A,a,p,S,!1)))),Zn(l)&&(v=A.nodeIndex(l),l=l.parentNode),Zn(p)&&(S=A.nodeIndex(p)+1,p=p.parentNode),{startContainer:l,startOffset:v,endContainer:p,endOffset:S}},o1=function(e,n,a){var i=n.startOffset,l=qa(n.startContainer,i),v=n.endOffset,p=qa(n.endContainer,v-1),S=function(he){var pe=he[0];gn(pe)&&pe===l&&i>=pe.data.length&&he.splice(0,1);var Oe=he[he.length-1];return v===0&&he.length>0&&Oe===p&&gn(Oe)&&he.splice(he.length-1,1),he},A=function(he,pe,Oe){for(var xe=[];he&&he!==Oe;he=he[pe])xe.push(he);return xe},N=function(he,pe){return e.getParent(he,function(Oe){return Oe.parentNode===pe},pe)},X=function(he,pe,Oe){for(var xe=Oe?"nextSibling":"previousSibling",Xe=he,je=Xe.parentNode;Xe&&Xe!==pe;Xe=je){je=Xe.parentNode;var Re=A(Xe===he?Xe:Xe[xe],xe);Re.length&&(Oe||Re.reverse(),a(S(Re)))}};if(l===p)return a(S([l]));var J=e.findCommonAncestor(l,p);if(e.isChildOf(l,p))return X(l,J,!0);if(e.isChildOf(p,l))return X(p,J);var Q=N(l,J)||l,fe=N(p,J)||p;X(l,Q,!0);var de=A(Q===l?Q:Q.nextSibling,"nextSibling",fe===p?fe.nextSibling:fe);de.length&&a(S(de)),X(p,fe)},Pw=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},Iw=function(e){return fr(e,function(n){var a=am(n);return a?[Ge.fromDom(a)]:[]})},Nw=function(e){return Pw(e).length>1},K4=function(e){return ut(Iw(e),uc)},sx=function(e){return Oi(e,"td[data-mce-selected],th[data-mce-selected]")},lv=function(e,n){var a=sx(n);return a.length>0?a:K4(e)},uf=function(e){return lv(Pw(e.selection.getSel()),Ge.fromDom(e.getBody()))},gm=function(e,n){return Fd(e,"table",n)},pg=function(e){var n=e.startContainer,a=e.startOffset;return gn(n)?a===0?te.some(Ge.fromDom(n)):te.none():te.from(n.childNodes[a]).map(Ge.fromDom)},zw=function(e){var n=e.endContainer,a=e.endOffset;return gn(n)?a===n.data.length?te.some(Ge.fromDom(n)):te.none():te.from(n.childNodes[a-1]).map(Ge.fromDom)},F0=function(e){return Mo(e).fold(j([e]),function(n){return[e].concat(F0(n))})},sf=function(e){return as(e).fold(j([e]),function(n){return ko(n)==="br"?Ff(n).map(function(a){return[e].concat(sf(a))}).getOr([]):[e].concat(sf(n))})},Il=function(e,n){return eu(pg(n),zw(n),function(a,i){var l=rn(F0(e),le($a,a)),v=rn(sf(e),le($a,i));return l.isSome()&&v.isSome()}).getOr(!1)},vd=function(e,n,a,i){var l=a,v=new sa(a,l),p=lo(e.schema.getMoveCaretBeforeOnEnterElements(),function(S,A){return!Ae(["td","th","table"],A.toLowerCase())});do{if(gn(a)&&wt.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(p[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?v.next():v.prev());l.nodeName==="BODY"&&(i?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},dd=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},pm=function(e,n){var a=uf(e);a.length>0?Le(a,function(i){var l=i.dom,v=e.dom.createRng();v.setStartBefore(l),v.setEndAfter(l),n(v,!0)}):n(e.selection.getRng(),!1)},bg=function(e,n,a){var i=ES(e,n);a(i),e.moveToBookmark(i)},Fw=function(e,n){var a=function(v){if(!e(v))throw new Error("Can only get "+n+" value of a "+n+" node");return i(v).getOr("")},i=function(v){return e(v)?te.from(v.dom.nodeValue):te.none()},l=function(v,p){if(!e(v))throw new Error("Can only set raw "+n+" value of a "+n+" node");v.dom.nodeValue=p};return{get:a,getOption:i,set:l}},Lw=Fw(Xa,"text"),Hw=function(e){return Lw.get(e)},L0=function(e){return Xa(e)&&Hw(e)===He},Bi=function(e,n,a,i){return ro(n).fold(function(){return"skipping"},function(l){return i==="br"||L0(n)?"valid":ov(n)?"existing":rf(n.dom)?"caret":!dg(e,a,i)||!dg(e,ko(l),a)?"invalid-child":"valid"})},Fs=function(e,n){var a=fd(e,n,[{inline:"span"}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},ul=function(e,n,a,i){var l=n.uid,v=l===void 0?CS("mce-annotation"):l,p=ah(n,["uid"]),S=Ge.fromTag("span",e);nm(S,fs()),M(S,""+qo(),v),M(S,""+Fp(),a);var A=i(v,p),N=A.attributes,X=N===void 0?{}:N,J=A.classes,Q=J===void 0?[]:J;return Y(S,X),ZA(S,Q),S},lf=function(e,n,a,i,l){var v=[],p=ul(e.getDoc(),l,a,i),S=nd(),A=function(){S.clear()},N=function(){return S.get().getOrThunk(function(){var fe=No(p);return v.push(fe),S.set(fe),fe})},X=function(fe){Le(fe,J)},J=function(fe){var de=Bi(e,fe,"span",ko(fe));switch(de){case"invalid-child":{A();var he=Qi(fe);X(he),A();break}case"valid":{var pe=N();Nd(fe,pe);break}}},Q=function(fe){var de=et(fe,Ge.fromDom);X(de)};return o1(e.dom,n,function(fe){A(),Q(fe)}),v},yg=function(e,n,a,i){e.undoManager.transact(function(){var l=e.selection,v=l.getRng(),p=uf(e).length>0;if(v.collapsed&&!p&&Fs(e,v),l.getRng().collapsed&&!p){var S=ul(e.getDoc(),i,n,a.decorate);_u(S,us),l.getRng().insertNode(S.dom),l.select(S.dom)}else bg(l,!1,function(){pm(e,function(A){lf(e,A,n,a.decorate,i)})})})},H0=function(e){var n=Lp();j2(e,n);var a=wS(e);return{register:function(i,l){n.register(i,l)},annotate:function(i,l){n.lookup(i).each(function(v){yg(e,i,v,l)})},annotationChanged:function(i,l){a.addListener(i,l)},remove:function(i){Zb(e,te.some(i)).each(function(l){var v=l.elements;Le(v,Uf)})},getAll:function(i){var l=W2(e,i);return yi(l,function(v){return et(v,function(p){return p.dom})})}}},md=function(e){return{getBookmark:le(Aw,e),moveToBookmark:le(H4,e)}};md.isBookmarkNode=Vu;var bm=function(e,n){for(;n&&n!==e;){if(kl(n)||Va(n))return n;n=n.parentNode}return null},ym=function(e,n,a){if(a.collapsed)return!1;if(Wn.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(Zn(i))return Ze(i.getClientRects(),function(l){return _S(l,e,n)})}return Ze(a.getClientRects(),function(l){return _S(l,e,n)})},X4=function(e,n){return e.fire("PreProcess",n)},Vw=function(e,n){return e.fire("PostProcess",n)},lx=function(e){return e.fire("remove")},cx=function(e){return e.fire("detach")},Uw=function(e,n){return e.fire("SwitchMode",{mode:n})},Ww=function(e,n,a,i,l){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:l})},pa=function(e,n,a,i,l){e.fire("ObjectResized",{target:n,width:a,height:i,origin:l})},cf=function(e){return e.fire("PreInit")},fx=function(e){return e.fire("PostRender")},vx=function(e){return e.fire("Init")},dx=function(e,n){return e.fire("PlaceholderToggle",{state:n})},V0=function(e,n,a){return e.fire(n,a)},jw=function(e,n,a,i){return e.fire("FormatApply",{format:n,node:a,vars:i})},i1=function(e,n,a,i){return e.fire("FormatRemove",{format:n,node:a,vars:i})},Gn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Gn.metaKeyPressed(e)},metaKeyPressed:function(e){return Wn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Y4=Va,Gw=function(e,n){var a="data-mce-selected",i=n.dom,l=wt.each,v,p,S,A,N,X,J,Q,fe,de,he,pe,Oe,xe,Xe,je=n.getDoc(),Re=document,Qe=Math.abs,St=Math.round,Lt=n.getBody(),jn,mn,Bt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Vn=function(tt){return tt&&(tt.nodeName==="IMG"||n.dom.is(tt,"figure.image"))},Ut=function(tt){return Mu(tt)||i.hasClass(tt,"mce-preview-object")},vn=function(tt,Vt){if(tt.type==="longpress"||tt.type.indexOf("touch")===0){var zt=tt.touches[0];return Vn(tt.target)&&!ym(zt.clientX,zt.clientY,Vt)}else return Vn(tt.target)&&!ym(tt.clientX,tt.clientY,Vt)},Gt=function(tt){var Vt=tt.target;vn(tt,n.selection.getRng())&&!tt.isDefaultPrevented()&&n.selection.select(Vt)},Qt=function(tt){return i.is(tt,"figure.image")?[tt.querySelector("img")]:i.hasClass(tt,"mce-preview-object")&&We(tt.firstElementChild)?[tt,tt.firstElementChild]:[tt]},yn=function(tt){var Vt=MS(n);return!Vt||tt.getAttribute("data-mce-resize")==="false"||tt===n.getBody()?!1:i.hasClass(tt,"mce-preview-object")?Ql(Ge.fromDom(tt.firstElementChild),Vt):Ql(Ge.fromDom(tt),Vt)},Pt=function(tt){return Ut(tt)?i.create("img",{src:Wn.transparentSrc}):tt.cloneNode(!0)},hn=function(tt,Vt,zt){if(We(zt)){var Pn=Qt(tt);Le(Pn,function(Ln){Ln.style[Vt]||!n.schema.isValid(Ln.nodeName.toLowerCase(),Vt)?i.setStyle(Ln,Vt,zt):i.setAttrib(Ln,Vt,""+zt)})}},kr=function(tt,Vt,zt){hn(tt,"width",Vt),hn(tt,"height",zt)},ra=function(tt){var Vt,zt,Pn,Ln,Aa;Vt=tt.screenX-X,zt=tt.screenY-J,xe=Vt*A[2]+de,Xe=zt*A[3]+he,xe=xe<5?5:xe,Xe=Xe<5?5:Xe,(Vn(v)||Ut(v))&&PS(n)!==!1?Pn=!Gn.modifierPressed(tt):Pn=Gn.modifierPressed(tt),Pn&&(Qe(Vt)>Qe(zt)?(Xe=St(xe*pe),xe=St(Xe/pe)):(xe=St(Xe/pe),Xe=St(xe*pe))),kr(p,xe,Xe),Ln=A.startPos.x+Vt,Aa=A.startPos.y+zt,Ln=Ln>0?Ln:0,Aa=Aa>0?Aa:0,i.setStyles(S,{left:Ln,top:Aa,display:"block"}),S.innerHTML=xe+" &times; "+Xe,A[2]<0&&p.clientWidth<=xe&&i.setStyle(p,"left",Q+(de-xe)),A[3]<0&&p.clientHeight<=Xe&&i.setStyle(p,"top",fe+(he-Xe)),Vt=Lt.scrollWidth-jn,zt=Lt.scrollHeight-mn,Vt+zt!==0&&i.setStyles(S,{left:Ln-Vt,top:Aa-zt}),Oe||(Ww(n,v,de,he,"corner-"+A.name),Oe=!0)},Zr=function(){var tt=Oe;Oe=!1,tt&&(hn(v,"width",xe),hn(v,"height",Xe)),i.unbind(je,"mousemove",ra),i.unbind(je,"mouseup",Zr),Re!==je&&(i.unbind(Re,"mousemove",ra),i.unbind(Re,"mouseup",Zr)),i.remove(p),i.remove(S),i.remove(N),Pi(v),tt&&(pa(n,v,xe,Xe,"corner-"+A.name),i.setAttrib(v,"style",i.getAttrib(v,"style"))),n.nodeChanged()},Pi=function(tt){Nt();var Vt=i.getPos(tt,Lt),zt=Vt.x,Pn=Vt.y,Ln=tt.getBoundingClientRect(),Aa=Ln.width||Ln.right-Ln.left,ni=Ln.height||Ln.bottom-Ln.top;v!==tt&&(uo(),v=tt,xe=Xe=0);var Yo=n.fire("ObjectSelected",{target:tt}),Im=i.getAttrib(v,a,"1");yn(tt)&&!Yo.isDefaultPrevented()?l(Bt,function(Gu,Eu){var mi,Ul=function(qu){var xf=Qt(v)[0];X=qu.screenX,J=qu.screenY,de=xf.clientWidth,he=xf.clientHeight,pe=he/de,A=Gu,A.name=Eu,A.startPos={x:Aa*Gu[0]+zt,y:ni*Gu[1]+Pn},jn=Lt.scrollWidth,mn=Lt.scrollHeight,N=i.add(Lt,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(N,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),p=Pt(v),i.addClass(p,"mce-clonedresizable"),i.setAttrib(p,"data-mce-bogus","all"),p.contentEditable="false",i.setStyles(p,{left:zt,top:Pn,margin:0}),kr(p,Aa,ni),p.removeAttribute(a),Lt.appendChild(p),i.bind(je,"mousemove",ra),i.bind(je,"mouseup",Zr),Re!==je&&(i.bind(Re,"mousemove",ra),i.bind(Re,"mouseup",Zr)),S=i.add(Lt,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},de+" &times; "+he)};mi=i.get("mceResizeHandle"+Eu),mi&&i.remove(mi),mi=i.add(Lt,"div",{id:"mceResizeHandle"+Eu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Eu+"-resize; margin:0; padding:0"}),Wn.ie===11&&(mi.contentEditable=!1),i.bind(mi,"mousedown",function(qu){qu.stopImmediatePropagation(),qu.preventDefault(),Ul(qu)}),Gu.elm=mi,i.setStyles(mi,{left:Aa*Gu[0]+zt-mi.offsetWidth/2,top:ni*Gu[1]+Pn-mi.offsetHeight/2})}):uo(),i.getAttrib(v,a)||v.setAttribute(a,Im)},uo=function(){Nt(),v&&v.removeAttribute(a),Vr(Bt,function(tt,Vt){var zt=i.get("mceResizeHandle"+Vt);zt&&(i.unbind(zt),i.remove(zt))})},ju=function(tt){var Vt,zt,Pn=function(Ln,Aa){if(Ln)do if(Ln===Aa)return!0;while(Ln=Ln.parentNode)};if(!(Oe||n.removed)){if(l(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(Ln){Ln.removeAttribute(a)}),zt=tt.type==="mousedown"?tt.target:e.getNode(),zt=i.$(zt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Pn(zt,Lt)&&(Kt(),Vt=e.getStart(!0),Pn(Vt,zt)&&Pn(e.getEnd(!0),zt))){Pi(zt);return}uo()}},ps=function(tt){return Y4(bm(n.getBody(),tt))},Nt=function(){Vr(Bt,function(tt){tt.elm&&(i.unbind(tt.elm),delete tt.elm)})},Kt=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};n.on("init",function(){if(Kt(),Wn.browser.isIE()||Wn.browser.isEdge()){n.on("mousedown click",function(zt){var Pn=zt.target,Ln=Pn.nodeName;!Oe&&/^(TABLE|IMG|HR)$/.test(Ln)&&!ps(Pn)&&(zt.button!==2&&n.selection.select(Pn,Ln==="TABLE"),zt.type==="mousedown"&&n.nodeChanged())});var tt=function(zt){var Pn=function(Ln){Ui.setEditorTimeout(n,function(){return n.selection.select(Ln)})};if(ps(zt.target)||Mu(zt.target)){zt.preventDefault(),Pn(zt.target);return}/^(TABLE|IMG|HR)$/.test(zt.target.nodeName)&&(zt.preventDefault(),zt.target.tagName==="IMG"&&Pn(zt.target))};i.bind(Lt,"mscontrolselect",tt),n.on("remove",function(){return i.unbind(Lt,"mscontrolselect",tt)})}var Vt=Ui.throttle(function(zt){n.composing||ju(zt)});n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Vt),n.on("keyup compositionend",function(zt){v&&v.nodeName==="TABLE"&&Vt(zt)}),n.on("hide blur",uo),n.on("contextmenu longpress",Gt,!0)}),n.on("remove",Nt);var $n=function(){v=p=N=null};return{isResizable:yn,showResizeRect:Pi,hideResizeRect:uo,updateResizeRect:ju,destroy:$n}},mx=function(e){return kl(e)||Va(e)},qw=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},J4=function(e,n,a){var i,l=a.elementFromPoint(e,n),v=a.body.createTextRange();if((!l||l.tagName==="HTML")&&(l=a.body),v.moveToElementText(l),i=wt.toArray(v.getClientRects()),i=i.sort(function(p,S){return p=Math.abs(Math.max(p.top-n,p.bottom-n)),S=Math.abs(Math.max(S.top-n,S.bottom-n)),p-S}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return v.moveToPoint(e,n),v.collapse(!0),v}catch{}}return null},hx=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return Va(qw(a,n,mx))?null:e},Kw=function(e,n,a){var i,l,v=a;if(v.caretPositionFromPoint)l=v.caretPositionFromPoint(e,n),l&&(i=a.createRange(),i.setStart(l.offsetNode,l.offset),i.collapse(!0));else if(v.caretRangeFromPoint)i=v.caretRangeFromPoint(e,n);else if(v.body.createTextRange){i=v.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch{i=J4(e,n,a)}return hx(i,a.body)}return i},Xw=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},Z4=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Ls=function(e,n,a){return Z4(e,n,a)!==null},xu=function(e,n,a){return Ls(e,n,function(i){return i.nodeName===a})},ff=function(e){return e&&e.nodeName==="TABLE"},Q4=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},eE=function(e,n){return Nu(e)&&Ls(e,n,rf)===!1},Yw=function(e,n,a){for(var i=new sa(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(wa(n))return!0},Sr=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},tE=function(e,n){for(;n&&n!==e;){if(Va(n))return!0;n=n.parentNode}return!1},U0=function(e,n,a,i,l){var v,p=e.getRoot(),S,A=e.schema.getNonEmptyElements(),N=e.getParent(l.parentNode,e.isBlock)||p;if(i&&wa(l)&&n&&e.isEmpty(N))return te.some(mt(l.parentNode,e.nodeIndex(l)));for(var X=new sa(l,N);S=X[i?"prev":"next"]();){if(e.getContentEditableParent(S)==="false"||eE(S,p))return te.none();if(gn(S)&&S.nodeValue.length>0)return xu(S,p,"A")===!1?te.some(mt(S,i?S.nodeValue.length:0)):te.none();if(e.isBlock(S)||A[S.nodeName.toLowerCase()])return te.none();v=S}return a&&v?te.some(mt(v,0)):te.none()},W0=function(e,n,a,i){var l,v,p=e.getRoot(),S,A,N=!1;l=i[(a?"start":"end")+"Container"],v=i[(a?"start":"end")+"Offset"];var X=Zn(l)&&v===l.childNodes.length,J=e.schema.getNonEmptyElements();if(A=a,Nu(l))return te.none();if(Zn(l)&&v>l.childNodes.length-1&&(A=!1),yp(l)&&(l=p,v=0),l===p){if(A&&(S=l.childNodes[v>0?v-1:0],S&&(Nu(S)||J[S.nodeName]||ff(S))))return te.none();if(l.hasChildNodes()){if(v=Math.min(!A&&v>0?v-1:v,l.childNodes.length-1),l=l.childNodes[v],v=gn(l)&&X?l.data.length:0,!n&&l===p.lastChild&&ff(l)||tE(p,l)||Nu(l))return te.none();if(l.hasChildNodes()&&ff(l)===!1){S=l;var Q=new sa(l,p);do{if(Va(S)||Nu(S)){N=!1;break}if(gn(S)&&S.nodeValue.length>0){v=A?0:S.nodeValue.length,l=S,N=!0;break}if(J[S.nodeName.toLowerCase()]&&!Q4(S)){v=e.nodeIndex(S),l=S.parentNode,A||v++,N=!0;break}}while(S=A?Q.next():Q.prev())}}}return n&&(gn(l)&&v===0&&U0(e,X,n,!0,l).each(function(fe){l=fe.container(),v=fe.offset(),N=!0}),Zn(l)&&(S=l.childNodes[v],S||(S=l.childNodes[v-1]),S&&wa(S)&&!Sr(S,"A")&&!Yw(e,S,!1)&&!Yw(e,S,!0)&&U0(e,X,n,!0,S).each(function(fe){l=fe.container(),v=fe.offset(),N=!0}))),A&&!n&&gn(l)&&v===l.nodeValue.length&&U0(e,X,n,!1,l).each(function(fe){l=fe.container(),v=fe.offset(),N=!0}),N?te.some(mt(l,v)):te.none()},j0=function(e,n){var a=n.collapsed,i=n.cloneRange(),l=mt.fromRangeStart(n);return W0(e,a,!0,i).each(function(v){(!a||!mt.isAbove(l,v))&&i.setStart(v.container(),v.offset())}),a||W0(e,a,!1,i).each(function(v){i.setEnd(v.container(),v.offset())}),a&&i.collapse(!0),Xw(n,i)?te.none():te.some(i)},u1=function(e,n){return e.splitText(n)},cv=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,l=e.endOffset;return n===i&&gn(n)?a>0&&a<n.nodeValue.length&&(i=u1(n,a),n=i.previousSibling,l>a?(l=l-a,n=i=u1(i,l).previousSibling,l=i.nodeValue.length,a=0):l=0):(gn(n)&&a>0&&a<n.nodeValue.length&&(n=u1(n,a),a=0),gn(i)&&l>0&&l<i.nodeValue.length&&(i=u1(i,l).previousSibling,l=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:l}},s1=function(e){var n=function(l,v){return o1(e,l,v)},a=cv,i=function(l){return j0(e,l).fold(at,function(v){return l.setStart(v.startContainer,v.startOffset),l.setEnd(v.endContainer,v.endOffset),!0})};return{walk:n,split:a,normalize:i}};s1.compareRanges=Xw,s1.getCaretRangeFromPoint=Kw,s1.getSelectedNode=am,s1.getNode=qa;var nE=function(e,n){var a=function(S,A){if(!ce(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);var N=S.dom;Ga(N)&&(N.style[e]=A+"px")},i=function(S){var A=n(S);if(A<=0||A===null){var N=pr(S,e);return parseFloat(N)||0}return A},l=i,v=function(S,A){return Rt(A,function(N,X){var J=pr(S,X),Q=J===void 0?0:parseInt(J,10);return isNaN(Q)?N:N+Q},0)},p=function(S,A,N){var X=v(S,N),J=A>X?A-X:0;return J};return{set:a,get:i,getOuter:l,aggregate:v,max:p}},gx=nE("height",function(e){var n=e.dom;return Wf(e)?n.getBoundingClientRect().height:n.offsetHeight}),Jw=function(e){return gx.get(e)},hd=function(e,n){var a=e.view(n);return a.fold(j([]),function(i){var l=e.owner(i),v=hd(e,l);return[i].concat(v)})},G0=function(e,n){var a=n.owner(e);return hd(n,a)},px=function(e){var n,a=e.dom===document?te.none():te.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(Ge.fromDom)},rE=function(e){return Xn(e)},aE=Object.freeze({__proto__:null,view:px,owner:rE}),oE=function(e){var n=Ge.fromDom(document),a=mh(n),i=G0(e,aE),l=Bu(e),v=jt(i,function(p,S){var A=Bu(S);return{left:p.left+A.left,top:p.top+A.top}},{left:0,top:0});return rc(v.left+l.left+a.left,v.top+l.top+a.top)},wm=function(e){return ko(e)==="textarea"},Zw=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},In=function(e,n){e.fire("AfterScrollIntoView",n)},bx=function(e,n){var a=Qi(e);if(a.length===0||wm(e))return{element:e,offset:n};if(n<a.length&&!wm(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return wm(i)?{element:e,offset:n}:ko(i)==="img"?{element:i,offset:1}:Xa(i)?{element:i,offset:Hw(i).length}:{element:i,offset:Qi(i).length}},yx=function(e,n){var a=ja(e),i=Jw(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},iE=function(e,n){var a=bx(e,n),i=Ge.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+He+"</span>");return _i(a.element,i),yx(i,function(){return vo(i)})},l1=function(e){return yx(Ge.fromDom(e),Ee)},iu=function(e,n,a,i){Qw(e,function(l,v){return uE(e,n,a,i)},a)},c1=function(e,n,a,i,l){var v={elm:i.element.dom,alignToTop:l};if(!Zw(e,v)){var p=mh(n).top;a(n,p,i,l),In(e,v)}},uE=function(e,n,a,i){var l=Ge.fromDom(e.getBody()),v=Ge.fromDom(e.getDoc());CA(l);var p=iE(Ge.fromDom(a.startContainer),a.startOffset);c1(e,v,n,p,i),p.cleanup()},wx=function(e,n,a,i){var l=Ge.fromDom(e.getDoc());c1(e,l,a,l1(n),i)},Qw=function(e,n,a){var i=a.startContainer,l=a.startOffset,v=a.endContainer,p=a.endOffset;n(Ge.fromDom(i),Ge.fromDom(v));var S=e.dom.createRng();S.setStart(i,l),S.setEnd(v,p),e.selection.setRng(a)},eC=function(e,n,a,i){var l=e.pos;if(a)os(l.left,l.top,i);else{var v=l.top-n+e.height;os(l.left,v,i)}},Cx=function(e,n,a,i,l){var v=a+n,p=i.pos.top,S=i.bottom,A=S-p>=a;if(p<n)eC(i,a,l!==!1,e);else if(p>v){var N=A?l!==!1:l===!0;eC(i,a,N,e)}else S>v&&!A&&eC(i,a,l===!0,e)},tC=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;Cx(e,n,l,a,i)},nC=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;Cx(e,n,l,a,i);var v=oE(a.element),p=Gf(window);v.top<p.y?hh(a.element,i!==!1):v.top>p.bottom&&hh(a.element,i===!0)},fv=function(e,n,a){return iu(e,tC,n,a)},sE=function(e,n,a){return wx(e,n,tC,a)},lE=function(e,n,a){return iu(e,nC,n,a)},_x=function(e,n,a){return wx(e,n,nC,a)},cE=function(e,n,a){var i=e.inline?sE:_x;i(e,n,a)},f1=function(e,n,a){var i=e.inline?fv:lE;i(e,n,a)},na=function(){return Ge.fromDom(document)},q0=function(e){return e.dom.focus()},vv=function(e){var n=vu(e).dom;return e.dom===n.activeElement},Nl=function(e){return e===void 0&&(e=na()),te.from(e.dom.activeElement).map(Ge.fromDom)},gd=function(e){return Nl(vu(e)).filter(function(n){return e.dom.contains(n.dom)})},Uu=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},K0={create:Uu},Cm=Mn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),wg=function(e,n,a,i){return e.fold(n,a,i)},pd=function(e){return e.fold(ke,ke,ke)},fE=Cm.before,Sx=Cm.on,vE=Cm.after,dE={before:fE,on:Sx,after:vE,cata:wg,getStart:pd},wr=Mn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),zl=function(e){return wr.exact(e.start,e.soffset,e.finish,e.foffset)},Cg=function(e){return e.match({domRange:function(n){return Ge.fromDom(n.startContainer)},relative:function(n,a){return dE.getStart(n)},exact:function(n,a,i,l){return n}})},xx=wr.domRange,v1=wr.relative,Mr=wr.exact,kx=function(e){var n=Cg(e);return no(n)},Ax=K0.create,d1={domRange:xx,relative:v1,exact:Mr,exactFromRange:zl,getWin:kx,range:Ax},Ex=Bn().browser,m1=function(e,n){var a=Xa(n)?Hw(n).length:Qi(n).length+1;return e>a?a:e<0?0:e},_m=function(e){return d1.range(e.start,m1(e.soffset,e.start),e.finish,m1(e.foffset,e.finish))},rC=function(e,n){return!Lc(n.dom)&&(Fi(e,n)||$a(e,n))},aC=function(e){return function(n){return rC(e,n.start)&&rC(e,n.finish)}},Tx=function(e){return e.inline===!0||Ex.isIE()},Ox=function(e){return d1.range(Ge.fromDom(e.startContainer),e.startOffset,Ge.fromDom(e.endContainer),e.endOffset)},bd=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?te.none():te.from(n.getRangeAt(0));return a.map(Ox)},Sm=function(e){var n=no(e);return bd(n.dom).filter(aC(e))},oC=function(e,n){return te.from(n).filter(aC(e)).map(_m)},Dx=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),te.some(n)}catch{return te.none()}},X0=function(e){var n=Tx(e)?Sm(Ge.fromDom(e.getBody())):te.none();e.bookmark=n.isSome()?n:e.bookmark},mE=function(e,n){var a=Ge.fromDom(e.getBody()),i=Tx(e)?te.from(n):te.none(),l=i.map(Ox).filter(aC(a));e.bookmark=l.isSome()?l:e.bookmark},_g=function(e){var n=e.bookmark?e.bookmark:te.none();return n.bind(function(a){return oC(Ge.fromDom(e.getBody()),a)}).bind(Dx)},iC=function(e){_g(e).each(function(n){return e.selection.setRng(n)})},uC=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},Rx={isEditorUIElement:uC},sC=function(e){return e.type==="nodechange"&&e.selectionChange},Y0=function(e,n){var a=function(){n.throttle()};Ma.DOM.bind(document,"mouseup",a),e.on("remove",function(){Ma.DOM.unbind(document,"mouseup",a)})},J0=function(e){e.on("focusout",function(){X0(e)})},lC=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},cC=function(e,n){var a=Bn().browser;a.isIE()?J0(e):lC(e,n),e.on("keyup NodeChange",function(i){sC(i)||X0(e)})},$x=function(e){var n=Xb(function(){X0(e)},0);e.on("init",function(){e.inline&&Y0(e,n),cC(e,n)}),e.on("remove",function(){n.cancel()})},xm,Sg=Ma.DOM,Bx=function(e){return Rx.isEditorUIElement(e)},Mx=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Z0=function(e,n){var a=lw(e),i=Sg.getParent(n,function(l){return Bx(l)||(a?e.dom.is(l,a):!1)});return i!==null},Px=function(e){try{var n=vu(Ge.fromDom(e.getElement()));return Nl(n).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},Ix=function(e,n){var a=n.editor;$x(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Ui.setEditorTimeout(a,function(){var i=e.focusedEditor;!Z0(a,Px(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),xm||(xm=function(i){var l=e.activeEditor;l&&Li(i).each(function(v){v.ownerDocument===document&&v!==document.body&&!Z0(l,v)&&e.focusedEditor===l&&(l.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Sg.bind(document,"focusin",xm))},fC=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(Sg.unbind(document,"focusin",xm),xm=null)},Nx=function(e){e.on("AddEditor",le(Ix,e)),e.on("RemoveEditor",le(fC,e))},zx=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},Fx=function(e){return e.collapsed?te.from(qa(e.startContainer,e.startOffset)).map(Ge.fromDom):te.none()},hE=function(e,n){return Fx(n).bind(function(a){return Xr(a)?te.some(a):Fi(e,a)===!1?te.some(e):te.none()})},Lx=function(e,n){hE(Ge.fromDom(e.getBody()),n).bind(function(a){return ou(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},vC=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},xg=function(e){return vv(e)||gd(e).isSome()},gE=function(e){return e.iframeElement&&vv(Ge.fromDom(e.iframeElement))},Hx=function(e){var n=e.getBody();return n&&xg(Ge.fromDom(n))},Vx=function(e){var n=vu(Ge.fromDom(e.getElement()));return Nl(n).filter(function(a){return!Mx(a.dom)&&Z0(e,a.dom)}).isSome()},sl=function(e){return e.inline?Hx(e):gE(e)},Ux=function(e){return sl(e)||Vx(e)},Wx=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&sl(e)===!1&&_g(e).each(function(v){e.selection.setRng(v),i=v});var l=zx(e,n.getNode());if(e.$.contains(a,l)){vC(l),Lx(e,i),Q0(e);return}e.inline||(Wn.opera||vC(a),e.getWin().focus()),(Wn.gecko||e.inline)&&(vC(a),Lx(e,i)),Q0(e)},Q0=function(e){return e.editorManager.setActive(e)},ey=function(e,n){e.removed||(n?Q0(e):Wx(e))},dC=function(e,n,a,i,l){var v=a?n.startContainer:n.endContainer,p=a?n.startOffset:n.endOffset;return te.from(v).map(Ge.fromDom).map(function(S){return!i||!n.collapsed?tc(S,l(S,p)).getOr(S):S}).bind(function(S){return Ha(S)?te.some(S):ro(S).filter(Ha)}).map(function(S){return S.dom}).getOr(e)},km=function(e,n,a){return dC(e,n,!0,a,function(i,l){return Math.min(gb(i),l)})},kg=function(e,n,a){return dC(e,n,!1,a,function(i,l){return l>0?l-1:l})},jx=function(e,n){for(var a=e;e&&gn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},Gx=function(e,n){var a,i,l;if(!n)return e;i=n.startContainer,l=n.endContainer;var v=n.startOffset,p=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===l&&p-v<2&&i.hasChildNodes()&&(a=i.childNodes[v]),i.nodeType===3&&l.nodeType===3&&(i.length===v?i=jx(i.nextSibling,!0):i=i.parentNode,p===0?l=jx(l.previousSibling,!1):l=l.parentNode,i&&i===l))?i:a&&a.nodeType===3?a.parentNode:a},ty=function(e,n,a,i){var l,v=[],p=e.getRoot();if(a=e.getParent(a||km(p,n,n.collapsed),e.isBlock),i=e.getParent(i||kg(p,n,n.collapsed),e.isBlock),a&&a!==p&&v.push(a),a&&i&&a!==i){l=a;for(var S=new sa(a,p);(l=S.next())&&l!==i;)e.isBlock(l)&&v.push(l)}return i&&a!==i&&i!==p&&v.push(i),v},pE=function(e,n,a){return te.from(n).map(function(i){var l=e.nodeIndex(i),v=e.createRng();return v.setStart(i.parentNode,l),v.setEnd(i.parentNode,l+1),a&&(vd(e,v,i,!0),vd(e,v,i,!1)),v})},ny=function(e,n){return et(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},h1={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ry=function(e,n,a){var i=a?"lastChild":"firstChild",l=a?"prev":"next";if(e[i])return e[i];if(e!==n){var v=e[l];if(v)return v;for(var p=e.parent;p&&p!==n;p=p.parent)if(v=p[l],v)return v}},qx=function(e){if(!Ol(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},ay=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},ll=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,h1[n]||1);return a&&Vr(a,function(l,v){i.attr(v,l)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,l;if(typeof n!="string")return n!=null&&Vr(n,function(p,S){i.attr(S,p)}),i;if(l=i.attributes){if(a!==void 0){if(a===null){if(n in l.map){delete l.map[n];for(var v=l.length;v--;)if(l[v].name===n)return l.splice(v,1),i}return i}if(n in l.map){for(var v=l.length;v--;)if(l[v].name===n){l[v].value=a;break}}else l.push({name:n,value:a});return l.map[n]=a,i}return l.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var l=[];l.map={};for(var v=0,p=i.length;v<p;v++){var S=i[v];S.name!=="id"&&(l[l.length]={name:S.name,value:S.value},l.map[S.name]=S.value)}a.attributes=l}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,l=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):l.next=i,a.lastChild===n?(a.lastChild=l,l&&(l.next=null)):i.prev=l,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var l=a.parent||this;return i?(a===l.firstChild?l.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===l.lastChild?l.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=l,n},e.prototype.getAll=function(n){for(var a=this,i=[],l=a.firstChild;l;l=ry(l,a))l.name===n&&i.push(l);return i},e.prototype.children=function(){for(var n=this,a=[],i=n.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=ry(i,n))a.push(i);for(var l=a.length;l--;){var i=a[l];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var l=this,v=l.firstChild;if(ay(l))return!1;if(v)do{if(v.type===1){if(v.attr("data-mce-bogus"))continue;if(n[v.name]||ay(v))return!1}if(v.type===8||v.type===3&&!qx(v)||v.type===3&&v.parent&&a[v.parent.name]&&Ol(v.value)||i&&i(v))return!1}while(v=ry(v,l));return!0},e.prototype.walk=function(n){return ry(this,null,n)},e}(),bE=function(e){for(var n=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},l=CS("img"),v,p=0,S=0;v=n.exec(e);){var A=v[0],N=l+"_"+S++;i[N]=A,p<v.index&&a.push(e.substr(p,v.index-p)),a.push(N),p=v.index+A.length}var X=new RegExp(l+"_[0-9]+","g");return p===0?{prefix:l,uris:i,html:e,re:X}:(p<e.length&&a.push(e.substr(p)),{prefix:l,uris:i,html:a.join(""),re:X})},oy=function(e,n){return e.replace(n.re,function(a){return Ir(n.uris,a).getOr(a)})},Kx=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return n?te.some({type:n[1],data:decodeURIComponent(n[2])}):te.none()},g1=wt.each,p1=wt.trim,mC="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Xx={ftp:21,http:80,https:443,mailto:25},Yx=["img","video"],Jx=function(e,n){return We(e)?!e:We(n)?!Ae(Yx,n):!0},iy=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?Jx(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},yd=function(){function e(n,a){n=p1(n),this.settings=a||{};var i=this.settings.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}var v=n.indexOf("//")===0;if(n.indexOf("/")===0&&!v&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var p=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+l.toAbsPath(p,n);else{var S=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+l.toAbsPath(p,S[1])+S[2]}}n=n.replace(/@@/g,"(mce_at)");var A=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);g1(mC,function(N,X){var J=A[X];J&&(J=J.replace(/\(mce_at\)/g,"@@")),l[N]=J}),i&&(l.protocol||(l.protocol=i.protocol),l.userInfo||(l.userInfo=i.userInfo),!l.port&&l.host==="mce_host"&&(l.port=i.port),(!l.host||l.host==="mce_host")&&(l.host=i.host),l.source=""),v&&(l.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(i[0]);return l&&(a=l[1]),{type:a,data:i[1]}},e.isDomSafe=function(n,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var l=$s.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch{l=unescape(l)}return/((java|vb)script|mhtml):/i.test(l)?!1:!iy(i,l,a)},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var l=this.getURI(),v=i.getURI();return l===v||l.charAt(l.length-1)==="/"&&l.substr(0,l.length-1)===v?l:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=Xx[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,l="",v,p,S=n.substring(0,n.lastIndexOf("/")).split("/"),A=a.split("/");if(S.length>=A.length){for(v=0,p=S.length;v<p;v++)if(v>=A.length||S[v]!==A[v]){i=v+1;break}}if(S.length<A.length){for(v=0,p=A.length;v<p;v++)if(v>=S.length||S[v]!==A[v]){i=v+1;break}}if(i===1)return a;for(v=0,p=S.length-(i-1);v<p;v++)l+="../";for(v=i-1,p=A.length;v<p;v++)v!==i-1?l+="/"+A[v]:l+=A[v];return l},e.prototype.toAbsPath=function(n,a){var i,l=0,v=[],p,S=/\/$/.test(a)?"/":"",A=n.split("/"),N=a.split("/");for(g1(A,function(X){X&&v.push(X)}),A=v,i=N.length-1,v=[];i>=0;i--)if(!(N[i].length===0||N[i]===".")){if(N[i]===".."){l++;continue}if(l>0){l--;continue}v.push(N[i])}return i=A.length-l,i<=0?p=ir(v).join("/"):p=A.slice(0,i).join("/")+"/"+ir(v).join("/"),p.indexOf("/")!==0&&(p="/"+p),S&&p.lastIndexOf("/")!==p.length-1&&(p+=S),p},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),yE=wt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),wE=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},CE=Mc(function(){return document.implementation.createHTMLDocument("parser")}),wd=function(e,n,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,v=e.getShortEndedElements(),p=1,S=a;p!==0;)for(i.lastIndex=S;;){var A=i.exec(n);if(A===null)return S;if(A[1]==="!"){po(A[2],"--")?S=hC(n,!1,A.index+3):S=hC(n,!0,A.index+1);break}else{l.lastIndex=i.lastIndex;var N=l.exec(n);if(ne(N)||N.index!==i.lastIndex)continue;A[1]==="/"?p-=1:Dr(v,A[2])||(p+=1),S=i.lastIndex+N[0].length;break}}return S},_E=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},hC=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&_E(i,a)){var l=i.indexOf("[endif]",a);return i.indexOf(">",l)}else if(n){var v=i.indexOf(">",a);return v!==-1?v:i.length}else{var p=/--!?>/g;p.lastIndex=a;var S=p.exec(e);return S?S.index+S[0].length:i.length}},SE=function(e,n){var a=e.exec(n);if(a){var i=a[1],l=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?l:null}else return null},Ag=function(e,n){n===void 0&&(n=Bs()),e=e||{};var a=CE(),i=a.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var l=e.comment?e.comment:Ee,v=e.cdata?e.cdata:Ee,p=e.text?e.text:Ee,S=e.start?e.start:Ee,A=e.end?e.end:Ee,N=e.pi?e.pi:Ee,X=e.doctype?e.doctype:Ee,J=function(fe,de){de===void 0&&(de="html");for(var he=fe.html,pe,Oe=0,xe,Xe,je=[],Re,Qe,St,Lt,jn,mn,Bt,Vn,Ut,vn,Gt,Qt,yn,Pt,hn,kr,ra,Zr=0,Pi=$s.decode,uo=wt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ju=de==="html"?0:1,ps=function(Oa){var Wa,hi;for(Wa=je.length;Wa--&&je[Wa].name!==Oa;);if(Wa>=0){for(hi=je.length-1;hi>=Wa;hi--)Oa=je[hi],Oa.valid&&A(Oa.name);je.length=Wa}},Nt=function(Oa,Wa){return p(oy(Oa,fe),Wa)},Kt=function(Oa){Oa!==""&&(Oa.charAt(0)===">"&&(Oa=" "+Oa),!e.allow_conditional_comments&&Oa.substr(0,3).toLowerCase()==="[if"&&(Oa=" "+Oa),l(oy(Oa,fe)))},$n=function(Oa){return oy(Oa,fe)},tt=function(Oa,Wa){var hi=Oa||"",bs=!po(hi,"--"),Sv=hC(he,bs,Wa);return Oa=he.substr(Wa,Sv-Wa),Kt(bs?hi+Oa:Oa),Sv+1},Vt=function(Oa,Wa,hi,bs,Sv){if(Wa=Wa.toLowerCase(),hi=$n(Wa in ni?Wa:Pi(hi||bs||Sv||"")),Yo&&!jn&&wE(Wa)===!1){var xv=Gt[Wa];if(!xv&&Qt){for(var Qg=Qt.length;Qg--&&(xv=Qt[Qg],!xv.pattern.test(Wa)););Qg===-1&&(xv=null)}if(!xv||xv.validValues&&!(hi in xv.validValues))return}var Hy=Wa==="name"||Wa==="id";Hy&&Oa in yE&&(hi in a||hi in i)||uo[Wa]&&!yd.isDomSafe(hi,Oa,e)||jn&&(Wa in uo||Wa.indexOf("on")===0)||(Re.map[Wa]=hi,Re.push({name:Wa,value:hi}))},zt=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Pn=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Ln=n.getShortEndedElements(),Aa=e.self_closing_elements||n.getSelfClosingElements(),ni=n.getBoolAttrs(),Yo=e.validate,Im=e.remove_internals,Gu=e.fix_self_closing,Eu=n.getSpecialElements(),mi=he+">";pe=zt.exec(mi);){var Ul=pe[0];if(Oe<pe.index&&Nt(Pi(he.substr(Oe,pe.index-Oe))),xe=pe[7])xe=xe.toLowerCase(),xe.charAt(0)===":"&&(xe=xe.substr(1)),ps(xe);else if(xe=pe[8]){if(pe.index+Ul.length>he.length){Nt(Pi(he.substr(pe.index))),Oe=pe.index+Ul.length;continue}xe=xe.toLowerCase(),xe.charAt(0)===":"&&(xe=xe.substr(1)),mn=xe in Ln,Gu&&Aa[xe]&&je.length>0&&je[je.length-1].name===xe&&ps(xe);var qu=SE(Pn,pe[9]);if(qu!==null){if(qu==="all"){Oe=wd(n,he,zt.lastIndex),zt.lastIndex=Oe;continue}Vn=!1}if(!Yo||(Bt=n.getElementRule(xe))){if(Vn=!0,Yo&&(Gt=Bt.attributes,Qt=Bt.attributePatterns),(vn=pe[9])?(jn=vn.indexOf("data-mce-type")!==-1,jn&&Im&&(Vn=!1),Re=[],Re.map={},vn.replace(Pn,function(Oa,Wa,hi,bs,Sv){return Vt(xe,Wa,hi,bs,Sv),""})):(Re=[],Re.map={}),Yo&&!jn){if(yn=Bt.attributesRequired,Pt=Bt.attributesDefault,hn=Bt.attributesForced,kr=Bt.removeEmptyAttrs,kr&&!Re.length&&(Vn=!1),hn)for(Qe=hn.length;Qe--;)Ut=hn[Qe],Lt=Ut.name,ra=Ut.value,ra==="{$uid}"&&(ra="mce_"+Zr++),Re.map[Lt]=ra,Re.push({name:Lt,value:ra});if(Pt)for(Qe=Pt.length;Qe--;)Ut=Pt[Qe],Lt=Ut.name,Lt in Re.map||(ra=Ut.value,ra==="{$uid}"&&(ra="mce_"+Zr++),Re.map[Lt]=ra,Re.push({name:Lt,value:ra}));if(yn){for(Qe=yn.length;Qe--&&!(yn[Qe]in Re.map););Qe===-1&&(Vn=!1)}if(Ut=Re.map["data-mce-bogus"]){if(Ut==="all"){Oe=wd(n,he,zt.lastIndex),zt.lastIndex=Oe;continue}Vn=!1}}Vn&&S(xe,Re,mn)}else Vn=!1;if(Xe=Eu[xe]){Xe.lastIndex=Oe=pe.index+Ul.length,(pe=Xe.exec(he))?(Vn&&(St=he.substr(Oe,pe.index-Oe)),Oe=pe.index+pe[0].length):(St=he.substr(Oe),Oe=he.length),Vn&&(St.length>0&&Nt(St,!0),A(xe)),zt.lastIndex=Oe;continue}mn||(!vn||vn.indexOf("/")!==vn.length-1?je.push({name:xe,valid:Vn}):Vn&&A(xe))}else if(xe=pe[1])Kt(xe);else if(xe=pe[2]){var xf=ju===1||e.preserve_cdata||je.length>0&&n.isValidChild(je[je.length-1].name,"#cdata");if(xf)v(xe);else{Oe=tt("",pe.index+2),zt.lastIndex=Oe;continue}}else if(xe=pe[3])X(xe);else if((xe=pe[4])||Ul==="<!"){Oe=tt(xe,pe.index+Ul.length),zt.lastIndex=Oe;continue}else if(xe=pe[5])if(ju===1)N(xe,pe[6]);else{Oe=tt("?",pe.index+2),zt.lastIndex=Oe;continue}Oe=pe.index+Ul.length}for(Oe<he.length&&Nt(Pi(he.substr(Oe))),Qe=je.length-1;Qe>=0;Qe--)xe=je[Qe],xe.valid&&A(xe.name)},Q=function(fe,de){de===void 0&&(de="html"),J(bE(fe),de)};return{parse:Q}};Ag.findEndTag=wd;var gC=function(e,n){var a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(a,"")},Zx=function(e,n){for(var a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,i=e.schema,l=gC(e.getTempAttrs(),n),v=i.getShortEndedElements(),p;p=a.exec(l);){var S=a.lastIndex,A=p[0].length,N=void 0;v[p[1]]?N=S:N=Ag.findEndTag(i,l,S),l=l.substring(0,S-A)+l.substring(N),a.lastIndex=S-A}return sc(l)},uy=Zx,Qx=function(e,n){var a=Di(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},ek=function(e,n){return qn(qn({},e),{format:n,get:!0,getInner:!0})},xE=function(e,n,a,i){var l=ek(n,a),v=n.no_events?l:e.fire("BeforeGetContent",l),p;return v.format==="raw"?p=wt.trim(uy(e.serializer,i.innerHTML)):v.format==="text"?p=e.dom.isEmpty(i)?"":sc(i.innerText||i.textContent):v.format==="tree"?p=e.serializer.serialize(i,v):p=Qx(e,e.serializer.serialize(i,v)),!Ae(["text","tree"],v.format)&&!Ld(Ge.fromDom(i))?v.content=wt.trim(p):v.content=p,v.no_events?v.content:e.fire("GetContent",v).content},sy=function(e,n,a){return te.from(e.getBody()).fold(j(n.format==="tree"?new ll("body",11):""),function(i){return xE(e,n,a,i)})},ly=wt.each,pC=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var l=function(p){var S={};return ly(e.getAttribs(p),function(A){var N=A.nodeName.toLowerCase();N.indexOf("_")!==0&&N!=="style"&&N.indexOf("data-")!==0&&(S[N]=e.getAttrib(p,N))}),S},v=function(p,S){var A,N;for(N in p)if(Dr(p,N)){if(A=S[N],typeof A>"u"||p[N]!==A)return!1;delete S[N]}for(N in S)if(Dr(S,N))return!1;return!0};return!v(l(a),l(i))||!v(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!Vu(a)&&!Vu(i)};return{compare:n}},tk=wt.makeMap,nk=function(e){var n=[];e=e||{};var a=e.indent,i=tk(e.indent_before||""),l=tk(e.indent_after||""),v=$s.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format==="html";return{start:function(S,A,N){var X,J,Q,fe;if(a&&i[S]&&n.length>0&&(fe=n[n.length-1],fe.length>0&&fe!==`
`&&n.push(`
`)),n.push("<",S),A)for(X=0,J=A.length;X<J;X++)Q=A[X],n.push(" ",Q.name,'="',v(Q.value,!0),'"');!N||p?n[n.length]=">":n[n.length]=" />",N&&a&&l[S]&&n.length>0&&(fe=n[n.length-1],fe.length>0&&fe!==`
`&&n.push(`
`))},end:function(S){var A;n.push("</",S,">"),a&&l[S]&&n.length>0&&(A=n[n.length-1],A.length>0&&A!==`
`&&n.push(`
`))},text:function(S,A){S.length>0&&(n[n.length]=A?S:v(S))},cdata:function(S){n.push("<![CDATA[",S,"]]>")},comment:function(S){n.push("<!--",S,"-->")},pi:function(S,A){A?n.push("<?",S," ",v(A),"?>"):n.push("<?",S,"?>"),a&&n.push(`
`)},doctype:function(S){n.push("<!DOCTYPE",S,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},Am=function(e,n){n===void 0&&(n=Bs());var a=nk(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(l){var v=e.validate,p={3:function(A){a.text(A.value,A.raw)},8:function(A){a.comment(A.value)},7:function(A){a.pi(A.name,A.value)},10:function(A){a.doctype(A.value)},4:function(A){a.cdata(A.value)},11:function(A){if(A=A.firstChild)do S(A);while(A=A.next)}};a.reset();var S=function(A){var N=p[A.type];if(N)N(A);else{var X=A.name,J=A.shortEnded,Q=A.attributes;if(v&&Q&&Q.length>1){var fe=[];fe.map={};var de=n.getElementRule(A.name);if(de){for(var he=0,pe=de.attributesOrder.length;he<pe;he++){var Oe=de.attributesOrder[he];if(Oe in Q.map){var xe=Q.map[Oe];fe.map[Oe]=xe,fe.push({name:Oe,value:xe})}}for(var he=0,pe=Q.length;he<pe;he++){var Oe=Q[he].name;if(!(Oe in fe.map)){var xe=Q.map[Oe];fe.map[Oe]=xe,fe.push({name:Oe,value:xe})}}Q=fe}}if(a.start(A.name,Q,J),!J){if(A=A.firstChild)do S(A);while(A=A.next);a.end(X)}}};return l.type===1&&!e.inner?S(l):p[11](l),a.getContent()};return{serialize:i}},b1=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Le(e,function(n){b1.add(n)})})();var cy=["font","text-decoration","text-emphasis"],y1=function(e,n){return Zi(e.parseStyle(e.getAttrib(n,"style")))},rk=function(e){return b1.has(e)},dv=function(e,n){return qr(y1(e,n),function(a){return!rk(a)})},kE=function(e){return ut(e,function(n){return Ze(cy,function(a){return po(n,a)})})},vf=function(e,n,a){var i=y1(e,n),l=y1(e,a),v=function(p){var S=e.getStyle(n,p),A=e.getStyle(a,p);return Bf(S)&&Bf(A)&&S!==A};return Ze(i,function(p){var S=function(N){return Ze(N,function(X){return X===p})};if(!S(l)&&S(cy)){var A=kE(l);return Ze(A,v)}else return v(p)})},ak=function(e,n,a){return te.from(a.container()).filter(gn).exists(function(i){var l=e?0:-1;return n(i.data.charAt(a.offset()+l))})},fy=le(ak,!0,cd),bC=le(ak,!1,cd),AE=function(e){var n=e.container();return gn(n)&&(n.data.length===0||gu(n.data)&&md.isBookmarkNode(n.parentNode))},Cd=function(e,n){return function(a){return te.from(S0(e?0:-1,a)).filter(n).isSome()}},ok=function(e){return gh(e)&&pr(Ge.fromDom(e),"display")==="block"},ik=function(e){return Va(e)&&!Vo(e)},EE=Cd(!0,ok),yC=Cd(!1,ok),Eg=Cd(!0,Mu),Tg=Cd(!1,Mu),uk=Cd(!0,Eo),wC=Cd(!1,Eo),Fl=Cd(!0,ik),_d=Cd(!1,ik),Hn=function(e){for(var n=[],a=e.dom;a;)n.push(Ge.fromDom(a)),a=a.lastChild;return n},CC=function(e){var n=Oi(e,"br"),a=ut(Hn(e).slice(-1),xh);n.length===a.length&&Le(a,vo)},df=function(e){Vf(e),Ho(e,Ge.fromHtml('<br data-mce-bogus="1">'))},sk=function(e){as(e).each(function(n){Ff(n).each(function(a){Ts(e)&&xh(n)&&Ts(a)&&vo(n)})})},TE=function(e){return e.slice(0,-1)},lk=function(e,n,a){return Fi(n,e)?TE(Lo(e,function(i){return a(i)||$a(i,n)})):[]},w1=function(e,n){return lk(e,n,at)},wc=function(e,n){return[e].concat(w1(e,n))},vy=function(e,n,a){return R0(e,n,a,AE)},ck=function(e,n){return rn(wc(Ge.fromDom(n.container()),e),Ts)},ar=function(e,n,a){return vy(e,n.dom,a).forall(function(i){return ck(n,a).fold(function(){return pc(i,a,n.dom)===!1},function(l){return pc(i,a,n.dom)===!1&&Fi(l,Ge.fromDom(i.container()))})})},_C=function(e,n,a){return ck(n,a).fold(function(){return vy(e,n.dom,a).forall(function(i){return pc(i,a,n.dom)===!1})},function(i){return vy(e,i.dom,a).isNone()})},sr=le(_C,!1),SC=le(_C,!0),fk=le(ar,!1),vk=le(ar,!0),Og=function(e){return k0(e).exists(xh)},Dg=function(e,n,a){var i=ut(wc(Ge.fromDom(a.container()),n),Ts),l=da(i).getOr(n);return Hu(e,l.dom,a).filter(Og)},Rg=function(e,n){return k0(n).exists(xh)||Dg(!0,e,n).isSome()},$g=function(e,n){return $4(n).exists(xh)||Dg(!1,e,n).isSome()},OE=le(Dg,!1),er=le(Dg,!0),dk=function(e){return mt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},xC=function(e,n){var a=ut(wc(Ge.fromDom(n.container()),e),Ts);return da(a).getOr(e)},C1=function(e,n){return dk(n)?bC(n):bC(n)||yc(xC(e,n).dom,n).exists(bC)},Sd=function(e,n){return dk(n)?fy(n):fy(n)||Pl(xC(e,n).dom,n).exists(fy)},mk=function(e){return Ae(["pre","pre-wrap"],e)},dy=function(e){return k0(e).bind(function(n){return Ch(n,Ha)}).exists(function(n){return mk(pr(n,"white-space"))})},kC=function(e,n){return yc(e.dom,n).isNone()},DE=function(e,n){return Pl(e.dom,n).isNone()},hk=function(e,n){return kC(e,n)||DE(e,n)||sr(e,n)||SC(e,n)||$g(e,n)||Rg(e,n)},RE=function(e,n){return dy(n)?!1:hk(e,n)||C1(e,n)||Sd(e,n)},my=function(e,n){return dy(n)?!1:sr(e,n)||fk(e,n)||$g(e,n)||C1(e,n)},$E=function(e){var n=e.container(),a=e.offset();return gn(n)&&a<n.data.length?mt(n,a+1):e},hy=function(e,n){return dy(n)?!1:SC(e,n)||vk(e,n)||Rg(e,n)||Sd(e,n)},gk=function(e,n){return my(e,n)||hy(e,$E(n))},pk=function(e,n){return hm(e.charAt(n))},BE=function(e){var n=e.container();return gn(n)&&Bo(n.data,us)},bk=function(e){var n=e.split("");return et(n,function(a,i){return hm(a)&&i>0&&i<n.length-1&&$0(n[i-1])&&$0(n[i+1])?" ":a}).join("")},AC=function(e,n){var a=n.data,i=mt(n,0);return pk(a,0)&&!gk(e,i)?(n.data=" "+a.slice(1),!0):!1},Nr=function(e){var n=e.data,a=bk(n);return a!==n?(e.data=a,!0):!1},yk=function(e,n){var a=n.data,i=mt(n,a.length-1);return pk(a,a.length-1)&&!gk(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},gy=function(e,n){return te.some(n).filter(BE).bind(function(a){var i=a.container(),l=AC(e,i)||Nr(i)||yk(e,i);return l?te.some(a):te.none()})},EC=function(e){var n=Ge.fromDom(e.getBody());e.selection.isCollapsed()&&gy(n,mt.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},wk=function(e,n,a){var i=Rt(e,function(l,v){return cd(v)||hm(v)?l.previousCharIsSpace||l.str===""&&n||l.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:l.str+us}:{previousCharIsSpace:!0,str:l.str+" "}:{previousCharIsSpace:!1,str:l.str+v}},{previousCharIsSpace:!1,str:""});return i.str},TC=function(e,n,a){if(a!==0){var i=Ge.fromDom(e),l=zv(i,Ts).getOr(i),v=e.data.slice(n,n+a),p=n+a>=e.data.length&&hy(l,mt(e,e.data.length)),S=n===0&&my(l,mt(e,0));e.replaceData(n,a,wk(v,S,p))}},_1=function(e,n){var a=e.data.slice(n),i=a.length-Bd(a).length;TC(e,n,i)},py=function(e,n){var a=e.data.slice(0,n),i=a.length-es(a).length;TC(e,n-i,i)},u=function(e,n,a,i){i===void 0&&(i=!0);var l=es(e.data).length,v=i?e:n,p=i?n:e;return i?v.appendData(p.data):v.insertData(0,p.data),vo(Ge.fromDom(p)),a&&_1(v,l),v},c=function(e,n){var a=e.container(),i=e.offset();return mt.isTextPosition(e)===!1&&a===n.parentNode&&i>mt.before(n).offset()},h=function(e,n){return c(n,e)?mt(n.container(),n.offset()-1):n},w=function(e){return gn(e)?mt(e,0):mt.before(e)},k=function(e){return gn(e)?mt(e,e.data.length):mt.after(e)},R=function(e){return jc(e.previousSibling)?te.some(k(e.previousSibling)):e.previousSibling?ol(e.previousSibling):te.none()},z=function(e){return jc(e.nextSibling)?te.some(w(e.nextSibling)):e.nextSibling?ou(e.nextSibling):te.none()},K=function(e,n){var a=mt.before(n.previousSibling?n.previousSibling:n.parentNode);return yc(e,a).fold(function(){return Pl(e,mt.after(n))},te.some)},ue=function(e,n){return Pl(e,mt.after(n)).fold(function(){return yc(e,mt.before(n))},te.some)},ye=function(e,n){return R(n).orThunk(function(){return z(n)}).orThunk(function(){return K(e,n)})},Me=function(e,n){return z(n).orThunk(function(){return R(n)}).orThunk(function(){return ue(e,n)})},ht=function(e,n,a){return e?Me(n,a):ye(n,a)},Ht=function(e,n,a){return ht(e,n,a).map(le(h,a))},Tt=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},gt=function(e){return function(n){return n.dom===e}},Yt=function(e,n){return n&&Dr(e.schema.getBlockElements(),ko(n))},tn=function(e){if(ki(e)){var n=Ge.fromHtml('<br data-mce-bogus="1">');return Vf(e),Ho(e,n),te.some(mt.before(n.dom))}else return te.none()},Rn=function(e,n,a){var i=Ff(e).filter(Xa),l=ks(e).filter(Xa);return vo(e),o2(i,l,n,function(v,p,S){var A=v.dom,N=p.dom,X=A.data.length;return u(A,N,a),S.container()===N?mt(A,X):S}).orThunk(function(){return a&&(i.each(function(v){return py(v.dom,v.dom.length)}),l.each(function(v){return _1(v.dom,0)})),n})},jr=function(e,n){return Dr(e.schema.getTextInlineElements(),ko(n))},On=function(e,n,a,i){i===void 0&&(i=!0);var l=Ht(n,e.getBody(),a.dom),v=zv(a,le(Yt,e),gt(e.getBody())),p=Rn(a,l,jr(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):v.bind(tn).fold(function(){i&&Tt(e,n,p)},function(S){i&&Tt(e,n,te.some(S))})},nr=function(e){return function(n){return $a(e,n)}},xr=function(e){return Oi(e,"td,th")},Cr=function(e,n){var a=function(N){return gm(Ge.fromDom(N),n)},i=a(e.startContainer),l=a(e.endContainer),v=i.isSome(),p=l.isSome(),S=eu(i,l,$a).getOr(!1),A=!S&&v&&p;return{startTable:i,endTable:l,isStartInTable:v,isEndInTable:p,isSameTable:S,isMultiTable:A}},Co=function(e,n){return{start:e,end:n}},ci=function(e,n,a){return{rng:e,table:n,cells:a}},fi=Mn.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),zr=function(e,n){return yo(Ge.fromDom(e),"td,th",n)},or=function(e){return!$a(e.start,e.end)},$r=function(e,n){return gm(e.start,n).bind(function(a){return gm(e.end,n).bind(function(i){return i2($a(a,i),a)})})},fa=function(e,n){return!or(e)&&$r(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},io=function(e,n){var a=zr(e.startContainer,n),i=zr(e.endContainer,n);return eu(a,i,Co)},mv=function(e){return function(n){return gm(n,e).bind(function(a){return Ur(xr(a)).map(function(i){return Co(n,i)})})}},ca=function(e){return function(n){return gm(n,e).bind(function(a){return da(xr(a)).map(function(i){return Co(i,n)})})}},ds=function(e){return function(n){return $r(n,e).map(function(a){return ci(n,a,xr(a))})}},vi=function(e,n,a,i){if(a.collapsed||!e.forall(or))return te.none();if(n.isSameTable){var l=e.bind(ds(i));return te.some({start:l,end:l})}else{var v=zr(a.startContainer,i),p=zr(a.endContainer,i),S=v.bind(mv(i)).bind(ds(i)),A=p.bind(ca(i)).bind(ds(i));return te.some({start:S,end:A})}},S1=function(e,n){return pn(e,function(a){return $a(a,n)})},hv=function(e){return eu(S1(e.cells,e.rng.start),S1(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},Cc=function(e,n,a){return e.exists(function(i){return fa(i,a)&&Il(i.start,n)})},Hs=function(e,n){var a=n.startTable,i=n.endTable,l=e.cloneRange();return a.each(function(v){return l.setStartAfter(v.dom)}),i.each(function(v){return l.setEndBefore(v.dom)}),l},mf=function(e,n,a,i){return vi(e,n,a,i).bind(function(l){var v=l.start,p=l.end;return v.or(p)}).bind(function(l){var v=n.isSameTable,p=hv(l).getOr([]);if(v&&l.cells.length===p.length)return te.some(fi.fullTable(l.table));if(p.length>0){if(v)return te.some(fi.partialTable(p,te.none()));var S=Hs(a,n);return te.some(fi.partialTable(p,te.some(qn(qn({},n),{rng:S}))))}else return te.none()})},by=function(e,n,a,i){return vi(e,n,a,i).bind(function(l){var v=l.start,p=l.end,S=v.bind(hv).getOr([]),A=p.bind(hv).getOr([]);if(S.length>0&&A.length>0){var N=Hs(a,n);return te.some(fi.multiTable(S,A,N))}else return te.none()})},Bg=function(e,n){var a=nr(e),i=io(n,a),l=Cr(n,a);return Cc(i,n,a)?i.map(function(v){return fi.singleCellTable(n,v.start)}):l.isMultiTable?by(i,l,n,a):mf(i,l,n,a)},Mg=function(e){var n=ns(e)?Ff(e):as(e);return n.bind(Mg).orThunk(function(){return te.some(e)})},Pg=function(e){return Le(e,function(n){yt(n,"contenteditable"),df(n)})},_c=function(e,n){return te.from(e.dom.getParent(n,e.dom.isBlock)).map(Ge.fromDom)},Ig=function(e,n,a){a.each(function(i){n?vo(i):(df(i),e.selection.setCursorLocation(i.dom,0))})},Ng=function(e,n,a,i){var l=a.cloneRange();i?(l.setStart(a.startContainer,a.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(a.endContainer,a.endOffset)),ME(e,l,n,!1)},OC=function(e){var n=uf(e),a=Ge.fromDom(e.selection.getNode());ph(a.dom)&&ki(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),n.length>1&&Ze(n,function(i){return $a(i,a)})&&M(a,"data-mce-selected","1")},zg=function(e,n,a){var i=e.selection.getRng(),l=a.bind(function(v){var p=v.rng,S=v.isStartInTable,A=_c(e,S?p.endContainer:p.startContainer);p.deleteContents(),Ig(e,S,A.filter(ki));var N=S?n[0]:n[n.length-1];return Ng(e,N,i,S),ki(N)?te.none():te.some(S?n.slice(1):n.slice(0,-1))}).getOr(n);return Pg(l),OC(e),!0},F5=function(e,n,a,i){var l=e.selection.getRng(),v=n[0],p=a[a.length-1];Ng(e,v,l,!0),Ng(e,p,l,!1);var S=ki(v)?n:n.slice(1),A=ki(p)?a:a.slice(0,-1);return Pg(S.concat(A)),i.deleteContents(),OC(e),!0},ME=function(e,n,a,i){i===void 0&&(i=!0),n.deleteContents();var l=Mg(a).getOr(a),v=Ge.fromDom(e.dom.getParent(l.dom,e.dom.isBlock));if(ki(v)&&(df(v),i&&e.selection.setCursorLocation(v.dom,0)),!$a(a,v)){var p=zd(ro(v),a)?[]:Ao(v);Le(p.concat(Qi(a)),function(S){!$a(S,v)&&!Fi(S,v)&&ki(S)&&vo(S)})}return!0},a6=function(e,n){return On(e,!1,n),!0},Fg=function(e,n,a){return Bg(n,a).map(function(i){return i.fold(le(ME,e),le(a6,e),le(zg,e),le(F5,e))})},o6=function(e,n){return yy(e,n)},ms=function(e,n,a,i){return PE(n,i).fold(function(){return Fg(e,n,a)},function(l){return o6(e,l)}).getOr(!1)},oa=function(e,n,a){var i=Ge.fromDom(e.getBody()),l=e.selection.getRng();return a.length!==0?zg(e,a,te.none()):ms(e,i,l,n)},hf=function(e,n){return rn(wc(n,e),uc)},PE=function(e,n){return rn(wc(n,e),pp("caption"))},L5=function(e,n,a,i,l){return bc(a,e.getBody(),l).bind(function(v){return hf(n,Ge.fromDom(v.getNode())).map(function(p){return $a(p,i)===!1})})},yy=function(e,n){return df(n),e.selection.setCursorLocation(n.dom,0),te.some(!0)},IE=function(e,n,a,i){return ou(e.dom).bind(function(l){return ol(e.dom).map(function(v){return n?a.isEqual(l)&&i.isEqual(v):a.isEqual(v)&&i.isEqual(l)})}).getOr(!0)},H5=function(e,n){return yy(e,n)},V5=function(e,n,a){return PE(e,Ge.fromDom(a.getNode())).map(function(i){return $a(i,n)===!1})},i6=function(e,n,a,i,l){return bc(a,e.getBody(),l).bind(function(v){return IE(i,a,l,v)?H5(e,i):V5(n,i,v)}).or(te.some(!0))},u6=function(e,n,a,i){var l=mt.fromRangeStart(e.selection.getRng());return hf(a,i).bind(function(v){return ki(v)?yy(e,v):L5(e,a,n,v,l)}).getOr(!1)},NE=function(e,n,a,i){var l=mt.fromRangeStart(e.selection.getRng());return ki(i)?yy(e,i):i6(e,a,n,i,l)},zE=function(e,n){return e?uk(n):wC(n)},gv=function(e,n){var a=mt.fromRangeStart(e.selection.getRng());return zE(n,a)||Hu(n,e.getBody(),a).exists(function(i){return zE(n,i)})},s6=function(e,n,a){var i=Ge.fromDom(e.getBody());return PE(i,a).fold(function(){return u6(e,n,i,a)||gv(e,n)},function(l){return NE(e,n,i,l).getOr(!1)})},Ck=function(e,n){var a=Ge.fromDom(e.selection.getStart(!0)),i=uf(e);return e.selection.isCollapsed()&&i.length===0?s6(e,n,a):oa(e,a,i)},l6=function(e,n,a,i){var l=document.createRange();return l.setStart(e,n),l.setEnd(a,i),l},FE=function(e){var n=mt.fromRangeStart(e),a=mt.fromRangeEnd(e),i=e.commonAncestorContainer;return Hu(!1,i,a).map(function(l){return!pc(n,a,i)&&pc(n,l,i)?l6(n.container(),n.offset(),l.container(),l.offset()):e}).getOr(e)},LE=function(e){return e.collapsed?e:FE(e)},c6=function(e){return e.firstChild&&e.firstChild===e.lastChild},HE=function(e){return e.name==="br"||e.value===us},f6=function(e,n){var a=e.getBlockElements();return a[n.name]&&c6(n)&&HE(n.firstChild)},v6=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||f6(e,n))},U5=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),v6(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},d6=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},m6=function(e,n,a){var i=n.serialize(a),l=e.createFragment(i);return d6(l)},_k=function(e){return ut(e.childNodes,function(n){return n.nodeName==="LI"})},h6=function(e){return e.data===us||wa(e)},W5=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&h6(e.firstChild)},j5=function(e){return!e.firstChild||W5(e)},VE=function(e){return e.length>0&&j5(e[e.length-1])?e.slice(0,-1):e},UE=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},g6=function(e,n){return!!UE(e,n)},WE=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},p6=function(e,n){var a=mt.before(e),i=ho(n),l=i.next(a);return l?l.toRange():null},G5=function(e,n){var a=mt.after(e),i=ho(n),l=i.prev(a);return l?l.toRange():null},DC=function(e,n,a,i){var l=WE(e,i),v=e.parentNode;return v.insertBefore(l[0],e),wt.each(n,function(p){v.insertBefore(p,e)}),v.insertBefore(l[1],e),v.removeChild(e),G5(n[n.length-1],a)},jE=function(e,n,a){var i=e.parentNode;return wt.each(n,function(l){i.insertBefore(l,e)}),p6(e,a)},b6=function(e,n,a,i){return i.insertAfter(n.reverse(),e),G5(n[0],a)},y6=function(e,n,a,i){var l=m6(n,e,i),v=UE(n,a.startContainer),p=VE(_k(l.firstChild)),S=1,A=2,N=n.getRoot(),X=function(J){var Q=mt.fromRangeStart(a),fe=ho(n.getRoot()),de=J===S?fe.prev(Q):fe.next(Q);return de?UE(n,de.getNode())!==v:!0};return X(S)?jE(v,p,N):X(A)?b6(v,p,N,n):DC(v,p,N,a)},q5=function(e,n,a){var i=Ge.fromDom(e.getRoot());return my(i,mt.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),hy(i,mt.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},Sk=ph,w6=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,Sk);return a===i&&Il(Ge.fromDom(a),n)}else return!1},C6=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,l=a.lastChild;!i||i===l&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},_6=function(e,n){te.from(e.getParent(n,"td,th")).map(Ge.fromDom).each(sk)},S6=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var l=e.getBody(),v=pC(i);wt.each(i.select("*[data-mce-fragment]"),function(p){var S=We(a[p.nodeName.toLowerCase()]);if(S&&dv(i,p))for(var A=p.parentNode;We(A)&&A!==l;A=A.parentNode){var N=vf(i,p,A);if(N)break;if(v.compare(A,p)){i.remove(p,!0);break}}})}},K5=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},X5=function(e){wt.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},x6=function(e){return!!e.getAttribute("data-mce-fragment")},k6=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},A6=function(e,n){var a,i=e.dom,l=e.selection;if(n){l.scrollIntoView(n);var v=bm(e.getBody(),n);if(i.getContentEditable(v)==="false"){i.remove(n),l.select(v);return}var p=i.createRng(),S=n.previousSibling;if(gn(S)){if(p.setStart(S,S.nodeValue.length),!Wn.ie){var A=n.nextSibling;gn(A)&&(S.appendData(A.data),A.parentNode.removeChild(A))}}else p.setStartBefore(n),p.setEndBefore(n);var N=function(J){var Q=mt.fromRangeStart(J),fe=ho(e.getBody());if(Q=fe.next(Q),Q)return Q.toRange()},X=i.getParent(n,i.isBlock);i.remove(n),X&&i.isEmpty(X)&&(e.$(X).empty(),p.setStart(X,0),p.setEnd(X,0),!Sk(X)&&!x6(X)&&(a=N(p))?(p=a,i.remove(X)):i.add(X,i.create("br",{"data-mce-bogus":"1"}))),l.setRng(p)}},E6=function(e){var n=e.dom,a=LE(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,Sk);w6(n,a,i)?ME(e,a,Ge.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},T6=function(e,n,a){var i,l,v,p=e.selection,S=e.dom;/^ | $/.test(n)&&(n=q5(S,p.getRng(),n));var A=e.parser,N=a.merge,X=Am({validate:h4(e)},e.schema),J='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',Q=e.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:a.paste});if(Q.isDefaultPrevented()){e.fire("SetContent",{content:Q.content,format:"html",selection:!0,paste:a.paste});return}n=Q.content,n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,J),l=p.getRng();var fe=l.startContainer||(l.parentElement?l.parentElement():null),de=e.getBody();fe===de&&p.isCollapsed()&&S.isBlock(de.firstChild)&&k6(e,de.firstChild)&&S.isEmpty(de.firstChild)&&(l=S.createRng(),l.setStart(de.firstChild,0),l.setEnd(de.firstChild,0),p.setRng(l)),p.isCollapsed()||E6(e),i=p.getNode();var he={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},pe=A.parse(n,he);if(a.paste===!0&&U5(e.schema,pe)&&g6(S,i)){l=y6(X,S,p.getRng(),pe),p.setRng(l),e.fire("SetContent",Q);return}if(K5(pe),v=pe.lastChild,v.attr("id")==="mce_marker"){var Oe=v;for(v=v.prev;v;v=v.walk(!0))if(v.type===3||!S.isBlock(v.name)){e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(Oe,v,v.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!he.invalid)n=X.serialize(pe),C6(e,n,i);else{e.selection.setContent(J),i=p.getNode();var xe=e.getBody();for(i.nodeType===9?i=v=xe:v=i;v!==xe;)i=v,v=v.parentNode;n=i===xe?xe.innerHTML:S.getOuterHTML(i),n=X.serialize(A.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return X.serialize(pe)}))),i===xe?S.setHTML(xe,n):S.setOuterHTML(i,n)}S6(e,N),A6(e,S.get("mce_marker")),X5(e.getBody()),_6(S,p.getStart()),e.fire("SetContent",Q),e.addVisual()},GE=function(e,n){n(e),e.firstChild&&GE(e.firstChild,n),e.next&&GE(e.next,n)},RC=function(e,n,a){var i={},l={},v=[];a.firstChild&&GE(a.firstChild,function(A){Le(e,function(N){N.name===A.name&&(i[N.name]?i[N.name].nodes.push(A):i[N.name]={filter:N,nodes:[A]})}),Le(n,function(N){typeof A.attr(N.name)=="string"&&(l[N.name]?l[N.name].nodes.push(A):l[N.name]={filter:N,nodes:[A]})})});for(var p in i)Dr(i,p)&&v.push(i[p]);for(var S in l)Dr(l,S)&&v.push(l[S]);return v},O6=function(e,n,a){var i=RC(e,n,a);Le(i,function(l){Le(l.filter.callbacks,function(v){v(l.nodes,l.filter.name,{})})})},Y5="html",$C=function(e){return e instanceof ll},D6=function(e){sl(e)&&ou(e.getBody()).each(function(n){var a=n.getNode(),i=Eo(a)?ou(a).getOr(n):n;e.selection.setRng(i.toRange())})},xk=function(e,n,a){e.dom.setHTML(e.getBody(),n),a!==!0&&D6(e)},J5=function(e,n,a,i){if(a.length===0||/^\s+$/.test(a)){var l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?a="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+l+"</li>");var v=Di(e);v&&e.schema.isValidChild(n.nodeName.toLowerCase(),v.toLowerCase())?(a=l,a=e.dom.createHTML(v,Kh(e),a)):a||(a='<br data-mce-bogus="1">'),xk(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=Am({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=Ld(Ge.fromDom(n))?a:wt.trim(a),xk(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},R6=function(e,n,a,i){O6(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var l=Am({validate:e.validate},e.schema).serialize(a);return i.content=Ld(Ge.fromDom(n))?l:wt.trim(l),xk(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},$6=function(e,n){return qn(qn({format:Y5},e),{set:!0,content:$C(n)?"":n})},B6=function(e,n,a){var i=$6(a,n),l=a.no_events?i:e.fire("BeforeSetContent",i);return $C(n)||(n=l.content),te.from(e.getBody()).fold(j(n),function(v){return $C(n)?R6(e,v,n,l):J5(e,v,n,l)})},M6=function(e,n){return l2(e,n).isSome()},Z5=function(e){return se(e)?e:at},P6=function(e,n,a){for(var i=e.dom,l=Z5(a);i.parentNode;){i=i.parentNode;var v=Ge.fromDom(i),p=n(v);if(p.isSome())return p;if(l(v))break}return te.none()},qE=function(e,n,a){var i=n(e),l=Z5(a);return i.orThunk(function(){return l(e)?te.none():P6(e,n,l)})},KE=Tw,Q5=function(e,n,a){var i=e.formatter.get(a);if(i)for(var l=0;l<i.length;l++){var v=i[l];if(vs(v)&&v.inherit===!1&&e.dom.is(n,v.selector))return!0}return!1},XE=function(e,n,a,i,l){var v=e.dom.getRoot();return n===v?!1:(n=e.dom.getParent(n,function(p){return Q5(e,p,a)?!0:p.parentNode===v||!!uu(e,p,a,i,!0)}),!!uu(e,n,a,i,l))},YE=function(e,n,a){if(KE(n,a.inline)||KE(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},kk=function(e,n,a,i,l,v){var p=a[i];if(se(a.onmatch))return a.onmatch(n,a,i);if(p){if(De(p.length)){for(var S in p)if(Dr(p,S)){var A=i==="attributes"?e.getAttrib(n,S):mg(e,n,S),N=af(p[S],v),X=Se(A)||Md(A);if(X&&Se(N))continue;if(l&&X&&!a.exact||(!l||a.exact)&&!KE(A,Ow(e,N,S)))return!1}}else for(var J=0;J<p.length;J++)if(i==="attributes"?e.getAttrib(n,p[J]):mg(e,n,p[J]))return!0}return!0},uu=function(e,n,a,i,l){var v=e.formatter.get(a),p=e.dom;if(v&&n)for(var S=0;S<v.length;S++){var A=v[S];if(YE(e.dom,n,A)&&kk(p,n,A,"attributes",l,i)&&kk(p,n,A,"styles",l,i)){var N=A.classes;if(N){for(var X=0;X<N.length;X++)if(!e.dom.hasClass(n,af(N[X],i)))return}return A}}},BC=function(e,n,a,i,l){if(i)return XE(e,i,n,a,l);if(i=e.selection.getNode(),XE(e,i,n,a,l))return!0;var v=e.selection.getStart();return!!(v!==i&&XE(e,v,n,a,l))},JE=function(e,n,a){var i=[],l={},v=e.selection.getStart();return e.dom.getParent(v,function(p){for(var S=0;S<n.length;S++){var A=n[S];!l[A]&&uu(e,p,A,a)&&(l[A]=!0,i.push(A))}},e.dom.getRoot()),i},ZE=function(e,n){var a=function(l){return $a(l,Ge.fromDom(e.getBody()))},i=function(l,v){return uu(e,l.dom,v)?te.some(v):te.none()};return te.from(e.selection.getStart(!0)).bind(function(l){return qE(Ge.fromDom(l),function(v){return Fa(n,function(p){return i(v,p)})},a)}).getOrNull()},I6=function(e,n){var a=e.formatter.get(n),i=e.dom;if(a)for(var l=e.selection.getStart(),v=n1(i,l),p=a.length-1;p>=0;p--){var S=a[p];if(!vs(S)||We(S.defaultBlock))return!0;for(var A=v.length-1;A>=0;A--)if(i.is(v[A],S.selector))return!0}return!1},eD=function(e,n,a){return Rt(a,function(i,l){var v=ux(e,l);return e.formatter.matchNode(n,l,{},v)?i.concat([l]):i},[])},wy=He,QE="_mce_caret",eT=function(e,n){return e.importNode(n,!0)},N6=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==wy||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},tT=function(e){return N6(e).length>0},tD=function(e){if(e){var n=new sa(e,e);for(e=n.current();e;e=n.next())if(gn(e))return e}return null},x1=function(e){var n=Ge.fromTag("span");return Y(n,{id:QE,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ho(n,Ge.fromText(wy)),n},nD=function(e){var n=tD(e);return n&&n.nodeValue.charAt(0)===wy&&n.deleteData(0,1),n},nT=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(tT(n))On(e,!1,Ge.fromDom(n),a);else{var v=l.getRng(),p=i.getParent(n,i.isBlock),S=v.startContainer,A=v.startOffset,N=v.endContainer,X=v.endOffset,J=nD(n);i.remove(n,!0),S===J&&A>0&&v.setStart(J,A-1),N===J&&X>0&&v.setEnd(J,X-1),p&&i.isEmpty(p)&&df(Ge.fromDom(p)),l.setRng(v)}},Ak=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(n)nT(e,n,a);else if(n=dm(e.getBody(),l.getStart()),!n)for(;n=i.get(QE);)nT(e,n,!1)},z6=function(e,n,a){var i=e.dom,l=i.getParent(a,le(Ew,e));l&&i.isEmpty(l)?a.parentNode.replaceChild(n,a):(CC(Ge.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},rD=function(e,n){return e.appendChild(n),n},aD=function(e,n){var a=jt(e,function(i,l){return rD(i,l.cloneNode(!1))},n);return rD(a,a.ownerDocument.createTextNode(wy))},F6=function(e,n,a,i,l,v){var p=e.formatter,S=e.dom,A=ut(Zi(p.get()),function(Q){return Q!==i&&!Bo(Q,"removeformat")}),N=eD(e,a,A),X=ut(N,function(Q){return!j4(e,Q,i)});if(X.length>0){var J=a.cloneNode(!1);return S.add(n,J),p.remove(i,l,J,v),S.remove(J),te.some(J)}else return te.none()},L6=function(e,n,a){var i,l,v=e.selection,p=v.getRng(),S=p.startOffset,A=p.startContainer,N=A.nodeValue;i=dm(e.getBody(),v.getStart()),i&&(l=tD(i));var X=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(N&&S>0&&S<N.length&&X.test(N.charAt(S))&&X.test(N.charAt(S-1))){var J=v.getBookmark();p.collapse(!0);var Q=fd(e,p,e.formatter.get(n));Q=cv(Q),e.formatter.apply(n,a,Q),v.moveToBookmark(J)}else(!i||l.nodeValue!==wy)&&(i=eT(e.getDoc(),x1(!0).dom),l=i.firstChild,p.insertNode(i),S=1),e.formatter.apply(n,a,i),v.setCursorLocation(l,S)},oD=function(e,n,a,i){var l=e.dom,v=e.selection,p,S,A,N=[],X=v.getRng(),J=X.startContainer,Q=X.startOffset;for(S=J,J.nodeType===3&&(Q!==J.nodeValue.length&&(p=!0),S=S.parentNode);S;){if(uu(e,S,n,a,i)){A=S;break}S.nextSibling&&(p=!0),N.push(S),S=S.parentNode}if(A)if(p){var fe=v.getBookmark();X.collapse(!0);var de=fd(e,X,e.formatter.get(n),!0);de=cv(de),e.formatter.remove(n,a,de,i),v.moveToBookmark(fe)}else{var he=dm(e.getBody(),A),pe=x1(!1).dom;z6(e,pe,he!==null?he:A);var Oe=F6(e,pe,A,n,a,i),xe=aD(N.concat(Oe.toArray()),pe);nT(e,he,!1),v.setCursorLocation(xe,1),l.isEmpty(A)&&l.remove(A)}},H6=function(e,n){var a=e.selection,i=e.getBody();Ak(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===wy&&Ak(e,dm(i,a.getStart())),(n===37||n===39)&&Ak(e,dm(i,a.getStart()))},rT=function(e){e.on("mouseup keydown",function(n){H6(e,n.keyCode)})},Cy=function(e,n){var a=x1(!1),i=aD(n,a.dom);return _i(Ge.fromDom(e),a),vo(Ge.fromDom(e)),mt(i,0)},V6=function(e,n){var a=e.schema.getTextInlineElements();return Dr(a,ko(n))&&!rf(n.dom)&&!bo(n.dom)},U6=function(e){return rf(e.dom)&&tT(e.dom)},k1={},Ek=pl,iD=Bc,W6=function(e,n){var a=k1[e];a||(k1[e]=[]),k1[e].push(n)},uD=function(e,n){iD(k1[e],function(a){a(n)})};W6("pre",function(e){var n=e.selection.getRng(),a,i=function(p){return v(p.previousSibling)&&bl(a,p.previousSibling)!==-1},l=function(p,S){mr(S).remove(),mr(p).append("<br><br>").append(S.childNodes)},v=As(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),iD(Ek(Ek(a,v),i),function(p){l(p.previousSibling,p)}))});var MC=wt.each,aT=function(e){return Zn(e)&&!Vu(e)&&!rf(e)&&!bo(e)},PC=function(e,n){for(var a=e;a;a=a[n]){if(gn(a)&&Bf(a.data))return e;if(Zn(a)&&!Vu(a))return a}return e},xd=function(e,n,a){var i=pC(e);if(n&&a&&(n=PC(n,"previousSibling"),a=PC(a,"nextSibling"),i.compare(n,a))){for(var l=n.nextSibling;l&&l!==a;){var v=l;l=l.nextSibling,n.appendChild(v)}return e.remove(a),wt.each(wt.grep(a.childNodes),function(p){n.appendChild(p)}),n}return a},sD=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var l=xd(e,M0(i),i);xd(e,l,M0(l,!0))}},oT=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";MC(e.select(i,a),function(l){aT(l)&&MC(n.styles,function(v,p){e.setStyle(l,p,"")})})}},iT=function(e,n,a){MC(e.childNodes,function(i){aT(i)&&(n(i)&&a(i),i.hasChildNodes()&&iT(i,n,a))})},j6=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},lD=function(e,n){return function(a){return!!(a&&mg(e,a,n))}},cD=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),j6(e,i)}},_y=Mn.generate([{keep:[]},{rename:["name"]},{removed:[]}]),G6=/^(src|href|style)$/,Lg=wt.each,Sy=Tw,q6=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},fD=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},vD=function(e,n,a){var i=n[a?"startContainer":"endContainer"],l=n[a?"startOffset":"endOffset"];if(Zn(i)){var v=i.childNodes.length-1;!a&&l&&l--,i=i.childNodes[l>v?v:l]}return gn(i)&&a&&l>=i.nodeValue.length&&(i=new sa(i,e.getBody()).next()||i),gn(i)&&!a&&l===0&&(i=new sa(i,e.getBody()).prev()||i),i},uT=function(e,n){var a=n?"firstChild":"lastChild";if(q6(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},sT=function(e,n,a,i){var l=e.create(a,i);return n.parentNode.insertBefore(l,n),l.appendChild(n),l},dD=function(e,n,a,i,l){var v=Ge.fromDom(n),p=Ge.fromDom(e.create(i,l)),S=a?Ba(v):Kr(v);return Hf(p,S),a?(_i(v,p),Qs(p,v)):(Nv(v,p),Ho(p,v)),p.dom},K6=function(e,n,a){if($i(a)&&Sy(n,a.inline)||of(a)&&Sy(n,a.block))return!0;if(vs(a))return Zn(n)&&e.is(n,a.selector)},X6=function(e,n){return n.links&&e.nodeName==="A"},Tk=function(e,n,a,i){var l=M0(n,a,i);return Se(l)||l.nodeName==="BR"||e.isBlock(l)},Y6=function(e,n,a){var i=n.parentNode,l,v=e.dom,p=Di(e);of(a)&&(p?i===v.getRoot()&&(!a.list_block||!Sy(n,a.list_block))&&Le(vr(n.childNodes),function(S){dg(e,p,S.nodeName.toLowerCase())?l?l.appendChild(S):(l=sT(v,S,p),v.setAttribs(l,e.settings.forced_root_block_attrs)):l=null}):v.isBlock(n)&&!v.isBlock(i)&&(!Tk(v,n,!1)&&!Tk(v,n.firstChild,!0,!0)&&n.insertBefore(v.create("br"),n.firstChild),!Tk(v,n,!0)&&!Tk(v,n.lastChild,!1,!0)&&n.appendChild(v.create("br")))),!(G4(a)&&!Sy(a.inline,n))&&v.remove(n,!0)},mD=function(e,n,a,i,l){var v,p=e.dom;if(!K6(p,i,n)&&!X6(i,n))return _y.keep();var S=i;if($i(n)&&n.remove==="all"&&Be(n.preserve_attributes)){var A=ut(p.getAttribs(S),function(Q){return Ae(n.preserve_attributes,Q.name.toLowerCase())});if(p.removeAllAttribs(S),Le(A,function(Q){return p.setAttrib(S,Q.name,Q.value)}),A.length>0)return _y.rename("span")}if(n.remove!=="all"){Lg(n.styles,function(Q,fe){Q=Ow(p,af(Q,a),fe+""),ce(fe)&&(fe=Q,l=null),(n.remove_similar||!l||Sy(mg(p,l,fe),Q))&&p.setStyle(S,fe,""),v=!0}),v&&p.getAttrib(S,"style")===""&&(S.removeAttribute("style"),S.removeAttribute("data-mce-style")),Lg(n.attributes,function(Q,fe){var de;if(Q=af(Q,a),ce(fe)&&(fe=Q,l=null),n.remove_similar||!l||Sy(p.getAttrib(l,fe),Q)){if(fe==="class"&&(Q=p.getAttrib(S,fe),Q&&(de="",Le(Q.split(/\s+/),function(he){/mce\-\w+/.test(he)&&(de+=(de?" ":"")+he)}),de))){p.setAttrib(S,fe,de);return}if(G6.test(fe)&&S.removeAttribute("data-mce-"+fe),fe==="style"&&As(["li"])(S)&&p.getStyle(S,"list-style-type")==="none"){S.removeAttribute(fe),p.setStyle(S,"list-style-type","none");return}fe==="class"&&S.removeAttribute("className"),S.removeAttribute(fe)}}),Lg(n.classes,function(Q){Q=af(Q,a),(!l||p.hasClass(l,Q))&&p.removeClass(S,Q)});for(var N=p.getAttribs(S),X=0;X<N.length;X++){var J=N[X].nodeName;if(J.indexOf("_")!==0&&J.indexOf("data-")!==0)return _y.keep()}}return n.remove!=="none"?(Y6(e,S,n),_y.removed()):_y.keep()},xy=function(e,n,a,i,l){return mD(e,n,a,i,l).fold(at,function(v){return e.dom.rename(i,v),!0},ot)},J6=function(e,n,a,i,l){var v;return Le(n1(e.dom,n.parentNode).reverse(),function(p){if(!v&&p.id!=="_start"&&p.id!=="_end"){var S=uu(e,p,a,i,l);S&&S.split!==!1&&(v=p)}}),v},Z6=function(e,n,a,i){return mD(e,n,a,i,i).fold(j(i),function(l){var v=e.dom.createFragment();return v.appendChild(i),e.dom.rename(i,l)},j(null))},lT=function(e,n,a,i,l,v,p,S){var A,N,X,J=e.dom;if(a){for(var Q=a.parentNode,fe=i.parentNode;fe&&fe!==Q;fe=fe.parentNode){A=J.clone(fe,!1);for(var de=0;de<n.length&&(A=Z6(e,n[de],S,A),A!==null);de++);A&&(N&&A.appendChild(N),X||(X=A),N=A)}v&&(!p.mixed||!J.isBlock(a))&&(i=J.split(a,i)),N&&(l.parentNode.insertBefore(N,l),X.appendChild(l),$i(p)&&sD(J,p,S,N))}return i},cT=function(e,n,a,i,l){var v=e.formatter.get(n),p=v[0],S=!0,A=e.dom,N=e.selection,X=function(xe){var Xe=J6(e,xe,n,a,l);return lT(e,v,Xe,xe,xe,!0,p,a)},J=function(xe){return Vu(xe)&&Zn(xe)&&(xe.id==="_start"||xe.id==="_end")},Q=function(xe){return Ze(v,function(Xe){return xy(e,Xe,a,xe,xe)})},fe=function(xe){var Xe=!0,je=!1;Zn(xe)&&A.getContentEditable(xe)&&(Xe=S,S=A.getContentEditable(xe)==="true",je=!0);var Re=vr(xe.childNodes);if(S&&!je){var Qe=Q(xe),St=Qe||Ze(v,function(Bt){return YE(A,xe,Bt)}),Lt=xe.parentNode;!St&&We(Lt)&&Rw(p)&&Q(Lt)}if(p.deep&&Re.length){for(var jn=0;jn<Re.length;jn++)fe(Re[jn]);je&&(S=Xe)}var mn=["underline","line-through","overline"];Le(mn,function(Bt){Zn(xe)&&e.dom.getStyle(xe,"text-decoration")===Bt&&xe.parentNode&&Dw(A,xe.parentNode)===Bt&&xy(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Bt}},null,xe)})},de=function(xe){var Xe=A.get(xe?"_start":"_end"),je=Xe[xe?"firstChild":"lastChild"];return J(je)&&(je=je[xe?"firstChild":"lastChild"]),gn(je)&&je.data.length===0&&(je=xe?Xe.previousSibling||Xe.nextSibling:Xe.nextSibling||Xe.previousSibling),A.remove(Xe,!0),je},he=function(xe){var Xe,je,Re=fd(e,xe,v,xe.collapsed);if(p.split){if(Re=cv(Re),Xe=vD(e,Re,!0),je=vD(e,Re),Xe!==je){if(Xe=uT(Xe,!0),je=uT(je,!1),fD(A,Xe,je)){var Qe=te.from(Xe.firstChild).getOr(Xe);X(dD(A,Qe,!0,"span",{id:"_start","data-mce-type":"bookmark"})),de(!0);return}if(fD(A,je,Xe)){var Qe=te.from(je.lastChild).getOr(je);X(dD(A,Qe,!1,"span",{id:"_end","data-mce-type":"bookmark"})),de(!1);return}Xe=sT(A,Xe,"span",{id:"_start","data-mce-type":"bookmark"}),je=sT(A,je,"span",{id:"_end","data-mce-type":"bookmark"});var St=A.createRng();St.setStartAfter(Xe),St.setEndBefore(je),o1(A,St,function(Lt){Le(Lt,function(jn){!Vu(jn)&&!Vu(jn.parentNode)&&X(jn)})}),X(Xe),X(je),Xe=de(!0),je=de()}else Xe=je=X(Xe);Re.startContainer=Xe.parentNode?Xe.parentNode:Xe,Re.startOffset=A.nodeIndex(Xe),Re.endContainer=je.parentNode?je.parentNode:je,Re.endOffset=A.nodeIndex(je)+1}o1(A,Re,function(Lt){Le(Lt,fe)})};if(i){if(B0(i)){var pe=A.createRng();pe.setStartBefore(i),pe.setEndAfter(i),he(pe)}else he(i);i1(e,n,i,a);return}if(A.getContentEditable(N.getNode())==="false"){i=N.getNode();for(var Oe=0;Oe<v.length&&!(v[Oe].ceFalseOverride&&xy(e,v[Oe],a,i,i));Oe++);i1(e,n,i,a);return}!N.isCollapsed()||!$i(p)||uf(e).length?(bg(N,!0,function(){pm(e,he)}),$i(p)&&BC(e,n,a,N.getStart())&&ix(A,N,N.getRng()),e.nodeChanged()):oD(e,n,a,l),i1(e,n,i,a)},hD=wt.each,Ok=function(e,n,a,i){var l=function(v){if(v.nodeType===1&&v.parentNode&&v.parentNode.nodeType===1){var p=Dw(e,v.parentNode);e.getStyle(v,"color")&&p?e.setStyle(v,"text-decoration",p):e.getStyle(v,"text-decoration")===p&&e.setStyle(v,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(wt.walk(i,l,"childNodes"),l(i))},gD=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&iT(i,lD(e,"fontSize"),cD(e,"backgroundColor",af(n.styles.backgroundColor,a)))},IC=function(e,n,a,i){$i(n)&&(n.inline==="sub"||n.inline==="sup")&&(iT(i,lD(e,"fontSize"),cD(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},NC=function(e,n,a,i){hD(n,function(l){$i(l)&&hD(e.dom.select(l.inline,i),function(v){aT(v)&&xy(e,l,a,v,l.exact?v:null)}),oT(e.dom,l,i)})},pD=function(e,n,a,i,l){uu(e,l.parentNode,a,i)&&xy(e,n,i,l)||n.merge_with_parents&&e.dom.getParent(l.parentNode,function(v){if(uu(e,v,a,i))return xy(e,n,i,l),!0})},Dk=wt.each,Q6=function(e){return Zn(e)&&!Vu(e)&&!rf(e)&&!bo(e)},eP=function(e,n,a,i){if(lm(e)&&$i(n)){var l=Tb(e.schema),v=M6(Ge.fromDom(a),function(p){return rf(p.dom)});return Gs(l,i)&&ki(Ge.fromDom(a.parentNode),!1)&&!v}else return!1},fT=function(e,n,a,i){var l=e.formatter.get(n),v=l[0],p=!i&&e.selection.isCollapsed(),S=e.dom,A=e.selection,N=function(Xe,je){if(je===void 0&&(je=v),se(je.onformat)&&je.onformat(Xe,je,a,i),Dk(je.styles,function(Qe,St){S.setStyle(Xe,St,af(Qe,a))}),je.styles){var Re=S.getAttrib(Xe,"style");Re&&S.setAttrib(Xe,"data-mce-style",Re)}Dk(je.attributes,function(Qe,St){S.setAttrib(Xe,St,af(Qe,a))}),Dk(je.classes,function(Qe){Qe=af(Qe,a),S.hasClass(Xe,Qe)||S.addClass(Xe,Qe)})},X=function(Xe,je){var Re=!1;return Dk(Xe,function(Qe){if(!vs(Qe))return!1;if(!(We(Qe.collapsed)&&Qe.collapsed!==p)&&S.is(je,Qe.selector)&&!rf(je))return N(je,Qe),Re=!0,!1}),Re},J=function(Xe){if($e(Xe)){var je=S.create(Xe);return N(je),je}else return null},Q=function(Xe,je,Re){var Qe=[],St=!0,Lt=v.inline||v.block,jn=J(Lt);o1(Xe,je,function(mn){var Bt,Vn=function(Ut){var vn=!1,Gt=St,Qt=Ut.nodeName.toLowerCase(),yn=Ut.parentNode,Pt=yn.nodeName.toLowerCase();if(Zn(Ut)&&Xe.getContentEditable(Ut)&&(Gt=St,St=Xe.getContentEditable(Ut)==="true",vn=!0),wa(Ut)&&!eP(e,v,Ut,Pt)){Bt=null,of(v)&&Xe.remove(Ut);return}if(of(v)&&v.wrapper&&uu(e,Ut,n,a)){Bt=null;return}if(St&&!vn&&of(v)&&!v.wrapper&&Ew(e,Qt)&&dg(e,Pt,Lt)){var hn=Xe.rename(Ut,Lt);N(hn),Qe.push(hn),Bt=null;return}if(vs(v)){var kr=X(l,Ut);if(!kr&&We(yn)&&Rw(v)&&(kr=X(l,yn)),!$i(v)||kr){Bt=null;return}}St&&!vn&&dg(e,Lt,Qt)&&dg(e,Pt,Lt)&&!(!Re&&gn(Ut)&&gu(Ut.data))&&!rf(Ut)&&(!$i(v)||!Xe.isBlock(Ut))?(Bt||(Bt=Xe.clone(jn,!1),Ut.parentNode.insertBefore(Bt,Ut),Qe.push(Bt)),Bt.appendChild(Ut)):(Bt=null,Le(vr(Ut.childNodes),Vn),vn&&(St=Gt),Bt=null)};Le(mn,Vn)}),v.links===!0&&Le(Qe,function(mn){var Bt=function(Vn){Vn.nodeName==="A"&&N(Vn,v),Le(vr(Vn.childNodes),Bt)};Bt(mn)}),Le(Qe,function(mn){var Bt=function(vn){var Gt=0;return Le(vn.childNodes,function(Qt){!W4(Qt)&&!Vu(Qt)&&Gt++}),Gt},Vn=function(vn){var Gt=rn(vn.childNodes,Q6).filter(function(Qt){return YE(Xe,Qt,v)});return Gt.map(function(Qt){var yn=Xe.clone(Qt,!1);return N(yn),Xe.replace(yn,vn,!0),Xe.remove(Qt,!0),yn}).getOr(vn)},Ut=Bt(mn);if((Qe.length>1||!Xe.isBlock(mn))&&Ut===0){Xe.remove(mn,!0);return}($i(v)||of(v)&&v.wrapper)&&(!v.exact&&Ut===1&&(mn=Vn(mn)),NC(e,l,a,mn),pD(e,v,n,a,mn),gD(Xe,v,a,mn),Ok(Xe,v,a,mn),IC(Xe,v,a,mn),sD(Xe,v,a,mn))})};if(S.getContentEditable(A.getNode())==="false"){i=A.getNode();for(var fe=0,de=l.length;fe<de;fe++){var he=l[fe];if(he.ceFalseOverride&&vs(he)&&S.is(i,he.selector)){N(i,he);break}}jw(e,n,i,a);return}if(v){if(i)if(B0(i)){if(!X(l,i)){var pe=S.createRng();pe.setStartBefore(i),pe.setEndAfter(i),Q(S,fd(e,pe,l),!0)}}else Q(S,i,!0);else if(!p||!$i(v)||uf(e).length){var Oe=A.getNode(),xe=l[0];!e.settings.forced_root_block&&xe.defaultBlock&&!S.getParent(Oe,S.isBlock)&&fT(e,xe.defaultBlock),A.setRng(LE(A.getRng())),bg(A,!0,function(){pm(e,function(Xe,je){var Re=je?Xe:fd(e,Xe,l);Q(S,Re,!1)})}),ix(S,A,A.getRng()),e.nodeChanged()}else L6(e,n,a);uD(n,e)}jw(e,n,i,a)},bD=function(e){return Dr(e,"vars")},tP=function(e,n){e.set({}),n.on("NodeChange",function(a){ky(n,a.element,e.get())}),n.on("FormatApply FormatRemove",function(a){var i=te.from(a.node).map(function(l){return B0(l)?l:l.startContainer}).bind(function(l){return Zn(l)?te.some(l):te.from(l.parentElement)}).getOrThunk(function(){return yD(n)});ky(n,i,e.get())})},yD=function(e){return e.selection.getStart()},vT=function(e,n,a,i,l){var v=function(S){var A=e.formatter.matchNode(S,a,l??{},i);return!De(A)},p=function(S){return Q5(e,S,a)?!0:i?!1:We(e.formatter.matchNode(S,a,l,!0))};return Ft(n,v,p)},wD=function(e,n){var a=n??yD(e);return ut(n1(e.dom,a),function(i){return Zn(i)&&!bo(i)})},ky=function(e,n,a){var i=wD(e,n);Vr(a,function(l,v){var p=function(S){var A=vT(e,i,v,S.similar,bD(S)?S.vars:void 0),N=A.isSome();if(S.state.get()!==N){S.state.set(N);var X=A.getOr(n);bD(S)?S.callback(N,{node:X,format:v,parents:i}):Le(S.callbacks,function(J){return J(N,{node:X,format:v,parents:i})})}};Le([l.withSimilar,l.withoutSimilar],p),Le(l.withVars,p)})},nP=function(e,n,a,i,l,v){var p=n.get();Le(a.split(","),function(S){var A=Ir(p,S).getOrThunk(function(){var J={withSimilar:{state:yu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:yu(!1),similar:!1,callbacks:[]},withVars:[]};return p[S]=J,J}),N=function(){var J=wD(e);return vT(e,J,S,l,v).isSome()};if(De(v)){var X=l?A.withSimilar:A.withoutSimilar;X.callbacks.push(i),X.callbacks.length===1&&X.state.set(N())}else A.withVars.push({state:yu(N()),similar:l,vars:v,callback:i})}),n.set(p)},rP=function(e,n,a){var i=e.get();Le(n.split(","),function(l){return Ir(i,l).each(function(v){i[l]={withSimilar:qn(qn({},v.withSimilar),{callbacks:ut(v.withSimilar.callbacks,function(p){return p!==a})}),withoutSimilar:qn(qn({},v.withoutSimilar),{callbacks:ut(v.withoutSimilar.callbacks,function(p){return p!==a})}),withVars:ut(v.withVars,function(p){return p.callback!==a})}})}),e.set(i)},aP=function(e,n,a,i,l,v){return n.get()===null&&tP(n,e),nP(e,n,a,i,l,v),{unbind:function(){return rP(n,a,i)}}},oP=function(e,n,a,i){var l=e.formatter.get(n);BC(e,n,a,i)&&(!("toggle"in l[0])||l[0].toggle)?cT(e,n,a,i):fT(e,n,a,i)},Rk=function(e,n){var a=n||document,i=a.createDocumentFragment();return Le(e,function(l){i.appendChild(l.dom)}),Ge.fromDom(i)},$k=function(e,n,a){return{element:e,width:n,rows:a}},dT=function(e,n){return{element:e,cells:n}},CD=function(e,n){return{x:e,y:n}},Bk=function(e,n){var a=parseInt(ae(e,n),10);return isNaN(a)?1:a},_D=function(e,n,a,i,l){for(var v=Bk(l,"rowspan"),p=Bk(l,"colspan"),S=e.rows,A=a;A<a+v;A++){S[A]||(S[A]=dT(e0(i),[]));for(var N=n;N<n+p;N++){var X=S[A].cells;X[N]=A===a&&N===n?l:No(l)}}},iP=function(e,n,a){var i=e.rows,l=i[a]?i[a].cells:[];return!!l[n]},uP=function(e,n,a){for(;iP(e,n,a);)n++;return n},SD=function(e){return Rt(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},xD=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var l=a[i].cells,v=0;v<l.length;v++)if($a(l[v],n))return te.some(CD(v,i));return te.none()},kD=function(e,n,a,i,l){for(var v=[],p=e.rows,S=a;S<=l;S++){var A=p[S].cells,N=n<i?A.slice(n,i+1):A.slice(i,n+1);v.push(dT(p[S].element,N))}return v},mT=function(e,n,a){var i=n.x,l=n.y,v=a.x,p=a.y,S=l<p?kD(e,i,l,v,p):kD(e,i,p,v,l);return $k(e.element,SD(S),S)},hT=function(e,n){var a=No(e.element),i=Ge.fromTag("tbody");return Hf(i,n),Ho(a,i),a},AD=function(e){return et(e.rows,function(n){var a=et(n.cells,function(l){var v=e0(l);return yt(v,"colspan"),yt(v,"rowspan"),v}),i=No(n.element);return Hf(i,a),i})},Mk=function(e){var n=$k(No(e),0,[]);return Le(Oi(e,"tr"),function(a,i){Le(Oi(a,"td,th"),function(l,v){_D(n,uP(n,v,i),i,a,l)})}),$k(n.element,SD(n.rows),n.rows)},Ll=function(e){return hT(e,AD(e))},zC=function(e,n,a){return xD(e,n).bind(function(i){return xD(e,a).map(function(l){return mT(e,i,l)})})},A1=function(e){return rn(e,function(n){return ko(n)==="ul"||ko(n)==="ol"})},sP=function(e,n){return rn(e,function(a){return ko(a)==="li"&&Il(a,n)}).fold(j([]),function(a){return A1(e).map(function(i){var l=Ge.fromTag(ko(i)),v=lo(ao(i),function(p,S){return po(S,"list-style")});return Rr(l,v),[Ge.fromTag("li"),l]}).getOr([])})},ED=function(e,n){var a=Rt(n,function(i,l){return Ho(l,i),l},e);return n.length>0?Rk([a]):a},TD=function(e){return Wi(e)?ro(e).filter(Tl).fold(j([]),function(n){return[e,n]}):Tl(e)?[e]:[]},lP=function(e,n){var a=Ge.fromDom(n.commonAncestorContainer),i=wc(a,e),l=ut(i,function(S){return tu(S)||Qn(S)}),v=sP(i,n),p=l.concat(v.length?v:TD(a));return et(p,No)},OD=function(){return Rk([])},cP=function(e,n){return ED(Ge.fromDom(n.cloneContents()),lP(e,n))},DD=function(e,n){return Fd(n,"table",le($a,e))},Pk=function(e,n){return DD(e,n[0]).bind(function(a){var i=n[0],l=n[n.length-1],v=Mk(a);return zC(v,i,l).map(function(p){return Rk([Ll(p)])})}).getOrThunk(OD)},RD=function(e,n){return n.length>0&&n[0].collapsed?OD():cP(e,n[0])},$D=function(e,n){var a=lv(n,e);return a.length>0?Pk(e,a):RD(e,n)},Ik=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},Nk=function(e,n){return n>=0&&n<e.length&&cd(e.charAt(n))},BD=function(e,n){var a=sc(e.innerText);return n?Ik(a):a},fP=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},vP=function(e){return te.from(e.selection.getRng()).map(function(n){var a=te.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),l=fP(a),v=Wn.browser.isIE()&&l!=="pre",p=e.dom.add(i,l,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),S=BD(p,v),A=sc(p.textContent);if(e.dom.remove(p),Nk(A,0)||Nk(A,A.length-1)){var N=a.getOr(i),X=BD(N,v),J=X.indexOf(S);if(J===-1)return S;var Q=Nk(X,J-1),fe=Nk(X,J+S.length);return(Q?" ":"")+S+(fe?" ":"")}else return S}).getOr("")},dP=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),l=e.selection.getSel(),v=ny(e,Pw(l)),p=n.contextual?$D(Ge.fromDom(e.getBody()),v).dom:a.cloneContents();return p&&i.appendChild(p),e.selection.serializer.serialize(i,n)},mP=function(e,n){return qn(qn({},e),{format:n,get:!0,selection:!0})},hP=function(e,n,a){a===void 0&&(a={});var i=mP(a,n),l=e.fire("BeforeGetContent",i);if(l.isDefaultPrevented())return e.fire("GetContent",l),l.content;if(l.format==="text")return vP(e);l.getInner=!0;var v=dP(e,l);return l.format==="tree"?v:(l.content=e.selection.isCollapsed()?"":v,e.fire("GetContent",l),l.content)},gT=0,MD=1,PD=2,gP=function(e,n){var a=e.length+n.length+2,i=new Array(a),l=new Array(a),v=function(X,J,Q){return{start:X,end:J,diag:Q}},p=function(X,J,Q,fe,de){var he=A(X,J,Q,fe);if(he===null||he.start===J&&he.diag===J-fe||he.end===X&&he.diag===X-Q)for(var pe=X,Oe=Q;pe<J||Oe<fe;)pe<J&&Oe<fe&&e[pe]===n[Oe]?(de.push([gT,e[pe]]),++pe,++Oe):J-X>fe-Q?(de.push([PD,e[pe]]),++pe):(de.push([MD,n[Oe]]),++Oe);else{p(X,he.start,Q,he.start-he.diag,de);for(var xe=he.start;xe<he.end;++xe)de.push([gT,e[xe]]);p(he.end,J,he.end-he.diag,fe,de)}},S=function(X,J,Q,fe){for(var de=X;de-J<fe&&de<Q&&e[de]===n[de-J];)++de;return v(X,de,J)},A=function(X,J,Q,fe){var de=J-X,he=fe-Q;if(de===0||he===0)return null;var pe=de-he,Oe=he+de,xe=(Oe%2===0?Oe:Oe+1)/2;i[1+xe]=X,l[1+xe]=J+1;var Xe,je,Re,Qe,St;for(Xe=0;Xe<=xe;++Xe){for(je=-Xe;je<=Xe;je+=2){for(Re=je+xe,je===-Xe||je!==Xe&&i[Re-1]<i[Re+1]?i[Re]=i[Re+1]:i[Re]=i[Re-1]+1,Qe=i[Re],St=Qe-X+Q-je;Qe<J&&St<fe&&e[Qe]===n[St];)i[Re]=++Qe,++St;if(pe%2!==0&&pe-Xe<=je&&je<=pe+Xe&&l[Re-pe]<=i[Re])return S(l[Re-pe],je+X-Q,J,fe)}for(je=pe-Xe;je<=pe+Xe;je+=2){for(Re=je+xe-pe,je===pe-Xe||je!==pe+Xe&&l[Re+1]<=l[Re-1]?l[Re]=l[Re+1]-1:l[Re]=l[Re-1],Qe=l[Re]-1,St=Qe-X+Q-je;Qe>=X&&St>=Q&&e[Qe]===n[St];)l[Re]=Qe--,St--;if(pe%2===0&&-Xe<=je&&je<=Xe&&l[Re]<=i[Re+pe])return S(l[Re],je+X-Q,J,fe)}}},N=[];return p(0,e.length,0,n.length,N),N},ID=function(e){return Zn(e)?e.outerHTML:gn(e)?$s.encodeRaw(e.data,!1):Kf(e)?"<!--"+e.data+"-->":""},pT=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},pP=function(e,n,a){var i=pT(n);if(e.hasChildNodes()&&a<e.childNodes.length){var l=e.childNodes[a];l.parentNode.insertBefore(i,l)}else e.appendChild(i)},Ay=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},ND=function(e,n){var a=0;Le(e,function(i){i[0]===gT?a++:i[0]===MD?(pP(n,i[1],a),a++):i[0]===PD&&Ay(n,a)})},ti=function(e){return ut(et(vr(e.childNodes),ID),function(n){return n.length>0})},bP=function(e,n){var a=et(vr(n.childNodes),ID);return ND(gP(a,e),n),n},yP=Mc(function(){return document.implementation.createHTMLDocument("undo")}),wP=function(e){return e.indexOf("</iframe>")!==-1},CP=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},gf=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Ey=function(e){var n=ti(e.getBody()),a=fr(n,function(l){var v=Zx(e.serializer,l);return v.length>0?[v]:[]}),i=a.join("");return wP(i)?CP(a):gf(i)},E1=function(e,n,a){var i=a?n.beforeBookmark:n.bookmark;n.type==="fragmented"?bP(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:We(i)&&QS(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},T1=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},zk=function(e){var n=Ge.fromTag("body",yP());return _u(n,T1(e)),Le(Oi(n,"*[data-mce-bogus]"),Uf),Cu(n)},_P=function(e,n){return T1(e)===T1(n)},SP=function(e,n){return zk(e)===zk(n)},Em=function(e,n){return!e||!n?!1:_P(e,n)?!0:SP(e,n)},Hg=function(e){return e.get()===0},Tm=function(e,n,a){Hg(a)&&(e.typing=n)},Fk=function(e,n){e.typing&&(Tm(e,!1,n),e.add())},xP=function(e){e.typing&&(e.typing=!1,e.add())},bT=function(e,n,a){Hg(n)&&a.set(TS(e.selection))},zD=function(e,n,a,i,l,v,p){var S=Ey(e);if(v=v||{},v=wt.extend(v,S),Hg(i)===!1||e.removed)return null;var A=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:v,lastLevel:A,originalEvent:p}).isDefaultPrevented()||A&&Em(A,v))return null;n.data[a.get()]&&l.get().each(function(Q){n.data[a.get()].beforeBookmark=Q});var N=Qp(e);if(N&&n.data.length>N){for(var X=0;X<n.data.length-1;X++)n.data[X]=n.data[X+1];n.data.length--,a.set(n.data.length)}v.bookmark=TS(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(v),a.set(n.data.length-1);var J={level:v,lastLevel:A,originalEvent:p};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",J),e.fire("change",J)):e.fire("AddUndo",J),v},FD=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},kP=function(e,n,a,i,l){if(n.transact(i)){var v=n.data[a.get()].bookmark,p=n.data[a.get()-1];E1(e,p,!0),n.transact(l)&&(n.data[a.get()-1].beforeBookmark=v)}},AP=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],E1(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},LD=function(e,n,a,i){var l;return n.typing&&(n.add(),n.typing=!1,Tm(n,!1,a)),i.get()>0&&(i.set(i.get()-1),l=n.data[i.get()],E1(e,l,!0),e.setDirty(!0),e.fire("Undo",{level:l})),l},EP=function(e){e.clear(),e.add()},TP=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!Em(Ey(e),n.data[0])},OP=function(e,n){return n.get()<e.data.length-1&&!e.typing},DP=function(e,n,a){return Fk(e,n),e.beforeChange(),e.ignore(a),e.add()},RP=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},HD=function(e,n){var a=e.dom,i=We(n)?n:e.getBody();De(e.hasVisual)&&(e.hasVisual=LS(e)),Le(a.select("table,a",i),function(l){switch(l.nodeName){case"TABLE":var v=x4(e),p=a.getAttrib(l,"border");(!p||p==="0")&&e.hasVisual?a.addClass(l,v):a.removeClass(l,v);break;case"A":if(!a.getAttrib(l,"href")){var S=a.getAttrib(l,"name")||l.id,A=fw(e);S&&e.hasVisual?a.addClass(l,A):a.removeClass(l,A)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},VD=function(e){return{undoManager:{beforeChange:function(n,a){return bT(e,n,a)},add:function(n,a,i,l,v,p){return zD(e,n,a,i,l,v,p)},undo:function(n,a,i){return LD(e,n,a,i)},redo:function(n,a){return AP(e,n,a)},clear:function(n,a){return FD(e,n,a)},reset:function(n){return EP(n)},hasUndo:function(n,a){return TP(e,n,a)},hasRedo:function(n,a){return OP(n,a)},transact:function(n,a,i){return DP(n,a,i)},ignore:function(n,a){return RP(n,a)},extra:function(n,a,i,l){return kP(e,n,a,i,l)}},formatter:{match:function(n,a,i,l){return BC(e,n,a,i,l)},matchAll:function(n,a){return JE(e,n,a)},matchNode:function(n,a,i,l){return uu(e,n,a,i,l)},canApply:function(n){return I6(e,n)},closest:function(n){return ZE(e,n)},apply:function(n,a,i){return fT(e,n,a,i)},remove:function(n,a,i,l){return cT(e,n,a,i,l)},toggle:function(n,a,i){return oP(e,n,a,i)},formatChanged:function(n,a,i,l,v){return aP(e,n,a,i,l,v)}},editor:{getContent:function(n,a){return sy(e,n,a)},setContent:function(n,a){return B6(e,n,a)},insertContent:function(n,a){return T6(e,n,a)},addVisual:function(n){return HD(e,n)}},selection:{getContent:function(n,a){return hP(e,n,a)}},raw:{getModel:function(){return te.none()}}}},FC=function(e){var n=function(S){return me(S)?S:{}},a=e.undoManager,i=e.formatter,l=e.editor,v=e.selection,p=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(S,A,N){return a.transact(N)},ignore:function(S,A){return a.ignore(A)},extra:function(S,A,N,X){return a.extra(N,X)}},formatter:{match:function(S,A,N,X){return i.match(S,n(A),X)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(S){return i.canApply(S)},closest:function(S){return i.closest(S)},apply:function(S,A,N){return i.apply(S,n(A))},remove:function(S,A,N,X){return i.remove(S,n(A))},toggle:function(S,A,N){return i.toggle(S,n(A))},formatChanged:function(S,A,N,X,J){return i.formatChanged(A,N,X,J)}},editor:{getContent:function(S,A){return l.getContent(S)},setContent:function(S,A){return l.setContent(S,A)},insertContent:function(S,A){return l.insertContent(S)},addVisual:l.addVisual},selection:{getContent:function(S,A){return v.getContent(A)}},raw:{getModel:function(){return te.some(p.getRawModel())}}}},UD=function(){var e=j(null),n=j("");return{undoManager:{beforeChange:Ee,add:e,undo:e,redo:e,clear:Ee,reset:Ee,hasUndo:at,hasRedo:at,transact:e,ignore:Ee,extra:Ee},formatter:{match:at,matchAll:j([]),matchNode:j(void 0),canApply:at,closest:n,apply:Ee,remove:Ee,toggle:Ee,formatChanged:j({unbind:Ee})},editor:{getContent:n,setContent:n,insertContent:Ee,addVisual:Ee},selection:{getContent:n},raw:{getModel:j(te.none())}}},Om=function(e){return Dr(e.plugins,"rtc")},WD=function(e){return Ir(e.plugins,"rtc").bind(function(n){return te.from(n.setup)})},$P=function(e){var n=e;return WD(e).fold(function(){return n.rtcInstance=VD(e),te.none()},function(a){return n.rtcInstance=UD(),te.some(function(){return a().then(function(i){return n.rtcInstance=FC(i),i.rtc.isRemote})})})},Lk=function(e){return e.rtcInstance?e.rtcInstance:VD(e)},Mi=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},BP=function(e,n,a){Mi(e).undoManager.beforeChange(n,a)},jD=function(e,n,a,i,l,v,p){return Mi(e).undoManager.add(n,a,i,l,v,p)},GD=function(e,n,a,i){return Mi(e).undoManager.undo(n,a,i)},qD=function(e,n,a){return Mi(e).undoManager.redo(n,a)},KD=function(e,n,a){Mi(e).undoManager.clear(n,a)},XD=function(e,n){Mi(e).undoManager.reset(n)},MP=function(e,n,a){return Mi(e).undoManager.hasUndo(n,a)},PP=function(e,n,a){return Mi(e).undoManager.hasRedo(n,a)},IP=function(e,n,a,i){return Mi(e).undoManager.transact(n,a,i)},NP=function(e,n,a){Mi(e).undoManager.ignore(n,a)},yT=function(e,n,a,i,l){Mi(e).undoManager.extra(n,a,i,l)},LC=function(e,n,a,i,l){return Mi(e).formatter.match(n,a,i,l)},YD=function(e,n,a){return Mi(e).formatter.matchAll(n,a)},JD=function(e,n,a,i,l){return Mi(e).formatter.matchNode(n,a,i,l)},Hk=function(e,n){return Mi(e).formatter.canApply(n)},zP=function(e,n){return Mi(e).formatter.closest(n)},FP=function(e,n,a,i){Mi(e).formatter.apply(n,a,i)},Vg=function(e,n,a,i,l){Mi(e).formatter.remove(n,a,i,l)},wT=function(e,n,a,i){Mi(e).formatter.toggle(n,a,i)},ZD=function(e,n,a,i,l,v){return Mi(e).formatter.formatChanged(n,a,i,l,v)},HC=function(e,n,a){return Lk(e).editor.getContent(n,a)},QD=function(e,n,a){return Lk(e).editor.setContent(n,a)},eR=function(e,n,a){return Lk(e).editor.insertContent(n,a)},tR=function(e,n,a){return Mi(e).selection.getContent(n,a)},nR=function(e,n){return Mi(e).editor.addVisual(n)},LP=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return tR(e,a,n)},rR=function(e){return e.dom.length===0?(vo(e),te.none()):te.some(e)},HP=function(e,n){return e.filter(function(a){return md.isBookmarkNode(a.dom)}).bind(n?ks:Ff)},CT=function(e,n,a,i){var l=e.dom,v=n.dom,p=i?l.length:v.length;i?(u(l,v,!1,!i),a.setStart(v,p)):(u(v,l,!1,!i),a.setEnd(v,p))},VP=function(e,n){ro(e).each(function(a){var i=e.dom;n&&my(a,mt(i,0))?_1(i,0):!n&&hy(a,mt(i,i.length))&&py(i,i.length)})},aR=function(e,n,a,i){e.bind(function(l){var v=i?py:_1;return v(l.dom,i?l.dom.length:0),n.filter(Xa).map(function(p){return CT(l,p,a,i)})}).orThunk(function(){var l=HP(n,i).or(n).filter(Xa);return l.map(function(v){return VP(v,i)})})},VC=function(e,n){var a=te.from(n.firstChild).map(Ge.fromDom),i=te.from(n.lastChild).map(Ge.fromDom);e.deleteContents(),e.insertNode(n);var l=a.bind(Ff).filter(Xa).bind(rR),v=i.bind(ks).filter(Xa).bind(rR);aR(l,a,e,!0),aR(v,i,e,!1),e.collapse(!1)},_T=function(e,n){return qn(qn({format:"html"},e),{set:!0,selection:!0,content:n})},UP=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),l=i?{context:i.nodeName.toLowerCase()}:{},v=e.parser.parse(n.content,qn(qn({isRootContent:!0,forced_root_block:!1},l),n));return Am({validate:e.validate},e.schema).serialize(v)}else return n.content},oR=function(e,n,a){a===void 0&&(a={});var i=_T(a,n),l=i;if(!i.no_events){var v=e.fire("BeforeSetContent",i);if(v.isDefaultPrevented()){e.fire("SetContent",v);return}else l=v}l.content=UP(e,l);var p=e.selection.getRng();VC(p,p.createContextualFragment(l.content)),e.selection.setRng(p),f1(e,p),l.no_events||e.fire("SetContent",l)},iR=function(e,n,a){if(e&&Dr(e,n)){var i=ut(e[n],function(l){return l!==a});i.length===0?delete e[n]:e[n]=i}};function Vk(e,n){var a,i,l=function(p,S){return rn(S,function(A){return e.is(A,p)})},v=function(p){return e.getParents(p,null,e.getRoot())};return{selectorChangedWithUnbind:function(p,S){return a||(a={},i={},n.on("NodeChange",function(A){var N=A.element,X=v(N),J={};wt.each(a,function(Q,fe){l(fe,X).each(function(de){i[fe]||(Le(Q,function(he){he(!0,{node:de,selector:fe,parents:X})}),i[fe]=Q),J[fe]=Q})}),wt.each(i,function(Q,fe){J[fe]||(delete i[fe],wt.each(Q,function(de){de(!1,{node:N,selector:fe,parents:X})}))})})),a[p]||(a[p]=[]),a[p].push(S),l(p,v(n.selection.getStart())).each(function(){i[p]=a[p]}),{unbind:function(){iR(a,p,S),iR(i,p,S)}}}}}var ST=function(e){return!!e.select},uR=function(e){return!!(e&&e.ownerDocument)&&Fi(Ge.fromDom(e.ownerDocument),Ge.fromDom(e))},di=function(e){return e?ST(e)?!0:uR(e.startContainer)&&uR(e.endContainer):!1},sR=function(e,n,a,i){var l,v,p=Vk(e,i).selectorChangedWithUnbind,S=function(Pt,hn){var kr=e.createRng();We(Pt)&&We(hn)?(kr.setStart(Pt,hn),kr.setEnd(Pt,hn),Xe(kr),pe(!1)):(vd(e,kr,i.getBody(),!0),Xe(kr))},A=function(Pt){return LP(i,Pt)},N=function(Pt,hn){return oR(i,Pt,hn)},X=function(Pt){return km(i.getBody(),xe(),Pt)},J=function(Pt){return kg(i.getBody(),xe(),Pt)},Q=function(Pt,hn){return Qt.getBookmark(Pt,hn)},fe=function(Pt){return Qt.moveToBookmark(Pt)},de=function(Pt,hn){return pE(e,Pt,hn).each(Xe),Pt},he=function(){var Pt=xe(),hn=Oe();return!Pt||Pt.item?!1:Pt.compareEndPoints?Pt.compareEndPoints("StartToEnd",Pt)===0:!hn||Pt.collapsed},pe=function(Pt){var hn=xe();hn.collapse(!!Pt),Xe(hn)},Oe=function(){return n.getSelection?n.getSelection():n.document.selection},xe=function(){var Pt,hn,kr,ra=function(uo,ju,ps){try{return ju.compareBoundaryPoints(uo,ps)}catch{return-1}},Zr=n.document;if(i.bookmark!==void 0&&sl(i)===!1){var Pi=_g(i);if(Pi.isSome())return Pi.map(function(uo){return ny(i,[uo])[0]}).getOr(Zr.createRange())}try{(Pt=Oe())&&!Lc(Pt.anchorNode)&&(Pt.rangeCount>0?hn=Pt.getRangeAt(0):hn=Pt.createRange?Pt.createRange():Zr.createRange(),hn=ny(i,[hn])[0])}catch{}return hn||(hn=Zr.createRange?Zr.createRange():Zr.body.createTextRange()),hn.setStart&&hn.startContainer.nodeType===9&&hn.collapsed&&(kr=e.getRoot(),hn.setStart(kr,0),hn.setEnd(kr,0)),l&&v&&(ra(hn.START_TO_START,hn,l)===0&&ra(hn.END_TO_END,hn,l)===0?hn=v:(l=null,v=null)),hn},Xe=function(Pt,hn){var kr;if(di(Pt)){var ra=ST(Pt)?Pt:null;if(ra){v=null;try{ra.select()}catch{}return}var Zr=Oe(),Pi=i.fire("SetSelectionRange",{range:Pt,forward:hn});if(Pt=Pi.range,Zr){v=Pt;try{Zr.removeAllRanges(),Zr.addRange(Pt)}catch{}hn===!1&&Zr.extend&&(Zr.collapse(Pt.endContainer,Pt.endOffset),Zr.extend(Pt.startContainer,Pt.startOffset)),l=Zr.rangeCount>0?Zr.getRangeAt(0):null}!Pt.collapsed&&Pt.startContainer===Pt.endContainer&&Zr.setBaseAndExtent&&!Wn.ie&&Pt.endOffset-Pt.startOffset<2&&Pt.startContainer.hasChildNodes()&&(kr=Pt.startContainer.childNodes[Pt.startOffset],kr&&kr.tagName==="IMG"&&(Zr.setBaseAndExtent(Pt.startContainer,Pt.startOffset,Pt.endContainer,Pt.endOffset),(Zr.anchorNode!==Pt.startContainer||Zr.focusNode!==Pt.endContainer)&&Zr.setBaseAndExtent(kr,0,kr,1))),i.fire("AfterSetSelectionRange",{range:Pt,forward:hn})}},je=function(Pt){return N(e.getOuterHTML(Pt)),Pt},Re=function(){return Gx(i.getBody(),xe())},Qe=function(Pt,hn){return ty(e,xe(),Pt,hn)},St=function(){var Pt=Oe(),hn=Pt==null?void 0:Pt.anchorNode,kr=Pt==null?void 0:Pt.focusNode;if(!Pt||!hn||!kr||Lc(hn)||Lc(kr))return!0;var ra=e.createRng();ra.setStart(hn,Pt.anchorOffset),ra.collapse(!0);var Zr=e.createRng();return Zr.setStart(kr,Pt.focusOffset),Zr.collapse(!0),ra.compareBoundaryPoints(ra.START_TO_START,Zr)<=0},Lt=function(){var Pt=xe(),hn=Oe();if(!Nw(hn)&&dd(i)){var kr=j0(e,Pt);return kr.each(function(ra){Xe(ra,St())}),kr.getOr(Pt)}return Pt},jn=function(Pt,hn){return p(Pt,hn),Gt},mn=function(){for(var Pt,hn=e.getRoot();hn&&hn.nodeName!=="BODY";){if(hn.scrollHeight>hn.clientHeight){Pt=hn;break}hn=hn.parentNode}return Pt},Bt=function(Pt,hn){We(Pt)?cE(i,Pt,hn):f1(i,xe(),hn)},Vn=function(Pt,hn){return Xe(Kw(Pt,hn,i.getDoc()))},Ut=function(){var Pt=xe();return Pt.collapsed?mt.fromRangeStart(Pt).getClientRects()[0]:Pt.getBoundingClientRect()},vn=function(){n=l=v=null,yn.destroy()},Gt={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:pe,setCursorLocation:S,getContent:A,setContent:N,getBookmark:Q,moveToBookmark:fe,select:de,isCollapsed:he,isForward:St,setNode:je,getNode:Re,getSel:Oe,setRng:Xe,getRng:xe,getStart:X,getEnd:J,getSelectedBlocks:Qe,normalize:Lt,selectorChanged:jn,selectorChangedWithUnbind:p,getScrollContainer:mn,scrollIntoView:Bt,placeCaretAt:Vn,getBoundingClientRect:Ut,destroy:vn},Qt=md(Gt),yn=Gw(Gt,i);return Gt.bookmarkManager=Qt,Gt.controlSelection=yn,Gt},lR=function(e,n){Le(n,function(a){e.attr(a,null)})},WP=function(e,n,a){e.addNodeFilter("font",function(i){Le(i,function(l){var v=n.parse(l.attr("style")),p=l.attr("color"),S=l.attr("face"),A=l.attr("size");p&&(v.color=p),S&&(v["font-family"]=S),A&&(v["font-size"]=a[parseInt(l.attr("size"),10)-1]),l.name="span",l.attr("style",n.serialize(v)),lR(l,["color","face","size"])})})},jP=function(e,n){e.addNodeFilter("strike",function(a){Le(a,function(i){var l=n.parse(i.attr("style"));l["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(l))})})},cR=function(e,n){var a=$l();n.convert_fonts_to_spans&&WP(e,a,wt.explode(n.font_size_legacy_values)),jP(e,a)},GP=function(e,n){n.inline_styles&&cR(e,n)},xT=function(e){return new ii(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="blob",l.onload=function(){l.status===200?n(l.response):i()},l.onerror=i,l.send()}catch{i()}})},kT=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},AT=function(e,n){var a;try{a=atob(n)}catch{return te.none()}for(var i=new Uint8Array(a.length),l=0;l<i.length;l++)i[l]=a.charCodeAt(l);return te.some(new Blob([i],{type:e}))},ET=function(e){return new ii(function(n){var a=kT(e),i=a.type,l=a.data;AT(i,l).fold(function(){return n(new Blob([]))},n)})},fR=function(e){return e.indexOf("blob:")===0?xT(e):e.indexOf("data:")===0?ET(e):null},qP=function(e){return new ii(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},KP=0,TT=function(e){return(e||"blobid")+KP++},XP=function(e,n,a,i){var l,v;if(n.src.indexOf("blob:")===0){v=e.getByUri(n.src),v?a({image:n,blobInfo:v}):fR(n.src).then(function(N){qP(N).then(function(X){l=kT(X).data,v=e.create(TT(),N,l),e.add(v),a({image:n,blobInfo:v})})},function(N){i(N)});return}var p=kT(n.src),S=p.data,A=p.type;l=S,v=e.getByData(l,A),v?a({image:n,blobInfo:v}):fR(n.src).then(function(N){v=e.create(TT(),N,l),e.add(v),a({image:n,blobInfo:v})},function(N){i(N)})},vR=function(e){return e?vr(e.getElementsByTagName("img")):[]},dR=function(e,n){var a={},i=function(l,v){v||(v=ot);var p=ut(vR(l),function(A){var N=A.src;return!Wn.fileApi||A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!N||N===Wn.transparentSrc?!1:N.indexOf("blob:")===0?!e.isUploaded(N)&&v(A):N.indexOf("data:")===0?v(A):!1}),S=et(p,function(A){if(a[A.src]!==void 0)return new ii(function(X){a[A.src].then(function(J){if(typeof J=="string")return J;X({image:A,blobInfo:J.blobInfo})})});var N=new ii(function(X,J){XP(n,A,X,J)}).then(function(X){return delete a[X.image.src],X}).catch(function(X){return delete a[A.src],X});return a[A.src]=N,N});return ii.all(S)};return{findAll:i}},UC=function(e,n,a,i){var l=e.padd_empty_with_br||n.insert;l&&a[i.name]?i.empty().append(new ll("br",1)).shortEnded=!0:i.empty().append(new ll("#text",3)).value=us},mR=function(e){return OT(e,"#text")&&e.firstChild.value===us},OT=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},hR=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},Ty=function(e,n,a,i){return i.isEmpty(n,a,function(l){return hR(e,l)})},gR=function(e,n){return e&&(Dr(n,e.name)||e.name==="br")},pR=function(e){return We(e.attr("data-mce-bogus"))},YP=function(e){return e.attr("src")===Wn.transparentSrc||We(e.attr("data-mce-placeholder"))},DT=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),Vr(e.attributes.map,function(i,l){a.setAttribute(l,i)}),n.images_dataimg_filter(a)}else return!0},JP=function(e,n){var a=n.blob_cache,i=function(l){var v=l.attr("src");YP(l)||pR(l)||Kx(v).filter(function(){return DT(l,n)}).bind(function(p){var S=p.type,A=p.data;return te.from(a.getByData(A,S)).orThunk(function(){return AT(S,A).map(function(N){var X=a.create(TT(),N,A);return a.add(X),X})})}).each(function(p){l.attr("src",p.blobUri())})};a&&e.addAttributeFilter("src",function(l){return Le(l,i)})},Uk=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,l,v){var p,S=i.length,A,N=wt.extend({},a.getBlockElements()),X=a.getNonEmptyElements(),J,Q,fe,de,he=a.getWhiteSpaceElements(),pe,Oe;for(N.body=1,p=0;p<S;p++)if(A=i[p],J=A.parent,N[A.parent.name]&&A===J.lastChild){for(fe=A.prev;fe;){if(de=fe.name,de!=="span"||fe.attr("data-mce-type")!=="bookmark"){de==="br"&&(A=null);break}fe=fe.prev}A&&(A.remove(),Ty(a,X,he,J)&&(pe=a.getElementRule(J.name),pe&&(pe.removeEmpty?J.remove():pe.paddEmpty&&UC(n,v,N,J))))}else{for(Q=A;J&&J.firstChild===Q&&J.lastChild===Q&&(Q=J,!N[J.name]);)J=J.parent;Q===J&&n.padd_empty_with_br!==!0&&(Oe=new ll("#text",3),Oe.value=us,A.replace(Oe))}}),e.addAttributeFilter("href",function(i){var l=i.length,v=function(A){var N=A.split(" ").filter(function(X){return X.length>0});return N.concat(["noopener"]).sort().join(" ")},p=function(A){var N=A?wt.trim(A):"";return/\b(noopener)\b/g.test(N)?N:v(N)};if(!n.allow_unsafe_link_target)for(;l--;){var S=i[l];S.name==="a"&&S.attr("target")==="_blank"&&S.attr("rel",p(S.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var l=i.length,v,p,S,A;l--;)if(A=i[l],A.name==="a"&&A.firstChild&&!A.attr("href")){S=A.parent,v=A.lastChild;do p=v.prev,S.insert(v,A),v=p;while(v)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var l=i.length,v,p;l--;)if(v=i[l],p=v.parent,p.name==="ul"||p.name==="ol")if(v.prev&&v.prev.name==="li")v.prev.append(v);else{var S=new ll("li",1);S.attr("style","list-style-type: none"),v.wrap(S)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var l=a.getValidClasses(),v=i.length;v--;){for(var p=i[v],S=p.attr("class").split(" "),A="",N=0;N<S.length;N++){var X=S[N],J=!1,Q=l["*"];Q&&Q[X]&&(J=!0),Q=l[p.name],!J&&Q&&Q[X]&&(J=!0),J&&(A&&(A+=" "),A+=X)}A.length||(A=null),p.attr("class",A)}}),JP(e,n)},bR=wt.makeMap,yR=wt.each,wR=wt.explode,CR=wt.extend,Wk=function(e,n){n===void 0&&(n=Bs());var a={},i=[],l={},v={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var p=function(de){for(var he=bR("tr,td,th,tbody,thead,tfoot,table"),pe=n.getNonEmptyElements(),Oe=n.getWhiteSpaceElements(),xe=n.getTextBlockElements(),Xe=n.getSpecialElements(),je=function(Qt,yn){if(yn===void 0&&(yn=Qt.parent),Xe[Qt.name])Qt.empty().remove();else{for(var Pt=Qt.children(),hn=0,kr=Pt;hn<kr.length;hn++){var ra=kr[hn];n.isValidChild(yn.name,ra.name)||je(ra,yn)}Qt.unwrap()}},Re=0;Re<de.length;Re++){var Qe=de[Re],St=void 0,Lt=void 0,jn=void 0;if(!(!Qe.parent||Qe.fixed)){if(xe[Qe.name]&&Qe.parent.name==="li"){for(var mn=Qe.next;mn&&xe[mn.name];){mn.name="li",mn.fixed=!0,Qe.parent.insert(mn,Qe.parent);mn=mn.next}Qe.unwrap();continue}var Bt=[Qe];for(St=Qe.parent;St&&!n.isValidChild(St.name,Qe.name)&&!he[St.name];St=St.parent)Bt.push(St);if(St&&Bt.length>1)if(n.isValidChild(St.name,Qe.name)){Bt.reverse(),Lt=S(Bt[0].clone());for(var Vn=Lt,Ut=0;Ut<Bt.length-1;Ut++){n.isValidChild(Vn.name,Bt[Ut].name)?(jn=S(Bt[Ut].clone()),Vn.append(jn)):jn=Vn;for(var vn=Bt[Ut].firstChild;vn&&vn!==Bt[Ut+1];){var Gt=vn.next;jn.append(vn),vn=Gt}Vn=jn}Ty(n,pe,Oe,Lt)?St.insert(Qe,Bt[0],!0):(St.insert(Lt,Bt[0],!0),St.insert(Qe,Lt)),St=Bt[0],(Ty(n,pe,Oe,St)||OT(St,"br"))&&St.empty().remove()}else je(Qe);else if(Qe.parent){if(Qe.name==="li"){var mn=Qe.prev;if(mn&&(mn.name==="ul"||mn.name==="ol")){mn.append(Qe);continue}if(mn=Qe.next,mn&&(mn.name==="ul"||mn.name==="ol")){mn.insert(Qe,mn.firstChild,!0);continue}Qe.wrap(S(new ll("ul",1)));continue}n.isValidChild(Qe.parent.name,"div")&&n.isValidChild("div",Qe.name)?Qe.wrap(S(new ll("div",1))):je(Qe)}}}},S=function(de){var he=de.name;if(he in a){var pe=l[he];pe?pe.push(de):l[he]=[de]}for(var Oe=i.length;Oe--;){var xe=i[Oe].name;if(xe in de.attributes.map){var pe=v[xe];pe?pe.push(de):v[xe]=[de]}}return de},A=function(de,he){yR(wR(de),function(pe){var Oe=a[pe];Oe||(a[pe]=Oe=[]),Oe.push(he)})},N=function(){var de=[];for(var he in a)Dr(a,he)&&de.push({name:he,callbacks:a[he]});return de},X=function(de,he){yR(wR(de),function(pe){var Oe;for(Oe=0;Oe<i.length;Oe++)if(i[Oe].name===pe){i[Oe].callbacks.push(he);return}i.push({name:pe,callbacks:[he]})})},J=function(){return[].concat(i)},Q=function(de,he){var pe,Oe,xe,Xe,je,Re,Qe,St=[],Lt,jn=function(tt){return tt===!1?"":tt===!0?"p":tt};he=he||{},l={},v={};var mn=CR(bR("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Bt=Tb(n),Vn=n.getNonEmptyElements(),Ut=n.children,vn=e.validate,Gt="forced_root_block"in he?he.forced_root_block:e.forced_root_block,Qt=jn(Gt),yn=n.getWhiteSpaceElements(),Pt=/^[ \t\r\n]+/,hn=/[ \t\r\n]+$/,kr=/[ \t\r\n]+/g,ra=/^[ \t\r\n]+$/,Zr=Dr(yn,he.context)||Dr(yn,e.root_name),Pi=function(){var tt=$n.firstChild,Vt=null,zt=function(Ln){Ln&&(tt=Ln.firstChild,tt&&tt.type===3&&(tt.value=tt.value.replace(Pt,"")),tt=Ln.lastChild,tt&&tt.type===3&&(tt.value=tt.value.replace(hn,"")))};if(n.isValidChild($n.name,Qt.toLowerCase())){for(;tt;){var Pn=tt.next;tt.type===3||tt.type===1&&tt.name!=="p"&&!mn[tt.name]&&!tt.attr("data-mce-type")?(Vt||(Vt=uo(Qt,1),Vt.attr(e.forced_root_block_attrs),$n.insert(Vt,tt)),Vt.append(tt)):(zt(Vt),Vt=null),tt=Pn}zt(Vt)}},uo=function(tt,Vt){var zt=new ll(tt,Vt),Pn;return tt in a&&(Pn=l[tt],Pn?Pn.push(zt):l[tt]=[zt]),zt},ju=function(tt){for(var Vt=n.getBlockElements(),zt=tt.prev;zt&&zt.type===3;){var Pn=zt.value.replace(hn,"");if(Pn.length>0){zt.value=Pn;return}var Ln=zt.next;if(Ln){if(Ln.type===3&&Ln.value.length){zt=zt.prev;continue}if(!Vt[Ln.name]&&Ln.name!=="script"&&Ln.name!=="style"){zt=zt.prev;continue}}var Aa=zt.prev;zt.remove(),zt=Aa}},ps=function(tt){var Vt={};for(var zt in tt)zt!=="li"&&zt!=="p"&&(Vt[zt]=tt[zt]);return Vt},Nt=function(tt){for(var Vt=tt;We(Vt);){if(Vt.name in Bt)return Ty(n,Vn,yn,Vt);Vt=Vt.parent}return!1},Kt=Ag({validate:vn,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:ps(n.getSelfClosingElements()),cdata:function(tt){Lt.append(uo("#cdata",4)).value=tt},text:function(tt,Vt){var zt;Zr||(tt=tt.replace(kr," "),gR(Lt.lastChild,mn)&&(tt=tt.replace(Pt,""))),tt.length!==0&&(zt=uo("#text",3),zt.raw=!!Vt,Lt.append(zt).value=tt)},comment:function(tt){Lt.append(uo("#comment",8)).value=tt},pi:function(tt,Vt){Lt.append(uo(tt,7)).value=Vt,ju(Lt)},doctype:function(tt){var Vt=Lt.append(uo("#doctype",10));Vt.value=tt,ju(Lt)},start:function(tt,Vt,zt){var Pn=vn?n.getElementRule(tt):{};if(Pn){var Ln=uo(Pn.outputName||tt,1);Ln.attributes=Vt,Ln.shortEnded=zt,Lt.append(Ln);var Aa=Ut[Lt.name];Aa&&Ut[Ln.name]&&!Aa[Ln.name]&&St.push(Ln);for(var ni=i.length;ni--;){var Yo=i[ni].name;Yo in Vt.map&&(Re=v[Yo],Re?Re.push(Ln):v[Yo]=[Ln])}mn[tt]&&ju(Ln),zt||(Lt=Ln),!Zr&&yn[tt]&&(Zr=!0)}},end:function(tt){var Vt,zt,Pn,Ln=vn?n.getElementRule(tt):{};if(Ln){if(mn[tt]&&!Zr){if(Vt=Lt.firstChild,Vt&&Vt.type===3)if(zt=Vt.value.replace(Pt,""),zt.length>0)Vt.value=zt,Vt=Vt.next;else for(Pn=Vt.next,Vt.remove(),Vt=Pn;Vt&&Vt.type===3;)zt=Vt.value,Pn=Vt.next,(zt.length===0||ra.test(zt))&&(Vt.remove(),Vt=Pn),Vt=Pn;if(Vt=Lt.lastChild,Vt&&Vt.type===3)if(zt=Vt.value.replace(hn,""),zt.length>0)Vt.value=zt,Vt=Vt.prev;else for(Pn=Vt.prev,Vt.remove(),Vt=Pn;Vt&&Vt.type===3;)zt=Vt.value,Pn=Vt.prev,(zt.length===0||ra.test(zt))&&(Vt.remove(),Vt=Pn),Vt=Pn}Zr&&yn[tt]&&(Zr=!1);var Aa=Ty(n,Vn,yn,Lt),ni=Lt.parent;Ln.paddInEmptyBlock&&Aa&&Nt(Lt)?UC(e,he,mn,Lt):Ln.removeEmpty&&Aa?mn[Lt.name]?Lt.empty().remove():Lt.unwrap():Ln.paddEmpty&&(mR(Lt)||Aa)&&UC(e,he,mn,Lt),Lt=ni}}},n),$n=Lt=new ll(he.context||e.root_name,11);if(Kt.parse(de,he.format),vn&&St.length&&(he.context?he.invalid=!0:p(St)),Qt&&($n.name==="body"||he.isRootContent)&&Pi(),!he.invalid){for(Qe in l)if(Dr(l,Qe)){for(Re=a[Qe],pe=l[Qe],Xe=pe.length;Xe--;)pe[Xe].parent||pe.splice(Xe,1);for(Oe=0,xe=Re.length;Oe<xe;Oe++)Re[Oe](pe,Qe,he)}for(Oe=0,xe=i.length;Oe<xe;Oe++)if(Re=i[Oe],Re.name in v){for(pe=v[Re.name],Xe=pe.length;Xe--;)pe[Xe].parent||pe.splice(Xe,1);for(Xe=0,je=Re.callbacks.length;Xe<je;Xe++)Re.callbacks[Xe](pe,Re.name,he)}}return $n},fe={schema:n,addAttributeFilter:X,getAttributeFilters:J,addNodeFilter:A,getNodeFilters:N,filterNode:S,parse:Q};return Uk(fe,e),GP(fe,e),fe},ZP=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,l){for(var v=i.length;v--;){var p=i[v];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(l,null)}}),e.addAttributeFilter("src,href,style",function(i,l){for(var v="data-mce-"+l,p=n.url_converter,S=n.url_converter_scope,A=i.length;A--;){var N=i[A],X=N.attr(v);X!==void 0?(N.attr(l,X.length>0?X:null),N.attr(v,null)):(X=N.attr(l),l==="style"?X=a.serializeStyle(a.parseStyle(X),N.name):p&&(X=p.call(S,X,l,N.name)),N.attr(l,X.length>0?X:null))}}),e.addAttributeFilter("class",function(i){for(var l=i.length;l--;){var v=i[l],p=v.attr("class");p&&(p=v.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),v.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",function(i,l,v){for(var p=i.length;p--;){var S=i[p];if(S.attr("data-mce-type")==="bookmark"&&!v.cleanup){var A=te.from(S.firstChild).exists(function(N){return!gu(N.value)});A?S.unwrap():S.remove()}}}),e.addNodeFilter("noscript",function(i){for(var l=i.length;l--;){var v=i[l].firstChild;v&&(v.value=$s.decode(v.value))}}),e.addNodeFilter("script,style",function(i,l){for(var v=function(X){return X.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},p=i.length;p--;){var S=i[p],A=S.firstChild?S.firstChild.value:"";if(l==="script"){var N=S.attr("type");N&&S.attr("type",N==="mce-no/type"?null:N.replace(/^mce\-/,"")),n.element_format==="xhtml"&&A.length>0&&(S.firstChild.value=`// <![CDATA[
`+v(A)+`
// ]]>`)}else n.element_format==="xhtml"&&A.length>0&&(S.firstChild.value=`<!--
`+v(A)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var l=i.length;l--;){var v=i[l];n.preserve_cdata&&v.value.indexOf("[CDATA[")===0?(v.name="#cdata",v.type=4,v.value=a.decode(v.value.replace(/^\[CDATA\[|\]\]$/g,""))):v.value.indexOf("mce:protected ")===0&&(v.name="#text",v.type=3,v.raw=!0,v.value=unescape(v.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,l){for(var v=i.length;v--;){var p=i[v];p.type===7?p.remove():p.type===1&&l==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){Le(i,function(l){l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,l){for(var v=i.length;v--;)i[v].attr(l,null)})},QP=function(e){var n=function(l){return l&&l.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},eI=function(e,n,a){var i,l=e.dom,v=n.cloneNode(!0),p=document.implementation;if(p.createHTMLDocument){var S=p.createHTMLDocument("");wt.each(v.nodeName==="BODY"?v.childNodes:[v],function(A){S.body.appendChild(S.importNode(A,!0))}),v.nodeName!=="BODY"?v=S.body.firstChild:v=S.body,i=l.doc,l.doc=S}return X4(e,qn(qn({},a),{node:v})),i&&(l.doc=i),v},tI=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},_R=function(e,n,a){return tI(e,a)?eI(e,n,a):n},nI=function(e,n,a){wt.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,l){for(var v=i.length;v--;)i[v].attr(l,null)}),n.push(a))},rI=function(e,n,a){if(!n.no_events&&e){var i=Vw(e,qn(qn({},n),{content:a}));return i.content}else return a},aI=function(e,n,a){var i=sc(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||Ld(Ge.fromDom(n))?i:wt.trim(i)},oI=function(e,n,a){var i=a.selection?qn({forced_root_block:!1},a):a,l=e.parse(n,i);return QP(l),l},iI=function(e,n,a){var i=Am(e,n);return i.serialize(a)},uI=function(e,n,a,i,l){var v=iI(n,a,i);return rI(e,l,v)},sI=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:Ma.DOM,l=n&&n.schema?n.schema:Bs(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var v=Wk(e,l);ZP(v,e,i);var p=function(S,A){A===void 0&&(A={});var N=qn({format:"html"},A),X=_R(n,S,N),J=aI(i,X,N),Q=oI(v,J,N);return N.format==="tree"?Q:uI(n,e,l,Q,N)};return{schema:l,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:p,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:le(nI,v,a),getTempAttrs:j(a),getNodeFilters:v.getNodeFilters,getAttributeFilters:v.getAttributeFilters}},SR=function(e,n){var a=sI(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},xR="html",lI=function(e,n){n===void 0&&(n={});var a=n.format?n.format:xR;return HC(e,n,a)},RT=function(e,n,a){return a===void 0&&(a={}),QD(e,n,a)},jk=Ma.DOM,cI=function(e){jk.setStyle(e.id,"display",e.orgDisplay)},Gk=function(e){return te.from(e).each(function(n){return n.destroy()})},WC=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},fI=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),jk.unbind(n,"submit reset",e.formEventDelegate))},vI=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),l=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&l&&jk.remove(l.nextSibling),lx(e),e.editorManager.remove(e),!e.inline&&i&&cI(e),cx(e),jk.remove(e.getContainer()),Gk(n),Gk(a),e.destroy()}},kR=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Gk(a),Gk(i)),fI(e),WC(e),e.destroyed=!0}},AR=function(e,n){var a=me(e)&&me(n);return a?ER(e,n):n},dI=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},l=0;l<n.length;l++){var v=n[l];for(var p in v)Dr(v,p)&&(i[p]=e(i[p],v[p]))}return i}},ER=dI(AR),mI="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),jC="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),TR="imagetools,toc".split(","),OR=function(e){var n=ut(mI,function(i){return Dr(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&n.push("forced_root_block (false only)"),Qr(n)},hI=function(e){var n=wt.makeMap(e.plugins," "),a=function(l){return Dr(n,l)},i=Ou(Ou([],ut(jC,a),!0),fr(TR,function(l){return a(l)?[l+" (moving to premium)"]:[]}),!0);return Qr(i)},DR=function(e,n){var a=OR(e),i=hI(n),l=i.length>0,v=a.length>0,p=n.theme==="mobile";if(l||v||p){var S=`
- `,A=p?`

Themes:`+S+"mobile":"",N=l?`

Plugins:`+S+i.join(S):"",X=v?`

Settings:`+S+a.join(S):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+A+N+X)}},gI=function(e,n){return{sections:j(e),settings:j(n)}},$T=Bn().deviceType,pI=$T.isTouch(),BT=$T.isPhone(),bI=$T.isTablet(),yI=["lists","autolink","autosave"],RR={table_grid:!1,object_resizing:!1,resize:!1},Oy=function(e){var n=Be(e)?e.join(" "):e,a=et($e(n)?n.split(" "):[],Xs);return ut(a,function(i){return i.length>0})},wI=function(e){return ut(e,le(Ae,yI))},CI=function(e,n){var a=Pr(n,function(i,l){return Ae(e,l)});return gI(a.t,a.f)},GC=function(e,n,a){a===void 0&&(a={});var i=e.sections(),l=Ir(i,n).getOr({});return wt.extend({},a,l)},qC=function(e,n){return Dr(e.sections(),n)},$R=function(e,n,a){var i=e.sections();return qC(e,n)&&i[n].theme===a},_I=function(e,n){return qC(e,n)?e.sections()[n]:{}},BR=function(e,n){return Ir(e,"toolbar_mode").orThunk(function(){return Ir(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},SI=function(e,n,a,i,l){var v={id:n,theme:"silver",toolbar_mode:BR(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l};return qn(qn({},v),i?RR:{})},MR=function(e,n){var a={resize:!1,toolbar_mode:BR(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return qn(qn(qn({},RR),a),n?i:{})},xI=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?wt.extend({},e.external_plugins,a):a},kI=function(e,n){return[].concat(Oy(e)).concat(Oy(n))},AI=function(e,n,a,i){return e&&$R(n,"mobile","mobile")?wI(i):e&&qC(n,"mobile")?i:a},EI=function(e,n,a,i){var l=Oy(a.forced_plugins),v=Oy(i.plugins),p=_I(n,"mobile"),S=p.plugins?Oy(p.plugins):v,A=AI(e,n,v,S),N=kI(l,A);if(Wn.browser.isIE()&&Ae(N,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return wt.extend(i,{plugins:N.join(" ")})},TI=function(e,n){return e&&qC(n,"mobile")},ku=function(e,n,a,i,l){var v=e?{mobile:MR(l.mobile||{},n)}:{},p=CI(["mobile"],ER(v,l)),S=wt.extend(a,i,p.settings(),TI(e,p)?GC(p,"mobile"):{},{validate:!0,external_plugins:xI(i,p.settings())});return EI(e,p,i,S)},PR=function(e,n,a,i,l){var v=SI(l,n,a,pI,e),p=ku(BT||bI,BT,v,i,l);return p.deprecation_warnings!==!1&&DR(l,p),p},O1=function(e,n,a){return te.from(n.settings[a]).filter(e)},OI=function(e){var n={};return typeof e=="string"?Le(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[wt.trim(i[0])]=wt.trim(i[1]):n[wt.trim(i[0])]=wt.trim(i[0])}):n=e,n},DI=function(e){return function(n){return Be(n)&&qr(n,e)}},RI=function(e,n,a,i){var l=n in e.settings?e.settings[n]:a;return i==="hash"?OI(l):i==="string"?O1($e,e,n).getOr(a):i==="number"?O1(ce,e,n).getOr(a):i==="boolean"?O1(ge,e,n).getOr(a):i==="object"?O1(me,e,n).getOr(a):i==="array"?O1(Be,e,n).getOr(a):i==="string[]"?O1(DI($e),e,n).getOr(a):i==="function"?O1(se,e,n).getOr(a):l},Jr=function(){var e={},n=function(l,v){e[l]=v},a=function(l){return e[l]?e[l]:{icons:{}}},i=function(l){return Dr(e,l)};return{add:n,get:a,has:i}},qk=Jr(),IR=function(e,n){var a=n.dom;return a[e]},NR=function(e,n){return parseInt(pr(n,e),10)},Oo=le(IR,"clientWidth"),$I=le(IR,"clientHeight"),KC=le(NR,"margin-top"),BI=le(NR,"margin-left"),MI=function(e){return e.dom.getBoundingClientRect()},PI=function(e,n,a){var i=Oo(e),l=$I(e);return n>=0&&a>=0&&n<=i&&a<=l},zR=function(e,n,a,i){var l=MI(n),v=e?l.left+n.dom.clientLeft+BI(n):0,p=e?l.top+n.dom.clientTop+KC(n):0,S=a-v,A=i-p;return{x:S,y:A}},Dm=function(e,n,a){var i=Ge.fromDom(e.getBody()),l=e.inline?i:rs(i),v=zR(e.inline,l,n,a);return PI(l,v.x,v.y)},Hl=function(e){return te.from(e).map(Ge.fromDom)},XC=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return Hl(n).map(Wf).getOr(!1)},D1=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},pv=function(e){var n=[],a=function(){var Q=e.theme;return Q&&Q.getNotificationManagerImpl?Q.getNotificationManagerImpl():D1()},i=function(){return te.from(n[0])},l=function(Q,fe){return Q.type===fe.type&&Q.text===fe.text&&!Q.progressBar&&!Q.timeout&&!fe.progressBar&&!fe.timeout},v=function(){n.length>0&&a().reposition(n)},p=function(Q){n.push(Q)},S=function(Q){pn(n,function(fe){return fe===Q}).each(function(fe){n.splice(fe,1)})},A=function(Q,fe){if(fe===void 0&&(fe=!0),!(e.removed||!XC(e)))return fe&&e.fire("BeforeOpenNotification",{notification:Q}),rn(n,function(de){return l(a().getArgs(de),Q)}).getOrThunk(function(){e.editorManager.setActive(e);var de=a().open(Q,function(){S(de),v(),i().fold(function(){return e.focus()},function(he){return q0(Ge.fromDom(he.getEl()))})});return p(de),v(),e.fire("OpenNotification",{notification:qn({},de)}),de})},N=function(){i().each(function(Q){a().close(Q),S(Q),v()})},X=j(n),J=function(Q){Q.on("SkinLoaded",function(){var fe=IS(Q);fe&&A({text:fe,type:"warning",timeout:0},!1),v()}),Q.on("show ResizeEditor ResizeWindow NodeChange",function(){Ui.requestAnimationFrame(v)}),Q.on("remove",function(){Le(n.slice(),function(fe){a().close(fe)})})};return J(e),{open:A,close:N,getNotifications:X}},cl=zu.PluginManager,kd=zu.ThemeManager;function MT(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var PT=function(e){var n=[],a=function(){var he=e.theme;return he&&he.getWindowManagerImpl?he.getWindowManagerImpl():MT()},i=function(he,pe){return function(){for(var Oe=[],xe=0;xe<arguments.length;xe++)Oe[xe]=arguments[xe];return pe?pe.apply(he,Oe):void 0}},l=function(he){e.fire("OpenWindow",{dialog:he})},v=function(he){e.fire("CloseWindow",{dialog:he})},p=function(he){n.push(he),l(he)},S=function(he){v(he),n=ut(n,function(pe){return pe!==he}),n.length===0&&e.focus()},A=function(){return te.from(n[n.length-1])},N=function(he){e.editorManager.setActive(e),X0(e);var pe=he();return p(pe),pe},X=function(he,pe){return N(function(){return a().open(he,pe,S)})},J=function(he){return N(function(){return a().openUrl(he,S)})},Q=function(he,pe,Oe){var xe=a();xe.alert(he,i(Oe||xe,pe))},fe=function(he,pe,Oe){var xe=a();xe.confirm(he,i(Oe||xe,pe))},de=function(){A().each(function(he){a().close(he),S(he)})};return e.on("remove",function(){Le(n,function(he){a().close(he)})}),{open:X,openUrl:J,alert:Q,confirm:fe,close:de}},IT=function(e,n){e.notificationManager.open({type:"error",text:n})},Kk=function(e,n){e._skinLoaded?IT(e,n):e.on("SkinLoaded",function(){IT(e,n)})},FR=function(e,n){Kk(e,wu.translate(["Failed to upload image: {0}",n]))},Xk=function(e,n,a){V0(e,n,{message:a}),console.error(a)},NT=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},Yk=function(e,n,a){Xk(e,"PluginLoadError",NT("plugin",n,a))},II=function(e,n,a){Xk(e,"IconsLoadError",NT("icons",n,a))},YC=function(e,n,a){Xk(e,"LanguageLoadError",NT("language",n,a))},LR=function(e,n,a){var i=wu.translate(["Failed to initialize plugin: {0}",n]);V0(e,"PluginLoadError",{message:i}),JC(i,a),Kk(e,i)},JC=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,Ou([e],n,!1)):i.log.apply(i,Ou([e],n,!1)))},Rm=function(e){return/^[a-z0-9\-]+$/i.test(e)},zT=function(e){return HR(e,$S(e))},NI=function(e){return HR(e,BS(e))},HR=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,l="content"+i+".css",v=e.inline===!0;return et(n,function(p){return Rm(p)&&!v?a+"/"+p+"/"+l:e.documentBaseURI.toAbsolute(p)})},zI=function(e){e.contentCSS=e.contentCSS.concat(zT(e),NI(e))},R1=function(){var e=1,n=2,a={},i=function(Q,fe){return{status:Q,resultUri:fe}},l=function(Q){return Q in a},v=function(Q){var fe=a[Q];return fe?fe.resultUri:null},p=function(Q){return l(Q)?a[Q].status===e:!1},S=function(Q){return l(Q)?a[Q].status===n:!1},A=function(Q){a[Q]=i(e,null)},N=function(Q,fe){a[Q]=i(n,fe)},X=function(Q){delete a[Q]},J=function(){a={}};return{hasBlobUri:l,getResultUri:v,isPending:p,isUploaded:S,markPending:A,markUploaded:N,removeFailed:X,destroy:J}},FI=0,LI=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},Xi=function(e){return e+FI+++LI()},HI=function(){var e=[],n=function(J){var Q={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return Q[J.toLowerCase()]||"dat"},a=function(J,Q,fe,de,he){if($e(J)){var pe=J;return i({id:pe,name:de,filename:he,blob:Q,base64:fe})}else{if(me(J))return i(J);throw new Error("Unknown input type")}},i=function(J){if(!J.blob||!J.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var Q=J.id||Xi("blobid"),fe=J.name||Q,de=J.blob;return{id:j(Q),name:j(fe),filename:j(J.filename||fe+"."+n(de.type)),blob:j(de),base64:j(J.base64),blobUri:j(J.blobUri||URL.createObjectURL(de)),uri:j(J.uri)}},l=function(J){p(J.id())||e.push(J)},v=function(J){return rn(e,J).getOrUndefined()},p=function(J){return v(function(Q){return Q.id()===J})},S=function(J){return v(function(Q){return Q.blobUri()===J})},A=function(J,Q){return v(function(fe){return fe.base64()===J&&fe.blob().type===Q})},N=function(J){e=ut(e,function(Q){return Q.blobUri()===J?(URL.revokeObjectURL(Q.blobUri()),!1):!0})},X=function(){Le(e,function(J){URL.revokeObjectURL(J.blobUri())}),e=[]};return{create:a,add:l,get:p,getByUri:S,getByData:A,findFirst:v,removeByUri:N,destroy:X}},VR=function(e,n){var a={},i=function(de,he){return de?de.replace(/\/$/,"")+"/"+he.replace(/^\//,""):he},l=function(de,he,pe,Oe){var xe=new XMLHttpRequest;xe.open("POST",n.url),xe.withCredentials=n.credentials,xe.upload.onprogress=function(je){Oe(je.loaded/je.total*100)},xe.onerror=function(){pe("Image upload failed due to a XHR Transport error. Code: "+xe.status)},xe.onload=function(){if(xe.status<200||xe.status>=300){pe("HTTP Error: "+xe.status);return}var je=JSON.parse(xe.responseText);if(!je||typeof je.location!="string"){pe("Invalid JSON: "+xe.responseText);return}he(i(n.basePath,je.location))};var Xe=new FormData;Xe.append("file",de.blob(),de.filename()),xe.send(Xe)},v=function(){return new ii(function(de){de([])})},p=function(de,he){return{url:he,blobInfo:de,status:!0}},S=function(de,he,pe){return{url:"",blobInfo:de,status:!1,error:{message:he,options:pe}}},A=function(de,he){wt.each(a[de],function(pe){pe(he)}),delete a[de]},N=function(de,he,pe){return e.markPending(de.blobUri()),new ii(function(Oe){var xe,Xe;try{var je=function(){xe&&(xe.close(),Xe=Ee)},Re=function(St){je(),e.markUploaded(de.blobUri(),St),A(de.blobUri(),p(de,St)),Oe(p(de,St))},Qe=function(St,Lt){var jn=Lt||{};je(),e.removeFailed(de.blobUri()),A(de.blobUri(),S(de,St,jn)),Oe(S(de,St,jn))};Xe=function(St){St<0||St>100||te.from(xe).orThunk(function(){return te.from(pe).map(B)}).each(function(Lt){xe=Lt,Lt.progressBar.value(St)})},he(de,Re,Qe,Xe)}catch(St){Oe(S(de,St.message,{}))}})},X=function(de){return de===l},J=function(de){var he=de.blobUri();return new ii(function(pe){a[he]=a[he]||[],a[he].push(pe)})},Q=function(de,he){return de=wt.grep(de,function(pe){return!e.isUploaded(pe.blobUri())}),ii.all(wt.map(de,function(pe){return e.isPending(pe.blobUri())?J(pe):N(pe,n.handler,he)}))},fe=function(de,he){return!n.url&&X(n.handler)?v():Q(de,he)};return se(n.handler)===!1&&(n.handler=l),{upload:fe}},FT=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},LT=function(e,n){return VR(n,{url:d4(e),basePath:od(e),credentials:id(e),handler:m4(e)})},UR=function(e){var n=R1(),a=LT(e,n);return{upload:function(i,l){return l===void 0&&(l=!0),a.upload(i,l?FT(e):void 0)}}},HT=function(e){var n=yu(null);e.on("change AddUndo",function(i){n.set(qn({},i.level))});var a=function(){var i=e.undoManager.data;Ur(i).filter(function(l){return!Em(n.get(),l)}).each(function(l){e.setDirty(!0),e.fire("change",{level:l,lastLevel:Hr(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},VI=function(e){var n=HI(),a,i,l=R1(),v=[],p=HT(e),S=function(je){return function(Re){return e.selection?je(Re):[]}},A=function(je){return je+(je.indexOf("?")===-1?"?":"&")+new Date().getTime()},N=function(je,Re,Qe){var St=0;do St=je.indexOf(Re,St),St!==-1&&(je=je.substring(0,St)+Qe+je.substr(St+Re.length),St+=Qe.length-Re.length+1);while(St!==-1);return je},X=function(je,Re,Qe){var St='src="'+Qe+'"'+(Qe===Wn.transparentSrc?' data-mce-placeholder="1"':"");return je=N(je,'src="'+Re+'"',St),je=N(je,'data-mce-src="'+Re+'"','data-mce-src="'+Qe+'"'),je},J=function(je,Re){Le(e.undoManager.data,function(Qe){Qe.type==="fragmented"?Qe.fragments=et(Qe.fragments,function(St){return X(St,je,Re)}):Qe.content=X(Qe.content,je,Re)})},Q=function(je,Re){var Qe=e.convertURL(Re,"src");J(je.src,Re),e.$(je).attr({src:iw(e)?A(Re):Re,"data-mce-src":Qe})},fe=function(je){return a||(a=LT(e,l)),Oe().then(S(function(Re){var Qe=et(Re,function(St){return St.blobInfo});return a.upload(Qe,FT(e)).then(S(function(St){var Lt=[],jn=et(St,function(mn,Bt){var Vn=Re[Bt].blobInfo,Ut=Re[Bt].image;return mn.status&&v4(e)?(n.removeByUri(Ut.src),Om(e)||Q(Ut,mn.url)):mn.error&&(mn.error.options.remove&&(J(Ut.getAttribute("src"),Wn.transparentSrc),Lt.push(Ut)),FR(e,mn.error.message)),{element:Ut,status:mn.status,uploadUri:mn.url,blobInfo:Vn}});return jn.length>0&&p.fireIfChanged(),Lt.length>0&&(Om(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){Le(Lt,function(mn){e.dom.remove(mn),n.removeByUri(mn.src)})})),je&&je(jn),jn}))}))},de=function(je){if(Jp(e))return fe(je)},he=function(je){if(qr(v,function(Qe){return Qe(je)})===!1)return!1;if(je.getAttribute("src").indexOf("data:")===0){var Re=m0(e);return Re(je)}return!0},pe=function(je){v.push(je)},Oe=function(){return i||(i=dR(l,n)),i.findAll(e.getBody(),he).then(S(function(je){return je=ut(je,function(Re){return typeof Re=="string"?(Kk(e,Re),!1):!0}),Om(e)||Le(je,function(Re){J(Re.image.src,Re.blobInfo.blobUri()),Re.image.src=Re.blobInfo.blobUri(),Re.image.removeAttribute("data-mce-src")}),je}))},xe=function(){n.destroy(),l.destroy(),i=a=null},Xe=function(je){return je.replace(/src="(blob:[^"]+)"/g,function(Re,Qe){var St=l.getResultUri(Qe);if(St)return'src="'+St+'"';var Lt=n.getByUri(Qe);if(Lt||(Lt=Rt(e.editorManager.get(),function(mn,Bt){return mn||Bt.editorUpload&&Bt.editorUpload.blobCache.getByUri(Qe)},null)),Lt){var jn=Lt.blob();return'src="data:'+jn.type+";base64,"+Lt.base64()+'"'}return Re})};return e.on("SetContent",function(){Jp(e)?de():Oe()}),e.on("RawSaveContent",function(je){je.content=Xe(je.content)}),e.on("GetContent",function(je){je.source_view||je.format==="raw"||je.format==="tree"||(je.content=Xe(je.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(je){Le(je,function(Re){var Qe=Re.attr("src");if(!n.getByUri(Qe)){var St=l.getResultUri(Qe);St&&Re.attr("src",St)}})})}),{blobCache:n,addFilter:pe,uploadImages:fe,uploadImagesAuto:de,scanForImages:Oe,destroy:xe}},UI=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,l){return Zn(a)&&a.hasAttribute("href")},onformat:function(a,i,l){wt.each(l,function(v,p){e.setAttrib(a,p,v)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return wt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},WI=function(e){var n={},a=function(p){return We(p)?n[p]:n},i=function(p){return Dr(n,p)},l=function(p,S){p&&($e(p)?(Be(S)||(S=[S]),Le(S,function(A){De(A.deep)&&(A.deep=!vs(A)),De(A.split)&&(A.split=!vs(A)||$i(A)),De(A.remove)&&vs(A)&&!$i(A)&&(A.remove="none"),vs(A)&&$i(A)&&(A.mixed=!0,A.block_expand=!0),$e(A.classes)&&(A.classes=A.classes.split(/\s+/))}),n[p]=S):Vr(p,function(A,N){l(N,A)}))},v=function(p){return p&&n[p]&&delete n[p],n};return l(UI(e.dom)),l(g4(e)),{get:a,has:i,register:l,unregister:v}},Jk=wt.each,hs=Ma.DOM,bv=function(e,n){var a,i,l,v=n&&n.schema||Bs({}),p=function(X,J){J.classes.length&&hs.addClass(X,J.classes.join(" ")),hs.setAttribs(X,J.attrs)},S=function(X){i=typeof X=="string"?{name:X,classes:[],attrs:{}}:X;var J=hs.create(i.name);return p(J,i),J},A=function(X,J){var Q=typeof X!="string"?X.nodeName.toLowerCase():X,fe=v.getElementRule(Q),de=fe&&fe.parentsRequired;return de&&de.length?J&&wt.inArray(de,J)!==-1?J:de[0]:!1},N=function(X,J,Q){var fe,de,he=J.length>0&&J[0],pe=he&&he.name,Oe=A(X,pe);if(Oe)pe===Oe?(de=J[0],J=J.slice(1)):de=Oe;else if(he)de=J[0],J=J.slice(1);else if(!Q)return X;return de&&(fe=S(de),fe.appendChild(X)),Q&&(fe||(fe=hs.create("div"),fe.appendChild(X)),wt.each(Q,function(xe){var Xe=S(xe);fe.insertBefore(Xe,X)})),N(fe,J,de&&de.siblings)};return e&&e.length?(i=e[0],a=S(i),l=hs.create("div"),l.appendChild(N(a,e.slice(1),i.siblings)),l):""},jI=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=wt.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,l,v,p,S){switch(l){case"#":a.attrs.id=v;break;case".":a.classes.push(v);break;case":":wt.inArray("checked disabled enabled read-only required".split(" "),v)!==-1&&(a.attrs[v]=v);break}if(p==="["){var A=S.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(a.attrs[A[1]]=A[2])}return""})),a.name=n||"div",a},GI=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),wt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=wt.map(n.split(/(?:~\+|~|\+)/),jI),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},qI=function(e,n){var a,i,l="",v,p=Jh(e);if(p==="")return"";var S=function(J){return J.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var A=Ir(n,"preview");if(zd(A,!1))return"";p=A.getOr(p)}a=n.block||n.inline||"span";var N=GI(n.selector);N.length?(N[0].name||(N[0].name=a),a=n.selector,i=bv(N,e)):i=bv([a],e);var X=hs.select(a,i)[0]||i.firstChild;return Jk(n.styles,function(J,Q){var fe=S(J);fe&&hs.setStyle(X,Q,fe)}),Jk(n.attributes,function(J,Q){var fe=S(J);fe&&hs.setAttrib(X,Q,fe)}),Jk(n.classes,function(J){var Q=S(J);hs.hasClass(X,Q)||hs.addClass(X,Q)}),e.fire("PreviewFormats"),hs.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),v=hs.getStyle(e.getBody(),"fontSize",!0),v=/px$/.test(v)?parseInt(v,10):0,Jk(p.split(" "),function(J){var Q=hs.getStyle(X,J,!0);if(!(J==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Q)&&(Q=hs.getStyle(e.getBody(),J,!0),hs.toHex(Q).toLowerCase()==="#ffffff"))&&!(J==="color"&&hs.toHex(Q).toLowerCase()==="#000000")){if(J==="font-size"&&/em|%$/.test(Q)){if(v===0)return;var fe=parseFloat(Q)/(/%$/.test(Q)?100:1);Q=fe*v+"px"}J==="border"&&Q&&(l+="padding:0 2px;"),l+=J+":"+Q+";"}}),e.fire("AfterPreviewFormats"),hs.remove(i),l},KI=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},WR=function(e){var n=WI(e),a=yu(null);return KI(e),rT(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,l,v){FP(e,i,l,v)},remove:function(i,l,v,p){Vg(e,i,l,v,p)},toggle:function(i,l,v){wT(e,i,l,v)},match:function(i,l,v,p){return LC(e,i,l,v,p)},closest:function(i){return zP(e,i)},matchAll:function(i,l){return YD(e,i,l)},matchNode:function(i,l,v,p){return JD(e,i,l,v,p)},canApply:function(i){return Hk(e,i)},formatChanged:function(i,l,v,p){return ZD(e,a,i,l,v,p)},getCssText:le(qI,e)}},Do=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},jR=function(e,n,a){var i=yu(!1),l=function(A){Tm(n,!1,a),n.add({},A)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(A){var N=A.command;Do(N)||(Fk(n,a),n.beforeChange())}),e.on("ExecCommand",function(A){var N=A.command;Do(N)||l(A)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",function(A){var N=A.keyCode;A.isDefaultPrevented()||((N>=33&&N<=36||N>=37&&N<=40||N===45||A.ctrlKey)&&(l(),e.nodeChanged()),(N===46||N===8)&&e.nodeChanged(),i.get()&&n.typing&&Em(Ey(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(A){var N=A.keyCode;if(!A.isDefaultPrevented()){if(N>=33&&N<=36||N>=37&&N<=40||N===45){n.typing&&l(A);return}var X=A.ctrlKey&&!A.altKey||A.metaKey;(N<16||N>20)&&N!==224&&N!==91&&!n.typing&&!X&&(n.beforeChange(),Tm(n,!0,a),n.add({},A),i.set(!0))}}),e.on("mousedown",function(A){n.typing&&l(A)});var v=function(A){return A.inputType==="insertReplacementText"},p=function(A){return A.inputType==="insertText"&&A.data===null},S=function(A){return A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop"};e.on("input",function(A){A.inputType&&(v(A)||p(A)||S(A))&&l(A)}),e.on("AddUndo Undo Redo ClearUndos",function(A){A.isDefaultPrevented()||e.nodeChanged()})},GR=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},pf=function(e){var n=nd(),a=yu(0),i=yu(0),l={data:[],typing:!1,beforeChange:function(){BP(e,a,n)},add:function(v,p){return jD(e,l,i,a,n,v,p)},undo:function(){return GD(e,l,a,i)},redo:function(){return qD(e,i,l.data)},clear:function(){KD(e,l,i)},reset:function(){XD(e,l)},hasUndo:function(){return MP(e,l,i)},hasRedo:function(){return PP(e,l,i)},transact:function(v){return IP(e,l,a,v)},ignore:function(v){NP(e,a,v)},extra:function(v,p){yT(e,l,i,v,p)}};return Om(e)||jR(e,l,a),GR(e),l},qR=[9,27,Gn.HOME,Gn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Gn.DOWN,Gn.UP,Gn.LEFT,Gn.RIGHT].concat(Wn.browser.isFirefox()?[224]:[]),KR="data-mce-placeholder",XR=function(e){return e.type==="keydown"||e.type==="keyup"},Zk=function(e){var n=e.keyCode;return n===Gn.BACKSPACE||n===Gn.DELETE},XI=function(e){if(XR(e)){var n=e.keyCode;return!Zk(e)&&(Gn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Ae(qR,n))}else return!1},Dy=function(e){return XR(e)&&!(Zk(e)||e.type==="keyup"&&e.keyCode===229)},YI=function(e,n,a){if(ki(Ge.fromDom(n),!1)){var i=a==="",l=n.firstElementChild;return l?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(l):a===l.nodeName.toLowerCase():!0}else return!1},YR=function(e){var n=e.dom,a=Di(e),i=sw(e),l=function(v,p){if(!XI(v)){var S=e.getBody(),A=Dy(v)?!1:YI(n,S,a),N=n.getAttrib(S,KR)!=="";(N!==A||p)&&(n.setAttrib(S,KR,A?i:null),n.setAttrib(S,"aria-placeholder",A?i:null),dx(e,A),e.on(A?"keydown":"keyup",l),e.off(A?"keyup":"keydown",l))}};i&&e.on("init",function(v){l(v,!0),e.on("change SetContent ExecCommand",l),e.on("paste",function(p){return Ui.setEditorTimeout(e,function(){return l(p)})})})},JR=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,VT=function(e){return JR.test(e)},Ug=function(e,n){return Ql(Ge.fromDom(n),uv(e))},UT=function(e){return Ma.DOM.getStyle(e,"direction",!0)==="rtl"||VT(e.textContent)},JI=function(e,n,a){return ut(Ma.DOM.getParents(a.container(),"*",n),e)},Wg=function(e,n,a){var i=JI(e,n,a);return te.from(i[i.length-1])},ZI=function(e,n,a){var i=gc(n,e),l=gc(a,e);return i&&i===l},bf=function(e){return zn(e)||_b(e)},Sc=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?Ta(a)?gn(a.nextSibling)?mt(a.nextSibling,0):mt.after(a):zn(n)?mt(a,i+1):n:Ta(a)?gn(a.previousSibling)?mt(a.previousSibling,a.previousSibling.data.length):mt.before(a):_b(n)?mt(a,i-1):n},ZR=le(Sc,!0),QR=le(Sc,!1),ZC=function(e){return function(n){return $a(e,Ge.fromDom(n.dom.parentNode))}},QI=function(e){return Uc(e)||Wi(e)},QC=function(e,n){return Fi(e,n)?Ch(n,QI,ZC(e)):te.none()},e$=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},WT=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),e$(e))},eN=function(e,n,a){return eu(ou(a),ol(a),function(i,l){var v=Sc(!0,i),p=Sc(!1,l),S=Sc(!1,n);return e?Pl(a,S).exists(function(A){return A.isEqual(p)&&n.isEqual(v)}):yc(a,S).exists(function(A){return A.isEqual(v)&&n.isEqual(p)})}).getOr(!0)},tN=function(e,n){return{block:e,position:n}},jg=function(e,n){return{from:e,to:n}},jT=function(e,n){var a=Ge.fromDom(e),i=Ge.fromDom(n.container());return QC(a,i).map(function(l){return tN(l,n)})},nN=function(e){return $a(e.from.block,e.to.block)===!1},rN=function(e){return ro(e.from.block).bind(function(n){return ro(e.to.block).filter(function(a){return $a(n,a)})}).isSome()},aN=function(e){return Va(e.from.block.dom)===!1&&Va(e.to.block.dom)===!1},oN=function(e,n,a){return wa(a.position.getNode())&&ki(a.block)===!1?sv(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?Hu(n,e,i).bind(function(l){return jT(e,l)}):te.some(a)}).getOr(a):a},iN=function(e,n,a){var i=jT(e,mt.fromRangeStart(a)),l=i.bind(function(v){return Hu(n,e,v.position).bind(function(p){return jT(e,p).map(function(S){return oN(e,n,S)})})});return eu(i,l,jg).filter(function(v){return nN(v)&&rN(v)&&aN(v)})},uN=function(e,n,a){return a.collapsed?iN(e,n,a):te.none()},sN=function(e){var n=Qi(e);return pn(n,Ts).fold(j(n),function(a){return n.slice(0,a)})},t$=function(e){var n=sN(e);return Le(n,vo),n},n$=function(e,n){var a=wc(n,e);return rn(a.reverse(),function(i){return ki(i)}).each(vo)},lN=function(e){return ut(Kr(e),function(n){return!ki(n)}).length===0},cN=function(e,n,a,i){if(ki(a))return df(a),ou(a.dom);lN(i)&&ki(n)&&_i(i,Ge.fromTag("br"));var l=yc(a.dom,mt.before(i.dom));return Le(t$(n),function(v){_i(i,v)}),n$(e,n),l},e_=function(e,n,a){if(ki(a))return vo(a),ki(n)&&df(n),ou(n.dom);var i=ol(a.dom);return Le(t$(n),function(l){Ho(a,l)}),n$(e,n),i},fN=function(e,n){var a=wc(n,e);return te.from(a[a.length-1])},GT=function(e,n){return Fi(n,e)?fN(n,e):te.none()},r$=function(e,n){sv(e,n.dom).map(function(a){return a.getNode()}).map(Ge.fromDom).filter(xh).each(vo)},a$=function(e,n,a){return r$(!0,n),r$(!1,a),GT(n,a).fold(le(e_,e,n,a),le(cN,e,n,a))},o$=function(e,n,a,i){return n?a$(e,i,a):a$(e,a,i)},Qk=function(e,n){var a=Ge.fromDom(e.getBody()),i=uN(a.dom,n,e.selection.getRng()).bind(function(l){return o$(a,n,l.from.block,l.to.block)});return i.each(function(l){e.selection.setRng(l.toRange())}),i.isSome()},$1=function(e,n){var a=n.getRng();return eu(QC(e,Ge.fromDom(a.startContainer)),QC(e,Ge.fromDom(a.endContainer)),function(i,l){return $a(i,l)===!1?(a.deleteContents(),o$(e,!0,i,l).each(function(v){n.setRng(v.toRange())}),!0):!1}).getOr(!1)},Gg=function(e,n){var a=Ge.fromDom(n),i=le($a,e);return zv(a,uc,i).isSome()},e3=function(e,n){return Gg(e,n.startContainer)||Gg(e,n.endContainer)},t3=function(e,n){var a=yc(e.dom,mt.fromRangeStart(n)).isNone(),i=Pl(e.dom,mt.fromRangeEnd(n)).isNone();return!e3(e,n)&&a&&i},B1=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},M1=function(e){var n=Ge.fromDom(e.getBody()),a=e.selection.getRng();return t3(n,a)?B1(e):$1(n,e.selection)},P1=function(e,n){return e.selection.isCollapsed()?!1:M1(e)},n3=kl,i$=Va,yv=function(e,n,a,i,l){return te.from(n._selectionOverrides.showCaret(e,a,i,l))},qT=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},I1=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?te.none():te.some(qT(n))},KT=function(e,n,a){var i=Ki(1,e.getBody(),n),l=mt.fromRangeStart(i),v=l.getNode();if(ng(v))return yv(1,e,v,!l.isAtEnd(),!1);var p=l.getNode(!0);if(ng(p))return yv(1,e,p,!1,!1);var S=e.dom.getParent(l.getNode(),function(A){return i$(A)||n3(A)});return ng(S)?yv(1,e,S,!1,a):te.none()},qg=function(e,n,a){return n.collapsed?KT(e,n,a).getOr(n):n},u$=function(e){return Fl(e)||Eg(e)},s$=function(e){return _d(e)||Tg(e)},l$=function(e,n){gn(n)&&n.data.length===0&&e.remove(n)},t_=function(e,n,a,i,l,v){return yv(i,e,v.getNode(!l),l,!0).each(function(p){if(n.collapsed){var S=n.cloneRange();l?S.setEnd(p.startContainer,p.startOffset):S.setStart(p.endContainer,p.endOffset),S.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),l$(e.dom,a),!0},c$=function(e,n){var a=e.selection.getRng();if(!gn(a.commonAncestorContainer))return!1;var i=n?Ri.Forwards:Ri.Backwards,l=ho(e.getBody()),v=le(ww,n?l.next:l.prev),p=n?u$:s$,S=sg(i,e.getBody(),a),A=Sc(n,v(S));if(!A||!A0(S,A))return!1;if(p(A))return t_(e,a,S.getNode(),i,n,A);var N=v(A);return N&&p(N)&&A0(A,N)?t_(e,a,S.getNode(),i,n,N):!1},n_=function(e,n){return c$(e,n)},f$=function(e){return uc(Ge.fromDom(e))||Wi(Ge.fromDom(e))},fl=Mn.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),$m=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return Zn(a)&&a.getAttribute("data-mce-caret")===i},v$=function(e,n,a,i){var l=function(v){return tu(Ge.fromDom(v))&&!pc(a,i,e)};return ug(!n,a).fold(function(){return ug(n,i).fold(at,l)},l)},XT=function(e,n,a,i){var l=i.getNode(n===!1);return QC(Ge.fromDom(e),Ge.fromDom(a.getNode())).map(function(v){return ki(v)?fl.remove(v.dom):fl.moveToElement(l)}).orThunk(function(){return te.some(fl.moveToElement(l))})},Bm=function(e,n,a){return Hu(n,e,a).bind(function(i){return f$(i.getNode())||v$(e,n,a,i)?te.none():n&&Va(i.getNode())||n===!1&&Va(i.getNode(!0))?XT(e,n,a,i):n&&_d(a)||n===!1&&Fl(a)?te.some(fl.moveToPosition(i)):te.none()})},yf=function(e,n){return e&&Va(n.nextSibling)?te.some(fl.moveToElement(n.nextSibling)):e===!1&&Va(n.previousSibling)?te.some(fl.moveToElement(n.previousSibling)):te.none()},vN=function(e,n,a){return a.fold(function(i){return te.some(fl.remove(i))},function(i){return te.some(fl.moveToElement(i))},function(i){return pc(n,i,e)?te.none():te.some(fl.moveToPosition(i))})},dN=function(e,n,a){return $m(n,a)?yf(n,a.getNode(n===!1)).fold(function(){return Bm(e,n,a)},te.some):Bm(e,n,a).bind(function(i){return vN(e,a,i)})},mN=function(e,n,a){var i=Ki(n?1:-1,e,a),l=mt.fromRangeStart(i),v=Ge.fromDom(e);return n===!1&&_d(l)?te.some(fl.remove(l.getNode(!0))):n&&Fl(l)?te.some(fl.remove(l.getNode())):n===!1&&Fl(l)&&$g(v,l)?OE(v,l).map(function(p){return fl.remove(p.getNode())}):n&&_d(l)&&Rg(v,l)?er(v,l).map(function(p){return fl.remove(p.getNode())}):dN(e,n,l)},hN=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),On(e,n,Ge.fromDom(a)),!0}},gN=function(e,n){return function(a){var i=n?mt.before(a):mt.after(a);return e.selection.setRng(i.toRange()),!0}},pN=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},d$=function(e,n){return te.from(bm(e.getBody(),n))},bN=function(e,n){var a=e.selection.getNode();return d$(e,a).filter(Va).fold(function(){return mN(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(hN(e,n),gN(e,n),pN(e))})},ot)},yN=function(e){Le(Oi(e,".mce-offscreen-selection"),vo)},wN=function(e,n){var a=e.selection.getNode();if(Va(a)&&!ph(a)){var i=d$(e,a.parentNode).filter(Va);return i.fold(function(){return yN(Ge.fromDom(e.getBody())),On(e,n,Ge.fromDom(e.selection.getNode())),WT(e),!0},ot)}return!1},m$=function(e){var n=e.dom,a=e.selection,i=bm(e.getBody(),a.getNode());if(kl(i)&&n.isBlock(i)&&n.isEmpty(i)){var l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(l),a.setRng(mt.before(l).toRange())}return!0},r3=function(e,n){return e.selection.isCollapsed()?bN(e,n):wN(e,n)},YT=function(e,n){var a=mt.fromRangeStart(e.selection.getRng());return Hu(n,e.getBody(),a).filter(function(i){return n?EE(i):yC(i)}).bind(function(i){return te.from(S0(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},Ry=function(e,n){return e.selection.isCollapsed()?YT(e,n):!1},N1=gn,h$=function(e){return N1(e)&&e.data[0]===He},g$=function(e){return N1(e)&&e.data[e.data.length-1]===He},JT=function(e){return e.ownerDocument.createTextNode(He)},p$=function(e){if(N1(e.previousSibling))return g$(e.previousSibling)||e.previousSibling.appendData(He),e.previousSibling;if(N1(e))return h$(e)||e.insertData(0,He),e;var n=JT(e);return e.parentNode.insertBefore(n,e),n},ZT=function(e){if(N1(e.nextSibling))return h$(e.nextSibling)||e.nextSibling.insertData(0,He),e.nextSibling;if(N1(e))return g$(e)||e.appendData(He),e;var n=JT(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},r_=function(e,n){return e?p$(n):ZT(n)},b$=le(r_,!0),QT=le(r_,!1),y$=function(e,n){return gn(e.container())?r_(n,e.container()):r_(n,e.getNode())},w$=function(e,n){var a=n.get();return a&&e.container()===a&&Ta(a)},wf=function(e,n){return n.fold(function(a){ud(e.get());var i=b$(a);return e.set(i),te.some(mt(i,i.length-1))},function(a){return ou(a).map(function(i){if(w$(i,e))return mt(e.get(),1);ud(e.get());var l=y$(i,!0);return e.set(l),mt(l,1)})},function(a){return ol(a).map(function(i){if(w$(i,e))return mt(e.get(),e.get().length-1);ud(e.get());var l=y$(i,!1);return e.set(l),mt(l,l.length-1)})},function(a){ud(e.get());var i=QT(a);return e.set(i),te.some(mt(i,1))})},xc=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return te.none()},su=Mn.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),eO=function(e,n){var a=gc(n,e);return a||e},a3=function(e,n,a){var i=ZR(a),l=eO(n,i.container());return Wg(e,l,i).fold(function(){return Pl(l,i).bind(le(Wg,e,l)).map(function(v){return su.before(v)})},te.none)},C$=function(e,n){return dm(e,n)===null},tO=function(e,n,a){return Wg(e,n,a).filter(le(C$,n))},_$=function(e,n,a){var i=QR(a);return tO(e,n,i).bind(function(l){var v=yc(l,i);return v.isNone()?te.some(su.start(l)):te.none()})},S$=function(e,n,a){var i=ZR(a);return tO(e,n,i).bind(function(l){var v=Pl(l,i);return v.isNone()?te.some(su.end(l)):te.none()})},x$=function(e,n,a){var i=QR(a),l=eO(n,i.container());return Wg(e,l,i).fold(function(){return yc(l,i).bind(le(Wg,e,l)).map(function(v){return su.after(v)})},te.none)},nO=function(e){return UT($y(e))===!1},kc=function(e,n,a){var i=xc([a3,_$,S$,x$],[e,n,a]);return i.filter(nO)},$y=function(e){return e.fold(ke,ke,ke,ke)},o3=function(e){return e.fold(j("before"),j("start"),j("end"),j("after"))},i3=function(e){return e.fold(su.before,su.before,su.after,su.after)},rO=function(e){return e.fold(su.start,su.start,su.end,su.end)},CN=function(e,n){return o3(e)===o3(n)&&$y(e)===$y(n)},_N=function(e,n,a,i,l,v){return eu(Wg(n,a,i),Wg(n,a,l),function(p,S){return p!==S&&ZI(a,p,S)?su.after(e?p:S):v}).getOr(v)},k$=function(e,n){return e.fold(ot,function(a){return!CN(a,n)})},SN=function(e,n,a,i,l){var v=Sc(e,l),p=Hu(e,a,v).map(le(Sc,e)),S=p.fold(function(){return i.map(i3)},function(A){return kc(n,a,A).map(le(_N,e,n,a,v,A)).filter(le(k$,i))});return S.filter(nO)},xN=function(e,n){return e?n.fold(Ue(te.some,su.start),te.none,Ue(te.some,su.after),te.none):n.fold(te.none,Ue(te.some,su.before),te.none,Ue(te.some,su.end))},a_=function(e,n,a,i){var l=Sc(e,i),v=kc(n,a,l);return kc(n,a,l).bind(le(xN,e)).orThunk(function(){return SN(e,n,a,v,i)})};le(a_,!1),le(a_,!0);var kN=function(e){return se(e.selection.getSel().modify)},A$=function(e,n,a){var i=e?1:-1;return n.setRng(mt(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},AN=function(e,n){var a=n.selection.getRng(),i=e?mt.fromRangeEnd(a):mt.fromRangeStart(a);return kN(n)?e&&zn(i)?A$(!0,n.selection,i):!e&&_b(i)?A$(!1,n.selection,i):!1:!1},Ad;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Ad||(Ad={}));var u3=function(e,n){return e===Ri.Backwards?ir(n):n},EN=function(e,n,a){return e===Ri.Forwards?n.next(a):n.prev(a)},TN=function(e,n,a,i){return wa(i.getNode(n===Ri.Forwards))?Ad.Br:pc(a,i)===!1?Ad.Block:Ad.Wrap},o_=function(e,n,a,i){for(var l=ho(a),v=i,p=[];v;){var S=EN(n,l,v);if(!S)break;if(wa(S.getNode(!1)))return n===Ri.Forwards?{positions:u3(n,p).concat([S]),breakType:Ad.Br,breakAt:te.some(S)}:{positions:u3(n,p),breakType:Ad.Br,breakAt:te.some(S)};if(!S.isVisible()){v=S;continue}if(e(v,S)){var A=TN(a,n,v,S);return{positions:u3(n,p),breakType:A,breakAt:te.some(S)}}p.push(S),v=S}return{positions:u3(n,p),breakType:Ad.Eol,breakAt:te.none()}},i_=function(e,n,a,i){return n(a,i).breakAt.map(function(l){var v=n(a,l).positions;return e===Ri.Backwards?v.concat(l):[l].concat(v)}).getOr([])},u_=function(e,n){return Rt(e,function(a,i){return a.fold(function(){return te.some(i)},function(l){return eu(da(l.getClientRects()),da(i.getClientRects()),function(v,p){var S=Math.abs(n-v.left),A=Math.abs(n-p.left);return A<=S?i:l}).or(a)})},te.none())},E$=function(e,n){return da(n.getClientRects()).bind(function(a){return u_(e,a.left)})},s_=le(o_,mt.isAbove,-1),l_=le(o_,mt.isBelow,1),ON=le(i_,-1,s_),T$=le(i_,1,l_),DN=function(e,n){return s_(e,n).breakAt.isNone()},RN=function(e,n){return l_(e,n).breakAt.isNone()},aO=function(e){return ou(e).map(function(n){return[n].concat(l_(e,n).positions)}).getOr([])},$N=function(e){return ol(e).map(function(n){return s_(e,n).positions.concat(n)}).getOr([])},BN=function(e){var n=function(i){return et(i,function(l){var v=rd(l);return v.node=e,v})};if(Zn(e))return n(e.getClientRects());if(gn(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},oO=function(e){return fr(e,BN)},z1;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(z1||(z1={}));var MN=function(e,n,a,i){for(;i=ld(i,e,Po,n);)if(a(i))return},O$=function(e,n,a,i,l,v){var p=0,S=[],A=function(J){var Q=oO([J]);e===-1&&(Q=Q.reverse());for(var fe=0;fe<Q.length;fe++){var de=Q[fe];if(!a(de,N)){if(S.length>0&&n(de,Ks(S))&&p++,de.line=p,l(de))return!0;S.push(de)}}},N=Ks(v.getClientRects());if(!N)return S;var X=v.getNode();return A(X),MN(e,i,A,X),S},PN=function(e,n){return n.line>e},s3=function(e,n){return n.line===e},l3=le(O$,z1.Up,Vh,Uh),IN=le(O$,z1.Down,Uh,Vh),NN=function(e,n,a,i){var l=ho(n),v,p,S,A,N=[],X=0,J=function(he){return Ks(he.getClientRects())};e===1?(v=l.next,p=Uh,S=Vh,A=mt.after(i)):(v=l.prev,p=Vh,S=Uh,A=mt.before(i));var Q=J(A);do if(A.isVisible()){var fe=J(A);if(!S(fe,Q)){N.length>0&&p(fe,Ks(N))&&X++;var de=rd(fe);if(de.position=A,de.line=X,a(de))return N;N.push(de)}}while(A=v(A));return N},c_=function(e){return function(n){return PN(e,n)}},iO=function(e){return function(n){return s3(e,n)}},zN=Va,D$=ld,uO=function(e,n){return Math.abs(e.left-n)},sO=function(e,n){return Math.abs(e.right-n)},R$=function(e,n){return e>=n.left&&e<=n.right},FN=function(e,n){return e>=n.top&&e<=n.bottom},LN=function(e){return Gs(e,"node")},c3=function(e,n,a){return a===void 0&&(a=ot),Rf(e,function(i,l){if(R$(n,l))return a(l)?l:i;if(R$(n,i))return a(i)?i:l;var v=Math.min(uO(i,n),sO(i,n)),p=Math.min(uO(l,n),sO(l,n));return p===v&&LN(l)&&zN(l.node)||p<v?l:i})},$$=function(e,n,a,i,l){var v=D$(i,e,Po,n,!l);do if(!v||a(v))return;while(v=D$(v,e,Po,n))},HN=function(e,n,a){a===void 0&&(a=!0);var i=[],l=function(v,p){var S=ut(oO([p]),function(A){return!v(A,n)});return i=i.concat(S),S.length===0};return i.push(n),$$(z1.Up,e,le(l,Vh),n.node,a),$$(z1.Down,e,le(l,Uh),n.node,a),i},VN=function(e){return ut(vr(e.getElementsByTagName("*")),cm)},Cf=function(e,n){return{node:e.node,before:uO(e,n)<sO(e,n)}},lO=function(e,n,a){var i=oO(VN(e)),l=ut(i,le(FN,a)),v=function(A){return!Eo(A.node)&&!Mu(A.node)},p=c3(l,n,v);if(p){var S=v(p);if(p=c3(HN(e,p,S),n,v),p&&cm(p.node))return Cf(p,n)}return null},Ed=function(e,n){e.selection.setRng(n),f1(e,e.selection.getRng())},f3=function(e,n,a){return te.some(qg(e,n,a))},B$=function(e,n,a,i,l,v){var p=n===Ri.Forwards,S=ho(e.getBody()),A=le(ww,p?S.next:S.prev),N=p?i:l;if(!a.collapsed){var X=am(a);if(v(X))return yv(n,e,X,n===Ri.Backwards,!1)}var J=sg(n,e.getBody(),a);if(N(J))return I1(e,J.getNode(!p));var Q=Sc(p,A(J)),fe=Wc(a);if(!Q)return fe?te.some(a):te.none();if(N(Q))return yv(n,e,Q.getNode(!p),p,!1);var de=A(Q);return de&&N(de)&&A0(Q,de)?yv(n,e,de.getNode(!p),p,!1):fe?f3(e,Q.toRange(),!1):te.none()},cO=function(e,n,a,i,l,v){var p=sg(n,e.getBody(),a),S=Ks(p.getClientRects()),A=n===z1.Down;if(!S)return te.none();var N=A?IN:l3,X=N(e.getBody(),c_(1),p),J=ut(X,iO(1)),Q=S.left,fe=c3(J,Q);if(fe&&v(fe.node)){var de=Math.abs(Q-fe.left),he=Math.abs(Q-fe.right);return yv(n,e,fe.node,de<he,!1)}var pe;if(i(p)?pe=p.getNode():l(p)?pe=p.getNode(!0):pe=am(a),pe){var Oe=NN(n,e.getBody(),c_(1),pe),xe=c3(ut(Oe,iO(1)),Q);if(xe||(xe=Ks(ut(Oe,iO(0))),xe))return f3(e,xe.position.toRange(),!1)}return J.length===0?fO(e,A).filter(A?l:i).map(function(Xe){return qg(e,Xe.toRange(),!1)}):te.none()},fO=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var l=mt.fromRangeEnd(a),v=l_(i,l);return Ur(v.positions)}else{var l=mt.fromRangeStart(a),v=s_(i,l);return da(v.positions)}},vO=function(e,n,a){return fO(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},v3=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},M$=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},P$=function(e,n,a){return wf(n,a).map(function(i){return v3(e,i),a})},By=function(e,n,a){var i=e.getBody(),l=mt.fromRangeStart(e.selection.getRng()),v=le(Ug,e),p=a_(a,v,i,l);return p.bind(function(S){return P$(e,n,S)})},I$=function(e,n,a){var i=et(Oi(Ge.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(p){return p.dom}),l=ut(i,e),v=ut(a,e);Le(ua(l,v),le(M$,!1)),Le(ua(v,l),le(M$,!0))},N$=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=mt.fromRangeStart(e.selection.getRng());mt.isTextPosition(a)&&bf(a)===!1&&(v3(e,WS(n.get(),a)),n.set(null))}},z$=function(e,n,a,i){if(n.selection.isCollapsed()){var l=ut(i,e);Le(l,function(v){var p=mt.fromRangeStart(n.selection.getRng());kc(e,n.getBody(),p).bind(function(S){return P$(n,a,S)})})}},d3=function(e,n,a){return Zp(e)?By(e,n,a).isSome():!1},F$=function(e,n,a){return Zp(n)?AN(e,n):!1},UN=function(e){var n=yu(null),a=le(Ug,e);return e.on("NodeChange",function(i){Zp(e)&&!(Wn.browser.isIE()&&i.initial)&&(I$(a,e.dom,i.parents),N$(e,n),z$(a,e,n,i.parents))}),n},WN=le(F$,!0),jN=le(F$,!1),m3=function(e,n,a){if(Zp(e)){var i=fO(e,n).getOrThunk(function(){var l=e.selection.getRng();return n?mt.fromRangeEnd(l):mt.fromRangeStart(l)});return kc(le(Ug,e),e.getBody(),i).exists(function(l){var v=i3(l);return wf(a,v).exists(function(p){return v3(e,p),!0})})}else return!1},GN=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},wv=function(e){return eu(ou(e),ol(e),function(n,a){var i=Sc(!0,n),l=Sc(!1,a);return Pl(e,i).forall(function(v){return v.isEqual(l)})}).getOr(!0)},L$=function(e,n){return function(a){return wf(n,a).exists(function(i){return v3(e,i),!0})}},H$=function(e,n,a,i){var l=e.getBody(),v=le(Ug,e);e.undoManager.ignore(function(){e.selection.setRng(GN(a,i)),e.execCommand("Delete"),kc(v,l,mt.fromRangeStart(e.selection.getRng())).map(rO).map(L$(e,n))}),e.nodeChanged()},qN=function(e,n){var a=gc(n,e);return a||e},KN=function(e,n,a,i){var l=qN(e.getBody(),i.container()),v=le(Ug,e),p=kc(v,l,i);return p.bind(function(S){return a?S.fold(j(te.some(rO(S))),te.none,j(te.some(i3(S))),te.none):S.fold(te.none,j(te.some(i3(S))),te.none,j(te.some(rO(S))))}).map(L$(e,n)).getOrThunk(function(){var S=bc(a,l,i),A=S.bind(function(N){return kc(v,l,N)});return eu(p,A,function(){return Wg(v,l,i).exists(function(N){return wv(N)?(On(e,a,Ge.fromDom(N)),!0):!1})}).orThunk(function(){return A.bind(function(N){return S.map(function(X){return a?H$(e,n,i,X):H$(e,n,X,i),!0})})}).getOr(!1)})},h3=function(e,n,a){if(e.selection.isCollapsed()&&Zp(e)){var i=mt.fromRangeStart(e.selection.getRng());return KN(e,n,a,i)}return!1},XN=function(e,n){var a=wc(n,e);return pn(a,Ts).fold(j(a),function(i){return a.slice(0,i)})},YN=function(e){return gb(e)===1},Kg=function(e,n,a,i){var l=le(V6,n),v=et(ut(i,l),function(S){return S.dom});if(v.length===0)On(n,e,a);else{var p=Cy(a.dom,v);n.selection.setRng(p.toRange())}},JN=function(e,n){var a=Ge.fromDom(e.getBody()),i=Ge.fromDom(e.selection.getStart()),l=ut(XN(a,i),YN);return Ur(l).exists(function(v){var p=mt.fromRangeStart(e.selection.getRng());return eN(n,p,v.dom)&&!U6(v)?(Kg(n,e,v,l),!0):!1})},g3=function(e,n){return e.selection.isCollapsed()?JN(e,n):!1},p3=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),On(e,n,Ge.fromDom(a)),!0},dO=function(e,n){var a=n?Eg:Tg,i=n?Ri.Forwards:Ri.Backwards,l=sg(i,e.getBody(),e.selection.getRng());return a(l)?p3(e,n,l.getNode(!n)):te.from(Sc(n,l)).filter(function(v){return a(v)&&A0(l,v)}).exists(function(v){return p3(e,n,v.getNode(!n))})},ZN=function(e,n){var a=e.selection.getNode();return Mu(a)?p3(e,n,a):!1},b3=function(e,n){return e.selection.isCollapsed()?dO(e,n):ZN(e,n)},QN=function(e){return Ch(e,function(n){return kl(n.dom)||Va(n.dom)}).exists(function(n){return kl(n.dom)})},Mm=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},V$=function(e,n){var a=e||OA(n)?"margin":"padding",i=pr(n,"direction")==="rtl"?"-right":"-left";return a+i},ez=function(e,n,a,i,l,v){var p=V$(a,Ge.fromDom(v));if(n==="outdent"){var S=Math.max(0,Mm(v.style[p])-i);e.setStyle(v,p,S?S+l:"")}else{var S=Mm(v.style[p])+i+l;e.setStyle(v,p,S)}},tz=function(e,n){return qr(n,function(a){var i=V$(RS(e),a),l=xi(a,i).map(Mm).getOr(0),v=e.dom.getContentEditable(a.dom);return v!=="false"&&l>0})},U$=function(e){var n=hO(e);return!e.mode.isReadOnly()&&(n.length>1||tz(e,n))},y3=function(e){return Tl(e)||Wi(e)},mO=function(e){return ro(e).exists(y3)},hO=function(e){return ut(ei(e.selection.getSelectedBlocks()),function(n){return!y3(n)&&!mO(n)&&QN(n)})},gO=function(e,n){var a=e.dom,i=e.selection,l=e.formatter,v=uw(e),p=/[a-z%]+$/i.exec(v)[0],S=parseInt(v,10),A=RS(e),N=Di(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&N===""&&!a.getParent(i.getNode(),a.isBlock)&&l.apply("div"),Le(hO(e),function(X){ez(a,n,A,S,p,X.dom)})},pO=function(e,n){if(e.selection.isCollapsed()&&U$(e)){var a=e.dom,i=e.selection.getRng(),l=mt.fromRangeStart(i),v=a.getParent(i.startContainer,a.isBlock);if(v!==null&&sr(Ge.fromDom(v),l))return gO(e,"outdent"),!0}return!1},W$=function(e,n){e.getDoc().execCommand(n,!1,null)},f_=function(e,n){if(!pO(e)){if(r3(e,!1))return;if(n_(e,!1))return;if(h3(e,n,!1))return;if(Qk(e,!1))return;if(Ck(e))return;if(Ry(e,!1))return;if(b3(e,!1))return;if(P1(e))return;if(g3(e,!1))return;W$(e,"Delete"),WT(e)}},nz=function(e,n){if(!r3(e,!0)){if(n_(e,!0))return;if(h3(e,n,!0))return;if(Qk(e,!0))return;if(Ck(e))return;if(Ry(e,!0))return;if(b3(e,!0))return;if(P1(e))return;if(g3(e,!0))return;W$(e,"ForwardDelete")}},rz=function(e,n){e.addCommand("delete",function(){f_(e,n)}),e.addCommand("forwardDelete",function(){nz(e,n)})},j$=5,My=400,G$=function(e){return e.touches===void 0||e.touches.length!==1?te.none():te.some(e.touches[0])},Pm=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>j$||i>j$},az=function(e){var n=nd(),a=yu(!1),i=Qo(function(l){e.fire("longpress",qn(qn({},l),{type:"longpress"})),a.set(!0)},My);e.on("touchstart",function(l){G$(l).each(function(v){i.cancel();var p={x:v.clientX,y:v.clientY,target:l.target};i.throttle(l),a.set(!1),n.set(p)})},!0),e.on("touchmove",function(l){i.cancel(),G$(l).each(function(v){n.on(function(p){Pm(v,p)&&(n.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(l){i.cancel(),l.type!=="touchcancel"&&n.get().filter(function(v){return v.target.isEqualNode(l.target)}).each(function(){a.get()?l.preventDefault():e.fire("tap",qn(qn({},l),{type:"tap"}))})},!0)},v_=function(e,n){return Dr(e,n.nodeName)},bO=function(e,n){return gn(n)?!0:Zn(n)?!v_(e,n)&&!Vu(n):!1},oz=function(e,n,a){return Ze(w1(Ge.fromDom(a),Ge.fromDom(n)),function(i){return v_(e,i.dom)})},iz=function(e,n){if(gn(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||v_(e,n.nextSibling)))return!0}return!1},uz=function(e){var n=e.dom,a=e.selection,i=e.schema,l=i.getBlockElements(),v=a.getStart(),p=e.getBody(),S,A,N,X=Di(e);if(!(!v||!Zn(v)||!X)){var J=p.nodeName.toLowerCase();if(!(!i.isValidChild(J,X.toLowerCase())||oz(l,p,v))){var Q=a.getRng(),fe=Q.startContainer,de=Q.startOffset,he=Q.endContainer,pe=Q.endOffset,Oe=sl(e);for(v=p.firstChild;v;)if(bO(l,v)){if(iz(l,v)){A=v,v=v.nextSibling,n.remove(A);continue}S||(S=n.create(X,Kh(e)),v.parentNode.insertBefore(S,v),N=!0),A=v,v=v.nextSibling,S.appendChild(A)}else S=null,v=v.nextSibling;N&&Oe&&(Q.setStart(fe,de),Q.setEnd(he,pe),a.setRng(Q),e.nodeChanged())}}},q$=function(e){Di(e)&&e.on("NodeChange",le(uz,e))},sz=function(e){return _h(Ge.fromDom(e.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull()},lz=function(e){e.selection.setRng(e.selection.getRng())},K$=function(e,n){n.hasAttribute("data-mce-caret")&&(v2(n),lz(e),e.selection.scrollIntoView(n))},cz=function(e,n){var a=sz(e);if(a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),K$(e,a);return}Jf(a)&&(K$(e,a),e.undoManager.add())}},X$=function(e){e.on("keyup compositionstart",le(cz,e))},Y$=Va,F1=function(e,n,a){return B$(n,e,a,Fl,_d,Y$)},fz=function(e,n,a){var i=function(v){return Fl(v)||uk(v)},l=function(v){return _d(v)||wC(v)};return cO(n,e,a,i,l,Y$)},d_=function(e){var n=e.dom.create(Di(e));return(!Wn.ie||Wn.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},yO=function(e,n,a){var i=ho(e.getBody()),l=le(ww,n===1?i.next:i.prev);if(a.collapsed&&y4(e)){var v=e.dom.getParent(a.startContainer,"PRE");if(!v)return;var p=l(mt.fromRangeStart(a));if(!p){var S=d_(e);n===1?e.$(v).after(S):e.$(v).before(S),e.selection.select(S,!0),e.selection.collapse()}}},wO=function(e,n){var a=n?Ri.Forwards:Ri.Backwards,i=e.selection.getRng();return F1(a,e,i).orThunk(function(){return yO(e,a,i),te.none()})},CO=function(e,n){var a=n?1:-1,i=e.selection.getRng();return fz(a,e,i).orThunk(function(){return yO(e,a,i),te.none()})},J$=function(e,n){return wO(e,n).exists(function(a){return Ed(e,a),!0})},Z$=function(e,n){return CO(e,n).exists(function(a){return Ed(e,a),!0})},Q$=function(e,n){var a=n?_d:Fl;return vO(e,n,a)},_O=function(e){return Ae(["figcaption"],ko(e))},eB=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},tB=function(e,n,a){a?Ho(e,n):Qs(e,n)},vz=function(e,n){var a=Ge.fromTag("br");return tB(e,a,n),eB(a)},dz=function(e,n,a,i){var l=Ge.fromTag(a),v=Ge.fromTag("br");return Y(l,i),Ho(l,v),tB(e,l,n),eB(v)},nB=function(e,n,a,i){return n===""?vz(e,i):dz(e,i,n,a)},mz=function(e,n){var a=le($a,n);return Ch(Ge.fromDom(e.container()),Ts,a).filter(_O)},hz=function(e,n,a){return n?RN(e.dom,a):DN(e.dom,a)},gz=function(e,n){var a=Ge.fromDom(e.getBody()),i=mt.fromRangeStart(e.selection.getRng()),l=Di(e),v=Kh(e);return mz(i,a).exists(function(){if(hz(a,n,i)){var p=nB(a,l,v,n);return e.selection.setRng(p),!0}else return!1})},rB=function(e,n){return e.selection.isCollapsed()?gz(e,n):!1},pz=function(e){return et(e,function(n){return qn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Ee},n)})},bz=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},yz=function(e,n){return fr(pz(e),function(a){return bz(a,n)?[a]:[]})},Fr=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},L1=function(e,n){return rn(yz(e,n),function(a){return a.action()})},aB=function(e,n){var a=n?Ri.Forwards:Ri.Backwards,i=e.selection.getRng();return B$(e,a,i,Eg,Tg,Mu).exists(function(l){return Ed(e,l),!0})},SO=function(e,n){var a=n?1:-1,i=e.selection.getRng();return cO(e,a,i,Eg,Tg,Mu).exists(function(l){return Ed(e,l),!0})},oB=function(e,n){var a=n?Tg:Eg;return vO(e,n,a)},wz=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},Cz=function(e,n){return fr(n,function(a){var i=wz(rd(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},_z=function(e,n,a){return Rt(e,function(i,l){return i.fold(function(){return te.some(l)},function(v){var p=Math.sqrt(Math.abs(v.x-n)+Math.abs(v.y-a)),S=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-a));return te.some(S<p?l:v)})},te.none())},iB=function(e,n,a,i,l){var v=Oi(Ge.fromDom(a),"td,th,caption").map(function(S){return S.dom}),p=ut(Cz(e,v),function(S){return n(S,l)});return _z(p,i,l).map(function(S){return S.cell})},Sz=function(e){return e.bottom},xz=function(e){return e.top},kz=function(e,n){return e.y<n},Az=function(e,n){return e.y>n},Ez=le(iB,Sz,kz),Tz=le(iB,xz,Az),Oz=function(e,n){return da(n.getClientRects()).bind(function(a){return Ez(e,a.left,a.top)}).bind(function(a){return E$($N(a),n)})},Dz=function(e,n){return Ur(n.getClientRects()).bind(function(a){return Tz(e,a.left,a.top)}).bind(function(a){return E$(aO(a),n)})},uB=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},Rz=function(e){return e.breakType===Ad.Wrap&&e.positions.length===0},$z=function(e){return e.breakType===Ad.Br&&e.positions.length===1},xO=function(e,n,a){var i=e(n,a);return Rz(i)||!wa(a.getNode())&&$z(i)?!uB(e,n,i):i.breakAt.isNone()},sB=le(xO,s_),w3=le(xO,l_),lB=function(e,n,a){var i=mt.fromRangeStart(n);return sv(!e,a).exists(function(l){return l.isEqual(i)})},kO=function(e,n,a,i){var l=e.selection.getRng(),v=n?1:-1;return pw()&&lB(n,l,a)?(yv(v,e,a,!n,!1).each(function(p){Ed(e,p)}),!0):!1},AO=function(e,n,a){return Oz(n,a).orThunk(function(){return da(a.getClientRects()).bind(function(i){return u_(ON(e,mt.before(n)),i.left)})}).getOr(mt.before(n))},cB=function(e,n,a){return Dz(n,a).orThunk(function(){return da(a.getClientRects()).bind(function(i){return u_(T$(e,mt.after(n)),i.left)})}).getOr(mt.after(n))},fB=function(e,n){var a=n.getNode(e);return Zn(a)&&a.nodeName==="TABLE"?te.some(a):te.none()},vB=function(e,n,a,i){var l=Di(n);l?n.undoManager.transact(function(){var v=Ge.fromTag(l);Y(v,Kh(n)),Ho(v,Ge.fromTag("br")),e?Nv(Ge.fromDom(a),v):_i(Ge.fromDom(a),v);var p=n.dom.createRng();p.setStart(v.dom,0),p.setEnd(v.dom,0),Ed(n,p)}):Ed(n,i.toRange())},H1=function(e,n,a){var i=fB(!!n,a),l=n===!1;i.fold(function(){return Ed(e,a.toRange())},function(v){return sv(l,e.getBody()).filter(function(p){return p.isEqual(a)}).fold(function(){return Ed(e,a.toRange())},function(p){return vB(n,e,v,a)})})},dB=function(e,n,a,i){var l=e.selection.getRng(),v=mt.fromRangeStart(l),p=e.getBody();if(!n&&sB(i,v)){var S=AO(p,a,v);return H1(e,n,S),!0}else if(n&&w3(i,v)){var S=cB(p,a,v);return H1(e,n,S),!0}else return!1},C3=function(e,n,a){return te.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return te.from(e.dom.getParent(i,"table")).map(function(l){return a(e,n,l,i)})}).getOr(!1)},mB=function(e,n){return C3(e,n,kO)},_3=function(e,n){return C3(e,n,dB)},Bz=function(e,n,a){var i=Bn().os;L1([{keyCode:Gn.RIGHT,action:Fr(J$,e,!0)},{keyCode:Gn.LEFT,action:Fr(J$,e,!1)},{keyCode:Gn.UP,action:Fr(Z$,e,!1)},{keyCode:Gn.DOWN,action:Fr(Z$,e,!0)},{keyCode:Gn.RIGHT,action:Fr(mB,e,!0)},{keyCode:Gn.LEFT,action:Fr(mB,e,!1)},{keyCode:Gn.UP,action:Fr(_3,e,!1)},{keyCode:Gn.DOWN,action:Fr(_3,e,!0)},{keyCode:Gn.RIGHT,action:Fr(aB,e,!0)},{keyCode:Gn.LEFT,action:Fr(aB,e,!1)},{keyCode:Gn.UP,action:Fr(SO,e,!1)},{keyCode:Gn.DOWN,action:Fr(SO,e,!0)},{keyCode:Gn.RIGHT,action:Fr(d3,e,n,!0)},{keyCode:Gn.LEFT,action:Fr(d3,e,n,!1)},{keyCode:Gn.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Fr(WN,e,n)},{keyCode:Gn.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Fr(jN,e,n)},{keyCode:Gn.UP,action:Fr(rB,e,!1)},{keyCode:Gn.DOWN,action:Fr(rB,e,!0)}],a).each(function(l){a.preventDefault()})},Mz=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&Bz(e,n,a)})},Pz=function(e,n,a){L1([{keyCode:Gn.BACKSPACE,action:Fr(pO,e,!1)},{keyCode:Gn.BACKSPACE,action:Fr(r3,e,!1)},{keyCode:Gn.DELETE,action:Fr(r3,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(n_,e,!1)},{keyCode:Gn.DELETE,action:Fr(n_,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(h3,e,n,!1)},{keyCode:Gn.DELETE,action:Fr(h3,e,n,!0)},{keyCode:Gn.BACKSPACE,action:Fr(Ck,e,!1)},{keyCode:Gn.DELETE,action:Fr(Ck,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(Ry,e,!1)},{keyCode:Gn.DELETE,action:Fr(Ry,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(b3,e,!1)},{keyCode:Gn.DELETE,action:Fr(b3,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(P1,e,!1)},{keyCode:Gn.DELETE,action:Fr(P1,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(Qk,e,!1)},{keyCode:Gn.DELETE,action:Fr(Qk,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(g3,e,!1)},{keyCode:Gn.DELETE,action:Fr(g3,e,!0)}],a).each(function(i){a.preventDefault()})},Iz=function(e,n){L1([{keyCode:Gn.BACKSPACE,action:Fr(m$,e)},{keyCode:Gn.DELETE,action:Fr(m$,e)}],n)},Nz=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&Pz(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&Iz(e,a)})},zz=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Py=function(e,n){var a,i=n,l=e.dom,v=e.schema.getMoveCaretBeforeOnEnterElements();if(n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var p=zz(n.firstChild);p&&/^(UL|OL|DL)$/.test(p.nodeName)&&n.insertBefore(l.doc.createTextNode(us),n.firstChild)}var S=l.createRng();if(n.normalize(),n.hasChildNodes()){for(var A=new sa(n,n);a=A.current();){if(gn(a)){S.setStart(a,0),S.setEnd(a,0);break}if(v[a.nodeName.toLowerCase()]){S.setStartBefore(a),S.setEndBefore(a);break}i=a,a=A.next()}a||(S.setStart(i,0),S.setEnd(i,0))}else wa(n)?n.nextSibling&&l.isBlock(n.nextSibling)?(S.setStartBefore(n),S.setEndBefore(n)):(S.setStartAfter(n),S.setEndAfter(n)):(S.setStart(n,0),S.setEnd(n,0));e.selection.setRng(S),f1(e,S)}},Iy=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},EO=function(e){return te.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},TO=function(e){return EO(e).fold(j(""),function(n){return n.nodeName.toUpperCase()})},Fz=function(e){return EO(e).filter(function(n){return Wi(Ge.fromDom(n))}).isSome()},hB=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},gB=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},OO=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},DO=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},RO=function(e){return DO(e)&&DO(e.parentNode)},m_=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},S3=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!Zn(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},Lz=function(e,n,a,i,l){var v=e.dom,p=e.selection.getRng();if(a!==e.getBody()){RO(a)&&(l="LI");var S=l?n(l):v.create("BR");if(S3(a,i,!0)&&S3(a,i,!1))if(OO(a,"LI")){var A=m_(a);v.insertAfter(S,A),gB(a)?v.remove(A):v.remove(a)}else v.replace(S,a);else if(S3(a,i,!0))OO(a,"LI")?(v.insertAfter(S,m_(a)),S.appendChild(v.doc.createTextNode(" ")),S.appendChild(a)):a.parentNode.insertBefore(S,a),v.remove(i);else if(S3(a,i,!1))v.insertAfter(S,m_(a)),v.remove(i);else{a=m_(a);var N=p.cloneRange();N.setStartAfter(i),N.setEndAfter(a);var X=N.extractContents();l==="LI"&&hB(X,"LI")?(S=X.firstChild,v.insertAfter(X,a)):(v.insertAfter(X,a),v.insertAfter(S,a)),v.remove(i)}Py(e,S)}},x3=function(e){Le(Hh(Ge.fromDom(e),Xa),function(n){var a=n.dom;a.nodeValue=sc(a.nodeValue)})},Hz=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},Vz=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},$O=function(e){e.innerHTML='<br data-mce-bogus="1">'},k3=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},pB=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},Uz=function(e,n,a){var i=a,l=[],v;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;Zn(i)&&!n[i.nodeName.toLowerCase()]&&l.push(i)}for(v=l.length;v--;)i=l[v],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||Hz(e,i))&&e.remove(i)}},Vs=function(e,n,a){return gn(n)===!1?a:e?a===1&&n.data.charAt(a-1)===He?0:a:a===n.data.length-1&&n.data.charAt(a)===He?n.data.length:a},Wz=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,Vs(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,Vs(!1,e.endContainer,e.endOffset)),n},BO=function(e){do gn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},MO=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},PO=function(e,n,a){var i=e.dom;te.from(a.style).map(i.parseStyle).each(function(A){var N=ao(Ge.fromDom(n)),X=qn(qn({},N),A);i.setStyles(n,X)});var l=te.from(a.class).map(function(A){return A.split(/\s+/)}),v=te.from(n.className).map(function(A){return ut(A.split(/\s+/),function(N){return N!==""})});eu(l,v,function(A,N){var X=ut(N,function(Q){return!Ae(A,Q)}),J=Ou(Ou([],A,!0),X,!0);i.setAttrib(n,"class",J.join(" "))});var p=["style","class"],S=lo(a,function(A,N){return!Ae(p,N)});i.setAttribs(n,S)},h_=function(e,n){var a=Di(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=Kh(e);PO(e,n,i)}},jz=function(e,n,a,i,l){var v,p,S,A,N,X,J=n||"P",Q=e.dom,fe=MO(Q,i);if(p=Q.getParent(i,Q.isBlock),!p||!pB(Q,p)){if(p=p||fe,p===e.getBody()||Vz(p)?X=p.nodeName.toLowerCase():X=p.parentNode.nodeName.toLowerCase(),!p.hasChildNodes())return v=Q.create(J),h_(e,v),p.appendChild(v),a.setStart(v,0),a.setEnd(v,0),v;for(A=i;A.parentNode!==p;)A=A.parentNode;for(;A&&!Q.isBlock(A);)S=A,A=A.previousSibling;if(S&&e.schema.isValidChild(X,J.toLowerCase())){for(v=Q.create(J),h_(e,v),S.parentNode.insertBefore(v,S),A=S;A&&!Q.isBlock(A);)N=A.nextSibling,v.appendChild(A),A=N;a.setStart(i,l),a.setEnd(i,l)}}return i},bB=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},Gz=function(e,n){var a,i,l,v,p,S,A,N,X,J,Q=e.dom,fe=e.schema,de=fe.getNonEmptyElements(),he=e.selection.getRng(),pe=function(St){var Lt=i,jn,mn,Bt,Vn=fe.getTextInlineElements();if(St||N==="TABLE"||N==="HR"?jn=Q.create(St||X):jn=v.cloneNode(!1),Bt=jn,f4(e)===!1)Q.setAttrib(jn,"style",null),Q.setAttrib(jn,"class",null);else do if(Vn[Lt.nodeName]){if(rf(Lt)||Vu(Lt))continue;mn=Lt.cloneNode(!1),Q.setAttrib(mn,"id",""),jn.hasChildNodes()?(mn.appendChild(jn.firstChild),jn.appendChild(mn)):(Bt=mn,jn.appendChild(mn))}while((Lt=Lt.parentNode)&&Lt!==Re);return h_(e,jn),$O(Bt),jn},Oe=function(St){var Lt,jn,mn=Vs(St,i,l);if(gn(i)&&(St?mn>0:mn<i.nodeValue.length))return!1;if(i.parentNode===v&&J&&!St||St&&Zn(i)&&i===v.firstChild)return!0;if(k3(i,"TABLE")||k3(i,"HR"))return J&&!St||!J&&St;var Bt=new sa(i,v);for(gn(i)&&(St&&mn===0?Bt.prev():!St&&mn===i.nodeValue.length&&Bt.next());Lt=Bt.current();){if(Zn(Lt)){if(!Lt.getAttribute("data-mce-bogus")&&(jn=Lt.nodeName.toLowerCase(),de[jn]&&jn!=="br"))return!1}else if(gn(Lt)&&!Ol(Lt.nodeValue))return!1;St?Bt.prev():Bt.next()}return!0},xe=function(){/^(H[1-6]|PRE|FIGURE)$/.test(N)&&Qe!=="HGROUP"?p=pe(X):p=pe(),Xp(e)&&pB(Q,A)&&Q.isEmpty(v)?p=Q.split(A,v):Q.insertAfter(p,v),Py(e,p)};j0(Q,he).each(function(St){he.setStart(St.startContainer,St.startOffset),he.setEnd(St.endContainer,St.endOffset)}),i=he.startContainer,l=he.startOffset,X=Di(e);var Xe=!!(n&&n.shiftKey),je=!!(n&&n.ctrlKey);Zn(i)&&i.hasChildNodes()&&(J=l>i.childNodes.length-1,i=i.childNodes[Math.min(l,i.childNodes.length-1)]||i,J&&gn(i)?l=i.nodeValue.length:l=0);var Re=MO(Q,i);if(Re){(X&&!Xe||!X&&Xe)&&(i=jz(e,X,he,i,l)),v=Q.getParent(i,Q.isBlock),A=v?Q.getParent(v.parentNode,Q.isBlock):null,N=v?v.nodeName.toUpperCase():"";var Qe=A?A.nodeName.toUpperCase():"";if(Qe==="LI"&&!je&&(v=A,A=A.parentNode,N=Qe),/^(LI|DT|DD)$/.test(N)&&Q.isEmpty(v)){Lz(e,pe,A,v,X);return}X&&v===e.getBody()||(X=X||"P",Ca(v)?(p=v2(v),Q.isEmpty(v)&&$O(v),h_(e,p),Py(e,p)):Oe()?xe():Oe(!0)?(p=v.parentNode.insertBefore(pe(),v),Py(e,k3(v,"HR")?p:v)):(a=Wz(he).cloneRange(),a.setEndAfter(v),S=a.extractContents(),x3(S),BO(S),p=S.firstChild,Q.insertAfter(S,v),Uz(Q,de,p),bB(Q,v),Q.isEmpty(v)&&$O(v),p.normalize(),Q.isEmpty(p)?(Q.remove(p),xe()):(h_(e,p),Py(e,p))),Q.setAttrib(p,"id",""),e.fire("NewBlock",{newBlock:p}))}},qz=function(e,n,a){for(var i=new sa(n,a),l,v=e.getNonEmptyElements();l=i.next();)if(v[l.nodeName.toLowerCase()]||l.length>0)return!0},yB=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),f1(e,i)},Kz=function(e,n){var a=e.selection,i=e.dom,l=a.getRng(),v,p;j0(i,l).each(function(de){l.setStart(de.startContainer,de.startOffset),l.setEnd(de.endContainer,de.endOffset)});var S=l.startOffset,A=l.startContainer;if(A.nodeType===1&&A.hasChildNodes()){var N=S>A.childNodes.length-1;A=A.childNodes[Math.min(S,A.childNodes.length-1)]||A,N&&A.nodeType===3?S=A.nodeValue.length:S=0}var X=i.getParent(A,i.isBlock),J=X?i.getParent(X.parentNode,i.isBlock):null,Q=J?J.nodeName.toUpperCase():"",fe=!!(n&&n.ctrlKey);Q==="LI"&&!fe&&(X=J),A&&A.nodeType===3&&S>=A.nodeValue.length&&(qz(e.schema,A,X)||(v=i.create("br"),l.insertNode(v),l.setStartAfter(v),l.setEndAfter(v),p=!0)),v=i.create("br"),u0(i,l,v),yB(e,v,p),e.undoManager.add()},Xz=function(e,n){var a=Ge.fromTag("br");_i(Ge.fromDom(n),a),e.undoManager.add()},Yz=function(e,n){Zz(e.getBody(),n)||Nv(Ge.fromDom(n),Ge.fromTag("br"));var a=Ge.fromTag("br");Nv(Ge.fromDom(n),a),yB(e,a.dom,!1),e.undoManager.add()},Jz=function(e){return wa(e.getNode())},Zz=function(e,n){return Jz(mt.after(n))?!0:Pl(e,mt.after(n)).map(function(a){return wa(a.getNode())}).getOr(!1)},wB=function(e){return e&&e.nodeName==="A"&&"href"in e},Au=function(e){return e.fold(at,wB,wB,at)},Qz=function(e){var n=le(Ug,e),a=mt.fromRangeStart(e.selection.getRng());return kc(n,e.getBody(),a).filter(Au)},eF=function(e,n){n.fold(Ee,le(Xz,e),le(Yz,e),Ee)},CB=function(e,n){var a=Qz(e);a.isSome()?a.each(le(eF,e)):Kz(e,n)},gs=function(e,n){return EO(e).filter(function(a){return n.length>0&&Ql(Ge.fromDom(a),n)}).isSome()},tF=function(e){return gs(e,Xh(e))},_B=function(e){return gs(e,DS(e))},Vl=Mn.generate([{br:[]},{block:[]},{none:[]}]),Ny=function(e,n){return _B(e)},IO=function(e){return function(n,a){var i=Di(n)==="";return i===e}},SB=function(e){return function(n,a){return Fz(n)===e}},A3=function(e,n){return function(a,i){var l=TO(a)===e.toUpperCase();return l===n}},E3=function(e){return A3("pre",e)},nF=function(){return A3("summary",!0)},T3=function(e){return function(n,a){return ow(n)===e}},rF=function(e,n){return tF(e)},g_=function(e,n){return n},xB=function(e){var n=Di(e),a=Iy(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},Us=function(e,n){return function(a,i){var l=Rt(e,function(v,p){return v&&p(a,i)},!0);return l?te.some(n):te.none()}},kB=function(e,n){return xc([Us([Ny],Vl.none()),Us([nF()],Vl.br()),Us([E3(!0),T3(!1),g_],Vl.br()),Us([E3(!0),T3(!1)],Vl.block()),Us([E3(!0),T3(!0),g_],Vl.block()),Us([E3(!0),T3(!0)],Vl.br()),Us([SB(!0),g_],Vl.br()),Us([SB(!0)],Vl.block()),Us([IO(!0),g_,xB],Vl.block()),Us([IO(!0)],Vl.br()),Us([rF],Vl.br()),Us([IO(!1),g_],Vl.br()),Us([xB],Vl.block())],[e,!!(n&&n.shiftKey)]).getOr(Vl.none())},AB=function(e,n){kB(e,n).fold(function(){CB(e,n)},function(){Gz(e,n)},Ee)},aF=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),xP(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),AB(e,n)}))},oF=function(e){e.on("keydown",function(n){n.keyCode===Gn.ENTER&&aF(e,n)})},iF=function(e,n,a){L1([{keyCode:Gn.END,action:Fr(Q$,e,!0)},{keyCode:Gn.HOME,action:Fr(Q$,e,!1)},{keyCode:Gn.END,action:Fr(oB,e,!0)},{keyCode:Gn.HOME,action:Fr(oB,e,!1)},{keyCode:Gn.END,action:Fr(m3,e,!0,n)},{keyCode:Gn.HOME,action:Fr(m3,e,!1,n)}],a).each(function(i){a.preventDefault()})},uF=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&iF(e,n,a)})},NO=Bn().browser,EB=function(e){var n=Xb(function(){e.composing||EC(e)},0);NO.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},TB=function(e){EB(e),e.on("input",function(n){n.isComposing===!1&&EC(e)})},OB=Bn(),sF=function(e,n,a){L1([{keyCode:Gn.PAGE_UP,action:Fr(m3,e,!1,n)},{keyCode:Gn.PAGE_DOWN,action:Fr(m3,e,!0,n)}],a)},DB=function(e){return e.stopImmediatePropagation()},RB=function(e){return e.keyCode===Gn.PAGE_UP||e.keyCode===Gn.PAGE_DOWN},$B=function(e,n,a){a&&!e.get()?n.on("NodeChange",DB,!0):!a&&e.get()&&n.off("NodeChange",DB),e.set(a)},lF=function(e,n){if(!OB.os.isOSX()){var a=yu(!1);e.on("keydown",function(i){RB(i)&&$B(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&sF(e,n,i),RB(i)&&a.get()&&($B(a,e,!1),e.nodeChanged())})}},BB=function(e,n){var a=n.container(),i=n.offset();return gn(a)?(a.insertData(i,e),te.some(mt(a,i+e.length))):k0(n).map(function(l){var v=Ge.fromText(e);return n.isAtEnd()?Nv(l,v):_i(l,v),mt(v.dom,e.length)})},MB=le(BB,us),cF=le(BB," "),fF=function(e){return function(n){return n.fold(function(a){return yc(e.dom,mt.before(a))},function(a){return ou(a)},function(a){return ol(a)},function(a){return Pl(e.dom,mt.after(a))})}},vF=function(e,n){return function(a){return RE(e,a)?MB(n):cF(n)}},dF=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},PB=function(e){var n=mt.fromRangeStart(e.selection.getRng()),a=Ge.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=le(Ug,e),l=mt.fromRangeStart(e.selection.getRng());return kc(i,e.getBody(),l).bind(fF(a)).bind(vF(a,n)).exists(dF(e))}else return!1},mF=function(e,n){L1([{keyCode:Gn.SPACEBAR,action:Fr(PB,e)}],n).each(function(a){n.preventDefault()})},hF=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&mF(e,n)})},gF=function(e){var n=UN(e);return X$(e),Mz(e,n),Nz(e,n),oF(e),hF(e),TB(e),uF(e,n),lF(e,n),n},pF=function(e){return Om(e)?yu(null):gF(e)},IB=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(l){var v=n.selection.getRng(),p={startContainer:v.startContainer,startOffset:v.startOffset,endContainer:v.endContainer,endOffset:v.endOffset};(l.type==="nodechange"||!Xw(p,a))&&n.fire("SelectionChange"),a=p}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var l=n.selection.getStart(!0);!l||!Wn.range&&n.selection.isCollapsed()||dd(n)&&!i.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(l){!l.isDefaultPrevented()&&dd(n)&&(n.selection.getNode().nodeName==="IMG"?Ui.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,l,v;this.editor.initialized&&a&&!w4(this.editor)&&!this.editor.mode.isReadOnly()&&(v=this.editor.getBody(),i=a.getStart(!0)||v,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,v))&&(i=v),l=[],this.editor.dom.getParent(i,function(p){if(p===v)return!0;l.push(p)}),n=n||{},n.element=i,n.parents=l,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),O3=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},NB=function(e){e.parser.addNodeFilter("details",function(n){Le(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){Le(n,function(a){var i=a.attr("data-mce-open");a.attr("open",$e(i)?i:null),a.attr("data-mce-open",null)})})},zB=function(e){O3(e),NB(e)},FB=function(e){return Zn(e)&&Uc(Ge.fromDom(e))},bF=function(e){var n=e.selection.getRng(),a=mt.fromRangeStart(n),i=mt.fromRangeEnd(n);if(mt.isElementPosition(a)){var l=a.container();FB(l)&&ou(l).each(function(v){return n.setStart(v.container(),v.offset())})}if(mt.isElementPosition(i)){var l=a.container();FB(l)&&ol(l).each(function(p){return n.setEnd(p.container(),p.offset())})}e.selection.setRng(LE(n))},zO=function(e){e.on("click",function(n){n.detail>=3&&bF(e)})},LB=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,l=a.defaultView;return{top:n.top+l.pageYOffset-i.clientTop,left:n.left+l.pageXOffset-i.clientLeft}},yF=function(e){return e.inline?LB(e.getBody()):{left:0,top:0}},wF=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},CF=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:l},_f=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=LB(e.getContentAreaContainer()),i=CF(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},HB=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},VB=function(e,n){return HB(yF(e),wF(e),_f(e,n))},D3=Va,_F=kl,SF=function(e,n){return D3(n)&&n!==e},xF=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!D3(n)},kF=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},AF=function(e,n,a,i){var l=e.dom,v=n.cloneNode(!0);l.setStyles(v,{width:a,height:i}),l.setAttrib(v,"data-mce-selected",null);var p=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),l.setStyles(v,{margin:0,boxSizing:"border-box"}),p.appendChild(v),p},EF=function(e,n){e.parentNode!==n&&n.appendChild(e)},FO=function(e,n,a,i,l,v){var p=0,S=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>l&&(p=n.pageX+a-l),n.pageY+i>v&&(S=n.pageY+i-v),e.style.width=a-p+"px",e.style.height=i-S+"px"},UB=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},TF=function(e){return e.button===0},WB=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},OF=function(e,n){return function(a){if(TF(a)){var i=rn(n.dom.getParents(a.target),t4(D3,_F)).getOr(null);if(SF(n.getBody(),i)){var l=n.dom.getPos(i),v=n.getBody(),p=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?v.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?v.scrollHeight:p.offsetHeight)-2,relX:a.pageX-l.x,relY:a.pageY-l.y,width:i.offsetWidth,height:i.offsetHeight,ghost:AF(n,i,i.offsetWidth,i.offsetHeight)})}}}},DF=function(e,n){var a=Ui.throttle(function(i,l){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,l)},0);return n.on("remove",a.stop),function(i){return e.on(function(l){var v=Math.max(Math.abs(i.screenX-l.screenX),Math.abs(i.screenY-l.screenY));if(!l.dragging&&v>10){var p=n.fire("dragstart",{target:l.element});if(p.isDefaultPrevented())return;l.dragging=!0,n.focus()}if(l.dragging){var S=WB(l,VB(n,i));EF(l.ghost,n.getBody()),FO(l.ghost,S,l.width,l.height,l.maxX,l.maxY),a(i.clientX,i.clientY)}})}},RF=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},$F=function(e,n){return function(a){e.on(function(i){if(i.dragging){if(xF(n,RF(n.selection),i.element)){var l=kF(i.element),v=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});v.isDefaultPrevented()||n.undoManager.transact(function(){UB(i.element),n.insertContent(n.dom.getOuterHTML(l)),n._selectionOverrides.hideFakeCaret()})}n.fire("dragend")}}),jB(e)}},BF=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),jB(e)}},jB=function(e){e.on(function(n){UB(n.ghost)}),e.clear()},LO=function(e){var n=nd(),a=Ma.DOM,i=document,l=OF(n,e),v=DF(n,e),p=$F(n,e),S=BF(n,e);e.on("mousedown",l),e.on("mousemove",v),e.on("mouseup",p),a.bind(i,"mousemove",v),a.bind(i,"mouseup",S),e.on("remove",function(){a.unbind(i,"mousemove",v),a.unbind(i,"mouseup",S)}),e.on("keydown",function(A){A.keyCode===Gn.ESC&&S()})},MF=function(e){e.on("drop",function(n){var a=typeof n.clientX<"u"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(D3(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},GB=function(e){var n=function(l){if(!l.isDefaultPrevented()){var v=l.dataTransfer;v&&(Ae(v.types,"Files")||v.files.length>0)&&(l.preventDefault(),l.type==="drop"&&Kk(e,"Dropped file type is not supported"))}},a=function(l){Z0(e,l.target)&&n(l)},i=function(){var l=Ma.DOM,v=e.dom,p=document,S=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];Le(A,function(N){l.bind(p,N,a),v.bind(S,N,n)}),e.on("remove",function(){Le(A,function(N){l.unbind(p,N,a),v.unbind(S,N,n)})})};e.on("init",function(){Ui.setEditorTimeout(e,i,0)})},PF=function(e){LO(e),MF(e),Zh(e)&&GB(e)},IF=function(e){var n=Xb(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=qg(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},NF=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(Mu(a)){var i=bm(e.getBody(),a),l=Va(i)?i:a;e.selection.getNode()!==l&&I1(e,l).each(function(v){return e.selection.setRng(v)})}})})},qB=kl,_o=Va,R3=function(e,n){return bm(e.getBody(),n)},zF=function(e){var n=e.selection,a=e.dom,i=a.isBlock,l=e.getBody(),v=au(e,l,i,function(){return sl(e)}),p="sel-"+a.uniqueId(),S="data-mce-selected",A,N=function(Bt){return a.hasClass(Bt,"mce-offscreen-selection")},X=function(Bt){return Bt!==l&&(_o(Bt)||Mu(Bt))&&a.isChildOf(Bt,l)},J=function(Bt){return Fl(Bt)||_d(Bt)||Eg(Bt)||Tg(Bt)},Q=function(){var Bt=a.get(p);return Bt&&Bt.getElementsByTagName("*")[0]},fe=function(Bt){Bt&&n.setRng(Bt)},de=n.getRng,he=function(Bt,Vn,Ut,vn){vn===void 0&&(vn=!0);var Gt=e.fire("ShowCaret",{target:Vn,direction:Bt,before:Ut});return Gt.isDefaultPrevented()?null:(vn&&n.scrollIntoView(Vn,Bt===-1),v.show(Ut,Vn))},pe=function(Bt){Bt.hasAttribute("data-mce-caret")&&(v2(Bt),fe(de()),n.scrollIntoView(Bt))},Oe=function(){e.on("mouseup",function(Gt){var Qt=de();Qt.collapsed&&Dm(e,Gt.clientX,Gt.clientY)&&KT(e,Qt,!1).each(fe)}),e.on("click",function(Gt){var Qt=R3(e,Gt.target);Qt&&(_o(Qt)&&(Gt.preventDefault(),e.focus()),qB(Qt)&&a.isChildOf(Qt,n.getNode())&&Lt())}),e.on("blur NewBlock",Lt),e.on("ResizeWindow FullscreenStateChanged",v.reposition);var Bt=function(Gt){var Qt=Gt.firstChild;if(Se(Qt))return!1;var yn=mt.before(Qt);if(wa(yn.getNode())&&Gt.childNodes.length===1)return!J(yn);var Pt=ho(Gt),hn=Pt.next(yn);return hn&&!J(hn)},Vn=function(Gt,Qt){var yn=a.getParent(Gt,i),Pt=a.getParent(Qt,i);return yn===Pt},Ut=function(Gt,Qt){var yn=a.getParent(Gt,i),Pt=a.getParent(Qt,i);return Se(yn)?!1:Gt!==Pt&&a.isChildOf(yn,Pt)&&_o(R3(e,yn))===!1?!0:!a.isChildOf(Pt,yn)&&!Vn(yn,Pt)&&Bt(yn)};e.on("tap",function(Gt){var Qt=Gt.target,yn=R3(e,Qt);_o(yn)?(Gt.preventDefault(),I1(e,yn).each(St)):X(Qt)&&I1(e,Qt).each(St)},!0),e.on("mousedown",function(Gt){var Qt=Gt.target;if(!(Qt!==l&&Qt.nodeName!=="HTML"&&!a.isChildOf(Qt,l))&&Dm(e,Gt.clientX,Gt.clientY)!==!1){var yn=R3(e,Qt);if(yn)_o(yn)?(Gt.preventDefault(),I1(e,yn).each(St)):(Lt(),!(qB(yn)&&Gt.shiftKey)&&!ym(Gt.clientX,Gt.clientY,n.getRng())&&(mn(),n.placeCaretAt(Gt.clientX,Gt.clientY)));else if(X(Qt))I1(e,Qt).each(St);else if(cm(Qt)===!1){Lt(),mn();var Pt=lO(l,Gt.clientX,Gt.clientY);if(Pt&&!Ut(Qt,Pt.node)){Gt.preventDefault();var hn=he(1,Pt.node,Pt.before,!1);fe(hn),e.getBody().focus()}}}}),e.on("keypress",function(Gt){Gn.modifierPressed(Gt)||_o(n.getNode())&&Gt.preventDefault()}),e.on("GetSelectionRange",function(Gt){var Qt=Gt.range;if(A){if(!A.parentNode){A=null;return}Qt=Qt.cloneRange(),Qt.selectNode(A),Gt.range=Qt}}),e.on("SetSelectionRange",function(Gt){Gt.range=je(Gt.range);var Qt=St(Gt.range,Gt.forward);Qt&&(Gt.range=Qt)});var vn=function(Gt){return Gt.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(Gt){var Qt=Gt.range,yn=Qt.startContainer.parentNode;!Xe(Qt)&&!vn(yn)&&mn(),N(yn)||Lt()}),e.on("copy",function(Gt){var Qt=Gt.clipboardData;if(!Gt.isDefaultPrevented()&&Gt.clipboardData&&!Wn.ie){var yn=Q();yn&&(Gt.preventDefault(),Qt.clearData(),Qt.setData("text/html",yn.outerHTML),Qt.setData("text/plain",yn.outerText||yn.innerText))}}),PF(e),IF(e),NF(e)},xe=function(Bt){return Nu(Bt)||Ep(Bt)||Tp(Bt)},Xe=function(Bt){return xe(Bt.startContainer)||xe(Bt.endContainer)},je=function(Bt){var Vn=e.schema.getShortEndedElements(),Ut=a.createRng(),vn=Bt.startContainer,Gt=Bt.startOffset,Qt=Bt.endContainer,yn=Bt.endOffset;return Dr(Vn,vn.nodeName.toLowerCase())?Gt===0?Ut.setStartBefore(vn):Ut.setStartAfter(vn):Ut.setStart(vn,Gt),Dr(Vn,Qt.nodeName.toLowerCase())?yn===0?Ut.setEndBefore(Qt):Ut.setEndAfter(Qt):Ut.setEnd(Qt,yn),Ut},Re=function(Bt,Vn,Ut){var vn=e.$,Gt=_h(Ge.fromDom(e.getBody()),"#"+p).fold(function(){return vn([])},function(Pt){return vn([Pt.dom])});Gt.length===0&&(Gt=vn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",p),Gt.appendTo(e.getBody()));var Qt=a.createRng();Vn===Ut&&Wn.ie?(Gt.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(Vn),Qt.setStartAfter(Gt[0].firstChild.firstChild),Qt.setEndAfter(Vn)):(Gt.empty().append(us).append(Vn).append(us),Qt.setStart(Gt[0].firstChild,1),Qt.setEnd(Gt[0].lastChild,0)),Gt.css({top:a.getPos(Bt,e.getBody()).y}),Gt[0].focus();var yn=n.getSel();return yn.removeAllRanges(),yn.addRange(Qt),Qt},Qe=function(Bt){var Vn=Bt.cloneNode(!0),Ut=e.fire("ObjectSelected",{target:Bt,targetClone:Vn});if(Ut.isDefaultPrevented())return null;var vn=Re(Bt,Ut.targetClone,Vn),Gt=Ge.fromDom(Bt);return Le(Oi(Ge.fromDom(e.getBody()),"*[data-mce-selected]"),function(Qt){$a(Gt,Qt)||yt(Qt,S)}),a.getAttrib(Bt,S)||Bt.setAttribute(S,"1"),A=Bt,mn(),vn},St=function(Bt,Vn){if(!Bt)return null;if(Bt.collapsed){if(!Xe(Bt)){var Ut=Vn?1:-1,vn=sg(Ut,l,Bt),Gt=vn.getNode(!Vn);if(cm(Gt))return he(Ut,Gt,Vn?!vn.isAtEnd():!1,!1);var Qt=vn.getNode(Vn);if(cm(Qt))return he(Ut,Qt,Vn?!1:!vn.isAtEnd(),!1)}return null}var yn=Bt.startContainer,Pt=Bt.startOffset,hn=Bt.endOffset;if(yn.nodeType===3&&Pt===0&&_o(yn.parentNode)&&(yn=yn.parentNode,Pt=a.nodeIndex(yn),yn=yn.parentNode),yn.nodeType!==1)return null;if(hn===Pt+1&&yn===Bt.endContainer){var kr=yn.childNodes[Pt];if(X(kr))return Qe(kr)}return null},Lt=function(){A&&A.removeAttribute(S),_h(Ge.fromDom(e.getBody()),"#"+p).each(vo),A=null},jn=function(){v.destroy(),A=null},mn=function(){v.hide()};return Wn.ceFalse&&!Om(e)&&Oe(),{showCaret:he,showBlockCaretContainer:pe,hideFakeCaret:mn,destroy:jn}},FF=function(e){var n=wt.each,a=Gn.BACKSPACE,i=Gn.DELETE,l=e.dom,v=e.selection,p=e.parser,S=Wn.gecko,A=Wn.ie,N=Wn.webkit,X="data:text/mce-internal,",J=A?"Text":"URL",Q=function(Nt,Kt){try{e.getDoc().execCommand(Nt,!1,Kt)}catch{}},fe=function(Nt){return Nt.isDefaultPrevented()},de=function(Nt){var Kt,$n;Nt.dataTransfer&&(e.selection.isCollapsed()&&Nt.target.tagName==="IMG"&&v.select(Nt.target),Kt=e.selection.getContent(),Kt.length>0&&($n=X+escape(e.id)+","+escape(Kt),Nt.dataTransfer.setData(J,$n)))},he=function(Nt){var Kt;return Nt.dataTransfer&&(Kt=Nt.dataTransfer.getData(J),Kt&&Kt.indexOf(X)>=0)?(Kt=Kt.substr(X.length).split(","),{id:unescape(Kt[0]),html:unescape(Kt[1])}):null},pe=function(Nt,Kt){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:Nt,internal:Kt}):e.execCommand("mceInsertContent",!1,Nt)},Oe=function(){var Nt=function($n){var tt=l.create("body"),Vt=$n.cloneContents();return tt.appendChild(Vt),v.serializer.serialize(tt,{format:"html"})},Kt=function($n){var tt=Nt($n),Vt=l.createRng();Vt.selectNode(e.getBody());var zt=Nt(Vt);return tt===zt};e.on("keydown",function($n){var tt=$n.keyCode,Vt,zt;if(!fe($n)&&(tt===i||tt===a)){if(Vt=e.selection.isCollapsed(),zt=e.getBody(),Vt&&!l.isEmpty(zt)||!Vt&&!Kt(e.selection.getRng()))return;$n.preventDefault(),e.setContent(""),zt.firstChild&&l.isBlock(zt.firstChild)?e.selection.setCursorLocation(zt.firstChild,0):e.selection.setCursorLocation(zt,0),e.nodeChanged()}})},xe=function(){e.shortcuts.add("meta+a",null,"SelectAll")},Xe=function(){e.inline||l.bind(e.getDoc(),"mousedown mouseup",function(Nt){var Kt;if(Nt.target===e.getDoc().documentElement)if(Kt=v.getRng(),e.getBody().focus(),Nt.type==="mousedown"){if(Nu(Kt.startContainer))return;v.placeCaretAt(Nt.clientX,Nt.clientY)}else v.setRng(Kt)})},je=function(){e.on("keydown",function(Nt){if(!fe(Nt)&&Nt.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(v.isCollapsed()&&v.getRng().startOffset===0){var Kt=v.getNode(),$n=Kt.previousSibling;if(Kt.nodeName==="HR"){l.remove(Kt),Nt.preventDefault();return}$n&&$n.nodeName&&$n.nodeName.toLowerCase()==="hr"&&(l.remove($n),Nt.preventDefault())}}})},Re=function(){Range.prototype.getClientRects||e.on("mousedown",function(Nt){if(!fe(Nt)&&Nt.target.nodeName==="HTML"){var Kt=e.getBody();Kt.blur(),Ui.setEditorTimeout(e,function(){Kt.focus()})}})},Qe=function(){e.on("click",function(Nt){var Kt=Nt.target;/^(IMG|HR)$/.test(Kt.nodeName)&&l.getContentEditableParent(Kt)!=="false"&&(Nt.preventDefault(),e.selection.select(Kt),e.nodeChanged()),Kt.nodeName==="A"&&l.hasClass(Kt,"mce-item-anchor")&&(Nt.preventDefault(),v.select(Kt))})},St=function(){var Nt=function(){var $n=l.getAttribs(v.getStart().cloneNode(!1));return function(){var tt=v.getStart();tt!==e.getBody()&&(l.setAttrib(tt,"style",null),n($n,function(Vt){tt.setAttributeNode(Vt.cloneNode(!0))}))}},Kt=function(){return!v.isCollapsed()&&l.getParent(v.getStart(),l.isBlock)!==l.getParent(v.getEnd(),l.isBlock)};e.on("keypress",function($n){var tt;if(!fe($n)&&($n.keyCode===8||$n.keyCode===46)&&Kt())return tt=Nt(),e.getDoc().execCommand("delete",!1,null),tt(),$n.preventDefault(),!1}),l.bind(e.getDoc(),"cut",function($n){var tt;!fe($n)&&Kt()&&(tt=Nt(),Ui.setEditorTimeout(e,function(){tt()}))})},Lt=function(){e.on("keydown",function(Nt){if(!fe(Nt)&&Nt.keyCode===a&&v.isCollapsed()&&v.getRng().startOffset===0){var Kt=v.getNode().previousSibling;if(Kt&&Kt.nodeName&&Kt.nodeName.toLowerCase()==="table")return Nt.preventDefault(),!1}})},jn=function(){e.on("keydown",function(Nt){var Kt,$n;if(!(fe(Nt)||Nt.keyCode!==Gn.BACKSPACE)){Kt=v.getRng();var tt=Kt.startContainer,Vt=Kt.startOffset,zt=l.getRoot();if($n=tt,!(!Kt.collapsed||Vt!==0)){for(;$n&&$n.parentNode&&$n.parentNode.firstChild===$n&&$n.parentNode!==zt;)$n=$n.parentNode;$n.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,$n),Kt=l.createRng(),Kt.setStart(tt,0),Kt.setEnd(tt,0),v.setRng(Kt))}}})},mn=function(){var Nt=function(){Q("StyleWithCSS",!1),Q("enableInlineTableEditing",!1),MS(e)||Q("enableObjectResizing",!1)};C4(e)||e.on("BeforeExecCommand mousedown",Nt)},Bt=function(){var Nt=function(){n(l.select("a"),function(Kt){var $n=Kt.parentNode,tt=l.getRoot();if($n.lastChild===Kt){for(;$n&&!l.isBlock($n);){if($n.parentNode.lastChild!==$n||$n===tt)return;$n=$n.parentNode}l.add($n,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(Kt){(Kt.type==="setcontent"||Kt.command==="mceInsertLink")&&Nt()})},Vn=function(){Di(e)&&e.on("init",function(){Q("DefaultParagraphSeparator",Di(e))})},Ut=function(){e.on("keyup focusin mouseup",function(Nt){Gn.modifierPressed(Nt)||v.normalize()},!0)},vn=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Gt=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},Qt=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(Nt){var Kt;if(Nt.target.nodeName==="HTML"){if(Wn.ie>11){e.getBody().focus();return}Kt=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Kt),e.selection.normalize(),e.nodeChanged()}}))},yn=function(){Wn.mac&&e.on("keydown",function(Nt){if(Gn.metaKeyPressed(Nt)&&!Nt.shiftKey&&(Nt.keyCode===37||Nt.keyCode===39)){Nt.preventDefault();var Kt=e.selection.getSel();Kt.modify("move",Nt.keyCode===37?"backward":"forward","lineboundary")}})},Pt=function(){Q("AutoUrlDetect",!1)},hn=function(){e.on("click",function(Nt){var Kt=Nt.target;do if(Kt.tagName==="A"){Nt.preventDefault();return}while(Kt=Kt.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},kr=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(Nt){Nt.preventDefault()})})},ra=function(){p.addNodeFilter("br",function(Nt){for(var Kt=Nt.length;Kt--;)Nt[Kt].attr("class")==="Apple-interchange-newline"&&Nt[Kt].remove()})},Zr=function(){e.on("dragstart",function(Nt){de(Nt)}),e.on("drop",function(Nt){if(!fe(Nt)){var Kt=he(Nt);if(Kt&&Kt.id!==e.id){Nt.preventDefault();var $n=Kw(Nt.x,Nt.y,e.getDoc());v.setRng($n),pe(Kt.html,!0)}}})},Pi=Ee,uo=function(){if(!S||e.removed)return!1;var Nt=e.selection.getSel();return!Nt||!Nt.rangeCount||Nt.rangeCount===0},ju=function(){N&&(Xe(),Qe(),kr(),xe(),Wn.iOS&&(Gt(),Qt(),hn())),S&&(Re(),mn(),vn(),yn())},ps=function(){jn(),Oe(),Wn.windowsPhone||Ut(),N&&(Xe(),Qe(),Vn(),kr(),Lt(),ra(),Wn.iOS?(Gt(),Qt(),hn()):xe()),Wn.ie>=11&&(Qt(),Lt()),Wn.ie&&(xe(),Pt(),Zr()),S&&(je(),Re(),St(),mn(),Bt(),vn(),yn(),Lt())};return Om(e)?ju():ps(),{refreshContentEditable:Pi,isHidden:uo}},$3=Ma.DOM,HO=function(e,n){var a=Ge.fromDom(e.getBody()),i=fo(vu(a)),l=Ge.fromTag("style");M(l,"type","text/css"),Ho(l,Ge.fromText(n)),Ho(i,l),e.on("remove",function(){vo(l)})},LF=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},B3=function(e){return lo(e,function(n){return De(n)===!1})},KB=function(e){var n=e.settings;return B3({block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements,padd_empty_block_inline_children:n.format_empty_lines})},XB=function(e){var n=e.settings,a=e.editorUpload.blobCache;return B3({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:LF(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})},HF=function(e){var n=e.settings;return qn(qn(qn({},XB(e)),KB(e)),B3({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before}))},VF=function(e){var n=Wk(XB(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var l=a.length,v,p,S=e.dom,A="data-mce-"+i;l--;)if(v=a[l],p=v.attr(i),p&&!v.attr(A)){if(p.indexOf("data:")===0||p.indexOf("blob:")===0)continue;i==="style"?(p=S.serializeStyle(S.parseStyle(p),v.name),p.length||(p=null),v.attr(A,p),v.attr(i,p)):i==="tabindex"?(v.attr(A,p),v.attr(i,null)):v.attr(A,e.convertURL(p,i,v.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var l=a[i],v=l.attr("type")||"no/type";v.indexOf("mce-")!==0&&l.attr("type","mce-"+v)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var l=a[i];l.type=8,l.name="#comment",l.value="[CDATA["+e.dom.encode(l.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,l=e.schema.getNonEmptyElements();i--;){var v=a[i];v.isEmpty(l)&&v.getAll("br").length===0&&(v.append(new ll("br",1)).shortEnded=!0)}}),n},UF=function(e){e.settings.auto_focus&&Ui.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},WF=function(e){var n=e.dom.getRoot();!e.inline&&(!dd(e)||e.selection.getStart(!0)===n)&&ou(n).each(function(a){var i=a.getNode(),l=Eo(i)?ou(i).getOr(a):a;Wn.browser.isIE()?mE(e,l.toRange()):e.selection.setRng(l.toRange())})},jF=function(e){e.bindPendingEventDelegates(),e.initialized=!0,vx(e),e.focus(!0),WF(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),UF(e)},YB=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},GF=function(e,n,a){var i=[new ii(function(l,v){return YB(e).loadAll(n,l,v)})];return e.inline?i:i.concat([new ii(function(l,v){return e.ui.styleSheetLoader.loadAll(a,l,v)})])},JB=function(e){var n=YB(e),a=BS(e),i=e.contentCSS,l=function(){n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},v=function(){e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){var p="";wt.each(e.contentStyles,function(A){p+=A+`\r
`}),e.dom.addStyle(p)}var S=ii.all(GF(e,i,a)).then(v).catch(v);return e.settings.content_style&&HO(e,e.settings.content_style),S},qF=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();cf(e),!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,$3.setAttrib(i,"spellcheck","false")),e.quirks=FF(e),fx(e);var l=hc(e);l!==void 0&&(i.dir=l),n.protect&&e.on("BeforeSetContent",function(v){wt.each(n.protect,function(p){v.content=v.content.replace(p,function(S){return"<!--mce:protected "+escape(S)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(v){e.composing=v.type==="compositionstart"})},KF=function(e){Om(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},VO=function(e){e.removed!==!0&&(KF(e),jF(e))},M3=function(e,n){var a=e.settings,i=e.getElement(),l=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(l.open(),l.write(e.iframeHTML),l.close()),e.inline&&($3.addClass(i,"mce-content-body"),e.contentDocument=l=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var v=e.getBody();v.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&$3.getStyle(v,"position",!0)==="static"&&(v.style.position="relative"),v.contentEditable=e.getParam("content_editable_state",!0)),v.disabled=!1,e.editorUpload=VI(e),e.schema=Bs(KB(e)),e.dom=Ma(l,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:g0(e),referrerPolicy:p0(e),onSetAttrib:function(A){e.fire("SetAttrib",A)}}),e.parser=VF(e),e.serializer=SR(HF(e),e),e.selection=sR(e.dom,e.getWin(),e.serializer,e),e.annotator=H0(e),e.formatter=WR(e),e.undoManager=pf(e),e._nodeChangeDispatcher=new IB(e),e._selectionOverrides=zF(e),az(e),zB(e),Om(e)||zO(e);var p=pF(e);rz(e,p),q$(e),YR(e);var S=$P(e);qF(e),S.fold(function(){JB(e).then(function(){return VO(e)})},function(A){e.setProgressState(!0),JB(e).then(function(){A().then(function(N){e.setProgressState(!1),VO(e)},function(N){e.notificationManager.open({type:"error",text:String(N)}),VO(e)})})})},p_=Ma.DOM,XF=function(e,n){if(document.domain!==window.location.hostname&&Wn.browser.isIE()){var a=Xi("mce");e[a]=function(){M3(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return p_.setAttrib(n,"src",i),!0}return!1},YF=function(e,n,a,i){var l=Ge.fromTag("iframe");return Y(l,i),Y(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),nm(l,"tox-edit-area__iframe"),l},JF=function(e){var n=OS(e)+"<html><head>";aw(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=l4(e),i=c4(e),l=e.translate(HS(e));return d0(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+d0(e)+'" />'),n+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+l+'">')+"<br></body></html>",n},ZB=function(e,n){var a=e.translate("Rich Text Area"),i=YF(e.id,a,n.height,s4(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var l=XF(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=JF(e),p_.add(n.iframeContainer,i),l},ZF=function(e,n){var a=ZB(e,n);n.editorContainer&&(p_.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=p_.isHidden(n.editorContainer)),e.getElement().style.display="none",p_.setAttrib(e.id,"aria-hidden","true"),a||M3(e)},UO=Ma.DOM,WO=function(e,n,a){var i=cl.get(a),l=cl.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=wt.trim(a),i&&wt.inArray(n,a)===-1){if(wt.each(cl.dependencies(a),function(p){WO(e,n,p)}),e.plugins[a])return;try{var v=new i(e,l,e.$);e.plugins[a]=v,v.init&&(v.init(e,l),n.push(a))}catch(p){LR(e,a,p)}}},jO=function(e){return e.replace(/^\-/,"")},QF=function(e){var n=[];wt.each(C0(e).split(/[ ,]/),function(a){WO(e,n,jO(a))})},eL=function(e){var n=wt.trim(tf(e)),a=e.ui.registry.getAll().icons,i=qn(qn({},qk.get("default").icons),qk.get(n).icons);Vr(i,function(l,v){Dr(a,v)||e.ui.registry.addIcon(v,l)})},tL=function(e){var n=Yh(e);if($e(n)){e.settings.theme=jO(n);var a=kd.get(n);e.theme=new a(e,kd.urls[n]),e.theme.init&&e.theme.init(e,kd.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},QB=function(e){return e.theme.renderUI()},nL=function(e){var n=e.getElement(),a=Yh(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},eM=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},tM=function(e){var n=UO.create("div");return UO.insertAfter(n,e),eM(n)},rL=function(e){var n=e.getElement();return e.inline?eM(null):tM(n)},aL=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,$e(Yh(e))?QB(e):se(Yh(e))?nL(e):rL(e)},nM=function(e,n){var a={show:te.from(n.show).getOr(Ee),hide:te.from(n.hide).getOr(Ee),disable:te.from(n.disable).getOr(Ee),isDisabled:te.from(n.isDisabled).getOr(at),enable:function(){e.mode.isReadOnly()||te.from(n.enable).map(kt)}};e.ui=qn(qn({},e.ui),a)},rM=function(e){e.fire("ScriptsLoaded"),eL(e),tL(e),QF(e);var n=aL(e);nM(e,te.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,zI(e),e.inline?M3(e):ZF(e,a)},V1=Ma.DOM,aM=function(e){return e.charAt(0)==="-"},oM=function(e,n){var a=b0(n),i=si(n);if(wu.hasCode(a)===!1&&a!=="en"){var l=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(l,Ee,void 0,function(){YC(n,l,a)})}},iM=function(e,n,a,i){var l=Yh(n);if($e(l)){if(!aM(l)&&!Dr(kd.urls,l)){var v=NS(n);v?kd.load(l,n.documentBaseURI.toAbsolute(v)):kd.load(l,"themes/"+l+"/theme"+a+".js")}e.loadQueue(function(){kd.waitFor(l,i)})}else i()},oL=function(e){return te.from(h0(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:te.none()}})},uM=function(e,n,a){return te.from(n).filter(function(i){return i.length>0&&!qk.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:te.some(i)}})},iL=function(e,n,a){var i=uM(n,"default",a),l=oL(n).orThunk(function(){return uM(n,tf(n),"")});Le(gr([i,l]),function(v){e.add(v.url,Ee,void 0,function(){II(n,v.url,v.name.getOrUndefined())})})},uL=function(e,n){wt.each(S4(e),function(a,i){cl.load(i,a,Ee,void 0,function(){Yk(e,a,i)}),e.settings.plugins+=" "+i}),wt.each(C0(e).split(/[ ,]/),function(a){if(a=wt.trim(a),a&&!cl.urls[a])if(aM(a)){a=a.substr(1,a.length);var i=cl.dependencies(a);wt.each(i,function(v){var p={prefix:"plugins/",resource:v,suffix:"/plugin"+n+".js"},S=cl.createUrl(p,v);cl.load(S.resource,S,Ee,void 0,function(){Yk(e,S.prefix+S.resource+S.suffix,S.resource)})})}else{var l={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};cl.load(a,l,Ee,void 0,function(){Yk(e,l.prefix+l.resource+l.suffix,a)})}})},sL=function(e,n){var a=rv.ScriptLoader;iM(a,e,n,function(){oM(a,e),iL(a,e,n),uL(e,n),a.loadQueue(function(){e.removed||rM(e)},e,function(){e.removed||rM(e)})})},lL=function(e,n){return El.forElement(e,{contentCssCors:_4(n),referrerPolicy:p0(n)})},cL=function(e){var n=e.id;wu.setCode(b0(e));var a=function(){V1.unbind(window,"ready",a),e.render()};if(!$h.Event.domLoaded){V1.bind(window,"ready",a);return}if(e.getElement()&&Wn.contentEditable){var i=Ge.fromDom(e.getElement()),l=kn(i);e.on("remove",function(){bt(i.dom.attributes,function(p){return yt(i,p.name)}),Y(i,l)}),e.ui.styleSheetLoader=lL(i,e),p4(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var v=e.getElement().form||V1.getParent(n,"form");v&&(e.formElement=v,zS(e)&&!Si(e.getElement())&&(V1.insertAfter(V1.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(p){e.fire(p.type,p)},V1.bind(v,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),FS(e)&&!v.submit.nodeType&&!v.submit.length&&!v._mceOldSubmit&&(v._mceOldSubmit=v.submit,v.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),v._mceOldSubmit(v)})),e.windowManager=PT(e),e.notificationManager=pv(e),cw(e)&&e.on("GetContent",function(p){p.save&&(p.content=V1.encode(p.content))}),b4(e)&&e.on("submit",function(){e.initialized&&e.save()}),w0(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),sL(e,e.suffix)}},fL=function(e,n){return nR(e,n)},vL={"font-size":"size","font-family":"face"},dL=function(e,n,a){var i=function(v){return xi(v,e).orThunk(function(){return ko(v)==="font"?Ir(vL,e).bind(function(p){return Ce(v,p)}):te.none()})},l=function(v){return $a(Ge.fromDom(n),v)};return qE(Ge.fromDom(a),function(v){return i(v)},l)},P3=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},sM=function(e,n){return te.from(Ma.DOM.getStyle(n,e,!0))},GO=function(e){return function(n,a){return te.from(a).map(Ge.fromDom).filter(Ha).bind(function(i){return dL(e,n,i.dom).or(sM(e,i.dom))}).getOr("")}},mL=GO("font-size"),lM=Ue(P3,GO("font-family")),cM=function(e){return ou(e.getBody()).map(function(n){var a=n.container();return gn(a)?a.parentNode:a})},hL=function(e){return te.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?te.none():te.from(e.selection.getStart(!0))})},gL=function(e,n){return hL(e).orThunk(le(cM,e)).map(Ge.fromDom).filter(Ha).bind(n)},qO=function(e,n){return gL(e,re(te.some,n))},I3=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=Yp(e),l=sm(e);return l?l[a-1]||n:i[a-1]||n}else return n}else return n},pL=function(e){var n=e.split(/\s*,\s*/);return et(n,function(a){return a.indexOf(" ")!==-1&&!(po(a,'"')||po(a,"'"))?"'"+a+"'":a}).join(",")},KO=function(e,n){var a=I3(e,n);e.formatter.toggle("fontname",{value:pL(a)}),e.nodeChanged()},bL=function(e){return qO(e,function(n){return lM(e.getBody(),n.dom)}).getOr("")},yL=function(e,n){e.formatter.toggle("fontsize",{value:I3(e,n)}),e.nodeChanged()},wL=function(e){return qO(e,function(n){return mL(e.getBody(),n.dom)}).getOr("")},fM=function(e){return qO(e,function(n){var a=Ge.fromDom(e.getBody()),i=qE(n,function(v){return xi(v,"line-height")},le($a,a)),l=function(){var v=parseFloat(pr(n,"line-height")),p=parseFloat(pr(n,"font-size"));return String(v/p)};return i.getOrThunk(l)}).getOr("")},CL=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},_L=function(e){if(typeof e!="string"){var n=wt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},SL=function(e,n){var a=_L(n);eR(e,a.content,a.details)},N3=wt.each,xL=wt.map,Ws=wt.inArray,Xg=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,l){var v,p=!1,S=this;if(!S.editor.removed){if(n.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!l||!l.skip_focus)?S.editor.focus():iC(S.editor)),l=S.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),l.isDefaultPrevented())return!1;var A=n.toLowerCase();if(v=S.commands.exec[A])return v(A,a,i),S.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(N3(this.editor.plugins,function(N){if(N.execCommand&&N.execCommand(n,a,i))return S.editor.fire("ExecCommand",{command:n,ui:a,value:i}),p=!0,!1}),p)return p;if(S.editor.theme&&S.editor.theme.execCommand&&S.editor.theme.execCommand(n,a,i))return S.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{p=S.editor.getDoc().execCommand(n,a,i)}catch{}return p?(S.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch{}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch{}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;N3(n,function(l,v){N3(v.toLowerCase().split(","),function(p){i.commands[a][p]=l})})},e.prototype.addCommand=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.exec[n]=function(v,p,S,A){return a.call(i||l.editor,p,S,A)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch{}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||l.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||l.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":Ee,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(l,v,p){ey(n,p)},"Cut,Copy,Paste":function(l){var v=n.getDoc(),p;try{a.execNativeCommand(l)}catch{p=!0}if(l==="paste"&&!v.queryCommandEnabled(l)&&(p=!0),p||!v.queryCommandSupported(l)){var S=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Wn.mac&&(S=S.replace(/Ctrl\+/g,"⌘+")),n.notificationManager.open({text:S,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var l=n.dom.getParent(n.selection.getStart(),"a");l&&n.dom.remove(l,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(l){var v=l.substring(7);v==="full"&&(v="justify"),N3("left,center,right,justify".split(","),function(p){v!==p&&n.formatter.remove("align"+p)}),v!=="none"&&a.toggleFormat("align"+v)},"InsertUnorderedList,InsertOrderedList":function(l){var v;a.execNativeCommand(l);var p=n.dom.getParent(n.selection.getNode(),"ol,ul");p&&(v=p.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(v.nodeName)&&(a.storeSelection(),n.dom.split(v,p),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){a.toggleFormat(l)},"ForeColor,HiliteColor":function(l,v,p){a.toggleFormat(l,{value:p})},FontName:function(l,v,p){KO(n,p)},FontSize:function(l,v,p){yL(n,p)},LineHeight:function(l,v,p){CL(n,p)},Lang:function(l,v,p){a.toggleFormat(l,{value:p.code,customValue:p.customCode})},RemoveFormat:function(l){n.formatter.remove(l)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(l,v,p){return a.toggleFormat(p||"p")},mceCleanup:function(){var l=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(l)},mceRemoveNode:function(l,v,p){var S=p||n.selection.getNode();S!==n.getBody()&&(a.storeSelection(),n.dom.remove(S,!0),a.restoreSelection())},mceSelectNodeDepth:function(l,v,p){var S=0;n.dom.getParent(n.selection.getNode(),function(A){if(A.nodeType===1&&S++===p)return n.selection.select(A),!1},n.getBody())},mceSelectNode:function(l,v,p){n.selection.select(p)},mceInsertContent:function(l,v,p){SL(n,p)},mceInsertRawHTML:function(l,v,p){n.selection.setContent("tiny_mce_marker");var S=n.getContent();n.setContent(S.replace(/tiny_mce_marker/g,function(){return p}))},mceInsertNewLine:function(l,v,p){AB(n,p)},mceToggleFormat:function(l,v,p){a.toggleFormat(p)},mceSetContent:function(l,v,p){n.setContent(p)},"Indent,Outdent":function(l){gO(n,l)},mceRepaint:Ee,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(l,v,p){n.execCommand("mceInsertContent",!1,p.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(l,v,p){typeof p=="string"&&(p={href:p});var S=n.dom.getParent(n.selection.getNode(),"a");p.href=p.href.replace(/ /g,"%20"),(!S||!p.href)&&n.formatter.remove("link"),p.href&&n.formatter.apply("link",p,S)},selectAll:function(){var l=n.dom.getParent(n.selection.getStart(),kl);if(l){var v=n.dom.createRng();v.selectNodeContents(l),n.selection.setRng(v)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(l,v,p){return CB(n,p),!0}});var i=function(l){return function(){var v=n.selection,p=v.isCollapsed()?[n.dom.getParent(v.getNode(),n.dom.isBlock)]:v.getSelectedBlocks(),S=xL(p,function(A){return!!n.formatter.matchNode(A,l)});return Ws(S,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){return a.isFormatMatch(l)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return U$(n)},"InsertUnorderedList,InsertOrderedList":function(l){var v=n.dom.getParent(n.selection.getNode(),"ul,ol");return v&&(l==="insertunorderedlist"&&v.tagName==="UL"||l==="insertorderedlist"&&v.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return bL(n)},this),a.addQueryValueHandler("FontSize",function(){return wL(n)},this),a.addQueryValueHandler("LineHeight",function(){return fM(n)},this)},e}(),U1="data-mce-contenteditable",kL=function(e,n,a){V2(e,n)&&a===!1?H2(e,n):a&&nm(e,n)},XO=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch{}},z3=function(e,n){e.dom.contentEditable=n?"true":"false"},AL=function(e){Le(Oi(e,'*[contenteditable="true"]'),function(n){M(n,U1,"true"),z3(n,!1)})},EL=function(e){Le(Oi(e,"*["+U1+'="true"]'),function(n){yt(n,U1),z3(n,!0)})},vM=function(e){te.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},zy=function(e){e.selection.setRng(e.selection.getRng())},TL=function(e,n){var a=Ge.fromDom(e.getBody());kL(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),vM(e),e.readonly=!0,z3(a,!1),AL(a)):(e.readonly=!1,z3(a,!0),EL(a),XO(e,"StyleWithCSS",!1),XO(e,"enableInlineTableEditing",!1),XO(e,"enableObjectResizing",!1),Ux(e)&&e.focus(),zy(e),e.nodeChanged())},W1=function(e){return e.readonly},dM=function(e){e.parser.addAttributeFilter("contenteditable",function(n){W1(e)&&Le(n,function(a){a.attr(U1,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(U1,function(n){W1(e)&&Le(n,function(a){a.attr("contenteditable",a.attr(U1))})}),e.serializer.addTempAttr(U1)},Cv=function(e){e.serializer?dM(e):e.on("PreInit",function(){dM(e)})},OL=function(e){return e.type==="click"},DL=function(e,n){var a=function(i){return $a(i,Ge.fromDom(e.getBody()))};return yo(n,"a",a).bind(function(i){return Ce(i,"href")})},mM=function(e,n){if(OL(n)&&!Gn.metaKeyPressed(n)){var a=Ge.fromDom(n.target);DL(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var l=e.dom.select(i+',[name="'+sh(i,"#")+'"]');l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},RL=function(e){e.on("ShowCaret",function(n){W1(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){W1(e)&&n.preventDefault()})},hM=wt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),F3=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||at}return e.isNative=function(n){return!!hM[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),l=$t(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);var v=this.bindings[i];if(v)for(var p=0,S=v.length;p<S;p++){var A=v[p];if(!A.removed){if(A.once&&this.off(i,A.func),l.isImmediatePropagationStopped())return l;if(A.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l},e.prototype.on=function(n,a,i,l){if(a===!1&&(a=at),a){var v={func:a,removed:!1};l&&wt.extend(v,l);for(var p=n.toLowerCase().split(" "),S=p.length;S--;){var A=p[S],N=this.bindings[A];N||(N=[],this.toggleEvent(A,!0)),i?N=Ou([v],N,!0):N=Ou(Ou([],N,!0),[v],!1),this.bindings[A]=N}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var l=n.toLowerCase().split(" "),v=l.length;v--;){var p=l[v],S=this.bindings[p];if(!p)return Vr(this.bindings,function(N,X){i.toggleEvent(X,!1),delete i.bindings[X]}),this;if(S){if(!a)S.length=0;else{var A=Jt(S,function(N){return N.func===a});S=A.fail,this.bindings[p]=S,Le(A.pass,function(N){N.removed=!0})}S.length||(this.toggleEvent(n,!1),delete this.bindings[p])}}else Vr(this.bindings,function(N,X){i.toggleEvent(X,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),j1=function(e){return e._eventDispatcher||(e._eventDispatcher=new F3({scope:e,toggleEvent:function(n,a){F3.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},L3={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var l=j1(i).fire(e,n);if(a!==!1&&i.parent)for(var v=i.parent();v&&!l.isPropagationStopped();)v.fire(e,l,!1),v=v.parent();return l},on:function(e,n,a){return j1(this).on(e,n,a)},off:function(e,n){return j1(this).off(e,n)},once:function(e,n){return j1(this).once(e,n)},hasEventListeners:function(e){return j1(this).has(e)}},H3=Ma.DOM,G1,V3=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=y0(e);return a?(e.eventRoot||(e.eventRoot=H3.select(a)[0]),e.eventRoot):e.getBody()},$L=function(e){return!e.hidden&&!W1(e)},YO=function(e,n,a){$L(e)?e.fire(n,a):W1(e)&&mM(e,a)},JO=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=V3(e,n);if(y0(e)){if(G1||(G1={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||G1&&(Vr(G1,function(l,v){e.dom.unbind(V3(e,v))}),G1=null)})),G1[n])return;a=function(l){for(var v=l.target,p=e.editorManager.get(),S=p.length;S--;){var A=p[S].getBody();(A===v||H3.isChildOf(v,A))&&YO(p[S],n,l)}},G1[n]=a,H3.bind(i,n,a)}else a=function(l){YO(e,n,l)},H3.bind(i,n,a),e.delegates[n]=a}},gM=qn(qn({},L3),{bindPendingEventDelegates:function(){var e=this;wt.each(e._pendingNativeEvents,function(n){JO(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||a.removed||(n?a.initialized?JO(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(V3(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(Vr(e.delegates,function(i,l){e.dom.unbind(V3(e,l),l,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),pM=["design","readonly"],bM=function(e,n,a,i){var l=a[n.get()],v=a[i];try{v.activate()}catch(p){console.error("problem while activating editor mode "+i+":",p);return}l.deactivate(),l.editorReadOnly!==v.editorReadOnly&&TL(e,v.editorReadOnly),n.set(i),Uw(e,i)},BL=function(e,n,a,i){if(i!==a.get()){if(!Dr(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?bM(e,a,n,i):e.on("init",function(){return bM(e,a,n,i)})}},ML=function(e,n,a){var i;if(Ae(pM,n))throw new Error("Cannot override default mode "+n);return qn(qn({},e),(i={},i[n]=qn(qn({},a),{deactivate:function(){try{a.deactivate()}catch(l){console.error("problem while deactivating editor mode "+n+":",l)}}}),i))},PL=function(e){var n=yu("design"),a=yu({design:{activate:Ee,deactivate:Ee,editorReadOnly:!1},readonly:{activate:Ee,deactivate:Ee,editorReadOnly:!0}});return Cv(e),RL(e),{isReadOnly:function(){return W1(e)},set:function(i){return BL(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,l){a.set(ML(a.get(),i,l))}}},U3=wt.each,b_=wt.explode,yM={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},wM=wt.makeMap("alt,ctrl,shift,meta,access"),IL=function(e){var n,a={};U3(b_(e.toLowerCase(),"+"),function(l){l in wM?a[l]=!0:/^[0-9]{2,}$/.test(l)?a.keyCode=parseInt(l,10):(a.charCode=l.charCodeAt(0),a.keyCode=yM[l]||l.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in wM)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,Wn.mac?a.ctrl=!0:a.shift=!0),a.meta&&(Wn.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},W3=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(U3(a.shortcuts,function(l){if(a.matchShortcut(i,l))return a.pendingPatterns=l.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(l),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,l){var v=this,p=v.normalizeCommandFunc(i);return U3(b_(wt.trim(n)),function(S){var A=v.createShortcut(S,a,p,l);v.shortcuts[A.id]=A}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:wt.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,l){var v=wt.map(b_(n,">"),IL);return v[v.length-1]=wt.extend(v[v.length-1],{func:i,scope:l||this.editor}),wt.extend(v[0],{desc:this.editor.translate(a),subpatterns:v.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),CM=function(){var e={},n={},a={},i={},l={},v={},p={},S=function(N,X){return function(J,Q){return N[J.toLowerCase()]=qn(qn({},Q),{type:X})}},A=function(N,X){return i[N.toLowerCase()]=X};return{addButton:S(e,"button"),addGroupToolbarButton:S(e,"grouptoolbarbutton"),addToggleButton:S(e,"togglebutton"),addMenuButton:S(e,"menubutton"),addSplitButton:S(e,"splitbutton"),addMenuItem:S(n,"menuitem"),addNestedMenuItem:S(n,"nestedmenuitem"),addToggleMenuItem:S(n,"togglemenuitem"),addAutocompleter:S(a,"autocompleter"),addContextMenu:S(l,"contextmenu"),addContextToolbar:S(v,"contexttoolbar"),addContextForm:S(v,"contextform"),addSidebar:S(p,"sidebar"),addIcon:A,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:l,contextToolbars:v,sidebars:p}}}},NL=function(){var e=CM();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},q1=Ma.DOM,_M=wt.extend,zL=wt.each,SM=wt.resolve,FL=Wn.ie,j3=function(){function e(n,a,i){var l=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,_M(this,gM),this.settings=PR(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(rv.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ma.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),zu.languageLoad=this.settings.language_load,zu.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new yd(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new W3(this),this.editorCommands=new Xg(this),this.settings.cache_suffix&&(Wn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:NL(),styleSheetLoader:void 0,show:Ee,hide:Ee,enable:Ee,disable:Ee,isDisabled:at};var v=this,p=PL(v);this.mode=p,this.setMode=p.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=mr.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}return e.prototype.render=function(){cL(this)},e.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},e.prototype.hasFocus=function(){return sl(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var l=this,v=l.settings[n],p;if(v)return l.callbackLookup&&(p=l.callbackLookup[n])&&(v=p.func,p=p.scope),typeof v=="string"&&(p=v.replace(/\.\w+$/,""),p=p?SM(p):0,v=SM(v),l.callbackLookup=l.callbackLookup||{},l.callbackLookup[n]={func:v,scope:p}),v.apply(p||l,a)},e.prototype.translate=function(n){return wu.translate(n)},e.prototype.getParam=function(n,a,i){return RI(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=Ae(C0(this).split(/[ ,]/),n);return i?a?cl.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,l){this.shortcuts.add(n,a,i,l)},e.prototype.execCommand=function(n,a,i,l){return this.editorCommands.execCommand(n,a,i,l)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(q1.show(n.getContainer()),q1.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(FL&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(q1.hide(n.getContainer()),q1.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),l;if(a.removed)return"";if(i){n=n||{},n.load=!0;var v=Si(i)?i.value:i.innerHTML;return l=a.setContent(v,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,l}},e.prototype.save=function(n){var a=this,i=a.getElement(),l,v;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,l=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),l=n.content,Si(i)?i.value=l:((n.is_removing||!a.inline)&&(i.innerHTML=l),(v=q1.getParent(a.id,"form"))&&zL(v.elements,function(p){if(p.name===a.id)return p.value=l,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),l},e.prototype.setContent=function(n,a){return RT(this,n,a)},e.prototype.getContent=function(n){return lI(this,n)},e.prototype.insertContent=function(n,a){a&&(n=_M({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?RT(this,this.startContent,{format:"raw"}):RT(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=q1.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=q1.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var l=this,v=l.settings;return v.urlconverter_callback?l.execCallback("urlconverter_callback",n,i,!0,a):!v.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:v.relative_urls?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,v.remove_script_host),n)},e.prototype.addVisual=function(n){fL(this,n)},e.prototype.remove=function(){vI(this)},e.prototype.destroy=function(n){kR(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Sf=Ma.DOM,LL=wt.explode,Ro=wt.each,ZO=wt.extend,Td=0,QO=!1,y_,Yg=[],Wu=[],e5=function(e){return e!=="length"},t5=function(e){var n=e.type;Ro(Jg.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},n5=function(e){e!==QO&&(e?mr(window).on("resize scroll",t5):mr(window).off("resize scroll",t5),QO=e)},xM=function(e){var n=Wu;delete Yg[e.id];for(var a=0;a<Yg.length;a++)if(Yg[a]===e){Yg.splice(a,1);break}return Wu=ut(Wu,function(i){return e!==i}),Jg.activeEditor===e&&(Jg.activeEditor=Wu.length>0?Wu[0]:null),Jg.focusedEditor===e&&(Jg.focusedEditor=null),n.length!==Wu.length},HL=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(xM(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},VL=document.compatMode!=="CSS1Compat",Jg=qn(qn({},L3),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:mr,majorVersion:"5",minorVersion:"10.7",releaseDate:"2022-12-06",editors:Yg,i18n:wu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=yd.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,i=l.suffix;else{for(var v=document.getElementsByTagName("script"),p=0;p<v.length;p++){var S=v[p].src||"";if(S!==""){var A=S.substring(S.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(S)){A.indexOf(".min")!==-1&&(i=".min"),n=S.substring(0,S.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var S=document.currentScript.src;S.indexOf(".min")!==-1&&(i=".min"),n=S.substring(0,S.lastIndexOf("/"))}}e.baseURL=new yd(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new yd(e.baseURL),e.suffix=i,Nx(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&Vr(i,function(l,v){zu.PluginManager.urls[v]=l})},init:function(e){var n=this,a,i=wt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=function(J,Q){return J.inline&&Q.tagName.toLowerCase()in i},v=function(J){var Q=J.id;return Q||(Q=Ir(J,"name").filter(function(fe){return!Sf.get(fe)}).getOrThunk(Sf.uniqueId),J.setAttribute("id",Q)),Q},p=function(J){var Q=e[J];if(Q)return Q.apply(n,[])},S=function(J,Q){return Q.constructor===RegExp?Q.test(J.className):Sf.hasClass(J,Q)},A=function(J){var Q=[];if(Wn.browser.isIE()&&Wn.browser.version.major<11)return JC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(VL)return JC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(J.types)return Ro(J.types,function(de){Q=Q.concat(Sf.select(de.selector))}),Q;if(J.selector)return Sf.select(J.selector);if(J.target)return[J.target];switch(J.mode){case"exact":var fe=J.elements||"";fe.length>0&&Ro(LL(fe),function(de){var he=Sf.get(de);he?Q.push(he):Ro(document.forms,function(pe){Ro(pe.elements,function(Oe){Oe.name===de&&(de="mce_editor_"+Td++,Sf.setAttrib(Oe,"id",de),Q.push(Oe))})})});break;case"textareas":case"specific_textareas":Ro(Sf.select("textarea"),function(de){J.editor_deselector&&S(de,J.editor_deselector)||(!J.editor_selector||S(de,J.editor_selector))&&Q.push(de)});break}return Q},N=function(J){a=J},X=function(){var J=0,Q=[],fe,de=function(he,pe,Oe){var xe=new j3(he,pe,n);Q.push(xe),xe.on("init",function(){++J===fe.length&&N(Q)}),xe.targetElm=xe.targetElm||Oe,xe.render()};if(Sf.unbind(window,"ready",X),p("onpageload"),fe=mr.unique(A(e)),e.types){Ro(e.types,function(he){wt.each(fe,function(pe){return Sf.is(pe,he.selector)?(de(v(pe),ZO({},e,he),pe),!1):!0})});return}wt.each(fe,function(he){HL(n.get(he.id))}),fe=wt.grep(fe,function(he){return!n.get(he.id)}),fe.length===0?N([]):Ro(fe,function(he){l(e,he)?JC("Could not initialize inline editor on invalid inline target element",he):de(v(he),e,he)})};return n.settings=e,Sf.bind(window,"ready",X),new ii(function(J){a?J(a):N=function(Q){J(Q)}})},get:function(e){return arguments.length===0?Wu.slice(0):$e(e)?rn(Wu,function(n){return n.id===e}).getOr(null):ce(e)&&Wu[e]?Wu[e]:null},add:function(e){var n=this,a=Yg[e.id];return a===e||(n.get(e.id)===null&&(e5(e.id)&&(Yg[e.id]=e),Yg.push(e),Wu.push(e)),n5(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),y_||(y_=function(i){var l=n.fire("BeforeUnload");if(l.returnValue)return i.preventDefault(),i.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",y_))),e},createEditor:function(e,n){return this.add(new j3(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=Wu.length-1;a>=0;a--)n.remove(Wu[a]);return}if($e(e)){Ro(Sf.select(e),function(l){i=n.get(l.id),i&&n.remove(i)});return}return i=e,ne(n.get(i.id))?null:(xM(i)&&n.fire("RemoveEditor",{editor:i}),Wu.length===0&&window.removeEventListener("beforeunload",y_),i.remove(),n5(Wu.length>0),i)},execCommand:function(e,n,a){var i=this,l=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new j3(a,i.settings,i).render(),!0;case"mceRemoveEditor":return l&&l.remove(),!0;case"mceToggleEditor":return l?(l.isHidden()?l.show():l.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){Ro(Wu,function(e){e.save()})},addI18n:function(e,n){wu.add(e,n)},translate:function(e){return wu.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new yd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new yd(this.baseURL)}});Jg.setup();var kM=Math.min,K1=Math.max,G3=Math.round,AM=function(e,n,a){var i=n.x,l=n.y,v=e.w,p=e.h,S=n.w,A=n.h,N=(a||"").split("");return N[0]==="b"&&(l+=A),N[1]==="r"&&(i+=S),N[0]==="c"&&(l+=G3(A/2)),N[1]==="c"&&(i+=G3(S/2)),N[3]==="b"&&(l-=p),N[4]==="r"&&(i-=v),N[3]==="c"&&(l-=G3(p/2)),N[4]==="c"&&(i-=G3(v/2)),X1(i,l,v,p)},UL=function(e,n,a,i){var l,v;for(v=0;v<i.length;v++)if(l=AM(e,n,i[v]),l.x>=a.x&&l.x+l.w<=a.w+a.x&&l.y>=a.y&&l.y+l.h<=a.h+a.y)return i[v];return null},WL=function(e,n,a){return X1(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},jL=function(e,n){var a=K1(e.x,n.x),i=K1(e.y,n.y),l=kM(e.x+e.w,n.x+n.w),v=kM(e.y+e.h,n.y+n.h);return l-a<0||v-i<0?null:X1(a,i,l-a,v-i)},GL=function(e,n,a){var i=e.x,l=e.y,v=e.x+e.w,p=e.y+e.h,S=n.x+n.w,A=n.y+n.h,N=K1(0,n.x-i),X=K1(0,n.y-l),J=K1(0,v-S),Q=K1(0,p-A);return i+=N,l+=X,a&&(v+=N,p+=X,i-=J,l-=Q),v-=J,p-=Q,X1(i,l,v-i,p-l)},X1=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},qL=function(e){return X1(e.left,e.top,e.width,e.height)},KL={inflate:WL,relativePosition:AM,findBestRelativePosition:UL,intersect:jL,clamp:GL,create:X1,fromClientRect:qL},XL=function(e,n,a){a===void 0&&(a=1e3);var i=!1,l=null,v=function(N){return function(){for(var X=[],J=0;J<arguments.length;J++)X[J]=arguments[J];i||(i=!0,l!==null&&(clearTimeout(l),l=null),N.apply(null,X))}},p=v(e),S=v(n),A=function(){for(var N=[],X=0;X<arguments.length;X++)N[X]=arguments[X];!i&&l===null&&(l=setTimeout(function(){return S.apply(null,N)},a))};return{start:A,resolve:p,reject:S}},r5=function(){var e={},n={},a=function(l,v){var p='Script at URL "'+v+'" failed to load',S='Script at URL "'+v+"\" did not call `tinymce.Resource.add('"+l+"', data)` within 1 second";if(e[l]!==void 0)return e[l];var A=new ii(function(N,X){var J=XL(N,X);n[l]=J.resolve,rv.ScriptLoader.loadScript(v,function(){return J.start(S)},function(){return J.reject(p)})});return e[l]=A,A},i=function(l,v){n[l]!==void 0&&(n[l](v),delete n[l]),e[l]=ii.resolve(v)};return{load:a,add:i}},w_=r5(),_v=wt.each,Fy=wt.extend,q3,C_,a5=function(){};a5.extend=q3=function(e){var n=this,a=n.prototype,i=function(){var S,A,N,X=this;if(!C_&&(X.init&&X.init.apply(X,arguments),A=X.Mixins,A))for(S=A.length;S--;)N=A[S],N.init&&N.init.apply(X,arguments)},l=function(){return this},v=function(S,A){return function(){var N=this,X=N._super;N._super=a[S];var J=A.apply(N,arguments);return N._super=X,J}};C_=!0;var p=new n;return C_=!1,e.Mixins&&(_v(e.Mixins,function(S){for(var A in S)A!=="init"&&(e[A]=S[A])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&_v(e.Methods.split(","),function(S){e[S]=l}),e.Properties&&_v(e.Properties.split(","),function(S){var A="_"+S;e[S]=function(N){var X=this;return N!==void 0?(X[A]=N,X):X[A]}}),e.Statics&&_v(e.Statics,function(S,A){i[A]=S}),e.Defaults&&a.Defaults&&(e.Defaults=Fy({},a.Defaults,e.Defaults)),Vr(e,function(S,A){typeof S=="function"&&a[A]?p[A]=v(A,S):p[A]=S}),i.prototype=p,i.constructor=i,i.extend=q3,i};var __=Math.min,K3=Math.max,Zg=Math.round,EM=function(e){var n={},a=0,i=0,l=0,v=function(J,Q,fe){var de,he,pe;de=0,he=0,pe=0,J=J/255,Q=Q/255,fe=fe/255;var Oe=__(J,__(Q,fe)),xe=K3(J,K3(Q,fe));if(Oe===xe)return pe=Oe,{h:0,s:0,v:pe*100};var Xe=J===Oe?Q-fe:fe===Oe?J-Q:fe-J;return de=J===Oe?3:fe===Oe?1:5,de=60*(de-Xe/(xe-Oe)),he=(xe-Oe)/xe,pe=xe,{h:Zg(de),s:Zg(he*100),v:Zg(pe*100)}},p=function(J,Q,fe){if(J=(parseInt(J,10)||0)%360,Q=parseInt(Q,10)/100,fe=parseInt(fe,10)/100,Q=K3(0,__(Q,1)),fe=K3(0,__(fe,1)),Q===0){a=i=l=Zg(255*fe);return}var de=J/60,he=fe*Q,pe=he*(1-Math.abs(de%2-1)),Oe=fe-he;switch(Math.floor(de)){case 0:a=he,i=pe,l=0;break;case 1:a=pe,i=he,l=0;break;case 2:a=0,i=he,l=pe;break;case 3:a=0,i=pe,l=he;break;case 4:a=pe,i=0,l=he;break;case 5:a=he,i=0,l=pe;break;default:a=i=l=0}a=Zg(255*(a+Oe)),i=Zg(255*(i+Oe)),l=Zg(255*(l+Oe))},S=function(){var J=function(Q){return Q=parseInt(Q,10).toString(16),Q.length>1?Q:"0"+Q};return"#"+J(a)+J(i)+J(l)},A=function(){return{r:a,g:i,b:l}},N=function(){return v(a,i,l)},X=function(J){var Q;return typeof J=="object"?"r"in J?(a=J.r,i=J.g,l=J.b):"v"in J&&p(J.h,J.s,J.v):(Q=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(J))?(a=parseInt(Q[1],10),i=parseInt(Q[2],10),l=parseInt(Q[3],10)):(Q=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(J))?(a=parseInt(Q[1],16),i=parseInt(Q[2],16),l=parseInt(Q[3],16)):(Q=/#([0-F])([0-F])([0-F])/gi.exec(J))&&(a=parseInt(Q[1]+Q[1],16),i=parseInt(Q[2]+Q[2],16),l=parseInt(Q[3]+Q[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,n};return e&&X(e),n.toRgb=A,n.toHsv=N,n.toHex=S,n.parse=X,n},YL=function(e){var n=JSON.stringify(e);return $e(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},o5={serialize:YL,parse:function(e){try{return JSON.parse(e)}catch{}}},JL={callbacks:{},count:0,send:function(e){var n=this,a=Ma.DOM,i=e.count!==void 0?e.count:n.count,l="tinymce_jsonp_"+i;n.callbacks[i]=function(v){a.remove(l),delete n.callbacks[i],e.callback(v)},a.add(a.doc.body,"script",{id:l,src:e.url,type:"text/javascript"}),n.count++}},X3=qn(qn({},L3),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):Ui.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",X3.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&wt.each(e.requestheaders,function(l){n.setRequestHeader(l.key,l.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=X3.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();Ui.setTimeout(i,10)}}),TM=wt.extend,ZL=function(){function e(n){this.settings=TM({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,l=TM(this.settings,n);l.success=function(v,p){v=o5.parse(v),typeof v>"u"&&(v={error:"JSON Parse error."}),v.error?a.call(l.error_scope||l.scope,v.error,p):i.call(l.success_scope||l.scope,v.result)},l.error=function(v,p){a&&a.call(l.error_scope||l.scope,v,p)},l.data=o5.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),l.content_type="application/json",X3.send(l)},e}(),OM=function(){return function(){var e={},n=[],a={getItem:function(i){var l=e[i];return l||null},setItem:function(i,l){n.push(i),e[i]=String(l)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(l){return l===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},Ly;try{var i5="__storage_test__";Ly=window.localStorage,Ly.setItem(i5,i5),Ly.removeItem(i5)}catch{Ly=OM()}var QL=Ly,e7={geom:{Rect:KL},util:{Promise:ii,Delay:Ui,Tools:wt,VK:Gn,URI:yd,Class:a5,EventDispatcher:F3,Observable:L3,I18n:wu,XHR:X3,JSON:o5,JSONRequest:ZL,JSONP:JL,LocalStorage:QL,Color:EM,ImageUploader:UR},dom:{EventUtils:$h,Sizzle:ga,DomQuery:mr,TreeWalker:sa,TextSeeker:G2,DOMUtils:Ma,ScriptLoader:rv,RangeUtils:s1,Serializer:SR,StyleSheetLoader:J_,ControlSelection:Gw,BookmarkManager:md,Selection:sR,Event:$h.Event},html:{Styles:$l,Entities:$s,Node:ll,Schema:Bs,SaxParser:Ag,DomParser:Wk,Writer:nk,Serializer:Am},Env:Wn,AddOnManager:zu,Annotator:H0,Formatter:WR,UndoManager:pf,EditorCommands:Xg,WindowManager:PT,NotificationManager:pv,EditorObservable:gM,Shortcuts:W3,Editor:j3,FocusManager:Rx,EditorManager:Jg,DOM:Ma.DOM,ScriptLoader:rv.ScriptLoader,PluginManager:cl,ThemeManager:kd,IconManager:qk,Resource:w_,trim:wt.trim,isArray:wt.isArray,is:wt.is,toArray:wt.toArray,makeMap:wt.makeMap,each:wt.each,map:wt.map,grep:wt.grep,inArray:wt.inArray,extend:wt.extend,create:wt.create,walk:wt.walk,createNS:wt.createNS,resolve:wt.resolve,explode:wt.explode,_addCacheSuffix:wt._addCacheSuffix,isOpera:Wn.opera,isWebKit:Wn.webkit,isIE:Wn.ie,isGecko:Wn.gecko,isMac:Wn.mac},DM=wt.extend(Jg,e7),t7=function(e){try{f.exports=e}catch{}},n7=function(e){window.tinymce=e,window.tinyMCE=e};n7(DM),t7(DM)})()})(dG);var voe=dG.exports;const xn=foe(voe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var f=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},m=function(t){return function(r){return f(r)===t}},y=function(t){return function(r){return typeof r===t}},b=function(t){return function(r){return t===r}},_=m("string"),x=m("object"),T=m("array"),O=b(null),L=y("boolean"),W=b(void 0),I=function(t){return t==null},H=function(t){return!I(t)},P=y("function"),V=y("number"),Z=function(t,r){if(T(t)){for(var o=0,s=t.length;o<s;++o)if(!r(t[o]))return!1;return!0}return!1},q=function(){},$e=function(t){return function(){return t()}},me=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(r.apply(null,o))}},Be=function(t,r){return function(o){return t(r(o))}},ne=function(t){return function(){return t}},ge=function(t){return t},De=function(t,r){return t===r};function Se(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];var g=r.concat(s);return t.apply(null,g)}}var We=function(t){return function(r){return!t(r)}},se=function(t){return function(){throw new Error(t)}},ce=ne(!1),Ee=ne(!0),Ue=tinymce.util.Tools.resolve("tinymce.ThemeManager"),re=function(){return re=Object.assign||function(r){for(var o,s=1,d=arguments.length;s<d;s++){o=arguments[s];for(var g in o)Object.prototype.hasOwnProperty.call(o,g)&&(r[g]=o[g])}return r},re.apply(this,arguments)};function j(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(t);d<s.length;d++)r.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(t,s[d])&&(o[s[d]]=t[s[d]]);return o}function ke(t,r,o){if(o||arguments.length===2)for(var s=0,d=r.length,g;s<d;s++)(g||!(s in r))&&(g||(g=Array.prototype.slice.call(r,0,s)),g[s]=r[s]);return t.concat(g||Array.prototype.slice.call(r))}var rt=function(){return le},le=function(){var t=function(s){return s()},r=ge,o={fold:function(s,d){return s()},isSome:ce,isNone:Ee,getOr:r,getOrThunk:t,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:ne(null),getOrUndefined:ne(void 0),or:r,orThunk:t,map:rt,each:q,bind:rt,exists:ce,forall:Ee,filter:function(){return rt()},toArray:function(){return[]},toString:ne("none()")};return o}(),be=function(t){var r=ne(t),o=function(){return d},s=function(g){return g(t)},d={fold:function(g,C){return C(t)},isSome:Ee,isNone:ce,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(g){return be(g(t))},each:function(g){g(t)},bind:s,exists:s,forall:s,filter:function(g){return g(t)?d:le},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return d},st=function(t){return t==null?le:be(t)},B={some:be,none:rt,from:st},kt=Array.prototype.slice,at=Array.prototype.indexOf,ot=Array.prototype.push,An=function(t,r){return at.call(t,r)},cn=function(t,r){var o=An(t,r);return o===-1?B.none():B.some(o)},ct=function(t,r){return An(t,r)>-1},_n=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(r(d,o))return!0}return!1},te=function(t,r){for(var o=[],s=0;s<t;s++)o.push(r(s));return o},fn=function(t,r){for(var o=[],s=0;s<t.length;s+=r){var d=kt.call(t,s,s+r);o.push(d)}return o},Ve=function(t,r){for(var o=t.length,s=new Array(o),d=0;d<o;d++){var g=t[d];s[d]=r(g,d)}return s},pt=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];r(d,o)}},Jn=function(t,r){for(var o=t.length-1;o>=0;o--){var s=t[o];r(s,o)}},Te=function(t,r){for(var o=[],s=[],d=0,g=t.length;d<g;d++){var C=t[d],E=r(C,d)?o:s;E.push(C)}return{pass:o,fail:s}},Ae=function(t,r){for(var o=[],s=0,d=t.length;s<d;s++){var g=t[s];r(g,s)&&o.push(g)}return o},Ze=function(t,r,o){return Jn(t,function(s,d){o=r(o,s,d)}),o},et=function(t,r,o){return pt(t,function(s,d){o=r(o,s,d)}),o},Le=function(t,r,o){for(var s=0,d=t.length;s<d;s++){var g=t[s];if(r(g,s))return B.some(g);if(o(g,s))break}return B.none()},bt=function(t,r){return Le(t,r,ce)},Jt=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(r(d,o))return B.some(o)}return B.none()},ut=function(t){for(var r=[],o=0,s=t.length;o<s;++o){if(!T(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);ot.apply(r,t[o])}return r},jt=function(t,r){return ut(Ve(t,r))},Rt=function(t,r){for(var o=0,s=t.length;o<s;++o){var d=t[o];if(r(d,o)!==!0)return!1}return!0},Ft=function(t){var r=kt.call(t,0);return r.reverse(),r},rn=function(t,r){return Ae(t,function(o){return!ct(r,o)})},pn=function(t,r){for(var o={},s=0,d=t.length;s<d;s++){var g=t[s];o[String(g)]=r(g,s)}return o},Yn=function(t){return[t]},fr=function(t,r){var o=kt.call(t,0);return o.sort(r),o},qr=function(t,r){return r>=0&&r<t.length?B.some(t[r]):B.none()},ir=function(t){return qr(t,0)},ua=function(t){return qr(t,t.length-1)},va=P(Array.from)?Array.from:function(t){return kt.call(t)},Qr=function(t,r){for(var o=0;o<t.length;o++){var s=r(t[o],o);if(s.isSome())return s}return B.none()},Hr=Object.keys,da=Object.hasOwnProperty,Ur=function(t,r){for(var o=Hr(t),s=0,d=o.length;s<d;s++){var g=o[s],C=t[g];r(C,g)}},vr=function(t,r){return Fa(t,function(o,s){return{k:s,v:r(o,s)}})},Fa=function(t,r){var o={};return Ur(t,function(s,d){var g=r(s,d);o[g.k]=g.v}),o},Zi=function(t){return function(r,o){t[o]=r}},Xl=function(t,r,o,s){var d={};return Ur(t,function(g,C){(r(g,C)?o:s)(g,C)}),d},Vr=function(t,r){var o={};return Xl(t,r,Zi(o),q),o},yi=function(t,r){var o=[];return Ur(t,function(s,d){o.push(r(s,d))}),o},Ju=function(t,r){for(var o=Hr(t),s=0,d=o.length;s<d;s++){var g=o[s],C=t[g];if(r(C,g,t))return B.some(C)}return B.none()},wi=function(t){return yi(t,ge)},Tn=function(t,r){return Pr(t,r)?B.from(t[r]):B.none()},Pr=function(t,r){return da.call(t,r)},lo=function(t,r){return Pr(t,r)&&t[r]!==void 0&&t[r]!==null},lu=function(t,r,o){return o===void 0&&(o=De),t.exists(function(s){return o(s,r)})},Zu=function(t,r,o){return o===void 0&&(o=De),Gs(t,r,o).getOr(t.isNone()&&r.isNone())},Ir=function(t){for(var r=[],o=function(d){r.push(d)},s=0;s<t.length;s++)t[s].each(o);return r},Dr=function(t){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s.isSome())r.push(s.getOrDie());else return B.none()}return B.some(r)},Gs=function(t,r,o){return t.isSome()&&r.isSome()?B.some(o(t.getOrDie(),r.getOrDie())):B.none()},rh=function(t,r,o,s){return t.isSome()&&r.isSome()&&o.isSome()?B.some(s(t.getOrDie(),r.getOrDie(),o.getOrDie())):B.none()},Df=function(t,r){return t!=null?B.some(r(t)):B.none()},qs=function(t,r){return t?B.some(r):B.none()},Bc=function(t,r){return t+r},Ov=function(t,r){return t.substring(r)},pl=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},bl=function(t,r){return Ks(t,r)?Ov(t,r.length):t},Rf=function(t,r){return qn(t,r)?t:Bc(t,r)},ma=function(t,r){return t.indexOf(r)!==-1},Ks=function(t,r){return pl(t,r,0)},qn=function(t,r){return pl(t,r,t.length-r.length)},ah=function(t){return function(r){return r.replace(t,"")}},Ou=ah(/^\s+|\s+$/g),Mc=function(t){return t.length>0},oh=function(t){return!Mc(t)},Yl=function(t){return t.style!==void 0&&P(t.style.getPropertyValue)},ih=function(t,r){var o=r||document,s=o.createElement("div");if(s.innerHTML=t,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return _s(s.childNodes[0])},$f=function(t,r){var o=r||document,s=o.createElement(t);return _s(s)},uh=function(t,r){var o=r||document,s=o.createTextNode(t);return _s(s)},_s=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Pc=function(t,r,o){return B.from(t.dom.elementFromPoint(r,o)).map(_s)},sn={fromHtml:ih,fromTag:$f,fromText:uh,fromDom:_s,fromPoint:Pc};typeof window<"u"||Function("return this;")();var $d=9,Dv=11,Rv=1,Jl=3,Qu=function(t){var r=t.dom.nodeName;return r.toLowerCase()},sh=function(t){return t.dom.nodeType},Bo=function(t){return function(r){return sh(r)===t}},po=Bo(Rv),Du=Bo(Jl),Xs=Bo($d),Bd=Bo(Dv),es=function(t){var r=!1,o;return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return r||(r=!0,o=t.apply(null,s)),o}},Bf=function(t,r,o,s){var d=t.isiOS()&&/ipad/i.test(o)===!0,g=t.isiOS()&&!d,C=t.isiOS()||t.isAndroid(),E=C||s("(pointer:coarse)"),D=d||!g&&C&&s("(min-device-width:768px)"),$=g||C&&!D,U=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,G=!$&&!D&&!U;return{isiPad:ne(d),isiPhone:ne(g),isTablet:ne(D),isPhone:ne($),isTouch:ne(E),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ne(U),isDesktop:ne(G)}},Md=function(t,r){for(var o=0;o<t.length;o++){var s=t[o];if(s.test(r))return s}},yl=function(t,r){var o=Md(t,r);if(!o)return{major:0,minor:0};var s=function(d){return Number(r.replace(o,"$"+d))};return Ci(s(1),s(2))},Ru=function(t,r){var o=String(r).toLowerCase();return t.length===0?en():yl(t,o)},en=function(){return Ci(0,0)},Ci=function(t,r){return{major:t,minor:r}},wl={nu:Ci,detect:Ru,unknown:en},lh=function(t,r){return Qr(r.brands,function(o){var s=o.brand.toLowerCase();return bt(t,function(d){var g;return s===((g=d.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(function(d){return{current:d.name,version:wl.nu(parseInt(o.version,10),0)}})})},Mf=function(t,r){var o=String(r).toLowerCase();return bt(t,function(s){return s.search(o)})},ea=function(t,r){return Mf(t,r).map(function(o){var s=wl.detect(o.versionRegexes,r);return{current:o.name,version:s}})},$v=function(t,r){return Mf(t,r).map(function(o){var s=wl.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Cl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,co=function(t){return function(r){return ma(r,t)}},Bv=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ma(t,"edge/")&&ma(t,"chrome")&&ma(t,"safari")&&ma(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Cl],search:function(t){return ma(t,"chrome")&&!ma(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ma(t,"msie")||ma(t,"trident")}},{name:"Opera",versionRegexes:[Cl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:co("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:co("firefox")},{name:"Safari",versionRegexes:[Cl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ma(t,"safari")||ma(t,"mobile/"))&&ma(t,"applewebkit")}}],cu=[{name:"Windows",search:co("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ma(t,"iphone")||ma(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:co("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:co("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:co("linux"),versionRegexes:[]},{name:"Solaris",search:co("sunos"),versionRegexes:[]},{name:"FreeBSD",search:co("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:co("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ts={browsers:ne(Bv),oses:ne(cu)},Ra="Edge",Pf="Chrome",If="IE",Mv="Opera",Pd="Firefox",_l="Safari",Ys=function(){return Pv({current:void 0,version:wl.unknown()})},Pv=function(t){var r=t.current,o=t.version,s=function(d){return function(){return r===d}};return{current:r,version:o,isEdge:s(Ra),isChrome:s(Pf),isIE:s(If),isOpera:s(Mv),isFirefox:s(Pd),isSafari:s(_l)}},Ss={unknown:Ys,nu:Pv,edge:ne(Ra),chrome:ne(Pf),ie:ne(If),opera:ne(Mv),firefox:ne(Pd),safari:ne(_l)},$u="Windows",ie="iOS",Ie="Android",Je="Linux",Et="OSX",qt="Solaris",Bn="FreeBSD",aa="ChromeOS",ha=function(){return yr({current:void 0,version:wl.unknown()})},yr=function(t){var r=t.current,o=t.version,s=function(d){return function(){return r===d}};return{current:r,version:o,isWindows:s($u),isiOS:s(ie),isAndroid:s(Ie),isOSX:s(Et),isLinux:s(Je),isSolaris:s(qt),isFreeBSD:s(Bn),isChromeOS:s(aa)}},La={unknown:ha,nu:yr,windows:ne($u),ios:ne(ie),android:ne(Ie),linux:ne(Je),osx:ne(Et),solaris:ne(qt),freebsd:ne(Bn),chromeos:ne(aa)},Ka=function(t,r,o){var s=ts.browsers(),d=ts.oses(),g=r.bind(function(D){return lh(s,D)}).orThunk(function(){return ea(s,t)}).fold(Ss.unknown,Ss.nu),C=$v(d,t).fold(La.unknown,La.nu),E=Bf(C,g,t,o);return{browser:g,os:C,deviceType:E}},Ic={detect:Ka},zi=function(t){return window.matchMedia(t).matches},Zl=es(function(){return Ic.detect(navigator.userAgent,B.from(navigator.userAgentData),zi)}),Wn=function(){return Zl()},ch=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},vp=function(t,r){return ch(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},ta=function(t,r){var o=t.dom;if(o.nodeType!==Rv)return!1;var s=o;if(s.matches!==void 0)return s.matches(r);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(r);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(r);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},dp=function(t){return t.nodeType!==Rv&&t.nodeType!==$d&&t.nodeType!==Dv||t.childElementCount===0},fh=function(t,r){var o=r===void 0?document:r.dom;return dp(o)?[]:Ve(o.querySelectorAll(t),sn.fromDom)},r2=function(t,r){var o=r===void 0?document:r.dom;return dp(o)?B.none():B.from(o.querySelector(t)).map(sn.fromDom)},Sa=function(t,r){return t.dom===r.dom},Js=function(t,r){var o=t.dom,s=r.dom;return o===s?!1:o.contains(s)},a2=function(t,r){return vp(t.dom,r.dom)},Sl=function(t,r){return Wn().browser.isIE()?a2(t,r):Js(t,r)},Jo=function(t){return sn.fromDom(t.dom.ownerDocument)},Nf=function(t){return Xs(t)?t:Jo(t)},wt=function(t){return sn.fromDom(Nf(t).dom.documentElement)},vh=function(t){return sn.fromDom(Nf(t).dom.defaultView)},xo=function(t){return B.from(t.dom.parentNode).map(sn.fromDom)},cb=function(t){return xo(t)},zf=function(t){return B.from(t.dom.offsetParent).map(sn.fromDom)},Iv=function(t){return B.from(t.dom.nextSibling).map(sn.fromDom)},Ge=function(t){return Ve(t.dom.childNodes,sn.fromDom)},ai=function(t,r){var o=t.dom.childNodes;return B.from(o[r]).map(sn.fromDom)},dh=function(t){return ai(t,0)},mp=function(t,r){return{element:t,offset:r}},fb=function(t,r){var o=Ge(t);return o.length>0&&r<o.length?mp(o[r],0):mp(t,r)},Id=function(t){return Bd(t)&&H(t.dom.host)},hp=P(Element.prototype.attachShadow)&&P(Node.prototype.getRootNode),gp=ne(hp),xs=hp?function(t){return sn.fromDom(t.dom.getRootNode())}:Nf,Ql=function(t){return Id(t)?t:sn.fromDom(Nf(t).dom.body)},vb=function(t){return db(t).isSome()},db=function(t){var r=xs(t);return Id(r)?B.some(r):B.none()},ec=function(t){return sn.fromDom(t.dom.host)},$a=function(t){if(gp()&&H(t.target)){var r=sn.fromDom(t.target);if(po(r)&&mb(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return ir(o)}}return B.from(t.target)},mb=function(t){return H(t.dom.shadowRoot)},fu=function(t){var r=Du(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return db(sn.fromDom(r)).fold(function(){return o.body.contains(r)},Be(fu,ec))},Fi=function(){return ko(sn.fromDom(document))},ko=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return sn.fromDom(r)},Nc=function(t,r,o){if(_(o)||L(o)||V(o))t.setAttribute(r,o+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},cr=function(t,r,o){Nc(t.dom,r,o)},ns=function(t,r){var o=t.dom;Ur(r,function(s,d){Nc(o,d,s)})},Ha=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},Xa=function(t,r){return B.from(Ha(t,r))},hb=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},oi=function(t,r){t.dom.removeAttribute(r)},pp=function(t,r,o){if(!_(o))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Yl(t)&&t.style.setProperty(r,o)},xl=function(t,r){Yl(t)&&t.style.removeProperty(r)},Xn=function(t,r,o){var s=t.dom;pp(s,r,o)},rs=function(t,r){var o=t.dom;Ur(r,function(s,d){pp(o,d,s)})},no=function(t,r){var o=t.dom;Ur(r,function(s,d){s.fold(function(){xl(o,d)},function(g){pp(o,d,g)})})},ro=function(t,r){var o=t.dom,s=window.getComputedStyle(o),d=s.getPropertyValue(r);return d===""&&!fu(t)?Lo(o,r):d},Lo=function(t,r){return Yl(t)?t.style.getPropertyValue(r):""},Ao=function(t,r){var o=t.dom,s=Lo(o,r);return B.from(s).filter(function(d){return d.length>0})},Ff=function(t){var r={},o=t.dom;if(Yl(o))for(var s=0;s<o.style.length;s++){var d=o.style.item(s);r[d]=o.style[d]}return r},ks=function(t,r,o){var s=sn.fromTag(t);Xn(s,r,o);var d=Ao(s,r);return d.isSome()},Kr=function(t,r){var o=t.dom;xl(o,r),lu(Xa(t,"style").map(Ou),"")&&oi(t,"style")},Ba=function(t){return t.dom.offsetWidth},Qi=function(t,r){var o=function(E,D){if(!V(D)&&!D.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+D);var $=E.dom;Yl($)&&($.style[t]=D+"px")},s=function(E){var D=r(E);if(D<=0||D===null){var $=ro(E,t);return parseFloat($)||0}return D},d=s,g=function(E,D){return et(D,function($,U){var G=ro(E,U),ee=G===void 0?0:parseInt(G,10);return isNaN(ee)?$:$+ee},0)},C=function(E,D,$){var U=g(E,$),G=D>U?D-U:0;return G};return{set:o,get:s,getOuter:d,aggregate:g,max:C}},tc=Qi("height",function(t){var r=t.dom;return fu(t)?r.getBoundingClientRect().height:r.offsetHeight}),Mo=function(t){return tc.get(t)},as=function(t){return tc.getOuter(t)},gb=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=tc.max(t,r,o);Xn(t,"max-height",s+"px")},Lf=function(t,r){var o=function(s,d){return Lf(t+s,r+d)};return{left:t,top:r,translate:o}},ya=Lf,Zs=function(t){var r=t.getBoundingClientRect();return ya(r.left,r.top)},zc=function(t,r){return t!==void 0?t:r!==void 0?r:0},vu=function(t){var r=t.dom.ownerDocument,o=r.body,s=r.defaultView,d=r.documentElement;if(o===t.dom)return ya(o.offsetLeft,o.offsetTop);var g=zc(s==null?void 0:s.pageYOffset,d.scrollTop),C=zc(s==null?void 0:s.pageXOffset,d.scrollLeft),E=zc(d.clientTop,o.clientTop),D=zc(d.clientLeft,o.clientLeft);return fo(t).translate(C-D,g-E)},fo=function(t){var r=t.dom,o=r.ownerDocument,s=o.body;return s===r?ya(s.offsetLeft,s.offsetTop):fu(t)?Zs(r):ya(0,0)},Fc=Qi("width",function(t){return t.dom.offsetWidth}),nc=function(t,r){return Fc.set(t,r)},Li=function(t){return Fc.get(t)},du=function(t){return Fc.getOuter(t)},_i=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Fc.max(t,r,o);Xn(t,"max-width",s+"px")},Nv=function(t,r,o,s,d,g,C){return{target:t,x:r,y:o,stop:s,prevent:d,kill:g,raw:C}},Qs=function(t){var r=sn.fromDom($a(t).getOr(t.target)),o=function(){return t.stopPropagation()},s=function(){return t.preventDefault()},d=me(s,o);return Nv(r,t.clientX,t.clientY,o,s,d,t)},Ho=function(t,r){return function(o){t(o)&&r(Qs(o))}},Nd=function(t,r,o,s,d){var g=Ho(o,s);return t.dom.addEventListener(r,g,d),{unbind:Se(Vf,t,r,g,d)}},pb=function(t,r,o,s){return Nd(t,r,o,s,!1)},Hf=function(t,r,o,s){return Nd(t,r,o,s,!0)},Vf=function(t,r,o,s){t.dom.removeEventListener(r,o,s)},vo=function(t,r){var o=xo(t);o.each(function(s){s.dom.insertBefore(r.dom,t.dom)})},Uf=function(t,r){var o=Iv(t);o.fold(function(){var s=xo(t);s.each(function(d){Hi(d,r)})},function(s){vo(s,r)})},Wf=function(t,r){var o=dh(t);o.fold(function(){Hi(t,r)},function(s){t.dom.insertBefore(r.dom,s.dom)})},Hi=function(t,r){t.dom.appendChild(r.dom)},rc=function(t,r,o){ai(t,o).fold(function(){Hi(t,r)},function(s){vo(s,r)})},jf=function(t,r){pt(r,function(o){vo(t,o)})},ac=function(t,r){pt(r,function(o){Hi(t,o)})},ja=function(t){t.dom.textContent="",pt(Ge(t),function(r){Bu(r)})},Bu=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},mh=function(t){var r=Ge(t);r.length>0&&jf(t,r),Bu(t)},os=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,s=r.body.scrollTop||r.documentElement.scrollTop;return ya(o,s)},hh=function(t,r,o){var s=o!==void 0?o.dom:document,d=s.defaultView;d&&d.scrollTo(t,r)},bb=function(t){var r=t===void 0?window:t;return Wn().browser.isFirefox()?B.none():B.from(r.visualViewport)},bp=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Gf=function(t){var r=t===void 0?window:t,o=r.document,s=os(sn.fromDom(o));return bb(r).fold(function(){var d=r.document.documentElement,g=d.clientWidth,C=d.clientHeight;return bp(s.left,s.top,g,C)},function(d){return bp(Math.max(d.pageLeft,s.left),Math.max(d.pageTop,s.top),d.width,d.height)})},qf=function(t,r){var o=t.view(r);return o.fold(ne([]),function(s){var d=t.owner(s),g=qf(t,d);return[s].concat(g)})},Lc=function(t,r){var o=r.owner(t),s=qf(r,o);return B.some(s)},Zn=function(t){var r,o=t.dom===document?B.none():B.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(sn.fromDom)},As=function(t){return Jo(t)},mu=Object.freeze({__proto__:null,view:Zn,owner:As}),Vi=function(t){var r=sn.fromDom(document),o=os(r),s=Lc(t,mu);return s.fold(Se(vu,t),function(d){var g=fo(t),C=Ze(d,function(E,D){var $=fo(D);return{left:E.left+$.left,top:E.top+$.top}},{left:0,top:0});return ya(C.left+g.left+o.left,C.top+g.top+o.top)})},Es=function(t,r,o){return{point:t,width:r,height:o}},bo=function(t,r,o,s){return{x:t,y:r,width:o,height:s}},Vo=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Eo=function(t){var r=vu(t),o=du(t),s=as(t);return Vo(r.left,r.top,o,s)},Hc=function(t){var r=Vi(t),o=du(t),s=as(t);return Vo(r.left,r.top,o,s)},Si=function(){return Gf(window)},gn=function(t){var r=function(G){return gn(t)},o=function(G){return gn(t)},s=function(G){return gn(G(t))},d=function(G){return gn(t)},g=function(G){G(t)},C=function(G){return G(t)},E=function(G,ee){return ee(t)},D=function(G){return G(t)},$=function(G){return G(t)},U=function(){return B.some(t)};return{isValue:Ee,isError:ce,getOr:ne(t),getOrThunk:ne(t),getOrDie:ne(t),or:r,orThunk:o,fold:E,map:s,mapError:d,each:g,bind:C,exists:D,forall:$,toOptional:U}},Kf=function(t){var r=function($){return $()},o=function(){return se(String(t))()},s=ge,d=function($){return $()},g=function($){return Kf(t)},C=function($){return Kf($(t))},E=function($){return Kf(t)},D=function($,U){return $(t)};return{isValue:ce,isError:Ee,getOr:ge,getOrThunk:r,getOrDie:o,or:s,orThunk:d,fold:D,map:g,mapError:C,each:q,bind:E,exists:ce,forall:Ee,toOptional:B.none}},yp=function(t,r){return t.fold(function(){return Kf(r)},gn)},dr={value:gn,error:Kf,fromOption:yp},wa;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(wa||(wa={}));var gh=function(t,r,o){return t.stype===wa.Error?r(t.serror):o(t.svalue)},kl=function(t){var r=[],o=[];return pt(t,function(s){gh(s,function(d){return o.push(d)},function(d){return r.push(d)})}),{values:r,errors:o}},Va=function(t,r){return t.stype===wa.Error?{stype:wa.Error,serror:r(t.serror)}:t},ph=function(t,r){return t.stype===wa.Value?{stype:wa.Value,svalue:r(t.svalue)}:t},Mu=function(t,r){return t.stype===wa.Value?r(t.svalue):t},zd=function(t,r){return t.stype===wa.Error?r(t.serror):t},gr=function(t){return{stype:wa.Value,svalue:t}},eu=function(t){return{stype:wa.Error,serror:t}},o2=function(t){return gh(t,dr.error,dr.value)},i2=function(t){return t.fold(eu,gr)},Ga={fromResult:i2,toResult:o2,svalue:gr,partition:kl,serror:eu,bind:Mu,bindError:zd,map:ph,mapError:Va,fold:gh},bh=function(t,r,o,s){return{tag:"field",key:t,newKey:r,presence:o,prop:s}},M=function(t,r){return{tag:"custom",newKey:t,instantiator:r}},Y=function(t,r,o){switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},ae=function(t,r){return r},Ce=function(t,r){var o=x(t)&&x(r);return o?yt(t,r):r},qe=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var s={},d=0;d<r.length;d++){var g=r[d];for(var C in g)Pr(g,C)&&(s[C]=t(s[C],g[C]))}return s}},yt=qe(Ce),kn=qe(ae),rr=function(){return{tag:"required",process:{}}},Rr=function(t){return{tag:"defaultedThunk",process:t}},pr=function(t){return Rr(ne(t))},xa=function(){return{tag:"option",process:{}}},xi=function(t){return{tag:"mergeWithThunk",process:t}},ao=function(t){return xi(ne(t))},CA=function(t,r){return t.length>0?Ga.svalue(yt(r,kn.apply(void 0,t))):Ga.svalue(r)},G_=function(t){return me(Ga.serror,ut)(t)},q_=function(t,r){var o=Ga.partition(t);return o.errors.length>0?G_(o.errors):CA(o.values,r)},_A=function(t){var r=Ga.partition(t);return r.errors.length>0?G_(r.errors):Ga.svalue(r.values)},oc={consolidateObj:q_,consolidateArr:_A},wp=function(t){return x(t)&&Hr(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Pu=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:ne("... (only showing first ten failures)")}]):t;return Ve(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},yh=function(t,r){return Ga.serror([{path:t,getErrorInfo:r}])},u2=function(t,r,o){return yh(t,function(){return'Could not find valid *required* value for "'+r+'" in '+wp(o)})},Cp=function(t,r){return yh(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},yb=function(t,r,o){return yh(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+wp(r)})},K_=function(t,r){return yh(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},SA=function(t,r){return yh(t,ne(r))},ic=function(t){var r=function(s,d){return Ga.bindError(t(d),function(g){return SA(s,g)})},o=ne("val");return{extract:r,toString:o}},_p=ic(Ga.svalue),xA=function(t,r,o,s){return Tn(r,o).fold(function(){return u2(t,o,r)},s)},s2=function(t,r,o,s){var d=Tn(t,r).getOrThunk(function(){return o(t)});return s(d)},kA=function(t,r,o){return o(Tn(t,r))},AA=function(t,r,o,s){var d=Tn(t,r).map(function(g){return g===!0?o(t):g});return s(d)},wh=function(t,r,o,s,d){var g=function(E){return d.extract(r.concat([s]),E)},C=function(E){return E.fold(function(){return Ga.svalue(B.none())},function(D){var $=d.extract(r.concat([s]),D);return Ga.map($,B.some)})};switch(t.tag){case"required":return xA(r,o,s,g);case"defaultedThunk":return s2(o,s,t.process,g);case"option":return kA(o,s,C);case"defaultedOptionThunk":return AA(o,s,t.process,C);case"mergeWithThunk":return s2(o,s,ne({}),function(E){var D=yt(t.process(o),E);return g(D)})}},Sp=function(t,r,o){for(var s={},d=[],g=0,C=o;g<C.length;g++){var E=C[g];Y(E,function(D,$,U,G){var ee=wh(U,t,r,D,G);Ga.fold(ee,function(oe){d.push.apply(d,oe)},function(oe){s[$]=oe})},function(D,$){s[D]=$(r)})}return d.length>0?Ga.serror(d):Ga.svalue(s)},X_=function(t){var r=function(s,d){return t().extract(s,d)},o=function(){return t().toString()};return{extract:r,toString:o}},Y_=function(t){return Hr(Vr(t,H))},is=function(t){var r=Mn(t),o=Ze(t,function(d,g){return Y(g,function(C){var E;return yt(d,(E={},E[C]=!0,E))},ne(d))},{}),s=function(d,g){var C=L(g)?[]:Y_(g),E=Ae(C,function(D){return!lo(o,D)});return E.length===0?r.extract(d,g):K_(d,E)};return{extract:s,toString:r.toString}},Mn=function(t){var r=function(s,d){return Sp(s,d,t)},o=function(){var s=Ve(t,function(d){return Y(d,function(g,C,E,D){return g+" -> "+D.toString()},function(g,C){return"state("+g+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:r,toString:o}},Xf=function(t){var r=function(s,d){var g=Ve(d,function(C,E){return t.extract(s.concat(["["+E+"]"]),C)});return oc.consolidateArr(g)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},xp=function(t){var r=function(s,d){for(var g=[],C=0,E=t;C<E.length;C++){var D=E[C],$=D.extract(s,d);if($.stype===wa.Value)return $;g.push($)}return oc.consolidateArr(g)},o=function(){return"oneOf("+Ve(t,function(s){return s.toString()}).join(", ")+")"};return{extract:r,toString:o}},zv=function(t,r){var o=function(g,C){return Xf(ic(t)).extract(g,C)},s=function(g,C){var E=Hr(C),D=o(g,E);return Ga.bind(D,function($){var U=Ve($,function(G){return bh(G,G,rr(),r)});return Mn(U).extract(g,C)})},d=function(){return"setOf("+r.toString()+")"};return{extract:s,toString:d}},Ch=function(t,r){var o=es(r),s=function(g,C){return o().extract(g,C)},d=function(){return o().toString()};return{extract:s,toString:d}},l2=me(Xf,Mn),Al=ne(_p),Fd=function(t,r){return ic(function(o){var s=typeof o;return t(o)?Ga.svalue(o):Ga.serror("Expected type: "+r+" but got: "+s)})},_h=Fd(V,"number"),yo=Fd(_,"string"),ii=Fd(L,"boolean"),kp=Fd(P,"function"),Vc=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return Vc(t[r])});default:return!1}},Ap=ic(function(t){return Vc(t)?Ga.svalue(t):Ga.serror("Expected value to be acceptable for sending via postMessage")}),wb=function(t,r,o,s){var d=Tn(o,s);return d.fold(function(){return yb(t,o,s)},function(g){return g.extract(t.concat(["branch: "+s]),r)})},Cb=function(t,r){var o=function(d,g){var C=Tn(g,t);return C.fold(function(){return Cp(d,t)},function(E){return wb(d,g,r,E)})},s=function(){return"chooseOn("+t+"). Possible values: "+Hr(r)};return{extract:o,toString:s}},EA=function(){return Xf(_p)},Sh=function(t){return ic(function(r){return t(r).fold(Ga.serror,Ga.svalue)})},Ui=function(t,r){return zv(function(o){return Ga.fromResult(t(o))},r)},J_=function(t,r,o){var s=r.extract([t],o);return Ga.mapError(s,function(d){return{input:o,errors:d}})},Ya=function(t,r,o){return Ga.toResult(J_(t,r,o))},El=function(t){return t.fold(function(r){throw new Error(Fv(r))},ge)},sa=function(t,r,o){return El(Ya(t,r,o))},Fv=function(t){return`Errors: 
`+Pu(t.errors).join(`
`)+`

Input object: `+wp(t.input)},el=function(t,r){return Cb(t,vr(r,Mn))},TA=function(t,r){return Ch(t,r)},Uo=bh,hu=M,Z_=function(t){return Sh(function(r){return ct(t,r)?dr.value(r):dr.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},At=function(t){return Uo(t,t,rr(),Al())},Iu=function(t,r){return Uo(t,t,rr(),r)},Yf=function(t){return Iu(t,_h)},Qn=function(t){return Iu(t,yo)},Ts=function(t,r){return Uo(t,t,rr(),Z_(r))},OA=function(t){return Iu(t,ii)},tu=function(t){return Iu(t,kp)},xh=function(t,r){return Uo(t,t,xa(),ic(function(o){return Ga.serror("The field: "+t+" is forbidden. "+r)}))},Uc=function(t,r){return Uo(t,t,rr(),Mn(r))},Tl=function(t,r){return Uo(t,t,rr(),l2(r))},Wi=function(t,r){return Uo(t,t,rr(),Xf(r))},Xr=function(t){return Uo(t,t,xa(),Al())},uc=function(t,r){return Uo(t,t,xa(),r)},Ld=function(t){return uc(t,_h)},Ea=function(t){return uc(t,yo)},Lv=function(t){return uc(t,kp)},us=function(t,r){return uc(t,Xf(r))},ss=function(t,r){return uc(t,Mn(r))},DA=function(t,r){return uc(t,is(r))},He=function(t,r){return Uo(t,t,pr(r),Al())},gu=function(t,r,o){return Uo(t,t,pr(r),o)},sc=function(t,r){return gu(t,r,_h)},kh=function(t,r){return gu(t,r,yo)},Os=function(t,r,o){return gu(t,r,Z_(o))},Ca=function(t,r){return gu(t,r,ii)},Ta=function(t,r){return gu(t,r,kp)},Nu=function(t,r){return gu(t,r,Ap)},Jf=function(t,r,o){return gu(t,r,Xf(o))},c2=function(t,r,o){return gu(t,r,Mn(o))},zn=function(t){var r=t,o=function(){return r},s=function(d){r=d};return{get:o,set:s}},_b=function(t){if(!T(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return pt(t,function(s,d){var g=Hr(s);if(g.length!==1)throw new Error("one and only one name per case");var C=g[0],E=s[C];if(o[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!T(E))throw new Error("case arguments must be an array");r.push(C),o[C]=function(){for(var D=[],$=0;$<arguments.length;$++)D[$]=arguments[$];var U=D.length;if(U!==E.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+E.length+" ("+E+"), got "+U);var G=function(ee){var oe=Hr(ee);if(r.length!==oe.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+oe.join(","));var ve=Rt(r,function(_e){return ct(oe,_e)});if(!ve)throw new Error("Not all branches were specified when using match. Specified: "+oe.join(", ")+`
Required: `+r.join(", "));return ee[C].apply(null,D)};return{fold:function(){for(var ee=[],oe=0;oe<arguments.length;oe++)ee[oe]=arguments[oe];if(ee.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+ee.length);var ve=ee[d];return ve.apply(null,D)},match:G,log:function(ee){console.log(ee,{constructors:r,constructor:C,params:D})}}}}),o},Ds={generate:_b};Ds.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Q_=function(t){var r=[],o=[];return pt(t,function(s){s.fold(function(d){r.push(d)},function(d){o.push(d)})}),{errors:r,values:o}},Ep=function(t,r){var o={};return Ur(t,function(s,d){ct(r,d)||(o[d]=s)}),o},Tp=function(t,r){var o;return o={},o[t]=r,o},f2=function(t){var r={};return pt(t,function(o){r[o.key]=o.value}),r},v2=function(t,r){return Ep(t,r)},Wc=function(t,r){return Tp(t,r)},Zf=function(t){return f2(t)},RA=function(t,r){return t.length===0?dr.value(r):dr.value(yt(r,kn.apply(void 0,t)))},d2=function(t){return dr.error(ut(t))},$A=function(t,r){var o=Q_(t);return o.errors.length>0?d2(o.errors):RA(o.values,r)},eS=function(t){return P(t)?t:ce},Op=function(t,r,o){for(var s=t.dom,d=eS(o);s.parentNode;){s=s.parentNode;var g=sn.fromDom(s),C=r(g);if(C.isSome())return C;if(d(g))break}return B.none()},Ah=function(t,r,o){var s=r(t),d=eS(o);return s.orThunk(function(){return d(t)?B.none():Op(t,r,d)})},tS=function(t,r){return Sa(t.element,r.event.target)},jc={can:Ee,abort:ce,run:q},Eh=function(t){if(!lo(t,"can")&&!lo(t,"abort")&&!lo(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return re(re({},jc),t)},m2=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return et(t,function(d,g){return d&&r(g).apply(void 0,o)},!0)}},nS=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return et(t,function(d,g){return d||r(g).apply(void 0,o)},!1)}},BA=function(t){return P(t)?{can:Ee,abort:ce,run:t}:t},MA=function(t){var r=m2(t,function(d){return d.can}),o=nS(t,function(d){return d.abort}),s=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];pt(t,function(C){C.run.apply(void 0,d)})};return{can:r,abort:o,run:s}},Po=ne,Gc=Po("touchstart"),Ol=Po("touchmove"),Hv=Po("touchend"),rS=Po("touchcancel"),Dl=Po("mousedown"),Hd=Po("mousemove"),h2=Po("mouseout"),g2=Po("mouseup"),Qf=Po("mouseover"),tl=Po("focusin"),ki=Po("focusout"),Sb=Po("keydown"),p2=Po("keyup"),Vd=Po("input"),Th=Po("change"),Oh=Po("click"),PA=Po("transitioncancel"),Dh=Po("transitionend"),b2=Po("transitionstart"),IA=Po("selectstart"),oo=function(t){return ne("alloy."+t)},xb={tap:oo("tap")},Vv=oo("focus"),y2=oo("blur.post"),w2=oo("paste.post"),nl=oo("receive"),Rs=oo("execute"),Ud=oo("focus.item"),Uv=xb.tap,kb=oo("longpress"),Dp=oo("sandbox.close"),C2=oo("typeahead.cancel"),Wd=oo("system.init"),Ab=oo("system.touchmove"),NA=oo("system.touchend"),_2=oo("system.scroll"),$s=oo("system.resize"),ls=oo("system.attached"),Rh=oo("system.detached"),Rl=oo("system.dismissRequested"),ji=oo("system.repositionRequested"),Eb=oo("focusmanager.shifted"),ev=oo("slotcontainer.visibility"),aS=oo("change.tab"),Ai=oo("dismiss.tab"),S2=oo("highlight"),Tb=oo("dehighlight"),Wr=function(t,r){$l(t,t.element,r,{})},Fn=function(t,r,o){$l(t,t.element,r,o)},Bs=function(t){Wr(t,Rs())},Ob=function(t,r,o){$l(t,r,o,{})},$l=function(t,r,o,s){var d=re({target:r},s);t.getSystem().triggerEvent(o,r,d)},oS=function(t,r,o,s){t.getSystem().triggerEvent(o,r,s.event)},_a=function(t){return Zf(t)},x2=function(t,r){return{key:t,value:Eh({abort:r})}},Db=function(t,r){return{key:t,value:Eh({can:r})}},Rb=function(t){return{key:t,value:Eh({run:function(r,o){o.event.prevent()}})}},$t=function(t,r){return{key:t,value:Eh({run:r})}},k2=function(t,r,o){return{key:t,value:Eh({run:function(s,d){r.apply(void 0,[s,d].concat(o))}})}},A2=function(t){return function(r){return $t(t,r)}},Wv=function(t){return function(r){return{key:t,value:Eh({run:function(o,s){tS(o,s)&&r(o,s)}})}}},Rp=function(t,r){return $t(t,function(o,s){o.getSystem().getByUid(r).each(function(d){oS(d,d.element,t,s)})})},jd=function(t,r,o){var s=r.partUids[o];return Rp(t,s)},jv=function(t,r){return $t(t,function(o,s){var d=s.event,g=o.getSystem().getByDom(d.target).getOrThunk(function(){var C=Ah(d.target,function(E){return o.getSystem().getByDom(E).toOptional()},ce);return C.getOr(o)});r(o,g,s)})},Gd=function(t){return $t(t,function(r,o){o.cut()})},$h=function(t){return $t(t,function(r,o){o.stop()})},To=function(t,r){return Wv(t)(r)},ur=Wv(ls()),Ms=Wv(Rh()),iS=Wv(Wd()),cs=A2(Rs()),E2=function(t,r){var o=r||document,s=o.createElement("div");return s.innerHTML=t,Ge(sn.fromDom(s))},qc=function(t){return t.dom.innerHTML},tv=function(t,r){var o=Jo(t),s=o.dom,d=sn.fromDom(s.createDocumentFragment()),g=E2(r,s);ac(d,g),ja(t),Hi(t,d)},nv=function(t){var r=sn.fromTag("div"),o=sn.fromDom(t.dom.cloneNode(!0));return Hi(r,o),qc(r)},Ps=function(t,r){return sn.fromDom(t.dom.cloneNode(r))},Gv=function(t){return Ps(t,!1)},Zo=function(t){if(Id(t))return"#shadow-root";var r=Gv(t);return nv(r)},pu=function(t){return Zo(t)},Kc=function(t,r,o){return Sa(r,t.element)&&!Sa(r,o)},qv=_a([Db(Vv(),function(t,r){var o=r.event,s=o.originator,d=o.target;return Kc(t,s,d)?(console.warn(Vv()+` did not get interpreted by the desired target. 
Originator: `+pu(s)+`
Target: `+pu(d)+`
Check the `+Vv()+" event handlers"),!1):!0})]),Bh=Object.freeze({__proto__:null,events:qv}),qd=0,wn=function(t){var r=new Date,o=r.getTime(),s=Math.floor(Math.random()*1e9);return qd++,t+"_"+s+qd+String(o)},ui=ne("alloy-id-"),lc=ne("data-alloy-id"),Xc=ui(),$p=lc(),uS=function(t,r){var o=wn(Xc+t);return $b(r,o),o},$b=function(t,r){Object.defineProperty(t.dom,$p,{value:r,writable:!0})},Kv=function(t){var r=po(t)?t.dom[$p]:null;return B.from(r)},Xv=function(t){return wn(t)},Mh=ge,Bp=function(t){var r=function(d){return"The component must be in a context to execute: "+d+(t?`
`+pu(t().element)+" is not in context.":"")},o=function(d){return function(){throw new Error(r(d))}},s=function(d){return function(){console.warn(r(d))}};return{debugInfo:ne("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:ce}},zA=Bp(),Is=function(t,r,o){var s=o.toString(),d=s.indexOf(")")+1,g=s.indexOf("("),C=s.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:T2(C.slice(0,1).concat(C.slice(3)))}},t},T2=function(t){return Ve(t,function(r){return qn(r,"/*")?r.substring(0,r.length-2):r})},Kd=function(t,r){var o=t.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),g=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:T2(g)}},t},Yv=function(t,r){var o=r.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),g=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:T2(g.slice(1))}},t},O2=wn("alloy-premade"),Jv=function(t){return Wc(O2,t)},sS=function(t){return Tn(t,O2)},Ja=function(t){return Yv(function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t.apply(void 0,ke([r.getApis(),r],o,!1))},t)},Ei={init:function(){return Gi({readState:ne("No State required")})}},Gi=function(t){return t},lS=function(t,r){var o=Ve(r,function(d){return ss(d.name(),[At("config"),He("state",Ei)])}),s=Ya("component.behaviours",Mn(o),t.behaviours).fold(function(d){throw new Error(Fv(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},ge);return{list:r,data:vr(s,function(d){var g=d.map(function(C){return{config:C.config,state:C.state.init(C.config)}});return ne(g)})}},Bb=function(t){return t.list},FA=function(t){return t.data},cS=function(t,r){var o={};return Ur(t,function(s,d){Ur(s,function(g,C){var E=Tn(o,C).getOr([]);o[C]=E.concat([r(d,g)])})}),o},Bl=function(t){return{classes:W(t.classes)?[]:t.classes,attributes:W(t.attributes)?{}:t.attributes,styles:W(t.styles)?{}:t.styles}},LA=function(t,r){return re(re({},t),{attributes:re(re({},t.attributes),r.attributes),styles:re(re({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},Ph=function(t,r,o,s){var d=re({},r);pt(o,function(U){d[U.name()]=U.exhibit(t,s)});var g=cS(d,function(U,G){return{name:U,modification:G}}),C=function(U){return Ze(U,function(G,ee){return re(re({},ee.modification),G)},{})},E=Ze(g.classes,function(U,G){return G.modification.concat(U)},[]),D=C(g.attributes),$=C(g.styles);return Bl({classes:E,attributes:D,styles:$})},Mb=function(t,r,o,s){try{var d=fr(o,function(g,C){var E=g[r],D=C[r],$=s.indexOf(E),U=s.indexOf(D);if($===-1)throw new Error("The ordering for "+t+" does not have an entry for "+E+`.
Order specified: `+JSON.stringify(s,null,2));if(U===-1)throw new Error("The ordering for "+t+" does not have an entry for "+D+`.
Order specified: `+JSON.stringify(s,null,2));return $<U?-1:U<$?1:0});return dr.value(d)}catch(g){return dr.error([g])}},HA=function(t,r){return{handler:t,purpose:r}},fS=function(t,r){return{cHandler:t,purpose:r}},D2=function(t,r){return fS(Se.apply(void 0,[t.handler].concat(r)),t.purpose)},R2=function(t){return t.cHandler},$2=function(t,r){return{name:t,handler:r}},VA=function(t,r){var o={};return pt(t,function(s){o[s.name()]=s.handlers(r)}),o},Zv=function(t,r,o){var s=re(re({},o),VA(r,t));return cS(s,$2)},Qv=function(t,r,o,s){var d=Zv(t,o,s);return vS(d,r)},ga=function(t){var r=BA(t);return function(o,s){for(var d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];var C=[o,s].concat(d);r.abort.apply(void 0,C)?s.stop():r.can.apply(void 0,C)&&r.run.apply(void 0,C)}},Pb=function(t,r){return dr.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ve(r,function(o){return o.name}),null,2)])},cc=function(t,r,o){var s=r[o];return s?Mb("Event: "+o,"name",t,s).map(function(d){var g=Ve(d,function(C){return C.handler});return MA(g)}):Pb(o,t)},vS=function(t,r){var o=yi(t,function(s,d){var g=s.length===1?dr.value(s[0].handler):cc(s,r,d);return g.map(function(C){var E=ga(C),D=s.length>1?Ae(r[d],function($){return _n(s,function(U){return U.name===$})}).join(" > "):s[0].name;return Wc(d,HA(E,D))})});return $A(o,{})},fc,Yc="alloy.base.behaviour",ed=Mn([Uo("dom","dom",rr(),Mn([At("tag"),He("styles",{}),He("classes",[]),He("attributes",{}),Xr("value"),Xr("innerHtml")])),At("components"),At("uid"),He("events",{}),He("apis",{}),Uo("eventOrder","eventOrder",ao((fc={},fc[Rs()]=["disabling",Yc,"toggling","typeaheadevents"],fc[Vv()]=[Yc,"focusing","keying"],fc[Wd()]=[Yc,"disabling","toggling","representing"],fc[Vd()]=[Yc,"representing","streaming","invalidating"],fc[Rh()]=[Yc,"representing","item-events","tooltipping"],fc[Dl()]=["focusing",Yc,"item-type-events"],fc[Gc()]=["focusing",Yc,"item-type-events"],fc[Qf()]=["item-type-events","tooltipping"],fc[nl()]=["receiving","reflecting","tooltipping"],fc)),Al()),Xr("domModification")]),Ib=function(t){return Ya("custom.definition",ed,t)},Mp=function(t){return re(re({},t.dom),{uid:t.uid,domChildren:Ve(t.components,function(r){return r.element})})},Nb=function(t){return t.domModification.fold(function(){return Bl({})},Bl)},zb=function(t){return t.events},Xd=function(t,r){var o=Ha(t,r);return o===void 0||o===""?[]:o.split(" ")},UA=function(t,r,o){var s=Xd(t,r),d=s.concat([o]);return cr(t,r,d.join(" ")),!0},Fb=function(t,r,o){var s=Ae(Xd(t,r),function(d){return d!==o});return s.length>0?cr(t,r,s.join(" ")):oi(t,r),!1},Ih=function(t){return t.dom.classList!==void 0},Pp=function(t){return Xd(t,"class")},Ip=function(t,r){return UA(t,"class",r)},B2=function(t,r){return Fb(t,"class",r)},Wo=function(t,r){Ih(t)?t.dom.classList.add(r):Ip(t,r)},Yd=function(t){var r=Ih(t)?t.dom.classList:Pp(t);r.length===0&&oi(t,"class")},Io=function(t,r){if(Ih(t)){var o=t.dom.classList;o.remove(r)}else B2(t,r);Yd(t)},bu=function(t,r){return Ih(t)&&t.dom.classList.contains(r)},Jd=function(t,r){pt(r,function(o){Wo(t,o)})},Ns=function(t,r){pt(r,function(o){Io(t,o)})},Lb=function(t,r){return Rt(r,function(o){return bu(t,o)})},Jc=function(t){return t.dom.value},Nh=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},zh=function(t){var r=sn.fromTag(t.tag);ns(r,t.attributes),Jd(r,t.classes),rs(r,t.styles),t.innerHtml.each(function(s){return tv(r,s)});var o=t.domChildren;if(ac(r,o),t.value.each(function(s){Nh(r,s)}),!t.uid)debugger;return $b(r,t.uid),r},dS=function(t){var r=Tn(t,"behaviours").getOr({});return jt(Hr(r),function(o){var s=r[o];return H(s)?[s.me]:[]})},mS=function(t,r){return lS(t,r)},WA=function(t){var r=dS(t);return mS(t,r)},jA=function(t,r,o){var s=Mp(t),d=Nb(t),g={"alloy.base.modification":d},C=r.length>0?Ph(o,g,r,s):d;return LA(s,C)},GA=function(t,r,o){var s={"alloy.base.behaviour":zb(t)};return Qv(o,t.eventOrder,r,s).getOrDie()},hS=function(t){var r=function(){return Fe},o=zn(zA),s=El(Ib(t)),d=WA(t),g=Bb(d),C=FA(d),E=jA(s,g,C),D=zh(E),$=GA(s,g,C),U=zn(s.components),G=function(vt){o.set(vt)},ee=function(){o.set(Bp(r))},oe=function(){var vt=Ge(D),ft=jt(vt,function(ze){return o.get().getByDom(ze).fold(function(){return[]},Yn)});U.set(ft)},ve=function(vt){var ft=C,ze=P(ft[vt.name()])?ft[vt.name()]:function(){throw new Error("Could not find "+vt.name()+" in "+JSON.stringify(t,null,2))};return ze()},_e=function(vt){return P(C[vt.name()])},Ne=function(){return s.apis},we=function(vt){return C[vt]().map(function(ft){return ft.state.readState()}).getOr("not enabled")},Fe={uid:t.uid,getSystem:o.get,config:ve,hasConfigured:_e,spec:t,readState:we,getApis:Ne,connect:G,disconnect:ee,element:D,syncComponents:oe,components:U.get,events:$};return Fe},Hb=function(t){var r=Tn(t,"components").getOr([]);return Ve(r,Ua)},Vb=function(t){var r=Mh(t),o=r.events,s=j(r,["events"]),d=Hb(s),g=re(re({},s),{events:re(re({},Bh),o),components:d});return dr.value(hS(g))},Ti=function(t){var r=sn.fromText(t);return Ub({element:r})},Ub=function(t){var r=sa("external.component",is([At("element"),Xr("uid")]),t),o=zn(Bp()),s=function(E){o.set(E)},d=function(){o.set(Bp(function(){return C}))},g=r.uid.getOrThunk(function(){return Xv("external")});$b(r.element,g);var C={uid:g,getSystem:o.get,config:B.none,hasConfigured:ce,connect:s,disconnect:d,getApis:function(){return{}},element:r.element,spec:t,readState:ne("No state"),syncComponents:q,components:ne([]),events:{}};return Jv(C)},M2=Xv,rl=function(t){return Pr(t,"uid")},Ua=function(t){return sS(t).getOrThunk(function(){var r=rl(t)?t:re({uid:M2("")},t);return Vb(r).getOrDie()})},zs=Jv;function td(t,r,o,s,d){return t(o,s)?B.some(o):P(d)&&d(o)?B.none():r(o,s,d)}var P2=function(t,r,o){for(var s=t.dom,d=P(o)?o:ce;s.parentNode;){s=s.parentNode;var g=sn.fromDom(s);if(r(g))return B.some(g);if(d(g))break}return B.none()},Wb=function(t,r,o){var s=function(d,g){return g(d)};return td(s,P2,t,r,o)},gS=function(t,r){var o=function(d){return r(sn.fromDom(d))},s=bt(t.dom.childNodes,o);return s.map(sn.fromDom)},mr=function(t,r){var o=function(s){for(var d=0;d<s.childNodes.length;d++){var g=sn.fromDom(s.childNodes[d]);if(r(g))return B.some(g);var C=o(s.childNodes[d]);if(C.isSome())return C}return B.none()};return o(t.dom)},Fh=function(t,r,o){return Wb(t,r,o).isSome()},jb=function(t,r,o){return P2(t,function(s){return ta(s,r)},o)},I2=function(t,r){return gS(t,function(o){return ta(o,r)})},jo=function(t,r){return r2(r,t)},al=function(t,r,o){var s=function(d,g){return ta(d,g)};return td(s,jb,t,r,o)},pS=function(t){var r=Wb(t,function(o){if(!po(o))return!1;var s=Ha(o,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return r.bind(function(o){var s=Ha(o,"id"),d=xs(o);return jo(d,'[aria-owns="'+s+'"]')})},Zd=function(){var t=wn("aria-owns"),r=function(s){cr(s,"aria-owns",t)},o=function(s){oi(s,"aria-owns")};return{id:t,link:r,unlink:o}},Ma=function(t,r){return pS(r).exists(function(o){return Qd(t,o)})},Qd=function(t,r){return Fh(r,function(o){return Sa(o,t.element)},ce)||Ma(t,r)},Gb="unknown",Lh;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Lh||(Lh={}));var N2=zn({}),bS=function(t,r){var o=[],s=new Date().getTime();return{logEventCut:function(d,g,C){o.push({outcome:"cut",target:g,purpose:C})},logEventStopped:function(d,g,C){o.push({outcome:"stopped",target:g,purpose:C})},logNoParent:function(d,g,C){o.push({outcome:"no-parent",target:g,purpose:C})},logEventNoHandlers:function(d,g){o.push({outcome:"no-handlers-left",target:g})},logEventResponse:function(d,g,C){o.push({outcome:"response",purpose:C,target:g})},write:function(){var d=new Date().getTime();ct(["mousemove","mouseover","mouseout",Wd()],t)||console.log(t,{event:t,time:d-s,target:r.dom,sequence:Ve(o,function(g){return ct(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+pu(g.target)+")":g.outcome})})}}},Np=function(t,r,o){var s=Tn(N2.get(),t).orThunk(function(){var C=Hr(N2.get());return Qr(C,function(E){return t.indexOf(E)>-1?B.some(N2.get()[E]):B.none()})}).getOr(Lh.NORMAL);switch(s){case Lh.NORMAL:return o(qA());case Lh.LOGGING:{var d=bS(t,r),g=o(d);return d.write(),g}case Lh.STOP:return!0}},yS=["alloy/data/Fields","alloy/debugging/Debugging"],rv=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return bt(r,function(o){return o.indexOf("alloy")>0&&!_n(yS,function(s){return o.indexOf(s)>-1})}).getOr(Gb)}else return Gb},yu={logEventCut:q,logEventStopped:q,logNoParent:q,logEventNoHandlers:q,logEventResponse:q,write:q},z2=function(t,r,o){return Np(t,r,o)},qA=ne(yu),vc=ne([At("menu"),At("selectedMenu")]),av=ne([At("item"),At("selectedItem")]);ne(Mn(av().concat(vc())));var qb=ne(Mn(av())),KA=Uc("initSize",[At("numColumns"),At("numRows")]),XA=function(){return Iu("markers",qb())},em=function(){return Uc("markers",[At("backgroundMenu")].concat(vc()).concat(av()))},tm=function(t){return Uc("markers",Ve(t,At))},Kb=function(t,r,o){return rv(),Uo(r,r,o,Sh(function(s){return dr.value(function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return s.apply(void 0,d)})}))},Yr=function(t){return Kb("onHandler",t,pr(q))},Go=function(t){return Kb("onKeyboardHandler",t,pr(B.none))},wu=function(t){return Kb("onHandler",t,rr())},zu=function(t){return Kb("onKeyboardHandler",t,rr())},ka=function(t,r){return hu(t,ne(r))},nd=function(t){return hu(t,ge)},Xb=ne(KA),Qo=function(t,r,o,s,d,g,C,E){return E===void 0&&(E=!1),{x:t,y:r,bubble:o,direction:s,placement:d,restriction:g,label:C+"-"+d,alwaysFit:E}},Zc=Ds.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),YA=function(t,r,o,s,d,g,C,E,D){return t.fold(r,o,s,d,g,C,E,D)},JA=function(t,r,o,s){return t.fold(r,r,s,s,r,s,o,o)},Yb=function(t,r,o,s){return t.fold(r,s,r,s,o,o,r,s)},Jb=Zc.southeast,F2=Zc.southwest,L2=Zc.northeast,nm=Zc.northwest,zp=Zc.south,H2=Zc.north,V2=Zc.east,Hh=Zc.west,Oi=function(t,r,o,s){var d=t+r;return d>s?o:d<o?s:d},fs=function(t,r,o){return Math.min(Math.max(t,r),o)},Fp=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},qo=function(t,r){return pn(["left","right","top","bottom"],function(o){return Tn(r,o).map(function(s){return Fp(t,s)})})},Zb=function(t,r,o){var s=function(D,$){return r[D].map(function(U){var G=D==="top"||D==="bottom",ee=G?o.top:o.left,oe=D==="left"||D==="top"?Math.max:Math.min,ve=oe(U,$)+ee;return G?fs(ve,t.y,t.bottom):fs(ve,t.x,t.right)}).getOr($)},d=s("left",t.x),g=s("top",t.y),C=s("right",t.right),E=s("bottom",t.bottom);return Vo(d,g,C-d,E-g)},ov="layout",U2=function(t){return t.x},W2=function(t,r){return t.x+t.width/2-r.width/2},wS=function(t,r){return t.x+t.width-r.width},j2=function(t,r){return t.y-r.height},Lp=function(t){return t.y+t.height},Qb=function(t,r){return t.y+t.height/2-r.height/2},CS=function(t){return t.x+t.width},ZA=function(t,r){return t.x-r.width},qi=function(t,r,o){return Qo(U2(t),Lp(t),o.southeast(),Jb(),"southeast",qo(t,{left:1,top:3}),ov)},ei=function(t,r,o){return Qo(wS(t,r),Lp(t),o.southwest(),F2(),"southwest",qo(t,{right:0,top:3}),ov)},Cu=function(t,r,o){return Qo(U2(t),j2(t,r),o.northeast(),L2(),"northeast",qo(t,{left:1,bottom:2}),ov)},_u=function(t,r,o){return Qo(wS(t,r),j2(t,r),o.northwest(),nm(),"northwest",qo(t,{right:0,bottom:2}),ov)},Fu=function(t,r,o){return Qo(W2(t,r),j2(t,r),o.north(),H2(),"north",qo(t,{bottom:2}),ov)},No=function(t,r,o){return Qo(W2(t,r),Lp(t),o.south(),zp(),"south",qo(t,{top:3}),ov)},e0=function(t,r,o){return Qo(CS(t),Qb(t,r),o.east(),V2(),"east",qo(t,{left:0}),ov)},t0=function(t,r,o){return Qo(ZA(t,r),Qb(t,r),o.west(),Hh(),"west",qo(t,{right:1}),ov)},G2=function(){return[qi,ei,Cu,_u,No,Fu,e0,t0]},rm=function(){return[ei,qi,_u,Cu,No,Fu,e0,t0]},rd=function(){return[Cu,_u,qi,ei,Fu,No]},n0=function(){return[_u,Cu,ei,qi,Fu,No]},r0=function(){return[qi,ei,Cu,_u,No,Fu]},a0=function(){return[ei,qi,_u,Cu,No,Fu]},Vh=function(t,r){return r.universal?t:Ae(t,function(o){return ct(r.channels,o)})},Uh=function(t){return _a([$t(nl(),function(r,o){var s=t.channels,d=Hr(s),g=o,C=Vh(d,g);pt(C,function(E){var D=s[E],$=D.schema,U=sa("channel["+E+`] data
Receiver: `+pu(r.element),$,g.data);D.onReceive(r,U)})})])},_S=Object.freeze({__proto__:null,events:Uh}),Qc=[Iu("channels",Ui(dr.value,is([wu("onReceive"),He("schema",Al())])))],am=function(t,r,o){return cs(function(s){o(s,t,r)})},qa=function(t,r,o){return iS(function(s,d){o(s,t,r)})},QA=function(t,r,o,s,d,g){var C=is(t),E=ss(r,[DA("config",t)]);return SS(C,E,r,o,s,d,g)},e4=function(t,r,o,s,d,g){var C=t,E=ss(r,[uc("config",t)]);return SS(C,E,r,o,s,d,g)},o0=function(t,r,o){var s=function(d){for(var g=[],C=1;C<arguments.length;C++)g[C-1]=arguments[C];var E=[d].concat(g);return d.config({name:ne(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(D){var $=Array.prototype.slice.call(E,1);return r.apply(void 0,[d,D.config,D.state].concat($))})};return Is(s,o,r)},t4=function(t){return{key:t,value:void 0}},SS=function(t,r,o,s,d,g,C){var E=function(G){return lo(G,o)?G[o]():B.none()},D=vr(d,function(G,ee){return o0(o,G,ee)}),$=vr(g,function(G,ee){return Kd(G,ee)}),U=re(re(re({},$),D),{revoke:Se(t4,o),config:function(G){var ee=sa(o+"-config",t,G);return{key:o,value:{config:ee,me:U,configAsRaw:es(function(){return sa(o+"-config",t,G)}),initialConfig:G,state:C}}},schema:ne(r),exhibit:function(G,ee){return Gs(E(G),Tn(s,"exhibit"),function(oe,ve){return ve(ee,oe.config,oe.state)}).getOrThunk(function(){return Bl({})})},name:ne(o),handlers:function(G){return E(G).map(function(ee){var oe=Tn(s,"events").getOr(function(){return{}});return oe(ee.config,ee.state)}).getOr({})}});return U},Zt=function(t){return Zf(t)},n4=is([At("fields"),At("name"),He("active",{}),He("apis",{}),He("state",Ei),He("extra",{})]),Ko=function(t){var r=sa("Creating behaviour: "+t.name,n4,t);return QA(r.fields,r.name,r.active,r.apis,r.extra,r.state)},q2=is([At("branchKey"),At("branches"),At("name"),He("active",{}),He("apis",{}),He("state",Ei),He("extra",{})]),om=function(t){var r=sa("Creating behaviour: "+t.name,q2,t);return e4(el(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},xS=ne(void 0),nu=Ko({fields:Qc,name:"receiving",active:_S}),Hp=function(t,r){return Bl({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},i0=Object.freeze({__proto__:null,exhibit:Hp}),Vp=function(){return sn.fromDom(document)},dc=function(t){return t.dom.focus()},Up=function(t){return t.dom.blur()},Wp=function(t){var r=xs(t).dom;return t.dom===r.activeElement},Su=function(t){return t===void 0&&(t=Vp()),B.from(t.dom.activeElement).map(sn.fromDom)},mc=function(t){return Su(xs(t)).filter(function(r){return t.dom.contains(r.dom)})},kS=function(t,r){var o=xs(r),s=Su(o).bind(function(g){var C=function(E){return Sa(g,E)};return C(r)?B.some(r):mr(r,C)}),d=t(r);return s.each(function(g){Su(o).filter(function(C){return Sa(C,g)}).fold(function(){dc(g)},q)}),d},ru=function(t,r,o,s,d){var g=function(C){return C+"px"};return{position:t,left:r.map(g),top:o.map(g),right:s.map(g),bottom:d.map(g)}},ef=function(t){return re(re({},t),{position:B.some(t.position)})},ad=function(t,r){no(t,ef(r))},jp=Ds.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),mt=function(t,r,o,s,d,g){var C=r.rect,E=C.x-o,D=C.y-s,$=C.width,U=C.height,G=d-(E+$),ee=g-(D+U),oe=B.some(E),ve=B.some(D),_e=B.some(G),Ne=B.some(ee),we=B.none();return YA(r.direction,function(){return ru(t,oe,ve,we,we)},function(){return ru(t,we,ve,_e,we)},function(){return ru(t,oe,we,we,Ne)},function(){return ru(t,we,we,_e,Ne)},function(){return ru(t,oe,ve,we,we)},function(){return ru(t,oe,we,we,Ne)},function(){return ru(t,oe,ve,we,we)},function(){return ru(t,we,ve,_e,we)})},iv=function(t,r){return t.fold(function(){var o=r.rect;return ru("absolute",B.some(o.x),B.some(o.y),B.none(),B.none())},function(o,s,d,g){return mt("absolute",r,o,s,d,g)},function(o,s,d,g){return mt("fixed",r,o,s,d,g)})},Wh=function(t,r){var o=Se(Vi,r),s=t.fold(o,o,function(){var C=os();return Vi(r).translate(-C.left,-C.top)}),d=du(r),g=as(r);return Vo(s.left,s.top,d,g)},r4=function(t,r){return r.fold(function(){return t.fold(Si,Si,Vo)},function(o){return t.fold(o,o,function(){var s=o(),d=u0(t,s.x,s.y);return Vo(d.left,d.top,s.width,s.height)})})},u0=function(t,r,o){var s=ya(r,o),d=function(){var g=os();return s.translate(-g.left,-g.top)};return t.fold(ne(s),ne(s),d)},Ml=function(t,r,o,s){return t.fold(r,o,s)};jp.none;var s0=jp.relative,K2=jp.fixed,X2=function(t,r){return{anchorBox:t,origin:r}},l0=function(t,r){return X2(t,r)},Y2="data-alloy-placement",J2=function(t,r){cr(t,Y2,r)},Z2=function(t){return Xa(t,Y2)},Q2=function(t){return oi(t,Y2)},im=Ds.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),AS=function(t,r){var o=r.x,s=r.y,d=r.right,g=r.bottom,C=t.x,E=t.y,D=t.right,$=t.bottom,U=t.width,G=t.height,ee=C>=o&&C<=d,oe=E>=s&&E<=g,ve=ee&&oe,_e=D<=d&&D>=o,Ne=$<=g&&$>=s,we=_e&&Ne,Fe=Math.min(U,C>=o?d-C:D-o),vt=Math.min(G,E>=s?g-E:$-s);return{originInBounds:ve,sizeInBounds:we,visibleW:Fe,visibleH:vt}},a4=function(t,r){var o=r.x,s=r.y,d=r.right,g=r.bottom,C=t.x,E=t.y,D=t.width,$=t.height,U=Math.max(o,d-D),G=Math.max(s,g-$),ee=fs(C,o,U),oe=fs(E,s,G),ve=Math.min(ee+D,d)-ee,_e=Math.min(oe+$,g)-oe;return Vo(ee,oe,ve,_e)},o4=function(t,r,o){var s=ne(r.bottom-o.y),d=ne(o.bottom-r.y),g=JA(t,d,d,s),C=ne(r.right-o.x),E=ne(o.right-r.x),D=Yb(t,E,E,C);return{maxWidth:D,maxHeight:g}},jh=function(t,r,o,s){var d=t.bubble,g=d.offset,C=Zb(s,t.restriction,g),E=t.x+g.left,D=t.y+g.top,$=Vo(E,D,r,o),U=AS($,C),G=U.originInBounds,ee=U.sizeInBounds,oe=U.visibleW,ve=U.visibleH,_e=G&&ee,Ne=_e?$:a4($,C),we=Ne.width>0&&Ne.height>0,Fe=o4(t.direction,Ne,s),vt=Fe.maxWidth,ft=Fe.maxHeight,ze={rect:Ne,maxHeight:ft,maxWidth:vt,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:D};return _e||t.alwaysFit?im.fit(ze):im.nofit(ze,oe,ve,we)},Gh=function(t,r,o,s,d,g){var C=s.width,E=s.height,D=function(U,G,ee,oe,ve){var _e=U(o,s,d,t,g),Ne=jh(_e,C,E,g);return Ne.fold(ne(Ne),function(we,Fe,vt,ft){var ze=ve===ft?vt>oe||Fe>ee:!ve&&ft;return ze?Ne:im.nofit(G,ee,oe,ve)})},$=et(r,function(U,G){var ee=Se(D,G);return U.fold(ne(U),ee)},im.nofit({rect:o,maxHeight:s.height,maxWidth:s.width,direction:Jb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return $.fold(ge,ge)},c0=function(t){var r=zn(B.none()),o=function(){return r.get().each(t)},s=function(){o(),r.set(B.none())},d=function(){return r.get().isSome()},g=function(){return r.get()},C=function(E){o(),r.set(B.some(E))};return{clear:s,isSet:d,get:g,set:C}},ew=function(){return c0(function(t){return t.destroy()})},qh=function(){return c0(function(t){return t.unbind()})},tw=function(){var t=ew(),r=function(o){return t.get().each(o)};return re(re({},t),{run:r})},mo=function(){var t=c0(q),r=function(o){return t.get().each(o)};return re(re({},t),{on:r})},Gp=Ee,wo=function(t,r,o){return pb(t,r,Gp,o)},f0=function(t,r,o){return Hf(t,r,Gp,o)},um=Qs,nw=["top","bottom","right","left"],qp="data-alloy-transition-timer",rw=function(t,r){return Lb(t,r.classes)},ES=function(t,r,o){return o.exists(function(s){var d=t.mode;return d==="all"?!0:s[d]!==r[d]})},i4=function(t,r){var o=function(s){return parseFloat(s).toFixed(3)};return Ju(r,function(s,d){var g=t[d].map(o),C=s.map(o);return!Zu(g,C)}).isSome()},TS=function(t){var r=function(g){var C=ro(t,g),E=_(C)?C.split(/\s*,\s*/):[];return Ae(E,Mc)},o=function(g){if(_(g)&&/^[\d.]+/.test(g)){var C=parseFloat(g);return qn(g,"ms")?C:C*1e3}else return 0},s=r("transition-delay"),d=r("transition-duration");return et(d,function(g,C,E){var D=o(s[E])+o(C);return Math.max(g,D)},0)},u4=function(t,r){var o=qh(),s=qh(),d,g=function(U){var G,ee=(G=U.raw.pseudoElement)!==null&&G!==void 0?G:"";return Sa(U.target,t)&&oh(ee)&&ct(nw,U.raw.propertyName)},C=function(U){if(I(U)||g(U)){o.clear(),s.clear();var G=U==null?void 0:U.raw.type;(I(G)||G===Dh())&&(clearTimeout(d),oi(t,qp),Ns(t,r.classes))}},E=function(){o.set(wo(t,Dh(),C)),s.set(wo(t,PA(),C))};if("ontransitionstart"in t.dom)var D=wo(t,b2(),function(U){g(U)&&(D.unbind(),E())});else E();var $=TS(t);requestAnimationFrame(function(){d=setTimeout(C,$+17),cr(t,qp,d)})},v0=function(t,r){Jd(t,r.classes),Xa(t,qp).each(function(o){clearTimeout(parseInt(o,10)),oi(t,qp)}),u4(t,r)},Kp=function(t,r,o,s,d,g){var C=ES(s,d,g);if(C||rw(t,s)){Xn(t,"position",o.position);var E=Wh(r,t),D=iv(r,re(re({},d),{rect:E})),$=pn(nw,function(U){return D[U]});i4(o,$)&&(no(t,$),C&&v0(t,s),Ba(t))}else Ns(t,s.classes)},s4=function(t){return{width:du(t),height:as(t)}},OS=function(t,r,o,s){Kr(r,"max-height"),Kr(r,"max-width");var d=s4(r);return Gh(r,s.preference,t,d,o,s.bounds)},aw=function(t,r){var o=r.classes;Ns(t,o.off),Jd(t,o.on)},l4=function(t,r,o){var s=o.maxHeightFunction;s(t,r.maxHeight)},c4=function(t,r,o){var s=o.maxWidthFunction;s(t,r.maxWidth)},d0=function(t,r,o){var s=iv(o.origin,r);o.transition.each(function(d){Kp(t,o.origin,s,d,r,o.lastPlacement)}),ad(t,s)},ow=function(t,r){J2(t,r.placement)},Di=function(t,r){gb(t,Math.floor(r))},Kh=ne(function(t,r){Di(t,r),rs(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Xh=ne(function(t,r){Di(t,r)}),DS=function(t,r,o){return t[r]===void 0?o:t[r]},f4=function(t,r,o,s,d,g,C,E){var D=DS(C,"maxHeightFunction",Kh()),$=DS(C,"maxWidthFunction",q),U=t.anchorBox,G=t.origin,ee={bounds:r4(G,g),origin:G,preference:s,maxHeightFunction:D,maxWidthFunction:$,lastPlacement:d,transition:E};return Xp(U,r,o,ee)},Xp=function(t,r,o,s){var d=OS(t,r,o,s);return d0(r,d,s),ow(r,d),aw(r,d),l4(r,d,s),c4(r,d,s),{layout:d.layout,placement:d.placement}},Yp=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],sm=function(t,r,o,s){s===void 0&&(s=1);var d=t*s,g=r*s,C=function(D){return Tn(o,D).getOr([])},E=function(D,$,U){var G=rn(Yp,U);return{offset:ya(D,$),classesOn:jt(U,C),classesOff:jt(G,C)}};return{southeast:function(){return E(-t,r,["top","alignLeft"])},southwest:function(){return E(t,r,["top","alignRight"])},south:function(){return E(-t/2,r,["top","alignCentre"])},northeast:function(){return E(-t,-r,["bottom","alignLeft"])},northwest:function(){return E(t,-r,["bottom","alignRight"])},north:function(){return E(-t/2,-r,["bottom","alignCentre"])},east:function(){return E(t,-r/2,["valignCentre","left"])},west:function(){return E(-t,-r/2,["valignCentre","right"])},insetNortheast:function(){return E(d,g,["top","alignLeft","inset"])},insetNorthwest:function(){return E(-d,g,["top","alignRight","inset"])},insetNorth:function(){return E(-d/2,g,["top","alignCentre","inset"])},insetSoutheast:function(){return E(d,-g,["bottom","alignLeft","inset"])},insetSouthwest:function(){return E(-d,-g,["bottom","alignRight","inset"])},insetSouth:function(){return E(-d/2,-g,["bottom","alignCentre","inset"])},insetEast:function(){return E(-d,-g/2,["valignCentre","right","inset"])},insetWest:function(){return E(d,-g/2,["valignCentre","left","inset"])}}},m0=function(){return sm(0,0,{})},Jp=ge,iw=function(t,r){return function(o){return v4(o)==="rtl"?r:t}},v4=function(t){return ro(t,"direction")==="rtl"?"rtl":"ltr"},tf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(tf||(tf={}));var h0="data-alloy-vertical-dir",d4=function(t){return Fh(t,function(r){return po(r)&&Ha(r,"data-alloy-vertical-dir")===tf.BottomToTop})},od=function(){return ss("layouts",[At("onLtr"),At("onRtl"),Xr("onBottomLtr"),Xr("onBottomRtl")])},id=function(t,r,o,s,d,g,C){var E=C.map(d4).getOr(!1),D=r.layouts.map(function(oe){return oe.onLtr(t)}),$=r.layouts.map(function(oe){return oe.onRtl(t)}),U=E?r.layouts.bind(function(oe){return oe.onBottomLtr.map(function(ve){return ve(t)})}).or(D).getOr(d):D.getOr(o),G=E?r.layouts.bind(function(oe){return oe.onBottomRtl.map(function(ve){return ve(t)})}).or($).getOr(g):$.getOr(s),ee=iw(U,G);return ee(t)},m4=function(t,r,o){var s=r.hotspot,d=Wh(o,s.element),g=id(t.element,r,r0(),a0(),rd(),n0(),B.some(r.hotspot.element));return B.some(Jp({anchorBox:d,bubble:r.bubble.getOr(m0()),overrides:r.overrides,layouts:g,placer:B.none()}))},g0=[At("hotspot"),Xr("bubble"),He("overrides",{}),od(),ka("placement",m4)],p0=function(t,r,o){var s=u0(o,r.x,r.y),d=Vo(s.left,s.top,r.width,r.height),g=id(t.element,r,G2(),rm(),G2(),rm(),B.none());return B.some(Jp({anchorBox:d,bubble:r.bubble,overrides:r.overrides,layouts:g,placer:B.none()}))},b0=[At("x"),At("y"),He("height",0),He("width",0),He("bubble",m0()),He("overrides",{}),od(),ka("placement",p0)],si=Ds.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),RS=function(t){return t.fold(ge,function(r,o,s){return r.translate(-o,-s)})},uw=function(t){return t.fold(ge,ge)},$S=function(t){return et(t,function(r,o){return r.translate(o.left,o.top)},ya(0,0))},BS=function(t){var r=Ve(t,RS);return $S(r)},hc=function(t){var r=Ve(t,uw);return $S(r)},uv=si.screen,MS=si.absolute,PS=function(t,r,o){var s=vh(o.root).dom,d=function(g){var C=Jo(g),E=Jo(t.element);return Sa(C,E)};return B.from(s.frameElement).map(sn.fromDom).filter(d).map(vu)},sw=function(t,r,o){var s=Jo(t.element),d=os(s),g=PS(t,r,o).getOr(d);return MS(g,d.left,d.top)},y0=function(t,r,o,s){var d=uv(ya(t,r));return B.some(Es(d,o,s))},IS=function(t,r,o,s,d){return t.map(function(g){var C=[r,g.point],E=Ml(s,function(){return hc(C)},function(){return hc(C)},function(){return BS(C)}),D=bo(E.left,E.top,g.width,g.height),$=o.showAbove?rd():r0(),U=o.showAbove?n0():a0(),G=id(d,o,$,U,$,U,B.none());return Jp({anchorBox:D,bubble:o.bubble.getOr(m0()),overrides:o.overrides,layouts:G,placer:B.none()})})},Yh=function(t,r,o){var s=sw(t,o,r);return r.node.filter(fu).bind(function(d){var g=d.dom.getBoundingClientRect(),C=y0(g.left,g.top,g.width,g.height),E=r.node.getOr(t.element);return IS(C,s,r,o,E)})},h4=[At("node"),At("root"),Xr("bubble"),od(),He("overrides",{}),He("showAbove",!1),ka("placement",Yh)],Zp="\uFEFF",g4=" ",Jh=function(t,r,o,s){return{start:t,soffset:r,finish:o,foffset:s}},lm={create:Jh},lw=Ds.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),NS=function(t,r,o,s){return t.fold(r,o,s)},p4=function(t){return t.fold(ge,ge,ge)},zS=lw.before,FS=lw.on,cw=lw.after,b4={before:zS,on:FS,after:cw,cata:NS,getStart:p4},w0=Ds.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),y4=function(t){return w0.exact(t.start,t.soffset,t.finish,t.foffset)},Qp=function(t){return t.match({domRange:function(r){return sn.fromDom(r.startContainer)},relative:function(r,o){return b4.getStart(r)},exact:function(r,o,s,d){return r}})},w4=w0.domRange,C4=w0.relative,_4=w0.exact,C0=function(t){var r=Qp(t);return vh(r)},S4=lm.create,Zh={domRange:w4,relative:C4,exact:_4,exactFromRange:y4,getWin:C0,range:S4},LS=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,s){t.setStart(o.dom,s)},function(o){t.setStartAfter(o.dom)})},x4=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,s){t.setEnd(o.dom,s)},function(o){t.setEndAfter(o.dom)})},fw=function(t,r,o){var s=t.document.createRange();return LS(s,r),x4(s,o),s},HS=function(t,r,o,s,d){var g=t.document.createRange();return g.setStart(r.dom,o),g.setEnd(s.dom,d),g},vw=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},VS=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?B.some(o).map(vw):B.none()},US=function(t){var r=t.getBoundingClientRect();return r.width>0||r.height>0?B.some(r).map(vw):B.none()},Qh=Ds.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),dw=function(t,r,o){return r(sn.fromDom(o.startContainer),o.startOffset,sn.fromDom(o.endContainer),o.endOffset)},mw=function(t,r){return r.match({domRange:function(o){return{ltr:ne(o),rtl:B.none}},relative:function(o,s){return{ltr:es(function(){return fw(t,o,s)}),rtl:es(function(){return B.some(fw(t,s,o))})}},exact:function(o,s,d,g){return{ltr:es(function(){return HS(t,o,s,d,g)}),rtl:es(function(){return B.some(HS(t,d,g,o,s))})}}})},k4=function(t,r){var o=r.ltr();if(o.collapsed){var s=r.rtl().filter(function(d){return d.collapsed===!1});return s.map(function(d){return Qh.rtl(sn.fromDom(d.endContainer),d.endOffset,sn.fromDom(d.startContainer),d.startOffset)}).getOrThunk(function(){return dw(t,Qh.ltr,o)})}else return dw(t,Qh.ltr,o)},A4=function(t,r){var o=mw(t,r);return k4(t,o)},hw=function(t,r){var o=A4(t,r);return o.match({ltr:function(s,d,g,C){var E=t.document.createRange();return E.setStart(s.dom,d),E.setEnd(g.dom,C),E},rtl:function(s,d,g,C){var E=t.document.createRange();return E.setStart(g.dom,C),E.setEnd(s.dom,d),E}})};Qh.ltr,Qh.rtl;var E4=function(t,r){var o=function(g){if(!t(g))throw new Error("Can only get "+r+" value of a "+r+" node");return s(g).getOr("")},s=function(g){return t(g)?B.from(g.dom.nodeValue):B.none()},d=function(g,C){if(!t(g))throw new Error("Can only set raw "+r+" value of a "+r+" node");g.dom.nodeValue=C};return{get:o,getOption:s,set:d}},WS=E4(Du,"text"),ud=function(t){return WS.get(t)},eg=function(t){return WS.getOption(t)},jS=function(t){return Qu(t)==="img"?1:eg(t).fold(function(){return Ge(t).length},function(r){return r.length})},T4=function(t){return eg(t).filter(function(r){return r.trim().length!==0||r.indexOf(g4)>-1}).isSome()},GS=["img","br"],O4=function(t){var r=T4(t);return r||ct(GS,Qu(t))},gw=function(t){return tg(t,O4)},tg=function(t,r){var o=function(s){for(var d=Ge(s),g=d.length-1;g>=0;g--){var C=d[g];if(r(C))return B.some(C);var E=o(C);if(E.isSome())return E}return B.none()};return o(t)},au=function(t,r){return fh(r,t)},pw=function(t,r,o,s){var d=Jo(t),g=d.dom.createRange();return g.setStart(t.dom,r),g.setEnd(o.dom,s),g},ng=function(t,r,o,s){var d=pw(t,r,o,s),g=Sa(t,o)&&r===s;return d.collapsed&&!g},cm=function(t){return B.from(t.getSelection())},_0=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return B.some(lm.create(sn.fromDom(r.startContainer),r.startOffset,sn.fromDom(o.endContainer),o.endOffset))}else return B.none()},D4=function(t){if(t.anchorNode===null||t.focusNode===null)return _0(t);var r=sn.fromDom(t.anchorNode),o=sn.fromDom(t.focusNode);return ng(r,t.anchorOffset,o,t.focusOffset)?B.some(lm.create(r,t.anchorOffset,o,t.focusOffset)):_0(t)},qS=function(t){return cm(t).filter(function(r){return r.rangeCount>0}).bind(D4)},bw=function(t,r){var o=hw(t,r);return VS(o)},Lu=function(t,r){var o=hw(t,r);return US(o)},e1=function(t,r){return{element:t,offset:r}},R4=function(t,r){var o=Ge(t);if(o.length===0)return e1(t,r);if(r<o.length)return e1(o[r],0);var s=o[o.length-1],d=Du(s)?ud(s).length:Ge(s).length;return e1(s,d)},fm=function(t,r){return Du(t)?e1(t,r):R4(t,r)},sd=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return qS(t)}});return o().map(function(s){var d=fm(s.start,s.soffset),g=fm(s.finish,s.foffset);return Zh.range(d.element,d.offset,g.element,g.offset)})},rg=function(t,r,o){var s=vh(r.root).dom,d=sw(t,o,r),g=sd(s,r).bind(function(D){var $=Lu(s,Zh.exactFromRange(D)).orThunk(function(){var U=sn.fromText(Zp);vo(D.start,U);var G=bw(s,Zh.exact(U,0,U,1));return Bu(U),G});return $.bind(function(U){return y0(U.left,U.top,U.width,U.height)})}),C=sd(s,r).bind(function(D){return po(D.start)?B.some(D.start):cb(D.start)}),E=C.getOr(t.element);return IS(g,d,r,o,E)},ld=[Xr("getSelection"),At("root"),Xr("bubble"),od(),He("overrides",{}),He("showAbove",!1),ka("placement",rg)],gc="link-layout",pc=function(t){return t.x+t.width},S0=function(t,r){return t.x-r.width},x0=function(t,r){return t.y-r.height+t.height},yw=function(t){return t.y},ag=function(t,r,o){return Qo(pc(t),yw(t),o.southeast(),Jb(),"southeast",qo(t,{left:0,top:2}),gc)},og=function(t,r,o){return Qo(S0(t,r),yw(t),o.southwest(),F2(),"southwest",qo(t,{right:1,top:2}),gc)},ig=function(t,r,o){return Qo(pc(t),x0(t,r),o.northeast(),L2(),"northeast",qo(t,{left:0,bottom:3}),gc)},Ki=function(t,r,o){return Qo(S0(t,r),x0(t,r),o.northwest(),nm(),"northwest",qo(t,{right:1,bottom:3}),gc)},ug=function(){return[ag,og,ig,Ki]},sg=function(){return[og,ag,Ki,ig]},k0=function(t,r,o){var s=Wh(o,r.item.element),d=id(t.element,r,ug(),sg(),ug(),sg(),B.none());return B.some(Jp({anchorBox:s,bubble:m0(),overrides:r.overrides,layouts:d,placer:B.none()}))},$4=[At("item"),od(),He("overrides",{}),ka("placement",k0)],ww=el("type",{selection:ld,node:h4,hotspot:g0,submenu:$4,makeshift:b0}),A0=[Wi("classes",yo),Os("mode","all",["all","layout","placement"])],Ri=[He("useFixed",ce),Xr("getBounds")],B4=[Iu("anchor",ww),ss("transition",A0)],nf=function(){var t=document.documentElement;return K2(0,0,t.clientWidth,t.clientHeight)},E0=function(t){var r=vu(t.element),o=t.element.dom.getBoundingClientRect();return s0(r.left,r.top,o.width,o.height)},Cw=function(t,r,o,s,d,g,C){var E=l0(o.anchorBox,r);return f4(E,d.element,o.bubble,o.layouts,g,s,o.overrides,C)},lg=function(t,r,o,s,d){_w(t,r,o,s,d,B.none())},_w=function(t,r,o,s,d,g){var C=g.map(Eo);return t1(t,r,o,s,d,C)},t1=function(t,r,o,s,d,g){var C=sa("placement.info",Mn(B4),d),E=C.anchor,D=s.element,$=o.get(s.uid);kS(function(){Xn(D,"position","fixed");var U=Ao(D,"visibility");Xn(D,"visibility","hidden");var G=r.useFixed()?nf():E0(t),ee=E.placement,oe=g.map(ne).or(r.getBounds);ee(t,E,G).each(function(ve){var _e=ve.placer.getOr(Cw),Ne=_e(t,G,ve,oe,s,$,C.transition);o.set(s.uid,Ne)}),U.fold(function(){Kr(D,"visibility")},function(ve){Xn(D,"visibility",ve)}),Ao(D,"left").isNone()&&Ao(D,"top").isNone()&&Ao(D,"right").isNone()&&Ao(D,"bottom").isNone()&&lu(Ao(D,"position"),"fixed")&&Kr(D,"position")},D)},M4=function(t,r,o){return r.useFixed()?"fixed":"absolute"},KS=function(t,r,o,s){var d=s.element;pt(["position","left","right","top","bottom"],function(g){return Kr(d,g)}),Q2(d),o.clear(s.uid)},XS=Object.freeze({__proto__:null,position:lg,positionWithin:_w,positionWithinBounds:t1,getMode:M4,reset:KS}),P4=function(){var t={},r=function(d,g){t[d]=g},o=function(d){return Tn(t,d)},s=function(d){H(d)?delete t[d]:t={}};return Gi({readState:function(){return t},clear:s,set:r,get:o})},cg=Object.freeze({__proto__:null,init:P4}),ho=Ko({fields:Ri,name:"positioning",active:i0,apis:XS,state:cg}),T0=function(t){Wr(t,Rh());var r=t.components();pt(r,T0)},O0=function(t){var r=t.components();pt(r,O0),Wr(t,ls())},Sw=function(t,r){Hi(t.element,r.element)},YS=function(t){pt(t.components(),function(r){return Bu(r.element)}),ja(t.element),t.syncComponents()},xw=function(t,r){var o=t.components();YS(t);var s=rn(o,r);pt(s,function(d){T0(d),t.getSystem().removeFromWorld(d)}),pt(r,function(d){d.getSystem().isConnected()?Sw(t,d):(t.getSystem().addToWorld(d),Sw(t,d),fu(t.element)&&O0(d)),t.syncComponents()})},vm=function(t,r){D0(t,r,Hi)},D0=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),fu(t.element)&&O0(r),t.syncComponents()},Hu=function(t){T0(t),Bu(t.element),t.getSystem().removeFromWorld(t)},bc=function(t){var r=xo(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});Hu(t),r.each(function(o){o.syncComponents()})},R0=function(t){var r=t.components();pt(r,Hu),ja(t.element),t.syncComponents()},sv=function(t,r){yc(t,r,Hi)},Pl=function(t,r){yc(t,r,Uf)},yc=function(t,r,o){o(t,r.element);var s=Ge(r.element);pt(s,function(d){r.getByDom(d).each(O0)})},ou=function(t){var r=Ge(t.element);pt(r,function(o){t.getByDom(o).each(T0)}),Bu(t.element)},ol=function(t,r,o,s){o.get().each(function(C){R0(t)});var d=r.getAttachPoint(t);vm(d,t);var g=t.getSystem().build(s);return vm(t,g),o.set(g),g},fg=function(t,r,o,s){var d=ol(t,r,o,s);return r.onOpen(t,d),d},rf=function(t,r,o,s){return o.get().map(function(){return ol(t,r,o,s)})},dm=function(t,r,o,s,d){tx(t,r),fg(t,r,o,s),d(),nx(t,r)},JS=function(t,r,o){o.get().each(function(s){R0(t),bc(t),r.onClose(t,s),o.clear()})},ZS=function(t,r,o){return o.isOpen()},I4=function(t,r,o,s){return ZS(t,r,o)&&o.get().exists(function(d){return r.isPartOf(t,d,s)})},N4=function(t,r,o){return o.get()},QS=function(t,r,o,s){Ao(t.element,r).fold(function(){oi(t.element,o)},function(d){cr(t.element,o,d)}),Xn(t.element,r,s)},ex=function(t,r,o){Xa(t.element,o).fold(function(){return Kr(t.element,r)},function(s){return Xn(t.element,r,s)})},tx=function(t,r,o){var s=r.getAttachPoint(t);Xn(t.element,"position",ho.getMode(s)),QS(t,"visibility",r.cloakVisibilityAttr,"hidden")},z4=function(t){return _n(["top","left","right","bottom"],function(r){return Ao(t,r).isSome()})},nx=function(t,r,o){z4(t.element)||Kr(t.element,"position"),ex(t,"visibility",r.cloakVisibilityAttr)},F4=Object.freeze({__proto__:null,cloak:tx,decloak:nx,open:fg,openWhileCloaked:dm,close:JS,isOpen:ZS,isPartOf:I4,getState:N4,setContent:rf}),rx=function(t,r){return _a([$t(Dp(),function(o,s){JS(o,t,r)})])},ax=Object.freeze({__proto__:null,events:rx}),kw=[Yr("onOpen"),Yr("onClose"),At("isPartOf"),At("getAttachPoint"),He("cloakVisibilityAttr","data-precloak-visibility")],ox=function(){var t=mo(),r=ne("not-implemented");return Gi({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},L4=Object.freeze({__proto__:null,init:ox}),Br=Ko({fields:kw,name:"sandboxing",active:ax,apis:F4,state:L4}),mm=ne("dismiss.popups"),vg=ne("reposition.popups"),Aw=ne("mouse.released"),H4=is([He("isExtraPart",ce),ss("fireEventInstead",[He("event",Rl())])]),Vu=function(t){var r,o=sa("Dismissal",H4,t);return r={},r[mm()]={schema:is([At("target")]),onReceive:function(s,d){if(Br.isOpen(s)){var g=Br.isPartOf(s,d.target)||o.isExtraPart(s,d.target);g||o.fireEventInstead.fold(function(){return Br.close(s)},function(C){return Wr(s,C.event)})}}},r},V4=is([ss("fireEventInstead",[He("event",ji())]),tu("doReposition")]),hm=function(t){var r,o=sa("Reposition",V4,t);return r={},r[vg()]={onReceive:function(s){Br.isOpen(s)&&o.fireEventInstead.fold(function(){return o.doReposition(s)},function(d){return Wr(s,d.event)})}},r},cd=function(t,r,o){r.store.manager.onLoad(t,r,o)},$0=function(t,r,o){r.store.manager.onUnload(t,r,o)},B0=function(t,r,o,s){r.store.manager.setValue(t,r,o,s)},U4=function(t,r,o){return r.store.manager.getValue(t,r,o)},ix=function(t,r,o){return o},M0=Object.freeze({__proto__:null,onLoad:cd,onUnload:$0,setValue:B0,getValue:U4,getState:ix}),Ew=function(t,r){var o=t.resetOnDom?[ur(function(s,d){cd(s,t,r)}),Ms(function(s,d){$0(s,t,r)})]:[qa(t,r,cd)];return _a(o)},dg=Object.freeze({__proto__:null,events:Ew}),P0=function(){var t=zn(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},s=function(){t.set(null)};return Gi({set:t.set,get:t.get,isNotSet:o,clear:s,readState:r})},W4=function(){var t=q;return Gi({readState:t})},af=function(){var t=zn({}),r=zn({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},s=function(){t.set({}),r.set({})},d=function(C){return Tn(t.get(),C).orThunk(function(){return Tn(r.get(),C)})},g=function(C){var E=t.get(),D=r.get(),$={},U={};pt(C,function(G){$[G.value]=G,Tn(G,"meta").each(function(ee){Tn(ee,"text").each(function(oe){U[oe]=G})})}),t.set(re(re({},E),$)),r.set(re(re({},D),U))};return Gi({readState:o,lookup:d,update:g,clear:s})},Tw=function(t){return t.store.manager.state(t)},Ow=Object.freeze({__proto__:null,memory:P0,dataset:af,manual:W4,init:Tw}),mg=function(t,r,o,s){var d=r.store;o.update([s]),d.setValue(t,s),r.onSetValue(t,s)},Dw=function(t,r,o){var s=r.store,d=s.getDataKey(t);return o.lookup(d).getOrThunk(function(){return s.getFallbackEntry(d)})},n1=function(t,r,o){var s=r.store;s.initialValue.each(function(d){mg(t,r,o,d)})},ux=function(t,r,o){o.clear()},j4=[Xr("initialValue"),At("getFallbackEntry"),At("getDataKey"),At("setValue"),ka("manager",{setValue:mg,getValue:Dw,onLoad:n1,onUnload:ux,state:af})],of=function(t,r,o){return r.store.getValue(t)},vs=function(t,r,o,s){r.store.setValue(t,s),r.onSetValue(t,s)},$i=function(t,r,o){r.store.initialValue.each(function(s){r.store.setValue(t,s)})},G4=[At("getValue"),He("setValue",q),Xr("initialValue"),ka("manager",{setValue:vs,getValue:of,onLoad:$i,onUnload:q,state:Ei.init})],Rw=function(t,r,o,s){o.set(s),r.onSetValue(t,s)},hg=function(t,r,o){return o.get()},$w=function(t,r,o){r.store.initialValue.each(function(s){o.isNotSet()&&o.set(s)})},r1=function(t,r,o){o.clear()},Bw=[Xr("initialValue"),ka("manager",{setValue:Rw,getValue:hg,onLoad:$w,onUnload:r1,state:P0})],q4=[gu("store",{mode:"memory"},el("mode",{memory:Bw,manual:G4,dataset:j4})),Yr("onSetValue"),He("resetOnDom",!1)],an=Ko({fields:q4,name:"representing",active:dg,apis:M0,extra:{setValueFrom:function(t,r){var o=an.getValue(r);an.setValue(t,o)}},state:Ow}),Xo=function(t,r){return c2(t,{},Ve(r,function(o){return xh(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([hu("dump",ge)]))},gg=function(t){return t.dump},li=function(t,r){return re(re({},Zt(r)),t.dump)},il={field:Xo,augment:li,get:gg},Mw="placeholder",a1=Ds.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),I0=function(t){return Pr(t,"uiType")},N0=function(t,r,o,s){return t.exists(function(d){return d!==o.owner})?a1.single(!0,ne(o)):Tn(s,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+Hr(s)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(d){return d.replace()})},z0=function(t,r,o,s){return I0(o)&&o.uiType===Mw?N0(t,r,o,s):a1.single(!1,ne(o))},fd=function(t,r,o,s){var d=z0(t,r,o,s);return d.fold(function(g,C){var E=I0(o)?C(r,o.config,o.validated):C(r),D=Tn(E,"components").getOr([]),$=jt(D,function(U){return fd(t,r,U,s)});return[re(re({},E),{components:$})]},function(g,C){if(I0(o)){var E=C(r,o.config,o.validated),D=o.validated.preprocess.getOr(ge);return D(E)}else return C(r)})},o1=function(t,r,o,s){return jt(o,function(d){return fd(t,r,d,s)})},Pw=function(t,r){var o=!1,s=function(){return o},d=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},g=function(){return r.fold(function(C,E){return C},function(C,E){return C})};return{name:ne(t),required:g,used:s,replace:d}},Iw=function(t,r,o,s){var d=vr(s,function(C,E){return Pw(E,C)}),g=o1(t,r,o,d);return Ur(d,function(C){if(C.used()===!1&&C.required())throw new Error("Placeholder: "+C.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),g},Nw=a1.single,K4=a1.multiple,sx=ne(Mw),lv=Ds.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),uf=He("factory",{sketch:ge}),gm=He("schema",[]),pg=At("name"),zw=Uo("pname","pname",Rr(function(t){return"<alloy."+wn(t.name)+">"}),Al()),F0=hu("schema",function(){return[Xr("preprocess")]}),sf=He("defaults",ne({})),Il=He("overrides",ne({})),vd=Mn([uf,gm,pg,zw,sf,Il]),dd=Mn([uf,gm,pg,sf,Il]),pm=Mn([uf,gm,pg,zw,sf,Il]),bg=Mn([uf,F0,pg,At("unit"),zw,sf,Il]),Fw=function(t){return t.fold(B.some,B.none,B.some,B.some)},Lw=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},Hw=function(t){return t.fold(ge,ge,ge,ge)},L0=function(t,r){return function(o){var s=sa("Converting part type",r,o);return t(s)}},Bi=L0(lv.required,vd),Fs=L0(lv.external,dd),ul=L0(lv.optional,pm),lf=L0(lv.group,bg),yg=ne("entirety"),H0=Object.freeze({__proto__:null,required:Bi,external:Fs,optional:ul,group:lf,asNamedPart:Fw,name:Lw,asCommon:Hw,original:yg}),md=function(t,r,o,s){return yt(r.defaults(t,o,s),o,{uid:t.partUids[r.name]},r.overrides(t,o,s))},bm=function(t,r,o){var s={},d={};return pt(o,function(g){g.fold(function(C){s[C.pname]=Nw(!0,function(E,D,$){return C.factory.sketch(md(E,C,D,$))})},function(C){var E=r.parts[C.name];d[C.name]=ne(C.factory.sketch(md(r,C,E[yg()]),E))},function(C){s[C.pname]=Nw(!1,function(E,D,$){return C.factory.sketch(md(E,C,D,$))})},function(C){s[C.pname]=K4(!0,function(E,D,$){var U=E[C.name];return Ve(U,function(G){return C.factory.sketch(yt(C.defaults(E,G,$),G,C.overrides(E,G)))})})})}),{internals:ne(s),externals:ne(d)}},ym=function(t,r){var o={};return pt(r,function(s){Fw(s).each(function(d){var g=X4(t,d.pname);o[d.name]=function(C){var E=sa("Part: "+d.name+" in "+t,Mn(d.schema),C);return re(re({},g),{config:C,validated:E})}})}),o},X4=function(t,r){return{uiType:sx(),owner:t,name:r}},Vw=function(t,r,o){return{uiType:sx(),owner:t,name:r,config:o,validated:{}}},lx=function(t){return jt(t,function(r){return r.fold(B.none,B.some,B.none,B.none).map(function(o){return Uc(o.name,o.schema.concat([nd(yg())]))}).toArray()})},cx=function(t){return Ve(t,Lw)},Uw=function(t,r,o){return bm(t,r,o)},Ww=function(t,r,o){return Iw(B.some(t),r,r.components,o)},pa=function(t,r,o){var s=r.partUids[o];return t.getSystem().getByUid(s).toOptional()},cf=function(t,r,o){return pa(t,r,o).getOrDie("Could not find part: "+o)},fx=function(t,r,o){var s={},d=r.partUids,g=t.getSystem();return pt(o,function(C){s[C]=ne(g.getByUid(d[C]))}),s},vx=function(t,r){var o=t.getSystem();return vr(r.partUids,function(s,d){return ne(o.getByUid(s))})},dx=function(t){return Hr(t.partUids)},V0=function(t,r,o){var s={},d=r.partUids,g=t.getSystem();return pt(o,function(C){s[C]=ne(g.getByUid(d[C]).getOrDie())}),s},jw=function(t,r){var o=cx(r);return Zf(Ve(o,function(s){return{key:s,value:t+"-"+s}}))},i1=function(t){return Uo("partUids","partUids",xi(function(r){return jw(r.uid,t)}),Al())},Gn=Object.freeze({__proto__:null,generate:ym,generateOne:Vw,schemas:lx,names:cx,substitutes:Uw,components:Ww,defaultUids:jw,defaultUidsSchema:i1,getAllParts:vx,getAllPartNames:dx,getPart:pa,getPartOrDie:cf,getParts:fx,getPartsOrDie:V0}),Y4=function(t,r){var o=t.length>0?[Uc("parts",t)]:[];return o.concat([At("uid"),He("dom",{}),He("components",[]),nd("originalSpec"),He("debug.sketcher",{})]).concat(r)},Gw=function(t,r,o,s,d){var g=Y4(s,d);return sa(t+" [SpecSchema]",is(g.concat(r)),o)},mx=function(t,r,o,s){var d=hx(s),g=Gw(t,r,d,[],[]);return o(g,d)},qw=function(t,r,o,s,d){var g=hx(d),C=lx(o),E=i1(o),D=Gw(t,r,g,C,[E]),$=Uw(t,D,o),U=Ww(t,D,$.internals());return s(D,U,g,$.externals())},J4=function(t){return Pr(t,"uid")},hx=function(t){return J4(t)?t:re(re({},t),{uid:Xv("uid")})},Kw=function(t){return t.uid!==void 0},Xw=is([At("name"),At("factory"),At("configFields"),He("apis",{}),He("extraApis",{})]),Z4=is([At("name"),At("factory"),At("configFields"),At("partFields"),He("apis",{}),He("extraApis",{})]),Ls=function(t){var r=sa("Sketcher for "+t.name,Xw,t),o=function(g){return mx(r.name,r.configFields,r.factory,g)},s=vr(r.apis,Ja),d=vr(r.extraApis,function(g,C){return Kd(g,C)});return re(re({name:r.name,configFields:r.configFields,sketch:o},s),d)},xu=function(t){var r=sa("Sketcher for "+t.name,Z4,t),o=function(C){return qw(r.name,r.configFields,r.partFields,r.factory,C)},s=ym(r.name,r.partFields),d=vr(r.apis,Ja),g=vr(r.extraApis,function(C,E){return Kd(C,E)});return re(re({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:s},d),g)},ff=function(t){return Qu(t)==="input"&&Ha(t,"type")!=="radio"||Qu(t)==="textarea"},Q4=function(t,r,o){return r.find(t)},eE=Object.freeze({__proto__:null,getCurrent:Q4}),Yw=[At("find")],Sr=Ko({fields:Yw,name:"composing",apis:eE}),tE=["input","button","textarea","select"],U0=function(t,r,o){var s=r.disabled()?Jw:hd;s(t,r)},W0=function(t,r){return r.useNative===!0&&ct(tE,Qu(t.element))},j0=function(t){return hb(t.element,"disabled")},u1=function(t){cr(t.element,"disabled","disabled")},cv=function(t){oi(t.element,"disabled")},s1=function(t){return Ha(t.element,"aria-disabled")==="true"},nE=function(t){cr(t.element,"aria-disabled","true")},gx=function(t){cr(t.element,"aria-disabled","false")},Jw=function(t,r,o){r.disableClass.each(function(d){Wo(t.element,d)});var s=W0(t,r)?u1:nE;s(t),r.onDisabled(t)},hd=function(t,r,o){r.disableClass.each(function(d){Io(t.element,d)});var s=W0(t,r)?cv:gx;s(t),r.onEnabled(t)},G0=function(t,r){return W0(t,r)?j0(t):s1(t)},px=function(t,r,o,s){var d=s?Jw:hd;d(t,r)},rE=Object.freeze({__proto__:null,enable:hd,disable:Jw,isDisabled:G0,onLoad:U0,set:px}),aE=function(t,r){return Bl({classes:r.disabled()?r.disableClass.toArray():[]})},oE=function(t,r){return _a([x2(Rs(),function(o,s){return G0(o,t)}),qa(t,r,U0)])},wm=Object.freeze({__proto__:null,exhibit:aE,events:oE}),Zw=[Ta("disabled",ce),He("useNative",!0),Xr("disableClass"),Yr("onDisabled"),Yr("onEnabled")],In=Ko({fields:Zw,name:"disabling",active:wm,apis:rE}),bx=function(t,r,o,s){var d=au(t.element,"."+r.highlightClass);pt(d,function(g){_n(s,function(C){return C.element===g})||(Io(g,r.highlightClass),t.getSystem().getByDom(g).each(function(C){r.onDehighlight(t,C),Wr(C,Tb())}))})},yx=function(t,r,o){return bx(t,r,o,[])},iE=function(t,r,o,s){Qw(t,r,o,s)&&(Io(s.element,r.highlightClass),r.onDehighlight(t,s),Wr(s,Tb()))},l1=function(t,r,o,s){bx(t,r,o,[s]),Qw(t,r,o,s)||(Wo(s.element,r.highlightClass),r.onHighlight(t,s),Wr(s,S2()))},iu=function(t,r,o){tC(t,r).each(function(s){l1(t,r,o,s)})},c1=function(t,r,o){nC(t,r).each(function(s){l1(t,r,o,s)})},uE=function(t,r,o,s){Cx(t,r,o,s).fold(function(d){throw d},function(d){l1(t,r,o,d)})},wx=function(t,r,o,s){var d=_x(t,r),g=bt(d,s);g.each(function(C){l1(t,r,o,C)})},Qw=function(t,r,o,s){return bu(s.element,r.highlightClass)},eC=function(t,r,o){return jo(t.element,"."+r.highlightClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},Cx=function(t,r,o,s){var d=au(t.element,"."+r.itemClass);return B.from(d[s]).fold(function(){return dr.error(new Error("No element found with index "+s))},t.getSystem().getByDom)},tC=function(t,r,o){return jo(t.element,"."+r.itemClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},nC=function(t,r,o){var s=au(t.element,"."+r.itemClass),d=s.length>0?B.some(s[s.length-1]):B.none();return d.bind(function(g){return t.getSystem().getByDom(g).toOptional()})},fv=function(t,r,o,s){var d=au(t.element,"."+r.itemClass),g=Jt(d,function(C){return bu(C,r.highlightClass)});return g.bind(function(C){var E=Oi(C,s,0,d.length-1);return t.getSystem().getByDom(d[E]).toOptional()})},sE=function(t,r,o){return fv(t,r,o,-1)},lE=function(t,r,o){return fv(t,r,o,1)},_x=function(t,r,o){var s=au(t.element,"."+r.itemClass);return Ir(Ve(s,function(d){return t.getSystem().getByDom(d).toOptional()}))},cE=Object.freeze({__proto__:null,dehighlightAll:yx,dehighlight:iE,highlight:l1,highlightFirst:iu,highlightLast:c1,highlightAt:uE,highlightBy:wx,isHighlighted:Qw,getHighlighted:eC,getFirst:tC,getLast:nC,getPrevious:sE,getNext:lE,getCandidates:_x}),f1=[At("highlightClass"),At("itemClass"),Yr("onHighlight"),Yr("onDehighlight")],na=Ko({fields:f1,name:"highlighting",apis:cE}),q0=[8],vv=[9],Nl=[13],gd=[27],Uu=[32],K0=[37],Cm=[38],wg=[39],pd=[40],fE=function(t,r,o){var s=Ft(t.slice(0,r)),d=Ft(t.slice(r+1));return bt(s.concat(d),o)},Sx=function(t,r,o){var s=Ft(t.slice(0,r));return bt(s,o)},vE=function(t,r,o){var s=t.slice(0,r),d=t.slice(r+1);return bt(d.concat(s),o)},dE=function(t,r,o){var s=t.slice(r+1);return bt(s,o)},wr=function(t){return function(r){var o=r.raw;return ct(t,o.which)}},zl=function(t){return function(r){return Rt(t,function(o){return o(r)})}},Cg=function(t){var r=t.raw;return r.shiftKey===!0},xx=function(t){var r=t.raw;return r.ctrlKey===!0},v1=We(Cg),Mr=function(t,r){return{matches:t,classification:r}},kx=function(t,r){var o=bt(t,function(s){return s.matches(r)});return o.map(function(s){return s.classification})},Ax=function(t,r,o){var s=r.exists(function(d){return o.exists(function(g){return Sa(g,d)})});s||Fn(t,Eb(),{prevFocus:r,newFocus:o})},d1=function(){var t=function(o){return mc(o.element)},r=function(o,s){var d=t(o);o.getSystem().triggerFocus(s,o.element);var g=t(o);Ax(o,d,g)};return{get:t,set:r}},Ex=function(){var t=function(o){return na.getHighlighted(o).map(function(s){return s.element})},r=function(o,s){var d=t(o);o.getSystem().getByDom(s).fold(q,function(C){na.highlight(o,C)});var g=t(o);Ax(o,d,g)};return{get:t,set:r}},m1;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(m1||(m1={}));var _m=function(t,r,o,s,d){var g=function(){return t.concat([He("focusManager",d1()),gu("focusInside","onFocus",Sh(function($){return ct(["onFocus","onEnterOrSpace","onApi"],$)?dr.value($):dr.error("Invalid value for focusInside")})),ka("handler",D),ka("state",r),ka("sendFocusIn",d)])},C=function($,U,G,ee,oe){var ve=G($,U,ee,oe);return kx(ve,U.event).bind(function(_e){return _e($,U,ee,oe)})},E=function($,U){var G=$.focusInside!==m1.OnFocusMode?B.none():d($).map(function(ve){return $t(Vv(),function(_e,Ne){ve(_e,$,U),Ne.stop()})}),ee=function(ve,_e){var Ne=wr(Uu.concat(Nl))(_e.event);$.focusInside===m1.OnEnterOrSpaceMode&&Ne&&tS(ve,_e)&&d($).each(function(we){we(ve,$,U),_e.stop()})},oe=[$t(Sb(),function(ve,_e){C(ve,_e,o,$,U).fold(function(){ee(ve,_e)},function(Ne){_e.stop()})}),$t(p2(),function(ve,_e){C(ve,_e,s,$,U).each(function(Ne){_e.stop()})})];return _a(G.toArray().concat(oe))},D={schema:g,processKey:C,toEvents:E};return D},rC=function(t){var r=[Xr("onEscape"),Xr("onEnter"),He("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),He("firstTabstop",0),He("useTabstopAt",Ee),Xr("visibilitySelector")].concat([t]),o=function(_e,Ne){var we=_e.visibilitySelector.bind(function(Fe){return al(Ne,Fe)}).getOr(Ne);return Mo(we)>0},s=function(_e,Ne){var we=au(_e.element,Ne.selector),Fe=Ae(we,function(vt){return o(Ne,vt)});return B.from(Fe[Ne.firstTabstop])},d=function(_e,Ne){return Ne.focusManager.get(_e).bind(function(we){return al(we,Ne.selector)})},g=function(_e,Ne){return o(_e,Ne)&&_e.useTabstopAt(Ne)},C=function(_e,Ne,we){s(_e,Ne).each(function(Fe){Ne.focusManager.set(_e,Fe)})},E=function(_e,Ne,we,Fe,vt){return vt(Ne,we,function(ft){return g(Fe,ft)}).fold(function(){return Fe.cyclic?B.some(!0):B.none()},function(ft){return Fe.focusManager.set(_e,ft),B.some(!0)})},D=function(_e,Ne,we,Fe){var vt=au(_e.element,we.selector);return d(_e,we).bind(function(ft){var ze=Jt(vt,Se(Sa,ft));return ze.bind(function(nt){return E(_e,vt,nt,we,Fe)})})},$=function(_e,Ne,we){var Fe=we.cyclic?fE:Sx;return D(_e,Ne,we,Fe)},U=function(_e,Ne,we){var Fe=we.cyclic?vE:dE;return D(_e,Ne,we,Fe)},G=function(_e,Ne,we){return we.onEnter.bind(function(Fe){return Fe(_e,Ne)})},ee=function(_e,Ne,we){return we.onEscape.bind(function(Fe){return Fe(_e,Ne)})},oe=ne([Mr(zl([Cg,wr(vv)]),$),Mr(wr(vv),U),Mr(wr(gd),ee),Mr(zl([v1,wr(Nl)]),G)]),ve=ne([]);return _m(r,Ei.init,oe,ve,function(){return B.some(C)})},aC=rC(hu("cyclic",ce)),Tx=rC(hu("cyclic",Ee)),Ox=function(t,r,o){return Ob(t,o,Rs()),B.some(!0)},bd=function(t,r,o){var s=ff(o)&&wr(Uu)(r.event);return s?B.none():Ox(t,r,o)},Sm=function(t,r){return B.some(!0)},oC=[He("execute",bd),He("useSpace",!1),He("useEnter",!0),He("useControlEnter",!1),He("useDown",!1)],Dx=function(t,r,o){return o.execute(t,r,t.element)},X0=function(t,r,o,s){var d=o.useSpace&&!ff(t.element)?Uu:[],g=o.useEnter?Nl:[],C=o.useDown?pd:[],E=d.concat(g).concat(C);return[Mr(wr(E),Dx)].concat(o.useControlEnter?[Mr(zl([xx,wr(Nl)]),Dx)]:[])},mE=function(t,r,o,s){return o.useSpace&&!ff(t.element)?[Mr(wr(Uu),Sm)]:[]},_g=_m(oC,Ei.init,X0,mE,function(){return B.none()}),iC=function(){var t=mo(),r=function(d,g){t.set({numRows:d,numColumns:g})},o=function(){return t.get().map(function(d){return d.numRows})},s=function(){return t.get().map(function(d){return d.numColumns})};return Gi({readState:function(){return t.get().map(function(d){return{numRows:String(d.numRows),numColumns:String(d.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:s})},uC=function(t){return t.state(t)},Rx=Object.freeze({__proto__:null,flatgrid:iC,init:uC}),sC=function(t){return function(r,o,s,d){var g=t(r.element);return cC(g,r,o,s,d)}},Y0=function(t,r){var o=iw(t,r);return sC(o)},J0=function(t,r){var o=iw(r,t);return sC(o)},lC=function(t){return function(r,o,s,d){return cC(t,r,o,s,d)}},cC=function(t,r,o,s,d){var g=s.focusManager.get(r).bind(function(C){return t(r.element,C,s,d)});return g.map(function(C){return s.focusManager.set(r,C),!0})},$x=lC,xm=lC,Sg=lC,Bx=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Mx=function(t){return!Bx(t.dom)},Z0=function(t,r){return Jt(t,r).map(function(o){return{index:o,candidates:t}})},Px=function(t,r,o){var s=function(C){return Sa(C,r)},d=au(t,o),g=Ae(d,Mx);return Z0(g,s)},Ix=function(t,r){return Jt(t,function(o){return Sa(r,o)})},fC=function(t,r,o,s){var d=Math.floor(r/o),g=r%o;return s(d,g).bind(function(C){var E=C.row*o+C.column;return E>=0&&E<t.length?B.some(t[E]):B.none()})},Nx=function(t,r,o,s,d){return fC(t,r,s,function(g,C){var E=g===o-1,D=E?t.length-g*s:s,$=Oi(C,d,0,D-1);return B.some({row:g,column:$})})},zx=function(t,r,o,s,d){return fC(t,r,s,function(g,C){var E=Oi(g,d,0,o-1),D=E===o-1,$=D?t.length-E*s:s,U=fs(C,0,$-1);return B.some({row:E,column:U})})},Fx=function(t,r,o,s){return Nx(t,r,o,s,1)},hE=function(t,r,o,s){return Nx(t,r,o,s,-1)},Lx=function(t,r,o,s){return zx(t,r,o,s,-1)},vC=function(t,r,o,s){return zx(t,r,o,s,1)},xg=[At("selector"),He("execute",bd),Go("onEscape"),He("captureTab",!1),Xb()],gE=function(t,r,o){jo(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},Hx=function(t,r){return r.focusManager.get(t).bind(function(o){return al(o,r.selector)})},Vx=function(t,r,o,s){return Hx(t,o).bind(function(d){return o.execute(t,r,d)})},sl=function(t){return function(r,o,s,d){return Px(r,o,s.selector).bind(function(g){return t(g.candidates,g.index,d.getNumRows().getOr(s.initSize.numRows),d.getNumColumns().getOr(s.initSize.numColumns))})}},Ux=function(t,r,o){return o.captureTab?B.some(!0):B.none()},Wx=function(t,r,o){return o.onEscape(t,r)},Q0=sl(hE),ey=sl(Fx),dC=sl(Lx),km=sl(vC),kg=ne([Mr(wr(K0),Y0(Q0,ey)),Mr(wr(wg),J0(Q0,ey)),Mr(wr(Cm),$x(dC)),Mr(wr(pd),xm(km)),Mr(zl([Cg,wr(vv)]),Ux),Mr(zl([v1,wr(vv)]),Ux),Mr(wr(gd),Wx),Mr(wr(Uu.concat(Nl)),Vx)]),jx=ne([Mr(wr(Uu),Sm)]),Gx=_m(xg,iC,kg,jx,function(){return B.some(gE)}),ty=function(t,r,o,s){var d=function(C){return Qu(C)==="button"&&Ha(C,"disabled")==="disabled"},g=function(C,E,D){var $=Oi(E,s,0,D.length-1);return $===C?B.none():d(D[$])?g(C,$,D):B.from(D[$])};return Px(t,o,r).bind(function(C){var E=C.index,D=C.candidates;return g(E,E,D)})},pE=[At("selector"),He("getInitial",B.none),He("execute",bd),Go("onEscape"),He("executeOnMove",!1),He("allowVertical",!0)],ny=function(t,r){return r.focusManager.get(t).bind(function(o){return al(o,r.selector)})},h1=function(t,r,o){return ny(t,o).bind(function(s){return o.execute(t,r,s)})},ry=function(t,r,o){r.getInitial(t).orThunk(function(){return jo(t.element,r.selector)}).each(function(s){r.focusManager.set(t,s)})},qx=function(t,r,o){return ty(t,o.selector,r,-1)},ay=function(t,r,o){return ty(t,o.selector,r,1)},ll=function(t){return function(r,o,s,d){return t(r,o,s,d).bind(function(){return s.executeOnMove?h1(r,o,s):B.some(!0)})}},bE=function(t,r,o){return o.onEscape(t,r)},oy=function(t,r,o,s){var d=K0.concat(o.allowVertical?Cm:[]),g=wg.concat(o.allowVertical?pd:[]);return[Mr(wr(d),ll(Y0(qx,ay))),Mr(wr(g),ll(J0(qx,ay))),Mr(wr(Nl),h1),Mr(wr(Uu),h1),Mr(wr(gd),bE)]},Kx=ne([Mr(wr(Uu),Sm)]),g1=_m(pE,Ei.init,oy,Kx,function(){return B.some(ry)}),p1=function(t,r,o){return B.from(t[r]).bind(function(s){return B.from(s[o]).map(function(d){return{rowIndex:r,columnIndex:o,cell:d}})})},mC=function(t,r,o,s){var d=t[r],g=d.length,C=Oi(o,s,0,g-1);return p1(t,r,C)},Xx=function(t,r,o,s){var d=Oi(o,s,0,t.length-1),g=t[d].length,C=fs(r,0,g-1);return p1(t,d,C)},Yx=function(t,r,o,s){var d=t[r],g=d.length,C=fs(o+s,0,g-1);return p1(t,r,C)},Jx=function(t,r,o,s){var d=fs(o+s,0,t.length-1),g=t[d].length,C=fs(r,0,g-1);return p1(t,d,C)},iy=function(t,r,o){return mC(t,r,o,1)},yd=function(t,r,o){return mC(t,r,o,-1)},yE=function(t,r,o){return Xx(t,o,r,-1)},wE=function(t,r,o){return Xx(t,o,r,1)},CE=function(t,r,o){return Yx(t,r,o,-1)},wd=function(t,r,o){return Yx(t,r,o,1)},_E=function(t,r,o){return Jx(t,o,r,-1)},hC=function(t,r,o){return Jx(t,o,r,1)},SE=[Uc("selectors",[At("row"),At("cell")]),He("cycles",!0),He("previousSelector",B.none),He("execute",bd)],Ag=function(t,r,o){var s=r.previousSelector(t).orThunk(function(){var d=r.selectors;return jo(t.element,d.cell)});s.each(function(d){r.focusManager.set(t,d)})},gC=function(t,r,o){return mc(t.element).bind(function(s){return o.execute(t,r,s)})},Zx=function(t,r){return Ve(t,function(o){return au(o,r.selectors.cell)})},uy=function(t,r){return function(o,s,d){var g=d.cycles?t:r;return al(s,d.selectors.row).bind(function(C){var E=au(C,d.selectors.cell);return Ix(E,s).bind(function(D){var $=au(o,d.selectors.row);return Ix($,C).bind(function(U){var G=Zx($,d);return g(G,U,D).map(function(ee){return ee.cell})})})})}},Qx=uy(yd,CE),ek=uy(iy,wd),xE=uy(yE,_E),sy=uy(wE,hC),ly=ne([Mr(wr(K0),Y0(Qx,ek)),Mr(wr(wg),J0(Qx,ek)),Mr(wr(Cm),$x(xE)),Mr(wr(pd),xm(sy)),Mr(wr(Uu.concat(Nl)),gC)]),pC=ne([Mr(wr(Uu),Sm)]),tk=_m(SE,Ei.init,ly,pC,function(){return B.some(Ag)}),nk=[At("selector"),He("execute",bd),He("moveOnTab",!1)],Am=function(t,r,o){return o.focusManager.get(t).bind(function(s){return o.execute(t,r,s)})},b1=function(t,r,o){jo(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},cy=function(t,r,o){return ty(t,o.selector,r,-1)},y1=function(t,r,o){return ty(t,o.selector,r,1)},rk=function(t,r,o,s){return o.moveOnTab?Sg(cy)(t,r,o,s):B.none()},dv=function(t,r,o,s){return o.moveOnTab?Sg(y1)(t,r,o,s):B.none()},kE=ne([Mr(wr(Cm),Sg(cy)),Mr(wr(pd),Sg(y1)),Mr(zl([Cg,wr(vv)]),rk),Mr(zl([v1,wr(vv)]),dv),Mr(wr(Nl),Am),Mr(wr(Uu),Am)]),vf=ne([Mr(wr(Uu),Sm)]),ak=_m(nk,Ei.init,kE,vf,function(){return B.some(b1)}),fy=[Go("onSpace"),Go("onEnter"),Go("onShiftEnter"),Go("onLeft"),Go("onRight"),Go("onTab"),Go("onShiftTab"),Go("onUp"),Go("onDown"),Go("onEscape"),He("stopSpaceKeyup",!1),Xr("focusIn")],bC=function(t,r,o){return[Mr(wr(Uu),o.onSpace),Mr(zl([v1,wr(Nl)]),o.onEnter),Mr(zl([Cg,wr(Nl)]),o.onShiftEnter),Mr(zl([Cg,wr(vv)]),o.onShiftTab),Mr(zl([v1,wr(vv)]),o.onTab),Mr(wr(Cm),o.onUp),Mr(wr(pd),o.onDown),Mr(wr(K0),o.onLeft),Mr(wr(wg),o.onRight),Mr(wr(Uu),o.onSpace),Mr(wr(gd),o.onEscape)]},AE=function(t,r,o){return o.stopSpaceKeyup?[Mr(wr(Uu),Sm)]:[]},Cd=_m(fy,Ei.init,bC,AE,function(t){return t.focusIn}),ok=aC.schema(),ik=Tx.schema(),EE=g1.schema(),yC=Gx.schema(),Eg=tk.schema(),Tg=_g.schema(),uk=ak.schema(),wC=Cd.schema(),Fl=Object.freeze({__proto__:null,acyclic:ok,cyclic:ik,flow:EE,flatgrid:yC,matrix:Eg,execution:Tg,menu:uk,special:wC}),_d=function(t){return lo(t,"setGridSize")},Hn=om({branchKey:"mode",branches:Fl,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(s){s(t,r,o)})},setGridSize:function(t,r,o,s,d){_d(o)?o.setGridSize(s,d):console.error("Layout does not support setGridSize")}},state:Rx}),CC=function(t,r,o,s){kS(function(){var d=Ve(s,t.getSystem().build);xw(t,d)},t.element)},df=function(t,r,o,s){var d=t.getSystem().build(s);D0(t,d,o)},sk=function(t,r,o,s){df(t,r,Hi,s)},TE=function(t,r,o,s){df(t,r,Wf,s)},lk=function(t,r,o,s){var d=w1(t),g=bt(d,function(C){return Sa(s.element,C.element)});g.each(bc)},w1=function(t,r){return t.components()},wc=function(t,r,o,s,d){var g=w1(t);return B.from(g[s]).map(function(C){return lk(t,r,o,C),d.each(function(E){df(t,r,function(D,$){rc(D,$,s)},E)}),C})},vy=function(t,r,o,s,d){var g=w1(t);return Jt(g,s).bind(function(C){return wc(t,r,o,C,d)})},ck=Object.freeze({__proto__:null,append:sk,prepend:TE,remove:lk,replaceAt:wc,replaceBy:vy,set:CC,contents:w1}),ar=Ko({fields:[],name:"replacing",apis:ck}),_C=function(t,r){var o=_a(r);return Ko({fields:[At("enabled")],name:t,active:{events:ne(o)}})},sr=function(t,r){var o=_C(t,r);return{key:t,value:{config:{},me:o,configAsRaw:ne({}),initialConfig:{},state:Ei}}},SC=function(t,r){r.ignore||(dc(t.element),r.onFocus(t))},fk=function(t,r){r.ignore||Up(t.element)},vk=function(t){return Wp(t.element)},Og=Object.freeze({__proto__:null,focus:SC,blur:fk,isFocused:vk}),Dg=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return Bl(o)},Rg=function(t){return _a([$t(Vv(),function(r,o){SC(r,t),o.stop()})].concat(t.stopMousedown?[$t(Dl(),function(r,o){o.event.prevent()})]:[]))},$g=Object.freeze({__proto__:null,exhibit:Dg,events:Rg}),OE=[Yr("onFocus"),He("stopMousedown",!1),He("ignore",!1)],er=Ko({fields:OE,name:"focusing",active:$g,apis:Og}),dk=function(t){var r=function(){var o=zn(t),s=function(){return o.get()},d=function(E){return o.set(E)},g=function(){return o.set(t)},C=function(){return o.get()};return{get:s,set:d,clear:g,readState:C}};return{init:r}},xC=function(t,r,o){var s=r.aria;s.update(t,s,o.get())},C1=function(t,r,o){r.toggleClass.each(function(s){o.get()?Wo(t.element,s):Io(t.element,s)})},Sd=function(t,r,o){kC(t,r,o,!o.get())},mk=function(t,r,o){o.set(!0),C1(t,r,o),xC(t,r,o)},dy=function(t,r,o){o.set(!1),C1(t,r,o),xC(t,r,o)},kC=function(t,r,o,s){var d=s?mk:dy;d(t,r,o)},DE=function(t,r,o){return o.get()},hk=function(t,r,o){kC(t,r,o,r.selected)},RE=Object.freeze({__proto__:null,onLoad:hk,toggle:Sd,isOn:DE,on:mk,off:dy,set:kC}),my=function(){return Bl({})},$E=function(t,r){var o=am(t,r,Sd),s=qa(t,r,hk);return _a(ut([t.toggleOnExecute?[o]:[],[s]]))},hy=Object.freeze({__proto__:null,exhibit:my,events:$E}),gk=function(t,r,o){cr(t.element,"aria-pressed",o),r.syncWithExpanded&&bk(t,r,o)},pk=function(t,r,o){cr(t.element,"aria-selected",o)},BE=function(t,r,o){cr(t.element,"aria-checked",o)},bk=function(t,r,o){cr(t.element,"aria-expanded",o)},AC=[He("selected",!1),Xr("toggleClass"),He("toggleOnExecute",!0),gu("aria",{mode:"none"},el("mode",{pressed:[He("syncWithExpanded",!1),ka("update",gk)],checked:[ka("update",BE)],expanded:[ka("update",bk)],selected:[ka("update",pk)],none:[ka("update",q)]}))],Nr=Ko({fields:AC,name:"toggling",active:hy,apis:RE,state:dk(!1)}),yk=function(){var t=function(r,o){o.stop(),Bs(r)};return[$t(Oh(),t),$t(Uv(),t),Gd(Gc()),Gd(Dl())]},gy=function(t){var r=function(o){return cs(function(s,d){o(s),d.stop()})};return _a(ut([t.map(r).toArray(),yk()]))},EC="alloy.item-hover",wk="alloy.item-focus",TC=function(t){(mc(t.element).isNone()||er.isFocused(t))&&(er.isFocused(t)||er.focus(t),Fn(t,EC,{item:t}))},_1=function(t){Fn(t,wk,{item:t})},py=ne(EC),u=ne(wk),c=function(t){return{dom:t.dom,domModification:re(re({},t.domModification),{attributes:re(re(re({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:il.augment(t.itemBehaviours,[t.toggling.fold(Nr.revoke,function(r){return Nr.config(re({aria:{mode:"checked"}},r))}),er.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){_1(r)}}),Hn.config({mode:"execution"}),an.config({store:{mode:"memory",initialValue:t.data}}),sr("item-type-events",ke(ke([],yk(),!0),[$t(Qf(),TC),$t(Ud(),er.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},h=[At("data"),At("components"),At("dom"),He("hasSubmenu",!1),Xr("toggling"),il.field("itemBehaviours",[Nr,er,Hn,an]),He("ignoreFocus",!1),He("domModification",{}),ka("builder",c),He("eventOrder",{})],w=function(t){return{dom:t.dom,components:t.components,events:_a([$h(Ud())])}},k=[At("dom"),At("components"),ka("builder",w)],R=ne("item-widget"),z=ne([Bi({name:"widget",overrides:function(t){return{behaviours:Zt([an.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:q}})])}}})]),K=function(t){var r=Uw(R(),t,z()),o=Ww(R(),t,r.internals()),s=function(g){return pa(g,t,"widget").map(function(C){return Hn.focusIn(C),C})},d=function(g,C){return ff(C.event.target)?B.none():function(){return t.autofocus&&C.setSource(g.element),B.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:_a([cs(function(g,C){s(g).each(function(E){C.stop()})}),$t(Qf(),TC),$t(Ud(),function(g,C){t.autofocus?s(g):er.focus(g)})]),behaviours:il.augment(t.widgetBehaviours,[an.config({store:{mode:"memory",initialValue:t.data}}),er.config({ignore:t.ignoreFocus,onFocus:function(g){_1(g)}}),Hn.config({mode:"special",focusIn:t.autofocus?function(g){s(g)}:xS(),onLeft:d,onRight:d,onEscape:function(g,C){return!er.isFocused(g)&&!t.autofocus?(er.focus(g),B.some(!0)):(t.autofocus&&C.setSource(g.element),B.none())}})])}},ue=[At("uid"),At("data"),At("components"),At("dom"),He("autofocus",!1),He("ignoreFocus",!1),il.field("widgetBehaviours",[an,er,Hn]),He("domModification",{}),i1(z()),ka("builder",K)],ye=el("type",{widget:ue,item:h,separator:k}),Me=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},ht=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},Ht=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},Tt=ne([lf({factory:{sketch:function(t){var r=sa("menu.spec item",ye,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return Pr(r,"uid")?r:re(re({},r),{uid:Xv("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),gt=ne([At("value"),At("items"),At("dom"),At("components"),He("eventOrder",{}),Xo("menuBehaviours",[na,an,Sr,Hn]),gu("movement",{mode:"menu",moveOnTab:!0},el("mode",{grid:[Xb(),ka("config",Me)],matrix:[ka("config",ht),At("rowSelector")],menu:[He("moveOnTab",!0),ka("config",Ht)]})),XA(),He("fakeFocus",!1),He("focusManager",d1()),Yr("onHighlight")]),Yt=ne("alloy.menu-focus"),tn=function(t,r,o,s){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:li(t.menuBehaviours,[na.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),an.config({store:{mode:"memory",initialValue:t.value}}),Sr.config({find:B.some}),Hn.config(t.movement.config(t,t.movement))]),events:_a([$t(u(),function(d,g){var C=g.event;d.getSystem().getByDom(C.target).each(function(E){na.highlight(d,E),g.stop(),Fn(d,Yt(),{menu:d,item:E})})}),$t(py(),function(d,g){var C=g.event.item;na.highlight(d,C)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},Rn=xu({name:"Menu",configFields:gt(),partFields:Tt(),factory:tn}),jr=function(t){return Fa(t,function(r,o){return{k:r,v:o}})},On=function(t,r,o,s){return Tn(o,s).bind(function(d){return Tn(t,d).bind(function(g){var C=On(t,r,o,g);return B.some([g].concat(C))})}).getOr([])},nr=function(t,r){var o={};Ur(t,function(C,E){pt(C,function(D){o[D]=E})});var s=r,d=jr(r),g=vr(d,function(C,E){return[E].concat(On(o,s,d,E))});return vr(o,function(C){return Tn(g,C).getOr([C])})},xr=function(){var t=zn({}),r=zn({}),o=zn({}),s=mo(),d=zn({}),g=function(){t.set({}),r.set({}),o.set({}),s.clear()},C=function(){return s.get().isNone()},E=function(ze,nt){var _t;r.set(re(re({},r.get()),(_t={},_t[ze]={type:"prepared",menu:nt},_t)))},D=function(ze,nt,_t,on){s.set(ze),t.set(_t),r.set(nt),d.set(on);var Dt=nr(on,_t);o.set(Dt)},$=function(ze){return Ju(t.get(),function(nt,_t){return nt===ze})},U=function(ze,nt,_t){return _e(ze).bind(function(on){return $(ze).bind(function(Dt){return nt(Dt).map(function(ln){return{triggeredMenu:on,triggeringItem:ln,triggeringPath:_t}})})})},G=function(ze,nt){var _t=Ae(we(ze).toArray(),function(on){return _e(on).isSome()});return Tn(o.get(),ze).bind(function(on){var Dt=Ft(_t.concat(on)),ln=jt(Dt,function(Mt,Ct){return U(Mt,nt,Dt.slice(0,Ct+1)).fold(function(){return lu(s.get(),Mt)?[]:[B.none()]},function(Xt){return[B.some(Xt)]})});return Dr(ln)})},ee=function(ze){return Tn(t.get(),ze).map(function(nt){var _t=Tn(o.get(),ze).getOr([]);return[nt].concat(_t)})},oe=function(ze){return Tn(o.get(),ze).bind(function(nt){return nt.length>1?B.some(nt.slice(1)):B.none()})},ve=function(ze){return Tn(o.get(),ze)},_e=function(ze){return Ne(ze).bind(Cr)},Ne=function(ze){return Tn(r.get(),ze)},we=function(ze){return Tn(t.get(),ze)},Fe=function(ze){var nt=d.get();return rn(Hr(nt),ze)},vt=function(){return s.get().bind(_e)},ft=function(){return r.get()};return{setMenuBuilt:E,setContents:D,expand:ee,refresh:ve,collapse:oe,lookupMenu:Ne,lookupItem:we,otherMenus:Fe,getPrimary:vt,getMenus:ft,clear:g,isClear:C,getTriggeringPath:G}},Cr=function(t){return t.type==="prepared"?B.some(t.menu):B.none()},Co={init:xr,extractPreparedMenu:Cr},ci=function(t,r){var o=mo(),s=function(Ot,bn,En){return vr(En,function(Or,ia){var Pa=function(){return Rn.sketch(re(re({},Or),{value:ia,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?Ex():d1()}))};return ia===bn?{type:"prepared",menu:Ot.getSystem().build(Pa())}:{type:"notbuilt",nbMenu:Pa}})},d=Co.init(),g=function(Ot){var bn=s(Ot,t.data.primary,t.data.menus),En=D();return d.setContents(t.data.primary,bn,t.data.expansions,En),d.getPrimary()},C=function(Ot){return an.getValue(Ot).value},E=function(Ot,bn,En){return Qr(bn,function(Or){if(!Or.getSystem().isConnected())return B.none();var ia=na.getCandidates(Or);return bt(ia,function(Pa){return C(Pa)===En})})},D=function(Ot){return vr(t.data.menus,function(bn,En){return jt(bn.items,function(Or){return Or.type==="separator"?[]:[Or.data.value]})})},$=function(Ot,bn){na.highlight(Ot,bn),na.getHighlighted(bn).orThunk(function(){return na.getFirst(bn)}).each(function(En){Ob(Ot,En.element,Ud())})},U=function(Ot,bn){return Ir(Ve(bn,function(En){return Ot.lookupMenu(En).bind(function(Or){return Or.type==="prepared"?B.some(Or.menu):B.none()})}))},G=function(Ot,bn,En){var Or=U(bn,bn.otherMenus(En));pt(Or,function(ia){Ns(ia.element,[t.markers.backgroundMenu]),t.stayInDom||ar.remove(Ot,ia)})},ee=function(Ot){return o.get().getOrThunk(function(){var bn={},En=au(Ot.element,"."+t.markers.item),Or=Ae(En,function(ia){return Ha(ia,"aria-haspopup")==="true"});return pt(Or,function(ia){Ot.getSystem().getByDom(ia).each(function(Pa){var so=C(Pa);bn[so]=Pa})}),o.set(bn),bn})},oe=function(Ot,bn){var En=ee(Ot);Ur(En,function(Or,ia){var Pa=ct(bn,ia);cr(Or.element,"aria-expanded",Pa)})},ve=function(Ot,bn,En){return B.from(En[0]).bind(function(Or){return bn.lookupMenu(Or).bind(function(ia){if(ia.type==="notbuilt")return B.none();var Pa=ia.menu,so=U(bn,En.slice(1));return pt(so,function(vl){Wo(vl.element,t.markers.backgroundMenu)}),fu(Pa.element)||ar.append(Ot,zs(Pa)),Ns(Pa.element,[t.markers.backgroundMenu]),$(Ot,Pa),G(Ot,bn,En),B.some(Pa)})})},_e;(function(Ot){Ot[Ot.HighlightSubmenu=0]="HighlightSubmenu",Ot[Ot.HighlightParent=1]="HighlightParent"})(_e||(_e={}));var Ne=function(Ot,bn,En){if(En.type==="notbuilt"){var Or=Ot.getSystem().build(En.nbMenu());return d.setMenuBuilt(bn,Or),Or}else return En.menu},we=function(Ot,bn,En){if(En===void 0&&(En=_e.HighlightSubmenu),bn.hasConfigured(In)&&In.isDisabled(bn))return B.some(bn);var Or=C(bn);return d.expand(Or).bind(function(ia){return oe(Ot,ia),B.from(ia[0]).bind(function(Pa){return d.lookupMenu(Pa).bind(function(so){var vl=Ne(Ot,Pa,so);return fu(vl.element)||ar.append(Ot,zs(vl)),t.onOpenSubmenu(Ot,bn,vl,Ft(ia)),En===_e.HighlightSubmenu?(na.highlightFirst(vl),ve(Ot,d,ia)):(na.dehighlightAll(vl),B.some(bn))})})})},Fe=function(Ot,bn){var En=C(bn);return d.collapse(En).bind(function(Or){return oe(Ot,Or),ve(Ot,d,Or).map(function(ia){return t.onCollapseMenu(Ot,bn,ia),ia})})},vt=function(Ot,bn){var En=C(bn);return d.refresh(En).bind(function(Or){return oe(Ot,Or),ve(Ot,d,Or)})},ft=function(Ot,bn){return ff(bn.element)?B.none():we(Ot,bn,_e.HighlightSubmenu)},ze=function(Ot,bn){return ff(bn.element)?B.none():Fe(Ot,bn)},nt=function(Ot,bn){return Fe(Ot,bn).orThunk(function(){return t.onEscape(Ot,bn).map(function(){return Ot})})},_t=function(Ot){return function(bn,En){return al(En.getSource(),"."+t.markers.item).bind(function(Or){return bn.getSystem().getByDom(Or).toOptional().bind(function(ia){return Ot(bn,ia).map(Ee)})})}},on=_a([$t(Yt(),function(Ot,bn){var En=bn.event.item;d.lookupItem(C(En)).each(function(){var Or=bn.event.menu;na.highlight(Ot,Or);var ia=C(bn.event.item);d.refresh(ia).each(function(Pa){return G(Ot,d,Pa)})})}),cs(function(Ot,bn){var En=bn.event.target;Ot.getSystem().getByDom(En).each(function(Or){var ia=C(Or);ia.indexOf("collapse-item")===0&&Fe(Ot,Or),we(Ot,Or,_e.HighlightSubmenu).fold(function(){t.onExecute(Ot,Or)},q)})}),ur(function(Ot,bn){g(Ot).each(function(En){ar.append(Ot,zs(En)),t.onOpenMenu(Ot,En),t.highlightImmediately&&$(Ot,En)})})].concat(t.navigateOnHover?[$t(py(),function(Ot,bn){var En=bn.event.item;vt(Ot,En),we(Ot,En,_e.HighlightParent),t.onHover(Ot,En)})]:[])),Dt=function(Ot){return na.getHighlighted(Ot).bind(na.getHighlighted)},ln=function(Ot){Dt(Ot).each(function(bn){Fe(Ot,bn)})},Mt=function(Ot){d.getPrimary().each(function(bn){$(Ot,bn)})},Ct=function(Ot){return B.from(Ot.components()[0]).filter(function(bn){return Ha(bn.element,"role")==="menu"})},Xt=function(Ot){var bn=d.getPrimary().bind(function(En){return Dt(Ot).bind(function(Or){var ia=C(Or),Pa=wi(d.getMenus()),so=Ir(Ve(Pa,Co.extractPreparedMenu));return d.getTriggeringPath(ia,function(vl){return E(Ot,so,vl)})}).map(function(Or){return{primary:En,triggeringPath:Or}})});bn.fold(function(){Ct(Ot).each(function(En){t.onRepositionMenu(Ot,En,[])})},function(En){var Or=En.primary,ia=En.triggeringPath;t.onRepositionMenu(Ot,Or,ia)})},Cn={collapseMenu:ln,highlightPrimary:Mt,repositionMenus:Xt};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:li(t.tmenuBehaviours,[Hn.config({mode:"special",onRight:_t(ft),onLeft:_t(ze),onEscape:_t(nt),focusIn:function(Ot,bn){d.getPrimary().each(function(En){Ob(Ot,En.element,Ud())})}}),na.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Sr.config({find:function(Ot){return na.getHighlighted(Ot)}}),ar.config({})]),eventOrder:t.eventOrder,apis:Cn,events:on}},fi=ne("collapse-item"),zr=function(t,r,o){return{primary:t,menus:r,expansions:o}},or=function(t,r){return{primary:t,menus:Wc(t,r),expansions:{}}},$r=function(t){return{value:wn(fi()),meta:{text:t}}},fa=Ls({name:"TieredMenu",configFields:[zu("onExecute"),zu("onEscape"),wu("onOpenMenu"),wu("onOpenSubmenu"),Yr("onRepositionMenu"),Yr("onCollapseMenu"),He("highlightImmediately",!0),Uc("data",[At("primary"),At("menus"),At("expansions")]),He("fakeFocus",!1),Yr("onHighlight"),Yr("onHover"),em(),At("dom"),He("navigateOnHover",!0),He("stayInDom",!1),Xo("tmenuBehaviours",[Hn,na,Sr,ar]),He("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:ci,extraApis:{tieredData:zr,singleData:or,collapseItem:$r}}),io=function(t,r,o,s,d){var g=function(){return t.lazySink(r)},C=s.type==="horizontal"?{layouts:{onLtr:function(){return r0()},onRtl:function(){return a0()}}}:{},E=function($){return $.length===2},D=function($){return E($)?C:{}};return fa.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return Br.close(r),t.onEscape.map(function($){return $(r)}),B.some(!0)},onExecute:function(){return B.some(!0)},onOpenMenu:function($,U){ho.positionWithinBounds(g().getOrDie(),U,o,d())},onOpenSubmenu:function($,U,G,ee){var oe=g().getOrDie();ho.position(oe,G,{anchor:re({type:"submenu",item:U},D(ee))})},onRepositionMenu:function($,U,G){var ee=g().getOrDie();ho.positionWithinBounds(ee,U,o,d()),pt(G,function(oe){var ve=D(oe.triggeringPath);ho.position(ee,oe.triggeredMenu,{anchor:re({type:"submenu",item:oe.triggeringItem},ve)})})}})},mv=function(t,r){var o=function(oe,ve){var _e=t.getRelated(oe);return _e.exists(function(Ne){return Qd(Ne,ve)})},s=function(oe,ve){Br.setContent(oe,ve)},d=function(oe,ve,_e){g(oe,ve,_e,B.none())},g=function(oe,ve,_e,Ne){C(oe,ve,_e,function(){return Ne.map(function(we){return Eo(we)})})},C=function(oe,ve,_e,Ne){var we=t.lazySink(oe).getOrDie();Br.openWhileCloaked(oe,ve,function(){return ho.positionWithinBounds(we,oe,_e,Ne())}),an.setValue(oe,B.some({mode:"position",config:_e,getBounds:Ne}))},E=function(oe,ve,_e){D(oe,ve,_e,B.none)},D=function(oe,ve,_e,Ne){var we=io(t,oe,ve,_e,Ne);Br.open(oe,we),an.setValue(oe,B.some({mode:"menu",menu:we}))},$=function(oe){Br.isOpen(oe)&&(an.setValue(oe,B.none()),Br.close(oe))},U=function(oe){return Br.getState(oe)},G=function(oe){Br.isOpen(oe)&&an.getValue(oe).each(function(ve){switch(ve.mode){case"menu":Br.getState(oe).each(fa.repositionMenus);break;case"position":var _e=t.lazySink(oe).getOrDie();ho.positionWithinBounds(_e,oe,ve.config,ve.getBounds());break}})},ee={setContent:s,showAt:d,showWithin:g,showWithinBounds:C,showMenuAt:E,showMenuWithinBounds:D,hide:$,getContent:U,reposition:G,isOpen:Br.isOpen};return{uid:t.uid,dom:t.dom,behaviours:li(t.inlineBehaviours,[Br.config({isPartOf:function(oe,ve,_e){return Qd(ve,_e)||o(oe,_e)},getAttachPoint:function(oe){return t.lazySink(oe).getOrDie()},onOpen:function(oe){t.onShow(oe)},onClose:function(oe){t.onHide(oe)}}),an.config({store:{mode:"memory",initialValue:B.none()}}),nu.config({channels:re(re({},Vu(re({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(oe){return{fireEventInstead:{event:oe.event}}}).getOr({})))),hm(re(re({},t.fireRepositionEventInstead.map(function(oe){return{fireEventInstead:{event:oe.event}}}).getOr({})),{doReposition:G})))})]),eventOrder:t.eventOrder,apis:ee}},ca=Ls({name:"InlineView",configFields:[At("lazySink"),Yr("onShow"),Yr("onHide"),Lv("onEscape"),Xo("inlineBehaviours",[Br,an,nu]),ss("fireDismissalEventInstead",[He("event",Rl())]),ss("fireRepositionEventInstead",[He("event",ji())]),He("getRelated",B.none),He("isExtraPart",ce),He("eventOrder",B.none)],factory:mv,apis:{showAt:function(t,r,o,s){t.showAt(r,o,s)},showWithin:function(t,r,o,s,d){t.showWithin(r,o,s,d)},showWithinBounds:function(t,r,o,s,d){t.showWithinBounds(r,o,s,d)},showMenuAt:function(t,r,o,s){t.showMenuAt(r,o,s)},showMenuWithinBounds:function(t,r,o,s,d){t.showMenuWithinBounds(r,o,s,d)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),ds="layout-inset",vi=function(t){return t.x},S1=function(t,r){return t.x+t.width/2-r.width/2},hv=function(t,r){return t.x+t.width-r.width},Cc=function(t){return t.y},Hs=function(t,r){return t.y+t.height-r.height},mf=function(t,r){return t.y+t.height/2-r.height/2},by=function(t,r,o){return Qo(hv(t,r),Hs(t,r),o.insetSouthwest(),nm(),"southwest",qo(t,{right:0,bottom:3}),ds)},Bg=function(t,r,o){return Qo(vi(t),Hs(t,r),o.insetSoutheast(),L2(),"southeast",qo(t,{left:1,bottom:3}),ds)},Mg=function(t,r,o){return Qo(hv(t,r),Cc(t),o.insetNorthwest(),F2(),"northwest",qo(t,{right:0,top:2}),ds)},Pg=function(t,r,o){return Qo(vi(t),Cc(t),o.insetNortheast(),Jb(),"northeast",qo(t,{left:1,top:2}),ds)},_c=function(t,r,o){return Qo(S1(t,r),Cc(t),o.insetNorth(),zp(),"north",qo(t,{top:2}),ds)},Ig=function(t,r,o){return Qo(S1(t,r),Hs(t,r),o.insetSouth(),H2(),"south",qo(t,{bottom:3}),ds)},Ng=function(t,r,o){return Qo(hv(t,r),mf(t,r),o.insetEast(),Hh(),"east",qo(t,{right:0}),ds)},OC=function(t,r,o){return Qo(vi(t),mf(t,r),o.insetWest(),V2(),"west",qo(t,{left:1}),ds)},zg=function(t){switch(t){case"north":return _c;case"northeast":return Pg;case"northwest":return Mg;case"south":return Ig;case"southeast":return Bg;case"southwest":return by;case"east":return Ng;case"west":return OC}},F5=function(t,r,o,s,d){var g=Z2(s).map(zg).getOr(_c);return g(t,r,o,s,d)},ME=function(t){switch(t){case"north":return Ig;case"northeast":return Bg;case"northwest":return by;case"south":return _c;case"southeast":return Pg;case"southwest":return Mg;case"east":return OC;case"west":return Ng}},a6=function(t,r,o,s,d){var g=Z2(s).map(ME).getOr(_c);return g(t,r,o,s,d)},Fg=tinymce.util.Tools.resolve("tinymce.util.Delay"),o6=function(t){var r=gy(t.action),o=t.dom.tag,s=function(g){return Tn(t.dom,"attributes").bind(function(C){return Tn(C,g)})},d=function(){if(o==="button"){var g=s("type").getOr("button"),C=s("role").map(function(D){return{role:D}}).getOr({});return re({type:g},C)}else{var E=s("role").getOr("button");return{role:E}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:il.augment(t.buttonBehaviours,[er.config({}),Hn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},ms=Ls({name:"Button",factory:o6,configFields:[He("uid",void 0),At("dom"),He("components",[]),il.field("buttonBehaviours",[er,Hn]),Xr("action"),Xr("role"),He("eventOrder",{})]}),oa=function(t){var r=Kw(t)&&lo(t,"uid")?t.uid:Xv("memento"),o=function(g){return g.getSystem().getByUid(r).getOrDie()},s=function(g){return g.getSystem().getByUid(r).toOptional()},d=function(){return re(re({},t),{uid:r})};return{get:o,getOpt:s,asSpec:d}},hf=tinymce.util.Tools.resolve("tinymce.util.I18n"),PE={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},L5="temporary-placeholder",yy=function(t){return function(){return Tn(t,L5).getOr("!not found!")}},IE=function(t,r){var o=t.toLowerCase();if(hf.isRtl()){var s=Rf(o,"-rtl");return Pr(r,s)?s:o}else return o},H5=function(t,r){return Tn(r,IE(t,r))},V5=function(t,r){var o=r();return H5(t,o).getOrThunk(yy(o))},i6=function(t,r,o){var s=r();return H5(t,s).or(o).getOrThunk(yy(s))},u6=function(t){return hf.isRtl()?Pr(PE,t):!1},NE=function(){return sr("add-focusable",[ur(function(t){I2(t.element,"svg").each(function(r){return cr(r,"focusable","false")})})])},zE=function(t,r,o,s){var d,g,C=u6(r)?["tox-icon--flip"]:[],E=Tn(o,IE(r,o)).or(s).getOrThunk(yy(o));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(C),innerHtml:E},behaviours:Zt(ke(ke([],(g=t.behaviours)!==null&&g!==void 0?g:[],!0),[NE()],!1))}},gv=function(t,r,o,s){return s===void 0&&(s=B.none()),zE(r,t,o(),s)},s6=function(t,r,o){var s=o(),d=bt(t,function(g){return Pr(s,IE(g,s))});return zE(r,d.getOr(L5),s,B.none())},Ck={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},l6=function(t){var r=oa({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Zt([ar.config({})])}),o=function(oe){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+oe+"%"}}}},s=function(oe){return{dom:{tag:"div",classes:["tox-text"],innerHtml:oe+"%"}}},d=oa({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:Zt([ar.config({})])}),g=function(oe,ve){oe.getSystem().isConnected()&&d.getOpt(oe).each(function(_e){ar.set(_e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(ve)]},s(ve)])})},C=function(oe,ve){if(oe.getSystem().isConnected()){var _e=r.get(oe);ar.set(_e,[Ti(ve)])}},E={updateProgress:g,updateText:C},D=ut([t.icon.toArray(),t.level.toArray(),t.level.bind(function(oe){return B.from(Ck[oe])}).toArray()]),$=oa(ms.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[gv("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(oe){t.onAction(oe)}})),U=s6(D,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),G={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:Zt([ar.config({})])},ee=[U,G];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(oe){return["tox-notification","tox-notification--in","tox-notification--"+oe]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Zt([er.config({}),sr("notification-events",[$t(tl(),function(oe){$.getOpt(oe).each(er.focus)})])]),components:ee.concat(t.progress?[d.asSpec()]:[]).concat(t.closeButton?[$.asSpec()]:[]),apis:E}},FE=Ls({name:"Notification",factory:l6,configFields:[Xr("level"),At("progress"),At("icon"),At("onAction"),At("text"),At("iconProvider"),At("translationProvider"),Ca("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function LE(t,r,o){var s=r.backstage.shared,d=function($){switch($){case"bc-bc":return Ig;case"tc-tc":return _c;case"tc-bc":return Fu;case"bc-tc":default:return No}},g=function($){$.length>0&&pt($,function(U,G){G===0?U.moveRel(null,"banner"):U.moveRel($[G-1].getEl(),"bc-tc")})},C=function($,U){var G=!$.closeButton&&$.timeout&&($.timeout>0||$.timeout<0),ee=function(){U(),ca.hide(ve)},oe=Ua(FE.sketch({text:$.text,level:ct(["success","error","warning","warn","info"],$.type)?$.type:void 0,progress:$.progressBar===!0,icon:B.from($.icon),closeButton:!G,onAction:ee,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),ve=Ua(ca.sketch(re({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(ve),$.timeout>0&&Fg.setTimeout(function(){ee()},$.timeout);var _e=function(){var Ne=Eo(sn.fromDom(t.getContentAreaContainer())),we=Si(),Fe=fs(we.x,Ne.x,Ne.right),vt=fs(we.y,Ne.y,Ne.bottom),ft=Math.max(Ne.right,we.right),ze=Math.max(Ne.bottom,we.bottom);return B.some(Vo(Fe,vt,ft-Fe,ze-vt))};return{close:ee,moveTo:function(Ne,we){ca.showAt(ve,zs(oe),{anchor:{type:"makeshift",x:Ne,y:we}})},moveRel:function(Ne,we){var Fe=zs(oe),vt={maxHeightFunction:Xh()};if(we!=="banner"&&H(Ne)){var ft=d(we),ze={type:"node",root:Fi(),node:B.some(sn.fromDom(Ne)),overrides:vt,layouts:{onRtl:function(){return[ft]},onLtr:function(){return[ft]}}};ca.showWithinBounds(ve,Fe,{anchor:ze},_e)}else{var nt=re(re({},s.anchors.banner()),{overrides:vt});ca.showWithinBounds(ve,Fe,{anchor:nt},_e)}},text:function(Ne){FE.updateText(oe,Ne)},settings:$,getEl:function(){return oe.element.dom},progressBar:{value:function(Ne){FE.updateProgress(oe,Ne)}}}},E=function($){$.close()},D=function($){return $.settings};return{open:C,close:E,reposition:g,getArgs:D}}var c6=function(t,r){var o=null,s=function(){O(o)||(clearTimeout(o),o=null)},d=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];O(o)&&(o=setTimeout(function(){o=null,t.apply(null,g)},r))};return{cancel:s,throttle:d}},HE=function(t,r){var o=null,s=function(){O(o)||(clearTimeout(o),o=null)},d=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];s(),o=setTimeout(function(){o=null,t.apply(null,g)},r)};return{cancel:s,throttle:d}},f6=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),v6=function(t,r){return t.isBlock(r)||ct(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},U5=function(t,r,o,s,d){var g=f6(t,function(C){return v6(t,C)});return B.from(g.backwards(r,o,s,d))},d6="[data-mce-autocompleter]",m6=function(t,r){return _k(sn.fromDom(t.selection.getNode())).getOrThunk(function(){var o=sn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Hi(o,sn.fromDom(r.extractContents())),r.insertNode(o.dom),xo(o).each(function(s){return s.dom.normalize()}),gw(o).map(function(s){t.selection.setCursorLocation(s.dom,jS(s))}),o})},_k=function(t){return al(t,d6)},h6=function(t){return t.collapsed&&t.startContainer.nodeType===3},W5=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},j5=function(t){return t!==""&&`  \f
\r	\v`.indexOf(t)!==-1},VE=function(t,r){return t.substring(r.length)},UE=function(t,r,o){var s;for(s=r-1;s>=0;s--){var d=t.charAt(s);if(j5(d))return B.none();if(d===o)break}return B.some(s)},g6=function(t,r,o,s){if(s===void 0&&(s=0),!h6(r))return B.none();var d=function(C,E,D){return UE(D,E,o).getOr(E)},g=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return U5(t,r.startContainer,r.startOffset,d,g).bind(function(C){var E=r.cloneRange();if(E.setStart(C.container,C.offset),E.setEnd(r.endContainer,r.endOffset),E.collapsed)return B.none();var D=W5(E),$=D.lastIndexOf(o);return $!==0||VE(D,o).length<s?B.none():B.some({text:VE(D,o),range:E,triggerChar:o})})},WE=function(t,r,o,s){return s===void 0&&(s=0),_k(sn.fromDom(r.startContainer)).fold(function(){return g6(t,r,o,s)},function(d){var g=t.createRng();g.selectNode(d.dom);var C=W5(g);return B.some({range:g,text:VE(C,o),triggerChar:o})})},p6=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(s,d){Fn(s,Sb(),{raw:d})};r.on("keydown",function(s){var d=function(){return t.getView().bind(na.getHighlighted)};s.which===8&&t.onKeypress.throttle(s),t.isActive()&&(s.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?s.which===13?(d().each(Bs),s.preventDefault()):s.which===40?(d().fold(function(){t.getView().each(na.highlightFirst)},function(g){o(g,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&d().each(function(g){o(g,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(s){t.isActive()&&!t.isProcessingAction()&&_k(sn.fromDom(s.element)).isNone()&&t.cancelIfNecessary()})},G5={setup:p6},DC=tinymce.util.Tools.resolve("tinymce.util.Promise"),jE=function(t,r){return{container:t,offset:r}},b6=function(t){return t.nodeType===Jl},y6=function(t){return t.nodeType===Rv},q5=function(t){if(b6(t))return jE(t,t.data.length);var r=t.childNodes;return r.length>0?q5(r[r.length-1]):jE(t,r.length)},Sk=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?Sk(o[r],0):o.length>0&&y6(t)&&o.length===r?q5(o[o.length-1]):jE(t,r)},w6=function(t,r){return U5(t,r.container,r.offset,function(o,s){return s===0?-1:s},t.getRoot()).filter(function(o){var s=o.container.data.charAt(o.offset-1);return!j5(s)}).isSome()},C6=function(t){return function(r){var o=Sk(r.startContainer,r.startOffset);return!w6(t,o)}},_6=function(t,r,o){return Qr(o.triggerChars,function(s){return WE(t,r,s)})},S6=function(t,r){var o=r(),s=t.selection.getRng();return _6(t.dom,s,o).bind(function(d){return K5(t,r,d)})},K5=function(t,r,o,s){s===void 0&&(s={});var d=r(),g=t.selection.getRng(),C=g.startContainer.nodeValue,E=Ae(d.lookupByChar(o.triggerChar),function($){return o.text.length>=$.minChars&&$.matches.getOrThunk(function(){return C6(t.dom)})(o.range,C,o.text)});if(E.length===0)return B.none();var D=DC.all(Ve(E,function($){var U=$.fetch(o.text,$.maxResults,s);return U.then(function(G){return{matchText:o.text,items:G,columns:$.columns,onAction:$.onAction,highlightOn:$.highlightOn}})}));return B.some({lookupData:D,context:o})},X5=Mn([Qn("type"),Ea("text")]),x6=function(t){return Ya("separatormenuitem",X5,t)},k6=Mn([He("type","autocompleteitem"),He("active",!1),He("disabled",!1),He("meta",{}),Qn("value"),Ea("text"),Ea("icon")]),A6=Mn([Qn("type"),Qn("ch"),sc("minChars",1),He("columns",1),sc("maxResults",10),Lv("matches"),tu("fetch"),tu("onAction"),Jf("highlightOn",[],yo)]),E6=function(t){return Ya("Autocompleter.Separator",X5,t)},T6=function(t){return Ya("Autocompleter.Item",k6,t)},GE=function(t){return Ya("Autocompleter",A6,t)},RC=[Ca("disabled",!1),Ea("tooltip"),Ea("icon"),Ea("text"),Ta("onSetup",function(){return q})],O6=Mn([Qn("type"),tu("onAction")].concat(RC)),Y5=function(t){return Ya("toolbarbutton",O6,t)},$C=[Ca("active",!1)].concat(RC),D6=Mn($C.concat([Qn("type"),tu("onAction")])),xk=function(t){return Ya("ToggleButton",D6,t)},J5=[Ta("predicate",ce),Os("scope","node",["node","editor"]),Os("position","selection",["node","selection","line"])],R6=RC.concat([He("type","contextformbutton"),He("primary",!1),tu("onAction"),hu("original",ge)]),$6=$C.concat([He("type","contextformbutton"),He("primary",!1),tu("onAction"),hu("original",ge)]),B6=RC.concat([He("type","contextformbutton")]),M6=$C.concat([He("type","contextformtogglebutton")]),Z5=el("type",{contextformbutton:R6,contextformtogglebutton:$6}),P6=Mn([He("type","contextform"),Ta("initValue",ne("")),Ea("label"),Wi("commands",Z5),uc("launch",el("type",{contextformbutton:B6,contextformtogglebutton:M6}))].concat(J5)),qE=function(t){return Ya("ContextForm",P6,t)},KE=Mn([He("type","contexttoolbar"),Qn("items")].concat(J5)),Q5=function(t){return Ya("ContextToolbar",KE,t)},XE=function(t){var r={};return pt(t,function(o){r[o]={}}),Hr(r)},YE=function(t){var r=t.ui.registry.getAll().popups,o=vr(r,function(C){return GE(C).fold(function(E){throw new Error(Fv(E))},ge)}),s=XE(yi(o,function(C){return C.ch})),d=wi(o),g=function(C){return Ae(d,function(E){return E.ch===C})};return{dataset:o,triggerChars:s,lookupByChar:g}},kk;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(kk||(kk={}));var uu=kk,BC="tox-menu-nav__js",JE="tox-collection__item",ZE="tox-swatch",I6={normal:BC,color:ZE},eD="tox-collection__item--enabled",wy="tox-collection__group-heading",QE="tox-collection__item-icon",eT="tox-collection__item-label",N6="tox-collection__item-accessory",tT="tox-collection__item-caret",tD="tox-collection__item-checkmark",x1="tox-collection__item--active",nD="tox-collection__item-container",nT="tox-collection__item-container--column",Ak="tox-collection__item-container--row",z6="tox-collection__item-container--align-right",rD="tox-collection__item-container--align-left",aD="tox-collection__item-container--valign-top",F6="tox-collection__item-container--valign-middle",L6="tox-collection__item-container--valign-bottom",oD=function(t){return Tn(I6,t).getOr(BC)},H6=function(t){return t==="color"?"tox-swatches":"tox-menu"},rT=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:H6(t),tieredMenu:"tox-tiered-menu"}},Cy=function(t){var r=rT(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:oD(t)}},V6=function(t,r,o){var s=rT(o);return{tag:"div",classes:ut([[s.menu,"tox-menu-"+r+"-column"],t?[s.hasIcons]:[]])}},U6=[Rn.parts.items({})],k1=function(t,r,o){var s=rT(o),d={tag:"div",classes:ut([[s.tieredMenu]])};return{dom:d,markers:Cy(o)}},Ek=function(t,r){return function(o){var s=fn(o,r);return Ve(s,function(d){return{dom:t,components:d}})}},iD=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Rn.parts.items({preprocess:t!=="auto"?Ek({tag:"div",classes:["tox-swatches__row"]},t):ge})]}]}},W6=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Rn.parts.items({preprocess:Ek({tag:"div",classes:["tox-collection__group"]},t)})]}},uD=function(t,r){var o=[],s=[];return pt(t,function(d,g){r(d,g)?(s.length>0&&o.push(s),s=[],Pr(d.dom,"innerHtml")&&s.push(d)):s.push(d)}),s.length>0&&o.push(s),Ve(o,function(d){return{dom:{tag:"div",classes:["tox-collection__group"]},components:d}})},MC=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Rn.parts.items({preprocess:function(s){return t!=="auto"&&t>1?Ek({tag:"div",classes:["tox-collection__group"]},t)(s):uD(s,function(d,g){return r[g].type==="separator"})}})]}},aT=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Rn.parts.items({preprocess:function(o){return uD(o,function(s,d){return t[d].type==="separator"})}})]}},PC=function(t){return _n(t,function(r){return"icon"in r&&r.icon!==void 0})},xd=function(t){return console.error(Fv(t)),console.log(t),B.none()},sD=function(t,r,o,s,d){var g=aT(o);return{value:t,dom:g.dom,components:g.components,items:o}},oT=function(t,r,o,s,d){if(d==="color"){var g=iD(s);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"&&s==="auto"){var g=MC(s,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"&&s===1){var g=MC(1,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"){var g=MC(s,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="listpreview"&&s!=="auto"){var g=W6(s);return{value:t,dom:g.dom,components:g.components,items:o}}return{value:t,dom:V6(r,s,d),components:U6,items:o}},iT=[Qn("type"),Qn("src"),Ea("alt"),Jf("classes",[],yo)],j6=Mn(iT),lD=[Qn("type"),Qn("text"),Ea("name"),Jf("classes",["tox-collection__item-label"],yo)],cD=Mn(lD),_y=X_(function(){return Cb("type",{cardimage:j6,cardtext:cD,cardcontainer:G6})}),G6=Mn([Qn("type"),kh("direction","horizontal"),kh("align","left"),kh("valign","middle"),Wi("items",_y)]),Lg=[Ca("disabled",!1),Ea("text"),Ea("shortcut"),Uo("value","value",Rr(function(){return wn("menuitem-value")}),Al()),He("meta",{})],Sy=Mn([Qn("type"),Ea("label"),Wi("items",_y),Ta("onSetup",function(){return q}),Ta("onAction",q)].concat(Lg)),q6=function(t){return Ya("cardmenuitem",Sy,t)},fD=Mn([Qn("type"),Ca("active",!1),Ea("icon")].concat(Lg)),vD=function(t){return Ya("choicemenuitem",fD,t)},uT=[Qn("type"),Qn("fancytype"),Ta("onAction",q)],sT=[He("initData",{})].concat(uT),dD=[c2("initData",{},[Ca("allowCustomColors",!0),us("colors",Al())])].concat(uT),K6=el("fancytype",{inserttable:sT,colorswatch:dD}),X6=function(t){return Ya("fancymenuitem",K6,t)},Tk=Mn([Qn("type"),Ta("onSetup",function(){return q}),Ta("onAction",q),Ea("icon")].concat(Lg)),Y6=function(t){return Ya("menuitem",Tk,t)},mD=Mn([Qn("type"),tu("getSubmenuItems"),Ta("onSetup",function(){return q}),Ea("icon")].concat(Lg)),xy=function(t){return Ya("nestedmenuitem",mD,t)},J6=Mn([Qn("type"),Ea("icon"),Ca("active",!1),Ta("onSetup",function(){return q}),tu("onAction")].concat(Lg)),Z6=function(t){return Ya("togglemenuitem",J6,t)},lT=function(t,r,o){var s=au(t.element,"."+o);if(s.length>0){var d=Jt(s,function(g){var C=g.dom.getBoundingClientRect().top,E=s[0].dom.getBoundingClientRect().top;return Math.abs(C-E)>r}).getOr(s.length);return B.some({numColumns:d,numRows:Math.ceil(s.length/d)})}else return B.none()},cT=function(t,r){return Zt([sr(t,r)])},hD=function(t){return cT(wn("unnamed-events"),t)},Ok={namedEvents:cT,unnamedEvents:hD},gD=wn("tooltip.exclusive"),IC=wn("tooltip.show"),NC=wn("tooltip.hide"),pD=function(t,r,o){t.getSystem().broadcastOn([gD],{})},Dk=function(t,r,o,s){o.getTooltip().each(function(d){d.getSystem().isConnected()&&ar.set(d,s)})},Q6=Object.freeze({__proto__:null,hideAllExclusive:pD,setComponents:Dk}),eP=function(t,r){var o=function(d){r.getTooltip().each(function(g){bc(g),t.onHide(d,g),r.clearTooltip()}),r.clearTimer()},s=function(d){if(!r.isShowing()){pD(d);var g=t.lazySink(d).getOrDie(),C=d.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:_a(t.mode==="normal"?[$t(Qf(),function(E){Wr(d,IC)}),$t(h2(),function(E){Wr(d,NC)})]:[]),behaviours:Zt([ar.config({})])});r.setTooltip(C),vm(g,C),t.onShow(d,C),ho.position(g,C,{anchor:t.anchor(d)})}};return _a(ut([[$t(IC,function(d){r.resetTimer(function(){s(d)},t.delay)}),$t(NC,function(d){r.resetTimer(function(){o(d)},t.delay)}),$t(nl(),function(d,g){var C=g;C.universal||ct(C.channels,gD)&&o(d)}),Ms(function(d){o(d)})],t.mode==="normal"?[$t(tl(),function(d){Wr(d,IC)}),$t(y2(),function(d){Wr(d,NC)}),$t(Qf(),function(d){Wr(d,IC)}),$t(h2(),function(d){Wr(d,NC)})]:[$t(S2(),function(d,g){Wr(d,IC)}),$t(Tb(),function(d){Wr(d,NC)})]]))},fT=Object.freeze({__proto__:null,events:eP}),bD=[At("lazySink"),At("tooltipDom"),He("exclusive",!0),He("tooltipComponents",[]),He("delay",300),Os("mode","normal",["normal","follow-highlight"]),He("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:ne([No,Fu,qi,Cu,ei,_u]),onRtl:ne([No,Fu,qi,Cu,ei,_u])}}}),Yr("onHide"),Yr("onShow")],tP=function(){var t=mo(),r=mo(),o=function(){t.on(clearTimeout)},s=function(g,C){o(),t.set(setTimeout(g,C))},d=ne("not-implemented");return Gi({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:o,resetTimer:s,readState:d})},yD=Object.freeze({__proto__:null,init:tP}),vT=Ko({fields:bD,name:"tooltipping",active:fT,state:yD,apis:Q6}),wD=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},ky=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),nP=tinymce.util.Tools.resolve("tinymce.EditorManager"),rP=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var s=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=nP.baseURL+"/skins/ui/"+s}return o},aP=function(t){return t.getParam("readonly",!1,"boolean")},oP=function(t){return t.getParam("skin")===!1},Rk=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},$k=function(t){return t.getParam("width",ky.DOM.getStyle(t.getElement(),"width"))},dT=function(t){return B.from(t.getParam("min_width")).filter(V)},CD=function(t){return B.from(t.getParam("min_height")).filter(V)},Bk=function(t){return B.from(t.getParam("max_width")).filter(V)},_D=function(t){return B.from(t.getParam("max_height")).filter(V)},iP=function(t){return B.from(t.getParam("style_formats")).filter(T)},uP=function(t){return t.getParam("style_formats_merge",!1,"boolean")},SD=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},xD=function(t){return t.getParam("content_langs",void 0,"array")},kD=function(t){return t.getParam("removed_menuitems","")},mT=function(t){return t.getParam("menubar",!0,"boolean")!==!1},hT=function(t){var r=t.getParam("toolbar",!0),o=r===!0,s=_(r),d=T(r)&&r.length>0;return!Mk(t)&&(d||s||o)},AD=function(t){var r=te(9,function(s){return t.getParam("toolbar"+(s+1),!1,"string")}),o=Ae(r,function(s){return typeof s=="string"});return o.length>0?B.some(o):B.none()},Mk=function(t){return AD(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},Ee)},Ll;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Ll||(Ll={}));var zC=function(t){return t.getParam("toolbar_mode","","string")},A1;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(A1||(A1={}));var sP=function(t){return t.getParam("toolbar_groups",{},"object")},ED=function(t){return t.getParam("toolbar_location",A1.auto,"string")},TD=function(t){return ED(t)===A1.bottom},lP=function(t){return t.getParam("fixed_toolbar_container","","string")},OD=function(t){return t.getParam("fixed_toolbar_container_target")},cP=function(t){return t.getParam("toolbar_persist",!1,"boolean")},DD=function(t){if(!t.inline)return B.none();var r=lP(t);if(r.length>0)return jo(Fi(),r);var o=OD(t);return H(o)?B.some(sn.fromDom(o)):B.none()},Pk=function(t){return t.inline&&DD(t).isSome()},RD=function(t){var r=DD(t);return r.getOrThunk(function(){return Ql(xs(sn.fromDom(t.getElement())))})},$D=function(t){return t.inline&&!mT(t)&&!hT(t)&&!Mk(t)},Ik=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!Pk(t)&&!$D(t)},Nk=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},BD=function(t){return t.getParam("draggable_modal",!1,"boolean")},fP=function(t){var r=t.getParam("menu");return r?vr(r,function(o){return re(re({},o),{items:o.items})}):{}},vP=function(t){return t.getParam("menubar")},dP=function(t){return t.getParam("toolbar",!0)},mP=function(t){return t.getParam("file_picker_callback")},hP=function(t){return t.getParam("file_picker_types")},gT=function(t){return t.getParam("file_browser_callback_types")},MD=function(t){return t.getParam("typeahead_urls")===!1},PD=function(t){return t.getParam("anchor_top","#top")},gP=function(t){return t.getParam("anchor_bottom","#bottom")},ID=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},pT="silver.readonly",pP=Mn([OA("readonly")]),Ay=function(t,r){var o=t.outerContainer,s=o.element;r&&(t.mothership.broadcastOn([mm()],{target:s}),t.uiMothership.broadcastOn([mm()],{target:s})),t.mothership.broadcastOn([pT],{readonly:r}),t.uiMothership.broadcastOn([pT],{readonly:r})},ND=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&Ay(r,!0)}),t.on("SwitchMode",function(){return Ay(r,t.mode.isReadOnly())}),aP(t)&&t.setMode("readonly")},ti=function(){var t;return nu.config({channels:(t={},t[pT]={schema:pP,onReceive:function(r,o){In.set(r,o.readonly)}},t)})},bP=function(t){return In.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},yP=function(t){return In.config({disabled:t})},wP=function(t){return In.config({disabled:t,disableClass:"tox-tbtn--disabled"})},CP=function(t){return In.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},gf={item:bP,button:yP,splitButton:wP,toolbarButton:CP},Ey=function(t,r){var o=t.getApi(r);return function(s){s(o)}},E1=function(t,r){return ur(function(o){var s=Ey(t,o);s(function(d){var g=t.onSetup(d);P(g)&&r.set(g)})})},T1=function(t,r){return Ms(function(o){return Ey(t,o)(r.get())})},zk,_P=function(t,r){return cs(function(o,s){Ey(t,o)(t.onAction),!t.triggersSubmenu&&r===uu.CLOSE_ON_EXECUTE&&(Wr(o,Dp()),s.stop())})},SP=(zk={},zk[Rs()]=["disabling","alloy.base.behaviour","toggling","item-events"],zk),Em=Ir,Hg=function(t,r,o,s){var d=zn(q);return{type:"item",dom:r.dom,components:Em(r.optComponents),data:t.data,eventOrder:SP,hasSubmenu:t.triggersSubmenu,itemBehaviours:Zt([sr("item-events",[_P(t,o),E1(t,d),T1(t,d)]),gf.item(function(){return t.disabled||s.isDisabled()}),ti(),ar.config({})].concat(t.itemBehaviours))}},Tm=function(t){return{value:t.value,meta:re({text:t.text.getOr("")},t.meta)}},Fk=tinymce.util.Tools.resolve("tinymce.Env"),xP=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},s=Fk.mac?r:o,d=t.split("+"),g=Ve(d,function(C){var E=C.toLowerCase().trim();return Pr(s,E)?s[E]:C});return Fk.mac?g.join(""):g.join("+")},bT=function(t,r,o){return o===void 0&&(o=[QE]),gv(t,{tag:"div",classes:o},r)},zD=function(t){return{dom:{tag:"div",classes:[eT]},components:[Ti(hf.translate(t))]}},FD=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},kP=function(t,r){return{dom:{tag:"div",classes:[eT]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Ti(hf.translate(r))]}]}},AP=function(t){return{dom:{tag:"div",classes:[N6],innerHtml:xP(t)}}},LD=function(t){return bT("checkmark",t,[tD])},EP=function(t){return bT("chevron-right",t,[tT])},TP=function(t){return bT("chevron-down",t,[tT])},OP=function(t,r){var o=t.direction==="vertical"?nT:Ak,s=t.align==="left"?rD:z6,d=function(){switch(t.valign){case"top":return aD;case"middle":return F6;case"bottom":return L6}};return{dom:{tag:"div",classes:[nD,o,s,d()]},components:r}},DP=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},RP=function(t,r,o){var s="custom",d="remove",g=t.ariaLabel,C=t.value,E=t.iconContent.map(function($){return i6($,r.icons,o)}),D=function(){var $=ZE,U=E.getOr(""),G=g.map(function(oe){return{title:r.translate(oe)}}).getOr({}),ee={tag:"div",attributes:G,classes:[$]};return C===s?re(re({},ee),{tag:"button",classes:ke(ke([],ee.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:U}):C===d?re(re({},ee),{classes:ke(ke([],ee.classes,!0),["tox-swatch--remove"],!1),innerHtml:U}):re(re({},ee),{attributes:re(re({},ee.attributes),{"data-mce-color":C}),styles:{"background-color":C}})};return{dom:D(),optComponents:[]}},HD=function(t){var r=t.map(function(o){return{attributes:{title:hf.translate(o)}}}).getOr({});return re({tag:"div",classes:[BC,JE]},r)},VD=function(t,r,o,s){var d={tag:"div",classes:[QE]},g=function(ee){return gv(ee,d,r.icons,s)},C=function(){return B.some({dom:d})},E=o?t.iconContent.map(g).orThunk(C):B.none(),D=t.checkMark,$=B.from(t.meta).fold(function(){return zD},function(ee){return Pr(ee,"style")?Se(kP,ee.style):zD}),U=t.htmlContent.fold(function(){return t.textContent.map($)},function(ee){return B.some(FD(ee,[eT]))}),G={dom:HD(t.ariaLabel),optComponents:[E,U,t.shortcutContent.map(AP),D,t.caret]};return G},FC=function(t,r,o,s){return s===void 0&&(s=B.none()),t.presets==="color"?RP(t,r,s):VD(t,r,o,s)},UD=function(t,r){return Tn(t,"tooltipWorker").map(function(o){return[vT.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:Xh}}},mode:"follow-highlight",onShow:function(s,d){o(function(g){vT.setComponents(s,[Ub({element:sn.fromDom(g)})])})}})]}).getOr([])},Om=function(t){return ky.DOM.encode(t)},WD=function(t,r){var o=hf.translate(t),s=Om(o);if(r.length>0){var d=new RegExp(wD(r),"gi");return s.replace(d,function(g){return'<span class="tox-autocompleter-highlight">'+g+"</span>"})}else return s},$P=function(t,r,o,s,d,g,C,E){E===void 0&&(E=!0);var D=FC({presets:s,textContent:B.none(),htmlContent:o?t.text.map(function($){return WD($,r)}):B.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:B.none(),checkMark:B.none(),caret:B.none(),value:t.value},C.providers,E,t.icon);return Hg({data:Tm(t),disabled:t.disabled,getApi:ne({}),onAction:function($){return d(t.value,t.meta)},onSetup:ne(q),triggersSubmenu:!1,itemBehaviours:UD(t.meta,C)},D,g,C.providers)},Lk=function(t,r){return Ve(t,function(o){switch(o.type){case"cardcontainer":return OP(o,Lk(o.items,r));case"cardimage":return DP(o.src,o.classes,o.alt);case"cardtext":var s=o.name.exists(function(g){return ct(r.cardText.highlightOn,g)}),d=s?B.from(r.cardText.matchText).getOr(""):"";return FD(WD(o.text,d),o.classes)}})},Mi=function(t,r,o,s){var d=function(C){return{isDisabled:function(){return In.isDisabled(C)},setDisabled:function(E){In.set(C,E),pt(au(C.element,"*"),function(D){C.getSystem().getByDom(D).each(function($){$.hasConfigured(In)&&In.set($,E)})})}}},g={dom:HD(t.label),optComponents:[B.some({dom:{tag:"div",classes:[nD,Ak]},components:Lk(t.items,s)})]};return Hg({data:Tm(re({text:B.none()},t)),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:B.from(s.itemBehaviours).getOr([])},g,r,o.providers)},BP=function(t,r,o,s,d,g,C,E){E===void 0&&(E=!0);var D=function(U){return{setActive:function(G){Nr.set(U,G)},isActive:function(){return Nr.isOn(U)},isDisabled:function(){return In.isDisabled(U)},setDisabled:function(G){return In.set(U,G)}}},$=FC({presets:o,textContent:r?t.text:B.none(),htmlContent:B.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:B.none(),checkMark:r?B.some(LD(C.icons)):B.none(),caret:B.none(),value:t.value},C,E);return yt(Hg({data:Tm(t),disabled:t.disabled,getApi:D,onAction:function(U){return s(t.value)},onSetup:function(U){return U.setActive(d),q},triggersSubmenu:!1,itemBehaviours:[]},$,g,C),{toggling:{toggleClass:eD,toggleOnExecute:!1,selected:t.active}})},jD=ym(R(),z()),GD=function(t){return{value:t}},qD=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,KD=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,XD=function(t){return qD.test(t)||KD.test(t)},MP=function(t){return bl(t,"#").toUpperCase()},PP=function(t){return XD(t)?B.some({value:MP(t)}):B.none()},IP=function(t){var r=t.value.replace(qD,function(o,s,d,g){return s+s+d+d+g+g});return{value:r}},NP=function(t){var r=IP(t),o=KD.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},yT=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},LC=function(t){var r=yT(t.red)+yT(t.green)+yT(t.blue);return GD(r)},YD=Math.min,JD=Math.max,Hk=Math.round,zP=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,FP=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Vg=function(t,r,o,s){return{red:t,green:r,blue:o,alpha:s}},wT=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},ZD=function(t){var r,o,s,d=(t.hue||0)%360,g=t.saturation/100,C=t.value/100;if(g=JD(0,YD(g,1)),C=JD(0,YD(C,1)),g===0)return r=o=s=Hk(255*C),Vg(r,o,s,1);var E=d/60,D=C*g,$=D*(1-Math.abs(E%2-1)),U=C-D;switch(Math.floor(E)){case 0:r=D,o=$,s=0;break;case 1:r=$,o=D,s=0;break;case 2:r=0,o=D,s=$;break;case 3:r=0,o=$,s=D;break;case 4:r=$,o=0,s=D;break;case 5:r=D,o=0,s=$;break;default:r=o=s=0}return r=Hk(255*(r+U)),o=Hk(255*(o+U)),s=Hk(255*(s+U)),Vg(r,o,s,1)},HC=function(t){var r=NP(t),o=parseInt(r[1],16),s=parseInt(r[2],16),d=parseInt(r[3],16);return Vg(o,s,d,1)},QD=function(t,r,o,s){var d=parseInt(t,10),g=parseInt(r,10),C=parseInt(o,10),E=parseFloat(s);return Vg(d,g,C,E)},eR=function(t){if(t==="transparent")return B.some(Vg(0,0,0,0));var r=zP.exec(t);if(r!==null)return B.some(QD(r[1],r[2],r[3],"1"));var o=FP.exec(t);return o!==null?B.some(QD(o[1],o[2],o[3],o[4])):B.none()},tR=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},nR=Vg(255,0,0,1),LP=function(t){return t.fire("SkinLoaded")},rR=function(t,r){return t.fire("SkinLoadError",r)},HP=function(t){return t.fire("ResizeEditor")},CT=function(t,r){return t.fire("ResizeContent",r)},VP=function(t,r){return t.fire("ScrollContent",r)},aR=function(t,r){return t.fire("TextColorChange",r)},VC=function(t,r,o){return{hue:t,saturation:r,value:o}},_T=function(t){var r=0,o=0,s=0,d=t.red/255,g=t.green/255,C=t.blue/255,E=Math.min(d,Math.min(g,C)),D=Math.max(d,Math.max(g,C));if(E===D)return s=E,VC(0,0,s*100);var $=d===E?g-C:C===E?d-g:C-d;return r=d===E?3:C===E?1:5,r=60*(r-$/(D-E)),o=(D-E)/D,s=D,VC(Math.round(r),Math.round(o*100),Math.round(s*100))},UP=function(t){return _T(HC(t))},oR=function(t){return LC(ZD(t))},iR=function(t){return PP(t).orThunk(function(){return eR(t).map(LC)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data,d=s[0],g=s[1],C=s[2],E=s[3];return LC(Vg(d,g,C,E))})},Vk=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),ST="tinymce-custom-colors";function uR(t){t===void 0&&(t=10);var r=Vk.getItem(ST),o=_(r)?JSON.parse(r):[],s=function(D){var $=t-D.length;return $<0?D.slice(0,t):D},d=s(o),g=function(D){cn(d,D).each(C),d.unshift(D),d.length>t&&d.pop(),Vk.setItem(ST,JSON.stringify(d))},C=function(D){d.splice(D,1)},E=function(){return d.slice(0)};return{add:g,state:E}}var di="choiceitem",sR=[{type:di,text:"Light Green",value:"#BFEDD2"},{type:di,text:"Light Yellow",value:"#FBEEB8"},{type:di,text:"Light Red",value:"#F8CAC6"},{type:di,text:"Light Purple",value:"#ECCAFA"},{type:di,text:"Light Blue",value:"#C2E0F4"},{type:di,text:"Green",value:"#2DC26B"},{type:di,text:"Yellow",value:"#F1C40F"},{type:di,text:"Red",value:"#E03E2D"},{type:di,text:"Purple",value:"#B96AD9"},{type:di,text:"Blue",value:"#3598DB"},{type:di,text:"Dark Turquoise",value:"#169179"},{type:di,text:"Orange",value:"#E67E23"},{type:di,text:"Dark Red",value:"#BA372A"},{type:di,text:"Dark Purple",value:"#843FA1"},{type:di,text:"Dark Blue",value:"#236FA1"},{type:di,text:"Light Gray",value:"#ECF0F1"},{type:di,text:"Medium Gray",value:"#CED4D9"},{type:di,text:"Gray",value:"#95A5A6"},{type:di,text:"Dark Gray",value:"#7E8C8D"},{type:di,text:"Navy Blue",value:"#34495E"},{type:di,text:"Black",value:"#000000"},{type:di,text:"White",value:"#ffffff"}],lR=uR(10),WP=function(t){for(var r=[],o=0;o<t.length;o+=2)r.push({text:t[o+1],value:"#"+iR(t[o]).value,type:"choiceitem"});return r},jP=function(t,r){return t.getParam("color_cols",r,"number")},cR=function(t){return t.getParam("custom_colors")!==!1},GP=function(t){return t.getParam("color_map")},xT=function(t){var r=GP(t);return r!==void 0?WP(r):sR},kT=function(){return Ve(lR.state(),function(t){return{type:di,text:t,value:t}})},AT=function(t){lR.add(t)},ET="#000000",fR=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(s){var d;(d=s.style[r==="forecolor"?"color":"background-color"])&&(o=o||d)}),B.from(o)},qP=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},KP=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},TT=function(t){t.addCommand("mceApplyTextcolor",function(r,o){qP(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){KP(t,r)})},XP=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},vR=function(t){var r=xT(t),o=XP(r.length);return jP(t,o)},dR=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,s]:[o]},UC=function(t,r,o,s){if(o==="custom"){var d=pR(t);d(function(g){g.each(function(C){AT(C),t.execCommand("mceApplyTextcolor",r,C),s(C)})},ET)}else o==="remove"?(s(""),t.execCommand("mceRemoveTextcolor",r)):(s(o),t.execCommand("mceApplyTextcolor",r,o))},mR=function(t,r){return t.concat(kT().concat(dR(r)))},OT=function(t,r){return function(o){o(mR(t,r))}},hR=function(t,r,o){var s=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(s,o)},Ty=function(t,r,o,s,d){t.ui.registry.addSplitButton(r,{tooltip:s,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(g){var C=fR(t,o);return C.bind(function(E){return eR(E).map(function(D){var $=LC(D).value;return ma(g.toLowerCase(),$)})}).getOr(!1)},columns:vR(t),fetch:OT(xT(t),cR(t)),onAction:function(g){UC(t,o,d.get(),q)},onItemAction:function(g,C){UC(t,o,C,function(E){d.set(E),aR(t,{name:r,color:E})})},onSetup:function(g){hR(g,r,d.get());var C=function(E){E.name===r&&hR(g,E.name,E.color)};return t.on("TextColorChange",C),function(){t.off("TextColorChange",C)}}})},gR=function(t,r,o,s){t.ui.registry.addNestedMenuItem(r,{text:s,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(d){UC(t,o,d.value,q)}}]}})},pR=function(t){return function(r,o){var s=!1,d=function(E){var D=E.getData(),$=D.colorpicker;s?(r(B.from($)),E.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",$]))},g=function(E,D){D.name==="hex-valid"&&(s=D.value)},C={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:C,onAction:g,onSubmit:d,onClose:q,onCancel:function(){r(B.none())}})}},YP=function(t){TT(t);var r=zn(ET),o=zn(ET);Ty(t,"forecolor","forecolor","Text color",r),Ty(t,"backcolor","hilitecolor","Background color",o),gR(t,"forecolor","forecolor","Text color"),gR(t,"backcolor","hilitecolor","Background color")},DT=function(t,r,o,s,d,g,C,E){var D=PC(r),$=d!=="color"?"normal":"color",U=JP(r,o,s,$,g,C,E);return oT(t,D,U,s,d)},JP=function(t,r,o,s,d,g,C){return Ir(Ve(t,function(E){return E.type==="choiceitem"?vD(E).fold(xd,function(D){return B.some(BP(D,o===1,s,r,g(E.value),d,C,PC(t)))}):B.none()}))},Uk=function(t,r){var o=Cy(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var s=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},bR=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+ZE:"."+JE}}},yR=function(t,r){var o=wR(t,r),s=r.colorinput.getColorCols(),d="color",g=DT(wn("menu-value"),o,function(E){t.onAction({value:E})},s,d,uu.CLOSE_ON_EXECUTE,ce,r.shared.providers),C=re(re({},g),{markers:Cy(d),movement:Uk(s,d)});return{type:"widget",data:{value:wn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[jD.widget(Rn.sketch(C))]}},wR=function(t,r){var o=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return mR(r.colorinput.getColors(),o)},function(s){return s.concat(dR(o))})},CR=wn("cell-over"),Wk=wn("cell-execute"),ZP=function(t,r,o){var s,d=function(E){return Fn(E,CR,{row:t,col:r})},g=function(E){return Fn(E,Wk,{row:t,col:r})},C=function(E,D){D.stop(),g(E)};return Ua({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=o,s)},behaviours:Zt([sr("insert-table-picker-cell",[$t(Qf(),er.focus),$t(Rs(),g),$t(Oh(),C),$t(Uv(),C)]),Nr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),er.config({onFocus:d})])})},QP=function(t,r,o){for(var s=[],d=0;d<r;d++){for(var g=[],C=0;C<o;C++)g.push(ZP(d,C,t));s.push(g)}return s},eI=function(t,r,o,s,d){for(var g=0;g<s;g++)for(var C=0;C<d;C++)Nr.set(t[g][C],g<=r&&C<=o)},tI=function(t){return jt(t,function(r){return Ve(r,zs)})},_R=function(t,r){return Ti(r+"x"+t)},nI=function(t){var r=10,o=10,s=wn("size-label"),d=QP(s,r,o),g=_R(0,0),C=oa({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[g],behaviours:Zt([ar.config({})])});return{type:"widget",data:{value:wn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[jD.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:tI(d).concat(C.asSpec()),behaviours:Zt([sr("insert-table-picker",[ur(function(E){ar.set(C.get(E),[g])}),jv(CR,function(E,D,$){var U=$.event,G=U.row,ee=U.col;eI(d,G,ee,r,o),ar.set(C.get(E),[_R(G+1,ee+1)])}),jv(Wk,function(E,D,$){var U=$.event,G=U.row,ee=U.col;t.onAction({numRows:G+1,numColumns:ee+1}),Wr(E,Dp())})]),Hn.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},rI={inserttable:nI,colorswatch:yR},aI=function(t,r){return Tn(rI,t.fancytype).map(function(o){return o(t,r)})},oI=function(t,r,o,s,d){s===void 0&&(s=!0),d===void 0&&(d=!1);var g=d?TP(o.icons):EP(o.icons),C=function(D){return{isDisabled:function(){return In.isDisabled(D)},setDisabled:function($){return In.set(D,$)}}},E=FC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,caret:B.some(g),checkMark:B.none(),shortcutContent:t.shortcut},o,s);return Hg({data:Tm(t),getApi:C,disabled:t.disabled,onAction:q,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},E,r,o)},iI=function(t,r,o,s){s===void 0&&(s=!0);var d=function(C){return{isDisabled:function(){return In.isDisabled(C)},setDisabled:function(E){return In.set(C,E)}}},g=FC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,caret:B.none(),checkMark:B.none(),shortcutContent:t.shortcut},o,s);return Hg({data:Tm(t),getApi:d,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,o)},uI=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:re({tag:"div",classes:[JE,wy]},r),components:[]}},sI=function(t,r,o,s){s===void 0&&(s=!0);var d=function(C){return{setActive:function(E){Nr.set(C,E)},isActive:function(){return Nr.isOn(C)},isDisabled:function(){return In.isDisabled(C)},setDisabled:function(E){return In.set(C,E)}}},g=FC({iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,checkMark:B.some(LD(o.icons)),caret:B.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,s);return yt(Hg({data:Tm(t),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,o),{toggling:{toggleClass:eD,toggleOnExecute:!1,selected:t.active}})},SR=$P,xR=uI,lI=iI,RT=oI,jk=sI,cI=aI,Gk=Mi,WC;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(WC||(WC={}));var fI=function(t,r,o,s,d){var g=o.shared.providers,C=function(E){return d?re(re({},E),{shortcut:B.none(),icon:E.text.isSome()?B.none():E.icon}):E};switch(t.type){case"menuitem":return Y6(t).fold(xd,function(E){return B.some(lI(C(E),r,g,s))});case"nestedmenuitem":return xy(t).fold(xd,function(E){return B.some(RT(C(E),r,g,s,d))});case"togglemenuitem":return Z6(t).fold(xd,function(E){return B.some(jk(C(E),r,g,s))});case"separator":return x6(t).fold(xd,function(E){return B.some(xR(E))});case"fancymenuitem":return X6(t).fold(xd,function(E){return cI(C(E),o)});default:return console.error("Unknown item in general menu",t),B.none()}},vI=function(t,r,o,s,d,g,C){var E=s===1,D=!E||PC(t);return Ir(Ve(t,function($){switch($.type){case"separator":return E6($).fold(xd,function(U){return B.some(xR(U))});case"cardmenuitem":return q6($).fold(xd,function(U){return B.some(Gk(re(re({},U),{onAction:function(G){U.onAction(G),o(U.value,U.meta)}}),d,g,{itemBehaviours:UD(U.meta,g),cardText:{matchText:r,highlightOn:C}}))});case"autocompleteitem":default:return T6($).fold(xd,function(U){return B.some(SR(U,r,E,"normal",o,d,g,D))})}}))},kR=function(t,r,o,s,d){var g=PC(r),C=Ir(Ve(r,function(D){var $=function(G){return d?!Pr(G,"text"):g},U=function(G){return fI(G,o,s,$(G),d)};return D.type==="nestedmenuitem"&&D.getSubmenuItems().length<=0?U(re(re({},D),{disabled:!0})):U(D)})),E=d?sD:oT;return E(t,g,C,1,"normal")},AR=function(t){return fa.singleData(t.value,t)},dI=function(t,r,o,s){var d=o===WC.ContentFocus?Ex():d1(),g=Uk(r,s),C=Cy(s);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:C.selectedItem,item:C.item},movement:g,fakeFocus:o===WC.ContentFocus,focusManager:d,menuBehaviours:Ok.unnamedEvents(r!=="auto"?[]:[ur(function(E,D){lT(E,4,C.item).each(function($){var U=$.numColumns,G=$.numRows;Hn.setGridSize(E,G,U)})})])}},ER=function(t,r){var o=mo(),s=zn(!1),d=Ua(ca.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Zt([sr("dismissAutocompleter",[$t(Rl(),function(){return D()})])]),lazySink:r.getSink})),g=function(){return ca.isOpen(d)},C=function(){return o.get().isSome()},E=function(){C()&&ca.hide(d)},D=function(){if(C()){var we=o.get().map(function(Fe){return Fe.element});_k(we.getOr(sn.fromDom(t.selection.getNode()))).each(mh),E(),o.clear(),s.set(!1)}},$=es(function(){return YE(t)}),U=function(we,Fe){var vt=Qr(Fe,function(ft){return B.from(ft.columns)}).getOr(1);return jt(Fe,function(ft){var ze=ft.items;return vI(ze,ft.matchText,function(nt,_t){var on=t.selection.getRng();WE(t.dom,on,we).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Dt){var ln=Dt.range,Mt={hide:function(){D()},reload:function(Ct){E(),ve(Ct)}};s.set(!0),ft.onAction(Mt,ln,nt,_t),s.set(!1)})},vt,uu.BUBBLE_TO_SANDBOX,r,ft.highlightOn)})},G=function(we){if(!C()){var Fe=m6(t,we.range);o.set({triggerChar:we.triggerChar,element:Fe,matchLength:we.text.length}),s.set(!1)}},ee=function(we,Fe,vt,ft){we.matchLength=Fe.text.length;var ze=Qr(vt,function(nt){return B.from(nt.columns)}).getOr(1);ca.showAt(d,Rn.sketch(dI(oT("autocompleter-value",!0,ft,ze,"normal"),ze,WC.ContentFocus,"normal")),{anchor:{type:"node",root:sn.fromDom(t.getBody()),node:B.from(we.element)}}),ca.getContent(d).each(na.highlightFirst)},oe=function(we){return o.get().map(function(Fe){return WE(t.dom,t.selection.getRng(),Fe.triggerChar).bind(function(vt){return K5(t,$,vt,we)})}).getOrThunk(function(){return S6(t,$)})},ve=function(we){oe(we).fold(D,function(Fe){G(Fe.context),Fe.lookupData.then(function(vt){o.get().map(function(ft){var ze=Fe.context;if(ft.triggerChar===ze.triggerChar){var nt=U(ze.triggerChar,vt);nt.length>0?ee(ft,ze,vt,nt):ze.text.length-ft.matchLength>=10?D():E()}})})})},_e=HE(function(we){we.which!==27&&ve()},50),Ne={onKeypress:_e,cancelIfNecessary:D,isMenuOpen:g,isActive:C,isProcessingAction:s.get,getView:function(){return ca.getContent(d)}};t.hasPlugin("rtc")===!1&&G5.setup(Ne,t)},mI={register:ER},jC=function(t,r,o){return al(t,r,o).isSome()},TR=function(t,r){var o=null,s=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];o=setTimeout(function(){t.apply(null,g),o=null},r)},d=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:d,schedule:s}},OR=5,hI=400,DR=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?B.none():B.some(r.touches[0])},gI=function(t,r){var o=Math.abs(t.clientX-r.x),s=Math.abs(t.clientY-r.y);return o>OR||s>OR},$T=function(t){var r=mo(),o=zn(!1),s=TR(function($){t.triggerEvent(kb(),$),o.set(!0)},hI),d=function($){return DR($).each(function(U){s.cancel();var G={x:U.clientX,y:U.clientY,target:$.target};s.schedule($),o.set(!1),r.set(G)}),B.none()},g=function($){return s.cancel(),DR($).each(function(U){r.on(function(G){gI(U,G)&&r.clear()})}),B.none()},C=function($){s.cancel();var U=function(G){return Sa(G.target,$.target)};return r.get().filter(U).map(function(G){return o.get()?($.prevent(),!1):t.triggerEvent(Uv(),$)})},E=Zf([{key:Gc(),value:d},{key:Ol(),value:g},{key:Hv(),value:C}]),D=function($,U){return Tn(E,U).bind(function(G){return G($)})};return{fireIfReady:D}},pI=function(t){var r=t.raw;return r.which===q0[0]&&!ct(["input","textarea"],Qu(t.target))&&!jC(t.target,'[contenteditable="true"]')},BT=function(){return Wn().browser.isFirefox()},bI=function(t,r){return BT()?f0(t,"focus",r):wo(t,"focusin",r)},yI=function(t,r){return BT()?f0(t,"blur",r):wo(t,"focusout",r)},RR=function(t,r){var o=re({stopBackspace:!0},r),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=$T(o),g=Ve(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(oe){return wo(t,oe,function(ve){d.fireIfReady(ve,oe).each(function(Ne){Ne&&ve.kill()});var _e=o.triggerEvent(oe,ve);_e&&ve.kill()})}),C=mo(),E=wo(t,"paste",function(oe){d.fireIfReady(oe,"paste").each(function(_e){_e&&oe.kill()});var ve=o.triggerEvent("paste",oe);ve&&oe.kill(),C.set(setTimeout(function(){o.triggerEvent(w2(),oe)},0))}),D=wo(t,"keydown",function(oe){var ve=o.triggerEvent("keydown",oe);ve?oe.kill():o.stopBackspace&&pI(oe)&&oe.prevent()}),$=bI(t,function(oe){var ve=o.triggerEvent("focusin",oe);ve&&oe.kill()}),U=mo(),G=yI(t,function(oe){var ve=o.triggerEvent("focusout",oe);ve&&oe.kill(),U.set(setTimeout(function(){o.triggerEvent(y2(),oe)},0))}),ee=function(){pt(g,function(oe){oe.unbind()}),D.unbind(),$.unbind(),G.unbind(),E.unbind(),C.on(clearTimeout),U.on(clearTimeout)};return{unbind:ee}},Oy=function(t,r){var o=Tn(t,"target").getOr(r);return zn(o)},wI=function(t,r){var o=zn(!1),s=zn(!1),d=function(){o.set(!0)},g=function(){s.set(!0)};return{stop:d,cut:g,isStopped:o.get,isCut:s.get,event:t,setSource:r.set,getSource:r.get}},CI=function(t){var r=zn(!1),o=function(){r.set(!0)};return{stop:o,cut:q,isStopped:r.get,isCut:ce,event:t,setSource:se("Cannot set source of a broadcasted event"),getSource:se("Cannot get source of a broadcasted event")}},GC=Ds.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),qC=function(t,r,o,s,d,g){var C=t(r,s),E=wI(o,d);return C.fold(function(){return g.logEventNoHandlers(r,s),GC.complete()},function(D){var $=D.descHandler,U=R2($);return U(E),E.isStopped()?(g.logEventStopped(r,D.element,$.purpose),GC.stopped()):E.isCut()?(g.logEventCut(r,D.element,$.purpose),GC.complete()):xo(D.element).fold(function(){return g.logNoParent(r,D.element,$.purpose),GC.complete()},function(G){return g.logEventResponse(r,D.element,$.purpose),GC.resume(G)})})},$R=function(t,r,o,s,d,g){return qC(t,r,o,s,d,g).fold(Ee,function(C){return $R(t,r,o,C,d,g)},ce)},_I=function(t,r,o,s,d){var g=Oy(o,s);return qC(t,r,o,s,g,d)},BR=function(t,r,o){var s=CI(r);return pt(t,function(d){var g=d.descHandler,C=R2(g);C(s)}),s.isStopped()},SI=function(t,r,o,s){return MR(t,r,o,o.target,s)},MR=function(t,r,o,s,d){var g=Oy(o,s);return $R(t,r,o,s,g,d)},xI=function(t,r){return{element:t,descHandler:r}},kI=function(t,r){return{id:t,descHandler:r}},AI=function(){var t={},r=function(C,E,D){Ur(D,function($,U){var G=t[U]!==void 0?t[U]:{};G[E]=D2($,C),t[U]=G})},o=function(C,E){return Kv(E).bind(function(D){return Tn(C,D)}).map(function(D){return xI(E,D)})},s=function(C){return Tn(t,C).map(function(E){return yi(E,function(D,$){return kI($,D)})}).getOr([])},d=function(C,E,D){return Tn(t,E).bind(function($){return Ah(D,function(U){return o($,U)},C)})},g=function(C){Ur(t,function(E,D){Pr(E,C)&&delete E[C]})};return{registerId:r,unregisterId:g,filterByType:s,find:d}},EI=function(){var t=AI(),r={},o=function($){var U=$.element;return Kv(U).getOrThunk(function(){return uS("uid-",$.element)})},s=function($,U){var G=r[U];if(G===$)g($);else throw new Error('The tagId "'+U+'" is already used by: '+pu(G.element)+`
Cannot use it for: `+pu($.element)+`
The conflicting element is`+(fu(G.element)?" ":" not ")+"already in the DOM")},d=function($){var U=o($);lo(r,U)&&s($,U);var G=[$];t.registerId(G,U,$.events),r[U]=$},g=function($){Kv($.element).each(function(U){delete r[U],t.unregisterId(U)})},C=function($){return t.filterByType($)},E=function($,U,G){return t.find($,U,G)},D=function($){return Tn(r,$)};return{find:E,filter:C,register:d,unregister:g,getById:D}},TI=function(t){var r=t.dom,o=r.attributes,s=j(r,["attributes"]);return{uid:t.uid,dom:re({tag:"div",attributes:re({role:"presentation"},o)},s),components:t.components,behaviours:gg(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},ku=Ls({name:"Container",factory:TI,configFields:[He("components",[]),Xo("containerBehaviours",[]),He("events",{}),He("domModification",{}),He("eventOrder",{})]}),PR=function(t){var r=function(we){return xo(t.element).fold(Ee,function(Fe){return Sa(we,Fe)})},o=EI(),s=function(we,Fe){return o.find(r,we,Fe)},d=RR(t.element,{triggerEvent:function(we,Fe){return z2(we,Fe.target,function(vt){return SI(s,we,Fe,vt)})}}),g={debugInfo:ne("real"),triggerEvent:function(we,Fe,vt){z2(we,Fe,function(ft){return MR(s,we,vt,Fe,ft)})},triggerFocus:function(we,Fe){Kv(we).fold(function(){dc(we)},function(vt){z2(Vv(),we,function(ft){return _I(s,Vv(),{originator:Fe,kill:q,prevent:q,target:we},we,ft),!1})})},triggerEscape:function(we,Fe){g.triggerEvent("keydown",we.element,Fe.event)},getByUid:function(we){return _e(we)},getByDom:function(we){return Ne(we)},build:Ua,addToGui:function(we){D(we)},removeFromGui:function(we){$(we)},addToWorld:function(we){C(we)},removeFromWorld:function(we){E(we)},broadcast:function(we){ee(we)},broadcastOn:function(we,Fe){oe(we,Fe)},broadcastEvent:function(we,Fe){ve(we,Fe)},isConnected:Ee},C=function(we){we.connect(g),Du(we.element)||(o.register(we),pt(we.components(),C),g.triggerEvent(Wd(),we.element,{target:we.element}))},E=function(we){Du(we.element)||(pt(we.components(),E),o.unregister(we)),we.disconnect()},D=function(we){vm(t,we)},$=function(we){bc(we)},U=function(){d.unbind(),Bu(t.element)},G=function(we){var Fe=o.filter(nl());pt(Fe,function(vt){var ft=vt.descHandler,ze=R2(ft);ze(we)})},ee=function(we){G({universal:!0,data:we})},oe=function(we,Fe){G({universal:!1,channels:we,data:Fe})},ve=function(we,Fe){var vt=o.filter(we);return BR(vt,Fe)},_e=function(we){return o.getById(we).fold(function(){return dr.error(new Error('Could not find component with uid: "'+we+'" in system.'))},dr.value)},Ne=function(we){var Fe=Kv(we).getOr("not found");return _e(Fe)};return C(t),{root:t,element:t.element,destroy:U,add:D,remove:$,getByUid:_e,getByDom:Ne,addToWorld:C,removeFromWorld:E,broadcast:ee,broadcastOn:oe,broadcastEvent:ve}},O1=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ve(t.items,r.interpreter)}},OI=ne([He("prefix","form-field"),Xo("fieldBehaviours",[Sr,an])]),DI=ne([ul({schema:[At("dom")],name:"label"}),ul({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[At("text")],name:"aria-descriptor"}),Bi({factory:{sketch:function(t){var r=v2(t,["factory"]);return t.factory.sketch(r)}},schema:[At("factory")],name:"field"})]),RI=function(t,r,o,s){var d=li(t.fieldBehaviours,[Sr.config({find:function(E){return pa(E,t,"field")}}),an.config({store:{mode:"manual",getValue:function(E){return Sr.getCurrent(E).bind(an.getValue)},setValue:function(E,D){Sr.getCurrent(E).each(function($){an.setValue($,D)})}}})]),g=_a([ur(function(E,D){var $=fx(E,t,["label","field","aria-descriptor"]);$.field().each(function(U){var G=wn(t.prefix);$.label().each(function(ee){cr(ee.element,"for",G),cr(U.element,"id",G)}),$["aria-descriptor"]().each(function(ee){var oe=wn(t.prefix);cr(ee.element,"id",oe),cr(U.element,"aria-describedby",oe)})})})]),C={getField:function(E){return pa(E,t,"field")},getLabel:function(E){return pa(E,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:d,events:g,apis:C}},Jr=xu({name:"FormField",configFields:OI(),partFields:DI(),factory:RI,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),qk=function(t,r){return Bl({attributes:Zf([{key:r.tabAttr,value:"true"}])})},IR=Object.freeze({__proto__:null,exhibit:qk}),NR=[He("tabAttr","data-alloy-tabstop")],Oo=Ko({fields:NR,name:"tabstopping",active:IR}),$I=tinymce.util.Tools.resolve("tinymce.html.Entities"),KC=function(t,r,o,s){var d=MI(t,r,o,s);return Jr.sketch(d)},BI=function(t,r){return KC(t,r,[],[])},MI=function(t,r,o,s){return{dom:zR(o),components:t.toArray().concat([r]),fieldBehaviours:Zt(s)}},PI=function(){return zR([])},zR=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},Dm=function(t,r){return Jr.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},Hl=wn("form-component-change"),XC=wn("form-close"),D1=wn("form-cancel"),pv=wn("form-action"),cl=wn("form-submit"),kd=wn("form-block"),MT=wn("form-unblock"),PT=wn("form-tabchange"),IT=wn("form-resize"),Kk=function(t,r){var o,s=t.label.map(function(G){return Dm(G,r)}),d=function(G){return function(ee,oe){al(oe.event.target,"[data-collection-item-value]").each(function(ve){G(ee,oe,ve,Ha(ve,"data-collection-item-value"))})}},g=function(G,ee){var oe=Ve(ee,function(Ne){var we=hf.translate(Ne.text),Fe=t.columns===1?'<div class="tox-collection__item-label">'+we+"</div>":"",vt='<div class="tox-collection__item-icon">'+Ne.icon+"</div>",ft={_:" "," - ":" ","-":" "},ze=we.replace(/\_| \- |\-/g,function(_t){return ft[_t]}),nt=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+nt+'" tabindex="-1" data-collection-item-value="'+$I.encodeAllRaw(Ne.value)+'" title="'+ze+'" aria-label="'+ze+'">'+vt+Fe+"</div>"}),ve=t.columns!=="auto"&&t.columns>1?fn(oe,t.columns):[oe],_e=Ve(ve,function(Ne){return'<div class="tox-collection__group">'+Ne.join("")+"</div>"});tv(G.element,_e.join(""))},C=d(function(G,ee,oe,ve){ee.stop(),r.isDisabled()||Fn(G,pv,{name:t.name,value:ve})}),E=[$t(Qf(),d(function(G,ee,oe){dc(oe)})),$t(Oh(),C),$t(Uv(),C),$t(tl(),d(function(G,ee,oe){jo(G.element,"."+x1).each(function(ve){Io(ve,x1)}),Wo(oe,x1)})),$t(ki(),d(function(G){jo(G.element,"."+x1).each(function(ee){Io(ee,x1)})})),cs(d(function(G,ee,oe,ve){Fn(G,pv,{name:t.name,value:ve})}))],D=function(G,ee){return Ve(au(G.element,".tox-collection__item"),ee)},$=Jr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:ge},behaviours:Zt([In.config({disabled:r.isDisabled,onDisabled:function(G){D(G,function(ee){Wo(ee,"tox-collection__item--state-disabled"),cr(ee,"aria-disabled",!0)})},onEnabled:function(G){D(G,function(ee){Io(ee,"tox-collection__item--state-disabled"),oi(ee,"aria-disabled")})}}),ti(),ar.config({}),an.config({store:{mode:"memory",initialValue:[]},onSetValue:function(G,ee){g(G,ee),t.columns==="auto"&&lT(G,5,"tox-collection__item").each(function(oe){var ve=oe.numRows,_e=oe.numColumns;Hn.setGridSize(G,ve,_e)}),Wr(G,IT)}}),Oo.config({}),Hn.config(bR(t.columns,"normal")),sr("collection-events",E)]),eventOrder:(o={},o[Rs()]=["disabling","alloy.base.behaviour","collection-events"],o)}),U=["tox-form__group--collection"];return KC(s,$,U,[])},FR=ne([Xr("data"),He("inputAttributes",{}),He("inputStyles",{}),He("tag","input"),He("inputClasses",[]),Yr("onSetValue"),He("styles",{}),He("eventOrder",{}),Xo("inputBehaviours",[an,er]),He("selectOnFocus",!0)]),Xk=function(t){return Zt([er.config({onFocus:t.selectOnFocus?function(r){var o=r.element,s=Jc(o);o.dom.setSelectionRange(0,s.length)}:q})])},NT=function(t){return re(re({},Xk(t)),li(t.inputBehaviours,[an.config({store:re(re({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return Jc(r.element)},setValue:function(r,o){var s=Jc(r.element);s!==o&&Nh(r.element,o)}}),onSetValue:t.onSetValue})]))},Yk=function(t){return{tag:t.tag,attributes:re({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},II=function(t,r){return{uid:t.uid,dom:Yk(t),components:[],behaviours:NT(t),eventOrder:t.eventOrder}},YC=Ls({name:"Input",configFields:FR(),factory:II}),LR={},JC={exports:LR};(function(t,r,o,s){(function(d,g){typeof r=="object"&&typeof o<"u"?o.exports=g():typeof t=="function"&&t.amd?t(g):(d=typeof globalThis<"u"?globalThis:d||self,d.EphoxContactWrapper=g())})(this,function(){var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof B8<"u"?B8:typeof self<"u"?self:{},g={exports:{}};(function($){(function(U){var G=setTimeout;function ee(){}function oe(ze,nt){return function(){ze.apply(nt,arguments)}}function ve(ze){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof ze!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ft(ze,this)}function _e(ze,nt){for(;ze._state===3;)ze=ze._value;if(ze._state===0){ze._deferreds.push(nt);return}ze._handled=!0,ve._immediateFn(function(){var _t=ze._state===1?nt.onFulfilled:nt.onRejected;if(_t===null){(ze._state===1?Ne:we)(nt.promise,ze._value);return}var on;try{on=_t(ze._value)}catch(Dt){we(nt.promise,Dt);return}Ne(nt.promise,on)})}function Ne(ze,nt){try{if(nt===ze)throw new TypeError("A promise cannot be resolved with itself.");if(nt&&(typeof nt=="object"||typeof nt=="function")){var _t=nt.then;if(nt instanceof ve){ze._state=3,ze._value=nt,Fe(ze);return}else if(typeof _t=="function"){ft(oe(_t,nt),ze);return}}ze._state=1,ze._value=nt,Fe(ze)}catch(on){we(ze,on)}}function we(ze,nt){ze._state=2,ze._value=nt,Fe(ze)}function Fe(ze){ze._state===2&&ze._deferreds.length===0&&ve._immediateFn(function(){ze._handled||ve._unhandledRejectionFn(ze._value)});for(var nt=0,_t=ze._deferreds.length;nt<_t;nt++)_e(ze,ze._deferreds[nt]);ze._deferreds=null}function vt(ze,nt,_t){this.onFulfilled=typeof ze=="function"?ze:null,this.onRejected=typeof nt=="function"?nt:null,this.promise=_t}function ft(ze,nt){var _t=!1;try{ze(function(on){_t||(_t=!0,Ne(nt,on))},function(on){_t||(_t=!0,we(nt,on))})}catch(on){if(_t)return;_t=!0,we(nt,on)}}ve.prototype.catch=function(ze){return this.then(null,ze)},ve.prototype.then=function(ze,nt){var _t=new this.constructor(ee);return _e(this,new vt(ze,nt,_t)),_t},ve.all=function(ze){var nt=Array.prototype.slice.call(ze);return new ve(function(_t,on){if(nt.length===0)return _t([]);var Dt=nt.length;function ln(Ct,Xt){try{if(Xt&&(typeof Xt=="object"||typeof Xt=="function")){var Cn=Xt.then;if(typeof Cn=="function"){Cn.call(Xt,function(Ot){ln(Ct,Ot)},on);return}}nt[Ct]=Xt,--Dt===0&&_t(nt)}catch(Ot){on(Ot)}}for(var Mt=0;Mt<nt.length;Mt++)ln(Mt,nt[Mt])})},ve.resolve=function(ze){return ze&&typeof ze=="object"&&ze.constructor===ve?ze:new ve(function(nt){nt(ze)})},ve.reject=function(ze){return new ve(function(nt,_t){_t(ze)})},ve.race=function(ze){return new ve(function(nt,_t){for(var on=0,Dt=ze.length;on<Dt;on++)ze[on].then(nt,_t)})},ve._immediateFn=typeof setImmediate=="function"?function(ze){setImmediate(ze)}:function(ze){G(ze,0)},ve._unhandledRejectionFn=function(nt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",nt)},ve._setImmediateFn=function(nt){ve._immediateFn=nt},ve._setUnhandledRejectionFn=function(nt){ve._unhandledRejectionFn=nt},$.exports?$.exports=ve:U.Promise||(U.Promise=ve)})(d)})(g);var C=g.exports,E=function(){return typeof window<"u"?window:Function("return this;")()}(),D={boltExport:E.Promise||C};return D})})(void 0,LR,JC);var Rm=JC.exports.boltExport,zT=function(t){var r=B.none(),o=[],s=function($){return zT(function(U){d(function(G){U($(G))})})},d=function($){C()?D($):o.push($)},g=function($){C()||(r=B.some($),E(o),o=[])},C=function(){return r.isSome()},E=function($){pt($,D)},D=function($){r.each(function(U){setTimeout(function(){$(U)},0)})};return t(g),{get:d,map:s,isReady:C}},NI=function(t){return zT(function(r){r(t)})},HR={nu:zT,pure:NI},zI=function(t){setTimeout(function(){throw t},0)},R1=function(t){var r=function(D){t().then(D,zI)},o=function(D){return R1(function(){return t().then(D)})},s=function(D){return R1(function(){return t().then(function($){return D($).toPromise()})})},d=function(D){return R1(function(){return t().then(function(){return D.toPromise()})})},g=function(){return HR.nu(r)},C=function(){var D=null;return R1(function(){return D===null&&(D=t()),D})},E=t;return{map:o,bind:s,anonBind:d,toLazy:g,toCached:C,toPromise:E,get:r}},FI=function(t){return R1(function(){return new Rm(t)})},LI=function(t){return R1(function(){return Rm.resolve(t)})},Xi={nu:FI,pure:LI},HI=["input","textarea"],VR=function(t){var r=Qu(t);return ct(HI,r)},FT=function(t,r){var o=r.getRoot(t).getOr(t.element);Io(o,r.invalidClass),r.notify.each(function(s){VR(t.element)&&cr(t.element,"aria-invalid",!1),s.getContainer(t).each(function(d){tv(d,s.validHtml)}),s.onValid(t)})},LT=function(t,r,o,s){var d=r.getRoot(t).getOr(t.element);Wo(d,r.invalidClass),r.notify.each(function(g){VR(t.element)&&cr(t.element,"aria-invalid",!0),g.getContainer(t).each(function(C){tv(C,s)}),g.onInvalid(t,s)})},UR=function(t,r,o){return r.validator.fold(function(){return Xi.pure(dr.value(!0))},function(s){return s.validate(t)})},HT=function(t,r,o){return r.notify.each(function(s){s.onValidate(t)}),UR(t,r).map(function(s){return t.getSystem().isConnected()?s.fold(function(d){return LT(t,r,o,d),dr.error(d)},function(d){return FT(t,r),dr.value(d)}):dr.error("No longer in system")})},VI=function(t,r){var o=r.getRoot(t).getOr(t.element);return bu(o,r.invalidClass)},UI=Object.freeze({__proto__:null,markValid:FT,markInvalid:LT,query:UR,run:HT,isInvalid:VI}),WI=function(t,r){return t.validator.map(function(o){return _a([$t(o.onEvent,function(s){HT(s,t,r).get(ge)})].concat(o.validateOnLoad?[ur(function(s){HT(s,t,r).get(q)})]:[]))}).getOr({})},Jk=Object.freeze({__proto__:null,events:WI}),hs=[At("invalidClass"),He("getRoot",B.none),ss("notify",[He("aria","alert"),He("getContainer",B.none),He("validHtml",""),Yr("onValid"),Yr("onInvalid"),Yr("onValidate")]),ss("validator",[At("validate"),He("onEvent","input"),He("validateOnLoad",!0)])],bv=Ko({fields:hs,name:"invalidating",active:Jk,apis:UI,extra:{validation:function(t){return function(r){var o=an.getValue(r);return Xi.pure(t(o))}}}}),jI=function(t,r,o,s){return o.getOrCreate(t,r,s)},GI=Object.freeze({__proto__:null,getCoupled:jI}),qI=[Iu("others",Ui(dr.value,Al()))],KI=function(){var t={},r=function(s,d,g){var C=Hr(d.others);if(C)return Tn(t,g).getOrThunk(function(){var E=Tn(d.others,g).getOrDie("No information found for coupled component: "+g),D=E(s),$=s.getSystem().build(D);return t[g]=$,$});throw new Error("Cannot find coupled component: "+g+". Known coupled components: "+JSON.stringify(C,null,2))},o=ne({});return Gi({readState:o,getOrCreate:r})},WR=Object.freeze({__proto__:null,init:KI}),Do=Ko({fields:qI,name:"coupling",apis:GI,state:WR}),jR=ne("sink"),GR=ne(ul({name:jR(),overrides:ne({dom:{tag:"div"},behaviours:Zt([ho.config({useFixed:Ee})]),events:_a([Gd(Sb()),Gd(Dl()),Gd(Oh())])})})),pf;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(pf||(pf={}));var qR=function(t,r){var o=t.getHotspot(r).getOr(r),s="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:s,hotspot:o,overrides:d}},function(g){return{type:s,hotspot:o,overrides:d,layouts:g}})},KR=function(t,r,o){var s=t.fetch;return s(o).map(r)},XR=function(t,r,o,s,d,g,C){var E=KR(t,r,s),D=YR(s,t);return E.map(function($){return $.bind(function(U){return B.from(fa.sketch(re(re({},g.menu()),{uid:Xv(""),data:U,highlightImmediately:C===pf.HighlightFirst,onOpenMenu:function(G,ee){var oe=D().getOrDie();ho.position(oe,ee,{anchor:o}),Br.decloak(d)},onOpenSubmenu:function(G,ee,oe){var ve=D().getOrDie();ho.position(ve,oe,{anchor:{type:"submenu",item:ee}}),Br.decloak(d)},onRepositionMenu:function(G,ee,oe){var ve=D().getOrDie();ho.position(ve,ee,{anchor:o}),pt(oe,function(_e){ho.position(ve,_e.triggeredMenu,{anchor:{type:"submenu",item:_e.triggeringItem}})})},onEscape:function(){return er.focus(s),Br.close(d),B.some(!0)}})))})})},Zk=function(t,r,o,s,d,g,C){var E=qR(t,o),D=XR(t,r,E,o,s,d,C);return D.map(function($){return $.fold(function(){Br.isOpen(s)&&Br.close(s)},function(U){Br.cloak(s),Br.open(s,U),g(s)}),s})},XI=function(t,r,o,s,d,g,C){return Br.close(s),Xi.pure(s)},Dy=function(t,r,o,s,d,g){var C=Do.getCoupled(o,"sandbox"),E=Br.isOpen(C),D=E?XI:Zk;return D(t,r,o,C,s,d,g)},YI=function(t,r,o){var s=Sr.getCurrent(r).getOr(r),d=Li(t.element);o?Xn(s.element,"min-width",d+"px"):nc(s.element,d)},YR=function(t,r){return t.getSystem().getByUid(r.uid+"-"+jR()).map(function(o){return function(){return dr.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return dr.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},JR=function(t){Br.getState(t).each(function(r){fa.repositionMenus(r)})},VT=function(t,r,o){var s=Zd(),d=function(E,D){var $=qR(t,r);s.link(r.element),t.matchWidth&&YI($.hotspot,D,t.useMinWidth),t.onOpen($,E,D),o!==void 0&&o.onOpen!==void 0&&o.onOpen(E,D)},g=function(E,D){s.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(E,D)},C=YR(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:il.augment(t.sandboxBehaviours,[an.config({store:{mode:"memory",initialValue:r}}),Br.config({onOpen:d,onClose:g,isPartOf:function(E,D,$){return Qd(D,$)||Qd(r,$)},getAttachPoint:function(){return C().getOrDie()}}),Sr.config({find:function(E){return Br.getState(E).bind(function(D){return Sr.getCurrent(D)})}}),nu.config({channels:re(re({},Vu({isExtraPart:ce})),hm({doReposition:JR}))})])}},Ug=function(t){var r=Do.getCoupled(t,"sandbox");JR(r)},UT=function(){return[He("sandboxClasses",[]),il.field("sandboxBehaviours",[Sr,nu,Br,an])]},JI=ne([At("dom"),At("fetch"),Yr("onOpen"),Go("onExecute"),He("getHotspot",B.some),He("getAnchorOverrides",ne({})),od(),Xo("dropdownBehaviours",[Nr,Do,Hn,er]),At("toggleClass"),He("eventOrder",{}),Xr("lazySink"),He("matchWidth",!1),He("useMinWidth",!1),Xr("role")].concat(UT())),Wg=ne([Fs({schema:[em()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),GR()]),ZI=function(t,r,o,s){var d,g=function(U){return Tn(t.dom,"attributes").bind(function(G){return Tn(G,U)})},C=function(U){Br.getState(U).each(function(G){fa.highlightPrimary(G)})},E=function(U){var G=C;Dy(t,ge,U,s,G,pf.HighlightFirst).get(q)},D={expand:function(U){Nr.isOn(U)||Dy(t,ge,U,s,q,pf.HighlightNone).get(q)},open:function(U){Nr.isOn(U)||Dy(t,ge,U,s,q,pf.HighlightFirst).get(q)},isOpen:Nr.isOn,close:function(U){Nr.isOn(U)&&Dy(t,ge,U,s,q,pf.HighlightFirst).get(q)},repositionMenus:function(U){Nr.isOn(U)&&Ug(U)}},$=function(U,G){return Bs(U),B.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:li(t.dropdownBehaviours,[Nr.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Do.config({others:{sandbox:function(U){return VT(t,U,{onOpen:function(){return Nr.on(U)},onClose:function(){return Nr.off(U)}})}}}),Hn.config({mode:"special",onSpace:$,onEnter:$,onDown:function(U,G){if(bf.isOpen(U)){var ee=Do.getCoupled(U,"sandbox");C(ee)}else bf.open(U);return B.some(!0)},onEscape:function(U,G){return bf.isOpen(U)?(bf.close(U),B.some(!0)):B.none()}}),er.config({})]),events:gy(B.some(E)),eventOrder:re(re({},t.eventOrder),(d={},d[Rs()]=["disabling","toggling","alloy.base.behaviour"],d)),apis:D,domModification:{attributes:re(re({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(U){return{role:U}})),t.dom.tag==="button"?{type:g("type").getOr("button")}:{})}}},bf=xu({name:"Dropdown",configFields:JI(),partFields:Wg(),factory:ZI,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),Sc=function(){return Bl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},ZR=function(){return _a([x2(IA(),Ee)])},QR=Object.freeze({__proto__:null,events:ZR,exhibit:Sc}),ZC=Ko({fields:[],name:"unselecting",active:QR}),QI=function(t,r){return bf.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Zt([gf.button(r.providers.isDisabled),ti(),ZC.config({}),Oo.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return Xi.nu(function(s){return t.fetch(s)}).map(function(s){return B.from(AR(yt(DT(wn("menu-value"),s,function(d){t.onItemAction(o,d)},t.columns,t.presets,uu.CLOSE_ON_EXECUTE,ce,r.providers),{movement:Uk(t.columns,t.presets)})))})},parts:{menu:k1(!1,1,t.presets)}})},QC=wn("color-input-change"),e$=wn("color-swatch-change"),WT=wn("color-picker-cancel"),eN=function(t,r,o){var s=Jr.parts.field({factory:YC,inputClasses:["tox-textfield"],onSetValue:function(D){return bv.run(D).get(q)},inputBehaviours:Zt([In.config({disabled:r.providers.isDisabled}),ti(),Oo.config({}),bv.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(D){return xo(D.element)},notify:{onValid:function(D){var $=an.getValue(D);Fn(D,QC,{color:$})}},validator:{validateOnLoad:!1,validate:function(D){var $=an.getValue(D);if($.length===0)return Xi.pure(dr.value(!0));var U=sn.fromTag("span");Xn(U,"background-color",$);var G=Ao(U,"background-color").fold(function(){return dr.error("blah")},function(ee){return dr.value($)});return Xi.pure(G)}}})]),selectOnFocus:!1}),d=t.label.map(function(D){return Dm(D,r.providers)}),g=function(D,$){Fn(D,e$,{value:$})},C=function(D,$){E.getOpt(D).each(function(U){$==="custom"?o.colorPicker(function(G){G.fold(function(){return Wr(U,WT)},function(ee){g(U,ee),AT(ee)})},"#ffffff"):$==="remove"?g(U,""):g(U,$)})},E=oa(QI({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[ei,qi,No]},onLtr:function(){return[qi,ei,No]}},components:[],fetch:OT(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:C},r));return Jr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:d.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,E.asSpec()]}]),fieldBehaviours:Zt([sr("form-field-events",[$t(QC,function(D,$){E.getOpt(D).each(function(U){Xn(U.element,"background-color",$.event.color)}),Fn(D,Hl,{name:t.name})}),$t(e$,function(D,$){Jr.getField(D).each(function(U){an.setValue(U,$.event.value),Sr.getCurrent(D).each(er.focus)})}),$t(WT,function(D,$){Jr.getField(D).each(function(U){Sr.getCurrent(D).each(er.focus)})})])])})},tN=ul({schema:[At("dom")],name:"label"}),jg=function(t){return ul({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(s){return{events:_a([k2(Gc(),function(d,g,C){return s(d,C)},[r]),k2(Dl(),function(d,g,C){return s(d,C)},[r]),k2(Hd(),function(d,g,C){C.mouseIsDown.get()&&s(d,C)},[r])])}})}})},jT=jg("top-left"),nN=jg("top"),rN=jg("top-right"),aN=jg("right"),oN=jg("bottom-right"),iN=jg("bottom"),uN=jg("bottom-left"),sN=jg("left"),t$=Bi({name:"thumb",defaults:ne({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:_a([jd(Gc(),t,"spectrum"),jd(Ol(),t,"spectrum"),jd(Hv(),t,"spectrum"),jd(Dl(),t,"spectrum"),jd(Hd(),t,"spectrum"),jd(g2(),t,"spectrum")])}}}),n$=Bi({schema:[hu("mouseIsDown",function(){return zn(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,s=function(d,g){return o.getValueFromEvent(g).map(function(C){return o.setValueFrom(d,t,C)})};return{behaviours:Zt([Hn.config({mode:"special",onLeft:function(d){return o.onLeft(d,t)},onRight:function(d){return o.onRight(d,t)},onUp:function(d){return o.onUp(d,t)},onDown:function(d){return o.onDown(d,t)}}),er.config({})]),events:_a([$t(Gc(),s),$t(Ol(),s),$t(Dl(),s),$t(Hd(),function(d,g){t.mouseIsDown.get()&&s(d,g)})])}}}),lN=[tN,sN,aN,nN,iN,jT,rN,uN,oN,t$,n$],cN="slider.change.value",e_=ne(cN),fN=function(t){return t.type.indexOf("touch")!==-1},GT=function(t){var r=t.event.raw;if(fN(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?B.some(o.touches[0]).map(function(d){return ya(d.clientX,d.clientY)}):B.none()}else{var s=r;return s.clientX!==void 0?B.some(s).map(function(d){return ya(d.clientX,d.clientY)}):B.none()}},r$="top",a$="right",o$="bottom",Qk="left",$1=function(t){return t.model.minX},Gg=function(t){return t.model.minY},e3=function(t){return t.model.minX-1},t3=function(t){return t.model.minY-1},B1=function(t){return t.model.maxX},M1=function(t){return t.model.maxY},P1=function(t){return t.model.maxX+1},n3=function(t){return t.model.maxY+1},i$=function(t,r,o){return r(t)-o(t)},yv=function(t){return i$(t,B1,$1)},qT=function(t){return i$(t,M1,Gg)},I1=function(t){return yv(t)/2},KT=function(t){return qT(t)/2},qg=function(t){return t.stepSize},u$=function(t){return t.snapToGrid},s$=function(t){return t.snapStart},l$=function(t){return t.rounded},t_=function(t,r){return t[r+"-edge"]!==void 0},c$=function(t){return t_(t,Qk)},n_=function(t){return t_(t,a$)},f$=function(t){return t_(t,r$)},fl=function(t){return t_(t,o$)},$m=function(t){return t.model.value.get()},v$=function(t){return{x:t}},XT=function(t){return{y:t}},Bm=function(t,r){return{x:t,y:r}},yf=function(t,r){Fn(t,e_(),{value:r})},vN=function(t,r){yf(t,Bm(e3(r),t3(r)))},dN=function(t,r){yf(t,XT(t3(r)))},mN=function(t,r){yf(t,Bm(I1(r),t3(r)))},hN=function(t,r){yf(t,Bm(P1(r),t3(r)))},gN=function(t,r){yf(t,v$(P1(r)))},pN=function(t,r){yf(t,Bm(P1(r),KT(r)))},d$=function(t,r){yf(t,Bm(P1(r),n3(r)))},bN=function(t,r){yf(t,XT(n3(r)))},yN=function(t,r){yf(t,Bm(I1(r),n3(r)))},wN=function(t,r){yf(t,Bm(e3(r),n3(r)))},m$=function(t,r){yf(t,v$(e3(r)))},r3=function(t,r){yf(t,Bm(e3(r),KT(r)))},YT=function(t,r,o,s){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-s)},Ry=function(t,r,o,s){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+s)},N1=function(t,r,o){return Math.max(r,Math.min(o,t))},h$=function(t,r,o,s,d){return d.fold(function(){var g=t-r,C=Math.round(g/s)*s;return N1(r+C,r-1,o+1)},function(g){var C=(t-g)%s,E=Math.round(C/s),D=Math.floor((t-g)/s),$=Math.floor((o-g)/s),U=Math.min($,D+E),G=g+U*s;return Math.max(g,G)})},g$=function(t,r,o){return Math.min(o,Math.max(t,r))-r},JT=function(t){var r=t.min,o=t.max,s=t.range,d=t.value,g=t.step,C=t.snap,E=t.snapStart,D=t.rounded,$=t.hasMinEdge,U=t.hasMaxEdge,G=t.minBound,ee=t.maxBound,oe=t.screenRange,ve=$?r-1:r,_e=U?o+1:o;if(d<G)return ve;if(d>ee)return _e;var Ne=g$(d,G,ee),we=N1(Ne/oe*s+r,ve,_e);return C&&we>=r&&we<=o?h$(we,r,o,g,E):D?Math.round(we):we},p$=function(t){var r=t.min,o=t.max,s=t.range,d=t.value,g=t.hasMinEdge,C=t.hasMaxEdge,E=t.maxBound,D=t.maxOffset,$=t.centerMinEdge,U=t.centerMaxEdge;return d<r?g?0:$:d>o?C?E:U:(d-r)/s*D},ZT="top",r_="right",b$="bottom",QT="left",y$="width",w$="height",wf=function(t){return t.element.dom.getBoundingClientRect()},xc=function(t,r){return t[r]},su=function(t){var r=wf(t);return xc(r,QT)},eO=function(t){var r=wf(t);return xc(r,r_)},a3=function(t){var r=wf(t);return xc(r,ZT)},C$=function(t){var r=wf(t);return xc(r,b$)},tO=function(t){var r=wf(t);return xc(r,y$)},_$=function(t){var r=wf(t);return xc(r,w$)},S$=function(t,r,o){return(t+r)/2-o},x$=function(t,r){var o=wf(t),s=wf(r),d=xc(o,QT),g=xc(o,r_),C=xc(s,QT);return S$(d,g,C)},nO=function(t,r){var o=wf(t),s=wf(r),d=xc(o,ZT),g=xc(o,b$),C=xc(s,ZT);return S$(d,g,C)},kc=function(t,r){Fn(t,e_(),{value:r})},$y=function(t){return{x:t}},o3=function(t,r,o){var s={min:$1(r),max:B1(r),range:yv(r),value:o,step:qg(r),snap:u$(r),snapStart:s$(r),rounded:l$(r),hasMinEdge:c$(r),hasMaxEdge:n_(r),minBound:su(t),maxBound:eO(t),screenRange:tO(t)};return JT(s)},i3=function(t,r,o){var s=o3(t,r,o),d=$y(s);return kc(t,d),s},rO=function(t,r){var o=$1(r);kc(t,$y(o))},CN=function(t,r){var o=B1(r);kc(t,$y(o))},_N=function(t,r,o){var s=t>0?Ry:YT,d=s($m(o).x,$1(o),B1(o),qg(o));return kc(r,$y(d)),B.some(d)},k$=function(t){return function(r,o){return _N(t,r,o).map(Ee)}},SN=function(t){var r=GT(t);return r.map(function(o){return o.left})},xN=function(t,r,o,s,d){var g=0,C=tO(t),E=s.bind(function(U){return B.some(x$(U,t))}).getOr(g),D=d.bind(function(U){return B.some(x$(U,t))}).getOr(C),$={min:$1(r),max:B1(r),range:yv(r),value:o,hasMinEdge:c$(r),hasMaxEdge:n_(r),minBound:su(t),minOffset:g,maxBound:eO(t),maxOffset:C,centerMinEdge:E,centerMaxEdge:D};return p$($)},a_=function(t,r,o,s,d,g){var C=xN(r,g,o,s,d);return su(r)-su(t)+C},kN=function(t,r,o,s){var d=$m(o),g=a_(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),C=Li(r.element)/2;Xn(r.element,"left",g-C+"px")},A$=k$(-1),AN=k$(1),Ad=B.none,u3=B.none,EN={"top-left":B.none(),top:B.none(),"top-right":B.none(),right:B.some(gN),"bottom-right":B.none(),bottom:B.none(),"bottom-left":B.none(),left:B.some(m$)},TN=Object.freeze({__proto__:null,setValueFrom:i3,setToMin:rO,setToMax:CN,findValueOfOffset:o3,getValueFromEvent:SN,findPositionOfValue:a_,setPositionFromValue:kN,onLeft:A$,onRight:AN,onUp:Ad,onDown:u3,edgeActions:EN}),o_=function(t,r){Fn(t,e_(),{value:r})},i_=function(t){return{y:t}},u_=function(t,r,o){var s={min:Gg(r),max:M1(r),range:qT(r),value:o,step:qg(r),snap:u$(r),snapStart:s$(r),rounded:l$(r),hasMinEdge:f$(r),hasMaxEdge:fl(r),minBound:a3(t),maxBound:C$(t),screenRange:_$(t)};return JT(s)},E$=function(t,r,o){var s=u_(t,r,o),d=i_(s);return o_(t,d),s},s_=function(t,r){var o=Gg(r);o_(t,i_(o))},l_=function(t,r){var o=M1(r);o_(t,i_(o))},ON=function(t,r,o){var s=t>0?Ry:YT,d=s($m(o).y,Gg(o),M1(o),qg(o));return o_(r,i_(d)),B.some(d)},T$=function(t){return function(r,o){return ON(t,r,o).map(Ee)}},DN=function(t){var r=GT(t);return r.map(function(o){return o.top})},RN=function(t,r,o,s,d){var g=0,C=_$(t),E=s.bind(function(U){return B.some(nO(U,t))}).getOr(g),D=d.bind(function(U){return B.some(nO(U,t))}).getOr(C),$={min:Gg(r),max:M1(r),range:qT(r),value:o,hasMinEdge:f$(r),hasMaxEdge:fl(r),minBound:a3(t),minOffset:g,maxBound:C$(t),maxOffset:C,centerMinEdge:E,centerMaxEdge:D};return p$($)},aO=function(t,r,o,s,d,g){var C=RN(r,g,o,s,d);return a3(r)-a3(t)+C},$N=function(t,r,o,s){var d=$m(o),g=aO(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),C=Mo(r.element)/2;Xn(r.element,"top",g-C+"px")},BN=B.none,oO=B.none,z1=T$(-1),MN=T$(1),O$={"top-left":B.none(),top:B.some(dN),"top-right":B.none(),right:B.none(),"bottom-right":B.none(),bottom:B.some(bN),"bottom-left":B.none(),left:B.none()},PN=Object.freeze({__proto__:null,setValueFrom:E$,setToMin:s_,setToMax:l_,findValueOfOffset:u_,getValueFromEvent:DN,findPositionOfValue:aO,setPositionFromValue:$N,onLeft:BN,onRight:oO,onUp:z1,onDown:MN,edgeActions:O$}),s3=function(t,r){Fn(t,e_(),{value:r})},l3=function(t,r){return{x:t,y:r}},IN=function(t,r,o){var s=o3(t,r,o.left),d=u_(t,r,o.top),g=l3(s,d);return s3(t,g),g},NN=function(t,r,o,s){var d=t>0?Ry:YT,g=r?$m(s).x:d($m(s).x,$1(s),B1(s),qg(s)),C=r?d($m(s).y,Gg(s),M1(s),qg(s)):$m(s).y;return s3(o,l3(g,C)),B.some(g)},c_=function(t,r){return function(o,s){return NN(t,r,o,s).map(Ee)}},iO=function(t,r){var o=$1(r),s=Gg(r);s3(t,l3(o,s))},zN=function(t,r){var o=B1(r),s=M1(r);s3(t,l3(o,s))},D$=function(t){return GT(t)},uO=function(t,r,o,s){var d=$m(o),g=a_(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),C=aO(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),E=Li(r.element)/2,D=Mo(r.element)/2;Xn(r.element,"left",g-E+"px"),Xn(r.element,"top",C-D+"px")},sO=c_(-1,!1),R$=c_(1,!1),FN=c_(-1,!0),LN=c_(1,!0),c3={"top-left":B.some(vN),top:B.some(mN),"top-right":B.some(hN),right:B.some(pN),"bottom-right":B.some(d$),bottom:B.some(yN),"bottom-left":B.some(wN),left:B.some(r3)},$$=Object.freeze({__proto__:null,setValueFrom:IN,setToMin:iO,setToMax:zN,getValueFromEvent:D$,setPositionFromValue:uO,onLeft:sO,onRight:R$,onUp:FN,onDown:LN,edgeActions:c3}),HN=[He("stepSize",1),He("onChange",q),He("onChoose",q),He("onInit",q),He("onDragStart",q),He("onDragEnd",q),He("snapToGrid",!1),He("rounded",!0),Xr("snapStart"),Iu("model",el("mode",{x:[He("minX",0),He("maxX",100),hu("value",function(t){return zn(t.mode.minX)}),At("getInitialValue"),ka("manager",TN)],y:[He("minY",0),He("maxY",100),hu("value",function(t){return zn(t.mode.minY)}),At("getInitialValue"),ka("manager",PN)],xy:[He("minX",0),He("maxX",100),He("minY",0),He("maxY",100),hu("value",function(t){return zn({x:t.mode.minX,y:t.mode.minY})}),At("getInitialValue"),ka("manager",$$)]})),Xo("sliderBehaviours",[Hn,an]),hu("mouseIsDown",function(){return zn(!1)})],VN=function(t,r,o,s){var d,g=function(ze){return cf(ze,t,"thumb")},C=function(ze){return cf(ze,t,"spectrum")},E=function(ze){return pa(ze,t,"left-edge")},D=function(ze){return pa(ze,t,"right-edge")},$=function(ze){return pa(ze,t,"top-edge")},U=function(ze){return pa(ze,t,"bottom-edge")},G=t.model,ee=G.manager,oe=function(ze,nt){ee.setPositionFromValue(ze,nt,t,{getLeftEdge:E,getRightEdge:D,getTopEdge:$,getBottomEdge:U,getSpectrum:C})},ve=function(ze,nt){G.value.set(nt);var _t=g(ze);oe(ze,_t)},_e=function(ze,nt){ve(ze,nt);var _t=g(ze);return t.onChange(ze,_t,nt),B.some(!0)},Ne=function(ze){ee.setToMin(ze,t)},we=function(ze){ee.setToMax(ze,t)},Fe=function(ze){var nt=function(){pa(ze,t,"thumb").each(function(on){var Dt=G.value.get();t.onChoose(ze,on,Dt)})},_t=t.mouseIsDown.get();t.mouseIsDown.set(!1),_t&&nt()},vt=function(ze,nt){nt.stop(),t.mouseIsDown.set(!0),t.onDragStart(ze,g(ze))},ft=function(ze,nt){nt.stop(),t.onDragEnd(ze,g(ze)),Fe(ze)};return{uid:t.uid,dom:t.dom,components:r,behaviours:li(t.sliderBehaviours,[Hn.config({mode:"special",focusIn:function(ze){return pa(ze,t,"spectrum").map(Hn.focusIn).map(Ee)}}),an.config({store:{mode:"manual",getValue:function(ze){return G.value.get()}}}),nu.config({channels:(d={},d[Aw()]={onReceive:Fe},d)})]),events:_a([$t(e_(),function(ze,nt){_e(ze,nt.event.value)}),ur(function(ze,nt){var _t=G.getInitialValue();G.value.set(_t);var on=g(ze);oe(ze,on);var Dt=C(ze);t.onInit(ze,on,Dt,G.value.get())}),$t(Gc(),vt),$t(Hv(),ft),$t(Dl(),vt),$t(g2(),ft)]),apis:{resetToMin:Ne,resetToMax:we,setValue:ve,refresh:oe},domModification:{styles:{position:"relative"}}}},Cf=xu({name:"Slider",configFields:HN,partFields:lN,factory:VN,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),lO=wn("rgb-hex-update"),Ed=wn("slider-update"),f3=wn("palette-update"),B$=function(t,r){var o=Cf.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=Cf.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return Cf.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ne({y:0})},components:[o,s],sliderBehaviours:Zt([er.config({})]),onChange:function(d,g,C){Fn(d,Ed,{value:C})}})},cO="form",fO=[Xo("formBehaviours",[an])],vO=function(t){return"<alloy.field."+t+">"},v3=function(t){var r=function(){var g=[],C=function(E,D){return g.push(E),Vw(cO,vO(E),D)};return{field:C,record:ne(g)}}(),o=t(r),s=r.record(),d=Ve(s,function(g){return Bi({name:g,pname:vO(g)})});return qw(cO,fO,d,P$,o)},M$=function(t,r){return t.fold(function(){return dr.error(r)},dr.value)},P$=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:li(t.formBehaviours,[an.config({store:{mode:"manual",getValue:function(o){var s=vx(o,t);return vr(s,function(d,g){return d().bind(function(C){var E=Sr.getCurrent(C);return M$(E,new Error("Cannot find a current component to extract the value from for form part '"+g+"': "+pu(C.element)))}).map(an.getValue)})},setValue:function(o,s){Ur(s,function(d,g){pa(o,t,g).each(function(C){Sr.getCurrent(C).each(function(E){an.setValue(E,d)})})})}}})]),apis:{getField:function(o,s){return pa(o,t,s).bind(Sr.getCurrent)}}}},By={getField:Ja(function(t,r,o){return t.getField(r,o)}),sketch:v3},I$=wn("valid-input"),N$=wn("invalid-input"),z$=wn("validating-input"),d3="colorcustom.rgb.",F$=function(t,r,o,s){var d=function(ee,oe){return bv.config({invalidClass:r("invalid"),notify:{onValidate:function(ve){Fn(ve,z$,{type:ee})},onValid:function(ve){Fn(ve,I$,{type:ee,value:an.getValue(ve)})},onInvalid:function(ve){Fn(ve,N$,{type:ee,value:an.getValue(ve)})}},validator:{validate:function(ve){var _e=an.getValue(ve),Ne=oe(_e)?dr.value(!0):dr.error(t("aria.input.invalid"));return Xi.pure(Ne)},validateOnLoad:!1}})},g=function(ee,oe,ve,_e,Ne){var we=t(d3+"range"),Fe=Jr.parts.label({dom:{tag:"label",innerHtml:ve,attributes:{"aria-label":_e}}}),vt=Jr.parts.field({data:Ne,factory:YC,inputAttributes:re({type:"text"},oe==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:Zt([d(oe,ee),Oo.config({})]),onSetValue:function(_t){if(bv.isInvalid(_t)){var on=bv.run(_t);on.get(q)}}}),ft=[Fe,vt],ze=oe!=="hex"?[Jr.parts["aria-descriptor"]({text:we})]:[],nt=ft.concat(ze);return{dom:{tag:"div",attributes:{role:"presentation"}},components:nt}},C=function(ee,oe){var ve=LC(oe);return By.getField(ee,"hex").each(function(_e){er.isFocused(_e)||an.setValue(ee,{hex:ve.value})}),ve},E=function(ee,oe){var ve=oe.red,_e=oe.green,Ne=oe.blue;an.setValue(ee,{red:ve,green:_e,blue:Ne})},D=oa({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),$=function(ee,oe){D.getOpt(ee).each(function(ve){Xn(ve.element,"background-color","#"+oe.value)})},U=function(){var ee={red:zn(B.some(255)),green:zn(B.some(255)),blue:zn(B.some(255)),hex:zn(B.some("ffffff"))},oe=function(Ct,Xt){var Cn=HC(Xt);E(Ct,Cn),we(Cn)},ve=function(Ct){return ee[Ct].get()},_e=function(Ct,Xt){ee[Ct].set(Xt)},Ne=function(){return ve("red").bind(function(Ct){return ve("green").bind(function(Xt){return ve("blue").map(function(Cn){return Vg(Ct,Xt,Cn,1)})})})},we=function(Ct){var Xt=Ct.red,Cn=Ct.green,Ot=Ct.blue;_e("red",B.some(Xt)),_e("green",B.some(Cn)),_e("blue",B.some(Ot))},Fe=function(Ct,Xt){var Cn=Xt.event;Cn.type!=="hex"?_e(Cn.type,B.none()):s(Ct)},vt=function(Ct,Xt){o(Ct);var Cn=GD(Xt);_e("hex",B.some(Xt));var Ot=HC(Cn);E(Ct,Ot),we(Ot),Fn(Ct,lO,{hex:Cn}),$(Ct,Cn)},ft=function(Ct,Xt,Cn){var Ot=parseInt(Cn,10);_e(Xt,B.some(Ot)),Ne().each(function(bn){var En=C(Ct,bn);Fn(Ct,lO,{hex:En}),$(Ct,En)})},ze=function(Ct){return Ct.type==="hex"},nt=function(Ct,Xt){var Cn=Xt.event;ze(Cn)?vt(Ct,Cn.value):ft(Ct,Cn.type,Cn.value)},_t=function(Ct){return{label:t(d3+Ct+".label"),description:t(d3+Ct+".description")}},on=_t("red"),Dt=_t("green"),ln=_t("blue"),Mt=_t("hex");return yt(By.sketch(function(Ct){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Ct.field("red",Jr.sketch(g(wT,"red",on.label,on.description,255))),Ct.field("green",Jr.sketch(g(wT,"green",Dt.label,Dt.description,255))),Ct.field("blue",Jr.sketch(g(wT,"blue",ln.label,ln.description,255))),Ct.field("hex",Jr.sketch(g(XD,"hex",Mt.label,Mt.description,"ffffff"))),D.asSpec()],formBehaviours:Zt([bv.config({invalidClass:r("form-invalid")}),sr("rgb-form-events",[$t(I$,nt),$t(N$,Fe),$t(z$,Fe)])])}}),{apis:{updateHex:function(Ct,Xt){an.setValue(Ct,{hex:Xt.value}),oe(Ct,Xt),$(Ct,Xt)}}})},G=Ls({factory:U,name:"RgbForm",configFields:[],apis:{updateHex:function(ee,oe,ve){ee.updateHex(oe,ve)}},extraApis:{}});return G},UN=function(t,r){var o=Cf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),s=Cf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),d=function($,U){var G=$.width,ee=$.height,oe=$.getContext("2d");if(oe!==null){oe.fillStyle=U,oe.fillRect(0,0,G,ee);var ve=oe.createLinearGradient(0,0,G,0);ve.addColorStop(0,"rgba(255,255,255,1)"),ve.addColorStop(1,"rgba(255,255,255,0)"),oe.fillStyle=ve,oe.fillRect(0,0,G,ee);var _e=oe.createLinearGradient(0,0,0,ee);_e.addColorStop(0,"rgba(0,0,0,0)"),_e.addColorStop(1,"rgba(0,0,0,1)"),oe.fillStyle=_e,oe.fillRect(0,0,G,ee)}},g=function($,U){var G=$.components()[0].element.dom,ee=VC(U,100,100),oe=ZD(ee);d(G,tR(oe))},C=function($,U){var G=_T(HC(U));Cf.setValue($,{x:G.saturation,y:100-G.value})},E=function($){var U=ne({x:0,y:0}),G=function(ve,_e,Ne){Fn(ve,f3,{value:Ne})},ee=function(ve,_e,Ne,we){d(Ne.element.dom,tR(nR))},oe=Zt([Sr.config({find:B.some}),er.config({})]);return Cf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:U},rounded:!1,components:[o,s],onChange:G,onInit:ee,sliderBehaviours:oe})},D=Ls({factory:E,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function($,U,G){g(U,G)},setThumb:function($,U,G){C(U,G)}},extraApis:{}});return D},WN=function(t,r){var o=function(d){var g=F$(t,r,d.onValidHex,d.onInvalidHex),C=UN(t,r),E=function(nt){return(100-nt)/100*360},D=function(nt){return 100-nt/360*100},$={paletteRgba:zn(nR),paletteHue:zn(0)},U=oa(B$(t,r)),G=oa(C.sketch({})),ee=oa(g.sketch({})),oe=function(nt,_t,on){G.getOpt(nt).each(function(Dt){C.setHue(Dt,on)})},ve=function(nt,_t){ee.getOpt(nt).each(function(on){g.updateHex(on,_t)})},_e=function(nt,_t,on){U.getOpt(nt).each(function(Dt){Cf.setValue(Dt,{y:D(on)})})},Ne=function(nt,_t){G.getOpt(nt).each(function(on){C.setThumb(on,_t)})},we=function(nt,_t){var on=HC(nt);$.paletteRgba.set(on),$.paletteHue.set(_t)},Fe=function(nt,_t,on,Dt){we(_t,on),pt(Dt,function(ln){ln(nt,_t,on)})},vt=function(){var nt=[ve];return function(_t,on){var Dt=on.event.value,ln=$.paletteHue.get(),Mt=VC(ln,Dt.x,100-Dt.y),Ct=oR(Mt);Fe(_t,Ct,ln,nt)}},ft=function(){var nt=[oe,ve];return function(_t,on){var Dt=E(on.event.value.y),ln=$.paletteRgba.get(),Mt=_T(ln),Ct=VC(Dt,Mt.saturation,Mt.value),Xt=oR(Ct);Fe(_t,Xt,Dt,nt)}},ze=function(){var nt=[oe,_e,Ne];return function(_t,on){var Dt=on.event.hex,ln=UP(Dt);Fe(_t,Dt,ln.hue,nt)}};return{uid:d.uid,dom:d.dom,components:[G.asSpec(),U.asSpec(),ee.asSpec()],behaviours:Zt([sr("colour-picker-events",[$t(lO,ze()),$t(f3,vt()),$t(Ed,ft())]),Sr.config({find:function(nt){return ee.getOpt(nt)}}),Hn.config({mode:"acyclic"})])}},s=Ls({name:"ColourPicker",configFields:[At("dom"),He("onValidHex",q),He("onInvalidHex",q)],factory:o});return s},jN=function(){return Sr.config({find:B.some})},m3=function(t){return Sr.config({find:t.getOpt})},GN=function(t){return Sr.config({find:function(r){return ai(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},wv={self:jN,memento:m3,childAt:GN},L$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},H$=function(t){return L$[t]},qN=function(t){return H$(t)},KN=function(t){var r=function(C){return"tox-"+C},o=WN(qN,r),s=function(C){Fn(C,pv,{name:"hex-valid",value:!0})},d=function(C){Fn(C,pv,{name:"hex-valid",value:!1})},g=oa(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:d}));return{dom:{tag:"div"},components:[g.asSpec()],behaviours:Zt([an.config({store:{mode:"manual",getValue:function(C){var E=g.get(C),D=Sr.getCurrent(E),$=D.bind(function(U){var G=an.getValue(U);return G.hex});return $.map(function(U){return"#"+U}).getOr("")},setValue:function(C,E){var D=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,$=D.exec(E),U=g.get(C),G=Sr.getCurrent(U);G.fold(function(){console.log("Can not find form")},function(ee){an.setValue(ee,{hex:B.from($[1]).getOr("")}),By.getField(ee,"hex").each(function(oe){Wr(oe,Vd())})})}}}),wv.self()])}},h3=tinymce.util.Tools.resolve("tinymce.Resource"),XN=function(t){return Pr(t,"init")},YN=function(t){var r=mo(),o=oa({dom:{tag:t.tag}}),s=mo();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Zt([sr("custom-editor-events",[ur(function(d){o.getOpt(d).each(function(g){(XN(t)?t.init(g.element.dom):h3.load(t.scriptId,t.scriptUrl).then(function(C){return C(g.element.dom,t.settings)})).then(function(C){s.on(function(E){C.setValue(E)}),s.clear(),r.set(C)})})})]),an.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return s.get().getOr("")},function(d){return d.getValue()})},setValue:function(d,g){r.get().fold(function(){s.set(g)},function(C){return C.setValue(g)})}}}),wv.self()]),components:[o.asSpec()]}},Kg=tinymce.util.Tools.resolve("tinymce.util.Tools"),JN=Mn([He("preprocess",ge),He("postprocess",ge)]),g3=function(t,r){var o=sa("RepresentingConfigs.memento processors",JN,r);return an.config({store:{mode:"manual",getValue:function(s){var d=t.get(s),g=an.getValue(d);return o.postprocess(g)},setValue:function(s,d){var g=o.preprocess(d),C=t.get(s);an.setValue(C,g)}}})},p3=function(t,r,o){return an.config(yt({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(s){return{store:{initialValue:s}}}).getOr({})))},dO=function(t,r,o){return p3(t,function(s){return r(s.element)},function(s,d){return o(s.element,d)})},ZN=function(t){return dO(t,Jc,Nh)},b3=function(t){return dO(t,qc,tv)},QN=function(t){return an.config({store:{mode:"memory",initialValue:t}})},Mm={memento:g3,withElement:dO,withComp:p3,domValue:ZN,domHtml:b3,memory:QN},V$="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",ez=function(t,r){var o=Kg.explode(r.getSetting("images_file_types",V$,"string")),s=function(d){return _n(o,function(g){return qn(d.name.toLowerCase(),"."+g.toLowerCase())})};return Ae(va(t),s)},tz=function(t,r){var o=function(G,ee){ee.stop()},s=function(G){return function(ee,oe){pt(G,function(ve){ve(ee,oe)})}},d=function(G,ee){if(!In.isDisabled(G)){var oe=ee.event.raw;C(G,oe.dataTransfer.files)}},g=function(G,ee){var oe=ee.event.raw.target;C(G,oe.files)},C=function(G,ee){an.setValue(G,ez(ee,r)),Fn(G,Hl,{name:t.name})},E=oa({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Zt([sr("input-file-events",[Gd(Oh()),Gd(Uv())])])}),D=function(G){return{uid:G.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Zt([Mm.memory([]),wv.self(),In.config({}),Nr.config({toggleClass:"dragenter",toggleOnExecute:!1}),sr("dropzone-events",[$t("dragenter",s([o,Nr.toggle])),$t("dragleave",s([o,Nr.toggle])),$t("dragover",o),$t("drop",s([o,d])),$t(Th(),g)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},ms.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[E.asSpec()],action:function(ee){var oe=E.get(ee);oe.element.dom.click()},buttonBehaviours:Zt([Oo.config({}),gf.button(r.isDisabled),ti()])})]}]}},$=t.label.map(function(G){return Dm(G,r)}),U=Jr.parts.field({factory:{sketch:D}});return KC($,U,["tox-form__group--stretched"],[])},U$=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:Ve(t.items,r.interpreter)}},y3=wn("alloy-fake-before-tabstop"),mO=wn("alloy-fake-after-tabstop"),hO=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Zt([er.config({ignore:!0}),Oo.config({})])}},gO=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[hO([y3]),t,hO([mO])],behaviours:Zt([wv.childAt(1)])}},pO=function(t,r){Fn(t,Sb(),{raw:{which:9,shiftKey:r}})},W$=function(t,r){var o=r.element;bu(o,y3)?pO(t,!0):bu(o,mO)&&pO(t,!1)},f_=function(t){return jC(t,["."+y3,"."+mO].join(","),ce)},nz=!(Wn().browser.isIE()||Wn().browser.isEdge()),rz=function(t){var r=zn("");return{getValue:function(o){return r.get()},setValue:function(o,s){if(t)cr(o.element,"srcdoc",s);else{cr(o.element,"src","javascript:''");var d=o.element.dom.contentWindow.document;d.open(),d.write(s),d.close()}r.set(s)}}},j$=function(t,r){var o=nz&&t.sandboxed,s=re(re({},t.label.map(function(D){return{title:D}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),d=rz(o),g=t.label.map(function(D){return Dm(D,r)}),C=function(D){return gO({uid:D.uid,dom:{tag:"iframe",attributes:s},behaviours:Zt([Oo.config({}),er.config({}),Mm.withComp(B.none(),d.getValue,d.setValue)])})},E=Jr.parts.field({factory:{sketch:C}});return KC(g,E,["tox-form__group--stretched"],[])},My=function(t,r){return az(document.createElement("canvas"),t,r)},G$=function(t){var r=My(t.width,t.height),o=Pm(r);return o.drawImage(t,0,0),r},Pm=function(t){return t.getContext("2d")},az=function(t,r,o){return t.width=r,t.height=o,t},v_=function(t){return t.naturalWidth||t.width},bO=function(t){return t.naturalHeight||t.height},oz=function(t){return new Rm(function(r,o){var s=URL.createObjectURL(t),d=new Image,g=function(){d.removeEventListener("load",C),d.removeEventListener("error",E)},C=function(){g(),r(d)},E=function(){g(),o("Unable to load data of type "+t.type+": "+s)};d.addEventListener("load",C),d.addEventListener("error",E),d.src=s,d.complete&&setTimeout(C,0)})},iz=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return B.none();for(var s=o[1],d=r[1],g=1024,C=atob(d),E=C.length,D=Math.ceil(E/g),$=new Array(D),U=0;U<D;++U){for(var G=U*g,ee=Math.min(G+g,E),oe=new Array(ee-G),ve=G,_e=0;ve<ee;++_e,++ve)oe[_e]=C[ve].charCodeAt(0);$[U]=new Uint8Array(oe)}return B.some(new Blob($,{type:s}))},uz=function(t){return new Rm(function(r,o){iz(t).fold(function(){o("uri is not base64: "+t)},r)})},q$=function(t,r,o){return r=r||"image/png",P(HTMLCanvasElement.prototype.toBlob)?new Rm(function(s,d){t.toBlob(function(g){g?s(g):d()},r,o)}):uz(t.toDataURL(r,o))},sz=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},lz=function(t){return oz(t).then(function(r){cz(r);var o=My(v_(r),bO(r)),s=Pm(o);return s.drawImage(r,0,0),o})},K$=function(t){return new Rm(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},cz=function(t){URL.revokeObjectURL(t.src)},X$=function(t,r,o){var s=r.type,d=ne(s),g=function(){return Rm.resolve(r)},C=ne(o),E=function(){return o.split(",")[1]},D=function(ee,oe){return t.then(function(ve){return q$(ve,ee,oe)})},$=function(ee,oe){return t.then(function(ve){return sz(ve,ee,oe)})},U=function(ee,oe){return $(ee,oe).then(function(ve){return ve.split(",")[1]})},G=function(){return t.then(G$)};return{getType:d,toBlob:g,toDataURL:C,toBase64:E,toAdjustedBlob:D,toAdjustedDataURL:$,toAdjustedBase64:U,toCanvas:G}},Y$=function(t){return K$(t).then(function(r){return X$(lz(t),t,r)})},F1=function(t,r){return q$(t,r).then(function(o){return X$(Rm.resolve(t),o,t.toDataURL())})},fz=function(t){return Y$(t)},d_=function(t,r,o){var s=typeof t=="string"?parseFloat(t):t;return s>o?s=o:s<r&&(s=r),s},yO=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},wO=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],CO=function(t,r){for(var o=[],s=new Array(25),d,g=0;g<5;g++){for(var C=0;C<5;C++)o[C]=r[C+g*5];for(var C=0;C<5;C++){d=0;for(var E=0;E<5;E++)d+=t[C+E*5]*o[E];s[C+g*5]=d}}return s},J$=function(t,r){var o;return r=d_(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=wO[r]:o=wO[Math.floor(r)]*(1-o)+wO[Math.floor(r)+1]*o,o=o*127+127),CO(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},Z$=function(t,r){return r=d_(255*r,-255,255),CO(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},Q$=function(t,r,o,s){return r=d_(r,0,2),o=d_(o,0,2),s=d_(s,0,2),CO(t,[r,0,0,0,0,0,o,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},_O=function(t,r){return t.toCanvas().then(function(o){return eB(o,t.getType(),r)})},eB=function(t,r,o){var s=Pm(t),d=function(C,E){for(var D,$,U,G,ee=C.data,oe=E[0],ve=E[1],_e=E[2],Ne=E[3],we=E[4],Fe=E[5],vt=E[6],ft=E[7],ze=E[8],nt=E[9],_t=E[10],on=E[11],Dt=E[12],ln=E[13],Mt=E[14],Ct=E[15],Xt=E[16],Cn=E[17],Ot=E[18],bn=E[19],En=0;En<ee.length;En+=4)D=ee[En],$=ee[En+1],U=ee[En+2],G=ee[En+3],ee[En]=D*oe+$*ve+U*_e+G*Ne+we,ee[En+1]=D*Fe+$*vt+U*ft+G*ze+nt,ee[En+2]=D*_t+$*on+U*Dt+G*ln+Mt,ee[En+3]=D*Ct+$*Xt+U*Cn+G*Ot+bn;return C},g=d(s.getImageData(0,0,t.width,t.height),o);return s.putImageData(g,0,0),F1(t,r)},tB=function(t,r){return t.toCanvas().then(function(o){return vz(o,t.getType(),r)})},vz=function(t,r,o){var s=Pm(t),d=function(E,D,$){for(var U=function(Xt,Cn,Ot){return Xt>Ot?Xt=Ot:Xt<Cn&&(Xt=Cn),Xt},G=Math.round(Math.sqrt($.length)),ee=Math.floor(G/2),oe=E.data,ve=D.data,_e=E.width,Ne=E.height,we=0;we<Ne;we++)for(var Fe=0;Fe<_e;Fe++){for(var vt=0,ft=0,ze=0,nt=0;nt<G;nt++)for(var _t=0;_t<G;_t++){var on=U(Fe+_t-ee,0,_e-1),Dt=U(we+nt-ee,0,Ne-1),ln=(Dt*_e+on)*4,Mt=$[nt*G+_t];vt+=oe[ln]*Mt,ft+=oe[ln+1]*Mt,ze+=oe[ln+2]*Mt}var Ct=(we*_e+Fe)*4;ve[Ct]=U(vt,0,255),ve[Ct+1]=U(ft,0,255),ve[Ct+2]=U(ze,0,255)}return D},g=s.getImageData(0,0,t.width,t.height),C=s.getImageData(0,0,t.width,t.height);return C=d(g,C,o),s.putImageData(C,0,0),F1(t,r)},dz=function(t){var r=function(o,s,d){for(var g=Pm(o),C=new Array(256),E=function(U,G){for(var ee=U.data,oe=0;oe<ee.length;oe+=4)ee[oe]=G[ee[oe]],ee[oe+1]=G[ee[oe+1]],ee[oe+2]=G[ee[oe+2]];return U},D=0;D<C.length;D++)C[D]=t(D,d);var $=E(g.getImageData(0,0,o.width,o.height),C);return g.putImageData($,0,0),F1(o,s)};return function(o,s){return o.toCanvas().then(function(d){return r(d,o.getType(),s)})}},nB=function(t){return function(r,o){return _O(r,t(yO(),o))}},mz=function(t){return function(r){return _O(r,t)}},hz=function(t){return function(r){return tB(r,t)}},gz=mz([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),rB=nB(Z$),pz=nB(J$),bz=function(t,r,o,s){return _O(t,Q$(yO(),r,o,s))},yz=hz([0,-1,0,-1,5,-1,0,-1,0]),Fr=dz(function(t,r){return Math.pow(t/255,1-r)*255}),L1=function(t,r,o){var s=v_(t),d=bO(t),g=r/s,C=o/d,E=!1;(g<.5||g>2)&&(g=g<.5?.5:2,E=!0),(C<.5||C>2)&&(C=C<.5?.5:2,E=!0);var D=aB(t,g,C);return E?D.then(function($){return L1($,r,o)}):D},aB=function(t,r,o){return new Rm(function(s){var d=v_(t),g=bO(t),C=Math.floor(d*r),E=Math.floor(g*o),D=My(C,E),$=Pm(D);$.drawImage(t,0,0,d,g,0,0,C,E),s(D)})},SO=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),s=Math.round(t*o);return Math.ceil(s/o)},oB=function(t,r){return t.toCanvas().then(function(o){return wz(o,t.getType(),r)})},wz=function(t,r,o){var s=o<0?360+o:o,d=s*Math.PI/180,g=t.width,C=t.height,E=Math.sin(d),D=Math.cos(d),$=SO(Math.abs(g*D)+Math.abs(C*E)),U=SO(Math.abs(g*E)+Math.abs(C*D)),G=My($,U),ee=Pm(G);return ee.translate($/2,U/2),ee.rotate(d),ee.drawImage(t,-g/2,-C/2),F1(G,r)},Cz=function(t,r){return t.toCanvas().then(function(o){return _z(o,t.getType(),r)})},_z=function(t,r,o){var s=My(t.width,t.height),d=Pm(s);return o==="v"?(d.scale(1,-1),d.drawImage(t,0,-s.height)):(d.scale(-1,1),d.drawImage(t,-s.width,0)),F1(s,r)},iB=function(t,r,o,s,d){return t.toCanvas().then(function(g){return Sz(g,t.getType(),r,o,s,d)})},Sz=function(t,r,o,s,d,g){var C=My(d,g),E=Pm(C);return E.drawImage(t,-o,-s),F1(C,r)},xz=function(t,r,o){return t.toCanvas().then(function(s){return L1(s,r,o).then(function(d){return F1(d,t.getType())})})},kz=function(t){return gz(t)},Az=function(t){return yz(t)},Ez=function(t,r){return Fr(t,r)},Tz=function(t,r,o,s){return bz(t,r,o,s)},Oz=function(t,r){return rB(t,r)},Dz=function(t,r){return pz(t,r)},uB=function(t,r){return Cz(t,r)},Rz=function(t,r,o,s,d){return iB(t,r,o,s,d)},$z=function(t,r,o){return xz(t,r,o)},xO=function(t,r){return oB(t,r)},sB=function(t,r,o){return gv(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},r)},w3=function(t,r){return sB(t,r,[])},lB=function(t,r){return sB(t,r,[ar.config({})])},kO=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:Zt([ar.config({})])}},AO,cB=wn("toolbar.button.execute"),fB=function(t){return cs(function(r,o){Ey(t,r)(function(s){Fn(r,cB,{buttonApi:s}),t.onAction(s)})})},vB=(AO={},AO[Rs()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],AO),H1=wn("update-menu-text"),dB=wn("update-menu-icon"),C3=function(t,r,o){var s=zn(q),d=t.text.map(function(G){return oa(kO(G,r,o.providers))}),g=t.icon.map(function(G){return oa(lB(G,o.providers.icons))}),C=function(G,ee){var oe=an.getValue(G);return er.focus(oe),Fn(oe,"keydown",{raw:ee.event.raw}),bf.close(oe),B.some(!0)},E=t.role.fold(function(){return{}},function(G){return{role:G}}),D=t.tooltip.fold(function(){return{}},function(G){var ee=o.providers.translate(G);return{title:ee,"aria-label":ee}}),$=gv("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},o.providers.icons),U=oa(bf.sketch(re(re(re({},t.uid?{uid:t.uid}:{}),E),{dom:{tag:"button",classes:[r,r+"--select"].concat(Ve(t.classes,function(G){return r+"--"+G})),attributes:re({},D)},components:Em([g.map(function(G){return G.asSpec()}),d.map(function(G){return G.asSpec()}),B.some($)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Zt(ke(ke([],t.dropdownBehaviours,!0),[gf.button(function(){return t.disabled||o.providers.isDisabled()}),ti(),ZC.config({}),ar.config({}),sr("dropdown-events",[E1(t,s),T1(t,s)]),sr("menubutton-update-display-text",[$t(H1,function(G,ee){d.bind(function(oe){return oe.getOpt(G)}).each(function(oe){ar.set(oe,[Ti(o.providers.translate(ee.event.text))])})}),$t(dB,function(G,ee){g.bind(function(oe){return oe.getOpt(G)}).each(function(oe){ar.set(oe,[lB(ee.event.icon,o.providers.icons)])})})])],!1)),eventOrder:yt(vB,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Zt([Hn.config({mode:"special",onLeft:C,onRight:C})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:k1(!1,t.columns,t.presets)},fetch:function(G){return Xi.nu(Se(t.fetch,G))}})));return U.asSpec()},mB=function(t){return _(t)},_3=function(t){return t.type==="separator"},Bz=function(t){return Pr(t,"getSubmenuItems")},Mz={type:"separator"},Pz=function(t,r){var o=et(t,function(s,d){return mB(d)?d===""?s:d==="|"?s.length>0&&!_3(s[s.length-1])?s.concat([Mz]):s:Pr(r,d.toLowerCase())?s.concat([r[d.toLowerCase()]]):s:s.concat([d])},[]);return o.length>0&&_3(o[o.length-1])&&o.pop(),o},Iz=function(t,r){var o=t.getSubmenuItems(),s=Py(o,r),d=yt(s.menus,Wc(t.value,s.items)),g=yt(s.expansions,Wc(t.value,t.value));return{item:t,menus:d,expansions:g}},Nz=function(t,r){return Bz(t)?Iz(t,r):{item:t,menus:{},expansions:{}}},zz=function(t){if(_3(t))return t;var r=Tn(t,"value").getOrThunk(function(){return wn("generated-menu-item")});return yt({value:r},t)},Py=function(t,r){var o=Pz(_(t)?t.split(" "):t,r);return Ze(o,function(s,d){var g=zz(d),C=Nz(g,r);return{menus:yt(s.menus,C.menus),items:[C.item].concat(s.items),expansions:yt(s.expansions,C.expansions)}},{menus:{},expansions:{},items:[]})},Iy=function(t,r,o,s){var d=wn("primary-menu"),g=Py(t,o.shared.providers.menuItems());if(g.items.length===0)return B.none();var C=kR(d,g.items,r,o,s),E=vr(g.menus,function($,U){return kR(U,$,r,o,!1)}),D=yt(E,Wc(d,C));return B.from(fa.tieredData(d,D,g.expansions))},EO=function(t){return{isDisabled:function(){return In.isDisabled(t)},setDisabled:function(r){return In.set(t,r)},setActive:function(r){var o=t.element;r?(Wo(o,"tox-tbtn--enabled"),cr(o,"aria-pressed",!0)):(Io(o,"tox-tbtn--enabled"),oi(o,"aria-pressed"))},isActive:function(){return bu(t.element,"tox-tbtn--enabled")}}},TO=function(t,r,o,s){return C3({text:t.text,icon:t.icon,tooltip:t.tooltip,role:s,fetch:function(d,g){t.fetch(function(C){g(Iy(C,uu.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:EO,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Oo.config({})]},r,o.shared)},Fz=function(t,r,o){var s=function(g){return function(C){var E=!C.isActive();C.setActive(E),g.storage.set(E),o.shared.getSink().each(function(D){r().getOpt(D).each(function($){dc($.element),Fn($,pv,{name:g.name,value:g.storage.get()})})})}},d=function(g){return function(C){C.setActive(g.storage.get())}};return function(g){g(Ve(t,function(C){var E=C.text.fold(function(){return{}},function(D){return{text:D}});return re(re({type:C.type,active:!1},E),{onAction:s(C),onSetup:d(C)})}))}},hB=function(t,r,o,s,d,g){o===void 0&&(o=[]);var C=r.fold(function(){return{}},function($){return{action:$}}),E=re({buttonBehaviours:Zt([gf.button(function(){return t.disabled||g.isDisabled()}),ti(),Oo.config({}),sr("button press",[Rb("click"),Rb("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},C),D=yt(E,{dom:s});return yt(D,{components:d})},gB=function(t,r,o,s){s===void 0&&(s=[]);var d=t.tooltip.map(function(D){return{"aria-label":o.translate(D),title:o.translate(D)}}).getOr({}),g={tag:"button",classes:["tox-tbtn"],attributes:d},C=t.icon.map(function(D){return w3(D,o.icons)}),E=Em([C]);return hB(t,r,s,g,E,o)},OO=function(t,r,o,s){s===void 0&&(s=[]);var d=gB(t,B.some(r),o,s);return ms.sketch(d)},DO=function(t,r,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=o.translate(t.text),C=t.icon?t.icon.map(function(G){return w3(G,o.icons)}):B.none(),E=C.isSome()?Em([C]):[],D=C.isSome()?{}:{innerHtml:g},$=ke(ke(ke(ke([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),C.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),d,!0),U=re(re({tag:"button",classes:$},D),{attributes:{title:g}});return hB(t,r,s,U,E,o)},RO=function(t,r,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=DO(t,B.some(r),o,s,d);return ms.sketch(g)},m_=function(t,r){return function(o){r==="custom"?Fn(o,pv,{name:t,value:{}}):r==="submit"?Wr(o,cl):r==="cancel"?Wr(o,D1):console.error("Unknown button type: ",r)}},S3=function(t,r){return r==="menu"},Lz=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},x3=function(t,r,o){if(S3(t,r)){var s=function(){return C},d=t,g=re(re({},t),{onSetup:function($){return $.setDisabled(t.disabled),q},fetch:Fz(d.items,s,o)}),C=oa(TO(g,"tox-tbtn",o,B.none()));return C.asSpec()}else if(Lz(t,r)){var E=m_(t.name,r),D=re(re({},t),{borderless:!1});return RO(D,E,o.shared.providers,[])}else console.error("Unknown footer button type: ",r)},Hz=function(t,r){var o=m_(t.name,"custom");return BI(B.none(),Jr.parts.field(re({factory:ms},DO(t,B.some(o),r,[Mm.memory(""),wv.self()]))))},Vz=ne([He("field1Name","field1"),He("field2Name","field2"),wu("onLockedChange"),tm(["lockClass"]),He("locked",!1),il.field("coupledFieldBehaviours",[Sr,an])]),$O=function(t,r,o){return pa(t,r,o).bind(Sr.getCurrent)},k3=function(t,r){return Bi({factory:Jr,name:t,overrides:function(o){return{fieldBehaviours:Zt([sr("coupled-input-behaviour",[$t(Vd(),function(s){$O(s,o,r).each(function(d){pa(s,o,"lock").each(function(g){Nr.isOn(g)&&o.onLockedChange(s,d,g)})})})])])}}})},pB=ne([k3("field1","field2"),k3("field2","field1"),Bi({factory:ms,schema:[At("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Zt([Nr.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),Uz=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:il.augment(t.coupledFieldBehaviours,[Sr.config({find:B.some}),an.config({store:{mode:"manual",getValue:function(d){var g,C=V0(d,t,["field1","field2"]);return g={},g[t.field1Name]=an.getValue(C.field1()),g[t.field2Name]=an.getValue(C.field2()),g},setValue:function(d,g){var C=V0(d,t,["field1","field2"]);lo(g,t.field1Name)&&an.setValue(C.field1(),g[t.field1Name]),lo(g,t.field2Name)&&an.setValue(C.field2(),g[t.field2Name])}}})]),apis:{getField1:function(d){return pa(d,t,"field1")},getField2:function(d){return pa(d,t,"field2")},getLock:function(d){return pa(d,t,"lock")}}}},Vs=xu({name:"FormCoupledInputs",configFields:Vz(),partFields:pB(),factory:Uz,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),Wz=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(d){return d in r?r[d]:1},s=t.value.toFixed(o(t.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+t.unit},BO=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var s=parseFloat(o[1]),d=o[2];return dr.value({value:s,unit:d})}else return dr.error(t)},MO=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(d){return Pr(o,d)};return t.unit===r?B.some(t.value):s(t.unit)&&s(r)?o[t.unit]===o[r]?B.some(t.value):B.some(t.value/o[t.unit]*o[r]):B.none()},PO=function(t){return B.none()},h_=function(t,r){return function(o){return MO(o,r).map(function(s){return{value:s*t,unit:r}})}},jz=function(t,r){var o=BO(t).toOptional(),s=BO(r).toOptional();return Gs(o,s,function(d,g){return MO(d,g.unit).map(function(C){return g.value/C}).map(function(C){return h_(C,g.unit)}).getOr(PO)}).getOr(PO)},bB=function(t,r){var o=PO,s=wn("ratio-event"),d=function(G){return gv(G,{tag:"span",classes:["tox-icon","tox-lock-icon__"+G]},r.icons)},g=Vs.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[d("lock"),d("unlock")],buttonBehaviours:Zt([In.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),Oo.config({})])}),C=function(G){return{dom:{tag:"div",classes:["tox-form__group"]},components:G}},E=function(G){return Jr.parts.field({factory:YC,inputClasses:["tox-textfield"],inputBehaviours:Zt([In.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),Oo.config({}),sr("size-input-events",[$t(tl(),function(ee,oe){Fn(ee,s,{isField1:G})}),$t(Th(),function(ee,oe){Fn(ee,Hl,{name:t.name})})])]),selectOnFocus:!1})},D=function(G){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(G)}}},$=Vs.parts.field1(C([Jr.parts.label(D("Width")),E(!0)])),U=Vs.parts.field2(C([Jr.parts.label(D("Height")),E(!1)]));return Vs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[$,U,C([D("&nbsp;"),g])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(G,ee,oe){BO(an.getValue(G)).each(function(ve){o(ve).each(function(_e){an.setValue(ee,Wz(_e))})})},coupledFieldBehaviours:Zt([In.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(G){Vs.getField1(G).bind(Jr.getField).each(In.disable),Vs.getField2(G).bind(Jr.getField).each(In.disable),Vs.getLock(G).each(In.disable)},onEnabled:function(G){Vs.getField1(G).bind(Jr.getField).each(In.enable),Vs.getField2(G).bind(Jr.getField).each(In.enable),Vs.getLock(G).each(In.enable)}}),ti(),sr("size-input-events2",[$t(s,function(G,ee){var oe=ee.event.isField1,ve=oe?Vs.getField1(G):Vs.getField2(G),_e=oe?Vs.getField2(G):Vs.getField1(G),Ne=ve.map(an.getValue).getOr(""),we=_e.map(an.getValue).getOr("");o=jz(Ne,we)})])])})},Gz=ne(wn("undo")),qz=ne(wn("redo")),yB=ne(wn("zoom")),Kz=ne(wn("back")),Xz=ne(wn("apply")),Yz=ne(wn("swap")),Jz=ne(wn("transform")),Zz=ne(wn("temp-transform")),wB=ne(wn("transform-apply")),Au={undo:Gz,redo:qz,zoom:yB,back:Kz,apply:Xz,swap:Yz,transform:Jz,tempTransform:Zz,transformApply:wB},Qz=ne("save-state"),eF=ne("disable"),CB=ne("enable"),gs={formActionEvent:pv,saveState:Qz,disable:eF,enable:CB},tF=function(t,r){var o=function(dn,hr,la,Qa){return oa(RO({name:dn,text:dn,disabled:la,primary:Qa,icon:B.none(),borderless:!1},hr,r))},s=function(dn,hr,la,Qa){return oa(OO({name:dn,icon:B.some(dn),tooltip:B.some(hr),disabled:Qa,primary:!1,borderless:!1},la,r))},d=function(dn,hr){dn.map(function(la){var Qa=la.get(hr);Qa.hasConfigured(In)&&In.disable(Qa)})},g=function(dn,hr){dn.map(function(la){var Qa=la.get(hr);Qa.hasConfigured(In)&&In.enable(Qa)})},C={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},E=q,D=function(dn,hr,la){Fn(dn,hr,la)},$=function(dn){return Wr(dn,gs.disable())},U=function(dn){return Wr(dn,gs.enable())},G=function(dn,hr){$(dn),D(dn,Au.transform(),{transform:hr}),U(dn)},ee=function(dn,hr){$(dn),D(dn,Au.tempTransform(),{transform:hr}),U(dn)},oe=function(dn){return function(){Ev.getOpt(dn).each(function(hr){ar.set(hr,[rp])})}},ve=function(dn,hr){$(dn),D(dn,Au.transformApply(),{transform:hr,swap:oe(dn)}),U(dn)},_e=function(){return o("Back",function(dn){return D(dn,Au.back(),{swap:oe(dn)})},!1,!1)},Ne=function(){return oa({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Zt([In.config({})])})},we=function(){return o("Apply",function(dn){return D(dn,Au.apply(),{swap:oe(dn)})},!0,!0)},Fe=function(){return function(dn){var hr=t.getRect();return Rz(dn,hr.x,hr.y,hr.w,hr.h)}},vt=[_e(),Ne(),o("Apply",function(dn){var hr=Fe();ve(dn,hr),t.hideCrop()},!1,!0)],ft=ku.sketch({dom:C,components:vt.map(function(dn){return dn.asSpec()}),containerBehaviours:Zt([sr("image-tools-crop-buttons-events",[$t(gs.disable(),function(dn,hr){d(vt,dn)}),$t(gs.enable(),function(dn,hr){g(vt,dn)})])])}),ze=oa(bB({name:"size",label:B.none(),constrain:!0,disabled:!1},r)),nt=function(dn,hr){return function(la){return $z(la,dn,hr)}},_t=[_e(),Ne(),ze,Ne(),o("Apply",function(dn){ze.getOpt(dn).each(function(hr){var la=an.getValue(hr),Qa=parseInt(la.width,10),ws=parseInt(la.height,10),Xu=nt(Qa,ws);ve(dn,Xu)})},!1,!0)],on=ku.sketch({dom:C,components:_t.map(function(dn){return dn.asSpec()}),containerBehaviours:Zt([sr("image-tools-resize-buttons-events",[$t(gs.disable(),function(dn,hr){d(_t,dn)}),$t(gs.enable(),function(dn,hr){g(_t,dn)})])])}),Dt=function(dn,hr){return function(la){return dn(la,hr)}},ln=Dt(uB,"h"),Mt=Dt(uB,"v"),Ct=Dt(xO,-90),Xt=Dt(xO,90),Cn=function(dn,hr){ee(dn,hr)},Ot=[_e(),Ne(),s("flip-horizontally","Flip horizontally",function(dn){Cn(dn,ln)},!1),s("flip-vertically","Flip vertically",function(dn){Cn(dn,Mt)},!1),s("rotate-left","Rotate counterclockwise",function(dn){Cn(dn,Ct)},!1),s("rotate-right","Rotate clockwise",function(dn){Cn(dn,Xt)},!1),Ne(),we()],bn=ku.sketch({dom:C,components:Ot.map(function(dn){return dn.asSpec()}),containerBehaviours:Zt([sr("image-tools-fliprotate-buttons-events",[$t(gs.disable(),function(dn,hr){d(Ot,dn)}),$t(gs.enable(),function(dn,hr){g(Ot,dn)})])])}),En=function(dn,hr,la,Qa,ws){var Xu=Cf.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(dn)}}),dl=Cf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),Oc=Cf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return oa(Cf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:la,maxX:ws,getInitialValue:ne({x:Qa})},components:[Xu,dl,Oc],sliderBehaviours:Zt([er.config({})]),onChoose:hr}))},Or=function(dn,hr,la,Qa,ws){var Xu=function(dl,Oc,jy){var R_=Dt(hr,jy.x/100);G(dl,R_)};return En(dn,Xu,la,Qa,ws)},ia=function(dn,hr,la,Qa,ws){return[_e(),Or(dn,hr,la,Qa,ws),we()]},Pa=function(dn,hr,la,Qa,ws){var Xu=ia(dn,hr,la,Qa,ws);return ku.sketch({dom:C,components:Xu.map(function(dl){return dl.asSpec()}),containerBehaviours:Zt([sr("image-tools-filter-panel-buttons-events",[$t(gs.disable(),function(dl,Oc){d(Xu,dl)}),$t(gs.enable(),function(dl,Oc){g(Xu,dl)})])])})},so=[_e(),Ne(),we()],vl=ku.sketch({dom:C,components:so.map(function(dn){return dn.asSpec()})}),Tu=Pa("Brightness",Oz,-100,0,100),nA=Pa("Contrast",Dz,-100,0,100),gi=Pa("Gamma",Ez,-100,0,100),J1=function(dn,hr,la){return function(Qa){return Tz(Qa,dn,hr,la)}},Z1=function(dn){var hr=function(la,Qa,ws){var Xu=T_.getOpt(la),dl=O_.getOpt(la),Oc=Q1.getOpt(la);Xu.each(function(jy){dl.each(function(R_){Oc.each(function(Gy){var G7=an.getValue(jy).x/100,q7=an.getValue(Gy).x/100,tb=an.getValue(R_).x/100,qy=J1(G7,q7,tb);G(la,qy)})})})};return En(dn,hr,0,100,200)},T_=Z1("R"),Q1=Z1("G"),O_=Z1("B"),ys=[_e(),T_,Q1,O_,we()],Av=ku.sketch({dom:C,components:ys.map(function(dn){return dn.asSpec()})}),Ku=function(dn,hr,la){return function(Qa){var ws=function(){Ev.getOpt(Qa).each(function(Xu){ar.set(Xu,[dn]),la(Xu)})};D(Qa,Au.swap(),{transform:hr,swap:ws})}},D_=function(dn){t.showCrop()},np=function(dn){ze.getOpt(dn).each(function(hr){var la=t.getMeasurements(),Qa=la.width,ws=la.height;an.setValue(hr,{width:Qa,height:ws})})},Wy=B.some(Az),pi=B.some(kz),Lm=[s("crop","Crop",Ku(ft,B.none(),D_),!1),s("resize","Resize",Ku(on,B.none(),np),!1),s("orientation","Orientation",Ku(bn,B.none(),E),!1),s("brightness","Brightness",Ku(Tu,B.none(),E),!1),s("sharpen","Sharpen",Ku(vl,Wy,E),!1),s("contrast","Contrast",Ku(nA,B.none(),E),!1),s("color-levels","Color levels",Ku(Av,B.none(),E),!1),s("gamma","Gamma",Ku(gi,B.none(),E),!1),s("invert","Invert",Ku(vl,pi,E),!1)],rp=ku.sketch({dom:C,components:Lm.map(function(dn){return dn.asSpec()})}),eb=ku.sketch({dom:{tag:"div"},components:[rp],containerBehaviours:Zt([ar.config({})])}),Ev=oa(eb),ap=function(dn){return Ev.getOpt(dn).map(function(hr){var la=hr.components()[0];return la.components()[la.components().length-1]})};return{memContainer:Ev,getApplyButton:ap}},_B=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Vl=tinymce.util.Tools.resolve("tinymce.util.Observable"),Ny=tinymce.util.Tools.resolve("tinymce.util.VK"),IO=function(t){var r=Math.max,o=t.documentElement,s=t.body,d=r(o.scrollWidth,s.scrollWidth),g=r(o.clientWidth,s.clientWidth),C=r(o.offsetWidth,s.offsetWidth),E=r(o.scrollHeight,s.scrollHeight),D=r(o.clientHeight,s.clientHeight),$=r(o.offsetHeight,s.offsetHeight);return{width:d<C?g:d,height:E<$?D:E}},SB=function(t){return H(t.changedTouches)},A3=function(t){if(SB(t))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function E3(t,r){var o,s,d,g,C=[],E=[],D=(o=r.document)!==null&&o!==void 0?o:document,$=(s=r.root)!==null&&s!==void 0?s:D,U=sn.fromDom(D),G,ee,oe,ve=sn.fromDom($.getElementById((d=r.handle)!==null&&d!==void 0?d:t)),_e=function(vt){var ft=vt.raw,ze=IO(D);A3(ft),vt.prevent(),G=ft.button,ee=ft.screenX,oe=ft.screenY;var nt=ro(ve,"cursor");g=sn.fromTag("div",D),rs(g,{position:"absolute",top:"0",left:"0",width:ze.width+"px",height:ze.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:nt}),Hi(ko(U),g),E.push(wo(U,"mousemove",Ne),wo(U,"touchmove",Ne),wo(U,"mouseup",we),wo(U,"touchend",we)),r.start(ft)},Ne=function(vt){var ft=vt.raw;if(A3(ft),ft.button!==G)return we(vt);ft.deltaX=ft.screenX-ee,ft.deltaY=ft.screenY-oe,vt.prevent(),r.drag(ft)},we=function(vt){A3(vt.raw),pt(E,function(ft){return ft.unbind()}),E=[],Bu(g),r.stop&&r.stop(vt.raw)},Fe=function(){pt(E.concat(C),function(vt){return vt.unbind()}),E=[],C=[],H(g)&&Bu(g)};return C.push(wo(ve,"mousedown",_e),wo(ve,"touchstart",_e)),{destroy:Fe}}var nF=0,T3=function(t,r,o,s,d){var g,C=[],E="tox-",D=E+"crid-"+nF++,$=sn.fromDom(s),U=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],G=["top","right","bottom","left"],ee=function(Dt,ln){return{x:ln.x+Dt.x,y:ln.y+Dt.y,w:ln.w,h:ln.h}},oe=function(Dt,ln){return{x:ln.x-Dt.x,y:ln.y-Dt.y,w:ln.w,h:ln.h}},ve=function(){return oe(o,t)},_e=function(Dt,ln,Mt,Ct){var Xt=ln.x+Mt*Dt.deltaX,Cn=ln.y+Ct*Dt.deltaY,Ot=Math.max(20,ln.w+Mt*Dt.deltaW),bn=Math.max(20,ln.h+Ct*Dt.deltaH),En=t=_B.clamp({x:Xt,y:Cn,w:Ot,h:bn},o,Dt.name==="move");En=oe(o,En),on.fire("updateRect",{rect:En}),ze(En)},Ne=function(){var Dt=function(Xt){var Cn;return E3(D,{document:s.ownerDocument,root:xs($).dom,handle:D+"-"+Xt.name,start:function(){Cn=t},drag:function(Ot){_e(Xt,Cn,Ot.deltaX,Ot.deltaY)}})},ln=sn.fromTag("div");ns(ln,{id:D,class:E+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Hi($,ln),pt(G,function(Xt){jo($,"#"+D).each(function(Cn){var Ot=sn.fromTag("div");ns(Ot,{id:D+"-"+Xt,class:E+"croprect-block","data-mce-bogus":"all"}),Xn(Ot,"display","none"),Hi(Cn,Ot)})}),pt(U,function(Xt){jo($,"#"+D).each(function(Cn){var Ot=sn.fromTag("div");ns(Ot,{id:D+"-"+Xt.name,"aria-label":Xt.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:Xt.label}),Jd(Ot,[E+"croprect-handle",E+"croprect-handle-"+Xt.name]),Xn(Ot,"display","none"),Hi(Cn,Ot)})}),g=Ve(U,Dt),Fe(t);var Mt=function(Xt){cr(Xt.target,"aria-grabbed",Xt.raw.type==="focus"?"true":"false")},Ct=function(Xt){var Cn;pt(U,function(bn){if(Ha(Xt.target,"id")===D+"-"+bn.name)return Cn=bn,!1});var Ot=function(bn,En,Or,ia,Pa){bn.stopPropagation(),bn.preventDefault(),_e(Cn,Or,ia,Pa)};switch(Xt.raw.keyCode){case Ny.LEFT:Ot(Xt,Cn,t,-10,0);break;case Ny.RIGHT:Ot(Xt,Cn,t,10,0);break;case Ny.UP:Ot(Xt,Cn,t,0,-10);break;case Ny.DOWN:Ot(Xt,Cn,t,0,10);break;case Ny.ENTER:case Ny.SPACEBAR:Xt.prevent(),d();break}};C.push(wo($,"focusin",Mt),wo($,"focusout",Mt),wo($,"keydown",Ct))},we=function(Dt){var ln=ke(ke([],Ve(U,function(Ct){return"#"+D+"-"+Ct.name}),!0),Ve(G,function(Ct){return"#"+D+"-"+Ct}),!0).join(","),Mt=au($,ln);Dt?pt(Mt,function(Ct){return Kr(Ct,"display")}):pt(Mt,function(Ct){return Xn(Ct,"display","none")})},Fe=function(Dt){var ln=function(Mt,Ct){jo($,"#"+D+"-"+Mt).each(function(Xt){rs(Xt,{left:Ct.x+"px",top:Ct.y+"px",width:Math.max(0,Ct.w)+"px",height:Math.max(0,Ct.h)+"px"})})};pt(U,function(Mt){jo($,"#"+D+"-"+Mt.name).each(function(Ct){rs(Ct,{left:Dt.w*Mt.xMul+Dt.x+"px",top:Dt.h*Mt.yMul+Dt.y+"px"})})}),ln("top",{x:r.x,y:r.y,w:r.w,h:Dt.y-r.y}),ln("right",{x:Dt.x+Dt.w,y:Dt.y,w:r.w-Dt.x-Dt.w+r.x,h:Dt.h}),ln("bottom",{x:r.x,y:Dt.y+Dt.h,w:r.w,h:r.h-Dt.y-Dt.h+r.y}),ln("left",{x:r.x,y:Dt.y,w:Dt.x-r.x,h:Dt.h}),ln("move",Dt)},vt=function(Dt){t=Dt,Fe(t)},ft=function(Dt){r=Dt,Fe(t)},ze=function(Dt){vt(ee(o,Dt))},nt=function(Dt){o=Dt,Fe(t)},_t=function(){pt(g,function(Dt){return Dt.destroy()}),g=[],pt(C,function(Dt){return Dt.unbind()}),C=[]};Ne();var on=re(re({},Vl),{toggleVisibility:we,setClampRect:nt,setRect:vt,getInnerRect:ve,setInnerRect:ze,setViewPortRect:ft,destroy:_t});return on},rF={create:T3},g_=function(t){return new DC(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},xB=function(t){var r=oa({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=zn(1),s=tw(),d=zn({x:0,y:0,w:1,h:1}),g=zn({x:0,y:0,w:1,h:1}),C=function(Ne,we){ve.getOpt(Ne).each(function(Fe){var vt=o.get(),ft=Li(Fe.element),ze=Mo(Fe.element),nt=we.dom.naturalWidth*vt,_t=we.dom.naturalHeight*vt,on=Math.max(0,ft/2-nt/2),Dt=Math.max(0,ze/2-_t/2),ln={left:on.toString()+"px",top:Dt.toString()+"px",width:nt.toString()+"px",height:_t.toString()+"px",position:"absolute"};rs(we,ln),r.getOpt(Fe).each(function(Mt){rs(Mt.element,ln)}),s.run(function(Mt){var Ct=d.get();Mt.setRect({x:Ct.x*vt+on,y:Ct.y*vt+Dt,w:Ct.w*vt,h:Ct.h*vt}),Mt.setClampRect({x:on,y:Dt,w:nt,h:_t}),Mt.setViewPortRect({x:0,y:0,w:ft,h:ze})})})},E=function(Ne,we){ve.getOpt(Ne).each(function(Fe){var vt=Li(Fe.element),ft=Mo(Fe.element),ze=we.dom.naturalWidth,nt=we.dom.naturalHeight,_t=Math.min(vt/ze,ft/nt);_t>=1?o.set(1):o.set(_t)})},D=function(Ne,we){var Fe=sn.fromTag("img");return cr(Fe,"src",we),g_(Fe.dom).then(function(){Ne.getSystem().isConnected()&&ve.getOpt(Ne).map(function(vt){var ft=Ub({element:Fe});ar.replaceAt(vt,1,B.some(ft));var ze=g.get(),nt={x:0,y:0,w:Fe.dom.naturalWidth,h:Fe.dom.naturalHeight};g.set(nt);var _t=_B.inflate(nt,-20,-20);d.set(_t),(ze.w!==nt.w||ze.h!==nt.h)&&E(vt,Fe),C(vt,Fe)})})},$=function(Ne,we){var Fe=o.get(),vt=we>0?Math.min(2,Fe+.1):Math.max(.1,Fe-.1);o.set(vt),ve.getOpt(Ne).each(function(ft){var ze=ft.components()[1].element;C(ft,ze)})},U=function(){s.run(function(Ne){Ne.toggleVisibility(!0)})},G=function(){s.run(function(Ne){Ne.toggleVisibility(!1)})},ee=function(){return d.get()},oe=ku.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Zt([sr("image-panel-crop-events",[ur(function(Ne){ve.getOpt(Ne).each(function(we){var Fe=we.element.dom,vt=rF.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Fe,q);vt.toggleVisibility(!1),vt.on("updateRect",function(ft){var ze=ft.rect,nt=o.get(),_t={x:Math.round(ze.x/nt),y:Math.round(ze.y/nt),w:Math.round(ze.w/nt),h:Math.round(ze.h/nt)};d.set(_t)}),s.set(vt)})}),Ms(function(){s.clear()})])])}],containerBehaviours:Zt([ar.config({}),sr("image-panel-events",[ur(function(Ne){D(Ne,t)})])])}),ve=oa(oe),_e=function(){var Ne=g.get();return{width:Ne.w,height:Ne.h}};return{memContainer:ve,updateSrc:D,zoom:$,showCrop:U,hideCrop:G,getRect:ee,getMeasurements:_e}},Us=function(t,r,o,s,d){return OO({name:t,icon:B.some(r),disabled:o,tooltip:B.some(t),primary:!1,borderless:!1},s,d)},kB=function(t,r){r?In.enable(t):In.disable(t)},AB=function(t){var r=function(g,C,E){o.getOpt(g).each(function(D){kB(D,C)}),s.getOpt(g).each(function(D){kB(D,E)})},o=oa(Us("Undo","undo",!0,function(g){Fn(g,Au.undo(),{direction:1})},t)),s=oa(Us("Redo","redo",!0,function(g){Fn(g,Au.redo(),{direction:1})},t)),d=ku.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),s.asSpec(),Us("Zoom in","zoom-in",!1,function(g){Fn(g,Au.zoom(),{direction:1})},t),Us("Zoom out","zoom-out",!1,function(g){Fn(g,Au.zoom(),{direction:-1})},t)]});return{container:d,updateButtonUndoStates:r}};function aF(){var t=[],r=-1,o=function(E){var D=t.splice(++r);return t.push(E),{state:E,removed:D}},s=function(){if(g())return t[--r]},d=function(){if(C())return t[++r]},g=function(){return r>0},C=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:s,redo:d,canUndo:g,canRedo:C}}var oF=function(t){var r=zn(t),o=mo(),s=aF();s.add(t);var d=function(){return r.get()},g=function(Fe){r.set(Fe)},C=function(){return o.get().getOrThunk(r.get)},E=function(Fe){var vt=D(Fe);return G(),o.set(vt),vt.url},D=function(Fe){return{blob:Fe,url:URL.createObjectURL(Fe)}},$=function(Fe){URL.revokeObjectURL(Fe.url)},U=function(Fe){Kg.each(Fe,$)},G=function(){o.on($),o.clear()},ee=function(Fe){var vt=D(Fe);g(vt);var ft=s.add(vt).removed;return U(ft),vt.url},oe=function(Fe){var vt=D(Fe);return o.set(vt),vt.url},ve=function(Fe){return o.get().fold(q,function(vt){ee(vt.blob),Fe()})},_e=function(){var Fe=s.undo();return g(Fe),Fe.url},Ne=function(){var Fe=s.redo();return g(Fe),Fe.url},we=function(){var Fe=s.canUndo(),vt=s.canRedo();return{undoEnabled:Fe,redoEnabled:vt}};return{getBlobState:d,setBlobState:g,addBlobState:ee,getTempState:C,updateTempState:E,addTempState:oe,applyTempState:ve,destroyTempState:G,undo:_e,redo:Ne,getHistoryStates:we}},iF=function(t,r){var o=oF(t.currentState),s=function(Mt,Ct){var Xt=Ct.event.direction;_t.zoom(Mt,Xt)},d=function(Mt){var Ct=o.getHistoryStates();on.updateButtonUndoStates(Mt,Ct.undoEnabled,Ct.redoEnabled),Fn(Mt,gs.formActionEvent,{name:gs.saveState(),value:Ct.undoEnabled})},g=function(Mt){on.updateButtonUndoStates(Mt,!1,!1)},C=function(Mt,Ct){var Xt=o.undo();G(Mt,Xt).then(function(Cn){U(Mt),d(Mt)})},E=function(Mt,Ct){var Xt=o.redo();G(Mt,Xt).then(function(Cn){U(Mt),d(Mt)})},D=function(Mt){return Mt.toBlob()},$=function(Mt){Fn(Mt,gs.formActionEvent,{name:gs.disable(),value:{}})},U=function(Mt){Dt.getApplyButton(Mt).each(function(Ct){In.enable(Ct)}),Fn(Mt,gs.formActionEvent,{name:gs.enable(),value:{}})},G=function(Mt,Ct){return $(Mt),_t.updateSrc(Mt,Ct)},ee=function(Mt,Ct,Xt,Cn,Ot){$(Mt),fz(Ct).then(Xt).then(D).then(Cn).then(function(bn){return G(Mt,bn)}).then(function(){d(Mt),Ot(),U(Mt)}).catch(function(bn){console.log(bn),Mt.getSystem().isConnected()&&U(Mt)})},oe=function(Mt,Ct,Xt){var Cn=o.getBlobState().blob,Ot=function(bn){return o.updateTempState(bn)};ee(Mt,Cn,Ct,Ot,Xt)},ve=function(Mt,Ct){var Xt=o.getTempState().blob,Cn=function(Ot){return o.addTempState(Ot)};ee(Mt,Xt,Ct,Cn,q)},_e=function(Mt,Ct,Xt){var Cn=o.getBlobState().blob,Ot=function(bn){var En=o.addBlobState(bn);return we(Mt),En};ee(Mt,Cn,Ct,Ot,Xt)},Ne=function(Mt,Ct){var Xt=function(){we(Mt);var Cn=Ct.event.swap;Cn()};o.applyTempState(Xt)},we=function(Mt){var Ct=o.getBlobState().url;return o.destroyTempState(),d(Mt),Ct},Fe=function(Mt){var Ct=we(Mt);G(Mt,Ct).then(function(Xt){U(Mt)})},vt=function(Mt,Ct){Fe(Mt);var Xt=Ct.event.swap;Xt(),_t.hideCrop()},ft=function(Mt,Ct){return oe(Mt,Ct.event.transform,q)},ze=function(Mt,Ct){return ve(Mt,Ct.event.transform)},nt=function(Mt,Ct){return _e(Mt,Ct.event.transform,Ct.event.swap)},_t=xB(t.currentState.url),on=AB(r),Dt=tF(_t,r),ln=function(Mt,Ct){g(Mt);var Xt=Ct.event.transform,Cn=Ct.event.swap;Xt.fold(function(){Cn()},function(Ot){oe(Mt,Ot,Cn)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Dt.memContainer.asSpec(),_t.memContainer.asSpec(),on.container],behaviours:Zt([an.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),sr("image-tools-events",[$t(Au.undo(),C),$t(Au.redo(),E),$t(Au.zoom(),s),$t(Au.back(),vt),$t(Au.apply(),Ne),$t(Au.transform(),ft),$t(Au.tempTransform(),ze),$t(Au.transformApply(),nt),$t(Au.swap(),ln)]),wv.self()])}},uF=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},s=Ve(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:Zt([wv.self(),ar.config({}),Mm.domHtml(B.none()),Hn.config({mode:"acyclic"})])}},NO=function(t){return!Pr(t,"items")},EB="data-value",TB=function(t,r,o,s){return Ve(o,function(d){return NO(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===s,onAction:function(){an.setValue(t,d.value),Fn(t,Hl,{name:r}),er.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:function(){return TB(t,r,d.items,s)}}})},OB=function(t,r){return Qr(t,function(o){return NO(o)?qs(o.value===r,o):OB(o.items,r)})},sF=function(t,r){var o=r.shared.providers,s=ir(t.items).filter(NO),d=t.label.map(function(E){return Dm(E,o)}),g=Jr.parts.field({dom:{},factory:{sketch:function(E){return C3({uid:E.uid,text:s.map(function(D){return D.text}),icon:B.none(),tooltip:t.label,role:B.none(),fetch:function(D,$){var U=TB(D,t.name,t.items,an.getValue(D));$(Iy(U,uu.CLOSE_ON_EXECUTE,r,!1))},onSetup:ne(q),getApi:ne({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Oo.config({}),an.config({store:{mode:"manual",initialValue:s.map(function(D){return D.value}).getOr(""),getValue:function(D){return Ha(D.element,EB)},setValue:function(D,$){OB(t.items,$).each(function(U){cr(D.element,EB,U.value),Fn(D,H1,{text:U.text})})}}})]},"tox-listbox",r.shared)}}}),C={dom:{tag:"div",classes:["tox-listboxfield"]},components:[g]};return Jr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ut([d.toArray(),[C]]),fieldBehaviours:Zt([In.config({disabled:ne(t.disabled),onDisabled:function(E){Jr.getField(E).each(In.disable)},onEnabled:function(E){Jr.getField(E).each(In.enable)}})])})},DB=function(t,r){return{dom:{tag:"div",classes:t.classes},components:Ve(t.items,r.shared.interpreter)}},RB=function(t,r){var o=Ve(t.options,function(d){return{dom:{tag:"option",value:d.value,innerHtml:d.text}}}),s=t.data.map(function(d){return Wc("initialValue",d)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:li(t.selectBehaviours,[er.config({}),an.config({store:re({mode:"manual",getValue:function(d){return Jc(d.element)},setValue:function(d,g){var C=bt(t.options,function(E){return E.value===g});C.isSome()&&Nh(d.element,g)}},s)})])}},$B=Ls({name:"HtmlSelect",configFields:[At("options"),Xo("selectBehaviours",[er,an]),He("selectClasses",[]),He("selectAttributes",{}),Xr("data")],factory:RB}),lF=function(t,r){var o=Ve(t.items,function(E){return{text:r.translate(E.text),value:E.value}}),s=t.label.map(function(E){return Dm(E,r)}),d=Jr.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:$B,selectBehaviours:Zt([In.config({disabled:function(){return t.disabled||r.isDisabled()}}),Oo.config({}),sr("selectbox-change",[$t(Th(),function(E,D){Fn(E,Hl,{name:t.name})})])])}),g=t.size>1?B.none():B.some(gv("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),C={dom:{tag:"div",classes:["tox-selectfield"]},components:ut([[d],g.toArray()])};return Jr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ut([s.toArray(),[C]]),fieldBehaviours:Zt([In.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(E){Jr.getField(E).each(In.disable)},onEnabled:function(E){Jr.getField(E).each(In.enable)}}),ti()])})},BB=function(t,r){var o=function(E){return{dom:{tag:"th",innerHtml:r.translate(E)}}},s=function(E){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ve(E,o)}]}},d=function(E){return{dom:{tag:"td",innerHtml:r.translate(E)}}},g=function(E){return{dom:{tag:"tr"},components:Ve(E,d)}},C=function(E){return{dom:{tag:"tbody"},components:Ve(E,g)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(t.header),C(t.cells)],behaviours:Zt([Oo.config({}),er.config({})])}},MB=function(t,r){var o=t.label.map(function(ee){return Dm(ee,r)}),s=[In.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),Hn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(ee){return Wr(ee,cl),B.some(!0)}}),sr("textfield-change",[$t(Vd(),function(ee,oe){Fn(ee,Hl,{name:t.name})}),$t(w2(),function(ee,oe){Fn(ee,Hl,{name:t.name})})]),Oo.config({})],d=t.validation.map(function(ee){return bv.config({getRoot:function(oe){return xo(oe.element)},invalidClass:"tox-invalid",validator:{validate:function(oe){var ve=an.getValue(oe),_e=ee.validator(ve);return Xi.pure(_e===!0?dr.value(ve):dr.error(_e))},validateOnLoad:ee.validateOnLoad}})}).toArray(),g=t.placeholder.fold(ne({}),function(ee){return{placeholder:r.translate(ee)}}),C=t.inputMode.fold(ne({}),function(ee){return{inputmode:ee}}),E=re(re({},g),C),D=Jr.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:E,inputClasses:[t.classname],inputBehaviours:Zt(ut([s,d])),selectOnFocus:!1,factory:YC}),$=t.flex?["tox-form__group--stretched"]:[],U=$.concat(t.maximized?["tox-form-group--maximize"]:[]),G=[In.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(ee){Jr.getField(ee).each(In.disable)},onEnabled:function(ee){Jr.getField(ee).each(In.enable)}}),ti()];return KC(o,D,U,G)},cF=function(t,r){return MB({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:B.none(),maximized:t.maximized},r)},fF=function(t,r){return MB({name:t.name,multiline:!0,label:t.label,inputMode:B.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:B.none(),maximized:t.maximized},r)},vF=function(t,r){var o=t.stream.streams,s=o.setup(t,r);return _a([$t(t.event,s),Ms(function(){return r.cancel()})].concat(t.cancelEvent.map(function(d){return[$t(d,function(){return r.cancel()})]}).getOr([])))},dF=Object.freeze({__proto__:null,events:vF}),PB=function(t){var r=zn(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},s=function(g){r.set(g)},d=function(){var g=r.get();g!==null&&g.cancel()};return Gi({readState:o,setTimer:s,cancel:d})},mF=function(t){return t.stream.streams.state(t)},hF=Object.freeze({__proto__:null,throttle:PB,init:mF}),gF=function(t,r){var o=t.stream,s=HE(t.onStream,o.delay);return r.setTimer(s),function(d,g){s.throttle(d,g),o.stopEvent&&g.stop()}},pF=[Iu("stream",el("mode",{throttle:[At("delay"),He("stopEvent",!0),ka("streams",{setup:gF,state:PB})]})),He("event","input"),Xr("cancelEvent"),wu("onStream")],IB=Ko({fields:pF,name:"streaming",active:dF,state:hF}),O3=function(t,r,o){var s=an.getValue(o);an.setValue(r,s),zB(r)},NB=function(t,r){var o=t.element,s=Jc(o),d=o.dom;Ha(o,"type")!=="number"&&r(d,s)},zB=function(t){NB(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},FB=function(t,r){NB(t,function(o,s){return o.setSelectionRange(r,s.length)})},bF=function(t,r,o){if(t.selectsOver){var s=an.getValue(r),d=t.getDisplayText(s),g=an.getValue(o),C=t.getDisplayText(g);return C.indexOf(d)===0?B.some(function(){O3(t,r,o),FB(r,d.length)}):B.none()}else return B.none()},zO=ne("alloy.typeahead.itemexecute"),LB=function(t,r,o,s){var d=function(D,$,U){t.previewing.set(!1);var G=Do.getCoupled(D,"sandbox");if(Br.isOpen(G))Sr.getCurrent(G).each(function(oe){na.getHighlighted(oe).fold(function(){U(oe)},function(){oS(G,oe.element,"keydown",$)})});else{var ee=function(oe){Sr.getCurrent(oe).each(U)};Zk(t,C(D),D,G,s,ee,pf.HighlightFirst).get(q)}},g=Xk(t),C=function(D){return function($){return $.map(function(U){var G=wi(U.menus),ee=jt(G,function(ve){return Ae(ve.items,function(_e){return _e.type==="item"})}),oe=an.getState(D);return oe.update(Ve(ee,function(ve){return ve.data})),U})}},E=[er.config({}),an.config({onSetValue:t.onSetValue,store:re({mode:"dataset",getDataKey:function(D){return Jc(D.element)},getFallbackEntry:function(D){return{value:D,meta:{}}},setValue:function(D,$){Nh(D.element,t.model.getDisplayText($))}},t.initialData.map(function(D){return Wc("initialValue",D)}).getOr({}))}),IB.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(D,$){var U=Do.getCoupled(D,"sandbox"),G=er.isFocused(D);if(G&&Jc(D.element).length>=t.minChars){var ee=Sr.getCurrent(U).bind(function(ve){return na.getHighlighted(ve).map(an.getValue)});t.previewing.set(!0);var oe=function(ve){Sr.getCurrent(U).each(function(_e){ee.fold(function(){t.model.selectsOver&&na.highlightFirst(_e)},function(Ne){na.highlightBy(_e,function(we){var Fe=an.getValue(we);return Fe.value===Ne.value}),na.getHighlighted(_e).orThunk(function(){return na.highlightFirst(_e),B.none()})})})};Zk(t,C(D),D,U,s,oe,pf.HighlightFirst).get(q)}},cancelEvent:C2()}),Hn.config({mode:"special",onDown:function(D,$){return d(D,$,na.highlightFirst),B.some(!0)},onEscape:function(D){var $=Do.getCoupled(D,"sandbox");return Br.isOpen($)?(Br.close($),B.some(!0)):B.none()},onUp:function(D,$){return d(D,$,na.highlightLast),B.some(!0)},onEnter:function(D){var $=Do.getCoupled(D,"sandbox"),U=Br.isOpen($);if(U&&!t.previewing.get())return Sr.getCurrent($).bind(function(ee){return na.getHighlighted(ee)}).map(function(ee){return Fn(D,zO(),{item:ee}),!0});var G=an.getValue(D);return Wr(D,C2()),t.onExecute($,D,G),U&&Br.close($),B.some(!0)}}),Nr.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Do.config({others:{sandbox:function(D){return VT(t,D,{onOpen:function(){return Nr.on(D)},onClose:function(){return Nr.off(D)}})}}}),sr("typeaheadevents",[cs(function(D){var $=q;Dy(t,C(D),D,s,$,pf.HighlightFirst).get(q)}),$t(zO(),function(D,$){var U=Do.getCoupled(D,"sandbox");O3(t.model,D,$.event.item),Wr(D,C2()),t.onItemExecute(D,U,$.event.item,an.getValue(D)),Br.close(U),zB(D)})].concat(t.dismissOnBlur?[$t(y2(),function(D){var $=Do.getCoupled(D,"sandbox");mc($.element).isNone()&&Br.close($)})]:[]))];return{uid:t.uid,dom:Yk(yt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:re(re({},g),li(t.typeaheadBehaviours,E)),eventOrder:t.eventOrder}},yF=ne([Xr("lazySink"),At("fetch"),He("minChars",5),He("responseTime",1e3),Yr("onOpen"),He("getHotspot",B.some),He("getAnchorOverrides",ne({})),He("layouts",B.none()),He("eventOrder",{}),c2("model",{},[He("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),He("selectsOver",!0),He("populateFromBrowse",!0)]),Yr("onSetValue"),Go("onExecute"),Yr("onItemExecute"),He("inputClasses",[]),He("inputAttributes",{}),He("inputStyles",{}),He("matchWidth",!0),He("useMinWidth",!1),He("dismissOnBlur",!0),tm(["openClass"]),Xr("initialData"),Xo("typeaheadBehaviours",[er,an,IB,Hn,Nr,Do]),hu("previewing",function(){return zn(!0)})].concat(FR()).concat(UT())),wF=ne([Fs({schema:[em()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(s){bF(t.model,s,o).fold(function(){return na.dehighlight(r,o)},function(d){return d()})}):r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&O3(t.model,s,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(s){return Fn(s,zO(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&O3(t.model,s,o)})}}}})]),CF=xu({name:"Typeahead",configFields:yF(),partFields:wF(),factory:LB}),_f=function(t){var r=function(){return _f(t.toCached())},o=function(D){return _f(t.bind(function($){return $.fold(function(U){return Xi.pure(dr.error(U))},function(U){return D(U)})}))},s=function(D){return _f(t.map(function($){return $.bind(D)}))},d=function(D){return _f(t.map(function($){return $.map(D)}))},g=function(D){return _f(t.map(function($){return $.mapError(D)}))},C=function(D,$){return t.map(function(U){return U.fold(D,$)})},E=function(D,$){return _f(Xi.nu(function(U){var G=!1,ee=setTimeout(function(){G=!0,U(dr.error($()))},D);t.get(function(oe){G||(clearTimeout(ee),U(oe))})}))};return re(re({},t),{toCached:r,bindFuture:o,bindResult:s,mapResult:d,mapError:g,foldResult:C,withTimeout:E})},HB=function(t){return _f(Xi.nu(t))},VB=function(t){return _f(Xi.pure(dr.value(t)))},D3=function(t){return _f(Xi.pure(dr.error(t)))},_F=function(t){return _f(Xi.pure(t))},SF=function(t){return _f(t.map(dr.value))},xF=function(t){return HB(function(r){t.then(function(o){r(dr.value(o))},function(o){r(dr.error(o))})})},kF={nu:HB,wrap:_f,pure:VB,value:VB,error:D3,fromResult:_F,fromFuture:SF,fromPromise:xF},AF={type:"separator"},EF=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:q}},FO=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:q}},UB=function(t){return Ve(t,EF)},TF=function(t,r){return Ae(r,function(o){return o.type===t})},WB=function(t,r){return UB(TF(t,r))},OF=function(t){return WB("header",t.targets)},DF=function(t){return WB("anchor",t.targets)},RF=function(t){return B.from(t.anchorTop).map(function(r){return FO("<top>",r)}).toArray()},$F=function(t){return B.from(t.anchorBottom).map(function(r){return FO("<bottom>",r)}).toArray()},BF=function(t){return Ve(t,function(r){return FO(r,r)})},jB=function(t){return et(t,function(r,o){var s=r.length===0||o.length===0;return s?r.concat(o):r.concat(AF,o)},[])},LO=function(t,r){var o=t.toLowerCase();return Ae(r,function(s){var d=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return ma(d.toLowerCase(),o)||ma(s.value.toLowerCase(),o)})},MF=function(t,r,o){var s=an.getValue(r),d=s.meta.text!==void 0?s.meta.text:s.value,g=o.getLinkInformation();return g.fold(function(){return[]},function(C){var E=LO(d,BF(o.getHistory(t)));return t==="file"?jB([E,LO(d,OF(C)),LO(d,ut([RF(C),DF(C),$F(C)]))]):E})},GB=wn("aria-invalid"),PF=function(t,r,o){var s,d=r.shared.providers,g=function(we){var Fe=an.getValue(we);o.addToHistory(Fe.value,t.filetype)},C=Jr.parts.field({factory:CF,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":GB,type:"url"},minChars:0,responseTime:0,fetch:function(we){var Fe=MF(t.filetype,we,o),vt=Iy(Fe,uu.BUBBLE_TO_SANDBOX,r,!1);return Xi.pure(vt)},getHotspot:function(we){return oe.getOpt(we)},onSetValue:function(we,Fe){we.hasConfigured(bv)&&bv.run(we).get(q)},typeaheadBehaviours:Zt(ut([o.getValidationHandler().map(function(we){return bv.config({getRoot:function(Fe){return xo(Fe.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Fe,vt){$.getOpt(Fe).each(function(ft){cr(ft.element,"title",d.translate(vt))})}},validator:{validate:function(Fe){var vt=an.getValue(Fe);return kF.nu(function(ft){we({type:t.filetype,url:vt.value},function(ze){if(ze.status==="invalid"){var nt=dr.error(ze.message);ft(nt)}else{var _t=dr.value(ze.message);ft(_t)}})})},validateOnLoad:!1}})}).toArray(),[In.config({disabled:function(){return t.disabled||d.isDisabled()}}),Oo.config({}),sr("urlinput-events",ut([t.filetype==="file"?[$t(Vd(),function(we){Fn(we,Hl,{name:t.name})})]:[],[$t(Th(),function(we){Fn(we,Hl,{name:t.name}),g(we)}),$t(w2(),function(we){Fn(we,Hl,{name:t.name}),g(we)})]]))]])),eventOrder:(s={},s[Vd()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(we){return we.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:k1(!1,1,"normal")},onExecute:function(we,Fe,vt){Fn(Fe,cl,{})},onItemExecute:function(we,Fe,vt,ft){g(we),Fn(we,Hl,{name:t.name})}}),E=t.label.map(function(we){return Dm(we,d)}),D=function(we,Fe,vt,ft){return vt===void 0&&(vt=we),ft===void 0&&(ft=we),gv(vt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+we],attributes:re({title:d.translate(ft),"aria-live":"polite"},Fe.fold(function(){return{}},function(ze){return{id:ze}}))},d.icons)},$=oa(D("invalid",B.some(GB),"warning")),U=oa({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[$.asSpec()]}),G=o.getUrlPicker(t.filetype),ee=wn("browser.url.event"),oe=oa({dom:{tag:"div",classes:["tox-control-wrap"]},components:[C,U.asSpec()],behaviours:Zt([In.config({disabled:function(){return t.disabled||d.isDisabled()}})])}),ve=oa(RO({name:t.name,icon:B.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(we){return Wr(we,ee)},d,[],["tox-browse-url"])),_e=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ut([[oe.asSpec()],G.map(function(){return ve.asSpec()}).toArray()])}},Ne=function(we){Sr.getCurrent(we).each(function(Fe){var vt=an.getValue(Fe),ft=re({fieldname:t.name},vt);G.each(function(ze){ze(ft).get(function(nt){an.setValue(Fe,nt),Fn(we,Hl,{name:t.name})})})})};return Jr.sketch({dom:PI(),components:E.toArray().concat([_e()]),fieldBehaviours:Zt([In.config({disabled:function(){return t.disabled||d.isDisabled()},onDisabled:function(we){Jr.getField(we).each(In.disable),ve.getOpt(we).each(In.disable)},onEnabled:function(we){Jr.getField(we).each(In.enable),ve.getOpt(we).each(In.enable)}}),ti(),sr("url-input-events",[$t(ee,Ne)])])})},IF=function(t,r){return ku.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:V5(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){Fn(o,pv,{name:"alert-banner",value:t.url})},buttonBehaviours:Zt([NE()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},NF=function(t,r){var o=an.config({store:{mode:"manual",getValue:function(D){var $=D.element.dom;return $.checked},setValue:function(D,$){var U=D.element.dom;U.checked=$}}}),s=function(D){return D.element.dom.click(),B.some(!0)},d=Jr.parts.field({factory:{sketch:ge},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Zt([wv.self(),In.config({disabled:function(){return t.disabled||r.isDisabled()}}),Oo.config({}),er.config({}),o,Hn.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),sr("checkbox-events",[$t(Th(),function(D,$){Fn(D,Hl,{name:t.name})})])])}),g=Jr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:Zt([ZC.config({})])}),C=function(D){var $=D==="checked"?"selected":"unselected";return gv($,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+D]},r.icons)},E=oa({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[C("checked"),C("unchecked")]});return Jr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,E.asSpec(),g],fieldBehaviours:Zt([In.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(D){Jr.getField(D).each(In.disable)},onEnabled:function(D){Jr.getField(D).each(In.enable)}}),ti()])})},qB=function(t){return t.presets==="presentation"?ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Zt([Oo.config({}),er.config({})])})},_o=function(t){return function(r,o,s){return Tn(o,"name").fold(function(){return t(o,s)},function(d){return r.field(d,t(o,s))})}},R3=function(t){return function(r,o,s){var d=yt(o,{source:"dynamic"});return _o(t)(r,d,s)}},zF={bar:_o(function(t,r){return O1(t,r.shared)}),collection:_o(function(t,r){return Kk(t,r.shared.providers)}),alertbanner:_o(function(t,r){return IF(t,r.shared.providers)}),input:_o(function(t,r){return cF(t,r.shared.providers)}),textarea:_o(function(t,r){return fF(t,r.shared.providers)}),label:_o(function(t,r){return uF(t,r.shared)}),iframe:R3(function(t,r){return j$(t,r.shared.providers)}),button:_o(function(t,r){return Hz(t,r.shared.providers)}),checkbox:_o(function(t,r){return NF(t,r.shared.providers)}),colorinput:_o(function(t,r){return eN(t,r.shared,r.colorinput)}),colorpicker:_o(KN),dropzone:_o(function(t,r){return tz(t,r.shared.providers)}),grid:_o(function(t,r){return U$(t,r.shared)}),listbox:_o(function(t,r){return sF(t,r)}),selectbox:_o(function(t,r){return lF(t,r.shared.providers)}),sizeinput:_o(function(t,r){return bB(t,r.shared.providers)}),urlinput:_o(function(t,r){return PF(t,r,r.urlinput)}),customeditor:_o(YN),htmlpanel:_o(qB),imagetools:_o(function(t,r){return iF(t,r.shared.providers)}),table:_o(function(t,r){return BB(t,r.shared.providers)}),panel:_o(function(t,r){return DB(t,r)})},FF={field:function(t,r){return r}},$3=function(t,r,o){var s=yt(o,{shared:{interpreter:function(d){return HO(t,d,s)}}});return HO(t,r,s)},HO=function(t,r,o){return Tn(zF,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(s){return s(t,r,o)})},LF=function(t,r){var o=FF;return HO(o,t,r)},B3={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},KB=function(t,r,o){var s=12,d={maxHeightFunction:Xh()},g=function(){return{type:"node",root:Ql(t()),node:B.from(t()),bubble:sm(s,s,B3),layouts:{onRtl:function(){return[Pg]},onLtr:function(){return[Mg]}},overrides:d}},C=function(){return{type:"hotspot",hotspot:r(),bubble:sm(-s,s,B3),layouts:{onRtl:function(){return[qi]},onLtr:function(){return[ei]}},overrides:d}};return function(){return o()?g():C()}},XB=function(t,r,o){var s=function(){return{type:"node",root:Ql(t()),node:B.from(t()),layouts:{onRtl:function(){return[_c]},onLtr:function(){return[_c]}}}},d=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[No]},onLtr:function(){return[No]}}}};return function(){return o()?s():d()}},HF=function(t,r){return function(){return{type:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return B.some(Zh.range(sn.fromDom(o.startContainer),o.startOffset,sn.fromDom(o.endContainer),o.endOffset))}}}},VF=function(t){return function(r){return{type:"node",root:t(),node:r}}},UF=function(t,r,o){var s=Pk(t),d=function(){return sn.fromDom(t.getBody())},g=function(){return sn.fromDom(t.getContentAreaContainer())},C=function(){return s||!o()};return{inlineDialog:KB(g,r,C),banner:XB(g,r,C),cursor:HF(t,d),node:VF(d)}},WF=function(t){return function(r,o){var s=pR(t);s(r,o)}},jF=function(t){return function(){return cR(t)}},YB=function(t){return function(){return xT(t)}},GF=function(t){return function(){return vR(t)}},JB=function(t){return{colorPicker:WF(t),hasCustomColors:jF(t),getColors:YB(t),getColorCols:GF(t)}},qF=function(t){return function(){return BD(t)}},KF=function(t){return{isDraggableModal:qF(t)}},VO=function(t){var r=zn(TD(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},M3=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],p_=function(t){return Pr(t,"items")},XF=function(t){return Pr(t,"block")},YF=function(t){return Pr(t,"inline")},JF=function(t){return Pr(t,"selector")},ZB=function(t){return et(t,function(r,o){if(p_(o)){var s=ZB(o.items);return{customFormats:r.customFormats.concat(s.customFormats),formats:r.formats.concat([{title:o.title,items:s.formats}])}}else if(YF(o)||XF(o)||JF(o)){var d=_(o.name)?o.name:o.title.toLowerCase(),g="custom-"+d;return{customFormats:r.customFormats.concat([{name:g,format:o}]),formats:r.formats.concat([{title:o.title,format:g,icon:o.icon}])}}else return re(re({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},ZF=function(t,r){var o=ZB(r),s=function(d){pt(d,function(g){t.formatter.has(g.name)||t.formatter.register(g.name,g.format)})};return t.formatter?s(o.customFormats):t.on("init",function(){s(o.customFormats)}),o.formats},UO=function(t){return iP(t).map(function(r){var o=ZF(t,r);return uP(t)?M3.concat(o):o}).getOr(M3)},WO=function(t,r,o){var s={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return yt(t,s)},jO=function(t,r,o,s){var d=function(D){return WO(D,o,s)},g=function(D){var $={type:"submenu"};return yt(D,$)},C=function(D){var $=_(D.name)?D.name:wn(D.title),U="custom-"+$,G={type:"formatter",format:U,isSelected:o(U),getStylePreview:s(U)},ee=yt(D,G);return t.formatter.register($,ee),ee},E=function(D){return Ve(D,function($){var U=Hr($);if(lo($,"items")){var G=E($.items);return yt(g($),{getStyleItems:ne(G)})}else return lo($,"format")?d($):U.length===1&&ct(U,"title")?yt($,{type:"separator"}):C($)})};return E(r)},QF=function(t){var r=function(G){return function(){return t.formatter.match(G)}},o=function(G){return function(){var ee=t.formatter.get(G);return ee!==void 0?B.some({tag:ee.length>0&&(ee[0].inline||ee[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(G))}):B.none()}},s=function(G){var ee=G.items;return ee!==void 0&&ee.length>0?jt(ee,s):[G.format]},d=zn([]),g=zn([]),C=zn([]),E=zn([]),D=zn(!1);t.on("PreInit",function(G){var ee=UO(t),oe=jO(t,ee,r,o);d.set(oe),g.set(jt(oe,s))}),t.on("addStyleModifications",function(G){var ee=jO(t,G.items,r,o);C.set(ee),D.set(G.replace),E.set(jt(ee,s))});var $=function(){var G=D.get()?[]:d.get(),ee=C.get();return G.concat(ee)},U=function(){var G=D.get()?[]:g.get(),ee=E.get();return G.concat(ee)};return{getData:$,getFlattenedKeys:U}},eL=function(t){return H(t)&&t.nodeType===1},tL=Kg.trim,QB=function(t){return function(r){return!!(eL(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},nL=QB("true"),eM=QB("false"),tM=function(t,r,o,s,d){return{type:t,title:r,url:o,level:s,attach:d}},rL=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return nL(t)}return!1},aL=function(t,r){return Ve(au(sn.fromDom(r),t),function(o){return o.dom})},nM=function(t){return t.innerText||t.textContent},rM=function(t){return t.id?t.id:wn("h")},V1=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},aM=function(t){return V1(t)&&iM(t)},oM=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},iM=function(t){return rL(t)&&!eM(t)},oL=function(t){return oM(t)&&iM(t)},uM=function(t){return oM(t)?parseInt(t.nodeName.substr(1),10):0},iL=function(t){var r=rM(t),o=function(){t.id=r};return tM("header",nM(t),"#"+r,uM(t),o)},uL=function(t){var r=t.id||t.name,o=nM(t);return tM("anchor",o||"#"+r,"#"+r,0,q)},sL=function(t){return Ve(Ae(t,oL),iL)},lL=function(t){return Ve(Ae(t,aM),uL)},cL=function(t){var r=aL("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},fL=function(t){return tL(t.title).length>0},vL=function(t){var r=cL(t);return Ae(sL(r).concat(lL(r)),fL)},dL={find:vL},P3="tinymce-url-history",sM=5,GO=function(t){return _(t)&&/^https?/.test(t)},mL=function(t){return T(t)&&t.length<=sM&&Rt(t,GO)},lM=function(t){return x(t)&&Ju(t,function(r){return!mL(r)}).isNone()},cM=function(){var t=Vk.getItem(P3);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+P3+" was not valid JSON",o),{};throw o}return lM(r)?r:(console.log("Local storage "+P3+" was not valid format",r),{})},hL=function(t){if(!lM(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Vk.setItem(P3,JSON.stringify(t))},gL=function(t){var r=cM();return Tn(r,t).getOr([])},qO=function(t,r){if(GO(t)){var o=cM(),s=Tn(o,r).getOr([]),d=Ae(s,function(g){return g!==t});o[r]=[t].concat(d).slice(0,sM),hL(o)}},I3=function(t){return!!t},pL=function(t){return vr(Kg.makeMap(t,/[, ]/),I3)},KO=function(t){return B.from(mP(t)).filter(P)},bL=function(t){var r=B.some(hP(t)).filter(I3),o=B.some(gT(t)).filter(I3),s=r.or(o).map(pL);return KO(t).fold(ce,function(d){return s.fold(Ee,function(g){return Hr(g).length>0?g:!1})})},yL=function(t,r){var o=bL(t);return L(o)?o?KO(t):B.none():o[r]?KO(t):B.none()},wL=function(t,r){return yL(t,r).map(function(o){return function(s){return Xi.nu(function(d){var g=function(E,D){if(!_(E))throw new Error("Expected value to be string");if(D!==void 0&&!x(D))throw new Error("Expected meta to be a object");var $={value:E,meta:D};d($)},C=re({filetype:r,fieldname:s.fieldname},B.from(s.meta).getOr({}));o.call(t,g,s.value,C)})}})},fM=function(t){return B.from(t).filter(_).getOrUndefined()},CL=function(t){return MD(t)?B.none():B.some({targets:dL.find(t.getBody()),anchorTop:fM(PD(t)),anchorBottom:fM(gP(t))})},_L=function(t){return B.from(ID(t))},SL=function(t){return{getHistory:gL,addToHistory:qO,getLinkInformation:function(){return CL(t)},getValidationHandler:function(){return _L(t)},getUrlPicker:function(r){return wL(t,r)}}},N3=function(t,r,o){var s=zn(!1),d=VO(r),g={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:hf.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(C){return LF(C,g)},anchors:UF(r,o,d.isPositionedAtTop),header:d,getSink:function(){return dr.value(t)}},urlinput:SL(r),styleselect:QF(r),colorinput:JB(r),dialog:KF(r),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(C){return s.set(C)}};return g},xL=function(t,r,o){var s=function(ft,ze){pt([r,o],function(nt){nt.broadcastEvent(ft,ze)})},d=function(ft,ze){pt([r,o],function(nt){nt.broadcastOn([ft],ze)})},g=function(ft){return d(mm(),{target:ft.target})},C=Vp(),E=wo(C,"touchstart",g),D=wo(C,"touchmove",function(ft){return s(Ab(),ft)}),$=wo(C,"touchend",function(ft){return s(NA(),ft)}),U=wo(C,"mousedown",g),G=wo(C,"mouseup",function(ft){ft.raw.button===0&&d(Aw(),{target:ft.target})}),ee=function(ft){return d(mm(),{target:sn.fromDom(ft.target)})},oe=function(ft){ft.button===0&&d(Aw(),{target:sn.fromDom(ft.target)})},ve=function(){pt(t.editorManager.get(),function(ft){t!==ft&&ft.fire("DismissPopups",{relatedTarget:t})})},_e=function(ft){return s(_2(),um(ft))},Ne=function(ft){d(vg(),{}),s($s(),um(ft))},we=function(){return d(vg(),{})},Fe=function(ft){ft.state&&d(mm(),{target:sn.fromDom(t.getContainer())})},vt=function(ft){d(mm(),{target:sn.fromDom(ft.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",ee),t.on("tap",ee),t.on("mouseup",oe),t.on("mousedown",ve),t.on("ScrollWindow",_e),t.on("ResizeWindow",Ne),t.on("ResizeEditor",we),t.on("AfterProgressState",Fe),t.on("DismissPopups",vt)}),t.on("remove",function(){t.off("click",ee),t.off("tap",ee),t.off("mouseup",oe),t.off("mousedown",ve),t.off("ScrollWindow",_e),t.off("ResizeWindow",Ne),t.off("ResizeEditor",we),t.off("AfterProgressState",Fe),t.off("DismissPopups",vt),U.unbind(),E.unbind(),D.unbind(),$.unbind(),G.unbind()}),t.on("detach",function(){ou(r),ou(o),r.destroy(),o.destroy()})},Ws=Gn,Xg=H0,U1=ne([He("shell",!1),At("makeItem"),He("setupItem",q),il.field("listBehaviours",[ar])]),kL=function(){return{behaviours:Zt([ar.config({})])}},XO=ul({name:"items",overrides:kL}),z3=ne([XO]),AL=ne("CustomList"),EL=function(t,r,o,s){var d=function(E,D){C(E).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function($){var U=ar.contents($),G=D.length,ee=G-U.length,oe=ee>0?te(ee,function(){return t.makeItem()}):[],ve=U.slice(G);pt(ve,function(Ne){return ar.remove($,Ne)}),pt(oe,function(Ne){return ar.append($,Ne)});var _e=ar.contents($);pt(_e,function(Ne,we){t.setupItem(E,Ne,D[we],we)})})},g=t.shell?{behaviours:[ar.config({})],components:[]}:{behaviours:[],components:r},C=function(E){return t.shell?B.some(E):pa(E,t,"items")};return{uid:t.uid,dom:t.dom,components:g.components,behaviours:li(t.listBehaviours,g.behaviours),apis:{setItems:d}}},vM=xu({name:AL(),configFields:U1(),partFields:z3(),factory:EL,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),zy=ne([At("dom"),He("shell",!0),Xo("toolbarBehaviours",[ar])]),TL=function(){return{behaviours:Zt([ar.config({})])}},W1=ne([ul({name:"groups",overrides:TL})]),dM=function(t,r,o,s){var d=function(E,D){g(E).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function($){ar.set($,D)})},g=function(E){return t.shell?B.some(E):pa(E,t,"groups")},C=t.shell?{behaviours:[ar.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:C.components,behaviours:li(t.toolbarBehaviours,C.behaviours),apis:{setGroups:d},domModification:{attributes:{role:"group"}}}},Cv=xu({name:"Toolbar",configFields:zy(),partFields:W1(),factory:dM,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),OL=q,DL=ce,mM=ne([]),RL=Object.freeze({__proto__:null,setup:OL,isDocked:DL,getBehaviours:mM}),hM=function(t){var r=lu(Ao(t,"position"),"fixed"),o=r?B.none():zf(t);return o.orThunk(function(){var s=sn.fromTag("span");return xo(t).bind(function(d){Hi(d,s);var g=zf(s);return Bu(s),g})})},F3=function(t){return hM(t).map(vu).getOrThunk(function(){return ya(0,0)})},j1=Ds.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),L3=function(t,r){var o=t.element;Wo(o,r.transitionClass),Io(o,r.fadeOutClass),Wo(o,r.fadeInClass),r.onShow(t)},H3=function(t,r){var o=t.element;Wo(o,r.transitionClass),Io(o,r.fadeInClass),Wo(o,r.fadeOutClass),r.onHide(t)},G1=function(t,r){return t.y<r.bottom&&t.bottom>r.y},V3=function(t,r){return t.y>=r.y},$L=function(t,r){return t.bottom<=r.bottom},YO=function(t,r,o){return Rt(t,function(s){switch(s){case"bottom":return $L(r,o);case"top":return V3(r,o)}})},JO=function(t,r){return r.getInitialPos().map(function(o){return Vo(o.bounds.x,o.bounds.y,Li(t),Mo(t))})},gM=function(t,r,o){o.setInitialPos({style:Ff(t),position:ro(t,"position")||"static",bounds:r})},pM=function(t,r,o){return o.getInitialPos().bind(function(s){switch(o.clearInitialPos(),s.position){case"static":return B.some(j1.static());case"absolute":var d=hM(t).map(Eo).getOrThunk(function(){return Eo(Fi())});return B.some(j1.absolute(ru("absolute",Tn(s.style,"left").map(function(g){return r.x-d.x}),Tn(s.style,"top").map(function(g){return r.y-d.y}),Tn(s.style,"right").map(function(g){return d.right-r.right}),Tn(s.style,"bottom").map(function(g){return d.bottom-r.bottom}))));default:return B.none()}})},bM=function(t,r,o){return JO(t,o).filter(function(s){return YO(o.getModes(),s,r)}).bind(function(s){return pM(t,s,o)})},BL=function(t,r,o){var s=Eo(t);if(YO(o.getModes(),s,r))return B.none();gM(t,s,o);var d=Si(),g=s.x-d.x,C=r.y-d.y,E=d.bottom-r.bottom,D=s.y<=r.y;return B.some(j1.fixed(ru("fixed",B.some(g),D?B.some(C):B.none(),B.none(),D?B.none():B.some(E))))},ML=function(t,r,o){var s=t.element,d=lu(Ao(s,"position"),"fixed");return d?bM(s,r,o):BL(s,r,o)},PL=function(t,r){var o=t.element;return JO(o,r).bind(function(s){return pM(o,s,r)})},U3=function(t,r,o){o.setDocked(!1),pt(["left","right","top","bottom","position"],function(s){return Kr(t.element,s)}),r.onUndocked(t)},b_=function(t,r,o,s){var d=s.position==="fixed";o.setDocked(d),ad(t.element,s);var g=d?r.onDocked:r.onUndocked;g(t)},yM=function(t,r,o,s,d){d===void 0&&(d=!1),r.contextual.each(function(g){g.lazyContext(t).each(function(C){var E=G1(C,s);if(E!==o.isVisible())if(o.setVisible(E),d&&!E)Jd(t.element,[g.fadeOutClass]),g.onHide(t);else{var D=E?L3:H3;D(t,g)}})})},wM=function(t,r,o){var s=r.lazyViewport(t),d=o.isDocked();d&&yM(t,r,o,s),ML(t,s,o).each(function(g){g.fold(function(){return U3(t,r,o)},function(C){return b_(t,r,o,C)},function(C){yM(t,r,o,s,!0),b_(t,r,o,C)})})},IL=function(t,r,o){var s=t.element;o.setDocked(!1),PL(t,o).each(function(d){d.fold(function(){return U3(t,r,o)},function(g){return b_(t,r,o,g)},q)}),o.setVisible(!0),r.contextual.each(function(d){Ns(s,[d.fadeInClass,d.fadeOutClass,d.transitionClass]),d.onShow(t)}),W3(t,r,o)},W3=function(t,r,o){t.getSystem().isConnected()&&wM(t,r,o)},CM=function(t,r,o){o.isDocked()&&IL(t,r,o)},NL=function(t,r,o){return o.isDocked()},q1=function(t,r,o,s){return o.setModes(s)},_M=function(t,r,o){return o.getModes()},zL=Object.freeze({__proto__:null,refresh:W3,reset:CM,isDocked:NL,getModes:_M,setModes:q1}),SM=function(t,r){return _a([To(Dh(),function(o,s){t.contextual.each(function(d){if(bu(o.element,d.transitionClass)){Ns(o.element,[d.transitionClass,d.fadeInClass]);var g=r.isVisible()?d.onShown:d.onHidden;g(o)}s.stop()})}),$t(_2(),function(o,s){W3(o,t,r)}),$t($s(),function(o,s){CM(o,t,r)})])},FL=Object.freeze({__proto__:null,events:SM}),j3=[ss("contextual",[Qn("fadeInClass"),Qn("fadeOutClass"),Qn("transitionClass"),tu("lazyContext"),Yr("onShow"),Yr("onShown"),Yr("onHide"),Yr("onHidden")]),Ta("lazyViewport",Si),Jf("modes",["top","bottom"],yo),Yr("onDocked"),Yr("onUndocked")],Sf=function(t){var r=zn(!1),o=zn(!0),s=mo(),d=zn(t.modes),g=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+d.get().join(",")};return Gi({isDocked:r.get,setDocked:r.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:o.get,setVisible:o.set,getModes:d.get,setModes:d.set,readState:g})},LL=Object.freeze({__proto__:null,init:Sf}),Ro=Ko({fields:j3,name:"docking",active:FL,apis:zL,state:LL}),ZO=ne(wn("toolbar-height-change")),Td={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},QO="tox-tinymce--toolbar-sticky-on",y_="tox-tinymce--toolbar-sticky-off",Yg=function(t,r){var o=Jo(r),s=o.dom.defaultView.innerHeight,d=os(o),g=sn.fromDom(t.elm),C=Hc(g),E=Mo(g),D=C.y,$=D+E,U=vu(r),G=Mo(r),ee=U.top,oe=ee+G,ve=Math.abs(ee-d.top)<2,_e=Math.abs(oe-(d.top+s))<2;if(ve&&D<oe)hh(d.left,D-G,o);else if(_e&&$>ee){var Ne=D-s+E+G;hh(d.left,Ne,o)}},Wu=function(t,r){return ct(Ro.getModes(t),r)},e5=function(t){var r=function(s){return as(s)+(parseInt(ro(s,"margin-top"),10)||0)+(parseInt(ro(s,"margin-bottom"),10)||0)},o=t.element;xo(o).each(function(s){var d="padding-"+Ro.getModes(t)[0];if(Ro.isDocked(t)){var g=Li(s);Xn(o,"width",g+"px"),Xn(s,d,r(o)+"px")}else Kr(o,"width"),Kr(s,d)})},t5=function(t,r){r?(Io(t,Td.fadeOutClass),Jd(t,[Td.transitionClass,Td.fadeInClass])):(Io(t,Td.fadeInClass),Jd(t,[Td.fadeOutClass,Td.transitionClass]))},n5=function(t,r){var o=sn.fromDom(t.getContainer());r?(Wo(o,QO),Io(o,y_)):(Wo(o,y_),Io(o,QO))},xM=function(t,r){var o=Jo(r);Su(o).filter(function(s){return!Sa(r,s)}).filter(function(s){return Sa(s,sn.fromDom(o.dom.body))||Sl(t,s)}).each(function(){return dc(r)})},HL=function(t,r){return mc(t).orThunk(function(){return r().toOptional().bind(function(o){return mc(o.element)})})},VL=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(Ro.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(e5)}),t.on("SkinLoaded",function(){o().each(function(s){Ro.isDocked(s)?Ro.reset(s):Ro.refresh(s)})}),t.on("FullscreenStateChanged",function(){o().each(Ro.reset)})),t.on("AfterScrollIntoView",function(s){o().each(function(d){Ro.refresh(d);var g=d.element;Mx(g)&&Yg(s,g)})}),t.on("PostRender",function(){n5(t,!1)})},Jg=function(t){return t().map(Ro.isDocked).getOr(!1)},kM=function(){var t;return[nu.config({channels:(t={},t[ZO()]={onReceive:e5},t)})]},K1=function(t,r){var o=mo(),s=r.getSink,d=function(E){s().each(function(D){return E(D.element)})},g=function(E){t.inline||e5(E),n5(t,Ro.isDocked(E)),E.getSystem().broadcastOn([vg()],{}),s().each(function(D){return D.getSystem().broadcastOn([vg()],{})})},C=t.inline?[]:kM();return ke([er.config({}),Ro.config({contextual:re({lazyContext:function(E){var D=as(E.element),$=t.inline?t.getContentAreaContainer():t.getContainer(),U=Eo(sn.fromDom($)),G=U.height-D,ee=U.y+(Wu(E,"top")?0:D);return B.some(Vo(U.x,ee,U.width,G))},onShow:function(){d(function(E){return t5(E,!0)})},onShown:function(E){d(function(D){return Ns(D,[Td.transitionClass,Td.fadeInClass])}),o.get().each(function(D){xM(E.element,D),o.clear()})},onHide:function(E){HL(E.element,s).fold(o.clear,o.set),d(function(D){return t5(D,!1)})},onHidden:function(){d(function(E){return Ns(E,[Td.transitionClass])})}},Td),lazyViewport:function(E){var D=Si(),$=Nk(t),U=D.y+(Wu(E,"top")?$:0),G=D.height-(Wu(E,"bottom")?$:0);return Vo(D.x,U,D.width,G)},modes:[r.header.getDockingMode()],onDocked:g,onUndocked:g})],C,!0)},G3=Object.freeze({__proto__:null,setup:VL,isDocked:Jg,getBehaviours:K1}),AM=function(t){var r=t.editor,o=t.sticky?K1:mM;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Zt(o(r,t.sharedBackstage))}},UL=Mn([Qn("type"),Iu("items",xp([l2([Qn("name"),Wi("items",yo)]),yo]))].concat(RC)),WL=function(t){return Ya("GroupToolbarButton",UL,t)},jL=[Ea("text"),Ea("tooltip"),Ea("icon"),tu("fetch"),Ta("onSetup",function(){return q})],GL=Mn(ke([Qn("type")],jL,!0)),X1=function(t){return Ya("menubutton",GL,t)},qL=Mn([Qn("type"),Ea("tooltip"),Ea("icon"),Ea("text"),Lv("select"),tu("fetch"),Ta("onSetup",function(){return q}),Os("presets","normal",["normal","color","listpreview"]),He("columns",1),tu("onAction"),tu("onItemAction")]),KL=function(t){return Ya("SplitButton",qL,t)},XL=function(t,r){var o=function(d,g){var C=Ve(g,function(E){var D={type:"menubutton",text:E.text,fetch:function(U){U(E.getItems())}},$=X1(D).mapError(function(U){return Fv(U)}).getOrDie();return TO($,"tox-mbtn",r.backstage,B.some("menuitem"))});ar.set(d,C)},s={focus:Hn.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:Zt([ar.config({}),sr("menubar-events",[ur(function(d){t.onSetup(d)}),$t(Qf(),function(d,g){jo(d.element,".tox-mbtn--active").each(function(C){al(g.event.target,".tox-mbtn").each(function(E){Sa(C,E)||d.getSystem().getByDom(C).each(function(D){d.getSystem().getByDom(E).each(function($){bf.expand($),bf.close(D),er.focus($)})})})})}),$t(Eb(),function(d,g){g.event.prevFocus.bind(function(C){return d.getSystem().getByDom(C).toOptional()}).each(function(C){g.event.newFocus.bind(function(E){return d.getSystem().getByDom(E).toOptional()}).each(function(E){bf.isOpen(C)&&(bf.expand(E),bf.close(C))})})})]),Hn.config({mode:"flow",selector:".tox-mbtn",onEscape:function(d){return t.onEscape(d),B.some(!0)}}),Oo.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},r5=Ls({factory:XL,name:"silver.Menubar",configFields:[At("dom"),At("uid"),At("onEscape"),At("backstage"),He("onSetup",q)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),w_=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},_v=function(t){return t.dimension.property},Fy=function(t,r){return t.dimension.getDimension(r)},q3=function(t,r){var o=w_(t,r);Ns(o,[r.shrinkingClass,r.growingClass])},C_=function(t,r){Io(t.element,r.openClass),Wo(t.element,r.closedClass),Xn(t.element,_v(r),"0px"),Ba(t.element)},a5=function(t,r){Io(t.element,r.closedClass),Wo(t.element,r.openClass),Kr(t.element,_v(r))},__=function(t,r,o,s){o.setCollapsed(),Xn(t.element,_v(r),Fy(r,t.element)),Ba(t.element),q3(t,r),C_(t,r),r.onStartShrink(t),r.onShrunk(t)},K3=function(t,r,o,s){var d=s.getOrThunk(function(){return Fy(r,t.element)});o.setCollapsed(),Xn(t.element,_v(r),d),Ba(t.element);var g=w_(t,r);Io(g,r.growingClass),Wo(g,r.shrinkingClass),C_(t,r),r.onStartShrink(t)},Zg=function(t,r,o){var s=Fy(r,t.element),d=s==="0px"?__:K3;d(t,r,o,B.some(s))},EM=function(t,r,o){var s=w_(t,r),d=bu(s,r.shrinkingClass),g=Fy(r,t.element);a5(t,r);var C=Fy(r,t.element),E=function(){Xn(t.element,_v(r),g),Ba(t.element)},D=function(){C_(t,r)},$=d?E:D;$(),Io(s,r.shrinkingClass),Wo(s,r.growingClass),a5(t,r),Xn(t.element,_v(r),C),o.setExpanded(),r.onStartGrow(t)},YL=function(t,r,o){if(o.isExpanded()){Kr(t.element,_v(r));var s=Fy(r,t.element);Xn(t.element,_v(r),s)}},o5=function(t,r,o){o.isExpanded()||EM(t,r,o)},JL=function(t,r,o){o.isExpanded()&&Zg(t,r,o)},X3=function(t,r,o){o.isExpanded()&&__(t,r,o)},TM=function(t,r,o){return o.isExpanded()},ZL=function(t,r,o){return o.isCollapsed()},OM=function(t,r,o){var s=w_(t,r);return bu(s,r.growingClass)===!0},Ly=function(t,r,o){var s=w_(t,r);return bu(s,r.shrinkingClass)===!0},i5=function(t,r,o){return OM(t,r)||Ly(t,r)},QL=function(t,r,o){var s=o.isExpanded()?Zg:EM;s(t,r,o)},e7=Object.freeze({__proto__:null,refresh:YL,grow:o5,shrink:JL,immediateShrink:X3,hasGrown:TM,hasShrunk:ZL,isGrowing:OM,isShrinking:Ly,isTransitioning:i5,toggleGrow:QL,disableTransitions:q3}),DM=function(t,r,o){var s=r.expanded;return Bl(s?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Wc(r.dimension.property,"0px")})},t7=function(t,r){return _a([To(Dh(),function(o,s){var d=s.event.raw;if(d.propertyName===t.dimension.property){q3(o,t),r.isExpanded()&&Kr(o.element,t.dimension.property);var g=r.isExpanded()?t.onGrown:t.onShrunk;g(o)}})])},n7=Object.freeze({__proto__:null,exhibit:DM,events:t7}),e=[At("closedClass"),At("openClass"),At("shrinkingClass"),At("growingClass"),Xr("getAnimationRoot"),Yr("onShrunk"),Yr("onStartShrink"),Yr("onGrown"),Yr("onStartGrow"),He("expanded",!1),Iu("dimension",el("property",{width:[ka("property","width"),ka("getDimension",function(t){return Li(t)+"px"})],height:[ka("property","height"),ka("getDimension",function(t){return Mo(t)+"px"})]}))],n=function(t){var r=zn(t.expanded),o=function(){return"expanded: "+r.get()};return Gi({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:Se(r.set,!1),setExpanded:Se(r.set,!0),readState:o})},a=Object.freeze({__proto__:null,init:n}),i=Ko({fields:e,name:"sliding",active:n7,apis:e7,state:a}),l="container",v=[Xo("slotBehaviours",[])],p=function(t){return"<alloy.field."+t+">"},S=function(t){var r=function(){var g=[],C=function(E,D){return g.push(E),Vw(l,p(E),D)};return{slot:C,record:ne(g)}}(),o=t(r),s=r.record(),d=Ve(s,function(g){return Bi({name:g,pname:p(g)})});return qw(l,v,d,A,o)},A=function(t,r){var o=function(_e){return dx(t)},s=function(_e,Ne){return pa(_e,t,Ne)},d=function(_e,Ne){return function(we,Fe){return pa(we,t,Fe).map(function(vt){return _e(vt,Fe)}).getOr(Ne)}},g=function(_e){return function(Ne,we){pt(we,function(Fe){return _e(Ne,Fe)})}},C=function(_e,Ne){return Ha(_e.element,"aria-hidden")!=="true"},E=function(_e,Ne){if(!C(_e)){var we=_e.element;Kr(we,"display"),oi(we,"aria-hidden"),Fn(_e,ev(),{name:Ne,visible:!0})}},D=function(_e,Ne){if(C(_e)){var we=_e.element;Xn(we,"display","none"),cr(we,"aria-hidden","true"),Fn(_e,ev(),{name:Ne,visible:!1})}},$=d(C,!1),U=d(D),G=g(U),ee=function(_e){return G(_e,o())},oe=d(E),ve={getSlotNames:o,getSlot:s,isShowing:$,hideSlot:U,hideAllSlots:ee,showSlot:oe};return{uid:t.uid,dom:t.dom,components:r,behaviours:gg(t.slotBehaviours),apis:ve}},N=vr({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return Ja(t)}),X=re(re({},N),{sketch:S}),J=Mn([Ea("icon"),Ea("tooltip"),Ta("onShow",q),Ta("onHide",q),Ta("onSetup",function(){return q})]),Q=function(t){return Ya("sidebar",J,t)},fe=function(t){var r=t.ui.registry.getAll().sidebars;pt(Hr(r),function(o){var s=r[o],d=function(){return lu(B.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:s.icon,tooltip:s.tooltip,onAction:function(g){t.execCommand("ToggleSidebar",!1,o),g.setActive(d())},onSetup:function(g){var C=function(){return g.setActive(d())};return t.on("ToggleSidebar",C),function(){t.off("ToggleSidebar",C)}}})})},de=function(t){return{element:function(){return t.element.dom}}},he=function(t,r){var o=Ve(Hr(r),function(s){var d=r[s],g=El(Q(d));return{name:s,getApi:de,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return Ve(o,function(s){var d=zn(q);return t.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Ok.unnamedEvents([E1(s,d),T1(s,d),$t(ev(),function(g,C){var E=C.event,D=bt(o,function($){return $.name===E.name});D.each(function($){var U=E.visible?$.onShow:$.onHide;U($.getApi(g))})})])})})},pe=function(t){return X.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:he(r,t),slotBehaviours:Ok.unnamedEvents([ur(function(o){return X.hideAllSlots(o)})])}})},Oe=function(t,r){var o=Sr.getCurrent(t);o.each(function(s){return ar.set(s,[pe(r)])})},xe=function(t,r){var o=Sr.getCurrent(t);o.each(function(s){var d=Sr.getCurrent(s);d.each(function(g){i.hasGrown(s)?X.isShowing(g,r)?i.shrink(s):(X.hideAllSlots(g),X.showSlot(g,r)):(X.hideAllSlots(g),X.showSlot(g,r),i.grow(s))})})},Xe=function(t){var r=Sr.getCurrent(t);return r.bind(function(o){var s=i.isGrowing(o)||i.hasGrown(o);if(s){var d=Sr.getCurrent(o);return d.bind(function(g){return bt(X.getSlotNames(g),function(C){return X.isShowing(g,C)})})}else return B.none()})},je=wn("FixSizeEvent"),Re=wn("AutoSizeEvent"),Qe=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Zt([Oo.config({}),er.config({}),i.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=Sr.getCurrent(r);o.each(X.hideAllSlots),Wr(r,Re)},onGrown:function(r){Wr(r,Re)},onStartGrow:function(r){Fn(r,je,{width:Ao(r.element,"width").getOr("")})},onStartShrink:function(r){Fn(r,je,{width:Li(r.element)+"px"})}}),ar.config({}),Sr.config({find:function(r){var o=ar.contents(r);return ir(o)}})])}],behaviours:Zt([wv.childAt(0),sr("sidebar-sliding-events",[$t(je,function(r,o){Xn(r.element,"width",o.event.width)}),$t(Re,function(r,o){Kr(r.element,"width")})])])}},St=function(t,r,o,s){cr(t.element,"aria-busy",!0);var d=r.getRoot(t).getOr(t),g=Zt([Hn.config({mode:"special",onTab:function(){return B.some(!0)},onShiftTab:function(){return B.some(!0)}}),er.config({})]),C=s(d,g),E=d.getSystem().build(C);ar.append(d,zs(E)),E.hasConfigured(Hn)&&r.focus&&Hn.focusIn(E),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return ar.remove(d,E)})},Lt=function(t,r,o){oi(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},jn=Object.freeze({__proto__:null,block:St,unblock:Lt}),mn=[Ta("getRoot",B.none),Ca("focus",!0),Yr("onBlock"),Yr("onUnblock")],Bt=function(){var t=ew(),r=function(o){t.set({destroy:o})};return Gi({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},Vn=Object.freeze({__proto__:null,init:Bt}),Ut=Ko({fields:mn,name:"blocking",apis:jn,state:Vn}),vn=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return et(r,function(o,s){var d;return s.name==="class"?o:re(re({},o),(d={},d[s.name]=s.value,d))},{})},Gt=function(t){return Array.prototype.slice.call(t.dom.classList,0)},Qt=function(t){var r=sn.fromHtml(t),o=Ge(r),s=vn(r),d=Gt(r),g=o.length===0?{}:{innerHtml:qc(r)};return re({tag:Qu(r),classes:d,attributes:s},g)},yn=function(t){return function(r,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Qt('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},Pt=function(t){return Sr.getCurrent(t).each(function(r){return dc(r.element)})},hn=function(t,r){var o="tabindex",s="data-mce-"+o;B.from(t.iframeElement).map(sn.fromDom).each(function(d){r?(Xa(d,o).each(function(g){return cr(d,s,g)}),cr(d,o,-1)):(oi(d,o),Xa(d,s).each(function(g){cr(d,o,g),oi(d,s)}))})},kr=function(t,r,o,s){var d=r.element;if(hn(t,o),o)Ut.block(r,yn(s)),Kr(d,"display"),oi(d,"aria-hidden"),t.hasFocus()&&Pt(r);else{var g=Sr.getCurrent(r).exists(function(C){return Wp(C.element)});Ut.unblock(r),Xn(d,"display","none"),cr(d,"aria-hidden","true"),g&&t.focus()}},ra=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Zt([ar.config({}),Ut.config({focus:!1}),Sr.config({find:function(r){return ir(r.components())}})]),components:[]}},Zr=function(t){return t.type==="focusin"},Pi=function(t){if(Zr(t)){var r=t.composed?ir(t.composedPath()):B.from(t.target);return r.map(sn.fromDom).filter(po).exists(function(o){return bu(o,"mce-pastebin")})}else return!1},uo=function(t,r,o){var s=zn(!1),d=mo(),g=function(E){s.get()&&!Pi(E)&&(E.preventDefault(),Pt(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",g),t.on("BeforeExecCommand",function(E){E.command.toLowerCase()==="mcefocus"&&E.value!==!0&&g(E)})});var C=function(E){E!==s.get()&&(s.set(E),kr(t,r(),E,o.providers),t.fire("AfterProgressState",{state:E}))};t.on("ProgressState",function(E){if(d.on(Fg.clearTimeout),V(E.time)){var D=Fg.setEditorTimeout(t,function(){return C(E.state)},E.time);d.set(D)}else C(E.state),d.clear()})},ju=function(t,r){var o={len:0,list:[]},s=et(t,function(d,g){var C=r(g,d.len);return C.fold(ne(d),function(E){return{len:E.finish,list:d.list.concat([E])}})},o);return s.list},ps=function(t,r,o){return{within:t,extra:r,withinWidth:o}},Nt=function(t,r,o){var s=ju(t,function(E,D){var $=o(E);return B.some({element:E,start:D,finish:D+$,width:$})}),d=Ae(s,function(E){return E.finish<=r}),g=Ze(d,function(E,D){return E+D.width},0),C=s.slice(d.length);return{within:d,extra:C,withinWidth:g}},Kt=function(t){return Ve(t,function(r){return r.element})},$n=function(t,r,o){var s=Kt(t.concat(r));return ps(s,[],o)},tt=function(t,r,o,s){var d=Kt(t).concat([o]);return ps(d,Kt(r),s)},Vt=function(t,r,o){return ps(Kt(t),[],o)},zt=function(t,r,o){var s=Nt(r,t,o);return s.extra.length===0?B.some(s):B.none()},Pn=function(t,r,o,s){var d=zt(t,r,o).getOrThunk(function(){return Nt(r,t-o(s),o)}),g=d.within,C=d.extra,E=d.withinWidth;return C.length===1&&C[0].width<=o(s)?$n(g,C,E):C.length>=1?tt(g,C,s,E):Vt(g,C,E)},Ln=function(t,r){var o=Ve(r,function(s){return zs(s)});Cv.setGroups(t,o)},Aa=function(t){return Qr(t,function(r){return mc(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},ni=function(t,r,o){var s=r.builtGroups.get();if(s.length!==0){var d=cf(t,r,"primary"),g=Do.getCoupled(t,"overflowGroup");Xn(d.element,"visibility","hidden");var C=s.concat([g]),E=Aa(C);o([]),Ln(d,C);var D=Li(d.element),$=Pn(D,r.builtGroups.get(),function(U){return Li(U.element)},g);$.extra.length===0?(ar.remove(d,g),o([])):(Ln(d,$.within),o($.extra)),Kr(d.element,"visibility"),Ba(d.element),E.each(er.focus)}},Yo=ne([Xo("splitToolbarBehaviours",[Do]),hu("builtGroups",function(){return zn([])})]),Im=ne([tm(["overflowToggledClass"]),Lv("getOverflowBounds"),At("lazySink"),hu("overflowGroups",function(){return zn([])})].concat(Yo())),Gu=ne([Bi({factory:Cv,schema:zy(),name:"primary"}),Fs({schema:zy(),name:"overflow"}),Fs({name:"overflow-button"}),Fs({name:"overflow-group"})]),Eu=ne(function(t,r){_i(t,Math.floor(r))}),mi=ne([tm(["toggledClass"]),At("lazySink"),tu("fetch"),Lv("getBounds"),ss("fireDismissalEventInstead",[He("event",Rl())]),od()]),Ul=ne([Fs({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Zt([Nr.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Fs({factory:Cv,schema:zy(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Zt([Hn.config({mode:"cyclic",onEscape:function(r){return pa(r,t,"button").each(er.focus),B.none()}})])}}})]),qu=function(t,r){var o=Do.getCoupled(t,"toolbarSandbox");Br.isOpen(o)?Br.close(o):Br.open(o,r.toolbar())},xf=function(t,r,o,s){var d=o.getBounds.map(function(C){return C()}),g=o.lazySink(t).getOrDie();ho.positionWithinBounds(g,r,{anchor:{type:"hotspot",hotspot:t,layouts:s,overrides:{maxWidthFunction:Eu()}}},d)},Oa=function(t,r,o,s,d){Cv.setGroups(r,d),xf(t,r,o,s),Nr.on(t)},Wa=function(t,r,o){var s=Zd(),d=function(C,E){o.fetch().get(function(D){Oa(t,E,o,r.layouts,D),s.link(t.element),Hn.focusIn(E)})},g=function(){Nr.off(t),er.focus(t),s.unlink(t.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:Zt([Hn.config({mode:"special",onEscape:function(C){return Br.close(C),B.some(!0)}}),Br.config({onOpen:d,onClose:g,isPartOf:function(C,E,D){return Qd(E,D)||Qd(t,D)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),nu.config({channels:re(re({},Vu(re({isExtraPart:ce},o.fireDismissalEventInstead.map(function(C){return{fireEventInstead:{event:C.event}}}).getOr({})))),hm({doReposition:function(){Br.getState(Do.getCoupled(t,"toolbarSandbox")).each(function(C){xf(t,C,o,r.layouts)})}}))})])}},hi=function(t,r,o,s){return re(re({},ms.sketch(re(re({},s.button()),{action:function(d){qu(d,s)},buttonBehaviours:il.augment({dump:s.button().buttonBehaviours},[Do.config({others:{toolbarSandbox:function(d){return Wa(d,o,t)}}})])}))),{apis:{setGroups:function(d,g){Br.getState(Do.getCoupled(d,"toolbarSandbox")).each(function(C){Oa(d,C,t,o.layouts,g)})},reposition:function(d){Br.getState(Do.getCoupled(d,"toolbarSandbox")).each(function(g){xf(d,g,t,o.layouts)})},toggle:function(d){qu(d,s)},getToolbar:function(d){return Br.getState(Do.getCoupled(d,"toolbarSandbox"))},isOpen:function(d){return Br.isOpen(Do.getCoupled(d,"toolbarSandbox"))}}})},bs=xu({name:"FloatingToolbarButton",factory:hi,configFields:mi(),partFields:Ul(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),Sv=ne([At("items"),tm(["itemSelector"]),Xo("tgroupBehaviours",[Hn])]),xv=ne([lf({name:"items",unit:"item"})]),Qg=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:li(t.tgroupBehaviours,[Hn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},Hy=xu({name:"ToolbarGroup",configFields:Sv(),partFields:xv(),factory:Qg}),Y3=function(t){return Ve(t,function(r){return zs(r)})},RM=function(t,r,o){ni(t,o,function(s){o.overflowGroups.set(s),r.getOpt(t).each(function(d){bs.setGroups(d,Y3(s))})})},$M=function(t,r,o,s){var d=oa(bs.sketch({fetch:function(){return Xi.nu(function(g){g(Y3(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[ei,qi]},onRtl:function(){return[qi,ei]},onBottomLtr:function(){return[_u,Cu]},onBottomRtl:function(){return[Cu,_u]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:li(t.splitToolbarBehaviours,[Do.config({others:{overflowGroup:function(){return Hy.sketch(re(re({},s["overflow-group"]()),{items:[d.asSpec()]}))}}})]),apis:{setGroups:function(g,C){t.builtGroups.set(Ve(C,g.getSystem().build)),RM(g,d,t)},refresh:function(g){return RM(g,d,t)},toggle:function(g){d.getOpt(g).each(function(C){bs.toggle(C)})},isOpen:function(g){return d.getOpt(g).map(bs.isOpen).getOr(!1)},reposition:function(g){d.getOpt(g).each(function(C){bs.reposition(C)})},getOverflow:function(g){return d.getOpt(g).bind(bs.getToolbar)}},domModification:{attributes:{role:"group"}}}},u5=xu({name:"SplitFloatingToolbar",configFields:Im(),partFields:Gu(),factory:$M,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),r7=ne([tm(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Yr("onOpened"),Yr("onClosed")].concat(Yo())),BM=ne([Bi({factory:Cv,schema:zy(),name:"primary"}),Bi({factory:Cv,schema:zy(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Zt([i.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){pa(r,t,"overflow-button").each(function(o){Nr.off(o),er.focus(o)}),t.onClosed(r)},onGrown:function(r){Hn.focusIn(r),t.onOpened(r)},onStartGrow:function(r){pa(r,t,"overflow-button").each(Nr.on)}}),Hn.config({mode:"acyclic",onEscape:function(r){return pa(r,t,"overflow-button").each(er.focus),B.some(!0)}})])}}}),Fs({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Zt([Nr.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Fs({name:"overflow-group"})]),a7=function(t,r){return pa(t,r,"overflow").map(i.hasGrown).getOr(!1)},MM=function(t,r){pa(t,r,"overflow-button").bind(function(){return pa(t,r,"overflow")}).each(function(o){s5(t,r),i.toggleGrow(o)})},s5=function(t,r){pa(t,r,"overflow").each(function(o){ni(t,r,function(s){var d=Ve(s,function(g){return zs(g)});Cv.setGroups(o,d)}),pa(t,r,"overflow-button").each(function(s){i.hasGrown(o)&&Nr.on(s)}),i.refresh(o)})},o7=function(t,r,o,s){var d="alloy.toolbar.toggle",g=function(C,E){var D=Ve(E,C.getSystem().build);t.builtGroups.set(D)};return{uid:t.uid,dom:t.dom,components:r,behaviours:li(t.splitToolbarBehaviours,[Do.config({others:{overflowGroup:function(C){return Hy.sketch(re(re({},s["overflow-group"]()),{items:[ms.sketch(re(re({},s["overflow-button"]()),{action:function(E){Wr(C,d)}}))]}))}}}),sr("toolbar-toggle-events",[$t(d,function(C){MM(C,t)})])]),apis:{setGroups:function(C,E){g(C,E),s5(C,t)},refresh:function(C){return s5(C,t)},toggle:function(C){return MM(C,t)},isOpen:function(C){return a7(C,t)}},domModification:{attributes:{role:"group"}}}},Nm=xu({name:"SplitSlidingToolbar",configFields:r7(),partFields:BM(),factory:o7,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),l5=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:re({tag:"div",classes:["tox-toolbar__group"]},r),components:[Hy.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Zt([Oo.config({}),er.config({})])}},Pe=function(t){return Hy.sketch(l5(t))},lt=function(t,r){var o=ur(function(s){var d=Ve(t.initGroups,Pe);Cv.setGroups(s,d)});return Zt([gf.toolbarButton(t.providers.isDisabled),ti(),Hn.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),sr("toolbar-events",[o])])},Wt=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":l5({title:B.none(),items:[]}),"overflow-button":gB({name:"more",icon:B.some("more-drawer"),disabled:!1,tooltip:B.some("More..."),primary:!1,borderless:!1},B.none(),t.providers)},splitToolbarBehaviours:lt(t,r)}},nn=function(t){var r=Wt(t),o=4,s=u5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return u5.sketch(re(re({},r),{lazySink:t.getSink,getOverflowBounds:function(){var d=t.moreDrawerData.lazyHeader().element,g=Hc(d),C=wt(d),E=Hc(C),D=Math.max(C.dom.scrollHeight,E.height);return Vo(g.x+o,E.y,g.width-o*2,D)},parts:re(re({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},br=function(t){var r=Nm.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=Nm.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=Wt(t);return Nm.sketch(re(re({},s),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(d){d.getSystem().broadcastOn([ZO()],{type:"opened"})},onClosed:function(d){d.getSystem().broadcastOn([ZO()],{type:"closed"})}}))},Gr=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return Cv.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Ll.scrolling?["tox-toolbar--scrolling"]:[])},components:[Cv.parts.groups({})],toolbarBehaviours:lt(t,r)})},Za=function(t,r,o){var s={getSocket:function(d){return Ws.getPart(d,t,"socket")},setSidebar:function(d,g){Ws.getPart(d,t,"sidebar").each(function(C){return Oe(C,g)})},toggleSidebar:function(d,g){Ws.getPart(d,t,"sidebar").each(function(C){return xe(C,g)})},whichSidebar:function(d){return Ws.getPart(d,t,"sidebar").bind(Xe).getOrNull()},getHeader:function(d){return Ws.getPart(d,t,"header")},getToolbar:function(d){return Ws.getPart(d,t,"toolbar")},setToolbar:function(d,g){Ws.getPart(d,t,"toolbar").each(function(C){C.getApis().setGroups(C,g)})},setToolbars:function(d,g){Ws.getPart(d,t,"multiple-toolbar").each(function(C){vM.setItems(C,g)})},refreshToolbar:function(d){var g=Ws.getPart(d,t,"toolbar");g.each(function(C){return C.getApis().refresh(C)})},toggleToolbarDrawer:function(d){Ws.getPart(d,t,"toolbar").each(function(g){Df(g.getApis().toggle,function(C){return C(g)})})},isToolbarDrawerToggled:function(d){return Ws.getPart(d,t,"toolbar").bind(function(g){return B.from(g.getApis().isOpen).map(function(C){return C(g)})}).getOr(!1)},getThrobber:function(d){return Ws.getPart(d,t,"throbber")},focusToolbar:function(d){var g=Ws.getPart(d,t,"toolbar").orThunk(function(){return Ws.getPart(d,t,"multiple-toolbar")});g.each(function(C){Hn.focusIn(C)})},setMenubar:function(d,g){Ws.getPart(d,t,"menubar").each(function(C){r5.setMenus(C,g)})},focusMenubar:function(d){Ws.getPart(d,t,"menubar").each(function(g){r5.focus(g)})}};return{uid:t.uid,dom:t.dom,components:r,apis:s,behaviours:t.behaviours}},ep=Xg.optional({factory:r5,name:"menubar",schema:[At("backstage")]}),wG=function(t){return t.type===Ll.sliding?br:t.type===Ll.floating?nn:Gr},CG=Xg.optional({factory:{sketch:function(t){return vM.sketch({uid:t.uid,dom:t.dom,listBehaviours:Zt([Hn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return Gr({type:t.type,uid:wn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),B.some(!0)}})},setupItem:function(r,o,s,d){Cv.setGroups(o,s)},shell:!0})}},name:"multiple-toolbar",schema:[At("dom"),At("onEscape")]}),_G=Xg.optional({factory:{sketch:function(t){var r=wG(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),B.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[At("dom"),At("onEscape"),At("getSink")]}),SG=Xg.optional({factory:{sketch:AM},name:"header",schema:[At("dom")]}),xG=Xg.optional({name:"socket",schema:[At("dom")]}),kG=Xg.optional({factory:{sketch:Qe},name:"sidebar",schema:[At("dom")]}),AG=Xg.optional({factory:{sketch:ra},name:"throbber",schema:[At("dom")]}),zo=xu({name:"OuterContainer",factory:Za,configFields:[At("dom"),At("behaviours")],partFields:[SG,ep,_G,CG,xG,kG,AG],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var s=Ve(o,function(d){return Pe(d)});t.setToolbar(r,s)},setToolbars:function(t,r,o){var s=Ve(o,function(d){return Ve(d,Pe)});t.setToolbars(r,s)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),EG="file edit view insert format tools table help",m9={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},TG=function(t,r,o){var s=kD(o).split(/[ ,]/);return{text:t.title,getItems:function(){return jt(t.items,function(d){var g=d.toLowerCase();return g.trim().length===0?[]:_n(s,function(C){return C===g})?[]:g==="separator"||g==="|"?[{type:"separator"}]:r.menuItems[g]?[r.menuItems[g]]:[]})}}},i7=function(t){return typeof t=="string"?t.split(" "):t},h9=function(t,r){var o=re(re({},m9),r.menus),s=Hr(r.menus).length>0,d=r.menubar===void 0||r.menubar===!0?i7(EG):i7(r.menubar===!1?"":r.menubar),g=Ae(d,function(E){var D=Pr(m9,E);return s?D||Tn(r.menus,E).exists(function($){return Pr($,"items")}):D}),C=Ve(g,function(E){var D=o[E];return TG({title:D.title,items:i7(D.items)},r,t)});return Ae(C,function(E){var D=function($){return $.type!=="separator"};return E.getItems().length>0&&_n(E.getItems(),D)})},g9=function(t){var r=function(){t._skinLoaded=!0,LP(t)};return function(){t.initialized?r():t.on("init",r)}},OG=function(t,r){return function(){return rR(t,{message:r})}},p9=function(t,r,o){return new DC(function(s,d){o.load(r,s,d),t.on("remove",function(){return o.unload(r)})})},DG=function(t,r){var o=r+"/skin.min.css";return p9(t,o,t.ui.styleSheetLoader)},RG=function(t,r){var o=vb(sn.fromDom(t.getElement()));if(o){var s=r+"/skin.shadowdom.min.css";return p9(t,s,ky.DOM.styleSheetLoader)}else return DC.resolve()},b9=function(t,r){var o=rP(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),oP(r)===!1&&_(o)?DC.all([DG(r,o),RG(r,o)]).then(g9(r),OG(r,"Skin could not be loaded")):g9(r)()},$G=Se(b9,!1),BG=Se(b9,!0),PM=function(t,r){return function(o){var s=qh(),d=function(){o.setActive(t.formatter.match(r));var g=t.formatter.formatChanged(r,o.setActive);s.set(g)};return t.initialized?d():t.once("init",d),function(){t.off("init",d),s.clear()}}},IM=function(t,r,o){return function(s){var d=function(){return o(s)},g=function(){o(s),t.on(r,d)};return t.initialized?g():t.once("init",g),function(){t.off("init",g),t.off(r,d)}}},y9=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},kv=function(t,r){return function(){return t.execCommand(r)}},MG=function(t,r,o){var s=function(E,D,$,U){var G=r.shared.providers.translate(E.title);if(E.type==="separator")return B.some({type:"separator",text:G});if(E.type==="submenu"){var ee=jt(E.getStyleItems(),function(oe){return d(oe,D,U)});return D===0&&ee.length<=0?B.none():B.some({type:"nestedmenuitem",text:G,disabled:ee.length<=0,getSubmenuItems:function(){return jt(E.getStyleItems(),function(oe){return d(oe,D,U)})}})}else return B.some(re({type:"togglemenuitem",text:G,icon:E.icon,active:E.isSelected(U),disabled:$,onAction:o.onAction(E)},E.getStylePreview().fold(function(){return{}},function(oe){return{meta:{style:oe}}})))},d=function(E,D,$){var U=E.type==="formatter"&&o.isInvalid(E);return D===0?U?[]:s(E,D,!1,$).toArray():s(E,D,U,$).toArray()},g=function(E){var D=o.getCurrentValue(),$=o.shouldHide?0:1;return jt(E,function(U){return d(U,$,D)})},C=function(E,D){return function($,U){var G=D(),ee=g(G),oe=Iy(ee,uu.CLOSE_ON_EXECUTE,E,!1);U(oe)}};return{validateItems:g,getFetch:C}},J3=function(t,r,o){var s=o.dataset,d=s.type==="basic"?function(){return Ve(s.data,function(g){return WO(g,o.isSelectedFor,o.getPreviewFor)})}:s.getData;return{items:MG(t,r,o),getStyleItems:d}},c5=function(t,r,o){var s=J3(t,r,o),d=s.items,g=s.getStyleItems,C=function(D){return{getComponent:ne(D)}},E=IM(t,"NodeChange",function(D){var $=D.getComponent();o.updateText($)});return C3({text:o.icon.isSome()?B.none():o.text,icon:o.icon,tooltip:B.from(o.tooltip),role:B.none(),fetch:d.getFetch(r,g),onSetup:E,getApi:C,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},PG=function(t){return Ve(t,function(r){var o=r,s=r,d=r.split("=");return d.length>1&&(o=d[0],s=d[1]),{title:o,format:s}})},IG=function(t){return{type:"basic",data:t}},Z3;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(Z3||(Z3={}));var NG=function(t,r){return r===Z3.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},u7=function(t,r,o,s){var d=t.getParam(r,o,"string"),g=PG(NG(d,s));return{type:"basic",data:g}},s7=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],w9=function(t){var r=function(){return bt(s7,function(E){return t.formatter.match(E.format)})},o=function(E){return function(){return t.formatter.match(E)}},s=function(E){return B.none},d=function(E){var D=r(),$=D.fold(ne("left"),function(U){return U.title.toLowerCase()});Fn(E,dB,{icon:"align-"+$})},g=IG(s7),C=function(E){return function(){return bt(s7,function(D){return D.format===E.format}).each(function(D){return t.execCommand(D.command)})}};return{tooltip:"Align",text:B.none(),icon:B.some("align-left"),isSelectedFor:o,getCurrentValue:B.none,getPreviewFor:s,onAction:C,updateText:d,dataset:g,shouldHide:!1,isInvalid:function(E){return!t.formatter.canApply(E.format)}}},zG=function(t,r){return c5(t,r,w9(t))},FG=function(t,r){var o=J3(t,r,w9(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},LG="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",HG=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],C9=function(t){var r=t.split(/\s*,\s*/);return Ve(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},VG=function(t){var r=function(){var o=C9(t.toLowerCase());return Rt(HG,function(s){return o.indexOf(s.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},_9=function(t){var r="System Font",o=function(){var $=function(ve){return ve?C9(ve)[0]:""},U=t.queryCommandValue("FontName"),G=D.data,ee=U?U.toLowerCase():"",oe=bt(G,function(ve){var _e=ve.format;return _e.toLowerCase()===ee||$(_e).toLowerCase()===$(ee).toLowerCase()}).orThunk(function(){return qs(VG(ee),{title:r,format:ee})});return{matchOpt:oe,font:U}},s=function($){return function(U){return U.exists(function(G){return G.format===$})}},d=function(){var $=o().matchOpt;return $},g=function($){return function(){return B.some({tag:"div",styles:$.indexOf("dings")===-1?{"font-family":$}:{}})}},C=function($){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,$.format)})}},E=function($){var U=o(),G=U.matchOpt,ee=U.font,oe=G.fold(ne(ee),function(ve){return ve.title});Fn($,H1,{text:oe})},D=u7(t,"font_formats",LG,Z3.SemiColon);return{tooltip:"Fonts",text:B.some(r),icon:B.none(),isSelectedFor:s,getCurrentValue:d,getPreviewFor:g,onAction:C,updateText:E,dataset:D,shouldHide:!1,isInvalid:ce}},UG=function(t,r){return c5(t,r,_9(t))},WG=function(t,r){var o=J3(t,r,_9(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},jG="8pt 10pt 12pt 14pt 18pt 24pt 36pt",GG={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},qG={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},KG=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},XG=function(t,r){return/[0-9.]+px$/.test(t)?KG(parseInt(t,10)*72/96,r||0)+"pt":Tn(qG,t).getOr(t)},YG=function(t){return Tn(GG,t).getOr("")},S9=function(t){var r=function(){var D=B.none(),$=E.data,U=t.queryCommandValue("FontSize");if(U)for(var G=function(oe){var ve=XG(U,oe),_e=YG(ve);D=bt($,function(Ne){return Ne.format===U||Ne.format===ve||Ne.format===_e})},ee=3;D.isNone()&&ee>=0;ee--)G(ee);return{matchOpt:D,size:U}},o=function(D){return function($){return $.exists(function(U){return U.format===D})}},s=function(){var D=r().matchOpt;return D},d=ne(B.none),g=function(D){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,D.format)})}},C=function(D){var $=r(),U=$.matchOpt,G=$.size,ee=U.fold(ne(G),function(oe){return oe.title});Fn(D,H1,{text:ee})},E=u7(t,"fontsize_formats",jG,Z3.Space);return{tooltip:"Font sizes",text:B.some("12pt"),icon:B.none(),isSelectedFor:o,getPreviewFor:d,getCurrentValue:s,onAction:g,updateText:C,dataset:E,shouldHide:!1,isInvalid:ce}},JG=function(t,r){return c5(t,r,S9(t))},ZG=function(t,r){var o=J3(t,r,S9(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},x9=function(t,r){var o=r(),s=Ve(o,function(d){return d.format});return B.from(t.formatter.closest(s)).bind(function(d){return bt(o,function(g){return g.format===d})}).orThunk(function(){return qs(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},QG="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",k9=function(t){var r="Paragraph",o=function(C){return function(){return t.formatter.match(C)}},s=function(C){return function(){var E=t.formatter.get(C);return B.some({tag:E.length>0&&(E[0].inline||E[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))})}},d=function(C){var E=x9(t,function(){return g.data}),D=E.fold(ne(r),function($){return $.title});Fn(C,H1,{text:D})},g=u7(t,"block_formats",QG,Z3.SemiColon);return{tooltip:"Blocks",text:B.some(r),icon:B.none(),isSelectedFor:o,getCurrentValue:B.none,getPreviewFor:s,onAction:y9(t),updateText:d,dataset:g,shouldHide:!1,isInvalid:function(C){return!t.formatter.canApply(C.format)}}},eq=function(t,r){return c5(t,r,k9(t))},tq=function(t,r){var o=J3(t,r,k9(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},A9=function(t,r){var o="Paragraph",s=function(C){return function(){return t.formatter.match(C)}},d=function(C){return function(){var E=t.formatter.get(C);return E!==void 0?B.some({tag:E.length>0&&(E[0].inline||E[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))}):B.none()}},g=function(C){var E=function(G){var ee=G.items;return ee!==void 0&&ee.length>0?jt(ee,E):[{title:G.title,format:G.format}]},D=jt(UO(t),E),$=x9(t,ne(D)),U=$.fold(ne(o),function(G){return G.title});Fn(C,H1,{text:U})};return{tooltip:"Formats",text:B.some(o),icon:B.none(),isSelectedFor:s,getCurrentValue:B.none,getPreviewFor:d,onAction:y9(t),updateText:g,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(C){return!t.formatter.canApply(C.format)},dataset:r}},nq=function(t,r){var o=re({type:"advanced"},r.styleselect);return c5(t,r,A9(t,o))},rq=function(t,r){var o=re({type:"advanced"},r.styleselect),s=J3(t,r,A9(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},aq=function(t,r){var o=function(s,d){t.updateState.each(function(g){var C=g(s,d);r.set(C)}),t.renderComponents.each(function(g){var C=g(d,r.get()),E=Ve(C,s.getSystem().build);xw(s,E)})};return _a([$t(nl(),function(s,d){var g=d;if(!g.universal){var C=t.channel;ct(g.channels,C)&&o(s,g.data)}}),ur(function(s,d){t.initialData.each(function(g){o(s,g)})})])},oq=Object.freeze({__proto__:null,events:aq}),iq=function(t,r,o){return o},uq=Object.freeze({__proto__:null,getState:iq}),sq=[At("channel"),Xr("renderComponents"),Xr("updateState"),Xr("initialData")],lq=function(){var t=zn(B.none()),r=function(){return t.set(B.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:r}},cq=Object.freeze({__proto__:null,init:lq}),Ac=Ko({fields:sq,name:"reflecting",active:oq,apis:uq,state:cq}),fq=ne([At("toggleClass"),At("fetch"),wu("onExecute"),He("getHotspot",B.some),He("getAnchorOverrides",ne({})),od(),wu("onItemExecute"),Xr("lazySink"),At("dom"),Yr("onOpen"),Xo("splitDropdownBehaviours",[Do,Hn,er]),He("matchWidth",!1),He("useMinWidth",!1),He("eventOrder",{}),Xr("role")].concat(UT())),vq=Bi({factory:ms,schema:[At("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Zt([er.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(Bs)},buttonBehaviours:Zt([Nr.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),dq=Bi({factory:ms,schema:[At("dom")],name:"button",defaults:function(){return{buttonBehaviours:Zt([er.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),mq=ne([vq,dq,ul({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[At("text")],name:"aria-descriptor"}),Fs({schema:[em()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(s){t.onItemExecute(s,r,o)})}}}}),GR()]),hq=function(t,r,o,s){var d,g=function(G){Sr.getCurrent(G).each(function(ee){na.highlightFirst(ee),Hn.focusIn(ee)})},C=function(G){var ee=g;Dy(t,ge,G,s,ee,pf.HighlightFirst).get(q)},E=function(G){return C(G),B.some(!0)},D=function(G){var ee=cf(G,t,"button");return Bs(ee),B.some(!0)},$=re(re({},_a([ur(function(G,ee){var oe=pa(G,t,"aria-descriptor");oe.each(function(ve){var _e=wn("aria");cr(ve.element,"id",_e),cr(G.element,"aria-describedby",_e)})})])),gy(B.some(C))),U={repositionMenus:function(G){Nr.isOn(G)&&Ug(G)}};return{uid:t.uid,dom:t.dom,components:r,apis:U,eventOrder:re(re({},t.eventOrder),(d={},d[Rs()]=["disabling","toggling","alloy.base.behaviour"],d)),events:$,behaviours:li(t.splitDropdownBehaviours,[Do.config({others:{sandbox:function(G){var ee=cf(G,t,"arrow"),oe={onOpen:function(){Nr.on(ee),Nr.on(G)},onClose:function(){Nr.off(ee),Nr.off(G)}};return VT(t,G,oe)}}}),Hn.config({mode:"special",onSpace:D,onEnter:D,onDown:E}),er.config({}),Nr.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},NM=xu({name:"SplitDropdown",configFields:fq(),partFields:mq(),factory:hq,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),gq=function(t){return{isDisabled:function(){return In.isDisabled(t)},setDisabled:function(r){return In.set(t,r)}}},pq=function(t){return{setActive:function(r){Nr.set(t,r)},isActive:function(){return Nr.isOn(t)},isDisabled:function(){return In.isDisabled(t)},setDisabled:function(r){return In.set(t,r)}}},E9=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},T9=wn("focus-button"),l7=function(t,r,o,s,d,g){var C;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:E9(o,g)},components:Em([t.map(function(E){return w3(E,g.icons)}),r.map(function(E){return kO(E,"tox-tbtn",g)})]),eventOrder:(C={},C[Dl()]=["focusing","alloy.base.behaviour","common-button-display-events"],C),buttonBehaviours:Zt([gf.toolbarButton(g.isDisabled),ti(),sr("common-button-display-events",[$t(Dl(),function(E,D){D.event.prevent(),Wr(E,T9)})])].concat(s.map(function(E){return Ac.config({channel:E,initialData:{icon:t,text:r},renderComponents:function(D,$){return Em([D.icon.map(function(U){return w3(U,g.icons)}),D.text.map(function(U){return kO(U,"tox-tbtn",g)})])}})}).toArray()).concat(d.getOr([])))}},bq=function(t,r,o,s){var d=r.shared;return bs.sketch({lazySink:d.getSink,fetch:function(){return Xi.nu(function(g){g(Ve(o(t.items),Pe))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:l7(t.icon,t.text,t.tooltip,B.none(),B.none(),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},O9=function(t,r,o){var s=zn(q),d=l7(t.icon,t.text,t.tooltip,B.none(),B.none(),o);return ms.sketch({dom:d.dom,components:d.components,eventOrder:vB,buttonBehaviours:Zt([sr("toolbar-button-events",[fB({onAction:t.onAction,getApi:r.getApi}),E1(r,s),T1(r,s)]),gf.toolbarButton(function(){return t.disabled||o.isDisabled()}),ti()].concat(r.toolbarButtonBehaviours))})},yq=function(t,r){return D9(t,r,[])},D9=function(t,r,o){return O9(t,{toolbarButtonBehaviours:[].concat(o.length>0?[sr("toolbarButtonWith",o)]:[]),getApi:gq,onSetup:t.onSetup},r)},wq=function(t,r){return R9(t,r,[])},R9=function(t,r,o){return yt(O9(t,{toolbarButtonBehaviours:[ar.config({}),Nr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[sr("toolbarToggleButtonWith",o)]:[]),getApi:pq,onSetup:t.onSetup},r))},Cq=function(t,r,o){return function(s){return Xi.nu(function(d){return r.fetch(d)}).map(function(d){return B.from(AR(yt(DT(wn("menu-value"),d,function(g){r.onItemAction(t(s),g)},r.columns,r.presets,uu.CLOSE_ON_EXECUTE,r.select.getOr(ce),o),{movement:Uk(r.columns,r.presets),menuBehaviours:Ok.unnamedEvents(r.columns!=="auto"?[]:[ur(function(g,C){lT(g,4,oD(r.presets)).each(function(E){var D=E.numRows,$=E.numColumns;Hn.setGridSize(g,D,$)})})])})))})}},_q=function(t,r){var o,s=wn("channel-update-split-dropdown-display"),d=function(E){return{isDisabled:function(){return In.isDisabled(E)},setDisabled:function(D){return In.set(E,D)},setIconFill:function(D,$){jo(E.element,'svg path[id="'+D+'"], rect[id="'+D+'"]').each(function(U){cr(U,"fill",$)})},setIconStroke:function(D,$){jo(E.element,'svg path[id="'+D+'"], rect[id="'+D+'"]').each(function(U){cr(U,"stroke",$)})},setActive:function(D){cr(E.element,"aria-pressed",D),jo(E.element,"span").each(function($){E.getSystem().getByDom($).each(function(U){return Nr.set(U,D)})})},isActive:function(){return jo(E.element,"span").exists(function(D){return E.getSystem().getByDom(D).exists(Nr.isOn)})}}},g=zn(q),C={getApi:d,onSetup:t.onSetup};return NM.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:re({"aria-pressed":!1},E9(t.tooltip,r.providers))},onExecute:function(E){t.onAction(d(E))},onItemExecute:function(E,D,$){},splitDropdownBehaviours:Zt([gf.splitButton(r.providers.isDisabled),ti(),sr("split-dropdown-events",[$t(T9,er.focus),E1(C,g),T1(C,g)]),ZC.config({})]),eventOrder:(o={},o[ls()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:Cq(d,t,r.providers),parts:{menu:k1(!1,t.columns,t.presets)},components:[NM.parts.button(l7(t.icon,t.text,B.none(),B.some(s),B.some([Nr.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),NM.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:V5("chevron-down",r.providers.icons)},buttonBehaviours:Zt([gf.splitButton(r.providers.isDisabled),ti(),NE()])}),NM.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},Sq=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],f5=function(t,r){return function(o,s,d){var g=t(o).mapError(function(C){return Fv(C)}).getOrDie();return r(g,s,d)}},Q3={button:f5(Y5,function(t,r){return yq(t,r.backstage.shared.providers)}),togglebutton:f5(xk,function(t,r){return wq(t,r.backstage.shared.providers)}),menubutton:f5(X1,function(t,r){return TO(t,"tox-tbtn",r.backstage,B.none())}),splitbutton:f5(KL,function(t,r){return _q(t,r.backstage.shared)}),grouptoolbarbutton:f5(WL,function(t,r,o){var s,d=o.ui.registry.getAll().buttons,g=function(E){return zM(o,{buttons:d,toolbar:E,allowToolbarGroups:!1},r,B.none())},C=(s={},s[h0]=r.backstage.shared.header.isPositionedAtTop()?tf.TopToBottom:tf.BottomToTop,s);switch(zC(o)){case Ll.floating:return bq(t,r.backstage,g,C);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return nq(t,r.backstage)},fontsizeSelectButton:function(t,r){return JG(t,r.backstage)},fontSelectButton:function(t,r){return UG(t,r.backstage)},formatButton:function(t,r){return eq(t,r.backstage)},alignMenuButton:function(t,r){return zG(t,r.backstage)}},xq=function(t,r,o){return Tn(Q3,t.type).fold(function(){return console.error("skipping button defined by",t),B.none()},function(s){return B.some(s(t,r,o))})},$9={styleselect:Q3.styleSelectButton,fontsizeselect:Q3.fontsizeSelectButton,fontselect:Q3.fontSelectButton,formatselect:Q3.formatButton,align:Q3.alignMenuButton},kq=function(t){var r=Ve(Sq,function(o){var s=Ae(o.items,function(d){return Pr(t,d)||Pr($9,d)});return{name:o.name,items:s}});return Ae(r,function(o){return o.items.length>0})},Aq=function(t){var r=t.split("|");return Ve(r,function(o){return{items:o.trim().split(" ")}})},Eq=function(t){return Z(t,function(r){return Pr(r,"name")&&Pr(r,"items")})},Tq=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?kq(o):_(r)?Aq(r):Eq(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},Oq=function(t,r,o,s,d,g){return Tn(r,o.toLowerCase()).orThunk(function(){return g.bind(function(C){return Qr(C,function(E){return Tn(r,E+o.toLowerCase())})})}).fold(function(){return Tn($9,o.toLowerCase()).map(function(C){return C(t,d)}).orThunk(function(){return B.none()})},function(C){return C.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),B.none()):xq(C,d,t)})},zM=function(t,r,o,s){var d=Tq(r),g=Ve(d,function(C){var E=jt(C.items,function(D){return D.trim().length===0?[]:Oq(t,r.buttons,D,r.allowToolbarGroups,o,s).toArray()});return{title:B.from(t.translate(C.name)),items:E}});return Ae(g,function(C){return C.items.length>0})},B9=function(t,r,o,s){var d=r.outerContainer,g=o.toolbar,C=o.buttons;if(Z(g,_)){var E=g.map(function(D){var $={toolbar:D,buttons:C,allowToolbarGroups:o.allowToolbarGroups};return zM(t,$,{backstage:s},B.none())});zo.setToolbars(d,E)}else zo.setToolbar(d,zM(t,o,{backstage:s},B.none()))},M9=Wn(),Dq=M9.os.isiOS()&&M9.os.version.major<=12,Rq=function(t,r){var o=t.dom,s=t.getWin(),d=t.getDoc().documentElement,g=zn(ya(s.innerWidth,s.innerHeight)),C=zn(ya(d.offsetWidth,d.offsetHeight)),E=function(){var ee=g.get();(ee.left!==s.innerWidth||ee.top!==s.innerHeight)&&(g.set(ya(s.innerWidth,s.innerHeight)),CT(t))},D=function(){var ee=t.getDoc().documentElement,oe=C.get();(oe.left!==ee.offsetWidth||oe.top!==ee.offsetHeight)&&(C.set(ya(ee.offsetWidth,ee.offsetHeight)),CT(t))},$=function(ee){return VP(t,ee)};o.bind(s,"resize",E),o.bind(s,"scroll",$);var U=f0(sn.fromDom(t.getBody()),"load",D),G=r.uiMothership.element;t.on("hide",function(){Xn(G,"display","none")}),t.on("show",function(){Kr(G,"display")}),t.on("NodeChange",D),t.on("remove",function(){U.unbind(),o.unbind(s,"resize",E),o.unbind(s,"scroll",$),s=null})},$q=function(t,r,o,s,d){var g=zn(0),C=r.outerContainer;$G(t);var E=sn.fromDom(d.targetNode),D=Ql(xs(E));Pl(E,r.mothership),sv(D,r.uiMothership),t.on("PostRender",function(){B9(t,r,o,s),g.set(t.getWin().innerWidth),zo.setMenubar(C,h9(t,o)),zo.setSidebar(C,o.sidebar),Rq(t,r)});var $=zo.getSocket(C).getOrDie("Could not find expected socket element");if(Dq){rs($.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var U=c6(function(){t.fire("ScrollContent")},20),G=wo($.element,"scroll",U.throttle);t.on("remove",G.unbind)}ND(t,r),t.addCommand("ToggleSidebar",function(_e,Ne){zo.toggleSidebar(C,Ne),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return zo.whichSidebar(C)});var ee=zC(t),oe=function(){zo.refreshToolbar(r.outerContainer)};(ee===Ll.sliding||ee===Ll.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var _e=t.getWin().innerWidth;_e!==g.get()&&(oe(),g.set(_e))});var ve={enable:function(){Ay(r,!1)},disable:function(){Ay(r,!0)},isDisabled:function(){return In.isDisabled(C)}};return{iframeContainer:$.element.dom,editorContainer:C.element.dom,api:ve}},Bq=Object.freeze({__proto__:null,render:$q}),c7=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?B.some(parseInt(""+t,10)):B.none()},f7=function(t){return V(t)?t+"px":t},FM=function(t,r,o){var s=r.filter(function(g){return t<g}),d=o.filter(function(g){return t>g});return s.or(d).getOr(t)},Mq=function(t){var r=Rk(t),o=CD(t),s=_D(t);return c7(r).map(function(d){return FM(d,o,s)})},Pq=function(t){var r=Mq(t);return r.getOr(Rk(t))},P9=function(t){var r=$k(t),o=dT(t),s=Bk(t);return c7(r).map(function(d){return FM(d,o,s)})},Iq=function(t){var r=P9(t);return r.getOr($k(t))},Nq=function(t,r,o,s,d){var g=o.uiMothership,C=o.outerContainer,E=ky.DOM,D=Pk(t),$=Ik(t),U=Bk(t).or(P9(t)),G=s.shared.header,ee=G.isPositionedAtTop,oe=zC(t),ve=oe===Ll.sliding||oe===Ll.floating,_e=zn(!1),Ne=function(){return _e.get()&&!t.removed},we=function(Mt){return ve?Mt.fold(ne(0),function(Ct){return Ct.components().length>1?Mo(Ct.components()[1].element):0}):0},Fe=function(Mt){switch(ED(t)){case A1.auto:var Ct=zo.getToolbar(C),Xt=we(Ct),Cn=Mo(Mt.element)-Xt,Ot=Eo(r),bn=Ot.y>Cn;if(bn)return"top";var En=wt(r),Or=Math.max(En.dom.scrollHeight,Mo(En)),ia=Ot.bottom<Or-Cn;if(ia)return"bottom";var Pa=Si(),so=Pa.bottom<Ot.bottom-Cn;return so?"bottom":"top";case A1.bottom:return"bottom";case A1.top:default:return"top"}},vt=function(Mt){var Ct=d.get();Ro.setModes(Ct,[Mt]),G.setDockingMode(Mt);var Xt=ee()?tf.TopToBottom:tf.BottomToTop;cr(Ct.element,h0,Xt)},ft=function(){var Mt=U.getOrThunk(function(){var Ct=c7(ro(Fi(),"margin-left")).getOr(0);return Li(Fi())-vu(r).left+Ct});Xn(d.get().element,"max-width",Mt+"px")},ze=function(){var Mt=zo.getToolbar(C),Ct=we(Mt),Xt=Eo(r),Cn=ee()?Math.max(Xt.y-Mo(d.get().element)+Ct,0):Xt.bottom;rs(C.element,{position:"absolute",top:Math.round(Cn)+"px",left:Math.round(Xt.x)+"px"})},nt=function(){g.broadcastOn([vg()],{})},_t=function(Mt){if(Mt===void 0&&(Mt=!1),!!Ne()){if(D||ft(),ve&&zo.refreshToolbar(C),D||ze(),$){var Ct=d.get();Mt?Ro.reset(Ct):Ro.refresh(Ct)}nt()}},on=function(Mt){if(Mt===void 0&&(Mt=!0),!(D||!$||!Ne())){var Ct=G.getDockingMode(),Xt=Fe(d.get());Xt!==Ct&&(vt(Xt),Mt&&_t(!0))}},Dt=function(){_e.set(!0),Xn(C.element,"display","flex"),E.addClass(t.getBody(),"mce-edit-focus"),Kr(g.element,"display"),on(!1),_t()},ln=function(){_e.set(!1),o.outerContainer&&(Xn(C.element,"display","none"),E.removeClass(t.getBody(),"mce-edit-focus")),Xn(g.element,"display","none")};return{isVisible:Ne,isPositionedAtTop:ee,show:Dt,hide:ln,update:_t,updateMode:on,repositionPopups:nt}},I9=function(t,r){var o=Eo(t);return{pos:r?o.y:o.bottom,bounds:o}},zq=function(t,r,o,s){var d=zn(I9(r,o.isPositionedAtTop())),g=function(E){var D=I9(r,o.isPositionedAtTop()),$=D.pos,U=D.bounds,G=d.get(),ee=G.pos,oe=G.bounds,ve=U.height!==oe.height||U.width!==oe.width;d.set({pos:$,bounds:U}),ve&&CT(t,E),o.isVisible()&&(ee!==$?o.update(!0):ve&&(o.updateMode(),o.repositionPopups()))};s||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(E){Fg.requestAnimationFrame(function(){return g(E)})}),t.on("ScrollWindow",function(){return o.updateMode()});var C=qh();C.set(f0(sn.fromDom(t.getBody()),"load",g)),t.on("remove",function(){C.clear()})},Fq=function(t,r,o,s,d){var g=r.mothership,C=r.uiMothership,E=r.outerContainer,D=zn(null),$=sn.fromDom(d.targetNode),U=Nq(t,$,r,s,D),G=cP(t);BG(t);var ee=function(){if(D.get()){U.show();return}D.set(zo.getHeader(E).getOrDie());var ve=RD(t);sv(ve,g),sv(ve,C),B9(t,r,o,s),zo.setMenubar(E,h9(t,o)),U.show(),zq(t,$,U,G),t.nodeChanged()};t.on("show",ee),t.on("hide",U.hide),G||(t.on("focus",ee),t.on("blur",U.hide)),t.on("init",function(){(t.hasFocus()||G)&&ee()}),ND(t,r);var oe={show:function(){U.show()},hide:function(){U.hide()},enable:function(){Ay(r,!1)},disable:function(){Ay(r,!0)},isDisabled:function(){return In.isDisabled(E)}};return{editorContainer:E.element.dom,api:oe}},Lq=Object.freeze({__proto__:null,render:Fq}),Hq="contexttoolbar-show",N9="contexttoolbar-hide",Vq=function(t){return{hide:function(){return Wr(t,Dp())},getValue:function(){return an.getValue(t)}}},z9=function(t,r){return $t(cB,function(o,s){var d=t.get(o),g=Vq(d);r.onAction(g,s.event.buttonApi)})},Uq=function(t,r,o){var s=r.original;s.primary;var d=j(s,["primary"]),g=El(Y5(re(re({},d),{type:"button",onAction:q})));return D9(g,o.backstage.shared.providers,[z9(t,r)])},Wq=function(t,r,o){var s=r.original;s.primary;var d=j(s,["primary"]),g=El(xk(re(re({},d),{type:"togglebutton",onAction:q})));return R9(g,o.backstage.shared.providers,[z9(t,r)])},jq=function(t,r,o){var s={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?Wq(t,r,s):Uq(t,r,s)},Gq=function(t,r,o){var s=Ve(r,function(C){return oa(jq(t,C,o))}),d=function(){return Ve(s,function(C){return C.asSpec()})},g=function(C){return Qr(r,function(E,D){return E.primary?B.from(s[D]).bind(function($){return $.getOpt(C)}).filter(We(In.isDisabled)):B.none()})};return{asSpecs:d,findPrimary:g}},F9=function(t,r){var o=t.label.fold(function(){return{}},function(g){return{"aria-label":g}}),s=oa(YC.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:Zt([Hn.config({mode:"special",onEnter:function(g){return d.findPrimary(g).map(function(C){return Bs(C),!0})},onLeft:function(g,C){return C.cut(),B.none()},onRight:function(g,C){return C.cut(),B.none()}})])})),d=Gq(s,t.commands,r);return[{title:B.none(),items:[s.asSpec()]},{title:B.none(),items:d.asSpecs()}]},qq=function(t,r,o){return Gr({type:t,uid:wn("context-toolbar"),initGroups:F9(r,o),onEscape:B.none,cyclicKeying:!0,providers:o})},Kq={renderContextForm:qq,buildInitGroups:F9},L9=function(t,r,o){return o===void 0&&(o=.01),r.bottom-t.y>=o&&t.bottom-r.y>=o},Xq=function(t){var r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){var o=fb(sn.fromDom(t.startContainer),t.startOffset).element,s=Du(o)?xo(o):B.some(o);return s.filter(po).map(function(d){return d.dom.getBoundingClientRect()}).getOr(r)}else return r},v7=function(t){var r=t.selection.getRng(),o=Xq(r);if(t.inline){var s=os();return Vo(s.left+o.left,s.top+o.top,o.width,o.height)}else{var d=Hc(sn.fromDom(t.getBody()));return Vo(d.x+o.left,d.y+o.top,o.width,o.height)}},Yq=function(t,r){return r.filter(fu).map(Hc).getOrThunk(function(){return v7(t)})},Jq=function(t,r,o){var s=Math.max(t.x+o,r.x),d=Math.min(t.right-o,r.right);return{x:s,width:d-s}},Zq=function(t,r,o,s,d,g){var C=sn.fromDom(t.getContainer()),E=jo(C,".tox-editor-header").getOr(C),D=Eo(E),$=D.y>=r.bottom,U=s&&!$;if(t.inline&&U)return{y:Math.max(D.bottom+g,o.y),bottom:o.bottom};if(t.inline&&!U)return{y:o.y,bottom:Math.min(D.y-g,o.bottom)};var G=d==="line"?Eo(C):r;return U?{y:Math.max(D.bottom+g,o.y),bottom:Math.min(G.bottom-g,o.bottom)}:{y:Math.max(G.y+g,o.y),bottom:Math.min(D.y-g,o.bottom)}},H9=function(t,r,o,s){s===void 0&&(s=0);var d=Gf(window),g=Eo(sn.fromDom(t.getContentAreaContainer())),C=mT(t)||hT(t)||Mk(t),E=Jq(g,d,s),D=E.x,$=E.width;if(t.inline&&!C)return Vo(D,d.y,$,d.height);var U=r.header.isPositionedAtTop(),G=Zq(t,g,d,U,o,s),ee=G.y,oe=G.bottom;return Vo(D,ee,$,oe-ee)},LM=12,V9={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},U9={maxHeightFunction:Xh(),maxWidthFunction:Eu()},Qq=function(t,r){var o=t.selection.getRng(),s=fb(sn.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&Sa(s.element,r)},eK=function(t,r,o){var s=Ao(t,"position");Xn(t,"position",r);var d=o(t);return s.each(function(g){return Xn(t,"position",g)}),d},W9=function(t){return t==="node"},tK=function(t,r,o,s,d){var g=v7(t),C=s.lastElement().exists(function($){return Sa(o,$)});if(Qq(t,o))return C?F5:_c;if(C)return eK(r,s.getMode(),function(){var $=L9(g,Eo(r));return $&&!s.isReposition()?a6:F5});var E=s.getMode()==="fixed"?d.y+os().top:d.y,D=Mo(r)+LM;return E+D<=g.y?_c:Ig},nK=function(t,r,o,s){var d=function(D){return function($,U,G,ee,oe){var ve=tK(t,ee,D,o,oe),_e=re(re({},$),{y:oe.y,height:oe.height});return re(re({},ve(_e,U,G,ee,oe)),{alwaysFit:!0})}},g=function(D){return W9(s)?[d(D)]:[]},C={onLtr:function(D){return[Fu,No,Cu,qi,_u,ei].concat(g(D))},onRtl:function(D){return[Fu,No,_u,ei,Cu,qi].concat(g(D))}},E={onLtr:function(D){return[No,qi,ei,Cu,_u,Fu].concat(g(D))},onRtl:function(D){return[No,ei,qi,_u,Cu,Fu].concat(g(D))}};return r?E:C},rK=function(t,r,o,s){return r==="line"?{bubble:sm(LM,0,V9),layouts:{onLtr:function(){return[e0]},onRtl:function(){return[t0]}},overrides:U9}:{bubble:sm(0,LM,V9,1/LM),layouts:nK(t,o,s,r),overrides:U9}},d7=function(t,r){var o=Ae(r,function(C){return C.predicate(t.dom)}),s=Te(o,function(C){return C.type==="contexttoolbar"}),d=s.pass,g=s.fail;return{contextToolbars:d,contextForms:g}},aK=function(t){if(t.length<=1)return t;var r=function(E){return _n(t,function(D){return D.position===E})},o=function(E){return Ae(t,function(D){return D.position===E})},s=r("selection"),d=r("node");if(s||d)if(d&&s){var g=o("node"),C=Ve(o("selection"),function(E){return re(re({},E),{position:"node"})});return g.concat(C)}else return o(s?"selection":"node");else return o("line")},oK=function(t){if(t.length<=1)return t;var r=function(s){return bt(t,function(d){return d.position===s})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(s){return s.position});return o.fold(function(){return[]},function(s){return Ae(t,function(d){return d.position===s})})},iK=function(t,r,o){var s=d7(t,r);if(s.contextForms.length>0)return B.some({elem:t,toolbars:[s.contextForms[0]]});var d=d7(t,o);if(d.contextForms.length>0)return B.some({elem:t,toolbars:[d.contextForms[0]]});if(s.contextToolbars.length>0||d.contextToolbars.length>0){var g=aK(s.contextToolbars.concat(d.contextToolbars));return B.some({elem:t,toolbars:g})}else return B.none()},uK=function(t,r,o){return t(r)?B.none():Op(r,function(s){if(po(s)){var d=d7(s,o.inNodeScope),g=d.contextToolbars,C=d.contextForms,E=C.length>0?C:oK(g);return E.length>0?B.some({elem:s,toolbars:E}):B.none()}else return B.none()},t)},sK=function(t,r){var o=sn.fromDom(r.getBody()),s=function(C){return Sa(C,o)},d=function(C){return!s(C)&&!Sl(o,C)},g=sn.fromDom(r.selection.getNode());return d(g)?B.none():iK(g,t.inNodeScope,t.inEditorScope).orThunk(function(){return uK(s,g,t)})},lK=function(t,r){var o={},s=[],d=[],g={},C={},E=function(U,G){var ee=El(qE(G));o[U]=ee,ee.launch.map(function(oe){g["form:"+U]=re(re({},G.launch),{type:oe.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(ee)}})}),ee.scope==="editor"?d.push(ee):s.push(ee),C[U]=ee},D=function(U,G){Q5(G).each(function(ee){G.scope==="editor"?d.push(ee):s.push(ee),C[U]=ee})},$=Hr(t);return pt($,function(U){var G=t[U];G.type==="contextform"?E(U,G):G.type==="contexttoolbar"&&D(U,G)}),{forms:o,inNodeScope:s,inEditorScope:d,lookupTable:C,formNavigators:g}},j9=wn("forward-slide"),G9=wn("backward-slide"),m7=wn("change-slide-event"),h7="tox-pop--resizing",cK=function(t){var r=zn([]);return ca.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),ca.getContent(o).each(function(s){Kr(s.element,"visibility")}),Io(o.element,h7),Kr(o.element,"width")},inlineBehaviours:Zt([sr("context-toolbar-events",[To(Dh(),function(o,s){s.event.raw.propertyName==="width"&&(Io(o.element,h7),Kr(o.element,"width"))}),$t(m7,function(o,s){var d=o.element;Kr(d,"width");var g=Li(d);ca.setContent(o,s.event.contents),Wo(d,h7);var C=Li(d);Xn(d,"width",g+"px"),ca.getContent(o).each(function(E){s.event.focus.bind(function(D){return dc(D),mc(d)}).orThunk(function(){return Hn.focusIn(E),Su(xs(d))})}),Fg.setTimeout(function(){Xn(o.element,"width",C+"px")},0)}),$t(j9,function(o,s){ca.getContent(o).each(function(d){r.set(r.get().concat([{bar:d,focus:Su(xs(o.element))}]))}),Fn(o,m7,{contents:s.event.forwardContents,focus:B.none()})}),$t(G9,function(o,s){ua(r.get()).each(function(d){r.set(r.get().slice(0,r.get().length-1)),Fn(o,m7,{contents:zs(d.bar),focus:d.focus})})})]),Hn.config({mode:"special",onEscape:function(o){return ua(r.get()).fold(function(){return t.onEscape()},function(s){return Wr(o,G9),B.some(!0)})}})]),lazySink:function(){return dr.value(t.sink)}})},g7="tox-pop--transition",fK=function(t,r,o,s){var d=s.backstage,g=d.shared,C=Wn().deviceType.isTouch,E=mo(),D=mo(),$=mo(),U=Ua(cK({sink:o,onEscape:function(){return t.focus(),B.some(!0)}})),G=function(){var Dt=$.get().getOr("node"),ln=W9(Dt)?1:0;return H9(t,g,Dt,ln)},ee=function(){return!t.removed&&!(C()&&d.isContextMenuOpen())},oe=function(Dt){return lu(Gs(Dt,E.get(),Sa),!0)},ve=function(){if(ee()){var Dt=G(),ln=lu($.get(),"node")?Yq(t,E.get()):v7(t);return Dt.height<=0||!L9(ln,Dt)}else return!0},_e=function(){E.clear(),D.clear(),$.clear(),ca.hide(U)},Ne=function(){if(ca.isOpen(U)){var Dt=U.element;Kr(Dt,"display"),ve()?Xn(Dt,"display","none"):(D.set(0),ca.reposition(U))}},we=function(Dt){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Dt],behaviours:Zt([Hn.config({mode:"acyclic"}),sr("pop-dialog-wrap-events",[ur(function(ln){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return Hn.focusIn(ln)})}),Ms(function(ln){t.shortcuts.remove("ctrl+F9")})])])}},Fe=es(function(){return lK(r,function(Dt){var ln=ze([Dt]);Fn(U,j9,{forwardContents:we(ln)})})}),vt=function(Dt,ln){return zM(t,{buttons:Dt,toolbar:ln.items,allowToolbarGroups:!1},s,B.some(["form:"]))},ft=function(Dt,ln){return Kq.buildInitGroups(Dt,ln)},ze=function(Dt){var ln=t.ui.registry.getAll().buttons,Mt=Fe(),Ct=re(re({},ln),Mt.formNavigators),Xt=zC(t)===Ll.scrolling?Ll.scrolling:Ll.default,Cn=ut(Ve(Dt,function(Ot){return Ot.type==="contexttoolbar"?vt(Ct,Ot):ft(Ot,g.providers)}));return Gr({type:Xt,uid:wn("context-toolbar"),initGroups:Cn,onEscape:B.none,cyclicKeying:!0,providers:g.providers})},nt=function(Dt,ln){var Mt=Dt==="node"?g.anchors.node(ln):g.anchors.cursor(),Ct=rK(t,Dt,C(),{lastElement:E.get,isReposition:function(){return lu(D.get(),0)},getMode:function(){return ho.getMode(o)}});return yt(Mt,Ct)},_t=function(Dt,ln){if(on.cancel(),!!ee()){var Mt=ze(Dt),Ct=Dt[0].position,Xt=nt(Ct,ln);$.set(Ct),D.set(1);var Cn=U.element;Kr(Cn,"display"),oe(ln)||(Io(Cn,g7),ho.reset(o,U)),ca.showWithinBounds(U,we(Mt),{anchor:Xt,transition:{classes:[g7],mode:"placement"}},function(){return B.some(G())}),ln.fold(E.clear,E.set),ve()&&Xn(Cn,"display","none")}},on=HE(function(){if(!(!t.hasFocus()||t.removed))if(bu(U.element,g7))on.throttle();else{var Dt=Fe();sK(Dt,t).fold(_e,function(ln){_t(ln.toolbars,B.some(ln.elem))})}},17);t.on("init",function(){t.on("remove",_e),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Ne),t.on("click keyup focus SetContent",on.throttle),t.on(N9,_e),t.on(Hq,function(Dt){var ln=Fe();Tn(ln.lookupTable,Dt.toolbarKey).each(function(Mt){_t([Mt],qs(Dt.target!==t,Dt.target)),ca.getContent(U).each(Hn.focusIn)})}),t.on("focusout",function(Dt){Fg.setEditorTimeout(t,function(){mc(o.element).isNone()&&mc(U.element).isNone()&&_e()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&_e()}),t.on("AfterProgressState",function(Dt){Dt.state?_e():t.hasFocus()&&on.throttle()}),t.on("NodeChange",function(Dt){mc(U.element).fold(on.throttle,q)})})},vK=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];pt(r,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:kv(t,o.cmd),onSetup:PM(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:kv(t,"JustifyNone")})},dK={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},mK=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,s="\\.",d=function(E){return"(?:"+E+")?"},g=["Infinity",t+s+d(t)+d(o),s+t+d(o),t+d(o)].join("|"),C="[+-]?(?:"+g+")";return new RegExp("^("+C+")(.*)$")}(),hK=function(t,r){return _n(r,function(o){return _n(dK[o],function(s){return t===s})})},gK=function(t,r){var o=B.from(mK.exec(t));return o.bind(function(s){var d=Number(s[1]),g=s[2];return hK(g,r)?B.some({value:d,unit:g}):B.none()})},pK=function(t,r){return gK(t,r).map(function(o){var s=o.value,d=o.unit;return s+d})},q9=function(t,r){var o=function(){var s=r.getOptions(t),d=r.getCurrent(t).map(r.hash),g=mo();return Ve(s,function(C){return{type:"togglemenuitem",text:r.display(C),onSetup:function(E){var D=function(U){U&&(g.on(function(G){return G.setActive(!1)}),g.set(E)),E.setActive(U)};D(lu(d,r.hash(C)));var $=r.watcher(t,C,D);return function(){g.clear(),$()}},onAction:function(){return r.setCurrent(t,C)}}})};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(s){return s(o())},onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:o,onSetup:r.onMenuSetup})},bK={name:"lineheight",text:"Line height",icon:"line-height",getOptions:SD,hash:function(t){return pK(t,["fixed","relative","empty"]).getOr(t)},display:ge,watcher:function(t,r,o){return t.formatter.formatChanged("lineheight",o,!1,{value:r}).unbind},getCurrent:function(t){return B.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,r){return t.execCommand("LineHeight",!1,r)}},yK=function(t){var r=B.from(xD(t));return r.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:ne(o),hash:function(s){return W(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,d,g){return s.formatter.formatChanged("lang",g,!1,{value:d.code,customValue:d.customCode}).unbind},getCurrent:function(s){var d=sn.fromDom(s.selection.getNode());return Ah(d,function(g){return B.some(g).filter(po).bind(function(C){var E=Xa(C,"lang");return E.map(function(D){var $=Xa(C,"data-mce-lang").getOrUndefined();return{code:D,customCode:$,title:""}})})})},setCurrent:function(s,d){return s.execCommand("Lang",!1,d)},onToolbarSetup:function(s){var d=qh();return s.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",s.setActive,!0)),d.clear}}})},wK=function(t){q9(t,bK),yK(t).each(function(r){return q9(t,r)})},CK=function(t,r){FG(t,r),WG(t,r),rq(t,r),tq(t,r),ZG(t,r)},_K=function(t){return IM(t,"NodeChange",function(r){r.setDisabled(!t.queryCommandState("outdent"))})},SK=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:_K(t),onAction:kv(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:kv(t,"indent")})},xK=function(t){SK(t)},p7=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},kK=function(t){Kg.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,d){t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:PM(t,s.name),onAction:p7(t,s.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:PM(t,o),onAction:p7(t,o)})}},AK=function(t){Kg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:kv(t,r.action)})})},EK=function(t){Kg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:kv(t,r.action),onSetup:PM(t,r.name)})})},TK=function(t){kK(t),AK(t),EK(t)},OK=function(t){Kg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:kv(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:p7(t,"code")})},DK=function(t){TK(t),OK(t)},HM=function(t,r){return IM(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[r]())})},RK=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:HM(t,"hasUndo"),onAction:kv(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:HM(t,"hasRedo"),onAction:kv(t,"redo")})},$K=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:HM(t,"hasUndo"),onAction:kv(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:HM(t,"hasRedo"),onAction:kv(t,"redo")})},BK=function(t){RK(t),$K(t)},MK=function(t){return IM(t,"VisualAid",function(r){r.setActive(t.hasVisual)})},PK=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:MK(t),onAction:kv(t,"mceToggleVisualAid")})},IK=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:kv(t,"mceToggleVisualAid")})},NK=function(t){IK(t),PK(t)},zK=function(t,r){vK(t),DK(t),CK(t,r),BK(t),YP(t),NK(t),xK(t),wK(t)},v5=function(t,r){return{type:"makeshift",x:t,y:r}},FK=function(t,r,o){return v5(t.x+r,t.y+o)},K9=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},LK=function(t){if(K9(t)){var r=t.touches[0];return v5(r.pageX,r.pageY)}else return v5(t.pageX,t.pageY)},HK=function(t){if(K9(t)){var r=t.touches[0];return v5(r.clientX,r.clientY)}else return v5(t.clientX,t.clientY)},VK=function(t,r){var o=ky.DOM.getPos(t);return FK(r,o.x,o.y)},UK=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?LK(r):VK(t.getContentAreaContainer(),HK(r)):X9(t)},X9=function(t){return{type:"selection",root:sn.fromDom(t.selection.getNode())}},WK=function(t){return{type:"node",node:B.some(sn.fromDom(t.selection.getNode())),root:sn.fromDom(t.getBody())}},Y9=function(t,r,o){switch(o){case"node":return WK(t);case"point":return UK(t,r);case"selection":return X9(t)}},jK=function(t,r,o,s,d,g){var C=o(),E=Y9(t,r,g);Iy(C,uu.CLOSE_ON_EXECUTE,s,!1).map(function(D){r.preventDefault(),ca.showMenuAt(d,{anchor:E},{menu:{markers:Cy("normal")},data:D})})},GK={onLtr:function(){return[No,qi,ei,Cu,_u,Fu,_c,Ig,Pg,Bg,Mg,by]},onRtl:function(){return[No,ei,qi,_u,Cu,Fu,_c,Ig,Mg,by,Pg,Bg]}},qK=12,KK={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},XK=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var s=r.touches[0],d=o.getRng(),g=bw(t.getWin(),Zh.domRange(d));return g.exists(function(C){return C.left<=s.clientX&&C.right>=s.clientX&&C.top<=s.clientY&&C.bottom>=s.clientY})},YK=function(t){var r=t.selection.getRng(),o=function(){Fg.setEditorTimeout(t,function(){t.selection.setRng(r)},10),g()};t.once("touchend",o);var s=function(C){C.preventDefault(),C.stopImmediatePropagation()};t.on("mousedown",s,!0);var d=function(){return g()};t.once("longpresscancel",d);var g=function(){t.off("touchend",o),t.off("longpresscancel",d),t.off("mousedown",s)}},JK=function(t,r,o){var s=Y9(t,r,o),d=o==="point"?qK:0;return re({bubble:sm(0,d,KK),layouts:GK,overrides:{maxWidthFunction:Eu(),maxHeightFunction:Xh()}},s)},ZK=function(t,r,o,s,d,g,C){var E=JK(t,r,g);Iy(o,uu.CLOSE_ON_EXECUTE,s,!0).map(function(D){r.preventDefault(),ca.showMenuWithinBounds(d,{anchor:E},{menu:{markers:Cy("normal"),highlightImmediately:C},data:D,type:"horizontal"},function(){return B.some(H9(t,s.shared,g==="node"?"node":"selection"))}),t.fire(N9)})},QK=function(t,r,o,s,d,g){var C=Wn(),E=C.os.isiOS(),D=C.os.isOSX(),$=C.os.isAndroid(),U=C.deviceType.isTouch(),G=function(){return!($||E||D&&U)},ee=function(){var ve=o();ZK(t,r,ve,s,d,g,G())};if((D||E)&&g!=="node"){var oe=function(){YK(t),ee()};XK(t,r)?oe():(t.once("selectionchange",oe),t.once("touchend",function(){return t.off("selectionchange",oe)}))}else ee()},J9=function(t){return typeof t=="string"?t.split(/[ ,]/):t},Z9=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},eX=function(t,r,o){var s=t.ui.registry.getAll().contextMenus;return B.from(t.getParam(r)).map(J9).getOrThunk(function(){return Ae(J9(o),function(d){return Pr(s,d)})})},tX=function(t){return t.getParam("contextmenu")===!1},nX=function(t){return eX(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},rX=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},Q9=function(t){return _(t)?t==="|":t.type==="separator"},b7={type:"separator"},eV=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(_(t))return t;switch(t.type){case"separator":return b7;case"submenu":return re(re({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return _(o)?o:Ve(o,eV)}});default:return re(re({type:"menuitem"},r(t)),{onAction:$e(t.onAction)})}},tV=function(t,r){if(r.length===0)return t;var o=ua(t).filter(function(d){return!Q9(d)}),s=o.fold(function(){return[]},function(d){return[b7]});return t.concat(s).concat(r).concat([b7])},aX=function(t,r,o){var s=et(r,function(d,g){return Tn(t,g.toLowerCase()).map(function(C){var E=C.update(o);if(_(E))return tV(d,E.split(" "));if(E.length>0){var D=Ve(E,eV);return tV(d,D)}else return d}).getOrThunk(function(){return d.concat([g])})},[]);return s.length>0&&Q9(s[s.length-1])&&s.pop(),s},oX=function(t,r){return r.ctrlKey&&!Z9(t)},nV=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},rV=function(t,r){return nV(t,r)?t.selection.getStart(!0):r.target},iX=function(t,r){var o=rX(t),s=nV(t,r)?"selection":"point";if(Mc(o)){var d=rV(t,r),g=jC(sn.fromDom(d),o);return g?"node":s}else return s},uX=function(t,r,o){var s=Wn(),d=s.deviceType.isTouch,g=Ua(ca.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Zt([sr("dismissContextMenu",[$t(Rl(),function(D,$){Br.close(D),t.focus()})])])})),C=function(D){return ca.hide(g)},E=function(D){if(Z9(t)&&D.preventDefault(),!(oX(t,D)||tX(t))){var $=iX(t,D),U=function(){var ee=rV(t,D),oe=t.ui.registry.getAll(),ve=nX(t);return aX(oe.contextMenus,ve,ee)},G=d()?QK:jK;G(t,D,U,o,g,$)}};t.on("init",function(){var D="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(D,C),t.on("longpress contextmenu",E)})},y7=Ds.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),VM=function(t){return function(r){return r.translate(-t.left,-t.top)}},UM=function(t){return function(r){return r.translate(t.left,t.top)}},Y1=function(t){return function(r,o){return et(t,function(s,d){return d(s)},ya(r,o))}},WM=function(t,r,o){return t.fold(Y1([UM(o),VM(r)]),Y1([VM(r)]),Y1([]))},eA=function(t,r,o){return t.fold(Y1([UM(o)]),Y1([]),Y1([UM(r)]))},aV=function(t,r,o){return t.fold(Y1([]),Y1([VM(o)]),Y1([UM(r),VM(o)]))},sX=function(t,r,o,s,d,g){var C=eA(t,d,g),E=eA(r,d,g);return Math.abs(C.left-E.left)<=o&&Math.abs(C.top-E.top)<=s},lX=function(t,r,o,s,d,g){var C=eA(t,d,g),E=eA(r,d,g),D=Math.abs(C.left-E.left),$=Math.abs(C.top-E.top);return ya(D,$)},oV=function(t,r,o){var s=t.fold(function(d,g){return{position:B.some("absolute"),left:B.some(d+"px"),top:B.some(g+"px")}},function(d,g){return{position:B.some("absolute"),left:B.some(d-o.left+"px"),top:B.some(g-o.top+"px")}},function(d,g){return{position:B.some("fixed"),left:B.some(d+"px"),top:B.some(g+"px")}});return re({right:B.none(),bottom:B.none()},s)},cX=function(t,r,o){return t.fold(function(s,d){return jM(s+r,d+o)},function(s,d){return Vy(s+r,d+o)},function(s,d){return S_(s+r,d+o)})},w7=function(t,r,o,s){var d=function(g,C){return function(E,D){var $=g(r,o,s);return C(E.getOr($.left),D.getOr($.top))}};return t.fold(d(aV,jM),d(eA,Vy),d(WM,S_))},jM=y7.offset,Vy=y7.absolute,S_=y7.fixed,iV=function(t,r){var o=Ha(t,r);return W(o)?NaN:parseInt(o,10)},fX=function(t,r){var o=t.element,s=iV(o,r.leftAttr),d=iV(o,r.topAttr);return isNaN(s)||isNaN(d)?B.none():B.some(ya(s,d))},vX=function(t,r,o){var s=t.element;cr(s,r.leftAttr,o.left+"px"),cr(s,r.topAttr,o.top+"px")},dX=function(t,r){var o=t.element;oi(o,r.leftAttr),oi(o,r.topAttr)},mX=function(t,r,o,s){return fX(t,r).fold(function(){return o},function(d){return S_(d.left+s.left,d.top+s.top)})},hX=function(t,r,o,s,d,g){var C=mX(t,r,o,s),E=r.mustSnap?pX(t,r,C,d,g):bX(t,r,C,d,g),D=WM(C,d,g);return vX(t,r,D),E.fold(function(){return{coord:S_(D.left,D.top),extra:B.none()}},function($){return{coord:$.output,extra:$.extra}})},gX=function(t,r){dX(t,r)},uV=function(t,r,o,s){return Qr(t,function(d){var g=d.sensor,C=sX(r,g,d.range.left,d.range.top,o,s);return C?B.some({output:w7(d.output,r,o,s),extra:d.extra}):B.none()})},pX=function(t,r,o,s,d){var g=r.getSnapPoints(t),C=uV(g,o,s,d);return C.orThunk(function(){var E=et(g,function(D,$){var U=$.sensor,G=lX(o,U,$.range.left,$.range.top,s,d);return D.deltas.fold(function(){return{deltas:B.some(G),snap:B.some($)}},function(ee){var oe=(G.left+G.top)/2,ve=(ee.left+ee.top)/2;return oe<=ve?{deltas:B.some(G),snap:B.some($)}:D})},{deltas:B.none(),snap:B.none()});return E.snap.map(function(D){return{output:w7(D.output,o,s,d),extra:D.extra}})})},bX=function(t,r,o,s,d){var g=r.getSnapPoints(t);return uV(g,o,s,d)},yX=function(t,r,o){return{coord:w7(t.output,t.output,r,o),extra:t.extra}},wX=function(t,r,o,s){var d=r.getTarget(t.element);if(r.repositionTarget){var g=Jo(t.element),C=os(g),E=F3(d),D=yX(s,C,E),$=oV(D.coord,C,E);no(d,$)}},CX=Object.freeze({__proto__:null,snapTo:wX}),C7="data-initial-z-index",_X=function(t){xo(t.element).filter(po).each(function(r){Xa(r,C7).fold(function(){return Kr(r,"z-index")},function(o){return Xn(r,"z-index",o)}),oi(r,C7)})},SX=function(t){xo(t.element).filter(po).each(function(r){Ao(r,"z-index").each(function(o){cr(r,C7,o)}),Xn(r,"z-index",ro(t.element,"z-index"))})},sV=function(t,r){t.getSystem().addToGui(r),SX(r)},xX=function(t){_X(t),t.getSystem().removeFromGui(t)},lV=function(t,r,o){return t.getSystem().build(ku.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},kX=ss("snaps",[At("getSnapPoints"),Yr("onSensor"),At("leftAttr"),At("topAttr"),He("lazyViewport",Si),He("mustSnap",!1)]),_7=[He("useFixed",ce),At("blockerClass"),He("getTarget",ge),He("onDrag",q),He("repositionTarget",!0),He("onDrop",q),Ta("getBounds",Si),kX],AX=function(t){return rh(Ao(t,"left"),Ao(t,"top"),Ao(t,"position"),function(r,o,s){var d=s==="fixed"?S_:jM;return d(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=vu(t);return Vy(r.left,r.top)})},EX=function(t,r,o,s,d){var g=d.bounds,C=eA(r,o,s),E=fs(C.left,g.x,g.x+g.width-d.width),D=fs(C.top,g.y,g.y+g.height-d.height),$=Vy(E,D);return r.fold(function(){var U=aV($,o,s);return jM(U.left,U.top)},ne($),function(){var U=WM($,o,s);return S_(U.left,U.top)})},TX=function(t,r,o,s,d,g,C){var E=r.fold(function(){var D=cX(o,g.left,g.top),$=WM(D,s,d);return S_($.left,$.top)},function(D){var $=hX(t,D,o,g,s,d);return $.extra.each(function(U){D.onSensor(t,U)}),$.coord});return EX(t,E,s,d,C)},OX=function(t,r,o,s){var d=r.getTarget(t.element);if(r.repositionTarget){var g=Jo(t.element),C=os(g),E=F3(d),D=AX(d),$=TX(t,r.snaps,D,C,E,s,o),U=oV($,C,E);no(d,U)}r.onDrag(t,d,s)},cV=function(t,r){return{bounds:t.getBounds(),height:as(r.element),width:du(r.element)}},S7=function(t,r,o,s,d){var g=o.update(s,d),C=o.getStartData().getOrThunk(function(){return cV(r,t)});g.each(function(E){OX(t,r,C,E)})},fV=function(t,r,o,s){r.each(xX),o.snaps.each(function(g){gX(t,g)});var d=o.getTarget(t.element);s.reset(),o.onDrop(t,d)},x7=function(t){return function(r,o){var s=function(d){o.setStartData(cV(r,d))};return _a(ke([$t(_2(),function(d){o.getStartData().each(function(){return s(d)})})],t(r,o,s),!0))}},DX=function(t){return _a([$t(Dl(),t.forceDrop),$t(g2(),t.drop),$t(Hd(),function(r,o){t.move(o.event)}),$t(h2(),t.delayDrop)])},RX=function(t){return B.from(ya(t.x,t.y))},$X=function(t,r){return ya(r.left-t.left,r.top-t.top)},BX=Object.freeze({__proto__:null,getData:RX,getDelta:$X}),vV=function(t,r,o){return[$t(Dl(),function(s,d){var g=d.event.raw;if(g.button===0){d.stop();var C=function(){return fV(s,B.some($),t,r)},E=TR(C,200),D={drop:C,delayDrop:E.schedule,forceDrop:C,move:function(G){E.cancel(),S7(s,t,r,BX,G)}},$=lV(s,t.blockerClass,DX(D)),U=function(){o(s),sV(s,$)};U()}})]},MX=ke(ke([],_7,!0),[ka("dragger",{handlers:x7(vV)})],!1),PX=function(t){return _a([$t(Gc(),t.forceDrop),$t(Hv(),t.drop),$t(rS(),t.drop),$t(Ol(),function(r,o){t.move(o.event)})])},IX=function(t){var r=t[0];return B.some(ya(r.clientX,r.clientY))},NX=function(t){var r=t.raw,o=r.touches;return o.length===1?IX(o):B.none()},zX=function(t,r){return ya(r.left-t.left,r.top-t.top)},dV=Object.freeze({__proto__:null,getData:NX,getDelta:zX}),mV=function(t,r,o){var s=mo(),d=function(g){fV(g,s.get(),t,r),s.clear()};return[$t(Gc(),function(g,C){C.stop();var E=function(){return d(g)},D={drop:E,delayDrop:q,forceDrop:E,move:function(G){S7(g,t,r,dV,G)}},$=lV(g,t.blockerClass,PX(D));s.set($);var U=function(){o(g),sV(g,$)};U()}),$t(Ol(),function(g,C){C.stop(),S7(g,t,r,dV,C.event)}),$t(Hv(),function(g,C){C.stop(),d(g)}),$t(rS(),d)]},FX=ke(ke([],_7,!0),[ka("dragger",{handlers:x7(mV)})],!1),LX=function(t,r,o){return ke(ke([],vV(t,r,o),!0),mV(t,r,o),!0)},HX=ke(ke([],_7,!0),[ka("dragger",{handlers:x7(LX)})],!1),VX=MX,UX=FX,WX=HX,jX=Object.freeze({__proto__:null,mouse:VX,touch:UX,mouseOrTouch:WX}),GX=function(){var t=B.none(),r=B.none(),o=function(){t=B.none(),r=B.none()},s=function(D,$){var U=t.map(function(G){return D.getDelta(G,$)});return t=B.some($),U},d=function(D,$){return D.getData($).bind(function(U){return s(D,U)})},g=function(D){r=B.some(D)},C=function(){return r},E=ne({});return Gi({readState:E,reset:o,update:d,getStartData:C,setStartData:g})},qX=Object.freeze({__proto__:null,init:GX}),x_=om({branchKey:"mode",branches:jX,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:B.from(t.extra)}}},state:qX,apis:CX}),k7=40,GM=k7/2,hV=function(t,r,o,s,d,g){return t.fold(function(){return x_.snap({sensor:Vy(o-GM,s-GM),range:ya(d,g),output:Vy(B.some(o),B.some(s)),extra:{td:r}})},function(C){var E=o-GM,D=s-GM,$=k7,U=k7,G=C.element.dom.getBoundingClientRect();return x_.snap({sensor:Vy(E,D),range:ya($,U),output:Vy(B.some(o-G.width/2),B.some(s-G.height/2)),extra:{td:r}})})},gV=function(t,r,o){var s=function(d,g){return d.exists(function(C){return Sa(C,g)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(d,g){var C=g.td;s(r.get(),C)||(r.set(C),o(C))},mustSnap:!0}},pV=function(t){return oa(ms.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Zt([x_.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),ZC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},KX=function(t,r){var o=zn([]),s=zn([]),d=zn(!1),g=mo(),C=mo(),E=function(_t){var on=Hc(_t);return hV(oe.getOpt(r),_t,on.x,on.y,on.width,on.height)},D=function(){return Ve(o.get(),function(_t){return E(_t)})},$=function(_t){var on=Hc(_t);return hV(ve.getOpt(r),_t,on.right,on.bottom,on.width,on.height)},U=function(){return Ve(s.get(),function(_t){return $(_t)})},G=gV(D,g,function(_t){C.get().each(function(on){t.fire("TableSelectorChange",{start:_t,finish:on})})}),ee=gV(U,C,function(_t){g.get().each(function(on){t.fire("TableSelectorChange",{start:on,finish:_t})})}),oe=pV(G),ve=pV(ee),_e=Ua(oe.asSpec()),Ne=Ua(ve.asSpec()),we=function(_t,on,Dt,ln){var Mt=on.dom.getBoundingClientRect();Kr(_t.element,"display");var Ct=vh(sn.fromDom(t.getBody())).dom.innerHeight,Xt=Dt(Mt),Cn=ln(Mt,Ct);(Xt||Cn)&&Xn(_t.element,"display","none")},Fe=function(_t,on,Dt,ln){var Mt=Dt(on);x_.snapTo(_t,Mt);var Ct=function(Cn){return Cn[ln]<0},Xt=function(Cn,Ot){return Cn[ln]>Ot};we(_t,on,Ct,Xt)},vt=function(_t){return Fe(_e,_t,E,"top")},ft=function(){return g.get().each(vt)},ze=function(_t){return Fe(Ne,_t,$,"bottom")},nt=function(){return C.get().each(ze)};Wn().deviceType.isTouch()&&(t.on("TableSelectionChange",function(_t){d.get()||(vm(r,_e),vm(r,Ne),d.set(!0)),g.set(_t.start),C.set(_t.finish),_t.otherCells.each(function(on){o.set(on.upOrLeftCells),s.set(on.downOrRightCells),vt(_t.start),ze(_t.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){ft(),nt()}),t.on("TableSelectionClear",function(){d.get()&&(bc(_e),bc(Ne),d.set(!1)),g.clear(),C.clear()}))},XX=function(t){return!!(t.nodeType===1&&(t.nodeName==="BR"||t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark"))},YX=function(t,r,o){r.delimiter||(r.delimiter="»");var s=function(g){var C=g||[],E=Ve(C,function($,U){return ms.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":U,"tab-index":-1,"aria-level":U+1},innerHtml:$.name},action:function(G){t.focus(),t.selection.select($.element),t.nodeChanged()},buttonBehaviours:Zt([gf.button(o.isDisabled),ti()])})}),D={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return et(E.slice(1),function($,U){var G=$;return G.push(D),G.push(U),G},[E[0]])},d=function(g){for(var C=[],E=g.length;E-- >0;){var D=g[E];if(D.nodeType===1&&!XX(D)){var $=t.fire("ResolveName",{name:D.nodeName.toLowerCase(),target:D});if($.isDefaultPrevented()||C.push({name:$.name,element:D}),$.isPropagationStopped())break}}return C};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Zt([Hn.config({mode:"flow",selector:"div[role=button]"}),In.config({disabled:o.isDisabled}),ti(),Oo.config({}),ar.config({}),sr("elementPathEvents",[ur(function(g,C){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Hn.focusIn(g)}),t.on("NodeChange",function(E){var D=d(E.parents);D.length>0?ar.set(g,s(D)):ar.set(g,[])})})])]),components:[]}},k_;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(k_||(k_={}));var JX=function(t,r,o,s,d){var g={};return g.height=FM(s+r.top,CD(t),_D(t)),o===k_.Both&&(g.width=FM(d+r.left,dT(t),Bk(t))),g},bV=function(t,r,o){var s=sn.fromDom(t.getContainer()),d=JX(t,r,o,Mo(s),Li(s));Ur(d,function(g,C){return Xn(s,C,f7(g))}),HP(t)},ZX=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?k_.None:o==="both"?k_.Both:k_.Vertical},qM=function(t,r,o,s){var d=20,g=ya(o*d,s*d);return bV(t,g,r),B.some(!0)},QX=function(t,r){var o=ZX(t);return o===k_.None?B.none():B.some(gv("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[x_.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,d,g){return bV(t,g,o)},blockerClass:"tox-blocker"}),Hn.config({mode:"special",onLeft:function(){return qM(t,o,-1,0)},onRight:function(){return qM(t,o,1,0)},onUp:function(){return qM(t,o,0,-1)},onDown:function(){return qM(t,o,0,1)}}),Oo.config({}),er.config({})]},r.icons))},eY=function(t,r){var o,s=function(d,g,C){return ar.set(d,[Ti(r.translate(["{0} "+C,g[C]]))])};return ms.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Zt([gf.button(r.isDisabled),ti(),Oo.config({}),ar.config({}),an.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),sr("wordcount-events",[cs(function(d){var g=an.getValue(d),C=g.mode==="words"?"characters":"words";an.setValue(d,{mode:C,count:g.count}),s(d,g.count,C)}),ur(function(d){t.on("wordCountUpdate",function(g){var C=an.getValue(d).mode;an.setValue(d,{mode:C,count:g.wordCount}),s(d,g.wordCount,C)})})])]),eventOrder:(o={},o[Rs()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},tY=function(t,r){var o=function(){var g=hf.translate(["Powered by {0}","Tiny"]),C='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+g+'">'+g+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:C}}},s=function(){var g=[];return t.getParam("elementpath",!0,"boolean")&&g.push(YX(t,{},r)),t.hasPlugin("wordcount")&&g.push(eY(t,r)),t.getParam("branding",!0,"boolean")&&g.push(o()),g.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:g}]:[]},d=function(){var g=s(),C=QX(t,r);return g.concat(C.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:d()}},nY=function(t){var r,o=t.inline,s=o?Lq:Bq,d=Ik(t)?G3:RL,g=B.none(),C=Wn(),E=C.browser.isIE(),D=E?["tox-platform-ie"]:[],$=C.deviceType.isTouch(),U="tox-platform-touch",G=$?[U]:[],ee=TD(t),oe=RD(t),ve=hf.isRtl()?{attributes:{dir:"rtl"}}:{},_e={attributes:(r={},r[h0]=ee?tf.BottomToTop:tf.TopToBottom,r)},Ne=function(){return g.bind(zo.getHeader)},we=function(){return d.isDocked(Ne)},Fe=function(){Xn(Ku.element,"width",document.body.clientWidth+"px")},vt=function(){var pi=Sa(Fi(),oe)&&ro(oe,"display")==="grid",Lm={dom:re({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(D).concat(G)},ve),behaviours:Zt([ho.config({useFixed:function(){return we()}})])},rp={dom:{styles:{width:document.body.clientWidth+"px"}},events:_a([$t($s(),Fe)])};return yt(Lm,pi?rp:{})},ft=Ua(vt()),ze=function(){return dr.value(ft)},nt=oa({dom:{tag:"div",classes:["tox-anchorbar"]}}),_t=function(){return g.bind(function(pi){return nt.getOpt(pi)}).getOrDie("Could not find a anchor bar element")},on=function(){return g.bind(function(pi){return zo.getToolbar(pi)}).getOrDie("Could not find more toolbar element")},Dt=function(){return g.bind(function(pi){return zo.getThrobber(pi)}).getOrDie("Could not find throbber element")},ln=N3(ft,t,_t),Mt=zo.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ln,onEscape:function(){t.focus()}}),Ct=zC(t),Xt=zo.parts.toolbar(re({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ze,providers:ln.shared.providers,onEscape:function(){t.focus()},type:Ct,lazyToolbar:on,lazyHeader:function(){return Ne().getOrDie("Could not find header element")}},_e)),Cn=zo.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ln.shared.providers,onEscape:function(){t.focus()},type:Ct}),Ot=zo.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),bn=zo.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),En=zo.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ln}),Or=t.getParam("statusbar",!0,"boolean"),ia=Or&&!o?B.some(tY(t,ln.shared.providers)):B.none(),Pa={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Ot,bn]},so=Mk(t),vl=hT(t),Tu=mT(t),nA=function(){return so?[Cn]:vl?[Xt]:[]},gi=zo.parts.header({dom:re({tag:"div",classes:["tox-editor-header"]},_e),components:ut([Tu?[Mt]:[],nA(),Pk(t)?[]:[nt.asSpec()]]),sticky:Ik(t),editor:t,sharedBackstage:ln.shared}),J1=ut([ee?[]:[gi],o?[]:[Pa],ee?[gi]:[]]),Z1={dom:{tag:"div",classes:["tox-editor-container"]},components:J1},T_=ut([[Z1],o?[]:ia.toArray(),[En]]),Q1=$D(t),O_=re(re({role:"application"},hf.isRtl()?{dir:"rtl"}:{}),Q1?{"aria-hidden":"true"}:{}),ys=Ua(zo.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(ee?["tox-tinymce--toolbar-bottom"]:[]).concat(G).concat(D),styles:re({visibility:"hidden"},Q1?{opacity:"0",border:"0"}:{}),attributes:O_},components:T_,behaviours:Zt([ti(),In.config({disableClass:"tox-tinymce--disabled"}),Hn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));g=B.some(ys),t.shortcuts.add("alt+F9","focus menubar",function(){zo.focusMenubar(ys)}),t.shortcuts.add("alt+F10","focus toolbar",function(){zo.focusToolbar(ys)}),t.addCommand("ToggleToolbarDrawer",function(){zo.toggleToolbarDrawer(ys)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return zo.isToolbarDrawerToggled(ys)});var Av=PR(ys),Ku=PR(ft);xL(t,Av,Ku);var D_=function(){var pi={broadcastAll:Ku.broadcast,broadcastOn:Ku.broadcastOn,register:q};return{channels:pi}},np=function(){var pi=f7(Pq(t)),Lm=f7(Iq(t));return t.inline||(ks("div","width",Lm)&&Xn(ys.element,"width",Lm),ks("div","height",pi)?Xn(ys.element,"height",pi):Xn(ys.element,"height","200px")),pi},Wy=function(){d.setup(t,ln.shared,Ne),zK(t,ln),uX(t,ze,ln),fe(t),uo(t,Dt,ln.shared),vr(sP(t),function(Xu,dl){t.ui.registry.addGroupToolbarButton(dl,Xu)});var pi=t.ui.registry.getAll(),Lm=pi.buttons,rp=pi.menuItems,eb=pi.contextToolbars,Ev=pi.sidebars,ap=AD(t),dn={menuItems:rp,menus:fP(t),menubar:vP(t),toolbar:ap.getOrThunk(function(){return dP(t)}),allowToolbarGroups:Ct===Ll.floating,buttons:Lm,sidebar:Ev};fK(t,eb,ft,{backstage:ln}),KX(t,ft);var hr=t.getElement(),la=np(),Qa={mothership:Av,uiMothership:Ku,outerContainer:ys},ws={targetNode:hr,height:la};return s.render(t,Qa,dn,ln,ws)};return{mothership:Av,uiMothership:Ku,backstage:ln,renderUI:Wy,getUi:D_}},rY=function(t,r){var o=B.from(Ha(t,"id")).fold(function(){var s=wn("dialog-describe");return cr(r,"id",s),s},ge);cr(t,"aria-describedby",o)},aY=function(t,r){var o=Xa(t,"id").fold(function(){var s=wn("dialog-label");return cr(r,"id",s),s},ge);cr(t,"aria-labelledby",o)},oY=ne([At("lazySink"),Xr("dragBlockClass"),Ta("getBounds",Si),He("useTabstopAt",Ee),He("eventOrder",{}),Xo("modalBehaviours",[Hn]),Go("onExecute"),zu("onEscape")]),A7={sketch:ge},iY=ne([ul({name:"draghandle",overrides:function(t,r){return{behaviours:Zt([x_.config({mode:"mouse",getTarget:function(o){return jb(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),Bi({schema:[At("dom")],name:"title"}),Bi({factory:A7,schema:[At("dom")],name:"close"}),Bi({factory:A7,schema:[At("dom")],name:"body"}),ul({factory:A7,schema:[At("dom")],name:"footer"}),Fs({factory:{sketch:function(t,r){return re(re({},t),{dom:r.dom,components:r.components})}},schema:[He("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),He("components",[])],name:"blocker"})]),uY=function(t,r,o,s){var d,g=mo(),C=function(ve){g.set(ve);var _e=t.lazySink(ve).getOrDie(),Ne=s.blocker(),we=_e.getSystem().build(re(re({},Ne),{components:Ne.components.concat([zs(ve)]),behaviours:Zt([er.config({}),sr("dialog-blocker-events",[To(tl(),function(){Hn.focusIn(ve)})])])}));vm(_e,we),Hn.focusIn(ve)},E=function(ve){g.clear(),xo(ve.element).each(function(_e){ve.getSystem().getByDom(_e).each(function(Ne){bc(Ne)})})},D=function(ve){return cf(ve,t,"body")},$=function(ve){return cf(ve,t,"footer")},U=function(ve,_e){Ut.block(ve,_e)},G=function(ve){Ut.unblock(ve)},ee=wn("modal-events"),oe=re(re({},t.eventOrder),(d={},d[ls()]=[ee].concat(t.eventOrder["alloy.system.attached"]||[]),d));return{uid:t.uid,dom:t.dom,components:r,apis:{show:C,hide:E,getBody:D,getFooter:$,setIdle:G,setBusy:U},eventOrder:oe,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:li(t.modalBehaviours,[ar.config({}),Hn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),Ut.config({getRoot:g.get}),sr(ee,[ur(function(ve){aY(ve.element,cf(ve,t,"title").element),rY(ve.element,cf(ve,t,"body").element)})])])}},Ii=xu({name:"ModalDialog",configFields:oY(),partFields:iY(),factory:uY,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),sY=Mn([Qn("type"),Qn("name")].concat(Lg)),lY=ii,yV=[Uo("name","name",Rr(function(){return wn("button-name")}),yo),Ea("icon"),Os("align","end",["start","end"]),Ca("primary",!1),Ca("disabled",!1)],wV=ke(ke([],yV,!0),[Qn("text")],!1),E7=ke([Ts("type",["submit","cancel","custom"])],wV,!0),cY=ke([Ts("type",["menu"]),Ea("text"),Ea("tooltip"),Ea("icon"),Wi("items",sY)],yV,!0),fY=el("type",{submit:E7,cancel:E7,custom:E7,menu:cY}),vY=[Qn("type"),Qn("text"),Ts("level",["info","warn","error","success"]),Qn("icon"),He("url","")],dY=Mn(vY),mY=function(t){return[Qn("type"),t]},hY=[Qn("type"),Qn("text"),Ca("disabled",!1),Ca("primary",!1),Uo("name","name",Rr(function(){return wn("button-name")}),yo),Ea("icon"),Ca("borderless",!1)],gY=Mn(hY),pY=[Qn("type"),Qn("name"),Qn("label"),Ca("disabled",!1)],bY=Mn(pY),yY=ii,T7=[Qn("type"),Qn("name")],Od=T7.concat([Ea("label")]),wY=Od.concat([He("columns","auto")]),CY=Mn(wY),_Y=l2([Qn("value"),Qn("text"),Qn("icon")]),SY=Od,xY=Mn(SY),kY=yo,AY=Od,EY=Mn(AY),TY=yo,OY=T7.concat([kh("tag","textarea"),Qn("scriptId"),Qn("scriptUrl"),Nu("settings",void 0)]),DY=T7.concat([kh("tag","textarea"),tu("init")]),RY=Sh(function(t){return Ya("customeditor.old",is(DY),t).orThunk(function(){return Ya("customeditor.new",is(OY),t)})}),$Y=yo,BY=Od,MY=Mn(BY),PY=EA(),IY=function(t){return[Qn("type"),Yf("columns"),t]},NY=[Qn("type"),Qn("html"),Os("presets","presentation",["presentation","document"])],zY=Mn(NY),FY=Od.concat([Ca("sandboxed",!0)]),LY=Mn(FY),HY=yo,VY=Od.concat([Iu("currentState",Mn([At("blob"),Qn("url")]))]),UY=Mn(VY),WY=Od.concat([Ea("inputMode"),Ea("placeholder"),Ca("maximized",!1),Ca("disabled",!1)]),jY=Mn(WY),GY=yo,qY=function(t){return[Qn("type"),Qn("label"),t]},KY=[Qn("text"),Qn("value")],XY=[Qn("text"),Wi("items",TA("items",function(){return CV}))],CV=xp([Mn(KY),Mn(XY)]),YY=Od.concat([Wi("items",CV),Ca("disabled",!1)]),JY=Mn(YY),ZY=yo,QY=Od.concat([Tl("items",[Qn("text"),Qn("value")]),sc("size",1),Ca("disabled",!1)]),eJ=Mn(QY),tJ=yo,nJ=Od.concat([Ca("constrain",!0),Ca("disabled",!1)]),rJ=Mn(nJ),_V=Mn([Qn("width"),Qn("height")]),aJ=[Qn("type"),Wi("header",yo),Wi("cells",Xf(yo))],oJ=Mn(aJ),iJ=Od.concat([Ea("placeholder"),Ca("maximized",!1),Ca("disabled",!1)]),uJ=Mn(iJ),sJ=yo,lJ=Od.concat([Os("filetype","file",["image","media","file"]),He("disabled",!1)]),cJ=Mn(lJ),fJ=Mn([Qn("value"),He("meta",{})]),O7=function(t){return Uo("items","items",rr(),Xf(Sh(function(r){return Ya("Checking item of "+t,D7,r).fold(function(o){return dr.error(Fv(o))},function(o){return dr.value(o)})})))},D7=X_(function(){return Cb("type",{alertbanner:dY,bar:Mn(mY(O7("bar"))),button:gY,checkbox:bY,colorinput:xY,colorpicker:EY,dropzone:MY,grid:Mn(IY(O7("grid"))),iframe:LY,input:jY,listbox:JY,selectbox:eJ,sizeinput:rJ,textarea:uJ,urlinput:cJ,customeditor:RY,htmlpanel:zY,imagetools:UY,collection:CY,label:Mn(qY(O7("label"))),table:oJ,panel:SV})}),vJ=[Qn("type"),He("classes",[]),Wi("items",D7)],SV=Mn(vJ),dJ=[Uo("name","name",Rr(function(){return wn("tab-name")}),yo),Qn("title"),Wi("items",D7)],mJ=[Qn("type"),Tl("tabs",dJ)],hJ=Mn(mJ),gJ=wV,pJ=fY,bJ=Mn([Qn("title"),Iu("body",Cb("type",{panel:SV,tabpanel:hJ})),kh("size","normal"),Wi("buttons",pJ),He("initialData",{}),Ta("onAction",q),Ta("onChange",q),Ta("onSubmit",q),Ta("onClose",q),Ta("onCancel",q),He("onTabChange",q)]),yJ=function(t){return Ya("dialog",bJ,t)},wJ=Mn(ke([Ts("type",["cancel","custom"])],gJ,!0)),CJ=Mn([Qn("title"),Qn("url"),Ld("height"),Ld("width"),us("buttons",wJ),Ta("onAction",q),Ta("onCancel",q),Ta("onClose",q),Ta("onMessage",q)]),_J=function(t){return Ya("dialog",CJ,t)},R7=function(t){return x(t)?[t].concat(jt(wi(t),R7)):T(t)?jt(t,R7):[]},SJ=function(t){return _(t.type)&&_(t.name)},xJ={checkbox:yY,colorinput:kY,colorpicker:TY,dropzone:PY,input:GY,iframe:HY,sizeinput:_V,selectbox:tJ,listbox:ZY,size:_V,textarea:sJ,urlinput:fJ,customeditor:$Y,collection:_Y,togglemenuitem:lY},kJ=function(t){return B.from(xJ[t.type])},AJ=function(t){return Ae(R7(t),SJ)},EJ=function(t){var r=AJ(t),o=jt(r,function(s){return kJ(s).fold(function(){return[]},function(d){return[Iu(s.name,d)]})});return Mn(o)},xV=function(t){var r=El(yJ(t)),o=EJ(t),s=t.initialData;return{internalDialog:r,dataValidator:o,initialData:s}},d5={open:function(t,r){var o=xV(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=El(_J(r));return t(o)},redial:function(t){return xV(t)}},kV=function(t){var r=[],o={};return Ur(t,function(s,d){s.fold(function(){r.push(d)},function(g){o[d]=g})}),r.length>0?dr.error(r):dr.value(o)},TJ=function(t,r){var o=oa(By.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Ve(t.items,function(d){return $3(s,d,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:Zt([Hn.config({mode:"acyclic",useTabstopAt:We(f_)}),wv.memento(o),Mm.memento(o,{postprocess:function(s){return kV(s).fold(function(d){return console.error(d),{}},ge)}})])}},OJ=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:gy(t.action),behaviours:li(t.tabButtonBehaviours,[er.config({}),Hn.config({mode:"execution",useSpace:!0,useEnter:!0}),an.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},DJ=Ls({name:"TabButton",configFields:[He("uid",void 0),At("value"),Uo("dom","dom",xi(function(){return{attributes:{role:"tab",id:wn("aria"),"aria-selected":"false"}}}),Al()),Xr("action"),He("domModification",{}),Xo("tabButtonBehaviours",[er,Hn,an]),At("view")],factory:OJ}),RJ=ne([At("tabs"),At("dom"),He("clickToDismiss",!1),Xo("tabbarBehaviours",[na,Hn]),tm(["tabClass","selectedClass"])]),$J=lf({factory:DJ,name:"tabs",unit:"tab",overrides:function(t){var r=function(s,d){na.dehighlight(s,d),Fn(s,Ai(),{tabbar:s,button:d})},o=function(s,d){na.highlight(s,d),Fn(s,aS(),{tabbar:s,button:d})};return{action:function(s){var d=s.getSystem().getByUid(t.uid).getOrDie(),g=na.isHighlighted(d,s),C=function(){return g&&t.clickToDismiss?r:g?q:o}();C(d,s)},domModification:{classes:[t.markers.tabClass]}}}}),BJ=ne([$J]),MJ=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:li(t.tabbarBehaviours,[na.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(d,g){cr(g.element,"aria-selected","true")},onDehighlight:function(d,g){cr(g.element,"aria-selected","false")}}),Hn.config({mode:"flow",getInitial:function(d){return na.getHighlighted(d).map(function(g){return g.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},AV=xu({name:"Tabbar",configFields:RJ(),partFields:BJ(),factory:MJ}),PJ=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:li(t.tabviewBehaviours,[ar.config({})]),domModification:{attributes:{role:"tabpanel"}}}},IJ=Ls({name:"Tabview",configFields:[Xo("tabviewBehaviours",[ar])],factory:PJ}),NJ=ne([He("selectFirst",!0),Yr("onChangeTab"),Yr("onDismissTab"),He("tabs",[]),Xo("tabSectionBehaviours",[])]),zJ=Bi({factory:AV,schema:[At("dom"),Uc("markers",[At("tabClass"),At("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),FJ=Bi({factory:IJ,name:"tabview"}),LJ=ne([zJ,FJ]),HJ=function(t,r,o,s){var d=function(C){var E=an.getValue(C);pa(C,t,"tabview").each(function(D){var $=bt(t.tabs,function(U){return U.value===E});$.each(function(U){var G=U.view();Xa(C.element,"id").each(function(ee){cr(D.element,"aria-labelledby",ee)}),ar.set(D,G),t.onChangeTab(D,C,G)})})},g=function(C,E){pa(C,t,"tabbar").each(function(D){E(D).each(Bs)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:gg(t.tabSectionBehaviours),events:_a(ut([t.selectFirst?[ur(function(C,E){g(C,na.getFirst)})]:[],[$t(aS(),function(C,E){var D=E.event.button;d(D)}),$t(Ai(),function(C,E){var D=E.event.button;t.onDismissTab(C,D)})]])),apis:{getViewItems:function(C){return pa(C,t,"tabview").map(function(E){return ar.contents(E)}).getOr([])},showTab:function(C,E){var D=function($){var U=na.getCandidates($),G=bt(U,function(ee){return an.getValue(ee)===E});return G.filter(function(ee){return!na.isHighlighted($,ee)})};g(C,D)}}}},tA=xu({name:"TabSection",configFields:NJ(),partFields:LJ(),factory:HJ,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),VJ=function(t,r,o){return Ve(t,function(s,d){ar.set(o,t[d].view());var g=r.dom.getBoundingClientRect();return ar.set(o,[]),g.height})},UJ=function(t){return ir(fr(t,function(r,o){return r>o?-1:r<o?1:0}))},WJ=function(t,r,o){var s=wt(t).dom,d=jb(t,".tox-dialog-wrap").getOr(t),g=ro(d,"position")==="fixed",C;g?C=Math.max(s.clientHeight,window.innerHeight):C=Math.max(s.offsetHeight,s.scrollHeight);var E=Mo(r),D=r.dom.offsetLeft>=o.dom.offsetLeft+Li(o),$=D?Math.max(Mo(o),E):E,U=parseInt(ro(t,"margin-top"),10)||0,G=parseInt(ro(t,"margin-bottom"),10)||0,ee=Mo(t)+U+G,oe=ee-$;return C-oe},jJ=function(t,r){ir(t).each(function(o){return tA.showTab(r,o.value)})},EV=function(t,r){Xn(t,"height",r+"px"),Wn().browser.isIE()?Kr(t,"flex-basis"):Xn(t,"flex-basis",r+"px")},KM=function(t,r,o){jb(t,'[role="dialog"]').each(function(s){jo(s,'[role="tablist"]').each(function(d){o.get().map(function(g){return Xn(r,"height","0"),Xn(r,"flex-basis","0"),Math.min(g,WJ(s,r,d))}).each(function(g){EV(r,g)})})})},$7=function(t){return jo(t,'[role="tabpanel"]')},GJ=function(t){var r=function(){var s=mo(),d=[ur(function(C){var E=C.element;$7(E).each(function(D){Xn(D,"visibility","hidden"),C.getSystem().getByDom(D).toOptional().each(function($){var U=VJ(t,D,$),G=UJ(U);G.fold(s.clear,s.set)}),KM(E,D,s),Kr(D,"visibility"),jJ(t,C),Fg.requestAnimationFrame(function(){KM(E,D,s)})})}),$t($s(),function(C){var E=C.element;$7(E).each(function(D){KM(E,D,s)})}),$t(IT,function(C,E){var D=C.element;$7(D).each(function($){var U=Su(xs($));Xn($,"visibility","hidden");var G=Ao($,"height").map(function(ve){return parseInt(ve,10)});Kr($,"height"),Kr($,"flex-basis");var ee=$.dom.getBoundingClientRect().height,oe=G.forall(function(ve){return ee>ve});oe?(s.set(ee),KM(D,$,s)):G.each(function(ve){EV($,ve)}),Kr($,"visibility"),U.each(dc)})})],g=!1;return{extraEvents:d,selectFirst:g}}(),o=function(){var s=[],d=!0;return{extraEvents:s,selectFirst:d}}();return{smartTabHeight:r,naiveTabHeight:o}},TV="send-data-to-section",OV="send-data-to-view",qJ=function(t,r){var o=zn({}),s=function(D){var $=an.getValue(D),U=kV($).getOr({}),G=o.get(),ee=yt(G,U);o.set(ee)},d=function(D){var $=o.get();an.setValue(D,$)},g=zn(null),C=Ve(t.tabs,function(D){return{value:D.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(D.title)},view:function(){return[By.sketch(function($){return{dom:{tag:"div",classes:["tox-form"]},components:Ve(D.items,function(U){return $3($,U,r)}),formBehaviours:Zt([Hn.config({mode:"acyclic",useTabstopAt:We(f_)}),sr("TabView.form.events",[ur(d),Ms(s)]),nu.config({channels:Zf([{key:TV,value:{onReceive:s}},{key:OV,value:{onReceive:d}}])})])}})]}}}),E=GJ(C).smartTabHeight;return tA.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(D,$,U){var G=an.getValue($);Fn(D,PT,{name:G,oldName:g.get()}),g.set(G)},tabs:C,components:[tA.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[AV.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Zt([Oo.config({})])}),tA.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:E.selectFirst,tabSectionBehaviours:Zt([sr("tabpanel",E.extraEvents),Hn.config({mode:"acyclic"}),Sr.config({find:function(D){return ir(tA.getViewItems(D))}}),an.config({store:{mode:"manual",getValue:function(D){return D.getSystem().broadcastOn([TV],{}),o.get()},setValue:function(D,$){o.set($),D.getSystem().broadcastOn([OV],{})}}})])})},B7=wn("update-dialog"),DV=wn("update-title"),RV=wn("update-body"),$V=wn("update-footer"),BV=wn("body-send-message"),MV=function(t,r,o,s){var d=function(E){switch(E.body.type){case"tabpanel":return[qJ(E.body,o)];default:return[TJ(E.body,o)]}},g=function(E,D){return B.some({isTabPanel:function(){return D.body.type==="tabpanel"}})},C={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:re(re({},r.map(function(E){return{id:E}}).getOr({})),s?C:{})},components:[],behaviours:Zt([wv.childAt(0),Ac.config({channel:RV,updateState:g,renderComponents:d,initialData:t})])}},KJ=function(t,r,o,s){return MV(t,B.some(r),o,s)},XJ=function(t,r){var o=MV(t,B.none(),r,!1);return Ii.parts.body(o)},YJ=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[gO({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Zt([Oo.config({}),er.config({})])})]}],behaviours:Zt([Hn.config({mode:"acyclic",useTabstopAt:We(f_)})])};return Ii.parts.body(r)};function A_(t){"@babel/helpers - typeof";return A_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},A_(t)}function M7(t,r){return M7=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},M7(t,r)}function JJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function XM(t,r,o){return JJ()?XM=Reflect.construct:XM=function(d,g,C){var E=[null];E.push.apply(E,g);var D=Function.bind.apply(d,E),$=new D;return C&&M7($,C.prototype),$},XM.apply(null,arguments)}function zm(t){return ZJ(t)||QJ(t)||eZ(t)||tZ()}function ZJ(t){if(Array.isArray(t))return P7(t)}function QJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eZ(t,r){if(t){if(typeof t=="string")return P7(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return P7(t,r)}}function P7(t,r){(r==null||r>t.length)&&(r=t.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=t[o];return s}function tZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nZ=Object.hasOwnProperty,PV=Object.setPrototypeOf,rZ=Object.isFrozen,aZ=Object.getPrototypeOf,oZ=Object.getOwnPropertyDescriptor,Ec=Object.freeze,tp=Object.seal,iZ=Object.create,IV=typeof Reflect<"u"&&Reflect,YM=IV.apply,I7=IV.construct;YM||(YM=function(r,o,s){return r.apply(o,s)}),Ec||(Ec=function(r){return r}),tp||(tp=function(r){return r}),I7||(I7=function(r,o){return XM(r,zm(o))});var uZ=Fm(Array.prototype.forEach),NV=Fm(Array.prototype.pop),m5=Fm(Array.prototype.push),JM=Fm(String.prototype.toLowerCase),sZ=Fm(String.prototype.match),Uy=Fm(String.prototype.replace),lZ=Fm(String.prototype.indexOf),cZ=Fm(String.prototype.trim),Tc=Fm(RegExp.prototype.test),N7=fZ(TypeError);function Fm(t){return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),d=1;d<o;d++)s[d-1]=arguments[d];return YM(t,r,s)}}function fZ(t){return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return I7(t,o)}}function Da(t,r){PV&&PV(t,null);for(var o=r.length;o--;){var s=r[o];if(typeof s=="string"){var d=JM(s);d!==s&&(rZ(r)||(r[o]=d),s=d)}t[s]=!0}return t}function E_(t){var r=iZ(null),o;for(o in t)YM(nZ,t,[o])&&(r[o]=t[o]);return r}function ZM(t,r){for(;t!==null;){var o=oZ(t,r);if(o){if(o.get)return Fm(o.get);if(typeof o.value=="function")return Fm(o.value)}t=aZ(t)}function s(d){return console.warn("fallback value for",d),null}return s}var zV=Ec(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),z7=Ec(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F7=Ec(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),vZ=Ec(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),L7=Ec(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),dZ=Ec(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),FV=Ec(["#text"]),LV=Ec(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),H7=Ec(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),HV=Ec(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),QM=Ec(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mZ=tp(/\{\{[\w\W]*|[\w\W]*\}\}/gm),hZ=tp(/<%[\w\W]*|[\w\W]*%>/gm),gZ=tp(/^data-[\-\w.\u00B7-\uFFFF]/),pZ=tp(/^aria-[\-\w]+$/),bZ=tp(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yZ=tp(/^(?:\w+script|data):/i),wZ=tp(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),CZ=tp(/^html$/i),_Z=function(){return typeof window>"u"?null:window},SZ=function(r,o){if(A_(r)!=="object"||typeof r.createPolicy!="function")return null;var s=null,d="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(d)&&(s=o.currentScript.getAttribute(d));var g="dompurify"+(s?"#"+s:"");try{return r.createPolicy(g,{createHTML:function(E){return E}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function VV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_Z(),r=function(dt){return VV(dt)};if(r.version="2.3.8",r.removed=[],!t||!t.document||t.document.nodeType!==9)return r.isSupported=!1,r;var o=t.document,s=t.document,d=t.DocumentFragment,g=t.HTMLTemplateElement,C=t.Node,E=t.Element,D=t.NodeFilter,$=t.NamedNodeMap,U=$===void 0?t.NamedNodeMap||t.MozNamedAttrMap:$,G=t.HTMLFormElement,ee=t.DOMParser,oe=t.trustedTypes,ve=E.prototype,_e=ZM(ve,"cloneNode"),Ne=ZM(ve,"nextSibling"),we=ZM(ve,"childNodes"),Fe=ZM(ve,"parentNode");if(typeof g=="function"){var vt=s.createElement("template");vt.content&&vt.content.ownerDocument&&(s=vt.content.ownerDocument)}var ft=SZ(oe,o),ze=ft?ft.createHTML(""):"",nt=s,_t=nt.implementation,on=nt.createNodeIterator,Dt=nt.createDocumentFragment,ln=nt.getElementsByTagName,Mt=o.importNode,Ct={};try{Ct=E_(s).documentMode?s.documentMode:{}}catch{}var Xt={};r.isSupported=typeof Fe=="function"&&_t&&typeof _t.createHTMLDocument<"u"&&Ct!==9;var Cn=mZ,Ot=hZ,bn=gZ,En=pZ,Or=yZ,ia=wZ,Pa=bZ,so=null,vl=Da({},[].concat(zm(zV),zm(z7),zm(F7),zm(L7),zm(FV))),Tu=null,nA=Da({},[].concat(zm(LV),zm(H7),zm(HV),zm(QM))),gi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),J1=null,Z1=null,T_=!0,Q1=!0,O_=!1,ys=!1,Av=!1,Ku=!1,D_=!1,np=!1,Wy=!1,pi=!1,Lm=!0,rp=!0,eb=!1,Ev={},ap=null,dn=Da({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),hr=null,la=Da({},["audio","video","img","source","image","track"]),Qa=null,ws=Da({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xu="http://www.w3.org/1998/Math/MathML",dl="http://www.w3.org/2000/svg",Oc="http://www.w3.org/1999/xhtml",jy=Oc,R_=!1,Gy,G7=["application/xhtml+xml","text/html"],q7="text/html",tb,qy=null,JZ=s.createElement("form"),lU=function(dt){return dt instanceof RegExp||dt instanceof Function},K7=function(dt){qy&&qy===dt||((!dt||A_(dt)!=="object")&&(dt={}),dt=E_(dt),so="ALLOWED_TAGS"in dt?Da({},dt.ALLOWED_TAGS):vl,Tu="ALLOWED_ATTR"in dt?Da({},dt.ALLOWED_ATTR):nA,Qa="ADD_URI_SAFE_ATTR"in dt?Da(E_(ws),dt.ADD_URI_SAFE_ATTR):ws,hr="ADD_DATA_URI_TAGS"in dt?Da(E_(la),dt.ADD_DATA_URI_TAGS):la,ap="FORBID_CONTENTS"in dt?Da({},dt.FORBID_CONTENTS):dn,J1="FORBID_TAGS"in dt?Da({},dt.FORBID_TAGS):{},Z1="FORBID_ATTR"in dt?Da({},dt.FORBID_ATTR):{},Ev="USE_PROFILES"in dt?dt.USE_PROFILES:!1,T_=dt.ALLOW_ARIA_ATTR!==!1,Q1=dt.ALLOW_DATA_ATTR!==!1,O_=dt.ALLOW_UNKNOWN_PROTOCOLS||!1,ys=dt.SAFE_FOR_TEMPLATES||!1,Av=dt.WHOLE_DOCUMENT||!1,np=dt.RETURN_DOM||!1,Wy=dt.RETURN_DOM_FRAGMENT||!1,pi=dt.RETURN_TRUSTED_TYPE||!1,D_=dt.FORCE_BODY||!1,Lm=dt.SANITIZE_DOM!==!1,rp=dt.KEEP_CONTENT!==!1,eb=dt.IN_PLACE||!1,Pa=dt.ALLOWED_URI_REGEXP||Pa,jy=dt.NAMESPACE||Oc,dt.CUSTOM_ELEMENT_HANDLING&&lU(dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(gi.tagNameCheck=dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),dt.CUSTOM_ELEMENT_HANDLING&&lU(dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(gi.attributeNameCheck=dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),dt.CUSTOM_ELEMENT_HANDLING&&typeof dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(gi.allowCustomizedBuiltInElements=dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Gy=G7.indexOf(dt.PARSER_MEDIA_TYPE)===-1?Gy=q7:Gy=dt.PARSER_MEDIA_TYPE,tb=Gy==="application/xhtml+xml"?function(Sn){return Sn}:JM,ys&&(Q1=!1),Wy&&(np=!0),Ev&&(so=Da({},zm(FV)),Tu=[],Ev.html===!0&&(Da(so,zV),Da(Tu,LV)),Ev.svg===!0&&(Da(so,z7),Da(Tu,H7),Da(Tu,QM)),Ev.svgFilters===!0&&(Da(so,F7),Da(Tu,H7),Da(Tu,QM)),Ev.mathMl===!0&&(Da(so,L7),Da(Tu,HV),Da(Tu,QM))),dt.ADD_TAGS&&(so===vl&&(so=E_(so)),Da(so,dt.ADD_TAGS)),dt.ADD_ATTR&&(Tu===nA&&(Tu=E_(Tu)),Da(Tu,dt.ADD_ATTR)),dt.ADD_URI_SAFE_ATTR&&Da(Qa,dt.ADD_URI_SAFE_ATTR),dt.FORBID_CONTENTS&&(ap===dn&&(ap=E_(ap)),Da(ap,dt.FORBID_CONTENTS)),rp&&(so["#text"]=!0),Av&&Da(so,["html","head","body"]),so.table&&(Da(so,["tbody"]),delete J1.tbody),Ec&&Ec(dt),qy=dt)},cU=Da({},["mi","mo","mn","ms","mtext"]),fU=Da({},["foreignobject","desc","title","annotation-xml"]),ZZ=Da({},["title","style","font","a","script"]),e8=Da({},z7);Da(e8,F7),Da(e8,vZ);var X7=Da({},L7);Da(X7,dZ);var QZ=function(dt){var Sn=Fe(dt);(!Sn||!Sn.tagName)&&(Sn={namespaceURI:Oc,tagName:"template"});var lr=JM(dt.tagName),Fo=JM(Sn.tagName);return dt.namespaceURI===dl?Sn.namespaceURI===Oc?lr==="svg":Sn.namespaceURI===Xu?lr==="svg"&&(Fo==="annotation-xml"||cU[Fo]):!!e8[lr]:dt.namespaceURI===Xu?Sn.namespaceURI===Oc?lr==="math":Sn.namespaceURI===dl?lr==="math"&&fU[Fo]:!!X7[lr]:dt.namespaceURI===Oc?Sn.namespaceURI===dl&&!fU[Fo]||Sn.namespaceURI===Xu&&!cU[Fo]?!1:!X7[lr]&&(ZZ[lr]||!e8[lr]):!1},nb=function(dt){m5(r.removed,{element:dt});try{dt.parentNode.removeChild(dt)}catch{try{dt.outerHTML=ze}catch{dt.remove()}}},vU=function(dt,Sn){try{m5(r.removed,{attribute:Sn.getAttributeNode(dt),from:Sn})}catch{m5(r.removed,{attribute:null,from:Sn})}if(Sn.removeAttribute(dt),dt==="is"&&!Tu[dt])if(np||Wy)try{nb(Sn)}catch{}else try{Sn.setAttribute(dt,"")}catch{}},dU=function(dt){var Sn,lr;if(D_)dt="<remove></remove>"+dt;else{var Fo=sZ(dt,/^[\r\n\t ]+/);lr=Fo&&Fo[0]}Gy==="application/xhtml+xml"&&(dt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+dt+"</body></html>");var kf=ft?ft.createHTML(dt):dt;if(jy===Oc)try{Sn=new ee().parseFromString(kf,Gy)}catch{}if(!Sn||!Sn.documentElement){Sn=_t.createDocument(jy,"template",null);try{Sn.documentElement.innerHTML=R_?"":kf}catch{}}var Wl=Sn.body||Sn.documentElement;return dt&&lr&&Wl.insertBefore(s.createTextNode(lr),Wl.childNodes[0]||null),jy===Oc?ln.call(Sn,Av?"html":"body")[0]:Av?Sn.documentElement:Wl},mU=function(dt){return on.call(dt.ownerDocument||dt,dt,D.SHOW_ELEMENT|D.SHOW_COMMENT|D.SHOW_TEXT,null,!1)},eQ=function(dt){return dt instanceof G&&(typeof dt.nodeName!="string"||typeof dt.textContent!="string"||typeof dt.removeChild!="function"||!(dt.attributes instanceof U)||typeof dt.removeAttribute!="function"||typeof dt.setAttribute!="function"||typeof dt.namespaceURI!="string"||typeof dt.insertBefore!="function")},h5=function(dt){return A_(C)==="object"?dt instanceof C:dt&&A_(dt)==="object"&&typeof dt.nodeType=="number"&&typeof dt.nodeName=="string"},rb=function(dt,Sn,lr){Xt[dt]&&uZ(Xt[dt],function(Fo){Fo.call(r,Sn,lr,qy)})},hU=function(dt){var Sn;if(rb("beforeSanitizeElements",dt,null),eQ(dt)||Tc(/[\u0080-\uFFFF]/,dt.nodeName))return nb(dt),!0;var lr=tb(dt.nodeName);if(rb("uponSanitizeElement",dt,{tagName:lr,allowedTags:so}),dt.hasChildNodes()&&!h5(dt.firstElementChild)&&(!h5(dt.content)||!h5(dt.content.firstElementChild))&&Tc(/<[/\w]/g,dt.innerHTML)&&Tc(/<[/\w]/g,dt.textContent)||lr==="select"&&Tc(/<template/i,dt.innerHTML))return nb(dt),!0;if(!so[lr]||J1[lr]){if(!J1[lr]&&pU(lr)&&(gi.tagNameCheck instanceof RegExp&&Tc(gi.tagNameCheck,lr)||gi.tagNameCheck instanceof Function&&gi.tagNameCheck(lr)))return!1;if(rp&&!ap[lr]){var Fo=Fe(dt)||dt.parentNode,kf=we(dt)||dt.childNodes;if(kf&&Fo)for(var Wl=kf.length,ml=Wl-1;ml>=0;--ml)Fo.insertBefore(_e(kf[ml],!0),Ne(dt))}return nb(dt),!0}return dt instanceof E&&!QZ(dt)||(lr==="noscript"||lr==="noembed")&&Tc(/<\/no(script|embed)/i,dt.innerHTML)?(nb(dt),!0):(ys&&dt.nodeType===3&&(Sn=dt.textContent,Sn=Uy(Sn,Cn," "),Sn=Uy(Sn,Ot," "),dt.textContent!==Sn&&(m5(r.removed,{element:dt.cloneNode()}),dt.textContent=Sn)),rb("afterSanitizeElements",dt,null),!1)},gU=function(dt,Sn,lr){if(Lm&&(Sn==="id"||Sn==="name")&&(lr in s||lr in JZ))return!1;if(!(Q1&&!Z1[Sn]&&Tc(bn,Sn))){if(!(T_&&Tc(En,Sn))){if(!Tu[Sn]||Z1[Sn]){if(!(pU(dt)&&(gi.tagNameCheck instanceof RegExp&&Tc(gi.tagNameCheck,dt)||gi.tagNameCheck instanceof Function&&gi.tagNameCheck(dt))&&(gi.attributeNameCheck instanceof RegExp&&Tc(gi.attributeNameCheck,Sn)||gi.attributeNameCheck instanceof Function&&gi.attributeNameCheck(Sn))||Sn==="is"&&gi.allowCustomizedBuiltInElements&&(gi.tagNameCheck instanceof RegExp&&Tc(gi.tagNameCheck,lr)||gi.tagNameCheck instanceof Function&&gi.tagNameCheck(lr))))return!1}else if(!Qa[Sn]){if(!Tc(Pa,Uy(lr,ia,""))){if(!((Sn==="src"||Sn==="xlink:href"||Sn==="href")&&dt!=="script"&&lZ(lr,"data:")===0&&hr[dt])){if(!(O_&&!Tc(Or,Uy(lr,ia,"")))){if(lr)return!1}}}}}}return!0},pU=function(dt){return dt.indexOf("-")>0},bU=function(dt){var Sn,lr,Fo,kf;rb("beforeSanitizeAttributes",dt,null);var Wl=dt.attributes;if(Wl){var ml={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Tu};for(kf=Wl.length;kf--;){Sn=Wl[kf];var t8=Sn,Dc=t8.name,yU=t8.namespaceURI;if(lr=Dc==="value"?Sn.value:cZ(Sn.value),Fo=tb(Dc),ml.attrName=Fo,ml.attrValue=lr,ml.keepAttr=!0,ml.forceKeepAttr=void 0,rb("uponSanitizeAttribute",dt,ml),lr=ml.attrValue,!ml.forceKeepAttr&&(vU(Dc,dt),!!ml.keepAttr)){if(Tc(/\/>/i,lr)){vU(Dc,dt);continue}ys&&(lr=Uy(lr,Cn," "),lr=Uy(lr,Ot," "));var nQ=tb(dt.nodeName);if(gU(nQ,Fo,lr))try{yU?dt.setAttributeNS(yU,Dc,lr):dt.setAttribute(Dc,lr),NV(r.removed)}catch{}}}rb("afterSanitizeAttributes",dt,null)}},tQ=function _r(dt){var Sn,lr=mU(dt);for(rb("beforeSanitizeShadowDOM",dt,null);Sn=lr.nextNode();)rb("uponSanitizeShadowNode",Sn,null),!hU(Sn)&&(Sn.content instanceof d&&_r(Sn.content),bU(Sn));rb("afterSanitizeShadowDOM",dt,null)};return r.sanitize=function(_r,dt){var Sn,lr,Fo,kf,Wl;if(R_=!_r,R_&&(_r="<!-->"),typeof _r!="string"&&!h5(_r)){if(typeof _r.toString!="function")throw N7("toString is not a function");if(_r=_r.toString(),typeof _r!="string")throw N7("dirty is not a string, aborting")}if(!r.isSupported){if(A_(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof _r=="string")return t.toStaticHTML(_r);if(h5(_r))return t.toStaticHTML(_r.outerHTML)}return _r}if(Ku||K7(dt),r.removed=[],typeof _r=="string"&&(eb=!1),eb){if(_r.nodeName){var ml=tb(_r.nodeName);if(!so[ml]||J1[ml])throw N7("root node is forbidden and cannot be sanitized in-place")}}else if(_r instanceof C)Sn=dU("<!---->"),lr=Sn.ownerDocument.importNode(_r,!0),lr.nodeType===1&&lr.nodeName==="BODY"||lr.nodeName==="HTML"?Sn=lr:Sn.appendChild(lr);else{if(!np&&!ys&&!Av&&_r.indexOf("<")===-1)return ft&&pi?ft.createHTML(_r):_r;if(Sn=dU(_r),!Sn)return np?null:pi?ze:""}Sn&&D_&&nb(Sn.firstChild);for(var t8=mU(eb?_r:Sn);Fo=t8.nextNode();)Fo.nodeType===3&&Fo===kf||hU(Fo)||(Fo.content instanceof d&&tQ(Fo.content),bU(Fo),kf=Fo);if(kf=null,eb)return _r;if(np){if(Wy)for(Wl=Dt.call(Sn.ownerDocument);Sn.firstChild;)Wl.appendChild(Sn.firstChild);else Wl=Sn;return Tu.shadowroot&&(Wl=Mt.call(o,Wl,!0)),Wl}var Dc=Av?Sn.outerHTML:Sn.innerHTML;return Av&&so["!doctype"]&&Sn.ownerDocument&&Sn.ownerDocument.doctype&&Sn.ownerDocument.doctype.name&&Tc(CZ,Sn.ownerDocument.doctype.name)&&(Dc="<!DOCTYPE "+Sn.ownerDocument.doctype.name+`>
`+Dc),ys&&(Dc=Uy(Dc,Cn," "),Dc=Uy(Dc,Ot," ")),ft&&pi?ft.createHTML(Dc):Dc},r.setConfig=function(_r){K7(_r),Ku=!0},r.clearConfig=function(){qy=null,Ku=!1},r.isValidAttribute=function(_r,dt,Sn){qy||K7({});var lr=tb(_r),Fo=tb(dt);return gU(lr,Fo,Sn)},r.addHook=function(_r,dt){typeof dt=="function"&&(Xt[_r]=Xt[_r]||[],m5(Xt[_r],dt))},r.removeHook=function(_r){if(Xt[_r])return NV(Xt[_r])},r.removeHooks=function(_r){Xt[_r]&&(Xt[_r]=[])},r.removeAllHooks=function(){Xt={}},r}var xZ=VV(),kZ=function(t){return xZ().sanitize(t)},AZ=Fk.deviceType.isTouch(),UV=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},WV=function(t,r){return Ii.parts.close(ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:Zt([Oo.config({})])}))},jV=function(){return Ii.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},GV=function(t,r){return Ii.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Qt("<p>"+kZ(r.translate(t))+"</p>")}]}]})},qV=function(t){return Ii.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},KV=function(t,r){return[ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},V7=function(t){var r,o="tox-dialog",s=o+"-wrap",d=s+"__backdrop",g=o+"__disable-scroll";return Ii.sketch({lazySink:t.lazySink,onEscape:function(C){return t.onEscape(C),B.some(!0)},useTabstopAt:function(C){return!f_(C)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:re({position:"relative"},t.extraStyles)},components:ke([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:Qt('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:AZ?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:s,modalBehaviours:Zt(ke([er.config({}),sr("dialog-events",t.dialogEvents.concat([To(tl(),function(C,E){Hn.focusIn(C)})])),sr("scroll-lock",[ur(function(){Wo(Fi(),g)}),Ms(function(){Io(Fi(),g)})])],t.extraBehaviours,!0)),eventOrder:re((r={},r[Rs()]=["dialog-events"],r[ls()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[Rh()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},XV=function(t){return ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[gv("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(r){Wr(r,D1)}})},YV=function(t,r,o){var s=function(d){return[Ti(o.translate(d.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:re({},r.map(function(d){return{id:d}}).getOr({}))},components:s(t),behaviours:Zt([Ac.config({channel:DV,renderComponents:s})])}},JV=function(){return{dom:Qt('<div class="tox-dialog__draghandle"></div>')}},EZ=function(t,r,o){return ku.sketch({dom:Qt('<div class="tox-dialog__header"></div>'),components:[YV(t,B.some(r),o),JV(),XV(o)],containerBehaviours:Zt([x_.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return al(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},TZ=function(t,r){var o=Ii.parts.title(YV(t,B.none(),r)),s=Ii.parts.draghandle(JV()),d=Ii.parts.close(XV(r)),g=[o].concat(t.draggable?[s]:[]).concat([d]);return ku.sketch({dom:Qt('<div class="tox-dialog__header"></div>'),components:g})},ZV=function(t,r){return TZ({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},QV=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:Qt('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},eU=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(s){Ii.setBusy(t(),function(d,g){return QV(s.message,g,r)})},onUnblock:function(){Ii.setIdle(t())}}},tU=function(t,r,o,s){var d,g=function(C,E){return B.some(E)};return Ua(V7(re(re({},t),{lazySink:s.shared.getSink,extraBehaviours:ke([Ac.config({channel:B7,updateState:g,initialData:r}),Mm.memory({})],t.extraBehaviours,!0),onEscape:function(C){Wr(C,D1)},dialogEvents:o,eventOrder:(d={},d[nl()]=[Ac.name(),nu.name()],d[ls()]=["scroll-lock",Ac.name(),"messages","dialog-events","alloy.base.behaviour"],d[Rh()]=["alloy.base.behaviour","dialog-events","messages",Ac.name(),"scroll-lock"],d)})))},nU=function(t){var r=function(o){var s=Ve(o.items,function(d){var g=zn(!1);return re(re({},d),{storage:g})});return re(re({},o),{items:s})};return Ve(t,function(o){return o.type==="menu"?r(o):o})},rU=function(t){return et(t,function(r,o){if(o.type==="menu"){var s=o;return et(s.items,function(d,g){return d[g.name]=g.storage,d},r)}return r},{})},aU=function(t,r){return[jv(tl(),W$),t(XC,function(o,s){r.onClose(),s.onClose()}),t(D1,function(o,s,d,g){s.onCancel(o),Wr(g,XC)}),$t(MT,function(o,s){return r.onUnblock()}),$t(kd,function(o,s){return r.onBlock(s.event)})]},OZ=function(t,r){var o=function(d,g){return $t(d,function(C,E){s(C,function(D,$){g(t(),D,E.event,C)})})},s=function(d,g){Ac.getState(d).get().each(function(C){g(C,d)})};return ke(ke([],aU(o,r),!0),[o(pv,function(d,g,C){g.onAction(d,{name:C.name})})],!1)},DZ=function(t,r,o){var s=function(g,C){return $t(g,function(E,D){d(E,function($,U){C(t(),$,D.event,E)})})},d=function(g,C){Ac.getState(g).get().each(function(E){C(E.internalDialog,g)})};return ke(ke([],aU(s,r),!0),[s(cl,function(g,C){return C.onSubmit(g)}),s(Hl,function(g,C,E){C.onChange(g,{name:E.name})}),s(pv,function(g,C,E,D){var $=function(){return Hn.focusIn(D)},U=function(oe){return hb(oe,"disabled")||Xa(oe,"aria-disabled").exists(function(ve){return ve==="true"})},G=xs(D.element),ee=Su(G);C.onAction(g,{name:E.name,value:E.value}),Su(G).fold($,function(oe){U(oe)||ee.exists(function(ve){return Sl(oe,ve)&&U(ve)})?$():o().toOptional().filter(function(ve){return!Sl(ve.element,oe)}).each($)})}),s(PT,function(g,C,E){C.onTabChange(g,{newTabName:E.name,oldTabName:E.oldName})}),Ms(function(g){var C=t();an.setValue(g,C.getData())})],!1)},U7={initUrlDialog:OZ,initDialog:DZ},RZ=function(t,r){return x3(t,t.type,r)},$Z=function(t,r,o){return bt(r,function(s){return s.name===o}).bind(function(s){return s.memento.getOpt(t)})},BZ=function(t,r){var o=r.map(function(E){return E.footerButtons}).getOr([]),s=Te(o,function(E){return E.align==="start"}),d=function(E,D){return ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+E]},components:Ve(D,function($){return $.memento.asSpec()})})},g=d("start",s.pass),C=d("end",s.fail);return[g,C]},oU=function(t,r){var o=function(s,d){var g=Ve(d.buttons,function(E){var D=oa(RZ(E,r));return{name:E.name,align:E.align,memento:D}}),C=function(E,D){return $Z(E,g,D)};return B.some({lookupByName:C,footerButtons:g})};return{dom:Qt('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Zt([Ac.config({channel:$V,initialData:t,updateState:o,renderComponents:BZ})])}},MZ=function(t,r){return oU(t,r)},iU=function(t,r){return Ii.parts.footer(oU(t,r))},W7=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var s=Sr.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return By.getField(s,r).fold(function(){var d=t.getFooter(),g=Ac.getState(d);return g.get().bind(function(C){return C.lookupByName(s,r)})},function(d){return B.some(d)})}else return B.none()},PZ=function(t,r){var o=t.getRoot();return Ac.getState(o).get().map(function(s){return El(Ya("data",s.dataValidator,r))}).getOr(r)},uU=function(t,r,o){var s=function(_e){var Ne=t.getRoot();Ne.getSystem().isConnected()&&_e(Ne)},d=function(){var _e=t.getRoot(),Ne=_e.getSystem().isConnected()?t.getFormWrapper():_e,we=an.getValue(Ne),Fe=vr(o,function(vt){return vt.get()});return re(re({},we),Fe)},g=function(_e){s(function(Ne){var we=ve.getData(),Fe=re(re({},we),_e),vt=PZ(t,Fe),ft=t.getFormWrapper();an.setValue(ft,vt),Ur(o,function(ze,nt){Pr(Fe,nt)&&ze.set(Fe[nt])})})},C=function(_e){W7(t,_e).each(In.disable)},E=function(_e){W7(t,_e).each(In.enable)},D=function(_e){W7(t,_e).each(er.focus)},$=function(_e){if(!_(_e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(Ne){Fn(Ne,kd,{message:_e})})},U=function(){s(function(_e){Wr(_e,MT)})},G=function(_e){s(function(Ne){var we=t.getBody(),Fe=Ac.getState(we);Fe.get().exists(function(vt){return vt.isTabPanel()})&&Sr.getCurrent(we).each(function(vt){tA.showTab(vt,_e)})})},ee=function(_e){s(function(Ne){var we=r(_e);Ne.getSystem().broadcastOn([B7],we),Ne.getSystem().broadcastOn([DV],we.internalDialog),Ne.getSystem().broadcastOn([RV],we.internalDialog),Ne.getSystem().broadcastOn([$V],we.internalDialog),ve.setData(we.initialData)})},oe=function(){s(function(_e){Wr(_e,XC)})},ve={getData:d,setData:g,disable:C,enable:E,focus:D,block:$,unblock:U,showTab:G,redial:ee,close:oe};return ve},IZ=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},NZ=function(t,r,o){var s=ZV(t.internalDialog.title,o),d=XJ({body:t.internalDialog.body},o),g=nU(t.internalDialog.buttons),C=rU(g),E=iU({buttons:g},o),D=U7.initDialog(function(){return oe},eU(function(){return G},o.shared.providers,r),o.shared.getSink),$=IZ(t.internalDialog.size),U={header:s,body:d,footer:B.some(E),extraClasses:$,extraBehaviours:[],extraStyles:{}},G=tU(U,t,D,o),ee=function(){var ve=function(){var _e=Ii.getBody(G);return Sr.getCurrent(_e).getOr(_e)};return{getRoot:ne(G),getBody:function(){return Ii.getBody(G)},getFooter:function(){return Ii.getFooter(G)},getFormWrapper:ve}}(),oe=uU(ee,r.redial,C);return{dialog:G,instanceApi:oe}},zZ=function(t,r,o,s){var d,g,C=wn("dialog-label"),E=wn("dialog-content"),D=function(we,Fe){return B.some(Fe)},$=oa(EZ({title:t.internalDialog.title,draggable:!0},C,o.shared.providers)),U=oa(KJ({body:t.internalDialog.body},E,o,s)),G=nU(t.internalDialog.buttons),ee=rU(G),oe=oa(MZ({buttons:G},o)),ve=U7.initDialog(function(){return Ne},{onBlock:function(we){Ut.block(_e,function(Fe,vt){return QV(we.message,vt,o.shared.providers)})},onUnblock:function(){Ut.unblock(_e)},onClose:function(){return r.closeWindow()}},o.shared.getSink),_e=Ua({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(d={role:"dialog"},d["aria-labelledby"]=C,d["aria-describedby"]=E,d)},eventOrder:(g={},g[nl()]=[Ac.name(),nu.name()],g[Rs()]=["execute-on-form"],g[ls()]=["reflecting","execute-on-form"],g),behaviours:Zt([Hn.config({mode:"cyclic",onEscape:function(we){return Wr(we,XC),B.some(!0)},useTabstopAt:function(we){return!f_(we)&&(Qu(we)!=="button"||Ha(we,"disabled")!=="disabled")}}),Ac.config({channel:B7,updateState:D,initialData:t}),er.config({}),sr("execute-on-form",ve.concat([To(tl(),function(we,Fe){Hn.focusIn(we)})])),Ut.config({getRoot:function(){return B.some(_e)}}),ar.config({}),Mm.memory({})]),components:[$.asSpec(),U.asSpec(),oe.asSpec()]}),Ne=uU({getRoot:ne(_e),getFooter:function(){return oe.get(_e)},getBody:function(){return U.get(_e)},getFormWrapper:function(){var we=U.get(_e);return Sr.getCurrent(we).getOr(we)}},r.redial,ee);return{dialog:_e,instanceApi:Ne}},j7=tinymce.util.Tools.resolve("tinymce.util.URI"),FZ=function(t){var r=function(C){t.getSystem().isConnected()&&C(t)},o=function(C){if(!_(C))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(E){Fn(E,kd,{message:C})})},s=function(){r(function(C){Wr(C,MT)})},d=function(){r(function(C){Wr(C,XC)})},g=function(C){r(function(E){E.getSystem().broadcastOn([BV],C)})};return{block:o,unblock:s,close:d,sendMessage:g}},LZ=["insertContent","setContent","execCommand","close","block","unblock"],sU=function(t){return x(t)&&LZ.indexOf(t.mceAction)!==-1},HZ=function(t){return!sU(t)&&x(t)&&Pr(t,"mceAction")},VZ=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var s=L(o.ui)?o.ui:!1;t.execCommand(o.cmd,s,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},UZ=function(t,r,o,s){var d,g=ZV(t.title,s),C=YJ(t),E=t.buttons.bind(function(Fe){return Fe.length===0?B.none():B.some(iU({buttons:Fe},s))}),D=U7.initUrlDialog(function(){return we},eU(function(){return Ne},s.shared.providers,r)),$=re(re({},t.height.fold(function(){return{}},function(Fe){return{height:Fe+"px","max-height":Fe+"px"}})),t.width.fold(function(){return{}},function(Fe){return{width:Fe+"px","max-width":Fe+"px"}})),U=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],G=new j7(t.url,{base_uri:new j7(window.location.href)}),ee=G.protocol+"://"+G.host+(G.port?":"+G.port:""),oe=qh(),ve=[sr("messages",[ur(function(){var Fe=wo(sn.fromDom(window),"message",function(vt){if(G.isSameOrigin(new j7(vt.raw.origin))){var ft=vt.raw.data;sU(ft)?VZ(o,we,ft):HZ(ft)&&t.onMessage(we,ft)}});oe.set(Fe)}),Ms(oe.clear)]),nu.config({channels:(d={},d[BV]={onReceive:function(Fe,vt){jo(Fe.element,"iframe").each(function(ft){var ze=ft.dom.contentWindow;ze.postMessage(vt,ee)})}},d)})],_e={header:g,body:C,footer:E,extraClasses:U,extraBehaviours:ve,extraStyles:$},Ne=tU(_e,t,D,s),we=FZ(Ne);return{dialog:Ne,instanceApi:we}},WZ=function(t){var r=t.backstage.shared,o=function(s,d){var g=function(){Ii.hide($),d()},C=oa(x3({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:B.none()},"cancel",t.backstage)),E=jV(),D=WV(g,r.providers),$=Ua(V7({lazySink:function(){return r.getSink()},header:UV(E,D),body:GV(s,r.providers),footer:B.some(qV(KV([],[C.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[$t(D1,g)],eventOrder:{}}));Ii.show($);var U=C.get($);er.focus(U)};return{open:o}},jZ=function(t){var r=t.backstage.shared,o=function(s,d){var g=function(ee){Ii.hide(U),d(ee)},C=oa(x3({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:B.none()},"submit",t.backstage)),E=x3({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:B.none()},"cancel",t.backstage),D=jV(),$=WV(function(){return g(!1)},r.providers),U=Ua(V7({lazySink:function(){return r.getSink()},header:UV(D,$),body:GV(s,r.providers),footer:B.some(qV(KV([],[E,C.asSpec()]))),onEscape:function(){return g(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[$t(D1,function(){return g(!1)}),$t(cl,function(){return g(!0)})],eventOrder:{}}));Ii.show(U);var G=C.get(U);er.focus(G)};return{open:o}},GZ=function(t,r){return El(Ya("data",r,t))},qZ=function(t){return jC(t,".tox-alert-dialog")||jC(t,".tox-confirm-dialog")},KZ=function(t,r,o){return r&&o?[]:[Ro.config({contextual:{lazyContext:function(){return B.some(Eo(sn.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},XZ=function(t){var r=t.backstage,o=t.editor,s=Ik(o),d=WZ(t),g=jZ(t),C=function(ve,_e,Ne){return _e!==void 0&&_e.inline==="toolbar"?U(ve,r.shared.anchors.inlineDialog(),Ne,_e.ariaAttrs):_e!==void 0&&_e.inline==="cursor"?U(ve,r.shared.anchors.cursor(),Ne,_e.ariaAttrs):$(ve,Ne)},E=function(ve,_e){return D(ve,_e)},D=function(ve,_e){var Ne=function(we){var Fe=UZ(we,{closeWindow:function(){Ii.hide(Fe.dialog),_e(Fe.instanceApi)}},o,r);return Ii.show(Fe.dialog),Fe.instanceApi};return d5.openUrl(Ne,ve)},$=function(ve,_e){var Ne=function(we,Fe,vt){var ft=Fe,ze={dataValidator:vt,initialData:ft,internalDialog:we},nt=NZ(ze,{redial:d5.redial,closeWindow:function(){Ii.hide(nt.dialog),_e(nt.instanceApi)}},r);return Ii.show(nt.dialog),nt.instanceApi.setData(ft),nt.instanceApi};return d5.open(Ne,ve)},U=function(ve,_e,Ne,we){var Fe=function(vt,ft,ze){var nt=GZ(ft,ze),_t=mo(),on=r.shared.header.isPositionedAtTop(),Dt={dataValidator:ze,initialData:nt,internalDialog:vt},ln=function(){return _t.on(function(Xt){ca.reposition(Xt),Ro.refresh(Xt)})},Mt=zZ(Dt,{redial:d5.redial,closeWindow:function(){_t.on(ca.hide),o.off("ResizeEditor",ln),_t.clear(),Ne(Mt.instanceApi)}},r,we),Ct=Ua(ca.sketch(re(re({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},on?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Zt(ke([sr("window-manager-inline-events",[$t(Rl(),function(Xt,Cn){Wr(Mt.dialog,D1)})])],KZ(o,s,on),!0)),isExtraPart:function(Xt,Cn){return qZ(Cn)}})));return _t.set(Ct),ca.showWithin(Ct,zs(Mt.dialog),{anchor:_e},B.some(Fi())),(!s||!on)&&(Ro.refresh(Ct),o.on("ResizeEditor",ln)),Mt.instanceApi.setData(nt),Hn.focusIn(Mt.dialog),Mt.instanceApi};return d5.open(Fe,ve)},G=function(ve,_e){g.open(ve,function(Ne){_e(Ne)})},ee=function(ve,_e){d.open(ve,function(){_e()})},oe=function(ve){ve.close()};return{open:C,openUrl:E,alert:ee,close:oe,confirm:G}};function YZ(){Ue.add("silver",function(t){var r=nY(t),o=r.uiMothership,s=r.backstage,d=r.renderUI,g=r.getUi;mI.register(t,s.shared);var C=XZ({editor:t,backstage:s});return{renderUI:d,getWindowManagerImpl:ne(C),getNotificationManagerImpl:function(){return LE(t,{backstage:s},o)},ui:g()}})}YZ()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(j,ke,rt){var le=ke==="UL"?"InsertUnorderedList":"InsertOrderedList";j.execCommand(le,!1,rt===!1?null:{"list-style-type":rt})},y=function(j){j.addCommand("ApplyUnorderedListStyle",function(ke,rt){m(j,"UL",rt["list-style-type"])}),j.addCommand("ApplyOrderedListStyle",function(ke,rt){m(j,"OL",rt["list-style-type"])})},b=tinymce.util.Tools.resolve("tinymce.util.Tools"),_=function(j){var ke=j.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return ke?ke.split(/[ ,]/):[]},x=function(j){var ke=j.getParam("advlist_bullet_styles","default,circle,square");return ke?ke.split(/[ ,]/):[]},T=function(){},O=function(j){return function(){return j}},L=function(j){return j},W=O(!1),I=O(!0),H=function(){return P},P=function(){var j=function(le){return le()},ke=L,rt={fold:function(le,be){return le()},isSome:W,isNone:I,getOr:ke,getOrThunk:j,getOrDie:function(le){throw new Error(le||"error: getOrDie called on none.")},getOrNull:O(null),getOrUndefined:O(void 0),or:ke,orThunk:j,map:H,each:T,bind:H,exists:W,forall:I,filter:function(){return H()},toArray:function(){return[]},toString:O("none()")};return rt}(),V=function(j){var ke=O(j),rt=function(){return be},le=function(st){return st(j)},be={fold:function(st,B){return B(j)},isSome:I,isNone:W,getOr:ke,getOrThunk:ke,getOrDie:ke,getOrNull:ke,getOrUndefined:ke,or:rt,orThunk:rt,map:function(st){return V(st(j))},each:function(st){st(j)},bind:le,exists:le,forall:le,filter:function(st){return st(j)?be:P},toArray:function(){return[j]},toString:function(){return"some("+j+")"}};return be},Z=function(j){return j==null?P:V(j)},q={some:V,none:H,from:Z},$e=function(j,ke){return j.$.contains(j.getBody(),ke)},me=function(j){return j&&/^(TH|TD)$/.test(j.nodeName)},Be=function(j){return function(ke){return ke&&/^(OL|UL|DL)$/.test(ke.nodeName)&&$e(j,ke)}},ne=function(j){var ke=j.dom.getParent(j.selection.getNode(),"ol,ul"),rt=j.dom.getStyle(ke,"listStyleType");return q.from(rt)},ge=function(j,ke){for(var rt=0;rt<j.length;rt++){var le=j[rt];if(ke(le))return rt}return-1},De=function(j){return j.replace(/\-/g," ").replace(/\b\w/g,function(ke){return ke.toUpperCase()})},Se=function(j,ke,rt){var le=ge(ke.parents,me),be=le!==-1?ke.parents.slice(0,le):ke.parents,st=b.grep(be,Be(j));return st.length>0&&st[0].nodeName===rt},We=function(j,ke){return function(rt){var le=function(be){rt.setActive(Se(j,be,ke))};return j.on("NodeChange",le),function(){return j.off("NodeChange",le)}}},se=function(j,ke,rt,le,be,st){j.ui.registry.addSplitButton(ke,{tooltip:rt,icon:be==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(B){var kt=b.map(st,function(at){var ot=be==="OL"?"num":"bull",An=at==="disc"||at==="decimal"?"default":at,cn=at==="default"?"":at,ct=De(at);return{type:"choiceitem",value:cn,icon:"list-"+ot+"-"+An,text:ct}});B(kt)},onAction:function(){return j.execCommand(le)},onItemAction:function(B,kt){m(j,be,kt)},select:function(B){var kt=ne(j);return kt.map(function(at){return B===at}).getOr(!1)},onSetup:We(j,be)})},ce=function(j,ke,rt,le,be,st){j.ui.registry.addToggleButton(ke,{active:!1,tooltip:rt,icon:be==="OL"?"ordered-list":"unordered-list",onSetup:We(j,be),onAction:function(){return j.execCommand(le)}})},Ee=function(j,ke,rt,le,be,st){st.length>1?se(j,ke,rt,le,be,st):ce(j,ke,rt,le,be)},Ue=function(j){Ee(j,"numlist","Numbered list","InsertOrderedList","OL",_(j)),Ee(j,"bullist","Bullet list","InsertUnorderedList","UL",x(j))};function re(){f.add("advlist",function(j){j.hasPlugin("lists")?(Ue(j),y(j)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}re()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(O,L){O.focus(),O.undoManager.transact(function(){O.setContent(L)}),O.selection.setCursorLocation(),O.nodeChanged()},y=function(O){return O.getContent({source_view:!0})},b=function(O){var L=y(O);O.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:L},onSubmit:function(W){m(O,W.getData().code),W.close()}})},_=function(O){O.addCommand("mceCodeEditor",function(){b(O)})},x=function(O){var L=function(){return O.execCommand("mceCodeEditor")};O.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:L}),O.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:L})};function T(){f.add("code",function(O){return _(O),x(O),{}})}T()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=tinymce.util.Tools.resolve("tinymce.util.VK"),y=function(ie){var Ie=typeof ie;return ie===null?"null":Ie==="object"&&(Array.prototype.isPrototypeOf(ie)||ie.constructor&&ie.constructor.name==="Array")?"array":Ie==="object"&&(String.prototype.isPrototypeOf(ie)||ie.constructor&&ie.constructor.name==="String")?"string":Ie},b=function(ie){return function(Ie){return y(Ie)===ie}},_=function(ie){return function(Ie){return typeof Ie===ie}},x=function(ie){return function(Ie){return ie===Ie}},T=b("string"),O=b("array"),L=x(null),W=_("boolean"),I=_("function"),H=function(){},P=function(ie){return function(){return ie}},V=function(ie){return ie},Z=function(ie,Ie){return ie===Ie},q=P(!1),$e=P(!0),me=function(){return Be},Be=function(){var ie=function(Et){return Et()},Ie=V,Je={fold:function(Et,qt){return Et()},isSome:q,isNone:$e,getOr:Ie,getOrThunk:ie,getOrDie:function(Et){throw new Error(Et||"error: getOrDie called on none.")},getOrNull:P(null),getOrUndefined:P(void 0),or:Ie,orThunk:ie,map:me,each:H,bind:me,exists:q,forall:$e,filter:function(){return me()},toArray:function(){return[]},toString:P("none()")};return Je}(),ne=function(ie){var Ie=P(ie),Je=function(){return qt},Et=function(Bn){return Bn(ie)},qt={fold:function(Bn,aa){return aa(ie)},isSome:$e,isNone:q,getOr:Ie,getOrThunk:Ie,getOrDie:Ie,getOrNull:Ie,getOrUndefined:Ie,or:Je,orThunk:Je,map:function(Bn){return ne(Bn(ie))},each:function(Bn){Bn(ie)},bind:Et,exists:Et,forall:Et,filter:function(Bn){return Bn(ie)?qt:Be},toArray:function(){return[ie]},toString:function(){return"some("+ie+")"}};return qt},ge=function(ie){return ie==null?Be:ne(ie)},De={some:ne,none:me,from:ge},Se=Array.prototype.indexOf,We=Array.prototype.push,se=function(ie,Ie){return Se.call(ie,Ie)},ce=function(ie,Ie){return se(ie,Ie)>-1},Ee=function(ie,Ie){for(var Je=ie.length,Et=new Array(Je),qt=0;qt<Je;qt++){var Bn=ie[qt];Et[qt]=Ie(Bn,qt)}return Et},Ue=function(ie,Ie){for(var Je=0,Et=ie.length;Je<Et;Je++){var qt=ie[Je];Ie(qt,Je)}},re=function(ie,Ie,Je){return Ue(ie,function(Et,qt){Je=Ie(Je,Et,qt)}),Je},j=function(ie){for(var Ie=[],Je=0,Et=ie.length;Je<Et;++Je){if(!O(ie[Je]))throw new Error("Arr.flatten item "+Je+" was not an array, input: "+ie);We.apply(Ie,ie[Je])}return Ie},ke=function(ie,Ie){return j(Ee(ie,Ie))},rt=function(ie,Ie){for(var Je=0;Je<ie.length;Je++){var Et=Ie(ie[Je],Je);if(Et.isSome())return Et}return De.none()},le=function(ie,Ie,Je){return Je===void 0&&(Je=Z),ie.exists(function(Et){return Je(Et,Ie)})},be=function(ie){for(var Ie=[],Je=function(qt){Ie.push(qt)},Et=0;Et<ie.length;Et++)ie[Et].each(Je);return Ie},st=function(ie,Ie){return ie?De.some(Ie):De.none()},B=function(ie){var Ie=ie.getParam("link_assume_external_targets",!1);return W(Ie)&&Ie?1:T(Ie)&&(Ie==="http"||Ie==="https")?Ie:0},kt=function(ie){return ie.getParam("link_context_toolbar",!1,"boolean")},at=function(ie){return ie.getParam("link_list")},ot=function(ie){return ie.getParam("default_link_target")},An=function(ie){return ie.getParam("target_list",!0)},cn=function(ie){return ie.getParam("rel_list",[],"array")},ct=function(ie){return ie.getParam("link_class_list",[],"array")},_n=function(ie){return ie.getParam("link_title",!0,"boolean")},te=function(ie){return ie.getParam("allow_unsafe_link_target",!1,"boolean")},fn=function(ie){return ie.getParam("link_quicklink",!1,"boolean")},Ve=function(ie){return ie.getParam("link_default_protocol","http","string")},pt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Jn=function(ie){return T(ie.value)?ie.value:""},Te=function(ie){return T(ie.text)?ie.text:T(ie.title)?ie.title:""},Ae=function(ie,Ie){var Je=[];return pt.each(ie,function(Et){var qt=Te(Et);if(Et.menu!==void 0){var Bn=Ae(Et.menu,Ie);Je.push({text:qt,items:Bn})}else{var aa=Ie(Et);Je.push({text:qt,value:aa})}}),Je},Ze=function(ie){return ie===void 0&&(ie=Jn),function(Ie){return De.from(Ie).map(function(Je){return Ae(Je,ie)})}},et=function(ie){return Ze(Jn)(ie)},Le=function(ie,Ie){return function(Je){return{name:ie,type:"listbox",label:Ie,items:Je}}},bt={sanitize:et,sanitizeWith:Ze,createUi:Le,getValue:Jn},Jt=function(){return Jt=Object.assign||function(Ie){for(var Je,Et=1,qt=arguments.length;Et<qt;Et++){Je=arguments[Et];for(var Bn in Je)Object.prototype.hasOwnProperty.call(Je,Bn)&&(Ie[Bn]=Je[Bn])}return Ie},Jt.apply(this,arguments)},ut=Object.keys,jt=Object.hasOwnProperty,Rt=function(ie,Ie){for(var Je=ut(ie),Et=0,qt=Je.length;Et<qt;Et++){var Bn=Je[Et],aa=ie[Bn];Ie(aa,Bn)}},Ft=function(ie){return function(Ie,Je){ie[Je]=Ie}},rn=function(ie,Ie,Je,Et){var qt={};return Rt(ie,function(Bn,aa){(Ie(Bn,aa)?Je:Et)(Bn,aa)}),qt},pn=function(ie,Ie){var Je={};return rn(ie,Ie,Ft(Je),H),Je},Yn=function(ie,Ie){return jt.call(ie,Ie)},fr=function(ie,Ie){return Yn(ie,Ie)&&ie[Ie]!==void 0&&ie[Ie]!==null},qr=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ir=tinymce.util.Tools.resolve("tinymce.util.URI"),ua=function(ie){return ie&&ie.nodeName.toLowerCase()==="a"},va=function(ie){return ua(ie)&&!!da(ie)},Qr=function(ie,Ie){if(ie.collapsed)return[];var Je=ie.cloneContents(),Et=new qr(Je.firstChild,Je),qt=[],Bn=Je.firstChild;do Ie(Bn)&&qt.push(Bn);while(Bn=Et.next());return qt},Hr=function(ie){return/^\w+:/i.test(ie)},da=function(ie){var Ie=ie.getAttribute("data-mce-href");return Ie||ie.getAttribute("href")},Ur=function(ie,Ie){var Je=["noopener"],Et=ie?ie.split(/\s+/):[],qt=function(yr){return pt.trim(yr.sort().join(" "))},Bn=function(yr){return yr=aa(yr),yr.length>0?yr.concat(Je):Je},aa=function(yr){return yr.filter(function(La){return pt.inArray(Je,La)===-1})},ha=Ie?Bn(Et):aa(Et);return ha.length>0?qt(ha):""},vr=function(ie){return ie.replace(/\uFEFF/g,"")},Fa=function(ie,Ie){return Ie=Ie||ie.selection.getNode(),Ju(Ie)?ie.dom.select("a[href]",Ie)[0]:ie.dom.getParent(Ie,"a[href]")},Zi=function(ie,Ie){var Je=Ie?Ie.innerText||Ie.textContent:ie.getContent({format:"text"});return vr(Je)},Xl=function(ie){return pt.grep(ie,va).length>0},Vr=function(ie){return Qr(ie,va).length>0},yi=function(ie){var Ie=ie.schema.getTextInlineElements(),Je=function(qt){return qt.nodeType===1&&!ua(qt)&&!Yn(Ie,qt.nodeName.toLowerCase())},Et=Qr(ie.selection.getRng(),Je);return Et.length===0},Ju=function(ie){return ie&&ie.nodeName==="FIGURE"&&/\bimage\b/i.test(ie.className)},wi=function(ie){var Ie=["title","rel","class","target"];return re(Ie,function(Je,Et){return ie[Et].each(function(qt){Je[Et]=qt.length>0?qt:null}),Je},{href:ie.href})},Tn=function(ie,Ie){return(Ie==="http"||Ie==="https")&&!Hr(ie)?Ie+"://"+ie:ie},Pr=function(ie,Ie){var Je=Jt({},Ie);if(!(cn(ie).length>0)&&te(ie)===!1){var Et=Ur(Je.rel,Je.target==="_blank");Je.rel=Et||null}return De.from(Je.target).isNone()&&An(ie)===!1&&(Je.target=ot(ie)),Je.href=Tn(Je.href,B(ie)),Je},lo=function(ie,Ie,Je,Et){Je.each(function(qt){Yn(Ie,"innerText")?Ie.innerText=qt:Ie.textContent=qt}),ie.dom.setAttribs(Ie,Et),ie.selection.select(Ie)},lu=function(ie,Ie,Je,Et){Ju(Ie)?Ov(ie,Ie,Et):Je.fold(function(){ie.execCommand("mceInsertLink",!1,Et)},function(qt){ie.insertContent(ie.dom.createHTML("a",Et,ie.dom.encode(qt)))})},Zu=function(ie,Ie,Je){var Et=ie.selection.getNode(),qt=Fa(ie,Et),Bn=Pr(ie,wi(Je));ie.undoManager.transact(function(){Je.href===Ie.href&&Ie.attach(),qt?(ie.focus(),lo(ie,qt,Je.text,Bn)):lu(ie,Et,Je.text,Bn)})},Ir=function(ie){var Ie=ie.dom,Je=ie.selection,Et=Je.getBookmark(),qt=Je.getRng().cloneRange(),Bn=Ie.getParent(qt.startContainer,"a[href]",ie.getBody()),aa=Ie.getParent(qt.endContainer,"a[href]",ie.getBody());Bn&&qt.setStartBefore(Bn),aa&&qt.setEndAfter(aa),Je.setRng(qt),ie.execCommand("unlink"),Je.moveToBookmark(Et)},Dr=function(ie){ie.undoManager.transact(function(){var Ie=ie.selection.getNode();Ju(Ie)?Bc(ie,Ie):Ir(ie),ie.focus()})},Gs=function(ie){var Ie=ie.class,Je=ie.href,Et=ie.rel,qt=ie.target,Bn=ie.text,aa=ie.title;return pn({class:Ie.getOrNull(),href:Je,rel:Et.getOrNull(),target:qt.getOrNull(),text:Bn.getOrNull(),title:aa.getOrNull()},function(ha,yr){return L(ha)===!1})},rh=function(ie,Ie){var Je=Ie.href;return Jt(Jt({},Ie),{href:ir.isDomSafe(Je,"a",ie.settings)?Je:""})},Df=function(ie,Ie,Je){var Et=rh(ie,Je);ie.hasPlugin("rtc",!0)?ie.execCommand("createlink",!1,Gs(Et)):Zu(ie,Ie,Et)},qs=function(ie){ie.hasPlugin("rtc",!0)?ie.execCommand("unlink"):Dr(ie)},Bc=function(ie,Ie){var Je=ie.dom.select("img",Ie)[0];if(Je){var Et=ie.dom.getParents(Je,"a[href]",Ie)[0];Et&&(Et.parentNode.insertBefore(Je,Et),ie.dom.remove(Et))}},Ov=function(ie,Ie,Je){var Et=ie.dom.select("img",Ie)[0];if(Et){var qt=ie.dom.create("a",Je);Et.parentNode.insertBefore(qt,Et),qt.appendChild(Et)}},pl=function(ie){return fr(ie,"items")},bl=function(ie,Ie){return rt(Ie,function(Je){return pl(Je)?bl(ie,Je.items):st(Je.value===ie,Je)})},Rf=function(ie,Ie,Je,Et){var qt=Et[Ie],Bn=ie.length>0;return qt!==void 0?bl(qt,Je).map(function(aa){return{url:{value:aa.value,meta:{text:Bn?ie:aa.text,attach:H}},text:Bn?ie:aa.text}}):De.none()},ma=function(ie,Ie){return Ie==="link"?ie.link:Ie==="anchor"?ie.anchor:De.none()},Ks=function(ie,Ie){var Je={text:ie.text,title:ie.title},Et=function(yr){return st(Je.title.length<=0,De.from(yr.meta.title).getOr(""))},qt=function(yr){return st(Je.text.length<=0,De.from(yr.meta.text).getOr(yr.value))},Bn=function(yr){var La=qt(yr.url),Ka=Et(yr.url);return La.isSome()||Ka.isSome()?De.some(Jt(Jt({},La.map(function(Ic){return{text:Ic}}).getOr({})),Ka.map(function(Ic){return{title:Ic}}).getOr({}))):De.none()},aa=function(yr,La){var Ka=ma(Ie,La.name).getOr([]);return Rf(Je.text,La.name,Ka,yr)},ha=function(yr,La){var Ka=La.name;return Ka==="url"?Bn(yr()):ce(["anchor","link"],Ka)?aa(yr(),La):((Ka==="text"||Ka==="title")&&(Je[Ka]=yr()[Ka]),De.none())};return{onChange:ha}},qn={init:Ks,getDelta:Rf},ah=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ou=tinymce.util.Tools.resolve("tinymce.util.Promise"),Mc=function(ie,Ie,Je){var Et=ie.selection.getRng();ah.setEditorTimeout(ie,function(){ie.windowManager.confirm(Ie,function(qt){ie.selection.setRng(Et),Je(qt)})})},oh=function(ie){var Ie=ie.href,Je=Ie.indexOf("@")>0&&Ie.indexOf("/")===-1&&Ie.indexOf("mailto:")===-1;return Je?De.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Et){return Jt(Jt({},Et),{href:"mailto:"+Ie})}}):De.none()},Yl=function(ie,Ie){return function(Je){var Et=Je.href,qt=ie===1&&!Hr(Et)||ie===0&&/^\s*www(\.|\d\.)/i.test(Et);return qt?De.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+Ie+":// prefix?",preprocess:function(Bn){return Jt(Jt({},Bn),{href:Ie+"://"+Et})}}):De.none()}},ih=function(ie,Ie){return rt([oh,Yl(B(ie),Ve(ie))],function(Je){return Je(Ie)}).fold(function(){return Ou.resolve(Ie)},function(Je){return new Ou(function(Et){Mc(ie,Je.message,function(qt){Et(qt?Je.preprocess(Ie):Ie)})})})},$f={preprocess:ih},uh=function(ie){var Ie=ie.dom.select("a:not([href])"),Je=ke(Ie,function(Et){var qt=Et.name||Et.id;return qt?[{text:qt,value:"#"+qt}]:[]});return Je.length>0?De.some([{text:"None",value:""}].concat(Je)):De.none()},_s={getAnchors:uh},Pc=function(ie){var Ie=ct(ie);return Ie.length>0?bt.sanitize(Ie):De.none()},sn={getClasses:Pc},$d=tinymce.util.Tools.resolve("tinymce.util.XHR"),Dv=function(ie){try{return De.some(JSON.parse(ie))}catch{return De.none()}},Rv=function(ie){var Ie=function(Et){return ie.convertURL(Et.value||Et.url,"href")},Je=at(ie);return new Ou(function(Et){T(Je)?$d.send({url:Je,success:function(qt){return Et(Dv(qt))},error:function(qt){return Et(De.none())}}):I(Je)?Je(function(qt){return Et(De.some(qt))}):Et(De.from(Je))}).then(function(Et){return Et.bind(bt.sanitizeWith(Ie)).map(function(qt){if(qt.length>0){var Bn=[{text:"None",value:""}];return Bn.concat(qt)}else return qt})})},Jl={getLinks:Rv},Qu=function(ie,Ie){var Je=cn(ie);if(Je.length>0){var Et=le(Ie,"_blank"),qt=te(ie)===!1,Bn=function(ha){return Ur(bt.getValue(ha),Et)},aa=qt?bt.sanitizeWith(Bn):bt.sanitize;return aa(Je)}return De.none()},sh={getRels:Qu},Bo=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],po=function(ie){var Ie=An(ie);return O(Ie)?bt.sanitize(Ie).orThunk(function(){return De.some(Bo)}):Ie===!1?De.none():De.some(Bo)},Du={getTargets:po},Xs=function(ie,Ie,Je){var Et=ie.getAttrib(Ie,Je);return Et!==null&&Et.length>0?De.some(Et):De.none()},Bd=function(ie,Ie){var Je=ie.dom,Et=yi(ie),qt=Et?De.some(Zi(ie.selection,Ie)):De.none(),Bn=Ie?De.some(Je.getAttrib(Ie,"href")):De.none(),aa=Ie?De.from(Je.getAttrib(Ie,"target")):De.none(),ha=Xs(Je,Ie,"rel"),yr=Xs(Je,Ie,"class"),La=Xs(Je,Ie,"title");return{url:Bn,text:qt,title:La,target:aa,rel:ha,linkClass:yr}},es=function(ie,Ie){return Jl.getLinks(ie).then(function(Je){var Et=Bd(ie,Ie);return{anchor:Et,catalogs:{targets:Du.getTargets(ie),rels:sh.getRels(ie,Et.target),classes:sn.getClasses(ie),anchor:_s.getAnchors(ie),link:Je},optNode:De.from(Ie),flags:{titleEnabled:_n(ie)}}})},Bf={collect:es},Md=function(ie,Ie){return function(Je){var Et=Je.getData();if(!Et.url.value){qs(ie),Je.close();return}var qt=function(ha){return De.from(Et[ha]).filter(function(yr){return!le(Ie.anchor[ha],yr)})},Bn={href:Et.url.value,text:qt("text"),target:qt("target"),rel:qt("rel"),class:qt("linkClass"),title:qt("title")},aa={href:Et.url.value,attach:Et.url.meta!==void 0&&Et.url.meta.attach?Et.url.meta.attach:H};$f.preprocess(ie,Bn).then(function(ha){Df(ie,aa,ha)}),Je.close()}},yl=function(ie){var Ie=Fa(ie);return Bf.collect(ie,Ie)},Ru=function(ie,Ie){var Je=ie.anchor,Et=Je.url.getOr("");return{url:{value:Et,meta:{original:{value:Et}}},text:Je.text.getOr(""),title:Je.title.getOr(""),anchor:Et,link:Et,rel:Je.rel.getOr(""),target:Je.target.or(Ie).getOr(""),linkClass:Je.linkClass.getOr("")}},en=function(ie,Ie,Je){var Et=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],qt=ie.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),Bn=ie.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],aa=De.from(ot(Je)),ha=Ru(ie,aa),yr=ie.catalogs,La=qn.init(ha,yr),Ka={type:"panel",items:j([Et,qt,Bn,be([yr.anchor.map(bt.createUi("anchor","Anchors")),yr.rels.map(bt.createUi("rel","Rel")),yr.targets.map(bt.createUi("target","Open link in...")),yr.link.map(bt.createUi("link","Link list")),yr.classes.map(bt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:Ka,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ha,onChange:function(Ic,zi){var Zl=zi.name;La.onChange(Ic.getData,{name:Zl}).each(function(Wn){Ic.setData(Wn)})},onSubmit:Ie}},Ci=function(ie){var Ie=yl(ie);Ie.then(function(Je){var Et=Md(ie,Je);return en(Je,Et,ie)}).then(function(Je){ie.windowManager.open(Je)})},wl=function(ie,Ie){document.body.appendChild(ie),ie.dispatchEvent(Ie),document.body.removeChild(ie)},lh=function(ie){var Ie=document.createElement("a");Ie.target="_blank",Ie.href=ie,Ie.rel="noreferrer noopener";var Je=document.createEvent("MouseEvents");Je.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),wl(Ie,Je)},Mf=function(ie,Ie){return ie.dom.getParent(Ie,"a[href]")},ea=function(ie){return Mf(ie,ie.selection.getStart())},$v=function(ie){return ie.altKey===!0&&ie.shiftKey===!1&&ie.ctrlKey===!1&&ie.metaKey===!1},Cl=function(ie,Ie){if(Ie){var Je=da(Ie);if(/^#/.test(Je)){var Et=ie.$(Je);Et.length&&ie.selection.scrollIntoView(Et[0],!0)}else lh(Ie.href)}},co=function(ie){return function(){Ci(ie)}},Bv=function(ie){return function(){Cl(ie,ea(ie))}},cu=function(ie){ie.on("click",function(Ie){var Je=Mf(ie,Ie.target);Je&&m.metaKeyPressed(Ie)&&(Ie.preventDefault(),Cl(ie,Je))}),ie.on("keydown",function(Ie){var Je=ea(ie);Je&&Ie.keyCode===13&&$v(Ie)&&(Ie.preventDefault(),Cl(ie,Je))})},ts=function(ie,Ie){return ie.on("NodeChange",Ie),function(){return ie.off("NodeChange",Ie)}},Ra=function(ie){return function(Ie){var Je=function(){return Ie.setActive(!ie.mode.isReadOnly()&&Fa(ie,ie.selection.getNode())!==null)};return Je(),ts(ie,Je)}},Pf=function(ie){return function(Ie){var Je=function(){return Ie.setDisabled(Fa(ie,ie.selection.getNode())===null)};return Je(),ts(ie,Je)}},If=function(ie){return function(Ie){var Je=function(qt){return Xl(qt)||Vr(ie.selection.getRng())},Et=ie.dom.getParents(ie.selection.getStart());return Ie.setDisabled(!Je(Et)),ts(ie,function(qt){return Ie.setDisabled(!Je(qt.parents))})}},Mv=function(ie){ie.addCommand("mceLink",function(){fn(ie)?ie.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):co(ie)()})},Pd=function(ie){ie.addShortcut("Meta+K","",function(){ie.execCommand("mceLink")})},_l=function(ie){ie.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:co(ie),onSetup:Ra(ie)}),ie.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Bv(ie),onSetup:Pf(ie)}),ie.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return qs(ie)},onSetup:If(ie)})},Ys=function(ie){ie.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Bv(ie),onSetup:Pf(ie)}),ie.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:co(ie)}),ie.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return qs(ie)},onSetup:If(ie)})},Pv=function(ie){var Ie="link unlink openlink",Je="link";ie.ui.registry.addContextMenu("link",{update:function(Et){return Xl(ie.dom.getParents(Et,"a"))?Ie:Je}})},Ss=function(ie){var Ie=function(qt){qt.selection.collapse(!1)},Je=function(qt){var Bn=ie.selection.getNode();return qt.setDisabled(!Fa(ie,Bn)),H},Et=function(qt){var Bn=Fa(ie),aa=yi(ie);if(!Bn&&aa){var ha=Zi(ie.selection,Bn);return De.some(ha.length>0?ha:qt)}else return De.none()};ie.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ra(ie)},label:"Link",predicate:function(qt){return!!Fa(ie,qt)&&kt(ie)},initValue:function(){var qt=Fa(ie);return qt?da(qt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(qt){var Bn=ie.selection.getNode();return qt.setActive(!!Fa(ie,Bn)),Ra(ie)(qt)},onAction:function(qt){var Bn=qt.getValue(),aa=Et(Bn),ha={href:Bn,attach:H};Df(ie,ha,{href:Bn,text:aa,title:De.none(),rel:De.none(),target:De.none(),class:De.none()}),Ie(ie),qt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Je,onAction:function(qt){qs(ie),qt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Je,onAction:function(qt){Bv(ie)(),qt.hide()}}]})};function $u(){f.add("link",function(ie){_l(ie),Ys(ie),Pv(ie),Ss(ie),cu(ie),Mv(ie),Pd(ie)})}$u()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(M){var Y=typeof M;return M===null?"null":Y==="object"&&(Array.prototype.isPrototypeOf(M)||M.constructor&&M.constructor.name==="Array")?"array":Y==="object"&&(String.prototype.isPrototypeOf(M)||M.constructor&&M.constructor.name==="String")?"string":Y},y=function(M){return function(Y){return m(Y)===M}},b=function(M){return function(Y){return typeof Y===M}},_=y("string"),x=y("object"),T=y("array"),O=b("boolean"),L=b("function"),W=b("number"),I=function(){},H=function(M){return function(){return M}},P=function(M){return M},V=function(M,Y){return M===Y},Z=function(M){return function(Y){return!M(Y)}},q=H(!1),$e=H(!0),me=function(){return Be},Be=function(){var M=function(Ce){return Ce()},Y=P,ae={fold:function(Ce,qe){return Ce()},isSome:q,isNone:$e,getOr:Y,getOrThunk:M,getOrDie:function(Ce){throw new Error(Ce||"error: getOrDie called on none.")},getOrNull:H(null),getOrUndefined:H(void 0),or:Y,orThunk:M,map:me,each:I,bind:me,exists:q,forall:$e,filter:function(){return me()},toArray:function(){return[]},toString:H("none()")};return ae}(),ne=function(M){var Y=H(M),ae=function(){return qe},Ce=function(yt){return yt(M)},qe={fold:function(yt,kn){return kn(M)},isSome:$e,isNone:q,getOr:Y,getOrThunk:Y,getOrDie:Y,getOrNull:Y,getOrUndefined:Y,or:ae,orThunk:ae,map:function(yt){return ne(yt(M))},each:function(yt){yt(M)},bind:Ce,exists:Ce,forall:Ce,filter:function(yt){return yt(M)?qe:Be},toArray:function(){return[M]},toString:function(){return"some("+M+")"}};return qe},ge=function(M){return M==null?Be:ne(M)},De={some:ne,none:me,from:ge},Se=Array.prototype.slice,We=Array.prototype.push,se=function(M,Y){for(var ae=M.length,Ce=new Array(ae),qe=0;qe<ae;qe++){var yt=M[qe];Ce[qe]=Y(yt,qe)}return Ce},ce=function(M,Y){for(var ae=0,Ce=M.length;ae<Ce;ae++){var qe=M[ae];Y(qe,ae)}},Ee=function(M,Y){for(var ae=[],Ce=0,qe=M.length;Ce<qe;Ce++){var yt=M[Ce];Y(yt,Ce)&&ae.push(yt)}return ae},Ue=function(M,Y){if(M.length===0)return[];for(var ae=Y(M[0]),Ce=[],qe=[],yt=0,kn=M.length;yt<kn;yt++){var rr=M[yt],Rr=Y(rr);Rr!==ae&&(Ce.push(qe),qe=[]),ae=Rr,qe.push(rr)}return qe.length!==0&&Ce.push(qe),Ce},re=function(M,Y,ae){return ce(M,function(Ce,qe){ae=Y(ae,Ce,qe)}),ae},j=function(M,Y,ae){for(var Ce=0,qe=M.length;Ce<qe;Ce++){var yt=M[Ce];if(Y(yt,Ce))return De.some(yt);if(ae(yt,Ce))break}return De.none()},ke=function(M,Y){return j(M,Y,q)},rt=function(M){for(var Y=[],ae=0,Ce=M.length;ae<Ce;++ae){if(!T(M[ae]))throw new Error("Arr.flatten item "+ae+" was not an array, input: "+M);We.apply(Y,M[ae])}return Y},le=function(M,Y){return rt(se(M,Y))},be=function(M){var Y=Se.call(M,0);return Y.reverse(),Y},st=function(M,Y){return Y>=0&&Y<M.length?De.some(M[Y]):De.none()},B=function(M){return st(M,0)},kt=function(M){return st(M,M.length-1)},at=function(M,Y){for(var ae=0;ae<M.length;ae++){var Ce=Y(M[ae],ae);if(Ce.isSome())return Ce}return De.none()},ot=function(){return ot=Object.assign||function(Y){for(var ae,Ce=1,qe=arguments.length;Ce<qe;Ce++){ae=arguments[Ce];for(var yt in ae)Object.prototype.hasOwnProperty.call(ae,yt)&&(Y[yt]=ae[yt])}return Y},ot.apply(this,arguments)};function An(M,Y,ae){if(ae||arguments.length===2)for(var Ce=0,qe=Y.length,yt;Ce<qe;Ce++)(yt||!(Ce in Y))&&(yt||(yt=Array.prototype.slice.call(Y,0,Ce)),yt[Ce]=Y[Ce]);return M.concat(yt||Array.prototype.slice.call(Y))}var cn=function(M){var Y=!1,ae;return function(){for(var Ce=[],qe=0;qe<arguments.length;qe++)Ce[qe]=arguments[qe];return Y||(Y=!0,ae=M.apply(null,Ce)),ae}},ct=function(M,Y,ae,Ce){var qe=M.isiOS()&&/ipad/i.test(ae)===!0,yt=M.isiOS()&&!qe,kn=M.isiOS()||M.isAndroid(),rr=kn||Ce("(pointer:coarse)"),Rr=qe||!yt&&kn&&Ce("(min-device-width:768px)"),pr=yt||kn&&!Rr,xa=Y.isSafari()&&M.isiOS()&&/safari/i.test(ae)===!1,xi=!pr&&!Rr&&!xa;return{isiPad:H(qe),isiPhone:H(yt),isTablet:H(Rr),isPhone:H(pr),isTouch:H(rr),isAndroid:M.isAndroid,isiOS:M.isiOS,isWebView:H(xa),isDesktop:H(xi)}},_n=function(M,Y){for(var ae=0;ae<M.length;ae++){var Ce=M[ae];if(Ce.test(Y))return Ce}},te=function(M,Y){var ae=_n(M,Y);if(!ae)return{major:0,minor:0};var Ce=function(qe){return Number(Y.replace(ae,"$"+qe))};return pt(Ce(1),Ce(2))},fn=function(M,Y){var ae=String(Y).toLowerCase();return M.length===0?Ve():te(M,ae)},Ve=function(){return pt(0,0)},pt=function(M,Y){return{major:M,minor:Y}},Jn={nu:pt,detect:fn,unknown:Ve},Te=function(M,Y){return at(Y.brands,function(ae){var Ce=ae.brand.toLowerCase();return ke(M,function(qe){var yt;return Ce===((yt=qe.brand)===null||yt===void 0?void 0:yt.toLowerCase())}).map(function(qe){return{current:qe.name,version:Jn.nu(parseInt(ae.version,10),0)}})})},Ae=function(M,Y){var ae=String(Y).toLowerCase();return ke(M,function(Ce){return Ce.search(ae)})},Ze=function(M,Y){return Ae(M,Y).map(function(ae){var Ce=Jn.detect(ae.versionRegexes,Y);return{current:ae.name,version:Ce}})},et=function(M,Y){return Ae(M,Y).map(function(ae){var Ce=Jn.detect(ae.versionRegexes,Y);return{current:ae.name,version:Ce}})},Le=function(M,Y){return M.indexOf(Y)!==-1},bt=function(M){return function(Y){return Y.replace(M,"")}},Jt=bt(/^\s+|\s+$/g),ut=function(M){return M.length>0},jt=function(M){return!ut(M)},Rt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ft=function(M){return function(Y){return Le(Y,M)}},rn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(M){return Le(M,"edge/")&&Le(M,"chrome")&&Le(M,"safari")&&Le(M,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Rt],search:function(M){return Le(M,"chrome")&&!Le(M,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(M){return Le(M,"msie")||Le(M,"trident")}},{name:"Opera",versionRegexes:[Rt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ft("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ft("firefox")},{name:"Safari",versionRegexes:[Rt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(M){return(Le(M,"safari")||Le(M,"mobile/"))&&Le(M,"applewebkit")}}],pn=[{name:"Windows",search:Ft("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(M){return Le(M,"iphone")||Le(M,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ft("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ft("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ft("linux"),versionRegexes:[]},{name:"Solaris",search:Ft("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ft("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ft("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Yn={browsers:H(rn),oses:H(pn)},fr="Edge",qr="Chrome",ir="IE",ua="Opera",va="Firefox",Qr="Safari",Hr=function(){return da({current:void 0,version:Jn.unknown()})},da=function(M){var Y=M.current,ae=M.version,Ce=function(qe){return function(){return Y===qe}};return{current:Y,version:ae,isEdge:Ce(fr),isChrome:Ce(qr),isIE:Ce(ir),isOpera:Ce(ua),isFirefox:Ce(va),isSafari:Ce(Qr)}},Ur={unknown:Hr,nu:da,edge:H(fr),chrome:H(qr),ie:H(ir),opera:H(ua),firefox:H(va),safari:H(Qr)},vr="Windows",Fa="iOS",Zi="Android",Xl="Linux",Vr="OSX",yi="Solaris",Ju="FreeBSD",wi="ChromeOS",Tn=function(){return Pr({current:void 0,version:Jn.unknown()})},Pr=function(M){var Y=M.current,ae=M.version,Ce=function(qe){return function(){return Y===qe}};return{current:Y,version:ae,isWindows:Ce(vr),isiOS:Ce(Fa),isAndroid:Ce(Zi),isOSX:Ce(Vr),isLinux:Ce(Xl),isSolaris:Ce(yi),isFreeBSD:Ce(Ju),isChromeOS:Ce(wi)}},lo={unknown:Tn,nu:Pr,windows:H(vr),ios:H(Fa),android:H(Zi),linux:H(Xl),osx:H(Vr),solaris:H(yi),freebsd:H(Ju),chromeos:H(wi)},lu=function(M,Y,ae){var Ce=Yn.browsers(),qe=Yn.oses(),yt=Y.bind(function(Rr){return Te(Ce,Rr)}).orThunk(function(){return Ze(Ce,M)}).fold(Ur.unknown,Ur.nu),kn=et(qe,M).fold(lo.unknown,lo.nu),rr=ct(kn,yt,M,ae);return{browser:yt,os:kn,deviceType:rr}},Zu={detect:lu},Ir=function(M){return window.matchMedia(M).matches},Dr=cn(function(){return Zu.detect(navigator.userAgent,De.from(navigator.userAgentData),Ir)}),Gs=function(){return Dr()},rh=function(M,Y,ae){return(M.compareDocumentPosition(Y)&ae)!==0},Df=function(M,Y){return rh(M,Y,Node.DOCUMENT_POSITION_CONTAINED_BY)},qs=1,Bc=function(M,Y){var ae=Y||document,Ce=ae.createElement("div");if(Ce.innerHTML=M,!Ce.hasChildNodes()||Ce.childNodes.length>1)throw console.error("HTML does not have a single root node",M),new Error("HTML must have a single root node");return bl(Ce.childNodes[0])},Ov=function(M,Y){var ae=Y||document,Ce=ae.createElement(M);return bl(Ce)},pl=function(M,Y){var ae=Y||document,Ce=ae.createTextNode(M);return bl(Ce)},bl=function(M){if(M==null)throw new Error("Node cannot be null or undefined");return{dom:M}},Rf=function(M,Y,ae){return De.from(M.dom.elementFromPoint(Y,ae)).map(bl)},ma={fromHtml:Bc,fromTag:Ov,fromText:pl,fromDom:bl,fromPoint:Rf},Ks=function(M,Y){var ae=M.dom;if(ae.nodeType!==qs)return!1;var Ce=ae;if(Ce.matches!==void 0)return Ce.matches(Y);if(Ce.msMatchesSelector!==void 0)return Ce.msMatchesSelector(Y);if(Ce.webkitMatchesSelector!==void 0)return Ce.webkitMatchesSelector(Y);if(Ce.mozMatchesSelector!==void 0)return Ce.mozMatchesSelector(Y);throw new Error("Browser lacks native selectors")},qn=function(M,Y){return M.dom===Y.dom},ah=function(M,Y){var ae=M.dom,Ce=Y.dom;return ae===Ce?!1:ae.contains(Ce)},Ou=function(M,Y){return Df(M.dom,Y.dom)},Mc=function(M,Y){return Gs().browser.isIE()?Ou(M,Y):ah(M,Y)},oh=Ks,Yl=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ih=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),$f=tinymce.util.Tools.resolve("tinymce.util.VK"),uh=Object.keys,_s=function(M,Y){for(var ae=uh(M),Ce=0,qe=ae.length;Ce<qe;Ce++){var yt=ae[Ce],kn=M[yt];Y(kn,yt)}},Pc=function(M){return function(Y,ae){M[ae]=Y}},sn=function(M,Y,ae,Ce){var qe={};return _s(M,function(yt,kn){(Y(yt,kn)?ae:Ce)(yt,kn)}),qe},$d=function(M,Y){var ae={};return sn(M,Y,Pc(ae),I),ae};typeof window<"u"||Function("return this;")();var Dv=function(M){var Y=M.dom.nodeName;return Y.toLowerCase()},Rv=function(M){return M.dom.nodeType},Jl=function(M){return function(Y){return Rv(Y)===M}},Qu=Jl(qs),sh=function(M){return function(Y){return Qu(Y)&&Dv(Y)===M}},Bo=function(M,Y,ae){if(_(ae)||O(ae)||W(ae))M.setAttribute(Y,ae+"");else throw console.error("Invalid call to Attribute.set. Key ",Y,":: Value ",ae,":: Element ",M),new Error("Attribute value was not simple")},po=function(M,Y){var ae=M.dom;_s(Y,function(Ce,qe){Bo(ae,qe,Ce)})},Du=function(M){return re(M.dom.attributes,function(Y,ae){return Y[ae.name]=ae.value,Y},{})},Xs=function(M){return De.from(M.dom.parentNode).map(ma.fromDom)},Bd=function(M){return se(M.dom.childNodes,ma.fromDom)},es=function(M,Y){var ae=M.dom.childNodes;return De.from(ae[Y]).map(ma.fromDom)},Bf=function(M){return es(M,0)},Md=function(M){return es(M,M.dom.childNodes.length-1)},yl=function(M,Y){var ae=Xs(M);ae.each(function(Ce){Ce.dom.insertBefore(Y.dom,M.dom)})},Ru=function(M,Y){M.dom.appendChild(Y.dom)},en=function(M,Y){ce(Y,function(ae){yl(M,ae)})},Ci=function(M,Y){ce(Y,function(ae){Ru(M,ae)})},wl=function(M){var Y=M.dom;Y.parentNode!==null&&Y.parentNode.removeChild(Y)},lh=function(M,Y){return ma.fromDom(M.dom.cloneNode(Y))},Mf=function(M){return lh(M,!0)},ea=function(M,Y){var ae=ma.fromTag(Y),Ce=Du(M);return po(ae,Ce),ae},$v=function(M,Y){var ae=ea(M,Y);yl(M,ae);var Ce=Bd(M);return Ci(ae,Ce),wl(M),ae},Cl=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),co=tinymce.util.Tools.resolve("tinymce.util.Tools"),Bv=function(M){return function(Y){return Y&&Y.nodeName.toLowerCase()===M}},cu=function(M){return function(Y){return Y&&M.test(Y.nodeName)}},ts=function(M){return M&&M.nodeType===3},Ra=cu(/^(OL|UL|DL)$/),Pf=cu(/^(OL|UL)$/),If=Bv("ol"),Mv=cu(/^(LI|DT|DD)$/),Pd=cu(/^(DT|DD)$/),_l=cu(/^(TH|TD)$/),Ys=Bv("br"),Pv=function(M){return M.parentNode.firstChild===M},Ss=function(M,Y){return Y&&!!M.schema.getTextBlockElements()[Y.nodeName]},$u=function(M,Y){return M&&M.nodeName in Y},ie=function(M,Y){return Ys(Y)?M.isBlock(Y.nextSibling)&&!Ys(Y.previousSibling):!1},Ie=function(M,Y,ae){var Ce=M.isEmpty(Y);return ae&&M.select("span[data-mce-type=bookmark]",Y).length>0?!1:Ce},Je=function(M,Y){return M.isChildOf(Y,M.getRoot())},Et=function(M){return M.getParam("lists_indent_on_tab",!0)},qt=function(M){var Y=M.getParam("forced_root_block","p");return Y===!1?"":Y===!0?"p":Y},Bn=function(M){return M.getParam("forced_root_block_attrs",{})},aa=function(M,Y){var ae=M.dom,Ce=M.schema.getBlockElements(),qe=ae.createFragment(),yt=qt(M),kn,rr,Rr;if(yt&&(rr=ae.create(yt),rr.tagName===yt.toUpperCase()&&ae.setAttribs(rr,Bn(M)),$u(Y.firstChild,Ce)||qe.appendChild(rr)),Y)for(;kn=Y.firstChild;){var pr=kn.nodeName;!Rr&&(pr!=="SPAN"||kn.getAttribute("data-mce-type")!=="bookmark")&&(Rr=!0),$u(kn,Ce)?(qe.appendChild(kn),rr=null):yt?(rr||(rr=ae.create(yt),qe.appendChild(rr)),rr.appendChild(kn)):qe.appendChild(kn)}return yt?Rr||rr.appendChild(ae.create("br",{"data-mce-bogus":"1"})):qe.appendChild(ae.create("br")),qe},ha=Cl.DOM,yr=function(M,Y,ae){var Ce=function(pr){co.each(qe,function(xa){pr.parentNode.insertBefore(xa,ae.parentNode)}),ha.remove(pr)},qe=ha.select('span[data-mce-type="bookmark"]',Y),yt=aa(M,ae),kn=ha.createRng();kn.setStartAfter(ae),kn.setEndAfter(Y);for(var rr=kn.extractContents(),Rr=rr.firstChild;Rr;Rr=Rr.firstChild)if(Rr.nodeName==="LI"&&M.dom.isEmpty(Rr)){ha.remove(Rr);break}M.dom.isEmpty(rr)||ha.insertAfter(rr,Y),ha.insertAfter(yt,Y),Ie(M.dom,ae.parentNode)&&Ce(ae.parentNode),ha.remove(ae),Ie(M.dom,Y)&&ha.remove(Y)},La=sh("dd"),Ka=sh("dt"),Ic=function(M,Y){La(Y)?$v(Y,"dt"):Ka(Y)&&Xs(Y).each(function(ae){return yr(M,ae.dom,Y.dom)})},zi=function(M){Ka(M)&&$v(M,"dd")},Zl=function(M,Y,ae){Y==="Indent"?ce(ae,zi):ce(ae,function(Ce){return Ic(M,Ce)})},Wn=function(M,Y){if(ts(M))return{container:M,offset:Y};var ae=Yl.getNode(M,Y);return ts(ae)?{container:ae,offset:Y>=M.childNodes.length?ae.data.length:0}:ae.previousSibling&&ts(ae.previousSibling)?{container:ae.previousSibling,offset:ae.previousSibling.data.length}:ae.nextSibling&&ts(ae.nextSibling)?{container:ae.nextSibling,offset:0}:{container:M,offset:Y}},ch=function(M){var Y=M.cloneRange(),ae=Wn(M.startContainer,M.startOffset);Y.setStart(ae.container,ae.offset);var Ce=Wn(M.endContainer,M.endOffset);return Y.setEnd(Ce.container,Ce.offset),Y},vp=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),ta=function(M,Y){var ae=Y||M.selection.getStart(!0);return M.dom.getParent(ae,"OL,UL,DL",Sl(M,ae))},dp=function(M,Y){return M&&Y.length===1&&Y[0]===M},fh=function(M){return Ee(M.querySelectorAll("ol,ul,dl"),Ra)},r2=function(M){var Y=ta(M),ae=M.selection.getSelectedBlocks();return dp(Y,ae)?fh(Y):Ee(ae,function(Ce){return Ra(Ce)&&Y!==Ce})},Sa=function(M,Y){var ae=co.map(Y,function(Ce){var qe=M.dom.getParent(Ce,"li,dd,dt",Sl(M,Ce));return qe||Ce});return vp.unique(ae)},Js=function(M){var Y=M.selection.getSelectedBlocks();return Ee(Sa(M,Y),Mv)},a2=function(M){return Ee(Js(M),Pd)},Sl=function(M,Y){var ae=M.dom.getParents(Y,"TD,TH");return ae.length>0?ae[0]:M.getBody()},Jo=function(M,Y){var ae=M.dom.getParents(Y,"ol,ul",Sl(M,Y));return kt(ae)},Nf=function(M){var Y=Jo(M,M.selection.getStart()),ae=Ee(M.selection.getSelectedBlocks(),Pf);return Y.toArray().concat(ae)},wt=function(M){var Y=Nf(M);return vh(M,Y)},vh=function(M,Y){var ae=se(Y,function(Ce){return Jo(M,Ce).getOr(Ce)});return vp.unique(ae)},xo=function(M,Y,ae){return ae===void 0&&(ae=V),M.exists(function(Ce){return ae(Ce,Y)})},cb=function(M,Y,ae){return M.isSome()&&Y.isSome()?De.some(ae(M.getOrDie(),Y.getOrDie())):De.none()},zf=function(M,Y){var ae=Y||document,Ce=ae.createDocumentFragment();return ce(M,function(qe){Ce.appendChild(qe.dom)}),ma.fromDom(Ce)},Iv=function(M,Y,ae){return M.fire("ListMutation",{action:Y,element:ae})},Ge=function(M){return M.style!==void 0&&L(M.style.getPropertyValue)},ai=function(M,Y,ae){if(!_(ae))throw console.error("Invalid call to CSS.set. Property ",Y,":: Value ",ae,":: Element ",M),new Error("CSS value must be a string: "+ae);Ge(M)&&M.style.setProperty(Y,ae)},dh=function(M,Y,ae){var Ce=M.dom;ai(Ce,Y,ae)},mp=function(M,Y){Ru(M.item,Y.list)},fb=function(M){for(var Y=1;Y<M.length;Y++)mp(M[Y-1],M[Y])},Id=function(M,Y){cb(kt(M),B(Y),mp)},hp=function(M,Y){var ae={list:ma.fromTag(Y,M),item:ma.fromTag("li",M)};return Ru(ae.list,ae.item),ae},gp=function(M,Y,ae){for(var Ce=[],qe=0;qe<ae;qe++)Ce.push(hp(M,Y.listType));return Ce},xs=function(M,Y){for(var ae=0;ae<M.length-1;ae++)dh(M[ae].item,"list-style-type","none");kt(M).each(function(Ce){po(Ce.list,Y.listAttributes),po(Ce.item,Y.itemAttributes),Ci(Ce.item,Y.content)})},Ql=function(M,Y){Dv(M.list)!==Y.listType&&(M.list=$v(M.list,Y.listType)),po(M.list,Y.listAttributes)},vb=function(M,Y,ae){var Ce=ma.fromTag("li",M);return po(Ce,Y),Ci(Ce,ae),Ce},db=function(M,Y){Ru(M.list,Y),M.item=Y},ec=function(M,Y,ae){var Ce=Y.slice(0,ae.depth);return kt(Ce).each(function(qe){var yt=vb(M,ae.itemAttributes,ae.content);db(qe,yt),Ql(qe,ae)}),Ce},$a=function(M,Y,ae){var Ce=gp(M,ae,ae.depth-Y.length);return fb(Ce),xs(Ce,ae),Id(Y,Ce),Y.concat(Ce)},mb=function(M,Y){var ae=re(Y,function(Ce,qe){return qe.depth>Ce.length?$a(M,Ce,qe):ec(M,Ce,qe)},[]);return B(ae).map(function(Ce){return Ce.list})},fu=function(M){return oh(M,"OL,UL")},Fi=function(M){return Bf(M).exists(fu)},ko=function(M){return Md(M).exists(fu)},Nc=function(M){return M.depth>0},cr=function(M){return M.isSelected},ns=function(M){var Y=Bd(M),ae=ko(M)?Y.slice(0,-1):Y;return se(ae,Mf)},Ha=function(M,Y,ae){return Xs(M).filter(Qu).map(function(Ce){return{depth:Y,dirty:!1,isSelected:ae,content:ns(M),itemAttributes:Du(M),listAttributes:Du(Ce),listType:Dv(Ce)}})},Xa=function(M,Y){switch(M){case"Indent":Y.depth++;break;case"Outdent":Y.depth--;break;case"Flatten":Y.depth=0}Y.dirty=!0},hb=function(M,Y){M.listType=Y.listType,M.listAttributes=ot({},Y.listAttributes)},oi=function(M){M.listAttributes=$d(M.listAttributes,function(Y,ae){return ae!=="start"})},pp=function(M,Y){var ae=M[Y].depth,Ce=function(yt){return yt.depth===ae&&!yt.dirty},qe=function(yt){return yt.depth<ae};return j(be(M.slice(0,Y)),Ce,qe).orThunk(function(){return j(M.slice(Y+1),Ce,qe)})},xl=function(M){return ce(M,function(Y,ae){pp(M,ae).fold(function(){Y.dirty&&oi(Y)},function(Ce){return hb(Y,Ce)})}),M},Xn=function(M){var Y=M,ae=function(){return Y},Ce=function(qe){Y=qe};return{get:ae,set:Ce}},rs=function(M,Y,ae,Ce){return Bf(Ce).filter(fu).fold(function(){Y.each(function(kn){qn(kn.start,Ce)&&ae.set(!0)});var qe=Ha(Ce,M,ae.get());Y.each(function(kn){qn(kn.end,Ce)&&ae.set(!1)});var yt=Md(Ce).filter(fu).map(function(kn){return no(M,Y,ae,kn)}).getOr([]);return qe.toArray().concat(yt)},function(qe){return no(M,Y,ae,qe)})},no=function(M,Y,ae,Ce){return le(Bd(Ce),function(qe){var yt=fu(qe)?no:rs,kn=M+1;return yt(kn,Y,ae,qe)})},ro=function(M,Y){var ae=Xn(!1),Ce=0;return se(M,function(qe){return{sourceList:qe,entries:no(Ce,Y,ae,qe)}})},Lo=function(M,Y){var ae=xl(Y);return se(ae,function(Ce){var qe=zf(Ce.content);return ma.fromDom(aa(M,qe.dom))})},Ao=function(M,Y){var ae=xl(Y);return mb(M.contentDocument,ae).toArray()},Ff=function(M,Y){return le(Ue(Y,Nc),function(ae){var Ce=B(ae).exists(Nc);return Ce?Ao(M,ae):Lo(M,ae)})},ks=function(M,Y){ce(Ee(M,cr),function(ae){return Xa(Y,ae)})},Kr=function(M){var Y=se(Js(M),ma.fromDom);return cb(ke(Y,Z(Fi)),ke(be(Y),Z(Fi)),function(ae,Ce){return{start:ae,end:Ce}})},Ba=function(M,Y,ae){var Ce=ro(Y,Kr(M));ce(Ce,function(qe){ks(qe.entries,ae);var yt=Ff(M,qe.entries);ce(yt,function(kn){Iv(M,ae==="Indent"?"IndentList":"OutdentList",kn.dom)}),en(qe.sourceList,yt),wl(qe.sourceList)})},Qi=function(M,Y){var ae=se(wt(M),ma.fromDom),Ce=se(a2(M),ma.fromDom),qe=!1;if(ae.length||Ce.length){var yt=M.selection.getBookmark();Ba(M,ae,Y),Zl(M,Y,Ce),M.selection.moveToBookmark(yt),M.selection.setRng(ch(M.selection.getRng())),M.nodeChanged(),qe=!0}return qe},tc=function(M){return Qi(M,"Indent")},Mo=function(M){return Qi(M,"Outdent")},as=function(M){return Qi(M,"Flatten")},gb=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Lf=Cl.DOM,ya=function(M){var Y={},ae=function(Ce){var qe=M[Ce?"startContainer":"endContainer"],yt=M[Ce?"startOffset":"endOffset"];if(qe.nodeType===1){var kn=Lf.create("span",{"data-mce-type":"bookmark"});qe.hasChildNodes()?(yt=Math.min(yt,qe.childNodes.length-1),Ce?qe.insertBefore(kn,qe.childNodes[yt]):Lf.insertAfter(kn,qe.childNodes[yt])):qe.appendChild(kn),qe=kn,yt=0}Y[Ce?"startContainer":"endContainer"]=qe,Y[Ce?"startOffset":"endOffset"]=yt};return ae(!0),M.collapsed||ae(),Y},Zs=function(M){var Y=function(Ce){var qe,yt=function(Rr){for(var pr=Rr.parentNode.firstChild,xa=0;pr;){if(pr===Rr)return xa;(pr.nodeType!==1||pr.getAttribute("data-mce-type")!=="bookmark")&&xa++,pr=pr.nextSibling}return-1},kn=qe=M[Ce?"startContainer":"endContainer"],rr=M[Ce?"startOffset":"endOffset"];kn&&(kn.nodeType===1&&(rr=yt(kn),kn=kn.parentNode,Lf.remove(qe),!kn.hasChildNodes()&&Lf.isBlock(kn)&&kn.appendChild(Lf.create("br"))),M[Ce?"startContainer":"endContainer"]=kn,M[Ce?"startOffset":"endOffset"]=rr)};Y(!0),Y();var ae=Lf.createRng();return ae.setStart(M.startContainer,M.startOffset),M.endContainer&&ae.setEnd(M.endContainer,M.endOffset),ch(ae)},zc=function(M){switch(M){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},vu=function(M){return/\btox\-/.test(M.className)},fo=function(M,Y,ae){var Ce=function(yt){var kn=j(yt.parents,Ra,_l).filter(function(rr){return rr.nodeName===Y&&!vu(rr)}).isSome();ae(kn)},qe=M.dom.getParents(M.selection.getNode());return Ce({parents:qe}),M.on("NodeChange",Ce),function(){return M.off("NodeChange",Ce)}},Fc=function(M,Y,ae){var Ce=ae["list-style-type"]?ae["list-style-type"]:null;M.setStyle(Y,"list-style-type",Ce)},nc=function(M,Y){co.each(Y,function(ae,Ce){M.setAttribute(Ce,ae)})},Li=function(M,Y,ae){nc(Y,ae["list-attributes"]),co.each(M.select("li",Y),function(Ce){nc(Ce,ae["list-item-attributes"])})},du=function(M,Y,ae){Fc(M,Y,ae),Li(M,Y,ae)},_i=function(M,Y,ae){co.each(ae,function(Ce){var qe;return M.setStyle(Y,(qe={},qe[Ce]="",qe))})},Nv=function(M,Y,ae,Ce){var qe=Y[ae?"startContainer":"endContainer"],yt=Y[ae?"startOffset":"endOffset"];for(qe.nodeType===1&&(qe=qe.childNodes[Math.min(yt,qe.childNodes.length-1)]||qe),!ae&&Ys(qe.nextSibling)&&(qe=qe.nextSibling);qe.parentNode!==Ce;){if(Ss(M,qe)||/^(TD|TH)$/.test(qe.parentNode.nodeName))return qe;qe=qe.parentNode}return qe},Qs=function(M,Y,ae){for(var Ce=[],qe=M.dom,yt=Nv(M,Y,!0,ae),kn=Nv(M,Y,!1,ae),rr,Rr=[],pr=yt;pr&&(Rr.push(pr),pr!==kn);pr=pr.nextSibling);return co.each(Rr,function(xa){if(Ss(M,xa)){Ce.push(xa),rr=null;return}if(qe.isBlock(xa)||Ys(xa)){Ys(xa)&&qe.remove(xa),rr=null;return}var xi=xa.nextSibling;if(gb.isBookmarkNode(xa)&&(Ra(xi)||Ss(M,xi)||!xi&&xa.parentNode===ae)){rr=null;return}rr||(rr=qe.create("p"),xa.parentNode.insertBefore(rr,xa),Ce.push(rr)),rr.appendChild(xa)}),Ce},Ho=function(M,Y,ae){var Ce=M.getStyle(Y,"list-style-type"),qe=ae?ae["list-style-type"]:"";return qe=qe===null?"":qe,Ce===qe},Nd=function(M,Y,ae){var Ce=M.selection.getRng(),qe="LI",yt=Sl(M,M.selection.getStart(!0)),kn=M.dom;if(kn.getContentEditable(M.selection.getNode())!=="false"){Y=Y.toUpperCase(),Y==="DL"&&(qe="DT");var rr=ya(Ce),Rr=Qs(M,Ce,yt);co.each(Rr,function(pr){var xa,xi=pr.previousSibling,ao=pr.parentNode;Mv(ao)||(xi&&Ra(xi)&&xi.nodeName===Y&&Ho(kn,xi,ae)?(xa=xi,pr=kn.rename(pr,qe),xi.appendChild(pr)):(xa=kn.create(Y),pr.parentNode.insertBefore(xa,pr),xa.appendChild(pr),pr=kn.rename(pr,qe)),_i(kn,pr,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),du(kn,xa,ae),Uf(M.dom,xa))}),M.selection.setRng(Zs(rr))}},pb=function(M,Y){return M&&Y&&Ra(M)&&M.nodeName===Y.nodeName},Hf=function(M,Y,ae){var Ce=M.getStyle(Y,"list-style-type",!0),qe=M.getStyle(ae,"list-style-type",!0);return Ce===qe},Vf=function(M,Y){return M.className===Y.className},vo=function(M,Y,ae){return pb(Y,ae)&&Hf(M,Y,ae)&&Vf(Y,ae)},Uf=function(M,Y){var ae,Ce;if(ae=Y.nextSibling,vo(M,Y,ae)){for(;Ce=ae.firstChild;)Y.appendChild(Ce);M.remove(ae)}if(ae=Y.previousSibling,vo(M,Y,ae)){for(;Ce=ae.lastChild;)Y.insertBefore(Ce,Y.firstChild);M.remove(ae)}},Wf=function(M,Y,ae,Ce){if(Y.nodeName!==ae){var qe=M.dom.rename(Y,ae);du(M.dom,qe,Ce),Iv(M,zc(ae),qe)}else du(M.dom,Y,Ce),Iv(M,zc(ae),Y)},Hi=function(M,Y,ae,Ce,qe){var yt=Ra(Y);if(yt&&Y.nodeName===Ce&&!rc(qe))as(M);else{Nd(M,Ce,qe);var kn=ya(M.selection.getRng()),rr=yt?An([Y],ae,!0):ae;co.each(rr,function(Rr){Wf(M,Rr,Ce,qe)}),M.selection.setRng(Zs(kn))}},rc=function(M){return"list-style-type"in M},jf=function(M,Y,ae,Ce){if(Y!==M.getBody())if(Y)if(Y.nodeName===ae&&!rc(Ce)&&!vu(Y))as(M);else{var qe=ya(M.selection.getRng());du(M.dom,Y,Ce);var yt=M.dom.rename(Y,ae);Uf(M.dom,yt),M.selection.setRng(Zs(qe)),Nd(M,ae,Ce),Iv(M,zc(ae),yt)}else Nd(M,ae,Ce),Iv(M,zc(ae),Y)},ac=function(M,Y,ae){var Ce=ta(M),qe=r2(M),yt=x(ae)?ae:{};qe.length>0?Hi(M,Ce,qe,Y,yt):jf(M,Ce,Y,yt)},ja=Cl.DOM,Bu=function(M,Y){var ae=Y.parentNode;if(ae.nodeName==="LI"&&ae.firstChild===Y){var Ce=ae.previousSibling;Ce&&Ce.nodeName==="LI"?(Ce.appendChild(Y),Ie(M,ae)&&ja.remove(ae)):ja.setStyle(ae,"listStyleType","none")}if(Ra(ae)){var Ce=ae.previousSibling;Ce&&Ce.nodeName==="LI"&&Ce.appendChild(Y)}},mh=function(M,Y){var ae=co.grep(M.select("ol,ul",Y));co.each(ae,function(Ce){Bu(M,Ce)})},os=function(M,Y,ae,Ce){var qe=Y.startContainer,yt=Y.startOffset;if(ts(qe)&&(ae?yt<qe.data.length:yt>0))return qe;var kn=M.schema.getNonEmptyElements();qe.nodeType===1&&(qe=Yl.getNode(qe,yt));var rr=new ih(qe,Ce);for(ae&&ie(M.dom,qe)&&rr.next();qe=rr[ae?"next":"prev2"]();)if(qe.nodeName==="LI"&&!qe.hasChildNodes()||kn[qe.nodeName]||ts(qe)&&qe.data.length>0)return qe},hh=function(M,Y){var ae=Y.childNodes;return ae.length===1&&!Ra(ae[0])&&M.isBlock(ae[0])},bb=function(M,Y){hh(M,Y)&&M.remove(Y.firstChild,!0)},bp=function(M,Y,ae){var Ce,qe=hh(M,ae)?ae.firstChild:ae;if(bb(M,Y),!Ie(M,Y,!0))for(;Ce=Y.firstChild;)qe.appendChild(Ce)},Gf=function(M,Y,ae){var Ce,qe=Y.parentNode;if(!(!Je(M,Y)||!Je(M,ae))){Ra(ae.lastChild)&&(Ce=ae.lastChild),qe===ae.lastChild&&Ys(qe.previousSibling)&&M.remove(qe.previousSibling);var yt=ae.lastChild;yt&&Ys(yt)&&Y.hasChildNodes()&&M.remove(yt),Ie(M,ae,!0)&&M.$(ae).empty(),bp(M,Y,ae),Ce&&ae.appendChild(Ce);var kn=Mc(ma.fromDom(ae),ma.fromDom(Y)),rr=kn?M.getParents(Y,Ra,ae):[];M.remove(Y),ce(rr,function(Rr){Ie(M,Rr)&&Rr!==M.getRoot()&&M.remove(Rr)})}},qf=function(M,Y,ae){M.dom.$(ae).empty(),Gf(M.dom,Y,ae),M.selection.setCursorLocation(ae,0)},Lc=function(M,Y,ae,Ce){var qe=M.dom;if(qe.isEmpty(Ce))qf(M,ae,Ce);else{var yt=ya(Y);Gf(qe,ae,Ce),M.selection.setRng(Zs(yt))}},Zn=function(M,Y,ae,Ce){var qe=ya(Y);Gf(M.dom,ae,Ce);var yt=Zs(qe);M.selection.setRng(yt)},As=function(M,Y){var ae=M.dom,Ce=M.selection,qe=Ce.getStart(),yt=Sl(M,qe),kn=ae.getParent(Ce.getStart(),"LI",yt);if(kn){var rr=kn.parentNode;if(rr===M.getBody()&&Ie(ae,rr))return!0;var Rr=ch(Ce.getRng()),pr=ae.getParent(os(M,Rr,Y,yt),"LI",yt);if(pr&&pr!==kn)return M.undoManager.transact(function(){Y?Lc(M,Rr,pr,kn):Pv(kn)?Mo(M):Zn(M,Rr,kn,pr)}),!0;if(!pr&&!Y&&Rr.startOffset===0&&Rr.endOffset===0)return M.undoManager.transact(function(){as(M)}),!0}return!1},mu=function(M,Y,ae){var Ce=M.getParent(Y.parentNode,M.isBlock,ae);M.remove(Y),Ce&&M.isEmpty(Ce)&&M.remove(Ce)},Vi=function(M,Y){var ae=M.dom,Ce=M.selection.getStart(),qe=Sl(M,Ce),yt=ae.getParent(Ce,ae.isBlock,qe);if(yt&&ae.isEmpty(yt)){var kn=ch(M.selection.getRng()),rr=ae.getParent(os(M,kn,Y,qe),"LI",qe);if(rr)return M.undoManager.transact(function(){mu(ae,yt,qe),Uf(ae,rr.parentNode),M.selection.select(rr,!0),M.selection.collapse(Y)}),!0}return!1},Es=function(M,Y){return As(M,Y)||Vi(M,Y)},bo=function(M){var Y=M.selection.getStart(),ae=Sl(M,Y),Ce=M.dom.getParent(Y,"LI,DT,DD",ae);return Ce||Js(M).length>0?(M.undoManager.transact(function(){M.execCommand("Delete"),mh(M.dom,M.getBody())}),!0):!1},Vo=function(M,Y){return M.selection.isCollapsed()?Es(M,Y):bo(M)},Eo=function(M){M.on("keydown",function(Y){Y.keyCode===$f.BACKSPACE?Vo(M,!1)&&Y.preventDefault():Y.keyCode===$f.DELETE&&Vo(M,!0)&&Y.preventDefault()})},Hc=function(M){return{backspaceDelete:function(Y){Vo(M,Y)}}},Si=function(M,Y){var ae=ta(M);M.undoManager.transact(function(){x(Y.styles)&&M.dom.setStyles(ae,Y.styles),x(Y.attrs)&&_s(Y.attrs,function(Ce,qe){return M.dom.setAttrib(ae,qe,Ce)})})},gn=function(M){var Y=be(Jt(M).split("")),ae=se(Y,function(Ce,qe){var yt=Ce.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,qe)*yt});return re(ae,function(Ce,qe){return Ce+qe},0)},Kf=function(M){if(M--,M<0)return"";var Y=M%26,ae=Math.floor(M/26),Ce=Kf(ae),qe=String.fromCharCode("A".charCodeAt(0)+Y);return Ce+qe},yp=function(M){return/^[A-Z]+$/.test(M)},dr=function(M){return/^[a-z]+$/.test(M)},wa=function(M){return/^[0-9]+$/.test(M)},gh=function(M){return wa(M)?2:yp(M)?0:dr(M)?1:jt(M)?3:4},kl=function(M){switch(gh(M)){case 2:return De.some({listStyleType:De.none(),start:M});case 0:return De.some({listStyleType:De.some("upper-alpha"),start:gn(M).toString()});case 1:return De.some({listStyleType:De.some("lower-alpha"),start:gn(M).toString()});case 3:return De.some({listStyleType:De.none(),start:""});case 4:return De.none()}},Va=function(M){var Y=parseInt(M.start,10);return xo(M.listStyleType,"upper-alpha")?Kf(Y):xo(M.listStyleType,"lower-alpha")?Kf(Y).toLowerCase():M.start},ph=function(M){var Y=ta(M);If(Y)&&M.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Va({start:M.dom.getAttrib(Y,"start","1"),listStyleType:De.some(M.dom.getStyle(Y,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(ae){var Ce=ae.getData();kl(Ce.start).each(function(qe){M.execCommand("mceListUpdate",!1,{attrs:{start:qe.start==="1"?"":qe.start},styles:{"list-style-type":qe.listStyleType.getOr("")}})}),ae.close()}})},Mu=function(M,Y){return function(){var ae=ta(M);return ae&&ae.nodeName===Y}},zd=function(M){M.addCommand("mceListProps",function(){ph(M)})},gr=function(M){M.on("BeforeExecCommand",function(Y){var ae=Y.command.toLowerCase();ae==="indent"?tc(M):ae==="outdent"&&Mo(M)}),M.addCommand("InsertUnorderedList",function(Y,ae){ac(M,"UL",ae)}),M.addCommand("InsertOrderedList",function(Y,ae){ac(M,"OL",ae)}),M.addCommand("InsertDefinitionList",function(Y,ae){ac(M,"DL",ae)}),M.addCommand("RemoveList",function(){as(M)}),zd(M),M.addCommand("mceListUpdate",function(Y,ae){x(ae)&&Si(M,ae)}),M.addQueryStateHandler("InsertUnorderedList",Mu(M,"UL")),M.addQueryStateHandler("InsertOrderedList",Mu(M,"OL")),M.addQueryStateHandler("InsertDefinitionList",Mu(M,"DL"))},eu=function(M){M.on("keydown",function(Y){Y.keyCode!==$f.TAB||$f.metaKeyPressed(Y)||M.undoManager.transact(function(){(Y.shiftKey?Mo(M):tc(M))&&Y.preventDefault()})})},o2=function(M){Et(M)&&eu(M),Eo(M)},i2=function(M){var Y=function(ae){return function(){return M.execCommand(ae)}};M.hasPlugin("advlist")||(M.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Y("InsertOrderedList"),onSetup:function(ae){return fo(M,"OL",ae.setActive)}}),M.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Y("InsertUnorderedList"),onSetup:function(ae){return fo(M,"UL",ae.setActive)}}))},Ga=function(M){var Y={text:"List properties...",icon:"ordered-list",onAction:function(){return M.execCommand("mceListProps")},onSetup:function(ae){return fo(M,"OL",function(Ce){return ae.setDisabled(!Ce)})}};M.ui.registry.addMenuItem("listprops",Y),M.ui.registry.addContextMenu("lists",{update:function(ae){var Ce=ta(M,ae);return If(Ce)?["listprops"]:[]}})};function bh(){f.add("lists",function(M){return M.hasPlugin("rtc",!0)===!1?(o2(M),gr(M)):zd(M),i2(M),Ga(M),Hc(M)})}bh()})();(function(){var f=function(u){var c=typeof u;return u===null?"null":c==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":c==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":c},m=function(u){return function(c){return f(c)===u}},y=function(u){return function(c){return typeof c===u}},b=function(u){return function(c){return u===c}},_=m("string"),x=m("object"),T=m("array"),O=b(null),L=y("boolean"),W=b(void 0),I=function(u){return u==null},H=function(u){return!I(u)},P=y("function"),V=y("number"),Z=function(){},q=function(u,c){return function(){for(var h=[],w=0;w<arguments.length;w++)h[w]=arguments[w];return u(c.apply(null,h))}},$e=function(u,c){return function(h){return u(c(h))}},me=function(u){return function(){return u}},Be=function(u){return u},ne=function(u,c){return u===c};function ge(u){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];return function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];var R=c.concat(w);return u.apply(null,R)}}var De=function(u){return function(c){return!u(c)}},Se=function(u){return function(){throw new Error(u)}},We=me(!1),se=me(!0),ce=function(){return Ee},Ee=function(){var u=function(w){return w()},c=Be,h={fold:function(w,k){return w()},isSome:We,isNone:se,getOr:c,getOrThunk:u,getOrDie:function(w){throw new Error(w||"error: getOrDie called on none.")},getOrNull:me(null),getOrUndefined:me(void 0),or:c,orThunk:u,map:ce,each:Z,bind:ce,exists:We,forall:se,filter:function(){return ce()},toArray:function(){return[]},toString:me("none()")};return h}(),Ue=function(u){var c=me(u),h=function(){return k},w=function(R){return R(u)},k={fold:function(R,z){return z(u)},isSome:se,isNone:We,getOr:c,getOrThunk:c,getOrDie:c,getOrNull:c,getOrUndefined:c,or:h,orThunk:h,map:function(R){return Ue(R(u))},each:function(R){R(u)},bind:w,exists:w,forall:w,filter:function(R){return R(u)?k:Ee},toArray:function(){return[u]},toString:function(){return"some("+u+")"}};return k},re=function(u){return u==null?Ee:Ue(u)},j={some:Ue,none:ce,from:re},ke=Array.prototype.slice,rt=Array.prototype.indexOf,le=Array.prototype.push,be=function(u,c){return rt.call(u,c)},st=function(u,c){return be(u,c)>-1},B=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];if(c(k,h))return!0}return!1},kt=function(u,c){for(var h=[],w=0;w<u;w++)h.push(c(w));return h},at=function(u,c){for(var h=u.length,w=new Array(h),k=0;k<h;k++){var R=u[k];w[k]=c(R,k)}return w},ot=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];c(k,h)}},An=function(u,c){for(var h=u.length-1;h>=0;h--){var w=u[h];c(w,h)}},cn=function(u,c){for(var h=[],w=[],k=0,R=u.length;k<R;k++){var z=u[k],K=c(z,k)?h:w;K.push(z)}return{pass:h,fail:w}},ct=function(u,c){for(var h=[],w=0,k=u.length;w<k;w++){var R=u[w];c(R,w)&&h.push(R)}return h},_n=function(u,c,h){return An(u,function(w,k){h=c(h,w,k)}),h},te=function(u,c,h){return ot(u,function(w,k){h=c(h,w,k)}),h},fn=function(u,c,h){for(var w=0,k=u.length;w<k;w++){var R=u[w];if(c(R,w))return j.some(R);if(h(R,w))break}return j.none()},Ve=function(u,c){return fn(u,c,We)},pt=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];if(c(k,h))return j.some(h)}return j.none()},Jn=function(u){for(var c=[],h=0,w=u.length;h<w;++h){if(!T(u[h]))throw new Error("Arr.flatten item "+h+" was not an array, input: "+u);le.apply(c,u[h])}return c},Te=function(u,c){return Jn(at(u,c))},Ae=function(u,c){for(var h=0,w=u.length;h<w;++h){var k=u[h];if(c(k,h)!==!0)return!1}return!0},Ze=function(u){var c=ke.call(u,0);return c.reverse(),c},et=function(u,c){for(var h={},w=0,k=u.length;w<k;w++){var R=u[w];h[String(R)]=c(R,w)}return h},Le=function(u){return[u]},bt=function(u,c){var h=ke.call(u,0);return h.sort(c),h},Jt=function(u,c){return c>=0&&c<u.length?j.some(u[c]):j.none()},ut=function(u){return Jt(u,0)},jt=function(u){return Jt(u,u.length-1)},Rt=function(u,c){for(var h=0;h<u.length;h++){var w=c(u[h],h);if(w.isSome())return w}return j.none()},Ft=function(){return Ft=Object.assign||function(c){for(var h,w=1,k=arguments.length;w<k;w++){h=arguments[w];for(var R in h)Object.prototype.hasOwnProperty.call(h,R)&&(c[R]=h[R])}return c},Ft.apply(this,arguments)};function rn(u,c,h){if(h||arguments.length===2)for(var w=0,k=c.length,R;w<k;w++)(R||!(w in c))&&(R||(R=Array.prototype.slice.call(c,0,w)),R[w]=c[w]);return u.concat(R||Array.prototype.slice.call(c))}var pn=function(u){var c=!1,h;return function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];return c||(c=!0,h=u.apply(null,w)),h}},Yn=function(u,c,h,w){var k=u.isiOS()&&/ipad/i.test(h)===!0,R=u.isiOS()&&!k,z=u.isiOS()||u.isAndroid(),K=z||w("(pointer:coarse)"),ue=k||!R&&z&&w("(min-device-width:768px)"),ye=R||z&&!ue,Me=c.isSafari()&&u.isiOS()&&/safari/i.test(h)===!1,ht=!ye&&!ue&&!Me;return{isiPad:me(k),isiPhone:me(R),isTablet:me(ue),isPhone:me(ye),isTouch:me(K),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:me(Me),isDesktop:me(ht)}},fr=function(u,c){for(var h=0;h<u.length;h++){var w=u[h];if(w.test(c))return w}},qr=function(u,c){var h=fr(u,c);if(!h)return{major:0,minor:0};var w=function(k){return Number(c.replace(h,"$"+k))};return va(w(1),w(2))},ir=function(u,c){var h=String(c).toLowerCase();return u.length===0?ua():qr(u,h)},ua=function(){return va(0,0)},va=function(u,c){return{major:u,minor:c}},Qr={nu:va,detect:ir,unknown:ua},Hr=function(u,c){return Rt(c.brands,function(h){var w=h.brand.toLowerCase();return Ve(u,function(k){var R;return w===((R=k.brand)===null||R===void 0?void 0:R.toLowerCase())}).map(function(k){return{current:k.name,version:Qr.nu(parseInt(h.version,10),0)}})})},da=function(u,c){var h=String(c).toLowerCase();return Ve(u,function(w){return w.search(h)})},Ur=function(u,c){return da(u,c).map(function(h){var w=Qr.detect(h.versionRegexes,c);return{current:h.name,version:w}})},vr=function(u,c){return da(u,c).map(function(h){var w=Qr.detect(h.versionRegexes,c);return{current:h.name,version:w}})},Fa=function(u,c){return u.substring(c)},Zi=function(u,c,h){return c===""||u.length>=c.length&&u.substr(h,h+c.length)===c},Xl=function(u,c){return yi(u,c)?Fa(u,c.length):u},Vr=function(u,c){return u.indexOf(c)!==-1},yi=function(u,c){return Zi(u,c,0)},Ju=function(u,c){return Zi(u,c,u.length-c.length)},wi=function(u){return function(c){return c.replace(u,"")}},Tn=wi(/^\s+|\s+$/g),Pr=function(u){return u.length>0},lo=function(u){return!Pr(u)},lu=function(u){var c=parseFloat(u);return isNaN(c)?j.none():j.some(c)},Zu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ir=function(u){return function(c){return Vr(c,u)}},Dr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return Vr(u,"edge/")&&Vr(u,"chrome")&&Vr(u,"safari")&&Vr(u,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Zu],search:function(u){return Vr(u,"chrome")&&!Vr(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return Vr(u,"msie")||Vr(u,"trident")}},{name:"Opera",versionRegexes:[Zu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ir("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ir("firefox")},{name:"Safari",versionRegexes:[Zu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(Vr(u,"safari")||Vr(u,"mobile/"))&&Vr(u,"applewebkit")}}],Gs=[{name:"Windows",search:Ir("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return Vr(u,"iphone")||Vr(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ir("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ir("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ir("linux"),versionRegexes:[]},{name:"Solaris",search:Ir("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ir("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ir("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],rh={browsers:me(Dr),oses:me(Gs)},Df="Edge",qs="Chrome",Bc="IE",Ov="Opera",pl="Firefox",bl="Safari",Rf=function(){return ma({current:void 0,version:Qr.unknown()})},ma=function(u){var c=u.current,h=u.version,w=function(k){return function(){return c===k}};return{current:c,version:h,isEdge:w(Df),isChrome:w(qs),isIE:w(Bc),isOpera:w(Ov),isFirefox:w(pl),isSafari:w(bl)}},Ks={unknown:Rf,nu:ma,edge:me(Df),chrome:me(qs),ie:me(Bc),opera:me(Ov),firefox:me(pl),safari:me(bl)},qn="Windows",ah="iOS",Ou="Android",Mc="Linux",oh="OSX",Yl="Solaris",ih="FreeBSD",$f="ChromeOS",uh=function(){return _s({current:void 0,version:Qr.unknown()})},_s=function(u){var c=u.current,h=u.version,w=function(k){return function(){return c===k}};return{current:c,version:h,isWindows:w(qn),isiOS:w(ah),isAndroid:w(Ou),isOSX:w(oh),isLinux:w(Mc),isSolaris:w(Yl),isFreeBSD:w(ih),isChromeOS:w($f)}},Pc={unknown:uh,nu:_s,windows:me(qn),ios:me(ah),android:me(Ou),linux:me(Mc),osx:me(oh),solaris:me(Yl),freebsd:me(ih),chromeos:me($f)},sn=function(u,c,h){var w=rh.browsers(),k=rh.oses(),R=c.bind(function(ue){return Hr(w,ue)}).orThunk(function(){return Ur(w,u)}).fold(Ks.unknown,Ks.nu),z=vr(k,u).fold(Pc.unknown,Pc.nu),K=Yn(z,R,u,h);return{browser:R,os:z,deviceType:K}},$d={detect:sn},Dv=function(u){return window.matchMedia(u).matches},Rv=pn(function(){return $d.detect(navigator.userAgent,j.from(navigator.userAgentData),Dv)}),Jl=function(){return Rv()},Qu=function(u,c,h){return(u.compareDocumentPosition(c)&h)!==0},sh=function(u,c){return Qu(u,c,Node.DOCUMENT_POSITION_CONTAINED_BY)},Bo=8,po=9,Du=11,Xs=1,Bd=3,es=function(u,c){var h=c||document,w=h.createElement("div");if(w.innerHTML=u,!w.hasChildNodes()||w.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return yl(w.childNodes[0])},Bf=function(u,c){var h=c||document,w=h.createElement(u);return yl(w)},Md=function(u,c){var h=c||document,w=h.createTextNode(u);return yl(w)},yl=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},Ru=function(u,c,h){return j.from(u.dom.elementFromPoint(c,h)).map(yl)},en={fromHtml:es,fromTag:Bf,fromText:Md,fromDom:yl,fromPoint:Ru},Ci=function(u,c){var h=u.dom;if(h.nodeType!==Xs)return!1;var w=h;if(w.matches!==void 0)return w.matches(c);if(w.msMatchesSelector!==void 0)return w.msMatchesSelector(c);if(w.webkitMatchesSelector!==void 0)return w.webkitMatchesSelector(c);if(w.mozMatchesSelector!==void 0)return w.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")},wl=function(u){return u.nodeType!==Xs&&u.nodeType!==po&&u.nodeType!==Du||u.childElementCount===0},lh=function(u,c){var h=c===void 0?document:c.dom;return wl(h)?[]:at(h.querySelectorAll(u),en.fromDom)},Mf=function(u,c){var h=c===void 0?document:c.dom;return wl(h)?j.none():j.from(h.querySelector(u)).map(en.fromDom)},ea=function(u,c){return u.dom===c.dom},$v=function(u,c){var h=u.dom,w=c.dom;return h===w?!1:h.contains(w)},Cl=function(u,c){return sh(u.dom,c.dom)},co=function(u,c){return Jl().browser.isIE()?Cl(u,c):$v(u,c)},Bv=Ci,cu=Object.keys,ts=Object.hasOwnProperty,Ra=function(u,c){for(var h=cu(u),w=0,k=h.length;w<k;w++){var R=h[w],z=u[R];c(z,R)}},Pf=function(u,c){return If(u,function(h,w){return{k:w,v:c(h,w)}})},If=function(u,c){var h={};return Ra(u,function(w,k){var R=c(w,k);h[R.k]=R.v}),h},Mv=function(u){return function(c,h){u[h]=c}},Pd=function(u,c,h,w){var k={};return Ra(u,function(R,z){(c(R,z)?h:w)(R,z)}),k},_l=function(u,c){var h={};return Pd(u,c,Mv(h),Z),h},Ys=function(u,c){var h=[];return Ra(u,function(w,k){h.push(c(w,k))}),h},Pv=function(u){return Ys(u,Be)},Ss=function(u){return cu(u).length},$u=function(u,c){return ie(u,c)?j.from(u[c]):j.none()},ie=function(u,c){return ts.call(u,c)},Ie=function(u,c){return ie(u,c)&&u[c]!==void 0&&u[c]!==null},Je=function(u){for(var c in u)if(ts.call(u,c))return!1;return!0},Et=["tfoot","thead","tbody","colgroup"],qt=function(u){return st(Et,u)},Bn=function(u,c){return{rows:u,columns:c}},aa=function(u,c){return{row:u,column:c}},ha=function(u,c,h){return{element:u,rowspan:c,colspan:h}},yr=function(u,c,h,w){return{element:u,rowspan:c,colspan:h,isNew:w}},La=function(u,c,h,w,k,R){return{element:u,rowspan:c,colspan:h,row:w,column:k,isLocked:R}},Ka=function(u,c,h){return{element:u,cells:c,section:h}},Ic=function(u,c,h,w){return{element:u,cells:c,section:h,isNew:w}},zi=function(u,c,h){return{element:u,isNew:c,isLocked:h}},Zl=function(u,c,h,w){return{element:u,cells:c,section:h,isNew:w}},Wn=function(u,c,h,w){return{startRow:u,startCol:c,finishRow:h,finishCol:w}},ch=function(u,c,h){return{element:u,colspan:c,column:h}},vp=function(u,c){return{element:u,columns:c}};typeof window<"u"||Function("return this;")();var ta=function(u){var c=u.dom.nodeName;return c.toLowerCase()},dp=function(u){return u.dom.nodeType},fh=function(u){return function(c){return dp(c)===u}},r2=function(u){return dp(u)===Bo||ta(u)==="#comment"},Sa=fh(Xs),Js=fh(Bd),a2=fh(po),Sl=fh(Du),Jo=function(u){return function(c){return Sa(c)&&ta(c)===u}},Nf=function(u){return en.fromDom(u.dom.ownerDocument)},wt=function(u){return a2(u)?u:Nf(u)},vh=function(u){return en.fromDom(wt(u).dom.defaultView)},xo=function(u){return j.from(u.dom.parentNode).map(en.fromDom)},cb=function(u){return j.from(u.dom.parentElement).map(en.fromDom)},zf=function(u,c){for(var h=P(c)?c:We,w=u.dom,k=[];w.parentNode!==null&&w.parentNode!==void 0;){var R=w.parentNode,z=en.fromDom(R);if(k.push(z),h(z)===!0)break;w=R}return k},Iv=function(u){return j.from(u.dom.previousSibling).map(en.fromDom)},Ge=function(u){return j.from(u.dom.nextSibling).map(en.fromDom)},ai=function(u){return at(u.dom.childNodes,en.fromDom)},dh=function(u,c){var h=u.dom.childNodes;return j.from(h[c]).map(en.fromDom)},mp=function(u){return dh(u,0)},fb=function(u){return Sl(u)&&H(u.dom.host)},Id=P(Element.prototype.attachShadow)&&P(Node.prototype.getRootNode),hp=me(Id),gp=Id?function(u){return en.fromDom(u.dom.getRootNode())}:wt,xs=function(u){var c=gp(u);return fb(c)?j.some(c):j.none()},Ql=function(u){return en.fromDom(u.dom.host)},vb=function(u){if(hp()&&H(u.target)){var c=en.fromDom(u.target);if(Sa(c)&&db(c)&&u.composed&&u.composedPath){var h=u.composedPath();if(h)return ut(h)}}return j.from(u.target)},db=function(u){return H(u.dom.shadowRoot)},ec=function(u){var c=Js(u)?u.dom.parentNode:u.dom;if(c==null||c.ownerDocument===null)return!1;var h=c.ownerDocument;return xs(en.fromDom(c)).fold(function(){return h.body.contains(c)},$e(ec,Ql))},$a=function(){return mb(en.fromDom(document))},mb=function(u){var c=u.dom.body;if(c==null)throw new Error("Body is not available yet");return en.fromDom(c)},fu=function(u,c,h){return ct(zf(u,h),c)},Fi=function(u,c){return ct(ai(u),c)},ko=function(u,c){var h=[];return ot(ai(u),function(w){c(w)&&(h=h.concat([w])),h=h.concat(ko(w,c))}),h},Nc=function(u,c,h){return fu(u,function(w){return Ci(w,c)},h)},cr=function(u,c){return Fi(u,function(h){return Ci(h,c)})},ns=function(u,c){return lh(c,u)};function Ha(u,c,h,w,k){return u(h,w)?j.some(h):P(k)&&k(h)?j.none():c(h,w,k)}var Xa=function(u,c,h){for(var w=u.dom,k=P(h)?h:We;w.parentNode;){w=w.parentNode;var R=en.fromDom(w);if(c(R))return j.some(R);if(k(R))break}return j.none()},hb=function(u,c,h){var w=function(k,R){return R(k)};return Ha(w,Xa,u,c,h)},oi=function(u,c){var h=function(k){return c(en.fromDom(k))},w=Ve(u.dom.childNodes,h);return w.map(en.fromDom)},pp=function(u,c){var h=function(w){for(var k=0;k<w.childNodes.length;k++){var R=en.fromDom(w.childNodes[k]);if(c(R))return j.some(R);var z=h(w.childNodes[k]);if(z.isSome())return z}return j.none()};return h(u.dom)},xl=function(u,c,h){return Xa(u,function(w){return Ci(w,c)},h)},Xn=function(u,c){return oi(u,function(h){return Ci(h,c)})},rs=function(u,c){return Mf(c,u)},no=function(u,c,h){var w=function(k,R){return Ci(k,R)};return Ha(w,xl,u,c,h)},ro=function(u,c,h){if(_(h)||L(h)||V(h))u.setAttribute(c,h+"");else throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",h,":: Element ",u),new Error("Attribute value was not simple")},Lo=function(u,c,h){ro(u.dom,c,h)},Ao=function(u,c){var h=u.dom;Ra(c,function(w,k){ro(h,k,w)})},Ff=function(u,c){Ra(c,function(h,w){h.fold(function(){Ba(u,w)},function(k){ro(u.dom,w,k)})})},ks=function(u,c){var h=u.dom.getAttribute(c);return h===null?void 0:h},Kr=function(u,c){return j.from(ks(u,c))},Ba=function(u,c){u.dom.removeAttribute(c)},Qi=function(u){return te(u.dom.attributes,function(c,h){return c[h.name]=h.value,c},{})},tc=function(u,c,h){return h===void 0&&(h=ne),u.exists(function(w){return h(w,c)})},Mo=function(u){for(var c=[],h=function(k){c.push(k)},w=0;w<u.length;w++)u[w].each(h);return c},as=function(u,c,h){return u.isSome()&&c.isSome()?j.some(h(u.getOrDie(),c.getOrDie())):j.none()},gb=function(u,c){return u!=null?c(u):j.none()},Lf=function(u){return u.bind(Be)},ya=function(u,c){return u?j.some(c):j.none()},Zs=function(u){return u.style!==void 0&&P(u.style.getPropertyValue)},zc=function(u,c,h){if(!_(h))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",h,":: Element ",u),new Error("CSS value must be a string: "+h);Zs(u)&&u.style.setProperty(c,h)},vu=function(u,c){Zs(u)&&u.style.removeProperty(c)},fo=function(u,c,h){var w=u.dom;zc(w,c,h)},Fc=function(u,c){var h=u.dom;Ra(c,function(w,k){zc(h,k,w)})},nc=function(u,c){var h=u.dom,w=window.getComputedStyle(h),k=w.getPropertyValue(c);return k===""&&!ec(u)?Li(h,c):k},Li=function(u,c){return Zs(u)?u.style.getPropertyValue(c):""},du=function(u,c){var h=u.dom,w=Li(h,c);return j.from(w).filter(function(k){return k.length>0})},_i=function(u,c){var h=u.dom;vu(h,c),tc(Kr(u,"style").map(Tn),"")&&Ba(u,"style")},Nv=function(u,c){var h=u.dom,w=c.dom;Zs(h)&&Zs(w)&&(w.style.cssText=h.style.cssText)},Qs=function(u,c,h){return h===void 0&&(h=0),Kr(u,c).map(function(w){return parseInt(w,10)}).getOr(h)},Ho=function(u,c){return Qs(u,c,1)},Nd=function(u){return Jo("col")(u)?Qs(u,"span",1)>1:Ho(u,"colspan")>1},pb=function(u){return Ho(u,"rowspan")>1},Hf=function(u,c){return parseInt(nc(u,c),10)},Vf=me(10),vo=me(10),Uf=function(u,c){return Wf(u,c,se)},Wf=function(u,c,h){return Te(ai(u),function(w){return Ci(w,c)?h(w)?[w]:[]:Wf(w,c,h)})},Hi=function(u,c,h){if(h===void 0&&(h=We),h(c))return j.none();if(st(u,ta(c)))return j.some(c);var w=function(k){return Ci(k,"table")||h(k)};return xl(c,u.join(","),w)},rc=function(u,c){return Hi(["td","th"],u,c)},jf=function(u){return Uf(u,"th,td")},ac=function(u){return Ci(u,"colgroup")?cr(u,"col"):Te(mh(u),function(c){return cr(c,"col")})},ja=function(u,c){return no(u,"table",c)},Bu=function(u){return Uf(u,"tr")},mh=function(u){return ja(u).fold(me([]),function(c){return cr(c,"colgroup")})},os=function(u,c){return at(u,function(h){if(ta(h)==="colgroup"){var w=at(ac(h),function(k){var R=Qs(k,"span",1);return ha(k,1,R)});return Ka(h,w,"colgroup")}else{var w=at(jf(h),function(R){var z=Qs(R,"rowspan",1),K=Qs(R,"colspan",1);return ha(R,z,K)});return Ka(h,w,c(h))}})},hh=function(u){return xo(u).map(function(c){var h=ta(c);return qt(h)?h:"tbody"}).getOr("tbody")},bb=function(u){var c=Bu(u),h=mh(u),w=rn(rn([],h,!0),c,!0);return os(w,hh)},bp=function(u,c){return os(u,function(){return c})},Gf=function(u,c,h){var w=u.cells,k=w.slice(0,c),R=w.slice(c),z=k.concat(h).concat(R);return Zn(u,z)},qf=function(u,c,h){return Gf(u,c,[h])},Lc=function(u,c,h){var w=u.cells;w[c]=h},Zn=function(u,c){return Zl(u.element,c,u.section,u.isNew)},As=function(u,c){var h=u.cells,w=at(h,c);return Zl(u.element,w,u.section,u.isNew)},mu=function(u,c){return u.cells[c]},Vi=function(u,c){return mu(u,c).element},Es=function(u){return u.cells.length},bo=function(u){var c=cn(u,function(h){return h.section==="colgroup"});return{rows:c.fail,cols:c.pass}},Vo=function(u,c,h){var w=at(u.cells,h);return Zl(c(u.element),w,u.section,!0)},Eo="data-snooker-locked-cols",Hc=function(u){return Kr(u,Eo).bind(function(c){return j.from(c.match(/\d+/g))}).map(function(c){return et(c,se)})},Si=function(u){var c=te(bo(u).rows,function(w,k){return ot(k.cells,function(R,z){R.isLocked&&(w[z]=!0)}),w},{}),h=Ys(c,function(w,k){return parseInt(k,10)});return bt(h)},gn=function(u,c){return u+","+c},Kf=function(u,c,h){return j.from(u.access[gn(c,h)])},yp=function(u,c,h){var w=dr(u,function(k){return h(c,k.element)});return w.length>0?j.some(w[0]):j.none()},dr=function(u,c){var h=Te(u.all,function(w){return w.cells});return ct(h,c)},wa=function(u){var c={},h=0;return ot(u.cells,function(w){var k=w.colspan;kt(k,function(R){var z=h+R;c[z]=ch(w.element,k,z)}),h+=k}),c},gh=function(u){var c={},h=[],w=ut(u).map(function(Yt){return Yt.element}).bind(ja),k=w.bind(Hc).getOr({}),R=0,z=0,K=0,ue=cn(u,function(Yt){return Yt.section==="colgroup"}),ye=ue.pass,Me=ue.fail;ot(Me,function(Yt){var tn=[];ot(Yt.cells,function(Rn){for(var jr=0;c[gn(K,jr)]!==void 0;)jr++;for(var On=Ie(k,jr.toString()),nr=La(Rn.element,Rn.rowspan,Rn.colspan,K,jr,On),xr=0;xr<Rn.colspan;xr++)for(var Cr=0;Cr<Rn.rowspan;Cr++){var Co=K+Cr,ci=jr+xr,fi=gn(Co,ci);c[fi]=nr,z=Math.max(z,ci+1)}tn.push(nr)}),R++,h.push(Ka(Yt.element,tn,Yt.section)),K++});var ht=jt(ye).map(function(Yt){var tn=wa(Yt),Rn=vp(Yt.element,Pv(tn));return{colgroups:[Rn],columns:tn}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),Ht=ht.columns,Tt=ht.colgroups,gt=Bn(R,z);return{grid:gt,access:c,all:h,columns:Ht,colgroups:Tt}},kl=function(u){var c=bb(u);return gh(c)},Va=function(u){return Te(u.all,function(c){return c.cells})},ph=function(u){return Pv(u.columns)},Mu=function(u){return cu(u.columns).length>0},zd=function(u,c){return j.from(u.columns[c])},gr={fromTable:kl,generate:gh,getAt:Kf,findItem:yp,filterItems:dr,justCells:Va,justColumns:ph,hasColumns:Mu,getColumnAt:zd},eu=function(u,c){var h=c.column,w=c.column+c.colspan-1,k=c.row,R=c.row+c.rowspan-1;return h<=u.finishCol&&w>=u.startCol&&k<=u.finishRow&&R>=u.startRow},o2=function(u,c){return c.column>=u.startCol&&c.column+c.colspan-1<=u.finishCol&&c.row>=u.startRow&&c.row+c.rowspan-1<=u.finishRow},i2=function(u,c){for(var h=!0,w=ge(o2,c),k=c.startRow;k<=c.finishRow;k++)for(var R=c.startCol;R<=c.finishCol;R++)h=h&&gr.getAt(u,k,R).exists(w);return h?j.some(c):j.none()},Ga=function(u,c){return Wn(Math.min(u.row,c.row),Math.min(u.column,c.column),Math.max(u.row+u.rowspan-1,c.row+c.rowspan-1),Math.max(u.column+u.colspan-1,c.column+c.colspan-1))},bh=function(u,c,h){var w=gr.findItem(u,c,ea),k=gr.findItem(u,h,ea);return w.bind(function(R){return k.map(function(z){return Ga(R,z)})})},M=function(u,c,h){return bh(u,c,h).bind(function(w){return i2(u,w)})},Y=function(u,c,h,w){return gr.findItem(u,c,ea).bind(function(k){var R=h>0?k.row+k.rowspan-1:k.row,z=w>0?k.column+k.colspan-1:k.column,K=gr.getAt(u,R+h,z+w);return K.map(function(ue){return ue.element})})},ae=function(u,c,h){return bh(u,c,h).map(function(w){var k=gr.filterItems(u,ge(eu,w));return at(k,function(R){return R.element})})},Ce=function(u,c){var h=function(w,k){return co(k,w)};return gr.findItem(u,c,h).map(function(w){return w.element})},qe=function(u,c,h){return ja(u).bind(function(w){var k=Rr(w);return Y(k,u,c,h)})},yt=function(u,c,h){var w=Rr(u);return ae(w,c,h)},kn=function(u,c,h,w,k){var R=Rr(u),z=ea(u,h)?j.some(c):Ce(R,c),K=ea(u,k)?j.some(w):Ce(R,w);return z.bind(function(ue){return K.bind(function(ye){return ae(R,ue,ye)})})},rr=function(u,c,h){var w=Rr(u);return M(w,c,h)},Rr=gr.fromTable,pr=function(u,c){var h=xo(u);h.each(function(w){w.dom.insertBefore(c.dom,u.dom)})},xa=function(u,c){var h=Ge(u);h.fold(function(){var w=xo(u);w.each(function(k){ao(k,c)})},function(w){pr(w,c)})},xi=function(u,c){var h=mp(u);h.fold(function(){ao(u,c)},function(w){u.dom.insertBefore(c.dom,w.dom)})},ao=function(u,c){u.dom.appendChild(c.dom)},CA=function(u,c,h){dh(u,h).fold(function(){ao(u,c)},function(w){pr(w,c)})},G_=function(u,c){pr(u,c),ao(c,u)},q_=function(u,c){ot(c,function(h){pr(u,h)})},_A=function(u,c){ot(c,function(h,w){var k=w===0?u:c[w-1];xa(k,h)})},oc=function(u,c){ot(c,function(h){ao(u,h)})},wp=function(u){u.dom.textContent="",ot(ai(u),function(c){Pu(c)})},Pu=function(u){var c=u.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},yh=function(u){var c=ai(u);c.length>0&&q_(u,c),Pu(u)},u2=function(u,c){var h=function(R){if(!u(R))throw new Error("Can only get "+c+" value of a "+c+" node");return w(R).getOr("")},w=function(R){return u(R)?j.from(R.dom.nodeValue):j.none()},k=function(R,z){if(!u(R))throw new Error("Can only set raw "+c+" value of a "+c+" node");R.dom.nodeValue=z};return{get:h,getOption:w,set:k}},Cp=u2(Js,"text"),yb=function(u){return Cp.get(u)},K_=function(u){return Cp.getOption(u)},SA=function(u,c){return Cp.set(u,c)},ic=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function _p(){var u=function(ye){return en.fromDom(ye.dom.cloneNode(!1))},c=function(ye){return wt(ye).dom},h=function(ye){return Sa(ye)?ta(ye)==="body"?!0:st(ic,ta(ye)):!1},w=function(ye){return Sa(ye)?st(["br","img","hr","input"],ta(ye)):!1},k=function(ye){return Sa(ye)&&ks(ye,"contenteditable")==="false"},R=function(ye,Me){return ye.dom.compareDocumentPosition(Me.dom)},z=function(ye,Me){var ht=Qi(ye);Ao(Me,ht)},K=function(ye){var Me=ta(ye);return st(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Me)},ue=function(ye){return Sa(ye)?Kr(ye,"lang"):j.none()};return{up:me({selector:xl,closest:no,predicate:Xa,all:zf}),down:me({selector:ns,predicate:ko}),styles:me({get:nc,getRaw:du,set:fo,remove:_i}),attrs:me({get:ks,set:Lo,remove:Ba,copyTo:z}),insert:me({before:pr,after:xa,afterAll:_A,append:ao,appendAll:oc,prepend:xi,wrap:G_}),remove:me({unwrap:yh,remove:Pu}),create:me({nu:en.fromTag,clone:u,text:en.fromText}),query:me({comparePosition:R,prevSibling:Iv,nextSibling:Ge}),property:me({children:ai,name:ta,parent:xo,document:c,isText:Js,isComment:r2,isElement:Sa,isSpecial:K,getLanguage:ue,getText:yb,setText:SA,isBoundary:h,isEmptyTag:w,isNonEditable:k}),eq:ea,is:Bv}}var xA=function(u,c,h,w){var k=h[0],R=h.slice(1);return w(u,c,k,R)},s2=function(u,c,h){return h.length>0?xA(u,c,h,kA):j.none()},kA=function(u,c,h,w){var k=c(u,h);return _n(w,function(R,z){var K=c(u,z);return AA(u,R,K)},k)},AA=function(u,c,h){return c.bind(function(w){return h.filter(ge(u.eq,w))})},wh=function(u,c){return ge(u.eq,c)},Sp=function(u,c,h,w){w===void 0&&(w=We);var k=[c].concat(u.up().all(c)),R=[h].concat(u.up().all(h)),z=function(Me){var ht=pt(Me,w);return ht.fold(function(){return Me},function(Ht){return Me.slice(0,Ht+1)})},K=z(k),ue=z(R),ye=Ve(K,function(Me){return B(ue,wh(u,Me))});return{firstpath:K,secondpath:ue,shared:ye}},X_=s2,Y_=Sp,is=_p(),Mn=function(u,c){return X_(is,function(h,w){return u(w)},c)},Xf=function(u,c,h){return Y_(is,u,c,h)},xp=function(u){return xl(u,"table")},zv=function(u,c,h){var w=function(k){return function(R){return h!==void 0&&h(R)||ea(R,k)}};return ea(u,c)?j.some({boxes:j.some([u]),start:u,finish:c}):xp(u).bind(function(k){return xp(c).bind(function(R){if(ea(k,R))return j.some({boxes:yt(k,u,c),start:u,finish:c});if(co(k,R)){var z=Nc(c,"td,th",w(k)),K=z.length>0?z[z.length-1]:c;return j.some({boxes:kn(k,u,k,c,R),start:u,finish:K})}else if(co(R,k)){var z=Nc(u,"td,th",w(R)),ue=z.length>0?z[z.length-1]:u;return j.some({boxes:kn(R,u,k,c,R),start:u,finish:ue})}else return Xf(u,c).shared.bind(function(ye){return no(ye,"table",h).bind(function(Me){var ht=Nc(c,"td,th",w(Me)),Ht=ht.length>0?ht[ht.length-1]:c,Tt=Nc(u,"td,th",w(Me)),gt=Tt.length>0?Tt[Tt.length-1]:u;return j.some({boxes:kn(Me,u,k,c,R),start:gt,finish:Ht})})})})})},Ch=function(u,c){var h=ns(u,c);return h.length>0?j.some(h):j.none()},l2=function(u,c){return Ve(u,function(h){return Ci(h,c)})},Al=function(u,c,h){return rs(u,c).bind(function(w){return rs(u,h).bind(function(k){return Mn(xp,[w,k]).map(function(R){return{first:w,last:k,table:R}})})})},Fd=function(u,c){return xl(u,"table").bind(function(h){return rs(h,c).bind(function(w){return zv(w,u).bind(function(k){return k.boxes.map(function(R){return{boxes:R,start:k.start,finish:k.finish}})})})})},_h=function(u,c,h,w,k){return l2(u,k).bind(function(R){return qe(R,c,h).bind(function(z){return Fd(z,w)})})},yo=function(u,c){return Ch(u,c)},ii=function(u,c,h){return Al(u,c,h).bind(function(w){var k=function(ue){return ea(u,ue)},R="thead,tfoot,tbody,table",z=xl(w.first,R,k),K=xl(w.last,R,k);return z.bind(function(ue){return K.bind(function(ye){return ea(ue,ye)?rr(w.table,w.first,w.last):j.none()})})})},kp=function(u){if(!T(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var c=[],h={};return ot(u,function(w,k){var R=cu(w);if(R.length!==1)throw new Error("one and only one name per case");var z=R[0],K=w[z];if(h[z]!==void 0)throw new Error("duplicate key detected:"+z);if(z==="cata")throw new Error("cannot have a case named cata (sorry)");if(!T(K))throw new Error("case arguments must be an array");c.push(z),h[z]=function(){for(var ue=[],ye=0;ye<arguments.length;ye++)ue[ye]=arguments[ye];var Me=ue.length;if(Me!==K.length)throw new Error("Wrong number of arguments to case "+z+". Expected "+K.length+" ("+K+"), got "+Me);var ht=function(Ht){var Tt=cu(Ht);if(c.length!==Tt.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+Tt.join(","));var gt=Ae(c,function(Yt){return st(Tt,Yt)});if(!gt)throw new Error("Not all branches were specified when using match. Specified: "+Tt.join(", ")+`
Required: `+c.join(", "));return Ht[z].apply(null,ue)};return{fold:function(){for(var Ht=[],Tt=0;Tt<arguments.length;Tt++)Ht[Tt]=arguments[Tt];if(Ht.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+Ht.length);var gt=Ht[k];return gt.apply(null,ue)},match:ht,log:function(Ht){console.log(Ht,{constructors:c,constructor:z,params:ue})}}}}),h},Vc={generate:kp},Ap=Vc.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),wb=function(u,c,h,w){return u.fold(c,h,w)},Cb=Ap.none,EA=Ap.multiple,Sh=Ap.single,Ui=function(u,c,h){var w=function(){return yo(u(),h).fold(function(){return c().fold(Cb,Sh)},function(k){return EA(k)})};return{get:w}},J_=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ya=function(u,c){return en.fromDom(u.dom.cloneNode(c))},El=function(u){return Ya(u,!1)},sa=function(u){return Ya(u,!0)},Fv=function(u,c){var h=en.fromTag(c),w=Qi(u);return Ao(h,w),h},el=function(u,c){var h=Fv(u,c),w=ai(sa(u));return oc(h,w),h},TA=function(u,c){var h=Fv(u,c);pr(u,h);var w=ai(u);return oc(h,w),Pu(u),h},Uo=function(u,c){var h=function(K,ue){if(!V(ue)&&!ue.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+ue);var ye=K.dom;Zs(ye)&&(ye.style[u]=ue+"px")},w=function(K){var ue=c(K);if(ue<=0||ue===null){var ye=nc(K,u);return parseFloat(ye)||0}return ue},k=w,R=function(K,ue){return te(ue,function(ye,Me){var ht=nc(K,Me),Ht=ht===void 0?0:parseInt(ht,10);return isNaN(Ht)?ye:ye+Ht},0)},z=function(K,ue,ye){var Me=R(K,ye),ht=ue>Me?ue-Me:0;return ht};return{set:h,get:w,getOuter:k,aggregate:R,max:z}},hu=function(){var u=Jl().browser;return u.isIE()||u.isEdge()},Z_=function(u,c){return lu(u).getOr(c)},At=function(u,c,h){return Z_(nc(u,c),h)},Iu=function(u){return nc(u,"box-sizing")},Yf=function(u,c,h,w){var k=At(u,"padding-"+h,0),R=At(u,"padding-"+w,0),z=At(u,"border-"+h+"-width",0),K=At(u,"border-"+w+"-width",0);return c-k-R-z-K},Qn=function(u,c){var h=u.dom,w=h.getBoundingClientRect().height||h.offsetHeight;return c==="border-box"?w:Yf(u,w,"top","bottom")},Ts=function(u,c){var h=u.dom,w=h.getBoundingClientRect().width||h.offsetWidth;return c==="border-box"?w:Yf(u,w,"left","right")},OA=function(u){return hu()?Qn(u,Iu(u)):At(u,"height",u.dom.offsetHeight)},tu=function(u){return hu()?Ts(u,Iu(u)):At(u,"width",u.dom.offsetWidth)},xh=function(u){return Ts(u,"content-box")},Uc=Uo("width",function(u){return u.dom.offsetWidth}),Tl=function(u){return Uc.get(u)},Wi=function(u){return Uc.getOuter(u)},Xr=xh,uc=tu,Ld=function(u,c){c===void 0&&(c=se);var h=u.grid,w=kt(h.columns,Be),k=kt(h.rows,Be);return at(w,function(R){var z=function(){return Te(k,function(ye){return gr.getAt(u,ye,R).filter(function(Me){return Me.column===R}).toArray()})},K=function(ye){return ye.colspan===1&&c(ye.element)},ue=function(){return gr.getAt(u,0,R)};return Ea(z,K,ue)})},Ea=function(u,c,h){var w=u(),k=Ve(w,c),R=k.orThunk(function(){return j.from(w[0]).orThunk(h)});return R.map(function(z){return z.element})},Lv=function(u){var c=u.grid,h=kt(c.rows,Be),w=kt(c.columns,Be);return at(h,function(k){var R=function(){return Te(w,function(ue){return gr.getAt(u,k,ue).filter(function(ye){return ye.row===k}).fold(me([]),function(ye){return[ye]})})},z=function(ue){return ue.rowspan===1},K=function(){return gr.getAt(u,k,0)};return Ea(R,z,K)})},us=function(u,c){if(c<0||c>=u.length-1)return j.none();var h=u[c].fold(function(){var k=Ze(u.slice(0,c));return Rt(k,function(R,z){return R.map(function(K){return{value:K,delta:z+1}})})},function(k){return j.some({value:k,delta:0})}),w=u[c+1].fold(function(){var k=u.slice(c+1);return Rt(k,function(R,z){return R.map(function(K){return{value:K,delta:z+1}})})},function(k){return j.some({value:k,delta:1})});return h.bind(function(k){return w.map(function(R){var z=R.delta+k.delta;return Math.abs(R.value-k.value)/z})})},ss=function(u,c){return function(h){return DA(h)==="rtl"?c:u}},DA=function(u){return nc(u,"direction")==="rtl"?"rtl":"ltr"},He=Uo("height",function(u){var c=u.dom;return ec(u)?c.getBoundingClientRect().height:c.offsetHeight}),gu=function(u){return He.get(u)},sc=function(u){return He.getOuter(u)},kh=OA,Os=function(u,c){var h=function(w,k){return Os(u+w,c+k)};return{left:u,top:c,translate:h}},Ca=Os,Ta=function(u){var c=u.getBoundingClientRect();return Ca(c.left,c.top)},Nu=function(u,c){return u!==void 0?u:c!==void 0?c:0},Jf=function(u){var c=u.dom.ownerDocument,h=c.body,w=c.defaultView,k=c.documentElement;if(h===u.dom)return Ca(h.offsetLeft,h.offsetTop);var R=Nu(w==null?void 0:w.pageYOffset,k.scrollTop),z=Nu(w==null?void 0:w.pageXOffset,k.scrollLeft),K=Nu(k.clientTop,h.clientTop),ue=Nu(k.clientLeft,h.clientLeft);return c2(u).translate(z-ue,R-K)},c2=function(u){var c=u.dom,h=c.ownerDocument,w=h.body;return w===c?Ca(w.offsetLeft,w.offsetTop):ec(u)?Ta(c):Ca(0,0)},zn=function(u,c){return{row:u,y:c}},_b=function(u,c){return{col:u,x:c}},Ds=function(u){var c=Jf(u);return c.left+Wi(u)},Q_=function(u){return Jf(u).left},Ep=function(u,c){return _b(u,Q_(c))},Tp=function(u,c){return _b(u,Ds(c))},f2=function(u){return Jf(u).top},v2=function(u,c){return zn(u,f2(c))},Wc=function(u,c){return zn(u,f2(c)+sc(c))},Zf=function(u,c,h){if(h.length===0)return[];var w=at(h.slice(1),function(R,z){return R.map(function(K){return u(z,K)})}),k=h[h.length-1].map(function(R){return c(h.length-1,R)});return w.concat([k])},RA=function(u){return-u},d2={delta:Be,positions:function(u){return Zf(v2,Wc,u)},edge:f2},$A={delta:Be,edge:Q_,positions:function(u){return Zf(Ep,Tp,u)}},eS={delta:RA,edge:Ds,positions:function(u){return Zf(Tp,Ep,u)}},Op=ss($A,eS),Ah={delta:function(u,c){return Op(c).delta(u,c)},positions:function(u,c){return Op(c).positions(u,c)},edge:function(u){return Op(u).edge(u)}},tS={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},jc=function(){var u="[0-9]+",c="[+-]?"+u,h="[eE]"+c,w="\\.",k=function(K){return"(?:"+K+")?"},R=["Infinity",u+w+k(u)+k(h),w+u+k(h),u+k(h)].join("|"),z="[+-]?(?:"+R+")";return new RegExp("^("+z+")(.*)$")}(),Eh=function(u,c){return B(c,function(h){return B(tS[h],function(w){return u===w})})},m2=function(u,c){var h=j.from(jc.exec(u));return h.bind(function(w){var k=Number(w[1]),R=w[2];return Eh(R,c)?j.some({value:k,unit:R}):j.none()})},nS=/(\d+(\.\d+)?)%/,BA=/(\d+(\.\d+)?)px|em/,MA=Jo("col"),Po=function(u,c,h){var w=cb(u).getOrThunk(function(){return mb(Nf(u))});return c(u)/h(w)*100},Gc=function(u,c){fo(u,"width",c+"px")},Ol=function(u,c){fo(u,"width",c+"%")},Hv=function(u,c){fo(u,"height",c+"px")},rS=function(u){return kh(u)+"px"},Dl=function(u,c,h,w){var k=ja(u).map(function(R){var z=h(R);return Math.floor(c/100*z)}).getOr(c);return w(u,k),k},Hd=function(u,c,h,w){var k=parseFloat(u);return Ju(u,"%")&&ta(c)!=="table"?Dl(c,k,h,w):k},h2=function(u){var c=rS(u);return c?Hd(c,u,gu,Hv):gu(u)},g2=function(u,c,h){var w=h(u),k=Ho(u,c);return w/k},Qf=function(u,c){return du(u,c).orThunk(function(){return Kr(u,c).map(function(h){return h+"px"})})},tl=function(u){return Qf(u,"width")},ki=function(u){return Qf(u,"height")},Sb=function(u){return Po(u,Tl,Xr)},p2=function(u){return MA(u)?Tl(u):uc(u)},Vd=function(u){return g2(u,"rowspan",h2)},Th=function(u){var c=tl(u);return c.bind(function(h){return m2(h,["fixed","relative","empty"])})},Oh=function(u,c,h){fo(u,"width",c+h)},PA=function(u){return Tl(u)+"px"},Dh=function(u){return Po(u,Tl,Xr)+"%"},b2=function(u){return tl(u).exists(function(c){return nS.test(c)})},IA=function(u){return tl(u).exists(function(c){return BA.test(c)})},oo=function(u){return tl(u).isNone()},xb=me(nS),Vv=Jo("col"),y2=function(u){return tl(u).getOrThunk(function(){return p2(u)+"px"})},w2=function(u){return ki(u).getOrThunk(function(){return Vd(u)+"px"})},nl=function(u){return at(gr.justColumns(u),function(c){return j.from(c.element)})},Rs=function(u){var c=Jl().browser,h=c.isChrome()||c.isFirefox();return Vv(u)?h:!0},Ud=function(u,c,h,w,k,R){return u.filter(w).fold(function(){return R(us(h,c))},function(z){return k(z)})},Uv=function(u,c,h,w){var k=Ld(u),R=gr.hasColumns(u)?nl(u):k,z=[j.some(Ah.edge(c))].concat(at(Ah.positions(k,c),function(ue){return ue.map(function(ye){return ye.x})})),K=De(Nd);return at(R,function(ue,ye){return Ud(ue,ye,z,K,function(Me){if(Rs(Me))return h(Me);var ht=gb(k[ye],Be);return Ud(ht,ye,z,K,function(Ht){return w(j.some(Tl(Ht)))},w)},w)})},kb=function(u){return u.map(function(c){return c+"px"}).getOr("")},Dp=function(u,c){return Uv(u,c,y2,kb)},C2=function(u,c,h){return Uv(u,c,Sb,function(w){return w.fold(function(){return h.minCellWidth()},function(k){return k/h.pixelWidth()*100})})},Wd=function(u,c,h){return Uv(u,c,p2,function(w){return w.getOrThunk(h.minCellWidth)})},Ab=function(u,c,h,w,k){var R=Lv(u),z=[j.some(h.edge(c))].concat(at(h.positions(R,c),function(K){return K.map(function(ue){return ue.y})}));return at(R,function(K,ue){return Ud(K,ue,z,De(pb),w,k)})},NA=function(u,c,h){return Ab(u,c,h,Vd,function(w){return w.getOrThunk(vo)})},_2=function(u,c,h){return Ab(u,c,h,w2,kb)},$s=function(u,c){return function(){return ec(u)?c(u):parseFloat(du(u,"width").getOr("0"))}},ls=function(u){var c=$s(u,Tl),h=me(0),w=function(k,R){return Wd(k,u,R)};return{width:c,pixelWidth:c,getWidths:w,getCellDelta:h,singleColumnWidth:me([0]),minCellWidth:h,setElementWidth:Z,adjustTableWidth:Z,isRelative:!0,label:"none"}},Rh=function(u){var c=$s(u,function(ue){return parseFloat(Dh(ue))}),h=$s(u,Tl),w=function(ue){return ue/h()*100},k=function(ue,ye){return[100-ue]},R=function(){return Vf()/h()*100},z=function(ue){var ye=c(),Me=ue/100*ye,ht=ye+Me;Ol(u,ht)},K=function(ue,ye){return C2(ue,u,ye)};return{width:c,pixelWidth:h,getWidths:K,getCellDelta:w,singleColumnWidth:k,minCellWidth:R,setElementWidth:Ol,adjustTableWidth:z,isRelative:!0,label:"percent"}},Rl=function(u){var c=$s(u,Tl),h=Be,w=function(z,K){var ue=Math.max(Vf(),z+K);return[ue-z]},k=function(z){var K=c()+z;Gc(u,K)},R=function(z,K){return Wd(z,u,K)};return{width:c,pixelWidth:c,getWidths:R,getCellDelta:h,singleColumnWidth:w,minCellWidth:Vf,setElementWidth:Gc,adjustTableWidth:k,isRelative:!1,label:"pixel"}},ji=function(u,c){var h=xb().exec(c);return h!==null?Rh(u):Rl(u)},Eb=function(u){var c=tl(u);return c.fold(function(){return ls(u)},function(h){return ji(u,h)})},ev={getTableSize:Eb,pixelSize:Rl,percentageSize:Rh,noneSize:ls},aS=function(u,c,h,w,k,R){return{minRow:u,minCol:c,maxRow:h,maxCol:w,allCells:k,selectedCells:R}},Ai=function(u,c){var h=u.grid.columns,w=u.grid.rows,k=w,R=h,z=0,K=0,ue=[],ye=[];return Ra(u.access,function(Me){if(ue.push(Me),c(Me)){ye.push(Me);var ht=Me.row,Ht=ht+Me.rowspan-1,Tt=Me.column,gt=Tt+Me.colspan-1;ht<k?k=ht:Ht>z&&(z=Ht),Tt<R?R=Tt:gt>K&&(K=gt)}}),aS(k,R,z,K,ue,ye)},S2=function(u,c,h){var w=u[h].element,k=en.fromTag("td");ao(k,en.fromTag("br"));var R=c?ao:xi;R(w,k)},Tb=function(u,c,h,w){for(var k=c.grid.columns,R=c.grid.rows,z=0;z<R;z++)for(var K=!1,ue=0;ue<k;ue++)if(!(z<h.minRow||z>h.maxRow||ue<h.minCol||ue>h.maxCol)){var ye=gr.getAt(c,z,ue).filter(w).isNone();ye?S2(u,K,z):K=!0}},Wr=function(u,c,h,w){Ra(h.columns,function(z){(z.column<c.minCol||z.column>c.maxCol)&&Pu(z.element)});var k=ct(Uf(u,"tr"),function(z){return z.dom.childElementCount===0});ot(k,Pu),(c.minCol===c.maxCol||c.minRow===c.maxRow)&&ot(Uf(u,"th,td"),function(z){Ba(z,"rowspan"),Ba(z,"colspan")}),Ba(u,Eo),Ba(u,"data-snooker-col-series");var R=ev.getTableSize(u);R.adjustTableWidth(w)},Fn=function(u,c,h,w){if(w.minCol===0&&c.grid.columns===w.maxCol+1)return 0;var k=Wd(c,u,h),R=te(k,function(ye,Me){return ye+Me},0),z=te(k.slice(w.minCol,w.maxCol+1),function(ye,Me){return ye+Me},0),K=z/R*h.pixelWidth(),ue=K-h.pixelWidth();return h.getCellDelta(ue)},Bs=function(u,c){var h=function(Ht){return Ci(Ht.element,c)},w=sa(u),k=bb(w),R=ev.getTableSize(u),z=gr.generate(k),K=Ai(z,h),ue="th:not("+c+"),td:not("+c+")",ye=Wf(w,"th,td",function(Ht){return Ci(Ht,ue)});ot(ye,Pu),Tb(k,z,K,h);var Me=gr.fromTable(u),ht=Fn(u,Me,R,K);return Wr(w,K,z,ht),w},Ob=" ",$l=function(u){return ta(u)==="img"?1:K_(u).fold(function(){return ai(u).length},function(c){return c.length})},oS=function(u){return K_(u).filter(function(c){return c.trim().length!==0||c.indexOf(Ob)>-1}).isSome()},_a=["img","br"],x2=function(u){var c=oS(u);return c||st(_a,ta(u))},Db=function(u){return pp(u,x2)},Rb=function(u){return $t(u,x2)},$t=function(u,c){var h=function(w){for(var k=ai(w),R=k.length-1;R>=0;R--){var z=k[R];if(c(z))return j.some(z);var K=h(z);if(K.isSome())return K}return j.none()};return h(u)},k2={scope:["row","col"]},A2=function(u){return function(){var c=en.fromTag("td",u.dom);return ao(c,en.fromTag("br",u.dom)),c}},Wv=function(u){return function(){return en.fromTag("col",u.dom)}},Rp=function(u){return function(){return en.fromTag("colgroup",u.dom)}},jd=function(u){return function(){return en.fromTag("tr",u.dom)}},jv=function(u,c,h){var w=el(u,c);return Ra(h,function(k,R){k===null?Ba(w,R):Lo(w,R,k)}),w},Gd=function(u){return u},$h=function(u,c,h){var w=Db(u);return w.map(function(k){var R=h.join(","),z=Nc(k,R,function(K){return ea(K,u)});return _n(z,function(K,ue){var ye=El(ue);return Ba(ye,"contenteditable"),ao(K,ye),ye},c)}).getOr(c)},To=function(u,c){Ra(k2,function(h,w){return Kr(u,w).filter(function(k){return st(h,k)}).each(function(k){return Lo(c,w,k)})})},ur=function(u,c,h){var w=function(z,K){Nv(z.element,K),_i(K,"height"),z.colspan!==1&&_i(K,"width")},k=function(z){var K=en.fromTag(ta(z.element),c.dom),ue=h.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ye=ue.length>0?$h(z.element,K,ue):K;return ao(ye,en.fromTag("br")),w(z,K),To(z.element,K),u(z.element,K),K},R=function(z){var K=en.fromTag(ta(z.element),c.dom);return w(z,K),u(z.element,K),K};return{col:R,colgroup:Rp(c),row:jd(c),cell:k,replace:jv,colGap:Wv(c),gap:A2(c)}},Ms=function(u){return{col:Wv(u),colgroup:Rp(u),row:jd(u),cell:A2(u),replace:Gd,colGap:Wv(u),gap:A2(u)}},iS=function(u,c){var h=c||document,w=h.createElement("div");return w.innerHTML=u,ai(en.fromDom(w))},cs=function(u){return at(u,en.fromDom)},E2=function(u){return u.nodeName.toLowerCase()},qc=function(u){return en.fromDom(u.getBody())},tv=function(u){return u.getBoundingClientRect().width},nv=function(u){return u.getBoundingClientRect().height},Ps=function(u){return function(c){return ea(c,qc(u))}},Gv=function(u){return u?u.replace(/px$/,""):""},Zo=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},pu=function(u){Ba(u,"data-mce-style");var c=function(h){return Ba(h,"data-mce-style")};ot(jf(u),c),ot(ac(u),c),ot(Bu(u),c)},Kc=function(u,c){var h=u.dom.getStyle(c,"width")||u.dom.getAttrib(c,"width");return j.from(h).filter(Pr)},qv=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},Bh=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},qd=function(u){return en.fromDom(u.selection.getStart())},wn=function(u){return en.fromDom(u.selection.getEnd())},ui=function(u){return wb(u.get(),me([]),Be,Le)},lc=function(u){var c=function(k,R){return Kr(k,R).exists(function(z){return parseInt(z,10)>1})},h=function(k){return c(k,"rowspan")||c(k,"colspan")},w=ui(u);return w.length>0&&Ae(w,h)?j.some(w):j.none()},Xc=function(u,c,h){return wb(c.get(),j.none,function(w){return w.length<=1?j.none():ii(u,h.firstSelectedSelector,h.lastSelectedSelector).map(function(k){return{bounds:k,cells:w}})},j.none)},$p="data-mce-selected",uS="td["+$p+"],th["+$p+"]",$b="["+$p+"]",Kv="data-mce-first-selected",Xv="td["+Kv+"],th["+Kv+"]",Mh="data-mce-last-selected",Bp="td["+Mh+"],th["+Mh+"]",zA=$b,Is={selected:$p,selectedSelector:uS,firstSelected:Kv,firstSelectedSelector:Xv,lastSelected:Mh,lastSelectedSelector:Bp},T2=function(u){return{element:u,mergable:j.none(),unmergable:j.none(),selection:[u]}},Kd=function(u,c,h){return{element:h,mergable:Xc(c,u,Is),unmergable:lc(u),selection:ui(u)}},Yv=function(u,c,h){return{element:u,clipboard:c,generators:h}},O2=function(u,c,h,w){return{selection:ui(u),clipboard:h,generators:w}},Jv=function(u){return ja(u).bind(function(c){return yo(c,Is.firstSelectedSelector)}).fold(me(u),function(c){return c[0]})},sS=function(u){return function(c,h){var w=ta(c),k=w==="col"||w==="colgroup"?Jv(c):c;return no(k,u,h)}},Ja=sS("th,td,caption"),Ei=sS("th,td"),Gi=function(u){return ui(u)},lS=function(u,c){var h=Ei(u),w=h.bind(function(k){return ja(k)}).map(function(k){return Bu(k)});return as(h,w,function(k,R){return ct(R,function(z){return B(cs(z.dom.cells),function(K){return ks(K,c)==="1"||ea(K,k)})})}).getOr([])},Bb=function(u){return ja(u[0]).map(function(c){var h=Bs(c,zA);return pu(h),[h]})},FA=function(u,c){return at(c,function(h){return u.selection.serializer.serialize(h.dom,{})}).join("")},cS=function(u){return at(u,function(c){return c.dom.innerText}).join("")},Bl=function(u,c,h){u.on("BeforeGetContent",function(w){var k=function(R){w.preventDefault(),Bb(R).each(function(z){w.content=w.format==="text"?cS(z):FA(u,z)})};w.selection===!0&&wb(c.get(),Z,k,Z)}),u.on("BeforeSetContent",function(w){if(w.selection===!0&&w.paste===!0){var k=Gi(c);ut(k).each(function(R){ja(R).each(function(z){var K=ct(iS(w.content),function(Ht){return ta(Ht)!=="meta"}),ue=Jo("table");if(K.length===1&&ue(K[0])){w.preventDefault();var ye=en.fromDom(u.getDoc()),Me=Ms(ye),ht=Yv(R,K[0],Me);h.pasteCells(z,ht).each(function(){u.focus()})}})})}})},LA=Vc.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Ph=Ft({},LA),Mb=function(u,c){return u.length===0?Ph.none():u.length===1?Ph.only(0):c===0?Ph.left(0,1):c===u.length-1?Ph.right(c-1,c):c>0&&c<u.length-1?Ph.middle(c-1,c,c+1):Ph.none()},HA=function(u,c,h,w,k){var R=u.slice(0),z=Mb(u,c),K=me(at(R,me(0))),ue=function(Ht){return w.singleColumnWidth(R[Ht],h)},ye=function(Ht,Tt){return k.calcLeftEdgeDeltas(R,Ht,Tt,h,w.minCellWidth(),w.isRelative)},Me=function(Ht,Tt,gt){return k.calcMiddleDeltas(R,Ht,Tt,gt,h,w.minCellWidth(),w.isRelative)},ht=function(Ht,Tt){return k.calcRightEdgeDeltas(R,Ht,Tt,h,w.minCellWidth(),w.isRelative)};return z.fold(K,ue,ye,Me,ht)},fS=function(u,c,h){for(var w=0,k=u;k<c;k++)w+=h[k]!==void 0?h[k]:0;return w},D2=function(u,c){var h=gr.justCells(u);return at(h,function(w){var k=fS(w.column,w.column+w.colspan,c);return{element:w.element,width:k,colspan:w.colspan}})},R2=function(u,c){var h=gr.justColumns(u);return at(h,function(w,k){return{element:w.element,width:c[k],colspan:w.colspan}})},$2=function(u,c){var h=gr.justCells(u);return at(h,function(w){var k=fS(w.row,w.row+w.rowspan,c);return{element:w.element,height:k,rowspan:w.rowspan}})},VA=function(u,c){return at(u.all,function(h,w){return{element:h.element,height:c[w]}})},Zv=function(u){return _n(u,function(c,h){return c+h},0)},Qv=function(u,c){return gr.hasColumns(u)?R2(u,c):D2(u,c)},ga=function(u,c,h){var w=Qv(u,c);ot(w,function(k){h.setElementWidth(k.element,k.width)})},Pb=function(u,c,h,w,k){var R=gr.fromTable(u),z=k.getCellDelta(c),K=k.getWidths(R,k),ue=h===R.grid.columns-1,ye=w.clampTableDelta(K,h,z,k.minCellWidth(),ue),Me=HA(K,h,ye,k,w),ht=at(Me,function(Ht,Tt){return Ht+K[Tt]});ga(R,ht,k),w.resizeTable(k.adjustTableWidth,ye,ue)},cc=function(u,c,h,w){var k=gr.fromTable(u),R=NA(k,u,w),z=at(R,function(Me,ht){return h===ht?Math.max(c+Me,vo()):Me}),K=$2(k,z),ue=VA(k,z);ot(ue,function(Me){Hv(Me.element,Me.height)}),ot(K,function(Me){Hv(Me.element,Me.height)});var ye=Zv(z);Hv(u,ye)},vS=function(u,c,h,w,k){var R=gr.generate(c),z=w.getWidths(R,w),K=w.pixelWidth(),ue=k.calcRedestributedWidths(z,K,h.pixelDelta,w.isRelative),ye=ue.newSizes,Me=ue.delta;ga(R,ye,w),w.adjustTableWidth(Me)},fc=function(u,c,h,w){var k=gr.generate(c),R=w.getWidths(k,w);ga(k,R,w)},Yc=function(u){return at(u,me(0))},ed=function(u,c,h,w,k){return k(u.slice(0,c)).concat(w).concat(k(u.slice(h)))},Ib=function(u){return function(c,h,w,k){if(u(w)){var R=Math.max(k,c[h]-Math.abs(w)),z=Math.abs(R-c[h]);return w>=0?z:-z}else return w}},Mp=Ib(function(u){return u<0}),Nb=Ib(se),zb=function(){var u=function(K,ue,ye,Me,ht){var Ht=Mp(K,ue,Me,ht);return ed(K,ue,ye+1,[Ht,0],Yc)},c=function(K,ue,ye,Me){var ht=(100+ye)/100,Ht=Math.max(Me,(K[ue]+ye)/ht);return at(K,function(Tt,gt){var Yt=gt===ue?Ht:Tt/ht;return Yt-Tt})},h=function(K,ue,ye,Me,ht,Ht){return Ht?c(K,ue,Me,ht):u(K,ue,ye,Me,ht)},w=function(K,ue,ye,Me,ht,Ht,Tt){return h(K,ye,Me,ht,Ht,Tt)},k=function(K,ue){return K(ue)},R=function(K,ue,ye,Me,ht,Ht){if(Ht)return c(K,ye,Me,ht);var Tt=Mp(K,ye,Me,ht);return Yc(K.slice(0,ye)).concat([Tt])},z=function(K,ue,ye,Me){if(Me){var ht=ue+ye,Ht=ht/ue,Tt=at(K,function(gt){return gt/Ht});return{delta:Ht*100-100,newSizes:Tt}}else return{delta:ye,newSizes:K}};return{resizeTable:k,clampTableDelta:Mp,calcLeftEdgeDeltas:h,calcMiddleDeltas:w,calcRightEdgeDeltas:R,calcRedestributedWidths:z}},Xd=function(){var u=function(z,K,ue,ye,Me){var ht=ye>=0?ue:K,Ht=Nb(z,ht,ye,Me);return ed(z,K,ue+1,[Ht,-Ht],Yc)},c=function(z,K,ue,ye,Me,ht){return u(z,ue,ye,Me,ht)},h=function(z,K,ue){ue&&z(K)},w=function(z,K,ue,ye,Me,ht){if(ht)return Yc(z);var Ht=ye/z.length;return at(z,me(Ht))},k=function(z,K,ue,ye,Me){if(Me){if(ue>=0)return ue;var ht=te(z,function(Ht,Tt){return Ht+Tt-ye},0);return Math.max(-ht,ue)}else return Mp(z,K,ue,ye)},R=function(z,K,ue,ye){return{delta:0,newSizes:z}};return{resizeTable:h,clampTableDelta:k,calcLeftEdgeDeltas:u,calcMiddleDeltas:c,calcRightEdgeDeltas:w,calcRedestributedWidths:R}},UA=function(u,c){var h=j.from(u.dom.documentElement).map(en.fromDom).getOr(u);return{parent:me(h),view:me(u),origin:me(Ca(0,0)),isResizable:c}},Fb=function(u,c,h){var w=function(){return Jf(c)};return{parent:me(c),view:me(u),origin:w,isResizable:h}},Ih=function(u,c,h){return{parent:me(c),view:me(u),origin:me(Ca(0,0)),isResizable:h}},Pp={only:UA,detached:Fb,body:Ih},Ip=Vc.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),B2=function(u,c,h){var w=h.substring(0,h.length-u.length),k=parseFloat(w);return w===k.toString()?c(k):Ip.invalid(h)},Wo=function(u){return Ju(u,"%")?B2("%",Ip.percent,u):Ju(u,"px")?B2("px",Ip.pixels,u):Ip.invalid(u)},Yd=Ft(Ft({},Ip),{from:Wo}),Io=function(u,c){return at(u,function(h){var w=Yd.from(h);return w.fold(function(){return h},function(k){var R=k/c*100;return R+"%"},function(k){return k+"%"})})},bu=function(u,c,h){var w=h/c;return at(u,function(k){var R=Yd.from(k);return R.fold(function(){return k},function(z){return z*w+"px"},function(z){return z/100*h+"px"})})},Jd=function(u,c){var h=u.fold(function(){return me("")},function(w){var k=w/c;return me(k+"px")},function(){var w=100/c;return me(w+"%")});return kt(c,h)},Ns=function(u,c,h){return u.fold(function(){return c},function(w){return bu(c,h,w)},function(w){return Io(c,h)})},Lb=function(u,c,h){var w=Yd.from(h),k=Ae(u,function(R){return R==="0px"})?Jd(w,u.length):Ns(w,u,c);return dS(k)},Jc=function(u,c){return u.length===0?c:_n(u,function(h,w){return Yd.from(w).fold(me(0),Be,Be)+h},0)},Nh=function(u,c){var h=Math.floor(u);return{value:h+c,remainder:u-h}},zh=function(u,c){return Yd.from(u).fold(me(u),function(h){return h+c+"px"},function(h){return h+c+"%"})},dS=function(u){if(u.length===0)return u;var c=_n(u,function(w,k){var R=Yd.from(k).fold(function(){return{value:k,remainder:0}},function(z){return Nh(z,"px")},function(z){return{value:z+"%",remainder:0}});return{output:[R.value].concat(w.output),remainder:w.remainder+R.remainder}},{output:[],remainder:0}),h=c.output;return h.slice(0,h.length-1).concat([zh(h[h.length-1],Math.round(c.remainder))])},mS=Yd.from,WA=function(u,c,h){ot(c,function(w){var k=u.slice(w.column,w.colspan+w.column),R=Jc(k,Vf());fo(w.element,"width",R+h)})},jA=function(u,c,h){ot(c,function(w,k){var R=Jc([u[k]],Vf());fo(w.element,"width",R+h)})},GA=function(u,c,h,w){ot(h,function(k){var R=u.slice(k.row,k.rowspan+k.row),z=Jc(R,vo());fo(k.element,"height",z+w)}),ot(c,function(k,R){fo(k.element,"height",u[R])})},hS=function(u){return mS(u).fold(me("px"),me("px"),me("%"))},Hb=function(u,c,h){var w=gr.fromTable(u),k=w.all,R=gr.justCells(w),z=gr.justColumns(w);c.each(function(K){var ue=hS(K),ye=Tl(u),Me=Dp(w,u),ht=Lb(Me,ye,K);gr.hasColumns(w)?jA(ht,z,ue):WA(ht,R,ue),fo(u,"width",K)}),h.each(function(K){var ue=hS(K),ye=gu(u),Me=_2(w,u,d2),ht=Lb(Me,ye,K);GA(ht,k,R,ue),fo(u,"height",K)})},Vb=b2,Ti=IA,Ub=oo,M2=function(u){var c=gr.fromTable(u);return c.grid},rl=function(u){var c=[],h=function(R){if(R===void 0)throw new Error("Event bind error: undefined handler");c.push(R)},w=function(R){c=ct(c,function(z){return z!==R})},k=function(){for(var R=[],z=0;z<arguments.length;z++)R[z]=arguments[z];var K={};ot(u,function(ue,ye){K[ue]=R[ye]}),ot(c,function(ue){ue(K)})};return{bind:h,unbind:w,trigger:k}},Ua=function(u){var c=Pf(u,function(w){return{bind:w.bind,unbind:w.unbind}}),h=Pf(u,function(w){return w.trigger});return{registry:c,trigger:h}},zs=function(u,c){var h=null,w=function(){O(h)||(clearTimeout(h),h=null)},k=function(){for(var R=[],z=0;z<arguments.length;z++)R[z]=arguments[z];w(),h=setTimeout(function(){h=null,u.apply(null,R)},c)};return{cancel:w,throttle:k}},td=function(u){return u.slice(0).sort()},P2=function(u,c){throw new Error("All required keys ("+td(u).join(", ")+") were not specified. Specified keys were: "+td(c).join(", ")+".")},Wb=function(u){throw new Error("Unsupported keys for object: "+td(u).join(", "))},gS=function(u,c){if(!T(c))throw new Error("The "+u+" fields must be an array. Was: "+c+".");ot(c,function(h){if(!_(h))throw new Error("The value "+h+" in the "+u+" fields was not a string.")})},mr=function(u,c){throw new Error("All values need to be of type: "+c+". Keys ("+td(u).join(", ")+") were not.")},Fh=function(u){var c=td(u),h=Ve(c,function(w,k){return k<c.length-1&&w===c[k+1]});h.each(function(w){throw new Error("The field: "+w+" occurs more than once in the combined fields: ["+c.join(", ")+"].")})},jb=function(u,c){return I2(u,c,{validate:P,label:"function"})},I2=function(u,c,h){if(c.length===0)throw new Error("You must specify at least one required field.");return gS("required",c),Fh(c),function(w){var k=cu(w),R=Ae(c,function(K){return st(k,K)});R||P2(c,k),u(c,k);var z=ct(c,function(K){return!h.validate(w[K],K)});return z.length>0&&mr(z,h.label),w}},jo=function(u,c){var h=ct(c,function(w){return!st(u,w)});h.length>0&&Wb(h)},al=function(u){return jb(jo,u)},pS=al(["compare","extract","mutate","sink"]),Zd=al(["element","start","stop","destroy"]),Ma=al(["forceDrop","drop","move","delayDrop"]),Qd=function(){var u=j.none(),c=function(){u=j.none()},h=function(R,z){var K=u.map(function(ue){return R.compare(ue,z)});return u=j.some(z),K},w=function(R,z){var K=z.extract(R);K.each(function(ue){var ye=h(z,ue);ye.each(function(Me){k.trigger.move(Me)})})},k=Ua({move:rl(["info"])});return{onEvent:w,reset:c,events:k.registry}},Gb=function(){var u=Ua({move:rl(["info"])});return{onEvent:Z,reset:Z,events:u.registry}},Lh=function(){var u=Gb(),c=Qd(),h=u,w=function(){h.reset(),h=c},k=function(){h.reset(),h=u},R=function(K,ue){h.onEvent(K,ue)},z=function(){return h===c};return{on:w,off:k,isOn:z,onEvent:R,events:c.events}},N2=function(u,c,h){var w=!1,k=Ua({start:rl([]),stop:rl([])}),R=Lh(),z=function(){Tt.stop(),R.isOn()&&(R.off(),k.trigger.stop())},K=zs(z,200),ue=function(Yt){Tt.start(Yt),R.on(),k.trigger.start()},ye=function(Yt){K.cancel(),R.onEvent(Yt,c)};R.events.move.bind(function(Yt){c.mutate(u,Yt.info)});var Me=function(){w=!0},ht=function(){w=!1},Ht=function(Yt){return function(){for(var tn=[],Rn=0;Rn<arguments.length;Rn++)tn[Rn]=arguments[Rn];w&&Yt.apply(null,tn)}},Tt=c.sink(Ma({forceDrop:z,drop:Ht(z),move:Ht(ye),delayDrop:Ht(K.throttle)}),h),gt=function(){Tt.destroy()};return{element:Tt.element,go:ue,on:Me,off:ht,destroy:gt,events:k.registry}},bS=function(u,c,h,w,k,R,z){return{target:u,x:c,y:h,stop:w,prevent:k,kill:R,raw:z}},Np=function(u){var c=en.fromDom(vb(u).getOr(u.target)),h=function(){return u.stopPropagation()},w=function(){return u.preventDefault()},k=q(w,h);return bS(c,u.clientX,u.clientY,h,w,k,u)},yS=function(u,c){return function(h){u(h)&&c(Np(h))}},rv=function(u,c,h,w,k){var R=yS(h,w);return u.dom.addEventListener(c,R,k),{unbind:ge(z2,u,c,R,k)}},yu=function(u,c,h,w){return rv(u,c,h,w,!1)},z2=function(u,c,h,w){u.dom.removeEventListener(c,h,w)},qA=se,vc=function(u,c,h){return yu(u,c,qA,h)},av=Np,qb=function(u,c){var h=ks(u,c);return h===void 0||h===""?[]:h.split(" ")},KA=function(u,c,h){var w=qb(u,c),k=w.concat([h]);return Lo(u,c,k.join(" ")),!0},XA=function(u,c,h){var w=ct(qb(u,c),function(k){return k!==h});return w.length>0?Lo(u,c,w.join(" ")):Ba(u,c),!1},em=function(u){return u.dom.classList!==void 0},tm=function(u){return qb(u,"class")},Kb=function(u,c){return KA(u,"class",c)},Yr=function(u,c){return XA(u,"class",c)},Go=function(u,c){em(u)?u.dom.classList.add(c):Kb(u,c)},wu=function(u){var c=em(u)?u.dom.classList:tm(u);c.length===0&&Ba(u,"class")},zu=function(u,c){if(em(u)){var h=u.dom.classList;h.remove(c)}else Yr(u,c);wu(u)},ka=function(u,c){return em(u)&&u.dom.classList.contains(c)},nd=function(u){var c=u.replace(/\./g,"-"),h=function(w){return c+"-"+w};return{resolve:h}},Xb=nd("ephox-dragster"),Qo=Xb.resolve,Zc=function(u){var c=Ft({layerClass:Qo("blocker")},u),h=en.fromTag("div");Lo(h,"role","presentation"),Fc(h,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Go(h,Qo("blocker")),Go(h,c.layerClass);var w=me(h),k=function(){Pu(h)};return{element:w,destroy:k}},YA=function(u,c){return Ca(c.left-u.left,c.top-u.top)},JA=function(u){return j.some(Ca(u.x,u.y))},Yb=function(u,c){u.mutate(c.left,c.top)},Jb=function(u,c){var h=Zc(c),w=vc(h.element(),"mousedown",u.forceDrop),k=vc(h.element(),"mouseup",u.drop),R=vc(h.element(),"mousemove",u.move),z=vc(h.element(),"mouseout",u.delayDrop),K=function(){h.destroy(),k.unbind(),R.unbind(),z.unbind(),w.unbind()},ue=function(Me){ao(Me,h.element())},ye=function(){Pu(h.element())};return Zd({element:h.element,start:ue,stop:ye,destroy:K})},F2=pS({compare:YA,extract:JA,sink:Jb,mutate:Yb}),L2=function(u,c){c===void 0&&(c={});var h=c.mode!==void 0?c.mode:F2;return N2(u,h,c)},nm=function(u){return no(u,"[contenteditable]")},zp=function(u,c){return c===void 0&&(c=!1),!Jl().browser.isIE()&&ec(u)?u.dom.isContentEditable:nm(u).fold(me(c),function(h){return H2(h)==="true"})},H2=function(u){return u.dom.contentEditable},V2=nd("ephox-snooker"),Hh=V2.resolve,Oi=function(){var u=Ua({drag:rl(["xDelta","yDelta"])}),c=function(h,w){u.trigger.drag(h,w)};return{mutate:c,events:u.registry}},fs=function(){var u=Ua({drag:rl(["xDelta","yDelta","target"])}),c=j.none(),h=Oi();h.events.drag.bind(function(R){c.each(function(z){u.trigger.drag(R.xDelta,R.yDelta,z)})});var w=function(R){c=j.some(R)},k=function(){return c};return{assign:w,get:k,mutate:h.mutate,events:u.registry}},Fp=function(u,c,h,w,k){var R=en.fromTag("div");return Fc(R,{position:"absolute",left:c-w/2+"px",top:h+"px",height:k+"px",width:w+"px"}),Ao(R,{"data-column":u,role:"presentation"}),R},qo=function(u,c,h,w,k){var R=en.fromTag("div");return Fc(R,{position:"absolute",left:c+"px",top:h-k/2+"px",height:k+"px",width:w+"px"}),Ao(R,{"data-row":u,role:"presentation"}),R},Zb=Hh("resizer-bar"),ov=Hh("resizer-rows"),U2=Hh("resizer-cols"),W2=7,wS=function(u,c){return Te(u.all,function(h,w){return c(h.element)?[w]:[]})},j2=function(u,c){var h=[];return kt(u.grid.columns,function(w){var k=gr.getColumnAt(u,w).map(function(R){return R.element});k.forall(c)&&h.push(w)}),ct(h,function(w){var k=gr.filterItems(u,function(R){return R.column===w});return Ae(k,function(R){return c(R.element)})})},Lp=function(u){var c=ns(u.parent(),"."+Zb);ot(c,Pu)},Qb=function(u,c,h){var w=u.origin();ot(c,function(k){k.each(function(R){var z=h(w,R);Go(z,Zb),ao(u.parent(),z)})})},CS=function(u,c,h,w){Qb(u,c,function(k,R){var z=Fp(R.col,R.x-k.left,h.top-k.top,W2,w);return Go(z,U2),z})},ZA=function(u,c,h,w){Qb(u,c,function(k,R){var z=qo(R.row,h.left-k.left,R.y-k.top,w,W2);return Go(z,ov),z})},qi=function(u,c,h,w,k){var R=Jf(h),z=c.isResizable,K=w.length>0?d2.positions(w,h):[],ue=K.length>0?wS(u,z):[],ye=ct(K,function(Tt,gt){return B(ue,function(Yt){return gt===Yt})});ZA(c,ye,R,Wi(h));var Me=k.length>0?Ah.positions(k,h):[],ht=Me.length>0?j2(u,z):[],Ht=ct(Me,function(Tt,gt){return B(ht,function(Yt){return gt===Yt})});CS(c,Ht,R,sc(h))},ei=function(u,c){if(Lp(u),u.isResizable(c)){var h=gr.fromTable(c),w=Lv(h),k=Ld(h);qi(h,u,c,w,k)}},Cu=function(u,c){var h=ns(u.parent(),"."+Zb);ot(h,c)},_u=function(u){Cu(u,function(c){fo(c,"display","none")})},Fu=function(u){Cu(u,function(c){fo(c,"display","block")})},No=function(u){return ka(u,ov)},e0=function(u){return ka(u,U2)},t0=Hh("resizer-bar-dragging"),G2=function(u){var c=fs(),h=L2(c,{}),w=j.none(),k=function(gt,Yt){return j.from(ks(gt,Yt))};c.events.drag.bind(function(gt){k(gt.target,"data-row").each(function(Yt){var tn=Hf(gt.target,"top");fo(gt.target,"top",tn+gt.yDelta+"px")}),k(gt.target,"data-column").each(function(Yt){var tn=Hf(gt.target,"left");fo(gt.target,"left",tn+gt.xDelta+"px")})});var R=function(gt,Yt){var tn=Hf(gt,Yt),Rn=Qs(gt,"data-initial-"+Yt,0);return tn-Rn};h.events.stop.bind(function(){c.get().each(function(gt){w.each(function(Yt){k(gt,"data-row").each(function(tn){var Rn=R(gt,"top");Ba(gt,"data-initial-top"),Tt.trigger.adjustHeight(Yt,Rn,parseInt(tn,10))}),k(gt,"data-column").each(function(tn){var Rn=R(gt,"left");Ba(gt,"data-initial-left"),Tt.trigger.adjustWidth(Yt,Rn,parseInt(tn,10))}),ei(u,Yt)})})});var z=function(gt,Yt){Tt.trigger.startAdjust(),c.assign(gt),Lo(gt,"data-initial-"+Yt,Hf(gt,Yt)),Go(gt,t0),fo(gt,"opacity","0.2"),h.go(u.parent())},K=vc(u.parent(),"mousedown",function(gt){No(gt.target)&&z(gt.target,"top"),e0(gt.target)&&z(gt.target,"left")}),ue=function(gt){return ea(gt,u.view())},ye=function(gt){return no(gt,"table",ue).filter(zp)},Me=vc(u.view(),"mouseover",function(gt){ye(gt.target).fold(function(){ec(gt.target)&&Lp(u)},function(Yt){w=j.some(Yt),ei(u,Yt)})}),ht=function(){K.unbind(),Me.unbind(),h.destroy(),Lp(u)},Ht=function(gt){ei(u,gt)},Tt=Ua({adjustHeight:rl(["table","delta","row"]),adjustWidth:rl(["table","delta","column"]),startAdjust:rl([])});return{destroy:ht,refresh:Ht,on:h.on,off:h.off,hideBars:ge(_u,u),showBars:ge(Fu,u),events:Tt.registry}},rm=function(u,c,h){var w=d2,k=Ah,R=G2(u),z=Ua({beforeResize:rl(["table","type"]),afterResize:rl(["table","type"]),startDrag:rl([])});return R.events.adjustHeight.bind(function(K){var ue=K.table;z.trigger.beforeResize(ue,"row");var ye=w.delta(K.delta,ue);cc(ue,ye,K.row,w),z.trigger.afterResize(ue,"row")}),R.events.startAdjust.bind(function(K){z.trigger.startDrag()}),R.events.adjustWidth.bind(function(K){var ue=K.table;z.trigger.beforeResize(ue,"col");var ye=k.delta(K.delta,ue),Me=h(ue);Pb(ue,ye,K.column,c,Me),z.trigger.afterResize(ue,"col")}),{on:R.on,off:R.off,hideBars:R.hideBars,showBars:R.showBars,destroy:R.destroy,events:z.registry}},rd={create:rm},n0=function(u,c){return u.fire("newrow",{node:c})},r0=function(u,c){return u.fire("newcell",{node:c})},a0=function(u,c,h,w,k){u.fire("ObjectResizeStart",{target:c,width:h,height:w,origin:k})},Vh=function(u,c,h,w,k){u.fire("ObjectResized",{target:c,width:h,height:w,origin:k})},Uh=function(u,c,h,w,k){u.fire("TableSelectionChange",{cells:c,start:h,finish:w,otherCells:k})},_S=function(u){u.fire("TableSelectionClear")},Qc=function(u,c,h){u.fire("TableModified",Ft(Ft({},h),{table:c}))},am={structure:!1,style:!0},qa={structure:!0,style:!1},QA={structure:!0,style:!0},e4="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",o0={"border-collapse":"collapse",width:"100%"},t4=kt(5,function(u){var c=u+1+"px";return{title:c,value:c}}),SS=at(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(u){return{title:u,value:u.toLowerCase()}}),Zt=function(u){var c;if(iv(u)){var h=u.dom,w=(c=h.getParent(u.selection.getStart(),h.isBlock))!==null&&c!==void 0?c:u.getBody(),k=Xr(en.fromDom(w));return Ft(Ft({},o0),{width:k+"px"})}else return Wh(u)?_l(o0,function(R,z){return z!=="width"}):o0},n4={border:"1"},Ko="preservetable",q2=function(u){return u.getParam("table_sizing_mode","auto")},om=function(u){return u.getParam("table_responsive_width")},xS=function(u){return u.getParam("table_border_widths",t4,"array")},nu=function(u){return u.getParam("table_border_styles",SS,"array")},Hp=function(u){return u.getParam("table_default_attributes",n4,"object")},i0=function(u){return u.getParam("table_default_styles",Zt(u),"object")},Vp=function(u){return u.getParam("table_resize_bars",!0,"boolean")},dc=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},Up=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},Wp=function(u){return u.getParam("table_row_advtab",!0,"boolean")},Su=function(u){return u.getParam("table_advtab",!0,"boolean")},mc=function(u){return u.getParam("table_appearance_options",!0,"boolean")},kS=function(u){return u.getParam("table_grid",!0,"boolean")},ru=function(u){return u.getParam("table_style_by_css",!1,"boolean")},ef=function(u){return u.getParam("table_cell_class_list",[],"array")},ad=function(u){return u.getParam("table_row_class_list",[],"array")},jp=function(u){return u.getParam("table_class_list",[],"array")},mt=function(u){return q2(u)==="relative"||om(u)===!0},iv=function(u){return q2(u)==="fixed"||om(u)===!1},Wh=function(u){return q2(u)==="responsive"},r4=function(u){return u.getParam("table_toolbar",e4)},u0=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},Ml=function(u){var c="section",h=u.getParam("table_header_type",c,"string"),w=["section","cells","sectionCells","auto"];return st(w,h)?h:c},s0=function(u){var c=["preservetable","resizetable"],h=u.getParam("table_column_resizing",Ko,"string");return Ve(c,function(w){return w===h}).getOr(Ko)},K2=function(u){return s0(u)==="preservetable"},X2=function(u){return s0(u)==="resizetable"},l0=function(u){var c=u.getParam("table_clone_elements");return _(c)?j.some(c.split(/[ ,]/)):Array.isArray(c)?j.some(c):j.none()},Y2=function(u){var c=u.getParam("object_resizing",!0);return _(c)?c==="table":c},J2=function(u){return u.getParam("table_background_color_map",[],"array")},Z2=function(u){return u.getParam("table_border_color_map",[],"array")},Q2=function(u,c){return mt(u)?ev.percentageSize(c):iv(u)?ev.pixelSize(c):ev.getTableSize(c)},im=function(u){Ba(u,"width")},AS=function(u){var c=Dh(u);Hb(u,j.some(c),j.none()),im(u)},a4=function(u){var c=PA(u);Hb(u,j.some(c),j.none()),im(u)},o4=function(u){_i(u,"width");var c=ac(u),h=c.length>0?c:jf(u);ot(h,function(w){_i(w,"width"),im(w)}),im(u)},jh=AS,Gh=a4,c0=o4,ew=function(u){var c=gr.fromTable(u);gr.hasColumns(c)||ot(jf(u),function(h){var w=nc(h,"width");fo(h,"width",w),Ba(h,"width")})},qh=function(){var u=en.fromTag("div");return Fc(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ao($a(),u),u},tw=function(u,c){return u.inline?Pp.body(qc(u),qh(),c):Pp.only(en.fromDom(u.getDoc()),c)},mo=function(u,c){u.inline&&Pu(c.parent())},Gp="bar-",wo=function(u){return ks(u,"data-mce-resize")!=="false"},f0=function(u){var c=j.none(),h=j.none(),w=j.none(),k,R,z=function(gt){return gt.nodeName==="TABLE"},K=function(){return h},ue=function(){return w.getOr(Pp.only(en.fromDom(u.getBody()),wo))},ye=function(gt){return Q2(u,gt)},Me=function(){return K2(u)?Xd():zb()},ht=function(gt){return M2(gt).columns},Ht=function(gt,Yt,tn){var Rn=Ju(Yt,"e");if(R===""&&jh(gt),tn!==k&&R!==""){fo(gt,"width",R);var jr=Me(),On=ye(gt),nr=K2(u)||Rn?ht(gt)-1:0;Pb(gt,tn-k,nr,jr,On)}else if(qv(R)){var xr=parseFloat(R.replace("%","")),Cr=tn*xr/k;fo(gt,"width",Cr+"%")}Bh(R)&&ew(gt)},Tt=function(){h.each(function(gt){gt.destroy()}),w.each(function(gt){mo(u,gt)})};return u.on("init",function(){var gt=tw(u,wo);if(w=j.some(gt),Y2(u)&&Vp(u)){var Yt=Me(),tn=rd.create(gt,Yt,ye);tn.on(),tn.events.startDrag.bind(function(Rn){c=j.some(u.selection.getRng())}),tn.events.beforeResize.bind(function(Rn){var jr=Rn.table.dom;a0(u,jr,tv(jr),nv(jr),Gp+Rn.type)}),tn.events.afterResize.bind(function(Rn){var jr=Rn.table,On=jr.dom;pu(jr),c.each(function(nr){u.selection.setRng(nr),u.focus()}),Vh(u,On,tv(On),nv(On),Gp+Rn.type),u.undoManager.add()}),h=j.some(tn)}}),u.on("ObjectResizeStart",function(gt){var Yt=gt.target;if(z(Yt)){var tn=en.fromDom(Yt);ot(u.dom.select(".mce-clonedresizable"),function(Rn){u.dom.addClass(Rn,"mce-"+s0(u)+"-columns")}),!Ti(tn)&&iv(u)?Gh(tn):!Vb(tn)&&mt(u)&&jh(tn),Ub(tn)&&yi(gt.origin,Gp)&&jh(tn),k=gt.width,R=Wh(u)?"":Kc(u,Yt).getOr("")}}),u.on("ObjectResized",function(gt){var Yt=gt.target;if(z(Yt)){var tn=en.fromDom(Yt),Rn=gt.origin;yi(Rn,"corner-")&&Ht(tn,Rn,gt.width),pu(tn),Qc(u,tn.dom,am)}}),u.on("SwitchMode",function(){K().each(function(gt){u.mode.isReadOnly()?gt.hideBars():gt.showBars()})}),{lazyResize:K,lazyWire:ue,destroy:Tt}},um=function(u,c){return{element:u,offset:c}},nw=function(u,c,h){return u.property().isText(c)&&u.property().getText(c).trim().length===0||u.property().isComment(c)?h(c).bind(function(w){return nw(u,w,h).orThunk(function(){return j.some(w)})}):j.none()},qp=function(u,c){if(u.property().isText(c))return u.property().getText(c).length;var h=u.property().children(c);return h.length},rw=function(u,c){var h=nw(u,c,u.query().prevSibling).getOr(c);if(u.property().isText(h))return um(h,qp(u,h));var w=u.property().children(h);return w.length>0?rw(u,w[w.length-1]):um(h,qp(u,h))},ES=rw,i4=_p(),TS=function(u){return ES(i4,u)},u4=function(u,c){var h=Ho(u,"colspan");if(h===1){var w=Th(u);w.each(function(k){var R=k.value/2;Oh(u,R,k.unit),Oh(c,R,k.unit)})}},v0=Jo("th"),Kp=function(u){return Ae(u,function(c){return v0(c.element)})},s4=function(u,c){return u&&c?"sectionCells":u?"section":"cells"},OS=function(u){var c=u.section==="thead",h=tc(aw(u.cells),"th");return c||h?{type:"header",subType:s4(c,h)}:u.section==="tfoot"?{type:"footer"}:{type:"body"}},aw=function(u){var c=ct(u,function(h){return v0(h.element)});return c.length===0?j.some("td"):c.length===u.length?j.some("th"):j.none()},l4=function(u){var c=at(u,function(R){return OS(R).type}),h=st(c,"header"),w=st(c,"footer");if(!h&&!w)return j.some("body");var k=st(c,"body");return h&&!k&&!w?j.some("header"):!h&&!k&&w?j.some("footer"):j.none()},c4=function(u){return Rt(u.all,function(c){var h=OS(c);return h.type==="header"?j.from(h.subType):j.none()})},d0=function(u,c,h){return zi(h(u.element,c),!0,u.isLocked)},ow=function(u,c){return u.section!==c?Zl(u.element,u.cells,c,u.isNew):u},Di=function(){return{transformRow:ow,transformCell:function(u,c,h){var w=h(u.element,c),k=ta(w)!=="td"?TA(w,"td"):w;return zi(k,u.isNew,u.isLocked)}}},Kh=function(){return{transformRow:ow,transformCell:d0}},Xh=function(){return{transformRow:function(u,c){var h=c==="thead"?"tbody":c;return ow(u,h)},transformCell:d0}},DS=function(){return{transformRow:Be,transformCell:d0}},f4=function(u,c){var h=gr.fromTable(u),w=c4(h).getOr(c);switch(w){case"section":return Di();case"sectionCells":return Kh();case"cells":return Xh()}},Xp={getTableSectionType:f4,section:Di,sectionCells:Kh,cells:Xh,fallback:DS},Yp=function(u,c,h,w){h===w?Ba(u,c):Lo(u,c,h)},sm=function(u,c,h){jt(cr(u,c)).fold(function(){return xi(u,h)},function(w){return xa(w,h)})},m0=function(u,c){var h=Xn(u,c).getOrThunk(function(){var w=en.fromTag(c,Nf(u).dom);return c==="thead"?sm(u,"caption,colgroup",w):c==="colgroup"?sm(u,"caption",w):ao(u,w),w});return wp(h),h},Jp=function(u,c){var h=[],w=[],k=function(Tt){return at(Tt,function(gt){gt.isNew&&h.push(gt.element);var Yt=gt.element;return wp(Yt),ot(gt.cells,function(tn){tn.isNew&&w.push(tn.element),Yp(tn.element,"colspan",tn.colspan,1),Yp(tn.element,"rowspan",tn.rowspan,1),ao(Yt,tn.element)}),Yt})},R=function(Tt){return Te(Tt,function(gt){return at(gt.cells,function(Yt){return Yp(Yt.element,"span",Yt.colspan,1),Yt.element})})},z=function(Tt,gt){var Yt=m0(u,gt),tn=gt==="colgroup"?R:k,Rn=tn(Tt);oc(Yt,Rn)},K=function(Tt){Xn(u,Tt).each(Pu)},ue=function(Tt,gt){Tt.length>0?z(Tt,gt):K(gt)},ye=[],Me=[],ht=[],Ht=[];return ot(c,function(Tt){switch(Tt.section){case"thead":ye.push(Tt);break;case"tbody":Me.push(Tt);break;case"tfoot":ht.push(Tt);break;case"colgroup":Ht.push(Tt);break}}),ue(Ht,"colgroup"),ue(ye,"thead"),ue(Me,"tbody"),ue(ht,"tfoot"),{newRows:h,newCells:w}},iw=function(u){return at(u,function(c){var h=El(c.element);return ot(c.cells,function(w){var k=sa(w.element);Yp(k,"colspan",w.colspan,1),Yp(k,"rowspan",w.rowspan,1),ao(h,k)}),h})},v4=function(u,c){return at(u,function(h){return mu(h,c)})},tf=function(u,c){return u[c]},h0=function(u,c){if(u.length===0)return 0;var h=u[0],w=pt(u,function(k){return!c(h.element,k.element)});return w.getOr(u.length)},d4=function(u,c,h,w){var k=tf(u,c),R=k.section==="colgroup",z=h0(k.cells.slice(h),w),K=R?1:h0(v4(u.slice(c),h),w);return{colspan:z,rowspan:K}},od=function(u,c){var h=at(u,function(k){return at(k.cells,We)}),w=function(k,R,z,K){for(var ue=k;ue<k+z;ue++)for(var ye=R;ye<R+K;ye++)h[ue][ye]=!0};return at(u,function(k,R){var z=Te(k.cells,function(K,ue){if(h[R][ue]===!1){var ye=d4(u,R,ue,c);return w(R,ue,ye.rowspan,ye.colspan),[yr(K.element,ye.rowspan,ye.colspan,K.isNew)]}else return[]});return Ic(k.element,z,k.section,k.isNew)})},id=function(u,c,h){var w=[];ot(u.colgroups,function(Me){for(var ht=[],Ht=0;Ht<u.grid.columns;Ht++){var Tt=gr.getColumnAt(u,Ht).map(function(gt){return zi(gt.element,h,!1)}).getOrThunk(function(){return zi(c.colGap(),!0,!1)});ht.push(Tt)}w.push(Zl(Me.element,ht,"colgroup",h))});for(var k=0;k<u.grid.rows;k++){for(var R=[],z=0;z<u.grid.columns;z++){var K=gr.getAt(u,k,z).map(function(Me){return zi(Me.element,h,Me.isLocked)}).getOrThunk(function(){return zi(c.gap(),!0,!1)});R.push(K)}var ue=u.all[k],ye=Zl(ue.element,R,ue.section,h);w.push(ye)}return w},m4=function(u,c){return id(u,c,!1)},g0=function(u){return od(u,ea)},p0=function(u,c){return Rt(u.all,function(h){return Ve(h.cells,function(w){return ea(c,w.element)})})},b0=function(u,c,h){var w=at(c.selection,function(R){return rc(R).bind(function(z){return p0(u,z)}).filter(h)}),k=Mo(w);return ya(k.length>0,k)},si=function(u,c,h,w,k){return function(R,z,K,ue,ye){var Me=gr.fromTable(z),ht=j.from(ye==null?void 0:ye.section).getOrThunk(Xp.fallback),Ht=c(Me,K).map(function(Tt){var gt=m4(Me,ue),Yt=u(gt,Tt,ea,k(ue),ht),tn=Si(Yt.grid),Rn=g0(Yt.grid);return{info:Tt,grid:Rn,cursor:Yt.cursor,lockedColumns:tn}});return Ht.bind(function(Tt){var gt=Jp(z,Tt.grid),Yt=j.from(ye==null?void 0:ye.sizing).getOrThunk(function(){return ev.getTableSize(z)}),tn=j.from(ye==null?void 0:ye.resize).getOrThunk(Xd);return h(z,Tt.grid,Tt.info,{sizing:Yt,resize:tn,section:ht}),w(z),ei(R,z),Ba(z,Eo),Tt.lockedColumns.length>0&&Lo(z,Eo,Tt.lockedColumns.join(",")),j.some({cursor:Tt.cursor,newRows:gt.newRows,newCells:gt.newCells})})}},RS=function(u,c){return rc(c.element).bind(function(h){return p0(u,h).map(function(w){var k=Ft(Ft({},w),{generators:c.generators,clipboard:c.clipboard});return k})})},uw=function(u,c){return b0(u,c,se).map(function(h){return{cells:h,generators:c.generators,clipboard:c.clipboard}})},$S=function(u,c){return c.mergable},BS=function(u,c){return c.unmergable},hc=function(u,c){return b0(u,c,se)},uv=function(u,c){return b0(u,c,function(h){return!h.isLocked})},MS=function(u,c){return p0(u,c).exists(function(h){return!h.isLocked})},PS=function(u,c){return Ae(c,function(h){return MS(u,h)})},sw=function(u,c){return $S(u,c).filter(function(h){return PS(u,h.cells)})},y0=function(u,c){return BS(u,c).filter(function(h){return PS(u,h)})},IS=function(u,c,h,w){var k=bo(u).rows;if(k.length===0)return u;for(var R=c.startRow;R<=c.finishRow;R++)for(var z=c.startCol;z<=c.finishCol;z++){var K=k[R],ue=mu(K,z).isLocked;Lc(K,z,zi(w(),!1,ue))}return u},Yh=function(u,c,h,w){for(var k=bo(u).rows,R=!0,z=0;z<k.length;z++)for(var K=0;K<Es(k[0]);K++){var ue=k[z],ye=mu(ue,K),Me=ye.element,ht=h(Me,c);ht===!0&&R===!1?Lc(ue,K,zi(w(),!0,ye.isLocked)):ht===!0&&(R=!1)}return u},h4=function(u,c){return te(u,function(h,w){return B(h,function(k){return c(k.element,w.element)})?h:h.concat([w])},[])},Zp=function(u,c,h,w){return c>0&&c<u[0].cells.length&&ot(u,function(k){var R=k.cells[c-1],z=k.cells[c],K=h(z.element,R.element);K&&Lc(k,c,zi(w(),!0,z.isLocked))}),u},g4=function(u,c,h,w){var k=bo(u).rows;if(c>0&&c<k.length){var R=k[c-1].cells,z=h4(R,h);ot(z,function(K){for(var ue=j.none(),ye=c;ye<k.length;ye++)for(var Me=function(Ht){var Tt=k[ye],gt=mu(Tt,Ht),Yt=h(gt.element,K.element);Yt&&(ue.isNone()&&(ue=j.some(w())),ue.each(function(tn){Lc(Tt,Ht,zi(tn,!0,gt.isLocked))}))},ht=0;ht<Es(k[0]);ht++)Me(ht)})}return u},Jh=function(u){var c=function(ht){return Jh(u)},h=function(ht){return Jh(u)},w=function(ht){return Jh(ht(u))},k=function(ht){return Jh(u)},R=function(ht){ht(u)},z=function(ht){return ht(u)},K=function(ht,Ht){return Ht(u)},ue=function(ht){return ht(u)},ye=function(ht){return ht(u)},Me=function(){return j.some(u)};return{isValue:se,isError:We,getOr:me(u),getOrThunk:me(u),getOrDie:me(u),or:c,orThunk:h,fold:K,map:w,mapError:k,each:R,bind:z,exists:ue,forall:ye,toOptional:Me}},lm=function(u){var c=function(ye){return ye()},h=function(){return Se(String(u))()},w=Be,k=function(ye){return ye()},R=function(ye){return lm(u)},z=function(ye){return lm(ye(u))},K=function(ye){return lm(u)},ue=function(ye,Me){return ye(u)};return{isValue:We,isError:se,getOr:Be,getOrThunk:c,getOrDie:h,or:w,orThunk:k,fold:ue,map:R,mapError:z,each:Z,bind:K,exists:We,forall:se,toOptional:j.none}},lw=function(u,c){return u.fold(function(){return lm(c)},Jh)},NS={value:Jh,error:lm,fromOption:lw},p4=function(u,c,h){if(u.row>=c.length||u.column>Es(c[0]))return NS.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var w=c.slice(u.row),k=w[0].cells.slice(u.column),R=Es(h[0]),z=h.length;return NS.value({rowDelta:w.length-z,colDelta:k.length-R})},zS=function(u,c){var h=Es(u[0]),w=Es(c[0]);return{rowDelta:0,colDelta:h-w}},FS=function(u,c){var h=u.length,w=c.length;return{rowDelta:h-w,colDelta:0}},cw=function(u,c,h,w){var k=c.section==="colgroup"?h.col:h.cell;return kt(u,function(R){return zi(k(),!0,w(R))})},b4=function(u,c,h,w){var k=u[u.length-1];return u.concat(kt(c,function(){var R=k.section==="colgroup"?h.colgroup:h.row,z=Vo(k,R,Be),K=cw(z.cells.length,z,h,function(ue){return ie(w,ue.toString())});return Zn(z,K)}))},w0=function(u,c,h,w){return at(u,function(k){var R=cw(c,k,h,We);return Gf(k,w,R)})},y4=function(u,c,h){return at(u,function(w){return te(h,function(k,R){var z=cw(1,w,c,se)[0];return qf(k,R,z)},w)})},Qp=function(u,c,h){var w=c.colDelta<0?w0:Be,k=c.rowDelta<0?b4:Be,R=Si(u),z=Es(u[0]),K=B(R,function(Me){return Me===z-1}),ue=w(u,Math.abs(c.colDelta),h,K?z-1:z),ye=Si(ue);return k(ue,Math.abs(c.rowDelta),h,et(ye,se))},w4=function(u,c,h,w){var k=mu(u[c],h),R=ge(w,k.element),z=u[c];return u.length>1&&Es(z)>1&&(h>0&&R(Vi(z,h-1))||h<z.cells.length-1&&R(Vi(z,h+1))||c>0&&R(Vi(u[c-1],h))||c<u.length-1&&R(Vi(u[c+1],h)))},C4=function(u,c,h,w,k,R){for(var z=u.row,K=u.column,ue=h.length,ye=Es(h[0]),Me=z+ue,ht=K+ye+R.length,Ht=et(R,se),Tt=z;Tt<Me;Tt++)for(var gt=0,Yt=K;Yt<ht;Yt++){if(Ht[Yt]){gt++;continue}w4(c,Tt,Yt,k)&&Yh(c,Vi(c[Tt],Yt),k,w.cell);var tn=Yt-K-gt,Rn=mu(h[Tt-z],tn),jr=Rn.element,On=w.replace(jr);Lc(c[Tt],Yt,zi(On,!0,Rn.isLocked))}return c},_4=function(u,c,h){var w=Es(c[0]),k=bo(c).cols.length+u.row,R=kt(w-u.column,function(K){return K+u.column}),z=Ve(R,function(K){return Ae(h,function(ue){return ue!==K})}).getOr(w-1);return{row:k,column:z}},C0=function(u,c,h){return ct(h,function(w){return w>=u.column&&w<=Es(c[0])+u.column})},S4=function(u,c,h,w,k){var R=Si(c),z=_4(u,c,R),K=bo(h).rows,ue=C0(z,K,R),ye=p4(z,c,K);return ye.map(function(Me){var ht=Ft(Ft({},Me),{colDelta:Me.colDelta-ue.length}),Ht=Qp(c,ht,w),Tt=Si(Ht),gt=C0(z,K,Tt);return C4(z,Ht,K,w,k,gt)})},Zh=function(u,c,h,w,k){Zp(c,u,k,w.cell);var R=FS(h,c),z=Qp(h,R,w),K=FS(c,z),ue=Qp(c,K,w);return at(ue,function(ye,Me){return Gf(ye,u,z[Me].cells)})},LS=function(u,c,h,w,k){g4(c,u,k,w.cell);var R=Si(c),z=zS(c,h),K=Ft(Ft({},z),{colDelta:z.colDelta-R.length}),ue=Qp(c,K,w),ye=bo(ue),Me=ye.cols,ht=ye.rows,Ht=Si(ue),Tt=zS(h,c),gt=Ft(Ft({},Tt),{colDelta:Tt.colDelta+Ht.length}),Yt=y4(h,w,Ht),tn=Qp(Yt,gt,w);return Me.concat(ht.slice(0,u)).concat(tn).concat(ht.slice(u,ht.length))},x4=function(u,c,h,w){return Vo(u,function(k){return w(k,h)},c)},fw=function(u,c,h,w,k){var R=bo(u),z=R.rows,K=R.cols,ue=z.slice(0,c),ye=z.slice(c),Me=x4(z[h],function(ht,Ht){var Tt=c>0&&c<z.length&&w(Vi(z[c-1],Ht),Vi(z[c],Ht)),gt=Tt?mu(z[c],Ht):zi(k(ht.element,w),!0,ht.isLocked);return gt},w,k);return K.concat(ue).concat([Me]).concat(ye)},HS=function(u,c,h,w,k,R,z){if(h==="colgroup"||!w){var K=mu(u,k);return zi(z(K.element,R),!0,!1)}else return mu(u,c)},vw=function(u,c,h,w,k){return at(u,function(R){var z=c>0&&c<Es(R)&&w(Vi(R,c-1),Vi(R,c)),K=HS(R,c,R.section,z,h,w,k);return qf(R,c,K)})},VS=function(u,c){return Te(u,function(h){var w=h.cells,k=_n(c,function(R,z){return z>=0&&z<R.length?R.slice(0,z).concat(R.slice(z+1)):R},w);return k.length>0?[Zl(h.element,k,h.section,h.isNew)]:[]})},US=function(u,c,h){var w=bo(u),k=w.rows,R=w.cols;return R.concat(k.slice(0,c)).concat(k.slice(h+1))},Qh=function(u,c,h,w){return Vi(u[c],h)!==void 0&&c>0&&w(Vi(u[c-1],h),Vi(u[c],h))},dw=function(u,c,h){return c>0&&h(Vi(u,c-1),Vi(u,c))},mw=function(u,c,h,w){return Qh(u,c,h,w)||dw(u[c],h,w)},k4=function(u,c){var h=Ae(c,Be)&&Kp(u.cells);return h?se:function(w,k,R){var z=ta(w.element);return!(z==="th"&&c[R])}},A4=function(u,c){var h=Ae(c,Be)&&Kp(u);return h?se:function(w,k,R){var z=ta(w.element);return!(z==="th"&&c[k])}},hw=function(u,c,h,w){var k=function(K){return K==="row"?pb(c):Nd(c)},R=function(K){return k(K)?K+"group":K};if(u)return v0(c)?R(h):null;if(w&&v0(c)){var z=h==="row"?"col":"row";return R(z)}else return null},E4=function(u,c){return function(h,w,k){return j.some(hw(u,h.element,"col",c[k]))}},WS=function(u,c){return function(h,w){return j.some(hw(u,h.element,"row",c[w]))}},ud=function(u,c,h){return zi(h(u.element,c),!0,u.isLocked)},eg=function(u,c,h,w,k,R,z){var K=function(ue){return B(c,function(ye){return h(ue.element,ye.element)})};return at(u,function(ue,ye){return As(ue,function(Me,ht){if(K(Me)){var Ht=z(Me,ye,ht)?k(Me,h,w):Me;return R(Ht,ye,ht).each(function(Tt){Ff(Ht.element,{scope:j.from(Tt)})}),Ht}else return Me})})},jS=function(u,c,h){return Te(u,function(w,k){return mw(u,k,c,h)?[]:[mu(w,c)]})},T4=function(u,c,h){var w=u[c];return Te(w.cells,function(k,R){return mw(u,c,R,h)?[]:[k]})},GS=function(u,c,h,w,k){var R=bo(u).rows,z=Te(c,function(Me){return jS(R,Me,w)}),K=at(u,function(Me){return Kp(Me.cells)}),ue=A4(z,K),ye=WS(h,K);return eg(u,z,w,k,ud,ye,ue)},O4=function(u,c,h,w,k,R,z){var K=bo(u),ue=K.cols,ye=K.rows,Me=ye[c[0]],ht=Te(c,function(Rn){return T4(ye,Rn,k)}),Ht=at(Me.cells,function(Rn,jr){return Kp(jS(ye,jr,k))}),Tt=rn([],ye,!0);ot(c,function(Rn){Tt[Rn]=z.transformRow(ye[Rn],h)});var gt=ue.concat(Tt),Yt=k4(Me,Ht),tn=E4(w,Ht);return eg(gt,ht,k,R,z.transformCell,tn,Yt)},gw=function(u,c,h,w){var k=bo(u).rows,R=at(c,function(z){return mu(k[z.row],z.column)});return eg(u,R,h,w,ud,j.none,se)},tg=function(u){var c=function(h,w){var k=B(h,function(R){return R.column===w.column});return k?h:h.concat([w])};return te(u,c,[]).sort(function(h,w){return h.column-w.column})},au=Jo("col"),pw=Jo("colgroup"),ng=function(u){return ta(u)==="tr"||pw(u)},cm=function(u){var c=Qs(u,"colspan",1),h=Qs(u,"rowspan",1);return{element:u,colspan:c,rowspan:h}},_0=function(u,c){c===void 0&&(c=cm);var h=function(K){return au(K.element)?u.col(K):u.cell(K)},w=function(K){return pw(K.element)?u.colgroup(K):u.row(K)},k=function(K){if(ng(K))return w({element:K});var ue=h(c(K));return R=j.some({item:K,replacement:ue}),ue},R=j.none(),z=function(K,ue){return R.fold(function(){return k(K)},function(ye){return ue(K,ye.item)?ye.replacement:k(K)})};return{getOrInit:z}},D4=function(u){return function(c){var h=[],w=function(z,K){return Ve(h,function(ue){return K(ue.item,z)})},k=function(z){var K=u==="td"?{scope:null}:{},ue=c.replace(z,u,K);return h.push({item:z,sub:ue}),ue},R=function(z,K){return ng(z)||au(z)?z:w(z,K).fold(function(){return k(z)},function(ue){return K(z,ue.item)?ue.sub:k(z)})};return{replaceOrInit:R}}},qS=function(u){return Kr(u,"scope").map(function(c){return c.substr(0,3)})},bw=function(u){var c=function(w){var k=qS(w);return k.each(function(R){return Lo(w,"scope",R)}),function(){var R=u.cell({element:w,colspan:1,rowspan:1});return _i(R,"width"),_i(w,"width"),k.each(function(z){return Lo(R,"scope",z)}),R}},h=function(w){var k=function(){var R=Mo(at(w,qS));if(R.length===0)return j.none();var z=R[0],K=["row","col"],ue=B(R,function(ye){return ye!==z&&st(K,ye)});return ue?j.none():j.from(z)};return _i(w[0],"width"),k().fold(function(){return Ba(w[0],"scope")},function(R){return Lo(w[0],"scope",R+"group")}),me(w[0])};return{unmerge:c,merge:h}},Lu={modification:_0,transform:D4,merging:bw},e1=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],R4=function(u,c){var h=u.property().name(c);return st(["ol","ul"],h)},fm=function(u,c){var h=u.property().name(c);return st(e1,h)},sd=function(u,c){return st(["br","img","hr","input"],u.property().name(c))},rg=_p(),ld=function(u){return fm(rg,u)},gc=function(u){return R4(rg,u)},pc=function(u){return sd(rg,u)},S0=function(u){var c=function(ue){return ta(ue)==="br"},h=function(ue){return Ae(ue,function(ye){return c(ye)||Js(ye)&&yb(ye).trim().length===0})},w=function(ue){return ta(ue)==="li"||Xa(ue,gc).isSome()},k=function(ue){return Ge(ue).map(function(ye){return ld(ye)?!0:pc(ye)?ta(ye)!=="img":!1}).getOr(!1)},R=function(ue){return Rb(ue).bind(function(ye){var Me=k(ye);return xo(ye).map(function(ht){return Me===!0||w(ht)||c(ye)||ld(ht)&&!ea(ue,ht)?[]:[en.fromTag("br")]})}).getOr([])},z=function(){var ue=Te(u,function(ye){var Me=ai(ye);return h(Me)?[]:Me.concat(R(ye))});return ue.length===0?[en.fromTag("br")]:ue},K=z();wp(u[0]),oc(u[0],K)},x0=function(u){return zp(u,!0)},yw=function(u){var c=jf(u);c.length===0&&Pu(u)},ag=function(u,c){return{grid:u,cursor:c}},og=function(u){return Rt(u,function(c){return Rt(c.cells,function(h){var w=h.element;return ya(x0(w),w)})})},ig=function(u,c,h){var w,k,R=bo(u).rows;return j.from((k=(w=R[c])===null||w===void 0?void 0:w.cells[h])===null||k===void 0?void 0:k.element).filter(x0).orThunk(function(){return og(R)})},Ki=function(u,c,h){var w=ig(u,c,h);return ag(u,w)},ug=function(u){var c=function(h,w){var k=B(h,function(R){return R.row===w.row});return k?h:h.concat([w])};return te(u,c,[]).sort(function(h,w){return h.row-w.row})},sg=function(u,c,h,w){var k=c[0].row,R=ug(c),z=_n(R,function(K,ue){var ye=fw(K.grid,k,ue.row+K.delta,h,w.getOrInit);return{grid:ye,delta:K.delta+1}},{grid:u,delta:0}).grid;return Ki(z,k,c[0].column)},k0=function(u,c,h,w){var k=ug(c),R=k[k.length-1],z=R.row+R.rowspan,K=_n(k,function(ue,ye){return fw(ue,z,ye.row,h,w.getOrInit)},u);return Ki(K,z,c[0].column)},$4=function(u,c,h,w){var k=c.details,R=tg(k),z=R[0].column,K=_n(R,function(ue,ye){var Me=vw(ue.grid,z,ye.column+ue.delta,h,w.getOrInit);return{grid:Me,delta:ue.delta+1}},{grid:u,delta:0}).grid;return Ki(K,k[0].row,z)},ww=function(u,c,h,w){var k=c.details,R=k[k.length-1],z=R.column+R.colspan,K=tg(k),ue=_n(K,function(ye,Me){return vw(ye,z,Me.column,h,w.getOrInit)},u);return Ki(ue,k[0].row,z)},A0=function(u,c,h,w){var k=tg(c),R=at(k,function(K){return K.column}),z=GS(u,R,!0,h,w.replaceOrInit);return Ki(z,c[0].row,c[0].column)},Ri=function(u,c,h,w){var k=gw(u,c,h,w.replaceOrInit);return Ki(k,c[0].row,c[0].column)},B4=function(u,c,h,w){var k=tg(c),R=at(k,function(K){return K.column}),z=GS(u,R,!1,h,w.replaceOrInit);return Ki(z,c[0].row,c[0].column)},nf=function(u,c,h,w){var k=gw(u,c,h,w.replaceOrInit);return Ki(k,c[0].row,c[0].column)},E0=function(u,c){return function(h,w,k,R,z){var K=ug(w),ue=at(K,function(Me){return Me.row}),ye=O4(h,ue,u,c,k,R.replaceOrInit,z);return Ki(ye,w[0].row,w[0].column)}},Cw=E0("thead",!0),lg=E0("tbody",!1),_w=E0("tfoot",!1),t1=function(u,c,h,w){var k=tg(c.details),R=VS(u,at(k,function(K){return K.column})),z=R.length>0?R[0].cells.length-1:0;return Ki(R,k[0].row,Math.min(k[0].column,z))},M4=function(u,c,h,w){var k=ug(c),R=US(u,k[0].row,k[k.length-1].row),z=R.length>0?R.length-1:0;return Ki(R,Math.min(c[0].row,z),c[0].column)},KS=function(u,c,h,w){var k=c.cells;S0(k);var R=IS(u,c.bounds,h,w.merge(k));return ag(R,j.from(k[0]))},XS=function(u,c,h,w){var k=function(z,K){return Yh(z,K,h,w.unmerge(K))},R=_n(c,k,u);return ag(R,j.from(c[0]))},P4=function(u,c,h,w){var k=function(ue,ye){var Me=gr.fromTable(ue);return id(Me,ye,!0)},R=k(c.clipboard,c.generators),z=aa(c.row,c.column),K=S4(z,u,R,c.generators,h);return K.fold(function(){return ag(u,j.some(c.element))},function(ue){return Ki(ue,c.row,c.column)})},cg=function(u,c,h){var w=bp(u,h.section),k=gr.generate(w);return id(k,c,!0)},ho=function(u,c,h,w){var k=bo(u).rows,R=c.cells[0].column,z=k[c.cells[0].row],K=cg(c.clipboard,c.generators,z),ue=Zh(R,u,K,c.generators,h);return Ki(ue,c.cells[0].row,c.cells[0].column)},T0=function(u,c,h,w){var k=bo(u).rows,R=c.cells[c.cells.length-1].column+c.cells[c.cells.length-1].colspan,z=k[c.cells[0].row],K=cg(c.clipboard,c.generators,z),ue=Zh(R,u,K,c.generators,h);return Ki(ue,c.cells[0].row,c.cells[0].column)},O0=function(u,c,h,w){var k=bo(u).rows,R=c.cells[0].row,z=k[R],K=cg(c.clipboard,c.generators,z),ue=LS(R,u,K,c.generators,h);return Ki(ue,c.cells[0].row,c.cells[0].column)},Sw=function(u,c,h,w){var k=bo(u).rows,R=c.cells[c.cells.length-1].row+c.cells[c.cells.length-1].rowspan,z=k[c.cells[0].row],K=cg(c.clipboard,c.generators,z),ue=LS(R,u,K,c.generators,h);return Ki(ue,c.cells[0].row,c.cells[0].column)},YS=function(u,c){var h=gr.fromTable(u),w=hc(h,c);return w.bind(function(k){var R=k[k.length-1],z=k[0].column,K=R.column+R.colspan,ue=Jn(at(h.all,function(ye){return ct(ye.cells,function(Me){return Me.column>=z&&Me.column<K})}));return aw(ue)}).getOr("")},xw=function(u,c){var h=gr.fromTable(u),w=hc(h,c);return w.bind(aw).getOr("")},vm=function(u,c){var h=gr.fromTable(u),w=hc(h,c);return w.bind(function(k){var R=k[k.length-1],z=k[0].row,K=R.row+R.rowspan,ue=h.all.slice(z,K);return l4(ue)}).getOr("")},D0=function(u,c,h,w){return fc(u,c,h,w.sizing)},Hu=function(u,c,h,w){return vS(u,c,h,w.sizing,w.resize)},bc=function(u,c){return B(c,function(h){return h.column===0&&h.isLocked})},R0=function(u,c){return B(c,function(h){return h.column+h.colspan>=u.grid.columns&&h.isLocked})},sv=function(u,c){var h=Ld(u),w=tg(c);return te(w,function(k,R){var z=h[R.column],K=z.map(Wi).getOr(0);return k+K},0)},Pl=function(u){return function(c,h){return hc(c,h).filter(function(w){var k=u?bc:R0;return!k(c,w)}).map(function(w){return{details:w,pixelDelta:sv(c,w)}})}},yc=function(u,c){return uv(u,c).map(function(h){return{details:h,pixelDelta:-sv(u,h)}})},ou=function(u){return function(c,h){return uw(c,h).filter(function(w){var k=u?bc:R0;return!k(c,w.cells)})}},ol=Lu.transform("th"),fg=Lu.transform("td"),rf=si(sg,hc,Z,Z,Lu.modification),dm=si(k0,hc,Z,Z,Lu.modification),JS=si($4,Pl(!0),Hu,Z,Lu.modification),ZS=si(ww,Pl(!1),Hu,Z,Lu.modification),I4=si(t1,yc,Hu,yw,Lu.modification),N4=si(M4,hc,Z,yw,Lu.modification),QS=si(A0,uv,Z,Z,ol),ex=si(B4,uv,Z,Z,fg),tx=si(Cw,uv,Z,Z,ol),z4=si(lg,uv,Z,Z,fg),nx=si(_w,uv,Z,Z,fg),F4=si(Ri,uv,Z,Z,ol),rx=si(nf,uv,Z,Z,fg),ax=si(KS,sw,D0,Z,Lu.merging),kw=si(XS,y0,D0,Z,Lu.merging),ox=si(P4,RS,D0,Z,Lu.modification),L4=si(ho,ou(!0),Z,Z,Lu.modification),Br=si(T0,ou(!1),Z,Z,Lu.modification),mm=si(O0,uw,Z,Z,Lu.modification),vg=si(Sw,uw,Z,Z,Lu.modification),Aw=YS,H4=xw,Vu=vm,V4=function(u,c,h){var w=function(vi){return ta(qc(vi))==="table"},k=function(vi){return w(u)===!1||M2(vi).rows>1},R=function(vi){return w(u)===!1||M2(vi).columns>1},z=l0(u),K=X2(u)?Z:u4,ue=function(vi){switch(Ml(u)){case"section":return Xp.section();case"sectionCells":return Xp.sectionCells();case"cells":return Xp.cells();default:return Xp.getTableSectionType(vi,"section")}},ye=function(vi,S1){return S1.cursor.fold(function(){var hv=jf(vi);return ut(hv).filter(ec).map(function(Cc){c.clear(vi);var Hs=u.dom.createRng();return Hs.selectNode(Cc.dom),u.selection.setRng(Hs),Lo(Cc,"data-mce-selected","1"),Hs})},function(hv){var Cc=TS(hv),Hs=u.dom.createRng();return Hs.setStart(Cc.element.dom,Cc.offset),Hs.setEnd(Cc.element.dom,Cc.offset),u.selection.setRng(Hs),c.clear(vi),j.some(Hs)})},Me=function(vi,S1,hv,Cc,Hs){return function(mf,by,Bg){Bg===void 0&&(Bg=!1),pu(mf);var Mg=Cc(),Pg=en.fromDom(u.getDoc()),_c=ur(hv,Pg,z),Ig={sizing:Q2(u,mf),resize:X2(u)?zb():Xd(),section:ue(mf)};return S1(mf)?vi(Mg,mf,by,_c,Ig).bind(function(Ng){ot(Ng.newRows,function(zg){n0(u,zg.dom)}),ot(Ng.newCells,function(zg){r0(u,zg.dom)});var OC=ye(mf,Ng);return ec(mf)&&(pu(mf),Bg||Qc(u,mf.dom,Hs)),OC.map(function(zg){return{rng:zg,effect:Hs}})}):j.none()}},ht=Me(N4,k,Z,h,qa),Ht=Me(I4,R,Z,h,qa),Tt=Me(rf,se,Z,h,qa),gt=Me(dm,se,Z,h,qa),Yt=Me(JS,se,K,h,qa),tn=Me(ZS,se,K,h,qa),Rn=Me(ax,se,Z,h,qa),jr=Me(kw,se,Z,h,qa),On=Me(L4,se,Z,h,qa),nr=Me(Br,se,Z,h,qa),xr=Me(mm,se,Z,h,qa),Cr=Me(vg,se,Z,h,qa),Co=Me(ox,se,Z,h,QA),ci=Me(F4,se,Z,h,qa),fi=Me(rx,se,Z,h,qa),zr=Me(QS,se,Z,h,qa),or=Me(ex,se,Z,h,qa),$r=Me(tx,se,Z,h,qa),fa=Me(z4,se,Z,h,qa),io=Me(nx,se,Z,h,qa),mv=H4,ca=Aw,ds=Vu;return{deleteRow:ht,deleteColumn:Ht,insertRowsBefore:Tt,insertRowsAfter:gt,insertColumnsBefore:Yt,insertColumnsAfter:tn,mergeCells:Rn,unmergeCells:jr,pasteColsBefore:On,pasteColsAfter:nr,pasteRowsBefore:xr,pasteRowsAfter:Cr,pasteCells:Co,makeCellsHeader:ci,unmakeCellsHeader:fi,makeColumnsHeader:zr,unmakeColumnsHeader:or,makeRowsHeader:$r,makeRowsBody:fa,makeRowsFooter:io,getTableRowType:ds,getTableCellType:mv,getTableColType:ca}},hm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},cd=function(){return en.fromTag("th")},$0=function(){return en.fromTag("td")},B0=function(){return en.fromTag("col")},U4=function(u,c,h,w){for(var k=en.fromTag("tr"),R=0;R<u;R++){var z=w<c||R<h?cd():$0();R<h&&Lo(z,"scope","row"),w<c&&Lo(z,"scope","col"),ao(z,en.fromTag("br")),ao(k,z)}return k},ix=function(u){var c=en.fromTag("colgroup");return kt(u,function(){return ao(c,B0())}),c},M0=function(u,c,h,w){return kt(u,function(k){return U4(c,h,w,k)})},Ew=function(u,c,h,w,k,R){R===void 0&&(R=hm);var z=en.fromTag("table"),K=k!=="cells";Fc(z,R.styles),Ao(z,R.attributes),R.colGroups&&ao(z,ix(c));var ue=Math.min(u,h);if(K&&h>0){var ye=en.fromTag("thead");ao(z,ye);var Me=k==="sectionCells"?ue:0,ht=M0(h,c,Me,w);oc(ye,ht)}var Ht=en.fromTag("tbody");ao(z,Ht);var Tt=K?u-ue:u,gt=K?0:h,Yt=M0(Tt,c,gt,w);return oc(Ht,Yt),z},dg=function(u){return u.dom.innerHTML},P0=function(u){var c=en.fromTag("div"),h=en.fromDom(u.dom.cloneNode(!0));return ao(c,h),dg(c)},W4=function(u,c){u.selection.select(c.dom,!0),u.selection.collapse(!0)},af=function(u,c){rs(c,"td,th").each(ge(W4,u))},Tw=function(u,c){ot(ns(c,"tr"),function(h){n0(u,h.dom),ot(ns(h,"th,td"),function(w){r0(u,w.dom)})})},Ow=function(u){return _(u)&&u.indexOf("%")!==-1},mg=function(u,c,h,w,k){var R=i0(u),z={styles:R,attributes:Hp(u),colGroups:u0(u)};return u.undoManager.ignore(function(){var K=Ew(h,c,k,w,Ml(u),z);Lo(K,"data-mce-id","__mce");var ue=P0(K);u.insertContent(ue),u.addVisual()}),rs(qc(u),'table[data-mce-id="__mce"]').map(function(K){return iv(u)?Gh(K):Wh(u)?c0(K):(mt(u)||Ow(R.width))&&jh(K),pu(K),Ba(K,"data-mce-id"),Tw(u,K),af(u,K),K.dom}).getOr(null)},Dw=function(u,c,h,w,k){w===void 0&&(w={});var R=function(ue){return V(ue)&&ue>0};if(R(c)&&R(h)){var z=w.headerRows||0,K=w.headerColumns||0;return mg(u,h,c,K,z)}else return console.error(k),null},n1=function(u){return function(){return u().fold(function(){return[]},function(c){return at(c,function(h){return h.dom})})}},ux=function(u){return function(c){var h=c.length>0?j.some(cs(c)):j.none();u(h)}},j4=function(u){return function(c,h,w){w===void 0&&(w={});var k=Dw(u,h,c,w,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),k}},of=function(u,c,h,w){return{insertTable:j4(u),setClipboardRows:ux(c.setRows),getClipboardRows:n1(c.getRows),setClipboardCols:ux(c.setColumns),getClipboardCols:n1(c.getColumns),resizeHandler:h,selectionTargets:w}},vs=function(u,c,h){var w=Qs(u,c,1);h===1||w<=1?Ba(u,c):Lo(u,c,Math.min(h,w))},$i=function(u,c,h){if(gr.hasColumns(u)){var w=ct(gr.justColumns(u),function(z){return z.column>=c&&z.column<h}),k=at(w,function(z){var K=sa(z.element);return vs(K,"span",h-c),K}),R=en.fromTag("colgroup");return oc(R,k),[R]}else return[]},G4=function(u,c,h){return at(u.all,function(w){var k=ct(w.cells,function(K){return K.column>=c&&K.column<h}),R=at(k,function(K){var ue=sa(K.element);return vs(ue,"colspan",h-c),ue}),z=en.fromTag("tr");return oc(z,R),z})},Rw=function(u,c){var h=gr.fromTable(u),w=uv(h,c);return w.map(function(k){var R=k[k.length-1],z=k[0].column,K=R.column+R.colspan,ue=$i(h,z,K),ye=G4(h,z,K);return rn(rn([],ue,!0),ye,!0)})},hg=function(u,c,h){var w=gr.fromTable(u),k=hc(w,c);return k.bind(function(R){var z=id(w,h,!1),K=bo(z).rows,ue=K.slice(R[0].row,R[R.length-1].row+R[R.length-1].rowspan),ye=Te(ue,function(ht){var Ht=ct(ht.cells,function(Tt){return!Tt.isLocked});return Ht.length>0?[Ft(Ft({},ht),{cells:Ht})]:[]}),Me=g0(ye);return ya(Me.length>0,Me)}).map(function(R){return iw(R)})},$w=tinymce.util.Tools.resolve("tinymce.util.Tools"),r1=function(u,c,h){var w=u.select("td,th",c),k,R=function(z,K){for(var ue=0;ue<K.length;ue++){var ye=u.getStyle(K[ue],h);if(typeof z>"u"&&(z=ye),z!==ye)return""}return z};return R(k,w)},Bw=function(u,c,h){h&&u.formatter.apply("align"+h,{},c)},q4=function(u,c,h){h&&u.formatter.apply("valign"+h,{},c)},an=function(u,c){$w.each("left center right".split(" "),function(h){u.formatter.remove("align"+h,{},c)})},Xo=function(u,c){$w.each("top middle bottom".split(" "),function(h){u.formatter.remove("valign"+h,{},c)})},gg=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],li=function(u){return{value:u}},il=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Mw=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,a1=function(u){return il.test(u)||Mw.test(u)},I0=function(u){return Xl(u,"#").toUpperCase()},N0=function(u){return a1(u)?j.some({value:I0(u)}):j.none()},z0=function(u){var c=u.toString(16);return(c.length===1?"0"+c:c).toUpperCase()},fd=function(u){var c=z0(u.red)+z0(u.green)+z0(u.blue);return li(c)},o1=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Pw=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Iw=function(u,c,h,w){return{red:u,green:c,blue:h,alpha:w}},Nw=function(u,c,h,w){var k=parseInt(u,10),R=parseInt(c,10),z=parseInt(h,10),K=parseFloat(w);return Iw(k,R,z,K)},K4=function(u){if(u==="transparent")return j.some(Iw(0,0,0,0));var c=o1.exec(u);if(c!==null)return j.some(Nw(c[1],c[2],c[3],"1"));var h=Pw.exec(u);return h!==null?j.some(Nw(h[1],h[2],h[3],h[4])):j.none()},sx=function(u){return N0(u).orThunk(function(){return K4(u).map(fd)}).getOrThunk(function(){var c=document.createElement("canvas");c.height=1,c.width=1;var h=c.getContext("2d");h.clearRect(0,0,c.width,c.height),h.fillStyle="#FFFFFF",h.fillStyle=u,h.fillRect(0,0,1,1);var w=h.getImageData(0,0,1,1).data,k=w[0],R=w[1],z=w[2],K=w[3];return fd(Iw(k,R,z,K))})},lv=function(u){var c=u,h=function(){return c},w=function(k){c=k};return{get:h,set:w}},uf=function(u){var c=lv(j.none()),h=function(){return c.get().each(u)},w=function(){h(),c.set(j.none())},k=function(){return c.get().isSome()},R=function(){return c.get()},z=function(K){h(),c.set(j.some(K))};return{clear:w,isSet:k,get:R,set:z}},gm=function(){return uf(function(u){return u.unbind()})},pg=function(){var u=uf(Z),c=function(h){return u.get().each(h)};return Ft(Ft({},u),{on:c})},zw=function(u,c,h,w){return function(k){var R=gm(),z=lo(w),K=function(){var ue=Gi(c),ye=function(Me){return u.formatter.match(h,{value:w},Me.dom,z)};z?(k.setActive(!B(ue,ye)),R.set(u.formatter.formatChanged(h,function(Me){return k.setActive(!Me)},!0))):(k.setActive(Ae(ue,ye)),R.set(u.formatter.formatChanged(h,k.setActive,!1,{value:w})))};return u.initialized?K():u.on("init",K),R.clear}},F0=function(u){return Ie(u,"menu")},sf=function(u){return at(u,function(c){var h=c.text||c.title;return F0(c)?{text:h,items:sf(c.menu)}:{text:h,value:c.value}})},Il=function(u,c,h,w,k){return at(h,function(R){var z=R.text||R.title;return F0(R)?{type:"nestedmenuitem",text:z,getSubmenuItems:function(){return Il(u,c,R.menu,w,k)}}:{text:z,type:"togglemenuitem",onAction:function(){return k(R.value)},onSetup:zw(u,c,w,R.value)}})},vd=function(u,c){return function(h){var w;u.execCommand("mceTableApplyCellStyle",!1,(w={},w[c]=h,w))}},dd=function(u){return Te(u,function(c){return F0(c)?[Ft(Ft({},c),{menu:dd(c.menu)})]:Pr(c.value)?[c]:[]})},pm=function(u,c,h,w,k){return function(R){return R(Il(u,c,h,w,k))}},bg=function(u,c,h){var w=at(c,function(k){return{text:k.title,value:"#"+sx(k.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:w.length>0?w:void 0,allowCustomColors:!1},onAction:function(k){var R,z=k.value==="remove"?"":k.value;u.execCommand("mceTableApplyCellStyle",!1,(R={},R[h]=z,R))}}]},Fw=function(u){return function(){var c=u.queryCommandValue("mceTableRowType"),h=c==="header"?"body":"header";u.execCommand("mceTableRowType",!1,{type:h})}},Lw=function(u){return function(){var c=u.queryCommandValue("mceTableColType"),h=c==="th"?"td":"th";u.execCommand("mceTableColType",!1,{type:h})}},Hw=function(u){var c=sf(ef(u));return c.length>0?j.some({name:"class",type:"listbox",label:"Class",items:c}):j.none()},L0=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:gg}],Bi=function(u){return L0.concat(Hw(u).toArray())},Fs=function(u,c){var h=[{text:"Select...",value:""}],w=[{name:"borderstyle",type:"listbox",label:"Border style",items:h.concat(sf(nu(u)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],k={name:"borderwidth",type:"input",label:"Border width"},R=c==="cell"?[k].concat(w):w;return{title:"Advanced",name:"advanced",items:R}},ul=function(u){return function(c,h){var w=c.dom,k=function(K,ue){(!u||ue)&&w.setAttrib(h,K,ue)},R=function(K,ue){(!u||ue)&&w.setStyle(h,K,ue)},z=function(K,ue){(!u||ue)&&(ue===""?c.formatter.remove(K,{value:null},h,!0):c.formatter.apply(K,{value:ue},h))};return{setAttrib:k,setStyle:R,setFormat:z}}},lf={normal:ul(!1),ifTruthy:ul(!0)},yg=function(u){return function(c){return yi(c,"rgb")?u.toHex(c):c}},H0=function(u,c){var h=en.fromDom(c);return{borderwidth:du(h,"border-width").getOr(""),borderstyle:du(h,"border-style").getOr(""),bordercolor:du(h,"border-color").map(yg(u)).getOr(""),backgroundcolor:du(h,"background-color").map(yg(u)).getOr("")}},md=function(u){var c=u[0],h=u.slice(1);return ot(h,function(w){ot(cu(c),function(k){Ra(w,function(R,z){var K=c[k];K!==""&&k===z&&K!==R&&(c[k]="")})})}),c},bm=function(u,c,h,w){return Ve(u,function(k){return!W(h.formatter.matchNode(w,c+k))}).getOr("")},ym=ge(bm,["left","center","right"],"align"),X4=ge(bm,["top","middle","bottom"],"valign"),Vw=function(u,c){var h=i0(u),w=Hp(u),k=function(Me){return{borderstyle:$u(h,"border-style").getOr(""),bordercolor:yg(Me)($u(h,"border-color").getOr("")),backgroundcolor:yg(Me)($u(h,"background-color").getOr(""))}},R={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},z=function(){var Me=h["border-width"];return ru(u)&&Me?{border:Me}:$u(w,"border").fold(function(){return{}},function(ht){return{border:ht}})},K=c?k(u.dom):{},ue=function(){var Me=$u(h,"border-spacing").or($u(w,"cellspacing")).fold(function(){return{}},function(Ht){return{cellspacing:Ht}}),ht=$u(h,"border-padding").or($u(w,"cellpadding")).fold(function(){return{}},function(Ht){return{cellpadding:Ht}});return Ft(Ft({},Me),ht)},ye=Ft(Ft(Ft(Ft(Ft(Ft({},R),h),w),K),z()),ue());return ye},lx=function(u){return ja(en.fromDom(u)).map(function(c){var h={selection:cs(u.cells)};return Vu(c,h)}).getOr("")},cx=function(u,c,h){var w=function(K,ue){var ye=du(en.fromDom(ue),"border-width");return ru(u)&&ye.isSome()?ye.getOr(""):K.getAttrib(ue,"border")||r1(u.dom,ue,"border-width")||r1(u.dom,ue,"border")},k=u.dom,R=ru(u)?k.getStyle(c,"border-spacing")||k.getAttrib(c,"cellspacing"):k.getAttrib(c,"cellspacing")||k.getStyle(c,"border-spacing"),z=ru(u)?r1(k,c,"padding")||k.getAttrib(c,"cellpadding"):k.getAttrib(c,"cellpadding")||r1(k,c,"padding");return Ft({width:k.getStyle(c,"width")||k.getAttrib(c,"width"),height:k.getStyle(c,"height")||k.getAttrib(c,"height"),cellspacing:R,cellpadding:z,border:w(k,c),caption:!!k.select("caption",c)[0],class:k.getAttrib(c,"class",""),align:ym(u,c)},h?H0(k,c):{})},Uw=function(u,c,h){var w=u.dom;return Ft({height:w.getStyle(c,"height")||w.getAttrib(c,"height"),class:w.getAttrib(c,"class",""),type:lx(c),align:ym(u,c)},h?H0(w,c):{})},Ww=function(u,c,h,w){var k=u.dom,R=w.getOr(c),z=function(K,ue){return k.getStyle(K,ue)||k.getAttrib(K,ue)};return Ft({width:z(R,"width"),height:z(c,"height"),scope:k.getAttrib(c,"scope"),celltype:E2(c),class:k.getAttrib(c,"class",""),halign:ym(u,c),valign:X4(u,c)},h?H0(k,c):{})},pa=function(u,c){var h=gr.fromTable(u),w=gr.justCells(h),k=ct(w,function(R){return B(c,function(z){return ea(R.element,z)})});return at(k,function(R){return{element:R.element.dom,column:gr.getColumnAt(h,R.column).map(function(z){return z.element.dom})}})},cf=function(u,c,h){u.setAttrib("scope",h.scope),u.setAttrib("class",h.class),u.setStyle("height",Zo(h.height)),c.setStyle("width",Zo(h.width))},fx=function(u,c){u.setFormat("tablecellbackgroundcolor",c.backgroundcolor),u.setFormat("tablecellbordercolor",c.bordercolor),u.setFormat("tablecellborderstyle",c.borderstyle),u.setFormat("tablecellborderwidth",Zo(c.borderwidth))},vx=function(u,c,h){var w=c.length===1;ot(c,function(k){var R=k.element,z=w?lf.normal(u,R):lf.ifTruthy(u,R),K=k.column.map(function(ue){return w?lf.normal(u,ue):lf.ifTruthy(u,ue)}).getOr(z);cf(z,K,h),Up(u)&&fx(z,h),w&&(an(u,R),Xo(u,R)),h.halign&&Bw(u,R,h.halign),h.valign&&q4(u,R,h.valign)})},dx=function(u,c){u.execCommand("mceTableCellType",!1,{type:c.celltype,no_events:!0})},V0=function(u,c,h,w){var k=_l(w,function(R,z){return h[z]!==R});Ss(k)>0&&c.length>=1&&ja(c[0]).each(function(R){var z=pa(R,c),K=Ss(_l(k,function(ye,Me){return Me!=="scope"&&Me!=="celltype"}))>0,ue=ie(k,"celltype");(K||ie(k,"scope"))&&vx(u,z,w),ue&&dx(u,w),Qc(u,R.dom,{structure:ue,style:K})})},jw=function(u,c,h,w){var k=w.getData();w.close(),u.undoManager.transact(function(){V0(u,c,h,k),u.focus()})},i1=function(u,c){var h=ja(c[0]).map(function(w){return at(pa(w,c),function(k){return Ww(u,k.element,Up(u),k.column)})});return md(h.getOrDie())},Gn=function(u,c){var h=Gi(c);if(h.length!==0){var w=i1(u,h),k={type:"tabpanel",tabs:[{title:"General",name:"general",items:Bi(u)},Fs(u,"cell")]},R={type:"panel",items:[{type:"grid",columns:2,items:Bi(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:Up(u)?k:R,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onSubmit:ge(jw,u,h,w)})}},Y4=function(u){var c=sf(ad(u));return c.length>0?j.some({name:"class",type:"listbox",label:"Class",items:c}):j.none()},Gw=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],mx=function(u){return Gw.concat(Y4(u).toArray())},qw=function(u,c){u.setAttrib("class",c.class),u.setStyle("height",Zo(c.height))},J4=function(u,c){u.setStyle("background-color",c.backgroundcolor),u.setStyle("border-color",c.bordercolor),u.setStyle("border-style",c.borderstyle)},hx=function(u,c,h,w){var k=c.length===1;ot(c,function(R){var z=k?lf.normal(u,R):lf.ifTruthy(u,R);qw(z,h),Wp(u)&&J4(z,h),h.align!==w.align&&(an(u,R),Bw(u,R,h.align))})},Kw=function(u,c){u.execCommand("mceTableRowType",!1,{type:c.type,no_events:!0})},Xw=function(u,c,h,w){var k=_l(w,function(K,ue){return h[ue]!==K});if(Ss(k)>0){var R=ie(k,"type"),z=R?Ss(k)>1:!0;z&&hx(u,c,w,h),R&&Kw(u,w),ja(en.fromDom(c[0])).each(function(K){return Qc(u,K.dom,{structure:R,style:z})})}},Z4=function(u,c,h,w){var k=w.getData();w.close(),u.undoManager.transact(function(){Xw(u,c,h,k),u.focus()})},Ls=function(u){var c=lS(qd(u),Is.selected);if(c.length!==0){var h=at(c,function(z){return Uw(u,z.dom,Wp(u))}),w=md(h),k={type:"tabpanel",tabs:[{title:"General",name:"general",items:mx(u)},Fs(u,"row")]},R={type:"panel",items:[{type:"grid",columns:2,items:mx(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:Wp(u)?k:R,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onSubmit:ge(Z4,u,at(c,function(z){return z.dom}),w)})}},xu=function(u,c,h){var w=h?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],k=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],R=mc(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],z=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],K=c.length>0?[{type:"listbox",name:"class",label:"Class",items:c}]:[];return w.concat(k).concat(R).concat(z).concat(K)},ff=function(u,c,h,w){if(c.tagName==="TD"||c.tagName==="TH")_(h)?u.setStyle(c,h,w):u.setStyle(c,h);else if(c.children)for(var k=0;k<c.children.length;k++)ff(u,c.children[k],h,w)},Q4=function(u,c,h){var w=u.dom,k={},R={};if(k.class=h.class,R.height=Zo(h.height),w.getAttrib(c,"width")&&!ru(u)?k.width=Gv(h.width):R.width=Zo(h.width),ru(u)?(R["border-width"]=Zo(h.border),R["border-spacing"]=Zo(h.cellspacing)):(k.border=h.border,k.cellpadding=h.cellpadding,k.cellspacing=h.cellspacing),ru(u)&&c.children)for(var z=0;z<c.children.length;z++)ff(w,c.children[z],{"border-width":Zo(h.border),padding:Zo(h.cellpadding)}),Su(u)&&ff(w,c.children[z],{"border-color":h.bordercolor});Su(u)&&(R["background-color"]=h.backgroundcolor,R["border-color"]=h.bordercolor,R["border-style"]=h.borderstyle),k.style=w.serializeStyle(Ft(Ft({},i0(u)),R)),w.setAttribs(c,Ft(Ft({},Hp(u)),k))},eE=function(u,c,h,w){var k=u.dom,R=w.getData(),z=_l(R,function(K,ue){return h[ue]!==K});w.close(),R.class===""&&delete R.class,u.undoManager.transact(function(){if(!c){var K=parseInt(R.cols,10)||1,ue=parseInt(R.rows,10)||1;c=mg(u,K,ue,0,0)}if(Ss(z)>0){Q4(u,c,R);var ye=k.select("caption",c)[0];(ye&&!R.caption||!ye&&R.caption)&&u.execCommand("mceTableToggleCaption"),R.align===""?an(u,c):Bw(u,c,R.align)}if(u.focus(),u.addVisual(),Ss(z)>0){var Me=ie(z,"caption"),ht=Me?Ss(z)>1:!0;Qc(u,c,{structure:Me,style:ht})}})},Yw=function(u,c){var h=u.dom,w,k=Vw(u,Su(u));c===!1?(w=h.getParent(u.selection.getStart(),"table",u.getBody()),w?k=cx(u,w,Su(u)):Su(u)&&(k.borderstyle="",k.bordercolor="",k.backgroundcolor="")):(k.cols="1",k.rows="1",Su(u)&&(k.borderstyle="",k.bordercolor="",k.backgroundcolor=""));var R=sf(jp(u));R.length>0&&k.class&&(k.class=k.class.replace(/\s*mce\-item\-table\s*/g,""));var z={type:"grid",columns:2,items:xu(u,R,c)},K=function(){return{type:"panel",items:[z]}},ue=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[z]},Fs(u,"table")]}},ye=Su(u)?ue():K();u.windowManager.open({title:"Table Properties",size:"normal",body:ye,onSubmit:ge(eE,u,w,k),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:k})},Sr=function(u){return Ja(qd(u),Ps(u))},tE=function(u){return Ei(qd(u),Ps(u))},U0=function(u,c,h,w,k){var R=Ps(u),z=function(){return Sr(u).each(function(On){ja(On,R).filter(De(R)).each(function(nr){var xr=en.fromText("");if(xa(nr,xr),Pu(nr),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var Cr=u.dom.createRng();Cr.setStart(xr.dom,0),Cr.setEnd(xr.dom,0),u.selection.setRng(Cr),u.nodeChanged()}})})},K=function(On){return Sr(u).each(function(nr){var xr=Wh(u)||iv(u)||mt(u);xr||ja(nr,R).each(function(Cr){On==="relative"&&!Vb(Cr)?jh(Cr):On==="fixed"&&!Ti(Cr)?Gh(Cr):On==="responsive"&&!Ub(Cr)&&c0(Cr),pu(Cr),Qc(u,Cr.dom,qa)})})},ue=function(On){return ja(On,R)},ye=function(On){return tE(u).bind(function(nr){return ue(nr).map(function(xr){return On(xr,nr)})})},Me=function(On,nr){ye(function(xr){u.formatter.toggle("tableclass",{value:nr},xr.dom),Qc(u,xr.dom,am)})},ht=function(On,nr){ye(function(xr){var Cr=Gi(w),Co=Ae(Cr,function(fi){return u.formatter.match("tablecellclass",{value:nr},fi.dom)}),ci=Co?u.formatter.remove:u.formatter.apply;ot(Cr,function(fi){return ci("tablecellclass",{value:nr},fi.dom)}),Qc(u,xr.dom,am)})},Ht=function(){Sr(u).each(function(On){ja(On,R).each(function(nr){Xn(nr,"caption").fold(function(){var xr=en.fromTag("caption");ao(xr,en.fromText("Caption")),CA(nr,xr,0),u.selection.setCursorLocation(xr.dom,0)},function(xr){Jo("caption")(On)&&Mf("td",nr).each(function(Cr){return u.selection.setCursorLocation(Cr.dom,0)}),Pu(xr)}),Qc(u,nr.dom,qa)})})},Tt=function(On){u.focus()},gt=function(On,nr){return nr===void 0&&(nr=!1),ye(function(xr,Cr){var Co=Kd(w,xr,Cr);On(xr,Co,nr).each(Tt)})},Yt=function(){return ye(function(On,nr){var xr=Kd(w,On,nr),Cr=ur(Z,en.fromDom(u.getDoc()),j.none());return hg(On,xr,Cr)})},tn=function(){return ye(function(On,nr){var xr=Kd(w,On,nr);return Rw(On,xr)})},Rn=function(On,nr){return nr().each(function(xr){var Cr=at(xr,function(Co){return sa(Co)});ye(function(Co,ci){var fi=Ms(en.fromDom(u.getDoc())),zr=O2(w,ci,Cr,fi);On(Co,zr).each(Tt)})})},jr=function(On){return function(nr,xr){return $u(xr,"type").each(function(Cr){gt(On(Cr),xr.no_events)})}};Ra({mceTableSplitCells:function(){return gt(c.unmergeCells)},mceTableMergeCells:function(){return gt(c.mergeCells)},mceTableInsertRowBefore:function(){return gt(c.insertRowsBefore)},mceTableInsertRowAfter:function(){return gt(c.insertRowsAfter)},mceTableInsertColBefore:function(){return gt(c.insertColumnsBefore)},mceTableInsertColAfter:function(){return gt(c.insertColumnsAfter)},mceTableDeleteCol:function(){return gt(c.deleteColumn)},mceTableDeleteRow:function(){return gt(c.deleteRow)},mceTableCutCol:function(){return tn().each(function(On){k.setColumns(On),gt(c.deleteColumn)})},mceTableCutRow:function(){return Yt().each(function(On){k.setRows(On),gt(c.deleteRow)})},mceTableCopyCol:function(){return tn().each(function(On){return k.setColumns(On)})},mceTableCopyRow:function(){return Yt().each(function(On){return k.setRows(On)})},mceTablePasteColBefore:function(){return Rn(c.pasteColsBefore,k.getColumns)},mceTablePasteColAfter:function(){return Rn(c.pasteColsAfter,k.getColumns)},mceTablePasteRowBefore:function(){return Rn(c.pasteRowsBefore,k.getRows)},mceTablePasteRowAfter:function(){return Rn(c.pasteRowsAfter,k.getRows)},mceTableDelete:z,mceTableCellToggleClass:ht,mceTableToggleClass:Me,mceTableToggleCaption:Ht,mceTableSizingMode:function(On,nr){return K(nr)},mceTableCellType:jr(function(On){return On==="th"?c.makeCellsHeader:c.unmakeCellsHeader}),mceTableColType:jr(function(On){return On==="th"?c.makeColumnsHeader:c.unmakeColumnsHeader}),mceTableRowType:jr(function(On){switch(On){case"header":return c.makeRowsHeader;case"footer":return c.makeRowsFooter;default:return c.makeRowsBody}})},function(On,nr){return u.addCommand(nr,On)}),Ra({mceTableProps:ge(Yw,u,!1),mceTableRowProps:ge(Ls,u),mceTableCellProps:ge(Gn,u,w)},function(On,nr){return u.addCommand(nr,function(){return On()})}),u.addCommand("mceInsertTable",function(On,nr){x(nr)&&cu(nr).length>0?Dw(u,nr.rows,nr.columns,nr.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Yw(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(On,nr){var xr=function(ci){return"tablecell"+ci.toLowerCase().replace("-","")};if(x(nr)){var Cr=Gi(w);if(Cr.length!==0){var Co=_l(nr,function(ci,fi){return u.formatter.has(xr(fi))&&_(ci)});Je(Co)||(Ra(Co,function(ci,fi){ot(Cr,function(zr){lf.normal(u,zr.dom).setFormat(xr(fi),ci)})}),ue(Cr[0]).each(function(ci){return Qc(u,ci.dom,am)}))}}})},W0=function(u,c,h){var w=Ps(u),k=function(R){return Ei(qd(u)).bind(function(z){return ja(z,w).map(function(K){var ue=Kd(h,K,z);return R(K,ue)})}).getOr("")};Ra({mceTableRowType:function(){return k(c.getTableRowType)},mceTableCellType:function(){return k(c.getTableCellType)},mceTableColType:function(){return k(c.getTableColType)}},function(R,z){return u.addQueryValueHandler(z,R)})},j0=function(){var u=pg(),c=pg();return{getRows:u.get,setRows:function(h){h.fold(u.clear,u.set),c.clear()},clearRows:u.clear,getColumns:c.get,setColumns:function(h){h.fold(c.clear,c.set),u.clear()},clearColumns:c.clear}},u1={remove_similar:!0,inherit:!1},cv=Ft({selector:"td,th"},u1),s1={tablecellbackgroundcolor:Ft({styles:{backgroundColor:"%value"}},cv),tablecellverticalalign:Ft({styles:{"vertical-align":"%value"}},cv),tablecellbordercolor:Ft({styles:{borderColor:"%value"}},cv),tablecellclass:Ft({classes:["%value"]},cv),tableclass:Ft({selector:"table",classes:["%value"]},u1),tablecellborderstyle:Ft({styles:{borderStyle:"%value"}},cv),tablecellborderwidth:Ft({styles:{borderWidth:"%value"}},cv)},nE=function(u){u.formatter.register(s1)},gx=Vc.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Jw=function(u){return u===void 0&&(u=void 0),gx.none(u)},hd=Ft(Ft({},gx),{none:Jw}),G0=function(u,c,h,w,k){k===void 0&&(k=se);var R=w===1;if(!R&&h<=0)return hd.first(u[0]);if(R&&h>=u.length-1)return hd.last(u[u.length-1]);var z=h+w,K=u[z];return k(K)?hd.middle(c,K):G0(u,c,z,w,k)},px=function(u,c){return ja(u,c).bind(function(h){var w=jf(h),k=pt(w,function(R){return ea(u,R)});return k.map(function(R){return{index:R,all:w}})})},rE=function(u,c,h){var w=px(u,h);return w.fold(function(){return hd.none(u)},function(k){return G0(k.all,u,k.index,1,c)})},aE=function(u,c,h){var w=px(u,h);return w.fold(function(){return hd.none()},function(k){return G0(k.all,u,k.index,-1,c)})},oE=function(u,c,h,w){return{start:u,soffset:c,finish:h,foffset:w}},wm={create:oE},Zw=Vc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),In=function(u,c,h,w){return u.fold(c,h,w)},bx=function(u){return u.fold(Be,Be,Be)},yx=Zw.before,iE=Zw.on,l1=Zw.after,iu={before:yx,on:iE,after:l1,cata:In,getStart:bx},c1=Vc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),uE=function(u){return c1.exact(u.start,u.soffset,u.finish,u.foffset)},wx=function(u){return u.match({domRange:function(c){return en.fromDom(c.startContainer)},relative:function(c,h){return iu.getStart(c)},exact:function(c,h,w,k){return c}})},Qw=c1.domRange,eC=c1.relative,Cx=c1.exact,tC=function(u){var c=wx(u);return vh(c)},nC=wm.create,fv={domRange:Qw,relative:eC,exact:Cx,exactFromRange:uE,getWin:tC,range:nC},sE=function(u,c){var h=u.document.createRange();return h.selectNode(c.dom),h},lE=function(u,c){var h=u.document.createRange();return _x(h,c),h},_x=function(u,c){return u.selectNodeContents(c.dom)},cE=function(u,c){c.fold(function(h){u.setStartBefore(h.dom)},function(h,w){u.setStart(h.dom,w)},function(h){u.setStartAfter(h.dom)})},f1=function(u,c){c.fold(function(h){u.setEndBefore(h.dom)},function(h,w){u.setEnd(h.dom,w)},function(h){u.setEndAfter(h.dom)})},na=function(u,c,h){var w=u.document.createRange();return cE(w,c),f1(w,h),w},q0=function(u,c,h,w,k){var R=u.document.createRange();return R.setStart(c.dom,h),R.setEnd(w.dom,k),R},vv=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},Nl=function(u){var c=u.getClientRects(),h=c.length>0?c[0]:u.getBoundingClientRect();return h.width>0||h.height>0?j.some(h).map(vv):j.none()},gd=Vc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Uu=function(u,c,h){return c(en.fromDom(h.startContainer),h.startOffset,en.fromDom(h.endContainer),h.endOffset)},K0=function(u,c){return c.match({domRange:function(h){return{ltr:me(h),rtl:j.none}},relative:function(h,w){return{ltr:pn(function(){return na(u,h,w)}),rtl:pn(function(){return j.some(na(u,w,h))})}},exact:function(h,w,k,R){return{ltr:pn(function(){return q0(u,h,w,k,R)}),rtl:pn(function(){return j.some(q0(u,k,R,h,w))})}}})},Cm=function(u,c){var h=c.ltr();if(h.collapsed){var w=c.rtl().filter(function(k){return k.collapsed===!1});return w.map(function(k){return gd.rtl(en.fromDom(k.endContainer),k.endOffset,en.fromDom(k.startContainer),k.startOffset)}).getOrThunk(function(){return Uu(u,gd.ltr,h)})}else return Uu(u,gd.ltr,h)},wg=function(u,c){var h=K0(u,c);return Cm(u,h)},pd=function(u,c){var h=wg(u,c);return h.match({ltr:function(w,k,R,z){var K=u.document.createRange();return K.setStart(w.dom,k),K.setEnd(R.dom,z),K},rtl:function(w,k,R,z){var K=u.document.createRange();return K.setStart(R.dom,z),K.setEnd(w.dom,k),K}})};gd.ltr,gd.rtl;var fE=function(u,c,h,w,k){if(k===0)return 0;if(c===w)return k-1;for(var R=w,z=1;z<k;z++){var K=u(z),ue=Math.abs(c-K.left);if(h<=K.bottom){if(h<K.top||ue>R)return z-1;R=ue}}return 0},Sx=function(u,c,h){return c>=u.left&&c<=u.right&&h>=u.top&&h<=u.bottom},vE=function(u,c,h,w,k){var R=function(ye){var Me=u.dom.createRange();return Me.setStart(c.dom,ye),Me.collapse(!0),Me},z=function(ye){var Me=R(ye);return Me.getBoundingClientRect()},K=yb(c).length,ue=fE(z,h,w,k.right,K);return R(ue)},dE=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getClientRects(),z=Rt(R,function(K){return Sx(K,h,w)?j.some(K):j.none()});return z.map(function(K){return vE(u,c,h,w,K)})},wr=function(u,c,h,w){var k=u.dom.createRange(),R=ai(c);return Rt(R,function(z){return k.selectNode(z.dom),Sx(k.getBoundingClientRect(),h,w)?zl(u,z,h,w):j.none()})},zl=function(u,c,h,w){return Js(c)?dE(u,c,h,w):wr(u,c,h,w)},Cg=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getBoundingClientRect(),z=Math.max(R.left,Math.min(R.right,h)),K=Math.max(R.top,Math.min(R.bottom,w));return zl(u,c,z,K)},xx=!0,v1=!1,Mr=function(u,c){return c-u.left<u.right-c?xx:v1},kx=function(u,c,h){var w=u.dom.createRange();return w.selectNode(c.dom),w.collapse(h),w},Ax=function(u,c,h){var w=u.dom.createRange();w.selectNode(c.dom);var k=w.getBoundingClientRect(),R=Mr(k,h),z=R===xx?Db:Rb;return z(c).map(function(K){return kx(u,K,R)})},d1=function(u,c,h){var w=c.dom.getBoundingClientRect(),k=Mr(w,h);return j.some(kx(u,c,k))},Ex=function(u,c,h){var w=ai(c).length===0?d1:Ax;return w(u,c,h)},m1=function(u,c,h){var w,k;return j.from((k=(w=u.dom).caretPositionFromPoint)===null||k===void 0?void 0:k.call(w,c,h)).bind(function(R){if(R.offsetNode===null)return j.none();var z=u.dom.createRange();return z.setStart(R.offsetNode,R.offset),z.collapse(),j.some(z)})},_m=function(u,c,h){var w,k;return j.from((k=(w=u.dom).caretRangeFromPoint)===null||k===void 0?void 0:k.call(w,c,h))},rC=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getBoundingClientRect(),z=Math.max(R.left,Math.min(R.right,h)),K=Math.max(R.top,Math.min(R.bottom,w));return Cg(u,c,z,K)},aC=function(u,c,h){return en.fromPoint(u,c,h).bind(function(w){var k=function(){return Ex(u,w,c)};return ai(w).length===0?k():rC(u,w,c,h).orThunk(k)})},Tx=function(){return document.caretPositionFromPoint?m1:document.caretRangeFromPoint?_m:aC}(),Ox=function(u,c,h){var w=en.fromDom(u.document);return Tx(w,c,h).map(function(k){return wm.create(en.fromDom(k.startContainer),k.startOffset,en.fromDom(k.endContainer),k.endOffset)})},bd=function(u,c){var h=ta(u);return h==="input"?iu.after(u):st(["br","img"],h)?c===0?iu.before(u):iu.after(u):iu.on(u,c)},Sm=function(u,c){var h=u.fold(iu.before,bd,iu.after),w=c.fold(iu.before,bd,iu.after);return fv.relative(h,w)},oC=function(u,c,h,w){var k=bd(u,c),R=bd(h,w);return fv.relative(k,R)},Dx=function(u){return u.match({domRange:function(c){var h=en.fromDom(c.startContainer),w=en.fromDom(c.endContainer);return oC(h,c.startOffset,w,c.endOffset)},relative:Sm,exact:oC})},X0=function(u,c,h,w){var k=Nf(u),R=k.dom.createRange();return R.setStart(u.dom,c),R.setEnd(h.dom,w),R},mE=function(u,c,h,w){var k=X0(u,c,h,w),R=ea(u,h)&&c===w;return k.collapsed&&!R},_g=function(u){return j.from(u.getSelection())},iC=function(u,c){_g(u).each(function(h){h.removeAllRanges(),h.addRange(c)})},uC=function(u,c,h,w,k){var R=q0(u,c,h,w,k);iC(u,R)},Rx=function(u,c,h,w,k,R){c.collapse(h.dom,w),c.extend(k.dom,R)},sC=function(u,c){return wg(u,c).match({ltr:function(h,w,k,R){uC(u,h,w,k,R)},rtl:function(h,w,k,R){_g(u).each(function(z){if(z.setBaseAndExtent)z.setBaseAndExtent(h.dom,w,k.dom,R);else if(z.extend)try{Rx(u,z,h,w,k,R)}catch{uC(u,k,R,h,w)}else uC(u,k,R,h,w)})}})},Y0=function(u,c,h,w,k){var R=oC(c,h,w,k);sC(u,R)},J0=function(u,c,h){var w=Sm(c,h);sC(u,w)},lC=function(u){var c=fv.getWin(u).dom,h=function(k,R,z,K){return q0(c,k,R,z,K)},w=Dx(u);return wg(c,w).match({ltr:h,rtl:h})},cC=function(u){if(u.rangeCount>0){var c=u.getRangeAt(0),h=u.getRangeAt(u.rangeCount-1);return j.some(wm.create(en.fromDom(c.startContainer),c.startOffset,en.fromDom(h.endContainer),h.endOffset))}else return j.none()},$x=function(u){if(u.anchorNode===null||u.focusNode===null)return cC(u);var c=en.fromDom(u.anchorNode),h=en.fromDom(u.focusNode);return mE(c,u.anchorOffset,h,u.focusOffset)?j.some(wm.create(c,u.anchorOffset,h,u.focusOffset)):cC(u)},xm=function(u,c,h){h===void 0&&(h=!0);var w=h?lE:sE,k=w(u,c);iC(u,k)},Sg=function(u){return _g(u).filter(function(c){return c.rangeCount>0}).bind($x)},Bx=function(u){return Sg(u).map(function(c){return fv.exact(c.start,c.soffset,c.finish,c.foffset)})},Mx=function(u,c){var h=pd(u,c);return Nl(h)},Z0=function(u,c,h){return Ox(u,c,h)},Px=function(u){_g(u).each(function(c){return c.removeAllRanges()})},Ix=tinymce.util.Tools.resolve("tinymce.util.VK"),fC=function(u,c,h){return Fx(u,c,rE(h,zp))},Nx=function(u,c,h){return Fx(u,c,aE(h,zp))},zx=function(u,c){var h=fv.exact(c,0,c,0);return lC(h)},Fx=function(u,c,h){return h.fold(j.none,j.none,function(w,k){return Db(k).map(function(R){return zx(u,R)})},function(w){return u.execCommand("mceTableInsertRowAfter"),fC(u,c,w)})},hE=["table","li","dl"],Lx=function(u,c,h){if(u.keyCode===Ix.TAB){var w=qc(c),k=function(K){var ue=ta(K);return ea(K,w)||st(hE,ue)},R=c.selection.getRng(),z=en.fromDom(u.shiftKey?R.startContainer:R.endContainer);rc(z,k).each(function(K){u.preventDefault(),ja(K,k).each(h.clear),c.selection.collapse(u.shiftKey);var ue=u.shiftKey?Nx:fC,ye=ue(c,k,K);ye.each(function(Me){c.selection.setRng(Me)})})}},vC=function(u,c){return{selection:u,kill:c}},xg={create:vC},gE=function(u,c,h,w){return{start:iu.on(u,c),finish:iu.on(h,w)}},Hx={create:gE},Vx=function(u,c){var h=pd(u,c);return wm.create(en.fromDom(h.startContainer),h.startOffset,en.fromDom(h.endContainer),h.endOffset)},sl=Hx.create,Ux=function(u,c,h,w,k,R,z){return ea(h,k)&&w===R?j.none():no(h,"td,th",c).bind(function(K){return no(k,"td,th",c).bind(function(ue){return Wx(u,c,K,ue,z)})})},Wx=function(u,c,h,w,k){return ea(h,w)?j.none():zv(h,w,c).bind(function(R){var z=R.boxes.getOr([]);return z.length>1?(k(u,z,R.start,R.finish),j.some(xg.create(j.some(sl(h,0,h,$l(h))),!0))):j.none()})},Q0=function(u,c,h,w,k){var R=function(z){return k.clearBeforeUpdate(h),k.selectRange(h,z.boxes,z.start,z.finish),z.boxes};return _h(w,u,c,k.firstSelectedSelector,k.lastSelectedSelector).map(R)},ey=function(u,c){return{item:u,mode:c}},dC=function(u,c,h,w){return w===void 0&&(w=km),u.property().parent(c).map(function(k){return ey(k,w)})},km=function(u,c,h,w){return w===void 0&&(w=kg),h.sibling(u,c).map(function(k){return ey(k,w)})},kg=function(u,c,h,w){w===void 0&&(w=kg);var k=u.property().children(c),R=h.first(k);return R.map(function(z){return ey(z,w)})},jx=[{current:dC,next:km,fallback:j.none()},{current:km,next:kg,fallback:j.some(dC)},{current:kg,next:kg,fallback:j.some(km)}],Gx=function(u,c,h,w,k){k===void 0&&(k=jx);var R=Ve(k,function(z){return z.current===h});return R.bind(function(z){return z.current(u,c,w,z.next).orThunk(function(){return z.fallback.bind(function(K){return Gx(u,c,K,w)})})})},ty=function(){var u=function(h,w){return h.query().prevSibling(w)},c=function(h){return h.length>0?j.some(h[h.length-1]):j.none()};return{sibling:u,first:c}},pE=function(){var u=function(h,w){return h.query().nextSibling(w)},c=function(h){return h.length>0?j.some(h[0]):j.none()};return{sibling:u,first:c}},ny={left:ty,right:pE},h1=function(u,c,h,w,k,R){var z=Gx(u,c,w,k);return z.bind(function(K){return R(K.item)?j.none():h(K.item)?j.some(K.item):h1(u,K.item,h,K.mode,k,R)})},ry=function(u,c,h,w){return h1(u,c,h,km,ny.left(),w)},qx=function(u,c,h,w){return h1(u,c,h,km,ny.right(),w)},ay=function(u){return function(c){return u.property().children(c).length===0}},ll=function(u,c,h){return oy(u,c,ay(u),h)},bE=function(u,c,h){return Kx(u,c,ay(u),h)},oy=ry,Kx=qx,g1=_p(),p1=function(u,c){return ll(g1,u,c)},mC=function(u,c){return bE(g1,u,c)},Xx=function(u,c,h){return oy(g1,u,c,h)},Yx=function(u,c,h){return Kx(g1,u,c,h)},Jx=function(u,c,h){return Xa(u,c,h).isSome()},iy=Vc.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),yd=function(u,c,h){var w=u.getRect(c),k=u.getRect(h);return k.right>w.left&&k.left<w.right},yE=function(u){return no(u,"tr")},wE=function(u,c,h,w,k,R,z){return no(w,"td,th",z).bind(function(K){return no(c,"td,th",z).map(function(ue){return ea(K,ue)?ea(w,K)&&$l(K)===k?R(ue):iy.none("in same cell"):Mn(yE,[K,ue]).fold(function(){return yd(u,ue,K)?iy.success():R(ue)},function(ye){return R(ue)})})}).getOr(iy.none("default"))},CE=function(u,c,h,w,k){return u.fold(c,h,w,k)},wd=Ft(Ft({},iy),{verify:wE,cata:CE}),_E=function(u,c,h,w){return{parent:u,children:c,element:h,index:w}},hC=function(u){return xo(u).bind(function(c){var h=ai(c);return SE(h,u).map(function(w){return _E(c,h,u,w)})})},SE=function(u,c){return pt(u,ge(ea,c))},Ag=function(u){return ta(u)==="br"},gC=function(u,c,h){return c(u,h).bind(function(w){return Js(w)&&yb(w).trim().length===0?gC(w,c,h):j.some(w)})},Zx=function(u,c,h){return h.traverse(c).orThunk(function(){return gC(c,h.gather,u)}).map(h.relative)},uy=function(u,c){return dh(u,c).filter(Ag).orThunk(function(){return dh(u,c-1).filter(Ag)})},Qx=function(u,c,h,w){return uy(c,h).bind(function(k){return w.traverse(k).fold(function(){return gC(k,w.gather,u).map(w.relative)},function(R){return hC(R).map(function(z){return iu.on(z.parent,z.index)})})})},ek=function(u,c,h,w){var k=Ag(c)?Zx(u,c,w):Qx(u,c,h,w);return k.map(function(R){return{start:R,finish:R}})},xE=function(u){return wd.cata(u,function(c){return j.none()},function(){return j.none()},function(c){return j.some(um(c,0))},function(c){return j.some(um(c,$l(c)))})},sy=function(u,c){return{left:u.left,top:u.top+c,right:u.right,bottom:u.bottom+c}},ly=function(u,c){return{left:u.left,top:u.top-c,right:u.right,bottom:u.bottom-c}},pC=function(u,c,h){return{left:u.left+c,top:u.top+h,right:u.right+c,bottom:u.bottom+h}},tk=function(u){return u.top},nk=function(u){return u.bottom},Am=function(u,c,h){return h>=0&&h<$l(c)?u.getRangedRect(c,h,c,h+1):h>0?u.getRangedRect(c,h-1,c,h):j.none()},b1=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},cy=function(u,c){return j.some(u.getRect(c))},y1=function(u,c,h){return Sa(c)?cy(u,c).map(b1):Js(c)?Am(u,c,h).map(b1):j.none()},rk=function(u,c){return Sa(c)?cy(u,c).map(b1):Js(c)?u.getRangedRect(c,0,c,$l(c)).map(b1):j.none()},dv=5,kE=100,vf=Vc.generate([{none:[]},{retry:["caret"]}]),ak=function(u,c){return u.left<c.left||Math.abs(c.right-u.left)<1||u.left>c.right},fy=function(u,c,h){return hb(c,ld).fold(We,function(w){return rk(u,w).exists(function(k){return ak(h,k)})})},bC=function(u,c,h,w,k){var R=sy(k,dv);return Math.abs(h.bottom-w.bottom)<1||h.top>k.bottom?vf.retry(R):h.top===k.bottom?vf.retry(sy(k,1)):fy(u,c,k)?vf.retry(pC(R,dv,0)):vf.none()},AE=function(u,c,h,w,k){var R=ly(k,dv);return Math.abs(h.top-w.top)<1||h.bottom<k.top?vf.retry(R):h.bottom===k.top?vf.retry(ly(k,1)):fy(u,c,k)?vf.retry(pC(R,dv,0)):vf.none()},Cd={point:tk,adjuster:AE,move:ly,gather:p1},ok={point:nk,adjuster:bC,move:sy,gather:mC},ik=function(u,c,h){return u.elementFromPoint(c,h).filter(function(w){return ta(w)==="table"}).isSome()},EE=function(u,c,h,w,k){return yC(u,c,h,c.move(w,dv),k)},yC=function(u,c,h,w,k){return k===0?j.some(w):ik(u,w.left,c.point(w))?EE(u,c,h,w,k-1):u.situsFromPoint(w.left,c.point(w)).bind(function(R){return R.start.fold(j.none,function(z){return rk(u,z).bind(function(K){return c.adjuster(u,z,K,h,w).fold(j.none,function(ue){return yC(u,c,h,ue,k-1)})}).orThunk(function(){return j.some(w)})},j.none)})},Eg=function(u,c){return u.situsFromPoint(c.left,c.bottom+dv)},Tg=function(u,c){return u.situsFromPoint(c.left,c.top-dv)},uk=function(u,c,h){return u.point(c)>h.getInnerHeight()?j.some(u.point(c)-h.getInnerHeight()):u.point(c)<0?j.some(-u.point(c)):j.none()},wC=function(u,c,h){var w=u.move(h,dv),k=yC(c,u,h,w,kE).getOr(w);return uk(u,k,c).fold(function(){return c.situsFromPoint(k.left,u.point(k))},function(R){return c.scrollBy(0,R),c.situsFromPoint(k.left,u.point(k)-R)})},Fl={tryUp:ge(wC,Cd),tryDown:ge(wC,ok),ieTryUp:Tg,ieTryDown:Eg,getJumpSize:me(dv)},_d=20,Hn=function(u,c,h){return u.getSelection().bind(function(w){return ek(c,w.finish,w.foffset,h).fold(function(){return j.some(um(w.finish,w.foffset))},function(k){var R=u.fromSitus(k),z=wd.verify(u,w.finish,w.foffset,R.finish,R.foffset,h.failure,c);return xE(z)})})},CC=function(u,c,h,w,k,R){return R===0?j.none():TE(u,c,h,w,k).bind(function(z){var K=u.fromSitus(z),ue=wd.verify(u,h,w,K.finish,K.foffset,k.failure,c);return wd.cata(ue,function(){return j.none()},function(){return j.some(z)},function(ye){return ea(h,ye)&&w===0?df(u,h,w,ly,k):CC(u,c,ye,0,k,R-1)},function(ye){return ea(h,ye)&&w===$l(ye)?df(u,h,w,sy,k):CC(u,c,ye,$l(ye),k,R-1)})})},df=function(u,c,h,w,k){return y1(u,c,h).bind(function(R){return sk(u,k,w(R,Fl.getJumpSize()))})},sk=function(u,c,h){var w=Jl().browser;return w.isChrome()||w.isSafari()||w.isFirefox()||w.isEdge()?c.otherRetry(u,h):w.isIE()?c.ieRetry(u,h):j.none()},TE=function(u,c,h,w,k){return y1(u,h,w).bind(function(R){return sk(u,k,R)})},lk=function(u,c,h){return Hn(u,c,h).bind(function(w){return CC(u,c,w.element,w.offset,h,_d).map(u.fromSitus)})},w1=function(u,c){return Jx(u,function(h){return xo(h).exists(function(w){return ea(w,c)})})},wc=function(u,c,h,w,k){return no(w,"td,th",c).bind(function(R){return no(R,"table",c).bind(function(z){return w1(k,z)?lk(u,c,h).bind(function(K){return no(K.finish,"td,th",c).map(function(ue){return{start:R,finish:ue,range:K}})}):j.none()})})},vy=function(u,c,h,w,k,R){return Jl().browser.isIE()?j.none():R(w,c).orThunk(function(){return wc(u,c,h,w,k).map(function(z){var K=z.range;return xg.create(j.some(sl(K.start,K.soffset,K.finish,K.foffset)),!0)})})},ck=function(u,c){return no(u,"tr",c).bind(function(h){return no(h,"table",c).bind(function(w){var k=ns(w,"tr");return ea(h,k[0])?Xx(w,function(R){return Rb(R).isSome()},c).map(function(R){var z=$l(R);return xg.create(j.some(sl(R,z,R,z)),!0)}):j.none()})})},ar=function(u,c){return no(u,"tr",c).bind(function(h){return no(h,"table",c).bind(function(w){var k=ns(w,"tr");return ea(h,k[k.length-1])?Yx(w,function(R){return Db(R).isSome()},c).map(function(R){return xg.create(j.some(sl(R,0,R,0)),!0)}):j.none()})})},_C=function(u,c,h,w,k,R,z){return wc(u,h,w,k,R).bind(function(K){return Wx(c,h,K.start,K.finish,z)})},sr=function(u,c){return no(u,"td,th",c)},SC=function(u,c,h,w){var k=pg(),R=k.clear,z=function(Me){k.on(function(ht){w.clearBeforeUpdate(c),sr(Me.target,h).each(function(Ht){zv(ht,Ht,h).each(function(Tt){var gt=Tt.boxes.getOr([]);if(gt.length===1){var Yt=gt[0],tn=H2(Yt)==="false",Rn=tc(nm(Me.target),Yt,ea);tn&&Rn&&(w.selectRange(c,gt,Yt,Yt),u.selectContents(Yt))}else gt.length>1&&(w.selectRange(c,gt,Tt.start,Tt.finish),u.selectContents(Ht))})})})},K=function(Me){w.clear(c),sr(Me.target,h).each(k.set)},ue=function(Me){z(Me)},ye=function(Me){z(Me),R()};return{clearstate:R,mousedown:K,mouseover:ue,mouseup:ye}},fk={traverse:Ge,gather:mC,relative:iu.before,otherRetry:Fl.tryDown,ieRetry:Fl.ieTryDown,failure:wd.failedDown},vk={traverse:Iv,gather:p1,relative:iu.before,otherRetry:Fl.tryUp,ieRetry:Fl.ieTryUp,failure:wd.failedUp},Og=function(u){return function(c){return c===u}},Dg=Og(38),Rg=Og(40),$g=function(u){return u>=37&&u<=40},OE={isBackward:Og(37),isForward:Og(39)},er={isBackward:Og(39),isForward:Og(37)},dk=function(u){var c=u!==void 0?u.dom:document,h=c.body.scrollLeft||c.documentElement.scrollLeft,w=c.body.scrollTop||c.documentElement.scrollTop;return Ca(h,w)},xC=function(u,c,h){var w=h!==void 0?h.dom:document,k=w.defaultView;k&&k.scrollBy(u,c)},C1=function(u){var c=function(tn,Rn){return en.fromPoint(en.fromDom(u.document),tn,Rn)},h=function(tn){return tn.dom.getBoundingClientRect()},w=function(tn,Rn,jr,On){var nr=fv.exact(tn,Rn,jr,On);return Mx(u,nr)},k=function(){return Bx(u).map(function(tn){return Vx(u,tn)})},R=function(tn){var Rn=fv.relative(tn.start,tn.finish);return Vx(u,Rn)},z=function(tn,Rn){return Z0(u,tn,Rn).map(function(jr){return Hx.create(jr.start,jr.soffset,jr.finish,jr.foffset)})},K=function(){Px(u)},ue=function(tn){tn===void 0&&(tn=!1),Bx(u).each(function(Rn){return Rn.fold(function(jr){return jr.collapse(tn)},function(jr,On){var nr=tn?jr:On;J0(u,nr,nr)},function(jr,On,nr,xr){var Cr=tn?jr:nr,Co=tn?On:xr;Y0(u,Cr,Co,Cr,Co)})})},ye=function(tn){xm(u,tn,!1)},Me=function(tn){xm(u,tn)},ht=function(tn){Y0(u,tn.start,tn.soffset,tn.finish,tn.foffset)},Ht=function(tn,Rn){J0(u,tn,Rn)},Tt=function(){return u.innerHeight},gt=function(){var tn=dk(en.fromDom(u.document));return tn.top},Yt=function(tn,Rn){xC(tn,Rn,en.fromDom(u.document))};return{elementFromPoint:c,getRect:h,getRangedRect:w,getSelection:k,fromSitus:R,situsFromPoint:z,clearSelection:K,collapseSelection:ue,setSelection:ht,setRelativeSelection:Ht,selectNode:ye,selectContents:Me,getInnerHeight:Tt,getScrollY:gt,scrollBy:Yt}},Sd=function(u,c){return{rows:u,cols:c}},mk=function(u,c,h,w){var k=C1(u),R=SC(k,c,h,w);return{clearstate:R.clearstate,mousedown:R.mousedown,mouseover:R.mouseover,mouseup:R.mouseup}},dy=function(u,c,h,w){var k=C1(u),R=function(){return w.clear(c),j.none()},z=function(ue,ye,Me,ht,Ht,Tt){var gt=ue.raw,Yt=gt.which,tn=gt.shiftKey===!0,Rn=Ch(c,w.selectedSelector).fold(function(){return $g(Yt)&&!tn&&w.clearBeforeUpdate(c),Rg(Yt)&&tn?ge(_C,k,c,h,fk,ht,ye,w.selectRange):Dg(Yt)&&tn?ge(_C,k,c,h,vk,ht,ye,w.selectRange):Rg(Yt)?ge(vy,k,h,fk,ht,ye,ar):Dg(Yt)?ge(vy,k,h,vk,ht,ye,ck):j.none},function(jr){var On=function(nr){return function(){var xr=Rt(nr,function(Cr){return Q0(Cr.rows,Cr.cols,c,jr,w)});return xr.fold(function(){return Al(c,w.firstSelectedSelector,w.lastSelectedSelector).map(function(Cr){var Co=Rg(Yt)||Tt.isForward(Yt)?iu.after:iu.before;return k.setRelativeSelection(iu.on(Cr.first,0),Co(Cr.table)),w.clear(c),xg.create(j.none(),!0)})},function(Cr){return j.some(xg.create(j.none(),!0))})}};return Rg(Yt)&&tn?On([Sd(1,0)]):Dg(Yt)&&tn?On([Sd(-1,0)]):Tt.isBackward(Yt)&&tn?On([Sd(0,-1),Sd(-1,0)]):Tt.isForward(Yt)&&tn?On([Sd(0,1),Sd(1,0)]):$g(Yt)&&!tn?R:j.none});return Rn()},K=function(ue,ye,Me,ht,Ht){return Ch(c,w.selectedSelector).fold(function(){var Tt=ue.raw,gt=Tt.which,Yt=Tt.shiftKey===!0;return Yt&&$g(gt)?Ux(c,h,ye,Me,ht,Ht,w.selectRange):j.none()},j.none)};return{keydown:z,keyup:K}},kC=function(u,c,h,w){var k=C1(u);return function(R,z){w.clearBeforeUpdate(c),zv(R,z,h).each(function(K){var ue=K.boxes.getOr([]);w.selectRange(c,ue,K.start,K.finish),k.selectContents(z),k.collapseSelection()})}},DE=function(u,c){ot(c,function(h){zu(u,h)})},hk=function(u){return function(c){Go(c,u)}},RE=function(u){return function(c){DE(c,u)}},my=function(u){var c=hk(u.selected),h=RE([u.selected,u.lastSelected,u.firstSelected]),w=function(R){var z=ns(R,u.selectedSelector);ot(z,h)},k=function(R,z,K,ue){w(R),ot(z,c),Go(K,u.firstSelected),Go(ue,u.lastSelected)};return{clearBeforeUpdate:w,clear:w,selectRange:k,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},$E=function(u,c,h){var w=function(ue){Ba(ue,u.selected),Ba(ue,u.firstSelected),Ba(ue,u.lastSelected)},k=function(ue){Lo(ue,u.selected,"1")},R=function(ue){z(ue),h()},z=function(ue){var ye=ns(ue,u.selectedSelector+","+u.firstSelectedSelector+","+u.lastSelectedSelector);ot(ye,w)},K=function(ue,ye,Me,ht){R(ue),ot(ye,k),Lo(Me,u.firstSelected,"1"),Lo(ht,u.lastSelected,"1"),c(ye,Me,ht)};return{clearBeforeUpdate:z,clear:R,selectRange:K,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},hy={byClass:my,byAttr:$E},gk=function(u,c){var h=u.slice(0,c[c.length-1].row+1),w=g0(h);return Te(w,function(k){var R=k.cells.slice(0,c[c.length-1].column+1);return at(R,function(z){return z.element})})},pk=function(u,c){var h=u.slice(c[0].row+c[0].rowspan-1,u.length),w=g0(h);return Te(w,function(k){var R=k.cells.slice(c[0].column+c[0].colspan-1,k.cells.length);return at(R,function(z){return z.element})})},BE=function(u,c,h){var w=gr.fromTable(u),k=hc(w,c);return k.map(function(R){var z=id(w,h,!1),K=gk(z,R),ue=pk(z,R);return{upOrLeftCells:K,downOrRightCells:ue}})},bk=tinymce.util.Tools.resolve("tinymce.Env"),AC=function(u){return ka(en.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function Nr(u,c,h){var w=function(z,K,ue){h.targets().each(function(ye){var Me=ja(K);Me.each(function(ht){var Ht=l0(u),Tt=ur(Z,en.fromDom(u.getDoc()),Ht),gt=BE(ht,ye,Tt);Uh(u,z,K,ue,gt)})})},k=function(){return _S(u)},R=hy.byAttr(Is,w,k);return u.on("init",function(z){var K=u.getWin(),ue=qc(u),ye=Ps(u),Me=function(){var zr=u.selection,or=en.fromDom(zr.getStart()),$r=en.fromDom(zr.getEnd()),fa=Mn(ja,[or,$r]);fa.fold(function(){return R.clear(ue)},Z)},ht=mk(K,ue,ye,R),Ht=dy(K,ue,ye,R),Tt=kC(K,ue,ye,R),gt=function(zr){return zr.raw.shiftKey===!0};u.on("TableSelectorChange",function(zr){return Tt(zr.start,zr.finish)});var Yt=function(zr,or){gt(zr)&&(or.kill&&zr.kill(),or.selection.each(function($r){var fa=fv.relative($r.start,$r.finish),io=pd(K,fa);u.selection.setRng(io)}))},tn=function(zr){var or=av(zr);if(or.raw.shiftKey&&$g(or.raw.which)){var $r=u.selection.getRng(),fa=en.fromDom($r.startContainer),io=en.fromDom($r.endContainer);Ht.keyup(or,fa,$r.startOffset,io,$r.endOffset).each(function(mv){Yt(or,mv)})}},Rn=function(zr){var or=av(zr);c().each(function(ca){return ca.hideBars()});var $r=u.selection.getRng(),fa=en.fromDom($r.startContainer),io=en.fromDom($r.endContainer),mv=ss(OE,er)(en.fromDom(u.selection.getStart()));Ht.keydown(or,fa,$r.startOffset,io,$r.endOffset,mv).each(function(ca){Yt(or,ca)}),c().each(function(ca){return ca.showBars()})},jr=function(zr){return zr.button===0},On=function(zr){return zr.buttons===void 0||bk.browser.isEdge()&&zr.buttons===0?!0:(zr.buttons&1)!==0},nr=function(zr){ht.clearstate()},xr=function(zr){jr(zr)&&AC(zr)&&ht.mousedown(av(zr))},Cr=function(zr){On(zr)&&AC(zr)&&ht.mouseover(av(zr))},Co=function(zr){jr(zr)&&AC(zr)&&ht.mouseup(av(zr))},ci=function(){var zr=lv(en.fromDom(ue)),or=lv(0),$r=function(fa){var io=en.fromDom(fa.target);if(ta(io)==="td"||ta(io)==="th"){var mv=zr.get(),ca=or.get();ea(mv,io)&&fa.timeStamp-ca<300&&(fa.preventDefault(),Tt(io,io))}zr.set(io),or.set(fa.timeStamp)};return{touchEnd:$r}},fi=ci();u.on("dragstart",nr),u.on("mousedown",xr),u.on("mouseover",Cr),u.on("mouseup",Co),u.on("touchend",fi.touchEnd),u.on("keyup",tn),u.on("keydown",Rn),u.on("NodeChange",Me)}),{clear:R.clear}}var yk=function(u,c){return Xn(u,c).isSome()},gy=function(u,c){var h=lv(j.none()),w=lv([]),k=j.none(),R=Jo("caption"),z=function(or){return k.forall(function($r){return!$r[or]})},K=function(){return Ja(qd(u),Ps(u))},ue=function(){return Ja(wn(u),Ps(u))},ye=function(){return K().bind(function(or){return Lf(as(ja(or),ue().bind(ja),function($r,fa){return ea($r,fa)?R(or)?j.some(T2(or)):j.some(Kd(c,$r,or)):j.none()}))})},Me=function(or){var $r=ja(or.element);return $r.map(function(fa){var io=gr.fromTable(fa),mv=hc(io,or).getOr([]),ca=te(mv,function(ds,vi){return vi.isLocked&&(ds.onAny=!0,vi.column===0?ds.onFirst=!0:vi.column+vi.colspan>=io.grid.columns&&(ds.onLast=!0)),ds},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:sw(io,or).isSome(),unmergeable:y0(io,or).isSome(),locked:ca}})},ht=function(){h.set(pn(ye)()),k=h.get().bind(Me),ot(w.get(),function(or){return or()})},Ht=function(or){return or(),w.set(w.get().concat([or])),function(){w.set(ct(w.get(),function($r){return $r!==or}))}},Tt=function(or,$r){return Ht(function(){return h.get().fold(function(){or.setDisabled(!0)},function(fa){or.setDisabled($r(fa))})})},gt=function(or,$r,fa){return Ht(function(){return h.get().fold(function(){or.setDisabled(!0),or.setActive(!1)},function(io){or.setDisabled($r(io)),or.setActive(fa(io))})})},Yt=function(or){return k.exists(function($r){return $r.locked[or]})},tn=function(or){return Tt(or,function($r){return!1})},Rn=function(or){return Tt(or,function($r){return R($r.element)})},jr=function(or){return function($r){return Tt($r,function(fa){return R(fa.element)||Yt(or)})}},On=function(or){return function($r){return Tt($r,function(fa){return R(fa.element)||or().isNone()})}},nr=function(or,$r){return function(fa){return Tt(fa,function(io){return R(io.element)||or().isNone()||Yt($r)})}},xr=function(or){return Tt(or,function($r){return z("mergeable")})},Cr=function(or){return Tt(or,function($r){return z("unmergeable")})},Co=function(or){return gt(or,We,function($r){var fa=ja($r.element,Ps(u));return fa.exists(function(io){return yk(io,"caption")})})},ci=function(or,$r){return function(fa){return gt(fa,function(io){return R(io.element)},function(){return u.queryCommandValue(or)===$r})}},fi=ci("mceTableRowType","header"),zr=ci("mceTableColType","th");return u.on("NodeChange ExecCommand TableSelectorChange",ht),{onSetupTable:tn,onSetupCellOrRow:Rn,onSetupColumn:jr,onSetupPasteable:On,onSetupPasteableColumn:nr,onSetupMergeable:xr,onSetupUnmergeable:Cr,resetTargets:ht,onSetupTableWithCaption:Co,onSetupTableRowHeaders:fi,onSetupTableColumnHeaders:zr,targets:h.get}},EC=function(u,c,h,w){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(K){return K("inserttable | cell row column | advtablesort | tableprops deletetable")}});var k=function(K){return function(){return u.execCommand(K)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:k("mceTableProps"),icon:"table",onSetup:h.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:k("mceTableDelete"),icon:"table-delete-table",onSetup:h.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:k("mceTableCellProps"),icon:"table-cell-properties",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:k("mceTableMergeCells"),icon:"table-merge-cells",onSetup:h.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:k("mceTableSplitCells"),icon:"table-split-cells",onSetup:h.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:k("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:k("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:k("mceTableDeleteRow"),icon:"table-delete-row",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:k("mceTableRowProps"),icon:"table-row-properties",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:k("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:h.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:k("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:h.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:k("mceTableDeleteCol"),icon:"table-delete-column",onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:k("mceTableCutRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:k("mceTableCopyRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:k("mceTablePasteRowBefore"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:k("mceTablePasteRowAfter"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:k("mceTableCutCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:k("mceTableCopyCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:k("mceTablePasteColBefore"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:k("mceTablePasteColAfter"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:k("mceInsertTable"),icon:"table"});var R=dd(jp(u));R.length!==0&&u.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:pm(u,c,R,"tableclass",function(K){return u.execCommand("mceTableToggleClass",!1,K)}),onSetup:h.onSetupTable});var z=dd(ef(u));z.length!==0&&u.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:pm(u,c,z,"tablecellclass",function(K){return u.execCommand("mceTableCellToggleClass",!1,K)}),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:pm(u,c,gg,"tablecellverticalalign",vd(u,"vertical-align")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:pm(u,c,xS(u),"tablecellborderwidth",vd(u,"border-width")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:pm(u,c,nu(u),"tablecellborderstyle",vd(u,"border-style")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:k("mceTableToggleCaption"),icon:"table-caption",onSetup:h.onSetupTableWithCaption}),u.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(K){return K(bg(u,J2(u),"background-color"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(K){return K(bg(u,Z2(u),"border-color"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:Fw(u),onSetup:h.onSetupTableRowHeaders}),u.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:Lw(u),onSetup:h.onSetupTableColumnHeaders})},wk=function(u){var c=function(w){return u.dom.is(w,"table")&&u.getBody().contains(w)},h=r4(u);h.length>0&&u.ui.registry.addContextToolbar("table",{predicate:c,items:h,scope:"node",position:"node"})},TC=function(u,c,h,w){var k=function(Tt){return function(){return u.execCommand(Tt)}},R=function(Tt){u.execCommand("mceInsertTable",!1,{rows:Tt.numRows,columns:Tt.numColumns})},z={text:"Table properties",onSetup:h.onSetupTable,onAction:k("mceTableProps")},K={text:"Delete table",icon:"table-delete-table",onSetup:h.onSetupTable,onAction:k("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:k("mceTableInsertRowBefore"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:k("mceTableInsertRowAfter"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:k("mceTableDeleteRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:k("mceTableRowProps"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:k("mceTableCutRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:k("mceTableCopyRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:k("mceTablePasteRowBefore"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:k("mceTablePasteRowAfter"),onSetup:h.onSetupPasteable(w.getRows)});var ue={type:"nestedmenuitem",text:"Row",getSubmenuItems:me("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:k("mceTableInsertColBefore"),onSetup:h.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:k("mceTableInsertColAfter"),onSetup:h.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:k("mceTableDeleteCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:k("mceTableCutCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:k("mceTableCopyCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:k("mceTablePasteColBefore"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:k("mceTablePasteColAfter"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onLast")});var ye={type:"nestedmenuitem",text:"Column",getSubmenuItems:me("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:k("mceTableCellProps"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:k("mceTableMergeCells"),onSetup:h.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:k("mceTableSplitCells"),onSetup:h.onSetupUnmergeable});var Me={type:"nestedmenuitem",text:"Cell",getSubmenuItems:me("tablecellprops tablemergecells tablesplitcells")};kS(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:k("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:R}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:k("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",z),u.ui.registry.addMenuItem("deletetable",K),u.ui.registry.addNestedMenuItem("row",ue),u.ui.registry.addNestedMenuItem("column",ye),u.ui.registry.addNestedMenuItem("cell",Me),u.ui.registry.addContextMenu("table",{update:function(){return h.resetTargets(),h.targets().fold(me(""),function(Tt){return ta(Tt.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var ht=dd(jp(u));ht.length!==0&&u.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Il(u,c,ht,"tableclass",function(Tt){return u.execCommand("mceTableToggleClass",!1,Tt)})},onSetup:h.onSetupTable});var Ht=dd(ef(u));Ht.length!==0&&u.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Il(u,c,Ht,"tablecellclass",function(Tt){return u.execCommand("mceTableCellToggleClass",!1,Tt)})},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Il(u,c,gg,"tablecellverticalalign",vd(u,"vertical-align"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Il(u,c,xS(u),"tablecellborderwidth",vd(u,"border-width"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Il(u,c,nu(u),"tablecellborderstyle",vd(u,"border-style"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:k("mceTableToggleCaption"),onSetup:h.onSetupTableWithCaption}),u.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return bg(u,J2(u),"background-color")},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return bg(u,Z2(u),"border-color")},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:Fw(u),onSetup:h.onSetupTableRowHeaders}),u.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:Lw(u),onSetup:h.onSetupTableColumnHeaders})},_1=function(u){var c=Ui(function(){return qc(u)},function(){return Ei(qd(u),Ps(u))},Is.selectedSelector),h=gy(u,c),w=f0(u),k=Nr(u,w.lazyResize,h),R=V4(u,k,w.lazyWire),z=j0();return U0(u,R,k,c,z),W0(u,R,c),Bl(u,c,R),TC(u,c,h,z),EC(u,c,h,z),wk(u),u.on("PreInit",function(){u.serializer.addTempAttr(Is.firstSelected),u.serializer.addTempAttr(Is.lastSelected),nE(u)}),dc(u)&&u.on("keydown",function(K){Lx(K,u,k)}),u.on("remove",function(){w.destroy()}),of(u,z,w,h)};function py(){J_.add("table",_1)}py()})();const th=`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment{background-color:#fff0b7}.tox-comments-visible .tox-comment--active{background-color:#ffe168}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden):before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A);cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked:before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A)}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden):before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body *[data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body *[contentEditable=false]{cursor:default}.mce-content-body *[contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A),default}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-object{background:transparent url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A) no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--21by9,.tiny-pageembed--16by9,.tiny-pageembed--4by3,.tiny-pageembed--1by1{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--21by9 iframe,.tiny-pageembed--16by9 iframe,.tiny-pageembed--4by3 iframe,.tiny-pageembed--1by1 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks):before{color:#222f3eb3;content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks):before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks):before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,.mce-content-body .mce-clonedresizable.mce-resizetable-columns td{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor:before{background-color:inherit;border-radius:50%;content:"";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover:after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body img[data-mce-selected],.mce-content-body video[data-mce-selected],.mce-content-body audio[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body table[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,.mce-content-body.mce-content-readonly *[contentEditable=true]:hover{outline:none}.mce-content-body *[data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:none}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:none}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{background-color:#b4d7ffb3;border:1px solid rgba(180,215,255,.7);bottom:-1px;content:"";left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{border-color:#0054b4b3}}.mce-content-body img::-moz-selection{background:none}.mce-content-body img::selection{background:none}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}table[style*="border-width: 0px"],.mce-item-table:not([border]),.mce-item-table[border="0"],table[style*="border-width: 0px"] td,.mce-item-table:not([border]) td,.mce-item-table[border="0"] td,table[style*="border-width: 0px"] th,.mce-item-table:not([border]) th,.mce-item-table[border="0"] th,table[style*="border-width: 0px"] caption,.mce-item-table:not([border]) caption,.mce-item-table[border="0"] caption{border:1px dashed #bbb}.mce-visualblocks p,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks section,.mce-visualblocks article,.mce-visualblocks blockquote,.mce-visualblocks address,.mce-visualblocks pre,.mce-visualblocks figure,.mce-visualblocks figcaption,.mce-visualblocks hgroup,.mce-visualblocks aside,.mce-visualblocks ul,.mce-visualblocks ol,.mce-visualblocks dl{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) ul,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) dl{margin-left:3px}.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] ul,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] dl{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy:after{content:"-"}body{font-family:sans-serif}table{border-collapse:collapse}
`,nh=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) th,table:not([cellpadding]) td{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) th,table[border]:not([border="0"]):not([style*=border-width]) td{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) th,table[border]:not([border="0"]):not([style*=border-style]) td{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) th,table[border]:not([border="0"]):not([style*=border-color]) td{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}
`;const doe={class:"row"},moe=F("hr",{class:"divider"},null,-1),hoe={class:"row content-row"},goe={class:"row content-row"},poe=F("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),boe=F("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),yoe={class:"content-row"},woe=F("h3",null,"Zertifikat Bild",-1),Coe=F("hr",{class:"divider"},null,-1),_oe={key:0,class:"image"},Soe=["src"],xoe={class:"row"},koe={class:"col"},Aoe={class:"content-row"},Eoe={class:"errorMessages"},i9={__name:"ZertifikateForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newCertificate"],setup(f,{emit:m}){const y=f,b=xt({"name:de":"","name:en":"","description:de":"","description:en":"",image:null}),_=xt([]),x=xt(y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen"),T=xt(null),O=Kl(),L=()=>(_.value=[],b.value["name:de"]===""&&_.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&_.value.push("Bitte geben Sie einen Namen (EN) ein"),_.value.length===0),W=()=>{L()&&(x.value=y.editMode?"Zertifikat aktualisieren...":"Zertifikat erstellen...",b.value["description:de"]=xn.get("editor_de").getContent(),b.value["description:en"]=xn.get("editor_en").getContent(),Dn.post("/certificates",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(V=>{x.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",y.insidePopup?m("newCertificate",V.data.certificate):O.push("/zertifikate")}).catch(V=>{console.log(V),x.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",V.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Zertifikat")}))},I=()=>{L()&&(x.value=y.editMode?"Zertifikat aktualisieren...":"Zertifikat erstellen...",b.value["description:de"]=xn.get("editor_de").getContent(),b.value["description:en"]=xn.get("editor_en").getContent(),console.log(b.value),b.value.image&&b.value.image!==null&&(b.value.image=b.value.image),Dn.patch(`/certificates/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(V=>{x.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",O.push("/zertifikate")}).catch(V=>{console.log(V),x.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",V.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Zertifikat")}))},H=V=>{const Z=V.target.files;if(console.log(Z),Z)for(let q=0;q<Z.length;q++){const $e=Z[q],me=new FormData;me.append("file",$e),Dn.post("/media",me,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Be=>{b.value.image=Be.data.media.id,T.value=Be.data.media.url}).catch(Be=>{console.log(Be),window.alert("Fehler beim Upload des Bildes")})}};za(async()=>{y.editMode&&P(),xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:V=>{V.on("init",()=>{V.setContent("<p>Zertifikats Beschreibung</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const P=()=>{Dn.get(`/certificates/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(V=>{b.value=V.data.certificate,b.value["name:de"]=V.data.certificate.translations[0].name,b.value["name:en"]=V.data.certificate.translations[1].name,V.data.certificate.image&&V.data.certificate.image!==null&&(b.value.image=V.data.certificate.image),V.data.certificate.image!==null&&(T.value=V.data.certificate.image.url),xn.get("editor_de").setContent(V.data.certificate.translations[0].description),xn.get("editor_en").setContent(V.data.certificate.translations[1].description)}).catch(V=>{V.response.status===401?sessionStorage.removeItem("token"):console.log(V)})};return Zm(()=>{y.insidePopup||xn.remove()}),(V,Z)=>{const q=Na("router-Link");return Ke(),Ye(Er,null,[F("div",doe,[F("h1",null,Kn(y.editMode?"Zertifikat Aktualisieren":"Zertifikat Erstellen"),1),y.insidePopup?(Ke(),Ye("button",{key:1,class:"button-primary",onClick:Z[0]||(Z[0]=$e=>m("closePopup"))}," Abbrechen ")):(Ke(),Ym(q,{key:0,to:"/zertifikate",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1}))]),moe,F("div",hoe,[it(tr,{lang:"de",title:"Zertifikat (DE)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":Z[1]||(Z[1]=$e=>b.value["name:de"]=$e),placeholder:"Name"},null,512),[[Un,b.value["name:de"]]])]),_:1}),it(tr,{lang:"en",title:"Zertifikat (EN)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":Z[2]||(Z[2]=$e=>b.value["name:en"]=$e),placeholder:"Name"},null,512),[[Un,b.value["name:en"]]])]),_:1})]),F("div",goe,[it(tr,{lang:"de",title:"Beschreibung"},{content:It(()=>[poe]),_:1}),it(tr,{lang:"en",title:"Description"},{content:It(()=>[boe]),_:1})]),F("div",yoe,[woe,Coe,T.value?(Ke(),Ye("div",_oe,[F("img",{src:T.value},null,8,Soe)])):Tr("",!0),F("div",xoe,[F("div",koe,[F("input",{type:"file",onChange:H},null,32)])])]),F("div",Aoe,[F("button",{class:"button-primary",onClick:Z[3]||(Z[3]=$e=>y.editMode?I():W())},Kn(x.value),1),F("div",Eoe,[(Ke(!0),Ye(Er,null,Ia(_.value,$e=>(Ke(),Ye("p",{key:$e},Kn($e),1))),128))])])],64)}}};const Toe={key:0,class:"Popup"},Ooe={class:"addPopup"},Doe={class:"select-container"},Roe={class:"chip-container"},$oe={class:"chip-name"},Boe=["onClick"],Moe=F("img",{src:j_,alt:"close",width:"15",height:"15"},null,-1),Poe=[Moe],Ioe={key:0,class:"selectable-options"},Noe=["onClick"],zoe={class:"option-content"},Foe={key:0,class:"option-avatar"},Loe=["src"],Hoe={class:"option-name"},mG={__name:"CertificateSelect",props:{selectedCertificate:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=xt([]),_=xt(!1),x=xt(!1),T=xt([]),O=Yi(()=>T.value.filter(V=>V.name.toLowerCase().includes(L.value.toLowerCase()))),L=xt(""),W=V=>{b.value.push(V),T.value.push(V),x.value=!1},I=async()=>(await Dn.get("/certificates")).data.certificates,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function P(){return b.value.map(V=>V.id)}return m({getData:P}),za(async()=>{T.value=await I()}),Km(()=>y.selectedCertificate,V=>{V===null?b.value=[]:b.value=V}),(V,Z)=>(Ke(),Ye("div",null,[x.value?(Ke(),Ye("div",Toe,[F("div",{class:"popupBackground",onClick:Z[0]||(Z[0]=q=>x.value=!1)}),F("div",Ooe,[it(i9,{insidePopup:!0,onClosePopup:Z[1]||(Z[1]=q=>x.value=!1),onNewCertificate:W})])])):Tr("",!0),F("div",Doe,[F("div",{class:"combobox",onClick:Z[3]||(Z[3]=q=>_.value=!0)},[F("div",Roe,[(Ke(!0),Ye(Er,null,Ia(b.value,q=>(Ke(),Ye("div",{class:"chip",key:q.id},[F("div",$oe,Kn(q.name),1),F("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},Poe,8,Boe)]))),128))]),_.value||b.value.length===0?Nn((Ke(),Ye("input",{key:0,type:"search","onUpdate:modelValue":Z[2]||(Z[2]=q=>L.value=q),placeholder:"Name des Zertifikates"},null,512)),[[Un,L.value]]):Tr("",!0)]),_.value?(Ke(),Ye("div",Ioe,[(Ke(!0),Ye(Er,null,Ia(O.value,q=>(Ke(),Ye("div",{class:"option",key:q.id,onClick:$e=>H(q)},[F("div",zoe,[q.image?(Ke(),Ye("div",Foe,[F("img",{src:q.image.url,alt:"avatar"},null,8,Loe)])):Tr("",!0),F("div",Hoe,Kn(q.name),1)])],8,Noe))),128)),O.value.length===0?(Ke(),Ye("div",{key:0,class:"option",onClick:Z[4]||(Z[4]=q=>x.value=!0)},' "'+Kn(L.value)+'" hinzufügen ? ',1)):Tr("",!0)])):Tr("",!0)])]))}},Voe={class:"row"},Uoe=F("hr",{class:"divider"},null,-1),Woe={class:"row content-row"},joe={class:"row content-row"},Goe=F("div",null,[F("a",{style:{"margin-top":"15px","margin-bottom":"5px","text-decoration":"underline"},href:"https://www.welt-flaggen.de/register/laenderkuerzel/"}," Liste der Länderkürzel "),F("p",null," Bitte die Kürzel der Länder von dieser Seite nehmen damit die Flaggen erscheinen. Über die Suche werden die Kürzel sofort dargestellt (2-Stellig). ")],-1),qoe={class:"content-row"},Koe={class:"errorMessages"},u9={__name:"SprachenForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newLanguage"],setup(f,{emit:m}){const y=f,b=xt({"name:de":"","name:en":"","description:de":"","description:en":""}),_=xt([]),x=xt(y.editMode?"Sprache aktualisieren":"Sprache erstellen"),T=xt(null),O=Kl(),L=()=>(_.value=[],b.value["name:de"]===""&&_.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&_.value.push("Bitte geben Sie einen Namen (EN) ein"),_.value.length===0),W=()=>{L()&&(x.value=y.editMode?"Sprache aktualisieren...":"Sprache erstellen...",Dn.post("/languages",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{x.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",y.insidePopup?m("newLanguage",P.data.language):O.push("/sprachen")}).catch(P=>{console.log(P),x.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Sprache")}))},I=()=>{L()&&(x.value=y.editMode?"Sprache aktualisieren...":"Sprache erstellen...",b.value.image!==null&&(b.value.image=b.value.image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(P=>P.id)),b.value.guides!==null&&(b.value.guides=b.value.guides.map(P=>P.id)),Dn.patch(`/languages/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{x.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",O.push("/sprachen")}).catch(P=>{console.log(P),x.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Sprache")}))};za(async()=>{y.editMode&&H()});const H=()=>{Dn.get(`/languages/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{b.value=P.data.language,b.value["name:de"]=P.data.language.translations[0].name,b.value["name:en"]=P.data.language.translations[1].name,b.value["description:de"]=P.data.language.translations[0].description,b.value["description:en"]=P.data.language.translations[1].description,b.value.image=P.data.language.image,P.data.language.image!==null&&(T.value=P.data.language.image.url)}).catch(P=>{P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return Zm(()=>{y.insidePopup||tinymce.remove()}),(P,V)=>{const Z=Na("router-Link");return Ke(),Ye(Er,null,[F("div",Voe,[F("h1",null,Kn(y.editMode?"Sprache Aktualisieren":"Sprache Erstellen"),1),y.insidePopup?(Ke(),Ye("button",{key:1,class:"button-primary",onClick:V[0]||(V[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Ym(Z,{key:0,to:"/sprachen",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1}))]),Uoe,F("div",Woe,[it(tr,{lang:"de",title:"Sprache (DE)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":V[1]||(V[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Un,b.value["name:de"]]])]),_:1}),it(tr,{lang:"en",title:"Sprache (EN)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":V[2]||(V[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Un,b.value["name:en"]]])]),_:1})]),F("div",joe,[it(tr,{lang:"de",title:"Kürzel (DE)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":V[3]||(V[3]=q=>b.value["description:de"]=q),placeholder:"Kürzel"},null,512),[[Un,b.value["description:de"]]])]),_:1}),it(tr,{lang:"en",title:"Kürzel (EN)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":V[4]||(V[4]=q=>b.value["description:en"]=q),placeholder:"Shortname"},null,512),[[Un,b.value["description:en"]]])]),_:1}),Goe]),F("div",qoe,[F("button",{class:"button-primary",onClick:V[5]||(V[5]=q=>y.editMode?I():W())},Kn(x.value),1),F("div",Koe,[(Ke(!0),Ye(Er,null,Ia(_.value,q=>(Ke(),Ye("p",{key:q},Kn(q),1))),128))])])],64)}}};const Xoe={key:0,class:"Popup"},Yoe={class:"addPopup"},Joe={key:1,class:"select-container"},Zoe={class:"chip-container"},Qoe={class:"chip-name"},eie=["onClick"],tie=F("img",{src:j_,alt:"close",width:"15",height:"15"},null,-1),nie=[tie],rie={key:0,class:"selectable-options"},aie=["onClick"],oie={class:"option-content"},iie={key:0,class:"option-avatar"},uie=["src"],sie={class:"option-name"},lie={key:2,class:"loadingIndicator"},cie=F("div",{class:"combobox"},[F("span",null,"Lade Sprache...")],-1),fie=[cie],hG={__name:"SprachenSelect",props:{selectedLanguages:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=xt([]),_=xt(!1),x=xt(!1),T=xt([]),O=Yi(()=>T.value.filter(V=>V.name.toLowerCase().includes(L.value.toLowerCase()))),L=xt(""),W=V=>{b.value.push(V),T.value.push(V),x.value=!1},I=async()=>(await Dn.get("/languages")).data.languages,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function P(){return b.value.map(V=>V.id)}return m({getData:P}),za(async()=>{T.value=await I()}),Km(()=>y.selectedLanguages,V=>{V===null?b.value=[]:b.value=V}),(V,Z)=>(Ke(),Ye("div",null,[x.value?(Ke(),Ye("div",Xoe,[F("div",{class:"popupBackground",onClick:Z[0]||(Z[0]=q=>x.value=!1)}),F("div",Yoe,[it(u9,{insidePopup:!0,onClosePopup:Z[1]||(Z[1]=q=>x.value=!1),onNewLanguage:W})])])):Tr("",!0),T.value.length>0?(Ke(),Ye("div",Joe,[F("div",{class:"combobox",onClick:Z[3]||(Z[3]=q=>_.value=!0)},[F("div",Zoe,[(Ke(!0),Ye(Er,null,Ia(b.value,q=>(Ke(),Ye("div",{class:"chip",key:q.id},[F("div",Qoe,Kn(q.name),1),F("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},nie,8,eie)]))),128))]),_.value||b.value.length===0?Nn((Ke(),Ye("input",{key:0,type:"search","onUpdate:modelValue":Z[2]||(Z[2]=q=>L.value=q),placeholder:"Name der Sprache"},null,512)),[[Un,L.value]]):Tr("",!0)]),_.value?(Ke(),Ye("div",rie,[(Ke(!0),Ye(Er,null,Ia(O.value,q=>(Ke(),Ye("div",{class:"option",key:q.id,onClick:$e=>H(q)},[F("div",oie,[q.image?(Ke(),Ye("div",iie,[F("img",{src:q.image.url,alt:"avatar"},null,8,uie)])):Tr("",!0),F("div",sie,Kn(q.name),1)])],8,aie))),128)),O.value.length===0?(Ke(),Ye("div",{key:0,class:"option",onClick:Z[4]||(Z[4]=q=>x.value=!0)},' "'+Kn(L.value)+'" hinzufügen ? ',1)):Tr("",!0)])):Tr("",!0)])):(Ke(),Ye("div",lie,fie))]))}},vie={class:"row"},die=F("hr",{class:"divider"},null,-1),mie={class:"row content-row"},hie={class:"content-row"},gie={class:"errorMessages"},s9={__name:"SkillForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newSkill"],setup(f,{emit:m}){const y=f,b=xt({"name:de":"","name:en":"","description:de":"","description:en":""}),_=xt([]),x=xt(y.editMode?"Skill aktualisieren":"Skill erstellen"),T=xt(null),O=Kl(),L=()=>(_.value=[],b.value["name:de"]===""&&_.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&_.value.push("Bitte geben Sie einen Namen (EN) ein"),_.value.length===0),W=()=>{L()&&(x.value=y.editMode?"Skill aktualisieren...":"Skill erstellen...",Dn.post("/skills",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{x.value=y.editMode?"Thema aktualisieren":"Thema erstellen",y.insidePopup?m("newSkill",P.data.skill):O.push("/skills")}).catch(P=>{console.log(P),x.value=y.editMode?"Skill aktualisieren":"Skill erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Skill")}))},I=()=>{L()&&(x.value=y.editMode?"Thema aktualisieren...":"Thema erstellen...",b.value.image&&b.value.image!==null&&(b.value.image=b.value.image.id),b.value.guides!==null&&b.value.guides.length>0?b.value.guides=b.value.guides.map(P=>P.id):b.value.guides=null,Dn.patch(`/skills/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{x.value=y.editMode?"Skill aktualisieren":"Skill erstellen",O.push("/skills")}).catch(P=>{console.log(P),x.value=y.editMode?"Thema aktualisieren":"Thema erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Themas")}))};za(async()=>{y.editMode&&H()});const H=()=>{Dn.get(`/skills/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{b.value=P.data.skill,b.value["name:de"]=P.data.skill.translations[0].name,b.value["name:en"]=P.data.skill.translations[1].name,b.value.image=P.data.skill.image,P.data.skill.image!==null&&(T.value=P.data.skill.image.url)}).catch(P=>{P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return Zm(()=>{y.insidePopup||tinymce.remove()}),(P,V)=>{const Z=Na("router-Link");return Ke(),Ye(Er,null,[F("div",vie,[F("h1",null,Kn(y.editMode?"Thema Aktualisieren":"Thema Erstellen"),1),y.insidePopup?(Ke(),Ye("button",{key:1,class:"button-primary",onClick:V[0]||(V[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Ym(Z,{key:0,to:"/skills",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1}))]),die,F("div",mie,[it(tr,{lang:"de",title:"Skill (DE)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":V[1]||(V[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Un,b.value["name:de"]]])]),_:1}),it(tr,{lang:"en",title:"Skill (EN)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":V[2]||(V[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Un,b.value["name:en"]]])]),_:1})]),F("div",hie,[F("button",{class:"button-primary",onClick:V[3]||(V[3]=q=>y.editMode?I():W())},Kn(x.value),1),F("div",gie,[(Ke(!0),Ye(Er,null,Ia(_.value,q=>(Ke(),Ye("p",{key:q},Kn(q),1))),128))])])],64)}}};const pie={key:0,class:"Popup"},bie={class:"addPopup"},yie={key:1,class:"select-container"},wie={class:"chip-container"},Cie={class:"chip-name"},_ie=["onClick"],Sie=F("img",{src:j_,alt:"close",width:"15",height:"15"},null,-1),xie=[Sie],kie={key:0,class:"selectable-options"},Aie=["onClick"],Eie={class:"option-content"},Tie={key:0,class:"option-avatar"},Oie=["src"],Die={class:"option-name"},Rie={key:2,class:"loadingIndicator"},$ie=F("div",{class:"combobox"},[F("span",null,"Lade Skills...")],-1),Bie=[$ie],gG={__name:"SkillSelect",props:{selectedSkills:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=xt([]),_=xt(!1),x=xt(!1),T=xt([]),O=Yi(()=>T.value.filter(V=>V.name.toLowerCase().includes(L.value.toLowerCase()))),L=xt(""),W=V=>{b.value.push(V),T.value.push(V),x.value=!1},I=async()=>(await Dn.get("/skills")).data.skills,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function P(){return b.value.map(V=>V.id)}return m({getData:P}),za(async()=>{T.value=await I()}),Km(()=>y.selectedSkills,V=>{V===null?b.value=[]:b.value=V}),(V,Z)=>(Ke(),Ye("div",null,[x.value?(Ke(),Ye("div",pie,[F("div",{class:"popupBackground",onClick:Z[0]||(Z[0]=q=>x.value=!1)}),F("div",bie,[it(s9,{insidePopup:!0,onClosePopup:Z[1]||(Z[1]=q=>x.value=!1),onNewSkill:W})])])):Tr("",!0),T.value.length>0?(Ke(),Ye("div",yie,[F("div",{class:"combobox",onClick:Z[3]||(Z[3]=q=>_.value=!0)},[F("div",wie,[(Ke(!0),Ye(Er,null,Ia(b.value,q=>(Ke(),Ye("div",{class:"chip",key:q.id},[F("div",Cie,Kn(q.name),1),F("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},xie,8,_ie)]))),128))]),_.value||b.value.length===0?Nn((Ke(),Ye("input",{key:0,type:"search","onUpdate:modelValue":Z[2]||(Z[2]=q=>L.value=q),placeholder:"Name des Skills"},null,512)),[[Un,L.value]]):Tr("",!0)]),_.value?(Ke(),Ye("div",kie,[(Ke(!0),Ye(Er,null,Ia(O.value,q=>(Ke(),Ye("div",{class:"option",key:q.id,onClick:$e=>H(q)},[F("div",Eie,[q.image?(Ke(),Ye("div",Tie,[F("img",{src:q.image.url,alt:"avatar"},null,8,Oie)])):Tr("",!0),F("div",Die,Kn(q.name),1)])],8,Aie))),128)),O.value.length===0?(Ke(),Ye("div",{key:0,class:"option",onClick:Z[4]||(Z[4]=q=>x.value=!0)},' "'+Kn(L.value)+'" hinzufügen ? ',1)):Tr("",!0)])):Tr("",!0)])):(Ke(),Ye("div",Rie,Bie))]))}},Mie={class:"row"},Pie=F("hr",{class:"divider"},null,-1),Iie={class:"row content-row"},Nie={class:"row content-row"},zie=F("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Fie=F("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Lie={class:"content-row"},Hie={class:"errorMessages"},l9={__name:"MobilitaetForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newMobility"],setup(f,{emit:m}){const y=f,b=xt({"name:de":"","name:en":"","description:de":"","description:en":""}),_=xt([]),x=xt(y.editMode?"Mobilität aktualisieren":"Mobilität erstellen"),T=xt(null),O=Kl(),L=()=>(_.value=[],b.value["name:de"]===""&&_.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&_.value.push("Bitte geben Sie einen Namen (EN) ein"),_.value.length===0),W=()=>{L()&&(x.value=y.editMode?"Mobilität aktualisieren...":"Mobilität erstellen...",b.value["description:de"]=xn.get("editor_de").getContent(),b.value["description:en"]=xn.get("editor_en").getContent(),Dn.post("/mobility",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{x.value=y.editMode?"Mobilität aktualisieren":"Mobilität erstellen",y.insidePopup?m("newMobility",P.data.mobility):O.push("/mobilitaet")}).catch(P=>{console.log(P),x.value=y.editMode?"Mobilität aktualisieren":"Mobilität erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Mobilität")}))},I=()=>{L()&&(x.value=y.editMode?"Mobilität aktualisieren...":"Mobilität erstellen...",b.value["description:de"]=xn.get("editor_de").getContent(),b.value["description:en"]=xn.get("editor_en").getContent(),b.value.main_image!==null&&(b.value.main_image=b.value.main_image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(P=>P.id)),b.value.guides!==null&&(b.value.guides=b.value.guides.map(P=>P.id)),Dn.patch(`/mobility/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{x.value=y.editMode?"Mobilität aktualisieren":"Mobilität erstellen",O.push("/mobilitaet")}).catch(P=>{console.log(P),x.value=y.editMode?"Mobilität aktualisieren":"Mobilität erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Mobilität")}))};za(async()=>{y.editMode&&H(),xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:P=>{P.on("init",()=>{P.setContent("<p>Mobilitäts Beschreibung</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const H=()=>{Dn.get(`/mobility/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{b.value=P.data.mobility,b.value["name:de"]=P.data.mobility.translations[0].name,b.value["name:en"]=P.data.mobility.translations[1].name,b.value.main_image=P.data.mobility.main_image,P.data.mobility.main_image!==null&&(T.value=P.data.mobility.main_image.url),xn.get("editor_de").setContent(P.data.mobility.translations[0].description),xn.get("editor_en").setContent(P.data.mobility.translations[1].description)}).catch(P=>{P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return Zm(()=>{y.insidePopup||xn.remove()}),(P,V)=>{const Z=Na("router-Link");return Ke(),Ye(Er,null,[F("div",Mie,[F("h1",null,Kn(y.editMode?"Mobilität Aktualisieren":"Mobilität Erstellen"),1),y.insidePopup?(Ke(),Ye("button",{key:1,class:"button-primary",onClick:V[0]||(V[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Ym(Z,{key:0,to:"/mobilitaet",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1}))]),Pie,F("div",Iie,[it(tr,{lang:"de",title:"Mobilität (DE)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":V[1]||(V[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Un,b.value["name:de"]]])]),_:1}),it(tr,{lang:"en",title:"Mobilität (EN)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":V[2]||(V[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Un,b.value["name:en"]]])]),_:1})]),F("div",Nie,[it(tr,{lang:"de",title:"Beschreibung"},{content:It(()=>[zie]),_:1}),it(tr,{lang:"en",title:"Description"},{content:It(()=>[Fie]),_:1})]),F("div",Lie,[F("button",{class:"button-primary",onClick:V[3]||(V[3]=q=>y.editMode?I():W())},Kn(x.value),1),F("div",Hie,[(Ke(!0),Ye(Er,null,Ia(_.value,q=>(Ke(),Ye("p",{key:q},Kn(q),1))),128))])])],64)}}};const Vie={key:0,class:"Popup"},Uie={class:"addPopup"},Wie={key:1,class:"select-container"},jie={class:"chip-container"},Gie={class:"chip-name"},qie=["onClick"],Kie=F("img",{src:j_,alt:"close",width:"15",height:"15"},null,-1),Xie=[Kie],Yie={key:0,class:"selectable-options"},Jie=["onClick"],Zie={class:"option-content"},Qie={key:0,class:"option-avatar"},eue=["src"],tue={class:"option-name"},nue={key:2,class:"loadingIndicator"},rue=F("div",{class:"combobox"},[F("span",null,"Lade Mobilitäten...")],-1),aue=[rue],r6={__name:"MobilitaetSelect",props:{selectedMobilites:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=xt([]),_=xt(!1),x=xt(!1),T=xt([]),O=Yi(()=>T.value.filter(V=>V.name.toLowerCase().includes(L.value.toLowerCase()))),L=xt(""),W=V=>{console.log(V),b.value.push(V),T.value.push(V),x.value=!1},I=async()=>(await Dn.get("/mobility")).data.mobilities,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function P(){return b.value.map(V=>V.id)}return m({getData:P}),za(async()=>{T.value=await I()}),Km(()=>y.selectedMobilites,V=>{V===null||V.length===1&&V[0]===null?b.value=[]:b.value=V}),(V,Z)=>(Ke(),Ye("div",null,[x.value?(Ke(),Ye("div",Vie,[F("div",{class:"popupBackground",onClick:Z[0]||(Z[0]=q=>x.value=!1)}),F("div",Uie,[it(l9,{insidePopup:!0,onClosePopup:Z[1]||(Z[1]=q=>x.value=!1),onNewMobility:W})])])):Tr("",!0),T.value.length>0?(Ke(),Ye("div",Wie,[F("div",{class:"combobox",onClick:Z[3]||(Z[3]=q=>_.value=!0)},[F("div",jie,[(Ke(!0),Ye(Er,null,Ia(b.value,q=>(Ke(),Ye("div",{class:"chip",key:q.id},[F("div",Gie,Kn(q.name),1),F("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},Xie,8,qie)]))),128))]),_.value||b.value.length===0?Nn((Ke(),Ye("input",{key:0,type:"search","onUpdate:modelValue":Z[2]||(Z[2]=q=>L.value=q),placeholder:"Name der Mobilität"},null,512)),[[Un,L.value]]):Tr("",!0)]),_.value?(Ke(),Ye("div",Yie,[(Ke(!0),Ye(Er,null,Ia(O.value,q=>(Ke(),Ye("div",{class:"option",key:q.id,onClick:$e=>H(q)},[F("div",Zie,[q.image?(Ke(),Ye("div",Qie,[F("img",{src:q.image.url,alt:"avatar"},null,8,eue)])):Tr("",!0),F("div",tue,Kn(q.name),1)])],8,Jie))),128)),O.value.length===0?(Ke(),Ye("div",{key:0,class:"option",onClick:Z[4]||(Z[4]=q=>x.value=!0)},' "'+Kn(L.value)+'" hinzufügen ? ',1)):Tr("",!0)])):Tr("",!0)])):(Ke(),Ye("div",nue,aue))]))}};const oue={key:0,class:"row"},iue={key:1},uue=F("h1",null,"Profil Aktualisieren",-1),sue=[uue],lue=F("hr",{class:"divider"},null,-1),cue={class:"row content-row"},fue={class:"row content-row"},vue=F("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),due=F("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),mue={class:"content-row"},hue=F("h3",null,"Guide Eigenschaften",-1),gue=F("hr",{class:"divider"},null,-1),pue={class:"row"},bue={class:"col",style:{width:"23%","min-width":"200px"}},yue=F("span",null,"Zertifikatsauswahl",-1),wue={class:"col",style:{width:"23%","min-width":"200px"}},Cue=F("span",null,"Sprachauswahl",-1),_ue={class:"col",style:{width:"23%","min-width":"200px"}},Sue=F("span",null,"Mobilitätsauswahl",-1),xue={class:"col",style:{width:"23%","min-width":"200px"}},kue=F("span",null,"Skillauswahl",-1),Aue={class:"content-row"},Eue=F("h3",null,"Kontakt",-1),Tue=F("hr",{class:"divider"},null,-1),Oue={class:"row"},Due={class:"col"},Rue=F("span",null,"Email",-1),$ue={class:"col"},Bue=F("span",null,"Telefon",-1),Mue={class:"col"},Pue=F("span",null,"Webseite",-1),Iue={class:"col"},Nue=F("span",null,"Handynummer",-1),zue={class:"content-row"},Fue=F("h3",null,"Guide Bild",-1),Lue=F("hr",{class:"divider"},null,-1),Hue={key:0,class:"image"},Vue=["src"],Uue={class:"row"},Wue={class:"col"},jue={class:"content-row"},Gue={class:"errorMessages"},c9={__name:"GuideForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1},showButton:{type:Boolean,default:!0}},emits:["closePopup","newGuide"],setup(f,{emit:m}){const y=f,b=xt(null),_=xt(null),x=xt(null),T=xt(null),O=xt({"name:de":"","name:en":"","description:de":"","description:en":"",contact:{},image:null,languages:[],skills:[],mobility:[],certificates:[]}),L=xt([]),W=xt(y.editMode?"Guide aktualisieren":"Guide erstellen"),I=xt(null),H=Kl(),P=()=>{const Be=b.value.getData(),ne=_.value.getData(),ge=x.value.getData(),De=T.value.getData();return O.value.certificates=Be,O.value.languages=ne,O.value.mobility=ge,O.value.skills=De,L.value=[],O.value["name:de"]===""&&L.value.push("Bitte geben Sie einen Namen (DE) ein"),O.value["name:en"]===""&&L.value.push("Bitte geben Sie einen Namen (EN) ein"),O.value.languages.length===0&&L.value.push("Bitte wählen Sie mindestens eine Sprache aus"),L.value.length===0},V=()=>{P()&&(W.value=y.editMode?"Guide aktualisieren...":"Guide erstellen...",O.value["description:de"]=xn.get("editor_de").getContent(),O.value["description:en"]=xn.get("editor_en").getContent(),O.value.contact.email!=""&&(O.value.email=O.value.contact.email),Dn.post("/guides",O.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Be=>{W.value=y.editMode?"Guide aktualisieren":"Guide erstellen",y.insidePopup?m("newGuide",Be.data.guide):H.push("/guides")}).catch(Be=>{W.value=y.editMode?"Guide aktualisieren":"Guide erstellen",Be.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen des Guides")}))},Z=()=>{if(!P())return;W.value=y.editMode?"Guide aktualisieren...":"Guide erstellen...",O.tours!==null&&(O.value.tours=O.value.tours.map(Se=>Se.id)),O.languages!==null&&(O.value.languages=O.value.languages.map(Se=>Se.id)),O.skills!==null&&(O.value.skills=O.value.skills.map(Se=>Se.id)),O.mobility!==null&&(O.value.mobility=O.value.mobility.map(Se=>Se.id)),O.certificates!==null&&(O.value.certificates=O.value.certificates.map(Se=>Se.id)),typeof O.value.image=="object"&&O.value.image!==null&&(O.value.image=O.value.image.id),O.value["description:de"]=xn.get("editor_de").getContent(),O.value["description:en"]=xn.get("editor_en").getContent();const Be=b.value.getData(),ne=_.value.getData(),ge=x.value.getData(),De=T.value.getData();O.value.certificates=Be,O.value.languages=ne,O.value.mobility=ge,O.value.skills=De,Dn.patch(`/guides/${y.id}`,O.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Se=>{W.value=y.editMode?"Guide aktualisieren":"Guide erstellen",H.push("/guides")}).catch(Se=>{console.log(Se),W.value=y.editMode?"Guide aktualisieren":"Guide erstellen",Se.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Guides")})},q=Be=>{const ne=Be.target.files;if(console.log(ne),ne)for(let ge=0;ge<ne.length;ge++){const De=ne[ge],Se=new FormData;Se.append("file",De),Dn.post("/media",Se,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(We=>{O.value.image=We.data.media.id,I.value=We.data.media.url}).catch(We=>{console.log(We),window.alert("Fehler beim Upload des Bildes")})}};za(async()=>{y.editMode&&$e(),xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:Be=>{Be.on("init",()=>{Be.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const $e=()=>{Dn.get(`/guides/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Be=>{O.value=Be.data.guide,O.value["name:de"]=Be.data.guide.translations[0].name,O.value["name:en"]=Be.data.guide.translations[1].name,O.value["description:de"]=Be.data.guide.translations[0].description,O.value["description:en"]=Be.data.guide.translations[1].description,Be.data.guide.contact!==null&&!Array.isArray(JSON.parse(Be.data.guide.contact))?O.value.contact=JSON.parse(Be.data.guide.contact):O.value.contact={},I.value=Be.data.guide.image?Be.data.guide.image[0].url:null,O.value.languages=Be.data.guide.languages,O.value.skills=Be.data.guide.skills,O.value.mobility=Be.data.guide.mobility,O.value.certificates=Be.data.guide.certificates,Be.data.guide.image!==null&&(I.value=Be.data.guide.image[0].url),xn.get("editor_de").setContent(Be.data.guide.translations[0].description||""),xn.get("editor_en").setContent(Be.data.guide.translations[1].description||""),console.log(O)}).catch(Be=>{console.log(Be),Be.response.status===401?sessionStorage.removeItem("token"):console.log(Be)})},me=()=>{O.value.image=null,I.value=null};return Zm(()=>{y.insidePopup||xn.remove()}),(Be,ne)=>{const ge=Na("router-Link");return Ke(),Ye(Er,null,[y.showButton?(Ke(),Ye("div",oue,[F("h1",null,Kn(y.editMode?"Guide Aktualisieren":"Guide Erstellen"),1),y.insidePopup?(Ke(),Ye("button",{key:1,class:"button-primary",onClick:ne[0]||(ne[0]=De=>m("closePopup"))}," Abbrechen ")):(Ke(),Ym(ge,{key:0,to:"/guides",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1}))])):(Ke(),Ye("div",iue,sue)),lue,F("div",cue,[it(tr,{lang:"de",title:"Name"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":ne[1]||(ne[1]=De=>O.value["name:de"]=De),placeholder:"Name"},null,512),[[Un,O.value["name:de"]]])]),_:1}),it(tr,{lang:"en",title:"Name"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":ne[2]||(ne[2]=De=>O.value["name:en"]=De),placeholder:"Name"},null,512),[[Un,O.value["name:en"]]])]),_:1})]),F("div",fue,[it(tr,{lang:"de",title:"Beschreibung"},{content:It(()=>[vue]),_:1}),it(tr,{lang:"en",title:"Description"},{content:It(()=>[due]),_:1})]),F("div",mue,[hue,gue,F("div",pue,[F("div",bue,[yue,it(mG,{ref_key:"certificateSelect",ref:b,"selected-certificate":O.value.certificates},null,8,["selected-certificate"])]),F("div",wue,[Cue,it(hG,{ref_key:"languageSelect",ref:_,"selected-languages":O.value.languages},null,8,["selected-languages"])]),F("div",_ue,[Sue,it(r6,{ref_key:"mobilitySelect",ref:x,"selected-mobilites":O.value.mobility},null,8,["selected-mobilites"])]),F("div",xue,[kue,it(gG,{ref_key:"skillSelect",ref:T,"selected-skills":O.value.skills},null,8,["selected-skills"])])])]),F("div",Aue,[Eue,Tue,F("div",Oue,[F("div",Due,[Rue,Nn(F("input",{type:"text",placeholder:"Email","onUpdate:modelValue":ne[3]||(ne[3]=De=>O.value.contact.email=De)},null,512),[[Un,O.value.contact.email]])]),F("div",$ue,[Bue,Nn(F("input",{type:"text",placeholder:"Telefon","onUpdate:modelValue":ne[4]||(ne[4]=De=>O.value.contact.phone=De)},null,512),[[Un,O.value.contact.phone]])]),F("div",Mue,[Pue,Nn(F("input",{type:"text",placeholder:"Webseite","onUpdate:modelValue":ne[5]||(ne[5]=De=>O.value.contact.website=De)},null,512),[[Un,O.value.contact.website]])]),F("div",Iue,[Nue,Nn(F("input",{type:"text",placeholder:"Handynummer","onUpdate:modelValue":ne[6]||(ne[6]=De=>O.value.contact.mobile=De)},null,512),[[Un,O.value.contact.mobile]])])])]),F("div",zue,[Fue,Lue,I.value?(Ke(),Ye("div",Hue,[F("img",{src:I.value},null,8,Vue)])):Tr("",!0),I.value?(Ke(),Ye("a",{key:1,onClick:me,class:"removeImage"},"Bild entfernen")):Tr("",!0),F("div",Uue,[F("div",Wue,[F("input",{type:"file",onChange:q},null,32)])])]),F("div",jue,[F("button",{class:"button-primary",onClick:ne[7]||(ne[7]=De=>y.editMode?Z():V())},Kn(W.value),1),F("div",Gue,[(Ke(!0),Ye(Er,null,Ia(L.value,De=>(Ke(),Ye("p",{key:De},Kn(De),1))),128))])])],64)}}};const que={key:0,class:"Popup"},Kue={class:"addPopup"},Xue={key:1,class:"select-container"},Yue={class:"chip-container"},Jue={class:"chip-name"},Zue=["onClick"],Que=F("img",{src:j_,alt:"close",width:"15",height:"15"},null,-1),ese=[Que],tse={key:0,class:"selectable-options"},nse=["onClick"],rse={class:"option-content"},ase={key:0,class:"option-avatar"},ose=["src"],ise={class:"option-name"},use={key:2,class:"loadingIndicator"},sse=F("div",{class:"combobox"},[F("span",null,"Lade Guides...")],-1),lse=[sse],pG={__name:"GuideSelect",props:{selectedGuides:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=xt([]),_=xt(!1),x=xt(!1),T=xt([]),O=Yi(()=>T.value.filter(V=>V.name.toLowerCase().includes(L.value.toLowerCase()))),L=xt(""),W=V=>{b.value.push(V),T.value.push(V),x.value=!1},I=async()=>(await Dn.get("/guides?preview=true&per_page=300&fields=id")).data.guides.data,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function P(){return b.value.map(V=>V.id)}return m({getData:P}),za(async()=>{T.value=await I()}),Km(()=>y.selectedGuides,V=>{console.log(V),b.value=V}),(V,Z)=>(Ke(),Ye("div",null,[x.value?(Ke(),Ye("div",que,[F("div",{class:"popupBackground",onClick:Z[0]||(Z[0]=q=>x.value=!1)}),F("div",Kue,[it(c9,{insidePopup:"true",onClosePopup:Z[1]||(Z[1]=q=>x.value=!1),onNewGuide:W})])])):Tr("",!0),T.value.length>0?(Ke(),Ye("div",Xue,[F("div",{class:"combobox",onClick:Z[3]||(Z[3]=q=>_.value=!0)},[F("div",Yue,[(Ke(!0),Ye(Er,null,Ia(b.value,q=>(Ke(),Ye("div",{class:"chip",key:q.id},[F("div",Jue,Kn(q.name),1),F("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},ese,8,Zue)]))),128))]),_.value||b.value.length===0?Nn((Ke(),Ye("input",{key:0,type:"search","onUpdate:modelValue":Z[2]||(Z[2]=q=>L.value=q),placeholder:"Name des Guides"},null,512)),[[Un,L.value]]):Tr("",!0)]),_.value?(Ke(),Ye("div",tse,[(Ke(!0),Ye(Er,null,Ia(O.value,q=>(Ke(),Ye("div",{class:"option",key:q.id,onClick:$e=>H(q)},[F("div",rse,[q.image?(Ke(),Ye("div",ase,[F("img",{src:q.image[0].url,alt:"avatar"},null,8,ose)])):Tr("",!0),F("div",ise,Kn(q.name),1)])],8,nse))),128)),O.value.length===0?(Ke(),Ye("div",{key:0,class:"option",onClick:Z[4]||(Z[4]=q=>x.value=!0)},' "'+Kn(L.value)+'" hinzufügen ? ',1)):Tr("",!0)])):Tr("",!0)])):(Ke(),Ye("div",use,lse))]))}},cse={class:"row"},fse=F("hr",{class:"divider"},null,-1),vse={class:"row content-row"},dse={class:"content-row"},mse={class:"errorMessages"},f9={__name:"OrtFrom",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newPlace"],setup(f,{emit:m}){const y=f,b=xt({"name:de":"","name:en":"","description:de":"","description:en":""}),_=xt([]),x=xt(y.editMode?"Ort aktualisieren":"Ort erstellen"),T=xt(null),O=Kl(),L=()=>(_.value=[],b.value["name:de"]===""&&_.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&_.value.push("Bitte geben Sie einen Namen (EN) ein"),_.value.length===0),W=()=>{L()&&(x.value=y.editMode?"Ort aktualisieren...":"Ort erstellen...",Dn.post("/places",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{x.value=y.editMode?"Ort aktualisieren":"Ort erstellen",y.insidePopup?m("newPlace",P.data.place):O.push("/orte")}).catch(P=>{console.log(P),x.value=y.editMode?"Ort aktualisieren":"Ort erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen des Ortes")}))},I=()=>{L()&&(x.value=y.editMode?"Ort aktualisieren...":"Ort erstellen...",b.value.main_image!==null&&(b.value.main_image=b.value.main_image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(P=>P.id)),Dn.patch(`/places/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{x.value=y.editMode?"Ort aktualisieren":"Ort erstellen",O.push("/orte")}).catch(P=>{console.log(P),x.value=y.editMode?"Ort aktualisieren":"Ort erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Ortes")}))};za(async()=>{y.editMode&&H()});const H=()=>{Dn.get(`/places/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{b.value=P.data.place,b.value["name:de"]=P.data.place.translations[0].name,b.value["name:en"]=P.data.place.translations[1].name,b.value.main_image=P.data.place.main_image,P.data.place.main_image!==null&&(T.value=P.data.place.main_image.url)}).catch(P=>{P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return Zm(()=>{y.insidePopup||tinymce.remove()}),(P,V)=>{const Z=Na("router-Link");return Ke(),Ye(Er,null,[F("div",cse,[F("h1",null,Kn(y.editMode?"Ort Aktualisieren":"Ort Erstellen"),1),y.insidePopup?(Ke(),Ye("button",{key:1,class:"button-primary",onClick:V[0]||(V[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Ym(Z,{key:0,to:"/orte",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1}))]),fse,F("div",vse,[it(tr,{lang:"de",title:"Ort (DE)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":V[1]||(V[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Un,b.value["name:de"]]])]),_:1}),it(tr,{lang:"en",title:"Ort (EN)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":V[2]||(V[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Un,b.value["name:en"]]])]),_:1})]),F("div",dse,[F("button",{class:"button-primary",onClick:V[3]||(V[3]=q=>y.editMode?I():W())},Kn(x.value),1),F("div",mse,[(Ke(!0),Ye(Er,null,Ia(_.value,q=>(Ke(),Ye("p",{key:q},Kn(q),1))),128))])])],64)}}};const hse={key:0,class:"Popup"},gse={class:"addPopup"},pse={key:1,class:"select-container"},bse={class:"chip-container"},yse={class:"chip-name"},wse=["onClick"],Cse=F("img",{src:j_,alt:"close",width:"15",height:"15"},null,-1),_se=[Cse],Sse={key:0,class:"selectable-options"},xse=["onClick"],kse={class:"option-content"},Ase={key:0,class:"option-avatar"},Ese=["src"],Tse={class:"option-name"},Ose={key:2,class:"loadingIndicator"},Dse=F("div",{class:"combobox"},[F("span",null,"Lade Orte...")],-1),Rse=[Dse],bG={__name:"OrtSelect",props:{selectedplaces:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=xt([]),_=xt(!1),x=xt(!1),T=xt([]),O=Yi(()=>T.value.filter(V=>V.name.toLowerCase().includes(L.value.toLowerCase()))),L=xt(""),W=V=>{b.value.push(V),T.value.push(V),x.value=!1},I=async()=>(await Dn.get("/places")).data.places,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function P(){return b.value.map(V=>V.id)}return m({getData:P}),za(async()=>{T.value=await I()}),Km(()=>y.selectedplaces,V=>{b.value=V}),(V,Z)=>(Ke(),Ye("div",null,[x.value?(Ke(),Ye("div",hse,[F("div",{class:"popupBackground",onClick:Z[0]||(Z[0]=q=>x.value=!1)}),F("div",gse,[it(f9,{insidePopup:!0,onClosePopup:Z[1]||(Z[1]=q=>x.value=!1),onNewPlace:W})])])):Tr("",!0),T.value.length>0?(Ke(),Ye("div",pse,[F("div",{class:"combobox",onClick:Z[3]||(Z[3]=q=>_.value=!0)},[F("div",bse,[(Ke(!0),Ye(Er,null,Ia(b.value,q=>(Ke(),Ye("div",{class:"chip",key:q.id},[F("div",yse,Kn(q.name),1),F("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},_se,8,wse)]))),128))]),_.value||b.value.length===0?Nn((Ke(),Ye("input",{key:0,type:"search","onUpdate:modelValue":Z[2]||(Z[2]=q=>L.value=q),placeholder:"Name des Ortes"},null,512)),[[Un,L.value]]):Tr("",!0)]),_.value?(Ke(),Ye("div",Sse,[(Ke(!0),Ye(Er,null,Ia(O.value,q=>(Ke(),Ye("div",{class:"option",key:q.id,onClick:$e=>H(q)},[F("div",kse,[q.image?(Ke(),Ye("div",Ase,[F("img",{src:q.image.url,alt:"avatar"},null,8,Ese)])):Tr("",!0),F("div",Tse,Kn(q.name),1)])],8,xse))),128)),O.value.length===0?(Ke(),Ye("div",{key:0,class:"option",onClick:Z[4]||(Z[4]=q=>x.value=!0)},' "'+Kn(L.value)+'" hinzufügen ? ',1)):Tr("",!0)])):Tr("",!0)])):(Ke(),Ye("div",Ose,Rse))]))}},$se={class:"row"},Bse=F("hr",{class:"divider"},null,-1),Mse={class:"row content-row"},Pse={class:"content-row"},Ise={class:"errorMessages"},v9={__name:"KategorieForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newTheme"],setup(f,{emit:m}){const y=f,b=xt({"name:de":"","name:en":"","description:de":"","description:en":""}),_=xt([]),x=xt(y.editMode?"Kategorie aktualisieren":"Kategorie erstellen"),T=xt(null),O=Kl(),L=()=>(_.value=[],b.value["name:de"]===""&&_.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&_.value.push("Bitte geben Sie einen Namen (EN) ein"),_.value.length===0),W=()=>{L()&&(x.value=y.editMode?"Kategorie aktualisieren...":"Kategorie erstellen...",b.value["name:en"]===""&&(b.value["name:en"]=b.value["name:de"]),b.value["description:en"]===""&&(b.value["description:en"]=b.value["description:de"]),Dn.post("/themes",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{x.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",y.insidePopup?m("newTheme",P.data.theme):O.push("/kategorien")}).catch(P=>{console.log(P),x.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen de Kategorie")}))},I=()=>{L()&&(x.value=y.editMode?"Kategorie aktualisieren...":"Kategorie erstellen...",b.value.image&&b.value.image!==null&&(b.value.image=b.value.image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(P=>P.id)),Dn.patch(`/themes/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{x.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",O.push("/kategorien")}).catch(P=>{console.log(P),x.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",P.response&&P.response.status&&P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Kategorie")}))};za(async()=>{y.editMode&&H()});const H=()=>{Dn.get(`/themes/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{b.value=P.data.theme,b.value["name:de"]=P.data.theme.translations[0].name,b.value["name:en"]=P.data.theme.translations[1].name,b.value.image=P.data.theme.image,P.data.theme.image&&P.data.theme.image!==null&&(T.value=P.data.theme.image.url)}).catch(P=>{P.response&&P.response.status&&P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return W_(()=>{y.insidePopup||tinymce.remove()}),(P,V)=>{const Z=Na("router-Link");return Ke(),Ye(Er,null,[F("div",$se,[F("h1",null,Kn(y.editMode?"Kategorie Aktualisieren":"Kategorie Erstellen"),1),y.insidePopup?(Ke(),Ye("button",{key:1,class:"button-primary",onClick:V[0]||(V[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Ym(Z,{key:0,to:"/kategorien",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1}))]),Bse,F("div",Mse,[it(tr,{lang:"de",title:"Kategorie (DE)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":V[1]||(V[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Un,b.value["name:de"]]])]),_:1}),it(tr,{lang:"en",title:"Kategorie (EN)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":V[2]||(V[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Un,b.value["name:en"]]])]),_:1})]),F("div",Pse,[F("button",{class:"button-primary",onClick:V[3]||(V[3]=q=>y.editMode?I():W())},Kn(x.value),1),F("div",Ise,[(Ke(!0),Ye(Er,null,Ia(_.value,q=>(Ke(),Ye("p",{key:q},Kn(q),1))),128))])])],64)}}};const Nse={key:0,class:"Popup"},zse={class:"addPopup"},Fse={key:1,class:"select-container"},Lse={class:"chip-container"},Hse={class:"chip-name"},Vse=["onClick"],Use=F("img",{src:j_,alt:"close",width:"15",height:"15"},null,-1),Wse=[Use],jse={key:0,class:"selectable-options"},Gse=["onClick"],qse={class:"option-content"},Kse={key:0,class:"option-avatar"},Xse=["src"],Yse={class:"option-name"},Jse={key:2,class:"loadingIndicator"},Zse=F("div",{class:"combobox"},[F("span",null,"Lade Kategorien...")],-1),Qse=[Zse],yG={__name:"KategorieSelect",props:{selectedthemes:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=xt([]),_=xt(!1),x=xt(!1),T=xt([]),O=Yi(()=>T.value.filter(V=>V.name.toLowerCase().includes(L.value.toLowerCase()))),L=xt(""),W=V=>{b.value.push(V),T.value.push(V),x.value=!1},I=async()=>(await Dn.get("/themes")).data.themes,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function P(){return b.value.map(V=>V.id)}return m({getData:P}),za(async()=>{T.value=await I()}),Km(()=>y.selectedthemes,V=>{b.value=V}),(V,Z)=>(Ke(),Ye("div",null,[x.value?(Ke(),Ye("div",Nse,[F("div",{class:"popupBackground",onClick:Z[0]||(Z[0]=q=>x.value=!1)}),F("div",zse,[it(v9,{insidePopup:!0,onClosePopup:Z[1]||(Z[1]=q=>x.value=!1),onNewTheme:W})])])):Tr("",!0),T.value.length>0?(Ke(),Ye("div",Fse,[F("div",{class:"combobox",onClick:Z[3]||(Z[3]=q=>_.value=!0)},[F("div",Lse,[(Ke(!0),Ye(Er,null,Ia(b.value,q=>(Ke(),Ye("div",{class:"chip",key:q.id},[F("div",Hse,Kn(q.name),1),F("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},Wse,8,Vse)]))),128))]),_.value||b.value.length===0?Nn((Ke(),Ye("input",{key:0,type:"search","onUpdate:modelValue":Z[2]||(Z[2]=q=>L.value=q),placeholder:"Name der Kategorie"},null,512)),[[Un,L.value]]):Tr("",!0)]),_.value?(Ke(),Ye("div",jse,[(Ke(!0),Ye(Er,null,Ia(O.value,q=>(Ke(),Ye("div",{class:"option",key:q.id,onClick:$e=>H(q)},[F("div",qse,[q.image?(Ke(),Ye("div",Kse,[F("img",{src:q.image.url,alt:"avatar"},null,8,Xse)])):Tr("",!0),F("div",Yse,Kn(q.name),1)])],8,Gse))),128)),O.value.length===0?(Ke(),Ye("div",{key:0,class:"option",onClick:Z[4]||(Z[4]=q=>x.value=!0)},' "'+Kn(L.value)+'" hinzufügen ? ',1)):Tr("",!0)])):Tr("",!0)])):(Ke(),Ye("div",Jse,Qse))]))}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EW;(function(f){f[f.INITIALIZED=0]="INITIALIZED",f[f.LOADING=1]="LOADING",f[f.SUCCESS=2]="SUCCESS",f[f.FAILURE=3]="FAILURE"})(EW||(EW={}));const Ni=f=>(V_("data-v-0b006b3f"),f=f(),U_(),f),ele={class:"row"},tle=Ni(()=>F("h1",null,"Tour erstellen",-1)),nle=Ni(()=>F("hr",{class:"divider"},null,-1)),rle={class:"creation-grid"},ale={class:"main-content"},ole=Ni(()=>F("h4",null,"Allgemeine Informationen",-1)),ile=Ni(()=>F("hr",{class:"divider"},null,-1)),ule={class:"row content-row"},sle={class:"row content-row"},lle={class:"content-row"},cle=Ni(()=>F("h4",null,"Bilder",-1)),fle=Ni(()=>F("hr",{class:"divider"},null,-1)),vle={key:0,class:"images"},dle=["onClick","onDrop"],mle=Ni(()=>F("img",{src:Of,width:"25",height:"25"},null,-1)),hle=[mle],gle=["src"],ple={class:"error"},ble=["disabled"],yle=Ni(()=>F("div",{class:"divider"},null,-1)),wle={class:"content-row"},Cle={key:0},_le=Ni(()=>F("hr",{class:"divider"},null,-1)),Sle={class:"input-container"},xle=Ni(()=>F("h5",null,"Datum der Tour",-1)),kle={class:"input-container"},Ale=Ni(()=>F("h5",null,"Wann startet diese Tour",-1)),Ele={class:"input-container"},Tle=Ni(()=>F("h5",null,"Preis",-1)),Ole={class:"creation-sidebar"},Dle={class:"sidebar-item"},Rle=Ni(()=>F("h4",null,"Guide hinzufügen",-1)),$le=Ni(()=>F("hr",{class:"divider"},null,-1)),Ble={class:"sidebar-item"},Mle=Ni(()=>F("h4",null,"Ort hinzufügen",-1)),Ple=Ni(()=>F("hr",{class:"divider"},null,-1)),Ile={class:"sidebar-item"},Nle=Ni(()=>F("h4",null,"Kategorien hinzufügen",-1)),zle=Ni(()=>F("hr",{class:"divider"},null,-1)),Fle={class:"sidebar-item"},Lle=Ni(()=>F("h4",null,"Mobilität hinzufügen",-1)),Hle=Ni(()=>F("hr",{class:"divider"},null,-1)),Vle={class:"sidebar-item"},Ule=Ni(()=>F("h4",null,"Veröffentlichen",-1)),Wle=Ni(()=>F("hr",{class:"divider"},null,-1)),jle={class:"input-container"},Gle=Ni(()=>F("option",{value:"draft"},"Entwurf",-1)),qle=Ni(()=>F("option",{value:"published"},"Veröffentlichen",-1)),Kle=[Gle,qle],Xle={class:"errorMessages"},Yle={__name:"Create",setup(f){const m=xt({"name:de":"","name:en":"","description:de":"","description:en":"",status:"draft",is_public:!1,date:null,duration:null,needs_registration:!1,price:0,guides:[],places:[],images:[],image_copyright:"",main_image:null,themes:[]}),y=xt(null),b=xt(null),_=xt(null),x=xt(null);xt(null);const T=xt([]);xt(null);const O=xt("Tour erstellen"),L=xt([]),W=Kl(),I=Yi(()=>m.value.price.replace(",",".").replace(/[^0-9.]/g,"")),H=xt(""),P=xt(null),V=xt(!1),Z=()=>{V.value=!0;const ne={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};P.value&&hl(P.value,ne).then(ge=>{const De=new FormData;De.append("file",ge),Dn.post("/media",De,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Se=>{T.value.push(Se.data.media),V.value=!1}).catch(Se=>{console.log(Se),window.alert("Fehler beim Upload des Bildes"),V.value=null})}).catch(ge=>{console.log(ge),window.alert("Fehler beim Komprimieren des Bildes")})},q=ne=>{H.value="";const ge=ne.target.files,De=ge[0].size/1024/1024;if(De>1){H.value="Bild("+De.toFixed(2)+"MB) ist zu groß (max. 1MB)",P.value=ge[0];return}if(ge)for(let Se=0;Se<ge.length;Se++){const We=ge[Se],se=new FormData;se.append("file",We),Dn.post("/media",se,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ce=>{T.value.push(ce.data.media)}).catch(ce=>{console.log(ce),window.alert("Fehler beim Upload des Bildes")})}},$e=ne=>{T.value=T.value.filter(ge=>ge.id!==ne)},me=()=>(L.value=[],T.value.length===0&&L.value.push("Es muss mindestens ein Bild hochgeladen werden"),m.value.is_public&&(m.value.date===null&&L.value.push("Datum der Tour ist ein Pflichtfeld"),m.value.duration===null&&L.value.push("Dauer der Tour ist ein Pflichtfeld"),m.value.price===null&&L.value.push("Preis der Tour ist ein Pflichtfeld")),L.value.length===0),Be=()=>{if(!me())return;m.value["description:de"]=xn.get("editor_de").getContent(),m.value["description:en"]=xn.get("editor_en").getContent(),m.value.images=T.value.map(We=>We.id);const ne=y.value.getData(),ge=b.value.getData(),De=_.value.getData(),Se=x.value.getData();m.value.image_copyright=m.value.image_copyright||"unset",m.value.guides=ne,m.value.places=ge,m.value.themes=De,Se.length===0?m.value.mobilities=null:m.value.mobilities=Se,m.value.is_public&&(m.value.price=I.value,m.value.duration=m.value.duration||""),Dn.post("/tours",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(We=>{O.value="Tour wurde erstellt",W.push("/tour-bearbeiten/"+We.data.tour.id)}).catch(We=>{console.log(We),We.response.status===401?sessionStorage.removeItem("token"):(window.alert("Tour konnte nicht erstellt werden"),O.value="Tour erstellen")})};return za(async()=>{xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:ne=>{ne.on("init",()=>{ne.setContent("<p>Starte hier mit der Beschreibung deiner Tour.</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),Zm(()=>{xn.remove()}),(ne,ge)=>{const De=Na("router-Link");return Ke(),Ye("main",null,[F("div",ele,[tle,it(De,{to:"/",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1})]),nle,F("div",rle,[F("div",ale,[ole,ile,F("div",ule,[it(tr,{lang:"de",title:"Titel der Tour"},{content:It(()=>[Nn(F("input",{type:"text",for:"title",placeholder:"Titel","onUpdate:modelValue":ge[0]||(ge[0]=Se=>m.value["name:de"]=Se)},null,512),[[Un,m.value["name:de"]]])]),_:1}),it(tr,{lang:"en",title:"title of the tour"},{content:It(()=>[Nn(F("input",{type:"text",for:"title",placeholder:"Title","onUpdate:modelValue":ge[1]||(ge[1]=Se=>m.value["name:en"]=Se)},null,512),[[Un,m.value["name:en"]]])]),_:1})]),F("div",sle,[it(tr,{lang:"de",title:"Beschreibung der Tour"},{content:It(()=>[Nn(F("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de","onUpdate:modelValue":ge[2]||(ge[2]=Se=>m.value["description:de"]=Se)},null,512),[[Un,m.value["description:de"]]])]),_:1}),it(tr,{lang:"en",title:"Description of the tour"},{content:It(()=>[Nn(F("textarea",{for:"description",placeholder:"Description",id:"editor_en","onUpdate:modelValue":ge[3]||(ge[3]=Se=>m.value["description:en"]=Se)},null,512),[[Un,m.value["description:en"]]])]),_:1})]),F("div",lle,[cle,fle,T.value.length>0?(Ke(),Ye("div",vle,[(Ke(!0),Ye(Er,null,Ia(T.value,Se=>(Ke(),Ye("div",{class:"image",key:Se.id},[F("button",{class:"removeImage",onClick:We=>$e(Se.id),draggable:"true",onDrop:We=>ne.reorderImages(Se.id),onDragover:ge[4]||(ge[4]=(...We)=>ne.allowDrop&&ne.allowDrop(...We)),onDragstart:ge[5]||(ge[5]=(...We)=>ne.dragImage&&ne.dragImage(...We))},hle,40,dle),F("img",{src:Se.url},null,8,gle)]))),128))])):Tr("",!0),F("input",{type:"file",onChange:q},null,32),F("p",ple,Kn(H.value),1),H.value?(Ke(),Ye("button",{key:1,class:"button-primary",onClick:Z,disabled:V.value},Kn(V.value?"Komprimiere Bild...":"Bild verkleinern"),9,ble)):Tr("",!0),yle,Nn(F("input",{type:"text","onUpdate:modelValue":ge[6]||(ge[6]=Se=>m.value.image_copyright=Se),placeholder:"Bild Copyright"},null,512),[[Un,m.value.image_copyright]])]),F("div",wle,[it($8,{value:m.value.is_public,titel:"Öffentliche Tour",onInput:ge[7]||(ge[7]=Se=>m.value.is_public=Se)},null,8,["value"]),m.value.is_public?(Ke(),Ye("div",Cle,[_le,F("div",Sle,[xle,Nn(F("input",{type:"date","onUpdate:modelValue":ge[8]||(ge[8]=Se=>m.value.date=Se)},null,512),[[Un,m.value.date]])]),F("div",kle,[Ale,Nn(F("input",{type:"text","onUpdate:modelValue":ge[9]||(ge[9]=Se=>m.value.duration=Se),placeholder:"bspw. 14:30 Uhr"},null,512),[[Un,m.value.duration]])]),F("div",Ele,[Tle,Nn(F("input",{type:"text","onUpdate:modelValue":ge[10]||(ge[10]=Se=>m.value.price=Se),placeholder:"bspw. 10.50€"},null,512),[[Un,m.value.price]])]),it($8,{value:m.value.needs_registration,titel:"Anmeldung erforderlich",onInput:ge[11]||(ge[11]=Se=>m.value.needs_registration=Se)},null,8,["value"])])):Tr("",!0)])]),F("div",Ole,[F("div",Dle,[Rle,$le,it(pG,{ref_key:"guideSelect",ref:y},null,512)]),F("div",Ble,[Mle,Ple,it(bG,{ref_key:"ortSelect",ref:b},null,512)]),F("div",Ile,[Nle,zle,it(yG,{ref_key:"kategorieSelect",ref:_},null,512)]),F("div",Fle,[Lle,Hle,it(r6,{ref_key:"mobilitySelect",ref:x},null,512)]),F("div",Vle,[Ule,Wle,F("div",jle,[Nn(F("select",{"onUpdate:modelValue":ge[12]||(ge[12]=Se=>m.value.status=Se)},Kle,512),[[KH,m.value.status]])]),F("button",{class:"button-primary",onClick:Be},Kn(O.value),1),F("div",Xle,[(Ke(!0),Ye(Er,null,Ia(L.value,Se=>(Ke(),Ye("p",{key:Se},Kn(Se),1))),128))])])])])])}}},Jle=lb(Yle,[["__scopeId","data-v-0b006b3f"]]);const Zle={default:{name:"TourDateSetter",props:{dates:{type:String,required:!0,default:[]}}},data(){return{dates:[],date:"",addDate:!1,isEditing:!1,editingId:null,guides:[],guidesToSelect:[],error:"",tourId:parseInt(this.$route.params.id)}},methods:{addDateEntry(){if(this.error="",!this.date||this.date==="")if(new Date(this.date)==="Invalid Date"){this.error="Bitte geben Sie ein gültiges Datum ein.";return}else{this.error="Bitte geben Sie ein Datum ein.";return}if(!this.guide||this.guide===""){this.error="Bitte wählen Sie einen Guide aus.";return}this.isEditing?Dn.put(`/tour_dates/${this.editingId}`,{date:this.date,guide_id:this.guide},{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(f=>{const m=this.dates.findIndex(y=>y.id===this.editingId);console.log(m),this.dates[m].date=this.date,this.isEditing=!1,this.date="",this.addDate=!1,this.$forceUpdate()}).catch(f=>{f.response.status===401?(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload()):this.error="Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut."}):Dn.post("/tour_dates",{date:this.date,tour_id:this.tourId,guide_id:this.guide},{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(f=>{this.dates.push({id:f.data.id,date:f.data.date,guide:this.guidesToSelect.find(m=>m.id===this.guide)}),this.date="",this.guide="",this.addDate=!1}).catch(f=>{f.response.status===401?(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload()):this.error="Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut."})},EditDateEntry(f){this.isEditing=!0,this.addDate=!0,this.date=f.date,this.editingId=f.id},RemoveDateEntry(f){Dn.delete(`/tour_dates/${f.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(m=>{this.dates=this.dates.filter(y=>y.id!==f.id)}).catch(m=>{m.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})}},mounted(){Dn.get(`/tour_dates/${this.tourId}`).then(f=>{this.dates=f.data.tour_dates.tourDates||[],this.guides=f.data.guides||[],console.log(this.dates)}).catch(f=>{f.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())}),Dn.get("/guides?preview=true&per_page=300&fields=id").then(f=>{this.guidesToSelect=f.data.guides.data}).catch(f=>{f.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})}},Qle={class:"date-picker"},ece=F("h5",null,"Tour Termine",-1),tce={key:0,class:"date-picker-container"},nce={for:"date"},rce={for:"guide"},ace={class:"date-picker-actions"},oce=["onClick"],ice=F("img",{src:Rd,width:"20",height:"20"},null,-1),uce=[ice],sce=["onClick"],lce=F("img",{src:Of,width:"20",height:"20"},null,-1),cce=[lce],fce={key:1,class:"date-picker-container"},vce=F("div",{class:"date-picker-item"},[F("label",{for:"date"},"Keine Termine angelegt")],-1),dce=[vce],mce={key:2,class:"date-picker-add"},hce=["value"],gce={key:3,class:"error"},pce=["disabled"];function bce(f,m,y,b,_,x){return Ke(),Ye("div",Qle,[ece,_.dates.length>0?(Ke(),Ye("div",tce,[(Ke(!0),Ye(Er,null,Ia(_.dates,T=>(Ke(),Ye("div",{key:T.id,class:"date-picker-item"},[F("label",nce,Kn(new Date(T.date).toLocaleDateString("de-DE")),1),F("label",rce,Kn(T.guide?T.guide.name:"Kein Guide zugewiesen"),1),F("div",ace,[F("div",{onClick:O=>x.EditDateEntry(T)},uce,8,oce),F("div",{onClick:O=>x.RemoveDateEntry(T)},cce,8,sce)])]))),128))])):(Ke(),Ye("div",fce,dce)),_.addDate?(Ke(),Ye("div",mce,[Nn(F("input",{type:"date","onUpdate:modelValue":m[0]||(m[0]=T=>_.date=T)},null,512),[[Un,_.date]]),Nn(F("select",{"onUpdate:modelValue":m[1]||(m[1]=T=>f.guide=T)},[(Ke(!0),Ye(Er,null,Ia(_.guidesToSelect,T=>(Ke(),Ye("option",{key:T.id,value:T.id},Kn(T.name),9,hce))),128))],512),[[KH,f.guide]]),F("button",{class:"button-primary",onClick:m[2]||(m[2]=T=>x.addDateEntry())},"Speichern"),F("button",{class:"button-primary",onClick:m[3]||(m[3]=T=>(_.addDate=!1,_.isEditing=!1))}," Abbrechen ")])):Tr("",!0),_.error?(Ke(),Ye("span",gce,Kn(_.error),1)):Tr("",!0),F("button",{class:"button-primary",onClick:m[4]||(m[4]=T=>_.addDate=!0),disabled:_.addDate}," Termin hinzufügen ",8,pce)])}const yce=lb(Zle,[["render",bce]]);const Ji=f=>(V_("data-v-d8d0fe11"),f=f(),U_(),f),wce={class:"row"},Cce=Ji(()=>F("h1",null,"Tour bearbeiten",-1)),_ce=Ji(()=>F("hr",{class:"divider"},null,-1)),Sce={class:"creation-grid"},xce={class:"main-content"},kce=Ji(()=>F("h4",null,"Allgemeine Informationen",-1)),Ace=Ji(()=>F("hr",{class:"divider"},null,-1)),Ece={class:"row content-row"},Tce={class:"row content-row"},Oce={class:"content-row"},Dce=Ji(()=>F("h4",null,"Bilder",-1)),Rce=Ji(()=>F("hr",{class:"divider"},null,-1)),$ce={key:0,class:"images"},Bce=["onClick","onDrop"],Mce=Ji(()=>F("img",{src:Of,width:"25",height:"25"},null,-1)),Pce=[Mce],Ice=["src"],Nce={class:"error"},zce=["disabled"],Fce=Ji(()=>F("div",{class:"divider"},null,-1)),Lce={class:"content-row"},Hce={key:0},Vce=Ji(()=>F("hr",{class:"divider"},null,-1)),Uce={class:"input-container"},Wce={class:"input-container"},jce=Ji(()=>F("h5",null,"Wann startet diese Tour",-1)),Gce={class:"input-container"},qce=Ji(()=>F("h5",null,"Preis",-1)),Kce={class:"creation-sidebar"},Xce={class:"sidebar-item"},Yce=Ji(()=>F("h4",null,"Guide hinzufügen",-1)),Jce=Ji(()=>F("hr",{class:"divider"},null,-1)),Zce={class:"sidebar-item"},Qce=Ji(()=>F("h4",null,"Ort hinzufügen",-1)),efe=Ji(()=>F("hr",{class:"divider"},null,-1)),tfe={class:"sidebar-item"},nfe=Ji(()=>F("h4",null,"Kategorien hinzufügen",-1)),rfe=Ji(()=>F("hr",{class:"divider"},null,-1)),afe={class:"sidebar-item"},ofe=Ji(()=>F("h4",null,"Mobilität hinzufügen",-1)),ife=Ji(()=>F("hr",{class:"divider"},null,-1)),ufe={class:"sidebar-item"},sfe=Ji(()=>F("h4",null,"Veröffentlichen",-1)),lfe=Ji(()=>F("hr",{class:"divider"},null,-1)),cfe={class:"input-container"},ffe=Ji(()=>F("option",{value:"draft"},"Entwurf",-1)),vfe=Ji(()=>F("option",{value:"published"},"Veröffentlichen",-1)),dfe=[ffe,vfe],mfe={class:"errorMessages"},hfe={__name:"Edit",setup(f){const m=xt({"name:de":"","name:en":"","description:de":"","description:en":"",status:"draft",is_public:!1,date:new Date,duration:null,needs_registration:!1,mobilities:null,price:0,guides:[],places:[],images:[],main_image:null,image_copyright:"",themes:[],created_at:null,updated_at:null}),y=xt(null),b=xt(null),_=xt(null),x=xt(null);xt(null);const T=xt([]),O=xt(!0),L=xt("Aktualisieren"),W=Qm(),{id:I}=W.params,H=Kl(),P=xt([]),V=Yi(()=>typeof m.value.price=="number"?m.value.price:m.value.price.replace(",",".").replace(/[^0-9.]/g,"")),Z=()=>{Dn.get("/tours/"+I,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(se=>{try{T.value=se.data.tour.images,m.value["name:de"]=se.data.tour.translations[0].name,m.value["name:en"]=se.data.tour.translations[1].name,m.value["description:de"]=se.data.tour.translations[0].description,m.value["description:en"]=se.data.tour.translations[1].description,m.value.status=se.data.tour.status,m.value.is_public=se.data.tour.is_public,m.value.duration=se.data.tour.duration,m.value.needs_registration=se.data.tour.needs_registration,m.value.mobilities=se.data.tour.mobilities||null,m.value.price=se.data.tour.price,m.value.guides=se.data.tour.guides,m.value.places=se.data.tour.places,m.value.images=se.data.tour.images,m.value.main_image=se.data.tour.main_image,m.value.image_copyright=se.data.tour.image_copyright||"unset",m.value.themes=se.data.tour.themes,m.value.created_at=se.data.tour.created_at,m.value.updated_at=se.data.tour.updated_at,xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:ce=>{ce.on("init",()=>{console.log("Editor is initialized."),xn.get("editor_de").setContent(m.value["description:de"]||""),xn.get("editor_en").setContent(m.value["description:en"]||"")})}}),O.value=!1}catch(ce){console.log(ce),window.alert("Tour konnte nicht geladen werden")}document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}).catch(se=>{se.response.status===401?sessionStorage.removeItem("token"):window.alert("Tour konnte nicht geladen werden")})},q=()=>{if(T.value.length===0){T.value=null;return}let se=[];for(let ce=0;ce<T.value.length;ce++)se.push(T.value[ce].id);m.value.images=se,m.value.main_image=T.value[0].id,T.value.length===0&&(m.value.main_image=null)},$e=xt(""),me=xt(null),Be=xt(!1),ne=()=>{Be.value=!0;const se={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};me.value&&hl(me.value,se).then(ce=>{const Ee=new FormData;Ee.append("file",ce),Dn.post("/media",Ee,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Ue=>{T.value.push(Ue.data.media),Be.value=!1}).catch(Ue=>{console.log(Ue),window.alert("Fehler beim Upload des Bildes"),Be.value=null})}).catch(ce=>{console.log(ce),window.alert("Fehler beim Komprimieren des Bildes")})},ge=se=>{$e.value="";const ce=se.target.files,Ee=ce[0].size/1024/1024;if(Ee>1){$e.value="Bild("+Ee.toFixed(2)+"MB) ist zu groß (max. 1MB)",me.value=ce[0];return}if(ce)for(let Ue=0;Ue<ce.length;Ue++){const re=ce[Ue],j=new FormData;j.append("file",re),Dn.post("/media",j,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ke=>{T.value.push(ke.data.media)}).catch(ke=>{console.log(ke),window.alert("Fehler beim Upload des Bildes")})}},De=se=>{T.value=T.value.filter(ce=>ce.id!==se)},Se=()=>(P.value=[],T.value.length===0&&P.value.push("Es muss mindestens ein Bild hochgeladen werden"),m.value.is_public&&(m.value.date===null&&P.value.push("Datum der Tour ist ein Pflichtfeld"),m.value.duration===null&&P.value.push("Dauer der Tour ist ein Pflichtfeld"),m.value.price===null&&P.value.push("Preis der Tour ist ein Pflichtfeld")),P.value.length===0),We=()=>{if(!Se())return;L.value="Tour wird aktualisiert...",q(),m.value["description:de"]=xn.get("editor_de").getContent(),m.value["description:en"]=xn.get("editor_en").getContent();const se=y.value.getData(),ce=b.value.getData(),Ee=_.value.getData(),Ue=x.value.getData();m.value.image_copyright=m.value.image_copyright||"unset",m.value.guides=se,m.value.places=ce,m.value.themes=Ee,Ue.length===0?m.value.mobilities=null:m.value.mobilities=Ue,m.value.is_public&&(m.value.price=V.value,m.value.duration=m.value.duration||""),m.value.date=null,Dn.patch("/tours/"+I,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(re=>{L.value="Erfolgreich Aktualisiert",window.onbeforeunload=null,setTimeout(()=>{H.push("/touren")},1e3)}).catch(re=>{console.log(re),re.response.status===401?sessionStorage.removeItem("token"):(window.alert("Tour konnte nicht aktualisiert werden"),L.value="Aktualisieren")})};return za(()=>{Z()}),Zm(()=>{xn.remove()}),(se,ce)=>{const Ee=Na("router-Link");return Ke(),Ye("main",null,[F("div",wce,[Cce,it(Ee,{to:"/",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1})]),_ce,F("div",Sce,[F("div",xce,[kce,Ace,F("div",Ece,[it(tr,{lang:"de",title:"Titel der Tour"},{content:It(()=>[Nn(F("input",{type:"text",for:"title",placeholder:"Titel","onUpdate:modelValue":ce[0]||(ce[0]=Ue=>m.value["name:de"]=Ue)},null,512),[[Un,m.value["name:de"]]])]),_:1}),it(tr,{lang:"en",title:"title of the tour"},{content:It(()=>[Nn(F("input",{type:"text",for:"title",placeholder:"Title","onUpdate:modelValue":ce[1]||(ce[1]=Ue=>m.value["name:en"]=Ue)},null,512),[[Un,m.value["name:en"]]])]),_:1})]),F("div",Tce,[it(tr,{lang:"de",title:"Beschreibung der Tour"},{content:It(()=>[Nn(F("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de","onUpdate:modelValue":ce[2]||(ce[2]=Ue=>m.value["description:de"]=Ue)},null,512),[[Un,m.value["description:de"]]])]),_:1}),it(tr,{lang:"en",title:"Description of the tour"},{content:It(()=>[Nn(F("textarea",{for:"description",placeholder:"Description",id:"editor_en","onUpdate:modelValue":ce[3]||(ce[3]=Ue=>m.value["description:en"]=Ue)},null,512),[[Un,m.value["description:en"]]])]),_:1})]),F("div",Oce,[Dce,Rce,T.value.length>0?(Ke(),Ye("div",$ce,[(Ke(!0),Ye(Er,null,Ia(T.value,Ue=>(Ke(),Ye("div",{class:"image",key:Ue.id},[F("button",{class:"removeImage",onClick:re=>De(Ue.id),draggable:"true",onDrop:re=>se.reorderImages(Ue.id),onDragover:ce[4]||(ce[4]=(...re)=>se.allowDrop&&se.allowDrop(...re)),onDragstart:ce[5]||(ce[5]=(...re)=>se.dragImage&&se.dragImage(...re))},Pce,40,Bce),F("img",{src:Ue.url},null,8,Ice)]))),128))])):Tr("",!0),F("input",{type:"file",onChange:ge},null,32),F("p",Nce,Kn($e.value),1),$e.value?(Ke(),Ye("button",{key:1,class:"button-primary",onClick:ne,disabled:Be.value},Kn(Be.value?"Komprimiere Bild...":"Bild verkleinern"),9,zce)):Tr("",!0),Fce,Nn(F("input",{type:"text","onUpdate:modelValue":ce[6]||(ce[6]=Ue=>m.value.image_copyright=Ue),placeholder:"Bild Copyright"},null,512),[[Un,m.value.image_copyright]])]),F("div",Lce,[it($8,{value:m.value.is_public,titel:"Öffentliche Tour",onInput:ce[7]||(ce[7]=Ue=>m.value.is_public=Ue)},null,8,["value"]),m.value.is_public?(Ke(),Ye("div",Hce,[Vce,F("div",Uce,[it(yce)]),F("div",Wce,[jce,Nn(F("input",{type:"text","onUpdate:modelValue":ce[8]||(ce[8]=Ue=>m.value.duration=Ue),placeholder:"bspw. 14:30 Uhr"},null,512),[[Un,m.value.duration]])]),F("div",Gce,[qce,Nn(F("input",{type:"text","onUpdate:modelValue":ce[9]||(ce[9]=Ue=>m.value.price=Ue)},null,512),[[Un,m.value.price]])]),it($8,{value:m.value.needs_registration,titel:"Anmeldung erforderlich",onInput:ce[10]||(ce[10]=Ue=>m.value.needs_registration=Ue)},null,8,["value"])])):Tr("",!0)])]),F("div",Kce,[F("div",Xce,[Yce,Jce,it(pG,{ref_key:"guideSelect",ref:y,selectedGuides:m.value.guides},null,8,["selectedGuides"])]),F("div",Zce,[Qce,efe,it(bG,{ref_key:"ortSelect",ref:b,selectedplaces:m.value.places},null,8,["selectedplaces"])]),F("div",tfe,[nfe,rfe,it(yG,{ref_key:"kategorieSelect",ref:_,selectedthemes:m.value.themes},null,8,["selectedthemes"])]),F("div",afe,[ofe,ife,it(r6,{ref_key:"mobilitySelect",ref:x,selectedMobilites:m.value.mobilities},null,8,["selectedMobilites"])]),F("div",ufe,[sfe,lfe,F("p",null," Erstellt am: "+Kn(new Date(m.value.created_at).toLocaleString("de-DE")),1),F("p",null," Bearbeitet am: "+Kn(new Date(m.value.updated_at).toLocaleString("de-DE")),1),F("div",cfe,[Nn(F("select",{"onUpdate:modelValue":ce[11]||(ce[11]=Ue=>m.value.status=Ue)},dfe,512),[[KH,m.value.status]])]),F("button",{class:"button-primary",onClick:We},Kn(L.value),1),F("div",mfe,[(Ke(!0),Ye(Er,null,Ia(P.value,Ue=>(Ke(),Ye("p",{key:Ue},Kn(Ue),1))),128))])])])])])}}},gfe=lb(hfe,[["__scopeId","data-v-d8d0fe11"]]),pfe={class:"row"},bfe=F("h1",null,"Alle Guides",-1),yfe=F("hr",{class:"divider"},null,-1),wfe=F("img",{src:Rd,width:"20"},null,-1),Cfe=["onClick"],_fe=F("img",{src:Of,width:"20"},null,-1),Sfe=[_fe],xfe={__name:"Overview",setup(f){const m=xt([]),y=xt(!1),b=xt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Dn.get("/guides?preview=true&per_page=200").then(T=>{y.value=!1,m.value=T.data.guides.data}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{window.confirm("Willst du diesen Guide wirklich löschen?")&&Dn.delete(`/guides/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(O=>{console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Guide konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return za(()=>{_()}),(T,O)=>{const L=Na("router-link"),W=Na("RouterLink");return Ke(),Ye("main",null,[F("div",pfe,[bfe,it(L,{to:"/guide-erstellen",class:"button-primary"},{default:It(()=>[Ar("Guide hinzufügen")]),_:1})]),yfe,it(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:It(()=>[Ar(" Aktionen ")]),tableActions:It(I=>[it(W,{to:`/guide-bearbeiten/${I.row.id}`},{default:It(()=>[wfe]),_:2},1032,["to"]),F("button",{onClick:H=>x(I.row.id)},Sfe,8,Cfe)]),_:1},8,["tableData","tableColumns","loading"])])}}},kfe={__name:"Create",setup(f){return(m,y)=>(Ke(),Ye("main",null,[it(c9)]))}},Afe={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ke(),Ye("main",null,[it(c9,{"edit-mode":!0,id:So(y)},null,8,["id"])]))}};const Efe={class:"profile-container"},Tfe=F("h1",null,"Profil Aktualisieren",-1),Ofe=F("hr",{class:"divider"},null,-1),Dfe={class:"row content-row"},Rfe={class:"row content-row"},$fe=F("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Bfe=F("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Mfe={class:"content-row"},Pfe=F("h3",null,"Guide Eigenschaften",-1),Ife=F("hr",{class:"divider"},null,-1),Nfe={class:"row"},zfe={class:"col",style:{width:"23%","min-width":"200px"}},Ffe=F("span",null,"Zertifikatsauswahl",-1),Lfe={class:"col",style:{width:"23%","min-width":"200px"}},Hfe=F("span",null,"Sprachauswahl",-1),Vfe={class:"col",style:{width:"23%","min-width":"200px"}},Ufe=F("span",null,"Mobilitätsauswahl",-1),Wfe={class:"col",style:{width:"23%","min-width":"200px"}},jfe=F("span",null,"Skillauswahl",-1),Gfe={class:"content-row"},qfe=F("h3",null,"Kontakt",-1),Kfe=F("hr",{class:"divider"},null,-1),Xfe={class:"row"},Yfe={class:"col"},Jfe=F("span",null,"Email",-1),Zfe={class:"col"},Qfe=F("span",null,"Telefon",-1),eve={class:"col"},tve=F("span",null,"Webseite",-1),nve={class:"col"},rve=F("span",null,"Handynummer",-1),ave={class:"content-row"},ove=F("h3",null,"Guide Bild",-1),ive=F("hr",{class:"divider"},null,-1),uve={key:0,class:"image"},sve=["src"],lve={class:"row"},cve={class:"col"},fve={class:"content-row"},vve={class:"errorMessages"},dve=F("h2",{style:{"margin-top":"50px"}},"Passwort ändern",-1),mve=F("hr",{class:"divider"},null,-1),hve={class:"content-row"},gve={class:"row"},pve={class:"col"},bve=F("span",null,"Neues Passwort",-1),yve={class:"col"},wve=F("span",null,"Neues Passwort wiederholen",-1),Cve={__name:"Profile",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1},showButton:{type:Boolean,default:!0}},emits:["closePopup","newGuide"],setup(f,{emit:m}){const y=f,b=xt(null),_=xt(null),x=xt(null),T=xt(null),O=xt({"name:de":"","name:en":"","description:de":"","description:en":"",contact:{},image:null,languages:[],skills:[],mobility:[],certificates:[]}),L=xt({oldPassword:"",newPassword:"",newPasswordRepeat:""}),W=()=>{if(L.value.newPassword!==L.value.newPasswordRepeat){window.alert("Die neuen Passwörter stimmen nicht überein");return}O.tours!==null&&(O.value.tours=O.value.tours.map(se=>se.id)),O.languages!==null&&(O.value.languages=O.value.languages.map(se=>se.id)),O.skills!==null&&(O.value.skills=O.value.skills.map(se=>se.id)),O.mobility!==null&&(O.value.mobility=O.value.mobility.map(se=>se.id)),O.certificates!==null&&(O.value.certificates=O.value.certificates.map(se=>se.id)),typeof O.value.image=="object"&&O.value.image!==null&&(O.value.image=O.value.image.id),O.value["description:de"]=xn.get("editor_de").getContent(),O.value["description:en"]=xn.get("editor_en").getContent();const ne=b.value.getData(),ge=_.value.getData(),De=x.value.getData(),Se=T.value.getData();O.value.certificates=ne,O.value.languages=ge,O.value.mobility=De,O.value.skills=Se;let We=O.value;We.password=L.value.newPassword,Dn.patch(`/guides/${V.params.id}`,We,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(se=>{window.alert("Passwort erfolgreich geändert"),L.value={oldPassword:"",newPassword:"",newPasswordRepeat:""},sessionStorage.removeItem("token"),sessionStorage.removeItem("role"),sessionStorage.removeItem("guideId"),window.location.reload()}).catch(se=>{console.log(se),se.response.status===401?(window.alert("Ihre Sitzung ist abgelaufen. Bitte melden Sie sich erneut an"),sessionStorage.removeItem("token"),window.location.reload()):(window.alert("Fehler beim Ändern des Passworts. "+se.response.data.error),window.location.reload())})},I=xt([]),H=xt("Profil aktualisieren"),P=xt(null),V=Qm(),Z=()=>{const ne=b.value.getData(),ge=_.value.getData(),De=x.value.getData(),Se=T.value.getData();return O.value.certificates=ne,O.value.languages=ge,O.value.mobility=De,O.value.skills=Se,I.value=[],O.value["name:de"]===""&&I.value.push("Bitte geben Sie einen Namen (DE) ein"),O.value["name:en"]===""&&I.value.push("Bitte geben Sie einen Namen (EN) ein"),O.value.languages.length===0&&I.value.push("Bitte wählen Sie mindestens eine Sprache aus"),I.value.length===0},q=()=>{if(!Z())return;H.value="Profil wird aktualisiert...",O.tours!==null&&(O.value.tours=O.value.tours.map(We=>We.id)),O.languages!==null&&(O.value.languages=O.value.languages.map(We=>We.id)),O.skills!==null&&(O.value.skills=O.value.skills.map(We=>We.id)),O.mobility!==null&&(O.value.mobility=O.value.mobility.map(We=>We.id)),O.certificates!==null&&(O.value.certificates=O.value.certificates.map(We=>We.id)),typeof O.value.image=="object"&&O.value.image!==null&&(O.value.image=O.value.image.id),O.value["description:de"]=xn.get("editor_de").getContent(),O.value["description:en"]=xn.get("editor_en").getContent();const ne=b.value.getData(),ge=_.value.getData(),De=x.value.getData(),Se=T.value.getData();O.value.certificates=ne,O.value.languages=ge,O.value.mobility=De,O.value.skills=Se,Dn.patch(`/guides/${y.id}`,O.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(We=>{H.value="Profil aktualisieren",window.alert("Profil erfolgreich aktualisiert")}).catch(We=>{console.log(We),H.value="Profil aktualisieren",We.response.status===401?(window.alert("Ihre Sitzung ist abgelaufen. Bitte melden Sie sich erneut an"),sessionStorage.removeItem("token"),window.location.reload()):window.alert("Fehler beim Aktualisieren des Guides")})},$e=ne=>{const ge=ne.target.files;if(console.log(ge),ge)for(let De=0;De<ge.length;De++){const Se=ge[De],We=new FormData;We.append("file",Se),Dn.post("/media",We,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(se=>{O.value.image=se.data.media.id,P.value=se.data.media.url}).catch(se=>{console.log(se),window.alert("Fehler beim Upload des Bildes")})}};za(async()=>{me(),xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:ne=>{ne.on("init",()=>{ne.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const me=()=>{Dn.get(`/guides/${V.params.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ne=>{O.value=ne.data.guide,O.value["name:de"]=ne.data.guide.translations[0].name,O.value["name:en"]=ne.data.guide.translations[1].name,O.value["description:de"]=ne.data.guide.translations[0].description,O.value["description:en"]=ne.data.guide.translations[1].description,ne.data.guide.contact!==null&&!Array.isArray(JSON.parse(ne.data.guide.contact))?O.value.contact=JSON.parse(ne.data.guide.contact):O.value.contact={},P.value=ne.data.guide.image?ne.data.guide.image[0].url:null,O.value.languages=ne.data.guide.languages,O.value.skills=ne.data.guide.skills,O.value.mobility=ne.data.guide.mobility,O.value.certificates=ne.data.guide.certificates,ne.data.guide.image!==null&&(P.value=ne.data.guide.image[0].url),xn.get("editor_de").setContent(ne.data.guide.translations[0].description||""),xn.get("editor_en").setContent(ne.data.guide.translations[1].description||""),console.log(O)}).catch(ne=>{console.log(ne),ne.response.status===401?(window.alert("Ihre Sitzung ist abgelaufen. Bitte melden Sie sich erneut an"),sessionStorage.removeItem("token"),window.location.reload()):console.log(ne)})},Be=()=>{O.value.image=null,P.value=null};return Zm(()=>{y.insidePopup||xn.remove()}),(ne,ge)=>(Ke(),Ye("div",Efe,[Tfe,Ofe,F("div",Dfe,[it(tr,{lang:"de",title:"Name"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":ge[0]||(ge[0]=De=>O.value["name:de"]=De),placeholder:"Name"},null,512),[[Un,O.value["name:de"]]])]),_:1}),it(tr,{lang:"en",title:"Name"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":ge[1]||(ge[1]=De=>O.value["name:en"]=De),placeholder:"Name"},null,512),[[Un,O.value["name:en"]]])]),_:1})]),F("div",Rfe,[it(tr,{lang:"de",title:"Beschreibung"},{content:It(()=>[$fe]),_:1}),it(tr,{lang:"en",title:"Description"},{content:It(()=>[Bfe]),_:1})]),F("div",Mfe,[Pfe,Ife,F("div",Nfe,[F("div",zfe,[Ffe,it(mG,{ref_key:"certificateSelect",ref:b,"selected-certificate":O.value.certificates},null,8,["selected-certificate"])]),F("div",Lfe,[Hfe,it(hG,{ref_key:"languageSelect",ref:_,"selected-languages":O.value.languages},null,8,["selected-languages"])]),F("div",Vfe,[Ufe,it(r6,{ref_key:"mobilitySelect",ref:x,"selected-mobilites":O.value.mobility},null,8,["selected-mobilites"])]),F("div",Wfe,[jfe,it(gG,{ref_key:"skillSelect",ref:T,"selected-skills":O.value.skills},null,8,["selected-skills"])])])]),F("div",Gfe,[qfe,Kfe,F("div",Xfe,[F("div",Yfe,[Jfe,Nn(F("input",{type:"text",placeholder:"Email","onUpdate:modelValue":ge[2]||(ge[2]=De=>O.value.contact.email=De)},null,512),[[Un,O.value.contact.email]])]),F("div",Zfe,[Qfe,Nn(F("input",{type:"text",placeholder:"Telefon","onUpdate:modelValue":ge[3]||(ge[3]=De=>O.value.contact.phone=De)},null,512),[[Un,O.value.contact.phone]])]),F("div",eve,[tve,Nn(F("input",{type:"text",placeholder:"Webseite","onUpdate:modelValue":ge[4]||(ge[4]=De=>O.value.contact.website=De)},null,512),[[Un,O.value.contact.website]])]),F("div",nve,[rve,Nn(F("input",{type:"text",placeholder:"Handynummer","onUpdate:modelValue":ge[5]||(ge[5]=De=>O.value.contact.mobile=De)},null,512),[[Un,O.value.contact.mobile]])])])]),F("div",ave,[ove,ive,P.value?(Ke(),Ye("div",uve,[F("img",{src:P.value},null,8,sve)])):Tr("",!0),P.value?(Ke(),Ye("a",{key:1,onClick:Be,class:"removeImage"},"Bild entfernen")):Tr("",!0),F("div",lve,[F("div",cve,[F("input",{type:"file",onChange:$e},null,32)])])]),F("div",fve,[F("button",{class:"button-primary",onClick:ge[6]||(ge[6]=De=>y.editMode?q():ne.createGuide())},Kn(H.value),1),F("div",vve,[(Ke(!0),Ye(Er,null,Ia(I.value,De=>(Ke(),Ye("p",{key:De},Kn(De),1))),128))])]),dve,mve,F("div",hve,[F("div",gve,[F("div",pve,[bve,Nn(F("input",{type:"password",placeholder:"Neues Passwort","onUpdate:modelValue":ge[7]||(ge[7]=De=>L.value.newPassword=De)},null,512),[[Un,L.value.newPassword]])]),F("div",yve,[wve,Nn(F("input",{type:"password",placeholder:"Neues Passwort wiederholen","onUpdate:modelValue":ge[8]||(ge[8]=De=>L.value.newPasswordRepeat=De)},null,512),[[Un,L.value.newPasswordRepeat]])])]),F("button",{class:"button-primary",style:{"margin-top":"20px"},onClick:ge[9]||(ge[9]=De=>W())}," Passwort ändern ")])]))}},_ve={class:"row"},Sve=F("h1",null,"Alle Sprachen",-1),xve=F("hr",{class:"divider"},null,-1),kve=F("img",{src:Rd,width:"20"},null,-1),Ave=["onClick"],Eve=F("img",{src:Of,width:"20"},null,-1),Tve=[Eve],Ove={__name:"Overview",setup(f){const m=xt([]),y=xt(!1),b=xt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Dn.get("/languages").then(T=>{y.value=!1,m.value=T.data.languages}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{Dn.delete(`/languages/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(O=>{console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Sprache konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return za(()=>{_()}),(T,O)=>{const L=Na("router-link"),W=Na("RouterLink");return Ke(),Ye("main",null,[F("div",_ve,[Sve,it(L,{to:"/sprache-erstellen",class:"button-primary"},{default:It(()=>[Ar("Sprache hinzufügen")]),_:1})]),xve,it(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:It(()=>[Ar(" Aktionen ")]),tableActions:It(I=>[it(W,{to:`/sprache-bearbeiten/${I.row.id}`},{default:It(()=>[kve]),_:2},1032,["to"]),F("button",{onClick:H=>x(I.row.id)},Tve,8,Ave)]),_:1},8,["tableData","tableColumns","loading"])])}}},Dve={__name:"Create",setup(f){return(m,y)=>(Ke(),Ye("main",null,[it(u9)]))}},Rve={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ke(),Ye("main",null,[it(u9,{"edit-mode":!0,id:So(y)},null,8,["id"])]))}},$ve={class:"row"},Bve=F("h1",null,"Alle Mobilitäten",-1),Mve=F("hr",{class:"divider"},null,-1),Pve=F("img",{src:Rd,width:"20"},null,-1),Ive=["onClick"],Nve=F("img",{src:Of,width:"20"},null,-1),zve=[Nve],Fve={__name:"Overview",setup(f){const m=xt([]),y=xt(!1),b=xt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Dn.get("/mobility").then(T=>{y.value=!1,m.value=T.data.mobilities}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{Dn.delete(`/mobility/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(O=>{console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Mobilität konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return za(()=>{_()}),(T,O)=>{const L=Na("router-link"),W=Na("RouterLink");return Ke(),Ye("main",null,[F("div",$ve,[Bve,it(L,{to:"/mobilitaet-erstellen",class:"button-primary"},{default:It(()=>[Ar("Mobilität hinzufügen")]),_:1})]),Mve,it(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:It(()=>[Ar(" Aktionen ")]),tableActions:It(I=>[it(W,{to:`/mobilitaet-bearbeiten/${I.row.id}`},{default:It(()=>[Pve]),_:2},1032,["to"]),F("button",{onClick:H=>x(I.row.id)},zve,8,Ive)]),_:1},8,["tableData","tableColumns","loading"])])}}},Lve={__name:"Create",setup(f){return(m,y)=>(Ke(),Ye("main",null,[it(l9)]))}},Hve={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ke(),Ye("main",null,[it(l9,{"edit-mode":!0,id:So(y)},null,8,["id"])]))}},Vve={class:"row"},Uve=F("h1",null,"Alle Orte",-1),Wve=F("hr",{class:"divider"},null,-1),jve=F("img",{src:Rd,width:"20"},null,-1),Gve=["onClick"],qve=F("img",{src:Of,width:"20"},null,-1),Kve=[qve],Xve={__name:"Overview",setup(f){const m=xt([]),y=xt(!1),b=xt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Dn.get("/places").then(T=>{y.value=!1,m.value=T.data.places}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{Dn.delete(`/places/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(O=>{console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Ort konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return za(()=>{_()}),(T,O)=>{const L=Na("router-link"),W=Na("RouterLink");return Ke(),Ye("main",null,[F("div",Vve,[Uve,it(L,{to:"/ort-erstellen",class:"button-primary"},{default:It(()=>[Ar("Ort hinzufügen")]),_:1})]),Wve,it(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:It(()=>[Ar(" Aktionen ")]),tableActions:It(I=>[it(W,{to:`/ort-bearbeiten/${I.row.id}`},{default:It(()=>[jve]),_:2},1032,["to"]),F("button",{onClick:H=>x(I.row.id)},Kve,8,Gve)]),_:1},8,["tableData","tableColumns","loading"])])}}},Yve={__name:"Create",setup(f){return(m,y)=>(Ke(),Ye("main",null,[it(f9)]))}},Jve={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ke(),Ye("main",null,[it(f9,{"edit-mode":!0,id:So(y)},null,8,["id"])]))}},Zve={class:"row"},Qve=F("h1",null,"Alle Kategorien",-1),ede=F("hr",{class:"divider"},null,-1),tde=F("img",{src:Rd,width:"20"},null,-1),nde=["onClick"],rde=F("img",{src:Of,width:"20"},null,-1),ade=[rde],ode={__name:"Overview",setup(f){const m=xt([]),y=xt(!1),b=xt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Dn.get("/themes").then(T=>{y.value=!1,m.value=T.data.themes}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{const O=m.value.find(L=>L.id===T).name;window.confirm(`Möchtest du die Kategorie "${O}" wirklich löschen?`)&&Dn.delete(`/themes/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(L=>{console.log(L),L.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Kategorie konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return za(()=>{_()}),(T,O)=>{const L=Na("router-link"),W=Na("RouterLink");return Ke(),Ye("main",null,[F("div",Zve,[Qve,it(L,{to:"/kategorie-erstellen",class:"button-primary"},{default:It(()=>[Ar("Kategorie hinzufügen")]),_:1})]),ede,it(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:It(()=>[Ar(" Aktionen ")]),tableActions:It(I=>[it(W,{to:`/kategorie-bearbeiten/${I.row.id}`},{default:It(()=>[tde]),_:2},1032,["to"]),F("button",{onClick:H=>x(I.row.id)},ade,8,nde)]),_:1},8,["tableData","tableColumns","loading"])])}}},ide={__name:"Create",setup(f){return(m,y)=>(Ke(),Ye("main",null,[it(v9)]))}},ude={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ke(),Ye("main",null,[it(v9,{"edit-mode":!0,id:So(y)},null,8,["id"])]))}},sde={class:"row"},lde=F("h1",null,"Alle Zertifikate",-1),cde=F("hr",{class:"divider"},null,-1),fde=F("img",{src:Rd,width:"20"},null,-1),vde=["onClick"],dde=F("img",{src:Of,width:"20"},null,-1),mde=[dde],hde={__name:"Overview",setup(f){const m=xt([]),y=xt(!1),b=xt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Dn.get("/certificates").then(T=>{y.value=!1,m.value=T.data.certificates}).catch(T=>{y.value=!1,console.log(T),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{Dn.delete(`/certificates/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(O=>{console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Das Zertifikat konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return za(()=>{_()}),(T,O)=>{const L=Na("router-link"),W=Na("RouterLink");return Ke(),Ye("main",null,[F("div",sde,[lde,it(L,{to:"/zertifikat-erstellen",class:"button-primary"},{default:It(()=>[Ar("Zertifikat hinzufügen")]),_:1})]),cde,it(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:It(()=>[Ar(" Aktionen ")]),tableActions:It(I=>[it(W,{to:`/zertifikat-bearbeiten/${I.row.id}`},{default:It(()=>[fde]),_:2},1032,["to"]),F("button",{onClick:H=>x(I.row.id)},mde,8,vde)]),_:1},8,["tableData","tableColumns","loading"])])}}},gde={__name:"Create",setup(f){return(m,y)=>(Ke(),Ye("main",null,[it(i9)]))}},pde={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ke(),Ye("main",null,[it(i9,{"edit-mode":!0,id:So(y)},null,8,["id"])]))}},bde={class:"row"},yde=F("div",null,[F("h1",null,"Alle Themen"),F("p",null,"Themen werden Guides Vergeben (Webseite Filter Themen)")],-1),wde=F("hr",{class:"divider"},null,-1),Cde=F("img",{src:Rd,width:"20"},null,-1),_de=["onClick"],Sde=F("img",{src:Of,width:"20"},null,-1),xde=[Sde],kde={__name:"Overview",setup(f){const m=xt([]),y=xt(!1),b=xt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Dn.get("/skills?preview=true").then(T=>{y.value=!1,m.value=T.data.skills}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{Dn.delete(`/skills/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(O=>{console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Skill konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return za(()=>{_()}),(T,O)=>{const L=Na("router-link"),W=Na("RouterLink");return Ke(),Ye("main",null,[F("div",bde,[yde,it(L,{to:"/skill-erstellen",class:"button-primary"},{default:It(()=>[Ar("Thema hinzufügen")]),_:1})]),wde,it(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:It(()=>[Ar(" Aktionen ")]),tableActions:It(I=>[it(W,{to:`/skill-bearbeiten/${I.row.id}`},{default:It(()=>[Cde]),_:2},1032,["to"]),F("button",{onClick:H=>x(I.row.id)},xde,8,_de)]),_:1},8,["tableData","tableColumns","loading"])])}}},Ade={__name:"Create",setup(f){return(m,y)=>(Ke(),Ye("main",null,[it(s9)]))}},Ede={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ke(),Ye("main",null,[it(s9,{"edit-mode":!0,id:So(y)},null,8,["id"])]))}},Tde={class:"row"},Ode=F("h1",null,"Alle Benutzer",-1),Dde=F("hr",{class:"divider"},null,-1),Rde=F("img",{src:Rd,width:"20"},null,-1),$de=["onClick"],Bde=F("img",{src:Of,width:"20"},null,-1),Mde=[Bde],Pde={__name:"Overview",setup(f){const m=xt([]),y=xt(!1),b=xt([{key:"name",title:"Name"},{key:"updated_at",title:"zuletzt aktualisiert"}]),_=()=>{y.value=!0,Dn.get("/users").then(T=>{y.value=!1,m.value=T.data.users}).catch(T=>{y.value=!1,console.log(T),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{Dn.delete(`/users/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(O=>{console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Benutzer konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return za(()=>{_()}),(T,O)=>{const L=Na("router-link"),W=Na("RouterLink");return Ke(),Ye("main",null,[F("div",Tde,[Ode,it(L,{to:"/verwaltung-erstellen",class:"button-primary"},{default:It(()=>[Ar("Benutzer hinzufügen")]),_:1})]),Dde,it(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:It(()=>[Ar(" Aktionen ")]),tableActions:It(I=>[it(W,{to:`/verwaltung-bearbeiten/${I.row.id}`},{default:It(()=>[Rde]),_:2},1032,["to"]),F("button",{onClick:H=>x(I.row.id)},Mde,8,$de)]),_:1},8,["tableData","tableColumns","loading"])])}}},Ide={class:"row"},Nde=F("h1",null,"Benutzer erstellen",-1),zde=F("hr",{class:"divider"},null,-1),Fde={class:"row content-row"},Lde={class:"col",style:{width:"48%","min-width":"200px"}},Hde={class:"col",style:{width:"48%","min-width":"200px"}},Vde={class:"row content-row"},Ude={class:"col",style:{width:"48%","min-width":"200px"}},Wde={class:"col",style:{width:"48%","min-width":"200px"}},jde={__name:"Create",setup(f){const m=xt({name:"",email:"",password:"",password_confirmation:""}),y=Kl(),b=()=>m.value.password!==m.value.password_confirmation?(alert("Passwörter stimmen nicht überein"),!1):!0,_=()=>{b()&&Dn.post("/auth/register",m.value).then(()=>{y.push("/verwaltung")}).catch(x=>{window.alert("Benutzer konnte nicht erstellt werden")})};return(x,T)=>(Ke(),Ye("main",null,[F("div",Ide,[Nde,it(So($c),{to:"/verwaltung",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1})]),zde,F("div",Fde,[F("div",Lde,[Nn(F("input",{type:"name",placeholder:"Benutzername",for:"username",name:"username","onUpdate:modelValue":T[0]||(T[0]=O=>m.value.name=O)},null,512),[[Un,m.value.name]])]),F("div",Hde,[Nn(F("input",{type:"email",placeholder:"Email",for:"email",name:"email","onUpdate:modelValue":T[1]||(T[1]=O=>m.value.email=O)},null,512),[[Un,m.value.email]])])]),F("div",Vde,[F("div",Ude,[Nn(F("input",{type:"password",placeholder:"Passwort",for:"password",name:"password","onUpdate:modelValue":T[2]||(T[2]=O=>m.value.password=O)},null,512),[[Un,m.value.password]])]),F("div",Wde,[Nn(F("input",{type:"password",placeholder:"Passwort (Wiederholen)",for:"password",name:"password","onUpdate:modelValue":T[3]||(T[3]=O=>m.value.password_confirmation=O)},null,512),[[Un,m.value.password_confirmation]])])]),F("div",{class:"row content-row"},[F("button",{class:"button-primary",onClick:_}," Benutzer erstellen ")])]))}},Gde={class:"row"},qde=F("h1",null,"Benutzer erstellen",-1),Kde=F("hr",{class:"divider"},null,-1),Xde={class:"row content-row"},Yde={class:"col",style:{width:"48%","min-width":"200px"}},Jde={class:"col",style:{width:"48%","min-width":"200px"}},Zde={class:"row content-row"},Qde={class:"col",style:{width:"48%","min-width":"200px"}},eme={class:"col",style:{width:"48%","min-width":"200px"}},tme={__name:"Edit",setup(f){const m=xt({name:"",email:"",password:"",password_confirmation:""}),y=Kl(),b=y.currentRoute.value.params.id,_=()=>m.value.password!==m.value.password_confirmation?(alert("Passwörter stimmen nicht überein"),!1):!0,x=()=>{_()&&Dn.patch("/users/"+b,m.value).then(()=>{y.push("/verwaltung")}).catch(O=>{window.alert("Benutzer konnte nicht erstellt werden")})},T=()=>{Dn.get(`/users/${b}`).then(O=>{m.value=O.data.user}).catch(O=>{console.log(O)})};return za(()=>{T()}),(O,L)=>(Ke(),Ye("main",null,[F("div",Gde,[qde,it(So($c),{to:"/verwaltung",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1})]),Kde,F("div",Xde,[F("div",Yde,[Nn(F("input",{type:"name",placeholder:"Benutzername",for:"username",name:"username","onUpdate:modelValue":L[0]||(L[0]=W=>m.value.name=W)},null,512),[[Un,m.value.name]])]),F("div",Jde,[Nn(F("input",{type:"email",placeholder:"Email",for:"email",name:"email","onUpdate:modelValue":L[1]||(L[1]=W=>m.value.email=W)},null,512),[[Un,m.value.email]])])]),F("div",Zde,[F("div",Qde,[Nn(F("input",{type:"password",placeholder:"Passwort",for:"password",name:"password","onUpdate:modelValue":L[2]||(L[2]=W=>m.value.password=W)},null,512),[[Un,m.value.password]])]),F("div",eme,[Nn(F("input",{type:"password",placeholder:"Passwort (Wiederholen)",for:"password",name:"password","onUpdate:modelValue":L[3]||(L[3]=W=>m.value.password_confirmation=W)},null,512),[[Un,m.value.password_confirmation]])])]),F("div",{class:"row content-row"},[F("button",{class:"button-primary",onClick:x}," Benutzer erstellen ")])]))}},nme=F("div",{class:"row"},[F("h1",null,"Alle Seiten")],-1),rme=F("hr",{class:"divider"},null,-1),ame=F("img",{src:Rd,width:"20"},null,-1),ome=["onClick"],ime=F("img",{src:Of,width:"20"},null,-1),ume=[ime],sme={__name:"Overview",setup(f){const m=xt([]),y=xt(!1),b=xt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Dn.get("/pages").then(T=>{y.value=!1,m.value=T.data}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{window.confirm("Sind Sie sicher, dass Sie diese Seite löschen möchten?")&&Dn.delete(`/pages/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(O=>{console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return za(()=>{_()}),(T,O)=>{const L=Na("RouterLink");return Ke(),Ye("main",null,[nme,rme,it(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:It(()=>[Ar(" Aktionen ")]),tableActions:It(W=>[it(L,{to:`/page-bearbeiten/${W.row.id}`},{default:It(()=>[ame]),_:2},1032,["to"]),F("button",{onClick:I=>x(W.row.id)},ume,8,ome)]),_:1},8,["tableData","tableColumns","loading"])])}}},lme={class:"row"},cme=F("h1",null,"Seite erstellen",-1),fme=F("hr",{class:"divider"},null,-1),vme={class:"row content-row"},dme={class:"row content-row"},mme=F("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),hme={class:"row content-row"},gme={class:"row content-row"},pme=F("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),bme={class:"content-row"},yme={class:"errorMessages"},wme={__name:"Create",setup(f){const m=xt({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""}),y=Kl(),b=xt("Erstellen"),_=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen für die Seite ein."),!1):!0,x=()=>{_()&&(b.value="Speichern...",m.value["description:de"]=xn.get("editor_de").getContent(),m.value["description:en"]=xn.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Dn.post("/pages",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,y.push("/pages")}).catch(T=>{b.value="Erstellen",console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gespeichert werden. Bitte versuche es erneut.")}))};return za(async()=>{await xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |   bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:T=>{T.on("init",()=>{T.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),W_(()=>{xn.remove()}),(T,O)=>{const L=Na("router-Link");return Ke(),Ye("main",null,[F("div",lme,[cme,it(L,{to:"/pages",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1})]),fme,F("div",vme,[it(tr,{lang:"de",title:"Titel (DE)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":O[0]||(O[0]=W=>m.value["name:de"]=W),placeholder:"Name"},null,512),[[Un,m.value["name:de"]]])]),_:1})]),F("div",dme,[it(tr,{lang:"de",title:"Beschreibung"},{content:It(()=>[mme]),_:1})]),F("div",hme,[it(tr,{lang:"en",title:"Titel (EN)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":O[1]||(O[1]=W=>m.value["name:en"]=W),placeholder:"Name"},null,512),[[Un,m.value["name:en"]]])]),_:1})]),F("div",gme,[it(tr,{lang:"en",title:"Description"},{content:It(()=>[pme]),_:1})]),F("div",bme,[F("button",{class:"button-primary",onClick:O[2]||(O[2]=W=>x())},Kn(b.value),1),F("div",yme,[(Ke(!0),Ye(Er,null,Ia(T.errors,W=>(Ke(),Ye("p",{key:W},Kn(W),1))),128))])])])}}},Cme={class:"row"},_me=F("h1",null,"Seite erstellen",-1),Sme=F("hr",{class:"divider"},null,-1),xme={class:"row content-row"},kme={class:"row content-row"},Ame=F("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Eme={class:"row content-row"},Tme={class:"row content-row"},Ome=F("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Dme={class:"content-row"},Rme={class:"errorMessages"},$me={__name:"Edit",setup(f){const m=xt({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""}),y=xt("Erstellen"),b=Qm(),_=Kl(),x=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen für die Seite ein."),!1):!0,T=()=>{x()&&(y.value="Speichern...",m.value["description:de"]=xn.get("editor_de").getContent(),m.value["description:en"]=xn.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Dn.patch("/pages/"+b.params.id,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,_.push("/pages")}).catch(O=>{y.value="Erstellen",console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gespeichert werden. Bitte versuche es erneut.")}))};return za(async()=>{if(b.params.id){const O=await Dn.get(`/pages/${b.params.id}`);m.value["name:de"]=O.data.translations[0].name,m.value["name:en"]=O.data.translations[1].name,m.value["description:de"]=O.data.translations[0].description,m.value["description:en"]=O.data.translations[1].description,m.value.status=O.data.status,y.value="Aktualisieren"}await xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:O=>{O.on("init",()=>{O.setContent("<p></p>")})}}),setTimeout(()=>{xn.get("editor_de").setContent(m.value["description:de"]),xn.get("editor_en").setContent(m.value["description:en"])},100)}),W_(()=>{xn.remove()}),(O,L)=>{const W=Na("router-Link");return Ke(),Ye("main",null,[F("div",Cme,[_me,it(W,{to:"/pages",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1})]),Sme,F("div",xme,[it(tr,{lang:"de",title:"Titel (DE)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":L[0]||(L[0]=I=>m.value["name:de"]=I),placeholder:"Name"},null,512),[[Un,m.value["name:de"]]])]),_:1})]),F("div",kme,[it(tr,{lang:"de",title:"Beschreibung"},{content:It(()=>[Ame]),_:1})]),F("div",Eme,[it(tr,{lang:"en",title:"Titel (EN)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":L[1]||(L[1]=I=>m.value["name:en"]=I),placeholder:"Name"},null,512),[[Un,m.value["name:en"]]])]),_:1})]),F("div",Tme,[it(tr,{lang:"en",title:"Description"},{content:It(()=>[Ome]),_:1})]),F("div",Dme,[F("button",{class:"button-primary",onClick:L[2]||(L[2]=I=>T())},Kn(y.value),1),F("div",Rme,[(Ke(!0),Ye(Er,null,Ia(O.errors,I=>(Ke(),Ye("p",{key:I},Kn(I),1))),128))])])])}}},Bme={class:"row"},Mme=F("h1",null,"Alle Beiträge",-1),Pme=F("hr",{class:"divider"},null,-1),Ime=F("img",{src:Rd,width:"20"},null,-1),Nme=["onClick"],zme=F("img",{src:Of,width:"20"},null,-1),Fme=[zme],Lme={__name:"Overview",setup(f){const m=xt([]),y=xt(!1),b=xt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Dn.get("/blogs").then(T=>{y.value=!1,m.value=T.data}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{window.confirm("Sind Sie sicher, dass Sie diese Blogbeitrag löschen möchten?")&&Dn.delete(`/blogs/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(O=>{console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return za(()=>{_()}),(T,O)=>{const L=Na("router-link"),W=Na("RouterLink");return Ke(),Ye("main",null,[F("div",Bme,[Mme,it(L,{to:"/blog-erstellen",class:"button-primary"},{default:It(()=>[Ar("Beitrag hinzufügen")]),_:1})]),Pme,it(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:It(()=>[Ar(" Aktionen ")]),tableActions:It(I=>[it(W,{to:`/blog-bearbeiten/${I.row.id}`},{default:It(()=>[Ime]),_:2},1032,["to"]),F("button",{onClick:H=>x(I.row.id)},Fme,8,Nme)]),_:1},8,["tableData","tableColumns","loading"])])}}};const yA=f=>(V_("data-v-b9a441cc"),f=f(),U_(),f),Hme={class:"row"},Vme=yA(()=>F("h1",null,"Beitrag erstellen",-1)),Ume=yA(()=>F("hr",{class:"divider"},null,-1)),Wme={class:"grid-2-cols"},jme={class:"col"},Gme={class:"row content-row"},qme={class:"row content-row"},Kme=yA(()=>F("textarea",{for:"short_description",placeholder:"Beschreibung",id:"short_description_editor_de"},null,-1)),Xme={class:"row content-row"},Yme={key:0,class:"imageUploader"},Jme={class:"row content-row"},Zme={class:"row"},Qme=yA(()=>F("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1)),ehe={class:"col"},the={class:"row content-row"},nhe={class:"row content-row"},rhe=yA(()=>F("textarea",{for:"short_description",placeholder:"Beschreibung",id:"short_description_editor_en"},null,-1)),ahe={class:"row content-row"},ohe=yA(()=>F("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1)),ihe={class:"content-row"},uhe={class:"errorMessages"},she={__name:"Create",setup(f){const m=xt({"name:de":"","name:en":"","description:de":"","description:en":"","short_description:de":"","short_description:en":"",status:"entwurf",slug:""});xt(null);const y=xt(!1),b=xt("Erstellen"),_=Kl(),x=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen für die Blogbeitrag ein."),!1):!0,T=()=>{x()&&(b.value="Speichern...",m.value["description:de"]=xn.get("editor_de").getContent(),m.value["description:en"]=xn.get("editor_en").getContent(),m.value["short_description:de"]=xn.get("short_description_editor_de").getContent(),m.value["short_description:en"]=xn.get("short_description_editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Dn.post("/blogs",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,_.push("/blog")}).catch(W=>{b.value="Erstellen",console.log(W),W.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht erstellt werden. Bitte versuche es erneut.")}))},O=W=>{const I=new FormData;I.append("file",W.target.files[0]),Dn.post("/media",I,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(H=>{O.value=H.data.media.url}).catch(H=>{console.log(H),H.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})},L=()=>{xn.get("editor_de").execCommand("mceInsertContent",!1,`<img src="${O.value}" />`),xn.get("editor_en").execCommand("mceInsertContent",!1,`<img src="${O.value}" />`),y.value=!1};return za(async()=>{await xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |   bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:300,setup:W=>{W.on("init",()=>{W.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),W_(()=>{xn.remove()}),(W,I)=>{const H=Na("router-Link");return Ke(),Ye("main",null,[F("div",Hme,[Vme,it(H,{to:"/blog",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1})]),Ume,F("div",Wme,[F("div",jme,[F("div",Gme,[it(tr,{lang:"de",title:"Titel (DE)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":I[0]||(I[0]=P=>m.value["name:de"]=P),placeholder:"Name"},null,512),[[Un,m.value["name:de"]]])]),_:1})]),F("div",qme,[it(tr,{lang:"de",title:"Kurzbeschreibung"},{content:It(()=>[Kme]),_:1})]),F("div",Xme,[it(tr,{lang:"de",title:"Inhalt der Seite"},{content:It(()=>[F("button",{class:"button-primary",style:{"margin-bottom":"10px",width:"max-content"},onClick:I[1]||(I[1]=P=>y.value=!0)}," Bild hochladen "),y.value?(Ke(),Ye("div",Yme,[F("div",Jme,[F("input",{type:"file",onChange:O},null,32)]),F("div",Zme,[F("button",{class:"button-primary",onClick:L}," Bild einsetzen "),F("button",{class:"button-secondary",onClick:I[2]||(I[2]=P=>y.value=!1)}," Abbrechen ")])])):Tr("",!0),Qme]),_:1})])]),F("div",ehe,[F("div",the,[it(tr,{lang:"en",title:"Titel (EN)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":I[3]||(I[3]=P=>m.value["name:en"]=P),placeholder:"Name"},null,512),[[Un,m.value["name:en"]]])]),_:1})]),F("div",nhe,[it(tr,{lang:"en",title:"Short Description"},{content:It(()=>[rhe]),_:1})]),F("div",ahe,[it(tr,{lang:"en",title:"Content of the Page"},{content:It(()=>[ohe]),_:1})])])]),F("div",ihe,[F("button",{class:"button-primary",onClick:I[4]||(I[4]=P=>T())},Kn(b.value),1),F("div",uhe,[(Ke(!0),Ye(Er,null,Ia(W.errors,P=>(Ke(),Ye("p",{key:P},Kn(P),1))),128))])])])}}},lhe=lb(she,[["__scopeId","data-v-b9a441cc"]]);const wA=f=>(V_("data-v-521a935a"),f=f(),U_(),f),che={class:"row"},fhe=wA(()=>F("h1",null,"Beitrag bearbeiten",-1)),vhe=wA(()=>F("hr",{class:"divider"},null,-1)),dhe={class:"row content-row"},mhe={class:"row content-row"},hhe=wA(()=>F("textarea",{for:"short_description",placeholder:"Beschreibung",id:"short_description_editor_de"},null,-1)),ghe={class:"row content-row"},phe={key:0,class:"imageUploader"},bhe={class:"row content-row"},yhe={class:"row"},whe=wA(()=>F("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1)),Che={class:"row content-row"},_he={class:"row content-row"},She=wA(()=>F("textarea",{for:"short_description",placeholder:"Beschreibung",id:"short_description_editor_en"},null,-1)),xhe={class:"row content-row"},khe=wA(()=>F("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1)),Ahe={class:"content-row"},Ehe={class:"errorMessages"},The={__name:"Edit",setup(f){const m=xt({"name:de":"","name:en":"","description:de":"","description:en":"","short_description:de":"","short_description:en":"",status:"veröffentlicht",slug:""});xt(null);const y=xt(!1),b=xt("Erstellen"),_=Kl(),x=Qm(),T=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen für die Blogbeitrag ein."),!1):!0,O=()=>{T()&&(b.value="Speichern...",m.value["description:de"]=xn.get("editor_de").getContent(),m.value["description:en"]=xn.get("editor_en").getContent(),m.value["short_description:de"]=xn.get("short_description_editor_de").getContent(),m.value["short_description:en"]=xn.get("short_description_editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Dn.patch("/blogs/"+x.params.id,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,_.push("/blog")}).catch(I=>{b.value="Erstellen",console.log(I),I.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht gespeichert werden. Bitte versuche es erneut.")}))},L=I=>{const H=new FormData;H.append("file",I.target.files[0]),Dn.post("/media",H,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{L.value=P.data.media.url}).catch(P=>{console.log(P),P.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})},W=()=>{xn.get("editor_de").execCommand("mceInsertContent",!1,`<img src="${L.value}" />`),xn.get("editor_en").execCommand("mceInsertContent",!1,`<img src="${L.value}" />`),y.value=!1};return za(async()=>{if(x.params.id){const I=await Dn.get(`/blogs/${x.params.id}`);m.value["name:de"]=I.data.translations[0].name,m.value["name:en"]=I.data.translations[1].name,m.value["description:de"]=I.data.translations[0].description,m.value["description:en"]=I.data.translations[1].description,m.value["short_description:de"]=I.data.translations[0].short_description,m.value["short_description:en"]=I.data.translations[1].short_description,m.value.status=I.data.status,b.value="Aktualisieren"}await xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:300,setup:I=>{I.on("init",()=>{I.setContent("<p></p>")})}}),setTimeout(()=>{xn.get("editor_de").setContent(m.value["description:de"]),xn.get("editor_en").setContent(m.value["description:en"]),xn.get("short_description_editor_de").setContent(m.value["short_description:de"]),xn.get("short_description_editor_en").setContent(m.value["short_description:en"])},100)}),W_(()=>{xn.remove()}),(I,H)=>{const P=Na("router-Link");return Ke(),Ye("main",null,[F("div",che,[fhe,it(P,{to:"/blog",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1})]),vhe,F("div",dhe,[it(tr,{lang:"de",title:"Titel (DE)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":H[0]||(H[0]=V=>m.value["name:de"]=V),placeholder:"Name"},null,512),[[Un,m.value["name:de"]]])]),_:1})]),F("div",mhe,[it(tr,{lang:"de",title:"Kurzbeschreibung"},{content:It(()=>[hhe]),_:1})]),F("div",ghe,[it(tr,{lang:"de",title:"Beschreibung"},{content:It(()=>[F("button",{class:"button-primary",style:{"margin-bottom":"10px",width:"max-content"},onClick:H[1]||(H[1]=V=>y.value=!0)}," Bild hochladen "),y.value?(Ke(),Ye("div",phe,[F("div",bhe,[F("input",{type:"file",onChange:L},null,32)]),F("div",yhe,[F("button",{class:"button-primary",onClick:W}," Bild einsetzen "),F("button",{class:"button-secondary",onClick:H[2]||(H[2]=V=>y.value=!1)}," Abbrechen ")])])):Tr("",!0),whe]),_:1})]),F("div",Che,[it(tr,{lang:"en",title:"Titel (EN)"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":H[3]||(H[3]=V=>m.value["name:en"]=V),placeholder:"Name"},null,512),[[Un,m.value["name:en"]]])]),_:1})]),F("div",_he,[it(tr,{lang:"en",title:"Short Description"},{content:It(()=>[She]),_:1})]),F("div",xhe,[it(tr,{lang:"en",title:"Description"},{content:It(()=>[khe]),_:1})]),F("div",Ahe,[F("button",{class:"button-primary",onClick:H[4]||(H[4]=V=>O())},Kn(b.value),1),F("div",Ehe,[(Ke(!0),Ye(Er,null,Ia(I.errors,V=>(Ke(),Ye("p",{key:V},Kn(V),1))),128))])])])}}},Ohe=lb(The,[["__scopeId","data-v-521a935a"]]);const fp=f=>(V_("data-v-a31130f0"),f=f(),U_(),f),Dhe={class:"row"},Rhe=fp(()=>F("h1",null,"Startseite Texte",-1)),$he=fp(()=>F("hr",{class:"divider"},null,-1)),Bhe={class:"grid-2-cols"},Mhe={class:"col"},Phe={class:"row content-row"},Ihe={class:"row content-row"},Nhe=fp(()=>F("textarea",{for:"short_description",placeholder:"Beschreibung",id:"landing_component_description_de"},null,-1)),zhe={class:"row content-row"},Fhe={class:"row content-row"},Lhe=fp(()=>F("textarea",{for:"short_description",placeholder:"Beschreibung",id:"tour_component_description_de"},null,-1)),Hhe={class:"row content-row"},Vhe={class:"row content-row"},Uhe=fp(()=>F("textarea",{for:"short_description",placeholder:"Beschreibung",id:"public_tour_component_description_de"},null,-1)),Whe={class:"row content-row"},jhe={class:"row content-row"},Ghe=fp(()=>F("textarea",{for:"short_description",placeholder:"Beschreibung",id:"guide_component_description_de"},null,-1)),qhe={class:"col"},Khe={class:"row content-row"},Xhe={class:"row content-row"},Yhe=fp(()=>F("textarea",{for:"short_description",placeholder:"Beschreibung",id:"landing_component_description_en"},null,-1)),Jhe={class:"row content-row"},Zhe={class:"row content-row"},Qhe=fp(()=>F("textarea",{for:"short_description",placeholder:"Beschreibung",id:"tour_component_description_en"},null,-1)),ege={class:"row content-row"},tge={class:"row content-row"},nge=fp(()=>F("textarea",{for:"short_description",placeholder:"Beschreibung",id:"public_tour_component_description_en"},null,-1)),rge={class:"row content-row"},age={class:"row content-row"},oge=fp(()=>F("textarea",{for:"short_description",placeholder:"Beschreibung",id:"guide_component_description_en"},null,-1)),ige={class:"content-row"},uge={class:"errorMessages"},sge={__name:"Create",setup(f){const m=xt({"landing_component_title:de":"","landing_component_title:en":"","landing_component_description:de":"","landing_component_description:en":"","tour_component_title:de":"","tour_component_title:en":"","tour_component_description:de":"","tour_component_description:en":"","public_tour_component_title:de":"","public_tour_component_title:en":"","public_tour_component_description:de":"","public_tour_component_description:en":"","guide_component_title:de":"","guide_component_title:en":"","guide_component_description:de":"","guide_component_description:en":""}),y=xt("Erstellen"),b=Kl(),_=()=>{y.value="Speichern...",m.value["landing_component_description:de"]=xn.get("landing_component_description_de").getContent()||"",m.value["landing_component_description:en"]=xn.get("landing_component_description_en").getContent()||"",m.value["tour_component_description:de"]=xn.get("tour_component_description_de").getContent()||"",m.value["tour_component_description:en"]=xn.get("tour_component_description_en").getContent()||"",m.value["public_tour_component_description:de"]=xn.get("public_tour_component_description_de").getContent()||"",m.value["public_tour_component_description:en"]=xn.get("public_tour_component_description_en").getContent()||"",m.value["guide_component_description:de"]=xn.get("guide_component_description_de").getContent()||"",m.value["guide_component_description:en"]=xn.get("guide_component_description_en").getContent()||"",Dn.patch("/landingpages/4",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,b.push("/")}).catch(T=>{y.value="Erstellen",console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht erstellt werden. Bitte versuche es erneut.")})};za(async()=>{await xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |   bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:300,setup:T=>{T.on("init",()=>{T.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0}),x()});const x=()=>{Dn.get("/landingpages/4",{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(T=>{m.value=T.data,xn.get("landing_component_description_de").setContent(T.data.translations[0].landing_component_description||""),xn.get("landing_component_description_en").setContent(T.data.translations[1].landing_component_description||""),xn.get("tour_component_description_de").setContent(T.data.translations[0].tour_component_description||""),xn.get("tour_component_description_en").setContent(T.data.translations[1].tour_component_description||""),xn.get("public_tour_component_description_de").setContent(T.data.translations[0].public_tour_component_description||""),xn.get("public_tour_component_description_en").setContent(T.data.translations[1].public_tour_component_description||""),xn.get("guide_component_description_de").setContent(T.data.translations[0].guide_component_description||""),xn.get("guide_component_description_en").setContent(T.data.translations[1].guide_component_description||""),m.value["landing_component_title:de"]=T.data.translations[0].landing_component_title||"",m.value["landing_component_title:en"]=T.data.translations[1].landing_component_title||"",m.value["tour_component_title:de"]=T.data.translations[0].tour_component_title||"",m.value["tour_component_title:en"]=T.data.translations[1].tour_component_title||"",m.value["public_tour_component_title:de"]=T.data.translations[0].public_tour_component_title||"",m.value["public_tour_component_title:en"]=T.data.translations[1].public_tour_component_title||"",m.value["guide_component_title:de"]=T.data.translations[0].guide_component_title||"",m.value["guide_component_title:en"]=T.data.translations[1].guide_component_title||""}).catch(T=>{console.log(T),T.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})};return W_(()=>{xn.remove()}),(T,O)=>{const L=Na("router-Link");return Ke(),Ye("main",null,[F("div",Dhe,[Rhe,it(L,{to:"/",class:"button-primary"},{default:It(()=>[Ar("Abbrechen")]),_:1})]),$he,F("div",Bhe,[F("div",Mhe,[F("div",Phe,[it(tr,{lang:"de",title:"Überschrift"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":O[0]||(O[0]=W=>m.value["landing_component_title:de"]=W),placeholder:"Name"},null,512),[[Un,m.value["landing_component_title:de"]]])]),_:1})]),F("div",Ihe,[it(tr,{lang:"de",title:"Text"},{content:It(()=>[Nhe]),_:1})]),F("div",zhe,[it(tr,{lang:"de",title:"Überschrift"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":O[1]||(O[1]=W=>m.value["tour_component_title:de"]=W),placeholder:"Name"},null,512),[[Un,m.value["tour_component_title:de"]]])]),_:1})]),F("div",Fhe,[it(tr,{lang:"de",title:"Text"},{content:It(()=>[Lhe]),_:1})]),F("div",Hhe,[it(tr,{lang:"de",title:"Überschrift"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":O[2]||(O[2]=W=>m.value["public_tour_component_title:de"]=W),placeholder:"Name"},null,512),[[Un,m.value["public_tour_component_title:de"]]])]),_:1})]),F("div",Vhe,[it(tr,{lang:"de",title:"Text"},{content:It(()=>[Uhe]),_:1})]),F("div",Whe,[it(tr,{lang:"de",title:"Überschrift"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":O[3]||(O[3]=W=>m.value["guide_component_title:de"]=W),placeholder:"Name"},null,512),[[Un,m.value["guide_component_title:de"]]])]),_:1})]),F("div",jhe,[it(tr,{lang:"de",title:"Text"},{content:It(()=>[Ghe]),_:1})])]),F("div",qhe,[F("div",Khe,[it(tr,{lang:"en",title:"Überschrift"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":O[4]||(O[4]=W=>m.value["landing_component_title:en"]=W),placeholder:"Name"},null,512),[[Un,m.value["landing_component_title:en"]]])]),_:1})]),F("div",Xhe,[it(tr,{lang:"en",title:"Text"},{content:It(()=>[Yhe]),_:1})]),F("div",Jhe,[it(tr,{lang:"en",title:"Überschrift"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":O[5]||(O[5]=W=>m.value["tour_component_title:en"]=W),placeholder:"Name"},null,512),[[Un,m.value["tour_component_title:en"]]])]),_:1})]),F("div",Zhe,[it(tr,{lang:"en",title:"Text"},{content:It(()=>[Qhe]),_:1})]),F("div",ege,[it(tr,{lang:"en",title:"Überschrift"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":O[6]||(O[6]=W=>m.value["public_tour_component_title:en"]=W),placeholder:"Name"},null,512),[[Un,m.value["public_tour_component_title:en"]]])]),_:1})]),F("div",tge,[it(tr,{lang:"en",title:"Text"},{content:It(()=>[nge]),_:1})]),F("div",rge,[it(tr,{lang:"en",title:"Überschrift"},{content:It(()=>[Nn(F("input",{type:"text","onUpdate:modelValue":O[7]||(O[7]=W=>m.value["guide_component_title:en"]=W),placeholder:"Name"},null,512),[[Un,m.value["guide_component_title:en"]]])]),_:1})]),F("div",age,[it(tr,{lang:"en",title:"Text"},{content:It(()=>[oge]),_:1})])])]),F("div",ige,[F("button",{class:"button-primary",onClick:O[8]||(O[8]=W=>_())},Kn(y.value),1),F("div",uge,[(Ke(!0),Ye(Er,null,Ia(T.errors,W=>(Ke(),Ye("p",{key:W},Kn(W),1))),128))])])])}}},lge=lb(sge,[["__scopeId","data-v-a31130f0"]]);const cge={},fge=F("h1",null,"Dashboard",-1),vge=F("hr",{class:"divider"},null,-1),dge={class:"content-row"},mge={class:"col"},hge=F("h2",null,"Empfohlene Vorgehensweise",-1),gge=F("hr",{class:"divider"},null,-1),pge=F("h3",null,"Zuerst Zertifikate, Sprachen und Guides erstellen",-1),bge=F("p",null," Es ist ratsam, zuerst Guides und ihre Attribute anzulegen, da dies den Aufwand während der Tour-Erstellung verringert. ",-1),yge={class:"col",style:{margin:"5px 0"}},wge={class:"col",style:{margin:"5px 0"}},Cge={class:"col",style:{margin:"5px 0"}},_ge=F("h3",null,"Touren erstellen",-1),Sge=F("p",null," Nachdem Sie Guides, Sprachen und Zertifikate erstellt und verknüpft haben, können Sie mit dem Anlegen der Touren beginnen. Wenn Sie während der Tour-Erstellung feststellen, dass Sie einen Guide oder ein Zertifikat vergessen haben, können Sie diese auch während des Vorgangs erstellen. ",-1),xge={class:"col",style:{margin:"5px 0"}};function kge(f,m){const y=Na("router-link");return Ke(),Ye("div",null,[fge,vge,F("div",dge,[F("div",mge,[hge,gge,F("ol",null,[F("li",null,[pge,bge,F("div",yge,[it(y,{style:{display:"inline-block"},to:"/guides",class:"button-primary"},{default:It(()=>[Ar("Guides")]),_:1})]),F("div",wge,[it(y,{style:{display:"inline-block"},to:"/sprachen",class:"button-primary"},{default:It(()=>[Ar("Sprachen")]),_:1})]),F("div",Cge,[it(y,{style:{display:"inline-block"},to:"/zertifikate",class:"button-primary"},{default:It(()=>[Ar("Zertifikate")]),_:1})])]),F("li",null,[_ge,Sge,F("div",xge,[it(y,{style:{display:"inline-block"},to:"/touren",class:"button-primary"},{default:It(()=>[Ar("Touren")]),_:1})])])])])])])}const Age=lb(cge,[["render",kge]]),Ege=Nne({history:tne("/"),routes:[{path:"/",name:"getting-started",component:Age},{path:"/touren",name:"home",component:jae},{path:"/tour-erstellen",name:"touren",component:Jle},{path:"/tour-bearbeiten/:id",name:"tour-bearbeiten",component:gfe},{path:"/guides",name:"guides",component:xfe},{path:"/guide-erstellen",name:"guide-erstellen",component:kfe},{path:"/guide-bearbeiten/:id",name:"guide-bearbeiten",component:Afe},{path:"/profile/:id",name:"profile",component:Cve},{path:"/sprachen",name:"sprachen",component:Ove},{path:"/sprache-erstellen",name:"sprache-erstellen",component:Dve},{path:"/sprache-bearbeiten/:id",name:"sprache-bearbeiten",component:Rve},{path:"/mobilitaet",name:"mobilität",component:Fve},{path:"/mobilitaet-erstellen",name:"mobilitaet-erstellen",component:Lve},{path:"/mobilitaet-bearbeiten/:id",name:"mobilitaet-bearbeiten",component:Hve},{path:"/orte",name:"orte",component:Xve},{path:"/ort-erstellen",name:"ort-erstellen",component:Yve},{path:"/ort-bearbeiten/:id",name:"ort-bearbeiten",component:Jve},{path:"/kategorien",name:"kategorien",component:ode},{path:"/kategorie-erstellen",name:"kategorie-erstellen",component:ide},{path:"/kategorie-bearbeiten/:id",name:"kategorie-bearbeiten",component:ude},{path:"/zertifikate",name:"zertifikate",component:hde},{path:"/zertifikat-erstellen",name:"zertifikat-erstellen",component:gde},{path:"/zertifikat-bearbeiten/:id",name:"zertifikat-bearbeiten",component:pde},{path:"/skills",name:"skills",component:kde},{path:"/skill-erstellen",name:"skill-erstellen",component:Ade},{path:"/skill-bearbeiten/:id",name:"skill-bearbeiten",component:Ede},{path:"/verwaltung",name:"verwaltung",component:Pde},{path:"/verwaltung-erstellen",name:"verwaltung-erstellen",component:jde},{path:"/verwaltung-bearbeiten/:id",name:"verwaltung-bearbeiten",component:tme},{path:"/pages",name:"pages",component:sme},{path:"/page-erstellen",name:"page-erstellen",component:wme},{path:"/page-bearbeiten/:id",name:"page-bearbeiten",component:$me},{path:"/blog",name:"blog",component:Lme},{path:"/blog-erstellen",name:"blog-erstellen",component:lhe},{path:"/blog-bearbeiten/:id",name:"blog-bearbeiten",component:Ohe},{path:"/startseite",name:"startseite",component:lge}],scrollBehavior(f,m,y){return{top:0}}});Dn.defaults.baseURL="https://api.hamburger-gaestefuehrer.de/api";Dn.defaults.headers.common["Access-Control-Allow-Origin"]="*";Dn.defaults.headers.common["Content-Type"]="application/json";Dn.defaults.withCredentials=!0;const d9=xte(Aae);d9.use(Tte());d9.use(Ege);d9.mount("#app");
