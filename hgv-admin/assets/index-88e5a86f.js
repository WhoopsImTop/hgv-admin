(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))b(S);new MutationObserver(S=>{for(const _ of S)if(_.type==="childList")for(const O of _.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&b(O)}).observe(document,{childList:!0,subtree:!0});function y(S){const _={};return S.integrity&&(_.integrity=S.integrity),S.referrerPolicy&&(_.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?_.credentials="include":S.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function b(S){if(S.ep)return;S.ep=!0;const _=y(S);fetch(S.href,_)}})();function RH(f,m){const y=Object.create(null),b=f.split(",");for(let S=0;S<b.length;S++)y[b[S]]=!0;return m?S=>!!y[S.toLowerCase()]:S=>!!y[S]}const wi={},aA=[],qm=()=>{},oQ=()=>!1,iQ=/^on[^a-z]/,P8=f=>iQ.test(f),$H=f=>f.startsWith("onUpdate:"),js=Object.assign,BH=(f,m)=>{const y=f.indexOf(m);y>-1&&f.splice(y,1)},uQ=Object.prototype.hasOwnProperty,eo=(f,m)=>uQ.call(f,m),Lr=Array.isArray,oA=f=>I5(f)==="[object Map]",I8=f=>I5(f)==="[object Set]",wU=f=>I5(f)==="[object Date]",ba=f=>typeof f=="function",Cs=f=>typeof f=="string",E5=f=>typeof f=="symbol",ai=f=>f!==null&&typeof f=="object",TW=f=>ai(f)&&ba(f.then)&&ba(f.catch),OW=Object.prototype.toString,I5=f=>OW.call(f),sQ=f=>I5(f).slice(8,-1),DW=f=>I5(f)==="[object Object]",MH=f=>Cs(f)&&f!=="NaN"&&f[0]!=="-"&&""+parseInt(f,10)===f,l8=RH(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),N8=f=>{const m=Object.create(null);return y=>m[y]||(m[y]=f(y))},lQ=/-(\w)/g,up=N8(f=>f.replace(lQ,(m,y)=>y?y.toUpperCase():"")),cQ=/\B([A-Z])/g,HS=N8(f=>f.replace(cQ,"-$1").toLowerCase()),z8=N8(f=>f.charAt(0).toUpperCase()+f.slice(1)),J7=N8(f=>f?`on${z8(f)}`:""),T5=(f,m)=>!Object.is(f,m),c8=(f,m)=>{for(let y=0;y<f.length;y++)f[y](m)},b8=(f,m,y)=>{Object.defineProperty(f,m,{configurable:!0,enumerable:!1,value:y})},y8=f=>{const m=parseFloat(f);return isNaN(m)?f:m};let CU;const fH=()=>CU||(CU=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function F8(f){if(Lr(f)){const m={};for(let y=0;y<f.length;y++){const b=f[y],S=Cs(b)?mQ(b):F8(b);if(S)for(const _ in S)m[_]=S[_]}return m}else{if(Cs(f))return f;if(ai(f))return f}}const fQ=/;(?![^(]*\))/g,vQ=/:([^]+)/,dQ=/\/\*[^]*?\*\//g;function mQ(f){const m={};return f.replace(dQ,"").split(fQ).forEach(y=>{if(y){const b=y.split(vQ);b.length>1&&(m[b[0].trim()]=b[1].trim())}}),m}function N5(f){let m="";if(Cs(f))m=f;else if(Lr(f))for(let y=0;y<f.length;y++){const b=N5(f[y]);b&&(m+=b+" ")}else if(ai(f))for(const y in f)f[y]&&(m+=y+" ");return m.trim()}const hQ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gQ=RH(hQ);function RW(f){return!!f||f===""}function pQ(f,m){if(f.length!==m.length)return!1;let y=!0;for(let b=0;y&&b<f.length;b++)y=L8(f[b],m[b]);return y}function L8(f,m){if(f===m)return!0;let y=wU(f),b=wU(m);if(y||b)return y&&b?f.getTime()===m.getTime():!1;if(y=E5(f),b=E5(m),y||b)return f===m;if(y=Lr(f),b=Lr(m),y||b)return y&&b?pQ(f,m):!1;if(y=ai(f),b=ai(m),y||b){if(!y||!b)return!1;const S=Object.keys(f).length,_=Object.keys(m).length;if(S!==_)return!1;for(const O in f){const T=f.hasOwnProperty(O),F=m.hasOwnProperty(O);if(T&&!F||!T&&F||!L8(f[O],m[O]))return!1}}return String(f)===String(m)}function bQ(f,m){return f.findIndex(y=>L8(y,m))}const ar=f=>Cs(f)?f:f==null?"":Lr(f)||ai(f)&&(f.toString===OW||!ba(f.toString))?JSON.stringify(f,$W,2):String(f),$W=(f,m)=>m&&m.__v_isRef?$W(f,m.value):oA(m)?{[`Map(${m.size})`]:[...m.entries()].reduce((y,[b,S])=>(y[`${b} =>`]=S,y),{})}:I8(m)?{[`Set(${m.size})`]:[...m.values()]}:ai(m)&&!Lr(m)&&!DW(m)?String(m):m;let Um;class BW{constructor(m=!1){this.detached=m,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Um,!m&&Um&&(this.index=(Um.scopes||(Um.scopes=[])).push(this)-1)}get active(){return this._active}run(m){if(this._active){const y=Um;try{return Um=this,m()}finally{Um=y}}}on(){Um=this}off(){Um=this.parent}stop(m){if(this._active){let y,b;for(y=0,b=this.effects.length;y<b;y++)this.effects[y].stop();for(y=0,b=this.cleanups.length;y<b;y++)this.cleanups[y]();if(this.scopes)for(y=0,b=this.scopes.length;y<b;y++)this.scopes[y].stop(!0);if(!this.detached&&this.parent&&!m){const S=this.parent.scopes.pop();S&&S!==this&&(this.parent.scopes[this.index]=S,S.index=this.index)}this.parent=void 0,this._active=!1}}}function yQ(f){return new BW(f)}function wQ(f,m=Um){m&&m.active&&m.effects.push(f)}function CQ(){return Um}const PH=f=>{const m=new Set(f);return m.w=0,m.n=0,m},MW=f=>(f.w&Qy)>0,PW=f=>(f.n&Qy)>0,SQ=({deps:f})=>{if(f.length)for(let m=0;m<f.length;m++)f[m].w|=Qy},_Q=f=>{const{deps:m}=f;if(m.length){let y=0;for(let b=0;b<m.length;b++){const S=m[b];MW(S)&&!PW(S)?S.delete(f):m[y++]=S,S.w&=~Qy,S.n&=~Qy}m.length=y}},vH=new WeakMap;let w5=0,Qy=1;const dH=30;let Wm;const FS=Symbol(""),mH=Symbol("");class IH{constructor(m,y=null,b){this.fn=m,this.scheduler=y,this.active=!0,this.deps=[],this.parent=void 0,wQ(this,b)}run(){if(!this.active)return this.fn();let m=Wm,y=Jy;for(;m;){if(m===this)return;m=m.parent}try{return this.parent=Wm,Wm=this,Jy=!0,Qy=1<<++w5,w5<=dH?SQ(this):SU(this),this.fn()}finally{w5<=dH&&_Q(this),Qy=1<<--w5,Wm=this.parent,Jy=y,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Wm===this?this.deferStop=!0:this.active&&(SU(this),this.onStop&&this.onStop(),this.active=!1)}}function SU(f){const{deps:m}=f;if(m.length){for(let y=0;y<m.length;y++)m[y].delete(f);m.length=0}}let Jy=!0;const IW=[];function mA(){IW.push(Jy),Jy=!1}function hA(){const f=IW.pop();Jy=f===void 0?!0:f}function Tf(f,m,y){if(Jy&&Wm){let b=vH.get(f);b||vH.set(f,b=new Map);let S=b.get(y);S||b.set(y,S=PH()),NW(S)}}function NW(f,m){let y=!1;w5<=dH?PW(f)||(f.n|=Qy,y=!MW(f)):y=!f.has(Wm),y&&(f.add(Wm),Wm.deps.push(f))}function ib(f,m,y,b,S,_){const O=vH.get(f);if(!O)return;let T=[];if(m==="clear")T=[...O.values()];else if(y==="length"&&Lr(f)){const F=Number(b);O.forEach((j,P)=>{(P==="length"||P>=F)&&T.push(j)})}else switch(y!==void 0&&T.push(O.get(y)),m){case"add":Lr(f)?MH(y)&&T.push(O.get("length")):(T.push(O.get(FS)),oA(f)&&T.push(O.get(mH)));break;case"delete":Lr(f)||(T.push(O.get(FS)),oA(f)&&T.push(O.get(mH)));break;case"set":oA(f)&&T.push(O.get(FS));break}if(T.length===1)T[0]&&hH(T[0]);else{const F=[];for(const j of T)j&&F.push(...j);hH(PH(F))}}function hH(f,m){const y=Lr(f)?f:[...f];for(const b of y)b.computed&&_U(b);for(const b of y)b.computed||_U(b)}function _U(f,m){(f!==Wm||f.allowRecurse)&&(f.scheduler?f.scheduler():f.run())}const xQ=RH("__proto__,__v_isRef,__isVue"),zW=new Set(Object.getOwnPropertyNames(Symbol).filter(f=>f!=="arguments"&&f!=="caller").map(f=>Symbol[f]).filter(E5)),kQ=NH(),AQ=NH(!1,!0),EQ=NH(!0),xU=TQ();function TQ(){const f={};return["includes","indexOf","lastIndexOf"].forEach(m=>{f[m]=function(...y){const b=go(this);for(let _=0,O=this.length;_<O;_++)Tf(b,"get",_+"");const S=b[m](...y);return S===-1||S===!1?b[m](...y.map(go)):S}}),["push","pop","shift","unshift","splice"].forEach(m=>{f[m]=function(...y){mA();const b=go(this)[m].apply(this,y);return hA(),b}}),f}function OQ(f){const m=go(this);return Tf(m,"has",f),m.hasOwnProperty(f)}function NH(f=!1,m=!1){return function(b,S,_){if(S==="__v_isReactive")return!f;if(S==="__v_isReadonly")return f;if(S==="__v_isShallow")return m;if(S==="__v_raw"&&_===(f?m?jQ:UW:m?VW:HW).get(b))return b;const O=Lr(b);if(!f){if(O&&eo(xU,S))return Reflect.get(xU,S,_);if(S==="hasOwnProperty")return OQ}const T=Reflect.get(b,S,_);return(E5(S)?zW.has(S):xQ(S))||(f||Tf(b,"get",S),m)?T:Gl(T)?O&&MH(S)?T:T.value:ai(T)?f?jW(T):V8(T):T}}const DQ=FW(),RQ=FW(!0);function FW(f=!1){return function(y,b,S,_){let O=y[b];if(sA(O)&&Gl(O)&&!Gl(S))return!1;if(!f&&(!w8(S)&&!sA(S)&&(O=go(O),S=go(S)),!Lr(y)&&Gl(O)&&!Gl(S)))return O.value=S,!0;const T=Lr(y)&&MH(b)?Number(b)<y.length:eo(y,b),F=Reflect.set(y,b,S,_);return y===go(_)&&(T?T5(S,O)&&ib(y,"set",b,S):ib(y,"add",b,S)),F}}function $Q(f,m){const y=eo(f,m);f[m];const b=Reflect.deleteProperty(f,m);return b&&y&&ib(f,"delete",m,void 0),b}function BQ(f,m){const y=Reflect.has(f,m);return(!E5(m)||!zW.has(m))&&Tf(f,"has",m),y}function MQ(f){return Tf(f,"iterate",Lr(f)?"length":FS),Reflect.ownKeys(f)}const LW={get:kQ,set:DQ,deleteProperty:$Q,has:BQ,ownKeys:MQ},PQ={get:EQ,set(f,m){return!0},deleteProperty(f,m){return!0}},IQ=js({},LW,{get:AQ,set:RQ}),zH=f=>f,H8=f=>Reflect.getPrototypeOf(f);function r8(f,m,y=!1,b=!1){f=f.__v_raw;const S=go(f),_=go(m);y||(m!==_&&Tf(S,"get",m),Tf(S,"get",_));const{has:O}=H8(S),T=b?zH:y?VH:O5;if(O.call(S,m))return T(f.get(m));if(O.call(S,_))return T(f.get(_));f!==S&&f.get(m)}function a8(f,m=!1){const y=this.__v_raw,b=go(y),S=go(f);return m||(f!==S&&Tf(b,"has",f),Tf(b,"has",S)),f===S?y.has(f):y.has(f)||y.has(S)}function o8(f,m=!1){return f=f.__v_raw,!m&&Tf(go(f),"iterate",FS),Reflect.get(f,"size",f)}function kU(f){f=go(f);const m=go(this);return H8(m).has.call(m,f)||(m.add(f),ib(m,"add",f,f)),this}function AU(f,m){m=go(m);const y=go(this),{has:b,get:S}=H8(y);let _=b.call(y,f);_||(f=go(f),_=b.call(y,f));const O=S.call(y,f);return y.set(f,m),_?T5(m,O)&&ib(y,"set",f,m):ib(y,"add",f,m),this}function EU(f){const m=go(this),{has:y,get:b}=H8(m);let S=y.call(m,f);S||(f=go(f),S=y.call(m,f)),b&&b.call(m,f);const _=m.delete(f);return S&&ib(m,"delete",f,void 0),_}function TU(){const f=go(this),m=f.size!==0,y=f.clear();return m&&ib(f,"clear",void 0,void 0),y}function i8(f,m){return function(b,S){const _=this,O=_.__v_raw,T=go(O),F=m?zH:f?VH:O5;return!f&&Tf(T,"iterate",FS),O.forEach((j,P)=>b.call(S,F(j),F(P),_))}}function u8(f,m,y){return function(...b){const S=this.__v_raw,_=go(S),O=oA(_),T=f==="entries"||f===Symbol.iterator&&O,F=f==="keys"&&O,j=S[f](...b),P=y?zH:m?VH:O5;return!m&&Tf(_,"iterate",F?mH:FS),{next(){const{value:H,done:I}=j.next();return I?{value:H,done:I}:{value:T?[P(H[0]),P(H[1])]:P(H),done:I}},[Symbol.iterator](){return this}}}}function Gy(f){return function(...m){return f==="delete"?!1:this}}function NQ(){const f={get(_){return r8(this,_)},get size(){return o8(this)},has:a8,add:kU,set:AU,delete:EU,clear:TU,forEach:i8(!1,!1)},m={get(_){return r8(this,_,!1,!0)},get size(){return o8(this)},has:a8,add:kU,set:AU,delete:EU,clear:TU,forEach:i8(!1,!0)},y={get(_){return r8(this,_,!0)},get size(){return o8(this,!0)},has(_){return a8.call(this,_,!0)},add:Gy("add"),set:Gy("set"),delete:Gy("delete"),clear:Gy("clear"),forEach:i8(!0,!1)},b={get(_){return r8(this,_,!0,!0)},get size(){return o8(this,!0)},has(_){return a8.call(this,_,!0)},add:Gy("add"),set:Gy("set"),delete:Gy("delete"),clear:Gy("clear"),forEach:i8(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(_=>{f[_]=u8(_,!1,!1),y[_]=u8(_,!0,!1),m[_]=u8(_,!1,!0),b[_]=u8(_,!0,!0)}),[f,y,m,b]}const[zQ,FQ,LQ,HQ]=NQ();function FH(f,m){const y=m?f?HQ:LQ:f?FQ:zQ;return(b,S,_)=>S==="__v_isReactive"?!f:S==="__v_isReadonly"?f:S==="__v_raw"?b:Reflect.get(eo(y,S)&&S in b?y:b,S,_)}const VQ={get:FH(!1,!1)},UQ={get:FH(!1,!0)},WQ={get:FH(!0,!1)},HW=new WeakMap,VW=new WeakMap,UW=new WeakMap,jQ=new WeakMap;function GQ(f){switch(f){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qQ(f){return f.__v_skip||!Object.isExtensible(f)?0:GQ(sQ(f))}function V8(f){return sA(f)?f:LH(f,!1,LW,VQ,HW)}function WW(f){return LH(f,!1,IQ,UQ,VW)}function jW(f){return LH(f,!0,PQ,WQ,UW)}function LH(f,m,y,b,S){if(!ai(f)||f.__v_raw&&!(m&&f.__v_isReactive))return f;const _=S.get(f);if(_)return _;const O=qQ(f);if(O===0)return f;const T=new Proxy(f,O===2?b:y);return S.set(f,T),T}function iA(f){return sA(f)?iA(f.__v_raw):!!(f&&f.__v_isReactive)}function sA(f){return!!(f&&f.__v_isReadonly)}function w8(f){return!!(f&&f.__v_isShallow)}function GW(f){return iA(f)||sA(f)}function go(f){const m=f&&f.__v_raw;return m?go(m):f}function HH(f){return b8(f,"__v_skip",!0),f}const O5=f=>ai(f)?V8(f):f,VH=f=>ai(f)?jW(f):f;function qW(f){Jy&&Wm&&(f=go(f),NW(f.dep||(f.dep=PH())))}function KW(f,m){f=go(f);const y=f.dep;y&&hH(y)}function Gl(f){return!!(f&&f.__v_isRef===!0)}function _t(f){return XW(f,!1)}function KQ(f){return XW(f,!0)}function XW(f,m){return Gl(f)?f:new XQ(f,m)}class XQ{constructor(m,y){this.__v_isShallow=y,this.dep=void 0,this.__v_isRef=!0,this._rawValue=y?m:go(m),this._value=y?m:O5(m)}get value(){return qW(this),this._value}set value(m){const y=this.__v_isShallow||w8(m)||sA(m);m=y?m:go(m),T5(m,this._rawValue)&&(this._rawValue=m,this._value=y?m:O5(m),KW(this))}}function $o(f){return Gl(f)?f.value:f}const YQ={get:(f,m,y)=>$o(Reflect.get(f,m,y)),set:(f,m,y,b)=>{const S=f[m];return Gl(S)&&!Gl(y)?(S.value=y,!0):Reflect.set(f,m,y,b)}};function YW(f){return iA(f)?f:new Proxy(f,YQ)}class JQ{constructor(m,y,b,S){this._setter=y,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new IH(m,()=>{this._dirty||(this._dirty=!0,KW(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!S,this.__v_isReadonly=b}get value(){const m=go(this);return qW(m),(m._dirty||!m._cacheable)&&(m._dirty=!1,m._value=m.effect.run()),m._value}set value(m){this._setter(m)}}function ZQ(f,m,y=!1){let b,S;const _=ba(f);return _?(b=f,S=qm):(b=f.get,S=f.set),new JQ(b,S,_||!S,y)}function Zy(f,m,y,b){let S;try{S=b?f(...b):f()}catch(_){U8(_,m,y)}return S}function Km(f,m,y,b){if(ba(f)){const _=Zy(f,m,y,b);return _&&TW(_)&&_.catch(O=>{U8(O,m,y)}),_}const S=[];for(let _=0;_<f.length;_++)S.push(Km(f[_],m,y,b));return S}function U8(f,m,y,b=!0){const S=m?m.vnode:null;if(m){let _=m.parent;const O=m.proxy,T=y;for(;_;){const j=_.ec;if(j){for(let P=0;P<j.length;P++)if(j[P](f,O,T)===!1)return}_=_.parent}const F=m.appContext.config.errorHandler;if(F){Zy(F,null,10,[f,O,T]);return}}QQ(f,y,S,b)}function QQ(f,m,y,b=!0){console.error(f)}let D5=!1,gH=!1;const jl=[];let ip=0;const uA=[];let ab=null,BS=0;const JW=Promise.resolve();let UH=null;function ZW(f){const m=UH||JW;return f?m.then(this?f.bind(this):f):m}function eee(f){let m=ip+1,y=jl.length;for(;m<y;){const b=m+y>>>1;R5(jl[b])<f?m=b+1:y=b}return m}function WH(f){(!jl.length||!jl.includes(f,D5&&f.allowRecurse?ip+1:ip))&&(f.id==null?jl.push(f):jl.splice(eee(f.id),0,f),QW())}function QW(){!D5&&!gH&&(gH=!0,UH=JW.then(tj))}function tee(f){const m=jl.indexOf(f);m>ip&&jl.splice(m,1)}function nee(f){Lr(f)?uA.push(...f):(!ab||!ab.includes(f,f.allowRecurse?BS+1:BS))&&uA.push(f),QW()}function OU(f,m=D5?ip+1:0){for(;m<jl.length;m++){const y=jl[m];y&&y.pre&&(jl.splice(m,1),m--,y())}}function ej(f){if(uA.length){const m=[...new Set(uA)];if(uA.length=0,ab){ab.push(...m);return}for(ab=m,ab.sort((y,b)=>R5(y)-R5(b)),BS=0;BS<ab.length;BS++)ab[BS]();ab=null,BS=0}}const R5=f=>f.id==null?1/0:f.id,ree=(f,m)=>{const y=R5(f)-R5(m);if(y===0){if(f.pre&&!m.pre)return-1;if(m.pre&&!f.pre)return 1}return y};function tj(f){gH=!1,D5=!0,jl.sort(ree);const m=qm;try{for(ip=0;ip<jl.length;ip++){const y=jl[ip];y&&y.active!==!1&&Zy(y,null,14)}}finally{ip=0,jl.length=0,ej(),D5=!1,UH=null,(jl.length||uA.length)&&tj()}}function aee(f,m,...y){if(f.isUnmounted)return;const b=f.vnode.props||wi;let S=y;const _=m.startsWith("update:"),O=_&&m.slice(7);if(O&&O in b){const P=`${O==="modelValue"?"model":O}Modifiers`,{number:H,trim:I}=b[P]||wi;I&&(S=y.map(L=>Cs(L)?L.trim():L)),H&&(S=y.map(y8))}let T,F=b[T=J7(m)]||b[T=J7(up(m))];!F&&_&&(F=b[T=J7(HS(m))]),F&&Km(F,f,6,S);const j=b[T+"Once"];if(j){if(!f.emitted)f.emitted={};else if(f.emitted[T])return;f.emitted[T]=!0,Km(j,f,6,S)}}function nj(f,m,y=!1){const b=m.emitsCache,S=b.get(f);if(S!==void 0)return S;const _=f.emits;let O={},T=!1;if(!ba(f)){const F=j=>{const P=nj(j,m,!0);P&&(T=!0,js(O,P))};!y&&m.mixins.length&&m.mixins.forEach(F),f.extends&&F(f.extends),f.mixins&&f.mixins.forEach(F)}return!_&&!T?(ai(f)&&b.set(f,null),null):(Lr(_)?_.forEach(F=>O[F]=null):js(O,_),ai(f)&&b.set(f,O),O)}function W8(f,m){return!f||!P8(m)?!1:(m=m.slice(2).replace(/Once$/,""),eo(f,m[0].toLowerCase()+m.slice(1))||eo(f,HS(m))||eo(f,m))}let ql=null,j8=null;function C8(f){const m=ql;return ql=f,j8=f&&f.type.__scopeId||null,m}function gA(f){j8=f}function pA(){j8=null}function Gt(f,m=ql,y){if(!m||f._n)return f;const b=(...S)=>{b._d&&LU(-1);const _=C8(m);let O;try{O=f(...S)}finally{C8(_),b._d&&LU(1)}return O};return b._n=!0,b._c=!0,b._d=!0,b}function Z7(f){const{type:m,vnode:y,proxy:b,withProxy:S,props:_,propsOptions:[O],slots:T,attrs:F,emit:j,render:P,renderCache:H,data:I,setupState:L,ctx:Y,inheritAttrs:q}=f;let $e,de;const Be=C8(f);try{if(y.shapeFlag&4){const Se=S||b;$e=ap(P.call(Se,Se,H,_,L,I,Y)),de=F}else{const Se=m;$e=ap(Se.length>1?Se(_,{attrs:F,slots:T,emit:j}):Se(_,null)),de=m.props?F:oee(F)}}catch(Se){x5.length=0,U8(Se,f,1),$e=yt(e2)}let ne=$e;if(de&&q!==!1){const Se=Object.keys(de),{shapeFlag:Te}=ne;Se.length&&Te&7&&(O&&Se.some($H)&&(de=iee(de,O)),ne=lA(ne,de))}return y.dirs&&(ne=lA(ne),ne.dirs=ne.dirs?ne.dirs.concat(y.dirs):y.dirs),y.transition&&(ne.transition=y.transition),$e=ne,C8(Be),$e}const oee=f=>{let m;for(const y in f)(y==="class"||y==="style"||P8(y))&&((m||(m={}))[y]=f[y]);return m},iee=(f,m)=>{const y={};for(const b in f)(!$H(b)||!(b.slice(9)in m))&&(y[b]=f[b]);return y};function uee(f,m,y){const{props:b,children:S,component:_}=f,{props:O,children:T,patchFlag:F}=m,j=_.emitsOptions;if(m.dirs||m.transition)return!0;if(y&&F>=0){if(F&1024)return!0;if(F&16)return b?DU(b,O,j):!!O;if(F&8){const P=m.dynamicProps;for(let H=0;H<P.length;H++){const I=P[H];if(O[I]!==b[I]&&!W8(j,I))return!0}}}else return(S||T)&&(!T||!T.$stable)?!0:b===O?!1:b?O?DU(b,O,j):!0:!!O;return!1}function DU(f,m,y){const b=Object.keys(m);if(b.length!==Object.keys(f).length)return!0;for(let S=0;S<b.length;S++){const _=b[S];if(m[_]!==f[_]&&!W8(y,_))return!0}return!1}function see({vnode:f,parent:m},y){for(;m&&m.subTree===f;)(f=m.vnode).el=y,m=m.parent}const lee=f=>f.__isSuspense;function cee(f,m){m&&m.pendingBranch?Lr(f)?m.effects.push(...f):m.effects.push(f):nee(f)}const s8={};function Xm(f,m,y){return rj(f,m,y)}function rj(f,m,{immediate:y,deep:b,flush:S,onTrack:_,onTrigger:O}=wi){var T;const F=CQ()===((T=hl)==null?void 0:T.scope)?hl:null;let j,P=!1,H=!1;if(Gl(f)?(j=()=>f.value,P=w8(f)):iA(f)?(j=()=>f,b=!0):Lr(f)?(H=!0,P=f.some(Se=>iA(Se)||w8(Se)),j=()=>f.map(Se=>{if(Gl(Se))return Se.value;if(iA(Se))return NS(Se);if(ba(Se))return Zy(Se,F,2)})):ba(f)?m?j=()=>Zy(f,F,2):j=()=>{if(!(F&&F.isUnmounted))return I&&I(),Km(f,F,3,[L])}:j=qm,m&&b){const Se=j;j=()=>NS(Se())}let I,L=Se=>{I=Be.onStop=()=>{Zy(Se,F,4)}},Y;if(B5)if(L=qm,m?y&&Km(m,F,3,[j(),H?[]:void 0,L]):j(),S==="sync"){const Se=ete();Y=Se.__watcherHandles||(Se.__watcherHandles=[])}else return qm;let q=H?new Array(f.length).fill(s8):s8;const $e=()=>{if(Be.active)if(m){const Se=Be.run();(b||P||(H?Se.some((Te,xe)=>T5(Te,q[xe])):T5(Se,q)))&&(I&&I(),Km(m,F,3,[Se,q===s8?void 0:H&&q[0]===s8?[]:q,L]),q=Se)}else Be.run()};$e.allowRecurse=!!m;let de;S==="sync"?de=$e:S==="post"?de=()=>kf($e,F&&F.suspense):($e.pre=!0,F&&($e.id=F.uid),de=()=>WH($e));const Be=new IH(j,de);m?y?$e():q=Be.run():S==="post"?kf(Be.run.bind(Be),F&&F.suspense):Be.run();const ne=()=>{Be.stop(),F&&F.scope&&BH(F.scope.effects,Be)};return Y&&Y.push(ne),ne}function fee(f,m,y){const b=this.proxy,S=Cs(f)?f.includes(".")?aj(b,f):()=>b[f]:f.bind(b,b);let _;ba(m)?_=m:(_=m.handler,y=m);const O=hl;cA(this);const T=rj(S,_.bind(b),y);return O?cA(O):LS(),T}function aj(f,m){const y=m.split(".");return()=>{let b=f;for(let S=0;S<y.length&&b;S++)b=b[y[S]];return b}}function NS(f,m){if(!ai(f)||f.__v_skip||(m=m||new Set,m.has(f)))return f;if(m.add(f),Gl(f))NS(f.value,m);else if(Lr(f))for(let y=0;y<f.length;y++)NS(f[y],m);else if(I8(f)||oA(f))f.forEach(y=>{NS(y,m)});else if(DW(f))for(const y in f)NS(f[y],m);return f}function qn(f,m){const y=ql;if(y===null)return f;const b=X8(y)||y.proxy,S=f.dirs||(f.dirs=[]);for(let _=0;_<m.length;_++){let[O,T,F,j=wi]=m[_];O&&(ba(O)&&(O={mounted:O,updated:O}),O.deep&&NS(T),S.push({dir:O,instance:b,value:T,oldValue:void 0,arg:F,modifiers:j}))}return f}function RS(f,m,y,b){const S=f.dirs,_=m&&m.dirs;for(let O=0;O<S.length;O++){const T=S[O];_&&(T.oldValue=_[O].value);let F=T.dir[b];F&&(mA(),Km(F,y,8,[f.el,T,f,m]),hA())}}function oj(f,m){return ba(f)?(()=>js({name:f.name},m,{setup:f}))():f}const S5=f=>!!f.type.__asyncLoader,ij=f=>f.type.__isKeepAlive;function vee(f,m){uj(f,"a",m)}function dee(f,m){uj(f,"da",m)}function uj(f,m,y=hl){const b=f.__wdc||(f.__wdc=()=>{let S=y;for(;S;){if(S.isDeactivated)return;S=S.parent}return f()});if(G8(m,b,y),y){let S=y.parent;for(;S&&S.parent;)ij(S.parent.vnode)&&mee(b,m,y,S),S=S.parent}}function mee(f,m,y,b){const S=G8(m,f,b,!0);jH(()=>{BH(b[m],S)},y)}function G8(f,m,y=hl,b=!1){if(y){const S=y[f]||(y[f]=[]),_=m.__weh||(m.__weh=(...O)=>{if(y.isUnmounted)return;mA(),cA(y);const T=Km(m,y,f,O);return LS(),hA(),T});return b?S.unshift(_):S.push(_),_}}const ub=f=>(m,y=hl)=>(!B5||f==="sp")&&G8(f,(...b)=>m(...b),y),Zm=ub("bm"),Ia=ub("m"),hee=ub("bu"),gee=ub("u"),bA=ub("bum"),jH=ub("um"),pee=ub("sp"),bee=ub("rtg"),yee=ub("rtc");function wee(f,m=hl){G8("ec",f,m)}const sj="components";function Ua(f,m){return See(sj,f,!0,m)||f}const Cee=Symbol.for("v-ndc");function See(f,m,y=!0,b=!1){const S=ql||hl;if(S){const _=S.type;if(f===sj){const T=Jee(_,!1);if(T&&(T===m||T===up(m)||T===z8(up(m))))return _}const O=RU(S[f]||_[f],m)||RU(S.appContext[f],m);return!O&&b?_:O}}function RU(f,m){return f&&(f[m]||f[up(m)]||f[z8(up(m))])}function qa(f,m,y,b){let S;const _=y&&y[b];if(Lr(f)||Cs(f)){S=new Array(f.length);for(let O=0,T=f.length;O<T;O++)S[O]=m(f[O],O,void 0,_&&_[O])}else if(typeof f=="number"){S=new Array(f);for(let O=0;O<f;O++)S[O]=m(O+1,O,void 0,_&&_[O])}else if(ai(f))if(f[Symbol.iterator])S=Array.from(f,(O,T)=>m(O,T,void 0,_&&_[T]));else{const O=Object.keys(f);S=new Array(O.length);for(let T=0,F=O.length;T<F;T++){const j=O[T];S[T]=m(f[j],j,T,_&&_[T])}}else S=[];return y&&(y[b]=S),S}function pH(f,m,y={},b,S){if(ql.isCE||ql.parent&&S5(ql.parent)&&ql.parent.isCE)return m!=="default"&&(y.name=m),yt("slot",y,b&&b());let _=f[m];_&&_._c&&(_._d=!1),Ke();const O=_&&lj(_(y)),T=Dd($r,{key:y.key||O&&O.key||`_${m}`},O||(b?b():[]),O&&f._===1?64:-2);return!S&&T.scopeId&&(T.slotScopeIds=[T.scopeId+"-s"]),_&&_._c&&(_._d=!0),T}function lj(f){return f.some(m=>x8(m)?!(m.type===e2||m.type===$r&&!lj(m.children)):!0)?f:null}const bH=f=>f?wj(f)?X8(f)||f.proxy:bH(f.parent):null,_5=js(Object.create(null),{$:f=>f,$el:f=>f.vnode.el,$data:f=>f.data,$props:f=>f.props,$attrs:f=>f.attrs,$slots:f=>f.slots,$refs:f=>f.refs,$parent:f=>bH(f.parent),$root:f=>bH(f.root),$emit:f=>f.emit,$options:f=>GH(f),$forceUpdate:f=>f.f||(f.f=()=>WH(f.update)),$nextTick:f=>f.n||(f.n=ZW.bind(f.proxy)),$watch:f=>fee.bind(f)}),Q7=(f,m)=>f!==wi&&!f.__isScriptSetup&&eo(f,m),_ee={get({_:f},m){const{ctx:y,setupState:b,data:S,props:_,accessCache:O,type:T,appContext:F}=f;let j;if(m[0]!=="$"){const L=O[m];if(L!==void 0)switch(L){case 1:return b[m];case 2:return S[m];case 4:return y[m];case 3:return _[m]}else{if(Q7(b,m))return O[m]=1,b[m];if(S!==wi&&eo(S,m))return O[m]=2,S[m];if((j=f.propsOptions[0])&&eo(j,m))return O[m]=3,_[m];if(y!==wi&&eo(y,m))return O[m]=4,y[m];yH&&(O[m]=0)}}const P=_5[m];let H,I;if(P)return m==="$attrs"&&Tf(f,"get",m),P(f);if((H=T.__cssModules)&&(H=H[m]))return H;if(y!==wi&&eo(y,m))return O[m]=4,y[m];if(I=F.config.globalProperties,eo(I,m))return I[m]},set({_:f},m,y){const{data:b,setupState:S,ctx:_}=f;return Q7(S,m)?(S[m]=y,!0):b!==wi&&eo(b,m)?(b[m]=y,!0):eo(f.props,m)||m[0]==="$"&&m.slice(1)in f?!1:(_[m]=y,!0)},has({_:{data:f,setupState:m,accessCache:y,ctx:b,appContext:S,propsOptions:_}},O){let T;return!!y[O]||f!==wi&&eo(f,O)||Q7(m,O)||(T=_[0])&&eo(T,O)||eo(b,O)||eo(_5,O)||eo(S.config.globalProperties,O)},defineProperty(f,m,y){return y.get!=null?f._.accessCache[m]=0:eo(y,"value")&&this.set(f,m,y.value,null),Reflect.defineProperty(f,m,y)}};function $U(f){return Lr(f)?f.reduce((m,y)=>(m[y]=null,m),{}):f}let yH=!0;function xee(f){const m=GH(f),y=f.proxy,b=f.ctx;yH=!1,m.beforeCreate&&BU(m.beforeCreate,f,"bc");const{data:S,computed:_,methods:O,watch:T,provide:F,inject:j,created:P,beforeMount:H,mounted:I,beforeUpdate:L,updated:Y,activated:q,deactivated:$e,beforeDestroy:de,beforeUnmount:Be,destroyed:ne,unmounted:Se,render:Te,renderTracked:xe,renderTriggered:Ge,errorCaptured:se,serverPrefetch:pe,expose:ye,inheritAttrs:Me,components:re,directives:W,filters:ke}=m;if(j&&kee(j,b,null),O)for(const ge in O){const ut=O[ge];ba(ut)&&(b[ge]=ut.bind(y))}if(S){const ge=S.call(y,y);ai(ge)&&(f.data=V8(ge))}if(yH=!0,_)for(const ge in _){const ut=_[ge],B=ba(ut)?ut.bind(y,y):ba(ut.get)?ut.get.bind(y,y):qm,kt=!ba(ut)&&ba(ut.set)?ut.set.bind(y):qm,at=ri({get:B,set:kt});Object.defineProperty(b,ge,{enumerable:!0,configurable:!0,get:()=>at.value,set:ot=>at.value=ot})}if(T)for(const ge in T)cj(T[ge],b,y,ge);if(F){const ge=ba(F)?F.call(y):F;Reflect.ownKeys(ge).forEach(ut=>{f8(ut,ge[ut])})}P&&BU(P,f,"c");function le(ge,ut){Lr(ut)?ut.forEach(B=>ge(B.bind(y))):ut&&ge(ut.bind(y))}if(le(Zm,H),le(Ia,I),le(hee,L),le(gee,Y),le(vee,q),le(dee,$e),le(wee,se),le(yee,xe),le(bee,Ge),le(bA,Be),le(jH,Se),le(pee,pe),Lr(ye))if(ye.length){const ge=f.exposed||(f.exposed={});ye.forEach(ut=>{Object.defineProperty(ge,ut,{get:()=>y[ut],set:B=>y[ut]=B})})}else f.exposed||(f.exposed={});Te&&f.render===qm&&(f.render=Te),Me!=null&&(f.inheritAttrs=Me),re&&(f.components=re),W&&(f.directives=W)}function kee(f,m,y=qm){Lr(f)&&(f=wH(f));for(const b in f){const S=f[b];let _;ai(S)?"default"in S?_=Ym(S.from||b,S.default,!0):_=Ym(S.from||b):_=Ym(S),Gl(_)?Object.defineProperty(m,b,{enumerable:!0,configurable:!0,get:()=>_.value,set:O=>_.value=O}):m[b]=_}}function BU(f,m,y){Km(Lr(f)?f.map(b=>b.bind(m.proxy)):f.bind(m.proxy),m,y)}function cj(f,m,y,b){const S=b.includes(".")?aj(y,b):()=>y[b];if(Cs(f)){const _=m[f];ba(_)&&Xm(S,_)}else if(ba(f))Xm(S,f.bind(y));else if(ai(f))if(Lr(f))f.forEach(_=>cj(_,m,y,b));else{const _=ba(f.handler)?f.handler.bind(y):m[f.handler];ba(_)&&Xm(S,_,f)}}function GH(f){const m=f.type,{mixins:y,extends:b}=m,{mixins:S,optionsCache:_,config:{optionMergeStrategies:O}}=f.appContext,T=_.get(m);let F;return T?F=T:!S.length&&!y&&!b?F=m:(F={},S.length&&S.forEach(j=>S8(F,j,O,!0)),S8(F,m,O)),ai(m)&&_.set(m,F),F}function S8(f,m,y,b=!1){const{mixins:S,extends:_}=m;_&&S8(f,_,y,!0),S&&S.forEach(O=>S8(f,O,y,!0));for(const O in m)if(!(b&&O==="expose")){const T=Aee[O]||y&&y[O];f[O]=T?T(f[O],m[O]):m[O]}return f}const Aee={data:MU,props:PU,emits:PU,methods:C5,computed:C5,beforeCreate:Dc,created:Dc,beforeMount:Dc,mounted:Dc,beforeUpdate:Dc,updated:Dc,beforeDestroy:Dc,beforeUnmount:Dc,destroyed:Dc,unmounted:Dc,activated:Dc,deactivated:Dc,errorCaptured:Dc,serverPrefetch:Dc,components:C5,directives:C5,watch:Tee,provide:MU,inject:Eee};function MU(f,m){return m?f?function(){return js(ba(f)?f.call(this,this):f,ba(m)?m.call(this,this):m)}:m:f}function Eee(f,m){return C5(wH(f),wH(m))}function wH(f){if(Lr(f)){const m={};for(let y=0;y<f.length;y++)m[f[y]]=f[y];return m}return f}function Dc(f,m){return f?[...new Set([].concat(f,m))]:m}function C5(f,m){return f?js(Object.create(null),f,m):m}function PU(f,m){return f?Lr(f)&&Lr(m)?[...new Set([...f,...m])]:js(Object.create(null),$U(f),$U(m??{})):m}function Tee(f,m){if(!f)return m;if(!m)return f;const y=js(Object.create(null),f);for(const b in m)y[b]=Dc(f[b],m[b]);return y}function fj(){return{app:null,config:{isNativeTag:oQ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Oee=0;function Dee(f,m){return function(b,S=null){ba(b)||(b=js({},b)),S!=null&&!ai(S)&&(S=null);const _=fj(),O=new Set;let T=!1;const F=_.app={_uid:Oee++,_component:b,_props:S,_container:null,_context:_,_instance:null,version:tte,get config(){return _.config},set config(j){},use(j,...P){return O.has(j)||(j&&ba(j.install)?(O.add(j),j.install(F,...P)):ba(j)&&(O.add(j),j(F,...P))),F},mixin(j){return _.mixins.includes(j)||_.mixins.push(j),F},component(j,P){return P?(_.components[j]=P,F):_.components[j]},directive(j,P){return P?(_.directives[j]=P,F):_.directives[j]},mount(j,P,H){if(!T){const I=yt(b,S);return I.appContext=_,P&&m?m(I,j):f(I,j,H),T=!0,F._container=j,j.__vue_app__=F,X8(I.component)||I.component.proxy}},unmount(){T&&(f(null,F._container),delete F._container.__vue_app__)},provide(j,P){return _.provides[j]=P,F},runWithContext(j){_8=F;try{return j()}finally{_8=null}}};return F}}let _8=null;function f8(f,m){if(hl){let y=hl.provides;const b=hl.parent&&hl.parent.provides;b===y&&(y=hl.provides=Object.create(b)),y[f]=m}}function Ym(f,m,y=!1){const b=hl||ql;if(b||_8){const S=b?b.parent==null?b.vnode.appContext&&b.vnode.appContext.provides:b.parent.provides:_8._context.provides;if(S&&f in S)return S[f];if(arguments.length>1)return y&&ba(m)?m.call(b&&b.proxy):m}}function Ree(f,m,y,b=!1){const S={},_={};b8(_,K8,1),f.propsDefaults=Object.create(null),vj(f,m,S,_);for(const O in f.propsOptions[0])O in S||(S[O]=void 0);y?f.props=b?S:WW(S):f.type.props?f.props=S:f.props=_,f.attrs=_}function $ee(f,m,y,b){const{props:S,attrs:_,vnode:{patchFlag:O}}=f,T=go(S),[F]=f.propsOptions;let j=!1;if((b||O>0)&&!(O&16)){if(O&8){const P=f.vnode.dynamicProps;for(let H=0;H<P.length;H++){let I=P[H];if(W8(f.emitsOptions,I))continue;const L=m[I];if(F)if(eo(_,I))L!==_[I]&&(_[I]=L,j=!0);else{const Y=up(I);S[Y]=CH(F,T,Y,L,f,!1)}else L!==_[I]&&(_[I]=L,j=!0)}}}else{vj(f,m,S,_)&&(j=!0);let P;for(const H in T)(!m||!eo(m,H)&&((P=HS(H))===H||!eo(m,P)))&&(F?y&&(y[H]!==void 0||y[P]!==void 0)&&(S[H]=CH(F,T,H,void 0,f,!0)):delete S[H]);if(_!==T)for(const H in _)(!m||!eo(m,H))&&(delete _[H],j=!0)}j&&ib(f,"set","$attrs")}function vj(f,m,y,b){const[S,_]=f.propsOptions;let O=!1,T;if(m)for(let F in m){if(l8(F))continue;const j=m[F];let P;S&&eo(S,P=up(F))?!_||!_.includes(P)?y[P]=j:(T||(T={}))[P]=j:W8(f.emitsOptions,F)||(!(F in b)||j!==b[F])&&(b[F]=j,O=!0)}if(_){const F=go(y),j=T||wi;for(let P=0;P<_.length;P++){const H=_[P];y[H]=CH(S,F,H,j[H],f,!eo(j,H))}}return O}function CH(f,m,y,b,S,_){const O=f[y];if(O!=null){const T=eo(O,"default");if(T&&b===void 0){const F=O.default;if(O.type!==Function&&!O.skipFactory&&ba(F)){const{propsDefaults:j}=S;y in j?b=j[y]:(cA(S),b=j[y]=F.call(null,m),LS())}else b=F}O[0]&&(_&&!T?b=!1:O[1]&&(b===""||b===HS(y))&&(b=!0))}return b}function dj(f,m,y=!1){const b=m.propsCache,S=b.get(f);if(S)return S;const _=f.props,O={},T=[];let F=!1;if(!ba(f)){const P=H=>{F=!0;const[I,L]=dj(H,m,!0);js(O,I),L&&T.push(...L)};!y&&m.mixins.length&&m.mixins.forEach(P),f.extends&&P(f.extends),f.mixins&&f.mixins.forEach(P)}if(!_&&!F)return ai(f)&&b.set(f,aA),aA;if(Lr(_))for(let P=0;P<_.length;P++){const H=up(_[P]);IU(H)&&(O[H]=wi)}else if(_)for(const P in _){const H=up(P);if(IU(H)){const I=_[P],L=O[H]=Lr(I)||ba(I)?{type:I}:js({},I);if(L){const Y=FU(Boolean,L.type),q=FU(String,L.type);L[0]=Y>-1,L[1]=q<0||Y<q,(Y>-1||eo(L,"default"))&&T.push(H)}}}const j=[O,T];return ai(f)&&b.set(f,j),j}function IU(f){return f[0]!=="$"}function NU(f){const m=f&&f.toString().match(/^\s*(function|class) (\w+)/);return m?m[2]:f===null?"null":""}function zU(f,m){return NU(f)===NU(m)}function FU(f,m){return Lr(m)?m.findIndex(y=>zU(y,f)):ba(m)&&zU(m,f)?0:-1}const mj=f=>f[0]==="_"||f==="$stable",qH=f=>Lr(f)?f.map(ap):[ap(f)],Bee=(f,m,y)=>{if(m._n)return m;const b=Gt((...S)=>qH(m(...S)),y);return b._c=!1,b},hj=(f,m,y)=>{const b=f._ctx;for(const S in f){if(mj(S))continue;const _=f[S];if(ba(_))m[S]=Bee(S,_,b);else if(_!=null){const O=qH(_);m[S]=()=>O}}},gj=(f,m)=>{const y=qH(m);f.slots.default=()=>y},Mee=(f,m)=>{if(f.vnode.shapeFlag&32){const y=m._;y?(f.slots=go(m),b8(m,"_",y)):hj(m,f.slots={})}else f.slots={},m&&gj(f,m);b8(f.slots,K8,1)},Pee=(f,m,y)=>{const{vnode:b,slots:S}=f;let _=!0,O=wi;if(b.shapeFlag&32){const T=m._;T?y&&T===1?_=!1:(js(S,m),!y&&T===1&&delete S._):(_=!m.$stable,hj(m,S)),O=m}else m&&(gj(f,m),O={default:1});if(_)for(const T in S)!mj(T)&&!(T in O)&&delete S[T]};function SH(f,m,y,b,S=!1){if(Lr(f)){f.forEach((I,L)=>SH(I,m&&(Lr(m)?m[L]:m),y,b,S));return}if(S5(b)&&!S)return;const _=b.shapeFlag&4?X8(b.component)||b.component.proxy:b.el,O=S?null:_,{i:T,r:F}=f,j=m&&m.r,P=T.refs===wi?T.refs={}:T.refs,H=T.setupState;if(j!=null&&j!==F&&(Cs(j)?(P[j]=null,eo(H,j)&&(H[j]=null)):Gl(j)&&(j.value=null)),ba(F))Zy(F,T,12,[O,P]);else{const I=Cs(F),L=Gl(F);if(I||L){const Y=()=>{if(f.f){const q=I?eo(H,F)?H[F]:P[F]:F.value;S?Lr(q)&&BH(q,_):Lr(q)?q.includes(_)||q.push(_):I?(P[F]=[_],eo(H,F)&&(H[F]=P[F])):(F.value=[_],f.k&&(P[f.k]=F.value))}else I?(P[F]=O,eo(H,F)&&(H[F]=O)):L&&(F.value=O,f.k&&(P[f.k]=O))};O?(Y.id=-1,kf(Y,y)):Y()}}}const kf=cee;function Iee(f){return Nee(f)}function Nee(f,m){const y=fH();y.__VUE__=!0;const{insert:b,remove:S,patchProp:_,createElement:O,createText:T,createComment:F,setText:j,setElementText:P,parentNode:H,nextSibling:I,setScopeId:L=qm,insertStaticContent:Y}=f,q=(Oe,Ee,Ze,tt=null,He=null,pt=null,Jt=!1,it=null,Wt=!!Ee.dynamicChildren)=>{if(Oe===Ee)return;Oe&&!p5(Oe,Ee)&&(tt=te(Oe),ot(Oe,He,pt,!0),Oe=null),Ee.patchFlag===-2&&(Wt=!1,Ee.dynamicChildren=null);const{type:Rt,ref:zt,shapeFlag:rn}=Ee;switch(Rt){case q8:$e(Oe,Ee,Ze,tt);break;case e2:de(Oe,Ee,Ze,tt);break;case eH:Oe==null&&Be(Ee,Ze,tt,Jt);break;case $r:re(Oe,Ee,Ze,tt,He,pt,Jt,it,Wt);break;default:rn&1?Te(Oe,Ee,Ze,tt,He,pt,Jt,it,Wt):rn&6?W(Oe,Ee,Ze,tt,He,pt,Jt,it,Wt):(rn&64||rn&128)&&Rt.process(Oe,Ee,Ze,tt,He,pt,Jt,it,Wt,Ue)}zt!=null&&He&&SH(zt,Oe&&Oe.ref,pt,Ee||Oe,!Ee)},$e=(Oe,Ee,Ze,tt)=>{if(Oe==null)b(Ee.el=T(Ee.children),Ze,tt);else{const He=Ee.el=Oe.el;Ee.children!==Oe.children&&j(He,Ee.children)}},de=(Oe,Ee,Ze,tt)=>{Oe==null?b(Ee.el=F(Ee.children||""),Ze,tt):Ee.el=Oe.el},Be=(Oe,Ee,Ze,tt)=>{[Oe.el,Oe.anchor]=Y(Oe.children,Ee,Ze,tt,Oe.el,Oe.anchor)},ne=({el:Oe,anchor:Ee},Ze,tt)=>{let He;for(;Oe&&Oe!==Ee;)He=I(Oe),b(Oe,Ze,tt),Oe=He;b(Ee,Ze,tt)},Se=({el:Oe,anchor:Ee})=>{let Ze;for(;Oe&&Oe!==Ee;)Ze=I(Oe),S(Oe),Oe=Ze;S(Ee)},Te=(Oe,Ee,Ze,tt,He,pt,Jt,it,Wt)=>{Jt=Jt||Ee.type==="svg",Oe==null?xe(Ee,Ze,tt,He,pt,Jt,it,Wt):pe(Oe,Ee,He,pt,Jt,it,Wt)},xe=(Oe,Ee,Ze,tt,He,pt,Jt,it)=>{let Wt,Rt;const{type:zt,props:rn,shapeFlag:pn,transition:Kn,dirs:cr}=Oe;if(Wt=Oe.el=O(Oe.type,pt,rn&&rn.is,rn),pn&8?P(Wt,Oe.children):pn&16&&se(Oe.children,Wt,null,tt,He,pt&&zt!=="foreignObject",Jt,it),cr&&RS(Oe,null,tt,"created"),Ge(Wt,Oe,Oe.scopeId,Jt,tt),rn){for(const or in rn)or!=="value"&&!l8(or)&&_(Wt,or,null,rn[or],pt,Oe.children,tt,He,Sn);"value"in rn&&_(Wt,"value",null,rn.value),(Rt=rn.onVnodeBeforeMount)&&rp(Rt,tt,Oe)}cr&&RS(Oe,null,tt,"beforeMount");const qr=(!He||He&&!He.pendingBranch)&&Kn&&!Kn.persisted;qr&&Kn.beforeEnter(Wt),b(Wt,Ee,Ze),((Rt=rn&&rn.onVnodeMounted)||qr||cr)&&kf(()=>{Rt&&rp(Rt,tt,Oe),qr&&Kn.enter(Wt),cr&&RS(Oe,null,tt,"mounted")},He)},Ge=(Oe,Ee,Ze,tt,He)=>{if(Ze&&L(Oe,Ze),tt)for(let pt=0;pt<tt.length;pt++)L(Oe,tt[pt]);if(He){let pt=He.subTree;if(Ee===pt){const Jt=He.vnode;Ge(Oe,Jt,Jt.scopeId,Jt.slotScopeIds,He.parent)}}},se=(Oe,Ee,Ze,tt,He,pt,Jt,it,Wt=0)=>{for(let Rt=Wt;Rt<Oe.length;Rt++){const zt=Oe[Rt]=it?Xy(Oe[Rt]):ap(Oe[Rt]);q(null,zt,Ee,Ze,tt,He,pt,Jt,it)}},pe=(Oe,Ee,Ze,tt,He,pt,Jt)=>{const it=Ee.el=Oe.el;let{patchFlag:Wt,dynamicChildren:Rt,dirs:zt}=Ee;Wt|=Oe.patchFlag&16;const rn=Oe.props||wi,pn=Ee.props||wi;let Kn;Ze&&$S(Ze,!1),(Kn=pn.onVnodeBeforeUpdate)&&rp(Kn,Ze,Ee,Oe),zt&&RS(Ee,Oe,Ze,"beforeUpdate"),Ze&&$S(Ze,!0);const cr=He&&Ee.type!=="foreignObject";if(Rt?ye(Oe.dynamicChildren,Rt,it,Ze,tt,cr,pt):Jt||ut(Oe,Ee,it,null,Ze,tt,cr,pt,!1),Wt>0){if(Wt&16)Me(it,Ee,rn,pn,Ze,tt,He);else if(Wt&2&&rn.class!==pn.class&&_(it,"class",null,pn.class,He),Wt&4&&_(it,"style",rn.style,pn.style,He),Wt&8){const qr=Ee.dynamicProps;for(let or=0;or<qr.length;or++){const ua=qr[or],va=rn[ua],Qr=pn[ua];(Qr!==va||ua==="value")&&_(it,ua,va,Qr,He,Oe.children,Ze,tt,Sn)}}Wt&1&&Oe.children!==Ee.children&&P(it,Ee.children)}else!Jt&&Rt==null&&Me(it,Ee,rn,pn,Ze,tt,He);((Kn=pn.onVnodeUpdated)||zt)&&kf(()=>{Kn&&rp(Kn,Ze,Ee,Oe),zt&&RS(Ee,Oe,Ze,"updated")},tt)},ye=(Oe,Ee,Ze,tt,He,pt,Jt)=>{for(let it=0;it<Ee.length;it++){const Wt=Oe[it],Rt=Ee[it],zt=Wt.el&&(Wt.type===$r||!p5(Wt,Rt)||Wt.shapeFlag&70)?H(Wt.el):Ze;q(Wt,Rt,zt,null,tt,He,pt,Jt,!0)}},Me=(Oe,Ee,Ze,tt,He,pt,Jt)=>{if(Ze!==tt){if(Ze!==wi)for(const it in Ze)!l8(it)&&!(it in tt)&&_(Oe,it,Ze[it],null,Jt,Ee.children,He,pt,Sn);for(const it in tt){if(l8(it))continue;const Wt=tt[it],Rt=Ze[it];Wt!==Rt&&it!=="value"&&_(Oe,it,Rt,Wt,Jt,Ee.children,He,pt,Sn)}"value"in tt&&_(Oe,"value",Ze.value,tt.value)}},re=(Oe,Ee,Ze,tt,He,pt,Jt,it,Wt)=>{const Rt=Ee.el=Oe?Oe.el:T(""),zt=Ee.anchor=Oe?Oe.anchor:T("");let{patchFlag:rn,dynamicChildren:pn,slotScopeIds:Kn}=Ee;Kn&&(it=it?it.concat(Kn):Kn),Oe==null?(b(Rt,Ze,tt),b(zt,Ze,tt),se(Ee.children,Ze,zt,He,pt,Jt,it,Wt)):rn>0&&rn&64&&pn&&Oe.dynamicChildren?(ye(Oe.dynamicChildren,pn,Ze,He,pt,Jt,it),(Ee.key!=null||He&&Ee===He.subTree)&&pj(Oe,Ee,!0)):ut(Oe,Ee,Ze,zt,He,pt,Jt,it,Wt)},W=(Oe,Ee,Ze,tt,He,pt,Jt,it,Wt)=>{Ee.slotScopeIds=it,Oe==null?Ee.shapeFlag&512?He.ctx.activate(Ee,Ze,tt,Jt,Wt):ke(Ee,Ze,tt,He,pt,Jt,Wt):et(Oe,Ee,Wt)},ke=(Oe,Ee,Ze,tt,He,pt,Jt)=>{const it=Oe.component=Gee(Oe,tt,He);if(ij(Oe)&&(it.ctx.renderer=Ue),qee(it),it.asyncDep){if(He&&He.registerDep(it,le),!Oe.el){const Wt=it.subTree=yt(e2);de(null,Wt,Ee,Ze)}return}le(it,Oe,Ee,Ze,He,pt,Jt)},et=(Oe,Ee,Ze)=>{const tt=Ee.component=Oe.component;if(uee(Oe,Ee,Ze))if(tt.asyncDep&&!tt.asyncResolved){ge(tt,Ee,Ze);return}else tt.next=Ee,tee(tt.update),tt.update();else Ee.el=Oe.el,tt.vnode=Ee},le=(Oe,Ee,Ze,tt,He,pt,Jt)=>{const it=()=>{if(Oe.isMounted){let{next:zt,bu:rn,u:pn,parent:Kn,vnode:cr}=Oe,qr=zt,or;$S(Oe,!1),zt?(zt.el=cr.el,ge(Oe,zt,Jt)):zt=cr,rn&&c8(rn),(or=zt.props&&zt.props.onVnodeBeforeUpdate)&&rp(or,Kn,zt,cr),$S(Oe,!0);const ua=Z7(Oe),va=Oe.subTree;Oe.subTree=ua,q(va,ua,H(va.el),te(va),Oe,He,pt),zt.el=ua.el,qr===null&&see(Oe,ua.el),pn&&kf(pn,He),(or=zt.props&&zt.props.onVnodeUpdated)&&kf(()=>rp(or,Kn,zt,cr),He)}else{let zt;const{el:rn,props:pn}=Ee,{bm:Kn,m:cr,parent:qr}=Oe,or=S5(Ee);if($S(Oe,!1),Kn&&c8(Kn),!or&&(zt=pn&&pn.onVnodeBeforeMount)&&rp(zt,qr,Ee),$S(Oe,!0),rn&&Xn){const ua=()=>{Oe.subTree=Z7(Oe),Xn(rn,Oe.subTree,Oe,He,null)};or?Ee.type.__asyncLoader().then(()=>!Oe.isUnmounted&&ua()):ua()}else{const ua=Oe.subTree=Z7(Oe);q(null,ua,Ze,tt,Oe,He,pt),Ee.el=ua.el}if(cr&&kf(cr,He),!or&&(zt=pn&&pn.onVnodeMounted)){const ua=Ee;kf(()=>rp(zt,qr,ua),He)}(Ee.shapeFlag&256||qr&&S5(qr.vnode)&&qr.vnode.shapeFlag&256)&&Oe.a&&kf(Oe.a,He),Oe.isMounted=!0,Ee=Ze=tt=null}},Wt=Oe.effect=new IH(it,()=>WH(Rt),Oe.scope),Rt=Oe.update=()=>Wt.run();Rt.id=Oe.uid,$S(Oe,!0),Rt()},ge=(Oe,Ee,Ze)=>{Ee.component=Oe;const tt=Oe.vnode.props;Oe.vnode=Ee,Oe.next=null,$ee(Oe,Ee.props,tt,Ze),Pee(Oe,Ee.children,Ze),mA(),OU(),hA()},ut=(Oe,Ee,Ze,tt,He,pt,Jt,it,Wt=!1)=>{const Rt=Oe&&Oe.children,zt=Oe?Oe.shapeFlag:0,rn=Ee.children,{patchFlag:pn,shapeFlag:Kn}=Ee;if(pn>0){if(pn&128){kt(Rt,rn,Ze,tt,He,pt,Jt,it,Wt);return}else if(pn&256){B(Rt,rn,Ze,tt,He,pt,Jt,it,Wt);return}}Kn&8?(zt&16&&Sn(Rt,He,pt),rn!==Rt&&P(Ze,rn)):zt&16?Kn&16?kt(Rt,rn,Ze,tt,He,pt,Jt,it,Wt):Sn(Rt,He,pt,!0):(zt&8&&P(Ze,""),Kn&16&&se(rn,Ze,tt,He,pt,Jt,it,Wt))},B=(Oe,Ee,Ze,tt,He,pt,Jt,it,Wt)=>{Oe=Oe||aA,Ee=Ee||aA;const Rt=Oe.length,zt=Ee.length,rn=Math.min(Rt,zt);let pn;for(pn=0;pn<rn;pn++){const Kn=Ee[pn]=Wt?Xy(Ee[pn]):ap(Ee[pn]);q(Oe[pn],Kn,Ze,null,He,pt,Jt,it,Wt)}Rt>zt?Sn(Oe,He,pt,!0,!1,rn):se(Ee,Ze,tt,He,pt,Jt,it,Wt,rn)},kt=(Oe,Ee,Ze,tt,He,pt,Jt,it,Wt)=>{let Rt=0;const zt=Ee.length;let rn=Oe.length-1,pn=zt-1;for(;Rt<=rn&&Rt<=pn;){const Kn=Oe[Rt],cr=Ee[Rt]=Wt?Xy(Ee[Rt]):ap(Ee[Rt]);if(p5(Kn,cr))q(Kn,cr,Ze,null,He,pt,Jt,it,Wt);else break;Rt++}for(;Rt<=rn&&Rt<=pn;){const Kn=Oe[rn],cr=Ee[pn]=Wt?Xy(Ee[pn]):ap(Ee[pn]);if(p5(Kn,cr))q(Kn,cr,Ze,null,He,pt,Jt,it,Wt);else break;rn--,pn--}if(Rt>rn){if(Rt<=pn){const Kn=pn+1,cr=Kn<zt?Ee[Kn].el:tt;for(;Rt<=pn;)q(null,Ee[Rt]=Wt?Xy(Ee[Rt]):ap(Ee[Rt]),Ze,cr,He,pt,Jt,it,Wt),Rt++}}else if(Rt>pn)for(;Rt<=rn;)ot(Oe[Rt],He,pt,!0),Rt++;else{const Kn=Rt,cr=Rt,qr=new Map;for(Rt=cr;Rt<=pn;Rt++){const fr=Ee[Rt]=Wt?Xy(Ee[Rt]):ap(Ee[Rt]);fr.key!=null&&qr.set(fr.key,Rt)}let or,ua=0;const va=pn-cr+1;let Qr=!1,Hr=0;const da=new Array(va);for(Rt=0;Rt<va;Rt++)da[Rt]=0;for(Rt=Kn;Rt<=rn;Rt++){const fr=Oe[Rt];if(ua>=va){ot(fr,He,pt,!0);continue}let Na;if(fr.key!=null)Na=qr.get(fr.key);else for(or=cr;or<=pn;or++)if(da[or-cr]===0&&p5(fr,Ee[or])){Na=or;break}Na===void 0?ot(fr,He,pt,!0):(da[Na-cr]=Rt+1,Na>=Hr?Hr=Na:Qr=!0,q(fr,Ee[Na],Ze,null,He,pt,Jt,it,Wt),ua++)}const Ur=Qr?zee(da):aA;for(or=Ur.length-1,Rt=va-1;Rt>=0;Rt--){const fr=cr+Rt,Na=Ee[fr],Zi=fr+1<zt?Ee[fr+1].el:tt;da[Rt]===0?q(null,Na,Ze,Zi,He,pt,Jt,it,Wt):Qr&&(or<0||Rt!==Ur[or]?at(Na,Ze,Zi,2):or--)}}},at=(Oe,Ee,Ze,tt,He=null)=>{const{el:pt,type:Jt,transition:it,children:Wt,shapeFlag:Rt}=Oe;if(Rt&6){at(Oe.component.subTree,Ee,Ze,tt);return}if(Rt&128){Oe.suspense.move(Ee,Ze,tt);return}if(Rt&64){Jt.move(Oe,Ee,Ze,Ue);return}if(Jt===$r){b(pt,Ee,Ze);for(let rn=0;rn<Wt.length;rn++)at(Wt[rn],Ee,Ze,tt);b(Oe.anchor,Ee,Ze);return}if(Jt===eH){ne(Oe,Ee,Ze);return}if(tt!==2&&Rt&1&&it)if(tt===0)it.beforeEnter(pt),b(pt,Ee,Ze),kf(()=>it.enter(pt),He);else{const{leave:rn,delayLeave:pn,afterLeave:Kn}=it,cr=()=>b(pt,Ee,Ze),qr=()=>{rn(pt,()=>{cr(),Kn&&Kn()})};pn?pn(pt,cr,qr):qr()}else b(pt,Ee,Ze)},ot=(Oe,Ee,Ze,tt=!1,He=!1)=>{const{type:pt,props:Jt,ref:it,children:Wt,dynamicChildren:Rt,shapeFlag:zt,patchFlag:rn,dirs:pn}=Oe;if(it!=null&&SH(it,null,Ze,Oe,!0),zt&256){Ee.ctx.deactivate(Oe);return}const Kn=zt&1&&pn,cr=!S5(Oe);let qr;if(cr&&(qr=Jt&&Jt.onVnodeBeforeUnmount)&&rp(qr,Ee,Oe),zt&6)lt(Oe.component,Ze,tt);else{if(zt&128){Oe.suspense.unmount(Ze,tt);return}Kn&&RS(Oe,null,Ee,"beforeUnmount"),zt&64?Oe.type.remove(Oe,Ee,Ze,He,Ue,tt):Rt&&(pt!==$r||rn>0&&rn&64)?Sn(Rt,Ee,Ze,!1,!0):(pt===$r&&rn&384||!He&&zt&16)&&Sn(Wt,Ee,Ze),tt&&kn(Oe)}(cr&&(qr=Jt&&Jt.onVnodeUnmounted)||Kn)&&kf(()=>{qr&&rp(qr,Ee,Oe),Kn&&RS(Oe,null,Ee,"unmounted")},Ze)},kn=Oe=>{const{type:Ee,el:Ze,anchor:tt,transition:He}=Oe;if(Ee===$r){cn(Ze,tt);return}if(Ee===eH){Se(Oe);return}const pt=()=>{S(Ze),He&&!He.persisted&&He.afterLeave&&He.afterLeave()};if(Oe.shapeFlag&1&&He&&!He.persisted){const{leave:Jt,delayLeave:it}=He,Wt=()=>Jt(Ze,pt);it?it(Oe.el,pt,Wt):Wt()}else pt()},cn=(Oe,Ee)=>{let Ze;for(;Oe!==Ee;)Ze=I(Oe),S(Oe),Oe=Ze;S(Ee)},lt=(Oe,Ee,Ze)=>{const{bum:tt,scope:He,update:pt,subTree:Jt,um:it}=Oe;tt&&c8(tt),He.stop(),pt&&(pt.active=!1,ot(Jt,Oe,Ee,Ze)),it&&kf(it,Ee),kf(()=>{Oe.isUnmounted=!0},Ee),Ee&&Ee.pendingBranch&&!Ee.isUnmounted&&Oe.asyncDep&&!Oe.asyncResolved&&Oe.suspenseId===Ee.pendingId&&(Ee.deps--,Ee.deps===0&&Ee.resolve())},Sn=(Oe,Ee,Ze,tt=!1,He=!1,pt=0)=>{for(let Jt=pt;Jt<Oe.length;Jt++)ot(Oe[Jt],Ee,Ze,tt,He)},te=Oe=>Oe.shapeFlag&6?te(Oe.component.subTree):Oe.shapeFlag&128?Oe.suspense.next():I(Oe.anchor||Oe.el),fn=(Oe,Ee,Ze)=>{Oe==null?Ee._vnode&&ot(Ee._vnode,null,null,!0):q(Ee._vnode||null,Oe,Ee,null,null,null,Ze),OU(),ej(),Ee._vnode=Oe},Ue={p:q,um:ot,m:at,r:kn,mt:ke,mc:se,pc:ut,pbc:ye,n:te,o:f};let gt,Xn;return m&&([gt,Xn]=m(Ue)),{render:fn,hydrate:gt,createApp:Dee(fn,gt)}}function $S({effect:f,update:m},y){f.allowRecurse=m.allowRecurse=y}function pj(f,m,y=!1){const b=f.children,S=m.children;if(Lr(b)&&Lr(S))for(let _=0;_<b.length;_++){const O=b[_];let T=S[_];T.shapeFlag&1&&!T.dynamicChildren&&((T.patchFlag<=0||T.patchFlag===32)&&(T=S[_]=Xy(S[_]),T.el=O.el),y||pj(O,T)),T.type===q8&&(T.el=O.el)}}function zee(f){const m=f.slice(),y=[0];let b,S,_,O,T;const F=f.length;for(b=0;b<F;b++){const j=f[b];if(j!==0){if(S=y[y.length-1],f[S]<j){m[b]=S,y.push(b);continue}for(_=0,O=y.length-1;_<O;)T=_+O>>1,f[y[T]]<j?_=T+1:O=T;j<f[y[_]]&&(_>0&&(m[b]=y[_-1]),y[_]=b)}}for(_=y.length,O=y[_-1];_-- >0;)y[_]=O,O=m[O];return y}const Fee=f=>f.__isTeleport,$r=Symbol.for("v-fgt"),q8=Symbol.for("v-txt"),e2=Symbol.for("v-cmt"),eH=Symbol.for("v-stc"),x5=[];let jm=null;function Ke(f=!1){x5.push(jm=f?null:[])}function Lee(){x5.pop(),jm=x5[x5.length-1]||null}let $5=1;function LU(f){$5+=f}function bj(f){return f.dynamicChildren=$5>0?jm||aA:null,Lee(),$5>0&&jm&&jm.push(f),f}function Je(f,m,y,b,S,_){return bj(V(f,m,y,b,S,_,!0))}function Dd(f,m,y,b,S){return bj(yt(f,m,y,b,S,!0))}function x8(f){return f?f.__v_isVNode===!0:!1}function p5(f,m){return f.type===m.type&&f.key===m.key}const K8="__vInternal",yj=({key:f})=>f??null,v8=({ref:f,ref_key:m,ref_for:y})=>(typeof f=="number"&&(f=""+f),f!=null?Cs(f)||Gl(f)||ba(f)?{i:ql,r:f,k:m,f:!!y}:f:null);function V(f,m=null,y=null,b=0,S=null,_=f===$r?0:1,O=!1,T=!1){const F={__v_isVNode:!0,__v_skip:!0,type:f,props:m,key:m&&yj(m),ref:m&&v8(m),scopeId:j8,slotScopeIds:null,children:y,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:_,patchFlag:b,dynamicProps:S,dynamicChildren:null,appContext:null,ctx:ql};return T?(KH(F,y),_&128&&f.normalize(F)):y&&(F.shapeFlag|=Cs(y)?8:16),$5>0&&!O&&jm&&(F.patchFlag>0||_&6)&&F.patchFlag!==32&&jm.push(F),F}const yt=Hee;function Hee(f,m=null,y=null,b=0,S=null,_=!1){if((!f||f===Cee)&&(f=e2),x8(f)){const T=lA(f,m,!0);return y&&KH(T,y),$5>0&&!_&&jm&&(T.shapeFlag&6?jm[jm.indexOf(f)]=T:jm.push(T)),T.patchFlag|=-2,T}if(Zee(f)&&(f=f.__vccOpts),m){m=Vee(m);let{class:T,style:F}=m;T&&!Cs(T)&&(m.class=N5(T)),ai(F)&&(GW(F)&&!Lr(F)&&(F=js({},F)),m.style=F8(F))}const O=Cs(f)?1:lee(f)?128:Fee(f)?64:ai(f)?4:ba(f)?2:0;return V(f,m,y,b,S,O,_,!0)}function Vee(f){return f?GW(f)||K8 in f?js({},f):f:null}function lA(f,m,y=!1){const{props:b,ref:S,patchFlag:_,children:O}=f,T=m?Uee(b||{},m):b;return{__v_isVNode:!0,__v_skip:!0,type:f.type,props:T,key:T&&yj(T),ref:m&&m.ref?y&&S?Lr(S)?S.concat(v8(m)):[S,v8(m)]:v8(m):S,scopeId:f.scopeId,slotScopeIds:f.slotScopeIds,children:O,target:f.target,targetAnchor:f.targetAnchor,staticCount:f.staticCount,shapeFlag:f.shapeFlag,patchFlag:m&&f.type!==$r?_===-1?16:_|16:_,dynamicProps:f.dynamicProps,dynamicChildren:f.dynamicChildren,appContext:f.appContext,dirs:f.dirs,transition:f.transition,component:f.component,suspense:f.suspense,ssContent:f.ssContent&&lA(f.ssContent),ssFallback:f.ssFallback&&lA(f.ssFallback),el:f.el,anchor:f.anchor,ctx:f.ctx,ce:f.ce}}function Rr(f=" ",m=0){return yt(q8,null,f,m)}function kr(f="",m=!1){return m?(Ke(),Dd(e2,null,f)):yt(e2,null,f)}function ap(f){return f==null||typeof f=="boolean"?yt(e2):Lr(f)?yt($r,null,f.slice()):typeof f=="object"?Xy(f):yt(q8,null,String(f))}function Xy(f){return f.el===null&&f.patchFlag!==-1||f.memo?f:lA(f)}function KH(f,m){let y=0;const{shapeFlag:b}=f;if(m==null)m=null;else if(Lr(m))y=16;else if(typeof m=="object")if(b&65){const S=m.default;S&&(S._c&&(S._d=!1),KH(f,S()),S._c&&(S._d=!0));return}else{y=32;const S=m._;!S&&!(K8 in m)?m._ctx=ql:S===3&&ql&&(ql.slots._===1?m._=1:(m._=2,f.patchFlag|=1024))}else ba(m)?(m={default:m,_ctx:ql},y=32):(m=String(m),b&64?(y=16,m=[Rr(m)]):y=8);f.children=m,f.shapeFlag|=y}function Uee(...f){const m={};for(let y=0;y<f.length;y++){const b=f[y];for(const S in b)if(S==="class")m.class!==b.class&&(m.class=N5([m.class,b.class]));else if(S==="style")m.style=F8([m.style,b.style]);else if(P8(S)){const _=m[S],O=b[S];O&&_!==O&&!(Lr(_)&&_.includes(O))&&(m[S]=_?[].concat(_,O):O)}else S!==""&&(m[S]=b[S])}return m}function rp(f,m,y,b=null){Km(f,m,7,[y,b])}const Wee=fj();let jee=0;function Gee(f,m,y){const b=f.type,S=(m?m.appContext:f.appContext)||Wee,_={uid:jee++,vnode:f,type:b,parent:m,appContext:S,root:null,next:null,subTree:null,effect:null,update:null,scope:new BW(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:m?m.provides:Object.create(S.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:dj(b,S),emitsOptions:nj(b,S),emit:null,emitted:null,propsDefaults:wi,inheritAttrs:b.inheritAttrs,ctx:wi,data:wi,props:wi,attrs:wi,slots:wi,refs:wi,setupState:wi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:y,suspenseId:y?y.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return _.ctx={_},_.root=m?m.root:_,_.emit=aee.bind(null,_),f.ce&&f.ce(_),_}let hl=null,XH,eA,HU="__VUE_INSTANCE_SETTERS__";(eA=fH()[HU])||(eA=fH()[HU]=[]),eA.push(f=>hl=f),XH=f=>{eA.length>1?eA.forEach(m=>m(f)):eA[0](f)};const cA=f=>{XH(f),f.scope.on()},LS=()=>{hl&&hl.scope.off(),XH(null)};function wj(f){return f.vnode.shapeFlag&4}let B5=!1;function qee(f,m=!1){B5=m;const{props:y,children:b}=f.vnode,S=wj(f);Ree(f,y,S,m),Mee(f,b);const _=S?Kee(f,m):void 0;return B5=!1,_}function Kee(f,m){const y=f.type;f.accessCache=Object.create(null),f.proxy=HH(new Proxy(f.ctx,_ee));const{setup:b}=y;if(b){const S=f.setupContext=b.length>1?Yee(f):null;cA(f),mA();const _=Zy(b,f,0,[f.props,S]);if(hA(),LS(),TW(_)){if(_.then(LS,LS),m)return _.then(O=>{VU(f,O,m)}).catch(O=>{U8(O,f,0)});f.asyncDep=_}else VU(f,_,m)}else Cj(f,m)}function VU(f,m,y){ba(m)?f.type.__ssrInlineRender?f.ssrRender=m:f.render=m:ai(m)&&(f.setupState=YW(m)),Cj(f,y)}let UU;function Cj(f,m,y){const b=f.type;if(!f.render){if(!m&&UU&&!b.render){const S=b.template||GH(f).template;if(S){const{isCustomElement:_,compilerOptions:O}=f.appContext.config,{delimiters:T,compilerOptions:F}=b,j=js(js({isCustomElement:_,delimiters:T},O),F);b.render=UU(S,j)}}f.render=b.render||qm}cA(f),mA(),xee(f),hA(),LS()}function Xee(f){return f.attrsProxy||(f.attrsProxy=new Proxy(f.attrs,{get(m,y){return Tf(f,"get","$attrs"),m[y]}}))}function Yee(f){const m=y=>{f.exposed=y||{}};return{get attrs(){return Xee(f)},slots:f.slots,emit:f.emit,expose:m}}function X8(f){if(f.exposed)return f.exposeProxy||(f.exposeProxy=new Proxy(YW(HH(f.exposed)),{get(m,y){if(y in m)return m[y];if(y in _5)return _5[y](f)},has(m,y){return y in m||y in _5}}))}function Jee(f,m=!0){return ba(f)?f.displayName||f.name:f.name||m&&f.__name}function Zee(f){return ba(f)&&"__vccOpts"in f}const ri=(f,m)=>ZQ(f,m,B5);function Sj(f,m,y){const b=arguments.length;return b===2?ai(m)&&!Lr(m)?x8(m)?yt(f,null,[m]):yt(f,m):yt(f,null,m):(b>3?y=Array.prototype.slice.call(arguments,2):b===3&&x8(y)&&(y=[y]),yt(f,m,y))}const Qee=Symbol.for("v-scx"),ete=()=>Ym(Qee),tte="3.3.4",nte="http://www.w3.org/2000/svg",MS=typeof document<"u"?document:null,WU=MS&&MS.createElement("template"),rte={insert:(f,m,y)=>{m.insertBefore(f,y||null)},remove:f=>{const m=f.parentNode;m&&m.removeChild(f)},createElement:(f,m,y,b)=>{const S=m?MS.createElementNS(nte,f):MS.createElement(f,y?{is:y}:void 0);return f==="select"&&b&&b.multiple!=null&&S.setAttribute("multiple",b.multiple),S},createText:f=>MS.createTextNode(f),createComment:f=>MS.createComment(f),setText:(f,m)=>{f.nodeValue=m},setElementText:(f,m)=>{f.textContent=m},parentNode:f=>f.parentNode,nextSibling:f=>f.nextSibling,querySelector:f=>MS.querySelector(f),setScopeId(f,m){f.setAttribute(m,"")},insertStaticContent(f,m,y,b,S,_){const O=y?y.previousSibling:m.lastChild;if(S&&(S===_||S.nextSibling))for(;m.insertBefore(S.cloneNode(!0),y),!(S===_||!(S=S.nextSibling)););else{WU.innerHTML=b?`<svg>${f}</svg>`:f;const T=WU.content;if(b){const F=T.firstChild;for(;F.firstChild;)T.appendChild(F.firstChild);T.removeChild(F)}m.insertBefore(T,y)}return[O?O.nextSibling:m.firstChild,y?y.previousSibling:m.lastChild]}};function ate(f,m,y){const b=f._vtc;b&&(m=(m?[m,...b]:[...b]).join(" ")),m==null?f.removeAttribute("class"):y?f.setAttribute("class",m):f.className=m}function ote(f,m,y){const b=f.style,S=Cs(y);if(y&&!S){if(m&&!Cs(m))for(const _ in m)y[_]==null&&_H(b,_,"");for(const _ in y)_H(b,_,y[_])}else{const _=b.display;S?m!==y&&(b.cssText=y):m&&f.removeAttribute("style"),"_vod"in f&&(b.display=_)}}const jU=/\s*!important$/;function _H(f,m,y){if(Lr(y))y.forEach(b=>_H(f,m,b));else if(y==null&&(y=""),m.startsWith("--"))f.setProperty(m,y);else{const b=ite(f,m);jU.test(y)?f.setProperty(HS(b),y.replace(jU,""),"important"):f[b]=y}}const GU=["Webkit","Moz","ms"],tH={};function ite(f,m){const y=tH[m];if(y)return y;let b=up(m);if(b!=="filter"&&b in f)return tH[m]=b;b=z8(b);for(let S=0;S<GU.length;S++){const _=GU[S]+b;if(_ in f)return tH[m]=_}return m}const qU="http://www.w3.org/1999/xlink";function ute(f,m,y,b,S){if(b&&m.startsWith("xlink:"))y==null?f.removeAttributeNS(qU,m.slice(6,m.length)):f.setAttributeNS(qU,m,y);else{const _=gQ(m);y==null||_&&!RW(y)?f.removeAttribute(m):f.setAttribute(m,_?"":y)}}function ste(f,m,y,b,S,_,O){if(m==="innerHTML"||m==="textContent"){b&&O(b,S,_),f[m]=y??"";return}const T=f.tagName;if(m==="value"&&T!=="PROGRESS"&&!T.includes("-")){f._value=y;const j=T==="OPTION"?f.getAttribute("value"):f.value,P=y??"";j!==P&&(f.value=P),y==null&&f.removeAttribute(m);return}let F=!1;if(y===""||y==null){const j=typeof f[m];j==="boolean"?y=RW(y):y==null&&j==="string"?(y="",F=!0):j==="number"&&(y=0,F=!0)}try{f[m]=y}catch{}F&&f.removeAttribute(m)}function PS(f,m,y,b){f.addEventListener(m,y,b)}function lte(f,m,y,b){f.removeEventListener(m,y,b)}function cte(f,m,y,b,S=null){const _=f._vei||(f._vei={}),O=_[m];if(b&&O)O.value=b;else{const[T,F]=fte(m);if(b){const j=_[m]=mte(b,S);PS(f,T,j,F)}else O&&(lte(f,T,O,F),_[m]=void 0)}}const KU=/(?:Once|Passive|Capture)$/;function fte(f){let m;if(KU.test(f)){m={};let b;for(;b=f.match(KU);)f=f.slice(0,f.length-b[0].length),m[b[0].toLowerCase()]=!0}return[f[2]===":"?f.slice(3):HS(f.slice(2)),m]}let nH=0;const vte=Promise.resolve(),dte=()=>nH||(vte.then(()=>nH=0),nH=Date.now());function mte(f,m){const y=b=>{if(!b._vts)b._vts=Date.now();else if(b._vts<=y.attached)return;Km(hte(b,y.value),m,5,[b])};return y.value=f,y.attached=dte(),y}function hte(f,m){if(Lr(m)){const y=f.stopImmediatePropagation;return f.stopImmediatePropagation=()=>{y.call(f),f._stopped=!0},m.map(b=>S=>!S._stopped&&b&&b(S))}else return m}const XU=/^on[a-z]/,gte=(f,m,y,b,S=!1,_,O,T,F)=>{m==="class"?ate(f,b,S):m==="style"?ote(f,y,b):P8(m)?$H(m)||cte(f,m,y,b,O):(m[0]==="."?(m=m.slice(1),!0):m[0]==="^"?(m=m.slice(1),!1):pte(f,m,b,S))?ste(f,m,b,_,O,T,F):(m==="true-value"?f._trueValue=b:m==="false-value"&&(f._falseValue=b),ute(f,m,b,S))};function pte(f,m,y,b){return b?!!(m==="innerHTML"||m==="textContent"||m in f&&XU.test(m)&&ba(y)):m==="spellcheck"||m==="draggable"||m==="translate"||m==="form"||m==="list"&&f.tagName==="INPUT"||m==="type"&&f.tagName==="TEXTAREA"||XU.test(m)&&Cs(y)?!1:m in f}const k8=f=>{const m=f.props["onUpdate:modelValue"]||!1;return Lr(m)?y=>c8(m,y):m};function bte(f){f.target.composing=!0}function YU(f){const m=f.target;m.composing&&(m.composing=!1,m.dispatchEvent(new Event("input")))}const Qn={created(f,{modifiers:{lazy:m,trim:y,number:b}},S){f._assign=k8(S);const _=b||S.props&&S.props.type==="number";PS(f,m?"change":"input",O=>{if(O.target.composing)return;let T=f.value;y&&(T=T.trim()),_&&(T=y8(T)),f._assign(T)}),y&&PS(f,"change",()=>{f.value=f.value.trim()}),m||(PS(f,"compositionstart",bte),PS(f,"compositionend",YU),PS(f,"change",YU))},mounted(f,{value:m}){f.value=m??""},beforeUpdate(f,{value:m,modifiers:{lazy:y,trim:b,number:S}},_){if(f._assign=k8(_),f.composing||document.activeElement===f&&f.type!=="range"&&(y||b&&f.value.trim()===m||(S||f.type==="number")&&y8(f.value)===m))return;const O=m??"";f.value!==O&&(f.value=O)}},_j={deep:!0,created(f,{value:m,modifiers:{number:y}},b){const S=I8(m);PS(f,"change",()=>{const _=Array.prototype.filter.call(f.options,O=>O.selected).map(O=>y?y8(A8(O)):A8(O));f._assign(f.multiple?S?new Set(_):_:_[0])}),f._assign=k8(b)},mounted(f,{value:m}){JU(f,m)},beforeUpdate(f,m,y){f._assign=k8(y)},updated(f,{value:m}){JU(f,m)}};function JU(f,m){const y=f.multiple;if(!(y&&!Lr(m)&&!I8(m))){for(let b=0,S=f.options.length;b<S;b++){const _=f.options[b],O=A8(_);if(y)Lr(m)?_.selected=bQ(m,O)>-1:_.selected=m.has(O);else if(L8(A8(_),m)){f.selectedIndex!==b&&(f.selectedIndex=b);return}}!y&&f.selectedIndex!==-1&&(f.selectedIndex=-1)}}function A8(f){return"_value"in f?f._value:f.value}const yte=["ctrl","shift","alt","meta"],wte={stop:f=>f.stopPropagation(),prevent:f=>f.preventDefault(),self:f=>f.target!==f.currentTarget,ctrl:f=>!f.ctrlKey,shift:f=>!f.shiftKey,alt:f=>!f.altKey,meta:f=>!f.metaKey,left:f=>"button"in f&&f.button!==0,middle:f=>"button"in f&&f.button!==1,right:f=>"button"in f&&f.button!==2,exact:(f,m)=>yte.some(y=>f[`${y}Key`]&&!m.includes(y))},Cte=(f,m)=>(y,...b)=>{for(let S=0;S<m.length;S++){const _=wte[m[S]];if(_&&_(y,m))return}return f(y,...b)},Ste={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},_te=(f,m)=>y=>{if(!("key"in y))return;const b=HS(y.key);if(m.some(S=>S===b||Ste[S]===b))return f(y)},xte=js({patchProp:gte},rte);let ZU;function kte(){return ZU||(ZU=Iee(xte))}const Ate=(...f)=>{const m=kte().createApp(...f),{mount:y}=m;return m.mount=b=>{const S=Ete(b);if(!S)return;const _=m._component;!ba(_)&&!_.render&&!_.template&&(_.template=S.innerHTML),S.innerHTML="";const O=y(S,!1,S instanceof SVGElement);return S instanceof Element&&(S.removeAttribute("v-cloak"),S.setAttribute("data-v-app","")),O},m};function Ete(f){return Cs(f)?document.querySelector(f):f}var Tte=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const Ote=Symbol();var QU;(function(f){f.direct="direct",f.patchObject="patch object",f.patchFunction="patch function"})(QU||(QU={}));function Dte(){const f=yQ(!0),m=f.run(()=>_t({}));let y=[],b=[];const S=HH({install(_){S._a=_,_.provide(Ote,S),_.config.globalProperties.$pinia=S,b.forEach(O=>y.push(O)),b=[]},use(_){return!this._a&&!Tte?b.push(_):y.push(_),this},_p:y,_a:null,_e:f,_s:new Map,state:m});return S}const xj="/assets/logo-c0c0c1a9.svg",Rte="/assets/tour-3908d667.svg",$te="/assets/guide-2f617d29.svg",Bte="/assets/language-1f6f72b9.svg",Mte="/assets/mobility-6abf7304.svg",Pte="/assets/place-32612cab.svg",Ite="/assets/category-1c106769.svg",Nte="/assets/verify-af8a1288.svg",zte="/assets/skill-6808aa68.svg",kj="/assets/page-2cc861e5.svg",Fte="/assets/usermanagement-a4fe644f.svg";/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const tA=typeof window<"u";function Lte(f){return f.__esModule||f[Symbol.toStringTag]==="Module"}const Ro=Object.assign;function rH(f,m){const y={};for(const b in m){const S=m[b];y[b]=Jm(S)?S.map(f):f(S)}return y}const k5=()=>{},Jm=Array.isArray,Hte=/\/$/,Vte=f=>f.replace(Hte,"");function aH(f,m,y="/"){let b,S={},_="",O="";const T=m.indexOf("#");let F=m.indexOf("?");return T<F&&T>=0&&(F=-1),F>-1&&(b=m.slice(0,F),_=m.slice(F+1,T>-1?T:m.length),S=f(_)),T>-1&&(b=b||m.slice(0,T),O=m.slice(T,m.length)),b=Gte(b??m,y),{fullPath:b+(_&&"?")+_+O,path:b,query:S,hash:O}}function Ute(f,m){const y=m.query?f(m.query):"";return m.path+(y&&"?")+y+(m.hash||"")}function eW(f,m){return!m||!f.toLowerCase().startsWith(m.toLowerCase())?f:f.slice(m.length)||"/"}function Wte(f,m,y){const b=m.matched.length-1,S=y.matched.length-1;return b>-1&&b===S&&fA(m.matched[b],y.matched[S])&&Aj(m.params,y.params)&&f(m.query)===f(y.query)&&m.hash===y.hash}function fA(f,m){return(f.aliasOf||f)===(m.aliasOf||m)}function Aj(f,m){if(Object.keys(f).length!==Object.keys(m).length)return!1;for(const y in f)if(!jte(f[y],m[y]))return!1;return!0}function jte(f,m){return Jm(f)?tW(f,m):Jm(m)?tW(m,f):f===m}function tW(f,m){return Jm(m)?f.length===m.length&&f.every((y,b)=>y===m[b]):f.length===1&&f[0]===m}function Gte(f,m){if(f.startsWith("/"))return f;if(!f)return m;const y=m.split("/"),b=f.split("/"),S=b[b.length-1];(S===".."||S===".")&&b.push("");let _=y.length-1,O,T;for(O=0;O<b.length;O++)if(T=b[O],T!==".")if(T==="..")_>1&&_--;else break;return y.slice(0,_).join("/")+"/"+b.slice(O-(O===b.length?1:0)).join("/")}var M5;(function(f){f.pop="pop",f.push="push"})(M5||(M5={}));var A5;(function(f){f.back="back",f.forward="forward",f.unknown=""})(A5||(A5={}));function qte(f){if(!f)if(tA){const m=document.querySelector("base");f=m&&m.getAttribute("href")||"/",f=f.replace(/^\w+:\/\/[^\/]+/,"")}else f="/";return f[0]!=="/"&&f[0]!=="#"&&(f="/"+f),Vte(f)}const Kte=/^[^#]+#/;function Xte(f,m){return f.replace(Kte,"#")+m}function Yte(f,m){const y=document.documentElement.getBoundingClientRect(),b=f.getBoundingClientRect();return{behavior:m.behavior,left:b.left-y.left-(m.left||0),top:b.top-y.top-(m.top||0)}}const Y8=()=>({left:window.pageXOffset,top:window.pageYOffset});function Jte(f){let m;if("el"in f){const y=f.el,b=typeof y=="string"&&y.startsWith("#"),S=typeof y=="string"?b?document.getElementById(y.slice(1)):document.querySelector(y):y;if(!S)return;m=Yte(S,f)}else m=f;"scrollBehavior"in document.documentElement.style?window.scrollTo(m):window.scrollTo(m.left!=null?m.left:window.pageXOffset,m.top!=null?m.top:window.pageYOffset)}function nW(f,m){return(history.state?history.state.position-m:-1)+f}const xH=new Map;function Zte(f,m){xH.set(f,m)}function Qte(f){const m=xH.get(f);return xH.delete(f),m}let ene=()=>location.protocol+"//"+location.host;function Ej(f,m){const{pathname:y,search:b,hash:S}=m,_=f.indexOf("#");if(_>-1){let T=S.includes(f.slice(_))?f.slice(_).length:1,F=S.slice(T);return F[0]!=="/"&&(F="/"+F),eW(F,"")}return eW(y,f)+b+S}function tne(f,m,y,b){let S=[],_=[],O=null;const T=({state:I})=>{const L=Ej(f,location),Y=y.value,q=m.value;let $e=0;if(I){if(y.value=L,m.value=I,O&&O===Y){O=null;return}$e=q?I.position-q.position:0}else b(L);S.forEach(de=>{de(y.value,Y,{delta:$e,type:M5.pop,direction:$e?$e>0?A5.forward:A5.back:A5.unknown})})};function F(){O=y.value}function j(I){S.push(I);const L=()=>{const Y=S.indexOf(I);Y>-1&&S.splice(Y,1)};return _.push(L),L}function P(){const{history:I}=window;I.state&&I.replaceState(Ro({},I.state,{scroll:Y8()}),"")}function H(){for(const I of _)I();_=[],window.removeEventListener("popstate",T),window.removeEventListener("beforeunload",P)}return window.addEventListener("popstate",T),window.addEventListener("beforeunload",P,{passive:!0}),{pauseListeners:F,listen:j,destroy:H}}function rW(f,m,y,b=!1,S=!1){return{back:f,current:m,forward:y,replaced:b,position:window.history.length,scroll:S?Y8():null}}function nne(f){const{history:m,location:y}=window,b={value:Ej(f,y)},S={value:m.state};S.value||_(b.value,{back:null,current:b.value,forward:null,position:m.length-1,replaced:!0,scroll:null},!0);function _(F,j,P){const H=f.indexOf("#"),I=H>-1?(y.host&&document.querySelector("base")?f:f.slice(H))+F:ene()+f+F;try{m[P?"replaceState":"pushState"](j,"",I),S.value=j}catch(L){console.error(L),y[P?"replace":"assign"](I)}}function O(F,j){const P=Ro({},m.state,rW(S.value.back,F,S.value.forward,!0),j,{position:S.value.position});_(F,P,!0),b.value=F}function T(F,j){const P=Ro({},S.value,m.state,{forward:F,scroll:Y8()});_(P.current,P,!0);const H=Ro({},rW(b.value,F,null),{position:P.position+1},j);_(F,H,!1),b.value=F}return{location:b,state:S,push:T,replace:O}}function rne(f){f=qte(f);const m=nne(f),y=tne(f,m.state,m.location,m.replace);function b(_,O=!0){O||y.pauseListeners(),history.go(_)}const S=Ro({location:"",base:f,go:b,createHref:Xte.bind(null,f)},m,y);return Object.defineProperty(S,"location",{enumerable:!0,get:()=>m.location.value}),Object.defineProperty(S,"state",{enumerable:!0,get:()=>m.state.value}),S}function ane(f){return typeof f=="string"||f&&typeof f=="object"}function Tj(f){return typeof f=="string"||typeof f=="symbol"}const qy={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Oj=Symbol("");var aW;(function(f){f[f.aborted=4]="aborted",f[f.cancelled=8]="cancelled",f[f.duplicated=16]="duplicated"})(aW||(aW={}));function vA(f,m){return Ro(new Error,{type:f,[Oj]:!0},m)}function rb(f,m){return f instanceof Error&&Oj in f&&(m==null||!!(f.type&m))}const oW="[^/]+?",one={sensitive:!1,strict:!1,start:!0,end:!0},ine=/[.+*?^${}()[\]/\\]/g;function une(f,m){const y=Ro({},one,m),b=[];let S=y.start?"^":"";const _=[];for(const j of f){const P=j.length?[]:[90];y.strict&&!j.length&&(S+="/");for(let H=0;H<j.length;H++){const I=j[H];let L=40+(y.sensitive?.25:0);if(I.type===0)H||(S+="/"),S+=I.value.replace(ine,"\\$&"),L+=40;else if(I.type===1){const{value:Y,repeatable:q,optional:$e,regexp:de}=I;_.push({name:Y,repeatable:q,optional:$e});const Be=de||oW;if(Be!==oW){L+=10;try{new RegExp(`(${Be})`)}catch(Se){throw new Error(`Invalid custom RegExp for param "${Y}" (${Be}): `+Se.message)}}let ne=q?`((?:${Be})(?:/(?:${Be}))*)`:`(${Be})`;H||(ne=$e&&j.length<2?`(?:/${ne})`:"/"+ne),$e&&(ne+="?"),S+=ne,L+=20,$e&&(L+=-8),q&&(L+=-20),Be===".*"&&(L+=-50)}P.push(L)}b.push(P)}if(y.strict&&y.end){const j=b.length-1;b[j][b[j].length-1]+=.7000000000000001}y.strict||(S+="/?"),y.end?S+="$":y.strict&&(S+="(?:/|$)");const O=new RegExp(S,y.sensitive?"":"i");function T(j){const P=j.match(O),H={};if(!P)return null;for(let I=1;I<P.length;I++){const L=P[I]||"",Y=_[I-1];H[Y.name]=L&&Y.repeatable?L.split("/"):L}return H}function F(j){let P="",H=!1;for(const I of f){(!H||!P.endsWith("/"))&&(P+="/"),H=!1;for(const L of I)if(L.type===0)P+=L.value;else if(L.type===1){const{value:Y,repeatable:q,optional:$e}=L,de=Y in j?j[Y]:"";if(Jm(de)&&!q)throw new Error(`Provided param "${Y}" is an array but it is not repeatable (* or + modifiers)`);const Be=Jm(de)?de.join("/"):de;if(!Be)if($e)I.length<2&&(P.endsWith("/")?P=P.slice(0,-1):H=!0);else throw new Error(`Missing required param "${Y}"`);P+=Be}}return P||"/"}return{re:O,score:b,keys:_,parse:T,stringify:F}}function sne(f,m){let y=0;for(;y<f.length&&y<m.length;){const b=m[y]-f[y];if(b)return b;y++}return f.length<m.length?f.length===1&&f[0]===40+40?-1:1:f.length>m.length?m.length===1&&m[0]===40+40?1:-1:0}function lne(f,m){let y=0;const b=f.score,S=m.score;for(;y<b.length&&y<S.length;){const _=sne(b[y],S[y]);if(_)return _;y++}if(Math.abs(S.length-b.length)===1){if(iW(b))return 1;if(iW(S))return-1}return S.length-b.length}function iW(f){const m=f[f.length-1];return f.length>0&&m[m.length-1]<0}const cne={type:0,value:""},fne=/[a-zA-Z0-9_]/;function vne(f){if(!f)return[[]];if(f==="/")return[[cne]];if(!f.startsWith("/"))throw new Error(`Invalid path "${f}"`);function m(L){throw new Error(`ERR (${y})/"${j}": ${L}`)}let y=0,b=y;const S=[];let _;function O(){_&&S.push(_),_=[]}let T=0,F,j="",P="";function H(){j&&(y===0?_.push({type:0,value:j}):y===1||y===2||y===3?(_.length>1&&(F==="*"||F==="+")&&m(`A repeatable param (${j}) must be alone in its segment. eg: '/:ids+.`),_.push({type:1,value:j,regexp:P,repeatable:F==="*"||F==="+",optional:F==="*"||F==="?"})):m("Invalid state to consume buffer"),j="")}function I(){j+=F}for(;T<f.length;){if(F=f[T++],F==="\\"&&y!==2){b=y,y=4;continue}switch(y){case 0:F==="/"?(j&&H(),O()):F===":"?(H(),y=1):I();break;case 4:I(),y=b;break;case 1:F==="("?y=2:fne.test(F)?I():(H(),y=0,F!=="*"&&F!=="?"&&F!=="+"&&T--);break;case 2:F===")"?P[P.length-1]=="\\"?P=P.slice(0,-1)+F:y=3:P+=F;break;case 3:H(),y=0,F!=="*"&&F!=="?"&&F!=="+"&&T--,P="";break;default:m("Unknown state");break}}return y===2&&m(`Unfinished custom RegExp for param "${j}"`),H(),O(),S}function dne(f,m,y){const b=une(vne(f.path),y),S=Ro(b,{record:f,parent:m,children:[],alias:[]});return m&&!S.record.aliasOf==!m.record.aliasOf&&m.children.push(S),S}function mne(f,m){const y=[],b=new Map;m=lW({strict:!1,end:!0,sensitive:!1},m);function S(P){return b.get(P)}function _(P,H,I){const L=!I,Y=hne(P);Y.aliasOf=I&&I.record;const q=lW(m,P),$e=[Y];if("alias"in P){const ne=typeof P.alias=="string"?[P.alias]:P.alias;for(const Se of ne)$e.push(Ro({},Y,{components:I?I.record.components:Y.components,path:Se,aliasOf:I?I.record:Y}))}let de,Be;for(const ne of $e){const{path:Se}=ne;if(H&&Se[0]!=="/"){const Te=H.record.path,xe=Te[Te.length-1]==="/"?"":"/";ne.path=H.record.path+(Se&&xe+Se)}if(de=dne(ne,H,q),I?I.alias.push(de):(Be=Be||de,Be!==de&&Be.alias.push(de),L&&P.name&&!sW(de)&&O(P.name)),Y.children){const Te=Y.children;for(let xe=0;xe<Te.length;xe++)_(Te[xe],de,I&&I.children[xe])}I=I||de,(de.record.components&&Object.keys(de.record.components).length||de.record.name||de.record.redirect)&&F(de)}return Be?()=>{O(Be)}:k5}function O(P){if(Tj(P)){const H=b.get(P);H&&(b.delete(P),y.splice(y.indexOf(H),1),H.children.forEach(O),H.alias.forEach(O))}else{const H=y.indexOf(P);H>-1&&(y.splice(H,1),P.record.name&&b.delete(P.record.name),P.children.forEach(O),P.alias.forEach(O))}}function T(){return y}function F(P){let H=0;for(;H<y.length&&lne(P,y[H])>=0&&(P.record.path!==y[H].record.path||!Dj(P,y[H]));)H++;y.splice(H,0,P),P.record.name&&!sW(P)&&b.set(P.record.name,P)}function j(P,H){let I,L={},Y,q;if("name"in P&&P.name){if(I=b.get(P.name),!I)throw vA(1,{location:P});q=I.record.name,L=Ro(uW(H.params,I.keys.filter(Be=>!Be.optional).map(Be=>Be.name)),P.params&&uW(P.params,I.keys.map(Be=>Be.name))),Y=I.stringify(L)}else if("path"in P)Y=P.path,I=y.find(Be=>Be.re.test(Y)),I&&(L=I.parse(Y),q=I.record.name);else{if(I=H.name?b.get(H.name):y.find(Be=>Be.re.test(H.path)),!I)throw vA(1,{location:P,currentLocation:H});q=I.record.name,L=Ro({},H.params,P.params),Y=I.stringify(L)}const $e=[];let de=I;for(;de;)$e.unshift(de.record),de=de.parent;return{name:q,path:Y,params:L,matched:$e,meta:pne($e)}}return f.forEach(P=>_(P)),{addRoute:_,resolve:j,removeRoute:O,getRoutes:T,getRecordMatcher:S}}function uW(f,m){const y={};for(const b of m)b in f&&(y[b]=f[b]);return y}function hne(f){return{path:f.path,redirect:f.redirect,name:f.name,meta:f.meta||{},aliasOf:void 0,beforeEnter:f.beforeEnter,props:gne(f),children:f.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in f?f.components||null:f.component&&{default:f.component}}}function gne(f){const m={},y=f.props||!1;if("component"in f)m.default=y;else for(const b in f.components)m[b]=typeof y=="object"?y[b]:y;return m}function sW(f){for(;f;){if(f.record.aliasOf)return!0;f=f.parent}return!1}function pne(f){return f.reduce((m,y)=>Ro(m,y.meta),{})}function lW(f,m){const y={};for(const b in f)y[b]=b in m?m[b]:f[b];return y}function Dj(f,m){return m.children.some(y=>y===f||Dj(f,y))}const Rj=/#/g,bne=/&/g,yne=/\//g,wne=/=/g,Cne=/\?/g,$j=/\+/g,Sne=/%5B/g,_ne=/%5D/g,Bj=/%5E/g,xne=/%60/g,Mj=/%7B/g,kne=/%7C/g,Pj=/%7D/g,Ane=/%20/g;function YH(f){return encodeURI(""+f).replace(kne,"|").replace(Sne,"[").replace(_ne,"]")}function Ene(f){return YH(f).replace(Mj,"{").replace(Pj,"}").replace(Bj,"^")}function kH(f){return YH(f).replace($j,"%2B").replace(Ane,"+").replace(Rj,"%23").replace(bne,"%26").replace(xne,"`").replace(Mj,"{").replace(Pj,"}").replace(Bj,"^")}function Tne(f){return kH(f).replace(wne,"%3D")}function One(f){return YH(f).replace(Rj,"%23").replace(Cne,"%3F")}function Dne(f){return f==null?"":One(f).replace(yne,"%2F")}function E8(f){try{return decodeURIComponent(""+f)}catch{}return""+f}function Rne(f){const m={};if(f===""||f==="?")return m;const b=(f[0]==="?"?f.slice(1):f).split("&");for(let S=0;S<b.length;++S){const _=b[S].replace($j," "),O=_.indexOf("="),T=E8(O<0?_:_.slice(0,O)),F=O<0?null:E8(_.slice(O+1));if(T in m){let j=m[T];Jm(j)||(j=m[T]=[j]),j.push(F)}else m[T]=F}return m}function cW(f){let m="";for(let y in f){const b=f[y];if(y=Tne(y),b==null){b!==void 0&&(m+=(m.length?"&":"")+y);continue}(Jm(b)?b.map(_=>_&&kH(_)):[b&&kH(b)]).forEach(_=>{_!==void 0&&(m+=(m.length?"&":"")+y,_!=null&&(m+="="+_))})}return m}function $ne(f){const m={};for(const y in f){const b=f[y];b!==void 0&&(m[y]=Jm(b)?b.map(S=>S==null?null:""+S):b==null?b:""+b)}return m}const Bne=Symbol(""),fW=Symbol(""),J8=Symbol(""),JH=Symbol(""),AH=Symbol("");function b5(){let f=[];function m(b){return f.push(b),()=>{const S=f.indexOf(b);S>-1&&f.splice(S,1)}}function y(){f=[]}return{add:m,list:()=>f.slice(),reset:y}}function Yy(f,m,y,b,S){const _=b&&(b.enterCallbacks[S]=b.enterCallbacks[S]||[]);return()=>new Promise((O,T)=>{const F=H=>{H===!1?T(vA(4,{from:y,to:m})):H instanceof Error?T(H):ane(H)?T(vA(2,{from:m,to:H})):(_&&b.enterCallbacks[S]===_&&typeof H=="function"&&_.push(H),O())},j=f.call(b&&b.instances[S],m,y,F);let P=Promise.resolve(j);f.length<3&&(P=P.then(F)),P.catch(H=>T(H))})}function oH(f,m,y,b){const S=[];for(const _ of f)for(const O in _.components){let T=_.components[O];if(!(m!=="beforeRouteEnter"&&!_.instances[O]))if(Mne(T)){const j=(T.__vccOpts||T)[m];j&&S.push(Yy(j,y,b,_,O))}else{let F=T();S.push(()=>F.then(j=>{if(!j)return Promise.reject(new Error(`Couldn't resolve component "${O}" at "${_.path}"`));const P=Lte(j)?j.default:j;_.components[O]=P;const I=(P.__vccOpts||P)[m];return I&&Yy(I,y,b,_,O)()}))}}return S}function Mne(f){return typeof f=="object"||"displayName"in f||"props"in f||"__vccOpts"in f}function vW(f){const m=Ym(J8),y=Ym(JH),b=ri(()=>m.resolve($o(f.to))),S=ri(()=>{const{matched:F}=b.value,{length:j}=F,P=F[j-1],H=y.matched;if(!P||!H.length)return-1;const I=H.findIndex(fA.bind(null,P));if(I>-1)return I;const L=dW(F[j-2]);return j>1&&dW(P)===L&&H[H.length-1].path!==L?H.findIndex(fA.bind(null,F[j-2])):I}),_=ri(()=>S.value>-1&&Nne(y.params,b.value.params)),O=ri(()=>S.value>-1&&S.value===y.matched.length-1&&Aj(y.params,b.value.params));function T(F={}){return Ine(F)?m[$o(f.replace)?"replace":"push"]($o(f.to)).catch(k5):Promise.resolve()}return{route:b,href:ri(()=>b.value.href),isActive:_,isExactActive:O,navigate:T}}const Pne=oj({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vW,setup(f,{slots:m}){const y=V8(vW(f)),{options:b}=Ym(J8),S=ri(()=>({[mW(f.activeClass,b.linkActiveClass,"router-link-active")]:y.isActive,[mW(f.exactActiveClass,b.linkExactActiveClass,"router-link-exact-active")]:y.isExactActive}));return()=>{const _=m.default&&m.default(y);return f.custom?_:Sj("a",{"aria-current":y.isExactActive?f.ariaCurrentValue:null,href:y.href,onClick:y.navigate,class:S.value},_)}}}),Af=Pne;function Ine(f){if(!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)&&!f.defaultPrevented&&!(f.button!==void 0&&f.button!==0)){if(f.currentTarget&&f.currentTarget.getAttribute){const m=f.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(m))return}return f.preventDefault&&f.preventDefault(),!0}}function Nne(f,m){for(const y in m){const b=m[y],S=f[y];if(typeof b=="string"){if(b!==S)return!1}else if(!Jm(S)||S.length!==b.length||b.some((_,O)=>_!==S[O]))return!1}return!0}function dW(f){return f?f.aliasOf?f.aliasOf.path:f.path:""}const mW=(f,m,y)=>f??m??y,zne=oj({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(f,{attrs:m,slots:y}){const b=Ym(AH),S=ri(()=>f.route||b.value),_=Ym(fW,0),O=ri(()=>{let j=$o(_);const{matched:P}=S.value;let H;for(;(H=P[j])&&!H.components;)j++;return j}),T=ri(()=>S.value.matched[O.value]);f8(fW,ri(()=>O.value+1)),f8(Bne,T),f8(AH,S);const F=_t();return Xm(()=>[F.value,T.value,f.name],([j,P,H],[I,L,Y])=>{P&&(P.instances[H]=j,L&&L!==P&&j&&j===I&&(P.leaveGuards.size||(P.leaveGuards=L.leaveGuards),P.updateGuards.size||(P.updateGuards=L.updateGuards))),j&&P&&(!L||!fA(P,L)||!I)&&(P.enterCallbacks[H]||[]).forEach(q=>q(j))},{flush:"post"}),()=>{const j=S.value,P=f.name,H=T.value,I=H&&H.components[P];if(!I)return hW(y.default,{Component:I,route:j});const L=H.props[P],Y=L?L===!0?j.params:typeof L=="function"?L(j):L:null,$e=Sj(I,Ro({},Y,m,{onVnodeUnmounted:de=>{de.component.isUnmounted&&(H.instances[P]=null)},ref:F}));return hW(y.default,{Component:$e,route:j})||$e}}});function hW(f,m){if(!f)return null;const y=f(m);return y.length===1?y[0]:y}const Ij=zne;function Fne(f){const m=mne(f.routes,f),y=f.parseQuery||Rne,b=f.stringifyQuery||cW,S=f.history,_=b5(),O=b5(),T=b5(),F=KQ(qy);let j=qy;tA&&f.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const P=rH.bind(null,te=>""+te),H=rH.bind(null,Dne),I=rH.bind(null,E8);function L(te,fn){let Ue,gt;return Tj(te)?(Ue=m.getRecordMatcher(te),gt=fn):gt=te,m.addRoute(gt,Ue)}function Y(te){const fn=m.getRecordMatcher(te);fn&&m.removeRoute(fn)}function q(){return m.getRoutes().map(te=>te.record)}function $e(te){return!!m.getRecordMatcher(te)}function de(te,fn){if(fn=Ro({},fn||F.value),typeof te=="string"){const Ze=aH(y,te,fn.path),tt=m.resolve({path:Ze.path},fn),He=S.createHref(Ze.fullPath);return Ro(Ze,tt,{params:I(tt.params),hash:E8(Ze.hash),redirectedFrom:void 0,href:He})}let Ue;if("path"in te)Ue=Ro({},te,{path:aH(y,te.path,fn.path).path});else{const Ze=Ro({},te.params);for(const tt in Ze)Ze[tt]==null&&delete Ze[tt];Ue=Ro({},te,{params:H(Ze)}),fn.params=H(fn.params)}const gt=m.resolve(Ue,fn),Xn=te.hash||"";gt.params=P(I(gt.params));const Oe=Ute(b,Ro({},te,{hash:Ene(Xn),path:gt.path})),Ee=S.createHref(Oe);return Ro({fullPath:Oe,hash:Xn,query:b===cW?$ne(te.query):te.query||{}},gt,{redirectedFrom:void 0,href:Ee})}function Be(te){return typeof te=="string"?aH(y,te,F.value.path):Ro({},te)}function ne(te,fn){if(j!==te)return vA(8,{from:fn,to:te})}function Se(te){return Ge(te)}function Te(te){return Se(Ro(Be(te),{replace:!0}))}function xe(te){const fn=te.matched[te.matched.length-1];if(fn&&fn.redirect){const{redirect:Ue}=fn;let gt=typeof Ue=="function"?Ue(te):Ue;return typeof gt=="string"&&(gt=gt.includes("?")||gt.includes("#")?gt=Be(gt):{path:gt},gt.params={}),Ro({query:te.query,hash:te.hash,params:"path"in gt?{}:te.params},gt)}}function Ge(te,fn){const Ue=j=de(te),gt=F.value,Xn=te.state,Oe=te.force,Ee=te.replace===!0,Ze=xe(Ue);if(Ze)return Ge(Ro(Be(Ze),{state:typeof Ze=="object"?Ro({},Xn,Ze.state):Xn,force:Oe,replace:Ee}),fn||Ue);const tt=Ue;tt.redirectedFrom=fn;let He;return!Oe&&Wte(b,gt,Ue)&&(He=vA(16,{to:tt,from:gt}),at(gt,gt,!0,!1)),(He?Promise.resolve(He):ye(tt,gt)).catch(pt=>rb(pt)?rb(pt,2)?pt:kt(pt):ut(pt,tt,gt)).then(pt=>{if(pt){if(rb(pt,2))return Ge(Ro({replace:Ee},Be(pt.to),{state:typeof pt.to=="object"?Ro({},Xn,pt.to.state):Xn,force:Oe}),fn||tt)}else pt=re(tt,gt,!0,Ee,Xn);return Me(tt,gt,pt),pt})}function se(te,fn){const Ue=ne(te,fn);return Ue?Promise.reject(Ue):Promise.resolve()}function pe(te){const fn=cn.values().next().value;return fn&&typeof fn.runWithContext=="function"?fn.runWithContext(te):te()}function ye(te,fn){let Ue;const[gt,Xn,Oe]=Lne(te,fn);Ue=oH(gt.reverse(),"beforeRouteLeave",te,fn);for(const Ze of gt)Ze.leaveGuards.forEach(tt=>{Ue.push(Yy(tt,te,fn))});const Ee=se.bind(null,te,fn);return Ue.push(Ee),Sn(Ue).then(()=>{Ue=[];for(const Ze of _.list())Ue.push(Yy(Ze,te,fn));return Ue.push(Ee),Sn(Ue)}).then(()=>{Ue=oH(Xn,"beforeRouteUpdate",te,fn);for(const Ze of Xn)Ze.updateGuards.forEach(tt=>{Ue.push(Yy(tt,te,fn))});return Ue.push(Ee),Sn(Ue)}).then(()=>{Ue=[];for(const Ze of Oe)if(Ze.beforeEnter)if(Jm(Ze.beforeEnter))for(const tt of Ze.beforeEnter)Ue.push(Yy(tt,te,fn));else Ue.push(Yy(Ze.beforeEnter,te,fn));return Ue.push(Ee),Sn(Ue)}).then(()=>(te.matched.forEach(Ze=>Ze.enterCallbacks={}),Ue=oH(Oe,"beforeRouteEnter",te,fn),Ue.push(Ee),Sn(Ue))).then(()=>{Ue=[];for(const Ze of O.list())Ue.push(Yy(Ze,te,fn));return Ue.push(Ee),Sn(Ue)}).catch(Ze=>rb(Ze,8)?Ze:Promise.reject(Ze))}function Me(te,fn,Ue){T.list().forEach(gt=>pe(()=>gt(te,fn,Ue)))}function re(te,fn,Ue,gt,Xn){const Oe=ne(te,fn);if(Oe)return Oe;const Ee=fn===qy,Ze=tA?history.state:{};Ue&&(gt||Ee?S.replace(te.fullPath,Ro({scroll:Ee&&Ze&&Ze.scroll},Xn)):S.push(te.fullPath,Xn)),F.value=te,at(te,fn,Ue,Ee),kt()}let W;function ke(){W||(W=S.listen((te,fn,Ue)=>{if(!lt.listening)return;const gt=de(te),Xn=xe(gt);if(Xn){Ge(Ro(Xn,{replace:!0}),gt).catch(k5);return}j=gt;const Oe=F.value;tA&&Zte(nW(Oe.fullPath,Ue.delta),Y8()),ye(gt,Oe).catch(Ee=>rb(Ee,12)?Ee:rb(Ee,2)?(Ge(Ee.to,gt).then(Ze=>{rb(Ze,20)&&!Ue.delta&&Ue.type===M5.pop&&S.go(-1,!1)}).catch(k5),Promise.reject()):(Ue.delta&&S.go(-Ue.delta,!1),ut(Ee,gt,Oe))).then(Ee=>{Ee=Ee||re(gt,Oe,!1),Ee&&(Ue.delta&&!rb(Ee,8)?S.go(-Ue.delta,!1):Ue.type===M5.pop&&rb(Ee,20)&&S.go(-1,!1)),Me(gt,Oe,Ee)}).catch(k5)}))}let et=b5(),le=b5(),ge;function ut(te,fn,Ue){kt(te);const gt=le.list();return gt.length?gt.forEach(Xn=>Xn(te,fn,Ue)):console.error(te),Promise.reject(te)}function B(){return ge&&F.value!==qy?Promise.resolve():new Promise((te,fn)=>{et.add([te,fn])})}function kt(te){return ge||(ge=!te,ke(),et.list().forEach(([fn,Ue])=>te?Ue(te):fn()),et.reset()),te}function at(te,fn,Ue,gt){const{scrollBehavior:Xn}=f;if(!tA||!Xn)return Promise.resolve();const Oe=!Ue&&Qte(nW(te.fullPath,0))||(gt||!Ue)&&history.state&&history.state.scroll||null;return ZW().then(()=>Xn(te,fn,Oe)).then(Ee=>Ee&&Jte(Ee)).catch(Ee=>ut(Ee,te,fn))}const ot=te=>S.go(te);let kn;const cn=new Set,lt={currentRoute:F,listening:!0,addRoute:L,removeRoute:Y,hasRoute:$e,getRoutes:q,resolve:de,options:f,push:Se,replace:Te,go:ot,back:()=>ot(-1),forward:()=>ot(1),beforeEach:_.add,beforeResolve:O.add,afterEach:T.add,onError:le.add,isReady:B,install(te){const fn=this;te.component("RouterLink",Af),te.component("RouterView",Ij),te.config.globalProperties.$router=fn,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>$o(F)}),tA&&!kn&&F.value===qy&&(kn=!0,Se(S.location).catch(Xn=>{}));const Ue={};for(const Xn in qy)Object.defineProperty(Ue,Xn,{get:()=>F.value[Xn],enumerable:!0});te.provide(J8,fn),te.provide(JH,WW(Ue)),te.provide(AH,F);const gt=te.unmount;cn.add(te),te.unmount=function(){cn.delete(te),cn.size<1&&(j=qy,W&&W(),W=null,F.value=qy,kn=!1,ge=!1),gt()}}};function Sn(te){return te.reduce((fn,Ue)=>fn.then(()=>pe(Ue)),Promise.resolve())}return lt}function Lne(f,m){const y=[],b=[],S=[],_=Math.max(m.matched.length,f.matched.length);for(let O=0;O<_;O++){const T=m.matched[O];T&&(f.matched.find(j=>fA(j,T))?b.push(T):y.push(T));const F=f.matched[O];F&&(m.matched.find(j=>fA(j,F))||S.push(F))}return[y,b,S]}function Rc(){return Ym(J8)}function Qm(){return Ym(JH)}function Nj(f,m){return function(){return f.apply(m,arguments)}}const{toString:Hne}=Object.prototype,{getPrototypeOf:ZH}=Object,Z8=(f=>m=>{const y=Hne.call(m);return f[y]||(f[y]=y.slice(8,-1).toLowerCase())})(Object.create(null)),sp=f=>(f=f.toLowerCase(),m=>Z8(m)===f),Q8=f=>m=>typeof m===f,{isArray:yA}=Array,P5=Q8("undefined");function Vne(f){return f!==null&&!P5(f)&&f.constructor!==null&&!P5(f.constructor)&&Od(f.constructor.isBuffer)&&f.constructor.isBuffer(f)}const zj=sp("ArrayBuffer");function Une(f){let m;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?m=ArrayBuffer.isView(f):m=f&&f.buffer&&zj(f.buffer),m}const Wne=Q8("string"),Od=Q8("function"),Fj=Q8("number"),e6=f=>f!==null&&typeof f=="object",jne=f=>f===!0||f===!1,d8=f=>{if(Z8(f)!=="object")return!1;const m=ZH(f);return(m===null||m===Object.prototype||Object.getPrototypeOf(m)===null)&&!(Symbol.toStringTag in f)&&!(Symbol.iterator in f)},Gne=sp("Date"),qne=sp("File"),Kne=sp("Blob"),Xne=sp("FileList"),Yne=f=>e6(f)&&Od(f.pipe),Jne=f=>{let m;return f&&(typeof FormData=="function"&&f instanceof FormData||Od(f.append)&&((m=Z8(f))==="formdata"||m==="object"&&Od(f.toString)&&f.toString()==="[object FormData]"))},Zne=sp("URLSearchParams"),Qne=f=>f.trim?f.trim():f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function z5(f,m,{allOwnKeys:y=!1}={}){if(f===null||typeof f>"u")return;let b,S;if(typeof f!="object"&&(f=[f]),yA(f))for(b=0,S=f.length;b<S;b++)m.call(null,f[b],b,f);else{const _=y?Object.getOwnPropertyNames(f):Object.keys(f),O=_.length;let T;for(b=0;b<O;b++)T=_[b],m.call(null,f[T],T,f)}}function Lj(f,m){m=m.toLowerCase();const y=Object.keys(f);let b=y.length,S;for(;b-- >0;)if(S=y[b],m===S.toLowerCase())return S;return null}const Hj=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Vj=f=>!P5(f)&&f!==Hj;function EH(){const{caseless:f}=Vj(this)&&this||{},m={},y=(b,S)=>{const _=f&&Lj(m,S)||S;d8(m[_])&&d8(b)?m[_]=EH(m[_],b):d8(b)?m[_]=EH({},b):yA(b)?m[_]=b.slice():m[_]=b};for(let b=0,S=arguments.length;b<S;b++)arguments[b]&&z5(arguments[b],y);return m}const ere=(f,m,y,{allOwnKeys:b}={})=>(z5(m,(S,_)=>{y&&Od(S)?f[_]=Nj(S,y):f[_]=S},{allOwnKeys:b}),f),tre=f=>(f.charCodeAt(0)===65279&&(f=f.slice(1)),f),nre=(f,m,y,b)=>{f.prototype=Object.create(m.prototype,b),f.prototype.constructor=f,Object.defineProperty(f,"super",{value:m.prototype}),y&&Object.assign(f.prototype,y)},rre=(f,m,y,b)=>{let S,_,O;const T={};if(m=m||{},f==null)return m;do{for(S=Object.getOwnPropertyNames(f),_=S.length;_-- >0;)O=S[_],(!b||b(O,f,m))&&!T[O]&&(m[O]=f[O],T[O]=!0);f=y!==!1&&ZH(f)}while(f&&(!y||y(f,m))&&f!==Object.prototype);return m},are=(f,m,y)=>{f=String(f),(y===void 0||y>f.length)&&(y=f.length),y-=m.length;const b=f.indexOf(m,y);return b!==-1&&b===y},ore=f=>{if(!f)return null;if(yA(f))return f;let m=f.length;if(!Fj(m))return null;const y=new Array(m);for(;m-- >0;)y[m]=f[m];return y},ire=(f=>m=>f&&m instanceof f)(typeof Uint8Array<"u"&&ZH(Uint8Array)),ure=(f,m)=>{const b=(f&&f[Symbol.iterator]).call(f);let S;for(;(S=b.next())&&!S.done;){const _=S.value;m.call(f,_[0],_[1])}},sre=(f,m)=>{let y;const b=[];for(;(y=f.exec(m))!==null;)b.push(y);return b},lre=sp("HTMLFormElement"),cre=f=>f.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(y,b,S){return b.toUpperCase()+S}),gW=(({hasOwnProperty:f})=>(m,y)=>f.call(m,y))(Object.prototype),fre=sp("RegExp"),Uj=(f,m)=>{const y=Object.getOwnPropertyDescriptors(f),b={};z5(y,(S,_)=>{let O;(O=m(S,_,f))!==!1&&(b[_]=O||S)}),Object.defineProperties(f,b)},vre=f=>{Uj(f,(m,y)=>{if(Od(f)&&["arguments","caller","callee"].indexOf(y)!==-1)return!1;const b=f[y];if(Od(b)){if(m.enumerable=!1,"writable"in m){m.writable=!1;return}m.set||(m.set=()=>{throw Error("Can not rewrite read-only method '"+y+"'")})}})},dre=(f,m)=>{const y={},b=S=>{S.forEach(_=>{y[_]=!0})};return yA(f)?b(f):b(String(f).split(m)),y},mre=()=>{},hre=(f,m)=>(f=+f,Number.isFinite(f)?f:m),iH="abcdefghijklmnopqrstuvwxyz",pW="0123456789",Wj={DIGIT:pW,ALPHA:iH,ALPHA_DIGIT:iH+iH.toUpperCase()+pW},gre=(f=16,m=Wj.ALPHA_DIGIT)=>{let y="";const{length:b}=m;for(;f--;)y+=m[Math.random()*b|0];return y};function pre(f){return!!(f&&Od(f.append)&&f[Symbol.toStringTag]==="FormData"&&f[Symbol.iterator])}const bre=f=>{const m=new Array(10),y=(b,S)=>{if(e6(b)){if(m.indexOf(b)>=0)return;if(!("toJSON"in b)){m[S]=b;const _=yA(b)?[]:{};return z5(b,(O,T)=>{const F=y(O,S+1);!P5(F)&&(_[T]=F)}),m[S]=void 0,_}}return b};return y(f,0)},yre=sp("AsyncFunction"),wre=f=>f&&(e6(f)||Od(f))&&Od(f.then)&&Od(f.catch),un={isArray:yA,isArrayBuffer:zj,isBuffer:Vne,isFormData:Jne,isArrayBufferView:Une,isString:Wne,isNumber:Fj,isBoolean:jne,isObject:e6,isPlainObject:d8,isUndefined:P5,isDate:Gne,isFile:qne,isBlob:Kne,isRegExp:fre,isFunction:Od,isStream:Yne,isURLSearchParams:Zne,isTypedArray:ire,isFileList:Xne,forEach:z5,merge:EH,extend:ere,trim:Qne,stripBOM:tre,inherits:nre,toFlatObject:rre,kindOf:Z8,kindOfTest:sp,endsWith:are,toArray:ore,forEachEntry:ure,matchAll:sre,isHTMLForm:lre,hasOwnProperty:gW,hasOwnProp:gW,reduceDescriptors:Uj,freezeMethods:vre,toObjectSet:dre,toCamelCase:cre,noop:mre,toFiniteNumber:hre,findKey:Lj,global:Hj,isContextDefined:Vj,ALPHABET:Wj,generateString:gre,isSpecCompliantForm:pre,toJSONObject:bre,isAsyncFn:yre,isThenable:wre};function to(f,m,y,b,S){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=f,this.name="AxiosError",m&&(this.code=m),y&&(this.config=y),b&&(this.request=b),S&&(this.response=S)}un.inherits(to,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:un.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jj=to.prototype,Gj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(f=>{Gj[f]={value:f}});Object.defineProperties(to,Gj);Object.defineProperty(jj,"isAxiosError",{value:!0});to.from=(f,m,y,b,S,_)=>{const O=Object.create(jj);return un.toFlatObject(f,O,function(F){return F!==Error.prototype},T=>T!=="isAxiosError"),to.call(O,f.message,m,y,b,S),O.cause=f,O.name=f.name,_&&Object.assign(O,_),O};const Cre=null;function TH(f){return un.isPlainObject(f)||un.isArray(f)}function qj(f){return un.endsWith(f,"[]")?f.slice(0,-2):f}function bW(f,m,y){return f?f.concat(m).map(function(S,_){return S=qj(S),!y&&_?"["+S+"]":S}).join(y?".":""):m}function Sre(f){return un.isArray(f)&&!f.some(TH)}const _re=un.toFlatObject(un,{},null,function(m){return/^is[A-Z]/.test(m)});function t6(f,m,y){if(!un.isObject(f))throw new TypeError("target must be an object");m=m||new FormData,y=un.toFlatObject(y,{metaTokens:!0,dots:!1,indexes:!1},!1,function(q,$e){return!un.isUndefined($e[q])});const b=y.metaTokens,S=y.visitor||P,_=y.dots,O=y.indexes,F=(y.Blob||typeof Blob<"u"&&Blob)&&un.isSpecCompliantForm(m);if(!un.isFunction(S))throw new TypeError("visitor must be a function");function j(Y){if(Y===null)return"";if(un.isDate(Y))return Y.toISOString();if(!F&&un.isBlob(Y))throw new to("Blob is not supported. Use a Buffer instead.");return un.isArrayBuffer(Y)||un.isTypedArray(Y)?F&&typeof Blob=="function"?new Blob([Y]):Buffer.from(Y):Y}function P(Y,q,$e){let de=Y;if(Y&&!$e&&typeof Y=="object"){if(un.endsWith(q,"{}"))q=b?q:q.slice(0,-2),Y=JSON.stringify(Y);else if(un.isArray(Y)&&Sre(Y)||(un.isFileList(Y)||un.endsWith(q,"[]"))&&(de=un.toArray(Y)))return q=qj(q),de.forEach(function(ne,Se){!(un.isUndefined(ne)||ne===null)&&m.append(O===!0?bW([q],Se,_):O===null?q:q+"[]",j(ne))}),!1}return TH(Y)?!0:(m.append(bW($e,q,_),j(Y)),!1)}const H=[],I=Object.assign(_re,{defaultVisitor:P,convertValue:j,isVisitable:TH});function L(Y,q){if(!un.isUndefined(Y)){if(H.indexOf(Y)!==-1)throw Error("Circular reference detected in "+q.join("."));H.push(Y),un.forEach(Y,function(de,Be){(!(un.isUndefined(de)||de===null)&&S.call(m,de,un.isString(Be)?Be.trim():Be,q,I))===!0&&L(de,q?q.concat(Be):[Be])}),H.pop()}}if(!un.isObject(f))throw new TypeError("data must be an object");return L(f),m}function yW(f){const m={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(f).replace(/[!'()~]|%20|%00/g,function(b){return m[b]})}function QH(f,m){this._pairs=[],f&&t6(f,this,m)}const Kj=QH.prototype;Kj.append=function(m,y){this._pairs.push([m,y])};Kj.toString=function(m){const y=m?function(b){return m.call(this,b,yW)}:yW;return this._pairs.map(function(S){return y(S[0])+"="+y(S[1])},"").join("&")};function xre(f){return encodeURIComponent(f).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xj(f,m,y){if(!m)return f;const b=y&&y.encode||xre,S=y&&y.serialize;let _;if(S?_=S(m,y):_=un.isURLSearchParams(m)?m.toString():new QH(m,y).toString(b),_){const O=f.indexOf("#");O!==-1&&(f=f.slice(0,O)),f+=(f.indexOf("?")===-1?"?":"&")+_}return f}class kre{constructor(){this.handlers=[]}use(m,y,b){return this.handlers.push({fulfilled:m,rejected:y,synchronous:b?b.synchronous:!1,runWhen:b?b.runWhen:null}),this.handlers.length-1}eject(m){this.handlers[m]&&(this.handlers[m]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(m){un.forEach(this.handlers,function(b){b!==null&&m(b)})}}const wW=kre,Yj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Are=typeof URLSearchParams<"u"?URLSearchParams:QH,Ere=typeof FormData<"u"?FormData:null,Tre=typeof Blob<"u"?Blob:null,Ore=(()=>{let f;return typeof navigator<"u"&&((f=navigator.product)==="ReactNative"||f==="NativeScript"||f==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Dre=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Gm={isBrowser:!0,classes:{URLSearchParams:Are,FormData:Ere,Blob:Tre},isStandardBrowserEnv:Ore,isStandardBrowserWebWorkerEnv:Dre,protocols:["http","https","file","blob","url","data"]};function Rre(f,m){return t6(f,new Gm.classes.URLSearchParams,Object.assign({visitor:function(y,b,S,_){return Gm.isNode&&un.isBuffer(y)?(this.append(b,y.toString("base64")),!1):_.defaultVisitor.apply(this,arguments)}},m))}function $re(f){return un.matchAll(/\w+|\[(\w*)]/g,f).map(m=>m[0]==="[]"?"":m[1]||m[0])}function Bre(f){const m={},y=Object.keys(f);let b;const S=y.length;let _;for(b=0;b<S;b++)_=y[b],m[_]=f[_];return m}function Jj(f){function m(y,b,S,_){let O=y[_++];const T=Number.isFinite(+O),F=_>=y.length;return O=!O&&un.isArray(S)?S.length:O,F?(un.hasOwnProp(S,O)?S[O]=[S[O],b]:S[O]=b,!T):((!S[O]||!un.isObject(S[O]))&&(S[O]=[]),m(y,b,S[O],_)&&un.isArray(S[O])&&(S[O]=Bre(S[O])),!T)}if(un.isFormData(f)&&un.isFunction(f.entries)){const y={};return un.forEachEntry(f,(b,S)=>{m($re(b),S,y,0)}),y}return null}function Mre(f,m,y){if(un.isString(f))try{return(m||JSON.parse)(f),un.trim(f)}catch(b){if(b.name!=="SyntaxError")throw b}return(y||JSON.stringify)(f)}const e9={transitional:Yj,adapter:Gm.isNode?"http":"xhr",transformRequest:[function(m,y){const b=y.getContentType()||"",S=b.indexOf("application/json")>-1,_=un.isObject(m);if(_&&un.isHTMLForm(m)&&(m=new FormData(m)),un.isFormData(m))return S&&S?JSON.stringify(Jj(m)):m;if(un.isArrayBuffer(m)||un.isBuffer(m)||un.isStream(m)||un.isFile(m)||un.isBlob(m))return m;if(un.isArrayBufferView(m))return m.buffer;if(un.isURLSearchParams(m))return y.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),m.toString();let T;if(_){if(b.indexOf("application/x-www-form-urlencoded")>-1)return Rre(m,this.formSerializer).toString();if((T=un.isFileList(m))||b.indexOf("multipart/form-data")>-1){const F=this.env&&this.env.FormData;return t6(T?{"files[]":m}:m,F&&new F,this.formSerializer)}}return _||S?(y.setContentType("application/json",!1),Mre(m)):m}],transformResponse:[function(m){const y=this.transitional||e9.transitional,b=y&&y.forcedJSONParsing,S=this.responseType==="json";if(m&&un.isString(m)&&(b&&!this.responseType||S)){const O=!(y&&y.silentJSONParsing)&&S;try{return JSON.parse(m)}catch(T){if(O)throw T.name==="SyntaxError"?to.from(T,to.ERR_BAD_RESPONSE,this,null,this.response):T}}return m}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gm.classes.FormData,Blob:Gm.classes.Blob},validateStatus:function(m){return m>=200&&m<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};un.forEach(["delete","get","head","post","put","patch"],f=>{e9.headers[f]={}});const t9=e9,Pre=un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ire=f=>{const m={};let y,b,S;return f&&f.split(`
`).forEach(function(O){S=O.indexOf(":"),y=O.substring(0,S).trim().toLowerCase(),b=O.substring(S+1).trim(),!(!y||m[y]&&Pre[y])&&(y==="set-cookie"?m[y]?m[y].push(b):m[y]=[b]:m[y]=m[y]?m[y]+", "+b:b)}),m},CW=Symbol("internals");function y5(f){return f&&String(f).trim().toLowerCase()}function m8(f){return f===!1||f==null?f:un.isArray(f)?f.map(m8):String(f)}function Nre(f){const m=Object.create(null),y=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let b;for(;b=y.exec(f);)m[b[1]]=b[2];return m}const zre=f=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(f.trim());function uH(f,m,y,b,S){if(un.isFunction(b))return b.call(this,m,y);if(S&&(m=y),!!un.isString(m)){if(un.isString(b))return m.indexOf(b)!==-1;if(un.isRegExp(b))return b.test(m)}}function Fre(f){return f.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(m,y,b)=>y.toUpperCase()+b)}function Lre(f,m){const y=un.toCamelCase(" "+m);["get","set","has"].forEach(b=>{Object.defineProperty(f,b+y,{value:function(S,_,O){return this[b].call(this,m,S,_,O)},configurable:!0})})}class n6{constructor(m){m&&this.set(m)}set(m,y,b){const S=this;function _(T,F,j){const P=y5(F);if(!P)throw new Error("header name must be a non-empty string");const H=un.findKey(S,P);(!H||S[H]===void 0||j===!0||j===void 0&&S[H]!==!1)&&(S[H||F]=m8(T))}const O=(T,F)=>un.forEach(T,(j,P)=>_(j,P,F));return un.isPlainObject(m)||m instanceof this.constructor?O(m,y):un.isString(m)&&(m=m.trim())&&!zre(m)?O(Ire(m),y):m!=null&&_(y,m,b),this}get(m,y){if(m=y5(m),m){const b=un.findKey(this,m);if(b){const S=this[b];if(!y)return S;if(y===!0)return Nre(S);if(un.isFunction(y))return y.call(this,S,b);if(un.isRegExp(y))return y.exec(S);throw new TypeError("parser must be boolean|regexp|function")}}}has(m,y){if(m=y5(m),m){const b=un.findKey(this,m);return!!(b&&this[b]!==void 0&&(!y||uH(this,this[b],b,y)))}return!1}delete(m,y){const b=this;let S=!1;function _(O){if(O=y5(O),O){const T=un.findKey(b,O);T&&(!y||uH(b,b[T],T,y))&&(delete b[T],S=!0)}}return un.isArray(m)?m.forEach(_):_(m),S}clear(m){const y=Object.keys(this);let b=y.length,S=!1;for(;b--;){const _=y[b];(!m||uH(this,this[_],_,m,!0))&&(delete this[_],S=!0)}return S}normalize(m){const y=this,b={};return un.forEach(this,(S,_)=>{const O=un.findKey(b,_);if(O){y[O]=m8(S),delete y[_];return}const T=m?Fre(_):String(_).trim();T!==_&&delete y[_],y[T]=m8(S),b[T]=!0}),this}concat(...m){return this.constructor.concat(this,...m)}toJSON(m){const y=Object.create(null);return un.forEach(this,(b,S)=>{b!=null&&b!==!1&&(y[S]=m&&un.isArray(b)?b.join(", "):b)}),y}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([m,y])=>m+": "+y).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(m){return m instanceof this?m:new this(m)}static concat(m,...y){const b=new this(m);return y.forEach(S=>b.set(S)),b}static accessor(m){const b=(this[CW]=this[CW]={accessors:{}}).accessors,S=this.prototype;function _(O){const T=y5(O);b[T]||(Lre(S,O),b[T]=!0)}return un.isArray(m)?m.forEach(_):_(m),this}}n6.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);un.reduceDescriptors(n6.prototype,({value:f},m)=>{let y=m[0].toUpperCase()+m.slice(1);return{get:()=>f,set(b){this[y]=b}}});un.freezeMethods(n6);const ob=n6;function sH(f,m){const y=this||t9,b=m||y,S=ob.from(b.headers);let _=b.data;return un.forEach(f,function(T){_=T.call(y,_,S.normalize(),m?m.status:void 0)}),S.normalize(),_}function Zj(f){return!!(f&&f.__CANCEL__)}function F5(f,m,y){to.call(this,f??"canceled",to.ERR_CANCELED,m,y),this.name="CanceledError"}un.inherits(F5,to,{__CANCEL__:!0});function Hre(f,m,y){const b=y.config.validateStatus;!y.status||!b||b(y.status)?f(y):m(new to("Request failed with status code "+y.status,[to.ERR_BAD_REQUEST,to.ERR_BAD_RESPONSE][Math.floor(y.status/100)-4],y.config,y.request,y))}const Vre=Gm.isStandardBrowserEnv?function(){return{write:function(y,b,S,_,O,T){const F=[];F.push(y+"="+encodeURIComponent(b)),un.isNumber(S)&&F.push("expires="+new Date(S).toGMTString()),un.isString(_)&&F.push("path="+_),un.isString(O)&&F.push("domain="+O),T===!0&&F.push("secure"),document.cookie=F.join("; ")},read:function(y){const b=document.cookie.match(new RegExp("(^|;\\s*)("+y+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove:function(y){this.write(y,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ure(f){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(f)}function Wre(f,m){return m?f.replace(/\/+$/,"")+"/"+m.replace(/^\/+/,""):f}function Qj(f,m){return f&&!Ure(m)?Wre(f,m):m}const jre=Gm.isStandardBrowserEnv?function(){const m=/(msie|trident)/i.test(navigator.userAgent),y=document.createElement("a");let b;function S(_){let O=_;return m&&(y.setAttribute("href",O),O=y.href),y.setAttribute("href",O),{href:y.href,protocol:y.protocol?y.protocol.replace(/:$/,""):"",host:y.host,search:y.search?y.search.replace(/^\?/,""):"",hash:y.hash?y.hash.replace(/^#/,""):"",hostname:y.hostname,port:y.port,pathname:y.pathname.charAt(0)==="/"?y.pathname:"/"+y.pathname}}return b=S(window.location.href),function(O){const T=un.isString(O)?S(O):O;return T.protocol===b.protocol&&T.host===b.host}}():function(){return function(){return!0}}();function Gre(f){const m=/^([-+\w]{1,25})(:?\/\/|:)/.exec(f);return m&&m[1]||""}function qre(f,m){f=f||10;const y=new Array(f),b=new Array(f);let S=0,_=0,O;return m=m!==void 0?m:1e3,function(F){const j=Date.now(),P=b[_];O||(O=j),y[S]=F,b[S]=j;let H=_,I=0;for(;H!==S;)I+=y[H++],H=H%f;if(S=(S+1)%f,S===_&&(_=(_+1)%f),j-O<m)return;const L=P&&j-P;return L?Math.round(I*1e3/L):void 0}}function SW(f,m){let y=0;const b=qre(50,250);return S=>{const _=S.loaded,O=S.lengthComputable?S.total:void 0,T=_-y,F=b(T),j=_<=O;y=_;const P={loaded:_,total:O,progress:O?_/O:void 0,bytes:T,rate:F||void 0,estimated:F&&O&&j?(O-_)/F:void 0,event:S};P[m?"download":"upload"]=!0,f(P)}}const Kre=typeof XMLHttpRequest<"u",Xre=Kre&&function(f){return new Promise(function(y,b){let S=f.data;const _=ob.from(f.headers).normalize(),O=f.responseType;let T;function F(){f.cancelToken&&f.cancelToken.unsubscribe(T),f.signal&&f.signal.removeEventListener("abort",T)}un.isFormData(S)&&(Gm.isStandardBrowserEnv||Gm.isStandardBrowserWebWorkerEnv?_.setContentType(!1):_.setContentType("multipart/form-data;",!1));let j=new XMLHttpRequest;if(f.auth){const L=f.auth.username||"",Y=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";_.set("Authorization","Basic "+btoa(L+":"+Y))}const P=Qj(f.baseURL,f.url);j.open(f.method.toUpperCase(),Xj(P,f.params,f.paramsSerializer),!0),j.timeout=f.timeout;function H(){if(!j)return;const L=ob.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),q={data:!O||O==="text"||O==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:L,config:f,request:j};Hre(function(de){y(de),F()},function(de){b(de),F()},q),j=null}if("onloadend"in j?j.onloadend=H:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(H)},j.onabort=function(){j&&(b(new to("Request aborted",to.ECONNABORTED,f,j)),j=null)},j.onerror=function(){b(new to("Network Error",to.ERR_NETWORK,f,j)),j=null},j.ontimeout=function(){let Y=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded";const q=f.transitional||Yj;f.timeoutErrorMessage&&(Y=f.timeoutErrorMessage),b(new to(Y,q.clarifyTimeoutError?to.ETIMEDOUT:to.ECONNABORTED,f,j)),j=null},Gm.isStandardBrowserEnv){const L=(f.withCredentials||jre(P))&&f.xsrfCookieName&&Vre.read(f.xsrfCookieName);L&&_.set(f.xsrfHeaderName,L)}S===void 0&&_.setContentType(null),"setRequestHeader"in j&&un.forEach(_.toJSON(),function(Y,q){j.setRequestHeader(q,Y)}),un.isUndefined(f.withCredentials)||(j.withCredentials=!!f.withCredentials),O&&O!=="json"&&(j.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&j.addEventListener("progress",SW(f.onDownloadProgress,!0)),typeof f.onUploadProgress=="function"&&j.upload&&j.upload.addEventListener("progress",SW(f.onUploadProgress)),(f.cancelToken||f.signal)&&(T=L=>{j&&(b(!L||L.type?new F5(null,f,j):L),j.abort(),j=null)},f.cancelToken&&f.cancelToken.subscribe(T),f.signal&&(f.signal.aborted?T():f.signal.addEventListener("abort",T)));const I=Gre(P);if(I&&Gm.protocols.indexOf(I)===-1){b(new to("Unsupported protocol "+I+":",to.ERR_BAD_REQUEST,f));return}j.send(S||null)})},h8={http:Cre,xhr:Xre};un.forEach(h8,(f,m)=>{if(f){try{Object.defineProperty(f,"name",{value:m})}catch{}Object.defineProperty(f,"adapterName",{value:m})}});const eG={getAdapter:f=>{f=un.isArray(f)?f:[f];const{length:m}=f;let y,b;for(let S=0;S<m&&(y=f[S],!(b=un.isString(y)?h8[y.toLowerCase()]:y));S++);if(!b)throw b===!1?new to(`Adapter ${y} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(un.hasOwnProp(h8,y)?`Adapter '${y}' is not available in the build`:`Unknown adapter '${y}'`);if(!un.isFunction(b))throw new TypeError("adapter is not a function");return b},adapters:h8};function lH(f){if(f.cancelToken&&f.cancelToken.throwIfRequested(),f.signal&&f.signal.aborted)throw new F5(null,f)}function _W(f){return lH(f),f.headers=ob.from(f.headers),f.data=sH.call(f,f.transformRequest),["post","put","patch"].indexOf(f.method)!==-1&&f.headers.setContentType("application/x-www-form-urlencoded",!1),eG.getAdapter(f.adapter||t9.adapter)(f).then(function(b){return lH(f),b.data=sH.call(f,f.transformResponse,b),b.headers=ob.from(b.headers),b},function(b){return Zj(b)||(lH(f),b&&b.response&&(b.response.data=sH.call(f,f.transformResponse,b.response),b.response.headers=ob.from(b.response.headers))),Promise.reject(b)})}const xW=f=>f instanceof ob?f.toJSON():f;function dA(f,m){m=m||{};const y={};function b(j,P,H){return un.isPlainObject(j)&&un.isPlainObject(P)?un.merge.call({caseless:H},j,P):un.isPlainObject(P)?un.merge({},P):un.isArray(P)?P.slice():P}function S(j,P,H){if(un.isUndefined(P)){if(!un.isUndefined(j))return b(void 0,j,H)}else return b(j,P,H)}function _(j,P){if(!un.isUndefined(P))return b(void 0,P)}function O(j,P){if(un.isUndefined(P)){if(!un.isUndefined(j))return b(void 0,j)}else return b(void 0,P)}function T(j,P,H){if(H in m)return b(j,P);if(H in f)return b(void 0,j)}const F={url:_,method:_,data:_,baseURL:O,transformRequest:O,transformResponse:O,paramsSerializer:O,timeout:O,timeoutMessage:O,withCredentials:O,adapter:O,responseType:O,xsrfCookieName:O,xsrfHeaderName:O,onUploadProgress:O,onDownloadProgress:O,decompress:O,maxContentLength:O,maxBodyLength:O,beforeRedirect:O,transport:O,httpAgent:O,httpsAgent:O,cancelToken:O,socketPath:O,responseEncoding:O,validateStatus:T,headers:(j,P)=>S(xW(j),xW(P),!0)};return un.forEach(Object.keys(Object.assign({},f,m)),function(P){const H=F[P]||S,I=H(f[P],m[P],P);un.isUndefined(I)&&H!==T||(y[P]=I)}),y}const tG="1.5.0",n9={};["object","boolean","number","function","string","symbol"].forEach((f,m)=>{n9[f]=function(b){return typeof b===f||"a"+(m<1?"n ":" ")+f}});const kW={};n9.transitional=function(m,y,b){function S(_,O){return"[Axios v"+tG+"] Transitional option '"+_+"'"+O+(b?". "+b:"")}return(_,O,T)=>{if(m===!1)throw new to(S(O," has been removed"+(y?" in "+y:"")),to.ERR_DEPRECATED);return y&&!kW[O]&&(kW[O]=!0,console.warn(S(O," has been deprecated since v"+y+" and will be removed in the near future"))),m?m(_,O,T):!0}};function Yre(f,m,y){if(typeof f!="object")throw new to("options must be an object",to.ERR_BAD_OPTION_VALUE);const b=Object.keys(f);let S=b.length;for(;S-- >0;){const _=b[S],O=m[_];if(O){const T=f[_],F=T===void 0||O(T,_,f);if(F!==!0)throw new to("option "+_+" must be "+F,to.ERR_BAD_OPTION_VALUE);continue}if(y!==!0)throw new to("Unknown option "+_,to.ERR_BAD_OPTION)}}const OH={assertOptions:Yre,validators:n9},Ky=OH.validators;class T8{constructor(m){this.defaults=m,this.interceptors={request:new wW,response:new wW}}request(m,y){typeof m=="string"?(y=y||{},y.url=m):y=m||{},y=dA(this.defaults,y);const{transitional:b,paramsSerializer:S,headers:_}=y;b!==void 0&&OH.assertOptions(b,{silentJSONParsing:Ky.transitional(Ky.boolean),forcedJSONParsing:Ky.transitional(Ky.boolean),clarifyTimeoutError:Ky.transitional(Ky.boolean)},!1),S!=null&&(un.isFunction(S)?y.paramsSerializer={serialize:S}:OH.assertOptions(S,{encode:Ky.function,serialize:Ky.function},!0)),y.method=(y.method||this.defaults.method||"get").toLowerCase();let O=_&&un.merge(_.common,_[y.method]);_&&un.forEach(["delete","get","head","post","put","patch","common"],Y=>{delete _[Y]}),y.headers=ob.concat(O,_);const T=[];let F=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(y)===!1||(F=F&&q.synchronous,T.unshift(q.fulfilled,q.rejected))});const j=[];this.interceptors.response.forEach(function(q){j.push(q.fulfilled,q.rejected)});let P,H=0,I;if(!F){const Y=[_W.bind(this),void 0];for(Y.unshift.apply(Y,T),Y.push.apply(Y,j),I=Y.length,P=Promise.resolve(y);H<I;)P=P.then(Y[H++],Y[H++]);return P}I=T.length;let L=y;for(H=0;H<I;){const Y=T[H++],q=T[H++];try{L=Y(L)}catch($e){q.call(this,$e);break}}try{P=_W.call(this,L)}catch(Y){return Promise.reject(Y)}for(H=0,I=j.length;H<I;)P=P.then(j[H++],j[H++]);return P}getUri(m){m=dA(this.defaults,m);const y=Qj(m.baseURL,m.url);return Xj(y,m.params,m.paramsSerializer)}}un.forEach(["delete","get","head","options"],function(m){T8.prototype[m]=function(y,b){return this.request(dA(b||{},{method:m,url:y,data:(b||{}).data}))}});un.forEach(["post","put","patch"],function(m){function y(b){return function(_,O,T){return this.request(dA(T||{},{method:m,headers:b?{"Content-Type":"multipart/form-data"}:{},url:_,data:O}))}}T8.prototype[m]=y(),T8.prototype[m+"Form"]=y(!0)});const g8=T8;class r9{constructor(m){if(typeof m!="function")throw new TypeError("executor must be a function.");let y;this.promise=new Promise(function(_){y=_});const b=this;this.promise.then(S=>{if(!b._listeners)return;let _=b._listeners.length;for(;_-- >0;)b._listeners[_](S);b._listeners=null}),this.promise.then=S=>{let _;const O=new Promise(T=>{b.subscribe(T),_=T}).then(S);return O.cancel=function(){b.unsubscribe(_)},O},m(function(_,O,T){b.reason||(b.reason=new F5(_,O,T),y(b.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(m){if(this.reason){m(this.reason);return}this._listeners?this._listeners.push(m):this._listeners=[m]}unsubscribe(m){if(!this._listeners)return;const y=this._listeners.indexOf(m);y!==-1&&this._listeners.splice(y,1)}static source(){let m;return{token:new r9(function(S){m=S}),cancel:m}}}const Jre=r9;function Zre(f){return function(y){return f.apply(null,y)}}function Qre(f){return un.isObject(f)&&f.isAxiosError===!0}const DH={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(DH).forEach(([f,m])=>{DH[m]=f});const eae=DH;function nG(f){const m=new g8(f),y=Nj(g8.prototype.request,m);return un.extend(y,g8.prototype,m,{allOwnKeys:!0}),un.extend(y,m,null,{allOwnKeys:!0}),y.create=function(S){return nG(dA(f,S))},y}const Yu=nG(t9);Yu.Axios=g8;Yu.CanceledError=F5;Yu.CancelToken=Jre;Yu.isCancel=Zj;Yu.VERSION=tG;Yu.toFormData=t6;Yu.AxiosError=to;Yu.Cancel=Yu.CanceledError;Yu.all=function(m){return Promise.all(m)};Yu.spread=Zre;Yu.isAxiosError=Qre;Yu.mergeConfig=dA;Yu.AxiosHeaders=ob;Yu.formToJSON=f=>Jj(un.isHTMLForm(f)?new FormData(f):f);Yu.getAdapter=eG.getAdapter;Yu.HttpStatusCode=eae;Yu.default=Yu;const Mn=Yu;const tae={class:"full"},nae={class:"login-container"},rae={class:"login-content"},aae=V("img",{src:xj,width:"200"},null,-1),oae=V("p",null,"Bitte melden Sie sich an.",-1),iae={key:0,class:"spin-loading"},uae={key:1},sae={__name:"Login",setup(f){const m=_t(""),y=_t(""),b=_t(!1),S=()=>{b.value=!0,Mn.post("/auth/login",{email:m.value,password:y.value}).then(_=>{b.value=!1,sessionStorage.setItem("token",_.data.token),_.data.role&&_.data.role==="guide"?(sessionStorage.setItem("role","guide"),sessionStorage.setItem("guideId",_.data.guide_id),window.location.href="/profile/"+_.data.guide_id):window.location.href="/"}).catch(_=>{b.value=!1,console.log(_),window.alert(_.response.data.message||"Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")})};return Ia(()=>{document.addEventListener("keydown",_=>{_.key==="Enter"&&S()})}),(_,O)=>(Ke(),Je("main",tae,[V("div",nae,[V("div",rae,[aae,oae,qn(V("input",{type:"email",placeholder:"Email","onUpdate:modelValue":O[0]||(O[0]=T=>m.value=T)},null,512),[[Qn,m.value]]),qn(V("input",{type:"password",placeholder:"Passwort","onUpdate:modelValue":O[1]||(O[1]=T=>y.value=T)},null,512),[[Qn,y.value]]),V("button",{class:"button-primary",onClick:S},[b.value?(Ke(),Je("span",iae)):(Ke(),Je("span",uae,"Anmelden"))])])])]))}};const t2=(f,m)=>{const y=f.__vccOpts||f;for(const[b,S]of m)y[b]=S;return y},Rd=f=>(gA("data-v-04d498e6"),f=f(),pA(),f),lae={key:1},cae=Rd(()=>V("div",{class:"header-content"},[V("img",{alt:"Vue logo",class:"logo",src:xj,width:"40",height:"40"})],-1)),fae=[cae],vae={key:2,class:"content-container"},dae={key:0,class:"sidebar"},mae={class:"wrapper"},hae=Rd(()=>V("img",{src:Rte,width:"25",height:"25"},null,-1)),gae=Rd(()=>V("img",{src:$te,width:"25",height:"25"},null,-1)),pae=Rd(()=>V("img",{src:Bte,width:"25",height:"25"},null,-1)),bae=Rd(()=>V("img",{src:Mte,width:"25",height:"25"},null,-1)),yae=Rd(()=>V("img",{src:Pte,width:"25",height:"25"},null,-1)),wae=Rd(()=>V("img",{src:Ite,width:"25",height:"25"},null,-1)),Cae=Rd(()=>V("img",{src:Nte,width:"25",height:"25"},null,-1)),Sae=Rd(()=>V("img",{src:zte,width:"25",height:"25"},null,-1)),_ae=Rd(()=>V("img",{src:kj,width:"25",height:"25"},null,-1)),xae=Rd(()=>V("img",{src:kj,width:"25",height:"25"},null,-1)),kae=Rd(()=>V("img",{src:Fte,width:"25",height:"25"},null,-1)),Aae={__name:"App",setup(f){const m=_t(!1),y=_t(!1),b=()=>{const S=sessionStorage.getItem("token"),_=sessionStorage.getItem("role");S?(_==="guide"&&(y.value=!0),m.value=!0):m.value=!1};return setInterval(()=>{b()},60*1e3),Zm(()=>{b()}),(S,_)=>(Ke(),Je($r,null,[m.value?kr("",!0):(Ke(),Dd(sae,{key:0})),m.value?(Ke(),Je("header",lae,fae)):kr("",!0),m.value?(Ke(),Je("div",vae,[y.value?kr("",!0):(Ke(),Je("div",dae,[V("div",mae,[yt($o(Af),{to:"/touren",class:"navigation-link"},{default:Gt(()=>[hae,Rr(" Touren ")]),_:1}),yt($o(Af),{to:"/guides",class:"navigation-link"},{default:Gt(()=>[gae,Rr(" Guides ")]),_:1}),yt($o(Af),{to:"/sprachen",class:"navigation-link"},{default:Gt(()=>[pae,Rr(" Sprachen ")]),_:1}),yt($o(Af),{to:"/mobilitaet",class:"navigation-link"},{default:Gt(()=>[bae,Rr(" Mobilitt ")]),_:1}),yt($o(Af),{to:"/orte",class:"navigation-link"},{default:Gt(()=>[yae,Rr(" Orte ")]),_:1}),yt($o(Af),{to:"/kategorien",class:"navigation-link"},{default:Gt(()=>[wae,Rr(" Kategorie ")]),_:1}),yt($o(Af),{to:"/zertifikate",class:"navigation-link"},{default:Gt(()=>[Cae,Rr(" Zertifikate ")]),_:1}),yt($o(Af),{to:"/skills",class:"navigation-link"},{default:Gt(()=>[Sae,Rr(" Themen ")]),_:1}),yt($o(Af),{to:"/pages",class:"navigation-link"},{default:Gt(()=>[_ae,Rr(" Seiten ")]),_:1}),yt($o(Af),{to:"/blog",class:"navigation-link"},{default:Gt(()=>[xae,Rr(" Blog ")]),_:1}),yt($o(Af),{to:"/verwaltung",class:"navigation-link align-bottom"},{default:Gt(()=>[kae,Rr(" Benutzerverwaltung ")]),_:1})])])),m.value?(Ke(),Dd($o(Ij),{key:1,class:N5(y.value?"guideContent":"view")},null,8,["class"])):kr("",!0)])):kr("",!0)],64))}},Eae=t2(Aae,[["__scopeId","data-v-04d498e6"]]),$d="/assets/edit-cf18a27b.svg",Of="/assets/delete-8c83b779.svg";const Tae=f=>(gA("data-v-70d837bc"),f=f(),pA(),f),Oae={class:"input-container"},Dae={class:"align-end"},Rae={key:0},$ae={class:"align-end"},Bae={key:1},Mae=["colspan"],Pae=Tae(()=>V("span",{class:"loader"},null,-1)),Iae={key:2},Nae=["colspan"],zae={__name:"IDLTable",props:{tableData:{type:Array,required:!0},tableColumns:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(f){const m=f,y=_t(""),b=ri(()=>m.tableData.filter(_=>Object.values(_).some(O=>String(O).toLowerCase().includes(y.value.toLowerCase())))),S=_=>typeof _=="boolean"?_?"Ja":"Nein":typeof _=="number"?_===0?"Nein":"Ja":(_==="created_at"||_==="updated_at")&&new Date(_).getTime()>0?new Date(_).toLocaleString("de-DE"):_==="draft"?"Entwurf":_==="published"?"Verffentlicht":_;return(_,O)=>(Ke(),Je("div",null,[V("div",Oae,[qn(V("input",{type:"search","onUpdate:modelValue":O[0]||(O[0]=T=>y.value=T),placeholder:"Suche"},null,512),[[Qn,y.value]])]),V("table",null,[V("thead",null,[V("tr",null,[(Ke(!0),Je($r,null,qa(f.tableColumns,T=>(Ke(),Je("th",{key:T.key},ar(T.title),1))),128)),V("th",Dae,[pH(_.$slots,"actions",{},void 0,!0)])])]),b.value.length>0?(Ke(),Je("tbody",Rae,[(Ke(!0),Je($r,null,qa(b.value,T=>(Ke(),Je("tr",{key:T.id},[(Ke(!0),Je($r,null,qa(f.tableColumns,F=>(Ke(),Je("td",{key:F.key},ar(S(T[F.key])),1))),128)),V("td",$ae,[pH(_.$slots,"tableActions",{row:T},void 0,!0)])]))),128))])):f.loading?(Ke(),Je("tbody",Bae,[V("tr",null,[V("td",{colspan:f.tableColumns.length+1},[Pae,Rr("Lade Daten... ")],8,Mae)])])):(Ke(),Je("tbody",Iae,[V("tr",null,[V("td",{colspan:b.value.length+1},"Keine Daten vorhanden",8,Nae)])]))])]))}},eh=t2(zae,[["__scopeId","data-v-70d837bc"]]),Fae={class:"row"},Lae=V("h1",null,"Alle Touren",-1),Hae=V("hr",{class:"divider"},null,-1),Vae=V("img",{src:$d,width:"20"},null,-1),Uae=["onClick"],Wae=V("img",{src:Of,width:"20"},null,-1),jae=[Wae],Gae={__name:"Overview",setup(f){const m=_t([]),y=_t(!1),b=_t([{key:"name",title:"Name"},{key:"status",title:"Status"},{key:"is_public",title:"ffentliche Tour"},{key:"updated_at",title:"zuletzt aktualisiert"}]),S=()=>{y.value=!0,Mn.get("/tours?preview=true&per_page=200&status=all").then(O=>{y.value=!1,m.value=O.data.tours.data}).catch(O=>{y.value=!1,O.response.status===401?sessionStorage.removeItem("token"):(console.log(O),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut."))})},_=O=>{const T=m.value.find(F=>F.id===O).name;window.confirm(`Mchtest du die Tour "${T}" wirklich lschen?`)&&Mn.delete(`/tours/${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(F=>{console.log(F),S()}).catch(F=>{console.log(F),F.response.status===401?sessionStorage.removeItem("token"):(console.log(F),window.alert("Die Tour konnte nicht gelscht werden. Bitte versuche es erneut."))})};return Ia(()=>{S()}),(O,T)=>{const F=Ua("router-link"),j=Ua("RouterLink");return Ke(),Je("main",null,[V("div",Fae,[Lae,yt(F,{to:"/tour-erstellen",class:"button-primary"},{default:Gt(()=>[Rr("Tour hinzufgen")]),_:1})]),Hae,yt(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Gt(()=>[Rr(" Aktionen ")]),tableActions:Gt(P=>[yt(j,{to:`/tour-bearbeiten/${P.row.id}`},{default:Gt(()=>[Vae]),_:2},1032,["to"]),V("button",{onClick:H=>_(P.row.id)},jae,8,Uae)]),_:1},8,["tableData","tableColumns","loading"])])}}};function qae(f,m){return m.forEach(function(y){y&&typeof y!="string"&&!Array.isArray(y)&&Object.keys(y).forEach(function(b){if(b!=="default"&&!(b in f)){var S=Object.getOwnPropertyDescriptor(y,b);Object.defineProperty(f,b,S.get?S:{enumerable:!0,get:function(){return y[b]}})}})}),Object.freeze(f)}function rG(f,m){return new Promise(function(y,b){let S;return Kae(f).then(function(_){try{return S=_,y(new Blob([m.slice(0,2),S,m.slice(2)],{type:"image/jpeg"}))}catch(O){return b(O)}},b)})}const Kae=f=>new Promise((m,y)=>{const b=new FileReader;b.addEventListener("load",({target:{result:S}})=>{const _=new DataView(S);let O=0;if(_.getUint16(O)!==65496)return y("not a valid JPEG");for(O+=2;;){const T=_.getUint16(O);if(T===65498)break;const F=_.getUint16(O+2);if(T===65505&&_.getUint32(O+4)===1165519206){const j=O+10;let P;switch(_.getUint16(j)){case 18761:P=!0;break;case 19789:P=!1;break;default:return y("TIFF header contains invalid endian")}if(_.getUint16(j+2,P)!==42)return y("TIFF header contains invalid version");const H=_.getUint32(j+4,P),I=j+H+2+12*_.getUint16(j+H,P);for(let L=j+H+2;L<I;L+=12)if(_.getUint16(L,P)==274){if(_.getUint16(L+2,P)!==3)return y("Orientation data type is invalid");if(_.getUint32(L+4,P)!==1)return y("Orientation data count is invalid");_.setUint16(L+8,1,P);break}return m(S.slice(O,O+2+F))}O+=2+F}return m(new Blob)}),b.readAsArrayBuffer(f)});var O8={},Xae={get exports(){return O8},set exports(f){O8=f}};(function(f){var m,y,b={};Xae.exports=b,b.parse=function(S,_){for(var O=b.bin.readUshort,T=b.bin.readUint,F=0,j={},P=new Uint8Array(S),H=P.length-4;T(P,H)!=101010256;)H--;F=H,F+=4;var I=O(P,F+=4);O(P,F+=2);var L=T(P,F+=2),Y=T(P,F+=4);F+=4,F=Y;for(var q=0;q<I;q++){T(P,F),F+=4,F+=4,F+=4,T(P,F+=4),L=T(P,F+=4);var $e=T(P,F+=4),de=O(P,F+=4),Be=O(P,F+2),ne=O(P,F+4);F+=6;var Se=T(P,F+=8);F+=4,F+=de+Be+ne,b._readLocal(P,Se,j,L,$e,_)}return j},b._readLocal=function(S,_,O,T,F,j){var P=b.bin.readUshort,H=b.bin.readUint;H(S,_),P(S,_+=4),P(S,_+=2);var I=P(S,_+=2);H(S,_+=2),H(S,_+=4),_+=4;var L=P(S,_+=8),Y=P(S,_+=2);_+=2;var q=b.bin.readUTF8(S,_,L);if(_+=L,_+=Y,j)O[q]={size:F,csize:T};else{var $e=new Uint8Array(S.buffer,_);if(I==0)O[q]=new Uint8Array($e.buffer.slice(_,_+T));else{if(I!=8)throw"unknown compression method: "+I;var de=new Uint8Array(F);b.inflateRaw($e,de),O[q]=de}}},b.inflateRaw=function(S,_){return b.F.inflate(S,_)},b.inflate=function(S,_){return S[0],S[1],b.inflateRaw(new Uint8Array(S.buffer,S.byteOffset+2,S.length-6),_)},b.deflate=function(S,_){_==null&&(_={level:6});var O=0,T=new Uint8Array(50+Math.floor(1.1*S.length));T[O]=120,T[O+1]=156,O+=2,O=b.F.deflateRaw(S,T,O,_.level);var F=b.adler(S,0,S.length);return T[O+0]=F>>>24&255,T[O+1]=F>>>16&255,T[O+2]=F>>>8&255,T[O+3]=F>>>0&255,new Uint8Array(T.buffer,0,O+4)},b.deflateRaw=function(S,_){_==null&&(_={level:6});var O=new Uint8Array(50+Math.floor(1.1*S.length)),T=b.F.deflateRaw(S,O,T,_.level);return new Uint8Array(O.buffer,0,T)},b.encode=function(S,_){_==null&&(_=!1);var O=0,T=b.bin.writeUint,F=b.bin.writeUshort,j={};for(var P in S){var H=!b._noNeed(P)&&!_,I=S[P],L=b.crc.crc(I,0,I.length);j[P]={cpr:H,usize:I.length,crc:L,file:H?b.deflateRaw(I):I}}for(var P in j)O+=j[P].file.length+30+46+2*b.bin.sizeUTF8(P);O+=22;var Y=new Uint8Array(O),q=0,$e=[];for(var P in j){var de=j[P];$e.push(q),q=b._writeHeader(Y,q,P,de,0)}var Be=0,ne=q;for(var P in j)de=j[P],$e.push(q),q=b._writeHeader(Y,q,P,de,1,$e[Be++]);var Se=q-ne;return T(Y,q,101010256),q+=4,F(Y,q+=4,Be),F(Y,q+=2,Be),T(Y,q+=2,Se),T(Y,q+=4,ne),q+=4,q+=2,Y.buffer},b._noNeed=function(S){var _=S.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(_)!=-1},b._writeHeader=function(S,_,O,T,F,j){var P=b.bin.writeUint,H=b.bin.writeUshort,I=T.file;return P(S,_,F==0?67324752:33639248),_+=4,F==1&&(_+=2),H(S,_,20),H(S,_+=2,0),H(S,_+=2,T.cpr?8:0),P(S,_+=2,0),P(S,_+=4,T.crc),P(S,_+=4,I.length),P(S,_+=4,T.usize),H(S,_+=4,b.bin.sizeUTF8(O)),H(S,_+=2,0),_+=2,F==1&&(_+=2,_+=2,P(S,_+=6,j),_+=4),_+=b.bin.writeUTF8(S,_,O),F==0&&(S.set(I,_),_+=I.length),_},b.crc={table:function(){for(var S=new Uint32Array(256),_=0;_<256;_++){for(var O=_,T=0;T<8;T++)1&O?O=3988292384^O>>>1:O>>>=1;S[_]=O}return S}(),update:function(S,_,O,T){for(var F=0;F<T;F++)S=b.crc.table[255&(S^_[O+F])]^S>>>8;return S},crc:function(S,_,O){return 4294967295^b.crc.update(4294967295,S,_,O)}},b.adler=function(S,_,O){for(var T=1,F=0,j=_,P=_+O;j<P;){for(var H=Math.min(j+5552,P);j<H;)F+=T+=S[j++];T%=65521,F%=65521}return F<<16|T},b.bin={readUshort:function(S,_){return S[_]|S[_+1]<<8},writeUshort:function(S,_,O){S[_]=255&O,S[_+1]=O>>8&255},readUint:function(S,_){return 16777216*S[_+3]+(S[_+2]<<16|S[_+1]<<8|S[_])},writeUint:function(S,_,O){S[_]=255&O,S[_+1]=O>>8&255,S[_+2]=O>>16&255,S[_+3]=O>>24&255},readASCII:function(S,_,O){for(var T="",F=0;F<O;F++)T+=String.fromCharCode(S[_+F]);return T},writeASCII:function(S,_,O){for(var T=0;T<O.length;T++)S[_+T]=O.charCodeAt(T)},pad:function(S){return S.length<2?"0"+S:S},readUTF8:function(S,_,O){for(var T,F="",j=0;j<O;j++)F+="%"+b.bin.pad(S[_+j].toString(16));try{T=decodeURIComponent(F)}catch{return b.bin.readASCII(S,_,O)}return T},writeUTF8:function(S,_,O){for(var T=O.length,F=0,j=0;j<T;j++){var P=O.charCodeAt(j);if(!(4294967168&P))S[_+F]=P,F++;else if(!(4294965248&P))S[_+F]=192|P>>6,S[_+F+1]=128|P>>0&63,F+=2;else if(!(4294901760&P))S[_+F]=224|P>>12,S[_+F+1]=128|P>>6&63,S[_+F+2]=128|P>>0&63,F+=3;else{if(4292870144&P)throw"e";S[_+F]=240|P>>18,S[_+F+1]=128|P>>12&63,S[_+F+2]=128|P>>6&63,S[_+F+3]=128|P>>0&63,F+=4}}return F},sizeUTF8:function(S){for(var _=S.length,O=0,T=0;T<_;T++){var F=S.charCodeAt(T);if(!(4294967168&F))O++;else if(!(4294965248&F))O+=2;else if(!(4294901760&F))O+=3;else{if(4292870144&F)throw"e";O+=4}}return O}},b.F={},b.F.deflateRaw=function(S,_,O,T){var F=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][T],j=b.F.U,P=b.F._goodIndex;b.F._hash;var H=b.F._putsE,I=0,L=O<<3,Y=0,q=S.length;if(T==0){for(;I<q;)H(_,L,I+(Me=Math.min(65535,q-I))==q?1:0),L=b.F._copyExact(S,I,Me,_,L+8),I+=Me;return L>>>3}var $e=j.lits,de=j.strt,Be=j.prev,ne=0,Se=0,Te=0,xe=0,Ge=0,se=0;for(q>2&&(de[se=b.F._hash(S,0)]=0),I=0;I<q;I++){if(Ge=se,I+1<q-2){se=b.F._hash(S,I+1);var pe=I+1&32767;Be[pe]=de[se],de[se]=pe}if(Y<=I){(ne>14e3||Se>26697)&&q-I>100&&(Y<I&&($e[ne]=I-Y,ne+=2,Y=I),L=b.F._writeBlock(I==q-1||Y==q?1:0,$e,ne,xe,S,Te,I-Te,_,L),ne=Se=xe=0,Te=I);var ye=0;I<q-2&&(ye=b.F._bestMatch(S,I,Be,Ge,Math.min(F[2],q-I),F[3]));var Me=ye>>>16,re=65535&ye;if(ye!=0){re=65535&ye;var W=P(Me=ye>>>16,j.of0);j.lhst[257+W]++;var ke=P(re,j.df0);j.dhst[ke]++,xe+=j.exb[W]+j.dxb[ke],$e[ne]=Me<<23|I-Y,$e[ne+1]=re<<16|W<<8|ke,ne+=2,Y=I+Me}else j.lhst[S[I]]++;Se++}}for(Te==I&&S.length!=0||(Y<I&&($e[ne]=I-Y,ne+=2,Y=I),L=b.F._writeBlock(1,$e,ne,xe,S,Te,I-Te,_,L),ne=0,Se=0,ne=Se=xe=0,Te=I);7&L;)L++;return L>>>3},b.F._bestMatch=function(S,_,O,T,F,j){var P=32767&_,H=O[P],I=P-H+32768&32767;if(H==P||T!=b.F._hash(S,_-I))return 0;for(var L=0,Y=0,q=Math.min(32767,_);I<=q&&--j!=0&&H!=P;){if(L==0||S[_+L]==S[_+L-I]){var $e=b.F._howLong(S,_,I);if($e>L){if(Y=I,(L=$e)>=F)break;I+2<$e&&($e=I+2);for(var de=0,Be=0;Be<$e-2;Be++){var ne=_-I+Be+32768&32767,Se=ne-O[ne]+32768&32767;Se>de&&(de=Se,H=ne)}}}I+=(P=H)-(H=O[P])+32768&32767}return L<<16|Y},b.F._howLong=function(S,_,O){if(S[_]!=S[_-O]||S[_+1]!=S[_+1-O]||S[_+2]!=S[_+2-O])return 0;var T=_,F=Math.min(S.length,_+258);for(_+=3;_<F&&S[_]==S[_-O];)_++;return _-T},b.F._hash=function(S,_){return(S[_]<<8|S[_+1])+(S[_+2]<<4)&65535},b.saved=0,b.F._writeBlock=function(S,_,O,T,F,j,P,H,I){var L,Y,q,$e,de,Be,ne,Se,Te,xe=b.F.U,Ge=b.F._putsF,se=b.F._putsE;xe.lhst[256]++,Y=(L=b.F.getTrees())[0],q=L[1],$e=L[2],de=L[3],Be=L[4],ne=L[5],Se=L[6],Te=L[7];var pe=32+(I+3&7?8-(I+3&7):0)+(P<<3),ye=T+b.F.contSize(xe.fltree,xe.lhst)+b.F.contSize(xe.fdtree,xe.dhst),Me=T+b.F.contSize(xe.ltree,xe.lhst)+b.F.contSize(xe.dtree,xe.dhst);Me+=14+3*ne+b.F.contSize(xe.itree,xe.ihst)+(2*xe.ihst[16]+3*xe.ihst[17]+7*xe.ihst[18]);for(var re=0;re<286;re++)xe.lhst[re]=0;for(re=0;re<30;re++)xe.dhst[re]=0;for(re=0;re<19;re++)xe.ihst[re]=0;var W=pe<ye&&pe<Me?0:ye<Me?1:2;if(Ge(H,I,S),Ge(H,I+1,W),I+=3,W==0){for(;7&I;)I++;I=b.F._copyExact(F,j,P,H,I)}else{var ke,et;if(W==1&&(ke=xe.fltree,et=xe.fdtree),W==2){b.F.makeCodes(xe.ltree,Y),b.F.revCodes(xe.ltree,Y),b.F.makeCodes(xe.dtree,q),b.F.revCodes(xe.dtree,q),b.F.makeCodes(xe.itree,$e),b.F.revCodes(xe.itree,$e),ke=xe.ltree,et=xe.dtree,se(H,I,de-257),se(H,I+=5,Be-1),se(H,I+=5,ne-4),I+=4;for(var le=0;le<ne;le++)se(H,I+3*le,xe.itree[1+(xe.ordr[le]<<1)]);I+=3*ne,I=b.F._codeTiny(Se,xe.itree,H,I),I=b.F._codeTiny(Te,xe.itree,H,I)}for(var ge=j,ut=0;ut<O;ut+=2){for(var B=_[ut],kt=B>>>23,at=ge+(8388607&B);ge<at;)I=b.F._writeLit(F[ge++],ke,H,I);if(kt!=0){var ot=_[ut+1],kn=ot>>16,cn=ot>>8&255,lt=255&ot;se(H,I=b.F._writeLit(257+cn,ke,H,I),kt-xe.of0[cn]),I+=xe.exb[cn],Ge(H,I=b.F._writeLit(lt,et,H,I),kn-xe.df0[lt]),I+=xe.dxb[lt],ge+=kt}}I=b.F._writeLit(256,ke,H,I)}return I},b.F._copyExact=function(S,_,O,T,F){var j=F>>>3;return T[j]=O,T[j+1]=O>>>8,T[j+2]=255-T[j],T[j+3]=255-T[j+1],j+=4,T.set(new Uint8Array(S.buffer,_,O),j),F+(O+4<<3)},b.F.getTrees=function(){for(var S=b.F.U,_=b.F._hufTree(S.lhst,S.ltree,15),O=b.F._hufTree(S.dhst,S.dtree,15),T=[],F=b.F._lenCodes(S.ltree,T),j=[],P=b.F._lenCodes(S.dtree,j),H=0;H<T.length;H+=2)S.ihst[T[H]]++;for(H=0;H<j.length;H+=2)S.ihst[j[H]]++;for(var I=b.F._hufTree(S.ihst,S.itree,7),L=19;L>4&&S.itree[1+(S.ordr[L-1]<<1)]==0;)L--;return[_,O,I,F,P,L,T,j]},b.F.getSecond=function(S){for(var _=[],O=0;O<S.length;O+=2)_.push(S[O+1]);return _},b.F.nonZero=function(S){for(var _="",O=0;O<S.length;O+=2)S[O+1]!=0&&(_+=(O>>1)+",");return _},b.F.contSize=function(S,_){for(var O=0,T=0;T<_.length;T++)O+=_[T]*S[1+(T<<1)];return O},b.F._codeTiny=function(S,_,O,T){for(var F=0;F<S.length;F+=2){var j=S[F],P=S[F+1];T=b.F._writeLit(j,_,O,T);var H=j==16?2:j==17?3:7;j>15&&(b.F._putsE(O,T,P,H),T+=H)}return T},b.F._lenCodes=function(S,_){for(var O=S.length;O!=2&&S[O-1]==0;)O-=2;for(var T=0;T<O;T+=2){var F=S[T+1],j=T+3<O?S[T+3]:-1,P=T+5<O?S[T+5]:-1,H=T==0?-1:S[T-1];if(F==0&&j==F&&P==F){for(var I=T+5;I+2<O&&S[I+2]==F;)I+=2;(L=Math.min(I+1-T>>>1,138))<11?_.push(17,L-3):_.push(18,L-11),T+=2*L-2}else if(F==H&&j==F&&P==F){for(I=T+5;I+2<O&&S[I+2]==F;)I+=2;var L=Math.min(I+1-T>>>1,6);_.push(16,L-3),T+=2*L-2}else _.push(F,0)}return O>>>1},b.F._hufTree=function(S,_,O){var T=[],F=S.length,j=_.length,P=0;for(P=0;P<j;P+=2)_[P]=0,_[P+1]=0;for(P=0;P<F;P++)S[P]!=0&&T.push({lit:P,f:S[P]});var H=T.length,I=T.slice(0);if(H==0)return 0;if(H==1){var L=T[0].lit;return I=L==0?1:0,_[1+(L<<1)]=1,_[1+(I<<1)]=1,1}T.sort(function(Se,Te){return Se.f-Te.f});var Y=T[0],q=T[1],$e=0,de=1,Be=2;for(T[0]={lit:-1,f:Y.f+q.f,l:Y,r:q,d:0};de!=H-1;)Y=$e!=de&&(Be==H||T[$e].f<T[Be].f)?T[$e++]:T[Be++],q=$e!=de&&(Be==H||T[$e].f<T[Be].f)?T[$e++]:T[Be++],T[de++]={lit:-1,f:Y.f+q.f,l:Y,r:q};var ne=b.F.setDepth(T[de-1],0);for(ne>O&&(b.F.restrictDepth(I,O,ne),ne=O),P=0;P<H;P++)_[1+(I[P].lit<<1)]=I[P].d;return ne},b.F.setDepth=function(S,_){return S.lit!=-1?(S.d=_,_):Math.max(b.F.setDepth(S.l,_+1),b.F.setDepth(S.r,_+1))},b.F.restrictDepth=function(S,_,O){var T=0,F=1<<O-_,j=0;for(S.sort(function(H,I){return I.d==H.d?H.f-I.f:I.d-H.d}),T=0;T<S.length&&S[T].d>_;T++){var P=S[T].d;S[T].d=_,j+=F-(1<<O-P)}for(j>>>=O-_;j>0;)(P=S[T].d)<_?(S[T].d++,j-=1<<_-P-1):T++;for(;T>=0;T--)S[T].d==_&&j<0&&(S[T].d--,j++);j!=0&&console.log("debt left")},b.F._goodIndex=function(S,_){var O=0;return _[16|O]<=S&&(O|=16),_[8|O]<=S&&(O|=8),_[4|O]<=S&&(O|=4),_[2|O]<=S&&(O|=2),_[1|O]<=S&&(O|=1),O},b.F._writeLit=function(S,_,O,T){return b.F._putsF(O,T,_[S<<1]),T+_[1+(S<<1)]},b.F.inflate=function(S,_){var O=Uint8Array;if(S[0]==3&&S[1]==0)return _||new O(0);var T=b.F,F=T._bitsF,j=T._bitsE,P=T._decodeTiny,H=T.makeCodes,I=T.codes2map,L=T._get17,Y=T.U,q=_==null;q&&(_=new O(S.length>>>2<<3));for(var $e,de,Be=0,ne=0,Se=0,Te=0,xe=0,Ge=0,se=0,pe=0,ye=0;Be==0;)if(Be=F(S,ye,1),ne=F(S,ye+1,2),ye+=3,ne!=0){if(q&&(_=b.F._check(_,pe+(1<<17))),ne==1&&($e=Y.flmap,de=Y.fdmap,Ge=511,se=31),ne==2){Se=j(S,ye,5)+257,Te=j(S,ye+5,5)+1,xe=j(S,ye+10,4)+4,ye+=14;for(var Me=0;Me<38;Me+=2)Y.itree[Me]=0,Y.itree[Me+1]=0;var re=1;for(Me=0;Me<xe;Me++){var W=j(S,ye+3*Me,3);Y.itree[1+(Y.ordr[Me]<<1)]=W,W>re&&(re=W)}ye+=3*xe,H(Y.itree,re),I(Y.itree,re,Y.imap),$e=Y.lmap,de=Y.dmap,ye=P(Y.imap,(1<<re)-1,Se+Te,S,ye,Y.ttree);var ke=T._copyOut(Y.ttree,0,Se,Y.ltree);Ge=(1<<ke)-1;var et=T._copyOut(Y.ttree,Se,Te,Y.dtree);se=(1<<et)-1,H(Y.ltree,ke),I(Y.ltree,ke,$e),H(Y.dtree,et),I(Y.dtree,et,de)}for(;;){var le=$e[L(S,ye)&Ge];ye+=15&le;var ge=le>>>4;if(!(ge>>>8))_[pe++]=ge;else{if(ge==256)break;var ut=pe+ge-254;if(ge>264){var B=Y.ldef[ge-257];ut=pe+(B>>>3)+j(S,ye,7&B),ye+=7&B}var kt=de[L(S,ye)&se];ye+=15&kt;var at=kt>>>4,ot=Y.ddef[at],kn=(ot>>>4)+F(S,ye,15&ot);for(ye+=15&ot,q&&(_=b.F._check(_,pe+(1<<17)));pe<ut;)_[pe]=_[pe++-kn],_[pe]=_[pe++-kn],_[pe]=_[pe++-kn],_[pe]=_[pe++-kn];pe=ut}}}else{7&ye&&(ye+=8-(7&ye));var cn=4+(ye>>>3),lt=S[cn-4]|S[cn-3]<<8;q&&(_=b.F._check(_,pe+lt)),_.set(new O(S.buffer,S.byteOffset+cn,lt),pe),ye=cn+lt<<3,pe+=lt}return _.length==pe?_:_.slice(0,pe)},b.F._check=function(S,_){var O=S.length;if(_<=O)return S;var T=new Uint8Array(Math.max(O<<1,_));return T.set(S,0),T},b.F._decodeTiny=function(S,_,O,T,F,j){for(var P=b.F._bitsE,H=b.F._get17,I=0;I<O;){var L=S[H(T,F)&_];F+=15&L;var Y=L>>>4;if(Y<=15)j[I]=Y,I++;else{var q=0,$e=0;Y==16?($e=3+P(T,F,2),F+=2,q=j[I-1]):Y==17?($e=3+P(T,F,3),F+=3):Y==18&&($e=11+P(T,F,7),F+=7);for(var de=I+$e;I<de;)j[I]=q,I++}}return F},b.F._copyOut=function(S,_,O,T){for(var F=0,j=0,P=T.length>>>1;j<O;){var H=S[j+_];T[j<<1]=0,T[1+(j<<1)]=H,H>F&&(F=H),j++}for(;j<P;)T[j<<1]=0,T[1+(j<<1)]=0,j++;return F},b.F.makeCodes=function(S,_){for(var O,T,F,j,P=b.F.U,H=S.length,I=P.bl_count,L=0;L<=_;L++)I[L]=0;for(L=1;L<H;L+=2)I[S[L]]++;var Y=P.next_code;for(O=0,I[0]=0,T=1;T<=_;T++)O=O+I[T-1]<<1,Y[T]=O;for(F=0;F<H;F+=2)(j=S[F+1])!=0&&(S[F]=Y[j],Y[j]++)},b.F.codes2map=function(S,_,O){for(var T=S.length,F=b.F.U.rev15,j=0;j<T;j+=2)if(S[j+1]!=0)for(var P=j>>1,H=S[j+1],I=P<<4|H,L=_-H,Y=S[j]<<L,q=Y+(1<<L);Y!=q;)O[F[Y]>>>15-_]=I,Y++},b.F.revCodes=function(S,_){for(var O=b.F.U.rev15,T=15-_,F=0;F<S.length;F+=2){var j=S[F]<<_-S[F+1];S[F]=O[j]>>>T}},b.F._putsE=function(S,_,O){O<<=7&_;var T=_>>>3;S[T]|=O,S[T+1]|=O>>>8},b.F._putsF=function(S,_,O){O<<=7&_;var T=_>>>3;S[T]|=O,S[T+1]|=O>>>8,S[T+2]|=O>>>16},b.F._bitsE=function(S,_,O){return(S[_>>>3]|S[1+(_>>>3)]<<8)>>>(7&_)&(1<<O)-1},b.F._bitsF=function(S,_,O){return(S[_>>>3]|S[1+(_>>>3)]<<8|S[2+(_>>>3)]<<16)>>>(7&_)&(1<<O)-1},b.F._get17=function(S,_){return(S[_>>>3]|S[1+(_>>>3)]<<8|S[2+(_>>>3)]<<16)>>>(7&_)},b.F._get25=function(S,_){return(S[_>>>3]|S[1+(_>>>3)]<<8|S[2+(_>>>3)]<<16|S[3+(_>>>3)]<<24)>>>(7&_)},b.F.U=(m=Uint16Array,y=Uint32Array,{next_code:new m(16),bl_count:new m(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new m(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new y(32),flmap:new m(512),fltree:[],fdmap:new m(32),fdtree:[],lmap:new m(32768),ltree:[],ttree:[],dmap:new m(32768),dtree:[],imap:new m(512),itree:[],rev15:new m(32768),lhst:new y(286),dhst:new y(30),ihst:new y(19),lits:new y(15e3),strt:new m(65536),prev:new m(32768)}),function(){for(var S=b.F.U,_=0;_<32768;_++){var O=_;O=(4278255360&(O=(4042322160&(O=(3435973836&(O=(2863311530&O)>>>1|(1431655765&O)<<1))>>>2|(858993459&O)<<2))>>>4|(252645135&O)<<4))>>>8|(16711935&O)<<8,S.rev15[_]=(O>>>16|O<<16)>>>17}function T(F,j,P){for(;j--!=0;)F.push(0,P)}for(_=0;_<32;_++)S.ldef[_]=S.of0[_]<<3|S.exb[_],S.ddef[_]=S.df0[_]<<4|S.dxb[_];T(S.fltree,144,8),T(S.fltree,112,9),T(S.fltree,24,7),T(S.fltree,8,8),b.F.makeCodes(S.fltree,9),b.F.codes2map(S.fltree,9,S.flmap),b.F.revCodes(S.fltree,9),T(S.fdtree,32,5),b.F.makeCodes(S.fdtree,5),b.F.codes2map(S.fdtree,5,S.fdmap),b.F.revCodes(S.fdtree,5),T(S.itree,19,0),T(S.ltree,286,0),T(S.dtree,30,0),T(S.ttree,320,0)}()})();var Yae=qae({__proto__:null,default:O8},[O8]);const Vm=function(){var f={nextZero(P,H){for(;P[H]!=0;)H++;return H},readUshort:(P,H)=>P[H]<<8|P[H+1],writeUshort(P,H,I){P[H]=I>>8&255,P[H+1]=255&I},readUint:(P,H)=>16777216*P[H]+(P[H+1]<<16|P[H+2]<<8|P[H+3]),writeUint(P,H,I){P[H]=I>>24&255,P[H+1]=I>>16&255,P[H+2]=I>>8&255,P[H+3]=255&I},readASCII(P,H,I){let L="";for(let Y=0;Y<I;Y++)L+=String.fromCharCode(P[H+Y]);return L},writeASCII(P,H,I){for(let L=0;L<I.length;L++)P[H+L]=I.charCodeAt(L)},readBytes(P,H,I){const L=[];for(let Y=0;Y<I;Y++)L.push(P[H+Y]);return L},pad:P=>P.length<2?`0${P}`:P,readUTF8(P,H,I){let L,Y="";for(let q=0;q<I;q++)Y+=`%${f.pad(P[H+q].toString(16))}`;try{L=decodeURIComponent(Y)}catch{return f.readASCII(P,H,I)}return L}};function m(P,H,I,L){const Y=H*I,q=_(L),$e=Math.ceil(H*q/8),de=new Uint8Array(4*Y),Be=new Uint32Array(de.buffer),{ctype:ne}=L,{depth:Se}=L,Te=f.readUshort;if(ne==6){const B=Y<<2;if(Se==8)for(var xe=0;xe<B;xe+=4)de[xe]=P[xe],de[xe+1]=P[xe+1],de[xe+2]=P[xe+2],de[xe+3]=P[xe+3];if(Se==16)for(xe=0;xe<B;xe++)de[xe]=P[xe<<1]}else if(ne==2){const B=L.tabs.tRNS;if(B==null){if(Se==8)for(xe=0;xe<Y;xe++){var Ge=3*xe;Be[xe]=255<<24|P[Ge+2]<<16|P[Ge+1]<<8|P[Ge]}if(Se==16)for(xe=0;xe<Y;xe++)Ge=6*xe,Be[xe]=255<<24|P[Ge+4]<<16|P[Ge+2]<<8|P[Ge]}else{var se=B[0];const kt=B[1],at=B[2];if(Se==8)for(xe=0;xe<Y;xe++){var pe=xe<<2;Ge=3*xe,Be[xe]=255<<24|P[Ge+2]<<16|P[Ge+1]<<8|P[Ge],P[Ge]==se&&P[Ge+1]==kt&&P[Ge+2]==at&&(de[pe+3]=0)}if(Se==16)for(xe=0;xe<Y;xe++)pe=xe<<2,Ge=6*xe,Be[xe]=255<<24|P[Ge+4]<<16|P[Ge+2]<<8|P[Ge],Te(P,Ge)==se&&Te(P,Ge+2)==kt&&Te(P,Ge+4)==at&&(de[pe+3]=0)}}else if(ne==3){const B=L.tabs.PLTE,kt=L.tabs.tRNS,at=kt?kt.length:0;if(Se==1)for(var ye=0;ye<I;ye++){var Me=ye*$e,re=ye*H;for(xe=0;xe<H;xe++){pe=re+xe<<2;var W=3*(ke=P[Me+(xe>>3)]>>7-((7&xe)<<0)&1);de[pe]=B[W],de[pe+1]=B[W+1],de[pe+2]=B[W+2],de[pe+3]=ke<at?kt[ke]:255}}if(Se==2)for(ye=0;ye<I;ye++)for(Me=ye*$e,re=ye*H,xe=0;xe<H;xe++)pe=re+xe<<2,W=3*(ke=P[Me+(xe>>2)]>>6-((3&xe)<<1)&3),de[pe]=B[W],de[pe+1]=B[W+1],de[pe+2]=B[W+2],de[pe+3]=ke<at?kt[ke]:255;if(Se==4)for(ye=0;ye<I;ye++)for(Me=ye*$e,re=ye*H,xe=0;xe<H;xe++)pe=re+xe<<2,W=3*(ke=P[Me+(xe>>1)]>>4-((1&xe)<<2)&15),de[pe]=B[W],de[pe+1]=B[W+1],de[pe+2]=B[W+2],de[pe+3]=ke<at?kt[ke]:255;if(Se==8)for(xe=0;xe<Y;xe++){var ke;pe=xe<<2,W=3*(ke=P[xe]),de[pe]=B[W],de[pe+1]=B[W+1],de[pe+2]=B[W+2],de[pe+3]=ke<at?kt[ke]:255}}else if(ne==4){if(Se==8)for(xe=0;xe<Y;xe++){pe=xe<<2;var et=P[le=xe<<1];de[pe]=et,de[pe+1]=et,de[pe+2]=et,de[pe+3]=P[le+1]}if(Se==16)for(xe=0;xe<Y;xe++){var le;pe=xe<<2,et=P[le=xe<<2],de[pe]=et,de[pe+1]=et,de[pe+2]=et,de[pe+3]=P[le+2]}}else if(ne==0)for(se=L.tabs.tRNS?L.tabs.tRNS:-1,ye=0;ye<I;ye++){const B=ye*$e,kt=ye*H;if(Se==1)for(var ge=0;ge<H;ge++){var ut=(et=255*(P[B+(ge>>>3)]>>>7-(7&ge)&1))==255*se?0:255;Be[kt+ge]=ut<<24|et<<16|et<<8|et}else if(Se==2)for(ge=0;ge<H;ge++)ut=(et=85*(P[B+(ge>>>2)]>>>6-((3&ge)<<1)&3))==85*se?0:255,Be[kt+ge]=ut<<24|et<<16|et<<8|et;else if(Se==4)for(ge=0;ge<H;ge++)ut=(et=17*(P[B+(ge>>>1)]>>>4-((1&ge)<<2)&15))==17*se?0:255,Be[kt+ge]=ut<<24|et<<16|et<<8|et;else if(Se==8)for(ge=0;ge<H;ge++)ut=(et=P[B+ge])==se?0:255,Be[kt+ge]=ut<<24|et<<16|et<<8|et;else if(Se==16)for(ge=0;ge<H;ge++)et=P[B+(ge<<1)],ut=Te(P,B+(ge<<1))==se?0:255,Be[kt+ge]=ut<<24|et<<16|et<<8|et}return de}function y(P,H,I,L){const Y=_(P),q=Math.ceil(I*Y/8),$e=new Uint8Array((q+1+P.interlace)*L);return H=P.tabs.CgBI?S(H,$e):b(H,$e),P.interlace==0?H=O(H,P,0,I,L):P.interlace==1&&(H=function(Be,ne){const Se=ne.width,Te=ne.height,xe=_(ne),Ge=xe>>3,se=Math.ceil(Se*xe/8),pe=new Uint8Array(Te*se);let ye=0;const Me=[0,0,4,0,2,0,1],re=[0,4,0,2,0,1,0],W=[8,8,8,4,4,2,2],ke=[8,8,4,4,2,2,1];let et=0;for(;et<7;){const ge=W[et],ut=ke[et];let B=0,kt=0,at=Me[et];for(;at<Te;)at+=ge,kt++;let ot=re[et];for(;ot<Se;)ot+=ut,B++;const kn=Math.ceil(B*xe/8);O(Be,ne,ye,B,kt);let cn=0,lt=Me[et];for(;lt<Te;){let Sn=re[et],te=ye+cn*kn<<3;for(;Sn<Se;){var le;if(xe==1&&(le=(le=Be[te>>3])>>7-(7&te)&1,pe[lt*se+(Sn>>3)]|=le<<7-((7&Sn)<<0)),xe==2&&(le=(le=Be[te>>3])>>6-(7&te)&3,pe[lt*se+(Sn>>2)]|=le<<6-((3&Sn)<<1)),xe==4&&(le=(le=Be[te>>3])>>4-(7&te)&15,pe[lt*se+(Sn>>1)]|=le<<4-((1&Sn)<<2)),xe>=8){const fn=lt*se+Sn*Ge;for(let Ue=0;Ue<Ge;Ue++)pe[fn+Ue]=Be[(te>>3)+Ue]}te+=xe,Sn+=ut}cn++,lt+=ge}B*kt!=0&&(ye+=kt*(1+kn)),et+=1}return pe}(H,P)),H}function b(P,H){return S(new Uint8Array(P.buffer,2,P.length-6),H)}var S=function(){const P={H:{}};return P.H.N=function(H,I){const L=Uint8Array;let Y,q,$e=0,de=0,Be=0,ne=0,Se=0,Te=0,xe=0,Ge=0,se=0;if(H[0]==3&&H[1]==0)return I||new L(0);const pe=P.H,ye=pe.b,Me=pe.e,re=pe.R,W=pe.n,ke=pe.A,et=pe.Z,le=pe.m,ge=I==null;for(ge&&(I=new L(H.length>>>2<<5));$e==0;)if($e=ye(H,se,1),de=ye(H,se+1,2),se+=3,de!=0){if(ge&&(I=P.H.W(I,Ge+(1<<17))),de==1&&(Y=le.J,q=le.h,Te=511,xe=31),de==2){Be=Me(H,se,5)+257,ne=Me(H,se+5,5)+1,Se=Me(H,se+10,4)+4,se+=14;let B=1;for(var ut=0;ut<38;ut+=2)le.Q[ut]=0,le.Q[ut+1]=0;for(ut=0;ut<Se;ut++){const ot=Me(H,se+3*ut,3);le.Q[1+(le.X[ut]<<1)]=ot,ot>B&&(B=ot)}se+=3*Se,W(le.Q,B),ke(le.Q,B,le.u),Y=le.w,q=le.d,se=re(le.u,(1<<B)-1,Be+ne,H,se,le.v);const kt=pe.V(le.v,0,Be,le.C);Te=(1<<kt)-1;const at=pe.V(le.v,Be,ne,le.D);xe=(1<<at)-1,W(le.C,kt),ke(le.C,kt,Y),W(le.D,at),ke(le.D,at,q)}for(;;){const B=Y[et(H,se)&Te];se+=15&B;const kt=B>>>4;if(!(kt>>>8))I[Ge++]=kt;else{if(kt==256)break;{let at=Ge+kt-254;if(kt>264){const Sn=le.q[kt-257];at=Ge+(Sn>>>3)+Me(H,se,7&Sn),se+=7&Sn}const ot=q[et(H,se)&xe];se+=15&ot;const kn=ot>>>4,cn=le.c[kn],lt=(cn>>>4)+ye(H,se,15&cn);for(se+=15&cn;Ge<at;)I[Ge]=I[Ge++-lt],I[Ge]=I[Ge++-lt],I[Ge]=I[Ge++-lt],I[Ge]=I[Ge++-lt];Ge=at}}}}else{7&se&&(se+=8-(7&se));const B=4+(se>>>3),kt=H[B-4]|H[B-3]<<8;ge&&(I=P.H.W(I,Ge+kt)),I.set(new L(H.buffer,H.byteOffset+B,kt),Ge),se=B+kt<<3,Ge+=kt}return I.length==Ge?I:I.slice(0,Ge)},P.H.W=function(H,I){const L=H.length;if(I<=L)return H;const Y=new Uint8Array(L<<1);return Y.set(H,0),Y},P.H.R=function(H,I,L,Y,q,$e){const de=P.H.e,Be=P.H.Z;let ne=0;for(;ne<L;){const Se=H[Be(Y,q)&I];q+=15&Se;const Te=Se>>>4;if(Te<=15)$e[ne]=Te,ne++;else{let xe=0,Ge=0;Te==16?(Ge=3+de(Y,q,2),q+=2,xe=$e[ne-1]):Te==17?(Ge=3+de(Y,q,3),q+=3):Te==18&&(Ge=11+de(Y,q,7),q+=7);const se=ne+Ge;for(;ne<se;)$e[ne]=xe,ne++}}return q},P.H.V=function(H,I,L,Y){let q=0,$e=0;const de=Y.length>>>1;for(;$e<L;){const Be=H[$e+I];Y[$e<<1]=0,Y[1+($e<<1)]=Be,Be>q&&(q=Be),$e++}for(;$e<de;)Y[$e<<1]=0,Y[1+($e<<1)]=0,$e++;return q},P.H.n=function(H,I){const L=P.H.m,Y=H.length;let q,$e,de,Be;const ne=L.j;for(var Se=0;Se<=I;Se++)ne[Se]=0;for(Se=1;Se<Y;Se+=2)ne[H[Se]]++;const Te=L.K;for(q=0,ne[0]=0,$e=1;$e<=I;$e++)q=q+ne[$e-1]<<1,Te[$e]=q;for(de=0;de<Y;de+=2)Be=H[de+1],Be!=0&&(H[de]=Te[Be],Te[Be]++)},P.H.A=function(H,I,L){const Y=H.length,q=P.H.m.r;for(let $e=0;$e<Y;$e+=2)if(H[$e+1]!=0){const de=$e>>1,Be=H[$e+1],ne=de<<4|Be,Se=I-Be;let Te=H[$e]<<Se;const xe=Te+(1<<Se);for(;Te!=xe;)L[q[Te]>>>15-I]=ne,Te++}},P.H.l=function(H,I){const L=P.H.m.r,Y=15-I;for(let q=0;q<H.length;q+=2){const $e=H[q]<<I-H[q+1];H[q]=L[$e]>>>Y}},P.H.M=function(H,I,L){L<<=7&I;const Y=I>>>3;H[Y]|=L,H[Y+1]|=L>>>8},P.H.I=function(H,I,L){L<<=7&I;const Y=I>>>3;H[Y]|=L,H[Y+1]|=L>>>8,H[Y+2]|=L>>>16},P.H.e=function(H,I,L){return(H[I>>>3]|H[1+(I>>>3)]<<8)>>>(7&I)&(1<<L)-1},P.H.b=function(H,I,L){return(H[I>>>3]|H[1+(I>>>3)]<<8|H[2+(I>>>3)]<<16)>>>(7&I)&(1<<L)-1},P.H.Z=function(H,I){return(H[I>>>3]|H[1+(I>>>3)]<<8|H[2+(I>>>3)]<<16)>>>(7&I)},P.H.i=function(H,I){return(H[I>>>3]|H[1+(I>>>3)]<<8|H[2+(I>>>3)]<<16|H[3+(I>>>3)]<<24)>>>(7&I)},P.H.m=function(){const H=Uint16Array,I=Uint32Array;return{K:new H(16),j:new H(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new H(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new I(32),J:new H(512),_:[],h:new H(32),$:[],w:new H(32768),C:[],v:[],d:new H(32768),D:[],u:new H(512),Q:[],r:new H(32768),s:new I(286),Y:new I(30),a:new I(19),t:new I(15e3),k:new H(65536),g:new H(32768)}}(),function(){const H=P.H.m;for(var I=0;I<32768;I++){let Y=I;Y=(2863311530&Y)>>>1|(1431655765&Y)<<1,Y=(3435973836&Y)>>>2|(858993459&Y)<<2,Y=(4042322160&Y)>>>4|(252645135&Y)<<4,Y=(4278255360&Y)>>>8|(16711935&Y)<<8,H.r[I]=(Y>>>16|Y<<16)>>>17}function L(Y,q,$e){for(;q--!=0;)Y.push(0,$e)}for(I=0;I<32;I++)H.q[I]=H.S[I]<<3|H.T[I],H.c[I]=H.p[I]<<4|H.z[I];L(H._,144,8),L(H._,112,9),L(H._,24,7),L(H._,8,8),P.H.n(H._,9),P.H.A(H._,9,H.J),P.H.l(H._,9),L(H.$,32,5),P.H.n(H.$,5),P.H.A(H.$,5,H.h),P.H.l(H.$,5),L(H.Q,19,0),L(H.C,286,0),L(H.D,30,0),L(H.v,320,0)}(),P.H.N}();function _(P){return[1,null,3,1,2,null,4][P.ctype]*P.depth}function O(P,H,I,L,Y){let q=_(H);const $e=Math.ceil(L*q/8);let de,Be;q=Math.ceil(q/8);let ne=P[I],Se=0;if(ne>1&&(P[I]=[0,0,1][ne-2]),ne==3)for(Se=q;Se<$e;Se++)P[Se+1]=P[Se+1]+(P[Se+1-q]>>>1)&255;for(let Te=0;Te<Y;Te++)if(de=I+Te*$e,Be=de+Te+1,ne=P[Be-1],Se=0,ne==0)for(;Se<$e;Se++)P[de+Se]=P[Be+Se];else if(ne==1){for(;Se<q;Se++)P[de+Se]=P[Be+Se];for(;Se<$e;Se++)P[de+Se]=P[Be+Se]+P[de+Se-q]}else if(ne==2)for(;Se<$e;Se++)P[de+Se]=P[Be+Se]+P[de+Se-$e];else if(ne==3){for(;Se<q;Se++)P[de+Se]=P[Be+Se]+(P[de+Se-$e]>>>1);for(;Se<$e;Se++)P[de+Se]=P[Be+Se]+(P[de+Se-$e]+P[de+Se-q]>>>1)}else{for(;Se<q;Se++)P[de+Se]=P[Be+Se]+T(0,P[de+Se-$e],0);for(;Se<$e;Se++)P[de+Se]=P[Be+Se]+T(P[de+Se-q],P[de+Se-$e],P[de+Se-q-$e])}return P}function T(P,H,I){const L=P+H-I,Y=L-P,q=L-H,$e=L-I;return Y*Y<=q*q&&Y*Y<=$e*$e?P:q*q<=$e*$e?H:I}function F(P,H,I){I.width=f.readUint(P,H),H+=4,I.height=f.readUint(P,H),H+=4,I.depth=P[H],H++,I.ctype=P[H],H++,I.compress=P[H],H++,I.filter=P[H],H++,I.interlace=P[H],H++}function j(P,H,I,L,Y,q,$e,de,Be){const ne=Math.min(H,Y),Se=Math.min(I,q);let Te=0,xe=0;for(let et=0;et<Se;et++)for(let le=0;le<ne;le++)if($e>=0&&de>=0?(Te=et*H+le<<2,xe=(de+et)*Y+$e+le<<2):(Te=(-de+et)*H-$e+le<<2,xe=et*Y+le<<2),Be==0)L[xe]=P[Te],L[xe+1]=P[Te+1],L[xe+2]=P[Te+2],L[xe+3]=P[Te+3];else if(Be==1){var Ge=P[Te+3]*.00392156862745098,se=P[Te]*Ge,pe=P[Te+1]*Ge,ye=P[Te+2]*Ge,Me=L[xe+3]*(1/255),re=L[xe]*Me,W=L[xe+1]*Me,ke=L[xe+2]*Me;const ge=1-Ge,ut=Ge+Me*ge,B=ut==0?0:1/ut;L[xe+3]=255*ut,L[xe+0]=(se+re*ge)*B,L[xe+1]=(pe+W*ge)*B,L[xe+2]=(ye+ke*ge)*B}else if(Be==2)Ge=P[Te+3],se=P[Te],pe=P[Te+1],ye=P[Te+2],Me=L[xe+3],re=L[xe],W=L[xe+1],ke=L[xe+2],Ge==Me&&se==re&&pe==W&&ye==ke?(L[xe]=0,L[xe+1]=0,L[xe+2]=0,L[xe+3]=0):(L[xe]=se,L[xe+1]=pe,L[xe+2]=ye,L[xe+3]=Ge);else if(Be==3){if(Ge=P[Te+3],se=P[Te],pe=P[Te+1],ye=P[Te+2],Me=L[xe+3],re=L[xe],W=L[xe+1],ke=L[xe+2],Ge==Me&&se==re&&pe==W&&ye==ke)continue;if(Ge<220&&Me>20)return!1}return!0}return{decode:function(H){const I=new Uint8Array(H);let L=8;const Y=f,q=Y.readUshort,$e=Y.readUint,de={tabs:{},frames:[]},Be=new Uint8Array(I.length);let ne,Se=0,Te=0;const xe=[137,80,78,71,13,10,26,10];for(var Ge=0;Ge<8;Ge++)if(I[Ge]!=xe[Ge])throw"The input is not a PNG file!";for(;L<I.length;){const et=Y.readUint(I,L);L+=4;const le=Y.readASCII(I,L,4);if(L+=4,le=="IHDR")F(I,L,de);else if(le=="iCCP"){for(var se=L;I[se]!=0;)se++;Y.readASCII(I,L,se-L),I[se+1];const ge=I.slice(se+2,L+et);let ut=null;try{ut=b(ge)}catch{ut=S(ge)}de.tabs[le]=ut}else if(le=="CgBI")de.tabs[le]=I.slice(L,L+4);else if(le=="IDAT"){for(Ge=0;Ge<et;Ge++)Be[Se+Ge]=I[L+Ge];Se+=et}else if(le=="acTL")de.tabs[le]={num_frames:$e(I,L),num_plays:$e(I,L+4)},ne=new Uint8Array(I.length);else if(le=="fcTL"){Te!=0&&((ke=de.frames[de.frames.length-1]).data=y(de,ne.slice(0,Te),ke.rect.width,ke.rect.height),Te=0);const ge={x:$e(I,L+12),y:$e(I,L+16),width:$e(I,L+4),height:$e(I,L+8)};let ut=q(I,L+22);ut=q(I,L+20)/(ut==0?100:ut);const B={rect:ge,delay:Math.round(1e3*ut),dispose:I[L+24],blend:I[L+25]};de.frames.push(B)}else if(le=="fdAT"){for(Ge=0;Ge<et-4;Ge++)ne[Te+Ge]=I[L+Ge+4];Te+=et-4}else if(le=="pHYs")de.tabs[le]=[Y.readUint(I,L),Y.readUint(I,L+4),I[L+8]];else if(le=="cHRM")for(de.tabs[le]=[],Ge=0;Ge<8;Ge++)de.tabs[le].push(Y.readUint(I,L+4*Ge));else if(le=="tEXt"||le=="zTXt"){de.tabs[le]==null&&(de.tabs[le]={});var pe=Y.nextZero(I,L),ye=Y.readASCII(I,L,pe-L),Me=L+et-pe-1;if(le=="tEXt")W=Y.readASCII(I,pe+1,Me);else{var re=b(I.slice(pe+2,pe+2+Me));W=Y.readUTF8(re,0,re.length)}de.tabs[le][ye]=W}else if(le=="iTXt"){de.tabs[le]==null&&(de.tabs[le]={}),pe=0,se=L,pe=Y.nextZero(I,se),ye=Y.readASCII(I,se,pe-se);const ge=I[se=pe+1];var W;I[se+1],se+=2,pe=Y.nextZero(I,se),Y.readASCII(I,se,pe-se),se=pe+1,pe=Y.nextZero(I,se),Y.readUTF8(I,se,pe-se),Me=et-((se=pe+1)-L),ge==0?W=Y.readUTF8(I,se,Me):(re=b(I.slice(se,se+Me)),W=Y.readUTF8(re,0,re.length)),de.tabs[le][ye]=W}else if(le=="PLTE")de.tabs[le]=Y.readBytes(I,L,et);else if(le=="hIST"){const ge=de.tabs.PLTE.length/3;for(de.tabs[le]=[],Ge=0;Ge<ge;Ge++)de.tabs[le].push(q(I,L+2*Ge))}else if(le=="tRNS")de.ctype==3?de.tabs[le]=Y.readBytes(I,L,et):de.ctype==0?de.tabs[le]=q(I,L):de.ctype==2&&(de.tabs[le]=[q(I,L),q(I,L+2),q(I,L+4)]);else if(le=="gAMA")de.tabs[le]=Y.readUint(I,L)/1e5;else if(le=="sRGB")de.tabs[le]=I[L];else if(le=="bKGD")de.ctype==0||de.ctype==4?de.tabs[le]=[q(I,L)]:de.ctype==2||de.ctype==6?de.tabs[le]=[q(I,L),q(I,L+2),q(I,L+4)]:de.ctype==3&&(de.tabs[le]=I[L]);else if(le=="IEND")break;L+=et,Y.readUint(I,L),L+=4}var ke;return Te!=0&&((ke=de.frames[de.frames.length-1]).data=y(de,ne.slice(0,Te),ke.rect.width,ke.rect.height)),de.data=y(de,Be,de.width,de.height),delete de.compress,delete de.interlace,delete de.filter,de},toRGBA8:function(H){const I=H.width,L=H.height;if(H.tabs.acTL==null)return[m(H.data,I,L,H).buffer];const Y=[];H.frames[0].data==null&&(H.frames[0].data=H.data);const q=I*L*4,$e=new Uint8Array(q),de=new Uint8Array(q),Be=new Uint8Array(q);for(let Se=0;Se<H.frames.length;Se++){const Te=H.frames[Se],xe=Te.rect.x,Ge=Te.rect.y,se=Te.rect.width,pe=Te.rect.height,ye=m(Te.data,se,pe,H);if(Se!=0)for(var ne=0;ne<q;ne++)Be[ne]=$e[ne];if(Te.blend==0?j(ye,se,pe,$e,I,L,xe,Ge,0):Te.blend==1&&j(ye,se,pe,$e,I,L,xe,Ge,1),Y.push($e.buffer.slice(0)),Te.dispose!=0){if(Te.dispose==1)j(de,se,pe,$e,I,L,xe,Ge,0);else if(Te.dispose==2)for(ne=0;ne<q;ne++)$e[ne]=Be[ne]}}return Y},_paeth:T,_copyTile:j,_bin:f}}();(function(){const{_copyTile:f}=Vm,{_bin:m}=Vm,y=Vm._paeth;var b={table:function(){const se=new Uint32Array(256);for(let pe=0;pe<256;pe++){let ye=pe;for(let Me=0;Me<8;Me++)1&ye?ye=3988292384^ye>>>1:ye>>>=1;se[pe]=ye}return se}(),update(se,pe,ye,Me){for(let re=0;re<Me;re++)se=b.table[255&(se^pe[ye+re])]^se>>>8;return se},crc:(se,pe,ye)=>4294967295^b.update(4294967295,se,pe,ye)};function S(se,pe,ye,Me){pe[ye]+=se[0]*Me>>4,pe[ye+1]+=se[1]*Me>>4,pe[ye+2]+=se[2]*Me>>4,pe[ye+3]+=se[3]*Me>>4}function _(se){return Math.max(0,Math.min(255,se))}function O(se,pe){const ye=se[0]-pe[0],Me=se[1]-pe[1],re=se[2]-pe[2],W=se[3]-pe[3];return ye*ye+Me*Me+re*re+W*W}function T(se,pe,ye,Me,re,W,ke){ke==null&&(ke=1);const et=Me.length,le=[];for(var ge=0;ge<et;ge++){const lt=Me[ge];le.push([lt>>>0&255,lt>>>8&255,lt>>>16&255,lt>>>24&255])}for(ge=0;ge<et;ge++){let lt=4294967295;for(var ut=0,B=0;B<et;B++){var kt=O(le[ge],le[B]);B!=ge&&kt<lt&&(lt=kt,ut=B)}}const at=new Uint32Array(re.buffer),ot=new Int16Array(pe*ye*4),kn=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(ge=0;ge<kn.length;ge++)kn[ge]=255*((kn[ge]+.5)/16-.5);for(let lt=0;lt<ye;lt++)for(let Sn=0;Sn<pe;Sn++){var cn;ge=4*(lt*pe+Sn),ke!=2?cn=[_(se[ge]+ot[ge]),_(se[ge+1]+ot[ge+1]),_(se[ge+2]+ot[ge+2]),_(se[ge+3]+ot[ge+3])]:(kt=kn[4*(3&lt)+(3&Sn)],cn=[_(se[ge]+kt),_(se[ge+1]+kt),_(se[ge+2]+kt),_(se[ge+3]+kt)]),ut=0;let te=16777215;for(B=0;B<et;B++){const gt=O(cn,le[B]);gt<te&&(te=gt,ut=B)}const fn=le[ut],Ue=[cn[0]-fn[0],cn[1]-fn[1],cn[2]-fn[2],cn[3]-fn[3]];ke==1&&(Sn!=pe-1&&S(Ue,ot,ge+4,7),lt!=ye-1&&(Sn!=0&&S(Ue,ot,ge+4*pe-4,3),S(Ue,ot,ge+4*pe,5),Sn!=pe-1&&S(Ue,ot,ge+4*pe+4,1))),W[ge>>2]=ut,at[ge>>2]=Me[ut]}}function F(se,pe,ye,Me,re){re==null&&(re={});const{crc:W}=b,ke=m.writeUint,et=m.writeUshort,le=m.writeASCII;let ge=8;const ut=se.frames.length>1;let B,kt=!1,at=33+(ut?20:0);if(re.sRGB!=null&&(at+=13),re.pHYs!=null&&(at+=21),re.iCCP!=null&&(B=pako.deflate(re.iCCP),at+=21+B.length+4),se.ctype==3){for(var ot=se.plte.length,kn=0;kn<ot;kn++)se.plte[kn]>>>24!=255&&(kt=!0);at+=8+3*ot+4+(kt?8+1*ot+4:0)}for(var cn=0;cn<se.frames.length;cn++)ut&&(at+=38),at+=(fn=se.frames[cn]).cimg.length+12,cn!=0&&(at+=4);at+=12;const lt=new Uint8Array(at),Sn=[137,80,78,71,13,10,26,10];for(kn=0;kn<8;kn++)lt[kn]=Sn[kn];if(ke(lt,ge,13),ge+=4,le(lt,ge,"IHDR"),ge+=4,ke(lt,ge,pe),ge+=4,ke(lt,ge,ye),ge+=4,lt[ge]=se.depth,ge++,lt[ge]=se.ctype,ge++,lt[ge]=0,ge++,lt[ge]=0,ge++,lt[ge]=0,ge++,ke(lt,ge,W(lt,ge-17,17)),ge+=4,re.sRGB!=null&&(ke(lt,ge,1),ge+=4,le(lt,ge,"sRGB"),ge+=4,lt[ge]=re.sRGB,ge++,ke(lt,ge,W(lt,ge-5,5)),ge+=4),re.iCCP!=null){const Ue=13+B.length;ke(lt,ge,Ue),ge+=4,le(lt,ge,"iCCP"),ge+=4,le(lt,ge,"ICC profile"),ge+=11,ge+=2,lt.set(B,ge),ge+=B.length,ke(lt,ge,W(lt,ge-(Ue+4),Ue+4)),ge+=4}if(re.pHYs!=null&&(ke(lt,ge,9),ge+=4,le(lt,ge,"pHYs"),ge+=4,ke(lt,ge,re.pHYs[0]),ge+=4,ke(lt,ge,re.pHYs[1]),ge+=4,lt[ge]=re.pHYs[2],ge++,ke(lt,ge,W(lt,ge-13,13)),ge+=4),ut&&(ke(lt,ge,8),ge+=4,le(lt,ge,"acTL"),ge+=4,ke(lt,ge,se.frames.length),ge+=4,ke(lt,ge,re.loop!=null?re.loop:0),ge+=4,ke(lt,ge,W(lt,ge-12,12)),ge+=4),se.ctype==3){for(ke(lt,ge,3*(ot=se.plte.length)),ge+=4,le(lt,ge,"PLTE"),ge+=4,kn=0;kn<ot;kn++){const Ue=3*kn,gt=se.plte[kn],Xn=255&gt,Oe=gt>>>8&255,Ee=gt>>>16&255;lt[ge+Ue+0]=Xn,lt[ge+Ue+1]=Oe,lt[ge+Ue+2]=Ee}if(ge+=3*ot,ke(lt,ge,W(lt,ge-3*ot-4,3*ot+4)),ge+=4,kt){for(ke(lt,ge,ot),ge+=4,le(lt,ge,"tRNS"),ge+=4,kn=0;kn<ot;kn++)lt[ge+kn]=se.plte[kn]>>>24&255;ge+=ot,ke(lt,ge,W(lt,ge-ot-4,ot+4)),ge+=4}}let te=0;for(cn=0;cn<se.frames.length;cn++){var fn=se.frames[cn];ut&&(ke(lt,ge,26),ge+=4,le(lt,ge,"fcTL"),ge+=4,ke(lt,ge,te++),ge+=4,ke(lt,ge,fn.rect.width),ge+=4,ke(lt,ge,fn.rect.height),ge+=4,ke(lt,ge,fn.rect.x),ge+=4,ke(lt,ge,fn.rect.y),ge+=4,et(lt,ge,Me[cn]),ge+=2,et(lt,ge,1e3),ge+=2,lt[ge]=fn.dispose,ge++,lt[ge]=fn.blend,ge++,ke(lt,ge,W(lt,ge-30,30)),ge+=4);const Ue=fn.cimg;ke(lt,ge,(ot=Ue.length)+(cn==0?0:4)),ge+=4;const gt=ge;le(lt,ge,cn==0?"IDAT":"fdAT"),ge+=4,cn!=0&&(ke(lt,ge,te++),ge+=4),lt.set(Ue,ge),ge+=ot,ke(lt,ge,W(lt,gt,ge-gt)),ge+=4}return ke(lt,ge,0),ge+=4,le(lt,ge,"IEND"),ge+=4,ke(lt,ge,W(lt,ge-4,4)),ge+=4,lt.buffer}function j(se,pe,ye){for(let Me=0;Me<se.frames.length;Me++){const re=se.frames[Me];re.rect.width;const W=re.rect.height,ke=new Uint8Array(W*re.bpl+W);re.cimg=L(re.img,W,re.bpp,re.bpl,ke,pe,ye)}}function P(se,pe,ye,Me,re){const W=re[0],ke=re[1],et=re[2],le=re[3],ge=re[4],ut=re[5];let B=6,kt=8,at=255;for(var ot=0;ot<se.length;ot++){const He=new Uint8Array(se[ot]);for(var kn=He.length,cn=0;cn<kn;cn+=4)at&=He[cn+3]}const lt=at!=255,Sn=function(pt,Jt,it,Wt,Rt,zt){const rn=[];for(var pn=0;pn<pt.length;pn++){const va=new Uint8Array(pt[pn]),Qr=new Uint32Array(va.buffer);var Kn;let Hr=0,da=0,Ur=Jt,fr=it,Na=Wt?1:0;if(pn!=0){const Zi=zt||Wt||pn==1||rn[pn-2].dispose!=0?1:2;let Kl=0,Vr=1e9;for(let Si=0;Si<Zi;Si++){var cr=new Uint8Array(pt[pn-1-Si]);const Ju=new Uint32Array(pt[pn-1-Si]);let _i=Jt,En=it,Pr=-1,lo=-1;for(let Zu=0;Zu<it;Zu++)for(let Ir=0;Ir<Jt;Ir++)Qr[or=Zu*Jt+Ir]!=Ju[or]&&(Ir<_i&&(_i=Ir),Ir>Pr&&(Pr=Ir),Zu<En&&(En=Zu),Zu>lo&&(lo=Zu));Pr==-1&&(_i=En=Pr=lo=0),Rt&&((1&_i)==1&&_i--,(1&En)==1&&En--);const lu=(Pr-_i+1)*(lo-En+1);lu<Vr&&(Vr=lu,Kl=Si,Hr=_i,da=En,Ur=Pr-_i+1,fr=lo-En+1)}cr=new Uint8Array(pt[pn-1-Kl]),Kl==1&&(rn[pn-1].dispose=2),Kn=new Uint8Array(Ur*fr*4),f(cr,Jt,it,Kn,Ur,fr,-Hr,-da,0),Na=f(va,Jt,it,Kn,Ur,fr,-Hr,-da,3)?1:0,Na==1?I(va,Jt,it,Kn,{x:Hr,y:da,width:Ur,height:fr}):f(va,Jt,it,Kn,Ur,fr,-Hr,-da,0)}else Kn=va.slice(0);rn.push({rect:{x:Hr,y:da,width:Ur,height:fr},img:Kn,blend:Na,dispose:0})}if(Wt)for(pn=0;pn<rn.length;pn++){if((ua=rn[pn]).blend==1)continue;const va=ua.rect,Qr=rn[pn-1].rect,Hr=Math.min(va.x,Qr.x),da=Math.min(va.y,Qr.y),Ur={x:Hr,y:da,width:Math.max(va.x+va.width,Qr.x+Qr.width)-Hr,height:Math.max(va.y+va.height,Qr.y+Qr.height)-da};rn[pn-1].dispose=1,pn-1!=0&&H(pt,Jt,it,rn,pn-1,Ur,Rt),H(pt,Jt,it,rn,pn,Ur,Rt)}let qr=0;if(pt.length!=1)for(var or=0;or<rn.length;or++){var ua;qr+=(ua=rn[or]).rect.width*ua.rect.height}return rn}(se,pe,ye,W,ke,et),te={},fn=[],Ue=[];if(Me!=0){const He=[];for(cn=0;cn<Sn.length;cn++)He.push(Sn[cn].img.buffer);const pt=function(Rt){let zt=0;for(var rn=0;rn<Rt.length;rn++)zt+=Rt[rn].byteLength;const pn=new Uint8Array(zt);let Kn=0;for(rn=0;rn<Rt.length;rn++){const cr=new Uint8Array(Rt[rn]),qr=cr.length;for(let or=0;or<qr;or+=4){let ua=cr[or],va=cr[or+1],Qr=cr[or+2];const Hr=cr[or+3];Hr==0&&(ua=va=Qr=0),pn[Kn+or]=ua,pn[Kn+or+1]=va,pn[Kn+or+2]=Qr,pn[Kn+or+3]=Hr}Kn+=qr}return pn.buffer}(He),Jt=q(pt,Me);for(cn=0;cn<Jt.plte.length;cn++)fn.push(Jt.plte[cn].est.rgba);let it=0;for(cn=0;cn<Sn.length;cn++){const Wt=(Xn=Sn[cn]).img.length;var gt=new Uint8Array(Jt.inds.buffer,it>>2,Wt>>2);Ue.push(gt);const Rt=new Uint8Array(Jt.abuf,it,Wt);ut&&T(Xn.img,Xn.rect.width,Xn.rect.height,fn,Rt,gt),Xn.img.set(Rt),it+=Wt}}else for(ot=0;ot<Sn.length;ot++){var Xn=Sn[ot];const He=new Uint32Array(Xn.img.buffer);var Oe=Xn.rect.width;for(kn=He.length,gt=new Uint8Array(kn),Ue.push(gt),cn=0;cn<kn;cn++){const pt=He[cn];if(cn!=0&&pt==He[cn-1])gt[cn]=gt[cn-1];else if(cn>Oe&&pt==He[cn-Oe])gt[cn]=gt[cn-Oe];else{let Jt=te[pt];if(Jt==null&&(te[pt]=Jt=fn.length,fn.push(pt),fn.length>=300))break;gt[cn]=Jt}}}const Ee=fn.length;for(Ee<=256&&ge==0&&(kt=Ee<=2?1:Ee<=4?2:Ee<=16?4:8,kt=Math.max(kt,le)),ot=0;ot<Sn.length;ot++){(Xn=Sn[ot]).rect.x,Xn.rect.y,Oe=Xn.rect.width;const He=Xn.rect.height;let pt=Xn.img;new Uint32Array(pt.buffer);let Jt=4*Oe,it=4;if(Ee<=256&&ge==0){Jt=Math.ceil(kt*Oe/8);var Ze=new Uint8Array(Jt*He);const Wt=Ue[ot];for(let Rt=0;Rt<He;Rt++){cn=Rt*Jt;const zt=Rt*Oe;if(kt==8)for(var tt=0;tt<Oe;tt++)Ze[cn+tt]=Wt[zt+tt];else if(kt==4)for(tt=0;tt<Oe;tt++)Ze[cn+(tt>>1)]|=Wt[zt+tt]<<4-4*(1&tt);else if(kt==2)for(tt=0;tt<Oe;tt++)Ze[cn+(tt>>2)]|=Wt[zt+tt]<<6-2*(3&tt);else if(kt==1)for(tt=0;tt<Oe;tt++)Ze[cn+(tt>>3)]|=Wt[zt+tt]<<7-1*(7&tt)}pt=Ze,B=3,it=1}else if(lt==0&&Sn.length==1){Ze=new Uint8Array(Oe*He*3);const Wt=Oe*He;for(cn=0;cn<Wt;cn++){const Rt=3*cn,zt=4*cn;Ze[Rt]=pt[zt],Ze[Rt+1]=pt[zt+1],Ze[Rt+2]=pt[zt+2]}pt=Ze,B=2,it=3,Jt=3*Oe}Xn.img=pt,Xn.bpl=Jt,Xn.bpp=it}return{ctype:B,depth:kt,plte:fn,frames:Sn}}function H(se,pe,ye,Me,re,W,ke){const et=Uint8Array,le=Uint32Array,ge=new et(se[re-1]),ut=new le(se[re-1]),B=re+1<se.length?new et(se[re+1]):null,kt=new et(se[re]),at=new le(kt.buffer);let ot=pe,kn=ye,cn=-1,lt=-1;for(let te=0;te<W.height;te++)for(let fn=0;fn<W.width;fn++){const Ue=W.x+fn,gt=W.y+te,Xn=gt*pe+Ue,Oe=at[Xn];Oe==0||Me[re-1].dispose==0&&ut[Xn]==Oe&&(B==null||B[4*Xn+3]!=0)||(Ue<ot&&(ot=Ue),Ue>cn&&(cn=Ue),gt<kn&&(kn=gt),gt>lt&&(lt=gt))}cn==-1&&(ot=kn=cn=lt=0),ke&&((1&ot)==1&&ot--,(1&kn)==1&&kn--),W={x:ot,y:kn,width:cn-ot+1,height:lt-kn+1};const Sn=Me[re];Sn.rect=W,Sn.blend=1,Sn.img=new Uint8Array(W.width*W.height*4),Me[re-1].dispose==0?(f(ge,pe,ye,Sn.img,W.width,W.height,-W.x,-W.y,0),I(kt,pe,ye,Sn.img,W)):f(kt,pe,ye,Sn.img,W.width,W.height,-W.x,-W.y,0)}function I(se,pe,ye,Me,re){f(se,pe,ye,Me,re.width,re.height,-re.x,-re.y,2)}function L(se,pe,ye,Me,re,W,ke){const et=[];let le,ge=[0,1,2,3,4];W!=-1?ge=[W]:(pe*Me>5e5||ye==1)&&(ge=[0]),ke&&(le={level:0});const ut=Yae;for(var B=0;B<ge.length;B++){for(let ot=0;ot<pe;ot++)Y(re,se,ot,Me,ye,ge[B]);et.push(ut.deflate(re,le))}let kt,at=1e9;for(B=0;B<et.length;B++)et[B].length<at&&(kt=B,at=et[B].length);return et[kt]}function Y(se,pe,ye,Me,re,W){const ke=ye*Me;let et=ke+ye;if(se[et]=W,et++,W==0)if(Me<500)for(var le=0;le<Me;le++)se[et+le]=pe[ke+le];else se.set(new Uint8Array(pe.buffer,ke,Me),et);else if(W==1){for(le=0;le<re;le++)se[et+le]=pe[ke+le];for(le=re;le<Me;le++)se[et+le]=pe[ke+le]-pe[ke+le-re]+256&255}else if(ye==0){for(le=0;le<re;le++)se[et+le]=pe[ke+le];if(W==2)for(le=re;le<Me;le++)se[et+le]=pe[ke+le];if(W==3)for(le=re;le<Me;le++)se[et+le]=pe[ke+le]-(pe[ke+le-re]>>1)+256&255;if(W==4)for(le=re;le<Me;le++)se[et+le]=pe[ke+le]-y(pe[ke+le-re],0,0)+256&255}else{if(W==2)for(le=0;le<Me;le++)se[et+le]=pe[ke+le]+256-pe[ke+le-Me]&255;if(W==3){for(le=0;le<re;le++)se[et+le]=pe[ke+le]+256-(pe[ke+le-Me]>>1)&255;for(le=re;le<Me;le++)se[et+le]=pe[ke+le]+256-(pe[ke+le-Me]+pe[ke+le-re]>>1)&255}if(W==4){for(le=0;le<re;le++)se[et+le]=pe[ke+le]+256-y(0,pe[ke+le-Me],0)&255;for(le=re;le<Me;le++)se[et+le]=pe[ke+le]+256-y(pe[ke+le-re],pe[ke+le-Me],pe[ke+le-re-Me])&255}}}function q(se,pe){const ye=new Uint8Array(se),Me=ye.slice(0),re=new Uint32Array(Me.buffer),W=$e(Me,pe),ke=W[0],et=W[1],le=ye.length,ge=new Uint8Array(le>>2);let ut;if(ye.length<2e7)for(var B=0;B<le;B+=4)ut=de(ke,kt=ye[B]*(1/255),at=ye[B+1]*(1/255),ot=ye[B+2]*(1/255),kn=ye[B+3]*(1/255)),ge[B>>2]=ut.ind,re[B>>2]=ut.est.rgba;else for(B=0;B<le;B+=4){var kt=ye[B]*.00392156862745098,at=ye[B+1]*(1/255),ot=ye[B+2]*(1/255),kn=ye[B+3]*(1/255);for(ut=ke;ut.left;)ut=Be(ut.est,kt,at,ot,kn)<=0?ut.left:ut.right;ge[B>>2]=ut.ind,re[B>>2]=ut.est.rgba}return{abuf:Me.buffer,inds:ge,plte:et}}function $e(se,pe,ye){ye==null&&(ye=1e-4);const Me=new Uint32Array(se.buffer),re={i0:0,i1:se.length,bst:null,est:null,tdst:0,left:null,right:null};re.bst=Te(se,re.i0,re.i1),re.est=xe(re.bst);const W=[re];for(;W.length<pe;){let et=0,le=0;for(var ke=0;ke<W.length;ke++)W[ke].est.L>et&&(et=W[ke].est.L,le=ke);if(et<ye)break;const ge=W[le],ut=ne(se,Me,ge.i0,ge.i1,ge.est.e,ge.est.eMq255);if(ge.i0>=ut||ge.i1<=ut){ge.est.L=0;continue}const B={i0:ge.i0,i1:ut,bst:null,est:null,tdst:0,left:null,right:null};B.bst=Te(se,B.i0,B.i1),B.est=xe(B.bst);const kt={i0:ut,i1:ge.i1,bst:null,est:null,tdst:0,left:null,right:null};for(kt.bst={R:[],m:[],N:ge.bst.N-B.bst.N},ke=0;ke<16;ke++)kt.bst.R[ke]=ge.bst.R[ke]-B.bst.R[ke];for(ke=0;ke<4;ke++)kt.bst.m[ke]=ge.bst.m[ke]-B.bst.m[ke];kt.est=xe(kt.bst),ge.left=B,ge.right=kt,W[le]=B,W.push(kt)}for(W.sort((et,le)=>le.bst.N-et.bst.N),ke=0;ke<W.length;ke++)W[ke].ind=ke;return[re,W]}function de(se,pe,ye,Me,re){if(se.left==null)return se.tdst=function(B,kt,at,ot,kn){const cn=kt-B[0],lt=at-B[1],Sn=ot-B[2],te=kn-B[3];return cn*cn+lt*lt+Sn*Sn+te*te}(se.est.q,pe,ye,Me,re),se;const W=Be(se.est,pe,ye,Me,re);let ke=se.left,et=se.right;W>0&&(ke=se.right,et=se.left);const le=de(ke,pe,ye,Me,re);if(le.tdst<=W*W)return le;const ge=de(et,pe,ye,Me,re);return ge.tdst<le.tdst?ge:le}function Be(se,pe,ye,Me,re){const{e:W}=se;return W[0]*pe+W[1]*ye+W[2]*Me+W[3]*re-se.eMq}function ne(se,pe,ye,Me,re,W){for(Me-=4;ye<Me;){for(;Se(se,ye,re)<=W;)ye+=4;for(;Se(se,Me,re)>W;)Me-=4;if(ye>=Me)break;const ke=pe[ye>>2];pe[ye>>2]=pe[Me>>2],pe[Me>>2]=ke,ye+=4,Me-=4}for(;Se(se,ye,re)>W;)ye-=4;return ye+4}function Se(se,pe,ye){return se[pe]*ye[0]+se[pe+1]*ye[1]+se[pe+2]*ye[2]+se[pe+3]*ye[3]}function Te(se,pe,ye){const Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],re=[0,0,0,0],W=ye-pe>>2;for(let ke=pe;ke<ye;ke+=4){const et=se[ke]*.00392156862745098,le=se[ke+1]*(1/255),ge=se[ke+2]*(1/255),ut=se[ke+3]*(1/255);re[0]+=et,re[1]+=le,re[2]+=ge,re[3]+=ut,Me[0]+=et*et,Me[1]+=et*le,Me[2]+=et*ge,Me[3]+=et*ut,Me[5]+=le*le,Me[6]+=le*ge,Me[7]+=le*ut,Me[10]+=ge*ge,Me[11]+=ge*ut,Me[15]+=ut*ut}return Me[4]=Me[1],Me[8]=Me[2],Me[9]=Me[6],Me[12]=Me[3],Me[13]=Me[7],Me[14]=Me[11],{R:Me,m:re,N:W}}function xe(se){const{R:pe}=se,{m:ye}=se,{N:Me}=se,re=ye[0],W=ye[1],ke=ye[2],et=ye[3],le=Me==0?0:1/Me,ge=[pe[0]-re*re*le,pe[1]-re*W*le,pe[2]-re*ke*le,pe[3]-re*et*le,pe[4]-W*re*le,pe[5]-W*W*le,pe[6]-W*ke*le,pe[7]-W*et*le,pe[8]-ke*re*le,pe[9]-ke*W*le,pe[10]-ke*ke*le,pe[11]-ke*et*le,pe[12]-et*re*le,pe[13]-et*W*le,pe[14]-et*ke*le,pe[15]-et*et*le],ut=ge,B=Ge;let kt=[Math.random(),Math.random(),Math.random(),Math.random()],at=0,ot=0;if(Me!=0)for(let cn=0;cn<16&&(kt=B.multVec(ut,kt),ot=Math.sqrt(B.dot(kt,kt)),kt=B.sml(1/ot,kt),!(cn!=0&&Math.abs(ot-at)<1e-9));cn++)at=ot;const kn=[re*le,W*le,ke*le,et*le];return{Cov:ge,q:kn,e:kt,L:at,eMq255:B.dot(B.sml(255,kn),kt),eMq:B.dot(kt,kn),rgba:(Math.round(255*kn[3])<<24|Math.round(255*kn[2])<<16|Math.round(255*kn[1])<<8|Math.round(255*kn[0])<<0)>>>0}}var Ge={multVec:(se,pe)=>[se[0]*pe[0]+se[1]*pe[1]+se[2]*pe[2]+se[3]*pe[3],se[4]*pe[0]+se[5]*pe[1]+se[6]*pe[2]+se[7]*pe[3],se[8]*pe[0]+se[9]*pe[1]+se[10]*pe[2]+se[11]*pe[3],se[12]*pe[0]+se[13]*pe[1]+se[14]*pe[2]+se[15]*pe[3]],dot:(se,pe)=>se[0]*pe[0]+se[1]*pe[1]+se[2]*pe[2]+se[3]*pe[3],sml:(se,pe)=>[se*pe[0],se*pe[1],se*pe[2],se*pe[3]]};Vm.encode=function(pe,ye,Me,re,W,ke,et){re==null&&(re=0),et==null&&(et=!1);const le=P(pe,ye,Me,re,[!1,!1,!1,0,et,!1]);return j(le,-1),F(le,ye,Me,W,ke)},Vm.encodeLL=function(pe,ye,Me,re,W,ke,et,le){const ge={ctype:0+(re==1?0:2)+(W==0?0:4),depth:ke,frames:[]},ut=(re+W)*ke,B=ut*ye;for(let kt=0;kt<pe.length;kt++)ge.frames.push({rect:{x:0,y:0,width:ye,height:Me},img:new Uint8Array(pe[kt]),blend:0,dispose:1,bpp:Math.ceil(ut/8),bpl:Math.ceil(B/8)});return j(ge,0,!0),F(ge,ye,Me,et,le)},Vm.encode.compress=P,Vm.encode.dither=T,Vm.quantize=q,Vm.quantize.getKDtree=$e,Vm.quantize.getNearest=de})();const aG={toArrayBuffer(f,m){const y=f.width,b=f.height,S=y<<2,_=f.getContext("2d").getImageData(0,0,y,b),O=new Uint32Array(_.data.buffer),T=(32*y+31)/32<<2,F=T*b,j=122+F,P=new ArrayBuffer(j),H=new DataView(P),I=1<<20;let L,Y,q,$e,de=I,Be=0,ne=0,Se=0;function Te(se){H.setUint16(ne,se,!0),ne+=2}function xe(se){H.setUint32(ne,se,!0),ne+=4}function Ge(se){ne+=se}Te(19778),xe(j),Ge(4),xe(122),xe(108),xe(y),xe(-b>>>0),Te(1),Te(32),xe(3),xe(F),xe(2835),xe(2835),Ge(8),xe(16711680),xe(65280),xe(255),xe(4278190080),xe(1466527264),function se(){for(;Be<b&&de>0;){for($e=122+Be*T,L=0;L<S;)de--,Y=O[Se++],q=Y>>>24,H.setUint32($e+L,Y<<8|q),L+=4;Be++}Se<O.length?(de=I,setTimeout(se,aG._dly)):m(P)}()},toBlob(f,m){this.toArrayBuffer(f,y=>{m(new Blob([y],{type:"image/bmp"}))})},_dly:9};var Ef={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Jae={[Ef.CHROME]:16384,[Ef.FIREFOX]:11180,[Ef.DESKTOP_SAFARI]:16384,[Ef.IE]:8192,[Ef.IOS]:4096,[Ef.ETC]:8192};const a9=typeof window<"u",oG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,D8=a9&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Zae=(a9||oG)&&(D8&&D8.getOriginalSymbol(window,"File")||typeof File<"u"&&File),iG=(a9||oG)&&(D8&&D8.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function o9(f,m,y=Date.now()){return new Promise(b=>{const S=f.split(","),_=S[0].match(/:(.*?);/)[1],O=globalThis.atob(S[1]);let T=O.length;const F=new Uint8Array(T);for(;T--;)F[T]=O.charCodeAt(T);const j=new Blob([F],{type:_});j.name=m,j.lastModified=y,b(j)})}function uG(f){return new Promise((m,y)=>{const b=new iG;b.onload=()=>m(b.result),b.onerror=S=>y(S),b.readAsDataURL(f)})}function sG(f){return new Promise((m,y)=>{const b=new Image;b.onload=()=>m(b),b.onerror=S=>y(S),b.src=f})}function zS(){if(zS.cachedResult!==void 0)return zS.cachedResult;let f=Ef.ETC;const{userAgent:m}=navigator;return/Chrom(e|ium)/i.test(m)?f=Ef.CHROME:/iP(ad|od|hone)/i.test(m)&&/WebKit/i.test(m)?f=Ef.IOS:/Safari/i.test(m)?f=Ef.DESKTOP_SAFARI:/Firefox/i.test(m)?f=Ef.FIREFOX:(/MSIE/i.test(m)||document.documentMode)&&(f=Ef.IE),zS.cachedResult=f,zS.cachedResult}function lG(f,m){const y=zS(),b=Jae[y];let S=f,_=m,O=S*_;const T=S>_?_/S:S/_;for(;O>b*b;){const F=(b+S)/2,j=(b+_)/2;F<j?(_=j,S=j*T):(_=F*T,S=F),O=S*_}return{width:S,height:_}}function r6(f,m){let y,b;try{if(y=new OffscreenCanvas(f,m),b=y.getContext("2d"),b===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{y=document.createElement("canvas"),b=y.getContext("2d")}return y.width=f,y.height=m,[y,b]}function cG(f,m){const{width:y,height:b}=lG(f.width,f.height),[S,_]=r6(y,b);return m&&/jpe?g/.test(m)&&(_.fillStyle="white",_.fillRect(0,0,S.width,S.height)),_.drawImage(f,0,0,S.width,S.height),S}function p8(){return p8.cachedResult!==void 0||(p8.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),p8.cachedResult}function R8(f,m={}){return new Promise(function(y,b){let S,_;var O=function(){try{return _=cG(S,m.fileType||f.type),y([S,_])}catch(F){return b(F)}},T=function(F){try{var j=function(P){try{throw P}catch(H){return b(H)}};try{let P;return uG(f).then(function(H){try{return P=H,sG(P).then(function(I){try{return S=I,function(){try{return O()}catch(L){return b(L)}}()}catch(L){return j(L)}},j)}catch(I){return j(I)}},j)}catch(P){j(P)}}catch(P){return b(P)}};try{if(p8()||[Ef.DESKTOP_SAFARI,Ef.MOBILE_SAFARI].includes(zS()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(f).then(function(F){try{return S=F,O()}catch{return T()}},T)}catch{T()}})}function $8(f,m,y,b,S=1){return new Promise(function(_,O){let T;if(m==="image/png"){let H,I,L;return H=f.getContext("2d"),{data:I}=H.getImageData(0,0,f.width,f.height),L=Vm.encode([I.buffer],f.width,f.height,4096*S),T=new Blob([L],{type:m}),T.name=y,T.lastModified=b,F.call(this)}{let H=function(){return F.call(this)};var j=H;if(m==="image/bmp")return new Promise(I=>aG.toBlob(f,I)).then((function(I){try{return T=I,T.name=y,T.lastModified=b,H.call(this)}catch(L){return O(L)}}).bind(this),O);{let I=function(){return H.call(this)};var P=I;if(typeof OffscreenCanvas=="function"&&f instanceof OffscreenCanvas)return f.convertToBlob({type:m,quality:S}).then((function(L){try{return T=L,T.name=y,T.lastModified=b,I.call(this)}catch(Y){return O(Y)}}).bind(this),O);{let L;return L=f.toDataURL(m,S),o9(L,y,b).then((function(Y){try{return T=Y,I.call(this)}catch(q){return O(q)}}).bind(this),O)}}}function F(){return _(T)}})}function op(f){f.width=0,f.height=0}function nA(){return new Promise(function(f,m){let y,b,S,_;return nA.cachedResult!==void 0?f(nA.cachedResult):o9("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(O){try{return y=O,R8(y).then(function(T){try{return b=T[1],$8(b,y.type,y.name,y.lastModified).then(function(F){try{return S=F,op(b),R8(S).then(function(j){try{return _=j[0],nA.cachedResult=_.width===1&&_.height===2,f(nA.cachedResult)}catch(P){return m(P)}},m)}catch(j){return m(j)}},m)}catch(F){return m(F)}},m)}catch(T){return m(T)}},m)})}function fG(f){return new Promise((m,y)=>{const b=new iG;b.onload=S=>{const _=new DataView(S.target.result);if(_.getUint16(0,!1)!=65496)return m(-2);const O=_.byteLength;let T=2;for(;T<O;){if(_.getUint16(T+2,!1)<=8)return m(-1);const F=_.getUint16(T,!1);if(T+=2,F==65505){if(_.getUint32(T+=2,!1)!=1165519206)return m(-1);const j=_.getUint16(T+=6,!1)==18761;T+=_.getUint32(T+4,j);const P=_.getUint16(T,j);T+=2;for(let H=0;H<P;H++)if(_.getUint16(T+12*H,j)==274)return m(_.getUint16(T+12*H+8,j))}else{if((65280&F)!=65280)break;T+=_.getUint16(T,!1)}}return m(-1)},b.onerror=S=>y(S),b.readAsArrayBuffer(f)})}function vG(f,m){const{width:y}=f,{height:b}=f,{maxWidthOrHeight:S}=m;let _,O=f;return isFinite(S)&&(y>S||b>S)&&([O,_]=r6(y,b),y>b?(O.width=S,O.height=b/y*S):(O.width=y/b*S,O.height=S),_.drawImage(f,0,0,O.width,O.height),op(f)),O}function dG(f,m){const{width:y}=f,{height:b}=f,[S,_]=r6(y,b);switch(m>4&&m<9?(S.width=b,S.height=y):(S.width=y,S.height=b),m){case 2:_.transform(-1,0,0,1,y,0);break;case 3:_.transform(-1,0,0,-1,y,b);break;case 4:_.transform(1,0,0,-1,0,b);break;case 5:_.transform(0,1,1,0,0,0);break;case 6:_.transform(0,1,-1,0,b,0);break;case 7:_.transform(0,-1,-1,0,b,y);break;case 8:_.transform(0,-1,1,0,0,y)}return _.drawImage(f,0,0,y,b),op(f),S}function AW(f,m,y=0){return new Promise(function(b,S){let _,O,T,F,j,P,H,I,L,Y,q,$e,de,Be,ne,Se,Te,xe,Ge,se;function pe(Me=5){if(m.signal&&m.signal.aborted)throw m.signal.reason;_+=Me,m.onProgress(Math.min(_,100))}function ye(Me){if(m.signal&&m.signal.aborted)throw m.signal.reason;_=Math.min(Math.max(Me,_),100),m.onProgress(_)}return _=y,O=m.maxIteration||10,T=1024*m.maxSizeMB*1024,pe(),R8(f,m).then((function(Me){try{return[,F]=Me,pe(),j=vG(F,m),pe(),new Promise(function(re,W){var ke;if(!(ke=m.exifOrientation))return fG(f).then((function(le){try{return ke=le,et.call(this)}catch(ge){return W(ge)}}).bind(this),W);function et(){return re(ke)}return et.call(this)}).then((function(re){try{return P=re,pe(),nA().then((function(W){try{return H=W?j:dG(j,P),pe(),I=m.initialQuality||1,L=m.fileType||f.type,$8(H,L,f.name,f.lastModified,I).then((function(ke){try{{let ut=function(){if(O--&&(ne>T||ne>de)){let kt,at;return kt=se?.95*Ge.width:Ge.width,at=se?.95*Ge.height:Ge.height,[Te,xe]=r6(kt,at),xe.drawImage(Ge,0,0,kt,at),I*=L==="image/png"?.85:.95,$8(Te,L,f.name,f.lastModified,I).then(function(ot){try{return Se=ot,op(Ge),Ge=Te,ne=Se.size,ye(Math.min(99,Math.floor((Be-ne)/(Be-T)*100))),ut}catch(kn){return S(kn)}},S)}return[1]},B=function(){return op(Ge),op(Te),op(j),op(H),op(F),ye(100),b(Se)};var le=ut,ge=B;if(Y=ke,pe(),q=Y.size>T,$e=Y.size>f.size,!q&&!$e)return ye(100),b(Y);var et;return de=f.size,Be=Y.size,ne=Be,Ge=H,se=!m.alwaysKeepResolution&&q,(et=(function(kt){for(;kt;){if(kt.then)return void kt.then(et,S);try{if(kt.pop){if(kt.length)return kt.pop()?B.call(this):kt;kt=ut}else kt=kt.call(this)}catch(at){return S(at)}}}).bind(this))(ut)}}catch(ut){return S(ut)}}).bind(this),S)}catch(ke){return S(ke)}}).bind(this),S)}catch(W){return S(W)}}).bind(this),S)}catch(re){return S(re)}}).bind(this),S)})}const Qae=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let cH;function eoe(f,m){return new Promise((y,b)=>{cH||(cH=function(O){const T=[];return typeof O=="function"?T.push(`(${O})()`):T.push(O),URL.createObjectURL(new Blob(T))}(Qae));const S=new Worker(cH);S.addEventListener("message",function(O){if(m.signal&&m.signal.aborted)S.terminate();else if(O.data.progress===void 0){if(O.data.error)return b(new Error(O.data.error)),void S.terminate();y(O.data.file),S.terminate()}else m.onProgress(O.data.progress)}),S.addEventListener("error",b),m.signal&&m.signal.addEventListener("abort",()=>{b(m.signal.reason),S.terminate()}),S.postMessage({file:f,imageCompressionLibUrl:m.libURL,options:{...m,onProgress:void 0,signal:void 0}})})}function Wl(f,m){return new Promise(function(y,b){let S,_,O,T,F,j;if(S={...m},O=0,{onProgress:T}=S,S.maxSizeMB=S.maxSizeMB||Number.POSITIVE_INFINITY,F=typeof S.useWebWorker!="boolean"||S.useWebWorker,delete S.useWebWorker,S.onProgress=L=>{O=L,typeof T=="function"&&T(O)},!(f instanceof Blob||f instanceof Zae))return b(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(f.type))return b(new Error("The file given is not an image"));if(j=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!F||typeof Worker!="function"||j)return AW(f,S).then((function(L){try{return _=L,I.call(this)}catch(Y){return b(Y)}}).bind(this),b);var P=(function(){try{return I.call(this)}catch(L){return b(L)}}).bind(this),H=function(L){try{return AW(f,S).then(function(Y){try{return _=Y,P()}catch(q){return b(q)}},b)}catch(Y){return b(Y)}};try{return S.libURL=S.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",eoe(f,S).then(function(L){try{return _=L,P()}catch{return H()}},H)}catch{H()}function I(){try{_.name=f.name,_.lastModified=f.lastModified}catch{}try{S.preserveExif&&f.type==="image/jpeg"&&(!S.fileType||S.fileType&&S.fileType===f.type)&&(_=rG(f,_))}catch{}return y(_)}})}Wl.getDataUrlFromFile=uG,Wl.getFilefromDataUrl=o9,Wl.loadImage=sG,Wl.drawImageInCanvas=cG,Wl.drawFileInCanvas=R8,Wl.canvasToFile=$8,Wl.getExifOrientation=fG,Wl.handleMaxWidthOrHeight=vG,Wl.followExifOrientation=dG,Wl.cleanupCanvasMemory=op,Wl.isAutoOrientationInBrowser=nA,Wl.approximateBelowMaximumCanvasSizeOfBrowser=lG,Wl.copyExifWithoutOrientation=rG,Wl.getBrowserName=zS,Wl.version="2.0.2";const toe="/assets/de-8fcaa96d.svg",noe="/assets/en-4c5edc0c.svg";const roe={class:"languageContainer"},aoe={class:"languageIcon"},ooe=["src","alt"],ioe={class:"languageContainerColumns"},uoe={class:"languageTitle"},Er={__name:"LanguageContainer",props:{lang:{type:String,default:"de"},title:{type:String,required:!0,default:"Keinen Titel angegeben"}},setup(f){const m=f,y={de:toe,en:noe},b=m.lang;return(S,_)=>(Ke(),Je("div",roe,[V("div",aoe,[V("img",{src:y[$o(b)],alt:$o(b)},null,8,ooe)]),V("div",ioe,[V("h4",uoe,ar(f.title),1),pH(S.$slots,"content")])]))}};const soe={style:{"margin-bottom":"10px"}},loe={class:"input-row"},coe=["aria-checked","onKeydown"],foe={class:"toggle-value"},B8={__name:"toggleSwitch",props:{value:{type:Boolean,default:!1},color:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},titel:{type:String,default:"Titel"}},emits:["input"],setup(f,{emit:m}){const y=f,b=ri(()=>({"bg-primary":y.value,"bg-secondary":!y.value})),S=ri(()=>({transform:y.value?"translateX(14px)":"translateX(0)"})),_=()=>{y.disabled||m("input",!y.value)};return(O,T)=>(Ke(),Je("div",null,[V("h4",soe,ar(f.titel),1),V("div",loe,[V("span",{class:"toggle-wrapper",role:"checkbox","aria-checked":f.value.toString(),tabindex:"0",onClick:_,onKeydown:_te(Cte(_,["prevent"]),["space"])},[V("span",{class:N5(["toggle-background",b.value])},null,2),V("span",{class:"toggle-indicator",style:F8(S.value)},null,4)],40,coe),V("span",foe,ar(f.value?"Ja":"Nein"),1)])]))}},VS="/assets/close-e7fb7946.svg";var M8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function voe(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var mG={exports:{}};(function(f){(function(){var m=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},y=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},b=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},S=function(e,n){return _(function(a,i){return e.eq(n(a),n(i))})},_=function(e){return{eq:e}},O=_(function(e,n){return e===n}),T=O,F=function(e){return _(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,l=0;l<i;l++)if(!e.eq(n[l],a[l]))return!1;return!0})},j=function(e,n){return S(F(e),function(a){return b(a,n)})},P=function(e){return _(function(n,a){var i=Object.keys(n),l=Object.keys(a);if(!j(T).eq(i,l))return!1;for(var v=i.length,p=0;p<v;p++){var x=i[p];if(!e.eq(n[x],a[x]))return!1}return!0})},H=_(function(e,n){if(e===n)return!0;var a=m(e),i=m(n);return a!==i?!1:y(a)?e===n:a==="array"?F(H).eq(e,n):a==="object"?P(H).eq(e,n):!1}),I=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},L=function(e){return function(n){return I(n)===e}},Y=function(e){return function(n){return typeof n===e}},q=function(e){return function(n){return e===n}},$e=L("string"),de=L("object"),Be=L("array"),ne=q(null),Se=Y("boolean"),Te=q(void 0),xe=function(e){return e==null},Ge=function(e){return!xe(e)},se=Y("function"),pe=Y("number"),ye=function(){},Me=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},re=function(e,n){return function(a){return e(n(a))}},W=function(e){return function(){return e}},ke=function(e){return e},et=function(e,n){return e===n};function le(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var v=n.concat(i);return e.apply(null,v)}}var ge=function(e){return function(n){return!e(n)}},ut=function(e){return function(){throw new Error(e)}},B=function(e){return e()},kt=function(e){e()},at=W(!1),ot=W(!0),kn=function(){return cn},cn=function(){var e=function(i){return i()},n=ke,a={fold:function(i,l){return i()},isSome:at,isNone:ot,getOr:n,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:W(null),getOrUndefined:W(void 0),or:n,orThunk:e,map:kn,each:ye,bind:kn,exists:at,forall:ot,filter:function(){return kn()},toArray:function(){return[]},toString:W("none()")};return a}(),lt=function(e){var n=W(e),a=function(){return l},i=function(v){return v(e)},l={fold:function(v,p){return p(e)},isSome:ot,isNone:at,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(v){return lt(v(e))},each:function(v){v(e)},bind:i,exists:i,forall:i,filter:function(v){return v(e)?l:cn},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return l},Sn=function(e){return e==null?cn:lt(e)},te={some:lt,none:kn,from:Sn},fn=Array.prototype.slice,Ue=Array.prototype.indexOf,gt=Array.prototype.push,Xn=function(e,n){return Ue.call(e,n)},Oe=function(e,n){var a=Xn(e,n);return a===-1?te.none():te.some(a)},Ee=function(e,n){return Xn(e,n)>-1},Ze=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return!0}return!1},tt=function(e,n){for(var a=e.length,i=new Array(a),l=0;l<a;l++){var v=e[l];i[l]=n(v,l)}return i},He=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];n(l,a)}},pt=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},Jt=function(e,n){for(var a=[],i=[],l=0,v=e.length;l<v;l++){var p=e[l],x=n(p,l)?a:i;x.push(p)}return{pass:a,fail:i}},it=function(e,n){for(var a=[],i=0,l=e.length;i<l;i++){var v=e[i];n(v,i)&&a.push(v)}return a},Wt=function(e,n,a){return pt(e,function(i,l){a=n(a,i,l)}),a},Rt=function(e,n,a){return He(e,function(i,l){a=n(a,i,l)}),a},zt=function(e,n,a){for(var i=0,l=e.length;i<l;i++){var v=e[i];if(n(v,i))return te.some(v);if(a(v,i))break}return te.none()},rn=function(e,n){return zt(e,n,at)},pn=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return te.some(a)}return te.none()},Kn=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!Be(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);gt.apply(n,e[a])}return n},cr=function(e,n){return Kn(tt(e,n))},qr=function(e,n){for(var a=0,i=e.length;a<i;++a){var l=e[a];if(n(l,a)!==!0)return!1}return!0},or=function(e){var n=fn.call(e,0);return n.reverse(),n},ua=function(e,n){return it(e,function(a){return!Ee(n,a)})},va=function(e,n){for(var a={},i=0,l=e.length;i<l;i++){var v=e[i];a[String(v)]=n(v,i)}return a},Qr=function(e,n){var a=fn.call(e,0);return a.sort(n),a},Hr=function(e,n){return n>=0&&n<e.length?te.some(e[n]):te.none()},da=function(e){return Hr(e,0)},Ur=function(e){return Hr(e,e.length-1)},fr=se(Array.from)?Array.from:function(e){return fn.call(e)},Na=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return te.none()},Zi=Object.keys,Kl=Object.hasOwnProperty,Vr=function(e,n){for(var a=Zi(e),i=0,l=a.length;i<l;i++){var v=a[i],p=e[v];n(p,v)}},Si=function(e,n){return Ju(e,function(a,i){return{k:i,v:n(a,i)}})},Ju=function(e,n){var a={};return Vr(e,function(i,l){var v=n(i,l);a[v.k]=v.v}),a},_i=function(e){return function(n,a){e[a]=n}},En=function(e,n,a,i){var l={};return Vr(e,function(v,p){(n(v,p)?a:i)(v,p)}),l},Pr=function(e,n){var a={},i={};return En(e,n,_i(a),_i(i)),{t:a,f:i}},lo=function(e,n){var a={};return En(e,n,_i(a),ye),a},lu=function(e,n){var a=[];return Vr(e,function(i,l){a.push(n(i,l))}),a},Zu=function(e){return lu(e,ke)},Ir=function(e,n){return Tr(e,n)?te.from(e[n]):te.none()},Tr=function(e,n){return Kl.call(e,n)},Gs=function(e,n){return Tr(e,n)&&e[n]!==void 0&&e[n]!==null},th=function(e,n,a){return a===void 0&&(a=H),P(a).eq(e,n)},Df=Array.isArray,qs=function(e){if(Df(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},$c=function(e,n,a){var i,l;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(Tr(e,i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},Tv=function(e,n){var a=[];return $c(e,function(i,l){a.push(n(i,l,e))}),a},gl=function(e,n){var a=[];return $c(e,function(i,l){(!n||n(i,l,e))&&a.push(i)}),a},pl=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},Rf=function(e,n,a,i){for(var l=Te(a)?e[0]:a,v=0;v<e.length;v++)l=n.call(i,l,e[v],v);return l},ma=function(e,n,a){var i,l;for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e))return i;return-1},Ks=function(e){return e[e.length-1]},Wn=function(){return Wn=Object.assign||function(n){for(var a,i=1,l=arguments.length;i<l;i++){a=arguments[i];for(var v in a)Object.prototype.hasOwnProperty.call(a,v)&&(n[v]=a[v])}return n},Wn.apply(this,arguments)};function nh(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a}function Ou(e,n,a){if(a||arguments.length===2)for(var i=0,l=n.length,v;i<l;i++)(v||!(i in n))&&(v||(v=Array.prototype.slice.call(n,0,i)),v[i]=n[i]);return e.concat(v||Array.prototype.slice.call(n))}var Bc=function(e){var n=!1,a;return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return n||(n=!0,a=e.apply(null,i)),a}},rh=function(e,n,a,i){var l=e.isiOS()&&/ipad/i.test(a)===!0,v=e.isiOS()&&!l,p=e.isiOS()||e.isAndroid(),x=p||i("(pointer:coarse)"),A=l||!v&&p&&i("(min-device-width:768px)"),N=v||p&&!A,X=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,Z=!N&&!A&&!X;return{isiPad:W(l),isiPhone:W(v),isTablet:W(A),isPhone:W(N),isTouch:W(x),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:W(X),isDesktop:W(Z)}},Xl=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},ah=function(e,n){var a=Xl(e,n);if(!a)return{major:0,minor:0};var i=function(l){return Number(n.replace(a,"$"+l))};return Ss(i(1),i(2))},$f=function(e,n){var a=String(n).toLowerCase();return e.length===0?oh():ah(e,a)},oh=function(){return Ss(0,0)},Ss=function(e,n){return{major:e,minor:n}},Mc={nu:Ss,detect:$f,unknown:oh},sn=function(e,n){return Na(n.brands,function(a){var i=a.brand.toLowerCase();return rn(e,function(l){var v;return i===((v=l.brand)===null||v===void 0?void 0:v.toLowerCase())}).map(function(l){return{current:l.name,version:Mc.nu(parseInt(a.version,10),0)}})})},Bd=function(e,n){var a=String(n).toLowerCase();return rn(e,function(i){return i.search(a)})},Ov=function(e,n){return Bd(e,n).map(function(a){var i=Mc.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Dv=function(e,n){return Bd(e,n).map(function(a){var i=Mc.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Yl=function(e,n){return e.substring(n)},Qu=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},ih=function(e,n){return po(e,n)?Yl(e,n.length):e},Bo=function(e,n){return e.indexOf(n)!==-1},po=function(e,n){return Qu(e,n,0)},Du=function(e){return function(n){return n.replace(e,"")}},Xs=Du(/^\s+|\s+$/g),Md=Du(/^\s+/g),es=Du(/\s+$/g),Bf=function(e){return e.length>0},Pd=function(e){return!Bf(e)},bl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ru=function(e){return function(n){return Bo(n,e)}},en=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Bo(e,"edge/")&&Bo(e,"chrome")&&Bo(e,"safari")&&Bo(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,bl],search:function(e){return Bo(e,"chrome")&&!Bo(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Bo(e,"msie")||Bo(e,"trident")}},{name:"Opera",versionRegexes:[bl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ru("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ru("firefox")},{name:"Safari",versionRegexes:[bl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Bo(e,"safari")||Bo(e,"mobile/"))&&Bo(e,"applewebkit")}}],xi=[{name:"Windows",search:Ru("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Bo(e,"iphone")||Bo(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ru("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ru("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ru("linux"),versionRegexes:[]},{name:"Solaris",search:Ru("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ru("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ru("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],yl={browsers:W(en),oses:W(xi)},uh="Edge",Mf="Chrome",ea="IE",Rv="Opera",wl="Firefox",co="Safari",$v=function(){return cu({current:void 0,version:Mc.unknown()})},cu=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isEdge:i(uh),isChrome:i(Mf),isIE:i(ea),isOpera:i(Rv),isFirefox:i(wl),isSafari:i(co)}},ts={unknown:$v,nu:cu,edge:W(uh),chrome:W(Mf),ie:W(ea),opera:W(Rv),firefox:W(wl),safari:W(co)},Ra="Windows",Pf="iOS",If="Android",Bv="Linux",Id="OSX",Cl="Solaris",Ys="FreeBSD",Mv="ChromeOS",_s=function(){return $u({current:void 0,version:Mc.unknown()})},$u=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isWindows:i(Ra),isiOS:i(Pf),isAndroid:i(If),isOSX:i(Id),isLinux:i(Bv),isSolaris:i(Cl),isFreeBSD:i(Ys),isChromeOS:i(Mv)}},ie={unknown:_s,nu:$u,windows:W(Ra),ios:W(Pf),android:W(If),linux:W(Bv),osx:W(Id),solaris:W(Cl),freebsd:W(Ys),chromeos:W(Mv)},Ne=function(e,n,a){var i=yl.browsers(),l=yl.oses(),v=n.bind(function(A){return sn(i,A)}).orThunk(function(){return Ov(i,e)}).fold(ts.unknown,ts.nu),p=Dv(l,e).fold(ie.unknown,ie.nu),x=rh(p,v,e,a);return{browser:v,os:p,deviceType:x}},Ye={detect:Ne},Et=function(e){return window.matchMedia(e).matches},qt=Bc(function(){return Ye.detect(navigator.userAgent,te.from(navigator.userAgentData),Et)}),Rn=function(){return qt()},aa=navigator.userAgent,ha=Rn(),br=ha.browser,za=ha.os,Ka=ha.deviceType,Pc=/WebKit/.test(aa)&&!br.isEdge(),Li="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Jl=aa.indexOf("Windows Phone")!==-1,Hn={opera:br.isOpera(),webkit:Pc,ie:br.isIE()||br.isEdge()?br.version.major:!1,gecko:br.isFirefox(),mac:za.isOSX()||za.isiOS(),iOS:Ka.isiPad()||Ka.isiPhone(),android:za.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:br.isIE()?document.documentMode||7:10,fileApi:Li,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!br.isIE(),desktop:Ka.isDesktop(),windowsPhone:Jl,browser:{current:br.current,version:br.version,isChrome:br.isChrome,isEdge:br.isEdge,isFirefox:br.isFirefox,isIE:br.isIE,isOpera:br.isOpera,isSafari:br.isSafari},os:{current:za.current,version:za.version,isAndroid:za.isAndroid,isChromeOS:za.isChromeOS,isFreeBSD:za.isFreeBSD,isiOS:za.isiOS,isLinux:za.isLinux,isOSX:za.isOSX,isSolaris:za.isSolaris,isWindows:za.isWindows},deviceType:{isDesktop:Ka.isDesktop,isiPad:Ka.isiPad,isiPhone:Ka.isiPhone,isPhone:Ka.isPhone,isTablet:Ka.isTablet,isTouch:Ka.isTouch,isWebView:Ka.isWebView}},sh=/^\s*|\s*$/g,fp=function(e){return e==null?"":(""+e).replace(sh,"")},ta=function(e,n){return n?n==="array"&&Df(e)?!0:typeof e===n:e!==void 0},vp=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},lh=Tr,n2=function(e,n,a){var i=this,l,v,p,x=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var A=e[3].match(/(^|\.)(\w+)$/i)[2],N=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!N[A]){if(e[2]==="static"){N[A]=n,this.onCreate&&this.onCreate(e[2],e[3],N[A]);return}n[A]||(n[A]=function(){},x=1),N[A]=n[A],i.extend(N[A].prototype,n),e[5]&&(l=i.resolve(e[5]).prototype,v=e[5].match(/\.(\w+)$/i)[1],p=N[A],x?N[A]=function(){return l[v].apply(this,arguments)}:N[A]=function(){return this.parent=l[v],p.apply(this,arguments)},N[A].prototype[A]=N[A],i.each(l,function(X,Z){N[A].prototype[Z]=l[Z]}),i.each(n,function(X,Z){l[Z]?N[A].prototype[Z]=function(){return this.parent=l[Z],X.apply(this,arguments)}:Z!==A&&(N[A].prototype[Z]=X)})),i.each(n.static,function(X,Z){N[A][Z]=X})}},_a=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var l=n[i];for(var v in l)if(Tr(l,v)){var p=l[v];p!==void 0&&(e[v]=p)}}return e},Js=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),$c(e,function(l,v){if(n.call(i,l,v,a)===!1)return!1;Js(l,n,a,i)}))},r2=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},Sl=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},Jo=function(e,n){return!e||ta(e,"array")?e:Tv(e.split(n||","),fp)},Nf=function(e){var n=Hn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},wt={trim:fp,isArray:Df,is:ta,toArray:qs,makeMap:vp,each:$c,map:Tv,grep:gl,inArray:pl,hasOwn:lh,extend:_a,create:n2,walk:Js,createNS:r2,resolve:Sl,explode:Jo,_addCacheSuffix:Nf},ch=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return zf(i.childNodes[0])},_o=function(e,n){var a=n||document,i=a.createElement(e);return zf(i)},sb=function(e,n){var a=n||document,i=a.createTextNode(e);return zf(i)},zf=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Pv=function(e,n,a){return te.from(e.dom.elementFromPoint(n,a)).map(zf)},je={fromHtml:ch,fromTag:_o,fromText:sb,fromDom:zf,fromPoint:Pv},ii=function(e,n){var a=[],i=function(v){return a.push(v),n(v)},l=n(e);do l=l.bind(i);while(l.isSome());return a},fh=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},dp=function(e,n){return fh(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},lb=8,Nd=9,mp=11,hp=1,xs=3,Zl=function(e,n){var a=e.dom;if(a.nodeType!==hp)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},cb=function(e){return e.nodeType!==hp&&e.nodeType!==Nd&&e.nodeType!==mp||e.childElementCount===0},fb=function(e,n){var a=n===void 0?document:n.dom;return cb(a)?[]:tt(a.querySelectorAll(e),je.fromDom)},Ql=function(e,n){var a=n===void 0?document:n.dom;return cb(a)?te.none():te.from(a.querySelector(e)).map(je.fromDom)},$a=function(e,n){return e.dom===n.dom},vb=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},fu=function(e,n){return dp(e.dom,n.dom)},Hi=function(e,n){return Rn().browser.isIE()?fu(e,n):vb(e,n)};typeof window<"u"||Function("return this;")();var xo=function(e){var n=e.dom.nodeName;return n.toLowerCase()},Ic=function(e){return e.dom.nodeType},lr=function(e){return function(n){return Ic(n)===e}},ns=function(e){return Ic(e)===lb||xo(e)==="#comment"},Fa=lr(hp),Xa=lr(xs),db=lr(Nd),ui=lr(mp),gp=function(e){return function(n){return Fa(n)&&xo(n)===e}},_l=function(e){return je.fromDom(e.dom.ownerDocument)},jn=function(e){return db(e)?e:_l(e)},rs=function(e){return je.fromDom(jn(e).dom.documentElement)},no=function(e){return je.fromDom(jn(e).dom.defaultView)},ro=function(e){return te.from(e.dom.parentNode).map(je.fromDom)},Lo=function(e,n){for(var a=se(n)?n:at,i=e.dom,l=[];i.parentNode!==null&&i.parentNode!==void 0;){var v=i.parentNode,p=je.fromDom(v);if(l.push(p),a(p)===!0)break;i=v}return l},ko=function(e){var n=function(a){return it(a,function(i){return!$a(e,i)})};return ro(e).map(Qi).map(n).getOr([])},Ff=function(e){return te.from(e.dom.previousSibling).map(je.fromDom)},ks=function(e){return te.from(e.dom.nextSibling).map(je.fromDom)},Kr=function(e){return or(ii(e,Ff))},Ba=function(e){return ii(e,ks)},Qi=function(e){return tt(e.dom.childNodes,je.fromDom)},ec=function(e,n){var a=e.dom.childNodes;return te.from(a[n]).map(je.fromDom)},Mo=function(e){return ec(e,0)},as=function(e){return ec(e,e.dom.childNodes.length-1)},mb=function(e){return e.dom.childNodes.length},Lf=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return je.fromDom(n)},ya=function(e){return ui(e)&&Ge(e.dom.host)},Zs=se(Element.prototype.attachShadow)&&se(Node.prototype.getRootNode),Nc=W(Zs),vu=Zs?function(e){return je.fromDom(e.dom.getRootNode())}:jn,fo=function(e){return ya(e)?e:Lf(jn(e))},zc=function(e){var n=vu(e);return ya(n)?te.some(n):te.none()},tc=function(e){return je.fromDom(e.dom.host)},Vi=function(e){if(Nc()&&Ge(e.target)){var n=je.fromDom(e.target);if(Fa(n)&&du(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return da(a)}}return te.from(e.target)},du=function(e){return Ge(e.dom.shadowRoot)},ki=function(e,n){var a=ro(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},Iv=function(e,n){var a=ks(e);a.fold(function(){var i=ro(e);i.each(function(l){Ho(l,n)})},function(i){ki(i,n)})},Qs=function(e,n){var a=Mo(e);a.fold(function(){Ho(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},Ho=function(e,n){e.dom.appendChild(n.dom)},zd=function(e,n){ki(e,n),Ho(n,e)},hb=function(e,n){He(n,function(a){ki(e,a)})},Hf=function(e,n){He(n,function(a){Ho(e,a)})},Vf=function(e){e.dom.textContent="",He(Qi(e),function(n){vo(n)})},vo=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Uf=function(e){var n=Qi(e);n.length>0&&hb(e,n),vo(e)},Wf=function(e){var n=Xa(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return zc(je.fromDom(n)).fold(function(){return a.body.contains(n)},re(Wf,tc))},Ui=function(e,n){var a=function(i,l){return Ui(e+i,n+l)};return{left:e,top:n,translate:a}},nc=Ui,jf=function(e){var n=e.getBoundingClientRect();return nc(n.left,n.top)},rc=function(e,n){return e!==void 0?e:n!==void 0?n:0},Wa=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,l=n.documentElement;if(a===e.dom)return nc(a.offsetLeft,a.offsetTop);var v=rc(i==null?void 0:i.pageYOffset,l.scrollTop),p=rc(i==null?void 0:i.pageXOffset,l.scrollLeft),x=rc(l.clientTop,a.clientTop),A=rc(l.clientLeft,a.clientLeft);return Bu(e).translate(p-A,v-x)},Bu=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?nc(i.offsetLeft,i.offsetTop):Wf(e)?jf(n):nc(0,0)},vh=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return nc(a,i)},os=function(e,n,a){var i=a!==void 0?a.dom:document,l=i.defaultView;l&&l.scrollTo(e,n)},dh=function(e,n){var a=Rn().browser.isSafari();a&&se(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},gb=function(e){var n=e===void 0?window:e;return Rn().browser.isFirefox()?te.none():te.from(n.visualViewport)},pp=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},Gf=function(e){var n=e===void 0?window:e,a=n.document,i=vh(je.fromDom(a));return gb(n).fold(function(){var l=n.document.documentElement,v=l.clientWidth,p=l.clientHeight;return pp(i.left,i.top,v,p)},function(l){return pp(Math.max(l.pageLeft,i.left),Math.max(l.pageTop,i.top),l.width,l.height)})},qf=function(e){return function(n){return!!n&&n.nodeType===e}},Fc=function(e){return!!e&&!Object.getPrototypeOf(e)},Yn=qf(1),As=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return Ee(n,i)}return!1}},mu=function(e,n){var a=n.toLowerCase().split(" ");return function(i){if(Yn(i))for(var l=0;l<a.length;l++){var v=i.ownerDocument.defaultView.getComputedStyle(i,null),p=v?v.getPropertyValue(e):null;if(p===a[l])return!0}return!1}},Wi=function(e){return function(n){return Yn(n)&&n.hasAttribute(e)}},Es=function(e,n){return function(a){return Yn(a)&&a.getAttribute(e)===n}},bo=function(e){return Yn(e)&&e.hasAttribute("data-mce-bogus")},Vo=function(e){return Yn(e)&&e.getAttribute("data-mce-bogus")==="all"},Ao=function(e){return Yn(e)&&e.tagName==="TABLE"},Lc=function(e){return function(n){return!!(Yn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},Ai=As(["textarea","input"]),gn=qf(3),Kf=qf(8),bp=qf(9),vr=qf(11),wa=As(["br"]),mh=As(["img"]),xl=Lc("true"),La=Lc("false"),hh=As(["td","th"]),Mu=As(["video","audio","object","embed"]),Fd=function(e,n,a){return a===void 0&&(a=et),e.exists(function(i){return a(i,n)})},hr=function(e){for(var n=[],a=function(l){n.push(l)},i=0;i<e.length;i++)e[i].each(a);return n},eu=function(e,n,a){return e.isSome()&&n.isSome()?te.some(a(e.getOrDie(),n.getOrDie())):te.none()},a2=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?te.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):te.none()},o2=function(e,n){return e?te.some(n):te.none()},ja=function(e){return e.style!==void 0&&se(e.style.getPropertyValue)},gh=function(e,n,a){if($e(a)||Se(a)||pe(a))e.setAttribute(n,a+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},M=function(e,n,a){gh(e.dom,n,a)},J=function(e,n){var a=e.dom;Vr(n,function(i,l){gh(a,l,i)})},ae=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},Ce=function(e,n){return te.from(ae(e,n))},qe=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},bt=function(e,n){e.dom.removeAttribute(n)},xn=function(e){return Rt(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},tr=function(e,n,a){if(!$e(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);ja(e)&&e.style.setProperty(n,a)},Or=function(e,n){var a=e.dom;Vr(n,function(i,l){tr(a,l,i)})},gr=function(e,n){var a=e.dom,i=window.getComputedStyle(a),l=i.getPropertyValue(n);return l===""&&!Wf(e)?xa(a,n):l},xa=function(e,n){return ja(e)?e.style.getPropertyValue(n):""},Ei=function(e,n){var a=e.dom,i=xa(a,n);return te.from(i).filter(function(l){return l.length>0})},ao=function(e){var n={},a=e.dom;if(ja(a))for(var i=0;i<a.style.length;i++){var l=a.style.item(i);n[l]=a.style[l]}return n},SA=function(e){return e.dom.offsetWidth},US=Rn().browser,WS=function(e){return rn(e,Fa)},_A=function(e){return US.isFirefox()&&xo(e)==="table"?WS(Qi(e)).filter(function(n){return xo(n)==="caption"}).bind(function(n){return WS(Ba(n)).map(function(a){var i=a.dom.offsetTop,l=n.dom.offsetTop,v=n.dom.offsetHeight;return i<=l?-v:0})}).getOr(0):0},ac=function(e,n){return e.children&&Ee(e.children,n)},yp=function(e,n,a){var i=0,l=0,v=e.ownerDocument;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&gr(je.fromDom(e),"position")==="static"){var p=n.getBoundingClientRect();return i=p.left+(v.documentElement.scrollLeft||e.scrollLeft)-v.documentElement.clientLeft,l=p.top+(v.documentElement.scrollTop||e.scrollTop)-v.documentElement.clientTop,{x:i,y:l}}for(var x=n;x&&x!==a&&x.nodeType&&!ac(x,a);){var A=x;i+=A.offsetLeft||0,l+=A.offsetTop||0,x=A.offsetParent}for(x=n.parentNode;x&&x!==a&&x.nodeType&&!ac(x,a);)i-=x.scrollLeft||0,l-=x.scrollTop||0,x=x.parentNode;l+=_A(je.fromDom(n))}return{x:i,y:l}},Pu={},ph={exports:Pu};(function(e,n,a,i){(function(l,v){typeof n=="object"&&typeof a<"u"?a.exports=v():typeof e=="function"&&e.amd?e(v):(l=typeof globalThis<"u"?globalThis:l||self,l.EphoxContactWrapper=v())})(this,function(){var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof M8<"u"?M8:typeof self<"u"?self:{},v={exports:{}};(function(N){(function(X){var Z=setTimeout;function Q(){}function ce(Re,Qe){return function(){Re.apply(Qe,arguments)}}function ve(Re){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Re!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],We(Re,this)}function me(Re,Qe){for(;Re._state===3;)Re=Re._value;if(Re._state===0){Re._deferreds.push(Qe);return}Re._handled=!0,ve._immediateFn(function(){var xt=Re._state===1?Qe.onFulfilled:Qe.onRejected;if(xt===null){(Re._state===1?he:De)(Qe.promise,Re._value);return}var Ft;try{Ft=xt(Re._value)}catch(Vn){De(Qe.promise,Vn);return}he(Qe.promise,Ft)})}function he(Re,Qe){try{if(Qe===Re)throw new TypeError("A promise cannot be resolved with itself.");if(Qe&&(typeof Qe=="object"||typeof Qe=="function")){var xt=Qe.then;if(Qe instanceof ve){Re._state=3,Re._value=Qe,Ae(Re);return}else if(typeof xt=="function"){We(ce(xt,Qe),Re);return}}Re._state=1,Re._value=Qe,Ae(Re)}catch(Ft){De(Re,Ft)}}function De(Re,Qe){Re._state=2,Re._value=Qe,Ae(Re)}function Ae(Re){Re._state===2&&Re._deferreds.length===0&&ve._immediateFn(function(){Re._handled||ve._unhandledRejectionFn(Re._value)});for(var Qe=0,xt=Re._deferreds.length;Qe<xt;Qe++)me(Re,Re._deferreds[Qe]);Re._deferreds=null}function Xe(Re,Qe,xt){this.onFulfilled=typeof Re=="function"?Re:null,this.onRejected=typeof Qe=="function"?Qe:null,this.promise=xt}function We(Re,Qe){var xt=!1;try{Re(function(Ft){xt||(xt=!0,he(Qe,Ft))},function(Ft){xt||(xt=!0,De(Qe,Ft))})}catch(Ft){if(xt)return;xt=!0,De(Qe,Ft)}}ve.prototype.catch=function(Re){return this.then(null,Re)},ve.prototype.then=function(Re,Qe){var xt=new this.constructor(Q);return me(this,new Xe(Re,Qe,xt)),xt},ve.all=function(Re){var Qe=Array.prototype.slice.call(Re);return new ve(function(xt,Ft){if(Qe.length===0)return xt([]);var Vn=Qe.length;function mn(Ln,Vt){try{if(Vt&&(typeof Vt=="object"||typeof Vt=="function")){var vn=Vt.then;if(typeof vn=="function"){vn.call(Vt,function(jt){mn(Ln,jt)},Ft);return}}Qe[Ln]=Vt,--Vn===0&&xt(Qe)}catch(jt){Ft(jt)}}for(var Bt=0;Bt<Qe.length;Bt++)mn(Bt,Qe[Bt])})},ve.resolve=function(Re){return Re&&typeof Re=="object"&&Re.constructor===ve?Re:new ve(function(Qe){Qe(Re)})},ve.reject=function(Re){return new ve(function(Qe,xt){xt(Re)})},ve.race=function(Re){return new ve(function(Qe,xt){for(var Ft=0,Vn=Re.length;Ft<Vn;Ft++)Re[Ft].then(Qe,xt)})},ve._immediateFn=typeof setImmediate=="function"?function(Re){setImmediate(Re)}:function(Re){Z(Re,0)},ve._unhandledRejectionFn=function(Qe){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Qe)},ve._setImmediateFn=function(Qe){ve._immediateFn=Qe},ve._setUnhandledRejectionFn=function(Qe){ve._unhandledRejectionFn=Qe},N.exports?N.exports=ve:X.Promise||(X.Promise=ve)})(l)})(v);var p=v.exports,x=function(){return typeof window<"u"?window:Function("return this;")()}(),A={boltExport:x.Promise||p};return A})})(void 0,Pu,ph);var i2=ph.exports.boltExport,wp=function(e){var n=te.none(),a=[],i=function(N){return wp(function(X){l(function(Z){X(N(Z))})})},l=function(N){p()?A(N):a.push(N)},v=function(N){p()||(n=te.some(N),x(a),a=[])},p=function(){return n.isSome()},x=function(N){He(N,A)},A=function(N){n.each(function(X){setTimeout(function(){N(X)},0)})};return e(v),{get:l,map:i,isReady:p}},pb=function(e){return wp(function(n){n(e)})},jS={nu:wp,pure:pb},xA=function(e){setTimeout(function(){throw e},0)},oc=function(e){var n=function(A){e().then(A,xA)},a=function(A){return oc(function(){return e().then(A)})},i=function(A){return oc(function(){return e().then(function(N){return A(N).toPromise()})})},l=function(A){return oc(function(){return e().then(function(){return A.toPromise()})})},v=function(){return jS.nu(n)},p=function(){var A=null;return oc(function(){return A===null&&(A=e()),A})},x=e;return{map:a,bind:i,anonBind:l,toLazy:v,toCached:p,toPromise:x,get:n}},Cp=function(e){return oc(function(){return new i2(e)})},kA=function(e){return oc(function(){return i2.resolve(e)})},u2={nu:Cp,pure:kA},AA=function(e,n){return n(function(a){var i=[],l=0,v=function(p){return function(x){i[p]=x,l++,l>=e.length&&a(i)}};e.length===0?a([]):He(e,function(p,x){p.get(v(x))})})},EA=function(e){return AA(e,u2.nu)},bh=function(e){var n=function(Z){return bh(e)},a=function(Z){return bh(e)},i=function(Z){return bh(Z(e))},l=function(Z){return bh(e)},v=function(Z){Z(e)},p=function(Z){return Z(e)},x=function(Z,Q){return Q(e)},A=function(Z){return Z(e)},N=function(Z){return Z(e)},X=function(){return te.some(e)};return{isValue:ot,isError:at,getOr:W(e),getOrThunk:W(e),getOrDie:W(e),or:n,orThunk:a,fold:x,map:i,mapError:l,each:v,bind:p,exists:A,forall:N,toOptional:X}},Sp=function(e){var n=function(N){return N()},a=function(){return ut(String(e))()},i=ke,l=function(N){return N()},v=function(N){return Sp(e)},p=function(N){return Sp(N(e))},x=function(N){return Sp(e)},A=function(N,X){return N(e)};return{isValue:at,isError:ot,getOr:ke,getOrThunk:n,getOrDie:a,or:i,orThunk:l,fold:A,map:v,mapError:p,each:ye,bind:x,exists:at,forall:ot,toOptional:te.none}},GS=function(e,n){return e.fold(function(){return Sp(n)},bh)},qS={value:bh,error:Sp,fromOption:GS},is=function(e){if(!Be(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return He(e,function(i,l){var v=Zi(i);if(v.length!==1)throw new Error("one and only one name per case");var p=v[0],x=i[p];if(a[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Be(x))throw new Error("case arguments must be an array");n.push(p),a[p]=function(){for(var A=[],N=0;N<arguments.length;N++)A[N]=arguments[N];var X=A.length;if(X!==x.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+x.length+" ("+x+"), got "+X);var Z=function(Q){var ce=Zi(Q);if(n.length!==ce.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+ce.join(","));var ve=qr(n,function(me){return Ee(ce,me)});if(!ve)throw new Error("Not all branches were specified when using match. Specified: "+ce.join(", ")+`
Required: `+n.join(", "));return Q[p].apply(null,A)};return{fold:function(){for(var Q=[],ce=0;ce<arguments.length;ce++)Q[ce]=arguments[ce];if(Q.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Q.length);var ve=Q[l];return ve.apply(null,A)},match:Z,log:function(Q){console.log(Q,{constructors:n,constructor:p,params:A})}}}}),a},$n={generate:is};$n.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Xf=function(e){return e.fold(ke,ke)};function _p(e,n,a,i,l){return e(a,i)?te.some(a):se(l)&&l(a)?te.none():n(a,i,l)}var Nv=function(e,n,a){for(var i=e.dom,l=se(a)?a:at;i.parentNode;){i=i.parentNode;var v=je.fromDom(i);if(n(v))return te.some(v);if(l(v))break}return te.none()},yh=function(e,n,a){var i=function(l,v){return v(l)};return _p(i,Nv,e,n,a)},s2=function(e,n){var a=e.dom;return a.parentNode?kl(je.fromDom(a.parentNode),function(i){return!$a(e,i)&&n(i)}):te.none()},kl=function(e,n){var a=function(l){return n(je.fromDom(l))},i=rn(e.dom.childNodes,a);return i.map(je.fromDom)},Ld=function(e,n,a){return Nv(e,function(i){return Zl(i,n)},a)},wh=function(e,n){return Ql(n,e)},yo=function(e,n,a){var i=function(l,v){return Zl(l,v)};return _p(i,Ld,e,n,a)},si=window.Promise?window.Promise:i2,xp,Hc=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],l=function(p){window.setTimeout(p,0)},v=0;v<i.length&&!a;v++)a=window[i[v]+"RequestAnimationFrame"];a||(a=l),a(e,n)},kp=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},bb=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},yb=function(e){return clearTimeout(e)},TA=function(e){return clearInterval(e)},Ch=function(e,n){var a,i=function(){for(var l=[],v=0;v<arguments.length;v++)l[v]=arguments[v];clearTimeout(a),a=kp(function(){e.apply(this,l)},n)};return i.stop=function(){clearTimeout(a)},i},ji={requestAnimationFrame:function(e,n){if(xp){xp.then(e);return}xp=new si(function(a){n||(n=document.body),Hc(a,n)}).then(e)},setTimeout:kp,setInterval:bb,setEditorTimeout:function(e,n,a){return kp(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=bb(function(){e.removed?clearInterval(i):n()},a);return i},debounce:Ch,throttle:Ch,clearInterval:TA,clearTimeout:yb},KS=function(e,n){n===void 0&&(n={});var a=0,i={},l=je.fromDom(e),v=jn(l),p=n.maxLoadTime||5e3,x=function(he){n.referrerPolicy=he},A=function(he){Ho(fo(l),he)},N=function(he){var De=fo(l);wh(De,"#"+he).each(vo)},X=function(he){return Ir(i,he).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},Z=function(he,De,Ae){var Xe,We=wt._addCacheSuffix(he),Re=X(We);i[We]=Re,Re.count++;var Qe=function(Vt,vn){for(var jt=Vt.length;jt--;)Vt[jt]();Re.status=vn,Re.passed=[],Re.failed=[],Xe&&(Xe.onload=null,Xe.onerror=null,Xe=null)},xt=function(){return Qe(Re.passed,2)},Ft=function(){return Qe(Re.failed,3)},Vn=function(Vt,vn){Vt()||(Date.now()-Ln<p?ji.setTimeout(vn):Ft())},mn=function(){Vn(function(){for(var Vt=e.styleSheets,vn=Vt.length;vn--;){var jt=Vt[vn],Qt=jt.ownerNode;if(Qt&&Qt.id===Xe.id)return xt(),!0}return!1},mn)};if(De&&Re.passed.push(De),Ae&&Re.failed.push(Ae),Re.status!==1){if(Re.status===2){xt();return}if(Re.status===3){Ft();return}Re.status=1;var Bt=je.fromTag("link",v.dom);J(Bt,{rel:"stylesheet",type:"text/css",id:Re.id});var Ln=Date.now();n.contentCssCors&&M(Bt,"crossOrigin","anonymous"),n.referrerPolicy&&M(Bt,"referrerpolicy",n.referrerPolicy),Xe=Bt.dom,Xe.onload=mn,Xe.onerror=Ft,A(Bt),M(Bt,"href",We)}},Q=function(he){return u2.nu(function(De){Z(he,Me(De,W(qS.value(he))),Me(De,W(qS.error(he))))})},ce=function(he,De,Ae){EA(tt(he,Q)).get(function(Xe){var We=Jt(Xe,function(Re){return Re.isValue()});We.fail.length>0?Ae(We.fail.map(Xf)):De(We.pass.map(Xf))})},ve=function(he){var De=wt._addCacheSuffix(he);Ir(i,De).each(function(Ae){var Xe=--Ae.count;Xe===0&&(delete i[De],N(Ae.id))})},me=function(he){He(he,function(De){ve(De)})};return{load:Z,loadAll:ce,unload:ve,unloadAll:me,_setReferrerPolicy:x}},Ya=function(){var e=new WeakMap,n=function(a,i){var l=vu(a),v=l.dom;return te.from(e.get(v)).getOrThunk(function(){var p=KS(v,i);return e.set(v,p),p})};return{forElement:n}},Al=Ya(),sa=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,l){var v,p;if(n){if(!l&&n[a])return n[a];if(n!==this.rootNode){if(v=n[i],v)return v;for(p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(v=p[i],v)return v}}},e.prototype.findPreviousNode=function(n,a,i,l){var v,p,x;if(n){if(v=n[i],this.rootNode&&v===this.rootNode)return;if(v){if(!l){for(x=v[a];x;x=x[a])if(!x[a])return x}return v}if(p=n.parentNode,p&&p!==this.rootNode)return p}},e}(),zv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],el=["td","th"],OA=["thead","tbody","tfoot"],Uo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],hu=["h1","h2","h3","h4","h5","h6"],XS=["li","dd","dt"],At=["ul","ol","dl"],Iu=["pre","script","textarea","style"],Yf=function(e){var n;return function(a){return n=n||va(e,ot),Tr(n,xo(a))}},Jn=Yf(hu),Ts=Yf(zv),DA=function(e){return xo(e)==="table"},tu=function(e){return Fa(e)&&!Ts(e)},Sh=function(e){return Fa(e)&&xo(e)==="br"},Vc=Yf(Uo),El=Yf(At),Gi=Yf(XS),Xr=Yf(OA),ic=Yf(el),Hd=Yf(Iu),Ea=function(e,n,a){return Ld(e,n,a).isSome()},Fv="\uFEFF",us="",ss=function(e){return e===Fv},RA=function(e){return e.replace(/\uFEFF/g,"")},Ve=Fv,gu=ss,uc=RA,_h=Yn,Os=gn,Ca=function(e){return Os(e)&&(e=e.parentNode),_h(e)&&e.hasAttribute("data-mce-caret")},Ta=function(e){return Os(e)&&gu(e.data)},Nu=function(e){return Ca(e)||Ta(e)},Jf=function(e){return e.firstChild!==e.lastChild||!wa(e.firstChild)},l2=function(e,n){var a=e.ownerDocument,i=a.createTextNode(Ve),l=e.parentNode;if(n){var v=e.previousSibling;if(Os(v)){if(Nu(v))return v;if(Ep(v))return v.splitText(v.data.length-1)}l.insertBefore(i,e)}else{var v=e.nextSibling;if(Os(v)){if(Nu(v))return v;if(Ap(v))return v.splitText(1),v}e.nextSibling?l.insertBefore(i,e.nextSibling):l.appendChild(i)}return i},In=function(e){var n=e.container();return gn(n)?n.data.charAt(e.offset())===Ve||e.isAtStart()&&Ta(n.previousSibling):!1},wb=function(e){var n=e.container();return gn(n)?n.data.charAt(e.offset()-1)===Ve||e.isAtEnd()&&Ta(n.nextSibling):!1},Ds=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},YS=function(e,n,a){var i=n.ownerDocument,l=i.createElement(e);l.setAttribute("data-mce-caret",a?"before":"after"),l.setAttribute("data-mce-bogus","all"),l.appendChild(Ds());var v=n.parentNode;return a?v.insertBefore(l,n):n.nextSibling?v.insertBefore(l,n.nextSibling):v.appendChild(l),l},Ap=function(e){return Os(e)&&e.data[0]===Ve},Ep=function(e){return Os(e)&&e.data[e.data.length-1]===Ve},c2=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];bo(a)&&a.parentNode.removeChild(a)},f2=function(e){return e&&e.hasAttribute("data-mce-caret")?(c2(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Uc=function(e){return Ca(e.startContainer)},Zf=xl,$A=La,v2=wa,BA=gn,JS=As(["script","style","textarea"]),Tp=As(["img","input","textarea","hr","iframe","video","audio","object","embed"]),xh=As(["table"]),ZS=Nu,Wc=function(e){return ZS(e)?!1:BA(e)?!JS(e.parentNode):Tp(e)||v2(e)||xh(e)||d2(e)},kh=function(e){return Yn(e)&&e.getAttribute("unselectable")==="true"},d2=function(e){return kh(e)===!1&&$A(e)},QS=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(d2(e))return!1;if(Zf(e))return!0}return!0},MA=function(e){return d2(e)?Rt(fr(e.getElementsByTagName("*")),function(n,a){return n||Zf(a)},!1)!==!0:!1},PA=function(e){return Tp(e)||MA(e)},Po=function(e,n){return Wc(e)&&QS(e,n)},jc=/^[ \t\r\n]*$/,Tl=function(e){return jc.test(e)},Lv=function(e,n){var a=je.fromDom(n),i=je.fromDom(e);return Ea(i,"pre,code",le($a,a))},e_=function(e,n){return gn(e)&&Tl(e.data)&&Lv(e,n)===!1},Ol=function(e){return Yn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Vd=function(e,n){return Wc(e)&&e_(e,n)===!1||Ol(e)||m2(e)},m2=Wi("data-mce-bookmark"),h2=Wi("data-mce-bogus"),Qf=Es("data-mce-bogus","all"),tl=function(e,n){var a=0;if(Vd(e,e))return!1;var i=e.firstChild;if(!i)return!0;var l=new sa(i,e);do{if(n){if(Qf(i)){i=l.next(!0);continue}if(h2(i)){i=l.next();continue}}if(wa(i)){a++,i=l.next();continue}if(Vd(i,e))return!1;i=l.next()}while(i);return a<=1},Ti=function(e,n){return n===void 0&&(n=!0),tl(e.dom,n)},Cb=function(e){return e.nodeName.toLowerCase()==="span"},g2=function(e,n){return Ge(e)&&(Vd(e,n)||tu(je.fromDom(e)))},Ud=function(e,n){var a=new sa(e,n).prev(!1),i=new sa(e,n).next(!1),l=Te(a)||g2(a,n),v=Te(i)||g2(i,n);return l&&v},Ah=function(e){return Cb(e)&&e.getAttribute("data-mce-type")==="bookmark"},Eh=function(e,n){return gn(e)&&e.data.length>0&&Ud(e,n)},IA=function(e){return Yn(e)?e.childNodes.length>0:!1},Th=function(e){return vr(e)||bp(e)},p2=function(e,n,a){var i=a||n;if(Yn(n)&&Ah(n))return n;for(var l=n.childNodes,v=l.length-1;v>=0;v--)p2(e,l[v],i);if(Yn(n)){var p=n.childNodes;p.length===1&&Ah(p[0])&&n.parentNode.insertBefore(p[0],n)}return!Th(n)&&!Vd(n,i)&&!IA(n)&&!Eh(n,i)&&e.remove(n),n},NA=wt.makeMap,oo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hv=/[<>&\"\']/g,b2=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,y2={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},nl={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Rs={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Wd=function(e){var n=je.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Vv=function(e,n){var a,i,l,v={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),nl[i]||(l="&"+e[a+1]+";",v[i]=l,v[l]=i);return v}},_b=Vv("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Op=function(e,n){return e.replace(n?oo:Sb,function(a){return nl[a]||a})},w2=function(e){return(""+e).replace(Hv,function(n){return nl[n]||n})},jd=function(e,n){return e.replace(n?oo:Sb,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":nl[a]||"&#"+a.charCodeAt(0)+";"})},xb=function(e,n,a){return a=a||_b,e.replace(n?oo:Sb,function(i){return nl[i]||a[i]||i})},zA=function(e,n){var a=Vv(n)||_b,i=function(p,x){return p.replace(x?oo:Sb,function(A){return nl[A]!==void 0?nl[A]:a[A]!==void 0?a[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"})},l=function(p,x){return xb(p,x,a)},v=NA(e.replace(/\+/g,","));return v.named&&v.numeric?i:v.named?n?l:xb:v.numeric?jd:Op},C2=function(e){return e.replace(b2,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):y2[a]||String.fromCharCode(a)):Rs[n]||_b[n]||Wd(n)})},$s={encodeRaw:Op,encodeAllRaw:w2,encodeNumeric:jd,encodeNamed:xb,getEncodeFunc:zA,decode:C2},ls={},Oh={},Dl=wt.makeMap,qi=wt.each,kb=wt.extend,ev=wt.explode,t_=wt.inArray,Oi=function(e,n){return e=wt.trim(e),e?e.split(n||" "):[]},S2=function(e,n){var a=Dl(e," ",Dl(e.toUpperCase()," "));return kb(a,n)},Ab=function(e){return S2("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},Wr=function(e){var n={},a,i,l,v,p,x,A=function(X,Z,Q){var ce,ve,me,he=function(Ae,Xe){var We={},Re,Qe;for(Re=0,Qe=Ae.length;Re<Qe;Re++)We[Ae[Re]]=Xe||{};return We};Q=Q||[],Z=Z||"",typeof Q=="string"&&(Q=Oi(Q));var De=Oi(X);for(ce=De.length;ce--;)ve=Oi([a,Z].join(" ")),me={attributes:he(ve),attributesOrder:ve,children:he(Q,Oh)},n[De[ce]]=me},N=function(X,Z){var Q,ce,ve,me,he=Oi(X);Q=he.length;for(var De=Oi(Z);Q--;)for(ce=n[he[Q]],ve=0,me=De.length;ve<me;ve++)ce.attributes[De[ve]]={},ce.attributesOrder.push(De[ve])};return ls[e]?ls[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",x="acronym applet basefont big font strike tt",l=[l,x].join(" "),qi(Oi(x),function(X){A(X,"",l)}),p="center dir isindex noframes",i=[i,p].join(" "),v=[i,l].join(" "),qi(Oi(p),function(X){A(X,"",v)})),v=v||[i,l].join(" "),A("html","manifest","head body"),A("head","","base command link meta noscript script style title"),A("title hr noscript br"),A("base","href target"),A("link","href rel media hreflang type sizes hreflang"),A("meta","name http-equiv content charset"),A("style","media type scoped"),A("script","src async defer type charset"),A("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",v),A("address dt dd div caption","",v),A("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),A("blockquote","cite",v),A("ol","reversed start type","li"),A("ul","","li"),A("li","value",v),A("dl","","dt dd"),A("a","href target rel media hreflang type",l),A("q","cite",l),A("ins del","cite datetime",v),A("img","src sizes srcset alt usemap ismap width height"),A("iframe","src name width height",v),A("embed","src type width height"),A("object","data type typemustmatch name usemap form width height",[v,"param"].join(" ")),A("param","name value"),A("map","name",[v,"area"].join(" ")),A("area","alt coords shape href target rel media hreflang type"),A("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),A("colgroup","span","col"),A("col","span"),A("tbody thead tfoot","","tr"),A("tr","","td th"),A("td","colspan rowspan headers",v),A("th","colspan rowspan headers scope abbr",v),A("form","accept-charset action autocomplete enctype method name novalidate target",v),A("fieldset","disabled form name",[v,"legend"].join(" ")),A("label","form for",l),A("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),A("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?v:l),A("select","disabled form multiple name required size","option optgroup"),A("optgroup","disabled label","option"),A("option","disabled label selected value"),A("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),A("menu","type label",[v,"li"].join(" ")),A("noscript","",v),e!=="html4"&&(A("wbr"),A("ruby","",[l,"rt rp"].join(" ")),A("figcaption","",v),A("mark rt rp summary bdi","",l),A("canvas","width height",v),A("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[v,"track source"].join(" ")),A("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[v,"track source"].join(" ")),A("picture","","img source"),A("source","src srcset type media sizes"),A("track","kind src srclang label default"),A("datalist","",[l,"option"].join(" ")),A("article section nav aside main header footer","",v),A("hgroup","","h1 h2 h3 h4 h5 h6"),A("figure","",[v,"figcaption"].join(" ")),A("time","datetime",l),A("dialog","open",v),A("command","type label icon disabled checked radiogroup command"),A("output","for form name",l),A("progress","value max",l),A("meter","value min max low high optimum",l),A("details","open",[v,"summary"].join(" ")),A("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(N("script","language xml:space"),N("style","xml:space"),N("object","declare classid code codebase codetype archive standby align border hspace vspace"),N("embed","align name hspace vspace"),N("param","valuetype type"),N("a","charset name rev shape coords"),N("br","clear"),N("applet","codebase archive code object alt name width height align hspace vspace"),N("img","name longdesc align border hspace vspace"),N("iframe","longdesc frameborder marginwidth marginheight scrolling align"),N("font basefont","size color face"),N("input","usemap align"),N("select"),N("textarea"),N("h1 h2 h3 h4 h5 h6 div p legend caption","align"),N("ul","type compact"),N("li","type"),N("ol dl menu dir","compact"),N("pre","width xml:space"),N("hr","align noshade size width"),N("isindex","prompt"),N("table","summary width frame rules cellspacing cellpadding align bgcolor"),N("col","width align char charoff valign"),N("colgroup","width align char charoff valign"),N("thead","align char charoff valign"),N("tr","align char charoff valign bgcolor"),N("th","axis align char charoff valign nowrap bgcolor width height"),N("form","accept"),N("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),N("tfoot","align char charoff valign"),N("tbody","align char charoff valign"),N("area","nohref"),N("body","background bgcolor text link vlink alink")),e!=="html4"&&(N("input button select textarea","autofocus"),N("input textarea","placeholder"),N("a","download"),N("link script img","crossorigin"),N("img","loading"),N("iframe","sandbox seamless allowfullscreen loading")),qi(Oi("a form meter progress dfn"),function(X){n[X]&&delete n[X].children[X]}),delete n.caption.children.table,delete n.script,ls[e]=n,n)},Nn=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),qi(e,function(i,l){a[l]=a[l.toUpperCase()]=n==="map"?Dl(i,/[, ]/):ev(i,/[, ]/)})),a},Bs=function(e){var n={},a={},i=[],l={},v={},p=function(It,Kt,Dn){var nt=e[It];return nt?nt=Dl(nt,/[, ]/,Dl(nt.toUpperCase(),/[, ]/)):(nt=ls[It],nt||(nt=S2(Kt,Dn),ls[It]=nt)),nt};e=e||{};var x=Wr(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var A=Nn(e.valid_styles),N=Nn(e.invalid_styles,"map"),X=Nn(e.valid_classes,"map"),Z=p("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Q=p("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ce=p("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ve=p("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),me="td th iframe video audio object script code",he=p("non_empty_elements",me+" pre",ce),De=p("move_caret_before_on_enter_elements",me+" table",ce),Ae=p("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Xe=p("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Ae),We=p("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");qi((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(It){v[It]=new RegExp("</"+It+"[^>]*>","gi")});var Re=function(It){return new RegExp("^"+It.replace(/([?+*])/g,".$1")+"$")},Qe=function(It){var Kt,Dn,nt,Ht,Nt,Bn,zn,Aa,ni,Yo,Nm,Gu,Eu,gi,Vl,qu,_f,Oa,Va=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,pi=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,bs=/[*?+]/;if(It){var _v=Oi(It,",");for(n["@"]&&(qu=n["@"].attributes,_f=n["@"].attributesOrder),Kt=0,Dn=_v.length;Kt<Dn;Kt++)if(Nt=Va.exec(_v[Kt]),Nt){if(gi=Nt[1],ni=Nt[2],Vl=Nt[3],Aa=Nt[5],Gu={},Eu=[],Bn={attributes:Gu,attributesOrder:Eu},gi==="#"&&(Bn.paddEmpty=!0),gi==="-"&&(Bn.removeEmpty=!0),Nt[4]==="!"&&(Bn.removeEmptyAttrs=!0),qu&&(Vr(qu,function(xv,Jg){Gu[Jg]=xv}),Eu.push.apply(Eu,_f)),Aa){for(Aa=Oi(Aa,"|"),nt=0,Ht=Aa.length;nt<Ht;nt++)if(Nt=pi.exec(Aa[nt]),Nt){if(zn={},Nm=Nt[1],Yo=Nt[2].replace(/[\\:]:/g,":"),gi=Nt[3],Oa=Nt[4],Nm==="!"&&(Bn.attributesRequired=Bn.attributesRequired||[],Bn.attributesRequired.push(Yo),zn.required=!0),Nm==="-"){delete Gu[Yo],Eu.splice(t_(Eu,Yo),1);continue}gi&&(gi==="="&&(Bn.attributesDefault=Bn.attributesDefault||[],Bn.attributesDefault.push({name:Yo,value:Oa}),zn.defaultValue=Oa),gi===":"&&(Bn.attributesForced=Bn.attributesForced||[],Bn.attributesForced.push({name:Yo,value:Oa}),zn.forcedValue=Oa),gi==="<"&&(zn.validValues=Dl(Oa,"?"))),bs.test(Yo)?(Bn.attributePatterns=Bn.attributePatterns||[],zn.pattern=Re(Yo),Bn.attributePatterns.push(zn)):(Gu[Yo]||Eu.push(Yo),Gu[Yo]=zn)}}!qu&&ni==="@"&&(qu=Gu,_f=Eu),Vl&&(Bn.outputName=ni,n[Vl]=Bn),bs.test(ni)?(Bn.pattern=Re(ni),i.push(Bn)):n[ni]=Bn}}},xt=function(It){n={},i=[],Qe(It),qi(x,function(Kt,Dn){a[Dn]=Kt.children})},Ft=function(It){var Kt=/^(~)?(.+)$/;It&&(ls.text_block_elements=ls.block_elements=null,qi(Oi(It,","),function(Dn){var nt=Kt.exec(Dn),Ht=nt[1]==="~",Nt=Ht?"span":"div",Bn=nt[2];if(a[Bn]=a[Nt],l[Bn]=Nt,Ht||(Xe[Bn.toUpperCase()]={},Xe[Bn]={}),!n[Bn]){var zn=n[Nt];zn=kb({},zn),delete zn.removeEmptyAttrs,delete zn.removeEmpty,n[Bn]=zn}qi(a,function(Aa,ni){Aa[Nt]&&(a[ni]=Aa=kb({},a[ni]),Aa[Bn]=Aa[Nt])})}))},Vn=function(It){var Kt=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;ls[e.schema]=null,It&&qi(Oi(It,","),function(Dn){var nt=Kt.exec(Dn),Ht,Nt;nt&&(Nt=nt[1],Nt?Ht=a[nt[2]]:Ht=a[nt[2]]={"#comment":{}},Ht=a[nt[2]],qi(Oi(nt[3],"|"),function(Bn){Nt==="-"?delete Ht[Bn]:Ht[Bn]={}}))})},mn=function(It){var Kt=n[It],Dn;if(Kt)return Kt;for(Dn=i.length;Dn--;)if(Kt=i[Dn],Kt.pattern.test(It))return Kt};e.valid_elements?xt(e.valid_elements):(qi(x,function(It,Kt){n[Kt]={attributes:It.attributes,attributesOrder:It.attributesOrder},a[Kt]=It.children}),e.schema!=="html5"&&qi(Oi("strong/b em/i"),function(It){var Kt=Oi(It,"/");n[Kt[1]].outputName=Kt[0]}),qi(We,function(It,Kt){n[Kt]&&(e.padd_empty_block_inline_children&&(n[Kt].paddInEmptyBlock=!0),n[Kt].removeEmpty=!0)}),qi(Oi("ol ul blockquote a table tbody"),function(It){n[It]&&(n[It].removeEmpty=!0)}),qi(Oi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(It){n[It].paddEmpty=!0}),qi(Oi("span"),function(It){n[It].removeEmptyAttrs=!0})),Ft(e.custom_elements),Vn(e.valid_children),Qe(e.extended_valid_elements),Vn("+ol[ul|ol],+ul[ul|ol]"),qi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(It,Kt){n[Kt]&&(n[Kt].parentsRequired=Oi(It))}),e.invalid_elements&&qi(ev(e.invalid_elements),function(It){n[It]&&delete n[It]}),mn("span")||Qe("span[!data-mce-type|*]");var Bt=W(A),Ln=W(N),Vt=W(X),vn=W(ve),jt=W(Xe),Qt=W(Ae),yn=W(We),Pt=W(ce),hn=W(Q),xr=W(he),ra=W(De),Zr=W(Z),zi=W(v),uo=function(It,Kt){var Dn=a[It.toLowerCase()];return!!(Dn&&Dn[Kt.toLowerCase()])},ju=function(It,Kt){var Dn,nt,Ht=mn(It);if(Ht)if(Kt){if(Ht.attributes[Kt])return!0;if(Dn=Ht.attributePatterns,Dn){for(nt=Dn.length;nt--;)if(Dn[nt].pattern.test(It))return!0}}else return!0;return!1},ps=W(l);return{children:a,elements:n,getValidStyles:Bt,getValidClasses:Vt,getBlockElements:jt,getInvalidStyles:Ln,getShortEndedElements:Pt,getTextBlockElements:Qt,getTextInlineElements:yn,getBoolAttrs:vn,getElementRule:mn,getSelfClosingElements:hn,getNonEmptyElements:xr,getMoveCaretBeforeOnEnterElements:ra,getWhiteSpaceElements:Zr,getSpecialElements:zi,isValidChild:uo,isValid:ju,getCustomElements:ps,addValidElements:Qe,setValidElements:xt,addCustomElements:Ft,addValidChildren:Vn}},Eb=function(e,n,a,i){var l=function(v){return v=parseInt(v,10).toString(16),v.length>1?v:"0"+v};return"#"+l(n)+l(a)+l(i)},Rl=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,v=/\s*([^:]+):\s*([^;]+);?/g,p=/\s+$/,x,A={},N,X,Z=Fv;e=e||{},n&&(N=n.getValidStyles(),X=n.getInvalidStyles());var Q=(`\\" \\' \\; \\: ; : `+Z).split(" ");for(x=0;x<Q.length;x++)A[Q[x]]=Z+x,A[Z+x]=Q[x];return{toHex:function(ce){return ce.replace(i,Eb)},parse:function(ce){var ve={},me,he,De,Ae,Xe=e.url_converter,We=e.url_converter_scope||a,Re=function(Vt,vn,jt){var Qt=ve[Vt+"-top"+vn];if(Qt){var yn=ve[Vt+"-right"+vn];if(yn){var Pt=ve[Vt+"-bottom"+vn];if(Pt){var hn=ve[Vt+"-left"+vn];if(hn){var xr=[Qt,yn,Pt,hn];for(x=xr.length-1;x--&&xr[x]===xr[x+1];);x>-1&&jt||(ve[Vt+vn]=x===-1?xr[0]:xr.join(" "),delete ve[Vt+"-top"+vn],delete ve[Vt+"-right"+vn],delete ve[Vt+"-bottom"+vn],delete ve[Vt+"-left"+vn])}}}}},Qe=function(Vt){var vn=ve[Vt],jt;if(vn){for(vn=vn.split(" "),jt=vn.length;jt--;)if(vn[jt]!==vn[0])return!1;return ve[Vt]=vn[0],!0}},xt=function(Vt,vn,jt,Qt){Qe(vn)&&Qe(jt)&&Qe(Qt)&&(ve[Vt]=ve[vn]+" "+ve[jt]+" "+ve[Qt],delete ve[vn],delete ve[jt],delete ve[Qt])},Ft=function(Vt){return Ae=!0,A[Vt]},Vn=function(Vt,vn){return Ae&&(Vt=Vt.replace(/\uFEFF[0-9]/g,function(jt){return A[jt]})),vn||(Vt=Vt.replace(/\\([\'\";:])/g,"$1")),Vt},mn=function(Vt){return String.fromCharCode(parseInt(Vt.slice(1),16))},Bt=function(Vt){return Vt.replace(/\\[0-9a-f]+/gi,mn)},Ln=function(Vt,vn,jt,Qt,yn,Pt){if(yn=yn||Pt,yn)return yn=Vn(yn),"'"+yn.replace(/\'/g,"\\'")+"'";if(vn=Vn(vn||jt||Qt),!e.allow_script_urls){var hn=vn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(hn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(hn))return""}return Xe&&(vn=Xe.call(We,vn,"style")),"url('"+vn.replace(/\'/g,"\\'")+"')"};if(ce){for(ce=ce.replace(/[\u0000-\u001F]/g,""),ce=ce.replace(/\\[\"\';:\uFEFF]/g,Ft).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Vt){return Vt.replace(/[;:]/g,Ft)});me=v.exec(ce);)if(v.lastIndex=me.index+me[0].length,he=me[1].replace(p,"").toLowerCase(),De=me[2].replace(p,""),he&&De){if(he=Bt(he),De=Bt(De),he.indexOf(Z)!==-1||he.indexOf('"')!==-1||!e.allow_script_urls&&(he==="behavior"||/expression\s*\(|\/\*|\*\//.test(De)))continue;he==="font-weight"&&De==="700"?De="bold":(he==="color"||he==="background-color")&&(De=De.toLowerCase()),De=De.replace(i,Eb),De=De.replace(l,Ln),ve[he]=Ae?Vn(De,!0):De}Re("border","",!0),Re("border","-width"),Re("border","-color"),Re("border","-style"),Re("padding",""),Re("margin",""),xt("border","border-width","border-style","border-color"),ve.border==="medium none"&&delete ve.border,ve["border-image"]==="none"&&delete ve["border-image"]}return ve},serialize:function(ce,ve){var me="",he=function(Ae){var Xe,We=N[Ae];if(We)for(var Re=0,Qe=We.length;Re<Qe;Re++)Ae=We[Re],Xe=ce[Ae],Xe&&(me+=(me.length>0?" ":"")+Ae+": "+Xe+";")},De=function(Ae,Xe){var We=X["*"];return We&&We[Ae]?!1:(We=X[Xe],!(We&&We[Ae]))};return ve&&N?(he("*"),he(ve)):Vr(ce,function(Ae,Xe){Ae&&(!X||De(Xe,ve))&&(me+=(me.length>0?" ":"")+Xe+": "+Ae+";")}),me}}},n_={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Sa=function(e){return e instanceof Event||se(e.initEvent)},_2=function(e){return e.isDefaultPrevented===ot||e.isDefaultPrevented===at},Tb=function(e){return xe(e.preventDefault)||Sa(e)},Ob=function(e,n){var a=n??{};for(var i in e)Tr(n_,i)||(a[i]=e[i]);return Ge(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},$t=function(e,n,a,i){var l,v=Ob(n,i);return v.type=e,xe(v.target)&&(v.target=(l=v.srcElement)!==null&&l!==void 0?l:a),Tb(n)&&(v.preventDefault=function(){v.defaultPrevented=!0,v.isDefaultPrevented=ot,se(n.preventDefault)?n.preventDefault():Sa(n)&&(n.returnValue=!1)},v.stopPropagation=function(){v.cancelBubble=!0,v.isPropagationStopped=ot,se(n.stopPropagation)?n.stopPropagation():Sa(n)&&(n.cancelBubble=!0)},v.stopImmediatePropagation=function(){v.isImmediatePropagationStopped=ot,v.stopPropagation()},_2(v)||(v.isDefaultPrevented=v.defaultPrevented===!0?ot:at,v.isPropagationStopped=v.cancelBubble===!0?ot:at,v.isImmediatePropagationStopped=at)),v},x2="mce-data-",k2=/^(?:mouse|contextmenu)|click/,Uv=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},Dp=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},Gd=function(e){return Ge(e)&&k2.test(e.type)},Wv=function(e,n){var a=$t(e.type,e,document,n);if(Gd(e)&&Te(e.pageX)&&!Te(e.clientX)){var i=a.target.ownerDocument||document,l=i.documentElement,v=i.body,p=a;p.pageX=e.clientX+(l&&l.scrollLeft||v&&v.scrollLeft||0)-(l&&l.clientLeft||v&&v.clientLeft||0),p.pageY=e.clientY+(l&&l.scrollTop||v&&v.scrollTop||0)-(l&&l.clientTop||v&&v.clientTop||0)}return Te(a.metaKey)&&(a.metaKey=!1),a},qd=function(e,n,a){var i=e.document,l={type:"ready"};if(a.domLoaded){n(l);return}var v=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},p=function(){Dp(e,"DOMContentLoaded",p),Dp(e,"load",p),a.domLoaded||(a.domLoaded=!0,n(l)),e=null};v()?p():Uv(e,"DOMContentLoaded",p),a.domLoaded||Uv(e,"load",p)},Dh=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=x2+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,l){var v=this,p,x,A,N,X,Z,Q,ce=window,ve=function(he){v.executeHandlers(Wv(he||ce.event),p)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[v.expando]?p=n[v.expando]:(p=v.count++,n[v.expando]=p,v.events[p]={}),l=l||n;var me=a.split(" ");for(A=me.length;A--;){if(N=me[A],Z=ve,X=Q=!1,N==="DOMContentLoaded"&&(N="ready"),v.domLoaded&&N==="ready"&&n.readyState==="complete"){i.call(l,Wv({type:N}));continue}v.hasMouseEnterLeave||(X=v.mouseEnterLeave[N],X&&(Z=function(he){var De=he.currentTarget,Ae=he.relatedTarget;if(Ae&&De.contains)Ae=De.contains(Ae);else for(;Ae&&Ae!==De;)Ae=Ae.parentNode;Ae||(he=Wv(he||ce.event),he.type=he.type==="mouseout"?"mouseleave":"mouseenter",he.target=De,v.executeHandlers(he,p))})),!v.hasFocusIn&&(N==="focusin"||N==="focusout")&&(Q=!0,X=N==="focusin"?"focus":"blur",Z=function(he){he=Wv(he||ce.event),he.type=he.type==="focus"?"focusin":"focusout",v.executeHandlers(he,p)}),x=v.events[p][N],x?N==="ready"&&v.domLoaded?i(Wv({type:N})):x.push({func:i,scope:l}):(v.events[p][N]=x=[{func:i,scope:l}],x.fakeName=X,x.capture=Q,x.nativeHandler=Z,N==="ready"?qd(n,Z,v):Uv(n,X||N,Z,Q))}return n=x=null,i}},e.prototype.unbind=function(n,a,i){var l,v,p,x,A;if(!n||n.nodeType===3||n.nodeType===8)return this;var N=n[this.expando];if(N){if(A=this.events[N],a){var X=a.split(" ");for(v=X.length;v--;)if(x=X[v],l=A[x],l){if(i){for(p=l.length;p--;)if(l[p].func===i){var Z=l.nativeHandler,Q=l.fakeName,ce=l.capture;l=l.slice(0,p).concat(l.slice(p+1)),l.nativeHandler=Z,l.fakeName=Q,l.capture=ce,A[x]=l}}(!i||l.length===0)&&(delete A[x],Dp(n,l.fakeName||x,l.nativeHandler,l.capture))}}else Vr(A,function(ve,me){Dp(n,ve.fakeName||me,ve.nativeHandler,ve.capture)}),A={};for(x in A)if(Tr(A,x))return this;delete this.events[N];try{delete n[this.expando]}catch{n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var l;if(!n||n.nodeType===3||n.nodeType===8)return this;var v=Wv({type:a,target:n},i);do l=n[this.expando],l&&this.executeHandlers(v,l),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!v.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],l=i&&i[n.type];if(l)for(var v=0,p=l.length;v<p;v++){var x=l[v];if(x&&x.func.call(x.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),Eo,ir,Ms,r_,cs,A2,Gc,tv,nv,Ps,jv,Zo,pu,qc,Gv,Rh,Kd,wn,li="sizzle"+-new Date,sc=window.document,Kc=0,Rp=0,a_=Bb(),Db=Bb(),qv=Bb(),Kv=function(e,n){return e===n&&(Ps=!0),0},$h="undefined",$p=1<<31,FA={}.hasOwnProperty,Is=[],E2=Is.pop,Xd=Is.push,Xv=Is.push,T2=Is.slice,Yv=Is.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},o_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ja="[\\x20\\t\\r\\n\\f]",Di="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ki="\\["+Ja+"*("+Di+")(?:"+Ja+"*([*^$|!~]?=)"+Ja+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Di+"))|)"+Ja+"*\\]",i_=":("+Di+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ki+")*)|.*)\\)|)",Rb=new RegExp("^"+Ja+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ja+"+$","g"),LA=new RegExp("^"+Ja+"*,"+Ja+"*"),u_=new RegExp("^"+Ja+"*([>+~]|"+Ja+")"+Ja+"*"),$l=new RegExp("="+Ja+`*([^\\]'"]*?)`+Ja+"*\\]","g"),HA=new RegExp(i_),Bh=new RegExp("^"+Di+"$"),$b={ID:new RegExp("^#("+Di+")"),CLASS:new RegExp("^\\.("+Di+")"),TAG:new RegExp("^("+Di+"|[*])"),ATTR:new RegExp("^"+Ki),PSEUDO:new RegExp("^"+i_),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ja+"*(even|odd|(([+-]|)(\\d*)n|)"+Ja+"*(?:([+-]|)"+Ja+"*(\\d+)|))"+Ja+"*\\)|)","i"),bool:new RegExp("^(?:"+o_+")$","i"),needsContext:new RegExp("^"+Ja+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ja+"*((?:-\\d)?\\d*)"+Ja+"*\\)|)(?=[^-]|$)","i")},VA=/^(?:input|select|textarea|button)$/i,s_=/^h\d$/i,O2=/^[^{]+\{\s*\[native \w/,D2=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,R2=/[+~]/,UA=/'|\\/g,Jv=new RegExp("\\\\([\\da-f]{1,6}"+Ja+"?|("+Ja+")|.)","ig"),Zv=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{Xv.apply(Is=T2.call(sc.childNodes),sc.childNodes),Is[sc.childNodes.length].nodeType}catch{Xv={apply:Is.length?function(n,a){Xd.apply(n,T2.call(a))}:function(n,a){for(var i=n.length,l=0;n[i++]=a[l++];);n.length=i-1}}}var ga=function(e,n,a,i){var l,v,p,x,A,N,X,Z,Q,ce;if((n?n.ownerDocument||n:sc)!==Zo&&jv(n),n=n||Zo,a=a||[],!e||typeof e!="string")return a;if((x=n.nodeType)!==1&&x!==9)return[];if(qc&&!i){if(l=D2.exec(e))if(p=l[1]){if(x===9)if(v=n.getElementById(p),v&&v.parentNode){if(v.id===p)return a.push(v),a}else return a;else if(n.ownerDocument&&(v=n.ownerDocument.getElementById(p))&&wn(n,v)&&v.id===p)return a.push(v),a}else{if(l[2])return Xv.apply(a,n.getElementsByTagName(e)),a;if((p=l[3])&&Eo.getElementsByClassName)return Xv.apply(a,n.getElementsByClassName(p)),a}if(Eo.qsa&&(!Gv||!Gv.test(e))){if(Z=X=li,Q=n,ce=x===9&&e,x===1&&n.nodeName.toLowerCase()!=="object"){for(N=cs(e),(X=n.getAttribute("id"))?Z=X.replace(UA,"\\$&"):n.setAttribute("id",Z),Z="[id='"+Z+"'] ",A=N.length;A--;)N[A]=Z+Pb(N[A]);Q=R2.test(e)&&Mb(n.parentNode)||n,ce=N.join(",")}if(ce)try{return Xv.apply(a,Q.querySelectorAll(ce)),a}catch{}finally{X||n.removeAttribute("id")}}}return Gc(e.replace(Rb,"$1"),n,a,i)};function Bb(){var e=[];function n(a,i){return e.push(a+" ")>ir.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function lc(e){return e[li]=!0,e}function l_(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||$p)-(~e.sourceIndex||$p);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function cc(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function Xc(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function Qv(e){return lc(function(n){return n=+n,lc(function(a,i){for(var l,v=e([],a.length,n),p=v.length;p--;)a[l=v[p]]&&(a[l]=!(i[l]=a[l]))})})}function Mb(e){return e&&typeof e.getElementsByTagName!==$h&&e}Eo=ga.support={},r_=ga.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},jv=ga.setDocument=function(e){var n,a=e?e.ownerDocument||e:sc,i=a.defaultView;function l(v){try{return v.top}catch{}return null}return a===Zo||a.nodeType!==9||!a.documentElement?Zo:(Zo=a,pu=a.documentElement,qc=!r_(a),i&&i!==l(i)&&(i.addEventListener?i.addEventListener("unload",function(){jv()},!1):i.attachEvent&&i.attachEvent("onunload",function(){jv()})),Eo.attributes=!0,Eo.getElementsByTagName=!0,Eo.getElementsByClassName=O2.test(a.getElementsByClassName),Eo.getById=!0,ir.find.ID=function(v,p){if(typeof p.getElementById!==$h&&qc){var x=p.getElementById(v);return x&&x.parentNode?[x]:[]}},ir.filter.ID=function(v){var p=v.replace(Jv,Zv);return function(x){return x.getAttribute("id")===p}},ir.find.TAG=Eo.getElementsByTagName?function(v,p){if(typeof p.getElementsByTagName!==$h)return p.getElementsByTagName(v)}:function(v,p){var x,A=[],N=0,X=p.getElementsByTagName(v);if(v==="*"){for(;x=X[N++];)x.nodeType===1&&A.push(x);return A}return X},ir.find.CLASS=Eo.getElementsByClassName&&function(v,p){if(qc)return p.getElementsByClassName(v)},Rh=[],Gv=[],Eo.disconnectedMatch=!0,Gv=Gv.length&&new RegExp(Gv.join("|")),Rh=Rh.length&&new RegExp(Rh.join("|")),n=O2.test(pu.compareDocumentPosition),wn=n||O2.test(pu.contains)?function(v,p){var x=v.nodeType===9?v.documentElement:v,A=p&&p.parentNode;return v===A||!!(A&&A.nodeType===1&&(x.contains?x.contains(A):v.compareDocumentPosition&&v.compareDocumentPosition(A)&16))}:function(v,p){if(p){for(;p=p.parentNode;)if(p===v)return!0}return!1},Kv=n?function(v,p){if(v===p)return Ps=!0,0;var x=!v.compareDocumentPosition-!p.compareDocumentPosition;return x||(x=(v.ownerDocument||v)===(p.ownerDocument||p)?v.compareDocumentPosition(p):1,x&1||!Eo.sortDetached&&p.compareDocumentPosition(v)===x?v===a||v.ownerDocument===sc&&wn(sc,v)?-1:p===a||p.ownerDocument===sc&&wn(sc,p)?1:nv?Yv.call(nv,v)-Yv.call(nv,p):0:x&4?-1:1)}:function(v,p){if(v===p)return Ps=!0,0;var x,A=0,N=v.parentNode,X=p.parentNode,Z=[v],Q=[p];if(!N||!X)return v===a?-1:p===a?1:N?-1:X?1:nv?Yv.call(nv,v)-Yv.call(nv,p):0;if(N===X)return l_(v,p);for(x=v;x=x.parentNode;)Z.unshift(x);for(x=p;x=x.parentNode;)Q.unshift(x);for(;Z[A]===Q[A];)A++;return A?l_(Z[A],Q[A]):Z[A]===sc?-1:Q[A]===sc?1:0},a)},ga.matches=function(e,n){return ga(e,null,null,n)},ga.matchesSelector=function(e,n){if((e.ownerDocument||e)!==Zo&&jv(e),n=n.replace($l,"='$1']"),Eo.matchesSelector&&qc&&(!Rh||!Rh.test(n))&&(!Gv||!Gv.test(n)))try{var a=Kd.call(e,n);if(a||Eo.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return ga(n,Zo,null,[e]).length>0},ga.contains=function(e,n){return(e.ownerDocument||e)!==Zo&&jv(e),wn(e,n)},ga.attr=function(e,n){(e.ownerDocument||e)!==Zo&&jv(e);var a=ir.attrHandle[n.toLowerCase()],i=a&&FA.call(ir.attrHandle,n.toLowerCase())?a(e,n,!qc):void 0;return i!==void 0?i:Eo.attributes||!qc?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},ga.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ga.uniqueSort=function(e){var n,a=[],i=0,l=0;if(Ps=!Eo.detectDuplicates,nv=!Eo.sortStable&&e.slice(0),e.sort(Kv),Ps){for(;n=e[l++];)n===e[l]&&(i=a.push(l));for(;i--;)e.splice(a[i],1)}return nv=null,e},Ms=ga.getText=function(e){var n,a="",i=0,l=e.nodeType;if(l){if(l===1||l===9||l===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=Ms(e)}else if(l===3||l===4)return e.nodeValue}else for(;n=e[i++];)a+=Ms(n);return a},ir=ga.selectors={cacheLength:50,createPseudo:lc,match:$b,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Jv,Zv),e[3]=(e[3]||e[4]||e[5]||"").replace(Jv,Zv),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ga.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ga.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return $b.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&HA.test(a)&&(n=cs(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(Jv,Zv).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=a_[e+" "];return n||(n=new RegExp("(^|"+Ja+")"+e+"("+Ja+"|$)"))&&a_(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==$h&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var l=ga.attr(i,e);return l==null?n==="!=":n?(l+="",n==="="?l===a:n==="!="?l!==a:n==="^="?a&&l.indexOf(a)===0:n==="*="?a&&l.indexOf(a)>-1:n==="$="?a&&l.slice(-a.length)===a:n==="~="?(" "+l+" ").indexOf(a)>-1:n==="|="?l===a||l.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,l){var v=e.slice(0,3)!=="nth",p=e.slice(-4)!=="last",x=n==="of-type";return i===1&&l===0?function(A){return!!A.parentNode}:function(A,N,X){var Z,Q,ce,ve,me,he,De=v!==p?"nextSibling":"previousSibling",Ae=A.parentNode,Xe=x&&A.nodeName.toLowerCase(),We=!X&&!x;if(Ae){if(v){for(;De;){for(ce=A;ce=ce[De];)if(x?ce.nodeName.toLowerCase()===Xe:ce.nodeType===1)return!1;he=De=e==="only"&&!he&&"nextSibling"}return!0}if(he=[p?Ae.firstChild:Ae.lastChild],p&&We){for(Q=Ae[li]||(Ae[li]={}),Z=Q[e]||[],me=Z[0]===Kc&&Z[1],ve=Z[0]===Kc&&Z[2],ce=me&&Ae.childNodes[me];ce=++me&&ce&&ce[De]||(ve=me=0)||he.pop();)if(ce.nodeType===1&&++ve&&ce===A){Q[e]=[Kc,me,ve];break}}else if(We&&(Z=(A[li]||(A[li]={}))[e])&&Z[0]===Kc)ve=Z[1];else for(;(ce=++me&&ce&&ce[De]||(ve=me=0)||he.pop())&&!((x?ce.nodeName.toLowerCase()===Xe:ce.nodeType===1)&&++ve&&(We&&((ce[li]||(ce[li]={}))[e]=[Kc,ve]),ce===A)););return ve-=l,ve===i||ve%i===0&&ve/i>=0}}},PSEUDO:function(e,n){var a,i=ir.pseudos[e]||ir.setFilters[e.toLowerCase()]||ga.error("unsupported pseudo: "+e);return i[li]?i(n):i.length>1?(a=[e,e,"",n],ir.setFilters.hasOwnProperty(e.toLowerCase())?lc(function(l,v){for(var p,x=i(l,n),A=x.length;A--;)p=Yv.call(l,x[A]),l[p]=!(v[p]=x[A])}):function(l){return i(l,0,a)}):i}},pseudos:{not:lc(function(e){var n=[],a=[],i=A2(e.replace(Rb,"$1"));return i[li]?lc(function(l,v,p,x){for(var A,N=i(l,null,x,[]),X=l.length;X--;)(A=N[X])&&(l[X]=!(v[X]=A))}):function(l,v,p){return n[0]=l,i(n,null,p,a),n[0]=null,!a.pop()}}),has:lc(function(e){return function(n){return ga(e,n).length>0}}),contains:lc(function(e){return e=e.replace(Jv,Zv),function(n){return(n.textContent||n.innerText||Ms(n)).indexOf(e)>-1}}),lang:lc(function(e){return Bh.test(e||"")||ga.error("unsupported lang: "+e),e=e.replace(Jv,Zv).toLowerCase(),function(n){var a;do if(a=qc?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===pu},focus:function(e){return e===Zo.activeElement&&(!Zo.hasFocus||Zo.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!ir.pseudos.empty(e)},header:function(e){return s_.test(e.nodeName)},input:function(e){return VA.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:Qv(function(){return[0]}),last:Qv(function(e,n){return[n-1]}),eq:Qv(function(e,n,a){return[a<0?a+n:a]}),even:Qv(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:Qv(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:Qv(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:Qv(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},ir.pseudos.nth=ir.pseudos.eq,He(["radio","checkbox","file","password","image"],function(e){ir.pseudos[e]=cc(e)}),He(["submit","reset"],function(e){ir.pseudos[e]=Xc(e)});function Bp(){}Bp.prototype=ir.filters=ir.pseudos,ir.setFilters=new Bp,cs=ga.tokenize=function(e,n){var a,i,l,v,p,x,A,N=Db[e+" "];if(N)return n?0:N.slice(0);for(p=e,x=[],A=ir.preFilter;p;){(!a||(i=LA.exec(p)))&&(i&&(p=p.slice(i[0].length)||p),x.push(l=[])),a=!1,(i=u_.exec(p))&&(a=i.shift(),l.push({value:a,type:i[0].replace(Rb," ")}),p=p.slice(a.length));for(v in ir.filter)ir.filter.hasOwnProperty(v)&&(i=$b[v].exec(p))&&(!A[v]||(i=A[v](i)))&&(a=i.shift(),l.push({value:a,type:v,matches:i}),p=p.slice(a.length));if(!a)break}return n?p.length:p?ga.error(e):Db(e,x).slice(0)};function Pb(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function Ib(e,n,a){var i=n.dir,l=a&&i==="parentNode",v=Rp++;return n.first?function(p,x,A){for(;p=p[i];)if(p.nodeType===1||l)return e(p,x,A)}:function(p,x,A){var N,X,Z=[Kc,v];if(A){for(;p=p[i];)if((p.nodeType===1||l)&&e(p,x,A))return!0}else for(;p=p[i];)if(p.nodeType===1||l){if(X=p[li]||(p[li]={}),(N=X[i])&&N[0]===Kc&&N[1]===v)return Z[2]=N[2];if(X[i]=Z,Z[2]=e(p,x,A))return!0}}}function Yd(e){return e.length>1?function(n,a,i){for(var l=e.length;l--;)if(!e[l](n,a,i))return!1;return!0}:e[0]}function WA(e,n,a){for(var i=0,l=n.length;i<l;i++)ga(e,n[i],a);return a}function Nb(e,n,a,i,l){for(var v,p=[],x=0,A=e.length,N=n!=null;x<A;x++)(v=e[x])&&(!a||a(v,i,l))&&(p.push(v),N&&n.push(x));return p}function Mh(e,n,a,i,l,v){return i&&!i[li]&&(i=Mh(i)),l&&!l[li]&&(l=Mh(l,v)),lc(function(p,x,A,N){var X,Z,Q,ce=[],ve=[],me=x.length,he=p||WA(n||"*",A.nodeType?[A]:A,[]),De=e&&(p||!n)?Nb(he,ce,e,A,N):he,Ae=a?l||(p?e:me||i)?[]:x:De;if(a&&a(De,Ae,A,N),i)for(X=Nb(Ae,ve),i(X,[],A,N),Z=X.length;Z--;)(Q=X[Z])&&(Ae[ve[Z]]=!(De[ve[Z]]=Q));if(p){if(l||e){if(l){for(X=[],Z=Ae.length;Z--;)(Q=Ae[Z])&&X.push(De[Z]=Q);l(null,Ae=[],X,N)}for(Z=Ae.length;Z--;)(Q=Ae[Z])&&(X=l?Yv.call(p,Q):ce[Z])>-1&&(p[X]=!(x[X]=Q))}}else Ae=Nb(Ae===x?Ae.splice(me,Ae.length):Ae),l?l(null,x,Ae,N):Xv.apply(x,Ae)})}function Mp(e){for(var n,a,i,l=e.length,v=ir.relative[e[0].type],p=v||ir.relative[" "],x=v?1:0,A=Ib(function(Z){return Z===n},p,!0),N=Ib(function(Z){return Yv.call(n,Z)>-1},p,!0),X=[function(Z,Q,ce){var ve=!v&&(ce||Q!==tv)||((n=Q).nodeType?A(Z,Q,ce):N(Z,Q,ce));return n=null,ve}];x<l;x++)if(a=ir.relative[e[x].type])X=[Ib(Yd(X),a)];else{if(a=ir.filter[e[x].type].apply(null,e[x].matches),a[li]){for(i=++x;i<l&&!ir.relative[e[i].type];i++);return Mh(x>1&&Yd(X),x>1&&Pb(e.slice(0,x-1).concat({value:e[x-2].type===" "?"*":""})).replace(Rb,"$1"),a,x<i&&Mp(e.slice(x,i)),i<l&&Mp(e=e.slice(i)),i<l&&Pb(e))}X.push(a)}return Yd(X)}function Pp(e,n){var a=n.length>0,i=e.length>0,l=function(v,p,x,A,N){var X,Z,Q,ce=0,ve="0",me=v&&[],he=[],De=tv,Ae=v||i&&ir.find.TAG("*",N),Xe=Kc+=De==null?1:Math.random()||.1,We=Ae.length;for(N&&(tv=p!==Zo&&p);ve!==We&&(X=Ae[ve])!=null;ve++){if(i&&X){for(Z=0;Q=e[Z++];)if(Q(X,p,x)){A.push(X);break}N&&(Kc=Xe)}a&&((X=!Q&&X)&&ce--,v&&me.push(X))}if(ce+=ve,a&&ve!==ce){for(Z=0;Q=n[Z++];)Q(me,he,p,x);if(v){if(ce>0)for(;ve--;)me[ve]||he[ve]||(he[ve]=E2.call(A));he=Nb(he)}Xv.apply(A,he),N&&!v&&he.length>0&&ce+n.length>1&&ga.uniqueSort(A)}return N&&(Kc=Xe,tv=De),me};return a?lc(l):l}A2=ga.compile=function(e,n){var a,i=[],l=[],v=qv[e+" "];if(!v){for(n||(n=cs(e)),a=n.length;a--;)v=Mp(n[a]),v[li]?i.push(v):l.push(v);v=qv(e,Pp(l,i)),v.selector=e}return v},Gc=ga.select=function(e,n,a,i){var l,v,p,x,A,N=typeof e=="function"&&e,X=!i&&cs(e=N.selector||e);if(a=a||[],X.length===1){if(v=X[0]=X[0].slice(0),v.length>2&&(p=v[0]).type==="ID"&&Eo.getById&&n.nodeType===9&&qc&&ir.relative[v[1].type]){if(n=(ir.find.ID(p.matches[0].replace(Jv,Zv),n)||[])[0],n)N&&(n=n.parentNode);else return a;e=e.slice(v.shift().value.length)}for(l=$b.needsContext.test(e)?0:v.length;l--&&(p=v[l],!ir.relative[x=p.type]);)if((A=ir.find[x])&&(i=A(p.matches[0].replace(Jv,Zv),R2.test(v[0].type)&&Mb(n.parentNode)||n))){if(v.splice(l,1),e=i.length&&Pb(v),!e)return Xv.apply(a,i),a;break}}return(N||A2(e,X))(i,n,!qc,a,R2.test(e)&&Mb(n.parentNode)||n),a},Eo.sortStable=li.split("").sort(Kv).join("")===li,Eo.detectDuplicates=!!Ps,jv(),Eo.sortDetached=!0;var $2=document,Wo=Array.prototype.push,Jd=Array.prototype.slice,Io=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bu=Dh.Event,Zd=wt.makeMap("children,contents,next,prev"),Ns=function(e){return typeof e<"u"},zb=function(e){return typeof e=="string"},Yc=function(e){return e&&e===e.window},Ph=function(e,n){n=n||$2;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var l;l=a.firstChild;)i.appendChild(l);return i},Ih=function(e,n,a,i){var l;if(zb(n))n=Ph(n,ed(e[0]));else if(n.length&&!n.nodeType){if(n=dr.makeArray(n),i)for(l=n.length-1;l>=0;l--)Ih(e,n[l],a,i);else for(l=0;l<n.length;l++)Ih(e,n[l],a,i);return e}if(n.nodeType)for(l=e.length;l--;)a.call(e[l],n);return e},c_=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},f_=function(e,n,a){var i,l;return n=dr(n)[0],e.each(function(){var v=this;(!a||i!==v.parentNode)&&(i=v.parentNode,l=n.cloneNode(!1),v.parentNode.insertBefore(l,v)),l.appendChild(v)}),e},jA=wt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),GA=wt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),qA={for:"htmlFor",class:"className",readonly:"readOnly"},v_={float:"cssFloat"},Fb={},Lb={},Ri=function(e,n){return new dr.fn.init(e,n)},Hb=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},B2=/^\s*|\s*$/g,rl=function(e){return e==null?"":(""+e).replace(B2,"")},Ha=function(e,n){var a,i,l,v;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(v=e[i],n.call(v,i,v)===!1))break}else for(l=0;l<a&&(v=e[l],n.call(v,l,v)!==!1);l++);return e},zs=function(e,n){var a=[];return Ha(e,function(i,l){n(l,i)&&a.push(l)}),a},ed=function(e){return e?e.nodeType===9?e:e.ownerDocument:$2};Ri.fn=Ri.prototype={constructor:Ri,selector:"",context:null,length:0,init:function(e,n){var a=this,i,l;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return dr(e).attr(n);a.context=n=document}if(zb(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=Io.exec(e),i)if(i[1])for(l=Ph(e,ed(n)).firstChild;l;)Wo.call(a,l),l=l.nextSibling;else{if(l=ed(n).getElementById(i[2]),!l)return a;if(l.id!==i[2])return a.find(e);a.length=1,a[0]=l}else return dr(n).find(e);else this.add(e,!1);return a},toArray:function(){return wt.toArray(this)},add:function(e,n){var a=this,i,l;if(zb(e))return a.add(dr(e));if(n!==!1)for(i=dr.unique(a.toArray().concat(dr.makeArray(e))),a.length=i.length,l=0;l<i.length;l++)a[l]=i[l];else Wo.apply(a,dr.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")Ha(e,function(l,v){a.attr(l,v)});else if(Ns(n))this.each(function(){var l;if(this.nodeType===1){if(l=Fb[e],l&&l.set){l.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=Fb[e],i&&i.get)return i.get(a[0],e);if(GA[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=qA[e]||e,typeof e=="object")Ha(e,function(i,l){a.prop(i,l)});else if(Ns(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,l,v=function(x){return x.replace(/-(\D)/g,function(A,N){return N.toUpperCase()})},p=function(x){return x.replace(/[A-Z]/g,function(A){return"-"+A})};if(typeof e=="object")Ha(e,function(x,A){a.css(x,A)});else if(Ns(n))e=v(e),typeof n=="number"&&!jA[e]&&(n=n.toString()+"px"),a.each(function(){var x=this.style;if(l=Lb[e],l&&l.set){l.set(this,n);return}try{this.style[v_[e]||e]=n}catch{}(n===null||n==="")&&(x.removeProperty?x.removeProperty(p(e)):x.removeAttribute(e))});else{if(i=a[0],l=Lb[e],l&&l.get)return l.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(p(e))}catch{return}else return i.currentStyle?i.currentStyle[v(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],bu.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(Ns(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch{dr(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(Ns(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Ih(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Ih(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Ih(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Ih(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return dr(e).append(this),this},prependTo:function(e){return dr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return f_(this,e)},wrapAll:function(e){return f_(this,e,!0)},wrapInner:function(e){return this.each(function(){dr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){dr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),dr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?Ha(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,l){var v=c_(l,e);if(v!==n){var p=l.className;v?l.className=rl((" "+p+" ").replace(" "+e+" "," ")):l.className+=p?" "+e:e}})),a},hasClass:function(e){return c_(this[0],e)},each:function(e){return Ha(this,e)},on:function(e,n){return this.each(function(){bu.bind(this,e,n)})},off:function(e,n){return this.each(function(){bu.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?bu.fire(this,e.type,e):bu.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return dr(Jd.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)dr.find(e,this[n],i);return dr(i)},filter:function(e){return dr(typeof e=="function"?zs(this.toArray(),function(n,a){return e(a,n)}):dr.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof dr&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&dr(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),dr(n)},offset:function(e){var n,a,i,l=0,v=0,p;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(p=n.getBoundingClientRect(),l=p.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,v=p.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:l,top:v})},push:Wo,sort:Array.prototype.sort,splice:Array.prototype.splice},wt.extend(Ri,{extend:wt.extend,makeArray:function(e){return Yc(e)||e.nodeType?[e]:wt.toArray(e)},inArray:Hb,isArray:wt.isArray,each:Ha,trim:rl,grep:zs,find:ga,expr:ga.selectors,unique:ga.uniqueSort,text:ga.getText,contains:ga.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=dr.find.matchesSelector(n[0],e)?[n[0]]:[]:n=dr.find.matches(e,n),n}});var M2=function(e,n,a){var i=[],l=e[n];for(typeof a!="string"&&a instanceof dr&&(a=a[0]);l&&l.nodeType!==9&&!(a!==void 0&&(l===a||typeof a=="string"&&dr(l).is(a)));)l.nodeType===1&&i.push(l),l=l[n];return i},Vb=function(e,n,a,i){var l=[];for(i instanceof dr&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&dr(e).is(i)))break;l.push(e)}return l},d_=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};Ha({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return M2(e,"parentNode")},next:function(e){return d_(e,"nextSibling",1)},prev:function(e){return d_(e,"previousSibling",1)},children:function(e){return Vb(e.firstChild,"nextSibling",1)},contents:function(e){return wt.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){Ri.fn[e]=function(a){var i=this,l=[];i.each(function(){var p=n.call(l,this,a,l);p&&(dr.isArray(p)?l.push.apply(l,p):l.push(p))}),this.length>1&&(Zd[e]||(l=dr.unique(l)),e.indexOf("parents")===0&&(l=l.reverse()));var v=dr(l);return a?v.filter(a):v}}),Ha({parentsUntil:function(e,n){return M2(e,"parentNode",n)},nextUntil:function(e,n){return Vb(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return Vb(e,"previousSibling",1,n).slice(1)}},function(e,n){Ri.fn[e]=function(a,i){var l=this,v=[];l.each(function(){var x=n.call(v,this,a,v);x&&(dr.isArray(x)?v.push.apply(v,x):v.push(x))}),this.length>1&&(v=dr.unique(v),(e.indexOf("parents")===0||e==="prevUntil")&&(v=v.reverse()));var p=dr(v);return i?p.filter(i):p}}),Ri.fn.is=function(e){return!!e&&this.filter(e).length>0},Ri.fn.init.prototype=Ri.fn,Ri.overrideDefaults=function(e){var n,a=function(i,l){return n=n||e(),arguments.length===0&&(i=n.element),l||(l=n.context),new a.fn.init(i,l)};return dr.extend(a,this),a},Ri.attrHooks=Fb,Ri.cssHooks=Lb;var dr=Ri,Nh=wt.each,Ub=wt.grep,P2=Hn.ie,jo=/^([a-z0-9],?)+$/i,al=function(e,n,a){var i=n.keep_values,l={set:function(p,x,A){n.url_converter&&x!==null&&(x=n.url_converter.call(n.url_converter_scope||a(),x,A,p[0])),p.attr("data-mce-"+A,x).attr(A,x)},get:function(p,x){return p.attr("data-mce-"+x)||p.attr(x)}},v={style:{set:function(p,x){if(x!==null&&typeof x=="object"){p.css(x);return}i&&p.attr("data-mce-style",x),x!==null&&typeof x=="string"?(p.removeAttr("style"),p.css(e.parse(x))):p.attr("style",x)},get:function(p){var x=p.attr("data-mce-style")||p.attr("style");return x=e.serialize(e.parse(x),p[0].nodeName),x}}};return i&&(v.href=v.src=l),v},m_=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},Qd=function(e,n){var a=0,i,l;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)l=e.nodeType,!(n&&l===3&&(l===i||!e.nodeValue.length))&&(a++,i=l);return a},Ma=function(e,n){n===void 0&&(n={});var a={},i=window,l={},v=0,p=!0,x=!0,A=Al.forElement(je.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),N=[],X=n.schema?n.schema:Bs({}),Z=Rl({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),Q=n.ownEvents?new Dh:Dh.Event,ce=X.getBlockElements(),ve=dr.overrideDefaults(function(){return{context:e,element:zm.getRoot()}}),me=function(Ie){if(typeof Ie=="string")return!!ce[Ie];if(Ie){var st=Ie.nodeType;if(st)return!!(st===1&&ce[Ie.nodeName])}return!1},he=function(Ie){return Ie&&e&&$e(Ie)?e.getElementById(Ie):Ie},De=function(Ie){return ve(typeof Ie=="string"?he(Ie):Ie)},Ae=function(Ie,st,Ut){var nn,pr,Gr=De(Ie);return Gr.length&&(nn=c5[st],nn&&nn.get?pr=nn.get(Gr,st):pr=Gr.attr(st)),typeof pr>"u"&&(pr=Ut||""),pr},Xe=function(Ie){var st=he(Ie);return st?st.attributes:[]},We=function(Ie,st,Ut){Ut===""&&(Ut=null);var nn=De(Ie),pr=nn.attr(st);if(nn.length){var Gr=c5[st];Gr&&Gr.set?Gr.set(nn,Ut,st):nn.attr(st,Ut),pr!==Ut&&n.onSetAttrib&&n.onSetAttrib({attrElm:nn,attrName:st,attrValue:Ut})}},Re=function(Ie,st){if(!P2||Ie.nodeType!==1||st)return Ie.cloneNode(st);var Ut=e.createElement(Ie.nodeName);return Nh(Xe(Ie),function(nn){We(Ut,nn.nodeName,Ae(Ie,nn.nodeName))}),Ut},Qe=function(){return n.root_element||e.body},xt=function(Ie){var st=Gf(Ie);return{x:st.x,y:st.y,w:st.width,h:st.height}},Ft=function(Ie,st){return yp(e.body,he(Ie),st)},Vn=function(Ie,st,Ut){var nn=$e(st)?De(Ie).css(st,Ut):De(Ie).css(st);n.update_styles&&m_(Z,nn)},mn=function(Ie,st){var Ut=De(Ie).css(st);n.update_styles&&m_(Z,Ut)},Bt=function(Ie,st,Ut){var nn=De(Ie);return Ut?nn.css(st):(st=st.replace(/-(\D)/g,function(pr,Gr){return Gr.toUpperCase()}),st==="float"&&(st=Hn.browser.isIE()?"styleFloat":"cssFloat"),nn[0]&&nn[0].style?nn[0].style[st]:void 0)},Ln=function(Ie){var st,Ut;return Ie=he(Ie),st=Bt(Ie,"width"),Ut=Bt(Ie,"height"),st.indexOf("px")===-1&&(st=0),Ut.indexOf("px")===-1&&(Ut=0),{w:parseInt(st,10)||Ie.offsetWidth||Ie.clientWidth,h:parseInt(Ut,10)||Ie.offsetHeight||Ie.clientHeight}},Vt=function(Ie){Ie=he(Ie);var st=Ft(Ie),Ut=Ln(Ie);return{x:st.x,y:st.y,w:Ut.w,h:Ut.h}},vn=function(Ie,st){var Ut;if(!Ie)return!1;if(!Array.isArray(Ie)){if(st==="*")return Ie.nodeType===1;if(jo.test(st)){var nn=st.toLowerCase().split(/,/),pr=Ie.nodeName.toLowerCase();for(Ut=nn.length-1;Ut>=0;Ut--)if(nn[Ut]===pr)return!0;return!1}if(Ie.nodeType&&Ie.nodeType!==1)return!1}var Gr=Array.isArray(Ie)?Ie:[Ie];return ga(st,Gr[0].ownerDocument||Gr[0],null,Gr).length>0},jt=function(Ie,st,Ut,nn){var pr=[],Gr,Za=he(Ie);for(nn=nn===void 0,Ut=Ut||(Qe().nodeName!=="BODY"?Qe().parentNode:null),wt.is(st,"string")&&(Gr=st,st==="*"?st=function(Zg){return Zg.nodeType===1}:st=function(Zg){return vn(Zg,Gr)});Za&&!(Za===Ut||xe(Za.nodeType)||bp(Za)||vr(Za));){if(!st||typeof st=="function"&&st(Za))if(nn)pr.push(Za);else return[Za];Za=Za.parentNode}return nn?pr:null},Qt=function(Ie,st,Ut){var nn=jt(Ie,st,Ut,!1);return nn&&nn.length>0?nn[0]:null},yn=function(Ie,st,Ut){var nn=st;if(Ie){for(typeof st=="string"&&(nn=function(pr){return vn(pr,st)}),Ie=Ie[Ut];Ie;Ie=Ie[Ut])if(typeof nn=="function"&&nn(Ie))return Ie}return null},Pt=function(Ie,st){return yn(Ie,st,"nextSibling")},hn=function(Ie,st){return yn(Ie,st,"previousSibling")},xr=function(Ie,st){return ga(Ie,he(st)||n.root_element||e,[])},ra=function(Ie,st,Ut){var nn,pr=typeof Ie=="string"?he(Ie):Ie;if(!pr)return!1;if(wt.isArray(pr)&&(pr.length||pr.length===0))return nn=[],Nh(pr,function(Za,Zg){Za&&nn.push(st.call(Ut,typeof Za=="string"?he(Za):Za,Zg))}),nn;var Gr=Ut||this;return st.call(Gr,pr)},Zr=function(Ie,st){De(Ie).each(function(Ut,nn){Nh(st,function(pr,Gr){We(nn,Gr,pr)})})},zi=function(Ie,st){var Ut=De(Ie);P2?Ut.each(function(nn,pr){if(pr.canHaveHTML!==!1){for(;pr.firstChild;)pr.removeChild(pr.firstChild);try{pr.innerHTML="<br>"+st,pr.removeChild(pr.firstChild)}catch{dr("<div></div>").html("<br>"+st).contents().slice(1).appendTo(pr)}return st}}):Ut.html(st)},uo=function(Ie,st,Ut,nn,pr){return ra(Ie,function(Gr){var Za=typeof st=="string"?e.createElement(st):st;return Zr(Za,Ut),nn&&(typeof nn!="string"&&nn.nodeType?Za.appendChild(nn):typeof nn=="string"&&zi(Za,nn)),pr?Za:Gr.appendChild(Za)})},ju=function(Ie,st,Ut){return uo(e.createElement(Ie),Ie,st,Ut,!0)},ps=$s.decode,It=$s.encodeAllRaw,Kt=function(Ie,st,Ut){var nn="",pr;nn+="<"+Ie;for(pr in st)Gs(st,pr)&&(nn+=" "+pr+'="'+It(st[pr])+'"');return typeof Ut<"u"?nn+">"+Ut+"</"+Ie+">":nn+" />"},Dn=function(Ie){var st,Ut=e.createElement("div"),nn=e.createDocumentFragment();for(nn.appendChild(Ut),Ie&&(Ut.innerHTML=Ie);st=Ut.firstChild;)nn.appendChild(st);return nn.removeChild(Ut),nn},nt=function(Ie,st){var Ut=De(Ie);return st?Ut.each(function(){for(var nn;nn=this.firstChild;)nn.nodeType===3&&nn.data.length===0?this.removeChild(nn):this.parentNode.insertBefore(nn,this)}).remove():Ut.remove(),Ut.length>1?Ut.toArray():Ut[0]},Ht=function(Ie){return ra(Ie,function(st){var Ut,nn=st.attributes;for(Ut=nn.length-1;Ut>=0;Ut--)st.removeAttributeNode(nn.item(Ut))})},Nt=function(Ie){return Z.parse(Ie)},Bn=function(Ie,st){return Z.serialize(Ie,st)},zn=function(Ie){var st,Ut;if(zm!==Ma.DOM&&e===document){if(a[Ie])return;a[Ie]=!0}Ut=e.getElementById("mceDefaultStyles"),Ut||(Ut=e.createElement("style"),Ut.id="mceDefaultStyles",Ut.type="text/css",st=e.getElementsByTagName("head")[0],st.firstChild?st.insertBefore(Ut,st.firstChild):st.appendChild(Ut)),Ut.styleSheet?Ut.styleSheet.cssText+=Ie:Ut.appendChild(e.createTextNode(Ie))},Aa=function(Ie){Ie||(Ie=""),He(Ie.split(","),function(st){l[st]=!0,A.load(st,ye)})},ni=function(Ie,st,Ut){De(Ie).toggleClass(st,Ut).each(function(){this.className===""&&dr(this).attr("class",null)})},Yo=function(Ie,st){De(Ie).addClass(st)},Nm=function(Ie,st){ni(Ie,st,!1)},Gu=function(Ie,st){return De(Ie).hasClass(st)},Eu=function(Ie){De(Ie).show()},gi=function(Ie){De(Ie).hide()},Vl=function(Ie){return De(Ie).css("display")==="none"},qu=function(Ie){return(Ie||"mce_")+v++},_f=function(Ie){var st=typeof Ie=="string"?he(Ie):Ie;return Yn(st)?st.outerHTML:dr("<div></div>").append(dr(st).clone()).html()},Oa=function(Ie,st){De(Ie).each(function(){try{if("outerHTML"in this){this.outerHTML=st;return}}catch{}nt(dr(this).html(st),!0)})},Va=function(Ie,st){var Ut=he(st);return ra(Ie,function(nn){var pr=Ut.parentNode,Gr=Ut.nextSibling;return Gr?pr.insertBefore(nn,Gr):pr.appendChild(nn),nn})},pi=function(Ie,st,Ut){return ra(st,function(nn){return wt.is(nn,"array")&&(Ie=Ie.cloneNode(!0)),Ut&&Nh(Ub(nn.childNodes),function(pr){Ie.appendChild(pr)}),nn.parentNode.replaceChild(Ie,nn)})},bs=function(Ie,st){var Ut;return Ie.nodeName!==st.toUpperCase()&&(Ut=ju(st),Nh(Xe(Ie),function(nn){We(Ut,nn.nodeName,Ae(Ie,nn.nodeName))}),pi(Ut,Ie,!0)),Ut||Ie},_v=function(Ie,st){for(var Ut=Ie,nn;Ut;){for(nn=st;nn&&Ut!==nn;)nn=nn.parentNode;if(Ut===nn)break;Ut=Ut.parentNode}return!Ut&&Ie.ownerDocument?Ie.ownerDocument.documentElement:Ut},xv=function(Ie){return Z.toHex(wt.trim(Ie))},Jg=function(Ie){if(Yn(Ie)){var st=Ie.nodeName.toLowerCase()==="a"&&!Ae(Ie,"href")&&Ae(Ie,"id");if(Ae(Ie,"name")||Ae(Ie,"data-mce-bookmark")||st)return!0}return!1},Fy=function(Ie,st){var Ut,nn,pr=0;if(Jg(Ie))return!1;if(Ie=Ie.firstChild,Ie){var Gr=new sa(Ie,Ie.parentNode),Za=X?X.getWhiteSpaceElements():{};st=st||(X?X.getNonEmptyElements():null);do{if(Ut=Ie.nodeType,Yn(Ie)){var Zg=Ie.getAttribute("data-mce-bogus");if(Zg){Ie=Gr.next(Zg==="all");continue}if(nn=Ie.nodeName.toLowerCase(),st&&st[nn]){if(nn==="br"){pr++,Ie=Gr.next();continue}return!1}if(Jg(Ie))return!1}if(Ut===8||Ut===3&&!Tl(Ie.nodeValue)||Ut===3&&Ie.parentNode&&Za[Ie.parentNode.nodeName]&&Tl(Ie.nodeValue))return!1;Ie=Gr.next()}while(Ie)}return pr<=1},q3=function(){return e.createRange()},$M=function(Ie,st,Ut){var nn=q3(),pr,Gr,Za;if(Ie&&st)return nn.setStart(Ie.parentNode,Qd(Ie)),nn.setEnd(st.parentNode,Qd(st)),pr=nn.extractContents(),nn=q3(),nn.setStart(st.parentNode,Qd(st)+1),nn.setEnd(Ie.parentNode,Qd(Ie)+1),Gr=nn.extractContents(),Za=Ie.parentNode,Za.insertBefore(p2(zm,pr),Ie),Ut?Za.insertBefore(Ut,Ie):Za.insertBefore(st,Ie),Za.insertBefore(p2(zm,Gr),Ie),nt(Ie),Ut||st},BM=function(Ie,st,Ut,nn){if(wt.isArray(Ie)){for(var pr=Ie.length,Gr=[];pr--;)Gr[pr]=BM(Ie[pr],st,Ut,nn);return Gr}n.collect&&(Ie===e||Ie===i)&&N.push([Ie,st,Ut,nn]);var Za=Q.bind(Ie,st,Ut,nn||zm);return Za},s5=function(Ie,st,Ut){if(wt.isArray(Ie)){for(var nn=Ie.length,pr=[];nn--;)pr[nn]=s5(Ie[nn],st,Ut);return pr}else{if(N.length>0&&(Ie===e||Ie===i))for(var nn=N.length;nn--;){var Gr=N[nn];Ie===Gr[0]&&(!st||st===Gr[1])&&(!Ut||Ut===Gr[2])&&Q.unbind(Gr[0],Gr[1],Gr[2])}return Q.unbind(Ie,st,Ut)}},a7=function(Ie,st,Ut){return Q.fire(Ie,st,Ut)},MM=function(Ie){if(Ie&&Yn(Ie)){var st=Ie.getAttribute("data-mce-contenteditable");return st&&st!=="inherit"?st:Ie.contentEditable!=="inherit"?Ie.contentEditable:null}else return null},o7=function(Ie){for(var st=Qe(),Ut=null;Ie&&Ie!==st&&(Ut=MM(Ie),Ut===null);Ie=Ie.parentNode);return Ut},PM=function(){if(N.length>0)for(var Ie=N.length;Ie--;){var st=N[Ie];Q.unbind(st[0],st[1],st[2])}Vr(l,function(Ut,nn){A.unload(nn),delete l[nn]}),ga.setDocument&&ga.setDocument()},l5=function(Ie,st){if(P2){for(;Ie;){if(st===Ie)return!0;Ie=Ie.parentNode}return!1}else return Ie===st||st.contains(Ie)},i7=function(Ie){return"startContainer: "+Ie.startContainer.nodeName+", startOffset: "+Ie.startOffset+", endContainer: "+Ie.endContainer.nodeName+", endOffset: "+Ie.endOffset},zm={doc:e,settings:n,win:i,files:l,stdMode:p,boxModel:x,styleSheetLoader:A,boundEvents:N,styles:Z,schema:X,events:Q,isBlock:me,$:ve,$$:De,root:null,clone:Re,getRoot:Qe,getViewPort:xt,getRect:Vt,getSize:Ln,getParent:Qt,getParents:jt,get:he,getNext:Pt,getPrev:hn,select:xr,is:vn,add:uo,create:ju,createHTML:Kt,createFragment:Dn,remove:nt,setStyle:Vn,getStyle:Bt,setStyles:mn,removeAllAttribs:Ht,setAttrib:We,setAttribs:Zr,getAttrib:Ae,getPos:Ft,parseStyle:Nt,serializeStyle:Bn,addStyle:zn,loadCSS:Aa,addClass:Yo,removeClass:Nm,hasClass:Gu,toggleClass:ni,show:Eu,hide:gi,isHidden:Vl,uniqueId:qu,setHTML:zi,getOuterHTML:_f,setOuterHTML:Oa,decode:ps,encode:It,insertAfter:Va,replace:pi,rename:bs,findCommonAncestor:_v,toHex:xv,run:ra,getAttribs:Xe,isEmpty:Fy,createRng:q3,nodeIndex:Qd,split:$M,bind:BM,unbind:s5,fire:a7,getContentEditable:MM,getContentEditableParent:o7,destroy:PM,isChildOf:l5,dumpRng:i7},c5=al(Z,n,W(zm));return zm};Ma.DOM=Ma(document),Ma.nodeIndex=Qd;var em=Ma.DOM,Wb=wt.each,zh=wt.grep,I2=0,h_=1,Ip=2,g_=3,rv=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var l=em,v,p=function(){l.remove(N),v&&(v.onerror=v.onload=v=null)},x=function(){p(),a()},A=function(){p(),se(i)?i():typeof console<"u"&&console.log&&console.log("Failed to load script: "+n)},N=l.uniqueId();v=document.createElement("script"),v.id=N,v.type="text/javascript",v.src=wt._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(v,"referrerpolicy",this.settings.referrerPolicy),v.onload=x,v.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(v)},e.prototype.isDone=function(n){return this.states[n]===Ip},e.prototype.markDone=function(n){this.states[n]=Ip},e.prototype.add=function(n,a,i,l){var v=this.states[n];this.queue.push(n),v===void 0&&(this.states[n]=I2),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:l,scope:i||this}))},e.prototype.load=function(n,a,i,l){return this.add(n,a,i,l)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,l){var v=this,p=[],x=function(N,X){Wb(v.scriptLoadedCallbacks[X],function(Z){se(Z[N])&&Z[N].call(Z.scope)}),v.scriptLoadedCallbacks[X]=void 0};v.queueLoadedCallbacks.push({success:a,failure:l,scope:i||this});var A=function(){var N=zh(n);if(n.length=0,Wb(N,function(Z){if(v.states[Z]===Ip){x("success",Z);return}if(v.states[Z]===g_){x("failure",Z);return}v.states[Z]!==h_&&(v.states[Z]=h_,v.loading++,v.loadScript(Z,function(){v.states[Z]=Ip,v.loading--,x("success",Z),A()},function(){v.states[Z]=g_,v.loading--,p.push(Z),x("failure",Z),A()}))}),!v.loading){var X=v.queueLoadedCallbacks.slice(0);v.queueLoadedCallbacks.length=0,Wb(X,function(Z){p.length===0?se(Z.success)&&Z.success.call(Z.scope):se(Z.failure)&&Z.failure.call(Z.scope,p)})}};A()},e.ScriptLoader=new e,e}(),yu=function(e){var n=e,a=function(){return n},i=function(l){n=l};return{get:a,set:i}},N2=function(e){return de(e)&&Tr(e,"raw")},KA=function(e){return Be(e)&&e.length>1},fc={},av=yu("en"),jb=function(){return Ir(fc,av.get())},XA=function(){return Si(fc,function(e){return Wn({},e)})},YA=function(e){e&&av.set(e)},tm=function(){return av.get()},nm=function(e,n){var a=fc[e];a||(fc[e]=a={}),Vr(n,function(i,l){a[l.toLowerCase()]=i})},Gb=function(e){var n=jb().getOr({}),a=function(A){return se(A)?Object.prototype.toString.call(A):i(A)?"":""+A},i=function(A){return A===""||A===null||A===void 0},l=function(A){var N=a(A);return Ir(n,N.toLowerCase()).map(a).getOr(N)},v=function(A){return A.replace(/{context:\w+}$/,"")};if(i(e))return"";if(N2(e))return a(e.raw);if(KA(e)){var p=e.slice(1),x=l(e[0]).replace(/\{([0-9]+)\}/g,function(A,N){return Tr(p,N)?a(p[N]):A});return v(x)}return v(l(e))},Yr=function(){return jb().bind(function(e){return Ir(e,"_dir")}).exists(function(e){return e==="rtl"})},Go=function(e){return Tr(fc,e)},wu={getData:XA,setCode:YA,getCode:tm,add:nm,translate:Gb,isRtl:Yr,hasCode:Go},zu=function(){var e=[],n={},a={},i=[],l=function(me,he){var De=it(i,function(Ae){return Ae.name===me&&Ae.state===he});He(De,function(Ae){return Ae.callback()})},v=function(me){if(a[me])return a[me].instance},p=function(me){var he;return a[me]&&(he=a[me].dependencies),he||[]},x=function(me,he){zu.languageLoad!==!1&&ve(me,function(){var De=wu.getCode(),Ae=","+(he||"")+",";!De||he&&Ae.indexOf(","+De+",")===-1||rv.ScriptLoader.add(n[me]+"/langs/"+De+".js")},"loaded")},A=function(me,he,De){var Ae=he;return e.push(Ae),a[me]={instance:Ae,dependencies:De},l(me,"added"),Ae},N=function(me){delete n[me],delete a[me]},X=function(me,he){return typeof he=="object"?he:typeof me=="string"?{prefix:"",resource:he,suffix:""}:{prefix:me.prefix,resource:he,suffix:me.suffix}},Z=function(me,he){var De=n[me];He(he,function(Ae){rv.ScriptLoader.add(De+"/"+Ae)})},Q=function(me,he,De,Ae){var Xe=p(me);He(Xe,function(We){var Re=X(he,We);ce(Re.resource,Re,void 0,void 0)}),De&&(Ae?De.call(Ae):De.call(rv))},ce=function(me,he,De,Ae,Xe){if(!n[me]){var We=typeof he=="string"?he:he.prefix+he.resource+he.suffix;We.indexOf("/")!==0&&We.indexOf("://")===-1&&(We=zu.baseURL+"/"+We),n[me]=We.substring(0,We.lastIndexOf("/"));var Re=function(){l(me,"loaded"),Q(me,he,De,Ae)};a[me]?Re():rv.ScriptLoader.add(We,Re,Ae,Xe)}},ve=function(me,he,De){De===void 0&&(De="added"),Tr(a,me)&&De==="added"||Tr(n,me)&&De==="loaded"?he():i.push({name:me,state:De,callback:he})};return{items:e,urls:n,lookup:a,_listeners:i,get:v,dependencies:p,requireLangPack:x,add:A,remove:N,createUrl:X,addComponents:Z,load:ce,waitFor:ve}};zu.languageLoad=!0,zu.baseURL="",zu.PluginManager=zu(),zu.ThemeManager=zu();var ka=function(e){var n=yu(te.none()),a=function(){return n.get().each(e)},i=function(){a(),n.set(te.none())},l=function(){return n.get().isSome()},v=function(){return n.get()},p=function(x){a(),n.set(te.some(x))};return{clear:i,isSet:l,get:v,set:p}},td=function(){var e=ka(ye),n=function(a){return e.get().each(a)};return Wn(Wn({},e),{on:n})},qb=function(e,n){var a=null,i=function(){ne(a)||(clearTimeout(a),a=null)},l=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];ne(a)&&(a=setTimeout(function(){a=null,e.apply(null,v)},n))};return{cancel:i,throttle:l}},Qo=function(e,n){var a=null,i=function(){ne(a)||(clearTimeout(a),a=null)},l=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];i(),a=setTimeout(function(){a=null,e.apply(null,v)},n)};return{cancel:i,throttle:l}},Jc=function(e,n){var a=ae(e,n);return a===void 0||a===""?[]:a.split(" ")},JA=function(e,n,a){var i=Jc(e,n),l=i.concat([a]);return M(e,n,l.join(" ")),!0},ZA=function(e,n,a){var i=it(Jc(e,n),function(l){return l!==a});return i.length>0?M(e,n,i.join(" ")):bt(e,n),!1},Kb=function(e){return e.dom.classList!==void 0},Xb=function(e){return Jc(e,"class")},z2=function(e,n){return JA(e,"class",n)},F2=function(e,n){return ZA(e,"class",n)},rm=function(e,n){Kb(e)?e.dom.classList.add(n):z2(e,n)},Np=function(e){var n=Kb(e)?e.dom.classList:Xb(e);n.length===0&&bt(e,"class")},L2=function(e,n){if(Kb(e)){var a=e.dom.classList;a.remove(n)}else F2(e,n);Np(e)},H2=function(e,n){return Kb(e)&&e.dom.classList.contains(n)},Fh=function(e,n){var a=[];return He(Qi(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(Fh(i,n))}),a},$i=function(e,n){return fb(n,e)},fs=W("mce-annotation"),zp=W("data-mce-annotation"),qo=W("data-mce-annotation-uid"),Yb=function(e,n){var a=e.selection.getRng(),i=je.fromDom(a.startContainer),l=je.fromDom(e.getBody()),v=n.fold(function(){return"."+fs()},function(N){return"["+zp()+'="'+N+'"]'}),p=ec(i,a.startOffset).getOr(i),x=yo(p,v,function(N){return $a(N,l)}),A=function(N,X){return qe(N,X)?te.some(ae(N,X)):te.none()};return x.bind(function(N){return A(N,""+qo()).bind(function(X){return A(N,""+zp()).map(function(Z){var Q=V2(e,X);return{uid:X,name:Z,elements:Q}})})})},ov=function(e){return Fa(e)&&H2(e,fs())},V2=function(e,n){var a=je.fromDom(e.getBody());return $i(a,"["+qo()+'="'+n+'"]')},U2=function(e,n){var a=je.fromDom(e.getBody()),i=$i(a,"["+zp()+'="'+n+'"]'),l={};return He(i,function(v){var p=ae(v,qo()),x=Ir(l,p).getOr([]);l[p]=x.concat([v])}),l},p_=function(e,n){var a=yu({}),i=function(){return{listeners:[],previous:td()}},l=function(X,Z){v(X,function(Q){return Z(Q),Q})},v=function(X,Z){var Q=a.get(),ce=Ir(Q,X).getOrThunk(i),ve=Z(ce);Q[X]=ve,a.set(Q)},p=function(X,Z,Q){l(X,function(ce){He(ce.listeners,function(ve){return ve(!0,X,{uid:Z,nodes:tt(Q,function(me){return me.dom})})})})},x=function(X){l(X,function(Z){He(Z.listeners,function(Q){return Q(!1,X)})})},A=Qo(function(){var X=a.get(),Z=Qr(Zi(X));He(Z,function(Q){v(Q,function(ce){var ve=ce.previous.get();return Yb(e,te.some(Q)).fold(function(){ve.isSome()&&(x(Q),ce.previous.clear())},function(me){var he=me.uid,De=me.name,Ae=me.elements;Fd(ve,he)||(p(De,he,Ae),ce.previous.set(he))}),{previous:ce.previous,listeners:ce.listeners}})})},30);e.on("remove",function(){A.cancel()}),e.on("NodeChange",function(){A.throttle()});var N=function(X,Z){v(X,function(Q){return{previous:Q.previous,listeners:Q.listeners.concat([Z])}})};return{addListener:N}},W2=function(e,n){var a=function(i){return te.from(i.attr(zp())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){He(i,function(l){a(l).each(function(v){v.persistent===!1&&l.unwrap()})})})})},Fp=function(){var e={},n=function(i,l){e[i]={name:i,settings:l}},a=function(i){return Ir(e,i).map(function(l){return l.settings})};return{register:n,lookup:a}},Jb=0,b_=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return Jb++,e+"_"+i+Jb+String(a)},QA=function(e,n){He(n,function(a){rm(e,a)})},Xi=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,Qi(je.fromDom(i))},ei=function(e){return tt(e,je.fromDom)},Cu=function(e){return e.dom.innerHTML},Su=function(e,n){var a=_l(e),i=a.dom,l=je.fromDom(i.createDocumentFragment()),v=Xi(n,i);Hf(l,v),Vf(e),Ho(e,l)},Fu=function(e,n){return je.fromDom(e.dom.cloneNode(n))},No=function(e){return Fu(e,!1)},Zb=function(e){return Fu(e,!0)},Qb=function(e,n,a){a===void 0&&(a=at);var i=new sa(e,n),l=function(v){var p;do p=i[v]();while(p&&!gn(p)&&!a(p));return te.from(p).filter(gn)};return{current:function(){return te.from(i.current()).filter(gn)},next:function(){return l("next")},prev:function(){return l("prev")},prev2:function(){return l("prev2")}}},j2=function(e,n){var a=n||function(p){return e.isBlock(p)||wa(p)||La(p)},i=function(p,x,A,N){if(gn(p)){var X=N(p,x,p.data);if(X!==-1)return te.some({container:p,offset:X})}return A().bind(function(Z){return i(Z.container,Z.offset,A,N)})},l=function(p,x,A,N){var X=Qb(p,N,a);return i(p,x,function(){return X.prev().map(function(Z){return{container:Z,offset:Z.length}})},A).getOrNull()},v=function(p,x,A,N){var X=Qb(p,N,a);return i(p,x,function(){return X.next().map(function(Z){return{container:Z,offset:0}})},A).getOrNull()};return{backwards:l,forwards:v}},am=Math.round,nd=function(e){return e?{left:am(e.left),top:am(e.top),bottom:am(e.bottom),right:am(e.right),width:am(e.width),height:am(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},e0=function(e,n){return e=nd(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},t0=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},n0=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},Lh=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:n0(n.top-e.bottom,e,n)},Hh=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:n0(n.bottom-e.top,e,n)},y_=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},Zc=function(e,n,a){return Math.min(Math.max(e,n),a)},om=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},Ga=function(e,n){if(Yn(e)&&e.hasChildNodes()){var a=e.childNodes,i=Zc(n,0,a.length-1);return a[i]}else return e},e4=function(e,n){if(!(n<0&&Yn(e)&&e.hasChildNodes()))return Ga(e,n)},t4=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),r0=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&t4.test(e)},n4=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},w_=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},Zt=Yn,r4=Wc,Ko=mu("display","block table"),G2=mu("float","left right"),im=w_(Zt,r4,ge(G2)),C_=ge(mu("white-space","pre pre-line pre-wrap")),nu=gn,Lp=wa,a0=Ma.nodeIndex,Hp=e4,vc=function(e){return"createRange"in e?e.createRange():Ma.DOM.createRng()},Vp=function(e){return e&&/[\r\n\t ]/.test(e)},Up=function(e){return!!e.setStart&&!!e.setEnd},_u=function(e){var n=e.startContainer,a=e.startOffset;if(Vp(e.toString())&&C_(n.parentNode)&&gn(n)){var i=n.data;if(Vp(i[a-1])||Vp(i[a+1]))return!0}return!1},dc=function(e){var n=e.ownerDocument,a=vc(n),i=n.createTextNode(us),l=e.parentNode;l.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var v=nd(a.getBoundingClientRect());return l.removeChild(i),v},S_=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,l=e.endOffset;if(n===a&&gn(a)&&i===0&&l===1){var v=e.cloneRange();return v.setEndAfter(a),Qc(v)}else return null},ru=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},Qc=function(e){var n,a=e.getClientRects();return a.length>0?n=nd(a[0]):n=nd(e.getBoundingClientRect()),!Up(e)&&Lp(e)&&ru(n)?dc(e):ru(n)&&Up(e)?S_(e):n},rd=function(e,n){var a=e0(e,n);return a.width=1,a.right=a.left+1,a},Wp=function(e){var n=[],a=function(A){A.height!==0&&(n.length>0&&t0(A,n[n.length-1])||n.push(A))},i=function(A,N){var X=vc(A.ownerDocument);if(N<A.data.length){if(r0(A.data[N]))return n;if(r0(A.data[N-1])&&(X.setStart(A,N),X.setEnd(A,N+1),!_u(X)))return a(rd(Qc(X),!1)),n}N>0&&(X.setStart(A,N-1),X.setEnd(A,N),_u(X)||a(rd(Qc(X),!1))),N<A.data.length&&(X.setStart(A,N),X.setEnd(A,N+1),_u(X)||a(rd(Qc(X),!0)))},l=e.container(),v=e.offset();if(nu(l))return i(l,v),n;if(Zt(l))if(e.isAtEnd()){var p=Hp(l,v);nu(p)&&i(p,p.data.length),im(p)&&!Lp(p)&&a(rd(Qc(p),!1))}else{var p=Hp(l,v);if(nu(p)&&i(p,0),im(p)&&e.isAtEnd())return a(rd(Qc(p),!1)),n;var x=Hp(e.container(),e.offset()-1);im(x)&&!Lp(x)&&(Ko(x)||Ko(p)||!im(p))&&a(rd(Qc(x),!1)),im(p)&&a(rd(Qc(p),!0))}return n},dt=function(e,n,a){var i=function(){return nu(e),n===0},l=function(){return nu(e)?n>=e.data.length:n>=e.childNodes.length},v=function(){var X=vc(e.ownerDocument);return X.setStart(e,n),X.setEnd(e,n),X},p=function(){return a||(a=Wp(dt(e,n))),a},x=function(){return p().length>0},A=function(X){return X&&e===X.container()&&n===X.offset()},N=function(X){return Hp(e,X?n-1:n)};return{container:W(e),offset:W(n),toRange:v,getClientRects:p,isVisible:x,isAtStart:i,isAtEnd:l,isEqual:A,getNode:N}};dt.fromRangeStart=function(e){return dt(e.startContainer,e.startOffset)},dt.fromRangeEnd=function(e){return dt(e.endContainer,e.endOffset)},dt.after=function(e){return dt(e.parentNode,a0(e)+1)},dt.before=function(e){return dt(e.parentNode,a0(e))},dt.isAbove=function(e,n){return eu(da(n.getClientRects()),Ur(e.getClientRects()),Lh).getOr(!1)},dt.isBelow=function(e,n){return eu(Ur(n.getClientRects()),da(e.getClientRects()),Hh).getOr(!1)},dt.isAtStart=function(e){return e?e.isAtStart():!1},dt.isAtEnd=function(e){return e?e.isAtEnd():!1},dt.isTextPosition=function(e){return e?gn(e.container()):!1},dt.isElementPosition=function(e){return dt.isTextPosition(e)===!1};var iv=function(e,n){gn(n)&&n.data.length===0&&e.remove(n)},Vh=function(e,n,a){n.insertNode(a),iv(e,a.previousSibling),iv(e,a.nextSibling)},a4=function(e,n,a){var i=te.from(a.firstChild),l=te.from(a.lastChild);n.insertNode(a),i.each(function(v){return iv(e,v.previousSibling)}),l.each(function(v){return iv(e,v.nextSibling)})},o0=function(e,n,a){vr(a)?a4(e,n,a):Vh(e,n,a)},Bl=gn,i0=bo,q2=Ma.nodeIndex,K2=function(e){var n=e.parentNode;return i0(n)?K2(n):n},u0=function(e){return e?Rf(e.childNodes,function(n,a){return i0(a)&&a.nodeName!=="BR"?n=n.concat(u0(a)):n.push(a),n},[]):[]},X2=function(e,n){for(;(e=e.previousSibling)&&Bl(e);)n+=e.data.length;return n},Y2=function(e){return function(n){return e===n}},J2=function(e){var n,a;n=u0(K2(e)),a=ma(n,Y2(e),e),n=n.slice(0,a+1);var i=Rf(n,function(l,v,p){return Bl(v)&&Bl(n[p-1])&&l++,l},0);return n=gl(n,As([e.nodeName])),a=ma(n,Y2(e),e),a-i},Z2=function(e){var n;return Bl(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+J2(e)+"]"},um=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},__=function(e,n){var a,i,l=[],v,p,x;return a=n.container(),i=n.offset(),Bl(a)?v=X2(a,i):(p=a.childNodes,i>=p.length?(v="after",i=p.length-1):v="before",a=p[i]),l.push(Z2(a)),x=um(e,a),x=gl(x,ge(bo)),l=l.concat(Tv(x,function(A){return Z2(A)})),l.reverse().join("/")+","+v},o4=function(e,n,a){var i=u0(e);return i=gl(i,function(l,v){return!Bl(l)||!Bl(i[v-1])}),i=gl(i,As([n])),i[a]},i4=function(e,n){for(var a=e,i=0,l;Bl(a);){if(l=a.data.length,n>=i&&n<=i+l){e=a,n=n-i;break}if(!Bl(a.nextSibling)){e=a,n=l;break}i+=l,a=a.nextSibling}return Bl(e)&&n>e.data.length&&(n=e.data.length),dt(e,n)},Uh=function(e,n){var a;if(!n)return null;var i=n.split(","),l=i[0].split("/");a=i.length>1?i[1]:"before";var v=Rf(l,function(p,x){var A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(x);return A?(A[1]==="text()"&&(A[1]="#text"),o4(p,A[1],parseInt(A[2],10))):null},e);return v?Bl(v)?i4(v,parseInt(a,10)):(a==="after"?a=q2(v)+1:a=q2(v),dt(v.parentNode,a)):null},Wh=La,s0=function(e,n,a){var i,l;for(l=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&gn(i);i=i.previousSibling)l+=e(i.data).length;return l},Q2=function(e,n,a,i,l){var v=i[l?"startContainer":"endContainer"],p=i[l?"startOffset":"endOffset"],x=[],A,N=0,X=e.getRoot();for(gn(v)?x.push(a?s0(n,v,p):p):(A=v.childNodes,p>=A.length&&A.length&&(N=1,p=Math.max(0,A.length-1)),x.push(e.nodeIndex(A[p],a)+N));v&&v!==X;v=v.parentNode)x.push(e.nodeIndex(v,a));return x},jh=function(e,n,a,i){var l=n.dom,v={};return v.start=Q2(l,e,a,i,!0),n.isCollapsed()||(v.end=Q2(l,e,a,i,!1)),Uc(i)&&(v.isFakeCaret=!0),v},ew=function(e,n,a){var i=0;return wt.each(e.select(n),function(l){if(l.getAttribute("data-mce-bogus")!=="all"){if(l===a)return!1;i++}}),i},mo=function(e,n){var a,i,l,v=n?"start":"end";a=e[v+"Container"],i=e[v+"Offset"],Yn(a)&&a.nodeName==="TR"&&(l=a.childNodes,a=l[Math.min(n?i:i-1,l.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},jp=function(e){return mo(e,!0),mo(e,!1),e},wo=function(e,n){var a;if(Yn(e)&&(e=Ga(e,n),Wh(e)))return e;if(Nu(e)&&(gn(e)&&Ca(e)&&(e=e.parentNode),a=e.previousSibling,Wh(a)||(a=e.nextSibling,Wh(a))))return a},l0=function(e){return wo(e.startContainer,e.startOffset)||wo(e.endContainer,e.endOffset)},sm=function(e,n,a){var i=a.getNode(),l=i?i.nodeName:null,v=a.getRng();if(Wh(i)||l==="IMG")return{name:l,index:ew(a.dom,l,i)};var p=l0(v);return p?(l=p.tagName,{name:l,index:ew(a.dom,l,p)}):jh(e,a,n,v)},tw=function(e){var n=e.getRng();return{start:__(e.dom.getRoot(),dt.fromRangeStart(n)),end:__(e.dom.getRoot(),dt.fromRangeEnd(n))}},Gp=function(e){return{rng:e.getRng()}},nw=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},x_=function(e,n){var a=e.dom,i=e.getRng(),l=a.uniqueId(),v=e.isCollapsed(),p=e.getNode(),x=p.nodeName;if(x==="IMG")return{name:x,index:ew(a,x,p)};var A=jp(i.cloneRange());if(!v){A.collapse(!1);var N=nw(a,l+"_end",n);o0(a,A,N)}i=jp(i),i.collapse(!0);var X=nw(a,l+"_start",n);return o0(a,i,X),e.moveToBookmark({id:l,keep:!0}),{id:l}},u4=function(e,n,a){return n===2?sm(uc,a,e):n===3?tw(e):n?Gp(e):x_(e,!1)},k_=le(sm,ke,!0),s4=Ma.DOM,c0="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",qp=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var l=e.getParam(n,"","hash");return Ir(l,e.id).getOr(a)}else return i},l4=function(e){return e.getParam("iframe_attrs",{})},A_=function(e){return e.getParam("doctype","<!DOCTYPE html>")},rw=function(e){return e.getParam("document_base_url","")},c4=function(e){return qp(e,"body_id","tinymce")},f4=function(e){return qp(e,"body_class","")},f0=function(e){return e.getParam("content_security_policy","")},aw=function(e){return e.getParam("br_in_pre",!0)},Bi=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},Gh=function(e){return e.getParam("forced_root_block_attrs",{})},qh=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},E_=function(e){return e.getParam("no_newline_selector","")},v4=function(e){return e.getParam("keep_styles",!0)},Kp=function(e){return e.getParam("end_container_on_empty_block",!1)},Xp=function(e){return wt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},lm=function(e){return wt.explode(e.getParam("font_size_classes",""))},v0=function(e){return e.getParam("images_dataimg_filter",ot,"function")},Yp=function(e){return e.getParam("automatic_uploads",!0,"boolean")},ow=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},d4=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},ef=function(e){return e.getParam("icons","","string")},d0=function(e){return e.getParam("icons_url","","string")},m4=function(e){return e.getParam("images_upload_url","","string")},ad=function(e){return e.getParam("images_upload_base_path","","string")},od=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},h4=function(e){return e.getParam("images_upload_handler",null,"function")},m0=function(e){return e.getParam("content_css_cors",!1,"boolean")},h0=function(e){return e.getParam("referrer_policy","","string")},g0=function(e){return e.getParam("language","en","string")},ci=function(e){return e.getParam("language_url","","string")},T_=function(e){return e.getParam("indent_use_margin",!1)},iw=function(e){return e.getParam("indentation","40px","string")},O_=function(e){var n=e.getParam("content_css");return $e(n)?tt(n.split(","),Xs):Be(n)?n:n===!1||e.inline?[]:["default"]},D_=function(e){var n=e.getParam("font_css",[]);return Be(n)?n:tt(n.split(","),Xs)},mc=function(e){return e.getParam("directionality",wu.isRtl()?"rtl":void 0)},uv=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},R_=function(e){var n=e.getParam("object_resizing");return n===!1||Hn.iOS?!1:$e(n)?n:"table,img,figure.image,div,video,iframe"},$_=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},uw=function(e){return e.getParam("placeholder",s4.getAttrib(e.getElement(),"placeholder"),"string")},p0=function(e){return e.getParam("event_root")},B_=function(e){return e.getParam("service_message")},Kh=function(e){return e.getParam("theme")},g4=function(e){return e.getParam("validate")},Jp=function(e){return e.getParam("inline_boundaries")!==!1},p4=function(e){return e.getParam("formats")},Xh=function(e){var n=e.getParam("preview_styles",c0);return $e(n)?n:""},cm=function(e){return e.getParam("format_empty_lines",!1,"boolean")},sw=function(e){return e.getParam("custom_ui_selector","","string")},M_=function(e){return e.getParam("theme_url")},b4=function(e){return e.getParam("inline")},P_=function(e){return e.getParam("hidden_input")},I_=function(e){return e.getParam("submit_patch")},lw=function(e){return e.getParam("encoding")==="xml"},y4=function(e){return e.getParam("add_form_submit_trigger")},b0=function(e){return e.getParam("add_unload_trigger")},w4=function(e){return Bi(e)!==""},Zp=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},C4=function(e){return e.getParam("disable_nodechange")},S4=function(e){return e.getParam("readonly")},_4=function(e){return e.getParam("content_css_cors")},y0=function(e){return e.getParam("plugins","","string")},x4=function(e){return e.getParam("external_plugins")},Yh=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},N_=function(e){return e.getParam("visual",!0,"boolean")},k4=function(e){return e.getParam("visual_table_class","mce-item-table","string")},cw=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},z_=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},fw=Yn,F_=gn,L_=function(e){var n=e.parentNode;n&&n.removeChild(e)},Jh=function(e){var n=uc(e);return{count:e.length-n.length,text:n}},vw=function(e){for(var n;(n=e.data.lastIndexOf(Ve))!==-1;)e.deleteData(n,1)},dw=function(e,n){return id(e),n},A4=function(e,n){var a=Jh(e.data.substr(0,n.offset())),i=Jh(e.data.substr(n.offset())),l=a.text+i.text;return l.length>0?(vw(e),dt(e,n.offset()-a.count)):n},E4=function(e,n){var a=n.container(),i=Oe(fr(a.childNodes),e).map(function(l){return l<n.offset()?dt(a,n.offset()-1):n}).getOr(n);return id(e),i},mw=function(e,n){return F_(e)&&n.container()===e?A4(e,n):dw(e,n)},T4=function(e,n){return n.container()===e.parentNode?E4(e,n):dw(e,n)},H_=function(e,n){return dt.isTextPosition(n)?mw(e,n):T4(e,n)},id=function(e){fw(e)&&Nu(e)&&(Jf(e)?e.removeAttribute("data-mce-caret"):L_(e)),F_(e)&&(vw(e),e.data.length===0&&L_(e))},Zh=Rn().browser,V_=La,O4=Mu,U_=hh,D4="*[contentEditable=false],video,audio,embed,object",hw=function(e,n,a){var i=e0(n.getBoundingClientRect(),a),l,v;if(e.tagName==="BODY"){var p=e.ownerDocument.documentElement;l=e.scrollLeft||p.scrollLeft,v=e.scrollTop||p.scrollTop}else{var x=e.getBoundingClientRect();l=e.scrollLeft-x.left,v=e.scrollTop-x.top}i.left+=l,i.right+=l,i.top+=v,i.bottom+=v,i.width=1;var A=n.offsetWidth-n.clientWidth;return A>0&&(a&&(A*=-1),i.left+=A,i.right+=A),i},Qh=function(e){for(var n=$i(je.fromDom(e),D4),a=0;a<n.length;a++){var i=n[a].dom,l=i.previousSibling;if(Ep(l)){var v=l.data;v.length===1?l.parentNode.removeChild(l):l.deleteData(v.length-1,1)}if(l=i.nextSibling,Ap(l)){var v=l.data;v.length===1?l.parentNode.removeChild(l):l.deleteData(0,1)}}},au=function(e,n,a,i){var l=td(),v,p,x=Bi(e),A=x.length>0?x:"p",N=function(me,he){var De;if(X(),U_(he))return null;if(a(he)){p=YS(A,he,me);var Ae=hw(n,he,me);dr(p).css("top",Ae.top);var Xe=dr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Wn({},Ae)).appendTo(n)[0];l.set({caret:Xe,element:he,before:me}),me&&dr(Xe).addClass("mce-visual-caret-before"),Z(),De=he.ownerDocument.createRange(),De.setStart(p,0),De.setEnd(p,0)}else return p=l2(he,me),De=he.ownerDocument.createRange(),eg(p.nextSibling)?(De.setStart(p,0),De.setEnd(p,0)):(De.setStart(p,1),De.setEnd(p,1)),De;return De},X=function(){Qh(n),p&&(id(p),p=null),l.on(function(me){dr(me.caret).remove(),l.clear()}),v&&(ji.clearInterval(v),v=void 0)},Z=function(){v=ji.setInterval(function(){i()?dr("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):dr("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},Q=function(){l.on(function(me){var he=hw(n,me.element,me.before);dr(me.caret).css(Wn({},he))})},ce=function(){return ji.clearInterval(v)},ve=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:N,hide:X,getCss:ve,reposition:Q,destroy:ce}},gw=function(){return Zh.isIE()||Zh.isEdge()||Zh.isFirefox()},eg=function(e){return V_(e)||O4(e)},fm=function(e){return eg(e)||Ao(e)&&gw()},w0=La,R4=Mu,W_=mu("display","block table table-cell table-caption list-item"),pw=Nu,Lu=Ca,Qp=Yn,$4=Wc,vm=function(e){return e>0},ud=function(e){return e<0},tg=function(e,n){for(var a;a=e(n);)if(!Lu(a))return a;return null},sd=function(e,n,a,i,l){var v=new sa(e,i),p=w0(e)||Lu(e);if(ud(n)){if(p&&(e=tg(v.prev.bind(v),!0),a(e)))return e;for(;e=tg(v.prev.bind(v),l);)if(a(e))return e}if(vm(n)){if(p&&(e=tg(v.next.bind(v),!0),a(e)))return e;for(;e=tg(v.next.bind(v),l);)if(a(e))return e}return null},hc=function(e,n){for(;e&&e!==n;){if(W_(e))return e;e=e.parentNode}return null},gc=function(e,n,a){return hc(e.container(),a)===hc(n.container(),a)},C0=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return Qp(a)?a.childNodes[i+e]:null},S0=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},bw=function(e,n,a){return hc(n,e)===hc(a,e)},ng=function(e,n,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==n;){var l=a[i];if(pw(l)&&(l=l[i]),w0(l)||R4(l)){if(bw(n,l,a))return l;break}if($4(l))break;a=a.parentNode}return null},rg=le(S0,!0),ag=le(S0,!1),Yi=function(e,n,a){var i,l=le(ng,!0,n),v=le(ng,!1,n),p=a.startContainer,x=a.startOffset;if(Ca(p)){Qp(p)||(p=p.parentNode);var A=p.getAttribute("data-mce-caret");if(A==="before"&&(i=p.nextSibling,fm(i)))return rg(i);if(A==="after"&&(i=p.previousSibling,fm(i)))return ag(i)}if(!a.collapsed)return a;if(gn(p)){if(pw(p)){if(e===1){if(i=v(p),i)return rg(i);if(i=l(p),i)return ag(i)}if(e===-1){if(i=l(p),i)return ag(i);if(i=v(p),i)return rg(i)}return a}if(Ep(p)&&x>=p.data.length-1)return e===1&&(i=v(p),i)?rg(i):a;if(Ap(p)&&x<=1)return e===-1&&(i=l(p),i)?ag(i):a;if(x===p.data.length)return i=v(p),i?rg(i):a;if(x===0)return i=l(p),i?ag(i):a}return a},og=function(e,n){return te.from(C0(e?0:-1,n)).filter(w0)},ig=function(e,n,a){var i=Yi(e,n,a);return e===-1?dt.fromRangeStart(i):dt.fromRangeEnd(i)},_0=function(e){return te.from(e.getNode()).map(je.fromDom)},B4=function(e){return te.from(e.getNode(!0)).map(je.fromDom)},yw=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},x0=function(e,n){var a=gc(e,n);return!a&&wa(e.getNode())?!0:a},Mi;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Mi||(Mi={}));var M4=La,tf=gn,k0=Yn,ww=wa,ug=Wc,Cw=PA,e1=Po,P4=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},j_=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},G_=function(e,n){if(vm(e)){if(ug(n.previousSibling)&&!tf(n.previousSibling))return dt.before(n);if(tf(n))return dt(n,0)}if(ud(e)){if(ug(n.nextSibling)&&!tf(n.nextSibling))return dt.after(n);if(tf(n))return dt(n,n.data.length)}return ud(e)?ww(n)?dt.before(n):dt.after(n):dt.before(n)},I4=function(e,n){var a=n.nextSibling;return a&&ug(a)?tf(a)?dt(a,0):dt.before(a):sg(Mi.Forwards,dt.after(n),e)},sg=function(e,n,a){var i,l,v,p;if(!k0(a)||!n)return null;if(n.isEqual(dt.after(a))&&a.lastChild){if(p=dt.after(a.lastChild),ud(e)&&ug(a.lastChild)&&k0(a.lastChild))return ww(a.lastChild)?dt.before(a.lastChild):p}else p=n;var x=p.container(),A=p.offset();if(tf(x)){if(ud(e)&&A>0)return dt(x,--A);if(vm(e)&&A<x.length)return dt(x,++A);i=x}else{if(ud(e)&&A>0&&(l=j_(x,A-1),ug(l)))return!Cw(l)&&(v=sd(l,e,e1,l),v)?tf(v)?dt(v,v.data.length):dt.after(v):tf(l)?dt(l,l.data.length):dt.before(l);if(vm(e)&&A<x.childNodes.length&&(l=j_(x,A),ug(l)))return ww(l)?I4(a,l):!Cw(l)&&(v=sd(l,e,e1,l),v)?tf(v)?dt(v,0):dt.before(v):tf(l)?dt(l,0):dt.after(l);i=l||p.getNode()}if((vm(e)&&p.isAtEnd()||ud(e)&&p.isAtStart())&&(i=sd(i,e,ot,a,!0),e1(i,a)))return G_(e,i);l=sd(i,e,e1,a);var N=Ks(it(P4(x,a),M4));return N&&(!l||!N.contains(l))?(vm(e)?p=dt.after(N):p=dt.before(N),p):l?G_(e,l):null},ho=function(e){return{next:function(n){return sg(Mi.Forwards,n,e)},prev:function(n){return sg(Mi.Backwards,n,e)}}},A0=function(e,n,a){var i=e?dt.before(a):dt.after(a);return Hu(e,n,i)},E0=function(e){return wa(e)?dt.before(e):dt.after(e)},Sw=function(e){return dt.isTextPosition(e)?e.offset()===0:Wc(e.getNode())},q_=function(e){if(dt.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return Wc(e.getNode(!0))},_w=function(e,n){return!dt.isTextPosition(e)&&!dt.isTextPosition(n)&&e.getNode()===n.getNode(!0)},dm=function(e){return!dt.isTextPosition(e)&&wa(e.getNode())},T0=function(e,n,a){return e?!_w(n,a)&&!dm(n)&&q_(n)&&Sw(a):!_w(a,n)&&Sw(n)&&q_(a)},Hu=function(e,n,a){var i=ho(n);return te.from(e?i.next(a):i.prev(a))},pc=function(e,n,a){return Hu(e,n,a).bind(function(i){return gc(a,i,n)&&T0(e,a,i)?Hu(e,n,i):te.some(i)})},O0=function(e,n,a,i){return pc(e,n,a).bind(function(l){return i(l)?O0(e,n,l,i):te.some(l)})},sv=function(e,n){var a=e?n.firstChild:n.lastChild;return gn(a)?te.some(dt(a,e?0:a.data.length)):a?Wc(a)?te.some(e?dt.before(a):E0(a)):A0(e,n,a):te.none()},Ml=le(Hu,!0),bc=le(Hu,!1),ou=le(sv,!0),ol=le(sv,!1),lg="_mce_caret",nf=function(e){return Yn(e)&&e.id===lg},mm=function(e,n){for(;n&&n!==e;){if(n.id===lg)return n;n=n.parentNode}return null},K_=function(e){return $e(e.start)},X_=function(e){return Tr(e,"rng")},N4=function(e){return Tr(e,"id")},z4=function(e){return Tr(e,"name")},Y_=function(e){return wt.isArray(e.start)},J_=function(e,n){return Yn(n)&&e.isBlock(n)&&!n.innerHTML&&!Hn.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},Z_=function(e,n){var a,i=e.createRng();return a=Uh(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=Uh(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},F4=function(e,n){var a=e.ownerDocument.createTextNode(Ve);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},Q_=function(e){return e.hasChildNodes()===!1},L4=function(e,n){return ol(e).fold(at,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},ex=function(e,n,a){return Q_(n)&&mm(e,n)?(F4(n,a),!0):!1},tx=function(e,n,a,i){var l=a[n?"start":"end"],v,p,x,A,N=e.getRoot();if(l){for(x=l[0],p=N,v=l.length-1;v>=1;v--){if(A=p.childNodes,ex(N,p,i))return!0;if(l[v]>A.length-1)return ex(N,p,i)?!0:L4(p,i);p=A[l[v]]}p.nodeType===3&&(x=Math.min(l[0],p.nodeValue.length)),p.nodeType===1&&(x=Math.min(l[0],p.childNodes.length)),n?i.setStart(p,x):i.setEnd(p,x)}return!0},xw=function(e){return gn(e)&&e.data.length>0},nx=function(e,n,a){var i=e.get(a.id+"_"+n),l,v,p,x,A=a.keep,N,X;if(i){if(l=i.parentNode,n==="start"?(A?i.hasChildNodes()?(l=i.firstChild,v=1):xw(i.nextSibling)?(l=i.nextSibling,v=0):xw(i.previousSibling)?(l=i.previousSibling,v=i.previousSibling.data.length):(l=i.parentNode,v=e.nodeIndex(i)+1):v=e.nodeIndex(i),N=l,X=v):(A?i.hasChildNodes()?(l=i.firstChild,v=1):xw(i.previousSibling)?(l=i.previousSibling,v=i.previousSibling.data.length):(l=i.parentNode,v=e.nodeIndex(i)):v=e.nodeIndex(i),N=l,X=v),!A){for(x=i.previousSibling,p=i.nextSibling,wt.each(wt.grep(i.childNodes),function(Z){gn(Z)&&(Z.nodeValue=Z.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);x&&p&&x.nodeType===p.nodeType&&gn(x)&&!Hn.opera&&(v=x.nodeValue.length,x.appendData(p.nodeValue),e.remove(p),N=x,X=v)}return te.some(dt(N,X))}else return te.none()},H4=function(e,n){var a=e.createRng();return tx(e,!0,n,a)&&tx(e,!1,n,a)?te.some(a):te.none()},Br=function(e,n){var a=nx(e,"start",n),i=nx(e,"end",n);return eu(a,i.or(a),function(l,v){var p=e.createRng();return p.setStart(J_(e,l.container()),l.offset()),p.setEnd(J_(e,v.container()),v.offset()),p})},hm=function(e,n){return te.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},cg=function(e,n){var a=e.dom;if(n){if(Y_(n))return H4(a,n);if(K_(n))return te.some(Z_(a,n));if(N4(n))return Br(a,n);if(z4(n))return hm(a,n);if(X_(n))return te.some(n.rng)}return te.none()},kw=function(e,n,a){return u4(e,n,a)},V4=function(e,n){cg(e,n).each(function(a){e.setRng(a)})},Vu=function(e){return Yn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},U4=function(e){return function(n){return e===n}},gm=U4(us),ld=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},D0=function(e){return!ld(e)&&!gm(e)},R0=function(e){return!!e.nodeType},W4=function(e){return e&&/^(IMG)$/.test(e.nodeName)},rx=function(e,n,a){var i=a.startOffset,l=a.startContainer;if(!(l===a.endContainer&&W4(l.childNodes[i]))&&Yn(l)){var v=l.childNodes,p=void 0;i<v.length?(l=v[i],p=new sa(l,e.getParent(l,e.isBlock))):(l=v[v.length-1],p=new sa(l,e.getParent(l,e.isBlock)),p.next(!0));for(var x=p.current();x;x=p.next())if(gn(x)&&!B0(x)){a.setStart(x,0),n.setRng(a);return}}},$0=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(Yn(e)||!B0(e))return e}},Aw=function(e,n){return R0(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},fg=function(e,n,a){return e.schema.isValidChild(n,a)},B0=function(e,n){if(n===void 0&&(n=!1),Ge(e)&&gn(e)){var a=n?e.data.replace(/ /g,""):e.data;return Tl(a)}else return!1},j4=function(e){return Ge(e)&&gn(e)&&e.length===0},rf=function(e,n){return se(e)?e=e(n):Ge(n)&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},Ew=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},Tw=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},vg=function(e,n,a){return Tw(e,e.getStyle(n,a),a)},Ow=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},t1=function(e,n,a){return e.getParents(n,a,e.getRoot())},ax=function(e,n){var a=function(i){var l=function(v){return v.length>1&&v.charAt(0)==="%"};return Ze(["styles","attributes"],function(v){return Ir(i,v).exists(function(p){var x=Be(p)?p:Zu(p);return Ze(x,l)})})};return Ze(e.formatter.get(n),a)},G4=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],l=function(v){return lo(v,function(p,x){return Ze(i,function(A){return A===x})})};return Ze(e.formatter.get(n),function(v){var p=l(v);return Ze(e.formatter.get(a),function(x){var A=l(x);return th(p,A)})})},af=function(e){return Gs(e,"block")},vs=function(e){return Gs(e,"selector")},Pi=function(e){return Gs(e,"inline")},q4=function(e){return vs(e)&&Pi(e)&&Fd(Ir(e,"mixed"),!0)},Dw=function(e){return vs(e)&&e.expand!==!1&&!Pi(e)},dg=Vu,Rw=t1,n1=B0,$w=Aw,K4=function(e){return wa(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},an=function(e,n){for(var a=n;a;){if(Yn(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},Xo=function(e,n,a,i){for(var l=n.data,v=a;e?v>=0:v<l.length;e?v--:v++)if(i(l.charAt(v)))return e?v+1:v;return-1},mg=function(e,n,a){return Xo(e,n,a,function(i){return gm(i)||ld(i)})},fi=function(e,n,a){return Xo(e,n,a,D0)},il=function(e,n,a,i,l,v){var p,x=e.getParent(a,e.isBlock)||n,A=function(X,Z,Q){var ce=j2(e),ve=l?ce.backwards:ce.forwards;return te.from(ve(X,Z,function(me,he){return dg(me.parentNode)?-1:(p=me,Q(l,me,he))},x))},N=A(a,i,mg);return N.bind(function(X){return v?A(X.container,X.offset+(l?-1:0),fi):te.some(X)}).orThunk(function(){return p?te.some({container:p,offset:l?0:p.length}):te.none()})},Bw=function(e,n,a,i,l){gn(i)&&Pd(i.data)&&i[l]&&(i=i[l]);for(var v=Rw(e,i),p=0;p<v.length;p++)for(var x=0;x<n.length;x++){var A=n[x];if(!(Ge(A.collapsed)&&A.collapsed!==a.collapsed)&&vs(A)&&e.is(v[p],A.selector))return v[p]}return i},r1=function(e,n,a,i){var l=a,v=e.dom,p=v.getRoot(),x=n[0];if(af(x)&&(l=x.wrapper?null:v.getParent(a,x.block,p)),!l){var A=v.getParent(a,"LI,TD,TH");l=v.getParent(gn(a)?a.parentNode:a,function(N){return N!==p&&$w(e,N)},A)}if(l&&af(x)&&x.wrapper&&(l=Rw(v,l,"ul,ol").reverse()[0]||l),!l)for(l=a;l[i]&&!v.isBlock(l[i])&&(l=l[i],!Ew(l,"br")););return l||a},M0=function(e,n,a,i){var l=a.parentNode;return Ge(a[i])?!1:l===n||xe(l)||e.isBlock(l)?!0:M0(e,n,l,i)},P0=function(e,n,a,i,l){var v=a,p=l?"previousSibling":"nextSibling",x=e.getRoot();if(gn(a)&&!n1(a)&&(l?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(v))return v;for(var A=v[p];A;A=A[p]){var N=gn(A)&&!M0(e,x,A,p);if(!dg(A)&&!K4(A)&&!n1(A,N))return v}if(v===x||v.parentNode===x){a=v;break}v=v.parentNode}return a},I0=function(e){return dg(e.parentNode)||dg(e)},cd=function(e,n,a,i){i===void 0&&(i=!1);var l=n.startContainer,v=n.startOffset,p=n.endContainer,x=n.endOffset,A=e.dom,N=a[0];if(Yn(l)&&l.hasChildNodes()&&(l=Ga(l,v),gn(l)&&(v=0)),Yn(p)&&p.hasChildNodes()&&(p=Ga(p,n.collapsed?x:x-1),gn(p)&&(x=p.nodeValue.length)),l=an(A,l),p=an(A,p),I0(l)&&(l=dg(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,gn(l)&&(v=n.collapsed?l.length:0)),I0(p)&&(p=dg(p)?p:p.parentNode,n.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,gn(p)&&(x=n.collapsed?0:p.length)),n.collapsed){var X=il(A,e.getBody(),l,v,!0,i);X.each(function(Q){var ce=Q.container,ve=Q.offset;l=ce,v=ve});var Z=il(A,e.getBody(),p,x,!1,i);Z.each(function(Q){var ce=Q.container,ve=Q.offset;p=ce,x=ve})}return(Pi(N)||N.block_expand)&&((!Pi(N)||!gn(l)||v===0)&&(l=P0(A,a,l,v,!0)),(!Pi(N)||!gn(p)||x===p.nodeValue.length)&&(p=P0(A,a,p,x,!1))),Dw(N)&&(l=Bw(A,a,n,l,"previousSibling"),p=Bw(A,a,n,p,"nextSibling")),(af(N)||vs(N))&&(l=r1(e,a,l,"previousSibling"),p=r1(e,a,p,"nextSibling"),af(N)&&(A.isBlock(l)||(l=P0(A,a,l,v,!0)),A.isBlock(p)||(p=P0(A,a,p,x,!1)))),Yn(l)&&(v=A.nodeIndex(l),l=l.parentNode),Yn(p)&&(x=A.nodeIndex(p)+1,p=p.parentNode),{startContainer:l,startOffset:v,endContainer:p,endOffset:x}},a1=function(e,n,a){var i=n.startOffset,l=Ga(n.startContainer,i),v=n.endOffset,p=Ga(n.endContainer,v-1),x=function(me){var he=me[0];gn(he)&&he===l&&i>=he.data.length&&me.splice(0,1);var De=me[me.length-1];return v===0&&me.length>0&&De===p&&gn(De)&&me.splice(me.length-1,1),me},A=function(me,he,De){for(var Ae=[];me&&me!==De;me=me[he])Ae.push(me);return Ae},N=function(me,he){return e.getParent(me,function(De){return De.parentNode===he},he)},X=function(me,he,De){for(var Ae=De?"nextSibling":"previousSibling",Xe=me,We=Xe.parentNode;Xe&&Xe!==he;Xe=We){We=Xe.parentNode;var Re=A(Xe===me?Xe:Xe[Ae],Ae);Re.length&&(De||Re.reverse(),a(x(Re)))}};if(l===p)return a(x([l]));var Z=e.findCommonAncestor(l,p);if(e.isChildOf(l,p))return X(l,Z,!0);if(e.isChildOf(p,l))return X(p,Z);var Q=N(l,Z)||l,ce=N(p,Z)||p;X(l,Q,!0);var ve=A(Q===l?Q:Q.nextSibling,"nextSibling",ce===p?ce.nextSibling:ce);ve.length&&a(x(ve)),X(p,ce)},Mw=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},Pw=function(e){return cr(e,function(n){var a=om(n);return a?[je.fromDom(a)]:[]})},Iw=function(e){return Mw(e).length>1},X4=function(e){return it(Pw(e),ic)},ox=function(e){return $i(e,"td[data-mce-selected],th[data-mce-selected]")},lv=function(e,n){var a=ox(n);return a.length>0?a:X4(e)},of=function(e){return lv(Mw(e.selection.getSel()),je.fromDom(e.getBody()))},pm=function(e,n){return Ld(e,"table",n)},hg=function(e){var n=e.startContainer,a=e.startOffset;return gn(n)?a===0?te.some(je.fromDom(n)):te.none():te.from(n.childNodes[a]).map(je.fromDom)},Nw=function(e){var n=e.endContainer,a=e.endOffset;return gn(n)?a===n.data.length?te.some(je.fromDom(n)):te.none():te.from(n.childNodes[a-1]).map(je.fromDom)},N0=function(e){return Mo(e).fold(W([e]),function(n){return[e].concat(N0(n))})},uf=function(e){return as(e).fold(W([e]),function(n){return xo(n)==="br"?Ff(n).map(function(a){return[e].concat(uf(a))}).getOr([]):[e].concat(uf(n))})},Pl=function(e,n){return eu(hg(n),Nw(n),function(a,i){var l=rn(N0(e),le($a,a)),v=rn(uf(e),le($a,i));return l.isSome()&&v.isSome()}).getOr(!1)},fd=function(e,n,a,i){var l=a,v=new sa(a,l),p=lo(e.schema.getMoveCaretBeforeOnEnterElements(),function(x,A){return!Ee(["td","th","table"],A.toLowerCase())});do{if(gn(a)&&wt.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(p[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?v.next():v.prev());l.nodeName==="BODY"&&(i?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},vd=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},bm=function(e,n){var a=of(e);a.length>0?He(a,function(i){var l=i.dom,v=e.dom.createRng();v.setStartBefore(l),v.setEndAfter(l),n(v,!0)}):n(e.selection.getRng(),!1)},gg=function(e,n,a){var i=x_(e,n);a(i),e.moveToBookmark(i)},zw=function(e,n){var a=function(v){if(!e(v))throw new Error("Can only get "+n+" value of a "+n+" node");return i(v).getOr("")},i=function(v){return e(v)?te.from(v.dom.nodeValue):te.none()},l=function(v,p){if(!e(v))throw new Error("Can only set raw "+n+" value of a "+n+" node");v.dom.nodeValue=p};return{get:a,getOption:i,set:l}},Fw=zw(Xa,"text"),Lw=function(e){return Fw.get(e)},z0=function(e){return Xa(e)&&Lw(e)===Ve},Ii=function(e,n,a,i){return ro(n).fold(function(){return"skipping"},function(l){return i==="br"||z0(n)?"valid":ov(n)?"existing":nf(n.dom)?"caret":!fg(e,a,i)||!fg(e,xo(l),a)?"invalid-child":"valid"})},Fs=function(e,n){var a=cd(e,n,[{inline:"span"}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},ul=function(e,n,a,i){var l=n.uid,v=l===void 0?b_("mce-annotation"):l,p=nh(n,["uid"]),x=je.fromTag("span",e);rm(x,fs()),M(x,""+qo(),v),M(x,""+zp(),a);var A=i(v,p),N=A.attributes,X=N===void 0?{}:N,Z=A.classes,Q=Z===void 0?[]:Z;return J(x,X),QA(x,Q),x},sf=function(e,n,a,i,l){var v=[],p=ul(e.getDoc(),l,a,i),x=td(),A=function(){x.clear()},N=function(){return x.get().getOrThunk(function(){var ce=No(p);return v.push(ce),x.set(ce),ce})},X=function(ce){He(ce,Z)},Z=function(ce){var ve=Ii(e,ce,"span",xo(ce));switch(ve){case"invalid-child":{A();var me=Qi(ce);X(me),A();break}case"valid":{var he=N();zd(ce,he);break}}},Q=function(ce){var ve=tt(ce,je.fromDom);X(ve)};return a1(e.dom,n,function(ce){A(),Q(ce)}),v},pg=function(e,n,a,i){e.undoManager.transact(function(){var l=e.selection,v=l.getRng(),p=of(e).length>0;if(v.collapsed&&!p&&Fs(e,v),l.getRng().collapsed&&!p){var x=ul(e.getDoc(),i,n,a.decorate);Su(x,us),l.getRng().insertNode(x.dom),l.select(x.dom)}else gg(l,!1,function(){bm(e,function(A){sf(e,A,n,a.decorate,i)})})})},F0=function(e){var n=Fp();W2(e,n);var a=p_(e);return{register:function(i,l){n.register(i,l)},annotate:function(i,l){n.lookup(i).each(function(v){pg(e,i,v,l)})},annotationChanged:function(i,l){a.addListener(i,l)},remove:function(i){Yb(e,te.some(i)).each(function(l){var v=l.elements;He(v,Uf)})},getAll:function(i){var l=U2(e,i);return Si(l,function(v){return tt(v,function(p){return p.dom})})}}},dd=function(e){return{getBookmark:le(kw,e),moveToBookmark:le(V4,e)}};dd.isBookmarkNode=Vu;var ym=function(e,n){for(;n&&n!==e;){if(xl(n)||La(n))return n;n=n.parentNode}return null},wm=function(e,n,a){if(a.collapsed)return!1;if(Hn.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(Yn(i))return Ze(i.getClientRects(),function(l){return y_(l,e,n)})}return Ze(a.getClientRects(),function(l){return y_(l,e,n)})},Y4=function(e,n){return e.fire("PreProcess",n)},Hw=function(e,n){return e.fire("PostProcess",n)},ix=function(e){return e.fire("remove")},ux=function(e){return e.fire("detach")},Vw=function(e,n){return e.fire("SwitchMode",{mode:n})},Uw=function(e,n,a,i,l){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:l})},pa=function(e,n,a,i,l){e.fire("ObjectResized",{target:n,width:a,height:i,origin:l})},lf=function(e){return e.fire("PreInit")},sx=function(e){return e.fire("PostRender")},lx=function(e){return e.fire("Init")},cx=function(e,n){return e.fire("PlaceholderToggle",{state:n})},L0=function(e,n,a){return e.fire(n,a)},Ww=function(e,n,a,i){return e.fire("FormatApply",{format:n,node:a,vars:i})},o1=function(e,n,a,i){return e.fire("FormatRemove",{format:n,node:a,vars:i})},Un={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Un.metaKeyPressed(e)},metaKeyPressed:function(e){return Hn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},J4=La,jw=function(e,n){var a="data-mce-selected",i=n.dom,l=wt.each,v,p,x,A,N,X,Z,Q,ce,ve,me,he,De,Ae,Xe,We=n.getDoc(),Re=document,Qe=Math.abs,xt=Math.round,Ft=n.getBody(),Vn,mn,Bt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Ln=function(nt){return nt&&(nt.nodeName==="IMG"||n.dom.is(nt,"figure.image"))},Vt=function(nt){return Mu(nt)||i.hasClass(nt,"mce-preview-object")},vn=function(nt,Ht){if(nt.type==="longpress"||nt.type.indexOf("touch")===0){var Nt=nt.touches[0];return Ln(nt.target)&&!wm(Nt.clientX,Nt.clientY,Ht)}else return Ln(nt.target)&&!wm(nt.clientX,nt.clientY,Ht)},jt=function(nt){var Ht=nt.target;vn(nt,n.selection.getRng())&&!nt.isDefaultPrevented()&&n.selection.select(Ht)},Qt=function(nt){return i.is(nt,"figure.image")?[nt.querySelector("img")]:i.hasClass(nt,"mce-preview-object")&&Ge(nt.firstElementChild)?[nt,nt.firstElementChild]:[nt]},yn=function(nt){var Ht=R_(n);return!Ht||nt.getAttribute("data-mce-resize")==="false"||nt===n.getBody()?!1:i.hasClass(nt,"mce-preview-object")?Zl(je.fromDom(nt.firstElementChild),Ht):Zl(je.fromDom(nt),Ht)},Pt=function(nt){return Vt(nt)?i.create("img",{src:Hn.transparentSrc}):nt.cloneNode(!0)},hn=function(nt,Ht,Nt){if(Ge(Nt)){var Bn=Qt(nt);He(Bn,function(zn){zn.style[Ht]||!n.schema.isValid(zn.nodeName.toLowerCase(),Ht)?i.setStyle(zn,Ht,Nt):i.setAttrib(zn,Ht,""+Nt)})}},xr=function(nt,Ht,Nt){hn(nt,"width",Ht),hn(nt,"height",Nt)},ra=function(nt){var Ht,Nt,Bn,zn,Aa;Ht=nt.screenX-X,Nt=nt.screenY-Z,Ae=Ht*A[2]+ve,Xe=Nt*A[3]+me,Ae=Ae<5?5:Ae,Xe=Xe<5?5:Xe,(Ln(v)||Vt(v))&&$_(n)!==!1?Bn=!Un.modifierPressed(nt):Bn=Un.modifierPressed(nt),Bn&&(Qe(Ht)>Qe(Nt)?(Xe=xt(Ae*he),Ae=xt(Xe/he)):(Ae=xt(Xe/he),Xe=xt(Ae*he))),xr(p,Ae,Xe),zn=A.startPos.x+Ht,Aa=A.startPos.y+Nt,zn=zn>0?zn:0,Aa=Aa>0?Aa:0,i.setStyles(x,{left:zn,top:Aa,display:"block"}),x.innerHTML=Ae+" &times; "+Xe,A[2]<0&&p.clientWidth<=Ae&&i.setStyle(p,"left",Q+(ve-Ae)),A[3]<0&&p.clientHeight<=Xe&&i.setStyle(p,"top",ce+(me-Xe)),Ht=Ft.scrollWidth-Vn,Nt=Ft.scrollHeight-mn,Ht+Nt!==0&&i.setStyles(x,{left:zn-Ht,top:Aa-Nt}),De||(Uw(n,v,ve,me,"corner-"+A.name),De=!0)},Zr=function(){var nt=De;De=!1,nt&&(hn(v,"width",Ae),hn(v,"height",Xe)),i.unbind(We,"mousemove",ra),i.unbind(We,"mouseup",Zr),Re!==We&&(i.unbind(Re,"mousemove",ra),i.unbind(Re,"mouseup",Zr)),i.remove(p),i.remove(x),i.remove(N),zi(v),nt&&(pa(n,v,Ae,Xe,"corner-"+A.name),i.setAttrib(v,"style",i.getAttrib(v,"style"))),n.nodeChanged()},zi=function(nt){It();var Ht=i.getPos(nt,Ft),Nt=Ht.x,Bn=Ht.y,zn=nt.getBoundingClientRect(),Aa=zn.width||zn.right-zn.left,ni=zn.height||zn.bottom-zn.top;v!==nt&&(uo(),v=nt,Ae=Xe=0);var Yo=n.fire("ObjectSelected",{target:nt}),Nm=i.getAttrib(v,a,"1");yn(nt)&&!Yo.isDefaultPrevented()?l(Bt,function(Gu,Eu){var gi,Vl=function(qu){var _f=Qt(v)[0];X=qu.screenX,Z=qu.screenY,ve=_f.clientWidth,me=_f.clientHeight,he=me/ve,A=Gu,A.name=Eu,A.startPos={x:Aa*Gu[0]+Nt,y:ni*Gu[1]+Bn},Vn=Ft.scrollWidth,mn=Ft.scrollHeight,N=i.add(Ft,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(N,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),p=Pt(v),i.addClass(p,"mce-clonedresizable"),i.setAttrib(p,"data-mce-bogus","all"),p.contentEditable="false",i.setStyles(p,{left:Nt,top:Bn,margin:0}),xr(p,Aa,ni),p.removeAttribute(a),Ft.appendChild(p),i.bind(We,"mousemove",ra),i.bind(We,"mouseup",Zr),Re!==We&&(i.bind(Re,"mousemove",ra),i.bind(Re,"mouseup",Zr)),x=i.add(Ft,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ve+" &times; "+me)};gi=i.get("mceResizeHandle"+Eu),gi&&i.remove(gi),gi=i.add(Ft,"div",{id:"mceResizeHandle"+Eu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Eu+"-resize; margin:0; padding:0"}),Hn.ie===11&&(gi.contentEditable=!1),i.bind(gi,"mousedown",function(qu){qu.stopImmediatePropagation(),qu.preventDefault(),Vl(qu)}),Gu.elm=gi,i.setStyles(gi,{left:Aa*Gu[0]+Nt-gi.offsetWidth/2,top:ni*Gu[1]+Bn-gi.offsetHeight/2})}):uo(),i.getAttrib(v,a)||v.setAttribute(a,Nm)},uo=function(){It(),v&&v.removeAttribute(a),Vr(Bt,function(nt,Ht){var Nt=i.get("mceResizeHandle"+Ht);Nt&&(i.unbind(Nt),i.remove(Nt))})},ju=function(nt){var Ht,Nt,Bn=function(zn,Aa){if(zn)do if(zn===Aa)return!0;while(zn=zn.parentNode)};if(!(De||n.removed)){if(l(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(zn){zn.removeAttribute(a)}),Nt=nt.type==="mousedown"?nt.target:e.getNode(),Nt=i.$(Nt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Bn(Nt,Ft)&&(Kt(),Ht=e.getStart(!0),Bn(Ht,Nt)&&Bn(e.getEnd(!0),Nt))){zi(Nt);return}uo()}},ps=function(nt){return J4(ym(n.getBody(),nt))},It=function(){Vr(Bt,function(nt){nt.elm&&(i.unbind(nt.elm),delete nt.elm)})},Kt=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};n.on("init",function(){if(Kt(),Hn.browser.isIE()||Hn.browser.isEdge()){n.on("mousedown click",function(Nt){var Bn=Nt.target,zn=Bn.nodeName;!De&&/^(TABLE|IMG|HR)$/.test(zn)&&!ps(Bn)&&(Nt.button!==2&&n.selection.select(Bn,zn==="TABLE"),Nt.type==="mousedown"&&n.nodeChanged())});var nt=function(Nt){var Bn=function(zn){ji.setEditorTimeout(n,function(){return n.selection.select(zn)})};if(ps(Nt.target)||Mu(Nt.target)){Nt.preventDefault(),Bn(Nt.target);return}/^(TABLE|IMG|HR)$/.test(Nt.target.nodeName)&&(Nt.preventDefault(),Nt.target.tagName==="IMG"&&Bn(Nt.target))};i.bind(Ft,"mscontrolselect",nt),n.on("remove",function(){return i.unbind(Ft,"mscontrolselect",nt)})}var Ht=ji.throttle(function(Nt){n.composing||ju(Nt)});n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Ht),n.on("keyup compositionend",function(Nt){v&&v.nodeName==="TABLE"&&Ht(Nt)}),n.on("hide blur",uo),n.on("contextmenu longpress",jt,!0)}),n.on("remove",It);var Dn=function(){v=p=N=null};return{isResizable:yn,showResizeRect:zi,hideResizeRect:uo,updateResizeRect:ju,destroy:Dn}},fx=function(e){return xl(e)||La(e)},Gw=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Z4=function(e,n,a){var i,l=a.elementFromPoint(e,n),v=a.body.createTextRange();if((!l||l.tagName==="HTML")&&(l=a.body),v.moveToElementText(l),i=wt.toArray(v.getClientRects()),i=i.sort(function(p,x){return p=Math.abs(Math.max(p.top-n,p.bottom-n)),x=Math.abs(Math.max(x.top-n,x.bottom-n)),p-x}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return v.moveToPoint(e,n),v.collapse(!0),v}catch{}}return null},vx=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return La(Gw(a,n,fx))?null:e},qw=function(e,n,a){var i,l,v=a;if(v.caretPositionFromPoint)l=v.caretPositionFromPoint(e,n),l&&(i=a.createRange(),i.setStart(l.offsetNode,l.offset),i.collapse(!0));else if(v.caretRangeFromPoint)i=v.caretRangeFromPoint(e,n);else if(v.body.createTextRange){i=v.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch{i=Z4(e,n,a)}return vx(i,a.body)}return i},Kw=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},Q4=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Ls=function(e,n,a){return Q4(e,n,a)!==null},xu=function(e,n,a){return Ls(e,n,function(i){return i.nodeName===a})},cf=function(e){return e&&e.nodeName==="TABLE"},eE=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},tE=function(e,n){return Nu(e)&&Ls(e,n,nf)===!1},Xw=function(e,n,a){for(var i=new sa(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(wa(n))return!0},Sr=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},nE=function(e,n){for(;n&&n!==e;){if(La(n))return!0;n=n.parentNode}return!1},H0=function(e,n,a,i,l){var v,p=e.getRoot(),x,A=e.schema.getNonEmptyElements(),N=e.getParent(l.parentNode,e.isBlock)||p;if(i&&wa(l)&&n&&e.isEmpty(N))return te.some(dt(l.parentNode,e.nodeIndex(l)));for(var X=new sa(l,N);x=X[i?"prev":"next"]();){if(e.getContentEditableParent(x)==="false"||tE(x,p))return te.none();if(gn(x)&&x.nodeValue.length>0)return xu(x,p,"A")===!1?te.some(dt(x,i?x.nodeValue.length:0)):te.none();if(e.isBlock(x)||A[x.nodeName.toLowerCase()])return te.none();v=x}return a&&v?te.some(dt(v,0)):te.none()},V0=function(e,n,a,i){var l,v,p=e.getRoot(),x,A,N=!1;l=i[(a?"start":"end")+"Container"],v=i[(a?"start":"end")+"Offset"];var X=Yn(l)&&v===l.childNodes.length,Z=e.schema.getNonEmptyElements();if(A=a,Nu(l))return te.none();if(Yn(l)&&v>l.childNodes.length-1&&(A=!1),bp(l)&&(l=p,v=0),l===p){if(A&&(x=l.childNodes[v>0?v-1:0],x&&(Nu(x)||Z[x.nodeName]||cf(x))))return te.none();if(l.hasChildNodes()){if(v=Math.min(!A&&v>0?v-1:v,l.childNodes.length-1),l=l.childNodes[v],v=gn(l)&&X?l.data.length:0,!n&&l===p.lastChild&&cf(l)||nE(p,l)||Nu(l))return te.none();if(l.hasChildNodes()&&cf(l)===!1){x=l;var Q=new sa(l,p);do{if(La(x)||Nu(x)){N=!1;break}if(gn(x)&&x.nodeValue.length>0){v=A?0:x.nodeValue.length,l=x,N=!0;break}if(Z[x.nodeName.toLowerCase()]&&!eE(x)){v=e.nodeIndex(x),l=x.parentNode,A||v++,N=!0;break}}while(x=A?Q.next():Q.prev())}}}return n&&(gn(l)&&v===0&&H0(e,X,n,!0,l).each(function(ce){l=ce.container(),v=ce.offset(),N=!0}),Yn(l)&&(x=l.childNodes[v],x||(x=l.childNodes[v-1]),x&&wa(x)&&!Sr(x,"A")&&!Xw(e,x,!1)&&!Xw(e,x,!0)&&H0(e,X,n,!0,x).each(function(ce){l=ce.container(),v=ce.offset(),N=!0}))),A&&!n&&gn(l)&&v===l.nodeValue.length&&H0(e,X,n,!1,l).each(function(ce){l=ce.container(),v=ce.offset(),N=!0}),N?te.some(dt(l,v)):te.none()},U0=function(e,n){var a=n.collapsed,i=n.cloneRange(),l=dt.fromRangeStart(n);return V0(e,a,!0,i).each(function(v){(!a||!dt.isAbove(l,v))&&i.setStart(v.container(),v.offset())}),a||V0(e,a,!1,i).each(function(v){i.setEnd(v.container(),v.offset())}),a&&i.collapse(!0),Kw(n,i)?te.none():te.some(i)},i1=function(e,n){return e.splitText(n)},cv=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,l=e.endOffset;return n===i&&gn(n)?a>0&&a<n.nodeValue.length&&(i=i1(n,a),n=i.previousSibling,l>a?(l=l-a,n=i=i1(i,l).previousSibling,l=i.nodeValue.length,a=0):l=0):(gn(n)&&a>0&&a<n.nodeValue.length&&(n=i1(n,a),a=0),gn(i)&&l>0&&l<i.nodeValue.length&&(i=i1(i,l).previousSibling,l=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:l}},u1=function(e){var n=function(l,v){return a1(e,l,v)},a=cv,i=function(l){return U0(e,l).fold(at,function(v){return l.setStart(v.startContainer,v.startOffset),l.setEnd(v.endContainer,v.endOffset),!0})};return{walk:n,split:a,normalize:i}};u1.compareRanges=Kw,u1.getCaretRangeFromPoint=qw,u1.getSelectedNode=om,u1.getNode=Ga;var rE=function(e,n){var a=function(x,A){if(!pe(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);var N=x.dom;ja(N)&&(N.style[e]=A+"px")},i=function(x){var A=n(x);if(A<=0||A===null){var N=gr(x,e);return parseFloat(N)||0}return A},l=i,v=function(x,A){return Rt(A,function(N,X){var Z=gr(x,X),Q=Z===void 0?0:parseInt(Z,10);return isNaN(Q)?N:N+Q},0)},p=function(x,A,N){var X=v(x,N),Z=A>X?A-X:0;return Z};return{set:a,get:i,getOuter:l,aggregate:v,max:p}},dx=rE("height",function(e){var n=e.dom;return Wf(e)?n.getBoundingClientRect().height:n.offsetHeight}),Yw=function(e){return dx.get(e)},md=function(e,n){var a=e.view(n);return a.fold(W([]),function(i){var l=e.owner(i),v=md(e,l);return[i].concat(v)})},W0=function(e,n){var a=n.owner(e);return md(n,a)},mx=function(e){var n,a=e.dom===document?te.none():te.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(je.fromDom)},aE=function(e){return jn(e)},oE=Object.freeze({__proto__:null,view:mx,owner:aE}),iE=function(e){var n=je.fromDom(document),a=vh(n),i=W0(e,oE),l=Bu(e),v=Wt(i,function(p,x){var A=Bu(x);return{left:p.left+A.left,top:p.top+A.top}},{left:0,top:0});return nc(v.left+l.left+a.left,v.top+l.top+a.top)},Cm=function(e){return xo(e)==="textarea"},Jw=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},Pn=function(e,n){e.fire("AfterScrollIntoView",n)},hx=function(e,n){var a=Qi(e);if(a.length===0||Cm(e))return{element:e,offset:n};if(n<a.length&&!Cm(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return Cm(i)?{element:e,offset:n}:xo(i)==="img"?{element:i,offset:1}:Xa(i)?{element:i,offset:Lw(i).length}:{element:i,offset:Qi(i).length}},gx=function(e,n){var a=Wa(e),i=Yw(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},uE=function(e,n){var a=hx(e,n),i=je.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ve+"</span>");return ki(a.element,i),gx(i,function(){return vo(i)})},s1=function(e){return gx(je.fromDom(e),ye)},iu=function(e,n,a,i){Zw(e,function(l,v){return sE(e,n,a,i)},a)},l1=function(e,n,a,i,l){var v={elm:i.element.dom,alignToTop:l};if(!Jw(e,v)){var p=vh(n).top;a(n,p,i,l),Pn(e,v)}},sE=function(e,n,a,i){var l=je.fromDom(e.getBody()),v=je.fromDom(e.getDoc());SA(l);var p=uE(je.fromDom(a.startContainer),a.startOffset);l1(e,v,n,p,i),p.cleanup()},px=function(e,n,a,i){var l=je.fromDom(e.getDoc());l1(e,l,a,s1(n),i)},Zw=function(e,n,a){var i=a.startContainer,l=a.startOffset,v=a.endContainer,p=a.endOffset;n(je.fromDom(i),je.fromDom(v));var x=e.dom.createRng();x.setStart(i,l),x.setEnd(v,p),e.selection.setRng(a)},Qw=function(e,n,a,i){var l=e.pos;if(a)os(l.left,l.top,i);else{var v=l.top-n+e.height;os(l.left,v,i)}},bx=function(e,n,a,i,l){var v=a+n,p=i.pos.top,x=i.bottom,A=x-p>=a;if(p<n)Qw(i,a,l!==!1,e);else if(p>v){var N=A?l!==!1:l===!0;Qw(i,a,N,e)}else x>v&&!A&&Qw(i,a,l===!0,e)},eC=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;bx(e,n,l,a,i)},tC=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;bx(e,n,l,a,i);var v=iE(a.element),p=Gf(window);v.top<p.y?dh(a.element,i!==!1):v.top>p.bottom&&dh(a.element,i===!0)},fv=function(e,n,a){return iu(e,eC,n,a)},lE=function(e,n,a){return px(e,n,eC,a)},cE=function(e,n,a){return iu(e,tC,n,a)},yx=function(e,n,a){return px(e,n,tC,a)},fE=function(e,n,a){var i=e.inline?lE:yx;i(e,n,a)},c1=function(e,n,a){var i=e.inline?fv:cE;i(e,n,a)},na=function(){return je.fromDom(document)},j0=function(e){return e.dom.focus()},vv=function(e){var n=vu(e).dom;return e.dom===n.activeElement},Il=function(e){return e===void 0&&(e=na()),te.from(e.dom.activeElement).map(je.fromDom)},hd=function(e){return Il(vu(e)).filter(function(n){return e.dom.contains(n.dom)})},Uu=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},G0={create:Uu},Sm=$n.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),bg=function(e,n,a,i){return e.fold(n,a,i)},gd=function(e){return e.fold(ke,ke,ke)},vE=Sm.before,wx=Sm.on,dE=Sm.after,mE={before:vE,on:wx,after:dE,cata:bg,getStart:gd},yr=$n.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Nl=function(e){return yr.exact(e.start,e.soffset,e.finish,e.foffset)},yg=function(e){return e.match({domRange:function(n){return je.fromDom(n.startContainer)},relative:function(n,a){return mE.getStart(n)},exact:function(n,a,i,l){return n}})},Cx=yr.domRange,f1=yr.relative,Mr=yr.exact,Sx=function(e){var n=yg(e);return no(n)},_x=G0.create,v1={domRange:Cx,relative:f1,exact:Mr,exactFromRange:Nl,getWin:Sx,range:_x},xx=Rn().browser,d1=function(e,n){var a=Xa(n)?Lw(n).length:Qi(n).length+1;return e>a?a:e<0?0:e},_m=function(e){return v1.range(e.start,d1(e.soffset,e.start),e.finish,d1(e.foffset,e.finish))},nC=function(e,n){return!Fc(n.dom)&&(Hi(e,n)||$a(e,n))},rC=function(e){return function(n){return nC(e,n.start)&&nC(e,n.finish)}},kx=function(e){return e.inline===!0||xx.isIE()},Ax=function(e){return v1.range(je.fromDom(e.startContainer),e.startOffset,je.fromDom(e.endContainer),e.endOffset)},pd=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?te.none():te.from(n.getRangeAt(0));return a.map(Ax)},xm=function(e){var n=no(e);return pd(n.dom).filter(rC(e))},aC=function(e,n){return te.from(n).filter(rC(e)).map(_m)},Ex=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),te.some(n)}catch{return te.none()}},q0=function(e){var n=kx(e)?xm(je.fromDom(e.getBody())):te.none();e.bookmark=n.isSome()?n:e.bookmark},hE=function(e,n){var a=je.fromDom(e.getBody()),i=kx(e)?te.from(n):te.none(),l=i.map(Ax).filter(rC(a));e.bookmark=l.isSome()?l:e.bookmark},wg=function(e){var n=e.bookmark?e.bookmark:te.none();return n.bind(function(a){return aC(je.fromDom(e.getBody()),a)}).bind(Ex)},oC=function(e){wg(e).each(function(n){return e.selection.setRng(n)})},iC=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},Tx={isEditorUIElement:iC},uC=function(e){return e.type==="nodechange"&&e.selectionChange},K0=function(e,n){var a=function(){n.throttle()};Ma.DOM.bind(document,"mouseup",a),e.on("remove",function(){Ma.DOM.unbind(document,"mouseup",a)})},X0=function(e){e.on("focusout",function(){q0(e)})},sC=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},lC=function(e,n){var a=Rn().browser;a.isIE()?X0(e):sC(e,n),e.on("keyup NodeChange",function(i){uC(i)||q0(e)})},Ox=function(e){var n=qb(function(){q0(e)},0);e.on("init",function(){e.inline&&K0(e,n),lC(e,n)}),e.on("remove",function(){n.cancel()})},km,Cg=Ma.DOM,Dx=function(e){return Tx.isEditorUIElement(e)},Rx=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Y0=function(e,n){var a=sw(e),i=Cg.getParent(n,function(l){return Dx(l)||(a?e.dom.is(l,a):!1)});return i!==null},$x=function(e){try{var n=vu(je.fromDom(e.getElement()));return Il(n).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},Bx=function(e,n){var a=n.editor;Ox(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){ji.setEditorTimeout(a,function(){var i=e.focusedEditor;!Y0(a,$x(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),km||(km=function(i){var l=e.activeEditor;l&&Vi(i).each(function(v){v.ownerDocument===document&&v!==document.body&&!Y0(l,v)&&e.focusedEditor===l&&(l.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Cg.bind(document,"focusin",km))},cC=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(Cg.unbind(document,"focusin",km),km=null)},Mx=function(e){e.on("AddEditor",le(Bx,e)),e.on("RemoveEditor",le(cC,e))},Px=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},Ix=function(e){return e.collapsed?te.from(Ga(e.startContainer,e.startOffset)).map(je.fromDom):te.none()},gE=function(e,n){return Ix(n).bind(function(a){return Xr(a)?te.some(a):Hi(e,a)===!1?te.some(e):te.none()})},Nx=function(e,n){gE(je.fromDom(e.getBody()),n).bind(function(a){return ou(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},fC=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Sg=function(e){return vv(e)||hd(e).isSome()},pE=function(e){return e.iframeElement&&vv(je.fromDom(e.iframeElement))},zx=function(e){var n=e.getBody();return n&&Sg(je.fromDom(n))},Fx=function(e){var n=vu(je.fromDom(e.getElement()));return Il(n).filter(function(a){return!Rx(a.dom)&&Y0(e,a.dom)}).isSome()},sl=function(e){return e.inline?zx(e):pE(e)},Lx=function(e){return sl(e)||Fx(e)},Hx=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&sl(e)===!1&&wg(e).each(function(v){e.selection.setRng(v),i=v});var l=Px(e,n.getNode());if(e.$.contains(a,l)){fC(l),Nx(e,i),J0(e);return}e.inline||(Hn.opera||fC(a),e.getWin().focus()),(Hn.gecko||e.inline)&&(fC(a),Nx(e,i)),J0(e)},J0=function(e){return e.editorManager.setActive(e)},Z0=function(e,n){e.removed||(n?J0(e):Hx(e))},vC=function(e,n,a,i,l){var v=a?n.startContainer:n.endContainer,p=a?n.startOffset:n.endOffset;return te.from(v).map(je.fromDom).map(function(x){return!i||!n.collapsed?ec(x,l(x,p)).getOr(x):x}).bind(function(x){return Fa(x)?te.some(x):ro(x).filter(Fa)}).map(function(x){return x.dom}).getOr(e)},Am=function(e,n,a){return vC(e,n,!0,a,function(i,l){return Math.min(mb(i),l)})},_g=function(e,n,a){return vC(e,n,!1,a,function(i,l){return l>0?l-1:l})},Vx=function(e,n){for(var a=e;e&&gn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},Ux=function(e,n){var a,i,l;if(!n)return e;i=n.startContainer,l=n.endContainer;var v=n.startOffset,p=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===l&&p-v<2&&i.hasChildNodes()&&(a=i.childNodes[v]),i.nodeType===3&&l.nodeType===3&&(i.length===v?i=Vx(i.nextSibling,!0):i=i.parentNode,p===0?l=Vx(l.previousSibling,!1):l=l.parentNode,i&&i===l))?i:a&&a.nodeType===3?a.parentNode:a},Q0=function(e,n,a,i){var l,v=[],p=e.getRoot();if(a=e.getParent(a||Am(p,n,n.collapsed),e.isBlock),i=e.getParent(i||_g(p,n,n.collapsed),e.isBlock),a&&a!==p&&v.push(a),a&&i&&a!==i){l=a;for(var x=new sa(a,p);(l=x.next())&&l!==i;)e.isBlock(l)&&v.push(l)}return i&&a!==i&&i!==p&&v.push(i),v},bE=function(e,n,a){return te.from(n).map(function(i){var l=e.nodeIndex(i),v=e.createRng();return v.setStart(i.parentNode,l),v.setEnd(i.parentNode,l+1),a&&(fd(e,v,i,!0),fd(e,v,i,!1)),v})},ey=function(e,n){return tt(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},m1={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ty=function(e,n,a){var i=a?"lastChild":"firstChild",l=a?"prev":"next";if(e[i])return e[i];if(e!==n){var v=e[l];if(v)return v;for(var p=e.parent;p&&p!==n;p=p.parent)if(v=p[l],v)return v}},Wx=function(e){if(!Tl(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},ny=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},ll=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,m1[n]||1);return a&&Vr(a,function(l,v){i.attr(v,l)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,l;if(typeof n!="string")return n!=null&&Vr(n,function(p,x){i.attr(x,p)}),i;if(l=i.attributes){if(a!==void 0){if(a===null){if(n in l.map){delete l.map[n];for(var v=l.length;v--;)if(l[v].name===n)return l.splice(v,1),i}return i}if(n in l.map){for(var v=l.length;v--;)if(l[v].name===n){l[v].value=a;break}}else l.push({name:n,value:a});return l.map[n]=a,i}return l.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var l=[];l.map={};for(var v=0,p=i.length;v<p;v++){var x=i[v];x.name!=="id"&&(l[l.length]={name:x.name,value:x.value},l.map[x.name]=x.value)}a.attributes=l}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,l=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):l.next=i,a.lastChild===n?(a.lastChild=l,l&&(l.next=null)):i.prev=l,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var l=a.parent||this;return i?(a===l.firstChild?l.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===l.lastChild?l.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=l,n},e.prototype.getAll=function(n){for(var a=this,i=[],l=a.firstChild;l;l=ty(l,a))l.name===n&&i.push(l);return i},e.prototype.children=function(){for(var n=this,a=[],i=n.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=ty(i,n))a.push(i);for(var l=a.length;l--;){var i=a[l];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var l=this,v=l.firstChild;if(ny(l))return!1;if(v)do{if(v.type===1){if(v.attr("data-mce-bogus"))continue;if(n[v.name]||ny(v))return!1}if(v.type===8||v.type===3&&!Wx(v)||v.type===3&&v.parent&&a[v.parent.name]&&Tl(v.value)||i&&i(v))return!1}while(v=ty(v,l));return!0},e.prototype.walk=function(n){return ty(this,null,n)},e}(),yE=function(e){for(var n=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},l=b_("img"),v,p=0,x=0;v=n.exec(e);){var A=v[0],N=l+"_"+x++;i[N]=A,p<v.index&&a.push(e.substr(p,v.index-p)),a.push(N),p=v.index+A.length}var X=new RegExp(l+"_[0-9]+","g");return p===0?{prefix:l,uris:i,html:e,re:X}:(p<e.length&&a.push(e.substr(p)),{prefix:l,uris:i,html:a.join(""),re:X})},ry=function(e,n){return e.replace(n.re,function(a){return Ir(n.uris,a).getOr(a)})},jx=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return n?te.some({type:n[1],data:decodeURIComponent(n[2])}):te.none()},h1=wt.each,g1=wt.trim,dC="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Gx={ftp:21,http:80,https:443,mailto:25},qx=["img","video"],Kx=function(e,n){return Ge(e)?!e:Ge(n)?!Ee(qx,n):!0},ay=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?Kx(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},bd=function(){function e(n,a){n=g1(n),this.settings=a||{};var i=this.settings.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}var v=n.indexOf("//")===0;if(n.indexOf("/")===0&&!v&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var p=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+l.toAbsPath(p,n);else{var x=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+l.toAbsPath(p,x[1])+x[2]}}n=n.replace(/@@/g,"(mce_at)");var A=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);h1(dC,function(N,X){var Z=A[X];Z&&(Z=Z.replace(/\(mce_at\)/g,"@@")),l[N]=Z}),i&&(l.protocol||(l.protocol=i.protocol),l.userInfo||(l.userInfo=i.userInfo),!l.port&&l.host==="mce_host"&&(l.port=i.port),(!l.host||l.host==="mce_host")&&(l.host=i.host),l.source=""),v&&(l.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(i[0]);return l&&(a=l[1]),{type:a,data:i[1]}},e.isDomSafe=function(n,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var l=$s.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch{l=unescape(l)}return/((java|vb)script|mhtml):/i.test(l)?!1:!ay(i,l,a)},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var l=this.getURI(),v=i.getURI();return l===v||l.charAt(l.length-1)==="/"&&l.substr(0,l.length-1)===v?l:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=Gx[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,l="",v,p,x=n.substring(0,n.lastIndexOf("/")).split("/"),A=a.split("/");if(x.length>=A.length){for(v=0,p=x.length;v<p;v++)if(v>=A.length||x[v]!==A[v]){i=v+1;break}}if(x.length<A.length){for(v=0,p=A.length;v<p;v++)if(v>=x.length||x[v]!==A[v]){i=v+1;break}}if(i===1)return a;for(v=0,p=x.length-(i-1);v<p;v++)l+="../";for(v=i-1,p=A.length;v<p;v++)v!==i-1?l+="/"+A[v]:l+=A[v];return l},e.prototype.toAbsPath=function(n,a){var i,l=0,v=[],p,x=/\/$/.test(a)?"/":"",A=n.split("/"),N=a.split("/");for(h1(A,function(X){X&&v.push(X)}),A=v,i=N.length-1,v=[];i>=0;i--)if(!(N[i].length===0||N[i]===".")){if(N[i]===".."){l++;continue}if(l>0){l--;continue}v.push(N[i])}return i=A.length-l,i<=0?p=or(v).join("/"):p=A.slice(0,i).join("/")+"/"+or(v).join("/"),p.indexOf("/")!==0&&(p="/"+p),x&&p.lastIndexOf("/")!==p.length-1&&(p+=x),p},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),wE=wt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),CE=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},SE=Bc(function(){return document.implementation.createHTMLDocument("parser")}),yd=function(e,n,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,v=e.getShortEndedElements(),p=1,x=a;p!==0;)for(i.lastIndex=x;;){var A=i.exec(n);if(A===null)return x;if(A[1]==="!"){po(A[2],"--")?x=mC(n,!1,A.index+3):x=mC(n,!0,A.index+1);break}else{l.lastIndex=i.lastIndex;var N=l.exec(n);if(ne(N)||N.index!==i.lastIndex)continue;A[1]==="/"?p-=1:Tr(v,A[2])||(p+=1),x=i.lastIndex+N[0].length;break}}return x},_E=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},mC=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&_E(i,a)){var l=i.indexOf("[endif]",a);return i.indexOf(">",l)}else if(n){var v=i.indexOf(">",a);return v!==-1?v:i.length}else{var p=/--!?>/g;p.lastIndex=a;var x=p.exec(e);return x?x.index+x[0].length:i.length}},xE=function(e,n){var a=e.exec(n);if(a){var i=a[1],l=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?l:null}else return null},xg=function(e,n){n===void 0&&(n=Bs()),e=e||{};var a=SE(),i=a.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var l=e.comment?e.comment:ye,v=e.cdata?e.cdata:ye,p=e.text?e.text:ye,x=e.start?e.start:ye,A=e.end?e.end:ye,N=e.pi?e.pi:ye,X=e.doctype?e.doctype:ye,Z=function(ce,ve){ve===void 0&&(ve="html");for(var me=ce.html,he,De=0,Ae,Xe,We=[],Re,Qe,xt,Ft,Vn,mn,Bt,Ln,Vt,vn,jt,Qt,yn,Pt,hn,xr,ra,Zr=0,zi=$s.decode,uo=wt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ju=ve==="html"?0:1,ps=function(Oa){var Va,pi;for(Va=We.length;Va--&&We[Va].name!==Oa;);if(Va>=0){for(pi=We.length-1;pi>=Va;pi--)Oa=We[pi],Oa.valid&&A(Oa.name);We.length=Va}},It=function(Oa,Va){return p(ry(Oa,ce),Va)},Kt=function(Oa){Oa!==""&&(Oa.charAt(0)===">"&&(Oa=" "+Oa),!e.allow_conditional_comments&&Oa.substr(0,3).toLowerCase()==="[if"&&(Oa=" "+Oa),l(ry(Oa,ce)))},Dn=function(Oa){return ry(Oa,ce)},nt=function(Oa,Va){var pi=Oa||"",bs=!po(pi,"--"),_v=mC(me,bs,Va);return Oa=me.substr(Va,_v-Va),Kt(bs?pi+Oa:Oa),_v+1},Ht=function(Oa,Va,pi,bs,_v){if(Va=Va.toLowerCase(),pi=Dn(Va in ni?Va:zi(pi||bs||_v||"")),Yo&&!Vn&&CE(Va)===!1){var xv=jt[Va];if(!xv&&Qt){for(var Jg=Qt.length;Jg--&&(xv=Qt[Jg],!xv.pattern.test(Va)););Jg===-1&&(xv=null)}if(!xv||xv.validValues&&!(pi in xv.validValues))return}var Fy=Va==="name"||Va==="id";Fy&&Oa in wE&&(pi in a||pi in i)||uo[Va]&&!bd.isDomSafe(pi,Oa,e)||Vn&&(Va in uo||Va.indexOf("on")===0)||(Re.map[Va]=pi,Re.push({name:Va,value:pi}))},Nt=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Bn=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,zn=n.getShortEndedElements(),Aa=e.self_closing_elements||n.getSelfClosingElements(),ni=n.getBoolAttrs(),Yo=e.validate,Nm=e.remove_internals,Gu=e.fix_self_closing,Eu=n.getSpecialElements(),gi=me+">";he=Nt.exec(gi);){var Vl=he[0];if(De<he.index&&It(zi(me.substr(De,he.index-De))),Ae=he[7])Ae=Ae.toLowerCase(),Ae.charAt(0)===":"&&(Ae=Ae.substr(1)),ps(Ae);else if(Ae=he[8]){if(he.index+Vl.length>me.length){It(zi(me.substr(he.index))),De=he.index+Vl.length;continue}Ae=Ae.toLowerCase(),Ae.charAt(0)===":"&&(Ae=Ae.substr(1)),mn=Ae in zn,Gu&&Aa[Ae]&&We.length>0&&We[We.length-1].name===Ae&&ps(Ae);var qu=xE(Bn,he[9]);if(qu!==null){if(qu==="all"){De=yd(n,me,Nt.lastIndex),Nt.lastIndex=De;continue}Ln=!1}if(!Yo||(Bt=n.getElementRule(Ae))){if(Ln=!0,Yo&&(jt=Bt.attributes,Qt=Bt.attributePatterns),(vn=he[9])?(Vn=vn.indexOf("data-mce-type")!==-1,Vn&&Nm&&(Ln=!1),Re=[],Re.map={},vn.replace(Bn,function(Oa,Va,pi,bs,_v){return Ht(Ae,Va,pi,bs,_v),""})):(Re=[],Re.map={}),Yo&&!Vn){if(yn=Bt.attributesRequired,Pt=Bt.attributesDefault,hn=Bt.attributesForced,xr=Bt.removeEmptyAttrs,xr&&!Re.length&&(Ln=!1),hn)for(Qe=hn.length;Qe--;)Vt=hn[Qe],Ft=Vt.name,ra=Vt.value,ra==="{$uid}"&&(ra="mce_"+Zr++),Re.map[Ft]=ra,Re.push({name:Ft,value:ra});if(Pt)for(Qe=Pt.length;Qe--;)Vt=Pt[Qe],Ft=Vt.name,Ft in Re.map||(ra=Vt.value,ra==="{$uid}"&&(ra="mce_"+Zr++),Re.map[Ft]=ra,Re.push({name:Ft,value:ra}));if(yn){for(Qe=yn.length;Qe--&&!(yn[Qe]in Re.map););Qe===-1&&(Ln=!1)}if(Vt=Re.map["data-mce-bogus"]){if(Vt==="all"){De=yd(n,me,Nt.lastIndex),Nt.lastIndex=De;continue}Ln=!1}}Ln&&x(Ae,Re,mn)}else Ln=!1;if(Xe=Eu[Ae]){Xe.lastIndex=De=he.index+Vl.length,(he=Xe.exec(me))?(Ln&&(xt=me.substr(De,he.index-De)),De=he.index+he[0].length):(xt=me.substr(De),De=me.length),Ln&&(xt.length>0&&It(xt,!0),A(Ae)),Nt.lastIndex=De;continue}mn||(!vn||vn.indexOf("/")!==vn.length-1?We.push({name:Ae,valid:Ln}):Ln&&A(Ae))}else if(Ae=he[1])Kt(Ae);else if(Ae=he[2]){var _f=ju===1||e.preserve_cdata||We.length>0&&n.isValidChild(We[We.length-1].name,"#cdata");if(_f)v(Ae);else{De=nt("",he.index+2),Nt.lastIndex=De;continue}}else if(Ae=he[3])X(Ae);else if((Ae=he[4])||Vl==="<!"){De=nt(Ae,he.index+Vl.length),Nt.lastIndex=De;continue}else if(Ae=he[5])if(ju===1)N(Ae,he[6]);else{De=nt("?",he.index+2),Nt.lastIndex=De;continue}De=he.index+Vl.length}for(De<me.length&&It(zi(me.substr(De))),Qe=We.length-1;Qe>=0;Qe--)Ae=We[Qe],Ae.valid&&A(Ae.name)},Q=function(ce,ve){ve===void 0&&(ve="html"),Z(yE(ce),ve)};return{parse:Q}};xg.findEndTag=yd;var hC=function(e,n){var a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(a,"")},Xx=function(e,n){for(var a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,i=e.schema,l=hC(e.getTempAttrs(),n),v=i.getShortEndedElements(),p;p=a.exec(l);){var x=a.lastIndex,A=p[0].length,N=void 0;v[p[1]]?N=x:N=xg.findEndTag(i,l,x),l=l.substring(0,x-A)+l.substring(N),a.lastIndex=x-A}return uc(l)},oy=Xx,Yx=function(e,n){var a=Bi(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},Jx=function(e,n){return Wn(Wn({},e),{format:n,get:!0,getInner:!0})},kE=function(e,n,a,i){var l=Jx(n,a),v=n.no_events?l:e.fire("BeforeGetContent",l),p;return v.format==="raw"?p=wt.trim(oy(e.serializer,i.innerHTML)):v.format==="text"?p=e.dom.isEmpty(i)?"":uc(i.innerText||i.textContent):v.format==="tree"?p=e.serializer.serialize(i,v):p=Yx(e,e.serializer.serialize(i,v)),!Ee(["text","tree"],v.format)&&!Hd(je.fromDom(i))?v.content=wt.trim(p):v.content=p,v.no_events?v.content:e.fire("GetContent",v).content},iy=function(e,n,a){return te.from(e.getBody()).fold(W(n.format==="tree"?new ll("body",11):""),function(i){return kE(e,n,a,i)})},uy=wt.each,gC=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var l=function(p){var x={};return uy(e.getAttribs(p),function(A){var N=A.nodeName.toLowerCase();N.indexOf("_")!==0&&N!=="style"&&N.indexOf("data-")!==0&&(x[N]=e.getAttrib(p,N))}),x},v=function(p,x){var A,N;for(N in p)if(Tr(p,N)){if(A=x[N],typeof A>"u"||p[N]!==A)return!1;delete x[N]}for(N in x)if(Tr(x,N))return!1;return!0};return!v(l(a),l(i))||!v(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!Vu(a)&&!Vu(i)};return{compare:n}},Zx=wt.makeMap,Qx=function(e){var n=[];e=e||{};var a=e.indent,i=Zx(e.indent_before||""),l=Zx(e.indent_after||""),v=$s.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format==="html";return{start:function(x,A,N){var X,Z,Q,ce;if(a&&i[x]&&n.length>0&&(ce=n[n.length-1],ce.length>0&&ce!==`
`&&n.push(`
`)),n.push("<",x),A)for(X=0,Z=A.length;X<Z;X++)Q=A[X],n.push(" ",Q.name,'="',v(Q.value,!0),'"');!N||p?n[n.length]=">":n[n.length]=" />",N&&a&&l[x]&&n.length>0&&(ce=n[n.length-1],ce.length>0&&ce!==`
`&&n.push(`
`))},end:function(x){var A;n.push("</",x,">"),a&&l[x]&&n.length>0&&(A=n[n.length-1],A.length>0&&A!==`
`&&n.push(`
`))},text:function(x,A){x.length>0&&(n[n.length]=A?x:v(x))},cdata:function(x){n.push("<![CDATA[",x,"]]>")},comment:function(x){n.push("<!--",x,"-->")},pi:function(x,A){A?n.push("<?",x," ",v(A),"?>"):n.push("<?",x,"?>"),a&&n.push(`
`)},doctype:function(x){n.push("<!DOCTYPE",x,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},Em=function(e,n){n===void 0&&(n=Bs());var a=Qx(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(l){var v=e.validate,p={3:function(A){a.text(A.value,A.raw)},8:function(A){a.comment(A.value)},7:function(A){a.pi(A.name,A.value)},10:function(A){a.doctype(A.value)},4:function(A){a.cdata(A.value)},11:function(A){if(A=A.firstChild)do x(A);while(A=A.next)}};a.reset();var x=function(A){var N=p[A.type];if(N)N(A);else{var X=A.name,Z=A.shortEnded,Q=A.attributes;if(v&&Q&&Q.length>1){var ce=[];ce.map={};var ve=n.getElementRule(A.name);if(ve){for(var me=0,he=ve.attributesOrder.length;me<he;me++){var De=ve.attributesOrder[me];if(De in Q.map){var Ae=Q.map[De];ce.map[De]=Ae,ce.push({name:De,value:Ae})}}for(var me=0,he=Q.length;me<he;me++){var De=Q[me].name;if(!(De in ce.map)){var Ae=Q.map[De];ce.map[De]=Ae,ce.push({name:De,value:Ae})}}Q=ce}}if(a.start(A.name,Q,Z),!Z){if(A=A.firstChild)do x(A);while(A=A.next);a.end(X)}}};return l.type===1&&!e.inner?x(l):p[11](l),a.getContent()};return{serialize:i}},p1=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];He(e,function(n){p1.add(n)})})();var sy=["font","text-decoration","text-emphasis"],b1=function(e,n){return Zi(e.parseStyle(e.getAttrib(n,"style")))},ek=function(e){return p1.has(e)},dv=function(e,n){return qr(b1(e,n),function(a){return!ek(a)})},AE=function(e){return it(e,function(n){return Ze(sy,function(a){return po(n,a)})})},ff=function(e,n,a){var i=b1(e,n),l=b1(e,a),v=function(p){var x=e.getStyle(n,p),A=e.getStyle(a,p);return Bf(x)&&Bf(A)&&x!==A};return Ze(i,function(p){var x=function(N){return Ze(N,function(X){return X===p})};if(!x(l)&&x(sy)){var A=AE(l);return Ze(A,v)}else return v(p)})},tk=function(e,n,a){return te.from(a.container()).filter(gn).exists(function(i){var l=e?0:-1;return n(i.data.charAt(a.offset()+l))})},ly=le(tk,!0,ld),pC=le(tk,!1,ld),EE=function(e){var n=e.container();return gn(n)&&(n.data.length===0||gu(n.data)&&dd.isBookmarkNode(n.parentNode))},wd=function(e,n){return function(a){return te.from(C0(e?0:-1,a)).filter(n).isSome()}},nk=function(e){return mh(e)&&gr(je.fromDom(e),"display")==="block"},rk=function(e){return La(e)&&!Vo(e)},TE=wd(!0,nk),bC=wd(!1,nk),kg=wd(!0,Mu),Ag=wd(!1,Mu),ak=wd(!0,Ao),yC=wd(!1,Ao),zl=wd(!0,rk),Cd=wd(!1,rk),Fn=function(e){for(var n=[],a=e.dom;a;)n.push(je.fromDom(a)),a=a.lastChild;return n},wC=function(e){var n=$i(e,"br"),a=it(Fn(e).slice(-1),Sh);n.length===a.length&&He(a,vo)},vf=function(e){Vf(e),Ho(e,je.fromHtml('<br data-mce-bogus="1">'))},ok=function(e){as(e).each(function(n){Ff(n).each(function(a){Ts(e)&&Sh(n)&&Ts(a)&&vo(n)})})},OE=function(e){return e.slice(0,-1)},ik=function(e,n,a){return Hi(n,e)?OE(Lo(e,function(i){return a(i)||$a(i,n)})):[]},y1=function(e,n){return ik(e,n,at)},yc=function(e,n){return[e].concat(y1(e,n))},cy=function(e,n,a){return O0(e,n,a,EE)},uk=function(e,n){return rn(yc(je.fromDom(n.container()),e),Ts)},nr=function(e,n,a){return cy(e,n.dom,a).forall(function(i){return uk(n,a).fold(function(){return gc(i,a,n.dom)===!1},function(l){return gc(i,a,n.dom)===!1&&Hi(l,je.fromDom(i.container()))})})},CC=function(e,n,a){return uk(n,a).fold(function(){return cy(e,n.dom,a).forall(function(i){return gc(i,a,n.dom)===!1})},function(i){return cy(e,i.dom,a).isNone()})},ur=le(CC,!1),SC=le(CC,!0),sk=le(nr,!1),lk=le(nr,!0),Eg=function(e){return _0(e).exists(Sh)},Tg=function(e,n,a){var i=it(yc(je.fromDom(a.container()),n),Ts),l=da(i).getOr(n);return Hu(e,l.dom,a).filter(Eg)},Og=function(e,n){return _0(n).exists(Sh)||Tg(!0,e,n).isSome()},Dg=function(e,n){return B4(n).exists(Sh)||Tg(!1,e,n).isSome()},DE=le(Tg,!1),Zn=le(Tg,!0),ck=function(e){return dt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},_C=function(e,n){var a=it(yc(je.fromDom(n.container()),e),Ts);return da(a).getOr(e)},w1=function(e,n){return ck(n)?pC(n):pC(n)||bc(_C(e,n).dom,n).exists(pC)},Sd=function(e,n){return ck(n)?ly(n):ly(n)||Ml(_C(e,n).dom,n).exists(ly)},fk=function(e){return Ee(["pre","pre-wrap"],e)},fy=function(e){return _0(e).bind(function(n){return yh(n,Fa)}).exists(function(n){return fk(gr(n,"white-space"))})},xC=function(e,n){return bc(e.dom,n).isNone()},RE=function(e,n){return Ml(e.dom,n).isNone()},vk=function(e,n){return xC(e,n)||RE(e,n)||ur(e,n)||SC(e,n)||Dg(e,n)||Og(e,n)},$E=function(e,n){return fy(n)?!1:vk(e,n)||w1(e,n)||Sd(e,n)},vy=function(e,n){return fy(n)?!1:ur(e,n)||sk(e,n)||Dg(e,n)||w1(e,n)},BE=function(e){var n=e.container(),a=e.offset();return gn(n)&&a<n.data.length?dt(n,a+1):e},dy=function(e,n){return fy(n)?!1:SC(e,n)||lk(e,n)||Og(e,n)||Sd(e,n)},dk=function(e,n){return vy(e,n)||dy(e,BE(n))},mk=function(e,n){return gm(e.charAt(n))},ME=function(e){var n=e.container();return gn(n)&&Bo(n.data,us)},hk=function(e){var n=e.split("");return tt(n,function(a,i){return gm(a)&&i>0&&i<n.length-1&&D0(n[i-1])&&D0(n[i+1])?" ":a}).join("")},kC=function(e,n){var a=n.data,i=dt(n,0);return mk(a,0)&&!dk(e,i)?(n.data=" "+a.slice(1),!0):!1},Nr=function(e){var n=e.data,a=hk(n);return a!==n?(e.data=a,!0):!1},gk=function(e,n){var a=n.data,i=dt(n,a.length-1);return mk(a,a.length-1)&&!dk(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},my=function(e,n){return te.some(n).filter(ME).bind(function(a){var i=a.container(),l=kC(e,i)||Nr(i)||gk(e,i);return l?te.some(a):te.none()})},AC=function(e){var n=je.fromDom(e.getBody());e.selection.isCollapsed()&&my(n,dt.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},pk=function(e,n,a){var i=Rt(e,function(l,v){return ld(v)||gm(v)?l.previousCharIsSpace||l.str===""&&n||l.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:l.str+us}:{previousCharIsSpace:!0,str:l.str+" "}:{previousCharIsSpace:!1,str:l.str+v}},{previousCharIsSpace:!1,str:""});return i.str},EC=function(e,n,a){if(a!==0){var i=je.fromDom(e),l=Nv(i,Ts).getOr(i),v=e.data.slice(n,n+a),p=n+a>=e.data.length&&dy(l,dt(e,e.data.length)),x=n===0&&vy(l,dt(e,0));e.replaceData(n,a,pk(v,x,p))}},C1=function(e,n){var a=e.data.slice(n),i=a.length-Md(a).length;EC(e,n,i)},hy=function(e,n){var a=e.data.slice(0,n),i=a.length-es(a).length;EC(e,n-i,i)},u=function(e,n,a,i){i===void 0&&(i=!0);var l=es(e.data).length,v=i?e:n,p=i?n:e;return i?v.appendData(p.data):v.insertData(0,p.data),vo(je.fromDom(p)),a&&C1(v,l),v},c=function(e,n){var a=e.container(),i=e.offset();return dt.isTextPosition(e)===!1&&a===n.parentNode&&i>dt.before(n).offset()},h=function(e,n){return c(n,e)?dt(n.container(),n.offset()-1):n},w=function(e){return gn(e)?dt(e,0):dt.before(e)},k=function(e){return gn(e)?dt(e,e.data.length):dt.after(e)},R=function(e){return Wc(e.previousSibling)?te.some(k(e.previousSibling)):e.previousSibling?ol(e.previousSibling):te.none()},z=function(e){return Wc(e.nextSibling)?te.some(w(e.nextSibling)):e.nextSibling?ou(e.nextSibling):te.none()},K=function(e,n){var a=dt.before(n.previousSibling?n.previousSibling:n.parentNode);return bc(e,a).fold(function(){return Ml(e,dt.after(n))},te.some)},ue=function(e,n){return Ml(e,dt.after(n)).fold(function(){return bc(e,dt.before(n))},te.some)},be=function(e,n){return R(n).orThunk(function(){return z(n)}).orThunk(function(){return K(e,n)})},Pe=function(e,n){return z(n).orThunk(function(){return R(n)}).orThunk(function(){return ue(e,n)})},mt=function(e,n,a){return e?Pe(n,a):be(n,a)},Lt=function(e,n,a){return mt(e,n,a).map(le(h,a))},Tt=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},ht=function(e){return function(n){return n.dom===e}},Yt=function(e,n){return n&&Tr(e.schema.getBlockElements(),xo(n))},tn=function(e){if(Ti(e)){var n=je.fromHtml('<br data-mce-bogus="1">');return Vf(e),Ho(e,n),te.some(dt.before(n.dom))}else return te.none()},On=function(e,n,a){var i=Ff(e).filter(Xa),l=ks(e).filter(Xa);return vo(e),a2(i,l,n,function(v,p,x){var A=v.dom,N=p.dom,X=A.data.length;return u(A,N,a),x.container()===N?dt(A,X):x}).orThunk(function(){return a&&(i.each(function(v){return hy(v.dom,v.dom.length)}),l.each(function(v){return C1(v.dom,0)})),n})},jr=function(e,n){return Tr(e.schema.getTextInlineElements(),xo(n))},Tn=function(e,n,a,i){i===void 0&&(i=!0);var l=Lt(n,e.getBody(),a.dom),v=Nv(a,le(Yt,e),ht(e.getBody())),p=On(a,l,jr(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):v.bind(tn).fold(function(){i&&Tt(e,n,p)},function(x){i&&Tt(e,n,te.some(x))})},er=function(e){return function(n){return $a(e,n)}},_r=function(e){return $i(e,"td,th")},wr=function(e,n){var a=function(N){return pm(je.fromDom(N),n)},i=a(e.startContainer),l=a(e.endContainer),v=i.isSome(),p=l.isSome(),x=eu(i,l,$a).getOr(!1),A=!x&&v&&p;return{startTable:i,endTable:l,isStartInTable:v,isEndInTable:p,isSameTable:x,isMultiTable:A}},Co=function(e,n){return{start:e,end:n}},vi=function(e,n,a){return{rng:e,table:n,cells:a}},di=$n.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),zr=function(e,n){return yo(je.fromDom(e),"td,th",n)},rr=function(e){return!$a(e.start,e.end)},Dr=function(e,n){return pm(e.start,n).bind(function(a){return pm(e.end,n).bind(function(i){return o2($a(a,i),a)})})},fa=function(e,n){return!rr(e)&&Dr(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},io=function(e,n){var a=zr(e.startContainer,n),i=zr(e.endContainer,n);return eu(a,i,Co)},mv=function(e){return function(n){return pm(n,e).bind(function(a){return Ur(_r(a)).map(function(i){return Co(n,i)})})}},ca=function(e){return function(n){return pm(n,e).bind(function(a){return da(_r(a)).map(function(i){return Co(i,n)})})}},ds=function(e){return function(n){return Dr(n,e).map(function(a){return vi(n,a,_r(a))})}},mi=function(e,n,a,i){if(a.collapsed||!e.forall(rr))return te.none();if(n.isSameTable){var l=e.bind(ds(i));return te.some({start:l,end:l})}else{var v=zr(a.startContainer,i),p=zr(a.endContainer,i),x=v.bind(mv(i)).bind(ds(i)),A=p.bind(ca(i)).bind(ds(i));return te.some({start:x,end:A})}},S1=function(e,n){return pn(e,function(a){return $a(a,n)})},hv=function(e){return eu(S1(e.cells,e.rng.start),S1(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},wc=function(e,n,a){return e.exists(function(i){return fa(i,a)&&Pl(i.start,n)})},Hs=function(e,n){var a=n.startTable,i=n.endTable,l=e.cloneRange();return a.each(function(v){return l.setStartAfter(v.dom)}),i.each(function(v){return l.setEndBefore(v.dom)}),l},df=function(e,n,a,i){return mi(e,n,a,i).bind(function(l){var v=l.start,p=l.end;return v.or(p)}).bind(function(l){var v=n.isSameTable,p=hv(l).getOr([]);if(v&&l.cells.length===p.length)return te.some(di.fullTable(l.table));if(p.length>0){if(v)return te.some(di.partialTable(p,te.none()));var x=Hs(a,n);return te.some(di.partialTable(p,te.some(Wn(Wn({},n),{rng:x}))))}else return te.none()})},gy=function(e,n,a,i){return mi(e,n,a,i).bind(function(l){var v=l.start,p=l.end,x=v.bind(hv).getOr([]),A=p.bind(hv).getOr([]);if(x.length>0&&A.length>0){var N=Hs(a,n);return te.some(di.multiTable(x,A,N))}else return te.none()})},Rg=function(e,n){var a=er(e),i=io(n,a),l=wr(n,a);return wc(i,n,a)?i.map(function(v){return di.singleCellTable(n,v.start)}):l.isMultiTable?gy(i,l,n,a):df(i,l,n,a)},$g=function(e){var n=ns(e)?Ff(e):as(e);return n.bind($g).orThunk(function(){return te.some(e)})},Bg=function(e){return He(e,function(n){bt(n,"contenteditable"),vf(n)})},Cc=function(e,n){return te.from(e.dom.getParent(n,e.dom.isBlock)).map(je.fromDom)},Mg=function(e,n,a){a.each(function(i){n?vo(i):(vf(i),e.selection.setCursorLocation(i.dom,0))})},Pg=function(e,n,a,i){var l=a.cloneRange();i?(l.setStart(a.startContainer,a.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(a.endContainer,a.endOffset)),PE(e,l,n,!1)},TC=function(e){var n=of(e),a=je.fromDom(e.selection.getNode());hh(a.dom)&&Ti(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),n.length>1&&Ze(n,function(i){return $a(i,a)})&&M(a,"data-mce-selected","1")},Ig=function(e,n,a){var i=e.selection.getRng(),l=a.bind(function(v){var p=v.rng,x=v.isStartInTable,A=Cc(e,x?p.endContainer:p.startContainer);p.deleteContents(),Mg(e,x,A.filter(Ti));var N=x?n[0]:n[n.length-1];return Pg(e,N,i,x),Ti(N)?te.none():te.some(x?n.slice(1):n.slice(0,-1))}).getOr(n);return Bg(l),TC(e),!0},L5=function(e,n,a,i){var l=e.selection.getRng(),v=n[0],p=a[a.length-1];Pg(e,v,l,!0),Pg(e,p,l,!1);var x=Ti(v)?n:n.slice(1),A=Ti(p)?a:a.slice(0,-1);return Bg(x.concat(A)),i.deleteContents(),TC(e),!0},PE=function(e,n,a,i){i===void 0&&(i=!0),n.deleteContents();var l=$g(a).getOr(a),v=je.fromDom(e.dom.getParent(l.dom,e.dom.isBlock));if(Ti(v)&&(vf(v),i&&e.selection.setCursorLocation(v.dom,0)),!$a(a,v)){var p=Fd(ro(v),a)?[]:ko(v);He(p.concat(Qi(a)),function(x){!$a(x,v)&&!Hi(x,v)&&Ti(x)&&vo(x)})}return!0},o6=function(e,n){return Tn(e,!1,n),!0},Ng=function(e,n,a){return Rg(n,a).map(function(i){return i.fold(le(PE,e),le(o6,e),le(Ig,e),le(L5,e))})},i6=function(e,n){return py(e,n)},ms=function(e,n,a,i){return IE(n,i).fold(function(){return Ng(e,n,a)},function(l){return i6(e,l)}).getOr(!1)},oa=function(e,n,a){var i=je.fromDom(e.getBody()),l=e.selection.getRng();return a.length!==0?Ig(e,a,te.none()):ms(e,i,l,n)},mf=function(e,n){return rn(yc(n,e),ic)},IE=function(e,n){return rn(yc(n,e),gp("caption"))},H5=function(e,n,a,i,l){return pc(a,e.getBody(),l).bind(function(v){return mf(n,je.fromDom(v.getNode())).map(function(p){return $a(p,i)===!1})})},py=function(e,n){return vf(n),e.selection.setCursorLocation(n.dom,0),te.some(!0)},NE=function(e,n,a,i){return ou(e.dom).bind(function(l){return ol(e.dom).map(function(v){return n?a.isEqual(l)&&i.isEqual(v):a.isEqual(v)&&i.isEqual(l)})}).getOr(!0)},V5=function(e,n){return py(e,n)},U5=function(e,n,a){return IE(e,je.fromDom(a.getNode())).map(function(i){return $a(i,n)===!1})},u6=function(e,n,a,i,l){return pc(a,e.getBody(),l).bind(function(v){return NE(i,a,l,v)?V5(e,i):U5(n,i,v)}).or(te.some(!0))},s6=function(e,n,a,i){var l=dt.fromRangeStart(e.selection.getRng());return mf(a,i).bind(function(v){return Ti(v)?py(e,v):H5(e,a,n,v,l)}).getOr(!1)},zE=function(e,n,a,i){var l=dt.fromRangeStart(e.selection.getRng());return Ti(i)?py(e,i):u6(e,a,n,i,l)},FE=function(e,n){return e?ak(n):yC(n)},gv=function(e,n){var a=dt.fromRangeStart(e.selection.getRng());return FE(n,a)||Hu(n,e.getBody(),a).exists(function(i){return FE(n,i)})},l6=function(e,n,a){var i=je.fromDom(e.getBody());return IE(i,a).fold(function(){return s6(e,n,i,a)||gv(e,n)},function(l){return zE(e,n,i,l).getOr(!1)})},bk=function(e,n){var a=je.fromDom(e.selection.getStart(!0)),i=of(e);return e.selection.isCollapsed()&&i.length===0?l6(e,n,a):oa(e,a,i)},c6=function(e,n,a,i){var l=document.createRange();return l.setStart(e,n),l.setEnd(a,i),l},LE=function(e){var n=dt.fromRangeStart(e),a=dt.fromRangeEnd(e),i=e.commonAncestorContainer;return Hu(!1,i,a).map(function(l){return!gc(n,a,i)&&gc(n,l,i)?c6(n.container(),n.offset(),l.container(),l.offset()):e}).getOr(e)},HE=function(e){return e.collapsed?e:LE(e)},f6=function(e){return e.firstChild&&e.firstChild===e.lastChild},VE=function(e){return e.name==="br"||e.value===us},v6=function(e,n){var a=e.getBlockElements();return a[n.name]&&f6(n)&&VE(n.firstChild)},d6=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||v6(e,n))},W5=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),d6(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},m6=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},h6=function(e,n,a){var i=n.serialize(a),l=e.createFragment(i);return m6(l)},yk=function(e){return it(e.childNodes,function(n){return n.nodeName==="LI"})},g6=function(e){return e.data===us||wa(e)},j5=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&g6(e.firstChild)},G5=function(e){return!e.firstChild||j5(e)},UE=function(e){return e.length>0&&G5(e[e.length-1])?e.slice(0,-1):e},WE=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},p6=function(e,n){return!!WE(e,n)},jE=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},b6=function(e,n){var a=dt.before(e),i=ho(n),l=i.next(a);return l?l.toRange():null},q5=function(e,n){var a=dt.after(e),i=ho(n),l=i.prev(a);return l?l.toRange():null},OC=function(e,n,a,i){var l=jE(e,i),v=e.parentNode;return v.insertBefore(l[0],e),wt.each(n,function(p){v.insertBefore(p,e)}),v.insertBefore(l[1],e),v.removeChild(e),q5(n[n.length-1],a)},GE=function(e,n,a){var i=e.parentNode;return wt.each(n,function(l){i.insertBefore(l,e)}),b6(e,a)},y6=function(e,n,a,i){return i.insertAfter(n.reverse(),e),q5(n[0],a)},w6=function(e,n,a,i){var l=h6(n,e,i),v=WE(n,a.startContainer),p=UE(yk(l.firstChild)),x=1,A=2,N=n.getRoot(),X=function(Z){var Q=dt.fromRangeStart(a),ce=ho(n.getRoot()),ve=Z===x?ce.prev(Q):ce.next(Q);return ve?WE(n,ve.getNode())!==v:!0};return X(x)?GE(v,p,N):X(A)?y6(v,p,N,n):OC(v,p,N,a)},K5=function(e,n,a){var i=je.fromDom(e.getRoot());return vy(i,dt.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),dy(i,dt.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},wk=hh,C6=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,wk);return a===i&&Pl(je.fromDom(a),n)}else return!1},S6=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,l=a.lastChild;!i||i===l&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},_6=function(e,n){te.from(e.getParent(n,"td,th")).map(je.fromDom).each(ok)},x6=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var l=e.getBody(),v=gC(i);wt.each(i.select("*[data-mce-fragment]"),function(p){var x=Ge(a[p.nodeName.toLowerCase()]);if(x&&dv(i,p))for(var A=p.parentNode;Ge(A)&&A!==l;A=A.parentNode){var N=ff(i,p,A);if(N)break;if(v.compare(A,p)){i.remove(p,!0);break}}})}},X5=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},Y5=function(e){wt.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},k6=function(e){return!!e.getAttribute("data-mce-fragment")},A6=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},E6=function(e,n){var a,i=e.dom,l=e.selection;if(n){l.scrollIntoView(n);var v=ym(e.getBody(),n);if(i.getContentEditable(v)==="false"){i.remove(n),l.select(v);return}var p=i.createRng(),x=n.previousSibling;if(gn(x)){if(p.setStart(x,x.nodeValue.length),!Hn.ie){var A=n.nextSibling;gn(A)&&(x.appendData(A.data),A.parentNode.removeChild(A))}}else p.setStartBefore(n),p.setEndBefore(n);var N=function(Z){var Q=dt.fromRangeStart(Z),ce=ho(e.getBody());if(Q=ce.next(Q),Q)return Q.toRange()},X=i.getParent(n,i.isBlock);i.remove(n),X&&i.isEmpty(X)&&(e.$(X).empty(),p.setStart(X,0),p.setEnd(X,0),!wk(X)&&!k6(X)&&(a=N(p))?(p=a,i.remove(X)):i.add(X,i.create("br",{"data-mce-bogus":"1"}))),l.setRng(p)}},T6=function(e){var n=e.dom,a=HE(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,wk);C6(n,a,i)?PE(e,a,je.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},O6=function(e,n,a){var i,l,v,p=e.selection,x=e.dom;/^ | $/.test(n)&&(n=K5(x,p.getRng(),n));var A=e.parser,N=a.merge,X=Em({validate:g4(e)},e.schema),Z='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',Q=e.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:a.paste});if(Q.isDefaultPrevented()){e.fire("SetContent",{content:Q.content,format:"html",selection:!0,paste:a.paste});return}n=Q.content,n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,Z),l=p.getRng();var ce=l.startContainer||(l.parentElement?l.parentElement():null),ve=e.getBody();ce===ve&&p.isCollapsed()&&x.isBlock(ve.firstChild)&&A6(e,ve.firstChild)&&x.isEmpty(ve.firstChild)&&(l=x.createRng(),l.setStart(ve.firstChild,0),l.setEnd(ve.firstChild,0),p.setRng(l)),p.isCollapsed()||T6(e),i=p.getNode();var me={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},he=A.parse(n,me);if(a.paste===!0&&W5(e.schema,he)&&p6(x,i)){l=w6(X,x,p.getRng(),he),p.setRng(l),e.fire("SetContent",Q);return}if(X5(he),v=he.lastChild,v.attr("id")==="mce_marker"){var De=v;for(v=v.prev;v;v=v.walk(!0))if(v.type===3||!x.isBlock(v.name)){e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(De,v,v.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!me.invalid)n=X.serialize(he),S6(e,n,i);else{e.selection.setContent(Z),i=p.getNode();var Ae=e.getBody();for(i.nodeType===9?i=v=Ae:v=i;v!==Ae;)i=v,v=v.parentNode;n=i===Ae?Ae.innerHTML:x.getOuterHTML(i),n=X.serialize(A.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return X.serialize(he)}))),i===Ae?x.setHTML(Ae,n):x.setOuterHTML(i,n)}x6(e,N),E6(e,x.get("mce_marker")),Y5(e.getBody()),_6(x,p.getStart()),e.fire("SetContent",Q),e.addVisual()},qE=function(e,n){n(e),e.firstChild&&qE(e.firstChild,n),e.next&&qE(e.next,n)},DC=function(e,n,a){var i={},l={},v=[];a.firstChild&&qE(a.firstChild,function(A){He(e,function(N){N.name===A.name&&(i[N.name]?i[N.name].nodes.push(A):i[N.name]={filter:N,nodes:[A]})}),He(n,function(N){typeof A.attr(N.name)=="string"&&(l[N.name]?l[N.name].nodes.push(A):l[N.name]={filter:N,nodes:[A]})})});for(var p in i)Tr(i,p)&&v.push(i[p]);for(var x in l)Tr(l,x)&&v.push(l[x]);return v},D6=function(e,n,a){var i=DC(e,n,a);He(i,function(l){He(l.filter.callbacks,function(v){v(l.nodes,l.filter.name,{})})})},J5="html",RC=function(e){return e instanceof ll},R6=function(e){sl(e)&&ou(e.getBody()).each(function(n){var a=n.getNode(),i=Ao(a)?ou(a).getOr(n):n;e.selection.setRng(i.toRange())})},Ck=function(e,n,a){e.dom.setHTML(e.getBody(),n),a!==!0&&R6(e)},Z5=function(e,n,a,i){if(a.length===0||/^\s+$/.test(a)){var l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?a="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+l+"</li>");var v=Bi(e);v&&e.schema.isValidChild(n.nodeName.toLowerCase(),v.toLowerCase())?(a=l,a=e.dom.createHTML(v,Gh(e),a)):a||(a='<br data-mce-bogus="1">'),Ck(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=Em({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=Hd(je.fromDom(n))?a:wt.trim(a),Ck(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},$6=function(e,n,a,i){D6(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var l=Em({validate:e.validate},e.schema).serialize(a);return i.content=Hd(je.fromDom(n))?l:wt.trim(l),Ck(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},B6=function(e,n){return Wn(Wn({format:J5},e),{set:!0,content:RC(n)?"":n})},M6=function(e,n,a){var i=B6(a,n),l=a.no_events?i:e.fire("BeforeSetContent",i);return RC(n)||(n=l.content),te.from(e.getBody()).fold(W(n),function(v){return RC(n)?$6(e,v,n,l):Z5(e,v,n,l)})},P6=function(e,n){return s2(e,n).isSome()},Q5=function(e){return se(e)?e:at},I6=function(e,n,a){for(var i=e.dom,l=Q5(a);i.parentNode;){i=i.parentNode;var v=je.fromDom(i),p=n(v);if(p.isSome())return p;if(l(v))break}return te.none()},KE=function(e,n,a){var i=n(e),l=Q5(a);return i.orThunk(function(){return l(e)?te.none():I6(e,n,l)})},XE=Ew,eD=function(e,n,a){var i=e.formatter.get(a);if(i)for(var l=0;l<i.length;l++){var v=i[l];if(vs(v)&&v.inherit===!1&&e.dom.is(n,v.selector))return!0}return!1},YE=function(e,n,a,i,l){var v=e.dom.getRoot();return n===v?!1:(n=e.dom.getParent(n,function(p){return eD(e,p,a)?!0:p.parentNode===v||!!uu(e,p,a,i,!0)}),!!uu(e,n,a,i,l))},JE=function(e,n,a){if(XE(n,a.inline)||XE(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},Sk=function(e,n,a,i,l,v){var p=a[i];if(se(a.onmatch))return a.onmatch(n,a,i);if(p){if(Te(p.length)){for(var x in p)if(Tr(p,x)){var A=i==="attributes"?e.getAttrib(n,x):vg(e,n,x),N=rf(p[x],v),X=xe(A)||Pd(A);if(X&&xe(N))continue;if(l&&X&&!a.exact||(!l||a.exact)&&!XE(A,Tw(e,N,x)))return!1}}else for(var Z=0;Z<p.length;Z++)if(i==="attributes"?e.getAttrib(n,p[Z]):vg(e,n,p[Z]))return!0}return!0},uu=function(e,n,a,i,l){var v=e.formatter.get(a),p=e.dom;if(v&&n)for(var x=0;x<v.length;x++){var A=v[x];if(JE(e.dom,n,A)&&Sk(p,n,A,"attributes",l,i)&&Sk(p,n,A,"styles",l,i)){var N=A.classes;if(N){for(var X=0;X<N.length;X++)if(!e.dom.hasClass(n,rf(N[X],i)))return}return A}}},$C=function(e,n,a,i,l){if(i)return YE(e,i,n,a,l);if(i=e.selection.getNode(),YE(e,i,n,a,l))return!0;var v=e.selection.getStart();return!!(v!==i&&YE(e,v,n,a,l))},ZE=function(e,n,a){var i=[],l={},v=e.selection.getStart();return e.dom.getParent(v,function(p){for(var x=0;x<n.length;x++){var A=n[x];!l[A]&&uu(e,p,A,a)&&(l[A]=!0,i.push(A))}},e.dom.getRoot()),i},QE=function(e,n){var a=function(l){return $a(l,je.fromDom(e.getBody()))},i=function(l,v){return uu(e,l.dom,v)?te.some(v):te.none()};return te.from(e.selection.getStart(!0)).bind(function(l){return KE(je.fromDom(l),function(v){return Na(n,function(p){return i(v,p)})},a)}).getOrNull()},N6=function(e,n){var a=e.formatter.get(n),i=e.dom;if(a)for(var l=e.selection.getStart(),v=t1(i,l),p=a.length-1;p>=0;p--){var x=a[p];if(!vs(x)||Ge(x.defaultBlock))return!0;for(var A=v.length-1;A>=0;A--)if(i.is(v[A],x.selector))return!0}return!1},tD=function(e,n,a){return Rt(a,function(i,l){var v=ax(e,l);return e.formatter.matchNode(n,l,{},v)?i.concat([l]):i},[])},by=Ve,eT="_mce_caret",tT=function(e,n){return e.importNode(n,!0)},z6=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==by||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},nT=function(e){return z6(e).length>0},nD=function(e){if(e){var n=new sa(e,e);for(e=n.current();e;e=n.next())if(gn(e))return e}return null},_1=function(e){var n=je.fromTag("span");return J(n,{id:eT,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ho(n,je.fromText(by)),n},rD=function(e){var n=nD(e);return n&&n.nodeValue.charAt(0)===by&&n.deleteData(0,1),n},rT=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(nT(n))Tn(e,!1,je.fromDom(n),a);else{var v=l.getRng(),p=i.getParent(n,i.isBlock),x=v.startContainer,A=v.startOffset,N=v.endContainer,X=v.endOffset,Z=rD(n);i.remove(n,!0),x===Z&&A>0&&v.setStart(Z,A-1),N===Z&&X>0&&v.setEnd(Z,X-1),p&&i.isEmpty(p)&&vf(je.fromDom(p)),l.setRng(v)}},_k=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(n)rT(e,n,a);else if(n=mm(e.getBody(),l.getStart()),!n)for(;n=i.get(eT);)rT(e,n,!1)},F6=function(e,n,a){var i=e.dom,l=i.getParent(a,le(Aw,e));l&&i.isEmpty(l)?a.parentNode.replaceChild(n,a):(wC(je.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},aD=function(e,n){return e.appendChild(n),n},oD=function(e,n){var a=Wt(e,function(i,l){return aD(i,l.cloneNode(!1))},n);return aD(a,a.ownerDocument.createTextNode(by))},L6=function(e,n,a,i,l,v){var p=e.formatter,x=e.dom,A=it(Zi(p.get()),function(Q){return Q!==i&&!Bo(Q,"removeformat")}),N=tD(e,a,A),X=it(N,function(Q){return!G4(e,Q,i)});if(X.length>0){var Z=a.cloneNode(!1);return x.add(n,Z),p.remove(i,l,Z,v),x.remove(Z),te.some(Z)}else return te.none()},H6=function(e,n,a){var i,l,v=e.selection,p=v.getRng(),x=p.startOffset,A=p.startContainer,N=A.nodeValue;i=mm(e.getBody(),v.getStart()),i&&(l=nD(i));var X=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(N&&x>0&&x<N.length&&X.test(N.charAt(x))&&X.test(N.charAt(x-1))){var Z=v.getBookmark();p.collapse(!0);var Q=cd(e,p,e.formatter.get(n));Q=cv(Q),e.formatter.apply(n,a,Q),v.moveToBookmark(Z)}else(!i||l.nodeValue!==by)&&(i=tT(e.getDoc(),_1(!0).dom),l=i.firstChild,p.insertNode(i),x=1),e.formatter.apply(n,a,i),v.setCursorLocation(l,x)},iD=function(e,n,a,i){var l=e.dom,v=e.selection,p,x,A,N=[],X=v.getRng(),Z=X.startContainer,Q=X.startOffset;for(x=Z,Z.nodeType===3&&(Q!==Z.nodeValue.length&&(p=!0),x=x.parentNode);x;){if(uu(e,x,n,a,i)){A=x;break}x.nextSibling&&(p=!0),N.push(x),x=x.parentNode}if(A)if(p){var ce=v.getBookmark();X.collapse(!0);var ve=cd(e,X,e.formatter.get(n),!0);ve=cv(ve),e.formatter.remove(n,a,ve,i),v.moveToBookmark(ce)}else{var me=mm(e.getBody(),A),he=_1(!1).dom;F6(e,he,me!==null?me:A);var De=L6(e,he,A,n,a,i),Ae=oD(N.concat(De.toArray()),he);rT(e,me,!1),v.setCursorLocation(Ae,1),l.isEmpty(A)&&l.remove(A)}},V6=function(e,n){var a=e.selection,i=e.getBody();_k(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===by&&_k(e,mm(i,a.getStart())),(n===37||n===39)&&_k(e,mm(i,a.getStart()))},aT=function(e){e.on("mouseup keydown",function(n){V6(e,n.keyCode)})},yy=function(e,n){var a=_1(!1),i=oD(n,a.dom);return ki(je.fromDom(e),a),vo(je.fromDom(e)),dt(i,0)},U6=function(e,n){var a=e.schema.getTextInlineElements();return Tr(a,xo(n))&&!nf(n.dom)&&!bo(n.dom)},W6=function(e){return nf(e.dom)&&nT(e.dom)},x1={},xk=gl,uD=$c,j6=function(e,n){var a=x1[e];a||(x1[e]=[]),x1[e].push(n)},sD=function(e,n){uD(x1[e],function(a){a(n)})};j6("pre",function(e){var n=e.selection.getRng(),a,i=function(p){return v(p.previousSibling)&&pl(a,p.previousSibling)!==-1},l=function(p,x){dr(x).remove(),dr(p).append("<br><br>").append(x.childNodes)},v=As(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),uD(xk(xk(a,v),i),function(p){l(p.previousSibling,p)}))});var BC=wt.each,oT=function(e){return Yn(e)&&!Vu(e)&&!nf(e)&&!bo(e)},MC=function(e,n){for(var a=e;a;a=a[n]){if(gn(a)&&Bf(a.data))return e;if(Yn(a)&&!Vu(a))return a}return e},_d=function(e,n,a){var i=gC(e);if(n&&a&&(n=MC(n,"previousSibling"),a=MC(a,"nextSibling"),i.compare(n,a))){for(var l=n.nextSibling;l&&l!==a;){var v=l;l=l.nextSibling,n.appendChild(v)}return e.remove(a),wt.each(wt.grep(a.childNodes),function(p){n.appendChild(p)}),n}return a},lD=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var l=_d(e,$0(i),i);_d(e,l,$0(l,!0))}},iT=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";BC(e.select(i,a),function(l){oT(l)&&BC(n.styles,function(v,p){e.setStyle(l,p,"")})})}},uT=function(e,n,a){BC(e.childNodes,function(i){oT(i)&&(n(i)&&a(i),i.hasChildNodes()&&uT(i,n,a))})},G6=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},cD=function(e,n){return function(a){return!!(a&&vg(e,a,n))}},fD=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),G6(e,i)}},wy=$n.generate([{keep:[]},{rename:["name"]},{removed:[]}]),q6=/^(src|href|style)$/,zg=wt.each,Cy=Ew,K6=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},vD=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},dD=function(e,n,a){var i=n[a?"startContainer":"endContainer"],l=n[a?"startOffset":"endOffset"];if(Yn(i)){var v=i.childNodes.length-1;!a&&l&&l--,i=i.childNodes[l>v?v:l]}return gn(i)&&a&&l>=i.nodeValue.length&&(i=new sa(i,e.getBody()).next()||i),gn(i)&&!a&&l===0&&(i=new sa(i,e.getBody()).prev()||i),i},sT=function(e,n){var a=n?"firstChild":"lastChild";if(K6(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},lT=function(e,n,a,i){var l=e.create(a,i);return n.parentNode.insertBefore(l,n),l.appendChild(n),l},mD=function(e,n,a,i,l){var v=je.fromDom(n),p=je.fromDom(e.create(i,l)),x=a?Ba(v):Kr(v);return Hf(p,x),a?(ki(v,p),Qs(p,v)):(Iv(v,p),Ho(p,v)),p.dom},X6=function(e,n,a){if(Pi(a)&&Cy(n,a.inline)||af(a)&&Cy(n,a.block))return!0;if(vs(a))return Yn(n)&&e.is(n,a.selector)},Y6=function(e,n){return n.links&&e.nodeName==="A"},kk=function(e,n,a,i){var l=$0(n,a,i);return xe(l)||l.nodeName==="BR"||e.isBlock(l)},J6=function(e,n,a){var i=n.parentNode,l,v=e.dom,p=Bi(e);af(a)&&(p?i===v.getRoot()&&(!a.list_block||!Cy(n,a.list_block))&&He(fr(n.childNodes),function(x){fg(e,p,x.nodeName.toLowerCase())?l?l.appendChild(x):(l=lT(v,x,p),v.setAttribs(l,e.settings.forced_root_block_attrs)):l=null}):v.isBlock(n)&&!v.isBlock(i)&&(!kk(v,n,!1)&&!kk(v,n.firstChild,!0,!0)&&n.insertBefore(v.create("br"),n.firstChild),!kk(v,n,!0)&&!kk(v,n.lastChild,!1,!0)&&n.appendChild(v.create("br")))),!(q4(a)&&!Cy(a.inline,n))&&v.remove(n,!0)},hD=function(e,n,a,i,l){var v,p=e.dom;if(!X6(p,i,n)&&!Y6(i,n))return wy.keep();var x=i;if(Pi(n)&&n.remove==="all"&&Be(n.preserve_attributes)){var A=it(p.getAttribs(x),function(Q){return Ee(n.preserve_attributes,Q.name.toLowerCase())});if(p.removeAllAttribs(x),He(A,function(Q){return p.setAttrib(x,Q.name,Q.value)}),A.length>0)return wy.rename("span")}if(n.remove!=="all"){zg(n.styles,function(Q,ce){Q=Tw(p,rf(Q,a),ce+""),pe(ce)&&(ce=Q,l=null),(n.remove_similar||!l||Cy(vg(p,l,ce),Q))&&p.setStyle(x,ce,""),v=!0}),v&&p.getAttrib(x,"style")===""&&(x.removeAttribute("style"),x.removeAttribute("data-mce-style")),zg(n.attributes,function(Q,ce){var ve;if(Q=rf(Q,a),pe(ce)&&(ce=Q,l=null),n.remove_similar||!l||Cy(p.getAttrib(l,ce),Q)){if(ce==="class"&&(Q=p.getAttrib(x,ce),Q&&(ve="",He(Q.split(/\s+/),function(me){/mce\-\w+/.test(me)&&(ve+=(ve?" ":"")+me)}),ve))){p.setAttrib(x,ce,ve);return}if(q6.test(ce)&&x.removeAttribute("data-mce-"+ce),ce==="style"&&As(["li"])(x)&&p.getStyle(x,"list-style-type")==="none"){x.removeAttribute(ce),p.setStyle(x,"list-style-type","none");return}ce==="class"&&x.removeAttribute("className"),x.removeAttribute(ce)}}),zg(n.classes,function(Q){Q=rf(Q,a),(!l||p.hasClass(l,Q))&&p.removeClass(x,Q)});for(var N=p.getAttribs(x),X=0;X<N.length;X++){var Z=N[X].nodeName;if(Z.indexOf("_")!==0&&Z.indexOf("data-")!==0)return wy.keep()}}return n.remove!=="none"?(J6(e,x,n),wy.removed()):wy.keep()},Sy=function(e,n,a,i,l){return hD(e,n,a,i,l).fold(at,function(v){return e.dom.rename(i,v),!0},ot)},Z6=function(e,n,a,i,l){var v;return He(t1(e.dom,n.parentNode).reverse(),function(p){if(!v&&p.id!=="_start"&&p.id!=="_end"){var x=uu(e,p,a,i,l);x&&x.split!==!1&&(v=p)}}),v},Q6=function(e,n,a,i){return hD(e,n,a,i,i).fold(W(i),function(l){var v=e.dom.createFragment();return v.appendChild(i),e.dom.rename(i,l)},W(null))},cT=function(e,n,a,i,l,v,p,x){var A,N,X,Z=e.dom;if(a){for(var Q=a.parentNode,ce=i.parentNode;ce&&ce!==Q;ce=ce.parentNode){A=Z.clone(ce,!1);for(var ve=0;ve<n.length&&(A=Q6(e,n[ve],x,A),A!==null);ve++);A&&(N&&A.appendChild(N),X||(X=A),N=A)}v&&(!p.mixed||!Z.isBlock(a))&&(i=Z.split(a,i)),N&&(l.parentNode.insertBefore(N,l),X.appendChild(l),Pi(p)&&lD(Z,p,x,N))}return i},fT=function(e,n,a,i,l){var v=e.formatter.get(n),p=v[0],x=!0,A=e.dom,N=e.selection,X=function(Ae){var Xe=Z6(e,Ae,n,a,l);return cT(e,v,Xe,Ae,Ae,!0,p,a)},Z=function(Ae){return Vu(Ae)&&Yn(Ae)&&(Ae.id==="_start"||Ae.id==="_end")},Q=function(Ae){return Ze(v,function(Xe){return Sy(e,Xe,a,Ae,Ae)})},ce=function(Ae){var Xe=!0,We=!1;Yn(Ae)&&A.getContentEditable(Ae)&&(Xe=x,x=A.getContentEditable(Ae)==="true",We=!0);var Re=fr(Ae.childNodes);if(x&&!We){var Qe=Q(Ae),xt=Qe||Ze(v,function(Bt){return JE(A,Ae,Bt)}),Ft=Ae.parentNode;!xt&&Ge(Ft)&&Dw(p)&&Q(Ft)}if(p.deep&&Re.length){for(var Vn=0;Vn<Re.length;Vn++)ce(Re[Vn]);We&&(x=Xe)}var mn=["underline","line-through","overline"];He(mn,function(Bt){Yn(Ae)&&e.dom.getStyle(Ae,"text-decoration")===Bt&&Ae.parentNode&&Ow(A,Ae.parentNode)===Bt&&Sy(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Bt}},null,Ae)})},ve=function(Ae){var Xe=A.get(Ae?"_start":"_end"),We=Xe[Ae?"firstChild":"lastChild"];return Z(We)&&(We=We[Ae?"firstChild":"lastChild"]),gn(We)&&We.data.length===0&&(We=Ae?Xe.previousSibling||Xe.nextSibling:Xe.nextSibling||Xe.previousSibling),A.remove(Xe,!0),We},me=function(Ae){var Xe,We,Re=cd(e,Ae,v,Ae.collapsed);if(p.split){if(Re=cv(Re),Xe=dD(e,Re,!0),We=dD(e,Re),Xe!==We){if(Xe=sT(Xe,!0),We=sT(We,!1),vD(A,Xe,We)){var Qe=te.from(Xe.firstChild).getOr(Xe);X(mD(A,Qe,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ve(!0);return}if(vD(A,We,Xe)){var Qe=te.from(We.lastChild).getOr(We);X(mD(A,Qe,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ve(!1);return}Xe=lT(A,Xe,"span",{id:"_start","data-mce-type":"bookmark"}),We=lT(A,We,"span",{id:"_end","data-mce-type":"bookmark"});var xt=A.createRng();xt.setStartAfter(Xe),xt.setEndBefore(We),a1(A,xt,function(Ft){He(Ft,function(Vn){!Vu(Vn)&&!Vu(Vn.parentNode)&&X(Vn)})}),X(Xe),X(We),Xe=ve(!0),We=ve()}else Xe=We=X(Xe);Re.startContainer=Xe.parentNode?Xe.parentNode:Xe,Re.startOffset=A.nodeIndex(Xe),Re.endContainer=We.parentNode?We.parentNode:We,Re.endOffset=A.nodeIndex(We)+1}a1(A,Re,function(Ft){He(Ft,ce)})};if(i){if(R0(i)){var he=A.createRng();he.setStartBefore(i),he.setEndAfter(i),me(he)}else me(i);o1(e,n,i,a);return}if(A.getContentEditable(N.getNode())==="false"){i=N.getNode();for(var De=0;De<v.length&&!(v[De].ceFalseOverride&&Sy(e,v[De],a,i,i));De++);o1(e,n,i,a);return}!N.isCollapsed()||!Pi(p)||of(e).length?(gg(N,!0,function(){bm(e,me)}),Pi(p)&&$C(e,n,a,N.getStart())&&rx(A,N,N.getRng()),e.nodeChanged()):iD(e,n,a,l),o1(e,n,i,a)},gD=wt.each,Ak=function(e,n,a,i){var l=function(v){if(v.nodeType===1&&v.parentNode&&v.parentNode.nodeType===1){var p=Ow(e,v.parentNode);e.getStyle(v,"color")&&p?e.setStyle(v,"text-decoration",p):e.getStyle(v,"text-decoration")===p&&e.setStyle(v,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(wt.walk(i,l,"childNodes"),l(i))},pD=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&uT(i,cD(e,"fontSize"),fD(e,"backgroundColor",rf(n.styles.backgroundColor,a)))},PC=function(e,n,a,i){Pi(n)&&(n.inline==="sub"||n.inline==="sup")&&(uT(i,cD(e,"fontSize"),fD(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},IC=function(e,n,a,i){gD(n,function(l){Pi(l)&&gD(e.dom.select(l.inline,i),function(v){oT(v)&&Sy(e,l,a,v,l.exact?v:null)}),iT(e.dom,l,i)})},bD=function(e,n,a,i,l){uu(e,l.parentNode,a,i)&&Sy(e,n,i,l)||n.merge_with_parents&&e.dom.getParent(l.parentNode,function(v){if(uu(e,v,a,i))return Sy(e,n,i,l),!0})},Ek=wt.each,eP=function(e){return Yn(e)&&!Vu(e)&&!nf(e)&&!bo(e)},tP=function(e,n,a,i){if(cm(e)&&Pi(n)){var l=Ab(e.schema),v=P6(je.fromDom(a),function(p){return nf(p.dom)});return Gs(l,i)&&Ti(je.fromDom(a.parentNode),!1)&&!v}else return!1},vT=function(e,n,a,i){var l=e.formatter.get(n),v=l[0],p=!i&&e.selection.isCollapsed(),x=e.dom,A=e.selection,N=function(Xe,We){if(We===void 0&&(We=v),se(We.onformat)&&We.onformat(Xe,We,a,i),Ek(We.styles,function(Qe,xt){x.setStyle(Xe,xt,rf(Qe,a))}),We.styles){var Re=x.getAttrib(Xe,"style");Re&&x.setAttrib(Xe,"data-mce-style",Re)}Ek(We.attributes,function(Qe,xt){x.setAttrib(Xe,xt,rf(Qe,a))}),Ek(We.classes,function(Qe){Qe=rf(Qe,a),x.hasClass(Xe,Qe)||x.addClass(Xe,Qe)})},X=function(Xe,We){var Re=!1;return Ek(Xe,function(Qe){if(!vs(Qe))return!1;if(!(Ge(Qe.collapsed)&&Qe.collapsed!==p)&&x.is(We,Qe.selector)&&!nf(We))return N(We,Qe),Re=!0,!1}),Re},Z=function(Xe){if($e(Xe)){var We=x.create(Xe);return N(We),We}else return null},Q=function(Xe,We,Re){var Qe=[],xt=!0,Ft=v.inline||v.block,Vn=Z(Ft);a1(Xe,We,function(mn){var Bt,Ln=function(Vt){var vn=!1,jt=xt,Qt=Vt.nodeName.toLowerCase(),yn=Vt.parentNode,Pt=yn.nodeName.toLowerCase();if(Yn(Vt)&&Xe.getContentEditable(Vt)&&(jt=xt,xt=Xe.getContentEditable(Vt)==="true",vn=!0),wa(Vt)&&!tP(e,v,Vt,Pt)){Bt=null,af(v)&&Xe.remove(Vt);return}if(af(v)&&v.wrapper&&uu(e,Vt,n,a)){Bt=null;return}if(xt&&!vn&&af(v)&&!v.wrapper&&Aw(e,Qt)&&fg(e,Pt,Ft)){var hn=Xe.rename(Vt,Ft);N(hn),Qe.push(hn),Bt=null;return}if(vs(v)){var xr=X(l,Vt);if(!xr&&Ge(yn)&&Dw(v)&&(xr=X(l,yn)),!Pi(v)||xr){Bt=null;return}}xt&&!vn&&fg(e,Ft,Qt)&&fg(e,Pt,Ft)&&!(!Re&&gn(Vt)&&gu(Vt.data))&&!nf(Vt)&&(!Pi(v)||!Xe.isBlock(Vt))?(Bt||(Bt=Xe.clone(Vn,!1),Vt.parentNode.insertBefore(Bt,Vt),Qe.push(Bt)),Bt.appendChild(Vt)):(Bt=null,He(fr(Vt.childNodes),Ln),vn&&(xt=jt),Bt=null)};He(mn,Ln)}),v.links===!0&&He(Qe,function(mn){var Bt=function(Ln){Ln.nodeName==="A"&&N(Ln,v),He(fr(Ln.childNodes),Bt)};Bt(mn)}),He(Qe,function(mn){var Bt=function(vn){var jt=0;return He(vn.childNodes,function(Qt){!j4(Qt)&&!Vu(Qt)&&jt++}),jt},Ln=function(vn){var jt=rn(vn.childNodes,eP).filter(function(Qt){return JE(Xe,Qt,v)});return jt.map(function(Qt){var yn=Xe.clone(Qt,!1);return N(yn),Xe.replace(yn,vn,!0),Xe.remove(Qt,!0),yn}).getOr(vn)},Vt=Bt(mn);if((Qe.length>1||!Xe.isBlock(mn))&&Vt===0){Xe.remove(mn,!0);return}(Pi(v)||af(v)&&v.wrapper)&&(!v.exact&&Vt===1&&(mn=Ln(mn)),IC(e,l,a,mn),bD(e,v,n,a,mn),pD(Xe,v,a,mn),Ak(Xe,v,a,mn),PC(Xe,v,a,mn),lD(Xe,v,a,mn))})};if(x.getContentEditable(A.getNode())==="false"){i=A.getNode();for(var ce=0,ve=l.length;ce<ve;ce++){var me=l[ce];if(me.ceFalseOverride&&vs(me)&&x.is(i,me.selector)){N(i,me);break}}Ww(e,n,i,a);return}if(v){if(i)if(R0(i)){if(!X(l,i)){var he=x.createRng();he.setStartBefore(i),he.setEndAfter(i),Q(x,cd(e,he,l),!0)}}else Q(x,i,!0);else if(!p||!Pi(v)||of(e).length){var De=A.getNode(),Ae=l[0];!e.settings.forced_root_block&&Ae.defaultBlock&&!x.getParent(De,x.isBlock)&&vT(e,Ae.defaultBlock),A.setRng(HE(A.getRng())),gg(A,!0,function(){bm(e,function(Xe,We){var Re=We?Xe:cd(e,Xe,l);Q(x,Re,!1)})}),rx(x,A,A.getRng()),e.nodeChanged()}else H6(e,n,a);sD(n,e)}Ww(e,n,i,a)},yD=function(e){return Tr(e,"vars")},nP=function(e,n){e.set({}),n.on("NodeChange",function(a){_y(n,a.element,e.get())}),n.on("FormatApply FormatRemove",function(a){var i=te.from(a.node).map(function(l){return R0(l)?l:l.startContainer}).bind(function(l){return Yn(l)?te.some(l):te.from(l.parentElement)}).getOrThunk(function(){return wD(n)});_y(n,i,e.get())})},wD=function(e){return e.selection.getStart()},dT=function(e,n,a,i,l){var v=function(x){var A=e.formatter.matchNode(x,a,l??{},i);return!Te(A)},p=function(x){return eD(e,x,a)?!0:i?!1:Ge(e.formatter.matchNode(x,a,l,!0))};return zt(n,v,p)},CD=function(e,n){var a=n??wD(e);return it(t1(e.dom,a),function(i){return Yn(i)&&!bo(i)})},_y=function(e,n,a){var i=CD(e,n);Vr(a,function(l,v){var p=function(x){var A=dT(e,i,v,x.similar,yD(x)?x.vars:void 0),N=A.isSome();if(x.state.get()!==N){x.state.set(N);var X=A.getOr(n);yD(x)?x.callback(N,{node:X,format:v,parents:i}):He(x.callbacks,function(Z){return Z(N,{node:X,format:v,parents:i})})}};He([l.withSimilar,l.withoutSimilar],p),He(l.withVars,p)})},rP=function(e,n,a,i,l,v){var p=n.get();He(a.split(","),function(x){var A=Ir(p,x).getOrThunk(function(){var Z={withSimilar:{state:yu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:yu(!1),similar:!1,callbacks:[]},withVars:[]};return p[x]=Z,Z}),N=function(){var Z=CD(e);return dT(e,Z,x,l,v).isSome()};if(Te(v)){var X=l?A.withSimilar:A.withoutSimilar;X.callbacks.push(i),X.callbacks.length===1&&X.state.set(N())}else A.withVars.push({state:yu(N()),similar:l,vars:v,callback:i})}),n.set(p)},aP=function(e,n,a){var i=e.get();He(n.split(","),function(l){return Ir(i,l).each(function(v){i[l]={withSimilar:Wn(Wn({},v.withSimilar),{callbacks:it(v.withSimilar.callbacks,function(p){return p!==a})}),withoutSimilar:Wn(Wn({},v.withoutSimilar),{callbacks:it(v.withoutSimilar.callbacks,function(p){return p!==a})}),withVars:it(v.withVars,function(p){return p.callback!==a})}})}),e.set(i)},oP=function(e,n,a,i,l,v){return n.get()===null&&nP(n,e),rP(e,n,a,i,l,v),{unbind:function(){return aP(n,a,i)}}},iP=function(e,n,a,i){var l=e.formatter.get(n);$C(e,n,a,i)&&(!("toggle"in l[0])||l[0].toggle)?fT(e,n,a,i):vT(e,n,a,i)},Tk=function(e,n){var a=n||document,i=a.createDocumentFragment();return He(e,function(l){i.appendChild(l.dom)}),je.fromDom(i)},Ok=function(e,n,a){return{element:e,width:n,rows:a}},mT=function(e,n){return{element:e,cells:n}},SD=function(e,n){return{x:e,y:n}},Dk=function(e,n){var a=parseInt(ae(e,n),10);return isNaN(a)?1:a},_D=function(e,n,a,i,l){for(var v=Dk(l,"rowspan"),p=Dk(l,"colspan"),x=e.rows,A=a;A<a+v;A++){x[A]||(x[A]=mT(Zb(i),[]));for(var N=n;N<n+p;N++){var X=x[A].cells;X[N]=A===a&&N===n?l:No(l)}}},uP=function(e,n,a){var i=e.rows,l=i[a]?i[a].cells:[];return!!l[n]},sP=function(e,n,a){for(;uP(e,n,a);)n++;return n},xD=function(e){return Rt(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},kD=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var l=a[i].cells,v=0;v<l.length;v++)if($a(l[v],n))return te.some(SD(v,i));return te.none()},AD=function(e,n,a,i,l){for(var v=[],p=e.rows,x=a;x<=l;x++){var A=p[x].cells,N=n<i?A.slice(n,i+1):A.slice(i,n+1);v.push(mT(p[x].element,N))}return v},hT=function(e,n,a){var i=n.x,l=n.y,v=a.x,p=a.y,x=l<p?AD(e,i,l,v,p):AD(e,i,p,v,l);return Ok(e.element,xD(x),x)},gT=function(e,n){var a=No(e.element),i=je.fromTag("tbody");return Hf(i,n),Ho(a,i),a},ED=function(e){return tt(e.rows,function(n){var a=tt(n.cells,function(l){var v=Zb(l);return bt(v,"colspan"),bt(v,"rowspan"),v}),i=No(n.element);return Hf(i,a),i})},Rk=function(e){var n=Ok(No(e),0,[]);return He($i(e,"tr"),function(a,i){He($i(a,"td,th"),function(l,v){_D(n,sP(n,v,i),i,a,l)})}),Ok(n.element,xD(n.rows),n.rows)},Fl=function(e){return gT(e,ED(e))},NC=function(e,n,a){return kD(e,n).bind(function(i){return kD(e,a).map(function(l){return hT(e,i,l)})})},k1=function(e){return rn(e,function(n){return xo(n)==="ul"||xo(n)==="ol"})},lP=function(e,n){return rn(e,function(a){return xo(a)==="li"&&Pl(a,n)}).fold(W([]),function(a){return k1(e).map(function(i){var l=je.fromTag(xo(i)),v=lo(ao(i),function(p,x){return po(x,"list-style")});return Or(l,v),[je.fromTag("li"),l]}).getOr([])})},TD=function(e,n){var a=Rt(n,function(i,l){return Ho(l,i),l},e);return n.length>0?Tk([a]):a},OD=function(e){return Gi(e)?ro(e).filter(El).fold(W([]),function(n){return[e,n]}):El(e)?[e]:[]},cP=function(e,n){var a=je.fromDom(n.commonAncestorContainer),i=yc(a,e),l=it(i,function(x){return tu(x)||Jn(x)}),v=lP(i,n),p=l.concat(v.length?v:OD(a));return tt(p,No)},DD=function(){return Tk([])},fP=function(e,n){return TD(je.fromDom(n.cloneContents()),cP(e,n))},RD=function(e,n){return Ld(n,"table",le($a,e))},$k=function(e,n){return RD(e,n[0]).bind(function(a){var i=n[0],l=n[n.length-1],v=Rk(a);return NC(v,i,l).map(function(p){return Tk([Fl(p)])})}).getOrThunk(DD)},$D=function(e,n){return n.length>0&&n[0].collapsed?DD():fP(e,n[0])},BD=function(e,n){var a=lv(n,e);return a.length>0?$k(e,a):$D(e,n)},Bk=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},Mk=function(e,n){return n>=0&&n<e.length&&ld(e.charAt(n))},MD=function(e,n){var a=uc(e.innerText);return n?Bk(a):a},vP=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},dP=function(e){return te.from(e.selection.getRng()).map(function(n){var a=te.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),l=vP(a),v=Hn.browser.isIE()&&l!=="pre",p=e.dom.add(i,l,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),x=MD(p,v),A=uc(p.textContent);if(e.dom.remove(p),Mk(A,0)||Mk(A,A.length-1)){var N=a.getOr(i),X=MD(N,v),Z=X.indexOf(x);if(Z===-1)return x;var Q=Mk(X,Z-1),ce=Mk(X,Z+x.length);return(Q?" ":"")+x+(ce?" ":"")}else return x}).getOr("")},mP=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),l=e.selection.getSel(),v=ey(e,Mw(l)),p=n.contextual?BD(je.fromDom(e.getBody()),v).dom:a.cloneContents();return p&&i.appendChild(p),e.selection.serializer.serialize(i,n)},hP=function(e,n){return Wn(Wn({},e),{format:n,get:!0,selection:!0})},gP=function(e,n,a){a===void 0&&(a={});var i=hP(a,n),l=e.fire("BeforeGetContent",i);if(l.isDefaultPrevented())return e.fire("GetContent",l),l.content;if(l.format==="text")return dP(e);l.getInner=!0;var v=mP(e,l);return l.format==="tree"?v:(l.content=e.selection.isCollapsed()?"":v,e.fire("GetContent",l),l.content)},pT=0,PD=1,ID=2,pP=function(e,n){var a=e.length+n.length+2,i=new Array(a),l=new Array(a),v=function(X,Z,Q){return{start:X,end:Z,diag:Q}},p=function(X,Z,Q,ce,ve){var me=A(X,Z,Q,ce);if(me===null||me.start===Z&&me.diag===Z-ce||me.end===X&&me.diag===X-Q)for(var he=X,De=Q;he<Z||De<ce;)he<Z&&De<ce&&e[he]===n[De]?(ve.push([pT,e[he]]),++he,++De):Z-X>ce-Q?(ve.push([ID,e[he]]),++he):(ve.push([PD,n[De]]),++De);else{p(X,me.start,Q,me.start-me.diag,ve);for(var Ae=me.start;Ae<me.end;++Ae)ve.push([pT,e[Ae]]);p(me.end,Z,me.end-me.diag,ce,ve)}},x=function(X,Z,Q,ce){for(var ve=X;ve-Z<ce&&ve<Q&&e[ve]===n[ve-Z];)++ve;return v(X,ve,Z)},A=function(X,Z,Q,ce){var ve=Z-X,me=ce-Q;if(ve===0||me===0)return null;var he=ve-me,De=me+ve,Ae=(De%2===0?De:De+1)/2;i[1+Ae]=X,l[1+Ae]=Z+1;var Xe,We,Re,Qe,xt;for(Xe=0;Xe<=Ae;++Xe){for(We=-Xe;We<=Xe;We+=2){for(Re=We+Ae,We===-Xe||We!==Xe&&i[Re-1]<i[Re+1]?i[Re]=i[Re+1]:i[Re]=i[Re-1]+1,Qe=i[Re],xt=Qe-X+Q-We;Qe<Z&&xt<ce&&e[Qe]===n[xt];)i[Re]=++Qe,++xt;if(he%2!==0&&he-Xe<=We&&We<=he+Xe&&l[Re-he]<=i[Re])return x(l[Re-he],We+X-Q,Z,ce)}for(We=he-Xe;We<=he+Xe;We+=2){for(Re=We+Ae-he,We===he-Xe||We!==he+Xe&&l[Re+1]<=l[Re-1]?l[Re]=l[Re+1]-1:l[Re]=l[Re-1],Qe=l[Re]-1,xt=Qe-X+Q-We;Qe>=X&&xt>=Q&&e[Qe]===n[xt];)l[Re]=Qe--,xt--;if(he%2===0&&-Xe<=We&&We<=Xe&&l[Re]<=i[Re+he])return x(l[Re],We+X-Q,Z,ce)}}},N=[];return p(0,e.length,0,n.length,N),N},ND=function(e){return Yn(e)?e.outerHTML:gn(e)?$s.encodeRaw(e.data,!1):Kf(e)?"<!--"+e.data+"-->":""},bT=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},bP=function(e,n,a){var i=bT(n);if(e.hasChildNodes()&&a<e.childNodes.length){var l=e.childNodes[a];l.parentNode.insertBefore(i,l)}else e.appendChild(i)},xy=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},zD=function(e,n){var a=0;He(e,function(i){i[0]===pT?a++:i[0]===PD?(bP(n,i[1],a),a++):i[0]===ID&&xy(n,a)})},ti=function(e){return it(tt(fr(e.childNodes),ND),function(n){return n.length>0})},yP=function(e,n){var a=tt(fr(n.childNodes),ND);return zD(pP(a,e),n),n},wP=Bc(function(){return document.implementation.createHTMLDocument("undo")}),CP=function(e){return e.indexOf("</iframe>")!==-1},SP=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},hf=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},ky=function(e){var n=ti(e.getBody()),a=cr(n,function(l){var v=Xx(e.serializer,l);return v.length>0?[v]:[]}),i=a.join("");return CP(i)?SP(a):hf(i)},A1=function(e,n,a){var i=a?n.beforeBookmark:n.bookmark;n.type==="fragmented"?yP(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Ge(i)&&Y_(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},E1=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},Pk=function(e){var n=je.fromTag("body",wP());return Su(n,E1(e)),He($i(n,"*[data-mce-bogus]"),Uf),Cu(n)},_P=function(e,n){return E1(e)===E1(n)},xP=function(e,n){return Pk(e)===Pk(n)},Tm=function(e,n){return!e||!n?!1:_P(e,n)?!0:xP(e,n)},Fg=function(e){return e.get()===0},Om=function(e,n,a){Fg(a)&&(e.typing=n)},Ik=function(e,n){e.typing&&(Om(e,!1,n),e.add())},kP=function(e){e.typing&&(e.typing=!1,e.add())},yT=function(e,n,a){Fg(n)&&a.set(k_(e.selection))},FD=function(e,n,a,i,l,v,p){var x=ky(e);if(v=v||{},v=wt.extend(v,x),Fg(i)===!1||e.removed)return null;var A=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:v,lastLevel:A,originalEvent:p}).isDefaultPrevented()||A&&Tm(A,v))return null;n.data[a.get()]&&l.get().each(function(Q){n.data[a.get()].beforeBookmark=Q});var N=Zp(e);if(N&&n.data.length>N){for(var X=0;X<n.data.length-1;X++)n.data[X]=n.data[X+1];n.data.length--,a.set(n.data.length)}v.bookmark=k_(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(v),a.set(n.data.length-1);var Z={level:v,lastLevel:A,originalEvent:p};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",Z),e.fire("change",Z)):e.fire("AddUndo",Z),v},LD=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},AP=function(e,n,a,i,l){if(n.transact(i)){var v=n.data[a.get()].bookmark,p=n.data[a.get()-1];A1(e,p,!0),n.transact(l)&&(n.data[a.get()-1].beforeBookmark=v)}},EP=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],A1(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},HD=function(e,n,a,i){var l;return n.typing&&(n.add(),n.typing=!1,Om(n,!1,a)),i.get()>0&&(i.set(i.get()-1),l=n.data[i.get()],A1(e,l,!0),e.setDirty(!0),e.fire("Undo",{level:l})),l},TP=function(e){e.clear(),e.add()},OP=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!Tm(ky(e),n.data[0])},DP=function(e,n){return n.get()<e.data.length-1&&!e.typing},RP=function(e,n,a){return Ik(e,n),e.beforeChange(),e.ignore(a),e.add()},$P=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},VD=function(e,n){var a=e.dom,i=Ge(n)?n:e.getBody();Te(e.hasVisual)&&(e.hasVisual=N_(e)),He(a.select("table,a",i),function(l){switch(l.nodeName){case"TABLE":var v=k4(e),p=a.getAttrib(l,"border");(!p||p==="0")&&e.hasVisual?a.addClass(l,v):a.removeClass(l,v);break;case"A":if(!a.getAttrib(l,"href")){var x=a.getAttrib(l,"name")||l.id,A=cw(e);x&&e.hasVisual?a.addClass(l,A):a.removeClass(l,A)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},UD=function(e){return{undoManager:{beforeChange:function(n,a){return yT(e,n,a)},add:function(n,a,i,l,v,p){return FD(e,n,a,i,l,v,p)},undo:function(n,a,i){return HD(e,n,a,i)},redo:function(n,a){return EP(e,n,a)},clear:function(n,a){return LD(e,n,a)},reset:function(n){return TP(n)},hasUndo:function(n,a){return OP(e,n,a)},hasRedo:function(n,a){return DP(n,a)},transact:function(n,a,i){return RP(n,a,i)},ignore:function(n,a){return $P(n,a)},extra:function(n,a,i,l){return AP(e,n,a,i,l)}},formatter:{match:function(n,a,i,l){return $C(e,n,a,i,l)},matchAll:function(n,a){return ZE(e,n,a)},matchNode:function(n,a,i,l){return uu(e,n,a,i,l)},canApply:function(n){return N6(e,n)},closest:function(n){return QE(e,n)},apply:function(n,a,i){return vT(e,n,a,i)},remove:function(n,a,i,l){return fT(e,n,a,i,l)},toggle:function(n,a,i){return iP(e,n,a,i)},formatChanged:function(n,a,i,l,v){return oP(e,n,a,i,l,v)}},editor:{getContent:function(n,a){return iy(e,n,a)},setContent:function(n,a){return M6(e,n,a)},insertContent:function(n,a){return O6(e,n,a)},addVisual:function(n){return VD(e,n)}},selection:{getContent:function(n,a){return gP(e,n,a)}},raw:{getModel:function(){return te.none()}}}},zC=function(e){var n=function(x){return de(x)?x:{}},a=e.undoManager,i=e.formatter,l=e.editor,v=e.selection,p=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(x,A,N){return a.transact(N)},ignore:function(x,A){return a.ignore(A)},extra:function(x,A,N,X){return a.extra(N,X)}},formatter:{match:function(x,A,N,X){return i.match(x,n(A),X)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(x){return i.canApply(x)},closest:function(x){return i.closest(x)},apply:function(x,A,N){return i.apply(x,n(A))},remove:function(x,A,N,X){return i.remove(x,n(A))},toggle:function(x,A,N){return i.toggle(x,n(A))},formatChanged:function(x,A,N,X,Z){return i.formatChanged(A,N,X,Z)}},editor:{getContent:function(x,A){return l.getContent(x)},setContent:function(x,A){return l.setContent(x,A)},insertContent:function(x,A){return l.insertContent(x)},addVisual:l.addVisual},selection:{getContent:function(x,A){return v.getContent(A)}},raw:{getModel:function(){return te.some(p.getRawModel())}}}},WD=function(){var e=W(null),n=W("");return{undoManager:{beforeChange:ye,add:e,undo:e,redo:e,clear:ye,reset:ye,hasUndo:at,hasRedo:at,transact:e,ignore:ye,extra:ye},formatter:{match:at,matchAll:W([]),matchNode:W(void 0),canApply:at,closest:n,apply:ye,remove:ye,toggle:ye,formatChanged:W({unbind:ye})},editor:{getContent:n,setContent:n,insertContent:ye,addVisual:ye},selection:{getContent:n},raw:{getModel:W(te.none())}}},Dm=function(e){return Tr(e.plugins,"rtc")},jD=function(e){return Ir(e.plugins,"rtc").bind(function(n){return te.from(n.setup)})},BP=function(e){var n=e;return jD(e).fold(function(){return n.rtcInstance=UD(e),te.none()},function(a){return n.rtcInstance=WD(),te.some(function(){return a().then(function(i){return n.rtcInstance=zC(i),i.rtc.isRemote})})})},Nk=function(e){return e.rtcInstance?e.rtcInstance:UD(e)},Ni=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},MP=function(e,n,a){Ni(e).undoManager.beforeChange(n,a)},GD=function(e,n,a,i,l,v,p){return Ni(e).undoManager.add(n,a,i,l,v,p)},qD=function(e,n,a,i){return Ni(e).undoManager.undo(n,a,i)},KD=function(e,n,a){return Ni(e).undoManager.redo(n,a)},XD=function(e,n,a){Ni(e).undoManager.clear(n,a)},YD=function(e,n){Ni(e).undoManager.reset(n)},PP=function(e,n,a){return Ni(e).undoManager.hasUndo(n,a)},IP=function(e,n,a){return Ni(e).undoManager.hasRedo(n,a)},NP=function(e,n,a,i){return Ni(e).undoManager.transact(n,a,i)},zP=function(e,n,a){Ni(e).undoManager.ignore(n,a)},wT=function(e,n,a,i,l){Ni(e).undoManager.extra(n,a,i,l)},FC=function(e,n,a,i,l){return Ni(e).formatter.match(n,a,i,l)},JD=function(e,n,a){return Ni(e).formatter.matchAll(n,a)},ZD=function(e,n,a,i,l){return Ni(e).formatter.matchNode(n,a,i,l)},zk=function(e,n){return Ni(e).formatter.canApply(n)},FP=function(e,n){return Ni(e).formatter.closest(n)},LP=function(e,n,a,i){Ni(e).formatter.apply(n,a,i)},Lg=function(e,n,a,i,l){Ni(e).formatter.remove(n,a,i,l)},CT=function(e,n,a,i){Ni(e).formatter.toggle(n,a,i)},QD=function(e,n,a,i,l,v){return Ni(e).formatter.formatChanged(n,a,i,l,v)},LC=function(e,n,a){return Nk(e).editor.getContent(n,a)},eR=function(e,n,a){return Nk(e).editor.setContent(n,a)},tR=function(e,n,a){return Nk(e).editor.insertContent(n,a)},nR=function(e,n,a){return Ni(e).selection.getContent(n,a)},rR=function(e,n){return Ni(e).editor.addVisual(n)},HP=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return nR(e,a,n)},aR=function(e){return e.dom.length===0?(vo(e),te.none()):te.some(e)},VP=function(e,n){return e.filter(function(a){return dd.isBookmarkNode(a.dom)}).bind(n?ks:Ff)},ST=function(e,n,a,i){var l=e.dom,v=n.dom,p=i?l.length:v.length;i?(u(l,v,!1,!i),a.setStart(v,p)):(u(v,l,!1,!i),a.setEnd(v,p))},UP=function(e,n){ro(e).each(function(a){var i=e.dom;n&&vy(a,dt(i,0))?C1(i,0):!n&&dy(a,dt(i,i.length))&&hy(i,i.length)})},oR=function(e,n,a,i){e.bind(function(l){var v=i?hy:C1;return v(l.dom,i?l.dom.length:0),n.filter(Xa).map(function(p){return ST(l,p,a,i)})}).orThunk(function(){var l=VP(n,i).or(n).filter(Xa);return l.map(function(v){return UP(v,i)})})},HC=function(e,n){var a=te.from(n.firstChild).map(je.fromDom),i=te.from(n.lastChild).map(je.fromDom);e.deleteContents(),e.insertNode(n);var l=a.bind(Ff).filter(Xa).bind(aR),v=i.bind(ks).filter(Xa).bind(aR);oR(l,a,e,!0),oR(v,i,e,!1),e.collapse(!1)},_T=function(e,n){return Wn(Wn({format:"html"},e),{set:!0,selection:!0,content:n})},WP=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),l=i?{context:i.nodeName.toLowerCase()}:{},v=e.parser.parse(n.content,Wn(Wn({isRootContent:!0,forced_root_block:!1},l),n));return Em({validate:e.validate},e.schema).serialize(v)}else return n.content},iR=function(e,n,a){a===void 0&&(a={});var i=_T(a,n),l=i;if(!i.no_events){var v=e.fire("BeforeSetContent",i);if(v.isDefaultPrevented()){e.fire("SetContent",v);return}else l=v}l.content=WP(e,l);var p=e.selection.getRng();HC(p,p.createContextualFragment(l.content)),e.selection.setRng(p),c1(e,p),l.no_events||e.fire("SetContent",l)},uR=function(e,n,a){if(e&&Tr(e,n)){var i=it(e[n],function(l){return l!==a});i.length===0?delete e[n]:e[n]=i}};function Fk(e,n){var a,i,l=function(p,x){return rn(x,function(A){return e.is(A,p)})},v=function(p){return e.getParents(p,null,e.getRoot())};return{selectorChangedWithUnbind:function(p,x){return a||(a={},i={},n.on("NodeChange",function(A){var N=A.element,X=v(N),Z={};wt.each(a,function(Q,ce){l(ce,X).each(function(ve){i[ce]||(He(Q,function(me){me(!0,{node:ve,selector:ce,parents:X})}),i[ce]=Q),Z[ce]=Q})}),wt.each(i,function(Q,ce){Z[ce]||(delete i[ce],wt.each(Q,function(ve){ve(!1,{node:N,selector:ce,parents:X})}))})})),a[p]||(a[p]=[]),a[p].push(x),l(p,v(n.selection.getStart())).each(function(){i[p]=a[p]}),{unbind:function(){uR(a,p,x),uR(i,p,x)}}}}}var xT=function(e){return!!e.select},sR=function(e){return!!(e&&e.ownerDocument)&&Hi(je.fromDom(e.ownerDocument),je.fromDom(e))},hi=function(e){return e?xT(e)?!0:sR(e.startContainer)&&sR(e.endContainer):!1},lR=function(e,n,a,i){var l,v,p=Fk(e,i).selectorChangedWithUnbind,x=function(Pt,hn){var xr=e.createRng();Ge(Pt)&&Ge(hn)?(xr.setStart(Pt,hn),xr.setEnd(Pt,hn),Xe(xr),he(!1)):(fd(e,xr,i.getBody(),!0),Xe(xr))},A=function(Pt){return HP(i,Pt)},N=function(Pt,hn){return iR(i,Pt,hn)},X=function(Pt){return Am(i.getBody(),Ae(),Pt)},Z=function(Pt){return _g(i.getBody(),Ae(),Pt)},Q=function(Pt,hn){return Qt.getBookmark(Pt,hn)},ce=function(Pt){return Qt.moveToBookmark(Pt)},ve=function(Pt,hn){return bE(e,Pt,hn).each(Xe),Pt},me=function(){var Pt=Ae(),hn=De();return!Pt||Pt.item?!1:Pt.compareEndPoints?Pt.compareEndPoints("StartToEnd",Pt)===0:!hn||Pt.collapsed},he=function(Pt){var hn=Ae();hn.collapse(!!Pt),Xe(hn)},De=function(){return n.getSelection?n.getSelection():n.document.selection},Ae=function(){var Pt,hn,xr,ra=function(uo,ju,ps){try{return ju.compareBoundaryPoints(uo,ps)}catch{return-1}},Zr=n.document;if(i.bookmark!==void 0&&sl(i)===!1){var zi=wg(i);if(zi.isSome())return zi.map(function(uo){return ey(i,[uo])[0]}).getOr(Zr.createRange())}try{(Pt=De())&&!Fc(Pt.anchorNode)&&(Pt.rangeCount>0?hn=Pt.getRangeAt(0):hn=Pt.createRange?Pt.createRange():Zr.createRange(),hn=ey(i,[hn])[0])}catch{}return hn||(hn=Zr.createRange?Zr.createRange():Zr.body.createTextRange()),hn.setStart&&hn.startContainer.nodeType===9&&hn.collapsed&&(xr=e.getRoot(),hn.setStart(xr,0),hn.setEnd(xr,0)),l&&v&&(ra(hn.START_TO_START,hn,l)===0&&ra(hn.END_TO_END,hn,l)===0?hn=v:(l=null,v=null)),hn},Xe=function(Pt,hn){var xr;if(hi(Pt)){var ra=xT(Pt)?Pt:null;if(ra){v=null;try{ra.select()}catch{}return}var Zr=De(),zi=i.fire("SetSelectionRange",{range:Pt,forward:hn});if(Pt=zi.range,Zr){v=Pt;try{Zr.removeAllRanges(),Zr.addRange(Pt)}catch{}hn===!1&&Zr.extend&&(Zr.collapse(Pt.endContainer,Pt.endOffset),Zr.extend(Pt.startContainer,Pt.startOffset)),l=Zr.rangeCount>0?Zr.getRangeAt(0):null}!Pt.collapsed&&Pt.startContainer===Pt.endContainer&&Zr.setBaseAndExtent&&!Hn.ie&&Pt.endOffset-Pt.startOffset<2&&Pt.startContainer.hasChildNodes()&&(xr=Pt.startContainer.childNodes[Pt.startOffset],xr&&xr.tagName==="IMG"&&(Zr.setBaseAndExtent(Pt.startContainer,Pt.startOffset,Pt.endContainer,Pt.endOffset),(Zr.anchorNode!==Pt.startContainer||Zr.focusNode!==Pt.endContainer)&&Zr.setBaseAndExtent(xr,0,xr,1))),i.fire("AfterSetSelectionRange",{range:Pt,forward:hn})}},We=function(Pt){return N(e.getOuterHTML(Pt)),Pt},Re=function(){return Ux(i.getBody(),Ae())},Qe=function(Pt,hn){return Q0(e,Ae(),Pt,hn)},xt=function(){var Pt=De(),hn=Pt==null?void 0:Pt.anchorNode,xr=Pt==null?void 0:Pt.focusNode;if(!Pt||!hn||!xr||Fc(hn)||Fc(xr))return!0;var ra=e.createRng();ra.setStart(hn,Pt.anchorOffset),ra.collapse(!0);var Zr=e.createRng();return Zr.setStart(xr,Pt.focusOffset),Zr.collapse(!0),ra.compareBoundaryPoints(ra.START_TO_START,Zr)<=0},Ft=function(){var Pt=Ae(),hn=De();if(!Iw(hn)&&vd(i)){var xr=U0(e,Pt);return xr.each(function(ra){Xe(ra,xt())}),xr.getOr(Pt)}return Pt},Vn=function(Pt,hn){return p(Pt,hn),jt},mn=function(){for(var Pt,hn=e.getRoot();hn&&hn.nodeName!=="BODY";){if(hn.scrollHeight>hn.clientHeight){Pt=hn;break}hn=hn.parentNode}return Pt},Bt=function(Pt,hn){Ge(Pt)?fE(i,Pt,hn):c1(i,Ae(),hn)},Ln=function(Pt,hn){return Xe(qw(Pt,hn,i.getDoc()))},Vt=function(){var Pt=Ae();return Pt.collapsed?dt.fromRangeStart(Pt).getClientRects()[0]:Pt.getBoundingClientRect()},vn=function(){n=l=v=null,yn.destroy()},jt={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:he,setCursorLocation:x,getContent:A,setContent:N,getBookmark:Q,moveToBookmark:ce,select:ve,isCollapsed:me,isForward:xt,setNode:We,getNode:Re,getSel:De,setRng:Xe,getRng:Ae,getStart:X,getEnd:Z,getSelectedBlocks:Qe,normalize:Ft,selectorChanged:Vn,selectorChangedWithUnbind:p,getScrollContainer:mn,scrollIntoView:Bt,placeCaretAt:Ln,getBoundingClientRect:Vt,destroy:vn},Qt=dd(jt),yn=jw(jt,i);return jt.bookmarkManager=Qt,jt.controlSelection=yn,jt},cR=function(e,n){He(n,function(a){e.attr(a,null)})},jP=function(e,n,a){e.addNodeFilter("font",function(i){He(i,function(l){var v=n.parse(l.attr("style")),p=l.attr("color"),x=l.attr("face"),A=l.attr("size");p&&(v.color=p),x&&(v["font-family"]=x),A&&(v["font-size"]=a[parseInt(l.attr("size"),10)-1]),l.name="span",l.attr("style",n.serialize(v)),cR(l,["color","face","size"])})})},GP=function(e,n){e.addNodeFilter("strike",function(a){He(a,function(i){var l=n.parse(i.attr("style"));l["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(l))})})},fR=function(e,n){var a=Rl();n.convert_fonts_to_spans&&jP(e,a,wt.explode(n.font_size_legacy_values)),GP(e,a)},qP=function(e,n){n.inline_styles&&fR(e,n)},kT=function(e){return new si(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="blob",l.onload=function(){l.status===200?n(l.response):i()},l.onerror=i,l.send()}catch{i()}})},AT=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},ET=function(e,n){var a;try{a=atob(n)}catch{return te.none()}for(var i=new Uint8Array(a.length),l=0;l<i.length;l++)i[l]=a.charCodeAt(l);return te.some(new Blob([i],{type:e}))},TT=function(e){return new si(function(n){var a=AT(e),i=a.type,l=a.data;ET(i,l).fold(function(){return n(new Blob([]))},n)})},vR=function(e){return e.indexOf("blob:")===0?kT(e):e.indexOf("data:")===0?TT(e):null},KP=function(e){return new si(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},XP=0,OT=function(e){return(e||"blobid")+XP++},YP=function(e,n,a,i){var l,v;if(n.src.indexOf("blob:")===0){v=e.getByUri(n.src),v?a({image:n,blobInfo:v}):vR(n.src).then(function(N){KP(N).then(function(X){l=AT(X).data,v=e.create(OT(),N,l),e.add(v),a({image:n,blobInfo:v})})},function(N){i(N)});return}var p=AT(n.src),x=p.data,A=p.type;l=x,v=e.getByData(l,A),v?a({image:n,blobInfo:v}):vR(n.src).then(function(N){v=e.create(OT(),N,l),e.add(v),a({image:n,blobInfo:v})},function(N){i(N)})},dR=function(e){return e?fr(e.getElementsByTagName("img")):[]},mR=function(e,n){var a={},i=function(l,v){v||(v=ot);var p=it(dR(l),function(A){var N=A.src;return!Hn.fileApi||A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!N||N===Hn.transparentSrc?!1:N.indexOf("blob:")===0?!e.isUploaded(N)&&v(A):N.indexOf("data:")===0?v(A):!1}),x=tt(p,function(A){if(a[A.src]!==void 0)return new si(function(X){a[A.src].then(function(Z){if(typeof Z=="string")return Z;X({image:A,blobInfo:Z.blobInfo})})});var N=new si(function(X,Z){YP(n,A,X,Z)}).then(function(X){return delete a[X.image.src],X}).catch(function(X){return delete a[A.src],X});return a[A.src]=N,N});return si.all(x)};return{findAll:i}},VC=function(e,n,a,i){var l=e.padd_empty_with_br||n.insert;l&&a[i.name]?i.empty().append(new ll("br",1)).shortEnded=!0:i.empty().append(new ll("#text",3)).value=us},hR=function(e){return DT(e,"#text")&&e.firstChild.value===us},DT=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},gR=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},Ay=function(e,n,a,i){return i.isEmpty(n,a,function(l){return gR(e,l)})},pR=function(e,n){return e&&(Tr(n,e.name)||e.name==="br")},bR=function(e){return Ge(e.attr("data-mce-bogus"))},JP=function(e){return e.attr("src")===Hn.transparentSrc||Ge(e.attr("data-mce-placeholder"))},RT=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),Vr(e.attributes.map,function(i,l){a.setAttribute(l,i)}),n.images_dataimg_filter(a)}else return!0},ZP=function(e,n){var a=n.blob_cache,i=function(l){var v=l.attr("src");JP(l)||bR(l)||jx(v).filter(function(){return RT(l,n)}).bind(function(p){var x=p.type,A=p.data;return te.from(a.getByData(A,x)).orThunk(function(){return ET(x,A).map(function(N){var X=a.create(OT(),N,A);return a.add(X),X})})}).each(function(p){l.attr("src",p.blobUri())})};a&&e.addAttributeFilter("src",function(l){return He(l,i)})},Lk=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,l,v){var p,x=i.length,A,N=wt.extend({},a.getBlockElements()),X=a.getNonEmptyElements(),Z,Q,ce,ve,me=a.getWhiteSpaceElements(),he,De;for(N.body=1,p=0;p<x;p++)if(A=i[p],Z=A.parent,N[A.parent.name]&&A===Z.lastChild){for(ce=A.prev;ce;){if(ve=ce.name,ve!=="span"||ce.attr("data-mce-type")!=="bookmark"){ve==="br"&&(A=null);break}ce=ce.prev}A&&(A.remove(),Ay(a,X,me,Z)&&(he=a.getElementRule(Z.name),he&&(he.removeEmpty?Z.remove():he.paddEmpty&&VC(n,v,N,Z))))}else{for(Q=A;Z&&Z.firstChild===Q&&Z.lastChild===Q&&(Q=Z,!N[Z.name]);)Z=Z.parent;Q===Z&&n.padd_empty_with_br!==!0&&(De=new ll("#text",3),De.value=us,A.replace(De))}}),e.addAttributeFilter("href",function(i){var l=i.length,v=function(A){var N=A.split(" ").filter(function(X){return X.length>0});return N.concat(["noopener"]).sort().join(" ")},p=function(A){var N=A?wt.trim(A):"";return/\b(noopener)\b/g.test(N)?N:v(N)};if(!n.allow_unsafe_link_target)for(;l--;){var x=i[l];x.name==="a"&&x.attr("target")==="_blank"&&x.attr("rel",p(x.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var l=i.length,v,p,x,A;l--;)if(A=i[l],A.name==="a"&&A.firstChild&&!A.attr("href")){x=A.parent,v=A.lastChild;do p=v.prev,x.insert(v,A),v=p;while(v)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var l=i.length,v,p;l--;)if(v=i[l],p=v.parent,p.name==="ul"||p.name==="ol")if(v.prev&&v.prev.name==="li")v.prev.append(v);else{var x=new ll("li",1);x.attr("style","list-style-type: none"),v.wrap(x)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var l=a.getValidClasses(),v=i.length;v--;){for(var p=i[v],x=p.attr("class").split(" "),A="",N=0;N<x.length;N++){var X=x[N],Z=!1,Q=l["*"];Q&&Q[X]&&(Z=!0),Q=l[p.name],!Z&&Q&&Q[X]&&(Z=!0),Z&&(A&&(A+=" "),A+=X)}A.length||(A=null),p.attr("class",A)}}),ZP(e,n)},yR=wt.makeMap,wR=wt.each,CR=wt.explode,SR=wt.extend,Hk=function(e,n){n===void 0&&(n=Bs());var a={},i=[],l={},v={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var p=function(ve){for(var me=yR("tr,td,th,tbody,thead,tfoot,table"),he=n.getNonEmptyElements(),De=n.getWhiteSpaceElements(),Ae=n.getTextBlockElements(),Xe=n.getSpecialElements(),We=function(Qt,yn){if(yn===void 0&&(yn=Qt.parent),Xe[Qt.name])Qt.empty().remove();else{for(var Pt=Qt.children(),hn=0,xr=Pt;hn<xr.length;hn++){var ra=xr[hn];n.isValidChild(yn.name,ra.name)||We(ra,yn)}Qt.unwrap()}},Re=0;Re<ve.length;Re++){var Qe=ve[Re],xt=void 0,Ft=void 0,Vn=void 0;if(!(!Qe.parent||Qe.fixed)){if(Ae[Qe.name]&&Qe.parent.name==="li"){for(var mn=Qe.next;mn&&Ae[mn.name];){mn.name="li",mn.fixed=!0,Qe.parent.insert(mn,Qe.parent);mn=mn.next}Qe.unwrap();continue}var Bt=[Qe];for(xt=Qe.parent;xt&&!n.isValidChild(xt.name,Qe.name)&&!me[xt.name];xt=xt.parent)Bt.push(xt);if(xt&&Bt.length>1)if(n.isValidChild(xt.name,Qe.name)){Bt.reverse(),Ft=x(Bt[0].clone());for(var Ln=Ft,Vt=0;Vt<Bt.length-1;Vt++){n.isValidChild(Ln.name,Bt[Vt].name)?(Vn=x(Bt[Vt].clone()),Ln.append(Vn)):Vn=Ln;for(var vn=Bt[Vt].firstChild;vn&&vn!==Bt[Vt+1];){var jt=vn.next;Vn.append(vn),vn=jt}Ln=Vn}Ay(n,he,De,Ft)?xt.insert(Qe,Bt[0],!0):(xt.insert(Ft,Bt[0],!0),xt.insert(Qe,Ft)),xt=Bt[0],(Ay(n,he,De,xt)||DT(xt,"br"))&&xt.empty().remove()}else We(Qe);else if(Qe.parent){if(Qe.name==="li"){var mn=Qe.prev;if(mn&&(mn.name==="ul"||mn.name==="ol")){mn.append(Qe);continue}if(mn=Qe.next,mn&&(mn.name==="ul"||mn.name==="ol")){mn.insert(Qe,mn.firstChild,!0);continue}Qe.wrap(x(new ll("ul",1)));continue}n.isValidChild(Qe.parent.name,"div")&&n.isValidChild("div",Qe.name)?Qe.wrap(x(new ll("div",1))):We(Qe)}}}},x=function(ve){var me=ve.name;if(me in a){var he=l[me];he?he.push(ve):l[me]=[ve]}for(var De=i.length;De--;){var Ae=i[De].name;if(Ae in ve.attributes.map){var he=v[Ae];he?he.push(ve):v[Ae]=[ve]}}return ve},A=function(ve,me){wR(CR(ve),function(he){var De=a[he];De||(a[he]=De=[]),De.push(me)})},N=function(){var ve=[];for(var me in a)Tr(a,me)&&ve.push({name:me,callbacks:a[me]});return ve},X=function(ve,me){wR(CR(ve),function(he){var De;for(De=0;De<i.length;De++)if(i[De].name===he){i[De].callbacks.push(me);return}i.push({name:he,callbacks:[me]})})},Z=function(){return[].concat(i)},Q=function(ve,me){var he,De,Ae,Xe,We,Re,Qe,xt=[],Ft,Vn=function(nt){return nt===!1?"":nt===!0?"p":nt};me=me||{},l={},v={};var mn=SR(yR("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Bt=Ab(n),Ln=n.getNonEmptyElements(),Vt=n.children,vn=e.validate,jt="forced_root_block"in me?me.forced_root_block:e.forced_root_block,Qt=Vn(jt),yn=n.getWhiteSpaceElements(),Pt=/^[ \t\r\n]+/,hn=/[ \t\r\n]+$/,xr=/[ \t\r\n]+/g,ra=/^[ \t\r\n]+$/,Zr=Tr(yn,me.context)||Tr(yn,e.root_name),zi=function(){var nt=Dn.firstChild,Ht=null,Nt=function(zn){zn&&(nt=zn.firstChild,nt&&nt.type===3&&(nt.value=nt.value.replace(Pt,"")),nt=zn.lastChild,nt&&nt.type===3&&(nt.value=nt.value.replace(hn,"")))};if(n.isValidChild(Dn.name,Qt.toLowerCase())){for(;nt;){var Bn=nt.next;nt.type===3||nt.type===1&&nt.name!=="p"&&!mn[nt.name]&&!nt.attr("data-mce-type")?(Ht||(Ht=uo(Qt,1),Ht.attr(e.forced_root_block_attrs),Dn.insert(Ht,nt)),Ht.append(nt)):(Nt(Ht),Ht=null),nt=Bn}Nt(Ht)}},uo=function(nt,Ht){var Nt=new ll(nt,Ht),Bn;return nt in a&&(Bn=l[nt],Bn?Bn.push(Nt):l[nt]=[Nt]),Nt},ju=function(nt){for(var Ht=n.getBlockElements(),Nt=nt.prev;Nt&&Nt.type===3;){var Bn=Nt.value.replace(hn,"");if(Bn.length>0){Nt.value=Bn;return}var zn=Nt.next;if(zn){if(zn.type===3&&zn.value.length){Nt=Nt.prev;continue}if(!Ht[zn.name]&&zn.name!=="script"&&zn.name!=="style"){Nt=Nt.prev;continue}}var Aa=Nt.prev;Nt.remove(),Nt=Aa}},ps=function(nt){var Ht={};for(var Nt in nt)Nt!=="li"&&Nt!=="p"&&(Ht[Nt]=nt[Nt]);return Ht},It=function(nt){for(var Ht=nt;Ge(Ht);){if(Ht.name in Bt)return Ay(n,Ln,yn,Ht);Ht=Ht.parent}return!1},Kt=xg({validate:vn,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:ps(n.getSelfClosingElements()),cdata:function(nt){Ft.append(uo("#cdata",4)).value=nt},text:function(nt,Ht){var Nt;Zr||(nt=nt.replace(xr," "),pR(Ft.lastChild,mn)&&(nt=nt.replace(Pt,""))),nt.length!==0&&(Nt=uo("#text",3),Nt.raw=!!Ht,Ft.append(Nt).value=nt)},comment:function(nt){Ft.append(uo("#comment",8)).value=nt},pi:function(nt,Ht){Ft.append(uo(nt,7)).value=Ht,ju(Ft)},doctype:function(nt){var Ht=Ft.append(uo("#doctype",10));Ht.value=nt,ju(Ft)},start:function(nt,Ht,Nt){var Bn=vn?n.getElementRule(nt):{};if(Bn){var zn=uo(Bn.outputName||nt,1);zn.attributes=Ht,zn.shortEnded=Nt,Ft.append(zn);var Aa=Vt[Ft.name];Aa&&Vt[zn.name]&&!Aa[zn.name]&&xt.push(zn);for(var ni=i.length;ni--;){var Yo=i[ni].name;Yo in Ht.map&&(Re=v[Yo],Re?Re.push(zn):v[Yo]=[zn])}mn[nt]&&ju(zn),Nt||(Ft=zn),!Zr&&yn[nt]&&(Zr=!0)}},end:function(nt){var Ht,Nt,Bn,zn=vn?n.getElementRule(nt):{};if(zn){if(mn[nt]&&!Zr){if(Ht=Ft.firstChild,Ht&&Ht.type===3)if(Nt=Ht.value.replace(Pt,""),Nt.length>0)Ht.value=Nt,Ht=Ht.next;else for(Bn=Ht.next,Ht.remove(),Ht=Bn;Ht&&Ht.type===3;)Nt=Ht.value,Bn=Ht.next,(Nt.length===0||ra.test(Nt))&&(Ht.remove(),Ht=Bn),Ht=Bn;if(Ht=Ft.lastChild,Ht&&Ht.type===3)if(Nt=Ht.value.replace(hn,""),Nt.length>0)Ht.value=Nt,Ht=Ht.prev;else for(Bn=Ht.prev,Ht.remove(),Ht=Bn;Ht&&Ht.type===3;)Nt=Ht.value,Bn=Ht.prev,(Nt.length===0||ra.test(Nt))&&(Ht.remove(),Ht=Bn),Ht=Bn}Zr&&yn[nt]&&(Zr=!1);var Aa=Ay(n,Ln,yn,Ft),ni=Ft.parent;zn.paddInEmptyBlock&&Aa&&It(Ft)?VC(e,me,mn,Ft):zn.removeEmpty&&Aa?mn[Ft.name]?Ft.empty().remove():Ft.unwrap():zn.paddEmpty&&(hR(Ft)||Aa)&&VC(e,me,mn,Ft),Ft=ni}}},n),Dn=Ft=new ll(me.context||e.root_name,11);if(Kt.parse(ve,me.format),vn&&xt.length&&(me.context?me.invalid=!0:p(xt)),Qt&&(Dn.name==="body"||me.isRootContent)&&zi(),!me.invalid){for(Qe in l)if(Tr(l,Qe)){for(Re=a[Qe],he=l[Qe],Xe=he.length;Xe--;)he[Xe].parent||he.splice(Xe,1);for(De=0,Ae=Re.length;De<Ae;De++)Re[De](he,Qe,me)}for(De=0,Ae=i.length;De<Ae;De++)if(Re=i[De],Re.name in v){for(he=v[Re.name],Xe=he.length;Xe--;)he[Xe].parent||he.splice(Xe,1);for(Xe=0,We=Re.callbacks.length;Xe<We;Xe++)Re.callbacks[Xe](he,Re.name,me)}}return Dn},ce={schema:n,addAttributeFilter:X,getAttributeFilters:Z,addNodeFilter:A,getNodeFilters:N,filterNode:x,parse:Q};return Lk(ce,e),qP(ce,e),ce},QP=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,l){for(var v=i.length;v--;){var p=i[v];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(l,null)}}),e.addAttributeFilter("src,href,style",function(i,l){for(var v="data-mce-"+l,p=n.url_converter,x=n.url_converter_scope,A=i.length;A--;){var N=i[A],X=N.attr(v);X!==void 0?(N.attr(l,X.length>0?X:null),N.attr(v,null)):(X=N.attr(l),l==="style"?X=a.serializeStyle(a.parseStyle(X),N.name):p&&(X=p.call(x,X,l,N.name)),N.attr(l,X.length>0?X:null))}}),e.addAttributeFilter("class",function(i){for(var l=i.length;l--;){var v=i[l],p=v.attr("class");p&&(p=v.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),v.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",function(i,l,v){for(var p=i.length;p--;){var x=i[p];if(x.attr("data-mce-type")==="bookmark"&&!v.cleanup){var A=te.from(x.firstChild).exists(function(N){return!gu(N.value)});A?x.unwrap():x.remove()}}}),e.addNodeFilter("noscript",function(i){for(var l=i.length;l--;){var v=i[l].firstChild;v&&(v.value=$s.decode(v.value))}}),e.addNodeFilter("script,style",function(i,l){for(var v=function(X){return X.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},p=i.length;p--;){var x=i[p],A=x.firstChild?x.firstChild.value:"";if(l==="script"){var N=x.attr("type");N&&x.attr("type",N==="mce-no/type"?null:N.replace(/^mce\-/,"")),n.element_format==="xhtml"&&A.length>0&&(x.firstChild.value=`// <![CDATA[
`+v(A)+`
// ]]>`)}else n.element_format==="xhtml"&&A.length>0&&(x.firstChild.value=`<!--
`+v(A)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var l=i.length;l--;){var v=i[l];n.preserve_cdata&&v.value.indexOf("[CDATA[")===0?(v.name="#cdata",v.type=4,v.value=a.decode(v.value.replace(/^\[CDATA\[|\]\]$/g,""))):v.value.indexOf("mce:protected ")===0&&(v.name="#text",v.type=3,v.raw=!0,v.value=unescape(v.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,l){for(var v=i.length;v--;){var p=i[v];p.type===7?p.remove():p.type===1&&l==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){He(i,function(l){l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,l){for(var v=i.length;v--;)i[v].attr(l,null)})},eI=function(e){var n=function(l){return l&&l.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},tI=function(e,n,a){var i,l=e.dom,v=n.cloneNode(!0),p=document.implementation;if(p.createHTMLDocument){var x=p.createHTMLDocument("");wt.each(v.nodeName==="BODY"?v.childNodes:[v],function(A){x.body.appendChild(x.importNode(A,!0))}),v.nodeName!=="BODY"?v=x.body.firstChild:v=x.body,i=l.doc,l.doc=x}return Y4(e,Wn(Wn({},a),{node:v})),i&&(l.doc=i),v},nI=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},_R=function(e,n,a){return nI(e,a)?tI(e,n,a):n},rI=function(e,n,a){wt.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,l){for(var v=i.length;v--;)i[v].attr(l,null)}),n.push(a))},aI=function(e,n,a){if(!n.no_events&&e){var i=Hw(e,Wn(Wn({},n),{content:a}));return i.content}else return a},oI=function(e,n,a){var i=uc(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||Hd(je.fromDom(n))?i:wt.trim(i)},iI=function(e,n,a){var i=a.selection?Wn({forced_root_block:!1},a):a,l=e.parse(n,i);return eI(l),l},uI=function(e,n,a){var i=Em(e,n);return i.serialize(a)},sI=function(e,n,a,i,l){var v=uI(n,a,i);return aI(e,l,v)},lI=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:Ma.DOM,l=n&&n.schema?n.schema:Bs(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var v=Hk(e,l);QP(v,e,i);var p=function(x,A){A===void 0&&(A={});var N=Wn({format:"html"},A),X=_R(n,x,N),Z=oI(i,X,N),Q=iI(v,Z,N);return N.format==="tree"?Q:sI(n,e,l,Q,N)};return{schema:l,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:p,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:le(rI,v,a),getTempAttrs:W(a),getNodeFilters:v.getNodeFilters,getAttributeFilters:v.getAttributeFilters}},xR=function(e,n){var a=lI(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},kR="html",cI=function(e,n){n===void 0&&(n={});var a=n.format?n.format:kR;return LC(e,n,a)},$T=function(e,n,a){return a===void 0&&(a={}),eR(e,n,a)},Vk=Ma.DOM,fI=function(e){Vk.setStyle(e.id,"display",e.orgDisplay)},Uk=function(e){return te.from(e).each(function(n){return n.destroy()})},UC=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},vI=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),Vk.unbind(n,"submit reset",e.formEventDelegate))},dI=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),l=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&l&&Vk.remove(l.nextSibling),ix(e),e.editorManager.remove(e),!e.inline&&i&&fI(e),ux(e),Vk.remove(e.getContainer()),Uk(n),Uk(a),e.destroy()}},AR=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Uk(a),Uk(i)),vI(e),UC(e),e.destroyed=!0}},ER=function(e,n){var a=de(e)&&de(n);return a?TR(e,n):n},mI=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},l=0;l<n.length;l++){var v=n[l];for(var p in v)Tr(v,p)&&(i[p]=e(i[p],v[p]))}return i}},TR=mI(ER),hI="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),WC="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),OR="imagetools,toc".split(","),DR=function(e){var n=it(hI,function(i){return Tr(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&n.push("forced_root_block (false only)"),Qr(n)},gI=function(e){var n=wt.makeMap(e.plugins," "),a=function(l){return Tr(n,l)},i=Ou(Ou([],it(WC,a),!0),cr(OR,function(l){return a(l)?[l+" (moving to premium)"]:[]}),!0);return Qr(i)},RR=function(e,n){var a=DR(e),i=gI(n),l=i.length>0,v=a.length>0,p=n.theme==="mobile";if(l||v||p){var x=`
- `,A=p?`

Themes:`+x+"mobile":"",N=l?`

Plugins:`+x+i.join(x):"",X=v?`

Settings:`+x+a.join(x):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+A+N+X)}},pI=function(e,n){return{sections:W(e),settings:W(n)}},BT=Rn().deviceType,bI=BT.isTouch(),MT=BT.isPhone(),yI=BT.isTablet(),wI=["lists","autolink","autosave"],$R={table_grid:!1,object_resizing:!1,resize:!1},Ey=function(e){var n=Be(e)?e.join(" "):e,a=tt($e(n)?n.split(" "):[],Xs);return it(a,function(i){return i.length>0})},CI=function(e){return it(e,le(Ee,wI))},SI=function(e,n){var a=Pr(n,function(i,l){return Ee(e,l)});return pI(a.t,a.f)},jC=function(e,n,a){a===void 0&&(a={});var i=e.sections(),l=Ir(i,n).getOr({});return wt.extend({},a,l)},GC=function(e,n){return Tr(e.sections(),n)},BR=function(e,n,a){var i=e.sections();return GC(e,n)&&i[n].theme===a},_I=function(e,n){return GC(e,n)?e.sections()[n]:{}},MR=function(e,n){return Ir(e,"toolbar_mode").orThunk(function(){return Ir(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},xI=function(e,n,a,i,l){var v={id:n,theme:"silver",toolbar_mode:MR(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l};return Wn(Wn({},v),i?$R:{})},PR=function(e,n){var a={resize:!1,toolbar_mode:MR(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return Wn(Wn(Wn({},$R),a),n?i:{})},kI=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?wt.extend({},e.external_plugins,a):a},AI=function(e,n){return[].concat(Ey(e)).concat(Ey(n))},EI=function(e,n,a,i){return e&&BR(n,"mobile","mobile")?CI(i):e&&GC(n,"mobile")?i:a},TI=function(e,n,a,i){var l=Ey(a.forced_plugins),v=Ey(i.plugins),p=_I(n,"mobile"),x=p.plugins?Ey(p.plugins):v,A=EI(e,n,v,x),N=AI(l,A);if(Hn.browser.isIE()&&Ee(N,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return wt.extend(i,{plugins:N.join(" ")})},OI=function(e,n){return e&&GC(n,"mobile")},ku=function(e,n,a,i,l){var v=e?{mobile:PR(l.mobile||{},n)}:{},p=SI(["mobile"],TR(v,l)),x=wt.extend(a,i,p.settings(),OI(e,p)?jC(p,"mobile"):{},{validate:!0,external_plugins:kI(i,p.settings())});return TI(e,p,i,x)},IR=function(e,n,a,i,l){var v=xI(l,n,a,bI,e),p=ku(MT||yI,MT,v,i,l);return p.deprecation_warnings!==!1&&RR(l,p),p},T1=function(e,n,a){return te.from(n.settings[a]).filter(e)},DI=function(e){var n={};return typeof e=="string"?He(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[wt.trim(i[0])]=wt.trim(i[1]):n[wt.trim(i[0])]=wt.trim(i[0])}):n=e,n},RI=function(e){return function(n){return Be(n)&&qr(n,e)}},$I=function(e,n,a,i){var l=n in e.settings?e.settings[n]:a;return i==="hash"?DI(l):i==="string"?T1($e,e,n).getOr(a):i==="number"?T1(pe,e,n).getOr(a):i==="boolean"?T1(Se,e,n).getOr(a):i==="object"?T1(de,e,n).getOr(a):i==="array"?T1(Be,e,n).getOr(a):i==="string[]"?T1(RI($e),e,n).getOr(a):i==="function"?T1(se,e,n).getOr(a):l},Jr=function(){var e={},n=function(l,v){e[l]=v},a=function(l){return e[l]?e[l]:{icons:{}}},i=function(l){return Tr(e,l)};return{add:n,get:a,has:i}},Wk=Jr(),NR=function(e,n){var a=n.dom;return a[e]},zR=function(e,n){return parseInt(gr(n,e),10)},To=le(NR,"clientWidth"),BI=le(NR,"clientHeight"),qC=le(zR,"margin-top"),MI=le(zR,"margin-left"),PI=function(e){return e.dom.getBoundingClientRect()},II=function(e,n,a){var i=To(e),l=BI(e);return n>=0&&a>=0&&n<=i&&a<=l},FR=function(e,n,a,i){var l=PI(n),v=e?l.left+n.dom.clientLeft+MI(n):0,p=e?l.top+n.dom.clientTop+qC(n):0,x=a-v,A=i-p;return{x,y:A}},Rm=function(e,n,a){var i=je.fromDom(e.getBody()),l=e.inline?i:rs(i),v=FR(e.inline,l,n,a);return II(l,v.x,v.y)},Ll=function(e){return te.from(e).map(je.fromDom)},KC=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return Ll(n).map(Wf).getOr(!1)},O1=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},pv=function(e){var n=[],a=function(){var Q=e.theme;return Q&&Q.getNotificationManagerImpl?Q.getNotificationManagerImpl():O1()},i=function(){return te.from(n[0])},l=function(Q,ce){return Q.type===ce.type&&Q.text===ce.text&&!Q.progressBar&&!Q.timeout&&!ce.progressBar&&!ce.timeout},v=function(){n.length>0&&a().reposition(n)},p=function(Q){n.push(Q)},x=function(Q){pn(n,function(ce){return ce===Q}).each(function(ce){n.splice(ce,1)})},A=function(Q,ce){if(ce===void 0&&(ce=!0),!(e.removed||!KC(e)))return ce&&e.fire("BeforeOpenNotification",{notification:Q}),rn(n,function(ve){return l(a().getArgs(ve),Q)}).getOrThunk(function(){e.editorManager.setActive(e);var ve=a().open(Q,function(){x(ve),v(),i().fold(function(){return e.focus()},function(me){return j0(je.fromDom(me.getEl()))})});return p(ve),v(),e.fire("OpenNotification",{notification:Wn({},ve)}),ve})},N=function(){i().each(function(Q){a().close(Q),x(Q),v()})},X=W(n),Z=function(Q){Q.on("SkinLoaded",function(){var ce=B_(Q);ce&&A({text:ce,type:"warning",timeout:0},!1),v()}),Q.on("show ResizeEditor ResizeWindow NodeChange",function(){ji.requestAnimationFrame(v)}),Q.on("remove",function(){He(n.slice(),function(ce){a().close(ce)})})};return Z(e),{open:A,close:N,getNotifications:X}},cl=zu.PluginManager,xd=zu.ThemeManager;function PT(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var IT=function(e){var n=[],a=function(){var me=e.theme;return me&&me.getWindowManagerImpl?me.getWindowManagerImpl():PT()},i=function(me,he){return function(){for(var De=[],Ae=0;Ae<arguments.length;Ae++)De[Ae]=arguments[Ae];return he?he.apply(me,De):void 0}},l=function(me){e.fire("OpenWindow",{dialog:me})},v=function(me){e.fire("CloseWindow",{dialog:me})},p=function(me){n.push(me),l(me)},x=function(me){v(me),n=it(n,function(he){return he!==me}),n.length===0&&e.focus()},A=function(){return te.from(n[n.length-1])},N=function(me){e.editorManager.setActive(e),q0(e);var he=me();return p(he),he},X=function(me,he){return N(function(){return a().open(me,he,x)})},Z=function(me){return N(function(){return a().openUrl(me,x)})},Q=function(me,he,De){var Ae=a();Ae.alert(me,i(De||Ae,he))},ce=function(me,he,De){var Ae=a();Ae.confirm(me,i(De||Ae,he))},ve=function(){A().each(function(me){a().close(me),x(me)})};return e.on("remove",function(){He(n,function(me){a().close(me)})}),{open:X,openUrl:Z,alert:Q,confirm:ce,close:ve}},NT=function(e,n){e.notificationManager.open({type:"error",text:n})},jk=function(e,n){e._skinLoaded?NT(e,n):e.on("SkinLoaded",function(){NT(e,n)})},LR=function(e,n){jk(e,wu.translate(["Failed to upload image: {0}",n]))},Gk=function(e,n,a){L0(e,n,{message:a}),console.error(a)},zT=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},qk=function(e,n,a){Gk(e,"PluginLoadError",zT("plugin",n,a))},NI=function(e,n,a){Gk(e,"IconsLoadError",zT("icons",n,a))},XC=function(e,n,a){Gk(e,"LanguageLoadError",zT("language",n,a))},HR=function(e,n,a){var i=wu.translate(["Failed to initialize plugin: {0}",n]);L0(e,"PluginLoadError",{message:i}),YC(i,a),jk(e,i)},YC=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,Ou([e],n,!1)):i.log.apply(i,Ou([e],n,!1)))},$m=function(e){return/^[a-z0-9\-]+$/i.test(e)},FT=function(e){return VR(e,O_(e))},zI=function(e){return VR(e,D_(e))},VR=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,l="content"+i+".css",v=e.inline===!0;return tt(n,function(p){return $m(p)&&!v?a+"/"+p+"/"+l:e.documentBaseURI.toAbsolute(p)})},FI=function(e){e.contentCSS=e.contentCSS.concat(FT(e),zI(e))},D1=function(){var e=1,n=2,a={},i=function(Q,ce){return{status:Q,resultUri:ce}},l=function(Q){return Q in a},v=function(Q){var ce=a[Q];return ce?ce.resultUri:null},p=function(Q){return l(Q)?a[Q].status===e:!1},x=function(Q){return l(Q)?a[Q].status===n:!1},A=function(Q){a[Q]=i(e,null)},N=function(Q,ce){a[Q]=i(n,ce)},X=function(Q){delete a[Q]},Z=function(){a={}};return{hasBlobUri:l,getResultUri:v,isPending:p,isUploaded:x,markPending:A,markUploaded:N,removeFailed:X,destroy:Z}},LI=0,HI=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},Ji=function(e){return e+LI+++HI()},VI=function(){var e=[],n=function(Z){var Q={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return Q[Z.toLowerCase()]||"dat"},a=function(Z,Q,ce,ve,me){if($e(Z)){var he=Z;return i({id:he,name:ve,filename:me,blob:Q,base64:ce})}else{if(de(Z))return i(Z);throw new Error("Unknown input type")}},i=function(Z){if(!Z.blob||!Z.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var Q=Z.id||Ji("blobid"),ce=Z.name||Q,ve=Z.blob;return{id:W(Q),name:W(ce),filename:W(Z.filename||ce+"."+n(ve.type)),blob:W(ve),base64:W(Z.base64),blobUri:W(Z.blobUri||URL.createObjectURL(ve)),uri:W(Z.uri)}},l=function(Z){p(Z.id())||e.push(Z)},v=function(Z){return rn(e,Z).getOrUndefined()},p=function(Z){return v(function(Q){return Q.id()===Z})},x=function(Z){return v(function(Q){return Q.blobUri()===Z})},A=function(Z,Q){return v(function(ce){return ce.base64()===Z&&ce.blob().type===Q})},N=function(Z){e=it(e,function(Q){return Q.blobUri()===Z?(URL.revokeObjectURL(Q.blobUri()),!1):!0})},X=function(){He(e,function(Z){URL.revokeObjectURL(Z.blobUri())}),e=[]};return{create:a,add:l,get:p,getByUri:x,getByData:A,findFirst:v,removeByUri:N,destroy:X}},UR=function(e,n){var a={},i=function(ve,me){return ve?ve.replace(/\/$/,"")+"/"+me.replace(/^\//,""):me},l=function(ve,me,he,De){var Ae=new XMLHttpRequest;Ae.open("POST",n.url),Ae.withCredentials=n.credentials,Ae.upload.onprogress=function(We){De(We.loaded/We.total*100)},Ae.onerror=function(){he("Image upload failed due to a XHR Transport error. Code: "+Ae.status)},Ae.onload=function(){if(Ae.status<200||Ae.status>=300){he("HTTP Error: "+Ae.status);return}var We=JSON.parse(Ae.responseText);if(!We||typeof We.location!="string"){he("Invalid JSON: "+Ae.responseText);return}me(i(n.basePath,We.location))};var Xe=new FormData;Xe.append("file",ve.blob(),ve.filename()),Ae.send(Xe)},v=function(){return new si(function(ve){ve([])})},p=function(ve,me){return{url:me,blobInfo:ve,status:!0}},x=function(ve,me,he){return{url:"",blobInfo:ve,status:!1,error:{message:me,options:he}}},A=function(ve,me){wt.each(a[ve],function(he){he(me)}),delete a[ve]},N=function(ve,me,he){return e.markPending(ve.blobUri()),new si(function(De){var Ae,Xe;try{var We=function(){Ae&&(Ae.close(),Xe=ye)},Re=function(xt){We(),e.markUploaded(ve.blobUri(),xt),A(ve.blobUri(),p(ve,xt)),De(p(ve,xt))},Qe=function(xt,Ft){var Vn=Ft||{};We(),e.removeFailed(ve.blobUri()),A(ve.blobUri(),x(ve,xt,Vn)),De(x(ve,xt,Vn))};Xe=function(xt){xt<0||xt>100||te.from(Ae).orThunk(function(){return te.from(he).map(B)}).each(function(Ft){Ae=Ft,Ft.progressBar.value(xt)})},me(ve,Re,Qe,Xe)}catch(xt){De(x(ve,xt.message,{}))}})},X=function(ve){return ve===l},Z=function(ve){var me=ve.blobUri();return new si(function(he){a[me]=a[me]||[],a[me].push(he)})},Q=function(ve,me){return ve=wt.grep(ve,function(he){return!e.isUploaded(he.blobUri())}),si.all(wt.map(ve,function(he){return e.isPending(he.blobUri())?Z(he):N(he,n.handler,me)}))},ce=function(ve,me){return!n.url&&X(n.handler)?v():Q(ve,me)};return se(n.handler)===!1&&(n.handler=l),{upload:ce}},LT=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},HT=function(e,n){return UR(n,{url:m4(e),basePath:ad(e),credentials:od(e),handler:h4(e)})},WR=function(e){var n=D1(),a=HT(e,n);return{upload:function(i,l){return l===void 0&&(l=!0),a.upload(i,l?LT(e):void 0)}}},VT=function(e){var n=yu(null);e.on("change AddUndo",function(i){n.set(Wn({},i.level))});var a=function(){var i=e.undoManager.data;Ur(i).filter(function(l){return!Tm(n.get(),l)}).each(function(l){e.setDirty(!0),e.fire("change",{level:l,lastLevel:Hr(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},UI=function(e){var n=VI(),a,i,l=D1(),v=[],p=VT(e),x=function(We){return function(Re){return e.selection?We(Re):[]}},A=function(We){return We+(We.indexOf("?")===-1?"?":"&")+new Date().getTime()},N=function(We,Re,Qe){var xt=0;do xt=We.indexOf(Re,xt),xt!==-1&&(We=We.substring(0,xt)+Qe+We.substr(xt+Re.length),xt+=Qe.length-Re.length+1);while(xt!==-1);return We},X=function(We,Re,Qe){var xt='src="'+Qe+'"'+(Qe===Hn.transparentSrc?' data-mce-placeholder="1"':"");return We=N(We,'src="'+Re+'"',xt),We=N(We,'data-mce-src="'+Re+'"','data-mce-src="'+Qe+'"'),We},Z=function(We,Re){He(e.undoManager.data,function(Qe){Qe.type==="fragmented"?Qe.fragments=tt(Qe.fragments,function(xt){return X(xt,We,Re)}):Qe.content=X(Qe.content,We,Re)})},Q=function(We,Re){var Qe=e.convertURL(Re,"src");Z(We.src,Re),e.$(We).attr({src:ow(e)?A(Re):Re,"data-mce-src":Qe})},ce=function(We){return a||(a=HT(e,l)),De().then(x(function(Re){var Qe=tt(Re,function(xt){return xt.blobInfo});return a.upload(Qe,LT(e)).then(x(function(xt){var Ft=[],Vn=tt(xt,function(mn,Bt){var Ln=Re[Bt].blobInfo,Vt=Re[Bt].image;return mn.status&&d4(e)?(n.removeByUri(Vt.src),Dm(e)||Q(Vt,mn.url)):mn.error&&(mn.error.options.remove&&(Z(Vt.getAttribute("src"),Hn.transparentSrc),Ft.push(Vt)),LR(e,mn.error.message)),{element:Vt,status:mn.status,uploadUri:mn.url,blobInfo:Ln}});return Vn.length>0&&p.fireIfChanged(),Ft.length>0&&(Dm(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){He(Ft,function(mn){e.dom.remove(mn),n.removeByUri(mn.src)})})),We&&We(Vn),Vn}))}))},ve=function(We){if(Yp(e))return ce(We)},me=function(We){if(qr(v,function(Qe){return Qe(We)})===!1)return!1;if(We.getAttribute("src").indexOf("data:")===0){var Re=v0(e);return Re(We)}return!0},he=function(We){v.push(We)},De=function(){return i||(i=mR(l,n)),i.findAll(e.getBody(),me).then(x(function(We){return We=it(We,function(Re){return typeof Re=="string"?(jk(e,Re),!1):!0}),Dm(e)||He(We,function(Re){Z(Re.image.src,Re.blobInfo.blobUri()),Re.image.src=Re.blobInfo.blobUri(),Re.image.removeAttribute("data-mce-src")}),We}))},Ae=function(){n.destroy(),l.destroy(),i=a=null},Xe=function(We){return We.replace(/src="(blob:[^"]+)"/g,function(Re,Qe){var xt=l.getResultUri(Qe);if(xt)return'src="'+xt+'"';var Ft=n.getByUri(Qe);if(Ft||(Ft=Rt(e.editorManager.get(),function(mn,Bt){return mn||Bt.editorUpload&&Bt.editorUpload.blobCache.getByUri(Qe)},null)),Ft){var Vn=Ft.blob();return'src="data:'+Vn.type+";base64,"+Ft.base64()+'"'}return Re})};return e.on("SetContent",function(){Yp(e)?ve():De()}),e.on("RawSaveContent",function(We){We.content=Xe(We.content)}),e.on("GetContent",function(We){We.source_view||We.format==="raw"||We.format==="tree"||(We.content=Xe(We.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(We){He(We,function(Re){var Qe=Re.attr("src");if(!n.getByUri(Qe)){var xt=l.getResultUri(Qe);xt&&Re.attr("src",xt)}})})}),{blobCache:n,addFilter:he,uploadImages:ce,uploadImagesAuto:ve,scanForImages:De,destroy:Ae}},WI=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,l){return Yn(a)&&a.hasAttribute("href")},onformat:function(a,i,l){wt.each(l,function(v,p){e.setAttrib(a,p,v)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return wt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},jI=function(e){var n={},a=function(p){return Ge(p)?n[p]:n},i=function(p){return Tr(n,p)},l=function(p,x){p&&($e(p)?(Be(x)||(x=[x]),He(x,function(A){Te(A.deep)&&(A.deep=!vs(A)),Te(A.split)&&(A.split=!vs(A)||Pi(A)),Te(A.remove)&&vs(A)&&!Pi(A)&&(A.remove="none"),vs(A)&&Pi(A)&&(A.mixed=!0,A.block_expand=!0),$e(A.classes)&&(A.classes=A.classes.split(/\s+/))}),n[p]=x):Vr(p,function(A,N){l(N,A)}))},v=function(p){return p&&n[p]&&delete n[p],n};return l(WI(e.dom)),l(p4(e)),{get:a,has:i,register:l,unregister:v}},Kk=wt.each,hs=Ma.DOM,bv=function(e,n){var a,i,l,v=n&&n.schema||Bs({}),p=function(X,Z){Z.classes.length&&hs.addClass(X,Z.classes.join(" ")),hs.setAttribs(X,Z.attrs)},x=function(X){i=typeof X=="string"?{name:X,classes:[],attrs:{}}:X;var Z=hs.create(i.name);return p(Z,i),Z},A=function(X,Z){var Q=typeof X!="string"?X.nodeName.toLowerCase():X,ce=v.getElementRule(Q),ve=ce&&ce.parentsRequired;return ve&&ve.length?Z&&wt.inArray(ve,Z)!==-1?Z:ve[0]:!1},N=function(X,Z,Q){var ce,ve,me=Z.length>0&&Z[0],he=me&&me.name,De=A(X,he);if(De)he===De?(ve=Z[0],Z=Z.slice(1)):ve=De;else if(me)ve=Z[0],Z=Z.slice(1);else if(!Q)return X;return ve&&(ce=x(ve),ce.appendChild(X)),Q&&(ce||(ce=hs.create("div"),ce.appendChild(X)),wt.each(Q,function(Ae){var Xe=x(Ae);ce.insertBefore(Xe,X)})),N(ce,Z,ve&&ve.siblings)};return e&&e.length?(i=e[0],a=x(i),l=hs.create("div"),l.appendChild(N(a,e.slice(1),i.siblings)),l):""},GI=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=wt.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,l,v,p,x){switch(l){case"#":a.attrs.id=v;break;case".":a.classes.push(v);break;case":":wt.inArray("checked disabled enabled read-only required".split(" "),v)!==-1&&(a.attrs[v]=v);break}if(p==="["){var A=x.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(a.attrs[A[1]]=A[2])}return""})),a.name=n||"div",a},qI=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),wt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=wt.map(n.split(/(?:~\+|~|\+)/),GI),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},KI=function(e,n){var a,i,l="",v,p=Xh(e);if(p==="")return"";var x=function(Z){return Z.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var A=Ir(n,"preview");if(Fd(A,!1))return"";p=A.getOr(p)}a=n.block||n.inline||"span";var N=qI(n.selector);N.length?(N[0].name||(N[0].name=a),a=n.selector,i=bv(N,e)):i=bv([a],e);var X=hs.select(a,i)[0]||i.firstChild;return Kk(n.styles,function(Z,Q){var ce=x(Z);ce&&hs.setStyle(X,Q,ce)}),Kk(n.attributes,function(Z,Q){var ce=x(Z);ce&&hs.setAttrib(X,Q,ce)}),Kk(n.classes,function(Z){var Q=x(Z);hs.hasClass(X,Q)||hs.addClass(X,Q)}),e.fire("PreviewFormats"),hs.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),v=hs.getStyle(e.getBody(),"fontSize",!0),v=/px$/.test(v)?parseInt(v,10):0,Kk(p.split(" "),function(Z){var Q=hs.getStyle(X,Z,!0);if(!(Z==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Q)&&(Q=hs.getStyle(e.getBody(),Z,!0),hs.toHex(Q).toLowerCase()==="#ffffff"))&&!(Z==="color"&&hs.toHex(Q).toLowerCase()==="#000000")){if(Z==="font-size"&&/em|%$/.test(Q)){if(v===0)return;var ce=parseFloat(Q)/(/%$/.test(Q)?100:1);Q=ce*v+"px"}Z==="border"&&Q&&(l+="padding:0 2px;"),l+=Z+":"+Q+";"}}),e.fire("AfterPreviewFormats"),hs.remove(i),l},XI=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},jR=function(e){var n=jI(e),a=yu(null);return XI(e),aT(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,l,v){LP(e,i,l,v)},remove:function(i,l,v,p){Lg(e,i,l,v,p)},toggle:function(i,l,v){CT(e,i,l,v)},match:function(i,l,v,p){return FC(e,i,l,v,p)},closest:function(i){return FP(e,i)},matchAll:function(i,l){return JD(e,i,l)},matchNode:function(i,l,v,p){return ZD(e,i,l,v,p)},canApply:function(i){return zk(e,i)},formatChanged:function(i,l,v,p){return QD(e,a,i,l,v,p)},getCssText:le(KI,e)}},Oo=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},GR=function(e,n,a){var i=yu(!1),l=function(A){Om(n,!1,a),n.add({},A)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(A){var N=A.command;Oo(N)||(Ik(n,a),n.beforeChange())}),e.on("ExecCommand",function(A){var N=A.command;Oo(N)||l(A)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",function(A){var N=A.keyCode;A.isDefaultPrevented()||((N>=33&&N<=36||N>=37&&N<=40||N===45||A.ctrlKey)&&(l(),e.nodeChanged()),(N===46||N===8)&&e.nodeChanged(),i.get()&&n.typing&&Tm(ky(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(A){var N=A.keyCode;if(!A.isDefaultPrevented()){if(N>=33&&N<=36||N>=37&&N<=40||N===45){n.typing&&l(A);return}var X=A.ctrlKey&&!A.altKey||A.metaKey;(N<16||N>20)&&N!==224&&N!==91&&!n.typing&&!X&&(n.beforeChange(),Om(n,!0,a),n.add({},A),i.set(!0))}}),e.on("mousedown",function(A){n.typing&&l(A)});var v=function(A){return A.inputType==="insertReplacementText"},p=function(A){return A.inputType==="insertText"&&A.data===null},x=function(A){return A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop"};e.on("input",function(A){A.inputType&&(v(A)||p(A)||x(A))&&l(A)}),e.on("AddUndo Undo Redo ClearUndos",function(A){A.isDefaultPrevented()||e.nodeChanged()})},qR=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},gf=function(e){var n=td(),a=yu(0),i=yu(0),l={data:[],typing:!1,beforeChange:function(){MP(e,a,n)},add:function(v,p){return GD(e,l,i,a,n,v,p)},undo:function(){return qD(e,l,a,i)},redo:function(){return KD(e,i,l.data)},clear:function(){XD(e,l,i)},reset:function(){YD(e,l)},hasUndo:function(){return PP(e,l,i)},hasRedo:function(){return IP(e,l,i)},transact:function(v){return NP(e,l,a,v)},ignore:function(v){zP(e,a,v)},extra:function(v,p){wT(e,l,i,v,p)}};return Dm(e)||GR(e,l,a),qR(e),l},KR=[9,27,Un.HOME,Un.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Un.DOWN,Un.UP,Un.LEFT,Un.RIGHT].concat(Hn.browser.isFirefox()?[224]:[]),XR="data-mce-placeholder",YR=function(e){return e.type==="keydown"||e.type==="keyup"},Xk=function(e){var n=e.keyCode;return n===Un.BACKSPACE||n===Un.DELETE},YI=function(e){if(YR(e)){var n=e.keyCode;return!Xk(e)&&(Un.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Ee(KR,n))}else return!1},Ty=function(e){return YR(e)&&!(Xk(e)||e.type==="keyup"&&e.keyCode===229)},JI=function(e,n,a){if(Ti(je.fromDom(n),!1)){var i=a==="",l=n.firstElementChild;return l?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(l):a===l.nodeName.toLowerCase():!0}else return!1},JR=function(e){var n=e.dom,a=Bi(e),i=uw(e),l=function(v,p){if(!YI(v)){var x=e.getBody(),A=Ty(v)?!1:JI(n,x,a),N=n.getAttrib(x,XR)!=="";(N!==A||p)&&(n.setAttrib(x,XR,A?i:null),n.setAttrib(x,"aria-placeholder",A?i:null),cx(e,A),e.on(A?"keydown":"keyup",l),e.off(A?"keyup":"keydown",l))}};i&&e.on("init",function(v){l(v,!0),e.on("change SetContent ExecCommand",l),e.on("paste",function(p){return ji.setEditorTimeout(e,function(){return l(p)})})})},ZR=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,UT=function(e){return ZR.test(e)},Hg=function(e,n){return Zl(je.fromDom(n),uv(e))},WT=function(e){return Ma.DOM.getStyle(e,"direction",!0)==="rtl"||UT(e.textContent)},ZI=function(e,n,a){return it(Ma.DOM.getParents(a.container(),"*",n),e)},Vg=function(e,n,a){var i=ZI(e,n,a);return te.from(i[i.length-1])},QI=function(e,n,a){var i=hc(n,e),l=hc(a,e);return i&&i===l},pf=function(e){return In(e)||wb(e)},Sc=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?Ta(a)?gn(a.nextSibling)?dt(a.nextSibling,0):dt.after(a):In(n)?dt(a,i+1):n:Ta(a)?gn(a.previousSibling)?dt(a.previousSibling,a.previousSibling.data.length):dt.before(a):wb(n)?dt(a,i-1):n},QR=le(Sc,!0),e$=le(Sc,!1),JC=function(e){return function(n){return $a(e,je.fromDom(n.dom.parentNode))}},eN=function(e){return Vc(e)||Gi(e)},ZC=function(e,n){return Hi(e,n)?yh(n,eN,JC(e)):te.none()},t$=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},jT=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),t$(e))},tN=function(e,n,a){return eu(ou(a),ol(a),function(i,l){var v=Sc(!0,i),p=Sc(!1,l),x=Sc(!1,n);return e?Ml(a,x).exists(function(A){return A.isEqual(p)&&n.isEqual(v)}):bc(a,x).exists(function(A){return A.isEqual(v)&&n.isEqual(p)})}).getOr(!0)},nN=function(e,n){return{block:e,position:n}},Ug=function(e,n){return{from:e,to:n}},GT=function(e,n){var a=je.fromDom(e),i=je.fromDom(n.container());return ZC(a,i).map(function(l){return nN(l,n)})},rN=function(e){return $a(e.from.block,e.to.block)===!1},aN=function(e){return ro(e.from.block).bind(function(n){return ro(e.to.block).filter(function(a){return $a(n,a)})}).isSome()},oN=function(e){return La(e.from.block.dom)===!1&&La(e.to.block.dom)===!1},iN=function(e,n,a){return wa(a.position.getNode())&&Ti(a.block)===!1?sv(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?Hu(n,e,i).bind(function(l){return GT(e,l)}):te.some(a)}).getOr(a):a},uN=function(e,n,a){var i=GT(e,dt.fromRangeStart(a)),l=i.bind(function(v){return Hu(n,e,v.position).bind(function(p){return GT(e,p).map(function(x){return iN(e,n,x)})})});return eu(i,l,Ug).filter(function(v){return rN(v)&&aN(v)&&oN(v)})},sN=function(e,n,a){return a.collapsed?uN(e,n,a):te.none()},lN=function(e){var n=Qi(e);return pn(n,Ts).fold(W(n),function(a){return n.slice(0,a)})},n$=function(e){var n=lN(e);return He(n,vo),n},r$=function(e,n){var a=yc(n,e);return rn(a.reverse(),function(i){return Ti(i)}).each(vo)},cN=function(e){return it(Kr(e),function(n){return!Ti(n)}).length===0},fN=function(e,n,a,i){if(Ti(a))return vf(a),ou(a.dom);cN(i)&&Ti(n)&&ki(i,je.fromTag("br"));var l=bc(a.dom,dt.before(i.dom));return He(n$(n),function(v){ki(i,v)}),r$(e,n),l},QC=function(e,n,a){if(Ti(a))return vo(a),Ti(n)&&vf(n),ou(n.dom);var i=ol(a.dom);return He(n$(n),function(l){Ho(a,l)}),r$(e,n),i},vN=function(e,n){var a=yc(n,e);return te.from(a[a.length-1])},qT=function(e,n){return Hi(n,e)?vN(n,e):te.none()},a$=function(e,n){sv(e,n.dom).map(function(a){return a.getNode()}).map(je.fromDom).filter(Sh).each(vo)},o$=function(e,n,a){return a$(!0,n),a$(!1,a),qT(n,a).fold(le(QC,e,n,a),le(fN,e,n,a))},i$=function(e,n,a,i){return n?o$(e,i,a):o$(e,a,i)},Yk=function(e,n){var a=je.fromDom(e.getBody()),i=sN(a.dom,n,e.selection.getRng()).bind(function(l){return i$(a,n,l.from.block,l.to.block)});return i.each(function(l){e.selection.setRng(l.toRange())}),i.isSome()},R1=function(e,n){var a=n.getRng();return eu(ZC(e,je.fromDom(a.startContainer)),ZC(e,je.fromDom(a.endContainer)),function(i,l){return $a(i,l)===!1?(a.deleteContents(),i$(e,!0,i,l).each(function(v){n.setRng(v.toRange())}),!0):!1}).getOr(!1)},Wg=function(e,n){var a=je.fromDom(n),i=le($a,e);return Nv(a,ic,i).isSome()},Jk=function(e,n){return Wg(e,n.startContainer)||Wg(e,n.endContainer)},Zk=function(e,n){var a=bc(e.dom,dt.fromRangeStart(n)).isNone(),i=Ml(e.dom,dt.fromRangeEnd(n)).isNone();return!Jk(e,n)&&a&&i},$1=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},B1=function(e){var n=je.fromDom(e.getBody()),a=e.selection.getRng();return Zk(n,a)?$1(e):R1(n,e.selection)},M1=function(e,n){return e.selection.isCollapsed()?!1:B1(e)},Qk=xl,u$=La,yv=function(e,n,a,i,l){return te.from(n._selectionOverrides.showCaret(e,a,i,l))},KT=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},P1=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?te.none():te.some(KT(n))},XT=function(e,n,a){var i=Yi(1,e.getBody(),n),l=dt.fromRangeStart(i),v=l.getNode();if(eg(v))return yv(1,e,v,!l.isAtEnd(),!1);var p=l.getNode(!0);if(eg(p))return yv(1,e,p,!1,!1);var x=e.dom.getParent(l.getNode(),function(A){return u$(A)||Qk(A)});return eg(x)?yv(1,e,x,!1,a):te.none()},jg=function(e,n,a){return n.collapsed?XT(e,n,a).getOr(n):n},s$=function(e){return zl(e)||kg(e)},l$=function(e){return Cd(e)||Ag(e)},c$=function(e,n){gn(n)&&n.data.length===0&&e.remove(n)},eS=function(e,n,a,i,l,v){return yv(i,e,v.getNode(!l),l,!0).each(function(p){if(n.collapsed){var x=n.cloneRange();l?x.setEnd(p.startContainer,p.startOffset):x.setStart(p.endContainer,p.endOffset),x.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),c$(e.dom,a),!0},f$=function(e,n){var a=e.selection.getRng();if(!gn(a.commonAncestorContainer))return!1;var i=n?Mi.Forwards:Mi.Backwards,l=ho(e.getBody()),v=le(yw,n?l.next:l.prev),p=n?s$:l$,x=ig(i,e.getBody(),a),A=Sc(n,v(x));if(!A||!x0(x,A))return!1;if(p(A))return eS(e,a,x.getNode(),i,n,A);var N=v(A);return N&&p(N)&&x0(A,N)?eS(e,a,x.getNode(),i,n,N):!1},tS=function(e,n){return f$(e,n)},v$=function(e){return ic(je.fromDom(e))||Gi(je.fromDom(e))},fl=$n.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Bm=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return Yn(a)&&a.getAttribute("data-mce-caret")===i},d$=function(e,n,a,i){var l=function(v){return tu(je.fromDom(v))&&!gc(a,i,e)};return og(!n,a).fold(function(){return og(n,i).fold(at,l)},l)},YT=function(e,n,a,i){var l=i.getNode(n===!1);return ZC(je.fromDom(e),je.fromDom(a.getNode())).map(function(v){return Ti(v)?fl.remove(v.dom):fl.moveToElement(l)}).orThunk(function(){return te.some(fl.moveToElement(l))})},Mm=function(e,n,a){return Hu(n,e,a).bind(function(i){return v$(i.getNode())||d$(e,n,a,i)?te.none():n&&La(i.getNode())||n===!1&&La(i.getNode(!0))?YT(e,n,a,i):n&&Cd(a)||n===!1&&zl(a)?te.some(fl.moveToPosition(i)):te.none()})},bf=function(e,n){return e&&La(n.nextSibling)?te.some(fl.moveToElement(n.nextSibling)):e===!1&&La(n.previousSibling)?te.some(fl.moveToElement(n.previousSibling)):te.none()},dN=function(e,n,a){return a.fold(function(i){return te.some(fl.remove(i))},function(i){return te.some(fl.moveToElement(i))},function(i){return gc(n,i,e)?te.none():te.some(fl.moveToPosition(i))})},mN=function(e,n,a){return Bm(n,a)?bf(n,a.getNode(n===!1)).fold(function(){return Mm(e,n,a)},te.some):Mm(e,n,a).bind(function(i){return dN(e,a,i)})},hN=function(e,n,a){var i=Yi(n?1:-1,e,a),l=dt.fromRangeStart(i),v=je.fromDom(e);return n===!1&&Cd(l)?te.some(fl.remove(l.getNode(!0))):n&&zl(l)?te.some(fl.remove(l.getNode())):n===!1&&zl(l)&&Dg(v,l)?DE(v,l).map(function(p){return fl.remove(p.getNode())}):n&&Cd(l)&&Og(v,l)?Zn(v,l).map(function(p){return fl.remove(p.getNode())}):mN(e,n,l)},gN=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),Tn(e,n,je.fromDom(a)),!0}},pN=function(e,n){return function(a){var i=n?dt.before(a):dt.after(a);return e.selection.setRng(i.toRange()),!0}},bN=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},m$=function(e,n){return te.from(ym(e.getBody(),n))},yN=function(e,n){var a=e.selection.getNode();return m$(e,a).filter(La).fold(function(){return hN(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(gN(e,n),pN(e,n),bN(e))})},ot)},wN=function(e){He($i(e,".mce-offscreen-selection"),vo)},CN=function(e,n){var a=e.selection.getNode();if(La(a)&&!hh(a)){var i=m$(e,a.parentNode).filter(La);return i.fold(function(){return wN(je.fromDom(e.getBody())),Tn(e,n,je.fromDom(e.selection.getNode())),jT(e),!0},ot)}return!1},h$=function(e){var n=e.dom,a=e.selection,i=ym(e.getBody(),a.getNode());if(xl(i)&&n.isBlock(i)&&n.isEmpty(i)){var l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(l),a.setRng(dt.before(l).toRange())}return!0},e3=function(e,n){return e.selection.isCollapsed()?yN(e,n):CN(e,n)},JT=function(e,n){var a=dt.fromRangeStart(e.selection.getRng());return Hu(n,e.getBody(),a).filter(function(i){return n?TE(i):bC(i)}).bind(function(i){return te.from(C0(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},Oy=function(e,n){return e.selection.isCollapsed()?JT(e,n):!1},I1=gn,g$=function(e){return I1(e)&&e.data[0]===Ve},p$=function(e){return I1(e)&&e.data[e.data.length-1]===Ve},ZT=function(e){return e.ownerDocument.createTextNode(Ve)},b$=function(e){if(I1(e.previousSibling))return p$(e.previousSibling)||e.previousSibling.appendData(Ve),e.previousSibling;if(I1(e))return g$(e)||e.insertData(0,Ve),e;var n=ZT(e);return e.parentNode.insertBefore(n,e),n},QT=function(e){if(I1(e.nextSibling))return g$(e.nextSibling)||e.nextSibling.insertData(0,Ve),e.nextSibling;if(I1(e))return p$(e)||e.appendData(Ve),e;var n=ZT(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},nS=function(e,n){return e?b$(n):QT(n)},y$=le(nS,!0),eO=le(nS,!1),w$=function(e,n){return gn(e.container())?nS(n,e.container()):nS(n,e.getNode())},C$=function(e,n){var a=n.get();return a&&e.container()===a&&Ta(a)},yf=function(e,n){return n.fold(function(a){id(e.get());var i=y$(a);return e.set(i),te.some(dt(i,i.length-1))},function(a){return ou(a).map(function(i){if(C$(i,e))return dt(e.get(),1);id(e.get());var l=w$(i,!0);return e.set(l),dt(l,1)})},function(a){return ol(a).map(function(i){if(C$(i,e))return dt(e.get(),e.get().length-1);id(e.get());var l=w$(i,!1);return e.set(l),dt(l,l.length-1)})},function(a){id(e.get());var i=eO(a);return e.set(i),te.some(dt(i,1))})},_c=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return te.none()},su=$n.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),tO=function(e,n){var a=hc(n,e);return a||e},t3=function(e,n,a){var i=QR(a),l=tO(n,i.container());return Vg(e,l,i).fold(function(){return Ml(l,i).bind(le(Vg,e,l)).map(function(v){return su.before(v)})},te.none)},S$=function(e,n){return mm(e,n)===null},nO=function(e,n,a){return Vg(e,n,a).filter(le(S$,n))},_$=function(e,n,a){var i=e$(a);return nO(e,n,i).bind(function(l){var v=bc(l,i);return v.isNone()?te.some(su.start(l)):te.none()})},x$=function(e,n,a){var i=QR(a);return nO(e,n,i).bind(function(l){var v=Ml(l,i);return v.isNone()?te.some(su.end(l)):te.none()})},k$=function(e,n,a){var i=e$(a),l=tO(n,i.container());return Vg(e,l,i).fold(function(){return bc(l,i).bind(le(Vg,e,l)).map(function(v){return su.after(v)})},te.none)},rO=function(e){return WT(Dy(e))===!1},xc=function(e,n,a){var i=_c([t3,_$,x$,k$],[e,n,a]);return i.filter(rO)},Dy=function(e){return e.fold(ke,ke,ke,ke)},n3=function(e){return e.fold(W("before"),W("start"),W("end"),W("after"))},r3=function(e){return e.fold(su.before,su.before,su.after,su.after)},aO=function(e){return e.fold(su.start,su.start,su.end,su.end)},SN=function(e,n){return n3(e)===n3(n)&&Dy(e)===Dy(n)},_N=function(e,n,a,i,l,v){return eu(Vg(n,a,i),Vg(n,a,l),function(p,x){return p!==x&&QI(a,p,x)?su.after(e?p:x):v}).getOr(v)},A$=function(e,n){return e.fold(ot,function(a){return!SN(a,n)})},xN=function(e,n,a,i,l){var v=Sc(e,l),p=Hu(e,a,v).map(le(Sc,e)),x=p.fold(function(){return i.map(r3)},function(A){return xc(n,a,A).map(le(_N,e,n,a,v,A)).filter(le(A$,i))});return x.filter(rO)},kN=function(e,n){return e?n.fold(Me(te.some,su.start),te.none,Me(te.some,su.after),te.none):n.fold(te.none,Me(te.some,su.before),te.none,Me(te.some,su.end))},rS=function(e,n,a,i){var l=Sc(e,i),v=xc(n,a,l);return xc(n,a,l).bind(le(kN,e)).orThunk(function(){return xN(e,n,a,v,i)})};le(rS,!1),le(rS,!0);var AN=function(e){return se(e.selection.getSel().modify)},E$=function(e,n,a){var i=e?1:-1;return n.setRng(dt(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},EN=function(e,n){var a=n.selection.getRng(),i=e?dt.fromRangeEnd(a):dt.fromRangeStart(a);return AN(n)?e&&In(i)?E$(!0,n.selection,i):!e&&wb(i)?E$(!1,n.selection,i):!1:!1},kd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(kd||(kd={}));var a3=function(e,n){return e===Mi.Backwards?or(n):n},TN=function(e,n,a){return e===Mi.Forwards?n.next(a):n.prev(a)},ON=function(e,n,a,i){return wa(i.getNode(n===Mi.Forwards))?kd.Br:gc(a,i)===!1?kd.Block:kd.Wrap},aS=function(e,n,a,i){for(var l=ho(a),v=i,p=[];v;){var x=TN(n,l,v);if(!x)break;if(wa(x.getNode(!1)))return n===Mi.Forwards?{positions:a3(n,p).concat([x]),breakType:kd.Br,breakAt:te.some(x)}:{positions:a3(n,p),breakType:kd.Br,breakAt:te.some(x)};if(!x.isVisible()){v=x;continue}if(e(v,x)){var A=ON(a,n,v,x);return{positions:a3(n,p),breakType:A,breakAt:te.some(x)}}p.push(x),v=x}return{positions:a3(n,p),breakType:kd.Eol,breakAt:te.none()}},oS=function(e,n,a,i){return n(a,i).breakAt.map(function(l){var v=n(a,l).positions;return e===Mi.Backwards?v.concat(l):[l].concat(v)}).getOr([])},iS=function(e,n){return Rt(e,function(a,i){return a.fold(function(){return te.some(i)},function(l){return eu(da(l.getClientRects()),da(i.getClientRects()),function(v,p){var x=Math.abs(n-v.left),A=Math.abs(n-p.left);return A<=x?i:l}).or(a)})},te.none())},T$=function(e,n){return da(n.getClientRects()).bind(function(a){return iS(e,a.left)})},uS=le(aS,dt.isAbove,-1),sS=le(aS,dt.isBelow,1),DN=le(oS,-1,uS),O$=le(oS,1,sS),RN=function(e,n){return uS(e,n).breakAt.isNone()},$N=function(e,n){return sS(e,n).breakAt.isNone()},oO=function(e){return ou(e).map(function(n){return[n].concat(sS(e,n).positions)}).getOr([])},BN=function(e){return ol(e).map(function(n){return uS(e,n).positions.concat(n)}).getOr([])},MN=function(e){var n=function(i){return tt(i,function(l){var v=nd(l);return v.node=e,v})};if(Yn(e))return n(e.getClientRects());if(gn(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},iO=function(e){return cr(e,MN)},N1;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(N1||(N1={}));var PN=function(e,n,a,i){for(;i=sd(i,e,Po,n);)if(a(i))return},D$=function(e,n,a,i,l,v){var p=0,x=[],A=function(Z){var Q=iO([Z]);e===-1&&(Q=Q.reverse());for(var ce=0;ce<Q.length;ce++){var ve=Q[ce];if(!a(ve,N)){if(x.length>0&&n(ve,Ks(x))&&p++,ve.line=p,l(ve))return!0;x.push(ve)}}},N=Ks(v.getClientRects());if(!N)return x;var X=v.getNode();return A(X),PN(e,i,A,X),x},IN=function(e,n){return n.line>e},o3=function(e,n){return n.line===e},i3=le(D$,N1.Up,Lh,Hh),NN=le(D$,N1.Down,Hh,Lh),zN=function(e,n,a,i){var l=ho(n),v,p,x,A,N=[],X=0,Z=function(me){return Ks(me.getClientRects())};e===1?(v=l.next,p=Hh,x=Lh,A=dt.after(i)):(v=l.prev,p=Lh,x=Hh,A=dt.before(i));var Q=Z(A);do if(A.isVisible()){var ce=Z(A);if(!x(ce,Q)){N.length>0&&p(ce,Ks(N))&&X++;var ve=nd(ce);if(ve.position=A,ve.line=X,a(ve))return N;N.push(ve)}}while(A=v(A));return N},lS=function(e){return function(n){return IN(e,n)}},uO=function(e){return function(n){return o3(e,n)}},FN=La,R$=sd,sO=function(e,n){return Math.abs(e.left-n)},lO=function(e,n){return Math.abs(e.right-n)},$$=function(e,n){return e>=n.left&&e<=n.right},LN=function(e,n){return e>=n.top&&e<=n.bottom},HN=function(e){return Gs(e,"node")},u3=function(e,n,a){return a===void 0&&(a=ot),Rf(e,function(i,l){if($$(n,l))return a(l)?l:i;if($$(n,i))return a(i)?i:l;var v=Math.min(sO(i,n),lO(i,n)),p=Math.min(sO(l,n),lO(l,n));return p===v&&HN(l)&&FN(l.node)||p<v?l:i})},B$=function(e,n,a,i,l){var v=R$(i,e,Po,n,!l);do if(!v||a(v))return;while(v=R$(v,e,Po,n))},VN=function(e,n,a){a===void 0&&(a=!0);var i=[],l=function(v,p){var x=it(iO([p]),function(A){return!v(A,n)});return i=i.concat(x),x.length===0};return i.push(n),B$(N1.Up,e,le(l,Lh),n.node,a),B$(N1.Down,e,le(l,Hh),n.node,a),i},UN=function(e){return it(fr(e.getElementsByTagName("*")),fm)},wf=function(e,n){return{node:e.node,before:sO(e,n)<lO(e,n)}},cO=function(e,n,a){var i=iO(UN(e)),l=it(i,le(LN,a)),v=function(A){return!Ao(A.node)&&!Mu(A.node)},p=u3(l,n,v);if(p){var x=v(p);if(p=u3(VN(e,p,x),n,v),p&&fm(p.node))return wf(p,n)}return null},Ad=function(e,n){e.selection.setRng(n),c1(e,e.selection.getRng())},s3=function(e,n,a){return te.some(jg(e,n,a))},M$=function(e,n,a,i,l,v){var p=n===Mi.Forwards,x=ho(e.getBody()),A=le(yw,p?x.next:x.prev),N=p?i:l;if(!a.collapsed){var X=om(a);if(v(X))return yv(n,e,X,n===Mi.Backwards,!1)}var Z=ig(n,e.getBody(),a);if(N(Z))return P1(e,Z.getNode(!p));var Q=Sc(p,A(Z)),ce=Uc(a);if(!Q)return ce?te.some(a):te.none();if(N(Q))return yv(n,e,Q.getNode(!p),p,!1);var ve=A(Q);return ve&&N(ve)&&x0(Q,ve)?yv(n,e,ve.getNode(!p),p,!1):ce?s3(e,Q.toRange(),!1):te.none()},fO=function(e,n,a,i,l,v){var p=ig(n,e.getBody(),a),x=Ks(p.getClientRects()),A=n===N1.Down;if(!x)return te.none();var N=A?NN:i3,X=N(e.getBody(),lS(1),p),Z=it(X,uO(1)),Q=x.left,ce=u3(Z,Q);if(ce&&v(ce.node)){var ve=Math.abs(Q-ce.left),me=Math.abs(Q-ce.right);return yv(n,e,ce.node,ve<me,!1)}var he;if(i(p)?he=p.getNode():l(p)?he=p.getNode(!0):he=om(a),he){var De=zN(n,e.getBody(),lS(1),he),Ae=u3(it(De,uO(1)),Q);if(Ae||(Ae=Ks(it(De,uO(0))),Ae))return s3(e,Ae.position.toRange(),!1)}return Z.length===0?vO(e,A).filter(A?l:i).map(function(Xe){return jg(e,Xe.toRange(),!1)}):te.none()},vO=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var l=dt.fromRangeEnd(a),v=sS(i,l);return Ur(v.positions)}else{var l=dt.fromRangeStart(a),v=uS(i,l);return da(v.positions)}},dO=function(e,n,a){return vO(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},l3=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},P$=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},I$=function(e,n,a){return yf(n,a).map(function(i){return l3(e,i),a})},Ry=function(e,n,a){var i=e.getBody(),l=dt.fromRangeStart(e.selection.getRng()),v=le(Hg,e),p=rS(a,v,i,l);return p.bind(function(x){return I$(e,n,x)})},N$=function(e,n,a){var i=tt($i(je.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(p){return p.dom}),l=it(i,e),v=it(a,e);He(ua(l,v),le(P$,!1)),He(ua(v,l),le(P$,!0))},z$=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=dt.fromRangeStart(e.selection.getRng());dt.isTextPosition(a)&&pf(a)===!1&&(l3(e,H_(n.get(),a)),n.set(null))}},F$=function(e,n,a,i){if(n.selection.isCollapsed()){var l=it(i,e);He(l,function(v){var p=dt.fromRangeStart(n.selection.getRng());xc(e,n.getBody(),p).bind(function(x){return I$(n,a,x)})})}},c3=function(e,n,a){return Jp(e)?Ry(e,n,a).isSome():!1},L$=function(e,n,a){return Jp(n)?EN(e,n):!1},WN=function(e){var n=yu(null),a=le(Hg,e);return e.on("NodeChange",function(i){Jp(e)&&!(Hn.browser.isIE()&&i.initial)&&(N$(a,e.dom,i.parents),z$(e,n),F$(a,e,n,i.parents))}),n},jN=le(L$,!0),GN=le(L$,!1),f3=function(e,n,a){if(Jp(e)){var i=vO(e,n).getOrThunk(function(){var l=e.selection.getRng();return n?dt.fromRangeEnd(l):dt.fromRangeStart(l)});return xc(le(Hg,e),e.getBody(),i).exists(function(l){var v=r3(l);return yf(a,v).exists(function(p){return l3(e,p),!0})})}else return!1},qN=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},wv=function(e){return eu(ou(e),ol(e),function(n,a){var i=Sc(!0,n),l=Sc(!1,a);return Ml(e,i).forall(function(v){return v.isEqual(l)})}).getOr(!0)},H$=function(e,n){return function(a){return yf(n,a).exists(function(i){return l3(e,i),!0})}},V$=function(e,n,a,i){var l=e.getBody(),v=le(Hg,e);e.undoManager.ignore(function(){e.selection.setRng(qN(a,i)),e.execCommand("Delete"),xc(v,l,dt.fromRangeStart(e.selection.getRng())).map(aO).map(H$(e,n))}),e.nodeChanged()},KN=function(e,n){var a=hc(n,e);return a||e},XN=function(e,n,a,i){var l=KN(e.getBody(),i.container()),v=le(Hg,e),p=xc(v,l,i);return p.bind(function(x){return a?x.fold(W(te.some(aO(x))),te.none,W(te.some(r3(x))),te.none):x.fold(te.none,W(te.some(r3(x))),te.none,W(te.some(aO(x))))}).map(H$(e,n)).getOrThunk(function(){var x=pc(a,l,i),A=x.bind(function(N){return xc(v,l,N)});return eu(p,A,function(){return Vg(v,l,i).exists(function(N){return wv(N)?(Tn(e,a,je.fromDom(N)),!0):!1})}).orThunk(function(){return A.bind(function(N){return x.map(function(X){return a?V$(e,n,i,X):V$(e,n,X,i),!0})})}).getOr(!1)})},v3=function(e,n,a){if(e.selection.isCollapsed()&&Jp(e)){var i=dt.fromRangeStart(e.selection.getRng());return XN(e,n,a,i)}return!1},YN=function(e,n){var a=yc(n,e);return pn(a,Ts).fold(W(a),function(i){return a.slice(0,i)})},JN=function(e){return mb(e)===1},Gg=function(e,n,a,i){var l=le(U6,n),v=tt(it(i,l),function(x){return x.dom});if(v.length===0)Tn(n,e,a);else{var p=yy(a.dom,v);n.selection.setRng(p.toRange())}},ZN=function(e,n){var a=je.fromDom(e.getBody()),i=je.fromDom(e.selection.getStart()),l=it(YN(a,i),JN);return Ur(l).exists(function(v){var p=dt.fromRangeStart(e.selection.getRng());return tN(n,p,v.dom)&&!W6(v)?(Gg(n,e,v,l),!0):!1})},d3=function(e,n){return e.selection.isCollapsed()?ZN(e,n):!1},m3=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),Tn(e,n,je.fromDom(a)),!0},mO=function(e,n){var a=n?kg:Ag,i=n?Mi.Forwards:Mi.Backwards,l=ig(i,e.getBody(),e.selection.getRng());return a(l)?m3(e,n,l.getNode(!n)):te.from(Sc(n,l)).filter(function(v){return a(v)&&x0(l,v)}).exists(function(v){return m3(e,n,v.getNode(!n))})},QN=function(e,n){var a=e.selection.getNode();return Mu(a)?m3(e,n,a):!1},h3=function(e,n){return e.selection.isCollapsed()?mO(e,n):QN(e,n)},ez=function(e){return yh(e,function(n){return xl(n.dom)||La(n.dom)}).exists(function(n){return xl(n.dom)})},Pm=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},U$=function(e,n){var a=e||DA(n)?"margin":"padding",i=gr(n,"direction")==="rtl"?"-right":"-left";return a+i},tz=function(e,n,a,i,l,v){var p=U$(a,je.fromDom(v));if(n==="outdent"){var x=Math.max(0,Pm(v.style[p])-i);e.setStyle(v,p,x?x+l:"")}else{var x=Pm(v.style[p])+i+l;e.setStyle(v,p,x)}},nz=function(e,n){return qr(n,function(a){var i=U$(T_(e),a),l=Ei(a,i).map(Pm).getOr(0),v=e.dom.getContentEditable(a.dom);return v!=="false"&&l>0})},W$=function(e){var n=gO(e);return!e.mode.isReadOnly()&&(n.length>1||nz(e,n))},g3=function(e){return El(e)||Gi(e)},hO=function(e){return ro(e).exists(g3)},gO=function(e){return it(ei(e.selection.getSelectedBlocks()),function(n){return!g3(n)&&!hO(n)&&ez(n)})},pO=function(e,n){var a=e.dom,i=e.selection,l=e.formatter,v=iw(e),p=/[a-z%]+$/i.exec(v)[0],x=parseInt(v,10),A=T_(e),N=Bi(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&N===""&&!a.getParent(i.getNode(),a.isBlock)&&l.apply("div"),He(gO(e),function(X){tz(a,n,A,x,p,X.dom)})},bO=function(e,n){if(e.selection.isCollapsed()&&W$(e)){var a=e.dom,i=e.selection.getRng(),l=dt.fromRangeStart(i),v=a.getParent(i.startContainer,a.isBlock);if(v!==null&&ur(je.fromDom(v),l))return pO(e,"outdent"),!0}return!1},j$=function(e,n){e.getDoc().execCommand(n,!1,null)},cS=function(e,n){if(!bO(e)){if(e3(e,!1))return;if(tS(e,!1))return;if(v3(e,n,!1))return;if(Yk(e,!1))return;if(bk(e))return;if(Oy(e,!1))return;if(h3(e,!1))return;if(M1(e))return;if(d3(e,!1))return;j$(e,"Delete"),jT(e)}},rz=function(e,n){if(!e3(e,!0)){if(tS(e,!0))return;if(v3(e,n,!0))return;if(Yk(e,!0))return;if(bk(e))return;if(Oy(e,!0))return;if(h3(e,!0))return;if(M1(e))return;if(d3(e,!0))return;j$(e,"ForwardDelete")}},az=function(e,n){e.addCommand("delete",function(){cS(e,n)}),e.addCommand("forwardDelete",function(){rz(e,n)})},G$=5,$y=400,q$=function(e){return e.touches===void 0||e.touches.length!==1?te.none():te.some(e.touches[0])},Im=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>G$||i>G$},oz=function(e){var n=td(),a=yu(!1),i=Qo(function(l){e.fire("longpress",Wn(Wn({},l),{type:"longpress"})),a.set(!0)},$y);e.on("touchstart",function(l){q$(l).each(function(v){i.cancel();var p={x:v.clientX,y:v.clientY,target:l.target};i.throttle(l),a.set(!1),n.set(p)})},!0),e.on("touchmove",function(l){i.cancel(),q$(l).each(function(v){n.on(function(p){Im(v,p)&&(n.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(l){i.cancel(),l.type!=="touchcancel"&&n.get().filter(function(v){return v.target.isEqualNode(l.target)}).each(function(){a.get()?l.preventDefault():e.fire("tap",Wn(Wn({},l),{type:"tap"}))})},!0)},fS=function(e,n){return Tr(e,n.nodeName)},yO=function(e,n){return gn(n)?!0:Yn(n)?!fS(e,n)&&!Vu(n):!1},iz=function(e,n,a){return Ze(y1(je.fromDom(a),je.fromDom(n)),function(i){return fS(e,i.dom)})},uz=function(e,n){if(gn(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||fS(e,n.nextSibling)))return!0}return!1},sz=function(e){var n=e.dom,a=e.selection,i=e.schema,l=i.getBlockElements(),v=a.getStart(),p=e.getBody(),x,A,N,X=Bi(e);if(!(!v||!Yn(v)||!X)){var Z=p.nodeName.toLowerCase();if(!(!i.isValidChild(Z,X.toLowerCase())||iz(l,p,v))){var Q=a.getRng(),ce=Q.startContainer,ve=Q.startOffset,me=Q.endContainer,he=Q.endOffset,De=sl(e);for(v=p.firstChild;v;)if(yO(l,v)){if(uz(l,v)){A=v,v=v.nextSibling,n.remove(A);continue}x||(x=n.create(X,Gh(e)),v.parentNode.insertBefore(x,v),N=!0),A=v,v=v.nextSibling,x.appendChild(A)}else x=null,v=v.nextSibling;N&&De&&(Q.setStart(ce,ve),Q.setEnd(me,he),a.setRng(Q),e.nodeChanged())}}},K$=function(e){Bi(e)&&e.on("NodeChange",le(sz,e))},lz=function(e){return wh(je.fromDom(e.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull()},cz=function(e){e.selection.setRng(e.selection.getRng())},X$=function(e,n){n.hasAttribute("data-mce-caret")&&(f2(n),cz(e),e.selection.scrollIntoView(n))},fz=function(e,n){var a=lz(e);if(a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),X$(e,a);return}Jf(a)&&(X$(e,a),e.undoManager.add())}},Y$=function(e){e.on("keyup compositionstart",le(fz,e))},J$=La,z1=function(e,n,a){return M$(n,e,a,zl,Cd,J$)},vz=function(e,n,a){var i=function(v){return zl(v)||ak(v)},l=function(v){return Cd(v)||yC(v)};return fO(n,e,a,i,l,J$)},vS=function(e){var n=e.dom.create(Bi(e));return(!Hn.ie||Hn.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},wO=function(e,n,a){var i=ho(e.getBody()),l=le(yw,n===1?i.next:i.prev);if(a.collapsed&&w4(e)){var v=e.dom.getParent(a.startContainer,"PRE");if(!v)return;var p=l(dt.fromRangeStart(a));if(!p){var x=vS(e);n===1?e.$(v).after(x):e.$(v).before(x),e.selection.select(x,!0),e.selection.collapse()}}},CO=function(e,n){var a=n?Mi.Forwards:Mi.Backwards,i=e.selection.getRng();return z1(a,e,i).orThunk(function(){return wO(e,a,i),te.none()})},SO=function(e,n){var a=n?1:-1,i=e.selection.getRng();return vz(a,e,i).orThunk(function(){return wO(e,a,i),te.none()})},Z$=function(e,n){return CO(e,n).exists(function(a){return Ad(e,a),!0})},Q$=function(e,n){return SO(e,n).exists(function(a){return Ad(e,a),!0})},eB=function(e,n){var a=n?Cd:zl;return dO(e,n,a)},_O=function(e){return Ee(["figcaption"],xo(e))},tB=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},nB=function(e,n,a){a?Ho(e,n):Qs(e,n)},dz=function(e,n){var a=je.fromTag("br");return nB(e,a,n),tB(a)},mz=function(e,n,a,i){var l=je.fromTag(a),v=je.fromTag("br");return J(l,i),Ho(l,v),nB(e,l,n),tB(v)},rB=function(e,n,a,i){return n===""?dz(e,i):mz(e,i,n,a)},hz=function(e,n){var a=le($a,n);return yh(je.fromDom(e.container()),Ts,a).filter(_O)},gz=function(e,n,a){return n?$N(e.dom,a):RN(e.dom,a)},pz=function(e,n){var a=je.fromDom(e.getBody()),i=dt.fromRangeStart(e.selection.getRng()),l=Bi(e),v=Gh(e);return hz(i,a).exists(function(){if(gz(a,n,i)){var p=rB(a,l,v,n);return e.selection.setRng(p),!0}else return!1})},aB=function(e,n){return e.selection.isCollapsed()?pz(e,n):!1},bz=function(e){return tt(e,function(n){return Wn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:ye},n)})},yz=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},wz=function(e,n){return cr(bz(e),function(a){return yz(a,n)?[a]:[]})},Fr=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},F1=function(e,n){return rn(wz(e,n),function(a){return a.action()})},oB=function(e,n){var a=n?Mi.Forwards:Mi.Backwards,i=e.selection.getRng();return M$(e,a,i,kg,Ag,Mu).exists(function(l){return Ad(e,l),!0})},xO=function(e,n){var a=n?1:-1,i=e.selection.getRng();return fO(e,a,i,kg,Ag,Mu).exists(function(l){return Ad(e,l),!0})},iB=function(e,n){var a=n?Ag:kg;return dO(e,n,a)},Cz=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},Sz=function(e,n){return cr(n,function(a){var i=Cz(nd(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},_z=function(e,n,a){return Rt(e,function(i,l){return i.fold(function(){return te.some(l)},function(v){var p=Math.sqrt(Math.abs(v.x-n)+Math.abs(v.y-a)),x=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-a));return te.some(x<p?l:v)})},te.none())},uB=function(e,n,a,i,l){var v=$i(je.fromDom(a),"td,th,caption").map(function(x){return x.dom}),p=it(Sz(e,v),function(x){return n(x,l)});return _z(p,i,l).map(function(x){return x.cell})},xz=function(e){return e.bottom},kz=function(e){return e.top},Az=function(e,n){return e.y<n},Ez=function(e,n){return e.y>n},Tz=le(uB,xz,Az),Oz=le(uB,kz,Ez),Dz=function(e,n){return da(n.getClientRects()).bind(function(a){return Tz(e,a.left,a.top)}).bind(function(a){return T$(BN(a),n)})},Rz=function(e,n){return Ur(n.getClientRects()).bind(function(a){return Oz(e,a.left,a.top)}).bind(function(a){return T$(oO(a),n)})},sB=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},$z=function(e){return e.breakType===kd.Wrap&&e.positions.length===0},Bz=function(e){return e.breakType===kd.Br&&e.positions.length===1},kO=function(e,n,a){var i=e(n,a);return $z(i)||!wa(a.getNode())&&Bz(i)?!sB(e,n,i):i.breakAt.isNone()},lB=le(kO,uS),p3=le(kO,sS),cB=function(e,n,a){var i=dt.fromRangeStart(n);return sv(!e,a).exists(function(l){return l.isEqual(i)})},AO=function(e,n,a,i){var l=e.selection.getRng(),v=n?1:-1;return gw()&&cB(n,l,a)?(yv(v,e,a,!n,!1).each(function(p){Ad(e,p)}),!0):!1},EO=function(e,n,a){return Dz(n,a).orThunk(function(){return da(a.getClientRects()).bind(function(i){return iS(DN(e,dt.before(n)),i.left)})}).getOr(dt.before(n))},fB=function(e,n,a){return Rz(n,a).orThunk(function(){return da(a.getClientRects()).bind(function(i){return iS(O$(e,dt.after(n)),i.left)})}).getOr(dt.after(n))},vB=function(e,n){var a=n.getNode(e);return Yn(a)&&a.nodeName==="TABLE"?te.some(a):te.none()},dB=function(e,n,a,i){var l=Bi(n);l?n.undoManager.transact(function(){var v=je.fromTag(l);J(v,Gh(n)),Ho(v,je.fromTag("br")),e?Iv(je.fromDom(a),v):ki(je.fromDom(a),v);var p=n.dom.createRng();p.setStart(v.dom,0),p.setEnd(v.dom,0),Ad(n,p)}):Ad(n,i.toRange())},L1=function(e,n,a){var i=vB(!!n,a),l=n===!1;i.fold(function(){return Ad(e,a.toRange())},function(v){return sv(l,e.getBody()).filter(function(p){return p.isEqual(a)}).fold(function(){return Ad(e,a.toRange())},function(p){return dB(n,e,v,a)})})},mB=function(e,n,a,i){var l=e.selection.getRng(),v=dt.fromRangeStart(l),p=e.getBody();if(!n&&lB(i,v)){var x=EO(p,a,v);return L1(e,n,x),!0}else if(n&&p3(i,v)){var x=fB(p,a,v);return L1(e,n,x),!0}else return!1},b3=function(e,n,a){return te.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return te.from(e.dom.getParent(i,"table")).map(function(l){return a(e,n,l,i)})}).getOr(!1)},hB=function(e,n){return b3(e,n,AO)},y3=function(e,n){return b3(e,n,mB)},Mz=function(e,n,a){var i=Rn().os;F1([{keyCode:Un.RIGHT,action:Fr(Z$,e,!0)},{keyCode:Un.LEFT,action:Fr(Z$,e,!1)},{keyCode:Un.UP,action:Fr(Q$,e,!1)},{keyCode:Un.DOWN,action:Fr(Q$,e,!0)},{keyCode:Un.RIGHT,action:Fr(hB,e,!0)},{keyCode:Un.LEFT,action:Fr(hB,e,!1)},{keyCode:Un.UP,action:Fr(y3,e,!1)},{keyCode:Un.DOWN,action:Fr(y3,e,!0)},{keyCode:Un.RIGHT,action:Fr(oB,e,!0)},{keyCode:Un.LEFT,action:Fr(oB,e,!1)},{keyCode:Un.UP,action:Fr(xO,e,!1)},{keyCode:Un.DOWN,action:Fr(xO,e,!0)},{keyCode:Un.RIGHT,action:Fr(c3,e,n,!0)},{keyCode:Un.LEFT,action:Fr(c3,e,n,!1)},{keyCode:Un.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Fr(jN,e,n)},{keyCode:Un.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Fr(GN,e,n)},{keyCode:Un.UP,action:Fr(aB,e,!1)},{keyCode:Un.DOWN,action:Fr(aB,e,!0)}],a).each(function(l){a.preventDefault()})},Pz=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&Mz(e,n,a)})},Iz=function(e,n,a){F1([{keyCode:Un.BACKSPACE,action:Fr(bO,e,!1)},{keyCode:Un.BACKSPACE,action:Fr(e3,e,!1)},{keyCode:Un.DELETE,action:Fr(e3,e,!0)},{keyCode:Un.BACKSPACE,action:Fr(tS,e,!1)},{keyCode:Un.DELETE,action:Fr(tS,e,!0)},{keyCode:Un.BACKSPACE,action:Fr(v3,e,n,!1)},{keyCode:Un.DELETE,action:Fr(v3,e,n,!0)},{keyCode:Un.BACKSPACE,action:Fr(bk,e,!1)},{keyCode:Un.DELETE,action:Fr(bk,e,!0)},{keyCode:Un.BACKSPACE,action:Fr(Oy,e,!1)},{keyCode:Un.DELETE,action:Fr(Oy,e,!0)},{keyCode:Un.BACKSPACE,action:Fr(h3,e,!1)},{keyCode:Un.DELETE,action:Fr(h3,e,!0)},{keyCode:Un.BACKSPACE,action:Fr(M1,e,!1)},{keyCode:Un.DELETE,action:Fr(M1,e,!0)},{keyCode:Un.BACKSPACE,action:Fr(Yk,e,!1)},{keyCode:Un.DELETE,action:Fr(Yk,e,!0)},{keyCode:Un.BACKSPACE,action:Fr(d3,e,!1)},{keyCode:Un.DELETE,action:Fr(d3,e,!0)}],a).each(function(i){a.preventDefault()})},Nz=function(e,n){F1([{keyCode:Un.BACKSPACE,action:Fr(h$,e)},{keyCode:Un.DELETE,action:Fr(h$,e)}],n)},zz=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&Iz(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&Nz(e,a)})},Fz=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},By=function(e,n){var a,i=n,l=e.dom,v=e.schema.getMoveCaretBeforeOnEnterElements();if(n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var p=Fz(n.firstChild);p&&/^(UL|OL|DL)$/.test(p.nodeName)&&n.insertBefore(l.doc.createTextNode(us),n.firstChild)}var x=l.createRng();if(n.normalize(),n.hasChildNodes()){for(var A=new sa(n,n);a=A.current();){if(gn(a)){x.setStart(a,0),x.setEnd(a,0);break}if(v[a.nodeName.toLowerCase()]){x.setStartBefore(a),x.setEndBefore(a);break}i=a,a=A.next()}a||(x.setStart(i,0),x.setEnd(i,0))}else wa(n)?n.nextSibling&&l.isBlock(n.nextSibling)?(x.setStartBefore(n),x.setEndBefore(n)):(x.setStartAfter(n),x.setEndAfter(n)):(x.setStart(n,0),x.setEnd(n,0));e.selection.setRng(x),c1(e,x)}},My=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},TO=function(e){return te.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},OO=function(e){return TO(e).fold(W(""),function(n){return n.nodeName.toUpperCase()})},Lz=function(e){return TO(e).filter(function(n){return Gi(je.fromDom(n))}).isSome()},gB=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},pB=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},DO=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},RO=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},$O=function(e){return RO(e)&&RO(e.parentNode)},dS=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},w3=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!Yn(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},Hz=function(e,n,a,i,l){var v=e.dom,p=e.selection.getRng();if(a!==e.getBody()){$O(a)&&(l="LI");var x=l?n(l):v.create("BR");if(w3(a,i,!0)&&w3(a,i,!1))if(DO(a,"LI")){var A=dS(a);v.insertAfter(x,A),pB(a)?v.remove(A):v.remove(a)}else v.replace(x,a);else if(w3(a,i,!0))DO(a,"LI")?(v.insertAfter(x,dS(a)),x.appendChild(v.doc.createTextNode(" ")),x.appendChild(a)):a.parentNode.insertBefore(x,a),v.remove(i);else if(w3(a,i,!1))v.insertAfter(x,dS(a)),v.remove(i);else{a=dS(a);var N=p.cloneRange();N.setStartAfter(i),N.setEndAfter(a);var X=N.extractContents();l==="LI"&&gB(X,"LI")?(x=X.firstChild,v.insertAfter(X,a)):(v.insertAfter(X,a),v.insertAfter(x,a)),v.remove(i)}By(e,x)}},C3=function(e){He(Fh(je.fromDom(e),Xa),function(n){var a=n.dom;a.nodeValue=uc(a.nodeValue)})},Vz=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},Uz=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},BO=function(e){e.innerHTML='<br data-mce-bogus="1">'},S3=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},bB=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},Wz=function(e,n,a){var i=a,l=[],v;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;Yn(i)&&!n[i.nodeName.toLowerCase()]&&l.push(i)}for(v=l.length;v--;)i=l[v],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||Vz(e,i))&&e.remove(i)}},Vs=function(e,n,a){return gn(n)===!1?a:e?a===1&&n.data.charAt(a-1)===Ve?0:a:a===n.data.length-1&&n.data.charAt(a)===Ve?n.data.length:a},jz=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,Vs(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,Vs(!1,e.endContainer,e.endOffset)),n},MO=function(e){do gn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},PO=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},IO=function(e,n,a){var i=e.dom;te.from(a.style).map(i.parseStyle).each(function(A){var N=ao(je.fromDom(n)),X=Wn(Wn({},N),A);i.setStyles(n,X)});var l=te.from(a.class).map(function(A){return A.split(/\s+/)}),v=te.from(n.className).map(function(A){return it(A.split(/\s+/),function(N){return N!==""})});eu(l,v,function(A,N){var X=it(N,function(Q){return!Ee(A,Q)}),Z=Ou(Ou([],A,!0),X,!0);i.setAttrib(n,"class",Z.join(" "))});var p=["style","class"],x=lo(a,function(A,N){return!Ee(p,N)});i.setAttribs(n,x)},mS=function(e,n){var a=Bi(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=Gh(e);IO(e,n,i)}},Gz=function(e,n,a,i,l){var v,p,x,A,N,X,Z=n||"P",Q=e.dom,ce=PO(Q,i);if(p=Q.getParent(i,Q.isBlock),!p||!bB(Q,p)){if(p=p||ce,p===e.getBody()||Uz(p)?X=p.nodeName.toLowerCase():X=p.parentNode.nodeName.toLowerCase(),!p.hasChildNodes())return v=Q.create(Z),mS(e,v),p.appendChild(v),a.setStart(v,0),a.setEnd(v,0),v;for(A=i;A.parentNode!==p;)A=A.parentNode;for(;A&&!Q.isBlock(A);)x=A,A=A.previousSibling;if(x&&e.schema.isValidChild(X,Z.toLowerCase())){for(v=Q.create(Z),mS(e,v),x.parentNode.insertBefore(v,x),A=x;A&&!Q.isBlock(A);)N=A.nextSibling,v.appendChild(A),A=N;a.setStart(i,l),a.setEnd(i,l)}}return i},yB=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},qz=function(e,n){var a,i,l,v,p,x,A,N,X,Z,Q=e.dom,ce=e.schema,ve=ce.getNonEmptyElements(),me=e.selection.getRng(),he=function(xt){var Ft=i,Vn,mn,Bt,Ln=ce.getTextInlineElements();if(xt||N==="TABLE"||N==="HR"?Vn=Q.create(xt||X):Vn=v.cloneNode(!1),Bt=Vn,v4(e)===!1)Q.setAttrib(Vn,"style",null),Q.setAttrib(Vn,"class",null);else do if(Ln[Ft.nodeName]){if(nf(Ft)||Vu(Ft))continue;mn=Ft.cloneNode(!1),Q.setAttrib(mn,"id",""),Vn.hasChildNodes()?(mn.appendChild(Vn.firstChild),Vn.appendChild(mn)):(Bt=mn,Vn.appendChild(mn))}while((Ft=Ft.parentNode)&&Ft!==Re);return mS(e,Vn),BO(Bt),Vn},De=function(xt){var Ft,Vn,mn=Vs(xt,i,l);if(gn(i)&&(xt?mn>0:mn<i.nodeValue.length))return!1;if(i.parentNode===v&&Z&&!xt||xt&&Yn(i)&&i===v.firstChild)return!0;if(S3(i,"TABLE")||S3(i,"HR"))return Z&&!xt||!Z&&xt;var Bt=new sa(i,v);for(gn(i)&&(xt&&mn===0?Bt.prev():!xt&&mn===i.nodeValue.length&&Bt.next());Ft=Bt.current();){if(Yn(Ft)){if(!Ft.getAttribute("data-mce-bogus")&&(Vn=Ft.nodeName.toLowerCase(),ve[Vn]&&Vn!=="br"))return!1}else if(gn(Ft)&&!Tl(Ft.nodeValue))return!1;xt?Bt.prev():Bt.next()}return!0},Ae=function(){/^(H[1-6]|PRE|FIGURE)$/.test(N)&&Qe!=="HGROUP"?p=he(X):p=he(),Kp(e)&&bB(Q,A)&&Q.isEmpty(v)?p=Q.split(A,v):Q.insertAfter(p,v),By(e,p)};U0(Q,me).each(function(xt){me.setStart(xt.startContainer,xt.startOffset),me.setEnd(xt.endContainer,xt.endOffset)}),i=me.startContainer,l=me.startOffset,X=Bi(e);var Xe=!!(n&&n.shiftKey),We=!!(n&&n.ctrlKey);Yn(i)&&i.hasChildNodes()&&(Z=l>i.childNodes.length-1,i=i.childNodes[Math.min(l,i.childNodes.length-1)]||i,Z&&gn(i)?l=i.nodeValue.length:l=0);var Re=PO(Q,i);if(Re){(X&&!Xe||!X&&Xe)&&(i=Gz(e,X,me,i,l)),v=Q.getParent(i,Q.isBlock),A=v?Q.getParent(v.parentNode,Q.isBlock):null,N=v?v.nodeName.toUpperCase():"";var Qe=A?A.nodeName.toUpperCase():"";if(Qe==="LI"&&!We&&(v=A,A=A.parentNode,N=Qe),/^(LI|DT|DD)$/.test(N)&&Q.isEmpty(v)){Hz(e,he,A,v,X);return}X&&v===e.getBody()||(X=X||"P",Ca(v)?(p=f2(v),Q.isEmpty(v)&&BO(v),mS(e,p),By(e,p)):De()?Ae():De(!0)?(p=v.parentNode.insertBefore(he(),v),By(e,S3(v,"HR")?p:v)):(a=jz(me).cloneRange(),a.setEndAfter(v),x=a.extractContents(),C3(x),MO(x),p=x.firstChild,Q.insertAfter(x,v),Wz(Q,ve,p),yB(Q,v),Q.isEmpty(v)&&BO(v),p.normalize(),Q.isEmpty(p)?(Q.remove(p),Ae()):(mS(e,p),By(e,p))),Q.setAttrib(p,"id",""),e.fire("NewBlock",{newBlock:p}))}},Kz=function(e,n,a){for(var i=new sa(n,a),l,v=e.getNonEmptyElements();l=i.next();)if(v[l.nodeName.toLowerCase()]||l.length>0)return!0},wB=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),c1(e,i)},Xz=function(e,n){var a=e.selection,i=e.dom,l=a.getRng(),v,p;U0(i,l).each(function(ve){l.setStart(ve.startContainer,ve.startOffset),l.setEnd(ve.endContainer,ve.endOffset)});var x=l.startOffset,A=l.startContainer;if(A.nodeType===1&&A.hasChildNodes()){var N=x>A.childNodes.length-1;A=A.childNodes[Math.min(x,A.childNodes.length-1)]||A,N&&A.nodeType===3?x=A.nodeValue.length:x=0}var X=i.getParent(A,i.isBlock),Z=X?i.getParent(X.parentNode,i.isBlock):null,Q=Z?Z.nodeName.toUpperCase():"",ce=!!(n&&n.ctrlKey);Q==="LI"&&!ce&&(X=Z),A&&A.nodeType===3&&x>=A.nodeValue.length&&(Kz(e.schema,A,X)||(v=i.create("br"),l.insertNode(v),l.setStartAfter(v),l.setEndAfter(v),p=!0)),v=i.create("br"),o0(i,l,v),wB(e,v,p),e.undoManager.add()},Yz=function(e,n){var a=je.fromTag("br");ki(je.fromDom(n),a),e.undoManager.add()},Jz=function(e,n){Qz(e.getBody(),n)||Iv(je.fromDom(n),je.fromTag("br"));var a=je.fromTag("br");Iv(je.fromDom(n),a),wB(e,a.dom,!1),e.undoManager.add()},Zz=function(e){return wa(e.getNode())},Qz=function(e,n){return Zz(dt.after(n))?!0:Ml(e,dt.after(n)).map(function(a){return wa(a.getNode())}).getOr(!1)},CB=function(e){return e&&e.nodeName==="A"&&"href"in e},Au=function(e){return e.fold(at,CB,CB,at)},eF=function(e){var n=le(Hg,e),a=dt.fromRangeStart(e.selection.getRng());return xc(n,e.getBody(),a).filter(Au)},tF=function(e,n){n.fold(ye,le(Yz,e),le(Jz,e),ye)},SB=function(e,n){var a=eF(e);a.isSome()?a.each(le(tF,e)):Xz(e,n)},gs=function(e,n){return TO(e).filter(function(a){return n.length>0&&Zl(je.fromDom(a),n)}).isSome()},nF=function(e){return gs(e,qh(e))},_B=function(e){return gs(e,E_(e))},Hl=$n.generate([{br:[]},{block:[]},{none:[]}]),Py=function(e,n){return _B(e)},NO=function(e){return function(n,a){var i=Bi(n)==="";return i===e}},xB=function(e){return function(n,a){return Lz(n)===e}},_3=function(e,n){return function(a,i){var l=OO(a)===e.toUpperCase();return l===n}},x3=function(e){return _3("pre",e)},rF=function(){return _3("summary",!0)},k3=function(e){return function(n,a){return aw(n)===e}},aF=function(e,n){return nF(e)},hS=function(e,n){return n},kB=function(e){var n=Bi(e),a=My(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},Us=function(e,n){return function(a,i){var l=Rt(e,function(v,p){return v&&p(a,i)},!0);return l?te.some(n):te.none()}},AB=function(e,n){return _c([Us([Py],Hl.none()),Us([rF()],Hl.br()),Us([x3(!0),k3(!1),hS],Hl.br()),Us([x3(!0),k3(!1)],Hl.block()),Us([x3(!0),k3(!0),hS],Hl.block()),Us([x3(!0),k3(!0)],Hl.br()),Us([xB(!0),hS],Hl.br()),Us([xB(!0)],Hl.block()),Us([NO(!0),hS,kB],Hl.block()),Us([NO(!0)],Hl.br()),Us([aF],Hl.br()),Us([NO(!1),hS],Hl.br()),Us([kB],Hl.block())],[e,!!(n&&n.shiftKey)]).getOr(Hl.none())},EB=function(e,n){AB(e,n).fold(function(){SB(e,n)},function(){qz(e,n)},ye)},oF=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),kP(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),EB(e,n)}))},iF=function(e){e.on("keydown",function(n){n.keyCode===Un.ENTER&&oF(e,n)})},uF=function(e,n,a){F1([{keyCode:Un.END,action:Fr(eB,e,!0)},{keyCode:Un.HOME,action:Fr(eB,e,!1)},{keyCode:Un.END,action:Fr(iB,e,!0)},{keyCode:Un.HOME,action:Fr(iB,e,!1)},{keyCode:Un.END,action:Fr(f3,e,!0,n)},{keyCode:Un.HOME,action:Fr(f3,e,!1,n)}],a).each(function(i){a.preventDefault()})},sF=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&uF(e,n,a)})},zO=Rn().browser,TB=function(e){var n=qb(function(){e.composing||AC(e)},0);zO.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},OB=function(e){TB(e),e.on("input",function(n){n.isComposing===!1&&AC(e)})},DB=Rn(),lF=function(e,n,a){F1([{keyCode:Un.PAGE_UP,action:Fr(f3,e,!1,n)},{keyCode:Un.PAGE_DOWN,action:Fr(f3,e,!0,n)}],a)},RB=function(e){return e.stopImmediatePropagation()},$B=function(e){return e.keyCode===Un.PAGE_UP||e.keyCode===Un.PAGE_DOWN},BB=function(e,n,a){a&&!e.get()?n.on("NodeChange",RB,!0):!a&&e.get()&&n.off("NodeChange",RB),e.set(a)},cF=function(e,n){if(!DB.os.isOSX()){var a=yu(!1);e.on("keydown",function(i){$B(i)&&BB(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&lF(e,n,i),$B(i)&&a.get()&&(BB(a,e,!1),e.nodeChanged())})}},MB=function(e,n){var a=n.container(),i=n.offset();return gn(a)?(a.insertData(i,e),te.some(dt(a,i+e.length))):_0(n).map(function(l){var v=je.fromText(e);return n.isAtEnd()?Iv(l,v):ki(l,v),dt(v.dom,e.length)})},PB=le(MB,us),fF=le(MB," "),vF=function(e){return function(n){return n.fold(function(a){return bc(e.dom,dt.before(a))},function(a){return ou(a)},function(a){return ol(a)},function(a){return Ml(e.dom,dt.after(a))})}},dF=function(e,n){return function(a){return $E(e,a)?PB(n):fF(n)}},mF=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},IB=function(e){var n=dt.fromRangeStart(e.selection.getRng()),a=je.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=le(Hg,e),l=dt.fromRangeStart(e.selection.getRng());return xc(i,e.getBody(),l).bind(vF(a)).bind(dF(a,n)).exists(mF(e))}else return!1},hF=function(e,n){F1([{keyCode:Un.SPACEBAR,action:Fr(IB,e)}],n).each(function(a){n.preventDefault()})},gF=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&hF(e,n)})},pF=function(e){var n=WN(e);return Y$(e),Pz(e,n),zz(e,n),iF(e),gF(e),OB(e),sF(e,n),cF(e,n),n},bF=function(e){return Dm(e)?yu(null):pF(e)},NB=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(l){var v=n.selection.getRng(),p={startContainer:v.startContainer,startOffset:v.startOffset,endContainer:v.endContainer,endOffset:v.endOffset};(l.type==="nodechange"||!Kw(p,a))&&n.fire("SelectionChange"),a=p}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var l=n.selection.getStart(!0);!l||!Hn.range&&n.selection.isCollapsed()||vd(n)&&!i.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(l){!l.isDefaultPrevented()&&vd(n)&&(n.selection.getNode().nodeName==="IMG"?ji.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,l,v;this.editor.initialized&&a&&!C4(this.editor)&&!this.editor.mode.isReadOnly()&&(v=this.editor.getBody(),i=a.getStart(!0)||v,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,v))&&(i=v),l=[],this.editor.dom.getParent(i,function(p){if(p===v)return!0;l.push(p)}),n=n||{},n.element=i,n.parents=l,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),A3=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},zB=function(e){e.parser.addNodeFilter("details",function(n){He(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){He(n,function(a){var i=a.attr("data-mce-open");a.attr("open",$e(i)?i:null),a.attr("data-mce-open",null)})})},FB=function(e){A3(e),zB(e)},LB=function(e){return Yn(e)&&Vc(je.fromDom(e))},yF=function(e){var n=e.selection.getRng(),a=dt.fromRangeStart(n),i=dt.fromRangeEnd(n);if(dt.isElementPosition(a)){var l=a.container();LB(l)&&ou(l).each(function(v){return n.setStart(v.container(),v.offset())})}if(dt.isElementPosition(i)){var l=a.container();LB(l)&&ol(l).each(function(p){return n.setEnd(p.container(),p.offset())})}e.selection.setRng(HE(n))},FO=function(e){e.on("click",function(n){n.detail>=3&&yF(e)})},HB=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,l=a.defaultView;return{top:n.top+l.pageYOffset-i.clientTop,left:n.left+l.pageXOffset-i.clientLeft}},wF=function(e){return e.inline?HB(e.getBody()):{left:0,top:0}},CF=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},SF=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:l},Cf=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=HB(e.getContentAreaContainer()),i=SF(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},VB=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},UB=function(e,n){return VB(wF(e),CF(e),Cf(e,n))},E3=La,_F=xl,xF=function(e,n){return E3(n)&&n!==e},kF=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!E3(n)},AF=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},EF=function(e,n,a,i){var l=e.dom,v=n.cloneNode(!0);l.setStyles(v,{width:a,height:i}),l.setAttrib(v,"data-mce-selected",null);var p=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),l.setStyles(v,{margin:0,boxSizing:"border-box"}),p.appendChild(v),p},TF=function(e,n){e.parentNode!==n&&n.appendChild(e)},LO=function(e,n,a,i,l,v){var p=0,x=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>l&&(p=n.pageX+a-l),n.pageY+i>v&&(x=n.pageY+i-v),e.style.width=a-p+"px",e.style.height=i-x+"px"},WB=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},OF=function(e){return e.button===0},jB=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},DF=function(e,n){return function(a){if(OF(a)){var i=rn(n.dom.getParents(a.target),n4(E3,_F)).getOr(null);if(xF(n.getBody(),i)){var l=n.dom.getPos(i),v=n.getBody(),p=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?v.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?v.scrollHeight:p.offsetHeight)-2,relX:a.pageX-l.x,relY:a.pageY-l.y,width:i.offsetWidth,height:i.offsetHeight,ghost:EF(n,i,i.offsetWidth,i.offsetHeight)})}}}},RF=function(e,n){var a=ji.throttle(function(i,l){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,l)},0);return n.on("remove",a.stop),function(i){return e.on(function(l){var v=Math.max(Math.abs(i.screenX-l.screenX),Math.abs(i.screenY-l.screenY));if(!l.dragging&&v>10){var p=n.fire("dragstart",{target:l.element});if(p.isDefaultPrevented())return;l.dragging=!0,n.focus()}if(l.dragging){var x=jB(l,UB(n,i));TF(l.ghost,n.getBody()),LO(l.ghost,x,l.width,l.height,l.maxX,l.maxY),a(i.clientX,i.clientY)}})}},$F=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},BF=function(e,n){return function(a){e.on(function(i){if(i.dragging){if(kF(n,$F(n.selection),i.element)){var l=AF(i.element),v=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});v.isDefaultPrevented()||n.undoManager.transact(function(){WB(i.element),n.insertContent(n.dom.getOuterHTML(l)),n._selectionOverrides.hideFakeCaret()})}n.fire("dragend")}}),GB(e)}},MF=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),GB(e)}},GB=function(e){e.on(function(n){WB(n.ghost)}),e.clear()},HO=function(e){var n=td(),a=Ma.DOM,i=document,l=DF(n,e),v=RF(n,e),p=BF(n,e),x=MF(n,e);e.on("mousedown",l),e.on("mousemove",v),e.on("mouseup",p),a.bind(i,"mousemove",v),a.bind(i,"mouseup",x),e.on("remove",function(){a.unbind(i,"mousemove",v),a.unbind(i,"mouseup",x)}),e.on("keydown",function(A){A.keyCode===Un.ESC&&x()})},PF=function(e){e.on("drop",function(n){var a=typeof n.clientX<"u"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(E3(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},qB=function(e){var n=function(l){if(!l.isDefaultPrevented()){var v=l.dataTransfer;v&&(Ee(v.types,"Files")||v.files.length>0)&&(l.preventDefault(),l.type==="drop"&&jk(e,"Dropped file type is not supported"))}},a=function(l){Y0(e,l.target)&&n(l)},i=function(){var l=Ma.DOM,v=e.dom,p=document,x=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];He(A,function(N){l.bind(p,N,a),v.bind(x,N,n)}),e.on("remove",function(){He(A,function(N){l.unbind(p,N,a),v.unbind(x,N,n)})})};e.on("init",function(){ji.setEditorTimeout(e,i,0)})},IF=function(e){HO(e),PF(e),Yh(e)&&qB(e)},NF=function(e){var n=qb(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=jg(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},zF=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(Mu(a)){var i=ym(e.getBody(),a),l=La(i)?i:a;e.selection.getNode()!==l&&P1(e,l).each(function(v){return e.selection.setRng(v)})}})})},KB=xl,So=La,T3=function(e,n){return ym(e.getBody(),n)},FF=function(e){var n=e.selection,a=e.dom,i=a.isBlock,l=e.getBody(),v=au(e,l,i,function(){return sl(e)}),p="sel-"+a.uniqueId(),x="data-mce-selected",A,N=function(Bt){return a.hasClass(Bt,"mce-offscreen-selection")},X=function(Bt){return Bt!==l&&(So(Bt)||Mu(Bt))&&a.isChildOf(Bt,l)},Z=function(Bt){return zl(Bt)||Cd(Bt)||kg(Bt)||Ag(Bt)},Q=function(){var Bt=a.get(p);return Bt&&Bt.getElementsByTagName("*")[0]},ce=function(Bt){Bt&&n.setRng(Bt)},ve=n.getRng,me=function(Bt,Ln,Vt,vn){vn===void 0&&(vn=!0);var jt=e.fire("ShowCaret",{target:Ln,direction:Bt,before:Vt});return jt.isDefaultPrevented()?null:(vn&&n.scrollIntoView(Ln,Bt===-1),v.show(Vt,Ln))},he=function(Bt){Bt.hasAttribute("data-mce-caret")&&(f2(Bt),ce(ve()),n.scrollIntoView(Bt))},De=function(){e.on("mouseup",function(jt){var Qt=ve();Qt.collapsed&&Rm(e,jt.clientX,jt.clientY)&&XT(e,Qt,!1).each(ce)}),e.on("click",function(jt){var Qt=T3(e,jt.target);Qt&&(So(Qt)&&(jt.preventDefault(),e.focus()),KB(Qt)&&a.isChildOf(Qt,n.getNode())&&Ft())}),e.on("blur NewBlock",Ft),e.on("ResizeWindow FullscreenStateChanged",v.reposition);var Bt=function(jt){var Qt=jt.firstChild;if(xe(Qt))return!1;var yn=dt.before(Qt);if(wa(yn.getNode())&&jt.childNodes.length===1)return!Z(yn);var Pt=ho(jt),hn=Pt.next(yn);return hn&&!Z(hn)},Ln=function(jt,Qt){var yn=a.getParent(jt,i),Pt=a.getParent(Qt,i);return yn===Pt},Vt=function(jt,Qt){var yn=a.getParent(jt,i),Pt=a.getParent(Qt,i);return xe(yn)?!1:jt!==Pt&&a.isChildOf(yn,Pt)&&So(T3(e,yn))===!1?!0:!a.isChildOf(Pt,yn)&&!Ln(yn,Pt)&&Bt(yn)};e.on("tap",function(jt){var Qt=jt.target,yn=T3(e,Qt);So(yn)?(jt.preventDefault(),P1(e,yn).each(xt)):X(Qt)&&P1(e,Qt).each(xt)},!0),e.on("mousedown",function(jt){var Qt=jt.target;if(!(Qt!==l&&Qt.nodeName!=="HTML"&&!a.isChildOf(Qt,l))&&Rm(e,jt.clientX,jt.clientY)!==!1){var yn=T3(e,Qt);if(yn)So(yn)?(jt.preventDefault(),P1(e,yn).each(xt)):(Ft(),!(KB(yn)&&jt.shiftKey)&&!wm(jt.clientX,jt.clientY,n.getRng())&&(mn(),n.placeCaretAt(jt.clientX,jt.clientY)));else if(X(Qt))P1(e,Qt).each(xt);else if(fm(Qt)===!1){Ft(),mn();var Pt=cO(l,jt.clientX,jt.clientY);if(Pt&&!Vt(Qt,Pt.node)){jt.preventDefault();var hn=me(1,Pt.node,Pt.before,!1);ce(hn),e.getBody().focus()}}}}),e.on("keypress",function(jt){Un.modifierPressed(jt)||So(n.getNode())&&jt.preventDefault()}),e.on("GetSelectionRange",function(jt){var Qt=jt.range;if(A){if(!A.parentNode){A=null;return}Qt=Qt.cloneRange(),Qt.selectNode(A),jt.range=Qt}}),e.on("SetSelectionRange",function(jt){jt.range=We(jt.range);var Qt=xt(jt.range,jt.forward);Qt&&(jt.range=Qt)});var vn=function(jt){return jt.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(jt){var Qt=jt.range,yn=Qt.startContainer.parentNode;!Xe(Qt)&&!vn(yn)&&mn(),N(yn)||Ft()}),e.on("copy",function(jt){var Qt=jt.clipboardData;if(!jt.isDefaultPrevented()&&jt.clipboardData&&!Hn.ie){var yn=Q();yn&&(jt.preventDefault(),Qt.clearData(),Qt.setData("text/html",yn.outerHTML),Qt.setData("text/plain",yn.outerText||yn.innerText))}}),IF(e),NF(e),zF(e)},Ae=function(Bt){return Nu(Bt)||Ap(Bt)||Ep(Bt)},Xe=function(Bt){return Ae(Bt.startContainer)||Ae(Bt.endContainer)},We=function(Bt){var Ln=e.schema.getShortEndedElements(),Vt=a.createRng(),vn=Bt.startContainer,jt=Bt.startOffset,Qt=Bt.endContainer,yn=Bt.endOffset;return Tr(Ln,vn.nodeName.toLowerCase())?jt===0?Vt.setStartBefore(vn):Vt.setStartAfter(vn):Vt.setStart(vn,jt),Tr(Ln,Qt.nodeName.toLowerCase())?yn===0?Vt.setEndBefore(Qt):Vt.setEndAfter(Qt):Vt.setEnd(Qt,yn),Vt},Re=function(Bt,Ln,Vt){var vn=e.$,jt=wh(je.fromDom(e.getBody()),"#"+p).fold(function(){return vn([])},function(Pt){return vn([Pt.dom])});jt.length===0&&(jt=vn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",p),jt.appendTo(e.getBody()));var Qt=a.createRng();Ln===Vt&&Hn.ie?(jt.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(Ln),Qt.setStartAfter(jt[0].firstChild.firstChild),Qt.setEndAfter(Ln)):(jt.empty().append(us).append(Ln).append(us),Qt.setStart(jt[0].firstChild,1),Qt.setEnd(jt[0].lastChild,0)),jt.css({top:a.getPos(Bt,e.getBody()).y}),jt[0].focus();var yn=n.getSel();return yn.removeAllRanges(),yn.addRange(Qt),Qt},Qe=function(Bt){var Ln=Bt.cloneNode(!0),Vt=e.fire("ObjectSelected",{target:Bt,targetClone:Ln});if(Vt.isDefaultPrevented())return null;var vn=Re(Bt,Vt.targetClone,Ln),jt=je.fromDom(Bt);return He($i(je.fromDom(e.getBody()),"*[data-mce-selected]"),function(Qt){$a(jt,Qt)||bt(Qt,x)}),a.getAttrib(Bt,x)||Bt.setAttribute(x,"1"),A=Bt,mn(),vn},xt=function(Bt,Ln){if(!Bt)return null;if(Bt.collapsed){if(!Xe(Bt)){var Vt=Ln?1:-1,vn=ig(Vt,l,Bt),jt=vn.getNode(!Ln);if(fm(jt))return me(Vt,jt,Ln?!vn.isAtEnd():!1,!1);var Qt=vn.getNode(Ln);if(fm(Qt))return me(Vt,Qt,Ln?!1:!vn.isAtEnd(),!1)}return null}var yn=Bt.startContainer,Pt=Bt.startOffset,hn=Bt.endOffset;if(yn.nodeType===3&&Pt===0&&So(yn.parentNode)&&(yn=yn.parentNode,Pt=a.nodeIndex(yn),yn=yn.parentNode),yn.nodeType!==1)return null;if(hn===Pt+1&&yn===Bt.endContainer){var xr=yn.childNodes[Pt];if(X(xr))return Qe(xr)}return null},Ft=function(){A&&A.removeAttribute(x),wh(je.fromDom(e.getBody()),"#"+p).each(vo),A=null},Vn=function(){v.destroy(),A=null},mn=function(){v.hide()};return Hn.ceFalse&&!Dm(e)&&De(),{showCaret:me,showBlockCaretContainer:he,hideFakeCaret:mn,destroy:Vn}},LF=function(e){var n=wt.each,a=Un.BACKSPACE,i=Un.DELETE,l=e.dom,v=e.selection,p=e.parser,x=Hn.gecko,A=Hn.ie,N=Hn.webkit,X="data:text/mce-internal,",Z=A?"Text":"URL",Q=function(It,Kt){try{e.getDoc().execCommand(It,!1,Kt)}catch{}},ce=function(It){return It.isDefaultPrevented()},ve=function(It){var Kt,Dn;It.dataTransfer&&(e.selection.isCollapsed()&&It.target.tagName==="IMG"&&v.select(It.target),Kt=e.selection.getContent(),Kt.length>0&&(Dn=X+escape(e.id)+","+escape(Kt),It.dataTransfer.setData(Z,Dn)))},me=function(It){var Kt;return It.dataTransfer&&(Kt=It.dataTransfer.getData(Z),Kt&&Kt.indexOf(X)>=0)?(Kt=Kt.substr(X.length).split(","),{id:unescape(Kt[0]),html:unescape(Kt[1])}):null},he=function(It,Kt){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:It,internal:Kt}):e.execCommand("mceInsertContent",!1,It)},De=function(){var It=function(Dn){var nt=l.create("body"),Ht=Dn.cloneContents();return nt.appendChild(Ht),v.serializer.serialize(nt,{format:"html"})},Kt=function(Dn){var nt=It(Dn),Ht=l.createRng();Ht.selectNode(e.getBody());var Nt=It(Ht);return nt===Nt};e.on("keydown",function(Dn){var nt=Dn.keyCode,Ht,Nt;if(!ce(Dn)&&(nt===i||nt===a)){if(Ht=e.selection.isCollapsed(),Nt=e.getBody(),Ht&&!l.isEmpty(Nt)||!Ht&&!Kt(e.selection.getRng()))return;Dn.preventDefault(),e.setContent(""),Nt.firstChild&&l.isBlock(Nt.firstChild)?e.selection.setCursorLocation(Nt.firstChild,0):e.selection.setCursorLocation(Nt,0),e.nodeChanged()}})},Ae=function(){e.shortcuts.add("meta+a",null,"SelectAll")},Xe=function(){e.inline||l.bind(e.getDoc(),"mousedown mouseup",function(It){var Kt;if(It.target===e.getDoc().documentElement)if(Kt=v.getRng(),e.getBody().focus(),It.type==="mousedown"){if(Nu(Kt.startContainer))return;v.placeCaretAt(It.clientX,It.clientY)}else v.setRng(Kt)})},We=function(){e.on("keydown",function(It){if(!ce(It)&&It.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(v.isCollapsed()&&v.getRng().startOffset===0){var Kt=v.getNode(),Dn=Kt.previousSibling;if(Kt.nodeName==="HR"){l.remove(Kt),It.preventDefault();return}Dn&&Dn.nodeName&&Dn.nodeName.toLowerCase()==="hr"&&(l.remove(Dn),It.preventDefault())}}})},Re=function(){Range.prototype.getClientRects||e.on("mousedown",function(It){if(!ce(It)&&It.target.nodeName==="HTML"){var Kt=e.getBody();Kt.blur(),ji.setEditorTimeout(e,function(){Kt.focus()})}})},Qe=function(){e.on("click",function(It){var Kt=It.target;/^(IMG|HR)$/.test(Kt.nodeName)&&l.getContentEditableParent(Kt)!=="false"&&(It.preventDefault(),e.selection.select(Kt),e.nodeChanged()),Kt.nodeName==="A"&&l.hasClass(Kt,"mce-item-anchor")&&(It.preventDefault(),v.select(Kt))})},xt=function(){var It=function(){var Dn=l.getAttribs(v.getStart().cloneNode(!1));return function(){var nt=v.getStart();nt!==e.getBody()&&(l.setAttrib(nt,"style",null),n(Dn,function(Ht){nt.setAttributeNode(Ht.cloneNode(!0))}))}},Kt=function(){return!v.isCollapsed()&&l.getParent(v.getStart(),l.isBlock)!==l.getParent(v.getEnd(),l.isBlock)};e.on("keypress",function(Dn){var nt;if(!ce(Dn)&&(Dn.keyCode===8||Dn.keyCode===46)&&Kt())return nt=It(),e.getDoc().execCommand("delete",!1,null),nt(),Dn.preventDefault(),!1}),l.bind(e.getDoc(),"cut",function(Dn){var nt;!ce(Dn)&&Kt()&&(nt=It(),ji.setEditorTimeout(e,function(){nt()}))})},Ft=function(){e.on("keydown",function(It){if(!ce(It)&&It.keyCode===a&&v.isCollapsed()&&v.getRng().startOffset===0){var Kt=v.getNode().previousSibling;if(Kt&&Kt.nodeName&&Kt.nodeName.toLowerCase()==="table")return It.preventDefault(),!1}})},Vn=function(){e.on("keydown",function(It){var Kt,Dn;if(!(ce(It)||It.keyCode!==Un.BACKSPACE)){Kt=v.getRng();var nt=Kt.startContainer,Ht=Kt.startOffset,Nt=l.getRoot();if(Dn=nt,!(!Kt.collapsed||Ht!==0)){for(;Dn&&Dn.parentNode&&Dn.parentNode.firstChild===Dn&&Dn.parentNode!==Nt;)Dn=Dn.parentNode;Dn.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,Dn),Kt=l.createRng(),Kt.setStart(nt,0),Kt.setEnd(nt,0),v.setRng(Kt))}}})},mn=function(){var It=function(){Q("StyleWithCSS",!1),Q("enableInlineTableEditing",!1),R_(e)||Q("enableObjectResizing",!1)};S4(e)||e.on("BeforeExecCommand mousedown",It)},Bt=function(){var It=function(){n(l.select("a"),function(Kt){var Dn=Kt.parentNode,nt=l.getRoot();if(Dn.lastChild===Kt){for(;Dn&&!l.isBlock(Dn);){if(Dn.parentNode.lastChild!==Dn||Dn===nt)return;Dn=Dn.parentNode}l.add(Dn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(Kt){(Kt.type==="setcontent"||Kt.command==="mceInsertLink")&&It()})},Ln=function(){Bi(e)&&e.on("init",function(){Q("DefaultParagraphSeparator",Bi(e))})},Vt=function(){e.on("keyup focusin mouseup",function(It){Un.modifierPressed(It)||v.normalize()},!0)},vn=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},jt=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},Qt=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(It){var Kt;if(It.target.nodeName==="HTML"){if(Hn.ie>11){e.getBody().focus();return}Kt=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Kt),e.selection.normalize(),e.nodeChanged()}}))},yn=function(){Hn.mac&&e.on("keydown",function(It){if(Un.metaKeyPressed(It)&&!It.shiftKey&&(It.keyCode===37||It.keyCode===39)){It.preventDefault();var Kt=e.selection.getSel();Kt.modify("move",It.keyCode===37?"backward":"forward","lineboundary")}})},Pt=function(){Q("AutoUrlDetect",!1)},hn=function(){e.on("click",function(It){var Kt=It.target;do if(Kt.tagName==="A"){It.preventDefault();return}while(Kt=Kt.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},xr=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(It){It.preventDefault()})})},ra=function(){p.addNodeFilter("br",function(It){for(var Kt=It.length;Kt--;)It[Kt].attr("class")==="Apple-interchange-newline"&&It[Kt].remove()})},Zr=function(){e.on("dragstart",function(It){ve(It)}),e.on("drop",function(It){if(!ce(It)){var Kt=me(It);if(Kt&&Kt.id!==e.id){It.preventDefault();var Dn=qw(It.x,It.y,e.getDoc());v.setRng(Dn),he(Kt.html,!0)}}})},zi=ye,uo=function(){if(!x||e.removed)return!1;var It=e.selection.getSel();return!It||!It.rangeCount||It.rangeCount===0},ju=function(){N&&(Xe(),Qe(),xr(),Ae(),Hn.iOS&&(jt(),Qt(),hn())),x&&(Re(),mn(),vn(),yn())},ps=function(){Vn(),De(),Hn.windowsPhone||Vt(),N&&(Xe(),Qe(),Ln(),xr(),Ft(),ra(),Hn.iOS?(jt(),Qt(),hn()):Ae()),Hn.ie>=11&&(Qt(),Ft()),Hn.ie&&(Ae(),Pt(),Zr()),x&&(We(),Re(),xt(),mn(),Bt(),vn(),yn(),Ft())};return Dm(e)?ju():ps(),{refreshContentEditable:zi,isHidden:uo}},O3=Ma.DOM,VO=function(e,n){var a=je.fromDom(e.getBody()),i=fo(vu(a)),l=je.fromTag("style");M(l,"type","text/css"),Ho(l,je.fromText(n)),Ho(i,l),e.on("remove",function(){vo(l)})},HF=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},D3=function(e){return lo(e,function(n){return Te(n)===!1})},XB=function(e){var n=e.settings;return D3({block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements,padd_empty_block_inline_children:n.format_empty_lines})},YB=function(e){var n=e.settings,a=e.editorUpload.blobCache;return D3({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:HF(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})},VF=function(e){var n=e.settings;return Wn(Wn(Wn({},YB(e)),XB(e)),D3({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before}))},UF=function(e){var n=Hk(YB(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var l=a.length,v,p,x=e.dom,A="data-mce-"+i;l--;)if(v=a[l],p=v.attr(i),p&&!v.attr(A)){if(p.indexOf("data:")===0||p.indexOf("blob:")===0)continue;i==="style"?(p=x.serializeStyle(x.parseStyle(p),v.name),p.length||(p=null),v.attr(A,p),v.attr(i,p)):i==="tabindex"?(v.attr(A,p),v.attr(i,null)):v.attr(A,e.convertURL(p,i,v.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var l=a[i],v=l.attr("type")||"no/type";v.indexOf("mce-")!==0&&l.attr("type","mce-"+v)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var l=a[i];l.type=8,l.name="#comment",l.value="[CDATA["+e.dom.encode(l.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,l=e.schema.getNonEmptyElements();i--;){var v=a[i];v.isEmpty(l)&&v.getAll("br").length===0&&(v.append(new ll("br",1)).shortEnded=!0)}}),n},WF=function(e){e.settings.auto_focus&&ji.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},jF=function(e){var n=e.dom.getRoot();!e.inline&&(!vd(e)||e.selection.getStart(!0)===n)&&ou(n).each(function(a){var i=a.getNode(),l=Ao(i)?ou(i).getOr(a):a;Hn.browser.isIE()?hE(e,l.toRange()):e.selection.setRng(l.toRange())})},GF=function(e){e.bindPendingEventDelegates(),e.initialized=!0,lx(e),e.focus(!0),jF(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),WF(e)},JB=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},qF=function(e,n,a){var i=[new si(function(l,v){return JB(e).loadAll(n,l,v)})];return e.inline?i:i.concat([new si(function(l,v){return e.ui.styleSheetLoader.loadAll(a,l,v)})])},ZB=function(e){var n=JB(e),a=D_(e),i=e.contentCSS,l=function(){n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},v=function(){e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){var p="";wt.each(e.contentStyles,function(A){p+=A+`\r
`}),e.dom.addStyle(p)}var x=si.all(qF(e,i,a)).then(v).catch(v);return e.settings.content_style&&VO(e,e.settings.content_style),x},KF=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();lf(e),!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,O3.setAttrib(i,"spellcheck","false")),e.quirks=LF(e),sx(e);var l=mc(e);l!==void 0&&(i.dir=l),n.protect&&e.on("BeforeSetContent",function(v){wt.each(n.protect,function(p){v.content=v.content.replace(p,function(x){return"<!--mce:protected "+escape(x)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(v){e.composing=v.type==="compositionstart"})},XF=function(e){Dm(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},UO=function(e){e.removed!==!0&&(XF(e),GF(e))},R3=function(e,n){var a=e.settings,i=e.getElement(),l=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(l.open(),l.write(e.iframeHTML),l.close()),e.inline&&(O3.addClass(i,"mce-content-body"),e.contentDocument=l=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var v=e.getBody();v.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&O3.getStyle(v,"position",!0)==="static"&&(v.style.position="relative"),v.contentEditable=e.getParam("content_editable_state",!0)),v.disabled=!1,e.editorUpload=UI(e),e.schema=Bs(XB(e)),e.dom=Ma(l,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:m0(e),referrerPolicy:h0(e),onSetAttrib:function(A){e.fire("SetAttrib",A)}}),e.parser=UF(e),e.serializer=xR(VF(e),e),e.selection=lR(e.dom,e.getWin(),e.serializer,e),e.annotator=F0(e),e.formatter=jR(e),e.undoManager=gf(e),e._nodeChangeDispatcher=new NB(e),e._selectionOverrides=FF(e),oz(e),FB(e),Dm(e)||FO(e);var p=bF(e);az(e,p),K$(e),JR(e);var x=BP(e);KF(e),x.fold(function(){ZB(e).then(function(){return UO(e)})},function(A){e.setProgressState(!0),ZB(e).then(function(){A().then(function(N){e.setProgressState(!1),UO(e)},function(N){e.notificationManager.open({type:"error",text:String(N)}),UO(e)})})})},gS=Ma.DOM,YF=function(e,n){if(document.domain!==window.location.hostname&&Hn.browser.isIE()){var a=Ji("mce");e[a]=function(){R3(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return gS.setAttrib(n,"src",i),!0}return!1},JF=function(e,n,a,i){var l=je.fromTag("iframe");return J(l,i),J(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),rm(l,"tox-edit-area__iframe"),l},ZF=function(e){var n=A_(e)+"<html><head>";rw(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=c4(e),i=f4(e),l=e.translate(z_(e));return f0(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+f0(e)+'" />'),n+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+l+'">')+"<br></body></html>",n},QB=function(e,n){var a=e.translate("Rich Text Area"),i=JF(e.id,a,n.height,l4(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var l=YF(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=ZF(e),gS.add(n.iframeContainer,i),l},QF=function(e,n){var a=QB(e,n);n.editorContainer&&(gS.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=gS.isHidden(n.editorContainer)),e.getElement().style.display="none",gS.setAttrib(e.id,"aria-hidden","true"),a||R3(e)},WO=Ma.DOM,jO=function(e,n,a){var i=cl.get(a),l=cl.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=wt.trim(a),i&&wt.inArray(n,a)===-1){if(wt.each(cl.dependencies(a),function(p){jO(e,n,p)}),e.plugins[a])return;try{var v=new i(e,l,e.$);e.plugins[a]=v,v.init&&(v.init(e,l),n.push(a))}catch(p){HR(e,a,p)}}},GO=function(e){return e.replace(/^\-/,"")},eL=function(e){var n=[];wt.each(y0(e).split(/[ ,]/),function(a){jO(e,n,GO(a))})},tL=function(e){var n=wt.trim(ef(e)),a=e.ui.registry.getAll().icons,i=Wn(Wn({},Wk.get("default").icons),Wk.get(n).icons);Vr(i,function(l,v){Tr(a,v)||e.ui.registry.addIcon(v,l)})},nL=function(e){var n=Kh(e);if($e(n)){e.settings.theme=GO(n);var a=xd.get(n);e.theme=new a(e,xd.urls[n]),e.theme.init&&e.theme.init(e,xd.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},eM=function(e){return e.theme.renderUI()},rL=function(e){var n=e.getElement(),a=Kh(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},tM=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},nM=function(e){var n=WO.create("div");return WO.insertAfter(n,e),tM(n)},aL=function(e){var n=e.getElement();return e.inline?tM(null):nM(n)},oL=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,$e(Kh(e))?eM(e):se(Kh(e))?rL(e):aL(e)},rM=function(e,n){var a={show:te.from(n.show).getOr(ye),hide:te.from(n.hide).getOr(ye),disable:te.from(n.disable).getOr(ye),isDisabled:te.from(n.isDisabled).getOr(at),enable:function(){e.mode.isReadOnly()||te.from(n.enable).map(kt)}};e.ui=Wn(Wn({},e.ui),a)},aM=function(e){e.fire("ScriptsLoaded"),tL(e),nL(e),eL(e);var n=oL(e);rM(e,te.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,FI(e),e.inline?R3(e):QF(e,a)},H1=Ma.DOM,oM=function(e){return e.charAt(0)==="-"},iM=function(e,n){var a=g0(n),i=ci(n);if(wu.hasCode(a)===!1&&a!=="en"){var l=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(l,ye,void 0,function(){XC(n,l,a)})}},uM=function(e,n,a,i){var l=Kh(n);if($e(l)){if(!oM(l)&&!Tr(xd.urls,l)){var v=M_(n);v?xd.load(l,n.documentBaseURI.toAbsolute(v)):xd.load(l,"themes/"+l+"/theme"+a+".js")}e.loadQueue(function(){xd.waitFor(l,i)})}else i()},iL=function(e){return te.from(d0(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:te.none()}})},sM=function(e,n,a){return te.from(n).filter(function(i){return i.length>0&&!Wk.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:te.some(i)}})},uL=function(e,n,a){var i=sM(n,"default",a),l=iL(n).orThunk(function(){return sM(n,ef(n),"")});He(hr([i,l]),function(v){e.add(v.url,ye,void 0,function(){NI(n,v.url,v.name.getOrUndefined())})})},sL=function(e,n){wt.each(x4(e),function(a,i){cl.load(i,a,ye,void 0,function(){qk(e,a,i)}),e.settings.plugins+=" "+i}),wt.each(y0(e).split(/[ ,]/),function(a){if(a=wt.trim(a),a&&!cl.urls[a])if(oM(a)){a=a.substr(1,a.length);var i=cl.dependencies(a);wt.each(i,function(v){var p={prefix:"plugins/",resource:v,suffix:"/plugin"+n+".js"},x=cl.createUrl(p,v);cl.load(x.resource,x,ye,void 0,function(){qk(e,x.prefix+x.resource+x.suffix,x.resource)})})}else{var l={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};cl.load(a,l,ye,void 0,function(){qk(e,l.prefix+l.resource+l.suffix,a)})}})},lL=function(e,n){var a=rv.ScriptLoader;uM(a,e,n,function(){iM(a,e),uL(a,e,n),sL(e,n),a.loadQueue(function(){e.removed||aM(e)},e,function(){e.removed||aM(e)})})},cL=function(e,n){return Al.forElement(e,{contentCssCors:_4(n),referrerPolicy:h0(n)})},fL=function(e){var n=e.id;wu.setCode(g0(e));var a=function(){H1.unbind(window,"ready",a),e.render()};if(!Dh.Event.domLoaded){H1.bind(window,"ready",a);return}if(e.getElement()&&Hn.contentEditable){var i=je.fromDom(e.getElement()),l=xn(i);e.on("remove",function(){pt(i.dom.attributes,function(p){return bt(i,p.name)}),J(i,l)}),e.ui.styleSheetLoader=cL(i,e),b4(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var v=e.getElement().form||H1.getParent(n,"form");v&&(e.formElement=v,P_(e)&&!Ai(e.getElement())&&(H1.insertAfter(H1.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(p){e.fire(p.type,p)},H1.bind(v,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),I_(e)&&!v.submit.nodeType&&!v.submit.length&&!v._mceOldSubmit&&(v._mceOldSubmit=v.submit,v.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),v._mceOldSubmit(v)})),e.windowManager=IT(e),e.notificationManager=pv(e),lw(e)&&e.on("GetContent",function(p){p.save&&(p.content=H1.encode(p.content))}),y4(e)&&e.on("submit",function(){e.initialized&&e.save()}),b0(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),lL(e,e.suffix)}},vL=function(e,n){return rR(e,n)},dL={"font-size":"size","font-family":"face"},mL=function(e,n,a){var i=function(v){return Ei(v,e).orThunk(function(){return xo(v)==="font"?Ir(dL,e).bind(function(p){return Ce(v,p)}):te.none()})},l=function(v){return $a(je.fromDom(n),v)};return KE(je.fromDom(a),function(v){return i(v)},l)},$3=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},lM=function(e,n){return te.from(Ma.DOM.getStyle(n,e,!0))},qO=function(e){return function(n,a){return te.from(a).map(je.fromDom).filter(Fa).bind(function(i){return mL(e,n,i.dom).or(lM(e,i.dom))}).getOr("")}},hL=qO("font-size"),cM=Me($3,qO("font-family")),fM=function(e){return ou(e.getBody()).map(function(n){var a=n.container();return gn(a)?a.parentNode:a})},gL=function(e){return te.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?te.none():te.from(e.selection.getStart(!0))})},pL=function(e,n){return gL(e).orThunk(le(fM,e)).map(je.fromDom).filter(Fa).bind(n)},KO=function(e,n){return pL(e,re(te.some,n))},B3=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=Xp(e),l=lm(e);return l?l[a-1]||n:i[a-1]||n}else return n}else return n},bL=function(e){var n=e.split(/\s*,\s*/);return tt(n,function(a){return a.indexOf(" ")!==-1&&!(po(a,'"')||po(a,"'"))?"'"+a+"'":a}).join(",")},XO=function(e,n){var a=B3(e,n);e.formatter.toggle("fontname",{value:bL(a)}),e.nodeChanged()},yL=function(e){return KO(e,function(n){return cM(e.getBody(),n.dom)}).getOr("")},wL=function(e,n){e.formatter.toggle("fontsize",{value:B3(e,n)}),e.nodeChanged()},CL=function(e){return KO(e,function(n){return hL(e.getBody(),n.dom)}).getOr("")},vM=function(e){return KO(e,function(n){var a=je.fromDom(e.getBody()),i=KE(n,function(v){return Ei(v,"line-height")},le($a,a)),l=function(){var v=parseFloat(gr(n,"line-height")),p=parseFloat(gr(n,"font-size"));return String(v/p)};return i.getOrThunk(l)}).getOr("")},SL=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},_L=function(e){if(typeof e!="string"){var n=wt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},xL=function(e,n){var a=_L(n);tR(e,a.content,a.details)},M3=wt.each,kL=wt.map,Ws=wt.inArray,qg=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,l){var v,p=!1,x=this;if(!x.editor.removed){if(n.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!l||!l.skip_focus)?x.editor.focus():oC(x.editor)),l=x.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),l.isDefaultPrevented())return!1;var A=n.toLowerCase();if(v=x.commands.exec[A])return v(A,a,i),x.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(M3(this.editor.plugins,function(N){if(N.execCommand&&N.execCommand(n,a,i))return x.editor.fire("ExecCommand",{command:n,ui:a,value:i}),p=!0,!1}),p)return p;if(x.editor.theme&&x.editor.theme.execCommand&&x.editor.theme.execCommand(n,a,i))return x.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{p=x.editor.getDoc().execCommand(n,a,i)}catch{}return p?(x.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch{}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch{}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;M3(n,function(l,v){M3(v.toLowerCase().split(","),function(p){i.commands[a][p]=l})})},e.prototype.addCommand=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.exec[n]=function(v,p,x,A){return a.call(i||l.editor,p,x,A)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch{}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||l.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||l.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":ye,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(l,v,p){Z0(n,p)},"Cut,Copy,Paste":function(l){var v=n.getDoc(),p;try{a.execNativeCommand(l)}catch{p=!0}if(l==="paste"&&!v.queryCommandEnabled(l)&&(p=!0),p||!v.queryCommandSupported(l)){var x=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Hn.mac&&(x=x.replace(/Ctrl\+/g,"+")),n.notificationManager.open({text:x,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var l=n.dom.getParent(n.selection.getStart(),"a");l&&n.dom.remove(l,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(l){var v=l.substring(7);v==="full"&&(v="justify"),M3("left,center,right,justify".split(","),function(p){v!==p&&n.formatter.remove("align"+p)}),v!=="none"&&a.toggleFormat("align"+v)},"InsertUnorderedList,InsertOrderedList":function(l){var v;a.execNativeCommand(l);var p=n.dom.getParent(n.selection.getNode(),"ol,ul");p&&(v=p.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(v.nodeName)&&(a.storeSelection(),n.dom.split(v,p),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){a.toggleFormat(l)},"ForeColor,HiliteColor":function(l,v,p){a.toggleFormat(l,{value:p})},FontName:function(l,v,p){XO(n,p)},FontSize:function(l,v,p){wL(n,p)},LineHeight:function(l,v,p){SL(n,p)},Lang:function(l,v,p){a.toggleFormat(l,{value:p.code,customValue:p.customCode})},RemoveFormat:function(l){n.formatter.remove(l)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(l,v,p){return a.toggleFormat(p||"p")},mceCleanup:function(){var l=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(l)},mceRemoveNode:function(l,v,p){var x=p||n.selection.getNode();x!==n.getBody()&&(a.storeSelection(),n.dom.remove(x,!0),a.restoreSelection())},mceSelectNodeDepth:function(l,v,p){var x=0;n.dom.getParent(n.selection.getNode(),function(A){if(A.nodeType===1&&x++===p)return n.selection.select(A),!1},n.getBody())},mceSelectNode:function(l,v,p){n.selection.select(p)},mceInsertContent:function(l,v,p){xL(n,p)},mceInsertRawHTML:function(l,v,p){n.selection.setContent("tiny_mce_marker");var x=n.getContent();n.setContent(x.replace(/tiny_mce_marker/g,function(){return p}))},mceInsertNewLine:function(l,v,p){EB(n,p)},mceToggleFormat:function(l,v,p){a.toggleFormat(p)},mceSetContent:function(l,v,p){n.setContent(p)},"Indent,Outdent":function(l){pO(n,l)},mceRepaint:ye,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(l,v,p){n.execCommand("mceInsertContent",!1,p.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(l,v,p){typeof p=="string"&&(p={href:p});var x=n.dom.getParent(n.selection.getNode(),"a");p.href=p.href.replace(/ /g,"%20"),(!x||!p.href)&&n.formatter.remove("link"),p.href&&n.formatter.apply("link",p,x)},selectAll:function(){var l=n.dom.getParent(n.selection.getStart(),xl);if(l){var v=n.dom.createRng();v.selectNodeContents(l),n.selection.setRng(v)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(l,v,p){return SB(n,p),!0}});var i=function(l){return function(){var v=n.selection,p=v.isCollapsed()?[n.dom.getParent(v.getNode(),n.dom.isBlock)]:v.getSelectedBlocks(),x=kL(p,function(A){return!!n.formatter.matchNode(A,l)});return Ws(x,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){return a.isFormatMatch(l)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return W$(n)},"InsertUnorderedList,InsertOrderedList":function(l){var v=n.dom.getParent(n.selection.getNode(),"ul,ol");return v&&(l==="insertunorderedlist"&&v.tagName==="UL"||l==="insertorderedlist"&&v.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return yL(n)},this),a.addQueryValueHandler("FontSize",function(){return CL(n)},this),a.addQueryValueHandler("LineHeight",function(){return vM(n)},this)},e}(),V1="data-mce-contenteditable",AL=function(e,n,a){H2(e,n)&&a===!1?L2(e,n):a&&rm(e,n)},YO=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch{}},P3=function(e,n){e.dom.contentEditable=n?"true":"false"},EL=function(e){He($i(e,'*[contenteditable="true"]'),function(n){M(n,V1,"true"),P3(n,!1)})},TL=function(e){He($i(e,"*["+V1+'="true"]'),function(n){bt(n,V1),P3(n,!0)})},dM=function(e){te.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},Iy=function(e){e.selection.setRng(e.selection.getRng())},OL=function(e,n){var a=je.fromDom(e.getBody());AL(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),dM(e),e.readonly=!0,P3(a,!1),EL(a)):(e.readonly=!1,P3(a,!0),TL(a),YO(e,"StyleWithCSS",!1),YO(e,"enableInlineTableEditing",!1),YO(e,"enableObjectResizing",!1),Lx(e)&&e.focus(),Iy(e),e.nodeChanged())},U1=function(e){return e.readonly},mM=function(e){e.parser.addAttributeFilter("contenteditable",function(n){U1(e)&&He(n,function(a){a.attr(V1,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(V1,function(n){U1(e)&&He(n,function(a){a.attr("contenteditable",a.attr(V1))})}),e.serializer.addTempAttr(V1)},Cv=function(e){e.serializer?mM(e):e.on("PreInit",function(){mM(e)})},DL=function(e){return e.type==="click"},RL=function(e,n){var a=function(i){return $a(i,je.fromDom(e.getBody()))};return yo(n,"a",a).bind(function(i){return Ce(i,"href")})},hM=function(e,n){if(DL(n)&&!Un.metaKeyPressed(n)){var a=je.fromDom(n.target);RL(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var l=e.dom.select(i+',[name="'+ih(i,"#")+'"]');l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},$L=function(e){e.on("ShowCaret",function(n){U1(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){U1(e)&&n.preventDefault()})},gM=wt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),I3=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||at}return e.isNative=function(n){return!!gM[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),l=$t(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);var v=this.bindings[i];if(v)for(var p=0,x=v.length;p<x;p++){var A=v[p];if(!A.removed){if(A.once&&this.off(i,A.func),l.isImmediatePropagationStopped())return l;if(A.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l},e.prototype.on=function(n,a,i,l){if(a===!1&&(a=at),a){var v={func:a,removed:!1};l&&wt.extend(v,l);for(var p=n.toLowerCase().split(" "),x=p.length;x--;){var A=p[x],N=this.bindings[A];N||(N=[],this.toggleEvent(A,!0)),i?N=Ou([v],N,!0):N=Ou(Ou([],N,!0),[v],!1),this.bindings[A]=N}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var l=n.toLowerCase().split(" "),v=l.length;v--;){var p=l[v],x=this.bindings[p];if(!p)return Vr(this.bindings,function(N,X){i.toggleEvent(X,!1),delete i.bindings[X]}),this;if(x){if(!a)x.length=0;else{var A=Jt(x,function(N){return N.func===a});x=A.fail,this.bindings[p]=x,He(A.pass,function(N){N.removed=!0})}x.length||(this.toggleEvent(n,!1),delete this.bindings[p])}}else Vr(this.bindings,function(N,X){i.toggleEvent(X,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),W1=function(e){return e._eventDispatcher||(e._eventDispatcher=new I3({scope:e,toggleEvent:function(n,a){I3.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},N3={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var l=W1(i).fire(e,n);if(a!==!1&&i.parent)for(var v=i.parent();v&&!l.isPropagationStopped();)v.fire(e,l,!1),v=v.parent();return l},on:function(e,n,a){return W1(this).on(e,n,a)},off:function(e,n){return W1(this).off(e,n)},once:function(e,n){return W1(this).once(e,n)},hasEventListeners:function(e){return W1(this).has(e)}},z3=Ma.DOM,j1,F3=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=p0(e);return a?(e.eventRoot||(e.eventRoot=z3.select(a)[0]),e.eventRoot):e.getBody()},BL=function(e){return!e.hidden&&!U1(e)},JO=function(e,n,a){BL(e)?e.fire(n,a):U1(e)&&hM(e,a)},ZO=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=F3(e,n);if(p0(e)){if(j1||(j1={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||j1&&(Vr(j1,function(l,v){e.dom.unbind(F3(e,v))}),j1=null)})),j1[n])return;a=function(l){for(var v=l.target,p=e.editorManager.get(),x=p.length;x--;){var A=p[x].getBody();(A===v||z3.isChildOf(v,A))&&JO(p[x],n,l)}},j1[n]=a,z3.bind(i,n,a)}else a=function(l){JO(e,n,l)},z3.bind(i,n,a),e.delegates[n]=a}},pM=Wn(Wn({},N3),{bindPendingEventDelegates:function(){var e=this;wt.each(e._pendingNativeEvents,function(n){ZO(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||a.removed||(n?a.initialized?ZO(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(F3(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(Vr(e.delegates,function(i,l){e.dom.unbind(F3(e,l),l,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),bM=["design","readonly"],yM=function(e,n,a,i){var l=a[n.get()],v=a[i];try{v.activate()}catch(p){console.error("problem while activating editor mode "+i+":",p);return}l.deactivate(),l.editorReadOnly!==v.editorReadOnly&&OL(e,v.editorReadOnly),n.set(i),Vw(e,i)},ML=function(e,n,a,i){if(i!==a.get()){if(!Tr(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?yM(e,a,n,i):e.on("init",function(){return yM(e,a,n,i)})}},PL=function(e,n,a){var i;if(Ee(bM,n))throw new Error("Cannot override default mode "+n);return Wn(Wn({},e),(i={},i[n]=Wn(Wn({},a),{deactivate:function(){try{a.deactivate()}catch(l){console.error("problem while deactivating editor mode "+n+":",l)}}}),i))},IL=function(e){var n=yu("design"),a=yu({design:{activate:ye,deactivate:ye,editorReadOnly:!1},readonly:{activate:ye,deactivate:ye,editorReadOnly:!0}});return Cv(e),$L(e),{isReadOnly:function(){return U1(e)},set:function(i){return ML(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,l){a.set(PL(a.get(),i,l))}}},L3=wt.each,pS=wt.explode,wM={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},CM=wt.makeMap("alt,ctrl,shift,meta,access"),NL=function(e){var n,a={};L3(pS(e.toLowerCase(),"+"),function(l){l in CM?a[l]=!0:/^[0-9]{2,}$/.test(l)?a.keyCode=parseInt(l,10):(a.charCode=l.charCodeAt(0),a.keyCode=wM[l]||l.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in CM)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,Hn.mac?a.ctrl=!0:a.shift=!0),a.meta&&(Hn.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},H3=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(L3(a.shortcuts,function(l){if(a.matchShortcut(i,l))return a.pendingPatterns=l.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(l),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,l){var v=this,p=v.normalizeCommandFunc(i);return L3(pS(wt.trim(n)),function(x){var A=v.createShortcut(x,a,p,l);v.shortcuts[A.id]=A}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:wt.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,l){var v=wt.map(pS(n,">"),NL);return v[v.length-1]=wt.extend(v[v.length-1],{func:i,scope:l||this.editor}),wt.extend(v[0],{desc:this.editor.translate(a),subpatterns:v.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),SM=function(){var e={},n={},a={},i={},l={},v={},p={},x=function(N,X){return function(Z,Q){return N[Z.toLowerCase()]=Wn(Wn({},Q),{type:X})}},A=function(N,X){return i[N.toLowerCase()]=X};return{addButton:x(e,"button"),addGroupToolbarButton:x(e,"grouptoolbarbutton"),addToggleButton:x(e,"togglebutton"),addMenuButton:x(e,"menubutton"),addSplitButton:x(e,"splitbutton"),addMenuItem:x(n,"menuitem"),addNestedMenuItem:x(n,"nestedmenuitem"),addToggleMenuItem:x(n,"togglemenuitem"),addAutocompleter:x(a,"autocompleter"),addContextMenu:x(l,"contextmenu"),addContextToolbar:x(v,"contexttoolbar"),addContextForm:x(v,"contextform"),addSidebar:x(p,"sidebar"),addIcon:A,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:l,contextToolbars:v,sidebars:p}}}},zL=function(){var e=SM();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},G1=Ma.DOM,_M=wt.extend,FL=wt.each,xM=wt.resolve,LL=Hn.ie,V3=function(){function e(n,a,i){var l=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,_M(this,pM),this.settings=IR(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(rv.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ma.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),zu.languageLoad=this.settings.language_load,zu.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new bd(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new H3(this),this.editorCommands=new qg(this),this.settings.cache_suffix&&(Hn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:zL(),styleSheetLoader:void 0,show:ye,hide:ye,enable:ye,disable:ye,isDisabled:at};var v=this,p=IL(v);this.mode=p,this.setMode=p.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=dr.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}return e.prototype.render=function(){fL(this)},e.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},e.prototype.hasFocus=function(){return sl(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var l=this,v=l.settings[n],p;if(v)return l.callbackLookup&&(p=l.callbackLookup[n])&&(v=p.func,p=p.scope),typeof v=="string"&&(p=v.replace(/\.\w+$/,""),p=p?xM(p):0,v=xM(v),l.callbackLookup=l.callbackLookup||{},l.callbackLookup[n]={func:v,scope:p}),v.apply(p||l,a)},e.prototype.translate=function(n){return wu.translate(n)},e.prototype.getParam=function(n,a,i){return $I(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=Ee(y0(this).split(/[ ,]/),n);return i?a?cl.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,l){this.shortcuts.add(n,a,i,l)},e.prototype.execCommand=function(n,a,i,l){return this.editorCommands.execCommand(n,a,i,l)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(G1.show(n.getContainer()),G1.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(LL&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(G1.hide(n.getContainer()),G1.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),l;if(a.removed)return"";if(i){n=n||{},n.load=!0;var v=Ai(i)?i.value:i.innerHTML;return l=a.setContent(v,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,l}},e.prototype.save=function(n){var a=this,i=a.getElement(),l,v;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,l=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),l=n.content,Ai(i)?i.value=l:((n.is_removing||!a.inline)&&(i.innerHTML=l),(v=G1.getParent(a.id,"form"))&&FL(v.elements,function(p){if(p.name===a.id)return p.value=l,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),l},e.prototype.setContent=function(n,a){return $T(this,n,a)},e.prototype.getContent=function(n){return cI(this,n)},e.prototype.insertContent=function(n,a){a&&(n=_M({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?$T(this,this.startContent,{format:"raw"}):$T(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=G1.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=G1.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var l=this,v=l.settings;return v.urlconverter_callback?l.execCallback("urlconverter_callback",n,i,!0,a):!v.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:v.relative_urls?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,v.remove_script_host),n)},e.prototype.addVisual=function(n){vL(this,n)},e.prototype.remove=function(){dI(this)},e.prototype.destroy=function(n){AR(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Sf=Ma.DOM,HL=wt.explode,Do=wt.each,QO=wt.extend,Ed=0,e5=!1,bS,Kg=[],Wu=[],t5=function(e){return e!=="length"},n5=function(e){var n=e.type;Do(Xg.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},r5=function(e){e!==e5&&(e?dr(window).on("resize scroll",n5):dr(window).off("resize scroll",n5),e5=e)},kM=function(e){var n=Wu;delete Kg[e.id];for(var a=0;a<Kg.length;a++)if(Kg[a]===e){Kg.splice(a,1);break}return Wu=it(Wu,function(i){return e!==i}),Xg.activeEditor===e&&(Xg.activeEditor=Wu.length>0?Wu[0]:null),Xg.focusedEditor===e&&(Xg.focusedEditor=null),n.length!==Wu.length},VL=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(kM(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},UL=document.compatMode!=="CSS1Compat",Xg=Wn(Wn({},N3),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:dr,majorVersion:"5",minorVersion:"10.7",releaseDate:"2022-12-06",editors:Kg,i18n:wu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=bd.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,i=l.suffix;else{for(var v=document.getElementsByTagName("script"),p=0;p<v.length;p++){var x=v[p].src||"";if(x!==""){var A=x.substring(x.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(x)){A.indexOf(".min")!==-1&&(i=".min"),n=x.substring(0,x.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var x=document.currentScript.src;x.indexOf(".min")!==-1&&(i=".min"),n=x.substring(0,x.lastIndexOf("/"))}}e.baseURL=new bd(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new bd(e.baseURL),e.suffix=i,Mx(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&Vr(i,function(l,v){zu.PluginManager.urls[v]=l})},init:function(e){var n=this,a,i=wt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=function(Z,Q){return Z.inline&&Q.tagName.toLowerCase()in i},v=function(Z){var Q=Z.id;return Q||(Q=Ir(Z,"name").filter(function(ce){return!Sf.get(ce)}).getOrThunk(Sf.uniqueId),Z.setAttribute("id",Q)),Q},p=function(Z){var Q=e[Z];if(Q)return Q.apply(n,[])},x=function(Z,Q){return Q.constructor===RegExp?Q.test(Z.className):Sf.hasClass(Z,Q)},A=function(Z){var Q=[];if(Hn.browser.isIE()&&Hn.browser.version.major<11)return YC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(UL)return YC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(Z.types)return Do(Z.types,function(ve){Q=Q.concat(Sf.select(ve.selector))}),Q;if(Z.selector)return Sf.select(Z.selector);if(Z.target)return[Z.target];switch(Z.mode){case"exact":var ce=Z.elements||"";ce.length>0&&Do(HL(ce),function(ve){var me=Sf.get(ve);me?Q.push(me):Do(document.forms,function(he){Do(he.elements,function(De){De.name===ve&&(ve="mce_editor_"+Ed++,Sf.setAttrib(De,"id",ve),Q.push(De))})})});break;case"textareas":case"specific_textareas":Do(Sf.select("textarea"),function(ve){Z.editor_deselector&&x(ve,Z.editor_deselector)||(!Z.editor_selector||x(ve,Z.editor_selector))&&Q.push(ve)});break}return Q},N=function(Z){a=Z},X=function(){var Z=0,Q=[],ce,ve=function(me,he,De){var Ae=new V3(me,he,n);Q.push(Ae),Ae.on("init",function(){++Z===ce.length&&N(Q)}),Ae.targetElm=Ae.targetElm||De,Ae.render()};if(Sf.unbind(window,"ready",X),p("onpageload"),ce=dr.unique(A(e)),e.types){Do(e.types,function(me){wt.each(ce,function(he){return Sf.is(he,me.selector)?(ve(v(he),QO({},e,me),he),!1):!0})});return}wt.each(ce,function(me){VL(n.get(me.id))}),ce=wt.grep(ce,function(me){return!n.get(me.id)}),ce.length===0?N([]):Do(ce,function(me){l(e,me)?YC("Could not initialize inline editor on invalid inline target element",me):ve(v(me),e,me)})};return n.settings=e,Sf.bind(window,"ready",X),new si(function(Z){a?Z(a):N=function(Q){Z(Q)}})},get:function(e){return arguments.length===0?Wu.slice(0):$e(e)?rn(Wu,function(n){return n.id===e}).getOr(null):pe(e)&&Wu[e]?Wu[e]:null},add:function(e){var n=this,a=Kg[e.id];return a===e||(n.get(e.id)===null&&(t5(e.id)&&(Kg[e.id]=e),Kg.push(e),Wu.push(e)),r5(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),bS||(bS=function(i){var l=n.fire("BeforeUnload");if(l.returnValue)return i.preventDefault(),i.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",bS))),e},createEditor:function(e,n){return this.add(new V3(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=Wu.length-1;a>=0;a--)n.remove(Wu[a]);return}if($e(e)){Do(Sf.select(e),function(l){i=n.get(l.id),i&&n.remove(i)});return}return i=e,ne(n.get(i.id))?null:(kM(i)&&n.fire("RemoveEditor",{editor:i}),Wu.length===0&&window.removeEventListener("beforeunload",bS),i.remove(),r5(Wu.length>0),i)},execCommand:function(e,n,a){var i=this,l=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new V3(a,i.settings,i).render(),!0;case"mceRemoveEditor":return l&&l.remove(),!0;case"mceToggleEditor":return l?(l.isHidden()?l.show():l.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){Do(Wu,function(e){e.save()})},addI18n:function(e,n){wu.add(e,n)},translate:function(e){return wu.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new bd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new bd(this.baseURL)}});Xg.setup();var AM=Math.min,q1=Math.max,U3=Math.round,EM=function(e,n,a){var i=n.x,l=n.y,v=e.w,p=e.h,x=n.w,A=n.h,N=(a||"").split("");return N[0]==="b"&&(l+=A),N[1]==="r"&&(i+=x),N[0]==="c"&&(l+=U3(A/2)),N[1]==="c"&&(i+=U3(x/2)),N[3]==="b"&&(l-=p),N[4]==="r"&&(i-=v),N[3]==="c"&&(l-=U3(p/2)),N[4]==="c"&&(i-=U3(v/2)),K1(i,l,v,p)},WL=function(e,n,a,i){var l,v;for(v=0;v<i.length;v++)if(l=EM(e,n,i[v]),l.x>=a.x&&l.x+l.w<=a.w+a.x&&l.y>=a.y&&l.y+l.h<=a.h+a.y)return i[v];return null},jL=function(e,n,a){return K1(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},GL=function(e,n){var a=q1(e.x,n.x),i=q1(e.y,n.y),l=AM(e.x+e.w,n.x+n.w),v=AM(e.y+e.h,n.y+n.h);return l-a<0||v-i<0?null:K1(a,i,l-a,v-i)},qL=function(e,n,a){var i=e.x,l=e.y,v=e.x+e.w,p=e.y+e.h,x=n.x+n.w,A=n.y+n.h,N=q1(0,n.x-i),X=q1(0,n.y-l),Z=q1(0,v-x),Q=q1(0,p-A);return i+=N,l+=X,a&&(v+=N,p+=X,i-=Z,l-=Q),v-=Z,p-=Q,K1(i,l,v-i,p-l)},K1=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},KL=function(e){return K1(e.left,e.top,e.width,e.height)},XL={inflate:jL,relativePosition:EM,findBestRelativePosition:WL,intersect:GL,clamp:qL,create:K1,fromClientRect:KL},YL=function(e,n,a){a===void 0&&(a=1e3);var i=!1,l=null,v=function(N){return function(){for(var X=[],Z=0;Z<arguments.length;Z++)X[Z]=arguments[Z];i||(i=!0,l!==null&&(clearTimeout(l),l=null),N.apply(null,X))}},p=v(e),x=v(n),A=function(){for(var N=[],X=0;X<arguments.length;X++)N[X]=arguments[X];!i&&l===null&&(l=setTimeout(function(){return x.apply(null,N)},a))};return{start:A,resolve:p,reject:x}},a5=function(){var e={},n={},a=function(l,v){var p='Script at URL "'+v+'" failed to load',x='Script at URL "'+v+"\" did not call `tinymce.Resource.add('"+l+"', data)` within 1 second";if(e[l]!==void 0)return e[l];var A=new si(function(N,X){var Z=YL(N,X);n[l]=Z.resolve,rv.ScriptLoader.loadScript(v,function(){return Z.start(x)},function(){return Z.reject(p)})});return e[l]=A,A},i=function(l,v){n[l]!==void 0&&(n[l](v),delete n[l]),e[l]=si.resolve(v)};return{load:a,add:i}},yS=a5(),Sv=wt.each,Ny=wt.extend,W3,wS,o5=function(){};o5.extend=W3=function(e){var n=this,a=n.prototype,i=function(){var x,A,N,X=this;if(!wS&&(X.init&&X.init.apply(X,arguments),A=X.Mixins,A))for(x=A.length;x--;)N=A[x],N.init&&N.init.apply(X,arguments)},l=function(){return this},v=function(x,A){return function(){var N=this,X=N._super;N._super=a[x];var Z=A.apply(N,arguments);return N._super=X,Z}};wS=!0;var p=new n;return wS=!1,e.Mixins&&(Sv(e.Mixins,function(x){for(var A in x)A!=="init"&&(e[A]=x[A])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&Sv(e.Methods.split(","),function(x){e[x]=l}),e.Properties&&Sv(e.Properties.split(","),function(x){var A="_"+x;e[x]=function(N){var X=this;return N!==void 0?(X[A]=N,X):X[A]}}),e.Statics&&Sv(e.Statics,function(x,A){i[A]=x}),e.Defaults&&a.Defaults&&(e.Defaults=Ny({},a.Defaults,e.Defaults)),Vr(e,function(x,A){typeof x=="function"&&a[A]?p[A]=v(A,x):p[A]=x}),i.prototype=p,i.constructor=i,i.extend=W3,i};var CS=Math.min,j3=Math.max,Yg=Math.round,TM=function(e){var n={},a=0,i=0,l=0,v=function(Z,Q,ce){var ve,me,he;ve=0,me=0,he=0,Z=Z/255,Q=Q/255,ce=ce/255;var De=CS(Z,CS(Q,ce)),Ae=j3(Z,j3(Q,ce));if(De===Ae)return he=De,{h:0,s:0,v:he*100};var Xe=Z===De?Q-ce:ce===De?Z-Q:ce-Z;return ve=Z===De?3:ce===De?1:5,ve=60*(ve-Xe/(Ae-De)),me=(Ae-De)/Ae,he=Ae,{h:Yg(ve),s:Yg(me*100),v:Yg(he*100)}},p=function(Z,Q,ce){if(Z=(parseInt(Z,10)||0)%360,Q=parseInt(Q,10)/100,ce=parseInt(ce,10)/100,Q=j3(0,CS(Q,1)),ce=j3(0,CS(ce,1)),Q===0){a=i=l=Yg(255*ce);return}var ve=Z/60,me=ce*Q,he=me*(1-Math.abs(ve%2-1)),De=ce-me;switch(Math.floor(ve)){case 0:a=me,i=he,l=0;break;case 1:a=he,i=me,l=0;break;case 2:a=0,i=me,l=he;break;case 3:a=0,i=he,l=me;break;case 4:a=he,i=0,l=me;break;case 5:a=me,i=0,l=he;break;default:a=i=l=0}a=Yg(255*(a+De)),i=Yg(255*(i+De)),l=Yg(255*(l+De))},x=function(){var Z=function(Q){return Q=parseInt(Q,10).toString(16),Q.length>1?Q:"0"+Q};return"#"+Z(a)+Z(i)+Z(l)},A=function(){return{r:a,g:i,b:l}},N=function(){return v(a,i,l)},X=function(Z){var Q;return typeof Z=="object"?"r"in Z?(a=Z.r,i=Z.g,l=Z.b):"v"in Z&&p(Z.h,Z.s,Z.v):(Q=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(Z))?(a=parseInt(Q[1],10),i=parseInt(Q[2],10),l=parseInt(Q[3],10)):(Q=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(Z))?(a=parseInt(Q[1],16),i=parseInt(Q[2],16),l=parseInt(Q[3],16)):(Q=/#([0-F])([0-F])([0-F])/gi.exec(Z))&&(a=parseInt(Q[1]+Q[1],16),i=parseInt(Q[2]+Q[2],16),l=parseInt(Q[3]+Q[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,n};return e&&X(e),n.toRgb=A,n.toHsv=N,n.toHex=x,n.parse=X,n},JL=function(e){var n=JSON.stringify(e);return $e(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},i5={serialize:JL,parse:function(e){try{return JSON.parse(e)}catch{}}},ZL={callbacks:{},count:0,send:function(e){var n=this,a=Ma.DOM,i=e.count!==void 0?e.count:n.count,l="tinymce_jsonp_"+i;n.callbacks[i]=function(v){a.remove(l),delete n.callbacks[i],e.callback(v)},a.add(a.doc.body,"script",{id:l,src:e.url,type:"text/javascript"}),n.count++}},G3=Wn(Wn({},N3),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):ji.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",G3.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&wt.each(e.requestheaders,function(l){n.setRequestHeader(l.key,l.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=G3.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();ji.setTimeout(i,10)}}),OM=wt.extend,QL=function(){function e(n){this.settings=OM({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,l=OM(this.settings,n);l.success=function(v,p){v=i5.parse(v),typeof v>"u"&&(v={error:"JSON Parse error."}),v.error?a.call(l.error_scope||l.scope,v.error,p):i.call(l.success_scope||l.scope,v.result)},l.error=function(v,p){a&&a.call(l.error_scope||l.scope,v,p)},l.data=i5.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),l.content_type="application/json",G3.send(l)},e}(),DM=function(){return function(){var e={},n=[],a={getItem:function(i){var l=e[i];return l||null},setItem:function(i,l){n.push(i),e[i]=String(l)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(l){return l===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},zy;try{var u5="__storage_test__";zy=window.localStorage,zy.setItem(u5,u5),zy.removeItem(u5)}catch{zy=DM()}var e7=zy,t7={geom:{Rect:XL},util:{Promise:si,Delay:ji,Tools:wt,VK:Un,URI:bd,Class:o5,EventDispatcher:I3,Observable:N3,I18n:wu,XHR:G3,JSON:i5,JSONRequest:QL,JSONP:ZL,LocalStorage:e7,Color:TM,ImageUploader:WR},dom:{EventUtils:Dh,Sizzle:ga,DomQuery:dr,TreeWalker:sa,TextSeeker:j2,DOMUtils:Ma,ScriptLoader:rv,RangeUtils:u1,Serializer:xR,StyleSheetLoader:KS,ControlSelection:jw,BookmarkManager:dd,Selection:lR,Event:Dh.Event},html:{Styles:Rl,Entities:$s,Node:ll,Schema:Bs,SaxParser:xg,DomParser:Hk,Writer:Qx,Serializer:Em},Env:Hn,AddOnManager:zu,Annotator:F0,Formatter:jR,UndoManager:gf,EditorCommands:qg,WindowManager:IT,NotificationManager:pv,EditorObservable:pM,Shortcuts:H3,Editor:V3,FocusManager:Tx,EditorManager:Xg,DOM:Ma.DOM,ScriptLoader:rv.ScriptLoader,PluginManager:cl,ThemeManager:xd,IconManager:Wk,Resource:yS,trim:wt.trim,isArray:wt.isArray,is:wt.is,toArray:wt.toArray,makeMap:wt.makeMap,each:wt.each,map:wt.map,grep:wt.grep,inArray:wt.inArray,extend:wt.extend,create:wt.create,walk:wt.walk,createNS:wt.createNS,resolve:wt.resolve,explode:wt.explode,_addCacheSuffix:wt._addCacheSuffix,isOpera:Hn.opera,isWebKit:Hn.webkit,isIE:Hn.ie,isGecko:Hn.gecko,isMac:Hn.mac},RM=wt.extend(Xg,t7),n7=function(e){try{f.exports=e}catch{}},r7=function(e){window.tinymce=e,window.tinyMCE=e};r7(RM),n7(RM)})()})(mG);var doe=mG.exports;const Gn=voe(doe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var f=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},m=function(t){return function(r){return f(r)===t}},y=function(t){return function(r){return typeof r===t}},b=function(t){return function(r){return t===r}},S=m("string"),_=m("object"),O=m("array"),T=b(null),F=y("boolean"),j=b(void 0),P=function(t){return t==null},H=function(t){return!P(t)},I=y("function"),L=y("number"),Y=function(t,r){if(O(t)){for(var o=0,s=t.length;o<s;++o)if(!r(t[o]))return!1;return!0}return!1},q=function(){},$e=function(t){return function(){return t()}},de=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(r.apply(null,o))}},Be=function(t,r){return function(o){return t(r(o))}},ne=function(t){return function(){return t}},Se=function(t){return t},Te=function(t,r){return t===r};function xe(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];var g=r.concat(s);return t.apply(null,g)}}var Ge=function(t){return function(r){return!t(r)}},se=function(t){return function(){throw new Error(t)}},pe=ne(!1),ye=ne(!0),Me=tinymce.util.Tools.resolve("tinymce.ThemeManager"),re=function(){return re=Object.assign||function(r){for(var o,s=1,d=arguments.length;s<d;s++){o=arguments[s];for(var g in o)Object.prototype.hasOwnProperty.call(o,g)&&(r[g]=o[g])}return r},re.apply(this,arguments)};function W(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(t);d<s.length;d++)r.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(t,s[d])&&(o[s[d]]=t[s[d]]);return o}function ke(t,r,o){if(o||arguments.length===2)for(var s=0,d=r.length,g;s<d;s++)(g||!(s in r))&&(g||(g=Array.prototype.slice.call(r,0,s)),g[s]=r[s]);return t.concat(g||Array.prototype.slice.call(r))}var et=function(){return le},le=function(){var t=function(s){return s()},r=Se,o={fold:function(s,d){return s()},isSome:pe,isNone:ye,getOr:r,getOrThunk:t,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:ne(null),getOrUndefined:ne(void 0),or:r,orThunk:t,map:et,each:q,bind:et,exists:pe,forall:ye,filter:function(){return et()},toArray:function(){return[]},toString:ne("none()")};return o}(),ge=function(t){var r=ne(t),o=function(){return d},s=function(g){return g(t)},d={fold:function(g,C){return C(t)},isSome:ye,isNone:pe,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(g){return ge(g(t))},each:function(g){g(t)},bind:s,exists:s,forall:s,filter:function(g){return g(t)?d:le},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return d},ut=function(t){return t==null?le:ge(t)},B={some:ge,none:et,from:ut},kt=Array.prototype.slice,at=Array.prototype.indexOf,ot=Array.prototype.push,kn=function(t,r){return at.call(t,r)},cn=function(t,r){var o=kn(t,r);return o===-1?B.none():B.some(o)},lt=function(t,r){return kn(t,r)>-1},Sn=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(r(d,o))return!0}return!1},te=function(t,r){for(var o=[],s=0;s<t;s++)o.push(r(s));return o},fn=function(t,r){for(var o=[],s=0;s<t.length;s+=r){var d=kt.call(t,s,s+r);o.push(d)}return o},Ue=function(t,r){for(var o=t.length,s=new Array(o),d=0;d<o;d++){var g=t[d];s[d]=r(g,d)}return s},gt=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];r(d,o)}},Xn=function(t,r){for(var o=t.length-1;o>=0;o--){var s=t[o];r(s,o)}},Oe=function(t,r){for(var o=[],s=[],d=0,g=t.length;d<g;d++){var C=t[d],E=r(C,d)?o:s;E.push(C)}return{pass:o,fail:s}},Ee=function(t,r){for(var o=[],s=0,d=t.length;s<d;s++){var g=t[s];r(g,s)&&o.push(g)}return o},Ze=function(t,r,o){return Xn(t,function(s,d){o=r(o,s,d)}),o},tt=function(t,r,o){return gt(t,function(s,d){o=r(o,s,d)}),o},He=function(t,r,o){for(var s=0,d=t.length;s<d;s++){var g=t[s];if(r(g,s))return B.some(g);if(o(g,s))break}return B.none()},pt=function(t,r){return He(t,r,pe)},Jt=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(r(d,o))return B.some(o)}return B.none()},it=function(t){for(var r=[],o=0,s=t.length;o<s;++o){if(!O(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);ot.apply(r,t[o])}return r},Wt=function(t,r){return it(Ue(t,r))},Rt=function(t,r){for(var o=0,s=t.length;o<s;++o){var d=t[o];if(r(d,o)!==!0)return!1}return!0},zt=function(t){var r=kt.call(t,0);return r.reverse(),r},rn=function(t,r){return Ee(t,function(o){return!lt(r,o)})},pn=function(t,r){for(var o={},s=0,d=t.length;s<d;s++){var g=t[s];o[String(g)]=r(g,s)}return o},Kn=function(t){return[t]},cr=function(t,r){var o=kt.call(t,0);return o.sort(r),o},qr=function(t,r){return r>=0&&r<t.length?B.some(t[r]):B.none()},or=function(t){return qr(t,0)},ua=function(t){return qr(t,t.length-1)},va=I(Array.from)?Array.from:function(t){return kt.call(t)},Qr=function(t,r){for(var o=0;o<t.length;o++){var s=r(t[o],o);if(s.isSome())return s}return B.none()},Hr=Object.keys,da=Object.hasOwnProperty,Ur=function(t,r){for(var o=Hr(t),s=0,d=o.length;s<d;s++){var g=o[s],C=t[g];r(C,g)}},fr=function(t,r){return Na(t,function(o,s){return{k:s,v:r(o,s)}})},Na=function(t,r){var o={};return Ur(t,function(s,d){var g=r(s,d);o[g.k]=g.v}),o},Zi=function(t){return function(r,o){t[o]=r}},Kl=function(t,r,o,s){var d={};return Ur(t,function(g,C){(r(g,C)?o:s)(g,C)}),d},Vr=function(t,r){var o={};return Kl(t,r,Zi(o),q),o},Si=function(t,r){var o=[];return Ur(t,function(s,d){o.push(r(s,d))}),o},Ju=function(t,r){for(var o=Hr(t),s=0,d=o.length;s<d;s++){var g=o[s],C=t[g];if(r(C,g,t))return B.some(C)}return B.none()},_i=function(t){return Si(t,Se)},En=function(t,r){return Pr(t,r)?B.from(t[r]):B.none()},Pr=function(t,r){return da.call(t,r)},lo=function(t,r){return Pr(t,r)&&t[r]!==void 0&&t[r]!==null},lu=function(t,r,o){return o===void 0&&(o=Te),t.exists(function(s){return o(s,r)})},Zu=function(t,r,o){return o===void 0&&(o=Te),Gs(t,r,o).getOr(t.isNone()&&r.isNone())},Ir=function(t){for(var r=[],o=function(d){r.push(d)},s=0;s<t.length;s++)t[s].each(o);return r},Tr=function(t){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s.isSome())r.push(s.getOrDie());else return B.none()}return B.some(r)},Gs=function(t,r,o){return t.isSome()&&r.isSome()?B.some(o(t.getOrDie(),r.getOrDie())):B.none()},th=function(t,r,o,s){return t.isSome()&&r.isSome()&&o.isSome()?B.some(s(t.getOrDie(),r.getOrDie(),o.getOrDie())):B.none()},Df=function(t,r){return t!=null?B.some(r(t)):B.none()},qs=function(t,r){return t?B.some(r):B.none()},$c=function(t,r){return t+r},Tv=function(t,r){return t.substring(r)},gl=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},pl=function(t,r){return Ks(t,r)?Tv(t,r.length):t},Rf=function(t,r){return Wn(t,r)?t:$c(t,r)},ma=function(t,r){return t.indexOf(r)!==-1},Ks=function(t,r){return gl(t,r,0)},Wn=function(t,r){return gl(t,r,t.length-r.length)},nh=function(t){return function(r){return r.replace(t,"")}},Ou=nh(/^\s+|\s+$/g),Bc=function(t){return t.length>0},rh=function(t){return!Bc(t)},Xl=function(t){return t.style!==void 0&&I(t.style.getPropertyValue)},ah=function(t,r){var o=r||document,s=o.createElement("div");if(s.innerHTML=t,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Ss(s.childNodes[0])},$f=function(t,r){var o=r||document,s=o.createElement(t);return Ss(s)},oh=function(t,r){var o=r||document,s=o.createTextNode(t);return Ss(s)},Ss=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Mc=function(t,r,o){return B.from(t.dom.elementFromPoint(r,o)).map(Ss)},sn={fromHtml:ah,fromTag:$f,fromText:oh,fromDom:Ss,fromPoint:Mc};typeof window<"u"||Function("return this;")();var Bd=9,Ov=11,Dv=1,Yl=3,Qu=function(t){var r=t.dom.nodeName;return r.toLowerCase()},ih=function(t){return t.dom.nodeType},Bo=function(t){return function(r){return ih(r)===t}},po=Bo(Dv),Du=Bo(Yl),Xs=Bo(Bd),Md=Bo(Ov),es=function(t){var r=!1,o;return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return r||(r=!0,o=t.apply(null,s)),o}},Bf=function(t,r,o,s){var d=t.isiOS()&&/ipad/i.test(o)===!0,g=t.isiOS()&&!d,C=t.isiOS()||t.isAndroid(),E=C||s("(pointer:coarse)"),D=d||!g&&C&&s("(min-device-width:768px)"),$=g||C&&!D,U=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,G=!$&&!D&&!U;return{isiPad:ne(d),isiPhone:ne(g),isTablet:ne(D),isPhone:ne($),isTouch:ne(E),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ne(U),isDesktop:ne(G)}},Pd=function(t,r){for(var o=0;o<t.length;o++){var s=t[o];if(s.test(r))return s}},bl=function(t,r){var o=Pd(t,r);if(!o)return{major:0,minor:0};var s=function(d){return Number(r.replace(o,"$"+d))};return xi(s(1),s(2))},Ru=function(t,r){var o=String(r).toLowerCase();return t.length===0?en():bl(t,o)},en=function(){return xi(0,0)},xi=function(t,r){return{major:t,minor:r}},yl={nu:xi,detect:Ru,unknown:en},uh=function(t,r){return Qr(r.brands,function(o){var s=o.brand.toLowerCase();return pt(t,function(d){var g;return s===((g=d.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(function(d){return{current:d.name,version:yl.nu(parseInt(o.version,10),0)}})})},Mf=function(t,r){var o=String(r).toLowerCase();return pt(t,function(s){return s.search(o)})},ea=function(t,r){return Mf(t,r).map(function(o){var s=yl.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Rv=function(t,r){return Mf(t,r).map(function(o){var s=yl.detect(o.versionRegexes,r);return{current:o.name,version:s}})},wl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,co=function(t){return function(r){return ma(r,t)}},$v=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ma(t,"edge/")&&ma(t,"chrome")&&ma(t,"safari")&&ma(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,wl],search:function(t){return ma(t,"chrome")&&!ma(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ma(t,"msie")||ma(t,"trident")}},{name:"Opera",versionRegexes:[wl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:co("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:co("firefox")},{name:"Safari",versionRegexes:[wl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ma(t,"safari")||ma(t,"mobile/"))&&ma(t,"applewebkit")}}],cu=[{name:"Windows",search:co("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ma(t,"iphone")||ma(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:co("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:co("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:co("linux"),versionRegexes:[]},{name:"Solaris",search:co("sunos"),versionRegexes:[]},{name:"FreeBSD",search:co("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:co("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ts={browsers:ne($v),oses:ne(cu)},Ra="Edge",Pf="Chrome",If="IE",Bv="Opera",Id="Firefox",Cl="Safari",Ys=function(){return Mv({current:void 0,version:yl.unknown()})},Mv=function(t){var r=t.current,o=t.version,s=function(d){return function(){return r===d}};return{current:r,version:o,isEdge:s(Ra),isChrome:s(Pf),isIE:s(If),isOpera:s(Bv),isFirefox:s(Id),isSafari:s(Cl)}},_s={unknown:Ys,nu:Mv,edge:ne(Ra),chrome:ne(Pf),ie:ne(If),opera:ne(Bv),firefox:ne(Id),safari:ne(Cl)},$u="Windows",ie="iOS",Ne="Android",Ye="Linux",Et="OSX",qt="Solaris",Rn="FreeBSD",aa="ChromeOS",ha=function(){return br({current:void 0,version:yl.unknown()})},br=function(t){var r=t.current,o=t.version,s=function(d){return function(){return r===d}};return{current:r,version:o,isWindows:s($u),isiOS:s(ie),isAndroid:s(Ne),isOSX:s(Et),isLinux:s(Ye),isSolaris:s(qt),isFreeBSD:s(Rn),isChromeOS:s(aa)}},za={unknown:ha,nu:br,windows:ne($u),ios:ne(ie),android:ne(Ne),linux:ne(Ye),osx:ne(Et),solaris:ne(qt),freebsd:ne(Rn),chromeos:ne(aa)},Ka=function(t,r,o){var s=ts.browsers(),d=ts.oses(),g=r.bind(function(D){return uh(s,D)}).orThunk(function(){return ea(s,t)}).fold(_s.unknown,_s.nu),C=Rv(d,t).fold(za.unknown,za.nu),E=Bf(C,g,t,o);return{browser:g,os:C,deviceType:E}},Pc={detect:Ka},Li=function(t){return window.matchMedia(t).matches},Jl=es(function(){return Pc.detect(navigator.userAgent,B.from(navigator.userAgentData),Li)}),Hn=function(){return Jl()},sh=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},fp=function(t,r){return sh(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},ta=function(t,r){var o=t.dom;if(o.nodeType!==Dv)return!1;var s=o;if(s.matches!==void 0)return s.matches(r);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(r);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(r);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},vp=function(t){return t.nodeType!==Dv&&t.nodeType!==Bd&&t.nodeType!==Ov||t.childElementCount===0},lh=function(t,r){var o=r===void 0?document:r.dom;return vp(o)?[]:Ue(o.querySelectorAll(t),sn.fromDom)},n2=function(t,r){var o=r===void 0?document:r.dom;return vp(o)?B.none():B.from(o.querySelector(t)).map(sn.fromDom)},_a=function(t,r){return t.dom===r.dom},Js=function(t,r){var o=t.dom,s=r.dom;return o===s?!1:o.contains(s)},r2=function(t,r){return fp(t.dom,r.dom)},Sl=function(t,r){return Hn().browser.isIE()?r2(t,r):Js(t,r)},Jo=function(t){return sn.fromDom(t.dom.ownerDocument)},Nf=function(t){return Xs(t)?t:Jo(t)},wt=function(t){return sn.fromDom(Nf(t).dom.documentElement)},ch=function(t){return sn.fromDom(Nf(t).dom.defaultView)},_o=function(t){return B.from(t.dom.parentNode).map(sn.fromDom)},sb=function(t){return _o(t)},zf=function(t){return B.from(t.dom.offsetParent).map(sn.fromDom)},Pv=function(t){return B.from(t.dom.nextSibling).map(sn.fromDom)},je=function(t){return Ue(t.dom.childNodes,sn.fromDom)},ii=function(t,r){var o=t.dom.childNodes;return B.from(o[r]).map(sn.fromDom)},fh=function(t){return ii(t,0)},dp=function(t,r){return{element:t,offset:r}},lb=function(t,r){var o=je(t);return o.length>0&&r<o.length?dp(o[r],0):dp(t,r)},Nd=function(t){return Md(t)&&H(t.dom.host)},mp=I(Element.prototype.attachShadow)&&I(Node.prototype.getRootNode),hp=ne(mp),xs=mp?function(t){return sn.fromDom(t.dom.getRootNode())}:Nf,Zl=function(t){return Nd(t)?t:sn.fromDom(Nf(t).dom.body)},cb=function(t){return fb(t).isSome()},fb=function(t){var r=xs(t);return Nd(r)?B.some(r):B.none()},Ql=function(t){return sn.fromDom(t.dom.host)},$a=function(t){if(hp()&&H(t.target)){var r=sn.fromDom(t.target);if(po(r)&&vb(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return or(o)}}return B.from(t.target)},vb=function(t){return H(t.dom.shadowRoot)},fu=function(t){var r=Du(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return fb(sn.fromDom(r)).fold(function(){return o.body.contains(r)},Be(fu,Ql))},Hi=function(){return xo(sn.fromDom(document))},xo=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return sn.fromDom(r)},Ic=function(t,r,o){if(S(o)||F(o)||L(o))t.setAttribute(r,o+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},lr=function(t,r,o){Ic(t.dom,r,o)},ns=function(t,r){var o=t.dom;Ur(r,function(s,d){Ic(o,d,s)})},Fa=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},Xa=function(t,r){return B.from(Fa(t,r))},db=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},ui=function(t,r){t.dom.removeAttribute(r)},gp=function(t,r,o){if(!S(o))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Xl(t)&&t.style.setProperty(r,o)},_l=function(t,r){Xl(t)&&t.style.removeProperty(r)},jn=function(t,r,o){var s=t.dom;gp(s,r,o)},rs=function(t,r){var o=t.dom;Ur(r,function(s,d){gp(o,d,s)})},no=function(t,r){var o=t.dom;Ur(r,function(s,d){s.fold(function(){_l(o,d)},function(g){gp(o,d,g)})})},ro=function(t,r){var o=t.dom,s=window.getComputedStyle(o),d=s.getPropertyValue(r);return d===""&&!fu(t)?Lo(o,r):d},Lo=function(t,r){return Xl(t)?t.style.getPropertyValue(r):""},ko=function(t,r){var o=t.dom,s=Lo(o,r);return B.from(s).filter(function(d){return d.length>0})},Ff=function(t){var r={},o=t.dom;if(Xl(o))for(var s=0;s<o.style.length;s++){var d=o.style.item(s);r[d]=o.style[d]}return r},ks=function(t,r,o){var s=sn.fromTag(t);jn(s,r,o);var d=ko(s,r);return d.isSome()},Kr=function(t,r){var o=t.dom;_l(o,r),lu(Xa(t,"style").map(Ou),"")&&ui(t,"style")},Ba=function(t){return t.dom.offsetWidth},Qi=function(t,r){var o=function(E,D){if(!L(D)&&!D.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+D);var $=E.dom;Xl($)&&($.style[t]=D+"px")},s=function(E){var D=r(E);if(D<=0||D===null){var $=ro(E,t);return parseFloat($)||0}return D},d=s,g=function(E,D){return tt(D,function($,U){var G=ro(E,U),ee=G===void 0?0:parseInt(G,10);return isNaN(ee)?$:$+ee},0)},C=function(E,D,$){var U=g(E,$),G=D>U?D-U:0;return G};return{set:o,get:s,getOuter:d,aggregate:g,max:C}},ec=Qi("height",function(t){var r=t.dom;return fu(t)?r.getBoundingClientRect().height:r.offsetHeight}),Mo=function(t){return ec.get(t)},as=function(t){return ec.getOuter(t)},mb=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=ec.max(t,r,o);jn(t,"max-height",s+"px")},Lf=function(t,r){var o=function(s,d){return Lf(t+s,r+d)};return{left:t,top:r,translate:o}},ya=Lf,Zs=function(t){var r=t.getBoundingClientRect();return ya(r.left,r.top)},Nc=function(t,r){return t!==void 0?t:r!==void 0?r:0},vu=function(t){var r=t.dom.ownerDocument,o=r.body,s=r.defaultView,d=r.documentElement;if(o===t.dom)return ya(o.offsetLeft,o.offsetTop);var g=Nc(s==null?void 0:s.pageYOffset,d.scrollTop),C=Nc(s==null?void 0:s.pageXOffset,d.scrollLeft),E=Nc(d.clientTop,o.clientTop),D=Nc(d.clientLeft,o.clientLeft);return fo(t).translate(C-D,g-E)},fo=function(t){var r=t.dom,o=r.ownerDocument,s=o.body;return s===r?ya(s.offsetLeft,s.offsetTop):fu(t)?Zs(r):ya(0,0)},zc=Qi("width",function(t){return t.dom.offsetWidth}),tc=function(t,r){return zc.set(t,r)},Vi=function(t){return zc.get(t)},du=function(t){return zc.getOuter(t)},ki=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=zc.max(t,r,o);jn(t,"max-width",s+"px")},Iv=function(t,r,o,s,d,g,C){return{target:t,x:r,y:o,stop:s,prevent:d,kill:g,raw:C}},Qs=function(t){var r=sn.fromDom($a(t).getOr(t.target)),o=function(){return t.stopPropagation()},s=function(){return t.preventDefault()},d=de(s,o);return Iv(r,t.clientX,t.clientY,o,s,d,t)},Ho=function(t,r){return function(o){t(o)&&r(Qs(o))}},zd=function(t,r,o,s,d){var g=Ho(o,s);return t.dom.addEventListener(r,g,d),{unbind:xe(Vf,t,r,g,d)}},hb=function(t,r,o,s){return zd(t,r,o,s,!1)},Hf=function(t,r,o,s){return zd(t,r,o,s,!0)},Vf=function(t,r,o,s){t.dom.removeEventListener(r,o,s)},vo=function(t,r){var o=_o(t);o.each(function(s){s.dom.insertBefore(r.dom,t.dom)})},Uf=function(t,r){var o=Pv(t);o.fold(function(){var s=_o(t);s.each(function(d){Ui(d,r)})},function(s){vo(s,r)})},Wf=function(t,r){var o=fh(t);o.fold(function(){Ui(t,r)},function(s){t.dom.insertBefore(r.dom,s.dom)})},Ui=function(t,r){t.dom.appendChild(r.dom)},nc=function(t,r,o){ii(t,o).fold(function(){Ui(t,r)},function(s){vo(s,r)})},jf=function(t,r){gt(r,function(o){vo(t,o)})},rc=function(t,r){gt(r,function(o){Ui(t,o)})},Wa=function(t){t.dom.textContent="",gt(je(t),function(r){Bu(r)})},Bu=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},vh=function(t){var r=je(t);r.length>0&&jf(t,r),Bu(t)},os=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,s=r.body.scrollTop||r.documentElement.scrollTop;return ya(o,s)},dh=function(t,r,o){var s=o!==void 0?o.dom:document,d=s.defaultView;d&&d.scrollTo(t,r)},gb=function(t){var r=t===void 0?window:t;return Hn().browser.isFirefox()?B.none():B.from(r.visualViewport)},pp=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Gf=function(t){var r=t===void 0?window:t,o=r.document,s=os(sn.fromDom(o));return gb(r).fold(function(){var d=r.document.documentElement,g=d.clientWidth,C=d.clientHeight;return pp(s.left,s.top,g,C)},function(d){return pp(Math.max(d.pageLeft,s.left),Math.max(d.pageTop,s.top),d.width,d.height)})},qf=function(t,r){var o=t.view(r);return o.fold(ne([]),function(s){var d=t.owner(s),g=qf(t,d);return[s].concat(g)})},Fc=function(t,r){var o=r.owner(t),s=qf(r,o);return B.some(s)},Yn=function(t){var r,o=t.dom===document?B.none():B.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(sn.fromDom)},As=function(t){return Jo(t)},mu=Object.freeze({__proto__:null,view:Yn,owner:As}),Wi=function(t){var r=sn.fromDom(document),o=os(r),s=Fc(t,mu);return s.fold(xe(vu,t),function(d){var g=fo(t),C=Ze(d,function(E,D){var $=fo(D);return{left:E.left+$.left,top:E.top+$.top}},{left:0,top:0});return ya(C.left+g.left+o.left,C.top+g.top+o.top)})},Es=function(t,r,o){return{point:t,width:r,height:o}},bo=function(t,r,o,s){return{x:t,y:r,width:o,height:s}},Vo=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Ao=function(t){var r=vu(t),o=du(t),s=as(t);return Vo(r.left,r.top,o,s)},Lc=function(t){var r=Wi(t),o=du(t),s=as(t);return Vo(r.left,r.top,o,s)},Ai=function(){return Gf(window)},gn=function(t){var r=function(G){return gn(t)},o=function(G){return gn(t)},s=function(G){return gn(G(t))},d=function(G){return gn(t)},g=function(G){G(t)},C=function(G){return G(t)},E=function(G,ee){return ee(t)},D=function(G){return G(t)},$=function(G){return G(t)},U=function(){return B.some(t)};return{isValue:ye,isError:pe,getOr:ne(t),getOrThunk:ne(t),getOrDie:ne(t),or:r,orThunk:o,fold:E,map:s,mapError:d,each:g,bind:C,exists:D,forall:$,toOptional:U}},Kf=function(t){var r=function($){return $()},o=function(){return se(String(t))()},s=Se,d=function($){return $()},g=function($){return Kf(t)},C=function($){return Kf($(t))},E=function($){return Kf(t)},D=function($,U){return $(t)};return{isValue:pe,isError:ye,getOr:Se,getOrThunk:r,getOrDie:o,or:s,orThunk:d,fold:D,map:g,mapError:C,each:q,bind:E,exists:pe,forall:ye,toOptional:B.none}},bp=function(t,r){return t.fold(function(){return Kf(r)},gn)},vr={value:gn,error:Kf,fromOption:bp},wa;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(wa||(wa={}));var mh=function(t,r,o){return t.stype===wa.Error?r(t.serror):o(t.svalue)},xl=function(t){var r=[],o=[];return gt(t,function(s){mh(s,function(d){return o.push(d)},function(d){return r.push(d)})}),{values:r,errors:o}},La=function(t,r){return t.stype===wa.Error?{stype:wa.Error,serror:r(t.serror)}:t},hh=function(t,r){return t.stype===wa.Value?{stype:wa.Value,svalue:r(t.svalue)}:t},Mu=function(t,r){return t.stype===wa.Value?r(t.svalue):t},Fd=function(t,r){return t.stype===wa.Error?r(t.serror):t},hr=function(t){return{stype:wa.Value,svalue:t}},eu=function(t){return{stype:wa.Error,serror:t}},a2=function(t){return mh(t,vr.error,vr.value)},o2=function(t){return t.fold(eu,hr)},ja={fromResult:o2,toResult:a2,svalue:hr,partition:xl,serror:eu,bind:Mu,bindError:Fd,map:hh,mapError:La,fold:mh},gh=function(t,r,o,s){return{tag:"field",key:t,newKey:r,presence:o,prop:s}},M=function(t,r){return{tag:"custom",newKey:t,instantiator:r}},J=function(t,r,o){switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},ae=function(t,r){return r},Ce=function(t,r){var o=_(t)&&_(r);return o?bt(t,r):r},qe=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var s={},d=0;d<r.length;d++){var g=r[d];for(var C in g)Pr(g,C)&&(s[C]=t(s[C],g[C]))}return s}},bt=qe(Ce),xn=qe(ae),tr=function(){return{tag:"required",process:{}}},Or=function(t){return{tag:"defaultedThunk",process:t}},gr=function(t){return Or(ne(t))},xa=function(){return{tag:"option",process:{}}},Ei=function(t){return{tag:"mergeWithThunk",process:t}},ao=function(t){return Ei(ne(t))},SA=function(t,r){return t.length>0?ja.svalue(bt(r,xn.apply(void 0,t))):ja.svalue(r)},US=function(t){return de(ja.serror,it)(t)},WS=function(t,r){var o=ja.partition(t);return o.errors.length>0?US(o.errors):SA(o.values,r)},_A=function(t){var r=ja.partition(t);return r.errors.length>0?US(r.errors):ja.svalue(r.values)},ac={consolidateObj:WS,consolidateArr:_A},yp=function(t){return _(t)&&Hr(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Pu=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:ne("... (only showing first ten failures)")}]):t;return Ue(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},ph=function(t,r){return ja.serror([{path:t,getErrorInfo:r}])},i2=function(t,r,o){return ph(t,function(){return'Could not find valid *required* value for "'+r+'" in '+yp(o)})},wp=function(t,r){return ph(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},pb=function(t,r,o){return ph(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+yp(r)})},jS=function(t,r){return ph(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},xA=function(t,r){return ph(t,ne(r))},oc=function(t){var r=function(s,d){return ja.bindError(t(d),function(g){return xA(s,g)})},o=ne("val");return{extract:r,toString:o}},Cp=oc(ja.svalue),kA=function(t,r,o,s){return En(r,o).fold(function(){return i2(t,o,r)},s)},u2=function(t,r,o,s){var d=En(t,r).getOrThunk(function(){return o(t)});return s(d)},AA=function(t,r,o){return o(En(t,r))},EA=function(t,r,o,s){var d=En(t,r).map(function(g){return g===!0?o(t):g});return s(d)},bh=function(t,r,o,s,d){var g=function(E){return d.extract(r.concat([s]),E)},C=function(E){return E.fold(function(){return ja.svalue(B.none())},function(D){var $=d.extract(r.concat([s]),D);return ja.map($,B.some)})};switch(t.tag){case"required":return kA(r,o,s,g);case"defaultedThunk":return u2(o,s,t.process,g);case"option":return AA(o,s,C);case"defaultedOptionThunk":return EA(o,s,t.process,C);case"mergeWithThunk":return u2(o,s,ne({}),function(E){var D=bt(t.process(o),E);return g(D)})}},Sp=function(t,r,o){for(var s={},d=[],g=0,C=o;g<C.length;g++){var E=C[g];J(E,function(D,$,U,G){var ee=bh(U,t,r,D,G);ja.fold(ee,function(oe){d.push.apply(d,oe)},function(oe){s[$]=oe})},function(D,$){s[D]=$(r)})}return d.length>0?ja.serror(d):ja.svalue(s)},GS=function(t){var r=function(s,d){return t().extract(s,d)},o=function(){return t().toString()};return{extract:r,toString:o}},qS=function(t){return Hr(Vr(t,H))},is=function(t){var r=$n(t),o=Ze(t,function(d,g){return J(g,function(C){var E;return bt(d,(E={},E[C]=!0,E))},ne(d))},{}),s=function(d,g){var C=F(g)?[]:qS(g),E=Ee(C,function(D){return!lo(o,D)});return E.length===0?r.extract(d,g):jS(d,E)};return{extract:s,toString:r.toString}},$n=function(t){var r=function(s,d){return Sp(s,d,t)},o=function(){var s=Ue(t,function(d){return J(d,function(g,C,E,D){return g+" -> "+D.toString()},function(g,C){return"state("+g+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:r,toString:o}},Xf=function(t){var r=function(s,d){var g=Ue(d,function(C,E){return t.extract(s.concat(["["+E+"]"]),C)});return ac.consolidateArr(g)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},_p=function(t){var r=function(s,d){for(var g=[],C=0,E=t;C<E.length;C++){var D=E[C],$=D.extract(s,d);if($.stype===wa.Value)return $;g.push($)}return ac.consolidateArr(g)},o=function(){return"oneOf("+Ue(t,function(s){return s.toString()}).join(", ")+")"};return{extract:r,toString:o}},Nv=function(t,r){var o=function(g,C){return Xf(oc(t)).extract(g,C)},s=function(g,C){var E=Hr(C),D=o(g,E);return ja.bind(D,function($){var U=Ue($,function(G){return gh(G,G,tr(),r)});return $n(U).extract(g,C)})},d=function(){return"setOf("+r.toString()+")"};return{extract:s,toString:d}},yh=function(t,r){var o=es(r),s=function(g,C){return o().extract(g,C)},d=function(){return o().toString()};return{extract:s,toString:d}},s2=de(Xf,$n),kl=ne(Cp),Ld=function(t,r){return oc(function(o){var s=typeof o;return t(o)?ja.svalue(o):ja.serror("Expected type: "+r+" but got: "+s)})},wh=Ld(L,"number"),yo=Ld(S,"string"),si=Ld(F,"boolean"),xp=Ld(I,"function"),Hc=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return Hc(t[r])});default:return!1}},kp=oc(function(t){return Hc(t)?ja.svalue(t):ja.serror("Expected value to be acceptable for sending via postMessage")}),bb=function(t,r,o,s){var d=En(o,s);return d.fold(function(){return pb(t,o,s)},function(g){return g.extract(t.concat(["branch: "+s]),r)})},yb=function(t,r){var o=function(d,g){var C=En(g,t);return C.fold(function(){return wp(d,t)},function(E){return bb(d,g,r,E)})},s=function(){return"chooseOn("+t+"). Possible values: "+Hr(r)};return{extract:o,toString:s}},TA=function(){return Xf(Cp)},Ch=function(t){return oc(function(r){return t(r).fold(ja.serror,ja.svalue)})},ji=function(t,r){return Nv(function(o){return ja.fromResult(t(o))},r)},KS=function(t,r,o){var s=r.extract([t],o);return ja.mapError(s,function(d){return{input:o,errors:d}})},Ya=function(t,r,o){return ja.toResult(KS(t,r,o))},Al=function(t){return t.fold(function(r){throw new Error(zv(r))},Se)},sa=function(t,r,o){return Al(Ya(t,r,o))},zv=function(t){return`Errors: 
`+Pu(t.errors).join(`
`)+`

Input object: `+yp(t.input)},el=function(t,r){return yb(t,fr(r,$n))},OA=function(t,r){return yh(t,r)},Uo=gh,hu=M,XS=function(t){return Ch(function(r){return lt(t,r)?vr.value(r):vr.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},At=function(t){return Uo(t,t,tr(),kl())},Iu=function(t,r){return Uo(t,t,tr(),r)},Yf=function(t){return Iu(t,wh)},Jn=function(t){return Iu(t,yo)},Ts=function(t,r){return Uo(t,t,tr(),XS(r))},DA=function(t){return Iu(t,si)},tu=function(t){return Iu(t,xp)},Sh=function(t,r){return Uo(t,t,xa(),oc(function(o){return ja.serror("The field: "+t+" is forbidden. "+r)}))},Vc=function(t,r){return Uo(t,t,tr(),$n(r))},El=function(t,r){return Uo(t,t,tr(),s2(r))},Gi=function(t,r){return Uo(t,t,tr(),Xf(r))},Xr=function(t){return Uo(t,t,xa(),kl())},ic=function(t,r){return Uo(t,t,xa(),r)},Hd=function(t){return ic(t,wh)},Ea=function(t){return ic(t,yo)},Fv=function(t){return ic(t,xp)},us=function(t,r){return ic(t,Xf(r))},ss=function(t,r){return ic(t,$n(r))},RA=function(t,r){return ic(t,is(r))},Ve=function(t,r){return Uo(t,t,gr(r),kl())},gu=function(t,r,o){return Uo(t,t,gr(r),o)},uc=function(t,r){return gu(t,r,wh)},_h=function(t,r){return gu(t,r,yo)},Os=function(t,r,o){return gu(t,r,XS(o))},Ca=function(t,r){return gu(t,r,si)},Ta=function(t,r){return gu(t,r,xp)},Nu=function(t,r){return gu(t,r,kp)},Jf=function(t,r,o){return gu(t,r,Xf(o))},l2=function(t,r,o){return gu(t,r,$n(o))},In=function(t){var r=t,o=function(){return r},s=function(d){r=d};return{get:o,set:s}},wb=function(t){if(!O(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return gt(t,function(s,d){var g=Hr(s);if(g.length!==1)throw new Error("one and only one name per case");var C=g[0],E=s[C];if(o[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!O(E))throw new Error("case arguments must be an array");r.push(C),o[C]=function(){for(var D=[],$=0;$<arguments.length;$++)D[$]=arguments[$];var U=D.length;if(U!==E.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+E.length+" ("+E+"), got "+U);var G=function(ee){var oe=Hr(ee);if(r.length!==oe.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+oe.join(","));var fe=Rt(r,function(_e){return lt(oe,_e)});if(!fe)throw new Error("Not all branches were specified when using match. Specified: "+oe.join(", ")+`
Required: `+r.join(", "));return ee[C].apply(null,D)};return{fold:function(){for(var ee=[],oe=0;oe<arguments.length;oe++)ee[oe]=arguments[oe];if(ee.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+ee.length);var fe=ee[d];return fe.apply(null,D)},match:G,log:function(ee){console.log(ee,{constructors:r,constructor:C,params:D})}}}}),o},Ds={generate:wb};Ds.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var YS=function(t){var r=[],o=[];return gt(t,function(s){s.fold(function(d){r.push(d)},function(d){o.push(d)})}),{errors:r,values:o}},Ap=function(t,r){var o={};return Ur(t,function(s,d){lt(r,d)||(o[d]=s)}),o},Ep=function(t,r){var o;return o={},o[t]=r,o},c2=function(t){var r={};return gt(t,function(o){r[o.key]=o.value}),r},f2=function(t,r){return Ap(t,r)},Uc=function(t,r){return Ep(t,r)},Zf=function(t){return c2(t)},$A=function(t,r){return t.length===0?vr.value(r):vr.value(bt(r,xn.apply(void 0,t)))},v2=function(t){return vr.error(it(t))},BA=function(t,r){var o=YS(t);return o.errors.length>0?v2(o.errors):$A(o.values,r)},JS=function(t){return I(t)?t:pe},Tp=function(t,r,o){for(var s=t.dom,d=JS(o);s.parentNode;){s=s.parentNode;var g=sn.fromDom(s),C=r(g);if(C.isSome())return C;if(d(g))break}return B.none()},xh=function(t,r,o){var s=r(t),d=JS(o);return s.orThunk(function(){return d(t)?B.none():Tp(t,r,d)})},ZS=function(t,r){return _a(t.element,r.event.target)},Wc={can:ye,abort:pe,run:q},kh=function(t){if(!lo(t,"can")&&!lo(t,"abort")&&!lo(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return re(re({},Wc),t)},d2=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return tt(t,function(d,g){return d&&r(g).apply(void 0,o)},!0)}},QS=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return tt(t,function(d,g){return d||r(g).apply(void 0,o)},!1)}},MA=function(t){return I(t)?{can:ye,abort:pe,run:t}:t},PA=function(t){var r=d2(t,function(d){return d.can}),o=QS(t,function(d){return d.abort}),s=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];gt(t,function(C){C.run.apply(void 0,d)})};return{can:r,abort:o,run:s}},Po=ne,jc=Po("touchstart"),Tl=Po("touchmove"),Lv=Po("touchend"),e_=Po("touchcancel"),Ol=Po("mousedown"),Vd=Po("mousemove"),m2=Po("mouseout"),h2=Po("mouseup"),Qf=Po("mouseover"),tl=Po("focusin"),Ti=Po("focusout"),Cb=Po("keydown"),g2=Po("keyup"),Ud=Po("input"),Ah=Po("change"),Eh=Po("click"),IA=Po("transitioncancel"),Th=Po("transitionend"),p2=Po("transitionstart"),NA=Po("selectstart"),oo=function(t){return ne("alloy."+t)},Sb={tap:oo("tap")},Hv=oo("focus"),b2=oo("blur.post"),y2=oo("paste.post"),nl=oo("receive"),Rs=oo("execute"),Wd=oo("focus.item"),Vv=Sb.tap,_b=oo("longpress"),Op=oo("sandbox.close"),w2=oo("typeahead.cancel"),jd=oo("system.init"),xb=oo("system.touchmove"),zA=oo("system.touchend"),C2=oo("system.scroll"),$s=oo("system.resize"),ls=oo("system.attached"),Oh=oo("system.detached"),Dl=oo("system.dismissRequested"),qi=oo("system.repositionRequested"),kb=oo("focusmanager.shifted"),ev=oo("slotcontainer.visibility"),t_=oo("change.tab"),Oi=oo("dismiss.tab"),S2=oo("highlight"),Ab=oo("dehighlight"),Wr=function(t,r){Rl(t,t.element,r,{})},Nn=function(t,r,o){Rl(t,t.element,r,o)},Bs=function(t){Wr(t,Rs())},Eb=function(t,r,o){Rl(t,r,o,{})},Rl=function(t,r,o,s){var d=re({target:r},s);t.getSystem().triggerEvent(o,r,d)},n_=function(t,r,o,s){t.getSystem().triggerEvent(o,r,s.event)},Sa=function(t){return Zf(t)},_2=function(t,r){return{key:t,value:kh({abort:r})}},Tb=function(t,r){return{key:t,value:kh({can:r})}},Ob=function(t){return{key:t,value:kh({run:function(r,o){o.event.prevent()}})}},$t=function(t,r){return{key:t,value:kh({run:r})}},x2=function(t,r,o){return{key:t,value:kh({run:function(s,d){r.apply(void 0,[s,d].concat(o))}})}},k2=function(t){return function(r){return $t(t,r)}},Uv=function(t){return function(r){return{key:t,value:kh({run:function(o,s){ZS(o,s)&&r(o,s)}})}}},Dp=function(t,r){return $t(t,function(o,s){o.getSystem().getByUid(r).each(function(d){n_(d,d.element,t,s)})})},Gd=function(t,r,o){var s=r.partUids[o];return Dp(t,s)},Wv=function(t,r){return $t(t,function(o,s){var d=s.event,g=o.getSystem().getByDom(d.target).getOrThunk(function(){var C=xh(d.target,function(E){return o.getSystem().getByDom(E).toOptional()},pe);return C.getOr(o)});r(o,g,s)})},qd=function(t){return $t(t,function(r,o){o.cut()})},Dh=function(t){return $t(t,function(r,o){o.stop()})},Eo=function(t,r){return Uv(t)(r)},ir=Uv(ls()),Ms=Uv(Oh()),r_=Uv(jd()),cs=k2(Rs()),A2=function(t,r){var o=r||document,s=o.createElement("div");return s.innerHTML=t,je(sn.fromDom(s))},Gc=function(t){return t.dom.innerHTML},tv=function(t,r){var o=Jo(t),s=o.dom,d=sn.fromDom(s.createDocumentFragment()),g=A2(r,s);rc(d,g),Wa(t),Ui(t,d)},nv=function(t){var r=sn.fromTag("div"),o=sn.fromDom(t.dom.cloneNode(!0));return Ui(r,o),Gc(r)},Ps=function(t,r){return sn.fromDom(t.dom.cloneNode(r))},jv=function(t){return Ps(t,!1)},Zo=function(t){if(Nd(t))return"#shadow-root";var r=jv(t);return nv(r)},pu=function(t){return Zo(t)},qc=function(t,r,o){return _a(r,t.element)&&!_a(r,o)},Gv=Sa([Tb(Hv(),function(t,r){var o=r.event,s=o.originator,d=o.target;return qc(t,s,d)?(console.warn(Hv()+` did not get interpreted by the desired target. 
Originator: `+pu(s)+`
Target: `+pu(d)+`
Check the `+Hv()+" event handlers"),!1):!0})]),Rh=Object.freeze({__proto__:null,events:Gv}),Kd=0,wn=function(t){var r=new Date,o=r.getTime(),s=Math.floor(Math.random()*1e9);return Kd++,t+"_"+s+Kd+String(o)},li=ne("alloy-id-"),sc=ne("data-alloy-id"),Kc=li(),Rp=sc(),a_=function(t,r){var o=wn(Kc+t);return Db(r,o),o},Db=function(t,r){Object.defineProperty(t.dom,Rp,{value:r,writable:!0})},qv=function(t){var r=po(t)?t.dom[Rp]:null;return B.from(r)},Kv=function(t){return wn(t)},$h=Se,$p=function(t){var r=function(d){return"The component must be in a context to execute: "+d+(t?`
`+pu(t().element)+" is not in context.":"")},o=function(d){return function(){throw new Error(r(d))}},s=function(d){return function(){console.warn(r(d))}};return{debugInfo:ne("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:pe}},FA=$p(),Is=function(t,r,o){var s=o.toString(),d=s.indexOf(")")+1,g=s.indexOf("("),C=s.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:E2(C.slice(0,1).concat(C.slice(3)))}},t},E2=function(t){return Ue(t,function(r){return Wn(r,"/*")?r.substring(0,r.length-2):r})},Xd=function(t,r){var o=t.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),g=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:E2(g)}},t},Xv=function(t,r){var o=r.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),g=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:E2(g.slice(1))}},t},T2=wn("alloy-premade"),Yv=function(t){return Uc(T2,t)},o_=function(t){return En(t,T2)},Ja=function(t){return Xv(function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t.apply(void 0,ke([r.getApis(),r],o,!1))},t)},Di={init:function(){return Ki({readState:ne("No State required")})}},Ki=function(t){return t},i_=function(t,r){var o=Ue(r,function(d){return ss(d.name(),[At("config"),Ve("state",Di)])}),s=Ya("component.behaviours",$n(o),t.behaviours).fold(function(d){throw new Error(zv(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},Se);return{list:r,data:fr(s,function(d){var g=d.map(function(C){return{config:C.config,state:C.state.init(C.config)}});return ne(g)})}},Rb=function(t){return t.list},LA=function(t){return t.data},u_=function(t,r){var o={};return Ur(t,function(s,d){Ur(s,function(g,C){var E=En(o,C).getOr([]);o[C]=E.concat([r(d,g)])})}),o},$l=function(t){return{classes:j(t.classes)?[]:t.classes,attributes:j(t.attributes)?{}:t.attributes,styles:j(t.styles)?{}:t.styles}},HA=function(t,r){return re(re({},t),{attributes:re(re({},t.attributes),r.attributes),styles:re(re({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},Bh=function(t,r,o,s){var d=re({},r);gt(o,function(U){d[U.name()]=U.exhibit(t,s)});var g=u_(d,function(U,G){return{name:U,modification:G}}),C=function(U){return Ze(U,function(G,ee){return re(re({},ee.modification),G)},{})},E=Ze(g.classes,function(U,G){return G.modification.concat(U)},[]),D=C(g.attributes),$=C(g.styles);return $l({classes:E,attributes:D,styles:$})},$b=function(t,r,o,s){try{var d=cr(o,function(g,C){var E=g[r],D=C[r],$=s.indexOf(E),U=s.indexOf(D);if($===-1)throw new Error("The ordering for "+t+" does not have an entry for "+E+`.
Order specified: `+JSON.stringify(s,null,2));if(U===-1)throw new Error("The ordering for "+t+" does not have an entry for "+D+`.
Order specified: `+JSON.stringify(s,null,2));return $<U?-1:U<$?1:0});return vr.value(d)}catch(g){return vr.error([g])}},VA=function(t,r){return{handler:t,purpose:r}},s_=function(t,r){return{cHandler:t,purpose:r}},O2=function(t,r){return s_(xe.apply(void 0,[t.handler].concat(r)),t.purpose)},D2=function(t){return t.cHandler},R2=function(t,r){return{name:t,handler:r}},UA=function(t,r){var o={};return gt(t,function(s){o[s.name()]=s.handlers(r)}),o},Jv=function(t,r,o){var s=re(re({},o),UA(r,t));return u_(s,R2)},Zv=function(t,r,o,s){var d=Jv(t,o,s);return l_(d,r)},ga=function(t){var r=MA(t);return function(o,s){for(var d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];var C=[o,s].concat(d);r.abort.apply(void 0,C)?s.stop():r.can.apply(void 0,C)&&r.run.apply(void 0,C)}},Bb=function(t,r){return vr.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ue(r,function(o){return o.name}),null,2)])},lc=function(t,r,o){var s=r[o];return s?$b("Event: "+o,"name",t,s).map(function(d){var g=Ue(d,function(C){return C.handler});return PA(g)}):Bb(o,t)},l_=function(t,r){var o=Si(t,function(s,d){var g=s.length===1?vr.value(s[0].handler):lc(s,r,d);return g.map(function(C){var E=ga(C),D=s.length>1?Ee(r[d],function($){return Sn(s,function(U){return U.name===$})}).join(" > "):s[0].name;return Uc(d,VA(E,D))})});return BA(o,{})},cc,Xc="alloy.base.behaviour",Qv=$n([Uo("dom","dom",tr(),$n([At("tag"),Ve("styles",{}),Ve("classes",[]),Ve("attributes",{}),Xr("value"),Xr("innerHtml")])),At("components"),At("uid"),Ve("events",{}),Ve("apis",{}),Uo("eventOrder","eventOrder",ao((cc={},cc[Rs()]=["disabling",Xc,"toggling","typeaheadevents"],cc[Hv()]=[Xc,"focusing","keying"],cc[jd()]=[Xc,"disabling","toggling","representing"],cc[Ud()]=[Xc,"representing","streaming","invalidating"],cc[Oh()]=[Xc,"representing","item-events","tooltipping"],cc[Ol()]=["focusing",Xc,"item-type-events"],cc[jc()]=["focusing",Xc,"item-type-events"],cc[Qf()]=["item-type-events","tooltipping"],cc[nl()]=["receiving","reflecting","tooltipping"],cc)),kl()),Xr("domModification")]),Mb=function(t){return Ya("custom.definition",Qv,t)},Bp=function(t){return re(re({},t.dom),{uid:t.uid,domChildren:Ue(t.components,function(r){return r.element})})},Pb=function(t){return t.domModification.fold(function(){return $l({})},$l)},Ib=function(t){return t.events},Yd=function(t,r){var o=Fa(t,r);return o===void 0||o===""?[]:o.split(" ")},WA=function(t,r,o){var s=Yd(t,r),d=s.concat([o]);return lr(t,r,d.join(" ")),!0},Nb=function(t,r,o){var s=Ee(Yd(t,r),function(d){return d!==o});return s.length>0?lr(t,r,s.join(" ")):ui(t,r),!1},Mh=function(t){return t.dom.classList!==void 0},Mp=function(t){return Yd(t,"class")},Pp=function(t,r){return WA(t,"class",r)},$2=function(t,r){return Nb(t,"class",r)},Wo=function(t,r){Mh(t)?t.dom.classList.add(r):Pp(t,r)},Jd=function(t){var r=Mh(t)?t.dom.classList:Mp(t);r.length===0&&ui(t,"class")},Io=function(t,r){if(Mh(t)){var o=t.dom.classList;o.remove(r)}else $2(t,r);Jd(t)},bu=function(t,r){return Mh(t)&&t.dom.classList.contains(r)},Zd=function(t,r){gt(r,function(o){Wo(t,o)})},Ns=function(t,r){gt(r,function(o){Io(t,o)})},zb=function(t,r){return Rt(r,function(o){return bu(t,o)})},Yc=function(t){return t.dom.value},Ph=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},Ih=function(t){var r=sn.fromTag(t.tag);ns(r,t.attributes),Zd(r,t.classes),rs(r,t.styles),t.innerHtml.each(function(s){return tv(r,s)});var o=t.domChildren;if(rc(r,o),t.value.each(function(s){Ph(r,s)}),!t.uid)debugger;return Db(r,t.uid),r},c_=function(t){var r=En(t,"behaviours").getOr({});return Wt(Hr(r),function(o){var s=r[o];return H(s)?[s.me]:[]})},f_=function(t,r){return i_(t,r)},jA=function(t){var r=c_(t);return f_(t,r)},GA=function(t,r,o){var s=Bp(t),d=Pb(t),g={"alloy.base.modification":d},C=r.length>0?Bh(o,g,r,s):d;return HA(s,C)},qA=function(t,r,o){var s={"alloy.base.behaviour":Ib(t)};return Zv(o,t.eventOrder,r,s).getOrDie()},v_=function(t){var r=function(){return Le},o=In(FA),s=Al(Mb(t)),d=jA(t),g=Rb(d),C=LA(d),E=GA(s,g,C),D=Ih(E),$=qA(s,g,C),U=In(s.components),G=function(ft){o.set(ft)},ee=function(){o.set($p(r))},oe=function(){var ft=je(D),ct=Wt(ft,function(Fe){return o.get().getByDom(Fe).fold(function(){return[]},Kn)});U.set(ct)},fe=function(ft){var ct=C,Fe=I(ct[ft.name()])?ct[ft.name()]:function(){throw new Error("Could not find "+ft.name()+" in "+JSON.stringify(t,null,2))};return Fe()},_e=function(ft){return I(C[ft.name()])},ze=function(){return s.apis},we=function(ft){return C[ft]().map(function(ct){return ct.state.readState()}).getOr("not enabled")},Le={uid:t.uid,getSystem:o.get,config:fe,hasConfigured:_e,spec:t,readState:we,getApis:ze,connect:G,disconnect:ee,element:D,syncComponents:oe,components:U.get,events:$};return Le},Fb=function(t){var r=En(t,"components").getOr([]);return Ue(r,Ha)},Lb=function(t){var r=$h(t),o=r.events,s=W(r,["events"]),d=Fb(s),g=re(re({},s),{events:re(re({},Rh),o),components:d});return vr.value(v_(g))},Ri=function(t){var r=sn.fromText(t);return Hb({element:r})},Hb=function(t){var r=sa("external.component",is([At("element"),Xr("uid")]),t),o=In($p()),s=function(E){o.set(E)},d=function(){o.set($p(function(){return C}))},g=r.uid.getOrThunk(function(){return Kv("external")});Db(r.element,g);var C={uid:g,getSystem:o.get,config:B.none,hasConfigured:pe,connect:s,disconnect:d,getApis:function(){return{}},element:r.element,spec:t,readState:ne("No state"),syncComponents:q,components:ne([]),events:{}};return Yv(C)},B2=Kv,rl=function(t){return Pr(t,"uid")},Ha=function(t){return o_(t).getOrThunk(function(){var r=rl(t)?t:re({uid:B2("")},t);return Lb(r).getOrDie()})},zs=Yv;function ed(t,r,o,s,d){return t(o,s)?B.some(o):I(d)&&d(o)?B.none():r(o,s,d)}var M2=function(t,r,o){for(var s=t.dom,d=I(o)?o:pe;s.parentNode;){s=s.parentNode;var g=sn.fromDom(s);if(r(g))return B.some(g);if(d(g))break}return B.none()},Vb=function(t,r,o){var s=function(d,g){return g(d)};return ed(s,M2,t,r,o)},d_=function(t,r){var o=function(d){return r(sn.fromDom(d))},s=pt(t.dom.childNodes,o);return s.map(sn.fromDom)},dr=function(t,r){var o=function(s){for(var d=0;d<s.childNodes.length;d++){var g=sn.fromDom(s.childNodes[d]);if(r(g))return B.some(g);var C=o(s.childNodes[d]);if(C.isSome())return C}return B.none()};return o(t.dom)},Nh=function(t,r,o){return Vb(t,r,o).isSome()},Ub=function(t,r,o){return M2(t,function(s){return ta(s,r)},o)},P2=function(t,r){return d_(t,function(o){return ta(o,r)})},jo=function(t,r){return n2(r,t)},al=function(t,r,o){var s=function(d,g){return ta(d,g)};return ed(s,Ub,t,r,o)},m_=function(t){var r=Vb(t,function(o){if(!po(o))return!1;var s=Fa(o,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return r.bind(function(o){var s=Fa(o,"id"),d=xs(o);return jo(d,'[aria-owns="'+s+'"]')})},Qd=function(){var t=wn("aria-owns"),r=function(s){lr(s,"aria-owns",t)},o=function(s){ui(s,"aria-owns")};return{id:t,link:r,unlink:o}},Ma=function(t,r){return m_(r).exists(function(o){return em(t,o)})},em=function(t,r){return Nh(r,function(o){return _a(o,t.element)},pe)||Ma(t,r)},Wb="unknown",zh;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(zh||(zh={}));var I2=In({}),h_=function(t,r){var o=[],s=new Date().getTime();return{logEventCut:function(d,g,C){o.push({outcome:"cut",target:g,purpose:C})},logEventStopped:function(d,g,C){o.push({outcome:"stopped",target:g,purpose:C})},logNoParent:function(d,g,C){o.push({outcome:"no-parent",target:g,purpose:C})},logEventNoHandlers:function(d,g){o.push({outcome:"no-handlers-left",target:g})},logEventResponse:function(d,g,C){o.push({outcome:"response",purpose:C,target:g})},write:function(){var d=new Date().getTime();lt(["mousemove","mouseover","mouseout",jd()],t)||console.log(t,{event:t,time:d-s,target:r.dom,sequence:Ue(o,function(g){return lt(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+pu(g.target)+")":g.outcome})})}}},Ip=function(t,r,o){var s=En(I2.get(),t).orThunk(function(){var C=Hr(I2.get());return Qr(C,function(E){return t.indexOf(E)>-1?B.some(I2.get()[E]):B.none()})}).getOr(zh.NORMAL);switch(s){case zh.NORMAL:return o(KA());case zh.LOGGING:{var d=h_(t,r),g=o(d);return d.write(),g}case zh.STOP:return!0}},g_=["alloy/data/Fields","alloy/debugging/Debugging"],rv=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return pt(r,function(o){return o.indexOf("alloy")>0&&!Sn(g_,function(s){return o.indexOf(s)>-1})}).getOr(Wb)}else return Wb},yu={logEventCut:q,logEventStopped:q,logNoParent:q,logEventNoHandlers:q,logEventResponse:q,write:q},N2=function(t,r,o){return Ip(t,r,o)},KA=ne(yu),fc=ne([At("menu"),At("selectedMenu")]),av=ne([At("item"),At("selectedItem")]);ne($n(av().concat(fc())));var jb=ne($n(av())),XA=Vc("initSize",[At("numColumns"),At("numRows")]),YA=function(){return Iu("markers",jb())},tm=function(){return Vc("markers",[At("backgroundMenu")].concat(fc()).concat(av()))},nm=function(t){return Vc("markers",Ue(t,At))},Gb=function(t,r,o){return rv(),Uo(r,r,o,Ch(function(s){return vr.value(function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return s.apply(void 0,d)})}))},Yr=function(t){return Gb("onHandler",t,gr(q))},Go=function(t){return Gb("onKeyboardHandler",t,gr(B.none))},wu=function(t){return Gb("onHandler",t,tr())},zu=function(t){return Gb("onKeyboardHandler",t,tr())},ka=function(t,r){return hu(t,ne(r))},td=function(t){return hu(t,Se)},qb=ne(XA),Qo=function(t,r,o,s,d,g,C,E){return E===void 0&&(E=!1),{x:t,y:r,bubble:o,direction:s,placement:d,restriction:g,label:C+"-"+d,alwaysFit:E}},Jc=Ds.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),JA=function(t,r,o,s,d,g,C,E,D){return t.fold(r,o,s,d,g,C,E,D)},ZA=function(t,r,o,s){return t.fold(r,r,s,s,r,s,o,o)},Kb=function(t,r,o,s){return t.fold(r,s,r,s,o,o,r,s)},Xb=Jc.southeast,z2=Jc.southwest,F2=Jc.northeast,rm=Jc.northwest,Np=Jc.south,L2=Jc.north,H2=Jc.east,Fh=Jc.west,$i=function(t,r,o,s){var d=t+r;return d>s?o:d<o?s:d},fs=function(t,r,o){return Math.min(Math.max(t,r),o)},zp=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},qo=function(t,r){return pn(["left","right","top","bottom"],function(o){return En(r,o).map(function(s){return zp(t,s)})})},Yb=function(t,r,o){var s=function(D,$){return r[D].map(function(U){var G=D==="top"||D==="bottom",ee=G?o.top:o.left,oe=D==="left"||D==="top"?Math.max:Math.min,fe=oe(U,$)+ee;return G?fs(fe,t.y,t.bottom):fs(fe,t.x,t.right)}).getOr($)},d=s("left",t.x),g=s("top",t.y),C=s("right",t.right),E=s("bottom",t.bottom);return Vo(d,g,C-d,E-g)},ov="layout",V2=function(t){return t.x},U2=function(t,r){return t.x+t.width/2-r.width/2},p_=function(t,r){return t.x+t.width-r.width},W2=function(t,r){return t.y-r.height},Fp=function(t){return t.y+t.height},Jb=function(t,r){return t.y+t.height/2-r.height/2},b_=function(t){return t.x+t.width},QA=function(t,r){return t.x-r.width},Xi=function(t,r,o){return Qo(V2(t),Fp(t),o.southeast(),Xb(),"southeast",qo(t,{left:1,top:3}),ov)},ei=function(t,r,o){return Qo(p_(t,r),Fp(t),o.southwest(),z2(),"southwest",qo(t,{right:0,top:3}),ov)},Cu=function(t,r,o){return Qo(V2(t),W2(t,r),o.northeast(),F2(),"northeast",qo(t,{left:1,bottom:2}),ov)},Su=function(t,r,o){return Qo(p_(t,r),W2(t,r),o.northwest(),rm(),"northwest",qo(t,{right:0,bottom:2}),ov)},Fu=function(t,r,o){return Qo(U2(t,r),W2(t,r),o.north(),L2(),"north",qo(t,{bottom:2}),ov)},No=function(t,r,o){return Qo(U2(t,r),Fp(t),o.south(),Np(),"south",qo(t,{top:3}),ov)},Zb=function(t,r,o){return Qo(b_(t),Jb(t,r),o.east(),H2(),"east",qo(t,{left:0}),ov)},Qb=function(t,r,o){return Qo(QA(t,r),Jb(t,r),o.west(),Fh(),"west",qo(t,{right:1}),ov)},j2=function(){return[Xi,ei,Cu,Su,No,Fu,Zb,Qb]},am=function(){return[ei,Xi,Su,Cu,No,Fu,Zb,Qb]},nd=function(){return[Cu,Su,Xi,ei,Fu,No]},e0=function(){return[Su,Cu,ei,Xi,Fu,No]},t0=function(){return[Xi,ei,Cu,Su,No,Fu]},n0=function(){return[ei,Xi,Su,Cu,No,Fu]},Lh=function(t,r){return r.universal?t:Ee(t,function(o){return lt(r.channels,o)})},Hh=function(t){return Sa([$t(nl(),function(r,o){var s=t.channels,d=Hr(s),g=o,C=Lh(d,g);gt(C,function(E){var D=s[E],$=D.schema,U=sa("channel["+E+`] data
Receiver: `+pu(r.element),$,g.data);D.onReceive(r,U)})})])},y_=Object.freeze({__proto__:null,events:Hh}),Zc=[Iu("channels",ji(vr.value,is([wu("onReceive"),Ve("schema",kl())])))],om=function(t,r,o){return cs(function(s){o(s,t,r)})},Ga=function(t,r,o){return r_(function(s,d){o(s,t,r)})},e4=function(t,r,o,s,d,g){var C=is(t),E=ss(r,[RA("config",t)]);return w_(C,E,r,o,s,d,g)},t4=function(t,r,o,s,d,g){var C=t,E=ss(r,[ic("config",t)]);return w_(C,E,r,o,s,d,g)},r0=function(t,r,o){var s=function(d){for(var g=[],C=1;C<arguments.length;C++)g[C-1]=arguments[C];var E=[d].concat(g);return d.config({name:ne(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(D){var $=Array.prototype.slice.call(E,1);return r.apply(void 0,[d,D.config,D.state].concat($))})};return Is(s,o,r)},n4=function(t){return{key:t,value:void 0}},w_=function(t,r,o,s,d,g,C){var E=function(G){return lo(G,o)?G[o]():B.none()},D=fr(d,function(G,ee){return r0(o,G,ee)}),$=fr(g,function(G,ee){return Xd(G,ee)}),U=re(re(re({},$),D),{revoke:xe(n4,o),config:function(G){var ee=sa(o+"-config",t,G);return{key:o,value:{config:ee,me:U,configAsRaw:es(function(){return sa(o+"-config",t,G)}),initialConfig:G,state:C}}},schema:ne(r),exhibit:function(G,ee){return Gs(E(G),En(s,"exhibit"),function(oe,fe){return fe(ee,oe.config,oe.state)}).getOrThunk(function(){return $l({})})},name:ne(o),handlers:function(G){return E(G).map(function(ee){var oe=En(s,"events").getOr(function(){return{}});return oe(ee.config,ee.state)}).getOr({})}});return U},Zt=function(t){return Zf(t)},r4=is([At("fields"),At("name"),Ve("active",{}),Ve("apis",{}),Ve("state",Di),Ve("extra",{})]),Ko=function(t){var r=sa("Creating behaviour: "+t.name,r4,t);return e4(r.fields,r.name,r.active,r.apis,r.extra,r.state)},G2=is([At("branchKey"),At("branches"),At("name"),Ve("active",{}),Ve("apis",{}),Ve("state",Di),Ve("extra",{})]),im=function(t){var r=sa("Creating behaviour: "+t.name,G2,t);return t4(el(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},C_=ne(void 0),nu=Ko({fields:Zc,name:"receiving",active:y_}),Lp=function(t,r){return $l({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},a0=Object.freeze({__proto__:null,exhibit:Lp}),Hp=function(){return sn.fromDom(document)},vc=function(t){return t.dom.focus()},Vp=function(t){return t.dom.blur()},Up=function(t){var r=xs(t).dom;return t.dom===r.activeElement},_u=function(t){return t===void 0&&(t=Hp()),B.from(t.dom.activeElement).map(sn.fromDom)},dc=function(t){return _u(xs(t)).filter(function(r){return t.dom.contains(r.dom)})},S_=function(t,r){var o=xs(r),s=_u(o).bind(function(g){var C=function(E){return _a(g,E)};return C(r)?B.some(r):dr(r,C)}),d=t(r);return s.each(function(g){_u(o).filter(function(C){return _a(C,g)}).fold(function(){vc(g)},q)}),d},ru=function(t,r,o,s,d){var g=function(C){return C+"px"};return{position:t,left:r.map(g),top:o.map(g),right:s.map(g),bottom:d.map(g)}},Qc=function(t){return re(re({},t),{position:B.some(t.position)})},rd=function(t,r){no(t,Qc(r))},Wp=Ds.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),dt=function(t,r,o,s,d,g){var C=r.rect,E=C.x-o,D=C.y-s,$=C.width,U=C.height,G=d-(E+$),ee=g-(D+U),oe=B.some(E),fe=B.some(D),_e=B.some(G),ze=B.some(ee),we=B.none();return JA(r.direction,function(){return ru(t,oe,fe,we,we)},function(){return ru(t,we,fe,_e,we)},function(){return ru(t,oe,we,we,ze)},function(){return ru(t,we,we,_e,ze)},function(){return ru(t,oe,fe,we,we)},function(){return ru(t,oe,we,we,ze)},function(){return ru(t,oe,fe,we,we)},function(){return ru(t,we,fe,_e,we)})},iv=function(t,r){return t.fold(function(){var o=r.rect;return ru("absolute",B.some(o.x),B.some(o.y),B.none(),B.none())},function(o,s,d,g){return dt("absolute",r,o,s,d,g)},function(o,s,d,g){return dt("fixed",r,o,s,d,g)})},Vh=function(t,r){var o=xe(Wi,r),s=t.fold(o,o,function(){var C=os();return Wi(r).translate(-C.left,-C.top)}),d=du(r),g=as(r);return Vo(s.left,s.top,d,g)},a4=function(t,r){return r.fold(function(){return t.fold(Ai,Ai,Vo)},function(o){return t.fold(o,o,function(){var s=o(),d=o0(t,s.x,s.y);return Vo(d.left,d.top,s.width,s.height)})})},o0=function(t,r,o){var s=ya(r,o),d=function(){var g=os();return s.translate(-g.left,-g.top)};return t.fold(ne(s),ne(s),d)},Bl=function(t,r,o,s){return t.fold(r,o,s)};Wp.none;var i0=Wp.relative,q2=Wp.fixed,K2=function(t,r){return{anchorBox:t,origin:r}},u0=function(t,r){return K2(t,r)},X2="data-alloy-placement",Y2=function(t,r){lr(t,X2,r)},J2=function(t){return Xa(t,X2)},Z2=function(t){return ui(t,X2)},um=Ds.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),__=function(t,r){var o=r.x,s=r.y,d=r.right,g=r.bottom,C=t.x,E=t.y,D=t.right,$=t.bottom,U=t.width,G=t.height,ee=C>=o&&C<=d,oe=E>=s&&E<=g,fe=ee&&oe,_e=D<=d&&D>=o,ze=$<=g&&$>=s,we=_e&&ze,Le=Math.min(U,C>=o?d-C:D-o),ft=Math.min(G,E>=s?g-E:$-s);return{originInBounds:fe,sizeInBounds:we,visibleW:Le,visibleH:ft}},o4=function(t,r){var o=r.x,s=r.y,d=r.right,g=r.bottom,C=t.x,E=t.y,D=t.width,$=t.height,U=Math.max(o,d-D),G=Math.max(s,g-$),ee=fs(C,o,U),oe=fs(E,s,G),fe=Math.min(ee+D,d)-ee,_e=Math.min(oe+$,g)-oe;return Vo(ee,oe,fe,_e)},i4=function(t,r,o){var s=ne(r.bottom-o.y),d=ne(o.bottom-r.y),g=ZA(t,d,d,s),C=ne(r.right-o.x),E=ne(o.right-r.x),D=Kb(t,E,E,C);return{maxWidth:D,maxHeight:g}},Uh=function(t,r,o,s){var d=t.bubble,g=d.offset,C=Yb(s,t.restriction,g),E=t.x+g.left,D=t.y+g.top,$=Vo(E,D,r,o),U=__($,C),G=U.originInBounds,ee=U.sizeInBounds,oe=U.visibleW,fe=U.visibleH,_e=G&&ee,ze=_e?$:o4($,C),we=ze.width>0&&ze.height>0,Le=i4(t.direction,ze,s),ft=Le.maxWidth,ct=Le.maxHeight,Fe={rect:ze,maxHeight:ct,maxWidth:ft,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:D};return _e||t.alwaysFit?um.fit(Fe):um.nofit(Fe,oe,fe,we)},Wh=function(t,r,o,s,d,g){var C=s.width,E=s.height,D=function(U,G,ee,oe,fe){var _e=U(o,s,d,t,g),ze=Uh(_e,C,E,g);return ze.fold(ne(ze),function(we,Le,ft,ct){var Fe=fe===ct?ft>oe||Le>ee:!fe&&ct;return Fe?ze:um.nofit(G,ee,oe,fe)})},$=tt(r,function(U,G){var ee=xe(D,G);return U.fold(ne(U),ee)},um.nofit({rect:o,maxHeight:s.height,maxWidth:s.width,direction:Xb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return $.fold(Se,Se)},s0=function(t){var r=In(B.none()),o=function(){return r.get().each(t)},s=function(){o(),r.set(B.none())},d=function(){return r.get().isSome()},g=function(){return r.get()},C=function(E){o(),r.set(B.some(E))};return{clear:s,isSet:d,get:g,set:C}},Q2=function(){return s0(function(t){return t.destroy()})},jh=function(){return s0(function(t){return t.unbind()})},ew=function(){var t=Q2(),r=function(o){return t.get().each(o)};return re(re({},t),{run:r})},mo=function(){var t=s0(q),r=function(o){return t.get().each(o)};return re(re({},t),{on:r})},jp=ye,wo=function(t,r,o){return hb(t,r,jp,o)},l0=function(t,r,o){return Hf(t,r,jp,o)},sm=Qs,tw=["top","bottom","right","left"],Gp="data-alloy-transition-timer",nw=function(t,r){return zb(t,r.classes)},x_=function(t,r,o){return o.exists(function(s){var d=t.mode;return d==="all"?!0:s[d]!==r[d]})},u4=function(t,r){var o=function(s){return parseFloat(s).toFixed(3)};return Ju(r,function(s,d){var g=t[d].map(o),C=s.map(o);return!Zu(g,C)}).isSome()},k_=function(t){var r=function(g){var C=ro(t,g),E=S(C)?C.split(/\s*,\s*/):[];return Ee(E,Bc)},o=function(g){if(S(g)&&/^[\d.]+/.test(g)){var C=parseFloat(g);return Wn(g,"ms")?C:C*1e3}else return 0},s=r("transition-delay"),d=r("transition-duration");return tt(d,function(g,C,E){var D=o(s[E])+o(C);return Math.max(g,D)},0)},s4=function(t,r){var o=jh(),s=jh(),d,g=function(U){var G,ee=(G=U.raw.pseudoElement)!==null&&G!==void 0?G:"";return _a(U.target,t)&&rh(ee)&&lt(tw,U.raw.propertyName)},C=function(U){if(P(U)||g(U)){o.clear(),s.clear();var G=U==null?void 0:U.raw.type;(P(G)||G===Th())&&(clearTimeout(d),ui(t,Gp),Ns(t,r.classes))}},E=function(){o.set(wo(t,Th(),C)),s.set(wo(t,IA(),C))};if("ontransitionstart"in t.dom)var D=wo(t,p2(),function(U){g(U)&&(D.unbind(),E())});else E();var $=k_(t);requestAnimationFrame(function(){d=setTimeout(C,$+17),lr(t,Gp,d)})},c0=function(t,r){Zd(t,r.classes),Xa(t,Gp).each(function(o){clearTimeout(parseInt(o,10)),ui(t,Gp)}),s4(t,r)},qp=function(t,r,o,s,d,g){var C=x_(s,d,g);if(C||nw(t,s)){jn(t,"position",o.position);var E=Vh(r,t),D=iv(r,re(re({},d),{rect:E})),$=pn(tw,function(U){return D[U]});u4(o,$)&&(no(t,$),C&&c0(t,s),Ba(t))}else Ns(t,s.classes)},l4=function(t){return{width:du(t),height:as(t)}},A_=function(t,r,o,s){Kr(r,"max-height"),Kr(r,"max-width");var d=l4(r);return Wh(r,s.preference,t,d,o,s.bounds)},rw=function(t,r){var o=r.classes;Ns(t,o.off),Zd(t,o.on)},c4=function(t,r,o){var s=o.maxHeightFunction;s(t,r.maxHeight)},f4=function(t,r,o){var s=o.maxWidthFunction;s(t,r.maxWidth)},f0=function(t,r,o){var s=iv(o.origin,r);o.transition.each(function(d){qp(t,o.origin,s,d,r,o.lastPlacement)}),rd(t,s)},aw=function(t,r){Y2(t,r.placement)},Bi=function(t,r){mb(t,Math.floor(r))},Gh=ne(function(t,r){Bi(t,r),rs(t,{"overflow-x":"hidden","overflow-y":"auto"})}),qh=ne(function(t,r){Bi(t,r)}),E_=function(t,r,o){return t[r]===void 0?o:t[r]},v4=function(t,r,o,s,d,g,C,E){var D=E_(C,"maxHeightFunction",Gh()),$=E_(C,"maxWidthFunction",q),U=t.anchorBox,G=t.origin,ee={bounds:a4(G,g),origin:G,preference:s,maxHeightFunction:D,maxWidthFunction:$,lastPlacement:d,transition:E};return Kp(U,r,o,ee)},Kp=function(t,r,o,s){var d=A_(t,r,o,s);return f0(r,d,s),aw(r,d),rw(r,d),c4(r,d,s),f4(r,d,s),{layout:d.layout,placement:d.placement}},Xp=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],lm=function(t,r,o,s){s===void 0&&(s=1);var d=t*s,g=r*s,C=function(D){return En(o,D).getOr([])},E=function(D,$,U){var G=rn(Xp,U);return{offset:ya(D,$),classesOn:Wt(U,C),classesOff:Wt(G,C)}};return{southeast:function(){return E(-t,r,["top","alignLeft"])},southwest:function(){return E(t,r,["top","alignRight"])},south:function(){return E(-t/2,r,["top","alignCentre"])},northeast:function(){return E(-t,-r,["bottom","alignLeft"])},northwest:function(){return E(t,-r,["bottom","alignRight"])},north:function(){return E(-t/2,-r,["bottom","alignCentre"])},east:function(){return E(t,-r/2,["valignCentre","left"])},west:function(){return E(-t,-r/2,["valignCentre","right"])},insetNortheast:function(){return E(d,g,["top","alignLeft","inset"])},insetNorthwest:function(){return E(-d,g,["top","alignRight","inset"])},insetNorth:function(){return E(-d/2,g,["top","alignCentre","inset"])},insetSoutheast:function(){return E(d,-g,["bottom","alignLeft","inset"])},insetSouthwest:function(){return E(-d,-g,["bottom","alignRight","inset"])},insetSouth:function(){return E(-d/2,-g,["bottom","alignCentre","inset"])},insetEast:function(){return E(-d,-g/2,["valignCentre","right","inset"])},insetWest:function(){return E(d,-g/2,["valignCentre","left","inset"])}}},v0=function(){return lm(0,0,{})},Yp=Se,ow=function(t,r){return function(o){return d4(o)==="rtl"?r:t}},d4=function(t){return ro(t,"direction")==="rtl"?"rtl":"ltr"},ef;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(ef||(ef={}));var d0="data-alloy-vertical-dir",m4=function(t){return Nh(t,function(r){return po(r)&&Fa(r,"data-alloy-vertical-dir")===ef.BottomToTop})},ad=function(){return ss("layouts",[At("onLtr"),At("onRtl"),Xr("onBottomLtr"),Xr("onBottomRtl")])},od=function(t,r,o,s,d,g,C){var E=C.map(m4).getOr(!1),D=r.layouts.map(function(oe){return oe.onLtr(t)}),$=r.layouts.map(function(oe){return oe.onRtl(t)}),U=E?r.layouts.bind(function(oe){return oe.onBottomLtr.map(function(fe){return fe(t)})}).or(D).getOr(d):D.getOr(o),G=E?r.layouts.bind(function(oe){return oe.onBottomRtl.map(function(fe){return fe(t)})}).or($).getOr(g):$.getOr(s),ee=ow(U,G);return ee(t)},h4=function(t,r,o){var s=r.hotspot,d=Vh(o,s.element),g=od(t.element,r,t0(),n0(),nd(),e0(),B.some(r.hotspot.element));return B.some(Yp({anchorBox:d,bubble:r.bubble.getOr(v0()),overrides:r.overrides,layouts:g,placer:B.none()}))},m0=[At("hotspot"),Xr("bubble"),Ve("overrides",{}),ad(),ka("placement",h4)],h0=function(t,r,o){var s=o0(o,r.x,r.y),d=Vo(s.left,s.top,r.width,r.height),g=od(t.element,r,j2(),am(),j2(),am(),B.none());return B.some(Yp({anchorBox:d,bubble:r.bubble,overrides:r.overrides,layouts:g,placer:B.none()}))},g0=[At("x"),At("y"),Ve("height",0),Ve("width",0),Ve("bubble",v0()),Ve("overrides",{}),ad(),ka("placement",h0)],ci=Ds.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),T_=function(t){return t.fold(Se,function(r,o,s){return r.translate(-o,-s)})},iw=function(t){return t.fold(Se,Se)},O_=function(t){return tt(t,function(r,o){return r.translate(o.left,o.top)},ya(0,0))},D_=function(t){var r=Ue(t,T_);return O_(r)},mc=function(t){var r=Ue(t,iw);return O_(r)},uv=ci.screen,R_=ci.absolute,$_=function(t,r,o){var s=ch(o.root).dom,d=function(g){var C=Jo(g),E=Jo(t.element);return _a(C,E)};return B.from(s.frameElement).map(sn.fromDom).filter(d).map(vu)},uw=function(t,r,o){var s=Jo(t.element),d=os(s),g=$_(t,r,o).getOr(d);return R_(g,d.left,d.top)},p0=function(t,r,o,s){var d=uv(ya(t,r));return B.some(Es(d,o,s))},B_=function(t,r,o,s,d){return t.map(function(g){var C=[r,g.point],E=Bl(s,function(){return mc(C)},function(){return mc(C)},function(){return D_(C)}),D=bo(E.left,E.top,g.width,g.height),$=o.showAbove?nd():t0(),U=o.showAbove?e0():n0(),G=od(d,o,$,U,$,U,B.none());return Yp({anchorBox:D,bubble:o.bubble.getOr(v0()),overrides:o.overrides,layouts:G,placer:B.none()})})},Kh=function(t,r,o){var s=uw(t,o,r);return r.node.filter(fu).bind(function(d){var g=d.dom.getBoundingClientRect(),C=p0(g.left,g.top,g.width,g.height),E=r.node.getOr(t.element);return B_(C,s,r,o,E)})},g4=[At("node"),At("root"),Xr("bubble"),ad(),Ve("overrides",{}),Ve("showAbove",!1),ka("placement",Kh)],Jp="\uFEFF",p4="",Xh=function(t,r,o,s){return{start:t,soffset:r,finish:o,foffset:s}},cm={create:Xh},sw=Ds.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),M_=function(t,r,o,s){return t.fold(r,o,s)},b4=function(t){return t.fold(Se,Se,Se)},P_=sw.before,I_=sw.on,lw=sw.after,y4={before:P_,on:I_,after:lw,cata:M_,getStart:b4},b0=Ds.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),w4=function(t){return b0.exact(t.start,t.soffset,t.finish,t.foffset)},Zp=function(t){return t.match({domRange:function(r){return sn.fromDom(r.startContainer)},relative:function(r,o){return y4.getStart(r)},exact:function(r,o,s,d){return r}})},C4=b0.domRange,S4=b0.relative,_4=b0.exact,y0=function(t){var r=Zp(t);return ch(r)},x4=cm.create,Yh={domRange:C4,relative:S4,exact:_4,exactFromRange:w4,getWin:y0,range:x4},N_=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,s){t.setStart(o.dom,s)},function(o){t.setStartAfter(o.dom)})},k4=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,s){t.setEnd(o.dom,s)},function(o){t.setEndAfter(o.dom)})},cw=function(t,r,o){var s=t.document.createRange();return N_(s,r),k4(s,o),s},z_=function(t,r,o,s,d){var g=t.document.createRange();return g.setStart(r.dom,o),g.setEnd(s.dom,d),g},fw=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},F_=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?B.some(o).map(fw):B.none()},L_=function(t){var r=t.getBoundingClientRect();return r.width>0||r.height>0?B.some(r).map(fw):B.none()},Jh=Ds.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),vw=function(t,r,o){return r(sn.fromDom(o.startContainer),o.startOffset,sn.fromDom(o.endContainer),o.endOffset)},dw=function(t,r){return r.match({domRange:function(o){return{ltr:ne(o),rtl:B.none}},relative:function(o,s){return{ltr:es(function(){return cw(t,o,s)}),rtl:es(function(){return B.some(cw(t,s,o))})}},exact:function(o,s,d,g){return{ltr:es(function(){return z_(t,o,s,d,g)}),rtl:es(function(){return B.some(z_(t,d,g,o,s))})}}})},A4=function(t,r){var o=r.ltr();if(o.collapsed){var s=r.rtl().filter(function(d){return d.collapsed===!1});return s.map(function(d){return Jh.rtl(sn.fromDom(d.endContainer),d.endOffset,sn.fromDom(d.startContainer),d.startOffset)}).getOrThunk(function(){return vw(t,Jh.ltr,o)})}else return vw(t,Jh.ltr,o)},E4=function(t,r){var o=dw(t,r);return A4(t,o)},mw=function(t,r){var o=E4(t,r);return o.match({ltr:function(s,d,g,C){var E=t.document.createRange();return E.setStart(s.dom,d),E.setEnd(g.dom,C),E},rtl:function(s,d,g,C){var E=t.document.createRange();return E.setStart(g.dom,C),E.setEnd(s.dom,d),E}})};Jh.ltr,Jh.rtl;var T4=function(t,r){var o=function(g){if(!t(g))throw new Error("Can only get "+r+" value of a "+r+" node");return s(g).getOr("")},s=function(g){return t(g)?B.from(g.dom.nodeValue):B.none()},d=function(g,C){if(!t(g))throw new Error("Can only set raw "+r+" value of a "+r+" node");g.dom.nodeValue=C};return{get:o,getOption:s,set:d}},H_=T4(Du,"text"),id=function(t){return H_.get(t)},Zh=function(t){return H_.getOption(t)},V_=function(t){return Qu(t)==="img"?1:Zh(t).fold(function(){return je(t).length},function(r){return r.length})},O4=function(t){return Zh(t).filter(function(r){return r.trim().length!==0||r.indexOf(p4)>-1}).isSome()},U_=["img","br"],D4=function(t){var r=O4(t);return r||lt(U_,Qu(t))},hw=function(t){return Qh(t,D4)},Qh=function(t,r){var o=function(s){for(var d=je(s),g=d.length-1;g>=0;g--){var C=d[g];if(r(C))return B.some(C);var E=o(C);if(E.isSome())return E}return B.none()};return o(t)},au=function(t,r){return lh(r,t)},gw=function(t,r,o,s){var d=Jo(t),g=d.dom.createRange();return g.setStart(t.dom,r),g.setEnd(o.dom,s),g},eg=function(t,r,o,s){var d=gw(t,r,o,s),g=_a(t,o)&&r===s;return d.collapsed&&!g},fm=function(t){return B.from(t.getSelection())},w0=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return B.some(cm.create(sn.fromDom(r.startContainer),r.startOffset,sn.fromDom(o.endContainer),o.endOffset))}else return B.none()},R4=function(t){if(t.anchorNode===null||t.focusNode===null)return w0(t);var r=sn.fromDom(t.anchorNode),o=sn.fromDom(t.focusNode);return eg(r,t.anchorOffset,o,t.focusOffset)?B.some(cm.create(r,t.anchorOffset,o,t.focusOffset)):w0(t)},W_=function(t){return fm(t).filter(function(r){return r.rangeCount>0}).bind(R4)},pw=function(t,r){var o=mw(t,r);return F_(o)},Lu=function(t,r){var o=mw(t,r);return L_(o)},Qp=function(t,r){return{element:t,offset:r}},$4=function(t,r){var o=je(t);if(o.length===0)return Qp(t,r);if(r<o.length)return Qp(o[r],0);var s=o[o.length-1],d=Du(s)?id(s).length:je(s).length;return Qp(s,d)},vm=function(t,r){return Du(t)?Qp(t,r):$4(t,r)},ud=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return W_(t)}});return o().map(function(s){var d=vm(s.start,s.soffset),g=vm(s.finish,s.foffset);return Yh.range(d.element,d.offset,g.element,g.offset)})},tg=function(t,r,o){var s=ch(r.root).dom,d=uw(t,o,r),g=ud(s,r).bind(function(D){var $=Lu(s,Yh.exactFromRange(D)).orThunk(function(){var U=sn.fromText(Jp);vo(D.start,U);var G=pw(s,Yh.exact(U,0,U,1));return Bu(U),G});return $.bind(function(U){return p0(U.left,U.top,U.width,U.height)})}),C=ud(s,r).bind(function(D){return po(D.start)?B.some(D.start):sb(D.start)}),E=C.getOr(t.element);return B_(g,d,r,o,E)},sd=[Xr("getSelection"),At("root"),Xr("bubble"),ad(),Ve("overrides",{}),Ve("showAbove",!1),ka("placement",tg)],hc="link-layout",gc=function(t){return t.x+t.width},C0=function(t,r){return t.x-r.width},S0=function(t,r){return t.y-r.height+t.height},bw=function(t){return t.y},ng=function(t,r,o){return Qo(gc(t),bw(t),o.southeast(),Xb(),"southeast",qo(t,{left:0,top:2}),hc)},rg=function(t,r,o){return Qo(C0(t,r),bw(t),o.southwest(),z2(),"southwest",qo(t,{right:1,top:2}),hc)},ag=function(t,r,o){return Qo(gc(t),S0(t,r),o.northeast(),F2(),"northeast",qo(t,{left:0,bottom:3}),hc)},Yi=function(t,r,o){return Qo(C0(t,r),S0(t,r),o.northwest(),rm(),"northwest",qo(t,{right:1,bottom:3}),hc)},og=function(){return[ng,rg,ag,Yi]},ig=function(){return[rg,ng,Yi,ag]},_0=function(t,r,o){var s=Vh(o,r.item.element),d=od(t.element,r,og(),ig(),og(),ig(),B.none());return B.some(Yp({anchorBox:s,bubble:v0(),overrides:r.overrides,layouts:d,placer:B.none()}))},B4=[At("item"),ad(),Ve("overrides",{}),ka("placement",_0)],yw=el("type",{selection:sd,node:g4,hotspot:m0,submenu:B4,makeshift:g0}),x0=[Gi("classes",yo),Os("mode","all",["all","layout","placement"])],Mi=[Ve("useFixed",pe),Xr("getBounds")],M4=[Iu("anchor",yw),ss("transition",x0)],tf=function(){var t=document.documentElement;return q2(0,0,t.clientWidth,t.clientHeight)},k0=function(t){var r=vu(t.element),o=t.element.dom.getBoundingClientRect();return i0(r.left,r.top,o.width,o.height)},ww=function(t,r,o,s,d,g,C){var E=u0(o.anchorBox,r);return v4(E,d.element,o.bubble,o.layouts,g,s,o.overrides,C)},ug=function(t,r,o,s,d){Cw(t,r,o,s,d,B.none())},Cw=function(t,r,o,s,d,g){var C=g.map(Ao);return e1(t,r,o,s,d,C)},e1=function(t,r,o,s,d,g){var C=sa("placement.info",$n(M4),d),E=C.anchor,D=s.element,$=o.get(s.uid);S_(function(){jn(D,"position","fixed");var U=ko(D,"visibility");jn(D,"visibility","hidden");var G=r.useFixed()?tf():k0(t),ee=E.placement,oe=g.map(ne).or(r.getBounds);ee(t,E,G).each(function(fe){var _e=fe.placer.getOr(ww),ze=_e(t,G,fe,oe,s,$,C.transition);o.set(s.uid,ze)}),U.fold(function(){Kr(D,"visibility")},function(fe){jn(D,"visibility",fe)}),ko(D,"left").isNone()&&ko(D,"top").isNone()&&ko(D,"right").isNone()&&ko(D,"bottom").isNone()&&lu(ko(D,"position"),"fixed")&&Kr(D,"position")},D)},P4=function(t,r,o){return r.useFixed()?"fixed":"absolute"},j_=function(t,r,o,s){var d=s.element;gt(["position","left","right","top","bottom"],function(g){return Kr(d,g)}),Z2(d),o.clear(s.uid)},G_=Object.freeze({__proto__:null,position:ug,positionWithin:Cw,positionWithinBounds:e1,getMode:P4,reset:j_}),I4=function(){var t={},r=function(d,g){t[d]=g},o=function(d){return En(t,d)},s=function(d){H(d)?delete t[d]:t={}};return Ki({readState:function(){return t},clear:s,set:r,get:o})},sg=Object.freeze({__proto__:null,init:I4}),ho=Ko({fields:Mi,name:"positioning",active:a0,apis:G_,state:sg}),A0=function(t){Wr(t,Oh());var r=t.components();gt(r,A0)},E0=function(t){var r=t.components();gt(r,E0),Wr(t,ls())},Sw=function(t,r){Ui(t.element,r.element)},q_=function(t){gt(t.components(),function(r){return Bu(r.element)}),Wa(t.element),t.syncComponents()},_w=function(t,r){var o=t.components();q_(t);var s=rn(o,r);gt(s,function(d){A0(d),t.getSystem().removeFromWorld(d)}),gt(r,function(d){d.getSystem().isConnected()?Sw(t,d):(t.getSystem().addToWorld(d),Sw(t,d),fu(t.element)&&E0(d)),t.syncComponents()})},dm=function(t,r){T0(t,r,Ui)},T0=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),fu(t.element)&&E0(r),t.syncComponents()},Hu=function(t){A0(t),Bu(t.element),t.getSystem().removeFromWorld(t)},pc=function(t){var r=_o(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});Hu(t),r.each(function(o){o.syncComponents()})},O0=function(t){var r=t.components();gt(r,Hu),Wa(t.element),t.syncComponents()},sv=function(t,r){bc(t,r,Ui)},Ml=function(t,r){bc(t,r,Uf)},bc=function(t,r,o){o(t,r.element);var s=je(r.element);gt(s,function(d){r.getByDom(d).each(E0)})},ou=function(t){var r=je(t.element);gt(r,function(o){t.getByDom(o).each(A0)}),Bu(t.element)},ol=function(t,r,o,s){o.get().each(function(C){O0(t)});var d=r.getAttachPoint(t);dm(d,t);var g=t.getSystem().build(s);return dm(t,g),o.set(g),g},lg=function(t,r,o,s){var d=ol(t,r,o,s);return r.onOpen(t,d),d},nf=function(t,r,o,s){return o.get().map(function(){return ol(t,r,o,s)})},mm=function(t,r,o,s,d){Z_(t,r),lg(t,r,o,s),d(),Q_(t,r)},K_=function(t,r,o){o.get().each(function(s){O0(t),pc(t),r.onClose(t,s),o.clear()})},X_=function(t,r,o){return o.isOpen()},N4=function(t,r,o,s){return X_(t,r,o)&&o.get().exists(function(d){return r.isPartOf(t,d,s)})},z4=function(t,r,o){return o.get()},Y_=function(t,r,o,s){ko(t.element,r).fold(function(){ui(t.element,o)},function(d){lr(t.element,o,d)}),jn(t.element,r,s)},J_=function(t,r,o){Xa(t.element,o).fold(function(){return Kr(t.element,r)},function(s){return jn(t.element,r,s)})},Z_=function(t,r,o){var s=r.getAttachPoint(t);jn(t.element,"position",ho.getMode(s)),Y_(t,"visibility",r.cloakVisibilityAttr,"hidden")},F4=function(t){return Sn(["top","left","right","bottom"],function(r){return ko(t,r).isSome()})},Q_=function(t,r,o){F4(t.element)||Kr(t.element,"position"),J_(t,"visibility",r.cloakVisibilityAttr)},L4=Object.freeze({__proto__:null,cloak:Z_,decloak:Q_,open:lg,openWhileCloaked:mm,close:K_,isOpen:X_,isPartOf:N4,getState:z4,setContent:nf}),ex=function(t,r){return Sa([$t(Op(),function(o,s){K_(o,t,r)})])},tx=Object.freeze({__proto__:null,events:ex}),xw=[Yr("onOpen"),Yr("onClose"),At("isPartOf"),At("getAttachPoint"),Ve("cloakVisibilityAttr","data-precloak-visibility")],nx=function(){var t=mo(),r=ne("not-implemented");return Ki({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},H4=Object.freeze({__proto__:null,init:nx}),Br=Ko({fields:xw,name:"sandboxing",active:tx,apis:L4,state:H4}),hm=ne("dismiss.popups"),cg=ne("reposition.popups"),kw=ne("mouse.released"),V4=is([Ve("isExtraPart",pe),ss("fireEventInstead",[Ve("event",Dl())])]),Vu=function(t){var r,o=sa("Dismissal",V4,t);return r={},r[hm()]={schema:is([At("target")]),onReceive:function(s,d){if(Br.isOpen(s)){var g=Br.isPartOf(s,d.target)||o.isExtraPart(s,d.target);g||o.fireEventInstead.fold(function(){return Br.close(s)},function(C){return Wr(s,C.event)})}}},r},U4=is([ss("fireEventInstead",[Ve("event",qi())]),tu("doReposition")]),gm=function(t){var r,o=sa("Reposition",U4,t);return r={},r[cg()]={onReceive:function(s){Br.isOpen(s)&&o.fireEventInstead.fold(function(){return o.doReposition(s)},function(d){return Wr(s,d.event)})}},r},ld=function(t,r,o){r.store.manager.onLoad(t,r,o)},D0=function(t,r,o){r.store.manager.onUnload(t,r,o)},R0=function(t,r,o,s){r.store.manager.setValue(t,r,o,s)},W4=function(t,r,o){return r.store.manager.getValue(t,r,o)},rx=function(t,r,o){return o},$0=Object.freeze({__proto__:null,onLoad:ld,onUnload:D0,setValue:R0,getValue:W4,getState:rx}),Aw=function(t,r){var o=t.resetOnDom?[ir(function(s,d){ld(s,t,r)}),Ms(function(s,d){D0(s,t,r)})]:[Ga(t,r,ld)];return Sa(o)},fg=Object.freeze({__proto__:null,events:Aw}),B0=function(){var t=In(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},s=function(){t.set(null)};return Ki({set:t.set,get:t.get,isNotSet:o,clear:s,readState:r})},j4=function(){var t=q;return Ki({readState:t})},rf=function(){var t=In({}),r=In({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},s=function(){t.set({}),r.set({})},d=function(C){return En(t.get(),C).orThunk(function(){return En(r.get(),C)})},g=function(C){var E=t.get(),D=r.get(),$={},U={};gt(C,function(G){$[G.value]=G,En(G,"meta").each(function(ee){En(ee,"text").each(function(oe){U[oe]=G})})}),t.set(re(re({},E),$)),r.set(re(re({},D),U))};return Ki({readState:o,lookup:d,update:g,clear:s})},Ew=function(t){return t.store.manager.state(t)},Tw=Object.freeze({__proto__:null,memory:B0,dataset:rf,manual:j4,init:Ew}),vg=function(t,r,o,s){var d=r.store;o.update([s]),d.setValue(t,s),r.onSetValue(t,s)},Ow=function(t,r,o){var s=r.store,d=s.getDataKey(t);return o.lookup(d).getOrThunk(function(){return s.getFallbackEntry(d)})},t1=function(t,r,o){var s=r.store;s.initialValue.each(function(d){vg(t,r,o,d)})},ax=function(t,r,o){o.clear()},G4=[Xr("initialValue"),At("getFallbackEntry"),At("getDataKey"),At("setValue"),ka("manager",{setValue:vg,getValue:Ow,onLoad:t1,onUnload:ax,state:rf})],af=function(t,r,o){return r.store.getValue(t)},vs=function(t,r,o,s){r.store.setValue(t,s),r.onSetValue(t,s)},Pi=function(t,r,o){r.store.initialValue.each(function(s){r.store.setValue(t,s)})},q4=[At("getValue"),Ve("setValue",q),Xr("initialValue"),ka("manager",{setValue:vs,getValue:af,onLoad:Pi,onUnload:q,state:Di.init})],Dw=function(t,r,o,s){o.set(s),r.onSetValue(t,s)},dg=function(t,r,o){return o.get()},Rw=function(t,r,o){r.store.initialValue.each(function(s){o.isNotSet()&&o.set(s)})},n1=function(t,r,o){o.clear()},$w=[Xr("initialValue"),ka("manager",{setValue:Dw,getValue:dg,onLoad:Rw,onUnload:n1,state:B0})],K4=[gu("store",{mode:"memory"},el("mode",{memory:$w,manual:q4,dataset:G4})),Yr("onSetValue"),Ve("resetOnDom",!1)],an=Ko({fields:K4,name:"representing",active:fg,apis:$0,extra:{setValueFrom:function(t,r){var o=an.getValue(r);an.setValue(t,o)}},state:Tw}),Xo=function(t,r){return l2(t,{},Ue(r,function(o){return Sh(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([hu("dump",Se)]))},mg=function(t){return t.dump},fi=function(t,r){return re(re({},Zt(r)),t.dump)},il={field:Xo,augment:fi,get:mg},Bw="placeholder",r1=Ds.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),M0=function(t){return Pr(t,"uiType")},P0=function(t,r,o,s){return t.exists(function(d){return d!==o.owner})?r1.single(!0,ne(o)):En(s,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+Hr(s)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(d){return d.replace()})},I0=function(t,r,o,s){return M0(o)&&o.uiType===Bw?P0(t,r,o,s):r1.single(!1,ne(o))},cd=function(t,r,o,s){var d=I0(t,r,o,s);return d.fold(function(g,C){var E=M0(o)?C(r,o.config,o.validated):C(r),D=En(E,"components").getOr([]),$=Wt(D,function(U){return cd(t,r,U,s)});return[re(re({},E),{components:$})]},function(g,C){if(M0(o)){var E=C(r,o.config,o.validated),D=o.validated.preprocess.getOr(Se);return D(E)}else return C(r)})},a1=function(t,r,o,s){return Wt(o,function(d){return cd(t,r,d,s)})},Mw=function(t,r){var o=!1,s=function(){return o},d=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},g=function(){return r.fold(function(C,E){return C},function(C,E){return C})};return{name:ne(t),required:g,used:s,replace:d}},Pw=function(t,r,o,s){var d=fr(s,function(C,E){return Mw(E,C)}),g=a1(t,r,o,d);return Ur(d,function(C){if(C.used()===!1&&C.required())throw new Error("Placeholder: "+C.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),g},Iw=r1.single,X4=r1.multiple,ox=ne(Bw),lv=Ds.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),of=Ve("factory",{sketch:Se}),pm=Ve("schema",[]),hg=At("name"),Nw=Uo("pname","pname",Or(function(t){return"<alloy."+wn(t.name)+">"}),kl()),N0=hu("schema",function(){return[Xr("preprocess")]}),uf=Ve("defaults",ne({})),Pl=Ve("overrides",ne({})),fd=$n([of,pm,hg,Nw,uf,Pl]),vd=$n([of,pm,hg,uf,Pl]),bm=$n([of,pm,hg,Nw,uf,Pl]),gg=$n([of,N0,hg,At("unit"),Nw,uf,Pl]),zw=function(t){return t.fold(B.some,B.none,B.some,B.some)},Fw=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},Lw=function(t){return t.fold(Se,Se,Se,Se)},z0=function(t,r){return function(o){var s=sa("Converting part type",r,o);return t(s)}},Ii=z0(lv.required,fd),Fs=z0(lv.external,vd),ul=z0(lv.optional,bm),sf=z0(lv.group,gg),pg=ne("entirety"),F0=Object.freeze({__proto__:null,required:Ii,external:Fs,optional:ul,group:sf,asNamedPart:zw,name:Fw,asCommon:Lw,original:pg}),dd=function(t,r,o,s){return bt(r.defaults(t,o,s),o,{uid:t.partUids[r.name]},r.overrides(t,o,s))},ym=function(t,r,o){var s={},d={};return gt(o,function(g){g.fold(function(C){s[C.pname]=Iw(!0,function(E,D,$){return C.factory.sketch(dd(E,C,D,$))})},function(C){var E=r.parts[C.name];d[C.name]=ne(C.factory.sketch(dd(r,C,E[pg()]),E))},function(C){s[C.pname]=Iw(!1,function(E,D,$){return C.factory.sketch(dd(E,C,D,$))})},function(C){s[C.pname]=X4(!0,function(E,D,$){var U=E[C.name];return Ue(U,function(G){return C.factory.sketch(bt(C.defaults(E,G,$),G,C.overrides(E,G)))})})})}),{internals:ne(s),externals:ne(d)}},wm=function(t,r){var o={};return gt(r,function(s){zw(s).each(function(d){var g=Y4(t,d.pname);o[d.name]=function(C){var E=sa("Part: "+d.name+" in "+t,$n(d.schema),C);return re(re({},g),{config:C,validated:E})}})}),o},Y4=function(t,r){return{uiType:ox(),owner:t,name:r}},Hw=function(t,r,o){return{uiType:ox(),owner:t,name:r,config:o,validated:{}}},ix=function(t){return Wt(t,function(r){return r.fold(B.none,B.some,B.none,B.none).map(function(o){return Vc(o.name,o.schema.concat([td(pg())]))}).toArray()})},ux=function(t){return Ue(t,Fw)},Vw=function(t,r,o){return ym(t,r,o)},Uw=function(t,r,o){return Pw(B.some(t),r,r.components,o)},pa=function(t,r,o){var s=r.partUids[o];return t.getSystem().getByUid(s).toOptional()},lf=function(t,r,o){return pa(t,r,o).getOrDie("Could not find part: "+o)},sx=function(t,r,o){var s={},d=r.partUids,g=t.getSystem();return gt(o,function(C){s[C]=ne(g.getByUid(d[C]))}),s},lx=function(t,r){var o=t.getSystem();return fr(r.partUids,function(s,d){return ne(o.getByUid(s))})},cx=function(t){return Hr(t.partUids)},L0=function(t,r,o){var s={},d=r.partUids,g=t.getSystem();return gt(o,function(C){s[C]=ne(g.getByUid(d[C]).getOrDie())}),s},Ww=function(t,r){var o=ux(r);return Zf(Ue(o,function(s){return{key:s,value:t+"-"+s}}))},o1=function(t){return Uo("partUids","partUids",Ei(function(r){return Ww(r.uid,t)}),kl())},Un=Object.freeze({__proto__:null,generate:wm,generateOne:Hw,schemas:ix,names:ux,substitutes:Vw,components:Uw,defaultUids:Ww,defaultUidsSchema:o1,getAllParts:lx,getAllPartNames:cx,getPart:pa,getPartOrDie:lf,getParts:sx,getPartsOrDie:L0}),J4=function(t,r){var o=t.length>0?[Vc("parts",t)]:[];return o.concat([At("uid"),Ve("dom",{}),Ve("components",[]),td("originalSpec"),Ve("debug.sketcher",{})]).concat(r)},jw=function(t,r,o,s,d){var g=J4(s,d);return sa(t+" [SpecSchema]",is(g.concat(r)),o)},fx=function(t,r,o,s){var d=vx(s),g=jw(t,r,d,[],[]);return o(g,d)},Gw=function(t,r,o,s,d){var g=vx(d),C=ix(o),E=o1(o),D=jw(t,r,g,C,[E]),$=Vw(t,D,o),U=Uw(t,D,$.internals());return s(D,U,g,$.externals())},Z4=function(t){return Pr(t,"uid")},vx=function(t){return Z4(t)?t:re(re({},t),{uid:Kv("uid")})},qw=function(t){return t.uid!==void 0},Kw=is([At("name"),At("factory"),At("configFields"),Ve("apis",{}),Ve("extraApis",{})]),Q4=is([At("name"),At("factory"),At("configFields"),At("partFields"),Ve("apis",{}),Ve("extraApis",{})]),Ls=function(t){var r=sa("Sketcher for "+t.name,Kw,t),o=function(g){return fx(r.name,r.configFields,r.factory,g)},s=fr(r.apis,Ja),d=fr(r.extraApis,function(g,C){return Xd(g,C)});return re(re({name:r.name,configFields:r.configFields,sketch:o},s),d)},xu=function(t){var r=sa("Sketcher for "+t.name,Q4,t),o=function(C){return Gw(r.name,r.configFields,r.partFields,r.factory,C)},s=wm(r.name,r.partFields),d=fr(r.apis,Ja),g=fr(r.extraApis,function(C,E){return Xd(C,E)});return re(re({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:s},d),g)},cf=function(t){return Qu(t)==="input"&&Fa(t,"type")!=="radio"||Qu(t)==="textarea"},eE=function(t,r,o){return r.find(t)},tE=Object.freeze({__proto__:null,getCurrent:eE}),Xw=[At("find")],Sr=Ko({fields:Xw,name:"composing",apis:tE}),nE=["input","button","textarea","select"],H0=function(t,r,o){var s=r.disabled()?Yw:md;s(t,r)},V0=function(t,r){return r.useNative===!0&&lt(nE,Qu(t.element))},U0=function(t){return db(t.element,"disabled")},i1=function(t){lr(t.element,"disabled","disabled")},cv=function(t){ui(t.element,"disabled")},u1=function(t){return Fa(t.element,"aria-disabled")==="true"},rE=function(t){lr(t.element,"aria-disabled","true")},dx=function(t){lr(t.element,"aria-disabled","false")},Yw=function(t,r,o){r.disableClass.each(function(d){Wo(t.element,d)});var s=V0(t,r)?i1:rE;s(t),r.onDisabled(t)},md=function(t,r,o){r.disableClass.each(function(d){Io(t.element,d)});var s=V0(t,r)?cv:dx;s(t),r.onEnabled(t)},W0=function(t,r){return V0(t,r)?U0(t):u1(t)},mx=function(t,r,o,s){var d=s?Yw:md;d(t,r)},aE=Object.freeze({__proto__:null,enable:md,disable:Yw,isDisabled:W0,onLoad:H0,set:mx}),oE=function(t,r){return $l({classes:r.disabled()?r.disableClass.toArray():[]})},iE=function(t,r){return Sa([_2(Rs(),function(o,s){return W0(o,t)}),Ga(t,r,H0)])},Cm=Object.freeze({__proto__:null,exhibit:oE,events:iE}),Jw=[Ta("disabled",pe),Ve("useNative",!0),Xr("disableClass"),Yr("onDisabled"),Yr("onEnabled")],Pn=Ko({fields:Jw,name:"disabling",active:Cm,apis:aE}),hx=function(t,r,o,s){var d=au(t.element,"."+r.highlightClass);gt(d,function(g){Sn(s,function(C){return C.element===g})||(Io(g,r.highlightClass),t.getSystem().getByDom(g).each(function(C){r.onDehighlight(t,C),Wr(C,Ab())}))})},gx=function(t,r,o){return hx(t,r,o,[])},uE=function(t,r,o,s){Zw(t,r,o,s)&&(Io(s.element,r.highlightClass),r.onDehighlight(t,s),Wr(s,Ab()))},s1=function(t,r,o,s){hx(t,r,o,[s]),Zw(t,r,o,s)||(Wo(s.element,r.highlightClass),r.onHighlight(t,s),Wr(s,S2()))},iu=function(t,r,o){eC(t,r).each(function(s){s1(t,r,o,s)})},l1=function(t,r,o){tC(t,r).each(function(s){s1(t,r,o,s)})},sE=function(t,r,o,s){bx(t,r,o,s).fold(function(d){throw d},function(d){s1(t,r,o,d)})},px=function(t,r,o,s){var d=yx(t,r),g=pt(d,s);g.each(function(C){s1(t,r,o,C)})},Zw=function(t,r,o,s){return bu(s.element,r.highlightClass)},Qw=function(t,r,o){return jo(t.element,"."+r.highlightClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},bx=function(t,r,o,s){var d=au(t.element,"."+r.itemClass);return B.from(d[s]).fold(function(){return vr.error(new Error("No element found with index "+s))},t.getSystem().getByDom)},eC=function(t,r,o){return jo(t.element,"."+r.itemClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},tC=function(t,r,o){var s=au(t.element,"."+r.itemClass),d=s.length>0?B.some(s[s.length-1]):B.none();return d.bind(function(g){return t.getSystem().getByDom(g).toOptional()})},fv=function(t,r,o,s){var d=au(t.element,"."+r.itemClass),g=Jt(d,function(C){return bu(C,r.highlightClass)});return g.bind(function(C){var E=$i(C,s,0,d.length-1);return t.getSystem().getByDom(d[E]).toOptional()})},lE=function(t,r,o){return fv(t,r,o,-1)},cE=function(t,r,o){return fv(t,r,o,1)},yx=function(t,r,o){var s=au(t.element,"."+r.itemClass);return Ir(Ue(s,function(d){return t.getSystem().getByDom(d).toOptional()}))},fE=Object.freeze({__proto__:null,dehighlightAll:gx,dehighlight:uE,highlight:s1,highlightFirst:iu,highlightLast:l1,highlightAt:sE,highlightBy:px,isHighlighted:Zw,getHighlighted:Qw,getFirst:eC,getLast:tC,getPrevious:lE,getNext:cE,getCandidates:yx}),c1=[At("highlightClass"),At("itemClass"),Yr("onHighlight"),Yr("onDehighlight")],na=Ko({fields:c1,name:"highlighting",apis:fE}),j0=[8],vv=[9],Il=[13],hd=[27],Uu=[32],G0=[37],Sm=[38],bg=[39],gd=[40],vE=function(t,r,o){var s=zt(t.slice(0,r)),d=zt(t.slice(r+1));return pt(s.concat(d),o)},wx=function(t,r,o){var s=zt(t.slice(0,r));return pt(s,o)},dE=function(t,r,o){var s=t.slice(0,r),d=t.slice(r+1);return pt(d.concat(s),o)},mE=function(t,r,o){var s=t.slice(r+1);return pt(s,o)},yr=function(t){return function(r){var o=r.raw;return lt(t,o.which)}},Nl=function(t){return function(r){return Rt(t,function(o){return o(r)})}},yg=function(t){var r=t.raw;return r.shiftKey===!0},Cx=function(t){var r=t.raw;return r.ctrlKey===!0},f1=Ge(yg),Mr=function(t,r){return{matches:t,classification:r}},Sx=function(t,r){var o=pt(t,function(s){return s.matches(r)});return o.map(function(s){return s.classification})},_x=function(t,r,o){var s=r.exists(function(d){return o.exists(function(g){return _a(g,d)})});s||Nn(t,kb(),{prevFocus:r,newFocus:o})},v1=function(){var t=function(o){return dc(o.element)},r=function(o,s){var d=t(o);o.getSystem().triggerFocus(s,o.element);var g=t(o);_x(o,d,g)};return{get:t,set:r}},xx=function(){var t=function(o){return na.getHighlighted(o).map(function(s){return s.element})},r=function(o,s){var d=t(o);o.getSystem().getByDom(s).fold(q,function(C){na.highlight(o,C)});var g=t(o);_x(o,d,g)};return{get:t,set:r}},d1;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(d1||(d1={}));var _m=function(t,r,o,s,d){var g=function(){return t.concat([Ve("focusManager",v1()),gu("focusInside","onFocus",Ch(function($){return lt(["onFocus","onEnterOrSpace","onApi"],$)?vr.value($):vr.error("Invalid value for focusInside")})),ka("handler",D),ka("state",r),ka("sendFocusIn",d)])},C=function($,U,G,ee,oe){var fe=G($,U,ee,oe);return Sx(fe,U.event).bind(function(_e){return _e($,U,ee,oe)})},E=function($,U){var G=$.focusInside!==d1.OnFocusMode?B.none():d($).map(function(fe){return $t(Hv(),function(_e,ze){fe(_e,$,U),ze.stop()})}),ee=function(fe,_e){var ze=yr(Uu.concat(Il))(_e.event);$.focusInside===d1.OnEnterOrSpaceMode&&ze&&ZS(fe,_e)&&d($).each(function(we){we(fe,$,U),_e.stop()})},oe=[$t(Cb(),function(fe,_e){C(fe,_e,o,$,U).fold(function(){ee(fe,_e)},function(ze){_e.stop()})}),$t(g2(),function(fe,_e){C(fe,_e,s,$,U).each(function(ze){_e.stop()})})];return Sa(G.toArray().concat(oe))},D={schema:g,processKey:C,toEvents:E};return D},nC=function(t){var r=[Xr("onEscape"),Xr("onEnter"),Ve("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ve("firstTabstop",0),Ve("useTabstopAt",ye),Xr("visibilitySelector")].concat([t]),o=function(_e,ze){var we=_e.visibilitySelector.bind(function(Le){return al(ze,Le)}).getOr(ze);return Mo(we)>0},s=function(_e,ze){var we=au(_e.element,ze.selector),Le=Ee(we,function(ft){return o(ze,ft)});return B.from(Le[ze.firstTabstop])},d=function(_e,ze){return ze.focusManager.get(_e).bind(function(we){return al(we,ze.selector)})},g=function(_e,ze){return o(_e,ze)&&_e.useTabstopAt(ze)},C=function(_e,ze,we){s(_e,ze).each(function(Le){ze.focusManager.set(_e,Le)})},E=function(_e,ze,we,Le,ft){return ft(ze,we,function(ct){return g(Le,ct)}).fold(function(){return Le.cyclic?B.some(!0):B.none()},function(ct){return Le.focusManager.set(_e,ct),B.some(!0)})},D=function(_e,ze,we,Le){var ft=au(_e.element,we.selector);return d(_e,we).bind(function(ct){var Fe=Jt(ft,xe(_a,ct));return Fe.bind(function(rt){return E(_e,ft,rt,we,Le)})})},$=function(_e,ze,we){var Le=we.cyclic?vE:wx;return D(_e,ze,we,Le)},U=function(_e,ze,we){var Le=we.cyclic?dE:mE;return D(_e,ze,we,Le)},G=function(_e,ze,we){return we.onEnter.bind(function(Le){return Le(_e,ze)})},ee=function(_e,ze,we){return we.onEscape.bind(function(Le){return Le(_e,ze)})},oe=ne([Mr(Nl([yg,yr(vv)]),$),Mr(yr(vv),U),Mr(yr(hd),ee),Mr(Nl([f1,yr(Il)]),G)]),fe=ne([]);return _m(r,Di.init,oe,fe,function(){return B.some(C)})},rC=nC(hu("cyclic",pe)),kx=nC(hu("cyclic",ye)),Ax=function(t,r,o){return Eb(t,o,Rs()),B.some(!0)},pd=function(t,r,o){var s=cf(o)&&yr(Uu)(r.event);return s?B.none():Ax(t,r,o)},xm=function(t,r){return B.some(!0)},aC=[Ve("execute",pd),Ve("useSpace",!1),Ve("useEnter",!0),Ve("useControlEnter",!1),Ve("useDown",!1)],Ex=function(t,r,o){return o.execute(t,r,t.element)},q0=function(t,r,o,s){var d=o.useSpace&&!cf(t.element)?Uu:[],g=o.useEnter?Il:[],C=o.useDown?gd:[],E=d.concat(g).concat(C);return[Mr(yr(E),Ex)].concat(o.useControlEnter?[Mr(Nl([Cx,yr(Il)]),Ex)]:[])},hE=function(t,r,o,s){return o.useSpace&&!cf(t.element)?[Mr(yr(Uu),xm)]:[]},wg=_m(aC,Di.init,q0,hE,function(){return B.none()}),oC=function(){var t=mo(),r=function(d,g){t.set({numRows:d,numColumns:g})},o=function(){return t.get().map(function(d){return d.numRows})},s=function(){return t.get().map(function(d){return d.numColumns})};return Ki({readState:function(){return t.get().map(function(d){return{numRows:String(d.numRows),numColumns:String(d.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:s})},iC=function(t){return t.state(t)},Tx=Object.freeze({__proto__:null,flatgrid:oC,init:iC}),uC=function(t){return function(r,o,s,d){var g=t(r.element);return lC(g,r,o,s,d)}},K0=function(t,r){var o=ow(t,r);return uC(o)},X0=function(t,r){var o=ow(r,t);return uC(o)},sC=function(t){return function(r,o,s,d){return lC(t,r,o,s,d)}},lC=function(t,r,o,s,d){var g=s.focusManager.get(r).bind(function(C){return t(r.element,C,s,d)});return g.map(function(C){return s.focusManager.set(r,C),!0})},Ox=sC,km=sC,Cg=sC,Dx=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Rx=function(t){return!Dx(t.dom)},Y0=function(t,r){return Jt(t,r).map(function(o){return{index:o,candidates:t}})},$x=function(t,r,o){var s=function(C){return _a(C,r)},d=au(t,o),g=Ee(d,Rx);return Y0(g,s)},Bx=function(t,r){return Jt(t,function(o){return _a(r,o)})},cC=function(t,r,o,s){var d=Math.floor(r/o),g=r%o;return s(d,g).bind(function(C){var E=C.row*o+C.column;return E>=0&&E<t.length?B.some(t[E]):B.none()})},Mx=function(t,r,o,s,d){return cC(t,r,s,function(g,C){var E=g===o-1,D=E?t.length-g*s:s,$=$i(C,d,0,D-1);return B.some({row:g,column:$})})},Px=function(t,r,o,s,d){return cC(t,r,s,function(g,C){var E=$i(g,d,0,o-1),D=E===o-1,$=D?t.length-E*s:s,U=fs(C,0,$-1);return B.some({row:E,column:U})})},Ix=function(t,r,o,s){return Mx(t,r,o,s,1)},gE=function(t,r,o,s){return Mx(t,r,o,s,-1)},Nx=function(t,r,o,s){return Px(t,r,o,s,-1)},fC=function(t,r,o,s){return Px(t,r,o,s,1)},Sg=[At("selector"),Ve("execute",pd),Go("onEscape"),Ve("captureTab",!1),qb()],pE=function(t,r,o){jo(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},zx=function(t,r){return r.focusManager.get(t).bind(function(o){return al(o,r.selector)})},Fx=function(t,r,o,s){return zx(t,o).bind(function(d){return o.execute(t,r,d)})},sl=function(t){return function(r,o,s,d){return $x(r,o,s.selector).bind(function(g){return t(g.candidates,g.index,d.getNumRows().getOr(s.initSize.numRows),d.getNumColumns().getOr(s.initSize.numColumns))})}},Lx=function(t,r,o){return o.captureTab?B.some(!0):B.none()},Hx=function(t,r,o){return o.onEscape(t,r)},J0=sl(gE),Z0=sl(Ix),vC=sl(Nx),Am=sl(fC),_g=ne([Mr(yr(G0),K0(J0,Z0)),Mr(yr(bg),X0(J0,Z0)),Mr(yr(Sm),Ox(vC)),Mr(yr(gd),km(Am)),Mr(Nl([yg,yr(vv)]),Lx),Mr(Nl([f1,yr(vv)]),Lx),Mr(yr(hd),Hx),Mr(yr(Uu.concat(Il)),Fx)]),Vx=ne([Mr(yr(Uu),xm)]),Ux=_m(Sg,oC,_g,Vx,function(){return B.some(pE)}),Q0=function(t,r,o,s){var d=function(C){return Qu(C)==="button"&&Fa(C,"disabled")==="disabled"},g=function(C,E,D){var $=$i(E,s,0,D.length-1);return $===C?B.none():d(D[$])?g(C,$,D):B.from(D[$])};return $x(t,o,r).bind(function(C){var E=C.index,D=C.candidates;return g(E,E,D)})},bE=[At("selector"),Ve("getInitial",B.none),Ve("execute",pd),Go("onEscape"),Ve("executeOnMove",!1),Ve("allowVertical",!0)],ey=function(t,r){return r.focusManager.get(t).bind(function(o){return al(o,r.selector)})},m1=function(t,r,o){return ey(t,o).bind(function(s){return o.execute(t,r,s)})},ty=function(t,r,o){r.getInitial(t).orThunk(function(){return jo(t.element,r.selector)}).each(function(s){r.focusManager.set(t,s)})},Wx=function(t,r,o){return Q0(t,o.selector,r,-1)},ny=function(t,r,o){return Q0(t,o.selector,r,1)},ll=function(t){return function(r,o,s,d){return t(r,o,s,d).bind(function(){return s.executeOnMove?m1(r,o,s):B.some(!0)})}},yE=function(t,r,o){return o.onEscape(t,r)},ry=function(t,r,o,s){var d=G0.concat(o.allowVertical?Sm:[]),g=bg.concat(o.allowVertical?gd:[]);return[Mr(yr(d),ll(K0(Wx,ny))),Mr(yr(g),ll(X0(Wx,ny))),Mr(yr(Il),m1),Mr(yr(Uu),m1),Mr(yr(hd),yE)]},jx=ne([Mr(yr(Uu),xm)]),h1=_m(bE,Di.init,ry,jx,function(){return B.some(ty)}),g1=function(t,r,o){return B.from(t[r]).bind(function(s){return B.from(s[o]).map(function(d){return{rowIndex:r,columnIndex:o,cell:d}})})},dC=function(t,r,o,s){var d=t[r],g=d.length,C=$i(o,s,0,g-1);return g1(t,r,C)},Gx=function(t,r,o,s){var d=$i(o,s,0,t.length-1),g=t[d].length,C=fs(r,0,g-1);return g1(t,d,C)},qx=function(t,r,o,s){var d=t[r],g=d.length,C=fs(o+s,0,g-1);return g1(t,r,C)},Kx=function(t,r,o,s){var d=fs(o+s,0,t.length-1),g=t[d].length,C=fs(r,0,g-1);return g1(t,d,C)},ay=function(t,r,o){return dC(t,r,o,1)},bd=function(t,r,o){return dC(t,r,o,-1)},wE=function(t,r,o){return Gx(t,o,r,-1)},CE=function(t,r,o){return Gx(t,o,r,1)},SE=function(t,r,o){return qx(t,r,o,-1)},yd=function(t,r,o){return qx(t,r,o,1)},_E=function(t,r,o){return Kx(t,o,r,-1)},mC=function(t,r,o){return Kx(t,o,r,1)},xE=[Vc("selectors",[At("row"),At("cell")]),Ve("cycles",!0),Ve("previousSelector",B.none),Ve("execute",pd)],xg=function(t,r,o){var s=r.previousSelector(t).orThunk(function(){var d=r.selectors;return jo(t.element,d.cell)});s.each(function(d){r.focusManager.set(t,d)})},hC=function(t,r,o){return dc(t.element).bind(function(s){return o.execute(t,r,s)})},Xx=function(t,r){return Ue(t,function(o){return au(o,r.selectors.cell)})},oy=function(t,r){return function(o,s,d){var g=d.cycles?t:r;return al(s,d.selectors.row).bind(function(C){var E=au(C,d.selectors.cell);return Bx(E,s).bind(function(D){var $=au(o,d.selectors.row);return Bx($,C).bind(function(U){var G=Xx($,d);return g(G,U,D).map(function(ee){return ee.cell})})})})}},Yx=oy(bd,SE),Jx=oy(ay,yd),kE=oy(wE,_E),iy=oy(CE,mC),uy=ne([Mr(yr(G0),K0(Yx,Jx)),Mr(yr(bg),X0(Yx,Jx)),Mr(yr(Sm),Ox(kE)),Mr(yr(gd),km(iy)),Mr(yr(Uu.concat(Il)),hC)]),gC=ne([Mr(yr(Uu),xm)]),Zx=_m(xE,Di.init,uy,gC,function(){return B.some(xg)}),Qx=[At("selector"),Ve("execute",pd),Ve("moveOnTab",!1)],Em=function(t,r,o){return o.focusManager.get(t).bind(function(s){return o.execute(t,r,s)})},p1=function(t,r,o){jo(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},sy=function(t,r,o){return Q0(t,o.selector,r,-1)},b1=function(t,r,o){return Q0(t,o.selector,r,1)},ek=function(t,r,o,s){return o.moveOnTab?Cg(sy)(t,r,o,s):B.none()},dv=function(t,r,o,s){return o.moveOnTab?Cg(b1)(t,r,o,s):B.none()},AE=ne([Mr(yr(Sm),Cg(sy)),Mr(yr(gd),Cg(b1)),Mr(Nl([yg,yr(vv)]),ek),Mr(Nl([f1,yr(vv)]),dv),Mr(yr(Il),Em),Mr(yr(Uu),Em)]),ff=ne([Mr(yr(Uu),xm)]),tk=_m(Qx,Di.init,AE,ff,function(){return B.some(p1)}),ly=[Go("onSpace"),Go("onEnter"),Go("onShiftEnter"),Go("onLeft"),Go("onRight"),Go("onTab"),Go("onShiftTab"),Go("onUp"),Go("onDown"),Go("onEscape"),Ve("stopSpaceKeyup",!1),Xr("focusIn")],pC=function(t,r,o){return[Mr(yr(Uu),o.onSpace),Mr(Nl([f1,yr(Il)]),o.onEnter),Mr(Nl([yg,yr(Il)]),o.onShiftEnter),Mr(Nl([yg,yr(vv)]),o.onShiftTab),Mr(Nl([f1,yr(vv)]),o.onTab),Mr(yr(Sm),o.onUp),Mr(yr(gd),o.onDown),Mr(yr(G0),o.onLeft),Mr(yr(bg),o.onRight),Mr(yr(Uu),o.onSpace),Mr(yr(hd),o.onEscape)]},EE=function(t,r,o){return o.stopSpaceKeyup?[Mr(yr(Uu),xm)]:[]},wd=_m(ly,Di.init,pC,EE,function(t){return t.focusIn}),nk=rC.schema(),rk=kx.schema(),TE=h1.schema(),bC=Ux.schema(),kg=Zx.schema(),Ag=wg.schema(),ak=tk.schema(),yC=wd.schema(),zl=Object.freeze({__proto__:null,acyclic:nk,cyclic:rk,flow:TE,flatgrid:bC,matrix:kg,execution:Ag,menu:ak,special:yC}),Cd=function(t){return lo(t,"setGridSize")},Fn=im({branchKey:"mode",branches:zl,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(s){s(t,r,o)})},setGridSize:function(t,r,o,s,d){Cd(o)?o.setGridSize(s,d):console.error("Layout does not support setGridSize")}},state:Tx}),wC=function(t,r,o,s){S_(function(){var d=Ue(s,t.getSystem().build);_w(t,d)},t.element)},vf=function(t,r,o,s){var d=t.getSystem().build(s);T0(t,d,o)},ok=function(t,r,o,s){vf(t,r,Ui,s)},OE=function(t,r,o,s){vf(t,r,Wf,s)},ik=function(t,r,o,s){var d=y1(t),g=pt(d,function(C){return _a(s.element,C.element)});g.each(pc)},y1=function(t,r){return t.components()},yc=function(t,r,o,s,d){var g=y1(t);return B.from(g[s]).map(function(C){return ik(t,r,o,C),d.each(function(E){vf(t,r,function(D,$){nc(D,$,s)},E)}),C})},cy=function(t,r,o,s,d){var g=y1(t);return Jt(g,s).bind(function(C){return yc(t,r,o,C,d)})},uk=Object.freeze({__proto__:null,append:ok,prepend:OE,remove:ik,replaceAt:yc,replaceBy:cy,set:wC,contents:y1}),nr=Ko({fields:[],name:"replacing",apis:uk}),CC=function(t,r){var o=Sa(r);return Ko({fields:[At("enabled")],name:t,active:{events:ne(o)}})},ur=function(t,r){var o=CC(t,r);return{key:t,value:{config:{},me:o,configAsRaw:ne({}),initialConfig:{},state:Di}}},SC=function(t,r){r.ignore||(vc(t.element),r.onFocus(t))},sk=function(t,r){r.ignore||Vp(t.element)},lk=function(t){return Up(t.element)},Eg=Object.freeze({__proto__:null,focus:SC,blur:sk,isFocused:lk}),Tg=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return $l(o)},Og=function(t){return Sa([$t(Hv(),function(r,o){SC(r,t),o.stop()})].concat(t.stopMousedown?[$t(Ol(),function(r,o){o.event.prevent()})]:[]))},Dg=Object.freeze({__proto__:null,exhibit:Tg,events:Og}),DE=[Yr("onFocus"),Ve("stopMousedown",!1),Ve("ignore",!1)],Zn=Ko({fields:DE,name:"focusing",active:Dg,apis:Eg}),ck=function(t){var r=function(){var o=In(t),s=function(){return o.get()},d=function(E){return o.set(E)},g=function(){return o.set(t)},C=function(){return o.get()};return{get:s,set:d,clear:g,readState:C}};return{init:r}},_C=function(t,r,o){var s=r.aria;s.update(t,s,o.get())},w1=function(t,r,o){r.toggleClass.each(function(s){o.get()?Wo(t.element,s):Io(t.element,s)})},Sd=function(t,r,o){xC(t,r,o,!o.get())},fk=function(t,r,o){o.set(!0),w1(t,r,o),_C(t,r,o)},fy=function(t,r,o){o.set(!1),w1(t,r,o),_C(t,r,o)},xC=function(t,r,o,s){var d=s?fk:fy;d(t,r,o)},RE=function(t,r,o){return o.get()},vk=function(t,r,o){xC(t,r,o,r.selected)},$E=Object.freeze({__proto__:null,onLoad:vk,toggle:Sd,isOn:RE,on:fk,off:fy,set:xC}),vy=function(){return $l({})},BE=function(t,r){var o=om(t,r,Sd),s=Ga(t,r,vk);return Sa(it([t.toggleOnExecute?[o]:[],[s]]))},dy=Object.freeze({__proto__:null,exhibit:vy,events:BE}),dk=function(t,r,o){lr(t.element,"aria-pressed",o),r.syncWithExpanded&&hk(t,r,o)},mk=function(t,r,o){lr(t.element,"aria-selected",o)},ME=function(t,r,o){lr(t.element,"aria-checked",o)},hk=function(t,r,o){lr(t.element,"aria-expanded",o)},kC=[Ve("selected",!1),Xr("toggleClass"),Ve("toggleOnExecute",!0),gu("aria",{mode:"none"},el("mode",{pressed:[Ve("syncWithExpanded",!1),ka("update",dk)],checked:[ka("update",ME)],expanded:[ka("update",hk)],selected:[ka("update",mk)],none:[ka("update",q)]}))],Nr=Ko({fields:kC,name:"toggling",active:dy,apis:$E,state:ck(!1)}),gk=function(){var t=function(r,o){o.stop(),Bs(r)};return[$t(Eh(),t),$t(Vv(),t),qd(jc()),qd(Ol())]},my=function(t){var r=function(o){return cs(function(s,d){o(s),d.stop()})};return Sa(it([t.map(r).toArray(),gk()]))},AC="alloy.item-hover",pk="alloy.item-focus",EC=function(t){(dc(t.element).isNone()||Zn.isFocused(t))&&(Zn.isFocused(t)||Zn.focus(t),Nn(t,AC,{item:t}))},C1=function(t){Nn(t,pk,{item:t})},hy=ne(AC),u=ne(pk),c=function(t){return{dom:t.dom,domModification:re(re({},t.domModification),{attributes:re(re(re({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:il.augment(t.itemBehaviours,[t.toggling.fold(Nr.revoke,function(r){return Nr.config(re({aria:{mode:"checked"}},r))}),Zn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){C1(r)}}),Fn.config({mode:"execution"}),an.config({store:{mode:"memory",initialValue:t.data}}),ur("item-type-events",ke(ke([],gk(),!0),[$t(Qf(),EC),$t(Wd(),Zn.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},h=[At("data"),At("components"),At("dom"),Ve("hasSubmenu",!1),Xr("toggling"),il.field("itemBehaviours",[Nr,Zn,Fn,an]),Ve("ignoreFocus",!1),Ve("domModification",{}),ka("builder",c),Ve("eventOrder",{})],w=function(t){return{dom:t.dom,components:t.components,events:Sa([Dh(Wd())])}},k=[At("dom"),At("components"),ka("builder",w)],R=ne("item-widget"),z=ne([Ii({name:"widget",overrides:function(t){return{behaviours:Zt([an.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:q}})])}}})]),K=function(t){var r=Vw(R(),t,z()),o=Uw(R(),t,r.internals()),s=function(g){return pa(g,t,"widget").map(function(C){return Fn.focusIn(C),C})},d=function(g,C){return cf(C.event.target)?B.none():function(){return t.autofocus&&C.setSource(g.element),B.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:Sa([cs(function(g,C){s(g).each(function(E){C.stop()})}),$t(Qf(),EC),$t(Wd(),function(g,C){t.autofocus?s(g):Zn.focus(g)})]),behaviours:il.augment(t.widgetBehaviours,[an.config({store:{mode:"memory",initialValue:t.data}}),Zn.config({ignore:t.ignoreFocus,onFocus:function(g){C1(g)}}),Fn.config({mode:"special",focusIn:t.autofocus?function(g){s(g)}:C_(),onLeft:d,onRight:d,onEscape:function(g,C){return!Zn.isFocused(g)&&!t.autofocus?(Zn.focus(g),B.some(!0)):(t.autofocus&&C.setSource(g.element),B.none())}})])}},ue=[At("uid"),At("data"),At("components"),At("dom"),Ve("autofocus",!1),Ve("ignoreFocus",!1),il.field("widgetBehaviours",[an,Zn,Fn]),Ve("domModification",{}),o1(z()),ka("builder",K)],be=el("type",{widget:ue,item:h,separator:k}),Pe=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},mt=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},Lt=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},Tt=ne([sf({factory:{sketch:function(t){var r=sa("menu.spec item",be,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return Pr(r,"uid")?r:re(re({},r),{uid:Kv("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),ht=ne([At("value"),At("items"),At("dom"),At("components"),Ve("eventOrder",{}),Xo("menuBehaviours",[na,an,Sr,Fn]),gu("movement",{mode:"menu",moveOnTab:!0},el("mode",{grid:[qb(),ka("config",Pe)],matrix:[ka("config",mt),At("rowSelector")],menu:[Ve("moveOnTab",!0),ka("config",Lt)]})),YA(),Ve("fakeFocus",!1),Ve("focusManager",v1()),Yr("onHighlight")]),Yt=ne("alloy.menu-focus"),tn=function(t,r,o,s){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:fi(t.menuBehaviours,[na.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),an.config({store:{mode:"memory",initialValue:t.value}}),Sr.config({find:B.some}),Fn.config(t.movement.config(t,t.movement))]),events:Sa([$t(u(),function(d,g){var C=g.event;d.getSystem().getByDom(C.target).each(function(E){na.highlight(d,E),g.stop(),Nn(d,Yt(),{menu:d,item:E})})}),$t(hy(),function(d,g){var C=g.event.item;na.highlight(d,C)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},On=xu({name:"Menu",configFields:ht(),partFields:Tt(),factory:tn}),jr=function(t){return Na(t,function(r,o){return{k:r,v:o}})},Tn=function(t,r,o,s){return En(o,s).bind(function(d){return En(t,d).bind(function(g){var C=Tn(t,r,o,g);return B.some([g].concat(C))})}).getOr([])},er=function(t,r){var o={};Ur(t,function(C,E){gt(C,function(D){o[D]=E})});var s=r,d=jr(r),g=fr(d,function(C,E){return[E].concat(Tn(o,s,d,E))});return fr(o,function(C){return En(g,C).getOr([C])})},_r=function(){var t=In({}),r=In({}),o=In({}),s=mo(),d=In({}),g=function(){t.set({}),r.set({}),o.set({}),s.clear()},C=function(){return s.get().isNone()},E=function(Fe,rt){var St;r.set(re(re({},r.get()),(St={},St[Fe]={type:"prepared",menu:rt},St)))},D=function(Fe,rt,St,on){s.set(Fe),t.set(St),r.set(rt),d.set(on);var Dt=er(on,St);o.set(Dt)},$=function(Fe){return Ju(t.get(),function(rt,St){return rt===Fe})},U=function(Fe,rt,St){return _e(Fe).bind(function(on){return $(Fe).bind(function(Dt){return rt(Dt).map(function(ln){return{triggeredMenu:on,triggeringItem:ln,triggeringPath:St}})})})},G=function(Fe,rt){var St=Ee(we(Fe).toArray(),function(on){return _e(on).isSome()});return En(o.get(),Fe).bind(function(on){var Dt=zt(St.concat(on)),ln=Wt(Dt,function(Mt,Ct){return U(Mt,rt,Dt.slice(0,Ct+1)).fold(function(){return lu(s.get(),Mt)?[]:[B.none()]},function(Xt){return[B.some(Xt)]})});return Tr(ln)})},ee=function(Fe){return En(t.get(),Fe).map(function(rt){var St=En(o.get(),Fe).getOr([]);return[rt].concat(St)})},oe=function(Fe){return En(o.get(),Fe).bind(function(rt){return rt.length>1?B.some(rt.slice(1)):B.none()})},fe=function(Fe){return En(o.get(),Fe)},_e=function(Fe){return ze(Fe).bind(wr)},ze=function(Fe){return En(r.get(),Fe)},we=function(Fe){return En(t.get(),Fe)},Le=function(Fe){var rt=d.get();return rn(Hr(rt),Fe)},ft=function(){return s.get().bind(_e)},ct=function(){return r.get()};return{setMenuBuilt:E,setContents:D,expand:ee,refresh:fe,collapse:oe,lookupMenu:ze,lookupItem:we,otherMenus:Le,getPrimary:ft,getMenus:ct,clear:g,isClear:C,getTriggeringPath:G}},wr=function(t){return t.type==="prepared"?B.some(t.menu):B.none()},Co={init:_r,extractPreparedMenu:wr},vi=function(t,r){var o=mo(),s=function(Ot,bn,An){return fr(An,function(Ar,ia){var Pa=function(){return On.sketch(re(re({},Ar),{value:ia,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?xx():v1()}))};return ia===bn?{type:"prepared",menu:Ot.getSystem().build(Pa())}:{type:"notbuilt",nbMenu:Pa}})},d=Co.init(),g=function(Ot){var bn=s(Ot,t.data.primary,t.data.menus),An=D();return d.setContents(t.data.primary,bn,t.data.expansions,An),d.getPrimary()},C=function(Ot){return an.getValue(Ot).value},E=function(Ot,bn,An){return Qr(bn,function(Ar){if(!Ar.getSystem().isConnected())return B.none();var ia=na.getCandidates(Ar);return pt(ia,function(Pa){return C(Pa)===An})})},D=function(Ot){return fr(t.data.menus,function(bn,An){return Wt(bn.items,function(Ar){return Ar.type==="separator"?[]:[Ar.data.value]})})},$=function(Ot,bn){na.highlight(Ot,bn),na.getHighlighted(bn).orThunk(function(){return na.getFirst(bn)}).each(function(An){Eb(Ot,An.element,Wd())})},U=function(Ot,bn){return Ir(Ue(bn,function(An){return Ot.lookupMenu(An).bind(function(Ar){return Ar.type==="prepared"?B.some(Ar.menu):B.none()})}))},G=function(Ot,bn,An){var Ar=U(bn,bn.otherMenus(An));gt(Ar,function(ia){Ns(ia.element,[t.markers.backgroundMenu]),t.stayInDom||nr.remove(Ot,ia)})},ee=function(Ot){return o.get().getOrThunk(function(){var bn={},An=au(Ot.element,"."+t.markers.item),Ar=Ee(An,function(ia){return Fa(ia,"aria-haspopup")==="true"});return gt(Ar,function(ia){Ot.getSystem().getByDom(ia).each(function(Pa){var so=C(Pa);bn[so]=Pa})}),o.set(bn),bn})},oe=function(Ot,bn){var An=ee(Ot);Ur(An,function(Ar,ia){var Pa=lt(bn,ia);lr(Ar.element,"aria-expanded",Pa)})},fe=function(Ot,bn,An){return B.from(An[0]).bind(function(Ar){return bn.lookupMenu(Ar).bind(function(ia){if(ia.type==="notbuilt")return B.none();var Pa=ia.menu,so=U(bn,An.slice(1));return gt(so,function(vl){Wo(vl.element,t.markers.backgroundMenu)}),fu(Pa.element)||nr.append(Ot,zs(Pa)),Ns(Pa.element,[t.markers.backgroundMenu]),$(Ot,Pa),G(Ot,bn,An),B.some(Pa)})})},_e;(function(Ot){Ot[Ot.HighlightSubmenu=0]="HighlightSubmenu",Ot[Ot.HighlightParent=1]="HighlightParent"})(_e||(_e={}));var ze=function(Ot,bn,An){if(An.type==="notbuilt"){var Ar=Ot.getSystem().build(An.nbMenu());return d.setMenuBuilt(bn,Ar),Ar}else return An.menu},we=function(Ot,bn,An){if(An===void 0&&(An=_e.HighlightSubmenu),bn.hasConfigured(Pn)&&Pn.isDisabled(bn))return B.some(bn);var Ar=C(bn);return d.expand(Ar).bind(function(ia){return oe(Ot,ia),B.from(ia[0]).bind(function(Pa){return d.lookupMenu(Pa).bind(function(so){var vl=ze(Ot,Pa,so);return fu(vl.element)||nr.append(Ot,zs(vl)),t.onOpenSubmenu(Ot,bn,vl,zt(ia)),An===_e.HighlightSubmenu?(na.highlightFirst(vl),fe(Ot,d,ia)):(na.dehighlightAll(vl),B.some(bn))})})})},Le=function(Ot,bn){var An=C(bn);return d.collapse(An).bind(function(Ar){return oe(Ot,Ar),fe(Ot,d,Ar).map(function(ia){return t.onCollapseMenu(Ot,bn,ia),ia})})},ft=function(Ot,bn){var An=C(bn);return d.refresh(An).bind(function(Ar){return oe(Ot,Ar),fe(Ot,d,Ar)})},ct=function(Ot,bn){return cf(bn.element)?B.none():we(Ot,bn,_e.HighlightSubmenu)},Fe=function(Ot,bn){return cf(bn.element)?B.none():Le(Ot,bn)},rt=function(Ot,bn){return Le(Ot,bn).orThunk(function(){return t.onEscape(Ot,bn).map(function(){return Ot})})},St=function(Ot){return function(bn,An){return al(An.getSource(),"."+t.markers.item).bind(function(Ar){return bn.getSystem().getByDom(Ar).toOptional().bind(function(ia){return Ot(bn,ia).map(ye)})})}},on=Sa([$t(Yt(),function(Ot,bn){var An=bn.event.item;d.lookupItem(C(An)).each(function(){var Ar=bn.event.menu;na.highlight(Ot,Ar);var ia=C(bn.event.item);d.refresh(ia).each(function(Pa){return G(Ot,d,Pa)})})}),cs(function(Ot,bn){var An=bn.event.target;Ot.getSystem().getByDom(An).each(function(Ar){var ia=C(Ar);ia.indexOf("collapse-item")===0&&Le(Ot,Ar),we(Ot,Ar,_e.HighlightSubmenu).fold(function(){t.onExecute(Ot,Ar)},q)})}),ir(function(Ot,bn){g(Ot).each(function(An){nr.append(Ot,zs(An)),t.onOpenMenu(Ot,An),t.highlightImmediately&&$(Ot,An)})})].concat(t.navigateOnHover?[$t(hy(),function(Ot,bn){var An=bn.event.item;ft(Ot,An),we(Ot,An,_e.HighlightParent),t.onHover(Ot,An)})]:[])),Dt=function(Ot){return na.getHighlighted(Ot).bind(na.getHighlighted)},ln=function(Ot){Dt(Ot).each(function(bn){Le(Ot,bn)})},Mt=function(Ot){d.getPrimary().each(function(bn){$(Ot,bn)})},Ct=function(Ot){return B.from(Ot.components()[0]).filter(function(bn){return Fa(bn.element,"role")==="menu"})},Xt=function(Ot){var bn=d.getPrimary().bind(function(An){return Dt(Ot).bind(function(Ar){var ia=C(Ar),Pa=_i(d.getMenus()),so=Ir(Ue(Pa,Co.extractPreparedMenu));return d.getTriggeringPath(ia,function(vl){return E(Ot,so,vl)})}).map(function(Ar){return{primary:An,triggeringPath:Ar}})});bn.fold(function(){Ct(Ot).each(function(An){t.onRepositionMenu(Ot,An,[])})},function(An){var Ar=An.primary,ia=An.triggeringPath;t.onRepositionMenu(Ot,Ar,ia)})},Cn={collapseMenu:ln,highlightPrimary:Mt,repositionMenus:Xt};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:fi(t.tmenuBehaviours,[Fn.config({mode:"special",onRight:St(ct),onLeft:St(Fe),onEscape:St(rt),focusIn:function(Ot,bn){d.getPrimary().each(function(An){Eb(Ot,An.element,Wd())})}}),na.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Sr.config({find:function(Ot){return na.getHighlighted(Ot)}}),nr.config({})]),eventOrder:t.eventOrder,apis:Cn,events:on}},di=ne("collapse-item"),zr=function(t,r,o){return{primary:t,menus:r,expansions:o}},rr=function(t,r){return{primary:t,menus:Uc(t,r),expansions:{}}},Dr=function(t){return{value:wn(di()),meta:{text:t}}},fa=Ls({name:"TieredMenu",configFields:[zu("onExecute"),zu("onEscape"),wu("onOpenMenu"),wu("onOpenSubmenu"),Yr("onRepositionMenu"),Yr("onCollapseMenu"),Ve("highlightImmediately",!0),Vc("data",[At("primary"),At("menus"),At("expansions")]),Ve("fakeFocus",!1),Yr("onHighlight"),Yr("onHover"),tm(),At("dom"),Ve("navigateOnHover",!0),Ve("stayInDom",!1),Xo("tmenuBehaviours",[Fn,na,Sr,nr]),Ve("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:vi,extraApis:{tieredData:zr,singleData:rr,collapseItem:Dr}}),io=function(t,r,o,s,d){var g=function(){return t.lazySink(r)},C=s.type==="horizontal"?{layouts:{onLtr:function(){return t0()},onRtl:function(){return n0()}}}:{},E=function($){return $.length===2},D=function($){return E($)?C:{}};return fa.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return Br.close(r),t.onEscape.map(function($){return $(r)}),B.some(!0)},onExecute:function(){return B.some(!0)},onOpenMenu:function($,U){ho.positionWithinBounds(g().getOrDie(),U,o,d())},onOpenSubmenu:function($,U,G,ee){var oe=g().getOrDie();ho.position(oe,G,{anchor:re({type:"submenu",item:U},D(ee))})},onRepositionMenu:function($,U,G){var ee=g().getOrDie();ho.positionWithinBounds(ee,U,o,d()),gt(G,function(oe){var fe=D(oe.triggeringPath);ho.position(ee,oe.triggeredMenu,{anchor:re({type:"submenu",item:oe.triggeringItem},fe)})})}})},mv=function(t,r){var o=function(oe,fe){var _e=t.getRelated(oe);return _e.exists(function(ze){return em(ze,fe)})},s=function(oe,fe){Br.setContent(oe,fe)},d=function(oe,fe,_e){g(oe,fe,_e,B.none())},g=function(oe,fe,_e,ze){C(oe,fe,_e,function(){return ze.map(function(we){return Ao(we)})})},C=function(oe,fe,_e,ze){var we=t.lazySink(oe).getOrDie();Br.openWhileCloaked(oe,fe,function(){return ho.positionWithinBounds(we,oe,_e,ze())}),an.setValue(oe,B.some({mode:"position",config:_e,getBounds:ze}))},E=function(oe,fe,_e){D(oe,fe,_e,B.none)},D=function(oe,fe,_e,ze){var we=io(t,oe,fe,_e,ze);Br.open(oe,we),an.setValue(oe,B.some({mode:"menu",menu:we}))},$=function(oe){Br.isOpen(oe)&&(an.setValue(oe,B.none()),Br.close(oe))},U=function(oe){return Br.getState(oe)},G=function(oe){Br.isOpen(oe)&&an.getValue(oe).each(function(fe){switch(fe.mode){case"menu":Br.getState(oe).each(fa.repositionMenus);break;case"position":var _e=t.lazySink(oe).getOrDie();ho.positionWithinBounds(_e,oe,fe.config,fe.getBounds());break}})},ee={setContent:s,showAt:d,showWithin:g,showWithinBounds:C,showMenuAt:E,showMenuWithinBounds:D,hide:$,getContent:U,reposition:G,isOpen:Br.isOpen};return{uid:t.uid,dom:t.dom,behaviours:fi(t.inlineBehaviours,[Br.config({isPartOf:function(oe,fe,_e){return em(fe,_e)||o(oe,_e)},getAttachPoint:function(oe){return t.lazySink(oe).getOrDie()},onOpen:function(oe){t.onShow(oe)},onClose:function(oe){t.onHide(oe)}}),an.config({store:{mode:"memory",initialValue:B.none()}}),nu.config({channels:re(re({},Vu(re({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(oe){return{fireEventInstead:{event:oe.event}}}).getOr({})))),gm(re(re({},t.fireRepositionEventInstead.map(function(oe){return{fireEventInstead:{event:oe.event}}}).getOr({})),{doReposition:G})))})]),eventOrder:t.eventOrder,apis:ee}},ca=Ls({name:"InlineView",configFields:[At("lazySink"),Yr("onShow"),Yr("onHide"),Fv("onEscape"),Xo("inlineBehaviours",[Br,an,nu]),ss("fireDismissalEventInstead",[Ve("event",Dl())]),ss("fireRepositionEventInstead",[Ve("event",qi())]),Ve("getRelated",B.none),Ve("isExtraPart",pe),Ve("eventOrder",B.none)],factory:mv,apis:{showAt:function(t,r,o,s){t.showAt(r,o,s)},showWithin:function(t,r,o,s,d){t.showWithin(r,o,s,d)},showWithinBounds:function(t,r,o,s,d){t.showWithinBounds(r,o,s,d)},showMenuAt:function(t,r,o,s){t.showMenuAt(r,o,s)},showMenuWithinBounds:function(t,r,o,s,d){t.showMenuWithinBounds(r,o,s,d)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),ds="layout-inset",mi=function(t){return t.x},S1=function(t,r){return t.x+t.width/2-r.width/2},hv=function(t,r){return t.x+t.width-r.width},wc=function(t){return t.y},Hs=function(t,r){return t.y+t.height-r.height},df=function(t,r){return t.y+t.height/2-r.height/2},gy=function(t,r,o){return Qo(hv(t,r),Hs(t,r),o.insetSouthwest(),rm(),"southwest",qo(t,{right:0,bottom:3}),ds)},Rg=function(t,r,o){return Qo(mi(t),Hs(t,r),o.insetSoutheast(),F2(),"southeast",qo(t,{left:1,bottom:3}),ds)},$g=function(t,r,o){return Qo(hv(t,r),wc(t),o.insetNorthwest(),z2(),"northwest",qo(t,{right:0,top:2}),ds)},Bg=function(t,r,o){return Qo(mi(t),wc(t),o.insetNortheast(),Xb(),"northeast",qo(t,{left:1,top:2}),ds)},Cc=function(t,r,o){return Qo(S1(t,r),wc(t),o.insetNorth(),Np(),"north",qo(t,{top:2}),ds)},Mg=function(t,r,o){return Qo(S1(t,r),Hs(t,r),o.insetSouth(),L2(),"south",qo(t,{bottom:3}),ds)},Pg=function(t,r,o){return Qo(hv(t,r),df(t,r),o.insetEast(),Fh(),"east",qo(t,{right:0}),ds)},TC=function(t,r,o){return Qo(mi(t),df(t,r),o.insetWest(),H2(),"west",qo(t,{left:1}),ds)},Ig=function(t){switch(t){case"north":return Cc;case"northeast":return Bg;case"northwest":return $g;case"south":return Mg;case"southeast":return Rg;case"southwest":return gy;case"east":return Pg;case"west":return TC}},L5=function(t,r,o,s,d){var g=J2(s).map(Ig).getOr(Cc);return g(t,r,o,s,d)},PE=function(t){switch(t){case"north":return Mg;case"northeast":return Rg;case"northwest":return gy;case"south":return Cc;case"southeast":return Bg;case"southwest":return $g;case"east":return TC;case"west":return Pg}},o6=function(t,r,o,s,d){var g=J2(s).map(PE).getOr(Cc);return g(t,r,o,s,d)},Ng=tinymce.util.Tools.resolve("tinymce.util.Delay"),i6=function(t){var r=my(t.action),o=t.dom.tag,s=function(g){return En(t.dom,"attributes").bind(function(C){return En(C,g)})},d=function(){if(o==="button"){var g=s("type").getOr("button"),C=s("role").map(function(D){return{role:D}}).getOr({});return re({type:g},C)}else{var E=s("role").getOr("button");return{role:E}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:il.augment(t.buttonBehaviours,[Zn.config({}),Fn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},ms=Ls({name:"Button",factory:i6,configFields:[Ve("uid",void 0),At("dom"),Ve("components",[]),il.field("buttonBehaviours",[Zn,Fn]),Xr("action"),Xr("role"),Ve("eventOrder",{})]}),oa=function(t){var r=qw(t)&&lo(t,"uid")?t.uid:Kv("memento"),o=function(g){return g.getSystem().getByUid(r).getOrDie()},s=function(g){return g.getSystem().getByUid(r).toOptional()},d=function(){return re(re({},t),{uid:r})};return{get:o,getOpt:s,asSpec:d}},mf=tinymce.util.Tools.resolve("tinymce.util.I18n"),IE={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},H5="temporary-placeholder",py=function(t){return function(){return En(t,H5).getOr("!not found!")}},NE=function(t,r){var o=t.toLowerCase();if(mf.isRtl()){var s=Rf(o,"-rtl");return Pr(r,s)?s:o}else return o},V5=function(t,r){return En(r,NE(t,r))},U5=function(t,r){var o=r();return V5(t,o).getOrThunk(py(o))},u6=function(t,r,o){var s=r();return V5(t,s).or(o).getOrThunk(py(s))},s6=function(t){return mf.isRtl()?Pr(IE,t):!1},zE=function(){return ur("add-focusable",[ir(function(t){P2(t.element,"svg").each(function(r){return lr(r,"focusable","false")})})])},FE=function(t,r,o,s){var d,g,C=s6(r)?["tox-icon--flip"]:[],E=En(o,NE(r,o)).or(s).getOrThunk(py(o));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(C),innerHtml:E},behaviours:Zt(ke(ke([],(g=t.behaviours)!==null&&g!==void 0?g:[],!0),[zE()],!1))}},gv=function(t,r,o,s){return s===void 0&&(s=B.none()),FE(r,t,o(),s)},l6=function(t,r,o){var s=o(),d=pt(t,function(g){return Pr(s,NE(g,s))});return FE(r,d.getOr(H5),s,B.none())},bk={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},c6=function(t){var r=oa({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Zt([nr.config({})])}),o=function(oe){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+oe+"%"}}}},s=function(oe){return{dom:{tag:"div",classes:["tox-text"],innerHtml:oe+"%"}}},d=oa({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:Zt([nr.config({})])}),g=function(oe,fe){oe.getSystem().isConnected()&&d.getOpt(oe).each(function(_e){nr.set(_e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(fe)]},s(fe)])})},C=function(oe,fe){if(oe.getSystem().isConnected()){var _e=r.get(oe);nr.set(_e,[Ri(fe)])}},E={updateProgress:g,updateText:C},D=it([t.icon.toArray(),t.level.toArray(),t.level.bind(function(oe){return B.from(bk[oe])}).toArray()]),$=oa(ms.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[gv("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(oe){t.onAction(oe)}})),U=l6(D,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),G={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:Zt([nr.config({})])},ee=[U,G];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(oe){return["tox-notification","tox-notification--in","tox-notification--"+oe]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Zt([Zn.config({}),ur("notification-events",[$t(tl(),function(oe){$.getOpt(oe).each(Zn.focus)})])]),components:ee.concat(t.progress?[d.asSpec()]:[]).concat(t.closeButton?[$.asSpec()]:[]),apis:E}},LE=Ls({name:"Notification",factory:c6,configFields:[Xr("level"),At("progress"),At("icon"),At("onAction"),At("text"),At("iconProvider"),At("translationProvider"),Ca("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function HE(t,r,o){var s=r.backstage.shared,d=function($){switch($){case"bc-bc":return Mg;case"tc-tc":return Cc;case"tc-bc":return Fu;case"bc-tc":default:return No}},g=function($){$.length>0&&gt($,function(U,G){G===0?U.moveRel(null,"banner"):U.moveRel($[G-1].getEl(),"bc-tc")})},C=function($,U){var G=!$.closeButton&&$.timeout&&($.timeout>0||$.timeout<0),ee=function(){U(),ca.hide(fe)},oe=Ha(LE.sketch({text:$.text,level:lt(["success","error","warning","warn","info"],$.type)?$.type:void 0,progress:$.progressBar===!0,icon:B.from($.icon),closeButton:!G,onAction:ee,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),fe=Ha(ca.sketch(re({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(fe),$.timeout>0&&Ng.setTimeout(function(){ee()},$.timeout);var _e=function(){var ze=Ao(sn.fromDom(t.getContentAreaContainer())),we=Ai(),Le=fs(we.x,ze.x,ze.right),ft=fs(we.y,ze.y,ze.bottom),ct=Math.max(ze.right,we.right),Fe=Math.max(ze.bottom,we.bottom);return B.some(Vo(Le,ft,ct-Le,Fe-ft))};return{close:ee,moveTo:function(ze,we){ca.showAt(fe,zs(oe),{anchor:{type:"makeshift",x:ze,y:we}})},moveRel:function(ze,we){var Le=zs(oe),ft={maxHeightFunction:qh()};if(we!=="banner"&&H(ze)){var ct=d(we),Fe={type:"node",root:Hi(),node:B.some(sn.fromDom(ze)),overrides:ft,layouts:{onRtl:function(){return[ct]},onLtr:function(){return[ct]}}};ca.showWithinBounds(fe,Le,{anchor:Fe},_e)}else{var rt=re(re({},s.anchors.banner()),{overrides:ft});ca.showWithinBounds(fe,Le,{anchor:rt},_e)}},text:function(ze){LE.updateText(oe,ze)},settings:$,getEl:function(){return oe.element.dom},progressBar:{value:function(ze){LE.updateProgress(oe,ze)}}}},E=function($){$.close()},D=function($){return $.settings};return{open:C,close:E,reposition:g,getArgs:D}}var f6=function(t,r){var o=null,s=function(){T(o)||(clearTimeout(o),o=null)},d=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];T(o)&&(o=setTimeout(function(){o=null,t.apply(null,g)},r))};return{cancel:s,throttle:d}},VE=function(t,r){var o=null,s=function(){T(o)||(clearTimeout(o),o=null)},d=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];s(),o=setTimeout(function(){o=null,t.apply(null,g)},r)};return{cancel:s,throttle:d}},v6=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),d6=function(t,r){return t.isBlock(r)||lt(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},W5=function(t,r,o,s,d){var g=v6(t,function(C){return d6(t,C)});return B.from(g.backwards(r,o,s,d))},m6="[data-mce-autocompleter]",h6=function(t,r){return yk(sn.fromDom(t.selection.getNode())).getOrThunk(function(){var o=sn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Ui(o,sn.fromDom(r.extractContents())),r.insertNode(o.dom),_o(o).each(function(s){return s.dom.normalize()}),hw(o).map(function(s){t.selection.setCursorLocation(s.dom,V_(s))}),o})},yk=function(t){return al(t,m6)},g6=function(t){return t.collapsed&&t.startContainer.nodeType===3},j5=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},G5=function(t){return t!==""&&` \f
\r	\v`.indexOf(t)!==-1},UE=function(t,r){return t.substring(r.length)},WE=function(t,r,o){var s;for(s=r-1;s>=0;s--){var d=t.charAt(s);if(G5(d))return B.none();if(d===o)break}return B.some(s)},p6=function(t,r,o,s){if(s===void 0&&(s=0),!g6(r))return B.none();var d=function(C,E,D){return WE(D,E,o).getOr(E)},g=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return W5(t,r.startContainer,r.startOffset,d,g).bind(function(C){var E=r.cloneRange();if(E.setStart(C.container,C.offset),E.setEnd(r.endContainer,r.endOffset),E.collapsed)return B.none();var D=j5(E),$=D.lastIndexOf(o);return $!==0||UE(D,o).length<s?B.none():B.some({text:UE(D,o),range:E,triggerChar:o})})},jE=function(t,r,o,s){return s===void 0&&(s=0),yk(sn.fromDom(r.startContainer)).fold(function(){return p6(t,r,o,s)},function(d){var g=t.createRng();g.selectNode(d.dom);var C=j5(g);return B.some({range:g,text:UE(C,o),triggerChar:o})})},b6=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(s,d){Nn(s,Cb(),{raw:d})};r.on("keydown",function(s){var d=function(){return t.getView().bind(na.getHighlighted)};s.which===8&&t.onKeypress.throttle(s),t.isActive()&&(s.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?s.which===13?(d().each(Bs),s.preventDefault()):s.which===40?(d().fold(function(){t.getView().each(na.highlightFirst)},function(g){o(g,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&d().each(function(g){o(g,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(s){t.isActive()&&!t.isProcessingAction()&&yk(sn.fromDom(s.element)).isNone()&&t.cancelIfNecessary()})},q5={setup:b6},OC=tinymce.util.Tools.resolve("tinymce.util.Promise"),GE=function(t,r){return{container:t,offset:r}},y6=function(t){return t.nodeType===Yl},w6=function(t){return t.nodeType===Dv},K5=function(t){if(y6(t))return GE(t,t.data.length);var r=t.childNodes;return r.length>0?K5(r[r.length-1]):GE(t,r.length)},wk=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?wk(o[r],0):o.length>0&&w6(t)&&o.length===r?K5(o[o.length-1]):GE(t,r)},C6=function(t,r){return W5(t,r.container,r.offset,function(o,s){return s===0?-1:s},t.getRoot()).filter(function(o){var s=o.container.data.charAt(o.offset-1);return!G5(s)}).isSome()},S6=function(t){return function(r){var o=wk(r.startContainer,r.startOffset);return!C6(t,o)}},_6=function(t,r,o){return Qr(o.triggerChars,function(s){return jE(t,r,s)})},x6=function(t,r){var o=r(),s=t.selection.getRng();return _6(t.dom,s,o).bind(function(d){return X5(t,r,d)})},X5=function(t,r,o,s){s===void 0&&(s={});var d=r(),g=t.selection.getRng(),C=g.startContainer.nodeValue,E=Ee(d.lookupByChar(o.triggerChar),function($){return o.text.length>=$.minChars&&$.matches.getOrThunk(function(){return S6(t.dom)})(o.range,C,o.text)});if(E.length===0)return B.none();var D=OC.all(Ue(E,function($){var U=$.fetch(o.text,$.maxResults,s);return U.then(function(G){return{matchText:o.text,items:G,columns:$.columns,onAction:$.onAction,highlightOn:$.highlightOn}})}));return B.some({lookupData:D,context:o})},Y5=$n([Jn("type"),Ea("text")]),k6=function(t){return Ya("separatormenuitem",Y5,t)},A6=$n([Ve("type","autocompleteitem"),Ve("active",!1),Ve("disabled",!1),Ve("meta",{}),Jn("value"),Ea("text"),Ea("icon")]),E6=$n([Jn("type"),Jn("ch"),uc("minChars",1),Ve("columns",1),uc("maxResults",10),Fv("matches"),tu("fetch"),tu("onAction"),Jf("highlightOn",[],yo)]),T6=function(t){return Ya("Autocompleter.Separator",Y5,t)},O6=function(t){return Ya("Autocompleter.Item",A6,t)},qE=function(t){return Ya("Autocompleter",E6,t)},DC=[Ca("disabled",!1),Ea("tooltip"),Ea("icon"),Ea("text"),Ta("onSetup",function(){return q})],D6=$n([Jn("type"),tu("onAction")].concat(DC)),J5=function(t){return Ya("toolbarbutton",D6,t)},RC=[Ca("active",!1)].concat(DC),R6=$n(RC.concat([Jn("type"),tu("onAction")])),Ck=function(t){return Ya("ToggleButton",R6,t)},Z5=[Ta("predicate",pe),Os("scope","node",["node","editor"]),Os("position","selection",["node","selection","line"])],$6=DC.concat([Ve("type","contextformbutton"),Ve("primary",!1),tu("onAction"),hu("original",Se)]),B6=RC.concat([Ve("type","contextformbutton"),Ve("primary",!1),tu("onAction"),hu("original",Se)]),M6=DC.concat([Ve("type","contextformbutton")]),P6=RC.concat([Ve("type","contextformtogglebutton")]),Q5=el("type",{contextformbutton:$6,contextformtogglebutton:B6}),I6=$n([Ve("type","contextform"),Ta("initValue",ne("")),Ea("label"),Gi("commands",Q5),ic("launch",el("type",{contextformbutton:M6,contextformtogglebutton:P6}))].concat(Z5)),KE=function(t){return Ya("ContextForm",I6,t)},XE=$n([Ve("type","contexttoolbar"),Jn("items")].concat(Z5)),eD=function(t){return Ya("ContextToolbar",XE,t)},YE=function(t){var r={};return gt(t,function(o){r[o]={}}),Hr(r)},JE=function(t){var r=t.ui.registry.getAll().popups,o=fr(r,function(C){return qE(C).fold(function(E){throw new Error(zv(E))},Se)}),s=YE(Si(o,function(C){return C.ch})),d=_i(o),g=function(C){return Ee(d,function(E){return E.ch===C})};return{dataset:o,triggerChars:s,lookupByChar:g}},Sk;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Sk||(Sk={}));var uu=Sk,$C="tox-menu-nav__js",ZE="tox-collection__item",QE="tox-swatch",N6={normal:$C,color:QE},tD="tox-collection__item--enabled",by="tox-collection__group-heading",eT="tox-collection__item-icon",tT="tox-collection__item-label",z6="tox-collection__item-accessory",nT="tox-collection__item-caret",nD="tox-collection__item-checkmark",_1="tox-collection__item--active",rD="tox-collection__item-container",rT="tox-collection__item-container--column",_k="tox-collection__item-container--row",F6="tox-collection__item-container--align-right",aD="tox-collection__item-container--align-left",oD="tox-collection__item-container--valign-top",L6="tox-collection__item-container--valign-middle",H6="tox-collection__item-container--valign-bottom",iD=function(t){return En(N6,t).getOr($C)},V6=function(t){return t==="color"?"tox-swatches":"tox-menu"},aT=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:V6(t),tieredMenu:"tox-tiered-menu"}},yy=function(t){var r=aT(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:iD(t)}},U6=function(t,r,o){var s=aT(o);return{tag:"div",classes:it([[s.menu,"tox-menu-"+r+"-column"],t?[s.hasIcons]:[]])}},W6=[On.parts.items({})],x1=function(t,r,o){var s=aT(o),d={tag:"div",classes:it([[s.tieredMenu]])};return{dom:d,markers:yy(o)}},xk=function(t,r){return function(o){var s=fn(o,r);return Ue(s,function(d){return{dom:t,components:d}})}},uD=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[On.parts.items({preprocess:t!=="auto"?xk({tag:"div",classes:["tox-swatches__row"]},t):Se})]}]}},j6=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[On.parts.items({preprocess:xk({tag:"div",classes:["tox-collection__group"]},t)})]}},sD=function(t,r){var o=[],s=[];return gt(t,function(d,g){r(d,g)?(s.length>0&&o.push(s),s=[],Pr(d.dom,"innerHtml")&&s.push(d)):s.push(d)}),s.length>0&&o.push(s),Ue(o,function(d){return{dom:{tag:"div",classes:["tox-collection__group"]},components:d}})},BC=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[On.parts.items({preprocess:function(s){return t!=="auto"&&t>1?xk({tag:"div",classes:["tox-collection__group"]},t)(s):sD(s,function(d,g){return r[g].type==="separator"})}})]}},oT=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[On.parts.items({preprocess:function(o){return sD(o,function(s,d){return t[d].type==="separator"})}})]}},MC=function(t){return Sn(t,function(r){return"icon"in r&&r.icon!==void 0})},_d=function(t){return console.error(zv(t)),console.log(t),B.none()},lD=function(t,r,o,s,d){var g=oT(o);return{value:t,dom:g.dom,components:g.components,items:o}},iT=function(t,r,o,s,d){if(d==="color"){var g=uD(s);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"&&s==="auto"){var g=BC(s,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"&&s===1){var g=BC(1,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"){var g=BC(s,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="listpreview"&&s!=="auto"){var g=j6(s);return{value:t,dom:g.dom,components:g.components,items:o}}return{value:t,dom:U6(r,s,d),components:W6,items:o}},uT=[Jn("type"),Jn("src"),Ea("alt"),Jf("classes",[],yo)],G6=$n(uT),cD=[Jn("type"),Jn("text"),Ea("name"),Jf("classes",["tox-collection__item-label"],yo)],fD=$n(cD),wy=GS(function(){return yb("type",{cardimage:G6,cardtext:fD,cardcontainer:q6})}),q6=$n([Jn("type"),_h("direction","horizontal"),_h("align","left"),_h("valign","middle"),Gi("items",wy)]),zg=[Ca("disabled",!1),Ea("text"),Ea("shortcut"),Uo("value","value",Or(function(){return wn("menuitem-value")}),kl()),Ve("meta",{})],Cy=$n([Jn("type"),Ea("label"),Gi("items",wy),Ta("onSetup",function(){return q}),Ta("onAction",q)].concat(zg)),K6=function(t){return Ya("cardmenuitem",Cy,t)},vD=$n([Jn("type"),Ca("active",!1),Ea("icon")].concat(zg)),dD=function(t){return Ya("choicemenuitem",vD,t)},sT=[Jn("type"),Jn("fancytype"),Ta("onAction",q)],lT=[Ve("initData",{})].concat(sT),mD=[l2("initData",{},[Ca("allowCustomColors",!0),us("colors",kl())])].concat(sT),X6=el("fancytype",{inserttable:lT,colorswatch:mD}),Y6=function(t){return Ya("fancymenuitem",X6,t)},kk=$n([Jn("type"),Ta("onSetup",function(){return q}),Ta("onAction",q),Ea("icon")].concat(zg)),J6=function(t){return Ya("menuitem",kk,t)},hD=$n([Jn("type"),tu("getSubmenuItems"),Ta("onSetup",function(){return q}),Ea("icon")].concat(zg)),Sy=function(t){return Ya("nestedmenuitem",hD,t)},Z6=$n([Jn("type"),Ea("icon"),Ca("active",!1),Ta("onSetup",function(){return q}),tu("onAction")].concat(zg)),Q6=function(t){return Ya("togglemenuitem",Z6,t)},cT=function(t,r,o){var s=au(t.element,"."+o);if(s.length>0){var d=Jt(s,function(g){var C=g.dom.getBoundingClientRect().top,E=s[0].dom.getBoundingClientRect().top;return Math.abs(C-E)>r}).getOr(s.length);return B.some({numColumns:d,numRows:Math.ceil(s.length/d)})}else return B.none()},fT=function(t,r){return Zt([ur(t,r)])},gD=function(t){return fT(wn("unnamed-events"),t)},Ak={namedEvents:fT,unnamedEvents:gD},pD=wn("tooltip.exclusive"),PC=wn("tooltip.show"),IC=wn("tooltip.hide"),bD=function(t,r,o){t.getSystem().broadcastOn([pD],{})},Ek=function(t,r,o,s){o.getTooltip().each(function(d){d.getSystem().isConnected()&&nr.set(d,s)})},eP=Object.freeze({__proto__:null,hideAllExclusive:bD,setComponents:Ek}),tP=function(t,r){var o=function(d){r.getTooltip().each(function(g){pc(g),t.onHide(d,g),r.clearTooltip()}),r.clearTimer()},s=function(d){if(!r.isShowing()){bD(d);var g=t.lazySink(d).getOrDie(),C=d.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Sa(t.mode==="normal"?[$t(Qf(),function(E){Wr(d,PC)}),$t(m2(),function(E){Wr(d,IC)})]:[]),behaviours:Zt([nr.config({})])});r.setTooltip(C),dm(g,C),t.onShow(d,C),ho.position(g,C,{anchor:t.anchor(d)})}};return Sa(it([[$t(PC,function(d){r.resetTimer(function(){s(d)},t.delay)}),$t(IC,function(d){r.resetTimer(function(){o(d)},t.delay)}),$t(nl(),function(d,g){var C=g;C.universal||lt(C.channels,pD)&&o(d)}),Ms(function(d){o(d)})],t.mode==="normal"?[$t(tl(),function(d){Wr(d,PC)}),$t(b2(),function(d){Wr(d,IC)}),$t(Qf(),function(d){Wr(d,PC)}),$t(m2(),function(d){Wr(d,IC)})]:[$t(S2(),function(d,g){Wr(d,PC)}),$t(Ab(),function(d){Wr(d,IC)})]]))},vT=Object.freeze({__proto__:null,events:tP}),yD=[At("lazySink"),At("tooltipDom"),Ve("exclusive",!0),Ve("tooltipComponents",[]),Ve("delay",300),Os("mode","normal",["normal","follow-highlight"]),Ve("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:ne([No,Fu,Xi,Cu,ei,Su]),onRtl:ne([No,Fu,Xi,Cu,ei,Su])}}}),Yr("onHide"),Yr("onShow")],nP=function(){var t=mo(),r=mo(),o=function(){t.on(clearTimeout)},s=function(g,C){o(),t.set(setTimeout(g,C))},d=ne("not-implemented");return Ki({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:o,resetTimer:s,readState:d})},wD=Object.freeze({__proto__:null,init:nP}),dT=Ko({fields:yD,name:"tooltipping",active:vT,state:wD,apis:eP}),CD=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},_y=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),rP=tinymce.util.Tools.resolve("tinymce.EditorManager"),aP=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var s=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=rP.baseURL+"/skins/ui/"+s}return o},oP=function(t){return t.getParam("readonly",!1,"boolean")},iP=function(t){return t.getParam("skin")===!1},Tk=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},Ok=function(t){return t.getParam("width",_y.DOM.getStyle(t.getElement(),"width"))},mT=function(t){return B.from(t.getParam("min_width")).filter(L)},SD=function(t){return B.from(t.getParam("min_height")).filter(L)},Dk=function(t){return B.from(t.getParam("max_width")).filter(L)},_D=function(t){return B.from(t.getParam("max_height")).filter(L)},uP=function(t){return B.from(t.getParam("style_formats")).filter(O)},sP=function(t){return t.getParam("style_formats_merge",!1,"boolean")},xD=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},kD=function(t){return t.getParam("content_langs",void 0,"array")},AD=function(t){return t.getParam("removed_menuitems","")},hT=function(t){return t.getParam("menubar",!0,"boolean")!==!1},gT=function(t){var r=t.getParam("toolbar",!0),o=r===!0,s=S(r),d=O(r)&&r.length>0;return!Rk(t)&&(d||s||o)},ED=function(t){var r=te(9,function(s){return t.getParam("toolbar"+(s+1),!1,"string")}),o=Ee(r,function(s){return typeof s=="string"});return o.length>0?B.some(o):B.none()},Rk=function(t){return ED(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},ye)},Fl;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Fl||(Fl={}));var NC=function(t){return t.getParam("toolbar_mode","","string")},k1;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(k1||(k1={}));var lP=function(t){return t.getParam("toolbar_groups",{},"object")},TD=function(t){return t.getParam("toolbar_location",k1.auto,"string")},OD=function(t){return TD(t)===k1.bottom},cP=function(t){return t.getParam("fixed_toolbar_container","","string")},DD=function(t){return t.getParam("fixed_toolbar_container_target")},fP=function(t){return t.getParam("toolbar_persist",!1,"boolean")},RD=function(t){if(!t.inline)return B.none();var r=cP(t);if(r.length>0)return jo(Hi(),r);var o=DD(t);return H(o)?B.some(sn.fromDom(o)):B.none()},$k=function(t){return t.inline&&RD(t).isSome()},$D=function(t){var r=RD(t);return r.getOrThunk(function(){return Zl(xs(sn.fromDom(t.getElement())))})},BD=function(t){return t.inline&&!hT(t)&&!gT(t)&&!Rk(t)},Bk=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!$k(t)&&!BD(t)},Mk=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},MD=function(t){return t.getParam("draggable_modal",!1,"boolean")},vP=function(t){var r=t.getParam("menu");return r?fr(r,function(o){return re(re({},o),{items:o.items})}):{}},dP=function(t){return t.getParam("menubar")},mP=function(t){return t.getParam("toolbar",!0)},hP=function(t){return t.getParam("file_picker_callback")},gP=function(t){return t.getParam("file_picker_types")},pT=function(t){return t.getParam("file_browser_callback_types")},PD=function(t){return t.getParam("typeahead_urls")===!1},ID=function(t){return t.getParam("anchor_top","#top")},pP=function(t){return t.getParam("anchor_bottom","#bottom")},ND=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},bT="silver.readonly",bP=$n([DA("readonly")]),xy=function(t,r){var o=t.outerContainer,s=o.element;r&&(t.mothership.broadcastOn([hm()],{target:s}),t.uiMothership.broadcastOn([hm()],{target:s})),t.mothership.broadcastOn([bT],{readonly:r}),t.uiMothership.broadcastOn([bT],{readonly:r})},zD=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&xy(r,!0)}),t.on("SwitchMode",function(){return xy(r,t.mode.isReadOnly())}),oP(t)&&t.setMode("readonly")},ti=function(){var t;return nu.config({channels:(t={},t[bT]={schema:bP,onReceive:function(r,o){Pn.set(r,o.readonly)}},t)})},yP=function(t){return Pn.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},wP=function(t){return Pn.config({disabled:t})},CP=function(t){return Pn.config({disabled:t,disableClass:"tox-tbtn--disabled"})},SP=function(t){return Pn.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},hf={item:yP,button:wP,splitButton:CP,toolbarButton:SP},ky=function(t,r){var o=t.getApi(r);return function(s){s(o)}},A1=function(t,r){return ir(function(o){var s=ky(t,o);s(function(d){var g=t.onSetup(d);I(g)&&r.set(g)})})},E1=function(t,r){return Ms(function(o){return ky(t,o)(r.get())})},Pk,_P=function(t,r){return cs(function(o,s){ky(t,o)(t.onAction),!t.triggersSubmenu&&r===uu.CLOSE_ON_EXECUTE&&(Wr(o,Op()),s.stop())})},xP=(Pk={},Pk[Rs()]=["disabling","alloy.base.behaviour","toggling","item-events"],Pk),Tm=Ir,Fg=function(t,r,o,s){var d=In(q);return{type:"item",dom:r.dom,components:Tm(r.optComponents),data:t.data,eventOrder:xP,hasSubmenu:t.triggersSubmenu,itemBehaviours:Zt([ur("item-events",[_P(t,o),A1(t,d),E1(t,d)]),hf.item(function(){return t.disabled||s.isDisabled()}),ti(),nr.config({})].concat(t.itemBehaviours))}},Om=function(t){return{value:t.value,meta:re({text:t.text.getOr("")},t.meta)}},Ik=tinymce.util.Tools.resolve("tinymce.Env"),kP=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},s=Ik.mac?r:o,d=t.split("+"),g=Ue(d,function(C){var E=C.toLowerCase().trim();return Pr(s,E)?s[E]:C});return Ik.mac?g.join(""):g.join("+")},yT=function(t,r,o){return o===void 0&&(o=[eT]),gv(t,{tag:"div",classes:o},r)},FD=function(t){return{dom:{tag:"div",classes:[tT]},components:[Ri(mf.translate(t))]}},LD=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},AP=function(t,r){return{dom:{tag:"div",classes:[tT]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Ri(mf.translate(r))]}]}},EP=function(t){return{dom:{tag:"div",classes:[z6],innerHtml:kP(t)}}},HD=function(t){return yT("checkmark",t,[nD])},TP=function(t){return yT("chevron-right",t,[nT])},OP=function(t){return yT("chevron-down",t,[nT])},DP=function(t,r){var o=t.direction==="vertical"?rT:_k,s=t.align==="left"?aD:F6,d=function(){switch(t.valign){case"top":return oD;case"middle":return L6;case"bottom":return H6}};return{dom:{tag:"div",classes:[rD,o,s,d()]},components:r}},RP=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},$P=function(t,r,o){var s="custom",d="remove",g=t.ariaLabel,C=t.value,E=t.iconContent.map(function($){return u6($,r.icons,o)}),D=function(){var $=QE,U=E.getOr(""),G=g.map(function(oe){return{title:r.translate(oe)}}).getOr({}),ee={tag:"div",attributes:G,classes:[$]};return C===s?re(re({},ee),{tag:"button",classes:ke(ke([],ee.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:U}):C===d?re(re({},ee),{classes:ke(ke([],ee.classes,!0),["tox-swatch--remove"],!1),innerHtml:U}):re(re({},ee),{attributes:re(re({},ee.attributes),{"data-mce-color":C}),styles:{"background-color":C}})};return{dom:D(),optComponents:[]}},VD=function(t){var r=t.map(function(o){return{attributes:{title:mf.translate(o)}}}).getOr({});return re({tag:"div",classes:[$C,ZE]},r)},UD=function(t,r,o,s){var d={tag:"div",classes:[eT]},g=function(ee){return gv(ee,d,r.icons,s)},C=function(){return B.some({dom:d})},E=o?t.iconContent.map(g).orThunk(C):B.none(),D=t.checkMark,$=B.from(t.meta).fold(function(){return FD},function(ee){return Pr(ee,"style")?xe(AP,ee.style):FD}),U=t.htmlContent.fold(function(){return t.textContent.map($)},function(ee){return B.some(LD(ee,[tT]))}),G={dom:VD(t.ariaLabel),optComponents:[E,U,t.shortcutContent.map(EP),D,t.caret]};return G},zC=function(t,r,o,s){return s===void 0&&(s=B.none()),t.presets==="color"?$P(t,r,s):UD(t,r,o,s)},WD=function(t,r){return En(t,"tooltipWorker").map(function(o){return[dT.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:qh}}},mode:"follow-highlight",onShow:function(s,d){o(function(g){dT.setComponents(s,[Hb({element:sn.fromDom(g)})])})}})]}).getOr([])},Dm=function(t){return _y.DOM.encode(t)},jD=function(t,r){var o=mf.translate(t),s=Dm(o);if(r.length>0){var d=new RegExp(CD(r),"gi");return s.replace(d,function(g){return'<span class="tox-autocompleter-highlight">'+g+"</span>"})}else return s},BP=function(t,r,o,s,d,g,C,E){E===void 0&&(E=!0);var D=zC({presets:s,textContent:B.none(),htmlContent:o?t.text.map(function($){return jD($,r)}):B.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:B.none(),checkMark:B.none(),caret:B.none(),value:t.value},C.providers,E,t.icon);return Fg({data:Om(t),disabled:t.disabled,getApi:ne({}),onAction:function($){return d(t.value,t.meta)},onSetup:ne(q),triggersSubmenu:!1,itemBehaviours:WD(t.meta,C)},D,g,C.providers)},Nk=function(t,r){return Ue(t,function(o){switch(o.type){case"cardcontainer":return DP(o,Nk(o.items,r));case"cardimage":return RP(o.src,o.classes,o.alt);case"cardtext":var s=o.name.exists(function(g){return lt(r.cardText.highlightOn,g)}),d=s?B.from(r.cardText.matchText).getOr(""):"";return LD(jD(o.text,d),o.classes)}})},Ni=function(t,r,o,s){var d=function(C){return{isDisabled:function(){return Pn.isDisabled(C)},setDisabled:function(E){Pn.set(C,E),gt(au(C.element,"*"),function(D){C.getSystem().getByDom(D).each(function($){$.hasConfigured(Pn)&&Pn.set($,E)})})}}},g={dom:VD(t.label),optComponents:[B.some({dom:{tag:"div",classes:[rD,_k]},components:Nk(t.items,s)})]};return Fg({data:Om(re({text:B.none()},t)),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:B.from(s.itemBehaviours).getOr([])},g,r,o.providers)},MP=function(t,r,o,s,d,g,C,E){E===void 0&&(E=!0);var D=function(U){return{setActive:function(G){Nr.set(U,G)},isActive:function(){return Nr.isOn(U)},isDisabled:function(){return Pn.isDisabled(U)},setDisabled:function(G){return Pn.set(U,G)}}},$=zC({presets:o,textContent:r?t.text:B.none(),htmlContent:B.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:B.none(),checkMark:r?B.some(HD(C.icons)):B.none(),caret:B.none(),value:t.value},C,E);return bt(Fg({data:Om(t),disabled:t.disabled,getApi:D,onAction:function(U){return s(t.value)},onSetup:function(U){return U.setActive(d),q},triggersSubmenu:!1,itemBehaviours:[]},$,g,C),{toggling:{toggleClass:tD,toggleOnExecute:!1,selected:t.active}})},GD=wm(R(),z()),qD=function(t){return{value:t}},KD=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,XD=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,YD=function(t){return KD.test(t)||XD.test(t)},PP=function(t){return pl(t,"#").toUpperCase()},IP=function(t){return YD(t)?B.some({value:PP(t)}):B.none()},NP=function(t){var r=t.value.replace(KD,function(o,s,d,g){return s+s+d+d+g+g});return{value:r}},zP=function(t){var r=NP(t),o=XD.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},wT=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},FC=function(t){var r=wT(t.red)+wT(t.green)+wT(t.blue);return qD(r)},JD=Math.min,ZD=Math.max,zk=Math.round,FP=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,LP=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Lg=function(t,r,o,s){return{red:t,green:r,blue:o,alpha:s}},CT=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},QD=function(t){var r,o,s,d=(t.hue||0)%360,g=t.saturation/100,C=t.value/100;if(g=ZD(0,JD(g,1)),C=ZD(0,JD(C,1)),g===0)return r=o=s=zk(255*C),Lg(r,o,s,1);var E=d/60,D=C*g,$=D*(1-Math.abs(E%2-1)),U=C-D;switch(Math.floor(E)){case 0:r=D,o=$,s=0;break;case 1:r=$,o=D,s=0;break;case 2:r=0,o=D,s=$;break;case 3:r=0,o=$,s=D;break;case 4:r=$,o=0,s=D;break;case 5:r=D,o=0,s=$;break;default:r=o=s=0}return r=zk(255*(r+U)),o=zk(255*(o+U)),s=zk(255*(s+U)),Lg(r,o,s,1)},LC=function(t){var r=zP(t),o=parseInt(r[1],16),s=parseInt(r[2],16),d=parseInt(r[3],16);return Lg(o,s,d,1)},eR=function(t,r,o,s){var d=parseInt(t,10),g=parseInt(r,10),C=parseInt(o,10),E=parseFloat(s);return Lg(d,g,C,E)},tR=function(t){if(t==="transparent")return B.some(Lg(0,0,0,0));var r=FP.exec(t);if(r!==null)return B.some(eR(r[1],r[2],r[3],"1"));var o=LP.exec(t);return o!==null?B.some(eR(o[1],o[2],o[3],o[4])):B.none()},nR=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},rR=Lg(255,0,0,1),HP=function(t){return t.fire("SkinLoaded")},aR=function(t,r){return t.fire("SkinLoadError",r)},VP=function(t){return t.fire("ResizeEditor")},ST=function(t,r){return t.fire("ResizeContent",r)},UP=function(t,r){return t.fire("ScrollContent",r)},oR=function(t,r){return t.fire("TextColorChange",r)},HC=function(t,r,o){return{hue:t,saturation:r,value:o}},_T=function(t){var r=0,o=0,s=0,d=t.red/255,g=t.green/255,C=t.blue/255,E=Math.min(d,Math.min(g,C)),D=Math.max(d,Math.max(g,C));if(E===D)return s=E,HC(0,0,s*100);var $=d===E?g-C:C===E?d-g:C-d;return r=d===E?3:C===E?1:5,r=60*(r-$/(D-E)),o=(D-E)/D,s=D,HC(Math.round(r),Math.round(o*100),Math.round(s*100))},WP=function(t){return _T(LC(t))},iR=function(t){return FC(QD(t))},uR=function(t){return IP(t).orThunk(function(){return tR(t).map(FC)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data,d=s[0],g=s[1],C=s[2],E=s[3];return FC(Lg(d,g,C,E))})},Fk=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),xT="tinymce-custom-colors";function sR(t){t===void 0&&(t=10);var r=Fk.getItem(xT),o=S(r)?JSON.parse(r):[],s=function(D){var $=t-D.length;return $<0?D.slice(0,t):D},d=s(o),g=function(D){cn(d,D).each(C),d.unshift(D),d.length>t&&d.pop(),Fk.setItem(xT,JSON.stringify(d))},C=function(D){d.splice(D,1)},E=function(){return d.slice(0)};return{add:g,state:E}}var hi="choiceitem",lR=[{type:hi,text:"Light Green",value:"#BFEDD2"},{type:hi,text:"Light Yellow",value:"#FBEEB8"},{type:hi,text:"Light Red",value:"#F8CAC6"},{type:hi,text:"Light Purple",value:"#ECCAFA"},{type:hi,text:"Light Blue",value:"#C2E0F4"},{type:hi,text:"Green",value:"#2DC26B"},{type:hi,text:"Yellow",value:"#F1C40F"},{type:hi,text:"Red",value:"#E03E2D"},{type:hi,text:"Purple",value:"#B96AD9"},{type:hi,text:"Blue",value:"#3598DB"},{type:hi,text:"Dark Turquoise",value:"#169179"},{type:hi,text:"Orange",value:"#E67E23"},{type:hi,text:"Dark Red",value:"#BA372A"},{type:hi,text:"Dark Purple",value:"#843FA1"},{type:hi,text:"Dark Blue",value:"#236FA1"},{type:hi,text:"Light Gray",value:"#ECF0F1"},{type:hi,text:"Medium Gray",value:"#CED4D9"},{type:hi,text:"Gray",value:"#95A5A6"},{type:hi,text:"Dark Gray",value:"#7E8C8D"},{type:hi,text:"Navy Blue",value:"#34495E"},{type:hi,text:"Black",value:"#000000"},{type:hi,text:"White",value:"#ffffff"}],cR=sR(10),jP=function(t){for(var r=[],o=0;o<t.length;o+=2)r.push({text:t[o+1],value:"#"+uR(t[o]).value,type:"choiceitem"});return r},GP=function(t,r){return t.getParam("color_cols",r,"number")},fR=function(t){return t.getParam("custom_colors")!==!1},qP=function(t){return t.getParam("color_map")},kT=function(t){var r=qP(t);return r!==void 0?jP(r):lR},AT=function(){return Ue(cR.state(),function(t){return{type:hi,text:t,value:t}})},ET=function(t){cR.add(t)},TT="#000000",vR=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(s){var d;(d=s.style[r==="forecolor"?"color":"background-color"])&&(o=o||d)}),B.from(o)},KP=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},XP=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},OT=function(t){t.addCommand("mceApplyTextcolor",function(r,o){KP(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){XP(t,r)})},YP=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},dR=function(t){var r=kT(t),o=YP(r.length);return GP(t,o)},mR=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,s]:[o]},VC=function(t,r,o,s){if(o==="custom"){var d=bR(t);d(function(g){g.each(function(C){ET(C),t.execCommand("mceApplyTextcolor",r,C),s(C)})},TT)}else o==="remove"?(s(""),t.execCommand("mceRemoveTextcolor",r)):(s(o),t.execCommand("mceApplyTextcolor",r,o))},hR=function(t,r){return t.concat(AT().concat(mR(r)))},DT=function(t,r){return function(o){o(hR(t,r))}},gR=function(t,r,o){var s=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(s,o)},Ay=function(t,r,o,s,d){t.ui.registry.addSplitButton(r,{tooltip:s,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(g){var C=vR(t,o);return C.bind(function(E){return tR(E).map(function(D){var $=FC(D).value;return ma(g.toLowerCase(),$)})}).getOr(!1)},columns:dR(t),fetch:DT(kT(t),fR(t)),onAction:function(g){VC(t,o,d.get(),q)},onItemAction:function(g,C){VC(t,o,C,function(E){d.set(E),oR(t,{name:r,color:E})})},onSetup:function(g){gR(g,r,d.get());var C=function(E){E.name===r&&gR(g,E.name,E.color)};return t.on("TextColorChange",C),function(){t.off("TextColorChange",C)}}})},pR=function(t,r,o,s){t.ui.registry.addNestedMenuItem(r,{text:s,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(d){VC(t,o,d.value,q)}}]}})},bR=function(t){return function(r,o){var s=!1,d=function(E){var D=E.getData(),$=D.colorpicker;s?(r(B.from($)),E.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",$]))},g=function(E,D){D.name==="hex-valid"&&(s=D.value)},C={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:C,onAction:g,onSubmit:d,onClose:q,onCancel:function(){r(B.none())}})}},JP=function(t){OT(t);var r=In(TT),o=In(TT);Ay(t,"forecolor","forecolor","Text color",r),Ay(t,"backcolor","hilitecolor","Background color",o),pR(t,"forecolor","forecolor","Text color"),pR(t,"backcolor","hilitecolor","Background color")},RT=function(t,r,o,s,d,g,C,E){var D=MC(r),$=d!=="color"?"normal":"color",U=ZP(r,o,s,$,g,C,E);return iT(t,D,U,s,d)},ZP=function(t,r,o,s,d,g,C){return Ir(Ue(t,function(E){return E.type==="choiceitem"?dD(E).fold(_d,function(D){return B.some(MP(D,o===1,s,r,g(E.value),d,C,MC(t)))}):B.none()}))},Lk=function(t,r){var o=yy(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var s=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},yR=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+QE:"."+ZE}}},wR=function(t,r){var o=CR(t,r),s=r.colorinput.getColorCols(),d="color",g=RT(wn("menu-value"),o,function(E){t.onAction({value:E})},s,d,uu.CLOSE_ON_EXECUTE,pe,r.shared.providers),C=re(re({},g),{markers:yy(d),movement:Lk(s,d)});return{type:"widget",data:{value:wn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[GD.widget(On.sketch(C))]}},CR=function(t,r){var o=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return hR(r.colorinput.getColors(),o)},function(s){return s.concat(mR(o))})},SR=wn("cell-over"),Hk=wn("cell-execute"),QP=function(t,r,o){var s,d=function(E){return Nn(E,SR,{row:t,col:r})},g=function(E){return Nn(E,Hk,{row:t,col:r})},C=function(E,D){D.stop(),g(E)};return Ha({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=o,s)},behaviours:Zt([ur("insert-table-picker-cell",[$t(Qf(),Zn.focus),$t(Rs(),g),$t(Eh(),C),$t(Vv(),C)]),Nr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Zn.config({onFocus:d})])})},eI=function(t,r,o){for(var s=[],d=0;d<r;d++){for(var g=[],C=0;C<o;C++)g.push(QP(d,C,t));s.push(g)}return s},tI=function(t,r,o,s,d){for(var g=0;g<s;g++)for(var C=0;C<d;C++)Nr.set(t[g][C],g<=r&&C<=o)},nI=function(t){return Wt(t,function(r){return Ue(r,zs)})},_R=function(t,r){return Ri(r+"x"+t)},rI=function(t){var r=10,o=10,s=wn("size-label"),d=eI(s,r,o),g=_R(0,0),C=oa({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[g],behaviours:Zt([nr.config({})])});return{type:"widget",data:{value:wn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[GD.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:nI(d).concat(C.asSpec()),behaviours:Zt([ur("insert-table-picker",[ir(function(E){nr.set(C.get(E),[g])}),Wv(SR,function(E,D,$){var U=$.event,G=U.row,ee=U.col;tI(d,G,ee,r,o),nr.set(C.get(E),[_R(G+1,ee+1)])}),Wv(Hk,function(E,D,$){var U=$.event,G=U.row,ee=U.col;t.onAction({numRows:G+1,numColumns:ee+1}),Wr(E,Op())})]),Fn.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},aI={inserttable:rI,colorswatch:wR},oI=function(t,r){return En(aI,t.fancytype).map(function(o){return o(t,r)})},iI=function(t,r,o,s,d){s===void 0&&(s=!0),d===void 0&&(d=!1);var g=d?OP(o.icons):TP(o.icons),C=function(D){return{isDisabled:function(){return Pn.isDisabled(D)},setDisabled:function($){return Pn.set(D,$)}}},E=zC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,caret:B.some(g),checkMark:B.none(),shortcutContent:t.shortcut},o,s);return Fg({data:Om(t),getApi:C,disabled:t.disabled,onAction:q,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},E,r,o)},uI=function(t,r,o,s){s===void 0&&(s=!0);var d=function(C){return{isDisabled:function(){return Pn.isDisabled(C)},setDisabled:function(E){return Pn.set(C,E)}}},g=zC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,caret:B.none(),checkMark:B.none(),shortcutContent:t.shortcut},o,s);return Fg({data:Om(t),getApi:d,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,o)},sI=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:re({tag:"div",classes:[ZE,by]},r),components:[]}},lI=function(t,r,o,s){s===void 0&&(s=!0);var d=function(C){return{setActive:function(E){Nr.set(C,E)},isActive:function(){return Nr.isOn(C)},isDisabled:function(){return Pn.isDisabled(C)},setDisabled:function(E){return Pn.set(C,E)}}},g=zC({iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,checkMark:B.some(HD(o.icons)),caret:B.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,s);return bt(Fg({data:Om(t),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,o),{toggling:{toggleClass:tD,toggleOnExecute:!1,selected:t.active}})},xR=BP,kR=sI,cI=uI,$T=iI,Vk=lI,fI=oI,Uk=Ni,UC;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(UC||(UC={}));var vI=function(t,r,o,s,d){var g=o.shared.providers,C=function(E){return d?re(re({},E),{shortcut:B.none(),icon:E.text.isSome()?B.none():E.icon}):E};switch(t.type){case"menuitem":return J6(t).fold(_d,function(E){return B.some(cI(C(E),r,g,s))});case"nestedmenuitem":return Sy(t).fold(_d,function(E){return B.some($T(C(E),r,g,s,d))});case"togglemenuitem":return Q6(t).fold(_d,function(E){return B.some(Vk(C(E),r,g,s))});case"separator":return k6(t).fold(_d,function(E){return B.some(kR(E))});case"fancymenuitem":return Y6(t).fold(_d,function(E){return fI(C(E),o)});default:return console.error("Unknown item in general menu",t),B.none()}},dI=function(t,r,o,s,d,g,C){var E=s===1,D=!E||MC(t);return Ir(Ue(t,function($){switch($.type){case"separator":return T6($).fold(_d,function(U){return B.some(kR(U))});case"cardmenuitem":return K6($).fold(_d,function(U){return B.some(Uk(re(re({},U),{onAction:function(G){U.onAction(G),o(U.value,U.meta)}}),d,g,{itemBehaviours:WD(U.meta,g),cardText:{matchText:r,highlightOn:C}}))});case"autocompleteitem":default:return O6($).fold(_d,function(U){return B.some(xR(U,r,E,"normal",o,d,g,D))})}}))},AR=function(t,r,o,s,d){var g=MC(r),C=Ir(Ue(r,function(D){var $=function(G){return d?!Pr(G,"text"):g},U=function(G){return vI(G,o,s,$(G),d)};return D.type==="nestedmenuitem"&&D.getSubmenuItems().length<=0?U(re(re({},D),{disabled:!0})):U(D)})),E=d?lD:iT;return E(t,g,C,1,"normal")},ER=function(t){return fa.singleData(t.value,t)},mI=function(t,r,o,s){var d=o===UC.ContentFocus?xx():v1(),g=Lk(r,s),C=yy(s);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:C.selectedItem,item:C.item},movement:g,fakeFocus:o===UC.ContentFocus,focusManager:d,menuBehaviours:Ak.unnamedEvents(r!=="auto"?[]:[ir(function(E,D){cT(E,4,C.item).each(function($){var U=$.numColumns,G=$.numRows;Fn.setGridSize(E,G,U)})})])}},TR=function(t,r){var o=mo(),s=In(!1),d=Ha(ca.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Zt([ur("dismissAutocompleter",[$t(Dl(),function(){return D()})])]),lazySink:r.getSink})),g=function(){return ca.isOpen(d)},C=function(){return o.get().isSome()},E=function(){C()&&ca.hide(d)},D=function(){if(C()){var we=o.get().map(function(Le){return Le.element});yk(we.getOr(sn.fromDom(t.selection.getNode()))).each(vh),E(),o.clear(),s.set(!1)}},$=es(function(){return JE(t)}),U=function(we,Le){var ft=Qr(Le,function(ct){return B.from(ct.columns)}).getOr(1);return Wt(Le,function(ct){var Fe=ct.items;return dI(Fe,ct.matchText,function(rt,St){var on=t.selection.getRng();jE(t.dom,on,we).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Dt){var ln=Dt.range,Mt={hide:function(){D()},reload:function(Ct){E(),fe(Ct)}};s.set(!0),ct.onAction(Mt,ln,rt,St),s.set(!1)})},ft,uu.BUBBLE_TO_SANDBOX,r,ct.highlightOn)})},G=function(we){if(!C()){var Le=h6(t,we.range);o.set({triggerChar:we.triggerChar,element:Le,matchLength:we.text.length}),s.set(!1)}},ee=function(we,Le,ft,ct){we.matchLength=Le.text.length;var Fe=Qr(ft,function(rt){return B.from(rt.columns)}).getOr(1);ca.showAt(d,On.sketch(mI(iT("autocompleter-value",!0,ct,Fe,"normal"),Fe,UC.ContentFocus,"normal")),{anchor:{type:"node",root:sn.fromDom(t.getBody()),node:B.from(we.element)}}),ca.getContent(d).each(na.highlightFirst)},oe=function(we){return o.get().map(function(Le){return jE(t.dom,t.selection.getRng(),Le.triggerChar).bind(function(ft){return X5(t,$,ft,we)})}).getOrThunk(function(){return x6(t,$)})},fe=function(we){oe(we).fold(D,function(Le){G(Le.context),Le.lookupData.then(function(ft){o.get().map(function(ct){var Fe=Le.context;if(ct.triggerChar===Fe.triggerChar){var rt=U(Fe.triggerChar,ft);rt.length>0?ee(ct,Fe,ft,rt):Fe.text.length-ct.matchLength>=10?D():E()}})})})},_e=VE(function(we){we.which!==27&&fe()},50),ze={onKeypress:_e,cancelIfNecessary:D,isMenuOpen:g,isActive:C,isProcessingAction:s.get,getView:function(){return ca.getContent(d)}};t.hasPlugin("rtc")===!1&&q5.setup(ze,t)},hI={register:TR},WC=function(t,r,o){return al(t,r,o).isSome()},OR=function(t,r){var o=null,s=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];o=setTimeout(function(){t.apply(null,g),o=null},r)},d=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:d,schedule:s}},DR=5,gI=400,RR=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?B.none():B.some(r.touches[0])},pI=function(t,r){var o=Math.abs(t.clientX-r.x),s=Math.abs(t.clientY-r.y);return o>DR||s>DR},BT=function(t){var r=mo(),o=In(!1),s=OR(function($){t.triggerEvent(_b(),$),o.set(!0)},gI),d=function($){return RR($).each(function(U){s.cancel();var G={x:U.clientX,y:U.clientY,target:$.target};s.schedule($),o.set(!1),r.set(G)}),B.none()},g=function($){return s.cancel(),RR($).each(function(U){r.on(function(G){pI(U,G)&&r.clear()})}),B.none()},C=function($){s.cancel();var U=function(G){return _a(G.target,$.target)};return r.get().filter(U).map(function(G){return o.get()?($.prevent(),!1):t.triggerEvent(Vv(),$)})},E=Zf([{key:jc(),value:d},{key:Tl(),value:g},{key:Lv(),value:C}]),D=function($,U){return En(E,U).bind(function(G){return G($)})};return{fireIfReady:D}},bI=function(t){var r=t.raw;return r.which===j0[0]&&!lt(["input","textarea"],Qu(t.target))&&!WC(t.target,'[contenteditable="true"]')},MT=function(){return Hn().browser.isFirefox()},yI=function(t,r){return MT()?l0(t,"focus",r):wo(t,"focusin",r)},wI=function(t,r){return MT()?l0(t,"blur",r):wo(t,"focusout",r)},$R=function(t,r){var o=re({stopBackspace:!0},r),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=BT(o),g=Ue(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(oe){return wo(t,oe,function(fe){d.fireIfReady(fe,oe).each(function(ze){ze&&fe.kill()});var _e=o.triggerEvent(oe,fe);_e&&fe.kill()})}),C=mo(),E=wo(t,"paste",function(oe){d.fireIfReady(oe,"paste").each(function(_e){_e&&oe.kill()});var fe=o.triggerEvent("paste",oe);fe&&oe.kill(),C.set(setTimeout(function(){o.triggerEvent(y2(),oe)},0))}),D=wo(t,"keydown",function(oe){var fe=o.triggerEvent("keydown",oe);fe?oe.kill():o.stopBackspace&&bI(oe)&&oe.prevent()}),$=yI(t,function(oe){var fe=o.triggerEvent("focusin",oe);fe&&oe.kill()}),U=mo(),G=wI(t,function(oe){var fe=o.triggerEvent("focusout",oe);fe&&oe.kill(),U.set(setTimeout(function(){o.triggerEvent(b2(),oe)},0))}),ee=function(){gt(g,function(oe){oe.unbind()}),D.unbind(),$.unbind(),G.unbind(),E.unbind(),C.on(clearTimeout),U.on(clearTimeout)};return{unbind:ee}},Ey=function(t,r){var o=En(t,"target").getOr(r);return In(o)},CI=function(t,r){var o=In(!1),s=In(!1),d=function(){o.set(!0)},g=function(){s.set(!0)};return{stop:d,cut:g,isStopped:o.get,isCut:s.get,event:t,setSource:r.set,getSource:r.get}},SI=function(t){var r=In(!1),o=function(){r.set(!0)};return{stop:o,cut:q,isStopped:r.get,isCut:pe,event:t,setSource:se("Cannot set source of a broadcasted event"),getSource:se("Cannot get source of a broadcasted event")}},jC=Ds.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),GC=function(t,r,o,s,d,g){var C=t(r,s),E=CI(o,d);return C.fold(function(){return g.logEventNoHandlers(r,s),jC.complete()},function(D){var $=D.descHandler,U=D2($);return U(E),E.isStopped()?(g.logEventStopped(r,D.element,$.purpose),jC.stopped()):E.isCut()?(g.logEventCut(r,D.element,$.purpose),jC.complete()):_o(D.element).fold(function(){return g.logNoParent(r,D.element,$.purpose),jC.complete()},function(G){return g.logEventResponse(r,D.element,$.purpose),jC.resume(G)})})},BR=function(t,r,o,s,d,g){return GC(t,r,o,s,d,g).fold(ye,function(C){return BR(t,r,o,C,d,g)},pe)},_I=function(t,r,o,s,d){var g=Ey(o,s);return GC(t,r,o,s,g,d)},MR=function(t,r,o){var s=SI(r);return gt(t,function(d){var g=d.descHandler,C=D2(g);C(s)}),s.isStopped()},xI=function(t,r,o,s){return PR(t,r,o,o.target,s)},PR=function(t,r,o,s,d){var g=Ey(o,s);return BR(t,r,o,s,g,d)},kI=function(t,r){return{element:t,descHandler:r}},AI=function(t,r){return{id:t,descHandler:r}},EI=function(){var t={},r=function(C,E,D){Ur(D,function($,U){var G=t[U]!==void 0?t[U]:{};G[E]=O2($,C),t[U]=G})},o=function(C,E){return qv(E).bind(function(D){return En(C,D)}).map(function(D){return kI(E,D)})},s=function(C){return En(t,C).map(function(E){return Si(E,function(D,$){return AI($,D)})}).getOr([])},d=function(C,E,D){return En(t,E).bind(function($){return xh(D,function(U){return o($,U)},C)})},g=function(C){Ur(t,function(E,D){Pr(E,C)&&delete E[C]})};return{registerId:r,unregisterId:g,filterByType:s,find:d}},TI=function(){var t=EI(),r={},o=function($){var U=$.element;return qv(U).getOrThunk(function(){return a_("uid-",$.element)})},s=function($,U){var G=r[U];if(G===$)g($);else throw new Error('The tagId "'+U+'" is already used by: '+pu(G.element)+`
Cannot use it for: `+pu($.element)+`
The conflicting element is`+(fu(G.element)?" ":" not ")+"already in the DOM")},d=function($){var U=o($);lo(r,U)&&s($,U);var G=[$];t.registerId(G,U,$.events),r[U]=$},g=function($){qv($.element).each(function(U){delete r[U],t.unregisterId(U)})},C=function($){return t.filterByType($)},E=function($,U,G){return t.find($,U,G)},D=function($){return En(r,$)};return{find:E,filter:C,register:d,unregister:g,getById:D}},OI=function(t){var r=t.dom,o=r.attributes,s=W(r,["attributes"]);return{uid:t.uid,dom:re({tag:"div",attributes:re({role:"presentation"},o)},s),components:t.components,behaviours:mg(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},ku=Ls({name:"Container",factory:OI,configFields:[Ve("components",[]),Xo("containerBehaviours",[]),Ve("events",{}),Ve("domModification",{}),Ve("eventOrder",{})]}),IR=function(t){var r=function(we){return _o(t.element).fold(ye,function(Le){return _a(we,Le)})},o=TI(),s=function(we,Le){return o.find(r,we,Le)},d=$R(t.element,{triggerEvent:function(we,Le){return N2(we,Le.target,function(ft){return xI(s,we,Le,ft)})}}),g={debugInfo:ne("real"),triggerEvent:function(we,Le,ft){N2(we,Le,function(ct){return PR(s,we,ft,Le,ct)})},triggerFocus:function(we,Le){qv(we).fold(function(){vc(we)},function(ft){N2(Hv(),we,function(ct){return _I(s,Hv(),{originator:Le,kill:q,prevent:q,target:we},we,ct),!1})})},triggerEscape:function(we,Le){g.triggerEvent("keydown",we.element,Le.event)},getByUid:function(we){return _e(we)},getByDom:function(we){return ze(we)},build:Ha,addToGui:function(we){D(we)},removeFromGui:function(we){$(we)},addToWorld:function(we){C(we)},removeFromWorld:function(we){E(we)},broadcast:function(we){ee(we)},broadcastOn:function(we,Le){oe(we,Le)},broadcastEvent:function(we,Le){fe(we,Le)},isConnected:ye},C=function(we){we.connect(g),Du(we.element)||(o.register(we),gt(we.components(),C),g.triggerEvent(jd(),we.element,{target:we.element}))},E=function(we){Du(we.element)||(gt(we.components(),E),o.unregister(we)),we.disconnect()},D=function(we){dm(t,we)},$=function(we){pc(we)},U=function(){d.unbind(),Bu(t.element)},G=function(we){var Le=o.filter(nl());gt(Le,function(ft){var ct=ft.descHandler,Fe=D2(ct);Fe(we)})},ee=function(we){G({universal:!0,data:we})},oe=function(we,Le){G({universal:!1,channels:we,data:Le})},fe=function(we,Le){var ft=o.filter(we);return MR(ft,Le)},_e=function(we){return o.getById(we).fold(function(){return vr.error(new Error('Could not find component with uid: "'+we+'" in system.'))},vr.value)},ze=function(we){var Le=qv(we).getOr("not found");return _e(Le)};return C(t),{root:t,element:t.element,destroy:U,add:D,remove:$,getByUid:_e,getByDom:ze,addToWorld:C,removeFromWorld:E,broadcast:ee,broadcastOn:oe,broadcastEvent:fe}},T1=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ue(t.items,r.interpreter)}},DI=ne([Ve("prefix","form-field"),Xo("fieldBehaviours",[Sr,an])]),RI=ne([ul({schema:[At("dom")],name:"label"}),ul({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[At("text")],name:"aria-descriptor"}),Ii({factory:{sketch:function(t){var r=f2(t,["factory"]);return t.factory.sketch(r)}},schema:[At("factory")],name:"field"})]),$I=function(t,r,o,s){var d=fi(t.fieldBehaviours,[Sr.config({find:function(E){return pa(E,t,"field")}}),an.config({store:{mode:"manual",getValue:function(E){return Sr.getCurrent(E).bind(an.getValue)},setValue:function(E,D){Sr.getCurrent(E).each(function($){an.setValue($,D)})}}})]),g=Sa([ir(function(E,D){var $=sx(E,t,["label","field","aria-descriptor"]);$.field().each(function(U){var G=wn(t.prefix);$.label().each(function(ee){lr(ee.element,"for",G),lr(U.element,"id",G)}),$["aria-descriptor"]().each(function(ee){var oe=wn(t.prefix);lr(ee.element,"id",oe),lr(U.element,"aria-describedby",oe)})})})]),C={getField:function(E){return pa(E,t,"field")},getLabel:function(E){return pa(E,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:d,events:g,apis:C}},Jr=xu({name:"FormField",configFields:DI(),partFields:RI(),factory:$I,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),Wk=function(t,r){return $l({attributes:Zf([{key:r.tabAttr,value:"true"}])})},NR=Object.freeze({__proto__:null,exhibit:Wk}),zR=[Ve("tabAttr","data-alloy-tabstop")],To=Ko({fields:zR,name:"tabstopping",active:NR}),BI=tinymce.util.Tools.resolve("tinymce.html.Entities"),qC=function(t,r,o,s){var d=PI(t,r,o,s);return Jr.sketch(d)},MI=function(t,r){return qC(t,r,[],[])},PI=function(t,r,o,s){return{dom:FR(o),components:t.toArray().concat([r]),fieldBehaviours:Zt(s)}},II=function(){return FR([])},FR=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},Rm=function(t,r){return Jr.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},Ll=wn("form-component-change"),KC=wn("form-close"),O1=wn("form-cancel"),pv=wn("form-action"),cl=wn("form-submit"),xd=wn("form-block"),PT=wn("form-unblock"),IT=wn("form-tabchange"),NT=wn("form-resize"),jk=function(t,r){var o,s=t.label.map(function(G){return Rm(G,r)}),d=function(G){return function(ee,oe){al(oe.event.target,"[data-collection-item-value]").each(function(fe){G(ee,oe,fe,Fa(fe,"data-collection-item-value"))})}},g=function(G,ee){var oe=Ue(ee,function(ze){var we=mf.translate(ze.text),Le=t.columns===1?'<div class="tox-collection__item-label">'+we+"</div>":"",ft='<div class="tox-collection__item-icon">'+ze.icon+"</div>",ct={_:" "," - ":" ","-":" "},Fe=we.replace(/\_| \- |\-/g,function(St){return ct[St]}),rt=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+rt+'" tabindex="-1" data-collection-item-value="'+BI.encodeAllRaw(ze.value)+'" title="'+Fe+'" aria-label="'+Fe+'">'+ft+Le+"</div>"}),fe=t.columns!=="auto"&&t.columns>1?fn(oe,t.columns):[oe],_e=Ue(fe,function(ze){return'<div class="tox-collection__group">'+ze.join("")+"</div>"});tv(G.element,_e.join(""))},C=d(function(G,ee,oe,fe){ee.stop(),r.isDisabled()||Nn(G,pv,{name:t.name,value:fe})}),E=[$t(Qf(),d(function(G,ee,oe){vc(oe)})),$t(Eh(),C),$t(Vv(),C),$t(tl(),d(function(G,ee,oe){jo(G.element,"."+_1).each(function(fe){Io(fe,_1)}),Wo(oe,_1)})),$t(Ti(),d(function(G){jo(G.element,"."+_1).each(function(ee){Io(ee,_1)})})),cs(d(function(G,ee,oe,fe){Nn(G,pv,{name:t.name,value:fe})}))],D=function(G,ee){return Ue(au(G.element,".tox-collection__item"),ee)},$=Jr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Se},behaviours:Zt([Pn.config({disabled:r.isDisabled,onDisabled:function(G){D(G,function(ee){Wo(ee,"tox-collection__item--state-disabled"),lr(ee,"aria-disabled",!0)})},onEnabled:function(G){D(G,function(ee){Io(ee,"tox-collection__item--state-disabled"),ui(ee,"aria-disabled")})}}),ti(),nr.config({}),an.config({store:{mode:"memory",initialValue:[]},onSetValue:function(G,ee){g(G,ee),t.columns==="auto"&&cT(G,5,"tox-collection__item").each(function(oe){var fe=oe.numRows,_e=oe.numColumns;Fn.setGridSize(G,fe,_e)}),Wr(G,NT)}}),To.config({}),Fn.config(yR(t.columns,"normal")),ur("collection-events",E)]),eventOrder:(o={},o[Rs()]=["disabling","alloy.base.behaviour","collection-events"],o)}),U=["tox-form__group--collection"];return qC(s,$,U,[])},LR=ne([Xr("data"),Ve("inputAttributes",{}),Ve("inputStyles",{}),Ve("tag","input"),Ve("inputClasses",[]),Yr("onSetValue"),Ve("styles",{}),Ve("eventOrder",{}),Xo("inputBehaviours",[an,Zn]),Ve("selectOnFocus",!0)]),Gk=function(t){return Zt([Zn.config({onFocus:t.selectOnFocus?function(r){var o=r.element,s=Yc(o);o.dom.setSelectionRange(0,s.length)}:q})])},zT=function(t){return re(re({},Gk(t)),fi(t.inputBehaviours,[an.config({store:re(re({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return Yc(r.element)},setValue:function(r,o){var s=Yc(r.element);s!==o&&Ph(r.element,o)}}),onSetValue:t.onSetValue})]))},qk=function(t){return{tag:t.tag,attributes:re({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},NI=function(t,r){return{uid:t.uid,dom:qk(t),components:[],behaviours:zT(t),eventOrder:t.eventOrder}},XC=Ls({name:"Input",configFields:LR(),factory:NI}),HR={},YC={exports:HR};(function(t,r,o,s){(function(d,g){typeof r=="object"&&typeof o<"u"?o.exports=g():typeof t=="function"&&t.amd?t(g):(d=typeof globalThis<"u"?globalThis:d||self,d.EphoxContactWrapper=g())})(this,function(){var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof M8<"u"?M8:typeof self<"u"?self:{},g={exports:{}};(function($){(function(U){var G=setTimeout;function ee(){}function oe(Fe,rt){return function(){Fe.apply(rt,arguments)}}function fe(Fe){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Fe!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ct(Fe,this)}function _e(Fe,rt){for(;Fe._state===3;)Fe=Fe._value;if(Fe._state===0){Fe._deferreds.push(rt);return}Fe._handled=!0,fe._immediateFn(function(){var St=Fe._state===1?rt.onFulfilled:rt.onRejected;if(St===null){(Fe._state===1?ze:we)(rt.promise,Fe._value);return}var on;try{on=St(Fe._value)}catch(Dt){we(rt.promise,Dt);return}ze(rt.promise,on)})}function ze(Fe,rt){try{if(rt===Fe)throw new TypeError("A promise cannot be resolved with itself.");if(rt&&(typeof rt=="object"||typeof rt=="function")){var St=rt.then;if(rt instanceof fe){Fe._state=3,Fe._value=rt,Le(Fe);return}else if(typeof St=="function"){ct(oe(St,rt),Fe);return}}Fe._state=1,Fe._value=rt,Le(Fe)}catch(on){we(Fe,on)}}function we(Fe,rt){Fe._state=2,Fe._value=rt,Le(Fe)}function Le(Fe){Fe._state===2&&Fe._deferreds.length===0&&fe._immediateFn(function(){Fe._handled||fe._unhandledRejectionFn(Fe._value)});for(var rt=0,St=Fe._deferreds.length;rt<St;rt++)_e(Fe,Fe._deferreds[rt]);Fe._deferreds=null}function ft(Fe,rt,St){this.onFulfilled=typeof Fe=="function"?Fe:null,this.onRejected=typeof rt=="function"?rt:null,this.promise=St}function ct(Fe,rt){var St=!1;try{Fe(function(on){St||(St=!0,ze(rt,on))},function(on){St||(St=!0,we(rt,on))})}catch(on){if(St)return;St=!0,we(rt,on)}}fe.prototype.catch=function(Fe){return this.then(null,Fe)},fe.prototype.then=function(Fe,rt){var St=new this.constructor(ee);return _e(this,new ft(Fe,rt,St)),St},fe.all=function(Fe){var rt=Array.prototype.slice.call(Fe);return new fe(function(St,on){if(rt.length===0)return St([]);var Dt=rt.length;function ln(Ct,Xt){try{if(Xt&&(typeof Xt=="object"||typeof Xt=="function")){var Cn=Xt.then;if(typeof Cn=="function"){Cn.call(Xt,function(Ot){ln(Ct,Ot)},on);return}}rt[Ct]=Xt,--Dt===0&&St(rt)}catch(Ot){on(Ot)}}for(var Mt=0;Mt<rt.length;Mt++)ln(Mt,rt[Mt])})},fe.resolve=function(Fe){return Fe&&typeof Fe=="object"&&Fe.constructor===fe?Fe:new fe(function(rt){rt(Fe)})},fe.reject=function(Fe){return new fe(function(rt,St){St(Fe)})},fe.race=function(Fe){return new fe(function(rt,St){for(var on=0,Dt=Fe.length;on<Dt;on++)Fe[on].then(rt,St)})},fe._immediateFn=typeof setImmediate=="function"?function(Fe){setImmediate(Fe)}:function(Fe){G(Fe,0)},fe._unhandledRejectionFn=function(rt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",rt)},fe._setImmediateFn=function(rt){fe._immediateFn=rt},fe._setUnhandledRejectionFn=function(rt){fe._unhandledRejectionFn=rt},$.exports?$.exports=fe:U.Promise||(U.Promise=fe)})(d)})(g);var C=g.exports,E=function(){return typeof window<"u"?window:Function("return this;")()}(),D={boltExport:E.Promise||C};return D})})(void 0,HR,YC);var $m=YC.exports.boltExport,FT=function(t){var r=B.none(),o=[],s=function($){return FT(function(U){d(function(G){U($(G))})})},d=function($){C()?D($):o.push($)},g=function($){C()||(r=B.some($),E(o),o=[])},C=function(){return r.isSome()},E=function($){gt($,D)},D=function($){r.each(function(U){setTimeout(function(){$(U)},0)})};return t(g),{get:d,map:s,isReady:C}},zI=function(t){return FT(function(r){r(t)})},VR={nu:FT,pure:zI},FI=function(t){setTimeout(function(){throw t},0)},D1=function(t){var r=function(D){t().then(D,FI)},o=function(D){return D1(function(){return t().then(D)})},s=function(D){return D1(function(){return t().then(function($){return D($).toPromise()})})},d=function(D){return D1(function(){return t().then(function(){return D.toPromise()})})},g=function(){return VR.nu(r)},C=function(){var D=null;return D1(function(){return D===null&&(D=t()),D})},E=t;return{map:o,bind:s,anonBind:d,toLazy:g,toCached:C,toPromise:E,get:r}},LI=function(t){return D1(function(){return new $m(t)})},HI=function(t){return D1(function(){return $m.resolve(t)})},Ji={nu:LI,pure:HI},VI=["input","textarea"],UR=function(t){var r=Qu(t);return lt(VI,r)},LT=function(t,r){var o=r.getRoot(t).getOr(t.element);Io(o,r.invalidClass),r.notify.each(function(s){UR(t.element)&&lr(t.element,"aria-invalid",!1),s.getContainer(t).each(function(d){tv(d,s.validHtml)}),s.onValid(t)})},HT=function(t,r,o,s){var d=r.getRoot(t).getOr(t.element);Wo(d,r.invalidClass),r.notify.each(function(g){UR(t.element)&&lr(t.element,"aria-invalid",!0),g.getContainer(t).each(function(C){tv(C,s)}),g.onInvalid(t,s)})},WR=function(t,r,o){return r.validator.fold(function(){return Ji.pure(vr.value(!0))},function(s){return s.validate(t)})},VT=function(t,r,o){return r.notify.each(function(s){s.onValidate(t)}),WR(t,r).map(function(s){return t.getSystem().isConnected()?s.fold(function(d){return HT(t,r,o,d),vr.error(d)},function(d){return LT(t,r),vr.value(d)}):vr.error("No longer in system")})},UI=function(t,r){var o=r.getRoot(t).getOr(t.element);return bu(o,r.invalidClass)},WI=Object.freeze({__proto__:null,markValid:LT,markInvalid:HT,query:WR,run:VT,isInvalid:UI}),jI=function(t,r){return t.validator.map(function(o){return Sa([$t(o.onEvent,function(s){VT(s,t,r).get(Se)})].concat(o.validateOnLoad?[ir(function(s){VT(s,t,r).get(q)})]:[]))}).getOr({})},Kk=Object.freeze({__proto__:null,events:jI}),hs=[At("invalidClass"),Ve("getRoot",B.none),ss("notify",[Ve("aria","alert"),Ve("getContainer",B.none),Ve("validHtml",""),Yr("onValid"),Yr("onInvalid"),Yr("onValidate")]),ss("validator",[At("validate"),Ve("onEvent","input"),Ve("validateOnLoad",!0)])],bv=Ko({fields:hs,name:"invalidating",active:Kk,apis:WI,extra:{validation:function(t){return function(r){var o=an.getValue(r);return Ji.pure(t(o))}}}}),GI=function(t,r,o,s){return o.getOrCreate(t,r,s)},qI=Object.freeze({__proto__:null,getCoupled:GI}),KI=[Iu("others",ji(vr.value,kl()))],XI=function(){var t={},r=function(s,d,g){var C=Hr(d.others);if(C)return En(t,g).getOrThunk(function(){var E=En(d.others,g).getOrDie("No information found for coupled component: "+g),D=E(s),$=s.getSystem().build(D);return t[g]=$,$});throw new Error("Cannot find coupled component: "+g+". Known coupled components: "+JSON.stringify(C,null,2))},o=ne({});return Ki({readState:o,getOrCreate:r})},jR=Object.freeze({__proto__:null,init:XI}),Oo=Ko({fields:KI,name:"coupling",apis:qI,state:jR}),GR=ne("sink"),qR=ne(ul({name:GR(),overrides:ne({dom:{tag:"div"},behaviours:Zt([ho.config({useFixed:ye})]),events:Sa([qd(Cb()),qd(Ol()),qd(Eh())])})})),gf;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(gf||(gf={}));var KR=function(t,r){var o=t.getHotspot(r).getOr(r),s="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:s,hotspot:o,overrides:d}},function(g){return{type:s,hotspot:o,overrides:d,layouts:g}})},XR=function(t,r,o){var s=t.fetch;return s(o).map(r)},YR=function(t,r,o,s,d,g,C){var E=XR(t,r,s),D=JR(s,t);return E.map(function($){return $.bind(function(U){return B.from(fa.sketch(re(re({},g.menu()),{uid:Kv(""),data:U,highlightImmediately:C===gf.HighlightFirst,onOpenMenu:function(G,ee){var oe=D().getOrDie();ho.position(oe,ee,{anchor:o}),Br.decloak(d)},onOpenSubmenu:function(G,ee,oe){var fe=D().getOrDie();ho.position(fe,oe,{anchor:{type:"submenu",item:ee}}),Br.decloak(d)},onRepositionMenu:function(G,ee,oe){var fe=D().getOrDie();ho.position(fe,ee,{anchor:o}),gt(oe,function(_e){ho.position(fe,_e.triggeredMenu,{anchor:{type:"submenu",item:_e.triggeringItem}})})},onEscape:function(){return Zn.focus(s),Br.close(d),B.some(!0)}})))})})},Xk=function(t,r,o,s,d,g,C){var E=KR(t,o),D=YR(t,r,E,o,s,d,C);return D.map(function($){return $.fold(function(){Br.isOpen(s)&&Br.close(s)},function(U){Br.cloak(s),Br.open(s,U),g(s)}),s})},YI=function(t,r,o,s,d,g,C){return Br.close(s),Ji.pure(s)},Ty=function(t,r,o,s,d,g){var C=Oo.getCoupled(o,"sandbox"),E=Br.isOpen(C),D=E?YI:Xk;return D(t,r,o,C,s,d,g)},JI=function(t,r,o){var s=Sr.getCurrent(r).getOr(r),d=Vi(t.element);o?jn(s.element,"min-width",d+"px"):tc(s.element,d)},JR=function(t,r){return t.getSystem().getByUid(r.uid+"-"+GR()).map(function(o){return function(){return vr.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return vr.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},ZR=function(t){Br.getState(t).each(function(r){fa.repositionMenus(r)})},UT=function(t,r,o){var s=Qd(),d=function(E,D){var $=KR(t,r);s.link(r.element),t.matchWidth&&JI($.hotspot,D,t.useMinWidth),t.onOpen($,E,D),o!==void 0&&o.onOpen!==void 0&&o.onOpen(E,D)},g=function(E,D){s.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(E,D)},C=JR(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:il.augment(t.sandboxBehaviours,[an.config({store:{mode:"memory",initialValue:r}}),Br.config({onOpen:d,onClose:g,isPartOf:function(E,D,$){return em(D,$)||em(r,$)},getAttachPoint:function(){return C().getOrDie()}}),Sr.config({find:function(E){return Br.getState(E).bind(function(D){return Sr.getCurrent(D)})}}),nu.config({channels:re(re({},Vu({isExtraPart:pe})),gm({doReposition:ZR}))})])}},Hg=function(t){var r=Oo.getCoupled(t,"sandbox");ZR(r)},WT=function(){return[Ve("sandboxClasses",[]),il.field("sandboxBehaviours",[Sr,nu,Br,an])]},ZI=ne([At("dom"),At("fetch"),Yr("onOpen"),Go("onExecute"),Ve("getHotspot",B.some),Ve("getAnchorOverrides",ne({})),ad(),Xo("dropdownBehaviours",[Nr,Oo,Fn,Zn]),At("toggleClass"),Ve("eventOrder",{}),Xr("lazySink"),Ve("matchWidth",!1),Ve("useMinWidth",!1),Xr("role")].concat(WT())),Vg=ne([Fs({schema:[tm()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),qR()]),QI=function(t,r,o,s){var d,g=function(U){return En(t.dom,"attributes").bind(function(G){return En(G,U)})},C=function(U){Br.getState(U).each(function(G){fa.highlightPrimary(G)})},E=function(U){var G=C;Ty(t,Se,U,s,G,gf.HighlightFirst).get(q)},D={expand:function(U){Nr.isOn(U)||Ty(t,Se,U,s,q,gf.HighlightNone).get(q)},open:function(U){Nr.isOn(U)||Ty(t,Se,U,s,q,gf.HighlightFirst).get(q)},isOpen:Nr.isOn,close:function(U){Nr.isOn(U)&&Ty(t,Se,U,s,q,gf.HighlightFirst).get(q)},repositionMenus:function(U){Nr.isOn(U)&&Hg(U)}},$=function(U,G){return Bs(U),B.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:fi(t.dropdownBehaviours,[Nr.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Oo.config({others:{sandbox:function(U){return UT(t,U,{onOpen:function(){return Nr.on(U)},onClose:function(){return Nr.off(U)}})}}}),Fn.config({mode:"special",onSpace:$,onEnter:$,onDown:function(U,G){if(pf.isOpen(U)){var ee=Oo.getCoupled(U,"sandbox");C(ee)}else pf.open(U);return B.some(!0)},onEscape:function(U,G){return pf.isOpen(U)?(pf.close(U),B.some(!0)):B.none()}}),Zn.config({})]),events:my(B.some(E)),eventOrder:re(re({},t.eventOrder),(d={},d[Rs()]=["disabling","toggling","alloy.base.behaviour"],d)),apis:D,domModification:{attributes:re(re({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(U){return{role:U}})),t.dom.tag==="button"?{type:g("type").getOr("button")}:{})}}},pf=xu({name:"Dropdown",configFields:ZI(),partFields:Vg(),factory:QI,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),Sc=function(){return $l({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},QR=function(){return Sa([_2(NA(),ye)])},e$=Object.freeze({__proto__:null,events:QR,exhibit:Sc}),JC=Ko({fields:[],name:"unselecting",active:e$}),eN=function(t,r){return pf.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Zt([hf.button(r.providers.isDisabled),ti(),JC.config({}),To.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return Ji.nu(function(s){return t.fetch(s)}).map(function(s){return B.from(ER(bt(RT(wn("menu-value"),s,function(d){t.onItemAction(o,d)},t.columns,t.presets,uu.CLOSE_ON_EXECUTE,pe,r.providers),{movement:Lk(t.columns,t.presets)})))})},parts:{menu:x1(!1,1,t.presets)}})},ZC=wn("color-input-change"),t$=wn("color-swatch-change"),jT=wn("color-picker-cancel"),tN=function(t,r,o){var s=Jr.parts.field({factory:XC,inputClasses:["tox-textfield"],onSetValue:function(D){return bv.run(D).get(q)},inputBehaviours:Zt([Pn.config({disabled:r.providers.isDisabled}),ti(),To.config({}),bv.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(D){return _o(D.element)},notify:{onValid:function(D){var $=an.getValue(D);Nn(D,ZC,{color:$})}},validator:{validateOnLoad:!1,validate:function(D){var $=an.getValue(D);if($.length===0)return Ji.pure(vr.value(!0));var U=sn.fromTag("span");jn(U,"background-color",$);var G=ko(U,"background-color").fold(function(){return vr.error("blah")},function(ee){return vr.value($)});return Ji.pure(G)}}})]),selectOnFocus:!1}),d=t.label.map(function(D){return Rm(D,r.providers)}),g=function(D,$){Nn(D,t$,{value:$})},C=function(D,$){E.getOpt(D).each(function(U){$==="custom"?o.colorPicker(function(G){G.fold(function(){return Wr(U,jT)},function(ee){g(U,ee),ET(ee)})},"#ffffff"):$==="remove"?g(U,""):g(U,$)})},E=oa(eN({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[ei,Xi,No]},onLtr:function(){return[Xi,ei,No]}},components:[],fetch:DT(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:C},r));return Jr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:d.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,E.asSpec()]}]),fieldBehaviours:Zt([ur("form-field-events",[$t(ZC,function(D,$){E.getOpt(D).each(function(U){jn(U.element,"background-color",$.event.color)}),Nn(D,Ll,{name:t.name})}),$t(t$,function(D,$){Jr.getField(D).each(function(U){an.setValue(U,$.event.value),Sr.getCurrent(D).each(Zn.focus)})}),$t(jT,function(D,$){Jr.getField(D).each(function(U){Sr.getCurrent(D).each(Zn.focus)})})])])})},nN=ul({schema:[At("dom")],name:"label"}),Ug=function(t){return ul({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(s){return{events:Sa([x2(jc(),function(d,g,C){return s(d,C)},[r]),x2(Ol(),function(d,g,C){return s(d,C)},[r]),x2(Vd(),function(d,g,C){C.mouseIsDown.get()&&s(d,C)},[r])])}})}})},GT=Ug("top-left"),rN=Ug("top"),aN=Ug("top-right"),oN=Ug("right"),iN=Ug("bottom-right"),uN=Ug("bottom"),sN=Ug("bottom-left"),lN=Ug("left"),n$=Ii({name:"thumb",defaults:ne({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:Sa([Gd(jc(),t,"spectrum"),Gd(Tl(),t,"spectrum"),Gd(Lv(),t,"spectrum"),Gd(Ol(),t,"spectrum"),Gd(Vd(),t,"spectrum"),Gd(h2(),t,"spectrum")])}}}),r$=Ii({schema:[hu("mouseIsDown",function(){return In(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,s=function(d,g){return o.getValueFromEvent(g).map(function(C){return o.setValueFrom(d,t,C)})};return{behaviours:Zt([Fn.config({mode:"special",onLeft:function(d){return o.onLeft(d,t)},onRight:function(d){return o.onRight(d,t)},onUp:function(d){return o.onUp(d,t)},onDown:function(d){return o.onDown(d,t)}}),Zn.config({})]),events:Sa([$t(jc(),s),$t(Tl(),s),$t(Ol(),s),$t(Vd(),function(d,g){t.mouseIsDown.get()&&s(d,g)})])}}}),cN=[nN,lN,oN,rN,uN,GT,aN,sN,iN,n$,r$],fN="slider.change.value",QC=ne(fN),vN=function(t){return t.type.indexOf("touch")!==-1},qT=function(t){var r=t.event.raw;if(vN(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?B.some(o.touches[0]).map(function(d){return ya(d.clientX,d.clientY)}):B.none()}else{var s=r;return s.clientX!==void 0?B.some(s).map(function(d){return ya(d.clientX,d.clientY)}):B.none()}},a$="top",o$="right",i$="bottom",Yk="left",R1=function(t){return t.model.minX},Wg=function(t){return t.model.minY},Jk=function(t){return t.model.minX-1},Zk=function(t){return t.model.minY-1},$1=function(t){return t.model.maxX},B1=function(t){return t.model.maxY},M1=function(t){return t.model.maxX+1},Qk=function(t){return t.model.maxY+1},u$=function(t,r,o){return r(t)-o(t)},yv=function(t){return u$(t,$1,R1)},KT=function(t){return u$(t,B1,Wg)},P1=function(t){return yv(t)/2},XT=function(t){return KT(t)/2},jg=function(t){return t.stepSize},s$=function(t){return t.snapToGrid},l$=function(t){return t.snapStart},c$=function(t){return t.rounded},eS=function(t,r){return t[r+"-edge"]!==void 0},f$=function(t){return eS(t,Yk)},tS=function(t){return eS(t,o$)},v$=function(t){return eS(t,a$)},fl=function(t){return eS(t,i$)},Bm=function(t){return t.model.value.get()},d$=function(t){return{x:t}},YT=function(t){return{y:t}},Mm=function(t,r){return{x:t,y:r}},bf=function(t,r){Nn(t,QC(),{value:r})},dN=function(t,r){bf(t,Mm(Jk(r),Zk(r)))},mN=function(t,r){bf(t,YT(Zk(r)))},hN=function(t,r){bf(t,Mm(P1(r),Zk(r)))},gN=function(t,r){bf(t,Mm(M1(r),Zk(r)))},pN=function(t,r){bf(t,d$(M1(r)))},bN=function(t,r){bf(t,Mm(M1(r),XT(r)))},m$=function(t,r){bf(t,Mm(M1(r),Qk(r)))},yN=function(t,r){bf(t,YT(Qk(r)))},wN=function(t,r){bf(t,Mm(P1(r),Qk(r)))},CN=function(t,r){bf(t,Mm(Jk(r),Qk(r)))},h$=function(t,r){bf(t,d$(Jk(r)))},e3=function(t,r){bf(t,Mm(Jk(r),XT(r)))},JT=function(t,r,o,s){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-s)},Oy=function(t,r,o,s){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+s)},I1=function(t,r,o){return Math.max(r,Math.min(o,t))},g$=function(t,r,o,s,d){return d.fold(function(){var g=t-r,C=Math.round(g/s)*s;return I1(r+C,r-1,o+1)},function(g){var C=(t-g)%s,E=Math.round(C/s),D=Math.floor((t-g)/s),$=Math.floor((o-g)/s),U=Math.min($,D+E),G=g+U*s;return Math.max(g,G)})},p$=function(t,r,o){return Math.min(o,Math.max(t,r))-r},ZT=function(t){var r=t.min,o=t.max,s=t.range,d=t.value,g=t.step,C=t.snap,E=t.snapStart,D=t.rounded,$=t.hasMinEdge,U=t.hasMaxEdge,G=t.minBound,ee=t.maxBound,oe=t.screenRange,fe=$?r-1:r,_e=U?o+1:o;if(d<G)return fe;if(d>ee)return _e;var ze=p$(d,G,ee),we=I1(ze/oe*s+r,fe,_e);return C&&we>=r&&we<=o?g$(we,r,o,g,E):D?Math.round(we):we},b$=function(t){var r=t.min,o=t.max,s=t.range,d=t.value,g=t.hasMinEdge,C=t.hasMaxEdge,E=t.maxBound,D=t.maxOffset,$=t.centerMinEdge,U=t.centerMaxEdge;return d<r?g?0:$:d>o?C?E:U:(d-r)/s*D},QT="top",nS="right",y$="bottom",eO="left",w$="width",C$="height",yf=function(t){return t.element.dom.getBoundingClientRect()},_c=function(t,r){return t[r]},su=function(t){var r=yf(t);return _c(r,eO)},tO=function(t){var r=yf(t);return _c(r,nS)},t3=function(t){var r=yf(t);return _c(r,QT)},S$=function(t){var r=yf(t);return _c(r,y$)},nO=function(t){var r=yf(t);return _c(r,w$)},_$=function(t){var r=yf(t);return _c(r,C$)},x$=function(t,r,o){return(t+r)/2-o},k$=function(t,r){var o=yf(t),s=yf(r),d=_c(o,eO),g=_c(o,nS),C=_c(s,eO);return x$(d,g,C)},rO=function(t,r){var o=yf(t),s=yf(r),d=_c(o,QT),g=_c(o,y$),C=_c(s,QT);return x$(d,g,C)},xc=function(t,r){Nn(t,QC(),{value:r})},Dy=function(t){return{x:t}},n3=function(t,r,o){var s={min:R1(r),max:$1(r),range:yv(r),value:o,step:jg(r),snap:s$(r),snapStart:l$(r),rounded:c$(r),hasMinEdge:f$(r),hasMaxEdge:tS(r),minBound:su(t),maxBound:tO(t),screenRange:nO(t)};return ZT(s)},r3=function(t,r,o){var s=n3(t,r,o),d=Dy(s);return xc(t,d),s},aO=function(t,r){var o=R1(r);xc(t,Dy(o))},SN=function(t,r){var o=$1(r);xc(t,Dy(o))},_N=function(t,r,o){var s=t>0?Oy:JT,d=s(Bm(o).x,R1(o),$1(o),jg(o));return xc(r,Dy(d)),B.some(d)},A$=function(t){return function(r,o){return _N(t,r,o).map(ye)}},xN=function(t){var r=qT(t);return r.map(function(o){return o.left})},kN=function(t,r,o,s,d){var g=0,C=nO(t),E=s.bind(function(U){return B.some(k$(U,t))}).getOr(g),D=d.bind(function(U){return B.some(k$(U,t))}).getOr(C),$={min:R1(r),max:$1(r),range:yv(r),value:o,hasMinEdge:f$(r),hasMaxEdge:tS(r),minBound:su(t),minOffset:g,maxBound:tO(t),maxOffset:C,centerMinEdge:E,centerMaxEdge:D};return b$($)},rS=function(t,r,o,s,d,g){var C=kN(r,g,o,s,d);return su(r)-su(t)+C},AN=function(t,r,o,s){var d=Bm(o),g=rS(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),C=Vi(r.element)/2;jn(r.element,"left",g-C+"px")},E$=A$(-1),EN=A$(1),kd=B.none,a3=B.none,TN={"top-left":B.none(),top:B.none(),"top-right":B.none(),right:B.some(pN),"bottom-right":B.none(),bottom:B.none(),"bottom-left":B.none(),left:B.some(h$)},ON=Object.freeze({__proto__:null,setValueFrom:r3,setToMin:aO,setToMax:SN,findValueOfOffset:n3,getValueFromEvent:xN,findPositionOfValue:rS,setPositionFromValue:AN,onLeft:E$,onRight:EN,onUp:kd,onDown:a3,edgeActions:TN}),aS=function(t,r){Nn(t,QC(),{value:r})},oS=function(t){return{y:t}},iS=function(t,r,o){var s={min:Wg(r),max:B1(r),range:KT(r),value:o,step:jg(r),snap:s$(r),snapStart:l$(r),rounded:c$(r),hasMinEdge:v$(r),hasMaxEdge:fl(r),minBound:t3(t),maxBound:S$(t),screenRange:_$(t)};return ZT(s)},T$=function(t,r,o){var s=iS(t,r,o),d=oS(s);return aS(t,d),s},uS=function(t,r){var o=Wg(r);aS(t,oS(o))},sS=function(t,r){var o=B1(r);aS(t,oS(o))},DN=function(t,r,o){var s=t>0?Oy:JT,d=s(Bm(o).y,Wg(o),B1(o),jg(o));return aS(r,oS(d)),B.some(d)},O$=function(t){return function(r,o){return DN(t,r,o).map(ye)}},RN=function(t){var r=qT(t);return r.map(function(o){return o.top})},$N=function(t,r,o,s,d){var g=0,C=_$(t),E=s.bind(function(U){return B.some(rO(U,t))}).getOr(g),D=d.bind(function(U){return B.some(rO(U,t))}).getOr(C),$={min:Wg(r),max:B1(r),range:KT(r),value:o,hasMinEdge:v$(r),hasMaxEdge:fl(r),minBound:t3(t),minOffset:g,maxBound:S$(t),maxOffset:C,centerMinEdge:E,centerMaxEdge:D};return b$($)},oO=function(t,r,o,s,d,g){var C=$N(r,g,o,s,d);return t3(r)-t3(t)+C},BN=function(t,r,o,s){var d=Bm(o),g=oO(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),C=Mo(r.element)/2;jn(r.element,"top",g-C+"px")},MN=B.none,iO=B.none,N1=O$(-1),PN=O$(1),D$={"top-left":B.none(),top:B.some(mN),"top-right":B.none(),right:B.none(),"bottom-right":B.none(),bottom:B.some(yN),"bottom-left":B.none(),left:B.none()},IN=Object.freeze({__proto__:null,setValueFrom:T$,setToMin:uS,setToMax:sS,findValueOfOffset:iS,getValueFromEvent:RN,findPositionOfValue:oO,setPositionFromValue:BN,onLeft:MN,onRight:iO,onUp:N1,onDown:PN,edgeActions:D$}),o3=function(t,r){Nn(t,QC(),{value:r})},i3=function(t,r){return{x:t,y:r}},NN=function(t,r,o){var s=n3(t,r,o.left),d=iS(t,r,o.top),g=i3(s,d);return o3(t,g),g},zN=function(t,r,o,s){var d=t>0?Oy:JT,g=r?Bm(s).x:d(Bm(s).x,R1(s),$1(s),jg(s)),C=r?d(Bm(s).y,Wg(s),B1(s),jg(s)):Bm(s).y;return o3(o,i3(g,C)),B.some(g)},lS=function(t,r){return function(o,s){return zN(t,r,o,s).map(ye)}},uO=function(t,r){var o=R1(r),s=Wg(r);o3(t,i3(o,s))},FN=function(t,r){var o=$1(r),s=B1(r);o3(t,i3(o,s))},R$=function(t){return qT(t)},sO=function(t,r,o,s){var d=Bm(o),g=rS(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),C=oO(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),E=Vi(r.element)/2,D=Mo(r.element)/2;jn(r.element,"left",g-E+"px"),jn(r.element,"top",C-D+"px")},lO=lS(-1,!1),$$=lS(1,!1),LN=lS(-1,!0),HN=lS(1,!0),u3={"top-left":B.some(dN),top:B.some(hN),"top-right":B.some(gN),right:B.some(bN),"bottom-right":B.some(m$),bottom:B.some(wN),"bottom-left":B.some(CN),left:B.some(e3)},B$=Object.freeze({__proto__:null,setValueFrom:NN,setToMin:uO,setToMax:FN,getValueFromEvent:R$,setPositionFromValue:sO,onLeft:lO,onRight:$$,onUp:LN,onDown:HN,edgeActions:u3}),VN=[Ve("stepSize",1),Ve("onChange",q),Ve("onChoose",q),Ve("onInit",q),Ve("onDragStart",q),Ve("onDragEnd",q),Ve("snapToGrid",!1),Ve("rounded",!0),Xr("snapStart"),Iu("model",el("mode",{x:[Ve("minX",0),Ve("maxX",100),hu("value",function(t){return In(t.mode.minX)}),At("getInitialValue"),ka("manager",ON)],y:[Ve("minY",0),Ve("maxY",100),hu("value",function(t){return In(t.mode.minY)}),At("getInitialValue"),ka("manager",IN)],xy:[Ve("minX",0),Ve("maxX",100),Ve("minY",0),Ve("maxY",100),hu("value",function(t){return In({x:t.mode.minX,y:t.mode.minY})}),At("getInitialValue"),ka("manager",B$)]})),Xo("sliderBehaviours",[Fn,an]),hu("mouseIsDown",function(){return In(!1)})],UN=function(t,r,o,s){var d,g=function(Fe){return lf(Fe,t,"thumb")},C=function(Fe){return lf(Fe,t,"spectrum")},E=function(Fe){return pa(Fe,t,"left-edge")},D=function(Fe){return pa(Fe,t,"right-edge")},$=function(Fe){return pa(Fe,t,"top-edge")},U=function(Fe){return pa(Fe,t,"bottom-edge")},G=t.model,ee=G.manager,oe=function(Fe,rt){ee.setPositionFromValue(Fe,rt,t,{getLeftEdge:E,getRightEdge:D,getTopEdge:$,getBottomEdge:U,getSpectrum:C})},fe=function(Fe,rt){G.value.set(rt);var St=g(Fe);oe(Fe,St)},_e=function(Fe,rt){fe(Fe,rt);var St=g(Fe);return t.onChange(Fe,St,rt),B.some(!0)},ze=function(Fe){ee.setToMin(Fe,t)},we=function(Fe){ee.setToMax(Fe,t)},Le=function(Fe){var rt=function(){pa(Fe,t,"thumb").each(function(on){var Dt=G.value.get();t.onChoose(Fe,on,Dt)})},St=t.mouseIsDown.get();t.mouseIsDown.set(!1),St&&rt()},ft=function(Fe,rt){rt.stop(),t.mouseIsDown.set(!0),t.onDragStart(Fe,g(Fe))},ct=function(Fe,rt){rt.stop(),t.onDragEnd(Fe,g(Fe)),Le(Fe)};return{uid:t.uid,dom:t.dom,components:r,behaviours:fi(t.sliderBehaviours,[Fn.config({mode:"special",focusIn:function(Fe){return pa(Fe,t,"spectrum").map(Fn.focusIn).map(ye)}}),an.config({store:{mode:"manual",getValue:function(Fe){return G.value.get()}}}),nu.config({channels:(d={},d[kw()]={onReceive:Le},d)})]),events:Sa([$t(QC(),function(Fe,rt){_e(Fe,rt.event.value)}),ir(function(Fe,rt){var St=G.getInitialValue();G.value.set(St);var on=g(Fe);oe(Fe,on);var Dt=C(Fe);t.onInit(Fe,on,Dt,G.value.get())}),$t(jc(),ft),$t(Lv(),ct),$t(Ol(),ft),$t(h2(),ct)]),apis:{resetToMin:ze,resetToMax:we,setValue:fe,refresh:oe},domModification:{styles:{position:"relative"}}}},wf=xu({name:"Slider",configFields:VN,partFields:cN,factory:UN,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),cO=wn("rgb-hex-update"),Ad=wn("slider-update"),s3=wn("palette-update"),M$=function(t,r){var o=wf.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=wf.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return wf.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ne({y:0})},components:[o,s],sliderBehaviours:Zt([Zn.config({})]),onChange:function(d,g,C){Nn(d,Ad,{value:C})}})},fO="form",vO=[Xo("formBehaviours",[an])],dO=function(t){return"<alloy.field."+t+">"},l3=function(t){var r=function(){var g=[],C=function(E,D){return g.push(E),Hw(fO,dO(E),D)};return{field:C,record:ne(g)}}(),o=t(r),s=r.record(),d=Ue(s,function(g){return Ii({name:g,pname:dO(g)})});return Gw(fO,vO,d,I$,o)},P$=function(t,r){return t.fold(function(){return vr.error(r)},vr.value)},I$=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:fi(t.formBehaviours,[an.config({store:{mode:"manual",getValue:function(o){var s=lx(o,t);return fr(s,function(d,g){return d().bind(function(C){var E=Sr.getCurrent(C);return P$(E,new Error("Cannot find a current component to extract the value from for form part '"+g+"': "+pu(C.element)))}).map(an.getValue)})},setValue:function(o,s){Ur(s,function(d,g){pa(o,t,g).each(function(C){Sr.getCurrent(C).each(function(E){an.setValue(E,d)})})})}}})]),apis:{getField:function(o,s){return pa(o,t,s).bind(Sr.getCurrent)}}}},Ry={getField:Ja(function(t,r,o){return t.getField(r,o)}),sketch:l3},N$=wn("valid-input"),z$=wn("invalid-input"),F$=wn("validating-input"),c3="colorcustom.rgb.",L$=function(t,r,o,s){var d=function(ee,oe){return bv.config({invalidClass:r("invalid"),notify:{onValidate:function(fe){Nn(fe,F$,{type:ee})},onValid:function(fe){Nn(fe,N$,{type:ee,value:an.getValue(fe)})},onInvalid:function(fe){Nn(fe,z$,{type:ee,value:an.getValue(fe)})}},validator:{validate:function(fe){var _e=an.getValue(fe),ze=oe(_e)?vr.value(!0):vr.error(t("aria.input.invalid"));return Ji.pure(ze)},validateOnLoad:!1}})},g=function(ee,oe,fe,_e,ze){var we=t(c3+"range"),Le=Jr.parts.label({dom:{tag:"label",innerHtml:fe,attributes:{"aria-label":_e}}}),ft=Jr.parts.field({data:ze,factory:XC,inputAttributes:re({type:"text"},oe==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:Zt([d(oe,ee),To.config({})]),onSetValue:function(St){if(bv.isInvalid(St)){var on=bv.run(St);on.get(q)}}}),ct=[Le,ft],Fe=oe!=="hex"?[Jr.parts["aria-descriptor"]({text:we})]:[],rt=ct.concat(Fe);return{dom:{tag:"div",attributes:{role:"presentation"}},components:rt}},C=function(ee,oe){var fe=FC(oe);return Ry.getField(ee,"hex").each(function(_e){Zn.isFocused(_e)||an.setValue(ee,{hex:fe.value})}),fe},E=function(ee,oe){var fe=oe.red,_e=oe.green,ze=oe.blue;an.setValue(ee,{red:fe,green:_e,blue:ze})},D=oa({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),$=function(ee,oe){D.getOpt(ee).each(function(fe){jn(fe.element,"background-color","#"+oe.value)})},U=function(){var ee={red:In(B.some(255)),green:In(B.some(255)),blue:In(B.some(255)),hex:In(B.some("ffffff"))},oe=function(Ct,Xt){var Cn=LC(Xt);E(Ct,Cn),we(Cn)},fe=function(Ct){return ee[Ct].get()},_e=function(Ct,Xt){ee[Ct].set(Xt)},ze=function(){return fe("red").bind(function(Ct){return fe("green").bind(function(Xt){return fe("blue").map(function(Cn){return Lg(Ct,Xt,Cn,1)})})})},we=function(Ct){var Xt=Ct.red,Cn=Ct.green,Ot=Ct.blue;_e("red",B.some(Xt)),_e("green",B.some(Cn)),_e("blue",B.some(Ot))},Le=function(Ct,Xt){var Cn=Xt.event;Cn.type!=="hex"?_e(Cn.type,B.none()):s(Ct)},ft=function(Ct,Xt){o(Ct);var Cn=qD(Xt);_e("hex",B.some(Xt));var Ot=LC(Cn);E(Ct,Ot),we(Ot),Nn(Ct,cO,{hex:Cn}),$(Ct,Cn)},ct=function(Ct,Xt,Cn){var Ot=parseInt(Cn,10);_e(Xt,B.some(Ot)),ze().each(function(bn){var An=C(Ct,bn);Nn(Ct,cO,{hex:An}),$(Ct,An)})},Fe=function(Ct){return Ct.type==="hex"},rt=function(Ct,Xt){var Cn=Xt.event;Fe(Cn)?ft(Ct,Cn.value):ct(Ct,Cn.type,Cn.value)},St=function(Ct){return{label:t(c3+Ct+".label"),description:t(c3+Ct+".description")}},on=St("red"),Dt=St("green"),ln=St("blue"),Mt=St("hex");return bt(Ry.sketch(function(Ct){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Ct.field("red",Jr.sketch(g(CT,"red",on.label,on.description,255))),Ct.field("green",Jr.sketch(g(CT,"green",Dt.label,Dt.description,255))),Ct.field("blue",Jr.sketch(g(CT,"blue",ln.label,ln.description,255))),Ct.field("hex",Jr.sketch(g(YD,"hex",Mt.label,Mt.description,"ffffff"))),D.asSpec()],formBehaviours:Zt([bv.config({invalidClass:r("form-invalid")}),ur("rgb-form-events",[$t(N$,rt),$t(z$,Le),$t(F$,Le)])])}}),{apis:{updateHex:function(Ct,Xt){an.setValue(Ct,{hex:Xt.value}),oe(Ct,Xt),$(Ct,Xt)}}})},G=Ls({factory:U,name:"RgbForm",configFields:[],apis:{updateHex:function(ee,oe,fe){ee.updateHex(oe,fe)}},extraApis:{}});return G},WN=function(t,r){var o=wf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),s=wf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),d=function($,U){var G=$.width,ee=$.height,oe=$.getContext("2d");if(oe!==null){oe.fillStyle=U,oe.fillRect(0,0,G,ee);var fe=oe.createLinearGradient(0,0,G,0);fe.addColorStop(0,"rgba(255,255,255,1)"),fe.addColorStop(1,"rgba(255,255,255,0)"),oe.fillStyle=fe,oe.fillRect(0,0,G,ee);var _e=oe.createLinearGradient(0,0,0,ee);_e.addColorStop(0,"rgba(0,0,0,0)"),_e.addColorStop(1,"rgba(0,0,0,1)"),oe.fillStyle=_e,oe.fillRect(0,0,G,ee)}},g=function($,U){var G=$.components()[0].element.dom,ee=HC(U,100,100),oe=QD(ee);d(G,nR(oe))},C=function($,U){var G=_T(LC(U));wf.setValue($,{x:G.saturation,y:100-G.value})},E=function($){var U=ne({x:0,y:0}),G=function(fe,_e,ze){Nn(fe,s3,{value:ze})},ee=function(fe,_e,ze,we){d(ze.element.dom,nR(rR))},oe=Zt([Sr.config({find:B.some}),Zn.config({})]);return wf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:U},rounded:!1,components:[o,s],onChange:G,onInit:ee,sliderBehaviours:oe})},D=Ls({factory:E,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function($,U,G){g(U,G)},setThumb:function($,U,G){C(U,G)}},extraApis:{}});return D},jN=function(t,r){var o=function(d){var g=L$(t,r,d.onValidHex,d.onInvalidHex),C=WN(t,r),E=function(rt){return(100-rt)/100*360},D=function(rt){return 100-rt/360*100},$={paletteRgba:In(rR),paletteHue:In(0)},U=oa(M$(t,r)),G=oa(C.sketch({})),ee=oa(g.sketch({})),oe=function(rt,St,on){G.getOpt(rt).each(function(Dt){C.setHue(Dt,on)})},fe=function(rt,St){ee.getOpt(rt).each(function(on){g.updateHex(on,St)})},_e=function(rt,St,on){U.getOpt(rt).each(function(Dt){wf.setValue(Dt,{y:D(on)})})},ze=function(rt,St){G.getOpt(rt).each(function(on){C.setThumb(on,St)})},we=function(rt,St){var on=LC(rt);$.paletteRgba.set(on),$.paletteHue.set(St)},Le=function(rt,St,on,Dt){we(St,on),gt(Dt,function(ln){ln(rt,St,on)})},ft=function(){var rt=[fe];return function(St,on){var Dt=on.event.value,ln=$.paletteHue.get(),Mt=HC(ln,Dt.x,100-Dt.y),Ct=iR(Mt);Le(St,Ct,ln,rt)}},ct=function(){var rt=[oe,fe];return function(St,on){var Dt=E(on.event.value.y),ln=$.paletteRgba.get(),Mt=_T(ln),Ct=HC(Dt,Mt.saturation,Mt.value),Xt=iR(Ct);Le(St,Xt,Dt,rt)}},Fe=function(){var rt=[oe,_e,ze];return function(St,on){var Dt=on.event.hex,ln=WP(Dt);Le(St,Dt,ln.hue,rt)}};return{uid:d.uid,dom:d.dom,components:[G.asSpec(),U.asSpec(),ee.asSpec()],behaviours:Zt([ur("colour-picker-events",[$t(cO,Fe()),$t(s3,ft()),$t(Ad,ct())]),Sr.config({find:function(rt){return ee.getOpt(rt)}}),Fn.config({mode:"acyclic"})])}},s=Ls({name:"ColourPicker",configFields:[At("dom"),Ve("onValidHex",q),Ve("onInvalidHex",q)],factory:o});return s},GN=function(){return Sr.config({find:B.some})},f3=function(t){return Sr.config({find:t.getOpt})},qN=function(t){return Sr.config({find:function(r){return ii(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},wv={self:GN,memento:f3,childAt:qN},H$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},V$=function(t){return H$[t]},KN=function(t){return V$(t)},XN=function(t){var r=function(C){return"tox-"+C},o=jN(KN,r),s=function(C){Nn(C,pv,{name:"hex-valid",value:!0})},d=function(C){Nn(C,pv,{name:"hex-valid",value:!1})},g=oa(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:d}));return{dom:{tag:"div"},components:[g.asSpec()],behaviours:Zt([an.config({store:{mode:"manual",getValue:function(C){var E=g.get(C),D=Sr.getCurrent(E),$=D.bind(function(U){var G=an.getValue(U);return G.hex});return $.map(function(U){return"#"+U}).getOr("")},setValue:function(C,E){var D=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,$=D.exec(E),U=g.get(C),G=Sr.getCurrent(U);G.fold(function(){console.log("Can not find form")},function(ee){an.setValue(ee,{hex:B.from($[1]).getOr("")}),Ry.getField(ee,"hex").each(function(oe){Wr(oe,Ud())})})}}}),wv.self()])}},v3=tinymce.util.Tools.resolve("tinymce.Resource"),YN=function(t){return Pr(t,"init")},JN=function(t){var r=mo(),o=oa({dom:{tag:t.tag}}),s=mo();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Zt([ur("custom-editor-events",[ir(function(d){o.getOpt(d).each(function(g){(YN(t)?t.init(g.element.dom):v3.load(t.scriptId,t.scriptUrl).then(function(C){return C(g.element.dom,t.settings)})).then(function(C){s.on(function(E){C.setValue(E)}),s.clear(),r.set(C)})})})]),an.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return s.get().getOr("")},function(d){return d.getValue()})},setValue:function(d,g){r.get().fold(function(){s.set(g)},function(C){return C.setValue(g)})}}}),wv.self()]),components:[o.asSpec()]}},Gg=tinymce.util.Tools.resolve("tinymce.util.Tools"),ZN=$n([Ve("preprocess",Se),Ve("postprocess",Se)]),d3=function(t,r){var o=sa("RepresentingConfigs.memento processors",ZN,r);return an.config({store:{mode:"manual",getValue:function(s){var d=t.get(s),g=an.getValue(d);return o.postprocess(g)},setValue:function(s,d){var g=o.preprocess(d),C=t.get(s);an.setValue(C,g)}}})},m3=function(t,r,o){return an.config(bt({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(s){return{store:{initialValue:s}}}).getOr({})))},mO=function(t,r,o){return m3(t,function(s){return r(s.element)},function(s,d){return o(s.element,d)})},QN=function(t){return mO(t,Yc,Ph)},h3=function(t){return mO(t,Gc,tv)},ez=function(t){return an.config({store:{mode:"memory",initialValue:t}})},Pm={memento:d3,withElement:mO,withComp:m3,domValue:QN,domHtml:h3,memory:ez},U$="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",tz=function(t,r){var o=Gg.explode(r.getSetting("images_file_types",U$,"string")),s=function(d){return Sn(o,function(g){return Wn(d.name.toLowerCase(),"."+g.toLowerCase())})};return Ee(va(t),s)},nz=function(t,r){var o=function(G,ee){ee.stop()},s=function(G){return function(ee,oe){gt(G,function(fe){fe(ee,oe)})}},d=function(G,ee){if(!Pn.isDisabled(G)){var oe=ee.event.raw;C(G,oe.dataTransfer.files)}},g=function(G,ee){var oe=ee.event.raw.target;C(G,oe.files)},C=function(G,ee){an.setValue(G,tz(ee,r)),Nn(G,Ll,{name:t.name})},E=oa({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Zt([ur("input-file-events",[qd(Eh()),qd(Vv())])])}),D=function(G){return{uid:G.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Zt([Pm.memory([]),wv.self(),Pn.config({}),Nr.config({toggleClass:"dragenter",toggleOnExecute:!1}),ur("dropzone-events",[$t("dragenter",s([o,Nr.toggle])),$t("dragleave",s([o,Nr.toggle])),$t("dragover",o),$t("drop",s([o,d])),$t(Ah(),g)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},ms.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[E.asSpec()],action:function(ee){var oe=E.get(ee);oe.element.dom.click()},buttonBehaviours:Zt([To.config({}),hf.button(r.isDisabled),ti()])})]}]}},$=t.label.map(function(G){return Rm(G,r)}),U=Jr.parts.field({factory:{sketch:D}});return qC($,U,["tox-form__group--stretched"],[])},W$=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:Ue(t.items,r.interpreter)}},g3=wn("alloy-fake-before-tabstop"),hO=wn("alloy-fake-after-tabstop"),gO=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Zt([Zn.config({ignore:!0}),To.config({})])}},pO=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[gO([g3]),t,gO([hO])],behaviours:Zt([wv.childAt(1)])}},bO=function(t,r){Nn(t,Cb(),{raw:{which:9,shiftKey:r}})},j$=function(t,r){var o=r.element;bu(o,g3)?bO(t,!0):bu(o,hO)&&bO(t,!1)},cS=function(t){return WC(t,["."+g3,"."+hO].join(","),pe)},rz=!(Hn().browser.isIE()||Hn().browser.isEdge()),az=function(t){var r=In("");return{getValue:function(o){return r.get()},setValue:function(o,s){if(t)lr(o.element,"srcdoc",s);else{lr(o.element,"src","javascript:''");var d=o.element.dom.contentWindow.document;d.open(),d.write(s),d.close()}r.set(s)}}},G$=function(t,r){var o=rz&&t.sandboxed,s=re(re({},t.label.map(function(D){return{title:D}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),d=az(o),g=t.label.map(function(D){return Rm(D,r)}),C=function(D){return pO({uid:D.uid,dom:{tag:"iframe",attributes:s},behaviours:Zt([To.config({}),Zn.config({}),Pm.withComp(B.none(),d.getValue,d.setValue)])})},E=Jr.parts.field({factory:{sketch:C}});return qC(g,E,["tox-form__group--stretched"],[])},$y=function(t,r){return oz(document.createElement("canvas"),t,r)},q$=function(t){var r=$y(t.width,t.height),o=Im(r);return o.drawImage(t,0,0),r},Im=function(t){return t.getContext("2d")},oz=function(t,r,o){return t.width=r,t.height=o,t},fS=function(t){return t.naturalWidth||t.width},yO=function(t){return t.naturalHeight||t.height},iz=function(t){return new $m(function(r,o){var s=URL.createObjectURL(t),d=new Image,g=function(){d.removeEventListener("load",C),d.removeEventListener("error",E)},C=function(){g(),r(d)},E=function(){g(),o("Unable to load data of type "+t.type+": "+s)};d.addEventListener("load",C),d.addEventListener("error",E),d.src=s,d.complete&&setTimeout(C,0)})},uz=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return B.none();for(var s=o[1],d=r[1],g=1024,C=atob(d),E=C.length,D=Math.ceil(E/g),$=new Array(D),U=0;U<D;++U){for(var G=U*g,ee=Math.min(G+g,E),oe=new Array(ee-G),fe=G,_e=0;fe<ee;++_e,++fe)oe[_e]=C[fe].charCodeAt(0);$[U]=new Uint8Array(oe)}return B.some(new Blob($,{type:s}))},sz=function(t){return new $m(function(r,o){uz(t).fold(function(){o("uri is not base64: "+t)},r)})},K$=function(t,r,o){return r=r||"image/png",I(HTMLCanvasElement.prototype.toBlob)?new $m(function(s,d){t.toBlob(function(g){g?s(g):d()},r,o)}):sz(t.toDataURL(r,o))},lz=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},cz=function(t){return iz(t).then(function(r){fz(r);var o=$y(fS(r),yO(r)),s=Im(o);return s.drawImage(r,0,0),o})},X$=function(t){return new $m(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},fz=function(t){URL.revokeObjectURL(t.src)},Y$=function(t,r,o){var s=r.type,d=ne(s),g=function(){return $m.resolve(r)},C=ne(o),E=function(){return o.split(",")[1]},D=function(ee,oe){return t.then(function(fe){return K$(fe,ee,oe)})},$=function(ee,oe){return t.then(function(fe){return lz(fe,ee,oe)})},U=function(ee,oe){return $(ee,oe).then(function(fe){return fe.split(",")[1]})},G=function(){return t.then(q$)};return{getType:d,toBlob:g,toDataURL:C,toBase64:E,toAdjustedBlob:D,toAdjustedDataURL:$,toAdjustedBase64:U,toCanvas:G}},J$=function(t){return X$(t).then(function(r){return Y$(cz(t),t,r)})},z1=function(t,r){return K$(t,r).then(function(o){return Y$($m.resolve(t),o,t.toDataURL())})},vz=function(t){return J$(t)},vS=function(t,r,o){var s=typeof t=="string"?parseFloat(t):t;return s>o?s=o:s<r&&(s=r),s},wO=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},CO=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],SO=function(t,r){for(var o=[],s=new Array(25),d,g=0;g<5;g++){for(var C=0;C<5;C++)o[C]=r[C+g*5];for(var C=0;C<5;C++){d=0;for(var E=0;E<5;E++)d+=t[C+E*5]*o[E];s[C+g*5]=d}}return s},Z$=function(t,r){var o;return r=vS(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=CO[r]:o=CO[Math.floor(r)]*(1-o)+CO[Math.floor(r)+1]*o,o=o*127+127),SO(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},Q$=function(t,r){return r=vS(255*r,-255,255),SO(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},eB=function(t,r,o,s){return r=vS(r,0,2),o=vS(o,0,2),s=vS(s,0,2),SO(t,[r,0,0,0,0,0,o,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},_O=function(t,r){return t.toCanvas().then(function(o){return tB(o,t.getType(),r)})},tB=function(t,r,o){var s=Im(t),d=function(C,E){for(var D,$,U,G,ee=C.data,oe=E[0],fe=E[1],_e=E[2],ze=E[3],we=E[4],Le=E[5],ft=E[6],ct=E[7],Fe=E[8],rt=E[9],St=E[10],on=E[11],Dt=E[12],ln=E[13],Mt=E[14],Ct=E[15],Xt=E[16],Cn=E[17],Ot=E[18],bn=E[19],An=0;An<ee.length;An+=4)D=ee[An],$=ee[An+1],U=ee[An+2],G=ee[An+3],ee[An]=D*oe+$*fe+U*_e+G*ze+we,ee[An+1]=D*Le+$*ft+U*ct+G*Fe+rt,ee[An+2]=D*St+$*on+U*Dt+G*ln+Mt,ee[An+3]=D*Ct+$*Xt+U*Cn+G*Ot+bn;return C},g=d(s.getImageData(0,0,t.width,t.height),o);return s.putImageData(g,0,0),z1(t,r)},nB=function(t,r){return t.toCanvas().then(function(o){return dz(o,t.getType(),r)})},dz=function(t,r,o){var s=Im(t),d=function(E,D,$){for(var U=function(Xt,Cn,Ot){return Xt>Ot?Xt=Ot:Xt<Cn&&(Xt=Cn),Xt},G=Math.round(Math.sqrt($.length)),ee=Math.floor(G/2),oe=E.data,fe=D.data,_e=E.width,ze=E.height,we=0;we<ze;we++)for(var Le=0;Le<_e;Le++){for(var ft=0,ct=0,Fe=0,rt=0;rt<G;rt++)for(var St=0;St<G;St++){var on=U(Le+St-ee,0,_e-1),Dt=U(we+rt-ee,0,ze-1),ln=(Dt*_e+on)*4,Mt=$[rt*G+St];ft+=oe[ln]*Mt,ct+=oe[ln+1]*Mt,Fe+=oe[ln+2]*Mt}var Ct=(we*_e+Le)*4;fe[Ct]=U(ft,0,255),fe[Ct+1]=U(ct,0,255),fe[Ct+2]=U(Fe,0,255)}return D},g=s.getImageData(0,0,t.width,t.height),C=s.getImageData(0,0,t.width,t.height);return C=d(g,C,o),s.putImageData(C,0,0),z1(t,r)},mz=function(t){var r=function(o,s,d){for(var g=Im(o),C=new Array(256),E=function(U,G){for(var ee=U.data,oe=0;oe<ee.length;oe+=4)ee[oe]=G[ee[oe]],ee[oe+1]=G[ee[oe+1]],ee[oe+2]=G[ee[oe+2]];return U},D=0;D<C.length;D++)C[D]=t(D,d);var $=E(g.getImageData(0,0,o.width,o.height),C);return g.putImageData($,0,0),z1(o,s)};return function(o,s){return o.toCanvas().then(function(d){return r(d,o.getType(),s)})}},rB=function(t){return function(r,o){return _O(r,t(wO(),o))}},hz=function(t){return function(r){return _O(r,t)}},gz=function(t){return function(r){return nB(r,t)}},pz=hz([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),aB=rB(Q$),bz=rB(Z$),yz=function(t,r,o,s){return _O(t,eB(wO(),r,o,s))},wz=gz([0,-1,0,-1,5,-1,0,-1,0]),Fr=mz(function(t,r){return Math.pow(t/255,1-r)*255}),F1=function(t,r,o){var s=fS(t),d=yO(t),g=r/s,C=o/d,E=!1;(g<.5||g>2)&&(g=g<.5?.5:2,E=!0),(C<.5||C>2)&&(C=C<.5?.5:2,E=!0);var D=oB(t,g,C);return E?D.then(function($){return F1($,r,o)}):D},oB=function(t,r,o){return new $m(function(s){var d=fS(t),g=yO(t),C=Math.floor(d*r),E=Math.floor(g*o),D=$y(C,E),$=Im(D);$.drawImage(t,0,0,d,g,0,0,C,E),s(D)})},xO=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),s=Math.round(t*o);return Math.ceil(s/o)},iB=function(t,r){return t.toCanvas().then(function(o){return Cz(o,t.getType(),r)})},Cz=function(t,r,o){var s=o<0?360+o:o,d=s*Math.PI/180,g=t.width,C=t.height,E=Math.sin(d),D=Math.cos(d),$=xO(Math.abs(g*D)+Math.abs(C*E)),U=xO(Math.abs(g*E)+Math.abs(C*D)),G=$y($,U),ee=Im(G);return ee.translate($/2,U/2),ee.rotate(d),ee.drawImage(t,-g/2,-C/2),z1(G,r)},Sz=function(t,r){return t.toCanvas().then(function(o){return _z(o,t.getType(),r)})},_z=function(t,r,o){var s=$y(t.width,t.height),d=Im(s);return o==="v"?(d.scale(1,-1),d.drawImage(t,0,-s.height)):(d.scale(-1,1),d.drawImage(t,-s.width,0)),z1(s,r)},uB=function(t,r,o,s,d){return t.toCanvas().then(function(g){return xz(g,t.getType(),r,o,s,d)})},xz=function(t,r,o,s,d,g){var C=$y(d,g),E=Im(C);return E.drawImage(t,-o,-s),z1(C,r)},kz=function(t,r,o){return t.toCanvas().then(function(s){return F1(s,r,o).then(function(d){return z1(d,t.getType())})})},Az=function(t){return pz(t)},Ez=function(t){return wz(t)},Tz=function(t,r){return Fr(t,r)},Oz=function(t,r,o,s){return yz(t,r,o,s)},Dz=function(t,r){return aB(t,r)},Rz=function(t,r){return bz(t,r)},sB=function(t,r){return Sz(t,r)},$z=function(t,r,o,s,d){return uB(t,r,o,s,d)},Bz=function(t,r,o){return kz(t,r,o)},kO=function(t,r){return iB(t,r)},lB=function(t,r,o){return gv(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},r)},p3=function(t,r){return lB(t,r,[])},cB=function(t,r){return lB(t,r,[nr.config({})])},AO=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:Zt([nr.config({})])}},EO,fB=wn("toolbar.button.execute"),vB=function(t){return cs(function(r,o){ky(t,r)(function(s){Nn(r,fB,{buttonApi:s}),t.onAction(s)})})},dB=(EO={},EO[Rs()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],EO),L1=wn("update-menu-text"),mB=wn("update-menu-icon"),b3=function(t,r,o){var s=In(q),d=t.text.map(function(G){return oa(AO(G,r,o.providers))}),g=t.icon.map(function(G){return oa(cB(G,o.providers.icons))}),C=function(G,ee){var oe=an.getValue(G);return Zn.focus(oe),Nn(oe,"keydown",{raw:ee.event.raw}),pf.close(oe),B.some(!0)},E=t.role.fold(function(){return{}},function(G){return{role:G}}),D=t.tooltip.fold(function(){return{}},function(G){var ee=o.providers.translate(G);return{title:ee,"aria-label":ee}}),$=gv("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},o.providers.icons),U=oa(pf.sketch(re(re(re({},t.uid?{uid:t.uid}:{}),E),{dom:{tag:"button",classes:[r,r+"--select"].concat(Ue(t.classes,function(G){return r+"--"+G})),attributes:re({},D)},components:Tm([g.map(function(G){return G.asSpec()}),d.map(function(G){return G.asSpec()}),B.some($)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Zt(ke(ke([],t.dropdownBehaviours,!0),[hf.button(function(){return t.disabled||o.providers.isDisabled()}),ti(),JC.config({}),nr.config({}),ur("dropdown-events",[A1(t,s),E1(t,s)]),ur("menubutton-update-display-text",[$t(L1,function(G,ee){d.bind(function(oe){return oe.getOpt(G)}).each(function(oe){nr.set(oe,[Ri(o.providers.translate(ee.event.text))])})}),$t(mB,function(G,ee){g.bind(function(oe){return oe.getOpt(G)}).each(function(oe){nr.set(oe,[cB(ee.event.icon,o.providers.icons)])})})])],!1)),eventOrder:bt(dB,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Zt([Fn.config({mode:"special",onLeft:C,onRight:C})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:x1(!1,t.columns,t.presets)},fetch:function(G){return Ji.nu(xe(t.fetch,G))}})));return U.asSpec()},hB=function(t){return S(t)},y3=function(t){return t.type==="separator"},Mz=function(t){return Pr(t,"getSubmenuItems")},Pz={type:"separator"},Iz=function(t,r){var o=tt(t,function(s,d){return hB(d)?d===""?s:d==="|"?s.length>0&&!y3(s[s.length-1])?s.concat([Pz]):s:Pr(r,d.toLowerCase())?s.concat([r[d.toLowerCase()]]):s:s.concat([d])},[]);return o.length>0&&y3(o[o.length-1])&&o.pop(),o},Nz=function(t,r){var o=t.getSubmenuItems(),s=By(o,r),d=bt(s.menus,Uc(t.value,s.items)),g=bt(s.expansions,Uc(t.value,t.value));return{item:t,menus:d,expansions:g}},zz=function(t,r){return Mz(t)?Nz(t,r):{item:t,menus:{},expansions:{}}},Fz=function(t){if(y3(t))return t;var r=En(t,"value").getOrThunk(function(){return wn("generated-menu-item")});return bt({value:r},t)},By=function(t,r){var o=Iz(S(t)?t.split(" "):t,r);return Ze(o,function(s,d){var g=Fz(d),C=zz(g,r);return{menus:bt(s.menus,C.menus),items:[C.item].concat(s.items),expansions:bt(s.expansions,C.expansions)}},{menus:{},expansions:{},items:[]})},My=function(t,r,o,s){var d=wn("primary-menu"),g=By(t,o.shared.providers.menuItems());if(g.items.length===0)return B.none();var C=AR(d,g.items,r,o,s),E=fr(g.menus,function($,U){return AR(U,$,r,o,!1)}),D=bt(E,Uc(d,C));return B.from(fa.tieredData(d,D,g.expansions))},TO=function(t){return{isDisabled:function(){return Pn.isDisabled(t)},setDisabled:function(r){return Pn.set(t,r)},setActive:function(r){var o=t.element;r?(Wo(o,"tox-tbtn--enabled"),lr(o,"aria-pressed",!0)):(Io(o,"tox-tbtn--enabled"),ui(o,"aria-pressed"))},isActive:function(){return bu(t.element,"tox-tbtn--enabled")}}},OO=function(t,r,o,s){return b3({text:t.text,icon:t.icon,tooltip:t.tooltip,role:s,fetch:function(d,g){t.fetch(function(C){g(My(C,uu.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:TO,columns:1,presets:"normal",classes:[],dropdownBehaviours:[To.config({})]},r,o.shared)},Lz=function(t,r,o){var s=function(g){return function(C){var E=!C.isActive();C.setActive(E),g.storage.set(E),o.shared.getSink().each(function(D){r().getOpt(D).each(function($){vc($.element),Nn($,pv,{name:g.name,value:g.storage.get()})})})}},d=function(g){return function(C){C.setActive(g.storage.get())}};return function(g){g(Ue(t,function(C){var E=C.text.fold(function(){return{}},function(D){return{text:D}});return re(re({type:C.type,active:!1},E),{onAction:s(C),onSetup:d(C)})}))}},gB=function(t,r,o,s,d,g){o===void 0&&(o=[]);var C=r.fold(function(){return{}},function($){return{action:$}}),E=re({buttonBehaviours:Zt([hf.button(function(){return t.disabled||g.isDisabled()}),ti(),To.config({}),ur("button press",[Ob("click"),Ob("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},C),D=bt(E,{dom:s});return bt(D,{components:d})},pB=function(t,r,o,s){s===void 0&&(s=[]);var d=t.tooltip.map(function(D){return{"aria-label":o.translate(D),title:o.translate(D)}}).getOr({}),g={tag:"button",classes:["tox-tbtn"],attributes:d},C=t.icon.map(function(D){return p3(D,o.icons)}),E=Tm([C]);return gB(t,r,s,g,E,o)},DO=function(t,r,o,s){s===void 0&&(s=[]);var d=pB(t,B.some(r),o,s);return ms.sketch(d)},RO=function(t,r,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=o.translate(t.text),C=t.icon?t.icon.map(function(G){return p3(G,o.icons)}):B.none(),E=C.isSome()?Tm([C]):[],D=C.isSome()?{}:{innerHtml:g},$=ke(ke(ke(ke([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),C.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),d,!0),U=re(re({tag:"button",classes:$},D),{attributes:{title:g}});return gB(t,r,s,U,E,o)},$O=function(t,r,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=RO(t,B.some(r),o,s,d);return ms.sketch(g)},dS=function(t,r){return function(o){r==="custom"?Nn(o,pv,{name:t,value:{}}):r==="submit"?Wr(o,cl):r==="cancel"?Wr(o,O1):console.error("Unknown button type: ",r)}},w3=function(t,r){return r==="menu"},Hz=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},C3=function(t,r,o){if(w3(t,r)){var s=function(){return C},d=t,g=re(re({},t),{onSetup:function($){return $.setDisabled(t.disabled),q},fetch:Lz(d.items,s,o)}),C=oa(OO(g,"tox-tbtn",o,B.none()));return C.asSpec()}else if(Hz(t,r)){var E=dS(t.name,r),D=re(re({},t),{borderless:!1});return $O(D,E,o.shared.providers,[])}else console.error("Unknown footer button type: ",r)},Vz=function(t,r){var o=dS(t.name,"custom");return MI(B.none(),Jr.parts.field(re({factory:ms},RO(t,B.some(o),r,[Pm.memory(""),wv.self()]))))},Uz=ne([Ve("field1Name","field1"),Ve("field2Name","field2"),wu("onLockedChange"),nm(["lockClass"]),Ve("locked",!1),il.field("coupledFieldBehaviours",[Sr,an])]),BO=function(t,r,o){return pa(t,r,o).bind(Sr.getCurrent)},S3=function(t,r){return Ii({factory:Jr,name:t,overrides:function(o){return{fieldBehaviours:Zt([ur("coupled-input-behaviour",[$t(Ud(),function(s){BO(s,o,r).each(function(d){pa(s,o,"lock").each(function(g){Nr.isOn(g)&&o.onLockedChange(s,d,g)})})})])])}}})},bB=ne([S3("field1","field2"),S3("field2","field1"),Ii({factory:ms,schema:[At("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Zt([Nr.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),Wz=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:il.augment(t.coupledFieldBehaviours,[Sr.config({find:B.some}),an.config({store:{mode:"manual",getValue:function(d){var g,C=L0(d,t,["field1","field2"]);return g={},g[t.field1Name]=an.getValue(C.field1()),g[t.field2Name]=an.getValue(C.field2()),g},setValue:function(d,g){var C=L0(d,t,["field1","field2"]);lo(g,t.field1Name)&&an.setValue(C.field1(),g[t.field1Name]),lo(g,t.field2Name)&&an.setValue(C.field2(),g[t.field2Name])}}})]),apis:{getField1:function(d){return pa(d,t,"field1")},getField2:function(d){return pa(d,t,"field2")},getLock:function(d){return pa(d,t,"lock")}}}},Vs=xu({name:"FormCoupledInputs",configFields:Uz(),partFields:bB(),factory:Wz,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),jz=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(d){return d in r?r[d]:1},s=t.value.toFixed(o(t.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+t.unit},MO=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var s=parseFloat(o[1]),d=o[2];return vr.value({value:s,unit:d})}else return vr.error(t)},PO=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(d){return Pr(o,d)};return t.unit===r?B.some(t.value):s(t.unit)&&s(r)?o[t.unit]===o[r]?B.some(t.value):B.some(t.value/o[t.unit]*o[r]):B.none()},IO=function(t){return B.none()},mS=function(t,r){return function(o){return PO(o,r).map(function(s){return{value:s*t,unit:r}})}},Gz=function(t,r){var o=MO(t).toOptional(),s=MO(r).toOptional();return Gs(o,s,function(d,g){return PO(d,g.unit).map(function(C){return g.value/C}).map(function(C){return mS(C,g.unit)}).getOr(IO)}).getOr(IO)},yB=function(t,r){var o=IO,s=wn("ratio-event"),d=function(G){return gv(G,{tag:"span",classes:["tox-icon","tox-lock-icon__"+G]},r.icons)},g=Vs.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[d("lock"),d("unlock")],buttonBehaviours:Zt([Pn.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),To.config({})])}),C=function(G){return{dom:{tag:"div",classes:["tox-form__group"]},components:G}},E=function(G){return Jr.parts.field({factory:XC,inputClasses:["tox-textfield"],inputBehaviours:Zt([Pn.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),To.config({}),ur("size-input-events",[$t(tl(),function(ee,oe){Nn(ee,s,{isField1:G})}),$t(Ah(),function(ee,oe){Nn(ee,Ll,{name:t.name})})])]),selectOnFocus:!1})},D=function(G){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(G)}}},$=Vs.parts.field1(C([Jr.parts.label(D("Width")),E(!0)])),U=Vs.parts.field2(C([Jr.parts.label(D("Height")),E(!1)]));return Vs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[$,U,C([D("&nbsp;"),g])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(G,ee,oe){MO(an.getValue(G)).each(function(fe){o(fe).each(function(_e){an.setValue(ee,jz(_e))})})},coupledFieldBehaviours:Zt([Pn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(G){Vs.getField1(G).bind(Jr.getField).each(Pn.disable),Vs.getField2(G).bind(Jr.getField).each(Pn.disable),Vs.getLock(G).each(Pn.disable)},onEnabled:function(G){Vs.getField1(G).bind(Jr.getField).each(Pn.enable),Vs.getField2(G).bind(Jr.getField).each(Pn.enable),Vs.getLock(G).each(Pn.enable)}}),ti(),ur("size-input-events2",[$t(s,function(G,ee){var oe=ee.event.isField1,fe=oe?Vs.getField1(G):Vs.getField2(G),_e=oe?Vs.getField2(G):Vs.getField1(G),ze=fe.map(an.getValue).getOr(""),we=_e.map(an.getValue).getOr("");o=Gz(ze,we)})])])})},qz=ne(wn("undo")),Kz=ne(wn("redo")),wB=ne(wn("zoom")),Xz=ne(wn("back")),Yz=ne(wn("apply")),Jz=ne(wn("swap")),Zz=ne(wn("transform")),Qz=ne(wn("temp-transform")),CB=ne(wn("transform-apply")),Au={undo:qz,redo:Kz,zoom:wB,back:Xz,apply:Yz,swap:Jz,transform:Zz,tempTransform:Qz,transformApply:CB},eF=ne("save-state"),tF=ne("disable"),SB=ne("enable"),gs={formActionEvent:pv,saveState:eF,disable:tF,enable:SB},nF=function(t,r){var o=function(dn,mr,la,Qa){return oa($O({name:dn,text:dn,disabled:la,primary:Qa,icon:B.none(),borderless:!1},mr,r))},s=function(dn,mr,la,Qa){return oa(DO({name:dn,icon:B.some(dn),tooltip:B.some(mr),disabled:Qa,primary:!1,borderless:!1},la,r))},d=function(dn,mr){dn.map(function(la){var Qa=la.get(mr);Qa.hasConfigured(Pn)&&Pn.disable(Qa)})},g=function(dn,mr){dn.map(function(la){var Qa=la.get(mr);Qa.hasConfigured(Pn)&&Pn.enable(Qa)})},C={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},E=q,D=function(dn,mr,la){Nn(dn,mr,la)},$=function(dn){return Wr(dn,gs.disable())},U=function(dn){return Wr(dn,gs.enable())},G=function(dn,mr){$(dn),D(dn,Au.transform(),{transform:mr}),U(dn)},ee=function(dn,mr){$(dn),D(dn,Au.tempTransform(),{transform:mr}),U(dn)},oe=function(dn){return function(){Ev.getOpt(dn).each(function(mr){nr.set(mr,[tp])})}},fe=function(dn,mr){$(dn),D(dn,Au.transformApply(),{transform:mr,swap:oe(dn)}),U(dn)},_e=function(){return o("Back",function(dn){return D(dn,Au.back(),{swap:oe(dn)})},!1,!1)},ze=function(){return oa({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Zt([Pn.config({})])})},we=function(){return o("Apply",function(dn){return D(dn,Au.apply(),{swap:oe(dn)})},!0,!0)},Le=function(){return function(dn){var mr=t.getRect();return $z(dn,mr.x,mr.y,mr.w,mr.h)}},ft=[_e(),ze(),o("Apply",function(dn){var mr=Le();fe(dn,mr),t.hideCrop()},!1,!0)],ct=ku.sketch({dom:C,components:ft.map(function(dn){return dn.asSpec()}),containerBehaviours:Zt([ur("image-tools-crop-buttons-events",[$t(gs.disable(),function(dn,mr){d(ft,dn)}),$t(gs.enable(),function(dn,mr){g(ft,dn)})])])}),Fe=oa(yB({name:"size",label:B.none(),constrain:!0,disabled:!1},r)),rt=function(dn,mr){return function(la){return Bz(la,dn,mr)}},St=[_e(),ze(),Fe,ze(),o("Apply",function(dn){Fe.getOpt(dn).each(function(mr){var la=an.getValue(mr),Qa=parseInt(la.width,10),ws=parseInt(la.height,10),Xu=rt(Qa,ws);fe(dn,Xu)})},!1,!0)],on=ku.sketch({dom:C,components:St.map(function(dn){return dn.asSpec()}),containerBehaviours:Zt([ur("image-tools-resize-buttons-events",[$t(gs.disable(),function(dn,mr){d(St,dn)}),$t(gs.enable(),function(dn,mr){g(St,dn)})])])}),Dt=function(dn,mr){return function(la){return dn(la,mr)}},ln=Dt(sB,"h"),Mt=Dt(sB,"v"),Ct=Dt(kO,-90),Xt=Dt(kO,90),Cn=function(dn,mr){ee(dn,mr)},Ot=[_e(),ze(),s("flip-horizontally","Flip horizontally",function(dn){Cn(dn,ln)},!1),s("flip-vertically","Flip vertically",function(dn){Cn(dn,Mt)},!1),s("rotate-left","Rotate counterclockwise",function(dn){Cn(dn,Ct)},!1),s("rotate-right","Rotate clockwise",function(dn){Cn(dn,Xt)},!1),ze(),we()],bn=ku.sketch({dom:C,components:Ot.map(function(dn){return dn.asSpec()}),containerBehaviours:Zt([ur("image-tools-fliprotate-buttons-events",[$t(gs.disable(),function(dn,mr){d(Ot,dn)}),$t(gs.enable(),function(dn,mr){g(Ot,dn)})])])}),An=function(dn,mr,la,Qa,ws){var Xu=wf.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(dn)}}),dl=wf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),Tc=wf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return oa(wf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:la,maxX:ws,getInitialValue:ne({x:Qa})},components:[Xu,dl,Tc],sliderBehaviours:Zt([Zn.config({})]),onChoose:mr}))},Ar=function(dn,mr,la,Qa,ws){var Xu=function(dl,Tc,Uy){var DS=Dt(mr,Uy.x/100);G(dl,DS)};return An(dn,Xu,la,Qa,ws)},ia=function(dn,mr,la,Qa,ws){return[_e(),Ar(dn,mr,la,Qa,ws),we()]},Pa=function(dn,mr,la,Qa,ws){var Xu=ia(dn,mr,la,Qa,ws);return ku.sketch({dom:C,components:Xu.map(function(dl){return dl.asSpec()}),containerBehaviours:Zt([ur("image-tools-filter-panel-buttons-events",[$t(gs.disable(),function(dl,Tc){d(Xu,dl)}),$t(gs.enable(),function(dl,Tc){g(Xu,dl)})])])})},so=[_e(),ze(),we()],vl=ku.sketch({dom:C,components:so.map(function(dn){return dn.asSpec()})}),Tu=Pa("Brightness",Dz,-100,0,100),Q3=Pa("Contrast",Rz,-100,0,100),bi=Pa("Gamma",Tz,-100,0,100),Y1=function(dn,mr,la){return function(Qa){return Oz(Qa,dn,mr,la)}},J1=function(dn){var mr=function(la,Qa,ws){var Xu=ES.getOpt(la),dl=TS.getOpt(la),Tc=Z1.getOpt(la);Xu.each(function(Uy){dl.each(function(DS){Tc.each(function(Wy){var q7=an.getValue(Uy).x/100,K7=an.getValue(Wy).x/100,eb=an.getValue(DS).x/100,jy=Y1(q7,K7,eb);G(la,jy)})})})};return An(dn,mr,0,100,200)},ES=J1("R"),Z1=J1("G"),TS=J1("B"),ys=[_e(),ES,Z1,TS,we()],Av=ku.sketch({dom:C,components:ys.map(function(dn){return dn.asSpec()})}),Ku=function(dn,mr,la){return function(Qa){var ws=function(){Ev.getOpt(Qa).each(function(Xu){nr.set(Xu,[dn]),la(Xu)})};D(Qa,Au.swap(),{transform:mr,swap:ws})}},OS=function(dn){t.showCrop()},ep=function(dn){Fe.getOpt(dn).each(function(mr){var la=t.getMeasurements(),Qa=la.width,ws=la.height;an.setValue(mr,{width:Qa,height:ws})})},Vy=B.some(Ez),yi=B.some(Az),Hm=[s("crop","Crop",Ku(ct,B.none(),OS),!1),s("resize","Resize",Ku(on,B.none(),ep),!1),s("orientation","Orientation",Ku(bn,B.none(),E),!1),s("brightness","Brightness",Ku(Tu,B.none(),E),!1),s("sharpen","Sharpen",Ku(vl,Vy,E),!1),s("contrast","Contrast",Ku(Q3,B.none(),E),!1),s("color-levels","Color levels",Ku(Av,B.none(),E),!1),s("gamma","Gamma",Ku(bi,B.none(),E),!1),s("invert","Invert",Ku(vl,yi,E),!1)],tp=ku.sketch({dom:C,components:Hm.map(function(dn){return dn.asSpec()})}),Q1=ku.sketch({dom:{tag:"div"},components:[tp],containerBehaviours:Zt([nr.config({})])}),Ev=oa(Q1),np=function(dn){return Ev.getOpt(dn).map(function(mr){var la=mr.components()[0];return la.components()[la.components().length-1]})};return{memContainer:Ev,getApplyButton:np}},_B=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Hl=tinymce.util.Tools.resolve("tinymce.util.Observable"),Py=tinymce.util.Tools.resolve("tinymce.util.VK"),NO=function(t){var r=Math.max,o=t.documentElement,s=t.body,d=r(o.scrollWidth,s.scrollWidth),g=r(o.clientWidth,s.clientWidth),C=r(o.offsetWidth,s.offsetWidth),E=r(o.scrollHeight,s.scrollHeight),D=r(o.clientHeight,s.clientHeight),$=r(o.offsetHeight,s.offsetHeight);return{width:d<C?g:d,height:E<$?D:E}},xB=function(t){return H(t.changedTouches)},_3=function(t){if(xB(t))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function x3(t,r){var o,s,d,g,C=[],E=[],D=(o=r.document)!==null&&o!==void 0?o:document,$=(s=r.root)!==null&&s!==void 0?s:D,U=sn.fromDom(D),G,ee,oe,fe=sn.fromDom($.getElementById((d=r.handle)!==null&&d!==void 0?d:t)),_e=function(ft){var ct=ft.raw,Fe=NO(D);_3(ct),ft.prevent(),G=ct.button,ee=ct.screenX,oe=ct.screenY;var rt=ro(fe,"cursor");g=sn.fromTag("div",D),rs(g,{position:"absolute",top:"0",left:"0",width:Fe.width+"px",height:Fe.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:rt}),Ui(xo(U),g),E.push(wo(U,"mousemove",ze),wo(U,"touchmove",ze),wo(U,"mouseup",we),wo(U,"touchend",we)),r.start(ct)},ze=function(ft){var ct=ft.raw;if(_3(ct),ct.button!==G)return we(ft);ct.deltaX=ct.screenX-ee,ct.deltaY=ct.screenY-oe,ft.prevent(),r.drag(ct)},we=function(ft){_3(ft.raw),gt(E,function(ct){return ct.unbind()}),E=[],Bu(g),r.stop&&r.stop(ft.raw)},Le=function(){gt(E.concat(C),function(ft){return ft.unbind()}),E=[],C=[],H(g)&&Bu(g)};return C.push(wo(fe,"mousedown",_e),wo(fe,"touchstart",_e)),{destroy:Le}}var rF=0,k3=function(t,r,o,s,d){var g,C=[],E="tox-",D=E+"crid-"+rF++,$=sn.fromDom(s),U=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],G=["top","right","bottom","left"],ee=function(Dt,ln){return{x:ln.x+Dt.x,y:ln.y+Dt.y,w:ln.w,h:ln.h}},oe=function(Dt,ln){return{x:ln.x-Dt.x,y:ln.y-Dt.y,w:ln.w,h:ln.h}},fe=function(){return oe(o,t)},_e=function(Dt,ln,Mt,Ct){var Xt=ln.x+Mt*Dt.deltaX,Cn=ln.y+Ct*Dt.deltaY,Ot=Math.max(20,ln.w+Mt*Dt.deltaW),bn=Math.max(20,ln.h+Ct*Dt.deltaH),An=t=_B.clamp({x:Xt,y:Cn,w:Ot,h:bn},o,Dt.name==="move");An=oe(o,An),on.fire("updateRect",{rect:An}),Fe(An)},ze=function(){var Dt=function(Xt){var Cn;return x3(D,{document:s.ownerDocument,root:xs($).dom,handle:D+"-"+Xt.name,start:function(){Cn=t},drag:function(Ot){_e(Xt,Cn,Ot.deltaX,Ot.deltaY)}})},ln=sn.fromTag("div");ns(ln,{id:D,class:E+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Ui($,ln),gt(G,function(Xt){jo($,"#"+D).each(function(Cn){var Ot=sn.fromTag("div");ns(Ot,{id:D+"-"+Xt,class:E+"croprect-block","data-mce-bogus":"all"}),jn(Ot,"display","none"),Ui(Cn,Ot)})}),gt(U,function(Xt){jo($,"#"+D).each(function(Cn){var Ot=sn.fromTag("div");ns(Ot,{id:D+"-"+Xt.name,"aria-label":Xt.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:Xt.label}),Zd(Ot,[E+"croprect-handle",E+"croprect-handle-"+Xt.name]),jn(Ot,"display","none"),Ui(Cn,Ot)})}),g=Ue(U,Dt),Le(t);var Mt=function(Xt){lr(Xt.target,"aria-grabbed",Xt.raw.type==="focus"?"true":"false")},Ct=function(Xt){var Cn;gt(U,function(bn){if(Fa(Xt.target,"id")===D+"-"+bn.name)return Cn=bn,!1});var Ot=function(bn,An,Ar,ia,Pa){bn.stopPropagation(),bn.preventDefault(),_e(Cn,Ar,ia,Pa)};switch(Xt.raw.keyCode){case Py.LEFT:Ot(Xt,Cn,t,-10,0);break;case Py.RIGHT:Ot(Xt,Cn,t,10,0);break;case Py.UP:Ot(Xt,Cn,t,0,-10);break;case Py.DOWN:Ot(Xt,Cn,t,0,10);break;case Py.ENTER:case Py.SPACEBAR:Xt.prevent(),d();break}};C.push(wo($,"focusin",Mt),wo($,"focusout",Mt),wo($,"keydown",Ct))},we=function(Dt){var ln=ke(ke([],Ue(U,function(Ct){return"#"+D+"-"+Ct.name}),!0),Ue(G,function(Ct){return"#"+D+"-"+Ct}),!0).join(","),Mt=au($,ln);Dt?gt(Mt,function(Ct){return Kr(Ct,"display")}):gt(Mt,function(Ct){return jn(Ct,"display","none")})},Le=function(Dt){var ln=function(Mt,Ct){jo($,"#"+D+"-"+Mt).each(function(Xt){rs(Xt,{left:Ct.x+"px",top:Ct.y+"px",width:Math.max(0,Ct.w)+"px",height:Math.max(0,Ct.h)+"px"})})};gt(U,function(Mt){jo($,"#"+D+"-"+Mt.name).each(function(Ct){rs(Ct,{left:Dt.w*Mt.xMul+Dt.x+"px",top:Dt.h*Mt.yMul+Dt.y+"px"})})}),ln("top",{x:r.x,y:r.y,w:r.w,h:Dt.y-r.y}),ln("right",{x:Dt.x+Dt.w,y:Dt.y,w:r.w-Dt.x-Dt.w+r.x,h:Dt.h}),ln("bottom",{x:r.x,y:Dt.y+Dt.h,w:r.w,h:r.h-Dt.y-Dt.h+r.y}),ln("left",{x:r.x,y:Dt.y,w:Dt.x-r.x,h:Dt.h}),ln("move",Dt)},ft=function(Dt){t=Dt,Le(t)},ct=function(Dt){r=Dt,Le(t)},Fe=function(Dt){ft(ee(o,Dt))},rt=function(Dt){o=Dt,Le(t)},St=function(){gt(g,function(Dt){return Dt.destroy()}),g=[],gt(C,function(Dt){return Dt.unbind()}),C=[]};ze();var on=re(re({},Hl),{toggleVisibility:we,setClampRect:rt,setRect:ft,getInnerRect:fe,setInnerRect:Fe,setViewPortRect:ct,destroy:St});return on},aF={create:k3},hS=function(t){return new OC(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},kB=function(t){var r=oa({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=In(1),s=ew(),d=In({x:0,y:0,w:1,h:1}),g=In({x:0,y:0,w:1,h:1}),C=function(ze,we){fe.getOpt(ze).each(function(Le){var ft=o.get(),ct=Vi(Le.element),Fe=Mo(Le.element),rt=we.dom.naturalWidth*ft,St=we.dom.naturalHeight*ft,on=Math.max(0,ct/2-rt/2),Dt=Math.max(0,Fe/2-St/2),ln={left:on.toString()+"px",top:Dt.toString()+"px",width:rt.toString()+"px",height:St.toString()+"px",position:"absolute"};rs(we,ln),r.getOpt(Le).each(function(Mt){rs(Mt.element,ln)}),s.run(function(Mt){var Ct=d.get();Mt.setRect({x:Ct.x*ft+on,y:Ct.y*ft+Dt,w:Ct.w*ft,h:Ct.h*ft}),Mt.setClampRect({x:on,y:Dt,w:rt,h:St}),Mt.setViewPortRect({x:0,y:0,w:ct,h:Fe})})})},E=function(ze,we){fe.getOpt(ze).each(function(Le){var ft=Vi(Le.element),ct=Mo(Le.element),Fe=we.dom.naturalWidth,rt=we.dom.naturalHeight,St=Math.min(ft/Fe,ct/rt);St>=1?o.set(1):o.set(St)})},D=function(ze,we){var Le=sn.fromTag("img");return lr(Le,"src",we),hS(Le.dom).then(function(){ze.getSystem().isConnected()&&fe.getOpt(ze).map(function(ft){var ct=Hb({element:Le});nr.replaceAt(ft,1,B.some(ct));var Fe=g.get(),rt={x:0,y:0,w:Le.dom.naturalWidth,h:Le.dom.naturalHeight};g.set(rt);var St=_B.inflate(rt,-20,-20);d.set(St),(Fe.w!==rt.w||Fe.h!==rt.h)&&E(ft,Le),C(ft,Le)})})},$=function(ze,we){var Le=o.get(),ft=we>0?Math.min(2,Le+.1):Math.max(.1,Le-.1);o.set(ft),fe.getOpt(ze).each(function(ct){var Fe=ct.components()[1].element;C(ct,Fe)})},U=function(){s.run(function(ze){ze.toggleVisibility(!0)})},G=function(){s.run(function(ze){ze.toggleVisibility(!1)})},ee=function(){return d.get()},oe=ku.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Zt([ur("image-panel-crop-events",[ir(function(ze){fe.getOpt(ze).each(function(we){var Le=we.element.dom,ft=aF.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Le,q);ft.toggleVisibility(!1),ft.on("updateRect",function(ct){var Fe=ct.rect,rt=o.get(),St={x:Math.round(Fe.x/rt),y:Math.round(Fe.y/rt),w:Math.round(Fe.w/rt),h:Math.round(Fe.h/rt)};d.set(St)}),s.set(ft)})}),Ms(function(){s.clear()})])])}],containerBehaviours:Zt([nr.config({}),ur("image-panel-events",[ir(function(ze){D(ze,t)})])])}),fe=oa(oe),_e=function(){var ze=g.get();return{width:ze.w,height:ze.h}};return{memContainer:fe,updateSrc:D,zoom:$,showCrop:U,hideCrop:G,getRect:ee,getMeasurements:_e}},Us=function(t,r,o,s,d){return DO({name:t,icon:B.some(r),disabled:o,tooltip:B.some(t),primary:!1,borderless:!1},s,d)},AB=function(t,r){r?Pn.enable(t):Pn.disable(t)},EB=function(t){var r=function(g,C,E){o.getOpt(g).each(function(D){AB(D,C)}),s.getOpt(g).each(function(D){AB(D,E)})},o=oa(Us("Undo","undo",!0,function(g){Nn(g,Au.undo(),{direction:1})},t)),s=oa(Us("Redo","redo",!0,function(g){Nn(g,Au.redo(),{direction:1})},t)),d=ku.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),s.asSpec(),Us("Zoom in","zoom-in",!1,function(g){Nn(g,Au.zoom(),{direction:1})},t),Us("Zoom out","zoom-out",!1,function(g){Nn(g,Au.zoom(),{direction:-1})},t)]});return{container:d,updateButtonUndoStates:r}};function oF(){var t=[],r=-1,o=function(E){var D=t.splice(++r);return t.push(E),{state:E,removed:D}},s=function(){if(g())return t[--r]},d=function(){if(C())return t[++r]},g=function(){return r>0},C=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:s,redo:d,canUndo:g,canRedo:C}}var iF=function(t){var r=In(t),o=mo(),s=oF();s.add(t);var d=function(){return r.get()},g=function(Le){r.set(Le)},C=function(){return o.get().getOrThunk(r.get)},E=function(Le){var ft=D(Le);return G(),o.set(ft),ft.url},D=function(Le){return{blob:Le,url:URL.createObjectURL(Le)}},$=function(Le){URL.revokeObjectURL(Le.url)},U=function(Le){Gg.each(Le,$)},G=function(){o.on($),o.clear()},ee=function(Le){var ft=D(Le);g(ft);var ct=s.add(ft).removed;return U(ct),ft.url},oe=function(Le){var ft=D(Le);return o.set(ft),ft.url},fe=function(Le){return o.get().fold(q,function(ft){ee(ft.blob),Le()})},_e=function(){var Le=s.undo();return g(Le),Le.url},ze=function(){var Le=s.redo();return g(Le),Le.url},we=function(){var Le=s.canUndo(),ft=s.canRedo();return{undoEnabled:Le,redoEnabled:ft}};return{getBlobState:d,setBlobState:g,addBlobState:ee,getTempState:C,updateTempState:E,addTempState:oe,applyTempState:fe,destroyTempState:G,undo:_e,redo:ze,getHistoryStates:we}},uF=function(t,r){var o=iF(t.currentState),s=function(Mt,Ct){var Xt=Ct.event.direction;St.zoom(Mt,Xt)},d=function(Mt){var Ct=o.getHistoryStates();on.updateButtonUndoStates(Mt,Ct.undoEnabled,Ct.redoEnabled),Nn(Mt,gs.formActionEvent,{name:gs.saveState(),value:Ct.undoEnabled})},g=function(Mt){on.updateButtonUndoStates(Mt,!1,!1)},C=function(Mt,Ct){var Xt=o.undo();G(Mt,Xt).then(function(Cn){U(Mt),d(Mt)})},E=function(Mt,Ct){var Xt=o.redo();G(Mt,Xt).then(function(Cn){U(Mt),d(Mt)})},D=function(Mt){return Mt.toBlob()},$=function(Mt){Nn(Mt,gs.formActionEvent,{name:gs.disable(),value:{}})},U=function(Mt){Dt.getApplyButton(Mt).each(function(Ct){Pn.enable(Ct)}),Nn(Mt,gs.formActionEvent,{name:gs.enable(),value:{}})},G=function(Mt,Ct){return $(Mt),St.updateSrc(Mt,Ct)},ee=function(Mt,Ct,Xt,Cn,Ot){$(Mt),vz(Ct).then(Xt).then(D).then(Cn).then(function(bn){return G(Mt,bn)}).then(function(){d(Mt),Ot(),U(Mt)}).catch(function(bn){console.log(bn),Mt.getSystem().isConnected()&&U(Mt)})},oe=function(Mt,Ct,Xt){var Cn=o.getBlobState().blob,Ot=function(bn){return o.updateTempState(bn)};ee(Mt,Cn,Ct,Ot,Xt)},fe=function(Mt,Ct){var Xt=o.getTempState().blob,Cn=function(Ot){return o.addTempState(Ot)};ee(Mt,Xt,Ct,Cn,q)},_e=function(Mt,Ct,Xt){var Cn=o.getBlobState().blob,Ot=function(bn){var An=o.addBlobState(bn);return we(Mt),An};ee(Mt,Cn,Ct,Ot,Xt)},ze=function(Mt,Ct){var Xt=function(){we(Mt);var Cn=Ct.event.swap;Cn()};o.applyTempState(Xt)},we=function(Mt){var Ct=o.getBlobState().url;return o.destroyTempState(),d(Mt),Ct},Le=function(Mt){var Ct=we(Mt);G(Mt,Ct).then(function(Xt){U(Mt)})},ft=function(Mt,Ct){Le(Mt);var Xt=Ct.event.swap;Xt(),St.hideCrop()},ct=function(Mt,Ct){return oe(Mt,Ct.event.transform,q)},Fe=function(Mt,Ct){return fe(Mt,Ct.event.transform)},rt=function(Mt,Ct){return _e(Mt,Ct.event.transform,Ct.event.swap)},St=kB(t.currentState.url),on=EB(r),Dt=nF(St,r),ln=function(Mt,Ct){g(Mt);var Xt=Ct.event.transform,Cn=Ct.event.swap;Xt.fold(function(){Cn()},function(Ot){oe(Mt,Ot,Cn)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Dt.memContainer.asSpec(),St.memContainer.asSpec(),on.container],behaviours:Zt([an.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),ur("image-tools-events",[$t(Au.undo(),C),$t(Au.redo(),E),$t(Au.zoom(),s),$t(Au.back(),ft),$t(Au.apply(),ze),$t(Au.transform(),ct),$t(Au.tempTransform(),Fe),$t(Au.transformApply(),rt),$t(Au.swap(),ln)]),wv.self()])}},sF=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},s=Ue(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:Zt([wv.self(),nr.config({}),Pm.domHtml(B.none()),Fn.config({mode:"acyclic"})])}},zO=function(t){return!Pr(t,"items")},TB="data-value",OB=function(t,r,o,s){return Ue(o,function(d){return zO(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===s,onAction:function(){an.setValue(t,d.value),Nn(t,Ll,{name:r}),Zn.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:function(){return OB(t,r,d.items,s)}}})},DB=function(t,r){return Qr(t,function(o){return zO(o)?qs(o.value===r,o):DB(o.items,r)})},lF=function(t,r){var o=r.shared.providers,s=or(t.items).filter(zO),d=t.label.map(function(E){return Rm(E,o)}),g=Jr.parts.field({dom:{},factory:{sketch:function(E){return b3({uid:E.uid,text:s.map(function(D){return D.text}),icon:B.none(),tooltip:t.label,role:B.none(),fetch:function(D,$){var U=OB(D,t.name,t.items,an.getValue(D));$(My(U,uu.CLOSE_ON_EXECUTE,r,!1))},onSetup:ne(q),getApi:ne({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[To.config({}),an.config({store:{mode:"manual",initialValue:s.map(function(D){return D.value}).getOr(""),getValue:function(D){return Fa(D.element,TB)},setValue:function(D,$){DB(t.items,$).each(function(U){lr(D.element,TB,U.value),Nn(D,L1,{text:U.text})})}}})]},"tox-listbox",r.shared)}}}),C={dom:{tag:"div",classes:["tox-listboxfield"]},components:[g]};return Jr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:it([d.toArray(),[C]]),fieldBehaviours:Zt([Pn.config({disabled:ne(t.disabled),onDisabled:function(E){Jr.getField(E).each(Pn.disable)},onEnabled:function(E){Jr.getField(E).each(Pn.enable)}})])})},RB=function(t,r){return{dom:{tag:"div",classes:t.classes},components:Ue(t.items,r.shared.interpreter)}},$B=function(t,r){var o=Ue(t.options,function(d){return{dom:{tag:"option",value:d.value,innerHtml:d.text}}}),s=t.data.map(function(d){return Uc("initialValue",d)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:fi(t.selectBehaviours,[Zn.config({}),an.config({store:re({mode:"manual",getValue:function(d){return Yc(d.element)},setValue:function(d,g){var C=pt(t.options,function(E){return E.value===g});C.isSome()&&Ph(d.element,g)}},s)})])}},BB=Ls({name:"HtmlSelect",configFields:[At("options"),Xo("selectBehaviours",[Zn,an]),Ve("selectClasses",[]),Ve("selectAttributes",{}),Xr("data")],factory:$B}),cF=function(t,r){var o=Ue(t.items,function(E){return{text:r.translate(E.text),value:E.value}}),s=t.label.map(function(E){return Rm(E,r)}),d=Jr.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:BB,selectBehaviours:Zt([Pn.config({disabled:function(){return t.disabled||r.isDisabled()}}),To.config({}),ur("selectbox-change",[$t(Ah(),function(E,D){Nn(E,Ll,{name:t.name})})])])}),g=t.size>1?B.none():B.some(gv("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),C={dom:{tag:"div",classes:["tox-selectfield"]},components:it([[d],g.toArray()])};return Jr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:it([s.toArray(),[C]]),fieldBehaviours:Zt([Pn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(E){Jr.getField(E).each(Pn.disable)},onEnabled:function(E){Jr.getField(E).each(Pn.enable)}}),ti()])})},MB=function(t,r){var o=function(E){return{dom:{tag:"th",innerHtml:r.translate(E)}}},s=function(E){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ue(E,o)}]}},d=function(E){return{dom:{tag:"td",innerHtml:r.translate(E)}}},g=function(E){return{dom:{tag:"tr"},components:Ue(E,d)}},C=function(E){return{dom:{tag:"tbody"},components:Ue(E,g)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(t.header),C(t.cells)],behaviours:Zt([To.config({}),Zn.config({})])}},PB=function(t,r){var o=t.label.map(function(ee){return Rm(ee,r)}),s=[Pn.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),Fn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(ee){return Wr(ee,cl),B.some(!0)}}),ur("textfield-change",[$t(Ud(),function(ee,oe){Nn(ee,Ll,{name:t.name})}),$t(y2(),function(ee,oe){Nn(ee,Ll,{name:t.name})})]),To.config({})],d=t.validation.map(function(ee){return bv.config({getRoot:function(oe){return _o(oe.element)},invalidClass:"tox-invalid",validator:{validate:function(oe){var fe=an.getValue(oe),_e=ee.validator(fe);return Ji.pure(_e===!0?vr.value(fe):vr.error(_e))},validateOnLoad:ee.validateOnLoad}})}).toArray(),g=t.placeholder.fold(ne({}),function(ee){return{placeholder:r.translate(ee)}}),C=t.inputMode.fold(ne({}),function(ee){return{inputmode:ee}}),E=re(re({},g),C),D=Jr.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:E,inputClasses:[t.classname],inputBehaviours:Zt(it([s,d])),selectOnFocus:!1,factory:XC}),$=t.flex?["tox-form__group--stretched"]:[],U=$.concat(t.maximized?["tox-form-group--maximize"]:[]),G=[Pn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(ee){Jr.getField(ee).each(Pn.disable)},onEnabled:function(ee){Jr.getField(ee).each(Pn.enable)}}),ti()];return qC(o,D,U,G)},fF=function(t,r){return PB({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:B.none(),maximized:t.maximized},r)},vF=function(t,r){return PB({name:t.name,multiline:!0,label:t.label,inputMode:B.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:B.none(),maximized:t.maximized},r)},dF=function(t,r){var o=t.stream.streams,s=o.setup(t,r);return Sa([$t(t.event,s),Ms(function(){return r.cancel()})].concat(t.cancelEvent.map(function(d){return[$t(d,function(){return r.cancel()})]}).getOr([])))},mF=Object.freeze({__proto__:null,events:dF}),IB=function(t){var r=In(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},s=function(g){r.set(g)},d=function(){var g=r.get();g!==null&&g.cancel()};return Ki({readState:o,setTimer:s,cancel:d})},hF=function(t){return t.stream.streams.state(t)},gF=Object.freeze({__proto__:null,throttle:IB,init:hF}),pF=function(t,r){var o=t.stream,s=VE(t.onStream,o.delay);return r.setTimer(s),function(d,g){s.throttle(d,g),o.stopEvent&&g.stop()}},bF=[Iu("stream",el("mode",{throttle:[At("delay"),Ve("stopEvent",!0),ka("streams",{setup:pF,state:IB})]})),Ve("event","input"),Xr("cancelEvent"),wu("onStream")],NB=Ko({fields:bF,name:"streaming",active:mF,state:gF}),A3=function(t,r,o){var s=an.getValue(o);an.setValue(r,s),FB(r)},zB=function(t,r){var o=t.element,s=Yc(o),d=o.dom;Fa(o,"type")!=="number"&&r(d,s)},FB=function(t){zB(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},LB=function(t,r){zB(t,function(o,s){return o.setSelectionRange(r,s.length)})},yF=function(t,r,o){if(t.selectsOver){var s=an.getValue(r),d=t.getDisplayText(s),g=an.getValue(o),C=t.getDisplayText(g);return C.indexOf(d)===0?B.some(function(){A3(t,r,o),LB(r,d.length)}):B.none()}else return B.none()},FO=ne("alloy.typeahead.itemexecute"),HB=function(t,r,o,s){var d=function(D,$,U){t.previewing.set(!1);var G=Oo.getCoupled(D,"sandbox");if(Br.isOpen(G))Sr.getCurrent(G).each(function(oe){na.getHighlighted(oe).fold(function(){U(oe)},function(){n_(G,oe.element,"keydown",$)})});else{var ee=function(oe){Sr.getCurrent(oe).each(U)};Xk(t,C(D),D,G,s,ee,gf.HighlightFirst).get(q)}},g=Gk(t),C=function(D){return function($){return $.map(function(U){var G=_i(U.menus),ee=Wt(G,function(fe){return Ee(fe.items,function(_e){return _e.type==="item"})}),oe=an.getState(D);return oe.update(Ue(ee,function(fe){return fe.data})),U})}},E=[Zn.config({}),an.config({onSetValue:t.onSetValue,store:re({mode:"dataset",getDataKey:function(D){return Yc(D.element)},getFallbackEntry:function(D){return{value:D,meta:{}}},setValue:function(D,$){Ph(D.element,t.model.getDisplayText($))}},t.initialData.map(function(D){return Uc("initialValue",D)}).getOr({}))}),NB.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(D,$){var U=Oo.getCoupled(D,"sandbox"),G=Zn.isFocused(D);if(G&&Yc(D.element).length>=t.minChars){var ee=Sr.getCurrent(U).bind(function(fe){return na.getHighlighted(fe).map(an.getValue)});t.previewing.set(!0);var oe=function(fe){Sr.getCurrent(U).each(function(_e){ee.fold(function(){t.model.selectsOver&&na.highlightFirst(_e)},function(ze){na.highlightBy(_e,function(we){var Le=an.getValue(we);return Le.value===ze.value}),na.getHighlighted(_e).orThunk(function(){return na.highlightFirst(_e),B.none()})})})};Xk(t,C(D),D,U,s,oe,gf.HighlightFirst).get(q)}},cancelEvent:w2()}),Fn.config({mode:"special",onDown:function(D,$){return d(D,$,na.highlightFirst),B.some(!0)},onEscape:function(D){var $=Oo.getCoupled(D,"sandbox");return Br.isOpen($)?(Br.close($),B.some(!0)):B.none()},onUp:function(D,$){return d(D,$,na.highlightLast),B.some(!0)},onEnter:function(D){var $=Oo.getCoupled(D,"sandbox"),U=Br.isOpen($);if(U&&!t.previewing.get())return Sr.getCurrent($).bind(function(ee){return na.getHighlighted(ee)}).map(function(ee){return Nn(D,FO(),{item:ee}),!0});var G=an.getValue(D);return Wr(D,w2()),t.onExecute($,D,G),U&&Br.close($),B.some(!0)}}),Nr.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Oo.config({others:{sandbox:function(D){return UT(t,D,{onOpen:function(){return Nr.on(D)},onClose:function(){return Nr.off(D)}})}}}),ur("typeaheadevents",[cs(function(D){var $=q;Ty(t,C(D),D,s,$,gf.HighlightFirst).get(q)}),$t(FO(),function(D,$){var U=Oo.getCoupled(D,"sandbox");A3(t.model,D,$.event.item),Wr(D,w2()),t.onItemExecute(D,U,$.event.item,an.getValue(D)),Br.close(U),FB(D)})].concat(t.dismissOnBlur?[$t(b2(),function(D){var $=Oo.getCoupled(D,"sandbox");dc($.element).isNone()&&Br.close($)})]:[]))];return{uid:t.uid,dom:qk(bt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:re(re({},g),fi(t.typeaheadBehaviours,E)),eventOrder:t.eventOrder}},wF=ne([Xr("lazySink"),At("fetch"),Ve("minChars",5),Ve("responseTime",1e3),Yr("onOpen"),Ve("getHotspot",B.some),Ve("getAnchorOverrides",ne({})),Ve("layouts",B.none()),Ve("eventOrder",{}),l2("model",{},[Ve("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),Ve("selectsOver",!0),Ve("populateFromBrowse",!0)]),Yr("onSetValue"),Go("onExecute"),Yr("onItemExecute"),Ve("inputClasses",[]),Ve("inputAttributes",{}),Ve("inputStyles",{}),Ve("matchWidth",!0),Ve("useMinWidth",!1),Ve("dismissOnBlur",!0),nm(["openClass"]),Xr("initialData"),Xo("typeaheadBehaviours",[Zn,an,NB,Fn,Nr,Oo]),hu("previewing",function(){return In(!0)})].concat(LR()).concat(WT())),CF=ne([Fs({schema:[tm()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(s){yF(t.model,s,o).fold(function(){return na.dehighlight(r,o)},function(d){return d()})}):r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&A3(t.model,s,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(s){return Nn(s,FO(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&A3(t.model,s,o)})}}}})]),SF=xu({name:"Typeahead",configFields:wF(),partFields:CF(),factory:HB}),Cf=function(t){var r=function(){return Cf(t.toCached())},o=function(D){return Cf(t.bind(function($){return $.fold(function(U){return Ji.pure(vr.error(U))},function(U){return D(U)})}))},s=function(D){return Cf(t.map(function($){return $.bind(D)}))},d=function(D){return Cf(t.map(function($){return $.map(D)}))},g=function(D){return Cf(t.map(function($){return $.mapError(D)}))},C=function(D,$){return t.map(function(U){return U.fold(D,$)})},E=function(D,$){return Cf(Ji.nu(function(U){var G=!1,ee=setTimeout(function(){G=!0,U(vr.error($()))},D);t.get(function(oe){G||(clearTimeout(ee),U(oe))})}))};return re(re({},t),{toCached:r,bindFuture:o,bindResult:s,mapResult:d,mapError:g,foldResult:C,withTimeout:E})},VB=function(t){return Cf(Ji.nu(t))},UB=function(t){return Cf(Ji.pure(vr.value(t)))},E3=function(t){return Cf(Ji.pure(vr.error(t)))},_F=function(t){return Cf(Ji.pure(t))},xF=function(t){return Cf(t.map(vr.value))},kF=function(t){return VB(function(r){t.then(function(o){r(vr.value(o))},function(o){r(vr.error(o))})})},AF={nu:VB,wrap:Cf,pure:UB,value:UB,error:E3,fromResult:_F,fromFuture:xF,fromPromise:kF},EF={type:"separator"},TF=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:q}},LO=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:q}},WB=function(t){return Ue(t,TF)},OF=function(t,r){return Ee(r,function(o){return o.type===t})},jB=function(t,r){return WB(OF(t,r))},DF=function(t){return jB("header",t.targets)},RF=function(t){return jB("anchor",t.targets)},$F=function(t){return B.from(t.anchorTop).map(function(r){return LO("<top>",r)}).toArray()},BF=function(t){return B.from(t.anchorBottom).map(function(r){return LO("<bottom>",r)}).toArray()},MF=function(t){return Ue(t,function(r){return LO(r,r)})},GB=function(t){return tt(t,function(r,o){var s=r.length===0||o.length===0;return s?r.concat(o):r.concat(EF,o)},[])},HO=function(t,r){var o=t.toLowerCase();return Ee(r,function(s){var d=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return ma(d.toLowerCase(),o)||ma(s.value.toLowerCase(),o)})},PF=function(t,r,o){var s=an.getValue(r),d=s.meta.text!==void 0?s.meta.text:s.value,g=o.getLinkInformation();return g.fold(function(){return[]},function(C){var E=HO(d,MF(o.getHistory(t)));return t==="file"?GB([E,HO(d,DF(C)),HO(d,it([$F(C),RF(C),BF(C)]))]):E})},qB=wn("aria-invalid"),IF=function(t,r,o){var s,d=r.shared.providers,g=function(we){var Le=an.getValue(we);o.addToHistory(Le.value,t.filetype)},C=Jr.parts.field({factory:SF,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":qB,type:"url"},minChars:0,responseTime:0,fetch:function(we){var Le=PF(t.filetype,we,o),ft=My(Le,uu.BUBBLE_TO_SANDBOX,r,!1);return Ji.pure(ft)},getHotspot:function(we){return oe.getOpt(we)},onSetValue:function(we,Le){we.hasConfigured(bv)&&bv.run(we).get(q)},typeaheadBehaviours:Zt(it([o.getValidationHandler().map(function(we){return bv.config({getRoot:function(Le){return _o(Le.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Le,ft){$.getOpt(Le).each(function(ct){lr(ct.element,"title",d.translate(ft))})}},validator:{validate:function(Le){var ft=an.getValue(Le);return AF.nu(function(ct){we({type:t.filetype,url:ft.value},function(Fe){if(Fe.status==="invalid"){var rt=vr.error(Fe.message);ct(rt)}else{var St=vr.value(Fe.message);ct(St)}})})},validateOnLoad:!1}})}).toArray(),[Pn.config({disabled:function(){return t.disabled||d.isDisabled()}}),To.config({}),ur("urlinput-events",it([t.filetype==="file"?[$t(Ud(),function(we){Nn(we,Ll,{name:t.name})})]:[],[$t(Ah(),function(we){Nn(we,Ll,{name:t.name}),g(we)}),$t(y2(),function(we){Nn(we,Ll,{name:t.name}),g(we)})]]))]])),eventOrder:(s={},s[Ud()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(we){return we.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:x1(!1,1,"normal")},onExecute:function(we,Le,ft){Nn(Le,cl,{})},onItemExecute:function(we,Le,ft,ct){g(we),Nn(we,Ll,{name:t.name})}}),E=t.label.map(function(we){return Rm(we,d)}),D=function(we,Le,ft,ct){return ft===void 0&&(ft=we),ct===void 0&&(ct=we),gv(ft,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+we],attributes:re({title:d.translate(ct),"aria-live":"polite"},Le.fold(function(){return{}},function(Fe){return{id:Fe}}))},d.icons)},$=oa(D("invalid",B.some(qB),"warning")),U=oa({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[$.asSpec()]}),G=o.getUrlPicker(t.filetype),ee=wn("browser.url.event"),oe=oa({dom:{tag:"div",classes:["tox-control-wrap"]},components:[C,U.asSpec()],behaviours:Zt([Pn.config({disabled:function(){return t.disabled||d.isDisabled()}})])}),fe=oa($O({name:t.name,icon:B.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(we){return Wr(we,ee)},d,[],["tox-browse-url"])),_e=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:it([[oe.asSpec()],G.map(function(){return fe.asSpec()}).toArray()])}},ze=function(we){Sr.getCurrent(we).each(function(Le){var ft=an.getValue(Le),ct=re({fieldname:t.name},ft);G.each(function(Fe){Fe(ct).get(function(rt){an.setValue(Le,rt),Nn(we,Ll,{name:t.name})})})})};return Jr.sketch({dom:II(),components:E.toArray().concat([_e()]),fieldBehaviours:Zt([Pn.config({disabled:function(){return t.disabled||d.isDisabled()},onDisabled:function(we){Jr.getField(we).each(Pn.disable),fe.getOpt(we).each(Pn.disable)},onEnabled:function(we){Jr.getField(we).each(Pn.enable),fe.getOpt(we).each(Pn.enable)}}),ti(),ur("url-input-events",[$t(ee,ze)])])})},NF=function(t,r){return ku.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:U5(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){Nn(o,pv,{name:"alert-banner",value:t.url})},buttonBehaviours:Zt([zE()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},zF=function(t,r){var o=an.config({store:{mode:"manual",getValue:function(D){var $=D.element.dom;return $.checked},setValue:function(D,$){var U=D.element.dom;U.checked=$}}}),s=function(D){return D.element.dom.click(),B.some(!0)},d=Jr.parts.field({factory:{sketch:Se},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Zt([wv.self(),Pn.config({disabled:function(){return t.disabled||r.isDisabled()}}),To.config({}),Zn.config({}),o,Fn.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),ur("checkbox-events",[$t(Ah(),function(D,$){Nn(D,Ll,{name:t.name})})])])}),g=Jr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:Zt([JC.config({})])}),C=function(D){var $=D==="checked"?"selected":"unselected";return gv($,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+D]},r.icons)},E=oa({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[C("checked"),C("unchecked")]});return Jr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,E.asSpec(),g],fieldBehaviours:Zt([Pn.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(D){Jr.getField(D).each(Pn.disable)},onEnabled:function(D){Jr.getField(D).each(Pn.enable)}}),ti()])})},KB=function(t){return t.presets==="presentation"?ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Zt([To.config({}),Zn.config({})])})},So=function(t){return function(r,o,s){return En(o,"name").fold(function(){return t(o,s)},function(d){return r.field(d,t(o,s))})}},T3=function(t){return function(r,o,s){var d=bt(o,{source:"dynamic"});return So(t)(r,d,s)}},FF={bar:So(function(t,r){return T1(t,r.shared)}),collection:So(function(t,r){return jk(t,r.shared.providers)}),alertbanner:So(function(t,r){return NF(t,r.shared.providers)}),input:So(function(t,r){return fF(t,r.shared.providers)}),textarea:So(function(t,r){return vF(t,r.shared.providers)}),label:So(function(t,r){return sF(t,r.shared)}),iframe:T3(function(t,r){return G$(t,r.shared.providers)}),button:So(function(t,r){return Vz(t,r.shared.providers)}),checkbox:So(function(t,r){return zF(t,r.shared.providers)}),colorinput:So(function(t,r){return tN(t,r.shared,r.colorinput)}),colorpicker:So(XN),dropzone:So(function(t,r){return nz(t,r.shared.providers)}),grid:So(function(t,r){return W$(t,r.shared)}),listbox:So(function(t,r){return lF(t,r)}),selectbox:So(function(t,r){return cF(t,r.shared.providers)}),sizeinput:So(function(t,r){return yB(t,r.shared.providers)}),urlinput:So(function(t,r){return IF(t,r,r.urlinput)}),customeditor:So(JN),htmlpanel:So(KB),imagetools:So(function(t,r){return uF(t,r.shared.providers)}),table:So(function(t,r){return MB(t,r.shared.providers)}),panel:So(function(t,r){return RB(t,r)})},LF={field:function(t,r){return r}},O3=function(t,r,o){var s=bt(o,{shared:{interpreter:function(d){return VO(t,d,s)}}});return VO(t,r,s)},VO=function(t,r,o){return En(FF,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(s){return s(t,r,o)})},HF=function(t,r){var o=LF;return VO(o,t,r)},D3={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},XB=function(t,r,o){var s=12,d={maxHeightFunction:qh()},g=function(){return{type:"node",root:Zl(t()),node:B.from(t()),bubble:lm(s,s,D3),layouts:{onRtl:function(){return[Bg]},onLtr:function(){return[$g]}},overrides:d}},C=function(){return{type:"hotspot",hotspot:r(),bubble:lm(-s,s,D3),layouts:{onRtl:function(){return[Xi]},onLtr:function(){return[ei]}},overrides:d}};return function(){return o()?g():C()}},YB=function(t,r,o){var s=function(){return{type:"node",root:Zl(t()),node:B.from(t()),layouts:{onRtl:function(){return[Cc]},onLtr:function(){return[Cc]}}}},d=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[No]},onLtr:function(){return[No]}}}};return function(){return o()?s():d()}},VF=function(t,r){return function(){return{type:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return B.some(Yh.range(sn.fromDom(o.startContainer),o.startOffset,sn.fromDom(o.endContainer),o.endOffset))}}}},UF=function(t){return function(r){return{type:"node",root:t(),node:r}}},WF=function(t,r,o){var s=$k(t),d=function(){return sn.fromDom(t.getBody())},g=function(){return sn.fromDom(t.getContentAreaContainer())},C=function(){return s||!o()};return{inlineDialog:XB(g,r,C),banner:YB(g,r,C),cursor:VF(t,d),node:UF(d)}},jF=function(t){return function(r,o){var s=bR(t);s(r,o)}},GF=function(t){return function(){return fR(t)}},JB=function(t){return function(){return kT(t)}},qF=function(t){return function(){return dR(t)}},ZB=function(t){return{colorPicker:jF(t),hasCustomColors:GF(t),getColors:JB(t),getColorCols:qF(t)}},KF=function(t){return function(){return MD(t)}},XF=function(t){return{isDraggableModal:KF(t)}},UO=function(t){var r=In(OD(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},R3=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],gS=function(t){return Pr(t,"items")},YF=function(t){return Pr(t,"block")},JF=function(t){return Pr(t,"inline")},ZF=function(t){return Pr(t,"selector")},QB=function(t){return tt(t,function(r,o){if(gS(o)){var s=QB(o.items);return{customFormats:r.customFormats.concat(s.customFormats),formats:r.formats.concat([{title:o.title,items:s.formats}])}}else if(JF(o)||YF(o)||ZF(o)){var d=S(o.name)?o.name:o.title.toLowerCase(),g="custom-"+d;return{customFormats:r.customFormats.concat([{name:g,format:o}]),formats:r.formats.concat([{title:o.title,format:g,icon:o.icon}])}}else return re(re({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},QF=function(t,r){var o=QB(r),s=function(d){gt(d,function(g){t.formatter.has(g.name)||t.formatter.register(g.name,g.format)})};return t.formatter?s(o.customFormats):t.on("init",function(){s(o.customFormats)}),o.formats},WO=function(t){return uP(t).map(function(r){var o=QF(t,r);return sP(t)?R3.concat(o):o}).getOr(R3)},jO=function(t,r,o){var s={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return bt(t,s)},GO=function(t,r,o,s){var d=function(D){return jO(D,o,s)},g=function(D){var $={type:"submenu"};return bt(D,$)},C=function(D){var $=S(D.name)?D.name:wn(D.title),U="custom-"+$,G={type:"formatter",format:U,isSelected:o(U),getStylePreview:s(U)},ee=bt(D,G);return t.formatter.register($,ee),ee},E=function(D){return Ue(D,function($){var U=Hr($);if(lo($,"items")){var G=E($.items);return bt(g($),{getStyleItems:ne(G)})}else return lo($,"format")?d($):U.length===1&&lt(U,"title")?bt($,{type:"separator"}):C($)})};return E(r)},eL=function(t){var r=function(G){return function(){return t.formatter.match(G)}},o=function(G){return function(){var ee=t.formatter.get(G);return ee!==void 0?B.some({tag:ee.length>0&&(ee[0].inline||ee[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(G))}):B.none()}},s=function(G){var ee=G.items;return ee!==void 0&&ee.length>0?Wt(ee,s):[G.format]},d=In([]),g=In([]),C=In([]),E=In([]),D=In(!1);t.on("PreInit",function(G){var ee=WO(t),oe=GO(t,ee,r,o);d.set(oe),g.set(Wt(oe,s))}),t.on("addStyleModifications",function(G){var ee=GO(t,G.items,r,o);C.set(ee),D.set(G.replace),E.set(Wt(ee,s))});var $=function(){var G=D.get()?[]:d.get(),ee=C.get();return G.concat(ee)},U=function(){var G=D.get()?[]:g.get(),ee=E.get();return G.concat(ee)};return{getData:$,getFlattenedKeys:U}},tL=function(t){return H(t)&&t.nodeType===1},nL=Gg.trim,eM=function(t){return function(r){return!!(tL(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},rL=eM("true"),tM=eM("false"),nM=function(t,r,o,s,d){return{type:t,title:r,url:o,level:s,attach:d}},aL=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return rL(t)}return!1},oL=function(t,r){return Ue(au(sn.fromDom(r),t),function(o){return o.dom})},rM=function(t){return t.innerText||t.textContent},aM=function(t){return t.id?t.id:wn("h")},H1=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},oM=function(t){return H1(t)&&uM(t)},iM=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},uM=function(t){return aL(t)&&!tM(t)},iL=function(t){return iM(t)&&uM(t)},sM=function(t){return iM(t)?parseInt(t.nodeName.substr(1),10):0},uL=function(t){var r=aM(t),o=function(){t.id=r};return nM("header",rM(t),"#"+r,sM(t),o)},sL=function(t){var r=t.id||t.name,o=rM(t);return nM("anchor",o||"#"+r,"#"+r,0,q)},lL=function(t){return Ue(Ee(t,iL),uL)},cL=function(t){return Ue(Ee(t,oM),sL)},fL=function(t){var r=oL("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},vL=function(t){return nL(t.title).length>0},dL=function(t){var r=fL(t);return Ee(lL(r).concat(cL(r)),vL)},mL={find:dL},$3="tinymce-url-history",lM=5,qO=function(t){return S(t)&&/^https?/.test(t)},hL=function(t){return O(t)&&t.length<=lM&&Rt(t,qO)},cM=function(t){return _(t)&&Ju(t,function(r){return!hL(r)}).isNone()},fM=function(){var t=Fk.getItem($3);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+$3+" was not valid JSON",o),{};throw o}return cM(r)?r:(console.log("Local storage "+$3+" was not valid format",r),{})},gL=function(t){if(!cM(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Fk.setItem($3,JSON.stringify(t))},pL=function(t){var r=fM();return En(r,t).getOr([])},KO=function(t,r){if(qO(t)){var o=fM(),s=En(o,r).getOr([]),d=Ee(s,function(g){return g!==t});o[r]=[t].concat(d).slice(0,lM),gL(o)}},B3=function(t){return!!t},bL=function(t){return fr(Gg.makeMap(t,/[, ]/),B3)},XO=function(t){return B.from(hP(t)).filter(I)},yL=function(t){var r=B.some(gP(t)).filter(B3),o=B.some(pT(t)).filter(B3),s=r.or(o).map(bL);return XO(t).fold(pe,function(d){return s.fold(ye,function(g){return Hr(g).length>0?g:!1})})},wL=function(t,r){var o=yL(t);return F(o)?o?XO(t):B.none():o[r]?XO(t):B.none()},CL=function(t,r){return wL(t,r).map(function(o){return function(s){return Ji.nu(function(d){var g=function(E,D){if(!S(E))throw new Error("Expected value to be string");if(D!==void 0&&!_(D))throw new Error("Expected meta to be a object");var $={value:E,meta:D};d($)},C=re({filetype:r,fieldname:s.fieldname},B.from(s.meta).getOr({}));o.call(t,g,s.value,C)})}})},vM=function(t){return B.from(t).filter(S).getOrUndefined()},SL=function(t){return PD(t)?B.none():B.some({targets:mL.find(t.getBody()),anchorTop:vM(ID(t)),anchorBottom:vM(pP(t))})},_L=function(t){return B.from(ND(t))},xL=function(t){return{getHistory:pL,addToHistory:KO,getLinkInformation:function(){return SL(t)},getValidationHandler:function(){return _L(t)},getUrlPicker:function(r){return CL(t,r)}}},M3=function(t,r,o){var s=In(!1),d=UO(r),g={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:mf.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(C){return HF(C,g)},anchors:WF(r,o,d.isPositionedAtTop),header:d,getSink:function(){return vr.value(t)}},urlinput:xL(r),styleselect:eL(r),colorinput:ZB(r),dialog:XF(r),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(C){return s.set(C)}};return g},kL=function(t,r,o){var s=function(ct,Fe){gt([r,o],function(rt){rt.broadcastEvent(ct,Fe)})},d=function(ct,Fe){gt([r,o],function(rt){rt.broadcastOn([ct],Fe)})},g=function(ct){return d(hm(),{target:ct.target})},C=Hp(),E=wo(C,"touchstart",g),D=wo(C,"touchmove",function(ct){return s(xb(),ct)}),$=wo(C,"touchend",function(ct){return s(zA(),ct)}),U=wo(C,"mousedown",g),G=wo(C,"mouseup",function(ct){ct.raw.button===0&&d(kw(),{target:ct.target})}),ee=function(ct){return d(hm(),{target:sn.fromDom(ct.target)})},oe=function(ct){ct.button===0&&d(kw(),{target:sn.fromDom(ct.target)})},fe=function(){gt(t.editorManager.get(),function(ct){t!==ct&&ct.fire("DismissPopups",{relatedTarget:t})})},_e=function(ct){return s(C2(),sm(ct))},ze=function(ct){d(cg(),{}),s($s(),sm(ct))},we=function(){return d(cg(),{})},Le=function(ct){ct.state&&d(hm(),{target:sn.fromDom(t.getContainer())})},ft=function(ct){d(hm(),{target:sn.fromDom(ct.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",ee),t.on("tap",ee),t.on("mouseup",oe),t.on("mousedown",fe),t.on("ScrollWindow",_e),t.on("ResizeWindow",ze),t.on("ResizeEditor",we),t.on("AfterProgressState",Le),t.on("DismissPopups",ft)}),t.on("remove",function(){t.off("click",ee),t.off("tap",ee),t.off("mouseup",oe),t.off("mousedown",fe),t.off("ScrollWindow",_e),t.off("ResizeWindow",ze),t.off("ResizeEditor",we),t.off("AfterProgressState",Le),t.off("DismissPopups",ft),U.unbind(),E.unbind(),D.unbind(),$.unbind(),G.unbind()}),t.on("detach",function(){ou(r),ou(o),r.destroy(),o.destroy()})},Ws=Un,qg=F0,V1=ne([Ve("shell",!1),At("makeItem"),Ve("setupItem",q),il.field("listBehaviours",[nr])]),AL=function(){return{behaviours:Zt([nr.config({})])}},YO=ul({name:"items",overrides:AL}),P3=ne([YO]),EL=ne("CustomList"),TL=function(t,r,o,s){var d=function(E,D){C(E).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function($){var U=nr.contents($),G=D.length,ee=G-U.length,oe=ee>0?te(ee,function(){return t.makeItem()}):[],fe=U.slice(G);gt(fe,function(ze){return nr.remove($,ze)}),gt(oe,function(ze){return nr.append($,ze)});var _e=nr.contents($);gt(_e,function(ze,we){t.setupItem(E,ze,D[we],we)})})},g=t.shell?{behaviours:[nr.config({})],components:[]}:{behaviours:[],components:r},C=function(E){return t.shell?B.some(E):pa(E,t,"items")};return{uid:t.uid,dom:t.dom,components:g.components,behaviours:fi(t.listBehaviours,g.behaviours),apis:{setItems:d}}},dM=xu({name:EL(),configFields:V1(),partFields:P3(),factory:TL,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),Iy=ne([At("dom"),Ve("shell",!0),Xo("toolbarBehaviours",[nr])]),OL=function(){return{behaviours:Zt([nr.config({})])}},U1=ne([ul({name:"groups",overrides:OL})]),mM=function(t,r,o,s){var d=function(E,D){g(E).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function($){nr.set($,D)})},g=function(E){return t.shell?B.some(E):pa(E,t,"groups")},C=t.shell?{behaviours:[nr.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:C.components,behaviours:fi(t.toolbarBehaviours,C.behaviours),apis:{setGroups:d},domModification:{attributes:{role:"group"}}}},Cv=xu({name:"Toolbar",configFields:Iy(),partFields:U1(),factory:mM,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),DL=q,RL=pe,hM=ne([]),$L=Object.freeze({__proto__:null,setup:DL,isDocked:RL,getBehaviours:hM}),gM=function(t){var r=lu(ko(t,"position"),"fixed"),o=r?B.none():zf(t);return o.orThunk(function(){var s=sn.fromTag("span");return _o(t).bind(function(d){Ui(d,s);var g=zf(s);return Bu(s),g})})},I3=function(t){return gM(t).map(vu).getOrThunk(function(){return ya(0,0)})},W1=Ds.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),N3=function(t,r){var o=t.element;Wo(o,r.transitionClass),Io(o,r.fadeOutClass),Wo(o,r.fadeInClass),r.onShow(t)},z3=function(t,r){var o=t.element;Wo(o,r.transitionClass),Io(o,r.fadeInClass),Wo(o,r.fadeOutClass),r.onHide(t)},j1=function(t,r){return t.y<r.bottom&&t.bottom>r.y},F3=function(t,r){return t.y>=r.y},BL=function(t,r){return t.bottom<=r.bottom},JO=function(t,r,o){return Rt(t,function(s){switch(s){case"bottom":return BL(r,o);case"top":return F3(r,o)}})},ZO=function(t,r){return r.getInitialPos().map(function(o){return Vo(o.bounds.x,o.bounds.y,Vi(t),Mo(t))})},pM=function(t,r,o){o.setInitialPos({style:Ff(t),position:ro(t,"position")||"static",bounds:r})},bM=function(t,r,o){return o.getInitialPos().bind(function(s){switch(o.clearInitialPos(),s.position){case"static":return B.some(W1.static());case"absolute":var d=gM(t).map(Ao).getOrThunk(function(){return Ao(Hi())});return B.some(W1.absolute(ru("absolute",En(s.style,"left").map(function(g){return r.x-d.x}),En(s.style,"top").map(function(g){return r.y-d.y}),En(s.style,"right").map(function(g){return d.right-r.right}),En(s.style,"bottom").map(function(g){return d.bottom-r.bottom}))));default:return B.none()}})},yM=function(t,r,o){return ZO(t,o).filter(function(s){return JO(o.getModes(),s,r)}).bind(function(s){return bM(t,s,o)})},ML=function(t,r,o){var s=Ao(t);if(JO(o.getModes(),s,r))return B.none();pM(t,s,o);var d=Ai(),g=s.x-d.x,C=r.y-d.y,E=d.bottom-r.bottom,D=s.y<=r.y;return B.some(W1.fixed(ru("fixed",B.some(g),D?B.some(C):B.none(),B.none(),D?B.none():B.some(E))))},PL=function(t,r,o){var s=t.element,d=lu(ko(s,"position"),"fixed");return d?yM(s,r,o):ML(s,r,o)},IL=function(t,r){var o=t.element;return ZO(o,r).bind(function(s){return bM(o,s,r)})},L3=function(t,r,o){o.setDocked(!1),gt(["left","right","top","bottom","position"],function(s){return Kr(t.element,s)}),r.onUndocked(t)},pS=function(t,r,o,s){var d=s.position==="fixed";o.setDocked(d),rd(t.element,s);var g=d?r.onDocked:r.onUndocked;g(t)},wM=function(t,r,o,s,d){d===void 0&&(d=!1),r.contextual.each(function(g){g.lazyContext(t).each(function(C){var E=j1(C,s);if(E!==o.isVisible())if(o.setVisible(E),d&&!E)Zd(t.element,[g.fadeOutClass]),g.onHide(t);else{var D=E?N3:z3;D(t,g)}})})},CM=function(t,r,o){var s=r.lazyViewport(t),d=o.isDocked();d&&wM(t,r,o,s),PL(t,s,o).each(function(g){g.fold(function(){return L3(t,r,o)},function(C){return pS(t,r,o,C)},function(C){wM(t,r,o,s,!0),pS(t,r,o,C)})})},NL=function(t,r,o){var s=t.element;o.setDocked(!1),IL(t,o).each(function(d){d.fold(function(){return L3(t,r,o)},function(g){return pS(t,r,o,g)},q)}),o.setVisible(!0),r.contextual.each(function(d){Ns(s,[d.fadeInClass,d.fadeOutClass,d.transitionClass]),d.onShow(t)}),H3(t,r,o)},H3=function(t,r,o){t.getSystem().isConnected()&&CM(t,r,o)},SM=function(t,r,o){o.isDocked()&&NL(t,r,o)},zL=function(t,r,o){return o.isDocked()},G1=function(t,r,o,s){return o.setModes(s)},_M=function(t,r,o){return o.getModes()},FL=Object.freeze({__proto__:null,refresh:H3,reset:SM,isDocked:zL,getModes:_M,setModes:G1}),xM=function(t,r){return Sa([Eo(Th(),function(o,s){t.contextual.each(function(d){if(bu(o.element,d.transitionClass)){Ns(o.element,[d.transitionClass,d.fadeInClass]);var g=r.isVisible()?d.onShown:d.onHidden;g(o)}s.stop()})}),$t(C2(),function(o,s){H3(o,t,r)}),$t($s(),function(o,s){SM(o,t,r)})])},LL=Object.freeze({__proto__:null,events:xM}),V3=[ss("contextual",[Jn("fadeInClass"),Jn("fadeOutClass"),Jn("transitionClass"),tu("lazyContext"),Yr("onShow"),Yr("onShown"),Yr("onHide"),Yr("onHidden")]),Ta("lazyViewport",Ai),Jf("modes",["top","bottom"],yo),Yr("onDocked"),Yr("onUndocked")],Sf=function(t){var r=In(!1),o=In(!0),s=mo(),d=In(t.modes),g=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+d.get().join(",")};return Ki({isDocked:r.get,setDocked:r.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:o.get,setVisible:o.set,getModes:d.get,setModes:d.set,readState:g})},HL=Object.freeze({__proto__:null,init:Sf}),Do=Ko({fields:V3,name:"docking",active:LL,apis:FL,state:HL}),QO=ne(wn("toolbar-height-change")),Ed={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},e5="tox-tinymce--toolbar-sticky-on",bS="tox-tinymce--toolbar-sticky-off",Kg=function(t,r){var o=Jo(r),s=o.dom.defaultView.innerHeight,d=os(o),g=sn.fromDom(t.elm),C=Lc(g),E=Mo(g),D=C.y,$=D+E,U=vu(r),G=Mo(r),ee=U.top,oe=ee+G,fe=Math.abs(ee-d.top)<2,_e=Math.abs(oe-(d.top+s))<2;if(fe&&D<oe)dh(d.left,D-G,o);else if(_e&&$>ee){var ze=D-s+E+G;dh(d.left,ze,o)}},Wu=function(t,r){return lt(Do.getModes(t),r)},t5=function(t){var r=function(s){return as(s)+(parseInt(ro(s,"margin-top"),10)||0)+(parseInt(ro(s,"margin-bottom"),10)||0)},o=t.element;_o(o).each(function(s){var d="padding-"+Do.getModes(t)[0];if(Do.isDocked(t)){var g=Vi(s);jn(o,"width",g+"px"),jn(s,d,r(o)+"px")}else Kr(o,"width"),Kr(s,d)})},n5=function(t,r){r?(Io(t,Ed.fadeOutClass),Zd(t,[Ed.transitionClass,Ed.fadeInClass])):(Io(t,Ed.fadeInClass),Zd(t,[Ed.fadeOutClass,Ed.transitionClass]))},r5=function(t,r){var o=sn.fromDom(t.getContainer());r?(Wo(o,e5),Io(o,bS)):(Wo(o,bS),Io(o,e5))},kM=function(t,r){var o=Jo(r);_u(o).filter(function(s){return!_a(r,s)}).filter(function(s){return _a(s,sn.fromDom(o.dom.body))||Sl(t,s)}).each(function(){return vc(r)})},VL=function(t,r){return dc(t).orThunk(function(){return r().toOptional().bind(function(o){return dc(o.element)})})},UL=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(Do.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(t5)}),t.on("SkinLoaded",function(){o().each(function(s){Do.isDocked(s)?Do.reset(s):Do.refresh(s)})}),t.on("FullscreenStateChanged",function(){o().each(Do.reset)})),t.on("AfterScrollIntoView",function(s){o().each(function(d){Do.refresh(d);var g=d.element;Rx(g)&&Kg(s,g)})}),t.on("PostRender",function(){r5(t,!1)})},Xg=function(t){return t().map(Do.isDocked).getOr(!1)},AM=function(){var t;return[nu.config({channels:(t={},t[QO()]={onReceive:t5},t)})]},q1=function(t,r){var o=mo(),s=r.getSink,d=function(E){s().each(function(D){return E(D.element)})},g=function(E){t.inline||t5(E),r5(t,Do.isDocked(E)),E.getSystem().broadcastOn([cg()],{}),s().each(function(D){return D.getSystem().broadcastOn([cg()],{})})},C=t.inline?[]:AM();return ke([Zn.config({}),Do.config({contextual:re({lazyContext:function(E){var D=as(E.element),$=t.inline?t.getContentAreaContainer():t.getContainer(),U=Ao(sn.fromDom($)),G=U.height-D,ee=U.y+(Wu(E,"top")?0:D);return B.some(Vo(U.x,ee,U.width,G))},onShow:function(){d(function(E){return n5(E,!0)})},onShown:function(E){d(function(D){return Ns(D,[Ed.transitionClass,Ed.fadeInClass])}),o.get().each(function(D){kM(E.element,D),o.clear()})},onHide:function(E){VL(E.element,s).fold(o.clear,o.set),d(function(D){return n5(D,!1)})},onHidden:function(){d(function(E){return Ns(E,[Ed.transitionClass])})}},Ed),lazyViewport:function(E){var D=Ai(),$=Mk(t),U=D.y+(Wu(E,"top")?$:0),G=D.height-(Wu(E,"bottom")?$:0);return Vo(D.x,U,D.width,G)},modes:[r.header.getDockingMode()],onDocked:g,onUndocked:g})],C,!0)},U3=Object.freeze({__proto__:null,setup:UL,isDocked:Xg,getBehaviours:q1}),EM=function(t){var r=t.editor,o=t.sticky?q1:hM;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Zt(o(r,t.sharedBackstage))}},WL=$n([Jn("type"),Iu("items",_p([s2([Jn("name"),Gi("items",yo)]),yo]))].concat(DC)),jL=function(t){return Ya("GroupToolbarButton",WL,t)},GL=[Ea("text"),Ea("tooltip"),Ea("icon"),tu("fetch"),Ta("onSetup",function(){return q})],qL=$n(ke([Jn("type")],GL,!0)),K1=function(t){return Ya("menubutton",qL,t)},KL=$n([Jn("type"),Ea("tooltip"),Ea("icon"),Ea("text"),Fv("select"),tu("fetch"),Ta("onSetup",function(){return q}),Os("presets","normal",["normal","color","listpreview"]),Ve("columns",1),tu("onAction"),tu("onItemAction")]),XL=function(t){return Ya("SplitButton",KL,t)},YL=function(t,r){var o=function(d,g){var C=Ue(g,function(E){var D={type:"menubutton",text:E.text,fetch:function(U){U(E.getItems())}},$=K1(D).mapError(function(U){return zv(U)}).getOrDie();return OO($,"tox-mbtn",r.backstage,B.some("menuitem"))});nr.set(d,C)},s={focus:Fn.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:Zt([nr.config({}),ur("menubar-events",[ir(function(d){t.onSetup(d)}),$t(Qf(),function(d,g){jo(d.element,".tox-mbtn--active").each(function(C){al(g.event.target,".tox-mbtn").each(function(E){_a(C,E)||d.getSystem().getByDom(C).each(function(D){d.getSystem().getByDom(E).each(function($){pf.expand($),pf.close(D),Zn.focus($)})})})})}),$t(kb(),function(d,g){g.event.prevFocus.bind(function(C){return d.getSystem().getByDom(C).toOptional()}).each(function(C){g.event.newFocus.bind(function(E){return d.getSystem().getByDom(E).toOptional()}).each(function(E){pf.isOpen(C)&&(pf.expand(E),pf.close(C))})})})]),Fn.config({mode:"flow",selector:".tox-mbtn",onEscape:function(d){return t.onEscape(d),B.some(!0)}}),To.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},a5=Ls({factory:YL,name:"silver.Menubar",configFields:[At("dom"),At("uid"),At("onEscape"),At("backstage"),Ve("onSetup",q)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),yS=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},Sv=function(t){return t.dimension.property},Ny=function(t,r){return t.dimension.getDimension(r)},W3=function(t,r){var o=yS(t,r);Ns(o,[r.shrinkingClass,r.growingClass])},wS=function(t,r){Io(t.element,r.openClass),Wo(t.element,r.closedClass),jn(t.element,Sv(r),"0px"),Ba(t.element)},o5=function(t,r){Io(t.element,r.closedClass),Wo(t.element,r.openClass),Kr(t.element,Sv(r))},CS=function(t,r,o,s){o.setCollapsed(),jn(t.element,Sv(r),Ny(r,t.element)),Ba(t.element),W3(t,r),wS(t,r),r.onStartShrink(t),r.onShrunk(t)},j3=function(t,r,o,s){var d=s.getOrThunk(function(){return Ny(r,t.element)});o.setCollapsed(),jn(t.element,Sv(r),d),Ba(t.element);var g=yS(t,r);Io(g,r.growingClass),Wo(g,r.shrinkingClass),wS(t,r),r.onStartShrink(t)},Yg=function(t,r,o){var s=Ny(r,t.element),d=s==="0px"?CS:j3;d(t,r,o,B.some(s))},TM=function(t,r,o){var s=yS(t,r),d=bu(s,r.shrinkingClass),g=Ny(r,t.element);o5(t,r);var C=Ny(r,t.element),E=function(){jn(t.element,Sv(r),g),Ba(t.element)},D=function(){wS(t,r)},$=d?E:D;$(),Io(s,r.shrinkingClass),Wo(s,r.growingClass),o5(t,r),jn(t.element,Sv(r),C),o.setExpanded(),r.onStartGrow(t)},JL=function(t,r,o){if(o.isExpanded()){Kr(t.element,Sv(r));var s=Ny(r,t.element);jn(t.element,Sv(r),s)}},i5=function(t,r,o){o.isExpanded()||TM(t,r,o)},ZL=function(t,r,o){o.isExpanded()&&Yg(t,r,o)},G3=function(t,r,o){o.isExpanded()&&CS(t,r,o)},OM=function(t,r,o){return o.isExpanded()},QL=function(t,r,o){return o.isCollapsed()},DM=function(t,r,o){var s=yS(t,r);return bu(s,r.growingClass)===!0},zy=function(t,r,o){var s=yS(t,r);return bu(s,r.shrinkingClass)===!0},u5=function(t,r,o){return DM(t,r)||zy(t,r)},e7=function(t,r,o){var s=o.isExpanded()?Yg:TM;s(t,r,o)},t7=Object.freeze({__proto__:null,refresh:JL,grow:i5,shrink:ZL,immediateShrink:G3,hasGrown:OM,hasShrunk:QL,isGrowing:DM,isShrinking:zy,isTransitioning:u5,toggleGrow:e7,disableTransitions:W3}),RM=function(t,r,o){var s=r.expanded;return $l(s?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Uc(r.dimension.property,"0px")})},n7=function(t,r){return Sa([Eo(Th(),function(o,s){var d=s.event.raw;if(d.propertyName===t.dimension.property){W3(o,t),r.isExpanded()&&Kr(o.element,t.dimension.property);var g=r.isExpanded()?t.onGrown:t.onShrunk;g(o)}})])},r7=Object.freeze({__proto__:null,exhibit:RM,events:n7}),e=[At("closedClass"),At("openClass"),At("shrinkingClass"),At("growingClass"),Xr("getAnimationRoot"),Yr("onShrunk"),Yr("onStartShrink"),Yr("onGrown"),Yr("onStartGrow"),Ve("expanded",!1),Iu("dimension",el("property",{width:[ka("property","width"),ka("getDimension",function(t){return Vi(t)+"px"})],height:[ka("property","height"),ka("getDimension",function(t){return Mo(t)+"px"})]}))],n=function(t){var r=In(t.expanded),o=function(){return"expanded: "+r.get()};return Ki({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:xe(r.set,!1),setExpanded:xe(r.set,!0),readState:o})},a=Object.freeze({__proto__:null,init:n}),i=Ko({fields:e,name:"sliding",active:r7,apis:t7,state:a}),l="container",v=[Xo("slotBehaviours",[])],p=function(t){return"<alloy.field."+t+">"},x=function(t){var r=function(){var g=[],C=function(E,D){return g.push(E),Hw(l,p(E),D)};return{slot:C,record:ne(g)}}(),o=t(r),s=r.record(),d=Ue(s,function(g){return Ii({name:g,pname:p(g)})});return Gw(l,v,d,A,o)},A=function(t,r){var o=function(_e){return cx(t)},s=function(_e,ze){return pa(_e,t,ze)},d=function(_e,ze){return function(we,Le){return pa(we,t,Le).map(function(ft){return _e(ft,Le)}).getOr(ze)}},g=function(_e){return function(ze,we){gt(we,function(Le){return _e(ze,Le)})}},C=function(_e,ze){return Fa(_e.element,"aria-hidden")!=="true"},E=function(_e,ze){if(!C(_e)){var we=_e.element;Kr(we,"display"),ui(we,"aria-hidden"),Nn(_e,ev(),{name:ze,visible:!0})}},D=function(_e,ze){if(C(_e)){var we=_e.element;jn(we,"display","none"),lr(we,"aria-hidden","true"),Nn(_e,ev(),{name:ze,visible:!1})}},$=d(C,!1),U=d(D),G=g(U),ee=function(_e){return G(_e,o())},oe=d(E),fe={getSlotNames:o,getSlot:s,isShowing:$,hideSlot:U,hideAllSlots:ee,showSlot:oe};return{uid:t.uid,dom:t.dom,components:r,behaviours:mg(t.slotBehaviours),apis:fe}},N=fr({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return Ja(t)}),X=re(re({},N),{sketch:x}),Z=$n([Ea("icon"),Ea("tooltip"),Ta("onShow",q),Ta("onHide",q),Ta("onSetup",function(){return q})]),Q=function(t){return Ya("sidebar",Z,t)},ce=function(t){var r=t.ui.registry.getAll().sidebars;gt(Hr(r),function(o){var s=r[o],d=function(){return lu(B.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:s.icon,tooltip:s.tooltip,onAction:function(g){t.execCommand("ToggleSidebar",!1,o),g.setActive(d())},onSetup:function(g){var C=function(){return g.setActive(d())};return t.on("ToggleSidebar",C),function(){t.off("ToggleSidebar",C)}}})})},ve=function(t){return{element:function(){return t.element.dom}}},me=function(t,r){var o=Ue(Hr(r),function(s){var d=r[s],g=Al(Q(d));return{name:s,getApi:ve,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return Ue(o,function(s){var d=In(q);return t.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Ak.unnamedEvents([A1(s,d),E1(s,d),$t(ev(),function(g,C){var E=C.event,D=pt(o,function($){return $.name===E.name});D.each(function($){var U=E.visible?$.onShow:$.onHide;U($.getApi(g))})})])})})},he=function(t){return X.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:me(r,t),slotBehaviours:Ak.unnamedEvents([ir(function(o){return X.hideAllSlots(o)})])}})},De=function(t,r){var o=Sr.getCurrent(t);o.each(function(s){return nr.set(s,[he(r)])})},Ae=function(t,r){var o=Sr.getCurrent(t);o.each(function(s){var d=Sr.getCurrent(s);d.each(function(g){i.hasGrown(s)?X.isShowing(g,r)?i.shrink(s):(X.hideAllSlots(g),X.showSlot(g,r)):(X.hideAllSlots(g),X.showSlot(g,r),i.grow(s))})})},Xe=function(t){var r=Sr.getCurrent(t);return r.bind(function(o){var s=i.isGrowing(o)||i.hasGrown(o);if(s){var d=Sr.getCurrent(o);return d.bind(function(g){return pt(X.getSlotNames(g),function(C){return X.isShowing(g,C)})})}else return B.none()})},We=wn("FixSizeEvent"),Re=wn("AutoSizeEvent"),Qe=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Zt([To.config({}),Zn.config({}),i.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=Sr.getCurrent(r);o.each(X.hideAllSlots),Wr(r,Re)},onGrown:function(r){Wr(r,Re)},onStartGrow:function(r){Nn(r,We,{width:ko(r.element,"width").getOr("")})},onStartShrink:function(r){Nn(r,We,{width:Vi(r.element)+"px"})}}),nr.config({}),Sr.config({find:function(r){var o=nr.contents(r);return or(o)}})])}],behaviours:Zt([wv.childAt(0),ur("sidebar-sliding-events",[$t(We,function(r,o){jn(r.element,"width",o.event.width)}),$t(Re,function(r,o){Kr(r.element,"width")})])])}},xt=function(t,r,o,s){lr(t.element,"aria-busy",!0);var d=r.getRoot(t).getOr(t),g=Zt([Fn.config({mode:"special",onTab:function(){return B.some(!0)},onShiftTab:function(){return B.some(!0)}}),Zn.config({})]),C=s(d,g),E=d.getSystem().build(C);nr.append(d,zs(E)),E.hasConfigured(Fn)&&r.focus&&Fn.focusIn(E),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return nr.remove(d,E)})},Ft=function(t,r,o){ui(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},Vn=Object.freeze({__proto__:null,block:xt,unblock:Ft}),mn=[Ta("getRoot",B.none),Ca("focus",!0),Yr("onBlock"),Yr("onUnblock")],Bt=function(){var t=Q2(),r=function(o){t.set({destroy:o})};return Ki({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},Ln=Object.freeze({__proto__:null,init:Bt}),Vt=Ko({fields:mn,name:"blocking",apis:Vn,state:Ln}),vn=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return tt(r,function(o,s){var d;return s.name==="class"?o:re(re({},o),(d={},d[s.name]=s.value,d))},{})},jt=function(t){return Array.prototype.slice.call(t.dom.classList,0)},Qt=function(t){var r=sn.fromHtml(t),o=je(r),s=vn(r),d=jt(r),g=o.length===0?{}:{innerHtml:Gc(r)};return re({tag:Qu(r),classes:d,attributes:s},g)},yn=function(t){return function(r,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Qt('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},Pt=function(t){return Sr.getCurrent(t).each(function(r){return vc(r.element)})},hn=function(t,r){var o="tabindex",s="data-mce-"+o;B.from(t.iframeElement).map(sn.fromDom).each(function(d){r?(Xa(d,o).each(function(g){return lr(d,s,g)}),lr(d,o,-1)):(ui(d,o),Xa(d,s).each(function(g){lr(d,o,g),ui(d,s)}))})},xr=function(t,r,o,s){var d=r.element;if(hn(t,o),o)Vt.block(r,yn(s)),Kr(d,"display"),ui(d,"aria-hidden"),t.hasFocus()&&Pt(r);else{var g=Sr.getCurrent(r).exists(function(C){return Up(C.element)});Vt.unblock(r),jn(d,"display","none"),lr(d,"aria-hidden","true"),g&&t.focus()}},ra=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Zt([nr.config({}),Vt.config({focus:!1}),Sr.config({find:function(r){return or(r.components())}})]),components:[]}},Zr=function(t){return t.type==="focusin"},zi=function(t){if(Zr(t)){var r=t.composed?or(t.composedPath()):B.from(t.target);return r.map(sn.fromDom).filter(po).exists(function(o){return bu(o,"mce-pastebin")})}else return!1},uo=function(t,r,o){var s=In(!1),d=mo(),g=function(E){s.get()&&!zi(E)&&(E.preventDefault(),Pt(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",g),t.on("BeforeExecCommand",function(E){E.command.toLowerCase()==="mcefocus"&&E.value!==!0&&g(E)})});var C=function(E){E!==s.get()&&(s.set(E),xr(t,r(),E,o.providers),t.fire("AfterProgressState",{state:E}))};t.on("ProgressState",function(E){if(d.on(Ng.clearTimeout),L(E.time)){var D=Ng.setEditorTimeout(t,function(){return C(E.state)},E.time);d.set(D)}else C(E.state),d.clear()})},ju=function(t,r){var o={len:0,list:[]},s=tt(t,function(d,g){var C=r(g,d.len);return C.fold(ne(d),function(E){return{len:E.finish,list:d.list.concat([E])}})},o);return s.list},ps=function(t,r,o){return{within:t,extra:r,withinWidth:o}},It=function(t,r,o){var s=ju(t,function(E,D){var $=o(E);return B.some({element:E,start:D,finish:D+$,width:$})}),d=Ee(s,function(E){return E.finish<=r}),g=Ze(d,function(E,D){return E+D.width},0),C=s.slice(d.length);return{within:d,extra:C,withinWidth:g}},Kt=function(t){return Ue(t,function(r){return r.element})},Dn=function(t,r,o){var s=Kt(t.concat(r));return ps(s,[],o)},nt=function(t,r,o,s){var d=Kt(t).concat([o]);return ps(d,Kt(r),s)},Ht=function(t,r,o){return ps(Kt(t),[],o)},Nt=function(t,r,o){var s=It(r,t,o);return s.extra.length===0?B.some(s):B.none()},Bn=function(t,r,o,s){var d=Nt(t,r,o).getOrThunk(function(){return It(r,t-o(s),o)}),g=d.within,C=d.extra,E=d.withinWidth;return C.length===1&&C[0].width<=o(s)?Dn(g,C,E):C.length>=1?nt(g,C,s,E):Ht(g,C,E)},zn=function(t,r){var o=Ue(r,function(s){return zs(s)});Cv.setGroups(t,o)},Aa=function(t){return Qr(t,function(r){return dc(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},ni=function(t,r,o){var s=r.builtGroups.get();if(s.length!==0){var d=lf(t,r,"primary"),g=Oo.getCoupled(t,"overflowGroup");jn(d.element,"visibility","hidden");var C=s.concat([g]),E=Aa(C);o([]),zn(d,C);var D=Vi(d.element),$=Bn(D,r.builtGroups.get(),function(U){return Vi(U.element)},g);$.extra.length===0?(nr.remove(d,g),o([])):(zn(d,$.within),o($.extra)),Kr(d.element,"visibility"),Ba(d.element),E.each(Zn.focus)}},Yo=ne([Xo("splitToolbarBehaviours",[Oo]),hu("builtGroups",function(){return In([])})]),Nm=ne([nm(["overflowToggledClass"]),Fv("getOverflowBounds"),At("lazySink"),hu("overflowGroups",function(){return In([])})].concat(Yo())),Gu=ne([Ii({factory:Cv,schema:Iy(),name:"primary"}),Fs({schema:Iy(),name:"overflow"}),Fs({name:"overflow-button"}),Fs({name:"overflow-group"})]),Eu=ne(function(t,r){ki(t,Math.floor(r))}),gi=ne([nm(["toggledClass"]),At("lazySink"),tu("fetch"),Fv("getBounds"),ss("fireDismissalEventInstead",[Ve("event",Dl())]),ad()]),Vl=ne([Fs({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Zt([Nr.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Fs({factory:Cv,schema:Iy(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Zt([Fn.config({mode:"cyclic",onEscape:function(r){return pa(r,t,"button").each(Zn.focus),B.none()}})])}}})]),qu=function(t,r){var o=Oo.getCoupled(t,"toolbarSandbox");Br.isOpen(o)?Br.close(o):Br.open(o,r.toolbar())},_f=function(t,r,o,s){var d=o.getBounds.map(function(C){return C()}),g=o.lazySink(t).getOrDie();ho.positionWithinBounds(g,r,{anchor:{type:"hotspot",hotspot:t,layouts:s,overrides:{maxWidthFunction:Eu()}}},d)},Oa=function(t,r,o,s,d){Cv.setGroups(r,d),_f(t,r,o,s),Nr.on(t)},Va=function(t,r,o){var s=Qd(),d=function(C,E){o.fetch().get(function(D){Oa(t,E,o,r.layouts,D),s.link(t.element),Fn.focusIn(E)})},g=function(){Nr.off(t),Zn.focus(t),s.unlink(t.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:Zt([Fn.config({mode:"special",onEscape:function(C){return Br.close(C),B.some(!0)}}),Br.config({onOpen:d,onClose:g,isPartOf:function(C,E,D){return em(E,D)||em(t,D)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),nu.config({channels:re(re({},Vu(re({isExtraPart:pe},o.fireDismissalEventInstead.map(function(C){return{fireEventInstead:{event:C.event}}}).getOr({})))),gm({doReposition:function(){Br.getState(Oo.getCoupled(t,"toolbarSandbox")).each(function(C){_f(t,C,o,r.layouts)})}}))})])}},pi=function(t,r,o,s){return re(re({},ms.sketch(re(re({},s.button()),{action:function(d){qu(d,s)},buttonBehaviours:il.augment({dump:s.button().buttonBehaviours},[Oo.config({others:{toolbarSandbox:function(d){return Va(d,o,t)}}})])}))),{apis:{setGroups:function(d,g){Br.getState(Oo.getCoupled(d,"toolbarSandbox")).each(function(C){Oa(d,C,t,o.layouts,g)})},reposition:function(d){Br.getState(Oo.getCoupled(d,"toolbarSandbox")).each(function(g){_f(d,g,t,o.layouts)})},toggle:function(d){qu(d,s)},getToolbar:function(d){return Br.getState(Oo.getCoupled(d,"toolbarSandbox"))},isOpen:function(d){return Br.isOpen(Oo.getCoupled(d,"toolbarSandbox"))}}})},bs=xu({name:"FloatingToolbarButton",factory:pi,configFields:gi(),partFields:Vl(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),_v=ne([At("items"),nm(["itemSelector"]),Xo("tgroupBehaviours",[Fn])]),xv=ne([sf({name:"items",unit:"item"})]),Jg=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:fi(t.tgroupBehaviours,[Fn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},Fy=xu({name:"ToolbarGroup",configFields:_v(),partFields:xv(),factory:Jg}),q3=function(t){return Ue(t,function(r){return zs(r)})},$M=function(t,r,o){ni(t,o,function(s){o.overflowGroups.set(s),r.getOpt(t).each(function(d){bs.setGroups(d,q3(s))})})},BM=function(t,r,o,s){var d=oa(bs.sketch({fetch:function(){return Ji.nu(function(g){g(q3(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[ei,Xi]},onRtl:function(){return[Xi,ei]},onBottomLtr:function(){return[Su,Cu]},onBottomRtl:function(){return[Cu,Su]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:fi(t.splitToolbarBehaviours,[Oo.config({others:{overflowGroup:function(){return Fy.sketch(re(re({},s["overflow-group"]()),{items:[d.asSpec()]}))}}})]),apis:{setGroups:function(g,C){t.builtGroups.set(Ue(C,g.getSystem().build)),$M(g,d,t)},refresh:function(g){return $M(g,d,t)},toggle:function(g){d.getOpt(g).each(function(C){bs.toggle(C)})},isOpen:function(g){return d.getOpt(g).map(bs.isOpen).getOr(!1)},reposition:function(g){d.getOpt(g).each(function(C){bs.reposition(C)})},getOverflow:function(g){return d.getOpt(g).bind(bs.getToolbar)}},domModification:{attributes:{role:"group"}}}},s5=xu({name:"SplitFloatingToolbar",configFields:Nm(),partFields:Gu(),factory:BM,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),a7=ne([nm(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Yr("onOpened"),Yr("onClosed")].concat(Yo())),MM=ne([Ii({factory:Cv,schema:Iy(),name:"primary"}),Ii({factory:Cv,schema:Iy(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Zt([i.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){pa(r,t,"overflow-button").each(function(o){Nr.off(o),Zn.focus(o)}),t.onClosed(r)},onGrown:function(r){Fn.focusIn(r),t.onOpened(r)},onStartGrow:function(r){pa(r,t,"overflow-button").each(Nr.on)}}),Fn.config({mode:"acyclic",onEscape:function(r){return pa(r,t,"overflow-button").each(Zn.focus),B.some(!0)}})])}}}),Fs({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Zt([Nr.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Fs({name:"overflow-group"})]),o7=function(t,r){return pa(t,r,"overflow").map(i.hasGrown).getOr(!1)},PM=function(t,r){pa(t,r,"overflow-button").bind(function(){return pa(t,r,"overflow")}).each(function(o){l5(t,r),i.toggleGrow(o)})},l5=function(t,r){pa(t,r,"overflow").each(function(o){ni(t,r,function(s){var d=Ue(s,function(g){return zs(g)});Cv.setGroups(o,d)}),pa(t,r,"overflow-button").each(function(s){i.hasGrown(o)&&Nr.on(s)}),i.refresh(o)})},i7=function(t,r,o,s){var d="alloy.toolbar.toggle",g=function(C,E){var D=Ue(E,C.getSystem().build);t.builtGroups.set(D)};return{uid:t.uid,dom:t.dom,components:r,behaviours:fi(t.splitToolbarBehaviours,[Oo.config({others:{overflowGroup:function(C){return Fy.sketch(re(re({},s["overflow-group"]()),{items:[ms.sketch(re(re({},s["overflow-button"]()),{action:function(E){Wr(C,d)}}))]}))}}}),ur("toolbar-toggle-events",[$t(d,function(C){PM(C,t)})])]),apis:{setGroups:function(C,E){g(C,E),l5(C,t)},refresh:function(C){return l5(C,t)},toggle:function(C){return PM(C,t)},isOpen:function(C){return o7(C,t)}},domModification:{attributes:{role:"group"}}}},zm=xu({name:"SplitSlidingToolbar",configFields:a7(),partFields:MM(),factory:i7,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),c5=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:re({tag:"div",classes:["tox-toolbar__group"]},r),components:[Fy.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Zt([To.config({}),Zn.config({})])}},Ie=function(t){return Fy.sketch(c5(t))},st=function(t,r){var o=ir(function(s){var d=Ue(t.initGroups,Ie);Cv.setGroups(s,d)});return Zt([hf.toolbarButton(t.providers.isDisabled),ti(),Fn.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),ur("toolbar-events",[o])])},Ut=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":c5({title:B.none(),items:[]}),"overflow-button":pB({name:"more",icon:B.some("more-drawer"),disabled:!1,tooltip:B.some("More..."),primary:!1,borderless:!1},B.none(),t.providers)},splitToolbarBehaviours:st(t,r)}},nn=function(t){var r=Ut(t),o=4,s=s5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return s5.sketch(re(re({},r),{lazySink:t.getSink,getOverflowBounds:function(){var d=t.moreDrawerData.lazyHeader().element,g=Lc(d),C=wt(d),E=Lc(C),D=Math.max(C.dom.scrollHeight,E.height);return Vo(g.x+o,E.y,g.width-o*2,D)},parts:re(re({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},pr=function(t){var r=zm.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=zm.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=Ut(t);return zm.sketch(re(re({},s),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(d){d.getSystem().broadcastOn([QO()],{type:"opened"})},onClosed:function(d){d.getSystem().broadcastOn([QO()],{type:"closed"})}}))},Gr=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return Cv.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Fl.scrolling?["tox-toolbar--scrolling"]:[])},components:[Cv.parts.groups({})],toolbarBehaviours:st(t,r)})},Za=function(t,r,o){var s={getSocket:function(d){return Ws.getPart(d,t,"socket")},setSidebar:function(d,g){Ws.getPart(d,t,"sidebar").each(function(C){return De(C,g)})},toggleSidebar:function(d,g){Ws.getPart(d,t,"sidebar").each(function(C){return Ae(C,g)})},whichSidebar:function(d){return Ws.getPart(d,t,"sidebar").bind(Xe).getOrNull()},getHeader:function(d){return Ws.getPart(d,t,"header")},getToolbar:function(d){return Ws.getPart(d,t,"toolbar")},setToolbar:function(d,g){Ws.getPart(d,t,"toolbar").each(function(C){C.getApis().setGroups(C,g)})},setToolbars:function(d,g){Ws.getPart(d,t,"multiple-toolbar").each(function(C){dM.setItems(C,g)})},refreshToolbar:function(d){var g=Ws.getPart(d,t,"toolbar");g.each(function(C){return C.getApis().refresh(C)})},toggleToolbarDrawer:function(d){Ws.getPart(d,t,"toolbar").each(function(g){Df(g.getApis().toggle,function(C){return C(g)})})},isToolbarDrawerToggled:function(d){return Ws.getPart(d,t,"toolbar").bind(function(g){return B.from(g.getApis().isOpen).map(function(C){return C(g)})}).getOr(!1)},getThrobber:function(d){return Ws.getPart(d,t,"throbber")},focusToolbar:function(d){var g=Ws.getPart(d,t,"toolbar").orThunk(function(){return Ws.getPart(d,t,"multiple-toolbar")});g.each(function(C){Fn.focusIn(C)})},setMenubar:function(d,g){Ws.getPart(d,t,"menubar").each(function(C){a5.setMenus(C,g)})},focusMenubar:function(d){Ws.getPart(d,t,"menubar").each(function(g){a5.focus(g)})}};return{uid:t.uid,dom:t.dom,components:r,apis:s,behaviours:t.behaviours}},Zg=qg.optional({factory:a5,name:"menubar",schema:[At("backstage")]}),SG=function(t){return t.type===Fl.sliding?pr:t.type===Fl.floating?nn:Gr},_G=qg.optional({factory:{sketch:function(t){return dM.sketch({uid:t.uid,dom:t.dom,listBehaviours:Zt([Fn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return Gr({type:t.type,uid:wn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),B.some(!0)}})},setupItem:function(r,o,s,d){Cv.setGroups(o,s)},shell:!0})}},name:"multiple-toolbar",schema:[At("dom"),At("onEscape")]}),xG=qg.optional({factory:{sketch:function(t){var r=SG(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),B.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[At("dom"),At("onEscape"),At("getSink")]}),kG=qg.optional({factory:{sketch:EM},name:"header",schema:[At("dom")]}),AG=qg.optional({name:"socket",schema:[At("dom")]}),EG=qg.optional({factory:{sketch:Qe},name:"sidebar",schema:[At("dom")]}),TG=qg.optional({factory:{sketch:ra},name:"throbber",schema:[At("dom")]}),zo=xu({name:"OuterContainer",factory:Za,configFields:[At("dom"),At("behaviours")],partFields:[kG,Zg,xG,_G,AG,EG,TG],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var s=Ue(o,function(d){return Ie(d)});t.setToolbar(r,s)},setToolbars:function(t,r,o){var s=Ue(o,function(d){return Ue(d,Ie)});t.setToolbars(r,s)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),OG="file edit view insert format tools table help",m9={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},DG=function(t,r,o){var s=AD(o).split(/[ ,]/);return{text:t.title,getItems:function(){return Wt(t.items,function(d){var g=d.toLowerCase();return g.trim().length===0?[]:Sn(s,function(C){return C===g})?[]:g==="separator"||g==="|"?[{type:"separator"}]:r.menuItems[g]?[r.menuItems[g]]:[]})}}},u7=function(t){return typeof t=="string"?t.split(" "):t},h9=function(t,r){var o=re(re({},m9),r.menus),s=Hr(r.menus).length>0,d=r.menubar===void 0||r.menubar===!0?u7(OG):u7(r.menubar===!1?"":r.menubar),g=Ee(d,function(E){var D=Pr(m9,E);return s?D||En(r.menus,E).exists(function($){return Pr($,"items")}):D}),C=Ue(g,function(E){var D=o[E];return DG({title:D.title,items:u7(D.items)},r,t)});return Ee(C,function(E){var D=function($){return $.type!=="separator"};return E.getItems().length>0&&Sn(E.getItems(),D)})},g9=function(t){var r=function(){t._skinLoaded=!0,HP(t)};return function(){t.initialized?r():t.on("init",r)}},RG=function(t,r){return function(){return aR(t,{message:r})}},p9=function(t,r,o){return new OC(function(s,d){o.load(r,s,d),t.on("remove",function(){return o.unload(r)})})},$G=function(t,r){var o=r+"/skin.min.css";return p9(t,o,t.ui.styleSheetLoader)},BG=function(t,r){var o=cb(sn.fromDom(t.getElement()));if(o){var s=r+"/skin.shadowdom.min.css";return p9(t,s,_y.DOM.styleSheetLoader)}else return OC.resolve()},b9=function(t,r){var o=aP(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),iP(r)===!1&&S(o)?OC.all([$G(r,o),BG(r,o)]).then(g9(r),RG(r,"Skin could not be loaded")):g9(r)()},MG=xe(b9,!1),PG=xe(b9,!0),IM=function(t,r){return function(o){var s=jh(),d=function(){o.setActive(t.formatter.match(r));var g=t.formatter.formatChanged(r,o.setActive);s.set(g)};return t.initialized?d():t.once("init",d),function(){t.off("init",d),s.clear()}}},NM=function(t,r,o){return function(s){var d=function(){return o(s)},g=function(){o(s),t.on(r,d)};return t.initialized?g():t.once("init",g),function(){t.off("init",g),t.off(r,d)}}},y9=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},kv=function(t,r){return function(){return t.execCommand(r)}},IG=function(t,r,o){var s=function(E,D,$,U){var G=r.shared.providers.translate(E.title);if(E.type==="separator")return B.some({type:"separator",text:G});if(E.type==="submenu"){var ee=Wt(E.getStyleItems(),function(oe){return d(oe,D,U)});return D===0&&ee.length<=0?B.none():B.some({type:"nestedmenuitem",text:G,disabled:ee.length<=0,getSubmenuItems:function(){return Wt(E.getStyleItems(),function(oe){return d(oe,D,U)})}})}else return B.some(re({type:"togglemenuitem",text:G,icon:E.icon,active:E.isSelected(U),disabled:$,onAction:o.onAction(E)},E.getStylePreview().fold(function(){return{}},function(oe){return{meta:{style:oe}}})))},d=function(E,D,$){var U=E.type==="formatter"&&o.isInvalid(E);return D===0?U?[]:s(E,D,!1,$).toArray():s(E,D,U,$).toArray()},g=function(E){var D=o.getCurrentValue(),$=o.shouldHide?0:1;return Wt(E,function(U){return d(U,$,D)})},C=function(E,D){return function($,U){var G=D(),ee=g(G),oe=My(ee,uu.CLOSE_ON_EXECUTE,E,!1);U(oe)}};return{validateItems:g,getFetch:C}},K3=function(t,r,o){var s=o.dataset,d=s.type==="basic"?function(){return Ue(s.data,function(g){return jO(g,o.isSelectedFor,o.getPreviewFor)})}:s.getData;return{items:IG(t,r,o),getStyleItems:d}},f5=function(t,r,o){var s=K3(t,r,o),d=s.items,g=s.getStyleItems,C=function(D){return{getComponent:ne(D)}},E=NM(t,"NodeChange",function(D){var $=D.getComponent();o.updateText($)});return b3({text:o.icon.isSome()?B.none():o.text,icon:o.icon,tooltip:B.from(o.tooltip),role:B.none(),fetch:d.getFetch(r,g),onSetup:E,getApi:C,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},NG=function(t){return Ue(t,function(r){var o=r,s=r,d=r.split("=");return d.length>1&&(o=d[0],s=d[1]),{title:o,format:s}})},zG=function(t){return{type:"basic",data:t}},X3;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(X3||(X3={}));var FG=function(t,r){return r===X3.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},s7=function(t,r,o,s){var d=t.getParam(r,o,"string"),g=NG(FG(d,s));return{type:"basic",data:g}},l7=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],w9=function(t){var r=function(){return pt(l7,function(E){return t.formatter.match(E.format)})},o=function(E){return function(){return t.formatter.match(E)}},s=function(E){return B.none},d=function(E){var D=r(),$=D.fold(ne("left"),function(U){return U.title.toLowerCase()});Nn(E,mB,{icon:"align-"+$})},g=zG(l7),C=function(E){return function(){return pt(l7,function(D){return D.format===E.format}).each(function(D){return t.execCommand(D.command)})}};return{tooltip:"Align",text:B.none(),icon:B.some("align-left"),isSelectedFor:o,getCurrentValue:B.none,getPreviewFor:s,onAction:C,updateText:d,dataset:g,shouldHide:!1,isInvalid:function(E){return!t.formatter.canApply(E.format)}}},LG=function(t,r){return f5(t,r,w9(t))},HG=function(t,r){var o=K3(t,r,w9(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},VG="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",UG=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],C9=function(t){var r=t.split(/\s*,\s*/);return Ue(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},WG=function(t){var r=function(){var o=C9(t.toLowerCase());return Rt(UG,function(s){return o.indexOf(s.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},S9=function(t){var r="System Font",o=function(){var $=function(fe){return fe?C9(fe)[0]:""},U=t.queryCommandValue("FontName"),G=D.data,ee=U?U.toLowerCase():"",oe=pt(G,function(fe){var _e=fe.format;return _e.toLowerCase()===ee||$(_e).toLowerCase()===$(ee).toLowerCase()}).orThunk(function(){return qs(WG(ee),{title:r,format:ee})});return{matchOpt:oe,font:U}},s=function($){return function(U){return U.exists(function(G){return G.format===$})}},d=function(){var $=o().matchOpt;return $},g=function($){return function(){return B.some({tag:"div",styles:$.indexOf("dings")===-1?{"font-family":$}:{}})}},C=function($){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,$.format)})}},E=function($){var U=o(),G=U.matchOpt,ee=U.font,oe=G.fold(ne(ee),function(fe){return fe.title});Nn($,L1,{text:oe})},D=s7(t,"font_formats",VG,X3.SemiColon);return{tooltip:"Fonts",text:B.some(r),icon:B.none(),isSelectedFor:s,getCurrentValue:d,getPreviewFor:g,onAction:C,updateText:E,dataset:D,shouldHide:!1,isInvalid:pe}},jG=function(t,r){return f5(t,r,S9(t))},GG=function(t,r){var o=K3(t,r,S9(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},qG="8pt 10pt 12pt 14pt 18pt 24pt 36pt",KG={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},XG={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},YG=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},JG=function(t,r){return/[0-9.]+px$/.test(t)?YG(parseInt(t,10)*72/96,r||0)+"pt":En(XG,t).getOr(t)},ZG=function(t){return En(KG,t).getOr("")},_9=function(t){var r=function(){var D=B.none(),$=E.data,U=t.queryCommandValue("FontSize");if(U)for(var G=function(oe){var fe=JG(U,oe),_e=ZG(fe);D=pt($,function(ze){return ze.format===U||ze.format===fe||ze.format===_e})},ee=3;D.isNone()&&ee>=0;ee--)G(ee);return{matchOpt:D,size:U}},o=function(D){return function($){return $.exists(function(U){return U.format===D})}},s=function(){var D=r().matchOpt;return D},d=ne(B.none),g=function(D){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,D.format)})}},C=function(D){var $=r(),U=$.matchOpt,G=$.size,ee=U.fold(ne(G),function(oe){return oe.title});Nn(D,L1,{text:ee})},E=s7(t,"fontsize_formats",qG,X3.Space);return{tooltip:"Font sizes",text:B.some("12pt"),icon:B.none(),isSelectedFor:o,getPreviewFor:d,getCurrentValue:s,onAction:g,updateText:C,dataset:E,shouldHide:!1,isInvalid:pe}},QG=function(t,r){return f5(t,r,_9(t))},eq=function(t,r){var o=K3(t,r,_9(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},x9=function(t,r){var o=r(),s=Ue(o,function(d){return d.format});return B.from(t.formatter.closest(s)).bind(function(d){return pt(o,function(g){return g.format===d})}).orThunk(function(){return qs(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},tq="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",k9=function(t){var r="Paragraph",o=function(C){return function(){return t.formatter.match(C)}},s=function(C){return function(){var E=t.formatter.get(C);return B.some({tag:E.length>0&&(E[0].inline||E[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))})}},d=function(C){var E=x9(t,function(){return g.data}),D=E.fold(ne(r),function($){return $.title});Nn(C,L1,{text:D})},g=s7(t,"block_formats",tq,X3.SemiColon);return{tooltip:"Blocks",text:B.some(r),icon:B.none(),isSelectedFor:o,getCurrentValue:B.none,getPreviewFor:s,onAction:y9(t),updateText:d,dataset:g,shouldHide:!1,isInvalid:function(C){return!t.formatter.canApply(C.format)}}},nq=function(t,r){return f5(t,r,k9(t))},rq=function(t,r){var o=K3(t,r,k9(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},A9=function(t,r){var o="Paragraph",s=function(C){return function(){return t.formatter.match(C)}},d=function(C){return function(){var E=t.formatter.get(C);return E!==void 0?B.some({tag:E.length>0&&(E[0].inline||E[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))}):B.none()}},g=function(C){var E=function(G){var ee=G.items;return ee!==void 0&&ee.length>0?Wt(ee,E):[{title:G.title,format:G.format}]},D=Wt(WO(t),E),$=x9(t,ne(D)),U=$.fold(ne(o),function(G){return G.title});Nn(C,L1,{text:U})};return{tooltip:"Formats",text:B.some(o),icon:B.none(),isSelectedFor:s,getCurrentValue:B.none,getPreviewFor:d,onAction:y9(t),updateText:g,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(C){return!t.formatter.canApply(C.format)},dataset:r}},aq=function(t,r){var o=re({type:"advanced"},r.styleselect);return f5(t,r,A9(t,o))},oq=function(t,r){var o=re({type:"advanced"},r.styleselect),s=K3(t,r,A9(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},iq=function(t,r){var o=function(s,d){t.updateState.each(function(g){var C=g(s,d);r.set(C)}),t.renderComponents.each(function(g){var C=g(d,r.get()),E=Ue(C,s.getSystem().build);_w(s,E)})};return Sa([$t(nl(),function(s,d){var g=d;if(!g.universal){var C=t.channel;lt(g.channels,C)&&o(s,g.data)}}),ir(function(s,d){t.initialData.each(function(g){o(s,g)})})])},uq=Object.freeze({__proto__:null,events:iq}),sq=function(t,r,o){return o},lq=Object.freeze({__proto__:null,getState:sq}),cq=[At("channel"),Xr("renderComponents"),Xr("updateState"),Xr("initialData")],fq=function(){var t=In(B.none()),r=function(){return t.set(B.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:r}},vq=Object.freeze({__proto__:null,init:fq}),kc=Ko({fields:cq,name:"reflecting",active:uq,apis:lq,state:vq}),dq=ne([At("toggleClass"),At("fetch"),wu("onExecute"),Ve("getHotspot",B.some),Ve("getAnchorOverrides",ne({})),ad(),wu("onItemExecute"),Xr("lazySink"),At("dom"),Yr("onOpen"),Xo("splitDropdownBehaviours",[Oo,Fn,Zn]),Ve("matchWidth",!1),Ve("useMinWidth",!1),Ve("eventOrder",{}),Xr("role")].concat(WT())),mq=Ii({factory:ms,schema:[At("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Zt([Zn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(Bs)},buttonBehaviours:Zt([Nr.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),hq=Ii({factory:ms,schema:[At("dom")],name:"button",defaults:function(){return{buttonBehaviours:Zt([Zn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),gq=ne([mq,hq,ul({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[At("text")],name:"aria-descriptor"}),Fs({schema:[tm()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(s){t.onItemExecute(s,r,o)})}}}}),qR()]),pq=function(t,r,o,s){var d,g=function(G){Sr.getCurrent(G).each(function(ee){na.highlightFirst(ee),Fn.focusIn(ee)})},C=function(G){var ee=g;Ty(t,Se,G,s,ee,gf.HighlightFirst).get(q)},E=function(G){return C(G),B.some(!0)},D=function(G){var ee=lf(G,t,"button");return Bs(ee),B.some(!0)},$=re(re({},Sa([ir(function(G,ee){var oe=pa(G,t,"aria-descriptor");oe.each(function(fe){var _e=wn("aria");lr(fe.element,"id",_e),lr(G.element,"aria-describedby",_e)})})])),my(B.some(C))),U={repositionMenus:function(G){Nr.isOn(G)&&Hg(G)}};return{uid:t.uid,dom:t.dom,components:r,apis:U,eventOrder:re(re({},t.eventOrder),(d={},d[Rs()]=["disabling","toggling","alloy.base.behaviour"],d)),events:$,behaviours:fi(t.splitDropdownBehaviours,[Oo.config({others:{sandbox:function(G){var ee=lf(G,t,"arrow"),oe={onOpen:function(){Nr.on(ee),Nr.on(G)},onClose:function(){Nr.off(ee),Nr.off(G)}};return UT(t,G,oe)}}}),Fn.config({mode:"special",onSpace:D,onEnter:D,onDown:E}),Zn.config({}),Nr.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},zM=xu({name:"SplitDropdown",configFields:dq(),partFields:gq(),factory:pq,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),bq=function(t){return{isDisabled:function(){return Pn.isDisabled(t)},setDisabled:function(r){return Pn.set(t,r)}}},yq=function(t){return{setActive:function(r){Nr.set(t,r)},isActive:function(){return Nr.isOn(t)},isDisabled:function(){return Pn.isDisabled(t)},setDisabled:function(r){return Pn.set(t,r)}}},E9=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},T9=wn("focus-button"),c7=function(t,r,o,s,d,g){var C;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:E9(o,g)},components:Tm([t.map(function(E){return p3(E,g.icons)}),r.map(function(E){return AO(E,"tox-tbtn",g)})]),eventOrder:(C={},C[Ol()]=["focusing","alloy.base.behaviour","common-button-display-events"],C),buttonBehaviours:Zt([hf.toolbarButton(g.isDisabled),ti(),ur("common-button-display-events",[$t(Ol(),function(E,D){D.event.prevent(),Wr(E,T9)})])].concat(s.map(function(E){return kc.config({channel:E,initialData:{icon:t,text:r},renderComponents:function(D,$){return Tm([D.icon.map(function(U){return p3(U,g.icons)}),D.text.map(function(U){return AO(U,"tox-tbtn",g)})])}})}).toArray()).concat(d.getOr([])))}},wq=function(t,r,o,s){var d=r.shared;return bs.sketch({lazySink:d.getSink,fetch:function(){return Ji.nu(function(g){g(Ue(o(t.items),Ie))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:c7(t.icon,t.text,t.tooltip,B.none(),B.none(),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},O9=function(t,r,o){var s=In(q),d=c7(t.icon,t.text,t.tooltip,B.none(),B.none(),o);return ms.sketch({dom:d.dom,components:d.components,eventOrder:dB,buttonBehaviours:Zt([ur("toolbar-button-events",[vB({onAction:t.onAction,getApi:r.getApi}),A1(r,s),E1(r,s)]),hf.toolbarButton(function(){return t.disabled||o.isDisabled()}),ti()].concat(r.toolbarButtonBehaviours))})},Cq=function(t,r){return D9(t,r,[])},D9=function(t,r,o){return O9(t,{toolbarButtonBehaviours:[].concat(o.length>0?[ur("toolbarButtonWith",o)]:[]),getApi:bq,onSetup:t.onSetup},r)},Sq=function(t,r){return R9(t,r,[])},R9=function(t,r,o){return bt(O9(t,{toolbarButtonBehaviours:[nr.config({}),Nr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[ur("toolbarToggleButtonWith",o)]:[]),getApi:yq,onSetup:t.onSetup},r))},_q=function(t,r,o){return function(s){return Ji.nu(function(d){return r.fetch(d)}).map(function(d){return B.from(ER(bt(RT(wn("menu-value"),d,function(g){r.onItemAction(t(s),g)},r.columns,r.presets,uu.CLOSE_ON_EXECUTE,r.select.getOr(pe),o),{movement:Lk(r.columns,r.presets),menuBehaviours:Ak.unnamedEvents(r.columns!=="auto"?[]:[ir(function(g,C){cT(g,4,iD(r.presets)).each(function(E){var D=E.numRows,$=E.numColumns;Fn.setGridSize(g,D,$)})})])})))})}},xq=function(t,r){var o,s=wn("channel-update-split-dropdown-display"),d=function(E){return{isDisabled:function(){return Pn.isDisabled(E)},setDisabled:function(D){return Pn.set(E,D)},setIconFill:function(D,$){jo(E.element,'svg path[id="'+D+'"], rect[id="'+D+'"]').each(function(U){lr(U,"fill",$)})},setIconStroke:function(D,$){jo(E.element,'svg path[id="'+D+'"], rect[id="'+D+'"]').each(function(U){lr(U,"stroke",$)})},setActive:function(D){lr(E.element,"aria-pressed",D),jo(E.element,"span").each(function($){E.getSystem().getByDom($).each(function(U){return Nr.set(U,D)})})},isActive:function(){return jo(E.element,"span").exists(function(D){return E.getSystem().getByDom(D).exists(Nr.isOn)})}}},g=In(q),C={getApi:d,onSetup:t.onSetup};return zM.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:re({"aria-pressed":!1},E9(t.tooltip,r.providers))},onExecute:function(E){t.onAction(d(E))},onItemExecute:function(E,D,$){},splitDropdownBehaviours:Zt([hf.splitButton(r.providers.isDisabled),ti(),ur("split-dropdown-events",[$t(T9,Zn.focus),A1(C,g),E1(C,g)]),JC.config({})]),eventOrder:(o={},o[ls()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:_q(d,t,r.providers),parts:{menu:x1(!1,t.columns,t.presets)},components:[zM.parts.button(c7(t.icon,t.text,B.none(),B.some(s),B.some([Nr.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),zM.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:U5("chevron-down",r.providers.icons)},buttonBehaviours:Zt([hf.splitButton(r.providers.isDisabled),ti(),zE()])}),zM.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},kq=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],v5=function(t,r){return function(o,s,d){var g=t(o).mapError(function(C){return zv(C)}).getOrDie();return r(g,s,d)}},Y3={button:v5(J5,function(t,r){return Cq(t,r.backstage.shared.providers)}),togglebutton:v5(Ck,function(t,r){return Sq(t,r.backstage.shared.providers)}),menubutton:v5(K1,function(t,r){return OO(t,"tox-tbtn",r.backstage,B.none())}),splitbutton:v5(XL,function(t,r){return xq(t,r.backstage.shared)}),grouptoolbarbutton:v5(jL,function(t,r,o){var s,d=o.ui.registry.getAll().buttons,g=function(E){return FM(o,{buttons:d,toolbar:E,allowToolbarGroups:!1},r,B.none())},C=(s={},s[d0]=r.backstage.shared.header.isPositionedAtTop()?ef.TopToBottom:ef.BottomToTop,s);switch(NC(o)){case Fl.floating:return wq(t,r.backstage,g,C);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return aq(t,r.backstage)},fontsizeSelectButton:function(t,r){return QG(t,r.backstage)},fontSelectButton:function(t,r){return jG(t,r.backstage)},formatButton:function(t,r){return nq(t,r.backstage)},alignMenuButton:function(t,r){return LG(t,r.backstage)}},Aq=function(t,r,o){return En(Y3,t.type).fold(function(){return console.error("skipping button defined by",t),B.none()},function(s){return B.some(s(t,r,o))})},$9={styleselect:Y3.styleSelectButton,fontsizeselect:Y3.fontsizeSelectButton,fontselect:Y3.fontSelectButton,formatselect:Y3.formatButton,align:Y3.alignMenuButton},Eq=function(t){var r=Ue(kq,function(o){var s=Ee(o.items,function(d){return Pr(t,d)||Pr($9,d)});return{name:o.name,items:s}});return Ee(r,function(o){return o.items.length>0})},Tq=function(t){var r=t.split("|");return Ue(r,function(o){return{items:o.trim().split(" ")}})},Oq=function(t){return Y(t,function(r){return Pr(r,"name")&&Pr(r,"items")})},Dq=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?Eq(o):S(r)?Tq(r):Oq(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},Rq=function(t,r,o,s,d,g){return En(r,o.toLowerCase()).orThunk(function(){return g.bind(function(C){return Qr(C,function(E){return En(r,E+o.toLowerCase())})})}).fold(function(){return En($9,o.toLowerCase()).map(function(C){return C(t,d)}).orThunk(function(){return B.none()})},function(C){return C.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),B.none()):Aq(C,d,t)})},FM=function(t,r,o,s){var d=Dq(r),g=Ue(d,function(C){var E=Wt(C.items,function(D){return D.trim().length===0?[]:Rq(t,r.buttons,D,r.allowToolbarGroups,o,s).toArray()});return{title:B.from(t.translate(C.name)),items:E}});return Ee(g,function(C){return C.items.length>0})},B9=function(t,r,o,s){var d=r.outerContainer,g=o.toolbar,C=o.buttons;if(Y(g,S)){var E=g.map(function(D){var $={toolbar:D,buttons:C,allowToolbarGroups:o.allowToolbarGroups};return FM(t,$,{backstage:s},B.none())});zo.setToolbars(d,E)}else zo.setToolbar(d,FM(t,o,{backstage:s},B.none()))},M9=Hn(),$q=M9.os.isiOS()&&M9.os.version.major<=12,Bq=function(t,r){var o=t.dom,s=t.getWin(),d=t.getDoc().documentElement,g=In(ya(s.innerWidth,s.innerHeight)),C=In(ya(d.offsetWidth,d.offsetHeight)),E=function(){var ee=g.get();(ee.left!==s.innerWidth||ee.top!==s.innerHeight)&&(g.set(ya(s.innerWidth,s.innerHeight)),ST(t))},D=function(){var ee=t.getDoc().documentElement,oe=C.get();(oe.left!==ee.offsetWidth||oe.top!==ee.offsetHeight)&&(C.set(ya(ee.offsetWidth,ee.offsetHeight)),ST(t))},$=function(ee){return UP(t,ee)};o.bind(s,"resize",E),o.bind(s,"scroll",$);var U=l0(sn.fromDom(t.getBody()),"load",D),G=r.uiMothership.element;t.on("hide",function(){jn(G,"display","none")}),t.on("show",function(){Kr(G,"display")}),t.on("NodeChange",D),t.on("remove",function(){U.unbind(),o.unbind(s,"resize",E),o.unbind(s,"scroll",$),s=null})},Mq=function(t,r,o,s,d){var g=In(0),C=r.outerContainer;MG(t);var E=sn.fromDom(d.targetNode),D=Zl(xs(E));Ml(E,r.mothership),sv(D,r.uiMothership),t.on("PostRender",function(){B9(t,r,o,s),g.set(t.getWin().innerWidth),zo.setMenubar(C,h9(t,o)),zo.setSidebar(C,o.sidebar),Bq(t,r)});var $=zo.getSocket(C).getOrDie("Could not find expected socket element");if($q){rs($.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var U=f6(function(){t.fire("ScrollContent")},20),G=wo($.element,"scroll",U.throttle);t.on("remove",G.unbind)}zD(t,r),t.addCommand("ToggleSidebar",function(_e,ze){zo.toggleSidebar(C,ze),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return zo.whichSidebar(C)});var ee=NC(t),oe=function(){zo.refreshToolbar(r.outerContainer)};(ee===Fl.sliding||ee===Fl.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var _e=t.getWin().innerWidth;_e!==g.get()&&(oe(),g.set(_e))});var fe={enable:function(){xy(r,!1)},disable:function(){xy(r,!0)},isDisabled:function(){return Pn.isDisabled(C)}};return{iframeContainer:$.element.dom,editorContainer:C.element.dom,api:fe}},Pq=Object.freeze({__proto__:null,render:Mq}),f7=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?B.some(parseInt(""+t,10)):B.none()},v7=function(t){return L(t)?t+"px":t},LM=function(t,r,o){var s=r.filter(function(g){return t<g}),d=o.filter(function(g){return t>g});return s.or(d).getOr(t)},Iq=function(t){var r=Tk(t),o=SD(t),s=_D(t);return f7(r).map(function(d){return LM(d,o,s)})},Nq=function(t){var r=Iq(t);return r.getOr(Tk(t))},P9=function(t){var r=Ok(t),o=mT(t),s=Dk(t);return f7(r).map(function(d){return LM(d,o,s)})},zq=function(t){var r=P9(t);return r.getOr(Ok(t))},Fq=function(t,r,o,s,d){var g=o.uiMothership,C=o.outerContainer,E=_y.DOM,D=$k(t),$=Bk(t),U=Dk(t).or(P9(t)),G=s.shared.header,ee=G.isPositionedAtTop,oe=NC(t),fe=oe===Fl.sliding||oe===Fl.floating,_e=In(!1),ze=function(){return _e.get()&&!t.removed},we=function(Mt){return fe?Mt.fold(ne(0),function(Ct){return Ct.components().length>1?Mo(Ct.components()[1].element):0}):0},Le=function(Mt){switch(TD(t)){case k1.auto:var Ct=zo.getToolbar(C),Xt=we(Ct),Cn=Mo(Mt.element)-Xt,Ot=Ao(r),bn=Ot.y>Cn;if(bn)return"top";var An=wt(r),Ar=Math.max(An.dom.scrollHeight,Mo(An)),ia=Ot.bottom<Ar-Cn;if(ia)return"bottom";var Pa=Ai(),so=Pa.bottom<Ot.bottom-Cn;return so?"bottom":"top";case k1.bottom:return"bottom";case k1.top:default:return"top"}},ft=function(Mt){var Ct=d.get();Do.setModes(Ct,[Mt]),G.setDockingMode(Mt);var Xt=ee()?ef.TopToBottom:ef.BottomToTop;lr(Ct.element,d0,Xt)},ct=function(){var Mt=U.getOrThunk(function(){var Ct=f7(ro(Hi(),"margin-left")).getOr(0);return Vi(Hi())-vu(r).left+Ct});jn(d.get().element,"max-width",Mt+"px")},Fe=function(){var Mt=zo.getToolbar(C),Ct=we(Mt),Xt=Ao(r),Cn=ee()?Math.max(Xt.y-Mo(d.get().element)+Ct,0):Xt.bottom;rs(C.element,{position:"absolute",top:Math.round(Cn)+"px",left:Math.round(Xt.x)+"px"})},rt=function(){g.broadcastOn([cg()],{})},St=function(Mt){if(Mt===void 0&&(Mt=!1),!!ze()){if(D||ct(),fe&&zo.refreshToolbar(C),D||Fe(),$){var Ct=d.get();Mt?Do.reset(Ct):Do.refresh(Ct)}rt()}},on=function(Mt){if(Mt===void 0&&(Mt=!0),!(D||!$||!ze())){var Ct=G.getDockingMode(),Xt=Le(d.get());Xt!==Ct&&(ft(Xt),Mt&&St(!0))}},Dt=function(){_e.set(!0),jn(C.element,"display","flex"),E.addClass(t.getBody(),"mce-edit-focus"),Kr(g.element,"display"),on(!1),St()},ln=function(){_e.set(!1),o.outerContainer&&(jn(C.element,"display","none"),E.removeClass(t.getBody(),"mce-edit-focus")),jn(g.element,"display","none")};return{isVisible:ze,isPositionedAtTop:ee,show:Dt,hide:ln,update:St,updateMode:on,repositionPopups:rt}},I9=function(t,r){var o=Ao(t);return{pos:r?o.y:o.bottom,bounds:o}},Lq=function(t,r,o,s){var d=In(I9(r,o.isPositionedAtTop())),g=function(E){var D=I9(r,o.isPositionedAtTop()),$=D.pos,U=D.bounds,G=d.get(),ee=G.pos,oe=G.bounds,fe=U.height!==oe.height||U.width!==oe.width;d.set({pos:$,bounds:U}),fe&&ST(t,E),o.isVisible()&&(ee!==$?o.update(!0):fe&&(o.updateMode(),o.repositionPopups()))};s||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(E){Ng.requestAnimationFrame(function(){return g(E)})}),t.on("ScrollWindow",function(){return o.updateMode()});var C=jh();C.set(l0(sn.fromDom(t.getBody()),"load",g)),t.on("remove",function(){C.clear()})},Hq=function(t,r,o,s,d){var g=r.mothership,C=r.uiMothership,E=r.outerContainer,D=In(null),$=sn.fromDom(d.targetNode),U=Fq(t,$,r,s,D),G=fP(t);PG(t);var ee=function(){if(D.get()){U.show();return}D.set(zo.getHeader(E).getOrDie());var fe=$D(t);sv(fe,g),sv(fe,C),B9(t,r,o,s),zo.setMenubar(E,h9(t,o)),U.show(),Lq(t,$,U,G),t.nodeChanged()};t.on("show",ee),t.on("hide",U.hide),G||(t.on("focus",ee),t.on("blur",U.hide)),t.on("init",function(){(t.hasFocus()||G)&&ee()}),zD(t,r);var oe={show:function(){U.show()},hide:function(){U.hide()},enable:function(){xy(r,!1)},disable:function(){xy(r,!0)},isDisabled:function(){return Pn.isDisabled(E)}};return{editorContainer:E.element.dom,api:oe}},Vq=Object.freeze({__proto__:null,render:Hq}),Uq="contexttoolbar-show",N9="contexttoolbar-hide",Wq=function(t){return{hide:function(){return Wr(t,Op())},getValue:function(){return an.getValue(t)}}},z9=function(t,r){return $t(fB,function(o,s){var d=t.get(o),g=Wq(d);r.onAction(g,s.event.buttonApi)})},jq=function(t,r,o){var s=r.original;s.primary;var d=W(s,["primary"]),g=Al(J5(re(re({},d),{type:"button",onAction:q})));return D9(g,o.backstage.shared.providers,[z9(t,r)])},Gq=function(t,r,o){var s=r.original;s.primary;var d=W(s,["primary"]),g=Al(Ck(re(re({},d),{type:"togglebutton",onAction:q})));return R9(g,o.backstage.shared.providers,[z9(t,r)])},qq=function(t,r,o){var s={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?Gq(t,r,s):jq(t,r,s)},Kq=function(t,r,o){var s=Ue(r,function(C){return oa(qq(t,C,o))}),d=function(){return Ue(s,function(C){return C.asSpec()})},g=function(C){return Qr(r,function(E,D){return E.primary?B.from(s[D]).bind(function($){return $.getOpt(C)}).filter(Ge(Pn.isDisabled)):B.none()})};return{asSpecs:d,findPrimary:g}},F9=function(t,r){var o=t.label.fold(function(){return{}},function(g){return{"aria-label":g}}),s=oa(XC.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:Zt([Fn.config({mode:"special",onEnter:function(g){return d.findPrimary(g).map(function(C){return Bs(C),!0})},onLeft:function(g,C){return C.cut(),B.none()},onRight:function(g,C){return C.cut(),B.none()}})])})),d=Kq(s,t.commands,r);return[{title:B.none(),items:[s.asSpec()]},{title:B.none(),items:d.asSpecs()}]},Xq=function(t,r,o){return Gr({type:t,uid:wn("context-toolbar"),initGroups:F9(r,o),onEscape:B.none,cyclicKeying:!0,providers:o})},Yq={renderContextForm:Xq,buildInitGroups:F9},L9=function(t,r,o){return o===void 0&&(o=.01),r.bottom-t.y>=o&&t.bottom-r.y>=o},Jq=function(t){var r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){var o=lb(sn.fromDom(t.startContainer),t.startOffset).element,s=Du(o)?_o(o):B.some(o);return s.filter(po).map(function(d){return d.dom.getBoundingClientRect()}).getOr(r)}else return r},d7=function(t){var r=t.selection.getRng(),o=Jq(r);if(t.inline){var s=os();return Vo(s.left+o.left,s.top+o.top,o.width,o.height)}else{var d=Lc(sn.fromDom(t.getBody()));return Vo(d.x+o.left,d.y+o.top,o.width,o.height)}},Zq=function(t,r){return r.filter(fu).map(Lc).getOrThunk(function(){return d7(t)})},Qq=function(t,r,o){var s=Math.max(t.x+o,r.x),d=Math.min(t.right-o,r.right);return{x:s,width:d-s}},eK=function(t,r,o,s,d,g){var C=sn.fromDom(t.getContainer()),E=jo(C,".tox-editor-header").getOr(C),D=Ao(E),$=D.y>=r.bottom,U=s&&!$;if(t.inline&&U)return{y:Math.max(D.bottom+g,o.y),bottom:o.bottom};if(t.inline&&!U)return{y:o.y,bottom:Math.min(D.y-g,o.bottom)};var G=d==="line"?Ao(C):r;return U?{y:Math.max(D.bottom+g,o.y),bottom:Math.min(G.bottom-g,o.bottom)}:{y:Math.max(G.y+g,o.y),bottom:Math.min(D.y-g,o.bottom)}},H9=function(t,r,o,s){s===void 0&&(s=0);var d=Gf(window),g=Ao(sn.fromDom(t.getContentAreaContainer())),C=hT(t)||gT(t)||Rk(t),E=Qq(g,d,s),D=E.x,$=E.width;if(t.inline&&!C)return Vo(D,d.y,$,d.height);var U=r.header.isPositionedAtTop(),G=eK(t,g,d,U,o,s),ee=G.y,oe=G.bottom;return Vo(D,ee,$,oe-ee)},HM=12,V9={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},U9={maxHeightFunction:qh(),maxWidthFunction:Eu()},tK=function(t,r){var o=t.selection.getRng(),s=lb(sn.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&_a(s.element,r)},nK=function(t,r,o){var s=ko(t,"position");jn(t,"position",r);var d=o(t);return s.each(function(g){return jn(t,"position",g)}),d},W9=function(t){return t==="node"},rK=function(t,r,o,s,d){var g=d7(t),C=s.lastElement().exists(function($){return _a(o,$)});if(tK(t,o))return C?L5:Cc;if(C)return nK(r,s.getMode(),function(){var $=L9(g,Ao(r));return $&&!s.isReposition()?o6:L5});var E=s.getMode()==="fixed"?d.y+os().top:d.y,D=Mo(r)+HM;return E+D<=g.y?Cc:Mg},aK=function(t,r,o,s){var d=function(D){return function($,U,G,ee,oe){var fe=rK(t,ee,D,o,oe),_e=re(re({},$),{y:oe.y,height:oe.height});return re(re({},fe(_e,U,G,ee,oe)),{alwaysFit:!0})}},g=function(D){return W9(s)?[d(D)]:[]},C={onLtr:function(D){return[Fu,No,Cu,Xi,Su,ei].concat(g(D))},onRtl:function(D){return[Fu,No,Su,ei,Cu,Xi].concat(g(D))}},E={onLtr:function(D){return[No,Xi,ei,Cu,Su,Fu].concat(g(D))},onRtl:function(D){return[No,ei,Xi,Su,Cu,Fu].concat(g(D))}};return r?E:C},oK=function(t,r,o,s){return r==="line"?{bubble:lm(HM,0,V9),layouts:{onLtr:function(){return[Zb]},onRtl:function(){return[Qb]}},overrides:U9}:{bubble:lm(0,HM,V9,1/HM),layouts:aK(t,o,s,r),overrides:U9}},m7=function(t,r){var o=Ee(r,function(C){return C.predicate(t.dom)}),s=Oe(o,function(C){return C.type==="contexttoolbar"}),d=s.pass,g=s.fail;return{contextToolbars:d,contextForms:g}},iK=function(t){if(t.length<=1)return t;var r=function(E){return Sn(t,function(D){return D.position===E})},o=function(E){return Ee(t,function(D){return D.position===E})},s=r("selection"),d=r("node");if(s||d)if(d&&s){var g=o("node"),C=Ue(o("selection"),function(E){return re(re({},E),{position:"node"})});return g.concat(C)}else return o(s?"selection":"node");else return o("line")},uK=function(t){if(t.length<=1)return t;var r=function(s){return pt(t,function(d){return d.position===s})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(s){return s.position});return o.fold(function(){return[]},function(s){return Ee(t,function(d){return d.position===s})})},sK=function(t,r,o){var s=m7(t,r);if(s.contextForms.length>0)return B.some({elem:t,toolbars:[s.contextForms[0]]});var d=m7(t,o);if(d.contextForms.length>0)return B.some({elem:t,toolbars:[d.contextForms[0]]});if(s.contextToolbars.length>0||d.contextToolbars.length>0){var g=iK(s.contextToolbars.concat(d.contextToolbars));return B.some({elem:t,toolbars:g})}else return B.none()},lK=function(t,r,o){return t(r)?B.none():Tp(r,function(s){if(po(s)){var d=m7(s,o.inNodeScope),g=d.contextToolbars,C=d.contextForms,E=C.length>0?C:uK(g);return E.length>0?B.some({elem:s,toolbars:E}):B.none()}else return B.none()},t)},cK=function(t,r){var o=sn.fromDom(r.getBody()),s=function(C){return _a(C,o)},d=function(C){return!s(C)&&!Sl(o,C)},g=sn.fromDom(r.selection.getNode());return d(g)?B.none():sK(g,t.inNodeScope,t.inEditorScope).orThunk(function(){return lK(s,g,t)})},fK=function(t,r){var o={},s=[],d=[],g={},C={},E=function(U,G){var ee=Al(KE(G));o[U]=ee,ee.launch.map(function(oe){g["form:"+U]=re(re({},G.launch),{type:oe.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(ee)}})}),ee.scope==="editor"?d.push(ee):s.push(ee),C[U]=ee},D=function(U,G){eD(G).each(function(ee){G.scope==="editor"?d.push(ee):s.push(ee),C[U]=ee})},$=Hr(t);return gt($,function(U){var G=t[U];G.type==="contextform"?E(U,G):G.type==="contexttoolbar"&&D(U,G)}),{forms:o,inNodeScope:s,inEditorScope:d,lookupTable:C,formNavigators:g}},j9=wn("forward-slide"),G9=wn("backward-slide"),h7=wn("change-slide-event"),g7="tox-pop--resizing",vK=function(t){var r=In([]);return ca.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),ca.getContent(o).each(function(s){Kr(s.element,"visibility")}),Io(o.element,g7),Kr(o.element,"width")},inlineBehaviours:Zt([ur("context-toolbar-events",[Eo(Th(),function(o,s){s.event.raw.propertyName==="width"&&(Io(o.element,g7),Kr(o.element,"width"))}),$t(h7,function(o,s){var d=o.element;Kr(d,"width");var g=Vi(d);ca.setContent(o,s.event.contents),Wo(d,g7);var C=Vi(d);jn(d,"width",g+"px"),ca.getContent(o).each(function(E){s.event.focus.bind(function(D){return vc(D),dc(d)}).orThunk(function(){return Fn.focusIn(E),_u(xs(d))})}),Ng.setTimeout(function(){jn(o.element,"width",C+"px")},0)}),$t(j9,function(o,s){ca.getContent(o).each(function(d){r.set(r.get().concat([{bar:d,focus:_u(xs(o.element))}]))}),Nn(o,h7,{contents:s.event.forwardContents,focus:B.none()})}),$t(G9,function(o,s){ua(r.get()).each(function(d){r.set(r.get().slice(0,r.get().length-1)),Nn(o,h7,{contents:zs(d.bar),focus:d.focus})})})]),Fn.config({mode:"special",onEscape:function(o){return ua(r.get()).fold(function(){return t.onEscape()},function(s){return Wr(o,G9),B.some(!0)})}})]),lazySink:function(){return vr.value(t.sink)}})},p7="tox-pop--transition",dK=function(t,r,o,s){var d=s.backstage,g=d.shared,C=Hn().deviceType.isTouch,E=mo(),D=mo(),$=mo(),U=Ha(vK({sink:o,onEscape:function(){return t.focus(),B.some(!0)}})),G=function(){var Dt=$.get().getOr("node"),ln=W9(Dt)?1:0;return H9(t,g,Dt,ln)},ee=function(){return!t.removed&&!(C()&&d.isContextMenuOpen())},oe=function(Dt){return lu(Gs(Dt,E.get(),_a),!0)},fe=function(){if(ee()){var Dt=G(),ln=lu($.get(),"node")?Zq(t,E.get()):d7(t);return Dt.height<=0||!L9(ln,Dt)}else return!0},_e=function(){E.clear(),D.clear(),$.clear(),ca.hide(U)},ze=function(){if(ca.isOpen(U)){var Dt=U.element;Kr(Dt,"display"),fe()?jn(Dt,"display","none"):(D.set(0),ca.reposition(U))}},we=function(Dt){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Dt],behaviours:Zt([Fn.config({mode:"acyclic"}),ur("pop-dialog-wrap-events",[ir(function(ln){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return Fn.focusIn(ln)})}),Ms(function(ln){t.shortcuts.remove("ctrl+F9")})])])}},Le=es(function(){return fK(r,function(Dt){var ln=Fe([Dt]);Nn(U,j9,{forwardContents:we(ln)})})}),ft=function(Dt,ln){return FM(t,{buttons:Dt,toolbar:ln.items,allowToolbarGroups:!1},s,B.some(["form:"]))},ct=function(Dt,ln){return Yq.buildInitGroups(Dt,ln)},Fe=function(Dt){var ln=t.ui.registry.getAll().buttons,Mt=Le(),Ct=re(re({},ln),Mt.formNavigators),Xt=NC(t)===Fl.scrolling?Fl.scrolling:Fl.default,Cn=it(Ue(Dt,function(Ot){return Ot.type==="contexttoolbar"?ft(Ct,Ot):ct(Ot,g.providers)}));return Gr({type:Xt,uid:wn("context-toolbar"),initGroups:Cn,onEscape:B.none,cyclicKeying:!0,providers:g.providers})},rt=function(Dt,ln){var Mt=Dt==="node"?g.anchors.node(ln):g.anchors.cursor(),Ct=oK(t,Dt,C(),{lastElement:E.get,isReposition:function(){return lu(D.get(),0)},getMode:function(){return ho.getMode(o)}});return bt(Mt,Ct)},St=function(Dt,ln){if(on.cancel(),!!ee()){var Mt=Fe(Dt),Ct=Dt[0].position,Xt=rt(Ct,ln);$.set(Ct),D.set(1);var Cn=U.element;Kr(Cn,"display"),oe(ln)||(Io(Cn,p7),ho.reset(o,U)),ca.showWithinBounds(U,we(Mt),{anchor:Xt,transition:{classes:[p7],mode:"placement"}},function(){return B.some(G())}),ln.fold(E.clear,E.set),fe()&&jn(Cn,"display","none")}},on=VE(function(){if(!(!t.hasFocus()||t.removed))if(bu(U.element,p7))on.throttle();else{var Dt=Le();cK(Dt,t).fold(_e,function(ln){St(ln.toolbars,B.some(ln.elem))})}},17);t.on("init",function(){t.on("remove",_e),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ze),t.on("click keyup focus SetContent",on.throttle),t.on(N9,_e),t.on(Uq,function(Dt){var ln=Le();En(ln.lookupTable,Dt.toolbarKey).each(function(Mt){St([Mt],qs(Dt.target!==t,Dt.target)),ca.getContent(U).each(Fn.focusIn)})}),t.on("focusout",function(Dt){Ng.setEditorTimeout(t,function(){dc(o.element).isNone()&&dc(U.element).isNone()&&_e()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&_e()}),t.on("AfterProgressState",function(Dt){Dt.state?_e():t.hasFocus()&&on.throttle()}),t.on("NodeChange",function(Dt){dc(U.element).fold(on.throttle,q)})})},mK=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];gt(r,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:kv(t,o.cmd),onSetup:IM(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:kv(t,"JustifyNone")})},hK={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},gK=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,s="\\.",d=function(E){return"(?:"+E+")?"},g=["Infinity",t+s+d(t)+d(o),s+t+d(o),t+d(o)].join("|"),C="[+-]?(?:"+g+")";return new RegExp("^("+C+")(.*)$")}(),pK=function(t,r){return Sn(r,function(o){return Sn(hK[o],function(s){return t===s})})},bK=function(t,r){var o=B.from(gK.exec(t));return o.bind(function(s){var d=Number(s[1]),g=s[2];return pK(g,r)?B.some({value:d,unit:g}):B.none()})},yK=function(t,r){return bK(t,r).map(function(o){var s=o.value,d=o.unit;return s+d})},q9=function(t,r){var o=function(){var s=r.getOptions(t),d=r.getCurrent(t).map(r.hash),g=mo();return Ue(s,function(C){return{type:"togglemenuitem",text:r.display(C),onSetup:function(E){var D=function(U){U&&(g.on(function(G){return G.setActive(!1)}),g.set(E)),E.setActive(U)};D(lu(d,r.hash(C)));var $=r.watcher(t,C,D);return function(){g.clear(),$()}},onAction:function(){return r.setCurrent(t,C)}}})};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(s){return s(o())},onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:o,onSetup:r.onMenuSetup})},wK={name:"lineheight",text:"Line height",icon:"line-height",getOptions:xD,hash:function(t){return yK(t,["fixed","relative","empty"]).getOr(t)},display:Se,watcher:function(t,r,o){return t.formatter.formatChanged("lineheight",o,!1,{value:r}).unbind},getCurrent:function(t){return B.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,r){return t.execCommand("LineHeight",!1,r)}},CK=function(t){var r=B.from(kD(t));return r.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:ne(o),hash:function(s){return j(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,d,g){return s.formatter.formatChanged("lang",g,!1,{value:d.code,customValue:d.customCode}).unbind},getCurrent:function(s){var d=sn.fromDom(s.selection.getNode());return xh(d,function(g){return B.some(g).filter(po).bind(function(C){var E=Xa(C,"lang");return E.map(function(D){var $=Xa(C,"data-mce-lang").getOrUndefined();return{code:D,customCode:$,title:""}})})})},setCurrent:function(s,d){return s.execCommand("Lang",!1,d)},onToolbarSetup:function(s){var d=jh();return s.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",s.setActive,!0)),d.clear}}})},SK=function(t){q9(t,wK),CK(t).each(function(r){return q9(t,r)})},_K=function(t,r){HG(t,r),GG(t,r),oq(t,r),rq(t,r),eq(t,r)},xK=function(t){return NM(t,"NodeChange",function(r){r.setDisabled(!t.queryCommandState("outdent"))})},kK=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:xK(t),onAction:kv(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:kv(t,"indent")})},AK=function(t){kK(t)},b7=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},EK=function(t){Gg.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,d){t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:IM(t,s.name),onAction:b7(t,s.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:IM(t,o),onAction:b7(t,o)})}},TK=function(t){Gg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:kv(t,r.action)})})},OK=function(t){Gg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:kv(t,r.action),onSetup:IM(t,r.name)})})},DK=function(t){EK(t),TK(t),OK(t)},RK=function(t){Gg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:kv(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:b7(t,"code")})},$K=function(t){DK(t),RK(t)},VM=function(t,r){return NM(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[r]())})},BK=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:VM(t,"hasUndo"),onAction:kv(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:VM(t,"hasRedo"),onAction:kv(t,"redo")})},MK=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:VM(t,"hasUndo"),onAction:kv(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:VM(t,"hasRedo"),onAction:kv(t,"redo")})},PK=function(t){BK(t),MK(t)},IK=function(t){return NM(t,"VisualAid",function(r){r.setActive(t.hasVisual)})},NK=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:IK(t),onAction:kv(t,"mceToggleVisualAid")})},zK=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:kv(t,"mceToggleVisualAid")})},FK=function(t){zK(t),NK(t)},LK=function(t,r){mK(t),$K(t),_K(t,r),PK(t),JP(t),FK(t),AK(t),SK(t)},d5=function(t,r){return{type:"makeshift",x:t,y:r}},HK=function(t,r,o){return d5(t.x+r,t.y+o)},K9=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},VK=function(t){if(K9(t)){var r=t.touches[0];return d5(r.pageX,r.pageY)}else return d5(t.pageX,t.pageY)},UK=function(t){if(K9(t)){var r=t.touches[0];return d5(r.clientX,r.clientY)}else return d5(t.clientX,t.clientY)},WK=function(t,r){var o=_y.DOM.getPos(t);return HK(r,o.x,o.y)},jK=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?VK(r):WK(t.getContentAreaContainer(),UK(r)):X9(t)},X9=function(t){return{type:"selection",root:sn.fromDom(t.selection.getNode())}},GK=function(t){return{type:"node",node:B.some(sn.fromDom(t.selection.getNode())),root:sn.fromDom(t.getBody())}},Y9=function(t,r,o){switch(o){case"node":return GK(t);case"point":return jK(t,r);case"selection":return X9(t)}},qK=function(t,r,o,s,d,g){var C=o(),E=Y9(t,r,g);My(C,uu.CLOSE_ON_EXECUTE,s,!1).map(function(D){r.preventDefault(),ca.showMenuAt(d,{anchor:E},{menu:{markers:yy("normal")},data:D})})},KK={onLtr:function(){return[No,Xi,ei,Cu,Su,Fu,Cc,Mg,Bg,Rg,$g,gy]},onRtl:function(){return[No,ei,Xi,Su,Cu,Fu,Cc,Mg,$g,gy,Bg,Rg]}},XK=12,YK={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},JK=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var s=r.touches[0],d=o.getRng(),g=pw(t.getWin(),Yh.domRange(d));return g.exists(function(C){return C.left<=s.clientX&&C.right>=s.clientX&&C.top<=s.clientY&&C.bottom>=s.clientY})},ZK=function(t){var r=t.selection.getRng(),o=function(){Ng.setEditorTimeout(t,function(){t.selection.setRng(r)},10),g()};t.once("touchend",o);var s=function(C){C.preventDefault(),C.stopImmediatePropagation()};t.on("mousedown",s,!0);var d=function(){return g()};t.once("longpresscancel",d);var g=function(){t.off("touchend",o),t.off("longpresscancel",d),t.off("mousedown",s)}},QK=function(t,r,o){var s=Y9(t,r,o),d=o==="point"?XK:0;return re({bubble:lm(0,d,YK),layouts:KK,overrides:{maxWidthFunction:Eu(),maxHeightFunction:qh()}},s)},eX=function(t,r,o,s,d,g,C){var E=QK(t,r,g);My(o,uu.CLOSE_ON_EXECUTE,s,!0).map(function(D){r.preventDefault(),ca.showMenuWithinBounds(d,{anchor:E},{menu:{markers:yy("normal"),highlightImmediately:C},data:D,type:"horizontal"},function(){return B.some(H9(t,s.shared,g==="node"?"node":"selection"))}),t.fire(N9)})},tX=function(t,r,o,s,d,g){var C=Hn(),E=C.os.isiOS(),D=C.os.isOSX(),$=C.os.isAndroid(),U=C.deviceType.isTouch(),G=function(){return!($||E||D&&U)},ee=function(){var fe=o();eX(t,r,fe,s,d,g,G())};if((D||E)&&g!=="node"){var oe=function(){ZK(t),ee()};JK(t,r)?oe():(t.once("selectionchange",oe),t.once("touchend",function(){return t.off("selectionchange",oe)}))}else ee()},J9=function(t){return typeof t=="string"?t.split(/[ ,]/):t},Z9=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},nX=function(t,r,o){var s=t.ui.registry.getAll().contextMenus;return B.from(t.getParam(r)).map(J9).getOrThunk(function(){return Ee(J9(o),function(d){return Pr(s,d)})})},rX=function(t){return t.getParam("contextmenu")===!1},aX=function(t){return nX(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},oX=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},Q9=function(t){return S(t)?t==="|":t.type==="separator"},y7={type:"separator"},eV=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(S(t))return t;switch(t.type){case"separator":return y7;case"submenu":return re(re({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return S(o)?o:Ue(o,eV)}});default:return re(re({type:"menuitem"},r(t)),{onAction:$e(t.onAction)})}},tV=function(t,r){if(r.length===0)return t;var o=ua(t).filter(function(d){return!Q9(d)}),s=o.fold(function(){return[]},function(d){return[y7]});return t.concat(s).concat(r).concat([y7])},iX=function(t,r,o){var s=tt(r,function(d,g){return En(t,g.toLowerCase()).map(function(C){var E=C.update(o);if(S(E))return tV(d,E.split(" "));if(E.length>0){var D=Ue(E,eV);return tV(d,D)}else return d}).getOrThunk(function(){return d.concat([g])})},[]);return s.length>0&&Q9(s[s.length-1])&&s.pop(),s},uX=function(t,r){return r.ctrlKey&&!Z9(t)},nV=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},rV=function(t,r){return nV(t,r)?t.selection.getStart(!0):r.target},sX=function(t,r){var o=oX(t),s=nV(t,r)?"selection":"point";if(Bc(o)){var d=rV(t,r),g=WC(sn.fromDom(d),o);return g?"node":s}else return s},lX=function(t,r,o){var s=Hn(),d=s.deviceType.isTouch,g=Ha(ca.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Zt([ur("dismissContextMenu",[$t(Dl(),function(D,$){Br.close(D),t.focus()})])])})),C=function(D){return ca.hide(g)},E=function(D){if(Z9(t)&&D.preventDefault(),!(uX(t,D)||rX(t))){var $=sX(t,D),U=function(){var ee=rV(t,D),oe=t.ui.registry.getAll(),fe=aX(t);return iX(oe.contextMenus,fe,ee)},G=d()?tX:qK;G(t,D,U,o,g,$)}};t.on("init",function(){var D="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(D,C),t.on("longpress contextmenu",E)})},w7=Ds.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),UM=function(t){return function(r){return r.translate(-t.left,-t.top)}},WM=function(t){return function(r){return r.translate(t.left,t.top)}},X1=function(t){return function(r,o){return tt(t,function(s,d){return d(s)},ya(r,o))}},jM=function(t,r,o){return t.fold(X1([WM(o),UM(r)]),X1([UM(r)]),X1([]))},J3=function(t,r,o){return t.fold(X1([WM(o)]),X1([]),X1([WM(r)]))},aV=function(t,r,o){return t.fold(X1([]),X1([UM(o)]),X1([WM(r),UM(o)]))},cX=function(t,r,o,s,d,g){var C=J3(t,d,g),E=J3(r,d,g);return Math.abs(C.left-E.left)<=o&&Math.abs(C.top-E.top)<=s},fX=function(t,r,o,s,d,g){var C=J3(t,d,g),E=J3(r,d,g),D=Math.abs(C.left-E.left),$=Math.abs(C.top-E.top);return ya(D,$)},oV=function(t,r,o){var s=t.fold(function(d,g){return{position:B.some("absolute"),left:B.some(d+"px"),top:B.some(g+"px")}},function(d,g){return{position:B.some("absolute"),left:B.some(d-o.left+"px"),top:B.some(g-o.top+"px")}},function(d,g){return{position:B.some("fixed"),left:B.some(d+"px"),top:B.some(g+"px")}});return re({right:B.none(),bottom:B.none()},s)},vX=function(t,r,o){return t.fold(function(s,d){return GM(s+r,d+o)},function(s,d){return Ly(s+r,d+o)},function(s,d){return SS(s+r,d+o)})},C7=function(t,r,o,s){var d=function(g,C){return function(E,D){var $=g(r,o,s);return C(E.getOr($.left),D.getOr($.top))}};return t.fold(d(aV,GM),d(J3,Ly),d(jM,SS))},GM=w7.offset,Ly=w7.absolute,SS=w7.fixed,iV=function(t,r){var o=Fa(t,r);return j(o)?NaN:parseInt(o,10)},dX=function(t,r){var o=t.element,s=iV(o,r.leftAttr),d=iV(o,r.topAttr);return isNaN(s)||isNaN(d)?B.none():B.some(ya(s,d))},mX=function(t,r,o){var s=t.element;lr(s,r.leftAttr,o.left+"px"),lr(s,r.topAttr,o.top+"px")},hX=function(t,r){var o=t.element;ui(o,r.leftAttr),ui(o,r.topAttr)},gX=function(t,r,o,s){return dX(t,r).fold(function(){return o},function(d){return SS(d.left+s.left,d.top+s.top)})},pX=function(t,r,o,s,d,g){var C=gX(t,r,o,s),E=r.mustSnap?yX(t,r,C,d,g):wX(t,r,C,d,g),D=jM(C,d,g);return mX(t,r,D),E.fold(function(){return{coord:SS(D.left,D.top),extra:B.none()}},function($){return{coord:$.output,extra:$.extra}})},bX=function(t,r){hX(t,r)},uV=function(t,r,o,s){return Qr(t,function(d){var g=d.sensor,C=cX(r,g,d.range.left,d.range.top,o,s);return C?B.some({output:C7(d.output,r,o,s),extra:d.extra}):B.none()})},yX=function(t,r,o,s,d){var g=r.getSnapPoints(t),C=uV(g,o,s,d);return C.orThunk(function(){var E=tt(g,function(D,$){var U=$.sensor,G=fX(o,U,$.range.left,$.range.top,s,d);return D.deltas.fold(function(){return{deltas:B.some(G),snap:B.some($)}},function(ee){var oe=(G.left+G.top)/2,fe=(ee.left+ee.top)/2;return oe<=fe?{deltas:B.some(G),snap:B.some($)}:D})},{deltas:B.none(),snap:B.none()});return E.snap.map(function(D){return{output:C7(D.output,o,s,d),extra:D.extra}})})},wX=function(t,r,o,s,d){var g=r.getSnapPoints(t);return uV(g,o,s,d)},CX=function(t,r,o){return{coord:C7(t.output,t.output,r,o),extra:t.extra}},SX=function(t,r,o,s){var d=r.getTarget(t.element);if(r.repositionTarget){var g=Jo(t.element),C=os(g),E=I3(d),D=CX(s,C,E),$=oV(D.coord,C,E);no(d,$)}},_X=Object.freeze({__proto__:null,snapTo:SX}),S7="data-initial-z-index",xX=function(t){_o(t.element).filter(po).each(function(r){Xa(r,S7).fold(function(){return Kr(r,"z-index")},function(o){return jn(r,"z-index",o)}),ui(r,S7)})},kX=function(t){_o(t.element).filter(po).each(function(r){ko(r,"z-index").each(function(o){lr(r,S7,o)}),jn(r,"z-index",ro(t.element,"z-index"))})},sV=function(t,r){t.getSystem().addToGui(r),kX(r)},AX=function(t){xX(t),t.getSystem().removeFromGui(t)},lV=function(t,r,o){return t.getSystem().build(ku.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},EX=ss("snaps",[At("getSnapPoints"),Yr("onSensor"),At("leftAttr"),At("topAttr"),Ve("lazyViewport",Ai),Ve("mustSnap",!1)]),_7=[Ve("useFixed",pe),At("blockerClass"),Ve("getTarget",Se),Ve("onDrag",q),Ve("repositionTarget",!0),Ve("onDrop",q),Ta("getBounds",Ai),EX],TX=function(t){return th(ko(t,"left"),ko(t,"top"),ko(t,"position"),function(r,o,s){var d=s==="fixed"?SS:GM;return d(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=vu(t);return Ly(r.left,r.top)})},OX=function(t,r,o,s,d){var g=d.bounds,C=J3(r,o,s),E=fs(C.left,g.x,g.x+g.width-d.width),D=fs(C.top,g.y,g.y+g.height-d.height),$=Ly(E,D);return r.fold(function(){var U=aV($,o,s);return GM(U.left,U.top)},ne($),function(){var U=jM($,o,s);return SS(U.left,U.top)})},DX=function(t,r,o,s,d,g,C){var E=r.fold(function(){var D=vX(o,g.left,g.top),$=jM(D,s,d);return SS($.left,$.top)},function(D){var $=pX(t,D,o,g,s,d);return $.extra.each(function(U){D.onSensor(t,U)}),$.coord});return OX(t,E,s,d,C)},RX=function(t,r,o,s){var d=r.getTarget(t.element);if(r.repositionTarget){var g=Jo(t.element),C=os(g),E=I3(d),D=TX(d),$=DX(t,r.snaps,D,C,E,s,o),U=oV($,C,E);no(d,U)}r.onDrag(t,d,s)},cV=function(t,r){return{bounds:t.getBounds(),height:as(r.element),width:du(r.element)}},x7=function(t,r,o,s,d){var g=o.update(s,d),C=o.getStartData().getOrThunk(function(){return cV(r,t)});g.each(function(E){RX(t,r,C,E)})},fV=function(t,r,o,s){r.each(AX),o.snaps.each(function(g){bX(t,g)});var d=o.getTarget(t.element);s.reset(),o.onDrop(t,d)},k7=function(t){return function(r,o){var s=function(d){o.setStartData(cV(r,d))};return Sa(ke([$t(C2(),function(d){o.getStartData().each(function(){return s(d)})})],t(r,o,s),!0))}},$X=function(t){return Sa([$t(Ol(),t.forceDrop),$t(h2(),t.drop),$t(Vd(),function(r,o){t.move(o.event)}),$t(m2(),t.delayDrop)])},BX=function(t){return B.from(ya(t.x,t.y))},MX=function(t,r){return ya(r.left-t.left,r.top-t.top)},PX=Object.freeze({__proto__:null,getData:BX,getDelta:MX}),vV=function(t,r,o){return[$t(Ol(),function(s,d){var g=d.event.raw;if(g.button===0){d.stop();var C=function(){return fV(s,B.some($),t,r)},E=OR(C,200),D={drop:C,delayDrop:E.schedule,forceDrop:C,move:function(G){E.cancel(),x7(s,t,r,PX,G)}},$=lV(s,t.blockerClass,$X(D)),U=function(){o(s),sV(s,$)};U()}})]},IX=ke(ke([],_7,!0),[ka("dragger",{handlers:k7(vV)})],!1),NX=function(t){return Sa([$t(jc(),t.forceDrop),$t(Lv(),t.drop),$t(e_(),t.drop),$t(Tl(),function(r,o){t.move(o.event)})])},zX=function(t){var r=t[0];return B.some(ya(r.clientX,r.clientY))},FX=function(t){var r=t.raw,o=r.touches;return o.length===1?zX(o):B.none()},LX=function(t,r){return ya(r.left-t.left,r.top-t.top)},dV=Object.freeze({__proto__:null,getData:FX,getDelta:LX}),mV=function(t,r,o){var s=mo(),d=function(g){fV(g,s.get(),t,r),s.clear()};return[$t(jc(),function(g,C){C.stop();var E=function(){return d(g)},D={drop:E,delayDrop:q,forceDrop:E,move:function(G){x7(g,t,r,dV,G)}},$=lV(g,t.blockerClass,NX(D));s.set($);var U=function(){o(g),sV(g,$)};U()}),$t(Tl(),function(g,C){C.stop(),x7(g,t,r,dV,C.event)}),$t(Lv(),function(g,C){C.stop(),d(g)}),$t(e_(),d)]},HX=ke(ke([],_7,!0),[ka("dragger",{handlers:k7(mV)})],!1),VX=function(t,r,o){return ke(ke([],vV(t,r,o),!0),mV(t,r,o),!0)},UX=ke(ke([],_7,!0),[ka("dragger",{handlers:k7(VX)})],!1),WX=IX,jX=HX,GX=UX,qX=Object.freeze({__proto__:null,mouse:WX,touch:jX,mouseOrTouch:GX}),KX=function(){var t=B.none(),r=B.none(),o=function(){t=B.none(),r=B.none()},s=function(D,$){var U=t.map(function(G){return D.getDelta(G,$)});return t=B.some($),U},d=function(D,$){return D.getData($).bind(function(U){return s(D,U)})},g=function(D){r=B.some(D)},C=function(){return r},E=ne({});return Ki({readState:E,reset:o,update:d,getStartData:C,setStartData:g})},XX=Object.freeze({__proto__:null,init:KX}),_S=im({branchKey:"mode",branches:qX,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:B.from(t.extra)}}},state:XX,apis:_X}),A7=40,qM=A7/2,hV=function(t,r,o,s,d,g){return t.fold(function(){return _S.snap({sensor:Ly(o-qM,s-qM),range:ya(d,g),output:Ly(B.some(o),B.some(s)),extra:{td:r}})},function(C){var E=o-qM,D=s-qM,$=A7,U=A7,G=C.element.dom.getBoundingClientRect();return _S.snap({sensor:Ly(E,D),range:ya($,U),output:Ly(B.some(o-G.width/2),B.some(s-G.height/2)),extra:{td:r}})})},gV=function(t,r,o){var s=function(d,g){return d.exists(function(C){return _a(C,g)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(d,g){var C=g.td;s(r.get(),C)||(r.set(C),o(C))},mustSnap:!0}},pV=function(t){return oa(ms.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Zt([_S.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),JC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},YX=function(t,r){var o=In([]),s=In([]),d=In(!1),g=mo(),C=mo(),E=function(St){var on=Lc(St);return hV(oe.getOpt(r),St,on.x,on.y,on.width,on.height)},D=function(){return Ue(o.get(),function(St){return E(St)})},$=function(St){var on=Lc(St);return hV(fe.getOpt(r),St,on.right,on.bottom,on.width,on.height)},U=function(){return Ue(s.get(),function(St){return $(St)})},G=gV(D,g,function(St){C.get().each(function(on){t.fire("TableSelectorChange",{start:St,finish:on})})}),ee=gV(U,C,function(St){g.get().each(function(on){t.fire("TableSelectorChange",{start:on,finish:St})})}),oe=pV(G),fe=pV(ee),_e=Ha(oe.asSpec()),ze=Ha(fe.asSpec()),we=function(St,on,Dt,ln){var Mt=on.dom.getBoundingClientRect();Kr(St.element,"display");var Ct=ch(sn.fromDom(t.getBody())).dom.innerHeight,Xt=Dt(Mt),Cn=ln(Mt,Ct);(Xt||Cn)&&jn(St.element,"display","none")},Le=function(St,on,Dt,ln){var Mt=Dt(on);_S.snapTo(St,Mt);var Ct=function(Cn){return Cn[ln]<0},Xt=function(Cn,Ot){return Cn[ln]>Ot};we(St,on,Ct,Xt)},ft=function(St){return Le(_e,St,E,"top")},ct=function(){return g.get().each(ft)},Fe=function(St){return Le(ze,St,$,"bottom")},rt=function(){return C.get().each(Fe)};Hn().deviceType.isTouch()&&(t.on("TableSelectionChange",function(St){d.get()||(dm(r,_e),dm(r,ze),d.set(!0)),g.set(St.start),C.set(St.finish),St.otherCells.each(function(on){o.set(on.upOrLeftCells),s.set(on.downOrRightCells),ft(St.start),Fe(St.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){ct(),rt()}),t.on("TableSelectionClear",function(){d.get()&&(pc(_e),pc(ze),d.set(!1)),g.clear(),C.clear()}))},JX=function(t){return!!(t.nodeType===1&&(t.nodeName==="BR"||t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark"))},ZX=function(t,r,o){r.delimiter||(r.delimiter="");var s=function(g){var C=g||[],E=Ue(C,function($,U){return ms.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":U,"tab-index":-1,"aria-level":U+1},innerHtml:$.name},action:function(G){t.focus(),t.selection.select($.element),t.nodeChanged()},buttonBehaviours:Zt([hf.button(o.isDisabled),ti()])})}),D={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return tt(E.slice(1),function($,U){var G=$;return G.push(D),G.push(U),G},[E[0]])},d=function(g){for(var C=[],E=g.length;E-- >0;){var D=g[E];if(D.nodeType===1&&!JX(D)){var $=t.fire("ResolveName",{name:D.nodeName.toLowerCase(),target:D});if($.isDefaultPrevented()||C.push({name:$.name,element:D}),$.isPropagationStopped())break}}return C};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Zt([Fn.config({mode:"flow",selector:"div[role=button]"}),Pn.config({disabled:o.isDisabled}),ti(),To.config({}),nr.config({}),ur("elementPathEvents",[ir(function(g,C){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Fn.focusIn(g)}),t.on("NodeChange",function(E){var D=d(E.parents);D.length>0?nr.set(g,s(D)):nr.set(g,[])})})])]),components:[]}},xS;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(xS||(xS={}));var QX=function(t,r,o,s,d){var g={};return g.height=LM(s+r.top,SD(t),_D(t)),o===xS.Both&&(g.width=LM(d+r.left,mT(t),Dk(t))),g},bV=function(t,r,o){var s=sn.fromDom(t.getContainer()),d=QX(t,r,o,Mo(s),Vi(s));Ur(d,function(g,C){return jn(s,C,v7(g))}),VP(t)},eY=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?xS.None:o==="both"?xS.Both:xS.Vertical},KM=function(t,r,o,s){var d=20,g=ya(o*d,s*d);return bV(t,g,r),B.some(!0)},tY=function(t,r){var o=eY(t);return o===xS.None?B.none():B.some(gv("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[_S.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,d,g){return bV(t,g,o)},blockerClass:"tox-blocker"}),Fn.config({mode:"special",onLeft:function(){return KM(t,o,-1,0)},onRight:function(){return KM(t,o,1,0)},onUp:function(){return KM(t,o,0,-1)},onDown:function(){return KM(t,o,0,1)}}),To.config({}),Zn.config({})]},r.icons))},nY=function(t,r){var o,s=function(d,g,C){return nr.set(d,[Ri(r.translate(["{0} "+C,g[C]]))])};return ms.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Zt([hf.button(r.isDisabled),ti(),To.config({}),nr.config({}),an.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),ur("wordcount-events",[cs(function(d){var g=an.getValue(d),C=g.mode==="words"?"characters":"words";an.setValue(d,{mode:C,count:g.count}),s(d,g.count,C)}),ir(function(d){t.on("wordCountUpdate",function(g){var C=an.getValue(d).mode;an.setValue(d,{mode:C,count:g.wordCount}),s(d,g.wordCount,C)})})])]),eventOrder:(o={},o[Rs()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},rY=function(t,r){var o=function(){var g=mf.translate(["Powered by {0}","Tiny"]),C='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+g+'">'+g+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:C}}},s=function(){var g=[];return t.getParam("elementpath",!0,"boolean")&&g.push(ZX(t,{},r)),t.hasPlugin("wordcount")&&g.push(nY(t,r)),t.getParam("branding",!0,"boolean")&&g.push(o()),g.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:g}]:[]},d=function(){var g=s(),C=tY(t,r);return g.concat(C.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:d()}},aY=function(t){var r,o=t.inline,s=o?Vq:Pq,d=Bk(t)?U3:$L,g=B.none(),C=Hn(),E=C.browser.isIE(),D=E?["tox-platform-ie"]:[],$=C.deviceType.isTouch(),U="tox-platform-touch",G=$?[U]:[],ee=OD(t),oe=$D(t),fe=mf.isRtl()?{attributes:{dir:"rtl"}}:{},_e={attributes:(r={},r[d0]=ee?ef.BottomToTop:ef.TopToBottom,r)},ze=function(){return g.bind(zo.getHeader)},we=function(){return d.isDocked(ze)},Le=function(){jn(Ku.element,"width",document.body.clientWidth+"px")},ft=function(){var yi=_a(Hi(),oe)&&ro(oe,"display")==="grid",Hm={dom:re({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(D).concat(G)},fe),behaviours:Zt([ho.config({useFixed:function(){return we()}})])},tp={dom:{styles:{width:document.body.clientWidth+"px"}},events:Sa([$t($s(),Le)])};return bt(Hm,yi?tp:{})},ct=Ha(ft()),Fe=function(){return vr.value(ct)},rt=oa({dom:{tag:"div",classes:["tox-anchorbar"]}}),St=function(){return g.bind(function(yi){return rt.getOpt(yi)}).getOrDie("Could not find a anchor bar element")},on=function(){return g.bind(function(yi){return zo.getToolbar(yi)}).getOrDie("Could not find more toolbar element")},Dt=function(){return g.bind(function(yi){return zo.getThrobber(yi)}).getOrDie("Could not find throbber element")},ln=M3(ct,t,St),Mt=zo.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ln,onEscape:function(){t.focus()}}),Ct=NC(t),Xt=zo.parts.toolbar(re({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Fe,providers:ln.shared.providers,onEscape:function(){t.focus()},type:Ct,lazyToolbar:on,lazyHeader:function(){return ze().getOrDie("Could not find header element")}},_e)),Cn=zo.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ln.shared.providers,onEscape:function(){t.focus()},type:Ct}),Ot=zo.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),bn=zo.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),An=zo.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ln}),Ar=t.getParam("statusbar",!0,"boolean"),ia=Ar&&!o?B.some(rY(t,ln.shared.providers)):B.none(),Pa={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Ot,bn]},so=Rk(t),vl=gT(t),Tu=hT(t),Q3=function(){return so?[Cn]:vl?[Xt]:[]},bi=zo.parts.header({dom:re({tag:"div",classes:["tox-editor-header"]},_e),components:it([Tu?[Mt]:[],Q3(),$k(t)?[]:[rt.asSpec()]]),sticky:Bk(t),editor:t,sharedBackstage:ln.shared}),Y1=it([ee?[]:[bi],o?[]:[Pa],ee?[bi]:[]]),J1={dom:{tag:"div",classes:["tox-editor-container"]},components:Y1},ES=it([[J1],o?[]:ia.toArray(),[An]]),Z1=BD(t),TS=re(re({role:"application"},mf.isRtl()?{dir:"rtl"}:{}),Z1?{"aria-hidden":"true"}:{}),ys=Ha(zo.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(ee?["tox-tinymce--toolbar-bottom"]:[]).concat(G).concat(D),styles:re({visibility:"hidden"},Z1?{opacity:"0",border:"0"}:{}),attributes:TS},components:ES,behaviours:Zt([ti(),Pn.config({disableClass:"tox-tinymce--disabled"}),Fn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));g=B.some(ys),t.shortcuts.add("alt+F9","focus menubar",function(){zo.focusMenubar(ys)}),t.shortcuts.add("alt+F10","focus toolbar",function(){zo.focusToolbar(ys)}),t.addCommand("ToggleToolbarDrawer",function(){zo.toggleToolbarDrawer(ys)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return zo.isToolbarDrawerToggled(ys)});var Av=IR(ys),Ku=IR(ct);kL(t,Av,Ku);var OS=function(){var yi={broadcastAll:Ku.broadcast,broadcastOn:Ku.broadcastOn,register:q};return{channels:yi}},ep=function(){var yi=v7(Nq(t)),Hm=v7(zq(t));return t.inline||(ks("div","width",Hm)&&jn(ys.element,"width",Hm),ks("div","height",yi)?jn(ys.element,"height",yi):jn(ys.element,"height","200px")),yi},Vy=function(){d.setup(t,ln.shared,ze),LK(t,ln),lX(t,Fe,ln),ce(t),uo(t,Dt,ln.shared),fr(lP(t),function(Xu,dl){t.ui.registry.addGroupToolbarButton(dl,Xu)});var yi=t.ui.registry.getAll(),Hm=yi.buttons,tp=yi.menuItems,Q1=yi.contextToolbars,Ev=yi.sidebars,np=ED(t),dn={menuItems:tp,menus:vP(t),menubar:dP(t),toolbar:np.getOrThunk(function(){return mP(t)}),allowToolbarGroups:Ct===Fl.floating,buttons:Hm,sidebar:Ev};dK(t,Q1,ct,{backstage:ln}),YX(t,ct);var mr=t.getElement(),la=ep(),Qa={mothership:Av,uiMothership:Ku,outerContainer:ys},ws={targetNode:mr,height:la};return s.render(t,Qa,dn,ln,ws)};return{mothership:Av,uiMothership:Ku,backstage:ln,renderUI:Vy,getUi:OS}},oY=function(t,r){var o=B.from(Fa(t,"id")).fold(function(){var s=wn("dialog-describe");return lr(r,"id",s),s},Se);lr(t,"aria-describedby",o)},iY=function(t,r){var o=Xa(t,"id").fold(function(){var s=wn("dialog-label");return lr(r,"id",s),s},Se);lr(t,"aria-labelledby",o)},uY=ne([At("lazySink"),Xr("dragBlockClass"),Ta("getBounds",Ai),Ve("useTabstopAt",ye),Ve("eventOrder",{}),Xo("modalBehaviours",[Fn]),Go("onExecute"),zu("onEscape")]),E7={sketch:Se},sY=ne([ul({name:"draghandle",overrides:function(t,r){return{behaviours:Zt([_S.config({mode:"mouse",getTarget:function(o){return Ub(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),Ii({schema:[At("dom")],name:"title"}),Ii({factory:E7,schema:[At("dom")],name:"close"}),Ii({factory:E7,schema:[At("dom")],name:"body"}),ul({factory:E7,schema:[At("dom")],name:"footer"}),Fs({factory:{sketch:function(t,r){return re(re({},t),{dom:r.dom,components:r.components})}},schema:[Ve("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ve("components",[])],name:"blocker"})]),lY=function(t,r,o,s){var d,g=mo(),C=function(fe){g.set(fe);var _e=t.lazySink(fe).getOrDie(),ze=s.blocker(),we=_e.getSystem().build(re(re({},ze),{components:ze.components.concat([zs(fe)]),behaviours:Zt([Zn.config({}),ur("dialog-blocker-events",[Eo(tl(),function(){Fn.focusIn(fe)})])])}));dm(_e,we),Fn.focusIn(fe)},E=function(fe){g.clear(),_o(fe.element).each(function(_e){fe.getSystem().getByDom(_e).each(function(ze){pc(ze)})})},D=function(fe){return lf(fe,t,"body")},$=function(fe){return lf(fe,t,"footer")},U=function(fe,_e){Vt.block(fe,_e)},G=function(fe){Vt.unblock(fe)},ee=wn("modal-events"),oe=re(re({},t.eventOrder),(d={},d[ls()]=[ee].concat(t.eventOrder["alloy.system.attached"]||[]),d));return{uid:t.uid,dom:t.dom,components:r,apis:{show:C,hide:E,getBody:D,getFooter:$,setIdle:G,setBusy:U},eventOrder:oe,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:fi(t.modalBehaviours,[nr.config({}),Fn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),Vt.config({getRoot:g.get}),ur(ee,[ir(function(fe){iY(fe.element,lf(fe,t,"title").element),oY(fe.element,lf(fe,t,"body").element)})])])}},Fi=xu({name:"ModalDialog",configFields:uY(),partFields:sY(),factory:lY,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),cY=$n([Jn("type"),Jn("name")].concat(zg)),fY=si,yV=[Uo("name","name",Or(function(){return wn("button-name")}),yo),Ea("icon"),Os("align","end",["start","end"]),Ca("primary",!1),Ca("disabled",!1)],wV=ke(ke([],yV,!0),[Jn("text")],!1),T7=ke([Ts("type",["submit","cancel","custom"])],wV,!0),vY=ke([Ts("type",["menu"]),Ea("text"),Ea("tooltip"),Ea("icon"),Gi("items",cY)],yV,!0),dY=el("type",{submit:T7,cancel:T7,custom:T7,menu:vY}),mY=[Jn("type"),Jn("text"),Ts("level",["info","warn","error","success"]),Jn("icon"),Ve("url","")],hY=$n(mY),gY=function(t){return[Jn("type"),t]},pY=[Jn("type"),Jn("text"),Ca("disabled",!1),Ca("primary",!1),Uo("name","name",Or(function(){return wn("button-name")}),yo),Ea("icon"),Ca("borderless",!1)],bY=$n(pY),yY=[Jn("type"),Jn("name"),Jn("label"),Ca("disabled",!1)],wY=$n(yY),CY=si,O7=[Jn("type"),Jn("name")],Td=O7.concat([Ea("label")]),SY=Td.concat([Ve("columns","auto")]),_Y=$n(SY),xY=s2([Jn("value"),Jn("text"),Jn("icon")]),kY=Td,AY=$n(kY),EY=yo,TY=Td,OY=$n(TY),DY=yo,RY=O7.concat([_h("tag","textarea"),Jn("scriptId"),Jn("scriptUrl"),Nu("settings",void 0)]),$Y=O7.concat([_h("tag","textarea"),tu("init")]),BY=Ch(function(t){return Ya("customeditor.old",is($Y),t).orThunk(function(){return Ya("customeditor.new",is(RY),t)})}),MY=yo,PY=Td,IY=$n(PY),NY=TA(),zY=function(t){return[Jn("type"),Yf("columns"),t]},FY=[Jn("type"),Jn("html"),Os("presets","presentation",["presentation","document"])],LY=$n(FY),HY=Td.concat([Ca("sandboxed",!0)]),VY=$n(HY),UY=yo,WY=Td.concat([Iu("currentState",$n([At("blob"),Jn("url")]))]),jY=$n(WY),GY=Td.concat([Ea("inputMode"),Ea("placeholder"),Ca("maximized",!1),Ca("disabled",!1)]),qY=$n(GY),KY=yo,XY=function(t){return[Jn("type"),Jn("label"),t]},YY=[Jn("text"),Jn("value")],JY=[Jn("text"),Gi("items",OA("items",function(){return CV}))],CV=_p([$n(YY),$n(JY)]),ZY=Td.concat([Gi("items",CV),Ca("disabled",!1)]),QY=$n(ZY),eJ=yo,tJ=Td.concat([El("items",[Jn("text"),Jn("value")]),uc("size",1),Ca("disabled",!1)]),nJ=$n(tJ),rJ=yo,aJ=Td.concat([Ca("constrain",!0),Ca("disabled",!1)]),oJ=$n(aJ),SV=$n([Jn("width"),Jn("height")]),iJ=[Jn("type"),Gi("header",yo),Gi("cells",Xf(yo))],uJ=$n(iJ),sJ=Td.concat([Ea("placeholder"),Ca("maximized",!1),Ca("disabled",!1)]),lJ=$n(sJ),cJ=yo,fJ=Td.concat([Os("filetype","file",["image","media","file"]),Ve("disabled",!1)]),vJ=$n(fJ),dJ=$n([Jn("value"),Ve("meta",{})]),D7=function(t){return Uo("items","items",tr(),Xf(Ch(function(r){return Ya("Checking item of "+t,R7,r).fold(function(o){return vr.error(zv(o))},function(o){return vr.value(o)})})))},R7=GS(function(){return yb("type",{alertbanner:hY,bar:$n(gY(D7("bar"))),button:bY,checkbox:wY,colorinput:AY,colorpicker:OY,dropzone:IY,grid:$n(zY(D7("grid"))),iframe:VY,input:qY,listbox:QY,selectbox:nJ,sizeinput:oJ,textarea:lJ,urlinput:vJ,customeditor:BY,htmlpanel:LY,imagetools:jY,collection:_Y,label:$n(XY(D7("label"))),table:uJ,panel:_V})}),mJ=[Jn("type"),Ve("classes",[]),Gi("items",R7)],_V=$n(mJ),hJ=[Uo("name","name",Or(function(){return wn("tab-name")}),yo),Jn("title"),Gi("items",R7)],gJ=[Jn("type"),El("tabs",hJ)],pJ=$n(gJ),bJ=wV,yJ=dY,wJ=$n([Jn("title"),Iu("body",yb("type",{panel:_V,tabpanel:pJ})),_h("size","normal"),Gi("buttons",yJ),Ve("initialData",{}),Ta("onAction",q),Ta("onChange",q),Ta("onSubmit",q),Ta("onClose",q),Ta("onCancel",q),Ve("onTabChange",q)]),CJ=function(t){return Ya("dialog",wJ,t)},SJ=$n(ke([Ts("type",["cancel","custom"])],bJ,!0)),_J=$n([Jn("title"),Jn("url"),Hd("height"),Hd("width"),us("buttons",SJ),Ta("onAction",q),Ta("onCancel",q),Ta("onClose",q),Ta("onMessage",q)]),xJ=function(t){return Ya("dialog",_J,t)},$7=function(t){return _(t)?[t].concat(Wt(_i(t),$7)):O(t)?Wt(t,$7):[]},kJ=function(t){return S(t.type)&&S(t.name)},AJ={checkbox:CY,colorinput:EY,colorpicker:DY,dropzone:NY,input:KY,iframe:UY,sizeinput:SV,selectbox:rJ,listbox:eJ,size:SV,textarea:cJ,urlinput:dJ,customeditor:MY,collection:xY,togglemenuitem:fY},EJ=function(t){return B.from(AJ[t.type])},TJ=function(t){return Ee($7(t),kJ)},OJ=function(t){var r=TJ(t),o=Wt(r,function(s){return EJ(s).fold(function(){return[]},function(d){return[Iu(s.name,d)]})});return $n(o)},xV=function(t){var r=Al(CJ(t)),o=OJ(t),s=t.initialData;return{internalDialog:r,dataValidator:o,initialData:s}},m5={open:function(t,r){var o=xV(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=Al(xJ(r));return t(o)},redial:function(t){return xV(t)}},kV=function(t){var r=[],o={};return Ur(t,function(s,d){s.fold(function(){r.push(d)},function(g){o[d]=g})}),r.length>0?vr.error(r):vr.value(o)},DJ=function(t,r){var o=oa(Ry.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Ue(t.items,function(d){return O3(s,d,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:Zt([Fn.config({mode:"acyclic",useTabstopAt:Ge(cS)}),wv.memento(o),Pm.memento(o,{postprocess:function(s){return kV(s).fold(function(d){return console.error(d),{}},Se)}})])}},RJ=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:my(t.action),behaviours:fi(t.tabButtonBehaviours,[Zn.config({}),Fn.config({mode:"execution",useSpace:!0,useEnter:!0}),an.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},$J=Ls({name:"TabButton",configFields:[Ve("uid",void 0),At("value"),Uo("dom","dom",Ei(function(){return{attributes:{role:"tab",id:wn("aria"),"aria-selected":"false"}}}),kl()),Xr("action"),Ve("domModification",{}),Xo("tabButtonBehaviours",[Zn,Fn,an]),At("view")],factory:RJ}),BJ=ne([At("tabs"),At("dom"),Ve("clickToDismiss",!1),Xo("tabbarBehaviours",[na,Fn]),nm(["tabClass","selectedClass"])]),MJ=sf({factory:$J,name:"tabs",unit:"tab",overrides:function(t){var r=function(s,d){na.dehighlight(s,d),Nn(s,Oi(),{tabbar:s,button:d})},o=function(s,d){na.highlight(s,d),Nn(s,t_(),{tabbar:s,button:d})};return{action:function(s){var d=s.getSystem().getByUid(t.uid).getOrDie(),g=na.isHighlighted(d,s),C=function(){return g&&t.clickToDismiss?r:g?q:o}();C(d,s)},domModification:{classes:[t.markers.tabClass]}}}}),PJ=ne([MJ]),IJ=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:fi(t.tabbarBehaviours,[na.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(d,g){lr(g.element,"aria-selected","true")},onDehighlight:function(d,g){lr(g.element,"aria-selected","false")}}),Fn.config({mode:"flow",getInitial:function(d){return na.getHighlighted(d).map(function(g){return g.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},AV=xu({name:"Tabbar",configFields:BJ(),partFields:PJ(),factory:IJ}),NJ=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:fi(t.tabviewBehaviours,[nr.config({})]),domModification:{attributes:{role:"tabpanel"}}}},zJ=Ls({name:"Tabview",configFields:[Xo("tabviewBehaviours",[nr])],factory:NJ}),FJ=ne([Ve("selectFirst",!0),Yr("onChangeTab"),Yr("onDismissTab"),Ve("tabs",[]),Xo("tabSectionBehaviours",[])]),LJ=Ii({factory:AV,schema:[At("dom"),Vc("markers",[At("tabClass"),At("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),HJ=Ii({factory:zJ,name:"tabview"}),VJ=ne([LJ,HJ]),UJ=function(t,r,o,s){var d=function(C){var E=an.getValue(C);pa(C,t,"tabview").each(function(D){var $=pt(t.tabs,function(U){return U.value===E});$.each(function(U){var G=U.view();Xa(C.element,"id").each(function(ee){lr(D.element,"aria-labelledby",ee)}),nr.set(D,G),t.onChangeTab(D,C,G)})})},g=function(C,E){pa(C,t,"tabbar").each(function(D){E(D).each(Bs)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:mg(t.tabSectionBehaviours),events:Sa(it([t.selectFirst?[ir(function(C,E){g(C,na.getFirst)})]:[],[$t(t_(),function(C,E){var D=E.event.button;d(D)}),$t(Oi(),function(C,E){var D=E.event.button;t.onDismissTab(C,D)})]])),apis:{getViewItems:function(C){return pa(C,t,"tabview").map(function(E){return nr.contents(E)}).getOr([])},showTab:function(C,E){var D=function($){var U=na.getCandidates($),G=pt(U,function(ee){return an.getValue(ee)===E});return G.filter(function(ee){return!na.isHighlighted($,ee)})};g(C,D)}}}},Z3=xu({name:"TabSection",configFields:FJ(),partFields:VJ(),factory:UJ,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),WJ=function(t,r,o){return Ue(t,function(s,d){nr.set(o,t[d].view());var g=r.dom.getBoundingClientRect();return nr.set(o,[]),g.height})},jJ=function(t){return or(cr(t,function(r,o){return r>o?-1:r<o?1:0}))},GJ=function(t,r,o){var s=wt(t).dom,d=Ub(t,".tox-dialog-wrap").getOr(t),g=ro(d,"position")==="fixed",C;g?C=Math.max(s.clientHeight,window.innerHeight):C=Math.max(s.offsetHeight,s.scrollHeight);var E=Mo(r),D=r.dom.offsetLeft>=o.dom.offsetLeft+Vi(o),$=D?Math.max(Mo(o),E):E,U=parseInt(ro(t,"margin-top"),10)||0,G=parseInt(ro(t,"margin-bottom"),10)||0,ee=Mo(t)+U+G,oe=ee-$;return C-oe},qJ=function(t,r){or(t).each(function(o){return Z3.showTab(r,o.value)})},EV=function(t,r){jn(t,"height",r+"px"),Hn().browser.isIE()?Kr(t,"flex-basis"):jn(t,"flex-basis",r+"px")},XM=function(t,r,o){Ub(t,'[role="dialog"]').each(function(s){jo(s,'[role="tablist"]').each(function(d){o.get().map(function(g){return jn(r,"height","0"),jn(r,"flex-basis","0"),Math.min(g,GJ(s,r,d))}).each(function(g){EV(r,g)})})})},B7=function(t){return jo(t,'[role="tabpanel"]')},KJ=function(t){var r=function(){var s=mo(),d=[ir(function(C){var E=C.element;B7(E).each(function(D){jn(D,"visibility","hidden"),C.getSystem().getByDom(D).toOptional().each(function($){var U=WJ(t,D,$),G=jJ(U);G.fold(s.clear,s.set)}),XM(E,D,s),Kr(D,"visibility"),qJ(t,C),Ng.requestAnimationFrame(function(){XM(E,D,s)})})}),$t($s(),function(C){var E=C.element;B7(E).each(function(D){XM(E,D,s)})}),$t(NT,function(C,E){var D=C.element;B7(D).each(function($){var U=_u(xs($));jn($,"visibility","hidden");var G=ko($,"height").map(function(fe){return parseInt(fe,10)});Kr($,"height"),Kr($,"flex-basis");var ee=$.dom.getBoundingClientRect().height,oe=G.forall(function(fe){return ee>fe});oe?(s.set(ee),XM(D,$,s)):G.each(function(fe){EV($,fe)}),Kr($,"visibility"),U.each(vc)})})],g=!1;return{extraEvents:d,selectFirst:g}}(),o=function(){var s=[],d=!0;return{extraEvents:s,selectFirst:d}}();return{smartTabHeight:r,naiveTabHeight:o}},TV="send-data-to-section",OV="send-data-to-view",XJ=function(t,r){var o=In({}),s=function(D){var $=an.getValue(D),U=kV($).getOr({}),G=o.get(),ee=bt(G,U);o.set(ee)},d=function(D){var $=o.get();an.setValue(D,$)},g=In(null),C=Ue(t.tabs,function(D){return{value:D.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(D.title)},view:function(){return[Ry.sketch(function($){return{dom:{tag:"div",classes:["tox-form"]},components:Ue(D.items,function(U){return O3($,U,r)}),formBehaviours:Zt([Fn.config({mode:"acyclic",useTabstopAt:Ge(cS)}),ur("TabView.form.events",[ir(d),Ms(s)]),nu.config({channels:Zf([{key:TV,value:{onReceive:s}},{key:OV,value:{onReceive:d}}])})])}})]}}}),E=KJ(C).smartTabHeight;return Z3.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(D,$,U){var G=an.getValue($);Nn(D,IT,{name:G,oldName:g.get()}),g.set(G)},tabs:C,components:[Z3.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[AV.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Zt([To.config({})])}),Z3.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:E.selectFirst,tabSectionBehaviours:Zt([ur("tabpanel",E.extraEvents),Fn.config({mode:"acyclic"}),Sr.config({find:function(D){return or(Z3.getViewItems(D))}}),an.config({store:{mode:"manual",getValue:function(D){return D.getSystem().broadcastOn([TV],{}),o.get()},setValue:function(D,$){o.set($),D.getSystem().broadcastOn([OV],{})}}})])})},M7=wn("update-dialog"),DV=wn("update-title"),RV=wn("update-body"),$V=wn("update-footer"),BV=wn("body-send-message"),MV=function(t,r,o,s){var d=function(E){switch(E.body.type){case"tabpanel":return[XJ(E.body,o)];default:return[DJ(E.body,o)]}},g=function(E,D){return B.some({isTabPanel:function(){return D.body.type==="tabpanel"}})},C={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:re(re({},r.map(function(E){return{id:E}}).getOr({})),s?C:{})},components:[],behaviours:Zt([wv.childAt(0),kc.config({channel:RV,updateState:g,renderComponents:d,initialData:t})])}},YJ=function(t,r,o,s){return MV(t,B.some(r),o,s)},JJ=function(t,r){var o=MV(t,B.none(),r,!1);return Fi.parts.body(o)},ZJ=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[pO({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Zt([To.config({}),Zn.config({})])})]}],behaviours:Zt([Fn.config({mode:"acyclic",useTabstopAt:Ge(cS)})])};return Fi.parts.body(r)};function kS(t){"@babel/helpers - typeof";return kS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kS(t)}function P7(t,r){return P7=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},P7(t,r)}function QJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function YM(t,r,o){return QJ()?YM=Reflect.construct:YM=function(d,g,C){var E=[null];E.push.apply(E,g);var D=Function.bind.apply(d,E),$=new D;return C&&P7($,C.prototype),$},YM.apply(null,arguments)}function Fm(t){return eZ(t)||tZ(t)||nZ(t)||rZ()}function eZ(t){if(Array.isArray(t))return I7(t)}function tZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nZ(t,r){if(t){if(typeof t=="string")return I7(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return I7(t,r)}}function I7(t,r){(r==null||r>t.length)&&(r=t.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=t[o];return s}function rZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var aZ=Object.hasOwnProperty,PV=Object.setPrototypeOf,oZ=Object.isFrozen,iZ=Object.getPrototypeOf,uZ=Object.getOwnPropertyDescriptor,Ac=Object.freeze,Qg=Object.seal,sZ=Object.create,IV=typeof Reflect<"u"&&Reflect,JM=IV.apply,N7=IV.construct;JM||(JM=function(r,o,s){return r.apply(o,s)}),Ac||(Ac=function(r){return r}),Qg||(Qg=function(r){return r}),N7||(N7=function(r,o){return YM(r,Fm(o))});var lZ=Lm(Array.prototype.forEach),NV=Lm(Array.prototype.pop),h5=Lm(Array.prototype.push),ZM=Lm(String.prototype.toLowerCase),cZ=Lm(String.prototype.match),Hy=Lm(String.prototype.replace),fZ=Lm(String.prototype.indexOf),vZ=Lm(String.prototype.trim),Ec=Lm(RegExp.prototype.test),z7=dZ(TypeError);function Lm(t){return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),d=1;d<o;d++)s[d-1]=arguments[d];return JM(t,r,s)}}function dZ(t){return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return N7(t,o)}}function Da(t,r){PV&&PV(t,null);for(var o=r.length;o--;){var s=r[o];if(typeof s=="string"){var d=ZM(s);d!==s&&(oZ(r)||(r[o]=d),s=d)}t[s]=!0}return t}function AS(t){var r=sZ(null),o;for(o in t)JM(aZ,t,[o])&&(r[o]=t[o]);return r}function QM(t,r){for(;t!==null;){var o=uZ(t,r);if(o){if(o.get)return Lm(o.get);if(typeof o.value=="function")return Lm(o.value)}t=iZ(t)}function s(d){return console.warn("fallback value for",d),null}return s}var zV=Ac(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F7=Ac(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L7=Ac(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mZ=Ac(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),H7=Ac(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),hZ=Ac(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),FV=Ac(["#text"]),LV=Ac(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),V7=Ac(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),HV=Ac(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),e8=Ac(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),gZ=Qg(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pZ=Qg(/<%[\w\W]*|[\w\W]*%>/gm),bZ=Qg(/^data-[\-\w.\u00B7-\uFFFF]/),yZ=Qg(/^aria-[\-\w]+$/),wZ=Qg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),CZ=Qg(/^(?:\w+script|data):/i),SZ=Qg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_Z=Qg(/^html$/i),xZ=function(){return typeof window>"u"?null:window},kZ=function(r,o){if(kS(r)!=="object"||typeof r.createPolicy!="function")return null;var s=null,d="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(d)&&(s=o.currentScript.getAttribute(d));var g="dompurify"+(s?"#"+s:"");try{return r.createPolicy(g,{createHTML:function(E){return E}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function VV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xZ(),r=function(vt){return VV(vt)};if(r.version="2.3.8",r.removed=[],!t||!t.document||t.document.nodeType!==9)return r.isSupported=!1,r;var o=t.document,s=t.document,d=t.DocumentFragment,g=t.HTMLTemplateElement,C=t.Node,E=t.Element,D=t.NodeFilter,$=t.NamedNodeMap,U=$===void 0?t.NamedNodeMap||t.MozNamedAttrMap:$,G=t.HTMLFormElement,ee=t.DOMParser,oe=t.trustedTypes,fe=E.prototype,_e=QM(fe,"cloneNode"),ze=QM(fe,"nextSibling"),we=QM(fe,"childNodes"),Le=QM(fe,"parentNode");if(typeof g=="function"){var ft=s.createElement("template");ft.content&&ft.content.ownerDocument&&(s=ft.content.ownerDocument)}var ct=kZ(oe,o),Fe=ct?ct.createHTML(""):"",rt=s,St=rt.implementation,on=rt.createNodeIterator,Dt=rt.createDocumentFragment,ln=rt.getElementsByTagName,Mt=o.importNode,Ct={};try{Ct=AS(s).documentMode?s.documentMode:{}}catch{}var Xt={};r.isSupported=typeof Le=="function"&&St&&typeof St.createHTMLDocument<"u"&&Ct!==9;var Cn=gZ,Ot=pZ,bn=bZ,An=yZ,Ar=CZ,ia=SZ,Pa=wZ,so=null,vl=Da({},[].concat(Fm(zV),Fm(F7),Fm(L7),Fm(H7),Fm(FV))),Tu=null,Q3=Da({},[].concat(Fm(LV),Fm(V7),Fm(HV),Fm(e8))),bi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Y1=null,J1=null,ES=!0,Z1=!0,TS=!1,ys=!1,Av=!1,Ku=!1,OS=!1,ep=!1,Vy=!1,yi=!1,Hm=!0,tp=!0,Q1=!1,Ev={},np=null,dn=Da({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),mr=null,la=Da({},["audio","video","img","source","image","track"]),Qa=null,ws=Da({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xu="http://www.w3.org/1998/Math/MathML",dl="http://www.w3.org/2000/svg",Tc="http://www.w3.org/1999/xhtml",Uy=Tc,DS=!1,Wy,q7=["application/xhtml+xml","text/html"],K7="text/html",eb,jy=null,QZ=s.createElement("form"),lU=function(vt){return vt instanceof RegExp||vt instanceof Function},X7=function(vt){jy&&jy===vt||((!vt||kS(vt)!=="object")&&(vt={}),vt=AS(vt),so="ALLOWED_TAGS"in vt?Da({},vt.ALLOWED_TAGS):vl,Tu="ALLOWED_ATTR"in vt?Da({},vt.ALLOWED_ATTR):Q3,Qa="ADD_URI_SAFE_ATTR"in vt?Da(AS(ws),vt.ADD_URI_SAFE_ATTR):ws,mr="ADD_DATA_URI_TAGS"in vt?Da(AS(la),vt.ADD_DATA_URI_TAGS):la,np="FORBID_CONTENTS"in vt?Da({},vt.FORBID_CONTENTS):dn,Y1="FORBID_TAGS"in vt?Da({},vt.FORBID_TAGS):{},J1="FORBID_ATTR"in vt?Da({},vt.FORBID_ATTR):{},Ev="USE_PROFILES"in vt?vt.USE_PROFILES:!1,ES=vt.ALLOW_ARIA_ATTR!==!1,Z1=vt.ALLOW_DATA_ATTR!==!1,TS=vt.ALLOW_UNKNOWN_PROTOCOLS||!1,ys=vt.SAFE_FOR_TEMPLATES||!1,Av=vt.WHOLE_DOCUMENT||!1,ep=vt.RETURN_DOM||!1,Vy=vt.RETURN_DOM_FRAGMENT||!1,yi=vt.RETURN_TRUSTED_TYPE||!1,OS=vt.FORCE_BODY||!1,Hm=vt.SANITIZE_DOM!==!1,tp=vt.KEEP_CONTENT!==!1,Q1=vt.IN_PLACE||!1,Pa=vt.ALLOWED_URI_REGEXP||Pa,Uy=vt.NAMESPACE||Tc,vt.CUSTOM_ELEMENT_HANDLING&&lU(vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bi.tagNameCheck=vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&lU(vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bi.attributeNameCheck=vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&typeof vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(bi.allowCustomizedBuiltInElements=vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Wy=q7.indexOf(vt.PARSER_MEDIA_TYPE)===-1?Wy=K7:Wy=vt.PARSER_MEDIA_TYPE,eb=Wy==="application/xhtml+xml"?function(_n){return _n}:ZM,ys&&(Z1=!1),Vy&&(ep=!0),Ev&&(so=Da({},Fm(FV)),Tu=[],Ev.html===!0&&(Da(so,zV),Da(Tu,LV)),Ev.svg===!0&&(Da(so,F7),Da(Tu,V7),Da(Tu,e8)),Ev.svgFilters===!0&&(Da(so,L7),Da(Tu,V7),Da(Tu,e8)),Ev.mathMl===!0&&(Da(so,H7),Da(Tu,HV),Da(Tu,e8))),vt.ADD_TAGS&&(so===vl&&(so=AS(so)),Da(so,vt.ADD_TAGS)),vt.ADD_ATTR&&(Tu===Q3&&(Tu=AS(Tu)),Da(Tu,vt.ADD_ATTR)),vt.ADD_URI_SAFE_ATTR&&Da(Qa,vt.ADD_URI_SAFE_ATTR),vt.FORBID_CONTENTS&&(np===dn&&(np=AS(np)),Da(np,vt.FORBID_CONTENTS)),tp&&(so["#text"]=!0),Av&&Da(so,["html","head","body"]),so.table&&(Da(so,["tbody"]),delete Y1.tbody),Ac&&Ac(vt),jy=vt)},cU=Da({},["mi","mo","mn","ms","mtext"]),fU=Da({},["foreignobject","desc","title","annotation-xml"]),eQ=Da({},["title","style","font","a","script"]),t8=Da({},F7);Da(t8,L7),Da(t8,mZ);var Y7=Da({},H7);Da(Y7,hZ);var tQ=function(vt){var _n=Le(vt);(!_n||!_n.tagName)&&(_n={namespaceURI:Tc,tagName:"template"});var sr=ZM(vt.tagName),Fo=ZM(_n.tagName);return vt.namespaceURI===dl?_n.namespaceURI===Tc?sr==="svg":_n.namespaceURI===Xu?sr==="svg"&&(Fo==="annotation-xml"||cU[Fo]):!!t8[sr]:vt.namespaceURI===Xu?_n.namespaceURI===Tc?sr==="math":_n.namespaceURI===dl?sr==="math"&&fU[Fo]:!!Y7[sr]:vt.namespaceURI===Tc?_n.namespaceURI===dl&&!fU[Fo]||_n.namespaceURI===Xu&&!cU[Fo]?!1:!Y7[sr]&&(eQ[sr]||!t8[sr]):!1},tb=function(vt){h5(r.removed,{element:vt});try{vt.parentNode.removeChild(vt)}catch{try{vt.outerHTML=Fe}catch{vt.remove()}}},vU=function(vt,_n){try{h5(r.removed,{attribute:_n.getAttributeNode(vt),from:_n})}catch{h5(r.removed,{attribute:null,from:_n})}if(_n.removeAttribute(vt),vt==="is"&&!Tu[vt])if(ep||Vy)try{tb(_n)}catch{}else try{_n.setAttribute(vt,"")}catch{}},dU=function(vt){var _n,sr;if(OS)vt="<remove></remove>"+vt;else{var Fo=cZ(vt,/^[\r\n\t ]+/);sr=Fo&&Fo[0]}Wy==="application/xhtml+xml"&&(vt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+vt+"</body></html>");var xf=ct?ct.createHTML(vt):vt;if(Uy===Tc)try{_n=new ee().parseFromString(xf,Wy)}catch{}if(!_n||!_n.documentElement){_n=St.createDocument(Uy,"template",null);try{_n.documentElement.innerHTML=DS?"":xf}catch{}}var Ul=_n.body||_n.documentElement;return vt&&sr&&Ul.insertBefore(s.createTextNode(sr),Ul.childNodes[0]||null),Uy===Tc?ln.call(_n,Av?"html":"body")[0]:Av?_n.documentElement:Ul},mU=function(vt){return on.call(vt.ownerDocument||vt,vt,D.SHOW_ELEMENT|D.SHOW_COMMENT|D.SHOW_TEXT,null,!1)},nQ=function(vt){return vt instanceof G&&(typeof vt.nodeName!="string"||typeof vt.textContent!="string"||typeof vt.removeChild!="function"||!(vt.attributes instanceof U)||typeof vt.removeAttribute!="function"||typeof vt.setAttribute!="function"||typeof vt.namespaceURI!="string"||typeof vt.insertBefore!="function")},g5=function(vt){return kS(C)==="object"?vt instanceof C:vt&&kS(vt)==="object"&&typeof vt.nodeType=="number"&&typeof vt.nodeName=="string"},nb=function(vt,_n,sr){Xt[vt]&&lZ(Xt[vt],function(Fo){Fo.call(r,_n,sr,jy)})},hU=function(vt){var _n;if(nb("beforeSanitizeElements",vt,null),nQ(vt)||Ec(/[\u0080-\uFFFF]/,vt.nodeName))return tb(vt),!0;var sr=eb(vt.nodeName);if(nb("uponSanitizeElement",vt,{tagName:sr,allowedTags:so}),vt.hasChildNodes()&&!g5(vt.firstElementChild)&&(!g5(vt.content)||!g5(vt.content.firstElementChild))&&Ec(/<[/\w]/g,vt.innerHTML)&&Ec(/<[/\w]/g,vt.textContent)||sr==="select"&&Ec(/<template/i,vt.innerHTML))return tb(vt),!0;if(!so[sr]||Y1[sr]){if(!Y1[sr]&&pU(sr)&&(bi.tagNameCheck instanceof RegExp&&Ec(bi.tagNameCheck,sr)||bi.tagNameCheck instanceof Function&&bi.tagNameCheck(sr)))return!1;if(tp&&!np[sr]){var Fo=Le(vt)||vt.parentNode,xf=we(vt)||vt.childNodes;if(xf&&Fo)for(var Ul=xf.length,ml=Ul-1;ml>=0;--ml)Fo.insertBefore(_e(xf[ml],!0),ze(vt))}return tb(vt),!0}return vt instanceof E&&!tQ(vt)||(sr==="noscript"||sr==="noembed")&&Ec(/<\/no(script|embed)/i,vt.innerHTML)?(tb(vt),!0):(ys&&vt.nodeType===3&&(_n=vt.textContent,_n=Hy(_n,Cn," "),_n=Hy(_n,Ot," "),vt.textContent!==_n&&(h5(r.removed,{element:vt.cloneNode()}),vt.textContent=_n)),nb("afterSanitizeElements",vt,null),!1)},gU=function(vt,_n,sr){if(Hm&&(_n==="id"||_n==="name")&&(sr in s||sr in QZ))return!1;if(!(Z1&&!J1[_n]&&Ec(bn,_n))){if(!(ES&&Ec(An,_n))){if(!Tu[_n]||J1[_n]){if(!(pU(vt)&&(bi.tagNameCheck instanceof RegExp&&Ec(bi.tagNameCheck,vt)||bi.tagNameCheck instanceof Function&&bi.tagNameCheck(vt))&&(bi.attributeNameCheck instanceof RegExp&&Ec(bi.attributeNameCheck,_n)||bi.attributeNameCheck instanceof Function&&bi.attributeNameCheck(_n))||_n==="is"&&bi.allowCustomizedBuiltInElements&&(bi.tagNameCheck instanceof RegExp&&Ec(bi.tagNameCheck,sr)||bi.tagNameCheck instanceof Function&&bi.tagNameCheck(sr))))return!1}else if(!Qa[_n]){if(!Ec(Pa,Hy(sr,ia,""))){if(!((_n==="src"||_n==="xlink:href"||_n==="href")&&vt!=="script"&&fZ(sr,"data:")===0&&mr[vt])){if(!(TS&&!Ec(Ar,Hy(sr,ia,"")))){if(sr)return!1}}}}}}return!0},pU=function(vt){return vt.indexOf("-")>0},bU=function(vt){var _n,sr,Fo,xf;nb("beforeSanitizeAttributes",vt,null);var Ul=vt.attributes;if(Ul){var ml={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Tu};for(xf=Ul.length;xf--;){_n=Ul[xf];var n8=_n,Oc=n8.name,yU=n8.namespaceURI;if(sr=Oc==="value"?_n.value:vZ(_n.value),Fo=eb(Oc),ml.attrName=Fo,ml.attrValue=sr,ml.keepAttr=!0,ml.forceKeepAttr=void 0,nb("uponSanitizeAttribute",vt,ml),sr=ml.attrValue,!ml.forceKeepAttr&&(vU(Oc,vt),!!ml.keepAttr)){if(Ec(/\/>/i,sr)){vU(Oc,vt);continue}ys&&(sr=Hy(sr,Cn," "),sr=Hy(sr,Ot," "));var aQ=eb(vt.nodeName);if(gU(aQ,Fo,sr))try{yU?vt.setAttributeNS(yU,Oc,sr):vt.setAttribute(Oc,sr),NV(r.removed)}catch{}}}nb("afterSanitizeAttributes",vt,null)}},rQ=function Cr(vt){var _n,sr=mU(vt);for(nb("beforeSanitizeShadowDOM",vt,null);_n=sr.nextNode();)nb("uponSanitizeShadowNode",_n,null),!hU(_n)&&(_n.content instanceof d&&Cr(_n.content),bU(_n));nb("afterSanitizeShadowDOM",vt,null)};return r.sanitize=function(Cr,vt){var _n,sr,Fo,xf,Ul;if(DS=!Cr,DS&&(Cr="<!-->"),typeof Cr!="string"&&!g5(Cr)){if(typeof Cr.toString!="function")throw z7("toString is not a function");if(Cr=Cr.toString(),typeof Cr!="string")throw z7("dirty is not a string, aborting")}if(!r.isSupported){if(kS(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Cr=="string")return t.toStaticHTML(Cr);if(g5(Cr))return t.toStaticHTML(Cr.outerHTML)}return Cr}if(Ku||X7(vt),r.removed=[],typeof Cr=="string"&&(Q1=!1),Q1){if(Cr.nodeName){var ml=eb(Cr.nodeName);if(!so[ml]||Y1[ml])throw z7("root node is forbidden and cannot be sanitized in-place")}}else if(Cr instanceof C)_n=dU("<!---->"),sr=_n.ownerDocument.importNode(Cr,!0),sr.nodeType===1&&sr.nodeName==="BODY"||sr.nodeName==="HTML"?_n=sr:_n.appendChild(sr);else{if(!ep&&!ys&&!Av&&Cr.indexOf("<")===-1)return ct&&yi?ct.createHTML(Cr):Cr;if(_n=dU(Cr),!_n)return ep?null:yi?Fe:""}_n&&OS&&tb(_n.firstChild);for(var n8=mU(Q1?Cr:_n);Fo=n8.nextNode();)Fo.nodeType===3&&Fo===xf||hU(Fo)||(Fo.content instanceof d&&rQ(Fo.content),bU(Fo),xf=Fo);if(xf=null,Q1)return Cr;if(ep){if(Vy)for(Ul=Dt.call(_n.ownerDocument);_n.firstChild;)Ul.appendChild(_n.firstChild);else Ul=_n;return Tu.shadowroot&&(Ul=Mt.call(o,Ul,!0)),Ul}var Oc=Av?_n.outerHTML:_n.innerHTML;return Av&&so["!doctype"]&&_n.ownerDocument&&_n.ownerDocument.doctype&&_n.ownerDocument.doctype.name&&Ec(_Z,_n.ownerDocument.doctype.name)&&(Oc="<!DOCTYPE "+_n.ownerDocument.doctype.name+`>
`+Oc),ys&&(Oc=Hy(Oc,Cn," "),Oc=Hy(Oc,Ot," ")),ct&&yi?ct.createHTML(Oc):Oc},r.setConfig=function(Cr){X7(Cr),Ku=!0},r.clearConfig=function(){jy=null,Ku=!1},r.isValidAttribute=function(Cr,vt,_n){jy||X7({});var sr=eb(Cr),Fo=eb(vt);return gU(sr,Fo,_n)},r.addHook=function(Cr,vt){typeof vt=="function"&&(Xt[Cr]=Xt[Cr]||[],h5(Xt[Cr],vt))},r.removeHook=function(Cr){if(Xt[Cr])return NV(Xt[Cr])},r.removeHooks=function(Cr){Xt[Cr]&&(Xt[Cr]=[])},r.removeAllHooks=function(){Xt={}},r}var AZ=VV(),EZ=function(t){return AZ().sanitize(t)},TZ=Ik.deviceType.isTouch(),UV=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},WV=function(t,r){return Fi.parts.close(ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:Zt([To.config({})])}))},jV=function(){return Fi.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},GV=function(t,r){return Fi.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Qt("<p>"+EZ(r.translate(t))+"</p>")}]}]})},qV=function(t){return Fi.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},KV=function(t,r){return[ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},U7=function(t){var r,o="tox-dialog",s=o+"-wrap",d=s+"__backdrop",g=o+"__disable-scroll";return Fi.sketch({lazySink:t.lazySink,onEscape:function(C){return t.onEscape(C),B.some(!0)},useTabstopAt:function(C){return!cS(C)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:re({position:"relative"},t.extraStyles)},components:ke([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:Qt('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:TZ?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:s,modalBehaviours:Zt(ke([Zn.config({}),ur("dialog-events",t.dialogEvents.concat([Eo(tl(),function(C,E){Fn.focusIn(C)})])),ur("scroll-lock",[ir(function(){Wo(Hi(),g)}),Ms(function(){Io(Hi(),g)})])],t.extraBehaviours,!0)),eventOrder:re((r={},r[Rs()]=["dialog-events"],r[ls()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[Oh()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},XV=function(t){return ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[gv("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(r){Wr(r,O1)}})},YV=function(t,r,o){var s=function(d){return[Ri(o.translate(d.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:re({},r.map(function(d){return{id:d}}).getOr({}))},components:s(t),behaviours:Zt([kc.config({channel:DV,renderComponents:s})])}},JV=function(){return{dom:Qt('<div class="tox-dialog__draghandle"></div>')}},OZ=function(t,r,o){return ku.sketch({dom:Qt('<div class="tox-dialog__header"></div>'),components:[YV(t,B.some(r),o),JV(),XV(o)],containerBehaviours:Zt([_S.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return al(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},DZ=function(t,r){var o=Fi.parts.title(YV(t,B.none(),r)),s=Fi.parts.draghandle(JV()),d=Fi.parts.close(XV(r)),g=[o].concat(t.draggable?[s]:[]).concat([d]);return ku.sketch({dom:Qt('<div class="tox-dialog__header"></div>'),components:g})},ZV=function(t,r){return DZ({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},QV=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:Qt('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},eU=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(s){Fi.setBusy(t(),function(d,g){return QV(s.message,g,r)})},onUnblock:function(){Fi.setIdle(t())}}},tU=function(t,r,o,s){var d,g=function(C,E){return B.some(E)};return Ha(U7(re(re({},t),{lazySink:s.shared.getSink,extraBehaviours:ke([kc.config({channel:M7,updateState:g,initialData:r}),Pm.memory({})],t.extraBehaviours,!0),onEscape:function(C){Wr(C,O1)},dialogEvents:o,eventOrder:(d={},d[nl()]=[kc.name(),nu.name()],d[ls()]=["scroll-lock",kc.name(),"messages","dialog-events","alloy.base.behaviour"],d[Oh()]=["alloy.base.behaviour","dialog-events","messages",kc.name(),"scroll-lock"],d)})))},nU=function(t){var r=function(o){var s=Ue(o.items,function(d){var g=In(!1);return re(re({},d),{storage:g})});return re(re({},o),{items:s})};return Ue(t,function(o){return o.type==="menu"?r(o):o})},rU=function(t){return tt(t,function(r,o){if(o.type==="menu"){var s=o;return tt(s.items,function(d,g){return d[g.name]=g.storage,d},r)}return r},{})},aU=function(t,r){return[Wv(tl(),j$),t(KC,function(o,s){r.onClose(),s.onClose()}),t(O1,function(o,s,d,g){s.onCancel(o),Wr(g,KC)}),$t(PT,function(o,s){return r.onUnblock()}),$t(xd,function(o,s){return r.onBlock(s.event)})]},RZ=function(t,r){var o=function(d,g){return $t(d,function(C,E){s(C,function(D,$){g(t(),D,E.event,C)})})},s=function(d,g){kc.getState(d).get().each(function(C){g(C,d)})};return ke(ke([],aU(o,r),!0),[o(pv,function(d,g,C){g.onAction(d,{name:C.name})})],!1)},$Z=function(t,r,o){var s=function(g,C){return $t(g,function(E,D){d(E,function($,U){C(t(),$,D.event,E)})})},d=function(g,C){kc.getState(g).get().each(function(E){C(E.internalDialog,g)})};return ke(ke([],aU(s,r),!0),[s(cl,function(g,C){return C.onSubmit(g)}),s(Ll,function(g,C,E){C.onChange(g,{name:E.name})}),s(pv,function(g,C,E,D){var $=function(){return Fn.focusIn(D)},U=function(oe){return db(oe,"disabled")||Xa(oe,"aria-disabled").exists(function(fe){return fe==="true"})},G=xs(D.element),ee=_u(G);C.onAction(g,{name:E.name,value:E.value}),_u(G).fold($,function(oe){U(oe)||ee.exists(function(fe){return Sl(oe,fe)&&U(fe)})?$():o().toOptional().filter(function(fe){return!Sl(fe.element,oe)}).each($)})}),s(IT,function(g,C,E){C.onTabChange(g,{newTabName:E.name,oldTabName:E.oldName})}),Ms(function(g){var C=t();an.setValue(g,C.getData())})],!1)},W7={initUrlDialog:RZ,initDialog:$Z},BZ=function(t,r){return C3(t,t.type,r)},MZ=function(t,r,o){return pt(r,function(s){return s.name===o}).bind(function(s){return s.memento.getOpt(t)})},PZ=function(t,r){var o=r.map(function(E){return E.footerButtons}).getOr([]),s=Oe(o,function(E){return E.align==="start"}),d=function(E,D){return ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+E]},components:Ue(D,function($){return $.memento.asSpec()})})},g=d("start",s.pass),C=d("end",s.fail);return[g,C]},oU=function(t,r){var o=function(s,d){var g=Ue(d.buttons,function(E){var D=oa(BZ(E,r));return{name:E.name,align:E.align,memento:D}}),C=function(E,D){return MZ(E,g,D)};return B.some({lookupByName:C,footerButtons:g})};return{dom:Qt('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Zt([kc.config({channel:$V,initialData:t,updateState:o,renderComponents:PZ})])}},IZ=function(t,r){return oU(t,r)},iU=function(t,r){return Fi.parts.footer(oU(t,r))},j7=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var s=Sr.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Ry.getField(s,r).fold(function(){var d=t.getFooter(),g=kc.getState(d);return g.get().bind(function(C){return C.lookupByName(s,r)})},function(d){return B.some(d)})}else return B.none()},NZ=function(t,r){var o=t.getRoot();return kc.getState(o).get().map(function(s){return Al(Ya("data",s.dataValidator,r))}).getOr(r)},uU=function(t,r,o){var s=function(_e){var ze=t.getRoot();ze.getSystem().isConnected()&&_e(ze)},d=function(){var _e=t.getRoot(),ze=_e.getSystem().isConnected()?t.getFormWrapper():_e,we=an.getValue(ze),Le=fr(o,function(ft){return ft.get()});return re(re({},we),Le)},g=function(_e){s(function(ze){var we=fe.getData(),Le=re(re({},we),_e),ft=NZ(t,Le),ct=t.getFormWrapper();an.setValue(ct,ft),Ur(o,function(Fe,rt){Pr(Le,rt)&&Fe.set(Le[rt])})})},C=function(_e){j7(t,_e).each(Pn.disable)},E=function(_e){j7(t,_e).each(Pn.enable)},D=function(_e){j7(t,_e).each(Zn.focus)},$=function(_e){if(!S(_e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(ze){Nn(ze,xd,{message:_e})})},U=function(){s(function(_e){Wr(_e,PT)})},G=function(_e){s(function(ze){var we=t.getBody(),Le=kc.getState(we);Le.get().exists(function(ft){return ft.isTabPanel()})&&Sr.getCurrent(we).each(function(ft){Z3.showTab(ft,_e)})})},ee=function(_e){s(function(ze){var we=r(_e);ze.getSystem().broadcastOn([M7],we),ze.getSystem().broadcastOn([DV],we.internalDialog),ze.getSystem().broadcastOn([RV],we.internalDialog),ze.getSystem().broadcastOn([$V],we.internalDialog),fe.setData(we.initialData)})},oe=function(){s(function(_e){Wr(_e,KC)})},fe={getData:d,setData:g,disable:C,enable:E,focus:D,block:$,unblock:U,showTab:G,redial:ee,close:oe};return fe},zZ=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},FZ=function(t,r,o){var s=ZV(t.internalDialog.title,o),d=JJ({body:t.internalDialog.body},o),g=nU(t.internalDialog.buttons),C=rU(g),E=iU({buttons:g},o),D=W7.initDialog(function(){return oe},eU(function(){return G},o.shared.providers,r),o.shared.getSink),$=zZ(t.internalDialog.size),U={header:s,body:d,footer:B.some(E),extraClasses:$,extraBehaviours:[],extraStyles:{}},G=tU(U,t,D,o),ee=function(){var fe=function(){var _e=Fi.getBody(G);return Sr.getCurrent(_e).getOr(_e)};return{getRoot:ne(G),getBody:function(){return Fi.getBody(G)},getFooter:function(){return Fi.getFooter(G)},getFormWrapper:fe}}(),oe=uU(ee,r.redial,C);return{dialog:G,instanceApi:oe}},LZ=function(t,r,o,s){var d,g,C=wn("dialog-label"),E=wn("dialog-content"),D=function(we,Le){return B.some(Le)},$=oa(OZ({title:t.internalDialog.title,draggable:!0},C,o.shared.providers)),U=oa(YJ({body:t.internalDialog.body},E,o,s)),G=nU(t.internalDialog.buttons),ee=rU(G),oe=oa(IZ({buttons:G},o)),fe=W7.initDialog(function(){return ze},{onBlock:function(we){Vt.block(_e,function(Le,ft){return QV(we.message,ft,o.shared.providers)})},onUnblock:function(){Vt.unblock(_e)},onClose:function(){return r.closeWindow()}},o.shared.getSink),_e=Ha({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(d={role:"dialog"},d["aria-labelledby"]=C,d["aria-describedby"]=E,d)},eventOrder:(g={},g[nl()]=[kc.name(),nu.name()],g[Rs()]=["execute-on-form"],g[ls()]=["reflecting","execute-on-form"],g),behaviours:Zt([Fn.config({mode:"cyclic",onEscape:function(we){return Wr(we,KC),B.some(!0)},useTabstopAt:function(we){return!cS(we)&&(Qu(we)!=="button"||Fa(we,"disabled")!=="disabled")}}),kc.config({channel:M7,updateState:D,initialData:t}),Zn.config({}),ur("execute-on-form",fe.concat([Eo(tl(),function(we,Le){Fn.focusIn(we)})])),Vt.config({getRoot:function(){return B.some(_e)}}),nr.config({}),Pm.memory({})]),components:[$.asSpec(),U.asSpec(),oe.asSpec()]}),ze=uU({getRoot:ne(_e),getFooter:function(){return oe.get(_e)},getBody:function(){return U.get(_e)},getFormWrapper:function(){var we=U.get(_e);return Sr.getCurrent(we).getOr(we)}},r.redial,ee);return{dialog:_e,instanceApi:ze}},G7=tinymce.util.Tools.resolve("tinymce.util.URI"),HZ=function(t){var r=function(C){t.getSystem().isConnected()&&C(t)},o=function(C){if(!S(C))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(E){Nn(E,xd,{message:C})})},s=function(){r(function(C){Wr(C,PT)})},d=function(){r(function(C){Wr(C,KC)})},g=function(C){r(function(E){E.getSystem().broadcastOn([BV],C)})};return{block:o,unblock:s,close:d,sendMessage:g}},VZ=["insertContent","setContent","execCommand","close","block","unblock"],sU=function(t){return _(t)&&VZ.indexOf(t.mceAction)!==-1},UZ=function(t){return!sU(t)&&_(t)&&Pr(t,"mceAction")},WZ=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var s=F(o.ui)?o.ui:!1;t.execCommand(o.cmd,s,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},jZ=function(t,r,o,s){var d,g=ZV(t.title,s),C=ZJ(t),E=t.buttons.bind(function(Le){return Le.length===0?B.none():B.some(iU({buttons:Le},s))}),D=W7.initUrlDialog(function(){return we},eU(function(){return ze},s.shared.providers,r)),$=re(re({},t.height.fold(function(){return{}},function(Le){return{height:Le+"px","max-height":Le+"px"}})),t.width.fold(function(){return{}},function(Le){return{width:Le+"px","max-width":Le+"px"}})),U=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],G=new G7(t.url,{base_uri:new G7(window.location.href)}),ee=G.protocol+"://"+G.host+(G.port?":"+G.port:""),oe=jh(),fe=[ur("messages",[ir(function(){var Le=wo(sn.fromDom(window),"message",function(ft){if(G.isSameOrigin(new G7(ft.raw.origin))){var ct=ft.raw.data;sU(ct)?WZ(o,we,ct):UZ(ct)&&t.onMessage(we,ct)}});oe.set(Le)}),Ms(oe.clear)]),nu.config({channels:(d={},d[BV]={onReceive:function(Le,ft){jo(Le.element,"iframe").each(function(ct){var Fe=ct.dom.contentWindow;Fe.postMessage(ft,ee)})}},d)})],_e={header:g,body:C,footer:E,extraClasses:U,extraBehaviours:fe,extraStyles:$},ze=tU(_e,t,D,s),we=HZ(ze);return{dialog:ze,instanceApi:we}},GZ=function(t){var r=t.backstage.shared,o=function(s,d){var g=function(){Fi.hide($),d()},C=oa(C3({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:B.none()},"cancel",t.backstage)),E=jV(),D=WV(g,r.providers),$=Ha(U7({lazySink:function(){return r.getSink()},header:UV(E,D),body:GV(s,r.providers),footer:B.some(qV(KV([],[C.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[$t(O1,g)],eventOrder:{}}));Fi.show($);var U=C.get($);Zn.focus(U)};return{open:o}},qZ=function(t){var r=t.backstage.shared,o=function(s,d){var g=function(ee){Fi.hide(U),d(ee)},C=oa(C3({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:B.none()},"submit",t.backstage)),E=C3({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:B.none()},"cancel",t.backstage),D=jV(),$=WV(function(){return g(!1)},r.providers),U=Ha(U7({lazySink:function(){return r.getSink()},header:UV(D,$),body:GV(s,r.providers),footer:B.some(qV(KV([],[E,C.asSpec()]))),onEscape:function(){return g(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[$t(O1,function(){return g(!1)}),$t(cl,function(){return g(!0)})],eventOrder:{}}));Fi.show(U);var G=C.get(U);Zn.focus(G)};return{open:o}},KZ=function(t,r){return Al(Ya("data",r,t))},XZ=function(t){return WC(t,".tox-alert-dialog")||WC(t,".tox-confirm-dialog")},YZ=function(t,r,o){return r&&o?[]:[Do.config({contextual:{lazyContext:function(){return B.some(Ao(sn.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},JZ=function(t){var r=t.backstage,o=t.editor,s=Bk(o),d=GZ(t),g=qZ(t),C=function(fe,_e,ze){return _e!==void 0&&_e.inline==="toolbar"?U(fe,r.shared.anchors.inlineDialog(),ze,_e.ariaAttrs):_e!==void 0&&_e.inline==="cursor"?U(fe,r.shared.anchors.cursor(),ze,_e.ariaAttrs):$(fe,ze)},E=function(fe,_e){return D(fe,_e)},D=function(fe,_e){var ze=function(we){var Le=jZ(we,{closeWindow:function(){Fi.hide(Le.dialog),_e(Le.instanceApi)}},o,r);return Fi.show(Le.dialog),Le.instanceApi};return m5.openUrl(ze,fe)},$=function(fe,_e){var ze=function(we,Le,ft){var ct=Le,Fe={dataValidator:ft,initialData:ct,internalDialog:we},rt=FZ(Fe,{redial:m5.redial,closeWindow:function(){Fi.hide(rt.dialog),_e(rt.instanceApi)}},r);return Fi.show(rt.dialog),rt.instanceApi.setData(ct),rt.instanceApi};return m5.open(ze,fe)},U=function(fe,_e,ze,we){var Le=function(ft,ct,Fe){var rt=KZ(ct,Fe),St=mo(),on=r.shared.header.isPositionedAtTop(),Dt={dataValidator:Fe,initialData:rt,internalDialog:ft},ln=function(){return St.on(function(Xt){ca.reposition(Xt),Do.refresh(Xt)})},Mt=LZ(Dt,{redial:m5.redial,closeWindow:function(){St.on(ca.hide),o.off("ResizeEditor",ln),St.clear(),ze(Mt.instanceApi)}},r,we),Ct=Ha(ca.sketch(re(re({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},on?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Zt(ke([ur("window-manager-inline-events",[$t(Dl(),function(Xt,Cn){Wr(Mt.dialog,O1)})])],YZ(o,s,on),!0)),isExtraPart:function(Xt,Cn){return XZ(Cn)}})));return St.set(Ct),ca.showWithin(Ct,zs(Mt.dialog),{anchor:_e},B.some(Hi())),(!s||!on)&&(Do.refresh(Ct),o.on("ResizeEditor",ln)),Mt.instanceApi.setData(rt),Fn.focusIn(Mt.dialog),Mt.instanceApi};return m5.open(Le,fe)},G=function(fe,_e){g.open(fe,function(ze){_e(ze)})},ee=function(fe,_e){d.open(fe,function(){_e()})},oe=function(fe){fe.close()};return{open:C,openUrl:E,alert:ee,close:oe,confirm:G}};function ZZ(){Me.add("silver",function(t){var r=aY(t),o=r.uiMothership,s=r.backstage,d=r.renderUI,g=r.getUi;hI.register(t,s.shared);var C=JZ({editor:t,backstage:s});return{renderUI:d,getWindowManagerImpl:ne(C),getNotificationManagerImpl:function(){return HE(t,{backstage:s},o)},ui:g()}})}ZZ()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(W,ke,et){var le=ke==="UL"?"InsertUnorderedList":"InsertOrderedList";W.execCommand(le,!1,et===!1?null:{"list-style-type":et})},y=function(W){W.addCommand("ApplyUnorderedListStyle",function(ke,et){m(W,"UL",et["list-style-type"])}),W.addCommand("ApplyOrderedListStyle",function(ke,et){m(W,"OL",et["list-style-type"])})},b=tinymce.util.Tools.resolve("tinymce.util.Tools"),S=function(W){var ke=W.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return ke?ke.split(/[ ,]/):[]},_=function(W){var ke=W.getParam("advlist_bullet_styles","default,circle,square");return ke?ke.split(/[ ,]/):[]},O=function(){},T=function(W){return function(){return W}},F=function(W){return W},j=T(!1),P=T(!0),H=function(){return I},I=function(){var W=function(le){return le()},ke=F,et={fold:function(le,ge){return le()},isSome:j,isNone:P,getOr:ke,getOrThunk:W,getOrDie:function(le){throw new Error(le||"error: getOrDie called on none.")},getOrNull:T(null),getOrUndefined:T(void 0),or:ke,orThunk:W,map:H,each:O,bind:H,exists:j,forall:P,filter:function(){return H()},toArray:function(){return[]},toString:T("none()")};return et}(),L=function(W){var ke=T(W),et=function(){return ge},le=function(ut){return ut(W)},ge={fold:function(ut,B){return B(W)},isSome:P,isNone:j,getOr:ke,getOrThunk:ke,getOrDie:ke,getOrNull:ke,getOrUndefined:ke,or:et,orThunk:et,map:function(ut){return L(ut(W))},each:function(ut){ut(W)},bind:le,exists:le,forall:le,filter:function(ut){return ut(W)?ge:I},toArray:function(){return[W]},toString:function(){return"some("+W+")"}};return ge},Y=function(W){return W==null?I:L(W)},q={some:L,none:H,from:Y},$e=function(W,ke){return W.$.contains(W.getBody(),ke)},de=function(W){return W&&/^(TH|TD)$/.test(W.nodeName)},Be=function(W){return function(ke){return ke&&/^(OL|UL|DL)$/.test(ke.nodeName)&&$e(W,ke)}},ne=function(W){var ke=W.dom.getParent(W.selection.getNode(),"ol,ul"),et=W.dom.getStyle(ke,"listStyleType");return q.from(et)},Se=function(W,ke){for(var et=0;et<W.length;et++){var le=W[et];if(ke(le))return et}return-1},Te=function(W){return W.replace(/\-/g," ").replace(/\b\w/g,function(ke){return ke.toUpperCase()})},xe=function(W,ke,et){var le=Se(ke.parents,de),ge=le!==-1?ke.parents.slice(0,le):ke.parents,ut=b.grep(ge,Be(W));return ut.length>0&&ut[0].nodeName===et},Ge=function(W,ke){return function(et){var le=function(ge){et.setActive(xe(W,ge,ke))};return W.on("NodeChange",le),function(){return W.off("NodeChange",le)}}},se=function(W,ke,et,le,ge,ut){W.ui.registry.addSplitButton(ke,{tooltip:et,icon:ge==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(B){var kt=b.map(ut,function(at){var ot=ge==="OL"?"num":"bull",kn=at==="disc"||at==="decimal"?"default":at,cn=at==="default"?"":at,lt=Te(at);return{type:"choiceitem",value:cn,icon:"list-"+ot+"-"+kn,text:lt}});B(kt)},onAction:function(){return W.execCommand(le)},onItemAction:function(B,kt){m(W,ge,kt)},select:function(B){var kt=ne(W);return kt.map(function(at){return B===at}).getOr(!1)},onSetup:Ge(W,ge)})},pe=function(W,ke,et,le,ge,ut){W.ui.registry.addToggleButton(ke,{active:!1,tooltip:et,icon:ge==="OL"?"ordered-list":"unordered-list",onSetup:Ge(W,ge),onAction:function(){return W.execCommand(le)}})},ye=function(W,ke,et,le,ge,ut){ut.length>1?se(W,ke,et,le,ge,ut):pe(W,ke,et,le,ge)},Me=function(W){ye(W,"numlist","Numbered list","InsertOrderedList","OL",S(W)),ye(W,"bullist","Bullet list","InsertUnorderedList","UL",_(W))};function re(){f.add("advlist",function(W){W.hasPlugin("lists")?(Me(W),y(W)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}re()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(T,F){T.focus(),T.undoManager.transact(function(){T.setContent(F)}),T.selection.setCursorLocation(),T.nodeChanged()},y=function(T){return T.getContent({source_view:!0})},b=function(T){var F=y(T);T.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:F},onSubmit:function(j){m(T,j.getData().code),j.close()}})},S=function(T){T.addCommand("mceCodeEditor",function(){b(T)})},_=function(T){var F=function(){return T.execCommand("mceCodeEditor")};T.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:F}),T.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:F})};function O(){f.add("code",function(T){return S(T),_(T),{}})}O()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=tinymce.util.Tools.resolve("tinymce.util.VK"),y=function(ie){var Ne=typeof ie;return ie===null?"null":Ne==="object"&&(Array.prototype.isPrototypeOf(ie)||ie.constructor&&ie.constructor.name==="Array")?"array":Ne==="object"&&(String.prototype.isPrototypeOf(ie)||ie.constructor&&ie.constructor.name==="String")?"string":Ne},b=function(ie){return function(Ne){return y(Ne)===ie}},S=function(ie){return function(Ne){return typeof Ne===ie}},_=function(ie){return function(Ne){return ie===Ne}},O=b("string"),T=b("array"),F=_(null),j=S("boolean"),P=S("function"),H=function(){},I=function(ie){return function(){return ie}},L=function(ie){return ie},Y=function(ie,Ne){return ie===Ne},q=I(!1),$e=I(!0),de=function(){return Be},Be=function(){var ie=function(Et){return Et()},Ne=L,Ye={fold:function(Et,qt){return Et()},isSome:q,isNone:$e,getOr:Ne,getOrThunk:ie,getOrDie:function(Et){throw new Error(Et||"error: getOrDie called on none.")},getOrNull:I(null),getOrUndefined:I(void 0),or:Ne,orThunk:ie,map:de,each:H,bind:de,exists:q,forall:$e,filter:function(){return de()},toArray:function(){return[]},toString:I("none()")};return Ye}(),ne=function(ie){var Ne=I(ie),Ye=function(){return qt},Et=function(Rn){return Rn(ie)},qt={fold:function(Rn,aa){return aa(ie)},isSome:$e,isNone:q,getOr:Ne,getOrThunk:Ne,getOrDie:Ne,getOrNull:Ne,getOrUndefined:Ne,or:Ye,orThunk:Ye,map:function(Rn){return ne(Rn(ie))},each:function(Rn){Rn(ie)},bind:Et,exists:Et,forall:Et,filter:function(Rn){return Rn(ie)?qt:Be},toArray:function(){return[ie]},toString:function(){return"some("+ie+")"}};return qt},Se=function(ie){return ie==null?Be:ne(ie)},Te={some:ne,none:de,from:Se},xe=Array.prototype.indexOf,Ge=Array.prototype.push,se=function(ie,Ne){return xe.call(ie,Ne)},pe=function(ie,Ne){return se(ie,Ne)>-1},ye=function(ie,Ne){for(var Ye=ie.length,Et=new Array(Ye),qt=0;qt<Ye;qt++){var Rn=ie[qt];Et[qt]=Ne(Rn,qt)}return Et},Me=function(ie,Ne){for(var Ye=0,Et=ie.length;Ye<Et;Ye++){var qt=ie[Ye];Ne(qt,Ye)}},re=function(ie,Ne,Ye){return Me(ie,function(Et,qt){Ye=Ne(Ye,Et,qt)}),Ye},W=function(ie){for(var Ne=[],Ye=0,Et=ie.length;Ye<Et;++Ye){if(!T(ie[Ye]))throw new Error("Arr.flatten item "+Ye+" was not an array, input: "+ie);Ge.apply(Ne,ie[Ye])}return Ne},ke=function(ie,Ne){return W(ye(ie,Ne))},et=function(ie,Ne){for(var Ye=0;Ye<ie.length;Ye++){var Et=Ne(ie[Ye],Ye);if(Et.isSome())return Et}return Te.none()},le=function(ie,Ne,Ye){return Ye===void 0&&(Ye=Y),ie.exists(function(Et){return Ye(Et,Ne)})},ge=function(ie){for(var Ne=[],Ye=function(qt){Ne.push(qt)},Et=0;Et<ie.length;Et++)ie[Et].each(Ye);return Ne},ut=function(ie,Ne){return ie?Te.some(Ne):Te.none()},B=function(ie){var Ne=ie.getParam("link_assume_external_targets",!1);return j(Ne)&&Ne?1:O(Ne)&&(Ne==="http"||Ne==="https")?Ne:0},kt=function(ie){return ie.getParam("link_context_toolbar",!1,"boolean")},at=function(ie){return ie.getParam("link_list")},ot=function(ie){return ie.getParam("default_link_target")},kn=function(ie){return ie.getParam("target_list",!0)},cn=function(ie){return ie.getParam("rel_list",[],"array")},lt=function(ie){return ie.getParam("link_class_list",[],"array")},Sn=function(ie){return ie.getParam("link_title",!0,"boolean")},te=function(ie){return ie.getParam("allow_unsafe_link_target",!1,"boolean")},fn=function(ie){return ie.getParam("link_quicklink",!1,"boolean")},Ue=function(ie){return ie.getParam("link_default_protocol","http","string")},gt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Xn=function(ie){return O(ie.value)?ie.value:""},Oe=function(ie){return O(ie.text)?ie.text:O(ie.title)?ie.title:""},Ee=function(ie,Ne){var Ye=[];return gt.each(ie,function(Et){var qt=Oe(Et);if(Et.menu!==void 0){var Rn=Ee(Et.menu,Ne);Ye.push({text:qt,items:Rn})}else{var aa=Ne(Et);Ye.push({text:qt,value:aa})}}),Ye},Ze=function(ie){return ie===void 0&&(ie=Xn),function(Ne){return Te.from(Ne).map(function(Ye){return Ee(Ye,ie)})}},tt=function(ie){return Ze(Xn)(ie)},He=function(ie,Ne){return function(Ye){return{name:ie,type:"listbox",label:Ne,items:Ye}}},pt={sanitize:tt,sanitizeWith:Ze,createUi:He,getValue:Xn},Jt=function(){return Jt=Object.assign||function(Ne){for(var Ye,Et=1,qt=arguments.length;Et<qt;Et++){Ye=arguments[Et];for(var Rn in Ye)Object.prototype.hasOwnProperty.call(Ye,Rn)&&(Ne[Rn]=Ye[Rn])}return Ne},Jt.apply(this,arguments)},it=Object.keys,Wt=Object.hasOwnProperty,Rt=function(ie,Ne){for(var Ye=it(ie),Et=0,qt=Ye.length;Et<qt;Et++){var Rn=Ye[Et],aa=ie[Rn];Ne(aa,Rn)}},zt=function(ie){return function(Ne,Ye){ie[Ye]=Ne}},rn=function(ie,Ne,Ye,Et){var qt={};return Rt(ie,function(Rn,aa){(Ne(Rn,aa)?Ye:Et)(Rn,aa)}),qt},pn=function(ie,Ne){var Ye={};return rn(ie,Ne,zt(Ye),H),Ye},Kn=function(ie,Ne){return Wt.call(ie,Ne)},cr=function(ie,Ne){return Kn(ie,Ne)&&ie[Ne]!==void 0&&ie[Ne]!==null},qr=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),or=tinymce.util.Tools.resolve("tinymce.util.URI"),ua=function(ie){return ie&&ie.nodeName.toLowerCase()==="a"},va=function(ie){return ua(ie)&&!!da(ie)},Qr=function(ie,Ne){if(ie.collapsed)return[];var Ye=ie.cloneContents(),Et=new qr(Ye.firstChild,Ye),qt=[],Rn=Ye.firstChild;do Ne(Rn)&&qt.push(Rn);while(Rn=Et.next());return qt},Hr=function(ie){return/^\w+:/i.test(ie)},da=function(ie){var Ne=ie.getAttribute("data-mce-href");return Ne||ie.getAttribute("href")},Ur=function(ie,Ne){var Ye=["noopener"],Et=ie?ie.split(/\s+/):[],qt=function(br){return gt.trim(br.sort().join(" "))},Rn=function(br){return br=aa(br),br.length>0?br.concat(Ye):Ye},aa=function(br){return br.filter(function(za){return gt.inArray(Ye,za)===-1})},ha=Ne?Rn(Et):aa(Et);return ha.length>0?qt(ha):""},fr=function(ie){return ie.replace(/\uFEFF/g,"")},Na=function(ie,Ne){return Ne=Ne||ie.selection.getNode(),Ju(Ne)?ie.dom.select("a[href]",Ne)[0]:ie.dom.getParent(Ne,"a[href]")},Zi=function(ie,Ne){var Ye=Ne?Ne.innerText||Ne.textContent:ie.getContent({format:"text"});return fr(Ye)},Kl=function(ie){return gt.grep(ie,va).length>0},Vr=function(ie){return Qr(ie,va).length>0},Si=function(ie){var Ne=ie.schema.getTextInlineElements(),Ye=function(qt){return qt.nodeType===1&&!ua(qt)&&!Kn(Ne,qt.nodeName.toLowerCase())},Et=Qr(ie.selection.getRng(),Ye);return Et.length===0},Ju=function(ie){return ie&&ie.nodeName==="FIGURE"&&/\bimage\b/i.test(ie.className)},_i=function(ie){var Ne=["title","rel","class","target"];return re(Ne,function(Ye,Et){return ie[Et].each(function(qt){Ye[Et]=qt.length>0?qt:null}),Ye},{href:ie.href})},En=function(ie,Ne){return(Ne==="http"||Ne==="https")&&!Hr(ie)?Ne+"://"+ie:ie},Pr=function(ie,Ne){var Ye=Jt({},Ne);if(!(cn(ie).length>0)&&te(ie)===!1){var Et=Ur(Ye.rel,Ye.target==="_blank");Ye.rel=Et||null}return Te.from(Ye.target).isNone()&&kn(ie)===!1&&(Ye.target=ot(ie)),Ye.href=En(Ye.href,B(ie)),Ye},lo=function(ie,Ne,Ye,Et){Ye.each(function(qt){Kn(Ne,"innerText")?Ne.innerText=qt:Ne.textContent=qt}),ie.dom.setAttribs(Ne,Et),ie.selection.select(Ne)},lu=function(ie,Ne,Ye,Et){Ju(Ne)?Tv(ie,Ne,Et):Ye.fold(function(){ie.execCommand("mceInsertLink",!1,Et)},function(qt){ie.insertContent(ie.dom.createHTML("a",Et,ie.dom.encode(qt)))})},Zu=function(ie,Ne,Ye){var Et=ie.selection.getNode(),qt=Na(ie,Et),Rn=Pr(ie,_i(Ye));ie.undoManager.transact(function(){Ye.href===Ne.href&&Ne.attach(),qt?(ie.focus(),lo(ie,qt,Ye.text,Rn)):lu(ie,Et,Ye.text,Rn)})},Ir=function(ie){var Ne=ie.dom,Ye=ie.selection,Et=Ye.getBookmark(),qt=Ye.getRng().cloneRange(),Rn=Ne.getParent(qt.startContainer,"a[href]",ie.getBody()),aa=Ne.getParent(qt.endContainer,"a[href]",ie.getBody());Rn&&qt.setStartBefore(Rn),aa&&qt.setEndAfter(aa),Ye.setRng(qt),ie.execCommand("unlink"),Ye.moveToBookmark(Et)},Tr=function(ie){ie.undoManager.transact(function(){var Ne=ie.selection.getNode();Ju(Ne)?$c(ie,Ne):Ir(ie),ie.focus()})},Gs=function(ie){var Ne=ie.class,Ye=ie.href,Et=ie.rel,qt=ie.target,Rn=ie.text,aa=ie.title;return pn({class:Ne.getOrNull(),href:Ye,rel:Et.getOrNull(),target:qt.getOrNull(),text:Rn.getOrNull(),title:aa.getOrNull()},function(ha,br){return F(ha)===!1})},th=function(ie,Ne){var Ye=Ne.href;return Jt(Jt({},Ne),{href:or.isDomSafe(Ye,"a",ie.settings)?Ye:""})},Df=function(ie,Ne,Ye){var Et=th(ie,Ye);ie.hasPlugin("rtc",!0)?ie.execCommand("createlink",!1,Gs(Et)):Zu(ie,Ne,Et)},qs=function(ie){ie.hasPlugin("rtc",!0)?ie.execCommand("unlink"):Tr(ie)},$c=function(ie,Ne){var Ye=ie.dom.select("img",Ne)[0];if(Ye){var Et=ie.dom.getParents(Ye,"a[href]",Ne)[0];Et&&(Et.parentNode.insertBefore(Ye,Et),ie.dom.remove(Et))}},Tv=function(ie,Ne,Ye){var Et=ie.dom.select("img",Ne)[0];if(Et){var qt=ie.dom.create("a",Ye);Et.parentNode.insertBefore(qt,Et),qt.appendChild(Et)}},gl=function(ie){return cr(ie,"items")},pl=function(ie,Ne){return et(Ne,function(Ye){return gl(Ye)?pl(ie,Ye.items):ut(Ye.value===ie,Ye)})},Rf=function(ie,Ne,Ye,Et){var qt=Et[Ne],Rn=ie.length>0;return qt!==void 0?pl(qt,Ye).map(function(aa){return{url:{value:aa.value,meta:{text:Rn?ie:aa.text,attach:H}},text:Rn?ie:aa.text}}):Te.none()},ma=function(ie,Ne){return Ne==="link"?ie.link:Ne==="anchor"?ie.anchor:Te.none()},Ks=function(ie,Ne){var Ye={text:ie.text,title:ie.title},Et=function(br){return ut(Ye.title.length<=0,Te.from(br.meta.title).getOr(""))},qt=function(br){return ut(Ye.text.length<=0,Te.from(br.meta.text).getOr(br.value))},Rn=function(br){var za=qt(br.url),Ka=Et(br.url);return za.isSome()||Ka.isSome()?Te.some(Jt(Jt({},za.map(function(Pc){return{text:Pc}}).getOr({})),Ka.map(function(Pc){return{title:Pc}}).getOr({}))):Te.none()},aa=function(br,za){var Ka=ma(Ne,za.name).getOr([]);return Rf(Ye.text,za.name,Ka,br)},ha=function(br,za){var Ka=za.name;return Ka==="url"?Rn(br()):pe(["anchor","link"],Ka)?aa(br(),za):((Ka==="text"||Ka==="title")&&(Ye[Ka]=br()[Ka]),Te.none())};return{onChange:ha}},Wn={init:Ks,getDelta:Rf},nh=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ou=tinymce.util.Tools.resolve("tinymce.util.Promise"),Bc=function(ie,Ne,Ye){var Et=ie.selection.getRng();nh.setEditorTimeout(ie,function(){ie.windowManager.confirm(Ne,function(qt){ie.selection.setRng(Et),Ye(qt)})})},rh=function(ie){var Ne=ie.href,Ye=Ne.indexOf("@")>0&&Ne.indexOf("/")===-1&&Ne.indexOf("mailto:")===-1;return Ye?Te.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Et){return Jt(Jt({},Et),{href:"mailto:"+Ne})}}):Te.none()},Xl=function(ie,Ne){return function(Ye){var Et=Ye.href,qt=ie===1&&!Hr(Et)||ie===0&&/^\s*www(\.|\d\.)/i.test(Et);return qt?Te.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+Ne+":// prefix?",preprocess:function(Rn){return Jt(Jt({},Rn),{href:Ne+"://"+Et})}}):Te.none()}},ah=function(ie,Ne){return et([rh,Xl(B(ie),Ue(ie))],function(Ye){return Ye(Ne)}).fold(function(){return Ou.resolve(Ne)},function(Ye){return new Ou(function(Et){Bc(ie,Ye.message,function(qt){Et(qt?Ye.preprocess(Ne):Ne)})})})},$f={preprocess:ah},oh=function(ie){var Ne=ie.dom.select("a:not([href])"),Ye=ke(Ne,function(Et){var qt=Et.name||Et.id;return qt?[{text:qt,value:"#"+qt}]:[]});return Ye.length>0?Te.some([{text:"None",value:""}].concat(Ye)):Te.none()},Ss={getAnchors:oh},Mc=function(ie){var Ne=lt(ie);return Ne.length>0?pt.sanitize(Ne):Te.none()},sn={getClasses:Mc},Bd=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ov=function(ie){try{return Te.some(JSON.parse(ie))}catch{return Te.none()}},Dv=function(ie){var Ne=function(Et){return ie.convertURL(Et.value||Et.url,"href")},Ye=at(ie);return new Ou(function(Et){O(Ye)?Bd.send({url:Ye,success:function(qt){return Et(Ov(qt))},error:function(qt){return Et(Te.none())}}):P(Ye)?Ye(function(qt){return Et(Te.some(qt))}):Et(Te.from(Ye))}).then(function(Et){return Et.bind(pt.sanitizeWith(Ne)).map(function(qt){if(qt.length>0){var Rn=[{text:"None",value:""}];return Rn.concat(qt)}else return qt})})},Yl={getLinks:Dv},Qu=function(ie,Ne){var Ye=cn(ie);if(Ye.length>0){var Et=le(Ne,"_blank"),qt=te(ie)===!1,Rn=function(ha){return Ur(pt.getValue(ha),Et)},aa=qt?pt.sanitizeWith(Rn):pt.sanitize;return aa(Ye)}return Te.none()},ih={getRels:Qu},Bo=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],po=function(ie){var Ne=kn(ie);return T(Ne)?pt.sanitize(Ne).orThunk(function(){return Te.some(Bo)}):Ne===!1?Te.none():Te.some(Bo)},Du={getTargets:po},Xs=function(ie,Ne,Ye){var Et=ie.getAttrib(Ne,Ye);return Et!==null&&Et.length>0?Te.some(Et):Te.none()},Md=function(ie,Ne){var Ye=ie.dom,Et=Si(ie),qt=Et?Te.some(Zi(ie.selection,Ne)):Te.none(),Rn=Ne?Te.some(Ye.getAttrib(Ne,"href")):Te.none(),aa=Ne?Te.from(Ye.getAttrib(Ne,"target")):Te.none(),ha=Xs(Ye,Ne,"rel"),br=Xs(Ye,Ne,"class"),za=Xs(Ye,Ne,"title");return{url:Rn,text:qt,title:za,target:aa,rel:ha,linkClass:br}},es=function(ie,Ne){return Yl.getLinks(ie).then(function(Ye){var Et=Md(ie,Ne);return{anchor:Et,catalogs:{targets:Du.getTargets(ie),rels:ih.getRels(ie,Et.target),classes:sn.getClasses(ie),anchor:Ss.getAnchors(ie),link:Ye},optNode:Te.from(Ne),flags:{titleEnabled:Sn(ie)}}})},Bf={collect:es},Pd=function(ie,Ne){return function(Ye){var Et=Ye.getData();if(!Et.url.value){qs(ie),Ye.close();return}var qt=function(ha){return Te.from(Et[ha]).filter(function(br){return!le(Ne.anchor[ha],br)})},Rn={href:Et.url.value,text:qt("text"),target:qt("target"),rel:qt("rel"),class:qt("linkClass"),title:qt("title")},aa={href:Et.url.value,attach:Et.url.meta!==void 0&&Et.url.meta.attach?Et.url.meta.attach:H};$f.preprocess(ie,Rn).then(function(ha){Df(ie,aa,ha)}),Ye.close()}},bl=function(ie){var Ne=Na(ie);return Bf.collect(ie,Ne)},Ru=function(ie,Ne){var Ye=ie.anchor,Et=Ye.url.getOr("");return{url:{value:Et,meta:{original:{value:Et}}},text:Ye.text.getOr(""),title:Ye.title.getOr(""),anchor:Et,link:Et,rel:Ye.rel.getOr(""),target:Ye.target.or(Ne).getOr(""),linkClass:Ye.linkClass.getOr("")}},en=function(ie,Ne,Ye){var Et=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],qt=ie.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),Rn=ie.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],aa=Te.from(ot(Ye)),ha=Ru(ie,aa),br=ie.catalogs,za=Wn.init(ha,br),Ka={type:"panel",items:W([Et,qt,Rn,ge([br.anchor.map(pt.createUi("anchor","Anchors")),br.rels.map(pt.createUi("rel","Rel")),br.targets.map(pt.createUi("target","Open link in...")),br.link.map(pt.createUi("link","Link list")),br.classes.map(pt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:Ka,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ha,onChange:function(Pc,Li){var Jl=Li.name;za.onChange(Pc.getData,{name:Jl}).each(function(Hn){Pc.setData(Hn)})},onSubmit:Ne}},xi=function(ie){var Ne=bl(ie);Ne.then(function(Ye){var Et=Pd(ie,Ye);return en(Ye,Et,ie)}).then(function(Ye){ie.windowManager.open(Ye)})},yl=function(ie,Ne){document.body.appendChild(ie),ie.dispatchEvent(Ne),document.body.removeChild(ie)},uh=function(ie){var Ne=document.createElement("a");Ne.target="_blank",Ne.href=ie,Ne.rel="noreferrer noopener";var Ye=document.createEvent("MouseEvents");Ye.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),yl(Ne,Ye)},Mf=function(ie,Ne){return ie.dom.getParent(Ne,"a[href]")},ea=function(ie){return Mf(ie,ie.selection.getStart())},Rv=function(ie){return ie.altKey===!0&&ie.shiftKey===!1&&ie.ctrlKey===!1&&ie.metaKey===!1},wl=function(ie,Ne){if(Ne){var Ye=da(Ne);if(/^#/.test(Ye)){var Et=ie.$(Ye);Et.length&&ie.selection.scrollIntoView(Et[0],!0)}else uh(Ne.href)}},co=function(ie){return function(){xi(ie)}},$v=function(ie){return function(){wl(ie,ea(ie))}},cu=function(ie){ie.on("click",function(Ne){var Ye=Mf(ie,Ne.target);Ye&&m.metaKeyPressed(Ne)&&(Ne.preventDefault(),wl(ie,Ye))}),ie.on("keydown",function(Ne){var Ye=ea(ie);Ye&&Ne.keyCode===13&&Rv(Ne)&&(Ne.preventDefault(),wl(ie,Ye))})},ts=function(ie,Ne){return ie.on("NodeChange",Ne),function(){return ie.off("NodeChange",Ne)}},Ra=function(ie){return function(Ne){var Ye=function(){return Ne.setActive(!ie.mode.isReadOnly()&&Na(ie,ie.selection.getNode())!==null)};return Ye(),ts(ie,Ye)}},Pf=function(ie){return function(Ne){var Ye=function(){return Ne.setDisabled(Na(ie,ie.selection.getNode())===null)};return Ye(),ts(ie,Ye)}},If=function(ie){return function(Ne){var Ye=function(qt){return Kl(qt)||Vr(ie.selection.getRng())},Et=ie.dom.getParents(ie.selection.getStart());return Ne.setDisabled(!Ye(Et)),ts(ie,function(qt){return Ne.setDisabled(!Ye(qt.parents))})}},Bv=function(ie){ie.addCommand("mceLink",function(){fn(ie)?ie.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):co(ie)()})},Id=function(ie){ie.addShortcut("Meta+K","",function(){ie.execCommand("mceLink")})},Cl=function(ie){ie.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:co(ie),onSetup:Ra(ie)}),ie.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:$v(ie),onSetup:Pf(ie)}),ie.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return qs(ie)},onSetup:If(ie)})},Ys=function(ie){ie.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:$v(ie),onSetup:Pf(ie)}),ie.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:co(ie)}),ie.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return qs(ie)},onSetup:If(ie)})},Mv=function(ie){var Ne="link unlink openlink",Ye="link";ie.ui.registry.addContextMenu("link",{update:function(Et){return Kl(ie.dom.getParents(Et,"a"))?Ne:Ye}})},_s=function(ie){var Ne=function(qt){qt.selection.collapse(!1)},Ye=function(qt){var Rn=ie.selection.getNode();return qt.setDisabled(!Na(ie,Rn)),H},Et=function(qt){var Rn=Na(ie),aa=Si(ie);if(!Rn&&aa){var ha=Zi(ie.selection,Rn);return Te.some(ha.length>0?ha:qt)}else return Te.none()};ie.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ra(ie)},label:"Link",predicate:function(qt){return!!Na(ie,qt)&&kt(ie)},initValue:function(){var qt=Na(ie);return qt?da(qt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(qt){var Rn=ie.selection.getNode();return qt.setActive(!!Na(ie,Rn)),Ra(ie)(qt)},onAction:function(qt){var Rn=qt.getValue(),aa=Et(Rn),ha={href:Rn,attach:H};Df(ie,ha,{href:Rn,text:aa,title:Te.none(),rel:Te.none(),target:Te.none(),class:Te.none()}),Ne(ie),qt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ye,onAction:function(qt){qs(ie),qt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ye,onAction:function(qt){$v(ie)(),qt.hide()}}]})};function $u(){f.add("link",function(ie){Cl(ie),Ys(ie),Mv(ie),_s(ie),cu(ie),Bv(ie),Id(ie)})}$u()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(M){var J=typeof M;return M===null?"null":J==="object"&&(Array.prototype.isPrototypeOf(M)||M.constructor&&M.constructor.name==="Array")?"array":J==="object"&&(String.prototype.isPrototypeOf(M)||M.constructor&&M.constructor.name==="String")?"string":J},y=function(M){return function(J){return m(J)===M}},b=function(M){return function(J){return typeof J===M}},S=y("string"),_=y("object"),O=y("array"),T=b("boolean"),F=b("function"),j=b("number"),P=function(){},H=function(M){return function(){return M}},I=function(M){return M},L=function(M,J){return M===J},Y=function(M){return function(J){return!M(J)}},q=H(!1),$e=H(!0),de=function(){return Be},Be=function(){var M=function(Ce){return Ce()},J=I,ae={fold:function(Ce,qe){return Ce()},isSome:q,isNone:$e,getOr:J,getOrThunk:M,getOrDie:function(Ce){throw new Error(Ce||"error: getOrDie called on none.")},getOrNull:H(null),getOrUndefined:H(void 0),or:J,orThunk:M,map:de,each:P,bind:de,exists:q,forall:$e,filter:function(){return de()},toArray:function(){return[]},toString:H("none()")};return ae}(),ne=function(M){var J=H(M),ae=function(){return qe},Ce=function(bt){return bt(M)},qe={fold:function(bt,xn){return xn(M)},isSome:$e,isNone:q,getOr:J,getOrThunk:J,getOrDie:J,getOrNull:J,getOrUndefined:J,or:ae,orThunk:ae,map:function(bt){return ne(bt(M))},each:function(bt){bt(M)},bind:Ce,exists:Ce,forall:Ce,filter:function(bt){return bt(M)?qe:Be},toArray:function(){return[M]},toString:function(){return"some("+M+")"}};return qe},Se=function(M){return M==null?Be:ne(M)},Te={some:ne,none:de,from:Se},xe=Array.prototype.slice,Ge=Array.prototype.push,se=function(M,J){for(var ae=M.length,Ce=new Array(ae),qe=0;qe<ae;qe++){var bt=M[qe];Ce[qe]=J(bt,qe)}return Ce},pe=function(M,J){for(var ae=0,Ce=M.length;ae<Ce;ae++){var qe=M[ae];J(qe,ae)}},ye=function(M,J){for(var ae=[],Ce=0,qe=M.length;Ce<qe;Ce++){var bt=M[Ce];J(bt,Ce)&&ae.push(bt)}return ae},Me=function(M,J){if(M.length===0)return[];for(var ae=J(M[0]),Ce=[],qe=[],bt=0,xn=M.length;bt<xn;bt++){var tr=M[bt],Or=J(tr);Or!==ae&&(Ce.push(qe),qe=[]),ae=Or,qe.push(tr)}return qe.length!==0&&Ce.push(qe),Ce},re=function(M,J,ae){return pe(M,function(Ce,qe){ae=J(ae,Ce,qe)}),ae},W=function(M,J,ae){for(var Ce=0,qe=M.length;Ce<qe;Ce++){var bt=M[Ce];if(J(bt,Ce))return Te.some(bt);if(ae(bt,Ce))break}return Te.none()},ke=function(M,J){return W(M,J,q)},et=function(M){for(var J=[],ae=0,Ce=M.length;ae<Ce;++ae){if(!O(M[ae]))throw new Error("Arr.flatten item "+ae+" was not an array, input: "+M);Ge.apply(J,M[ae])}return J},le=function(M,J){return et(se(M,J))},ge=function(M){var J=xe.call(M,0);return J.reverse(),J},ut=function(M,J){return J>=0&&J<M.length?Te.some(M[J]):Te.none()},B=function(M){return ut(M,0)},kt=function(M){return ut(M,M.length-1)},at=function(M,J){for(var ae=0;ae<M.length;ae++){var Ce=J(M[ae],ae);if(Ce.isSome())return Ce}return Te.none()},ot=function(){return ot=Object.assign||function(J){for(var ae,Ce=1,qe=arguments.length;Ce<qe;Ce++){ae=arguments[Ce];for(var bt in ae)Object.prototype.hasOwnProperty.call(ae,bt)&&(J[bt]=ae[bt])}return J},ot.apply(this,arguments)};function kn(M,J,ae){if(ae||arguments.length===2)for(var Ce=0,qe=J.length,bt;Ce<qe;Ce++)(bt||!(Ce in J))&&(bt||(bt=Array.prototype.slice.call(J,0,Ce)),bt[Ce]=J[Ce]);return M.concat(bt||Array.prototype.slice.call(J))}var cn=function(M){var J=!1,ae;return function(){for(var Ce=[],qe=0;qe<arguments.length;qe++)Ce[qe]=arguments[qe];return J||(J=!0,ae=M.apply(null,Ce)),ae}},lt=function(M,J,ae,Ce){var qe=M.isiOS()&&/ipad/i.test(ae)===!0,bt=M.isiOS()&&!qe,xn=M.isiOS()||M.isAndroid(),tr=xn||Ce("(pointer:coarse)"),Or=qe||!bt&&xn&&Ce("(min-device-width:768px)"),gr=bt||xn&&!Or,xa=J.isSafari()&&M.isiOS()&&/safari/i.test(ae)===!1,Ei=!gr&&!Or&&!xa;return{isiPad:H(qe),isiPhone:H(bt),isTablet:H(Or),isPhone:H(gr),isTouch:H(tr),isAndroid:M.isAndroid,isiOS:M.isiOS,isWebView:H(xa),isDesktop:H(Ei)}},Sn=function(M,J){for(var ae=0;ae<M.length;ae++){var Ce=M[ae];if(Ce.test(J))return Ce}},te=function(M,J){var ae=Sn(M,J);if(!ae)return{major:0,minor:0};var Ce=function(qe){return Number(J.replace(ae,"$"+qe))};return gt(Ce(1),Ce(2))},fn=function(M,J){var ae=String(J).toLowerCase();return M.length===0?Ue():te(M,ae)},Ue=function(){return gt(0,0)},gt=function(M,J){return{major:M,minor:J}},Xn={nu:gt,detect:fn,unknown:Ue},Oe=function(M,J){return at(J.brands,function(ae){var Ce=ae.brand.toLowerCase();return ke(M,function(qe){var bt;return Ce===((bt=qe.brand)===null||bt===void 0?void 0:bt.toLowerCase())}).map(function(qe){return{current:qe.name,version:Xn.nu(parseInt(ae.version,10),0)}})})},Ee=function(M,J){var ae=String(J).toLowerCase();return ke(M,function(Ce){return Ce.search(ae)})},Ze=function(M,J){return Ee(M,J).map(function(ae){var Ce=Xn.detect(ae.versionRegexes,J);return{current:ae.name,version:Ce}})},tt=function(M,J){return Ee(M,J).map(function(ae){var Ce=Xn.detect(ae.versionRegexes,J);return{current:ae.name,version:Ce}})},He=function(M,J){return M.indexOf(J)!==-1},pt=function(M){return function(J){return J.replace(M,"")}},Jt=pt(/^\s+|\s+$/g),it=function(M){return M.length>0},Wt=function(M){return!it(M)},Rt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zt=function(M){return function(J){return He(J,M)}},rn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(M){return He(M,"edge/")&&He(M,"chrome")&&He(M,"safari")&&He(M,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Rt],search:function(M){return He(M,"chrome")&&!He(M,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(M){return He(M,"msie")||He(M,"trident")}},{name:"Opera",versionRegexes:[Rt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zt("firefox")},{name:"Safari",versionRegexes:[Rt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(M){return(He(M,"safari")||He(M,"mobile/"))&&He(M,"applewebkit")}}],pn=[{name:"Windows",search:zt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(M){return He(M,"iphone")||He(M,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:zt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zt("linux"),versionRegexes:[]},{name:"Solaris",search:zt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:zt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Kn={browsers:H(rn),oses:H(pn)},cr="Edge",qr="Chrome",or="IE",ua="Opera",va="Firefox",Qr="Safari",Hr=function(){return da({current:void 0,version:Xn.unknown()})},da=function(M){var J=M.current,ae=M.version,Ce=function(qe){return function(){return J===qe}};return{current:J,version:ae,isEdge:Ce(cr),isChrome:Ce(qr),isIE:Ce(or),isOpera:Ce(ua),isFirefox:Ce(va),isSafari:Ce(Qr)}},Ur={unknown:Hr,nu:da,edge:H(cr),chrome:H(qr),ie:H(or),opera:H(ua),firefox:H(va),safari:H(Qr)},fr="Windows",Na="iOS",Zi="Android",Kl="Linux",Vr="OSX",Si="Solaris",Ju="FreeBSD",_i="ChromeOS",En=function(){return Pr({current:void 0,version:Xn.unknown()})},Pr=function(M){var J=M.current,ae=M.version,Ce=function(qe){return function(){return J===qe}};return{current:J,version:ae,isWindows:Ce(fr),isiOS:Ce(Na),isAndroid:Ce(Zi),isOSX:Ce(Vr),isLinux:Ce(Kl),isSolaris:Ce(Si),isFreeBSD:Ce(Ju),isChromeOS:Ce(_i)}},lo={unknown:En,nu:Pr,windows:H(fr),ios:H(Na),android:H(Zi),linux:H(Kl),osx:H(Vr),solaris:H(Si),freebsd:H(Ju),chromeos:H(_i)},lu=function(M,J,ae){var Ce=Kn.browsers(),qe=Kn.oses(),bt=J.bind(function(Or){return Oe(Ce,Or)}).orThunk(function(){return Ze(Ce,M)}).fold(Ur.unknown,Ur.nu),xn=tt(qe,M).fold(lo.unknown,lo.nu),tr=lt(xn,bt,M,ae);return{browser:bt,os:xn,deviceType:tr}},Zu={detect:lu},Ir=function(M){return window.matchMedia(M).matches},Tr=cn(function(){return Zu.detect(navigator.userAgent,Te.from(navigator.userAgentData),Ir)}),Gs=function(){return Tr()},th=function(M,J,ae){return(M.compareDocumentPosition(J)&ae)!==0},Df=function(M,J){return th(M,J,Node.DOCUMENT_POSITION_CONTAINED_BY)},qs=1,$c=function(M,J){var ae=J||document,Ce=ae.createElement("div");if(Ce.innerHTML=M,!Ce.hasChildNodes()||Ce.childNodes.length>1)throw console.error("HTML does not have a single root node",M),new Error("HTML must have a single root node");return pl(Ce.childNodes[0])},Tv=function(M,J){var ae=J||document,Ce=ae.createElement(M);return pl(Ce)},gl=function(M,J){var ae=J||document,Ce=ae.createTextNode(M);return pl(Ce)},pl=function(M){if(M==null)throw new Error("Node cannot be null or undefined");return{dom:M}},Rf=function(M,J,ae){return Te.from(M.dom.elementFromPoint(J,ae)).map(pl)},ma={fromHtml:$c,fromTag:Tv,fromText:gl,fromDom:pl,fromPoint:Rf},Ks=function(M,J){var ae=M.dom;if(ae.nodeType!==qs)return!1;var Ce=ae;if(Ce.matches!==void 0)return Ce.matches(J);if(Ce.msMatchesSelector!==void 0)return Ce.msMatchesSelector(J);if(Ce.webkitMatchesSelector!==void 0)return Ce.webkitMatchesSelector(J);if(Ce.mozMatchesSelector!==void 0)return Ce.mozMatchesSelector(J);throw new Error("Browser lacks native selectors")},Wn=function(M,J){return M.dom===J.dom},nh=function(M,J){var ae=M.dom,Ce=J.dom;return ae===Ce?!1:ae.contains(Ce)},Ou=function(M,J){return Df(M.dom,J.dom)},Bc=function(M,J){return Gs().browser.isIE()?Ou(M,J):nh(M,J)},rh=Ks,Xl=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ah=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),$f=tinymce.util.Tools.resolve("tinymce.util.VK"),oh=Object.keys,Ss=function(M,J){for(var ae=oh(M),Ce=0,qe=ae.length;Ce<qe;Ce++){var bt=ae[Ce],xn=M[bt];J(xn,bt)}},Mc=function(M){return function(J,ae){M[ae]=J}},sn=function(M,J,ae,Ce){var qe={};return Ss(M,function(bt,xn){(J(bt,xn)?ae:Ce)(bt,xn)}),qe},Bd=function(M,J){var ae={};return sn(M,J,Mc(ae),P),ae};typeof window<"u"||Function("return this;")();var Ov=function(M){var J=M.dom.nodeName;return J.toLowerCase()},Dv=function(M){return M.dom.nodeType},Yl=function(M){return function(J){return Dv(J)===M}},Qu=Yl(qs),ih=function(M){return function(J){return Qu(J)&&Ov(J)===M}},Bo=function(M,J,ae){if(S(ae)||T(ae)||j(ae))M.setAttribute(J,ae+"");else throw console.error("Invalid call to Attribute.set. Key ",J,":: Value ",ae,":: Element ",M),new Error("Attribute value was not simple")},po=function(M,J){var ae=M.dom;Ss(J,function(Ce,qe){Bo(ae,qe,Ce)})},Du=function(M){return re(M.dom.attributes,function(J,ae){return J[ae.name]=ae.value,J},{})},Xs=function(M){return Te.from(M.dom.parentNode).map(ma.fromDom)},Md=function(M){return se(M.dom.childNodes,ma.fromDom)},es=function(M,J){var ae=M.dom.childNodes;return Te.from(ae[J]).map(ma.fromDom)},Bf=function(M){return es(M,0)},Pd=function(M){return es(M,M.dom.childNodes.length-1)},bl=function(M,J){var ae=Xs(M);ae.each(function(Ce){Ce.dom.insertBefore(J.dom,M.dom)})},Ru=function(M,J){M.dom.appendChild(J.dom)},en=function(M,J){pe(J,function(ae){bl(M,ae)})},xi=function(M,J){pe(J,function(ae){Ru(M,ae)})},yl=function(M){var J=M.dom;J.parentNode!==null&&J.parentNode.removeChild(J)},uh=function(M,J){return ma.fromDom(M.dom.cloneNode(J))},Mf=function(M){return uh(M,!0)},ea=function(M,J){var ae=ma.fromTag(J),Ce=Du(M);return po(ae,Ce),ae},Rv=function(M,J){var ae=ea(M,J);bl(M,ae);var Ce=Md(M);return xi(ae,Ce),yl(M),ae},wl=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),co=tinymce.util.Tools.resolve("tinymce.util.Tools"),$v=function(M){return function(J){return J&&J.nodeName.toLowerCase()===M}},cu=function(M){return function(J){return J&&M.test(J.nodeName)}},ts=function(M){return M&&M.nodeType===3},Ra=cu(/^(OL|UL|DL)$/),Pf=cu(/^(OL|UL)$/),If=$v("ol"),Bv=cu(/^(LI|DT|DD)$/),Id=cu(/^(DT|DD)$/),Cl=cu(/^(TH|TD)$/),Ys=$v("br"),Mv=function(M){return M.parentNode.firstChild===M},_s=function(M,J){return J&&!!M.schema.getTextBlockElements()[J.nodeName]},$u=function(M,J){return M&&M.nodeName in J},ie=function(M,J){return Ys(J)?M.isBlock(J.nextSibling)&&!Ys(J.previousSibling):!1},Ne=function(M,J,ae){var Ce=M.isEmpty(J);return ae&&M.select("span[data-mce-type=bookmark]",J).length>0?!1:Ce},Ye=function(M,J){return M.isChildOf(J,M.getRoot())},Et=function(M){return M.getParam("lists_indent_on_tab",!0)},qt=function(M){var J=M.getParam("forced_root_block","p");return J===!1?"":J===!0?"p":J},Rn=function(M){return M.getParam("forced_root_block_attrs",{})},aa=function(M,J){var ae=M.dom,Ce=M.schema.getBlockElements(),qe=ae.createFragment(),bt=qt(M),xn,tr,Or;if(bt&&(tr=ae.create(bt),tr.tagName===bt.toUpperCase()&&ae.setAttribs(tr,Rn(M)),$u(J.firstChild,Ce)||qe.appendChild(tr)),J)for(;xn=J.firstChild;){var gr=xn.nodeName;!Or&&(gr!=="SPAN"||xn.getAttribute("data-mce-type")!=="bookmark")&&(Or=!0),$u(xn,Ce)?(qe.appendChild(xn),tr=null):bt?(tr||(tr=ae.create(bt),qe.appendChild(tr)),tr.appendChild(xn)):qe.appendChild(xn)}return bt?Or||tr.appendChild(ae.create("br",{"data-mce-bogus":"1"})):qe.appendChild(ae.create("br")),qe},ha=wl.DOM,br=function(M,J,ae){var Ce=function(gr){co.each(qe,function(xa){gr.parentNode.insertBefore(xa,ae.parentNode)}),ha.remove(gr)},qe=ha.select('span[data-mce-type="bookmark"]',J),bt=aa(M,ae),xn=ha.createRng();xn.setStartAfter(ae),xn.setEndAfter(J);for(var tr=xn.extractContents(),Or=tr.firstChild;Or;Or=Or.firstChild)if(Or.nodeName==="LI"&&M.dom.isEmpty(Or)){ha.remove(Or);break}M.dom.isEmpty(tr)||ha.insertAfter(tr,J),ha.insertAfter(bt,J),Ne(M.dom,ae.parentNode)&&Ce(ae.parentNode),ha.remove(ae),Ne(M.dom,J)&&ha.remove(J)},za=ih("dd"),Ka=ih("dt"),Pc=function(M,J){za(J)?Rv(J,"dt"):Ka(J)&&Xs(J).each(function(ae){return br(M,ae.dom,J.dom)})},Li=function(M){Ka(M)&&Rv(M,"dd")},Jl=function(M,J,ae){J==="Indent"?pe(ae,Li):pe(ae,function(Ce){return Pc(M,Ce)})},Hn=function(M,J){if(ts(M))return{container:M,offset:J};var ae=Xl.getNode(M,J);return ts(ae)?{container:ae,offset:J>=M.childNodes.length?ae.data.length:0}:ae.previousSibling&&ts(ae.previousSibling)?{container:ae.previousSibling,offset:ae.previousSibling.data.length}:ae.nextSibling&&ts(ae.nextSibling)?{container:ae.nextSibling,offset:0}:{container:M,offset:J}},sh=function(M){var J=M.cloneRange(),ae=Hn(M.startContainer,M.startOffset);J.setStart(ae.container,ae.offset);var Ce=Hn(M.endContainer,M.endOffset);return J.setEnd(Ce.container,Ce.offset),J},fp=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),ta=function(M,J){var ae=J||M.selection.getStart(!0);return M.dom.getParent(ae,"OL,UL,DL",Sl(M,ae))},vp=function(M,J){return M&&J.length===1&&J[0]===M},lh=function(M){return ye(M.querySelectorAll("ol,ul,dl"),Ra)},n2=function(M){var J=ta(M),ae=M.selection.getSelectedBlocks();return vp(J,ae)?lh(J):ye(ae,function(Ce){return Ra(Ce)&&J!==Ce})},_a=function(M,J){var ae=co.map(J,function(Ce){var qe=M.dom.getParent(Ce,"li,dd,dt",Sl(M,Ce));return qe||Ce});return fp.unique(ae)},Js=function(M){var J=M.selection.getSelectedBlocks();return ye(_a(M,J),Bv)},r2=function(M){return ye(Js(M),Id)},Sl=function(M,J){var ae=M.dom.getParents(J,"TD,TH");return ae.length>0?ae[0]:M.getBody()},Jo=function(M,J){var ae=M.dom.getParents(J,"ol,ul",Sl(M,J));return kt(ae)},Nf=function(M){var J=Jo(M,M.selection.getStart()),ae=ye(M.selection.getSelectedBlocks(),Pf);return J.toArray().concat(ae)},wt=function(M){var J=Nf(M);return ch(M,J)},ch=function(M,J){var ae=se(J,function(Ce){return Jo(M,Ce).getOr(Ce)});return fp.unique(ae)},_o=function(M,J,ae){return ae===void 0&&(ae=L),M.exists(function(Ce){return ae(Ce,J)})},sb=function(M,J,ae){return M.isSome()&&J.isSome()?Te.some(ae(M.getOrDie(),J.getOrDie())):Te.none()},zf=function(M,J){var ae=J||document,Ce=ae.createDocumentFragment();return pe(M,function(qe){Ce.appendChild(qe.dom)}),ma.fromDom(Ce)},Pv=function(M,J,ae){return M.fire("ListMutation",{action:J,element:ae})},je=function(M){return M.style!==void 0&&F(M.style.getPropertyValue)},ii=function(M,J,ae){if(!S(ae))throw console.error("Invalid call to CSS.set. Property ",J,":: Value ",ae,":: Element ",M),new Error("CSS value must be a string: "+ae);je(M)&&M.style.setProperty(J,ae)},fh=function(M,J,ae){var Ce=M.dom;ii(Ce,J,ae)},dp=function(M,J){Ru(M.item,J.list)},lb=function(M){for(var J=1;J<M.length;J++)dp(M[J-1],M[J])},Nd=function(M,J){sb(kt(M),B(J),dp)},mp=function(M,J){var ae={list:ma.fromTag(J,M),item:ma.fromTag("li",M)};return Ru(ae.list,ae.item),ae},hp=function(M,J,ae){for(var Ce=[],qe=0;qe<ae;qe++)Ce.push(mp(M,J.listType));return Ce},xs=function(M,J){for(var ae=0;ae<M.length-1;ae++)fh(M[ae].item,"list-style-type","none");kt(M).each(function(Ce){po(Ce.list,J.listAttributes),po(Ce.item,J.itemAttributes),xi(Ce.item,J.content)})},Zl=function(M,J){Ov(M.list)!==J.listType&&(M.list=Rv(M.list,J.listType)),po(M.list,J.listAttributes)},cb=function(M,J,ae){var Ce=ma.fromTag("li",M);return po(Ce,J),xi(Ce,ae),Ce},fb=function(M,J){Ru(M.list,J),M.item=J},Ql=function(M,J,ae){var Ce=J.slice(0,ae.depth);return kt(Ce).each(function(qe){var bt=cb(M,ae.itemAttributes,ae.content);fb(qe,bt),Zl(qe,ae)}),Ce},$a=function(M,J,ae){var Ce=hp(M,ae,ae.depth-J.length);return lb(Ce),xs(Ce,ae),Nd(J,Ce),J.concat(Ce)},vb=function(M,J){var ae=re(J,function(Ce,qe){return qe.depth>Ce.length?$a(M,Ce,qe):Ql(M,Ce,qe)},[]);return B(ae).map(function(Ce){return Ce.list})},fu=function(M){return rh(M,"OL,UL")},Hi=function(M){return Bf(M).exists(fu)},xo=function(M){return Pd(M).exists(fu)},Ic=function(M){return M.depth>0},lr=function(M){return M.isSelected},ns=function(M){var J=Md(M),ae=xo(M)?J.slice(0,-1):J;return se(ae,Mf)},Fa=function(M,J,ae){return Xs(M).filter(Qu).map(function(Ce){return{depth:J,dirty:!1,isSelected:ae,content:ns(M),itemAttributes:Du(M),listAttributes:Du(Ce),listType:Ov(Ce)}})},Xa=function(M,J){switch(M){case"Indent":J.depth++;break;case"Outdent":J.depth--;break;case"Flatten":J.depth=0}J.dirty=!0},db=function(M,J){M.listType=J.listType,M.listAttributes=ot({},J.listAttributes)},ui=function(M){M.listAttributes=Bd(M.listAttributes,function(J,ae){return ae!=="start"})},gp=function(M,J){var ae=M[J].depth,Ce=function(bt){return bt.depth===ae&&!bt.dirty},qe=function(bt){return bt.depth<ae};return W(ge(M.slice(0,J)),Ce,qe).orThunk(function(){return W(M.slice(J+1),Ce,qe)})},_l=function(M){return pe(M,function(J,ae){gp(M,ae).fold(function(){J.dirty&&ui(J)},function(Ce){return db(J,Ce)})}),M},jn=function(M){var J=M,ae=function(){return J},Ce=function(qe){J=qe};return{get:ae,set:Ce}},rs=function(M,J,ae,Ce){return Bf(Ce).filter(fu).fold(function(){J.each(function(xn){Wn(xn.start,Ce)&&ae.set(!0)});var qe=Fa(Ce,M,ae.get());J.each(function(xn){Wn(xn.end,Ce)&&ae.set(!1)});var bt=Pd(Ce).filter(fu).map(function(xn){return no(M,J,ae,xn)}).getOr([]);return qe.toArray().concat(bt)},function(qe){return no(M,J,ae,qe)})},no=function(M,J,ae,Ce){return le(Md(Ce),function(qe){var bt=fu(qe)?no:rs,xn=M+1;return bt(xn,J,ae,qe)})},ro=function(M,J){var ae=jn(!1),Ce=0;return se(M,function(qe){return{sourceList:qe,entries:no(Ce,J,ae,qe)}})},Lo=function(M,J){var ae=_l(J);return se(ae,function(Ce){var qe=zf(Ce.content);return ma.fromDom(aa(M,qe.dom))})},ko=function(M,J){var ae=_l(J);return vb(M.contentDocument,ae).toArray()},Ff=function(M,J){return le(Me(J,Ic),function(ae){var Ce=B(ae).exists(Ic);return Ce?ko(M,ae):Lo(M,ae)})},ks=function(M,J){pe(ye(M,lr),function(ae){return Xa(J,ae)})},Kr=function(M){var J=se(Js(M),ma.fromDom);return sb(ke(J,Y(Hi)),ke(ge(J),Y(Hi)),function(ae,Ce){return{start:ae,end:Ce}})},Ba=function(M,J,ae){var Ce=ro(J,Kr(M));pe(Ce,function(qe){ks(qe.entries,ae);var bt=Ff(M,qe.entries);pe(bt,function(xn){Pv(M,ae==="Indent"?"IndentList":"OutdentList",xn.dom)}),en(qe.sourceList,bt),yl(qe.sourceList)})},Qi=function(M,J){var ae=se(wt(M),ma.fromDom),Ce=se(r2(M),ma.fromDom),qe=!1;if(ae.length||Ce.length){var bt=M.selection.getBookmark();Ba(M,ae,J),Jl(M,J,Ce),M.selection.moveToBookmark(bt),M.selection.setRng(sh(M.selection.getRng())),M.nodeChanged(),qe=!0}return qe},ec=function(M){return Qi(M,"Indent")},Mo=function(M){return Qi(M,"Outdent")},as=function(M){return Qi(M,"Flatten")},mb=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Lf=wl.DOM,ya=function(M){var J={},ae=function(Ce){var qe=M[Ce?"startContainer":"endContainer"],bt=M[Ce?"startOffset":"endOffset"];if(qe.nodeType===1){var xn=Lf.create("span",{"data-mce-type":"bookmark"});qe.hasChildNodes()?(bt=Math.min(bt,qe.childNodes.length-1),Ce?qe.insertBefore(xn,qe.childNodes[bt]):Lf.insertAfter(xn,qe.childNodes[bt])):qe.appendChild(xn),qe=xn,bt=0}J[Ce?"startContainer":"endContainer"]=qe,J[Ce?"startOffset":"endOffset"]=bt};return ae(!0),M.collapsed||ae(),J},Zs=function(M){var J=function(Ce){var qe,bt=function(Or){for(var gr=Or.parentNode.firstChild,xa=0;gr;){if(gr===Or)return xa;(gr.nodeType!==1||gr.getAttribute("data-mce-type")!=="bookmark")&&xa++,gr=gr.nextSibling}return-1},xn=qe=M[Ce?"startContainer":"endContainer"],tr=M[Ce?"startOffset":"endOffset"];xn&&(xn.nodeType===1&&(tr=bt(xn),xn=xn.parentNode,Lf.remove(qe),!xn.hasChildNodes()&&Lf.isBlock(xn)&&xn.appendChild(Lf.create("br"))),M[Ce?"startContainer":"endContainer"]=xn,M[Ce?"startOffset":"endOffset"]=tr)};J(!0),J();var ae=Lf.createRng();return ae.setStart(M.startContainer,M.startOffset),M.endContainer&&ae.setEnd(M.endContainer,M.endOffset),sh(ae)},Nc=function(M){switch(M){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},vu=function(M){return/\btox\-/.test(M.className)},fo=function(M,J,ae){var Ce=function(bt){var xn=W(bt.parents,Ra,Cl).filter(function(tr){return tr.nodeName===J&&!vu(tr)}).isSome();ae(xn)},qe=M.dom.getParents(M.selection.getNode());return Ce({parents:qe}),M.on("NodeChange",Ce),function(){return M.off("NodeChange",Ce)}},zc=function(M,J,ae){var Ce=ae["list-style-type"]?ae["list-style-type"]:null;M.setStyle(J,"list-style-type",Ce)},tc=function(M,J){co.each(J,function(ae,Ce){M.setAttribute(Ce,ae)})},Vi=function(M,J,ae){tc(J,ae["list-attributes"]),co.each(M.select("li",J),function(Ce){tc(Ce,ae["list-item-attributes"])})},du=function(M,J,ae){zc(M,J,ae),Vi(M,J,ae)},ki=function(M,J,ae){co.each(ae,function(Ce){var qe;return M.setStyle(J,(qe={},qe[Ce]="",qe))})},Iv=function(M,J,ae,Ce){var qe=J[ae?"startContainer":"endContainer"],bt=J[ae?"startOffset":"endOffset"];for(qe.nodeType===1&&(qe=qe.childNodes[Math.min(bt,qe.childNodes.length-1)]||qe),!ae&&Ys(qe.nextSibling)&&(qe=qe.nextSibling);qe.parentNode!==Ce;){if(_s(M,qe)||/^(TD|TH)$/.test(qe.parentNode.nodeName))return qe;qe=qe.parentNode}return qe},Qs=function(M,J,ae){for(var Ce=[],qe=M.dom,bt=Iv(M,J,!0,ae),xn=Iv(M,J,!1,ae),tr,Or=[],gr=bt;gr&&(Or.push(gr),gr!==xn);gr=gr.nextSibling);return co.each(Or,function(xa){if(_s(M,xa)){Ce.push(xa),tr=null;return}if(qe.isBlock(xa)||Ys(xa)){Ys(xa)&&qe.remove(xa),tr=null;return}var Ei=xa.nextSibling;if(mb.isBookmarkNode(xa)&&(Ra(Ei)||_s(M,Ei)||!Ei&&xa.parentNode===ae)){tr=null;return}tr||(tr=qe.create("p"),xa.parentNode.insertBefore(tr,xa),Ce.push(tr)),tr.appendChild(xa)}),Ce},Ho=function(M,J,ae){var Ce=M.getStyle(J,"list-style-type"),qe=ae?ae["list-style-type"]:"";return qe=qe===null?"":qe,Ce===qe},zd=function(M,J,ae){var Ce=M.selection.getRng(),qe="LI",bt=Sl(M,M.selection.getStart(!0)),xn=M.dom;if(xn.getContentEditable(M.selection.getNode())!=="false"){J=J.toUpperCase(),J==="DL"&&(qe="DT");var tr=ya(Ce),Or=Qs(M,Ce,bt);co.each(Or,function(gr){var xa,Ei=gr.previousSibling,ao=gr.parentNode;Bv(ao)||(Ei&&Ra(Ei)&&Ei.nodeName===J&&Ho(xn,Ei,ae)?(xa=Ei,gr=xn.rename(gr,qe),Ei.appendChild(gr)):(xa=xn.create(J),gr.parentNode.insertBefore(xa,gr),xa.appendChild(gr),gr=xn.rename(gr,qe)),ki(xn,gr,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),du(xn,xa,ae),Uf(M.dom,xa))}),M.selection.setRng(Zs(tr))}},hb=function(M,J){return M&&J&&Ra(M)&&M.nodeName===J.nodeName},Hf=function(M,J,ae){var Ce=M.getStyle(J,"list-style-type",!0),qe=M.getStyle(ae,"list-style-type",!0);return Ce===qe},Vf=function(M,J){return M.className===J.className},vo=function(M,J,ae){return hb(J,ae)&&Hf(M,J,ae)&&Vf(J,ae)},Uf=function(M,J){var ae,Ce;if(ae=J.nextSibling,vo(M,J,ae)){for(;Ce=ae.firstChild;)J.appendChild(Ce);M.remove(ae)}if(ae=J.previousSibling,vo(M,J,ae)){for(;Ce=ae.lastChild;)J.insertBefore(Ce,J.firstChild);M.remove(ae)}},Wf=function(M,J,ae,Ce){if(J.nodeName!==ae){var qe=M.dom.rename(J,ae);du(M.dom,qe,Ce),Pv(M,Nc(ae),qe)}else du(M.dom,J,Ce),Pv(M,Nc(ae),J)},Ui=function(M,J,ae,Ce,qe){var bt=Ra(J);if(bt&&J.nodeName===Ce&&!nc(qe))as(M);else{zd(M,Ce,qe);var xn=ya(M.selection.getRng()),tr=bt?kn([J],ae,!0):ae;co.each(tr,function(Or){Wf(M,Or,Ce,qe)}),M.selection.setRng(Zs(xn))}},nc=function(M){return"list-style-type"in M},jf=function(M,J,ae,Ce){if(J!==M.getBody())if(J)if(J.nodeName===ae&&!nc(Ce)&&!vu(J))as(M);else{var qe=ya(M.selection.getRng());du(M.dom,J,Ce);var bt=M.dom.rename(J,ae);Uf(M.dom,bt),M.selection.setRng(Zs(qe)),zd(M,ae,Ce),Pv(M,Nc(ae),bt)}else zd(M,ae,Ce),Pv(M,Nc(ae),J)},rc=function(M,J,ae){var Ce=ta(M),qe=n2(M),bt=_(ae)?ae:{};qe.length>0?Ui(M,Ce,qe,J,bt):jf(M,Ce,J,bt)},Wa=wl.DOM,Bu=function(M,J){var ae=J.parentNode;if(ae.nodeName==="LI"&&ae.firstChild===J){var Ce=ae.previousSibling;Ce&&Ce.nodeName==="LI"?(Ce.appendChild(J),Ne(M,ae)&&Wa.remove(ae)):Wa.setStyle(ae,"listStyleType","none")}if(Ra(ae)){var Ce=ae.previousSibling;Ce&&Ce.nodeName==="LI"&&Ce.appendChild(J)}},vh=function(M,J){var ae=co.grep(M.select("ol,ul",J));co.each(ae,function(Ce){Bu(M,Ce)})},os=function(M,J,ae,Ce){var qe=J.startContainer,bt=J.startOffset;if(ts(qe)&&(ae?bt<qe.data.length:bt>0))return qe;var xn=M.schema.getNonEmptyElements();qe.nodeType===1&&(qe=Xl.getNode(qe,bt));var tr=new ah(qe,Ce);for(ae&&ie(M.dom,qe)&&tr.next();qe=tr[ae?"next":"prev2"]();)if(qe.nodeName==="LI"&&!qe.hasChildNodes()||xn[qe.nodeName]||ts(qe)&&qe.data.length>0)return qe},dh=function(M,J){var ae=J.childNodes;return ae.length===1&&!Ra(ae[0])&&M.isBlock(ae[0])},gb=function(M,J){dh(M,J)&&M.remove(J.firstChild,!0)},pp=function(M,J,ae){var Ce,qe=dh(M,ae)?ae.firstChild:ae;if(gb(M,J),!Ne(M,J,!0))for(;Ce=J.firstChild;)qe.appendChild(Ce)},Gf=function(M,J,ae){var Ce,qe=J.parentNode;if(!(!Ye(M,J)||!Ye(M,ae))){Ra(ae.lastChild)&&(Ce=ae.lastChild),qe===ae.lastChild&&Ys(qe.previousSibling)&&M.remove(qe.previousSibling);var bt=ae.lastChild;bt&&Ys(bt)&&J.hasChildNodes()&&M.remove(bt),Ne(M,ae,!0)&&M.$(ae).empty(),pp(M,J,ae),Ce&&ae.appendChild(Ce);var xn=Bc(ma.fromDom(ae),ma.fromDom(J)),tr=xn?M.getParents(J,Ra,ae):[];M.remove(J),pe(tr,function(Or){Ne(M,Or)&&Or!==M.getRoot()&&M.remove(Or)})}},qf=function(M,J,ae){M.dom.$(ae).empty(),Gf(M.dom,J,ae),M.selection.setCursorLocation(ae,0)},Fc=function(M,J,ae,Ce){var qe=M.dom;if(qe.isEmpty(Ce))qf(M,ae,Ce);else{var bt=ya(J);Gf(qe,ae,Ce),M.selection.setRng(Zs(bt))}},Yn=function(M,J,ae,Ce){var qe=ya(J);Gf(M.dom,ae,Ce);var bt=Zs(qe);M.selection.setRng(bt)},As=function(M,J){var ae=M.dom,Ce=M.selection,qe=Ce.getStart(),bt=Sl(M,qe),xn=ae.getParent(Ce.getStart(),"LI",bt);if(xn){var tr=xn.parentNode;if(tr===M.getBody()&&Ne(ae,tr))return!0;var Or=sh(Ce.getRng()),gr=ae.getParent(os(M,Or,J,bt),"LI",bt);if(gr&&gr!==xn)return M.undoManager.transact(function(){J?Fc(M,Or,gr,xn):Mv(xn)?Mo(M):Yn(M,Or,xn,gr)}),!0;if(!gr&&!J&&Or.startOffset===0&&Or.endOffset===0)return M.undoManager.transact(function(){as(M)}),!0}return!1},mu=function(M,J,ae){var Ce=M.getParent(J.parentNode,M.isBlock,ae);M.remove(J),Ce&&M.isEmpty(Ce)&&M.remove(Ce)},Wi=function(M,J){var ae=M.dom,Ce=M.selection.getStart(),qe=Sl(M,Ce),bt=ae.getParent(Ce,ae.isBlock,qe);if(bt&&ae.isEmpty(bt)){var xn=sh(M.selection.getRng()),tr=ae.getParent(os(M,xn,J,qe),"LI",qe);if(tr)return M.undoManager.transact(function(){mu(ae,bt,qe),Uf(ae,tr.parentNode),M.selection.select(tr,!0),M.selection.collapse(J)}),!0}return!1},Es=function(M,J){return As(M,J)||Wi(M,J)},bo=function(M){var J=M.selection.getStart(),ae=Sl(M,J),Ce=M.dom.getParent(J,"LI,DT,DD",ae);return Ce||Js(M).length>0?(M.undoManager.transact(function(){M.execCommand("Delete"),vh(M.dom,M.getBody())}),!0):!1},Vo=function(M,J){return M.selection.isCollapsed()?Es(M,J):bo(M)},Ao=function(M){M.on("keydown",function(J){J.keyCode===$f.BACKSPACE?Vo(M,!1)&&J.preventDefault():J.keyCode===$f.DELETE&&Vo(M,!0)&&J.preventDefault()})},Lc=function(M){return{backspaceDelete:function(J){Vo(M,J)}}},Ai=function(M,J){var ae=ta(M);M.undoManager.transact(function(){_(J.styles)&&M.dom.setStyles(ae,J.styles),_(J.attrs)&&Ss(J.attrs,function(Ce,qe){return M.dom.setAttrib(ae,qe,Ce)})})},gn=function(M){var J=ge(Jt(M).split("")),ae=se(J,function(Ce,qe){var bt=Ce.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,qe)*bt});return re(ae,function(Ce,qe){return Ce+qe},0)},Kf=function(M){if(M--,M<0)return"";var J=M%26,ae=Math.floor(M/26),Ce=Kf(ae),qe=String.fromCharCode("A".charCodeAt(0)+J);return Ce+qe},bp=function(M){return/^[A-Z]+$/.test(M)},vr=function(M){return/^[a-z]+$/.test(M)},wa=function(M){return/^[0-9]+$/.test(M)},mh=function(M){return wa(M)?2:bp(M)?0:vr(M)?1:Wt(M)?3:4},xl=function(M){switch(mh(M)){case 2:return Te.some({listStyleType:Te.none(),start:M});case 0:return Te.some({listStyleType:Te.some("upper-alpha"),start:gn(M).toString()});case 1:return Te.some({listStyleType:Te.some("lower-alpha"),start:gn(M).toString()});case 3:return Te.some({listStyleType:Te.none(),start:""});case 4:return Te.none()}},La=function(M){var J=parseInt(M.start,10);return _o(M.listStyleType,"upper-alpha")?Kf(J):_o(M.listStyleType,"lower-alpha")?Kf(J).toLowerCase():M.start},hh=function(M){var J=ta(M);If(J)&&M.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:La({start:M.dom.getAttrib(J,"start","1"),listStyleType:Te.some(M.dom.getStyle(J,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(ae){var Ce=ae.getData();xl(Ce.start).each(function(qe){M.execCommand("mceListUpdate",!1,{attrs:{start:qe.start==="1"?"":qe.start},styles:{"list-style-type":qe.listStyleType.getOr("")}})}),ae.close()}})},Mu=function(M,J){return function(){var ae=ta(M);return ae&&ae.nodeName===J}},Fd=function(M){M.addCommand("mceListProps",function(){hh(M)})},hr=function(M){M.on("BeforeExecCommand",function(J){var ae=J.command.toLowerCase();ae==="indent"?ec(M):ae==="outdent"&&Mo(M)}),M.addCommand("InsertUnorderedList",function(J,ae){rc(M,"UL",ae)}),M.addCommand("InsertOrderedList",function(J,ae){rc(M,"OL",ae)}),M.addCommand("InsertDefinitionList",function(J,ae){rc(M,"DL",ae)}),M.addCommand("RemoveList",function(){as(M)}),Fd(M),M.addCommand("mceListUpdate",function(J,ae){_(ae)&&Ai(M,ae)}),M.addQueryStateHandler("InsertUnorderedList",Mu(M,"UL")),M.addQueryStateHandler("InsertOrderedList",Mu(M,"OL")),M.addQueryStateHandler("InsertDefinitionList",Mu(M,"DL"))},eu=function(M){M.on("keydown",function(J){J.keyCode!==$f.TAB||$f.metaKeyPressed(J)||M.undoManager.transact(function(){(J.shiftKey?Mo(M):ec(M))&&J.preventDefault()})})},a2=function(M){Et(M)&&eu(M),Ao(M)},o2=function(M){var J=function(ae){return function(){return M.execCommand(ae)}};M.hasPlugin("advlist")||(M.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:J("InsertOrderedList"),onSetup:function(ae){return fo(M,"OL",ae.setActive)}}),M.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:J("InsertUnorderedList"),onSetup:function(ae){return fo(M,"UL",ae.setActive)}}))},ja=function(M){var J={text:"List properties...",icon:"ordered-list",onAction:function(){return M.execCommand("mceListProps")},onSetup:function(ae){return fo(M,"OL",function(Ce){return ae.setDisabled(!Ce)})}};M.ui.registry.addMenuItem("listprops",J),M.ui.registry.addContextMenu("lists",{update:function(ae){var Ce=ta(M,ae);return If(Ce)?["listprops"]:[]}})};function gh(){f.add("lists",function(M){return M.hasPlugin("rtc",!0)===!1?(a2(M),hr(M)):Fd(M),o2(M),ja(M),Lc(M)})}gh()})();(function(){var f=function(u){var c=typeof u;return u===null?"null":c==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":c==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":c},m=function(u){return function(c){return f(c)===u}},y=function(u){return function(c){return typeof c===u}},b=function(u){return function(c){return u===c}},S=m("string"),_=m("object"),O=m("array"),T=b(null),F=y("boolean"),j=b(void 0),P=function(u){return u==null},H=function(u){return!P(u)},I=y("function"),L=y("number"),Y=function(){},q=function(u,c){return function(){for(var h=[],w=0;w<arguments.length;w++)h[w]=arguments[w];return u(c.apply(null,h))}},$e=function(u,c){return function(h){return u(c(h))}},de=function(u){return function(){return u}},Be=function(u){return u},ne=function(u,c){return u===c};function Se(u){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];return function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];var R=c.concat(w);return u.apply(null,R)}}var Te=function(u){return function(c){return!u(c)}},xe=function(u){return function(){throw new Error(u)}},Ge=de(!1),se=de(!0),pe=function(){return ye},ye=function(){var u=function(w){return w()},c=Be,h={fold:function(w,k){return w()},isSome:Ge,isNone:se,getOr:c,getOrThunk:u,getOrDie:function(w){throw new Error(w||"error: getOrDie called on none.")},getOrNull:de(null),getOrUndefined:de(void 0),or:c,orThunk:u,map:pe,each:Y,bind:pe,exists:Ge,forall:se,filter:function(){return pe()},toArray:function(){return[]},toString:de("none()")};return h}(),Me=function(u){var c=de(u),h=function(){return k},w=function(R){return R(u)},k={fold:function(R,z){return z(u)},isSome:se,isNone:Ge,getOr:c,getOrThunk:c,getOrDie:c,getOrNull:c,getOrUndefined:c,or:h,orThunk:h,map:function(R){return Me(R(u))},each:function(R){R(u)},bind:w,exists:w,forall:w,filter:function(R){return R(u)?k:ye},toArray:function(){return[u]},toString:function(){return"some("+u+")"}};return k},re=function(u){return u==null?ye:Me(u)},W={some:Me,none:pe,from:re},ke=Array.prototype.slice,et=Array.prototype.indexOf,le=Array.prototype.push,ge=function(u,c){return et.call(u,c)},ut=function(u,c){return ge(u,c)>-1},B=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];if(c(k,h))return!0}return!1},kt=function(u,c){for(var h=[],w=0;w<u;w++)h.push(c(w));return h},at=function(u,c){for(var h=u.length,w=new Array(h),k=0;k<h;k++){var R=u[k];w[k]=c(R,k)}return w},ot=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];c(k,h)}},kn=function(u,c){for(var h=u.length-1;h>=0;h--){var w=u[h];c(w,h)}},cn=function(u,c){for(var h=[],w=[],k=0,R=u.length;k<R;k++){var z=u[k],K=c(z,k)?h:w;K.push(z)}return{pass:h,fail:w}},lt=function(u,c){for(var h=[],w=0,k=u.length;w<k;w++){var R=u[w];c(R,w)&&h.push(R)}return h},Sn=function(u,c,h){return kn(u,function(w,k){h=c(h,w,k)}),h},te=function(u,c,h){return ot(u,function(w,k){h=c(h,w,k)}),h},fn=function(u,c,h){for(var w=0,k=u.length;w<k;w++){var R=u[w];if(c(R,w))return W.some(R);if(h(R,w))break}return W.none()},Ue=function(u,c){return fn(u,c,Ge)},gt=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];if(c(k,h))return W.some(h)}return W.none()},Xn=function(u){for(var c=[],h=0,w=u.length;h<w;++h){if(!O(u[h]))throw new Error("Arr.flatten item "+h+" was not an array, input: "+u);le.apply(c,u[h])}return c},Oe=function(u,c){return Xn(at(u,c))},Ee=function(u,c){for(var h=0,w=u.length;h<w;++h){var k=u[h];if(c(k,h)!==!0)return!1}return!0},Ze=function(u){var c=ke.call(u,0);return c.reverse(),c},tt=function(u,c){for(var h={},w=0,k=u.length;w<k;w++){var R=u[w];h[String(R)]=c(R,w)}return h},He=function(u){return[u]},pt=function(u,c){var h=ke.call(u,0);return h.sort(c),h},Jt=function(u,c){return c>=0&&c<u.length?W.some(u[c]):W.none()},it=function(u){return Jt(u,0)},Wt=function(u){return Jt(u,u.length-1)},Rt=function(u,c){for(var h=0;h<u.length;h++){var w=c(u[h],h);if(w.isSome())return w}return W.none()},zt=function(){return zt=Object.assign||function(c){for(var h,w=1,k=arguments.length;w<k;w++){h=arguments[w];for(var R in h)Object.prototype.hasOwnProperty.call(h,R)&&(c[R]=h[R])}return c},zt.apply(this,arguments)};function rn(u,c,h){if(h||arguments.length===2)for(var w=0,k=c.length,R;w<k;w++)(R||!(w in c))&&(R||(R=Array.prototype.slice.call(c,0,w)),R[w]=c[w]);return u.concat(R||Array.prototype.slice.call(c))}var pn=function(u){var c=!1,h;return function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];return c||(c=!0,h=u.apply(null,w)),h}},Kn=function(u,c,h,w){var k=u.isiOS()&&/ipad/i.test(h)===!0,R=u.isiOS()&&!k,z=u.isiOS()||u.isAndroid(),K=z||w("(pointer:coarse)"),ue=k||!R&&z&&w("(min-device-width:768px)"),be=R||z&&!ue,Pe=c.isSafari()&&u.isiOS()&&/safari/i.test(h)===!1,mt=!be&&!ue&&!Pe;return{isiPad:de(k),isiPhone:de(R),isTablet:de(ue),isPhone:de(be),isTouch:de(K),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:de(Pe),isDesktop:de(mt)}},cr=function(u,c){for(var h=0;h<u.length;h++){var w=u[h];if(w.test(c))return w}},qr=function(u,c){var h=cr(u,c);if(!h)return{major:0,minor:0};var w=function(k){return Number(c.replace(h,"$"+k))};return va(w(1),w(2))},or=function(u,c){var h=String(c).toLowerCase();return u.length===0?ua():qr(u,h)},ua=function(){return va(0,0)},va=function(u,c){return{major:u,minor:c}},Qr={nu:va,detect:or,unknown:ua},Hr=function(u,c){return Rt(c.brands,function(h){var w=h.brand.toLowerCase();return Ue(u,function(k){var R;return w===((R=k.brand)===null||R===void 0?void 0:R.toLowerCase())}).map(function(k){return{current:k.name,version:Qr.nu(parseInt(h.version,10),0)}})})},da=function(u,c){var h=String(c).toLowerCase();return Ue(u,function(w){return w.search(h)})},Ur=function(u,c){return da(u,c).map(function(h){var w=Qr.detect(h.versionRegexes,c);return{current:h.name,version:w}})},fr=function(u,c){return da(u,c).map(function(h){var w=Qr.detect(h.versionRegexes,c);return{current:h.name,version:w}})},Na=function(u,c){return u.substring(c)},Zi=function(u,c,h){return c===""||u.length>=c.length&&u.substr(h,h+c.length)===c},Kl=function(u,c){return Si(u,c)?Na(u,c.length):u},Vr=function(u,c){return u.indexOf(c)!==-1},Si=function(u,c){return Zi(u,c,0)},Ju=function(u,c){return Zi(u,c,u.length-c.length)},_i=function(u){return function(c){return c.replace(u,"")}},En=_i(/^\s+|\s+$/g),Pr=function(u){return u.length>0},lo=function(u){return!Pr(u)},lu=function(u){var c=parseFloat(u);return isNaN(c)?W.none():W.some(c)},Zu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ir=function(u){return function(c){return Vr(c,u)}},Tr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return Vr(u,"edge/")&&Vr(u,"chrome")&&Vr(u,"safari")&&Vr(u,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Zu],search:function(u){return Vr(u,"chrome")&&!Vr(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return Vr(u,"msie")||Vr(u,"trident")}},{name:"Opera",versionRegexes:[Zu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ir("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ir("firefox")},{name:"Safari",versionRegexes:[Zu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(Vr(u,"safari")||Vr(u,"mobile/"))&&Vr(u,"applewebkit")}}],Gs=[{name:"Windows",search:Ir("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return Vr(u,"iphone")||Vr(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ir("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ir("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ir("linux"),versionRegexes:[]},{name:"Solaris",search:Ir("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ir("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ir("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],th={browsers:de(Tr),oses:de(Gs)},Df="Edge",qs="Chrome",$c="IE",Tv="Opera",gl="Firefox",pl="Safari",Rf=function(){return ma({current:void 0,version:Qr.unknown()})},ma=function(u){var c=u.current,h=u.version,w=function(k){return function(){return c===k}};return{current:c,version:h,isEdge:w(Df),isChrome:w(qs),isIE:w($c),isOpera:w(Tv),isFirefox:w(gl),isSafari:w(pl)}},Ks={unknown:Rf,nu:ma,edge:de(Df),chrome:de(qs),ie:de($c),opera:de(Tv),firefox:de(gl),safari:de(pl)},Wn="Windows",nh="iOS",Ou="Android",Bc="Linux",rh="OSX",Xl="Solaris",ah="FreeBSD",$f="ChromeOS",oh=function(){return Ss({current:void 0,version:Qr.unknown()})},Ss=function(u){var c=u.current,h=u.version,w=function(k){return function(){return c===k}};return{current:c,version:h,isWindows:w(Wn),isiOS:w(nh),isAndroid:w(Ou),isOSX:w(rh),isLinux:w(Bc),isSolaris:w(Xl),isFreeBSD:w(ah),isChromeOS:w($f)}},Mc={unknown:oh,nu:Ss,windows:de(Wn),ios:de(nh),android:de(Ou),linux:de(Bc),osx:de(rh),solaris:de(Xl),freebsd:de(ah),chromeos:de($f)},sn=function(u,c,h){var w=th.browsers(),k=th.oses(),R=c.bind(function(ue){return Hr(w,ue)}).orThunk(function(){return Ur(w,u)}).fold(Ks.unknown,Ks.nu),z=fr(k,u).fold(Mc.unknown,Mc.nu),K=Kn(z,R,u,h);return{browser:R,os:z,deviceType:K}},Bd={detect:sn},Ov=function(u){return window.matchMedia(u).matches},Dv=pn(function(){return Bd.detect(navigator.userAgent,W.from(navigator.userAgentData),Ov)}),Yl=function(){return Dv()},Qu=function(u,c,h){return(u.compareDocumentPosition(c)&h)!==0},ih=function(u,c){return Qu(u,c,Node.DOCUMENT_POSITION_CONTAINED_BY)},Bo=8,po=9,Du=11,Xs=1,Md=3,es=function(u,c){var h=c||document,w=h.createElement("div");if(w.innerHTML=u,!w.hasChildNodes()||w.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return bl(w.childNodes[0])},Bf=function(u,c){var h=c||document,w=h.createElement(u);return bl(w)},Pd=function(u,c){var h=c||document,w=h.createTextNode(u);return bl(w)},bl=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},Ru=function(u,c,h){return W.from(u.dom.elementFromPoint(c,h)).map(bl)},en={fromHtml:es,fromTag:Bf,fromText:Pd,fromDom:bl,fromPoint:Ru},xi=function(u,c){var h=u.dom;if(h.nodeType!==Xs)return!1;var w=h;if(w.matches!==void 0)return w.matches(c);if(w.msMatchesSelector!==void 0)return w.msMatchesSelector(c);if(w.webkitMatchesSelector!==void 0)return w.webkitMatchesSelector(c);if(w.mozMatchesSelector!==void 0)return w.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")},yl=function(u){return u.nodeType!==Xs&&u.nodeType!==po&&u.nodeType!==Du||u.childElementCount===0},uh=function(u,c){var h=c===void 0?document:c.dom;return yl(h)?[]:at(h.querySelectorAll(u),en.fromDom)},Mf=function(u,c){var h=c===void 0?document:c.dom;return yl(h)?W.none():W.from(h.querySelector(u)).map(en.fromDom)},ea=function(u,c){return u.dom===c.dom},Rv=function(u,c){var h=u.dom,w=c.dom;return h===w?!1:h.contains(w)},wl=function(u,c){return ih(u.dom,c.dom)},co=function(u,c){return Yl().browser.isIE()?wl(u,c):Rv(u,c)},$v=xi,cu=Object.keys,ts=Object.hasOwnProperty,Ra=function(u,c){for(var h=cu(u),w=0,k=h.length;w<k;w++){var R=h[w],z=u[R];c(z,R)}},Pf=function(u,c){return If(u,function(h,w){return{k:w,v:c(h,w)}})},If=function(u,c){var h={};return Ra(u,function(w,k){var R=c(w,k);h[R.k]=R.v}),h},Bv=function(u){return function(c,h){u[h]=c}},Id=function(u,c,h,w){var k={};return Ra(u,function(R,z){(c(R,z)?h:w)(R,z)}),k},Cl=function(u,c){var h={};return Id(u,c,Bv(h),Y),h},Ys=function(u,c){var h=[];return Ra(u,function(w,k){h.push(c(w,k))}),h},Mv=function(u){return Ys(u,Be)},_s=function(u){return cu(u).length},$u=function(u,c){return ie(u,c)?W.from(u[c]):W.none()},ie=function(u,c){return ts.call(u,c)},Ne=function(u,c){return ie(u,c)&&u[c]!==void 0&&u[c]!==null},Ye=function(u){for(var c in u)if(ts.call(u,c))return!1;return!0},Et=["tfoot","thead","tbody","colgroup"],qt=function(u){return ut(Et,u)},Rn=function(u,c){return{rows:u,columns:c}},aa=function(u,c){return{row:u,column:c}},ha=function(u,c,h){return{element:u,rowspan:c,colspan:h}},br=function(u,c,h,w){return{element:u,rowspan:c,colspan:h,isNew:w}},za=function(u,c,h,w,k,R){return{element:u,rowspan:c,colspan:h,row:w,column:k,isLocked:R}},Ka=function(u,c,h){return{element:u,cells:c,section:h}},Pc=function(u,c,h,w){return{element:u,cells:c,section:h,isNew:w}},Li=function(u,c,h){return{element:u,isNew:c,isLocked:h}},Jl=function(u,c,h,w){return{element:u,cells:c,section:h,isNew:w}},Hn=function(u,c,h,w){return{startRow:u,startCol:c,finishRow:h,finishCol:w}},sh=function(u,c,h){return{element:u,colspan:c,column:h}},fp=function(u,c){return{element:u,columns:c}};typeof window<"u"||Function("return this;")();var ta=function(u){var c=u.dom.nodeName;return c.toLowerCase()},vp=function(u){return u.dom.nodeType},lh=function(u){return function(c){return vp(c)===u}},n2=function(u){return vp(u)===Bo||ta(u)==="#comment"},_a=lh(Xs),Js=lh(Md),r2=lh(po),Sl=lh(Du),Jo=function(u){return function(c){return _a(c)&&ta(c)===u}},Nf=function(u){return en.fromDom(u.dom.ownerDocument)},wt=function(u){return r2(u)?u:Nf(u)},ch=function(u){return en.fromDom(wt(u).dom.defaultView)},_o=function(u){return W.from(u.dom.parentNode).map(en.fromDom)},sb=function(u){return W.from(u.dom.parentElement).map(en.fromDom)},zf=function(u,c){for(var h=I(c)?c:Ge,w=u.dom,k=[];w.parentNode!==null&&w.parentNode!==void 0;){var R=w.parentNode,z=en.fromDom(R);if(k.push(z),h(z)===!0)break;w=R}return k},Pv=function(u){return W.from(u.dom.previousSibling).map(en.fromDom)},je=function(u){return W.from(u.dom.nextSibling).map(en.fromDom)},ii=function(u){return at(u.dom.childNodes,en.fromDom)},fh=function(u,c){var h=u.dom.childNodes;return W.from(h[c]).map(en.fromDom)},dp=function(u){return fh(u,0)},lb=function(u){return Sl(u)&&H(u.dom.host)},Nd=I(Element.prototype.attachShadow)&&I(Node.prototype.getRootNode),mp=de(Nd),hp=Nd?function(u){return en.fromDom(u.dom.getRootNode())}:wt,xs=function(u){var c=hp(u);return lb(c)?W.some(c):W.none()},Zl=function(u){return en.fromDom(u.dom.host)},cb=function(u){if(mp()&&H(u.target)){var c=en.fromDom(u.target);if(_a(c)&&fb(c)&&u.composed&&u.composedPath){var h=u.composedPath();if(h)return it(h)}}return W.from(u.target)},fb=function(u){return H(u.dom.shadowRoot)},Ql=function(u){var c=Js(u)?u.dom.parentNode:u.dom;if(c==null||c.ownerDocument===null)return!1;var h=c.ownerDocument;return xs(en.fromDom(c)).fold(function(){return h.body.contains(c)},$e(Ql,Zl))},$a=function(){return vb(en.fromDom(document))},vb=function(u){var c=u.dom.body;if(c==null)throw new Error("Body is not available yet");return en.fromDom(c)},fu=function(u,c,h){return lt(zf(u,h),c)},Hi=function(u,c){return lt(ii(u),c)},xo=function(u,c){var h=[];return ot(ii(u),function(w){c(w)&&(h=h.concat([w])),h=h.concat(xo(w,c))}),h},Ic=function(u,c,h){return fu(u,function(w){return xi(w,c)},h)},lr=function(u,c){return Hi(u,function(h){return xi(h,c)})},ns=function(u,c){return uh(c,u)};function Fa(u,c,h,w,k){return u(h,w)?W.some(h):I(k)&&k(h)?W.none():c(h,w,k)}var Xa=function(u,c,h){for(var w=u.dom,k=I(h)?h:Ge;w.parentNode;){w=w.parentNode;var R=en.fromDom(w);if(c(R))return W.some(R);if(k(R))break}return W.none()},db=function(u,c,h){var w=function(k,R){return R(k)};return Fa(w,Xa,u,c,h)},ui=function(u,c){var h=function(k){return c(en.fromDom(k))},w=Ue(u.dom.childNodes,h);return w.map(en.fromDom)},gp=function(u,c){var h=function(w){for(var k=0;k<w.childNodes.length;k++){var R=en.fromDom(w.childNodes[k]);if(c(R))return W.some(R);var z=h(w.childNodes[k]);if(z.isSome())return z}return W.none()};return h(u.dom)},_l=function(u,c,h){return Xa(u,function(w){return xi(w,c)},h)},jn=function(u,c){return ui(u,function(h){return xi(h,c)})},rs=function(u,c){return Mf(c,u)},no=function(u,c,h){var w=function(k,R){return xi(k,R)};return Fa(w,_l,u,c,h)},ro=function(u,c,h){if(S(h)||F(h)||L(h))u.setAttribute(c,h+"");else throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",h,":: Element ",u),new Error("Attribute value was not simple")},Lo=function(u,c,h){ro(u.dom,c,h)},ko=function(u,c){var h=u.dom;Ra(c,function(w,k){ro(h,k,w)})},Ff=function(u,c){Ra(c,function(h,w){h.fold(function(){Ba(u,w)},function(k){ro(u.dom,w,k)})})},ks=function(u,c){var h=u.dom.getAttribute(c);return h===null?void 0:h},Kr=function(u,c){return W.from(ks(u,c))},Ba=function(u,c){u.dom.removeAttribute(c)},Qi=function(u){return te(u.dom.attributes,function(c,h){return c[h.name]=h.value,c},{})},ec=function(u,c,h){return h===void 0&&(h=ne),u.exists(function(w){return h(w,c)})},Mo=function(u){for(var c=[],h=function(k){c.push(k)},w=0;w<u.length;w++)u[w].each(h);return c},as=function(u,c,h){return u.isSome()&&c.isSome()?W.some(h(u.getOrDie(),c.getOrDie())):W.none()},mb=function(u,c){return u!=null?c(u):W.none()},Lf=function(u){return u.bind(Be)},ya=function(u,c){return u?W.some(c):W.none()},Zs=function(u){return u.style!==void 0&&I(u.style.getPropertyValue)},Nc=function(u,c,h){if(!S(h))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",h,":: Element ",u),new Error("CSS value must be a string: "+h);Zs(u)&&u.style.setProperty(c,h)},vu=function(u,c){Zs(u)&&u.style.removeProperty(c)},fo=function(u,c,h){var w=u.dom;Nc(w,c,h)},zc=function(u,c){var h=u.dom;Ra(c,function(w,k){Nc(h,k,w)})},tc=function(u,c){var h=u.dom,w=window.getComputedStyle(h),k=w.getPropertyValue(c);return k===""&&!Ql(u)?Vi(h,c):k},Vi=function(u,c){return Zs(u)?u.style.getPropertyValue(c):""},du=function(u,c){var h=u.dom,w=Vi(h,c);return W.from(w).filter(function(k){return k.length>0})},ki=function(u,c){var h=u.dom;vu(h,c),ec(Kr(u,"style").map(En),"")&&Ba(u,"style")},Iv=function(u,c){var h=u.dom,w=c.dom;Zs(h)&&Zs(w)&&(w.style.cssText=h.style.cssText)},Qs=function(u,c,h){return h===void 0&&(h=0),Kr(u,c).map(function(w){return parseInt(w,10)}).getOr(h)},Ho=function(u,c){return Qs(u,c,1)},zd=function(u){return Jo("col")(u)?Qs(u,"span",1)>1:Ho(u,"colspan")>1},hb=function(u){return Ho(u,"rowspan")>1},Hf=function(u,c){return parseInt(tc(u,c),10)},Vf=de(10),vo=de(10),Uf=function(u,c){return Wf(u,c,se)},Wf=function(u,c,h){return Oe(ii(u),function(w){return xi(w,c)?h(w)?[w]:[]:Wf(w,c,h)})},Ui=function(u,c,h){if(h===void 0&&(h=Ge),h(c))return W.none();if(ut(u,ta(c)))return W.some(c);var w=function(k){return xi(k,"table")||h(k)};return _l(c,u.join(","),w)},nc=function(u,c){return Ui(["td","th"],u,c)},jf=function(u){return Uf(u,"th,td")},rc=function(u){return xi(u,"colgroup")?lr(u,"col"):Oe(vh(u),function(c){return lr(c,"col")})},Wa=function(u,c){return no(u,"table",c)},Bu=function(u){return Uf(u,"tr")},vh=function(u){return Wa(u).fold(de([]),function(c){return lr(c,"colgroup")})},os=function(u,c){return at(u,function(h){if(ta(h)==="colgroup"){var w=at(rc(h),function(k){var R=Qs(k,"span",1);return ha(k,1,R)});return Ka(h,w,"colgroup")}else{var w=at(jf(h),function(R){var z=Qs(R,"rowspan",1),K=Qs(R,"colspan",1);return ha(R,z,K)});return Ka(h,w,c(h))}})},dh=function(u){return _o(u).map(function(c){var h=ta(c);return qt(h)?h:"tbody"}).getOr("tbody")},gb=function(u){var c=Bu(u),h=vh(u),w=rn(rn([],h,!0),c,!0);return os(w,dh)},pp=function(u,c){return os(u,function(){return c})},Gf=function(u,c,h){var w=u.cells,k=w.slice(0,c),R=w.slice(c),z=k.concat(h).concat(R);return Yn(u,z)},qf=function(u,c,h){return Gf(u,c,[h])},Fc=function(u,c,h){var w=u.cells;w[c]=h},Yn=function(u,c){return Jl(u.element,c,u.section,u.isNew)},As=function(u,c){var h=u.cells,w=at(h,c);return Jl(u.element,w,u.section,u.isNew)},mu=function(u,c){return u.cells[c]},Wi=function(u,c){return mu(u,c).element},Es=function(u){return u.cells.length},bo=function(u){var c=cn(u,function(h){return h.section==="colgroup"});return{rows:c.fail,cols:c.pass}},Vo=function(u,c,h){var w=at(u.cells,h);return Jl(c(u.element),w,u.section,!0)},Ao="data-snooker-locked-cols",Lc=function(u){return Kr(u,Ao).bind(function(c){return W.from(c.match(/\d+/g))}).map(function(c){return tt(c,se)})},Ai=function(u){var c=te(bo(u).rows,function(w,k){return ot(k.cells,function(R,z){R.isLocked&&(w[z]=!0)}),w},{}),h=Ys(c,function(w,k){return parseInt(k,10)});return pt(h)},gn=function(u,c){return u+","+c},Kf=function(u,c,h){return W.from(u.access[gn(c,h)])},bp=function(u,c,h){var w=vr(u,function(k){return h(c,k.element)});return w.length>0?W.some(w[0]):W.none()},vr=function(u,c){var h=Oe(u.all,function(w){return w.cells});return lt(h,c)},wa=function(u){var c={},h=0;return ot(u.cells,function(w){var k=w.colspan;kt(k,function(R){var z=h+R;c[z]=sh(w.element,k,z)}),h+=k}),c},mh=function(u){var c={},h=[],w=it(u).map(function(Yt){return Yt.element}).bind(Wa),k=w.bind(Lc).getOr({}),R=0,z=0,K=0,ue=cn(u,function(Yt){return Yt.section==="colgroup"}),be=ue.pass,Pe=ue.fail;ot(Pe,function(Yt){var tn=[];ot(Yt.cells,function(On){for(var jr=0;c[gn(K,jr)]!==void 0;)jr++;for(var Tn=Ne(k,jr.toString()),er=za(On.element,On.rowspan,On.colspan,K,jr,Tn),_r=0;_r<On.colspan;_r++)for(var wr=0;wr<On.rowspan;wr++){var Co=K+wr,vi=jr+_r,di=gn(Co,vi);c[di]=er,z=Math.max(z,vi+1)}tn.push(er)}),R++,h.push(Ka(Yt.element,tn,Yt.section)),K++});var mt=Wt(be).map(function(Yt){var tn=wa(Yt),On=fp(Yt.element,Mv(tn));return{colgroups:[On],columns:tn}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),Lt=mt.columns,Tt=mt.colgroups,ht=Rn(R,z);return{grid:ht,access:c,all:h,columns:Lt,colgroups:Tt}},xl=function(u){var c=gb(u);return mh(c)},La=function(u){return Oe(u.all,function(c){return c.cells})},hh=function(u){return Mv(u.columns)},Mu=function(u){return cu(u.columns).length>0},Fd=function(u,c){return W.from(u.columns[c])},hr={fromTable:xl,generate:mh,getAt:Kf,findItem:bp,filterItems:vr,justCells:La,justColumns:hh,hasColumns:Mu,getColumnAt:Fd},eu=function(u,c){var h=c.column,w=c.column+c.colspan-1,k=c.row,R=c.row+c.rowspan-1;return h<=u.finishCol&&w>=u.startCol&&k<=u.finishRow&&R>=u.startRow},a2=function(u,c){return c.column>=u.startCol&&c.column+c.colspan-1<=u.finishCol&&c.row>=u.startRow&&c.row+c.rowspan-1<=u.finishRow},o2=function(u,c){for(var h=!0,w=Se(a2,c),k=c.startRow;k<=c.finishRow;k++)for(var R=c.startCol;R<=c.finishCol;R++)h=h&&hr.getAt(u,k,R).exists(w);return h?W.some(c):W.none()},ja=function(u,c){return Hn(Math.min(u.row,c.row),Math.min(u.column,c.column),Math.max(u.row+u.rowspan-1,c.row+c.rowspan-1),Math.max(u.column+u.colspan-1,c.column+c.colspan-1))},gh=function(u,c,h){var w=hr.findItem(u,c,ea),k=hr.findItem(u,h,ea);return w.bind(function(R){return k.map(function(z){return ja(R,z)})})},M=function(u,c,h){return gh(u,c,h).bind(function(w){return o2(u,w)})},J=function(u,c,h,w){return hr.findItem(u,c,ea).bind(function(k){var R=h>0?k.row+k.rowspan-1:k.row,z=w>0?k.column+k.colspan-1:k.column,K=hr.getAt(u,R+h,z+w);return K.map(function(ue){return ue.element})})},ae=function(u,c,h){return gh(u,c,h).map(function(w){var k=hr.filterItems(u,Se(eu,w));return at(k,function(R){return R.element})})},Ce=function(u,c){var h=function(w,k){return co(k,w)};return hr.findItem(u,c,h).map(function(w){return w.element})},qe=function(u,c,h){return Wa(u).bind(function(w){var k=Or(w);return J(k,u,c,h)})},bt=function(u,c,h){var w=Or(u);return ae(w,c,h)},xn=function(u,c,h,w,k){var R=Or(u),z=ea(u,h)?W.some(c):Ce(R,c),K=ea(u,k)?W.some(w):Ce(R,w);return z.bind(function(ue){return K.bind(function(be){return ae(R,ue,be)})})},tr=function(u,c,h){var w=Or(u);return M(w,c,h)},Or=hr.fromTable,gr=function(u,c){var h=_o(u);h.each(function(w){w.dom.insertBefore(c.dom,u.dom)})},xa=function(u,c){var h=je(u);h.fold(function(){var w=_o(u);w.each(function(k){ao(k,c)})},function(w){gr(w,c)})},Ei=function(u,c){var h=dp(u);h.fold(function(){ao(u,c)},function(w){u.dom.insertBefore(c.dom,w.dom)})},ao=function(u,c){u.dom.appendChild(c.dom)},SA=function(u,c,h){fh(u,h).fold(function(){ao(u,c)},function(w){gr(w,c)})},US=function(u,c){gr(u,c),ao(c,u)},WS=function(u,c){ot(c,function(h){gr(u,h)})},_A=function(u,c){ot(c,function(h,w){var k=w===0?u:c[w-1];xa(k,h)})},ac=function(u,c){ot(c,function(h){ao(u,h)})},yp=function(u){u.dom.textContent="",ot(ii(u),function(c){Pu(c)})},Pu=function(u){var c=u.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},ph=function(u){var c=ii(u);c.length>0&&WS(u,c),Pu(u)},i2=function(u,c){var h=function(R){if(!u(R))throw new Error("Can only get "+c+" value of a "+c+" node");return w(R).getOr("")},w=function(R){return u(R)?W.from(R.dom.nodeValue):W.none()},k=function(R,z){if(!u(R))throw new Error("Can only set raw "+c+" value of a "+c+" node");R.dom.nodeValue=z};return{get:h,getOption:w,set:k}},wp=i2(Js,"text"),pb=function(u){return wp.get(u)},jS=function(u){return wp.getOption(u)},xA=function(u,c){return wp.set(u,c)},oc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Cp(){var u=function(be){return en.fromDom(be.dom.cloneNode(!1))},c=function(be){return wt(be).dom},h=function(be){return _a(be)?ta(be)==="body"?!0:ut(oc,ta(be)):!1},w=function(be){return _a(be)?ut(["br","img","hr","input"],ta(be)):!1},k=function(be){return _a(be)&&ks(be,"contenteditable")==="false"},R=function(be,Pe){return be.dom.compareDocumentPosition(Pe.dom)},z=function(be,Pe){var mt=Qi(be);ko(Pe,mt)},K=function(be){var Pe=ta(be);return ut(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Pe)},ue=function(be){return _a(be)?Kr(be,"lang"):W.none()};return{up:de({selector:_l,closest:no,predicate:Xa,all:zf}),down:de({selector:ns,predicate:xo}),styles:de({get:tc,getRaw:du,set:fo,remove:ki}),attrs:de({get:ks,set:Lo,remove:Ba,copyTo:z}),insert:de({before:gr,after:xa,afterAll:_A,append:ao,appendAll:ac,prepend:Ei,wrap:US}),remove:de({unwrap:ph,remove:Pu}),create:de({nu:en.fromTag,clone:u,text:en.fromText}),query:de({comparePosition:R,prevSibling:Pv,nextSibling:je}),property:de({children:ii,name:ta,parent:_o,document:c,isText:Js,isComment:n2,isElement:_a,isSpecial:K,getLanguage:ue,getText:pb,setText:xA,isBoundary:h,isEmptyTag:w,isNonEditable:k}),eq:ea,is:$v}}var kA=function(u,c,h,w){var k=h[0],R=h.slice(1);return w(u,c,k,R)},u2=function(u,c,h){return h.length>0?kA(u,c,h,AA):W.none()},AA=function(u,c,h,w){var k=c(u,h);return Sn(w,function(R,z){var K=c(u,z);return EA(u,R,K)},k)},EA=function(u,c,h){return c.bind(function(w){return h.filter(Se(u.eq,w))})},bh=function(u,c){return Se(u.eq,c)},Sp=function(u,c,h,w){w===void 0&&(w=Ge);var k=[c].concat(u.up().all(c)),R=[h].concat(u.up().all(h)),z=function(Pe){var mt=gt(Pe,w);return mt.fold(function(){return Pe},function(Lt){return Pe.slice(0,Lt+1)})},K=z(k),ue=z(R),be=Ue(K,function(Pe){return B(ue,bh(u,Pe))});return{firstpath:K,secondpath:ue,shared:be}},GS=u2,qS=Sp,is=Cp(),$n=function(u,c){return GS(is,function(h,w){return u(w)},c)},Xf=function(u,c,h){return qS(is,u,c,h)},_p=function(u){return _l(u,"table")},Nv=function(u,c,h){var w=function(k){return function(R){return h!==void 0&&h(R)||ea(R,k)}};return ea(u,c)?W.some({boxes:W.some([u]),start:u,finish:c}):_p(u).bind(function(k){return _p(c).bind(function(R){if(ea(k,R))return W.some({boxes:bt(k,u,c),start:u,finish:c});if(co(k,R)){var z=Ic(c,"td,th",w(k)),K=z.length>0?z[z.length-1]:c;return W.some({boxes:xn(k,u,k,c,R),start:u,finish:K})}else if(co(R,k)){var z=Ic(u,"td,th",w(R)),ue=z.length>0?z[z.length-1]:u;return W.some({boxes:xn(R,u,k,c,R),start:u,finish:ue})}else return Xf(u,c).shared.bind(function(be){return no(be,"table",h).bind(function(Pe){var mt=Ic(c,"td,th",w(Pe)),Lt=mt.length>0?mt[mt.length-1]:c,Tt=Ic(u,"td,th",w(Pe)),ht=Tt.length>0?Tt[Tt.length-1]:u;return W.some({boxes:xn(Pe,u,k,c,R),start:ht,finish:Lt})})})})})},yh=function(u,c){var h=ns(u,c);return h.length>0?W.some(h):W.none()},s2=function(u,c){return Ue(u,function(h){return xi(h,c)})},kl=function(u,c,h){return rs(u,c).bind(function(w){return rs(u,h).bind(function(k){return $n(_p,[w,k]).map(function(R){return{first:w,last:k,table:R}})})})},Ld=function(u,c){return _l(u,"table").bind(function(h){return rs(h,c).bind(function(w){return Nv(w,u).bind(function(k){return k.boxes.map(function(R){return{boxes:R,start:k.start,finish:k.finish}})})})})},wh=function(u,c,h,w,k){return s2(u,k).bind(function(R){return qe(R,c,h).bind(function(z){return Ld(z,w)})})},yo=function(u,c){return yh(u,c)},si=function(u,c,h){return kl(u,c,h).bind(function(w){var k=function(ue){return ea(u,ue)},R="thead,tfoot,tbody,table",z=_l(w.first,R,k),K=_l(w.last,R,k);return z.bind(function(ue){return K.bind(function(be){return ea(ue,be)?tr(w.table,w.first,w.last):W.none()})})})},xp=function(u){if(!O(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var c=[],h={};return ot(u,function(w,k){var R=cu(w);if(R.length!==1)throw new Error("one and only one name per case");var z=R[0],K=w[z];if(h[z]!==void 0)throw new Error("duplicate key detected:"+z);if(z==="cata")throw new Error("cannot have a case named cata (sorry)");if(!O(K))throw new Error("case arguments must be an array");c.push(z),h[z]=function(){for(var ue=[],be=0;be<arguments.length;be++)ue[be]=arguments[be];var Pe=ue.length;if(Pe!==K.length)throw new Error("Wrong number of arguments to case "+z+". Expected "+K.length+" ("+K+"), got "+Pe);var mt=function(Lt){var Tt=cu(Lt);if(c.length!==Tt.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+Tt.join(","));var ht=Ee(c,function(Yt){return ut(Tt,Yt)});if(!ht)throw new Error("Not all branches were specified when using match. Specified: "+Tt.join(", ")+`
Required: `+c.join(", "));return Lt[z].apply(null,ue)};return{fold:function(){for(var Lt=[],Tt=0;Tt<arguments.length;Tt++)Lt[Tt]=arguments[Tt];if(Lt.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+Lt.length);var ht=Lt[k];return ht.apply(null,ue)},match:mt,log:function(Lt){console.log(Lt,{constructors:c,constructor:z,params:ue})}}}}),h},Hc={generate:xp},kp=Hc.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),bb=function(u,c,h,w){return u.fold(c,h,w)},yb=kp.none,TA=kp.multiple,Ch=kp.single,ji=function(u,c,h){var w=function(){return yo(u(),h).fold(function(){return c().fold(yb,Ch)},function(k){return TA(k)})};return{get:w}},KS=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ya=function(u,c){return en.fromDom(u.dom.cloneNode(c))},Al=function(u){return Ya(u,!1)},sa=function(u){return Ya(u,!0)},zv=function(u,c){var h=en.fromTag(c),w=Qi(u);return ko(h,w),h},el=function(u,c){var h=zv(u,c),w=ii(sa(u));return ac(h,w),h},OA=function(u,c){var h=zv(u,c);gr(u,h);var w=ii(u);return ac(h,w),Pu(u),h},Uo=function(u,c){var h=function(K,ue){if(!L(ue)&&!ue.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+ue);var be=K.dom;Zs(be)&&(be.style[u]=ue+"px")},w=function(K){var ue=c(K);if(ue<=0||ue===null){var be=tc(K,u);return parseFloat(be)||0}return ue},k=w,R=function(K,ue){return te(ue,function(be,Pe){var mt=tc(K,Pe),Lt=mt===void 0?0:parseInt(mt,10);return isNaN(Lt)?be:be+Lt},0)},z=function(K,ue,be){var Pe=R(K,be),mt=ue>Pe?ue-Pe:0;return mt};return{set:h,get:w,getOuter:k,aggregate:R,max:z}},hu=function(){var u=Yl().browser;return u.isIE()||u.isEdge()},XS=function(u,c){return lu(u).getOr(c)},At=function(u,c,h){return XS(tc(u,c),h)},Iu=function(u){return tc(u,"box-sizing")},Yf=function(u,c,h,w){var k=At(u,"padding-"+h,0),R=At(u,"padding-"+w,0),z=At(u,"border-"+h+"-width",0),K=At(u,"border-"+w+"-width",0);return c-k-R-z-K},Jn=function(u,c){var h=u.dom,w=h.getBoundingClientRect().height||h.offsetHeight;return c==="border-box"?w:Yf(u,w,"top","bottom")},Ts=function(u,c){var h=u.dom,w=h.getBoundingClientRect().width||h.offsetWidth;return c==="border-box"?w:Yf(u,w,"left","right")},DA=function(u){return hu()?Jn(u,Iu(u)):At(u,"height",u.dom.offsetHeight)},tu=function(u){return hu()?Ts(u,Iu(u)):At(u,"width",u.dom.offsetWidth)},Sh=function(u){return Ts(u,"content-box")},Vc=Uo("width",function(u){return u.dom.offsetWidth}),El=function(u){return Vc.get(u)},Gi=function(u){return Vc.getOuter(u)},Xr=Sh,ic=tu,Hd=function(u,c){c===void 0&&(c=se);var h=u.grid,w=kt(h.columns,Be),k=kt(h.rows,Be);return at(w,function(R){var z=function(){return Oe(k,function(be){return hr.getAt(u,be,R).filter(function(Pe){return Pe.column===R}).toArray()})},K=function(be){return be.colspan===1&&c(be.element)},ue=function(){return hr.getAt(u,0,R)};return Ea(z,K,ue)})},Ea=function(u,c,h){var w=u(),k=Ue(w,c),R=k.orThunk(function(){return W.from(w[0]).orThunk(h)});return R.map(function(z){return z.element})},Fv=function(u){var c=u.grid,h=kt(c.rows,Be),w=kt(c.columns,Be);return at(h,function(k){var R=function(){return Oe(w,function(ue){return hr.getAt(u,k,ue).filter(function(be){return be.row===k}).fold(de([]),function(be){return[be]})})},z=function(ue){return ue.rowspan===1},K=function(){return hr.getAt(u,k,0)};return Ea(R,z,K)})},us=function(u,c){if(c<0||c>=u.length-1)return W.none();var h=u[c].fold(function(){var k=Ze(u.slice(0,c));return Rt(k,function(R,z){return R.map(function(K){return{value:K,delta:z+1}})})},function(k){return W.some({value:k,delta:0})}),w=u[c+1].fold(function(){var k=u.slice(c+1);return Rt(k,function(R,z){return R.map(function(K){return{value:K,delta:z+1}})})},function(k){return W.some({value:k,delta:1})});return h.bind(function(k){return w.map(function(R){var z=R.delta+k.delta;return Math.abs(R.value-k.value)/z})})},ss=function(u,c){return function(h){return RA(h)==="rtl"?c:u}},RA=function(u){return tc(u,"direction")==="rtl"?"rtl":"ltr"},Ve=Uo("height",function(u){var c=u.dom;return Ql(u)?c.getBoundingClientRect().height:c.offsetHeight}),gu=function(u){return Ve.get(u)},uc=function(u){return Ve.getOuter(u)},_h=DA,Os=function(u,c){var h=function(w,k){return Os(u+w,c+k)};return{left:u,top:c,translate:h}},Ca=Os,Ta=function(u){var c=u.getBoundingClientRect();return Ca(c.left,c.top)},Nu=function(u,c){return u!==void 0?u:c!==void 0?c:0},Jf=function(u){var c=u.dom.ownerDocument,h=c.body,w=c.defaultView,k=c.documentElement;if(h===u.dom)return Ca(h.offsetLeft,h.offsetTop);var R=Nu(w==null?void 0:w.pageYOffset,k.scrollTop),z=Nu(w==null?void 0:w.pageXOffset,k.scrollLeft),K=Nu(k.clientTop,h.clientTop),ue=Nu(k.clientLeft,h.clientLeft);return l2(u).translate(z-ue,R-K)},l2=function(u){var c=u.dom,h=c.ownerDocument,w=h.body;return w===c?Ca(w.offsetLeft,w.offsetTop):Ql(u)?Ta(c):Ca(0,0)},In=function(u,c){return{row:u,y:c}},wb=function(u,c){return{col:u,x:c}},Ds=function(u){var c=Jf(u);return c.left+Gi(u)},YS=function(u){return Jf(u).left},Ap=function(u,c){return wb(u,YS(c))},Ep=function(u,c){return wb(u,Ds(c))},c2=function(u){return Jf(u).top},f2=function(u,c){return In(u,c2(c))},Uc=function(u,c){return In(u,c2(c)+uc(c))},Zf=function(u,c,h){if(h.length===0)return[];var w=at(h.slice(1),function(R,z){return R.map(function(K){return u(z,K)})}),k=h[h.length-1].map(function(R){return c(h.length-1,R)});return w.concat([k])},$A=function(u){return-u},v2={delta:Be,positions:function(u){return Zf(f2,Uc,u)},edge:c2},BA={delta:Be,edge:YS,positions:function(u){return Zf(Ap,Ep,u)}},JS={delta:$A,edge:Ds,positions:function(u){return Zf(Ep,Ap,u)}},Tp=ss(BA,JS),xh={delta:function(u,c){return Tp(c).delta(u,c)},positions:function(u,c){return Tp(c).positions(u,c)},edge:function(u){return Tp(u).edge(u)}},ZS={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Wc=function(){var u="[0-9]+",c="[+-]?"+u,h="[eE]"+c,w="\\.",k=function(K){return"(?:"+K+")?"},R=["Infinity",u+w+k(u)+k(h),w+u+k(h),u+k(h)].join("|"),z="[+-]?(?:"+R+")";return new RegExp("^("+z+")(.*)$")}(),kh=function(u,c){return B(c,function(h){return B(ZS[h],function(w){return u===w})})},d2=function(u,c){var h=W.from(Wc.exec(u));return h.bind(function(w){var k=Number(w[1]),R=w[2];return kh(R,c)?W.some({value:k,unit:R}):W.none()})},QS=/(\d+(\.\d+)?)%/,MA=/(\d+(\.\d+)?)px|em/,PA=Jo("col"),Po=function(u,c,h){var w=sb(u).getOrThunk(function(){return vb(Nf(u))});return c(u)/h(w)*100},jc=function(u,c){fo(u,"width",c+"px")},Tl=function(u,c){fo(u,"width",c+"%")},Lv=function(u,c){fo(u,"height",c+"px")},e_=function(u){return _h(u)+"px"},Ol=function(u,c,h,w){var k=Wa(u).map(function(R){var z=h(R);return Math.floor(c/100*z)}).getOr(c);return w(u,k),k},Vd=function(u,c,h,w){var k=parseFloat(u);return Ju(u,"%")&&ta(c)!=="table"?Ol(c,k,h,w):k},m2=function(u){var c=e_(u);return c?Vd(c,u,gu,Lv):gu(u)},h2=function(u,c,h){var w=h(u),k=Ho(u,c);return w/k},Qf=function(u,c){return du(u,c).orThunk(function(){return Kr(u,c).map(function(h){return h+"px"})})},tl=function(u){return Qf(u,"width")},Ti=function(u){return Qf(u,"height")},Cb=function(u){return Po(u,El,Xr)},g2=function(u){return PA(u)?El(u):ic(u)},Ud=function(u){return h2(u,"rowspan",m2)},Ah=function(u){var c=tl(u);return c.bind(function(h){return d2(h,["fixed","relative","empty"])})},Eh=function(u,c,h){fo(u,"width",c+h)},IA=function(u){return El(u)+"px"},Th=function(u){return Po(u,El,Xr)+"%"},p2=function(u){return tl(u).exists(function(c){return QS.test(c)})},NA=function(u){return tl(u).exists(function(c){return MA.test(c)})},oo=function(u){return tl(u).isNone()},Sb=de(QS),Hv=Jo("col"),b2=function(u){return tl(u).getOrThunk(function(){return g2(u)+"px"})},y2=function(u){return Ti(u).getOrThunk(function(){return Ud(u)+"px"})},nl=function(u){return at(hr.justColumns(u),function(c){return W.from(c.element)})},Rs=function(u){var c=Yl().browser,h=c.isChrome()||c.isFirefox();return Hv(u)?h:!0},Wd=function(u,c,h,w,k,R){return u.filter(w).fold(function(){return R(us(h,c))},function(z){return k(z)})},Vv=function(u,c,h,w){var k=Hd(u),R=hr.hasColumns(u)?nl(u):k,z=[W.some(xh.edge(c))].concat(at(xh.positions(k,c),function(ue){return ue.map(function(be){return be.x})})),K=Te(zd);return at(R,function(ue,be){return Wd(ue,be,z,K,function(Pe){if(Rs(Pe))return h(Pe);var mt=mb(k[be],Be);return Wd(mt,be,z,K,function(Lt){return w(W.some(El(Lt)))},w)},w)})},_b=function(u){return u.map(function(c){return c+"px"}).getOr("")},Op=function(u,c){return Vv(u,c,b2,_b)},w2=function(u,c,h){return Vv(u,c,Cb,function(w){return w.fold(function(){return h.minCellWidth()},function(k){return k/h.pixelWidth()*100})})},jd=function(u,c,h){return Vv(u,c,g2,function(w){return w.getOrThunk(h.minCellWidth)})},xb=function(u,c,h,w,k){var R=Fv(u),z=[W.some(h.edge(c))].concat(at(h.positions(R,c),function(K){return K.map(function(ue){return ue.y})}));return at(R,function(K,ue){return Wd(K,ue,z,Te(hb),w,k)})},zA=function(u,c,h){return xb(u,c,h,Ud,function(w){return w.getOrThunk(vo)})},C2=function(u,c,h){return xb(u,c,h,y2,_b)},$s=function(u,c){return function(){return Ql(u)?c(u):parseFloat(du(u,"width").getOr("0"))}},ls=function(u){var c=$s(u,El),h=de(0),w=function(k,R){return jd(k,u,R)};return{width:c,pixelWidth:c,getWidths:w,getCellDelta:h,singleColumnWidth:de([0]),minCellWidth:h,setElementWidth:Y,adjustTableWidth:Y,isRelative:!0,label:"none"}},Oh=function(u){var c=$s(u,function(ue){return parseFloat(Th(ue))}),h=$s(u,El),w=function(ue){return ue/h()*100},k=function(ue,be){return[100-ue]},R=function(){return Vf()/h()*100},z=function(ue){var be=c(),Pe=ue/100*be,mt=be+Pe;Tl(u,mt)},K=function(ue,be){return w2(ue,u,be)};return{width:c,pixelWidth:h,getWidths:K,getCellDelta:w,singleColumnWidth:k,minCellWidth:R,setElementWidth:Tl,adjustTableWidth:z,isRelative:!0,label:"percent"}},Dl=function(u){var c=$s(u,El),h=Be,w=function(z,K){var ue=Math.max(Vf(),z+K);return[ue-z]},k=function(z){var K=c()+z;jc(u,K)},R=function(z,K){return jd(z,u,K)};return{width:c,pixelWidth:c,getWidths:R,getCellDelta:h,singleColumnWidth:w,minCellWidth:Vf,setElementWidth:jc,adjustTableWidth:k,isRelative:!1,label:"pixel"}},qi=function(u,c){var h=Sb().exec(c);return h!==null?Oh(u):Dl(u)},kb=function(u){var c=tl(u);return c.fold(function(){return ls(u)},function(h){return qi(u,h)})},ev={getTableSize:kb,pixelSize:Dl,percentageSize:Oh,noneSize:ls},t_=function(u,c,h,w,k,R){return{minRow:u,minCol:c,maxRow:h,maxCol:w,allCells:k,selectedCells:R}},Oi=function(u,c){var h=u.grid.columns,w=u.grid.rows,k=w,R=h,z=0,K=0,ue=[],be=[];return Ra(u.access,function(Pe){if(ue.push(Pe),c(Pe)){be.push(Pe);var mt=Pe.row,Lt=mt+Pe.rowspan-1,Tt=Pe.column,ht=Tt+Pe.colspan-1;mt<k?k=mt:Lt>z&&(z=Lt),Tt<R?R=Tt:ht>K&&(K=ht)}}),t_(k,R,z,K,ue,be)},S2=function(u,c,h){var w=u[h].element,k=en.fromTag("td");ao(k,en.fromTag("br"));var R=c?ao:Ei;R(w,k)},Ab=function(u,c,h,w){for(var k=c.grid.columns,R=c.grid.rows,z=0;z<R;z++)for(var K=!1,ue=0;ue<k;ue++)if(!(z<h.minRow||z>h.maxRow||ue<h.minCol||ue>h.maxCol)){var be=hr.getAt(c,z,ue).filter(w).isNone();be?S2(u,K,z):K=!0}},Wr=function(u,c,h,w){Ra(h.columns,function(z){(z.column<c.minCol||z.column>c.maxCol)&&Pu(z.element)});var k=lt(Uf(u,"tr"),function(z){return z.dom.childElementCount===0});ot(k,Pu),(c.minCol===c.maxCol||c.minRow===c.maxRow)&&ot(Uf(u,"th,td"),function(z){Ba(z,"rowspan"),Ba(z,"colspan")}),Ba(u,Ao),Ba(u,"data-snooker-col-series");var R=ev.getTableSize(u);R.adjustTableWidth(w)},Nn=function(u,c,h,w){if(w.minCol===0&&c.grid.columns===w.maxCol+1)return 0;var k=jd(c,u,h),R=te(k,function(be,Pe){return be+Pe},0),z=te(k.slice(w.minCol,w.maxCol+1),function(be,Pe){return be+Pe},0),K=z/R*h.pixelWidth(),ue=K-h.pixelWidth();return h.getCellDelta(ue)},Bs=function(u,c){var h=function(Lt){return xi(Lt.element,c)},w=sa(u),k=gb(w),R=ev.getTableSize(u),z=hr.generate(k),K=Oi(z,h),ue="th:not("+c+"),td:not("+c+")",be=Wf(w,"th,td",function(Lt){return xi(Lt,ue)});ot(be,Pu),Ab(k,z,K,h);var Pe=hr.fromTable(u),mt=Nn(u,Pe,R,K);return Wr(w,K,z,mt),w},Eb="",Rl=function(u){return ta(u)==="img"?1:jS(u).fold(function(){return ii(u).length},function(c){return c.length})},n_=function(u){return jS(u).filter(function(c){return c.trim().length!==0||c.indexOf(Eb)>-1}).isSome()},Sa=["img","br"],_2=function(u){var c=n_(u);return c||ut(Sa,ta(u))},Tb=function(u){return gp(u,_2)},Ob=function(u){return $t(u,_2)},$t=function(u,c){var h=function(w){for(var k=ii(w),R=k.length-1;R>=0;R--){var z=k[R];if(c(z))return W.some(z);var K=h(z);if(K.isSome())return K}return W.none()};return h(u)},x2={scope:["row","col"]},k2=function(u){return function(){var c=en.fromTag("td",u.dom);return ao(c,en.fromTag("br",u.dom)),c}},Uv=function(u){return function(){return en.fromTag("col",u.dom)}},Dp=function(u){return function(){return en.fromTag("colgroup",u.dom)}},Gd=function(u){return function(){return en.fromTag("tr",u.dom)}},Wv=function(u,c,h){var w=el(u,c);return Ra(h,function(k,R){k===null?Ba(w,R):Lo(w,R,k)}),w},qd=function(u){return u},Dh=function(u,c,h){var w=Tb(u);return w.map(function(k){var R=h.join(","),z=Ic(k,R,function(K){return ea(K,u)});return Sn(z,function(K,ue){var be=Al(ue);return Ba(be,"contenteditable"),ao(K,be),be},c)}).getOr(c)},Eo=function(u,c){Ra(x2,function(h,w){return Kr(u,w).filter(function(k){return ut(h,k)}).each(function(k){return Lo(c,w,k)})})},ir=function(u,c,h){var w=function(z,K){Iv(z.element,K),ki(K,"height"),z.colspan!==1&&ki(K,"width")},k=function(z){var K=en.fromTag(ta(z.element),c.dom),ue=h.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),be=ue.length>0?Dh(z.element,K,ue):K;return ao(be,en.fromTag("br")),w(z,K),Eo(z.element,K),u(z.element,K),K},R=function(z){var K=en.fromTag(ta(z.element),c.dom);return w(z,K),u(z.element,K),K};return{col:R,colgroup:Dp(c),row:Gd(c),cell:k,replace:Wv,colGap:Uv(c),gap:k2(c)}},Ms=function(u){return{col:Uv(u),colgroup:Dp(u),row:Gd(u),cell:k2(u),replace:qd,colGap:Uv(u),gap:k2(u)}},r_=function(u,c){var h=c||document,w=h.createElement("div");return w.innerHTML=u,ii(en.fromDom(w))},cs=function(u){return at(u,en.fromDom)},A2=function(u){return u.nodeName.toLowerCase()},Gc=function(u){return en.fromDom(u.getBody())},tv=function(u){return u.getBoundingClientRect().width},nv=function(u){return u.getBoundingClientRect().height},Ps=function(u){return function(c){return ea(c,Gc(u))}},jv=function(u){return u?u.replace(/px$/,""):""},Zo=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},pu=function(u){Ba(u,"data-mce-style");var c=function(h){return Ba(h,"data-mce-style")};ot(jf(u),c),ot(rc(u),c),ot(Bu(u),c)},qc=function(u,c){var h=u.dom.getStyle(c,"width")||u.dom.getAttrib(c,"width");return W.from(h).filter(Pr)},Gv=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},Rh=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},Kd=function(u){return en.fromDom(u.selection.getStart())},wn=function(u){return en.fromDom(u.selection.getEnd())},li=function(u){return bb(u.get(),de([]),Be,He)},sc=function(u){var c=function(k,R){return Kr(k,R).exists(function(z){return parseInt(z,10)>1})},h=function(k){return c(k,"rowspan")||c(k,"colspan")},w=li(u);return w.length>0&&Ee(w,h)?W.some(w):W.none()},Kc=function(u,c,h){return bb(c.get(),W.none,function(w){return w.length<=1?W.none():si(u,h.firstSelectedSelector,h.lastSelectedSelector).map(function(k){return{bounds:k,cells:w}})},W.none)},Rp="data-mce-selected",a_="td["+Rp+"],th["+Rp+"]",Db="["+Rp+"]",qv="data-mce-first-selected",Kv="td["+qv+"],th["+qv+"]",$h="data-mce-last-selected",$p="td["+$h+"],th["+$h+"]",FA=Db,Is={selected:Rp,selectedSelector:a_,firstSelected:qv,firstSelectedSelector:Kv,lastSelected:$h,lastSelectedSelector:$p},E2=function(u){return{element:u,mergable:W.none(),unmergable:W.none(),selection:[u]}},Xd=function(u,c,h){return{element:h,mergable:Kc(c,u,Is),unmergable:sc(u),selection:li(u)}},Xv=function(u,c,h){return{element:u,clipboard:c,generators:h}},T2=function(u,c,h,w){return{selection:li(u),clipboard:h,generators:w}},Yv=function(u){return Wa(u).bind(function(c){return yo(c,Is.firstSelectedSelector)}).fold(de(u),function(c){return c[0]})},o_=function(u){return function(c,h){var w=ta(c),k=w==="col"||w==="colgroup"?Yv(c):c;return no(k,u,h)}},Ja=o_("th,td,caption"),Di=o_("th,td"),Ki=function(u){return li(u)},i_=function(u,c){var h=Di(u),w=h.bind(function(k){return Wa(k)}).map(function(k){return Bu(k)});return as(h,w,function(k,R){return lt(R,function(z){return B(cs(z.dom.cells),function(K){return ks(K,c)==="1"||ea(K,k)})})}).getOr([])},Rb=function(u){return Wa(u[0]).map(function(c){var h=Bs(c,FA);return pu(h),[h]})},LA=function(u,c){return at(c,function(h){return u.selection.serializer.serialize(h.dom,{})}).join("")},u_=function(u){return at(u,function(c){return c.dom.innerText}).join("")},$l=function(u,c,h){u.on("BeforeGetContent",function(w){var k=function(R){w.preventDefault(),Rb(R).each(function(z){w.content=w.format==="text"?u_(z):LA(u,z)})};w.selection===!0&&bb(c.get(),Y,k,Y)}),u.on("BeforeSetContent",function(w){if(w.selection===!0&&w.paste===!0){var k=Ki(c);it(k).each(function(R){Wa(R).each(function(z){var K=lt(r_(w.content),function(Lt){return ta(Lt)!=="meta"}),ue=Jo("table");if(K.length===1&&ue(K[0])){w.preventDefault();var be=en.fromDom(u.getDoc()),Pe=Ms(be),mt=Xv(R,K[0],Pe);h.pasteCells(z,mt).each(function(){u.focus()})}})})}})},HA=Hc.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Bh=zt({},HA),$b=function(u,c){return u.length===0?Bh.none():u.length===1?Bh.only(0):c===0?Bh.left(0,1):c===u.length-1?Bh.right(c-1,c):c>0&&c<u.length-1?Bh.middle(c-1,c,c+1):Bh.none()},VA=function(u,c,h,w,k){var R=u.slice(0),z=$b(u,c),K=de(at(R,de(0))),ue=function(Lt){return w.singleColumnWidth(R[Lt],h)},be=function(Lt,Tt){return k.calcLeftEdgeDeltas(R,Lt,Tt,h,w.minCellWidth(),w.isRelative)},Pe=function(Lt,Tt,ht){return k.calcMiddleDeltas(R,Lt,Tt,ht,h,w.minCellWidth(),w.isRelative)},mt=function(Lt,Tt){return k.calcRightEdgeDeltas(R,Lt,Tt,h,w.minCellWidth(),w.isRelative)};return z.fold(K,ue,be,Pe,mt)},s_=function(u,c,h){for(var w=0,k=u;k<c;k++)w+=h[k]!==void 0?h[k]:0;return w},O2=function(u,c){var h=hr.justCells(u);return at(h,function(w){var k=s_(w.column,w.column+w.colspan,c);return{element:w.element,width:k,colspan:w.colspan}})},D2=function(u,c){var h=hr.justColumns(u);return at(h,function(w,k){return{element:w.element,width:c[k],colspan:w.colspan}})},R2=function(u,c){var h=hr.justCells(u);return at(h,function(w){var k=s_(w.row,w.row+w.rowspan,c);return{element:w.element,height:k,rowspan:w.rowspan}})},UA=function(u,c){return at(u.all,function(h,w){return{element:h.element,height:c[w]}})},Jv=function(u){return Sn(u,function(c,h){return c+h},0)},Zv=function(u,c){return hr.hasColumns(u)?D2(u,c):O2(u,c)},ga=function(u,c,h){var w=Zv(u,c);ot(w,function(k){h.setElementWidth(k.element,k.width)})},Bb=function(u,c,h,w,k){var R=hr.fromTable(u),z=k.getCellDelta(c),K=k.getWidths(R,k),ue=h===R.grid.columns-1,be=w.clampTableDelta(K,h,z,k.minCellWidth(),ue),Pe=VA(K,h,be,k,w),mt=at(Pe,function(Lt,Tt){return Lt+K[Tt]});ga(R,mt,k),w.resizeTable(k.adjustTableWidth,be,ue)},lc=function(u,c,h,w){var k=hr.fromTable(u),R=zA(k,u,w),z=at(R,function(Pe,mt){return h===mt?Math.max(c+Pe,vo()):Pe}),K=R2(k,z),ue=UA(k,z);ot(ue,function(Pe){Lv(Pe.element,Pe.height)}),ot(K,function(Pe){Lv(Pe.element,Pe.height)});var be=Jv(z);Lv(u,be)},l_=function(u,c,h,w,k){var R=hr.generate(c),z=w.getWidths(R,w),K=w.pixelWidth(),ue=k.calcRedestributedWidths(z,K,h.pixelDelta,w.isRelative),be=ue.newSizes,Pe=ue.delta;ga(R,be,w),w.adjustTableWidth(Pe)},cc=function(u,c,h,w){var k=hr.generate(c),R=w.getWidths(k,w);ga(k,R,w)},Xc=function(u){return at(u,de(0))},Qv=function(u,c,h,w,k){return k(u.slice(0,c)).concat(w).concat(k(u.slice(h)))},Mb=function(u){return function(c,h,w,k){if(u(w)){var R=Math.max(k,c[h]-Math.abs(w)),z=Math.abs(R-c[h]);return w>=0?z:-z}else return w}},Bp=Mb(function(u){return u<0}),Pb=Mb(se),Ib=function(){var u=function(K,ue,be,Pe,mt){var Lt=Bp(K,ue,Pe,mt);return Qv(K,ue,be+1,[Lt,0],Xc)},c=function(K,ue,be,Pe){var mt=(100+be)/100,Lt=Math.max(Pe,(K[ue]+be)/mt);return at(K,function(Tt,ht){var Yt=ht===ue?Lt:Tt/mt;return Yt-Tt})},h=function(K,ue,be,Pe,mt,Lt){return Lt?c(K,ue,Pe,mt):u(K,ue,be,Pe,mt)},w=function(K,ue,be,Pe,mt,Lt,Tt){return h(K,be,Pe,mt,Lt,Tt)},k=function(K,ue){return K(ue)},R=function(K,ue,be,Pe,mt,Lt){if(Lt)return c(K,be,Pe,mt);var Tt=Bp(K,be,Pe,mt);return Xc(K.slice(0,be)).concat([Tt])},z=function(K,ue,be,Pe){if(Pe){var mt=ue+be,Lt=mt/ue,Tt=at(K,function(ht){return ht/Lt});return{delta:Lt*100-100,newSizes:Tt}}else return{delta:be,newSizes:K}};return{resizeTable:k,clampTableDelta:Bp,calcLeftEdgeDeltas:h,calcMiddleDeltas:w,calcRightEdgeDeltas:R,calcRedestributedWidths:z}},Yd=function(){var u=function(z,K,ue,be,Pe){var mt=be>=0?ue:K,Lt=Pb(z,mt,be,Pe);return Qv(z,K,ue+1,[Lt,-Lt],Xc)},c=function(z,K,ue,be,Pe,mt){return u(z,ue,be,Pe,mt)},h=function(z,K,ue){ue&&z(K)},w=function(z,K,ue,be,Pe,mt){if(mt)return Xc(z);var Lt=be/z.length;return at(z,de(Lt))},k=function(z,K,ue,be,Pe){if(Pe){if(ue>=0)return ue;var mt=te(z,function(Lt,Tt){return Lt+Tt-be},0);return Math.max(-mt,ue)}else return Bp(z,K,ue,be)},R=function(z,K,ue,be){return{delta:0,newSizes:z}};return{resizeTable:h,clampTableDelta:k,calcLeftEdgeDeltas:u,calcMiddleDeltas:c,calcRightEdgeDeltas:w,calcRedestributedWidths:R}},WA=function(u,c){var h=W.from(u.dom.documentElement).map(en.fromDom).getOr(u);return{parent:de(h),view:de(u),origin:de(Ca(0,0)),isResizable:c}},Nb=function(u,c,h){var w=function(){return Jf(c)};return{parent:de(c),view:de(u),origin:w,isResizable:h}},Mh=function(u,c,h){return{parent:de(c),view:de(u),origin:de(Ca(0,0)),isResizable:h}},Mp={only:WA,detached:Nb,body:Mh},Pp=Hc.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),$2=function(u,c,h){var w=h.substring(0,h.length-u.length),k=parseFloat(w);return w===k.toString()?c(k):Pp.invalid(h)},Wo=function(u){return Ju(u,"%")?$2("%",Pp.percent,u):Ju(u,"px")?$2("px",Pp.pixels,u):Pp.invalid(u)},Jd=zt(zt({},Pp),{from:Wo}),Io=function(u,c){return at(u,function(h){var w=Jd.from(h);return w.fold(function(){return h},function(k){var R=k/c*100;return R+"%"},function(k){return k+"%"})})},bu=function(u,c,h){var w=h/c;return at(u,function(k){var R=Jd.from(k);return R.fold(function(){return k},function(z){return z*w+"px"},function(z){return z/100*h+"px"})})},Zd=function(u,c){var h=u.fold(function(){return de("")},function(w){var k=w/c;return de(k+"px")},function(){var w=100/c;return de(w+"%")});return kt(c,h)},Ns=function(u,c,h){return u.fold(function(){return c},function(w){return bu(c,h,w)},function(w){return Io(c,h)})},zb=function(u,c,h){var w=Jd.from(h),k=Ee(u,function(R){return R==="0px"})?Zd(w,u.length):Ns(w,u,c);return c_(k)},Yc=function(u,c){return u.length===0?c:Sn(u,function(h,w){return Jd.from(w).fold(de(0),Be,Be)+h},0)},Ph=function(u,c){var h=Math.floor(u);return{value:h+c,remainder:u-h}},Ih=function(u,c){return Jd.from(u).fold(de(u),function(h){return h+c+"px"},function(h){return h+c+"%"})},c_=function(u){if(u.length===0)return u;var c=Sn(u,function(w,k){var R=Jd.from(k).fold(function(){return{value:k,remainder:0}},function(z){return Ph(z,"px")},function(z){return{value:z+"%",remainder:0}});return{output:[R.value].concat(w.output),remainder:w.remainder+R.remainder}},{output:[],remainder:0}),h=c.output;return h.slice(0,h.length-1).concat([Ih(h[h.length-1],Math.round(c.remainder))])},f_=Jd.from,jA=function(u,c,h){ot(c,function(w){var k=u.slice(w.column,w.colspan+w.column),R=Yc(k,Vf());fo(w.element,"width",R+h)})},GA=function(u,c,h){ot(c,function(w,k){var R=Yc([u[k]],Vf());fo(w.element,"width",R+h)})},qA=function(u,c,h,w){ot(h,function(k){var R=u.slice(k.row,k.rowspan+k.row),z=Yc(R,vo());fo(k.element,"height",z+w)}),ot(c,function(k,R){fo(k.element,"height",u[R])})},v_=function(u){return f_(u).fold(de("px"),de("px"),de("%"))},Fb=function(u,c,h){var w=hr.fromTable(u),k=w.all,R=hr.justCells(w),z=hr.justColumns(w);c.each(function(K){var ue=v_(K),be=El(u),Pe=Op(w,u),mt=zb(Pe,be,K);hr.hasColumns(w)?GA(mt,z,ue):jA(mt,R,ue),fo(u,"width",K)}),h.each(function(K){var ue=v_(K),be=gu(u),Pe=C2(w,u,v2),mt=zb(Pe,be,K);qA(mt,k,R,ue),fo(u,"height",K)})},Lb=p2,Ri=NA,Hb=oo,B2=function(u){var c=hr.fromTable(u);return c.grid},rl=function(u){var c=[],h=function(R){if(R===void 0)throw new Error("Event bind error: undefined handler");c.push(R)},w=function(R){c=lt(c,function(z){return z!==R})},k=function(){for(var R=[],z=0;z<arguments.length;z++)R[z]=arguments[z];var K={};ot(u,function(ue,be){K[ue]=R[be]}),ot(c,function(ue){ue(K)})};return{bind:h,unbind:w,trigger:k}},Ha=function(u){var c=Pf(u,function(w){return{bind:w.bind,unbind:w.unbind}}),h=Pf(u,function(w){return w.trigger});return{registry:c,trigger:h}},zs=function(u,c){var h=null,w=function(){T(h)||(clearTimeout(h),h=null)},k=function(){for(var R=[],z=0;z<arguments.length;z++)R[z]=arguments[z];w(),h=setTimeout(function(){h=null,u.apply(null,R)},c)};return{cancel:w,throttle:k}},ed=function(u){return u.slice(0).sort()},M2=function(u,c){throw new Error("All required keys ("+ed(u).join(", ")+") were not specified. Specified keys were: "+ed(c).join(", ")+".")},Vb=function(u){throw new Error("Unsupported keys for object: "+ed(u).join(", "))},d_=function(u,c){if(!O(c))throw new Error("The "+u+" fields must be an array. Was: "+c+".");ot(c,function(h){if(!S(h))throw new Error("The value "+h+" in the "+u+" fields was not a string.")})},dr=function(u,c){throw new Error("All values need to be of type: "+c+". Keys ("+ed(u).join(", ")+") were not.")},Nh=function(u){var c=ed(u),h=Ue(c,function(w,k){return k<c.length-1&&w===c[k+1]});h.each(function(w){throw new Error("The field: "+w+" occurs more than once in the combined fields: ["+c.join(", ")+"].")})},Ub=function(u,c){return P2(u,c,{validate:I,label:"function"})},P2=function(u,c,h){if(c.length===0)throw new Error("You must specify at least one required field.");return d_("required",c),Nh(c),function(w){var k=cu(w),R=Ee(c,function(K){return ut(k,K)});R||M2(c,k),u(c,k);var z=lt(c,function(K){return!h.validate(w[K],K)});return z.length>0&&dr(z,h.label),w}},jo=function(u,c){var h=lt(c,function(w){return!ut(u,w)});h.length>0&&Vb(h)},al=function(u){return Ub(jo,u)},m_=al(["compare","extract","mutate","sink"]),Qd=al(["element","start","stop","destroy"]),Ma=al(["forceDrop","drop","move","delayDrop"]),em=function(){var u=W.none(),c=function(){u=W.none()},h=function(R,z){var K=u.map(function(ue){return R.compare(ue,z)});return u=W.some(z),K},w=function(R,z){var K=z.extract(R);K.each(function(ue){var be=h(z,ue);be.each(function(Pe){k.trigger.move(Pe)})})},k=Ha({move:rl(["info"])});return{onEvent:w,reset:c,events:k.registry}},Wb=function(){var u=Ha({move:rl(["info"])});return{onEvent:Y,reset:Y,events:u.registry}},zh=function(){var u=Wb(),c=em(),h=u,w=function(){h.reset(),h=c},k=function(){h.reset(),h=u},R=function(K,ue){h.onEvent(K,ue)},z=function(){return h===c};return{on:w,off:k,isOn:z,onEvent:R,events:c.events}},I2=function(u,c,h){var w=!1,k=Ha({start:rl([]),stop:rl([])}),R=zh(),z=function(){Tt.stop(),R.isOn()&&(R.off(),k.trigger.stop())},K=zs(z,200),ue=function(Yt){Tt.start(Yt),R.on(),k.trigger.start()},be=function(Yt){K.cancel(),R.onEvent(Yt,c)};R.events.move.bind(function(Yt){c.mutate(u,Yt.info)});var Pe=function(){w=!0},mt=function(){w=!1},Lt=function(Yt){return function(){for(var tn=[],On=0;On<arguments.length;On++)tn[On]=arguments[On];w&&Yt.apply(null,tn)}},Tt=c.sink(Ma({forceDrop:z,drop:Lt(z),move:Lt(be),delayDrop:Lt(K.throttle)}),h),ht=function(){Tt.destroy()};return{element:Tt.element,go:ue,on:Pe,off:mt,destroy:ht,events:k.registry}},h_=function(u,c,h,w,k,R,z){return{target:u,x:c,y:h,stop:w,prevent:k,kill:R,raw:z}},Ip=function(u){var c=en.fromDom(cb(u).getOr(u.target)),h=function(){return u.stopPropagation()},w=function(){return u.preventDefault()},k=q(w,h);return h_(c,u.clientX,u.clientY,h,w,k,u)},g_=function(u,c){return function(h){u(h)&&c(Ip(h))}},rv=function(u,c,h,w,k){var R=g_(h,w);return u.dom.addEventListener(c,R,k),{unbind:Se(N2,u,c,R,k)}},yu=function(u,c,h,w){return rv(u,c,h,w,!1)},N2=function(u,c,h,w){u.dom.removeEventListener(c,h,w)},KA=se,fc=function(u,c,h){return yu(u,c,KA,h)},av=Ip,jb=function(u,c){var h=ks(u,c);return h===void 0||h===""?[]:h.split(" ")},XA=function(u,c,h){var w=jb(u,c),k=w.concat([h]);return Lo(u,c,k.join(" ")),!0},YA=function(u,c,h){var w=lt(jb(u,c),function(k){return k!==h});return w.length>0?Lo(u,c,w.join(" ")):Ba(u,c),!1},tm=function(u){return u.dom.classList!==void 0},nm=function(u){return jb(u,"class")},Gb=function(u,c){return XA(u,"class",c)},Yr=function(u,c){return YA(u,"class",c)},Go=function(u,c){tm(u)?u.dom.classList.add(c):Gb(u,c)},wu=function(u){var c=tm(u)?u.dom.classList:nm(u);c.length===0&&Ba(u,"class")},zu=function(u,c){if(tm(u)){var h=u.dom.classList;h.remove(c)}else Yr(u,c);wu(u)},ka=function(u,c){return tm(u)&&u.dom.classList.contains(c)},td=function(u){var c=u.replace(/\./g,"-"),h=function(w){return c+"-"+w};return{resolve:h}},qb=td("ephox-dragster"),Qo=qb.resolve,Jc=function(u){var c=zt({layerClass:Qo("blocker")},u),h=en.fromTag("div");Lo(h,"role","presentation"),zc(h,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Go(h,Qo("blocker")),Go(h,c.layerClass);var w=de(h),k=function(){Pu(h)};return{element:w,destroy:k}},JA=function(u,c){return Ca(c.left-u.left,c.top-u.top)},ZA=function(u){return W.some(Ca(u.x,u.y))},Kb=function(u,c){u.mutate(c.left,c.top)},Xb=function(u,c){var h=Jc(c),w=fc(h.element(),"mousedown",u.forceDrop),k=fc(h.element(),"mouseup",u.drop),R=fc(h.element(),"mousemove",u.move),z=fc(h.element(),"mouseout",u.delayDrop),K=function(){h.destroy(),k.unbind(),R.unbind(),z.unbind(),w.unbind()},ue=function(Pe){ao(Pe,h.element())},be=function(){Pu(h.element())};return Qd({element:h.element,start:ue,stop:be,destroy:K})},z2=m_({compare:JA,extract:ZA,sink:Xb,mutate:Kb}),F2=function(u,c){c===void 0&&(c={});var h=c.mode!==void 0?c.mode:z2;return I2(u,h,c)},rm=function(u){return no(u,"[contenteditable]")},Np=function(u,c){return c===void 0&&(c=!1),!Yl().browser.isIE()&&Ql(u)?u.dom.isContentEditable:rm(u).fold(de(c),function(h){return L2(h)==="true"})},L2=function(u){return u.dom.contentEditable},H2=td("ephox-snooker"),Fh=H2.resolve,$i=function(){var u=Ha({drag:rl(["xDelta","yDelta"])}),c=function(h,w){u.trigger.drag(h,w)};return{mutate:c,events:u.registry}},fs=function(){var u=Ha({drag:rl(["xDelta","yDelta","target"])}),c=W.none(),h=$i();h.events.drag.bind(function(R){c.each(function(z){u.trigger.drag(R.xDelta,R.yDelta,z)})});var w=function(R){c=W.some(R)},k=function(){return c};return{assign:w,get:k,mutate:h.mutate,events:u.registry}},zp=function(u,c,h,w,k){var R=en.fromTag("div");return zc(R,{position:"absolute",left:c-w/2+"px",top:h+"px",height:k+"px",width:w+"px"}),ko(R,{"data-column":u,role:"presentation"}),R},qo=function(u,c,h,w,k){var R=en.fromTag("div");return zc(R,{position:"absolute",left:c+"px",top:h-k/2+"px",height:k+"px",width:w+"px"}),ko(R,{"data-row":u,role:"presentation"}),R},Yb=Fh("resizer-bar"),ov=Fh("resizer-rows"),V2=Fh("resizer-cols"),U2=7,p_=function(u,c){return Oe(u.all,function(h,w){return c(h.element)?[w]:[]})},W2=function(u,c){var h=[];return kt(u.grid.columns,function(w){var k=hr.getColumnAt(u,w).map(function(R){return R.element});k.forall(c)&&h.push(w)}),lt(h,function(w){var k=hr.filterItems(u,function(R){return R.column===w});return Ee(k,function(R){return c(R.element)})})},Fp=function(u){var c=ns(u.parent(),"."+Yb);ot(c,Pu)},Jb=function(u,c,h){var w=u.origin();ot(c,function(k){k.each(function(R){var z=h(w,R);Go(z,Yb),ao(u.parent(),z)})})},b_=function(u,c,h,w){Jb(u,c,function(k,R){var z=zp(R.col,R.x-k.left,h.top-k.top,U2,w);return Go(z,V2),z})},QA=function(u,c,h,w){Jb(u,c,function(k,R){var z=qo(R.row,h.left-k.left,R.y-k.top,w,U2);return Go(z,ov),z})},Xi=function(u,c,h,w,k){var R=Jf(h),z=c.isResizable,K=w.length>0?v2.positions(w,h):[],ue=K.length>0?p_(u,z):[],be=lt(K,function(Tt,ht){return B(ue,function(Yt){return ht===Yt})});QA(c,be,R,Gi(h));var Pe=k.length>0?xh.positions(k,h):[],mt=Pe.length>0?W2(u,z):[],Lt=lt(Pe,function(Tt,ht){return B(mt,function(Yt){return ht===Yt})});b_(c,Lt,R,uc(h))},ei=function(u,c){if(Fp(u),u.isResizable(c)){var h=hr.fromTable(c),w=Fv(h),k=Hd(h);Xi(h,u,c,w,k)}},Cu=function(u,c){var h=ns(u.parent(),"."+Yb);ot(h,c)},Su=function(u){Cu(u,function(c){fo(c,"display","none")})},Fu=function(u){Cu(u,function(c){fo(c,"display","block")})},No=function(u){return ka(u,ov)},Zb=function(u){return ka(u,V2)},Qb=Fh("resizer-bar-dragging"),j2=function(u){var c=fs(),h=F2(c,{}),w=W.none(),k=function(ht,Yt){return W.from(ks(ht,Yt))};c.events.drag.bind(function(ht){k(ht.target,"data-row").each(function(Yt){var tn=Hf(ht.target,"top");fo(ht.target,"top",tn+ht.yDelta+"px")}),k(ht.target,"data-column").each(function(Yt){var tn=Hf(ht.target,"left");fo(ht.target,"left",tn+ht.xDelta+"px")})});var R=function(ht,Yt){var tn=Hf(ht,Yt),On=Qs(ht,"data-initial-"+Yt,0);return tn-On};h.events.stop.bind(function(){c.get().each(function(ht){w.each(function(Yt){k(ht,"data-row").each(function(tn){var On=R(ht,"top");Ba(ht,"data-initial-top"),Tt.trigger.adjustHeight(Yt,On,parseInt(tn,10))}),k(ht,"data-column").each(function(tn){var On=R(ht,"left");Ba(ht,"data-initial-left"),Tt.trigger.adjustWidth(Yt,On,parseInt(tn,10))}),ei(u,Yt)})})});var z=function(ht,Yt){Tt.trigger.startAdjust(),c.assign(ht),Lo(ht,"data-initial-"+Yt,Hf(ht,Yt)),Go(ht,Qb),fo(ht,"opacity","0.2"),h.go(u.parent())},K=fc(u.parent(),"mousedown",function(ht){No(ht.target)&&z(ht.target,"top"),Zb(ht.target)&&z(ht.target,"left")}),ue=function(ht){return ea(ht,u.view())},be=function(ht){return no(ht,"table",ue).filter(Np)},Pe=fc(u.view(),"mouseover",function(ht){be(ht.target).fold(function(){Ql(ht.target)&&Fp(u)},function(Yt){w=W.some(Yt),ei(u,Yt)})}),mt=function(){K.unbind(),Pe.unbind(),h.destroy(),Fp(u)},Lt=function(ht){ei(u,ht)},Tt=Ha({adjustHeight:rl(["table","delta","row"]),adjustWidth:rl(["table","delta","column"]),startAdjust:rl([])});return{destroy:mt,refresh:Lt,on:h.on,off:h.off,hideBars:Se(Su,u),showBars:Se(Fu,u),events:Tt.registry}},am=function(u,c,h){var w=v2,k=xh,R=j2(u),z=Ha({beforeResize:rl(["table","type"]),afterResize:rl(["table","type"]),startDrag:rl([])});return R.events.adjustHeight.bind(function(K){var ue=K.table;z.trigger.beforeResize(ue,"row");var be=w.delta(K.delta,ue);lc(ue,be,K.row,w),z.trigger.afterResize(ue,"row")}),R.events.startAdjust.bind(function(K){z.trigger.startDrag()}),R.events.adjustWidth.bind(function(K){var ue=K.table;z.trigger.beforeResize(ue,"col");var be=k.delta(K.delta,ue),Pe=h(ue);Bb(ue,be,K.column,c,Pe),z.trigger.afterResize(ue,"col")}),{on:R.on,off:R.off,hideBars:R.hideBars,showBars:R.showBars,destroy:R.destroy,events:z.registry}},nd={create:am},e0=function(u,c){return u.fire("newrow",{node:c})},t0=function(u,c){return u.fire("newcell",{node:c})},n0=function(u,c,h,w,k){u.fire("ObjectResizeStart",{target:c,width:h,height:w,origin:k})},Lh=function(u,c,h,w,k){u.fire("ObjectResized",{target:c,width:h,height:w,origin:k})},Hh=function(u,c,h,w,k){u.fire("TableSelectionChange",{cells:c,start:h,finish:w,otherCells:k})},y_=function(u){u.fire("TableSelectionClear")},Zc=function(u,c,h){u.fire("TableModified",zt(zt({},h),{table:c}))},om={structure:!1,style:!0},Ga={structure:!0,style:!1},e4={structure:!0,style:!0},t4="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",r0={"border-collapse":"collapse",width:"100%"},n4=kt(5,function(u){var c=u+1+"px";return{title:c,value:c}}),w_=at(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(u){return{title:u,value:u.toLowerCase()}}),Zt=function(u){var c;if(iv(u)){var h=u.dom,w=(c=h.getParent(u.selection.getStart(),h.isBlock))!==null&&c!==void 0?c:u.getBody(),k=Xr(en.fromDom(w));return zt(zt({},r0),{width:k+"px"})}else return Vh(u)?Cl(r0,function(R,z){return z!=="width"}):r0},r4={border:"1"},Ko="preservetable",G2=function(u){return u.getParam("table_sizing_mode","auto")},im=function(u){return u.getParam("table_responsive_width")},C_=function(u){return u.getParam("table_border_widths",n4,"array")},nu=function(u){return u.getParam("table_border_styles",w_,"array")},Lp=function(u){return u.getParam("table_default_attributes",r4,"object")},a0=function(u){return u.getParam("table_default_styles",Zt(u),"object")},Hp=function(u){return u.getParam("table_resize_bars",!0,"boolean")},vc=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},Vp=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},Up=function(u){return u.getParam("table_row_advtab",!0,"boolean")},_u=function(u){return u.getParam("table_advtab",!0,"boolean")},dc=function(u){return u.getParam("table_appearance_options",!0,"boolean")},S_=function(u){return u.getParam("table_grid",!0,"boolean")},ru=function(u){return u.getParam("table_style_by_css",!1,"boolean")},Qc=function(u){return u.getParam("table_cell_class_list",[],"array")},rd=function(u){return u.getParam("table_row_class_list",[],"array")},Wp=function(u){return u.getParam("table_class_list",[],"array")},dt=function(u){return G2(u)==="relative"||im(u)===!0},iv=function(u){return G2(u)==="fixed"||im(u)===!1},Vh=function(u){return G2(u)==="responsive"},a4=function(u){return u.getParam("table_toolbar",t4)},o0=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},Bl=function(u){var c="section",h=u.getParam("table_header_type",c,"string"),w=["section","cells","sectionCells","auto"];return ut(w,h)?h:c},i0=function(u){var c=["preservetable","resizetable"],h=u.getParam("table_column_resizing",Ko,"string");return Ue(c,function(w){return w===h}).getOr(Ko)},q2=function(u){return i0(u)==="preservetable"},K2=function(u){return i0(u)==="resizetable"},u0=function(u){var c=u.getParam("table_clone_elements");return S(c)?W.some(c.split(/[ ,]/)):Array.isArray(c)?W.some(c):W.none()},X2=function(u){var c=u.getParam("object_resizing",!0);return S(c)?c==="table":c},Y2=function(u){return u.getParam("table_background_color_map",[],"array")},J2=function(u){return u.getParam("table_border_color_map",[],"array")},Z2=function(u,c){return dt(u)?ev.percentageSize(c):iv(u)?ev.pixelSize(c):ev.getTableSize(c)},um=function(u){Ba(u,"width")},__=function(u){var c=Th(u);Fb(u,W.some(c),W.none()),um(u)},o4=function(u){var c=IA(u);Fb(u,W.some(c),W.none()),um(u)},i4=function(u){ki(u,"width");var c=rc(u),h=c.length>0?c:jf(u);ot(h,function(w){ki(w,"width"),um(w)}),um(u)},Uh=__,Wh=o4,s0=i4,Q2=function(u){var c=hr.fromTable(u);hr.hasColumns(c)||ot(jf(u),function(h){var w=tc(h,"width");fo(h,"width",w),Ba(h,"width")})},jh=function(){var u=en.fromTag("div");return zc(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ao($a(),u),u},ew=function(u,c){return u.inline?Mp.body(Gc(u),jh(),c):Mp.only(en.fromDom(u.getDoc()),c)},mo=function(u,c){u.inline&&Pu(c.parent())},jp="bar-",wo=function(u){return ks(u,"data-mce-resize")!=="false"},l0=function(u){var c=W.none(),h=W.none(),w=W.none(),k,R,z=function(ht){return ht.nodeName==="TABLE"},K=function(){return h},ue=function(){return w.getOr(Mp.only(en.fromDom(u.getBody()),wo))},be=function(ht){return Z2(u,ht)},Pe=function(){return q2(u)?Yd():Ib()},mt=function(ht){return B2(ht).columns},Lt=function(ht,Yt,tn){var On=Ju(Yt,"e");if(R===""&&Uh(ht),tn!==k&&R!==""){fo(ht,"width",R);var jr=Pe(),Tn=be(ht),er=q2(u)||On?mt(ht)-1:0;Bb(ht,tn-k,er,jr,Tn)}else if(Gv(R)){var _r=parseFloat(R.replace("%","")),wr=tn*_r/k;fo(ht,"width",wr+"%")}Rh(R)&&Q2(ht)},Tt=function(){h.each(function(ht){ht.destroy()}),w.each(function(ht){mo(u,ht)})};return u.on("init",function(){var ht=ew(u,wo);if(w=W.some(ht),X2(u)&&Hp(u)){var Yt=Pe(),tn=nd.create(ht,Yt,be);tn.on(),tn.events.startDrag.bind(function(On){c=W.some(u.selection.getRng())}),tn.events.beforeResize.bind(function(On){var jr=On.table.dom;n0(u,jr,tv(jr),nv(jr),jp+On.type)}),tn.events.afterResize.bind(function(On){var jr=On.table,Tn=jr.dom;pu(jr),c.each(function(er){u.selection.setRng(er),u.focus()}),Lh(u,Tn,tv(Tn),nv(Tn),jp+On.type),u.undoManager.add()}),h=W.some(tn)}}),u.on("ObjectResizeStart",function(ht){var Yt=ht.target;if(z(Yt)){var tn=en.fromDom(Yt);ot(u.dom.select(".mce-clonedresizable"),function(On){u.dom.addClass(On,"mce-"+i0(u)+"-columns")}),!Ri(tn)&&iv(u)?Wh(tn):!Lb(tn)&&dt(u)&&Uh(tn),Hb(tn)&&Si(ht.origin,jp)&&Uh(tn),k=ht.width,R=Vh(u)?"":qc(u,Yt).getOr("")}}),u.on("ObjectResized",function(ht){var Yt=ht.target;if(z(Yt)){var tn=en.fromDom(Yt),On=ht.origin;Si(On,"corner-")&&Lt(tn,On,ht.width),pu(tn),Zc(u,tn.dom,om)}}),u.on("SwitchMode",function(){K().each(function(ht){u.mode.isReadOnly()?ht.hideBars():ht.showBars()})}),{lazyResize:K,lazyWire:ue,destroy:Tt}},sm=function(u,c){return{element:u,offset:c}},tw=function(u,c,h){return u.property().isText(c)&&u.property().getText(c).trim().length===0||u.property().isComment(c)?h(c).bind(function(w){return tw(u,w,h).orThunk(function(){return W.some(w)})}):W.none()},Gp=function(u,c){if(u.property().isText(c))return u.property().getText(c).length;var h=u.property().children(c);return h.length},nw=function(u,c){var h=tw(u,c,u.query().prevSibling).getOr(c);if(u.property().isText(h))return sm(h,Gp(u,h));var w=u.property().children(h);return w.length>0?nw(u,w[w.length-1]):sm(h,Gp(u,h))},x_=nw,u4=Cp(),k_=function(u){return x_(u4,u)},s4=function(u,c){var h=Ho(u,"colspan");if(h===1){var w=Ah(u);w.each(function(k){var R=k.value/2;Eh(u,R,k.unit),Eh(c,R,k.unit)})}},c0=Jo("th"),qp=function(u){return Ee(u,function(c){return c0(c.element)})},l4=function(u,c){return u&&c?"sectionCells":u?"section":"cells"},A_=function(u){var c=u.section==="thead",h=ec(rw(u.cells),"th");return c||h?{type:"header",subType:l4(c,h)}:u.section==="tfoot"?{type:"footer"}:{type:"body"}},rw=function(u){var c=lt(u,function(h){return c0(h.element)});return c.length===0?W.some("td"):c.length===u.length?W.some("th"):W.none()},c4=function(u){var c=at(u,function(R){return A_(R).type}),h=ut(c,"header"),w=ut(c,"footer");if(!h&&!w)return W.some("body");var k=ut(c,"body");return h&&!k&&!w?W.some("header"):!h&&!k&&w?W.some("footer"):W.none()},f4=function(u){return Rt(u.all,function(c){var h=A_(c);return h.type==="header"?W.from(h.subType):W.none()})},f0=function(u,c,h){return Li(h(u.element,c),!0,u.isLocked)},aw=function(u,c){return u.section!==c?Jl(u.element,u.cells,c,u.isNew):u},Bi=function(){return{transformRow:aw,transformCell:function(u,c,h){var w=h(u.element,c),k=ta(w)!=="td"?OA(w,"td"):w;return Li(k,u.isNew,u.isLocked)}}},Gh=function(){return{transformRow:aw,transformCell:f0}},qh=function(){return{transformRow:function(u,c){var h=c==="thead"?"tbody":c;return aw(u,h)},transformCell:f0}},E_=function(){return{transformRow:Be,transformCell:f0}},v4=function(u,c){var h=hr.fromTable(u),w=f4(h).getOr(c);switch(w){case"section":return Bi();case"sectionCells":return Gh();case"cells":return qh()}},Kp={getTableSectionType:v4,section:Bi,sectionCells:Gh,cells:qh,fallback:E_},Xp=function(u,c,h,w){h===w?Ba(u,c):Lo(u,c,h)},lm=function(u,c,h){Wt(lr(u,c)).fold(function(){return Ei(u,h)},function(w){return xa(w,h)})},v0=function(u,c){var h=jn(u,c).getOrThunk(function(){var w=en.fromTag(c,Nf(u).dom);return c==="thead"?lm(u,"caption,colgroup",w):c==="colgroup"?lm(u,"caption",w):ao(u,w),w});return yp(h),h},Yp=function(u,c){var h=[],w=[],k=function(Tt){return at(Tt,function(ht){ht.isNew&&h.push(ht.element);var Yt=ht.element;return yp(Yt),ot(ht.cells,function(tn){tn.isNew&&w.push(tn.element),Xp(tn.element,"colspan",tn.colspan,1),Xp(tn.element,"rowspan",tn.rowspan,1),ao(Yt,tn.element)}),Yt})},R=function(Tt){return Oe(Tt,function(ht){return at(ht.cells,function(Yt){return Xp(Yt.element,"span",Yt.colspan,1),Yt.element})})},z=function(Tt,ht){var Yt=v0(u,ht),tn=ht==="colgroup"?R:k,On=tn(Tt);ac(Yt,On)},K=function(Tt){jn(u,Tt).each(Pu)},ue=function(Tt,ht){Tt.length>0?z(Tt,ht):K(ht)},be=[],Pe=[],mt=[],Lt=[];return ot(c,function(Tt){switch(Tt.section){case"thead":be.push(Tt);break;case"tbody":Pe.push(Tt);break;case"tfoot":mt.push(Tt);break;case"colgroup":Lt.push(Tt);break}}),ue(Lt,"colgroup"),ue(be,"thead"),ue(Pe,"tbody"),ue(mt,"tfoot"),{newRows:h,newCells:w}},ow=function(u){return at(u,function(c){var h=Al(c.element);return ot(c.cells,function(w){var k=sa(w.element);Xp(k,"colspan",w.colspan,1),Xp(k,"rowspan",w.rowspan,1),ao(h,k)}),h})},d4=function(u,c){return at(u,function(h){return mu(h,c)})},ef=function(u,c){return u[c]},d0=function(u,c){if(u.length===0)return 0;var h=u[0],w=gt(u,function(k){return!c(h.element,k.element)});return w.getOr(u.length)},m4=function(u,c,h,w){var k=ef(u,c),R=k.section==="colgroup",z=d0(k.cells.slice(h),w),K=R?1:d0(d4(u.slice(c),h),w);return{colspan:z,rowspan:K}},ad=function(u,c){var h=at(u,function(k){return at(k.cells,Ge)}),w=function(k,R,z,K){for(var ue=k;ue<k+z;ue++)for(var be=R;be<R+K;be++)h[ue][be]=!0};return at(u,function(k,R){var z=Oe(k.cells,function(K,ue){if(h[R][ue]===!1){var be=m4(u,R,ue,c);return w(R,ue,be.rowspan,be.colspan),[br(K.element,be.rowspan,be.colspan,K.isNew)]}else return[]});return Pc(k.element,z,k.section,k.isNew)})},od=function(u,c,h){var w=[];ot(u.colgroups,function(Pe){for(var mt=[],Lt=0;Lt<u.grid.columns;Lt++){var Tt=hr.getColumnAt(u,Lt).map(function(ht){return Li(ht.element,h,!1)}).getOrThunk(function(){return Li(c.colGap(),!0,!1)});mt.push(Tt)}w.push(Jl(Pe.element,mt,"colgroup",h))});for(var k=0;k<u.grid.rows;k++){for(var R=[],z=0;z<u.grid.columns;z++){var K=hr.getAt(u,k,z).map(function(Pe){return Li(Pe.element,h,Pe.isLocked)}).getOrThunk(function(){return Li(c.gap(),!0,!1)});R.push(K)}var ue=u.all[k],be=Jl(ue.element,R,ue.section,h);w.push(be)}return w},h4=function(u,c){return od(u,c,!1)},m0=function(u){return ad(u,ea)},h0=function(u,c){return Rt(u.all,function(h){return Ue(h.cells,function(w){return ea(c,w.element)})})},g0=function(u,c,h){var w=at(c.selection,function(R){return nc(R).bind(function(z){return h0(u,z)}).filter(h)}),k=Mo(w);return ya(k.length>0,k)},ci=function(u,c,h,w,k){return function(R,z,K,ue,be){var Pe=hr.fromTable(z),mt=W.from(be==null?void 0:be.section).getOrThunk(Kp.fallback),Lt=c(Pe,K).map(function(Tt){var ht=h4(Pe,ue),Yt=u(ht,Tt,ea,k(ue),mt),tn=Ai(Yt.grid),On=m0(Yt.grid);return{info:Tt,grid:On,cursor:Yt.cursor,lockedColumns:tn}});return Lt.bind(function(Tt){var ht=Yp(z,Tt.grid),Yt=W.from(be==null?void 0:be.sizing).getOrThunk(function(){return ev.getTableSize(z)}),tn=W.from(be==null?void 0:be.resize).getOrThunk(Yd);return h(z,Tt.grid,Tt.info,{sizing:Yt,resize:tn,section:mt}),w(z),ei(R,z),Ba(z,Ao),Tt.lockedColumns.length>0&&Lo(z,Ao,Tt.lockedColumns.join(",")),W.some({cursor:Tt.cursor,newRows:ht.newRows,newCells:ht.newCells})})}},T_=function(u,c){return nc(c.element).bind(function(h){return h0(u,h).map(function(w){var k=zt(zt({},w),{generators:c.generators,clipboard:c.clipboard});return k})})},iw=function(u,c){return g0(u,c,se).map(function(h){return{cells:h,generators:c.generators,clipboard:c.clipboard}})},O_=function(u,c){return c.mergable},D_=function(u,c){return c.unmergable},mc=function(u,c){return g0(u,c,se)},uv=function(u,c){return g0(u,c,function(h){return!h.isLocked})},R_=function(u,c){return h0(u,c).exists(function(h){return!h.isLocked})},$_=function(u,c){return Ee(c,function(h){return R_(u,h)})},uw=function(u,c){return O_(u,c).filter(function(h){return $_(u,h.cells)})},p0=function(u,c){return D_(u,c).filter(function(h){return $_(u,h)})},B_=function(u,c,h,w){var k=bo(u).rows;if(k.length===0)return u;for(var R=c.startRow;R<=c.finishRow;R++)for(var z=c.startCol;z<=c.finishCol;z++){var K=k[R],ue=mu(K,z).isLocked;Fc(K,z,Li(w(),!1,ue))}return u},Kh=function(u,c,h,w){for(var k=bo(u).rows,R=!0,z=0;z<k.length;z++)for(var K=0;K<Es(k[0]);K++){var ue=k[z],be=mu(ue,K),Pe=be.element,mt=h(Pe,c);mt===!0&&R===!1?Fc(ue,K,Li(w(),!0,be.isLocked)):mt===!0&&(R=!1)}return u},g4=function(u,c){return te(u,function(h,w){return B(h,function(k){return c(k.element,w.element)})?h:h.concat([w])},[])},Jp=function(u,c,h,w){return c>0&&c<u[0].cells.length&&ot(u,function(k){var R=k.cells[c-1],z=k.cells[c],K=h(z.element,R.element);K&&Fc(k,c,Li(w(),!0,z.isLocked))}),u},p4=function(u,c,h,w){var k=bo(u).rows;if(c>0&&c<k.length){var R=k[c-1].cells,z=g4(R,h);ot(z,function(K){for(var ue=W.none(),be=c;be<k.length;be++)for(var Pe=function(Lt){var Tt=k[be],ht=mu(Tt,Lt),Yt=h(ht.element,K.element);Yt&&(ue.isNone()&&(ue=W.some(w())),ue.each(function(tn){Fc(Tt,Lt,Li(tn,!0,ht.isLocked))}))},mt=0;mt<Es(k[0]);mt++)Pe(mt)})}return u},Xh=function(u){var c=function(mt){return Xh(u)},h=function(mt){return Xh(u)},w=function(mt){return Xh(mt(u))},k=function(mt){return Xh(u)},R=function(mt){mt(u)},z=function(mt){return mt(u)},K=function(mt,Lt){return Lt(u)},ue=function(mt){return mt(u)},be=function(mt){return mt(u)},Pe=function(){return W.some(u)};return{isValue:se,isError:Ge,getOr:de(u),getOrThunk:de(u),getOrDie:de(u),or:c,orThunk:h,fold:K,map:w,mapError:k,each:R,bind:z,exists:ue,forall:be,toOptional:Pe}},cm=function(u){var c=function(be){return be()},h=function(){return xe(String(u))()},w=Be,k=function(be){return be()},R=function(be){return cm(u)},z=function(be){return cm(be(u))},K=function(be){return cm(u)},ue=function(be,Pe){return be(u)};return{isValue:Ge,isError:se,getOr:Be,getOrThunk:c,getOrDie:h,or:w,orThunk:k,fold:ue,map:R,mapError:z,each:Y,bind:K,exists:Ge,forall:se,toOptional:W.none}},sw=function(u,c){return u.fold(function(){return cm(c)},Xh)},M_={value:Xh,error:cm,fromOption:sw},b4=function(u,c,h){if(u.row>=c.length||u.column>Es(c[0]))return M_.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var w=c.slice(u.row),k=w[0].cells.slice(u.column),R=Es(h[0]),z=h.length;return M_.value({rowDelta:w.length-z,colDelta:k.length-R})},P_=function(u,c){var h=Es(u[0]),w=Es(c[0]);return{rowDelta:0,colDelta:h-w}},I_=function(u,c){var h=u.length,w=c.length;return{rowDelta:h-w,colDelta:0}},lw=function(u,c,h,w){var k=c.section==="colgroup"?h.col:h.cell;return kt(u,function(R){return Li(k(),!0,w(R))})},y4=function(u,c,h,w){var k=u[u.length-1];return u.concat(kt(c,function(){var R=k.section==="colgroup"?h.colgroup:h.row,z=Vo(k,R,Be),K=lw(z.cells.length,z,h,function(ue){return ie(w,ue.toString())});return Yn(z,K)}))},b0=function(u,c,h,w){return at(u,function(k){var R=lw(c,k,h,Ge);return Gf(k,w,R)})},w4=function(u,c,h){return at(u,function(w){return te(h,function(k,R){var z=lw(1,w,c,se)[0];return qf(k,R,z)},w)})},Zp=function(u,c,h){var w=c.colDelta<0?b0:Be,k=c.rowDelta<0?y4:Be,R=Ai(u),z=Es(u[0]),K=B(R,function(Pe){return Pe===z-1}),ue=w(u,Math.abs(c.colDelta),h,K?z-1:z),be=Ai(ue);return k(ue,Math.abs(c.rowDelta),h,tt(be,se))},C4=function(u,c,h,w){var k=mu(u[c],h),R=Se(w,k.element),z=u[c];return u.length>1&&Es(z)>1&&(h>0&&R(Wi(z,h-1))||h<z.cells.length-1&&R(Wi(z,h+1))||c>0&&R(Wi(u[c-1],h))||c<u.length-1&&R(Wi(u[c+1],h)))},S4=function(u,c,h,w,k,R){for(var z=u.row,K=u.column,ue=h.length,be=Es(h[0]),Pe=z+ue,mt=K+be+R.length,Lt=tt(R,se),Tt=z;Tt<Pe;Tt++)for(var ht=0,Yt=K;Yt<mt;Yt++){if(Lt[Yt]){ht++;continue}C4(c,Tt,Yt,k)&&Kh(c,Wi(c[Tt],Yt),k,w.cell);var tn=Yt-K-ht,On=mu(h[Tt-z],tn),jr=On.element,Tn=w.replace(jr);Fc(c[Tt],Yt,Li(Tn,!0,On.isLocked))}return c},_4=function(u,c,h){var w=Es(c[0]),k=bo(c).cols.length+u.row,R=kt(w-u.column,function(K){return K+u.column}),z=Ue(R,function(K){return Ee(h,function(ue){return ue!==K})}).getOr(w-1);return{row:k,column:z}},y0=function(u,c,h){return lt(h,function(w){return w>=u.column&&w<=Es(c[0])+u.column})},x4=function(u,c,h,w,k){var R=Ai(c),z=_4(u,c,R),K=bo(h).rows,ue=y0(z,K,R),be=b4(z,c,K);return be.map(function(Pe){var mt=zt(zt({},Pe),{colDelta:Pe.colDelta-ue.length}),Lt=Zp(c,mt,w),Tt=Ai(Lt),ht=y0(z,K,Tt);return S4(z,Lt,K,w,k,ht)})},Yh=function(u,c,h,w,k){Jp(c,u,k,w.cell);var R=I_(h,c),z=Zp(h,R,w),K=I_(c,z),ue=Zp(c,K,w);return at(ue,function(be,Pe){return Gf(be,u,z[Pe].cells)})},N_=function(u,c,h,w,k){p4(c,u,k,w.cell);var R=Ai(c),z=P_(c,h),K=zt(zt({},z),{colDelta:z.colDelta-R.length}),ue=Zp(c,K,w),be=bo(ue),Pe=be.cols,mt=be.rows,Lt=Ai(ue),Tt=P_(h,c),ht=zt(zt({},Tt),{colDelta:Tt.colDelta+Lt.length}),Yt=w4(h,w,Lt),tn=Zp(Yt,ht,w);return Pe.concat(mt.slice(0,u)).concat(tn).concat(mt.slice(u,mt.length))},k4=function(u,c,h,w){return Vo(u,function(k){return w(k,h)},c)},cw=function(u,c,h,w,k){var R=bo(u),z=R.rows,K=R.cols,ue=z.slice(0,c),be=z.slice(c),Pe=k4(z[h],function(mt,Lt){var Tt=c>0&&c<z.length&&w(Wi(z[c-1],Lt),Wi(z[c],Lt)),ht=Tt?mu(z[c],Lt):Li(k(mt.element,w),!0,mt.isLocked);return ht},w,k);return K.concat(ue).concat([Pe]).concat(be)},z_=function(u,c,h,w,k,R,z){if(h==="colgroup"||!w){var K=mu(u,k);return Li(z(K.element,R),!0,!1)}else return mu(u,c)},fw=function(u,c,h,w,k){return at(u,function(R){var z=c>0&&c<Es(R)&&w(Wi(R,c-1),Wi(R,c)),K=z_(R,c,R.section,z,h,w,k);return qf(R,c,K)})},F_=function(u,c){return Oe(u,function(h){var w=h.cells,k=Sn(c,function(R,z){return z>=0&&z<R.length?R.slice(0,z).concat(R.slice(z+1)):R},w);return k.length>0?[Jl(h.element,k,h.section,h.isNew)]:[]})},L_=function(u,c,h){var w=bo(u),k=w.rows,R=w.cols;return R.concat(k.slice(0,c)).concat(k.slice(h+1))},Jh=function(u,c,h,w){return Wi(u[c],h)!==void 0&&c>0&&w(Wi(u[c-1],h),Wi(u[c],h))},vw=function(u,c,h){return c>0&&h(Wi(u,c-1),Wi(u,c))},dw=function(u,c,h,w){return Jh(u,c,h,w)||vw(u[c],h,w)},A4=function(u,c){var h=Ee(c,Be)&&qp(u.cells);return h?se:function(w,k,R){var z=ta(w.element);return!(z==="th"&&c[R])}},E4=function(u,c){var h=Ee(c,Be)&&qp(u);return h?se:function(w,k,R){var z=ta(w.element);return!(z==="th"&&c[k])}},mw=function(u,c,h,w){var k=function(K){return K==="row"?hb(c):zd(c)},R=function(K){return k(K)?K+"group":K};if(u)return c0(c)?R(h):null;if(w&&c0(c)){var z=h==="row"?"col":"row";return R(z)}else return null},T4=function(u,c){return function(h,w,k){return W.some(mw(u,h.element,"col",c[k]))}},H_=function(u,c){return function(h,w){return W.some(mw(u,h.element,"row",c[w]))}},id=function(u,c,h){return Li(h(u.element,c),!0,u.isLocked)},Zh=function(u,c,h,w,k,R,z){var K=function(ue){return B(c,function(be){return h(ue.element,be.element)})};return at(u,function(ue,be){return As(ue,function(Pe,mt){if(K(Pe)){var Lt=z(Pe,be,mt)?k(Pe,h,w):Pe;return R(Lt,be,mt).each(function(Tt){Ff(Lt.element,{scope:W.from(Tt)})}),Lt}else return Pe})})},V_=function(u,c,h){return Oe(u,function(w,k){return dw(u,k,c,h)?[]:[mu(w,c)]})},O4=function(u,c,h){var w=u[c];return Oe(w.cells,function(k,R){return dw(u,c,R,h)?[]:[k]})},U_=function(u,c,h,w,k){var R=bo(u).rows,z=Oe(c,function(Pe){return V_(R,Pe,w)}),K=at(u,function(Pe){return qp(Pe.cells)}),ue=E4(z,K),be=H_(h,K);return Zh(u,z,w,k,id,be,ue)},D4=function(u,c,h,w,k,R,z){var K=bo(u),ue=K.cols,be=K.rows,Pe=be[c[0]],mt=Oe(c,function(On){return O4(be,On,k)}),Lt=at(Pe.cells,function(On,jr){return qp(V_(be,jr,k))}),Tt=rn([],be,!0);ot(c,function(On){Tt[On]=z.transformRow(be[On],h)});var ht=ue.concat(Tt),Yt=A4(Pe,Lt),tn=T4(w,Lt);return Zh(ht,mt,k,R,z.transformCell,tn,Yt)},hw=function(u,c,h,w){var k=bo(u).rows,R=at(c,function(z){return mu(k[z.row],z.column)});return Zh(u,R,h,w,id,W.none,se)},Qh=function(u){var c=function(h,w){var k=B(h,function(R){return R.column===w.column});return k?h:h.concat([w])};return te(u,c,[]).sort(function(h,w){return h.column-w.column})},au=Jo("col"),gw=Jo("colgroup"),eg=function(u){return ta(u)==="tr"||gw(u)},fm=function(u){var c=Qs(u,"colspan",1),h=Qs(u,"rowspan",1);return{element:u,colspan:c,rowspan:h}},w0=function(u,c){c===void 0&&(c=fm);var h=function(K){return au(K.element)?u.col(K):u.cell(K)},w=function(K){return gw(K.element)?u.colgroup(K):u.row(K)},k=function(K){if(eg(K))return w({element:K});var ue=h(c(K));return R=W.some({item:K,replacement:ue}),ue},R=W.none(),z=function(K,ue){return R.fold(function(){return k(K)},function(be){return ue(K,be.item)?be.replacement:k(K)})};return{getOrInit:z}},R4=function(u){return function(c){var h=[],w=function(z,K){return Ue(h,function(ue){return K(ue.item,z)})},k=function(z){var K=u==="td"?{scope:null}:{},ue=c.replace(z,u,K);return h.push({item:z,sub:ue}),ue},R=function(z,K){return eg(z)||au(z)?z:w(z,K).fold(function(){return k(z)},function(ue){return K(z,ue.item)?ue.sub:k(z)})};return{replaceOrInit:R}}},W_=function(u){return Kr(u,"scope").map(function(c){return c.substr(0,3)})},pw=function(u){var c=function(w){var k=W_(w);return k.each(function(R){return Lo(w,"scope",R)}),function(){var R=u.cell({element:w,colspan:1,rowspan:1});return ki(R,"width"),ki(w,"width"),k.each(function(z){return Lo(R,"scope",z)}),R}},h=function(w){var k=function(){var R=Mo(at(w,W_));if(R.length===0)return W.none();var z=R[0],K=["row","col"],ue=B(R,function(be){return be!==z&&ut(K,be)});return ue?W.none():W.from(z)};return ki(w[0],"width"),k().fold(function(){return Ba(w[0],"scope")},function(R){return Lo(w[0],"scope",R+"group")}),de(w[0])};return{unmerge:c,merge:h}},Lu={modification:w0,transform:R4,merging:pw},Qp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],$4=function(u,c){var h=u.property().name(c);return ut(["ol","ul"],h)},vm=function(u,c){var h=u.property().name(c);return ut(Qp,h)},ud=function(u,c){return ut(["br","img","hr","input"],u.property().name(c))},tg=Cp(),sd=function(u){return vm(tg,u)},hc=function(u){return $4(tg,u)},gc=function(u){return ud(tg,u)},C0=function(u){var c=function(ue){return ta(ue)==="br"},h=function(ue){return Ee(ue,function(be){return c(be)||Js(be)&&pb(be).trim().length===0})},w=function(ue){return ta(ue)==="li"||Xa(ue,hc).isSome()},k=function(ue){return je(ue).map(function(be){return sd(be)?!0:gc(be)?ta(be)!=="img":!1}).getOr(!1)},R=function(ue){return Ob(ue).bind(function(be){var Pe=k(be);return _o(be).map(function(mt){return Pe===!0||w(mt)||c(be)||sd(mt)&&!ea(ue,mt)?[]:[en.fromTag("br")]})}).getOr([])},z=function(){var ue=Oe(u,function(be){var Pe=ii(be);return h(Pe)?[]:Pe.concat(R(be))});return ue.length===0?[en.fromTag("br")]:ue},K=z();yp(u[0]),ac(u[0],K)},S0=function(u){return Np(u,!0)},bw=function(u){var c=jf(u);c.length===0&&Pu(u)},ng=function(u,c){return{grid:u,cursor:c}},rg=function(u){return Rt(u,function(c){return Rt(c.cells,function(h){var w=h.element;return ya(S0(w),w)})})},ag=function(u,c,h){var w,k,R=bo(u).rows;return W.from((k=(w=R[c])===null||w===void 0?void 0:w.cells[h])===null||k===void 0?void 0:k.element).filter(S0).orThunk(function(){return rg(R)})},Yi=function(u,c,h){var w=ag(u,c,h);return ng(u,w)},og=function(u){var c=function(h,w){var k=B(h,function(R){return R.row===w.row});return k?h:h.concat([w])};return te(u,c,[]).sort(function(h,w){return h.row-w.row})},ig=function(u,c,h,w){var k=c[0].row,R=og(c),z=Sn(R,function(K,ue){var be=cw(K.grid,k,ue.row+K.delta,h,w.getOrInit);return{grid:be,delta:K.delta+1}},{grid:u,delta:0}).grid;return Yi(z,k,c[0].column)},_0=function(u,c,h,w){var k=og(c),R=k[k.length-1],z=R.row+R.rowspan,K=Sn(k,function(ue,be){return cw(ue,z,be.row,h,w.getOrInit)},u);return Yi(K,z,c[0].column)},B4=function(u,c,h,w){var k=c.details,R=Qh(k),z=R[0].column,K=Sn(R,function(ue,be){var Pe=fw(ue.grid,z,be.column+ue.delta,h,w.getOrInit);return{grid:Pe,delta:ue.delta+1}},{grid:u,delta:0}).grid;return Yi(K,k[0].row,z)},yw=function(u,c,h,w){var k=c.details,R=k[k.length-1],z=R.column+R.colspan,K=Qh(k),ue=Sn(K,function(be,Pe){return fw(be,z,Pe.column,h,w.getOrInit)},u);return Yi(ue,k[0].row,z)},x0=function(u,c,h,w){var k=Qh(c),R=at(k,function(K){return K.column}),z=U_(u,R,!0,h,w.replaceOrInit);return Yi(z,c[0].row,c[0].column)},Mi=function(u,c,h,w){var k=hw(u,c,h,w.replaceOrInit);return Yi(k,c[0].row,c[0].column)},M4=function(u,c,h,w){var k=Qh(c),R=at(k,function(K){return K.column}),z=U_(u,R,!1,h,w.replaceOrInit);return Yi(z,c[0].row,c[0].column)},tf=function(u,c,h,w){var k=hw(u,c,h,w.replaceOrInit);return Yi(k,c[0].row,c[0].column)},k0=function(u,c){return function(h,w,k,R,z){var K=og(w),ue=at(K,function(Pe){return Pe.row}),be=D4(h,ue,u,c,k,R.replaceOrInit,z);return Yi(be,w[0].row,w[0].column)}},ww=k0("thead",!0),ug=k0("tbody",!1),Cw=k0("tfoot",!1),e1=function(u,c,h,w){var k=Qh(c.details),R=F_(u,at(k,function(K){return K.column})),z=R.length>0?R[0].cells.length-1:0;return Yi(R,k[0].row,Math.min(k[0].column,z))},P4=function(u,c,h,w){var k=og(c),R=L_(u,k[0].row,k[k.length-1].row),z=R.length>0?R.length-1:0;return Yi(R,Math.min(c[0].row,z),c[0].column)},j_=function(u,c,h,w){var k=c.cells;C0(k);var R=B_(u,c.bounds,h,w.merge(k));return ng(R,W.from(k[0]))},G_=function(u,c,h,w){var k=function(z,K){return Kh(z,K,h,w.unmerge(K))},R=Sn(c,k,u);return ng(R,W.from(c[0]))},I4=function(u,c,h,w){var k=function(ue,be){var Pe=hr.fromTable(ue);return od(Pe,be,!0)},R=k(c.clipboard,c.generators),z=aa(c.row,c.column),K=x4(z,u,R,c.generators,h);return K.fold(function(){return ng(u,W.some(c.element))},function(ue){return Yi(ue,c.row,c.column)})},sg=function(u,c,h){var w=pp(u,h.section),k=hr.generate(w);return od(k,c,!0)},ho=function(u,c,h,w){var k=bo(u).rows,R=c.cells[0].column,z=k[c.cells[0].row],K=sg(c.clipboard,c.generators,z),ue=Yh(R,u,K,c.generators,h);return Yi(ue,c.cells[0].row,c.cells[0].column)},A0=function(u,c,h,w){var k=bo(u).rows,R=c.cells[c.cells.length-1].column+c.cells[c.cells.length-1].colspan,z=k[c.cells[0].row],K=sg(c.clipboard,c.generators,z),ue=Yh(R,u,K,c.generators,h);return Yi(ue,c.cells[0].row,c.cells[0].column)},E0=function(u,c,h,w){var k=bo(u).rows,R=c.cells[0].row,z=k[R],K=sg(c.clipboard,c.generators,z),ue=N_(R,u,K,c.generators,h);return Yi(ue,c.cells[0].row,c.cells[0].column)},Sw=function(u,c,h,w){var k=bo(u).rows,R=c.cells[c.cells.length-1].row+c.cells[c.cells.length-1].rowspan,z=k[c.cells[0].row],K=sg(c.clipboard,c.generators,z),ue=N_(R,u,K,c.generators,h);return Yi(ue,c.cells[0].row,c.cells[0].column)},q_=function(u,c){var h=hr.fromTable(u),w=mc(h,c);return w.bind(function(k){var R=k[k.length-1],z=k[0].column,K=R.column+R.colspan,ue=Xn(at(h.all,function(be){return lt(be.cells,function(Pe){return Pe.column>=z&&Pe.column<K})}));return rw(ue)}).getOr("")},_w=function(u,c){var h=hr.fromTable(u),w=mc(h,c);return w.bind(rw).getOr("")},dm=function(u,c){var h=hr.fromTable(u),w=mc(h,c);return w.bind(function(k){var R=k[k.length-1],z=k[0].row,K=R.row+R.rowspan,ue=h.all.slice(z,K);return c4(ue)}).getOr("")},T0=function(u,c,h,w){return cc(u,c,h,w.sizing)},Hu=function(u,c,h,w){return l_(u,c,h,w.sizing,w.resize)},pc=function(u,c){return B(c,function(h){return h.column===0&&h.isLocked})},O0=function(u,c){return B(c,function(h){return h.column+h.colspan>=u.grid.columns&&h.isLocked})},sv=function(u,c){var h=Hd(u),w=Qh(c);return te(w,function(k,R){var z=h[R.column],K=z.map(Gi).getOr(0);return k+K},0)},Ml=function(u){return function(c,h){return mc(c,h).filter(function(w){var k=u?pc:O0;return!k(c,w)}).map(function(w){return{details:w,pixelDelta:sv(c,w)}})}},bc=function(u,c){return uv(u,c).map(function(h){return{details:h,pixelDelta:-sv(u,h)}})},ou=function(u){return function(c,h){return iw(c,h).filter(function(w){var k=u?pc:O0;return!k(c,w.cells)})}},ol=Lu.transform("th"),lg=Lu.transform("td"),nf=ci(ig,mc,Y,Y,Lu.modification),mm=ci(_0,mc,Y,Y,Lu.modification),K_=ci(B4,Ml(!0),Hu,Y,Lu.modification),X_=ci(yw,Ml(!1),Hu,Y,Lu.modification),N4=ci(e1,bc,Hu,bw,Lu.modification),z4=ci(P4,mc,Y,bw,Lu.modification),Y_=ci(x0,uv,Y,Y,ol),J_=ci(M4,uv,Y,Y,lg),Z_=ci(ww,uv,Y,Y,ol),F4=ci(ug,uv,Y,Y,lg),Q_=ci(Cw,uv,Y,Y,lg),L4=ci(Mi,uv,Y,Y,ol),ex=ci(tf,uv,Y,Y,lg),tx=ci(j_,uw,T0,Y,Lu.merging),xw=ci(G_,p0,T0,Y,Lu.merging),nx=ci(I4,T_,T0,Y,Lu.modification),H4=ci(ho,ou(!0),Y,Y,Lu.modification),Br=ci(A0,ou(!1),Y,Y,Lu.modification),hm=ci(E0,iw,Y,Y,Lu.modification),cg=ci(Sw,iw,Y,Y,Lu.modification),kw=q_,V4=_w,Vu=dm,U4=function(u,c,h){var w=function(mi){return ta(Gc(mi))==="table"},k=function(mi){return w(u)===!1||B2(mi).rows>1},R=function(mi){return w(u)===!1||B2(mi).columns>1},z=u0(u),K=K2(u)?Y:s4,ue=function(mi){switch(Bl(u)){case"section":return Kp.section();case"sectionCells":return Kp.sectionCells();case"cells":return Kp.cells();default:return Kp.getTableSectionType(mi,"section")}},be=function(mi,S1){return S1.cursor.fold(function(){var hv=jf(mi);return it(hv).filter(Ql).map(function(wc){c.clear(mi);var Hs=u.dom.createRng();return Hs.selectNode(wc.dom),u.selection.setRng(Hs),Lo(wc,"data-mce-selected","1"),Hs})},function(hv){var wc=k_(hv),Hs=u.dom.createRng();return Hs.setStart(wc.element.dom,wc.offset),Hs.setEnd(wc.element.dom,wc.offset),u.selection.setRng(Hs),c.clear(mi),W.some(Hs)})},Pe=function(mi,S1,hv,wc,Hs){return function(df,gy,Rg){Rg===void 0&&(Rg=!1),pu(df);var $g=wc(),Bg=en.fromDom(u.getDoc()),Cc=ir(hv,Bg,z),Mg={sizing:Z2(u,df),resize:K2(u)?Ib():Yd(),section:ue(df)};return S1(df)?mi($g,df,gy,Cc,Mg).bind(function(Pg){ot(Pg.newRows,function(Ig){e0(u,Ig.dom)}),ot(Pg.newCells,function(Ig){t0(u,Ig.dom)});var TC=be(df,Pg);return Ql(df)&&(pu(df),Rg||Zc(u,df.dom,Hs)),TC.map(function(Ig){return{rng:Ig,effect:Hs}})}):W.none()}},mt=Pe(z4,k,Y,h,Ga),Lt=Pe(N4,R,Y,h,Ga),Tt=Pe(nf,se,Y,h,Ga),ht=Pe(mm,se,Y,h,Ga),Yt=Pe(K_,se,K,h,Ga),tn=Pe(X_,se,K,h,Ga),On=Pe(tx,se,Y,h,Ga),jr=Pe(xw,se,Y,h,Ga),Tn=Pe(H4,se,Y,h,Ga),er=Pe(Br,se,Y,h,Ga),_r=Pe(hm,se,Y,h,Ga),wr=Pe(cg,se,Y,h,Ga),Co=Pe(nx,se,Y,h,e4),vi=Pe(L4,se,Y,h,Ga),di=Pe(ex,se,Y,h,Ga),zr=Pe(Y_,se,Y,h,Ga),rr=Pe(J_,se,Y,h,Ga),Dr=Pe(Z_,se,Y,h,Ga),fa=Pe(F4,se,Y,h,Ga),io=Pe(Q_,se,Y,h,Ga),mv=V4,ca=kw,ds=Vu;return{deleteRow:mt,deleteColumn:Lt,insertRowsBefore:Tt,insertRowsAfter:ht,insertColumnsBefore:Yt,insertColumnsAfter:tn,mergeCells:On,unmergeCells:jr,pasteColsBefore:Tn,pasteColsAfter:er,pasteRowsBefore:_r,pasteRowsAfter:wr,pasteCells:Co,makeCellsHeader:vi,unmakeCellsHeader:di,makeColumnsHeader:zr,unmakeColumnsHeader:rr,makeRowsHeader:Dr,makeRowsBody:fa,makeRowsFooter:io,getTableRowType:ds,getTableCellType:mv,getTableColType:ca}},gm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},ld=function(){return en.fromTag("th")},D0=function(){return en.fromTag("td")},R0=function(){return en.fromTag("col")},W4=function(u,c,h,w){for(var k=en.fromTag("tr"),R=0;R<u;R++){var z=w<c||R<h?ld():D0();R<h&&Lo(z,"scope","row"),w<c&&Lo(z,"scope","col"),ao(z,en.fromTag("br")),ao(k,z)}return k},rx=function(u){var c=en.fromTag("colgroup");return kt(u,function(){return ao(c,R0())}),c},$0=function(u,c,h,w){return kt(u,function(k){return W4(c,h,w,k)})},Aw=function(u,c,h,w,k,R){R===void 0&&(R=gm);var z=en.fromTag("table"),K=k!=="cells";zc(z,R.styles),ko(z,R.attributes),R.colGroups&&ao(z,rx(c));var ue=Math.min(u,h);if(K&&h>0){var be=en.fromTag("thead");ao(z,be);var Pe=k==="sectionCells"?ue:0,mt=$0(h,c,Pe,w);ac(be,mt)}var Lt=en.fromTag("tbody");ao(z,Lt);var Tt=K?u-ue:u,ht=K?0:h,Yt=$0(Tt,c,ht,w);return ac(Lt,Yt),z},fg=function(u){return u.dom.innerHTML},B0=function(u){var c=en.fromTag("div"),h=en.fromDom(u.dom.cloneNode(!0));return ao(c,h),fg(c)},j4=function(u,c){u.selection.select(c.dom,!0),u.selection.collapse(!0)},rf=function(u,c){rs(c,"td,th").each(Se(j4,u))},Ew=function(u,c){ot(ns(c,"tr"),function(h){e0(u,h.dom),ot(ns(h,"th,td"),function(w){t0(u,w.dom)})})},Tw=function(u){return S(u)&&u.indexOf("%")!==-1},vg=function(u,c,h,w,k){var R=a0(u),z={styles:R,attributes:Lp(u),colGroups:o0(u)};return u.undoManager.ignore(function(){var K=Aw(h,c,k,w,Bl(u),z);Lo(K,"data-mce-id","__mce");var ue=B0(K);u.insertContent(ue),u.addVisual()}),rs(Gc(u),'table[data-mce-id="__mce"]').map(function(K){return iv(u)?Wh(K):Vh(u)?s0(K):(dt(u)||Tw(R.width))&&Uh(K),pu(K),Ba(K,"data-mce-id"),Ew(u,K),rf(u,K),K.dom}).getOr(null)},Ow=function(u,c,h,w,k){w===void 0&&(w={});var R=function(ue){return L(ue)&&ue>0};if(R(c)&&R(h)){var z=w.headerRows||0,K=w.headerColumns||0;return vg(u,h,c,K,z)}else return console.error(k),null},t1=function(u){return function(){return u().fold(function(){return[]},function(c){return at(c,function(h){return h.dom})})}},ax=function(u){return function(c){var h=c.length>0?W.some(cs(c)):W.none();u(h)}},G4=function(u){return function(c,h,w){w===void 0&&(w={});var k=Ow(u,h,c,w,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),k}},af=function(u,c,h,w){return{insertTable:G4(u),setClipboardRows:ax(c.setRows),getClipboardRows:t1(c.getRows),setClipboardCols:ax(c.setColumns),getClipboardCols:t1(c.getColumns),resizeHandler:h,selectionTargets:w}},vs=function(u,c,h){var w=Qs(u,c,1);h===1||w<=1?Ba(u,c):Lo(u,c,Math.min(h,w))},Pi=function(u,c,h){if(hr.hasColumns(u)){var w=lt(hr.justColumns(u),function(z){return z.column>=c&&z.column<h}),k=at(w,function(z){var K=sa(z.element);return vs(K,"span",h-c),K}),R=en.fromTag("colgroup");return ac(R,k),[R]}else return[]},q4=function(u,c,h){return at(u.all,function(w){var k=lt(w.cells,function(K){return K.column>=c&&K.column<h}),R=at(k,function(K){var ue=sa(K.element);return vs(ue,"colspan",h-c),ue}),z=en.fromTag("tr");return ac(z,R),z})},Dw=function(u,c){var h=hr.fromTable(u),w=uv(h,c);return w.map(function(k){var R=k[k.length-1],z=k[0].column,K=R.column+R.colspan,ue=Pi(h,z,K),be=q4(h,z,K);return rn(rn([],ue,!0),be,!0)})},dg=function(u,c,h){var w=hr.fromTable(u),k=mc(w,c);return k.bind(function(R){var z=od(w,h,!1),K=bo(z).rows,ue=K.slice(R[0].row,R[R.length-1].row+R[R.length-1].rowspan),be=Oe(ue,function(mt){var Lt=lt(mt.cells,function(Tt){return!Tt.isLocked});return Lt.length>0?[zt(zt({},mt),{cells:Lt})]:[]}),Pe=m0(be);return ya(Pe.length>0,Pe)}).map(function(R){return ow(R)})},Rw=tinymce.util.Tools.resolve("tinymce.util.Tools"),n1=function(u,c,h){var w=u.select("td,th",c),k,R=function(z,K){for(var ue=0;ue<K.length;ue++){var be=u.getStyle(K[ue],h);if(typeof z>"u"&&(z=be),z!==be)return""}return z};return R(k,w)},$w=function(u,c,h){h&&u.formatter.apply("align"+h,{},c)},K4=function(u,c,h){h&&u.formatter.apply("valign"+h,{},c)},an=function(u,c){Rw.each("left center right".split(" "),function(h){u.formatter.remove("align"+h,{},c)})},Xo=function(u,c){Rw.each("top middle bottom".split(" "),function(h){u.formatter.remove("valign"+h,{},c)})},mg=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],fi=function(u){return{value:u}},il=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Bw=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,r1=function(u){return il.test(u)||Bw.test(u)},M0=function(u){return Kl(u,"#").toUpperCase()},P0=function(u){return r1(u)?W.some({value:M0(u)}):W.none()},I0=function(u){var c=u.toString(16);return(c.length===1?"0"+c:c).toUpperCase()},cd=function(u){var c=I0(u.red)+I0(u.green)+I0(u.blue);return fi(c)},a1=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Mw=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Pw=function(u,c,h,w){return{red:u,green:c,blue:h,alpha:w}},Iw=function(u,c,h,w){var k=parseInt(u,10),R=parseInt(c,10),z=parseInt(h,10),K=parseFloat(w);return Pw(k,R,z,K)},X4=function(u){if(u==="transparent")return W.some(Pw(0,0,0,0));var c=a1.exec(u);if(c!==null)return W.some(Iw(c[1],c[2],c[3],"1"));var h=Mw.exec(u);return h!==null?W.some(Iw(h[1],h[2],h[3],h[4])):W.none()},ox=function(u){return P0(u).orThunk(function(){return X4(u).map(cd)}).getOrThunk(function(){var c=document.createElement("canvas");c.height=1,c.width=1;var h=c.getContext("2d");h.clearRect(0,0,c.width,c.height),h.fillStyle="#FFFFFF",h.fillStyle=u,h.fillRect(0,0,1,1);var w=h.getImageData(0,0,1,1).data,k=w[0],R=w[1],z=w[2],K=w[3];return cd(Pw(k,R,z,K))})},lv=function(u){var c=u,h=function(){return c},w=function(k){c=k};return{get:h,set:w}},of=function(u){var c=lv(W.none()),h=function(){return c.get().each(u)},w=function(){h(),c.set(W.none())},k=function(){return c.get().isSome()},R=function(){return c.get()},z=function(K){h(),c.set(W.some(K))};return{clear:w,isSet:k,get:R,set:z}},pm=function(){return of(function(u){return u.unbind()})},hg=function(){var u=of(Y),c=function(h){return u.get().each(h)};return zt(zt({},u),{on:c})},Nw=function(u,c,h,w){return function(k){var R=pm(),z=lo(w),K=function(){var ue=Ki(c),be=function(Pe){return u.formatter.match(h,{value:w},Pe.dom,z)};z?(k.setActive(!B(ue,be)),R.set(u.formatter.formatChanged(h,function(Pe){return k.setActive(!Pe)},!0))):(k.setActive(Ee(ue,be)),R.set(u.formatter.formatChanged(h,k.setActive,!1,{value:w})))};return u.initialized?K():u.on("init",K),R.clear}},N0=function(u){return Ne(u,"menu")},uf=function(u){return at(u,function(c){var h=c.text||c.title;return N0(c)?{text:h,items:uf(c.menu)}:{text:h,value:c.value}})},Pl=function(u,c,h,w,k){return at(h,function(R){var z=R.text||R.title;return N0(R)?{type:"nestedmenuitem",text:z,getSubmenuItems:function(){return Pl(u,c,R.menu,w,k)}}:{text:z,type:"togglemenuitem",onAction:function(){return k(R.value)},onSetup:Nw(u,c,w,R.value)}})},fd=function(u,c){return function(h){var w;u.execCommand("mceTableApplyCellStyle",!1,(w={},w[c]=h,w))}},vd=function(u){return Oe(u,function(c){return N0(c)?[zt(zt({},c),{menu:vd(c.menu)})]:Pr(c.value)?[c]:[]})},bm=function(u,c,h,w,k){return function(R){return R(Pl(u,c,h,w,k))}},gg=function(u,c,h){var w=at(c,function(k){return{text:k.title,value:"#"+ox(k.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:w.length>0?w:void 0,allowCustomColors:!1},onAction:function(k){var R,z=k.value==="remove"?"":k.value;u.execCommand("mceTableApplyCellStyle",!1,(R={},R[h]=z,R))}}]},zw=function(u){return function(){var c=u.queryCommandValue("mceTableRowType"),h=c==="header"?"body":"header";u.execCommand("mceTableRowType",!1,{type:h})}},Fw=function(u){return function(){var c=u.queryCommandValue("mceTableColType"),h=c==="th"?"td":"th";u.execCommand("mceTableColType",!1,{type:h})}},Lw=function(u){var c=uf(Qc(u));return c.length>0?W.some({name:"class",type:"listbox",label:"Class",items:c}):W.none()},z0=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:mg}],Ii=function(u){return z0.concat(Lw(u).toArray())},Fs=function(u,c){var h=[{text:"Select...",value:""}],w=[{name:"borderstyle",type:"listbox",label:"Border style",items:h.concat(uf(nu(u)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],k={name:"borderwidth",type:"input",label:"Border width"},R=c==="cell"?[k].concat(w):w;return{title:"Advanced",name:"advanced",items:R}},ul=function(u){return function(c,h){var w=c.dom,k=function(K,ue){(!u||ue)&&w.setAttrib(h,K,ue)},R=function(K,ue){(!u||ue)&&w.setStyle(h,K,ue)},z=function(K,ue){(!u||ue)&&(ue===""?c.formatter.remove(K,{value:null},h,!0):c.formatter.apply(K,{value:ue},h))};return{setAttrib:k,setStyle:R,setFormat:z}}},sf={normal:ul(!1),ifTruthy:ul(!0)},pg=function(u){return function(c){return Si(c,"rgb")?u.toHex(c):c}},F0=function(u,c){var h=en.fromDom(c);return{borderwidth:du(h,"border-width").getOr(""),borderstyle:du(h,"border-style").getOr(""),bordercolor:du(h,"border-color").map(pg(u)).getOr(""),backgroundcolor:du(h,"background-color").map(pg(u)).getOr("")}},dd=function(u){var c=u[0],h=u.slice(1);return ot(h,function(w){ot(cu(c),function(k){Ra(w,function(R,z){var K=c[k];K!==""&&k===z&&K!==R&&(c[k]="")})})}),c},ym=function(u,c,h,w){return Ue(u,function(k){return!j(h.formatter.matchNode(w,c+k))}).getOr("")},wm=Se(ym,["left","center","right"],"align"),Y4=Se(ym,["top","middle","bottom"],"valign"),Hw=function(u,c){var h=a0(u),w=Lp(u),k=function(Pe){return{borderstyle:$u(h,"border-style").getOr(""),bordercolor:pg(Pe)($u(h,"border-color").getOr("")),backgroundcolor:pg(Pe)($u(h,"background-color").getOr(""))}},R={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},z=function(){var Pe=h["border-width"];return ru(u)&&Pe?{border:Pe}:$u(w,"border").fold(function(){return{}},function(mt){return{border:mt}})},K=c?k(u.dom):{},ue=function(){var Pe=$u(h,"border-spacing").or($u(w,"cellspacing")).fold(function(){return{}},function(Lt){return{cellspacing:Lt}}),mt=$u(h,"border-padding").or($u(w,"cellpadding")).fold(function(){return{}},function(Lt){return{cellpadding:Lt}});return zt(zt({},Pe),mt)},be=zt(zt(zt(zt(zt(zt({},R),h),w),K),z()),ue());return be},ix=function(u){return Wa(en.fromDom(u)).map(function(c){var h={selection:cs(u.cells)};return Vu(c,h)}).getOr("")},ux=function(u,c,h){var w=function(K,ue){var be=du(en.fromDom(ue),"border-width");return ru(u)&&be.isSome()?be.getOr(""):K.getAttrib(ue,"border")||n1(u.dom,ue,"border-width")||n1(u.dom,ue,"border")},k=u.dom,R=ru(u)?k.getStyle(c,"border-spacing")||k.getAttrib(c,"cellspacing"):k.getAttrib(c,"cellspacing")||k.getStyle(c,"border-spacing"),z=ru(u)?n1(k,c,"padding")||k.getAttrib(c,"cellpadding"):k.getAttrib(c,"cellpadding")||n1(k,c,"padding");return zt({width:k.getStyle(c,"width")||k.getAttrib(c,"width"),height:k.getStyle(c,"height")||k.getAttrib(c,"height"),cellspacing:R,cellpadding:z,border:w(k,c),caption:!!k.select("caption",c)[0],class:k.getAttrib(c,"class",""),align:wm(u,c)},h?F0(k,c):{})},Vw=function(u,c,h){var w=u.dom;return zt({height:w.getStyle(c,"height")||w.getAttrib(c,"height"),class:w.getAttrib(c,"class",""),type:ix(c),align:wm(u,c)},h?F0(w,c):{})},Uw=function(u,c,h,w){var k=u.dom,R=w.getOr(c),z=function(K,ue){return k.getStyle(K,ue)||k.getAttrib(K,ue)};return zt({width:z(R,"width"),height:z(c,"height"),scope:k.getAttrib(c,"scope"),celltype:A2(c),class:k.getAttrib(c,"class",""),halign:wm(u,c),valign:Y4(u,c)},h?F0(k,c):{})},pa=function(u,c){var h=hr.fromTable(u),w=hr.justCells(h),k=lt(w,function(R){return B(c,function(z){return ea(R.element,z)})});return at(k,function(R){return{element:R.element.dom,column:hr.getColumnAt(h,R.column).map(function(z){return z.element.dom})}})},lf=function(u,c,h){u.setAttrib("scope",h.scope),u.setAttrib("class",h.class),u.setStyle("height",Zo(h.height)),c.setStyle("width",Zo(h.width))},sx=function(u,c){u.setFormat("tablecellbackgroundcolor",c.backgroundcolor),u.setFormat("tablecellbordercolor",c.bordercolor),u.setFormat("tablecellborderstyle",c.borderstyle),u.setFormat("tablecellborderwidth",Zo(c.borderwidth))},lx=function(u,c,h){var w=c.length===1;ot(c,function(k){var R=k.element,z=w?sf.normal(u,R):sf.ifTruthy(u,R),K=k.column.map(function(ue){return w?sf.normal(u,ue):sf.ifTruthy(u,ue)}).getOr(z);lf(z,K,h),Vp(u)&&sx(z,h),w&&(an(u,R),Xo(u,R)),h.halign&&$w(u,R,h.halign),h.valign&&K4(u,R,h.valign)})},cx=function(u,c){u.execCommand("mceTableCellType",!1,{type:c.celltype,no_events:!0})},L0=function(u,c,h,w){var k=Cl(w,function(R,z){return h[z]!==R});_s(k)>0&&c.length>=1&&Wa(c[0]).each(function(R){var z=pa(R,c),K=_s(Cl(k,function(be,Pe){return Pe!=="scope"&&Pe!=="celltype"}))>0,ue=ie(k,"celltype");(K||ie(k,"scope"))&&lx(u,z,w),ue&&cx(u,w),Zc(u,R.dom,{structure:ue,style:K})})},Ww=function(u,c,h,w){var k=w.getData();w.close(),u.undoManager.transact(function(){L0(u,c,h,k),u.focus()})},o1=function(u,c){var h=Wa(c[0]).map(function(w){return at(pa(w,c),function(k){return Uw(u,k.element,Vp(u),k.column)})});return dd(h.getOrDie())},Un=function(u,c){var h=Ki(c);if(h.length!==0){var w=o1(u,h),k={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ii(u)},Fs(u,"cell")]},R={type:"panel",items:[{type:"grid",columns:2,items:Ii(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:Vp(u)?k:R,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onSubmit:Se(Ww,u,h,w)})}},J4=function(u){var c=uf(rd(u));return c.length>0?W.some({name:"class",type:"listbox",label:"Class",items:c}):W.none()},jw=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],fx=function(u){return jw.concat(J4(u).toArray())},Gw=function(u,c){u.setAttrib("class",c.class),u.setStyle("height",Zo(c.height))},Z4=function(u,c){u.setStyle("background-color",c.backgroundcolor),u.setStyle("border-color",c.bordercolor),u.setStyle("border-style",c.borderstyle)},vx=function(u,c,h,w){var k=c.length===1;ot(c,function(R){var z=k?sf.normal(u,R):sf.ifTruthy(u,R);Gw(z,h),Up(u)&&Z4(z,h),h.align!==w.align&&(an(u,R),$w(u,R,h.align))})},qw=function(u,c){u.execCommand("mceTableRowType",!1,{type:c.type,no_events:!0})},Kw=function(u,c,h,w){var k=Cl(w,function(K,ue){return h[ue]!==K});if(_s(k)>0){var R=ie(k,"type"),z=R?_s(k)>1:!0;z&&vx(u,c,w,h),R&&qw(u,w),Wa(en.fromDom(c[0])).each(function(K){return Zc(u,K.dom,{structure:R,style:z})})}},Q4=function(u,c,h,w){var k=w.getData();w.close(),u.undoManager.transact(function(){Kw(u,c,h,k),u.focus()})},Ls=function(u){var c=i_(Kd(u),Is.selected);if(c.length!==0){var h=at(c,function(z){return Vw(u,z.dom,Up(u))}),w=dd(h),k={type:"tabpanel",tabs:[{title:"General",name:"general",items:fx(u)},Fs(u,"row")]},R={type:"panel",items:[{type:"grid",columns:2,items:fx(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:Up(u)?k:R,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onSubmit:Se(Q4,u,at(c,function(z){return z.dom}),w)})}},xu=function(u,c,h){var w=h?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],k=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],R=dc(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],z=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],K=c.length>0?[{type:"listbox",name:"class",label:"Class",items:c}]:[];return w.concat(k).concat(R).concat(z).concat(K)},cf=function(u,c,h,w){if(c.tagName==="TD"||c.tagName==="TH")S(h)?u.setStyle(c,h,w):u.setStyle(c,h);else if(c.children)for(var k=0;k<c.children.length;k++)cf(u,c.children[k],h,w)},eE=function(u,c,h){var w=u.dom,k={},R={};if(k.class=h.class,R.height=Zo(h.height),w.getAttrib(c,"width")&&!ru(u)?k.width=jv(h.width):R.width=Zo(h.width),ru(u)?(R["border-width"]=Zo(h.border),R["border-spacing"]=Zo(h.cellspacing)):(k.border=h.border,k.cellpadding=h.cellpadding,k.cellspacing=h.cellspacing),ru(u)&&c.children)for(var z=0;z<c.children.length;z++)cf(w,c.children[z],{"border-width":Zo(h.border),padding:Zo(h.cellpadding)}),_u(u)&&cf(w,c.children[z],{"border-color":h.bordercolor});_u(u)&&(R["background-color"]=h.backgroundcolor,R["border-color"]=h.bordercolor,R["border-style"]=h.borderstyle),k.style=w.serializeStyle(zt(zt({},a0(u)),R)),w.setAttribs(c,zt(zt({},Lp(u)),k))},tE=function(u,c,h,w){var k=u.dom,R=w.getData(),z=Cl(R,function(K,ue){return h[ue]!==K});w.close(),R.class===""&&delete R.class,u.undoManager.transact(function(){if(!c){var K=parseInt(R.cols,10)||1,ue=parseInt(R.rows,10)||1;c=vg(u,K,ue,0,0)}if(_s(z)>0){eE(u,c,R);var be=k.select("caption",c)[0];(be&&!R.caption||!be&&R.caption)&&u.execCommand("mceTableToggleCaption"),R.align===""?an(u,c):$w(u,c,R.align)}if(u.focus(),u.addVisual(),_s(z)>0){var Pe=ie(z,"caption"),mt=Pe?_s(z)>1:!0;Zc(u,c,{structure:Pe,style:mt})}})},Xw=function(u,c){var h=u.dom,w,k=Hw(u,_u(u));c===!1?(w=h.getParent(u.selection.getStart(),"table",u.getBody()),w?k=ux(u,w,_u(u)):_u(u)&&(k.borderstyle="",k.bordercolor="",k.backgroundcolor="")):(k.cols="1",k.rows="1",_u(u)&&(k.borderstyle="",k.bordercolor="",k.backgroundcolor=""));var R=uf(Wp(u));R.length>0&&k.class&&(k.class=k.class.replace(/\s*mce\-item\-table\s*/g,""));var z={type:"grid",columns:2,items:xu(u,R,c)},K=function(){return{type:"panel",items:[z]}},ue=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[z]},Fs(u,"table")]}},be=_u(u)?ue():K();u.windowManager.open({title:"Table Properties",size:"normal",body:be,onSubmit:Se(tE,u,w,k),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:k})},Sr=function(u){return Ja(Kd(u),Ps(u))},nE=function(u){return Di(Kd(u),Ps(u))},H0=function(u,c,h,w,k){var R=Ps(u),z=function(){return Sr(u).each(function(Tn){Wa(Tn,R).filter(Te(R)).each(function(er){var _r=en.fromText("");if(xa(er,_r),Pu(er),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var wr=u.dom.createRng();wr.setStart(_r.dom,0),wr.setEnd(_r.dom,0),u.selection.setRng(wr),u.nodeChanged()}})})},K=function(Tn){return Sr(u).each(function(er){var _r=Vh(u)||iv(u)||dt(u);_r||Wa(er,R).each(function(wr){Tn==="relative"&&!Lb(wr)?Uh(wr):Tn==="fixed"&&!Ri(wr)?Wh(wr):Tn==="responsive"&&!Hb(wr)&&s0(wr),pu(wr),Zc(u,wr.dom,Ga)})})},ue=function(Tn){return Wa(Tn,R)},be=function(Tn){return nE(u).bind(function(er){return ue(er).map(function(_r){return Tn(_r,er)})})},Pe=function(Tn,er){be(function(_r){u.formatter.toggle("tableclass",{value:er},_r.dom),Zc(u,_r.dom,om)})},mt=function(Tn,er){be(function(_r){var wr=Ki(w),Co=Ee(wr,function(di){return u.formatter.match("tablecellclass",{value:er},di.dom)}),vi=Co?u.formatter.remove:u.formatter.apply;ot(wr,function(di){return vi("tablecellclass",{value:er},di.dom)}),Zc(u,_r.dom,om)})},Lt=function(){Sr(u).each(function(Tn){Wa(Tn,R).each(function(er){jn(er,"caption").fold(function(){var _r=en.fromTag("caption");ao(_r,en.fromText("Caption")),SA(er,_r,0),u.selection.setCursorLocation(_r.dom,0)},function(_r){Jo("caption")(Tn)&&Mf("td",er).each(function(wr){return u.selection.setCursorLocation(wr.dom,0)}),Pu(_r)}),Zc(u,er.dom,Ga)})})},Tt=function(Tn){u.focus()},ht=function(Tn,er){return er===void 0&&(er=!1),be(function(_r,wr){var Co=Xd(w,_r,wr);Tn(_r,Co,er).each(Tt)})},Yt=function(){return be(function(Tn,er){var _r=Xd(w,Tn,er),wr=ir(Y,en.fromDom(u.getDoc()),W.none());return dg(Tn,_r,wr)})},tn=function(){return be(function(Tn,er){var _r=Xd(w,Tn,er);return Dw(Tn,_r)})},On=function(Tn,er){return er().each(function(_r){var wr=at(_r,function(Co){return sa(Co)});be(function(Co,vi){var di=Ms(en.fromDom(u.getDoc())),zr=T2(w,vi,wr,di);Tn(Co,zr).each(Tt)})})},jr=function(Tn){return function(er,_r){return $u(_r,"type").each(function(wr){ht(Tn(wr),_r.no_events)})}};Ra({mceTableSplitCells:function(){return ht(c.unmergeCells)},mceTableMergeCells:function(){return ht(c.mergeCells)},mceTableInsertRowBefore:function(){return ht(c.insertRowsBefore)},mceTableInsertRowAfter:function(){return ht(c.insertRowsAfter)},mceTableInsertColBefore:function(){return ht(c.insertColumnsBefore)},mceTableInsertColAfter:function(){return ht(c.insertColumnsAfter)},mceTableDeleteCol:function(){return ht(c.deleteColumn)},mceTableDeleteRow:function(){return ht(c.deleteRow)},mceTableCutCol:function(){return tn().each(function(Tn){k.setColumns(Tn),ht(c.deleteColumn)})},mceTableCutRow:function(){return Yt().each(function(Tn){k.setRows(Tn),ht(c.deleteRow)})},mceTableCopyCol:function(){return tn().each(function(Tn){return k.setColumns(Tn)})},mceTableCopyRow:function(){return Yt().each(function(Tn){return k.setRows(Tn)})},mceTablePasteColBefore:function(){return On(c.pasteColsBefore,k.getColumns)},mceTablePasteColAfter:function(){return On(c.pasteColsAfter,k.getColumns)},mceTablePasteRowBefore:function(){return On(c.pasteRowsBefore,k.getRows)},mceTablePasteRowAfter:function(){return On(c.pasteRowsAfter,k.getRows)},mceTableDelete:z,mceTableCellToggleClass:mt,mceTableToggleClass:Pe,mceTableToggleCaption:Lt,mceTableSizingMode:function(Tn,er){return K(er)},mceTableCellType:jr(function(Tn){return Tn==="th"?c.makeCellsHeader:c.unmakeCellsHeader}),mceTableColType:jr(function(Tn){return Tn==="th"?c.makeColumnsHeader:c.unmakeColumnsHeader}),mceTableRowType:jr(function(Tn){switch(Tn){case"header":return c.makeRowsHeader;case"footer":return c.makeRowsFooter;default:return c.makeRowsBody}})},function(Tn,er){return u.addCommand(er,Tn)}),Ra({mceTableProps:Se(Xw,u,!1),mceTableRowProps:Se(Ls,u),mceTableCellProps:Se(Un,u,w)},function(Tn,er){return u.addCommand(er,function(){return Tn()})}),u.addCommand("mceInsertTable",function(Tn,er){_(er)&&cu(er).length>0?Ow(u,er.rows,er.columns,er.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Xw(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(Tn,er){var _r=function(vi){return"tablecell"+vi.toLowerCase().replace("-","")};if(_(er)){var wr=Ki(w);if(wr.length!==0){var Co=Cl(er,function(vi,di){return u.formatter.has(_r(di))&&S(vi)});Ye(Co)||(Ra(Co,function(vi,di){ot(wr,function(zr){sf.normal(u,zr.dom).setFormat(_r(di),vi)})}),ue(wr[0]).each(function(vi){return Zc(u,vi.dom,om)}))}}})},V0=function(u,c,h){var w=Ps(u),k=function(R){return Di(Kd(u)).bind(function(z){return Wa(z,w).map(function(K){var ue=Xd(h,K,z);return R(K,ue)})}).getOr("")};Ra({mceTableRowType:function(){return k(c.getTableRowType)},mceTableCellType:function(){return k(c.getTableCellType)},mceTableColType:function(){return k(c.getTableColType)}},function(R,z){return u.addQueryValueHandler(z,R)})},U0=function(){var u=hg(),c=hg();return{getRows:u.get,setRows:function(h){h.fold(u.clear,u.set),c.clear()},clearRows:u.clear,getColumns:c.get,setColumns:function(h){h.fold(c.clear,c.set),u.clear()},clearColumns:c.clear}},i1={remove_similar:!0,inherit:!1},cv=zt({selector:"td,th"},i1),u1={tablecellbackgroundcolor:zt({styles:{backgroundColor:"%value"}},cv),tablecellverticalalign:zt({styles:{"vertical-align":"%value"}},cv),tablecellbordercolor:zt({styles:{borderColor:"%value"}},cv),tablecellclass:zt({classes:["%value"]},cv),tableclass:zt({selector:"table",classes:["%value"]},i1),tablecellborderstyle:zt({styles:{borderStyle:"%value"}},cv),tablecellborderwidth:zt({styles:{borderWidth:"%value"}},cv)},rE=function(u){u.formatter.register(u1)},dx=Hc.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Yw=function(u){return u===void 0&&(u=void 0),dx.none(u)},md=zt(zt({},dx),{none:Yw}),W0=function(u,c,h,w,k){k===void 0&&(k=se);var R=w===1;if(!R&&h<=0)return md.first(u[0]);if(R&&h>=u.length-1)return md.last(u[u.length-1]);var z=h+w,K=u[z];return k(K)?md.middle(c,K):W0(u,c,z,w,k)},mx=function(u,c){return Wa(u,c).bind(function(h){var w=jf(h),k=gt(w,function(R){return ea(u,R)});return k.map(function(R){return{index:R,all:w}})})},aE=function(u,c,h){var w=mx(u,h);return w.fold(function(){return md.none(u)},function(k){return W0(k.all,u,k.index,1,c)})},oE=function(u,c,h){var w=mx(u,h);return w.fold(function(){return md.none()},function(k){return W0(k.all,u,k.index,-1,c)})},iE=function(u,c,h,w){return{start:u,soffset:c,finish:h,foffset:w}},Cm={create:iE},Jw=Hc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Pn=function(u,c,h,w){return u.fold(c,h,w)},hx=function(u){return u.fold(Be,Be,Be)},gx=Jw.before,uE=Jw.on,s1=Jw.after,iu={before:gx,on:uE,after:s1,cata:Pn,getStart:hx},l1=Hc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),sE=function(u){return l1.exact(u.start,u.soffset,u.finish,u.foffset)},px=function(u){return u.match({domRange:function(c){return en.fromDom(c.startContainer)},relative:function(c,h){return iu.getStart(c)},exact:function(c,h,w,k){return c}})},Zw=l1.domRange,Qw=l1.relative,bx=l1.exact,eC=function(u){var c=px(u);return ch(c)},tC=Cm.create,fv={domRange:Zw,relative:Qw,exact:bx,exactFromRange:sE,getWin:eC,range:tC},lE=function(u,c){var h=u.document.createRange();return h.selectNode(c.dom),h},cE=function(u,c){var h=u.document.createRange();return yx(h,c),h},yx=function(u,c){return u.selectNodeContents(c.dom)},fE=function(u,c){c.fold(function(h){u.setStartBefore(h.dom)},function(h,w){u.setStart(h.dom,w)},function(h){u.setStartAfter(h.dom)})},c1=function(u,c){c.fold(function(h){u.setEndBefore(h.dom)},function(h,w){u.setEnd(h.dom,w)},function(h){u.setEndAfter(h.dom)})},na=function(u,c,h){var w=u.document.createRange();return fE(w,c),c1(w,h),w},j0=function(u,c,h,w,k){var R=u.document.createRange();return R.setStart(c.dom,h),R.setEnd(w.dom,k),R},vv=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},Il=function(u){var c=u.getClientRects(),h=c.length>0?c[0]:u.getBoundingClientRect();return h.width>0||h.height>0?W.some(h).map(vv):W.none()},hd=Hc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Uu=function(u,c,h){return c(en.fromDom(h.startContainer),h.startOffset,en.fromDom(h.endContainer),h.endOffset)},G0=function(u,c){return c.match({domRange:function(h){return{ltr:de(h),rtl:W.none}},relative:function(h,w){return{ltr:pn(function(){return na(u,h,w)}),rtl:pn(function(){return W.some(na(u,w,h))})}},exact:function(h,w,k,R){return{ltr:pn(function(){return j0(u,h,w,k,R)}),rtl:pn(function(){return W.some(j0(u,k,R,h,w))})}}})},Sm=function(u,c){var h=c.ltr();if(h.collapsed){var w=c.rtl().filter(function(k){return k.collapsed===!1});return w.map(function(k){return hd.rtl(en.fromDom(k.endContainer),k.endOffset,en.fromDom(k.startContainer),k.startOffset)}).getOrThunk(function(){return Uu(u,hd.ltr,h)})}else return Uu(u,hd.ltr,h)},bg=function(u,c){var h=G0(u,c);return Sm(u,h)},gd=function(u,c){var h=bg(u,c);return h.match({ltr:function(w,k,R,z){var K=u.document.createRange();return K.setStart(w.dom,k),K.setEnd(R.dom,z),K},rtl:function(w,k,R,z){var K=u.document.createRange();return K.setStart(R.dom,z),K.setEnd(w.dom,k),K}})};hd.ltr,hd.rtl;var vE=function(u,c,h,w,k){if(k===0)return 0;if(c===w)return k-1;for(var R=w,z=1;z<k;z++){var K=u(z),ue=Math.abs(c-K.left);if(h<=K.bottom){if(h<K.top||ue>R)return z-1;R=ue}}return 0},wx=function(u,c,h){return c>=u.left&&c<=u.right&&h>=u.top&&h<=u.bottom},dE=function(u,c,h,w,k){var R=function(be){var Pe=u.dom.createRange();return Pe.setStart(c.dom,be),Pe.collapse(!0),Pe},z=function(be){var Pe=R(be);return Pe.getBoundingClientRect()},K=pb(c).length,ue=vE(z,h,w,k.right,K);return R(ue)},mE=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getClientRects(),z=Rt(R,function(K){return wx(K,h,w)?W.some(K):W.none()});return z.map(function(K){return dE(u,c,h,w,K)})},yr=function(u,c,h,w){var k=u.dom.createRange(),R=ii(c);return Rt(R,function(z){return k.selectNode(z.dom),wx(k.getBoundingClientRect(),h,w)?Nl(u,z,h,w):W.none()})},Nl=function(u,c,h,w){return Js(c)?mE(u,c,h,w):yr(u,c,h,w)},yg=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getBoundingClientRect(),z=Math.max(R.left,Math.min(R.right,h)),K=Math.max(R.top,Math.min(R.bottom,w));return Nl(u,c,z,K)},Cx=!0,f1=!1,Mr=function(u,c){return c-u.left<u.right-c?Cx:f1},Sx=function(u,c,h){var w=u.dom.createRange();return w.selectNode(c.dom),w.collapse(h),w},_x=function(u,c,h){var w=u.dom.createRange();w.selectNode(c.dom);var k=w.getBoundingClientRect(),R=Mr(k,h),z=R===Cx?Tb:Ob;return z(c).map(function(K){return Sx(u,K,R)})},v1=function(u,c,h){var w=c.dom.getBoundingClientRect(),k=Mr(w,h);return W.some(Sx(u,c,k))},xx=function(u,c,h){var w=ii(c).length===0?v1:_x;return w(u,c,h)},d1=function(u,c,h){var w,k;return W.from((k=(w=u.dom).caretPositionFromPoint)===null||k===void 0?void 0:k.call(w,c,h)).bind(function(R){if(R.offsetNode===null)return W.none();var z=u.dom.createRange();return z.setStart(R.offsetNode,R.offset),z.collapse(),W.some(z)})},_m=function(u,c,h){var w,k;return W.from((k=(w=u.dom).caretRangeFromPoint)===null||k===void 0?void 0:k.call(w,c,h))},nC=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getBoundingClientRect(),z=Math.max(R.left,Math.min(R.right,h)),K=Math.max(R.top,Math.min(R.bottom,w));return yg(u,c,z,K)},rC=function(u,c,h){return en.fromPoint(u,c,h).bind(function(w){var k=function(){return xx(u,w,c)};return ii(w).length===0?k():nC(u,w,c,h).orThunk(k)})},kx=function(){return document.caretPositionFromPoint?d1:document.caretRangeFromPoint?_m:rC}(),Ax=function(u,c,h){var w=en.fromDom(u.document);return kx(w,c,h).map(function(k){return Cm.create(en.fromDom(k.startContainer),k.startOffset,en.fromDom(k.endContainer),k.endOffset)})},pd=function(u,c){var h=ta(u);return h==="input"?iu.after(u):ut(["br","img"],h)?c===0?iu.before(u):iu.after(u):iu.on(u,c)},xm=function(u,c){var h=u.fold(iu.before,pd,iu.after),w=c.fold(iu.before,pd,iu.after);return fv.relative(h,w)},aC=function(u,c,h,w){var k=pd(u,c),R=pd(h,w);return fv.relative(k,R)},Ex=function(u){return u.match({domRange:function(c){var h=en.fromDom(c.startContainer),w=en.fromDom(c.endContainer);return aC(h,c.startOffset,w,c.endOffset)},relative:xm,exact:aC})},q0=function(u,c,h,w){var k=Nf(u),R=k.dom.createRange();return R.setStart(u.dom,c),R.setEnd(h.dom,w),R},hE=function(u,c,h,w){var k=q0(u,c,h,w),R=ea(u,h)&&c===w;return k.collapsed&&!R},wg=function(u){return W.from(u.getSelection())},oC=function(u,c){wg(u).each(function(h){h.removeAllRanges(),h.addRange(c)})},iC=function(u,c,h,w,k){var R=j0(u,c,h,w,k);oC(u,R)},Tx=function(u,c,h,w,k,R){c.collapse(h.dom,w),c.extend(k.dom,R)},uC=function(u,c){return bg(u,c).match({ltr:function(h,w,k,R){iC(u,h,w,k,R)},rtl:function(h,w,k,R){wg(u).each(function(z){if(z.setBaseAndExtent)z.setBaseAndExtent(h.dom,w,k.dom,R);else if(z.extend)try{Tx(u,z,h,w,k,R)}catch{iC(u,k,R,h,w)}else iC(u,k,R,h,w)})}})},K0=function(u,c,h,w,k){var R=aC(c,h,w,k);uC(u,R)},X0=function(u,c,h){var w=xm(c,h);uC(u,w)},sC=function(u){var c=fv.getWin(u).dom,h=function(k,R,z,K){return j0(c,k,R,z,K)},w=Ex(u);return bg(c,w).match({ltr:h,rtl:h})},lC=function(u){if(u.rangeCount>0){var c=u.getRangeAt(0),h=u.getRangeAt(u.rangeCount-1);return W.some(Cm.create(en.fromDom(c.startContainer),c.startOffset,en.fromDom(h.endContainer),h.endOffset))}else return W.none()},Ox=function(u){if(u.anchorNode===null||u.focusNode===null)return lC(u);var c=en.fromDom(u.anchorNode),h=en.fromDom(u.focusNode);return hE(c,u.anchorOffset,h,u.focusOffset)?W.some(Cm.create(c,u.anchorOffset,h,u.focusOffset)):lC(u)},km=function(u,c,h){h===void 0&&(h=!0);var w=h?cE:lE,k=w(u,c);oC(u,k)},Cg=function(u){return wg(u).filter(function(c){return c.rangeCount>0}).bind(Ox)},Dx=function(u){return Cg(u).map(function(c){return fv.exact(c.start,c.soffset,c.finish,c.foffset)})},Rx=function(u,c){var h=gd(u,c);return Il(h)},Y0=function(u,c,h){return Ax(u,c,h)},$x=function(u){wg(u).each(function(c){return c.removeAllRanges()})},Bx=tinymce.util.Tools.resolve("tinymce.util.VK"),cC=function(u,c,h){return Ix(u,c,aE(h,Np))},Mx=function(u,c,h){return Ix(u,c,oE(h,Np))},Px=function(u,c){var h=fv.exact(c,0,c,0);return sC(h)},Ix=function(u,c,h){return h.fold(W.none,W.none,function(w,k){return Tb(k).map(function(R){return Px(u,R)})},function(w){return u.execCommand("mceTableInsertRowAfter"),cC(u,c,w)})},gE=["table","li","dl"],Nx=function(u,c,h){if(u.keyCode===Bx.TAB){var w=Gc(c),k=function(K){var ue=ta(K);return ea(K,w)||ut(gE,ue)},R=c.selection.getRng(),z=en.fromDom(u.shiftKey?R.startContainer:R.endContainer);nc(z,k).each(function(K){u.preventDefault(),Wa(K,k).each(h.clear),c.selection.collapse(u.shiftKey);var ue=u.shiftKey?Mx:cC,be=ue(c,k,K);be.each(function(Pe){c.selection.setRng(Pe)})})}},fC=function(u,c){return{selection:u,kill:c}},Sg={create:fC},pE=function(u,c,h,w){return{start:iu.on(u,c),finish:iu.on(h,w)}},zx={create:pE},Fx=function(u,c){var h=gd(u,c);return Cm.create(en.fromDom(h.startContainer),h.startOffset,en.fromDom(h.endContainer),h.endOffset)},sl=zx.create,Lx=function(u,c,h,w,k,R,z){return ea(h,k)&&w===R?W.none():no(h,"td,th",c).bind(function(K){return no(k,"td,th",c).bind(function(ue){return Hx(u,c,K,ue,z)})})},Hx=function(u,c,h,w,k){return ea(h,w)?W.none():Nv(h,w,c).bind(function(R){var z=R.boxes.getOr([]);return z.length>1?(k(u,z,R.start,R.finish),W.some(Sg.create(W.some(sl(h,0,h,Rl(h))),!0))):W.none()})},J0=function(u,c,h,w,k){var R=function(z){return k.clearBeforeUpdate(h),k.selectRange(h,z.boxes,z.start,z.finish),z.boxes};return wh(w,u,c,k.firstSelectedSelector,k.lastSelectedSelector).map(R)},Z0=function(u,c){return{item:u,mode:c}},vC=function(u,c,h,w){return w===void 0&&(w=Am),u.property().parent(c).map(function(k){return Z0(k,w)})},Am=function(u,c,h,w){return w===void 0&&(w=_g),h.sibling(u,c).map(function(k){return Z0(k,w)})},_g=function(u,c,h,w){w===void 0&&(w=_g);var k=u.property().children(c),R=h.first(k);return R.map(function(z){return Z0(z,w)})},Vx=[{current:vC,next:Am,fallback:W.none()},{current:Am,next:_g,fallback:W.some(vC)},{current:_g,next:_g,fallback:W.some(Am)}],Ux=function(u,c,h,w,k){k===void 0&&(k=Vx);var R=Ue(k,function(z){return z.current===h});return R.bind(function(z){return z.current(u,c,w,z.next).orThunk(function(){return z.fallback.bind(function(K){return Ux(u,c,K,w)})})})},Q0=function(){var u=function(h,w){return h.query().prevSibling(w)},c=function(h){return h.length>0?W.some(h[h.length-1]):W.none()};return{sibling:u,first:c}},bE=function(){var u=function(h,w){return h.query().nextSibling(w)},c=function(h){return h.length>0?W.some(h[0]):W.none()};return{sibling:u,first:c}},ey={left:Q0,right:bE},m1=function(u,c,h,w,k,R){var z=Ux(u,c,w,k);return z.bind(function(K){return R(K.item)?W.none():h(K.item)?W.some(K.item):m1(u,K.item,h,K.mode,k,R)})},ty=function(u,c,h,w){return m1(u,c,h,Am,ey.left(),w)},Wx=function(u,c,h,w){return m1(u,c,h,Am,ey.right(),w)},ny=function(u){return function(c){return u.property().children(c).length===0}},ll=function(u,c,h){return ry(u,c,ny(u),h)},yE=function(u,c,h){return jx(u,c,ny(u),h)},ry=ty,jx=Wx,h1=Cp(),g1=function(u,c){return ll(h1,u,c)},dC=function(u,c){return yE(h1,u,c)},Gx=function(u,c,h){return ry(h1,u,c,h)},qx=function(u,c,h){return jx(h1,u,c,h)},Kx=function(u,c,h){return Xa(u,c,h).isSome()},ay=Hc.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),bd=function(u,c,h){var w=u.getRect(c),k=u.getRect(h);return k.right>w.left&&k.left<w.right},wE=function(u){return no(u,"tr")},CE=function(u,c,h,w,k,R,z){return no(w,"td,th",z).bind(function(K){return no(c,"td,th",z).map(function(ue){return ea(K,ue)?ea(w,K)&&Rl(K)===k?R(ue):ay.none("in same cell"):$n(wE,[K,ue]).fold(function(){return bd(u,ue,K)?ay.success():R(ue)},function(be){return R(ue)})})}).getOr(ay.none("default"))},SE=function(u,c,h,w,k){return u.fold(c,h,w,k)},yd=zt(zt({},ay),{verify:CE,cata:SE}),_E=function(u,c,h,w){return{parent:u,children:c,element:h,index:w}},mC=function(u){return _o(u).bind(function(c){var h=ii(c);return xE(h,u).map(function(w){return _E(c,h,u,w)})})},xE=function(u,c){return gt(u,Se(ea,c))},xg=function(u){return ta(u)==="br"},hC=function(u,c,h){return c(u,h).bind(function(w){return Js(w)&&pb(w).trim().length===0?hC(w,c,h):W.some(w)})},Xx=function(u,c,h){return h.traverse(c).orThunk(function(){return hC(c,h.gather,u)}).map(h.relative)},oy=function(u,c){return fh(u,c).filter(xg).orThunk(function(){return fh(u,c-1).filter(xg)})},Yx=function(u,c,h,w){return oy(c,h).bind(function(k){return w.traverse(k).fold(function(){return hC(k,w.gather,u).map(w.relative)},function(R){return mC(R).map(function(z){return iu.on(z.parent,z.index)})})})},Jx=function(u,c,h,w){var k=xg(c)?Xx(u,c,w):Yx(u,c,h,w);return k.map(function(R){return{start:R,finish:R}})},kE=function(u){return yd.cata(u,function(c){return W.none()},function(){return W.none()},function(c){return W.some(sm(c,0))},function(c){return W.some(sm(c,Rl(c)))})},iy=function(u,c){return{left:u.left,top:u.top+c,right:u.right,bottom:u.bottom+c}},uy=function(u,c){return{left:u.left,top:u.top-c,right:u.right,bottom:u.bottom-c}},gC=function(u,c,h){return{left:u.left+c,top:u.top+h,right:u.right+c,bottom:u.bottom+h}},Zx=function(u){return u.top},Qx=function(u){return u.bottom},Em=function(u,c,h){return h>=0&&h<Rl(c)?u.getRangedRect(c,h,c,h+1):h>0?u.getRangedRect(c,h-1,c,h):W.none()},p1=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},sy=function(u,c){return W.some(u.getRect(c))},b1=function(u,c,h){return _a(c)?sy(u,c).map(p1):Js(c)?Em(u,c,h).map(p1):W.none()},ek=function(u,c){return _a(c)?sy(u,c).map(p1):Js(c)?u.getRangedRect(c,0,c,Rl(c)).map(p1):W.none()},dv=5,AE=100,ff=Hc.generate([{none:[]},{retry:["caret"]}]),tk=function(u,c){return u.left<c.left||Math.abs(c.right-u.left)<1||u.left>c.right},ly=function(u,c,h){return db(c,sd).fold(Ge,function(w){return ek(u,w).exists(function(k){return tk(h,k)})})},pC=function(u,c,h,w,k){var R=iy(k,dv);return Math.abs(h.bottom-w.bottom)<1||h.top>k.bottom?ff.retry(R):h.top===k.bottom?ff.retry(iy(k,1)):ly(u,c,k)?ff.retry(gC(R,dv,0)):ff.none()},EE=function(u,c,h,w,k){var R=uy(k,dv);return Math.abs(h.top-w.top)<1||h.bottom<k.top?ff.retry(R):h.bottom===k.top?ff.retry(uy(k,1)):ly(u,c,k)?ff.retry(gC(R,dv,0)):ff.none()},wd={point:Zx,adjuster:EE,move:uy,gather:g1},nk={point:Qx,adjuster:pC,move:iy,gather:dC},rk=function(u,c,h){return u.elementFromPoint(c,h).filter(function(w){return ta(w)==="table"}).isSome()},TE=function(u,c,h,w,k){return bC(u,c,h,c.move(w,dv),k)},bC=function(u,c,h,w,k){return k===0?W.some(w):rk(u,w.left,c.point(w))?TE(u,c,h,w,k-1):u.situsFromPoint(w.left,c.point(w)).bind(function(R){return R.start.fold(W.none,function(z){return ek(u,z).bind(function(K){return c.adjuster(u,z,K,h,w).fold(W.none,function(ue){return bC(u,c,h,ue,k-1)})}).orThunk(function(){return W.some(w)})},W.none)})},kg=function(u,c){return u.situsFromPoint(c.left,c.bottom+dv)},Ag=function(u,c){return u.situsFromPoint(c.left,c.top-dv)},ak=function(u,c,h){return u.point(c)>h.getInnerHeight()?W.some(u.point(c)-h.getInnerHeight()):u.point(c)<0?W.some(-u.point(c)):W.none()},yC=function(u,c,h){var w=u.move(h,dv),k=bC(c,u,h,w,AE).getOr(w);return ak(u,k,c).fold(function(){return c.situsFromPoint(k.left,u.point(k))},function(R){return c.scrollBy(0,R),c.situsFromPoint(k.left,u.point(k)-R)})},zl={tryUp:Se(yC,wd),tryDown:Se(yC,nk),ieTryUp:Ag,ieTryDown:kg,getJumpSize:de(dv)},Cd=20,Fn=function(u,c,h){return u.getSelection().bind(function(w){return Jx(c,w.finish,w.foffset,h).fold(function(){return W.some(sm(w.finish,w.foffset))},function(k){var R=u.fromSitus(k),z=yd.verify(u,w.finish,w.foffset,R.finish,R.foffset,h.failure,c);return kE(z)})})},wC=function(u,c,h,w,k,R){return R===0?W.none():OE(u,c,h,w,k).bind(function(z){var K=u.fromSitus(z),ue=yd.verify(u,h,w,K.finish,K.foffset,k.failure,c);return yd.cata(ue,function(){return W.none()},function(){return W.some(z)},function(be){return ea(h,be)&&w===0?vf(u,h,w,uy,k):wC(u,c,be,0,k,R-1)},function(be){return ea(h,be)&&w===Rl(be)?vf(u,h,w,iy,k):wC(u,c,be,Rl(be),k,R-1)})})},vf=function(u,c,h,w,k){return b1(u,c,h).bind(function(R){return ok(u,k,w(R,zl.getJumpSize()))})},ok=function(u,c,h){var w=Yl().browser;return w.isChrome()||w.isSafari()||w.isFirefox()||w.isEdge()?c.otherRetry(u,h):w.isIE()?c.ieRetry(u,h):W.none()},OE=function(u,c,h,w,k){return b1(u,h,w).bind(function(R){return ok(u,k,R)})},ik=function(u,c,h){return Fn(u,c,h).bind(function(w){return wC(u,c,w.element,w.offset,h,Cd).map(u.fromSitus)})},y1=function(u,c){return Kx(u,function(h){return _o(h).exists(function(w){return ea(w,c)})})},yc=function(u,c,h,w,k){return no(w,"td,th",c).bind(function(R){return no(R,"table",c).bind(function(z){return y1(k,z)?ik(u,c,h).bind(function(K){return no(K.finish,"td,th",c).map(function(ue){return{start:R,finish:ue,range:K}})}):W.none()})})},cy=function(u,c,h,w,k,R){return Yl().browser.isIE()?W.none():R(w,c).orThunk(function(){return yc(u,c,h,w,k).map(function(z){var K=z.range;return Sg.create(W.some(sl(K.start,K.soffset,K.finish,K.foffset)),!0)})})},uk=function(u,c){return no(u,"tr",c).bind(function(h){return no(h,"table",c).bind(function(w){var k=ns(w,"tr");return ea(h,k[0])?Gx(w,function(R){return Ob(R).isSome()},c).map(function(R){var z=Rl(R);return Sg.create(W.some(sl(R,z,R,z)),!0)}):W.none()})})},nr=function(u,c){return no(u,"tr",c).bind(function(h){return no(h,"table",c).bind(function(w){var k=ns(w,"tr");return ea(h,k[k.length-1])?qx(w,function(R){return Tb(R).isSome()},c).map(function(R){return Sg.create(W.some(sl(R,0,R,0)),!0)}):W.none()})})},CC=function(u,c,h,w,k,R,z){return yc(u,h,w,k,R).bind(function(K){return Hx(c,h,K.start,K.finish,z)})},ur=function(u,c){return no(u,"td,th",c)},SC=function(u,c,h,w){var k=hg(),R=k.clear,z=function(Pe){k.on(function(mt){w.clearBeforeUpdate(c),ur(Pe.target,h).each(function(Lt){Nv(mt,Lt,h).each(function(Tt){var ht=Tt.boxes.getOr([]);if(ht.length===1){var Yt=ht[0],tn=L2(Yt)==="false",On=ec(rm(Pe.target),Yt,ea);tn&&On&&(w.selectRange(c,ht,Yt,Yt),u.selectContents(Yt))}else ht.length>1&&(w.selectRange(c,ht,Tt.start,Tt.finish),u.selectContents(Lt))})})})},K=function(Pe){w.clear(c),ur(Pe.target,h).each(k.set)},ue=function(Pe){z(Pe)},be=function(Pe){z(Pe),R()};return{clearstate:R,mousedown:K,mouseover:ue,mouseup:be}},sk={traverse:je,gather:dC,relative:iu.before,otherRetry:zl.tryDown,ieRetry:zl.ieTryDown,failure:yd.failedDown},lk={traverse:Pv,gather:g1,relative:iu.before,otherRetry:zl.tryUp,ieRetry:zl.ieTryUp,failure:yd.failedUp},Eg=function(u){return function(c){return c===u}},Tg=Eg(38),Og=Eg(40),Dg=function(u){return u>=37&&u<=40},DE={isBackward:Eg(37),isForward:Eg(39)},Zn={isBackward:Eg(39),isForward:Eg(37)},ck=function(u){var c=u!==void 0?u.dom:document,h=c.body.scrollLeft||c.documentElement.scrollLeft,w=c.body.scrollTop||c.documentElement.scrollTop;return Ca(h,w)},_C=function(u,c,h){var w=h!==void 0?h.dom:document,k=w.defaultView;k&&k.scrollBy(u,c)},w1=function(u){var c=function(tn,On){return en.fromPoint(en.fromDom(u.document),tn,On)},h=function(tn){return tn.dom.getBoundingClientRect()},w=function(tn,On,jr,Tn){var er=fv.exact(tn,On,jr,Tn);return Rx(u,er)},k=function(){return Dx(u).map(function(tn){return Fx(u,tn)})},R=function(tn){var On=fv.relative(tn.start,tn.finish);return Fx(u,On)},z=function(tn,On){return Y0(u,tn,On).map(function(jr){return zx.create(jr.start,jr.soffset,jr.finish,jr.foffset)})},K=function(){$x(u)},ue=function(tn){tn===void 0&&(tn=!1),Dx(u).each(function(On){return On.fold(function(jr){return jr.collapse(tn)},function(jr,Tn){var er=tn?jr:Tn;X0(u,er,er)},function(jr,Tn,er,_r){var wr=tn?jr:er,Co=tn?Tn:_r;K0(u,wr,Co,wr,Co)})})},be=function(tn){km(u,tn,!1)},Pe=function(tn){km(u,tn)},mt=function(tn){K0(u,tn.start,tn.soffset,tn.finish,tn.foffset)},Lt=function(tn,On){X0(u,tn,On)},Tt=function(){return u.innerHeight},ht=function(){var tn=ck(en.fromDom(u.document));return tn.top},Yt=function(tn,On){_C(tn,On,en.fromDom(u.document))};return{elementFromPoint:c,getRect:h,getRangedRect:w,getSelection:k,fromSitus:R,situsFromPoint:z,clearSelection:K,collapseSelection:ue,setSelection:mt,setRelativeSelection:Lt,selectNode:be,selectContents:Pe,getInnerHeight:Tt,getScrollY:ht,scrollBy:Yt}},Sd=function(u,c){return{rows:u,cols:c}},fk=function(u,c,h,w){var k=w1(u),R=SC(k,c,h,w);return{clearstate:R.clearstate,mousedown:R.mousedown,mouseover:R.mouseover,mouseup:R.mouseup}},fy=function(u,c,h,w){var k=w1(u),R=function(){return w.clear(c),W.none()},z=function(ue,be,Pe,mt,Lt,Tt){var ht=ue.raw,Yt=ht.which,tn=ht.shiftKey===!0,On=yh(c,w.selectedSelector).fold(function(){return Dg(Yt)&&!tn&&w.clearBeforeUpdate(c),Og(Yt)&&tn?Se(CC,k,c,h,sk,mt,be,w.selectRange):Tg(Yt)&&tn?Se(CC,k,c,h,lk,mt,be,w.selectRange):Og(Yt)?Se(cy,k,h,sk,mt,be,nr):Tg(Yt)?Se(cy,k,h,lk,mt,be,uk):W.none},function(jr){var Tn=function(er){return function(){var _r=Rt(er,function(wr){return J0(wr.rows,wr.cols,c,jr,w)});return _r.fold(function(){return kl(c,w.firstSelectedSelector,w.lastSelectedSelector).map(function(wr){var Co=Og(Yt)||Tt.isForward(Yt)?iu.after:iu.before;return k.setRelativeSelection(iu.on(wr.first,0),Co(wr.table)),w.clear(c),Sg.create(W.none(),!0)})},function(wr){return W.some(Sg.create(W.none(),!0))})}};return Og(Yt)&&tn?Tn([Sd(1,0)]):Tg(Yt)&&tn?Tn([Sd(-1,0)]):Tt.isBackward(Yt)&&tn?Tn([Sd(0,-1),Sd(-1,0)]):Tt.isForward(Yt)&&tn?Tn([Sd(0,1),Sd(1,0)]):Dg(Yt)&&!tn?R:W.none});return On()},K=function(ue,be,Pe,mt,Lt){return yh(c,w.selectedSelector).fold(function(){var Tt=ue.raw,ht=Tt.which,Yt=Tt.shiftKey===!0;return Yt&&Dg(ht)?Lx(c,h,be,Pe,mt,Lt,w.selectRange):W.none()},W.none)};return{keydown:z,keyup:K}},xC=function(u,c,h,w){var k=w1(u);return function(R,z){w.clearBeforeUpdate(c),Nv(R,z,h).each(function(K){var ue=K.boxes.getOr([]);w.selectRange(c,ue,K.start,K.finish),k.selectContents(z),k.collapseSelection()})}},RE=function(u,c){ot(c,function(h){zu(u,h)})},vk=function(u){return function(c){Go(c,u)}},$E=function(u){return function(c){RE(c,u)}},vy=function(u){var c=vk(u.selected),h=$E([u.selected,u.lastSelected,u.firstSelected]),w=function(R){var z=ns(R,u.selectedSelector);ot(z,h)},k=function(R,z,K,ue){w(R),ot(z,c),Go(K,u.firstSelected),Go(ue,u.lastSelected)};return{clearBeforeUpdate:w,clear:w,selectRange:k,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},BE=function(u,c,h){var w=function(ue){Ba(ue,u.selected),Ba(ue,u.firstSelected),Ba(ue,u.lastSelected)},k=function(ue){Lo(ue,u.selected,"1")},R=function(ue){z(ue),h()},z=function(ue){var be=ns(ue,u.selectedSelector+","+u.firstSelectedSelector+","+u.lastSelectedSelector);ot(be,w)},K=function(ue,be,Pe,mt){R(ue),ot(be,k),Lo(Pe,u.firstSelected,"1"),Lo(mt,u.lastSelected,"1"),c(be,Pe,mt)};return{clearBeforeUpdate:z,clear:R,selectRange:K,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},dy={byClass:vy,byAttr:BE},dk=function(u,c){var h=u.slice(0,c[c.length-1].row+1),w=m0(h);return Oe(w,function(k){var R=k.cells.slice(0,c[c.length-1].column+1);return at(R,function(z){return z.element})})},mk=function(u,c){var h=u.slice(c[0].row+c[0].rowspan-1,u.length),w=m0(h);return Oe(w,function(k){var R=k.cells.slice(c[0].column+c[0].colspan-1,k.cells.length);return at(R,function(z){return z.element})})},ME=function(u,c,h){var w=hr.fromTable(u),k=mc(w,c);return k.map(function(R){var z=od(w,h,!1),K=dk(z,R),ue=mk(z,R);return{upOrLeftCells:K,downOrRightCells:ue}})},hk=tinymce.util.Tools.resolve("tinymce.Env"),kC=function(u){return ka(en.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function Nr(u,c,h){var w=function(z,K,ue){h.targets().each(function(be){var Pe=Wa(K);Pe.each(function(mt){var Lt=u0(u),Tt=ir(Y,en.fromDom(u.getDoc()),Lt),ht=ME(mt,be,Tt);Hh(u,z,K,ue,ht)})})},k=function(){return y_(u)},R=dy.byAttr(Is,w,k);return u.on("init",function(z){var K=u.getWin(),ue=Gc(u),be=Ps(u),Pe=function(){var zr=u.selection,rr=en.fromDom(zr.getStart()),Dr=en.fromDom(zr.getEnd()),fa=$n(Wa,[rr,Dr]);fa.fold(function(){return R.clear(ue)},Y)},mt=fk(K,ue,be,R),Lt=fy(K,ue,be,R),Tt=xC(K,ue,be,R),ht=function(zr){return zr.raw.shiftKey===!0};u.on("TableSelectorChange",function(zr){return Tt(zr.start,zr.finish)});var Yt=function(zr,rr){ht(zr)&&(rr.kill&&zr.kill(),rr.selection.each(function(Dr){var fa=fv.relative(Dr.start,Dr.finish),io=gd(K,fa);u.selection.setRng(io)}))},tn=function(zr){var rr=av(zr);if(rr.raw.shiftKey&&Dg(rr.raw.which)){var Dr=u.selection.getRng(),fa=en.fromDom(Dr.startContainer),io=en.fromDom(Dr.endContainer);Lt.keyup(rr,fa,Dr.startOffset,io,Dr.endOffset).each(function(mv){Yt(rr,mv)})}},On=function(zr){var rr=av(zr);c().each(function(ca){return ca.hideBars()});var Dr=u.selection.getRng(),fa=en.fromDom(Dr.startContainer),io=en.fromDom(Dr.endContainer),mv=ss(DE,Zn)(en.fromDom(u.selection.getStart()));Lt.keydown(rr,fa,Dr.startOffset,io,Dr.endOffset,mv).each(function(ca){Yt(rr,ca)}),c().each(function(ca){return ca.showBars()})},jr=function(zr){return zr.button===0},Tn=function(zr){return zr.buttons===void 0||hk.browser.isEdge()&&zr.buttons===0?!0:(zr.buttons&1)!==0},er=function(zr){mt.clearstate()},_r=function(zr){jr(zr)&&kC(zr)&&mt.mousedown(av(zr))},wr=function(zr){Tn(zr)&&kC(zr)&&mt.mouseover(av(zr))},Co=function(zr){jr(zr)&&kC(zr)&&mt.mouseup(av(zr))},vi=function(){var zr=lv(en.fromDom(ue)),rr=lv(0),Dr=function(fa){var io=en.fromDom(fa.target);if(ta(io)==="td"||ta(io)==="th"){var mv=zr.get(),ca=rr.get();ea(mv,io)&&fa.timeStamp-ca<300&&(fa.preventDefault(),Tt(io,io))}zr.set(io),rr.set(fa.timeStamp)};return{touchEnd:Dr}},di=vi();u.on("dragstart",er),u.on("mousedown",_r),u.on("mouseover",wr),u.on("mouseup",Co),u.on("touchend",di.touchEnd),u.on("keyup",tn),u.on("keydown",On),u.on("NodeChange",Pe)}),{clear:R.clear}}var gk=function(u,c){return jn(u,c).isSome()},my=function(u,c){var h=lv(W.none()),w=lv([]),k=W.none(),R=Jo("caption"),z=function(rr){return k.forall(function(Dr){return!Dr[rr]})},K=function(){return Ja(Kd(u),Ps(u))},ue=function(){return Ja(wn(u),Ps(u))},be=function(){return K().bind(function(rr){return Lf(as(Wa(rr),ue().bind(Wa),function(Dr,fa){return ea(Dr,fa)?R(rr)?W.some(E2(rr)):W.some(Xd(c,Dr,rr)):W.none()}))})},Pe=function(rr){var Dr=Wa(rr.element);return Dr.map(function(fa){var io=hr.fromTable(fa),mv=mc(io,rr).getOr([]),ca=te(mv,function(ds,mi){return mi.isLocked&&(ds.onAny=!0,mi.column===0?ds.onFirst=!0:mi.column+mi.colspan>=io.grid.columns&&(ds.onLast=!0)),ds},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:uw(io,rr).isSome(),unmergeable:p0(io,rr).isSome(),locked:ca}})},mt=function(){h.set(pn(be)()),k=h.get().bind(Pe),ot(w.get(),function(rr){return rr()})},Lt=function(rr){return rr(),w.set(w.get().concat([rr])),function(){w.set(lt(w.get(),function(Dr){return Dr!==rr}))}},Tt=function(rr,Dr){return Lt(function(){return h.get().fold(function(){rr.setDisabled(!0)},function(fa){rr.setDisabled(Dr(fa))})})},ht=function(rr,Dr,fa){return Lt(function(){return h.get().fold(function(){rr.setDisabled(!0),rr.setActive(!1)},function(io){rr.setDisabled(Dr(io)),rr.setActive(fa(io))})})},Yt=function(rr){return k.exists(function(Dr){return Dr.locked[rr]})},tn=function(rr){return Tt(rr,function(Dr){return!1})},On=function(rr){return Tt(rr,function(Dr){return R(Dr.element)})},jr=function(rr){return function(Dr){return Tt(Dr,function(fa){return R(fa.element)||Yt(rr)})}},Tn=function(rr){return function(Dr){return Tt(Dr,function(fa){return R(fa.element)||rr().isNone()})}},er=function(rr,Dr){return function(fa){return Tt(fa,function(io){return R(io.element)||rr().isNone()||Yt(Dr)})}},_r=function(rr){return Tt(rr,function(Dr){return z("mergeable")})},wr=function(rr){return Tt(rr,function(Dr){return z("unmergeable")})},Co=function(rr){return ht(rr,Ge,function(Dr){var fa=Wa(Dr.element,Ps(u));return fa.exists(function(io){return gk(io,"caption")})})},vi=function(rr,Dr){return function(fa){return ht(fa,function(io){return R(io.element)},function(){return u.queryCommandValue(rr)===Dr})}},di=vi("mceTableRowType","header"),zr=vi("mceTableColType","th");return u.on("NodeChange ExecCommand TableSelectorChange",mt),{onSetupTable:tn,onSetupCellOrRow:On,onSetupColumn:jr,onSetupPasteable:Tn,onSetupPasteableColumn:er,onSetupMergeable:_r,onSetupUnmergeable:wr,resetTargets:mt,onSetupTableWithCaption:Co,onSetupTableRowHeaders:di,onSetupTableColumnHeaders:zr,targets:h.get}},AC=function(u,c,h,w){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(K){return K("inserttable | cell row column | advtablesort | tableprops deletetable")}});var k=function(K){return function(){return u.execCommand(K)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:k("mceTableProps"),icon:"table",onSetup:h.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:k("mceTableDelete"),icon:"table-delete-table",onSetup:h.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:k("mceTableCellProps"),icon:"table-cell-properties",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:k("mceTableMergeCells"),icon:"table-merge-cells",onSetup:h.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:k("mceTableSplitCells"),icon:"table-split-cells",onSetup:h.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:k("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:k("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:k("mceTableDeleteRow"),icon:"table-delete-row",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:k("mceTableRowProps"),icon:"table-row-properties",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:k("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:h.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:k("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:h.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:k("mceTableDeleteCol"),icon:"table-delete-column",onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:k("mceTableCutRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:k("mceTableCopyRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:k("mceTablePasteRowBefore"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:k("mceTablePasteRowAfter"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:k("mceTableCutCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:k("mceTableCopyCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:k("mceTablePasteColBefore"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:k("mceTablePasteColAfter"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:k("mceInsertTable"),icon:"table"});var R=vd(Wp(u));R.length!==0&&u.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:bm(u,c,R,"tableclass",function(K){return u.execCommand("mceTableToggleClass",!1,K)}),onSetup:h.onSetupTable});var z=vd(Qc(u));z.length!==0&&u.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:bm(u,c,z,"tablecellclass",function(K){return u.execCommand("mceTableCellToggleClass",!1,K)}),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:bm(u,c,mg,"tablecellverticalalign",fd(u,"vertical-align")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:bm(u,c,C_(u),"tablecellborderwidth",fd(u,"border-width")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:bm(u,c,nu(u),"tablecellborderstyle",fd(u,"border-style")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:k("mceTableToggleCaption"),icon:"table-caption",onSetup:h.onSetupTableWithCaption}),u.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(K){return K(gg(u,Y2(u),"background-color"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(K){return K(gg(u,J2(u),"border-color"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:zw(u),onSetup:h.onSetupTableRowHeaders}),u.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:Fw(u),onSetup:h.onSetupTableColumnHeaders})},pk=function(u){var c=function(w){return u.dom.is(w,"table")&&u.getBody().contains(w)},h=a4(u);h.length>0&&u.ui.registry.addContextToolbar("table",{predicate:c,items:h,scope:"node",position:"node"})},EC=function(u,c,h,w){var k=function(Tt){return function(){return u.execCommand(Tt)}},R=function(Tt){u.execCommand("mceInsertTable",!1,{rows:Tt.numRows,columns:Tt.numColumns})},z={text:"Table properties",onSetup:h.onSetupTable,onAction:k("mceTableProps")},K={text:"Delete table",icon:"table-delete-table",onSetup:h.onSetupTable,onAction:k("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:k("mceTableInsertRowBefore"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:k("mceTableInsertRowAfter"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:k("mceTableDeleteRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:k("mceTableRowProps"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:k("mceTableCutRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:k("mceTableCopyRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:k("mceTablePasteRowBefore"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:k("mceTablePasteRowAfter"),onSetup:h.onSetupPasteable(w.getRows)});var ue={type:"nestedmenuitem",text:"Row",getSubmenuItems:de("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:k("mceTableInsertColBefore"),onSetup:h.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:k("mceTableInsertColAfter"),onSetup:h.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:k("mceTableDeleteCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:k("mceTableCutCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:k("mceTableCopyCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:k("mceTablePasteColBefore"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:k("mceTablePasteColAfter"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onLast")});var be={type:"nestedmenuitem",text:"Column",getSubmenuItems:de("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:k("mceTableCellProps"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:k("mceTableMergeCells"),onSetup:h.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:k("mceTableSplitCells"),onSetup:h.onSetupUnmergeable});var Pe={type:"nestedmenuitem",text:"Cell",getSubmenuItems:de("tablecellprops tablemergecells tablesplitcells")};S_(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:k("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:R}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:k("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",z),u.ui.registry.addMenuItem("deletetable",K),u.ui.registry.addNestedMenuItem("row",ue),u.ui.registry.addNestedMenuItem("column",be),u.ui.registry.addNestedMenuItem("cell",Pe),u.ui.registry.addContextMenu("table",{update:function(){return h.resetTargets(),h.targets().fold(de(""),function(Tt){return ta(Tt.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var mt=vd(Wp(u));mt.length!==0&&u.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Pl(u,c,mt,"tableclass",function(Tt){return u.execCommand("mceTableToggleClass",!1,Tt)})},onSetup:h.onSetupTable});var Lt=vd(Qc(u));Lt.length!==0&&u.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Pl(u,c,Lt,"tablecellclass",function(Tt){return u.execCommand("mceTableCellToggleClass",!1,Tt)})},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Pl(u,c,mg,"tablecellverticalalign",fd(u,"vertical-align"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Pl(u,c,C_(u),"tablecellborderwidth",fd(u,"border-width"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Pl(u,c,nu(u),"tablecellborderstyle",fd(u,"border-style"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:k("mceTableToggleCaption"),onSetup:h.onSetupTableWithCaption}),u.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return gg(u,Y2(u),"background-color")},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return gg(u,J2(u),"border-color")},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:zw(u),onSetup:h.onSetupTableRowHeaders}),u.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:Fw(u),onSetup:h.onSetupTableColumnHeaders})},C1=function(u){var c=ji(function(){return Gc(u)},function(){return Di(Kd(u),Ps(u))},Is.selectedSelector),h=my(u,c),w=l0(u),k=Nr(u,w.lazyResize,h),R=U4(u,k,w.lazyWire),z=U0();return H0(u,R,k,c,z),V0(u,R,c),$l(u,c,R),EC(u,c,h,z),AC(u,c,h,z),pk(u),u.on("PreInit",function(){u.serializer.addTempAttr(Is.firstSelected),u.serializer.addTempAttr(Is.lastSelected),rE(u)}),vc(u)&&u.on("keydown",function(K){Nx(K,u,k)}),u.on("remove",function(){w.destroy()}),af(u,z,w,h)};function hy(){KS.add("table",C1)}hy()})();const lp=`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment{background-color:#fff0b7}.tox-comments-visible .tox-comment--active{background-color:#ffe168}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden):before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A);cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked:before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A)}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden):before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body *[data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body *[contentEditable=false]{cursor:default}.mce-content-body *[contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A),default}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-object{background:transparent url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A) no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--21by9,.tiny-pageembed--16by9,.tiny-pageembed--4by3,.tiny-pageembed--1by1{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--21by9 iframe,.tiny-pageembed--16by9 iframe,.tiny-pageembed--4by3 iframe,.tiny-pageembed--1by1 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks):before{color:#222f3eb3;content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks):before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks):before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,.mce-content-body .mce-clonedresizable.mce-resizetable-columns td{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor:before{background-color:inherit;border-radius:50%;content:"";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover:after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body img[data-mce-selected],.mce-content-body video[data-mce-selected],.mce-content-body audio[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body table[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,.mce-content-body.mce-content-readonly *[contentEditable=true]:hover{outline:none}.mce-content-body *[data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:none}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:none}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{background-color:#b4d7ffb3;border:1px solid rgba(180,215,255,.7);bottom:-1px;content:"";left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{border-color:#0054b4b3}}.mce-content-body img::-moz-selection{background:none}.mce-content-body img::selection{background:none}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}table[style*="border-width: 0px"],.mce-item-table:not([border]),.mce-item-table[border="0"],table[style*="border-width: 0px"] td,.mce-item-table:not([border]) td,.mce-item-table[border="0"] td,table[style*="border-width: 0px"] th,.mce-item-table:not([border]) th,.mce-item-table[border="0"] th,table[style*="border-width: 0px"] caption,.mce-item-table:not([border]) caption,.mce-item-table[border="0"] caption{border:1px dashed #bbb}.mce-visualblocks p,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks section,.mce-visualblocks article,.mce-visualblocks blockquote,.mce-visualblocks address,.mce-visualblocks pre,.mce-visualblocks figure,.mce-visualblocks figcaption,.mce-visualblocks hgroup,.mce-visualblocks aside,.mce-visualblocks ul,.mce-visualblocks ol,.mce-visualblocks dl{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) ul,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) dl{margin-left:3px}.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] ul,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] dl{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy:after{content:"-"}body{font-family:sans-serif}table{border-collapse:collapse}
`,cp=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) th,table:not([cellpadding]) td{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) th,table[border]:not([border="0"]):not([style*=border-width]) td{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) th,table[border]:not([border="0"]):not([style*=border-style]) td{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) th,table[border]:not([border="0"]):not([style*=border-color]) td{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}
`;const moe={class:"row"},hoe=V("hr",{class:"divider"},null,-1),goe={class:"row content-row"},poe={class:"row content-row"},boe=V("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),yoe=V("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),woe={class:"content-row"},Coe=V("h3",null,"Zertifikat Bild",-1),Soe=V("hr",{class:"divider"},null,-1),_oe={key:0,class:"image"},xoe=["src"],koe={class:"row"},Aoe={class:"col"},Eoe={class:"content-row"},Toe={class:"errorMessages"},i9={__name:"ZertifikateForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newCertificate"],setup(f,{emit:m}){const y=f,b=_t({"name:de":"","name:en":"","description:de":"","description:en":"",image:null}),S=_t([]),_=_t(y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen"),O=_t(null),T=Rc(),F=()=>(S.value=[],b.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),j=()=>{F()&&(_.value=y.editMode?"Zertifikat aktualisieren...":"Zertifikat erstellen...",b.value["description:de"]=Gn.get("editor_de").getContent(),b.value["description:en"]=Gn.get("editor_en").getContent(),Mn.post("/certificates",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(L=>{_.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",y.insidePopup?m("newCertificate",L.data.certificate):T.push("/zertifikate")}).catch(L=>{console.log(L),_.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",L.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Zertifikat")}))},P=()=>{F()&&(_.value=y.editMode?"Zertifikat aktualisieren...":"Zertifikat erstellen...",b.value["description:de"]=Gn.get("editor_de").getContent(),b.value["description:en"]=Gn.get("editor_en").getContent(),console.log(b.value),b.value.image&&b.value.image!==null&&(b.value.image=b.value.image),Mn.patch(`/certificates/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(L=>{_.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",T.push("/zertifikate")}).catch(L=>{console.log(L),_.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",L.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Zertifikat")}))},H=L=>{const Y=L.target.files;if(console.log(Y),Y)for(let q=0;q<Y.length;q++){const $e=Y[q],de=new FormData;de.append("file",$e),Mn.post("/media",de,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Be=>{b.value.image=Be.data.media.id,O.value=Be.data.media.url}).catch(Be=>{console.log(Be),window.alert("Fehler beim Upload des Bildes")})}};Ia(async()=>{y.editMode&&I(),Gn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:lp.toString()+`
`+cp.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:L=>{L.on("init",()=>{L.setContent("<p>Zertifikats Beschreibung</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const I=()=>{Mn.get(`/certificates/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(L=>{b.value=L.data.certificate,b.value["name:de"]=L.data.certificate.translations[0].name,b.value["name:en"]=L.data.certificate.translations[1].name,L.data.certificate.image&&L.data.certificate.image!==null&&(b.value.image=L.data.certificate.image),L.data.certificate.image!==null&&(O.value=L.data.certificate.image.url),Gn.get("editor_de").setContent(L.data.certificate.translations[0].description),Gn.get("editor_en").setContent(L.data.certificate.translations[1].description)}).catch(L=>{L.response.status===401?sessionStorage.removeItem("token"):console.log(L)})};return Zm(()=>{y.insidePopup||Gn.remove()}),(L,Y)=>{const q=Ua("router-Link");return Ke(),Je($r,null,[V("div",moe,[V("h1",null,ar(y.editMode?"Zertifikat Aktualisieren":"Zertifikat Erstellen"),1),y.insidePopup?(Ke(),Je("button",{key:1,class:"button-primary",onClick:Y[0]||(Y[0]=$e=>m("closePopup"))}," Abbrechen ")):(Ke(),Dd(q,{key:0,to:"/zertifikate",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1}))]),hoe,V("div",goe,[yt(Er,{lang:"de",title:"Zertifikat (DE)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":Y[1]||(Y[1]=$e=>b.value["name:de"]=$e),placeholder:"Name"},null,512),[[Qn,b.value["name:de"]]])]),_:1}),yt(Er,{lang:"en",title:"Zertifikat (EN)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":Y[2]||(Y[2]=$e=>b.value["name:en"]=$e),placeholder:"Name"},null,512),[[Qn,b.value["name:en"]]])]),_:1})]),V("div",poe,[yt(Er,{lang:"de",title:"Beschreibung"},{content:Gt(()=>[boe]),_:1}),yt(Er,{lang:"en",title:"Description"},{content:Gt(()=>[yoe]),_:1})]),V("div",woe,[Coe,Soe,O.value?(Ke(),Je("div",_oe,[V("img",{src:O.value},null,8,xoe)])):kr("",!0),V("div",koe,[V("div",Aoe,[V("input",{type:"file",onChange:H},null,32)])])]),V("div",Eoe,[V("button",{class:"button-primary",onClick:Y[3]||(Y[3]=$e=>y.editMode?P():j())},ar(_.value),1),V("div",Toe,[(Ke(!0),Je($r,null,qa(S.value,$e=>(Ke(),Je("p",{key:$e},ar($e),1))),128))])])],64)}}};const Ooe={key:0,class:"Popup"},Doe={class:"addPopup"},Roe={class:"select-container"},$oe={class:"chip-container"},Boe={class:"chip-name"},Moe=["onClick"],Poe=V("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),Ioe=[Poe],Noe={key:0,class:"selectable-options"},zoe=["onClick"],Foe={class:"option-content"},Loe={key:0,class:"option-avatar"},Hoe=["src"],Voe={class:"option-name"},hG={__name:"CertificateSelect",props:{selectedCertificate:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=_t([]),S=_t(!1),_=_t(!1),O=_t([]),T=ri(()=>O.value.filter(L=>L.name.toLowerCase().includes(F.value.toLowerCase()))),F=_t(""),j=L=>{b.value.push(L),O.value.push(L),_.value=!1},P=async()=>(await Mn.get("/certificates")).data.certificates,H=L=>{b.value.includes(L)||b.value.push(L)};window.addEventListener("click",L=>{L.target.closest(".select-container")||(S.value=!1)});function I(){return b.value.map(L=>L.id)}return m({getData:I}),Ia(async()=>{O.value=await P()}),Xm(()=>y.selectedCertificate,L=>{L===null?b.value=[]:b.value=L}),(L,Y)=>(Ke(),Je("div",null,[_.value?(Ke(),Je("div",Ooe,[V("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),V("div",Doe,[yt(i9,{insidePopup:!0,onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewCertificate:j})])])):kr("",!0),V("div",Roe,[V("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[V("div",$oe,[(Ke(!0),Je($r,null,qa(b.value,q=>(Ke(),Je("div",{class:"chip",key:q.id},[V("div",Boe,ar(q.name),1),V("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},Ioe,8,Moe)]))),128))]),S.value||b.value.length===0?qn((Ke(),Je("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name des Zertifikates"},null,512)),[[Qn,F.value]]):kr("",!0)]),S.value?(Ke(),Je("div",Noe,[(Ke(!0),Je($r,null,qa(T.value,q=>(Ke(),Je("div",{class:"option",key:q.id,onClick:$e=>H(q)},[V("div",Foe,[q.image?(Ke(),Je("div",Loe,[V("img",{src:q.image.url,alt:"avatar"},null,8,Hoe)])):kr("",!0),V("div",Voe,ar(q.name),1)])],8,zoe))),128)),T.value.length===0?(Ke(),Je("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+ar(F.value)+'" hinzufgen ? ',1)):kr("",!0)])):kr("",!0)])]))}},Uoe={class:"row"},Woe=V("hr",{class:"divider"},null,-1),joe={class:"row content-row"},Goe={class:"row content-row"},qoe=V("div",null,[V("a",{style:{"margin-top":"15px","margin-bottom":"5px","text-decoration":"underline"},href:"https://www.welt-flaggen.de/register/laenderkuerzel/"}," Liste der Lnderkrzel "),V("p",null," Bitte die Krzel der Lnder von dieser Seite nehmen damit die Flaggen erscheinen. ber die Suche werden die Krzel sofort dargestellt (2-Stellig). ")],-1),Koe={class:"content-row"},Xoe={class:"errorMessages"},u9={__name:"SprachenForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newLanguage"],setup(f,{emit:m}){const y=f,b=_t({"name:de":"","name:en":"","description:de":"","description:en":""}),S=_t([]),_=_t(y.editMode?"Sprache aktualisieren":"Sprache erstellen"),O=_t(null),T=Rc(),F=()=>(S.value=[],b.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),j=()=>{F()&&(_.value=y.editMode?"Sprache aktualisieren...":"Sprache erstellen...",Mn.post("/languages",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{_.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",y.insidePopup?m("newLanguage",I.data.language):T.push("/sprachen")}).catch(I=>{console.log(I),_.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Sprache")}))},P=()=>{F()&&(_.value=y.editMode?"Sprache aktualisieren...":"Sprache erstellen...",b.value.image!==null&&(b.value.image=b.value.image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(I=>I.id)),b.value.guides!==null&&(b.value.guides=b.value.guides.map(I=>I.id)),Mn.patch(`/languages/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{_.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",T.push("/sprachen")}).catch(I=>{console.log(I),_.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Sprache")}))};Ia(async()=>{y.editMode&&H()});const H=()=>{Mn.get(`/languages/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{b.value=I.data.language,b.value["name:de"]=I.data.language.translations[0].name,b.value["name:en"]=I.data.language.translations[1].name,b.value["description:de"]=I.data.language.translations[0].description,b.value["description:en"]=I.data.language.translations[1].description,b.value.image=I.data.language.image,I.data.language.image!==null&&(O.value=I.data.language.image.url)}).catch(I=>{I.response.status===401?sessionStorage.removeItem("token"):console.log(I)})};return Zm(()=>{y.insidePopup||tinymce.remove()}),(I,L)=>{const Y=Ua("router-Link");return Ke(),Je($r,null,[V("div",Uoe,[V("h1",null,ar(y.editMode?"Sprache Aktualisieren":"Sprache Erstellen"),1),y.insidePopup?(Ke(),Je("button",{key:1,class:"button-primary",onClick:L[0]||(L[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Dd(Y,{key:0,to:"/sprachen",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1}))]),Woe,V("div",joe,[yt(Er,{lang:"de",title:"Sprache (DE)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":L[1]||(L[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Qn,b.value["name:de"]]])]),_:1}),yt(Er,{lang:"en",title:"Sprache (EN)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":L[2]||(L[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Qn,b.value["name:en"]]])]),_:1})]),V("div",Goe,[yt(Er,{lang:"de",title:"Krzel (DE)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":L[3]||(L[3]=q=>b.value["description:de"]=q),placeholder:"Krzel"},null,512),[[Qn,b.value["description:de"]]])]),_:1}),yt(Er,{lang:"en",title:"Krzel (EN)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":L[4]||(L[4]=q=>b.value["description:en"]=q),placeholder:"Shortname"},null,512),[[Qn,b.value["description:en"]]])]),_:1}),qoe]),V("div",Koe,[V("button",{class:"button-primary",onClick:L[5]||(L[5]=q=>y.editMode?P():j())},ar(_.value),1),V("div",Xoe,[(Ke(!0),Je($r,null,qa(S.value,q=>(Ke(),Je("p",{key:q},ar(q),1))),128))])])],64)}}};const Yoe={key:0,class:"Popup"},Joe={class:"addPopup"},Zoe={key:1,class:"select-container"},Qoe={class:"chip-container"},eie={class:"chip-name"},tie=["onClick"],nie=V("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),rie=[nie],aie={key:0,class:"selectable-options"},oie=["onClick"],iie={class:"option-content"},uie={key:0,class:"option-avatar"},sie=["src"],lie={class:"option-name"},cie={key:2,class:"loadingIndicator"},fie=V("div",{class:"combobox"},[V("span",null,"Lade Sprache...")],-1),vie=[fie],gG={__name:"SprachenSelect",props:{selectedLanguages:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=_t([]),S=_t(!1),_=_t(!1),O=_t([]),T=ri(()=>O.value.filter(L=>L.name.toLowerCase().includes(F.value.toLowerCase()))),F=_t(""),j=L=>{b.value.push(L),O.value.push(L),_.value=!1},P=async()=>(await Mn.get("/languages")).data.languages,H=L=>{b.value.includes(L)||b.value.push(L)};window.addEventListener("click",L=>{L.target.closest(".select-container")||(S.value=!1)});function I(){return b.value.map(L=>L.id)}return m({getData:I}),Ia(async()=>{O.value=await P()}),Xm(()=>y.selectedLanguages,L=>{L===null?b.value=[]:b.value=L}),(L,Y)=>(Ke(),Je("div",null,[_.value?(Ke(),Je("div",Yoe,[V("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),V("div",Joe,[yt(u9,{insidePopup:!0,onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewLanguage:j})])])):kr("",!0),O.value.length>0?(Ke(),Je("div",Zoe,[V("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[V("div",Qoe,[(Ke(!0),Je($r,null,qa(b.value,q=>(Ke(),Je("div",{class:"chip",key:q.id},[V("div",eie,ar(q.name),1),V("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},rie,8,tie)]))),128))]),S.value||b.value.length===0?qn((Ke(),Je("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name der Sprache"},null,512)),[[Qn,F.value]]):kr("",!0)]),S.value?(Ke(),Je("div",aie,[(Ke(!0),Je($r,null,qa(T.value,q=>(Ke(),Je("div",{class:"option",key:q.id,onClick:$e=>H(q)},[V("div",iie,[q.image?(Ke(),Je("div",uie,[V("img",{src:q.image.url,alt:"avatar"},null,8,sie)])):kr("",!0),V("div",lie,ar(q.name),1)])],8,oie))),128)),T.value.length===0?(Ke(),Je("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+ar(F.value)+'" hinzufgen ? ',1)):kr("",!0)])):kr("",!0)])):(Ke(),Je("div",cie,vie))]))}},die={class:"row"},mie=V("hr",{class:"divider"},null,-1),hie={class:"row content-row"},gie={class:"content-row"},pie={class:"errorMessages"},s9={__name:"SkillForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newSkill"],setup(f,{emit:m}){const y=f,b=_t({"name:de":"","name:en":"","description:de":"","description:en":""}),S=_t([]),_=_t(y.editMode?"Skill aktualisieren":"Skill erstellen"),O=_t(null),T=Rc(),F=()=>(S.value=[],b.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),j=()=>{F()&&(_.value=y.editMode?"Skill aktualisieren...":"Skill erstellen...",Mn.post("/skills",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{_.value=y.editMode?"Thema aktualisieren":"Thema erstellen",y.insidePopup?m("newSkill",I.data.skill):T.push("/skills")}).catch(I=>{console.log(I),_.value=y.editMode?"Skill aktualisieren":"Skill erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Skill")}))},P=()=>{F()&&(_.value=y.editMode?"Thema aktualisieren...":"Thema erstellen...",b.value.image&&b.value.image!==null&&(b.value.image=b.value.image.id),b.value.guides!==null&&b.value.guides.length>0?b.value.guides=b.value.guides.map(I=>I.id):b.value.guides=null,Mn.patch(`/skills/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{_.value=y.editMode?"Skill aktualisieren":"Skill erstellen",T.push("/skills")}).catch(I=>{console.log(I),_.value=y.editMode?"Thema aktualisieren":"Thema erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Themas")}))};Ia(async()=>{y.editMode&&H()});const H=()=>{Mn.get(`/skills/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{b.value=I.data.skill,b.value["name:de"]=I.data.skill.translations[0].name,b.value["name:en"]=I.data.skill.translations[1].name,b.value.image=I.data.skill.image,I.data.skill.image!==null&&(O.value=I.data.skill.image.url)}).catch(I=>{I.response.status===401?sessionStorage.removeItem("token"):console.log(I)})};return Zm(()=>{y.insidePopup||tinymce.remove()}),(I,L)=>{const Y=Ua("router-Link");return Ke(),Je($r,null,[V("div",die,[V("h1",null,ar(y.editMode?"Thema Aktualisieren":"Thema Erstellen"),1),y.insidePopup?(Ke(),Je("button",{key:1,class:"button-primary",onClick:L[0]||(L[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Dd(Y,{key:0,to:"/skills",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1}))]),mie,V("div",hie,[yt(Er,{lang:"de",title:"Skill (DE)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":L[1]||(L[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Qn,b.value["name:de"]]])]),_:1}),yt(Er,{lang:"en",title:"Skill (EN)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":L[2]||(L[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Qn,b.value["name:en"]]])]),_:1})]),V("div",gie,[V("button",{class:"button-primary",onClick:L[3]||(L[3]=q=>y.editMode?P():j())},ar(_.value),1),V("div",pie,[(Ke(!0),Je($r,null,qa(S.value,q=>(Ke(),Je("p",{key:q},ar(q),1))),128))])])],64)}}};const bie={key:0,class:"Popup"},yie={class:"addPopup"},wie={key:1,class:"select-container"},Cie={class:"chip-container"},Sie={class:"chip-name"},_ie=["onClick"],xie=V("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),kie=[xie],Aie={key:0,class:"selectable-options"},Eie=["onClick"],Tie={class:"option-content"},Oie={key:0,class:"option-avatar"},Die=["src"],Rie={class:"option-name"},$ie={key:2,class:"loadingIndicator"},Bie=V("div",{class:"combobox"},[V("span",null,"Lade Skills...")],-1),Mie=[Bie],pG={__name:"SkillSelect",props:{selectedSkills:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=_t([]),S=_t(!1),_=_t(!1),O=_t([]),T=ri(()=>O.value.filter(L=>L.name.toLowerCase().includes(F.value.toLowerCase()))),F=_t(""),j=L=>{b.value.push(L),O.value.push(L),_.value=!1},P=async()=>(await Mn.get("/skills")).data.skills,H=L=>{b.value.includes(L)||b.value.push(L)};window.addEventListener("click",L=>{L.target.closest(".select-container")||(S.value=!1)});function I(){return b.value.map(L=>L.id)}return m({getData:I}),Ia(async()=>{O.value=await P()}),Xm(()=>y.selectedSkills,L=>{L===null?b.value=[]:b.value=L}),(L,Y)=>(Ke(),Je("div",null,[_.value?(Ke(),Je("div",bie,[V("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),V("div",yie,[yt(s9,{insidePopup:!0,onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewSkill:j})])])):kr("",!0),O.value.length>0?(Ke(),Je("div",wie,[V("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[V("div",Cie,[(Ke(!0),Je($r,null,qa(b.value,q=>(Ke(),Je("div",{class:"chip",key:q.id},[V("div",Sie,ar(q.name),1),V("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},kie,8,_ie)]))),128))]),S.value||b.value.length===0?qn((Ke(),Je("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name des Skills"},null,512)),[[Qn,F.value]]):kr("",!0)]),S.value?(Ke(),Je("div",Aie,[(Ke(!0),Je($r,null,qa(T.value,q=>(Ke(),Je("div",{class:"option",key:q.id,onClick:$e=>H(q)},[V("div",Tie,[q.image?(Ke(),Je("div",Oie,[V("img",{src:q.image.url,alt:"avatar"},null,8,Die)])):kr("",!0),V("div",Rie,ar(q.name),1)])],8,Eie))),128)),T.value.length===0?(Ke(),Je("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+ar(F.value)+'" hinzufgen ? ',1)):kr("",!0)])):kr("",!0)])):(Ke(),Je("div",$ie,Mie))]))}},Pie={class:"row"},Iie=V("hr",{class:"divider"},null,-1),Nie={class:"row content-row"},zie={class:"row content-row"},Fie=V("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Lie=V("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Hie={class:"content-row"},Vie={class:"errorMessages"},l9={__name:"MobilitaetForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newMobility"],setup(f,{emit:m}){const y=f,b=_t({"name:de":"","name:en":"","description:de":"","description:en":""}),S=_t([]),_=_t(y.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen"),O=_t(null),T=Rc(),F=()=>(S.value=[],b.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),j=()=>{F()&&(_.value=y.editMode?"Mobilitt aktualisieren...":"Mobilitt erstellen...",b.value["description:de"]=Gn.get("editor_de").getContent(),b.value["description:en"]=Gn.get("editor_en").getContent(),Mn.post("/mobility",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{_.value=y.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen",y.insidePopup?m("newMobility",I.data.mobility):T.push("/mobilitaet")}).catch(I=>{console.log(I),_.value=y.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Mobilitt")}))},P=()=>{F()&&(_.value=y.editMode?"Mobilitt aktualisieren...":"Mobilitt erstellen...",b.value["description:de"]=Gn.get("editor_de").getContent(),b.value["description:en"]=Gn.get("editor_en").getContent(),b.value.main_image!==null&&(b.value.main_image=b.value.main_image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(I=>I.id)),b.value.guides!==null&&(b.value.guides=b.value.guides.map(I=>I.id)),Mn.patch(`/mobility/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{_.value=y.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen",T.push("/mobilitaet")}).catch(I=>{console.log(I),_.value=y.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Mobilitt")}))};Ia(async()=>{y.editMode&&H(),Gn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:lp.toString()+`
`+cp.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:I=>{I.on("init",()=>{I.setContent("<p>Mobilitts Beschreibung</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const H=()=>{Mn.get(`/mobility/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{b.value=I.data.mobility,b.value["name:de"]=I.data.mobility.translations[0].name,b.value["name:en"]=I.data.mobility.translations[1].name,b.value.main_image=I.data.mobility.main_image,I.data.mobility.main_image!==null&&(O.value=I.data.mobility.main_image.url),Gn.get("editor_de").setContent(I.data.mobility.translations[0].description),Gn.get("editor_en").setContent(I.data.mobility.translations[1].description)}).catch(I=>{I.response.status===401?sessionStorage.removeItem("token"):console.log(I)})};return Zm(()=>{y.insidePopup||Gn.remove()}),(I,L)=>{const Y=Ua("router-Link");return Ke(),Je($r,null,[V("div",Pie,[V("h1",null,ar(y.editMode?"Mobilitt Aktualisieren":"Mobilitt Erstellen"),1),y.insidePopup?(Ke(),Je("button",{key:1,class:"button-primary",onClick:L[0]||(L[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Dd(Y,{key:0,to:"/mobilitaet",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1}))]),Iie,V("div",Nie,[yt(Er,{lang:"de",title:"Mobilitt (DE)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":L[1]||(L[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Qn,b.value["name:de"]]])]),_:1}),yt(Er,{lang:"en",title:"Mobilitt (EN)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":L[2]||(L[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Qn,b.value["name:en"]]])]),_:1})]),V("div",zie,[yt(Er,{lang:"de",title:"Beschreibung"},{content:Gt(()=>[Fie]),_:1}),yt(Er,{lang:"en",title:"Description"},{content:Gt(()=>[Lie]),_:1})]),V("div",Hie,[V("button",{class:"button-primary",onClick:L[3]||(L[3]=q=>y.editMode?P():j())},ar(_.value),1),V("div",Vie,[(Ke(!0),Je($r,null,qa(S.value,q=>(Ke(),Je("p",{key:q},ar(q),1))),128))])])],64)}}};const Uie={key:0,class:"Popup"},Wie={class:"addPopup"},jie={key:1,class:"select-container"},Gie={class:"chip-container"},qie={class:"chip-name"},Kie=["onClick"],Xie=V("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),Yie=[Xie],Jie={key:0,class:"selectable-options"},Zie=["onClick"],Qie={class:"option-content"},eue={key:0,class:"option-avatar"},tue=["src"],nue={class:"option-name"},rue={key:2,class:"loadingIndicator"},aue=V("div",{class:"combobox"},[V("span",null,"Lade Mobilitten...")],-1),oue=[aue],a6={__name:"MobilitaetSelect",props:{selectedMobilites:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=_t([]),S=_t(!1),_=_t(!1),O=_t([]),T=ri(()=>O.value.filter(L=>L.name.toLowerCase().includes(F.value.toLowerCase()))),F=_t(""),j=L=>{console.log(L),b.value.push(L),O.value.push(L),_.value=!1},P=async()=>(await Mn.get("/mobility")).data.mobilities,H=L=>{b.value.includes(L)||b.value.push(L)};window.addEventListener("click",L=>{L.target.closest(".select-container")||(S.value=!1)});function I(){return b.value.map(L=>L.id)}return m({getData:I}),Ia(async()=>{O.value=await P()}),Xm(()=>y.selectedMobilites,L=>{L===null?b.value=[]:b.value=L}),(L,Y)=>(Ke(),Je("div",null,[_.value?(Ke(),Je("div",Uie,[V("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),V("div",Wie,[yt(l9,{insidePopup:!0,onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewMobility:j})])])):kr("",!0),O.value.length>0?(Ke(),Je("div",jie,[V("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[V("div",Gie,[(Ke(!0),Je($r,null,qa(b.value,q=>(Ke(),Je("div",{class:"chip",key:q.id},[V("div",qie,ar(q.name),1),V("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},Yie,8,Kie)]))),128))]),S.value||b.value.length===0?qn((Ke(),Je("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name der Mobilitt"},null,512)),[[Qn,F.value]]):kr("",!0)]),S.value?(Ke(),Je("div",Jie,[(Ke(!0),Je($r,null,qa(T.value,q=>(Ke(),Je("div",{class:"option",key:q.id,onClick:$e=>H(q)},[V("div",Qie,[q.image?(Ke(),Je("div",eue,[V("img",{src:q.image.url,alt:"avatar"},null,8,tue)])):kr("",!0),V("div",nue,ar(q.name),1)])],8,Zie))),128)),T.value.length===0?(Ke(),Je("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+ar(F.value)+'" hinzufgen ? ',1)):kr("",!0)])):kr("",!0)])):(Ke(),Je("div",rue,oue))]))}};const iue={key:0,class:"row"},uue={key:1},sue=V("h1",null,"Profil Aktualisieren",-1),lue=[sue],cue=V("hr",{class:"divider"},null,-1),fue={class:"row content-row"},vue={class:"row content-row"},due=V("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),mue=V("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),hue={class:"content-row"},gue=V("h3",null,"Guide Eigenschaften",-1),pue=V("hr",{class:"divider"},null,-1),bue={class:"row"},yue={class:"col",style:{width:"23%","min-width":"200px"}},wue=V("span",null,"Zertifikatsauswahl",-1),Cue={class:"col",style:{width:"23%","min-width":"200px"}},Sue=V("span",null,"Sprachauswahl",-1),_ue={class:"col",style:{width:"23%","min-width":"200px"}},xue=V("span",null,"Mobilittsauswahl",-1),kue={class:"col",style:{width:"23%","min-width":"200px"}},Aue=V("span",null,"Skillauswahl",-1),Eue={class:"content-row"},Tue=V("h3",null,"Kontakt",-1),Oue=V("hr",{class:"divider"},null,-1),Due={class:"row"},Rue={class:"col"},$ue=V("span",null,"Email",-1),Bue={class:"col"},Mue=V("span",null,"Telefon",-1),Pue={class:"col"},Iue=V("span",null,"Webseite",-1),Nue={class:"col"},zue=V("span",null,"Handynummer",-1),Fue={class:"content-row"},Lue=V("h3",null,"Guide Bild",-1),Hue=V("hr",{class:"divider"},null,-1),Vue={key:0,class:"image"},Uue=["src"],Wue={class:"row"},jue={class:"col"},Gue={class:"content-row"},que={class:"errorMessages"},c9={__name:"GuideForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1},showButton:{type:Boolean,default:!0}},emits:["closePopup","newGuide"],setup(f,{emit:m}){const y=f,b=_t(null),S=_t(null),_=_t(null),O=_t(null),T=_t({"name:de":"","name:en":"","description:de":"","description:en":"",contact:{},image:null,languages:[],skills:[],mobility:[],certificates:[]}),F=_t([]),j=_t(y.editMode?"Guide aktualisieren":"Guide erstellen"),P=_t(null),H=Rc(),I=()=>{const Be=b.value.getData(),ne=S.value.getData(),Se=_.value.getData(),Te=O.value.getData();return T.value.certificates=Be,T.value.languages=ne,T.value.mobility=Se,T.value.skills=Te,F.value=[],T.value["name:de"]===""&&F.value.push("Bitte geben Sie einen Namen (DE) ein"),T.value["name:en"]===""&&F.value.push("Bitte geben Sie einen Namen (EN) ein"),T.value.languages.length===0&&F.value.push("Bitte whlen Sie mindestens eine Sprache aus"),F.value.length===0},L=()=>{I()&&(j.value=y.editMode?"Guide aktualisieren...":"Guide erstellen...",T.value["description:de"]=Gn.get("editor_de").getContent(),T.value["description:en"]=Gn.get("editor_en").getContent(),T.value.contact.email!=""&&(T.value.email=T.value.contact.email),Mn.post("/guides",T.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Be=>{j.value=y.editMode?"Guide aktualisieren":"Guide erstellen",y.insidePopup?m("newGuide",Be.data.guide):H.push("/guides")}).catch(Be=>{j.value=y.editMode?"Guide aktualisieren":"Guide erstellen",Be.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen des Guides")}))},Y=()=>{if(!I())return;j.value=y.editMode?"Guide aktualisieren...":"Guide erstellen...",T.tours!==null&&(T.value.tours=T.value.tours.map(xe=>xe.id)),T.languages!==null&&(T.value.languages=T.value.languages.map(xe=>xe.id)),T.skills!==null&&(T.value.skills=T.value.skills.map(xe=>xe.id)),T.mobility!==null&&(T.value.mobility=T.value.mobility.map(xe=>xe.id)),T.certificates!==null&&(T.value.certificates=T.value.certificates.map(xe=>xe.id)),typeof T.value.image=="object"&&T.value.image!==null&&(T.value.image=T.value.image.id),T.value["description:de"]=Gn.get("editor_de").getContent(),T.value["description:en"]=Gn.get("editor_en").getContent();const Be=b.value.getData(),ne=S.value.getData(),Se=_.value.getData(),Te=O.value.getData();T.value.certificates=Be,T.value.languages=ne,T.value.mobility=Se,T.value.skills=Te,Mn.patch(`/guides/${y.id}`,T.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(xe=>{j.value=y.editMode?"Guide aktualisieren":"Guide erstellen",H.push("/guides")}).catch(xe=>{console.log(xe),j.value=y.editMode?"Guide aktualisieren":"Guide erstellen",xe.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Guides")})},q=Be=>{const ne=Be.target.files;if(console.log(ne),ne)for(let Se=0;Se<ne.length;Se++){const Te=ne[Se],xe=new FormData;xe.append("file",Te),Mn.post("/media",xe,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Ge=>{T.value.image=Ge.data.media.id,P.value=Ge.data.media.url}).catch(Ge=>{console.log(Ge),window.alert("Fehler beim Upload des Bildes")})}};Ia(async()=>{y.editMode&&$e(),Gn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:lp.toString()+`
`+cp.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:Be=>{Be.on("init",()=>{Be.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const $e=()=>{Mn.get(`/guides/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Be=>{T.value=Be.data.guide,T.value["name:de"]=Be.data.guide.translations[0].name,T.value["name:en"]=Be.data.guide.translations[1].name,T.value["description:de"]=Be.data.guide.translations[0].description,T.value["description:en"]=Be.data.guide.translations[1].description,Be.data.guide.contact!==null&&!Array.isArray(JSON.parse(Be.data.guide.contact))?T.value.contact=JSON.parse(Be.data.guide.contact):T.value.contact={},P.value=Be.data.guide.image?Be.data.guide.image[0].url:null,T.value.languages=Be.data.guide.languages,T.value.skills=Be.data.guide.skills,T.value.mobility=Be.data.guide.mobility,T.value.certificates=Be.data.guide.certificates,Be.data.guide.image!==null&&(P.value=Be.data.guide.image[0].url),Gn.get("editor_de").setContent(Be.data.guide.translations[0].description||""),Gn.get("editor_en").setContent(Be.data.guide.translations[1].description||""),console.log(T)}).catch(Be=>{console.log(Be),Be.response.status===401?sessionStorage.removeItem("token"):console.log(Be)})},de=()=>{T.value.image=null,P.value=null};return Zm(()=>{y.insidePopup||Gn.remove()}),(Be,ne)=>{const Se=Ua("router-Link");return Ke(),Je($r,null,[y.showButton?(Ke(),Je("div",iue,[V("h1",null,ar(y.editMode?"Guide Aktualisieren":"Guide Erstellen"),1),y.insidePopup?(Ke(),Je("button",{key:1,class:"button-primary",onClick:ne[0]||(ne[0]=Te=>m("closePopup"))}," Abbrechen ")):(Ke(),Dd(Se,{key:0,to:"/guides",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1}))])):(Ke(),Je("div",uue,lue)),cue,V("div",fue,[yt(Er,{lang:"de",title:"Name"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":ne[1]||(ne[1]=Te=>T.value["name:de"]=Te),placeholder:"Name"},null,512),[[Qn,T.value["name:de"]]])]),_:1}),yt(Er,{lang:"en",title:"Name"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":ne[2]||(ne[2]=Te=>T.value["name:en"]=Te),placeholder:"Name"},null,512),[[Qn,T.value["name:en"]]])]),_:1})]),V("div",vue,[yt(Er,{lang:"de",title:"Beschreibung"},{content:Gt(()=>[due]),_:1}),yt(Er,{lang:"en",title:"Description"},{content:Gt(()=>[mue]),_:1})]),V("div",hue,[gue,pue,V("div",bue,[V("div",yue,[wue,yt(hG,{ref_key:"certificateSelect",ref:b,"selected-certificate":T.value.certificates},null,8,["selected-certificate"])]),V("div",Cue,[Sue,yt(gG,{ref_key:"languageSelect",ref:S,"selected-languages":T.value.languages},null,8,["selected-languages"])]),V("div",_ue,[xue,yt(a6,{ref_key:"mobilitySelect",ref:_,"selected-mobilites":T.value.mobility},null,8,["selected-mobilites"])]),V("div",kue,[Aue,yt(pG,{ref_key:"skillSelect",ref:O,"selected-skills":T.value.skills},null,8,["selected-skills"])])])]),V("div",Eue,[Tue,Oue,V("div",Due,[V("div",Rue,[$ue,qn(V("input",{type:"text",placeholder:"Email","onUpdate:modelValue":ne[3]||(ne[3]=Te=>T.value.contact.email=Te)},null,512),[[Qn,T.value.contact.email]])]),V("div",Bue,[Mue,qn(V("input",{type:"text",placeholder:"Telefon","onUpdate:modelValue":ne[4]||(ne[4]=Te=>T.value.contact.phone=Te)},null,512),[[Qn,T.value.contact.phone]])]),V("div",Pue,[Iue,qn(V("input",{type:"text",placeholder:"Webseite","onUpdate:modelValue":ne[5]||(ne[5]=Te=>T.value.contact.website=Te)},null,512),[[Qn,T.value.contact.website]])]),V("div",Nue,[zue,qn(V("input",{type:"text",placeholder:"Handynummer","onUpdate:modelValue":ne[6]||(ne[6]=Te=>T.value.contact.mobile=Te)},null,512),[[Qn,T.value.contact.mobile]])])])]),V("div",Fue,[Lue,Hue,P.value?(Ke(),Je("div",Vue,[V("img",{src:P.value},null,8,Uue)])):kr("",!0),P.value?(Ke(),Je("a",{key:1,onClick:de,class:"removeImage"},"Bild entfernen")):kr("",!0),V("div",Wue,[V("div",jue,[V("input",{type:"file",onChange:q},null,32)])])]),V("div",Gue,[V("button",{class:"button-primary",onClick:ne[7]||(ne[7]=Te=>y.editMode?Y():L())},ar(j.value),1),V("div",que,[(Ke(!0),Je($r,null,qa(F.value,Te=>(Ke(),Je("p",{key:Te},ar(Te),1))),128))])])],64)}}};const Kue={key:0,class:"Popup"},Xue={class:"addPopup"},Yue={key:1,class:"select-container"},Jue={class:"chip-container"},Zue={class:"chip-name"},Que=["onClick"],ese=V("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),tse=[ese],nse={key:0,class:"selectable-options"},rse=["onClick"],ase={class:"option-content"},ose={key:0,class:"option-avatar"},ise=["src"],use={class:"option-name"},sse={key:2,class:"loadingIndicator"},lse=V("div",{class:"combobox"},[V("span",null,"Lade Guides...")],-1),cse=[lse],bG={__name:"GuideSelect",props:{selectedGuides:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=_t([]),S=_t(!1),_=_t(!1),O=_t([]),T=ri(()=>O.value.filter(L=>L.name.toLowerCase().includes(F.value.toLowerCase()))),F=_t(""),j=L=>{b.value.push(L),O.value.push(L),_.value=!1},P=async()=>(await Mn.get("/guides?preview=true&per_page=300")).data.guides.data,H=L=>{b.value.includes(L)||b.value.push(L)};window.addEventListener("click",L=>{L.target.closest(".select-container")||(S.value=!1)});function I(){return b.value.map(L=>L.id)}return m({getData:I}),Ia(async()=>{O.value=await P()}),Xm(()=>y.selectedGuides,L=>{console.log(L),b.value=L}),(L,Y)=>(Ke(),Je("div",null,[_.value?(Ke(),Je("div",Kue,[V("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),V("div",Xue,[yt(c9,{insidePopup:"true",onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewGuide:j})])])):kr("",!0),O.value.length>0?(Ke(),Je("div",Yue,[V("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[V("div",Jue,[(Ke(!0),Je($r,null,qa(b.value,q=>(Ke(),Je("div",{class:"chip",key:q.id},[V("div",Zue,ar(q.name),1),V("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},tse,8,Que)]))),128))]),S.value||b.value.length===0?qn((Ke(),Je("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name des Guides"},null,512)),[[Qn,F.value]]):kr("",!0)]),S.value?(Ke(),Je("div",nse,[(Ke(!0),Je($r,null,qa(T.value,q=>(Ke(),Je("div",{class:"option",key:q.id,onClick:$e=>H(q)},[V("div",ase,[q.image?(Ke(),Je("div",ose,[V("img",{src:q.image[0].url,alt:"avatar"},null,8,ise)])):kr("",!0),V("div",use,ar(q.name),1)])],8,rse))),128)),T.value.length===0?(Ke(),Je("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+ar(F.value)+'" hinzufgen ? ',1)):kr("",!0)])):kr("",!0)])):(Ke(),Je("div",sse,cse))]))}},fse={class:"row"},vse=V("hr",{class:"divider"},null,-1),dse={class:"row content-row"},mse={class:"content-row"},hse={class:"errorMessages"},f9={__name:"OrtFrom",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newPlace"],setup(f,{emit:m}){const y=f,b=_t({"name:de":"","name:en":"","description:de":"","description:en":""}),S=_t([]),_=_t(y.editMode?"Ort aktualisieren":"Ort erstellen"),O=_t(null),T=Rc(),F=()=>(S.value=[],b.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),j=()=>{F()&&(_.value=y.editMode?"Ort aktualisieren...":"Ort erstellen...",Mn.post("/places",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{_.value=y.editMode?"Ort aktualisieren":"Ort erstellen",y.insidePopup?m("newPlace",I.data.place):T.push("/orte")}).catch(I=>{console.log(I),_.value=y.editMode?"Ort aktualisieren":"Ort erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen des Ortes")}))},P=()=>{F()&&(_.value=y.editMode?"Ort aktualisieren...":"Ort erstellen...",b.value.main_image!==null&&(b.value.main_image=b.value.main_image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(I=>I.id)),Mn.patch(`/places/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{_.value=y.editMode?"Ort aktualisieren":"Ort erstellen",T.push("/orte")}).catch(I=>{console.log(I),_.value=y.editMode?"Ort aktualisieren":"Ort erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Ortes")}))};Ia(async()=>{y.editMode&&H()});const H=()=>{Mn.get(`/places/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{b.value=I.data.place,b.value["name:de"]=I.data.place.translations[0].name,b.value["name:en"]=I.data.place.translations[1].name,b.value.main_image=I.data.place.main_image,I.data.place.main_image!==null&&(O.value=I.data.place.main_image.url)}).catch(I=>{I.response.status===401?sessionStorage.removeItem("token"):console.log(I)})};return Zm(()=>{y.insidePopup||tinymce.remove()}),(I,L)=>{const Y=Ua("router-Link");return Ke(),Je($r,null,[V("div",fse,[V("h1",null,ar(y.editMode?"Ort Aktualisieren":"Ort Erstellen"),1),y.insidePopup?(Ke(),Je("button",{key:1,class:"button-primary",onClick:L[0]||(L[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Dd(Y,{key:0,to:"/orte",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1}))]),vse,V("div",dse,[yt(Er,{lang:"de",title:"Ort (DE)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":L[1]||(L[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Qn,b.value["name:de"]]])]),_:1}),yt(Er,{lang:"en",title:"Ort (EN)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":L[2]||(L[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Qn,b.value["name:en"]]])]),_:1})]),V("div",mse,[V("button",{class:"button-primary",onClick:L[3]||(L[3]=q=>y.editMode?P():j())},ar(_.value),1),V("div",hse,[(Ke(!0),Je($r,null,qa(S.value,q=>(Ke(),Je("p",{key:q},ar(q),1))),128))])])],64)}}};const gse={key:0,class:"Popup"},pse={class:"addPopup"},bse={key:1,class:"select-container"},yse={class:"chip-container"},wse={class:"chip-name"},Cse=["onClick"],Sse=V("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),_se=[Sse],xse={key:0,class:"selectable-options"},kse=["onClick"],Ase={class:"option-content"},Ese={key:0,class:"option-avatar"},Tse=["src"],Ose={class:"option-name"},Dse={key:2,class:"loadingIndicator"},Rse=V("div",{class:"combobox"},[V("span",null,"Lade Orte...")],-1),$se=[Rse],yG={__name:"OrtSelect",props:{selectedplaces:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=_t([]),S=_t(!1),_=_t(!1),O=_t([]),T=ri(()=>O.value.filter(L=>L.name.toLowerCase().includes(F.value.toLowerCase()))),F=_t(""),j=L=>{b.value.push(L),O.value.push(L),_.value=!1},P=async()=>(await Mn.get("/places")).data.places,H=L=>{b.value.includes(L)||b.value.push(L)};window.addEventListener("click",L=>{L.target.closest(".select-container")||(S.value=!1)});function I(){return b.value.map(L=>L.id)}return m({getData:I}),Ia(async()=>{O.value=await P()}),Xm(()=>y.selectedplaces,L=>{b.value=L}),(L,Y)=>(Ke(),Je("div",null,[_.value?(Ke(),Je("div",gse,[V("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),V("div",pse,[yt(f9,{insidePopup:!0,onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewPlace:j})])])):kr("",!0),O.value.length>0?(Ke(),Je("div",bse,[V("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[V("div",yse,[(Ke(!0),Je($r,null,qa(b.value,q=>(Ke(),Je("div",{class:"chip",key:q.id},[V("div",wse,ar(q.name),1),V("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},_se,8,Cse)]))),128))]),S.value||b.value.length===0?qn((Ke(),Je("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name des Ortes"},null,512)),[[Qn,F.value]]):kr("",!0)]),S.value?(Ke(),Je("div",xse,[(Ke(!0),Je($r,null,qa(T.value,q=>(Ke(),Je("div",{class:"option",key:q.id,onClick:$e=>H(q)},[V("div",Ase,[q.image?(Ke(),Je("div",Ese,[V("img",{src:q.image.url,alt:"avatar"},null,8,Tse)])):kr("",!0),V("div",Ose,ar(q.name),1)])],8,kse))),128)),T.value.length===0?(Ke(),Je("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+ar(F.value)+'" hinzufgen ? ',1)):kr("",!0)])):kr("",!0)])):(Ke(),Je("div",Dse,$se))]))}},Bse={class:"row"},Mse=V("hr",{class:"divider"},null,-1),Pse={class:"row content-row"},Ise={class:"content-row"},Nse={class:"errorMessages"},v9={__name:"KategorieForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newTheme"],setup(f,{emit:m}){const y=f,b=_t({"name:de":"","name:en":"","description:de":"","description:en":""}),S=_t([]),_=_t(y.editMode?"Kategorie aktualisieren":"Kategorie erstellen"),O=_t(null),T=Rc(),F=()=>(S.value=[],b.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),j=()=>{F()&&(_.value=y.editMode?"Kategorie aktualisieren...":"Kategorie erstellen...",b.value["name:en"]===""&&(b.value["name:en"]=b.value["name:de"]),b.value["description:en"]===""&&(b.value["description:en"]=b.value["description:de"]),Mn.post("/themes",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{_.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",y.insidePopup?m("newTheme",I.data.theme):T.push("/kategorien")}).catch(I=>{console.log(I),_.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen de Kategorie")}))},P=()=>{F()&&(_.value=y.editMode?"Kategorie aktualisieren...":"Kategorie erstellen...",b.value.image&&b.value.image!==null&&(b.value.image=b.value.image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(I=>I.id)),Mn.patch(`/themes/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{_.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",T.push("/kategorien")}).catch(I=>{console.log(I),_.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",I.response&&I.response.status&&I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Kategorie")}))};Ia(async()=>{y.editMode&&H()});const H=()=>{Mn.get(`/themes/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{b.value=I.data.theme,b.value["name:de"]=I.data.theme.translations[0].name,b.value["name:en"]=I.data.theme.translations[1].name,b.value.image=I.data.theme.image,I.data.theme.image&&I.data.theme.image!==null&&(O.value=I.data.theme.image.url)}).catch(I=>{I.response&&I.response.status&&I.response.status===401?sessionStorage.removeItem("token"):console.log(I)})};return bA(()=>{y.insidePopup||tinymce.remove()}),(I,L)=>{const Y=Ua("router-Link");return Ke(),Je($r,null,[V("div",Bse,[V("h1",null,ar(y.editMode?"Kategorie Aktualisieren":"Kategorie Erstellen"),1),y.insidePopup?(Ke(),Je("button",{key:1,class:"button-primary",onClick:L[0]||(L[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Dd(Y,{key:0,to:"/kategorien",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1}))]),Mse,V("div",Pse,[yt(Er,{lang:"de",title:"Kategorie (DE)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":L[1]||(L[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Qn,b.value["name:de"]]])]),_:1}),yt(Er,{lang:"en",title:"Kategorie (EN)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":L[2]||(L[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Qn,b.value["name:en"]]])]),_:1})]),V("div",Ise,[V("button",{class:"button-primary",onClick:L[3]||(L[3]=q=>y.editMode?P():j())},ar(_.value),1),V("div",Nse,[(Ke(!0),Je($r,null,qa(S.value,q=>(Ke(),Je("p",{key:q},ar(q),1))),128))])])],64)}}};const zse={key:0,class:"Popup"},Fse={class:"addPopup"},Lse={key:1,class:"select-container"},Hse={class:"chip-container"},Vse={class:"chip-name"},Use=["onClick"],Wse=V("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),jse=[Wse],Gse={key:0,class:"selectable-options"},qse=["onClick"],Kse={class:"option-content"},Xse={key:0,class:"option-avatar"},Yse=["src"],Jse={class:"option-name"},Zse={key:2,class:"loadingIndicator"},Qse=V("div",{class:"combobox"},[V("span",null,"Lade Kategorien...")],-1),ele=[Qse],wG={__name:"KategorieSelect",props:{selectedthemes:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=_t([]),S=_t(!1),_=_t(!1),O=_t([]),T=ri(()=>O.value.filter(L=>L.name.toLowerCase().includes(F.value.toLowerCase()))),F=_t(""),j=L=>{b.value.push(L),O.value.push(L),_.value=!1},P=async()=>(await Mn.get("/themes")).data.themes,H=L=>{b.value.includes(L)||b.value.push(L)};window.addEventListener("click",L=>{L.target.closest(".select-container")||(S.value=!1)});function I(){return b.value.map(L=>L.id)}return m({getData:I}),Ia(async()=>{O.value=await P()}),Xm(()=>y.selectedthemes,L=>{b.value=L}),(L,Y)=>(Ke(),Je("div",null,[_.value?(Ke(),Je("div",zse,[V("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),V("div",Fse,[yt(v9,{insidePopup:!0,onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewTheme:j})])])):kr("",!0),O.value.length>0?(Ke(),Je("div",Lse,[V("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[V("div",Hse,[(Ke(!0),Je($r,null,qa(b.value,q=>(Ke(),Je("div",{class:"chip",key:q.id},[V("div",Vse,ar(q.name),1),V("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},jse,8,Use)]))),128))]),S.value||b.value.length===0?qn((Ke(),Je("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name der Kategorie"},null,512)),[[Qn,F.value]]):kr("",!0)]),S.value?(Ke(),Je("div",Gse,[(Ke(!0),Je($r,null,qa(T.value,q=>(Ke(),Je("div",{class:"option",key:q.id,onClick:$e=>H(q)},[V("div",Kse,[q.image?(Ke(),Je("div",Xse,[V("img",{src:q.image.url,alt:"avatar"},null,8,Yse)])):kr("",!0),V("div",Jse,ar(q.name),1)])],8,qse))),128)),T.value.length===0?(Ke(),Je("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+ar(F.value)+'" hinzufgen ? ',1)):kr("",!0)])):kr("",!0)])):(Ke(),Je("div",Zse,ele))]))}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function tle(f,m,y,b){function S(_){return _ instanceof y?_:new y(function(O){O(_)})}return new(y||(y=Promise))(function(_,O){function T(P){try{j(b.next(P))}catch(H){O(H)}}function F(P){try{j(b.throw(P))}catch(H){O(H)}}function j(P){P.done?_(P.value):S(P.value).then(T,F)}j((b=b.apply(f,m||[])).next())})}var nle=function f(m,y){if(m===y)return!0;if(m&&y&&typeof m=="object"&&typeof y=="object"){if(m.constructor!==y.constructor)return!1;var b,S,_;if(Array.isArray(m)){if(b=m.length,b!=y.length)return!1;for(S=b;S--!==0;)if(!f(m[S],y[S]))return!1;return!0}if(m.constructor===RegExp)return m.source===y.source&&m.flags===y.flags;if(m.valueOf!==Object.prototype.valueOf)return m.valueOf()===y.valueOf();if(m.toString!==Object.prototype.toString)return m.toString()===y.toString();if(_=Object.keys(m),b=_.length,b!==Object.keys(y).length)return!1;for(S=b;S--!==0;)if(!Object.prototype.hasOwnProperty.call(y,_[S]))return!1;for(S=b;S--!==0;){var O=_[S];if(!f(m[O],y[O]))return!1}return!0}return m!==m&&y!==y};const EW="__googleMapsScriptId";var rA;(function(f){f[f.INITIALIZED=0]="INITIALIZED",f[f.LOADING=1]="LOADING",f[f.SUCCESS=2]="SUCCESS",f[f.FAILURE=3]="FAILURE"})(rA||(rA={}));class IS{constructor({apiKey:m,authReferrerPolicy:y,channel:b,client:S,id:_=EW,language:O,libraries:T=[],mapIds:F,nonce:j,region:P,retries:H=3,url:I="https://maps.googleapis.com/maps/api/js",version:L}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=m,this.authReferrerPolicy=y,this.channel=b,this.client=S,this.id=_||EW,this.language=O,this.libraries=T,this.mapIds=F,this.nonce=j,this.region=P,this.retries=H,this.url=I,this.version=L,IS.instance){if(!nle(this.options,IS.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(IS.instance.options)}`);return IS.instance}IS.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?rA.FAILURE:this.done?rA.SUCCESS:this.loading?rA.LOADING:rA.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let m=this.url;return m+="?callback=__googleMapsCallback",this.apiKey&&(m+=`&key=${this.apiKey}`),this.channel&&(m+=`&channel=${this.channel}`),this.client&&(m+=`&client=${this.client}`),this.libraries.length>0&&(m+=`&libraries=${this.libraries.join(",")}`),this.language&&(m+=`&language=${this.language}`),this.region&&(m+=`&region=${this.region}`),this.version&&(m+=`&v=${this.version}`),this.mapIds&&(m+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(m+=`&auth_referrer_policy=${this.authReferrerPolicy}`),m}deleteScript(){const m=document.getElementById(this.id);m&&m.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((m,y)=>{this.loadCallback(b=>{b?y(b.error):m(window.google)})})}importLibrary(m){return this.execute(),google.maps.importLibrary(m)}loadCallback(m){this.callbacks.push(m),this.execute()}setScript(){var m,y;if(document.getElementById(this.id)){this.callback();return}const b={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(b).forEach(_=>!b[_]&&delete b[_]),!((y=(m=window==null?void 0:window.google)===null||m===void 0?void 0:m.maps)===null||y===void 0)&&y.importLibrary||(_=>{let O,T,F,j="The Google Maps JavaScript API",P="google",H="importLibrary",I="__ib__",L=document,Y=window;Y=Y[P]||(Y[P]={});const q=Y.maps||(Y.maps={}),$e=new Set,de=new URLSearchParams,Be=()=>O||(O=new Promise((ne,Se)=>tle(this,void 0,void 0,function*(){var Te;yield T=L.createElement("script"),T.id=this.id,de.set("libraries",[...$e]+"");for(F in _)de.set(F.replace(/[A-Z]/g,xe=>"_"+xe[0].toLowerCase()),_[F]);de.set("callback",P+".maps."+I),T.src=this.url+"?"+de,q[I]=ne,T.onerror=()=>O=Se(Error(j+" could not load.")),T.nonce=this.nonce||((Te=L.querySelector("script[nonce]"))===null||Te===void 0?void 0:Te.nonce)||"",L.head.append(T)})));q[H]?console.warn(j+" only loads once. Ignoring:",_):q[H]=(ne,...Se)=>$e.add(ne)&&Be().then(()=>q[H](ne,...Se))})(b);const S=this.libraries.map(_=>this.importLibrary(_));S.length||S.push(this.importLibrary("core")),Promise.all(S).then(()=>this.callback(),_=>{const O=new ErrorEvent("error",{error:_});this.loadErrorCallback(O)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(m){if(this.errors.push(m),this.errors.length<=this.retries){const y=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${y} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},y)}else this.onerrorEvent=m,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(m=>{m(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}}const rle={class:"d-flex text-center",style:{margin:"10px 0"}},ale={class:"row",style:{"justify-content":"unset"}},ole=V("div",{class:"col",style:{"margin-right":"10px"}},[V("input",{id:"address",type:"textbox",value:"",placeholder:"Suche nach Adresse"})],-1),ile={class:"col"},ule="AIzaSyBw_QNEvvoRbs-czfH2GbPPkupqDdJTxhg",CG={__name:"MapComponent",props:{coordinates:{type:Object,default:()=>[]}},setup(f,{expose:m}){const y=f,b=ri(()=>({lat:y.coordinates.lat||53.551086,lng:y.coordinates.lng||9.993682})),S=new IS({apiKey:ule}),_=_t(null),O=_t(null);let T=_t(null),F=_t(null),j=null;Ia(async()=>{await S.load(),F.value=new google.maps.Map(_.value,{center:b.value,zoom:9}),T.value=new google.maps.Geocoder,j=F.value.addListener("click",H),y.coordinates.lat&&y.coordinates.lng&&(O.value=new google.maps.Marker({map:F.value,position:y.coordinates,title:"Adresse"})),console.log(y.coordinates)});const P=()=>{const L=document.getElementById("address").value;T.value.geocode({address:L},(Y,q)=>{q==="OK"?(F.value.setCenter(Y[0].geometry.location),O.value=new google.maps.Marker({map:F.value,position:Y[0].geometry.location,title:"Adresse"})):alert("Die Adresse konnte nicht gefunden werden: "+q)})};jH(async()=>{j&&j.remove(),F.value&&(F.value=null)});const H=L=>{const Y={lat:L.latLng.lat(),lng:L.latLng.lng()};O.value&&(O.value=null),O.value=new google.maps.Marker({map:F.value,position:Y,title:"Adresse"})};return m({getData:()=>({lat:O.value.position.lat(),lng:O.value.position.lng()})}),(L,Y)=>(Ke(),Je("div",null,[V("div",rle,[V("div",ale,[ole,V("div",ile,[V("input",{type:"button",class:"button-primary",value:"Adresse Suchen",onClick:Y[0]||(Y[0]=q=>P())})])])]),V("div",{ref_key:"mapDiv",ref:_,style:{width:"100%",height:"400px"}},null,512)]))}};const oi=f=>(gA("data-v-54c4e998"),f=f(),pA(),f),sle={class:"row"},lle=oi(()=>V("h1",null,"Tour erstellen",-1)),cle=oi(()=>V("hr",{class:"divider"},null,-1)),fle={class:"creation-grid"},vle={class:"main-content"},dle=oi(()=>V("h4",null,"Allgemeine Informationen",-1)),mle=oi(()=>V("hr",{class:"divider"},null,-1)),hle={class:"row content-row"},gle={class:"row content-row"},ple={class:"content-row"},ble=oi(()=>V("h4",null,"Standort",-1)),yle=oi(()=>V("hr",{class:"divider"},null,-1)),wle={class:"content-row"},Cle=oi(()=>V("h4",null,"Bilder",-1)),Sle=oi(()=>V("hr",{class:"divider"},null,-1)),_le={key:0,class:"images"},xle=["onClick","onDrop"],kle=oi(()=>V("img",{src:Of,width:"25",height:"25"},null,-1)),Ale=[kle],Ele=["src"],Tle={class:"error"},Ole=["disabled"],Dle=oi(()=>V("div",{class:"divider"},null,-1)),Rle={class:"content-row"},$le={key:0},Ble=oi(()=>V("hr",{class:"divider"},null,-1)),Mle={class:"input-container"},Ple=oi(()=>V("h5",null,"Datum der Tour",-1)),Ile={class:"input-container"},Nle=oi(()=>V("h5",null,"Wann startet diese Tour",-1)),zle={class:"input-container"},Fle=oi(()=>V("h5",null,"Preis",-1)),Lle={class:"creation-sidebar"},Hle={class:"sidebar-item"},Vle=oi(()=>V("h4",null,"Guide hinzufgen",-1)),Ule=oi(()=>V("hr",{class:"divider"},null,-1)),Wle={class:"sidebar-item"},jle=oi(()=>V("h4",null,"Ort hinzufgen",-1)),Gle=oi(()=>V("hr",{class:"divider"},null,-1)),qle={class:"sidebar-item"},Kle=oi(()=>V("h4",null,"Kategorien hinzufgen",-1)),Xle=oi(()=>V("hr",{class:"divider"},null,-1)),Yle={class:"sidebar-item"},Jle=oi(()=>V("h4",null,"Mobilitt hinzufgen",-1)),Zle=oi(()=>V("hr",{class:"divider"},null,-1)),Qle={class:"sidebar-item"},ece=oi(()=>V("h4",null,"Verffentlichen",-1)),tce=oi(()=>V("hr",{class:"divider"},null,-1)),nce={class:"input-container"},rce=oi(()=>V("option",{value:"draft"},"Entwurf",-1)),ace=oi(()=>V("option",{value:"published"},"Verffentlichen",-1)),oce=[rce,ace],ice={class:"errorMessages"},uce={__name:"Create",setup(f){const m=_t({"name:de":"","name:en":"","description:de":"","description:en":"",location:{lat:0,lng:0},status:"draft",is_public:!1,date:null,duration:null,needs_registration:!1,price:0,guides:[],places:[],images:[],image_copyright:"",main_image:null,themes:[]}),y=_t(null),b=_t(null),S=_t(null),_=_t(null),O=_t(null),T=_t([]);_t(null);const F=_t("Tour erstellen"),j=_t([]),P=Rc(),H=ri(()=>m.value.price.replace(",",".").replace(/[^0-9.]/g,"")),I=ri(()=>m.value.duration.replace(",",".").replace(/[^0-9.]/g,"")),L=_t(""),Y=_t(null),q=_t(!1),$e=()=>{q.value=!0;const Te={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};Y.value&&Wl(Y.value,Te).then(xe=>{const Ge=new FormData;Ge.append("file",xe),Mn.post("/media",Ge,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(se=>{T.value.push(se.data.media),q.value=!1}).catch(se=>{console.log(se),window.alert("Fehler beim Upload des Bildes"),q.value=null})}).catch(xe=>{console.log(xe),window.alert("Fehler beim Komprimieren des Bildes")})},de=Te=>{L.value="";const xe=Te.target.files,Ge=xe[0].size/1024/1024;if(Ge>1){L.value="Bild("+Ge.toFixed(2)+"MB) ist zu gro (max. 1MB)",Y.value=xe[0];return}if(xe)for(let se=0;se<xe.length;se++){const pe=xe[se],ye=new FormData;ye.append("file",pe),Mn.post("/media",ye,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Me=>{T.value.push(Me.data.media)}).catch(Me=>{console.log(Me),window.alert("Fehler beim Upload des Bildes")})}},Be=Te=>{T.value=T.value.filter(xe=>xe.id!==Te)},ne=()=>(j.value=[],m.value["name:de"]===""&&j.value.push("Titel der Tour (DE) ist ein Pflichtfeld"),m.value["name:en"]===""&&j.value.push("Titel der Tour (EN) ist ein Pflichtfeld"),T.value.length===0&&j.value.push("Es muss mindestens ein Bild hochgeladen werden"),m.value.is_public&&(m.value.date===null&&j.value.push("Datum der Tour ist ein Pflichtfeld"),m.value.duration===null&&j.value.push("Dauer der Tour ist ein Pflichtfeld"),m.value.price===null&&j.value.push("Preis der Tour ist ein Pflichtfeld")),j.value.length===0),Se=()=>{if(!ne())return;const Te=O.value.getData();m.value.location.lat=Te.lat,m.value.location.lng=Te.lng,m.value["description:de"]=Gn.get("editor_de").getContent(),m.value["description:en"]=Gn.get("editor_en").getContent(),m.value.images=T.value.map(ye=>ye.id);const xe=y.value.getData(),Ge=b.value.getData(),se=S.value.getData(),pe=_.value.getData();m.value.image_copyright=m.value.image_copyright||"unset",m.value.guides=xe,m.value.places=Ge,m.value.themes=se,pe.length===0?m.value.mobilities=null:m.value.mobilities=pe,m.value.is_public&&(m.value.price=H.value,m.value.duration=I.value),Mn.post("/tours",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ye=>{F.value="Tour wurde erstellt",P.push("/tour-bearbeiten/"+ye.data.tour.id)}).catch(ye=>{console.log(ye),ye.response.status===401?sessionStorage.removeItem("token"):(window.alert("Tour konnte nicht erstellt werden"),F.value="Tour erstellen")})};return Ia(async()=>{Gn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:lp.toString()+`
`+cp.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:Te=>{Te.on("init",()=>{Te.setContent("<p>Starte hier mit der Beschreibung deiner Tour.</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),Zm(()=>{Gn.remove()}),(Te,xe)=>{const Ge=Ua("router-Link");return Ke(),Je("main",null,[V("div",sle,[lle,yt(Ge,{to:"/",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1})]),cle,V("div",fle,[V("div",vle,[dle,mle,V("div",hle,[yt(Er,{lang:"de",title:"Titel der Tour"},{content:Gt(()=>[qn(V("input",{type:"text",for:"title",placeholder:"Titel","onUpdate:modelValue":xe[0]||(xe[0]=se=>m.value["name:de"]=se)},null,512),[[Qn,m.value["name:de"]]])]),_:1}),yt(Er,{lang:"en",title:"title of the tour"},{content:Gt(()=>[qn(V("input",{type:"text",for:"title",placeholder:"Title","onUpdate:modelValue":xe[1]||(xe[1]=se=>m.value["name:en"]=se)},null,512),[[Qn,m.value["name:en"]]])]),_:1})]),V("div",gle,[yt(Er,{lang:"de",title:"Beschreibung der Tour"},{content:Gt(()=>[qn(V("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de","onUpdate:modelValue":xe[2]||(xe[2]=se=>m.value["description:de"]=se)},null,512),[[Qn,m.value["description:de"]]])]),_:1}),yt(Er,{lang:"en",title:"Description of the tour"},{content:Gt(()=>[qn(V("textarea",{for:"description",placeholder:"Description",id:"editor_en","onUpdate:modelValue":xe[3]||(xe[3]=se=>m.value["description:en"]=se)},null,512),[[Qn,m.value["description:en"]]])]),_:1})]),V("div",ple,[ble,yle,yt(CG,{ref_key:"mapContainer",ref:O},null,512)]),V("div",wle,[Cle,Sle,T.value.length>0?(Ke(),Je("div",_le,[(Ke(!0),Je($r,null,qa(T.value,se=>(Ke(),Je("div",{class:"image",key:se.id},[V("button",{class:"removeImage",onClick:pe=>Be(se.id),draggable:"true",onDrop:pe=>Te.reorderImages(se.id),onDragover:xe[4]||(xe[4]=(...pe)=>Te.allowDrop&&Te.allowDrop(...pe)),onDragstart:xe[5]||(xe[5]=(...pe)=>Te.dragImage&&Te.dragImage(...pe))},Ale,40,xle),V("img",{src:se.url},null,8,Ele)]))),128))])):kr("",!0),V("input",{type:"file",onChange:de},null,32),V("p",Tle,ar(L.value),1),L.value?(Ke(),Je("button",{key:1,class:"button-primary",onClick:$e,disabled:q.value},ar(q.value?"Komprimiere Bild...":"Bild verkleinern"),9,Ole)):kr("",!0),Dle,qn(V("input",{type:"text","onUpdate:modelValue":xe[6]||(xe[6]=se=>m.value.image_copyright=se),placeholder:"Bild Copyright"},null,512),[[Qn,m.value.image_copyright]])]),V("div",Rle,[yt(B8,{value:m.value.is_public,titel:"ffentliche Tour",onInput:xe[7]||(xe[7]=se=>m.value.is_public=se)},null,8,["value"]),m.value.is_public?(Ke(),Je("div",$le,[Ble,V("div",Mle,[Ple,qn(V("input",{type:"date","onUpdate:modelValue":xe[8]||(xe[8]=se=>m.value.date=se)},null,512),[[Qn,m.value.date]])]),V("div",Ile,[Nle,qn(V("input",{type:"text","onUpdate:modelValue":xe[9]||(xe[9]=se=>m.value.duration=se),placeholder:"bspw. 14:30 Uhr"},null,512),[[Qn,m.value.duration]])]),V("div",zle,[Fle,qn(V("input",{type:"text","onUpdate:modelValue":xe[10]||(xe[10]=se=>m.value.price=se),placeholder:"bspw. 10.50"},null,512),[[Qn,m.value.price]])]),yt(B8,{value:m.value.needs_registration,titel:"Anmeldung erforderlich",onInput:xe[11]||(xe[11]=se=>m.value.needs_registration=se)},null,8,["value"])])):kr("",!0)])]),V("div",Lle,[V("div",Hle,[Vle,Ule,yt(bG,{ref_key:"guideSelect",ref:y},null,512)]),V("div",Wle,[jle,Gle,yt(yG,{ref_key:"ortSelect",ref:b},null,512)]),V("div",qle,[Kle,Xle,yt(wG,{ref_key:"kategorieSelect",ref:S},null,512)]),V("div",Yle,[Jle,Zle,yt(a6,{ref_key:"mobilitySelect",ref:_},null,512)]),V("div",Qle,[ece,tce,V("div",nce,[qn(V("select",{"onUpdate:modelValue":xe[12]||(xe[12]=se=>m.value.status=se)},oce,512),[[_j,m.value.status]])]),V("button",{class:"button-primary",onClick:Se},ar(F.value),1),V("div",ice,[(Ke(!0),Je($r,null,qa(j.value,se=>(Ke(),Je("p",{key:se},ar(se),1))),128))])])])])])}}},sce=t2(uce,[["__scopeId","data-v-54c4e998"]]);const lce={default:{name:"TourDateSetter",props:{dates:{type:String,required:!0,default:[]}}},data(){return{dates:[],date:"",addDate:!1,isEditing:!1,editingId:null,tourId:parseInt(this.$route.params.id)}},methods:{addDateEntry(){this.isEditing?Mn.put(`/tour_dates/${this.editingId}`,{date:this.date},{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(f=>{const m=this.dates.findIndex(y=>y.id===this.editingId);console.log(m),this.dates[m].date=this.date,this.isEditing=!1,this.date="",this.addDate=!1,this.$forceUpdate()}).catch(f=>{f.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())}):Mn.post("/tour_dates",{date:this.date,tour_id:this.tourId},{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(f=>{this.dates.push({id:f.data.id,date:f.data.date}),this.date="",this.addDate=!1}).catch(f=>{f.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})},EditDateEntry(f){this.isEditing=!0,this.addDate=!0,this.date=f.date,this.editingId=f.id},RemoveDateEntry(f){Mn.delete(`/tour_dates/${f.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(m=>{this.dates=this.dates.filter(y=>y.id!==f.id)}).catch(m=>{m.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})}},mounted(){Mn.get(`/tour_dates/${this.tourId}`).then(f=>{this.dates=f.data.tour_dates}).catch(f=>{f.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})}},cce={class:"date-picker"},fce=V("h5",null,"Tour Termine",-1),vce={key:0,class:"date-picker-container"},dce={for:"date"},mce={class:"date-picker-actions"},hce=["onClick"],gce=V("img",{src:$d,width:"20",height:"20"},null,-1),pce=[gce],bce=["onClick"],yce=V("img",{src:Of,width:"20",height:"20"},null,-1),wce=[yce],Cce={key:1,class:"date-picker-container"},Sce=V("div",{class:"date-picker-item"},[V("label",{for:"date"},"Keine Termine angelegt")],-1),_ce=[Sce],xce={key:2,class:"date-picker-add"},kce=["disabled"];function Ace(f,m,y,b,S,_){return Ke(),Je("div",cce,[fce,S.dates.length>0?(Ke(),Je("div",vce,[(Ke(!0),Je($r,null,qa(S.dates,O=>(Ke(),Je("div",{key:O.id,class:"date-picker-item"},[V("label",dce,ar(new Date(O.date).toLocaleDateString("de-DE")),1),V("div",mce,[V("div",{onClick:T=>_.EditDateEntry(O)},pce,8,hce),V("div",{onClick:T=>_.RemoveDateEntry(O)},wce,8,bce)])]))),128))])):(Ke(),Je("div",Cce,_ce)),S.addDate?(Ke(),Je("div",xce,[qn(V("input",{type:"date","onUpdate:modelValue":m[0]||(m[0]=O=>S.date=O)},null,512),[[Qn,S.date]]),V("button",{class:"button-primary",onClick:m[1]||(m[1]=O=>_.addDateEntry())},"Speichern"),V("button",{class:"button-primary",onClick:m[2]||(m[2]=O=>(S.addDate=!1,S.isEditing=!1))}," Abbrechen ")])):kr("",!0),V("button",{class:"button-primary",onClick:m[3]||(m[3]=O=>S.addDate=!0),disabled:S.addDate}," Termin hinzufgen ",8,kce)])}const Ece=t2(lce,[["render",Ace]]);const Ci=f=>(gA("data-v-9b593410"),f=f(),pA(),f),Tce={class:"row"},Oce=Ci(()=>V("h1",null,"Tour bearbeiten",-1)),Dce=Ci(()=>V("hr",{class:"divider"},null,-1)),Rce={class:"creation-grid"},$ce={class:"main-content"},Bce=Ci(()=>V("h4",null,"Allgemeine Informationen",-1)),Mce=Ci(()=>V("hr",{class:"divider"},null,-1)),Pce={class:"row content-row"},Ice={class:"row content-row"},Nce={class:"content-row"},zce=Ci(()=>V("h4",null,"Standort",-1)),Fce=Ci(()=>V("hr",{class:"divider"},null,-1)),Lce={class:"content-row"},Hce=Ci(()=>V("h4",null,"Bilder",-1)),Vce=Ci(()=>V("hr",{class:"divider"},null,-1)),Uce={key:0,class:"images"},Wce=["onClick","onDrop"],jce=Ci(()=>V("img",{src:Of,width:"25",height:"25"},null,-1)),Gce=[jce],qce=["src"],Kce={class:"error"},Xce=["disabled"],Yce=Ci(()=>V("div",{class:"divider"},null,-1)),Jce={class:"content-row"},Zce={key:0},Qce=Ci(()=>V("hr",{class:"divider"},null,-1)),efe={class:"input-container"},tfe={class:"input-container"},nfe=Ci(()=>V("h5",null,"Wann startet diese Tour",-1)),rfe={class:"input-container"},afe=Ci(()=>V("h5",null,"Preis",-1)),ofe={class:"creation-sidebar"},ife={class:"sidebar-item"},ufe=Ci(()=>V("h4",null,"Guide hinzufgen",-1)),sfe=Ci(()=>V("hr",{class:"divider"},null,-1)),lfe={class:"sidebar-item"},cfe=Ci(()=>V("h4",null,"Ort hinzufgen",-1)),ffe=Ci(()=>V("hr",{class:"divider"},null,-1)),vfe={class:"sidebar-item"},dfe=Ci(()=>V("h4",null,"Kategorien hinzufgen",-1)),mfe=Ci(()=>V("hr",{class:"divider"},null,-1)),hfe={class:"sidebar-item"},gfe=Ci(()=>V("h4",null,"Mobilitt hinzufgen",-1)),pfe=Ci(()=>V("hr",{class:"divider"},null,-1)),bfe={class:"sidebar-item"},yfe=Ci(()=>V("h4",null,"Verffentlichen",-1)),wfe=Ci(()=>V("hr",{class:"divider"},null,-1)),Cfe={class:"input-container"},Sfe=Ci(()=>V("option",{value:"draft"},"Entwurf",-1)),_fe=Ci(()=>V("option",{value:"published"},"Verffentlichen",-1)),xfe=[Sfe,_fe],kfe={class:"errorMessages"},Afe={__name:"Edit",setup(f){const m=_t({"name:de":"","name:en":"","description:de":"","description:en":"",location:{lat:0,lng:0},status:"draft",is_public:!1,date:new Date,duration:null,needs_registration:!1,mobilities:null,price:0,guides:[],places:[],images:[],main_image:null,image_copyright:"",themes:[],created_at:null,updated_at:null}),y=_t(null),b=_t(null),S=_t(null),_=_t(null),O=_t(null),T=_t([]),F=_t(!0),j=_t("Aktualisieren"),P=Qm(),{id:H}=P.params,I=Rc(),L=_t([]),Y=ri(()=>typeof m.value.price=="number"?m.value.price:m.value.price.replace(",",".").replace(/[^0-9.]/g,"")),q=ri(()=>typeof m.value.duration=="number"?m.value.duration:m.value.duration.replace(",",".").replace(/[^0-9.]/g,"")),$e=()=>{Mn.get("/tours/"+H,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ye=>{try{T.value=ye.data.tour.images,m.value["name:de"]=ye.data.tour.translations[0].name,m.value["name:en"]=ye.data.tour.translations[1].name,m.value["description:de"]=ye.data.tour.translations[0].description,m.value["description:en"]=ye.data.tour.translations[1].description;let Me=ye.data.tour.location;Me?(Me=JSON.parse(Me),m.value.location.lat=Me.lat,m.value.location.lng=Me.lng):(m.value.location.lat=0,m.value.location.lng=0),m.value.status=ye.data.tour.status,m.value.is_public=ye.data.tour.is_public,m.value.duration=ye.data.tour.duration,m.value.needs_registration=ye.data.tour.needs_registration,m.value.mobilities=ye.data.tour.mobilities||null,m.value.price=ye.data.tour.price,m.value.guides=ye.data.tour.guides,m.value.places=ye.data.tour.places,m.value.images=ye.data.tour.images,m.value.main_image=ye.data.tour.main_image,m.value.image_copyright=ye.data.tour.image_copyright||"unset",m.value.themes=ye.data.tour.themes,m.value.created_at=ye.data.tour.created_at,m.value.updated_at=ye.data.tour.updated_at,Gn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:lp.toString()+`
`+cp.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:re=>{re.on("init",()=>{console.log("Editor is initialized."),Gn.get("editor_de").setContent(m.value["description:de"]||""),Gn.get("editor_en").setContent(m.value["description:en"]||"")})}}),F.value=!1}catch(Me){console.log(Me),window.alert("Tour konnte nicht geladen werden")}document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}).catch(ye=>{ye.response.status===401?sessionStorage.removeItem("token"):window.alert("Tour konnte nicht geladen werden")})},de=()=>{if(T.value.length===0){T.value=null;return}let ye=[];for(let Me=0;Me<T.value.length;Me++)ye.push(T.value[Me].id);m.value.images=ye,m.value.main_image=T.value[0].id,T.value.length===0&&(m.value.main_image=null)},Be=_t(""),ne=_t(null),Se=_t(!1),Te=()=>{Se.value=!0;const ye={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};ne.value&&imageCompression(ne.value,ye).then(Me=>{const re=new FormData;re.append("file",Me),Mn.post("/media",re,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(W=>{T.value.push(W.data.media),Se.value=!1}).catch(W=>{console.log(W),window.alert("Fehler beim Upload des Bildes"),Se.value=null})}).catch(Me=>{console.log(Me),window.alert("Fehler beim Komprimieren des Bildes")})},xe=ye=>{Be.value="";const Me=ye.target.files,re=Me[0].size/1024/1024;if(re>1){Be.value="Bild("+re.toFixed(2)+"MB) ist zu gro (max. 1MB)",ne.value=Me[0];return}if(Me)for(let W=0;W<Me.length;W++){const ke=Me[W],et=new FormData;et.append("file",ke),Mn.post("/media",et,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(le=>{T.value.push(le.data.media)}).catch(le=>{console.log(le),window.alert("Fehler beim Upload des Bildes")})}},Ge=ye=>{T.value=T.value.filter(Me=>Me.id!==ye)},se=()=>(L.value=[],m.value["name:de"]===""&&L.value.push("Titel der Tour (DE) ist ein Pflichtfeld"),m.value["name:en"]===""&&L.value.push("Titel der Tour (EN) ist ein Pflichtfeld"),T.value.length===0&&L.value.push("Es muss mindestens ein Bild hochgeladen werden"),m.value.is_public&&(m.value.date===null&&L.value.push("Datum der Tour ist ein Pflichtfeld"),m.value.duration===null&&L.value.push("Dauer der Tour ist ein Pflichtfeld"),m.value.price===null&&L.value.push("Preis der Tour ist ein Pflichtfeld")),L.value.length===0),pe=()=>{if(!se())return;const ye=O.value.getData();m.value.location=m.value.location,m.value.location.lat=ye.lat,m.value.location.lng=ye.lng,j.value="Tour wird aktualisiert...",de(),m.value["description:de"]=Gn.get("editor_de").getContent(),m.value["description:en"]=Gn.get("editor_en").getContent();const Me=y.value.getData(),re=b.value.getData(),W=S.value.getData(),ke=_.value.getData();m.value.image_copyright=m.value.image_copyright||"unset",m.value.guides=Me,m.value.places=re,m.value.themes=W,ke.length===0?m.value.mobilities=null:m.value.mobilities=ke,m.value.is_public?(m.value.price=Y.value,m.value.duration=q.value):m.value.date=null,Mn.patch("/tours/"+H,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(et=>{j.value="Erfolgreich Aktualisiert",window.onbeforeunload=null,setTimeout(()=>{I.push("/touren")},1e3)}).catch(et=>{console.log(et),et.response.status===401?sessionStorage.removeItem("token"):(window.alert("Tour konnte nicht aktualisiert werden"),j.value="Aktualisieren")})};return Ia(()=>{$e()}),Zm(()=>{Gn.remove()}),(ye,Me)=>{const re=Ua("router-Link");return Ke(),Je("main",null,[V("div",Tce,[Oce,yt(re,{to:"/",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1})]),Dce,V("div",Rce,[V("div",$ce,[Bce,Mce,V("div",Pce,[yt(Er,{lang:"de",title:"Titel der Tour"},{content:Gt(()=>[qn(V("input",{type:"text",for:"title",placeholder:"Titel","onUpdate:modelValue":Me[0]||(Me[0]=W=>m.value["name:de"]=W)},null,512),[[Qn,m.value["name:de"]]])]),_:1}),yt(Er,{lang:"en",title:"title of the tour"},{content:Gt(()=>[qn(V("input",{type:"text",for:"title",placeholder:"Title","onUpdate:modelValue":Me[1]||(Me[1]=W=>m.value["name:en"]=W)},null,512),[[Qn,m.value["name:en"]]])]),_:1})]),V("div",Ice,[yt(Er,{lang:"de",title:"Beschreibung der Tour"},{content:Gt(()=>[qn(V("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de","onUpdate:modelValue":Me[2]||(Me[2]=W=>m.value["description:de"]=W)},null,512),[[Qn,m.value["description:de"]]])]),_:1}),yt(Er,{lang:"en",title:"Description of the tour"},{content:Gt(()=>[qn(V("textarea",{for:"description",placeholder:"Description",id:"editor_en","onUpdate:modelValue":Me[3]||(Me[3]=W=>m.value["description:en"]=W)},null,512),[[Qn,m.value["description:en"]]])]),_:1})]),V("div",Nce,[zce,Fce,F.value?kr("",!0):(Ke(),Dd(CG,{key:0,ref_key:"mapContainer",ref:O,coordinates:m.value.location},null,8,["coordinates"]))]),V("div",Lce,[Hce,Vce,T.value.length>0?(Ke(),Je("div",Uce,[(Ke(!0),Je($r,null,qa(T.value,W=>(Ke(),Je("div",{class:"image",key:W.id},[V("button",{class:"removeImage",onClick:ke=>Ge(W.id),draggable:"true",onDrop:ke=>ye.reorderImages(W.id),onDragover:Me[4]||(Me[4]=(...ke)=>ye.allowDrop&&ye.allowDrop(...ke)),onDragstart:Me[5]||(Me[5]=(...ke)=>ye.dragImage&&ye.dragImage(...ke))},Gce,40,Wce),V("img",{src:W.url},null,8,qce)]))),128))])):kr("",!0),V("input",{type:"file",onChange:xe},null,32),V("p",Kce,ar(Be.value),1),Be.value?(Ke(),Je("button",{key:1,class:"button-primary",onClick:Te,disabled:Se.value},ar(Se.value?"Komprimiere Bild...":"Bild verkleinern"),9,Xce)):kr("",!0),Yce,qn(V("input",{type:"text","onUpdate:modelValue":Me[6]||(Me[6]=W=>m.value.image_copyright=W),placeholder:"Bild Copyright"},null,512),[[Qn,m.value.image_copyright]])]),V("div",Jce,[yt(B8,{value:m.value.is_public,titel:"ffentliche Tour",onInput:Me[7]||(Me[7]=W=>m.value.is_public=W)},null,8,["value"]),m.value.is_public?(Ke(),Je("div",Zce,[Qce,V("div",efe,[yt(Ece)]),V("div",tfe,[nfe,qn(V("input",{type:"text","onUpdate:modelValue":Me[8]||(Me[8]=W=>m.value.duration=W),placeholder:"bspw. 14:30 Uhr"},null,512),[[Qn,m.value.duration]])]),V("div",rfe,[afe,qn(V("input",{type:"text","onUpdate:modelValue":Me[9]||(Me[9]=W=>m.value.price=W)},null,512),[[Qn,m.value.price]])]),yt(B8,{value:m.value.needs_registration,titel:"Anmeldung erforderlich",onInput:Me[10]||(Me[10]=W=>m.value.needs_registration=W)},null,8,["value"])])):kr("",!0)])]),V("div",ofe,[V("div",ife,[ufe,sfe,yt(bG,{ref_key:"guideSelect",ref:y,selectedGuides:m.value.guides},null,8,["selectedGuides"])]),V("div",lfe,[cfe,ffe,yt(yG,{ref_key:"ortSelect",ref:b,selectedplaces:m.value.places},null,8,["selectedplaces"])]),V("div",vfe,[dfe,mfe,yt(wG,{ref_key:"kategorieSelect",ref:S,selectedthemes:m.value.themes},null,8,["selectedthemes"])]),V("div",hfe,[gfe,pfe,yt(a6,{ref_key:"mobilitySelect",ref:_,selectedMobilites:m.value.mobilities},null,8,["selectedMobilites"])]),V("div",bfe,[yfe,wfe,V("p",null," Erstellt am: "+ar(new Date(m.value.created_at).toLocaleString("de-DE")),1),V("p",null," Bearbeitet am: "+ar(new Date(m.value.updated_at).toLocaleString("de-DE")),1),V("div",Cfe,[qn(V("select",{"onUpdate:modelValue":Me[11]||(Me[11]=W=>m.value.status=W)},xfe,512),[[_j,m.value.status]])]),V("button",{class:"button-primary",onClick:pe},ar(j.value),1),V("div",kfe,[(Ke(!0),Je($r,null,qa(L.value,W=>(Ke(),Je("p",{key:W},ar(W),1))),128))])])])])])}}},Efe=t2(Afe,[["__scopeId","data-v-9b593410"]]),Tfe={class:"row"},Ofe=V("h1",null,"Alle Guides",-1),Dfe=V("hr",{class:"divider"},null,-1),Rfe=V("img",{src:$d,width:"20"},null,-1),$fe=["onClick"],Bfe=V("img",{src:Of,width:"20"},null,-1),Mfe=[Bfe],Pfe={__name:"Overview",setup(f){const m=_t([]),y=_t(!1),b=_t([{key:"name",title:"Name"}]),S=()=>{y.value=!0,Mn.get("/guides?preview=true&per_page=200").then(O=>{y.value=!1,m.value=O.data.guides.data}).catch(O=>{y.value=!1,console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=O=>{window.confirm("Willst du diesen Guide wirklich lschen?")&&Mn.delete(`/guides/${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(T=>{console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Guide konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ia(()=>{S()}),(O,T)=>{const F=Ua("router-link"),j=Ua("RouterLink");return Ke(),Je("main",null,[V("div",Tfe,[Ofe,yt(F,{to:"/guide-erstellen",class:"button-primary"},{default:Gt(()=>[Rr("Guide hinzufgen")]),_:1})]),Dfe,yt(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Gt(()=>[Rr(" Aktionen ")]),tableActions:Gt(P=>[yt(j,{to:`/guide-bearbeiten/${P.row.id}`},{default:Gt(()=>[Rfe]),_:2},1032,["to"]),V("button",{onClick:H=>_(P.row.id)},Mfe,8,$fe)]),_:1},8,["tableData","tableColumns","loading"])])}}},Ife={__name:"Create",setup(f){return(m,y)=>(Ke(),Je("main",null,[yt(c9)]))}},Nfe={__name:"Edit",setup(f){const y=Qm().params.id;return(b,S)=>(Ke(),Je("main",null,[yt(c9,{"edit-mode":!0,id:$o(y)},null,8,["id"])]))}};const zfe={class:"profile-container"},Ffe=V("h1",null,"Profil Aktualisieren",-1),Lfe=V("hr",{class:"divider"},null,-1),Hfe={class:"row content-row"},Vfe={class:"row content-row"},Ufe=V("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Wfe=V("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),jfe={class:"content-row"},Gfe=V("h3",null,"Guide Eigenschaften",-1),qfe=V("hr",{class:"divider"},null,-1),Kfe={class:"row"},Xfe={class:"col",style:{width:"23%","min-width":"200px"}},Yfe=V("span",null,"Zertifikatsauswahl",-1),Jfe={class:"col",style:{width:"23%","min-width":"200px"}},Zfe=V("span",null,"Sprachauswahl",-1),Qfe={class:"col",style:{width:"23%","min-width":"200px"}},eve=V("span",null,"Mobilittsauswahl",-1),tve={class:"col",style:{width:"23%","min-width":"200px"}},nve=V("span",null,"Skillauswahl",-1),rve={class:"content-row"},ave=V("h3",null,"Kontakt",-1),ove=V("hr",{class:"divider"},null,-1),ive={class:"row"},uve={class:"col"},sve=V("span",null,"Email",-1),lve={class:"col"},cve=V("span",null,"Telefon",-1),fve={class:"col"},vve=V("span",null,"Webseite",-1),dve={class:"col"},mve=V("span",null,"Handynummer",-1),hve={class:"content-row"},gve=V("h3",null,"Guide Bild",-1),pve=V("hr",{class:"divider"},null,-1),bve={key:0,class:"image"},yve=["src"],wve={class:"row"},Cve={class:"col"},Sve={class:"content-row"},_ve={class:"errorMessages"},xve=V("h2",{style:{"margin-top":"50px"}},"Passwort ndern",-1),kve=V("hr",{class:"divider"},null,-1),Ave={class:"content-row"},Eve={class:"row"},Tve={class:"col"},Ove=V("span",null,"Neues Passwort",-1),Dve={class:"col"},Rve=V("span",null,"Neues Passwort wiederholen",-1),$ve={__name:"Profile",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1},showButton:{type:Boolean,default:!0}},emits:["closePopup","newGuide"],setup(f,{emit:m}){const y=f,b=_t(null),S=_t(null),_=_t(null),O=_t(null),T=_t({"name:de":"","name:en":"","description:de":"","description:en":"",contact:{},image:null,languages:[],skills:[],mobility:[],certificates:[]}),F=_t({oldPassword:"",newPassword:"",newPasswordRepeat:""}),j=()=>{if(F.value.newPassword!==F.value.newPasswordRepeat){window.alert("Die neuen Passwrter stimmen nicht berein");return}T.tours!==null&&(T.value.tours=T.value.tours.map(se=>se.id)),T.languages!==null&&(T.value.languages=T.value.languages.map(se=>se.id)),T.skills!==null&&(T.value.skills=T.value.skills.map(se=>se.id)),T.mobility!==null&&(T.value.mobility=T.value.mobility.map(se=>se.id)),T.certificates!==null&&(T.value.certificates=T.value.certificates.map(se=>se.id)),typeof T.value.image=="object"&&T.value.image!==null&&(T.value.image=T.value.image.id),T.value["description:de"]=Gn.get("editor_de").getContent(),T.value["description:en"]=Gn.get("editor_en").getContent();const ne=b.value.getData(),Se=S.value.getData(),Te=_.value.getData(),xe=O.value.getData();T.value.certificates=ne,T.value.languages=Se,T.value.mobility=Te,T.value.skills=xe;let Ge=T.value;Ge.password=F.value.newPassword,Mn.patch(`/guides/${L.params.id}`,Ge,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(se=>{window.alert("Passwort erfolgreich gendert"),F.value={oldPassword:"",newPassword:"",newPasswordRepeat:""},sessionStorage.removeItem("token"),sessionStorage.removeItem("role"),sessionStorage.removeItem("guideId"),window.location.reload()}).catch(se=>{console.log(se),se.response.status===401?(window.alert("Ihre Sitzung ist abgelaufen. Bitte melden Sie sich erneut an"),sessionStorage.removeItem("token"),window.location.reload()):(window.alert("Fehler beim ndern des Passworts. "+se.response.data.error),window.location.reload())})},P=_t([]),H=_t("Profil aktualisieren"),I=_t(null),L=Qm(),Y=()=>{const ne=b.value.getData(),Se=S.value.getData(),Te=_.value.getData(),xe=O.value.getData();return T.value.certificates=ne,T.value.languages=Se,T.value.mobility=Te,T.value.skills=xe,P.value=[],T.value["name:de"]===""&&P.value.push("Bitte geben Sie einen Namen (DE) ein"),T.value["name:en"]===""&&P.value.push("Bitte geben Sie einen Namen (EN) ein"),T.value.languages.length===0&&P.value.push("Bitte whlen Sie mindestens eine Sprache aus"),P.value.length===0},q=()=>{if(!Y())return;H.value="Profil wird aktualisiert...",T.tours!==null&&(T.value.tours=T.value.tours.map(Ge=>Ge.id)),T.languages!==null&&(T.value.languages=T.value.languages.map(Ge=>Ge.id)),T.skills!==null&&(T.value.skills=T.value.skills.map(Ge=>Ge.id)),T.mobility!==null&&(T.value.mobility=T.value.mobility.map(Ge=>Ge.id)),T.certificates!==null&&(T.value.certificates=T.value.certificates.map(Ge=>Ge.id)),typeof T.value.image=="object"&&T.value.image!==null&&(T.value.image=T.value.image.id),T.value["description:de"]=Gn.get("editor_de").getContent(),T.value["description:en"]=Gn.get("editor_en").getContent();const ne=b.value.getData(),Se=S.value.getData(),Te=_.value.getData(),xe=O.value.getData();T.value.certificates=ne,T.value.languages=Se,T.value.mobility=Te,T.value.skills=xe,Mn.patch(`/guides/${y.id}`,T.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Ge=>{H.value="Profil aktualisieren",window.alert("Profil erfolgreich aktualisiert")}).catch(Ge=>{console.log(Ge),H.value="Profil aktualisieren",Ge.response.status===401?(window.alert("Ihre Sitzung ist abgelaufen. Bitte melden Sie sich erneut an"),sessionStorage.removeItem("token"),window.location.reload()):window.alert("Fehler beim Aktualisieren des Guides")})},$e=ne=>{const Se=ne.target.files;if(console.log(Se),Se)for(let Te=0;Te<Se.length;Te++){const xe=Se[Te],Ge=new FormData;Ge.append("file",xe),Mn.post("/media",Ge,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(se=>{T.value.image=se.data.media.id,I.value=se.data.media.url}).catch(se=>{console.log(se),window.alert("Fehler beim Upload des Bildes")})}};Ia(async()=>{de(),Gn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:lp.toString()+`
`+cp.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:ne=>{ne.on("init",()=>{ne.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const de=()=>{Mn.get(`/guides/${L.params.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ne=>{T.value=ne.data.guide,T.value["name:de"]=ne.data.guide.translations[0].name,T.value["name:en"]=ne.data.guide.translations[1].name,T.value["description:de"]=ne.data.guide.translations[0].description,T.value["description:en"]=ne.data.guide.translations[1].description,ne.data.guide.contact!==null&&!Array.isArray(JSON.parse(ne.data.guide.contact))?T.value.contact=JSON.parse(ne.data.guide.contact):T.value.contact={},I.value=ne.data.guide.image?ne.data.guide.image[0].url:null,T.value.languages=ne.data.guide.languages,T.value.skills=ne.data.guide.skills,T.value.mobility=ne.data.guide.mobility,T.value.certificates=ne.data.guide.certificates,ne.data.guide.image!==null&&(I.value=ne.data.guide.image[0].url),Gn.get("editor_de").setContent(ne.data.guide.translations[0].description||""),Gn.get("editor_en").setContent(ne.data.guide.translations[1].description||""),console.log(T)}).catch(ne=>{console.log(ne),ne.response.status===401?(window.alert("Ihre Sitzung ist abgelaufen. Bitte melden Sie sich erneut an"),sessionStorage.removeItem("token"),window.location.reload()):console.log(ne)})},Be=()=>{T.value.image=null,I.value=null};return Zm(()=>{y.insidePopup||Gn.remove()}),(ne,Se)=>(Ke(),Je("div",zfe,[Ffe,Lfe,V("div",Hfe,[yt(Er,{lang:"de",title:"Name"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":Se[0]||(Se[0]=Te=>T.value["name:de"]=Te),placeholder:"Name"},null,512),[[Qn,T.value["name:de"]]])]),_:1}),yt(Er,{lang:"en",title:"Name"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":Se[1]||(Se[1]=Te=>T.value["name:en"]=Te),placeholder:"Name"},null,512),[[Qn,T.value["name:en"]]])]),_:1})]),V("div",Vfe,[yt(Er,{lang:"de",title:"Beschreibung"},{content:Gt(()=>[Ufe]),_:1}),yt(Er,{lang:"en",title:"Description"},{content:Gt(()=>[Wfe]),_:1})]),V("div",jfe,[Gfe,qfe,V("div",Kfe,[V("div",Xfe,[Yfe,yt(hG,{ref_key:"certificateSelect",ref:b,"selected-certificate":T.value.certificates},null,8,["selected-certificate"])]),V("div",Jfe,[Zfe,yt(gG,{ref_key:"languageSelect",ref:S,"selected-languages":T.value.languages},null,8,["selected-languages"])]),V("div",Qfe,[eve,yt(a6,{ref_key:"mobilitySelect",ref:_,"selected-mobilites":T.value.mobility},null,8,["selected-mobilites"])]),V("div",tve,[nve,yt(pG,{ref_key:"skillSelect",ref:O,"selected-skills":T.value.skills},null,8,["selected-skills"])])])]),V("div",rve,[ave,ove,V("div",ive,[V("div",uve,[sve,qn(V("input",{type:"text",placeholder:"Email","onUpdate:modelValue":Se[2]||(Se[2]=Te=>T.value.contact.email=Te)},null,512),[[Qn,T.value.contact.email]])]),V("div",lve,[cve,qn(V("input",{type:"text",placeholder:"Telefon","onUpdate:modelValue":Se[3]||(Se[3]=Te=>T.value.contact.phone=Te)},null,512),[[Qn,T.value.contact.phone]])]),V("div",fve,[vve,qn(V("input",{type:"text",placeholder:"Webseite","onUpdate:modelValue":Se[4]||(Se[4]=Te=>T.value.contact.website=Te)},null,512),[[Qn,T.value.contact.website]])]),V("div",dve,[mve,qn(V("input",{type:"text",placeholder:"Handynummer","onUpdate:modelValue":Se[5]||(Se[5]=Te=>T.value.contact.mobile=Te)},null,512),[[Qn,T.value.contact.mobile]])])])]),V("div",hve,[gve,pve,I.value?(Ke(),Je("div",bve,[V("img",{src:I.value},null,8,yve)])):kr("",!0),I.value?(Ke(),Je("a",{key:1,onClick:Be,class:"removeImage"},"Bild entfernen")):kr("",!0),V("div",wve,[V("div",Cve,[V("input",{type:"file",onChange:$e},null,32)])])]),V("div",Sve,[V("button",{class:"button-primary",onClick:Se[6]||(Se[6]=Te=>y.editMode?q():ne.createGuide())},ar(H.value),1),V("div",_ve,[(Ke(!0),Je($r,null,qa(P.value,Te=>(Ke(),Je("p",{key:Te},ar(Te),1))),128))])]),xve,kve,V("div",Ave,[V("div",Eve,[V("div",Tve,[Ove,qn(V("input",{type:"password",placeholder:"Neues Passwort","onUpdate:modelValue":Se[7]||(Se[7]=Te=>F.value.newPassword=Te)},null,512),[[Qn,F.value.newPassword]])]),V("div",Dve,[Rve,qn(V("input",{type:"password",placeholder:"Neues Passwort wiederholen","onUpdate:modelValue":Se[8]||(Se[8]=Te=>F.value.newPasswordRepeat=Te)},null,512),[[Qn,F.value.newPasswordRepeat]])])]),V("button",{class:"button-primary",style:{"margin-top":"20px"},onClick:Se[9]||(Se[9]=Te=>j())}," Passwort ndern ")])]))}},Bve={class:"row"},Mve=V("h1",null,"Alle Sprachen",-1),Pve=V("hr",{class:"divider"},null,-1),Ive=V("img",{src:$d,width:"20"},null,-1),Nve=["onClick"],zve=V("img",{src:Of,width:"20"},null,-1),Fve=[zve],Lve={__name:"Overview",setup(f){const m=_t([]),y=_t(!1),b=_t([{key:"name",title:"Name"}]),S=()=>{y.value=!0,Mn.get("/languages").then(O=>{y.value=!1,m.value=O.data.languages}).catch(O=>{y.value=!1,console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=O=>{Mn.delete(`/languages/${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(T=>{console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Sprache konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ia(()=>{S()}),(O,T)=>{const F=Ua("router-link"),j=Ua("RouterLink");return Ke(),Je("main",null,[V("div",Bve,[Mve,yt(F,{to:"/sprache-erstellen",class:"button-primary"},{default:Gt(()=>[Rr("Sprache hinzufgen")]),_:1})]),Pve,yt(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Gt(()=>[Rr(" Aktionen ")]),tableActions:Gt(P=>[yt(j,{to:`/sprache-bearbeiten/${P.row.id}`},{default:Gt(()=>[Ive]),_:2},1032,["to"]),V("button",{onClick:H=>_(P.row.id)},Fve,8,Nve)]),_:1},8,["tableData","tableColumns","loading"])])}}},Hve={__name:"Create",setup(f){return(m,y)=>(Ke(),Je("main",null,[yt(u9)]))}},Vve={__name:"Edit",setup(f){const y=Qm().params.id;return(b,S)=>(Ke(),Je("main",null,[yt(u9,{"edit-mode":!0,id:$o(y)},null,8,["id"])]))}},Uve={class:"row"},Wve=V("h1",null,"Alle Mobilitten",-1),jve=V("hr",{class:"divider"},null,-1),Gve=V("img",{src:$d,width:"20"},null,-1),qve=["onClick"],Kve=V("img",{src:Of,width:"20"},null,-1),Xve=[Kve],Yve={__name:"Overview",setup(f){const m=_t([]),y=_t(!1),b=_t([{key:"name",title:"Name"}]),S=()=>{y.value=!0,Mn.get("/mobility").then(O=>{y.value=!1,m.value=O.data.mobilities}).catch(O=>{y.value=!1,console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=O=>{Mn.delete(`/mobility/${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(T=>{console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Mobilitt konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ia(()=>{S()}),(O,T)=>{const F=Ua("router-link"),j=Ua("RouterLink");return Ke(),Je("main",null,[V("div",Uve,[Wve,yt(F,{to:"/mobilitaet-erstellen",class:"button-primary"},{default:Gt(()=>[Rr("Mobilitt hinzufgen")]),_:1})]),jve,yt(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Gt(()=>[Rr(" Aktionen ")]),tableActions:Gt(P=>[yt(j,{to:`/mobilitaet-bearbeiten/${P.row.id}`},{default:Gt(()=>[Gve]),_:2},1032,["to"]),V("button",{onClick:H=>_(P.row.id)},Xve,8,qve)]),_:1},8,["tableData","tableColumns","loading"])])}}},Jve={__name:"Create",setup(f){return(m,y)=>(Ke(),Je("main",null,[yt(l9)]))}},Zve={__name:"Edit",setup(f){const y=Qm().params.id;return(b,S)=>(Ke(),Je("main",null,[yt(l9,{"edit-mode":!0,id:$o(y)},null,8,["id"])]))}},Qve={class:"row"},ede=V("h1",null,"Alle Orte",-1),tde=V("hr",{class:"divider"},null,-1),nde=V("img",{src:$d,width:"20"},null,-1),rde=["onClick"],ade=V("img",{src:Of,width:"20"},null,-1),ode=[ade],ide={__name:"Overview",setup(f){const m=_t([]),y=_t(!1),b=_t([{key:"name",title:"Name"}]),S=()=>{y.value=!0,Mn.get("/places").then(O=>{y.value=!1,m.value=O.data.places}).catch(O=>{y.value=!1,console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=O=>{Mn.delete(`/places/${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(T=>{console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Ort konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ia(()=>{S()}),(O,T)=>{const F=Ua("router-link"),j=Ua("RouterLink");return Ke(),Je("main",null,[V("div",Qve,[ede,yt(F,{to:"/ort-erstellen",class:"button-primary"},{default:Gt(()=>[Rr("Ort hinzufgen")]),_:1})]),tde,yt(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Gt(()=>[Rr(" Aktionen ")]),tableActions:Gt(P=>[yt(j,{to:`/ort-bearbeiten/${P.row.id}`},{default:Gt(()=>[nde]),_:2},1032,["to"]),V("button",{onClick:H=>_(P.row.id)},ode,8,rde)]),_:1},8,["tableData","tableColumns","loading"])])}}},ude={__name:"Create",setup(f){return(m,y)=>(Ke(),Je("main",null,[yt(f9)]))}},sde={__name:"Edit",setup(f){const y=Qm().params.id;return(b,S)=>(Ke(),Je("main",null,[yt(f9,{"edit-mode":!0,id:$o(y)},null,8,["id"])]))}},lde={class:"row"},cde=V("h1",null,"Alle Kategorien",-1),fde=V("hr",{class:"divider"},null,-1),vde=V("img",{src:$d,width:"20"},null,-1),dde=["onClick"],mde=V("img",{src:Of,width:"20"},null,-1),hde=[mde],gde={__name:"Overview",setup(f){const m=_t([]),y=_t(!1),b=_t([{key:"name",title:"Name"}]),S=()=>{y.value=!0,Mn.get("/themes").then(O=>{y.value=!1,m.value=O.data.themes}).catch(O=>{y.value=!1,console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=O=>{const T=m.value.find(F=>F.id===O).name;window.confirm(`Mchtest du die Kategorie "${T}" wirklich lschen?`)&&Mn.delete(`/themes/${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(F=>{console.log(F),F.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Kategorie konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ia(()=>{S()}),(O,T)=>{const F=Ua("router-link"),j=Ua("RouterLink");return Ke(),Je("main",null,[V("div",lde,[cde,yt(F,{to:"/kategorie-erstellen",class:"button-primary"},{default:Gt(()=>[Rr("Kategorie hinzufgen")]),_:1})]),fde,yt(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Gt(()=>[Rr(" Aktionen ")]),tableActions:Gt(P=>[yt(j,{to:`/kategorie-bearbeiten/${P.row.id}`},{default:Gt(()=>[vde]),_:2},1032,["to"]),V("button",{onClick:H=>_(P.row.id)},hde,8,dde)]),_:1},8,["tableData","tableColumns","loading"])])}}},pde={__name:"Create",setup(f){return(m,y)=>(Ke(),Je("main",null,[yt(v9)]))}},bde={__name:"Edit",setup(f){const y=Qm().params.id;return(b,S)=>(Ke(),Je("main",null,[yt(v9,{"edit-mode":!0,id:$o(y)},null,8,["id"])]))}},yde={class:"row"},wde=V("h1",null,"Alle Zertifikate",-1),Cde=V("hr",{class:"divider"},null,-1),Sde=V("img",{src:$d,width:"20"},null,-1),_de=["onClick"],xde=V("img",{src:Of,width:"20"},null,-1),kde=[xde],Ade={__name:"Overview",setup(f){const m=_t([]),y=_t(!1),b=_t([{key:"name",title:"Name"}]),S=()=>{y.value=!0,Mn.get("/certificates").then(O=>{y.value=!1,m.value=O.data.certificates}).catch(O=>{y.value=!1,console.log(O),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=O=>{Mn.delete(`/certificates/${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(T=>{console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Das Zertifikat konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ia(()=>{S()}),(O,T)=>{const F=Ua("router-link"),j=Ua("RouterLink");return Ke(),Je("main",null,[V("div",yde,[wde,yt(F,{to:"/zertifikat-erstellen",class:"button-primary"},{default:Gt(()=>[Rr("Zertifikat hinzufgen")]),_:1})]),Cde,yt(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Gt(()=>[Rr(" Aktionen ")]),tableActions:Gt(P=>[yt(j,{to:`/zertifikat-bearbeiten/${P.row.id}`},{default:Gt(()=>[Sde]),_:2},1032,["to"]),V("button",{onClick:H=>_(P.row.id)},kde,8,_de)]),_:1},8,["tableData","tableColumns","loading"])])}}},Ede={__name:"Create",setup(f){return(m,y)=>(Ke(),Je("main",null,[yt(i9)]))}},Tde={__name:"Edit",setup(f){const y=Qm().params.id;return(b,S)=>(Ke(),Je("main",null,[yt(i9,{"edit-mode":!0,id:$o(y)},null,8,["id"])]))}},Ode={class:"row"},Dde=V("div",null,[V("h1",null,"Alle Themen"),V("p",null,"Themen werden Guides Vergeben (Webseite Filter Themen)")],-1),Rde=V("hr",{class:"divider"},null,-1),$de=V("img",{src:$d,width:"20"},null,-1),Bde=["onClick"],Mde=V("img",{src:Of,width:"20"},null,-1),Pde=[Mde],Ide={__name:"Overview",setup(f){const m=_t([]),y=_t(!1),b=_t([{key:"name",title:"Name"}]),S=()=>{y.value=!0,Mn.get("/skills?preview=true").then(O=>{y.value=!1,m.value=O.data.skills}).catch(O=>{y.value=!1,console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=O=>{Mn.delete(`/skills/${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(T=>{console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Skill konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ia(()=>{S()}),(O,T)=>{const F=Ua("router-link"),j=Ua("RouterLink");return Ke(),Je("main",null,[V("div",Ode,[Dde,yt(F,{to:"/skill-erstellen",class:"button-primary"},{default:Gt(()=>[Rr("Thema hinzufgen")]),_:1})]),Rde,yt(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Gt(()=>[Rr(" Aktionen ")]),tableActions:Gt(P=>[yt(j,{to:`/skill-bearbeiten/${P.row.id}`},{default:Gt(()=>[$de]),_:2},1032,["to"]),V("button",{onClick:H=>_(P.row.id)},Pde,8,Bde)]),_:1},8,["tableData","tableColumns","loading"])])}}},Nde={__name:"Create",setup(f){return(m,y)=>(Ke(),Je("main",null,[yt(s9)]))}},zde={__name:"Edit",setup(f){const y=Qm().params.id;return(b,S)=>(Ke(),Je("main",null,[yt(s9,{"edit-mode":!0,id:$o(y)},null,8,["id"])]))}},Fde={class:"row"},Lde=V("h1",null,"Alle Benutzer",-1),Hde=V("hr",{class:"divider"},null,-1),Vde=V("img",{src:$d,width:"20"},null,-1),Ude=["onClick"],Wde=V("img",{src:Of,width:"20"},null,-1),jde=[Wde],Gde={__name:"Overview",setup(f){const m=_t([]),y=_t(!1),b=_t([{key:"name",title:"Name"},{key:"updated_at",title:"zuletzt aktualisiert"}]),S=()=>{y.value=!0,Mn.get("/users").then(O=>{y.value=!1,m.value=O.data.users}).catch(O=>{y.value=!1,console.log(O),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=O=>{Mn.delete(`/users/${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(T=>{console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Benutzer konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ia(()=>{S()}),(O,T)=>{const F=Ua("router-link"),j=Ua("RouterLink");return Ke(),Je("main",null,[V("div",Fde,[Lde,yt(F,{to:"/verwaltung-erstellen",class:"button-primary"},{default:Gt(()=>[Rr("Benutzer hinzufgen")]),_:1})]),Hde,yt(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Gt(()=>[Rr(" Aktionen ")]),tableActions:Gt(P=>[yt(j,{to:`/verwaltung-bearbeiten/${P.row.id}`},{default:Gt(()=>[Vde]),_:2},1032,["to"]),V("button",{onClick:H=>_(P.row.id)},jde,8,Ude)]),_:1},8,["tableData","tableColumns","loading"])])}}},qde={class:"row"},Kde=V("h1",null,"Benutzer erstellen",-1),Xde=V("hr",{class:"divider"},null,-1),Yde={class:"row content-row"},Jde={class:"col",style:{width:"48%","min-width":"200px"}},Zde={class:"col",style:{width:"48%","min-width":"200px"}},Qde={class:"row content-row"},eme={class:"col",style:{width:"48%","min-width":"200px"}},tme={class:"col",style:{width:"48%","min-width":"200px"}},nme={__name:"Create",setup(f){const m=_t({name:"",email:"",password:"",password_confirmation:""}),y=Rc(),b=()=>m.value.password!==m.value.password_confirmation?(alert("Passwrter stimmen nicht berein"),!1):!0,S=()=>{b()&&Mn.post("/auth/register",m.value).then(()=>{y.push("/verwaltung")}).catch(_=>{window.alert("Benutzer konnte nicht erstellt werden")})};return(_,O)=>(Ke(),Je("main",null,[V("div",qde,[Kde,yt($o(Af),{to:"/verwaltung",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1})]),Xde,V("div",Yde,[V("div",Jde,[qn(V("input",{type:"name",placeholder:"Benutzername",for:"username",name:"username","onUpdate:modelValue":O[0]||(O[0]=T=>m.value.name=T)},null,512),[[Qn,m.value.name]])]),V("div",Zde,[qn(V("input",{type:"email",placeholder:"Email",for:"email",name:"email","onUpdate:modelValue":O[1]||(O[1]=T=>m.value.email=T)},null,512),[[Qn,m.value.email]])])]),V("div",Qde,[V("div",eme,[qn(V("input",{type:"password",placeholder:"Passwort",for:"password",name:"password","onUpdate:modelValue":O[2]||(O[2]=T=>m.value.password=T)},null,512),[[Qn,m.value.password]])]),V("div",tme,[qn(V("input",{type:"password",placeholder:"Passwort (Wiederholen)",for:"password",name:"password","onUpdate:modelValue":O[3]||(O[3]=T=>m.value.password_confirmation=T)},null,512),[[Qn,m.value.password_confirmation]])])]),V("div",{class:"row content-row"},[V("button",{class:"button-primary",onClick:S}," Benutzer erstellen ")])]))}},rme={class:"row"},ame=V("h1",null,"Benutzer erstellen",-1),ome=V("hr",{class:"divider"},null,-1),ime={class:"row content-row"},ume={class:"col",style:{width:"48%","min-width":"200px"}},sme={class:"col",style:{width:"48%","min-width":"200px"}},lme={class:"row content-row"},cme={class:"col",style:{width:"48%","min-width":"200px"}},fme={class:"col",style:{width:"48%","min-width":"200px"}},vme={__name:"Edit",setup(f){const m=_t({name:"",email:"",password:"",password_confirmation:""}),y=Rc(),b=y.currentRoute.value.params.id,S=()=>m.value.password!==m.value.password_confirmation?(alert("Passwrter stimmen nicht berein"),!1):!0,_=()=>{S()&&Mn.patch("/users/"+b,m.value).then(()=>{y.push("/verwaltung")}).catch(T=>{window.alert("Benutzer konnte nicht erstellt werden")})},O=()=>{Mn.get(`/users/${b}`).then(T=>{m.value=T.data.user}).catch(T=>{console.log(T)})};return Ia(()=>{O()}),(T,F)=>(Ke(),Je("main",null,[V("div",rme,[ame,yt($o(Af),{to:"/verwaltung",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1})]),ome,V("div",ime,[V("div",ume,[qn(V("input",{type:"name",placeholder:"Benutzername",for:"username",name:"username","onUpdate:modelValue":F[0]||(F[0]=j=>m.value.name=j)},null,512),[[Qn,m.value.name]])]),V("div",sme,[qn(V("input",{type:"email",placeholder:"Email",for:"email",name:"email","onUpdate:modelValue":F[1]||(F[1]=j=>m.value.email=j)},null,512),[[Qn,m.value.email]])])]),V("div",lme,[V("div",cme,[qn(V("input",{type:"password",placeholder:"Passwort",for:"password",name:"password","onUpdate:modelValue":F[2]||(F[2]=j=>m.value.password=j)},null,512),[[Qn,m.value.password]])]),V("div",fme,[qn(V("input",{type:"password",placeholder:"Passwort (Wiederholen)",for:"password",name:"password","onUpdate:modelValue":F[3]||(F[3]=j=>m.value.password_confirmation=j)},null,512),[[Qn,m.value.password_confirmation]])])]),V("div",{class:"row content-row"},[V("button",{class:"button-primary",onClick:_}," Benutzer erstellen ")])]))}},dme=V("div",{class:"row"},[V("h1",null,"Alle Seiten")],-1),mme=V("hr",{class:"divider"},null,-1),hme=V("img",{src:$d,width:"20"},null,-1),gme=["onClick"],pme=V("img",{src:Of,width:"20"},null,-1),bme=[pme],yme={__name:"Overview",setup(f){const m=_t([]),y=_t(!1),b=_t([{key:"name",title:"Name"}]),S=()=>{y.value=!0,Mn.get("/pages").then(O=>{y.value=!1,m.value=O.data}).catch(O=>{y.value=!1,console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=O=>{window.confirm("Sind Sie sicher, dass Sie diese Seite lschen mchten?")&&Mn.delete(`/pages/${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(T=>{console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ia(()=>{S()}),(O,T)=>{const F=Ua("RouterLink");return Ke(),Je("main",null,[dme,mme,yt(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Gt(()=>[Rr(" Aktionen ")]),tableActions:Gt(j=>[yt(F,{to:`/page-bearbeiten/${j.row.id}`},{default:Gt(()=>[hme]),_:2},1032,["to"]),V("button",{onClick:P=>_(j.row.id)},bme,8,gme)]),_:1},8,["tableData","tableColumns","loading"])])}}},wme={class:"row"},Cme=V("h1",null,"Seite erstellen",-1),Sme=V("hr",{class:"divider"},null,-1),_me={class:"row content-row"},xme={class:"row content-row"},kme=V("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Ame={class:"row content-row"},Eme={class:"row content-row"},Tme=V("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Ome={class:"content-row"},Dme={class:"errorMessages"},Rme={__name:"Create",setup(f){const m=_t({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""}),y=Rc(),b=_t("Erstellen"),S=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen fr die Seite ein."),!1):!0,_=()=>{S()&&(b.value="Speichern...",m.value["description:de"]=Gn.get("editor_de").getContent(),m.value["description:en"]=Gn.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Mn.post("/pages",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,y.push("/pages")}).catch(O=>{b.value="Erstellen",console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gespeichert werden. Bitte versuche es erneut.")}))};return Ia(async()=>{await Gn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:lp.toString()+`
`+cp.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |   bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:O=>{O.on("init",()=>{O.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),bA(()=>{Gn.remove()}),(O,T)=>{const F=Ua("router-Link");return Ke(),Je("main",null,[V("div",wme,[Cme,yt(F,{to:"/pages",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1})]),Sme,V("div",_me,[yt(Er,{lang:"de",title:"Titel (DE)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":T[0]||(T[0]=j=>m.value["name:de"]=j),placeholder:"Name"},null,512),[[Qn,m.value["name:de"]]])]),_:1})]),V("div",xme,[yt(Er,{lang:"de",title:"Beschreibung"},{content:Gt(()=>[kme]),_:1})]),V("div",Ame,[yt(Er,{lang:"en",title:"Titel (EN)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":T[1]||(T[1]=j=>m.value["name:en"]=j),placeholder:"Name"},null,512),[[Qn,m.value["name:en"]]])]),_:1})]),V("div",Eme,[yt(Er,{lang:"en",title:"Description"},{content:Gt(()=>[Tme]),_:1})]),V("div",Ome,[V("button",{class:"button-primary",onClick:T[2]||(T[2]=j=>_())},ar(b.value),1),V("div",Dme,[(Ke(!0),Je($r,null,qa(O.errors,j=>(Ke(),Je("p",{key:j},ar(j),1))),128))])])])}}},$me={class:"row"},Bme=V("h1",null,"Seite erstellen",-1),Mme=V("hr",{class:"divider"},null,-1),Pme={class:"row content-row"},Ime={class:"row content-row"},Nme=V("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),zme={class:"row content-row"},Fme={class:"row content-row"},Lme=V("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Hme={class:"content-row"},Vme={class:"errorMessages"},Ume={__name:"Edit",setup(f){const m=_t({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""}),y=_t("Erstellen"),b=Qm(),S=Rc(),_=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen fr die Seite ein."),!1):!0,O=()=>{_()&&(y.value="Speichern...",m.value["description:de"]=Gn.get("editor_de").getContent(),m.value["description:en"]=Gn.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Mn.patch("/pages/"+b.params.id,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,S.push("/pages")}).catch(T=>{y.value="Erstellen",console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gespeichert werden. Bitte versuche es erneut.")}))};return Ia(async()=>{if(b.params.id){const T=await Mn.get(`/pages/${b.params.id}`);m.value["name:de"]=T.data.translations[0].name,m.value["name:en"]=T.data.translations[1].name,m.value["description:de"]=T.data.translations[0].description,m.value["description:en"]=T.data.translations[1].description,m.value.status=T.data.status,y.value="Aktualisieren"}await Gn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:lp.toString()+`
`+cp.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:T=>{T.on("init",()=>{T.setContent("<p></p>")})}}),setTimeout(()=>{Gn.get("editor_de").setContent(m.value["description:de"]),Gn.get("editor_en").setContent(m.value["description:en"])},100)}),bA(()=>{Gn.remove()}),(T,F)=>{const j=Ua("router-Link");return Ke(),Je("main",null,[V("div",$me,[Bme,yt(j,{to:"/pages",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1})]),Mme,V("div",Pme,[yt(Er,{lang:"de",title:"Titel (DE)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":F[0]||(F[0]=P=>m.value["name:de"]=P),placeholder:"Name"},null,512),[[Qn,m.value["name:de"]]])]),_:1})]),V("div",Ime,[yt(Er,{lang:"de",title:"Beschreibung"},{content:Gt(()=>[Nme]),_:1})]),V("div",zme,[yt(Er,{lang:"en",title:"Titel (EN)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":F[1]||(F[1]=P=>m.value["name:en"]=P),placeholder:"Name"},null,512),[[Qn,m.value["name:en"]]])]),_:1})]),V("div",Fme,[yt(Er,{lang:"en",title:"Description"},{content:Gt(()=>[Lme]),_:1})]),V("div",Hme,[V("button",{class:"button-primary",onClick:F[2]||(F[2]=P=>O())},ar(y.value),1),V("div",Vme,[(Ke(!0),Je($r,null,qa(T.errors,P=>(Ke(),Je("p",{key:P},ar(P),1))),128))])])])}}},Wme={class:"row"},jme=V("h1",null,"Alle Blogbeitragn",-1),Gme=V("hr",{class:"divider"},null,-1),qme=V("img",{src:$d,width:"20"},null,-1),Kme=["onClick"],Xme=V("img",{src:Of,width:"20"},null,-1),Yme=[Xme],Jme={__name:"Overview",setup(f){const m=_t([]),y=_t(!1),b=_t([{key:"name",title:"Name"}]),S=()=>{y.value=!0,Mn.get("/blogs").then(O=>{y.value=!1,m.value=O.data}).catch(O=>{y.value=!1,console.log(O),O.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=O=>{window.confirm("Sind Sie sicher, dass Sie diese Blogbeitrag lschen mchten?")&&Mn.delete(`/blogs/${O}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(T=>{console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ia(()=>{S()}),(O,T)=>{const F=Ua("router-link"),j=Ua("RouterLink");return Ke(),Je("main",null,[V("div",Wme,[jme,yt(F,{to:"/blog-erstellen",class:"button-primary"},{default:Gt(()=>[Rr("Blogbeitrag hinzufgen")]),_:1})]),Gme,yt(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Gt(()=>[Rr(" Aktionen ")]),tableActions:Gt(P=>[yt(j,{to:`/blog-bearbeiten/${P.row.id}`},{default:Gt(()=>[qme]),_:2},1032,["to"]),V("button",{onClick:H=>_(P.row.id)},Yme,8,Kme)]),_:1},8,["tableData","tableColumns","loading"])])}}};const wA=f=>(gA("data-v-41930a68"),f=f(),pA(),f),Zme={class:"row"},Qme=wA(()=>V("h1",null,"Blogbeitrag erstellen",-1)),ehe=wA(()=>V("hr",{class:"divider"},null,-1)),the={class:"grid-2-cols"},nhe={class:"col"},rhe={class:"row content-row"},ahe={class:"row content-row"},ohe=wA(()=>V("textarea",{for:"short_description",placeholder:"Beschreibung",id:"short_description_editor_de"},null,-1)),ihe={class:"row content-row"},uhe={key:0,class:"imageUploader"},she={class:"row content-row"},lhe={class:"row"},che=wA(()=>V("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1)),fhe={class:"col"},vhe={class:"row content-row"},dhe={class:"row content-row"},mhe=wA(()=>V("textarea",{for:"short_description",placeholder:"Beschreibung",id:"short_description_editor_en"},null,-1)),hhe={class:"row content-row"},ghe=wA(()=>V("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1)),phe={class:"content-row"},bhe={class:"errorMessages"},yhe={__name:"Create",setup(f){const m=_t({"name:de":"","name:en":"","description:de":"","description:en":"","short_description:de":"","short_description:en":"",status:"entwurf",slug:""});_t(null);const y=_t(!1),b=_t("Erstellen"),S=Rc(),_=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen fr die Blogbeitrag ein."),!1):!0,O=()=>{_()&&(b.value="Speichern...",m.value["description:de"]=Gn.get("editor_de").getContent(),m.value["description:en"]=Gn.get("editor_en").getContent(),m.value["short_description:de"]=Gn.get("short_description_editor_de").getContent(),m.value["short_description:en"]=Gn.get("short_description_editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Mn.post("/blogs",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,S.push("/blog")}).catch(j=>{b.value="Erstellen",console.log(j),j.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht erstellt werden. Bitte versuche es erneut.")}))},T=j=>{const P=new FormData;P.append("file",j.target.files[0]),Mn.post("/media",P,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(H=>{T.value=H.data.media.url}).catch(H=>{console.log(H),H.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})},F=()=>{Gn.get("editor_de").execCommand("mceInsertContent",!1,`<img src="${T.value}" />`),Gn.get("editor_en").execCommand("mceInsertContent",!1,`<img src="${T.value}" />`),y.value=!1};return Ia(async()=>{await Gn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:lp.toString()+`
`+cp.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |   bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:300,setup:j=>{j.on("init",()=>{j.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),bA(()=>{Gn.remove()}),(j,P)=>{const H=Ua("router-Link");return Ke(),Je("main",null,[V("div",Zme,[Qme,yt(H,{to:"/blog",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1})]),ehe,V("div",the,[V("div",nhe,[V("div",rhe,[yt(Er,{lang:"de",title:"Titel (DE)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":P[0]||(P[0]=I=>m.value["name:de"]=I),placeholder:"Name"},null,512),[[Qn,m.value["name:de"]]])]),_:1})]),V("div",ahe,[yt(Er,{lang:"de",title:"Kurzbeschreibung"},{content:Gt(()=>[ohe]),_:1})]),V("div",ihe,[yt(Er,{lang:"de",title:"Inhalt der Seite"},{content:Gt(()=>[V("button",{class:"button-primary",style:{"margin-bottom":"10px",width:"max-content"},onClick:P[1]||(P[1]=I=>y.value=!0)}," Bild hochladen "),y.value?(Ke(),Je("div",uhe,[V("div",she,[V("input",{type:"file",onChange:T},null,32)]),V("div",lhe,[V("button",{class:"button-primary",onClick:F}," Bild einsetzen "),V("button",{class:"button-secondary",onClick:P[2]||(P[2]=I=>y.value=!1)}," Abbrechen ")])])):kr("",!0),che]),_:1})])]),V("div",fhe,[V("div",vhe,[yt(Er,{lang:"en",title:"Titel (EN)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":P[3]||(P[3]=I=>m.value["name:en"]=I),placeholder:"Name"},null,512),[[Qn,m.value["name:en"]]])]),_:1})]),V("div",dhe,[yt(Er,{lang:"en",title:"Short Description"},{content:Gt(()=>[mhe]),_:1})]),V("div",hhe,[yt(Er,{lang:"en",title:"Content of the Page"},{content:Gt(()=>[ghe]),_:1})])])]),V("div",phe,[V("button",{class:"button-primary",onClick:P[4]||(P[4]=I=>O())},ar(b.value),1),V("div",bhe,[(Ke(!0),Je($r,null,qa(j.errors,I=>(Ke(),Je("p",{key:I},ar(I),1))),128))])])])}}},whe=t2(yhe,[["__scopeId","data-v-41930a68"]]);const CA=f=>(gA("data-v-fbdf1ecc"),f=f(),pA(),f),Che={class:"row"},She=CA(()=>V("h1",null,"Blogbeitrag erstellen",-1)),_he=CA(()=>V("hr",{class:"divider"},null,-1)),xhe={class:"row content-row"},khe={class:"row content-row"},Ahe=CA(()=>V("textarea",{for:"short_description",placeholder:"Beschreibung",id:"short_description_editor_de"},null,-1)),Ehe={class:"row content-row"},The={key:0,class:"imageUploader"},Ohe={class:"row content-row"},Dhe={class:"row"},Rhe=CA(()=>V("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1)),$he={class:"row content-row"},Bhe={class:"row content-row"},Mhe=CA(()=>V("textarea",{for:"short_description",placeholder:"Beschreibung",id:"short_description_editor_en"},null,-1)),Phe={class:"row content-row"},Ihe=CA(()=>V("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1)),Nhe={class:"content-row"},zhe={class:"errorMessages"},Fhe={__name:"Edit",setup(f){const m=_t({"name:de":"","name:en":"","description:de":"","description:en":"","short_description:de":"","short_description:en":"",status:"verffentlicht",slug:""});_t(null);const y=_t(!1),b=_t("Erstellen"),S=Rc(),_=Qm(),O=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen fr die Blogbeitrag ein."),!1):!0,T=()=>{O()&&(b.value="Speichern...",m.value["description:de"]=Gn.get("editor_de").getContent(),m.value["description:en"]=Gn.get("editor_en").getContent(),m.value["short_description:de"]=Gn.get("short_description_editor_de").getContent(),m.value["short_description:en"]=Gn.get("short_description_editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Mn.patch("/blogs/"+_.params.id,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,S.push("/blog")}).catch(P=>{b.value="Erstellen",console.log(P),P.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht gespeichert werden. Bitte versuche es erneut.")}))},F=P=>{const H=new FormData;H.append("file",P.target.files[0]),Mn.post("/media",H,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{F.value=I.data.media.url}).catch(I=>{console.log(I),I.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})},j=()=>{Gn.get("editor_de").execCommand("mceInsertContent",!1,`<img src="${F.value}" />`),Gn.get("editor_en").execCommand("mceInsertContent",!1,`<img src="${F.value}" />`),y.value=!1};return Ia(async()=>{if(_.params.id){const P=await Mn.get(`/blogs/${_.params.id}`);m.value["name:de"]=P.data.translations[0].name,m.value["name:en"]=P.data.translations[1].name,m.value["description:de"]=P.data.translations[0].description,m.value["description:en"]=P.data.translations[1].description,m.value["short_description:de"]=P.data.translations[0].short_description,m.value["short_description:en"]=P.data.translations[1].short_description,m.value.status=P.data.status,b.value="Aktualisieren"}await Gn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:lp.toString()+`
`+cp.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:300,setup:P=>{P.on("init",()=>{P.setContent("<p></p>")})}}),setTimeout(()=>{Gn.get("editor_de").setContent(m.value["description:de"]),Gn.get("editor_en").setContent(m.value["description:en"]),Gn.get("short_description_editor_de").setContent(m.value["short_description:de"]),Gn.get("short_description_editor_en").setContent(m.value["short_description:en"])},100)}),bA(()=>{Gn.remove()}),(P,H)=>{const I=Ua("router-Link");return Ke(),Je("main",null,[V("div",Che,[She,yt(I,{to:"/blog",class:"button-primary"},{default:Gt(()=>[Rr("Abbrechen")]),_:1})]),_he,V("div",xhe,[yt(Er,{lang:"de",title:"Titel (DE)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":H[0]||(H[0]=L=>m.value["name:de"]=L),placeholder:"Name"},null,512),[[Qn,m.value["name:de"]]])]),_:1})]),V("div",khe,[yt(Er,{lang:"de",title:"Kurzbeschreibung"},{content:Gt(()=>[Ahe]),_:1})]),V("div",Ehe,[yt(Er,{lang:"de",title:"Beschreibung"},{content:Gt(()=>[V("button",{class:"button-primary",style:{"margin-bottom":"10px",width:"max-content"},onClick:H[1]||(H[1]=L=>y.value=!0)}," Bild hochladen "),y.value?(Ke(),Je("div",The,[V("div",Ohe,[V("input",{type:"file",onChange:F},null,32)]),V("div",Dhe,[V("button",{class:"button-primary",onClick:j}," Bild einsetzen "),V("button",{class:"button-secondary",onClick:H[2]||(H[2]=L=>y.value=!1)}," Abbrechen ")])])):kr("",!0),Rhe]),_:1})]),V("div",$he,[yt(Er,{lang:"en",title:"Titel (EN)"},{content:Gt(()=>[qn(V("input",{type:"text","onUpdate:modelValue":H[3]||(H[3]=L=>m.value["name:en"]=L),placeholder:"Name"},null,512),[[Qn,m.value["name:en"]]])]),_:1})]),V("div",Bhe,[yt(Er,{lang:"en",title:"Short Description"},{content:Gt(()=>[Mhe]),_:1})]),V("div",Phe,[yt(Er,{lang:"en",title:"Description"},{content:Gt(()=>[Ihe]),_:1})]),V("div",Nhe,[V("button",{class:"button-primary",onClick:H[4]||(H[4]=L=>T())},ar(b.value),1),V("div",zhe,[(Ke(!0),Je($r,null,qa(P.errors,L=>(Ke(),Je("p",{key:L},ar(L),1))),128))])])])}}},Lhe=t2(Fhe,[["__scopeId","data-v-fbdf1ecc"]]);const Hhe={},Vhe=V("h1",null,"Dashboard",-1),Uhe=V("hr",{class:"divider"},null,-1),Whe={class:"content-row"},jhe={class:"col"},Ghe=V("h2",null,"Empfohlene Vorgehensweise",-1),qhe=V("hr",{class:"divider"},null,-1),Khe=V("h3",null,"Zuerst Zertifikate, Sprachen und Guides erstellen",-1),Xhe=V("p",null," Es ist ratsam, zuerst Guides und ihre Attribute anzulegen, da dies den Aufwand whrend der Tour-Erstellung verringert. ",-1),Yhe={class:"col",style:{margin:"5px 0"}},Jhe={class:"col",style:{margin:"5px 0"}},Zhe={class:"col",style:{margin:"5px 0"}},Qhe=V("h3",null,"Touren erstellen",-1),ege=V("p",null," Nachdem Sie Guides, Sprachen und Zertifikate erstellt und verknpft haben, knnen Sie mit dem Anlegen der Touren beginnen. Wenn Sie whrend der Tour-Erstellung feststellen, dass Sie einen Guide oder ein Zertifikat vergessen haben, knnen Sie diese auch whrend des Vorgangs erstellen. ",-1),tge={class:"col",style:{margin:"5px 0"}};function nge(f,m){const y=Ua("router-link");return Ke(),Je("div",null,[Vhe,Uhe,V("div",Whe,[V("div",jhe,[Ghe,qhe,V("ol",null,[V("li",null,[Khe,Xhe,V("div",Yhe,[yt(y,{style:{display:"inline-block"},to:"/guides",class:"button-primary"},{default:Gt(()=>[Rr("Guides")]),_:1})]),V("div",Jhe,[yt(y,{style:{display:"inline-block"},to:"/sprachen",class:"button-primary"},{default:Gt(()=>[Rr("Sprachen")]),_:1})]),V("div",Zhe,[yt(y,{style:{display:"inline-block"},to:"/zertifikate",class:"button-primary"},{default:Gt(()=>[Rr("Zertifikate")]),_:1})])]),V("li",null,[Qhe,ege,V("div",tge,[yt(y,{style:{display:"inline-block"},to:"/touren",class:"button-primary"},{default:Gt(()=>[Rr("Touren")]),_:1})])])])])])])}const rge=t2(Hhe,[["render",nge]]),age=Fne({history:rne("/"),routes:[{path:"/",name:"getting-started",component:rge},{path:"/touren",name:"home",component:Gae},{path:"/tour-erstellen",name:"touren",component:sce},{path:"/tour-bearbeiten/:id",name:"tour-bearbeiten",component:Efe},{path:"/guides",name:"guides",component:Pfe},{path:"/guide-erstellen",name:"guide-erstellen",component:Ife},{path:"/guide-bearbeiten/:id",name:"guide-bearbeiten",component:Nfe},{path:"/profile/:id",name:"profile",component:$ve},{path:"/sprachen",name:"sprachen",component:Lve},{path:"/sprache-erstellen",name:"sprache-erstellen",component:Hve},{path:"/sprache-bearbeiten/:id",name:"sprache-bearbeiten",component:Vve},{path:"/mobilitaet",name:"mobilitt",component:Yve},{path:"/mobilitaet-erstellen",name:"mobilitaet-erstellen",component:Jve},{path:"/mobilitaet-bearbeiten/:id",name:"mobilitaet-bearbeiten",component:Zve},{path:"/orte",name:"orte",component:ide},{path:"/ort-erstellen",name:"ort-erstellen",component:ude},{path:"/ort-bearbeiten/:id",name:"ort-bearbeiten",component:sde},{path:"/kategorien",name:"kategorien",component:gde},{path:"/kategorie-erstellen",name:"kategorie-erstellen",component:pde},{path:"/kategorie-bearbeiten/:id",name:"kategorie-bearbeiten",component:bde},{path:"/zertifikate",name:"zertifikate",component:Ade},{path:"/zertifikat-erstellen",name:"zertifikat-erstellen",component:Ede},{path:"/zertifikat-bearbeiten/:id",name:"zertifikat-bearbeiten",component:Tde},{path:"/skills",name:"skills",component:Ide},{path:"/skill-erstellen",name:"skill-erstellen",component:Nde},{path:"/skill-bearbeiten/:id",name:"skill-bearbeiten",component:zde},{path:"/verwaltung",name:"verwaltung",component:Gde},{path:"/verwaltung-erstellen",name:"verwaltung-erstellen",component:nme},{path:"/verwaltung-bearbeiten/:id",name:"verwaltung-bearbeiten",component:vme},{path:"/pages",name:"pages",component:yme},{path:"/page-erstellen",name:"page-erstellen",component:Rme},{path:"/page-bearbeiten/:id",name:"page-bearbeiten",component:Ume},{path:"/blog",name:"blog",component:Jme},{path:"/blog-erstellen",name:"blog-erstellen",component:whe},{path:"/blog-bearbeiten/:id",name:"blog-bearbeiten",component:Lhe}],scrollBehavior(f,m,y){return{top:0}}});Mn.defaults.baseURL="https://api.hamburger-gaestefuehrer.de/api";Mn.defaults.headers.common["Access-Control-Allow-Origin"]="*";Mn.defaults.headers.common["Content-Type"]="application/json";Mn.defaults.withCredentials=!0;const d9=Ate(Eae);d9.use(Dte());d9.use(age);d9.mount("#app");
