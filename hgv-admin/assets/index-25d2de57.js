(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))b(_);new MutationObserver(_=>{for(const x of _)if(x.type==="childList")for(const T of x.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&b(T)}).observe(document,{childList:!0,subtree:!0});function y(_){const x={};return _.integrity&&(x.integrity=_.integrity),_.referrerPolicy&&(x.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?x.credentials="include":_.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function b(_){if(_.ep)return;_.ep=!0;const x=y(_);fetch(_.href,x)}})();function RH(f,m){const y=Object.create(null),b=f.split(",");for(let _=0;_<b.length;_++)y[b[_]]=!0;return m?_=>!!y[_.toLowerCase()]:_=>!!y[_]}const yi={},iA=[],qm=()=>{},oQ=()=>!1,iQ=/^on[^a-z]/,M6=f=>iQ.test(f),$H=f=>f.startsWith("onUpdate:"),js=Object.assign,BH=(f,m)=>{const y=f.indexOf(m);y>-1&&f.splice(y,1)},uQ=Object.prototype.hasOwnProperty,to=(f,m)=>uQ.call(f,m),Lr=Array.isArray,uA=f=>I5(f)==="[object Map]",P6=f=>I5(f)==="[object Set]",wU=f=>I5(f)==="[object Date]",ba=f=>typeof f=="function",Cs=f=>typeof f=="string",A5=f=>typeof f=="symbol",ai=f=>f!==null&&typeof f=="object",TW=f=>ai(f)&&ba(f.then)&&ba(f.catch),OW=Object.prototype.toString,I5=f=>OW.call(f),sQ=f=>I5(f).slice(8,-1),DW=f=>I5(f)==="[object Object]",MH=f=>Cs(f)&&f!=="NaN"&&f[0]!=="-"&&""+parseInt(f,10)===f,l6=RH(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),I6=f=>{const m=Object.create(null);return y=>m[y]||(m[y]=f(y))},lQ=/-(\w)/g,lp=I6(f=>f.replace(lQ,(m,y)=>y?y.toUpperCase():"")),cQ=/\B([A-Z])/g,V_=I6(f=>f.replace(cQ,"-$1").toLowerCase()),N6=I6(f=>f.charAt(0).toUpperCase()+f.slice(1)),Z7=I6(f=>f?`on${N6(f)}`:""),E5=(f,m)=>!Object.is(f,m),c6=(f,m)=>{for(let y=0;y<f.length;y++)f[y](m)},b6=(f,m,y)=>{Object.defineProperty(f,m,{configurable:!0,enumerable:!1,value:y})},y6=f=>{const m=parseFloat(f);return isNaN(m)?f:m};let CU;const fH=()=>CU||(CU=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function z6(f){if(Lr(f)){const m={};for(let y=0;y<f.length;y++){const b=f[y],_=Cs(b)?mQ(b):z6(b);if(_)for(const x in _)m[x]=_[x]}return m}else{if(Cs(f))return f;if(ai(f))return f}}const fQ=/;(?![^(]*\))/g,vQ=/:([^]+)/,dQ=/\/\*[^]*?\*\//g;function mQ(f){const m={};return f.replace(dQ,"").split(fQ).forEach(y=>{if(y){const b=y.split(vQ);b.length>1&&(m[b[0].trim()]=b[1].trim())}}),m}function N5(f){let m="";if(Cs(f))m=f;else if(Lr(f))for(let y=0;y<f.length;y++){const b=N5(f[y]);b&&(m+=b+" ")}else if(ai(f))for(const y in f)f[y]&&(m+=y+" ");return m.trim()}const hQ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gQ=RH(hQ);function RW(f){return!!f||f===""}function pQ(f,m){if(f.length!==m.length)return!1;let y=!0;for(let b=0;y&&b<f.length;b++)y=F6(f[b],m[b]);return y}function F6(f,m){if(f===m)return!0;let y=wU(f),b=wU(m);if(y||b)return y&&b?f.getTime()===m.getTime():!1;if(y=A5(f),b=A5(m),y||b)return f===m;if(y=Lr(f),b=Lr(m),y||b)return y&&b?pQ(f,m):!1;if(y=ai(f),b=ai(m),y||b){if(!y||!b)return!1;const _=Object.keys(f).length,x=Object.keys(m).length;if(_!==x)return!1;for(const T in f){const D=f.hasOwnProperty(T),M=m.hasOwnProperty(T);if(D&&!M||!D&&M||!F6(f[T],m[T]))return!1}}return String(f)===String(m)}function bQ(f,m){return f.findIndex(y=>F6(y,m))}const Kn=f=>Cs(f)?f:f==null?"":Lr(f)||ai(f)&&(f.toString===OW||!ba(f.toString))?JSON.stringify(f,$W,2):String(f),$W=(f,m)=>m&&m.__v_isRef?$W(f,m.value):uA(m)?{[`Map(${m.size})`]:[...m.entries()].reduce((y,[b,_])=>(y[`${b} =>`]=_,y),{})}:P6(m)?{[`Set(${m.size})`]:[...m.values()]}:ai(m)&&!Lr(m)&&!DW(m)?String(m):m;let Um;class BW{constructor(m=!1){this.detached=m,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Um,!m&&Um&&(this.index=(Um.scopes||(Um.scopes=[])).push(this)-1)}get active(){return this._active}run(m){if(this._active){const y=Um;try{return Um=this,m()}finally{Um=y}}}on(){Um=this}off(){Um=this.parent}stop(m){if(this._active){let y,b;for(y=0,b=this.effects.length;y<b;y++)this.effects[y].stop();for(y=0,b=this.cleanups.length;y<b;y++)this.cleanups[y]();if(this.scopes)for(y=0,b=this.scopes.length;y<b;y++)this.scopes[y].stop(!0);if(!this.detached&&this.parent&&!m){const _=this.parent.scopes.pop();_&&_!==this&&(this.parent.scopes[this.index]=_,_.index=this.index)}this.parent=void 0,this._active=!1}}}function yQ(f){return new BW(f)}function wQ(f,m=Um){m&&m.active&&m.effects.push(f)}function CQ(){return Um}const PH=f=>{const m=new Set(f);return m.w=0,m.n=0,m},MW=f=>(f.w&e2)>0,PW=f=>(f.n&e2)>0,_Q=({deps:f})=>{if(f.length)for(let m=0;m<f.length;m++)f[m].w|=e2},SQ=f=>{const{deps:m}=f;if(m.length){let y=0;for(let b=0;b<m.length;b++){const _=m[b];MW(_)&&!PW(_)?_.delete(f):m[y++]=_,_.w&=~e2,_.n&=~e2}m.length=y}},vH=new WeakMap;let y5=0,e2=1;const dH=30;let Wm;const L_=Symbol(""),mH=Symbol("");class IH{constructor(m,y=null,b){this.fn=m,this.scheduler=y,this.active=!0,this.deps=[],this.parent=void 0,wQ(this,b)}run(){if(!this.active)return this.fn();let m=Wm,y=Jy;for(;m;){if(m===this)return;m=m.parent}try{return this.parent=Wm,Wm=this,Jy=!0,e2=1<<++y5,y5<=dH?_Q(this):_U(this),this.fn()}finally{y5<=dH&&SQ(this),e2=1<<--y5,Wm=this.parent,Jy=y,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Wm===this?this.deferStop=!0:this.active&&(_U(this),this.onStop&&this.onStop(),this.active=!1)}}function _U(f){const{deps:m}=f;if(m.length){for(let y=0;y<m.length;y++)m[y].delete(f);m.length=0}}let Jy=!0;const IW=[];function gA(){IW.push(Jy),Jy=!1}function pA(){const f=IW.pop();Jy=f===void 0?!0:f}function Of(f,m,y){if(Jy&&Wm){let b=vH.get(f);b||vH.set(f,b=new Map);let _=b.get(y);_||b.set(y,_=PH()),NW(_)}}function NW(f,m){let y=!1;y5<=dH?PW(f)||(f.n|=e2,y=!MW(f)):y=!f.has(Wm),y&&(f.add(Wm),Wm.deps.push(f))}function ub(f,m,y,b,_,x){const T=vH.get(f);if(!T)return;let D=[];if(m==="clear")D=[...T.values()];else if(y==="length"&&Lr(f)){const M=Number(b);T.forEach((W,N)=>{(N==="length"||N>=M)&&D.push(W)})}else switch(y!==void 0&&D.push(T.get(y)),m){case"add":Lr(f)?MH(y)&&D.push(T.get("length")):(D.push(T.get(L_)),uA(f)&&D.push(T.get(mH)));break;case"delete":Lr(f)||(D.push(T.get(L_)),uA(f)&&D.push(T.get(mH)));break;case"set":uA(f)&&D.push(T.get(L_));break}if(D.length===1)D[0]&&hH(D[0]);else{const M=[];for(const W of D)W&&M.push(...W);hH(PH(M))}}function hH(f,m){const y=Lr(f)?f:[...f];for(const b of y)b.computed&&SU(b);for(const b of y)b.computed||SU(b)}function SU(f,m){(f!==Wm||f.allowRecurse)&&(f.scheduler?f.scheduler():f.run())}const xQ=RH("__proto__,__v_isRef,__isVue"),zW=new Set(Object.getOwnPropertyNames(Symbol).filter(f=>f!=="arguments"&&f!=="caller").map(f=>Symbol[f]).filter(A5)),kQ=NH(),AQ=NH(!1,!0),EQ=NH(!0),xU=TQ();function TQ(){const f={};return["includes","indexOf","lastIndexOf"].forEach(m=>{f[m]=function(...y){const b=po(this);for(let x=0,T=this.length;x<T;x++)Of(b,"get",x+"");const _=b[m](...y);return _===-1||_===!1?b[m](...y.map(po)):_}}),["push","pop","shift","unshift","splice"].forEach(m=>{f[m]=function(...y){gA();const b=po(this)[m].apply(this,y);return pA(),b}}),f}function OQ(f){const m=po(this);return Of(m,"has",f),m.hasOwnProperty(f)}function NH(f=!1,m=!1){return function(b,_,x){if(_==="__v_isReactive")return!f;if(_==="__v_isReadonly")return f;if(_==="__v_isShallow")return m;if(_==="__v_raw"&&x===(f?m?jQ:UW:m?VW:HW).get(b))return b;const T=Lr(b);if(!f){if(T&&to(xU,_))return Reflect.get(xU,_,x);if(_==="hasOwnProperty")return OQ}const D=Reflect.get(b,_,x);return(A5(_)?zW.has(_):xQ(_))||(f||Of(b,"get",_),m)?D:Kl(D)?T&&MH(_)?D:D.value:ai(D)?f?jW(D):H6(D):D}}const DQ=FW(),RQ=FW(!0);function FW(f=!1){return function(y,b,_,x){let T=y[b];if(cA(T)&&Kl(T)&&!Kl(_))return!1;if(!f&&(!w6(_)&&!cA(_)&&(T=po(T),_=po(_)),!Lr(y)&&Kl(T)&&!Kl(_)))return T.value=_,!0;const D=Lr(y)&&MH(b)?Number(b)<y.length:to(y,b),M=Reflect.set(y,b,_,x);return y===po(x)&&(D?E5(_,T)&&ub(y,"set",b,_):ub(y,"add",b,_)),M}}function $Q(f,m){const y=to(f,m);f[m];const b=Reflect.deleteProperty(f,m);return b&&y&&ub(f,"delete",m,void 0),b}function BQ(f,m){const y=Reflect.has(f,m);return(!A5(m)||!zW.has(m))&&Of(f,"has",m),y}function MQ(f){return Of(f,"iterate",Lr(f)?"length":L_),Reflect.ownKeys(f)}const LW={get:kQ,set:DQ,deleteProperty:$Q,has:BQ,ownKeys:MQ},PQ={get:EQ,set(f,m){return!0},deleteProperty(f,m){return!0}},IQ=js({},LW,{get:AQ,set:RQ}),zH=f=>f,L6=f=>Reflect.getPrototypeOf(f);function r6(f,m,y=!1,b=!1){f=f.__v_raw;const _=po(f),x=po(m);y||(m!==x&&Of(_,"get",m),Of(_,"get",x));const{has:T}=L6(_),D=b?zH:y?VH:T5;if(T.call(_,m))return D(f.get(m));if(T.call(_,x))return D(f.get(x));f!==_&&f.get(m)}function a6(f,m=!1){const y=this.__v_raw,b=po(y),_=po(f);return m||(f!==_&&Of(b,"has",f),Of(b,"has",_)),f===_?y.has(f):y.has(f)||y.has(_)}function o6(f,m=!1){return f=f.__v_raw,!m&&Of(po(f),"iterate",L_),Reflect.get(f,"size",f)}function kU(f){f=po(f);const m=po(this);return L6(m).has.call(m,f)||(m.add(f),ub(m,"add",f,f)),this}function AU(f,m){m=po(m);const y=po(this),{has:b,get:_}=L6(y);let x=b.call(y,f);x||(f=po(f),x=b.call(y,f));const T=_.call(y,f);return y.set(f,m),x?E5(m,T)&&ub(y,"set",f,m):ub(y,"add",f,m),this}function EU(f){const m=po(this),{has:y,get:b}=L6(m);let _=y.call(m,f);_||(f=po(f),_=y.call(m,f)),b&&b.call(m,f);const x=m.delete(f);return _&&ub(m,"delete",f,void 0),x}function TU(){const f=po(this),m=f.size!==0,y=f.clear();return m&&ub(f,"clear",void 0,void 0),y}function i6(f,m){return function(b,_){const x=this,T=x.__v_raw,D=po(T),M=m?zH:f?VH:T5;return!f&&Of(D,"iterate",L_),T.forEach((W,N)=>b.call(_,M(W),M(N),x))}}function u6(f,m,y){return function(...b){const _=this.__v_raw,x=po(_),T=uA(x),D=f==="entries"||f===Symbol.iterator&&T,M=f==="keys"&&T,W=_[f](...b),N=y?zH:m?VH:T5;return!m&&Of(x,"iterate",M?mH:L_),{next(){const{value:H,done:I}=W.next();return I?{value:H,done:I}:{value:D?[N(H[0]),N(H[1])]:N(H),done:I}},[Symbol.iterator](){return this}}}}function qy(f){return function(...m){return f==="delete"?!1:this}}function NQ(){const f={get(x){return r6(this,x)},get size(){return o6(this)},has:a6,add:kU,set:AU,delete:EU,clear:TU,forEach:i6(!1,!1)},m={get(x){return r6(this,x,!1,!0)},get size(){return o6(this)},has:a6,add:kU,set:AU,delete:EU,clear:TU,forEach:i6(!1,!0)},y={get(x){return r6(this,x,!0)},get size(){return o6(this,!0)},has(x){return a6.call(this,x,!0)},add:qy("add"),set:qy("set"),delete:qy("delete"),clear:qy("clear"),forEach:i6(!0,!1)},b={get(x){return r6(this,x,!0,!0)},get size(){return o6(this,!0)},has(x){return a6.call(this,x,!0)},add:qy("add"),set:qy("set"),delete:qy("delete"),clear:qy("clear"),forEach:i6(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(x=>{f[x]=u6(x,!1,!1),y[x]=u6(x,!0,!1),m[x]=u6(x,!1,!0),b[x]=u6(x,!0,!0)}),[f,y,m,b]}const[zQ,FQ,LQ,HQ]=NQ();function FH(f,m){const y=m?f?HQ:LQ:f?FQ:zQ;return(b,_,x)=>_==="__v_isReactive"?!f:_==="__v_isReadonly"?f:_==="__v_raw"?b:Reflect.get(to(y,_)&&_ in b?y:b,_,x)}const VQ={get:FH(!1,!1)},UQ={get:FH(!1,!0)},WQ={get:FH(!0,!1)},HW=new WeakMap,VW=new WeakMap,UW=new WeakMap,jQ=new WeakMap;function GQ(f){switch(f){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qQ(f){return f.__v_skip||!Object.isExtensible(f)?0:GQ(sQ(f))}function H6(f){return cA(f)?f:LH(f,!1,LW,VQ,HW)}function WW(f){return LH(f,!1,IQ,UQ,VW)}function jW(f){return LH(f,!0,PQ,WQ,UW)}function LH(f,m,y,b,_){if(!ai(f)||f.__v_raw&&!(m&&f.__v_isReactive))return f;const x=_.get(f);if(x)return x;const T=qQ(f);if(T===0)return f;const D=new Proxy(f,T===2?b:y);return _.set(f,D),D}function sA(f){return cA(f)?sA(f.__v_raw):!!(f&&f.__v_isReactive)}function cA(f){return!!(f&&f.__v_isReadonly)}function w6(f){return!!(f&&f.__v_isShallow)}function GW(f){return sA(f)||cA(f)}function po(f){const m=f&&f.__v_raw;return m?po(m):f}function HH(f){return b6(f,"__v_skip",!0),f}const T5=f=>ai(f)?H6(f):f,VH=f=>ai(f)?jW(f):f;function qW(f){Jy&&Wm&&(f=po(f),NW(f.dep||(f.dep=PH())))}function KW(f,m){f=po(f);const y=f.dep;y&&hH(y)}function Kl(f){return!!(f&&f.__v_isRef===!0)}function wt(f){return XW(f,!1)}function KQ(f){return XW(f,!0)}function XW(f,m){return Kl(f)?f:new XQ(f,m)}class XQ{constructor(m,y){this.__v_isShallow=y,this.dep=void 0,this.__v_isRef=!0,this._rawValue=y?m:po(m),this._value=y?m:T5(m)}get value(){return qW(this),this._value}set value(m){const y=this.__v_isShallow||w6(m)||cA(m);m=y?m:po(m),E5(m,this._rawValue)&&(this._rawValue=m,this._value=y?m:T5(m),KW(this))}}function Ra(f){return Kl(f)?f.value:f}const YQ={get:(f,m,y)=>Ra(Reflect.get(f,m,y)),set:(f,m,y,b)=>{const _=f[m];return Kl(_)&&!Kl(y)?(_.value=y,!0):Reflect.set(f,m,y,b)}};function YW(f){return sA(f)?f:new Proxy(f,YQ)}class ZQ{constructor(m,y,b,_){this._setter=y,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new IH(m,()=>{this._dirty||(this._dirty=!0,KW(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!_,this.__v_isReadonly=b}get value(){const m=po(this);return qW(m),(m._dirty||!m._cacheable)&&(m._dirty=!1,m._value=m.effect.run()),m._value}set value(m){this._setter(m)}}function JQ(f,m,y=!1){let b,_;const x=ba(f);return x?(b=f,_=qm):(b=f.get,_=f.set),new ZQ(b,_,x||!_,y)}function Qy(f,m,y,b){let _;try{_=b?f(...b):f()}catch(x){V6(x,m,y)}return _}function Km(f,m,y,b){if(ba(f)){const x=Qy(f,m,y,b);return x&&TW(x)&&x.catch(T=>{V6(T,m,y)}),x}const _=[];for(let x=0;x<f.length;x++)_.push(Km(f[x],m,y,b));return _}function V6(f,m,y,b=!0){const _=m?m.vnode:null;if(m){let x=m.parent;const T=m.proxy,D=y;for(;x;){const W=x.ec;if(W){for(let N=0;N<W.length;N++)if(W[N](f,T,D)===!1)return}x=x.parent}const M=m.appContext.config.errorHandler;if(M){Qy(M,null,10,[f,T,D]);return}}QQ(f,y,_,b)}function QQ(f,m,y,b=!0){console.error(f)}let O5=!1,gH=!1;const ql=[];let sp=0;const lA=[];let ob=null,P_=0;const ZW=Promise.resolve();let UH=null;function JW(f){const m=UH||ZW;return f?m.then(this?f.bind(this):f):m}function eee(f){let m=sp+1,y=ql.length;for(;m<y;){const b=m+y>>>1;D5(ql[b])<f?m=b+1:y=b}return m}function WH(f){(!ql.length||!ql.includes(f,O5&&f.allowRecurse?sp+1:sp))&&(f.id==null?ql.push(f):ql.splice(eee(f.id),0,f),QW())}function QW(){!O5&&!gH&&(gH=!0,UH=ZW.then(tj))}function tee(f){const m=ql.indexOf(f);m>sp&&ql.splice(m,1)}function nee(f){Lr(f)?lA.push(...f):(!ob||!ob.includes(f,f.allowRecurse?P_+1:P_))&&lA.push(f),QW()}function OU(f,m=O5?sp+1:0){for(;m<ql.length;m++){const y=ql[m];y&&y.pre&&(ql.splice(m,1),m--,y())}}function ej(f){if(lA.length){const m=[...new Set(lA)];if(lA.length=0,ob){ob.push(...m);return}for(ob=m,ob.sort((y,b)=>D5(y)-D5(b)),P_=0;P_<ob.length;P_++)ob[P_]();ob=null,P_=0}}const D5=f=>f.id==null?1/0:f.id,ree=(f,m)=>{const y=D5(f)-D5(m);if(y===0){if(f.pre&&!m.pre)return-1;if(m.pre&&!f.pre)return 1}return y};function tj(f){gH=!1,O5=!0,ql.sort(ree);const m=qm;try{for(sp=0;sp<ql.length;sp++){const y=ql[sp];y&&y.active!==!1&&Qy(y,null,14)}}finally{sp=0,ql.length=0,ej(),O5=!1,UH=null,(ql.length||lA.length)&&tj()}}function aee(f,m,...y){if(f.isUnmounted)return;const b=f.vnode.props||yi;let _=y;const x=m.startsWith("update:"),T=x&&m.slice(7);if(T&&T in b){const N=`${T==="modelValue"?"model":T}Modifiers`,{number:H,trim:I}=b[N]||yi;I&&(_=y.map(V=>Cs(V)?V.trim():V)),H&&(_=y.map(y6))}let D,M=b[D=Z7(m)]||b[D=Z7(lp(m))];!M&&x&&(M=b[D=Z7(V_(m))]),M&&Km(M,f,6,_);const W=b[D+"Once"];if(W){if(!f.emitted)f.emitted={};else if(f.emitted[D])return;f.emitted[D]=!0,Km(W,f,6,_)}}function nj(f,m,y=!1){const b=m.emitsCache,_=b.get(f);if(_!==void 0)return _;const x=f.emits;let T={},D=!1;if(!ba(f)){const M=W=>{const N=nj(W,m,!0);N&&(D=!0,js(T,N))};!y&&m.mixins.length&&m.mixins.forEach(M),f.extends&&M(f.extends),f.mixins&&f.mixins.forEach(M)}return!x&&!D?(ai(f)&&b.set(f,null),null):(Lr(x)?x.forEach(M=>T[M]=null):js(T,x),ai(f)&&b.set(f,T),T)}function U6(f,m){return!f||!M6(m)?!1:(m=m.slice(2).replace(/Once$/,""),to(f,m[0].toLowerCase()+m.slice(1))||to(f,V_(m))||to(f,m))}let Xl=null,W6=null;function C6(f){const m=Xl;return Xl=f,W6=f&&f.type.__scopeId||null,m}function U_(f){W6=f}function W_(){W6=null}function Rt(f,m=Xl,y){if(!m||f._n)return f;const b=(..._)=>{b._d&&LU(-1);const x=C6(m);let T;try{T=f(..._)}finally{C6(x),b._d&&LU(1)}return T};return b._n=!0,b._c=!0,b._d=!0,b}function J7(f){const{type:m,vnode:y,proxy:b,withProxy:_,props:x,propsOptions:[T],slots:D,attrs:M,emit:W,render:N,renderCache:H,data:I,setupState:V,ctx:J,inheritAttrs:q}=f;let $e,me;const Be=C6(f);try{if(y.shapeFlag&4){const he=_||b;$e=ip(N.call(he,he,H,x,V,I,J)),me=M}else{const he=m;$e=ip(he.length>1?he(x,{attrs:M,slots:D,emit:W}):he(x,null)),me=m.props?M:oee(M)}}catch(he){S5.length=0,V6(he,f,1),$e=at(t2)}let ie=$e;if(me&&q!==!1){const he=Object.keys(me),{shapeFlag:De}=ie;he.length&&De&7&&(T&&he.some($H)&&(me=iee(me,T)),ie=fA(ie,me))}return y.dirs&&(ie=fA(ie),ie.dirs=ie.dirs?ie.dirs.concat(y.dirs):y.dirs),y.transition&&(ie.transition=y.transition),$e=ie,C6(Be),$e}const oee=f=>{let m;for(const y in f)(y==="class"||y==="style"||M6(y))&&((m||(m={}))[y]=f[y]);return m},iee=(f,m)=>{const y={};for(const b in f)(!$H(b)||!(b.slice(9)in m))&&(y[b]=f[b]);return y};function uee(f,m,y){const{props:b,children:_,component:x}=f,{props:T,children:D,patchFlag:M}=m,W=x.emitsOptions;if(m.dirs||m.transition)return!0;if(y&&M>=0){if(M&1024)return!0;if(M&16)return b?DU(b,T,W):!!T;if(M&8){const N=m.dynamicProps;for(let H=0;H<N.length;H++){const I=N[H];if(T[I]!==b[I]&&!U6(W,I))return!0}}}else return(_||D)&&(!D||!D.$stable)?!0:b===T?!1:b?T?DU(b,T,W):!0:!!T;return!1}function DU(f,m,y){const b=Object.keys(m);if(b.length!==Object.keys(f).length)return!0;for(let _=0;_<b.length;_++){const x=b[_];if(m[x]!==f[x]&&!U6(y,x))return!0}return!1}function see({vnode:f,parent:m},y){for(;m&&m.subTree===f;)(f=m.vnode).el=y,m=m.parent}const lee=f=>f.__isSuspense;function cee(f,m){m&&m.pendingBranch?Lr(f)?m.effects.push(...f):m.effects.push(f):nee(f)}const s6={};function Dd(f,m,y){return rj(f,m,y)}function rj(f,m,{immediate:y,deep:b,flush:_,onTrack:x,onTrigger:T}=yi){var D;const M=CQ()===((D=pl)==null?void 0:D.scope)?pl:null;let W,N=!1,H=!1;if(Kl(f)?(W=()=>f.value,N=w6(f)):sA(f)?(W=()=>f,b=!0):Lr(f)?(H=!0,N=f.some(he=>sA(he)||w6(he)),W=()=>f.map(he=>{if(Kl(he))return he.value;if(sA(he))return z_(he);if(ba(he))return Qy(he,M,2)})):ba(f)?m?W=()=>Qy(f,M,2):W=()=>{if(!(M&&M.isUnmounted))return I&&I(),Km(f,M,3,[V])}:W=qm,m&&b){const he=W;W=()=>z_(he())}let I,V=he=>{I=Be.onStop=()=>{Qy(he,M,4)}},J;if($5)if(V=qm,m?y&&Km(m,M,3,[W(),H?[]:void 0,V]):W(),_==="sync"){const he=ete();J=he.__watcherHandles||(he.__watcherHandles=[])}else return qm;let q=H?new Array(f.length).fill(s6):s6;const $e=()=>{if(Be.active)if(m){const he=Be.run();(b||N||(H?he.some((De,ye)=>E5(De,q[ye])):E5(he,q)))&&(I&&I(),Km(m,M,3,[he,q===s6?void 0:H&&q[0]===s6?[]:q,V]),q=he)}else Be.run()};$e.allowRecurse=!!m;let me;_==="sync"?me=$e:_==="post"?me=()=>Ef($e,M&&M.suspense):($e.pre=!0,M&&($e.id=M.uid),me=()=>WH($e));const Be=new IH(W,me);m?y?$e():q=Be.run():_==="post"?Ef(Be.run.bind(Be),M&&M.suspense):Be.run();const ie=()=>{Be.stop(),M&&M.scope&&BH(M.scope.effects,Be)};return J&&J.push(ie),ie}function fee(f,m,y){const b=this.proxy,_=Cs(f)?f.includes(".")?aj(b,f):()=>b[f]:f.bind(b,b);let x;ba(m)?x=m:(x=m.handler,y=m);const T=pl;vA(this);const D=rj(_,x.bind(b),y);return T?vA(T):H_(),D}function aj(f,m){const y=m.split(".");return()=>{let b=f;for(let _=0;_<y.length&&b;_++)b=b[y[_]];return b}}function z_(f,m){if(!ai(f)||f.__v_skip||(m=m||new Set,m.has(f)))return f;if(m.add(f),Kl(f))z_(f.value,m);else if(Lr(f))for(let y=0;y<f.length;y++)z_(f[y],m);else if(P6(f)||uA(f))f.forEach(y=>{z_(y,m)});else if(DW(f))for(const y in f)z_(f[y],m);return f}function In(f,m){const y=Xl;if(y===null)return f;const b=K6(y)||y.proxy,_=f.dirs||(f.dirs=[]);for(let x=0;x<m.length;x++){let[T,D,M,W=yi]=m[x];T&&(ba(T)&&(T={mounted:T,updated:T}),T.deep&&z_(D),_.push({dir:T,instance:b,value:D,oldValue:void 0,arg:M,modifiers:W}))}return f}function B_(f,m,y,b){const _=f.dirs,x=m&&m.dirs;for(let T=0;T<_.length;T++){const D=_[T];x&&(D.oldValue=x[T].value);let M=D.dir[b];M&&(gA(),Km(M,y,8,[f.el,D,f,m]),pA())}}function oj(f,m){return ba(f)?(()=>js({name:f.name},m,{setup:f}))():f}const C5=f=>!!f.type.__asyncLoader,ij=f=>f.type.__isKeepAlive;function vee(f,m){uj(f,"a",m)}function dee(f,m){uj(f,"da",m)}function uj(f,m,y=pl){const b=f.__wdc||(f.__wdc=()=>{let _=y;for(;_;){if(_.isDeactivated)return;_=_.parent}return f()});if(j6(m,b,y),y){let _=y.parent;for(;_&&_.parent;)ij(_.parent.vnode)&&mee(b,m,y,_),_=_.parent}}function mee(f,m,y,b){const _=j6(m,f,b,!0);sj(()=>{BH(b[m],_)},y)}function j6(f,m,y=pl,b=!1){if(y){const _=y[f]||(y[f]=[]),x=m.__weh||(m.__weh=(...T)=>{if(y.isUnmounted)return;gA(),vA(y);const D=Km(m,y,f,T);return H_(),pA(),D});return b?_.unshift(x):_.push(x),x}}const sb=f=>(m,y=pl)=>(!$5||f==="sp")&&j6(f,(...b)=>m(...b),y),Jm=sb("bm"),Ia=sb("m"),hee=sb("bu"),gee=sb("u"),j_=sb("bum"),sj=sb("um"),pee=sb("sp"),bee=sb("rtg"),yee=sb("rtc");function wee(f,m=pl){j6("ec",f,m)}const lj="components";function Fa(f,m){return _ee(lj,f,!0,m)||f}const Cee=Symbol.for("v-ndc");function _ee(f,m,y=!0,b=!1){const _=Xl||pl;if(_){const x=_.type;if(f===lj){const D=Zee(x,!1);if(D&&(D===m||D===lp(m)||D===N6(lp(m))))return x}const T=RU(_[f]||x[f],m)||RU(_.appContext[f],m);return!T&&b?x:T}}function RU(f,m){return f&&(f[m]||f[lp(m)]||f[N6(lp(m))])}function $a(f,m,y,b){let _;const x=y&&y[b];if(Lr(f)||Cs(f)){_=new Array(f.length);for(let T=0,D=f.length;T<D;T++)_[T]=m(f[T],T,void 0,x&&x[T])}else if(typeof f=="number"){_=new Array(f);for(let T=0;T<f;T++)_[T]=m(T+1,T,void 0,x&&x[T])}else if(ai(f))if(f[Symbol.iterator])_=Array.from(f,(T,D)=>m(T,D,void 0,x&&x[D]));else{const T=Object.keys(f);_=new Array(T.length);for(let D=0,M=T.length;D<M;D++){const W=T[D];_[D]=m(f[W],W,D,x&&x[D])}}else _=[];return y&&(y[b]=_),_}function pH(f,m,y={},b,_){if(Xl.isCE||Xl.parent&&C5(Xl.parent)&&Xl.parent.isCE)return m!=="default"&&(y.name=m),at("slot",y,b&&b());let x=f[m];x&&x._c&&(x._d=!1),Ve();const T=x&&cj(x(y)),D=Ym(_r,{key:y.key||T&&T.key||`_${m}`},T||(b?b():[]),T&&f._===1?64:-2);return!_&&D.scopeId&&(D.slotScopeIds=[D.scopeId+"-s"]),x&&x._c&&(x._d=!0),D}function cj(f){return f.some(m=>x6(m)?!(m.type===t2||m.type===_r&&!cj(m.children)):!0)?f:null}const bH=f=>f?Cj(f)?K6(f)||f.proxy:bH(f.parent):null,_5=js(Object.create(null),{$:f=>f,$el:f=>f.vnode.el,$data:f=>f.data,$props:f=>f.props,$attrs:f=>f.attrs,$slots:f=>f.slots,$refs:f=>f.refs,$parent:f=>bH(f.parent),$root:f=>bH(f.root),$emit:f=>f.emit,$options:f=>jH(f),$forceUpdate:f=>f.f||(f.f=()=>WH(f.update)),$nextTick:f=>f.n||(f.n=JW.bind(f.proxy)),$watch:f=>fee.bind(f)}),Q7=(f,m)=>f!==yi&&!f.__isScriptSetup&&to(f,m),See={get({_:f},m){const{ctx:y,setupState:b,data:_,props:x,accessCache:T,type:D,appContext:M}=f;let W;if(m[0]!=="$"){const V=T[m];if(V!==void 0)switch(V){case 1:return b[m];case 2:return _[m];case 4:return y[m];case 3:return x[m]}else{if(Q7(b,m))return T[m]=1,b[m];if(_!==yi&&to(_,m))return T[m]=2,_[m];if((W=f.propsOptions[0])&&to(W,m))return T[m]=3,x[m];if(y!==yi&&to(y,m))return T[m]=4,y[m];yH&&(T[m]=0)}}const N=_5[m];let H,I;if(N)return m==="$attrs"&&Of(f,"get",m),N(f);if((H=D.__cssModules)&&(H=H[m]))return H;if(y!==yi&&to(y,m))return T[m]=4,y[m];if(I=M.config.globalProperties,to(I,m))return I[m]},set({_:f},m,y){const{data:b,setupState:_,ctx:x}=f;return Q7(_,m)?(_[m]=y,!0):b!==yi&&to(b,m)?(b[m]=y,!0):to(f.props,m)||m[0]==="$"&&m.slice(1)in f?!1:(x[m]=y,!0)},has({_:{data:f,setupState:m,accessCache:y,ctx:b,appContext:_,propsOptions:x}},T){let D;return!!y[T]||f!==yi&&to(f,T)||Q7(m,T)||(D=x[0])&&to(D,T)||to(b,T)||to(_5,T)||to(_.config.globalProperties,T)},defineProperty(f,m,y){return y.get!=null?f._.accessCache[m]=0:to(y,"value")&&this.set(f,m,y.value,null),Reflect.defineProperty(f,m,y)}};function $U(f){return Lr(f)?f.reduce((m,y)=>(m[y]=null,m),{}):f}let yH=!0;function xee(f){const m=jH(f),y=f.proxy,b=f.ctx;yH=!1,m.beforeCreate&&BU(m.beforeCreate,f,"bc");const{data:_,computed:x,methods:T,watch:D,provide:M,inject:W,created:N,beforeMount:H,mounted:I,beforeUpdate:V,updated:J,activated:q,deactivated:$e,beforeDestroy:me,beforeUnmount:Be,destroyed:ie,unmounted:he,render:De,renderTracked:ye,renderTriggered:Xe,errorCaptured:le,serverPrefetch:se,expose:Ee,inheritAttrs:We,components:ne,directives:j,filters:ke}=m;if(W&&kee(W,b,null),T)for(const be in T){const st=T[be];ba(st)&&(b[be]=st.bind(y))}if(_){const be=_.call(y,y);ai(be)&&(f.data=H6(be))}if(yH=!0,x)for(const be in x){const st=x[be],B=ba(st)?st.bind(y,y):ba(st.get)?st.get.bind(y,y):qm,kt=!ba(st)&&ba(st.set)?st.set.bind(y):qm,ot=ri({get:B,set:kt});Object.defineProperty(b,be,{enumerable:!0,configurable:!0,get:()=>ot.value,set:it=>ot.value=it})}if(D)for(const be in D)fj(D[be],b,y,be);if(M){const be=ba(M)?M.call(y):M;Reflect.ownKeys(be).forEach(st=>{f6(st,be[st])})}N&&BU(N,f,"c");function ce(be,st){Lr(st)?st.forEach(B=>be(B.bind(y))):st&&be(st.bind(y))}if(ce(Jm,H),ce(Ia,I),ce(hee,V),ce(gee,J),ce(vee,q),ce(dee,$e),ce(wee,le),ce(yee,ye),ce(bee,Xe),ce(j_,Be),ce(sj,he),ce(pee,se),Lr(Ee))if(Ee.length){const be=f.exposed||(f.exposed={});Ee.forEach(st=>{Object.defineProperty(be,st,{get:()=>y[st],set:B=>y[st]=B})})}else f.exposed||(f.exposed={});De&&f.render===qm&&(f.render=De),We!=null&&(f.inheritAttrs=We),ne&&(f.components=ne),j&&(f.directives=j)}function kee(f,m,y=qm){Lr(f)&&(f=wH(f));for(const b in f){const _=f[b];let x;ai(_)?"default"in _?x=Xm(_.from||b,_.default,!0):x=Xm(_.from||b):x=Xm(_),Kl(x)?Object.defineProperty(m,b,{enumerable:!0,configurable:!0,get:()=>x.value,set:T=>x.value=T}):m[b]=x}}function BU(f,m,y){Km(Lr(f)?f.map(b=>b.bind(m.proxy)):f.bind(m.proxy),m,y)}function fj(f,m,y,b){const _=b.includes(".")?aj(y,b):()=>y[b];if(Cs(f)){const x=m[f];ba(x)&&Dd(_,x)}else if(ba(f))Dd(_,f.bind(y));else if(ai(f))if(Lr(f))f.forEach(x=>fj(x,m,y,b));else{const x=ba(f.handler)?f.handler.bind(y):m[f.handler];ba(x)&&Dd(_,x,f)}}function jH(f){const m=f.type,{mixins:y,extends:b}=m,{mixins:_,optionsCache:x,config:{optionMergeStrategies:T}}=f.appContext,D=x.get(m);let M;return D?M=D:!_.length&&!y&&!b?M=m:(M={},_.length&&_.forEach(W=>_6(M,W,T,!0)),_6(M,m,T)),ai(m)&&x.set(m,M),M}function _6(f,m,y,b=!1){const{mixins:_,extends:x}=m;x&&_6(f,x,y,!0),_&&_.forEach(T=>_6(f,T,y,!0));for(const T in m)if(!(b&&T==="expose")){const D=Aee[T]||y&&y[T];f[T]=D?D(f[T],m[T]):m[T]}return f}const Aee={data:MU,props:PU,emits:PU,methods:w5,computed:w5,beforeCreate:$c,created:$c,beforeMount:$c,mounted:$c,beforeUpdate:$c,updated:$c,beforeDestroy:$c,beforeUnmount:$c,destroyed:$c,unmounted:$c,activated:$c,deactivated:$c,errorCaptured:$c,serverPrefetch:$c,components:w5,directives:w5,watch:Tee,provide:MU,inject:Eee};function MU(f,m){return m?f?function(){return js(ba(f)?f.call(this,this):f,ba(m)?m.call(this,this):m)}:m:f}function Eee(f,m){return w5(wH(f),wH(m))}function wH(f){if(Lr(f)){const m={};for(let y=0;y<f.length;y++)m[f[y]]=f[y];return m}return f}function $c(f,m){return f?[...new Set([].concat(f,m))]:m}function w5(f,m){return f?js(Object.create(null),f,m):m}function PU(f,m){return f?Lr(f)&&Lr(m)?[...new Set([...f,...m])]:js(Object.create(null),$U(f),$U(m??{})):m}function Tee(f,m){if(!f)return m;if(!m)return f;const y=js(Object.create(null),f);for(const b in m)y[b]=$c(f[b],m[b]);return y}function vj(){return{app:null,config:{isNativeTag:oQ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Oee=0;function Dee(f,m){return function(b,_=null){ba(b)||(b=js({},b)),_!=null&&!ai(_)&&(_=null);const x=vj(),T=new Set;let D=!1;const M=x.app={_uid:Oee++,_component:b,_props:_,_container:null,_context:x,_instance:null,version:tte,get config(){return x.config},set config(W){},use(W,...N){return T.has(W)||(W&&ba(W.install)?(T.add(W),W.install(M,...N)):ba(W)&&(T.add(W),W(M,...N))),M},mixin(W){return x.mixins.includes(W)||x.mixins.push(W),M},component(W,N){return N?(x.components[W]=N,M):x.components[W]},directive(W,N){return N?(x.directives[W]=N,M):x.directives[W]},mount(W,N,H){if(!D){const I=at(b,_);return I.appContext=x,N&&m?m(I,W):f(I,W,H),D=!0,M._container=W,W.__vue_app__=M,K6(I.component)||I.component.proxy}},unmount(){D&&(f(null,M._container),delete M._container.__vue_app__)},provide(W,N){return x.provides[W]=N,M},runWithContext(W){S6=M;try{return W()}finally{S6=null}}};return M}}let S6=null;function f6(f,m){if(pl){let y=pl.provides;const b=pl.parent&&pl.parent.provides;b===y&&(y=pl.provides=Object.create(b)),y[f]=m}}function Xm(f,m,y=!1){const b=pl||Xl;if(b||S6){const _=b?b.parent==null?b.vnode.appContext&&b.vnode.appContext.provides:b.parent.provides:S6._context.provides;if(_&&f in _)return _[f];if(arguments.length>1)return y&&ba(m)?m.call(b&&b.proxy):m}}function Ree(f,m,y,b=!1){const _={},x={};b6(x,q6,1),f.propsDefaults=Object.create(null),dj(f,m,_,x);for(const T in f.propsOptions[0])T in _||(_[T]=void 0);y?f.props=b?_:WW(_):f.type.props?f.props=_:f.props=x,f.attrs=x}function $ee(f,m,y,b){const{props:_,attrs:x,vnode:{patchFlag:T}}=f,D=po(_),[M]=f.propsOptions;let W=!1;if((b||T>0)&&!(T&16)){if(T&8){const N=f.vnode.dynamicProps;for(let H=0;H<N.length;H++){let I=N[H];if(U6(f.emitsOptions,I))continue;const V=m[I];if(M)if(to(x,I))V!==x[I]&&(x[I]=V,W=!0);else{const J=lp(I);_[J]=CH(M,D,J,V,f,!1)}else V!==x[I]&&(x[I]=V,W=!0)}}}else{dj(f,m,_,x)&&(W=!0);let N;for(const H in D)(!m||!to(m,H)&&((N=V_(H))===H||!to(m,N)))&&(M?y&&(y[H]!==void 0||y[N]!==void 0)&&(_[H]=CH(M,D,H,void 0,f,!0)):delete _[H]);if(x!==D)for(const H in x)(!m||!to(m,H))&&(delete x[H],W=!0)}W&&ub(f,"set","$attrs")}function dj(f,m,y,b){const[_,x]=f.propsOptions;let T=!1,D;if(m)for(let M in m){if(l6(M))continue;const W=m[M];let N;_&&to(_,N=lp(M))?!x||!x.includes(N)?y[N]=W:(D||(D={}))[N]=W:U6(f.emitsOptions,M)||(!(M in b)||W!==b[M])&&(b[M]=W,T=!0)}if(x){const M=po(y),W=D||yi;for(let N=0;N<x.length;N++){const H=x[N];y[H]=CH(_,M,H,W[H],f,!to(W,H))}}return T}function CH(f,m,y,b,_,x){const T=f[y];if(T!=null){const D=to(T,"default");if(D&&b===void 0){const M=T.default;if(T.type!==Function&&!T.skipFactory&&ba(M)){const{propsDefaults:W}=_;y in W?b=W[y]:(vA(_),b=W[y]=M.call(null,m),H_())}else b=M}T[0]&&(x&&!D?b=!1:T[1]&&(b===""||b===V_(y))&&(b=!0))}return b}function mj(f,m,y=!1){const b=m.propsCache,_=b.get(f);if(_)return _;const x=f.props,T={},D=[];let M=!1;if(!ba(f)){const N=H=>{M=!0;const[I,V]=mj(H,m,!0);js(T,I),V&&D.push(...V)};!y&&m.mixins.length&&m.mixins.forEach(N),f.extends&&N(f.extends),f.mixins&&f.mixins.forEach(N)}if(!x&&!M)return ai(f)&&b.set(f,iA),iA;if(Lr(x))for(let N=0;N<x.length;N++){const H=lp(x[N]);IU(H)&&(T[H]=yi)}else if(x)for(const N in x){const H=lp(N);if(IU(H)){const I=x[N],V=T[H]=Lr(I)||ba(I)?{type:I}:js({},I);if(V){const J=FU(Boolean,V.type),q=FU(String,V.type);V[0]=J>-1,V[1]=q<0||J<q,(J>-1||to(V,"default"))&&D.push(H)}}}const W=[T,D];return ai(f)&&b.set(f,W),W}function IU(f){return f[0]!=="$"}function NU(f){const m=f&&f.toString().match(/^\s*(function|class) (\w+)/);return m?m[2]:f===null?"null":""}function zU(f,m){return NU(f)===NU(m)}function FU(f,m){return Lr(m)?m.findIndex(y=>zU(y,f)):ba(m)&&zU(m,f)?0:-1}const hj=f=>f[0]==="_"||f==="$stable",GH=f=>Lr(f)?f.map(ip):[ip(f)],Bee=(f,m,y)=>{if(m._n)return m;const b=Rt((..._)=>GH(m(..._)),y);return b._c=!1,b},gj=(f,m,y)=>{const b=f._ctx;for(const _ in f){if(hj(_))continue;const x=f[_];if(ba(x))m[_]=Bee(_,x,b);else if(x!=null){const T=GH(x);m[_]=()=>T}}},pj=(f,m)=>{const y=GH(m);f.slots.default=()=>y},Mee=(f,m)=>{if(f.vnode.shapeFlag&32){const y=m._;y?(f.slots=po(m),b6(m,"_",y)):gj(m,f.slots={})}else f.slots={},m&&pj(f,m);b6(f.slots,q6,1)},Pee=(f,m,y)=>{const{vnode:b,slots:_}=f;let x=!0,T=yi;if(b.shapeFlag&32){const D=m._;D?y&&D===1?x=!1:(js(_,m),!y&&D===1&&delete _._):(x=!m.$stable,gj(m,_)),T=m}else m&&(pj(f,m),T={default:1});if(x)for(const D in _)!hj(D)&&!(D in T)&&delete _[D]};function _H(f,m,y,b,_=!1){if(Lr(f)){f.forEach((I,V)=>_H(I,m&&(Lr(m)?m[V]:m),y,b,_));return}if(C5(b)&&!_)return;const x=b.shapeFlag&4?K6(b.component)||b.component.proxy:b.el,T=_?null:x,{i:D,r:M}=f,W=m&&m.r,N=D.refs===yi?D.refs={}:D.refs,H=D.setupState;if(W!=null&&W!==M&&(Cs(W)?(N[W]=null,to(H,W)&&(H[W]=null)):Kl(W)&&(W.value=null)),ba(M))Qy(M,D,12,[T,N]);else{const I=Cs(M),V=Kl(M);if(I||V){const J=()=>{if(f.f){const q=I?to(H,M)?H[M]:N[M]:M.value;_?Lr(q)&&BH(q,x):Lr(q)?q.includes(x)||q.push(x):I?(N[M]=[x],to(H,M)&&(H[M]=N[M])):(M.value=[x],f.k&&(N[f.k]=M.value))}else I?(N[M]=T,to(H,M)&&(H[M]=T)):V&&(M.value=T,f.k&&(N[f.k]=T))};T?(J.id=-1,Ef(J,y)):J()}}}const Ef=cee;function Iee(f){return Nee(f)}function Nee(f,m){const y=fH();y.__VUE__=!0;const{insert:b,remove:_,patchProp:x,createElement:T,createText:D,createComment:M,setText:W,setElementText:N,parentNode:H,nextSibling:I,setScopeId:V=qm,insertStaticContent:J}=f,q=(Te,Ae,Je,et=null,Le=null,bt=null,Zt=!1,ut=null,jt=!!Ae.dynamicChildren)=>{if(Te===Ae)return;Te&&!g5(Te,Ae)&&(et=te(Te),it(Te,Le,bt,!0),Te=null),Ae.patchFlag===-2&&(jt=!1,Ae.dynamicChildren=null);const{type:$t,ref:Ft,shapeFlag:rn}=Ae;switch($t){case G6:$e(Te,Ae,Je,et);break;case t2:me(Te,Ae,Je,et);break;case eH:Te==null&&Be(Ae,Je,et,Zt);break;case _r:ne(Te,Ae,Je,et,Le,bt,Zt,ut,jt);break;default:rn&1?De(Te,Ae,Je,et,Le,bt,Zt,ut,jt):rn&6?j(Te,Ae,Je,et,Le,bt,Zt,ut,jt):(rn&64||rn&128)&&$t.process(Te,Ae,Je,et,Le,bt,Zt,ut,jt,Ue)}Ft!=null&&Le&&_H(Ft,Te&&Te.ref,bt,Ae||Te,!Ae)},$e=(Te,Ae,Je,et)=>{if(Te==null)b(Ae.el=D(Ae.children),Je,et);else{const Le=Ae.el=Te.el;Ae.children!==Te.children&&W(Le,Ae.children)}},me=(Te,Ae,Je,et)=>{Te==null?b(Ae.el=M(Ae.children||""),Je,et):Ae.el=Te.el},Be=(Te,Ae,Je,et)=>{[Te.el,Te.anchor]=J(Te.children,Ae,Je,et,Te.el,Te.anchor)},ie=({el:Te,anchor:Ae},Je,et)=>{let Le;for(;Te&&Te!==Ae;)Le=I(Te),b(Te,Je,et),Te=Le;b(Ae,Je,et)},he=({el:Te,anchor:Ae})=>{let Je;for(;Te&&Te!==Ae;)Je=I(Te),_(Te),Te=Je;_(Ae)},De=(Te,Ae,Je,et,Le,bt,Zt,ut,jt)=>{Zt=Zt||Ae.type==="svg",Te==null?ye(Ae,Je,et,Le,bt,Zt,ut,jt):se(Te,Ae,Le,bt,Zt,ut,jt)},ye=(Te,Ae,Je,et,Le,bt,Zt,ut)=>{let jt,$t;const{type:Ft,props:rn,shapeFlag:pn,transition:Yn,dirs:vr}=Te;if(jt=Te.el=T(Te.type,bt,rn&&rn.is,rn),pn&8?N(jt,Te.children):pn&16&&le(Te.children,jt,null,et,Le,bt&&Ft!=="foreignObject",Zt,ut),vr&&B_(Te,null,et,"created"),Xe(jt,Te,Te.scopeId,Zt,et),rn){for(const ir in rn)ir!=="value"&&!l6(ir)&&x(jt,ir,null,rn[ir],bt,Te.children,et,Le,_n);"value"in rn&&x(jt,"value",null,rn.value),($t=rn.onVnodeBeforeMount)&&op($t,et,Te)}vr&&B_(Te,null,et,"beforeMount");const qr=(!Le||Le&&!Le.pendingBranch)&&Yn&&!Yn.persisted;qr&&Yn.beforeEnter(jt),b(jt,Ae,Je),(($t=rn&&rn.onVnodeMounted)||qr||vr)&&Ef(()=>{$t&&op($t,et,Te),qr&&Yn.enter(jt),vr&&B_(Te,null,et,"mounted")},Le)},Xe=(Te,Ae,Je,et,Le)=>{if(Je&&V(Te,Je),et)for(let bt=0;bt<et.length;bt++)V(Te,et[bt]);if(Le){let bt=Le.subTree;if(Ae===bt){const Zt=Le.vnode;Xe(Te,Zt,Zt.scopeId,Zt.slotScopeIds,Le.parent)}}},le=(Te,Ae,Je,et,Le,bt,Zt,ut,jt=0)=>{for(let $t=jt;$t<Te.length;$t++){const Ft=Te[$t]=ut?Yy(Te[$t]):ip(Te[$t]);q(null,Ft,Ae,Je,et,Le,bt,Zt,ut)}},se=(Te,Ae,Je,et,Le,bt,Zt)=>{const ut=Ae.el=Te.el;let{patchFlag:jt,dynamicChildren:$t,dirs:Ft}=Ae;jt|=Te.patchFlag&16;const rn=Te.props||yi,pn=Ae.props||yi;let Yn;Je&&M_(Je,!1),(Yn=pn.onVnodeBeforeUpdate)&&op(Yn,Je,Ae,Te),Ft&&B_(Ae,Te,Je,"beforeUpdate"),Je&&M_(Je,!0);const vr=Le&&Ae.type!=="foreignObject";if($t?Ee(Te.dynamicChildren,$t,ut,Je,et,vr,bt):Zt||st(Te,Ae,ut,null,Je,et,vr,bt,!1),jt>0){if(jt&16)We(ut,Ae,rn,pn,Je,et,Le);else if(jt&2&&rn.class!==pn.class&&x(ut,"class",null,pn.class,Le),jt&4&&x(ut,"style",rn.style,pn.style,Le),jt&8){const qr=Ae.dynamicProps;for(let ir=0;ir<qr.length;ir++){const ua=qr[ir],va=rn[ua],Qr=pn[ua];(Qr!==va||ua==="value")&&x(ut,ua,va,Qr,Le,Te.children,Je,et,_n)}}jt&1&&Te.children!==Ae.children&&N(ut,Ae.children)}else!Zt&&$t==null&&We(ut,Ae,rn,pn,Je,et,Le);((Yn=pn.onVnodeUpdated)||Ft)&&Ef(()=>{Yn&&op(Yn,Je,Ae,Te),Ft&&B_(Ae,Te,Je,"updated")},et)},Ee=(Te,Ae,Je,et,Le,bt,Zt)=>{for(let ut=0;ut<Ae.length;ut++){const jt=Te[ut],$t=Ae[ut],Ft=jt.el&&(jt.type===_r||!g5(jt,$t)||jt.shapeFlag&70)?H(jt.el):Je;q(jt,$t,Ft,null,et,Le,bt,Zt,!0)}},We=(Te,Ae,Je,et,Le,bt,Zt)=>{if(Je!==et){if(Je!==yi)for(const ut in Je)!l6(ut)&&!(ut in et)&&x(Te,ut,Je[ut],null,Zt,Ae.children,Le,bt,_n);for(const ut in et){if(l6(ut))continue;const jt=et[ut],$t=Je[ut];jt!==$t&&ut!=="value"&&x(Te,ut,$t,jt,Zt,Ae.children,Le,bt,_n)}"value"in et&&x(Te,"value",Je.value,et.value)}},ne=(Te,Ae,Je,et,Le,bt,Zt,ut,jt)=>{const $t=Ae.el=Te?Te.el:D(""),Ft=Ae.anchor=Te?Te.anchor:D("");let{patchFlag:rn,dynamicChildren:pn,slotScopeIds:Yn}=Ae;Yn&&(ut=ut?ut.concat(Yn):Yn),Te==null?(b($t,Je,et),b(Ft,Je,et),le(Ae.children,Je,Ft,Le,bt,Zt,ut,jt)):rn>0&&rn&64&&pn&&Te.dynamicChildren?(Ee(Te.dynamicChildren,pn,Je,Le,bt,Zt,ut),(Ae.key!=null||Le&&Ae===Le.subTree)&&bj(Te,Ae,!0)):st(Te,Ae,Je,Ft,Le,bt,Zt,ut,jt)},j=(Te,Ae,Je,et,Le,bt,Zt,ut,jt)=>{Ae.slotScopeIds=ut,Te==null?Ae.shapeFlag&512?Le.ctx.activate(Ae,Je,et,Zt,jt):ke(Ae,Je,et,Le,bt,Zt,jt):rt(Te,Ae,jt)},ke=(Te,Ae,Je,et,Le,bt,Zt)=>{const ut=Te.component=Gee(Te,et,Le);if(ij(Te)&&(ut.ctx.renderer=Ue),qee(ut),ut.asyncDep){if(Le&&Le.registerDep(ut,ce),!Te.el){const jt=ut.subTree=at(t2);me(null,jt,Ae,Je)}return}ce(ut,Te,Ae,Je,Le,bt,Zt)},rt=(Te,Ae,Je)=>{const et=Ae.component=Te.component;if(uee(Te,Ae,Je))if(et.asyncDep&&!et.asyncResolved){be(et,Ae,Je);return}else et.next=Ae,tee(et.update),et.update();else Ae.el=Te.el,et.vnode=Ae},ce=(Te,Ae,Je,et,Le,bt,Zt)=>{const ut=()=>{if(Te.isMounted){let{next:Ft,bu:rn,u:pn,parent:Yn,vnode:vr}=Te,qr=Ft,ir;M_(Te,!1),Ft?(Ft.el=vr.el,be(Te,Ft,Zt)):Ft=vr,rn&&c6(rn),(ir=Ft.props&&Ft.props.onVnodeBeforeUpdate)&&op(ir,Yn,Ft,vr),M_(Te,!0);const ua=J7(Te),va=Te.subTree;Te.subTree=ua,q(va,ua,H(va.el),te(va),Te,Le,bt),Ft.el=ua.el,qr===null&&see(Te,ua.el),pn&&Ef(pn,Le),(ir=Ft.props&&Ft.props.onVnodeUpdated)&&Ef(()=>op(ir,Yn,Ft,vr),Le)}else{let Ft;const{el:rn,props:pn}=Ae,{bm:Yn,m:vr,parent:qr}=Te,ir=C5(Ae);if(M_(Te,!1),Yn&&c6(Yn),!ir&&(Ft=pn&&pn.onVnodeBeforeMount)&&op(Ft,qr,Ae),M_(Te,!0),rn&&Zn){const ua=()=>{Te.subTree=J7(Te),Zn(rn,Te.subTree,Te,Le,null)};ir?Ae.type.__asyncLoader().then(()=>!Te.isUnmounted&&ua()):ua()}else{const ua=Te.subTree=J7(Te);q(null,ua,Je,et,Te,Le,bt),Ae.el=ua.el}if(vr&&Ef(vr,Le),!ir&&(Ft=pn&&pn.onVnodeMounted)){const ua=Ae;Ef(()=>op(Ft,qr,ua),Le)}(Ae.shapeFlag&256||qr&&C5(qr.vnode)&&qr.vnode.shapeFlag&256)&&Te.a&&Ef(Te.a,Le),Te.isMounted=!0,Ae=Je=et=null}},jt=Te.effect=new IH(ut,()=>WH($t),Te.scope),$t=Te.update=()=>jt.run();$t.id=Te.uid,M_(Te,!0),$t()},be=(Te,Ae,Je)=>{Ae.component=Te;const et=Te.vnode.props;Te.vnode=Ae,Te.next=null,$ee(Te,Ae.props,et,Je),Pee(Te,Ae.children,Je),gA(),OU(),pA()},st=(Te,Ae,Je,et,Le,bt,Zt,ut,jt=!1)=>{const $t=Te&&Te.children,Ft=Te?Te.shapeFlag:0,rn=Ae.children,{patchFlag:pn,shapeFlag:Yn}=Ae;if(pn>0){if(pn&128){kt($t,rn,Je,et,Le,bt,Zt,ut,jt);return}else if(pn&256){B($t,rn,Je,et,Le,bt,Zt,ut,jt);return}}Yn&8?(Ft&16&&_n($t,Le,bt),rn!==$t&&N(Je,rn)):Ft&16?Yn&16?kt($t,rn,Je,et,Le,bt,Zt,ut,jt):_n($t,Le,bt,!0):(Ft&8&&N(Je,""),Yn&16&&le(rn,Je,et,Le,bt,Zt,ut,jt))},B=(Te,Ae,Je,et,Le,bt,Zt,ut,jt)=>{Te=Te||iA,Ae=Ae||iA;const $t=Te.length,Ft=Ae.length,rn=Math.min($t,Ft);let pn;for(pn=0;pn<rn;pn++){const Yn=Ae[pn]=jt?Yy(Ae[pn]):ip(Ae[pn]);q(Te[pn],Yn,Je,null,Le,bt,Zt,ut,jt)}$t>Ft?_n(Te,Le,bt,!0,!1,rn):le(Ae,Je,et,Le,bt,Zt,ut,jt,rn)},kt=(Te,Ae,Je,et,Le,bt,Zt,ut,jt)=>{let $t=0;const Ft=Ae.length;let rn=Te.length-1,pn=Ft-1;for(;$t<=rn&&$t<=pn;){const Yn=Te[$t],vr=Ae[$t]=jt?Yy(Ae[$t]):ip(Ae[$t]);if(g5(Yn,vr))q(Yn,vr,Je,null,Le,bt,Zt,ut,jt);else break;$t++}for(;$t<=rn&&$t<=pn;){const Yn=Te[rn],vr=Ae[pn]=jt?Yy(Ae[pn]):ip(Ae[pn]);if(g5(Yn,vr))q(Yn,vr,Je,null,Le,bt,Zt,ut,jt);else break;rn--,pn--}if($t>rn){if($t<=pn){const Yn=pn+1,vr=Yn<Ft?Ae[Yn].el:et;for(;$t<=pn;)q(null,Ae[$t]=jt?Yy(Ae[$t]):ip(Ae[$t]),Je,vr,Le,bt,Zt,ut,jt),$t++}}else if($t>pn)for(;$t<=rn;)it(Te[$t],Le,bt,!0),$t++;else{const Yn=$t,vr=$t,qr=new Map;for($t=vr;$t<=pn;$t++){const dr=Ae[$t]=jt?Yy(Ae[$t]):ip(Ae[$t]);dr.key!=null&&qr.set(dr.key,$t)}let ir,ua=0;const va=pn-vr+1;let Qr=!1,Hr=0;const da=new Array(va);for($t=0;$t<va;$t++)da[$t]=0;for($t=Yn;$t<=rn;$t++){const dr=Te[$t];if(ua>=va){it(dr,Le,bt,!0);continue}let La;if(dr.key!=null)La=qr.get(dr.key);else for(ir=vr;ir<=pn;ir++)if(da[ir-vr]===0&&g5(dr,Ae[ir])){La=ir;break}La===void 0?it(dr,Le,bt,!0):(da[La-vr]=$t+1,La>=Hr?Hr=La:Qr=!0,q(dr,Ae[La],Je,null,Le,bt,Zt,ut,jt),ua++)}const Ur=Qr?zee(da):iA;for(ir=Ur.length-1,$t=va-1;$t>=0;$t--){const dr=vr+$t,La=Ae[dr],Ji=dr+1<Ft?Ae[dr+1].el:et;da[$t]===0?q(null,La,Je,Ji,Le,bt,Zt,ut,jt):Qr&&(ir<0||$t!==Ur[ir]?ot(La,Je,Ji,2):ir--)}}},ot=(Te,Ae,Je,et,Le=null)=>{const{el:bt,type:Zt,transition:ut,children:jt,shapeFlag:$t}=Te;if($t&6){ot(Te.component.subTree,Ae,Je,et);return}if($t&128){Te.suspense.move(Ae,Je,et);return}if($t&64){Zt.move(Te,Ae,Je,Ue);return}if(Zt===_r){b(bt,Ae,Je);for(let rn=0;rn<jt.length;rn++)ot(jt[rn],Ae,Je,et);b(Te.anchor,Ae,Je);return}if(Zt===eH){ie(Te,Ae,Je);return}if(et!==2&&$t&1&&ut)if(et===0)ut.beforeEnter(bt),b(bt,Ae,Je),Ef(()=>ut.enter(bt),Le);else{const{leave:rn,delayLeave:pn,afterLeave:Yn}=ut,vr=()=>b(bt,Ae,Je),qr=()=>{rn(bt,()=>{vr(),Yn&&Yn()})};pn?pn(bt,vr,qr):qr()}else b(bt,Ae,Je)},it=(Te,Ae,Je,et=!1,Le=!1)=>{const{type:bt,props:Zt,ref:ut,children:jt,dynamicChildren:$t,shapeFlag:Ft,patchFlag:rn,dirs:pn}=Te;if(ut!=null&&_H(ut,null,Je,Te,!0),Ft&256){Ae.ctx.deactivate(Te);return}const Yn=Ft&1&&pn,vr=!C5(Te);let qr;if(vr&&(qr=Zt&&Zt.onVnodeBeforeUnmount)&&op(qr,Ae,Te),Ft&6)ct(Te.component,Je,et);else{if(Ft&128){Te.suspense.unmount(Je,et);return}Yn&&B_(Te,null,Ae,"beforeUnmount"),Ft&64?Te.type.remove(Te,Ae,Je,Le,Ue,et):$t&&(bt!==_r||rn>0&&rn&64)?_n($t,Ae,Je,!1,!0):(bt===_r&&rn&384||!Le&&Ft&16)&&_n(jt,Ae,Je),et&&An(Te)}(vr&&(qr=Zt&&Zt.onVnodeUnmounted)||Yn)&&Ef(()=>{qr&&op(qr,Ae,Te),Yn&&B_(Te,null,Ae,"unmounted")},Je)},An=Te=>{const{type:Ae,el:Je,anchor:et,transition:Le}=Te;if(Ae===_r){cn(Je,et);return}if(Ae===eH){he(Te);return}const bt=()=>{_(Je),Le&&!Le.persisted&&Le.afterLeave&&Le.afterLeave()};if(Te.shapeFlag&1&&Le&&!Le.persisted){const{leave:Zt,delayLeave:ut}=Le,jt=()=>Zt(Je,bt);ut?ut(Te.el,bt,jt):jt()}else bt()},cn=(Te,Ae)=>{let Je;for(;Te!==Ae;)Je=I(Te),_(Te),Te=Je;_(Ae)},ct=(Te,Ae,Je)=>{const{bum:et,scope:Le,update:bt,subTree:Zt,um:ut}=Te;et&&c6(et),Le.stop(),bt&&(bt.active=!1,it(Zt,Te,Ae,Je)),ut&&Ef(ut,Ae),Ef(()=>{Te.isUnmounted=!0},Ae),Ae&&Ae.pendingBranch&&!Ae.isUnmounted&&Te.asyncDep&&!Te.asyncResolved&&Te.suspenseId===Ae.pendingId&&(Ae.deps--,Ae.deps===0&&Ae.resolve())},_n=(Te,Ae,Je,et=!1,Le=!1,bt=0)=>{for(let Zt=bt;Zt<Te.length;Zt++)it(Te[Zt],Ae,Je,et,Le)},te=Te=>Te.shapeFlag&6?te(Te.component.subTree):Te.shapeFlag&128?Te.suspense.next():I(Te.anchor||Te.el),fn=(Te,Ae,Je)=>{Te==null?Ae._vnode&&it(Ae._vnode,null,null,!0):q(Ae._vnode||null,Te,Ae,null,null,null,Je),OU(),ej(),Ae._vnode=Te},Ue={p:q,um:it,m:ot,r:An,mt:ke,mc:le,pc:st,pbc:Ee,n:te,o:f};let pt,Zn;return m&&([pt,Zn]=m(Ue)),{render:fn,hydrate:pt,createApp:Dee(fn,pt)}}function M_({effect:f,update:m},y){f.allowRecurse=m.allowRecurse=y}function bj(f,m,y=!1){const b=f.children,_=m.children;if(Lr(b)&&Lr(_))for(let x=0;x<b.length;x++){const T=b[x];let D=_[x];D.shapeFlag&1&&!D.dynamicChildren&&((D.patchFlag<=0||D.patchFlag===32)&&(D=_[x]=Yy(_[x]),D.el=T.el),y||bj(T,D)),D.type===G6&&(D.el=T.el)}}function zee(f){const m=f.slice(),y=[0];let b,_,x,T,D;const M=f.length;for(b=0;b<M;b++){const W=f[b];if(W!==0){if(_=y[y.length-1],f[_]<W){m[b]=_,y.push(b);continue}for(x=0,T=y.length-1;x<T;)D=x+T>>1,f[y[D]]<W?x=D+1:T=D;W<f[y[x]]&&(x>0&&(m[b]=y[x-1]),y[x]=b)}}for(x=y.length,T=y[x-1];x-- >0;)y[x]=T,T=m[T];return y}const Fee=f=>f.__isTeleport,_r=Symbol.for("v-fgt"),G6=Symbol.for("v-txt"),t2=Symbol.for("v-cmt"),eH=Symbol.for("v-stc"),S5=[];let jm=null;function Ve(f=!1){S5.push(jm=f?null:[])}function Lee(){S5.pop(),jm=S5[S5.length-1]||null}let R5=1;function LU(f){R5+=f}function yj(f){return f.dynamicChildren=R5>0?jm||iA:null,Lee(),R5>0&&jm&&jm.push(f),f}function qe(f,m,y,b,_,x){return yj(z(f,m,y,b,_,x,!0))}function Ym(f,m,y,b,_){return yj(at(f,m,y,b,_,!0))}function x6(f){return f?f.__v_isVNode===!0:!1}function g5(f,m){return f.type===m.type&&f.key===m.key}const q6="__vInternal",wj=({key:f})=>f??null,v6=({ref:f,ref_key:m,ref_for:y})=>(typeof f=="number"&&(f=""+f),f!=null?Cs(f)||Kl(f)||ba(f)?{i:Xl,r:f,k:m,f:!!y}:f:null);function z(f,m=null,y=null,b=0,_=null,x=f===_r?0:1,T=!1,D=!1){const M={__v_isVNode:!0,__v_skip:!0,type:f,props:m,key:m&&wj(m),ref:m&&v6(m),scopeId:W6,slotScopeIds:null,children:y,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:x,patchFlag:b,dynamicProps:_,dynamicChildren:null,appContext:null,ctx:Xl};return D?(qH(M,y),x&128&&f.normalize(M)):y&&(M.shapeFlag|=Cs(y)?8:16),R5>0&&!T&&jm&&(M.patchFlag>0||x&6)&&M.patchFlag!==32&&jm.push(M),M}const at=Hee;function Hee(f,m=null,y=null,b=0,_=null,x=!1){if((!f||f===Cee)&&(f=t2),x6(f)){const D=fA(f,m,!0);return y&&qH(D,y),R5>0&&!x&&jm&&(D.shapeFlag&6?jm[jm.indexOf(f)]=D:jm.push(D)),D.patchFlag|=-2,D}if(Jee(f)&&(f=f.__vccOpts),m){m=Vee(m);let{class:D,style:M}=m;D&&!Cs(D)&&(m.class=N5(D)),ai(M)&&(GW(M)&&!Lr(M)&&(M=js({},M)),m.style=z6(M))}const T=Cs(f)?1:lee(f)?128:Fee(f)?64:ai(f)?4:ba(f)?2:0;return z(f,m,y,b,_,T,x,!0)}function Vee(f){return f?GW(f)||q6 in f?js({},f):f:null}function fA(f,m,y=!1){const{props:b,ref:_,patchFlag:x,children:T}=f,D=m?Uee(b||{},m):b;return{__v_isVNode:!0,__v_skip:!0,type:f.type,props:D,key:D&&wj(D),ref:m&&m.ref?y&&_?Lr(_)?_.concat(v6(m)):[_,v6(m)]:v6(m):_,scopeId:f.scopeId,slotScopeIds:f.slotScopeIds,children:T,target:f.target,targetAnchor:f.targetAnchor,staticCount:f.staticCount,shapeFlag:f.shapeFlag,patchFlag:m&&f.type!==_r?x===-1?16:x|16:x,dynamicProps:f.dynamicProps,dynamicChildren:f.dynamicChildren,appContext:f.appContext,dirs:f.dirs,transition:f.transition,component:f.component,suspense:f.suspense,ssContent:f.ssContent&&fA(f.ssContent),ssFallback:f.ssFallback&&fA(f.ssFallback),el:f.el,anchor:f.anchor,ctx:f.ctx,ce:f.ce}}function pr(f=" ",m=0){return at(G6,null,f,m)}function ur(f="",m=!1){return m?(Ve(),Ym(t2,null,f)):at(t2,null,f)}function ip(f){return f==null||typeof f=="boolean"?at(t2):Lr(f)?at(_r,null,f.slice()):typeof f=="object"?Yy(f):at(G6,null,String(f))}function Yy(f){return f.el===null&&f.patchFlag!==-1||f.memo?f:fA(f)}function qH(f,m){let y=0;const{shapeFlag:b}=f;if(m==null)m=null;else if(Lr(m))y=16;else if(typeof m=="object")if(b&65){const _=m.default;_&&(_._c&&(_._d=!1),qH(f,_()),_._c&&(_._d=!0));return}else{y=32;const _=m._;!_&&!(q6 in m)?m._ctx=Xl:_===3&&Xl&&(Xl.slots._===1?m._=1:(m._=2,f.patchFlag|=1024))}else ba(m)?(m={default:m,_ctx:Xl},y=32):(m=String(m),b&64?(y=16,m=[pr(m)]):y=8);f.children=m,f.shapeFlag|=y}function Uee(...f){const m={};for(let y=0;y<f.length;y++){const b=f[y];for(const _ in b)if(_==="class")m.class!==b.class&&(m.class=N5([m.class,b.class]));else if(_==="style")m.style=z6([m.style,b.style]);else if(M6(_)){const x=m[_],T=b[_];T&&x!==T&&!(Lr(x)&&x.includes(T))&&(m[_]=x?[].concat(x,T):T)}else _!==""&&(m[_]=b[_])}return m}function op(f,m,y,b=null){Km(f,m,7,[y,b])}const Wee=vj();let jee=0;function Gee(f,m,y){const b=f.type,_=(m?m.appContext:f.appContext)||Wee,x={uid:jee++,vnode:f,type:b,parent:m,appContext:_,root:null,next:null,subTree:null,effect:null,update:null,scope:new BW(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:m?m.provides:Object.create(_.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mj(b,_),emitsOptions:nj(b,_),emit:null,emitted:null,propsDefaults:yi,inheritAttrs:b.inheritAttrs,ctx:yi,data:yi,props:yi,attrs:yi,slots:yi,refs:yi,setupState:yi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:y,suspenseId:y?y.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return x.ctx={_:x},x.root=m?m.root:x,x.emit=aee.bind(null,x),f.ce&&f.ce(x),x}let pl=null,KH,rA,HU="__VUE_INSTANCE_SETTERS__";(rA=fH()[HU])||(rA=fH()[HU]=[]),rA.push(f=>pl=f),KH=f=>{rA.length>1?rA.forEach(m=>m(f)):rA[0](f)};const vA=f=>{KH(f),f.scope.on()},H_=()=>{pl&&pl.scope.off(),KH(null)};function Cj(f){return f.vnode.shapeFlag&4}let $5=!1;function qee(f,m=!1){$5=m;const{props:y,children:b}=f.vnode,_=Cj(f);Ree(f,y,_,m),Mee(f,b);const x=_?Kee(f,m):void 0;return $5=!1,x}function Kee(f,m){const y=f.type;f.accessCache=Object.create(null),f.proxy=HH(new Proxy(f.ctx,See));const{setup:b}=y;if(b){const _=f.setupContext=b.length>1?Yee(f):null;vA(f),gA();const x=Qy(b,f,0,[f.props,_]);if(pA(),H_(),TW(x)){if(x.then(H_,H_),m)return x.then(T=>{VU(f,T,m)}).catch(T=>{V6(T,f,0)});f.asyncDep=x}else VU(f,x,m)}else _j(f,m)}function VU(f,m,y){ba(m)?f.type.__ssrInlineRender?f.ssrRender=m:f.render=m:ai(m)&&(f.setupState=YW(m)),_j(f,y)}let UU;function _j(f,m,y){const b=f.type;if(!f.render){if(!m&&UU&&!b.render){const _=b.template||jH(f).template;if(_){const{isCustomElement:x,compilerOptions:T}=f.appContext.config,{delimiters:D,compilerOptions:M}=b,W=js(js({isCustomElement:x,delimiters:D},T),M);b.render=UU(_,W)}}f.render=b.render||qm}vA(f),gA(),xee(f),pA(),H_()}function Xee(f){return f.attrsProxy||(f.attrsProxy=new Proxy(f.attrs,{get(m,y){return Of(f,"get","$attrs"),m[y]}}))}function Yee(f){const m=y=>{f.exposed=y||{}};return{get attrs(){return Xee(f)},slots:f.slots,emit:f.emit,expose:m}}function K6(f){if(f.exposed)return f.exposeProxy||(f.exposeProxy=new Proxy(YW(HH(f.exposed)),{get(m,y){if(y in m)return m[y];if(y in _5)return _5[y](f)},has(m,y){return y in m||y in _5}}))}function Zee(f,m=!0){return ba(f)?f.displayName||f.name:f.name||m&&f.__name}function Jee(f){return ba(f)&&"__vccOpts"in f}const ri=(f,m)=>JQ(f,m,$5);function Sj(f,m,y){const b=arguments.length;return b===2?ai(m)&&!Lr(m)?x6(m)?at(f,null,[m]):at(f,m):at(f,null,m):(b>3?y=Array.prototype.slice.call(arguments,2):b===3&&x6(y)&&(y=[y]),at(f,m,y))}const Qee=Symbol.for("v-scx"),ete=()=>Xm(Qee),tte="3.3.4",nte="http://www.w3.org/2000/svg",I_=typeof document<"u"?document:null,WU=I_&&I_.createElement("template"),rte={insert:(f,m,y)=>{m.insertBefore(f,y||null)},remove:f=>{const m=f.parentNode;m&&m.removeChild(f)},createElement:(f,m,y,b)=>{const _=m?I_.createElementNS(nte,f):I_.createElement(f,y?{is:y}:void 0);return f==="select"&&b&&b.multiple!=null&&_.setAttribute("multiple",b.multiple),_},createText:f=>I_.createTextNode(f),createComment:f=>I_.createComment(f),setText:(f,m)=>{f.nodeValue=m},setElementText:(f,m)=>{f.textContent=m},parentNode:f=>f.parentNode,nextSibling:f=>f.nextSibling,querySelector:f=>I_.querySelector(f),setScopeId(f,m){f.setAttribute(m,"")},insertStaticContent(f,m,y,b,_,x){const T=y?y.previousSibling:m.lastChild;if(_&&(_===x||_.nextSibling))for(;m.insertBefore(_.cloneNode(!0),y),!(_===x||!(_=_.nextSibling)););else{WU.innerHTML=b?`<svg>${f}</svg>`:f;const D=WU.content;if(b){const M=D.firstChild;for(;M.firstChild;)D.appendChild(M.firstChild);D.removeChild(M)}m.insertBefore(D,y)}return[T?T.nextSibling:m.firstChild,y?y.previousSibling:m.lastChild]}};function ate(f,m,y){const b=f._vtc;b&&(m=(m?[m,...b]:[...b]).join(" ")),m==null?f.removeAttribute("class"):y?f.setAttribute("class",m):f.className=m}function ote(f,m,y){const b=f.style,_=Cs(y);if(y&&!_){if(m&&!Cs(m))for(const x in m)y[x]==null&&SH(b,x,"");for(const x in y)SH(b,x,y[x])}else{const x=b.display;_?m!==y&&(b.cssText=y):m&&f.removeAttribute("style"),"_vod"in f&&(b.display=x)}}const jU=/\s*!important$/;function SH(f,m,y){if(Lr(y))y.forEach(b=>SH(f,m,b));else if(y==null&&(y=""),m.startsWith("--"))f.setProperty(m,y);else{const b=ite(f,m);jU.test(y)?f.setProperty(V_(b),y.replace(jU,""),"important"):f[b]=y}}const GU=["Webkit","Moz","ms"],tH={};function ite(f,m){const y=tH[m];if(y)return y;let b=lp(m);if(b!=="filter"&&b in f)return tH[m]=b;b=N6(b);for(let _=0;_<GU.length;_++){const x=GU[_]+b;if(x in f)return tH[m]=x}return m}const qU="http://www.w3.org/1999/xlink";function ute(f,m,y,b,_){if(b&&m.startsWith("xlink:"))y==null?f.removeAttributeNS(qU,m.slice(6,m.length)):f.setAttributeNS(qU,m,y);else{const x=gQ(m);y==null||x&&!RW(y)?f.removeAttribute(m):f.setAttribute(m,x?"":y)}}function ste(f,m,y,b,_,x,T){if(m==="innerHTML"||m==="textContent"){b&&T(b,_,x),f[m]=y??"";return}const D=f.tagName;if(m==="value"&&D!=="PROGRESS"&&!D.includes("-")){f._value=y;const W=D==="OPTION"?f.getAttribute("value"):f.value,N=y??"";W!==N&&(f.value=N),y==null&&f.removeAttribute(m);return}let M=!1;if(y===""||y==null){const W=typeof f[m];W==="boolean"?y=RW(y):y==null&&W==="string"?(y="",M=!0):W==="number"&&(y=0,M=!0)}try{f[m]=y}catch{}M&&f.removeAttribute(m)}function N_(f,m,y,b){f.addEventListener(m,y,b)}function lte(f,m,y,b){f.removeEventListener(m,y,b)}function cte(f,m,y,b,_=null){const x=f._vei||(f._vei={}),T=x[m];if(b&&T)T.value=b;else{const[D,M]=fte(m);if(b){const W=x[m]=mte(b,_);N_(f,D,W,M)}else T&&(lte(f,D,T,M),x[m]=void 0)}}const KU=/(?:Once|Passive|Capture)$/;function fte(f){let m;if(KU.test(f)){m={};let b;for(;b=f.match(KU);)f=f.slice(0,f.length-b[0].length),m[b[0].toLowerCase()]=!0}return[f[2]===":"?f.slice(3):V_(f.slice(2)),m]}let nH=0;const vte=Promise.resolve(),dte=()=>nH||(vte.then(()=>nH=0),nH=Date.now());function mte(f,m){const y=b=>{if(!b._vts)b._vts=Date.now();else if(b._vts<=y.attached)return;Km(hte(b,y.value),m,5,[b])};return y.value=f,y.attached=dte(),y}function hte(f,m){if(Lr(m)){const y=f.stopImmediatePropagation;return f.stopImmediatePropagation=()=>{y.call(f),f._stopped=!0},m.map(b=>_=>!_._stopped&&b&&b(_))}else return m}const XU=/^on[a-z]/,gte=(f,m,y,b,_=!1,x,T,D,M)=>{m==="class"?ate(f,b,_):m==="style"?ote(f,y,b):M6(m)?$H(m)||cte(f,m,y,b,T):(m[0]==="."?(m=m.slice(1),!0):m[0]==="^"?(m=m.slice(1),!1):pte(f,m,b,_))?ste(f,m,b,x,T,D,M):(m==="true-value"?f._trueValue=b:m==="false-value"&&(f._falseValue=b),ute(f,m,b,_))};function pte(f,m,y,b){return b?!!(m==="innerHTML"||m==="textContent"||m in f&&XU.test(m)&&ba(y)):m==="spellcheck"||m==="draggable"||m==="translate"||m==="form"||m==="list"&&f.tagName==="INPUT"||m==="type"&&f.tagName==="TEXTAREA"||XU.test(m)&&Cs(y)?!1:m in f}const k6=f=>{const m=f.props["onUpdate:modelValue"]||!1;return Lr(m)?y=>c6(m,y):m};function bte(f){f.target.composing=!0}function YU(f){const m=f.target;m.composing&&(m.composing=!1,m.dispatchEvent(new Event("input")))}const Hn={created(f,{modifiers:{lazy:m,trim:y,number:b}},_){f._assign=k6(_);const x=b||_.props&&_.props.type==="number";N_(f,m?"change":"input",T=>{if(T.target.composing)return;let D=f.value;y&&(D=D.trim()),x&&(D=y6(D)),f._assign(D)}),y&&N_(f,"change",()=>{f.value=f.value.trim()}),m||(N_(f,"compositionstart",bte),N_(f,"compositionend",YU),N_(f,"change",YU))},mounted(f,{value:m}){f.value=m??""},beforeUpdate(f,{value:m,modifiers:{lazy:y,trim:b,number:_}},x){if(f._assign=k6(x),f.composing||document.activeElement===f&&f.type!=="range"&&(y||b&&f.value.trim()===m||(_||f.type==="number")&&y6(f.value)===m))return;const T=m??"";f.value!==T&&(f.value=T)}},X6={deep:!0,created(f,{value:m,modifiers:{number:y}},b){const _=P6(m);N_(f,"change",()=>{const x=Array.prototype.filter.call(f.options,T=>T.selected).map(T=>y?y6(A6(T)):A6(T));f._assign(f.multiple?_?new Set(x):x:x[0])}),f._assign=k6(b)},mounted(f,{value:m}){ZU(f,m)},beforeUpdate(f,m,y){f._assign=k6(y)},updated(f,{value:m}){ZU(f,m)}};function ZU(f,m){const y=f.multiple;if(!(y&&!Lr(m)&&!P6(m))){for(let b=0,_=f.options.length;b<_;b++){const x=f.options[b],T=A6(x);if(y)Lr(m)?x.selected=bQ(m,T)>-1:x.selected=m.has(T);else if(F6(A6(x),m)){f.selectedIndex!==b&&(f.selectedIndex=b);return}}!y&&f.selectedIndex!==-1&&(f.selectedIndex=-1)}}function A6(f){return"_value"in f?f._value:f.value}const yte=["ctrl","shift","alt","meta"],wte={stop:f=>f.stopPropagation(),prevent:f=>f.preventDefault(),self:f=>f.target!==f.currentTarget,ctrl:f=>!f.ctrlKey,shift:f=>!f.shiftKey,alt:f=>!f.altKey,meta:f=>!f.metaKey,left:f=>"button"in f&&f.button!==0,middle:f=>"button"in f&&f.button!==1,right:f=>"button"in f&&f.button!==2,exact:(f,m)=>yte.some(y=>f[`${y}Key`]&&!m.includes(y))},Cte=(f,m)=>(y,...b)=>{for(let _=0;_<m.length;_++){const x=wte[m[_]];if(x&&x(y,m))return}return f(y,...b)},_te={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ste=(f,m)=>y=>{if(!("key"in y))return;const b=V_(y.key);if(m.some(_=>_===b||_te[_]===b))return f(y)},xte=js({patchProp:gte},rte);let JU;function kte(){return JU||(JU=Iee(xte))}const Ate=(...f)=>{const m=kte().createApp(...f),{mount:y}=m;return m.mount=b=>{const _=Ete(b);if(!_)return;const x=m._component;!ba(x)&&!x.render&&!x.template&&(x.template=_.innerHTML),_.innerHTML="";const T=y(_,!1,_ instanceof SVGElement);return _ instanceof Element&&(_.removeAttribute("v-cloak"),_.setAttribute("data-v-app","")),T},m};function Ete(f){return Cs(f)?document.querySelector(f):f}var Tte=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const Ote=Symbol();var QU;(function(f){f.direct="direct",f.patchObject="patch object",f.patchFunction="patch function"})(QU||(QU={}));function Dte(){const f=yQ(!0),m=f.run(()=>wt({}));let y=[],b=[];const _=HH({install(x){_._a=x,x.provide(Ote,_),x.config.globalProperties.$pinia=_,b.forEach(T=>y.push(T)),b=[]},use(x){return!this._a&&!Tte?b.push(x):y.push(x),this},_p:y,_a:null,_e:f,_s:new Map,state:m});return _}const xj="/assets/logo-403a472e.svg",kj="/assets/tour-3908d667.svg",Rte="/assets/guide-2f617d29.svg",$te="/assets/language-1f6f72b9.svg",Bte="/assets/mobility-6abf7304.svg",Mte="/assets/place-32612cab.svg",Pte="/assets/category-1c106769.svg",Ite="/assets/verify-af8a1288.svg",Nte="/assets/skill-6808aa68.svg",XH="/assets/page-2cc861e5.svg",Aj="/assets/usermanagement-a4fe644f.svg";/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const aA=typeof window<"u";function zte(f){return f.__esModule||f[Symbol.toStringTag]==="Module"}const $o=Object.assign;function rH(f,m){const y={};for(const b in m){const _=m[b];y[b]=Zm(_)?_.map(f):f(_)}return y}const x5=()=>{},Zm=Array.isArray,Fte=/\/$/,Lte=f=>f.replace(Fte,"");function aH(f,m,y="/"){let b,_={},x="",T="";const D=m.indexOf("#");let M=m.indexOf("?");return D<M&&D>=0&&(M=-1),M>-1&&(b=m.slice(0,M),x=m.slice(M+1,D>-1?D:m.length),_=f(x)),D>-1&&(b=b||m.slice(0,D),T=m.slice(D,m.length)),b=Wte(b??m,y),{fullPath:b+(x&&"?")+x+T,path:b,query:_,hash:T}}function Hte(f,m){const y=m.query?f(m.query):"";return m.path+(y&&"?")+y+(m.hash||"")}function eW(f,m){return!m||!f.toLowerCase().startsWith(m.toLowerCase())?f:f.slice(m.length)||"/"}function Vte(f,m,y){const b=m.matched.length-1,_=y.matched.length-1;return b>-1&&b===_&&dA(m.matched[b],y.matched[_])&&Ej(m.params,y.params)&&f(m.query)===f(y.query)&&m.hash===y.hash}function dA(f,m){return(f.aliasOf||f)===(m.aliasOf||m)}function Ej(f,m){if(Object.keys(f).length!==Object.keys(m).length)return!1;for(const y in f)if(!Ute(f[y],m[y]))return!1;return!0}function Ute(f,m){return Zm(f)?tW(f,m):Zm(m)?tW(m,f):f===m}function tW(f,m){return Zm(m)?f.length===m.length&&f.every((y,b)=>y===m[b]):f.length===1&&f[0]===m}function Wte(f,m){if(f.startsWith("/"))return f;if(!f)return m;const y=m.split("/"),b=f.split("/"),_=b[b.length-1];(_===".."||_===".")&&b.push("");let x=y.length-1,T,D;for(T=0;T<b.length;T++)if(D=b[T],D!==".")if(D==="..")x>1&&x--;else break;return y.slice(0,x).join("/")+"/"+b.slice(T-(T===b.length?1:0)).join("/")}var B5;(function(f){f.pop="pop",f.push="push"})(B5||(B5={}));var k5;(function(f){f.back="back",f.forward="forward",f.unknown=""})(k5||(k5={}));function jte(f){if(!f)if(aA){const m=document.querySelector("base");f=m&&m.getAttribute("href")||"/",f=f.replace(/^\w+:\/\/[^\/]+/,"")}else f="/";return f[0]!=="/"&&f[0]!=="#"&&(f="/"+f),Lte(f)}const Gte=/^[^#]+#/;function qte(f,m){return f.replace(Gte,"#")+m}function Kte(f,m){const y=document.documentElement.getBoundingClientRect(),b=f.getBoundingClientRect();return{behavior:m.behavior,left:b.left-y.left-(m.left||0),top:b.top-y.top-(m.top||0)}}const Y6=()=>({left:window.pageXOffset,top:window.pageYOffset});function Xte(f){let m;if("el"in f){const y=f.el,b=typeof y=="string"&&y.startsWith("#"),_=typeof y=="string"?b?document.getElementById(y.slice(1)):document.querySelector(y):y;if(!_)return;m=Kte(_,f)}else m=f;"scrollBehavior"in document.documentElement.style?window.scrollTo(m):window.scrollTo(m.left!=null?m.left:window.pageXOffset,m.top!=null?m.top:window.pageYOffset)}function nW(f,m){return(history.state?history.state.position-m:-1)+f}const xH=new Map;function Yte(f,m){xH.set(f,m)}function Zte(f){const m=xH.get(f);return xH.delete(f),m}let Jte=()=>location.protocol+"//"+location.host;function Tj(f,m){const{pathname:y,search:b,hash:_}=m,x=f.indexOf("#");if(x>-1){let D=_.includes(f.slice(x))?f.slice(x).length:1,M=_.slice(D);return M[0]!=="/"&&(M="/"+M),eW(M,"")}return eW(y,f)+b+_}function Qte(f,m,y,b){let _=[],x=[],T=null;const D=({state:I})=>{const V=Tj(f,location),J=y.value,q=m.value;let $e=0;if(I){if(y.value=V,m.value=I,T&&T===J){T=null;return}$e=q?I.position-q.position:0}else b(V);_.forEach(me=>{me(y.value,J,{delta:$e,type:B5.pop,direction:$e?$e>0?k5.forward:k5.back:k5.unknown})})};function M(){T=y.value}function W(I){_.push(I);const V=()=>{const J=_.indexOf(I);J>-1&&_.splice(J,1)};return x.push(V),V}function N(){const{history:I}=window;I.state&&I.replaceState($o({},I.state,{scroll:Y6()}),"")}function H(){for(const I of x)I();x=[],window.removeEventListener("popstate",D),window.removeEventListener("beforeunload",N)}return window.addEventListener("popstate",D),window.addEventListener("beforeunload",N,{passive:!0}),{pauseListeners:M,listen:W,destroy:H}}function rW(f,m,y,b=!1,_=!1){return{back:f,current:m,forward:y,replaced:b,position:window.history.length,scroll:_?Y6():null}}function ene(f){const{history:m,location:y}=window,b={value:Tj(f,y)},_={value:m.state};_.value||x(b.value,{back:null,current:b.value,forward:null,position:m.length-1,replaced:!0,scroll:null},!0);function x(M,W,N){const H=f.indexOf("#"),I=H>-1?(y.host&&document.querySelector("base")?f:f.slice(H))+M:Jte()+f+M;try{m[N?"replaceState":"pushState"](W,"",I),_.value=W}catch(V){console.error(V),y[N?"replace":"assign"](I)}}function T(M,W){const N=$o({},m.state,rW(_.value.back,M,_.value.forward,!0),W,{position:_.value.position});x(M,N,!0),b.value=M}function D(M,W){const N=$o({},_.value,m.state,{forward:M,scroll:Y6()});x(N.current,N,!0);const H=$o({},rW(b.value,M,null),{position:N.position+1},W);x(M,H,!1),b.value=M}return{location:b,state:_,push:D,replace:T}}function tne(f){f=jte(f);const m=ene(f),y=Qte(f,m.state,m.location,m.replace);function b(x,T=!0){T||y.pauseListeners(),history.go(x)}const _=$o({location:"",base:f,go:b,createHref:qte.bind(null,f)},m,y);return Object.defineProperty(_,"location",{enumerable:!0,get:()=>m.location.value}),Object.defineProperty(_,"state",{enumerable:!0,get:()=>m.state.value}),_}function nne(f){return typeof f=="string"||f&&typeof f=="object"}function Oj(f){return typeof f=="string"||typeof f=="symbol"}const Ky={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Dj=Symbol("");var aW;(function(f){f[f.aborted=4]="aborted",f[f.cancelled=8]="cancelled",f[f.duplicated=16]="duplicated"})(aW||(aW={}));function mA(f,m){return $o(new Error,{type:f,[Dj]:!0},m)}function ab(f,m){return f instanceof Error&&Dj in f&&(m==null||!!(f.type&m))}const oW="[^/]+?",rne={sensitive:!1,strict:!1,start:!0,end:!0},ane=/[.+*?^${}()[\]/\\]/g;function one(f,m){const y=$o({},rne,m),b=[];let _=y.start?"^":"";const x=[];for(const W of f){const N=W.length?[]:[90];y.strict&&!W.length&&(_+="/");for(let H=0;H<W.length;H++){const I=W[H];let V=40+(y.sensitive?.25:0);if(I.type===0)H||(_+="/"),_+=I.value.replace(ane,"\\$&"),V+=40;else if(I.type===1){const{value:J,repeatable:q,optional:$e,regexp:me}=I;x.push({name:J,repeatable:q,optional:$e});const Be=me||oW;if(Be!==oW){V+=10;try{new RegExp(`(${Be})`)}catch(he){throw new Error(`Invalid custom RegExp for param "${J}" (${Be}): `+he.message)}}let ie=q?`((?:${Be})(?:/(?:${Be}))*)`:`(${Be})`;H||(ie=$e&&W.length<2?`(?:/${ie})`:"/"+ie),$e&&(ie+="?"),_+=ie,V+=20,$e&&(V+=-8),q&&(V+=-20),Be===".*"&&(V+=-50)}N.push(V)}b.push(N)}if(y.strict&&y.end){const W=b.length-1;b[W][b[W].length-1]+=.7000000000000001}y.strict||(_+="/?"),y.end?_+="$":y.strict&&(_+="(?:/|$)");const T=new RegExp(_,y.sensitive?"":"i");function D(W){const N=W.match(T),H={};if(!N)return null;for(let I=1;I<N.length;I++){const V=N[I]||"",J=x[I-1];H[J.name]=V&&J.repeatable?V.split("/"):V}return H}function M(W){let N="",H=!1;for(const I of f){(!H||!N.endsWith("/"))&&(N+="/"),H=!1;for(const V of I)if(V.type===0)N+=V.value;else if(V.type===1){const{value:J,repeatable:q,optional:$e}=V,me=J in W?W[J]:"";if(Zm(me)&&!q)throw new Error(`Provided param "${J}" is an array but it is not repeatable (* or + modifiers)`);const Be=Zm(me)?me.join("/"):me;if(!Be)if($e)I.length<2&&(N.endsWith("/")?N=N.slice(0,-1):H=!0);else throw new Error(`Missing required param "${J}"`);N+=Be}}return N||"/"}return{re:T,score:b,keys:x,parse:D,stringify:M}}function ine(f,m){let y=0;for(;y<f.length&&y<m.length;){const b=m[y]-f[y];if(b)return b;y++}return f.length<m.length?f.length===1&&f[0]===40+40?-1:1:f.length>m.length?m.length===1&&m[0]===40+40?1:-1:0}function une(f,m){let y=0;const b=f.score,_=m.score;for(;y<b.length&&y<_.length;){const x=ine(b[y],_[y]);if(x)return x;y++}if(Math.abs(_.length-b.length)===1){if(iW(b))return 1;if(iW(_))return-1}return _.length-b.length}function iW(f){const m=f[f.length-1];return f.length>0&&m[m.length-1]<0}const sne={type:0,value:""},lne=/[a-zA-Z0-9_]/;function cne(f){if(!f)return[[]];if(f==="/")return[[sne]];if(!f.startsWith("/"))throw new Error(`Invalid path "${f}"`);function m(V){throw new Error(`ERR (${y})/"${W}": ${V}`)}let y=0,b=y;const _=[];let x;function T(){x&&_.push(x),x=[]}let D=0,M,W="",N="";function H(){W&&(y===0?x.push({type:0,value:W}):y===1||y===2||y===3?(x.length>1&&(M==="*"||M==="+")&&m(`A repeatable param (${W}) must be alone in its segment. eg: '/:ids+.`),x.push({type:1,value:W,regexp:N,repeatable:M==="*"||M==="+",optional:M==="*"||M==="?"})):m("Invalid state to consume buffer"),W="")}function I(){W+=M}for(;D<f.length;){if(M=f[D++],M==="\\"&&y!==2){b=y,y=4;continue}switch(y){case 0:M==="/"?(W&&H(),T()):M===":"?(H(),y=1):I();break;case 4:I(),y=b;break;case 1:M==="("?y=2:lne.test(M)?I():(H(),y=0,M!=="*"&&M!=="?"&&M!=="+"&&D--);break;case 2:M===")"?N[N.length-1]=="\\"?N=N.slice(0,-1)+M:y=3:N+=M;break;case 3:H(),y=0,M!=="*"&&M!=="?"&&M!=="+"&&D--,N="";break;default:m("Unknown state");break}}return y===2&&m(`Unfinished custom RegExp for param "${W}"`),H(),T(),_}function fne(f,m,y){const b=one(cne(f.path),y),_=$o(b,{record:f,parent:m,children:[],alias:[]});return m&&!_.record.aliasOf==!m.record.aliasOf&&m.children.push(_),_}function vne(f,m){const y=[],b=new Map;m=lW({strict:!1,end:!0,sensitive:!1},m);function _(N){return b.get(N)}function x(N,H,I){const V=!I,J=dne(N);J.aliasOf=I&&I.record;const q=lW(m,N),$e=[J];if("alias"in N){const ie=typeof N.alias=="string"?[N.alias]:N.alias;for(const he of ie)$e.push($o({},J,{components:I?I.record.components:J.components,path:he,aliasOf:I?I.record:J}))}let me,Be;for(const ie of $e){const{path:he}=ie;if(H&&he[0]!=="/"){const De=H.record.path,ye=De[De.length-1]==="/"?"":"/";ie.path=H.record.path+(he&&ye+he)}if(me=fne(ie,H,q),I?I.alias.push(me):(Be=Be||me,Be!==me&&Be.alias.push(me),V&&N.name&&!sW(me)&&T(N.name)),J.children){const De=J.children;for(let ye=0;ye<De.length;ye++)x(De[ye],me,I&&I.children[ye])}I=I||me,(me.record.components&&Object.keys(me.record.components).length||me.record.name||me.record.redirect)&&M(me)}return Be?()=>{T(Be)}:x5}function T(N){if(Oj(N)){const H=b.get(N);H&&(b.delete(N),y.splice(y.indexOf(H),1),H.children.forEach(T),H.alias.forEach(T))}else{const H=y.indexOf(N);H>-1&&(y.splice(H,1),N.record.name&&b.delete(N.record.name),N.children.forEach(T),N.alias.forEach(T))}}function D(){return y}function M(N){let H=0;for(;H<y.length&&une(N,y[H])>=0&&(N.record.path!==y[H].record.path||!Rj(N,y[H]));)H++;y.splice(H,0,N),N.record.name&&!sW(N)&&b.set(N.record.name,N)}function W(N,H){let I,V={},J,q;if("name"in N&&N.name){if(I=b.get(N.name),!I)throw mA(1,{location:N});q=I.record.name,V=$o(uW(H.params,I.keys.filter(Be=>!Be.optional).map(Be=>Be.name)),N.params&&uW(N.params,I.keys.map(Be=>Be.name))),J=I.stringify(V)}else if("path"in N)J=N.path,I=y.find(Be=>Be.re.test(J)),I&&(V=I.parse(J),q=I.record.name);else{if(I=H.name?b.get(H.name):y.find(Be=>Be.re.test(H.path)),!I)throw mA(1,{location:N,currentLocation:H});q=I.record.name,V=$o({},H.params,N.params),J=I.stringify(V)}const $e=[];let me=I;for(;me;)$e.unshift(me.record),me=me.parent;return{name:q,path:J,params:V,matched:$e,meta:hne($e)}}return f.forEach(N=>x(N)),{addRoute:x,resolve:W,removeRoute:T,getRoutes:D,getRecordMatcher:_}}function uW(f,m){const y={};for(const b of m)b in f&&(y[b]=f[b]);return y}function dne(f){return{path:f.path,redirect:f.redirect,name:f.name,meta:f.meta||{},aliasOf:void 0,beforeEnter:f.beforeEnter,props:mne(f),children:f.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in f?f.components||null:f.component&&{default:f.component}}}function mne(f){const m={},y=f.props||!1;if("component"in f)m.default=y;else for(const b in f.components)m[b]=typeof y=="object"?y[b]:y;return m}function sW(f){for(;f;){if(f.record.aliasOf)return!0;f=f.parent}return!1}function hne(f){return f.reduce((m,y)=>$o(m,y.meta),{})}function lW(f,m){const y={};for(const b in f)y[b]=b in m?m[b]:f[b];return y}function Rj(f,m){return m.children.some(y=>y===f||Rj(f,y))}const $j=/#/g,gne=/&/g,pne=/\//g,bne=/=/g,yne=/\?/g,Bj=/\+/g,wne=/%5B/g,Cne=/%5D/g,Mj=/%5E/g,_ne=/%60/g,Pj=/%7B/g,Sne=/%7C/g,Ij=/%7D/g,xne=/%20/g;function YH(f){return encodeURI(""+f).replace(Sne,"|").replace(wne,"[").replace(Cne,"]")}function kne(f){return YH(f).replace(Pj,"{").replace(Ij,"}").replace(Mj,"^")}function kH(f){return YH(f).replace(Bj,"%2B").replace(xne,"+").replace($j,"%23").replace(gne,"%26").replace(_ne,"`").replace(Pj,"{").replace(Ij,"}").replace(Mj,"^")}function Ane(f){return kH(f).replace(bne,"%3D")}function Ene(f){return YH(f).replace($j,"%23").replace(yne,"%3F")}function Tne(f){return f==null?"":Ene(f).replace(pne,"%2F")}function E6(f){try{return decodeURIComponent(""+f)}catch{}return""+f}function One(f){const m={};if(f===""||f==="?")return m;const b=(f[0]==="?"?f.slice(1):f).split("&");for(let _=0;_<b.length;++_){const x=b[_].replace(Bj," "),T=x.indexOf("="),D=E6(T<0?x:x.slice(0,T)),M=T<0?null:E6(x.slice(T+1));if(D in m){let W=m[D];Zm(W)||(W=m[D]=[W]),W.push(M)}else m[D]=M}return m}function cW(f){let m="";for(let y in f){const b=f[y];if(y=Ane(y),b==null){b!==void 0&&(m+=(m.length?"&":"")+y);continue}(Zm(b)?b.map(x=>x&&kH(x)):[b&&kH(b)]).forEach(x=>{x!==void 0&&(m+=(m.length?"&":"")+y,x!=null&&(m+="="+x))})}return m}function Dne(f){const m={};for(const y in f){const b=f[y];b!==void 0&&(m[y]=Zm(b)?b.map(_=>_==null?null:""+_):b==null?b:""+b)}return m}const Rne=Symbol(""),fW=Symbol(""),Z6=Symbol(""),ZH=Symbol(""),AH=Symbol("");function p5(){let f=[];function m(b){return f.push(b),()=>{const _=f.indexOf(b);_>-1&&f.splice(_,1)}}function y(){f=[]}return{add:m,list:()=>f.slice(),reset:y}}function Zy(f,m,y,b,_){const x=b&&(b.enterCallbacks[_]=b.enterCallbacks[_]||[]);return()=>new Promise((T,D)=>{const M=H=>{H===!1?D(mA(4,{from:y,to:m})):H instanceof Error?D(H):nne(H)?D(mA(2,{from:m,to:H})):(x&&b.enterCallbacks[_]===x&&typeof H=="function"&&x.push(H),T())},W=f.call(b&&b.instances[_],m,y,M);let N=Promise.resolve(W);f.length<3&&(N=N.then(M)),N.catch(H=>D(H))})}function oH(f,m,y,b){const _=[];for(const x of f)for(const T in x.components){let D=x.components[T];if(!(m!=="beforeRouteEnter"&&!x.instances[T]))if($ne(D)){const W=(D.__vccOpts||D)[m];W&&_.push(Zy(W,y,b,x,T))}else{let M=D();_.push(()=>M.then(W=>{if(!W)return Promise.reject(new Error(`Couldn't resolve component "${T}" at "${x.path}"`));const N=zte(W)?W.default:W;x.components[T]=N;const I=(N.__vccOpts||N)[m];return I&&Zy(I,y,b,x,T)()}))}}return _}function $ne(f){return typeof f=="object"||"displayName"in f||"props"in f||"__vccOpts"in f}function vW(f){const m=Xm(Z6),y=Xm(ZH),b=ri(()=>m.resolve(Ra(f.to))),_=ri(()=>{const{matched:M}=b.value,{length:W}=M,N=M[W-1],H=y.matched;if(!N||!H.length)return-1;const I=H.findIndex(dA.bind(null,N));if(I>-1)return I;const V=dW(M[W-2]);return W>1&&dW(N)===V&&H[H.length-1].path!==V?H.findIndex(dA.bind(null,M[W-2])):I}),x=ri(()=>_.value>-1&&Pne(y.params,b.value.params)),T=ri(()=>_.value>-1&&_.value===y.matched.length-1&&Ej(y.params,b.value.params));function D(M={}){return Mne(M)?m[Ra(f.replace)?"replace":"push"](Ra(f.to)).catch(x5):Promise.resolve()}return{route:b,href:ri(()=>b.value.href),isActive:x,isExactActive:T,navigate:D}}const Bne=oj({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vW,setup(f,{slots:m}){const y=H6(vW(f)),{options:b}=Xm(Z6),_=ri(()=>({[mW(f.activeClass,b.linkActiveClass,"router-link-active")]:y.isActive,[mW(f.exactActiveClass,b.linkExactActiveClass,"router-link-exact-active")]:y.isExactActive}));return()=>{const x=m.default&&m.default(y);return f.custom?x:Sj("a",{"aria-current":y.isExactActive?f.ariaCurrentValue:null,href:y.href,onClick:y.navigate,class:_.value},x)}}}),gl=Bne;function Mne(f){if(!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)&&!f.defaultPrevented&&!(f.button!==void 0&&f.button!==0)){if(f.currentTarget&&f.currentTarget.getAttribute){const m=f.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(m))return}return f.preventDefault&&f.preventDefault(),!0}}function Pne(f,m){for(const y in m){const b=m[y],_=f[y];if(typeof b=="string"){if(b!==_)return!1}else if(!Zm(_)||_.length!==b.length||b.some((x,T)=>x!==_[T]))return!1}return!0}function dW(f){return f?f.aliasOf?f.aliasOf.path:f.path:""}const mW=(f,m,y)=>f??m??y,Ine=oj({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(f,{attrs:m,slots:y}){const b=Xm(AH),_=ri(()=>f.route||b.value),x=Xm(fW,0),T=ri(()=>{let W=Ra(x);const{matched:N}=_.value;let H;for(;(H=N[W])&&!H.components;)W++;return W}),D=ri(()=>_.value.matched[T.value]);f6(fW,ri(()=>T.value+1)),f6(Rne,D),f6(AH,_);const M=wt();return Dd(()=>[M.value,D.value,f.name],([W,N,H],[I,V,J])=>{N&&(N.instances[H]=W,V&&V!==N&&W&&W===I&&(N.leaveGuards.size||(N.leaveGuards=V.leaveGuards),N.updateGuards.size||(N.updateGuards=V.updateGuards))),W&&N&&(!V||!dA(N,V)||!I)&&(N.enterCallbacks[H]||[]).forEach(q=>q(W))},{flush:"post"}),()=>{const W=_.value,N=f.name,H=D.value,I=H&&H.components[N];if(!I)return hW(y.default,{Component:I,route:W});const V=H.props[N],J=V?V===!0?W.params:typeof V=="function"?V(W):V:null,$e=Sj(I,$o({},J,m,{onVnodeUnmounted:me=>{me.component.isUnmounted&&(H.instances[N]=null)},ref:M}));return hW(y.default,{Component:$e,route:W})||$e}}});function hW(f,m){if(!f)return null;const y=f(m);return y.length===1?y[0]:y}const Nj=Ine;function Nne(f){const m=vne(f.routes,f),y=f.parseQuery||One,b=f.stringifyQuery||cW,_=f.history,x=p5(),T=p5(),D=p5(),M=KQ(Ky);let W=Ky;aA&&f.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const N=rH.bind(null,te=>""+te),H=rH.bind(null,Tne),I=rH.bind(null,E6);function V(te,fn){let Ue,pt;return Oj(te)?(Ue=m.getRecordMatcher(te),pt=fn):pt=te,m.addRoute(pt,Ue)}function J(te){const fn=m.getRecordMatcher(te);fn&&m.removeRoute(fn)}function q(){return m.getRoutes().map(te=>te.record)}function $e(te){return!!m.getRecordMatcher(te)}function me(te,fn){if(fn=$o({},fn||M.value),typeof te=="string"){const Je=aH(y,te,fn.path),et=m.resolve({path:Je.path},fn),Le=_.createHref(Je.fullPath);return $o(Je,et,{params:I(et.params),hash:E6(Je.hash),redirectedFrom:void 0,href:Le})}let Ue;if("path"in te)Ue=$o({},te,{path:aH(y,te.path,fn.path).path});else{const Je=$o({},te.params);for(const et in Je)Je[et]==null&&delete Je[et];Ue=$o({},te,{params:H(Je)}),fn.params=H(fn.params)}const pt=m.resolve(Ue,fn),Zn=te.hash||"";pt.params=N(I(pt.params));const Te=Hte(b,$o({},te,{hash:kne(Zn),path:pt.path})),Ae=_.createHref(Te);return $o({fullPath:Te,hash:Zn,query:b===cW?Dne(te.query):te.query||{}},pt,{redirectedFrom:void 0,href:Ae})}function Be(te){return typeof te=="string"?aH(y,te,M.value.path):$o({},te)}function ie(te,fn){if(W!==te)return mA(8,{from:fn,to:te})}function he(te){return Xe(te)}function De(te){return he($o(Be(te),{replace:!0}))}function ye(te){const fn=te.matched[te.matched.length-1];if(fn&&fn.redirect){const{redirect:Ue}=fn;let pt=typeof Ue=="function"?Ue(te):Ue;return typeof pt=="string"&&(pt=pt.includes("?")||pt.includes("#")?pt=Be(pt):{path:pt},pt.params={}),$o({query:te.query,hash:te.hash,params:"path"in pt?{}:te.params},pt)}}function Xe(te,fn){const Ue=W=me(te),pt=M.value,Zn=te.state,Te=te.force,Ae=te.replace===!0,Je=ye(Ue);if(Je)return Xe($o(Be(Je),{state:typeof Je=="object"?$o({},Zn,Je.state):Zn,force:Te,replace:Ae}),fn||Ue);const et=Ue;et.redirectedFrom=fn;let Le;return!Te&&Vte(b,pt,Ue)&&(Le=mA(16,{to:et,from:pt}),ot(pt,pt,!0,!1)),(Le?Promise.resolve(Le):Ee(et,pt)).catch(bt=>ab(bt)?ab(bt,2)?bt:kt(bt):st(bt,et,pt)).then(bt=>{if(bt){if(ab(bt,2))return Xe($o({replace:Ae},Be(bt.to),{state:typeof bt.to=="object"?$o({},Zn,bt.to.state):Zn,force:Te}),fn||et)}else bt=ne(et,pt,!0,Ae,Zn);return We(et,pt,bt),bt})}function le(te,fn){const Ue=ie(te,fn);return Ue?Promise.reject(Ue):Promise.resolve()}function se(te){const fn=cn.values().next().value;return fn&&typeof fn.runWithContext=="function"?fn.runWithContext(te):te()}function Ee(te,fn){let Ue;const[pt,Zn,Te]=zne(te,fn);Ue=oH(pt.reverse(),"beforeRouteLeave",te,fn);for(const Je of pt)Je.leaveGuards.forEach(et=>{Ue.push(Zy(et,te,fn))});const Ae=le.bind(null,te,fn);return Ue.push(Ae),_n(Ue).then(()=>{Ue=[];for(const Je of x.list())Ue.push(Zy(Je,te,fn));return Ue.push(Ae),_n(Ue)}).then(()=>{Ue=oH(Zn,"beforeRouteUpdate",te,fn);for(const Je of Zn)Je.updateGuards.forEach(et=>{Ue.push(Zy(et,te,fn))});return Ue.push(Ae),_n(Ue)}).then(()=>{Ue=[];for(const Je of Te)if(Je.beforeEnter)if(Zm(Je.beforeEnter))for(const et of Je.beforeEnter)Ue.push(Zy(et,te,fn));else Ue.push(Zy(Je.beforeEnter,te,fn));return Ue.push(Ae),_n(Ue)}).then(()=>(te.matched.forEach(Je=>Je.enterCallbacks={}),Ue=oH(Te,"beforeRouteEnter",te,fn),Ue.push(Ae),_n(Ue))).then(()=>{Ue=[];for(const Je of T.list())Ue.push(Zy(Je,te,fn));return Ue.push(Ae),_n(Ue)}).catch(Je=>ab(Je,8)?Je:Promise.reject(Je))}function We(te,fn,Ue){D.list().forEach(pt=>se(()=>pt(te,fn,Ue)))}function ne(te,fn,Ue,pt,Zn){const Te=ie(te,fn);if(Te)return Te;const Ae=fn===Ky,Je=aA?history.state:{};Ue&&(pt||Ae?_.replace(te.fullPath,$o({scroll:Ae&&Je&&Je.scroll},Zn)):_.push(te.fullPath,Zn)),M.value=te,ot(te,fn,Ue,Ae),kt()}let j;function ke(){j||(j=_.listen((te,fn,Ue)=>{if(!ct.listening)return;const pt=me(te),Zn=ye(pt);if(Zn){Xe($o(Zn,{replace:!0}),pt).catch(x5);return}W=pt;const Te=M.value;aA&&Yte(nW(Te.fullPath,Ue.delta),Y6()),Ee(pt,Te).catch(Ae=>ab(Ae,12)?Ae:ab(Ae,2)?(Xe(Ae.to,pt).then(Je=>{ab(Je,20)&&!Ue.delta&&Ue.type===B5.pop&&_.go(-1,!1)}).catch(x5),Promise.reject()):(Ue.delta&&_.go(-Ue.delta,!1),st(Ae,pt,Te))).then(Ae=>{Ae=Ae||ne(pt,Te,!1),Ae&&(Ue.delta&&!ab(Ae,8)?_.go(-Ue.delta,!1):Ue.type===B5.pop&&ab(Ae,20)&&_.go(-1,!1)),We(pt,Te,Ae)}).catch(x5)}))}let rt=p5(),ce=p5(),be;function st(te,fn,Ue){kt(te);const pt=ce.list();return pt.length?pt.forEach(Zn=>Zn(te,fn,Ue)):console.error(te),Promise.reject(te)}function B(){return be&&M.value!==Ky?Promise.resolve():new Promise((te,fn)=>{rt.add([te,fn])})}function kt(te){return be||(be=!te,ke(),rt.list().forEach(([fn,Ue])=>te?Ue(te):fn()),rt.reset()),te}function ot(te,fn,Ue,pt){const{scrollBehavior:Zn}=f;if(!aA||!Zn)return Promise.resolve();const Te=!Ue&&Zte(nW(te.fullPath,0))||(pt||!Ue)&&history.state&&history.state.scroll||null;return JW().then(()=>Zn(te,fn,Te)).then(Ae=>Ae&&Xte(Ae)).catch(Ae=>st(Ae,te,fn))}const it=te=>_.go(te);let An;const cn=new Set,ct={currentRoute:M,listening:!0,addRoute:V,removeRoute:J,hasRoute:$e,getRoutes:q,resolve:me,options:f,push:he,replace:De,go:it,back:()=>it(-1),forward:()=>it(1),beforeEach:x.add,beforeResolve:T.add,afterEach:D.add,onError:ce.add,isReady:B,install(te){const fn=this;te.component("RouterLink",gl),te.component("RouterView",Nj),te.config.globalProperties.$router=fn,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>Ra(M)}),aA&&!An&&M.value===Ky&&(An=!0,he(_.location).catch(Zn=>{}));const Ue={};for(const Zn in Ky)Object.defineProperty(Ue,Zn,{get:()=>M.value[Zn],enumerable:!0});te.provide(Z6,fn),te.provide(ZH,WW(Ue)),te.provide(AH,M);const pt=te.unmount;cn.add(te),te.unmount=function(){cn.delete(te),cn.size<1&&(W=Ky,j&&j(),j=null,M.value=Ky,An=!1,be=!1),pt()}}};function _n(te){return te.reduce((fn,Ue)=>fn.then(()=>se(Ue)),Promise.resolve())}return ct}function zne(f,m){const y=[],b=[],_=[],x=Math.max(m.matched.length,f.matched.length);for(let T=0;T<x;T++){const D=m.matched[T];D&&(f.matched.find(W=>dA(W,D))?b.push(D):y.push(D));const M=f.matched[T];M&&(m.matched.find(W=>dA(W,M))||_.push(M))}return[y,b,_]}function bl(){return Xm(Z6)}function Qm(){return Xm(ZH)}function zj(f,m){return function(){return f.apply(m,arguments)}}const{toString:Fne}=Object.prototype,{getPrototypeOf:JH}=Object,J6=(f=>m=>{const y=Fne.call(m);return f[y]||(f[y]=y.slice(8,-1).toLowerCase())})(Object.create(null)),cp=f=>(f=f.toLowerCase(),m=>J6(m)===f),Q6=f=>m=>typeof m===f,{isArray:bA}=Array,M5=Q6("undefined");function Lne(f){return f!==null&&!M5(f)&&f.constructor!==null&&!M5(f.constructor)&&Rd(f.constructor.isBuffer)&&f.constructor.isBuffer(f)}const Fj=cp("ArrayBuffer");function Hne(f){let m;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?m=ArrayBuffer.isView(f):m=f&&f.buffer&&Fj(f.buffer),m}const Vne=Q6("string"),Rd=Q6("function"),Lj=Q6("number"),e8=f=>f!==null&&typeof f=="object",Une=f=>f===!0||f===!1,d6=f=>{if(J6(f)!=="object")return!1;const m=JH(f);return(m===null||m===Object.prototype||Object.getPrototypeOf(m)===null)&&!(Symbol.toStringTag in f)&&!(Symbol.iterator in f)},Wne=cp("Date"),jne=cp("File"),Gne=cp("Blob"),qne=cp("FileList"),Kne=f=>e8(f)&&Rd(f.pipe),Xne=f=>{let m;return f&&(typeof FormData=="function"&&f instanceof FormData||Rd(f.append)&&((m=J6(f))==="formdata"||m==="object"&&Rd(f.toString)&&f.toString()==="[object FormData]"))},Yne=cp("URLSearchParams"),Zne=f=>f.trim?f.trim():f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function z5(f,m,{allOwnKeys:y=!1}={}){if(f===null||typeof f>"u")return;let b,_;if(typeof f!="object"&&(f=[f]),bA(f))for(b=0,_=f.length;b<_;b++)m.call(null,f[b],b,f);else{const x=y?Object.getOwnPropertyNames(f):Object.keys(f),T=x.length;let D;for(b=0;b<T;b++)D=x[b],m.call(null,f[D],D,f)}}function Hj(f,m){m=m.toLowerCase();const y=Object.keys(f);let b=y.length,_;for(;b-- >0;)if(_=y[b],m===_.toLowerCase())return _;return null}const Vj=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Uj=f=>!M5(f)&&f!==Vj;function EH(){const{caseless:f}=Uj(this)&&this||{},m={},y=(b,_)=>{const x=f&&Hj(m,_)||_;d6(m[x])&&d6(b)?m[x]=EH(m[x],b):d6(b)?m[x]=EH({},b):bA(b)?m[x]=b.slice():m[x]=b};for(let b=0,_=arguments.length;b<_;b++)arguments[b]&&z5(arguments[b],y);return m}const Jne=(f,m,y,{allOwnKeys:b}={})=>(z5(m,(_,x)=>{y&&Rd(_)?f[x]=zj(_,y):f[x]=_},{allOwnKeys:b}),f),Qne=f=>(f.charCodeAt(0)===65279&&(f=f.slice(1)),f),ere=(f,m,y,b)=>{f.prototype=Object.create(m.prototype,b),f.prototype.constructor=f,Object.defineProperty(f,"super",{value:m.prototype}),y&&Object.assign(f.prototype,y)},tre=(f,m,y,b)=>{let _,x,T;const D={};if(m=m||{},f==null)return m;do{for(_=Object.getOwnPropertyNames(f),x=_.length;x-- >0;)T=_[x],(!b||b(T,f,m))&&!D[T]&&(m[T]=f[T],D[T]=!0);f=y!==!1&&JH(f)}while(f&&(!y||y(f,m))&&f!==Object.prototype);return m},nre=(f,m,y)=>{f=String(f),(y===void 0||y>f.length)&&(y=f.length),y-=m.length;const b=f.indexOf(m,y);return b!==-1&&b===y},rre=f=>{if(!f)return null;if(bA(f))return f;let m=f.length;if(!Lj(m))return null;const y=new Array(m);for(;m-- >0;)y[m]=f[m];return y},are=(f=>m=>f&&m instanceof f)(typeof Uint8Array<"u"&&JH(Uint8Array)),ore=(f,m)=>{const b=(f&&f[Symbol.iterator]).call(f);let _;for(;(_=b.next())&&!_.done;){const x=_.value;m.call(f,x[0],x[1])}},ire=(f,m)=>{let y;const b=[];for(;(y=f.exec(m))!==null;)b.push(y);return b},ure=cp("HTMLFormElement"),sre=f=>f.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(y,b,_){return b.toUpperCase()+_}),gW=(({hasOwnProperty:f})=>(m,y)=>f.call(m,y))(Object.prototype),lre=cp("RegExp"),Wj=(f,m)=>{const y=Object.getOwnPropertyDescriptors(f),b={};z5(y,(_,x)=>{let T;(T=m(_,x,f))!==!1&&(b[x]=T||_)}),Object.defineProperties(f,b)},cre=f=>{Wj(f,(m,y)=>{if(Rd(f)&&["arguments","caller","callee"].indexOf(y)!==-1)return!1;const b=f[y];if(Rd(b)){if(m.enumerable=!1,"writable"in m){m.writable=!1;return}m.set||(m.set=()=>{throw Error("Can not rewrite read-only method '"+y+"'")})}})},fre=(f,m)=>{const y={},b=_=>{_.forEach(x=>{y[x]=!0})};return bA(f)?b(f):b(String(f).split(m)),y},vre=()=>{},dre=(f,m)=>(f=+f,Number.isFinite(f)?f:m),iH="abcdefghijklmnopqrstuvwxyz",pW="0123456789",jj={DIGIT:pW,ALPHA:iH,ALPHA_DIGIT:iH+iH.toUpperCase()+pW},mre=(f=16,m=jj.ALPHA_DIGIT)=>{let y="";const{length:b}=m;for(;f--;)y+=m[Math.random()*b|0];return y};function hre(f){return!!(f&&Rd(f.append)&&f[Symbol.toStringTag]==="FormData"&&f[Symbol.iterator])}const gre=f=>{const m=new Array(10),y=(b,_)=>{if(e8(b)){if(m.indexOf(b)>=0)return;if(!("toJSON"in b)){m[_]=b;const x=bA(b)?[]:{};return z5(b,(T,D)=>{const M=y(T,_+1);!M5(M)&&(x[D]=M)}),m[_]=void 0,x}}return b};return y(f,0)},pre=cp("AsyncFunction"),bre=f=>f&&(e8(f)||Rd(f))&&Rd(f.then)&&Rd(f.catch),un={isArray:bA,isArrayBuffer:Fj,isBuffer:Lne,isFormData:Xne,isArrayBufferView:Hne,isString:Vne,isNumber:Lj,isBoolean:Une,isObject:e8,isPlainObject:d6,isUndefined:M5,isDate:Wne,isFile:jne,isBlob:Gne,isRegExp:lre,isFunction:Rd,isStream:Kne,isURLSearchParams:Yne,isTypedArray:are,isFileList:qne,forEach:z5,merge:EH,extend:Jne,trim:Zne,stripBOM:Qne,inherits:ere,toFlatObject:tre,kindOf:J6,kindOfTest:cp,endsWith:nre,toArray:rre,forEachEntry:ore,matchAll:ire,isHTMLForm:ure,hasOwnProperty:gW,hasOwnProp:gW,reduceDescriptors:Wj,freezeMethods:cre,toObjectSet:fre,toCamelCase:sre,noop:vre,toFiniteNumber:dre,findKey:Hj,global:Vj,isContextDefined:Uj,ALPHABET:jj,generateString:mre,isSpecCompliantForm:hre,toJSONObject:gre,isAsyncFn:pre,isThenable:bre};function no(f,m,y,b,_){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=f,this.name="AxiosError",m&&(this.code=m),y&&(this.config=y),b&&(this.request=b),_&&(this.response=_)}un.inherits(no,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:un.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Gj=no.prototype,qj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(f=>{qj[f]={value:f}});Object.defineProperties(no,qj);Object.defineProperty(Gj,"isAxiosError",{value:!0});no.from=(f,m,y,b,_,x)=>{const T=Object.create(Gj);return un.toFlatObject(f,T,function(M){return M!==Error.prototype},D=>D!=="isAxiosError"),no.call(T,f.message,m,y,b,_),T.cause=f,T.name=f.name,x&&Object.assign(T,x),T};const yre=null;function TH(f){return un.isPlainObject(f)||un.isArray(f)}function Kj(f){return un.endsWith(f,"[]")?f.slice(0,-2):f}function bW(f,m,y){return f?f.concat(m).map(function(_,x){return _=Kj(_),!y&&x?"["+_+"]":_}).join(y?".":""):m}function wre(f){return un.isArray(f)&&!f.some(TH)}const Cre=un.toFlatObject(un,{},null,function(m){return/^is[A-Z]/.test(m)});function t8(f,m,y){if(!un.isObject(f))throw new TypeError("target must be an object");m=m||new FormData,y=un.toFlatObject(y,{metaTokens:!0,dots:!1,indexes:!1},!1,function(q,$e){return!un.isUndefined($e[q])});const b=y.metaTokens,_=y.visitor||N,x=y.dots,T=y.indexes,M=(y.Blob||typeof Blob<"u"&&Blob)&&un.isSpecCompliantForm(m);if(!un.isFunction(_))throw new TypeError("visitor must be a function");function W(J){if(J===null)return"";if(un.isDate(J))return J.toISOString();if(!M&&un.isBlob(J))throw new no("Blob is not supported. Use a Buffer instead.");return un.isArrayBuffer(J)||un.isTypedArray(J)?M&&typeof Blob=="function"?new Blob([J]):Buffer.from(J):J}function N(J,q,$e){let me=J;if(J&&!$e&&typeof J=="object"){if(un.endsWith(q,"{}"))q=b?q:q.slice(0,-2),J=JSON.stringify(J);else if(un.isArray(J)&&wre(J)||(un.isFileList(J)||un.endsWith(q,"[]"))&&(me=un.toArray(J)))return q=Kj(q),me.forEach(function(ie,he){!(un.isUndefined(ie)||ie===null)&&m.append(T===!0?bW([q],he,x):T===null?q:q+"[]",W(ie))}),!1}return TH(J)?!0:(m.append(bW($e,q,x),W(J)),!1)}const H=[],I=Object.assign(Cre,{defaultVisitor:N,convertValue:W,isVisitable:TH});function V(J,q){if(!un.isUndefined(J)){if(H.indexOf(J)!==-1)throw Error("Circular reference detected in "+q.join("."));H.push(J),un.forEach(J,function(me,Be){(!(un.isUndefined(me)||me===null)&&_.call(m,me,un.isString(Be)?Be.trim():Be,q,I))===!0&&V(me,q?q.concat(Be):[Be])}),H.pop()}}if(!un.isObject(f))throw new TypeError("data must be an object");return V(f),m}function yW(f){const m={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(f).replace(/[!'()~]|%20|%00/g,function(b){return m[b]})}function QH(f,m){this._pairs=[],f&&t8(f,this,m)}const Xj=QH.prototype;Xj.append=function(m,y){this._pairs.push([m,y])};Xj.toString=function(m){const y=m?function(b){return m.call(this,b,yW)}:yW;return this._pairs.map(function(_){return y(_[0])+"="+y(_[1])},"").join("&")};function _re(f){return encodeURIComponent(f).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Yj(f,m,y){if(!m)return f;const b=y&&y.encode||_re,_=y&&y.serialize;let x;if(_?x=_(m,y):x=un.isURLSearchParams(m)?m.toString():new QH(m,y).toString(b),x){const T=f.indexOf("#");T!==-1&&(f=f.slice(0,T)),f+=(f.indexOf("?")===-1?"?":"&")+x}return f}class Sre{constructor(){this.handlers=[]}use(m,y,b){return this.handlers.push({fulfilled:m,rejected:y,synchronous:b?b.synchronous:!1,runWhen:b?b.runWhen:null}),this.handlers.length-1}eject(m){this.handlers[m]&&(this.handlers[m]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(m){un.forEach(this.handlers,function(b){b!==null&&m(b)})}}const wW=Sre,Zj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xre=typeof URLSearchParams<"u"?URLSearchParams:QH,kre=typeof FormData<"u"?FormData:null,Are=typeof Blob<"u"?Blob:null,Ere=(()=>{let f;return typeof navigator<"u"&&((f=navigator.product)==="ReactNative"||f==="NativeScript"||f==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Tre=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Gm={isBrowser:!0,classes:{URLSearchParams:xre,FormData:kre,Blob:Are},isStandardBrowserEnv:Ere,isStandardBrowserWebWorkerEnv:Tre,protocols:["http","https","file","blob","url","data"]};function Ore(f,m){return t8(f,new Gm.classes.URLSearchParams,Object.assign({visitor:function(y,b,_,x){return Gm.isNode&&un.isBuffer(y)?(this.append(b,y.toString("base64")),!1):x.defaultVisitor.apply(this,arguments)}},m))}function Dre(f){return un.matchAll(/\w+|\[(\w*)]/g,f).map(m=>m[0]==="[]"?"":m[1]||m[0])}function Rre(f){const m={},y=Object.keys(f);let b;const _=y.length;let x;for(b=0;b<_;b++)x=y[b],m[x]=f[x];return m}function Jj(f){function m(y,b,_,x){let T=y[x++];const D=Number.isFinite(+T),M=x>=y.length;return T=!T&&un.isArray(_)?_.length:T,M?(un.hasOwnProp(_,T)?_[T]=[_[T],b]:_[T]=b,!D):((!_[T]||!un.isObject(_[T]))&&(_[T]=[]),m(y,b,_[T],x)&&un.isArray(_[T])&&(_[T]=Rre(_[T])),!D)}if(un.isFormData(f)&&un.isFunction(f.entries)){const y={};return un.forEachEntry(f,(b,_)=>{m(Dre(b),_,y,0)}),y}return null}function $re(f,m,y){if(un.isString(f))try{return(m||JSON.parse)(f),un.trim(f)}catch(b){if(b.name!=="SyntaxError")throw b}return(y||JSON.stringify)(f)}const e9={transitional:Zj,adapter:Gm.isNode?"http":"xhr",transformRequest:[function(m,y){const b=y.getContentType()||"",_=b.indexOf("application/json")>-1,x=un.isObject(m);if(x&&un.isHTMLForm(m)&&(m=new FormData(m)),un.isFormData(m))return _&&_?JSON.stringify(Jj(m)):m;if(un.isArrayBuffer(m)||un.isBuffer(m)||un.isStream(m)||un.isFile(m)||un.isBlob(m))return m;if(un.isArrayBufferView(m))return m.buffer;if(un.isURLSearchParams(m))return y.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),m.toString();let D;if(x){if(b.indexOf("application/x-www-form-urlencoded")>-1)return Ore(m,this.formSerializer).toString();if((D=un.isFileList(m))||b.indexOf("multipart/form-data")>-1){const M=this.env&&this.env.FormData;return t8(D?{"files[]":m}:m,M&&new M,this.formSerializer)}}return x||_?(y.setContentType("application/json",!1),$re(m)):m}],transformResponse:[function(m){const y=this.transitional||e9.transitional,b=y&&y.forcedJSONParsing,_=this.responseType==="json";if(m&&un.isString(m)&&(b&&!this.responseType||_)){const T=!(y&&y.silentJSONParsing)&&_;try{return JSON.parse(m)}catch(D){if(T)throw D.name==="SyntaxError"?no.from(D,no.ERR_BAD_RESPONSE,this,null,this.response):D}}return m}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gm.classes.FormData,Blob:Gm.classes.Blob},validateStatus:function(m){return m>=200&&m<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};un.forEach(["delete","get","head","post","put","patch"],f=>{e9.headers[f]={}});const t9=e9,Bre=un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mre=f=>{const m={};let y,b,_;return f&&f.split(`
`).forEach(function(T){_=T.indexOf(":"),y=T.substring(0,_).trim().toLowerCase(),b=T.substring(_+1).trim(),!(!y||m[y]&&Bre[y])&&(y==="set-cookie"?m[y]?m[y].push(b):m[y]=[b]:m[y]=m[y]?m[y]+", "+b:b)}),m},CW=Symbol("internals");function b5(f){return f&&String(f).trim().toLowerCase()}function m6(f){return f===!1||f==null?f:un.isArray(f)?f.map(m6):String(f)}function Pre(f){const m=Object.create(null),y=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let b;for(;b=y.exec(f);)m[b[1]]=b[2];return m}const Ire=f=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(f.trim());function uH(f,m,y,b,_){if(un.isFunction(b))return b.call(this,m,y);if(_&&(m=y),!!un.isString(m)){if(un.isString(b))return m.indexOf(b)!==-1;if(un.isRegExp(b))return b.test(m)}}function Nre(f){return f.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(m,y,b)=>y.toUpperCase()+b)}function zre(f,m){const y=un.toCamelCase(" "+m);["get","set","has"].forEach(b=>{Object.defineProperty(f,b+y,{value:function(_,x,T){return this[b].call(this,m,_,x,T)},configurable:!0})})}class n8{constructor(m){m&&this.set(m)}set(m,y,b){const _=this;function x(D,M,W){const N=b5(M);if(!N)throw new Error("header name must be a non-empty string");const H=un.findKey(_,N);(!H||_[H]===void 0||W===!0||W===void 0&&_[H]!==!1)&&(_[H||M]=m6(D))}const T=(D,M)=>un.forEach(D,(W,N)=>x(W,N,M));return un.isPlainObject(m)||m instanceof this.constructor?T(m,y):un.isString(m)&&(m=m.trim())&&!Ire(m)?T(Mre(m),y):m!=null&&x(y,m,b),this}get(m,y){if(m=b5(m),m){const b=un.findKey(this,m);if(b){const _=this[b];if(!y)return _;if(y===!0)return Pre(_);if(un.isFunction(y))return y.call(this,_,b);if(un.isRegExp(y))return y.exec(_);throw new TypeError("parser must be boolean|regexp|function")}}}has(m,y){if(m=b5(m),m){const b=un.findKey(this,m);return!!(b&&this[b]!==void 0&&(!y||uH(this,this[b],b,y)))}return!1}delete(m,y){const b=this;let _=!1;function x(T){if(T=b5(T),T){const D=un.findKey(b,T);D&&(!y||uH(b,b[D],D,y))&&(delete b[D],_=!0)}}return un.isArray(m)?m.forEach(x):x(m),_}clear(m){const y=Object.keys(this);let b=y.length,_=!1;for(;b--;){const x=y[b];(!m||uH(this,this[x],x,m,!0))&&(delete this[x],_=!0)}return _}normalize(m){const y=this,b={};return un.forEach(this,(_,x)=>{const T=un.findKey(b,x);if(T){y[T]=m6(_),delete y[x];return}const D=m?Nre(x):String(x).trim();D!==x&&delete y[x],y[D]=m6(_),b[D]=!0}),this}concat(...m){return this.constructor.concat(this,...m)}toJSON(m){const y=Object.create(null);return un.forEach(this,(b,_)=>{b!=null&&b!==!1&&(y[_]=m&&un.isArray(b)?b.join(", "):b)}),y}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([m,y])=>m+": "+y).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(m){return m instanceof this?m:new this(m)}static concat(m,...y){const b=new this(m);return y.forEach(_=>b.set(_)),b}static accessor(m){const b=(this[CW]=this[CW]={accessors:{}}).accessors,_=this.prototype;function x(T){const D=b5(T);b[D]||(zre(_,T),b[D]=!0)}return un.isArray(m)?m.forEach(x):x(m),this}}n8.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);un.reduceDescriptors(n8.prototype,({value:f},m)=>{let y=m[0].toUpperCase()+m.slice(1);return{get:()=>f,set(b){this[y]=b}}});un.freezeMethods(n8);const ib=n8;function sH(f,m){const y=this||t9,b=m||y,_=ib.from(b.headers);let x=b.data;return un.forEach(f,function(D){x=D.call(y,x,_.normalize(),m?m.status:void 0)}),_.normalize(),x}function Qj(f){return!!(f&&f.__CANCEL__)}function F5(f,m,y){no.call(this,f??"canceled",no.ERR_CANCELED,m,y),this.name="CanceledError"}un.inherits(F5,no,{__CANCEL__:!0});function Fre(f,m,y){const b=y.config.validateStatus;!y.status||!b||b(y.status)?f(y):m(new no("Request failed with status code "+y.status,[no.ERR_BAD_REQUEST,no.ERR_BAD_RESPONSE][Math.floor(y.status/100)-4],y.config,y.request,y))}const Lre=Gm.isStandardBrowserEnv?function(){return{write:function(y,b,_,x,T,D){const M=[];M.push(y+"="+encodeURIComponent(b)),un.isNumber(_)&&M.push("expires="+new Date(_).toGMTString()),un.isString(x)&&M.push("path="+x),un.isString(T)&&M.push("domain="+T),D===!0&&M.push("secure"),document.cookie=M.join("; ")},read:function(y){const b=document.cookie.match(new RegExp("(^|;\\s*)("+y+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove:function(y){this.write(y,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Hre(f){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(f)}function Vre(f,m){return m?f.replace(/\/+$/,"")+"/"+m.replace(/^\/+/,""):f}function eG(f,m){return f&&!Hre(m)?Vre(f,m):m}const Ure=Gm.isStandardBrowserEnv?function(){const m=/(msie|trident)/i.test(navigator.userAgent),y=document.createElement("a");let b;function _(x){let T=x;return m&&(y.setAttribute("href",T),T=y.href),y.setAttribute("href",T),{href:y.href,protocol:y.protocol?y.protocol.replace(/:$/,""):"",host:y.host,search:y.search?y.search.replace(/^\?/,""):"",hash:y.hash?y.hash.replace(/^#/,""):"",hostname:y.hostname,port:y.port,pathname:y.pathname.charAt(0)==="/"?y.pathname:"/"+y.pathname}}return b=_(window.location.href),function(T){const D=un.isString(T)?_(T):T;return D.protocol===b.protocol&&D.host===b.host}}():function(){return function(){return!0}}();function Wre(f){const m=/^([-+\w]{1,25})(:?\/\/|:)/.exec(f);return m&&m[1]||""}function jre(f,m){f=f||10;const y=new Array(f),b=new Array(f);let _=0,x=0,T;return m=m!==void 0?m:1e3,function(M){const W=Date.now(),N=b[x];T||(T=W),y[_]=M,b[_]=W;let H=x,I=0;for(;H!==_;)I+=y[H++],H=H%f;if(_=(_+1)%f,_===x&&(x=(x+1)%f),W-T<m)return;const V=N&&W-N;return V?Math.round(I*1e3/V):void 0}}function _W(f,m){let y=0;const b=jre(50,250);return _=>{const x=_.loaded,T=_.lengthComputable?_.total:void 0,D=x-y,M=b(D),W=x<=T;y=x;const N={loaded:x,total:T,progress:T?x/T:void 0,bytes:D,rate:M||void 0,estimated:M&&T&&W?(T-x)/M:void 0,event:_};N[m?"download":"upload"]=!0,f(N)}}const Gre=typeof XMLHttpRequest<"u",qre=Gre&&function(f){return new Promise(function(y,b){let _=f.data;const x=ib.from(f.headers).normalize(),T=f.responseType;let D;function M(){f.cancelToken&&f.cancelToken.unsubscribe(D),f.signal&&f.signal.removeEventListener("abort",D)}un.isFormData(_)&&(Gm.isStandardBrowserEnv||Gm.isStandardBrowserWebWorkerEnv?x.setContentType(!1):x.setContentType("multipart/form-data;",!1));let W=new XMLHttpRequest;if(f.auth){const V=f.auth.username||"",J=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";x.set("Authorization","Basic "+btoa(V+":"+J))}const N=eG(f.baseURL,f.url);W.open(f.method.toUpperCase(),Yj(N,f.params,f.paramsSerializer),!0),W.timeout=f.timeout;function H(){if(!W)return;const V=ib.from("getAllResponseHeaders"in W&&W.getAllResponseHeaders()),q={data:!T||T==="text"||T==="json"?W.responseText:W.response,status:W.status,statusText:W.statusText,headers:V,config:f,request:W};Fre(function(me){y(me),M()},function(me){b(me),M()},q),W=null}if("onloadend"in W?W.onloadend=H:W.onreadystatechange=function(){!W||W.readyState!==4||W.status===0&&!(W.responseURL&&W.responseURL.indexOf("file:")===0)||setTimeout(H)},W.onabort=function(){W&&(b(new no("Request aborted",no.ECONNABORTED,f,W)),W=null)},W.onerror=function(){b(new no("Network Error",no.ERR_NETWORK,f,W)),W=null},W.ontimeout=function(){let J=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded";const q=f.transitional||Zj;f.timeoutErrorMessage&&(J=f.timeoutErrorMessage),b(new no(J,q.clarifyTimeoutError?no.ETIMEDOUT:no.ECONNABORTED,f,W)),W=null},Gm.isStandardBrowserEnv){const V=(f.withCredentials||Ure(N))&&f.xsrfCookieName&&Lre.read(f.xsrfCookieName);V&&x.set(f.xsrfHeaderName,V)}_===void 0&&x.setContentType(null),"setRequestHeader"in W&&un.forEach(x.toJSON(),function(J,q){W.setRequestHeader(q,J)}),un.isUndefined(f.withCredentials)||(W.withCredentials=!!f.withCredentials),T&&T!=="json"&&(W.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&W.addEventListener("progress",_W(f.onDownloadProgress,!0)),typeof f.onUploadProgress=="function"&&W.upload&&W.upload.addEventListener("progress",_W(f.onUploadProgress)),(f.cancelToken||f.signal)&&(D=V=>{W&&(b(!V||V.type?new F5(null,f,W):V),W.abort(),W=null)},f.cancelToken&&f.cancelToken.subscribe(D),f.signal&&(f.signal.aborted?D():f.signal.addEventListener("abort",D)));const I=Wre(N);if(I&&Gm.protocols.indexOf(I)===-1){b(new no("Unsupported protocol "+I+":",no.ERR_BAD_REQUEST,f));return}W.send(_||null)})},h6={http:yre,xhr:qre};un.forEach(h6,(f,m)=>{if(f){try{Object.defineProperty(f,"name",{value:m})}catch{}Object.defineProperty(f,"adapterName",{value:m})}});const tG={getAdapter:f=>{f=un.isArray(f)?f:[f];const{length:m}=f;let y,b;for(let _=0;_<m&&(y=f[_],!(b=un.isString(y)?h6[y.toLowerCase()]:y));_++);if(!b)throw b===!1?new no(`Adapter ${y} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(un.hasOwnProp(h6,y)?`Adapter '${y}' is not available in the build`:`Unknown adapter '${y}'`);if(!un.isFunction(b))throw new TypeError("adapter is not a function");return b},adapters:h6};function lH(f){if(f.cancelToken&&f.cancelToken.throwIfRequested(),f.signal&&f.signal.aborted)throw new F5(null,f)}function SW(f){return lH(f),f.headers=ib.from(f.headers),f.data=sH.call(f,f.transformRequest),["post","put","patch"].indexOf(f.method)!==-1&&f.headers.setContentType("application/x-www-form-urlencoded",!1),tG.getAdapter(f.adapter||t9.adapter)(f).then(function(b){return lH(f),b.data=sH.call(f,f.transformResponse,b),b.headers=ib.from(b.headers),b},function(b){return Qj(b)||(lH(f),b&&b.response&&(b.response.data=sH.call(f,f.transformResponse,b.response),b.response.headers=ib.from(b.response.headers))),Promise.reject(b)})}const xW=f=>f instanceof ib?f.toJSON():f;function hA(f,m){m=m||{};const y={};function b(W,N,H){return un.isPlainObject(W)&&un.isPlainObject(N)?un.merge.call({caseless:H},W,N):un.isPlainObject(N)?un.merge({},N):un.isArray(N)?N.slice():N}function _(W,N,H){if(un.isUndefined(N)){if(!un.isUndefined(W))return b(void 0,W,H)}else return b(W,N,H)}function x(W,N){if(!un.isUndefined(N))return b(void 0,N)}function T(W,N){if(un.isUndefined(N)){if(!un.isUndefined(W))return b(void 0,W)}else return b(void 0,N)}function D(W,N,H){if(H in m)return b(W,N);if(H in f)return b(void 0,W)}const M={url:x,method:x,data:x,baseURL:T,transformRequest:T,transformResponse:T,paramsSerializer:T,timeout:T,timeoutMessage:T,withCredentials:T,adapter:T,responseType:T,xsrfCookieName:T,xsrfHeaderName:T,onUploadProgress:T,onDownloadProgress:T,decompress:T,maxContentLength:T,maxBodyLength:T,beforeRedirect:T,transport:T,httpAgent:T,httpsAgent:T,cancelToken:T,socketPath:T,responseEncoding:T,validateStatus:D,headers:(W,N)=>_(xW(W),xW(N),!0)};return un.forEach(Object.keys(Object.assign({},f,m)),function(N){const H=M[N]||_,I=H(f[N],m[N],N);un.isUndefined(I)&&H!==D||(y[N]=I)}),y}const nG="1.5.0",n9={};["object","boolean","number","function","string","symbol"].forEach((f,m)=>{n9[f]=function(b){return typeof b===f||"a"+(m<1?"n ":" ")+f}});const kW={};n9.transitional=function(m,y,b){function _(x,T){return"[Axios v"+nG+"] Transitional option '"+x+"'"+T+(b?". "+b:"")}return(x,T,D)=>{if(m===!1)throw new no(_(T," has been removed"+(y?" in "+y:"")),no.ERR_DEPRECATED);return y&&!kW[T]&&(kW[T]=!0,console.warn(_(T," has been deprecated since v"+y+" and will be removed in the near future"))),m?m(x,T,D):!0}};function Kre(f,m,y){if(typeof f!="object")throw new no("options must be an object",no.ERR_BAD_OPTION_VALUE);const b=Object.keys(f);let _=b.length;for(;_-- >0;){const x=b[_],T=m[x];if(T){const D=f[x],M=D===void 0||T(D,x,f);if(M!==!0)throw new no("option "+x+" must be "+M,no.ERR_BAD_OPTION_VALUE);continue}if(y!==!0)throw new no("Unknown option "+x,no.ERR_BAD_OPTION)}}const OH={assertOptions:Kre,validators:n9},Xy=OH.validators;class T6{constructor(m){this.defaults=m,this.interceptors={request:new wW,response:new wW}}request(m,y){typeof m=="string"?(y=y||{},y.url=m):y=m||{},y=hA(this.defaults,y);const{transitional:b,paramsSerializer:_,headers:x}=y;b!==void 0&&OH.assertOptions(b,{silentJSONParsing:Xy.transitional(Xy.boolean),forcedJSONParsing:Xy.transitional(Xy.boolean),clarifyTimeoutError:Xy.transitional(Xy.boolean)},!1),_!=null&&(un.isFunction(_)?y.paramsSerializer={serialize:_}:OH.assertOptions(_,{encode:Xy.function,serialize:Xy.function},!0)),y.method=(y.method||this.defaults.method||"get").toLowerCase();let T=x&&un.merge(x.common,x[y.method]);x&&un.forEach(["delete","get","head","post","put","patch","common"],J=>{delete x[J]}),y.headers=ib.concat(T,x);const D=[];let M=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(y)===!1||(M=M&&q.synchronous,D.unshift(q.fulfilled,q.rejected))});const W=[];this.interceptors.response.forEach(function(q){W.push(q.fulfilled,q.rejected)});let N,H=0,I;if(!M){const J=[SW.bind(this),void 0];for(J.unshift.apply(J,D),J.push.apply(J,W),I=J.length,N=Promise.resolve(y);H<I;)N=N.then(J[H++],J[H++]);return N}I=D.length;let V=y;for(H=0;H<I;){const J=D[H++],q=D[H++];try{V=J(V)}catch($e){q.call(this,$e);break}}try{N=SW.call(this,V)}catch(J){return Promise.reject(J)}for(H=0,I=W.length;H<I;)N=N.then(W[H++],W[H++]);return N}getUri(m){m=hA(this.defaults,m);const y=eG(m.baseURL,m.url);return Yj(y,m.params,m.paramsSerializer)}}un.forEach(["delete","get","head","options"],function(m){T6.prototype[m]=function(y,b){return this.request(hA(b||{},{method:m,url:y,data:(b||{}).data}))}});un.forEach(["post","put","patch"],function(m){function y(b){return function(x,T,D){return this.request(hA(D||{},{method:m,headers:b?{"Content-Type":"multipart/form-data"}:{},url:x,data:T}))}}T6.prototype[m]=y(),T6.prototype[m+"Form"]=y(!0)});const g6=T6;class r9{constructor(m){if(typeof m!="function")throw new TypeError("executor must be a function.");let y;this.promise=new Promise(function(x){y=x});const b=this;this.promise.then(_=>{if(!b._listeners)return;let x=b._listeners.length;for(;x-- >0;)b._listeners[x](_);b._listeners=null}),this.promise.then=_=>{let x;const T=new Promise(D=>{b.subscribe(D),x=D}).then(_);return T.cancel=function(){b.unsubscribe(x)},T},m(function(x,T,D){b.reason||(b.reason=new F5(x,T,D),y(b.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(m){if(this.reason){m(this.reason);return}this._listeners?this._listeners.push(m):this._listeners=[m]}unsubscribe(m){if(!this._listeners)return;const y=this._listeners.indexOf(m);y!==-1&&this._listeners.splice(y,1)}static source(){let m;return{token:new r9(function(_){m=_}),cancel:m}}}const Xre=r9;function Yre(f){return function(y){return f.apply(null,y)}}function Zre(f){return un.isObject(f)&&f.isAxiosError===!0}const DH={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(DH).forEach(([f,m])=>{DH[m]=f});const Jre=DH;function rG(f){const m=new g6(f),y=zj(g6.prototype.request,m);return un.extend(y,g6.prototype,m,{allOwnKeys:!0}),un.extend(y,m,null,{allOwnKeys:!0}),y.create=function(_){return rG(hA(f,_))},y}const Yu=rG(t9);Yu.Axios=g6;Yu.CanceledError=F5;Yu.CancelToken=Xre;Yu.isCancel=Qj;Yu.VERSION=nG;Yu.toFormData=t8;Yu.AxiosError=no;Yu.Cancel=Yu.CanceledError;Yu.all=function(m){return Promise.all(m)};Yu.spread=Yre;Yu.isAxiosError=Zre;Yu.mergeConfig=hA;Yu.AxiosHeaders=ib;Yu.formToJSON=f=>Jj(un.isHTMLForm(f)?new FormData(f):f);Yu.getAdapter=tG.getAdapter;Yu.HttpStatusCode=Jre;Yu.default=Yu;const Tn=Yu;const Qre={class:"full"},eae={class:"login-container"},tae={class:"login-content"},nae=z("img",{src:xj,width:"200"},null,-1),rae=z("p",null,"Bitte melden Sie sich an.",-1),aae={key:0,class:"spin-loading"},oae={key:1},iae={__name:"Login",setup(f){const m=wt(""),y=wt(""),b=wt(!1),_=()=>{b.value=!0,Tn.post("/auth/login",{email:m.value,password:y.value}).then(x=>{b.value=!1,sessionStorage.setItem("token",x.data.token),sessionStorage.setItem("role",x.data.role),x.data.role&&x.data.role==="guide"||x.data.role==="moderator"?(sessionStorage.setItem("guideId",x.data.guide),window.location.href="/profile/"+x.data.guide):window.location.href="/"}).catch(x=>{b.value=!1,console.log(x),window.alert(x.response.data.message||"Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")})};return Ia(()=>{document.addEventListener("keydown",x=>{x.key==="Enter"&&_()})}),(x,T)=>(Ve(),qe("main",Qre,[z("div",eae,[z("div",tae,[nae,rae,In(z("input",{type:"email",placeholder:"Email","onUpdate:modelValue":T[0]||(T[0]=D=>m.value=D)},null,512),[[Hn,m.value]]),In(z("input",{type:"password",placeholder:"Passwort","onUpdate:modelValue":T[1]||(T[1]=D=>y.value=D)},null,512),[[Hn,y.value]]),z("button",{class:"button-primary",onClick:_},[b.value?(Ve(),qe("span",aae)):(Ve(),qe("span",oae,"Anmelden"))])])])]))}};const n2=(f,m)=>{const y=f.__vccOpts||f;for(const[b,_]of m)y[b]=_;return y},Bc=f=>(U_("data-v-0d7c9e98"),f=f(),W_(),f),uae={key:1},sae={class:"header-content"},lae=Bc(()=>z("img",{alt:"Vue logo",class:"logo",src:xj,width:"60"},null,-1)),cae={key:2,class:"content-container"},fae={key:0,class:"sidebar"},vae={key:0,class:"wrapper"},dae=Bc(()=>z("img",{src:kj,width:"25",height:"25"},null,-1)),mae=Bc(()=>z("img",{src:Rte,width:"25",height:"25"},null,-1)),hae=Bc(()=>z("img",{src:$te,width:"25",height:"25"},null,-1)),gae=Bc(()=>z("img",{src:Bte,width:"25",height:"25"},null,-1)),pae=Bc(()=>z("img",{src:Mte,width:"25",height:"25"},null,-1)),bae=Bc(()=>z("img",{src:Pte,width:"25",height:"25"},null,-1)),yae=Bc(()=>z("img",{src:Ite,width:"25",height:"25"},null,-1)),wae=Bc(()=>z("img",{src:Nte,width:"25",height:"25"},null,-1)),Cae=Bc(()=>z("img",{src:XH,width:"25",height:"25"},null,-1)),_ae=Bc(()=>z("img",{src:XH,width:"25",height:"25"},null,-1)),Sae=Bc(()=>z("img",{src:XH,width:"25",height:"25"},null,-1)),xae=Bc(()=>z("img",{src:Aj,width:"25",height:"25"},null,-1)),kae={key:1,class:"wrapper"},Aae=Bc(()=>z("img",{src:kj,width:"25",height:"25"},null,-1)),Eae={key:0},Tae=Bc(()=>z("img",{src:Aj,width:"25",height:"25"},null,-1)),Oae={__name:"App",setup(f){const m=wt(!1),y=wt(!1),b=sessionStorage.getItem("role"),_=sessionStorage.getItem("guideId")||null,x=bl(),T=()=>{sessionStorage.getItem("token")?m.value=!0:m.value=!1},D=ri(()=>parseInt(_)>0),M=()=>{sessionStorage.removeItem("token"),sessionStorage.removeItem("role"),window.onbeforeunload=null,x.push("/"),m.value=!1};return setInterval(()=>{T()},60*1e3),Jm(()=>{T()}),(W,N)=>(Ve(),qe(_r,null,[m.value?ur("",!0):(Ve(),Ym(iae,{key:0})),m.value?(Ve(),qe("header",uae,[z("div",sae,[lae,m.value?(Ve(),qe("button",{key:0,class:"button-primary",onClick:M}," Abmelden ")):ur("",!0)])])):ur("",!0),m.value?(Ve(),qe("div",cae,[Ra(b)!="guide"?(Ve(),qe("div",fae,[Ra(b)==="admin"?(Ve(),qe("div",vae,[at(Ra(gl),{to:"/touren",class:"navigation-link"},{default:Rt(()=>[dae,pr(" Touren ")]),_:1}),at(Ra(gl),{to:"/guides",class:"navigation-link"},{default:Rt(()=>[mae,pr(" Guides ")]),_:1}),at(Ra(gl),{to:"/sprachen",class:"navigation-link"},{default:Rt(()=>[hae,pr(" Sprachen ")]),_:1}),at(Ra(gl),{to:"/mobilitaet",class:"navigation-link"},{default:Rt(()=>[gae,pr(" Mobilität ")]),_:1}),at(Ra(gl),{to:"/orte",class:"navigation-link"},{default:Rt(()=>[pae,pr(" Orte ")]),_:1}),at(Ra(gl),{to:"/kategorien",class:"navigation-link"},{default:Rt(()=>[bae,pr(" Kategorie ")]),_:1}),at(Ra(gl),{to:"/zertifikate",class:"navigation-link"},{default:Rt(()=>[yae,pr(" Zertifikate ")]),_:1}),at(Ra(gl),{to:"/skills",class:"navigation-link"},{default:Rt(()=>[wae,pr(" Themen ")]),_:1}),at(Ra(gl),{to:"/pages",class:"navigation-link"},{default:Rt(()=>[Cae,pr(" Seiten ")]),_:1}),at(Ra(gl),{to:"/blog",class:"navigation-link"},{default:Rt(()=>[_ae,pr(" Aktuelles ")]),_:1}),at(Ra(gl),{to:"/startseite",class:"navigation-link"},{default:Rt(()=>[Sae,pr(" Startseite ")]),_:1}),at(Ra(gl),{to:"/verwaltung",class:"navigation-link align-bottom"},{default:Rt(()=>[xae,pr(" Benutzerverwaltung ")]),_:1})])):ur("",!0),Ra(b)==="moderator"?(Ve(),qe("div",kae,[at(Ra(gl),{to:"/touren",class:"navigation-link"},{default:Rt(()=>[Aae,pr(" Touren ")]),_:1}),D.value?(Ve(),qe("div",Eae,[at(Ra(gl),{to:"/profile/"+Ra(_),class:"navigation-link"},{default:Rt(()=>[Tae,pr(" Dein Profil ")]),_:1},8,["to"])])):ur("",!0)])):ur("",!0)])):ur("",!0),m.value?(Ve(),Ym(Ra(Nj),{key:1,class:N5(y.value?"guideContent":"view")},null,8,["class"])):ur("",!0)])):ur("",!0)],64))}},Dae=n2(Oae,[["__scopeId","data-v-0d7c9e98"]]),$d="/assets/edit-cf18a27b.svg",Df="/assets/delete-8c83b779.svg";const Rae={style:{"margin-bottom":"10px"}},$ae={class:"input-row"},Bae=["aria-checked","onKeydown"],Mae={class:"toggle-value"},P5={__name:"toggleSwitch",props:{value:{type:Boolean,default:!1},color:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},titel:{type:String,default:"Titel"}},emits:["input"],setup(f,{emit:m}){const y=f,b=ri(()=>({"bg-primary":y.value,"bg-secondary":!y.value})),_=ri(()=>({transform:y.value?"translateX(14px)":"translateX(0)"})),x=()=>{y.disabled||m("input",!y.value)};return(T,D)=>(Ve(),qe("div",null,[z("h4",Rae,Kn(f.titel),1),z("div",$ae,[z("span",{class:"toggle-wrapper",role:"checkbox","aria-checked":f.value.toString(),tabindex:"0",onClick:x,onKeydown:Ste(Cte(x,["prevent"]),["space"])},[z("span",{class:N5(["toggle-background",b.value])},null,2),z("span",{class:"toggle-indicator",style:z6(_.value)},null,4)],40,Bae),z("span",Mae,Kn(f.value?"Ja":"Nein"),1)])]))}};const Pae=f=>(U_("data-v-9d7b6e1b"),f=f(),W_(),f),Iae={class:"input-container"},Nae={key:0,style:{margin:"10px 0 20px"}},zae={class:"align-end"},Fae={key:0},Lae={class:"align-end"},Hae={key:1},Vae=["colspan"],Uae=Pae(()=>z("span",{class:"loader"},null,-1)),Wae={key:2},jae=["colspan"],Gae={__name:"IDLTable",props:{tableData:{type:Array,required:!0},tableColumns:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(f){const m=f,y=wt(""),b=wt(!1),_=ri(()=>m.tableData.filter(D=>{const M=Object.values(D).some(W=>typeof W=="string"?W.toLowerCase().includes(y.value.toLowerCase()):!1);return b.value?M&&D.is_public:M})),x=D=>typeof D=="boolean"?D?"Ja":"Nein":typeof D=="number"?D===0?"Nein":"Ja":new Date(D).getTime()>0?(console.log(D),new Date(D).toLocaleString("de-DE")):D==="draft"?"Entwurf":D==="published"?"Veröffentlicht":D,T=ri(()=>m.tableData.some(D=>D.is_public));return(D,M)=>(Ve(),qe("div",null,[z("div",Iae,[In(z("input",{type:"search","onUpdate:modelValue":M[0]||(M[0]=W=>y.value=W),placeholder:"Suche"},null,512),[[Hn,y.value]])]),T.value?(Ve(),qe("div",Nae,[at(P5,{value:b.value,titel:"Zeige nur öffentliche Touren",onInput:M[1]||(M[1]=W=>b.value=W)},null,8,["value"])])):ur("",!0),z("table",null,[z("thead",null,[z("tr",null,[(Ve(!0),qe(_r,null,$a(f.tableColumns,W=>(Ve(),qe("th",{key:W.key},Kn(W.title),1))),128)),z("th",zae,[pH(D.$slots,"actions",{},void 0,!0)])])]),_.value.length>0?(Ve(),qe("tbody",Fae,[(Ve(!0),qe(_r,null,$a(_.value,W=>(Ve(),qe("tr",{key:W.id},[(Ve(!0),qe(_r,null,$a(f.tableColumns,N=>(Ve(),qe("td",{key:N.key},Kn(x(W[N.key])),1))),128)),z("td",Lae,[pH(D.$slots,"tableActions",{row:W},void 0,!0)])]))),128))])):f.loading?(Ve(),qe("tbody",Hae,[z("tr",null,[z("td",{colspan:f.tableColumns.length+1},[Uae,pr("Lade Daten... ")],8,Vae)])])):(Ve(),qe("tbody",Wae,[z("tr",null,[z("td",{colspan:_.value.length+1},"Keine Daten vorhanden",8,jae)])]))])]))}},eh=n2(Gae,[["__scopeId","data-v-9d7b6e1b"]]),qae={class:"row"},Kae=z("h1",null,"Alle Touren",-1),Xae=z("hr",{class:"divider"},null,-1),Yae=z("img",{src:$d,width:"20"},null,-1),Zae=["onClick"],Jae=z("img",{src:Df,width:"20"},null,-1),Qae=[Jae],eoe={__name:"Overview",setup(f){const m=wt([]),y=wt(!1),b=wt([{key:"name",title:"Name"},{key:"status",title:"Status"},{key:"is_public",title:"Öffentliche Tour"},{key:"updated_at",title:"zuletzt aktualisiert"}]),_=()=>{y.value=!0,Tn.get("/tours?preview=true&per_page=200&status=all").then(T=>{y.value=!1,sessionStorage.getItem("role")==="moderator"?m.value=T.data.tours.data.filter(D=>D.is_public==1):m.value=T.data.tours.data}).catch(T=>{y.value=!1,T.response.status===401?sessionStorage.removeItem("token"):(console.log(T),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut."))})},x=T=>{const D=m.value.find(M=>M.id===T).name;window.confirm(`Möchtest du die Tour "${D}" wirklich löschen?`)&&Tn.delete(`/tours/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(M=>{console.log(M),_()}).catch(M=>{console.log(M),M.response.status===401?sessionStorage.removeItem("token"):(console.log(M),window.alert("Die Tour konnte nicht gelöscht werden. Bitte versuche es erneut."))})};return Ia(()=>{_()}),(T,D)=>{const M=Fa("router-link"),W=Fa("RouterLink");return Ve(),qe("main",null,[z("div",qae,[Kae,at(M,{to:"/tour-erstellen",class:"button-primary"},{default:Rt(()=>[pr("Tour hinzufügen")]),_:1})]),Xae,at(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Rt(()=>[pr(" Aktionen ")]),tableActions:Rt(N=>[at(W,{to:`/tour-bearbeiten/${N.row.id}`},{default:Rt(()=>[Yae]),_:2},1032,["to"]),z("button",{onClick:H=>x(N.row.id)},Qae,8,Zae)]),_:1},8,["tableData","tableColumns","loading"])])}}};function toe(f,m){return m.forEach(function(y){y&&typeof y!="string"&&!Array.isArray(y)&&Object.keys(y).forEach(function(b){if(b!=="default"&&!(b in f)){var _=Object.getOwnPropertyDescriptor(y,b);Object.defineProperty(f,b,_.get?_:{enumerable:!0,get:function(){return y[b]}})}})}),Object.freeze(f)}function aG(f,m){return new Promise(function(y,b){let _;return noe(f).then(function(x){try{return _=x,y(new Blob([m.slice(0,2),_,m.slice(2)],{type:"image/jpeg"}))}catch(T){return b(T)}},b)})}const noe=f=>new Promise((m,y)=>{const b=new FileReader;b.addEventListener("load",({target:{result:_}})=>{const x=new DataView(_);let T=0;if(x.getUint16(T)!==65496)return y("not a valid JPEG");for(T+=2;;){const D=x.getUint16(T);if(D===65498)break;const M=x.getUint16(T+2);if(D===65505&&x.getUint32(T+4)===1165519206){const W=T+10;let N;switch(x.getUint16(W)){case 18761:N=!0;break;case 19789:N=!1;break;default:return y("TIFF header contains invalid endian")}if(x.getUint16(W+2,N)!==42)return y("TIFF header contains invalid version");const H=x.getUint32(W+4,N),I=W+H+2+12*x.getUint16(W+H,N);for(let V=W+H+2;V<I;V+=12)if(x.getUint16(V,N)==274){if(x.getUint16(V+2,N)!==3)return y("Orientation data type is invalid");if(x.getUint32(V+4,N)!==1)return y("Orientation data count is invalid");x.setUint16(V+8,1,N);break}return m(_.slice(T,T+2+M))}T+=2+M}return m(new Blob)}),b.readAsArrayBuffer(f)});var O6={},roe={get exports(){return O6},set exports(f){O6=f}};(function(f){var m,y,b={};roe.exports=b,b.parse=function(_,x){for(var T=b.bin.readUshort,D=b.bin.readUint,M=0,W={},N=new Uint8Array(_),H=N.length-4;D(N,H)!=101010256;)H--;M=H,M+=4;var I=T(N,M+=4);T(N,M+=2);var V=D(N,M+=2),J=D(N,M+=4);M+=4,M=J;for(var q=0;q<I;q++){D(N,M),M+=4,M+=4,M+=4,D(N,M+=4),V=D(N,M+=4);var $e=D(N,M+=4),me=T(N,M+=4),Be=T(N,M+2),ie=T(N,M+4);M+=6;var he=D(N,M+=8);M+=4,M+=me+Be+ie,b._readLocal(N,he,W,V,$e,x)}return W},b._readLocal=function(_,x,T,D,M,W){var N=b.bin.readUshort,H=b.bin.readUint;H(_,x),N(_,x+=4),N(_,x+=2);var I=N(_,x+=2);H(_,x+=2),H(_,x+=4),x+=4;var V=N(_,x+=8),J=N(_,x+=2);x+=2;var q=b.bin.readUTF8(_,x,V);if(x+=V,x+=J,W)T[q]={size:M,csize:D};else{var $e=new Uint8Array(_.buffer,x);if(I==0)T[q]=new Uint8Array($e.buffer.slice(x,x+D));else{if(I!=8)throw"unknown compression method: "+I;var me=new Uint8Array(M);b.inflateRaw($e,me),T[q]=me}}},b.inflateRaw=function(_,x){return b.F.inflate(_,x)},b.inflate=function(_,x){return _[0],_[1],b.inflateRaw(new Uint8Array(_.buffer,_.byteOffset+2,_.length-6),x)},b.deflate=function(_,x){x==null&&(x={level:6});var T=0,D=new Uint8Array(50+Math.floor(1.1*_.length));D[T]=120,D[T+1]=156,T+=2,T=b.F.deflateRaw(_,D,T,x.level);var M=b.adler(_,0,_.length);return D[T+0]=M>>>24&255,D[T+1]=M>>>16&255,D[T+2]=M>>>8&255,D[T+3]=M>>>0&255,new Uint8Array(D.buffer,0,T+4)},b.deflateRaw=function(_,x){x==null&&(x={level:6});var T=new Uint8Array(50+Math.floor(1.1*_.length)),D=b.F.deflateRaw(_,T,D,x.level);return new Uint8Array(T.buffer,0,D)},b.encode=function(_,x){x==null&&(x=!1);var T=0,D=b.bin.writeUint,M=b.bin.writeUshort,W={};for(var N in _){var H=!b._noNeed(N)&&!x,I=_[N],V=b.crc.crc(I,0,I.length);W[N]={cpr:H,usize:I.length,crc:V,file:H?b.deflateRaw(I):I}}for(var N in W)T+=W[N].file.length+30+46+2*b.bin.sizeUTF8(N);T+=22;var J=new Uint8Array(T),q=0,$e=[];for(var N in W){var me=W[N];$e.push(q),q=b._writeHeader(J,q,N,me,0)}var Be=0,ie=q;for(var N in W)me=W[N],$e.push(q),q=b._writeHeader(J,q,N,me,1,$e[Be++]);var he=q-ie;return D(J,q,101010256),q+=4,M(J,q+=4,Be),M(J,q+=2,Be),D(J,q+=2,he),D(J,q+=4,ie),q+=4,q+=2,J.buffer},b._noNeed=function(_){var x=_.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(x)!=-1},b._writeHeader=function(_,x,T,D,M,W){var N=b.bin.writeUint,H=b.bin.writeUshort,I=D.file;return N(_,x,M==0?67324752:33639248),x+=4,M==1&&(x+=2),H(_,x,20),H(_,x+=2,0),H(_,x+=2,D.cpr?8:0),N(_,x+=2,0),N(_,x+=4,D.crc),N(_,x+=4,I.length),N(_,x+=4,D.usize),H(_,x+=4,b.bin.sizeUTF8(T)),H(_,x+=2,0),x+=2,M==1&&(x+=2,x+=2,N(_,x+=6,W),x+=4),x+=b.bin.writeUTF8(_,x,T),M==0&&(_.set(I,x),x+=I.length),x},b.crc={table:function(){for(var _=new Uint32Array(256),x=0;x<256;x++){for(var T=x,D=0;D<8;D++)1&T?T=3988292384^T>>>1:T>>>=1;_[x]=T}return _}(),update:function(_,x,T,D){for(var M=0;M<D;M++)_=b.crc.table[255&(_^x[T+M])]^_>>>8;return _},crc:function(_,x,T){return 4294967295^b.crc.update(4294967295,_,x,T)}},b.adler=function(_,x,T){for(var D=1,M=0,W=x,N=x+T;W<N;){for(var H=Math.min(W+5552,N);W<H;)M+=D+=_[W++];D%=65521,M%=65521}return M<<16|D},b.bin={readUshort:function(_,x){return _[x]|_[x+1]<<8},writeUshort:function(_,x,T){_[x]=255&T,_[x+1]=T>>8&255},readUint:function(_,x){return 16777216*_[x+3]+(_[x+2]<<16|_[x+1]<<8|_[x])},writeUint:function(_,x,T){_[x]=255&T,_[x+1]=T>>8&255,_[x+2]=T>>16&255,_[x+3]=T>>24&255},readASCII:function(_,x,T){for(var D="",M=0;M<T;M++)D+=String.fromCharCode(_[x+M]);return D},writeASCII:function(_,x,T){for(var D=0;D<T.length;D++)_[x+D]=T.charCodeAt(D)},pad:function(_){return _.length<2?"0"+_:_},readUTF8:function(_,x,T){for(var D,M="",W=0;W<T;W++)M+="%"+b.bin.pad(_[x+W].toString(16));try{D=decodeURIComponent(M)}catch{return b.bin.readASCII(_,x,T)}return D},writeUTF8:function(_,x,T){for(var D=T.length,M=0,W=0;W<D;W++){var N=T.charCodeAt(W);if(!(4294967168&N))_[x+M]=N,M++;else if(!(4294965248&N))_[x+M]=192|N>>6,_[x+M+1]=128|N>>0&63,M+=2;else if(!(4294901760&N))_[x+M]=224|N>>12,_[x+M+1]=128|N>>6&63,_[x+M+2]=128|N>>0&63,M+=3;else{if(4292870144&N)throw"e";_[x+M]=240|N>>18,_[x+M+1]=128|N>>12&63,_[x+M+2]=128|N>>6&63,_[x+M+3]=128|N>>0&63,M+=4}}return M},sizeUTF8:function(_){for(var x=_.length,T=0,D=0;D<x;D++){var M=_.charCodeAt(D);if(!(4294967168&M))T++;else if(!(4294965248&M))T+=2;else if(!(4294901760&M))T+=3;else{if(4292870144&M)throw"e";T+=4}}return T}},b.F={},b.F.deflateRaw=function(_,x,T,D){var M=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][D],W=b.F.U,N=b.F._goodIndex;b.F._hash;var H=b.F._putsE,I=0,V=T<<3,J=0,q=_.length;if(D==0){for(;I<q;)H(x,V,I+(We=Math.min(65535,q-I))==q?1:0),V=b.F._copyExact(_,I,We,x,V+8),I+=We;return V>>>3}var $e=W.lits,me=W.strt,Be=W.prev,ie=0,he=0,De=0,ye=0,Xe=0,le=0;for(q>2&&(me[le=b.F._hash(_,0)]=0),I=0;I<q;I++){if(Xe=le,I+1<q-2){le=b.F._hash(_,I+1);var se=I+1&32767;Be[se]=me[le],me[le]=se}if(J<=I){(ie>14e3||he>26697)&&q-I>100&&(J<I&&($e[ie]=I-J,ie+=2,J=I),V=b.F._writeBlock(I==q-1||J==q?1:0,$e,ie,ye,_,De,I-De,x,V),ie=he=ye=0,De=I);var Ee=0;I<q-2&&(Ee=b.F._bestMatch(_,I,Be,Xe,Math.min(M[2],q-I),M[3]));var We=Ee>>>16,ne=65535&Ee;if(Ee!=0){ne=65535&Ee;var j=N(We=Ee>>>16,W.of0);W.lhst[257+j]++;var ke=N(ne,W.df0);W.dhst[ke]++,ye+=W.exb[j]+W.dxb[ke],$e[ie]=We<<23|I-J,$e[ie+1]=ne<<16|j<<8|ke,ie+=2,J=I+We}else W.lhst[_[I]]++;he++}}for(De==I&&_.length!=0||(J<I&&($e[ie]=I-J,ie+=2,J=I),V=b.F._writeBlock(1,$e,ie,ye,_,De,I-De,x,V),ie=0,he=0,ie=he=ye=0,De=I);7&V;)V++;return V>>>3},b.F._bestMatch=function(_,x,T,D,M,W){var N=32767&x,H=T[N],I=N-H+32768&32767;if(H==N||D!=b.F._hash(_,x-I))return 0;for(var V=0,J=0,q=Math.min(32767,x);I<=q&&--W!=0&&H!=N;){if(V==0||_[x+V]==_[x+V-I]){var $e=b.F._howLong(_,x,I);if($e>V){if(J=I,(V=$e)>=M)break;I+2<$e&&($e=I+2);for(var me=0,Be=0;Be<$e-2;Be++){var ie=x-I+Be+32768&32767,he=ie-T[ie]+32768&32767;he>me&&(me=he,H=ie)}}}I+=(N=H)-(H=T[N])+32768&32767}return V<<16|J},b.F._howLong=function(_,x,T){if(_[x]!=_[x-T]||_[x+1]!=_[x+1-T]||_[x+2]!=_[x+2-T])return 0;var D=x,M=Math.min(_.length,x+258);for(x+=3;x<M&&_[x]==_[x-T];)x++;return x-D},b.F._hash=function(_,x){return(_[x]<<8|_[x+1])+(_[x+2]<<4)&65535},b.saved=0,b.F._writeBlock=function(_,x,T,D,M,W,N,H,I){var V,J,q,$e,me,Be,ie,he,De,ye=b.F.U,Xe=b.F._putsF,le=b.F._putsE;ye.lhst[256]++,J=(V=b.F.getTrees())[0],q=V[1],$e=V[2],me=V[3],Be=V[4],ie=V[5],he=V[6],De=V[7];var se=32+(I+3&7?8-(I+3&7):0)+(N<<3),Ee=D+b.F.contSize(ye.fltree,ye.lhst)+b.F.contSize(ye.fdtree,ye.dhst),We=D+b.F.contSize(ye.ltree,ye.lhst)+b.F.contSize(ye.dtree,ye.dhst);We+=14+3*ie+b.F.contSize(ye.itree,ye.ihst)+(2*ye.ihst[16]+3*ye.ihst[17]+7*ye.ihst[18]);for(var ne=0;ne<286;ne++)ye.lhst[ne]=0;for(ne=0;ne<30;ne++)ye.dhst[ne]=0;for(ne=0;ne<19;ne++)ye.ihst[ne]=0;var j=se<Ee&&se<We?0:Ee<We?1:2;if(Xe(H,I,_),Xe(H,I+1,j),I+=3,j==0){for(;7&I;)I++;I=b.F._copyExact(M,W,N,H,I)}else{var ke,rt;if(j==1&&(ke=ye.fltree,rt=ye.fdtree),j==2){b.F.makeCodes(ye.ltree,J),b.F.revCodes(ye.ltree,J),b.F.makeCodes(ye.dtree,q),b.F.revCodes(ye.dtree,q),b.F.makeCodes(ye.itree,$e),b.F.revCodes(ye.itree,$e),ke=ye.ltree,rt=ye.dtree,le(H,I,me-257),le(H,I+=5,Be-1),le(H,I+=5,ie-4),I+=4;for(var ce=0;ce<ie;ce++)le(H,I+3*ce,ye.itree[1+(ye.ordr[ce]<<1)]);I+=3*ie,I=b.F._codeTiny(he,ye.itree,H,I),I=b.F._codeTiny(De,ye.itree,H,I)}for(var be=W,st=0;st<T;st+=2){for(var B=x[st],kt=B>>>23,ot=be+(8388607&B);be<ot;)I=b.F._writeLit(M[be++],ke,H,I);if(kt!=0){var it=x[st+1],An=it>>16,cn=it>>8&255,ct=255&it;le(H,I=b.F._writeLit(257+cn,ke,H,I),kt-ye.of0[cn]),I+=ye.exb[cn],Xe(H,I=b.F._writeLit(ct,rt,H,I),An-ye.df0[ct]),I+=ye.dxb[ct],be+=kt}}I=b.F._writeLit(256,ke,H,I)}return I},b.F._copyExact=function(_,x,T,D,M){var W=M>>>3;return D[W]=T,D[W+1]=T>>>8,D[W+2]=255-D[W],D[W+3]=255-D[W+1],W+=4,D.set(new Uint8Array(_.buffer,x,T),W),M+(T+4<<3)},b.F.getTrees=function(){for(var _=b.F.U,x=b.F._hufTree(_.lhst,_.ltree,15),T=b.F._hufTree(_.dhst,_.dtree,15),D=[],M=b.F._lenCodes(_.ltree,D),W=[],N=b.F._lenCodes(_.dtree,W),H=0;H<D.length;H+=2)_.ihst[D[H]]++;for(H=0;H<W.length;H+=2)_.ihst[W[H]]++;for(var I=b.F._hufTree(_.ihst,_.itree,7),V=19;V>4&&_.itree[1+(_.ordr[V-1]<<1)]==0;)V--;return[x,T,I,M,N,V,D,W]},b.F.getSecond=function(_){for(var x=[],T=0;T<_.length;T+=2)x.push(_[T+1]);return x},b.F.nonZero=function(_){for(var x="",T=0;T<_.length;T+=2)_[T+1]!=0&&(x+=(T>>1)+",");return x},b.F.contSize=function(_,x){for(var T=0,D=0;D<x.length;D++)T+=x[D]*_[1+(D<<1)];return T},b.F._codeTiny=function(_,x,T,D){for(var M=0;M<_.length;M+=2){var W=_[M],N=_[M+1];D=b.F._writeLit(W,x,T,D);var H=W==16?2:W==17?3:7;W>15&&(b.F._putsE(T,D,N,H),D+=H)}return D},b.F._lenCodes=function(_,x){for(var T=_.length;T!=2&&_[T-1]==0;)T-=2;for(var D=0;D<T;D+=2){var M=_[D+1],W=D+3<T?_[D+3]:-1,N=D+5<T?_[D+5]:-1,H=D==0?-1:_[D-1];if(M==0&&W==M&&N==M){for(var I=D+5;I+2<T&&_[I+2]==M;)I+=2;(V=Math.min(I+1-D>>>1,138))<11?x.push(17,V-3):x.push(18,V-11),D+=2*V-2}else if(M==H&&W==M&&N==M){for(I=D+5;I+2<T&&_[I+2]==M;)I+=2;var V=Math.min(I+1-D>>>1,6);x.push(16,V-3),D+=2*V-2}else x.push(M,0)}return T>>>1},b.F._hufTree=function(_,x,T){var D=[],M=_.length,W=x.length,N=0;for(N=0;N<W;N+=2)x[N]=0,x[N+1]=0;for(N=0;N<M;N++)_[N]!=0&&D.push({lit:N,f:_[N]});var H=D.length,I=D.slice(0);if(H==0)return 0;if(H==1){var V=D[0].lit;return I=V==0?1:0,x[1+(V<<1)]=1,x[1+(I<<1)]=1,1}D.sort(function(he,De){return he.f-De.f});var J=D[0],q=D[1],$e=0,me=1,Be=2;for(D[0]={lit:-1,f:J.f+q.f,l:J,r:q,d:0};me!=H-1;)J=$e!=me&&(Be==H||D[$e].f<D[Be].f)?D[$e++]:D[Be++],q=$e!=me&&(Be==H||D[$e].f<D[Be].f)?D[$e++]:D[Be++],D[me++]={lit:-1,f:J.f+q.f,l:J,r:q};var ie=b.F.setDepth(D[me-1],0);for(ie>T&&(b.F.restrictDepth(I,T,ie),ie=T),N=0;N<H;N++)x[1+(I[N].lit<<1)]=I[N].d;return ie},b.F.setDepth=function(_,x){return _.lit!=-1?(_.d=x,x):Math.max(b.F.setDepth(_.l,x+1),b.F.setDepth(_.r,x+1))},b.F.restrictDepth=function(_,x,T){var D=0,M=1<<T-x,W=0;for(_.sort(function(H,I){return I.d==H.d?H.f-I.f:I.d-H.d}),D=0;D<_.length&&_[D].d>x;D++){var N=_[D].d;_[D].d=x,W+=M-(1<<T-N)}for(W>>>=T-x;W>0;)(N=_[D].d)<x?(_[D].d++,W-=1<<x-N-1):D++;for(;D>=0;D--)_[D].d==x&&W<0&&(_[D].d--,W++);W!=0&&console.log("debt left")},b.F._goodIndex=function(_,x){var T=0;return x[16|T]<=_&&(T|=16),x[8|T]<=_&&(T|=8),x[4|T]<=_&&(T|=4),x[2|T]<=_&&(T|=2),x[1|T]<=_&&(T|=1),T},b.F._writeLit=function(_,x,T,D){return b.F._putsF(T,D,x[_<<1]),D+x[1+(_<<1)]},b.F.inflate=function(_,x){var T=Uint8Array;if(_[0]==3&&_[1]==0)return x||new T(0);var D=b.F,M=D._bitsF,W=D._bitsE,N=D._decodeTiny,H=D.makeCodes,I=D.codes2map,V=D._get17,J=D.U,q=x==null;q&&(x=new T(_.length>>>2<<3));for(var $e,me,Be=0,ie=0,he=0,De=0,ye=0,Xe=0,le=0,se=0,Ee=0;Be==0;)if(Be=M(_,Ee,1),ie=M(_,Ee+1,2),Ee+=3,ie!=0){if(q&&(x=b.F._check(x,se+(1<<17))),ie==1&&($e=J.flmap,me=J.fdmap,Xe=511,le=31),ie==2){he=W(_,Ee,5)+257,De=W(_,Ee+5,5)+1,ye=W(_,Ee+10,4)+4,Ee+=14;for(var We=0;We<38;We+=2)J.itree[We]=0,J.itree[We+1]=0;var ne=1;for(We=0;We<ye;We++){var j=W(_,Ee+3*We,3);J.itree[1+(J.ordr[We]<<1)]=j,j>ne&&(ne=j)}Ee+=3*ye,H(J.itree,ne),I(J.itree,ne,J.imap),$e=J.lmap,me=J.dmap,Ee=N(J.imap,(1<<ne)-1,he+De,_,Ee,J.ttree);var ke=D._copyOut(J.ttree,0,he,J.ltree);Xe=(1<<ke)-1;var rt=D._copyOut(J.ttree,he,De,J.dtree);le=(1<<rt)-1,H(J.ltree,ke),I(J.ltree,ke,$e),H(J.dtree,rt),I(J.dtree,rt,me)}for(;;){var ce=$e[V(_,Ee)&Xe];Ee+=15&ce;var be=ce>>>4;if(!(be>>>8))x[se++]=be;else{if(be==256)break;var st=se+be-254;if(be>264){var B=J.ldef[be-257];st=se+(B>>>3)+W(_,Ee,7&B),Ee+=7&B}var kt=me[V(_,Ee)&le];Ee+=15&kt;var ot=kt>>>4,it=J.ddef[ot],An=(it>>>4)+M(_,Ee,15&it);for(Ee+=15&it,q&&(x=b.F._check(x,se+(1<<17)));se<st;)x[se]=x[se++-An],x[se]=x[se++-An],x[se]=x[se++-An],x[se]=x[se++-An];se=st}}}else{7&Ee&&(Ee+=8-(7&Ee));var cn=4+(Ee>>>3),ct=_[cn-4]|_[cn-3]<<8;q&&(x=b.F._check(x,se+ct)),x.set(new T(_.buffer,_.byteOffset+cn,ct),se),Ee=cn+ct<<3,se+=ct}return x.length==se?x:x.slice(0,se)},b.F._check=function(_,x){var T=_.length;if(x<=T)return _;var D=new Uint8Array(Math.max(T<<1,x));return D.set(_,0),D},b.F._decodeTiny=function(_,x,T,D,M,W){for(var N=b.F._bitsE,H=b.F._get17,I=0;I<T;){var V=_[H(D,M)&x];M+=15&V;var J=V>>>4;if(J<=15)W[I]=J,I++;else{var q=0,$e=0;J==16?($e=3+N(D,M,2),M+=2,q=W[I-1]):J==17?($e=3+N(D,M,3),M+=3):J==18&&($e=11+N(D,M,7),M+=7);for(var me=I+$e;I<me;)W[I]=q,I++}}return M},b.F._copyOut=function(_,x,T,D){for(var M=0,W=0,N=D.length>>>1;W<T;){var H=_[W+x];D[W<<1]=0,D[1+(W<<1)]=H,H>M&&(M=H),W++}for(;W<N;)D[W<<1]=0,D[1+(W<<1)]=0,W++;return M},b.F.makeCodes=function(_,x){for(var T,D,M,W,N=b.F.U,H=_.length,I=N.bl_count,V=0;V<=x;V++)I[V]=0;for(V=1;V<H;V+=2)I[_[V]]++;var J=N.next_code;for(T=0,I[0]=0,D=1;D<=x;D++)T=T+I[D-1]<<1,J[D]=T;for(M=0;M<H;M+=2)(W=_[M+1])!=0&&(_[M]=J[W],J[W]++)},b.F.codes2map=function(_,x,T){for(var D=_.length,M=b.F.U.rev15,W=0;W<D;W+=2)if(_[W+1]!=0)for(var N=W>>1,H=_[W+1],I=N<<4|H,V=x-H,J=_[W]<<V,q=J+(1<<V);J!=q;)T[M[J]>>>15-x]=I,J++},b.F.revCodes=function(_,x){for(var T=b.F.U.rev15,D=15-x,M=0;M<_.length;M+=2){var W=_[M]<<x-_[M+1];_[M]=T[W]>>>D}},b.F._putsE=function(_,x,T){T<<=7&x;var D=x>>>3;_[D]|=T,_[D+1]|=T>>>8},b.F._putsF=function(_,x,T){T<<=7&x;var D=x>>>3;_[D]|=T,_[D+1]|=T>>>8,_[D+2]|=T>>>16},b.F._bitsE=function(_,x,T){return(_[x>>>3]|_[1+(x>>>3)]<<8)>>>(7&x)&(1<<T)-1},b.F._bitsF=function(_,x,T){return(_[x>>>3]|_[1+(x>>>3)]<<8|_[2+(x>>>3)]<<16)>>>(7&x)&(1<<T)-1},b.F._get17=function(_,x){return(_[x>>>3]|_[1+(x>>>3)]<<8|_[2+(x>>>3)]<<16)>>>(7&x)},b.F._get25=function(_,x){return(_[x>>>3]|_[1+(x>>>3)]<<8|_[2+(x>>>3)]<<16|_[3+(x>>>3)]<<24)>>>(7&x)},b.F.U=(m=Uint16Array,y=Uint32Array,{next_code:new m(16),bl_count:new m(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new m(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new y(32),flmap:new m(512),fltree:[],fdmap:new m(32),fdtree:[],lmap:new m(32768),ltree:[],ttree:[],dmap:new m(32768),dtree:[],imap:new m(512),itree:[],rev15:new m(32768),lhst:new y(286),dhst:new y(30),ihst:new y(19),lits:new y(15e3),strt:new m(65536),prev:new m(32768)}),function(){for(var _=b.F.U,x=0;x<32768;x++){var T=x;T=(4278255360&(T=(4042322160&(T=(3435973836&(T=(2863311530&T)>>>1|(1431655765&T)<<1))>>>2|(858993459&T)<<2))>>>4|(252645135&T)<<4))>>>8|(16711935&T)<<8,_.rev15[x]=(T>>>16|T<<16)>>>17}function D(M,W,N){for(;W--!=0;)M.push(0,N)}for(x=0;x<32;x++)_.ldef[x]=_.of0[x]<<3|_.exb[x],_.ddef[x]=_.df0[x]<<4|_.dxb[x];D(_.fltree,144,8),D(_.fltree,112,9),D(_.fltree,24,7),D(_.fltree,8,8),b.F.makeCodes(_.fltree,9),b.F.codes2map(_.fltree,9,_.flmap),b.F.revCodes(_.fltree,9),D(_.fdtree,32,5),b.F.makeCodes(_.fdtree,5),b.F.codes2map(_.fdtree,5,_.fdmap),b.F.revCodes(_.fdtree,5),D(_.itree,19,0),D(_.ltree,286,0),D(_.dtree,30,0),D(_.ttree,320,0)}()})();var aoe=toe({__proto__:null,default:O6},[O6]);const Vm=function(){var f={nextZero(N,H){for(;N[H]!=0;)H++;return H},readUshort:(N,H)=>N[H]<<8|N[H+1],writeUshort(N,H,I){N[H]=I>>8&255,N[H+1]=255&I},readUint:(N,H)=>16777216*N[H]+(N[H+1]<<16|N[H+2]<<8|N[H+3]),writeUint(N,H,I){N[H]=I>>24&255,N[H+1]=I>>16&255,N[H+2]=I>>8&255,N[H+3]=255&I},readASCII(N,H,I){let V="";for(let J=0;J<I;J++)V+=String.fromCharCode(N[H+J]);return V},writeASCII(N,H,I){for(let V=0;V<I.length;V++)N[H+V]=I.charCodeAt(V)},readBytes(N,H,I){const V=[];for(let J=0;J<I;J++)V.push(N[H+J]);return V},pad:N=>N.length<2?`0${N}`:N,readUTF8(N,H,I){let V,J="";for(let q=0;q<I;q++)J+=`%${f.pad(N[H+q].toString(16))}`;try{V=decodeURIComponent(J)}catch{return f.readASCII(N,H,I)}return V}};function m(N,H,I,V){const J=H*I,q=x(V),$e=Math.ceil(H*q/8),me=new Uint8Array(4*J),Be=new Uint32Array(me.buffer),{ctype:ie}=V,{depth:he}=V,De=f.readUshort;if(ie==6){const B=J<<2;if(he==8)for(var ye=0;ye<B;ye+=4)me[ye]=N[ye],me[ye+1]=N[ye+1],me[ye+2]=N[ye+2],me[ye+3]=N[ye+3];if(he==16)for(ye=0;ye<B;ye++)me[ye]=N[ye<<1]}else if(ie==2){const B=V.tabs.tRNS;if(B==null){if(he==8)for(ye=0;ye<J;ye++){var Xe=3*ye;Be[ye]=255<<24|N[Xe+2]<<16|N[Xe+1]<<8|N[Xe]}if(he==16)for(ye=0;ye<J;ye++)Xe=6*ye,Be[ye]=255<<24|N[Xe+4]<<16|N[Xe+2]<<8|N[Xe]}else{var le=B[0];const kt=B[1],ot=B[2];if(he==8)for(ye=0;ye<J;ye++){var se=ye<<2;Xe=3*ye,Be[ye]=255<<24|N[Xe+2]<<16|N[Xe+1]<<8|N[Xe],N[Xe]==le&&N[Xe+1]==kt&&N[Xe+2]==ot&&(me[se+3]=0)}if(he==16)for(ye=0;ye<J;ye++)se=ye<<2,Xe=6*ye,Be[ye]=255<<24|N[Xe+4]<<16|N[Xe+2]<<8|N[Xe],De(N,Xe)==le&&De(N,Xe+2)==kt&&De(N,Xe+4)==ot&&(me[se+3]=0)}}else if(ie==3){const B=V.tabs.PLTE,kt=V.tabs.tRNS,ot=kt?kt.length:0;if(he==1)for(var Ee=0;Ee<I;Ee++){var We=Ee*$e,ne=Ee*H;for(ye=0;ye<H;ye++){se=ne+ye<<2;var j=3*(ke=N[We+(ye>>3)]>>7-((7&ye)<<0)&1);me[se]=B[j],me[se+1]=B[j+1],me[se+2]=B[j+2],me[se+3]=ke<ot?kt[ke]:255}}if(he==2)for(Ee=0;Ee<I;Ee++)for(We=Ee*$e,ne=Ee*H,ye=0;ye<H;ye++)se=ne+ye<<2,j=3*(ke=N[We+(ye>>2)]>>6-((3&ye)<<1)&3),me[se]=B[j],me[se+1]=B[j+1],me[se+2]=B[j+2],me[se+3]=ke<ot?kt[ke]:255;if(he==4)for(Ee=0;Ee<I;Ee++)for(We=Ee*$e,ne=Ee*H,ye=0;ye<H;ye++)se=ne+ye<<2,j=3*(ke=N[We+(ye>>1)]>>4-((1&ye)<<2)&15),me[se]=B[j],me[se+1]=B[j+1],me[se+2]=B[j+2],me[se+3]=ke<ot?kt[ke]:255;if(he==8)for(ye=0;ye<J;ye++){var ke;se=ye<<2,j=3*(ke=N[ye]),me[se]=B[j],me[se+1]=B[j+1],me[se+2]=B[j+2],me[se+3]=ke<ot?kt[ke]:255}}else if(ie==4){if(he==8)for(ye=0;ye<J;ye++){se=ye<<2;var rt=N[ce=ye<<1];me[se]=rt,me[se+1]=rt,me[se+2]=rt,me[se+3]=N[ce+1]}if(he==16)for(ye=0;ye<J;ye++){var ce;se=ye<<2,rt=N[ce=ye<<2],me[se]=rt,me[se+1]=rt,me[se+2]=rt,me[se+3]=N[ce+2]}}else if(ie==0)for(le=V.tabs.tRNS?V.tabs.tRNS:-1,Ee=0;Ee<I;Ee++){const B=Ee*$e,kt=Ee*H;if(he==1)for(var be=0;be<H;be++){var st=(rt=255*(N[B+(be>>>3)]>>>7-(7&be)&1))==255*le?0:255;Be[kt+be]=st<<24|rt<<16|rt<<8|rt}else if(he==2)for(be=0;be<H;be++)st=(rt=85*(N[B+(be>>>2)]>>>6-((3&be)<<1)&3))==85*le?0:255,Be[kt+be]=st<<24|rt<<16|rt<<8|rt;else if(he==4)for(be=0;be<H;be++)st=(rt=17*(N[B+(be>>>1)]>>>4-((1&be)<<2)&15))==17*le?0:255,Be[kt+be]=st<<24|rt<<16|rt<<8|rt;else if(he==8)for(be=0;be<H;be++)st=(rt=N[B+be])==le?0:255,Be[kt+be]=st<<24|rt<<16|rt<<8|rt;else if(he==16)for(be=0;be<H;be++)rt=N[B+(be<<1)],st=De(N,B+(be<<1))==le?0:255,Be[kt+be]=st<<24|rt<<16|rt<<8|rt}return me}function y(N,H,I,V){const J=x(N),q=Math.ceil(I*J/8),$e=new Uint8Array((q+1+N.interlace)*V);return H=N.tabs.CgBI?_(H,$e):b(H,$e),N.interlace==0?H=T(H,N,0,I,V):N.interlace==1&&(H=function(Be,ie){const he=ie.width,De=ie.height,ye=x(ie),Xe=ye>>3,le=Math.ceil(he*ye/8),se=new Uint8Array(De*le);let Ee=0;const We=[0,0,4,0,2,0,1],ne=[0,4,0,2,0,1,0],j=[8,8,8,4,4,2,2],ke=[8,8,4,4,2,2,1];let rt=0;for(;rt<7;){const be=j[rt],st=ke[rt];let B=0,kt=0,ot=We[rt];for(;ot<De;)ot+=be,kt++;let it=ne[rt];for(;it<he;)it+=st,B++;const An=Math.ceil(B*ye/8);T(Be,ie,Ee,B,kt);let cn=0,ct=We[rt];for(;ct<De;){let _n=ne[rt],te=Ee+cn*An<<3;for(;_n<he;){var ce;if(ye==1&&(ce=(ce=Be[te>>3])>>7-(7&te)&1,se[ct*le+(_n>>3)]|=ce<<7-((7&_n)<<0)),ye==2&&(ce=(ce=Be[te>>3])>>6-(7&te)&3,se[ct*le+(_n>>2)]|=ce<<6-((3&_n)<<1)),ye==4&&(ce=(ce=Be[te>>3])>>4-(7&te)&15,se[ct*le+(_n>>1)]|=ce<<4-((1&_n)<<2)),ye>=8){const fn=ct*le+_n*Xe;for(let Ue=0;Ue<Xe;Ue++)se[fn+Ue]=Be[(te>>3)+Ue]}te+=ye,_n+=st}cn++,ct+=be}B*kt!=0&&(Ee+=kt*(1+An)),rt+=1}return se}(H,N)),H}function b(N,H){return _(new Uint8Array(N.buffer,2,N.length-6),H)}var _=function(){const N={H:{}};return N.H.N=function(H,I){const V=Uint8Array;let J,q,$e=0,me=0,Be=0,ie=0,he=0,De=0,ye=0,Xe=0,le=0;if(H[0]==3&&H[1]==0)return I||new V(0);const se=N.H,Ee=se.b,We=se.e,ne=se.R,j=se.n,ke=se.A,rt=se.Z,ce=se.m,be=I==null;for(be&&(I=new V(H.length>>>2<<5));$e==0;)if($e=Ee(H,le,1),me=Ee(H,le+1,2),le+=3,me!=0){if(be&&(I=N.H.W(I,Xe+(1<<17))),me==1&&(J=ce.J,q=ce.h,De=511,ye=31),me==2){Be=We(H,le,5)+257,ie=We(H,le+5,5)+1,he=We(H,le+10,4)+4,le+=14;let B=1;for(var st=0;st<38;st+=2)ce.Q[st]=0,ce.Q[st+1]=0;for(st=0;st<he;st++){const it=We(H,le+3*st,3);ce.Q[1+(ce.X[st]<<1)]=it,it>B&&(B=it)}le+=3*he,j(ce.Q,B),ke(ce.Q,B,ce.u),J=ce.w,q=ce.d,le=ne(ce.u,(1<<B)-1,Be+ie,H,le,ce.v);const kt=se.V(ce.v,0,Be,ce.C);De=(1<<kt)-1;const ot=se.V(ce.v,Be,ie,ce.D);ye=(1<<ot)-1,j(ce.C,kt),ke(ce.C,kt,J),j(ce.D,ot),ke(ce.D,ot,q)}for(;;){const B=J[rt(H,le)&De];le+=15&B;const kt=B>>>4;if(!(kt>>>8))I[Xe++]=kt;else{if(kt==256)break;{let ot=Xe+kt-254;if(kt>264){const _n=ce.q[kt-257];ot=Xe+(_n>>>3)+We(H,le,7&_n),le+=7&_n}const it=q[rt(H,le)&ye];le+=15&it;const An=it>>>4,cn=ce.c[An],ct=(cn>>>4)+Ee(H,le,15&cn);for(le+=15&cn;Xe<ot;)I[Xe]=I[Xe++-ct],I[Xe]=I[Xe++-ct],I[Xe]=I[Xe++-ct],I[Xe]=I[Xe++-ct];Xe=ot}}}}else{7&le&&(le+=8-(7&le));const B=4+(le>>>3),kt=H[B-4]|H[B-3]<<8;be&&(I=N.H.W(I,Xe+kt)),I.set(new V(H.buffer,H.byteOffset+B,kt),Xe),le=B+kt<<3,Xe+=kt}return I.length==Xe?I:I.slice(0,Xe)},N.H.W=function(H,I){const V=H.length;if(I<=V)return H;const J=new Uint8Array(V<<1);return J.set(H,0),J},N.H.R=function(H,I,V,J,q,$e){const me=N.H.e,Be=N.H.Z;let ie=0;for(;ie<V;){const he=H[Be(J,q)&I];q+=15&he;const De=he>>>4;if(De<=15)$e[ie]=De,ie++;else{let ye=0,Xe=0;De==16?(Xe=3+me(J,q,2),q+=2,ye=$e[ie-1]):De==17?(Xe=3+me(J,q,3),q+=3):De==18&&(Xe=11+me(J,q,7),q+=7);const le=ie+Xe;for(;ie<le;)$e[ie]=ye,ie++}}return q},N.H.V=function(H,I,V,J){let q=0,$e=0;const me=J.length>>>1;for(;$e<V;){const Be=H[$e+I];J[$e<<1]=0,J[1+($e<<1)]=Be,Be>q&&(q=Be),$e++}for(;$e<me;)J[$e<<1]=0,J[1+($e<<1)]=0,$e++;return q},N.H.n=function(H,I){const V=N.H.m,J=H.length;let q,$e,me,Be;const ie=V.j;for(var he=0;he<=I;he++)ie[he]=0;for(he=1;he<J;he+=2)ie[H[he]]++;const De=V.K;for(q=0,ie[0]=0,$e=1;$e<=I;$e++)q=q+ie[$e-1]<<1,De[$e]=q;for(me=0;me<J;me+=2)Be=H[me+1],Be!=0&&(H[me]=De[Be],De[Be]++)},N.H.A=function(H,I,V){const J=H.length,q=N.H.m.r;for(let $e=0;$e<J;$e+=2)if(H[$e+1]!=0){const me=$e>>1,Be=H[$e+1],ie=me<<4|Be,he=I-Be;let De=H[$e]<<he;const ye=De+(1<<he);for(;De!=ye;)V[q[De]>>>15-I]=ie,De++}},N.H.l=function(H,I){const V=N.H.m.r,J=15-I;for(let q=0;q<H.length;q+=2){const $e=H[q]<<I-H[q+1];H[q]=V[$e]>>>J}},N.H.M=function(H,I,V){V<<=7&I;const J=I>>>3;H[J]|=V,H[J+1]|=V>>>8},N.H.I=function(H,I,V){V<<=7&I;const J=I>>>3;H[J]|=V,H[J+1]|=V>>>8,H[J+2]|=V>>>16},N.H.e=function(H,I,V){return(H[I>>>3]|H[1+(I>>>3)]<<8)>>>(7&I)&(1<<V)-1},N.H.b=function(H,I,V){return(H[I>>>3]|H[1+(I>>>3)]<<8|H[2+(I>>>3)]<<16)>>>(7&I)&(1<<V)-1},N.H.Z=function(H,I){return(H[I>>>3]|H[1+(I>>>3)]<<8|H[2+(I>>>3)]<<16)>>>(7&I)},N.H.i=function(H,I){return(H[I>>>3]|H[1+(I>>>3)]<<8|H[2+(I>>>3)]<<16|H[3+(I>>>3)]<<24)>>>(7&I)},N.H.m=function(){const H=Uint16Array,I=Uint32Array;return{K:new H(16),j:new H(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new H(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new I(32),J:new H(512),_:[],h:new H(32),$:[],w:new H(32768),C:[],v:[],d:new H(32768),D:[],u:new H(512),Q:[],r:new H(32768),s:new I(286),Y:new I(30),a:new I(19),t:new I(15e3),k:new H(65536),g:new H(32768)}}(),function(){const H=N.H.m;for(var I=0;I<32768;I++){let J=I;J=(2863311530&J)>>>1|(1431655765&J)<<1,J=(3435973836&J)>>>2|(858993459&J)<<2,J=(4042322160&J)>>>4|(252645135&J)<<4,J=(4278255360&J)>>>8|(16711935&J)<<8,H.r[I]=(J>>>16|J<<16)>>>17}function V(J,q,$e){for(;q--!=0;)J.push(0,$e)}for(I=0;I<32;I++)H.q[I]=H.S[I]<<3|H.T[I],H.c[I]=H.p[I]<<4|H.z[I];V(H._,144,8),V(H._,112,9),V(H._,24,7),V(H._,8,8),N.H.n(H._,9),N.H.A(H._,9,H.J),N.H.l(H._,9),V(H.$,32,5),N.H.n(H.$,5),N.H.A(H.$,5,H.h),N.H.l(H.$,5),V(H.Q,19,0),V(H.C,286,0),V(H.D,30,0),V(H.v,320,0)}(),N.H.N}();function x(N){return[1,null,3,1,2,null,4][N.ctype]*N.depth}function T(N,H,I,V,J){let q=x(H);const $e=Math.ceil(V*q/8);let me,Be;q=Math.ceil(q/8);let ie=N[I],he=0;if(ie>1&&(N[I]=[0,0,1][ie-2]),ie==3)for(he=q;he<$e;he++)N[he+1]=N[he+1]+(N[he+1-q]>>>1)&255;for(let De=0;De<J;De++)if(me=I+De*$e,Be=me+De+1,ie=N[Be-1],he=0,ie==0)for(;he<$e;he++)N[me+he]=N[Be+he];else if(ie==1){for(;he<q;he++)N[me+he]=N[Be+he];for(;he<$e;he++)N[me+he]=N[Be+he]+N[me+he-q]}else if(ie==2)for(;he<$e;he++)N[me+he]=N[Be+he]+N[me+he-$e];else if(ie==3){for(;he<q;he++)N[me+he]=N[Be+he]+(N[me+he-$e]>>>1);for(;he<$e;he++)N[me+he]=N[Be+he]+(N[me+he-$e]+N[me+he-q]>>>1)}else{for(;he<q;he++)N[me+he]=N[Be+he]+D(0,N[me+he-$e],0);for(;he<$e;he++)N[me+he]=N[Be+he]+D(N[me+he-q],N[me+he-$e],N[me+he-q-$e])}return N}function D(N,H,I){const V=N+H-I,J=V-N,q=V-H,$e=V-I;return J*J<=q*q&&J*J<=$e*$e?N:q*q<=$e*$e?H:I}function M(N,H,I){I.width=f.readUint(N,H),H+=4,I.height=f.readUint(N,H),H+=4,I.depth=N[H],H++,I.ctype=N[H],H++,I.compress=N[H],H++,I.filter=N[H],H++,I.interlace=N[H],H++}function W(N,H,I,V,J,q,$e,me,Be){const ie=Math.min(H,J),he=Math.min(I,q);let De=0,ye=0;for(let rt=0;rt<he;rt++)for(let ce=0;ce<ie;ce++)if($e>=0&&me>=0?(De=rt*H+ce<<2,ye=(me+rt)*J+$e+ce<<2):(De=(-me+rt)*H-$e+ce<<2,ye=rt*J+ce<<2),Be==0)V[ye]=N[De],V[ye+1]=N[De+1],V[ye+2]=N[De+2],V[ye+3]=N[De+3];else if(Be==1){var Xe=N[De+3]*.00392156862745098,le=N[De]*Xe,se=N[De+1]*Xe,Ee=N[De+2]*Xe,We=V[ye+3]*(1/255),ne=V[ye]*We,j=V[ye+1]*We,ke=V[ye+2]*We;const be=1-Xe,st=Xe+We*be,B=st==0?0:1/st;V[ye+3]=255*st,V[ye+0]=(le+ne*be)*B,V[ye+1]=(se+j*be)*B,V[ye+2]=(Ee+ke*be)*B}else if(Be==2)Xe=N[De+3],le=N[De],se=N[De+1],Ee=N[De+2],We=V[ye+3],ne=V[ye],j=V[ye+1],ke=V[ye+2],Xe==We&&le==ne&&se==j&&Ee==ke?(V[ye]=0,V[ye+1]=0,V[ye+2]=0,V[ye+3]=0):(V[ye]=le,V[ye+1]=se,V[ye+2]=Ee,V[ye+3]=Xe);else if(Be==3){if(Xe=N[De+3],le=N[De],se=N[De+1],Ee=N[De+2],We=V[ye+3],ne=V[ye],j=V[ye+1],ke=V[ye+2],Xe==We&&le==ne&&se==j&&Ee==ke)continue;if(Xe<220&&We>20)return!1}return!0}return{decode:function(H){const I=new Uint8Array(H);let V=8;const J=f,q=J.readUshort,$e=J.readUint,me={tabs:{},frames:[]},Be=new Uint8Array(I.length);let ie,he=0,De=0;const ye=[137,80,78,71,13,10,26,10];for(var Xe=0;Xe<8;Xe++)if(I[Xe]!=ye[Xe])throw"The input is not a PNG file!";for(;V<I.length;){const rt=J.readUint(I,V);V+=4;const ce=J.readASCII(I,V,4);if(V+=4,ce=="IHDR")M(I,V,me);else if(ce=="iCCP"){for(var le=V;I[le]!=0;)le++;J.readASCII(I,V,le-V),I[le+1];const be=I.slice(le+2,V+rt);let st=null;try{st=b(be)}catch{st=_(be)}me.tabs[ce]=st}else if(ce=="CgBI")me.tabs[ce]=I.slice(V,V+4);else if(ce=="IDAT"){for(Xe=0;Xe<rt;Xe++)Be[he+Xe]=I[V+Xe];he+=rt}else if(ce=="acTL")me.tabs[ce]={num_frames:$e(I,V),num_plays:$e(I,V+4)},ie=new Uint8Array(I.length);else if(ce=="fcTL"){De!=0&&((ke=me.frames[me.frames.length-1]).data=y(me,ie.slice(0,De),ke.rect.width,ke.rect.height),De=0);const be={x:$e(I,V+12),y:$e(I,V+16),width:$e(I,V+4),height:$e(I,V+8)};let st=q(I,V+22);st=q(I,V+20)/(st==0?100:st);const B={rect:be,delay:Math.round(1e3*st),dispose:I[V+24],blend:I[V+25]};me.frames.push(B)}else if(ce=="fdAT"){for(Xe=0;Xe<rt-4;Xe++)ie[De+Xe]=I[V+Xe+4];De+=rt-4}else if(ce=="pHYs")me.tabs[ce]=[J.readUint(I,V),J.readUint(I,V+4),I[V+8]];else if(ce=="cHRM")for(me.tabs[ce]=[],Xe=0;Xe<8;Xe++)me.tabs[ce].push(J.readUint(I,V+4*Xe));else if(ce=="tEXt"||ce=="zTXt"){me.tabs[ce]==null&&(me.tabs[ce]={});var se=J.nextZero(I,V),Ee=J.readASCII(I,V,se-V),We=V+rt-se-1;if(ce=="tEXt")j=J.readASCII(I,se+1,We);else{var ne=b(I.slice(se+2,se+2+We));j=J.readUTF8(ne,0,ne.length)}me.tabs[ce][Ee]=j}else if(ce=="iTXt"){me.tabs[ce]==null&&(me.tabs[ce]={}),se=0,le=V,se=J.nextZero(I,le),Ee=J.readASCII(I,le,se-le);const be=I[le=se+1];var j;I[le+1],le+=2,se=J.nextZero(I,le),J.readASCII(I,le,se-le),le=se+1,se=J.nextZero(I,le),J.readUTF8(I,le,se-le),We=rt-((le=se+1)-V),be==0?j=J.readUTF8(I,le,We):(ne=b(I.slice(le,le+We)),j=J.readUTF8(ne,0,ne.length)),me.tabs[ce][Ee]=j}else if(ce=="PLTE")me.tabs[ce]=J.readBytes(I,V,rt);else if(ce=="hIST"){const be=me.tabs.PLTE.length/3;for(me.tabs[ce]=[],Xe=0;Xe<be;Xe++)me.tabs[ce].push(q(I,V+2*Xe))}else if(ce=="tRNS")me.ctype==3?me.tabs[ce]=J.readBytes(I,V,rt):me.ctype==0?me.tabs[ce]=q(I,V):me.ctype==2&&(me.tabs[ce]=[q(I,V),q(I,V+2),q(I,V+4)]);else if(ce=="gAMA")me.tabs[ce]=J.readUint(I,V)/1e5;else if(ce=="sRGB")me.tabs[ce]=I[V];else if(ce=="bKGD")me.ctype==0||me.ctype==4?me.tabs[ce]=[q(I,V)]:me.ctype==2||me.ctype==6?me.tabs[ce]=[q(I,V),q(I,V+2),q(I,V+4)]:me.ctype==3&&(me.tabs[ce]=I[V]);else if(ce=="IEND")break;V+=rt,J.readUint(I,V),V+=4}var ke;return De!=0&&((ke=me.frames[me.frames.length-1]).data=y(me,ie.slice(0,De),ke.rect.width,ke.rect.height)),me.data=y(me,Be,me.width,me.height),delete me.compress,delete me.interlace,delete me.filter,me},toRGBA8:function(H){const I=H.width,V=H.height;if(H.tabs.acTL==null)return[m(H.data,I,V,H).buffer];const J=[];H.frames[0].data==null&&(H.frames[0].data=H.data);const q=I*V*4,$e=new Uint8Array(q),me=new Uint8Array(q),Be=new Uint8Array(q);for(let he=0;he<H.frames.length;he++){const De=H.frames[he],ye=De.rect.x,Xe=De.rect.y,le=De.rect.width,se=De.rect.height,Ee=m(De.data,le,se,H);if(he!=0)for(var ie=0;ie<q;ie++)Be[ie]=$e[ie];if(De.blend==0?W(Ee,le,se,$e,I,V,ye,Xe,0):De.blend==1&&W(Ee,le,se,$e,I,V,ye,Xe,1),J.push($e.buffer.slice(0)),De.dispose!=0){if(De.dispose==1)W(me,le,se,$e,I,V,ye,Xe,0);else if(De.dispose==2)for(ie=0;ie<q;ie++)$e[ie]=Be[ie]}}return J},_paeth:D,_copyTile:W,_bin:f}}();(function(){const{_copyTile:f}=Vm,{_bin:m}=Vm,y=Vm._paeth;var b={table:function(){const le=new Uint32Array(256);for(let se=0;se<256;se++){let Ee=se;for(let We=0;We<8;We++)1&Ee?Ee=3988292384^Ee>>>1:Ee>>>=1;le[se]=Ee}return le}(),update(le,se,Ee,We){for(let ne=0;ne<We;ne++)le=b.table[255&(le^se[Ee+ne])]^le>>>8;return le},crc:(le,se,Ee)=>4294967295^b.update(4294967295,le,se,Ee)};function _(le,se,Ee,We){se[Ee]+=le[0]*We>>4,se[Ee+1]+=le[1]*We>>4,se[Ee+2]+=le[2]*We>>4,se[Ee+3]+=le[3]*We>>4}function x(le){return Math.max(0,Math.min(255,le))}function T(le,se){const Ee=le[0]-se[0],We=le[1]-se[1],ne=le[2]-se[2],j=le[3]-se[3];return Ee*Ee+We*We+ne*ne+j*j}function D(le,se,Ee,We,ne,j,ke){ke==null&&(ke=1);const rt=We.length,ce=[];for(var be=0;be<rt;be++){const ct=We[be];ce.push([ct>>>0&255,ct>>>8&255,ct>>>16&255,ct>>>24&255])}for(be=0;be<rt;be++){let ct=4294967295;for(var st=0,B=0;B<rt;B++){var kt=T(ce[be],ce[B]);B!=be&&kt<ct&&(ct=kt,st=B)}}const ot=new Uint32Array(ne.buffer),it=new Int16Array(se*Ee*4),An=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(be=0;be<An.length;be++)An[be]=255*((An[be]+.5)/16-.5);for(let ct=0;ct<Ee;ct++)for(let _n=0;_n<se;_n++){var cn;be=4*(ct*se+_n),ke!=2?cn=[x(le[be]+it[be]),x(le[be+1]+it[be+1]),x(le[be+2]+it[be+2]),x(le[be+3]+it[be+3])]:(kt=An[4*(3&ct)+(3&_n)],cn=[x(le[be]+kt),x(le[be+1]+kt),x(le[be+2]+kt),x(le[be+3]+kt)]),st=0;let te=16777215;for(B=0;B<rt;B++){const pt=T(cn,ce[B]);pt<te&&(te=pt,st=B)}const fn=ce[st],Ue=[cn[0]-fn[0],cn[1]-fn[1],cn[2]-fn[2],cn[3]-fn[3]];ke==1&&(_n!=se-1&&_(Ue,it,be+4,7),ct!=Ee-1&&(_n!=0&&_(Ue,it,be+4*se-4,3),_(Ue,it,be+4*se,5),_n!=se-1&&_(Ue,it,be+4*se+4,1))),j[be>>2]=st,ot[be>>2]=We[st]}}function M(le,se,Ee,We,ne){ne==null&&(ne={});const{crc:j}=b,ke=m.writeUint,rt=m.writeUshort,ce=m.writeASCII;let be=8;const st=le.frames.length>1;let B,kt=!1,ot=33+(st?20:0);if(ne.sRGB!=null&&(ot+=13),ne.pHYs!=null&&(ot+=21),ne.iCCP!=null&&(B=pako.deflate(ne.iCCP),ot+=21+B.length+4),le.ctype==3){for(var it=le.plte.length,An=0;An<it;An++)le.plte[An]>>>24!=255&&(kt=!0);ot+=8+3*it+4+(kt?8+1*it+4:0)}for(var cn=0;cn<le.frames.length;cn++)st&&(ot+=38),ot+=(fn=le.frames[cn]).cimg.length+12,cn!=0&&(ot+=4);ot+=12;const ct=new Uint8Array(ot),_n=[137,80,78,71,13,10,26,10];for(An=0;An<8;An++)ct[An]=_n[An];if(ke(ct,be,13),be+=4,ce(ct,be,"IHDR"),be+=4,ke(ct,be,se),be+=4,ke(ct,be,Ee),be+=4,ct[be]=le.depth,be++,ct[be]=le.ctype,be++,ct[be]=0,be++,ct[be]=0,be++,ct[be]=0,be++,ke(ct,be,j(ct,be-17,17)),be+=4,ne.sRGB!=null&&(ke(ct,be,1),be+=4,ce(ct,be,"sRGB"),be+=4,ct[be]=ne.sRGB,be++,ke(ct,be,j(ct,be-5,5)),be+=4),ne.iCCP!=null){const Ue=13+B.length;ke(ct,be,Ue),be+=4,ce(ct,be,"iCCP"),be+=4,ce(ct,be,"ICC profile"),be+=11,be+=2,ct.set(B,be),be+=B.length,ke(ct,be,j(ct,be-(Ue+4),Ue+4)),be+=4}if(ne.pHYs!=null&&(ke(ct,be,9),be+=4,ce(ct,be,"pHYs"),be+=4,ke(ct,be,ne.pHYs[0]),be+=4,ke(ct,be,ne.pHYs[1]),be+=4,ct[be]=ne.pHYs[2],be++,ke(ct,be,j(ct,be-13,13)),be+=4),st&&(ke(ct,be,8),be+=4,ce(ct,be,"acTL"),be+=4,ke(ct,be,le.frames.length),be+=4,ke(ct,be,ne.loop!=null?ne.loop:0),be+=4,ke(ct,be,j(ct,be-12,12)),be+=4),le.ctype==3){for(ke(ct,be,3*(it=le.plte.length)),be+=4,ce(ct,be,"PLTE"),be+=4,An=0;An<it;An++){const Ue=3*An,pt=le.plte[An],Zn=255&pt,Te=pt>>>8&255,Ae=pt>>>16&255;ct[be+Ue+0]=Zn,ct[be+Ue+1]=Te,ct[be+Ue+2]=Ae}if(be+=3*it,ke(ct,be,j(ct,be-3*it-4,3*it+4)),be+=4,kt){for(ke(ct,be,it),be+=4,ce(ct,be,"tRNS"),be+=4,An=0;An<it;An++)ct[be+An]=le.plte[An]>>>24&255;be+=it,ke(ct,be,j(ct,be-it-4,it+4)),be+=4}}let te=0;for(cn=0;cn<le.frames.length;cn++){var fn=le.frames[cn];st&&(ke(ct,be,26),be+=4,ce(ct,be,"fcTL"),be+=4,ke(ct,be,te++),be+=4,ke(ct,be,fn.rect.width),be+=4,ke(ct,be,fn.rect.height),be+=4,ke(ct,be,fn.rect.x),be+=4,ke(ct,be,fn.rect.y),be+=4,rt(ct,be,We[cn]),be+=2,rt(ct,be,1e3),be+=2,ct[be]=fn.dispose,be++,ct[be]=fn.blend,be++,ke(ct,be,j(ct,be-30,30)),be+=4);const Ue=fn.cimg;ke(ct,be,(it=Ue.length)+(cn==0?0:4)),be+=4;const pt=be;ce(ct,be,cn==0?"IDAT":"fdAT"),be+=4,cn!=0&&(ke(ct,be,te++),be+=4),ct.set(Ue,be),be+=it,ke(ct,be,j(ct,pt,be-pt)),be+=4}return ke(ct,be,0),be+=4,ce(ct,be,"IEND"),be+=4,ke(ct,be,j(ct,be-4,4)),be+=4,ct.buffer}function W(le,se,Ee){for(let We=0;We<le.frames.length;We++){const ne=le.frames[We];ne.rect.width;const j=ne.rect.height,ke=new Uint8Array(j*ne.bpl+j);ne.cimg=V(ne.img,j,ne.bpp,ne.bpl,ke,se,Ee)}}function N(le,se,Ee,We,ne){const j=ne[0],ke=ne[1],rt=ne[2],ce=ne[3],be=ne[4],st=ne[5];let B=6,kt=8,ot=255;for(var it=0;it<le.length;it++){const Le=new Uint8Array(le[it]);for(var An=Le.length,cn=0;cn<An;cn+=4)ot&=Le[cn+3]}const ct=ot!=255,_n=function(bt,Zt,ut,jt,$t,Ft){const rn=[];for(var pn=0;pn<bt.length;pn++){const va=new Uint8Array(bt[pn]),Qr=new Uint32Array(va.buffer);var Yn;let Hr=0,da=0,Ur=Zt,dr=ut,La=jt?1:0;if(pn!=0){const Ji=Ft||jt||pn==1||rn[pn-2].dispose!=0?1:2;let Yl=0,Vr=1e9;for(let wi=0;wi<Ji;wi++){var vr=new Uint8Array(bt[pn-1-wi]);const Zu=new Uint32Array(bt[pn-1-wi]);let Ci=Zt,On=ut,Pr=-1,co=-1;for(let Ju=0;Ju<ut;Ju++)for(let Ir=0;Ir<Zt;Ir++)Qr[ir=Ju*Zt+Ir]!=Zu[ir]&&(Ir<Ci&&(Ci=Ir),Ir>Pr&&(Pr=Ir),Ju<On&&(On=Ju),Ju>co&&(co=Ju));Pr==-1&&(Ci=On=Pr=co=0),$t&&((1&Ci)==1&&Ci--,(1&On)==1&&On--);const lu=(Pr-Ci+1)*(co-On+1);lu<Vr&&(Vr=lu,Yl=wi,Hr=Ci,da=On,Ur=Pr-Ci+1,dr=co-On+1)}vr=new Uint8Array(bt[pn-1-Yl]),Yl==1&&(rn[pn-1].dispose=2),Yn=new Uint8Array(Ur*dr*4),f(vr,Zt,ut,Yn,Ur,dr,-Hr,-da,0),La=f(va,Zt,ut,Yn,Ur,dr,-Hr,-da,3)?1:0,La==1?I(va,Zt,ut,Yn,{x:Hr,y:da,width:Ur,height:dr}):f(va,Zt,ut,Yn,Ur,dr,-Hr,-da,0)}else Yn=va.slice(0);rn.push({rect:{x:Hr,y:da,width:Ur,height:dr},img:Yn,blend:La,dispose:0})}if(jt)for(pn=0;pn<rn.length;pn++){if((ua=rn[pn]).blend==1)continue;const va=ua.rect,Qr=rn[pn-1].rect,Hr=Math.min(va.x,Qr.x),da=Math.min(va.y,Qr.y),Ur={x:Hr,y:da,width:Math.max(va.x+va.width,Qr.x+Qr.width)-Hr,height:Math.max(va.y+va.height,Qr.y+Qr.height)-da};rn[pn-1].dispose=1,pn-1!=0&&H(bt,Zt,ut,rn,pn-1,Ur,$t),H(bt,Zt,ut,rn,pn,Ur,$t)}let qr=0;if(bt.length!=1)for(var ir=0;ir<rn.length;ir++){var ua;qr+=(ua=rn[ir]).rect.width*ua.rect.height}return rn}(le,se,Ee,j,ke,rt),te={},fn=[],Ue=[];if(We!=0){const Le=[];for(cn=0;cn<_n.length;cn++)Le.push(_n[cn].img.buffer);const bt=function($t){let Ft=0;for(var rn=0;rn<$t.length;rn++)Ft+=$t[rn].byteLength;const pn=new Uint8Array(Ft);let Yn=0;for(rn=0;rn<$t.length;rn++){const vr=new Uint8Array($t[rn]),qr=vr.length;for(let ir=0;ir<qr;ir+=4){let ua=vr[ir],va=vr[ir+1],Qr=vr[ir+2];const Hr=vr[ir+3];Hr==0&&(ua=va=Qr=0),pn[Yn+ir]=ua,pn[Yn+ir+1]=va,pn[Yn+ir+2]=Qr,pn[Yn+ir+3]=Hr}Yn+=qr}return pn.buffer}(Le),Zt=q(bt,We);for(cn=0;cn<Zt.plte.length;cn++)fn.push(Zt.plte[cn].est.rgba);let ut=0;for(cn=0;cn<_n.length;cn++){const jt=(Zn=_n[cn]).img.length;var pt=new Uint8Array(Zt.inds.buffer,ut>>2,jt>>2);Ue.push(pt);const $t=new Uint8Array(Zt.abuf,ut,jt);st&&D(Zn.img,Zn.rect.width,Zn.rect.height,fn,$t,pt),Zn.img.set($t),ut+=jt}}else for(it=0;it<_n.length;it++){var Zn=_n[it];const Le=new Uint32Array(Zn.img.buffer);var Te=Zn.rect.width;for(An=Le.length,pt=new Uint8Array(An),Ue.push(pt),cn=0;cn<An;cn++){const bt=Le[cn];if(cn!=0&&bt==Le[cn-1])pt[cn]=pt[cn-1];else if(cn>Te&&bt==Le[cn-Te])pt[cn]=pt[cn-Te];else{let Zt=te[bt];if(Zt==null&&(te[bt]=Zt=fn.length,fn.push(bt),fn.length>=300))break;pt[cn]=Zt}}}const Ae=fn.length;for(Ae<=256&&be==0&&(kt=Ae<=2?1:Ae<=4?2:Ae<=16?4:8,kt=Math.max(kt,ce)),it=0;it<_n.length;it++){(Zn=_n[it]).rect.x,Zn.rect.y,Te=Zn.rect.width;const Le=Zn.rect.height;let bt=Zn.img;new Uint32Array(bt.buffer);let Zt=4*Te,ut=4;if(Ae<=256&&be==0){Zt=Math.ceil(kt*Te/8);var Je=new Uint8Array(Zt*Le);const jt=Ue[it];for(let $t=0;$t<Le;$t++){cn=$t*Zt;const Ft=$t*Te;if(kt==8)for(var et=0;et<Te;et++)Je[cn+et]=jt[Ft+et];else if(kt==4)for(et=0;et<Te;et++)Je[cn+(et>>1)]|=jt[Ft+et]<<4-4*(1&et);else if(kt==2)for(et=0;et<Te;et++)Je[cn+(et>>2)]|=jt[Ft+et]<<6-2*(3&et);else if(kt==1)for(et=0;et<Te;et++)Je[cn+(et>>3)]|=jt[Ft+et]<<7-1*(7&et)}bt=Je,B=3,ut=1}else if(ct==0&&_n.length==1){Je=new Uint8Array(Te*Le*3);const jt=Te*Le;for(cn=0;cn<jt;cn++){const $t=3*cn,Ft=4*cn;Je[$t]=bt[Ft],Je[$t+1]=bt[Ft+1],Je[$t+2]=bt[Ft+2]}bt=Je,B=2,ut=3,Zt=3*Te}Zn.img=bt,Zn.bpl=Zt,Zn.bpp=ut}return{ctype:B,depth:kt,plte:fn,frames:_n}}function H(le,se,Ee,We,ne,j,ke){const rt=Uint8Array,ce=Uint32Array,be=new rt(le[ne-1]),st=new ce(le[ne-1]),B=ne+1<le.length?new rt(le[ne+1]):null,kt=new rt(le[ne]),ot=new ce(kt.buffer);let it=se,An=Ee,cn=-1,ct=-1;for(let te=0;te<j.height;te++)for(let fn=0;fn<j.width;fn++){const Ue=j.x+fn,pt=j.y+te,Zn=pt*se+Ue,Te=ot[Zn];Te==0||We[ne-1].dispose==0&&st[Zn]==Te&&(B==null||B[4*Zn+3]!=0)||(Ue<it&&(it=Ue),Ue>cn&&(cn=Ue),pt<An&&(An=pt),pt>ct&&(ct=pt))}cn==-1&&(it=An=cn=ct=0),ke&&((1&it)==1&&it--,(1&An)==1&&An--),j={x:it,y:An,width:cn-it+1,height:ct-An+1};const _n=We[ne];_n.rect=j,_n.blend=1,_n.img=new Uint8Array(j.width*j.height*4),We[ne-1].dispose==0?(f(be,se,Ee,_n.img,j.width,j.height,-j.x,-j.y,0),I(kt,se,Ee,_n.img,j)):f(kt,se,Ee,_n.img,j.width,j.height,-j.x,-j.y,0)}function I(le,se,Ee,We,ne){f(le,se,Ee,We,ne.width,ne.height,-ne.x,-ne.y,2)}function V(le,se,Ee,We,ne,j,ke){const rt=[];let ce,be=[0,1,2,3,4];j!=-1?be=[j]:(se*We>5e5||Ee==1)&&(be=[0]),ke&&(ce={level:0});const st=aoe;for(var B=0;B<be.length;B++){for(let it=0;it<se;it++)J(ne,le,it,We,Ee,be[B]);rt.push(st.deflate(ne,ce))}let kt,ot=1e9;for(B=0;B<rt.length;B++)rt[B].length<ot&&(kt=B,ot=rt[B].length);return rt[kt]}function J(le,se,Ee,We,ne,j){const ke=Ee*We;let rt=ke+Ee;if(le[rt]=j,rt++,j==0)if(We<500)for(var ce=0;ce<We;ce++)le[rt+ce]=se[ke+ce];else le.set(new Uint8Array(se.buffer,ke,We),rt);else if(j==1){for(ce=0;ce<ne;ce++)le[rt+ce]=se[ke+ce];for(ce=ne;ce<We;ce++)le[rt+ce]=se[ke+ce]-se[ke+ce-ne]+256&255}else if(Ee==0){for(ce=0;ce<ne;ce++)le[rt+ce]=se[ke+ce];if(j==2)for(ce=ne;ce<We;ce++)le[rt+ce]=se[ke+ce];if(j==3)for(ce=ne;ce<We;ce++)le[rt+ce]=se[ke+ce]-(se[ke+ce-ne]>>1)+256&255;if(j==4)for(ce=ne;ce<We;ce++)le[rt+ce]=se[ke+ce]-y(se[ke+ce-ne],0,0)+256&255}else{if(j==2)for(ce=0;ce<We;ce++)le[rt+ce]=se[ke+ce]+256-se[ke+ce-We]&255;if(j==3){for(ce=0;ce<ne;ce++)le[rt+ce]=se[ke+ce]+256-(se[ke+ce-We]>>1)&255;for(ce=ne;ce<We;ce++)le[rt+ce]=se[ke+ce]+256-(se[ke+ce-We]+se[ke+ce-ne]>>1)&255}if(j==4){for(ce=0;ce<ne;ce++)le[rt+ce]=se[ke+ce]+256-y(0,se[ke+ce-We],0)&255;for(ce=ne;ce<We;ce++)le[rt+ce]=se[ke+ce]+256-y(se[ke+ce-ne],se[ke+ce-We],se[ke+ce-ne-We])&255}}}function q(le,se){const Ee=new Uint8Array(le),We=Ee.slice(0),ne=new Uint32Array(We.buffer),j=$e(We,se),ke=j[0],rt=j[1],ce=Ee.length,be=new Uint8Array(ce>>2);let st;if(Ee.length<2e7)for(var B=0;B<ce;B+=4)st=me(ke,kt=Ee[B]*(1/255),ot=Ee[B+1]*(1/255),it=Ee[B+2]*(1/255),An=Ee[B+3]*(1/255)),be[B>>2]=st.ind,ne[B>>2]=st.est.rgba;else for(B=0;B<ce;B+=4){var kt=Ee[B]*.00392156862745098,ot=Ee[B+1]*(1/255),it=Ee[B+2]*(1/255),An=Ee[B+3]*(1/255);for(st=ke;st.left;)st=Be(st.est,kt,ot,it,An)<=0?st.left:st.right;be[B>>2]=st.ind,ne[B>>2]=st.est.rgba}return{abuf:We.buffer,inds:be,plte:rt}}function $e(le,se,Ee){Ee==null&&(Ee=1e-4);const We=new Uint32Array(le.buffer),ne={i0:0,i1:le.length,bst:null,est:null,tdst:0,left:null,right:null};ne.bst=De(le,ne.i0,ne.i1),ne.est=ye(ne.bst);const j=[ne];for(;j.length<se;){let rt=0,ce=0;for(var ke=0;ke<j.length;ke++)j[ke].est.L>rt&&(rt=j[ke].est.L,ce=ke);if(rt<Ee)break;const be=j[ce],st=ie(le,We,be.i0,be.i1,be.est.e,be.est.eMq255);if(be.i0>=st||be.i1<=st){be.est.L=0;continue}const B={i0:be.i0,i1:st,bst:null,est:null,tdst:0,left:null,right:null};B.bst=De(le,B.i0,B.i1),B.est=ye(B.bst);const kt={i0:st,i1:be.i1,bst:null,est:null,tdst:0,left:null,right:null};for(kt.bst={R:[],m:[],N:be.bst.N-B.bst.N},ke=0;ke<16;ke++)kt.bst.R[ke]=be.bst.R[ke]-B.bst.R[ke];for(ke=0;ke<4;ke++)kt.bst.m[ke]=be.bst.m[ke]-B.bst.m[ke];kt.est=ye(kt.bst),be.left=B,be.right=kt,j[ce]=B,j.push(kt)}for(j.sort((rt,ce)=>ce.bst.N-rt.bst.N),ke=0;ke<j.length;ke++)j[ke].ind=ke;return[ne,j]}function me(le,se,Ee,We,ne){if(le.left==null)return le.tdst=function(B,kt,ot,it,An){const cn=kt-B[0],ct=ot-B[1],_n=it-B[2],te=An-B[3];return cn*cn+ct*ct+_n*_n+te*te}(le.est.q,se,Ee,We,ne),le;const j=Be(le.est,se,Ee,We,ne);let ke=le.left,rt=le.right;j>0&&(ke=le.right,rt=le.left);const ce=me(ke,se,Ee,We,ne);if(ce.tdst<=j*j)return ce;const be=me(rt,se,Ee,We,ne);return be.tdst<ce.tdst?be:ce}function Be(le,se,Ee,We,ne){const{e:j}=le;return j[0]*se+j[1]*Ee+j[2]*We+j[3]*ne-le.eMq}function ie(le,se,Ee,We,ne,j){for(We-=4;Ee<We;){for(;he(le,Ee,ne)<=j;)Ee+=4;for(;he(le,We,ne)>j;)We-=4;if(Ee>=We)break;const ke=se[Ee>>2];se[Ee>>2]=se[We>>2],se[We>>2]=ke,Ee+=4,We-=4}for(;he(le,Ee,ne)>j;)Ee-=4;return Ee+4}function he(le,se,Ee){return le[se]*Ee[0]+le[se+1]*Ee[1]+le[se+2]*Ee[2]+le[se+3]*Ee[3]}function De(le,se,Ee){const We=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ne=[0,0,0,0],j=Ee-se>>2;for(let ke=se;ke<Ee;ke+=4){const rt=le[ke]*.00392156862745098,ce=le[ke+1]*(1/255),be=le[ke+2]*(1/255),st=le[ke+3]*(1/255);ne[0]+=rt,ne[1]+=ce,ne[2]+=be,ne[3]+=st,We[0]+=rt*rt,We[1]+=rt*ce,We[2]+=rt*be,We[3]+=rt*st,We[5]+=ce*ce,We[6]+=ce*be,We[7]+=ce*st,We[10]+=be*be,We[11]+=be*st,We[15]+=st*st}return We[4]=We[1],We[8]=We[2],We[9]=We[6],We[12]=We[3],We[13]=We[7],We[14]=We[11],{R:We,m:ne,N:j}}function ye(le){const{R:se}=le,{m:Ee}=le,{N:We}=le,ne=Ee[0],j=Ee[1],ke=Ee[2],rt=Ee[3],ce=We==0?0:1/We,be=[se[0]-ne*ne*ce,se[1]-ne*j*ce,se[2]-ne*ke*ce,se[3]-ne*rt*ce,se[4]-j*ne*ce,se[5]-j*j*ce,se[6]-j*ke*ce,se[7]-j*rt*ce,se[8]-ke*ne*ce,se[9]-ke*j*ce,se[10]-ke*ke*ce,se[11]-ke*rt*ce,se[12]-rt*ne*ce,se[13]-rt*j*ce,se[14]-rt*ke*ce,se[15]-rt*rt*ce],st=be,B=Xe;let kt=[Math.random(),Math.random(),Math.random(),Math.random()],ot=0,it=0;if(We!=0)for(let cn=0;cn<16&&(kt=B.multVec(st,kt),it=Math.sqrt(B.dot(kt,kt)),kt=B.sml(1/it,kt),!(cn!=0&&Math.abs(it-ot)<1e-9));cn++)ot=it;const An=[ne*ce,j*ce,ke*ce,rt*ce];return{Cov:be,q:An,e:kt,L:ot,eMq255:B.dot(B.sml(255,An),kt),eMq:B.dot(kt,An),rgba:(Math.round(255*An[3])<<24|Math.round(255*An[2])<<16|Math.round(255*An[1])<<8|Math.round(255*An[0])<<0)>>>0}}var Xe={multVec:(le,se)=>[le[0]*se[0]+le[1]*se[1]+le[2]*se[2]+le[3]*se[3],le[4]*se[0]+le[5]*se[1]+le[6]*se[2]+le[7]*se[3],le[8]*se[0]+le[9]*se[1]+le[10]*se[2]+le[11]*se[3],le[12]*se[0]+le[13]*se[1]+le[14]*se[2]+le[15]*se[3]],dot:(le,se)=>le[0]*se[0]+le[1]*se[1]+le[2]*se[2]+le[3]*se[3],sml:(le,se)=>[le*se[0],le*se[1],le*se[2],le*se[3]]};Vm.encode=function(se,Ee,We,ne,j,ke,rt){ne==null&&(ne=0),rt==null&&(rt=!1);const ce=N(se,Ee,We,ne,[!1,!1,!1,0,rt,!1]);return W(ce,-1),M(ce,Ee,We,j,ke)},Vm.encodeLL=function(se,Ee,We,ne,j,ke,rt,ce){const be={ctype:0+(ne==1?0:2)+(j==0?0:4),depth:ke,frames:[]},st=(ne+j)*ke,B=st*Ee;for(let kt=0;kt<se.length;kt++)be.frames.push({rect:{x:0,y:0,width:Ee,height:We},img:new Uint8Array(se[kt]),blend:0,dispose:1,bpp:Math.ceil(st/8),bpl:Math.ceil(B/8)});return W(be,0,!0),M(be,Ee,We,rt,ce)},Vm.encode.compress=N,Vm.encode.dither=D,Vm.quantize=q,Vm.quantize.getKDtree=$e,Vm.quantize.getNearest=me})();const oG={toArrayBuffer(f,m){const y=f.width,b=f.height,_=y<<2,x=f.getContext("2d").getImageData(0,0,y,b),T=new Uint32Array(x.data.buffer),D=(32*y+31)/32<<2,M=D*b,W=122+M,N=new ArrayBuffer(W),H=new DataView(N),I=1<<20;let V,J,q,$e,me=I,Be=0,ie=0,he=0;function De(le){H.setUint16(ie,le,!0),ie+=2}function ye(le){H.setUint32(ie,le,!0),ie+=4}function Xe(le){ie+=le}De(19778),ye(W),Xe(4),ye(122),ye(108),ye(y),ye(-b>>>0),De(1),De(32),ye(3),ye(M),ye(2835),ye(2835),Xe(8),ye(16711680),ye(65280),ye(255),ye(4278190080),ye(1466527264),function le(){for(;Be<b&&me>0;){for($e=122+Be*D,V=0;V<_;)me--,J=T[he++],q=J>>>24,H.setUint32($e+V,J<<8|q),V+=4;Be++}he<T.length?(me=I,setTimeout(le,oG._dly)):m(N)}()},toBlob(f,m){this.toArrayBuffer(f,y=>{m(new Blob([y],{type:"image/bmp"}))})},_dly:9};var Tf={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ooe={[Tf.CHROME]:16384,[Tf.FIREFOX]:11180,[Tf.DESKTOP_SAFARI]:16384,[Tf.IE]:8192,[Tf.IOS]:4096,[Tf.ETC]:8192};const a9=typeof window<"u",iG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,D6=a9&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ioe=(a9||iG)&&(D6&&D6.getOriginalSymbol(window,"File")||typeof File<"u"&&File),uG=(a9||iG)&&(D6&&D6.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function o9(f,m,y=Date.now()){return new Promise(b=>{const _=f.split(","),x=_[0].match(/:(.*?);/)[1],T=globalThis.atob(_[1]);let D=T.length;const M=new Uint8Array(D);for(;D--;)M[D]=T.charCodeAt(D);const W=new Blob([M],{type:x});W.name=m,W.lastModified=y,b(W)})}function sG(f){return new Promise((m,y)=>{const b=new uG;b.onload=()=>m(b.result),b.onerror=_=>y(_),b.readAsDataURL(f)})}function lG(f){return new Promise((m,y)=>{const b=new Image;b.onload=()=>m(b),b.onerror=_=>y(_),b.src=f})}function F_(){if(F_.cachedResult!==void 0)return F_.cachedResult;let f=Tf.ETC;const{userAgent:m}=navigator;return/Chrom(e|ium)/i.test(m)?f=Tf.CHROME:/iP(ad|od|hone)/i.test(m)&&/WebKit/i.test(m)?f=Tf.IOS:/Safari/i.test(m)?f=Tf.DESKTOP_SAFARI:/Firefox/i.test(m)?f=Tf.FIREFOX:(/MSIE/i.test(m)||document.documentMode)&&(f=Tf.IE),F_.cachedResult=f,F_.cachedResult}function cG(f,m){const y=F_(),b=ooe[y];let _=f,x=m,T=_*x;const D=_>x?x/_:_/x;for(;T>b*b;){const M=(b+_)/2,W=(b+x)/2;M<W?(x=W,_=W*D):(x=M*D,_=M),T=_*x}return{width:_,height:x}}function r8(f,m){let y,b;try{if(y=new OffscreenCanvas(f,m),b=y.getContext("2d"),b===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{y=document.createElement("canvas"),b=y.getContext("2d")}return y.width=f,y.height=m,[y,b]}function fG(f,m){const{width:y,height:b}=cG(f.width,f.height),[_,x]=r8(y,b);return m&&/jpe?g/.test(m)&&(x.fillStyle="white",x.fillRect(0,0,_.width,_.height)),x.drawImage(f,0,0,_.width,_.height),_}function p6(){return p6.cachedResult!==void 0||(p6.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),p6.cachedResult}function R6(f,m={}){return new Promise(function(y,b){let _,x;var T=function(){try{return x=fG(_,m.fileType||f.type),y([_,x])}catch(M){return b(M)}},D=function(M){try{var W=function(N){try{throw N}catch(H){return b(H)}};try{let N;return sG(f).then(function(H){try{return N=H,lG(N).then(function(I){try{return _=I,function(){try{return T()}catch(V){return b(V)}}()}catch(V){return W(V)}},W)}catch(I){return W(I)}},W)}catch(N){W(N)}}catch(N){return b(N)}};try{if(p6()||[Tf.DESKTOP_SAFARI,Tf.MOBILE_SAFARI].includes(F_()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(f).then(function(M){try{return _=M,T()}catch{return D()}},D)}catch{D()}})}function $6(f,m,y,b,_=1){return new Promise(function(x,T){let D;if(m==="image/png"){let H,I,V;return H=f.getContext("2d"),{data:I}=H.getImageData(0,0,f.width,f.height),V=Vm.encode([I.buffer],f.width,f.height,4096*_),D=new Blob([V],{type:m}),D.name=y,D.lastModified=b,M.call(this)}{let H=function(){return M.call(this)};var W=H;if(m==="image/bmp")return new Promise(I=>oG.toBlob(f,I)).then((function(I){try{return D=I,D.name=y,D.lastModified=b,H.call(this)}catch(V){return T(V)}}).bind(this),T);{let I=function(){return H.call(this)};var N=I;if(typeof OffscreenCanvas=="function"&&f instanceof OffscreenCanvas)return f.convertToBlob({type:m,quality:_}).then((function(V){try{return D=V,D.name=y,D.lastModified=b,I.call(this)}catch(J){return T(J)}}).bind(this),T);{let V;return V=f.toDataURL(m,_),o9(V,y,b).then((function(J){try{return D=J,I.call(this)}catch(q){return T(q)}}).bind(this),T)}}}function M(){return x(D)}})}function up(f){f.width=0,f.height=0}function oA(){return new Promise(function(f,m){let y,b,_,x;return oA.cachedResult!==void 0?f(oA.cachedResult):o9("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(T){try{return y=T,R6(y).then(function(D){try{return b=D[1],$6(b,y.type,y.name,y.lastModified).then(function(M){try{return _=M,up(b),R6(_).then(function(W){try{return x=W[0],oA.cachedResult=x.width===1&&x.height===2,f(oA.cachedResult)}catch(N){return m(N)}},m)}catch(W){return m(W)}},m)}catch(M){return m(M)}},m)}catch(D){return m(D)}},m)})}function vG(f){return new Promise((m,y)=>{const b=new uG;b.onload=_=>{const x=new DataView(_.target.result);if(x.getUint16(0,!1)!=65496)return m(-2);const T=x.byteLength;let D=2;for(;D<T;){if(x.getUint16(D+2,!1)<=8)return m(-1);const M=x.getUint16(D,!1);if(D+=2,M==65505){if(x.getUint32(D+=2,!1)!=1165519206)return m(-1);const W=x.getUint16(D+=6,!1)==18761;D+=x.getUint32(D+4,W);const N=x.getUint16(D,W);D+=2;for(let H=0;H<N;H++)if(x.getUint16(D+12*H,W)==274)return m(x.getUint16(D+12*H+8,W))}else{if((65280&M)!=65280)break;D+=x.getUint16(D,!1)}}return m(-1)},b.onerror=_=>y(_),b.readAsArrayBuffer(f)})}function dG(f,m){const{width:y}=f,{height:b}=f,{maxWidthOrHeight:_}=m;let x,T=f;return isFinite(_)&&(y>_||b>_)&&([T,x]=r8(y,b),y>b?(T.width=_,T.height=b/y*_):(T.width=y/b*_,T.height=_),x.drawImage(f,0,0,T.width,T.height),up(f)),T}function mG(f,m){const{width:y}=f,{height:b}=f,[_,x]=r8(y,b);switch(m>4&&m<9?(_.width=b,_.height=y):(_.width=y,_.height=b),m){case 2:x.transform(-1,0,0,1,y,0);break;case 3:x.transform(-1,0,0,-1,y,b);break;case 4:x.transform(1,0,0,-1,0,b);break;case 5:x.transform(0,1,1,0,0,0);break;case 6:x.transform(0,1,-1,0,b,0);break;case 7:x.transform(0,-1,-1,0,b,y);break;case 8:x.transform(0,-1,1,0,0,y)}return x.drawImage(f,0,0,y,b),up(f),_}function AW(f,m,y=0){return new Promise(function(b,_){let x,T,D,M,W,N,H,I,V,J,q,$e,me,Be,ie,he,De,ye,Xe,le;function se(We=5){if(m.signal&&m.signal.aborted)throw m.signal.reason;x+=We,m.onProgress(Math.min(x,100))}function Ee(We){if(m.signal&&m.signal.aborted)throw m.signal.reason;x=Math.min(Math.max(We,x),100),m.onProgress(x)}return x=y,T=m.maxIteration||10,D=1024*m.maxSizeMB*1024,se(),R6(f,m).then((function(We){try{return[,M]=We,se(),W=dG(M,m),se(),new Promise(function(ne,j){var ke;if(!(ke=m.exifOrientation))return vG(f).then((function(ce){try{return ke=ce,rt.call(this)}catch(be){return j(be)}}).bind(this),j);function rt(){return ne(ke)}return rt.call(this)}).then((function(ne){try{return N=ne,se(),oA().then((function(j){try{return H=j?W:mG(W,N),se(),I=m.initialQuality||1,V=m.fileType||f.type,$6(H,V,f.name,f.lastModified,I).then((function(ke){try{{let st=function(){if(T--&&(ie>D||ie>me)){let kt,ot;return kt=le?.95*Xe.width:Xe.width,ot=le?.95*Xe.height:Xe.height,[De,ye]=r8(kt,ot),ye.drawImage(Xe,0,0,kt,ot),I*=V==="image/png"?.85:.95,$6(De,V,f.name,f.lastModified,I).then(function(it){try{return he=it,up(Xe),Xe=De,ie=he.size,Ee(Math.min(99,Math.floor((Be-ie)/(Be-D)*100))),st}catch(An){return _(An)}},_)}return[1]},B=function(){return up(Xe),up(De),up(W),up(H),up(M),Ee(100),b(he)};var ce=st,be=B;if(J=ke,se(),q=J.size>D,$e=J.size>f.size,!q&&!$e)return Ee(100),b(J);var rt;return me=f.size,Be=J.size,ie=Be,Xe=H,le=!m.alwaysKeepResolution&&q,(rt=(function(kt){for(;kt;){if(kt.then)return void kt.then(rt,_);try{if(kt.pop){if(kt.length)return kt.pop()?B.call(this):kt;kt=st}else kt=kt.call(this)}catch(ot){return _(ot)}}}).bind(this))(st)}}catch(st){return _(st)}}).bind(this),_)}catch(ke){return _(ke)}}).bind(this),_)}catch(j){return _(j)}}).bind(this),_)}catch(ne){return _(ne)}}).bind(this),_)})}const uoe=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let cH;function soe(f,m){return new Promise((y,b)=>{cH||(cH=function(T){const D=[];return typeof T=="function"?D.push(`(${T})()`):D.push(T),URL.createObjectURL(new Blob(D))}(uoe));const _=new Worker(cH);_.addEventListener("message",function(T){if(m.signal&&m.signal.aborted)_.terminate();else if(T.data.progress===void 0){if(T.data.error)return b(new Error(T.data.error)),void _.terminate();y(T.data.file),_.terminate()}else m.onProgress(T.data.progress)}),_.addEventListener("error",b),m.signal&&m.signal.addEventListener("abort",()=>{b(m.signal.reason),_.terminate()}),_.postMessage({file:f,imageCompressionLibUrl:m.libURL,options:{...m,onProgress:void 0,signal:void 0}})})}function hl(f,m){return new Promise(function(y,b){let _,x,T,D,M,W;if(_={...m},T=0,{onProgress:D}=_,_.maxSizeMB=_.maxSizeMB||Number.POSITIVE_INFINITY,M=typeof _.useWebWorker!="boolean"||_.useWebWorker,delete _.useWebWorker,_.onProgress=V=>{T=V,typeof D=="function"&&D(T)},!(f instanceof Blob||f instanceof ioe))return b(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(f.type))return b(new Error("The file given is not an image"));if(W=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!M||typeof Worker!="function"||W)return AW(f,_).then((function(V){try{return x=V,I.call(this)}catch(J){return b(J)}}).bind(this),b);var N=(function(){try{return I.call(this)}catch(V){return b(V)}}).bind(this),H=function(V){try{return AW(f,_).then(function(J){try{return x=J,N()}catch(q){return b(q)}},b)}catch(J){return b(J)}};try{return _.libURL=_.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",soe(f,_).then(function(V){try{return x=V,N()}catch{return H()}},H)}catch{H()}function I(){try{x.name=f.name,x.lastModified=f.lastModified}catch{}try{_.preserveExif&&f.type==="image/jpeg"&&(!_.fileType||_.fileType&&_.fileType===f.type)&&(x=aG(f,x))}catch{}return y(x)}})}hl.getDataUrlFromFile=sG,hl.getFilefromDataUrl=o9,hl.loadImage=lG,hl.drawImageInCanvas=fG,hl.drawFileInCanvas=R6,hl.canvasToFile=$6,hl.getExifOrientation=vG,hl.handleMaxWidthOrHeight=dG,hl.followExifOrientation=mG,hl.cleanupCanvasMemory=up,hl.isAutoOrientationInBrowser=oA,hl.approximateBelowMaximumCanvasSizeOfBrowser=cG,hl.copyExifWithoutOrientation=aG,hl.getBrowserName=F_,hl.version="2.0.2";const loe="/assets/de-8fcaa96d.svg",coe="/assets/en-4c5edc0c.svg";const foe={class:"languageContainer"},voe={class:"languageIcon"},doe=["src","alt"],moe={class:"languageContainerColumns"},hoe={class:"languageTitle"},tr={__name:"LanguageContainer",props:{lang:{type:String,default:"de"},title:{type:String,required:!0,default:"Keinen Titel angegeben"}},setup(f){const m=f,y={de:loe,en:coe},b=m.lang;return(_,x)=>(Ve(),qe("div",foe,[z("div",voe,[z("img",{src:y[Ra(b)],alt:Ra(b)},null,8,doe)]),z("div",moe,[z("h4",hoe,Kn(f.title),1),pH(_.$slots,"content")])]))}},r2="/assets/close-e7fb7946.svg";var B6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function goe(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var hG={exports:{}};(function(f){(function(){var m=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},y=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},b=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},_=function(e,n){return x(function(a,i){return e.eq(n(a),n(i))})},x=function(e){return{eq:e}},T=x(function(e,n){return e===n}),D=T,M=function(e){return x(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,l=0;l<i;l++)if(!e.eq(n[l],a[l]))return!1;return!0})},W=function(e,n){return _(M(e),function(a){return b(a,n)})},N=function(e){return x(function(n,a){var i=Object.keys(n),l=Object.keys(a);if(!W(D).eq(i,l))return!1;for(var v=i.length,p=0;p<v;p++){var S=i[p];if(!e.eq(n[S],a[S]))return!1}return!0})},H=x(function(e,n){if(e===n)return!0;var a=m(e),i=m(n);return a!==i?!1:y(a)?e===n:a==="array"?M(H).eq(e,n):a==="object"?N(H).eq(e,n):!1}),I=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},V=function(e){return function(n){return I(n)===e}},J=function(e){return function(n){return typeof n===e}},q=function(e){return function(n){return e===n}},$e=V("string"),me=V("object"),Be=V("array"),ie=q(null),he=J("boolean"),De=q(void 0),ye=function(e){return e==null},Xe=function(e){return!ye(e)},le=J("function"),se=J("number"),Ee=function(){},We=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},ne=function(e,n){return function(a){return e(n(a))}},j=function(e){return function(){return e}},ke=function(e){return e},rt=function(e,n){return e===n};function ce(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var v=n.concat(i);return e.apply(null,v)}}var be=function(e){return function(n){return!e(n)}},st=function(e){return function(){throw new Error(e)}},B=function(e){return e()},kt=function(e){e()},ot=j(!1),it=j(!0),An=function(){return cn},cn=function(){var e=function(i){return i()},n=ke,a={fold:function(i,l){return i()},isSome:ot,isNone:it,getOr:n,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:j(null),getOrUndefined:j(void 0),or:n,orThunk:e,map:An,each:Ee,bind:An,exists:ot,forall:it,filter:function(){return An()},toArray:function(){return[]},toString:j("none()")};return a}(),ct=function(e){var n=j(e),a=function(){return l},i=function(v){return v(e)},l={fold:function(v,p){return p(e)},isSome:it,isNone:ot,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(v){return ct(v(e))},each:function(v){v(e)},bind:i,exists:i,forall:i,filter:function(v){return v(e)?l:cn},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return l},_n=function(e){return e==null?cn:ct(e)},te={some:ct,none:An,from:_n},fn=Array.prototype.slice,Ue=Array.prototype.indexOf,pt=Array.prototype.push,Zn=function(e,n){return Ue.call(e,n)},Te=function(e,n){var a=Zn(e,n);return a===-1?te.none():te.some(a)},Ae=function(e,n){return Zn(e,n)>-1},Je=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return!0}return!1},et=function(e,n){for(var a=e.length,i=new Array(a),l=0;l<a;l++){var v=e[l];i[l]=n(v,l)}return i},Le=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];n(l,a)}},bt=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},Zt=function(e,n){for(var a=[],i=[],l=0,v=e.length;l<v;l++){var p=e[l],S=n(p,l)?a:i;S.push(p)}return{pass:a,fail:i}},ut=function(e,n){for(var a=[],i=0,l=e.length;i<l;i++){var v=e[i];n(v,i)&&a.push(v)}return a},jt=function(e,n,a){return bt(e,function(i,l){a=n(a,i,l)}),a},$t=function(e,n,a){return Le(e,function(i,l){a=n(a,i,l)}),a},Ft=function(e,n,a){for(var i=0,l=e.length;i<l;i++){var v=e[i];if(n(v,i))return te.some(v);if(a(v,i))break}return te.none()},rn=function(e,n){return Ft(e,n,ot)},pn=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return te.some(a)}return te.none()},Yn=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!Be(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);pt.apply(n,e[a])}return n},vr=function(e,n){return Yn(et(e,n))},qr=function(e,n){for(var a=0,i=e.length;a<i;++a){var l=e[a];if(n(l,a)!==!0)return!1}return!0},ir=function(e){var n=fn.call(e,0);return n.reverse(),n},ua=function(e,n){return ut(e,function(a){return!Ae(n,a)})},va=function(e,n){for(var a={},i=0,l=e.length;i<l;i++){var v=e[i];a[String(v)]=n(v,i)}return a},Qr=function(e,n){var a=fn.call(e,0);return a.sort(n),a},Hr=function(e,n){return n>=0&&n<e.length?te.some(e[n]):te.none()},da=function(e){return Hr(e,0)},Ur=function(e){return Hr(e,e.length-1)},dr=le(Array.from)?Array.from:function(e){return fn.call(e)},La=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return te.none()},Ji=Object.keys,Yl=Object.hasOwnProperty,Vr=function(e,n){for(var a=Ji(e),i=0,l=a.length;i<l;i++){var v=a[i],p=e[v];n(p,v)}},wi=function(e,n){return Zu(e,function(a,i){return{k:i,v:n(a,i)}})},Zu=function(e,n){var a={};return Vr(e,function(i,l){var v=n(i,l);a[v.k]=v.v}),a},Ci=function(e){return function(n,a){e[a]=n}},On=function(e,n,a,i){var l={};return Vr(e,function(v,p){(n(v,p)?a:i)(v,p)}),l},Pr=function(e,n){var a={},i={};return On(e,n,Ci(a),Ci(i)),{t:a,f:i}},co=function(e,n){var a={};return On(e,n,Ci(a),Ee),a},lu=function(e,n){var a=[];return Vr(e,function(i,l){a.push(n(i,l))}),a},Ju=function(e){return lu(e,ke)},Ir=function(e,n){return Dr(e,n)?te.from(e[n]):te.none()},Dr=function(e,n){return Yl.call(e,n)},Gs=function(e,n){return Dr(e,n)&&e[n]!==void 0&&e[n]!==null},rh=function(e,n,a){return a===void 0&&(a=H),N(a).eq(e,n)},Rf=Array.isArray,qs=function(e){if(Rf(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},Mc=function(e,n,a){var i,l;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(Dr(e,i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},Ov=function(e,n){var a=[];return Mc(e,function(i,l){a.push(n(i,l,e))}),a},yl=function(e,n){var a=[];return Mc(e,function(i,l){(!n||n(i,l,e))&&a.push(i)}),a},wl=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},$f=function(e,n,a,i){for(var l=De(a)?e[0]:a,v=0;v<e.length;v++)l=n.call(i,l,e[v],v);return l},ma=function(e,n,a){var i,l;for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e))return i;return-1},Ks=function(e){return e[e.length-1]},qn=function(){return qn=Object.assign||function(n){for(var a,i=1,l=arguments.length;i<l;i++){a=arguments[i];for(var v in a)Object.prototype.hasOwnProperty.call(a,v)&&(n[v]=a[v])}return n},qn.apply(this,arguments)};function ah(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a}function Ou(e,n,a){if(a||arguments.length===2)for(var i=0,l=n.length,v;i<l;i++)(v||!(i in n))&&(v||(v=Array.prototype.slice.call(n,0,i)),v[i]=n[i]);return e.concat(v||Array.prototype.slice.call(n))}var Pc=function(e){var n=!1,a;return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return n||(n=!0,a=e.apply(null,i)),a}},oh=function(e,n,a,i){var l=e.isiOS()&&/ipad/i.test(a)===!0,v=e.isiOS()&&!l,p=e.isiOS()||e.isAndroid(),S=p||i("(pointer:coarse)"),A=l||!v&&p&&i("(min-device-width:768px)"),F=v||p&&!A,X=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,Z=!F&&!A&&!X;return{isiPad:j(l),isiPhone:j(v),isTablet:j(A),isPhone:j(F),isTouch:j(S),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:j(X),isDesktop:j(Z)}},Zl=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},ih=function(e,n){var a=Zl(e,n);if(!a)return{major:0,minor:0};var i=function(l){return Number(n.replace(a,"$"+l))};return _s(i(1),i(2))},Bf=function(e,n){var a=String(n).toLowerCase();return e.length===0?uh():ih(e,a)},uh=function(){return _s(0,0)},_s=function(e,n){return{major:e,minor:n}},Ic={nu:_s,detect:Bf,unknown:uh},sn=function(e,n){return La(n.brands,function(a){var i=a.brand.toLowerCase();return rn(e,function(l){var v;return i===((v=l.brand)===null||v===void 0?void 0:v.toLowerCase())}).map(function(l){return{current:l.name,version:Ic.nu(parseInt(a.version,10),0)}})})},Bd=function(e,n){var a=String(n).toLowerCase();return rn(e,function(i){return i.search(a)})},Dv=function(e,n){return Bd(e,n).map(function(a){var i=Ic.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Rv=function(e,n){return Bd(e,n).map(function(a){var i=Ic.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Jl=function(e,n){return e.substring(n)},Qu=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},sh=function(e,n){return bo(e,n)?Jl(e,n.length):e},Bo=function(e,n){return e.indexOf(n)!==-1},bo=function(e,n){return Qu(e,n,0)},Du=function(e){return function(n){return n.replace(e,"")}},Xs=Du(/^\s+|\s+$/g),Md=Du(/^\s+/g),es=Du(/\s+$/g),Mf=function(e){return e.length>0},Pd=function(e){return!Mf(e)},Cl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ru=function(e){return function(n){return Bo(n,e)}},en=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Bo(e,"edge/")&&Bo(e,"chrome")&&Bo(e,"safari")&&Bo(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Cl],search:function(e){return Bo(e,"chrome")&&!Bo(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Bo(e,"msie")||Bo(e,"trident")}},{name:"Opera",versionRegexes:[Cl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ru("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ru("firefox")},{name:"Safari",versionRegexes:[Cl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Bo(e,"safari")||Bo(e,"mobile/"))&&Bo(e,"applewebkit")}}],_i=[{name:"Windows",search:Ru("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Bo(e,"iphone")||Bo(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ru("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ru("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ru("linux"),versionRegexes:[]},{name:"Solaris",search:Ru("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ru("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ru("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],_l={browsers:j(en),oses:j(_i)},lh="Edge",Pf="Chrome",ea="IE",$v="Opera",Sl="Firefox",fo="Safari",Bv=function(){return cu({current:void 0,version:Ic.unknown()})},cu=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isEdge:i(lh),isChrome:i(Pf),isIE:i(ea),isOpera:i($v),isFirefox:i(Sl),isSafari:i(fo)}},ts={unknown:Bv,nu:cu,edge:j(lh),chrome:j(Pf),ie:j(ea),opera:j($v),firefox:j(Sl),safari:j(fo)},Ba="Windows",If="iOS",Nf="Android",Mv="Linux",Id="OSX",xl="Solaris",Ys="FreeBSD",Pv="ChromeOS",Ss=function(){return $u({current:void 0,version:Ic.unknown()})},$u=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isWindows:i(Ba),isiOS:i(If),isAndroid:i(Nf),isOSX:i(Id),isLinux:i(Mv),isSolaris:i(xl),isFreeBSD:i(Ys),isChromeOS:i(Pv)}},oe={unknown:Ss,nu:$u,windows:j(Ba),ios:j(If),android:j(Nf),linux:j(Mv),osx:j(Id),solaris:j(xl),freebsd:j(Ys),chromeos:j(Pv)},Ie=function(e,n,a){var i=_l.browsers(),l=_l.oses(),v=n.bind(function(A){return sn(i,A)}).orThunk(function(){return Dv(i,e)}).fold(ts.unknown,ts.nu),p=Rv(l,e).fold(oe.unknown,oe.nu),S=oh(p,v,e,a);return{browser:v,os:p,deviceType:S}},Ze={detect:Ie},Et=function(e){return window.matchMedia(e).matches},qt=Pc(function(){return Ze.detect(navigator.userAgent,te.from(navigator.userAgentData),Et)}),Bn=function(){return qt()},aa=navigator.userAgent,ha=Bn(),Cr=ha.browser,Ha=ha.os,Xa=ha.deviceType,Nc=/WebKit/.test(aa)&&!Cr.isEdge(),Fi="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Ql=aa.indexOf("Windows Phone")!==-1,Wn={opera:Cr.isOpera(),webkit:Nc,ie:Cr.isIE()||Cr.isEdge()?Cr.version.major:!1,gecko:Cr.isFirefox(),mac:Ha.isOSX()||Ha.isiOS(),iOS:Xa.isiPad()||Xa.isiPhone(),android:Ha.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Cr.isIE()?document.documentMode||7:10,fileApi:Fi,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Cr.isIE(),desktop:Xa.isDesktop(),windowsPhone:Ql,browser:{current:Cr.current,version:Cr.version,isChrome:Cr.isChrome,isEdge:Cr.isEdge,isFirefox:Cr.isFirefox,isIE:Cr.isIE,isOpera:Cr.isOpera,isSafari:Cr.isSafari},os:{current:Ha.current,version:Ha.version,isAndroid:Ha.isAndroid,isChromeOS:Ha.isChromeOS,isFreeBSD:Ha.isFreeBSD,isiOS:Ha.isiOS,isLinux:Ha.isLinux,isOSX:Ha.isOSX,isSolaris:Ha.isSolaris,isWindows:Ha.isWindows},deviceType:{isDesktop:Xa.isDesktop,isiPad:Xa.isiPad,isiPhone:Xa.isiPhone,isPhone:Xa.isPhone,isTablet:Xa.isTablet,isTouch:Xa.isTouch,isWebView:Xa.isWebView}},ch=/^\s*|\s*$/g,vp=function(e){return e==null?"":(""+e).replace(ch,"")},ta=function(e,n){return n?n==="array"&&Rf(e)?!0:typeof e===n:e!==void 0},dp=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},fh=Dr,a2=function(e,n,a){var i=this,l,v,p,S=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var A=e[3].match(/(^|\.)(\w+)$/i)[2],F=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!F[A]){if(e[2]==="static"){F[A]=n,this.onCreate&&this.onCreate(e[2],e[3],F[A]);return}n[A]||(n[A]=function(){},S=1),F[A]=n[A],i.extend(F[A].prototype,n),e[5]&&(l=i.resolve(e[5]).prototype,v=e[5].match(/\.(\w+)$/i)[1],p=F[A],S?F[A]=function(){return l[v].apply(this,arguments)}:F[A]=function(){return this.parent=l[v],p.apply(this,arguments)},F[A].prototype[A]=F[A],i.each(l,function(X,Z){F[A].prototype[Z]=l[Z]}),i.each(n,function(X,Z){l[Z]?F[A].prototype[Z]=function(){return this.parent=l[Z],X.apply(this,arguments)}:Z!==A&&(F[A].prototype[Z]=X)})),i.each(n.static,function(X,Z){F[A][Z]=X})}},Sa=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var l=n[i];for(var v in l)if(Dr(l,v)){var p=l[v];p!==void 0&&(e[v]=p)}}return e},Zs=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),Mc(e,function(l,v){if(n.call(i,l,v,a)===!1)return!1;Zs(l,n,a,i)}))},o2=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},kl=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},Zo=function(e,n){return!e||ta(e,"array")?e:Ov(e.split(n||","),vp)},zf=function(e){var n=Wn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},Ct={trim:vp,isArray:Rf,is:ta,toArray:qs,makeMap:dp,each:Mc,map:Ov,grep:yl,inArray:wl,hasOwn:fh,extend:Sa,create:a2,walk:Zs,createNS:o2,resolve:kl,explode:Zo,_addCacheSuffix:zf},vh=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Ff(i.childNodes[0])},xo=function(e,n){var a=n||document,i=a.createElement(e);return Ff(i)},lb=function(e,n){var a=n||document,i=a.createTextNode(e);return Ff(i)},Ff=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Iv=function(e,n,a){return te.from(e.dom.elementFromPoint(n,a)).map(Ff)},Ge={fromHtml:vh,fromTag:xo,fromText:lb,fromDom:Ff,fromPoint:Iv},oi=function(e,n){var a=[],i=function(v){return a.push(v),n(v)},l=n(e);do l=l.bind(i);while(l.isSome());return a},dh=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},mp=function(e,n){return dh(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},cb=8,Nd=9,hp=11,gp=1,xs=3,ec=function(e,n){var a=e.dom;if(a.nodeType!==gp)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},fb=function(e){return e.nodeType!==gp&&e.nodeType!==Nd&&e.nodeType!==hp||e.childElementCount===0},vb=function(e,n){var a=n===void 0?document:n.dom;return fb(a)?[]:et(a.querySelectorAll(e),Ge.fromDom)},tc=function(e,n){var a=n===void 0?document:n.dom;return fb(a)?te.none():te.from(a.querySelector(e)).map(Ge.fromDom)},Ma=function(e,n){return e.dom===n.dom},db=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},fu=function(e,n){return mp(e.dom,n.dom)},Li=function(e,n){return Bn().browser.isIE()?fu(e,n):db(e,n)};typeof window<"u"||Function("return this;")();var ko=function(e){var n=e.dom.nodeName;return n.toLowerCase()},zc=function(e){return e.dom.nodeType},fr=function(e){return function(n){return zc(n)===e}},ns=function(e){return zc(e)===cb||ko(e)==="#comment"},Va=fr(gp),Ya=fr(xs),mb=fr(Nd),ii=fr(hp),pp=function(e){return function(n){return Va(n)&&ko(n)===e}},Al=function(e){return Ge.fromDom(e.dom.ownerDocument)},Xn=function(e){return mb(e)?e:Al(e)},rs=function(e){return Ge.fromDom(Xn(e).dom.documentElement)},ro=function(e){return Ge.fromDom(Xn(e).dom.defaultView)},ao=function(e){return te.from(e.dom.parentNode).map(Ge.fromDom)},Lo=function(e,n){for(var a=le(n)?n:ot,i=e.dom,l=[];i.parentNode!==null&&i.parentNode!==void 0;){var v=i.parentNode,p=Ge.fromDom(v);if(l.push(p),a(p)===!0)break;i=v}return l},Ao=function(e){var n=function(a){return ut(a,function(i){return!Ma(e,i)})};return ao(e).map(Qi).map(n).getOr([])},Lf=function(e){return te.from(e.dom.previousSibling).map(Ge.fromDom)},ks=function(e){return te.from(e.dom.nextSibling).map(Ge.fromDom)},Kr=function(e){return ir(oi(e,Lf))},Pa=function(e){return oi(e,ks)},Qi=function(e){return et(e.dom.childNodes,Ge.fromDom)},nc=function(e,n){var a=e.dom.childNodes;return te.from(a[n]).map(Ge.fromDom)},Mo=function(e){return nc(e,0)},as=function(e){return nc(e,e.dom.childNodes.length-1)},hb=function(e){return e.dom.childNodes.length},Hf=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ge.fromDom(n)},ya=function(e){return ii(e)&&Xe(e.dom.host)},Js=le(Element.prototype.attachShadow)&&le(Node.prototype.getRootNode),Fc=j(Js),vu=Js?function(e){return Ge.fromDom(e.dom.getRootNode())}:Xn,vo=function(e){return ya(e)?e:Hf(Xn(e))},Lc=function(e){var n=vu(e);return ya(n)?te.some(n):te.none()},rc=function(e){return Ge.fromDom(e.dom.host)},Hi=function(e){if(Fc()&&Xe(e.target)){var n=Ge.fromDom(e.target);if(Va(n)&&du(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return da(a)}}return te.from(e.target)},du=function(e){return Xe(e.dom.shadowRoot)},Si=function(e,n){var a=ao(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},Nv=function(e,n){var a=ks(e);a.fold(function(){var i=ao(e);i.each(function(l){Ho(l,n)})},function(i){Si(i,n)})},Qs=function(e,n){var a=Mo(e);a.fold(function(){Ho(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},Ho=function(e,n){e.dom.appendChild(n.dom)},zd=function(e,n){Si(e,n),Ho(n,e)},gb=function(e,n){Le(n,function(a){Si(e,a)})},Vf=function(e,n){Le(n,function(a){Ho(e,a)})},Uf=function(e){e.dom.textContent="",Le(Qi(e),function(n){mo(n)})},mo=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Wf=function(e){var n=Qi(e);n.length>0&&gb(e,n),mo(e)},jf=function(e){var n=Ya(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return Lc(Ge.fromDom(n)).fold(function(){return a.body.contains(n)},ne(jf,rc))},Vi=function(e,n){var a=function(i,l){return Vi(e+i,n+l)};return{left:e,top:n,translate:a}},ac=Vi,Gf=function(e){var n=e.getBoundingClientRect();return ac(n.left,n.top)},oc=function(e,n){return e!==void 0?e:n!==void 0?n:0},Ga=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,l=n.documentElement;if(a===e.dom)return ac(a.offsetLeft,a.offsetTop);var v=oc(i==null?void 0:i.pageYOffset,l.scrollTop),p=oc(i==null?void 0:i.pageXOffset,l.scrollLeft),S=oc(l.clientTop,a.clientTop),A=oc(l.clientLeft,a.clientLeft);return Bu(e).translate(p-A,v-S)},Bu=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?ac(i.offsetLeft,i.offsetTop):jf(e)?Gf(n):ac(0,0)},mh=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return ac(a,i)},os=function(e,n,a){var i=a!==void 0?a.dom:document,l=i.defaultView;l&&l.scrollTo(e,n)},hh=function(e,n){var a=Bn().browser.isSafari();a&&le(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},pb=function(e){var n=e===void 0?window:e;return Bn().browser.isFirefox()?te.none():te.from(n.visualViewport)},bp=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},qf=function(e){var n=e===void 0?window:e,a=n.document,i=mh(Ge.fromDom(a));return pb(n).fold(function(){var l=n.document.documentElement,v=l.clientWidth,p=l.clientHeight;return bp(i.left,i.top,v,p)},function(l){return bp(Math.max(l.pageLeft,i.left),Math.max(l.pageTop,i.top),l.width,l.height)})},Kf=function(e){return function(n){return!!n&&n.nodeType===e}},Hc=function(e){return!!e&&!Object.getPrototypeOf(e)},Jn=Kf(1),As=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return Ae(n,i)}return!1}},mu=function(e,n){var a=n.toLowerCase().split(" ");return function(i){if(Jn(i))for(var l=0;l<a.length;l++){var v=i.ownerDocument.defaultView.getComputedStyle(i,null),p=v?v.getPropertyValue(e):null;if(p===a[l])return!0}return!1}},Ui=function(e){return function(n){return Jn(n)&&n.hasAttribute(e)}},Es=function(e,n){return function(a){return Jn(a)&&a.getAttribute(e)===n}},yo=function(e){return Jn(e)&&e.hasAttribute("data-mce-bogus")},Vo=function(e){return Jn(e)&&e.getAttribute("data-mce-bogus")==="all"},Eo=function(e){return Jn(e)&&e.tagName==="TABLE"},Vc=function(e){return function(n){return!!(Jn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},xi=As(["textarea","input"]),gn=Kf(3),Xf=Kf(8),yp=Kf(9),mr=Kf(11),wa=As(["br"]),gh=As(["img"]),El=Vc("true"),Ua=Vc("false"),ph=As(["td","th"]),Mu=As(["video","audio","object","embed"]),Fd=function(e,n,a){return a===void 0&&(a=rt),e.exists(function(i){return a(i,n)})},br=function(e){for(var n=[],a=function(l){n.push(l)},i=0;i<e.length;i++)e[i].each(a);return n},eu=function(e,n,a){return e.isSome()&&n.isSome()?te.some(a(e.getOrDie(),n.getOrDie())):te.none()},i2=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?te.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):te.none()},u2=function(e,n){return e?te.some(n):te.none()},qa=function(e){return e.style!==void 0&&le(e.style.getPropertyValue)},bh=function(e,n,a){if($e(a)||he(a)||se(a))e.setAttribute(n,a+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},P=function(e,n,a){bh(e.dom,n,a)},Y=function(e,n){var a=e.dom;Vr(n,function(i,l){bh(a,l,i)})},re=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},_e=function(e,n){return te.from(re(e,n))},Ke=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},yt=function(e,n){e.dom.removeAttribute(n)},kn=function(e){return $t(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},rr=function(e,n,a){if(!$e(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);qa(e)&&e.style.setProperty(n,a)},Rr=function(e,n){var a=e.dom;Vr(n,function(i,l){rr(a,l,i)})},yr=function(e,n){var a=e.dom,i=window.getComputedStyle(a),l=i.getPropertyValue(n);return l===""&&!jf(e)?xa(a,n):l},xa=function(e,n){return qa(e)?e.style.getPropertyValue(n):""},ki=function(e,n){var a=e.dom,i=xa(a,n);return te.from(i).filter(function(l){return l.length>0})},oo=function(e){var n={},a=e.dom;if(qa(a))for(var i=0;i<a.style.length;i++){var l=a.style.item(i);n[l]=a.style[l]}return n},CA=function(e){return e.dom.offsetWidth},G_=Bn().browser,q_=function(e){return rn(e,Va)},_A=function(e){return G_.isFirefox()&&ko(e)==="table"?q_(Qi(e)).filter(function(n){return ko(n)==="caption"}).bind(function(n){return q_(Pa(n)).map(function(a){var i=a.dom.offsetTop,l=n.dom.offsetTop,v=n.dom.offsetHeight;return i<=l?-v:0})}).getOr(0):0},ic=function(e,n){return e.children&&Ae(e.children,n)},wp=function(e,n,a){var i=0,l=0,v=e.ownerDocument;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&yr(Ge.fromDom(e),"position")==="static"){var p=n.getBoundingClientRect();return i=p.left+(v.documentElement.scrollLeft||e.scrollLeft)-v.documentElement.clientLeft,l=p.top+(v.documentElement.scrollTop||e.scrollTop)-v.documentElement.clientTop,{x:i,y:l}}for(var S=n;S&&S!==a&&S.nodeType&&!ic(S,a);){var A=S;i+=A.offsetLeft||0,l+=A.offsetTop||0,S=A.offsetParent}for(S=n.parentNode;S&&S!==a&&S.nodeType&&!ic(S,a);)i-=S.scrollLeft||0,l-=S.scrollTop||0,S=S.parentNode;l+=_A(Ge.fromDom(n))}return{x:i,y:l}},Pu={},yh={exports:Pu};(function(e,n,a,i){(function(l,v){typeof n=="object"&&typeof a<"u"?a.exports=v():typeof e=="function"&&e.amd?e(v):(l=typeof globalThis<"u"?globalThis:l||self,l.EphoxContactWrapper=v())})(this,function(){var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof B6<"u"?B6:typeof self<"u"?self:{},v={exports:{}};(function(F){(function(X){var Z=setTimeout;function Q(){}function fe(Re,Qe){return function(){Re.apply(Qe,arguments)}}function de(Re){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Re!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],je(Re,this)}function ge(Re,Qe){for(;Re._state===3;)Re=Re._value;if(Re._state===0){Re._deferreds.push(Qe);return}Re._handled=!0,de._immediateFn(function(){var xt=Re._state===1?Qe.onFulfilled:Qe.onRejected;if(xt===null){(Re._state===1?pe:Oe)(Qe.promise,Re._value);return}var Lt;try{Lt=xt(Re._value)}catch(jn){Oe(Qe.promise,jn);return}pe(Qe.promise,Lt)})}function pe(Re,Qe){try{if(Qe===Re)throw new TypeError("A promise cannot be resolved with itself.");if(Qe&&(typeof Qe=="object"||typeof Qe=="function")){var xt=Qe.then;if(Qe instanceof de){Re._state=3,Re._value=Qe,xe(Re);return}else if(typeof xt=="function"){je(fe(xt,Qe),Re);return}}Re._state=1,Re._value=Qe,xe(Re)}catch(Lt){Oe(Re,Lt)}}function Oe(Re,Qe){Re._state=2,Re._value=Qe,xe(Re)}function xe(Re){Re._state===2&&Re._deferreds.length===0&&de._immediateFn(function(){Re._handled||de._unhandledRejectionFn(Re._value)});for(var Qe=0,xt=Re._deferreds.length;Qe<xt;Qe++)ge(Re,Re._deferreds[Qe]);Re._deferreds=null}function Ye(Re,Qe,xt){this.onFulfilled=typeof Re=="function"?Re:null,this.onRejected=typeof Qe=="function"?Qe:null,this.promise=xt}function je(Re,Qe){var xt=!1;try{Re(function(Lt){xt||(xt=!0,pe(Qe,Lt))},function(Lt){xt||(xt=!0,Oe(Qe,Lt))})}catch(Lt){if(xt)return;xt=!0,Oe(Qe,Lt)}}de.prototype.catch=function(Re){return this.then(null,Re)},de.prototype.then=function(Re,Qe){var xt=new this.constructor(Q);return ge(this,new Ye(Re,Qe,xt)),xt},de.all=function(Re){var Qe=Array.prototype.slice.call(Re);return new de(function(xt,Lt){if(Qe.length===0)return xt([]);var jn=Qe.length;function mn(Un,Ut){try{if(Ut&&(typeof Ut=="object"||typeof Ut=="function")){var vn=Ut.then;if(typeof vn=="function"){vn.call(Ut,function(Gt){mn(Un,Gt)},Lt);return}}Qe[Un]=Ut,--jn===0&&xt(Qe)}catch(Gt){Lt(Gt)}}for(var Mt=0;Mt<Qe.length;Mt++)mn(Mt,Qe[Mt])})},de.resolve=function(Re){return Re&&typeof Re=="object"&&Re.constructor===de?Re:new de(function(Qe){Qe(Re)})},de.reject=function(Re){return new de(function(Qe,xt){xt(Re)})},de.race=function(Re){return new de(function(Qe,xt){for(var Lt=0,jn=Re.length;Lt<jn;Lt++)Re[Lt].then(Qe,xt)})},de._immediateFn=typeof setImmediate=="function"?function(Re){setImmediate(Re)}:function(Re){Z(Re,0)},de._unhandledRejectionFn=function(Qe){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Qe)},de._setImmediateFn=function(Qe){de._immediateFn=Qe},de._setUnhandledRejectionFn=function(Qe){de._unhandledRejectionFn=Qe},F.exports?F.exports=de:X.Promise||(X.Promise=de)})(l)})(v);var p=v.exports,S=function(){return typeof window<"u"?window:Function("return this;")()}(),A={boltExport:S.Promise||p};return A})})(void 0,Pu,yh);var s2=yh.exports.boltExport,Cp=function(e){var n=te.none(),a=[],i=function(F){return Cp(function(X){l(function(Z){X(F(Z))})})},l=function(F){p()?A(F):a.push(F)},v=function(F){p()||(n=te.some(F),S(a),a=[])},p=function(){return n.isSome()},S=function(F){Le(F,A)},A=function(F){n.each(function(X){setTimeout(function(){F(X)},0)})};return e(v),{get:l,map:i,isReady:p}},bb=function(e){return Cp(function(n){n(e)})},K_={nu:Cp,pure:bb},SA=function(e){setTimeout(function(){throw e},0)},uc=function(e){var n=function(A){e().then(A,SA)},a=function(A){return uc(function(){return e().then(A)})},i=function(A){return uc(function(){return e().then(function(F){return A(F).toPromise()})})},l=function(A){return uc(function(){return e().then(function(){return A.toPromise()})})},v=function(){return K_.nu(n)},p=function(){var A=null;return uc(function(){return A===null&&(A=e()),A})},S=e;return{map:a,bind:i,anonBind:l,toLazy:v,toCached:p,toPromise:S,get:n}},_p=function(e){return uc(function(){return new s2(e)})},xA=function(e){return uc(function(){return s2.resolve(e)})},l2={nu:_p,pure:xA},kA=function(e,n){return n(function(a){var i=[],l=0,v=function(p){return function(S){i[p]=S,l++,l>=e.length&&a(i)}};e.length===0?a([]):Le(e,function(p,S){p.get(v(S))})})},AA=function(e){return kA(e,l2.nu)},wh=function(e){var n=function(Z){return wh(e)},a=function(Z){return wh(e)},i=function(Z){return wh(Z(e))},l=function(Z){return wh(e)},v=function(Z){Z(e)},p=function(Z){return Z(e)},S=function(Z,Q){return Q(e)},A=function(Z){return Z(e)},F=function(Z){return Z(e)},X=function(){return te.some(e)};return{isValue:it,isError:ot,getOr:j(e),getOrThunk:j(e),getOrDie:j(e),or:n,orThunk:a,fold:S,map:i,mapError:l,each:v,bind:p,exists:A,forall:F,toOptional:X}},Sp=function(e){var n=function(F){return F()},a=function(){return st(String(e))()},i=ke,l=function(F){return F()},v=function(F){return Sp(e)},p=function(F){return Sp(F(e))},S=function(F){return Sp(e)},A=function(F,X){return F(e)};return{isValue:ot,isError:it,getOr:ke,getOrThunk:n,getOrDie:a,or:i,orThunk:l,fold:A,map:v,mapError:p,each:Ee,bind:S,exists:ot,forall:it,toOptional:te.none}},X_=function(e,n){return e.fold(function(){return Sp(n)},wh)},Y_={value:wh,error:Sp,fromOption:X_},is=function(e){if(!Be(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return Le(e,function(i,l){var v=Ji(i);if(v.length!==1)throw new Error("one and only one name per case");var p=v[0],S=i[p];if(a[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Be(S))throw new Error("case arguments must be an array");n.push(p),a[p]=function(){for(var A=[],F=0;F<arguments.length;F++)A[F]=arguments[F];var X=A.length;if(X!==S.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+S.length+" ("+S+"), got "+X);var Z=function(Q){var fe=Ji(Q);if(n.length!==fe.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+fe.join(","));var de=qr(n,function(ge){return Ae(fe,ge)});if(!de)throw new Error("Not all branches were specified when using match. Specified: "+fe.join(", ")+`
Required: `+n.join(", "));return Q[p].apply(null,A)};return{fold:function(){for(var Q=[],fe=0;fe<arguments.length;fe++)Q[fe]=arguments[fe];if(Q.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Q.length);var de=Q[l];return de.apply(null,A)},match:Z,log:function(Q){console.log(Q,{constructors:n,constructor:p,params:A})}}}}),a},Mn={generate:is};Mn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Yf=function(e){return e.fold(ke,ke)};function xp(e,n,a,i,l){return e(a,i)?te.some(a):le(l)&&l(a)?te.none():n(a,i,l)}var zv=function(e,n,a){for(var i=e.dom,l=le(a)?a:ot;i.parentNode;){i=i.parentNode;var v=Ge.fromDom(i);if(n(v))return te.some(v);if(l(v))break}return te.none()},Ch=function(e,n,a){var i=function(l,v){return v(l)};return xp(i,zv,e,n,a)},c2=function(e,n){var a=e.dom;return a.parentNode?Tl(Ge.fromDom(a.parentNode),function(i){return!Ma(e,i)&&n(i)}):te.none()},Tl=function(e,n){var a=function(l){return n(Ge.fromDom(l))},i=rn(e.dom.childNodes,a);return i.map(Ge.fromDom)},Ld=function(e,n,a){return zv(e,function(i){return ec(i,n)},a)},_h=function(e,n){return tc(n,e)},wo=function(e,n,a){var i=function(l,v){return ec(l,v)};return xp(i,Ld,e,n,a)},ui=window.Promise?window.Promise:s2,kp,Uc=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],l=function(p){window.setTimeout(p,0)},v=0;v<i.length&&!a;v++)a=window[i[v]+"RequestAnimationFrame"];a||(a=l),a(e,n)},Ap=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},yb=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},wb=function(e){return clearTimeout(e)},EA=function(e){return clearInterval(e)},Sh=function(e,n){var a,i=function(){for(var l=[],v=0;v<arguments.length;v++)l[v]=arguments[v];clearTimeout(a),a=Ap(function(){e.apply(this,l)},n)};return i.stop=function(){clearTimeout(a)},i},Wi={requestAnimationFrame:function(e,n){if(kp){kp.then(e);return}kp=new ui(function(a){n||(n=document.body),Uc(a,n)}).then(e)},setTimeout:Ap,setInterval:yb,setEditorTimeout:function(e,n,a){return Ap(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=yb(function(){e.removed?clearInterval(i):n()},a);return i},debounce:Sh,throttle:Sh,clearInterval:EA,clearTimeout:wb},Z_=function(e,n){n===void 0&&(n={});var a=0,i={},l=Ge.fromDom(e),v=Xn(l),p=n.maxLoadTime||5e3,S=function(pe){n.referrerPolicy=pe},A=function(pe){Ho(vo(l),pe)},F=function(pe){var Oe=vo(l);_h(Oe,"#"+pe).each(mo)},X=function(pe){return Ir(i,pe).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},Z=function(pe,Oe,xe){var Ye,je=Ct._addCacheSuffix(pe),Re=X(je);i[je]=Re,Re.count++;var Qe=function(Ut,vn){for(var Gt=Ut.length;Gt--;)Ut[Gt]();Re.status=vn,Re.passed=[],Re.failed=[],Ye&&(Ye.onload=null,Ye.onerror=null,Ye=null)},xt=function(){return Qe(Re.passed,2)},Lt=function(){return Qe(Re.failed,3)},jn=function(Ut,vn){Ut()||(Date.now()-Un<p?Wi.setTimeout(vn):Lt())},mn=function(){jn(function(){for(var Ut=e.styleSheets,vn=Ut.length;vn--;){var Gt=Ut[vn],Qt=Gt.ownerNode;if(Qt&&Qt.id===Ye.id)return xt(),!0}return!1},mn)};if(Oe&&Re.passed.push(Oe),xe&&Re.failed.push(xe),Re.status!==1){if(Re.status===2){xt();return}if(Re.status===3){Lt();return}Re.status=1;var Mt=Ge.fromTag("link",v.dom);Y(Mt,{rel:"stylesheet",type:"text/css",id:Re.id});var Un=Date.now();n.contentCssCors&&P(Mt,"crossOrigin","anonymous"),n.referrerPolicy&&P(Mt,"referrerpolicy",n.referrerPolicy),Ye=Mt.dom,Ye.onload=mn,Ye.onerror=Lt,A(Mt),P(Mt,"href",je)}},Q=function(pe){return l2.nu(function(Oe){Z(pe,We(Oe,j(Y_.value(pe))),We(Oe,j(Y_.error(pe))))})},fe=function(pe,Oe,xe){AA(et(pe,Q)).get(function(Ye){var je=Zt(Ye,function(Re){return Re.isValue()});je.fail.length>0?xe(je.fail.map(Yf)):Oe(je.pass.map(Yf))})},de=function(pe){var Oe=Ct._addCacheSuffix(pe);Ir(i,Oe).each(function(xe){var Ye=--xe.count;Ye===0&&(delete i[Oe],F(xe.id))})},ge=function(pe){Le(pe,function(Oe){de(Oe)})};return{load:Z,loadAll:fe,unload:de,unloadAll:ge,_setReferrerPolicy:S}},Za=function(){var e=new WeakMap,n=function(a,i){var l=vu(a),v=l.dom;return te.from(e.get(v)).getOrThunk(function(){var p=Z_(v,i);return e.set(v,p),p})};return{forElement:n}},Ol=Za(),sa=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,l){var v,p;if(n){if(!l&&n[a])return n[a];if(n!==this.rootNode){if(v=n[i],v)return v;for(p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(v=p[i],v)return v}}},e.prototype.findPreviousNode=function(n,a,i,l){var v,p,S;if(n){if(v=n[i],this.rootNode&&v===this.rootNode)return;if(v){if(!l){for(S=v[a];S;S=S[a])if(!S[a])return S}return v}if(p=n.parentNode,p&&p!==this.rootNode)return p}},e}(),Fv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],el=["td","th"],TA=["thead","tbody","tfoot"],Uo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],hu=["h1","h2","h3","h4","h5","h6"],J_=["li","dd","dt"],At=["ul","ol","dl"],Iu=["pre","script","textarea","style"],Zf=function(e){var n;return function(a){return n=n||va(e,it),Dr(n,ko(a))}},Qn=Zf(hu),Ts=Zf(Fv),OA=function(e){return ko(e)==="table"},tu=function(e){return Va(e)&&!Ts(e)},xh=function(e){return Va(e)&&ko(e)==="br"},Wc=Zf(Uo),Dl=Zf(At),ji=Zf(J_),Xr=Zf(TA),sc=Zf(el),Hd=Zf(Iu),Ea=function(e,n,a){return Ld(e,n,a).isSome()},Lv="\uFEFF",us=" ",ss=function(e){return e===Lv},DA=function(e){return e.replace(/\uFEFF/g,"")},He=Lv,gu=ss,lc=DA,kh=Jn,Os=gn,Ca=function(e){return Os(e)&&(e=e.parentNode),kh(e)&&e.hasAttribute("data-mce-caret")},Ta=function(e){return Os(e)&&gu(e.data)},Nu=function(e){return Ca(e)||Ta(e)},Jf=function(e){return e.firstChild!==e.lastChild||!wa(e.firstChild)},f2=function(e,n){var a=e.ownerDocument,i=a.createTextNode(He),l=e.parentNode;if(n){var v=e.previousSibling;if(Os(v)){if(Nu(v))return v;if(Tp(v))return v.splitText(v.data.length-1)}l.insertBefore(i,e)}else{var v=e.nextSibling;if(Os(v)){if(Nu(v))return v;if(Ep(v))return v.splitText(1),v}e.nextSibling?l.insertBefore(i,e.nextSibling):l.appendChild(i)}return i},zn=function(e){var n=e.container();return gn(n)?n.data.charAt(e.offset())===He||e.isAtStart()&&Ta(n.previousSibling):!1},Cb=function(e){var n=e.container();return gn(n)?n.data.charAt(e.offset()-1)===He||e.isAtEnd()&&Ta(n.nextSibling):!1},Ds=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Q_=function(e,n,a){var i=n.ownerDocument,l=i.createElement(e);l.setAttribute("data-mce-caret",a?"before":"after"),l.setAttribute("data-mce-bogus","all"),l.appendChild(Ds());var v=n.parentNode;return a?v.insertBefore(l,n):n.nextSibling?v.insertBefore(l,n.nextSibling):v.appendChild(l),l},Ep=function(e){return Os(e)&&e.data[0]===He},Tp=function(e){return Os(e)&&e.data[e.data.length-1]===He},v2=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];yo(a)&&a.parentNode.removeChild(a)},d2=function(e){return e&&e.hasAttribute("data-mce-caret")?(v2(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},jc=function(e){return Ca(e.startContainer)},Qf=El,RA=Ua,m2=wa,$A=gn,eS=As(["script","style","textarea"]),Op=As(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ah=As(["table"]),tS=Nu,Gc=function(e){return tS(e)?!1:$A(e)?!eS(e.parentNode):Op(e)||m2(e)||Ah(e)||h2(e)},Eh=function(e){return Jn(e)&&e.getAttribute("unselectable")==="true"},h2=function(e){return Eh(e)===!1&&RA(e)},nS=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(h2(e))return!1;if(Qf(e))return!0}return!0},BA=function(e){return h2(e)?$t(dr(e.getElementsByTagName("*")),function(n,a){return n||Qf(a)},!1)!==!0:!1},MA=function(e){return Op(e)||BA(e)},Po=function(e,n){return Gc(e)&&nS(e,n)},qc=/^[ \t\r\n]*$/,Rl=function(e){return qc.test(e)},Hv=function(e,n){var a=Ge.fromDom(n),i=Ge.fromDom(e);return Ea(i,"pre,code",ce(Ma,a))},rS=function(e,n){return gn(e)&&Rl(e.data)&&Hv(e,n)===!1},$l=function(e){return Jn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Vd=function(e,n){return Gc(e)&&rS(e,n)===!1||$l(e)||g2(e)},g2=Ui("data-mce-bookmark"),p2=Ui("data-mce-bogus"),ev=Es("data-mce-bogus","all"),tl=function(e,n){var a=0;if(Vd(e,e))return!1;var i=e.firstChild;if(!i)return!0;var l=new sa(i,e);do{if(n){if(ev(i)){i=l.next(!0);continue}if(p2(i)){i=l.next();continue}}if(wa(i)){a++,i=l.next();continue}if(Vd(i,e))return!1;i=l.next()}while(i);return a<=1},Ai=function(e,n){return n===void 0&&(n=!0),tl(e.dom,n)},_b=function(e){return e.nodeName.toLowerCase()==="span"},b2=function(e,n){return Xe(e)&&(Vd(e,n)||tu(Ge.fromDom(e)))},Ud=function(e,n){var a=new sa(e,n).prev(!1),i=new sa(e,n).next(!1),l=De(a)||b2(a,n),v=De(i)||b2(i,n);return l&&v},Th=function(e){return _b(e)&&e.getAttribute("data-mce-type")==="bookmark"},Oh=function(e,n){return gn(e)&&e.data.length>0&&Ud(e,n)},PA=function(e){return Jn(e)?e.childNodes.length>0:!1},Dh=function(e){return mr(e)||yp(e)},y2=function(e,n,a){var i=a||n;if(Jn(n)&&Th(n))return n;for(var l=n.childNodes,v=l.length-1;v>=0;v--)y2(e,l[v],i);if(Jn(n)){var p=n.childNodes;p.length===1&&Th(p[0])&&n.parentNode.insertBefore(p[0],n)}return!Dh(n)&&!Vd(n,i)&&!PA(n)&&!Oh(n,i)&&e.remove(n),n},IA=Ct.makeMap,io=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vv=/[<>&\"\']/g,w2=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,C2={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},nl={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Rs={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Wd=function(e){var n=Ge.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Uv=function(e,n){var a,i,l,v={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),nl[i]||(l="&"+e[a+1]+";",v[i]=l,v[l]=i);return v}},xb=Uv("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Dp=function(e,n){return e.replace(n?io:Sb,function(a){return nl[a]||a})},_2=function(e){return(""+e).replace(Vv,function(n){return nl[n]||n})},jd=function(e,n){return e.replace(n?io:Sb,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":nl[a]||"&#"+a.charCodeAt(0)+";"})},kb=function(e,n,a){return a=a||xb,e.replace(n?io:Sb,function(i){return nl[i]||a[i]||i})},NA=function(e,n){var a=Uv(n)||xb,i=function(p,S){return p.replace(S?io:Sb,function(A){return nl[A]!==void 0?nl[A]:a[A]!==void 0?a[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"})},l=function(p,S){return kb(p,S,a)},v=IA(e.replace(/\+/g,","));return v.named&&v.numeric?i:v.named?n?l:kb:v.numeric?jd:Dp},S2=function(e){return e.replace(w2,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):C2[a]||String.fromCharCode(a)):Rs[n]||xb[n]||Wd(n)})},$s={encodeRaw:Dp,encodeAllRaw:_2,encodeNumeric:jd,encodeNamed:kb,getEncodeFunc:NA,decode:S2},ls={},Rh={},Bl=Ct.makeMap,Gi=Ct.each,Ab=Ct.extend,tv=Ct.explode,aS=Ct.inArray,Ei=function(e,n){return e=Ct.trim(e),e?e.split(n||" "):[]},x2=function(e,n){var a=Bl(e," ",Bl(e.toUpperCase()," "));return Ab(a,n)},Eb=function(e){return x2("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},Wr=function(e){var n={},a,i,l,v,p,S,A=function(X,Z,Q){var fe,de,ge,pe=function(xe,Ye){var je={},Re,Qe;for(Re=0,Qe=xe.length;Re<Qe;Re++)je[xe[Re]]=Ye||{};return je};Q=Q||[],Z=Z||"",typeof Q=="string"&&(Q=Ei(Q));var Oe=Ei(X);for(fe=Oe.length;fe--;)de=Ei([a,Z].join(" ")),ge={attributes:pe(de),attributesOrder:de,children:pe(Q,Rh)},n[Oe[fe]]=ge},F=function(X,Z){var Q,fe,de,ge,pe=Ei(X);Q=pe.length;for(var Oe=Ei(Z);Q--;)for(fe=n[pe[Q]],de=0,ge=Oe.length;de<ge;de++)fe.attributes[Oe[de]]={},fe.attributesOrder.push(Oe[de])};return ls[e]?ls[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",S="acronym applet basefont big font strike tt",l=[l,S].join(" "),Gi(Ei(S),function(X){A(X,"",l)}),p="center dir isindex noframes",i=[i,p].join(" "),v=[i,l].join(" "),Gi(Ei(p),function(X){A(X,"",v)})),v=v||[i,l].join(" "),A("html","manifest","head body"),A("head","","base command link meta noscript script style title"),A("title hr noscript br"),A("base","href target"),A("link","href rel media hreflang type sizes hreflang"),A("meta","name http-equiv content charset"),A("style","media type scoped"),A("script","src async defer type charset"),A("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",v),A("address dt dd div caption","",v),A("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),A("blockquote","cite",v),A("ol","reversed start type","li"),A("ul","","li"),A("li","value",v),A("dl","","dt dd"),A("a","href target rel media hreflang type",l),A("q","cite",l),A("ins del","cite datetime",v),A("img","src sizes srcset alt usemap ismap width height"),A("iframe","src name width height",v),A("embed","src type width height"),A("object","data type typemustmatch name usemap form width height",[v,"param"].join(" ")),A("param","name value"),A("map","name",[v,"area"].join(" ")),A("area","alt coords shape href target rel media hreflang type"),A("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),A("colgroup","span","col"),A("col","span"),A("tbody thead tfoot","","tr"),A("tr","","td th"),A("td","colspan rowspan headers",v),A("th","colspan rowspan headers scope abbr",v),A("form","accept-charset action autocomplete enctype method name novalidate target",v),A("fieldset","disabled form name",[v,"legend"].join(" ")),A("label","form for",l),A("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),A("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?v:l),A("select","disabled form multiple name required size","option optgroup"),A("optgroup","disabled label","option"),A("option","disabled label selected value"),A("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),A("menu","type label",[v,"li"].join(" ")),A("noscript","",v),e!=="html4"&&(A("wbr"),A("ruby","",[l,"rt rp"].join(" ")),A("figcaption","",v),A("mark rt rp summary bdi","",l),A("canvas","width height",v),A("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[v,"track source"].join(" ")),A("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[v,"track source"].join(" ")),A("picture","","img source"),A("source","src srcset type media sizes"),A("track","kind src srclang label default"),A("datalist","",[l,"option"].join(" ")),A("article section nav aside main header footer","",v),A("hgroup","","h1 h2 h3 h4 h5 h6"),A("figure","",[v,"figcaption"].join(" ")),A("time","datetime",l),A("dialog","open",v),A("command","type label icon disabled checked radiogroup command"),A("output","for form name",l),A("progress","value max",l),A("meter","value min max low high optimum",l),A("details","open",[v,"summary"].join(" ")),A("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(F("script","language xml:space"),F("style","xml:space"),F("object","declare classid code codebase codetype archive standby align border hspace vspace"),F("embed","align name hspace vspace"),F("param","valuetype type"),F("a","charset name rev shape coords"),F("br","clear"),F("applet","codebase archive code object alt name width height align hspace vspace"),F("img","name longdesc align border hspace vspace"),F("iframe","longdesc frameborder marginwidth marginheight scrolling align"),F("font basefont","size color face"),F("input","usemap align"),F("select"),F("textarea"),F("h1 h2 h3 h4 h5 h6 div p legend caption","align"),F("ul","type compact"),F("li","type"),F("ol dl menu dir","compact"),F("pre","width xml:space"),F("hr","align noshade size width"),F("isindex","prompt"),F("table","summary width frame rules cellspacing cellpadding align bgcolor"),F("col","width align char charoff valign"),F("colgroup","width align char charoff valign"),F("thead","align char charoff valign"),F("tr","align char charoff valign bgcolor"),F("th","axis align char charoff valign nowrap bgcolor width height"),F("form","accept"),F("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),F("tfoot","align char charoff valign"),F("tbody","align char charoff valign"),F("area","nohref"),F("body","background bgcolor text link vlink alink")),e!=="html4"&&(F("input button select textarea","autofocus"),F("input textarea","placeholder"),F("a","download"),F("link script img","crossorigin"),F("img","loading"),F("iframe","sandbox seamless allowfullscreen loading")),Gi(Ei("a form meter progress dfn"),function(X){n[X]&&delete n[X].children[X]}),delete n.caption.children.table,delete n.script,ls[e]=n,n)},Fn=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),Gi(e,function(i,l){a[l]=a[l.toUpperCase()]=n==="map"?Bl(i,/[, ]/):tv(i,/[, ]/)})),a},Bs=function(e){var n={},a={},i=[],l={},v={},p=function(Nt,Kt,$n){var tt=e[Nt];return tt?tt=Bl(tt,/[, ]/,Bl(tt.toUpperCase(),/[, ]/)):(tt=ls[Nt],tt||(tt=x2(Kt,$n),ls[Nt]=tt)),tt};e=e||{};var S=Wr(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var A=Fn(e.valid_styles),F=Fn(e.invalid_styles,"map"),X=Fn(e.valid_classes,"map"),Z=p("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Q=p("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),fe=p("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),de=p("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),ge="td th iframe video audio object script code",pe=p("non_empty_elements",ge+" pre",fe),Oe=p("move_caret_before_on_enter_elements",ge+" table",fe),xe=p("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Ye=p("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",xe),je=p("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");Gi((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Nt){v[Nt]=new RegExp("</"+Nt+"[^>]*>","gi")});var Re=function(Nt){return new RegExp("^"+Nt.replace(/([?+*])/g,".$1")+"$")},Qe=function(Nt){var Kt,$n,tt,Vt,zt,Pn,Ln,Aa,ni,Yo,Nm,Gu,Eu,hi,jl,qu,kf,Oa,ja=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,gi=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,bs=/[*?+]/;if(Nt){var xv=Ei(Nt,",");for(n["@"]&&(qu=n["@"].attributes,kf=n["@"].attributesOrder),Kt=0,$n=xv.length;Kt<$n;Kt++)if(zt=ja.exec(xv[Kt]),zt){if(hi=zt[1],ni=zt[2],jl=zt[3],Aa=zt[5],Gu={},Eu=[],Pn={attributes:Gu,attributesOrder:Eu},hi==="#"&&(Pn.paddEmpty=!0),hi==="-"&&(Pn.removeEmpty=!0),zt[4]==="!"&&(Pn.removeEmptyAttrs=!0),qu&&(Vr(qu,function(kv,Qg){Gu[Qg]=kv}),Eu.push.apply(Eu,kf)),Aa){for(Aa=Ei(Aa,"|"),tt=0,Vt=Aa.length;tt<Vt;tt++)if(zt=gi.exec(Aa[tt]),zt){if(Ln={},Nm=zt[1],Yo=zt[2].replace(/[\\:]:/g,":"),hi=zt[3],Oa=zt[4],Nm==="!"&&(Pn.attributesRequired=Pn.attributesRequired||[],Pn.attributesRequired.push(Yo),Ln.required=!0),Nm==="-"){delete Gu[Yo],Eu.splice(aS(Eu,Yo),1);continue}hi&&(hi==="="&&(Pn.attributesDefault=Pn.attributesDefault||[],Pn.attributesDefault.push({name:Yo,value:Oa}),Ln.defaultValue=Oa),hi===":"&&(Pn.attributesForced=Pn.attributesForced||[],Pn.attributesForced.push({name:Yo,value:Oa}),Ln.forcedValue=Oa),hi==="<"&&(Ln.validValues=Bl(Oa,"?"))),bs.test(Yo)?(Pn.attributePatterns=Pn.attributePatterns||[],Ln.pattern=Re(Yo),Pn.attributePatterns.push(Ln)):(Gu[Yo]||Eu.push(Yo),Gu[Yo]=Ln)}}!qu&&ni==="@"&&(qu=Gu,kf=Eu),jl&&(Pn.outputName=ni,n[jl]=Pn),bs.test(ni)?(Pn.pattern=Re(ni),i.push(Pn)):n[ni]=Pn}}},xt=function(Nt){n={},i=[],Qe(Nt),Gi(S,function(Kt,$n){a[$n]=Kt.children})},Lt=function(Nt){var Kt=/^(~)?(.+)$/;Nt&&(ls.text_block_elements=ls.block_elements=null,Gi(Ei(Nt,","),function($n){var tt=Kt.exec($n),Vt=tt[1]==="~",zt=Vt?"span":"div",Pn=tt[2];if(a[Pn]=a[zt],l[Pn]=zt,Vt||(Ye[Pn.toUpperCase()]={},Ye[Pn]={}),!n[Pn]){var Ln=n[zt];Ln=Ab({},Ln),delete Ln.removeEmptyAttrs,delete Ln.removeEmpty,n[Pn]=Ln}Gi(a,function(Aa,ni){Aa[zt]&&(a[ni]=Aa=Ab({},a[ni]),Aa[Pn]=Aa[zt])})}))},jn=function(Nt){var Kt=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;ls[e.schema]=null,Nt&&Gi(Ei(Nt,","),function($n){var tt=Kt.exec($n),Vt,zt;tt&&(zt=tt[1],zt?Vt=a[tt[2]]:Vt=a[tt[2]]={"#comment":{}},Vt=a[tt[2]],Gi(Ei(tt[3],"|"),function(Pn){zt==="-"?delete Vt[Pn]:Vt[Pn]={}}))})},mn=function(Nt){var Kt=n[Nt],$n;if(Kt)return Kt;for($n=i.length;$n--;)if(Kt=i[$n],Kt.pattern.test(Nt))return Kt};e.valid_elements?xt(e.valid_elements):(Gi(S,function(Nt,Kt){n[Kt]={attributes:Nt.attributes,attributesOrder:Nt.attributesOrder},a[Kt]=Nt.children}),e.schema!=="html5"&&Gi(Ei("strong/b em/i"),function(Nt){var Kt=Ei(Nt,"/");n[Kt[1]].outputName=Kt[0]}),Gi(je,function(Nt,Kt){n[Kt]&&(e.padd_empty_block_inline_children&&(n[Kt].paddInEmptyBlock=!0),n[Kt].removeEmpty=!0)}),Gi(Ei("ol ul blockquote a table tbody"),function(Nt){n[Nt]&&(n[Nt].removeEmpty=!0)}),Gi(Ei("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Nt){n[Nt].paddEmpty=!0}),Gi(Ei("span"),function(Nt){n[Nt].removeEmptyAttrs=!0})),Lt(e.custom_elements),jn(e.valid_children),Qe(e.extended_valid_elements),jn("+ol[ul|ol],+ul[ul|ol]"),Gi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Nt,Kt){n[Kt]&&(n[Kt].parentsRequired=Ei(Nt))}),e.invalid_elements&&Gi(tv(e.invalid_elements),function(Nt){n[Nt]&&delete n[Nt]}),mn("span")||Qe("span[!data-mce-type|*]");var Mt=j(A),Un=j(F),Ut=j(X),vn=j(de),Gt=j(Ye),Qt=j(xe),yn=j(je),It=j(fe),hn=j(Q),Tr=j(pe),ra=j(Oe),Jr=j(Z),Ii=j(v),so=function(Nt,Kt){var $n=a[Nt.toLowerCase()];return!!($n&&$n[Kt.toLowerCase()])},ju=function(Nt,Kt){var $n,tt,Vt=mn(Nt);if(Vt)if(Kt){if(Vt.attributes[Kt])return!0;if($n=Vt.attributePatterns,$n){for(tt=$n.length;tt--;)if($n[tt].pattern.test(Nt))return!0}}else return!0;return!1},ps=j(l);return{children:a,elements:n,getValidStyles:Mt,getValidClasses:Ut,getBlockElements:Gt,getInvalidStyles:Un,getShortEndedElements:It,getTextBlockElements:Qt,getTextInlineElements:yn,getBoolAttrs:vn,getElementRule:mn,getSelfClosingElements:hn,getNonEmptyElements:Tr,getMoveCaretBeforeOnEnterElements:ra,getWhiteSpaceElements:Jr,getSpecialElements:Ii,isValidChild:so,isValid:ju,getCustomElements:ps,addValidElements:Qe,setValidElements:xt,addCustomElements:Lt,addValidChildren:jn}},Tb=function(e,n,a,i){var l=function(v){return v=parseInt(v,10).toString(16),v.length>1?v:"0"+v};return"#"+l(n)+l(a)+l(i)},Ml=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,v=/\s*([^:]+):\s*([^;]+);?/g,p=/\s+$/,S,A={},F,X,Z=Lv;e=e||{},n&&(F=n.getValidStyles(),X=n.getInvalidStyles());var Q=(`\\" \\' \\; \\: ; : `+Z).split(" ");for(S=0;S<Q.length;S++)A[Q[S]]=Z+S,A[Z+S]=Q[S];return{toHex:function(fe){return fe.replace(i,Tb)},parse:function(fe){var de={},ge,pe,Oe,xe,Ye=e.url_converter,je=e.url_converter_scope||a,Re=function(Ut,vn,Gt){var Qt=de[Ut+"-top"+vn];if(Qt){var yn=de[Ut+"-right"+vn];if(yn){var It=de[Ut+"-bottom"+vn];if(It){var hn=de[Ut+"-left"+vn];if(hn){var Tr=[Qt,yn,It,hn];for(S=Tr.length-1;S--&&Tr[S]===Tr[S+1];);S>-1&&Gt||(de[Ut+vn]=S===-1?Tr[0]:Tr.join(" "),delete de[Ut+"-top"+vn],delete de[Ut+"-right"+vn],delete de[Ut+"-bottom"+vn],delete de[Ut+"-left"+vn])}}}}},Qe=function(Ut){var vn=de[Ut],Gt;if(vn){for(vn=vn.split(" "),Gt=vn.length;Gt--;)if(vn[Gt]!==vn[0])return!1;return de[Ut]=vn[0],!0}},xt=function(Ut,vn,Gt,Qt){Qe(vn)&&Qe(Gt)&&Qe(Qt)&&(de[Ut]=de[vn]+" "+de[Gt]+" "+de[Qt],delete de[vn],delete de[Gt],delete de[Qt])},Lt=function(Ut){return xe=!0,A[Ut]},jn=function(Ut,vn){return xe&&(Ut=Ut.replace(/\uFEFF[0-9]/g,function(Gt){return A[Gt]})),vn||(Ut=Ut.replace(/\\([\'\";:])/g,"$1")),Ut},mn=function(Ut){return String.fromCharCode(parseInt(Ut.slice(1),16))},Mt=function(Ut){return Ut.replace(/\\[0-9a-f]+/gi,mn)},Un=function(Ut,vn,Gt,Qt,yn,It){if(yn=yn||It,yn)return yn=jn(yn),"'"+yn.replace(/\'/g,"\\'")+"'";if(vn=jn(vn||Gt||Qt),!e.allow_script_urls){var hn=vn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(hn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(hn))return""}return Ye&&(vn=Ye.call(je,vn,"style")),"url('"+vn.replace(/\'/g,"\\'")+"')"};if(fe){for(fe=fe.replace(/[\u0000-\u001F]/g,""),fe=fe.replace(/\\[\"\';:\uFEFF]/g,Lt).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Ut){return Ut.replace(/[;:]/g,Lt)});ge=v.exec(fe);)if(v.lastIndex=ge.index+ge[0].length,pe=ge[1].replace(p,"").toLowerCase(),Oe=ge[2].replace(p,""),pe&&Oe){if(pe=Mt(pe),Oe=Mt(Oe),pe.indexOf(Z)!==-1||pe.indexOf('"')!==-1||!e.allow_script_urls&&(pe==="behavior"||/expression\s*\(|\/\*|\*\//.test(Oe)))continue;pe==="font-weight"&&Oe==="700"?Oe="bold":(pe==="color"||pe==="background-color")&&(Oe=Oe.toLowerCase()),Oe=Oe.replace(i,Tb),Oe=Oe.replace(l,Un),de[pe]=xe?jn(Oe,!0):Oe}Re("border","",!0),Re("border","-width"),Re("border","-color"),Re("border","-style"),Re("padding",""),Re("margin",""),xt("border","border-width","border-style","border-color"),de.border==="medium none"&&delete de.border,de["border-image"]==="none"&&delete de["border-image"]}return de},serialize:function(fe,de){var ge="",pe=function(xe){var Ye,je=F[xe];if(je)for(var Re=0,Qe=je.length;Re<Qe;Re++)xe=je[Re],Ye=fe[xe],Ye&&(ge+=(ge.length>0?" ":"")+xe+": "+Ye+";")},Oe=function(xe,Ye){var je=X["*"];return je&&je[xe]?!1:(je=X[Ye],!(je&&je[xe]))};return de&&F?(pe("*"),pe(de)):Vr(fe,function(xe,Ye){xe&&(!X||Oe(Ye,de))&&(ge+=(ge.length>0?" ":"")+Ye+": "+xe+";")}),ge}}},oS={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},_a=function(e){return e instanceof Event||le(e.initEvent)},k2=function(e){return e.isDefaultPrevented===it||e.isDefaultPrevented===ot},Ob=function(e){return ye(e.preventDefault)||_a(e)},Db=function(e,n){var a=n??{};for(var i in e)Dr(oS,i)||(a[i]=e[i]);return Xe(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},Bt=function(e,n,a,i){var l,v=Db(n,i);return v.type=e,ye(v.target)&&(v.target=(l=v.srcElement)!==null&&l!==void 0?l:a),Ob(n)&&(v.preventDefault=function(){v.defaultPrevented=!0,v.isDefaultPrevented=it,le(n.preventDefault)?n.preventDefault():_a(n)&&(n.returnValue=!1)},v.stopPropagation=function(){v.cancelBubble=!0,v.isPropagationStopped=it,le(n.stopPropagation)?n.stopPropagation():_a(n)&&(n.cancelBubble=!0)},v.stopImmediatePropagation=function(){v.isImmediatePropagationStopped=it,v.stopPropagation()},k2(v)||(v.isDefaultPrevented=v.defaultPrevented===!0?it:ot,v.isPropagationStopped=v.cancelBubble===!0?it:ot,v.isImmediatePropagationStopped=ot)),v},A2="mce-data-",E2=/^(?:mouse|contextmenu)|click/,Wv=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},Rp=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},Gd=function(e){return Xe(e)&&E2.test(e.type)},jv=function(e,n){var a=Bt(e.type,e,document,n);if(Gd(e)&&De(e.pageX)&&!De(e.clientX)){var i=a.target.ownerDocument||document,l=i.documentElement,v=i.body,p=a;p.pageX=e.clientX+(l&&l.scrollLeft||v&&v.scrollLeft||0)-(l&&l.clientLeft||v&&v.clientLeft||0),p.pageY=e.clientY+(l&&l.scrollTop||v&&v.scrollTop||0)-(l&&l.clientTop||v&&v.clientTop||0)}return De(a.metaKey)&&(a.metaKey=!1),a},qd=function(e,n,a){var i=e.document,l={type:"ready"};if(a.domLoaded){n(l);return}var v=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},p=function(){Rp(e,"DOMContentLoaded",p),Rp(e,"load",p),a.domLoaded||(a.domLoaded=!0,n(l)),e=null};v()?p():Wv(e,"DOMContentLoaded",p),a.domLoaded||Wv(e,"load",p)},$h=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=A2+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,l){var v=this,p,S,A,F,X,Z,Q,fe=window,de=function(pe){v.executeHandlers(jv(pe||fe.event),p)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[v.expando]?p=n[v.expando]:(p=v.count++,n[v.expando]=p,v.events[p]={}),l=l||n;var ge=a.split(" ");for(A=ge.length;A--;){if(F=ge[A],Z=de,X=Q=!1,F==="DOMContentLoaded"&&(F="ready"),v.domLoaded&&F==="ready"&&n.readyState==="complete"){i.call(l,jv({type:F}));continue}v.hasMouseEnterLeave||(X=v.mouseEnterLeave[F],X&&(Z=function(pe){var Oe=pe.currentTarget,xe=pe.relatedTarget;if(xe&&Oe.contains)xe=Oe.contains(xe);else for(;xe&&xe!==Oe;)xe=xe.parentNode;xe||(pe=jv(pe||fe.event),pe.type=pe.type==="mouseout"?"mouseleave":"mouseenter",pe.target=Oe,v.executeHandlers(pe,p))})),!v.hasFocusIn&&(F==="focusin"||F==="focusout")&&(Q=!0,X=F==="focusin"?"focus":"blur",Z=function(pe){pe=jv(pe||fe.event),pe.type=pe.type==="focus"?"focusin":"focusout",v.executeHandlers(pe,p)}),S=v.events[p][F],S?F==="ready"&&v.domLoaded?i(jv({type:F})):S.push({func:i,scope:l}):(v.events[p][F]=S=[{func:i,scope:l}],S.fakeName=X,S.capture=Q,S.nativeHandler=Z,F==="ready"?qd(n,Z,v):Wv(n,X||F,Z,Q))}return n=S=null,i}},e.prototype.unbind=function(n,a,i){var l,v,p,S,A;if(!n||n.nodeType===3||n.nodeType===8)return this;var F=n[this.expando];if(F){if(A=this.events[F],a){var X=a.split(" ");for(v=X.length;v--;)if(S=X[v],l=A[S],l){if(i){for(p=l.length;p--;)if(l[p].func===i){var Z=l.nativeHandler,Q=l.fakeName,fe=l.capture;l=l.slice(0,p).concat(l.slice(p+1)),l.nativeHandler=Z,l.fakeName=Q,l.capture=fe,A[S]=l}}(!i||l.length===0)&&(delete A[S],Rp(n,l.fakeName||S,l.nativeHandler,l.capture))}}else Vr(A,function(de,ge){Rp(n,de.fakeName||ge,de.nativeHandler,de.capture)}),A={};for(S in A)if(Dr(A,S))return this;delete this.events[F];try{delete n[this.expando]}catch{n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var l;if(!n||n.nodeType===3||n.nodeType===8)return this;var v=jv({type:a,target:n},i);do l=n[this.expando],l&&this.executeHandlers(v,l),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!v.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],l=i&&i[n.type];if(l)for(var v=0,p=l.length;v<p;v++){var S=l[v];if(S&&S.func.call(S.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),To,sr,Ms,iS,cs,T2,Kc,nv,rv,Ps,Gv,Jo,pu,Xc,qv,Bh,Kd,wn,si="sizzle"+-new Date,cc=window.document,Yc=0,$p=0,uS=Mb(),Rb=Mb(),Kv=Mb(),Xv=function(e,n){return e===n&&(Ps=!0),0},Mh="undefined",Bp=1<<31,zA={}.hasOwnProperty,Is=[],O2=Is.pop,Xd=Is.push,Yv=Is.push,D2=Is.slice,Zv=Is.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},sS="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ja="[\\x20\\t\\r\\n\\f]",Ti="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",qi="\\["+Ja+"*("+Ti+")(?:"+Ja+"*([*^$|!~]?=)"+Ja+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ti+"))|)"+Ja+"*\\]",lS=":("+Ti+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+qi+")*)|.*)\\)|)",$b=new RegExp("^"+Ja+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ja+"+$","g"),FA=new RegExp("^"+Ja+"*,"+Ja+"*"),cS=new RegExp("^"+Ja+"*([>+~]|"+Ja+")"+Ja+"*"),Pl=new RegExp("="+Ja+`*([^\\]'"]*?)`+Ja+"*\\]","g"),LA=new RegExp(lS),Ph=new RegExp("^"+Ti+"$"),Bb={ID:new RegExp("^#("+Ti+")"),CLASS:new RegExp("^\\.("+Ti+")"),TAG:new RegExp("^("+Ti+"|[*])"),ATTR:new RegExp("^"+qi),PSEUDO:new RegExp("^"+lS),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ja+"*(even|odd|(([+-]|)(\\d*)n|)"+Ja+"*(?:([+-]|)"+Ja+"*(\\d+)|))"+Ja+"*\\)|)","i"),bool:new RegExp("^(?:"+sS+")$","i"),needsContext:new RegExp("^"+Ja+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ja+"*((?:-\\d)?\\d*)"+Ja+"*\\)|)(?=[^-]|$)","i")},HA=/^(?:input|select|textarea|button)$/i,fS=/^h\d$/i,R2=/^[^{]+\{\s*\[native \w/,$2=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,B2=/[+~]/,VA=/'|\\/g,Jv=new RegExp("\\\\([\\da-f]{1,6}"+Ja+"?|("+Ja+")|.)","ig"),Qv=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{Yv.apply(Is=D2.call(cc.childNodes),cc.childNodes),Is[cc.childNodes.length].nodeType}catch{Yv={apply:Is.length?function(n,a){Xd.apply(n,D2.call(a))}:function(n,a){for(var i=n.length,l=0;n[i++]=a[l++];);n.length=i-1}}}var ga=function(e,n,a,i){var l,v,p,S,A,F,X,Z,Q,fe;if((n?n.ownerDocument||n:cc)!==Jo&&Gv(n),n=n||Jo,a=a||[],!e||typeof e!="string")return a;if((S=n.nodeType)!==1&&S!==9)return[];if(Xc&&!i){if(l=$2.exec(e))if(p=l[1]){if(S===9)if(v=n.getElementById(p),v&&v.parentNode){if(v.id===p)return a.push(v),a}else return a;else if(n.ownerDocument&&(v=n.ownerDocument.getElementById(p))&&wn(n,v)&&v.id===p)return a.push(v),a}else{if(l[2])return Yv.apply(a,n.getElementsByTagName(e)),a;if((p=l[3])&&To.getElementsByClassName)return Yv.apply(a,n.getElementsByClassName(p)),a}if(To.qsa&&(!qv||!qv.test(e))){if(Z=X=si,Q=n,fe=S===9&&e,S===1&&n.nodeName.toLowerCase()!=="object"){for(F=cs(e),(X=n.getAttribute("id"))?Z=X.replace(VA,"\\$&"):n.setAttribute("id",Z),Z="[id='"+Z+"'] ",A=F.length;A--;)F[A]=Z+Ib(F[A]);Q=B2.test(e)&&Pb(n.parentNode)||n,fe=F.join(",")}if(fe)try{return Yv.apply(a,Q.querySelectorAll(fe)),a}catch{}finally{X||n.removeAttribute("id")}}}return Kc(e.replace($b,"$1"),n,a,i)};function Mb(){var e=[];function n(a,i){return e.push(a+" ")>sr.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function fc(e){return e[si]=!0,e}function vS(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||Bp)-(~e.sourceIndex||Bp);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function vc(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function Zc(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function ed(e){return fc(function(n){return n=+n,fc(function(a,i){for(var l,v=e([],a.length,n),p=v.length;p--;)a[l=v[p]]&&(a[l]=!(i[l]=a[l]))})})}function Pb(e){return e&&typeof e.getElementsByTagName!==Mh&&e}To=ga.support={},iS=ga.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},Gv=ga.setDocument=function(e){var n,a=e?e.ownerDocument||e:cc,i=a.defaultView;function l(v){try{return v.top}catch{}return null}return a===Jo||a.nodeType!==9||!a.documentElement?Jo:(Jo=a,pu=a.documentElement,Xc=!iS(a),i&&i!==l(i)&&(i.addEventListener?i.addEventListener("unload",function(){Gv()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Gv()})),To.attributes=!0,To.getElementsByTagName=!0,To.getElementsByClassName=R2.test(a.getElementsByClassName),To.getById=!0,sr.find.ID=function(v,p){if(typeof p.getElementById!==Mh&&Xc){var S=p.getElementById(v);return S&&S.parentNode?[S]:[]}},sr.filter.ID=function(v){var p=v.replace(Jv,Qv);return function(S){return S.getAttribute("id")===p}},sr.find.TAG=To.getElementsByTagName?function(v,p){if(typeof p.getElementsByTagName!==Mh)return p.getElementsByTagName(v)}:function(v,p){var S,A=[],F=0,X=p.getElementsByTagName(v);if(v==="*"){for(;S=X[F++];)S.nodeType===1&&A.push(S);return A}return X},sr.find.CLASS=To.getElementsByClassName&&function(v,p){if(Xc)return p.getElementsByClassName(v)},Bh=[],qv=[],To.disconnectedMatch=!0,qv=qv.length&&new RegExp(qv.join("|")),Bh=Bh.length&&new RegExp(Bh.join("|")),n=R2.test(pu.compareDocumentPosition),wn=n||R2.test(pu.contains)?function(v,p){var S=v.nodeType===9?v.documentElement:v,A=p&&p.parentNode;return v===A||!!(A&&A.nodeType===1&&(S.contains?S.contains(A):v.compareDocumentPosition&&v.compareDocumentPosition(A)&16))}:function(v,p){if(p){for(;p=p.parentNode;)if(p===v)return!0}return!1},Xv=n?function(v,p){if(v===p)return Ps=!0,0;var S=!v.compareDocumentPosition-!p.compareDocumentPosition;return S||(S=(v.ownerDocument||v)===(p.ownerDocument||p)?v.compareDocumentPosition(p):1,S&1||!To.sortDetached&&p.compareDocumentPosition(v)===S?v===a||v.ownerDocument===cc&&wn(cc,v)?-1:p===a||p.ownerDocument===cc&&wn(cc,p)?1:rv?Zv.call(rv,v)-Zv.call(rv,p):0:S&4?-1:1)}:function(v,p){if(v===p)return Ps=!0,0;var S,A=0,F=v.parentNode,X=p.parentNode,Z=[v],Q=[p];if(!F||!X)return v===a?-1:p===a?1:F?-1:X?1:rv?Zv.call(rv,v)-Zv.call(rv,p):0;if(F===X)return vS(v,p);for(S=v;S=S.parentNode;)Z.unshift(S);for(S=p;S=S.parentNode;)Q.unshift(S);for(;Z[A]===Q[A];)A++;return A?vS(Z[A],Q[A]):Z[A]===cc?-1:Q[A]===cc?1:0},a)},ga.matches=function(e,n){return ga(e,null,null,n)},ga.matchesSelector=function(e,n){if((e.ownerDocument||e)!==Jo&&Gv(e),n=n.replace(Pl,"='$1']"),To.matchesSelector&&Xc&&(!Bh||!Bh.test(n))&&(!qv||!qv.test(n)))try{var a=Kd.call(e,n);if(a||To.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return ga(n,Jo,null,[e]).length>0},ga.contains=function(e,n){return(e.ownerDocument||e)!==Jo&&Gv(e),wn(e,n)},ga.attr=function(e,n){(e.ownerDocument||e)!==Jo&&Gv(e);var a=sr.attrHandle[n.toLowerCase()],i=a&&zA.call(sr.attrHandle,n.toLowerCase())?a(e,n,!Xc):void 0;return i!==void 0?i:To.attributes||!Xc?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},ga.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ga.uniqueSort=function(e){var n,a=[],i=0,l=0;if(Ps=!To.detectDuplicates,rv=!To.sortStable&&e.slice(0),e.sort(Xv),Ps){for(;n=e[l++];)n===e[l]&&(i=a.push(l));for(;i--;)e.splice(a[i],1)}return rv=null,e},Ms=ga.getText=function(e){var n,a="",i=0,l=e.nodeType;if(l){if(l===1||l===9||l===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=Ms(e)}else if(l===3||l===4)return e.nodeValue}else for(;n=e[i++];)a+=Ms(n);return a},sr=ga.selectors={cacheLength:50,createPseudo:fc,match:Bb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Jv,Qv),e[3]=(e[3]||e[4]||e[5]||"").replace(Jv,Qv),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ga.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ga.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return Bb.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&LA.test(a)&&(n=cs(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(Jv,Qv).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=uS[e+" "];return n||(n=new RegExp("(^|"+Ja+")"+e+"("+Ja+"|$)"))&&uS(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==Mh&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var l=ga.attr(i,e);return l==null?n==="!=":n?(l+="",n==="="?l===a:n==="!="?l!==a:n==="^="?a&&l.indexOf(a)===0:n==="*="?a&&l.indexOf(a)>-1:n==="$="?a&&l.slice(-a.length)===a:n==="~="?(" "+l+" ").indexOf(a)>-1:n==="|="?l===a||l.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,l){var v=e.slice(0,3)!=="nth",p=e.slice(-4)!=="last",S=n==="of-type";return i===1&&l===0?function(A){return!!A.parentNode}:function(A,F,X){var Z,Q,fe,de,ge,pe,Oe=v!==p?"nextSibling":"previousSibling",xe=A.parentNode,Ye=S&&A.nodeName.toLowerCase(),je=!X&&!S;if(xe){if(v){for(;Oe;){for(fe=A;fe=fe[Oe];)if(S?fe.nodeName.toLowerCase()===Ye:fe.nodeType===1)return!1;pe=Oe=e==="only"&&!pe&&"nextSibling"}return!0}if(pe=[p?xe.firstChild:xe.lastChild],p&&je){for(Q=xe[si]||(xe[si]={}),Z=Q[e]||[],ge=Z[0]===Yc&&Z[1],de=Z[0]===Yc&&Z[2],fe=ge&&xe.childNodes[ge];fe=++ge&&fe&&fe[Oe]||(de=ge=0)||pe.pop();)if(fe.nodeType===1&&++de&&fe===A){Q[e]=[Yc,ge,de];break}}else if(je&&(Z=(A[si]||(A[si]={}))[e])&&Z[0]===Yc)de=Z[1];else for(;(fe=++ge&&fe&&fe[Oe]||(de=ge=0)||pe.pop())&&!((S?fe.nodeName.toLowerCase()===Ye:fe.nodeType===1)&&++de&&(je&&((fe[si]||(fe[si]={}))[e]=[Yc,de]),fe===A)););return de-=l,de===i||de%i===0&&de/i>=0}}},PSEUDO:function(e,n){var a,i=sr.pseudos[e]||sr.setFilters[e.toLowerCase()]||ga.error("unsupported pseudo: "+e);return i[si]?i(n):i.length>1?(a=[e,e,"",n],sr.setFilters.hasOwnProperty(e.toLowerCase())?fc(function(l,v){for(var p,S=i(l,n),A=S.length;A--;)p=Zv.call(l,S[A]),l[p]=!(v[p]=S[A])}):function(l){return i(l,0,a)}):i}},pseudos:{not:fc(function(e){var n=[],a=[],i=T2(e.replace($b,"$1"));return i[si]?fc(function(l,v,p,S){for(var A,F=i(l,null,S,[]),X=l.length;X--;)(A=F[X])&&(l[X]=!(v[X]=A))}):function(l,v,p){return n[0]=l,i(n,null,p,a),n[0]=null,!a.pop()}}),has:fc(function(e){return function(n){return ga(e,n).length>0}}),contains:fc(function(e){return e=e.replace(Jv,Qv),function(n){return(n.textContent||n.innerText||Ms(n)).indexOf(e)>-1}}),lang:fc(function(e){return Ph.test(e||"")||ga.error("unsupported lang: "+e),e=e.replace(Jv,Qv).toLowerCase(),function(n){var a;do if(a=Xc?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===pu},focus:function(e){return e===Jo.activeElement&&(!Jo.hasFocus||Jo.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!sr.pseudos.empty(e)},header:function(e){return fS.test(e.nodeName)},input:function(e){return HA.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:ed(function(){return[0]}),last:ed(function(e,n){return[n-1]}),eq:ed(function(e,n,a){return[a<0?a+n:a]}),even:ed(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:ed(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:ed(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:ed(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},sr.pseudos.nth=sr.pseudos.eq,Le(["radio","checkbox","file","password","image"],function(e){sr.pseudos[e]=vc(e)}),Le(["submit","reset"],function(e){sr.pseudos[e]=Zc(e)});function Mp(){}Mp.prototype=sr.filters=sr.pseudos,sr.setFilters=new Mp,cs=ga.tokenize=function(e,n){var a,i,l,v,p,S,A,F=Rb[e+" "];if(F)return n?0:F.slice(0);for(p=e,S=[],A=sr.preFilter;p;){(!a||(i=FA.exec(p)))&&(i&&(p=p.slice(i[0].length)||p),S.push(l=[])),a=!1,(i=cS.exec(p))&&(a=i.shift(),l.push({value:a,type:i[0].replace($b," ")}),p=p.slice(a.length));for(v in sr.filter)sr.filter.hasOwnProperty(v)&&(i=Bb[v].exec(p))&&(!A[v]||(i=A[v](i)))&&(a=i.shift(),l.push({value:a,type:v,matches:i}),p=p.slice(a.length));if(!a)break}return n?p.length:p?ga.error(e):Rb(e,S).slice(0)};function Ib(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function Nb(e,n,a){var i=n.dir,l=a&&i==="parentNode",v=$p++;return n.first?function(p,S,A){for(;p=p[i];)if(p.nodeType===1||l)return e(p,S,A)}:function(p,S,A){var F,X,Z=[Yc,v];if(A){for(;p=p[i];)if((p.nodeType===1||l)&&e(p,S,A))return!0}else for(;p=p[i];)if(p.nodeType===1||l){if(X=p[si]||(p[si]={}),(F=X[i])&&F[0]===Yc&&F[1]===v)return Z[2]=F[2];if(X[i]=Z,Z[2]=e(p,S,A))return!0}}}function Yd(e){return e.length>1?function(n,a,i){for(var l=e.length;l--;)if(!e[l](n,a,i))return!1;return!0}:e[0]}function UA(e,n,a){for(var i=0,l=n.length;i<l;i++)ga(e,n[i],a);return a}function zb(e,n,a,i,l){for(var v,p=[],S=0,A=e.length,F=n!=null;S<A;S++)(v=e[S])&&(!a||a(v,i,l))&&(p.push(v),F&&n.push(S));return p}function Ih(e,n,a,i,l,v){return i&&!i[si]&&(i=Ih(i)),l&&!l[si]&&(l=Ih(l,v)),fc(function(p,S,A,F){var X,Z,Q,fe=[],de=[],ge=S.length,pe=p||UA(n||"*",A.nodeType?[A]:A,[]),Oe=e&&(p||!n)?zb(pe,fe,e,A,F):pe,xe=a?l||(p?e:ge||i)?[]:S:Oe;if(a&&a(Oe,xe,A,F),i)for(X=zb(xe,de),i(X,[],A,F),Z=X.length;Z--;)(Q=X[Z])&&(xe[de[Z]]=!(Oe[de[Z]]=Q));if(p){if(l||e){if(l){for(X=[],Z=xe.length;Z--;)(Q=xe[Z])&&X.push(Oe[Z]=Q);l(null,xe=[],X,F)}for(Z=xe.length;Z--;)(Q=xe[Z])&&(X=l?Zv.call(p,Q):fe[Z])>-1&&(p[X]=!(S[X]=Q))}}else xe=zb(xe===S?xe.splice(ge,xe.length):xe),l?l(null,S,xe,F):Yv.apply(S,xe)})}function Pp(e){for(var n,a,i,l=e.length,v=sr.relative[e[0].type],p=v||sr.relative[" "],S=v?1:0,A=Nb(function(Z){return Z===n},p,!0),F=Nb(function(Z){return Zv.call(n,Z)>-1},p,!0),X=[function(Z,Q,fe){var de=!v&&(fe||Q!==nv)||((n=Q).nodeType?A(Z,Q,fe):F(Z,Q,fe));return n=null,de}];S<l;S++)if(a=sr.relative[e[S].type])X=[Nb(Yd(X),a)];else{if(a=sr.filter[e[S].type].apply(null,e[S].matches),a[si]){for(i=++S;i<l&&!sr.relative[e[i].type];i++);return Ih(S>1&&Yd(X),S>1&&Ib(e.slice(0,S-1).concat({value:e[S-2].type===" "?"*":""})).replace($b,"$1"),a,S<i&&Pp(e.slice(S,i)),i<l&&Pp(e=e.slice(i)),i<l&&Ib(e))}X.push(a)}return Yd(X)}function Ip(e,n){var a=n.length>0,i=e.length>0,l=function(v,p,S,A,F){var X,Z,Q,fe=0,de="0",ge=v&&[],pe=[],Oe=nv,xe=v||i&&sr.find.TAG("*",F),Ye=Yc+=Oe==null?1:Math.random()||.1,je=xe.length;for(F&&(nv=p!==Jo&&p);de!==je&&(X=xe[de])!=null;de++){if(i&&X){for(Z=0;Q=e[Z++];)if(Q(X,p,S)){A.push(X);break}F&&(Yc=Ye)}a&&((X=!Q&&X)&&fe--,v&&ge.push(X))}if(fe+=de,a&&de!==fe){for(Z=0;Q=n[Z++];)Q(ge,pe,p,S);if(v){if(fe>0)for(;de--;)ge[de]||pe[de]||(pe[de]=O2.call(A));pe=zb(pe)}Yv.apply(A,pe),F&&!v&&pe.length>0&&fe+n.length>1&&ga.uniqueSort(A)}return F&&(Yc=Ye,nv=Oe),ge};return a?fc(l):l}T2=ga.compile=function(e,n){var a,i=[],l=[],v=Kv[e+" "];if(!v){for(n||(n=cs(e)),a=n.length;a--;)v=Pp(n[a]),v[si]?i.push(v):l.push(v);v=Kv(e,Ip(l,i)),v.selector=e}return v},Kc=ga.select=function(e,n,a,i){var l,v,p,S,A,F=typeof e=="function"&&e,X=!i&&cs(e=F.selector||e);if(a=a||[],X.length===1){if(v=X[0]=X[0].slice(0),v.length>2&&(p=v[0]).type==="ID"&&To.getById&&n.nodeType===9&&Xc&&sr.relative[v[1].type]){if(n=(sr.find.ID(p.matches[0].replace(Jv,Qv),n)||[])[0],n)F&&(n=n.parentNode);else return a;e=e.slice(v.shift().value.length)}for(l=Bb.needsContext.test(e)?0:v.length;l--&&(p=v[l],!sr.relative[S=p.type]);)if((A=sr.find[S])&&(i=A(p.matches[0].replace(Jv,Qv),B2.test(v[0].type)&&Pb(n.parentNode)||n))){if(v.splice(l,1),e=i.length&&Ib(v),!e)return Yv.apply(a,i),a;break}}return(F||T2(e,X))(i,n,!Xc,a,B2.test(e)&&Pb(n.parentNode)||n),a},To.sortStable=si.split("").sort(Xv).join("")===si,To.detectDuplicates=!!Ps,Gv(),To.sortDetached=!0;var M2=document,Wo=Array.prototype.push,Zd=Array.prototype.slice,Io=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bu=$h.Event,Jd=Ct.makeMap("children,contents,next,prev"),Ns=function(e){return typeof e<"u"},Fb=function(e){return typeof e=="string"},Jc=function(e){return e&&e===e.window},Nh=function(e,n){n=n||M2;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var l;l=a.firstChild;)i.appendChild(l);return i},zh=function(e,n,a,i){var l;if(Fb(n))n=Nh(n,td(e[0]));else if(n.length&&!n.nodeType){if(n=hr.makeArray(n),i)for(l=n.length-1;l>=0;l--)zh(e,n[l],a,i);else for(l=0;l<n.length;l++)zh(e,n[l],a,i);return e}if(n.nodeType)for(l=e.length;l--;)a.call(e[l],n);return e},dS=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},mS=function(e,n,a){var i,l;return n=hr(n)[0],e.each(function(){var v=this;(!a||i!==v.parentNode)&&(i=v.parentNode,l=n.cloneNode(!1),v.parentNode.insertBefore(l,v)),l.appendChild(v)}),e},WA=Ct.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),jA=Ct.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),GA={for:"htmlFor",class:"className",readonly:"readOnly"},hS={float:"cssFloat"},Lb={},Hb={},Oi=function(e,n){return new hr.fn.init(e,n)},Vb=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},P2=/^\s*|\s*$/g,rl=function(e){return e==null?"":(""+e).replace(P2,"")},Wa=function(e,n){var a,i,l,v;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(v=e[i],n.call(v,i,v)===!1))break}else for(l=0;l<a&&(v=e[l],n.call(v,l,v)!==!1);l++);return e},zs=function(e,n){var a=[];return Wa(e,function(i,l){n(l,i)&&a.push(l)}),a},td=function(e){return e?e.nodeType===9?e:e.ownerDocument:M2};Oi.fn=Oi.prototype={constructor:Oi,selector:"",context:null,length:0,init:function(e,n){var a=this,i,l;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return hr(e).attr(n);a.context=n=document}if(Fb(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=Io.exec(e),i)if(i[1])for(l=Nh(e,td(n)).firstChild;l;)Wo.call(a,l),l=l.nextSibling;else{if(l=td(n).getElementById(i[2]),!l)return a;if(l.id!==i[2])return a.find(e);a.length=1,a[0]=l}else return hr(n).find(e);else this.add(e,!1);return a},toArray:function(){return Ct.toArray(this)},add:function(e,n){var a=this,i,l;if(Fb(e))return a.add(hr(e));if(n!==!1)for(i=hr.unique(a.toArray().concat(hr.makeArray(e))),a.length=i.length,l=0;l<i.length;l++)a[l]=i[l];else Wo.apply(a,hr.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")Wa(e,function(l,v){a.attr(l,v)});else if(Ns(n))this.each(function(){var l;if(this.nodeType===1){if(l=Lb[e],l&&l.set){l.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=Lb[e],i&&i.get)return i.get(a[0],e);if(jA[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=GA[e]||e,typeof e=="object")Wa(e,function(i,l){a.prop(i,l)});else if(Ns(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,l,v=function(S){return S.replace(/-(\D)/g,function(A,F){return F.toUpperCase()})},p=function(S){return S.replace(/[A-Z]/g,function(A){return"-"+A})};if(typeof e=="object")Wa(e,function(S,A){a.css(S,A)});else if(Ns(n))e=v(e),typeof n=="number"&&!WA[e]&&(n=n.toString()+"px"),a.each(function(){var S=this.style;if(l=Hb[e],l&&l.set){l.set(this,n);return}try{this.style[hS[e]||e]=n}catch{}(n===null||n==="")&&(S.removeProperty?S.removeProperty(p(e)):S.removeAttribute(e))});else{if(i=a[0],l=Hb[e],l&&l.get)return l.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(p(e))}catch{return}else return i.currentStyle?i.currentStyle[v(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],bu.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(Ns(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch{hr(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(Ns(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return zh(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return zh(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?zh(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?zh(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return hr(e).append(this),this},prependTo:function(e){return hr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return mS(this,e)},wrapAll:function(e){return mS(this,e,!0)},wrapInner:function(e){return this.each(function(){hr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){hr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),hr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?Wa(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,l){var v=dS(l,e);if(v!==n){var p=l.className;v?l.className=rl((" "+p+" ").replace(" "+e+" "," ")):l.className+=p?" "+e:e}})),a},hasClass:function(e){return dS(this[0],e)},each:function(e){return Wa(this,e)},on:function(e,n){return this.each(function(){bu.bind(this,e,n)})},off:function(e,n){return this.each(function(){bu.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?bu.fire(this,e.type,e):bu.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return hr(Zd.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)hr.find(e,this[n],i);return hr(i)},filter:function(e){return hr(typeof e=="function"?zs(this.toArray(),function(n,a){return e(a,n)}):hr.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof hr&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&hr(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),hr(n)},offset:function(e){var n,a,i,l=0,v=0,p;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(p=n.getBoundingClientRect(),l=p.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,v=p.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:l,top:v})},push:Wo,sort:Array.prototype.sort,splice:Array.prototype.splice},Ct.extend(Oi,{extend:Ct.extend,makeArray:function(e){return Jc(e)||e.nodeType?[e]:Ct.toArray(e)},inArray:Vb,isArray:Ct.isArray,each:Wa,trim:rl,grep:zs,find:ga,expr:ga.selectors,unique:ga.uniqueSort,text:ga.getText,contains:ga.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=hr.find.matchesSelector(n[0],e)?[n[0]]:[]:n=hr.find.matches(e,n),n}});var I2=function(e,n,a){var i=[],l=e[n];for(typeof a!="string"&&a instanceof hr&&(a=a[0]);l&&l.nodeType!==9&&!(a!==void 0&&(l===a||typeof a=="string"&&hr(l).is(a)));)l.nodeType===1&&i.push(l),l=l[n];return i},Ub=function(e,n,a,i){var l=[];for(i instanceof hr&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&hr(e).is(i)))break;l.push(e)}return l},gS=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};Wa({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return I2(e,"parentNode")},next:function(e){return gS(e,"nextSibling",1)},prev:function(e){return gS(e,"previousSibling",1)},children:function(e){return Ub(e.firstChild,"nextSibling",1)},contents:function(e){return Ct.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){Oi.fn[e]=function(a){var i=this,l=[];i.each(function(){var p=n.call(l,this,a,l);p&&(hr.isArray(p)?l.push.apply(l,p):l.push(p))}),this.length>1&&(Jd[e]||(l=hr.unique(l)),e.indexOf("parents")===0&&(l=l.reverse()));var v=hr(l);return a?v.filter(a):v}}),Wa({parentsUntil:function(e,n){return I2(e,"parentNode",n)},nextUntil:function(e,n){return Ub(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return Ub(e,"previousSibling",1,n).slice(1)}},function(e,n){Oi.fn[e]=function(a,i){var l=this,v=[];l.each(function(){var S=n.call(v,this,a,v);S&&(hr.isArray(S)?v.push.apply(v,S):v.push(S))}),this.length>1&&(v=hr.unique(v),(e.indexOf("parents")===0||e==="prevUntil")&&(v=v.reverse()));var p=hr(v);return i?p.filter(i):p}}),Oi.fn.is=function(e){return!!e&&this.filter(e).length>0},Oi.fn.init.prototype=Oi.fn,Oi.overrideDefaults=function(e){var n,a=function(i,l){return n=n||e(),arguments.length===0&&(i=n.element),l||(l=n.context),new a.fn.init(i,l)};return hr.extend(a,this),a},Oi.attrHooks=Lb,Oi.cssHooks=Hb;var hr=Oi,Fh=Ct.each,Wb=Ct.grep,N2=Wn.ie,jo=/^([a-z0-9],?)+$/i,al=function(e,n,a){var i=n.keep_values,l={set:function(p,S,A){n.url_converter&&S!==null&&(S=n.url_converter.call(n.url_converter_scope||a(),S,A,p[0])),p.attr("data-mce-"+A,S).attr(A,S)},get:function(p,S){return p.attr("data-mce-"+S)||p.attr(S)}},v={style:{set:function(p,S){if(S!==null&&typeof S=="object"){p.css(S);return}i&&p.attr("data-mce-style",S),S!==null&&typeof S=="string"?(p.removeAttr("style"),p.css(e.parse(S))):p.attr("style",S)},get:function(p){var S=p.attr("data-mce-style")||p.attr("style");return S=e.serialize(e.parse(S),p[0].nodeName),S}}};return i&&(v.href=v.src=l),v},pS=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},Qd=function(e,n){var a=0,i,l;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)l=e.nodeType,!(n&&l===3&&(l===i||!e.nodeValue.length))&&(a++,i=l);return a},Na=function(e,n){n===void 0&&(n={});var a={},i=window,l={},v=0,p=!0,S=!0,A=Ol.forElement(Ge.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),F=[],X=n.schema?n.schema:Bs({}),Z=Ml({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),Q=n.ownEvents?new $h:$h.Event,fe=X.getBlockElements(),de=hr.overrideDefaults(function(){return{context:e,element:zm.getRoot()}}),ge=function(Pe){if(typeof Pe=="string")return!!fe[Pe];if(Pe){var lt=Pe.nodeType;if(lt)return!!(lt===1&&fe[Pe.nodeName])}return!1},pe=function(Pe){return Pe&&e&&$e(Pe)?e.getElementById(Pe):Pe},Oe=function(Pe){return de(typeof Pe=="string"?pe(Pe):Pe)},xe=function(Pe,lt,Wt){var nn,wr,Gr=Oe(Pe);return Gr.length&&(nn=l5[lt],nn&&nn.get?wr=nn.get(Gr,lt):wr=Gr.attr(lt)),typeof wr>"u"&&(wr=Wt||""),wr},Ye=function(Pe){var lt=pe(Pe);return lt?lt.attributes:[]},je=function(Pe,lt,Wt){Wt===""&&(Wt=null);var nn=Oe(Pe),wr=nn.attr(lt);if(nn.length){var Gr=l5[lt];Gr&&Gr.set?Gr.set(nn,Wt,lt):nn.attr(lt,Wt),wr!==Wt&&n.onSetAttrib&&n.onSetAttrib({attrElm:nn,attrName:lt,attrValue:Wt})}},Re=function(Pe,lt){if(!N2||Pe.nodeType!==1||lt)return Pe.cloneNode(lt);var Wt=e.createElement(Pe.nodeName);return Fh(Ye(Pe),function(nn){je(Wt,nn.nodeName,xe(Pe,nn.nodeName))}),Wt},Qe=function(){return n.root_element||e.body},xt=function(Pe){var lt=qf(Pe);return{x:lt.x,y:lt.y,w:lt.width,h:lt.height}},Lt=function(Pe,lt){return wp(e.body,pe(Pe),lt)},jn=function(Pe,lt,Wt){var nn=$e(lt)?Oe(Pe).css(lt,Wt):Oe(Pe).css(lt);n.update_styles&&pS(Z,nn)},mn=function(Pe,lt){var Wt=Oe(Pe).css(lt);n.update_styles&&pS(Z,Wt)},Mt=function(Pe,lt,Wt){var nn=Oe(Pe);return Wt?nn.css(lt):(lt=lt.replace(/-(\D)/g,function(wr,Gr){return Gr.toUpperCase()}),lt==="float"&&(lt=Wn.browser.isIE()?"styleFloat":"cssFloat"),nn[0]&&nn[0].style?nn[0].style[lt]:void 0)},Un=function(Pe){var lt,Wt;return Pe=pe(Pe),lt=Mt(Pe,"width"),Wt=Mt(Pe,"height"),lt.indexOf("px")===-1&&(lt=0),Wt.indexOf("px")===-1&&(Wt=0),{w:parseInt(lt,10)||Pe.offsetWidth||Pe.clientWidth,h:parseInt(Wt,10)||Pe.offsetHeight||Pe.clientHeight}},Ut=function(Pe){Pe=pe(Pe);var lt=Lt(Pe),Wt=Un(Pe);return{x:lt.x,y:lt.y,w:Wt.w,h:Wt.h}},vn=function(Pe,lt){var Wt;if(!Pe)return!1;if(!Array.isArray(Pe)){if(lt==="*")return Pe.nodeType===1;if(jo.test(lt)){var nn=lt.toLowerCase().split(/,/),wr=Pe.nodeName.toLowerCase();for(Wt=nn.length-1;Wt>=0;Wt--)if(nn[Wt]===wr)return!0;return!1}if(Pe.nodeType&&Pe.nodeType!==1)return!1}var Gr=Array.isArray(Pe)?Pe:[Pe];return ga(lt,Gr[0].ownerDocument||Gr[0],null,Gr).length>0},Gt=function(Pe,lt,Wt,nn){var wr=[],Gr,Qa=pe(Pe);for(nn=nn===void 0,Wt=Wt||(Qe().nodeName!=="BODY"?Qe().parentNode:null),Ct.is(lt,"string")&&(Gr=lt,lt==="*"?lt=function(ep){return ep.nodeType===1}:lt=function(ep){return vn(ep,Gr)});Qa&&!(Qa===Wt||ye(Qa.nodeType)||yp(Qa)||mr(Qa));){if(!lt||typeof lt=="function"&&lt(Qa))if(nn)wr.push(Qa);else return[Qa];Qa=Qa.parentNode}return nn?wr:null},Qt=function(Pe,lt,Wt){var nn=Gt(Pe,lt,Wt,!1);return nn&&nn.length>0?nn[0]:null},yn=function(Pe,lt,Wt){var nn=lt;if(Pe){for(typeof lt=="string"&&(nn=function(wr){return vn(wr,lt)}),Pe=Pe[Wt];Pe;Pe=Pe[Wt])if(typeof nn=="function"&&nn(Pe))return Pe}return null},It=function(Pe,lt){return yn(Pe,lt,"nextSibling")},hn=function(Pe,lt){return yn(Pe,lt,"previousSibling")},Tr=function(Pe,lt){return ga(Pe,pe(lt)||n.root_element||e,[])},ra=function(Pe,lt,Wt){var nn,wr=typeof Pe=="string"?pe(Pe):Pe;if(!wr)return!1;if(Ct.isArray(wr)&&(wr.length||wr.length===0))return nn=[],Fh(wr,function(Qa,ep){Qa&&nn.push(lt.call(Wt,typeof Qa=="string"?pe(Qa):Qa,ep))}),nn;var Gr=Wt||this;return lt.call(Gr,wr)},Jr=function(Pe,lt){Oe(Pe).each(function(Wt,nn){Fh(lt,function(wr,Gr){je(nn,Gr,wr)})})},Ii=function(Pe,lt){var Wt=Oe(Pe);N2?Wt.each(function(nn,wr){if(wr.canHaveHTML!==!1){for(;wr.firstChild;)wr.removeChild(wr.firstChild);try{wr.innerHTML="<br>"+lt,wr.removeChild(wr.firstChild)}catch{hr("<div></div>").html("<br>"+lt).contents().slice(1).appendTo(wr)}return lt}}):Wt.html(lt)},so=function(Pe,lt,Wt,nn,wr){return ra(Pe,function(Gr){var Qa=typeof lt=="string"?e.createElement(lt):lt;return Jr(Qa,Wt),nn&&(typeof nn!="string"&&nn.nodeType?Qa.appendChild(nn):typeof nn=="string"&&Ii(Qa,nn)),wr?Qa:Gr.appendChild(Qa)})},ju=function(Pe,lt,Wt){return so(e.createElement(Pe),Pe,lt,Wt,!0)},ps=$s.decode,Nt=$s.encodeAllRaw,Kt=function(Pe,lt,Wt){var nn="",wr;nn+="<"+Pe;for(wr in lt)Gs(lt,wr)&&(nn+=" "+wr+'="'+Nt(lt[wr])+'"');return typeof Wt<"u"?nn+">"+Wt+"</"+Pe+">":nn+" />"},$n=function(Pe){var lt,Wt=e.createElement("div"),nn=e.createDocumentFragment();for(nn.appendChild(Wt),Pe&&(Wt.innerHTML=Pe);lt=Wt.firstChild;)nn.appendChild(lt);return nn.removeChild(Wt),nn},tt=function(Pe,lt){var Wt=Oe(Pe);return lt?Wt.each(function(){for(var nn;nn=this.firstChild;)nn.nodeType===3&&nn.data.length===0?this.removeChild(nn):this.parentNode.insertBefore(nn,this)}).remove():Wt.remove(),Wt.length>1?Wt.toArray():Wt[0]},Vt=function(Pe){return ra(Pe,function(lt){var Wt,nn=lt.attributes;for(Wt=nn.length-1;Wt>=0;Wt--)lt.removeAttributeNode(nn.item(Wt))})},zt=function(Pe){return Z.parse(Pe)},Pn=function(Pe,lt){return Z.serialize(Pe,lt)},Ln=function(Pe){var lt,Wt;if(zm!==Na.DOM&&e===document){if(a[Pe])return;a[Pe]=!0}Wt=e.getElementById("mceDefaultStyles"),Wt||(Wt=e.createElement("style"),Wt.id="mceDefaultStyles",Wt.type="text/css",lt=e.getElementsByTagName("head")[0],lt.firstChild?lt.insertBefore(Wt,lt.firstChild):lt.appendChild(Wt)),Wt.styleSheet?Wt.styleSheet.cssText+=Pe:Wt.appendChild(e.createTextNode(Pe))},Aa=function(Pe){Pe||(Pe=""),Le(Pe.split(","),function(lt){l[lt]=!0,A.load(lt,Ee)})},ni=function(Pe,lt,Wt){Oe(Pe).toggleClass(lt,Wt).each(function(){this.className===""&&hr(this).attr("class",null)})},Yo=function(Pe,lt){Oe(Pe).addClass(lt)},Nm=function(Pe,lt){ni(Pe,lt,!1)},Gu=function(Pe,lt){return Oe(Pe).hasClass(lt)},Eu=function(Pe){Oe(Pe).show()},hi=function(Pe){Oe(Pe).hide()},jl=function(Pe){return Oe(Pe).css("display")==="none"},qu=function(Pe){return(Pe||"mce_")+v++},kf=function(Pe){var lt=typeof Pe=="string"?pe(Pe):Pe;return Jn(lt)?lt.outerHTML:hr("<div></div>").append(hr(lt).clone()).html()},Oa=function(Pe,lt){Oe(Pe).each(function(){try{if("outerHTML"in this){this.outerHTML=lt;return}}catch{}tt(hr(this).html(lt),!0)})},ja=function(Pe,lt){var Wt=pe(lt);return ra(Pe,function(nn){var wr=Wt.parentNode,Gr=Wt.nextSibling;return Gr?wr.insertBefore(nn,Gr):wr.appendChild(nn),nn})},gi=function(Pe,lt,Wt){return ra(lt,function(nn){return Ct.is(nn,"array")&&(Pe=Pe.cloneNode(!0)),Wt&&Fh(Wb(nn.childNodes),function(wr){Pe.appendChild(wr)}),nn.parentNode.replaceChild(Pe,nn)})},bs=function(Pe,lt){var Wt;return Pe.nodeName!==lt.toUpperCase()&&(Wt=ju(lt),Fh(Ye(Pe),function(nn){je(Wt,nn.nodeName,xe(Pe,nn.nodeName))}),gi(Wt,Pe,!0)),Wt||Pe},xv=function(Pe,lt){for(var Wt=Pe,nn;Wt;){for(nn=lt;nn&&Wt!==nn;)nn=nn.parentNode;if(Wt===nn)break;Wt=Wt.parentNode}return!Wt&&Pe.ownerDocument?Pe.ownerDocument.documentElement:Wt},kv=function(Pe){return Z.toHex(Ct.trim(Pe))},Qg=function(Pe){if(Jn(Pe)){var lt=Pe.nodeName.toLowerCase()==="a"&&!xe(Pe,"href")&&xe(Pe,"id");if(xe(Pe,"name")||xe(Pe,"data-mce-bookmark")||lt)return!0}return!1},Ly=function(Pe,lt){var Wt,nn,wr=0;if(Qg(Pe))return!1;if(Pe=Pe.firstChild,Pe){var Gr=new sa(Pe,Pe.parentNode),Qa=X?X.getWhiteSpaceElements():{};lt=lt||(X?X.getNonEmptyElements():null);do{if(Wt=Pe.nodeType,Jn(Pe)){var ep=Pe.getAttribute("data-mce-bogus");if(ep){Pe=Gr.next(ep==="all");continue}if(nn=Pe.nodeName.toLowerCase(),lt&&lt[nn]){if(nn==="br"){wr++,Pe=Gr.next();continue}return!1}if(Qg(Pe))return!1}if(Wt===8||Wt===3&&!Rl(Pe.nodeValue)||Wt===3&&Pe.parentNode&&Qa[Pe.parentNode.nodeName]&&Rl(Pe.nodeValue))return!1;Pe=Gr.next()}while(Pe)}return wr<=1},Y3=function(){return e.createRange()},$M=function(Pe,lt,Wt){var nn=Y3(),wr,Gr,Qa;if(Pe&&lt)return nn.setStart(Pe.parentNode,Qd(Pe)),nn.setEnd(lt.parentNode,Qd(lt)),wr=nn.extractContents(),nn=Y3(),nn.setStart(lt.parentNode,Qd(lt)+1),nn.setEnd(Pe.parentNode,Qd(Pe)+1),Gr=nn.extractContents(),Qa=Pe.parentNode,Qa.insertBefore(y2(zm,wr),Pe),Wt?Qa.insertBefore(Wt,Pe):Qa.insertBefore(lt,Pe),Qa.insertBefore(y2(zm,Gr),Pe),tt(Pe),Wt||lt},BM=function(Pe,lt,Wt,nn){if(Ct.isArray(Pe)){for(var wr=Pe.length,Gr=[];wr--;)Gr[wr]=BM(Pe[wr],lt,Wt,nn);return Gr}n.collect&&(Pe===e||Pe===i)&&F.push([Pe,lt,Wt,nn]);var Qa=Q.bind(Pe,lt,Wt,nn||zm);return Qa},u5=function(Pe,lt,Wt){if(Ct.isArray(Pe)){for(var nn=Pe.length,wr=[];nn--;)wr[nn]=u5(Pe[nn],lt,Wt);return wr}else{if(F.length>0&&(Pe===e||Pe===i))for(var nn=F.length;nn--;){var Gr=F[nn];Pe===Gr[0]&&(!lt||lt===Gr[1])&&(!Wt||Wt===Gr[2])&&Q.unbind(Gr[0],Gr[1],Gr[2])}return Q.unbind(Pe,lt,Wt)}},a7=function(Pe,lt,Wt){return Q.fire(Pe,lt,Wt)},MM=function(Pe){if(Pe&&Jn(Pe)){var lt=Pe.getAttribute("data-mce-contenteditable");return lt&&lt!=="inherit"?lt:Pe.contentEditable!=="inherit"?Pe.contentEditable:null}else return null},o7=function(Pe){for(var lt=Qe(),Wt=null;Pe&&Pe!==lt&&(Wt=MM(Pe),Wt===null);Pe=Pe.parentNode);return Wt},PM=function(){if(F.length>0)for(var Pe=F.length;Pe--;){var lt=F[Pe];Q.unbind(lt[0],lt[1],lt[2])}Vr(l,function(Wt,nn){A.unload(nn),delete l[nn]}),ga.setDocument&&ga.setDocument()},s5=function(Pe,lt){if(N2){for(;Pe;){if(lt===Pe)return!0;Pe=Pe.parentNode}return!1}else return Pe===lt||lt.contains(Pe)},i7=function(Pe){return"startContainer: "+Pe.startContainer.nodeName+", startOffset: "+Pe.startOffset+", endContainer: "+Pe.endContainer.nodeName+", endOffset: "+Pe.endOffset},zm={doc:e,settings:n,win:i,files:l,stdMode:p,boxModel:S,styleSheetLoader:A,boundEvents:F,styles:Z,schema:X,events:Q,isBlock:ge,$:de,$$:Oe,root:null,clone:Re,getRoot:Qe,getViewPort:xt,getRect:Ut,getSize:Un,getParent:Qt,getParents:Gt,get:pe,getNext:It,getPrev:hn,select:Tr,is:vn,add:so,create:ju,createHTML:Kt,createFragment:$n,remove:tt,setStyle:jn,getStyle:Mt,setStyles:mn,removeAllAttribs:Vt,setAttrib:je,setAttribs:Jr,getAttrib:xe,getPos:Lt,parseStyle:zt,serializeStyle:Pn,addStyle:Ln,loadCSS:Aa,addClass:Yo,removeClass:Nm,hasClass:Gu,toggleClass:ni,show:Eu,hide:hi,isHidden:jl,uniqueId:qu,setHTML:Ii,getOuterHTML:kf,setOuterHTML:Oa,decode:ps,encode:Nt,insertAfter:ja,replace:gi,rename:bs,findCommonAncestor:xv,toHex:kv,run:ra,getAttribs:Ye,isEmpty:Ly,createRng:Y3,nodeIndex:Qd,split:$M,bind:BM,unbind:u5,fire:a7,getContentEditable:MM,getContentEditableParent:o7,destroy:PM,isChildOf:s5,dumpRng:i7},l5=al(Z,n,j(zm));return zm};Na.DOM=Na(document),Na.nodeIndex=Qd;var em=Na.DOM,jb=Ct.each,Lh=Ct.grep,z2=0,bS=1,Np=2,yS=3,av=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var l=em,v,p=function(){l.remove(F),v&&(v.onerror=v.onload=v=null)},S=function(){p(),a()},A=function(){p(),le(i)?i():typeof console<"u"&&console.log&&console.log("Failed to load script: "+n)},F=l.uniqueId();v=document.createElement("script"),v.id=F,v.type="text/javascript",v.src=Ct._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(v,"referrerpolicy",this.settings.referrerPolicy),v.onload=S,v.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(v)},e.prototype.isDone=function(n){return this.states[n]===Np},e.prototype.markDone=function(n){this.states[n]=Np},e.prototype.add=function(n,a,i,l){var v=this.states[n];this.queue.push(n),v===void 0&&(this.states[n]=z2),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:l,scope:i||this}))},e.prototype.load=function(n,a,i,l){return this.add(n,a,i,l)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,l){var v=this,p=[],S=function(F,X){jb(v.scriptLoadedCallbacks[X],function(Z){le(Z[F])&&Z[F].call(Z.scope)}),v.scriptLoadedCallbacks[X]=void 0};v.queueLoadedCallbacks.push({success:a,failure:l,scope:i||this});var A=function(){var F=Lh(n);if(n.length=0,jb(F,function(Z){if(v.states[Z]===Np){S("success",Z);return}if(v.states[Z]===yS){S("failure",Z);return}v.states[Z]!==bS&&(v.states[Z]=bS,v.loading++,v.loadScript(Z,function(){v.states[Z]=Np,v.loading--,S("success",Z),A()},function(){v.states[Z]=yS,v.loading--,p.push(Z),S("failure",Z),A()}))}),!v.loading){var X=v.queueLoadedCallbacks.slice(0);v.queueLoadedCallbacks.length=0,jb(X,function(Z){p.length===0?le(Z.success)&&Z.success.call(Z.scope):le(Z.failure)&&Z.failure.call(Z.scope,p)})}};A()},e.ScriptLoader=new e,e}(),yu=function(e){var n=e,a=function(){return n},i=function(l){n=l};return{get:a,set:i}},F2=function(e){return me(e)&&Dr(e,"raw")},qA=function(e){return Be(e)&&e.length>1},dc={},ov=yu("en"),Gb=function(){return Ir(dc,ov.get())},KA=function(){return wi(dc,function(e){return qn({},e)})},XA=function(e){e&&ov.set(e)},tm=function(){return ov.get()},nm=function(e,n){var a=dc[e];a||(dc[e]=a={}),Vr(n,function(i,l){a[l.toLowerCase()]=i})},qb=function(e){var n=Gb().getOr({}),a=function(A){return le(A)?Object.prototype.toString.call(A):i(A)?"":""+A},i=function(A){return A===""||A===null||A===void 0},l=function(A){var F=a(A);return Ir(n,F.toLowerCase()).map(a).getOr(F)},v=function(A){return A.replace(/{context:\w+}$/,"")};if(i(e))return"";if(F2(e))return a(e.raw);if(qA(e)){var p=e.slice(1),S=l(e[0]).replace(/\{([0-9]+)\}/g,function(A,F){return Dr(p,F)?a(p[F]):A});return v(S)}return v(l(e))},Yr=function(){return Gb().bind(function(e){return Ir(e,"_dir")}).exists(function(e){return e==="rtl"})},Go=function(e){return Dr(dc,e)},wu={getData:KA,setCode:XA,getCode:tm,add:nm,translate:qb,isRtl:Yr,hasCode:Go},zu=function(){var e=[],n={},a={},i=[],l=function(ge,pe){var Oe=ut(i,function(xe){return xe.name===ge&&xe.state===pe});Le(Oe,function(xe){return xe.callback()})},v=function(ge){if(a[ge])return a[ge].instance},p=function(ge){var pe;return a[ge]&&(pe=a[ge].dependencies),pe||[]},S=function(ge,pe){zu.languageLoad!==!1&&de(ge,function(){var Oe=wu.getCode(),xe=","+(pe||"")+",";!Oe||pe&&xe.indexOf(","+Oe+",")===-1||av.ScriptLoader.add(n[ge]+"/langs/"+Oe+".js")},"loaded")},A=function(ge,pe,Oe){var xe=pe;return e.push(xe),a[ge]={instance:xe,dependencies:Oe},l(ge,"added"),xe},F=function(ge){delete n[ge],delete a[ge]},X=function(ge,pe){return typeof pe=="object"?pe:typeof ge=="string"?{prefix:"",resource:pe,suffix:""}:{prefix:ge.prefix,resource:pe,suffix:ge.suffix}},Z=function(ge,pe){var Oe=n[ge];Le(pe,function(xe){av.ScriptLoader.add(Oe+"/"+xe)})},Q=function(ge,pe,Oe,xe){var Ye=p(ge);Le(Ye,function(je){var Re=X(pe,je);fe(Re.resource,Re,void 0,void 0)}),Oe&&(xe?Oe.call(xe):Oe.call(av))},fe=function(ge,pe,Oe,xe,Ye){if(!n[ge]){var je=typeof pe=="string"?pe:pe.prefix+pe.resource+pe.suffix;je.indexOf("/")!==0&&je.indexOf("://")===-1&&(je=zu.baseURL+"/"+je),n[ge]=je.substring(0,je.lastIndexOf("/"));var Re=function(){l(ge,"loaded"),Q(ge,pe,Oe,xe)};a[ge]?Re():av.ScriptLoader.add(je,Re,xe,Ye)}},de=function(ge,pe,Oe){Oe===void 0&&(Oe="added"),Dr(a,ge)&&Oe==="added"||Dr(n,ge)&&Oe==="loaded"?pe():i.push({name:ge,state:Oe,callback:pe})};return{items:e,urls:n,lookup:a,_listeners:i,get:v,dependencies:p,requireLangPack:S,add:A,remove:F,createUrl:X,addComponents:Z,load:fe,waitFor:de}};zu.languageLoad=!0,zu.baseURL="",zu.PluginManager=zu(),zu.ThemeManager=zu();var ka=function(e){var n=yu(te.none()),a=function(){return n.get().each(e)},i=function(){a(),n.set(te.none())},l=function(){return n.get().isSome()},v=function(){return n.get()},p=function(S){a(),n.set(te.some(S))};return{clear:i,isSet:l,get:v,set:p}},nd=function(){var e=ka(Ee),n=function(a){return e.get().each(a)};return qn(qn({},e),{on:n})},Kb=function(e,n){var a=null,i=function(){ie(a)||(clearTimeout(a),a=null)},l=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];ie(a)&&(a=setTimeout(function(){a=null,e.apply(null,v)},n))};return{cancel:i,throttle:l}},Qo=function(e,n){var a=null,i=function(){ie(a)||(clearTimeout(a),a=null)},l=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];i(),a=setTimeout(function(){a=null,e.apply(null,v)},n)};return{cancel:i,throttle:l}},Qc=function(e,n){var a=re(e,n);return a===void 0||a===""?[]:a.split(" ")},YA=function(e,n,a){var i=Qc(e,n),l=i.concat([a]);return P(e,n,l.join(" ")),!0},ZA=function(e,n,a){var i=ut(Qc(e,n),function(l){return l!==a});return i.length>0?P(e,n,i.join(" ")):yt(e,n),!1},Xb=function(e){return e.dom.classList!==void 0},Yb=function(e){return Qc(e,"class")},L2=function(e,n){return YA(e,"class",n)},H2=function(e,n){return ZA(e,"class",n)},rm=function(e,n){Xb(e)?e.dom.classList.add(n):L2(e,n)},zp=function(e){var n=Xb(e)?e.dom.classList:Yb(e);n.length===0&&yt(e,"class")},V2=function(e,n){if(Xb(e)){var a=e.dom.classList;a.remove(n)}else H2(e,n);zp(e)},U2=function(e,n){return Xb(e)&&e.dom.classList.contains(n)},Hh=function(e,n){var a=[];return Le(Qi(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(Hh(i,n))}),a},Di=function(e,n){return vb(n,e)},fs=j("mce-annotation"),Fp=j("data-mce-annotation"),qo=j("data-mce-annotation-uid"),Zb=function(e,n){var a=e.selection.getRng(),i=Ge.fromDom(a.startContainer),l=Ge.fromDom(e.getBody()),v=n.fold(function(){return"."+fs()},function(F){return"["+Fp()+'="'+F+'"]'}),p=nc(i,a.startOffset).getOr(i),S=wo(p,v,function(F){return Ma(F,l)}),A=function(F,X){return Ke(F,X)?te.some(re(F,X)):te.none()};return S.bind(function(F){return A(F,""+qo()).bind(function(X){return A(F,""+Fp()).map(function(Z){var Q=W2(e,X);return{uid:X,name:Z,elements:Q}})})})},iv=function(e){return Va(e)&&U2(e,fs())},W2=function(e,n){var a=Ge.fromDom(e.getBody());return Di(a,"["+qo()+'="'+n+'"]')},j2=function(e,n){var a=Ge.fromDom(e.getBody()),i=Di(a,"["+Fp()+'="'+n+'"]'),l={};return Le(i,function(v){var p=re(v,qo()),S=Ir(l,p).getOr([]);l[p]=S.concat([v])}),l},wS=function(e,n){var a=yu({}),i=function(){return{listeners:[],previous:nd()}},l=function(X,Z){v(X,function(Q){return Z(Q),Q})},v=function(X,Z){var Q=a.get(),fe=Ir(Q,X).getOrThunk(i),de=Z(fe);Q[X]=de,a.set(Q)},p=function(X,Z,Q){l(X,function(fe){Le(fe.listeners,function(de){return de(!0,X,{uid:Z,nodes:et(Q,function(ge){return ge.dom})})})})},S=function(X){l(X,function(Z){Le(Z.listeners,function(Q){return Q(!1,X)})})},A=Qo(function(){var X=a.get(),Z=Qr(Ji(X));Le(Z,function(Q){v(Q,function(fe){var de=fe.previous.get();return Zb(e,te.some(Q)).fold(function(){de.isSome()&&(S(Q),fe.previous.clear())},function(ge){var pe=ge.uid,Oe=ge.name,xe=ge.elements;Fd(de,pe)||(p(Oe,pe,xe),fe.previous.set(pe))}),{previous:fe.previous,listeners:fe.listeners}})})},30);e.on("remove",function(){A.cancel()}),e.on("NodeChange",function(){A.throttle()});var F=function(X,Z){v(X,function(Q){return{previous:Q.previous,listeners:Q.listeners.concat([Z])}})};return{addListener:F}},G2=function(e,n){var a=function(i){return te.from(i.attr(Fp())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){Le(i,function(l){a(l).each(function(v){v.persistent===!1&&l.unwrap()})})})})},Lp=function(){var e={},n=function(i,l){e[i]={name:i,settings:l}},a=function(i){return Ir(e,i).map(function(l){return l.settings})};return{register:n,lookup:a}},Jb=0,CS=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return Jb++,e+"_"+i+Jb+String(a)},JA=function(e,n){Le(n,function(a){rm(e,a)})},Ki=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,Qi(Ge.fromDom(i))},ei=function(e){return et(e,Ge.fromDom)},Cu=function(e){return e.dom.innerHTML},_u=function(e,n){var a=Al(e),i=a.dom,l=Ge.fromDom(i.createDocumentFragment()),v=Ki(n,i);Vf(l,v),Uf(e),Ho(e,l)},Fu=function(e,n){return Ge.fromDom(e.dom.cloneNode(n))},No=function(e){return Fu(e,!1)},Qb=function(e){return Fu(e,!0)},e0=function(e,n,a){a===void 0&&(a=ot);var i=new sa(e,n),l=function(v){var p;do p=i[v]();while(p&&!gn(p)&&!a(p));return te.from(p).filter(gn)};return{current:function(){return te.from(i.current()).filter(gn)},next:function(){return l("next")},prev:function(){return l("prev")},prev2:function(){return l("prev2")}}},q2=function(e,n){var a=n||function(p){return e.isBlock(p)||wa(p)||Ua(p)},i=function(p,S,A,F){if(gn(p)){var X=F(p,S,p.data);if(X!==-1)return te.some({container:p,offset:X})}return A().bind(function(Z){return i(Z.container,Z.offset,A,F)})},l=function(p,S,A,F){var X=e0(p,F,a);return i(p,S,function(){return X.prev().map(function(Z){return{container:Z,offset:Z.length}})},A).getOrNull()},v=function(p,S,A,F){var X=e0(p,F,a);return i(p,S,function(){return X.next().map(function(Z){return{container:Z,offset:0}})},A).getOrNull()};return{backwards:l,forwards:v}},am=Math.round,rd=function(e){return e?{left:am(e.left),top:am(e.top),bottom:am(e.bottom),right:am(e.right),width:am(e.width),height:am(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},t0=function(e,n){return e=rd(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},n0=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},r0=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},Vh=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:r0(n.top-e.bottom,e,n)},Uh=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:r0(n.bottom-e.top,e,n)},_S=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},ef=function(e,n,a){return Math.min(Math.max(e,n),a)},om=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},Ka=function(e,n){if(Jn(e)&&e.hasChildNodes()){var a=e.childNodes,i=ef(n,0,a.length-1);return a[i]}else return e},QA=function(e,n){if(!(n<0&&Jn(e)&&e.hasChildNodes()))return Ka(e,n)},e4=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),a0=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&e4.test(e)},t4=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},SS=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},Jt=Jn,n4=Gc,Ko=mu("display","block table"),K2=mu("float","left right"),im=SS(Jt,n4,be(K2)),xS=be(mu("white-space","pre pre-line pre-wrap")),nu=gn,Hp=wa,o0=Na.nodeIndex,Vp=QA,mc=function(e){return"createRange"in e?e.createRange():Na.DOM.createRng()},Up=function(e){return e&&/[\r\n\t ]/.test(e)},Wp=function(e){return!!e.setStart&&!!e.setEnd},Su=function(e){var n=e.startContainer,a=e.startOffset;if(Up(e.toString())&&xS(n.parentNode)&&gn(n)){var i=n.data;if(Up(i[a-1])||Up(i[a+1]))return!0}return!1},hc=function(e){var n=e.ownerDocument,a=mc(n),i=n.createTextNode(us),l=e.parentNode;l.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var v=rd(a.getBoundingClientRect());return l.removeChild(i),v},kS=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,l=e.endOffset;if(n===a&&gn(a)&&i===0&&l===1){var v=e.cloneRange();return v.setEndAfter(a),tf(v)}else return null},ru=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},tf=function(e){var n,a=e.getClientRects();return a.length>0?n=rd(a[0]):n=rd(e.getBoundingClientRect()),!Wp(e)&&Hp(e)&&ru(n)?hc(e):ru(n)&&Wp(e)?kS(e):n},ad=function(e,n){var a=t0(e,n);return a.width=1,a.right=a.left+1,a},jp=function(e){var n=[],a=function(A){A.height!==0&&(n.length>0&&n0(A,n[n.length-1])||n.push(A))},i=function(A,F){var X=mc(A.ownerDocument);if(F<A.data.length){if(a0(A.data[F]))return n;if(a0(A.data[F-1])&&(X.setStart(A,F),X.setEnd(A,F+1),!Su(X)))return a(ad(tf(X),!1)),n}F>0&&(X.setStart(A,F-1),X.setEnd(A,F),Su(X)||a(ad(tf(X),!1))),F<A.data.length&&(X.setStart(A,F),X.setEnd(A,F+1),Su(X)||a(ad(tf(X),!0)))},l=e.container(),v=e.offset();if(nu(l))return i(l,v),n;if(Jt(l))if(e.isAtEnd()){var p=Vp(l,v);nu(p)&&i(p,p.data.length),im(p)&&!Hp(p)&&a(ad(tf(p),!1))}else{var p=Vp(l,v);if(nu(p)&&i(p,0),im(p)&&e.isAtEnd())return a(ad(tf(p),!1)),n;var S=Vp(e.container(),e.offset()-1);im(S)&&!Hp(S)&&(Ko(S)||Ko(p)||!im(p))&&a(ad(tf(S),!1)),im(p)&&a(ad(tf(p),!0))}return n},mt=function(e,n,a){var i=function(){return nu(e),n===0},l=function(){return nu(e)?n>=e.data.length:n>=e.childNodes.length},v=function(){var X=mc(e.ownerDocument);return X.setStart(e,n),X.setEnd(e,n),X},p=function(){return a||(a=jp(mt(e,n))),a},S=function(){return p().length>0},A=function(X){return X&&e===X.container()&&n===X.offset()},F=function(X){return Vp(e,X?n-1:n)};return{container:j(e),offset:j(n),toRange:v,getClientRects:p,isVisible:S,isAtStart:i,isAtEnd:l,isEqual:A,getNode:F}};mt.fromRangeStart=function(e){return mt(e.startContainer,e.startOffset)},mt.fromRangeEnd=function(e){return mt(e.endContainer,e.endOffset)},mt.after=function(e){return mt(e.parentNode,o0(e)+1)},mt.before=function(e){return mt(e.parentNode,o0(e))},mt.isAbove=function(e,n){return eu(da(n.getClientRects()),Ur(e.getClientRects()),Vh).getOr(!1)},mt.isBelow=function(e,n){return eu(Ur(n.getClientRects()),da(e.getClientRects()),Uh).getOr(!1)},mt.isAtStart=function(e){return e?e.isAtStart():!1},mt.isAtEnd=function(e){return e?e.isAtEnd():!1},mt.isTextPosition=function(e){return e?gn(e.container()):!1},mt.isElementPosition=function(e){return mt.isTextPosition(e)===!1};var uv=function(e,n){gn(n)&&n.data.length===0&&e.remove(n)},Wh=function(e,n,a){n.insertNode(a),uv(e,a.previousSibling),uv(e,a.nextSibling)},r4=function(e,n,a){var i=te.from(a.firstChild),l=te.from(a.lastChild);n.insertNode(a),i.each(function(v){return uv(e,v.previousSibling)}),l.each(function(v){return uv(e,v.nextSibling)})},i0=function(e,n,a){mr(a)?r4(e,n,a):Wh(e,n,a)},Il=gn,u0=yo,X2=Na.nodeIndex,Y2=function(e){var n=e.parentNode;return u0(n)?Y2(n):n},s0=function(e){return e?$f(e.childNodes,function(n,a){return u0(a)&&a.nodeName!=="BR"?n=n.concat(s0(a)):n.push(a),n},[]):[]},Z2=function(e,n){for(;(e=e.previousSibling)&&Il(e);)n+=e.data.length;return n},J2=function(e){return function(n){return e===n}},Q2=function(e){var n,a;n=s0(Y2(e)),a=ma(n,J2(e),e),n=n.slice(0,a+1);var i=$f(n,function(l,v,p){return Il(v)&&Il(n[p-1])&&l++,l},0);return n=yl(n,As([e.nodeName])),a=ma(n,J2(e),e),a-i},ew=function(e){var n;return Il(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+Q2(e)+"]"},um=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},AS=function(e,n){var a,i,l=[],v,p,S;return a=n.container(),i=n.offset(),Il(a)?v=Z2(a,i):(p=a.childNodes,i>=p.length?(v="after",i=p.length-1):v="before",a=p[i]),l.push(ew(a)),S=um(e,a),S=yl(S,be(yo)),l=l.concat(Ov(S,function(A){return ew(A)})),l.reverse().join("/")+","+v},a4=function(e,n,a){var i=s0(e);return i=yl(i,function(l,v){return!Il(l)||!Il(i[v-1])}),i=yl(i,As([n])),i[a]},o4=function(e,n){for(var a=e,i=0,l;Il(a);){if(l=a.data.length,n>=i&&n<=i+l){e=a,n=n-i;break}if(!Il(a.nextSibling)){e=a,n=l;break}i+=l,a=a.nextSibling}return Il(e)&&n>e.data.length&&(n=e.data.length),mt(e,n)},jh=function(e,n){var a;if(!n)return null;var i=n.split(","),l=i[0].split("/");a=i.length>1?i[1]:"before";var v=$f(l,function(p,S){var A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(S);return A?(A[1]==="text()"&&(A[1]="#text"),a4(p,A[1],parseInt(A[2],10))):null},e);return v?Il(v)?o4(v,parseInt(a,10)):(a==="after"?a=X2(v)+1:a=X2(v),mt(v.parentNode,a)):null},Gh=Ua,l0=function(e,n,a){var i,l;for(l=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&gn(i);i=i.previousSibling)l+=e(i.data).length;return l},tw=function(e,n,a,i,l){var v=i[l?"startContainer":"endContainer"],p=i[l?"startOffset":"endOffset"],S=[],A,F=0,X=e.getRoot();for(gn(v)?S.push(a?l0(n,v,p):p):(A=v.childNodes,p>=A.length&&A.length&&(F=1,p=Math.max(0,A.length-1)),S.push(e.nodeIndex(A[p],a)+F));v&&v!==X;v=v.parentNode)S.push(e.nodeIndex(v,a));return S},qh=function(e,n,a,i){var l=n.dom,v={};return v.start=tw(l,e,a,i,!0),n.isCollapsed()||(v.end=tw(l,e,a,i,!1)),jc(i)&&(v.isFakeCaret=!0),v},nw=function(e,n,a){var i=0;return Ct.each(e.select(n),function(l){if(l.getAttribute("data-mce-bogus")!=="all"){if(l===a)return!1;i++}}),i},ho=function(e,n){var a,i,l,v=n?"start":"end";a=e[v+"Container"],i=e[v+"Offset"],Jn(a)&&a.nodeName==="TR"&&(l=a.childNodes,a=l[Math.min(n?i:i-1,l.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},Gp=function(e){return ho(e,!0),ho(e,!1),e},Co=function(e,n){var a;if(Jn(e)&&(e=Ka(e,n),Gh(e)))return e;if(Nu(e)&&(gn(e)&&Ca(e)&&(e=e.parentNode),a=e.previousSibling,Gh(a)||(a=e.nextSibling,Gh(a))))return a},c0=function(e){return Co(e.startContainer,e.startOffset)||Co(e.endContainer,e.endOffset)},sm=function(e,n,a){var i=a.getNode(),l=i?i.nodeName:null,v=a.getRng();if(Gh(i)||l==="IMG")return{name:l,index:nw(a.dom,l,i)};var p=c0(v);return p?(l=p.tagName,{name:l,index:nw(a.dom,l,p)}):qh(e,a,n,v)},rw=function(e){var n=e.getRng();return{start:AS(e.dom.getRoot(),mt.fromRangeStart(n)),end:AS(e.dom.getRoot(),mt.fromRangeEnd(n))}},qp=function(e){return{rng:e.getRng()}},aw=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},ES=function(e,n){var a=e.dom,i=e.getRng(),l=a.uniqueId(),v=e.isCollapsed(),p=e.getNode(),S=p.nodeName;if(S==="IMG")return{name:S,index:nw(a,S,p)};var A=Gp(i.cloneRange());if(!v){A.collapse(!1);var F=aw(a,l+"_end",n);i0(a,A,F)}i=Gp(i),i.collapse(!0);var X=aw(a,l+"_start",n);return i0(a,i,X),e.moveToBookmark({id:l,keep:!0}),{id:l}},i4=function(e,n,a){return n===2?sm(lc,a,e):n===3?rw(e):n?qp(e):ES(e,!1)},TS=ce(sm,ke,!0),u4=Na.DOM,f0="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Kp=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var l=e.getParam(n,"","hash");return Ir(l,e.id).getOr(a)}else return i},s4=function(e){return e.getParam("iframe_attrs",{})},OS=function(e){return e.getParam("doctype","<!DOCTYPE html>")},ow=function(e){return e.getParam("document_base_url","")},l4=function(e){return Kp(e,"body_id","tinymce")},c4=function(e){return Kp(e,"body_class","")},v0=function(e){return e.getParam("content_security_policy","")},iw=function(e){return e.getParam("br_in_pre",!0)},Ri=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},Kh=function(e){return e.getParam("forced_root_block_attrs",{})},Xh=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},DS=function(e){return e.getParam("no_newline_selector","")},f4=function(e){return e.getParam("keep_styles",!0)},Xp=function(e){return e.getParam("end_container_on_empty_block",!1)},Yp=function(e){return Ct.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},lm=function(e){return Ct.explode(e.getParam("font_size_classes",""))},d0=function(e){return e.getParam("images_dataimg_filter",it,"function")},Zp=function(e){return e.getParam("automatic_uploads",!0,"boolean")},uw=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},v4=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},nf=function(e){return e.getParam("icons","","string")},m0=function(e){return e.getParam("icons_url","","string")},d4=function(e){return e.getParam("images_upload_url","","string")},od=function(e){return e.getParam("images_upload_base_path","","string")},id=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},m4=function(e){return e.getParam("images_upload_handler",null,"function")},h0=function(e){return e.getParam("content_css_cors",!1,"boolean")},g0=function(e){return e.getParam("referrer_policy","","string")},p0=function(e){return e.getParam("language","en","string")},li=function(e){return e.getParam("language_url","","string")},RS=function(e){return e.getParam("indent_use_margin",!1)},sw=function(e){return e.getParam("indentation","40px","string")},$S=function(e){var n=e.getParam("content_css");return $e(n)?et(n.split(","),Xs):Be(n)?n:n===!1||e.inline?[]:["default"]},BS=function(e){var n=e.getParam("font_css",[]);return Be(n)?n:et(n.split(","),Xs)},gc=function(e){return e.getParam("directionality",wu.isRtl()?"rtl":void 0)},sv=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},MS=function(e){var n=e.getParam("object_resizing");return n===!1||Wn.iOS?!1:$e(n)?n:"table,img,figure.image,div,video,iframe"},PS=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},lw=function(e){return e.getParam("placeholder",u4.getAttrib(e.getElement(),"placeholder"),"string")},b0=function(e){return e.getParam("event_root")},IS=function(e){return e.getParam("service_message")},Yh=function(e){return e.getParam("theme")},h4=function(e){return e.getParam("validate")},Jp=function(e){return e.getParam("inline_boundaries")!==!1},g4=function(e){return e.getParam("formats")},Zh=function(e){var n=e.getParam("preview_styles",f0);return $e(n)?n:""},cm=function(e){return e.getParam("format_empty_lines",!1,"boolean")},cw=function(e){return e.getParam("custom_ui_selector","","string")},NS=function(e){return e.getParam("theme_url")},p4=function(e){return e.getParam("inline")},zS=function(e){return e.getParam("hidden_input")},FS=function(e){return e.getParam("submit_patch")},fw=function(e){return e.getParam("encoding")==="xml"},b4=function(e){return e.getParam("add_form_submit_trigger")},y0=function(e){return e.getParam("add_unload_trigger")},y4=function(e){return Ri(e)!==""},Qp=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},w4=function(e){return e.getParam("disable_nodechange")},C4=function(e){return e.getParam("readonly")},_4=function(e){return e.getParam("content_css_cors")},w0=function(e){return e.getParam("plugins","","string")},S4=function(e){return e.getParam("external_plugins")},Jh=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},LS=function(e){return e.getParam("visual",!0,"boolean")},x4=function(e){return e.getParam("visual_table_class","mce-item-table","string")},vw=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},HS=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},dw=Jn,VS=gn,US=function(e){var n=e.parentNode;n&&n.removeChild(e)},Qh=function(e){var n=lc(e);return{count:e.length-n.length,text:n}},mw=function(e){for(var n;(n=e.data.lastIndexOf(He))!==-1;)e.deleteData(n,1)},hw=function(e,n){return ud(e),n},k4=function(e,n){var a=Qh(e.data.substr(0,n.offset())),i=Qh(e.data.substr(n.offset())),l=a.text+i.text;return l.length>0?(mw(e),mt(e,n.offset()-a.count)):n},A4=function(e,n){var a=n.container(),i=Te(dr(a.childNodes),e).map(function(l){return l<n.offset()?mt(a,n.offset()-1):n}).getOr(n);return ud(e),i},gw=function(e,n){return VS(e)&&n.container()===e?k4(e,n):hw(e,n)},E4=function(e,n){return n.container()===e.parentNode?A4(e,n):hw(e,n)},WS=function(e,n){return mt.isTextPosition(n)?gw(e,n):E4(e,n)},ud=function(e){dw(e)&&Nu(e)&&(Jf(e)?e.removeAttribute("data-mce-caret"):US(e)),VS(e)&&(mw(e),e.data.length===0&&US(e))},eg=Bn().browser,jS=Ua,T4=Mu,GS=ph,O4="*[contentEditable=false],video,audio,embed,object",pw=function(e,n,a){var i=t0(n.getBoundingClientRect(),a),l,v;if(e.tagName==="BODY"){var p=e.ownerDocument.documentElement;l=e.scrollLeft||p.scrollLeft,v=e.scrollTop||p.scrollTop}else{var S=e.getBoundingClientRect();l=e.scrollLeft-S.left,v=e.scrollTop-S.top}i.left+=l,i.right+=l,i.top+=v,i.bottom+=v,i.width=1;var A=n.offsetWidth-n.clientWidth;return A>0&&(a&&(A*=-1),i.left+=A,i.right+=A),i},tg=function(e){for(var n=Di(Ge.fromDom(e),O4),a=0;a<n.length;a++){var i=n[a].dom,l=i.previousSibling;if(Tp(l)){var v=l.data;v.length===1?l.parentNode.removeChild(l):l.deleteData(v.length-1,1)}if(l=i.nextSibling,Ep(l)){var v=l.data;v.length===1?l.parentNode.removeChild(l):l.deleteData(0,1)}}},au=function(e,n,a,i){var l=nd(),v,p,S=Ri(e),A=S.length>0?S:"p",F=function(ge,pe){var Oe;if(X(),GS(pe))return null;if(a(pe)){p=Q_(A,pe,ge);var xe=pw(n,pe,ge);hr(p).css("top",xe.top);var Ye=hr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(qn({},xe)).appendTo(n)[0];l.set({caret:Ye,element:pe,before:ge}),ge&&hr(Ye).addClass("mce-visual-caret-before"),Z(),Oe=pe.ownerDocument.createRange(),Oe.setStart(p,0),Oe.setEnd(p,0)}else return p=f2(pe,ge),Oe=pe.ownerDocument.createRange(),ng(p.nextSibling)?(Oe.setStart(p,0),Oe.setEnd(p,0)):(Oe.setStart(p,1),Oe.setEnd(p,1)),Oe;return Oe},X=function(){tg(n),p&&(ud(p),p=null),l.on(function(ge){hr(ge.caret).remove(),l.clear()}),v&&(Wi.clearInterval(v),v=void 0)},Z=function(){v=Wi.setInterval(function(){i()?hr("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):hr("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},Q=function(){l.on(function(ge){var pe=pw(n,ge.element,ge.before);hr(ge.caret).css(qn({},pe))})},fe=function(){return Wi.clearInterval(v)},de=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:F,hide:X,getCss:de,reposition:Q,destroy:fe}},bw=function(){return eg.isIE()||eg.isEdge()||eg.isFirefox()},ng=function(e){return jS(e)||T4(e)},fm=function(e){return ng(e)||Eo(e)&&bw()},C0=Ua,D4=Mu,qS=mu("display","block table table-cell table-caption list-item"),yw=Nu,Lu=Ca,e1=Jn,R4=Gc,vm=function(e){return e>0},sd=function(e){return e<0},rg=function(e,n){for(var a;a=e(n);)if(!Lu(a))return a;return null},ld=function(e,n,a,i,l){var v=new sa(e,i),p=C0(e)||Lu(e);if(sd(n)){if(p&&(e=rg(v.prev.bind(v),!0),a(e)))return e;for(;e=rg(v.prev.bind(v),l);)if(a(e))return e}if(vm(n)){if(p&&(e=rg(v.next.bind(v),!0),a(e)))return e;for(;e=rg(v.next.bind(v),l);)if(a(e))return e}return null},pc=function(e,n){for(;e&&e!==n;){if(qS(e))return e;e=e.parentNode}return null},bc=function(e,n,a){return pc(e.container(),a)===pc(n.container(),a)},_0=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return e1(a)?a.childNodes[i+e]:null},S0=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},ww=function(e,n,a){return pc(n,e)===pc(a,e)},ag=function(e,n,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==n;){var l=a[i];if(yw(l)&&(l=l[i]),C0(l)||D4(l)){if(ww(n,l,a))return l;break}if(R4(l))break;a=a.parentNode}return null},og=ce(S0,!0),ig=ce(S0,!1),Xi=function(e,n,a){var i,l=ce(ag,!0,n),v=ce(ag,!1,n),p=a.startContainer,S=a.startOffset;if(Ca(p)){e1(p)||(p=p.parentNode);var A=p.getAttribute("data-mce-caret");if(A==="before"&&(i=p.nextSibling,fm(i)))return og(i);if(A==="after"&&(i=p.previousSibling,fm(i)))return ig(i)}if(!a.collapsed)return a;if(gn(p)){if(yw(p)){if(e===1){if(i=v(p),i)return og(i);if(i=l(p),i)return ig(i)}if(e===-1){if(i=l(p),i)return ig(i);if(i=v(p),i)return og(i)}return a}if(Tp(p)&&S>=p.data.length-1)return e===1&&(i=v(p),i)?og(i):a;if(Ep(p)&&S<=1)return e===-1&&(i=l(p),i)?ig(i):a;if(S===p.data.length)return i=v(p),i?og(i):a;if(S===0)return i=l(p),i?ig(i):a}return a},ug=function(e,n){return te.from(_0(e?0:-1,n)).filter(C0)},sg=function(e,n,a){var i=Xi(e,n,a);return e===-1?mt.fromRangeStart(i):mt.fromRangeEnd(i)},x0=function(e){return te.from(e.getNode()).map(Ge.fromDom)},$4=function(e){return te.from(e.getNode(!0)).map(Ge.fromDom)},Cw=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},k0=function(e,n){var a=bc(e,n);return!a&&wa(e.getNode())?!0:a},$i;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})($i||($i={}));var B4=Ua,rf=gn,A0=Jn,_w=wa,lg=Gc,Sw=MA,t1=Po,M4=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},KS=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},XS=function(e,n){if(vm(e)){if(lg(n.previousSibling)&&!rf(n.previousSibling))return mt.before(n);if(rf(n))return mt(n,0)}if(sd(e)){if(lg(n.nextSibling)&&!rf(n.nextSibling))return mt.after(n);if(rf(n))return mt(n,n.data.length)}return sd(e)?_w(n)?mt.before(n):mt.after(n):mt.before(n)},P4=function(e,n){var a=n.nextSibling;return a&&lg(a)?rf(a)?mt(a,0):mt.before(a):cg($i.Forwards,mt.after(n),e)},cg=function(e,n,a){var i,l,v,p;if(!A0(a)||!n)return null;if(n.isEqual(mt.after(a))&&a.lastChild){if(p=mt.after(a.lastChild),sd(e)&&lg(a.lastChild)&&A0(a.lastChild))return _w(a.lastChild)?mt.before(a.lastChild):p}else p=n;var S=p.container(),A=p.offset();if(rf(S)){if(sd(e)&&A>0)return mt(S,--A);if(vm(e)&&A<S.length)return mt(S,++A);i=S}else{if(sd(e)&&A>0&&(l=KS(S,A-1),lg(l)))return!Sw(l)&&(v=ld(l,e,t1,l),v)?rf(v)?mt(v,v.data.length):mt.after(v):rf(l)?mt(l,l.data.length):mt.before(l);if(vm(e)&&A<S.childNodes.length&&(l=KS(S,A),lg(l)))return _w(l)?P4(a,l):!Sw(l)&&(v=ld(l,e,t1,l),v)?rf(v)?mt(v,0):mt.before(v):rf(l)?mt(l,0):mt.after(l);i=l||p.getNode()}if((vm(e)&&p.isAtEnd()||sd(e)&&p.isAtStart())&&(i=ld(i,e,it,a,!0),t1(i,a)))return XS(e,i);l=ld(i,e,t1,a);var F=Ks(ut(M4(S,a),B4));return F&&(!l||!F.contains(l))?(vm(e)?p=mt.after(F):p=mt.before(F),p):l?XS(e,l):null},go=function(e){return{next:function(n){return cg($i.Forwards,n,e)},prev:function(n){return cg($i.Backwards,n,e)}}},E0=function(e,n,a){var i=e?mt.before(a):mt.after(a);return Hu(e,n,i)},T0=function(e){return wa(e)?mt.before(e):mt.after(e)},xw=function(e){return mt.isTextPosition(e)?e.offset()===0:Gc(e.getNode())},YS=function(e){if(mt.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return Gc(e.getNode(!0))},kw=function(e,n){return!mt.isTextPosition(e)&&!mt.isTextPosition(n)&&e.getNode()===n.getNode(!0)},dm=function(e){return!mt.isTextPosition(e)&&wa(e.getNode())},O0=function(e,n,a){return e?!kw(n,a)&&!dm(n)&&YS(n)&&xw(a):!kw(a,n)&&xw(n)&&YS(a)},Hu=function(e,n,a){var i=go(n);return te.from(e?i.next(a):i.prev(a))},yc=function(e,n,a){return Hu(e,n,a).bind(function(i){return bc(a,i,n)&&O0(e,a,i)?Hu(e,n,i):te.some(i)})},D0=function(e,n,a,i){return yc(e,n,a).bind(function(l){return i(l)?D0(e,n,l,i):te.some(l)})},lv=function(e,n){var a=e?n.firstChild:n.lastChild;return gn(a)?te.some(mt(a,e?0:a.data.length)):a?Gc(a)?te.some(e?mt.before(a):T0(a)):E0(e,n,a):te.none()},Nl=ce(Hu,!0),wc=ce(Hu,!1),ou=ce(lv,!0),ol=ce(lv,!1),fg="_mce_caret",af=function(e){return Jn(e)&&e.id===fg},mm=function(e,n){for(;n&&n!==e;){if(n.id===fg)return n;n=n.parentNode}return null},ZS=function(e){return $e(e.start)},JS=function(e){return Dr(e,"rng")},I4=function(e){return Dr(e,"id")},N4=function(e){return Dr(e,"name")},QS=function(e){return Ct.isArray(e.start)},ex=function(e,n){return Jn(n)&&e.isBlock(n)&&!n.innerHTML&&!Wn.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},tx=function(e,n){var a,i=e.createRng();return a=jh(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=jh(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},z4=function(e,n){var a=e.ownerDocument.createTextNode(He);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},nx=function(e){return e.hasChildNodes()===!1},F4=function(e,n){return ol(e).fold(ot,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},rx=function(e,n,a){return nx(n)&&mm(e,n)?(z4(n,a),!0):!1},ax=function(e,n,a,i){var l=a[n?"start":"end"],v,p,S,A,F=e.getRoot();if(l){for(S=l[0],p=F,v=l.length-1;v>=1;v--){if(A=p.childNodes,rx(F,p,i))return!0;if(l[v]>A.length-1)return rx(F,p,i)?!0:F4(p,i);p=A[l[v]]}p.nodeType===3&&(S=Math.min(l[0],p.nodeValue.length)),p.nodeType===1&&(S=Math.min(l[0],p.childNodes.length)),n?i.setStart(p,S):i.setEnd(p,S)}return!0},Aw=function(e){return gn(e)&&e.data.length>0},ox=function(e,n,a){var i=e.get(a.id+"_"+n),l,v,p,S,A=a.keep,F,X;if(i){if(l=i.parentNode,n==="start"?(A?i.hasChildNodes()?(l=i.firstChild,v=1):Aw(i.nextSibling)?(l=i.nextSibling,v=0):Aw(i.previousSibling)?(l=i.previousSibling,v=i.previousSibling.data.length):(l=i.parentNode,v=e.nodeIndex(i)+1):v=e.nodeIndex(i),F=l,X=v):(A?i.hasChildNodes()?(l=i.firstChild,v=1):Aw(i.previousSibling)?(l=i.previousSibling,v=i.previousSibling.data.length):(l=i.parentNode,v=e.nodeIndex(i)):v=e.nodeIndex(i),F=l,X=v),!A){for(S=i.previousSibling,p=i.nextSibling,Ct.each(Ct.grep(i.childNodes),function(Z){gn(Z)&&(Z.nodeValue=Z.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);S&&p&&S.nodeType===p.nodeType&&gn(S)&&!Wn.opera&&(v=S.nodeValue.length,S.appendData(p.nodeValue),e.remove(p),F=S,X=v)}return te.some(mt(F,X))}else return te.none()},L4=function(e,n){var a=e.createRng();return ax(e,!0,n,a)&&ax(e,!1,n,a)?te.some(a):te.none()},Br=function(e,n){var a=ox(e,"start",n),i=ox(e,"end",n);return eu(a,i.or(a),function(l,v){var p=e.createRng();return p.setStart(ex(e,l.container()),l.offset()),p.setEnd(ex(e,v.container()),v.offset()),p})},hm=function(e,n){return te.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},vg=function(e,n){var a=e.dom;if(n){if(QS(n))return L4(a,n);if(ZS(n))return te.some(tx(a,n));if(I4(n))return Br(a,n);if(N4(n))return hm(a,n);if(JS(n))return te.some(n.rng)}return te.none()},Ew=function(e,n,a){return i4(e,n,a)},H4=function(e,n){vg(e,n).each(function(a){e.setRng(a)})},Vu=function(e){return Jn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},V4=function(e){return function(n){return e===n}},gm=V4(us),cd=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},R0=function(e){return!cd(e)&&!gm(e)},$0=function(e){return!!e.nodeType},U4=function(e){return e&&/^(IMG)$/.test(e.nodeName)},ix=function(e,n,a){var i=a.startOffset,l=a.startContainer;if(!(l===a.endContainer&&U4(l.childNodes[i]))&&Jn(l)){var v=l.childNodes,p=void 0;i<v.length?(l=v[i],p=new sa(l,e.getParent(l,e.isBlock))):(l=v[v.length-1],p=new sa(l,e.getParent(l,e.isBlock)),p.next(!0));for(var S=p.current();S;S=p.next())if(gn(S)&&!M0(S)){a.setStart(S,0),n.setRng(a);return}}},B0=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(Jn(e)||!M0(e))return e}},Tw=function(e,n){return $0(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},dg=function(e,n,a){return e.schema.isValidChild(n,a)},M0=function(e,n){if(n===void 0&&(n=!1),Xe(e)&&gn(e)){var a=n?e.data.replace(/ /g," "):e.data;return Rl(a)}else return!1},W4=function(e){return Xe(e)&&gn(e)&&e.length===0},of=function(e,n){return le(e)?e=e(n):Xe(n)&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},Ow=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},Dw=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},mg=function(e,n,a){return Dw(e,e.getStyle(n,a),a)},Rw=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},n1=function(e,n,a){return e.getParents(n,a,e.getRoot())},ux=function(e,n){var a=function(i){var l=function(v){return v.length>1&&v.charAt(0)==="%"};return Je(["styles","attributes"],function(v){return Ir(i,v).exists(function(p){var S=Be(p)?p:Ju(p);return Je(S,l)})})};return Je(e.formatter.get(n),a)},j4=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],l=function(v){return co(v,function(p,S){return Je(i,function(A){return A===S})})};return Je(e.formatter.get(n),function(v){var p=l(v);return Je(e.formatter.get(a),function(S){var A=l(S);return rh(p,A)})})},uf=function(e){return Gs(e,"block")},vs=function(e){return Gs(e,"selector")},Bi=function(e){return Gs(e,"inline")},G4=function(e){return vs(e)&&Bi(e)&&Fd(Ir(e,"mixed"),!0)},$w=function(e){return vs(e)&&e.expand!==!1&&!Bi(e)},hg=Vu,Bw=n1,r1=M0,Mw=Tw,q4=function(e){return wa(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},an=function(e,n){for(var a=n;a;){if(Jn(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},Xo=function(e,n,a,i){for(var l=n.data,v=a;e?v>=0:v<l.length;e?v--:v++)if(i(l.charAt(v)))return e?v+1:v;return-1},gg=function(e,n,a){return Xo(e,n,a,function(i){return gm(i)||cd(i)})},ci=function(e,n,a){return Xo(e,n,a,R0)},il=function(e,n,a,i,l,v){var p,S=e.getParent(a,e.isBlock)||n,A=function(X,Z,Q){var fe=q2(e),de=l?fe.backwards:fe.forwards;return te.from(de(X,Z,function(ge,pe){return hg(ge.parentNode)?-1:(p=ge,Q(l,ge,pe))},S))},F=A(a,i,gg);return F.bind(function(X){return v?A(X.container,X.offset+(l?-1:0),ci):te.some(X)}).orThunk(function(){return p?te.some({container:p,offset:l?0:p.length}):te.none()})},Pw=function(e,n,a,i,l){gn(i)&&Pd(i.data)&&i[l]&&(i=i[l]);for(var v=Bw(e,i),p=0;p<v.length;p++)for(var S=0;S<n.length;S++){var A=n[S];if(!(Xe(A.collapsed)&&A.collapsed!==a.collapsed)&&vs(A)&&e.is(v[p],A.selector))return v[p]}return i},a1=function(e,n,a,i){var l=a,v=e.dom,p=v.getRoot(),S=n[0];if(uf(S)&&(l=S.wrapper?null:v.getParent(a,S.block,p)),!l){var A=v.getParent(a,"LI,TD,TH");l=v.getParent(gn(a)?a.parentNode:a,function(F){return F!==p&&Mw(e,F)},A)}if(l&&uf(S)&&S.wrapper&&(l=Bw(v,l,"ul,ol").reverse()[0]||l),!l)for(l=a;l[i]&&!v.isBlock(l[i])&&(l=l[i],!Ow(l,"br")););return l||a},P0=function(e,n,a,i){var l=a.parentNode;return Xe(a[i])?!1:l===n||ye(l)||e.isBlock(l)?!0:P0(e,n,l,i)},I0=function(e,n,a,i,l){var v=a,p=l?"previousSibling":"nextSibling",S=e.getRoot();if(gn(a)&&!r1(a)&&(l?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(v))return v;for(var A=v[p];A;A=A[p]){var F=gn(A)&&!P0(e,S,A,p);if(!hg(A)&&!q4(A)&&!r1(A,F))return v}if(v===S||v.parentNode===S){a=v;break}v=v.parentNode}return a},N0=function(e){return hg(e.parentNode)||hg(e)},fd=function(e,n,a,i){i===void 0&&(i=!1);var l=n.startContainer,v=n.startOffset,p=n.endContainer,S=n.endOffset,A=e.dom,F=a[0];if(Jn(l)&&l.hasChildNodes()&&(l=Ka(l,v),gn(l)&&(v=0)),Jn(p)&&p.hasChildNodes()&&(p=Ka(p,n.collapsed?S:S-1),gn(p)&&(S=p.nodeValue.length)),l=an(A,l),p=an(A,p),N0(l)&&(l=hg(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,gn(l)&&(v=n.collapsed?l.length:0)),N0(p)&&(p=hg(p)?p:p.parentNode,n.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,gn(p)&&(S=n.collapsed?0:p.length)),n.collapsed){var X=il(A,e.getBody(),l,v,!0,i);X.each(function(Q){var fe=Q.container,de=Q.offset;l=fe,v=de});var Z=il(A,e.getBody(),p,S,!1,i);Z.each(function(Q){var fe=Q.container,de=Q.offset;p=fe,S=de})}return(Bi(F)||F.block_expand)&&((!Bi(F)||!gn(l)||v===0)&&(l=I0(A,a,l,v,!0)),(!Bi(F)||!gn(p)||S===p.nodeValue.length)&&(p=I0(A,a,p,S,!1))),$w(F)&&(l=Pw(A,a,n,l,"previousSibling"),p=Pw(A,a,n,p,"nextSibling")),(uf(F)||vs(F))&&(l=a1(e,a,l,"previousSibling"),p=a1(e,a,p,"nextSibling"),uf(F)&&(A.isBlock(l)||(l=I0(A,a,l,v,!0)),A.isBlock(p)||(p=I0(A,a,p,S,!1)))),Jn(l)&&(v=A.nodeIndex(l),l=l.parentNode),Jn(p)&&(S=A.nodeIndex(p)+1,p=p.parentNode),{startContainer:l,startOffset:v,endContainer:p,endOffset:S}},o1=function(e,n,a){var i=n.startOffset,l=Ka(n.startContainer,i),v=n.endOffset,p=Ka(n.endContainer,v-1),S=function(ge){var pe=ge[0];gn(pe)&&pe===l&&i>=pe.data.length&&ge.splice(0,1);var Oe=ge[ge.length-1];return v===0&&ge.length>0&&Oe===p&&gn(Oe)&&ge.splice(ge.length-1,1),ge},A=function(ge,pe,Oe){for(var xe=[];ge&&ge!==Oe;ge=ge[pe])xe.push(ge);return xe},F=function(ge,pe){return e.getParent(ge,function(Oe){return Oe.parentNode===pe},pe)},X=function(ge,pe,Oe){for(var xe=Oe?"nextSibling":"previousSibling",Ye=ge,je=Ye.parentNode;Ye&&Ye!==pe;Ye=je){je=Ye.parentNode;var Re=A(Ye===ge?Ye:Ye[xe],xe);Re.length&&(Oe||Re.reverse(),a(S(Re)))}};if(l===p)return a(S([l]));var Z=e.findCommonAncestor(l,p);if(e.isChildOf(l,p))return X(l,Z,!0);if(e.isChildOf(p,l))return X(p,Z);var Q=F(l,Z)||l,fe=F(p,Z)||p;X(l,Q,!0);var de=A(Q===l?Q:Q.nextSibling,"nextSibling",fe===p?fe.nextSibling:fe);de.length&&a(S(de)),X(p,fe)},Iw=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},Nw=function(e){return vr(e,function(n){var a=om(n);return a?[Ge.fromDom(a)]:[]})},zw=function(e){return Iw(e).length>1},K4=function(e){return ut(Nw(e),sc)},sx=function(e){return Di(e,"td[data-mce-selected],th[data-mce-selected]")},cv=function(e,n){var a=sx(n);return a.length>0?a:K4(e)},sf=function(e){return cv(Iw(e.selection.getSel()),Ge.fromDom(e.getBody()))},pm=function(e,n){return Ld(e,"table",n)},pg=function(e){var n=e.startContainer,a=e.startOffset;return gn(n)?a===0?te.some(Ge.fromDom(n)):te.none():te.from(n.childNodes[a]).map(Ge.fromDom)},Fw=function(e){var n=e.endContainer,a=e.endOffset;return gn(n)?a===n.data.length?te.some(Ge.fromDom(n)):te.none():te.from(n.childNodes[a-1]).map(Ge.fromDom)},z0=function(e){return Mo(e).fold(j([e]),function(n){return[e].concat(z0(n))})},lf=function(e){return as(e).fold(j([e]),function(n){return ko(n)==="br"?Lf(n).map(function(a){return[e].concat(lf(a))}).getOr([]):[e].concat(lf(n))})},zl=function(e,n){return eu(pg(n),Fw(n),function(a,i){var l=rn(z0(e),ce(Ma,a)),v=rn(lf(e),ce(Ma,i));return l.isSome()&&v.isSome()}).getOr(!1)},vd=function(e,n,a,i){var l=a,v=new sa(a,l),p=co(e.schema.getMoveCaretBeforeOnEnterElements(),function(S,A){return!Ae(["td","th","table"],A.toLowerCase())});do{if(gn(a)&&Ct.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(p[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?v.next():v.prev());l.nodeName==="BODY"&&(i?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},dd=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},bm=function(e,n){var a=sf(e);a.length>0?Le(a,function(i){var l=i.dom,v=e.dom.createRng();v.setStartBefore(l),v.setEndAfter(l),n(v,!0)}):n(e.selection.getRng(),!1)},bg=function(e,n,a){var i=ES(e,n);a(i),e.moveToBookmark(i)},Lw=function(e,n){var a=function(v){if(!e(v))throw new Error("Can only get "+n+" value of a "+n+" node");return i(v).getOr("")},i=function(v){return e(v)?te.from(v.dom.nodeValue):te.none()},l=function(v,p){if(!e(v))throw new Error("Can only set raw "+n+" value of a "+n+" node");v.dom.nodeValue=p};return{get:a,getOption:i,set:l}},Hw=Lw(Ya,"text"),Vw=function(e){return Hw.get(e)},F0=function(e){return Ya(e)&&Vw(e)===He},Mi=function(e,n,a,i){return ao(n).fold(function(){return"skipping"},function(l){return i==="br"||F0(n)?"valid":iv(n)?"existing":af(n.dom)?"caret":!dg(e,a,i)||!dg(e,ko(l),a)?"invalid-child":"valid"})},Fs=function(e,n){var a=fd(e,n,[{inline:"span"}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},ul=function(e,n,a,i){var l=n.uid,v=l===void 0?CS("mce-annotation"):l,p=ah(n,["uid"]),S=Ge.fromTag("span",e);rm(S,fs()),P(S,""+qo(),v),P(S,""+Fp(),a);var A=i(v,p),F=A.attributes,X=F===void 0?{}:F,Z=A.classes,Q=Z===void 0?[]:Z;return Y(S,X),JA(S,Q),S},cf=function(e,n,a,i,l){var v=[],p=ul(e.getDoc(),l,a,i),S=nd(),A=function(){S.clear()},F=function(){return S.get().getOrThunk(function(){var fe=No(p);return v.push(fe),S.set(fe),fe})},X=function(fe){Le(fe,Z)},Z=function(fe){var de=Mi(e,fe,"span",ko(fe));switch(de){case"invalid-child":{A();var ge=Qi(fe);X(ge),A();break}case"valid":{var pe=F();zd(fe,pe);break}}},Q=function(fe){var de=et(fe,Ge.fromDom);X(de)};return o1(e.dom,n,function(fe){A(),Q(fe)}),v},yg=function(e,n,a,i){e.undoManager.transact(function(){var l=e.selection,v=l.getRng(),p=sf(e).length>0;if(v.collapsed&&!p&&Fs(e,v),l.getRng().collapsed&&!p){var S=ul(e.getDoc(),i,n,a.decorate);_u(S,us),l.getRng().insertNode(S.dom),l.select(S.dom)}else bg(l,!1,function(){bm(e,function(A){cf(e,A,n,a.decorate,i)})})})},L0=function(e){var n=Lp();G2(e,n);var a=wS(e);return{register:function(i,l){n.register(i,l)},annotate:function(i,l){n.lookup(i).each(function(v){yg(e,i,v,l)})},annotationChanged:function(i,l){a.addListener(i,l)},remove:function(i){Zb(e,te.some(i)).each(function(l){var v=l.elements;Le(v,Wf)})},getAll:function(i){var l=j2(e,i);return wi(l,function(v){return et(v,function(p){return p.dom})})}}},md=function(e){return{getBookmark:ce(Ew,e),moveToBookmark:ce(H4,e)}};md.isBookmarkNode=Vu;var ym=function(e,n){for(;n&&n!==e;){if(El(n)||Ua(n))return n;n=n.parentNode}return null},wm=function(e,n,a){if(a.collapsed)return!1;if(Wn.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(Jn(i))return Je(i.getClientRects(),function(l){return _S(l,e,n)})}return Je(a.getClientRects(),function(l){return _S(l,e,n)})},X4=function(e,n){return e.fire("PreProcess",n)},Uw=function(e,n){return e.fire("PostProcess",n)},lx=function(e){return e.fire("remove")},cx=function(e){return e.fire("detach")},Ww=function(e,n){return e.fire("SwitchMode",{mode:n})},jw=function(e,n,a,i,l){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:l})},pa=function(e,n,a,i,l){e.fire("ObjectResized",{target:n,width:a,height:i,origin:l})},ff=function(e){return e.fire("PreInit")},fx=function(e){return e.fire("PostRender")},vx=function(e){return e.fire("Init")},dx=function(e,n){return e.fire("PlaceholderToggle",{state:n})},H0=function(e,n,a){return e.fire(n,a)},Gw=function(e,n,a,i){return e.fire("FormatApply",{format:n,node:a,vars:i})},i1=function(e,n,a,i){return e.fire("FormatRemove",{format:n,node:a,vars:i})},Gn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Gn.metaKeyPressed(e)},metaKeyPressed:function(e){return Wn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Y4=Ua,qw=function(e,n){var a="data-mce-selected",i=n.dom,l=Ct.each,v,p,S,A,F,X,Z,Q,fe,de,ge,pe,Oe,xe,Ye,je=n.getDoc(),Re=document,Qe=Math.abs,xt=Math.round,Lt=n.getBody(),jn,mn,Mt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Un=function(tt){return tt&&(tt.nodeName==="IMG"||n.dom.is(tt,"figure.image"))},Ut=function(tt){return Mu(tt)||i.hasClass(tt,"mce-preview-object")},vn=function(tt,Vt){if(tt.type==="longpress"||tt.type.indexOf("touch")===0){var zt=tt.touches[0];return Un(tt.target)&&!wm(zt.clientX,zt.clientY,Vt)}else return Un(tt.target)&&!wm(tt.clientX,tt.clientY,Vt)},Gt=function(tt){var Vt=tt.target;vn(tt,n.selection.getRng())&&!tt.isDefaultPrevented()&&n.selection.select(Vt)},Qt=function(tt){return i.is(tt,"figure.image")?[tt.querySelector("img")]:i.hasClass(tt,"mce-preview-object")&&Xe(tt.firstElementChild)?[tt,tt.firstElementChild]:[tt]},yn=function(tt){var Vt=MS(n);return!Vt||tt.getAttribute("data-mce-resize")==="false"||tt===n.getBody()?!1:i.hasClass(tt,"mce-preview-object")?ec(Ge.fromDom(tt.firstElementChild),Vt):ec(Ge.fromDom(tt),Vt)},It=function(tt){return Ut(tt)?i.create("img",{src:Wn.transparentSrc}):tt.cloneNode(!0)},hn=function(tt,Vt,zt){if(Xe(zt)){var Pn=Qt(tt);Le(Pn,function(Ln){Ln.style[Vt]||!n.schema.isValid(Ln.nodeName.toLowerCase(),Vt)?i.setStyle(Ln,Vt,zt):i.setAttrib(Ln,Vt,""+zt)})}},Tr=function(tt,Vt,zt){hn(tt,"width",Vt),hn(tt,"height",zt)},ra=function(tt){var Vt,zt,Pn,Ln,Aa;Vt=tt.screenX-X,zt=tt.screenY-Z,xe=Vt*A[2]+de,Ye=zt*A[3]+ge,xe=xe<5?5:xe,Ye=Ye<5?5:Ye,(Un(v)||Ut(v))&&PS(n)!==!1?Pn=!Gn.modifierPressed(tt):Pn=Gn.modifierPressed(tt),Pn&&(Qe(Vt)>Qe(zt)?(Ye=xt(xe*pe),xe=xt(Ye/pe)):(xe=xt(Ye/pe),Ye=xt(xe*pe))),Tr(p,xe,Ye),Ln=A.startPos.x+Vt,Aa=A.startPos.y+zt,Ln=Ln>0?Ln:0,Aa=Aa>0?Aa:0,i.setStyles(S,{left:Ln,top:Aa,display:"block"}),S.innerHTML=xe+" &times; "+Ye,A[2]<0&&p.clientWidth<=xe&&i.setStyle(p,"left",Q+(de-xe)),A[3]<0&&p.clientHeight<=Ye&&i.setStyle(p,"top",fe+(ge-Ye)),Vt=Lt.scrollWidth-jn,zt=Lt.scrollHeight-mn,Vt+zt!==0&&i.setStyles(S,{left:Ln-Vt,top:Aa-zt}),Oe||(jw(n,v,de,ge,"corner-"+A.name),Oe=!0)},Jr=function(){var tt=Oe;Oe=!1,tt&&(hn(v,"width",xe),hn(v,"height",Ye)),i.unbind(je,"mousemove",ra),i.unbind(je,"mouseup",Jr),Re!==je&&(i.unbind(Re,"mousemove",ra),i.unbind(Re,"mouseup",Jr)),i.remove(p),i.remove(S),i.remove(F),Ii(v),tt&&(pa(n,v,xe,Ye,"corner-"+A.name),i.setAttrib(v,"style",i.getAttrib(v,"style"))),n.nodeChanged()},Ii=function(tt){Nt();var Vt=i.getPos(tt,Lt),zt=Vt.x,Pn=Vt.y,Ln=tt.getBoundingClientRect(),Aa=Ln.width||Ln.right-Ln.left,ni=Ln.height||Ln.bottom-Ln.top;v!==tt&&(so(),v=tt,xe=Ye=0);var Yo=n.fire("ObjectSelected",{target:tt}),Nm=i.getAttrib(v,a,"1");yn(tt)&&!Yo.isDefaultPrevented()?l(Mt,function(Gu,Eu){var hi,jl=function(qu){var kf=Qt(v)[0];X=qu.screenX,Z=qu.screenY,de=kf.clientWidth,ge=kf.clientHeight,pe=ge/de,A=Gu,A.name=Eu,A.startPos={x:Aa*Gu[0]+zt,y:ni*Gu[1]+Pn},jn=Lt.scrollWidth,mn=Lt.scrollHeight,F=i.add(Lt,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(F,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),p=It(v),i.addClass(p,"mce-clonedresizable"),i.setAttrib(p,"data-mce-bogus","all"),p.contentEditable="false",i.setStyles(p,{left:zt,top:Pn,margin:0}),Tr(p,Aa,ni),p.removeAttribute(a),Lt.appendChild(p),i.bind(je,"mousemove",ra),i.bind(je,"mouseup",Jr),Re!==je&&(i.bind(Re,"mousemove",ra),i.bind(Re,"mouseup",Jr)),S=i.add(Lt,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},de+" &times; "+ge)};hi=i.get("mceResizeHandle"+Eu),hi&&i.remove(hi),hi=i.add(Lt,"div",{id:"mceResizeHandle"+Eu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Eu+"-resize; margin:0; padding:0"}),Wn.ie===11&&(hi.contentEditable=!1),i.bind(hi,"mousedown",function(qu){qu.stopImmediatePropagation(),qu.preventDefault(),jl(qu)}),Gu.elm=hi,i.setStyles(hi,{left:Aa*Gu[0]+zt-hi.offsetWidth/2,top:ni*Gu[1]+Pn-hi.offsetHeight/2})}):so(),i.getAttrib(v,a)||v.setAttribute(a,Nm)},so=function(){Nt(),v&&v.removeAttribute(a),Vr(Mt,function(tt,Vt){var zt=i.get("mceResizeHandle"+Vt);zt&&(i.unbind(zt),i.remove(zt))})},ju=function(tt){var Vt,zt,Pn=function(Ln,Aa){if(Ln)do if(Ln===Aa)return!0;while(Ln=Ln.parentNode)};if(!(Oe||n.removed)){if(l(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(Ln){Ln.removeAttribute(a)}),zt=tt.type==="mousedown"?tt.target:e.getNode(),zt=i.$(zt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Pn(zt,Lt)&&(Kt(),Vt=e.getStart(!0),Pn(Vt,zt)&&Pn(e.getEnd(!0),zt))){Ii(zt);return}so()}},ps=function(tt){return Y4(ym(n.getBody(),tt))},Nt=function(){Vr(Mt,function(tt){tt.elm&&(i.unbind(tt.elm),delete tt.elm)})},Kt=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};n.on("init",function(){if(Kt(),Wn.browser.isIE()||Wn.browser.isEdge()){n.on("mousedown click",function(zt){var Pn=zt.target,Ln=Pn.nodeName;!Oe&&/^(TABLE|IMG|HR)$/.test(Ln)&&!ps(Pn)&&(zt.button!==2&&n.selection.select(Pn,Ln==="TABLE"),zt.type==="mousedown"&&n.nodeChanged())});var tt=function(zt){var Pn=function(Ln){Wi.setEditorTimeout(n,function(){return n.selection.select(Ln)})};if(ps(zt.target)||Mu(zt.target)){zt.preventDefault(),Pn(zt.target);return}/^(TABLE|IMG|HR)$/.test(zt.target.nodeName)&&(zt.preventDefault(),zt.target.tagName==="IMG"&&Pn(zt.target))};i.bind(Lt,"mscontrolselect",tt),n.on("remove",function(){return i.unbind(Lt,"mscontrolselect",tt)})}var Vt=Wi.throttle(function(zt){n.composing||ju(zt)});n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Vt),n.on("keyup compositionend",function(zt){v&&v.nodeName==="TABLE"&&Vt(zt)}),n.on("hide blur",so),n.on("contextmenu longpress",Gt,!0)}),n.on("remove",Nt);var $n=function(){v=p=F=null};return{isResizable:yn,showResizeRect:Ii,hideResizeRect:so,updateResizeRect:ju,destroy:$n}},mx=function(e){return El(e)||Ua(e)},Kw=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Z4=function(e,n,a){var i,l=a.elementFromPoint(e,n),v=a.body.createTextRange();if((!l||l.tagName==="HTML")&&(l=a.body),v.moveToElementText(l),i=Ct.toArray(v.getClientRects()),i=i.sort(function(p,S){return p=Math.abs(Math.max(p.top-n,p.bottom-n)),S=Math.abs(Math.max(S.top-n,S.bottom-n)),p-S}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return v.moveToPoint(e,n),v.collapse(!0),v}catch{}}return null},hx=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return Ua(Kw(a,n,mx))?null:e},Xw=function(e,n,a){var i,l,v=a;if(v.caretPositionFromPoint)l=v.caretPositionFromPoint(e,n),l&&(i=a.createRange(),i.setStart(l.offsetNode,l.offset),i.collapse(!0));else if(v.caretRangeFromPoint)i=v.caretRangeFromPoint(e,n);else if(v.body.createTextRange){i=v.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch{i=Z4(e,n,a)}return hx(i,a.body)}return i},Yw=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},J4=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Ls=function(e,n,a){return J4(e,n,a)!==null},xu=function(e,n,a){return Ls(e,n,function(i){return i.nodeName===a})},vf=function(e){return e&&e.nodeName==="TABLE"},Q4=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},eE=function(e,n){return Nu(e)&&Ls(e,n,af)===!1},Zw=function(e,n,a){for(var i=new sa(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(wa(n))return!0},Ar=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},tE=function(e,n){for(;n&&n!==e;){if(Ua(n))return!0;n=n.parentNode}return!1},V0=function(e,n,a,i,l){var v,p=e.getRoot(),S,A=e.schema.getNonEmptyElements(),F=e.getParent(l.parentNode,e.isBlock)||p;if(i&&wa(l)&&n&&e.isEmpty(F))return te.some(mt(l.parentNode,e.nodeIndex(l)));for(var X=new sa(l,F);S=X[i?"prev":"next"]();){if(e.getContentEditableParent(S)==="false"||eE(S,p))return te.none();if(gn(S)&&S.nodeValue.length>0)return xu(S,p,"A")===!1?te.some(mt(S,i?S.nodeValue.length:0)):te.none();if(e.isBlock(S)||A[S.nodeName.toLowerCase()])return te.none();v=S}return a&&v?te.some(mt(v,0)):te.none()},U0=function(e,n,a,i){var l,v,p=e.getRoot(),S,A,F=!1;l=i[(a?"start":"end")+"Container"],v=i[(a?"start":"end")+"Offset"];var X=Jn(l)&&v===l.childNodes.length,Z=e.schema.getNonEmptyElements();if(A=a,Nu(l))return te.none();if(Jn(l)&&v>l.childNodes.length-1&&(A=!1),yp(l)&&(l=p,v=0),l===p){if(A&&(S=l.childNodes[v>0?v-1:0],S&&(Nu(S)||Z[S.nodeName]||vf(S))))return te.none();if(l.hasChildNodes()){if(v=Math.min(!A&&v>0?v-1:v,l.childNodes.length-1),l=l.childNodes[v],v=gn(l)&&X?l.data.length:0,!n&&l===p.lastChild&&vf(l)||tE(p,l)||Nu(l))return te.none();if(l.hasChildNodes()&&vf(l)===!1){S=l;var Q=new sa(l,p);do{if(Ua(S)||Nu(S)){F=!1;break}if(gn(S)&&S.nodeValue.length>0){v=A?0:S.nodeValue.length,l=S,F=!0;break}if(Z[S.nodeName.toLowerCase()]&&!Q4(S)){v=e.nodeIndex(S),l=S.parentNode,A||v++,F=!0;break}}while(S=A?Q.next():Q.prev())}}}return n&&(gn(l)&&v===0&&V0(e,X,n,!0,l).each(function(fe){l=fe.container(),v=fe.offset(),F=!0}),Jn(l)&&(S=l.childNodes[v],S||(S=l.childNodes[v-1]),S&&wa(S)&&!Ar(S,"A")&&!Zw(e,S,!1)&&!Zw(e,S,!0)&&V0(e,X,n,!0,S).each(function(fe){l=fe.container(),v=fe.offset(),F=!0}))),A&&!n&&gn(l)&&v===l.nodeValue.length&&V0(e,X,n,!1,l).each(function(fe){l=fe.container(),v=fe.offset(),F=!0}),F?te.some(mt(l,v)):te.none()},W0=function(e,n){var a=n.collapsed,i=n.cloneRange(),l=mt.fromRangeStart(n);return U0(e,a,!0,i).each(function(v){(!a||!mt.isAbove(l,v))&&i.setStart(v.container(),v.offset())}),a||U0(e,a,!1,i).each(function(v){i.setEnd(v.container(),v.offset())}),a&&i.collapse(!0),Yw(n,i)?te.none():te.some(i)},u1=function(e,n){return e.splitText(n)},fv=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,l=e.endOffset;return n===i&&gn(n)?a>0&&a<n.nodeValue.length&&(i=u1(n,a),n=i.previousSibling,l>a?(l=l-a,n=i=u1(i,l).previousSibling,l=i.nodeValue.length,a=0):l=0):(gn(n)&&a>0&&a<n.nodeValue.length&&(n=u1(n,a),a=0),gn(i)&&l>0&&l<i.nodeValue.length&&(i=u1(i,l).previousSibling,l=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:l}},s1=function(e){var n=function(l,v){return o1(e,l,v)},a=fv,i=function(l){return W0(e,l).fold(ot,function(v){return l.setStart(v.startContainer,v.startOffset),l.setEnd(v.endContainer,v.endOffset),!0})};return{walk:n,split:a,normalize:i}};s1.compareRanges=Yw,s1.getCaretRangeFromPoint=Xw,s1.getSelectedNode=om,s1.getNode=Ka;var nE=function(e,n){var a=function(S,A){if(!se(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);var F=S.dom;qa(F)&&(F.style[e]=A+"px")},i=function(S){var A=n(S);if(A<=0||A===null){var F=yr(S,e);return parseFloat(F)||0}return A},l=i,v=function(S,A){return $t(A,function(F,X){var Z=yr(S,X),Q=Z===void 0?0:parseInt(Z,10);return isNaN(Q)?F:F+Q},0)},p=function(S,A,F){var X=v(S,F),Z=A>X?A-X:0;return Z};return{set:a,get:i,getOuter:l,aggregate:v,max:p}},gx=nE("height",function(e){var n=e.dom;return jf(e)?n.getBoundingClientRect().height:n.offsetHeight}),Jw=function(e){return gx.get(e)},hd=function(e,n){var a=e.view(n);return a.fold(j([]),function(i){var l=e.owner(i),v=hd(e,l);return[i].concat(v)})},j0=function(e,n){var a=n.owner(e);return hd(n,a)},px=function(e){var n,a=e.dom===document?te.none():te.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(Ge.fromDom)},rE=function(e){return Xn(e)},aE=Object.freeze({__proto__:null,view:px,owner:rE}),oE=function(e){var n=Ge.fromDom(document),a=mh(n),i=j0(e,aE),l=Bu(e),v=jt(i,function(p,S){var A=Bu(S);return{left:p.left+A.left,top:p.top+A.top}},{left:0,top:0});return ac(v.left+l.left+a.left,v.top+l.top+a.top)},Cm=function(e){return ko(e)==="textarea"},Qw=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},Nn=function(e,n){e.fire("AfterScrollIntoView",n)},bx=function(e,n){var a=Qi(e);if(a.length===0||Cm(e))return{element:e,offset:n};if(n<a.length&&!Cm(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return Cm(i)?{element:e,offset:n}:ko(i)==="img"?{element:i,offset:1}:Ya(i)?{element:i,offset:Vw(i).length}:{element:i,offset:Qi(i).length}},yx=function(e,n){var a=Ga(e),i=Jw(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},iE=function(e,n){var a=bx(e,n),i=Ge.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+He+"</span>");return Si(a.element,i),yx(i,function(){return mo(i)})},l1=function(e){return yx(Ge.fromDom(e),Ee)},iu=function(e,n,a,i){eC(e,function(l,v){return uE(e,n,a,i)},a)},c1=function(e,n,a,i,l){var v={elm:i.element.dom,alignToTop:l};if(!Qw(e,v)){var p=mh(n).top;a(n,p,i,l),Nn(e,v)}},uE=function(e,n,a,i){var l=Ge.fromDom(e.getBody()),v=Ge.fromDom(e.getDoc());CA(l);var p=iE(Ge.fromDom(a.startContainer),a.startOffset);c1(e,v,n,p,i),p.cleanup()},wx=function(e,n,a,i){var l=Ge.fromDom(e.getDoc());c1(e,l,a,l1(n),i)},eC=function(e,n,a){var i=a.startContainer,l=a.startOffset,v=a.endContainer,p=a.endOffset;n(Ge.fromDom(i),Ge.fromDom(v));var S=e.dom.createRng();S.setStart(i,l),S.setEnd(v,p),e.selection.setRng(a)},tC=function(e,n,a,i){var l=e.pos;if(a)os(l.left,l.top,i);else{var v=l.top-n+e.height;os(l.left,v,i)}},Cx=function(e,n,a,i,l){var v=a+n,p=i.pos.top,S=i.bottom,A=S-p>=a;if(p<n)tC(i,a,l!==!1,e);else if(p>v){var F=A?l!==!1:l===!0;tC(i,a,F,e)}else S>v&&!A&&tC(i,a,l===!0,e)},nC=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;Cx(e,n,l,a,i)},rC=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;Cx(e,n,l,a,i);var v=oE(a.element),p=qf(window);v.top<p.y?hh(a.element,i!==!1):v.top>p.bottom&&hh(a.element,i===!0)},vv=function(e,n,a){return iu(e,nC,n,a)},sE=function(e,n,a){return wx(e,n,nC,a)},lE=function(e,n,a){return iu(e,rC,n,a)},_x=function(e,n,a){return wx(e,n,rC,a)},cE=function(e,n,a){var i=e.inline?sE:_x;i(e,n,a)},f1=function(e,n,a){var i=e.inline?vv:lE;i(e,n,a)},na=function(){return Ge.fromDom(document)},G0=function(e){return e.dom.focus()},dv=function(e){var n=vu(e).dom;return e.dom===n.activeElement},Fl=function(e){return e===void 0&&(e=na()),te.from(e.dom.activeElement).map(Ge.fromDom)},gd=function(e){return Fl(vu(e)).filter(function(n){return e.dom.contains(n.dom)})},Uu=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},q0={create:Uu},_m=Mn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),wg=function(e,n,a,i){return e.fold(n,a,i)},pd=function(e){return e.fold(ke,ke,ke)},fE=_m.before,Sx=_m.on,vE=_m.after,dE={before:fE,on:Sx,after:vE,cata:wg,getStart:pd},Sr=Mn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ll=function(e){return Sr.exact(e.start,e.soffset,e.finish,e.foffset)},Cg=function(e){return e.match({domRange:function(n){return Ge.fromDom(n.startContainer)},relative:function(n,a){return dE.getStart(n)},exact:function(n,a,i,l){return n}})},xx=Sr.domRange,v1=Sr.relative,Mr=Sr.exact,kx=function(e){var n=Cg(e);return ro(n)},Ax=q0.create,d1={domRange:xx,relative:v1,exact:Mr,exactFromRange:Ll,getWin:kx,range:Ax},Ex=Bn().browser,m1=function(e,n){var a=Ya(n)?Vw(n).length:Qi(n).length+1;return e>a?a:e<0?0:e},Sm=function(e){return d1.range(e.start,m1(e.soffset,e.start),e.finish,m1(e.foffset,e.finish))},aC=function(e,n){return!Hc(n.dom)&&(Li(e,n)||Ma(e,n))},oC=function(e){return function(n){return aC(e,n.start)&&aC(e,n.finish)}},Tx=function(e){return e.inline===!0||Ex.isIE()},Ox=function(e){return d1.range(Ge.fromDom(e.startContainer),e.startOffset,Ge.fromDom(e.endContainer),e.endOffset)},bd=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?te.none():te.from(n.getRangeAt(0));return a.map(Ox)},xm=function(e){var n=ro(e);return bd(n.dom).filter(oC(e))},iC=function(e,n){return te.from(n).filter(oC(e)).map(Sm)},Dx=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),te.some(n)}catch{return te.none()}},K0=function(e){var n=Tx(e)?xm(Ge.fromDom(e.getBody())):te.none();e.bookmark=n.isSome()?n:e.bookmark},mE=function(e,n){var a=Ge.fromDom(e.getBody()),i=Tx(e)?te.from(n):te.none(),l=i.map(Ox).filter(oC(a));e.bookmark=l.isSome()?l:e.bookmark},_g=function(e){var n=e.bookmark?e.bookmark:te.none();return n.bind(function(a){return iC(Ge.fromDom(e.getBody()),a)}).bind(Dx)},uC=function(e){_g(e).each(function(n){return e.selection.setRng(n)})},sC=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},Rx={isEditorUIElement:sC},lC=function(e){return e.type==="nodechange"&&e.selectionChange},X0=function(e,n){var a=function(){n.throttle()};Na.DOM.bind(document,"mouseup",a),e.on("remove",function(){Na.DOM.unbind(document,"mouseup",a)})},Y0=function(e){e.on("focusout",function(){K0(e)})},cC=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},fC=function(e,n){var a=Bn().browser;a.isIE()?Y0(e):cC(e,n),e.on("keyup NodeChange",function(i){lC(i)||K0(e)})},$x=function(e){var n=Kb(function(){K0(e)},0);e.on("init",function(){e.inline&&X0(e,n),fC(e,n)}),e.on("remove",function(){n.cancel()})},km,Sg=Na.DOM,Bx=function(e){return Rx.isEditorUIElement(e)},Mx=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Z0=function(e,n){var a=cw(e),i=Sg.getParent(n,function(l){return Bx(l)||(a?e.dom.is(l,a):!1)});return i!==null},Px=function(e){try{var n=vu(Ge.fromDom(e.getElement()));return Fl(n).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},Ix=function(e,n){var a=n.editor;$x(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Wi.setEditorTimeout(a,function(){var i=e.focusedEditor;!Z0(a,Px(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),km||(km=function(i){var l=e.activeEditor;l&&Hi(i).each(function(v){v.ownerDocument===document&&v!==document.body&&!Z0(l,v)&&e.focusedEditor===l&&(l.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Sg.bind(document,"focusin",km))},vC=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(Sg.unbind(document,"focusin",km),km=null)},Nx=function(e){e.on("AddEditor",ce(Ix,e)),e.on("RemoveEditor",ce(vC,e))},zx=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},Fx=function(e){return e.collapsed?te.from(Ka(e.startContainer,e.startOffset)).map(Ge.fromDom):te.none()},hE=function(e,n){return Fx(n).bind(function(a){return Xr(a)?te.some(a):Li(e,a)===!1?te.some(e):te.none()})},Lx=function(e,n){hE(Ge.fromDom(e.getBody()),n).bind(function(a){return ou(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},dC=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},xg=function(e){return dv(e)||gd(e).isSome()},gE=function(e){return e.iframeElement&&dv(Ge.fromDom(e.iframeElement))},Hx=function(e){var n=e.getBody();return n&&xg(Ge.fromDom(n))},Vx=function(e){var n=vu(Ge.fromDom(e.getElement()));return Fl(n).filter(function(a){return!Mx(a.dom)&&Z0(e,a.dom)}).isSome()},sl=function(e){return e.inline?Hx(e):gE(e)},Ux=function(e){return sl(e)||Vx(e)},Wx=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&sl(e)===!1&&_g(e).each(function(v){e.selection.setRng(v),i=v});var l=zx(e,n.getNode());if(e.$.contains(a,l)){dC(l),Lx(e,i),J0(e);return}e.inline||(Wn.opera||dC(a),e.getWin().focus()),(Wn.gecko||e.inline)&&(dC(a),Lx(e,i)),J0(e)},J0=function(e){return e.editorManager.setActive(e)},Q0=function(e,n){e.removed||(n?J0(e):Wx(e))},mC=function(e,n,a,i,l){var v=a?n.startContainer:n.endContainer,p=a?n.startOffset:n.endOffset;return te.from(v).map(Ge.fromDom).map(function(S){return!i||!n.collapsed?nc(S,l(S,p)).getOr(S):S}).bind(function(S){return Va(S)?te.some(S):ao(S).filter(Va)}).map(function(S){return S.dom}).getOr(e)},Am=function(e,n,a){return mC(e,n,!0,a,function(i,l){return Math.min(hb(i),l)})},kg=function(e,n,a){return mC(e,n,!1,a,function(i,l){return l>0?l-1:l})},jx=function(e,n){for(var a=e;e&&gn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},Gx=function(e,n){var a,i,l;if(!n)return e;i=n.startContainer,l=n.endContainer;var v=n.startOffset,p=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===l&&p-v<2&&i.hasChildNodes()&&(a=i.childNodes[v]),i.nodeType===3&&l.nodeType===3&&(i.length===v?i=jx(i.nextSibling,!0):i=i.parentNode,p===0?l=jx(l.previousSibling,!1):l=l.parentNode,i&&i===l))?i:a&&a.nodeType===3?a.parentNode:a},ey=function(e,n,a,i){var l,v=[],p=e.getRoot();if(a=e.getParent(a||Am(p,n,n.collapsed),e.isBlock),i=e.getParent(i||kg(p,n,n.collapsed),e.isBlock),a&&a!==p&&v.push(a),a&&i&&a!==i){l=a;for(var S=new sa(a,p);(l=S.next())&&l!==i;)e.isBlock(l)&&v.push(l)}return i&&a!==i&&i!==p&&v.push(i),v},pE=function(e,n,a){return te.from(n).map(function(i){var l=e.nodeIndex(i),v=e.createRng();return v.setStart(i.parentNode,l),v.setEnd(i.parentNode,l+1),a&&(vd(e,v,i,!0),vd(e,v,i,!1)),v})},ty=function(e,n){return et(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},h1={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ny=function(e,n,a){var i=a?"lastChild":"firstChild",l=a?"prev":"next";if(e[i])return e[i];if(e!==n){var v=e[l];if(v)return v;for(var p=e.parent;p&&p!==n;p=p.parent)if(v=p[l],v)return v}},qx=function(e){if(!Rl(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},ry=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},ll=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,h1[n]||1);return a&&Vr(a,function(l,v){i.attr(v,l)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,l;if(typeof n!="string")return n!=null&&Vr(n,function(p,S){i.attr(S,p)}),i;if(l=i.attributes){if(a!==void 0){if(a===null){if(n in l.map){delete l.map[n];for(var v=l.length;v--;)if(l[v].name===n)return l.splice(v,1),i}return i}if(n in l.map){for(var v=l.length;v--;)if(l[v].name===n){l[v].value=a;break}}else l.push({name:n,value:a});return l.map[n]=a,i}return l.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var l=[];l.map={};for(var v=0,p=i.length;v<p;v++){var S=i[v];S.name!=="id"&&(l[l.length]={name:S.name,value:S.value},l.map[S.name]=S.value)}a.attributes=l}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,l=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):l.next=i,a.lastChild===n?(a.lastChild=l,l&&(l.next=null)):i.prev=l,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var l=a.parent||this;return i?(a===l.firstChild?l.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===l.lastChild?l.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=l,n},e.prototype.getAll=function(n){for(var a=this,i=[],l=a.firstChild;l;l=ny(l,a))l.name===n&&i.push(l);return i},e.prototype.children=function(){for(var n=this,a=[],i=n.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=ny(i,n))a.push(i);for(var l=a.length;l--;){var i=a[l];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var l=this,v=l.firstChild;if(ry(l))return!1;if(v)do{if(v.type===1){if(v.attr("data-mce-bogus"))continue;if(n[v.name]||ry(v))return!1}if(v.type===8||v.type===3&&!qx(v)||v.type===3&&v.parent&&a[v.parent.name]&&Rl(v.value)||i&&i(v))return!1}while(v=ny(v,l));return!0},e.prototype.walk=function(n){return ny(this,null,n)},e}(),bE=function(e){for(var n=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},l=CS("img"),v,p=0,S=0;v=n.exec(e);){var A=v[0],F=l+"_"+S++;i[F]=A,p<v.index&&a.push(e.substr(p,v.index-p)),a.push(F),p=v.index+A.length}var X=new RegExp(l+"_[0-9]+","g");return p===0?{prefix:l,uris:i,html:e,re:X}:(p<e.length&&a.push(e.substr(p)),{prefix:l,uris:i,html:a.join(""),re:X})},ay=function(e,n){return e.replace(n.re,function(a){return Ir(n.uris,a).getOr(a)})},Kx=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return n?te.some({type:n[1],data:decodeURIComponent(n[2])}):te.none()},g1=Ct.each,p1=Ct.trim,hC="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Xx={ftp:21,http:80,https:443,mailto:25},Yx=["img","video"],Zx=function(e,n){return Xe(e)?!e:Xe(n)?!Ae(Yx,n):!0},oy=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?Zx(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},yd=function(){function e(n,a){n=p1(n),this.settings=a||{};var i=this.settings.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}var v=n.indexOf("//")===0;if(n.indexOf("/")===0&&!v&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var p=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+l.toAbsPath(p,n);else{var S=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+l.toAbsPath(p,S[1])+S[2]}}n=n.replace(/@@/g,"(mce_at)");var A=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);g1(hC,function(F,X){var Z=A[X];Z&&(Z=Z.replace(/\(mce_at\)/g,"@@")),l[F]=Z}),i&&(l.protocol||(l.protocol=i.protocol),l.userInfo||(l.userInfo=i.userInfo),!l.port&&l.host==="mce_host"&&(l.port=i.port),(!l.host||l.host==="mce_host")&&(l.host=i.host),l.source=""),v&&(l.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(i[0]);return l&&(a=l[1]),{type:a,data:i[1]}},e.isDomSafe=function(n,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var l=$s.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch{l=unescape(l)}return/((java|vb)script|mhtml):/i.test(l)?!1:!oy(i,l,a)},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var l=this.getURI(),v=i.getURI();return l===v||l.charAt(l.length-1)==="/"&&l.substr(0,l.length-1)===v?l:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=Xx[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,l="",v,p,S=n.substring(0,n.lastIndexOf("/")).split("/"),A=a.split("/");if(S.length>=A.length){for(v=0,p=S.length;v<p;v++)if(v>=A.length||S[v]!==A[v]){i=v+1;break}}if(S.length<A.length){for(v=0,p=A.length;v<p;v++)if(v>=S.length||S[v]!==A[v]){i=v+1;break}}if(i===1)return a;for(v=0,p=S.length-(i-1);v<p;v++)l+="../";for(v=i-1,p=A.length;v<p;v++)v!==i-1?l+="/"+A[v]:l+=A[v];return l},e.prototype.toAbsPath=function(n,a){var i,l=0,v=[],p,S=/\/$/.test(a)?"/":"",A=n.split("/"),F=a.split("/");for(g1(A,function(X){X&&v.push(X)}),A=v,i=F.length-1,v=[];i>=0;i--)if(!(F[i].length===0||F[i]===".")){if(F[i]===".."){l++;continue}if(l>0){l--;continue}v.push(F[i])}return i=A.length-l,i<=0?p=ir(v).join("/"):p=A.slice(0,i).join("/")+"/"+ir(v).join("/"),p.indexOf("/")!==0&&(p="/"+p),S&&p.lastIndexOf("/")!==p.length-1&&(p+=S),p},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),yE=Ct.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),wE=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},CE=Pc(function(){return document.implementation.createHTMLDocument("parser")}),wd=function(e,n,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,v=e.getShortEndedElements(),p=1,S=a;p!==0;)for(i.lastIndex=S;;){var A=i.exec(n);if(A===null)return S;if(A[1]==="!"){bo(A[2],"--")?S=gC(n,!1,A.index+3):S=gC(n,!0,A.index+1);break}else{l.lastIndex=i.lastIndex;var F=l.exec(n);if(ie(F)||F.index!==i.lastIndex)continue;A[1]==="/"?p-=1:Dr(v,A[2])||(p+=1),S=i.lastIndex+F[0].length;break}}return S},_E=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},gC=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&_E(i,a)){var l=i.indexOf("[endif]",a);return i.indexOf(">",l)}else if(n){var v=i.indexOf(">",a);return v!==-1?v:i.length}else{var p=/--!?>/g;p.lastIndex=a;var S=p.exec(e);return S?S.index+S[0].length:i.length}},SE=function(e,n){var a=e.exec(n);if(a){var i=a[1],l=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?l:null}else return null},Ag=function(e,n){n===void 0&&(n=Bs()),e=e||{};var a=CE(),i=a.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var l=e.comment?e.comment:Ee,v=e.cdata?e.cdata:Ee,p=e.text?e.text:Ee,S=e.start?e.start:Ee,A=e.end?e.end:Ee,F=e.pi?e.pi:Ee,X=e.doctype?e.doctype:Ee,Z=function(fe,de){de===void 0&&(de="html");for(var ge=fe.html,pe,Oe=0,xe,Ye,je=[],Re,Qe,xt,Lt,jn,mn,Mt,Un,Ut,vn,Gt,Qt,yn,It,hn,Tr,ra,Jr=0,Ii=$s.decode,so=Ct.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ju=de==="html"?0:1,ps=function(Oa){var ja,gi;for(ja=je.length;ja--&&je[ja].name!==Oa;);if(ja>=0){for(gi=je.length-1;gi>=ja;gi--)Oa=je[gi],Oa.valid&&A(Oa.name);je.length=ja}},Nt=function(Oa,ja){return p(ay(Oa,fe),ja)},Kt=function(Oa){Oa!==""&&(Oa.charAt(0)===">"&&(Oa=" "+Oa),!e.allow_conditional_comments&&Oa.substr(0,3).toLowerCase()==="[if"&&(Oa=" "+Oa),l(ay(Oa,fe)))},$n=function(Oa){return ay(Oa,fe)},tt=function(Oa,ja){var gi=Oa||"",bs=!bo(gi,"--"),xv=gC(ge,bs,ja);return Oa=ge.substr(ja,xv-ja),Kt(bs?gi+Oa:Oa),xv+1},Vt=function(Oa,ja,gi,bs,xv){if(ja=ja.toLowerCase(),gi=$n(ja in ni?ja:Ii(gi||bs||xv||"")),Yo&&!jn&&wE(ja)===!1){var kv=Gt[ja];if(!kv&&Qt){for(var Qg=Qt.length;Qg--&&(kv=Qt[Qg],!kv.pattern.test(ja)););Qg===-1&&(kv=null)}if(!kv||kv.validValues&&!(gi in kv.validValues))return}var Ly=ja==="name"||ja==="id";Ly&&Oa in yE&&(gi in a||gi in i)||so[ja]&&!yd.isDomSafe(gi,Oa,e)||jn&&(ja in so||ja.indexOf("on")===0)||(Re.map[ja]=gi,Re.push({name:ja,value:gi}))},zt=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Pn=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Ln=n.getShortEndedElements(),Aa=e.self_closing_elements||n.getSelfClosingElements(),ni=n.getBoolAttrs(),Yo=e.validate,Nm=e.remove_internals,Gu=e.fix_self_closing,Eu=n.getSpecialElements(),hi=ge+">";pe=zt.exec(hi);){var jl=pe[0];if(Oe<pe.index&&Nt(Ii(ge.substr(Oe,pe.index-Oe))),xe=pe[7])xe=xe.toLowerCase(),xe.charAt(0)===":"&&(xe=xe.substr(1)),ps(xe);else if(xe=pe[8]){if(pe.index+jl.length>ge.length){Nt(Ii(ge.substr(pe.index))),Oe=pe.index+jl.length;continue}xe=xe.toLowerCase(),xe.charAt(0)===":"&&(xe=xe.substr(1)),mn=xe in Ln,Gu&&Aa[xe]&&je.length>0&&je[je.length-1].name===xe&&ps(xe);var qu=SE(Pn,pe[9]);if(qu!==null){if(qu==="all"){Oe=wd(n,ge,zt.lastIndex),zt.lastIndex=Oe;continue}Un=!1}if(!Yo||(Mt=n.getElementRule(xe))){if(Un=!0,Yo&&(Gt=Mt.attributes,Qt=Mt.attributePatterns),(vn=pe[9])?(jn=vn.indexOf("data-mce-type")!==-1,jn&&Nm&&(Un=!1),Re=[],Re.map={},vn.replace(Pn,function(Oa,ja,gi,bs,xv){return Vt(xe,ja,gi,bs,xv),""})):(Re=[],Re.map={}),Yo&&!jn){if(yn=Mt.attributesRequired,It=Mt.attributesDefault,hn=Mt.attributesForced,Tr=Mt.removeEmptyAttrs,Tr&&!Re.length&&(Un=!1),hn)for(Qe=hn.length;Qe--;)Ut=hn[Qe],Lt=Ut.name,ra=Ut.value,ra==="{$uid}"&&(ra="mce_"+Jr++),Re.map[Lt]=ra,Re.push({name:Lt,value:ra});if(It)for(Qe=It.length;Qe--;)Ut=It[Qe],Lt=Ut.name,Lt in Re.map||(ra=Ut.value,ra==="{$uid}"&&(ra="mce_"+Jr++),Re.map[Lt]=ra,Re.push({name:Lt,value:ra}));if(yn){for(Qe=yn.length;Qe--&&!(yn[Qe]in Re.map););Qe===-1&&(Un=!1)}if(Ut=Re.map["data-mce-bogus"]){if(Ut==="all"){Oe=wd(n,ge,zt.lastIndex),zt.lastIndex=Oe;continue}Un=!1}}Un&&S(xe,Re,mn)}else Un=!1;if(Ye=Eu[xe]){Ye.lastIndex=Oe=pe.index+jl.length,(pe=Ye.exec(ge))?(Un&&(xt=ge.substr(Oe,pe.index-Oe)),Oe=pe.index+pe[0].length):(xt=ge.substr(Oe),Oe=ge.length),Un&&(xt.length>0&&Nt(xt,!0),A(xe)),zt.lastIndex=Oe;continue}mn||(!vn||vn.indexOf("/")!==vn.length-1?je.push({name:xe,valid:Un}):Un&&A(xe))}else if(xe=pe[1])Kt(xe);else if(xe=pe[2]){var kf=ju===1||e.preserve_cdata||je.length>0&&n.isValidChild(je[je.length-1].name,"#cdata");if(kf)v(xe);else{Oe=tt("",pe.index+2),zt.lastIndex=Oe;continue}}else if(xe=pe[3])X(xe);else if((xe=pe[4])||jl==="<!"){Oe=tt(xe,pe.index+jl.length),zt.lastIndex=Oe;continue}else if(xe=pe[5])if(ju===1)F(xe,pe[6]);else{Oe=tt("?",pe.index+2),zt.lastIndex=Oe;continue}Oe=pe.index+jl.length}for(Oe<ge.length&&Nt(Ii(ge.substr(Oe))),Qe=je.length-1;Qe>=0;Qe--)xe=je[Qe],xe.valid&&A(xe.name)},Q=function(fe,de){de===void 0&&(de="html"),Z(bE(fe),de)};return{parse:Q}};Ag.findEndTag=wd;var pC=function(e,n){var a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(a,"")},Jx=function(e,n){for(var a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,i=e.schema,l=pC(e.getTempAttrs(),n),v=i.getShortEndedElements(),p;p=a.exec(l);){var S=a.lastIndex,A=p[0].length,F=void 0;v[p[1]]?F=S:F=Ag.findEndTag(i,l,S),l=l.substring(0,S-A)+l.substring(F),a.lastIndex=S-A}return lc(l)},iy=Jx,Qx=function(e,n){var a=Ri(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},ek=function(e,n){return qn(qn({},e),{format:n,get:!0,getInner:!0})},xE=function(e,n,a,i){var l=ek(n,a),v=n.no_events?l:e.fire("BeforeGetContent",l),p;return v.format==="raw"?p=Ct.trim(iy(e.serializer,i.innerHTML)):v.format==="text"?p=e.dom.isEmpty(i)?"":lc(i.innerText||i.textContent):v.format==="tree"?p=e.serializer.serialize(i,v):p=Qx(e,e.serializer.serialize(i,v)),!Ae(["text","tree"],v.format)&&!Hd(Ge.fromDom(i))?v.content=Ct.trim(p):v.content=p,v.no_events?v.content:e.fire("GetContent",v).content},uy=function(e,n,a){return te.from(e.getBody()).fold(j(n.format==="tree"?new ll("body",11):""),function(i){return xE(e,n,a,i)})},sy=Ct.each,bC=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var l=function(p){var S={};return sy(e.getAttribs(p),function(A){var F=A.nodeName.toLowerCase();F.indexOf("_")!==0&&F!=="style"&&F.indexOf("data-")!==0&&(S[F]=e.getAttrib(p,F))}),S},v=function(p,S){var A,F;for(F in p)if(Dr(p,F)){if(A=S[F],typeof A>"u"||p[F]!==A)return!1;delete S[F]}for(F in S)if(Dr(S,F))return!1;return!0};return!v(l(a),l(i))||!v(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!Vu(a)&&!Vu(i)};return{compare:n}},tk=Ct.makeMap,nk=function(e){var n=[];e=e||{};var a=e.indent,i=tk(e.indent_before||""),l=tk(e.indent_after||""),v=$s.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format==="html";return{start:function(S,A,F){var X,Z,Q,fe;if(a&&i[S]&&n.length>0&&(fe=n[n.length-1],fe.length>0&&fe!==`
`&&n.push(`
`)),n.push("<",S),A)for(X=0,Z=A.length;X<Z;X++)Q=A[X],n.push(" ",Q.name,'="',v(Q.value,!0),'"');!F||p?n[n.length]=">":n[n.length]=" />",F&&a&&l[S]&&n.length>0&&(fe=n[n.length-1],fe.length>0&&fe!==`
`&&n.push(`
`))},end:function(S){var A;n.push("</",S,">"),a&&l[S]&&n.length>0&&(A=n[n.length-1],A.length>0&&A!==`
`&&n.push(`
`))},text:function(S,A){S.length>0&&(n[n.length]=A?S:v(S))},cdata:function(S){n.push("<![CDATA[",S,"]]>")},comment:function(S){n.push("<!--",S,"-->")},pi:function(S,A){A?n.push("<?",S," ",v(A),"?>"):n.push("<?",S,"?>"),a&&n.push(`
`)},doctype:function(S){n.push("<!DOCTYPE",S,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},Em=function(e,n){n===void 0&&(n=Bs());var a=nk(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(l){var v=e.validate,p={3:function(A){a.text(A.value,A.raw)},8:function(A){a.comment(A.value)},7:function(A){a.pi(A.name,A.value)},10:function(A){a.doctype(A.value)},4:function(A){a.cdata(A.value)},11:function(A){if(A=A.firstChild)do S(A);while(A=A.next)}};a.reset();var S=function(A){var F=p[A.type];if(F)F(A);else{var X=A.name,Z=A.shortEnded,Q=A.attributes;if(v&&Q&&Q.length>1){var fe=[];fe.map={};var de=n.getElementRule(A.name);if(de){for(var ge=0,pe=de.attributesOrder.length;ge<pe;ge++){var Oe=de.attributesOrder[ge];if(Oe in Q.map){var xe=Q.map[Oe];fe.map[Oe]=xe,fe.push({name:Oe,value:xe})}}for(var ge=0,pe=Q.length;ge<pe;ge++){var Oe=Q[ge].name;if(!(Oe in fe.map)){var xe=Q.map[Oe];fe.map[Oe]=xe,fe.push({name:Oe,value:xe})}}Q=fe}}if(a.start(A.name,Q,Z),!Z){if(A=A.firstChild)do S(A);while(A=A.next);a.end(X)}}};return l.type===1&&!e.inner?S(l):p[11](l),a.getContent()};return{serialize:i}},b1=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Le(e,function(n){b1.add(n)})})();var ly=["font","text-decoration","text-emphasis"],y1=function(e,n){return Ji(e.parseStyle(e.getAttrib(n,"style")))},rk=function(e){return b1.has(e)},mv=function(e,n){return qr(y1(e,n),function(a){return!rk(a)})},kE=function(e){return ut(e,function(n){return Je(ly,function(a){return bo(n,a)})})},df=function(e,n,a){var i=y1(e,n),l=y1(e,a),v=function(p){var S=e.getStyle(n,p),A=e.getStyle(a,p);return Mf(S)&&Mf(A)&&S!==A};return Je(i,function(p){var S=function(F){return Je(F,function(X){return X===p})};if(!S(l)&&S(ly)){var A=kE(l);return Je(A,v)}else return v(p)})},ak=function(e,n,a){return te.from(a.container()).filter(gn).exists(function(i){var l=e?0:-1;return n(i.data.charAt(a.offset()+l))})},cy=ce(ak,!0,cd),yC=ce(ak,!1,cd),AE=function(e){var n=e.container();return gn(n)&&(n.data.length===0||gu(n.data)&&md.isBookmarkNode(n.parentNode))},Cd=function(e,n){return function(a){return te.from(_0(e?0:-1,a)).filter(n).isSome()}},ok=function(e){return gh(e)&&yr(Ge.fromDom(e),"display")==="block"},ik=function(e){return Ua(e)&&!Vo(e)},EE=Cd(!0,ok),wC=Cd(!1,ok),Eg=Cd(!0,Mu),Tg=Cd(!1,Mu),uk=Cd(!0,Eo),CC=Cd(!1,Eo),Hl=Cd(!0,ik),_d=Cd(!1,ik),Vn=function(e){for(var n=[],a=e.dom;a;)n.push(Ge.fromDom(a)),a=a.lastChild;return n},_C=function(e){var n=Di(e,"br"),a=ut(Vn(e).slice(-1),xh);n.length===a.length&&Le(a,mo)},mf=function(e){Uf(e),Ho(e,Ge.fromHtml('<br data-mce-bogus="1">'))},sk=function(e){as(e).each(function(n){Lf(n).each(function(a){Ts(e)&&xh(n)&&Ts(a)&&mo(n)})})},TE=function(e){return e.slice(0,-1)},lk=function(e,n,a){return Li(n,e)?TE(Lo(e,function(i){return a(i)||Ma(i,n)})):[]},w1=function(e,n){return lk(e,n,ot)},Cc=function(e,n){return[e].concat(w1(e,n))},fy=function(e,n,a){return D0(e,n,a,AE)},ck=function(e,n){return rn(Cc(Ge.fromDom(n.container()),e),Ts)},ar=function(e,n,a){return fy(e,n.dom,a).forall(function(i){return ck(n,a).fold(function(){return bc(i,a,n.dom)===!1},function(l){return bc(i,a,n.dom)===!1&&Li(l,Ge.fromDom(i.container()))})})},SC=function(e,n,a){return ck(n,a).fold(function(){return fy(e,n.dom,a).forall(function(i){return bc(i,a,n.dom)===!1})},function(i){return fy(e,i.dom,a).isNone()})},lr=ce(SC,!1),xC=ce(SC,!0),fk=ce(ar,!1),vk=ce(ar,!0),Og=function(e){return x0(e).exists(xh)},Dg=function(e,n,a){var i=ut(Cc(Ge.fromDom(a.container()),n),Ts),l=da(i).getOr(n);return Hu(e,l.dom,a).filter(Og)},Rg=function(e,n){return x0(n).exists(xh)||Dg(!0,e,n).isSome()},$g=function(e,n){return $4(n).exists(xh)||Dg(!1,e,n).isSome()},OE=ce(Dg,!1),er=ce(Dg,!0),dk=function(e){return mt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},kC=function(e,n){var a=ut(Cc(Ge.fromDom(n.container()),e),Ts);return da(a).getOr(e)},C1=function(e,n){return dk(n)?yC(n):yC(n)||wc(kC(e,n).dom,n).exists(yC)},Sd=function(e,n){return dk(n)?cy(n):cy(n)||Nl(kC(e,n).dom,n).exists(cy)},mk=function(e){return Ae(["pre","pre-wrap"],e)},vy=function(e){return x0(e).bind(function(n){return Ch(n,Va)}).exists(function(n){return mk(yr(n,"white-space"))})},AC=function(e,n){return wc(e.dom,n).isNone()},DE=function(e,n){return Nl(e.dom,n).isNone()},hk=function(e,n){return AC(e,n)||DE(e,n)||lr(e,n)||xC(e,n)||$g(e,n)||Rg(e,n)},RE=function(e,n){return vy(n)?!1:hk(e,n)||C1(e,n)||Sd(e,n)},dy=function(e,n){return vy(n)?!1:lr(e,n)||fk(e,n)||$g(e,n)||C1(e,n)},$E=function(e){var n=e.container(),a=e.offset();return gn(n)&&a<n.data.length?mt(n,a+1):e},my=function(e,n){return vy(n)?!1:xC(e,n)||vk(e,n)||Rg(e,n)||Sd(e,n)},gk=function(e,n){return dy(e,n)||my(e,$E(n))},pk=function(e,n){return gm(e.charAt(n))},BE=function(e){var n=e.container();return gn(n)&&Bo(n.data,us)},bk=function(e){var n=e.split("");return et(n,function(a,i){return gm(a)&&i>0&&i<n.length-1&&R0(n[i-1])&&R0(n[i+1])?" ":a}).join("")},EC=function(e,n){var a=n.data,i=mt(n,0);return pk(a,0)&&!gk(e,i)?(n.data=" "+a.slice(1),!0):!1},Nr=function(e){var n=e.data,a=bk(n);return a!==n?(e.data=a,!0):!1},yk=function(e,n){var a=n.data,i=mt(n,a.length-1);return pk(a,a.length-1)&&!gk(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},hy=function(e,n){return te.some(n).filter(BE).bind(function(a){var i=a.container(),l=EC(e,i)||Nr(i)||yk(e,i);return l?te.some(a):te.none()})},TC=function(e){var n=Ge.fromDom(e.getBody());e.selection.isCollapsed()&&hy(n,mt.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},wk=function(e,n,a){var i=$t(e,function(l,v){return cd(v)||gm(v)?l.previousCharIsSpace||l.str===""&&n||l.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:l.str+us}:{previousCharIsSpace:!0,str:l.str+" "}:{previousCharIsSpace:!1,str:l.str+v}},{previousCharIsSpace:!1,str:""});return i.str},OC=function(e,n,a){if(a!==0){var i=Ge.fromDom(e),l=zv(i,Ts).getOr(i),v=e.data.slice(n,n+a),p=n+a>=e.data.length&&my(l,mt(e,e.data.length)),S=n===0&&dy(l,mt(e,0));e.replaceData(n,a,wk(v,S,p))}},_1=function(e,n){var a=e.data.slice(n),i=a.length-Md(a).length;OC(e,n,i)},gy=function(e,n){var a=e.data.slice(0,n),i=a.length-es(a).length;OC(e,n-i,i)},u=function(e,n,a,i){i===void 0&&(i=!0);var l=es(e.data).length,v=i?e:n,p=i?n:e;return i?v.appendData(p.data):v.insertData(0,p.data),mo(Ge.fromDom(p)),a&&_1(v,l),v},c=function(e,n){var a=e.container(),i=e.offset();return mt.isTextPosition(e)===!1&&a===n.parentNode&&i>mt.before(n).offset()},h=function(e,n){return c(n,e)?mt(n.container(),n.offset()-1):n},w=function(e){return gn(e)?mt(e,0):mt.before(e)},k=function(e){return gn(e)?mt(e,e.data.length):mt.after(e)},R=function(e){return Gc(e.previousSibling)?te.some(k(e.previousSibling)):e.previousSibling?ol(e.previousSibling):te.none()},L=function(e){return Gc(e.nextSibling)?te.some(w(e.nextSibling)):e.nextSibling?ou(e.nextSibling):te.none()},K=function(e,n){var a=mt.before(n.previousSibling?n.previousSibling:n.parentNode);return wc(e,a).fold(function(){return Nl(e,mt.after(n))},te.some)},ue=function(e,n){return Nl(e,mt.after(n)).fold(function(){return wc(e,mt.before(n))},te.some)},we=function(e,n){return R(n).orThunk(function(){return L(n)}).orThunk(function(){return K(e,n)})},Me=function(e,n){return L(n).orThunk(function(){return R(n)}).orThunk(function(){return ue(e,n)})},ht=function(e,n,a){return e?Me(n,a):we(n,a)},Ht=function(e,n,a){return ht(e,n,a).map(ce(h,a))},Tt=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},gt=function(e){return function(n){return n.dom===e}},Yt=function(e,n){return n&&Dr(e.schema.getBlockElements(),ko(n))},tn=function(e){if(Ai(e)){var n=Ge.fromHtml('<br data-mce-bogus="1">');return Uf(e),Ho(e,n),te.some(mt.before(n.dom))}else return te.none()},Rn=function(e,n,a){var i=Lf(e).filter(Ya),l=ks(e).filter(Ya);return mo(e),i2(i,l,n,function(v,p,S){var A=v.dom,F=p.dom,X=A.data.length;return u(A,F,a),S.container()===F?mt(A,X):S}).orThunk(function(){return a&&(i.each(function(v){return gy(v.dom,v.dom.length)}),l.each(function(v){return _1(v.dom,0)})),n})},jr=function(e,n){return Dr(e.schema.getTextInlineElements(),ko(n))},Dn=function(e,n,a,i){i===void 0&&(i=!0);var l=Ht(n,e.getBody(),a.dom),v=zv(a,ce(Yt,e),gt(e.getBody())),p=Rn(a,l,jr(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):v.bind(tn).fold(function(){i&&Tt(e,n,p)},function(S){i&&Tt(e,n,te.some(S))})},nr=function(e){return function(n){return Ma(e,n)}},Er=function(e){return Di(e,"td,th")},xr=function(e,n){var a=function(F){return pm(Ge.fromDom(F),n)},i=a(e.startContainer),l=a(e.endContainer),v=i.isSome(),p=l.isSome(),S=eu(i,l,Ma).getOr(!1),A=!S&&v&&p;return{startTable:i,endTable:l,isStartInTable:v,isEndInTable:p,isSameTable:S,isMultiTable:A}},_o=function(e,n){return{start:e,end:n}},fi=function(e,n,a){return{rng:e,table:n,cells:a}},vi=Mn.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),zr=function(e,n){return wo(Ge.fromDom(e),"td,th",n)},or=function(e){return!Ma(e.start,e.end)},$r=function(e,n){return pm(e.start,n).bind(function(a){return pm(e.end,n).bind(function(i){return u2(Ma(a,i),a)})})},fa=function(e,n){return!or(e)&&$r(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},uo=function(e,n){var a=zr(e.startContainer,n),i=zr(e.endContainer,n);return eu(a,i,_o)},hv=function(e){return function(n){return pm(n,e).bind(function(a){return Ur(Er(a)).map(function(i){return _o(n,i)})})}},ca=function(e){return function(n){return pm(n,e).bind(function(a){return da(Er(a)).map(function(i){return _o(i,n)})})}},ds=function(e){return function(n){return $r(n,e).map(function(a){return fi(n,a,Er(a))})}},di=function(e,n,a,i){if(a.collapsed||!e.forall(or))return te.none();if(n.isSameTable){var l=e.bind(ds(i));return te.some({start:l,end:l})}else{var v=zr(a.startContainer,i),p=zr(a.endContainer,i),S=v.bind(hv(i)).bind(ds(i)),A=p.bind(ca(i)).bind(ds(i));return te.some({start:S,end:A})}},S1=function(e,n){return pn(e,function(a){return Ma(a,n)})},gv=function(e){return eu(S1(e.cells,e.rng.start),S1(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},_c=function(e,n,a){return e.exists(function(i){return fa(i,a)&&zl(i.start,n)})},Hs=function(e,n){var a=n.startTable,i=n.endTable,l=e.cloneRange();return a.each(function(v){return l.setStartAfter(v.dom)}),i.each(function(v){return l.setEndBefore(v.dom)}),l},hf=function(e,n,a,i){return di(e,n,a,i).bind(function(l){var v=l.start,p=l.end;return v.or(p)}).bind(function(l){var v=n.isSameTable,p=gv(l).getOr([]);if(v&&l.cells.length===p.length)return te.some(vi.fullTable(l.table));if(p.length>0){if(v)return te.some(vi.partialTable(p,te.none()));var S=Hs(a,n);return te.some(vi.partialTable(p,te.some(qn(qn({},n),{rng:S}))))}else return te.none()})},py=function(e,n,a,i){return di(e,n,a,i).bind(function(l){var v=l.start,p=l.end,S=v.bind(gv).getOr([]),A=p.bind(gv).getOr([]);if(S.length>0&&A.length>0){var F=Hs(a,n);return te.some(vi.multiTable(S,A,F))}else return te.none()})},Bg=function(e,n){var a=nr(e),i=uo(n,a),l=xr(n,a);return _c(i,n,a)?i.map(function(v){return vi.singleCellTable(n,v.start)}):l.isMultiTable?py(i,l,n,a):hf(i,l,n,a)},Mg=function(e){var n=ns(e)?Lf(e):as(e);return n.bind(Mg).orThunk(function(){return te.some(e)})},Pg=function(e){return Le(e,function(n){yt(n,"contenteditable"),mf(n)})},Sc=function(e,n){return te.from(e.dom.getParent(n,e.dom.isBlock)).map(Ge.fromDom)},Ig=function(e,n,a){a.each(function(i){n?mo(i):(mf(i),e.selection.setCursorLocation(i.dom,0))})},Ng=function(e,n,a,i){var l=a.cloneRange();i?(l.setStart(a.startContainer,a.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(a.endContainer,a.endOffset)),ME(e,l,n,!1)},DC=function(e){var n=sf(e),a=Ge.fromDom(e.selection.getNode());ph(a.dom)&&Ai(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),n.length>1&&Je(n,function(i){return Ma(i,a)})&&P(a,"data-mce-selected","1")},zg=function(e,n,a){var i=e.selection.getRng(),l=a.bind(function(v){var p=v.rng,S=v.isStartInTable,A=Sc(e,S?p.endContainer:p.startContainer);p.deleteContents(),Ig(e,S,A.filter(Ai));var F=S?n[0]:n[n.length-1];return Ng(e,F,i,S),Ai(F)?te.none():te.some(S?n.slice(1):n.slice(0,-1))}).getOr(n);return Pg(l),DC(e),!0},L5=function(e,n,a,i){var l=e.selection.getRng(),v=n[0],p=a[a.length-1];Ng(e,v,l,!0),Ng(e,p,l,!1);var S=Ai(v)?n:n.slice(1),A=Ai(p)?a:a.slice(0,-1);return Pg(S.concat(A)),i.deleteContents(),DC(e),!0},ME=function(e,n,a,i){i===void 0&&(i=!0),n.deleteContents();var l=Mg(a).getOr(a),v=Ge.fromDom(e.dom.getParent(l.dom,e.dom.isBlock));if(Ai(v)&&(mf(v),i&&e.selection.setCursorLocation(v.dom,0)),!Ma(a,v)){var p=Fd(ao(v),a)?[]:Ao(v);Le(p.concat(Qi(a)),function(S){!Ma(S,v)&&!Li(S,v)&&Ai(S)&&mo(S)})}return!0},o8=function(e,n){return Dn(e,!1,n),!0},Fg=function(e,n,a){return Bg(n,a).map(function(i){return i.fold(ce(ME,e),ce(o8,e),ce(zg,e),ce(L5,e))})},i8=function(e,n){return by(e,n)},ms=function(e,n,a,i){return PE(n,i).fold(function(){return Fg(e,n,a)},function(l){return i8(e,l)}).getOr(!1)},oa=function(e,n,a){var i=Ge.fromDom(e.getBody()),l=e.selection.getRng();return a.length!==0?zg(e,a,te.none()):ms(e,i,l,n)},gf=function(e,n){return rn(Cc(n,e),sc)},PE=function(e,n){return rn(Cc(n,e),pp("caption"))},H5=function(e,n,a,i,l){return yc(a,e.getBody(),l).bind(function(v){return gf(n,Ge.fromDom(v.getNode())).map(function(p){return Ma(p,i)===!1})})},by=function(e,n){return mf(n),e.selection.setCursorLocation(n.dom,0),te.some(!0)},IE=function(e,n,a,i){return ou(e.dom).bind(function(l){return ol(e.dom).map(function(v){return n?a.isEqual(l)&&i.isEqual(v):a.isEqual(v)&&i.isEqual(l)})}).getOr(!0)},V5=function(e,n){return by(e,n)},U5=function(e,n,a){return PE(e,Ge.fromDom(a.getNode())).map(function(i){return Ma(i,n)===!1})},u8=function(e,n,a,i,l){return yc(a,e.getBody(),l).bind(function(v){return IE(i,a,l,v)?V5(e,i):U5(n,i,v)}).or(te.some(!0))},s8=function(e,n,a,i){var l=mt.fromRangeStart(e.selection.getRng());return gf(a,i).bind(function(v){return Ai(v)?by(e,v):H5(e,a,n,v,l)}).getOr(!1)},NE=function(e,n,a,i){var l=mt.fromRangeStart(e.selection.getRng());return Ai(i)?by(e,i):u8(e,a,n,i,l)},zE=function(e,n){return e?uk(n):CC(n)},pv=function(e,n){var a=mt.fromRangeStart(e.selection.getRng());return zE(n,a)||Hu(n,e.getBody(),a).exists(function(i){return zE(n,i)})},l8=function(e,n,a){var i=Ge.fromDom(e.getBody());return PE(i,a).fold(function(){return s8(e,n,i,a)||pv(e,n)},function(l){return NE(e,n,i,l).getOr(!1)})},Ck=function(e,n){var a=Ge.fromDom(e.selection.getStart(!0)),i=sf(e);return e.selection.isCollapsed()&&i.length===0?l8(e,n,a):oa(e,a,i)},c8=function(e,n,a,i){var l=document.createRange();return l.setStart(e,n),l.setEnd(a,i),l},FE=function(e){var n=mt.fromRangeStart(e),a=mt.fromRangeEnd(e),i=e.commonAncestorContainer;return Hu(!1,i,a).map(function(l){return!bc(n,a,i)&&bc(n,l,i)?c8(n.container(),n.offset(),l.container(),l.offset()):e}).getOr(e)},LE=function(e){return e.collapsed?e:FE(e)},f8=function(e){return e.firstChild&&e.firstChild===e.lastChild},HE=function(e){return e.name==="br"||e.value===us},v8=function(e,n){var a=e.getBlockElements();return a[n.name]&&f8(n)&&HE(n.firstChild)},d8=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||v8(e,n))},W5=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),d8(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},m8=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},h8=function(e,n,a){var i=n.serialize(a),l=e.createFragment(i);return m8(l)},_k=function(e){return ut(e.childNodes,function(n){return n.nodeName==="LI"})},g8=function(e){return e.data===us||wa(e)},j5=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&g8(e.firstChild)},G5=function(e){return!e.firstChild||j5(e)},VE=function(e){return e.length>0&&G5(e[e.length-1])?e.slice(0,-1):e},UE=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},p8=function(e,n){return!!UE(e,n)},WE=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},b8=function(e,n){var a=mt.before(e),i=go(n),l=i.next(a);return l?l.toRange():null},q5=function(e,n){var a=mt.after(e),i=go(n),l=i.prev(a);return l?l.toRange():null},RC=function(e,n,a,i){var l=WE(e,i),v=e.parentNode;return v.insertBefore(l[0],e),Ct.each(n,function(p){v.insertBefore(p,e)}),v.insertBefore(l[1],e),v.removeChild(e),q5(n[n.length-1],a)},jE=function(e,n,a){var i=e.parentNode;return Ct.each(n,function(l){i.insertBefore(l,e)}),b8(e,a)},y8=function(e,n,a,i){return i.insertAfter(n.reverse(),e),q5(n[0],a)},w8=function(e,n,a,i){var l=h8(n,e,i),v=UE(n,a.startContainer),p=VE(_k(l.firstChild)),S=1,A=2,F=n.getRoot(),X=function(Z){var Q=mt.fromRangeStart(a),fe=go(n.getRoot()),de=Z===S?fe.prev(Q):fe.next(Q);return de?UE(n,de.getNode())!==v:!0};return X(S)?jE(v,p,F):X(A)?y8(v,p,F,n):RC(v,p,F,a)},K5=function(e,n,a){var i=Ge.fromDom(e.getRoot());return dy(i,mt.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),my(i,mt.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},Sk=ph,C8=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,Sk);return a===i&&zl(Ge.fromDom(a),n)}else return!1},_8=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,l=a.lastChild;!i||i===l&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},S8=function(e,n){te.from(e.getParent(n,"td,th")).map(Ge.fromDom).each(sk)},x8=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var l=e.getBody(),v=bC(i);Ct.each(i.select("*[data-mce-fragment]"),function(p){var S=Xe(a[p.nodeName.toLowerCase()]);if(S&&mv(i,p))for(var A=p.parentNode;Xe(A)&&A!==l;A=A.parentNode){var F=df(i,p,A);if(F)break;if(v.compare(A,p)){i.remove(p,!0);break}}})}},X5=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},Y5=function(e){Ct.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},k8=function(e){return!!e.getAttribute("data-mce-fragment")},A8=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},E8=function(e,n){var a,i=e.dom,l=e.selection;if(n){l.scrollIntoView(n);var v=ym(e.getBody(),n);if(i.getContentEditable(v)==="false"){i.remove(n),l.select(v);return}var p=i.createRng(),S=n.previousSibling;if(gn(S)){if(p.setStart(S,S.nodeValue.length),!Wn.ie){var A=n.nextSibling;gn(A)&&(S.appendData(A.data),A.parentNode.removeChild(A))}}else p.setStartBefore(n),p.setEndBefore(n);var F=function(Z){var Q=mt.fromRangeStart(Z),fe=go(e.getBody());if(Q=fe.next(Q),Q)return Q.toRange()},X=i.getParent(n,i.isBlock);i.remove(n),X&&i.isEmpty(X)&&(e.$(X).empty(),p.setStart(X,0),p.setEnd(X,0),!Sk(X)&&!k8(X)&&(a=F(p))?(p=a,i.remove(X)):i.add(X,i.create("br",{"data-mce-bogus":"1"}))),l.setRng(p)}},T8=function(e){var n=e.dom,a=LE(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,Sk);C8(n,a,i)?ME(e,a,Ge.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},O8=function(e,n,a){var i,l,v,p=e.selection,S=e.dom;/^ | $/.test(n)&&(n=K5(S,p.getRng(),n));var A=e.parser,F=a.merge,X=Em({validate:h4(e)},e.schema),Z='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',Q=e.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:a.paste});if(Q.isDefaultPrevented()){e.fire("SetContent",{content:Q.content,format:"html",selection:!0,paste:a.paste});return}n=Q.content,n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,Z),l=p.getRng();var fe=l.startContainer||(l.parentElement?l.parentElement():null),de=e.getBody();fe===de&&p.isCollapsed()&&S.isBlock(de.firstChild)&&A8(e,de.firstChild)&&S.isEmpty(de.firstChild)&&(l=S.createRng(),l.setStart(de.firstChild,0),l.setEnd(de.firstChild,0),p.setRng(l)),p.isCollapsed()||T8(e),i=p.getNode();var ge={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},pe=A.parse(n,ge);if(a.paste===!0&&W5(e.schema,pe)&&p8(S,i)){l=w8(X,S,p.getRng(),pe),p.setRng(l),e.fire("SetContent",Q);return}if(X5(pe),v=pe.lastChild,v.attr("id")==="mce_marker"){var Oe=v;for(v=v.prev;v;v=v.walk(!0))if(v.type===3||!S.isBlock(v.name)){e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(Oe,v,v.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!ge.invalid)n=X.serialize(pe),_8(e,n,i);else{e.selection.setContent(Z),i=p.getNode();var xe=e.getBody();for(i.nodeType===9?i=v=xe:v=i;v!==xe;)i=v,v=v.parentNode;n=i===xe?xe.innerHTML:S.getOuterHTML(i),n=X.serialize(A.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return X.serialize(pe)}))),i===xe?S.setHTML(xe,n):S.setOuterHTML(i,n)}x8(e,F),E8(e,S.get("mce_marker")),Y5(e.getBody()),S8(S,p.getStart()),e.fire("SetContent",Q),e.addVisual()},GE=function(e,n){n(e),e.firstChild&&GE(e.firstChild,n),e.next&&GE(e.next,n)},$C=function(e,n,a){var i={},l={},v=[];a.firstChild&&GE(a.firstChild,function(A){Le(e,function(F){F.name===A.name&&(i[F.name]?i[F.name].nodes.push(A):i[F.name]={filter:F,nodes:[A]})}),Le(n,function(F){typeof A.attr(F.name)=="string"&&(l[F.name]?l[F.name].nodes.push(A):l[F.name]={filter:F,nodes:[A]})})});for(var p in i)Dr(i,p)&&v.push(i[p]);for(var S in l)Dr(l,S)&&v.push(l[S]);return v},D8=function(e,n,a){var i=$C(e,n,a);Le(i,function(l){Le(l.filter.callbacks,function(v){v(l.nodes,l.filter.name,{})})})},Z5="html",BC=function(e){return e instanceof ll},R8=function(e){sl(e)&&ou(e.getBody()).each(function(n){var a=n.getNode(),i=Eo(a)?ou(a).getOr(n):n;e.selection.setRng(i.toRange())})},xk=function(e,n,a){e.dom.setHTML(e.getBody(),n),a!==!0&&R8(e)},J5=function(e,n,a,i){if(a.length===0||/^\s+$/.test(a)){var l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?a="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+l+"</li>");var v=Ri(e);v&&e.schema.isValidChild(n.nodeName.toLowerCase(),v.toLowerCase())?(a=l,a=e.dom.createHTML(v,Kh(e),a)):a||(a='<br data-mce-bogus="1">'),xk(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=Em({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=Hd(Ge.fromDom(n))?a:Ct.trim(a),xk(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},$8=function(e,n,a,i){D8(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var l=Em({validate:e.validate},e.schema).serialize(a);return i.content=Hd(Ge.fromDom(n))?l:Ct.trim(l),xk(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},B8=function(e,n){return qn(qn({format:Z5},e),{set:!0,content:BC(n)?"":n})},M8=function(e,n,a){var i=B8(a,n),l=a.no_events?i:e.fire("BeforeSetContent",i);return BC(n)||(n=l.content),te.from(e.getBody()).fold(j(n),function(v){return BC(n)?$8(e,v,n,l):J5(e,v,n,l)})},P8=function(e,n){return c2(e,n).isSome()},Q5=function(e){return le(e)?e:ot},I8=function(e,n,a){for(var i=e.dom,l=Q5(a);i.parentNode;){i=i.parentNode;var v=Ge.fromDom(i),p=n(v);if(p.isSome())return p;if(l(v))break}return te.none()},qE=function(e,n,a){var i=n(e),l=Q5(a);return i.orThunk(function(){return l(e)?te.none():I8(e,n,l)})},KE=Ow,eD=function(e,n,a){var i=e.formatter.get(a);if(i)for(var l=0;l<i.length;l++){var v=i[l];if(vs(v)&&v.inherit===!1&&e.dom.is(n,v.selector))return!0}return!1},XE=function(e,n,a,i,l){var v=e.dom.getRoot();return n===v?!1:(n=e.dom.getParent(n,function(p){return eD(e,p,a)?!0:p.parentNode===v||!!uu(e,p,a,i,!0)}),!!uu(e,n,a,i,l))},YE=function(e,n,a){if(KE(n,a.inline)||KE(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},kk=function(e,n,a,i,l,v){var p=a[i];if(le(a.onmatch))return a.onmatch(n,a,i);if(p){if(De(p.length)){for(var S in p)if(Dr(p,S)){var A=i==="attributes"?e.getAttrib(n,S):mg(e,n,S),F=of(p[S],v),X=ye(A)||Pd(A);if(X&&ye(F))continue;if(l&&X&&!a.exact||(!l||a.exact)&&!KE(A,Dw(e,F,S)))return!1}}else for(var Z=0;Z<p.length;Z++)if(i==="attributes"?e.getAttrib(n,p[Z]):mg(e,n,p[Z]))return!0}return!0},uu=function(e,n,a,i,l){var v=e.formatter.get(a),p=e.dom;if(v&&n)for(var S=0;S<v.length;S++){var A=v[S];if(YE(e.dom,n,A)&&kk(p,n,A,"attributes",l,i)&&kk(p,n,A,"styles",l,i)){var F=A.classes;if(F){for(var X=0;X<F.length;X++)if(!e.dom.hasClass(n,of(F[X],i)))return}return A}}},MC=function(e,n,a,i,l){if(i)return XE(e,i,n,a,l);if(i=e.selection.getNode(),XE(e,i,n,a,l))return!0;var v=e.selection.getStart();return!!(v!==i&&XE(e,v,n,a,l))},ZE=function(e,n,a){var i=[],l={},v=e.selection.getStart();return e.dom.getParent(v,function(p){for(var S=0;S<n.length;S++){var A=n[S];!l[A]&&uu(e,p,A,a)&&(l[A]=!0,i.push(A))}},e.dom.getRoot()),i},JE=function(e,n){var a=function(l){return Ma(l,Ge.fromDom(e.getBody()))},i=function(l,v){return uu(e,l.dom,v)?te.some(v):te.none()};return te.from(e.selection.getStart(!0)).bind(function(l){return qE(Ge.fromDom(l),function(v){return La(n,function(p){return i(v,p)})},a)}).getOrNull()},N8=function(e,n){var a=e.formatter.get(n),i=e.dom;if(a)for(var l=e.selection.getStart(),v=n1(i,l),p=a.length-1;p>=0;p--){var S=a[p];if(!vs(S)||Xe(S.defaultBlock))return!0;for(var A=v.length-1;A>=0;A--)if(i.is(v[A],S.selector))return!0}return!1},tD=function(e,n,a){return $t(a,function(i,l){var v=ux(e,l);return e.formatter.matchNode(n,l,{},v)?i.concat([l]):i},[])},yy=He,QE="_mce_caret",eT=function(e,n){return e.importNode(n,!0)},z8=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==yy||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},tT=function(e){return z8(e).length>0},nD=function(e){if(e){var n=new sa(e,e);for(e=n.current();e;e=n.next())if(gn(e))return e}return null},x1=function(e){var n=Ge.fromTag("span");return Y(n,{id:QE,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ho(n,Ge.fromText(yy)),n},rD=function(e){var n=nD(e);return n&&n.nodeValue.charAt(0)===yy&&n.deleteData(0,1),n},nT=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(tT(n))Dn(e,!1,Ge.fromDom(n),a);else{var v=l.getRng(),p=i.getParent(n,i.isBlock),S=v.startContainer,A=v.startOffset,F=v.endContainer,X=v.endOffset,Z=rD(n);i.remove(n,!0),S===Z&&A>0&&v.setStart(Z,A-1),F===Z&&X>0&&v.setEnd(Z,X-1),p&&i.isEmpty(p)&&mf(Ge.fromDom(p)),l.setRng(v)}},Ak=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(n)nT(e,n,a);else if(n=mm(e.getBody(),l.getStart()),!n)for(;n=i.get(QE);)nT(e,n,!1)},F8=function(e,n,a){var i=e.dom,l=i.getParent(a,ce(Tw,e));l&&i.isEmpty(l)?a.parentNode.replaceChild(n,a):(_C(Ge.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},aD=function(e,n){return e.appendChild(n),n},oD=function(e,n){var a=jt(e,function(i,l){return aD(i,l.cloneNode(!1))},n);return aD(a,a.ownerDocument.createTextNode(yy))},L8=function(e,n,a,i,l,v){var p=e.formatter,S=e.dom,A=ut(Ji(p.get()),function(Q){return Q!==i&&!Bo(Q,"removeformat")}),F=tD(e,a,A),X=ut(F,function(Q){return!j4(e,Q,i)});if(X.length>0){var Z=a.cloneNode(!1);return S.add(n,Z),p.remove(i,l,Z,v),S.remove(Z),te.some(Z)}else return te.none()},H8=function(e,n,a){var i,l,v=e.selection,p=v.getRng(),S=p.startOffset,A=p.startContainer,F=A.nodeValue;i=mm(e.getBody(),v.getStart()),i&&(l=nD(i));var X=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(F&&S>0&&S<F.length&&X.test(F.charAt(S))&&X.test(F.charAt(S-1))){var Z=v.getBookmark();p.collapse(!0);var Q=fd(e,p,e.formatter.get(n));Q=fv(Q),e.formatter.apply(n,a,Q),v.moveToBookmark(Z)}else(!i||l.nodeValue!==yy)&&(i=eT(e.getDoc(),x1(!0).dom),l=i.firstChild,p.insertNode(i),S=1),e.formatter.apply(n,a,i),v.setCursorLocation(l,S)},iD=function(e,n,a,i){var l=e.dom,v=e.selection,p,S,A,F=[],X=v.getRng(),Z=X.startContainer,Q=X.startOffset;for(S=Z,Z.nodeType===3&&(Q!==Z.nodeValue.length&&(p=!0),S=S.parentNode);S;){if(uu(e,S,n,a,i)){A=S;break}S.nextSibling&&(p=!0),F.push(S),S=S.parentNode}if(A)if(p){var fe=v.getBookmark();X.collapse(!0);var de=fd(e,X,e.formatter.get(n),!0);de=fv(de),e.formatter.remove(n,a,de,i),v.moveToBookmark(fe)}else{var ge=mm(e.getBody(),A),pe=x1(!1).dom;F8(e,pe,ge!==null?ge:A);var Oe=L8(e,pe,A,n,a,i),xe=oD(F.concat(Oe.toArray()),pe);nT(e,ge,!1),v.setCursorLocation(xe,1),l.isEmpty(A)&&l.remove(A)}},V8=function(e,n){var a=e.selection,i=e.getBody();Ak(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===yy&&Ak(e,mm(i,a.getStart())),(n===37||n===39)&&Ak(e,mm(i,a.getStart()))},rT=function(e){e.on("mouseup keydown",function(n){V8(e,n.keyCode)})},wy=function(e,n){var a=x1(!1),i=oD(n,a.dom);return Si(Ge.fromDom(e),a),mo(Ge.fromDom(e)),mt(i,0)},U8=function(e,n){var a=e.schema.getTextInlineElements();return Dr(a,ko(n))&&!af(n.dom)&&!yo(n.dom)},W8=function(e){return af(e.dom)&&tT(e.dom)},k1={},Ek=yl,uD=Mc,j8=function(e,n){var a=k1[e];a||(k1[e]=[]),k1[e].push(n)},sD=function(e,n){uD(k1[e],function(a){a(n)})};j8("pre",function(e){var n=e.selection.getRng(),a,i=function(p){return v(p.previousSibling)&&wl(a,p.previousSibling)!==-1},l=function(p,S){hr(S).remove(),hr(p).append("<br><br>").append(S.childNodes)},v=As(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),uD(Ek(Ek(a,v),i),function(p){l(p.previousSibling,p)}))});var PC=Ct.each,aT=function(e){return Jn(e)&&!Vu(e)&&!af(e)&&!yo(e)},IC=function(e,n){for(var a=e;a;a=a[n]){if(gn(a)&&Mf(a.data))return e;if(Jn(a)&&!Vu(a))return a}return e},xd=function(e,n,a){var i=bC(e);if(n&&a&&(n=IC(n,"previousSibling"),a=IC(a,"nextSibling"),i.compare(n,a))){for(var l=n.nextSibling;l&&l!==a;){var v=l;l=l.nextSibling,n.appendChild(v)}return e.remove(a),Ct.each(Ct.grep(a.childNodes),function(p){n.appendChild(p)}),n}return a},lD=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var l=xd(e,B0(i),i);xd(e,l,B0(l,!0))}},oT=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";PC(e.select(i,a),function(l){aT(l)&&PC(n.styles,function(v,p){e.setStyle(l,p,"")})})}},iT=function(e,n,a){PC(e.childNodes,function(i){aT(i)&&(n(i)&&a(i),i.hasChildNodes()&&iT(i,n,a))})},G8=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},cD=function(e,n){return function(a){return!!(a&&mg(e,a,n))}},fD=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),G8(e,i)}},Cy=Mn.generate([{keep:[]},{rename:["name"]},{removed:[]}]),q8=/^(src|href|style)$/,Lg=Ct.each,_y=Ow,K8=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},vD=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},dD=function(e,n,a){var i=n[a?"startContainer":"endContainer"],l=n[a?"startOffset":"endOffset"];if(Jn(i)){var v=i.childNodes.length-1;!a&&l&&l--,i=i.childNodes[l>v?v:l]}return gn(i)&&a&&l>=i.nodeValue.length&&(i=new sa(i,e.getBody()).next()||i),gn(i)&&!a&&l===0&&(i=new sa(i,e.getBody()).prev()||i),i},uT=function(e,n){var a=n?"firstChild":"lastChild";if(K8(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},sT=function(e,n,a,i){var l=e.create(a,i);return n.parentNode.insertBefore(l,n),l.appendChild(n),l},mD=function(e,n,a,i,l){var v=Ge.fromDom(n),p=Ge.fromDom(e.create(i,l)),S=a?Pa(v):Kr(v);return Vf(p,S),a?(Si(v,p),Qs(p,v)):(Nv(v,p),Ho(p,v)),p.dom},X8=function(e,n,a){if(Bi(a)&&_y(n,a.inline)||uf(a)&&_y(n,a.block))return!0;if(vs(a))return Jn(n)&&e.is(n,a.selector)},Y8=function(e,n){return n.links&&e.nodeName==="A"},Tk=function(e,n,a,i){var l=B0(n,a,i);return ye(l)||l.nodeName==="BR"||e.isBlock(l)},Z8=function(e,n,a){var i=n.parentNode,l,v=e.dom,p=Ri(e);uf(a)&&(p?i===v.getRoot()&&(!a.list_block||!_y(n,a.list_block))&&Le(dr(n.childNodes),function(S){dg(e,p,S.nodeName.toLowerCase())?l?l.appendChild(S):(l=sT(v,S,p),v.setAttribs(l,e.settings.forced_root_block_attrs)):l=null}):v.isBlock(n)&&!v.isBlock(i)&&(!Tk(v,n,!1)&&!Tk(v,n.firstChild,!0,!0)&&n.insertBefore(v.create("br"),n.firstChild),!Tk(v,n,!0)&&!Tk(v,n.lastChild,!1,!0)&&n.appendChild(v.create("br")))),!(G4(a)&&!_y(a.inline,n))&&v.remove(n,!0)},hD=function(e,n,a,i,l){var v,p=e.dom;if(!X8(p,i,n)&&!Y8(i,n))return Cy.keep();var S=i;if(Bi(n)&&n.remove==="all"&&Be(n.preserve_attributes)){var A=ut(p.getAttribs(S),function(Q){return Ae(n.preserve_attributes,Q.name.toLowerCase())});if(p.removeAllAttribs(S),Le(A,function(Q){return p.setAttrib(S,Q.name,Q.value)}),A.length>0)return Cy.rename("span")}if(n.remove!=="all"){Lg(n.styles,function(Q,fe){Q=Dw(p,of(Q,a),fe+""),se(fe)&&(fe=Q,l=null),(n.remove_similar||!l||_y(mg(p,l,fe),Q))&&p.setStyle(S,fe,""),v=!0}),v&&p.getAttrib(S,"style")===""&&(S.removeAttribute("style"),S.removeAttribute("data-mce-style")),Lg(n.attributes,function(Q,fe){var de;if(Q=of(Q,a),se(fe)&&(fe=Q,l=null),n.remove_similar||!l||_y(p.getAttrib(l,fe),Q)){if(fe==="class"&&(Q=p.getAttrib(S,fe),Q&&(de="",Le(Q.split(/\s+/),function(ge){/mce\-\w+/.test(ge)&&(de+=(de?" ":"")+ge)}),de))){p.setAttrib(S,fe,de);return}if(q8.test(fe)&&S.removeAttribute("data-mce-"+fe),fe==="style"&&As(["li"])(S)&&p.getStyle(S,"list-style-type")==="none"){S.removeAttribute(fe),p.setStyle(S,"list-style-type","none");return}fe==="class"&&S.removeAttribute("className"),S.removeAttribute(fe)}}),Lg(n.classes,function(Q){Q=of(Q,a),(!l||p.hasClass(l,Q))&&p.removeClass(S,Q)});for(var F=p.getAttribs(S),X=0;X<F.length;X++){var Z=F[X].nodeName;if(Z.indexOf("_")!==0&&Z.indexOf("data-")!==0)return Cy.keep()}}return n.remove!=="none"?(Z8(e,S,n),Cy.removed()):Cy.keep()},Sy=function(e,n,a,i,l){return hD(e,n,a,i,l).fold(ot,function(v){return e.dom.rename(i,v),!0},it)},J8=function(e,n,a,i,l){var v;return Le(n1(e.dom,n.parentNode).reverse(),function(p){if(!v&&p.id!=="_start"&&p.id!=="_end"){var S=uu(e,p,a,i,l);S&&S.split!==!1&&(v=p)}}),v},Q8=function(e,n,a,i){return hD(e,n,a,i,i).fold(j(i),function(l){var v=e.dom.createFragment();return v.appendChild(i),e.dom.rename(i,l)},j(null))},lT=function(e,n,a,i,l,v,p,S){var A,F,X,Z=e.dom;if(a){for(var Q=a.parentNode,fe=i.parentNode;fe&&fe!==Q;fe=fe.parentNode){A=Z.clone(fe,!1);for(var de=0;de<n.length&&(A=Q8(e,n[de],S,A),A!==null);de++);A&&(F&&A.appendChild(F),X||(X=A),F=A)}v&&(!p.mixed||!Z.isBlock(a))&&(i=Z.split(a,i)),F&&(l.parentNode.insertBefore(F,l),X.appendChild(l),Bi(p)&&lD(Z,p,S,F))}return i},cT=function(e,n,a,i,l){var v=e.formatter.get(n),p=v[0],S=!0,A=e.dom,F=e.selection,X=function(xe){var Ye=J8(e,xe,n,a,l);return lT(e,v,Ye,xe,xe,!0,p,a)},Z=function(xe){return Vu(xe)&&Jn(xe)&&(xe.id==="_start"||xe.id==="_end")},Q=function(xe){return Je(v,function(Ye){return Sy(e,Ye,a,xe,xe)})},fe=function(xe){var Ye=!0,je=!1;Jn(xe)&&A.getContentEditable(xe)&&(Ye=S,S=A.getContentEditable(xe)==="true",je=!0);var Re=dr(xe.childNodes);if(S&&!je){var Qe=Q(xe),xt=Qe||Je(v,function(Mt){return YE(A,xe,Mt)}),Lt=xe.parentNode;!xt&&Xe(Lt)&&$w(p)&&Q(Lt)}if(p.deep&&Re.length){for(var jn=0;jn<Re.length;jn++)fe(Re[jn]);je&&(S=Ye)}var mn=["underline","line-through","overline"];Le(mn,function(Mt){Jn(xe)&&e.dom.getStyle(xe,"text-decoration")===Mt&&xe.parentNode&&Rw(A,xe.parentNode)===Mt&&Sy(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Mt}},null,xe)})},de=function(xe){var Ye=A.get(xe?"_start":"_end"),je=Ye[xe?"firstChild":"lastChild"];return Z(je)&&(je=je[xe?"firstChild":"lastChild"]),gn(je)&&je.data.length===0&&(je=xe?Ye.previousSibling||Ye.nextSibling:Ye.nextSibling||Ye.previousSibling),A.remove(Ye,!0),je},ge=function(xe){var Ye,je,Re=fd(e,xe,v,xe.collapsed);if(p.split){if(Re=fv(Re),Ye=dD(e,Re,!0),je=dD(e,Re),Ye!==je){if(Ye=uT(Ye,!0),je=uT(je,!1),vD(A,Ye,je)){var Qe=te.from(Ye.firstChild).getOr(Ye);X(mD(A,Qe,!0,"span",{id:"_start","data-mce-type":"bookmark"})),de(!0);return}if(vD(A,je,Ye)){var Qe=te.from(je.lastChild).getOr(je);X(mD(A,Qe,!1,"span",{id:"_end","data-mce-type":"bookmark"})),de(!1);return}Ye=sT(A,Ye,"span",{id:"_start","data-mce-type":"bookmark"}),je=sT(A,je,"span",{id:"_end","data-mce-type":"bookmark"});var xt=A.createRng();xt.setStartAfter(Ye),xt.setEndBefore(je),o1(A,xt,function(Lt){Le(Lt,function(jn){!Vu(jn)&&!Vu(jn.parentNode)&&X(jn)})}),X(Ye),X(je),Ye=de(!0),je=de()}else Ye=je=X(Ye);Re.startContainer=Ye.parentNode?Ye.parentNode:Ye,Re.startOffset=A.nodeIndex(Ye),Re.endContainer=je.parentNode?je.parentNode:je,Re.endOffset=A.nodeIndex(je)+1}o1(A,Re,function(Lt){Le(Lt,fe)})};if(i){if($0(i)){var pe=A.createRng();pe.setStartBefore(i),pe.setEndAfter(i),ge(pe)}else ge(i);i1(e,n,i,a);return}if(A.getContentEditable(F.getNode())==="false"){i=F.getNode();for(var Oe=0;Oe<v.length&&!(v[Oe].ceFalseOverride&&Sy(e,v[Oe],a,i,i));Oe++);i1(e,n,i,a);return}!F.isCollapsed()||!Bi(p)||sf(e).length?(bg(F,!0,function(){bm(e,ge)}),Bi(p)&&MC(e,n,a,F.getStart())&&ix(A,F,F.getRng()),e.nodeChanged()):iD(e,n,a,l),i1(e,n,i,a)},gD=Ct.each,Ok=function(e,n,a,i){var l=function(v){if(v.nodeType===1&&v.parentNode&&v.parentNode.nodeType===1){var p=Rw(e,v.parentNode);e.getStyle(v,"color")&&p?e.setStyle(v,"text-decoration",p):e.getStyle(v,"text-decoration")===p&&e.setStyle(v,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Ct.walk(i,l,"childNodes"),l(i))},pD=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&iT(i,cD(e,"fontSize"),fD(e,"backgroundColor",of(n.styles.backgroundColor,a)))},NC=function(e,n,a,i){Bi(n)&&(n.inline==="sub"||n.inline==="sup")&&(iT(i,cD(e,"fontSize"),fD(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},zC=function(e,n,a,i){gD(n,function(l){Bi(l)&&gD(e.dom.select(l.inline,i),function(v){aT(v)&&Sy(e,l,a,v,l.exact?v:null)}),oT(e.dom,l,i)})},bD=function(e,n,a,i,l){uu(e,l.parentNode,a,i)&&Sy(e,n,i,l)||n.merge_with_parents&&e.dom.getParent(l.parentNode,function(v){if(uu(e,v,a,i))return Sy(e,n,i,l),!0})},Dk=Ct.each,eP=function(e){return Jn(e)&&!Vu(e)&&!af(e)&&!yo(e)},tP=function(e,n,a,i){if(cm(e)&&Bi(n)){var l=Eb(e.schema),v=P8(Ge.fromDom(a),function(p){return af(p.dom)});return Gs(l,i)&&Ai(Ge.fromDom(a.parentNode),!1)&&!v}else return!1},fT=function(e,n,a,i){var l=e.formatter.get(n),v=l[0],p=!i&&e.selection.isCollapsed(),S=e.dom,A=e.selection,F=function(Ye,je){if(je===void 0&&(je=v),le(je.onformat)&&je.onformat(Ye,je,a,i),Dk(je.styles,function(Qe,xt){S.setStyle(Ye,xt,of(Qe,a))}),je.styles){var Re=S.getAttrib(Ye,"style");Re&&S.setAttrib(Ye,"data-mce-style",Re)}Dk(je.attributes,function(Qe,xt){S.setAttrib(Ye,xt,of(Qe,a))}),Dk(je.classes,function(Qe){Qe=of(Qe,a),S.hasClass(Ye,Qe)||S.addClass(Ye,Qe)})},X=function(Ye,je){var Re=!1;return Dk(Ye,function(Qe){if(!vs(Qe))return!1;if(!(Xe(Qe.collapsed)&&Qe.collapsed!==p)&&S.is(je,Qe.selector)&&!af(je))return F(je,Qe),Re=!0,!1}),Re},Z=function(Ye){if($e(Ye)){var je=S.create(Ye);return F(je),je}else return null},Q=function(Ye,je,Re){var Qe=[],xt=!0,Lt=v.inline||v.block,jn=Z(Lt);o1(Ye,je,function(mn){var Mt,Un=function(Ut){var vn=!1,Gt=xt,Qt=Ut.nodeName.toLowerCase(),yn=Ut.parentNode,It=yn.nodeName.toLowerCase();if(Jn(Ut)&&Ye.getContentEditable(Ut)&&(Gt=xt,xt=Ye.getContentEditable(Ut)==="true",vn=!0),wa(Ut)&&!tP(e,v,Ut,It)){Mt=null,uf(v)&&Ye.remove(Ut);return}if(uf(v)&&v.wrapper&&uu(e,Ut,n,a)){Mt=null;return}if(xt&&!vn&&uf(v)&&!v.wrapper&&Tw(e,Qt)&&dg(e,It,Lt)){var hn=Ye.rename(Ut,Lt);F(hn),Qe.push(hn),Mt=null;return}if(vs(v)){var Tr=X(l,Ut);if(!Tr&&Xe(yn)&&$w(v)&&(Tr=X(l,yn)),!Bi(v)||Tr){Mt=null;return}}xt&&!vn&&dg(e,Lt,Qt)&&dg(e,It,Lt)&&!(!Re&&gn(Ut)&&gu(Ut.data))&&!af(Ut)&&(!Bi(v)||!Ye.isBlock(Ut))?(Mt||(Mt=Ye.clone(jn,!1),Ut.parentNode.insertBefore(Mt,Ut),Qe.push(Mt)),Mt.appendChild(Ut)):(Mt=null,Le(dr(Ut.childNodes),Un),vn&&(xt=Gt),Mt=null)};Le(mn,Un)}),v.links===!0&&Le(Qe,function(mn){var Mt=function(Un){Un.nodeName==="A"&&F(Un,v),Le(dr(Un.childNodes),Mt)};Mt(mn)}),Le(Qe,function(mn){var Mt=function(vn){var Gt=0;return Le(vn.childNodes,function(Qt){!W4(Qt)&&!Vu(Qt)&&Gt++}),Gt},Un=function(vn){var Gt=rn(vn.childNodes,eP).filter(function(Qt){return YE(Ye,Qt,v)});return Gt.map(function(Qt){var yn=Ye.clone(Qt,!1);return F(yn),Ye.replace(yn,vn,!0),Ye.remove(Qt,!0),yn}).getOr(vn)},Ut=Mt(mn);if((Qe.length>1||!Ye.isBlock(mn))&&Ut===0){Ye.remove(mn,!0);return}(Bi(v)||uf(v)&&v.wrapper)&&(!v.exact&&Ut===1&&(mn=Un(mn)),zC(e,l,a,mn),bD(e,v,n,a,mn),pD(Ye,v,a,mn),Ok(Ye,v,a,mn),NC(Ye,v,a,mn),lD(Ye,v,a,mn))})};if(S.getContentEditable(A.getNode())==="false"){i=A.getNode();for(var fe=0,de=l.length;fe<de;fe++){var ge=l[fe];if(ge.ceFalseOverride&&vs(ge)&&S.is(i,ge.selector)){F(i,ge);break}}Gw(e,n,i,a);return}if(v){if(i)if($0(i)){if(!X(l,i)){var pe=S.createRng();pe.setStartBefore(i),pe.setEndAfter(i),Q(S,fd(e,pe,l),!0)}}else Q(S,i,!0);else if(!p||!Bi(v)||sf(e).length){var Oe=A.getNode(),xe=l[0];!e.settings.forced_root_block&&xe.defaultBlock&&!S.getParent(Oe,S.isBlock)&&fT(e,xe.defaultBlock),A.setRng(LE(A.getRng())),bg(A,!0,function(){bm(e,function(Ye,je){var Re=je?Ye:fd(e,Ye,l);Q(S,Re,!1)})}),ix(S,A,A.getRng()),e.nodeChanged()}else H8(e,n,a);sD(n,e)}Gw(e,n,i,a)},yD=function(e){return Dr(e,"vars")},nP=function(e,n){e.set({}),n.on("NodeChange",function(a){xy(n,a.element,e.get())}),n.on("FormatApply FormatRemove",function(a){var i=te.from(a.node).map(function(l){return $0(l)?l:l.startContainer}).bind(function(l){return Jn(l)?te.some(l):te.from(l.parentElement)}).getOrThunk(function(){return wD(n)});xy(n,i,e.get())})},wD=function(e){return e.selection.getStart()},vT=function(e,n,a,i,l){var v=function(S){var A=e.formatter.matchNode(S,a,l??{},i);return!De(A)},p=function(S){return eD(e,S,a)?!0:i?!1:Xe(e.formatter.matchNode(S,a,l,!0))};return Ft(n,v,p)},CD=function(e,n){var a=n??wD(e);return ut(n1(e.dom,a),function(i){return Jn(i)&&!yo(i)})},xy=function(e,n,a){var i=CD(e,n);Vr(a,function(l,v){var p=function(S){var A=vT(e,i,v,S.similar,yD(S)?S.vars:void 0),F=A.isSome();if(S.state.get()!==F){S.state.set(F);var X=A.getOr(n);yD(S)?S.callback(F,{node:X,format:v,parents:i}):Le(S.callbacks,function(Z){return Z(F,{node:X,format:v,parents:i})})}};Le([l.withSimilar,l.withoutSimilar],p),Le(l.withVars,p)})},rP=function(e,n,a,i,l,v){var p=n.get();Le(a.split(","),function(S){var A=Ir(p,S).getOrThunk(function(){var Z={withSimilar:{state:yu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:yu(!1),similar:!1,callbacks:[]},withVars:[]};return p[S]=Z,Z}),F=function(){var Z=CD(e);return vT(e,Z,S,l,v).isSome()};if(De(v)){var X=l?A.withSimilar:A.withoutSimilar;X.callbacks.push(i),X.callbacks.length===1&&X.state.set(F())}else A.withVars.push({state:yu(F()),similar:l,vars:v,callback:i})}),n.set(p)},aP=function(e,n,a){var i=e.get();Le(n.split(","),function(l){return Ir(i,l).each(function(v){i[l]={withSimilar:qn(qn({},v.withSimilar),{callbacks:ut(v.withSimilar.callbacks,function(p){return p!==a})}),withoutSimilar:qn(qn({},v.withoutSimilar),{callbacks:ut(v.withoutSimilar.callbacks,function(p){return p!==a})}),withVars:ut(v.withVars,function(p){return p.callback!==a})}})}),e.set(i)},oP=function(e,n,a,i,l,v){return n.get()===null&&nP(n,e),rP(e,n,a,i,l,v),{unbind:function(){return aP(n,a,i)}}},iP=function(e,n,a,i){var l=e.formatter.get(n);MC(e,n,a,i)&&(!("toggle"in l[0])||l[0].toggle)?cT(e,n,a,i):fT(e,n,a,i)},Rk=function(e,n){var a=n||document,i=a.createDocumentFragment();return Le(e,function(l){i.appendChild(l.dom)}),Ge.fromDom(i)},$k=function(e,n,a){return{element:e,width:n,rows:a}},dT=function(e,n){return{element:e,cells:n}},_D=function(e,n){return{x:e,y:n}},Bk=function(e,n){var a=parseInt(re(e,n),10);return isNaN(a)?1:a},SD=function(e,n,a,i,l){for(var v=Bk(l,"rowspan"),p=Bk(l,"colspan"),S=e.rows,A=a;A<a+v;A++){S[A]||(S[A]=dT(Qb(i),[]));for(var F=n;F<n+p;F++){var X=S[A].cells;X[F]=A===a&&F===n?l:No(l)}}},uP=function(e,n,a){var i=e.rows,l=i[a]?i[a].cells:[];return!!l[n]},sP=function(e,n,a){for(;uP(e,n,a);)n++;return n},xD=function(e){return $t(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},kD=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var l=a[i].cells,v=0;v<l.length;v++)if(Ma(l[v],n))return te.some(_D(v,i));return te.none()},AD=function(e,n,a,i,l){for(var v=[],p=e.rows,S=a;S<=l;S++){var A=p[S].cells,F=n<i?A.slice(n,i+1):A.slice(i,n+1);v.push(dT(p[S].element,F))}return v},mT=function(e,n,a){var i=n.x,l=n.y,v=a.x,p=a.y,S=l<p?AD(e,i,l,v,p):AD(e,i,p,v,l);return $k(e.element,xD(S),S)},hT=function(e,n){var a=No(e.element),i=Ge.fromTag("tbody");return Vf(i,n),Ho(a,i),a},ED=function(e){return et(e.rows,function(n){var a=et(n.cells,function(l){var v=Qb(l);return yt(v,"colspan"),yt(v,"rowspan"),v}),i=No(n.element);return Vf(i,a),i})},Mk=function(e){var n=$k(No(e),0,[]);return Le(Di(e,"tr"),function(a,i){Le(Di(a,"td,th"),function(l,v){SD(n,sP(n,v,i),i,a,l)})}),$k(n.element,xD(n.rows),n.rows)},Vl=function(e){return hT(e,ED(e))},FC=function(e,n,a){return kD(e,n).bind(function(i){return kD(e,a).map(function(l){return mT(e,i,l)})})},A1=function(e){return rn(e,function(n){return ko(n)==="ul"||ko(n)==="ol"})},lP=function(e,n){return rn(e,function(a){return ko(a)==="li"&&zl(a,n)}).fold(j([]),function(a){return A1(e).map(function(i){var l=Ge.fromTag(ko(i)),v=co(oo(i),function(p,S){return bo(S,"list-style")});return Rr(l,v),[Ge.fromTag("li"),l]}).getOr([])})},TD=function(e,n){var a=$t(n,function(i,l){return Ho(l,i),l},e);return n.length>0?Rk([a]):a},OD=function(e){return ji(e)?ao(e).filter(Dl).fold(j([]),function(n){return[e,n]}):Dl(e)?[e]:[]},cP=function(e,n){var a=Ge.fromDom(n.commonAncestorContainer),i=Cc(a,e),l=ut(i,function(S){return tu(S)||Qn(S)}),v=lP(i,n),p=l.concat(v.length?v:OD(a));return et(p,No)},DD=function(){return Rk([])},fP=function(e,n){return TD(Ge.fromDom(n.cloneContents()),cP(e,n))},RD=function(e,n){return Ld(n,"table",ce(Ma,e))},Pk=function(e,n){return RD(e,n[0]).bind(function(a){var i=n[0],l=n[n.length-1],v=Mk(a);return FC(v,i,l).map(function(p){return Rk([Vl(p)])})}).getOrThunk(DD)},$D=function(e,n){return n.length>0&&n[0].collapsed?DD():fP(e,n[0])},BD=function(e,n){var a=cv(n,e);return a.length>0?Pk(e,a):$D(e,n)},Ik=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},Nk=function(e,n){return n>=0&&n<e.length&&cd(e.charAt(n))},MD=function(e,n){var a=lc(e.innerText);return n?Ik(a):a},vP=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},dP=function(e){return te.from(e.selection.getRng()).map(function(n){var a=te.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),l=vP(a),v=Wn.browser.isIE()&&l!=="pre",p=e.dom.add(i,l,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),S=MD(p,v),A=lc(p.textContent);if(e.dom.remove(p),Nk(A,0)||Nk(A,A.length-1)){var F=a.getOr(i),X=MD(F,v),Z=X.indexOf(S);if(Z===-1)return S;var Q=Nk(X,Z-1),fe=Nk(X,Z+S.length);return(Q?" ":"")+S+(fe?" ":"")}else return S}).getOr("")},mP=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),l=e.selection.getSel(),v=ty(e,Iw(l)),p=n.contextual?BD(Ge.fromDom(e.getBody()),v).dom:a.cloneContents();return p&&i.appendChild(p),e.selection.serializer.serialize(i,n)},hP=function(e,n){return qn(qn({},e),{format:n,get:!0,selection:!0})},gP=function(e,n,a){a===void 0&&(a={});var i=hP(a,n),l=e.fire("BeforeGetContent",i);if(l.isDefaultPrevented())return e.fire("GetContent",l),l.content;if(l.format==="text")return dP(e);l.getInner=!0;var v=mP(e,l);return l.format==="tree"?v:(l.content=e.selection.isCollapsed()?"":v,e.fire("GetContent",l),l.content)},gT=0,PD=1,ID=2,pP=function(e,n){var a=e.length+n.length+2,i=new Array(a),l=new Array(a),v=function(X,Z,Q){return{start:X,end:Z,diag:Q}},p=function(X,Z,Q,fe,de){var ge=A(X,Z,Q,fe);if(ge===null||ge.start===Z&&ge.diag===Z-fe||ge.end===X&&ge.diag===X-Q)for(var pe=X,Oe=Q;pe<Z||Oe<fe;)pe<Z&&Oe<fe&&e[pe]===n[Oe]?(de.push([gT,e[pe]]),++pe,++Oe):Z-X>fe-Q?(de.push([ID,e[pe]]),++pe):(de.push([PD,n[Oe]]),++Oe);else{p(X,ge.start,Q,ge.start-ge.diag,de);for(var xe=ge.start;xe<ge.end;++xe)de.push([gT,e[xe]]);p(ge.end,Z,ge.end-ge.diag,fe,de)}},S=function(X,Z,Q,fe){for(var de=X;de-Z<fe&&de<Q&&e[de]===n[de-Z];)++de;return v(X,de,Z)},A=function(X,Z,Q,fe){var de=Z-X,ge=fe-Q;if(de===0||ge===0)return null;var pe=de-ge,Oe=ge+de,xe=(Oe%2===0?Oe:Oe+1)/2;i[1+xe]=X,l[1+xe]=Z+1;var Ye,je,Re,Qe,xt;for(Ye=0;Ye<=xe;++Ye){for(je=-Ye;je<=Ye;je+=2){for(Re=je+xe,je===-Ye||je!==Ye&&i[Re-1]<i[Re+1]?i[Re]=i[Re+1]:i[Re]=i[Re-1]+1,Qe=i[Re],xt=Qe-X+Q-je;Qe<Z&&xt<fe&&e[Qe]===n[xt];)i[Re]=++Qe,++xt;if(pe%2!==0&&pe-Ye<=je&&je<=pe+Ye&&l[Re-pe]<=i[Re])return S(l[Re-pe],je+X-Q,Z,fe)}for(je=pe-Ye;je<=pe+Ye;je+=2){for(Re=je+xe-pe,je===pe-Ye||je!==pe+Ye&&l[Re+1]<=l[Re-1]?l[Re]=l[Re+1]-1:l[Re]=l[Re-1],Qe=l[Re]-1,xt=Qe-X+Q-je;Qe>=X&&xt>=Q&&e[Qe]===n[xt];)l[Re]=Qe--,xt--;if(pe%2===0&&-Ye<=je&&je<=Ye&&l[Re]<=i[Re+pe])return S(l[Re],je+X-Q,Z,fe)}}},F=[];return p(0,e.length,0,n.length,F),F},ND=function(e){return Jn(e)?e.outerHTML:gn(e)?$s.encodeRaw(e.data,!1):Xf(e)?"<!--"+e.data+"-->":""},pT=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},bP=function(e,n,a){var i=pT(n);if(e.hasChildNodes()&&a<e.childNodes.length){var l=e.childNodes[a];l.parentNode.insertBefore(i,l)}else e.appendChild(i)},ky=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},zD=function(e,n){var a=0;Le(e,function(i){i[0]===gT?a++:i[0]===PD?(bP(n,i[1],a),a++):i[0]===ID&&ky(n,a)})},ti=function(e){return ut(et(dr(e.childNodes),ND),function(n){return n.length>0})},yP=function(e,n){var a=et(dr(n.childNodes),ND);return zD(pP(a,e),n),n},wP=Pc(function(){return document.implementation.createHTMLDocument("undo")}),CP=function(e){return e.indexOf("</iframe>")!==-1},_P=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},pf=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Ay=function(e){var n=ti(e.getBody()),a=vr(n,function(l){var v=Jx(e.serializer,l);return v.length>0?[v]:[]}),i=a.join("");return CP(i)?_P(a):pf(i)},E1=function(e,n,a){var i=a?n.beforeBookmark:n.bookmark;n.type==="fragmented"?yP(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Xe(i)&&QS(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},T1=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},zk=function(e){var n=Ge.fromTag("body",wP());return _u(n,T1(e)),Le(Di(n,"*[data-mce-bogus]"),Wf),Cu(n)},SP=function(e,n){return T1(e)===T1(n)},xP=function(e,n){return zk(e)===zk(n)},Tm=function(e,n){return!e||!n?!1:SP(e,n)?!0:xP(e,n)},Hg=function(e){return e.get()===0},Om=function(e,n,a){Hg(a)&&(e.typing=n)},Fk=function(e,n){e.typing&&(Om(e,!1,n),e.add())},kP=function(e){e.typing&&(e.typing=!1,e.add())},bT=function(e,n,a){Hg(n)&&a.set(TS(e.selection))},FD=function(e,n,a,i,l,v,p){var S=Ay(e);if(v=v||{},v=Ct.extend(v,S),Hg(i)===!1||e.removed)return null;var A=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:v,lastLevel:A,originalEvent:p}).isDefaultPrevented()||A&&Tm(A,v))return null;n.data[a.get()]&&l.get().each(function(Q){n.data[a.get()].beforeBookmark=Q});var F=Qp(e);if(F&&n.data.length>F){for(var X=0;X<n.data.length-1;X++)n.data[X]=n.data[X+1];n.data.length--,a.set(n.data.length)}v.bookmark=TS(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(v),a.set(n.data.length-1);var Z={level:v,lastLevel:A,originalEvent:p};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",Z),e.fire("change",Z)):e.fire("AddUndo",Z),v},LD=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},AP=function(e,n,a,i,l){if(n.transact(i)){var v=n.data[a.get()].bookmark,p=n.data[a.get()-1];E1(e,p,!0),n.transact(l)&&(n.data[a.get()-1].beforeBookmark=v)}},EP=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],E1(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},HD=function(e,n,a,i){var l;return n.typing&&(n.add(),n.typing=!1,Om(n,!1,a)),i.get()>0&&(i.set(i.get()-1),l=n.data[i.get()],E1(e,l,!0),e.setDirty(!0),e.fire("Undo",{level:l})),l},TP=function(e){e.clear(),e.add()},OP=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!Tm(Ay(e),n.data[0])},DP=function(e,n){return n.get()<e.data.length-1&&!e.typing},RP=function(e,n,a){return Fk(e,n),e.beforeChange(),e.ignore(a),e.add()},$P=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},VD=function(e,n){var a=e.dom,i=Xe(n)?n:e.getBody();De(e.hasVisual)&&(e.hasVisual=LS(e)),Le(a.select("table,a",i),function(l){switch(l.nodeName){case"TABLE":var v=x4(e),p=a.getAttrib(l,"border");(!p||p==="0")&&e.hasVisual?a.addClass(l,v):a.removeClass(l,v);break;case"A":if(!a.getAttrib(l,"href")){var S=a.getAttrib(l,"name")||l.id,A=vw(e);S&&e.hasVisual?a.addClass(l,A):a.removeClass(l,A)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},UD=function(e){return{undoManager:{beforeChange:function(n,a){return bT(e,n,a)},add:function(n,a,i,l,v,p){return FD(e,n,a,i,l,v,p)},undo:function(n,a,i){return HD(e,n,a,i)},redo:function(n,a){return EP(e,n,a)},clear:function(n,a){return LD(e,n,a)},reset:function(n){return TP(n)},hasUndo:function(n,a){return OP(e,n,a)},hasRedo:function(n,a){return DP(n,a)},transact:function(n,a,i){return RP(n,a,i)},ignore:function(n,a){return $P(n,a)},extra:function(n,a,i,l){return AP(e,n,a,i,l)}},formatter:{match:function(n,a,i,l){return MC(e,n,a,i,l)},matchAll:function(n,a){return ZE(e,n,a)},matchNode:function(n,a,i,l){return uu(e,n,a,i,l)},canApply:function(n){return N8(e,n)},closest:function(n){return JE(e,n)},apply:function(n,a,i){return fT(e,n,a,i)},remove:function(n,a,i,l){return cT(e,n,a,i,l)},toggle:function(n,a,i){return iP(e,n,a,i)},formatChanged:function(n,a,i,l,v){return oP(e,n,a,i,l,v)}},editor:{getContent:function(n,a){return uy(e,n,a)},setContent:function(n,a){return M8(e,n,a)},insertContent:function(n,a){return O8(e,n,a)},addVisual:function(n){return VD(e,n)}},selection:{getContent:function(n,a){return gP(e,n,a)}},raw:{getModel:function(){return te.none()}}}},LC=function(e){var n=function(S){return me(S)?S:{}},a=e.undoManager,i=e.formatter,l=e.editor,v=e.selection,p=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(S,A,F){return a.transact(F)},ignore:function(S,A){return a.ignore(A)},extra:function(S,A,F,X){return a.extra(F,X)}},formatter:{match:function(S,A,F,X){return i.match(S,n(A),X)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(S){return i.canApply(S)},closest:function(S){return i.closest(S)},apply:function(S,A,F){return i.apply(S,n(A))},remove:function(S,A,F,X){return i.remove(S,n(A))},toggle:function(S,A,F){return i.toggle(S,n(A))},formatChanged:function(S,A,F,X,Z){return i.formatChanged(A,F,X,Z)}},editor:{getContent:function(S,A){return l.getContent(S)},setContent:function(S,A){return l.setContent(S,A)},insertContent:function(S,A){return l.insertContent(S)},addVisual:l.addVisual},selection:{getContent:function(S,A){return v.getContent(A)}},raw:{getModel:function(){return te.some(p.getRawModel())}}}},WD=function(){var e=j(null),n=j("");return{undoManager:{beforeChange:Ee,add:e,undo:e,redo:e,clear:Ee,reset:Ee,hasUndo:ot,hasRedo:ot,transact:e,ignore:Ee,extra:Ee},formatter:{match:ot,matchAll:j([]),matchNode:j(void 0),canApply:ot,closest:n,apply:Ee,remove:Ee,toggle:Ee,formatChanged:j({unbind:Ee})},editor:{getContent:n,setContent:n,insertContent:Ee,addVisual:Ee},selection:{getContent:n},raw:{getModel:j(te.none())}}},Dm=function(e){return Dr(e.plugins,"rtc")},jD=function(e){return Ir(e.plugins,"rtc").bind(function(n){return te.from(n.setup)})},BP=function(e){var n=e;return jD(e).fold(function(){return n.rtcInstance=UD(e),te.none()},function(a){return n.rtcInstance=WD(),te.some(function(){return a().then(function(i){return n.rtcInstance=LC(i),i.rtc.isRemote})})})},Lk=function(e){return e.rtcInstance?e.rtcInstance:UD(e)},Pi=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},MP=function(e,n,a){Pi(e).undoManager.beforeChange(n,a)},GD=function(e,n,a,i,l,v,p){return Pi(e).undoManager.add(n,a,i,l,v,p)},qD=function(e,n,a,i){return Pi(e).undoManager.undo(n,a,i)},KD=function(e,n,a){return Pi(e).undoManager.redo(n,a)},XD=function(e,n,a){Pi(e).undoManager.clear(n,a)},YD=function(e,n){Pi(e).undoManager.reset(n)},PP=function(e,n,a){return Pi(e).undoManager.hasUndo(n,a)},IP=function(e,n,a){return Pi(e).undoManager.hasRedo(n,a)},NP=function(e,n,a,i){return Pi(e).undoManager.transact(n,a,i)},zP=function(e,n,a){Pi(e).undoManager.ignore(n,a)},yT=function(e,n,a,i,l){Pi(e).undoManager.extra(n,a,i,l)},HC=function(e,n,a,i,l){return Pi(e).formatter.match(n,a,i,l)},ZD=function(e,n,a){return Pi(e).formatter.matchAll(n,a)},JD=function(e,n,a,i,l){return Pi(e).formatter.matchNode(n,a,i,l)},Hk=function(e,n){return Pi(e).formatter.canApply(n)},FP=function(e,n){return Pi(e).formatter.closest(n)},LP=function(e,n,a,i){Pi(e).formatter.apply(n,a,i)},Vg=function(e,n,a,i,l){Pi(e).formatter.remove(n,a,i,l)},wT=function(e,n,a,i){Pi(e).formatter.toggle(n,a,i)},QD=function(e,n,a,i,l,v){return Pi(e).formatter.formatChanged(n,a,i,l,v)},VC=function(e,n,a){return Lk(e).editor.getContent(n,a)},eR=function(e,n,a){return Lk(e).editor.setContent(n,a)},tR=function(e,n,a){return Lk(e).editor.insertContent(n,a)},nR=function(e,n,a){return Pi(e).selection.getContent(n,a)},rR=function(e,n){return Pi(e).editor.addVisual(n)},HP=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return nR(e,a,n)},aR=function(e){return e.dom.length===0?(mo(e),te.none()):te.some(e)},VP=function(e,n){return e.filter(function(a){return md.isBookmarkNode(a.dom)}).bind(n?ks:Lf)},CT=function(e,n,a,i){var l=e.dom,v=n.dom,p=i?l.length:v.length;i?(u(l,v,!1,!i),a.setStart(v,p)):(u(v,l,!1,!i),a.setEnd(v,p))},UP=function(e,n){ao(e).each(function(a){var i=e.dom;n&&dy(a,mt(i,0))?_1(i,0):!n&&my(a,mt(i,i.length))&&gy(i,i.length)})},oR=function(e,n,a,i){e.bind(function(l){var v=i?gy:_1;return v(l.dom,i?l.dom.length:0),n.filter(Ya).map(function(p){return CT(l,p,a,i)})}).orThunk(function(){var l=VP(n,i).or(n).filter(Ya);return l.map(function(v){return UP(v,i)})})},UC=function(e,n){var a=te.from(n.firstChild).map(Ge.fromDom),i=te.from(n.lastChild).map(Ge.fromDom);e.deleteContents(),e.insertNode(n);var l=a.bind(Lf).filter(Ya).bind(aR),v=i.bind(ks).filter(Ya).bind(aR);oR(l,a,e,!0),oR(v,i,e,!1),e.collapse(!1)},_T=function(e,n){return qn(qn({format:"html"},e),{set:!0,selection:!0,content:n})},WP=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),l=i?{context:i.nodeName.toLowerCase()}:{},v=e.parser.parse(n.content,qn(qn({isRootContent:!0,forced_root_block:!1},l),n));return Em({validate:e.validate},e.schema).serialize(v)}else return n.content},iR=function(e,n,a){a===void 0&&(a={});var i=_T(a,n),l=i;if(!i.no_events){var v=e.fire("BeforeSetContent",i);if(v.isDefaultPrevented()){e.fire("SetContent",v);return}else l=v}l.content=WP(e,l);var p=e.selection.getRng();UC(p,p.createContextualFragment(l.content)),e.selection.setRng(p),f1(e,p),l.no_events||e.fire("SetContent",l)},uR=function(e,n,a){if(e&&Dr(e,n)){var i=ut(e[n],function(l){return l!==a});i.length===0?delete e[n]:e[n]=i}};function Vk(e,n){var a,i,l=function(p,S){return rn(S,function(A){return e.is(A,p)})},v=function(p){return e.getParents(p,null,e.getRoot())};return{selectorChangedWithUnbind:function(p,S){return a||(a={},i={},n.on("NodeChange",function(A){var F=A.element,X=v(F),Z={};Ct.each(a,function(Q,fe){l(fe,X).each(function(de){i[fe]||(Le(Q,function(ge){ge(!0,{node:de,selector:fe,parents:X})}),i[fe]=Q),Z[fe]=Q})}),Ct.each(i,function(Q,fe){Z[fe]||(delete i[fe],Ct.each(Q,function(de){de(!1,{node:F,selector:fe,parents:X})}))})})),a[p]||(a[p]=[]),a[p].push(S),l(p,v(n.selection.getStart())).each(function(){i[p]=a[p]}),{unbind:function(){uR(a,p,S),uR(i,p,S)}}}}}var ST=function(e){return!!e.select},sR=function(e){return!!(e&&e.ownerDocument)&&Li(Ge.fromDom(e.ownerDocument),Ge.fromDom(e))},mi=function(e){return e?ST(e)?!0:sR(e.startContainer)&&sR(e.endContainer):!1},lR=function(e,n,a,i){var l,v,p=Vk(e,i).selectorChangedWithUnbind,S=function(It,hn){var Tr=e.createRng();Xe(It)&&Xe(hn)?(Tr.setStart(It,hn),Tr.setEnd(It,hn),Ye(Tr),pe(!1)):(vd(e,Tr,i.getBody(),!0),Ye(Tr))},A=function(It){return HP(i,It)},F=function(It,hn){return iR(i,It,hn)},X=function(It){return Am(i.getBody(),xe(),It)},Z=function(It){return kg(i.getBody(),xe(),It)},Q=function(It,hn){return Qt.getBookmark(It,hn)},fe=function(It){return Qt.moveToBookmark(It)},de=function(It,hn){return pE(e,It,hn).each(Ye),It},ge=function(){var It=xe(),hn=Oe();return!It||It.item?!1:It.compareEndPoints?It.compareEndPoints("StartToEnd",It)===0:!hn||It.collapsed},pe=function(It){var hn=xe();hn.collapse(!!It),Ye(hn)},Oe=function(){return n.getSelection?n.getSelection():n.document.selection},xe=function(){var It,hn,Tr,ra=function(so,ju,ps){try{return ju.compareBoundaryPoints(so,ps)}catch{return-1}},Jr=n.document;if(i.bookmark!==void 0&&sl(i)===!1){var Ii=_g(i);if(Ii.isSome())return Ii.map(function(so){return ty(i,[so])[0]}).getOr(Jr.createRange())}try{(It=Oe())&&!Hc(It.anchorNode)&&(It.rangeCount>0?hn=It.getRangeAt(0):hn=It.createRange?It.createRange():Jr.createRange(),hn=ty(i,[hn])[0])}catch{}return hn||(hn=Jr.createRange?Jr.createRange():Jr.body.createTextRange()),hn.setStart&&hn.startContainer.nodeType===9&&hn.collapsed&&(Tr=e.getRoot(),hn.setStart(Tr,0),hn.setEnd(Tr,0)),l&&v&&(ra(hn.START_TO_START,hn,l)===0&&ra(hn.END_TO_END,hn,l)===0?hn=v:(l=null,v=null)),hn},Ye=function(It,hn){var Tr;if(mi(It)){var ra=ST(It)?It:null;if(ra){v=null;try{ra.select()}catch{}return}var Jr=Oe(),Ii=i.fire("SetSelectionRange",{range:It,forward:hn});if(It=Ii.range,Jr){v=It;try{Jr.removeAllRanges(),Jr.addRange(It)}catch{}hn===!1&&Jr.extend&&(Jr.collapse(It.endContainer,It.endOffset),Jr.extend(It.startContainer,It.startOffset)),l=Jr.rangeCount>0?Jr.getRangeAt(0):null}!It.collapsed&&It.startContainer===It.endContainer&&Jr.setBaseAndExtent&&!Wn.ie&&It.endOffset-It.startOffset<2&&It.startContainer.hasChildNodes()&&(Tr=It.startContainer.childNodes[It.startOffset],Tr&&Tr.tagName==="IMG"&&(Jr.setBaseAndExtent(It.startContainer,It.startOffset,It.endContainer,It.endOffset),(Jr.anchorNode!==It.startContainer||Jr.focusNode!==It.endContainer)&&Jr.setBaseAndExtent(Tr,0,Tr,1))),i.fire("AfterSetSelectionRange",{range:It,forward:hn})}},je=function(It){return F(e.getOuterHTML(It)),It},Re=function(){return Gx(i.getBody(),xe())},Qe=function(It,hn){return ey(e,xe(),It,hn)},xt=function(){var It=Oe(),hn=It==null?void 0:It.anchorNode,Tr=It==null?void 0:It.focusNode;if(!It||!hn||!Tr||Hc(hn)||Hc(Tr))return!0;var ra=e.createRng();ra.setStart(hn,It.anchorOffset),ra.collapse(!0);var Jr=e.createRng();return Jr.setStart(Tr,It.focusOffset),Jr.collapse(!0),ra.compareBoundaryPoints(ra.START_TO_START,Jr)<=0},Lt=function(){var It=xe(),hn=Oe();if(!zw(hn)&&dd(i)){var Tr=W0(e,It);return Tr.each(function(ra){Ye(ra,xt())}),Tr.getOr(It)}return It},jn=function(It,hn){return p(It,hn),Gt},mn=function(){for(var It,hn=e.getRoot();hn&&hn.nodeName!=="BODY";){if(hn.scrollHeight>hn.clientHeight){It=hn;break}hn=hn.parentNode}return It},Mt=function(It,hn){Xe(It)?cE(i,It,hn):f1(i,xe(),hn)},Un=function(It,hn){return Ye(Xw(It,hn,i.getDoc()))},Ut=function(){var It=xe();return It.collapsed?mt.fromRangeStart(It).getClientRects()[0]:It.getBoundingClientRect()},vn=function(){n=l=v=null,yn.destroy()},Gt={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:pe,setCursorLocation:S,getContent:A,setContent:F,getBookmark:Q,moveToBookmark:fe,select:de,isCollapsed:ge,isForward:xt,setNode:je,getNode:Re,getSel:Oe,setRng:Ye,getRng:xe,getStart:X,getEnd:Z,getSelectedBlocks:Qe,normalize:Lt,selectorChanged:jn,selectorChangedWithUnbind:p,getScrollContainer:mn,scrollIntoView:Mt,placeCaretAt:Un,getBoundingClientRect:Ut,destroy:vn},Qt=md(Gt),yn=qw(Gt,i);return Gt.bookmarkManager=Qt,Gt.controlSelection=yn,Gt},cR=function(e,n){Le(n,function(a){e.attr(a,null)})},jP=function(e,n,a){e.addNodeFilter("font",function(i){Le(i,function(l){var v=n.parse(l.attr("style")),p=l.attr("color"),S=l.attr("face"),A=l.attr("size");p&&(v.color=p),S&&(v["font-family"]=S),A&&(v["font-size"]=a[parseInt(l.attr("size"),10)-1]),l.name="span",l.attr("style",n.serialize(v)),cR(l,["color","face","size"])})})},GP=function(e,n){e.addNodeFilter("strike",function(a){Le(a,function(i){var l=n.parse(i.attr("style"));l["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(l))})})},fR=function(e,n){var a=Ml();n.convert_fonts_to_spans&&jP(e,a,Ct.explode(n.font_size_legacy_values)),GP(e,a)},qP=function(e,n){n.inline_styles&&fR(e,n)},xT=function(e){return new ui(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="blob",l.onload=function(){l.status===200?n(l.response):i()},l.onerror=i,l.send()}catch{i()}})},kT=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},AT=function(e,n){var a;try{a=atob(n)}catch{return te.none()}for(var i=new Uint8Array(a.length),l=0;l<i.length;l++)i[l]=a.charCodeAt(l);return te.some(new Blob([i],{type:e}))},ET=function(e){return new ui(function(n){var a=kT(e),i=a.type,l=a.data;AT(i,l).fold(function(){return n(new Blob([]))},n)})},vR=function(e){return e.indexOf("blob:")===0?xT(e):e.indexOf("data:")===0?ET(e):null},KP=function(e){return new ui(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},XP=0,TT=function(e){return(e||"blobid")+XP++},YP=function(e,n,a,i){var l,v;if(n.src.indexOf("blob:")===0){v=e.getByUri(n.src),v?a({image:n,blobInfo:v}):vR(n.src).then(function(F){KP(F).then(function(X){l=kT(X).data,v=e.create(TT(),F,l),e.add(v),a({image:n,blobInfo:v})})},function(F){i(F)});return}var p=kT(n.src),S=p.data,A=p.type;l=S,v=e.getByData(l,A),v?a({image:n,blobInfo:v}):vR(n.src).then(function(F){v=e.create(TT(),F,l),e.add(v),a({image:n,blobInfo:v})},function(F){i(F)})},dR=function(e){return e?dr(e.getElementsByTagName("img")):[]},mR=function(e,n){var a={},i=function(l,v){v||(v=it);var p=ut(dR(l),function(A){var F=A.src;return!Wn.fileApi||A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!F||F===Wn.transparentSrc?!1:F.indexOf("blob:")===0?!e.isUploaded(F)&&v(A):F.indexOf("data:")===0?v(A):!1}),S=et(p,function(A){if(a[A.src]!==void 0)return new ui(function(X){a[A.src].then(function(Z){if(typeof Z=="string")return Z;X({image:A,blobInfo:Z.blobInfo})})});var F=new ui(function(X,Z){YP(n,A,X,Z)}).then(function(X){return delete a[X.image.src],X}).catch(function(X){return delete a[A.src],X});return a[A.src]=F,F});return ui.all(S)};return{findAll:i}},WC=function(e,n,a,i){var l=e.padd_empty_with_br||n.insert;l&&a[i.name]?i.empty().append(new ll("br",1)).shortEnded=!0:i.empty().append(new ll("#text",3)).value=us},hR=function(e){return OT(e,"#text")&&e.firstChild.value===us},OT=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},gR=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},Ey=function(e,n,a,i){return i.isEmpty(n,a,function(l){return gR(e,l)})},pR=function(e,n){return e&&(Dr(n,e.name)||e.name==="br")},bR=function(e){return Xe(e.attr("data-mce-bogus"))},ZP=function(e){return e.attr("src")===Wn.transparentSrc||Xe(e.attr("data-mce-placeholder"))},DT=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),Vr(e.attributes.map,function(i,l){a.setAttribute(l,i)}),n.images_dataimg_filter(a)}else return!0},JP=function(e,n){var a=n.blob_cache,i=function(l){var v=l.attr("src");ZP(l)||bR(l)||Kx(v).filter(function(){return DT(l,n)}).bind(function(p){var S=p.type,A=p.data;return te.from(a.getByData(A,S)).orThunk(function(){return AT(S,A).map(function(F){var X=a.create(TT(),F,A);return a.add(X),X})})}).each(function(p){l.attr("src",p.blobUri())})};a&&e.addAttributeFilter("src",function(l){return Le(l,i)})},Uk=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,l,v){var p,S=i.length,A,F=Ct.extend({},a.getBlockElements()),X=a.getNonEmptyElements(),Z,Q,fe,de,ge=a.getWhiteSpaceElements(),pe,Oe;for(F.body=1,p=0;p<S;p++)if(A=i[p],Z=A.parent,F[A.parent.name]&&A===Z.lastChild){for(fe=A.prev;fe;){if(de=fe.name,de!=="span"||fe.attr("data-mce-type")!=="bookmark"){de==="br"&&(A=null);break}fe=fe.prev}A&&(A.remove(),Ey(a,X,ge,Z)&&(pe=a.getElementRule(Z.name),pe&&(pe.removeEmpty?Z.remove():pe.paddEmpty&&WC(n,v,F,Z))))}else{for(Q=A;Z&&Z.firstChild===Q&&Z.lastChild===Q&&(Q=Z,!F[Z.name]);)Z=Z.parent;Q===Z&&n.padd_empty_with_br!==!0&&(Oe=new ll("#text",3),Oe.value=us,A.replace(Oe))}}),e.addAttributeFilter("href",function(i){var l=i.length,v=function(A){var F=A.split(" ").filter(function(X){return X.length>0});return F.concat(["noopener"]).sort().join(" ")},p=function(A){var F=A?Ct.trim(A):"";return/\b(noopener)\b/g.test(F)?F:v(F)};if(!n.allow_unsafe_link_target)for(;l--;){var S=i[l];S.name==="a"&&S.attr("target")==="_blank"&&S.attr("rel",p(S.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var l=i.length,v,p,S,A;l--;)if(A=i[l],A.name==="a"&&A.firstChild&&!A.attr("href")){S=A.parent,v=A.lastChild;do p=v.prev,S.insert(v,A),v=p;while(v)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var l=i.length,v,p;l--;)if(v=i[l],p=v.parent,p.name==="ul"||p.name==="ol")if(v.prev&&v.prev.name==="li")v.prev.append(v);else{var S=new ll("li",1);S.attr("style","list-style-type: none"),v.wrap(S)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var l=a.getValidClasses(),v=i.length;v--;){for(var p=i[v],S=p.attr("class").split(" "),A="",F=0;F<S.length;F++){var X=S[F],Z=!1,Q=l["*"];Q&&Q[X]&&(Z=!0),Q=l[p.name],!Z&&Q&&Q[X]&&(Z=!0),Z&&(A&&(A+=" "),A+=X)}A.length||(A=null),p.attr("class",A)}}),JP(e,n)},yR=Ct.makeMap,wR=Ct.each,CR=Ct.explode,_R=Ct.extend,Wk=function(e,n){n===void 0&&(n=Bs());var a={},i=[],l={},v={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var p=function(de){for(var ge=yR("tr,td,th,tbody,thead,tfoot,table"),pe=n.getNonEmptyElements(),Oe=n.getWhiteSpaceElements(),xe=n.getTextBlockElements(),Ye=n.getSpecialElements(),je=function(Qt,yn){if(yn===void 0&&(yn=Qt.parent),Ye[Qt.name])Qt.empty().remove();else{for(var It=Qt.children(),hn=0,Tr=It;hn<Tr.length;hn++){var ra=Tr[hn];n.isValidChild(yn.name,ra.name)||je(ra,yn)}Qt.unwrap()}},Re=0;Re<de.length;Re++){var Qe=de[Re],xt=void 0,Lt=void 0,jn=void 0;if(!(!Qe.parent||Qe.fixed)){if(xe[Qe.name]&&Qe.parent.name==="li"){for(var mn=Qe.next;mn&&xe[mn.name];){mn.name="li",mn.fixed=!0,Qe.parent.insert(mn,Qe.parent);mn=mn.next}Qe.unwrap();continue}var Mt=[Qe];for(xt=Qe.parent;xt&&!n.isValidChild(xt.name,Qe.name)&&!ge[xt.name];xt=xt.parent)Mt.push(xt);if(xt&&Mt.length>1)if(n.isValidChild(xt.name,Qe.name)){Mt.reverse(),Lt=S(Mt[0].clone());for(var Un=Lt,Ut=0;Ut<Mt.length-1;Ut++){n.isValidChild(Un.name,Mt[Ut].name)?(jn=S(Mt[Ut].clone()),Un.append(jn)):jn=Un;for(var vn=Mt[Ut].firstChild;vn&&vn!==Mt[Ut+1];){var Gt=vn.next;jn.append(vn),vn=Gt}Un=jn}Ey(n,pe,Oe,Lt)?xt.insert(Qe,Mt[0],!0):(xt.insert(Lt,Mt[0],!0),xt.insert(Qe,Lt)),xt=Mt[0],(Ey(n,pe,Oe,xt)||OT(xt,"br"))&&xt.empty().remove()}else je(Qe);else if(Qe.parent){if(Qe.name==="li"){var mn=Qe.prev;if(mn&&(mn.name==="ul"||mn.name==="ol")){mn.append(Qe);continue}if(mn=Qe.next,mn&&(mn.name==="ul"||mn.name==="ol")){mn.insert(Qe,mn.firstChild,!0);continue}Qe.wrap(S(new ll("ul",1)));continue}n.isValidChild(Qe.parent.name,"div")&&n.isValidChild("div",Qe.name)?Qe.wrap(S(new ll("div",1))):je(Qe)}}}},S=function(de){var ge=de.name;if(ge in a){var pe=l[ge];pe?pe.push(de):l[ge]=[de]}for(var Oe=i.length;Oe--;){var xe=i[Oe].name;if(xe in de.attributes.map){var pe=v[xe];pe?pe.push(de):v[xe]=[de]}}return de},A=function(de,ge){wR(CR(de),function(pe){var Oe=a[pe];Oe||(a[pe]=Oe=[]),Oe.push(ge)})},F=function(){var de=[];for(var ge in a)Dr(a,ge)&&de.push({name:ge,callbacks:a[ge]});return de},X=function(de,ge){wR(CR(de),function(pe){var Oe;for(Oe=0;Oe<i.length;Oe++)if(i[Oe].name===pe){i[Oe].callbacks.push(ge);return}i.push({name:pe,callbacks:[ge]})})},Z=function(){return[].concat(i)},Q=function(de,ge){var pe,Oe,xe,Ye,je,Re,Qe,xt=[],Lt,jn=function(tt){return tt===!1?"":tt===!0?"p":tt};ge=ge||{},l={},v={};var mn=_R(yR("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Mt=Eb(n),Un=n.getNonEmptyElements(),Ut=n.children,vn=e.validate,Gt="forced_root_block"in ge?ge.forced_root_block:e.forced_root_block,Qt=jn(Gt),yn=n.getWhiteSpaceElements(),It=/^[ \t\r\n]+/,hn=/[ \t\r\n]+$/,Tr=/[ \t\r\n]+/g,ra=/^[ \t\r\n]+$/,Jr=Dr(yn,ge.context)||Dr(yn,e.root_name),Ii=function(){var tt=$n.firstChild,Vt=null,zt=function(Ln){Ln&&(tt=Ln.firstChild,tt&&tt.type===3&&(tt.value=tt.value.replace(It,"")),tt=Ln.lastChild,tt&&tt.type===3&&(tt.value=tt.value.replace(hn,"")))};if(n.isValidChild($n.name,Qt.toLowerCase())){for(;tt;){var Pn=tt.next;tt.type===3||tt.type===1&&tt.name!=="p"&&!mn[tt.name]&&!tt.attr("data-mce-type")?(Vt||(Vt=so(Qt,1),Vt.attr(e.forced_root_block_attrs),$n.insert(Vt,tt)),Vt.append(tt)):(zt(Vt),Vt=null),tt=Pn}zt(Vt)}},so=function(tt,Vt){var zt=new ll(tt,Vt),Pn;return tt in a&&(Pn=l[tt],Pn?Pn.push(zt):l[tt]=[zt]),zt},ju=function(tt){for(var Vt=n.getBlockElements(),zt=tt.prev;zt&&zt.type===3;){var Pn=zt.value.replace(hn,"");if(Pn.length>0){zt.value=Pn;return}var Ln=zt.next;if(Ln){if(Ln.type===3&&Ln.value.length){zt=zt.prev;continue}if(!Vt[Ln.name]&&Ln.name!=="script"&&Ln.name!=="style"){zt=zt.prev;continue}}var Aa=zt.prev;zt.remove(),zt=Aa}},ps=function(tt){var Vt={};for(var zt in tt)zt!=="li"&&zt!=="p"&&(Vt[zt]=tt[zt]);return Vt},Nt=function(tt){for(var Vt=tt;Xe(Vt);){if(Vt.name in Mt)return Ey(n,Un,yn,Vt);Vt=Vt.parent}return!1},Kt=Ag({validate:vn,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:ps(n.getSelfClosingElements()),cdata:function(tt){Lt.append(so("#cdata",4)).value=tt},text:function(tt,Vt){var zt;Jr||(tt=tt.replace(Tr," "),pR(Lt.lastChild,mn)&&(tt=tt.replace(It,""))),tt.length!==0&&(zt=so("#text",3),zt.raw=!!Vt,Lt.append(zt).value=tt)},comment:function(tt){Lt.append(so("#comment",8)).value=tt},pi:function(tt,Vt){Lt.append(so(tt,7)).value=Vt,ju(Lt)},doctype:function(tt){var Vt=Lt.append(so("#doctype",10));Vt.value=tt,ju(Lt)},start:function(tt,Vt,zt){var Pn=vn?n.getElementRule(tt):{};if(Pn){var Ln=so(Pn.outputName||tt,1);Ln.attributes=Vt,Ln.shortEnded=zt,Lt.append(Ln);var Aa=Ut[Lt.name];Aa&&Ut[Ln.name]&&!Aa[Ln.name]&&xt.push(Ln);for(var ni=i.length;ni--;){var Yo=i[ni].name;Yo in Vt.map&&(Re=v[Yo],Re?Re.push(Ln):v[Yo]=[Ln])}mn[tt]&&ju(Ln),zt||(Lt=Ln),!Jr&&yn[tt]&&(Jr=!0)}},end:function(tt){var Vt,zt,Pn,Ln=vn?n.getElementRule(tt):{};if(Ln){if(mn[tt]&&!Jr){if(Vt=Lt.firstChild,Vt&&Vt.type===3)if(zt=Vt.value.replace(It,""),zt.length>0)Vt.value=zt,Vt=Vt.next;else for(Pn=Vt.next,Vt.remove(),Vt=Pn;Vt&&Vt.type===3;)zt=Vt.value,Pn=Vt.next,(zt.length===0||ra.test(zt))&&(Vt.remove(),Vt=Pn),Vt=Pn;if(Vt=Lt.lastChild,Vt&&Vt.type===3)if(zt=Vt.value.replace(hn,""),zt.length>0)Vt.value=zt,Vt=Vt.prev;else for(Pn=Vt.prev,Vt.remove(),Vt=Pn;Vt&&Vt.type===3;)zt=Vt.value,Pn=Vt.prev,(zt.length===0||ra.test(zt))&&(Vt.remove(),Vt=Pn),Vt=Pn}Jr&&yn[tt]&&(Jr=!1);var Aa=Ey(n,Un,yn,Lt),ni=Lt.parent;Ln.paddInEmptyBlock&&Aa&&Nt(Lt)?WC(e,ge,mn,Lt):Ln.removeEmpty&&Aa?mn[Lt.name]?Lt.empty().remove():Lt.unwrap():Ln.paddEmpty&&(hR(Lt)||Aa)&&WC(e,ge,mn,Lt),Lt=ni}}},n),$n=Lt=new ll(ge.context||e.root_name,11);if(Kt.parse(de,ge.format),vn&&xt.length&&(ge.context?ge.invalid=!0:p(xt)),Qt&&($n.name==="body"||ge.isRootContent)&&Ii(),!ge.invalid){for(Qe in l)if(Dr(l,Qe)){for(Re=a[Qe],pe=l[Qe],Ye=pe.length;Ye--;)pe[Ye].parent||pe.splice(Ye,1);for(Oe=0,xe=Re.length;Oe<xe;Oe++)Re[Oe](pe,Qe,ge)}for(Oe=0,xe=i.length;Oe<xe;Oe++)if(Re=i[Oe],Re.name in v){for(pe=v[Re.name],Ye=pe.length;Ye--;)pe[Ye].parent||pe.splice(Ye,1);for(Ye=0,je=Re.callbacks.length;Ye<je;Ye++)Re.callbacks[Ye](pe,Re.name,ge)}}return $n},fe={schema:n,addAttributeFilter:X,getAttributeFilters:Z,addNodeFilter:A,getNodeFilters:F,filterNode:S,parse:Q};return Uk(fe,e),qP(fe,e),fe},QP=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,l){for(var v=i.length;v--;){var p=i[v];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(l,null)}}),e.addAttributeFilter("src,href,style",function(i,l){for(var v="data-mce-"+l,p=n.url_converter,S=n.url_converter_scope,A=i.length;A--;){var F=i[A],X=F.attr(v);X!==void 0?(F.attr(l,X.length>0?X:null),F.attr(v,null)):(X=F.attr(l),l==="style"?X=a.serializeStyle(a.parseStyle(X),F.name):p&&(X=p.call(S,X,l,F.name)),F.attr(l,X.length>0?X:null))}}),e.addAttributeFilter("class",function(i){for(var l=i.length;l--;){var v=i[l],p=v.attr("class");p&&(p=v.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),v.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",function(i,l,v){for(var p=i.length;p--;){var S=i[p];if(S.attr("data-mce-type")==="bookmark"&&!v.cleanup){var A=te.from(S.firstChild).exists(function(F){return!gu(F.value)});A?S.unwrap():S.remove()}}}),e.addNodeFilter("noscript",function(i){for(var l=i.length;l--;){var v=i[l].firstChild;v&&(v.value=$s.decode(v.value))}}),e.addNodeFilter("script,style",function(i,l){for(var v=function(X){return X.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},p=i.length;p--;){var S=i[p],A=S.firstChild?S.firstChild.value:"";if(l==="script"){var F=S.attr("type");F&&S.attr("type",F==="mce-no/type"?null:F.replace(/^mce\-/,"")),n.element_format==="xhtml"&&A.length>0&&(S.firstChild.value=`// <![CDATA[
`+v(A)+`
// ]]>`)}else n.element_format==="xhtml"&&A.length>0&&(S.firstChild.value=`<!--
`+v(A)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var l=i.length;l--;){var v=i[l];n.preserve_cdata&&v.value.indexOf("[CDATA[")===0?(v.name="#cdata",v.type=4,v.value=a.decode(v.value.replace(/^\[CDATA\[|\]\]$/g,""))):v.value.indexOf("mce:protected ")===0&&(v.name="#text",v.type=3,v.raw=!0,v.value=unescape(v.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,l){for(var v=i.length;v--;){var p=i[v];p.type===7?p.remove():p.type===1&&l==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){Le(i,function(l){l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,l){for(var v=i.length;v--;)i[v].attr(l,null)})},eI=function(e){var n=function(l){return l&&l.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},tI=function(e,n,a){var i,l=e.dom,v=n.cloneNode(!0),p=document.implementation;if(p.createHTMLDocument){var S=p.createHTMLDocument("");Ct.each(v.nodeName==="BODY"?v.childNodes:[v],function(A){S.body.appendChild(S.importNode(A,!0))}),v.nodeName!=="BODY"?v=S.body.firstChild:v=S.body,i=l.doc,l.doc=S}return X4(e,qn(qn({},a),{node:v})),i&&(l.doc=i),v},nI=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},SR=function(e,n,a){return nI(e,a)?tI(e,n,a):n},rI=function(e,n,a){Ct.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,l){for(var v=i.length;v--;)i[v].attr(l,null)}),n.push(a))},aI=function(e,n,a){if(!n.no_events&&e){var i=Uw(e,qn(qn({},n),{content:a}));return i.content}else return a},oI=function(e,n,a){var i=lc(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||Hd(Ge.fromDom(n))?i:Ct.trim(i)},iI=function(e,n,a){var i=a.selection?qn({forced_root_block:!1},a):a,l=e.parse(n,i);return eI(l),l},uI=function(e,n,a){var i=Em(e,n);return i.serialize(a)},sI=function(e,n,a,i,l){var v=uI(n,a,i);return aI(e,l,v)},lI=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:Na.DOM,l=n&&n.schema?n.schema:Bs(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var v=Wk(e,l);QP(v,e,i);var p=function(S,A){A===void 0&&(A={});var F=qn({format:"html"},A),X=SR(n,S,F),Z=oI(i,X,F),Q=iI(v,Z,F);return F.format==="tree"?Q:sI(n,e,l,Q,F)};return{schema:l,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:p,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:ce(rI,v,a),getTempAttrs:j(a),getNodeFilters:v.getNodeFilters,getAttributeFilters:v.getAttributeFilters}},xR=function(e,n){var a=lI(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},kR="html",cI=function(e,n){n===void 0&&(n={});var a=n.format?n.format:kR;return VC(e,n,a)},RT=function(e,n,a){return a===void 0&&(a={}),eR(e,n,a)},jk=Na.DOM,fI=function(e){jk.setStyle(e.id,"display",e.orgDisplay)},Gk=function(e){return te.from(e).each(function(n){return n.destroy()})},jC=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},vI=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),jk.unbind(n,"submit reset",e.formEventDelegate))},dI=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),l=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&l&&jk.remove(l.nextSibling),lx(e),e.editorManager.remove(e),!e.inline&&i&&fI(e),cx(e),jk.remove(e.getContainer()),Gk(n),Gk(a),e.destroy()}},AR=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Gk(a),Gk(i)),vI(e),jC(e),e.destroyed=!0}},ER=function(e,n){var a=me(e)&&me(n);return a?TR(e,n):n},mI=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},l=0;l<n.length;l++){var v=n[l];for(var p in v)Dr(v,p)&&(i[p]=e(i[p],v[p]))}return i}},TR=mI(ER),hI="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),GC="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),OR="imagetools,toc".split(","),DR=function(e){var n=ut(hI,function(i){return Dr(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&n.push("forced_root_block (false only)"),Qr(n)},gI=function(e){var n=Ct.makeMap(e.plugins," "),a=function(l){return Dr(n,l)},i=Ou(Ou([],ut(GC,a),!0),vr(OR,function(l){return a(l)?[l+" (moving to premium)"]:[]}),!0);return Qr(i)},RR=function(e,n){var a=DR(e),i=gI(n),l=i.length>0,v=a.length>0,p=n.theme==="mobile";if(l||v||p){var S=`
- `,A=p?`

Themes:`+S+"mobile":"",F=l?`

Plugins:`+S+i.join(S):"",X=v?`

Settings:`+S+a.join(S):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+A+F+X)}},pI=function(e,n){return{sections:j(e),settings:j(n)}},$T=Bn().deviceType,bI=$T.isTouch(),BT=$T.isPhone(),yI=$T.isTablet(),wI=["lists","autolink","autosave"],$R={table_grid:!1,object_resizing:!1,resize:!1},Ty=function(e){var n=Be(e)?e.join(" "):e,a=et($e(n)?n.split(" "):[],Xs);return ut(a,function(i){return i.length>0})},CI=function(e){return ut(e,ce(Ae,wI))},_I=function(e,n){var a=Pr(n,function(i,l){return Ae(e,l)});return pI(a.t,a.f)},qC=function(e,n,a){a===void 0&&(a={});var i=e.sections(),l=Ir(i,n).getOr({});return Ct.extend({},a,l)},KC=function(e,n){return Dr(e.sections(),n)},BR=function(e,n,a){var i=e.sections();return KC(e,n)&&i[n].theme===a},SI=function(e,n){return KC(e,n)?e.sections()[n]:{}},MR=function(e,n){return Ir(e,"toolbar_mode").orThunk(function(){return Ir(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},xI=function(e,n,a,i,l){var v={id:n,theme:"silver",toolbar_mode:MR(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l};return qn(qn({},v),i?$R:{})},PR=function(e,n){var a={resize:!1,toolbar_mode:MR(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return qn(qn(qn({},$R),a),n?i:{})},kI=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?Ct.extend({},e.external_plugins,a):a},AI=function(e,n){return[].concat(Ty(e)).concat(Ty(n))},EI=function(e,n,a,i){return e&&BR(n,"mobile","mobile")?CI(i):e&&KC(n,"mobile")?i:a},TI=function(e,n,a,i){var l=Ty(a.forced_plugins),v=Ty(i.plugins),p=SI(n,"mobile"),S=p.plugins?Ty(p.plugins):v,A=EI(e,n,v,S),F=AI(l,A);if(Wn.browser.isIE()&&Ae(F,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return Ct.extend(i,{plugins:F.join(" ")})},OI=function(e,n){return e&&KC(n,"mobile")},ku=function(e,n,a,i,l){var v=e?{mobile:PR(l.mobile||{},n)}:{},p=_I(["mobile"],TR(v,l)),S=Ct.extend(a,i,p.settings(),OI(e,p)?qC(p,"mobile"):{},{validate:!0,external_plugins:kI(i,p.settings())});return TI(e,p,i,S)},IR=function(e,n,a,i,l){var v=xI(l,n,a,bI,e),p=ku(BT||yI,BT,v,i,l);return p.deprecation_warnings!==!1&&RR(l,p),p},O1=function(e,n,a){return te.from(n.settings[a]).filter(e)},DI=function(e){var n={};return typeof e=="string"?Le(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[Ct.trim(i[0])]=Ct.trim(i[1]):n[Ct.trim(i[0])]=Ct.trim(i[0])}):n=e,n},RI=function(e){return function(n){return Be(n)&&qr(n,e)}},$I=function(e,n,a,i){var l=n in e.settings?e.settings[n]:a;return i==="hash"?DI(l):i==="string"?O1($e,e,n).getOr(a):i==="number"?O1(se,e,n).getOr(a):i==="boolean"?O1(he,e,n).getOr(a):i==="object"?O1(me,e,n).getOr(a):i==="array"?O1(Be,e,n).getOr(a):i==="string[]"?O1(RI($e),e,n).getOr(a):i==="function"?O1(le,e,n).getOr(a):l},Zr=function(){var e={},n=function(l,v){e[l]=v},a=function(l){return e[l]?e[l]:{icons:{}}},i=function(l){return Dr(e,l)};return{add:n,get:a,has:i}},qk=Zr(),NR=function(e,n){var a=n.dom;return a[e]},zR=function(e,n){return parseInt(yr(n,e),10)},Oo=ce(NR,"clientWidth"),BI=ce(NR,"clientHeight"),XC=ce(zR,"margin-top"),MI=ce(zR,"margin-left"),PI=function(e){return e.dom.getBoundingClientRect()},II=function(e,n,a){var i=Oo(e),l=BI(e);return n>=0&&a>=0&&n<=i&&a<=l},FR=function(e,n,a,i){var l=PI(n),v=e?l.left+n.dom.clientLeft+MI(n):0,p=e?l.top+n.dom.clientTop+XC(n):0,S=a-v,A=i-p;return{x:S,y:A}},Rm=function(e,n,a){var i=Ge.fromDom(e.getBody()),l=e.inline?i:rs(i),v=FR(e.inline,l,n,a);return II(l,v.x,v.y)},Ul=function(e){return te.from(e).map(Ge.fromDom)},YC=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return Ul(n).map(jf).getOr(!1)},D1=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},bv=function(e){var n=[],a=function(){var Q=e.theme;return Q&&Q.getNotificationManagerImpl?Q.getNotificationManagerImpl():D1()},i=function(){return te.from(n[0])},l=function(Q,fe){return Q.type===fe.type&&Q.text===fe.text&&!Q.progressBar&&!Q.timeout&&!fe.progressBar&&!fe.timeout},v=function(){n.length>0&&a().reposition(n)},p=function(Q){n.push(Q)},S=function(Q){pn(n,function(fe){return fe===Q}).each(function(fe){n.splice(fe,1)})},A=function(Q,fe){if(fe===void 0&&(fe=!0),!(e.removed||!YC(e)))return fe&&e.fire("BeforeOpenNotification",{notification:Q}),rn(n,function(de){return l(a().getArgs(de),Q)}).getOrThunk(function(){e.editorManager.setActive(e);var de=a().open(Q,function(){S(de),v(),i().fold(function(){return e.focus()},function(ge){return G0(Ge.fromDom(ge.getEl()))})});return p(de),v(),e.fire("OpenNotification",{notification:qn({},de)}),de})},F=function(){i().each(function(Q){a().close(Q),S(Q),v()})},X=j(n),Z=function(Q){Q.on("SkinLoaded",function(){var fe=IS(Q);fe&&A({text:fe,type:"warning",timeout:0},!1),v()}),Q.on("show ResizeEditor ResizeWindow NodeChange",function(){Wi.requestAnimationFrame(v)}),Q.on("remove",function(){Le(n.slice(),function(fe){a().close(fe)})})};return Z(e),{open:A,close:F,getNotifications:X}},cl=zu.PluginManager,kd=zu.ThemeManager;function MT(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var PT=function(e){var n=[],a=function(){var ge=e.theme;return ge&&ge.getWindowManagerImpl?ge.getWindowManagerImpl():MT()},i=function(ge,pe){return function(){for(var Oe=[],xe=0;xe<arguments.length;xe++)Oe[xe]=arguments[xe];return pe?pe.apply(ge,Oe):void 0}},l=function(ge){e.fire("OpenWindow",{dialog:ge})},v=function(ge){e.fire("CloseWindow",{dialog:ge})},p=function(ge){n.push(ge),l(ge)},S=function(ge){v(ge),n=ut(n,function(pe){return pe!==ge}),n.length===0&&e.focus()},A=function(){return te.from(n[n.length-1])},F=function(ge){e.editorManager.setActive(e),K0(e);var pe=ge();return p(pe),pe},X=function(ge,pe){return F(function(){return a().open(ge,pe,S)})},Z=function(ge){return F(function(){return a().openUrl(ge,S)})},Q=function(ge,pe,Oe){var xe=a();xe.alert(ge,i(Oe||xe,pe))},fe=function(ge,pe,Oe){var xe=a();xe.confirm(ge,i(Oe||xe,pe))},de=function(){A().each(function(ge){a().close(ge),S(ge)})};return e.on("remove",function(){Le(n,function(ge){a().close(ge)})}),{open:X,openUrl:Z,alert:Q,confirm:fe,close:de}},IT=function(e,n){e.notificationManager.open({type:"error",text:n})},Kk=function(e,n){e._skinLoaded?IT(e,n):e.on("SkinLoaded",function(){IT(e,n)})},LR=function(e,n){Kk(e,wu.translate(["Failed to upload image: {0}",n]))},Xk=function(e,n,a){H0(e,n,{message:a}),console.error(a)},NT=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},Yk=function(e,n,a){Xk(e,"PluginLoadError",NT("plugin",n,a))},NI=function(e,n,a){Xk(e,"IconsLoadError",NT("icons",n,a))},ZC=function(e,n,a){Xk(e,"LanguageLoadError",NT("language",n,a))},HR=function(e,n,a){var i=wu.translate(["Failed to initialize plugin: {0}",n]);H0(e,"PluginLoadError",{message:i}),JC(i,a),Kk(e,i)},JC=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,Ou([e],n,!1)):i.log.apply(i,Ou([e],n,!1)))},$m=function(e){return/^[a-z0-9\-]+$/i.test(e)},zT=function(e){return VR(e,$S(e))},zI=function(e){return VR(e,BS(e))},VR=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,l="content"+i+".css",v=e.inline===!0;return et(n,function(p){return $m(p)&&!v?a+"/"+p+"/"+l:e.documentBaseURI.toAbsolute(p)})},FI=function(e){e.contentCSS=e.contentCSS.concat(zT(e),zI(e))},R1=function(){var e=1,n=2,a={},i=function(Q,fe){return{status:Q,resultUri:fe}},l=function(Q){return Q in a},v=function(Q){var fe=a[Q];return fe?fe.resultUri:null},p=function(Q){return l(Q)?a[Q].status===e:!1},S=function(Q){return l(Q)?a[Q].status===n:!1},A=function(Q){a[Q]=i(e,null)},F=function(Q,fe){a[Q]=i(n,fe)},X=function(Q){delete a[Q]},Z=function(){a={}};return{hasBlobUri:l,getResultUri:v,isPending:p,isUploaded:S,markPending:A,markUploaded:F,removeFailed:X,destroy:Z}},LI=0,HI=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},Yi=function(e){return e+LI+++HI()},VI=function(){var e=[],n=function(Z){var Q={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return Q[Z.toLowerCase()]||"dat"},a=function(Z,Q,fe,de,ge){if($e(Z)){var pe=Z;return i({id:pe,name:de,filename:ge,blob:Q,base64:fe})}else{if(me(Z))return i(Z);throw new Error("Unknown input type")}},i=function(Z){if(!Z.blob||!Z.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var Q=Z.id||Yi("blobid"),fe=Z.name||Q,de=Z.blob;return{id:j(Q),name:j(fe),filename:j(Z.filename||fe+"."+n(de.type)),blob:j(de),base64:j(Z.base64),blobUri:j(Z.blobUri||URL.createObjectURL(de)),uri:j(Z.uri)}},l=function(Z){p(Z.id())||e.push(Z)},v=function(Z){return rn(e,Z).getOrUndefined()},p=function(Z){return v(function(Q){return Q.id()===Z})},S=function(Z){return v(function(Q){return Q.blobUri()===Z})},A=function(Z,Q){return v(function(fe){return fe.base64()===Z&&fe.blob().type===Q})},F=function(Z){e=ut(e,function(Q){return Q.blobUri()===Z?(URL.revokeObjectURL(Q.blobUri()),!1):!0})},X=function(){Le(e,function(Z){URL.revokeObjectURL(Z.blobUri())}),e=[]};return{create:a,add:l,get:p,getByUri:S,getByData:A,findFirst:v,removeByUri:F,destroy:X}},UR=function(e,n){var a={},i=function(de,ge){return de?de.replace(/\/$/,"")+"/"+ge.replace(/^\//,""):ge},l=function(de,ge,pe,Oe){var xe=new XMLHttpRequest;xe.open("POST",n.url),xe.withCredentials=n.credentials,xe.upload.onprogress=function(je){Oe(je.loaded/je.total*100)},xe.onerror=function(){pe("Image upload failed due to a XHR Transport error. Code: "+xe.status)},xe.onload=function(){if(xe.status<200||xe.status>=300){pe("HTTP Error: "+xe.status);return}var je=JSON.parse(xe.responseText);if(!je||typeof je.location!="string"){pe("Invalid JSON: "+xe.responseText);return}ge(i(n.basePath,je.location))};var Ye=new FormData;Ye.append("file",de.blob(),de.filename()),xe.send(Ye)},v=function(){return new ui(function(de){de([])})},p=function(de,ge){return{url:ge,blobInfo:de,status:!0}},S=function(de,ge,pe){return{url:"",blobInfo:de,status:!1,error:{message:ge,options:pe}}},A=function(de,ge){Ct.each(a[de],function(pe){pe(ge)}),delete a[de]},F=function(de,ge,pe){return e.markPending(de.blobUri()),new ui(function(Oe){var xe,Ye;try{var je=function(){xe&&(xe.close(),Ye=Ee)},Re=function(xt){je(),e.markUploaded(de.blobUri(),xt),A(de.blobUri(),p(de,xt)),Oe(p(de,xt))},Qe=function(xt,Lt){var jn=Lt||{};je(),e.removeFailed(de.blobUri()),A(de.blobUri(),S(de,xt,jn)),Oe(S(de,xt,jn))};Ye=function(xt){xt<0||xt>100||te.from(xe).orThunk(function(){return te.from(pe).map(B)}).each(function(Lt){xe=Lt,Lt.progressBar.value(xt)})},ge(de,Re,Qe,Ye)}catch(xt){Oe(S(de,xt.message,{}))}})},X=function(de){return de===l},Z=function(de){var ge=de.blobUri();return new ui(function(pe){a[ge]=a[ge]||[],a[ge].push(pe)})},Q=function(de,ge){return de=Ct.grep(de,function(pe){return!e.isUploaded(pe.blobUri())}),ui.all(Ct.map(de,function(pe){return e.isPending(pe.blobUri())?Z(pe):F(pe,n.handler,ge)}))},fe=function(de,ge){return!n.url&&X(n.handler)?v():Q(de,ge)};return le(n.handler)===!1&&(n.handler=l),{upload:fe}},FT=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},LT=function(e,n){return UR(n,{url:d4(e),basePath:od(e),credentials:id(e),handler:m4(e)})},WR=function(e){var n=R1(),a=LT(e,n);return{upload:function(i,l){return l===void 0&&(l=!0),a.upload(i,l?FT(e):void 0)}}},HT=function(e){var n=yu(null);e.on("change AddUndo",function(i){n.set(qn({},i.level))});var a=function(){var i=e.undoManager.data;Ur(i).filter(function(l){return!Tm(n.get(),l)}).each(function(l){e.setDirty(!0),e.fire("change",{level:l,lastLevel:Hr(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},UI=function(e){var n=VI(),a,i,l=R1(),v=[],p=HT(e),S=function(je){return function(Re){return e.selection?je(Re):[]}},A=function(je){return je+(je.indexOf("?")===-1?"?":"&")+new Date().getTime()},F=function(je,Re,Qe){var xt=0;do xt=je.indexOf(Re,xt),xt!==-1&&(je=je.substring(0,xt)+Qe+je.substr(xt+Re.length),xt+=Qe.length-Re.length+1);while(xt!==-1);return je},X=function(je,Re,Qe){var xt='src="'+Qe+'"'+(Qe===Wn.transparentSrc?' data-mce-placeholder="1"':"");return je=F(je,'src="'+Re+'"',xt),je=F(je,'data-mce-src="'+Re+'"','data-mce-src="'+Qe+'"'),je},Z=function(je,Re){Le(e.undoManager.data,function(Qe){Qe.type==="fragmented"?Qe.fragments=et(Qe.fragments,function(xt){return X(xt,je,Re)}):Qe.content=X(Qe.content,je,Re)})},Q=function(je,Re){var Qe=e.convertURL(Re,"src");Z(je.src,Re),e.$(je).attr({src:uw(e)?A(Re):Re,"data-mce-src":Qe})},fe=function(je){return a||(a=LT(e,l)),Oe().then(S(function(Re){var Qe=et(Re,function(xt){return xt.blobInfo});return a.upload(Qe,FT(e)).then(S(function(xt){var Lt=[],jn=et(xt,function(mn,Mt){var Un=Re[Mt].blobInfo,Ut=Re[Mt].image;return mn.status&&v4(e)?(n.removeByUri(Ut.src),Dm(e)||Q(Ut,mn.url)):mn.error&&(mn.error.options.remove&&(Z(Ut.getAttribute("src"),Wn.transparentSrc),Lt.push(Ut)),LR(e,mn.error.message)),{element:Ut,status:mn.status,uploadUri:mn.url,blobInfo:Un}});return jn.length>0&&p.fireIfChanged(),Lt.length>0&&(Dm(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){Le(Lt,function(mn){e.dom.remove(mn),n.removeByUri(mn.src)})})),je&&je(jn),jn}))}))},de=function(je){if(Zp(e))return fe(je)},ge=function(je){if(qr(v,function(Qe){return Qe(je)})===!1)return!1;if(je.getAttribute("src").indexOf("data:")===0){var Re=d0(e);return Re(je)}return!0},pe=function(je){v.push(je)},Oe=function(){return i||(i=mR(l,n)),i.findAll(e.getBody(),ge).then(S(function(je){return je=ut(je,function(Re){return typeof Re=="string"?(Kk(e,Re),!1):!0}),Dm(e)||Le(je,function(Re){Z(Re.image.src,Re.blobInfo.blobUri()),Re.image.src=Re.blobInfo.blobUri(),Re.image.removeAttribute("data-mce-src")}),je}))},xe=function(){n.destroy(),l.destroy(),i=a=null},Ye=function(je){return je.replace(/src="(blob:[^"]+)"/g,function(Re,Qe){var xt=l.getResultUri(Qe);if(xt)return'src="'+xt+'"';var Lt=n.getByUri(Qe);if(Lt||(Lt=$t(e.editorManager.get(),function(mn,Mt){return mn||Mt.editorUpload&&Mt.editorUpload.blobCache.getByUri(Qe)},null)),Lt){var jn=Lt.blob();return'src="data:'+jn.type+";base64,"+Lt.base64()+'"'}return Re})};return e.on("SetContent",function(){Zp(e)?de():Oe()}),e.on("RawSaveContent",function(je){je.content=Ye(je.content)}),e.on("GetContent",function(je){je.source_view||je.format==="raw"||je.format==="tree"||(je.content=Ye(je.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(je){Le(je,function(Re){var Qe=Re.attr("src");if(!n.getByUri(Qe)){var xt=l.getResultUri(Qe);xt&&Re.attr("src",xt)}})})}),{blobCache:n,addFilter:pe,uploadImages:fe,uploadImagesAuto:de,scanForImages:Oe,destroy:xe}},WI=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,l){return Jn(a)&&a.hasAttribute("href")},onformat:function(a,i,l){Ct.each(l,function(v,p){e.setAttrib(a,p,v)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Ct.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},jI=function(e){var n={},a=function(p){return Xe(p)?n[p]:n},i=function(p){return Dr(n,p)},l=function(p,S){p&&($e(p)?(Be(S)||(S=[S]),Le(S,function(A){De(A.deep)&&(A.deep=!vs(A)),De(A.split)&&(A.split=!vs(A)||Bi(A)),De(A.remove)&&vs(A)&&!Bi(A)&&(A.remove="none"),vs(A)&&Bi(A)&&(A.mixed=!0,A.block_expand=!0),$e(A.classes)&&(A.classes=A.classes.split(/\s+/))}),n[p]=S):Vr(p,function(A,F){l(F,A)}))},v=function(p){return p&&n[p]&&delete n[p],n};return l(WI(e.dom)),l(g4(e)),{get:a,has:i,register:l,unregister:v}},Zk=Ct.each,hs=Na.DOM,yv=function(e,n){var a,i,l,v=n&&n.schema||Bs({}),p=function(X,Z){Z.classes.length&&hs.addClass(X,Z.classes.join(" ")),hs.setAttribs(X,Z.attrs)},S=function(X){i=typeof X=="string"?{name:X,classes:[],attrs:{}}:X;var Z=hs.create(i.name);return p(Z,i),Z},A=function(X,Z){var Q=typeof X!="string"?X.nodeName.toLowerCase():X,fe=v.getElementRule(Q),de=fe&&fe.parentsRequired;return de&&de.length?Z&&Ct.inArray(de,Z)!==-1?Z:de[0]:!1},F=function(X,Z,Q){var fe,de,ge=Z.length>0&&Z[0],pe=ge&&ge.name,Oe=A(X,pe);if(Oe)pe===Oe?(de=Z[0],Z=Z.slice(1)):de=Oe;else if(ge)de=Z[0],Z=Z.slice(1);else if(!Q)return X;return de&&(fe=S(de),fe.appendChild(X)),Q&&(fe||(fe=hs.create("div"),fe.appendChild(X)),Ct.each(Q,function(xe){var Ye=S(xe);fe.insertBefore(Ye,X)})),F(fe,Z,de&&de.siblings)};return e&&e.length?(i=e[0],a=S(i),l=hs.create("div"),l.appendChild(F(a,e.slice(1),i.siblings)),l):""},GI=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=Ct.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,l,v,p,S){switch(l){case"#":a.attrs.id=v;break;case".":a.classes.push(v);break;case":":Ct.inArray("checked disabled enabled read-only required".split(" "),v)!==-1&&(a.attrs[v]=v);break}if(p==="["){var A=S.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(a.attrs[A[1]]=A[2])}return""})),a.name=n||"div",a},qI=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Ct.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=Ct.map(n.split(/(?:~\+|~|\+)/),GI),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},KI=function(e,n){var a,i,l="",v,p=Zh(e);if(p==="")return"";var S=function(Z){return Z.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var A=Ir(n,"preview");if(Fd(A,!1))return"";p=A.getOr(p)}a=n.block||n.inline||"span";var F=qI(n.selector);F.length?(F[0].name||(F[0].name=a),a=n.selector,i=yv(F,e)):i=yv([a],e);var X=hs.select(a,i)[0]||i.firstChild;return Zk(n.styles,function(Z,Q){var fe=S(Z);fe&&hs.setStyle(X,Q,fe)}),Zk(n.attributes,function(Z,Q){var fe=S(Z);fe&&hs.setAttrib(X,Q,fe)}),Zk(n.classes,function(Z){var Q=S(Z);hs.hasClass(X,Q)||hs.addClass(X,Q)}),e.fire("PreviewFormats"),hs.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),v=hs.getStyle(e.getBody(),"fontSize",!0),v=/px$/.test(v)?parseInt(v,10):0,Zk(p.split(" "),function(Z){var Q=hs.getStyle(X,Z,!0);if(!(Z==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Q)&&(Q=hs.getStyle(e.getBody(),Z,!0),hs.toHex(Q).toLowerCase()==="#ffffff"))&&!(Z==="color"&&hs.toHex(Q).toLowerCase()==="#000000")){if(Z==="font-size"&&/em|%$/.test(Q)){if(v===0)return;var fe=parseFloat(Q)/(/%$/.test(Q)?100:1);Q=fe*v+"px"}Z==="border"&&Q&&(l+="padding:0 2px;"),l+=Z+":"+Q+";"}}),e.fire("AfterPreviewFormats"),hs.remove(i),l},XI=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},jR=function(e){var n=jI(e),a=yu(null);return XI(e),rT(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,l,v){LP(e,i,l,v)},remove:function(i,l,v,p){Vg(e,i,l,v,p)},toggle:function(i,l,v){wT(e,i,l,v)},match:function(i,l,v,p){return HC(e,i,l,v,p)},closest:function(i){return FP(e,i)},matchAll:function(i,l){return ZD(e,i,l)},matchNode:function(i,l,v,p){return JD(e,i,l,v,p)},canApply:function(i){return Hk(e,i)},formatChanged:function(i,l,v,p){return QD(e,a,i,l,v,p)},getCssText:ce(KI,e)}},Do=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},GR=function(e,n,a){var i=yu(!1),l=function(A){Om(n,!1,a),n.add({},A)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(A){var F=A.command;Do(F)||(Fk(n,a),n.beforeChange())}),e.on("ExecCommand",function(A){var F=A.command;Do(F)||l(A)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",function(A){var F=A.keyCode;A.isDefaultPrevented()||((F>=33&&F<=36||F>=37&&F<=40||F===45||A.ctrlKey)&&(l(),e.nodeChanged()),(F===46||F===8)&&e.nodeChanged(),i.get()&&n.typing&&Tm(Ay(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(A){var F=A.keyCode;if(!A.isDefaultPrevented()){if(F>=33&&F<=36||F>=37&&F<=40||F===45){n.typing&&l(A);return}var X=A.ctrlKey&&!A.altKey||A.metaKey;(F<16||F>20)&&F!==224&&F!==91&&!n.typing&&!X&&(n.beforeChange(),Om(n,!0,a),n.add({},A),i.set(!0))}}),e.on("mousedown",function(A){n.typing&&l(A)});var v=function(A){return A.inputType==="insertReplacementText"},p=function(A){return A.inputType==="insertText"&&A.data===null},S=function(A){return A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop"};e.on("input",function(A){A.inputType&&(v(A)||p(A)||S(A))&&l(A)}),e.on("AddUndo Undo Redo ClearUndos",function(A){A.isDefaultPrevented()||e.nodeChanged()})},qR=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},bf=function(e){var n=nd(),a=yu(0),i=yu(0),l={data:[],typing:!1,beforeChange:function(){MP(e,a,n)},add:function(v,p){return GD(e,l,i,a,n,v,p)},undo:function(){return qD(e,l,a,i)},redo:function(){return KD(e,i,l.data)},clear:function(){XD(e,l,i)},reset:function(){YD(e,l)},hasUndo:function(){return PP(e,l,i)},hasRedo:function(){return IP(e,l,i)},transact:function(v){return NP(e,l,a,v)},ignore:function(v){zP(e,a,v)},extra:function(v,p){yT(e,l,i,v,p)}};return Dm(e)||GR(e,l,a),qR(e),l},KR=[9,27,Gn.HOME,Gn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Gn.DOWN,Gn.UP,Gn.LEFT,Gn.RIGHT].concat(Wn.browser.isFirefox()?[224]:[]),XR="data-mce-placeholder",YR=function(e){return e.type==="keydown"||e.type==="keyup"},Jk=function(e){var n=e.keyCode;return n===Gn.BACKSPACE||n===Gn.DELETE},YI=function(e){if(YR(e)){var n=e.keyCode;return!Jk(e)&&(Gn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Ae(KR,n))}else return!1},Oy=function(e){return YR(e)&&!(Jk(e)||e.type==="keyup"&&e.keyCode===229)},ZI=function(e,n,a){if(Ai(Ge.fromDom(n),!1)){var i=a==="",l=n.firstElementChild;return l?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(l):a===l.nodeName.toLowerCase():!0}else return!1},ZR=function(e){var n=e.dom,a=Ri(e),i=lw(e),l=function(v,p){if(!YI(v)){var S=e.getBody(),A=Oy(v)?!1:ZI(n,S,a),F=n.getAttrib(S,XR)!=="";(F!==A||p)&&(n.setAttrib(S,XR,A?i:null),n.setAttrib(S,"aria-placeholder",A?i:null),dx(e,A),e.on(A?"keydown":"keyup",l),e.off(A?"keyup":"keydown",l))}};i&&e.on("init",function(v){l(v,!0),e.on("change SetContent ExecCommand",l),e.on("paste",function(p){return Wi.setEditorTimeout(e,function(){return l(p)})})})},JR=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,VT=function(e){return JR.test(e)},Ug=function(e,n){return ec(Ge.fromDom(n),sv(e))},UT=function(e){return Na.DOM.getStyle(e,"direction",!0)==="rtl"||VT(e.textContent)},JI=function(e,n,a){return ut(Na.DOM.getParents(a.container(),"*",n),e)},Wg=function(e,n,a){var i=JI(e,n,a);return te.from(i[i.length-1])},QI=function(e,n,a){var i=pc(n,e),l=pc(a,e);return i&&i===l},yf=function(e){return zn(e)||Cb(e)},xc=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?Ta(a)?gn(a.nextSibling)?mt(a.nextSibling,0):mt.after(a):zn(n)?mt(a,i+1):n:Ta(a)?gn(a.previousSibling)?mt(a.previousSibling,a.previousSibling.data.length):mt.before(a):Cb(n)?mt(a,i-1):n},QR=ce(xc,!0),e$=ce(xc,!1),QC=function(e){return function(n){return Ma(e,Ge.fromDom(n.dom.parentNode))}},eN=function(e){return Wc(e)||ji(e)},e_=function(e,n){return Li(e,n)?Ch(n,eN,QC(e)):te.none()},t$=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},WT=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),t$(e))},tN=function(e,n,a){return eu(ou(a),ol(a),function(i,l){var v=xc(!0,i),p=xc(!1,l),S=xc(!1,n);return e?Nl(a,S).exists(function(A){return A.isEqual(p)&&n.isEqual(v)}):wc(a,S).exists(function(A){return A.isEqual(v)&&n.isEqual(p)})}).getOr(!0)},nN=function(e,n){return{block:e,position:n}},jg=function(e,n){return{from:e,to:n}},jT=function(e,n){var a=Ge.fromDom(e),i=Ge.fromDom(n.container());return e_(a,i).map(function(l){return nN(l,n)})},rN=function(e){return Ma(e.from.block,e.to.block)===!1},aN=function(e){return ao(e.from.block).bind(function(n){return ao(e.to.block).filter(function(a){return Ma(n,a)})}).isSome()},oN=function(e){return Ua(e.from.block.dom)===!1&&Ua(e.to.block.dom)===!1},iN=function(e,n,a){return wa(a.position.getNode())&&Ai(a.block)===!1?lv(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?Hu(n,e,i).bind(function(l){return jT(e,l)}):te.some(a)}).getOr(a):a},uN=function(e,n,a){var i=jT(e,mt.fromRangeStart(a)),l=i.bind(function(v){return Hu(n,e,v.position).bind(function(p){return jT(e,p).map(function(S){return iN(e,n,S)})})});return eu(i,l,jg).filter(function(v){return rN(v)&&aN(v)&&oN(v)})},sN=function(e,n,a){return a.collapsed?uN(e,n,a):te.none()},lN=function(e){var n=Qi(e);return pn(n,Ts).fold(j(n),function(a){return n.slice(0,a)})},n$=function(e){var n=lN(e);return Le(n,mo),n},r$=function(e,n){var a=Cc(n,e);return rn(a.reverse(),function(i){return Ai(i)}).each(mo)},cN=function(e){return ut(Kr(e),function(n){return!Ai(n)}).length===0},fN=function(e,n,a,i){if(Ai(a))return mf(a),ou(a.dom);cN(i)&&Ai(n)&&Si(i,Ge.fromTag("br"));var l=wc(a.dom,mt.before(i.dom));return Le(n$(n),function(v){Si(i,v)}),r$(e,n),l},t_=function(e,n,a){if(Ai(a))return mo(a),Ai(n)&&mf(n),ou(n.dom);var i=ol(a.dom);return Le(n$(n),function(l){Ho(a,l)}),r$(e,n),i},vN=function(e,n){var a=Cc(n,e);return te.from(a[a.length-1])},GT=function(e,n){return Li(n,e)?vN(n,e):te.none()},a$=function(e,n){lv(e,n.dom).map(function(a){return a.getNode()}).map(Ge.fromDom).filter(xh).each(mo)},o$=function(e,n,a){return a$(!0,n),a$(!1,a),GT(n,a).fold(ce(t_,e,n,a),ce(fN,e,n,a))},i$=function(e,n,a,i){return n?o$(e,i,a):o$(e,a,i)},Qk=function(e,n){var a=Ge.fromDom(e.getBody()),i=sN(a.dom,n,e.selection.getRng()).bind(function(l){return i$(a,n,l.from.block,l.to.block)});return i.each(function(l){e.selection.setRng(l.toRange())}),i.isSome()},$1=function(e,n){var a=n.getRng();return eu(e_(e,Ge.fromDom(a.startContainer)),e_(e,Ge.fromDom(a.endContainer)),function(i,l){return Ma(i,l)===!1?(a.deleteContents(),i$(e,!0,i,l).each(function(v){n.setRng(v.toRange())}),!0):!1}).getOr(!1)},Gg=function(e,n){var a=Ge.fromDom(n),i=ce(Ma,e);return zv(a,sc,i).isSome()},e3=function(e,n){return Gg(e,n.startContainer)||Gg(e,n.endContainer)},t3=function(e,n){var a=wc(e.dom,mt.fromRangeStart(n)).isNone(),i=Nl(e.dom,mt.fromRangeEnd(n)).isNone();return!e3(e,n)&&a&&i},B1=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},M1=function(e){var n=Ge.fromDom(e.getBody()),a=e.selection.getRng();return t3(n,a)?B1(e):$1(n,e.selection)},P1=function(e,n){return e.selection.isCollapsed()?!1:M1(e)},n3=El,u$=Ua,wv=function(e,n,a,i,l){return te.from(n._selectionOverrides.showCaret(e,a,i,l))},qT=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},I1=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?te.none():te.some(qT(n))},KT=function(e,n,a){var i=Xi(1,e.getBody(),n),l=mt.fromRangeStart(i),v=l.getNode();if(ng(v))return wv(1,e,v,!l.isAtEnd(),!1);var p=l.getNode(!0);if(ng(p))return wv(1,e,p,!1,!1);var S=e.dom.getParent(l.getNode(),function(A){return u$(A)||n3(A)});return ng(S)?wv(1,e,S,!1,a):te.none()},qg=function(e,n,a){return n.collapsed?KT(e,n,a).getOr(n):n},s$=function(e){return Hl(e)||Eg(e)},l$=function(e){return _d(e)||Tg(e)},c$=function(e,n){gn(n)&&n.data.length===0&&e.remove(n)},n_=function(e,n,a,i,l,v){return wv(i,e,v.getNode(!l),l,!0).each(function(p){if(n.collapsed){var S=n.cloneRange();l?S.setEnd(p.startContainer,p.startOffset):S.setStart(p.endContainer,p.endOffset),S.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),c$(e.dom,a),!0},f$=function(e,n){var a=e.selection.getRng();if(!gn(a.commonAncestorContainer))return!1;var i=n?$i.Forwards:$i.Backwards,l=go(e.getBody()),v=ce(Cw,n?l.next:l.prev),p=n?s$:l$,S=sg(i,e.getBody(),a),A=xc(n,v(S));if(!A||!k0(S,A))return!1;if(p(A))return n_(e,a,S.getNode(),i,n,A);var F=v(A);return F&&p(F)&&k0(A,F)?n_(e,a,S.getNode(),i,n,F):!1},r_=function(e,n){return f$(e,n)},v$=function(e){return sc(Ge.fromDom(e))||ji(Ge.fromDom(e))},fl=Mn.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Bm=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return Jn(a)&&a.getAttribute("data-mce-caret")===i},d$=function(e,n,a,i){var l=function(v){return tu(Ge.fromDom(v))&&!bc(a,i,e)};return ug(!n,a).fold(function(){return ug(n,i).fold(ot,l)},l)},XT=function(e,n,a,i){var l=i.getNode(n===!1);return e_(Ge.fromDom(e),Ge.fromDom(a.getNode())).map(function(v){return Ai(v)?fl.remove(v.dom):fl.moveToElement(l)}).orThunk(function(){return te.some(fl.moveToElement(l))})},Mm=function(e,n,a){return Hu(n,e,a).bind(function(i){return v$(i.getNode())||d$(e,n,a,i)?te.none():n&&Ua(i.getNode())||n===!1&&Ua(i.getNode(!0))?XT(e,n,a,i):n&&_d(a)||n===!1&&Hl(a)?te.some(fl.moveToPosition(i)):te.none()})},wf=function(e,n){return e&&Ua(n.nextSibling)?te.some(fl.moveToElement(n.nextSibling)):e===!1&&Ua(n.previousSibling)?te.some(fl.moveToElement(n.previousSibling)):te.none()},dN=function(e,n,a){return a.fold(function(i){return te.some(fl.remove(i))},function(i){return te.some(fl.moveToElement(i))},function(i){return bc(n,i,e)?te.none():te.some(fl.moveToPosition(i))})},mN=function(e,n,a){return Bm(n,a)?wf(n,a.getNode(n===!1)).fold(function(){return Mm(e,n,a)},te.some):Mm(e,n,a).bind(function(i){return dN(e,a,i)})},hN=function(e,n,a){var i=Xi(n?1:-1,e,a),l=mt.fromRangeStart(i),v=Ge.fromDom(e);return n===!1&&_d(l)?te.some(fl.remove(l.getNode(!0))):n&&Hl(l)?te.some(fl.remove(l.getNode())):n===!1&&Hl(l)&&$g(v,l)?OE(v,l).map(function(p){return fl.remove(p.getNode())}):n&&_d(l)&&Rg(v,l)?er(v,l).map(function(p){return fl.remove(p.getNode())}):mN(e,n,l)},gN=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),Dn(e,n,Ge.fromDom(a)),!0}},pN=function(e,n){return function(a){var i=n?mt.before(a):mt.after(a);return e.selection.setRng(i.toRange()),!0}},bN=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},m$=function(e,n){return te.from(ym(e.getBody(),n))},yN=function(e,n){var a=e.selection.getNode();return m$(e,a).filter(Ua).fold(function(){return hN(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(gN(e,n),pN(e,n),bN(e))})},it)},wN=function(e){Le(Di(e,".mce-offscreen-selection"),mo)},CN=function(e,n){var a=e.selection.getNode();if(Ua(a)&&!ph(a)){var i=m$(e,a.parentNode).filter(Ua);return i.fold(function(){return wN(Ge.fromDom(e.getBody())),Dn(e,n,Ge.fromDom(e.selection.getNode())),WT(e),!0},it)}return!1},h$=function(e){var n=e.dom,a=e.selection,i=ym(e.getBody(),a.getNode());if(El(i)&&n.isBlock(i)&&n.isEmpty(i)){var l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(l),a.setRng(mt.before(l).toRange())}return!0},r3=function(e,n){return e.selection.isCollapsed()?yN(e,n):CN(e,n)},YT=function(e,n){var a=mt.fromRangeStart(e.selection.getRng());return Hu(n,e.getBody(),a).filter(function(i){return n?EE(i):wC(i)}).bind(function(i){return te.from(_0(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},Dy=function(e,n){return e.selection.isCollapsed()?YT(e,n):!1},N1=gn,g$=function(e){return N1(e)&&e.data[0]===He},p$=function(e){return N1(e)&&e.data[e.data.length-1]===He},ZT=function(e){return e.ownerDocument.createTextNode(He)},b$=function(e){if(N1(e.previousSibling))return p$(e.previousSibling)||e.previousSibling.appendData(He),e.previousSibling;if(N1(e))return g$(e)||e.insertData(0,He),e;var n=ZT(e);return e.parentNode.insertBefore(n,e),n},JT=function(e){if(N1(e.nextSibling))return g$(e.nextSibling)||e.nextSibling.insertData(0,He),e.nextSibling;if(N1(e))return p$(e)||e.appendData(He),e;var n=ZT(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},a_=function(e,n){return e?b$(n):JT(n)},y$=ce(a_,!0),QT=ce(a_,!1),w$=function(e,n){return gn(e.container())?a_(n,e.container()):a_(n,e.getNode())},C$=function(e,n){var a=n.get();return a&&e.container()===a&&Ta(a)},Cf=function(e,n){return n.fold(function(a){ud(e.get());var i=y$(a);return e.set(i),te.some(mt(i,i.length-1))},function(a){return ou(a).map(function(i){if(C$(i,e))return mt(e.get(),1);ud(e.get());var l=w$(i,!0);return e.set(l),mt(l,1)})},function(a){return ol(a).map(function(i){if(C$(i,e))return mt(e.get(),e.get().length-1);ud(e.get());var l=w$(i,!1);return e.set(l),mt(l,l.length-1)})},function(a){ud(e.get());var i=QT(a);return e.set(i),te.some(mt(i,1))})},kc=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return te.none()},su=Mn.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),eO=function(e,n){var a=pc(n,e);return a||e},a3=function(e,n,a){var i=QR(a),l=eO(n,i.container());return Wg(e,l,i).fold(function(){return Nl(l,i).bind(ce(Wg,e,l)).map(function(v){return su.before(v)})},te.none)},_$=function(e,n){return mm(e,n)===null},tO=function(e,n,a){return Wg(e,n,a).filter(ce(_$,n))},S$=function(e,n,a){var i=e$(a);return tO(e,n,i).bind(function(l){var v=wc(l,i);return v.isNone()?te.some(su.start(l)):te.none()})},x$=function(e,n,a){var i=QR(a);return tO(e,n,i).bind(function(l){var v=Nl(l,i);return v.isNone()?te.some(su.end(l)):te.none()})},k$=function(e,n,a){var i=e$(a),l=eO(n,i.container());return Wg(e,l,i).fold(function(){return wc(l,i).bind(ce(Wg,e,l)).map(function(v){return su.after(v)})},te.none)},nO=function(e){return UT(Ry(e))===!1},Ac=function(e,n,a){var i=kc([a3,S$,x$,k$],[e,n,a]);return i.filter(nO)},Ry=function(e){return e.fold(ke,ke,ke,ke)},o3=function(e){return e.fold(j("before"),j("start"),j("end"),j("after"))},i3=function(e){return e.fold(su.before,su.before,su.after,su.after)},rO=function(e){return e.fold(su.start,su.start,su.end,su.end)},_N=function(e,n){return o3(e)===o3(n)&&Ry(e)===Ry(n)},SN=function(e,n,a,i,l,v){return eu(Wg(n,a,i),Wg(n,a,l),function(p,S){return p!==S&&QI(a,p,S)?su.after(e?p:S):v}).getOr(v)},A$=function(e,n){return e.fold(it,function(a){return!_N(a,n)})},xN=function(e,n,a,i,l){var v=xc(e,l),p=Hu(e,a,v).map(ce(xc,e)),S=p.fold(function(){return i.map(i3)},function(A){return Ac(n,a,A).map(ce(SN,e,n,a,v,A)).filter(ce(A$,i))});return S.filter(nO)},kN=function(e,n){return e?n.fold(We(te.some,su.start),te.none,We(te.some,su.after),te.none):n.fold(te.none,We(te.some,su.before),te.none,We(te.some,su.end))},o_=function(e,n,a,i){var l=xc(e,i),v=Ac(n,a,l);return Ac(n,a,l).bind(ce(kN,e)).orThunk(function(){return xN(e,n,a,v,i)})};ce(o_,!1),ce(o_,!0);var AN=function(e){return le(e.selection.getSel().modify)},E$=function(e,n,a){var i=e?1:-1;return n.setRng(mt(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},EN=function(e,n){var a=n.selection.getRng(),i=e?mt.fromRangeEnd(a):mt.fromRangeStart(a);return AN(n)?e&&zn(i)?E$(!0,n.selection,i):!e&&Cb(i)?E$(!1,n.selection,i):!1:!1},Ad;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Ad||(Ad={}));var u3=function(e,n){return e===$i.Backwards?ir(n):n},TN=function(e,n,a){return e===$i.Forwards?n.next(a):n.prev(a)},ON=function(e,n,a,i){return wa(i.getNode(n===$i.Forwards))?Ad.Br:bc(a,i)===!1?Ad.Block:Ad.Wrap},i_=function(e,n,a,i){for(var l=go(a),v=i,p=[];v;){var S=TN(n,l,v);if(!S)break;if(wa(S.getNode(!1)))return n===$i.Forwards?{positions:u3(n,p).concat([S]),breakType:Ad.Br,breakAt:te.some(S)}:{positions:u3(n,p),breakType:Ad.Br,breakAt:te.some(S)};if(!S.isVisible()){v=S;continue}if(e(v,S)){var A=ON(a,n,v,S);return{positions:u3(n,p),breakType:A,breakAt:te.some(S)}}p.push(S),v=S}return{positions:u3(n,p),breakType:Ad.Eol,breakAt:te.none()}},u_=function(e,n,a,i){return n(a,i).breakAt.map(function(l){var v=n(a,l).positions;return e===$i.Backwards?v.concat(l):[l].concat(v)}).getOr([])},s_=function(e,n){return $t(e,function(a,i){return a.fold(function(){return te.some(i)},function(l){return eu(da(l.getClientRects()),da(i.getClientRects()),function(v,p){var S=Math.abs(n-v.left),A=Math.abs(n-p.left);return A<=S?i:l}).or(a)})},te.none())},T$=function(e,n){return da(n.getClientRects()).bind(function(a){return s_(e,a.left)})},l_=ce(i_,mt.isAbove,-1),c_=ce(i_,mt.isBelow,1),DN=ce(u_,-1,l_),O$=ce(u_,1,c_),RN=function(e,n){return l_(e,n).breakAt.isNone()},$N=function(e,n){return c_(e,n).breakAt.isNone()},aO=function(e){return ou(e).map(function(n){return[n].concat(c_(e,n).positions)}).getOr([])},BN=function(e){return ol(e).map(function(n){return l_(e,n).positions.concat(n)}).getOr([])},MN=function(e){var n=function(i){return et(i,function(l){var v=rd(l);return v.node=e,v})};if(Jn(e))return n(e.getClientRects());if(gn(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},oO=function(e){return vr(e,MN)},z1;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(z1||(z1={}));var PN=function(e,n,a,i){for(;i=ld(i,e,Po,n);)if(a(i))return},D$=function(e,n,a,i,l,v){var p=0,S=[],A=function(Z){var Q=oO([Z]);e===-1&&(Q=Q.reverse());for(var fe=0;fe<Q.length;fe++){var de=Q[fe];if(!a(de,F)){if(S.length>0&&n(de,Ks(S))&&p++,de.line=p,l(de))return!0;S.push(de)}}},F=Ks(v.getClientRects());if(!F)return S;var X=v.getNode();return A(X),PN(e,i,A,X),S},IN=function(e,n){return n.line>e},s3=function(e,n){return n.line===e},l3=ce(D$,z1.Up,Vh,Uh),NN=ce(D$,z1.Down,Uh,Vh),zN=function(e,n,a,i){var l=go(n),v,p,S,A,F=[],X=0,Z=function(ge){return Ks(ge.getClientRects())};e===1?(v=l.next,p=Uh,S=Vh,A=mt.after(i)):(v=l.prev,p=Vh,S=Uh,A=mt.before(i));var Q=Z(A);do if(A.isVisible()){var fe=Z(A);if(!S(fe,Q)){F.length>0&&p(fe,Ks(F))&&X++;var de=rd(fe);if(de.position=A,de.line=X,a(de))return F;F.push(de)}}while(A=v(A));return F},f_=function(e){return function(n){return IN(e,n)}},iO=function(e){return function(n){return s3(e,n)}},FN=Ua,R$=ld,uO=function(e,n){return Math.abs(e.left-n)},sO=function(e,n){return Math.abs(e.right-n)},$$=function(e,n){return e>=n.left&&e<=n.right},LN=function(e,n){return e>=n.top&&e<=n.bottom},HN=function(e){return Gs(e,"node")},c3=function(e,n,a){return a===void 0&&(a=it),$f(e,function(i,l){if($$(n,l))return a(l)?l:i;if($$(n,i))return a(i)?i:l;var v=Math.min(uO(i,n),sO(i,n)),p=Math.min(uO(l,n),sO(l,n));return p===v&&HN(l)&&FN(l.node)||p<v?l:i})},B$=function(e,n,a,i,l){var v=R$(i,e,Po,n,!l);do if(!v||a(v))return;while(v=R$(v,e,Po,n))},VN=function(e,n,a){a===void 0&&(a=!0);var i=[],l=function(v,p){var S=ut(oO([p]),function(A){return!v(A,n)});return i=i.concat(S),S.length===0};return i.push(n),B$(z1.Up,e,ce(l,Vh),n.node,a),B$(z1.Down,e,ce(l,Uh),n.node,a),i},UN=function(e){return ut(dr(e.getElementsByTagName("*")),fm)},_f=function(e,n){return{node:e.node,before:uO(e,n)<sO(e,n)}},lO=function(e,n,a){var i=oO(UN(e)),l=ut(i,ce(LN,a)),v=function(A){return!Eo(A.node)&&!Mu(A.node)},p=c3(l,n,v);if(p){var S=v(p);if(p=c3(VN(e,p,S),n,v),p&&fm(p.node))return _f(p,n)}return null},Ed=function(e,n){e.selection.setRng(n),f1(e,e.selection.getRng())},f3=function(e,n,a){return te.some(qg(e,n,a))},M$=function(e,n,a,i,l,v){var p=n===$i.Forwards,S=go(e.getBody()),A=ce(Cw,p?S.next:S.prev),F=p?i:l;if(!a.collapsed){var X=om(a);if(v(X))return wv(n,e,X,n===$i.Backwards,!1)}var Z=sg(n,e.getBody(),a);if(F(Z))return I1(e,Z.getNode(!p));var Q=xc(p,A(Z)),fe=jc(a);if(!Q)return fe?te.some(a):te.none();if(F(Q))return wv(n,e,Q.getNode(!p),p,!1);var de=A(Q);return de&&F(de)&&k0(Q,de)?wv(n,e,de.getNode(!p),p,!1):fe?f3(e,Q.toRange(),!1):te.none()},cO=function(e,n,a,i,l,v){var p=sg(n,e.getBody(),a),S=Ks(p.getClientRects()),A=n===z1.Down;if(!S)return te.none();var F=A?NN:l3,X=F(e.getBody(),f_(1),p),Z=ut(X,iO(1)),Q=S.left,fe=c3(Z,Q);if(fe&&v(fe.node)){var de=Math.abs(Q-fe.left),ge=Math.abs(Q-fe.right);return wv(n,e,fe.node,de<ge,!1)}var pe;if(i(p)?pe=p.getNode():l(p)?pe=p.getNode(!0):pe=om(a),pe){var Oe=zN(n,e.getBody(),f_(1),pe),xe=c3(ut(Oe,iO(1)),Q);if(xe||(xe=Ks(ut(Oe,iO(0))),xe))return f3(e,xe.position.toRange(),!1)}return Z.length===0?fO(e,A).filter(A?l:i).map(function(Ye){return qg(e,Ye.toRange(),!1)}):te.none()},fO=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var l=mt.fromRangeEnd(a),v=c_(i,l);return Ur(v.positions)}else{var l=mt.fromRangeStart(a),v=l_(i,l);return da(v.positions)}},vO=function(e,n,a){return fO(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},v3=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},P$=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},I$=function(e,n,a){return Cf(n,a).map(function(i){return v3(e,i),a})},$y=function(e,n,a){var i=e.getBody(),l=mt.fromRangeStart(e.selection.getRng()),v=ce(Ug,e),p=o_(a,v,i,l);return p.bind(function(S){return I$(e,n,S)})},N$=function(e,n,a){var i=et(Di(Ge.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(p){return p.dom}),l=ut(i,e),v=ut(a,e);Le(ua(l,v),ce(P$,!1)),Le(ua(v,l),ce(P$,!0))},z$=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=mt.fromRangeStart(e.selection.getRng());mt.isTextPosition(a)&&yf(a)===!1&&(v3(e,WS(n.get(),a)),n.set(null))}},F$=function(e,n,a,i){if(n.selection.isCollapsed()){var l=ut(i,e);Le(l,function(v){var p=mt.fromRangeStart(n.selection.getRng());Ac(e,n.getBody(),p).bind(function(S){return I$(n,a,S)})})}},d3=function(e,n,a){return Jp(e)?$y(e,n,a).isSome():!1},L$=function(e,n,a){return Jp(n)?EN(e,n):!1},WN=function(e){var n=yu(null),a=ce(Ug,e);return e.on("NodeChange",function(i){Jp(e)&&!(Wn.browser.isIE()&&i.initial)&&(N$(a,e.dom,i.parents),z$(e,n),F$(a,e,n,i.parents))}),n},jN=ce(L$,!0),GN=ce(L$,!1),m3=function(e,n,a){if(Jp(e)){var i=fO(e,n).getOrThunk(function(){var l=e.selection.getRng();return n?mt.fromRangeEnd(l):mt.fromRangeStart(l)});return Ac(ce(Ug,e),e.getBody(),i).exists(function(l){var v=i3(l);return Cf(a,v).exists(function(p){return v3(e,p),!0})})}else return!1},qN=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},Cv=function(e){return eu(ou(e),ol(e),function(n,a){var i=xc(!0,n),l=xc(!1,a);return Nl(e,i).forall(function(v){return v.isEqual(l)})}).getOr(!0)},H$=function(e,n){return function(a){return Cf(n,a).exists(function(i){return v3(e,i),!0})}},V$=function(e,n,a,i){var l=e.getBody(),v=ce(Ug,e);e.undoManager.ignore(function(){e.selection.setRng(qN(a,i)),e.execCommand("Delete"),Ac(v,l,mt.fromRangeStart(e.selection.getRng())).map(rO).map(H$(e,n))}),e.nodeChanged()},KN=function(e,n){var a=pc(n,e);return a||e},XN=function(e,n,a,i){var l=KN(e.getBody(),i.container()),v=ce(Ug,e),p=Ac(v,l,i);return p.bind(function(S){return a?S.fold(j(te.some(rO(S))),te.none,j(te.some(i3(S))),te.none):S.fold(te.none,j(te.some(i3(S))),te.none,j(te.some(rO(S))))}).map(H$(e,n)).getOrThunk(function(){var S=yc(a,l,i),A=S.bind(function(F){return Ac(v,l,F)});return eu(p,A,function(){return Wg(v,l,i).exists(function(F){return Cv(F)?(Dn(e,a,Ge.fromDom(F)),!0):!1})}).orThunk(function(){return A.bind(function(F){return S.map(function(X){return a?V$(e,n,i,X):V$(e,n,X,i),!0})})}).getOr(!1)})},h3=function(e,n,a){if(e.selection.isCollapsed()&&Jp(e)){var i=mt.fromRangeStart(e.selection.getRng());return XN(e,n,a,i)}return!1},YN=function(e,n){var a=Cc(n,e);return pn(a,Ts).fold(j(a),function(i){return a.slice(0,i)})},ZN=function(e){return hb(e)===1},Kg=function(e,n,a,i){var l=ce(U8,n),v=et(ut(i,l),function(S){return S.dom});if(v.length===0)Dn(n,e,a);else{var p=wy(a.dom,v);n.selection.setRng(p.toRange())}},JN=function(e,n){var a=Ge.fromDom(e.getBody()),i=Ge.fromDom(e.selection.getStart()),l=ut(YN(a,i),ZN);return Ur(l).exists(function(v){var p=mt.fromRangeStart(e.selection.getRng());return tN(n,p,v.dom)&&!W8(v)?(Kg(n,e,v,l),!0):!1})},g3=function(e,n){return e.selection.isCollapsed()?JN(e,n):!1},p3=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),Dn(e,n,Ge.fromDom(a)),!0},dO=function(e,n){var a=n?Eg:Tg,i=n?$i.Forwards:$i.Backwards,l=sg(i,e.getBody(),e.selection.getRng());return a(l)?p3(e,n,l.getNode(!n)):te.from(xc(n,l)).filter(function(v){return a(v)&&k0(l,v)}).exists(function(v){return p3(e,n,v.getNode(!n))})},QN=function(e,n){var a=e.selection.getNode();return Mu(a)?p3(e,n,a):!1},b3=function(e,n){return e.selection.isCollapsed()?dO(e,n):QN(e,n)},ez=function(e){return Ch(e,function(n){return El(n.dom)||Ua(n.dom)}).exists(function(n){return El(n.dom)})},Pm=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},U$=function(e,n){var a=e||OA(n)?"margin":"padding",i=yr(n,"direction")==="rtl"?"-right":"-left";return a+i},tz=function(e,n,a,i,l,v){var p=U$(a,Ge.fromDom(v));if(n==="outdent"){var S=Math.max(0,Pm(v.style[p])-i);e.setStyle(v,p,S?S+l:"")}else{var S=Pm(v.style[p])+i+l;e.setStyle(v,p,S)}},nz=function(e,n){return qr(n,function(a){var i=U$(RS(e),a),l=ki(a,i).map(Pm).getOr(0),v=e.dom.getContentEditable(a.dom);return v!=="false"&&l>0})},W$=function(e){var n=hO(e);return!e.mode.isReadOnly()&&(n.length>1||nz(e,n))},y3=function(e){return Dl(e)||ji(e)},mO=function(e){return ao(e).exists(y3)},hO=function(e){return ut(ei(e.selection.getSelectedBlocks()),function(n){return!y3(n)&&!mO(n)&&ez(n)})},gO=function(e,n){var a=e.dom,i=e.selection,l=e.formatter,v=sw(e),p=/[a-z%]+$/i.exec(v)[0],S=parseInt(v,10),A=RS(e),F=Ri(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&F===""&&!a.getParent(i.getNode(),a.isBlock)&&l.apply("div"),Le(hO(e),function(X){tz(a,n,A,S,p,X.dom)})},pO=function(e,n){if(e.selection.isCollapsed()&&W$(e)){var a=e.dom,i=e.selection.getRng(),l=mt.fromRangeStart(i),v=a.getParent(i.startContainer,a.isBlock);if(v!==null&&lr(Ge.fromDom(v),l))return gO(e,"outdent"),!0}return!1},j$=function(e,n){e.getDoc().execCommand(n,!1,null)},v_=function(e,n){if(!pO(e)){if(r3(e,!1))return;if(r_(e,!1))return;if(h3(e,n,!1))return;if(Qk(e,!1))return;if(Ck(e))return;if(Dy(e,!1))return;if(b3(e,!1))return;if(P1(e))return;if(g3(e,!1))return;j$(e,"Delete"),WT(e)}},rz=function(e,n){if(!r3(e,!0)){if(r_(e,!0))return;if(h3(e,n,!0))return;if(Qk(e,!0))return;if(Ck(e))return;if(Dy(e,!0))return;if(b3(e,!0))return;if(P1(e))return;if(g3(e,!0))return;j$(e,"ForwardDelete")}},az=function(e,n){e.addCommand("delete",function(){v_(e,n)}),e.addCommand("forwardDelete",function(){rz(e,n)})},G$=5,By=400,q$=function(e){return e.touches===void 0||e.touches.length!==1?te.none():te.some(e.touches[0])},Im=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>G$||i>G$},oz=function(e){var n=nd(),a=yu(!1),i=Qo(function(l){e.fire("longpress",qn(qn({},l),{type:"longpress"})),a.set(!0)},By);e.on("touchstart",function(l){q$(l).each(function(v){i.cancel();var p={x:v.clientX,y:v.clientY,target:l.target};i.throttle(l),a.set(!1),n.set(p)})},!0),e.on("touchmove",function(l){i.cancel(),q$(l).each(function(v){n.on(function(p){Im(v,p)&&(n.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(l){i.cancel(),l.type!=="touchcancel"&&n.get().filter(function(v){return v.target.isEqualNode(l.target)}).each(function(){a.get()?l.preventDefault():e.fire("tap",qn(qn({},l),{type:"tap"}))})},!0)},d_=function(e,n){return Dr(e,n.nodeName)},bO=function(e,n){return gn(n)?!0:Jn(n)?!d_(e,n)&&!Vu(n):!1},iz=function(e,n,a){return Je(w1(Ge.fromDom(a),Ge.fromDom(n)),function(i){return d_(e,i.dom)})},uz=function(e,n){if(gn(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||d_(e,n.nextSibling)))return!0}return!1},sz=function(e){var n=e.dom,a=e.selection,i=e.schema,l=i.getBlockElements(),v=a.getStart(),p=e.getBody(),S,A,F,X=Ri(e);if(!(!v||!Jn(v)||!X)){var Z=p.nodeName.toLowerCase();if(!(!i.isValidChild(Z,X.toLowerCase())||iz(l,p,v))){var Q=a.getRng(),fe=Q.startContainer,de=Q.startOffset,ge=Q.endContainer,pe=Q.endOffset,Oe=sl(e);for(v=p.firstChild;v;)if(bO(l,v)){if(uz(l,v)){A=v,v=v.nextSibling,n.remove(A);continue}S||(S=n.create(X,Kh(e)),v.parentNode.insertBefore(S,v),F=!0),A=v,v=v.nextSibling,S.appendChild(A)}else S=null,v=v.nextSibling;F&&Oe&&(Q.setStart(fe,de),Q.setEnd(ge,pe),a.setRng(Q),e.nodeChanged())}}},K$=function(e){Ri(e)&&e.on("NodeChange",ce(sz,e))},lz=function(e){return _h(Ge.fromDom(e.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull()},cz=function(e){e.selection.setRng(e.selection.getRng())},X$=function(e,n){n.hasAttribute("data-mce-caret")&&(d2(n),cz(e),e.selection.scrollIntoView(n))},fz=function(e,n){var a=lz(e);if(a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),X$(e,a);return}Jf(a)&&(X$(e,a),e.undoManager.add())}},Y$=function(e){e.on("keyup compositionstart",ce(fz,e))},Z$=Ua,F1=function(e,n,a){return M$(n,e,a,Hl,_d,Z$)},vz=function(e,n,a){var i=function(v){return Hl(v)||uk(v)},l=function(v){return _d(v)||CC(v)};return cO(n,e,a,i,l,Z$)},m_=function(e){var n=e.dom.create(Ri(e));return(!Wn.ie||Wn.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},yO=function(e,n,a){var i=go(e.getBody()),l=ce(Cw,n===1?i.next:i.prev);if(a.collapsed&&y4(e)){var v=e.dom.getParent(a.startContainer,"PRE");if(!v)return;var p=l(mt.fromRangeStart(a));if(!p){var S=m_(e);n===1?e.$(v).after(S):e.$(v).before(S),e.selection.select(S,!0),e.selection.collapse()}}},wO=function(e,n){var a=n?$i.Forwards:$i.Backwards,i=e.selection.getRng();return F1(a,e,i).orThunk(function(){return yO(e,a,i),te.none()})},CO=function(e,n){var a=n?1:-1,i=e.selection.getRng();return vz(a,e,i).orThunk(function(){return yO(e,a,i),te.none()})},J$=function(e,n){return wO(e,n).exists(function(a){return Ed(e,a),!0})},Q$=function(e,n){return CO(e,n).exists(function(a){return Ed(e,a),!0})},eB=function(e,n){var a=n?_d:Hl;return vO(e,n,a)},_O=function(e){return Ae(["figcaption"],ko(e))},tB=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},nB=function(e,n,a){a?Ho(e,n):Qs(e,n)},dz=function(e,n){var a=Ge.fromTag("br");return nB(e,a,n),tB(a)},mz=function(e,n,a,i){var l=Ge.fromTag(a),v=Ge.fromTag("br");return Y(l,i),Ho(l,v),nB(e,l,n),tB(v)},rB=function(e,n,a,i){return n===""?dz(e,i):mz(e,i,n,a)},hz=function(e,n){var a=ce(Ma,n);return Ch(Ge.fromDom(e.container()),Ts,a).filter(_O)},gz=function(e,n,a){return n?$N(e.dom,a):RN(e.dom,a)},pz=function(e,n){var a=Ge.fromDom(e.getBody()),i=mt.fromRangeStart(e.selection.getRng()),l=Ri(e),v=Kh(e);return hz(i,a).exists(function(){if(gz(a,n,i)){var p=rB(a,l,v,n);return e.selection.setRng(p),!0}else return!1})},aB=function(e,n){return e.selection.isCollapsed()?pz(e,n):!1},bz=function(e){return et(e,function(n){return qn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Ee},n)})},yz=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},wz=function(e,n){return vr(bz(e),function(a){return yz(a,n)?[a]:[]})},Fr=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},L1=function(e,n){return rn(wz(e,n),function(a){return a.action()})},oB=function(e,n){var a=n?$i.Forwards:$i.Backwards,i=e.selection.getRng();return M$(e,a,i,Eg,Tg,Mu).exists(function(l){return Ed(e,l),!0})},SO=function(e,n){var a=n?1:-1,i=e.selection.getRng();return cO(e,a,i,Eg,Tg,Mu).exists(function(l){return Ed(e,l),!0})},iB=function(e,n){var a=n?Tg:Eg;return vO(e,n,a)},Cz=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},_z=function(e,n){return vr(n,function(a){var i=Cz(rd(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},Sz=function(e,n,a){return $t(e,function(i,l){return i.fold(function(){return te.some(l)},function(v){var p=Math.sqrt(Math.abs(v.x-n)+Math.abs(v.y-a)),S=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-a));return te.some(S<p?l:v)})},te.none())},uB=function(e,n,a,i,l){var v=Di(Ge.fromDom(a),"td,th,caption").map(function(S){return S.dom}),p=ut(_z(e,v),function(S){return n(S,l)});return Sz(p,i,l).map(function(S){return S.cell})},xz=function(e){return e.bottom},kz=function(e){return e.top},Az=function(e,n){return e.y<n},Ez=function(e,n){return e.y>n},Tz=ce(uB,xz,Az),Oz=ce(uB,kz,Ez),Dz=function(e,n){return da(n.getClientRects()).bind(function(a){return Tz(e,a.left,a.top)}).bind(function(a){return T$(BN(a),n)})},Rz=function(e,n){return Ur(n.getClientRects()).bind(function(a){return Oz(e,a.left,a.top)}).bind(function(a){return T$(aO(a),n)})},sB=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},$z=function(e){return e.breakType===Ad.Wrap&&e.positions.length===0},Bz=function(e){return e.breakType===Ad.Br&&e.positions.length===1},xO=function(e,n,a){var i=e(n,a);return $z(i)||!wa(a.getNode())&&Bz(i)?!sB(e,n,i):i.breakAt.isNone()},lB=ce(xO,l_),w3=ce(xO,c_),cB=function(e,n,a){var i=mt.fromRangeStart(n);return lv(!e,a).exists(function(l){return l.isEqual(i)})},kO=function(e,n,a,i){var l=e.selection.getRng(),v=n?1:-1;return bw()&&cB(n,l,a)?(wv(v,e,a,!n,!1).each(function(p){Ed(e,p)}),!0):!1},AO=function(e,n,a){return Dz(n,a).orThunk(function(){return da(a.getClientRects()).bind(function(i){return s_(DN(e,mt.before(n)),i.left)})}).getOr(mt.before(n))},fB=function(e,n,a){return Rz(n,a).orThunk(function(){return da(a.getClientRects()).bind(function(i){return s_(O$(e,mt.after(n)),i.left)})}).getOr(mt.after(n))},vB=function(e,n){var a=n.getNode(e);return Jn(a)&&a.nodeName==="TABLE"?te.some(a):te.none()},dB=function(e,n,a,i){var l=Ri(n);l?n.undoManager.transact(function(){var v=Ge.fromTag(l);Y(v,Kh(n)),Ho(v,Ge.fromTag("br")),e?Nv(Ge.fromDom(a),v):Si(Ge.fromDom(a),v);var p=n.dom.createRng();p.setStart(v.dom,0),p.setEnd(v.dom,0),Ed(n,p)}):Ed(n,i.toRange())},H1=function(e,n,a){var i=vB(!!n,a),l=n===!1;i.fold(function(){return Ed(e,a.toRange())},function(v){return lv(l,e.getBody()).filter(function(p){return p.isEqual(a)}).fold(function(){return Ed(e,a.toRange())},function(p){return dB(n,e,v,a)})})},mB=function(e,n,a,i){var l=e.selection.getRng(),v=mt.fromRangeStart(l),p=e.getBody();if(!n&&lB(i,v)){var S=AO(p,a,v);return H1(e,n,S),!0}else if(n&&w3(i,v)){var S=fB(p,a,v);return H1(e,n,S),!0}else return!1},C3=function(e,n,a){return te.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return te.from(e.dom.getParent(i,"table")).map(function(l){return a(e,n,l,i)})}).getOr(!1)},hB=function(e,n){return C3(e,n,kO)},_3=function(e,n){return C3(e,n,mB)},Mz=function(e,n,a){var i=Bn().os;L1([{keyCode:Gn.RIGHT,action:Fr(J$,e,!0)},{keyCode:Gn.LEFT,action:Fr(J$,e,!1)},{keyCode:Gn.UP,action:Fr(Q$,e,!1)},{keyCode:Gn.DOWN,action:Fr(Q$,e,!0)},{keyCode:Gn.RIGHT,action:Fr(hB,e,!0)},{keyCode:Gn.LEFT,action:Fr(hB,e,!1)},{keyCode:Gn.UP,action:Fr(_3,e,!1)},{keyCode:Gn.DOWN,action:Fr(_3,e,!0)},{keyCode:Gn.RIGHT,action:Fr(oB,e,!0)},{keyCode:Gn.LEFT,action:Fr(oB,e,!1)},{keyCode:Gn.UP,action:Fr(SO,e,!1)},{keyCode:Gn.DOWN,action:Fr(SO,e,!0)},{keyCode:Gn.RIGHT,action:Fr(d3,e,n,!0)},{keyCode:Gn.LEFT,action:Fr(d3,e,n,!1)},{keyCode:Gn.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Fr(jN,e,n)},{keyCode:Gn.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Fr(GN,e,n)},{keyCode:Gn.UP,action:Fr(aB,e,!1)},{keyCode:Gn.DOWN,action:Fr(aB,e,!0)}],a).each(function(l){a.preventDefault()})},Pz=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&Mz(e,n,a)})},Iz=function(e,n,a){L1([{keyCode:Gn.BACKSPACE,action:Fr(pO,e,!1)},{keyCode:Gn.BACKSPACE,action:Fr(r3,e,!1)},{keyCode:Gn.DELETE,action:Fr(r3,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(r_,e,!1)},{keyCode:Gn.DELETE,action:Fr(r_,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(h3,e,n,!1)},{keyCode:Gn.DELETE,action:Fr(h3,e,n,!0)},{keyCode:Gn.BACKSPACE,action:Fr(Ck,e,!1)},{keyCode:Gn.DELETE,action:Fr(Ck,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(Dy,e,!1)},{keyCode:Gn.DELETE,action:Fr(Dy,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(b3,e,!1)},{keyCode:Gn.DELETE,action:Fr(b3,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(P1,e,!1)},{keyCode:Gn.DELETE,action:Fr(P1,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(Qk,e,!1)},{keyCode:Gn.DELETE,action:Fr(Qk,e,!0)},{keyCode:Gn.BACKSPACE,action:Fr(g3,e,!1)},{keyCode:Gn.DELETE,action:Fr(g3,e,!0)}],a).each(function(i){a.preventDefault()})},Nz=function(e,n){L1([{keyCode:Gn.BACKSPACE,action:Fr(h$,e)},{keyCode:Gn.DELETE,action:Fr(h$,e)}],n)},zz=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&Iz(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&Nz(e,a)})},Fz=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},My=function(e,n){var a,i=n,l=e.dom,v=e.schema.getMoveCaretBeforeOnEnterElements();if(n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var p=Fz(n.firstChild);p&&/^(UL|OL|DL)$/.test(p.nodeName)&&n.insertBefore(l.doc.createTextNode(us),n.firstChild)}var S=l.createRng();if(n.normalize(),n.hasChildNodes()){for(var A=new sa(n,n);a=A.current();){if(gn(a)){S.setStart(a,0),S.setEnd(a,0);break}if(v[a.nodeName.toLowerCase()]){S.setStartBefore(a),S.setEndBefore(a);break}i=a,a=A.next()}a||(S.setStart(i,0),S.setEnd(i,0))}else wa(n)?n.nextSibling&&l.isBlock(n.nextSibling)?(S.setStartBefore(n),S.setEndBefore(n)):(S.setStartAfter(n),S.setEndAfter(n)):(S.setStart(n,0),S.setEnd(n,0));e.selection.setRng(S),f1(e,S)}},Py=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},EO=function(e){return te.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},TO=function(e){return EO(e).fold(j(""),function(n){return n.nodeName.toUpperCase()})},Lz=function(e){return EO(e).filter(function(n){return ji(Ge.fromDom(n))}).isSome()},gB=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},pB=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},OO=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},DO=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},RO=function(e){return DO(e)&&DO(e.parentNode)},h_=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},S3=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!Jn(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},Hz=function(e,n,a,i,l){var v=e.dom,p=e.selection.getRng();if(a!==e.getBody()){RO(a)&&(l="LI");var S=l?n(l):v.create("BR");if(S3(a,i,!0)&&S3(a,i,!1))if(OO(a,"LI")){var A=h_(a);v.insertAfter(S,A),pB(a)?v.remove(A):v.remove(a)}else v.replace(S,a);else if(S3(a,i,!0))OO(a,"LI")?(v.insertAfter(S,h_(a)),S.appendChild(v.doc.createTextNode(" ")),S.appendChild(a)):a.parentNode.insertBefore(S,a),v.remove(i);else if(S3(a,i,!1))v.insertAfter(S,h_(a)),v.remove(i);else{a=h_(a);var F=p.cloneRange();F.setStartAfter(i),F.setEndAfter(a);var X=F.extractContents();l==="LI"&&gB(X,"LI")?(S=X.firstChild,v.insertAfter(X,a)):(v.insertAfter(X,a),v.insertAfter(S,a)),v.remove(i)}My(e,S)}},x3=function(e){Le(Hh(Ge.fromDom(e),Ya),function(n){var a=n.dom;a.nodeValue=lc(a.nodeValue)})},Vz=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},Uz=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},$O=function(e){e.innerHTML='<br data-mce-bogus="1">'},k3=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},bB=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},Wz=function(e,n,a){var i=a,l=[],v;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;Jn(i)&&!n[i.nodeName.toLowerCase()]&&l.push(i)}for(v=l.length;v--;)i=l[v],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||Vz(e,i))&&e.remove(i)}},Vs=function(e,n,a){return gn(n)===!1?a:e?a===1&&n.data.charAt(a-1)===He?0:a:a===n.data.length-1&&n.data.charAt(a)===He?n.data.length:a},jz=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,Vs(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,Vs(!1,e.endContainer,e.endOffset)),n},BO=function(e){do gn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},MO=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},PO=function(e,n,a){var i=e.dom;te.from(a.style).map(i.parseStyle).each(function(A){var F=oo(Ge.fromDom(n)),X=qn(qn({},F),A);i.setStyles(n,X)});var l=te.from(a.class).map(function(A){return A.split(/\s+/)}),v=te.from(n.className).map(function(A){return ut(A.split(/\s+/),function(F){return F!==""})});eu(l,v,function(A,F){var X=ut(F,function(Q){return!Ae(A,Q)}),Z=Ou(Ou([],A,!0),X,!0);i.setAttrib(n,"class",Z.join(" "))});var p=["style","class"],S=co(a,function(A,F){return!Ae(p,F)});i.setAttribs(n,S)},g_=function(e,n){var a=Ri(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=Kh(e);PO(e,n,i)}},Gz=function(e,n,a,i,l){var v,p,S,A,F,X,Z=n||"P",Q=e.dom,fe=MO(Q,i);if(p=Q.getParent(i,Q.isBlock),!p||!bB(Q,p)){if(p=p||fe,p===e.getBody()||Uz(p)?X=p.nodeName.toLowerCase():X=p.parentNode.nodeName.toLowerCase(),!p.hasChildNodes())return v=Q.create(Z),g_(e,v),p.appendChild(v),a.setStart(v,0),a.setEnd(v,0),v;for(A=i;A.parentNode!==p;)A=A.parentNode;for(;A&&!Q.isBlock(A);)S=A,A=A.previousSibling;if(S&&e.schema.isValidChild(X,Z.toLowerCase())){for(v=Q.create(Z),g_(e,v),S.parentNode.insertBefore(v,S),A=S;A&&!Q.isBlock(A);)F=A.nextSibling,v.appendChild(A),A=F;a.setStart(i,l),a.setEnd(i,l)}}return i},yB=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},qz=function(e,n){var a,i,l,v,p,S,A,F,X,Z,Q=e.dom,fe=e.schema,de=fe.getNonEmptyElements(),ge=e.selection.getRng(),pe=function(xt){var Lt=i,jn,mn,Mt,Un=fe.getTextInlineElements();if(xt||F==="TABLE"||F==="HR"?jn=Q.create(xt||X):jn=v.cloneNode(!1),Mt=jn,f4(e)===!1)Q.setAttrib(jn,"style",null),Q.setAttrib(jn,"class",null);else do if(Un[Lt.nodeName]){if(af(Lt)||Vu(Lt))continue;mn=Lt.cloneNode(!1),Q.setAttrib(mn,"id",""),jn.hasChildNodes()?(mn.appendChild(jn.firstChild),jn.appendChild(mn)):(Mt=mn,jn.appendChild(mn))}while((Lt=Lt.parentNode)&&Lt!==Re);return g_(e,jn),$O(Mt),jn},Oe=function(xt){var Lt,jn,mn=Vs(xt,i,l);if(gn(i)&&(xt?mn>0:mn<i.nodeValue.length))return!1;if(i.parentNode===v&&Z&&!xt||xt&&Jn(i)&&i===v.firstChild)return!0;if(k3(i,"TABLE")||k3(i,"HR"))return Z&&!xt||!Z&&xt;var Mt=new sa(i,v);for(gn(i)&&(xt&&mn===0?Mt.prev():!xt&&mn===i.nodeValue.length&&Mt.next());Lt=Mt.current();){if(Jn(Lt)){if(!Lt.getAttribute("data-mce-bogus")&&(jn=Lt.nodeName.toLowerCase(),de[jn]&&jn!=="br"))return!1}else if(gn(Lt)&&!Rl(Lt.nodeValue))return!1;xt?Mt.prev():Mt.next()}return!0},xe=function(){/^(H[1-6]|PRE|FIGURE)$/.test(F)&&Qe!=="HGROUP"?p=pe(X):p=pe(),Xp(e)&&bB(Q,A)&&Q.isEmpty(v)?p=Q.split(A,v):Q.insertAfter(p,v),My(e,p)};W0(Q,ge).each(function(xt){ge.setStart(xt.startContainer,xt.startOffset),ge.setEnd(xt.endContainer,xt.endOffset)}),i=ge.startContainer,l=ge.startOffset,X=Ri(e);var Ye=!!(n&&n.shiftKey),je=!!(n&&n.ctrlKey);Jn(i)&&i.hasChildNodes()&&(Z=l>i.childNodes.length-1,i=i.childNodes[Math.min(l,i.childNodes.length-1)]||i,Z&&gn(i)?l=i.nodeValue.length:l=0);var Re=MO(Q,i);if(Re){(X&&!Ye||!X&&Ye)&&(i=Gz(e,X,ge,i,l)),v=Q.getParent(i,Q.isBlock),A=v?Q.getParent(v.parentNode,Q.isBlock):null,F=v?v.nodeName.toUpperCase():"";var Qe=A?A.nodeName.toUpperCase():"";if(Qe==="LI"&&!je&&(v=A,A=A.parentNode,F=Qe),/^(LI|DT|DD)$/.test(F)&&Q.isEmpty(v)){Hz(e,pe,A,v,X);return}X&&v===e.getBody()||(X=X||"P",Ca(v)?(p=d2(v),Q.isEmpty(v)&&$O(v),g_(e,p),My(e,p)):Oe()?xe():Oe(!0)?(p=v.parentNode.insertBefore(pe(),v),My(e,k3(v,"HR")?p:v)):(a=jz(ge).cloneRange(),a.setEndAfter(v),S=a.extractContents(),x3(S),BO(S),p=S.firstChild,Q.insertAfter(S,v),Wz(Q,de,p),yB(Q,v),Q.isEmpty(v)&&$O(v),p.normalize(),Q.isEmpty(p)?(Q.remove(p),xe()):(g_(e,p),My(e,p))),Q.setAttrib(p,"id",""),e.fire("NewBlock",{newBlock:p}))}},Kz=function(e,n,a){for(var i=new sa(n,a),l,v=e.getNonEmptyElements();l=i.next();)if(v[l.nodeName.toLowerCase()]||l.length>0)return!0},wB=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),f1(e,i)},Xz=function(e,n){var a=e.selection,i=e.dom,l=a.getRng(),v,p;W0(i,l).each(function(de){l.setStart(de.startContainer,de.startOffset),l.setEnd(de.endContainer,de.endOffset)});var S=l.startOffset,A=l.startContainer;if(A.nodeType===1&&A.hasChildNodes()){var F=S>A.childNodes.length-1;A=A.childNodes[Math.min(S,A.childNodes.length-1)]||A,F&&A.nodeType===3?S=A.nodeValue.length:S=0}var X=i.getParent(A,i.isBlock),Z=X?i.getParent(X.parentNode,i.isBlock):null,Q=Z?Z.nodeName.toUpperCase():"",fe=!!(n&&n.ctrlKey);Q==="LI"&&!fe&&(X=Z),A&&A.nodeType===3&&S>=A.nodeValue.length&&(Kz(e.schema,A,X)||(v=i.create("br"),l.insertNode(v),l.setStartAfter(v),l.setEndAfter(v),p=!0)),v=i.create("br"),i0(i,l,v),wB(e,v,p),e.undoManager.add()},Yz=function(e,n){var a=Ge.fromTag("br");Si(Ge.fromDom(n),a),e.undoManager.add()},Zz=function(e,n){Qz(e.getBody(),n)||Nv(Ge.fromDom(n),Ge.fromTag("br"));var a=Ge.fromTag("br");Nv(Ge.fromDom(n),a),wB(e,a.dom,!1),e.undoManager.add()},Jz=function(e){return wa(e.getNode())},Qz=function(e,n){return Jz(mt.after(n))?!0:Nl(e,mt.after(n)).map(function(a){return wa(a.getNode())}).getOr(!1)},CB=function(e){return e&&e.nodeName==="A"&&"href"in e},Au=function(e){return e.fold(ot,CB,CB,ot)},eF=function(e){var n=ce(Ug,e),a=mt.fromRangeStart(e.selection.getRng());return Ac(n,e.getBody(),a).filter(Au)},tF=function(e,n){n.fold(Ee,ce(Yz,e),ce(Zz,e),Ee)},_B=function(e,n){var a=eF(e);a.isSome()?a.each(ce(tF,e)):Xz(e,n)},gs=function(e,n){return EO(e).filter(function(a){return n.length>0&&ec(Ge.fromDom(a),n)}).isSome()},nF=function(e){return gs(e,Xh(e))},SB=function(e){return gs(e,DS(e))},Wl=Mn.generate([{br:[]},{block:[]},{none:[]}]),Iy=function(e,n){return SB(e)},IO=function(e){return function(n,a){var i=Ri(n)==="";return i===e}},xB=function(e){return function(n,a){return Lz(n)===e}},A3=function(e,n){return function(a,i){var l=TO(a)===e.toUpperCase();return l===n}},E3=function(e){return A3("pre",e)},rF=function(){return A3("summary",!0)},T3=function(e){return function(n,a){return iw(n)===e}},aF=function(e,n){return nF(e)},p_=function(e,n){return n},kB=function(e){var n=Ri(e),a=Py(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},Us=function(e,n){return function(a,i){var l=$t(e,function(v,p){return v&&p(a,i)},!0);return l?te.some(n):te.none()}},AB=function(e,n){return kc([Us([Iy],Wl.none()),Us([rF()],Wl.br()),Us([E3(!0),T3(!1),p_],Wl.br()),Us([E3(!0),T3(!1)],Wl.block()),Us([E3(!0),T3(!0),p_],Wl.block()),Us([E3(!0),T3(!0)],Wl.br()),Us([xB(!0),p_],Wl.br()),Us([xB(!0)],Wl.block()),Us([IO(!0),p_,kB],Wl.block()),Us([IO(!0)],Wl.br()),Us([aF],Wl.br()),Us([IO(!1),p_],Wl.br()),Us([kB],Wl.block())],[e,!!(n&&n.shiftKey)]).getOr(Wl.none())},EB=function(e,n){AB(e,n).fold(function(){_B(e,n)},function(){qz(e,n)},Ee)},oF=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),kP(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),EB(e,n)}))},iF=function(e){e.on("keydown",function(n){n.keyCode===Gn.ENTER&&oF(e,n)})},uF=function(e,n,a){L1([{keyCode:Gn.END,action:Fr(eB,e,!0)},{keyCode:Gn.HOME,action:Fr(eB,e,!1)},{keyCode:Gn.END,action:Fr(iB,e,!0)},{keyCode:Gn.HOME,action:Fr(iB,e,!1)},{keyCode:Gn.END,action:Fr(m3,e,!0,n)},{keyCode:Gn.HOME,action:Fr(m3,e,!1,n)}],a).each(function(i){a.preventDefault()})},sF=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&uF(e,n,a)})},NO=Bn().browser,TB=function(e){var n=Kb(function(){e.composing||TC(e)},0);NO.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},OB=function(e){TB(e),e.on("input",function(n){n.isComposing===!1&&TC(e)})},DB=Bn(),lF=function(e,n,a){L1([{keyCode:Gn.PAGE_UP,action:Fr(m3,e,!1,n)},{keyCode:Gn.PAGE_DOWN,action:Fr(m3,e,!0,n)}],a)},RB=function(e){return e.stopImmediatePropagation()},$B=function(e){return e.keyCode===Gn.PAGE_UP||e.keyCode===Gn.PAGE_DOWN},BB=function(e,n,a){a&&!e.get()?n.on("NodeChange",RB,!0):!a&&e.get()&&n.off("NodeChange",RB),e.set(a)},cF=function(e,n){if(!DB.os.isOSX()){var a=yu(!1);e.on("keydown",function(i){$B(i)&&BB(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&lF(e,n,i),$B(i)&&a.get()&&(BB(a,e,!1),e.nodeChanged())})}},MB=function(e,n){var a=n.container(),i=n.offset();return gn(a)?(a.insertData(i,e),te.some(mt(a,i+e.length))):x0(n).map(function(l){var v=Ge.fromText(e);return n.isAtEnd()?Nv(l,v):Si(l,v),mt(v.dom,e.length)})},PB=ce(MB,us),fF=ce(MB," "),vF=function(e){return function(n){return n.fold(function(a){return wc(e.dom,mt.before(a))},function(a){return ou(a)},function(a){return ol(a)},function(a){return Nl(e.dom,mt.after(a))})}},dF=function(e,n){return function(a){return RE(e,a)?PB(n):fF(n)}},mF=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},IB=function(e){var n=mt.fromRangeStart(e.selection.getRng()),a=Ge.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=ce(Ug,e),l=mt.fromRangeStart(e.selection.getRng());return Ac(i,e.getBody(),l).bind(vF(a)).bind(dF(a,n)).exists(mF(e))}else return!1},hF=function(e,n){L1([{keyCode:Gn.SPACEBAR,action:Fr(IB,e)}],n).each(function(a){n.preventDefault()})},gF=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&hF(e,n)})},pF=function(e){var n=WN(e);return Y$(e),Pz(e,n),zz(e,n),iF(e),gF(e),OB(e),sF(e,n),cF(e,n),n},bF=function(e){return Dm(e)?yu(null):pF(e)},NB=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(l){var v=n.selection.getRng(),p={startContainer:v.startContainer,startOffset:v.startOffset,endContainer:v.endContainer,endOffset:v.endOffset};(l.type==="nodechange"||!Yw(p,a))&&n.fire("SelectionChange"),a=p}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var l=n.selection.getStart(!0);!l||!Wn.range&&n.selection.isCollapsed()||dd(n)&&!i.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(l){!l.isDefaultPrevented()&&dd(n)&&(n.selection.getNode().nodeName==="IMG"?Wi.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,l,v;this.editor.initialized&&a&&!w4(this.editor)&&!this.editor.mode.isReadOnly()&&(v=this.editor.getBody(),i=a.getStart(!0)||v,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,v))&&(i=v),l=[],this.editor.dom.getParent(i,function(p){if(p===v)return!0;l.push(p)}),n=n||{},n.element=i,n.parents=l,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),O3=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},zB=function(e){e.parser.addNodeFilter("details",function(n){Le(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){Le(n,function(a){var i=a.attr("data-mce-open");a.attr("open",$e(i)?i:null),a.attr("data-mce-open",null)})})},FB=function(e){O3(e),zB(e)},LB=function(e){return Jn(e)&&Wc(Ge.fromDom(e))},yF=function(e){var n=e.selection.getRng(),a=mt.fromRangeStart(n),i=mt.fromRangeEnd(n);if(mt.isElementPosition(a)){var l=a.container();LB(l)&&ou(l).each(function(v){return n.setStart(v.container(),v.offset())})}if(mt.isElementPosition(i)){var l=a.container();LB(l)&&ol(l).each(function(p){return n.setEnd(p.container(),p.offset())})}e.selection.setRng(LE(n))},zO=function(e){e.on("click",function(n){n.detail>=3&&yF(e)})},HB=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,l=a.defaultView;return{top:n.top+l.pageYOffset-i.clientTop,left:n.left+l.pageXOffset-i.clientLeft}},wF=function(e){return e.inline?HB(e.getBody()):{left:0,top:0}},CF=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},_F=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:l},Sf=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=HB(e.getContentAreaContainer()),i=_F(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},VB=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},UB=function(e,n){return VB(wF(e),CF(e),Sf(e,n))},D3=Ua,SF=El,xF=function(e,n){return D3(n)&&n!==e},kF=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!D3(n)},AF=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},EF=function(e,n,a,i){var l=e.dom,v=n.cloneNode(!0);l.setStyles(v,{width:a,height:i}),l.setAttrib(v,"data-mce-selected",null);var p=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),l.setStyles(v,{margin:0,boxSizing:"border-box"}),p.appendChild(v),p},TF=function(e,n){e.parentNode!==n&&n.appendChild(e)},FO=function(e,n,a,i,l,v){var p=0,S=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>l&&(p=n.pageX+a-l),n.pageY+i>v&&(S=n.pageY+i-v),e.style.width=a-p+"px",e.style.height=i-S+"px"},WB=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},OF=function(e){return e.button===0},jB=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},DF=function(e,n){return function(a){if(OF(a)){var i=rn(n.dom.getParents(a.target),t4(D3,SF)).getOr(null);if(xF(n.getBody(),i)){var l=n.dom.getPos(i),v=n.getBody(),p=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?v.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?v.scrollHeight:p.offsetHeight)-2,relX:a.pageX-l.x,relY:a.pageY-l.y,width:i.offsetWidth,height:i.offsetHeight,ghost:EF(n,i,i.offsetWidth,i.offsetHeight)})}}}},RF=function(e,n){var a=Wi.throttle(function(i,l){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,l)},0);return n.on("remove",a.stop),function(i){return e.on(function(l){var v=Math.max(Math.abs(i.screenX-l.screenX),Math.abs(i.screenY-l.screenY));if(!l.dragging&&v>10){var p=n.fire("dragstart",{target:l.element});if(p.isDefaultPrevented())return;l.dragging=!0,n.focus()}if(l.dragging){var S=jB(l,UB(n,i));TF(l.ghost,n.getBody()),FO(l.ghost,S,l.width,l.height,l.maxX,l.maxY),a(i.clientX,i.clientY)}})}},$F=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},BF=function(e,n){return function(a){e.on(function(i){if(i.dragging){if(kF(n,$F(n.selection),i.element)){var l=AF(i.element),v=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});v.isDefaultPrevented()||n.undoManager.transact(function(){WB(i.element),n.insertContent(n.dom.getOuterHTML(l)),n._selectionOverrides.hideFakeCaret()})}n.fire("dragend")}}),GB(e)}},MF=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),GB(e)}},GB=function(e){e.on(function(n){WB(n.ghost)}),e.clear()},LO=function(e){var n=nd(),a=Na.DOM,i=document,l=DF(n,e),v=RF(n,e),p=BF(n,e),S=MF(n,e);e.on("mousedown",l),e.on("mousemove",v),e.on("mouseup",p),a.bind(i,"mousemove",v),a.bind(i,"mouseup",S),e.on("remove",function(){a.unbind(i,"mousemove",v),a.unbind(i,"mouseup",S)}),e.on("keydown",function(A){A.keyCode===Gn.ESC&&S()})},PF=function(e){e.on("drop",function(n){var a=typeof n.clientX<"u"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(D3(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},qB=function(e){var n=function(l){if(!l.isDefaultPrevented()){var v=l.dataTransfer;v&&(Ae(v.types,"Files")||v.files.length>0)&&(l.preventDefault(),l.type==="drop"&&Kk(e,"Dropped file type is not supported"))}},a=function(l){Z0(e,l.target)&&n(l)},i=function(){var l=Na.DOM,v=e.dom,p=document,S=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];Le(A,function(F){l.bind(p,F,a),v.bind(S,F,n)}),e.on("remove",function(){Le(A,function(F){l.unbind(p,F,a),v.unbind(S,F,n)})})};e.on("init",function(){Wi.setEditorTimeout(e,i,0)})},IF=function(e){LO(e),PF(e),Jh(e)&&qB(e)},NF=function(e){var n=Kb(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=qg(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},zF=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(Mu(a)){var i=ym(e.getBody(),a),l=Ua(i)?i:a;e.selection.getNode()!==l&&I1(e,l).each(function(v){return e.selection.setRng(v)})}})})},KB=El,So=Ua,R3=function(e,n){return ym(e.getBody(),n)},FF=function(e){var n=e.selection,a=e.dom,i=a.isBlock,l=e.getBody(),v=au(e,l,i,function(){return sl(e)}),p="sel-"+a.uniqueId(),S="data-mce-selected",A,F=function(Mt){return a.hasClass(Mt,"mce-offscreen-selection")},X=function(Mt){return Mt!==l&&(So(Mt)||Mu(Mt))&&a.isChildOf(Mt,l)},Z=function(Mt){return Hl(Mt)||_d(Mt)||Eg(Mt)||Tg(Mt)},Q=function(){var Mt=a.get(p);return Mt&&Mt.getElementsByTagName("*")[0]},fe=function(Mt){Mt&&n.setRng(Mt)},de=n.getRng,ge=function(Mt,Un,Ut,vn){vn===void 0&&(vn=!0);var Gt=e.fire("ShowCaret",{target:Un,direction:Mt,before:Ut});return Gt.isDefaultPrevented()?null:(vn&&n.scrollIntoView(Un,Mt===-1),v.show(Ut,Un))},pe=function(Mt){Mt.hasAttribute("data-mce-caret")&&(d2(Mt),fe(de()),n.scrollIntoView(Mt))},Oe=function(){e.on("mouseup",function(Gt){var Qt=de();Qt.collapsed&&Rm(e,Gt.clientX,Gt.clientY)&&KT(e,Qt,!1).each(fe)}),e.on("click",function(Gt){var Qt=R3(e,Gt.target);Qt&&(So(Qt)&&(Gt.preventDefault(),e.focus()),KB(Qt)&&a.isChildOf(Qt,n.getNode())&&Lt())}),e.on("blur NewBlock",Lt),e.on("ResizeWindow FullscreenStateChanged",v.reposition);var Mt=function(Gt){var Qt=Gt.firstChild;if(ye(Qt))return!1;var yn=mt.before(Qt);if(wa(yn.getNode())&&Gt.childNodes.length===1)return!Z(yn);var It=go(Gt),hn=It.next(yn);return hn&&!Z(hn)},Un=function(Gt,Qt){var yn=a.getParent(Gt,i),It=a.getParent(Qt,i);return yn===It},Ut=function(Gt,Qt){var yn=a.getParent(Gt,i),It=a.getParent(Qt,i);return ye(yn)?!1:Gt!==It&&a.isChildOf(yn,It)&&So(R3(e,yn))===!1?!0:!a.isChildOf(It,yn)&&!Un(yn,It)&&Mt(yn)};e.on("tap",function(Gt){var Qt=Gt.target,yn=R3(e,Qt);So(yn)?(Gt.preventDefault(),I1(e,yn).each(xt)):X(Qt)&&I1(e,Qt).each(xt)},!0),e.on("mousedown",function(Gt){var Qt=Gt.target;if(!(Qt!==l&&Qt.nodeName!=="HTML"&&!a.isChildOf(Qt,l))&&Rm(e,Gt.clientX,Gt.clientY)!==!1){var yn=R3(e,Qt);if(yn)So(yn)?(Gt.preventDefault(),I1(e,yn).each(xt)):(Lt(),!(KB(yn)&&Gt.shiftKey)&&!wm(Gt.clientX,Gt.clientY,n.getRng())&&(mn(),n.placeCaretAt(Gt.clientX,Gt.clientY)));else if(X(Qt))I1(e,Qt).each(xt);else if(fm(Qt)===!1){Lt(),mn();var It=lO(l,Gt.clientX,Gt.clientY);if(It&&!Ut(Qt,It.node)){Gt.preventDefault();var hn=ge(1,It.node,It.before,!1);fe(hn),e.getBody().focus()}}}}),e.on("keypress",function(Gt){Gn.modifierPressed(Gt)||So(n.getNode())&&Gt.preventDefault()}),e.on("GetSelectionRange",function(Gt){var Qt=Gt.range;if(A){if(!A.parentNode){A=null;return}Qt=Qt.cloneRange(),Qt.selectNode(A),Gt.range=Qt}}),e.on("SetSelectionRange",function(Gt){Gt.range=je(Gt.range);var Qt=xt(Gt.range,Gt.forward);Qt&&(Gt.range=Qt)});var vn=function(Gt){return Gt.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(Gt){var Qt=Gt.range,yn=Qt.startContainer.parentNode;!Ye(Qt)&&!vn(yn)&&mn(),F(yn)||Lt()}),e.on("copy",function(Gt){var Qt=Gt.clipboardData;if(!Gt.isDefaultPrevented()&&Gt.clipboardData&&!Wn.ie){var yn=Q();yn&&(Gt.preventDefault(),Qt.clearData(),Qt.setData("text/html",yn.outerHTML),Qt.setData("text/plain",yn.outerText||yn.innerText))}}),IF(e),NF(e),zF(e)},xe=function(Mt){return Nu(Mt)||Ep(Mt)||Tp(Mt)},Ye=function(Mt){return xe(Mt.startContainer)||xe(Mt.endContainer)},je=function(Mt){var Un=e.schema.getShortEndedElements(),Ut=a.createRng(),vn=Mt.startContainer,Gt=Mt.startOffset,Qt=Mt.endContainer,yn=Mt.endOffset;return Dr(Un,vn.nodeName.toLowerCase())?Gt===0?Ut.setStartBefore(vn):Ut.setStartAfter(vn):Ut.setStart(vn,Gt),Dr(Un,Qt.nodeName.toLowerCase())?yn===0?Ut.setEndBefore(Qt):Ut.setEndAfter(Qt):Ut.setEnd(Qt,yn),Ut},Re=function(Mt,Un,Ut){var vn=e.$,Gt=_h(Ge.fromDom(e.getBody()),"#"+p).fold(function(){return vn([])},function(It){return vn([It.dom])});Gt.length===0&&(Gt=vn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",p),Gt.appendTo(e.getBody()));var Qt=a.createRng();Un===Ut&&Wn.ie?(Gt.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(Un),Qt.setStartAfter(Gt[0].firstChild.firstChild),Qt.setEndAfter(Un)):(Gt.empty().append(us).append(Un).append(us),Qt.setStart(Gt[0].firstChild,1),Qt.setEnd(Gt[0].lastChild,0)),Gt.css({top:a.getPos(Mt,e.getBody()).y}),Gt[0].focus();var yn=n.getSel();return yn.removeAllRanges(),yn.addRange(Qt),Qt},Qe=function(Mt){var Un=Mt.cloneNode(!0),Ut=e.fire("ObjectSelected",{target:Mt,targetClone:Un});if(Ut.isDefaultPrevented())return null;var vn=Re(Mt,Ut.targetClone,Un),Gt=Ge.fromDom(Mt);return Le(Di(Ge.fromDom(e.getBody()),"*[data-mce-selected]"),function(Qt){Ma(Gt,Qt)||yt(Qt,S)}),a.getAttrib(Mt,S)||Mt.setAttribute(S,"1"),A=Mt,mn(),vn},xt=function(Mt,Un){if(!Mt)return null;if(Mt.collapsed){if(!Ye(Mt)){var Ut=Un?1:-1,vn=sg(Ut,l,Mt),Gt=vn.getNode(!Un);if(fm(Gt))return ge(Ut,Gt,Un?!vn.isAtEnd():!1,!1);var Qt=vn.getNode(Un);if(fm(Qt))return ge(Ut,Qt,Un?!1:!vn.isAtEnd(),!1)}return null}var yn=Mt.startContainer,It=Mt.startOffset,hn=Mt.endOffset;if(yn.nodeType===3&&It===0&&So(yn.parentNode)&&(yn=yn.parentNode,It=a.nodeIndex(yn),yn=yn.parentNode),yn.nodeType!==1)return null;if(hn===It+1&&yn===Mt.endContainer){var Tr=yn.childNodes[It];if(X(Tr))return Qe(Tr)}return null},Lt=function(){A&&A.removeAttribute(S),_h(Ge.fromDom(e.getBody()),"#"+p).each(mo),A=null},jn=function(){v.destroy(),A=null},mn=function(){v.hide()};return Wn.ceFalse&&!Dm(e)&&Oe(),{showCaret:ge,showBlockCaretContainer:pe,hideFakeCaret:mn,destroy:jn}},LF=function(e){var n=Ct.each,a=Gn.BACKSPACE,i=Gn.DELETE,l=e.dom,v=e.selection,p=e.parser,S=Wn.gecko,A=Wn.ie,F=Wn.webkit,X="data:text/mce-internal,",Z=A?"Text":"URL",Q=function(Nt,Kt){try{e.getDoc().execCommand(Nt,!1,Kt)}catch{}},fe=function(Nt){return Nt.isDefaultPrevented()},de=function(Nt){var Kt,$n;Nt.dataTransfer&&(e.selection.isCollapsed()&&Nt.target.tagName==="IMG"&&v.select(Nt.target),Kt=e.selection.getContent(),Kt.length>0&&($n=X+escape(e.id)+","+escape(Kt),Nt.dataTransfer.setData(Z,$n)))},ge=function(Nt){var Kt;return Nt.dataTransfer&&(Kt=Nt.dataTransfer.getData(Z),Kt&&Kt.indexOf(X)>=0)?(Kt=Kt.substr(X.length).split(","),{id:unescape(Kt[0]),html:unescape(Kt[1])}):null},pe=function(Nt,Kt){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:Nt,internal:Kt}):e.execCommand("mceInsertContent",!1,Nt)},Oe=function(){var Nt=function($n){var tt=l.create("body"),Vt=$n.cloneContents();return tt.appendChild(Vt),v.serializer.serialize(tt,{format:"html"})},Kt=function($n){var tt=Nt($n),Vt=l.createRng();Vt.selectNode(e.getBody());var zt=Nt(Vt);return tt===zt};e.on("keydown",function($n){var tt=$n.keyCode,Vt,zt;if(!fe($n)&&(tt===i||tt===a)){if(Vt=e.selection.isCollapsed(),zt=e.getBody(),Vt&&!l.isEmpty(zt)||!Vt&&!Kt(e.selection.getRng()))return;$n.preventDefault(),e.setContent(""),zt.firstChild&&l.isBlock(zt.firstChild)?e.selection.setCursorLocation(zt.firstChild,0):e.selection.setCursorLocation(zt,0),e.nodeChanged()}})},xe=function(){e.shortcuts.add("meta+a",null,"SelectAll")},Ye=function(){e.inline||l.bind(e.getDoc(),"mousedown mouseup",function(Nt){var Kt;if(Nt.target===e.getDoc().documentElement)if(Kt=v.getRng(),e.getBody().focus(),Nt.type==="mousedown"){if(Nu(Kt.startContainer))return;v.placeCaretAt(Nt.clientX,Nt.clientY)}else v.setRng(Kt)})},je=function(){e.on("keydown",function(Nt){if(!fe(Nt)&&Nt.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(v.isCollapsed()&&v.getRng().startOffset===0){var Kt=v.getNode(),$n=Kt.previousSibling;if(Kt.nodeName==="HR"){l.remove(Kt),Nt.preventDefault();return}$n&&$n.nodeName&&$n.nodeName.toLowerCase()==="hr"&&(l.remove($n),Nt.preventDefault())}}})},Re=function(){Range.prototype.getClientRects||e.on("mousedown",function(Nt){if(!fe(Nt)&&Nt.target.nodeName==="HTML"){var Kt=e.getBody();Kt.blur(),Wi.setEditorTimeout(e,function(){Kt.focus()})}})},Qe=function(){e.on("click",function(Nt){var Kt=Nt.target;/^(IMG|HR)$/.test(Kt.nodeName)&&l.getContentEditableParent(Kt)!=="false"&&(Nt.preventDefault(),e.selection.select(Kt),e.nodeChanged()),Kt.nodeName==="A"&&l.hasClass(Kt,"mce-item-anchor")&&(Nt.preventDefault(),v.select(Kt))})},xt=function(){var Nt=function(){var $n=l.getAttribs(v.getStart().cloneNode(!1));return function(){var tt=v.getStart();tt!==e.getBody()&&(l.setAttrib(tt,"style",null),n($n,function(Vt){tt.setAttributeNode(Vt.cloneNode(!0))}))}},Kt=function(){return!v.isCollapsed()&&l.getParent(v.getStart(),l.isBlock)!==l.getParent(v.getEnd(),l.isBlock)};e.on("keypress",function($n){var tt;if(!fe($n)&&($n.keyCode===8||$n.keyCode===46)&&Kt())return tt=Nt(),e.getDoc().execCommand("delete",!1,null),tt(),$n.preventDefault(),!1}),l.bind(e.getDoc(),"cut",function($n){var tt;!fe($n)&&Kt()&&(tt=Nt(),Wi.setEditorTimeout(e,function(){tt()}))})},Lt=function(){e.on("keydown",function(Nt){if(!fe(Nt)&&Nt.keyCode===a&&v.isCollapsed()&&v.getRng().startOffset===0){var Kt=v.getNode().previousSibling;if(Kt&&Kt.nodeName&&Kt.nodeName.toLowerCase()==="table")return Nt.preventDefault(),!1}})},jn=function(){e.on("keydown",function(Nt){var Kt,$n;if(!(fe(Nt)||Nt.keyCode!==Gn.BACKSPACE)){Kt=v.getRng();var tt=Kt.startContainer,Vt=Kt.startOffset,zt=l.getRoot();if($n=tt,!(!Kt.collapsed||Vt!==0)){for(;$n&&$n.parentNode&&$n.parentNode.firstChild===$n&&$n.parentNode!==zt;)$n=$n.parentNode;$n.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,$n),Kt=l.createRng(),Kt.setStart(tt,0),Kt.setEnd(tt,0),v.setRng(Kt))}}})},mn=function(){var Nt=function(){Q("StyleWithCSS",!1),Q("enableInlineTableEditing",!1),MS(e)||Q("enableObjectResizing",!1)};C4(e)||e.on("BeforeExecCommand mousedown",Nt)},Mt=function(){var Nt=function(){n(l.select("a"),function(Kt){var $n=Kt.parentNode,tt=l.getRoot();if($n.lastChild===Kt){for(;$n&&!l.isBlock($n);){if($n.parentNode.lastChild!==$n||$n===tt)return;$n=$n.parentNode}l.add($n,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(Kt){(Kt.type==="setcontent"||Kt.command==="mceInsertLink")&&Nt()})},Un=function(){Ri(e)&&e.on("init",function(){Q("DefaultParagraphSeparator",Ri(e))})},Ut=function(){e.on("keyup focusin mouseup",function(Nt){Gn.modifierPressed(Nt)||v.normalize()},!0)},vn=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Gt=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},Qt=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(Nt){var Kt;if(Nt.target.nodeName==="HTML"){if(Wn.ie>11){e.getBody().focus();return}Kt=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Kt),e.selection.normalize(),e.nodeChanged()}}))},yn=function(){Wn.mac&&e.on("keydown",function(Nt){if(Gn.metaKeyPressed(Nt)&&!Nt.shiftKey&&(Nt.keyCode===37||Nt.keyCode===39)){Nt.preventDefault();var Kt=e.selection.getSel();Kt.modify("move",Nt.keyCode===37?"backward":"forward","lineboundary")}})},It=function(){Q("AutoUrlDetect",!1)},hn=function(){e.on("click",function(Nt){var Kt=Nt.target;do if(Kt.tagName==="A"){Nt.preventDefault();return}while(Kt=Kt.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Tr=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(Nt){Nt.preventDefault()})})},ra=function(){p.addNodeFilter("br",function(Nt){for(var Kt=Nt.length;Kt--;)Nt[Kt].attr("class")==="Apple-interchange-newline"&&Nt[Kt].remove()})},Jr=function(){e.on("dragstart",function(Nt){de(Nt)}),e.on("drop",function(Nt){if(!fe(Nt)){var Kt=ge(Nt);if(Kt&&Kt.id!==e.id){Nt.preventDefault();var $n=Xw(Nt.x,Nt.y,e.getDoc());v.setRng($n),pe(Kt.html,!0)}}})},Ii=Ee,so=function(){if(!S||e.removed)return!1;var Nt=e.selection.getSel();return!Nt||!Nt.rangeCount||Nt.rangeCount===0},ju=function(){F&&(Ye(),Qe(),Tr(),xe(),Wn.iOS&&(Gt(),Qt(),hn())),S&&(Re(),mn(),vn(),yn())},ps=function(){jn(),Oe(),Wn.windowsPhone||Ut(),F&&(Ye(),Qe(),Un(),Tr(),Lt(),ra(),Wn.iOS?(Gt(),Qt(),hn()):xe()),Wn.ie>=11&&(Qt(),Lt()),Wn.ie&&(xe(),It(),Jr()),S&&(je(),Re(),xt(),mn(),Mt(),vn(),yn(),Lt())};return Dm(e)?ju():ps(),{refreshContentEditable:Ii,isHidden:so}},$3=Na.DOM,HO=function(e,n){var a=Ge.fromDom(e.getBody()),i=vo(vu(a)),l=Ge.fromTag("style");P(l,"type","text/css"),Ho(l,Ge.fromText(n)),Ho(i,l),e.on("remove",function(){mo(l)})},HF=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},B3=function(e){return co(e,function(n){return De(n)===!1})},XB=function(e){var n=e.settings;return B3({block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements,padd_empty_block_inline_children:n.format_empty_lines})},YB=function(e){var n=e.settings,a=e.editorUpload.blobCache;return B3({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:HF(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})},VF=function(e){var n=e.settings;return qn(qn(qn({},YB(e)),XB(e)),B3({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before}))},UF=function(e){var n=Wk(YB(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var l=a.length,v,p,S=e.dom,A="data-mce-"+i;l--;)if(v=a[l],p=v.attr(i),p&&!v.attr(A)){if(p.indexOf("data:")===0||p.indexOf("blob:")===0)continue;i==="style"?(p=S.serializeStyle(S.parseStyle(p),v.name),p.length||(p=null),v.attr(A,p),v.attr(i,p)):i==="tabindex"?(v.attr(A,p),v.attr(i,null)):v.attr(A,e.convertURL(p,i,v.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var l=a[i],v=l.attr("type")||"no/type";v.indexOf("mce-")!==0&&l.attr("type","mce-"+v)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var l=a[i];l.type=8,l.name="#comment",l.value="[CDATA["+e.dom.encode(l.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,l=e.schema.getNonEmptyElements();i--;){var v=a[i];v.isEmpty(l)&&v.getAll("br").length===0&&(v.append(new ll("br",1)).shortEnded=!0)}}),n},WF=function(e){e.settings.auto_focus&&Wi.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},jF=function(e){var n=e.dom.getRoot();!e.inline&&(!dd(e)||e.selection.getStart(!0)===n)&&ou(n).each(function(a){var i=a.getNode(),l=Eo(i)?ou(i).getOr(a):a;Wn.browser.isIE()?mE(e,l.toRange()):e.selection.setRng(l.toRange())})},GF=function(e){e.bindPendingEventDelegates(),e.initialized=!0,vx(e),e.focus(!0),jF(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),WF(e)},ZB=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},qF=function(e,n,a){var i=[new ui(function(l,v){return ZB(e).loadAll(n,l,v)})];return e.inline?i:i.concat([new ui(function(l,v){return e.ui.styleSheetLoader.loadAll(a,l,v)})])},JB=function(e){var n=ZB(e),a=BS(e),i=e.contentCSS,l=function(){n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},v=function(){e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){var p="";Ct.each(e.contentStyles,function(A){p+=A+`\r
`}),e.dom.addStyle(p)}var S=ui.all(qF(e,i,a)).then(v).catch(v);return e.settings.content_style&&HO(e,e.settings.content_style),S},KF=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();ff(e),!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,$3.setAttrib(i,"spellcheck","false")),e.quirks=LF(e),fx(e);var l=gc(e);l!==void 0&&(i.dir=l),n.protect&&e.on("BeforeSetContent",function(v){Ct.each(n.protect,function(p){v.content=v.content.replace(p,function(S){return"<!--mce:protected "+escape(S)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(v){e.composing=v.type==="compositionstart"})},XF=function(e){Dm(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},VO=function(e){e.removed!==!0&&(XF(e),GF(e))},M3=function(e,n){var a=e.settings,i=e.getElement(),l=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(l.open(),l.write(e.iframeHTML),l.close()),e.inline&&($3.addClass(i,"mce-content-body"),e.contentDocument=l=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var v=e.getBody();v.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&$3.getStyle(v,"position",!0)==="static"&&(v.style.position="relative"),v.contentEditable=e.getParam("content_editable_state",!0)),v.disabled=!1,e.editorUpload=UI(e),e.schema=Bs(XB(e)),e.dom=Na(l,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:h0(e),referrerPolicy:g0(e),onSetAttrib:function(A){e.fire("SetAttrib",A)}}),e.parser=UF(e),e.serializer=xR(VF(e),e),e.selection=lR(e.dom,e.getWin(),e.serializer,e),e.annotator=L0(e),e.formatter=jR(e),e.undoManager=bf(e),e._nodeChangeDispatcher=new NB(e),e._selectionOverrides=FF(e),oz(e),FB(e),Dm(e)||zO(e);var p=bF(e);az(e,p),K$(e),ZR(e);var S=BP(e);KF(e),S.fold(function(){JB(e).then(function(){return VO(e)})},function(A){e.setProgressState(!0),JB(e).then(function(){A().then(function(F){e.setProgressState(!1),VO(e)},function(F){e.notificationManager.open({type:"error",text:String(F)}),VO(e)})})})},b_=Na.DOM,YF=function(e,n){if(document.domain!==window.location.hostname&&Wn.browser.isIE()){var a=Yi("mce");e[a]=function(){M3(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return b_.setAttrib(n,"src",i),!0}return!1},ZF=function(e,n,a,i){var l=Ge.fromTag("iframe");return Y(l,i),Y(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),rm(l,"tox-edit-area__iframe"),l},JF=function(e){var n=OS(e)+"<html><head>";ow(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=l4(e),i=c4(e),l=e.translate(HS(e));return v0(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+v0(e)+'" />'),n+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+l+'">')+"<br></body></html>",n},QB=function(e,n){var a=e.translate("Rich Text Area"),i=ZF(e.id,a,n.height,s4(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var l=YF(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=JF(e),b_.add(n.iframeContainer,i),l},QF=function(e,n){var a=QB(e,n);n.editorContainer&&(b_.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=b_.isHidden(n.editorContainer)),e.getElement().style.display="none",b_.setAttrib(e.id,"aria-hidden","true"),a||M3(e)},UO=Na.DOM,WO=function(e,n,a){var i=cl.get(a),l=cl.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=Ct.trim(a),i&&Ct.inArray(n,a)===-1){if(Ct.each(cl.dependencies(a),function(p){WO(e,n,p)}),e.plugins[a])return;try{var v=new i(e,l,e.$);e.plugins[a]=v,v.init&&(v.init(e,l),n.push(a))}catch(p){HR(e,a,p)}}},jO=function(e){return e.replace(/^\-/,"")},eL=function(e){var n=[];Ct.each(w0(e).split(/[ ,]/),function(a){WO(e,n,jO(a))})},tL=function(e){var n=Ct.trim(nf(e)),a=e.ui.registry.getAll().icons,i=qn(qn({},qk.get("default").icons),qk.get(n).icons);Vr(i,function(l,v){Dr(a,v)||e.ui.registry.addIcon(v,l)})},nL=function(e){var n=Yh(e);if($e(n)){e.settings.theme=jO(n);var a=kd.get(n);e.theme=new a(e,kd.urls[n]),e.theme.init&&e.theme.init(e,kd.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},eM=function(e){return e.theme.renderUI()},rL=function(e){var n=e.getElement(),a=Yh(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},tM=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},nM=function(e){var n=UO.create("div");return UO.insertAfter(n,e),tM(n)},aL=function(e){var n=e.getElement();return e.inline?tM(null):nM(n)},oL=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,$e(Yh(e))?eM(e):le(Yh(e))?rL(e):aL(e)},rM=function(e,n){var a={show:te.from(n.show).getOr(Ee),hide:te.from(n.hide).getOr(Ee),disable:te.from(n.disable).getOr(Ee),isDisabled:te.from(n.isDisabled).getOr(ot),enable:function(){e.mode.isReadOnly()||te.from(n.enable).map(kt)}};e.ui=qn(qn({},e.ui),a)},aM=function(e){e.fire("ScriptsLoaded"),tL(e),nL(e),eL(e);var n=oL(e);rM(e,te.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,FI(e),e.inline?M3(e):QF(e,a)},V1=Na.DOM,oM=function(e){return e.charAt(0)==="-"},iM=function(e,n){var a=p0(n),i=li(n);if(wu.hasCode(a)===!1&&a!=="en"){var l=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(l,Ee,void 0,function(){ZC(n,l,a)})}},uM=function(e,n,a,i){var l=Yh(n);if($e(l)){if(!oM(l)&&!Dr(kd.urls,l)){var v=NS(n);v?kd.load(l,n.documentBaseURI.toAbsolute(v)):kd.load(l,"themes/"+l+"/theme"+a+".js")}e.loadQueue(function(){kd.waitFor(l,i)})}else i()},iL=function(e){return te.from(m0(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:te.none()}})},sM=function(e,n,a){return te.from(n).filter(function(i){return i.length>0&&!qk.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:te.some(i)}})},uL=function(e,n,a){var i=sM(n,"default",a),l=iL(n).orThunk(function(){return sM(n,nf(n),"")});Le(br([i,l]),function(v){e.add(v.url,Ee,void 0,function(){NI(n,v.url,v.name.getOrUndefined())})})},sL=function(e,n){Ct.each(S4(e),function(a,i){cl.load(i,a,Ee,void 0,function(){Yk(e,a,i)}),e.settings.plugins+=" "+i}),Ct.each(w0(e).split(/[ ,]/),function(a){if(a=Ct.trim(a),a&&!cl.urls[a])if(oM(a)){a=a.substr(1,a.length);var i=cl.dependencies(a);Ct.each(i,function(v){var p={prefix:"plugins/",resource:v,suffix:"/plugin"+n+".js"},S=cl.createUrl(p,v);cl.load(S.resource,S,Ee,void 0,function(){Yk(e,S.prefix+S.resource+S.suffix,S.resource)})})}else{var l={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};cl.load(a,l,Ee,void 0,function(){Yk(e,l.prefix+l.resource+l.suffix,a)})}})},lL=function(e,n){var a=av.ScriptLoader;uM(a,e,n,function(){iM(a,e),uL(a,e,n),sL(e,n),a.loadQueue(function(){e.removed||aM(e)},e,function(){e.removed||aM(e)})})},cL=function(e,n){return Ol.forElement(e,{contentCssCors:_4(n),referrerPolicy:g0(n)})},fL=function(e){var n=e.id;wu.setCode(p0(e));var a=function(){V1.unbind(window,"ready",a),e.render()};if(!$h.Event.domLoaded){V1.bind(window,"ready",a);return}if(e.getElement()&&Wn.contentEditable){var i=Ge.fromDom(e.getElement()),l=kn(i);e.on("remove",function(){bt(i.dom.attributes,function(p){return yt(i,p.name)}),Y(i,l)}),e.ui.styleSheetLoader=cL(i,e),p4(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var v=e.getElement().form||V1.getParent(n,"form");v&&(e.formElement=v,zS(e)&&!xi(e.getElement())&&(V1.insertAfter(V1.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(p){e.fire(p.type,p)},V1.bind(v,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),FS(e)&&!v.submit.nodeType&&!v.submit.length&&!v._mceOldSubmit&&(v._mceOldSubmit=v.submit,v.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),v._mceOldSubmit(v)})),e.windowManager=PT(e),e.notificationManager=bv(e),fw(e)&&e.on("GetContent",function(p){p.save&&(p.content=V1.encode(p.content))}),b4(e)&&e.on("submit",function(){e.initialized&&e.save()}),y0(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),lL(e,e.suffix)}},vL=function(e,n){return rR(e,n)},dL={"font-size":"size","font-family":"face"},mL=function(e,n,a){var i=function(v){return ki(v,e).orThunk(function(){return ko(v)==="font"?Ir(dL,e).bind(function(p){return _e(v,p)}):te.none()})},l=function(v){return Ma(Ge.fromDom(n),v)};return qE(Ge.fromDom(a),function(v){return i(v)},l)},P3=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},lM=function(e,n){return te.from(Na.DOM.getStyle(n,e,!0))},GO=function(e){return function(n,a){return te.from(a).map(Ge.fromDom).filter(Va).bind(function(i){return mL(e,n,i.dom).or(lM(e,i.dom))}).getOr("")}},hL=GO("font-size"),cM=We(P3,GO("font-family")),fM=function(e){return ou(e.getBody()).map(function(n){var a=n.container();return gn(a)?a.parentNode:a})},gL=function(e){return te.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?te.none():te.from(e.selection.getStart(!0))})},pL=function(e,n){return gL(e).orThunk(ce(fM,e)).map(Ge.fromDom).filter(Va).bind(n)},qO=function(e,n){return pL(e,ne(te.some,n))},I3=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=Yp(e),l=lm(e);return l?l[a-1]||n:i[a-1]||n}else return n}else return n},bL=function(e){var n=e.split(/\s*,\s*/);return et(n,function(a){return a.indexOf(" ")!==-1&&!(bo(a,'"')||bo(a,"'"))?"'"+a+"'":a}).join(",")},KO=function(e,n){var a=I3(e,n);e.formatter.toggle("fontname",{value:bL(a)}),e.nodeChanged()},yL=function(e){return qO(e,function(n){return cM(e.getBody(),n.dom)}).getOr("")},wL=function(e,n){e.formatter.toggle("fontsize",{value:I3(e,n)}),e.nodeChanged()},CL=function(e){return qO(e,function(n){return hL(e.getBody(),n.dom)}).getOr("")},vM=function(e){return qO(e,function(n){var a=Ge.fromDom(e.getBody()),i=qE(n,function(v){return ki(v,"line-height")},ce(Ma,a)),l=function(){var v=parseFloat(yr(n,"line-height")),p=parseFloat(yr(n,"font-size"));return String(v/p)};return i.getOrThunk(l)}).getOr("")},_L=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},SL=function(e){if(typeof e!="string"){var n=Ct.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},xL=function(e,n){var a=SL(n);tR(e,a.content,a.details)},N3=Ct.each,kL=Ct.map,Ws=Ct.inArray,Xg=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,l){var v,p=!1,S=this;if(!S.editor.removed){if(n.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!l||!l.skip_focus)?S.editor.focus():uC(S.editor)),l=S.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),l.isDefaultPrevented())return!1;var A=n.toLowerCase();if(v=S.commands.exec[A])return v(A,a,i),S.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(N3(this.editor.plugins,function(F){if(F.execCommand&&F.execCommand(n,a,i))return S.editor.fire("ExecCommand",{command:n,ui:a,value:i}),p=!0,!1}),p)return p;if(S.editor.theme&&S.editor.theme.execCommand&&S.editor.theme.execCommand(n,a,i))return S.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{p=S.editor.getDoc().execCommand(n,a,i)}catch{}return p?(S.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch{}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch{}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;N3(n,function(l,v){N3(v.toLowerCase().split(","),function(p){i.commands[a][p]=l})})},e.prototype.addCommand=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.exec[n]=function(v,p,S,A){return a.call(i||l.editor,p,S,A)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch{}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||l.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||l.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":Ee,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(l,v,p){Q0(n,p)},"Cut,Copy,Paste":function(l){var v=n.getDoc(),p;try{a.execNativeCommand(l)}catch{p=!0}if(l==="paste"&&!v.queryCommandEnabled(l)&&(p=!0),p||!v.queryCommandSupported(l)){var S=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Wn.mac&&(S=S.replace(/Ctrl\+/g,"⌘+")),n.notificationManager.open({text:S,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var l=n.dom.getParent(n.selection.getStart(),"a");l&&n.dom.remove(l,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(l){var v=l.substring(7);v==="full"&&(v="justify"),N3("left,center,right,justify".split(","),function(p){v!==p&&n.formatter.remove("align"+p)}),v!=="none"&&a.toggleFormat("align"+v)},"InsertUnorderedList,InsertOrderedList":function(l){var v;a.execNativeCommand(l);var p=n.dom.getParent(n.selection.getNode(),"ol,ul");p&&(v=p.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(v.nodeName)&&(a.storeSelection(),n.dom.split(v,p),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){a.toggleFormat(l)},"ForeColor,HiliteColor":function(l,v,p){a.toggleFormat(l,{value:p})},FontName:function(l,v,p){KO(n,p)},FontSize:function(l,v,p){wL(n,p)},LineHeight:function(l,v,p){_L(n,p)},Lang:function(l,v,p){a.toggleFormat(l,{value:p.code,customValue:p.customCode})},RemoveFormat:function(l){n.formatter.remove(l)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(l,v,p){return a.toggleFormat(p||"p")},mceCleanup:function(){var l=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(l)},mceRemoveNode:function(l,v,p){var S=p||n.selection.getNode();S!==n.getBody()&&(a.storeSelection(),n.dom.remove(S,!0),a.restoreSelection())},mceSelectNodeDepth:function(l,v,p){var S=0;n.dom.getParent(n.selection.getNode(),function(A){if(A.nodeType===1&&S++===p)return n.selection.select(A),!1},n.getBody())},mceSelectNode:function(l,v,p){n.selection.select(p)},mceInsertContent:function(l,v,p){xL(n,p)},mceInsertRawHTML:function(l,v,p){n.selection.setContent("tiny_mce_marker");var S=n.getContent();n.setContent(S.replace(/tiny_mce_marker/g,function(){return p}))},mceInsertNewLine:function(l,v,p){EB(n,p)},mceToggleFormat:function(l,v,p){a.toggleFormat(p)},mceSetContent:function(l,v,p){n.setContent(p)},"Indent,Outdent":function(l){gO(n,l)},mceRepaint:Ee,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(l,v,p){n.execCommand("mceInsertContent",!1,p.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(l,v,p){typeof p=="string"&&(p={href:p});var S=n.dom.getParent(n.selection.getNode(),"a");p.href=p.href.replace(/ /g,"%20"),(!S||!p.href)&&n.formatter.remove("link"),p.href&&n.formatter.apply("link",p,S)},selectAll:function(){var l=n.dom.getParent(n.selection.getStart(),El);if(l){var v=n.dom.createRng();v.selectNodeContents(l),n.selection.setRng(v)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(l,v,p){return _B(n,p),!0}});var i=function(l){return function(){var v=n.selection,p=v.isCollapsed()?[n.dom.getParent(v.getNode(),n.dom.isBlock)]:v.getSelectedBlocks(),S=kL(p,function(A){return!!n.formatter.matchNode(A,l)});return Ws(S,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){return a.isFormatMatch(l)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return W$(n)},"InsertUnorderedList,InsertOrderedList":function(l){var v=n.dom.getParent(n.selection.getNode(),"ul,ol");return v&&(l==="insertunorderedlist"&&v.tagName==="UL"||l==="insertorderedlist"&&v.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return yL(n)},this),a.addQueryValueHandler("FontSize",function(){return CL(n)},this),a.addQueryValueHandler("LineHeight",function(){return vM(n)},this)},e}(),U1="data-mce-contenteditable",AL=function(e,n,a){U2(e,n)&&a===!1?V2(e,n):a&&rm(e,n)},XO=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch{}},z3=function(e,n){e.dom.contentEditable=n?"true":"false"},EL=function(e){Le(Di(e,'*[contenteditable="true"]'),function(n){P(n,U1,"true"),z3(n,!1)})},TL=function(e){Le(Di(e,"*["+U1+'="true"]'),function(n){yt(n,U1),z3(n,!0)})},dM=function(e){te.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},Ny=function(e){e.selection.setRng(e.selection.getRng())},OL=function(e,n){var a=Ge.fromDom(e.getBody());AL(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),dM(e),e.readonly=!0,z3(a,!1),EL(a)):(e.readonly=!1,z3(a,!0),TL(a),XO(e,"StyleWithCSS",!1),XO(e,"enableInlineTableEditing",!1),XO(e,"enableObjectResizing",!1),Ux(e)&&e.focus(),Ny(e),e.nodeChanged())},W1=function(e){return e.readonly},mM=function(e){e.parser.addAttributeFilter("contenteditable",function(n){W1(e)&&Le(n,function(a){a.attr(U1,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(U1,function(n){W1(e)&&Le(n,function(a){a.attr("contenteditable",a.attr(U1))})}),e.serializer.addTempAttr(U1)},_v=function(e){e.serializer?mM(e):e.on("PreInit",function(){mM(e)})},DL=function(e){return e.type==="click"},RL=function(e,n){var a=function(i){return Ma(i,Ge.fromDom(e.getBody()))};return wo(n,"a",a).bind(function(i){return _e(i,"href")})},hM=function(e,n){if(DL(n)&&!Gn.metaKeyPressed(n)){var a=Ge.fromDom(n.target);RL(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var l=e.dom.select(i+',[name="'+sh(i,"#")+'"]');l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},$L=function(e){e.on("ShowCaret",function(n){W1(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){W1(e)&&n.preventDefault()})},gM=Ct.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),F3=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||ot}return e.isNative=function(n){return!!gM[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),l=Bt(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);var v=this.bindings[i];if(v)for(var p=0,S=v.length;p<S;p++){var A=v[p];if(!A.removed){if(A.once&&this.off(i,A.func),l.isImmediatePropagationStopped())return l;if(A.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l},e.prototype.on=function(n,a,i,l){if(a===!1&&(a=ot),a){var v={func:a,removed:!1};l&&Ct.extend(v,l);for(var p=n.toLowerCase().split(" "),S=p.length;S--;){var A=p[S],F=this.bindings[A];F||(F=[],this.toggleEvent(A,!0)),i?F=Ou([v],F,!0):F=Ou(Ou([],F,!0),[v],!1),this.bindings[A]=F}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var l=n.toLowerCase().split(" "),v=l.length;v--;){var p=l[v],S=this.bindings[p];if(!p)return Vr(this.bindings,function(F,X){i.toggleEvent(X,!1),delete i.bindings[X]}),this;if(S){if(!a)S.length=0;else{var A=Zt(S,function(F){return F.func===a});S=A.fail,this.bindings[p]=S,Le(A.pass,function(F){F.removed=!0})}S.length||(this.toggleEvent(n,!1),delete this.bindings[p])}}else Vr(this.bindings,function(F,X){i.toggleEvent(X,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),j1=function(e){return e._eventDispatcher||(e._eventDispatcher=new F3({scope:e,toggleEvent:function(n,a){F3.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},L3={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var l=j1(i).fire(e,n);if(a!==!1&&i.parent)for(var v=i.parent();v&&!l.isPropagationStopped();)v.fire(e,l,!1),v=v.parent();return l},on:function(e,n,a){return j1(this).on(e,n,a)},off:function(e,n){return j1(this).off(e,n)},once:function(e,n){return j1(this).once(e,n)},hasEventListeners:function(e){return j1(this).has(e)}},H3=Na.DOM,G1,V3=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=b0(e);return a?(e.eventRoot||(e.eventRoot=H3.select(a)[0]),e.eventRoot):e.getBody()},BL=function(e){return!e.hidden&&!W1(e)},YO=function(e,n,a){BL(e)?e.fire(n,a):W1(e)&&hM(e,a)},ZO=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=V3(e,n);if(b0(e)){if(G1||(G1={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||G1&&(Vr(G1,function(l,v){e.dom.unbind(V3(e,v))}),G1=null)})),G1[n])return;a=function(l){for(var v=l.target,p=e.editorManager.get(),S=p.length;S--;){var A=p[S].getBody();(A===v||H3.isChildOf(v,A))&&YO(p[S],n,l)}},G1[n]=a,H3.bind(i,n,a)}else a=function(l){YO(e,n,l)},H3.bind(i,n,a),e.delegates[n]=a}},pM=qn(qn({},L3),{bindPendingEventDelegates:function(){var e=this;Ct.each(e._pendingNativeEvents,function(n){ZO(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||a.removed||(n?a.initialized?ZO(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(V3(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(Vr(e.delegates,function(i,l){e.dom.unbind(V3(e,l),l,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),bM=["design","readonly"],yM=function(e,n,a,i){var l=a[n.get()],v=a[i];try{v.activate()}catch(p){console.error("problem while activating editor mode "+i+":",p);return}l.deactivate(),l.editorReadOnly!==v.editorReadOnly&&OL(e,v.editorReadOnly),n.set(i),Ww(e,i)},ML=function(e,n,a,i){if(i!==a.get()){if(!Dr(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?yM(e,a,n,i):e.on("init",function(){return yM(e,a,n,i)})}},PL=function(e,n,a){var i;if(Ae(bM,n))throw new Error("Cannot override default mode "+n);return qn(qn({},e),(i={},i[n]=qn(qn({},a),{deactivate:function(){try{a.deactivate()}catch(l){console.error("problem while deactivating editor mode "+n+":",l)}}}),i))},IL=function(e){var n=yu("design"),a=yu({design:{activate:Ee,deactivate:Ee,editorReadOnly:!1},readonly:{activate:Ee,deactivate:Ee,editorReadOnly:!0}});return _v(e),$L(e),{isReadOnly:function(){return W1(e)},set:function(i){return ML(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,l){a.set(PL(a.get(),i,l))}}},U3=Ct.each,y_=Ct.explode,wM={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},CM=Ct.makeMap("alt,ctrl,shift,meta,access"),NL=function(e){var n,a={};U3(y_(e.toLowerCase(),"+"),function(l){l in CM?a[l]=!0:/^[0-9]{2,}$/.test(l)?a.keyCode=parseInt(l,10):(a.charCode=l.charCodeAt(0),a.keyCode=wM[l]||l.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in CM)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,Wn.mac?a.ctrl=!0:a.shift=!0),a.meta&&(Wn.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},W3=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(U3(a.shortcuts,function(l){if(a.matchShortcut(i,l))return a.pendingPatterns=l.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(l),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,l){var v=this,p=v.normalizeCommandFunc(i);return U3(y_(Ct.trim(n)),function(S){var A=v.createShortcut(S,a,p,l);v.shortcuts[A.id]=A}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:Ct.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,l){var v=Ct.map(y_(n,">"),NL);return v[v.length-1]=Ct.extend(v[v.length-1],{func:i,scope:l||this.editor}),Ct.extend(v[0],{desc:this.editor.translate(a),subpatterns:v.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),_M=function(){var e={},n={},a={},i={},l={},v={},p={},S=function(F,X){return function(Z,Q){return F[Z.toLowerCase()]=qn(qn({},Q),{type:X})}},A=function(F,X){return i[F.toLowerCase()]=X};return{addButton:S(e,"button"),addGroupToolbarButton:S(e,"grouptoolbarbutton"),addToggleButton:S(e,"togglebutton"),addMenuButton:S(e,"menubutton"),addSplitButton:S(e,"splitbutton"),addMenuItem:S(n,"menuitem"),addNestedMenuItem:S(n,"nestedmenuitem"),addToggleMenuItem:S(n,"togglemenuitem"),addAutocompleter:S(a,"autocompleter"),addContextMenu:S(l,"contextmenu"),addContextToolbar:S(v,"contexttoolbar"),addContextForm:S(v,"contextform"),addSidebar:S(p,"sidebar"),addIcon:A,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:l,contextToolbars:v,sidebars:p}}}},zL=function(){var e=_M();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},q1=Na.DOM,SM=Ct.extend,FL=Ct.each,xM=Ct.resolve,LL=Wn.ie,j3=function(){function e(n,a,i){var l=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,SM(this,pM),this.settings=IR(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(av.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Na.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),zu.languageLoad=this.settings.language_load,zu.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new yd(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new W3(this),this.editorCommands=new Xg(this),this.settings.cache_suffix&&(Wn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:zL(),styleSheetLoader:void 0,show:Ee,hide:Ee,enable:Ee,disable:Ee,isDisabled:ot};var v=this,p=IL(v);this.mode=p,this.setMode=p.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=hr.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}return e.prototype.render=function(){fL(this)},e.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},e.prototype.hasFocus=function(){return sl(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var l=this,v=l.settings[n],p;if(v)return l.callbackLookup&&(p=l.callbackLookup[n])&&(v=p.func,p=p.scope),typeof v=="string"&&(p=v.replace(/\.\w+$/,""),p=p?xM(p):0,v=xM(v),l.callbackLookup=l.callbackLookup||{},l.callbackLookup[n]={func:v,scope:p}),v.apply(p||l,a)},e.prototype.translate=function(n){return wu.translate(n)},e.prototype.getParam=function(n,a,i){return $I(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=Ae(w0(this).split(/[ ,]/),n);return i?a?cl.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,l){this.shortcuts.add(n,a,i,l)},e.prototype.execCommand=function(n,a,i,l){return this.editorCommands.execCommand(n,a,i,l)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(q1.show(n.getContainer()),q1.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(LL&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(q1.hide(n.getContainer()),q1.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),l;if(a.removed)return"";if(i){n=n||{},n.load=!0;var v=xi(i)?i.value:i.innerHTML;return l=a.setContent(v,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,l}},e.prototype.save=function(n){var a=this,i=a.getElement(),l,v;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,l=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),l=n.content,xi(i)?i.value=l:((n.is_removing||!a.inline)&&(i.innerHTML=l),(v=q1.getParent(a.id,"form"))&&FL(v.elements,function(p){if(p.name===a.id)return p.value=l,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),l},e.prototype.setContent=function(n,a){return RT(this,n,a)},e.prototype.getContent=function(n){return cI(this,n)},e.prototype.insertContent=function(n,a){a&&(n=SM({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?RT(this,this.startContent,{format:"raw"}):RT(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=q1.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=q1.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var l=this,v=l.settings;return v.urlconverter_callback?l.execCallback("urlconverter_callback",n,i,!0,a):!v.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:v.relative_urls?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,v.remove_script_host),n)},e.prototype.addVisual=function(n){vL(this,n)},e.prototype.remove=function(){dI(this)},e.prototype.destroy=function(n){AR(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),xf=Na.DOM,HL=Ct.explode,Ro=Ct.each,JO=Ct.extend,Td=0,QO=!1,w_,Yg=[],Wu=[],e5=function(e){return e!=="length"},t5=function(e){var n=e.type;Ro(Zg.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},n5=function(e){e!==QO&&(e?hr(window).on("resize scroll",t5):hr(window).off("resize scroll",t5),QO=e)},kM=function(e){var n=Wu;delete Yg[e.id];for(var a=0;a<Yg.length;a++)if(Yg[a]===e){Yg.splice(a,1);break}return Wu=ut(Wu,function(i){return e!==i}),Zg.activeEditor===e&&(Zg.activeEditor=Wu.length>0?Wu[0]:null),Zg.focusedEditor===e&&(Zg.focusedEditor=null),n.length!==Wu.length},VL=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(kM(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},UL=document.compatMode!=="CSS1Compat",Zg=qn(qn({},L3),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:hr,majorVersion:"5",minorVersion:"10.7",releaseDate:"2022-12-06",editors:Yg,i18n:wu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=yd.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,i=l.suffix;else{for(var v=document.getElementsByTagName("script"),p=0;p<v.length;p++){var S=v[p].src||"";if(S!==""){var A=S.substring(S.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(S)){A.indexOf(".min")!==-1&&(i=".min"),n=S.substring(0,S.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var S=document.currentScript.src;S.indexOf(".min")!==-1&&(i=".min"),n=S.substring(0,S.lastIndexOf("/"))}}e.baseURL=new yd(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new yd(e.baseURL),e.suffix=i,Nx(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&Vr(i,function(l,v){zu.PluginManager.urls[v]=l})},init:function(e){var n=this,a,i=Ct.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=function(Z,Q){return Z.inline&&Q.tagName.toLowerCase()in i},v=function(Z){var Q=Z.id;return Q||(Q=Ir(Z,"name").filter(function(fe){return!xf.get(fe)}).getOrThunk(xf.uniqueId),Z.setAttribute("id",Q)),Q},p=function(Z){var Q=e[Z];if(Q)return Q.apply(n,[])},S=function(Z,Q){return Q.constructor===RegExp?Q.test(Z.className):xf.hasClass(Z,Q)},A=function(Z){var Q=[];if(Wn.browser.isIE()&&Wn.browser.version.major<11)return JC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(UL)return JC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(Z.types)return Ro(Z.types,function(de){Q=Q.concat(xf.select(de.selector))}),Q;if(Z.selector)return xf.select(Z.selector);if(Z.target)return[Z.target];switch(Z.mode){case"exact":var fe=Z.elements||"";fe.length>0&&Ro(HL(fe),function(de){var ge=xf.get(de);ge?Q.push(ge):Ro(document.forms,function(pe){Ro(pe.elements,function(Oe){Oe.name===de&&(de="mce_editor_"+Td++,xf.setAttrib(Oe,"id",de),Q.push(Oe))})})});break;case"textareas":case"specific_textareas":Ro(xf.select("textarea"),function(de){Z.editor_deselector&&S(de,Z.editor_deselector)||(!Z.editor_selector||S(de,Z.editor_selector))&&Q.push(de)});break}return Q},F=function(Z){a=Z},X=function(){var Z=0,Q=[],fe,de=function(ge,pe,Oe){var xe=new j3(ge,pe,n);Q.push(xe),xe.on("init",function(){++Z===fe.length&&F(Q)}),xe.targetElm=xe.targetElm||Oe,xe.render()};if(xf.unbind(window,"ready",X),p("onpageload"),fe=hr.unique(A(e)),e.types){Ro(e.types,function(ge){Ct.each(fe,function(pe){return xf.is(pe,ge.selector)?(de(v(pe),JO({},e,ge),pe),!1):!0})});return}Ct.each(fe,function(ge){VL(n.get(ge.id))}),fe=Ct.grep(fe,function(ge){return!n.get(ge.id)}),fe.length===0?F([]):Ro(fe,function(ge){l(e,ge)?JC("Could not initialize inline editor on invalid inline target element",ge):de(v(ge),e,ge)})};return n.settings=e,xf.bind(window,"ready",X),new ui(function(Z){a?Z(a):F=function(Q){Z(Q)}})},get:function(e){return arguments.length===0?Wu.slice(0):$e(e)?rn(Wu,function(n){return n.id===e}).getOr(null):se(e)&&Wu[e]?Wu[e]:null},add:function(e){var n=this,a=Yg[e.id];return a===e||(n.get(e.id)===null&&(e5(e.id)&&(Yg[e.id]=e),Yg.push(e),Wu.push(e)),n5(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),w_||(w_=function(i){var l=n.fire("BeforeUnload");if(l.returnValue)return i.preventDefault(),i.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",w_))),e},createEditor:function(e,n){return this.add(new j3(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=Wu.length-1;a>=0;a--)n.remove(Wu[a]);return}if($e(e)){Ro(xf.select(e),function(l){i=n.get(l.id),i&&n.remove(i)});return}return i=e,ie(n.get(i.id))?null:(kM(i)&&n.fire("RemoveEditor",{editor:i}),Wu.length===0&&window.removeEventListener("beforeunload",w_),i.remove(),n5(Wu.length>0),i)},execCommand:function(e,n,a){var i=this,l=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new j3(a,i.settings,i).render(),!0;case"mceRemoveEditor":return l&&l.remove(),!0;case"mceToggleEditor":return l?(l.isHidden()?l.show():l.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){Ro(Wu,function(e){e.save()})},addI18n:function(e,n){wu.add(e,n)},translate:function(e){return wu.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new yd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new yd(this.baseURL)}});Zg.setup();var AM=Math.min,K1=Math.max,G3=Math.round,EM=function(e,n,a){var i=n.x,l=n.y,v=e.w,p=e.h,S=n.w,A=n.h,F=(a||"").split("");return F[0]==="b"&&(l+=A),F[1]==="r"&&(i+=S),F[0]==="c"&&(l+=G3(A/2)),F[1]==="c"&&(i+=G3(S/2)),F[3]==="b"&&(l-=p),F[4]==="r"&&(i-=v),F[3]==="c"&&(l-=G3(p/2)),F[4]==="c"&&(i-=G3(v/2)),X1(i,l,v,p)},WL=function(e,n,a,i){var l,v;for(v=0;v<i.length;v++)if(l=EM(e,n,i[v]),l.x>=a.x&&l.x+l.w<=a.w+a.x&&l.y>=a.y&&l.y+l.h<=a.h+a.y)return i[v];return null},jL=function(e,n,a){return X1(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},GL=function(e,n){var a=K1(e.x,n.x),i=K1(e.y,n.y),l=AM(e.x+e.w,n.x+n.w),v=AM(e.y+e.h,n.y+n.h);return l-a<0||v-i<0?null:X1(a,i,l-a,v-i)},qL=function(e,n,a){var i=e.x,l=e.y,v=e.x+e.w,p=e.y+e.h,S=n.x+n.w,A=n.y+n.h,F=K1(0,n.x-i),X=K1(0,n.y-l),Z=K1(0,v-S),Q=K1(0,p-A);return i+=F,l+=X,a&&(v+=F,p+=X,i-=Z,l-=Q),v-=Z,p-=Q,X1(i,l,v-i,p-l)},X1=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},KL=function(e){return X1(e.left,e.top,e.width,e.height)},XL={inflate:jL,relativePosition:EM,findBestRelativePosition:WL,intersect:GL,clamp:qL,create:X1,fromClientRect:KL},YL=function(e,n,a){a===void 0&&(a=1e3);var i=!1,l=null,v=function(F){return function(){for(var X=[],Z=0;Z<arguments.length;Z++)X[Z]=arguments[Z];i||(i=!0,l!==null&&(clearTimeout(l),l=null),F.apply(null,X))}},p=v(e),S=v(n),A=function(){for(var F=[],X=0;X<arguments.length;X++)F[X]=arguments[X];!i&&l===null&&(l=setTimeout(function(){return S.apply(null,F)},a))};return{start:A,resolve:p,reject:S}},r5=function(){var e={},n={},a=function(l,v){var p='Script at URL "'+v+'" failed to load',S='Script at URL "'+v+"\" did not call `tinymce.Resource.add('"+l+"', data)` within 1 second";if(e[l]!==void 0)return e[l];var A=new ui(function(F,X){var Z=YL(F,X);n[l]=Z.resolve,av.ScriptLoader.loadScript(v,function(){return Z.start(S)},function(){return Z.reject(p)})});return e[l]=A,A},i=function(l,v){n[l]!==void 0&&(n[l](v),delete n[l]),e[l]=ui.resolve(v)};return{load:a,add:i}},C_=r5(),Sv=Ct.each,zy=Ct.extend,q3,__,a5=function(){};a5.extend=q3=function(e){var n=this,a=n.prototype,i=function(){var S,A,F,X=this;if(!__&&(X.init&&X.init.apply(X,arguments),A=X.Mixins,A))for(S=A.length;S--;)F=A[S],F.init&&F.init.apply(X,arguments)},l=function(){return this},v=function(S,A){return function(){var F=this,X=F._super;F._super=a[S];var Z=A.apply(F,arguments);return F._super=X,Z}};__=!0;var p=new n;return __=!1,e.Mixins&&(Sv(e.Mixins,function(S){for(var A in S)A!=="init"&&(e[A]=S[A])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&Sv(e.Methods.split(","),function(S){e[S]=l}),e.Properties&&Sv(e.Properties.split(","),function(S){var A="_"+S;e[S]=function(F){var X=this;return F!==void 0?(X[A]=F,X):X[A]}}),e.Statics&&Sv(e.Statics,function(S,A){i[A]=S}),e.Defaults&&a.Defaults&&(e.Defaults=zy({},a.Defaults,e.Defaults)),Vr(e,function(S,A){typeof S=="function"&&a[A]?p[A]=v(A,S):p[A]=S}),i.prototype=p,i.constructor=i,i.extend=q3,i};var S_=Math.min,K3=Math.max,Jg=Math.round,TM=function(e){var n={},a=0,i=0,l=0,v=function(Z,Q,fe){var de,ge,pe;de=0,ge=0,pe=0,Z=Z/255,Q=Q/255,fe=fe/255;var Oe=S_(Z,S_(Q,fe)),xe=K3(Z,K3(Q,fe));if(Oe===xe)return pe=Oe,{h:0,s:0,v:pe*100};var Ye=Z===Oe?Q-fe:fe===Oe?Z-Q:fe-Z;return de=Z===Oe?3:fe===Oe?1:5,de=60*(de-Ye/(xe-Oe)),ge=(xe-Oe)/xe,pe=xe,{h:Jg(de),s:Jg(ge*100),v:Jg(pe*100)}},p=function(Z,Q,fe){if(Z=(parseInt(Z,10)||0)%360,Q=parseInt(Q,10)/100,fe=parseInt(fe,10)/100,Q=K3(0,S_(Q,1)),fe=K3(0,S_(fe,1)),Q===0){a=i=l=Jg(255*fe);return}var de=Z/60,ge=fe*Q,pe=ge*(1-Math.abs(de%2-1)),Oe=fe-ge;switch(Math.floor(de)){case 0:a=ge,i=pe,l=0;break;case 1:a=pe,i=ge,l=0;break;case 2:a=0,i=ge,l=pe;break;case 3:a=0,i=pe,l=ge;break;case 4:a=pe,i=0,l=ge;break;case 5:a=ge,i=0,l=pe;break;default:a=i=l=0}a=Jg(255*(a+Oe)),i=Jg(255*(i+Oe)),l=Jg(255*(l+Oe))},S=function(){var Z=function(Q){return Q=parseInt(Q,10).toString(16),Q.length>1?Q:"0"+Q};return"#"+Z(a)+Z(i)+Z(l)},A=function(){return{r:a,g:i,b:l}},F=function(){return v(a,i,l)},X=function(Z){var Q;return typeof Z=="object"?"r"in Z?(a=Z.r,i=Z.g,l=Z.b):"v"in Z&&p(Z.h,Z.s,Z.v):(Q=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(Z))?(a=parseInt(Q[1],10),i=parseInt(Q[2],10),l=parseInt(Q[3],10)):(Q=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(Z))?(a=parseInt(Q[1],16),i=parseInt(Q[2],16),l=parseInt(Q[3],16)):(Q=/#([0-F])([0-F])([0-F])/gi.exec(Z))&&(a=parseInt(Q[1]+Q[1],16),i=parseInt(Q[2]+Q[2],16),l=parseInt(Q[3]+Q[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,n};return e&&X(e),n.toRgb=A,n.toHsv=F,n.toHex=S,n.parse=X,n},ZL=function(e){var n=JSON.stringify(e);return $e(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},o5={serialize:ZL,parse:function(e){try{return JSON.parse(e)}catch{}}},JL={callbacks:{},count:0,send:function(e){var n=this,a=Na.DOM,i=e.count!==void 0?e.count:n.count,l="tinymce_jsonp_"+i;n.callbacks[i]=function(v){a.remove(l),delete n.callbacks[i],e.callback(v)},a.add(a.doc.body,"script",{id:l,src:e.url,type:"text/javascript"}),n.count++}},X3=qn(qn({},L3),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):Wi.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",X3.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Ct.each(e.requestheaders,function(l){n.setRequestHeader(l.key,l.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=X3.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();Wi.setTimeout(i,10)}}),OM=Ct.extend,QL=function(){function e(n){this.settings=OM({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,l=OM(this.settings,n);l.success=function(v,p){v=o5.parse(v),typeof v>"u"&&(v={error:"JSON Parse error."}),v.error?a.call(l.error_scope||l.scope,v.error,p):i.call(l.success_scope||l.scope,v.result)},l.error=function(v,p){a&&a.call(l.error_scope||l.scope,v,p)},l.data=o5.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),l.content_type="application/json",X3.send(l)},e}(),DM=function(){return function(){var e={},n=[],a={getItem:function(i){var l=e[i];return l||null},setItem:function(i,l){n.push(i),e[i]=String(l)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(l){return l===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},Fy;try{var i5="__storage_test__";Fy=window.localStorage,Fy.setItem(i5,i5),Fy.removeItem(i5)}catch{Fy=DM()}var e7=Fy,t7={geom:{Rect:XL},util:{Promise:ui,Delay:Wi,Tools:Ct,VK:Gn,URI:yd,Class:a5,EventDispatcher:F3,Observable:L3,I18n:wu,XHR:X3,JSON:o5,JSONRequest:QL,JSONP:JL,LocalStorage:e7,Color:TM,ImageUploader:WR},dom:{EventUtils:$h,Sizzle:ga,DomQuery:hr,TreeWalker:sa,TextSeeker:q2,DOMUtils:Na,ScriptLoader:av,RangeUtils:s1,Serializer:xR,StyleSheetLoader:Z_,ControlSelection:qw,BookmarkManager:md,Selection:lR,Event:$h.Event},html:{Styles:Ml,Entities:$s,Node:ll,Schema:Bs,SaxParser:Ag,DomParser:Wk,Writer:nk,Serializer:Em},Env:Wn,AddOnManager:zu,Annotator:L0,Formatter:jR,UndoManager:bf,EditorCommands:Xg,WindowManager:PT,NotificationManager:bv,EditorObservable:pM,Shortcuts:W3,Editor:j3,FocusManager:Rx,EditorManager:Zg,DOM:Na.DOM,ScriptLoader:av.ScriptLoader,PluginManager:cl,ThemeManager:kd,IconManager:qk,Resource:C_,trim:Ct.trim,isArray:Ct.isArray,is:Ct.is,toArray:Ct.toArray,makeMap:Ct.makeMap,each:Ct.each,map:Ct.map,grep:Ct.grep,inArray:Ct.inArray,extend:Ct.extend,create:Ct.create,walk:Ct.walk,createNS:Ct.createNS,resolve:Ct.resolve,explode:Ct.explode,_addCacheSuffix:Ct._addCacheSuffix,isOpera:Wn.opera,isWebKit:Wn.webkit,isIE:Wn.ie,isGecko:Wn.gecko,isMac:Wn.mac},RM=Ct.extend(Zg,t7),n7=function(e){try{f.exports=e}catch{}},r7=function(e){window.tinymce=e,window.tinyMCE=e};r7(RM),n7(RM)})()})(hG);var poe=hG.exports;const xn=goe(poe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var f=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},m=function(t){return function(r){return f(r)===t}},y=function(t){return function(r){return typeof r===t}},b=function(t){return function(r){return t===r}},_=m("string"),x=m("object"),T=m("array"),D=b(null),M=y("boolean"),W=b(void 0),N=function(t){return t==null},H=function(t){return!N(t)},I=y("function"),V=y("number"),J=function(t,r){if(T(t)){for(var o=0,s=t.length;o<s;++o)if(!r(t[o]))return!1;return!0}return!1},q=function(){},$e=function(t){return function(){return t()}},me=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(r.apply(null,o))}},Be=function(t,r){return function(o){return t(r(o))}},ie=function(t){return function(){return t}},he=function(t){return t},De=function(t,r){return t===r};function ye(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];var g=r.concat(s);return t.apply(null,g)}}var Xe=function(t){return function(r){return!t(r)}},le=function(t){return function(){throw new Error(t)}},se=ie(!1),Ee=ie(!0),We=tinymce.util.Tools.resolve("tinymce.ThemeManager"),ne=function(){return ne=Object.assign||function(r){for(var o,s=1,d=arguments.length;s<d;s++){o=arguments[s];for(var g in o)Object.prototype.hasOwnProperty.call(o,g)&&(r[g]=o[g])}return r},ne.apply(this,arguments)};function j(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(t);d<s.length;d++)r.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(t,s[d])&&(o[s[d]]=t[s[d]]);return o}function ke(t,r,o){if(o||arguments.length===2)for(var s=0,d=r.length,g;s<d;s++)(g||!(s in r))&&(g||(g=Array.prototype.slice.call(r,0,s)),g[s]=r[s]);return t.concat(g||Array.prototype.slice.call(r))}var rt=function(){return ce},ce=function(){var t=function(s){return s()},r=he,o={fold:function(s,d){return s()},isSome:se,isNone:Ee,getOr:r,getOrThunk:t,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:ie(null),getOrUndefined:ie(void 0),or:r,orThunk:t,map:rt,each:q,bind:rt,exists:se,forall:Ee,filter:function(){return rt()},toArray:function(){return[]},toString:ie("none()")};return o}(),be=function(t){var r=ie(t),o=function(){return d},s=function(g){return g(t)},d={fold:function(g,C){return C(t)},isSome:Ee,isNone:se,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(g){return be(g(t))},each:function(g){g(t)},bind:s,exists:s,forall:s,filter:function(g){return g(t)?d:ce},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return d},st=function(t){return t==null?ce:be(t)},B={some:be,none:rt,from:st},kt=Array.prototype.slice,ot=Array.prototype.indexOf,it=Array.prototype.push,An=function(t,r){return ot.call(t,r)},cn=function(t,r){var o=An(t,r);return o===-1?B.none():B.some(o)},ct=function(t,r){return An(t,r)>-1},_n=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(r(d,o))return!0}return!1},te=function(t,r){for(var o=[],s=0;s<t;s++)o.push(r(s));return o},fn=function(t,r){for(var o=[],s=0;s<t.length;s+=r){var d=kt.call(t,s,s+r);o.push(d)}return o},Ue=function(t,r){for(var o=t.length,s=new Array(o),d=0;d<o;d++){var g=t[d];s[d]=r(g,d)}return s},pt=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];r(d,o)}},Zn=function(t,r){for(var o=t.length-1;o>=0;o--){var s=t[o];r(s,o)}},Te=function(t,r){for(var o=[],s=[],d=0,g=t.length;d<g;d++){var C=t[d],E=r(C,d)?o:s;E.push(C)}return{pass:o,fail:s}},Ae=function(t,r){for(var o=[],s=0,d=t.length;s<d;s++){var g=t[s];r(g,s)&&o.push(g)}return o},Je=function(t,r,o){return Zn(t,function(s,d){o=r(o,s,d)}),o},et=function(t,r,o){return pt(t,function(s,d){o=r(o,s,d)}),o},Le=function(t,r,o){for(var s=0,d=t.length;s<d;s++){var g=t[s];if(r(g,s))return B.some(g);if(o(g,s))break}return B.none()},bt=function(t,r){return Le(t,r,se)},Zt=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(r(d,o))return B.some(o)}return B.none()},ut=function(t){for(var r=[],o=0,s=t.length;o<s;++o){if(!T(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);it.apply(r,t[o])}return r},jt=function(t,r){return ut(Ue(t,r))},$t=function(t,r){for(var o=0,s=t.length;o<s;++o){var d=t[o];if(r(d,o)!==!0)return!1}return!0},Ft=function(t){var r=kt.call(t,0);return r.reverse(),r},rn=function(t,r){return Ae(t,function(o){return!ct(r,o)})},pn=function(t,r){for(var o={},s=0,d=t.length;s<d;s++){var g=t[s];o[String(g)]=r(g,s)}return o},Yn=function(t){return[t]},vr=function(t,r){var o=kt.call(t,0);return o.sort(r),o},qr=function(t,r){return r>=0&&r<t.length?B.some(t[r]):B.none()},ir=function(t){return qr(t,0)},ua=function(t){return qr(t,t.length-1)},va=I(Array.from)?Array.from:function(t){return kt.call(t)},Qr=function(t,r){for(var o=0;o<t.length;o++){var s=r(t[o],o);if(s.isSome())return s}return B.none()},Hr=Object.keys,da=Object.hasOwnProperty,Ur=function(t,r){for(var o=Hr(t),s=0,d=o.length;s<d;s++){var g=o[s],C=t[g];r(C,g)}},dr=function(t,r){return La(t,function(o,s){return{k:s,v:r(o,s)}})},La=function(t,r){var o={};return Ur(t,function(s,d){var g=r(s,d);o[g.k]=g.v}),o},Ji=function(t){return function(r,o){t[o]=r}},Yl=function(t,r,o,s){var d={};return Ur(t,function(g,C){(r(g,C)?o:s)(g,C)}),d},Vr=function(t,r){var o={};return Yl(t,r,Ji(o),q),o},wi=function(t,r){var o=[];return Ur(t,function(s,d){o.push(r(s,d))}),o},Zu=function(t,r){for(var o=Hr(t),s=0,d=o.length;s<d;s++){var g=o[s],C=t[g];if(r(C,g,t))return B.some(C)}return B.none()},Ci=function(t){return wi(t,he)},On=function(t,r){return Pr(t,r)?B.from(t[r]):B.none()},Pr=function(t,r){return da.call(t,r)},co=function(t,r){return Pr(t,r)&&t[r]!==void 0&&t[r]!==null},lu=function(t,r,o){return o===void 0&&(o=De),t.exists(function(s){return o(s,r)})},Ju=function(t,r,o){return o===void 0&&(o=De),Gs(t,r,o).getOr(t.isNone()&&r.isNone())},Ir=function(t){for(var r=[],o=function(d){r.push(d)},s=0;s<t.length;s++)t[s].each(o);return r},Dr=function(t){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s.isSome())r.push(s.getOrDie());else return B.none()}return B.some(r)},Gs=function(t,r,o){return t.isSome()&&r.isSome()?B.some(o(t.getOrDie(),r.getOrDie())):B.none()},rh=function(t,r,o,s){return t.isSome()&&r.isSome()&&o.isSome()?B.some(s(t.getOrDie(),r.getOrDie(),o.getOrDie())):B.none()},Rf=function(t,r){return t!=null?B.some(r(t)):B.none()},qs=function(t,r){return t?B.some(r):B.none()},Mc=function(t,r){return t+r},Ov=function(t,r){return t.substring(r)},yl=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},wl=function(t,r){return Ks(t,r)?Ov(t,r.length):t},$f=function(t,r){return qn(t,r)?t:Mc(t,r)},ma=function(t,r){return t.indexOf(r)!==-1},Ks=function(t,r){return yl(t,r,0)},qn=function(t,r){return yl(t,r,t.length-r.length)},ah=function(t){return function(r){return r.replace(t,"")}},Ou=ah(/^\s+|\s+$/g),Pc=function(t){return t.length>0},oh=function(t){return!Pc(t)},Zl=function(t){return t.style!==void 0&&I(t.style.getPropertyValue)},ih=function(t,r){var o=r||document,s=o.createElement("div");if(s.innerHTML=t,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return _s(s.childNodes[0])},Bf=function(t,r){var o=r||document,s=o.createElement(t);return _s(s)},uh=function(t,r){var o=r||document,s=o.createTextNode(t);return _s(s)},_s=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Ic=function(t,r,o){return B.from(t.dom.elementFromPoint(r,o)).map(_s)},sn={fromHtml:ih,fromTag:Bf,fromText:uh,fromDom:_s,fromPoint:Ic};typeof window<"u"||Function("return this;")();var Bd=9,Dv=11,Rv=1,Jl=3,Qu=function(t){var r=t.dom.nodeName;return r.toLowerCase()},sh=function(t){return t.dom.nodeType},Bo=function(t){return function(r){return sh(r)===t}},bo=Bo(Rv),Du=Bo(Jl),Xs=Bo(Bd),Md=Bo(Dv),es=function(t){var r=!1,o;return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return r||(r=!0,o=t.apply(null,s)),o}},Mf=function(t,r,o,s){var d=t.isiOS()&&/ipad/i.test(o)===!0,g=t.isiOS()&&!d,C=t.isiOS()||t.isAndroid(),E=C||s("(pointer:coarse)"),O=d||!g&&C&&s("(min-device-width:768px)"),$=g||C&&!O,U=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,G=!$&&!O&&!U;return{isiPad:ie(d),isiPhone:ie(g),isTablet:ie(O),isPhone:ie($),isTouch:ie(E),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ie(U),isDesktop:ie(G)}},Pd=function(t,r){for(var o=0;o<t.length;o++){var s=t[o];if(s.test(r))return s}},Cl=function(t,r){var o=Pd(t,r);if(!o)return{major:0,minor:0};var s=function(d){return Number(r.replace(o,"$"+d))};return _i(s(1),s(2))},Ru=function(t,r){var o=String(r).toLowerCase();return t.length===0?en():Cl(t,o)},en=function(){return _i(0,0)},_i=function(t,r){return{major:t,minor:r}},_l={nu:_i,detect:Ru,unknown:en},lh=function(t,r){return Qr(r.brands,function(o){var s=o.brand.toLowerCase();return bt(t,function(d){var g;return s===((g=d.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(function(d){return{current:d.name,version:_l.nu(parseInt(o.version,10),0)}})})},Pf=function(t,r){var o=String(r).toLowerCase();return bt(t,function(s){return s.search(o)})},ea=function(t,r){return Pf(t,r).map(function(o){var s=_l.detect(o.versionRegexes,r);return{current:o.name,version:s}})},$v=function(t,r){return Pf(t,r).map(function(o){var s=_l.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Sl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fo=function(t){return function(r){return ma(r,t)}},Bv=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ma(t,"edge/")&&ma(t,"chrome")&&ma(t,"safari")&&ma(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Sl],search:function(t){return ma(t,"chrome")&&!ma(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ma(t,"msie")||ma(t,"trident")}},{name:"Opera",versionRegexes:[Sl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fo("firefox")},{name:"Safari",versionRegexes:[Sl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ma(t,"safari")||ma(t,"mobile/"))&&ma(t,"applewebkit")}}],cu=[{name:"Windows",search:fo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ma(t,"iphone")||ma(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:fo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fo("linux"),versionRegexes:[]},{name:"Solaris",search:fo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:fo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ts={browsers:ie(Bv),oses:ie(cu)},Ba="Edge",If="Chrome",Nf="IE",Mv="Opera",Id="Firefox",xl="Safari",Ys=function(){return Pv({current:void 0,version:_l.unknown()})},Pv=function(t){var r=t.current,o=t.version,s=function(d){return function(){return r===d}};return{current:r,version:o,isEdge:s(Ba),isChrome:s(If),isIE:s(Nf),isOpera:s(Mv),isFirefox:s(Id),isSafari:s(xl)}},Ss={unknown:Ys,nu:Pv,edge:ie(Ba),chrome:ie(If),ie:ie(Nf),opera:ie(Mv),firefox:ie(Id),safari:ie(xl)},$u="Windows",oe="iOS",Ie="Android",Ze="Linux",Et="OSX",qt="Solaris",Bn="FreeBSD",aa="ChromeOS",ha=function(){return Cr({current:void 0,version:_l.unknown()})},Cr=function(t){var r=t.current,o=t.version,s=function(d){return function(){return r===d}};return{current:r,version:o,isWindows:s($u),isiOS:s(oe),isAndroid:s(Ie),isOSX:s(Et),isLinux:s(Ze),isSolaris:s(qt),isFreeBSD:s(Bn),isChromeOS:s(aa)}},Ha={unknown:ha,nu:Cr,windows:ie($u),ios:ie(oe),android:ie(Ie),linux:ie(Ze),osx:ie(Et),solaris:ie(qt),freebsd:ie(Bn),chromeos:ie(aa)},Xa=function(t,r,o){var s=ts.browsers(),d=ts.oses(),g=r.bind(function(O){return lh(s,O)}).orThunk(function(){return ea(s,t)}).fold(Ss.unknown,Ss.nu),C=$v(d,t).fold(Ha.unknown,Ha.nu),E=Mf(C,g,t,o);return{browser:g,os:C,deviceType:E}},Nc={detect:Xa},Fi=function(t){return window.matchMedia(t).matches},Ql=es(function(){return Nc.detect(navigator.userAgent,B.from(navigator.userAgentData),Fi)}),Wn=function(){return Ql()},ch=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},vp=function(t,r){return ch(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},ta=function(t,r){var o=t.dom;if(o.nodeType!==Rv)return!1;var s=o;if(s.matches!==void 0)return s.matches(r);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(r);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(r);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},dp=function(t){return t.nodeType!==Rv&&t.nodeType!==Bd&&t.nodeType!==Dv||t.childElementCount===0},fh=function(t,r){var o=r===void 0?document:r.dom;return dp(o)?[]:Ue(o.querySelectorAll(t),sn.fromDom)},a2=function(t,r){var o=r===void 0?document:r.dom;return dp(o)?B.none():B.from(o.querySelector(t)).map(sn.fromDom)},Sa=function(t,r){return t.dom===r.dom},Zs=function(t,r){var o=t.dom,s=r.dom;return o===s?!1:o.contains(s)},o2=function(t,r){return vp(t.dom,r.dom)},kl=function(t,r){return Wn().browser.isIE()?o2(t,r):Zs(t,r)},Zo=function(t){return sn.fromDom(t.dom.ownerDocument)},zf=function(t){return Xs(t)?t:Zo(t)},Ct=function(t){return sn.fromDom(zf(t).dom.documentElement)},vh=function(t){return sn.fromDom(zf(t).dom.defaultView)},xo=function(t){return B.from(t.dom.parentNode).map(sn.fromDom)},lb=function(t){return xo(t)},Ff=function(t){return B.from(t.dom.offsetParent).map(sn.fromDom)},Iv=function(t){return B.from(t.dom.nextSibling).map(sn.fromDom)},Ge=function(t){return Ue(t.dom.childNodes,sn.fromDom)},oi=function(t,r){var o=t.dom.childNodes;return B.from(o[r]).map(sn.fromDom)},dh=function(t){return oi(t,0)},mp=function(t,r){return{element:t,offset:r}},cb=function(t,r){var o=Ge(t);return o.length>0&&r<o.length?mp(o[r],0):mp(t,r)},Nd=function(t){return Md(t)&&H(t.dom.host)},hp=I(Element.prototype.attachShadow)&&I(Node.prototype.getRootNode),gp=ie(hp),xs=hp?function(t){return sn.fromDom(t.dom.getRootNode())}:zf,ec=function(t){return Nd(t)?t:sn.fromDom(zf(t).dom.body)},fb=function(t){return vb(t).isSome()},vb=function(t){var r=xs(t);return Nd(r)?B.some(r):B.none()},tc=function(t){return sn.fromDom(t.dom.host)},Ma=function(t){if(gp()&&H(t.target)){var r=sn.fromDom(t.target);if(bo(r)&&db(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return ir(o)}}return B.from(t.target)},db=function(t){return H(t.dom.shadowRoot)},fu=function(t){var r=Du(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return vb(sn.fromDom(r)).fold(function(){return o.body.contains(r)},Be(fu,tc))},Li=function(){return ko(sn.fromDom(document))},ko=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return sn.fromDom(r)},zc=function(t,r,o){if(_(o)||M(o)||V(o))t.setAttribute(r,o+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},fr=function(t,r,o){zc(t.dom,r,o)},ns=function(t,r){var o=t.dom;Ur(r,function(s,d){zc(o,d,s)})},Va=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},Ya=function(t,r){return B.from(Va(t,r))},mb=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},ii=function(t,r){t.dom.removeAttribute(r)},pp=function(t,r,o){if(!_(o))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Zl(t)&&t.style.setProperty(r,o)},Al=function(t,r){Zl(t)&&t.style.removeProperty(r)},Xn=function(t,r,o){var s=t.dom;pp(s,r,o)},rs=function(t,r){var o=t.dom;Ur(r,function(s,d){pp(o,d,s)})},ro=function(t,r){var o=t.dom;Ur(r,function(s,d){s.fold(function(){Al(o,d)},function(g){pp(o,d,g)})})},ao=function(t,r){var o=t.dom,s=window.getComputedStyle(o),d=s.getPropertyValue(r);return d===""&&!fu(t)?Lo(o,r):d},Lo=function(t,r){return Zl(t)?t.style.getPropertyValue(r):""},Ao=function(t,r){var o=t.dom,s=Lo(o,r);return B.from(s).filter(function(d){return d.length>0})},Lf=function(t){var r={},o=t.dom;if(Zl(o))for(var s=0;s<o.style.length;s++){var d=o.style.item(s);r[d]=o.style[d]}return r},ks=function(t,r,o){var s=sn.fromTag(t);Xn(s,r,o);var d=Ao(s,r);return d.isSome()},Kr=function(t,r){var o=t.dom;Al(o,r),lu(Ya(t,"style").map(Ou),"")&&ii(t,"style")},Pa=function(t){return t.dom.offsetWidth},Qi=function(t,r){var o=function(E,O){if(!V(O)&&!O.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+O);var $=E.dom;Zl($)&&($.style[t]=O+"px")},s=function(E){var O=r(E);if(O<=0||O===null){var $=ao(E,t);return parseFloat($)||0}return O},d=s,g=function(E,O){return et(O,function($,U){var G=ao(E,U),ee=G===void 0?0:parseInt(G,10);return isNaN(ee)?$:$+ee},0)},C=function(E,O,$){var U=g(E,$),G=O>U?O-U:0;return G};return{set:o,get:s,getOuter:d,aggregate:g,max:C}},nc=Qi("height",function(t){var r=t.dom;return fu(t)?r.getBoundingClientRect().height:r.offsetHeight}),Mo=function(t){return nc.get(t)},as=function(t){return nc.getOuter(t)},hb=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=nc.max(t,r,o);Xn(t,"max-height",s+"px")},Hf=function(t,r){var o=function(s,d){return Hf(t+s,r+d)};return{left:t,top:r,translate:o}},ya=Hf,Js=function(t){var r=t.getBoundingClientRect();return ya(r.left,r.top)},Fc=function(t,r){return t!==void 0?t:r!==void 0?r:0},vu=function(t){var r=t.dom.ownerDocument,o=r.body,s=r.defaultView,d=r.documentElement;if(o===t.dom)return ya(o.offsetLeft,o.offsetTop);var g=Fc(s==null?void 0:s.pageYOffset,d.scrollTop),C=Fc(s==null?void 0:s.pageXOffset,d.scrollLeft),E=Fc(d.clientTop,o.clientTop),O=Fc(d.clientLeft,o.clientLeft);return vo(t).translate(C-O,g-E)},vo=function(t){var r=t.dom,o=r.ownerDocument,s=o.body;return s===r?ya(s.offsetLeft,s.offsetTop):fu(t)?Js(r):ya(0,0)},Lc=Qi("width",function(t){return t.dom.offsetWidth}),rc=function(t,r){return Lc.set(t,r)},Hi=function(t){return Lc.get(t)},du=function(t){return Lc.getOuter(t)},Si=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Lc.max(t,r,o);Xn(t,"max-width",s+"px")},Nv=function(t,r,o,s,d,g,C){return{target:t,x:r,y:o,stop:s,prevent:d,kill:g,raw:C}},Qs=function(t){var r=sn.fromDom(Ma(t).getOr(t.target)),o=function(){return t.stopPropagation()},s=function(){return t.preventDefault()},d=me(s,o);return Nv(r,t.clientX,t.clientY,o,s,d,t)},Ho=function(t,r){return function(o){t(o)&&r(Qs(o))}},zd=function(t,r,o,s,d){var g=Ho(o,s);return t.dom.addEventListener(r,g,d),{unbind:ye(Uf,t,r,g,d)}},gb=function(t,r,o,s){return zd(t,r,o,s,!1)},Vf=function(t,r,o,s){return zd(t,r,o,s,!0)},Uf=function(t,r,o,s){t.dom.removeEventListener(r,o,s)},mo=function(t,r){var o=xo(t);o.each(function(s){s.dom.insertBefore(r.dom,t.dom)})},Wf=function(t,r){var o=Iv(t);o.fold(function(){var s=xo(t);s.each(function(d){Vi(d,r)})},function(s){mo(s,r)})},jf=function(t,r){var o=dh(t);o.fold(function(){Vi(t,r)},function(s){t.dom.insertBefore(r.dom,s.dom)})},Vi=function(t,r){t.dom.appendChild(r.dom)},ac=function(t,r,o){oi(t,o).fold(function(){Vi(t,r)},function(s){mo(s,r)})},Gf=function(t,r){pt(r,function(o){mo(t,o)})},oc=function(t,r){pt(r,function(o){Vi(t,o)})},Ga=function(t){t.dom.textContent="",pt(Ge(t),function(r){Bu(r)})},Bu=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},mh=function(t){var r=Ge(t);r.length>0&&Gf(t,r),Bu(t)},os=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,s=r.body.scrollTop||r.documentElement.scrollTop;return ya(o,s)},hh=function(t,r,o){var s=o!==void 0?o.dom:document,d=s.defaultView;d&&d.scrollTo(t,r)},pb=function(t){var r=t===void 0?window:t;return Wn().browser.isFirefox()?B.none():B.from(r.visualViewport)},bp=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},qf=function(t){var r=t===void 0?window:t,o=r.document,s=os(sn.fromDom(o));return pb(r).fold(function(){var d=r.document.documentElement,g=d.clientWidth,C=d.clientHeight;return bp(s.left,s.top,g,C)},function(d){return bp(Math.max(d.pageLeft,s.left),Math.max(d.pageTop,s.top),d.width,d.height)})},Kf=function(t,r){var o=t.view(r);return o.fold(ie([]),function(s){var d=t.owner(s),g=Kf(t,d);return[s].concat(g)})},Hc=function(t,r){var o=r.owner(t),s=Kf(r,o);return B.some(s)},Jn=function(t){var r,o=t.dom===document?B.none():B.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(sn.fromDom)},As=function(t){return Zo(t)},mu=Object.freeze({__proto__:null,view:Jn,owner:As}),Ui=function(t){var r=sn.fromDom(document),o=os(r),s=Hc(t,mu);return s.fold(ye(vu,t),function(d){var g=vo(t),C=Je(d,function(E,O){var $=vo(O);return{left:E.left+$.left,top:E.top+$.top}},{left:0,top:0});return ya(C.left+g.left+o.left,C.top+g.top+o.top)})},Es=function(t,r,o){return{point:t,width:r,height:o}},yo=function(t,r,o,s){return{x:t,y:r,width:o,height:s}},Vo=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Eo=function(t){var r=vu(t),o=du(t),s=as(t);return Vo(r.left,r.top,o,s)},Vc=function(t){var r=Ui(t),o=du(t),s=as(t);return Vo(r.left,r.top,o,s)},xi=function(){return qf(window)},gn=function(t){var r=function(G){return gn(t)},o=function(G){return gn(t)},s=function(G){return gn(G(t))},d=function(G){return gn(t)},g=function(G){G(t)},C=function(G){return G(t)},E=function(G,ee){return ee(t)},O=function(G){return G(t)},$=function(G){return G(t)},U=function(){return B.some(t)};return{isValue:Ee,isError:se,getOr:ie(t),getOrThunk:ie(t),getOrDie:ie(t),or:r,orThunk:o,fold:E,map:s,mapError:d,each:g,bind:C,exists:O,forall:$,toOptional:U}},Xf=function(t){var r=function($){return $()},o=function(){return le(String(t))()},s=he,d=function($){return $()},g=function($){return Xf(t)},C=function($){return Xf($(t))},E=function($){return Xf(t)},O=function($,U){return $(t)};return{isValue:se,isError:Ee,getOr:he,getOrThunk:r,getOrDie:o,or:s,orThunk:d,fold:O,map:g,mapError:C,each:q,bind:E,exists:se,forall:Ee,toOptional:B.none}},yp=function(t,r){return t.fold(function(){return Xf(r)},gn)},mr={value:gn,error:Xf,fromOption:yp},wa;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(wa||(wa={}));var gh=function(t,r,o){return t.stype===wa.Error?r(t.serror):o(t.svalue)},El=function(t){var r=[],o=[];return pt(t,function(s){gh(s,function(d){return o.push(d)},function(d){return r.push(d)})}),{values:r,errors:o}},Ua=function(t,r){return t.stype===wa.Error?{stype:wa.Error,serror:r(t.serror)}:t},ph=function(t,r){return t.stype===wa.Value?{stype:wa.Value,svalue:r(t.svalue)}:t},Mu=function(t,r){return t.stype===wa.Value?r(t.svalue):t},Fd=function(t,r){return t.stype===wa.Error?r(t.serror):t},br=function(t){return{stype:wa.Value,svalue:t}},eu=function(t){return{stype:wa.Error,serror:t}},i2=function(t){return gh(t,mr.error,mr.value)},u2=function(t){return t.fold(eu,br)},qa={fromResult:u2,toResult:i2,svalue:br,partition:El,serror:eu,bind:Mu,bindError:Fd,map:ph,mapError:Ua,fold:gh},bh=function(t,r,o,s){return{tag:"field",key:t,newKey:r,presence:o,prop:s}},P=function(t,r){return{tag:"custom",newKey:t,instantiator:r}},Y=function(t,r,o){switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},re=function(t,r){return r},_e=function(t,r){var o=x(t)&&x(r);return o?yt(t,r):r},Ke=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var s={},d=0;d<r.length;d++){var g=r[d];for(var C in g)Pr(g,C)&&(s[C]=t(s[C],g[C]))}return s}},yt=Ke(_e),kn=Ke(re),rr=function(){return{tag:"required",process:{}}},Rr=function(t){return{tag:"defaultedThunk",process:t}},yr=function(t){return Rr(ie(t))},xa=function(){return{tag:"option",process:{}}},ki=function(t){return{tag:"mergeWithThunk",process:t}},oo=function(t){return ki(ie(t))},CA=function(t,r){return t.length>0?qa.svalue(yt(r,kn.apply(void 0,t))):qa.svalue(r)},G_=function(t){return me(qa.serror,ut)(t)},q_=function(t,r){var o=qa.partition(t);return o.errors.length>0?G_(o.errors):CA(o.values,r)},_A=function(t){var r=qa.partition(t);return r.errors.length>0?G_(r.errors):qa.svalue(r.values)},ic={consolidateObj:q_,consolidateArr:_A},wp=function(t){return x(t)&&Hr(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Pu=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:ie("... (only showing first ten failures)")}]):t;return Ue(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},yh=function(t,r){return qa.serror([{path:t,getErrorInfo:r}])},s2=function(t,r,o){return yh(t,function(){return'Could not find valid *required* value for "'+r+'" in '+wp(o)})},Cp=function(t,r){return yh(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},bb=function(t,r,o){return yh(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+wp(r)})},K_=function(t,r){return yh(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},SA=function(t,r){return yh(t,ie(r))},uc=function(t){var r=function(s,d){return qa.bindError(t(d),function(g){return SA(s,g)})},o=ie("val");return{extract:r,toString:o}},_p=uc(qa.svalue),xA=function(t,r,o,s){return On(r,o).fold(function(){return s2(t,o,r)},s)},l2=function(t,r,o,s){var d=On(t,r).getOrThunk(function(){return o(t)});return s(d)},kA=function(t,r,o){return o(On(t,r))},AA=function(t,r,o,s){var d=On(t,r).map(function(g){return g===!0?o(t):g});return s(d)},wh=function(t,r,o,s,d){var g=function(E){return d.extract(r.concat([s]),E)},C=function(E){return E.fold(function(){return qa.svalue(B.none())},function(O){var $=d.extract(r.concat([s]),O);return qa.map($,B.some)})};switch(t.tag){case"required":return xA(r,o,s,g);case"defaultedThunk":return l2(o,s,t.process,g);case"option":return kA(o,s,C);case"defaultedOptionThunk":return AA(o,s,t.process,C);case"mergeWithThunk":return l2(o,s,ie({}),function(E){var O=yt(t.process(o),E);return g(O)})}},Sp=function(t,r,o){for(var s={},d=[],g=0,C=o;g<C.length;g++){var E=C[g];Y(E,function(O,$,U,G){var ee=wh(U,t,r,O,G);qa.fold(ee,function(ae){d.push.apply(d,ae)},function(ae){s[$]=ae})},function(O,$){s[O]=$(r)})}return d.length>0?qa.serror(d):qa.svalue(s)},X_=function(t){var r=function(s,d){return t().extract(s,d)},o=function(){return t().toString()};return{extract:r,toString:o}},Y_=function(t){return Hr(Vr(t,H))},is=function(t){var r=Mn(t),o=Je(t,function(d,g){return Y(g,function(C){var E;return yt(d,(E={},E[C]=!0,E))},ie(d))},{}),s=function(d,g){var C=M(g)?[]:Y_(g),E=Ae(C,function(O){return!co(o,O)});return E.length===0?r.extract(d,g):K_(d,E)};return{extract:s,toString:r.toString}},Mn=function(t){var r=function(s,d){return Sp(s,d,t)},o=function(){var s=Ue(t,function(d){return Y(d,function(g,C,E,O){return g+" -> "+O.toString()},function(g,C){return"state("+g+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:r,toString:o}},Yf=function(t){var r=function(s,d){var g=Ue(d,function(C,E){return t.extract(s.concat(["["+E+"]"]),C)});return ic.consolidateArr(g)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},xp=function(t){var r=function(s,d){for(var g=[],C=0,E=t;C<E.length;C++){var O=E[C],$=O.extract(s,d);if($.stype===wa.Value)return $;g.push($)}return ic.consolidateArr(g)},o=function(){return"oneOf("+Ue(t,function(s){return s.toString()}).join(", ")+")"};return{extract:r,toString:o}},zv=function(t,r){var o=function(g,C){return Yf(uc(t)).extract(g,C)},s=function(g,C){var E=Hr(C),O=o(g,E);return qa.bind(O,function($){var U=Ue($,function(G){return bh(G,G,rr(),r)});return Mn(U).extract(g,C)})},d=function(){return"setOf("+r.toString()+")"};return{extract:s,toString:d}},Ch=function(t,r){var o=es(r),s=function(g,C){return o().extract(g,C)},d=function(){return o().toString()};return{extract:s,toString:d}},c2=me(Yf,Mn),Tl=ie(_p),Ld=function(t,r){return uc(function(o){var s=typeof o;return t(o)?qa.svalue(o):qa.serror("Expected type: "+r+" but got: "+s)})},_h=Ld(V,"number"),wo=Ld(_,"string"),ui=Ld(M,"boolean"),kp=Ld(I,"function"),Uc=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return Uc(t[r])});default:return!1}},Ap=uc(function(t){return Uc(t)?qa.svalue(t):qa.serror("Expected value to be acceptable for sending via postMessage")}),yb=function(t,r,o,s){var d=On(o,s);return d.fold(function(){return bb(t,o,s)},function(g){return g.extract(t.concat(["branch: "+s]),r)})},wb=function(t,r){var o=function(d,g){var C=On(g,t);return C.fold(function(){return Cp(d,t)},function(E){return yb(d,g,r,E)})},s=function(){return"chooseOn("+t+"). Possible values: "+Hr(r)};return{extract:o,toString:s}},EA=function(){return Yf(_p)},Sh=function(t){return uc(function(r){return t(r).fold(qa.serror,qa.svalue)})},Wi=function(t,r){return zv(function(o){return qa.fromResult(t(o))},r)},Z_=function(t,r,o){var s=r.extract([t],o);return qa.mapError(s,function(d){return{input:o,errors:d}})},Za=function(t,r,o){return qa.toResult(Z_(t,r,o))},Ol=function(t){return t.fold(function(r){throw new Error(Fv(r))},he)},sa=function(t,r,o){return Ol(Za(t,r,o))},Fv=function(t){return`Errors: 
`+Pu(t.errors).join(`
`)+`

Input object: `+wp(t.input)},el=function(t,r){return wb(t,dr(r,Mn))},TA=function(t,r){return Ch(t,r)},Uo=bh,hu=P,J_=function(t){return Sh(function(r){return ct(t,r)?mr.value(r):mr.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},At=function(t){return Uo(t,t,rr(),Tl())},Iu=function(t,r){return Uo(t,t,rr(),r)},Zf=function(t){return Iu(t,_h)},Qn=function(t){return Iu(t,wo)},Ts=function(t,r){return Uo(t,t,rr(),J_(r))},OA=function(t){return Iu(t,ui)},tu=function(t){return Iu(t,kp)},xh=function(t,r){return Uo(t,t,xa(),uc(function(o){return qa.serror("The field: "+t+" is forbidden. "+r)}))},Wc=function(t,r){return Uo(t,t,rr(),Mn(r))},Dl=function(t,r){return Uo(t,t,rr(),c2(r))},ji=function(t,r){return Uo(t,t,rr(),Yf(r))},Xr=function(t){return Uo(t,t,xa(),Tl())},sc=function(t,r){return Uo(t,t,xa(),r)},Hd=function(t){return sc(t,_h)},Ea=function(t){return sc(t,wo)},Lv=function(t){return sc(t,kp)},us=function(t,r){return sc(t,Yf(r))},ss=function(t,r){return sc(t,Mn(r))},DA=function(t,r){return sc(t,is(r))},He=function(t,r){return Uo(t,t,yr(r),Tl())},gu=function(t,r,o){return Uo(t,t,yr(r),o)},lc=function(t,r){return gu(t,r,_h)},kh=function(t,r){return gu(t,r,wo)},Os=function(t,r,o){return gu(t,r,J_(o))},Ca=function(t,r){return gu(t,r,ui)},Ta=function(t,r){return gu(t,r,kp)},Nu=function(t,r){return gu(t,r,Ap)},Jf=function(t,r,o){return gu(t,r,Yf(o))},f2=function(t,r,o){return gu(t,r,Mn(o))},zn=function(t){var r=t,o=function(){return r},s=function(d){r=d};return{get:o,set:s}},Cb=function(t){if(!T(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return pt(t,function(s,d){var g=Hr(s);if(g.length!==1)throw new Error("one and only one name per case");var C=g[0],E=s[C];if(o[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!T(E))throw new Error("case arguments must be an array");r.push(C),o[C]=function(){for(var O=[],$=0;$<arguments.length;$++)O[$]=arguments[$];var U=O.length;if(U!==E.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+E.length+" ("+E+"), got "+U);var G=function(ee){var ae=Hr(ee);if(r.length!==ae.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+ae.join(","));var ve=$t(r,function(Se){return ct(ae,Se)});if(!ve)throw new Error("Not all branches were specified when using match. Specified: "+ae.join(", ")+`
Required: `+r.join(", "));return ee[C].apply(null,O)};return{fold:function(){for(var ee=[],ae=0;ae<arguments.length;ae++)ee[ae]=arguments[ae];if(ee.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+ee.length);var ve=ee[d];return ve.apply(null,O)},match:G,log:function(ee){console.log(ee,{constructors:r,constructor:C,params:O})}}}}),o},Ds={generate:Cb};Ds.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Q_=function(t){var r=[],o=[];return pt(t,function(s){s.fold(function(d){r.push(d)},function(d){o.push(d)})}),{errors:r,values:o}},Ep=function(t,r){var o={};return Ur(t,function(s,d){ct(r,d)||(o[d]=s)}),o},Tp=function(t,r){var o;return o={},o[t]=r,o},v2=function(t){var r={};return pt(t,function(o){r[o.key]=o.value}),r},d2=function(t,r){return Ep(t,r)},jc=function(t,r){return Tp(t,r)},Qf=function(t){return v2(t)},RA=function(t,r){return t.length===0?mr.value(r):mr.value(yt(r,kn.apply(void 0,t)))},m2=function(t){return mr.error(ut(t))},$A=function(t,r){var o=Q_(t);return o.errors.length>0?m2(o.errors):RA(o.values,r)},eS=function(t){return I(t)?t:se},Op=function(t,r,o){for(var s=t.dom,d=eS(o);s.parentNode;){s=s.parentNode;var g=sn.fromDom(s),C=r(g);if(C.isSome())return C;if(d(g))break}return B.none()},Ah=function(t,r,o){var s=r(t),d=eS(o);return s.orThunk(function(){return d(t)?B.none():Op(t,r,d)})},tS=function(t,r){return Sa(t.element,r.event.target)},Gc={can:Ee,abort:se,run:q},Eh=function(t){if(!co(t,"can")&&!co(t,"abort")&&!co(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return ne(ne({},Gc),t)},h2=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return et(t,function(d,g){return d&&r(g).apply(void 0,o)},!0)}},nS=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return et(t,function(d,g){return d||r(g).apply(void 0,o)},!1)}},BA=function(t){return I(t)?{can:Ee,abort:se,run:t}:t},MA=function(t){var r=h2(t,function(d){return d.can}),o=nS(t,function(d){return d.abort}),s=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];pt(t,function(C){C.run.apply(void 0,d)})};return{can:r,abort:o,run:s}},Po=ie,qc=Po("touchstart"),Rl=Po("touchmove"),Hv=Po("touchend"),rS=Po("touchcancel"),$l=Po("mousedown"),Vd=Po("mousemove"),g2=Po("mouseout"),p2=Po("mouseup"),ev=Po("mouseover"),tl=Po("focusin"),Ai=Po("focusout"),_b=Po("keydown"),b2=Po("keyup"),Ud=Po("input"),Th=Po("change"),Oh=Po("click"),PA=Po("transitioncancel"),Dh=Po("transitionend"),y2=Po("transitionstart"),IA=Po("selectstart"),io=function(t){return ie("alloy."+t)},Sb={tap:io("tap")},Vv=io("focus"),w2=io("blur.post"),C2=io("paste.post"),nl=io("receive"),Rs=io("execute"),Wd=io("focus.item"),Uv=Sb.tap,xb=io("longpress"),Dp=io("sandbox.close"),_2=io("typeahead.cancel"),jd=io("system.init"),kb=io("system.touchmove"),NA=io("system.touchend"),S2=io("system.scroll"),$s=io("system.resize"),ls=io("system.attached"),Rh=io("system.detached"),Bl=io("system.dismissRequested"),Gi=io("system.repositionRequested"),Ab=io("focusmanager.shifted"),tv=io("slotcontainer.visibility"),aS=io("change.tab"),Ei=io("dismiss.tab"),x2=io("highlight"),Eb=io("dehighlight"),Wr=function(t,r){Ml(t,t.element,r,{})},Fn=function(t,r,o){Ml(t,t.element,r,o)},Bs=function(t){Wr(t,Rs())},Tb=function(t,r,o){Ml(t,r,o,{})},Ml=function(t,r,o,s){var d=ne({target:r},s);t.getSystem().triggerEvent(o,r,d)},oS=function(t,r,o,s){t.getSystem().triggerEvent(o,r,s.event)},_a=function(t){return Qf(t)},k2=function(t,r){return{key:t,value:Eh({abort:r})}},Ob=function(t,r){return{key:t,value:Eh({can:r})}},Db=function(t){return{key:t,value:Eh({run:function(r,o){o.event.prevent()}})}},Bt=function(t,r){return{key:t,value:Eh({run:r})}},A2=function(t,r,o){return{key:t,value:Eh({run:function(s,d){r.apply(void 0,[s,d].concat(o))}})}},E2=function(t){return function(r){return Bt(t,r)}},Wv=function(t){return function(r){return{key:t,value:Eh({run:function(o,s){tS(o,s)&&r(o,s)}})}}},Rp=function(t,r){return Bt(t,function(o,s){o.getSystem().getByUid(r).each(function(d){oS(d,d.element,t,s)})})},Gd=function(t,r,o){var s=r.partUids[o];return Rp(t,s)},jv=function(t,r){return Bt(t,function(o,s){var d=s.event,g=o.getSystem().getByDom(d.target).getOrThunk(function(){var C=Ah(d.target,function(E){return o.getSystem().getByDom(E).toOptional()},se);return C.getOr(o)});r(o,g,s)})},qd=function(t){return Bt(t,function(r,o){o.cut()})},$h=function(t){return Bt(t,function(r,o){o.stop()})},To=function(t,r){return Wv(t)(r)},sr=Wv(ls()),Ms=Wv(Rh()),iS=Wv(jd()),cs=E2(Rs()),T2=function(t,r){var o=r||document,s=o.createElement("div");return s.innerHTML=t,Ge(sn.fromDom(s))},Kc=function(t){return t.dom.innerHTML},nv=function(t,r){var o=Zo(t),s=o.dom,d=sn.fromDom(s.createDocumentFragment()),g=T2(r,s);oc(d,g),Ga(t),Vi(t,d)},rv=function(t){var r=sn.fromTag("div"),o=sn.fromDom(t.dom.cloneNode(!0));return Vi(r,o),Kc(r)},Ps=function(t,r){return sn.fromDom(t.dom.cloneNode(r))},Gv=function(t){return Ps(t,!1)},Jo=function(t){if(Nd(t))return"#shadow-root";var r=Gv(t);return rv(r)},pu=function(t){return Jo(t)},Xc=function(t,r,o){return Sa(r,t.element)&&!Sa(r,o)},qv=_a([Ob(Vv(),function(t,r){var o=r.event,s=o.originator,d=o.target;return Xc(t,s,d)?(console.warn(Vv()+` did not get interpreted by the desired target. 
Originator: `+pu(s)+`
Target: `+pu(d)+`
Check the `+Vv()+" event handlers"),!1):!0})]),Bh=Object.freeze({__proto__:null,events:qv}),Kd=0,wn=function(t){var r=new Date,o=r.getTime(),s=Math.floor(Math.random()*1e9);return Kd++,t+"_"+s+Kd+String(o)},si=ie("alloy-id-"),cc=ie("data-alloy-id"),Yc=si(),$p=cc(),uS=function(t,r){var o=wn(Yc+t);return Rb(r,o),o},Rb=function(t,r){Object.defineProperty(t.dom,$p,{value:r,writable:!0})},Kv=function(t){var r=bo(t)?t.dom[$p]:null;return B.from(r)},Xv=function(t){return wn(t)},Mh=he,Bp=function(t){var r=function(d){return"The component must be in a context to execute: "+d+(t?`
`+pu(t().element)+" is not in context.":"")},o=function(d){return function(){throw new Error(r(d))}},s=function(d){return function(){console.warn(r(d))}};return{debugInfo:ie("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:se}},zA=Bp(),Is=function(t,r,o){var s=o.toString(),d=s.indexOf(")")+1,g=s.indexOf("("),C=s.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:O2(C.slice(0,1).concat(C.slice(3)))}},t},O2=function(t){return Ue(t,function(r){return qn(r,"/*")?r.substring(0,r.length-2):r})},Xd=function(t,r){var o=t.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),g=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:O2(g)}},t},Yv=function(t,r){var o=r.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),g=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:O2(g.slice(1))}},t},D2=wn("alloy-premade"),Zv=function(t){return jc(D2,t)},sS=function(t){return On(t,D2)},Ja=function(t){return Yv(function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t.apply(void 0,ke([r.getApis(),r],o,!1))},t)},Ti={init:function(){return qi({readState:ie("No State required")})}},qi=function(t){return t},lS=function(t,r){var o=Ue(r,function(d){return ss(d.name(),[At("config"),He("state",Ti)])}),s=Za("component.behaviours",Mn(o),t.behaviours).fold(function(d){throw new Error(Fv(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},he);return{list:r,data:dr(s,function(d){var g=d.map(function(C){return{config:C.config,state:C.state.init(C.config)}});return ie(g)})}},$b=function(t){return t.list},FA=function(t){return t.data},cS=function(t,r){var o={};return Ur(t,function(s,d){Ur(s,function(g,C){var E=On(o,C).getOr([]);o[C]=E.concat([r(d,g)])})}),o},Pl=function(t){return{classes:W(t.classes)?[]:t.classes,attributes:W(t.attributes)?{}:t.attributes,styles:W(t.styles)?{}:t.styles}},LA=function(t,r){return ne(ne({},t),{attributes:ne(ne({},t.attributes),r.attributes),styles:ne(ne({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},Ph=function(t,r,o,s){var d=ne({},r);pt(o,function(U){d[U.name()]=U.exhibit(t,s)});var g=cS(d,function(U,G){return{name:U,modification:G}}),C=function(U){return Je(U,function(G,ee){return ne(ne({},ee.modification),G)},{})},E=Je(g.classes,function(U,G){return G.modification.concat(U)},[]),O=C(g.attributes),$=C(g.styles);return Pl({classes:E,attributes:O,styles:$})},Bb=function(t,r,o,s){try{var d=vr(o,function(g,C){var E=g[r],O=C[r],$=s.indexOf(E),U=s.indexOf(O);if($===-1)throw new Error("The ordering for "+t+" does not have an entry for "+E+`.
Order specified: `+JSON.stringify(s,null,2));if(U===-1)throw new Error("The ordering for "+t+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(s,null,2));return $<U?-1:U<$?1:0});return mr.value(d)}catch(g){return mr.error([g])}},HA=function(t,r){return{handler:t,purpose:r}},fS=function(t,r){return{cHandler:t,purpose:r}},R2=function(t,r){return fS(ye.apply(void 0,[t.handler].concat(r)),t.purpose)},$2=function(t){return t.cHandler},B2=function(t,r){return{name:t,handler:r}},VA=function(t,r){var o={};return pt(t,function(s){o[s.name()]=s.handlers(r)}),o},Jv=function(t,r,o){var s=ne(ne({},o),VA(r,t));return cS(s,B2)},Qv=function(t,r,o,s){var d=Jv(t,o,s);return vS(d,r)},ga=function(t){var r=BA(t);return function(o,s){for(var d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];var C=[o,s].concat(d);r.abort.apply(void 0,C)?s.stop():r.can.apply(void 0,C)&&r.run.apply(void 0,C)}},Mb=function(t,r){return mr.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ue(r,function(o){return o.name}),null,2)])},fc=function(t,r,o){var s=r[o];return s?Bb("Event: "+o,"name",t,s).map(function(d){var g=Ue(d,function(C){return C.handler});return MA(g)}):Mb(o,t)},vS=function(t,r){var o=wi(t,function(s,d){var g=s.length===1?mr.value(s[0].handler):fc(s,r,d);return g.map(function(C){var E=ga(C),O=s.length>1?Ae(r[d],function($){return _n(s,function(U){return U.name===$})}).join(" > "):s[0].name;return jc(d,HA(E,O))})});return $A(o,{})},vc,Zc="alloy.base.behaviour",ed=Mn([Uo("dom","dom",rr(),Mn([At("tag"),He("styles",{}),He("classes",[]),He("attributes",{}),Xr("value"),Xr("innerHtml")])),At("components"),At("uid"),He("events",{}),He("apis",{}),Uo("eventOrder","eventOrder",oo((vc={},vc[Rs()]=["disabling",Zc,"toggling","typeaheadevents"],vc[Vv()]=[Zc,"focusing","keying"],vc[jd()]=[Zc,"disabling","toggling","representing"],vc[Ud()]=[Zc,"representing","streaming","invalidating"],vc[Rh()]=[Zc,"representing","item-events","tooltipping"],vc[$l()]=["focusing",Zc,"item-type-events"],vc[qc()]=["focusing",Zc,"item-type-events"],vc[ev()]=["item-type-events","tooltipping"],vc[nl()]=["receiving","reflecting","tooltipping"],vc)),Tl()),Xr("domModification")]),Pb=function(t){return Za("custom.definition",ed,t)},Mp=function(t){return ne(ne({},t.dom),{uid:t.uid,domChildren:Ue(t.components,function(r){return r.element})})},Ib=function(t){return t.domModification.fold(function(){return Pl({})},Pl)},Nb=function(t){return t.events},Yd=function(t,r){var o=Va(t,r);return o===void 0||o===""?[]:o.split(" ")},UA=function(t,r,o){var s=Yd(t,r),d=s.concat([o]);return fr(t,r,d.join(" ")),!0},zb=function(t,r,o){var s=Ae(Yd(t,r),function(d){return d!==o});return s.length>0?fr(t,r,s.join(" ")):ii(t,r),!1},Ih=function(t){return t.dom.classList!==void 0},Pp=function(t){return Yd(t,"class")},Ip=function(t,r){return UA(t,"class",r)},M2=function(t,r){return zb(t,"class",r)},Wo=function(t,r){Ih(t)?t.dom.classList.add(r):Ip(t,r)},Zd=function(t){var r=Ih(t)?t.dom.classList:Pp(t);r.length===0&&ii(t,"class")},Io=function(t,r){if(Ih(t)){var o=t.dom.classList;o.remove(r)}else M2(t,r);Zd(t)},bu=function(t,r){return Ih(t)&&t.dom.classList.contains(r)},Jd=function(t,r){pt(r,function(o){Wo(t,o)})},Ns=function(t,r){pt(r,function(o){Io(t,o)})},Fb=function(t,r){return $t(r,function(o){return bu(t,o)})},Jc=function(t){return t.dom.value},Nh=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},zh=function(t){var r=sn.fromTag(t.tag);ns(r,t.attributes),Jd(r,t.classes),rs(r,t.styles),t.innerHtml.each(function(s){return nv(r,s)});var o=t.domChildren;if(oc(r,o),t.value.each(function(s){Nh(r,s)}),!t.uid)debugger;return Rb(r,t.uid),r},dS=function(t){var r=On(t,"behaviours").getOr({});return jt(Hr(r),function(o){var s=r[o];return H(s)?[s.me]:[]})},mS=function(t,r){return lS(t,r)},WA=function(t){var r=dS(t);return mS(t,r)},jA=function(t,r,o){var s=Mp(t),d=Ib(t),g={"alloy.base.modification":d},C=r.length>0?Ph(o,g,r,s):d;return LA(s,C)},GA=function(t,r,o){var s={"alloy.base.behaviour":Nb(t)};return Qv(o,t.eventOrder,r,s).getOrDie()},hS=function(t){var r=function(){return Fe},o=zn(zA),s=Ol(Pb(t)),d=WA(t),g=$b(d),C=FA(d),E=jA(s,g,C),O=zh(E),$=GA(s,g,C),U=zn(s.components),G=function(vt){o.set(vt)},ee=function(){o.set(Bp(r))},ae=function(){var vt=Ge(O),ft=jt(vt,function(ze){return o.get().getByDom(ze).fold(function(){return[]},Yn)});U.set(ft)},ve=function(vt){var ft=C,ze=I(ft[vt.name()])?ft[vt.name()]:function(){throw new Error("Could not find "+vt.name()+" in "+JSON.stringify(t,null,2))};return ze()},Se=function(vt){return I(C[vt.name()])},Ne=function(){return s.apis},Ce=function(vt){return C[vt]().map(function(ft){return ft.state.readState()}).getOr("not enabled")},Fe={uid:t.uid,getSystem:o.get,config:ve,hasConfigured:Se,spec:t,readState:Ce,getApis:Ne,connect:G,disconnect:ee,element:O,syncComponents:ae,components:U.get,events:$};return Fe},Lb=function(t){var r=On(t,"components").getOr([]);return Ue(r,Wa)},Hb=function(t){var r=Mh(t),o=r.events,s=j(r,["events"]),d=Lb(s),g=ne(ne({},s),{events:ne(ne({},Bh),o),components:d});return mr.value(hS(g))},Oi=function(t){var r=sn.fromText(t);return Vb({element:r})},Vb=function(t){var r=sa("external.component",is([At("element"),Xr("uid")]),t),o=zn(Bp()),s=function(E){o.set(E)},d=function(){o.set(Bp(function(){return C}))},g=r.uid.getOrThunk(function(){return Xv("external")});Rb(r.element,g);var C={uid:g,getSystem:o.get,config:B.none,hasConfigured:se,connect:s,disconnect:d,getApis:function(){return{}},element:r.element,spec:t,readState:ie("No state"),syncComponents:q,components:ie([]),events:{}};return Zv(C)},P2=Xv,rl=function(t){return Pr(t,"uid")},Wa=function(t){return sS(t).getOrThunk(function(){var r=rl(t)?t:ne({uid:P2("")},t);return Hb(r).getOrDie()})},zs=Zv;function td(t,r,o,s,d){return t(o,s)?B.some(o):I(d)&&d(o)?B.none():r(o,s,d)}var I2=function(t,r,o){for(var s=t.dom,d=I(o)?o:se;s.parentNode;){s=s.parentNode;var g=sn.fromDom(s);if(r(g))return B.some(g);if(d(g))break}return B.none()},Ub=function(t,r,o){var s=function(d,g){return g(d)};return td(s,I2,t,r,o)},gS=function(t,r){var o=function(d){return r(sn.fromDom(d))},s=bt(t.dom.childNodes,o);return s.map(sn.fromDom)},hr=function(t,r){var o=function(s){for(var d=0;d<s.childNodes.length;d++){var g=sn.fromDom(s.childNodes[d]);if(r(g))return B.some(g);var C=o(s.childNodes[d]);if(C.isSome())return C}return B.none()};return o(t.dom)},Fh=function(t,r,o){return Ub(t,r,o).isSome()},Wb=function(t,r,o){return I2(t,function(s){return ta(s,r)},o)},N2=function(t,r){return gS(t,function(o){return ta(o,r)})},jo=function(t,r){return a2(r,t)},al=function(t,r,o){var s=function(d,g){return ta(d,g)};return td(s,Wb,t,r,o)},pS=function(t){var r=Ub(t,function(o){if(!bo(o))return!1;var s=Va(o,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return r.bind(function(o){var s=Va(o,"id"),d=xs(o);return jo(d,'[aria-owns="'+s+'"]')})},Qd=function(){var t=wn("aria-owns"),r=function(s){fr(s,"aria-owns",t)},o=function(s){ii(s,"aria-owns")};return{id:t,link:r,unlink:o}},Na=function(t,r){return pS(r).exists(function(o){return em(t,o)})},em=function(t,r){return Fh(r,function(o){return Sa(o,t.element)},se)||Na(t,r)},jb="unknown",Lh;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Lh||(Lh={}));var z2=zn({}),bS=function(t,r){var o=[],s=new Date().getTime();return{logEventCut:function(d,g,C){o.push({outcome:"cut",target:g,purpose:C})},logEventStopped:function(d,g,C){o.push({outcome:"stopped",target:g,purpose:C})},logNoParent:function(d,g,C){o.push({outcome:"no-parent",target:g,purpose:C})},logEventNoHandlers:function(d,g){o.push({outcome:"no-handlers-left",target:g})},logEventResponse:function(d,g,C){o.push({outcome:"response",purpose:C,target:g})},write:function(){var d=new Date().getTime();ct(["mousemove","mouseover","mouseout",jd()],t)||console.log(t,{event:t,time:d-s,target:r.dom,sequence:Ue(o,function(g){return ct(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+pu(g.target)+")":g.outcome})})}}},Np=function(t,r,o){var s=On(z2.get(),t).orThunk(function(){var C=Hr(z2.get());return Qr(C,function(E){return t.indexOf(E)>-1?B.some(z2.get()[E]):B.none()})}).getOr(Lh.NORMAL);switch(s){case Lh.NORMAL:return o(qA());case Lh.LOGGING:{var d=bS(t,r),g=o(d);return d.write(),g}case Lh.STOP:return!0}},yS=["alloy/data/Fields","alloy/debugging/Debugging"],av=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return bt(r,function(o){return o.indexOf("alloy")>0&&!_n(yS,function(s){return o.indexOf(s)>-1})}).getOr(jb)}else return jb},yu={logEventCut:q,logEventStopped:q,logNoParent:q,logEventNoHandlers:q,logEventResponse:q,write:q},F2=function(t,r,o){return Np(t,r,o)},qA=ie(yu),dc=ie([At("menu"),At("selectedMenu")]),ov=ie([At("item"),At("selectedItem")]);ie(Mn(ov().concat(dc())));var Gb=ie(Mn(ov())),KA=Wc("initSize",[At("numColumns"),At("numRows")]),XA=function(){return Iu("markers",Gb())},tm=function(){return Wc("markers",[At("backgroundMenu")].concat(dc()).concat(ov()))},nm=function(t){return Wc("markers",Ue(t,At))},qb=function(t,r,o){return av(),Uo(r,r,o,Sh(function(s){return mr.value(function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return s.apply(void 0,d)})}))},Yr=function(t){return qb("onHandler",t,yr(q))},Go=function(t){return qb("onKeyboardHandler",t,yr(B.none))},wu=function(t){return qb("onHandler",t,rr())},zu=function(t){return qb("onKeyboardHandler",t,rr())},ka=function(t,r){return hu(t,ie(r))},nd=function(t){return hu(t,he)},Kb=ie(KA),Qo=function(t,r,o,s,d,g,C,E){return E===void 0&&(E=!1),{x:t,y:r,bubble:o,direction:s,placement:d,restriction:g,label:C+"-"+d,alwaysFit:E}},Qc=Ds.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),YA=function(t,r,o,s,d,g,C,E,O){return t.fold(r,o,s,d,g,C,E,O)},ZA=function(t,r,o,s){return t.fold(r,r,s,s,r,s,o,o)},Xb=function(t,r,o,s){return t.fold(r,s,r,s,o,o,r,s)},Yb=Qc.southeast,L2=Qc.southwest,H2=Qc.northeast,rm=Qc.northwest,zp=Qc.south,V2=Qc.north,U2=Qc.east,Hh=Qc.west,Di=function(t,r,o,s){var d=t+r;return d>s?o:d<o?s:d},fs=function(t,r,o){return Math.min(Math.max(t,r),o)},Fp=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},qo=function(t,r){return pn(["left","right","top","bottom"],function(o){return On(r,o).map(function(s){return Fp(t,s)})})},Zb=function(t,r,o){var s=function(O,$){return r[O].map(function(U){var G=O==="top"||O==="bottom",ee=G?o.top:o.left,ae=O==="left"||O==="top"?Math.max:Math.min,ve=ae(U,$)+ee;return G?fs(ve,t.y,t.bottom):fs(ve,t.x,t.right)}).getOr($)},d=s("left",t.x),g=s("top",t.y),C=s("right",t.right),E=s("bottom",t.bottom);return Vo(d,g,C-d,E-g)},iv="layout",W2=function(t){return t.x},j2=function(t,r){return t.x+t.width/2-r.width/2},wS=function(t,r){return t.x+t.width-r.width},G2=function(t,r){return t.y-r.height},Lp=function(t){return t.y+t.height},Jb=function(t,r){return t.y+t.height/2-r.height/2},CS=function(t){return t.x+t.width},JA=function(t,r){return t.x-r.width},Ki=function(t,r,o){return Qo(W2(t),Lp(t),o.southeast(),Yb(),"southeast",qo(t,{left:1,top:3}),iv)},ei=function(t,r,o){return Qo(wS(t,r),Lp(t),o.southwest(),L2(),"southwest",qo(t,{right:0,top:3}),iv)},Cu=function(t,r,o){return Qo(W2(t),G2(t,r),o.northeast(),H2(),"northeast",qo(t,{left:1,bottom:2}),iv)},_u=function(t,r,o){return Qo(wS(t,r),G2(t,r),o.northwest(),rm(),"northwest",qo(t,{right:0,bottom:2}),iv)},Fu=function(t,r,o){return Qo(j2(t,r),G2(t,r),o.north(),V2(),"north",qo(t,{bottom:2}),iv)},No=function(t,r,o){return Qo(j2(t,r),Lp(t),o.south(),zp(),"south",qo(t,{top:3}),iv)},Qb=function(t,r,o){return Qo(CS(t),Jb(t,r),o.east(),U2(),"east",qo(t,{left:0}),iv)},e0=function(t,r,o){return Qo(JA(t,r),Jb(t,r),o.west(),Hh(),"west",qo(t,{right:1}),iv)},q2=function(){return[Ki,ei,Cu,_u,No,Fu,Qb,e0]},am=function(){return[ei,Ki,_u,Cu,No,Fu,Qb,e0]},rd=function(){return[Cu,_u,Ki,ei,Fu,No]},t0=function(){return[_u,Cu,ei,Ki,Fu,No]},n0=function(){return[Ki,ei,Cu,_u,No,Fu]},r0=function(){return[ei,Ki,_u,Cu,No,Fu]},Vh=function(t,r){return r.universal?t:Ae(t,function(o){return ct(r.channels,o)})},Uh=function(t){return _a([Bt(nl(),function(r,o){var s=t.channels,d=Hr(s),g=o,C=Vh(d,g);pt(C,function(E){var O=s[E],$=O.schema,U=sa("channel["+E+`] data
Receiver: `+pu(r.element),$,g.data);O.onReceive(r,U)})})])},_S=Object.freeze({__proto__:null,events:Uh}),ef=[Iu("channels",Wi(mr.value,is([wu("onReceive"),He("schema",Tl())])))],om=function(t,r,o){return cs(function(s){o(s,t,r)})},Ka=function(t,r,o){return iS(function(s,d){o(s,t,r)})},QA=function(t,r,o,s,d,g){var C=is(t),E=ss(r,[DA("config",t)]);return SS(C,E,r,o,s,d,g)},e4=function(t,r,o,s,d,g){var C=t,E=ss(r,[sc("config",t)]);return SS(C,E,r,o,s,d,g)},a0=function(t,r,o){var s=function(d){for(var g=[],C=1;C<arguments.length;C++)g[C-1]=arguments[C];var E=[d].concat(g);return d.config({name:ie(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(O){var $=Array.prototype.slice.call(E,1);return r.apply(void 0,[d,O.config,O.state].concat($))})};return Is(s,o,r)},t4=function(t){return{key:t,value:void 0}},SS=function(t,r,o,s,d,g,C){var E=function(G){return co(G,o)?G[o]():B.none()},O=dr(d,function(G,ee){return a0(o,G,ee)}),$=dr(g,function(G,ee){return Xd(G,ee)}),U=ne(ne(ne({},$),O),{revoke:ye(t4,o),config:function(G){var ee=sa(o+"-config",t,G);return{key:o,value:{config:ee,me:U,configAsRaw:es(function(){return sa(o+"-config",t,G)}),initialConfig:G,state:C}}},schema:ie(r),exhibit:function(G,ee){return Gs(E(G),On(s,"exhibit"),function(ae,ve){return ve(ee,ae.config,ae.state)}).getOrThunk(function(){return Pl({})})},name:ie(o),handlers:function(G){return E(G).map(function(ee){var ae=On(s,"events").getOr(function(){return{}});return ae(ee.config,ee.state)}).getOr({})}});return U},Jt=function(t){return Qf(t)},n4=is([At("fields"),At("name"),He("active",{}),He("apis",{}),He("state",Ti),He("extra",{})]),Ko=function(t){var r=sa("Creating behaviour: "+t.name,n4,t);return QA(r.fields,r.name,r.active,r.apis,r.extra,r.state)},K2=is([At("branchKey"),At("branches"),At("name"),He("active",{}),He("apis",{}),He("state",Ti),He("extra",{})]),im=function(t){var r=sa("Creating behaviour: "+t.name,K2,t);return e4(el(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},xS=ie(void 0),nu=Ko({fields:ef,name:"receiving",active:_S}),Hp=function(t,r){return Pl({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},o0=Object.freeze({__proto__:null,exhibit:Hp}),Vp=function(){return sn.fromDom(document)},mc=function(t){return t.dom.focus()},Up=function(t){return t.dom.blur()},Wp=function(t){var r=xs(t).dom;return t.dom===r.activeElement},Su=function(t){return t===void 0&&(t=Vp()),B.from(t.dom.activeElement).map(sn.fromDom)},hc=function(t){return Su(xs(t)).filter(function(r){return t.dom.contains(r.dom)})},kS=function(t,r){var o=xs(r),s=Su(o).bind(function(g){var C=function(E){return Sa(g,E)};return C(r)?B.some(r):hr(r,C)}),d=t(r);return s.each(function(g){Su(o).filter(function(C){return Sa(C,g)}).fold(function(){mc(g)},q)}),d},ru=function(t,r,o,s,d){var g=function(C){return C+"px"};return{position:t,left:r.map(g),top:o.map(g),right:s.map(g),bottom:d.map(g)}},tf=function(t){return ne(ne({},t),{position:B.some(t.position)})},ad=function(t,r){ro(t,tf(r))},jp=Ds.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),mt=function(t,r,o,s,d,g){var C=r.rect,E=C.x-o,O=C.y-s,$=C.width,U=C.height,G=d-(E+$),ee=g-(O+U),ae=B.some(E),ve=B.some(O),Se=B.some(G),Ne=B.some(ee),Ce=B.none();return YA(r.direction,function(){return ru(t,ae,ve,Ce,Ce)},function(){return ru(t,Ce,ve,Se,Ce)},function(){return ru(t,ae,Ce,Ce,Ne)},function(){return ru(t,Ce,Ce,Se,Ne)},function(){return ru(t,ae,ve,Ce,Ce)},function(){return ru(t,ae,Ce,Ce,Ne)},function(){return ru(t,ae,ve,Ce,Ce)},function(){return ru(t,Ce,ve,Se,Ce)})},uv=function(t,r){return t.fold(function(){var o=r.rect;return ru("absolute",B.some(o.x),B.some(o.y),B.none(),B.none())},function(o,s,d,g){return mt("absolute",r,o,s,d,g)},function(o,s,d,g){return mt("fixed",r,o,s,d,g)})},Wh=function(t,r){var o=ye(Ui,r),s=t.fold(o,o,function(){var C=os();return Ui(r).translate(-C.left,-C.top)}),d=du(r),g=as(r);return Vo(s.left,s.top,d,g)},r4=function(t,r){return r.fold(function(){return t.fold(xi,xi,Vo)},function(o){return t.fold(o,o,function(){var s=o(),d=i0(t,s.x,s.y);return Vo(d.left,d.top,s.width,s.height)})})},i0=function(t,r,o){var s=ya(r,o),d=function(){var g=os();return s.translate(-g.left,-g.top)};return t.fold(ie(s),ie(s),d)},Il=function(t,r,o,s){return t.fold(r,o,s)};jp.none;var u0=jp.relative,X2=jp.fixed,Y2=function(t,r){return{anchorBox:t,origin:r}},s0=function(t,r){return Y2(t,r)},Z2="data-alloy-placement",J2=function(t,r){fr(t,Z2,r)},Q2=function(t){return Ya(t,Z2)},ew=function(t){return ii(t,Z2)},um=Ds.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),AS=function(t,r){var o=r.x,s=r.y,d=r.right,g=r.bottom,C=t.x,E=t.y,O=t.right,$=t.bottom,U=t.width,G=t.height,ee=C>=o&&C<=d,ae=E>=s&&E<=g,ve=ee&&ae,Se=O<=d&&O>=o,Ne=$<=g&&$>=s,Ce=Se&&Ne,Fe=Math.min(U,C>=o?d-C:O-o),vt=Math.min(G,E>=s?g-E:$-s);return{originInBounds:ve,sizeInBounds:Ce,visibleW:Fe,visibleH:vt}},a4=function(t,r){var o=r.x,s=r.y,d=r.right,g=r.bottom,C=t.x,E=t.y,O=t.width,$=t.height,U=Math.max(o,d-O),G=Math.max(s,g-$),ee=fs(C,o,U),ae=fs(E,s,G),ve=Math.min(ee+O,d)-ee,Se=Math.min(ae+$,g)-ae;return Vo(ee,ae,ve,Se)},o4=function(t,r,o){var s=ie(r.bottom-o.y),d=ie(o.bottom-r.y),g=ZA(t,d,d,s),C=ie(r.right-o.x),E=ie(o.right-r.x),O=Xb(t,E,E,C);return{maxWidth:O,maxHeight:g}},jh=function(t,r,o,s){var d=t.bubble,g=d.offset,C=Zb(s,t.restriction,g),E=t.x+g.left,O=t.y+g.top,$=Vo(E,O,r,o),U=AS($,C),G=U.originInBounds,ee=U.sizeInBounds,ae=U.visibleW,ve=U.visibleH,Se=G&&ee,Ne=Se?$:a4($,C),Ce=Ne.width>0&&Ne.height>0,Fe=o4(t.direction,Ne,s),vt=Fe.maxWidth,ft=Fe.maxHeight,ze={rect:Ne,maxHeight:ft,maxWidth:vt,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:O};return Se||t.alwaysFit?um.fit(ze):um.nofit(ze,ae,ve,Ce)},Gh=function(t,r,o,s,d,g){var C=s.width,E=s.height,O=function(U,G,ee,ae,ve){var Se=U(o,s,d,t,g),Ne=jh(Se,C,E,g);return Ne.fold(ie(Ne),function(Ce,Fe,vt,ft){var ze=ve===ft?vt>ae||Fe>ee:!ve&&ft;return ze?Ne:um.nofit(G,ee,ae,ve)})},$=et(r,function(U,G){var ee=ye(O,G);return U.fold(ie(U),ee)},um.nofit({rect:o,maxHeight:s.height,maxWidth:s.width,direction:Yb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return $.fold(he,he)},l0=function(t){var r=zn(B.none()),o=function(){return r.get().each(t)},s=function(){o(),r.set(B.none())},d=function(){return r.get().isSome()},g=function(){return r.get()},C=function(E){o(),r.set(B.some(E))};return{clear:s,isSet:d,get:g,set:C}},tw=function(){return l0(function(t){return t.destroy()})},qh=function(){return l0(function(t){return t.unbind()})},nw=function(){var t=tw(),r=function(o){return t.get().each(o)};return ne(ne({},t),{run:r})},ho=function(){var t=l0(q),r=function(o){return t.get().each(o)};return ne(ne({},t),{on:r})},Gp=Ee,Co=function(t,r,o){return gb(t,r,Gp,o)},c0=function(t,r,o){return Vf(t,r,Gp,o)},sm=Qs,rw=["top","bottom","right","left"],qp="data-alloy-transition-timer",aw=function(t,r){return Fb(t,r.classes)},ES=function(t,r,o){return o.exists(function(s){var d=t.mode;return d==="all"?!0:s[d]!==r[d]})},i4=function(t,r){var o=function(s){return parseFloat(s).toFixed(3)};return Zu(r,function(s,d){var g=t[d].map(o),C=s.map(o);return!Ju(g,C)}).isSome()},TS=function(t){var r=function(g){var C=ao(t,g),E=_(C)?C.split(/\s*,\s*/):[];return Ae(E,Pc)},o=function(g){if(_(g)&&/^[\d.]+/.test(g)){var C=parseFloat(g);return qn(g,"ms")?C:C*1e3}else return 0},s=r("transition-delay"),d=r("transition-duration");return et(d,function(g,C,E){var O=o(s[E])+o(C);return Math.max(g,O)},0)},u4=function(t,r){var o=qh(),s=qh(),d,g=function(U){var G,ee=(G=U.raw.pseudoElement)!==null&&G!==void 0?G:"";return Sa(U.target,t)&&oh(ee)&&ct(rw,U.raw.propertyName)},C=function(U){if(N(U)||g(U)){o.clear(),s.clear();var G=U==null?void 0:U.raw.type;(N(G)||G===Dh())&&(clearTimeout(d),ii(t,qp),Ns(t,r.classes))}},E=function(){o.set(Co(t,Dh(),C)),s.set(Co(t,PA(),C))};if("ontransitionstart"in t.dom)var O=Co(t,y2(),function(U){g(U)&&(O.unbind(),E())});else E();var $=TS(t);requestAnimationFrame(function(){d=setTimeout(C,$+17),fr(t,qp,d)})},f0=function(t,r){Jd(t,r.classes),Ya(t,qp).each(function(o){clearTimeout(parseInt(o,10)),ii(t,qp)}),u4(t,r)},Kp=function(t,r,o,s,d,g){var C=ES(s,d,g);if(C||aw(t,s)){Xn(t,"position",o.position);var E=Wh(r,t),O=uv(r,ne(ne({},d),{rect:E})),$=pn(rw,function(U){return O[U]});i4(o,$)&&(ro(t,$),C&&f0(t,s),Pa(t))}else Ns(t,s.classes)},s4=function(t){return{width:du(t),height:as(t)}},OS=function(t,r,o,s){Kr(r,"max-height"),Kr(r,"max-width");var d=s4(r);return Gh(r,s.preference,t,d,o,s.bounds)},ow=function(t,r){var o=r.classes;Ns(t,o.off),Jd(t,o.on)},l4=function(t,r,o){var s=o.maxHeightFunction;s(t,r.maxHeight)},c4=function(t,r,o){var s=o.maxWidthFunction;s(t,r.maxWidth)},v0=function(t,r,o){var s=uv(o.origin,r);o.transition.each(function(d){Kp(t,o.origin,s,d,r,o.lastPlacement)}),ad(t,s)},iw=function(t,r){J2(t,r.placement)},Ri=function(t,r){hb(t,Math.floor(r))},Kh=ie(function(t,r){Ri(t,r),rs(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Xh=ie(function(t,r){Ri(t,r)}),DS=function(t,r,o){return t[r]===void 0?o:t[r]},f4=function(t,r,o,s,d,g,C,E){var O=DS(C,"maxHeightFunction",Kh()),$=DS(C,"maxWidthFunction",q),U=t.anchorBox,G=t.origin,ee={bounds:r4(G,g),origin:G,preference:s,maxHeightFunction:O,maxWidthFunction:$,lastPlacement:d,transition:E};return Xp(U,r,o,ee)},Xp=function(t,r,o,s){var d=OS(t,r,o,s);return v0(r,d,s),iw(r,d),ow(r,d),l4(r,d,s),c4(r,d,s),{layout:d.layout,placement:d.placement}},Yp=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],lm=function(t,r,o,s){s===void 0&&(s=1);var d=t*s,g=r*s,C=function(O){return On(o,O).getOr([])},E=function(O,$,U){var G=rn(Yp,U);return{offset:ya(O,$),classesOn:jt(U,C),classesOff:jt(G,C)}};return{southeast:function(){return E(-t,r,["top","alignLeft"])},southwest:function(){return E(t,r,["top","alignRight"])},south:function(){return E(-t/2,r,["top","alignCentre"])},northeast:function(){return E(-t,-r,["bottom","alignLeft"])},northwest:function(){return E(t,-r,["bottom","alignRight"])},north:function(){return E(-t/2,-r,["bottom","alignCentre"])},east:function(){return E(t,-r/2,["valignCentre","left"])},west:function(){return E(-t,-r/2,["valignCentre","right"])},insetNortheast:function(){return E(d,g,["top","alignLeft","inset"])},insetNorthwest:function(){return E(-d,g,["top","alignRight","inset"])},insetNorth:function(){return E(-d/2,g,["top","alignCentre","inset"])},insetSoutheast:function(){return E(d,-g,["bottom","alignLeft","inset"])},insetSouthwest:function(){return E(-d,-g,["bottom","alignRight","inset"])},insetSouth:function(){return E(-d/2,-g,["bottom","alignCentre","inset"])},insetEast:function(){return E(-d,-g/2,["valignCentre","right","inset"])},insetWest:function(){return E(d,-g/2,["valignCentre","left","inset"])}}},d0=function(){return lm(0,0,{})},Zp=he,uw=function(t,r){return function(o){return v4(o)==="rtl"?r:t}},v4=function(t){return ao(t,"direction")==="rtl"?"rtl":"ltr"},nf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(nf||(nf={}));var m0="data-alloy-vertical-dir",d4=function(t){return Fh(t,function(r){return bo(r)&&Va(r,"data-alloy-vertical-dir")===nf.BottomToTop})},od=function(){return ss("layouts",[At("onLtr"),At("onRtl"),Xr("onBottomLtr"),Xr("onBottomRtl")])},id=function(t,r,o,s,d,g,C){var E=C.map(d4).getOr(!1),O=r.layouts.map(function(ae){return ae.onLtr(t)}),$=r.layouts.map(function(ae){return ae.onRtl(t)}),U=E?r.layouts.bind(function(ae){return ae.onBottomLtr.map(function(ve){return ve(t)})}).or(O).getOr(d):O.getOr(o),G=E?r.layouts.bind(function(ae){return ae.onBottomRtl.map(function(ve){return ve(t)})}).or($).getOr(g):$.getOr(s),ee=uw(U,G);return ee(t)},m4=function(t,r,o){var s=r.hotspot,d=Wh(o,s.element),g=id(t.element,r,n0(),r0(),rd(),t0(),B.some(r.hotspot.element));return B.some(Zp({anchorBox:d,bubble:r.bubble.getOr(d0()),overrides:r.overrides,layouts:g,placer:B.none()}))},h0=[At("hotspot"),Xr("bubble"),He("overrides",{}),od(),ka("placement",m4)],g0=function(t,r,o){var s=i0(o,r.x,r.y),d=Vo(s.left,s.top,r.width,r.height),g=id(t.element,r,q2(),am(),q2(),am(),B.none());return B.some(Zp({anchorBox:d,bubble:r.bubble,overrides:r.overrides,layouts:g,placer:B.none()}))},p0=[At("x"),At("y"),He("height",0),He("width",0),He("bubble",d0()),He("overrides",{}),od(),ka("placement",g0)],li=Ds.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),RS=function(t){return t.fold(he,function(r,o,s){return r.translate(-o,-s)})},sw=function(t){return t.fold(he,he)},$S=function(t){return et(t,function(r,o){return r.translate(o.left,o.top)},ya(0,0))},BS=function(t){var r=Ue(t,RS);return $S(r)},gc=function(t){var r=Ue(t,sw);return $S(r)},sv=li.screen,MS=li.absolute,PS=function(t,r,o){var s=vh(o.root).dom,d=function(g){var C=Zo(g),E=Zo(t.element);return Sa(C,E)};return B.from(s.frameElement).map(sn.fromDom).filter(d).map(vu)},lw=function(t,r,o){var s=Zo(t.element),d=os(s),g=PS(t,r,o).getOr(d);return MS(g,d.left,d.top)},b0=function(t,r,o,s){var d=sv(ya(t,r));return B.some(Es(d,o,s))},IS=function(t,r,o,s,d){return t.map(function(g){var C=[r,g.point],E=Il(s,function(){return gc(C)},function(){return gc(C)},function(){return BS(C)}),O=yo(E.left,E.top,g.width,g.height),$=o.showAbove?rd():n0(),U=o.showAbove?t0():r0(),G=id(d,o,$,U,$,U,B.none());return Zp({anchorBox:O,bubble:o.bubble.getOr(d0()),overrides:o.overrides,layouts:G,placer:B.none()})})},Yh=function(t,r,o){var s=lw(t,o,r);return r.node.filter(fu).bind(function(d){var g=d.dom.getBoundingClientRect(),C=b0(g.left,g.top,g.width,g.height),E=r.node.getOr(t.element);return IS(C,s,r,o,E)})},h4=[At("node"),At("root"),Xr("bubble"),od(),He("overrides",{}),He("showAbove",!1),ka("placement",Yh)],Jp="\uFEFF",g4=" ",Zh=function(t,r,o,s){return{start:t,soffset:r,finish:o,foffset:s}},cm={create:Zh},cw=Ds.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),NS=function(t,r,o,s){return t.fold(r,o,s)},p4=function(t){return t.fold(he,he,he)},zS=cw.before,FS=cw.on,fw=cw.after,b4={before:zS,on:FS,after:fw,cata:NS,getStart:p4},y0=Ds.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),y4=function(t){return y0.exact(t.start,t.soffset,t.finish,t.foffset)},Qp=function(t){return t.match({domRange:function(r){return sn.fromDom(r.startContainer)},relative:function(r,o){return b4.getStart(r)},exact:function(r,o,s,d){return r}})},w4=y0.domRange,C4=y0.relative,_4=y0.exact,w0=function(t){var r=Qp(t);return vh(r)},S4=cm.create,Jh={domRange:w4,relative:C4,exact:_4,exactFromRange:y4,getWin:w0,range:S4},LS=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,s){t.setStart(o.dom,s)},function(o){t.setStartAfter(o.dom)})},x4=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,s){t.setEnd(o.dom,s)},function(o){t.setEndAfter(o.dom)})},vw=function(t,r,o){var s=t.document.createRange();return LS(s,r),x4(s,o),s},HS=function(t,r,o,s,d){var g=t.document.createRange();return g.setStart(r.dom,o),g.setEnd(s.dom,d),g},dw=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},VS=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?B.some(o).map(dw):B.none()},US=function(t){var r=t.getBoundingClientRect();return r.width>0||r.height>0?B.some(r).map(dw):B.none()},Qh=Ds.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),mw=function(t,r,o){return r(sn.fromDom(o.startContainer),o.startOffset,sn.fromDom(o.endContainer),o.endOffset)},hw=function(t,r){return r.match({domRange:function(o){return{ltr:ie(o),rtl:B.none}},relative:function(o,s){return{ltr:es(function(){return vw(t,o,s)}),rtl:es(function(){return B.some(vw(t,s,o))})}},exact:function(o,s,d,g){return{ltr:es(function(){return HS(t,o,s,d,g)}),rtl:es(function(){return B.some(HS(t,d,g,o,s))})}}})},k4=function(t,r){var o=r.ltr();if(o.collapsed){var s=r.rtl().filter(function(d){return d.collapsed===!1});return s.map(function(d){return Qh.rtl(sn.fromDom(d.endContainer),d.endOffset,sn.fromDom(d.startContainer),d.startOffset)}).getOrThunk(function(){return mw(t,Qh.ltr,o)})}else return mw(t,Qh.ltr,o)},A4=function(t,r){var o=hw(t,r);return k4(t,o)},gw=function(t,r){var o=A4(t,r);return o.match({ltr:function(s,d,g,C){var E=t.document.createRange();return E.setStart(s.dom,d),E.setEnd(g.dom,C),E},rtl:function(s,d,g,C){var E=t.document.createRange();return E.setStart(g.dom,C),E.setEnd(s.dom,d),E}})};Qh.ltr,Qh.rtl;var E4=function(t,r){var o=function(g){if(!t(g))throw new Error("Can only get "+r+" value of a "+r+" node");return s(g).getOr("")},s=function(g){return t(g)?B.from(g.dom.nodeValue):B.none()},d=function(g,C){if(!t(g))throw new Error("Can only set raw "+r+" value of a "+r+" node");g.dom.nodeValue=C};return{get:o,getOption:s,set:d}},WS=E4(Du,"text"),ud=function(t){return WS.get(t)},eg=function(t){return WS.getOption(t)},jS=function(t){return Qu(t)==="img"?1:eg(t).fold(function(){return Ge(t).length},function(r){return r.length})},T4=function(t){return eg(t).filter(function(r){return r.trim().length!==0||r.indexOf(g4)>-1}).isSome()},GS=["img","br"],O4=function(t){var r=T4(t);return r||ct(GS,Qu(t))},pw=function(t){return tg(t,O4)},tg=function(t,r){var o=function(s){for(var d=Ge(s),g=d.length-1;g>=0;g--){var C=d[g];if(r(C))return B.some(C);var E=o(C);if(E.isSome())return E}return B.none()};return o(t)},au=function(t,r){return fh(r,t)},bw=function(t,r,o,s){var d=Zo(t),g=d.dom.createRange();return g.setStart(t.dom,r),g.setEnd(o.dom,s),g},ng=function(t,r,o,s){var d=bw(t,r,o,s),g=Sa(t,o)&&r===s;return d.collapsed&&!g},fm=function(t){return B.from(t.getSelection())},C0=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return B.some(cm.create(sn.fromDom(r.startContainer),r.startOffset,sn.fromDom(o.endContainer),o.endOffset))}else return B.none()},D4=function(t){if(t.anchorNode===null||t.focusNode===null)return C0(t);var r=sn.fromDom(t.anchorNode),o=sn.fromDom(t.focusNode);return ng(r,t.anchorOffset,o,t.focusOffset)?B.some(cm.create(r,t.anchorOffset,o,t.focusOffset)):C0(t)},qS=function(t){return fm(t).filter(function(r){return r.rangeCount>0}).bind(D4)},yw=function(t,r){var o=gw(t,r);return VS(o)},Lu=function(t,r){var o=gw(t,r);return US(o)},e1=function(t,r){return{element:t,offset:r}},R4=function(t,r){var o=Ge(t);if(o.length===0)return e1(t,r);if(r<o.length)return e1(o[r],0);var s=o[o.length-1],d=Du(s)?ud(s).length:Ge(s).length;return e1(s,d)},vm=function(t,r){return Du(t)?e1(t,r):R4(t,r)},sd=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return qS(t)}});return o().map(function(s){var d=vm(s.start,s.soffset),g=vm(s.finish,s.foffset);return Jh.range(d.element,d.offset,g.element,g.offset)})},rg=function(t,r,o){var s=vh(r.root).dom,d=lw(t,o,r),g=sd(s,r).bind(function(O){var $=Lu(s,Jh.exactFromRange(O)).orThunk(function(){var U=sn.fromText(Jp);mo(O.start,U);var G=yw(s,Jh.exact(U,0,U,1));return Bu(U),G});return $.bind(function(U){return b0(U.left,U.top,U.width,U.height)})}),C=sd(s,r).bind(function(O){return bo(O.start)?B.some(O.start):lb(O.start)}),E=C.getOr(t.element);return IS(g,d,r,o,E)},ld=[Xr("getSelection"),At("root"),Xr("bubble"),od(),He("overrides",{}),He("showAbove",!1),ka("placement",rg)],pc="link-layout",bc=function(t){return t.x+t.width},_0=function(t,r){return t.x-r.width},S0=function(t,r){return t.y-r.height+t.height},ww=function(t){return t.y},ag=function(t,r,o){return Qo(bc(t),ww(t),o.southeast(),Yb(),"southeast",qo(t,{left:0,top:2}),pc)},og=function(t,r,o){return Qo(_0(t,r),ww(t),o.southwest(),L2(),"southwest",qo(t,{right:1,top:2}),pc)},ig=function(t,r,o){return Qo(bc(t),S0(t,r),o.northeast(),H2(),"northeast",qo(t,{left:0,bottom:3}),pc)},Xi=function(t,r,o){return Qo(_0(t,r),S0(t,r),o.northwest(),rm(),"northwest",qo(t,{right:1,bottom:3}),pc)},ug=function(){return[ag,og,ig,Xi]},sg=function(){return[og,ag,Xi,ig]},x0=function(t,r,o){var s=Wh(o,r.item.element),d=id(t.element,r,ug(),sg(),ug(),sg(),B.none());return B.some(Zp({anchorBox:s,bubble:d0(),overrides:r.overrides,layouts:d,placer:B.none()}))},$4=[At("item"),od(),He("overrides",{}),ka("placement",x0)],Cw=el("type",{selection:ld,node:h4,hotspot:h0,submenu:$4,makeshift:p0}),k0=[ji("classes",wo),Os("mode","all",["all","layout","placement"])],$i=[He("useFixed",se),Xr("getBounds")],B4=[Iu("anchor",Cw),ss("transition",k0)],rf=function(){var t=document.documentElement;return X2(0,0,t.clientWidth,t.clientHeight)},A0=function(t){var r=vu(t.element),o=t.element.dom.getBoundingClientRect();return u0(r.left,r.top,o.width,o.height)},_w=function(t,r,o,s,d,g,C){var E=s0(o.anchorBox,r);return f4(E,d.element,o.bubble,o.layouts,g,s,o.overrides,C)},lg=function(t,r,o,s,d){Sw(t,r,o,s,d,B.none())},Sw=function(t,r,o,s,d,g){var C=g.map(Eo);return t1(t,r,o,s,d,C)},t1=function(t,r,o,s,d,g){var C=sa("placement.info",Mn(B4),d),E=C.anchor,O=s.element,$=o.get(s.uid);kS(function(){Xn(O,"position","fixed");var U=Ao(O,"visibility");Xn(O,"visibility","hidden");var G=r.useFixed()?rf():A0(t),ee=E.placement,ae=g.map(ie).or(r.getBounds);ee(t,E,G).each(function(ve){var Se=ve.placer.getOr(_w),Ne=Se(t,G,ve,ae,s,$,C.transition);o.set(s.uid,Ne)}),U.fold(function(){Kr(O,"visibility")},function(ve){Xn(O,"visibility",ve)}),Ao(O,"left").isNone()&&Ao(O,"top").isNone()&&Ao(O,"right").isNone()&&Ao(O,"bottom").isNone()&&lu(Ao(O,"position"),"fixed")&&Kr(O,"position")},O)},M4=function(t,r,o){return r.useFixed()?"fixed":"absolute"},KS=function(t,r,o,s){var d=s.element;pt(["position","left","right","top","bottom"],function(g){return Kr(d,g)}),ew(d),o.clear(s.uid)},XS=Object.freeze({__proto__:null,position:lg,positionWithin:Sw,positionWithinBounds:t1,getMode:M4,reset:KS}),P4=function(){var t={},r=function(d,g){t[d]=g},o=function(d){return On(t,d)},s=function(d){H(d)?delete t[d]:t={}};return qi({readState:function(){return t},clear:s,set:r,get:o})},cg=Object.freeze({__proto__:null,init:P4}),go=Ko({fields:$i,name:"positioning",active:o0,apis:XS,state:cg}),E0=function(t){Wr(t,Rh());var r=t.components();pt(r,E0)},T0=function(t){var r=t.components();pt(r,T0),Wr(t,ls())},xw=function(t,r){Vi(t.element,r.element)},YS=function(t){pt(t.components(),function(r){return Bu(r.element)}),Ga(t.element),t.syncComponents()},kw=function(t,r){var o=t.components();YS(t);var s=rn(o,r);pt(s,function(d){E0(d),t.getSystem().removeFromWorld(d)}),pt(r,function(d){d.getSystem().isConnected()?xw(t,d):(t.getSystem().addToWorld(d),xw(t,d),fu(t.element)&&T0(d)),t.syncComponents()})},dm=function(t,r){O0(t,r,Vi)},O0=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),fu(t.element)&&T0(r),t.syncComponents()},Hu=function(t){E0(t),Bu(t.element),t.getSystem().removeFromWorld(t)},yc=function(t){var r=xo(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});Hu(t),r.each(function(o){o.syncComponents()})},D0=function(t){var r=t.components();pt(r,Hu),Ga(t.element),t.syncComponents()},lv=function(t,r){wc(t,r,Vi)},Nl=function(t,r){wc(t,r,Wf)},wc=function(t,r,o){o(t,r.element);var s=Ge(r.element);pt(s,function(d){r.getByDom(d).each(T0)})},ou=function(t){var r=Ge(t.element);pt(r,function(o){t.getByDom(o).each(E0)}),Bu(t.element)},ol=function(t,r,o,s){o.get().each(function(C){D0(t)});var d=r.getAttachPoint(t);dm(d,t);var g=t.getSystem().build(s);return dm(t,g),o.set(g),g},fg=function(t,r,o,s){var d=ol(t,r,o,s);return r.onOpen(t,d),d},af=function(t,r,o,s){return o.get().map(function(){return ol(t,r,o,s)})},mm=function(t,r,o,s,d){tx(t,r),fg(t,r,o,s),d(),nx(t,r)},ZS=function(t,r,o){o.get().each(function(s){D0(t),yc(t),r.onClose(t,s),o.clear()})},JS=function(t,r,o){return o.isOpen()},I4=function(t,r,o,s){return JS(t,r,o)&&o.get().exists(function(d){return r.isPartOf(t,d,s)})},N4=function(t,r,o){return o.get()},QS=function(t,r,o,s){Ao(t.element,r).fold(function(){ii(t.element,o)},function(d){fr(t.element,o,d)}),Xn(t.element,r,s)},ex=function(t,r,o){Ya(t.element,o).fold(function(){return Kr(t.element,r)},function(s){return Xn(t.element,r,s)})},tx=function(t,r,o){var s=r.getAttachPoint(t);Xn(t.element,"position",go.getMode(s)),QS(t,"visibility",r.cloakVisibilityAttr,"hidden")},z4=function(t){return _n(["top","left","right","bottom"],function(r){return Ao(t,r).isSome()})},nx=function(t,r,o){z4(t.element)||Kr(t.element,"position"),ex(t,"visibility",r.cloakVisibilityAttr)},F4=Object.freeze({__proto__:null,cloak:tx,decloak:nx,open:fg,openWhileCloaked:mm,close:ZS,isOpen:JS,isPartOf:I4,getState:N4,setContent:af}),rx=function(t,r){return _a([Bt(Dp(),function(o,s){ZS(o,t,r)})])},ax=Object.freeze({__proto__:null,events:rx}),Aw=[Yr("onOpen"),Yr("onClose"),At("isPartOf"),At("getAttachPoint"),He("cloakVisibilityAttr","data-precloak-visibility")],ox=function(){var t=ho(),r=ie("not-implemented");return qi({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},L4=Object.freeze({__proto__:null,init:ox}),Br=Ko({fields:Aw,name:"sandboxing",active:ax,apis:F4,state:L4}),hm=ie("dismiss.popups"),vg=ie("reposition.popups"),Ew=ie("mouse.released"),H4=is([He("isExtraPart",se),ss("fireEventInstead",[He("event",Bl())])]),Vu=function(t){var r,o=sa("Dismissal",H4,t);return r={},r[hm()]={schema:is([At("target")]),onReceive:function(s,d){if(Br.isOpen(s)){var g=Br.isPartOf(s,d.target)||o.isExtraPart(s,d.target);g||o.fireEventInstead.fold(function(){return Br.close(s)},function(C){return Wr(s,C.event)})}}},r},V4=is([ss("fireEventInstead",[He("event",Gi())]),tu("doReposition")]),gm=function(t){var r,o=sa("Reposition",V4,t);return r={},r[vg()]={onReceive:function(s){Br.isOpen(s)&&o.fireEventInstead.fold(function(){return o.doReposition(s)},function(d){return Wr(s,d.event)})}},r},cd=function(t,r,o){r.store.manager.onLoad(t,r,o)},R0=function(t,r,o){r.store.manager.onUnload(t,r,o)},$0=function(t,r,o,s){r.store.manager.setValue(t,r,o,s)},U4=function(t,r,o){return r.store.manager.getValue(t,r,o)},ix=function(t,r,o){return o},B0=Object.freeze({__proto__:null,onLoad:cd,onUnload:R0,setValue:$0,getValue:U4,getState:ix}),Tw=function(t,r){var o=t.resetOnDom?[sr(function(s,d){cd(s,t,r)}),Ms(function(s,d){R0(s,t,r)})]:[Ka(t,r,cd)];return _a(o)},dg=Object.freeze({__proto__:null,events:Tw}),M0=function(){var t=zn(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},s=function(){t.set(null)};return qi({set:t.set,get:t.get,isNotSet:o,clear:s,readState:r})},W4=function(){var t=q;return qi({readState:t})},of=function(){var t=zn({}),r=zn({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},s=function(){t.set({}),r.set({})},d=function(C){return On(t.get(),C).orThunk(function(){return On(r.get(),C)})},g=function(C){var E=t.get(),O=r.get(),$={},U={};pt(C,function(G){$[G.value]=G,On(G,"meta").each(function(ee){On(ee,"text").each(function(ae){U[ae]=G})})}),t.set(ne(ne({},E),$)),r.set(ne(ne({},O),U))};return qi({readState:o,lookup:d,update:g,clear:s})},Ow=function(t){return t.store.manager.state(t)},Dw=Object.freeze({__proto__:null,memory:M0,dataset:of,manual:W4,init:Ow}),mg=function(t,r,o,s){var d=r.store;o.update([s]),d.setValue(t,s),r.onSetValue(t,s)},Rw=function(t,r,o){var s=r.store,d=s.getDataKey(t);return o.lookup(d).getOrThunk(function(){return s.getFallbackEntry(d)})},n1=function(t,r,o){var s=r.store;s.initialValue.each(function(d){mg(t,r,o,d)})},ux=function(t,r,o){o.clear()},j4=[Xr("initialValue"),At("getFallbackEntry"),At("getDataKey"),At("setValue"),ka("manager",{setValue:mg,getValue:Rw,onLoad:n1,onUnload:ux,state:of})],uf=function(t,r,o){return r.store.getValue(t)},vs=function(t,r,o,s){r.store.setValue(t,s),r.onSetValue(t,s)},Bi=function(t,r,o){r.store.initialValue.each(function(s){r.store.setValue(t,s)})},G4=[At("getValue"),He("setValue",q),Xr("initialValue"),ka("manager",{setValue:vs,getValue:uf,onLoad:Bi,onUnload:q,state:Ti.init})],$w=function(t,r,o,s){o.set(s),r.onSetValue(t,s)},hg=function(t,r,o){return o.get()},Bw=function(t,r,o){r.store.initialValue.each(function(s){o.isNotSet()&&o.set(s)})},r1=function(t,r,o){o.clear()},Mw=[Xr("initialValue"),ka("manager",{setValue:$w,getValue:hg,onLoad:Bw,onUnload:r1,state:M0})],q4=[gu("store",{mode:"memory"},el("mode",{memory:Mw,manual:G4,dataset:j4})),Yr("onSetValue"),He("resetOnDom",!1)],an=Ko({fields:q4,name:"representing",active:dg,apis:B0,extra:{setValueFrom:function(t,r){var o=an.getValue(r);an.setValue(t,o)}},state:Dw}),Xo=function(t,r){return f2(t,{},Ue(r,function(o){return xh(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([hu("dump",he)]))},gg=function(t){return t.dump},ci=function(t,r){return ne(ne({},Jt(r)),t.dump)},il={field:Xo,augment:ci,get:gg},Pw="placeholder",a1=Ds.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),P0=function(t){return Pr(t,"uiType")},I0=function(t,r,o,s){return t.exists(function(d){return d!==o.owner})?a1.single(!0,ie(o)):On(s,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+Hr(s)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(d){return d.replace()})},N0=function(t,r,o,s){return P0(o)&&o.uiType===Pw?I0(t,r,o,s):a1.single(!1,ie(o))},fd=function(t,r,o,s){var d=N0(t,r,o,s);return d.fold(function(g,C){var E=P0(o)?C(r,o.config,o.validated):C(r),O=On(E,"components").getOr([]),$=jt(O,function(U){return fd(t,r,U,s)});return[ne(ne({},E),{components:$})]},function(g,C){if(P0(o)){var E=C(r,o.config,o.validated),O=o.validated.preprocess.getOr(he);return O(E)}else return C(r)})},o1=function(t,r,o,s){return jt(o,function(d){return fd(t,r,d,s)})},Iw=function(t,r){var o=!1,s=function(){return o},d=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},g=function(){return r.fold(function(C,E){return C},function(C,E){return C})};return{name:ie(t),required:g,used:s,replace:d}},Nw=function(t,r,o,s){var d=dr(s,function(C,E){return Iw(E,C)}),g=o1(t,r,o,d);return Ur(d,function(C){if(C.used()===!1&&C.required())throw new Error("Placeholder: "+C.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),g},zw=a1.single,K4=a1.multiple,sx=ie(Pw),cv=Ds.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),sf=He("factory",{sketch:he}),pm=He("schema",[]),pg=At("name"),Fw=Uo("pname","pname",Rr(function(t){return"<alloy."+wn(t.name)+">"}),Tl()),z0=hu("schema",function(){return[Xr("preprocess")]}),lf=He("defaults",ie({})),zl=He("overrides",ie({})),vd=Mn([sf,pm,pg,Fw,lf,zl]),dd=Mn([sf,pm,pg,lf,zl]),bm=Mn([sf,pm,pg,Fw,lf,zl]),bg=Mn([sf,z0,pg,At("unit"),Fw,lf,zl]),Lw=function(t){return t.fold(B.some,B.none,B.some,B.some)},Hw=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},Vw=function(t){return t.fold(he,he,he,he)},F0=function(t,r){return function(o){var s=sa("Converting part type",r,o);return t(s)}},Mi=F0(cv.required,vd),Fs=F0(cv.external,dd),ul=F0(cv.optional,bm),cf=F0(cv.group,bg),yg=ie("entirety"),L0=Object.freeze({__proto__:null,required:Mi,external:Fs,optional:ul,group:cf,asNamedPart:Lw,name:Hw,asCommon:Vw,original:yg}),md=function(t,r,o,s){return yt(r.defaults(t,o,s),o,{uid:t.partUids[r.name]},r.overrides(t,o,s))},ym=function(t,r,o){var s={},d={};return pt(o,function(g){g.fold(function(C){s[C.pname]=zw(!0,function(E,O,$){return C.factory.sketch(md(E,C,O,$))})},function(C){var E=r.parts[C.name];d[C.name]=ie(C.factory.sketch(md(r,C,E[yg()]),E))},function(C){s[C.pname]=zw(!1,function(E,O,$){return C.factory.sketch(md(E,C,O,$))})},function(C){s[C.pname]=K4(!0,function(E,O,$){var U=E[C.name];return Ue(U,function(G){return C.factory.sketch(yt(C.defaults(E,G,$),G,C.overrides(E,G)))})})})}),{internals:ie(s),externals:ie(d)}},wm=function(t,r){var o={};return pt(r,function(s){Lw(s).each(function(d){var g=X4(t,d.pname);o[d.name]=function(C){var E=sa("Part: "+d.name+" in "+t,Mn(d.schema),C);return ne(ne({},g),{config:C,validated:E})}})}),o},X4=function(t,r){return{uiType:sx(),owner:t,name:r}},Uw=function(t,r,o){return{uiType:sx(),owner:t,name:r,config:o,validated:{}}},lx=function(t){return jt(t,function(r){return r.fold(B.none,B.some,B.none,B.none).map(function(o){return Wc(o.name,o.schema.concat([nd(yg())]))}).toArray()})},cx=function(t){return Ue(t,Hw)},Ww=function(t,r,o){return ym(t,r,o)},jw=function(t,r,o){return Nw(B.some(t),r,r.components,o)},pa=function(t,r,o){var s=r.partUids[o];return t.getSystem().getByUid(s).toOptional()},ff=function(t,r,o){return pa(t,r,o).getOrDie("Could not find part: "+o)},fx=function(t,r,o){var s={},d=r.partUids,g=t.getSystem();return pt(o,function(C){s[C]=ie(g.getByUid(d[C]))}),s},vx=function(t,r){var o=t.getSystem();return dr(r.partUids,function(s,d){return ie(o.getByUid(s))})},dx=function(t){return Hr(t.partUids)},H0=function(t,r,o){var s={},d=r.partUids,g=t.getSystem();return pt(o,function(C){s[C]=ie(g.getByUid(d[C]).getOrDie())}),s},Gw=function(t,r){var o=cx(r);return Qf(Ue(o,function(s){return{key:s,value:t+"-"+s}}))},i1=function(t){return Uo("partUids","partUids",ki(function(r){return Gw(r.uid,t)}),Tl())},Gn=Object.freeze({__proto__:null,generate:wm,generateOne:Uw,schemas:lx,names:cx,substitutes:Ww,components:jw,defaultUids:Gw,defaultUidsSchema:i1,getAllParts:vx,getAllPartNames:dx,getPart:pa,getPartOrDie:ff,getParts:fx,getPartsOrDie:H0}),Y4=function(t,r){var o=t.length>0?[Wc("parts",t)]:[];return o.concat([At("uid"),He("dom",{}),He("components",[]),nd("originalSpec"),He("debug.sketcher",{})]).concat(r)},qw=function(t,r,o,s,d){var g=Y4(s,d);return sa(t+" [SpecSchema]",is(g.concat(r)),o)},mx=function(t,r,o,s){var d=hx(s),g=qw(t,r,d,[],[]);return o(g,d)},Kw=function(t,r,o,s,d){var g=hx(d),C=lx(o),E=i1(o),O=qw(t,r,g,C,[E]),$=Ww(t,O,o),U=jw(t,O,$.internals());return s(O,U,g,$.externals())},Z4=function(t){return Pr(t,"uid")},hx=function(t){return Z4(t)?t:ne(ne({},t),{uid:Xv("uid")})},Xw=function(t){return t.uid!==void 0},Yw=is([At("name"),At("factory"),At("configFields"),He("apis",{}),He("extraApis",{})]),J4=is([At("name"),At("factory"),At("configFields"),At("partFields"),He("apis",{}),He("extraApis",{})]),Ls=function(t){var r=sa("Sketcher for "+t.name,Yw,t),o=function(g){return mx(r.name,r.configFields,r.factory,g)},s=dr(r.apis,Ja),d=dr(r.extraApis,function(g,C){return Xd(g,C)});return ne(ne({name:r.name,configFields:r.configFields,sketch:o},s),d)},xu=function(t){var r=sa("Sketcher for "+t.name,J4,t),o=function(C){return Kw(r.name,r.configFields,r.partFields,r.factory,C)},s=wm(r.name,r.partFields),d=dr(r.apis,Ja),g=dr(r.extraApis,function(C,E){return Xd(C,E)});return ne(ne({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:s},d),g)},vf=function(t){return Qu(t)==="input"&&Va(t,"type")!=="radio"||Qu(t)==="textarea"},Q4=function(t,r,o){return r.find(t)},eE=Object.freeze({__proto__:null,getCurrent:Q4}),Zw=[At("find")],Ar=Ko({fields:Zw,name:"composing",apis:eE}),tE=["input","button","textarea","select"],V0=function(t,r,o){var s=r.disabled()?Jw:hd;s(t,r)},U0=function(t,r){return r.useNative===!0&&ct(tE,Qu(t.element))},W0=function(t){return mb(t.element,"disabled")},u1=function(t){fr(t.element,"disabled","disabled")},fv=function(t){ii(t.element,"disabled")},s1=function(t){return Va(t.element,"aria-disabled")==="true"},nE=function(t){fr(t.element,"aria-disabled","true")},gx=function(t){fr(t.element,"aria-disabled","false")},Jw=function(t,r,o){r.disableClass.each(function(d){Wo(t.element,d)});var s=U0(t,r)?u1:nE;s(t),r.onDisabled(t)},hd=function(t,r,o){r.disableClass.each(function(d){Io(t.element,d)});var s=U0(t,r)?fv:gx;s(t),r.onEnabled(t)},j0=function(t,r){return U0(t,r)?W0(t):s1(t)},px=function(t,r,o,s){var d=s?Jw:hd;d(t,r)},rE=Object.freeze({__proto__:null,enable:hd,disable:Jw,isDisabled:j0,onLoad:V0,set:px}),aE=function(t,r){return Pl({classes:r.disabled()?r.disableClass.toArray():[]})},oE=function(t,r){return _a([k2(Rs(),function(o,s){return j0(o,t)}),Ka(t,r,V0)])},Cm=Object.freeze({__proto__:null,exhibit:aE,events:oE}),Qw=[Ta("disabled",se),He("useNative",!0),Xr("disableClass"),Yr("onDisabled"),Yr("onEnabled")],Nn=Ko({fields:Qw,name:"disabling",active:Cm,apis:rE}),bx=function(t,r,o,s){var d=au(t.element,"."+r.highlightClass);pt(d,function(g){_n(s,function(C){return C.element===g})||(Io(g,r.highlightClass),t.getSystem().getByDom(g).each(function(C){r.onDehighlight(t,C),Wr(C,Eb())}))})},yx=function(t,r,o){return bx(t,r,o,[])},iE=function(t,r,o,s){eC(t,r,o,s)&&(Io(s.element,r.highlightClass),r.onDehighlight(t,s),Wr(s,Eb()))},l1=function(t,r,o,s){bx(t,r,o,[s]),eC(t,r,o,s)||(Wo(s.element,r.highlightClass),r.onHighlight(t,s),Wr(s,x2()))},iu=function(t,r,o){nC(t,r).each(function(s){l1(t,r,o,s)})},c1=function(t,r,o){rC(t,r).each(function(s){l1(t,r,o,s)})},uE=function(t,r,o,s){Cx(t,r,o,s).fold(function(d){throw d},function(d){l1(t,r,o,d)})},wx=function(t,r,o,s){var d=_x(t,r),g=bt(d,s);g.each(function(C){l1(t,r,o,C)})},eC=function(t,r,o,s){return bu(s.element,r.highlightClass)},tC=function(t,r,o){return jo(t.element,"."+r.highlightClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},Cx=function(t,r,o,s){var d=au(t.element,"."+r.itemClass);return B.from(d[s]).fold(function(){return mr.error(new Error("No element found with index "+s))},t.getSystem().getByDom)},nC=function(t,r,o){return jo(t.element,"."+r.itemClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},rC=function(t,r,o){var s=au(t.element,"."+r.itemClass),d=s.length>0?B.some(s[s.length-1]):B.none();return d.bind(function(g){return t.getSystem().getByDom(g).toOptional()})},vv=function(t,r,o,s){var d=au(t.element,"."+r.itemClass),g=Zt(d,function(C){return bu(C,r.highlightClass)});return g.bind(function(C){var E=Di(C,s,0,d.length-1);return t.getSystem().getByDom(d[E]).toOptional()})},sE=function(t,r,o){return vv(t,r,o,-1)},lE=function(t,r,o){return vv(t,r,o,1)},_x=function(t,r,o){var s=au(t.element,"."+r.itemClass);return Ir(Ue(s,function(d){return t.getSystem().getByDom(d).toOptional()}))},cE=Object.freeze({__proto__:null,dehighlightAll:yx,dehighlight:iE,highlight:l1,highlightFirst:iu,highlightLast:c1,highlightAt:uE,highlightBy:wx,isHighlighted:eC,getHighlighted:tC,getFirst:nC,getLast:rC,getPrevious:sE,getNext:lE,getCandidates:_x}),f1=[At("highlightClass"),At("itemClass"),Yr("onHighlight"),Yr("onDehighlight")],na=Ko({fields:f1,name:"highlighting",apis:cE}),G0=[8],dv=[9],Fl=[13],gd=[27],Uu=[32],q0=[37],_m=[38],wg=[39],pd=[40],fE=function(t,r,o){var s=Ft(t.slice(0,r)),d=Ft(t.slice(r+1));return bt(s.concat(d),o)},Sx=function(t,r,o){var s=Ft(t.slice(0,r));return bt(s,o)},vE=function(t,r,o){var s=t.slice(0,r),d=t.slice(r+1);return bt(d.concat(s),o)},dE=function(t,r,o){var s=t.slice(r+1);return bt(s,o)},Sr=function(t){return function(r){var o=r.raw;return ct(t,o.which)}},Ll=function(t){return function(r){return $t(t,function(o){return o(r)})}},Cg=function(t){var r=t.raw;return r.shiftKey===!0},xx=function(t){var r=t.raw;return r.ctrlKey===!0},v1=Xe(Cg),Mr=function(t,r){return{matches:t,classification:r}},kx=function(t,r){var o=bt(t,function(s){return s.matches(r)});return o.map(function(s){return s.classification})},Ax=function(t,r,o){var s=r.exists(function(d){return o.exists(function(g){return Sa(g,d)})});s||Fn(t,Ab(),{prevFocus:r,newFocus:o})},d1=function(){var t=function(o){return hc(o.element)},r=function(o,s){var d=t(o);o.getSystem().triggerFocus(s,o.element);var g=t(o);Ax(o,d,g)};return{get:t,set:r}},Ex=function(){var t=function(o){return na.getHighlighted(o).map(function(s){return s.element})},r=function(o,s){var d=t(o);o.getSystem().getByDom(s).fold(q,function(C){na.highlight(o,C)});var g=t(o);Ax(o,d,g)};return{get:t,set:r}},m1;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(m1||(m1={}));var Sm=function(t,r,o,s,d){var g=function(){return t.concat([He("focusManager",d1()),gu("focusInside","onFocus",Sh(function($){return ct(["onFocus","onEnterOrSpace","onApi"],$)?mr.value($):mr.error("Invalid value for focusInside")})),ka("handler",O),ka("state",r),ka("sendFocusIn",d)])},C=function($,U,G,ee,ae){var ve=G($,U,ee,ae);return kx(ve,U.event).bind(function(Se){return Se($,U,ee,ae)})},E=function($,U){var G=$.focusInside!==m1.OnFocusMode?B.none():d($).map(function(ve){return Bt(Vv(),function(Se,Ne){ve(Se,$,U),Ne.stop()})}),ee=function(ve,Se){var Ne=Sr(Uu.concat(Fl))(Se.event);$.focusInside===m1.OnEnterOrSpaceMode&&Ne&&tS(ve,Se)&&d($).each(function(Ce){Ce(ve,$,U),Se.stop()})},ae=[Bt(_b(),function(ve,Se){C(ve,Se,o,$,U).fold(function(){ee(ve,Se)},function(Ne){Se.stop()})}),Bt(b2(),function(ve,Se){C(ve,Se,s,$,U).each(function(Ne){Se.stop()})})];return _a(G.toArray().concat(ae))},O={schema:g,processKey:C,toEvents:E};return O},aC=function(t){var r=[Xr("onEscape"),Xr("onEnter"),He("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),He("firstTabstop",0),He("useTabstopAt",Ee),Xr("visibilitySelector")].concat([t]),o=function(Se,Ne){var Ce=Se.visibilitySelector.bind(function(Fe){return al(Ne,Fe)}).getOr(Ne);return Mo(Ce)>0},s=function(Se,Ne){var Ce=au(Se.element,Ne.selector),Fe=Ae(Ce,function(vt){return o(Ne,vt)});return B.from(Fe[Ne.firstTabstop])},d=function(Se,Ne){return Ne.focusManager.get(Se).bind(function(Ce){return al(Ce,Ne.selector)})},g=function(Se,Ne){return o(Se,Ne)&&Se.useTabstopAt(Ne)},C=function(Se,Ne,Ce){s(Se,Ne).each(function(Fe){Ne.focusManager.set(Se,Fe)})},E=function(Se,Ne,Ce,Fe,vt){return vt(Ne,Ce,function(ft){return g(Fe,ft)}).fold(function(){return Fe.cyclic?B.some(!0):B.none()},function(ft){return Fe.focusManager.set(Se,ft),B.some(!0)})},O=function(Se,Ne,Ce,Fe){var vt=au(Se.element,Ce.selector);return d(Se,Ce).bind(function(ft){var ze=Zt(vt,ye(Sa,ft));return ze.bind(function(nt){return E(Se,vt,nt,Ce,Fe)})})},$=function(Se,Ne,Ce){var Fe=Ce.cyclic?fE:Sx;return O(Se,Ne,Ce,Fe)},U=function(Se,Ne,Ce){var Fe=Ce.cyclic?vE:dE;return O(Se,Ne,Ce,Fe)},G=function(Se,Ne,Ce){return Ce.onEnter.bind(function(Fe){return Fe(Se,Ne)})},ee=function(Se,Ne,Ce){return Ce.onEscape.bind(function(Fe){return Fe(Se,Ne)})},ae=ie([Mr(Ll([Cg,Sr(dv)]),$),Mr(Sr(dv),U),Mr(Sr(gd),ee),Mr(Ll([v1,Sr(Fl)]),G)]),ve=ie([]);return Sm(r,Ti.init,ae,ve,function(){return B.some(C)})},oC=aC(hu("cyclic",se)),Tx=aC(hu("cyclic",Ee)),Ox=function(t,r,o){return Tb(t,o,Rs()),B.some(!0)},bd=function(t,r,o){var s=vf(o)&&Sr(Uu)(r.event);return s?B.none():Ox(t,r,o)},xm=function(t,r){return B.some(!0)},iC=[He("execute",bd),He("useSpace",!1),He("useEnter",!0),He("useControlEnter",!1),He("useDown",!1)],Dx=function(t,r,o){return o.execute(t,r,t.element)},K0=function(t,r,o,s){var d=o.useSpace&&!vf(t.element)?Uu:[],g=o.useEnter?Fl:[],C=o.useDown?pd:[],E=d.concat(g).concat(C);return[Mr(Sr(E),Dx)].concat(o.useControlEnter?[Mr(Ll([xx,Sr(Fl)]),Dx)]:[])},mE=function(t,r,o,s){return o.useSpace&&!vf(t.element)?[Mr(Sr(Uu),xm)]:[]},_g=Sm(iC,Ti.init,K0,mE,function(){return B.none()}),uC=function(){var t=ho(),r=function(d,g){t.set({numRows:d,numColumns:g})},o=function(){return t.get().map(function(d){return d.numRows})},s=function(){return t.get().map(function(d){return d.numColumns})};return qi({readState:function(){return t.get().map(function(d){return{numRows:String(d.numRows),numColumns:String(d.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:s})},sC=function(t){return t.state(t)},Rx=Object.freeze({__proto__:null,flatgrid:uC,init:sC}),lC=function(t){return function(r,o,s,d){var g=t(r.element);return fC(g,r,o,s,d)}},X0=function(t,r){var o=uw(t,r);return lC(o)},Y0=function(t,r){var o=uw(r,t);return lC(o)},cC=function(t){return function(r,o,s,d){return fC(t,r,o,s,d)}},fC=function(t,r,o,s,d){var g=s.focusManager.get(r).bind(function(C){return t(r.element,C,s,d)});return g.map(function(C){return s.focusManager.set(r,C),!0})},$x=cC,km=cC,Sg=cC,Bx=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Mx=function(t){return!Bx(t.dom)},Z0=function(t,r){return Zt(t,r).map(function(o){return{index:o,candidates:t}})},Px=function(t,r,o){var s=function(C){return Sa(C,r)},d=au(t,o),g=Ae(d,Mx);return Z0(g,s)},Ix=function(t,r){return Zt(t,function(o){return Sa(r,o)})},vC=function(t,r,o,s){var d=Math.floor(r/o),g=r%o;return s(d,g).bind(function(C){var E=C.row*o+C.column;return E>=0&&E<t.length?B.some(t[E]):B.none()})},Nx=function(t,r,o,s,d){return vC(t,r,s,function(g,C){var E=g===o-1,O=E?t.length-g*s:s,$=Di(C,d,0,O-1);return B.some({row:g,column:$})})},zx=function(t,r,o,s,d){return vC(t,r,s,function(g,C){var E=Di(g,d,0,o-1),O=E===o-1,$=O?t.length-E*s:s,U=fs(C,0,$-1);return B.some({row:E,column:U})})},Fx=function(t,r,o,s){return Nx(t,r,o,s,1)},hE=function(t,r,o,s){return Nx(t,r,o,s,-1)},Lx=function(t,r,o,s){return zx(t,r,o,s,-1)},dC=function(t,r,o,s){return zx(t,r,o,s,1)},xg=[At("selector"),He("execute",bd),Go("onEscape"),He("captureTab",!1),Kb()],gE=function(t,r,o){jo(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},Hx=function(t,r){return r.focusManager.get(t).bind(function(o){return al(o,r.selector)})},Vx=function(t,r,o,s){return Hx(t,o).bind(function(d){return o.execute(t,r,d)})},sl=function(t){return function(r,o,s,d){return Px(r,o,s.selector).bind(function(g){return t(g.candidates,g.index,d.getNumRows().getOr(s.initSize.numRows),d.getNumColumns().getOr(s.initSize.numColumns))})}},Ux=function(t,r,o){return o.captureTab?B.some(!0):B.none()},Wx=function(t,r,o){return o.onEscape(t,r)},J0=sl(hE),Q0=sl(Fx),mC=sl(Lx),Am=sl(dC),kg=ie([Mr(Sr(q0),X0(J0,Q0)),Mr(Sr(wg),Y0(J0,Q0)),Mr(Sr(_m),$x(mC)),Mr(Sr(pd),km(Am)),Mr(Ll([Cg,Sr(dv)]),Ux),Mr(Ll([v1,Sr(dv)]),Ux),Mr(Sr(gd),Wx),Mr(Sr(Uu.concat(Fl)),Vx)]),jx=ie([Mr(Sr(Uu),xm)]),Gx=Sm(xg,uC,kg,jx,function(){return B.some(gE)}),ey=function(t,r,o,s){var d=function(C){return Qu(C)==="button"&&Va(C,"disabled")==="disabled"},g=function(C,E,O){var $=Di(E,s,0,O.length-1);return $===C?B.none():d(O[$])?g(C,$,O):B.from(O[$])};return Px(t,o,r).bind(function(C){var E=C.index,O=C.candidates;return g(E,E,O)})},pE=[At("selector"),He("getInitial",B.none),He("execute",bd),Go("onEscape"),He("executeOnMove",!1),He("allowVertical",!0)],ty=function(t,r){return r.focusManager.get(t).bind(function(o){return al(o,r.selector)})},h1=function(t,r,o){return ty(t,o).bind(function(s){return o.execute(t,r,s)})},ny=function(t,r,o){r.getInitial(t).orThunk(function(){return jo(t.element,r.selector)}).each(function(s){r.focusManager.set(t,s)})},qx=function(t,r,o){return ey(t,o.selector,r,-1)},ry=function(t,r,o){return ey(t,o.selector,r,1)},ll=function(t){return function(r,o,s,d){return t(r,o,s,d).bind(function(){return s.executeOnMove?h1(r,o,s):B.some(!0)})}},bE=function(t,r,o){return o.onEscape(t,r)},ay=function(t,r,o,s){var d=q0.concat(o.allowVertical?_m:[]),g=wg.concat(o.allowVertical?pd:[]);return[Mr(Sr(d),ll(X0(qx,ry))),Mr(Sr(g),ll(Y0(qx,ry))),Mr(Sr(Fl),h1),Mr(Sr(Uu),h1),Mr(Sr(gd),bE)]},Kx=ie([Mr(Sr(Uu),xm)]),g1=Sm(pE,Ti.init,ay,Kx,function(){return B.some(ny)}),p1=function(t,r,o){return B.from(t[r]).bind(function(s){return B.from(s[o]).map(function(d){return{rowIndex:r,columnIndex:o,cell:d}})})},hC=function(t,r,o,s){var d=t[r],g=d.length,C=Di(o,s,0,g-1);return p1(t,r,C)},Xx=function(t,r,o,s){var d=Di(o,s,0,t.length-1),g=t[d].length,C=fs(r,0,g-1);return p1(t,d,C)},Yx=function(t,r,o,s){var d=t[r],g=d.length,C=fs(o+s,0,g-1);return p1(t,r,C)},Zx=function(t,r,o,s){var d=fs(o+s,0,t.length-1),g=t[d].length,C=fs(r,0,g-1);return p1(t,d,C)},oy=function(t,r,o){return hC(t,r,o,1)},yd=function(t,r,o){return hC(t,r,o,-1)},yE=function(t,r,o){return Xx(t,o,r,-1)},wE=function(t,r,o){return Xx(t,o,r,1)},CE=function(t,r,o){return Yx(t,r,o,-1)},wd=function(t,r,o){return Yx(t,r,o,1)},_E=function(t,r,o){return Zx(t,o,r,-1)},gC=function(t,r,o){return Zx(t,o,r,1)},SE=[Wc("selectors",[At("row"),At("cell")]),He("cycles",!0),He("previousSelector",B.none),He("execute",bd)],Ag=function(t,r,o){var s=r.previousSelector(t).orThunk(function(){var d=r.selectors;return jo(t.element,d.cell)});s.each(function(d){r.focusManager.set(t,d)})},pC=function(t,r,o){return hc(t.element).bind(function(s){return o.execute(t,r,s)})},Jx=function(t,r){return Ue(t,function(o){return au(o,r.selectors.cell)})},iy=function(t,r){return function(o,s,d){var g=d.cycles?t:r;return al(s,d.selectors.row).bind(function(C){var E=au(C,d.selectors.cell);return Ix(E,s).bind(function(O){var $=au(o,d.selectors.row);return Ix($,C).bind(function(U){var G=Jx($,d);return g(G,U,O).map(function(ee){return ee.cell})})})})}},Qx=iy(yd,CE),ek=iy(oy,wd),xE=iy(yE,_E),uy=iy(wE,gC),sy=ie([Mr(Sr(q0),X0(Qx,ek)),Mr(Sr(wg),Y0(Qx,ek)),Mr(Sr(_m),$x(xE)),Mr(Sr(pd),km(uy)),Mr(Sr(Uu.concat(Fl)),pC)]),bC=ie([Mr(Sr(Uu),xm)]),tk=Sm(SE,Ti.init,sy,bC,function(){return B.some(Ag)}),nk=[At("selector"),He("execute",bd),He("moveOnTab",!1)],Em=function(t,r,o){return o.focusManager.get(t).bind(function(s){return o.execute(t,r,s)})},b1=function(t,r,o){jo(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},ly=function(t,r,o){return ey(t,o.selector,r,-1)},y1=function(t,r,o){return ey(t,o.selector,r,1)},rk=function(t,r,o,s){return o.moveOnTab?Sg(ly)(t,r,o,s):B.none()},mv=function(t,r,o,s){return o.moveOnTab?Sg(y1)(t,r,o,s):B.none()},kE=ie([Mr(Sr(_m),Sg(ly)),Mr(Sr(pd),Sg(y1)),Mr(Ll([Cg,Sr(dv)]),rk),Mr(Ll([v1,Sr(dv)]),mv),Mr(Sr(Fl),Em),Mr(Sr(Uu),Em)]),df=ie([Mr(Sr(Uu),xm)]),ak=Sm(nk,Ti.init,kE,df,function(){return B.some(b1)}),cy=[Go("onSpace"),Go("onEnter"),Go("onShiftEnter"),Go("onLeft"),Go("onRight"),Go("onTab"),Go("onShiftTab"),Go("onUp"),Go("onDown"),Go("onEscape"),He("stopSpaceKeyup",!1),Xr("focusIn")],yC=function(t,r,o){return[Mr(Sr(Uu),o.onSpace),Mr(Ll([v1,Sr(Fl)]),o.onEnter),Mr(Ll([Cg,Sr(Fl)]),o.onShiftEnter),Mr(Ll([Cg,Sr(dv)]),o.onShiftTab),Mr(Ll([v1,Sr(dv)]),o.onTab),Mr(Sr(_m),o.onUp),Mr(Sr(pd),o.onDown),Mr(Sr(q0),o.onLeft),Mr(Sr(wg),o.onRight),Mr(Sr(Uu),o.onSpace),Mr(Sr(gd),o.onEscape)]},AE=function(t,r,o){return o.stopSpaceKeyup?[Mr(Sr(Uu),xm)]:[]},Cd=Sm(cy,Ti.init,yC,AE,function(t){return t.focusIn}),ok=oC.schema(),ik=Tx.schema(),EE=g1.schema(),wC=Gx.schema(),Eg=tk.schema(),Tg=_g.schema(),uk=ak.schema(),CC=Cd.schema(),Hl=Object.freeze({__proto__:null,acyclic:ok,cyclic:ik,flow:EE,flatgrid:wC,matrix:Eg,execution:Tg,menu:uk,special:CC}),_d=function(t){return co(t,"setGridSize")},Vn=im({branchKey:"mode",branches:Hl,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(s){s(t,r,o)})},setGridSize:function(t,r,o,s,d){_d(o)?o.setGridSize(s,d):console.error("Layout does not support setGridSize")}},state:Rx}),_C=function(t,r,o,s){kS(function(){var d=Ue(s,t.getSystem().build);kw(t,d)},t.element)},mf=function(t,r,o,s){var d=t.getSystem().build(s);O0(t,d,o)},sk=function(t,r,o,s){mf(t,r,Vi,s)},TE=function(t,r,o,s){mf(t,r,jf,s)},lk=function(t,r,o,s){var d=w1(t),g=bt(d,function(C){return Sa(s.element,C.element)});g.each(yc)},w1=function(t,r){return t.components()},Cc=function(t,r,o,s,d){var g=w1(t);return B.from(g[s]).map(function(C){return lk(t,r,o,C),d.each(function(E){mf(t,r,function(O,$){ac(O,$,s)},E)}),C})},fy=function(t,r,o,s,d){var g=w1(t);return Zt(g,s).bind(function(C){return Cc(t,r,o,C,d)})},ck=Object.freeze({__proto__:null,append:sk,prepend:TE,remove:lk,replaceAt:Cc,replaceBy:fy,set:_C,contents:w1}),ar=Ko({fields:[],name:"replacing",apis:ck}),SC=function(t,r){var o=_a(r);return Ko({fields:[At("enabled")],name:t,active:{events:ie(o)}})},lr=function(t,r){var o=SC(t,r);return{key:t,value:{config:{},me:o,configAsRaw:ie({}),initialConfig:{},state:Ti}}},xC=function(t,r){r.ignore||(mc(t.element),r.onFocus(t))},fk=function(t,r){r.ignore||Up(t.element)},vk=function(t){return Wp(t.element)},Og=Object.freeze({__proto__:null,focus:xC,blur:fk,isFocused:vk}),Dg=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return Pl(o)},Rg=function(t){return _a([Bt(Vv(),function(r,o){xC(r,t),o.stop()})].concat(t.stopMousedown?[Bt($l(),function(r,o){o.event.prevent()})]:[]))},$g=Object.freeze({__proto__:null,exhibit:Dg,events:Rg}),OE=[Yr("onFocus"),He("stopMousedown",!1),He("ignore",!1)],er=Ko({fields:OE,name:"focusing",active:$g,apis:Og}),dk=function(t){var r=function(){var o=zn(t),s=function(){return o.get()},d=function(E){return o.set(E)},g=function(){return o.set(t)},C=function(){return o.get()};return{get:s,set:d,clear:g,readState:C}};return{init:r}},kC=function(t,r,o){var s=r.aria;s.update(t,s,o.get())},C1=function(t,r,o){r.toggleClass.each(function(s){o.get()?Wo(t.element,s):Io(t.element,s)})},Sd=function(t,r,o){AC(t,r,o,!o.get())},mk=function(t,r,o){o.set(!0),C1(t,r,o),kC(t,r,o)},vy=function(t,r,o){o.set(!1),C1(t,r,o),kC(t,r,o)},AC=function(t,r,o,s){var d=s?mk:vy;d(t,r,o)},DE=function(t,r,o){return o.get()},hk=function(t,r,o){AC(t,r,o,r.selected)},RE=Object.freeze({__proto__:null,onLoad:hk,toggle:Sd,isOn:DE,on:mk,off:vy,set:AC}),dy=function(){return Pl({})},$E=function(t,r){var o=om(t,r,Sd),s=Ka(t,r,hk);return _a(ut([t.toggleOnExecute?[o]:[],[s]]))},my=Object.freeze({__proto__:null,exhibit:dy,events:$E}),gk=function(t,r,o){fr(t.element,"aria-pressed",o),r.syncWithExpanded&&bk(t,r,o)},pk=function(t,r,o){fr(t.element,"aria-selected",o)},BE=function(t,r,o){fr(t.element,"aria-checked",o)},bk=function(t,r,o){fr(t.element,"aria-expanded",o)},EC=[He("selected",!1),Xr("toggleClass"),He("toggleOnExecute",!0),gu("aria",{mode:"none"},el("mode",{pressed:[He("syncWithExpanded",!1),ka("update",gk)],checked:[ka("update",BE)],expanded:[ka("update",bk)],selected:[ka("update",pk)],none:[ka("update",q)]}))],Nr=Ko({fields:EC,name:"toggling",active:my,apis:RE,state:dk(!1)}),yk=function(){var t=function(r,o){o.stop(),Bs(r)};return[Bt(Oh(),t),Bt(Uv(),t),qd(qc()),qd($l())]},hy=function(t){var r=function(o){return cs(function(s,d){o(s),d.stop()})};return _a(ut([t.map(r).toArray(),yk()]))},TC="alloy.item-hover",wk="alloy.item-focus",OC=function(t){(hc(t.element).isNone()||er.isFocused(t))&&(er.isFocused(t)||er.focus(t),Fn(t,TC,{item:t}))},_1=function(t){Fn(t,wk,{item:t})},gy=ie(TC),u=ie(wk),c=function(t){return{dom:t.dom,domModification:ne(ne({},t.domModification),{attributes:ne(ne(ne({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:il.augment(t.itemBehaviours,[t.toggling.fold(Nr.revoke,function(r){return Nr.config(ne({aria:{mode:"checked"}},r))}),er.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){_1(r)}}),Vn.config({mode:"execution"}),an.config({store:{mode:"memory",initialValue:t.data}}),lr("item-type-events",ke(ke([],yk(),!0),[Bt(ev(),OC),Bt(Wd(),er.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},h=[At("data"),At("components"),At("dom"),He("hasSubmenu",!1),Xr("toggling"),il.field("itemBehaviours",[Nr,er,Vn,an]),He("ignoreFocus",!1),He("domModification",{}),ka("builder",c),He("eventOrder",{})],w=function(t){return{dom:t.dom,components:t.components,events:_a([$h(Wd())])}},k=[At("dom"),At("components"),ka("builder",w)],R=ie("item-widget"),L=ie([Mi({name:"widget",overrides:function(t){return{behaviours:Jt([an.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:q}})])}}})]),K=function(t){var r=Ww(R(),t,L()),o=jw(R(),t,r.internals()),s=function(g){return pa(g,t,"widget").map(function(C){return Vn.focusIn(C),C})},d=function(g,C){return vf(C.event.target)?B.none():function(){return t.autofocus&&C.setSource(g.element),B.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:_a([cs(function(g,C){s(g).each(function(E){C.stop()})}),Bt(ev(),OC),Bt(Wd(),function(g,C){t.autofocus?s(g):er.focus(g)})]),behaviours:il.augment(t.widgetBehaviours,[an.config({store:{mode:"memory",initialValue:t.data}}),er.config({ignore:t.ignoreFocus,onFocus:function(g){_1(g)}}),Vn.config({mode:"special",focusIn:t.autofocus?function(g){s(g)}:xS(),onLeft:d,onRight:d,onEscape:function(g,C){return!er.isFocused(g)&&!t.autofocus?(er.focus(g),B.some(!0)):(t.autofocus&&C.setSource(g.element),B.none())}})])}},ue=[At("uid"),At("data"),At("components"),At("dom"),He("autofocus",!1),He("ignoreFocus",!1),il.field("widgetBehaviours",[an,er,Vn]),He("domModification",{}),i1(L()),ka("builder",K)],we=el("type",{widget:ue,item:h,separator:k}),Me=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},ht=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},Ht=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},Tt=ie([cf({factory:{sketch:function(t){var r=sa("menu.spec item",we,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return Pr(r,"uid")?r:ne(ne({},r),{uid:Xv("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),gt=ie([At("value"),At("items"),At("dom"),At("components"),He("eventOrder",{}),Xo("menuBehaviours",[na,an,Ar,Vn]),gu("movement",{mode:"menu",moveOnTab:!0},el("mode",{grid:[Kb(),ka("config",Me)],matrix:[ka("config",ht),At("rowSelector")],menu:[He("moveOnTab",!0),ka("config",Ht)]})),XA(),He("fakeFocus",!1),He("focusManager",d1()),Yr("onHighlight")]),Yt=ie("alloy.menu-focus"),tn=function(t,r,o,s){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:ci(t.menuBehaviours,[na.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),an.config({store:{mode:"memory",initialValue:t.value}}),Ar.config({find:B.some}),Vn.config(t.movement.config(t,t.movement))]),events:_a([Bt(u(),function(d,g){var C=g.event;d.getSystem().getByDom(C.target).each(function(E){na.highlight(d,E),g.stop(),Fn(d,Yt(),{menu:d,item:E})})}),Bt(gy(),function(d,g){var C=g.event.item;na.highlight(d,C)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},Rn=xu({name:"Menu",configFields:gt(),partFields:Tt(),factory:tn}),jr=function(t){return La(t,function(r,o){return{k:r,v:o}})},Dn=function(t,r,o,s){return On(o,s).bind(function(d){return On(t,d).bind(function(g){var C=Dn(t,r,o,g);return B.some([g].concat(C))})}).getOr([])},nr=function(t,r){var o={};Ur(t,function(C,E){pt(C,function(O){o[O]=E})});var s=r,d=jr(r),g=dr(d,function(C,E){return[E].concat(Dn(o,s,d,E))});return dr(o,function(C){return On(g,C).getOr([C])})},Er=function(){var t=zn({}),r=zn({}),o=zn({}),s=ho(),d=zn({}),g=function(){t.set({}),r.set({}),o.set({}),s.clear()},C=function(){return s.get().isNone()},E=function(ze,nt){var St;r.set(ne(ne({},r.get()),(St={},St[ze]={type:"prepared",menu:nt},St)))},O=function(ze,nt,St,on){s.set(ze),t.set(St),r.set(nt),d.set(on);var Dt=nr(on,St);o.set(Dt)},$=function(ze){return Zu(t.get(),function(nt,St){return nt===ze})},U=function(ze,nt,St){return Se(ze).bind(function(on){return $(ze).bind(function(Dt){return nt(Dt).map(function(ln){return{triggeredMenu:on,triggeringItem:ln,triggeringPath:St}})})})},G=function(ze,nt){var St=Ae(Ce(ze).toArray(),function(on){return Se(on).isSome()});return On(o.get(),ze).bind(function(on){var Dt=Ft(St.concat(on)),ln=jt(Dt,function(Pt,_t){return U(Pt,nt,Dt.slice(0,_t+1)).fold(function(){return lu(s.get(),Pt)?[]:[B.none()]},function(Xt){return[B.some(Xt)]})});return Dr(ln)})},ee=function(ze){return On(t.get(),ze).map(function(nt){var St=On(o.get(),ze).getOr([]);return[nt].concat(St)})},ae=function(ze){return On(o.get(),ze).bind(function(nt){return nt.length>1?B.some(nt.slice(1)):B.none()})},ve=function(ze){return On(o.get(),ze)},Se=function(ze){return Ne(ze).bind(xr)},Ne=function(ze){return On(r.get(),ze)},Ce=function(ze){return On(t.get(),ze)},Fe=function(ze){var nt=d.get();return rn(Hr(nt),ze)},vt=function(){return s.get().bind(Se)},ft=function(){return r.get()};return{setMenuBuilt:E,setContents:O,expand:ee,refresh:ve,collapse:ae,lookupMenu:Ne,lookupItem:Ce,otherMenus:Fe,getPrimary:vt,getMenus:ft,clear:g,isClear:C,getTriggeringPath:G}},xr=function(t){return t.type==="prepared"?B.some(t.menu):B.none()},_o={init:Er,extractPreparedMenu:xr},fi=function(t,r){var o=ho(),s=function(Ot,bn,En){return dr(En,function(Or,ia){var za=function(){return Rn.sketch(ne(ne({},Or),{value:ia,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?Ex():d1()}))};return ia===bn?{type:"prepared",menu:Ot.getSystem().build(za())}:{type:"notbuilt",nbMenu:za}})},d=_o.init(),g=function(Ot){var bn=s(Ot,t.data.primary,t.data.menus),En=O();return d.setContents(t.data.primary,bn,t.data.expansions,En),d.getPrimary()},C=function(Ot){return an.getValue(Ot).value},E=function(Ot,bn,En){return Qr(bn,function(Or){if(!Or.getSystem().isConnected())return B.none();var ia=na.getCandidates(Or);return bt(ia,function(za){return C(za)===En})})},O=function(Ot){return dr(t.data.menus,function(bn,En){return jt(bn.items,function(Or){return Or.type==="separator"?[]:[Or.data.value]})})},$=function(Ot,bn){na.highlight(Ot,bn),na.getHighlighted(bn).orThunk(function(){return na.getFirst(bn)}).each(function(En){Tb(Ot,En.element,Wd())})},U=function(Ot,bn){return Ir(Ue(bn,function(En){return Ot.lookupMenu(En).bind(function(Or){return Or.type==="prepared"?B.some(Or.menu):B.none()})}))},G=function(Ot,bn,En){var Or=U(bn,bn.otherMenus(En));pt(Or,function(ia){Ns(ia.element,[t.markers.backgroundMenu]),t.stayInDom||ar.remove(Ot,ia)})},ee=function(Ot){return o.get().getOrThunk(function(){var bn={},En=au(Ot.element,"."+t.markers.item),Or=Ae(En,function(ia){return Va(ia,"aria-haspopup")==="true"});return pt(Or,function(ia){Ot.getSystem().getByDom(ia).each(function(za){var lo=C(za);bn[lo]=za})}),o.set(bn),bn})},ae=function(Ot,bn){var En=ee(Ot);Ur(En,function(Or,ia){var za=ct(bn,ia);fr(Or.element,"aria-expanded",za)})},ve=function(Ot,bn,En){return B.from(En[0]).bind(function(Or){return bn.lookupMenu(Or).bind(function(ia){if(ia.type==="notbuilt")return B.none();var za=ia.menu,lo=U(bn,En.slice(1));return pt(lo,function(vl){Wo(vl.element,t.markers.backgroundMenu)}),fu(za.element)||ar.append(Ot,zs(za)),Ns(za.element,[t.markers.backgroundMenu]),$(Ot,za),G(Ot,bn,En),B.some(za)})})},Se;(function(Ot){Ot[Ot.HighlightSubmenu=0]="HighlightSubmenu",Ot[Ot.HighlightParent=1]="HighlightParent"})(Se||(Se={}));var Ne=function(Ot,bn,En){if(En.type==="notbuilt"){var Or=Ot.getSystem().build(En.nbMenu());return d.setMenuBuilt(bn,Or),Or}else return En.menu},Ce=function(Ot,bn,En){if(En===void 0&&(En=Se.HighlightSubmenu),bn.hasConfigured(Nn)&&Nn.isDisabled(bn))return B.some(bn);var Or=C(bn);return d.expand(Or).bind(function(ia){return ae(Ot,ia),B.from(ia[0]).bind(function(za){return d.lookupMenu(za).bind(function(lo){var vl=Ne(Ot,za,lo);return fu(vl.element)||ar.append(Ot,zs(vl)),t.onOpenSubmenu(Ot,bn,vl,Ft(ia)),En===Se.HighlightSubmenu?(na.highlightFirst(vl),ve(Ot,d,ia)):(na.dehighlightAll(vl),B.some(bn))})})})},Fe=function(Ot,bn){var En=C(bn);return d.collapse(En).bind(function(Or){return ae(Ot,Or),ve(Ot,d,Or).map(function(ia){return t.onCollapseMenu(Ot,bn,ia),ia})})},vt=function(Ot,bn){var En=C(bn);return d.refresh(En).bind(function(Or){return ae(Ot,Or),ve(Ot,d,Or)})},ft=function(Ot,bn){return vf(bn.element)?B.none():Ce(Ot,bn,Se.HighlightSubmenu)},ze=function(Ot,bn){return vf(bn.element)?B.none():Fe(Ot,bn)},nt=function(Ot,bn){return Fe(Ot,bn).orThunk(function(){return t.onEscape(Ot,bn).map(function(){return Ot})})},St=function(Ot){return function(bn,En){return al(En.getSource(),"."+t.markers.item).bind(function(Or){return bn.getSystem().getByDom(Or).toOptional().bind(function(ia){return Ot(bn,ia).map(Ee)})})}},on=_a([Bt(Yt(),function(Ot,bn){var En=bn.event.item;d.lookupItem(C(En)).each(function(){var Or=bn.event.menu;na.highlight(Ot,Or);var ia=C(bn.event.item);d.refresh(ia).each(function(za){return G(Ot,d,za)})})}),cs(function(Ot,bn){var En=bn.event.target;Ot.getSystem().getByDom(En).each(function(Or){var ia=C(Or);ia.indexOf("collapse-item")===0&&Fe(Ot,Or),Ce(Ot,Or,Se.HighlightSubmenu).fold(function(){t.onExecute(Ot,Or)},q)})}),sr(function(Ot,bn){g(Ot).each(function(En){ar.append(Ot,zs(En)),t.onOpenMenu(Ot,En),t.highlightImmediately&&$(Ot,En)})})].concat(t.navigateOnHover?[Bt(gy(),function(Ot,bn){var En=bn.event.item;vt(Ot,En),Ce(Ot,En,Se.HighlightParent),t.onHover(Ot,En)})]:[])),Dt=function(Ot){return na.getHighlighted(Ot).bind(na.getHighlighted)},ln=function(Ot){Dt(Ot).each(function(bn){Fe(Ot,bn)})},Pt=function(Ot){d.getPrimary().each(function(bn){$(Ot,bn)})},_t=function(Ot){return B.from(Ot.components()[0]).filter(function(bn){return Va(bn.element,"role")==="menu"})},Xt=function(Ot){var bn=d.getPrimary().bind(function(En){return Dt(Ot).bind(function(Or){var ia=C(Or),za=Ci(d.getMenus()),lo=Ir(Ue(za,_o.extractPreparedMenu));return d.getTriggeringPath(ia,function(vl){return E(Ot,lo,vl)})}).map(function(Or){return{primary:En,triggeringPath:Or}})});bn.fold(function(){_t(Ot).each(function(En){t.onRepositionMenu(Ot,En,[])})},function(En){var Or=En.primary,ia=En.triggeringPath;t.onRepositionMenu(Ot,Or,ia)})},Cn={collapseMenu:ln,highlightPrimary:Pt,repositionMenus:Xt};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:ci(t.tmenuBehaviours,[Vn.config({mode:"special",onRight:St(ft),onLeft:St(ze),onEscape:St(nt),focusIn:function(Ot,bn){d.getPrimary().each(function(En){Tb(Ot,En.element,Wd())})}}),na.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Ar.config({find:function(Ot){return na.getHighlighted(Ot)}}),ar.config({})]),eventOrder:t.eventOrder,apis:Cn,events:on}},vi=ie("collapse-item"),zr=function(t,r,o){return{primary:t,menus:r,expansions:o}},or=function(t,r){return{primary:t,menus:jc(t,r),expansions:{}}},$r=function(t){return{value:wn(vi()),meta:{text:t}}},fa=Ls({name:"TieredMenu",configFields:[zu("onExecute"),zu("onEscape"),wu("onOpenMenu"),wu("onOpenSubmenu"),Yr("onRepositionMenu"),Yr("onCollapseMenu"),He("highlightImmediately",!0),Wc("data",[At("primary"),At("menus"),At("expansions")]),He("fakeFocus",!1),Yr("onHighlight"),Yr("onHover"),tm(),At("dom"),He("navigateOnHover",!0),He("stayInDom",!1),Xo("tmenuBehaviours",[Vn,na,Ar,ar]),He("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:fi,extraApis:{tieredData:zr,singleData:or,collapseItem:$r}}),uo=function(t,r,o,s,d){var g=function(){return t.lazySink(r)},C=s.type==="horizontal"?{layouts:{onLtr:function(){return n0()},onRtl:function(){return r0()}}}:{},E=function($){return $.length===2},O=function($){return E($)?C:{}};return fa.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return Br.close(r),t.onEscape.map(function($){return $(r)}),B.some(!0)},onExecute:function(){return B.some(!0)},onOpenMenu:function($,U){go.positionWithinBounds(g().getOrDie(),U,o,d())},onOpenSubmenu:function($,U,G,ee){var ae=g().getOrDie();go.position(ae,G,{anchor:ne({type:"submenu",item:U},O(ee))})},onRepositionMenu:function($,U,G){var ee=g().getOrDie();go.positionWithinBounds(ee,U,o,d()),pt(G,function(ae){var ve=O(ae.triggeringPath);go.position(ee,ae.triggeredMenu,{anchor:ne({type:"submenu",item:ae.triggeringItem},ve)})})}})},hv=function(t,r){var o=function(ae,ve){var Se=t.getRelated(ae);return Se.exists(function(Ne){return em(Ne,ve)})},s=function(ae,ve){Br.setContent(ae,ve)},d=function(ae,ve,Se){g(ae,ve,Se,B.none())},g=function(ae,ve,Se,Ne){C(ae,ve,Se,function(){return Ne.map(function(Ce){return Eo(Ce)})})},C=function(ae,ve,Se,Ne){var Ce=t.lazySink(ae).getOrDie();Br.openWhileCloaked(ae,ve,function(){return go.positionWithinBounds(Ce,ae,Se,Ne())}),an.setValue(ae,B.some({mode:"position",config:Se,getBounds:Ne}))},E=function(ae,ve,Se){O(ae,ve,Se,B.none)},O=function(ae,ve,Se,Ne){var Ce=uo(t,ae,ve,Se,Ne);Br.open(ae,Ce),an.setValue(ae,B.some({mode:"menu",menu:Ce}))},$=function(ae){Br.isOpen(ae)&&(an.setValue(ae,B.none()),Br.close(ae))},U=function(ae){return Br.getState(ae)},G=function(ae){Br.isOpen(ae)&&an.getValue(ae).each(function(ve){switch(ve.mode){case"menu":Br.getState(ae).each(fa.repositionMenus);break;case"position":var Se=t.lazySink(ae).getOrDie();go.positionWithinBounds(Se,ae,ve.config,ve.getBounds());break}})},ee={setContent:s,showAt:d,showWithin:g,showWithinBounds:C,showMenuAt:E,showMenuWithinBounds:O,hide:$,getContent:U,reposition:G,isOpen:Br.isOpen};return{uid:t.uid,dom:t.dom,behaviours:ci(t.inlineBehaviours,[Br.config({isPartOf:function(ae,ve,Se){return em(ve,Se)||o(ae,Se)},getAttachPoint:function(ae){return t.lazySink(ae).getOrDie()},onOpen:function(ae){t.onShow(ae)},onClose:function(ae){t.onHide(ae)}}),an.config({store:{mode:"memory",initialValue:B.none()}}),nu.config({channels:ne(ne({},Vu(ne({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(ae){return{fireEventInstead:{event:ae.event}}}).getOr({})))),gm(ne(ne({},t.fireRepositionEventInstead.map(function(ae){return{fireEventInstead:{event:ae.event}}}).getOr({})),{doReposition:G})))})]),eventOrder:t.eventOrder,apis:ee}},ca=Ls({name:"InlineView",configFields:[At("lazySink"),Yr("onShow"),Yr("onHide"),Lv("onEscape"),Xo("inlineBehaviours",[Br,an,nu]),ss("fireDismissalEventInstead",[He("event",Bl())]),ss("fireRepositionEventInstead",[He("event",Gi())]),He("getRelated",B.none),He("isExtraPart",se),He("eventOrder",B.none)],factory:hv,apis:{showAt:function(t,r,o,s){t.showAt(r,o,s)},showWithin:function(t,r,o,s,d){t.showWithin(r,o,s,d)},showWithinBounds:function(t,r,o,s,d){t.showWithinBounds(r,o,s,d)},showMenuAt:function(t,r,o,s){t.showMenuAt(r,o,s)},showMenuWithinBounds:function(t,r,o,s,d){t.showMenuWithinBounds(r,o,s,d)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),ds="layout-inset",di=function(t){return t.x},S1=function(t,r){return t.x+t.width/2-r.width/2},gv=function(t,r){return t.x+t.width-r.width},_c=function(t){return t.y},Hs=function(t,r){return t.y+t.height-r.height},hf=function(t,r){return t.y+t.height/2-r.height/2},py=function(t,r,o){return Qo(gv(t,r),Hs(t,r),o.insetSouthwest(),rm(),"southwest",qo(t,{right:0,bottom:3}),ds)},Bg=function(t,r,o){return Qo(di(t),Hs(t,r),o.insetSoutheast(),H2(),"southeast",qo(t,{left:1,bottom:3}),ds)},Mg=function(t,r,o){return Qo(gv(t,r),_c(t),o.insetNorthwest(),L2(),"northwest",qo(t,{right:0,top:2}),ds)},Pg=function(t,r,o){return Qo(di(t),_c(t),o.insetNortheast(),Yb(),"northeast",qo(t,{left:1,top:2}),ds)},Sc=function(t,r,o){return Qo(S1(t,r),_c(t),o.insetNorth(),zp(),"north",qo(t,{top:2}),ds)},Ig=function(t,r,o){return Qo(S1(t,r),Hs(t,r),o.insetSouth(),V2(),"south",qo(t,{bottom:3}),ds)},Ng=function(t,r,o){return Qo(gv(t,r),hf(t,r),o.insetEast(),Hh(),"east",qo(t,{right:0}),ds)},DC=function(t,r,o){return Qo(di(t),hf(t,r),o.insetWest(),U2(),"west",qo(t,{left:1}),ds)},zg=function(t){switch(t){case"north":return Sc;case"northeast":return Pg;case"northwest":return Mg;case"south":return Ig;case"southeast":return Bg;case"southwest":return py;case"east":return Ng;case"west":return DC}},L5=function(t,r,o,s,d){var g=Q2(s).map(zg).getOr(Sc);return g(t,r,o,s,d)},ME=function(t){switch(t){case"north":return Ig;case"northeast":return Bg;case"northwest":return py;case"south":return Sc;case"southeast":return Pg;case"southwest":return Mg;case"east":return DC;case"west":return Ng}},o8=function(t,r,o,s,d){var g=Q2(s).map(ME).getOr(Sc);return g(t,r,o,s,d)},Fg=tinymce.util.Tools.resolve("tinymce.util.Delay"),i8=function(t){var r=hy(t.action),o=t.dom.tag,s=function(g){return On(t.dom,"attributes").bind(function(C){return On(C,g)})},d=function(){if(o==="button"){var g=s("type").getOr("button"),C=s("role").map(function(O){return{role:O}}).getOr({});return ne({type:g},C)}else{var E=s("role").getOr("button");return{role:E}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:il.augment(t.buttonBehaviours,[er.config({}),Vn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},ms=Ls({name:"Button",factory:i8,configFields:[He("uid",void 0),At("dom"),He("components",[]),il.field("buttonBehaviours",[er,Vn]),Xr("action"),Xr("role"),He("eventOrder",{})]}),oa=function(t){var r=Xw(t)&&co(t,"uid")?t.uid:Xv("memento"),o=function(g){return g.getSystem().getByUid(r).getOrDie()},s=function(g){return g.getSystem().getByUid(r).toOptional()},d=function(){return ne(ne({},t),{uid:r})};return{get:o,getOpt:s,asSpec:d}},gf=tinymce.util.Tools.resolve("tinymce.util.I18n"),PE={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},H5="temporary-placeholder",by=function(t){return function(){return On(t,H5).getOr("!not found!")}},IE=function(t,r){var o=t.toLowerCase();if(gf.isRtl()){var s=$f(o,"-rtl");return Pr(r,s)?s:o}else return o},V5=function(t,r){return On(r,IE(t,r))},U5=function(t,r){var o=r();return V5(t,o).getOrThunk(by(o))},u8=function(t,r,o){var s=r();return V5(t,s).or(o).getOrThunk(by(s))},s8=function(t){return gf.isRtl()?Pr(PE,t):!1},NE=function(){return lr("add-focusable",[sr(function(t){N2(t.element,"svg").each(function(r){return fr(r,"focusable","false")})})])},zE=function(t,r,o,s){var d,g,C=s8(r)?["tox-icon--flip"]:[],E=On(o,IE(r,o)).or(s).getOrThunk(by(o));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(C),innerHtml:E},behaviours:Jt(ke(ke([],(g=t.behaviours)!==null&&g!==void 0?g:[],!0),[NE()],!1))}},pv=function(t,r,o,s){return s===void 0&&(s=B.none()),zE(r,t,o(),s)},l8=function(t,r,o){var s=o(),d=bt(t,function(g){return Pr(s,IE(g,s))});return zE(r,d.getOr(H5),s,B.none())},Ck={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},c8=function(t){var r=oa({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Jt([ar.config({})])}),o=function(ae){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+ae+"%"}}}},s=function(ae){return{dom:{tag:"div",classes:["tox-text"],innerHtml:ae+"%"}}},d=oa({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:Jt([ar.config({})])}),g=function(ae,ve){ae.getSystem().isConnected()&&d.getOpt(ae).each(function(Se){ar.set(Se,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(ve)]},s(ve)])})},C=function(ae,ve){if(ae.getSystem().isConnected()){var Se=r.get(ae);ar.set(Se,[Oi(ve)])}},E={updateProgress:g,updateText:C},O=ut([t.icon.toArray(),t.level.toArray(),t.level.bind(function(ae){return B.from(Ck[ae])}).toArray()]),$=oa(ms.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[pv("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(ae){t.onAction(ae)}})),U=l8(O,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),G={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:Jt([ar.config({})])},ee=[U,G];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(ae){return["tox-notification","tox-notification--in","tox-notification--"+ae]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Jt([er.config({}),lr("notification-events",[Bt(tl(),function(ae){$.getOpt(ae).each(er.focus)})])]),components:ee.concat(t.progress?[d.asSpec()]:[]).concat(t.closeButton?[$.asSpec()]:[]),apis:E}},FE=Ls({name:"Notification",factory:c8,configFields:[Xr("level"),At("progress"),At("icon"),At("onAction"),At("text"),At("iconProvider"),At("translationProvider"),Ca("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function LE(t,r,o){var s=r.backstage.shared,d=function($){switch($){case"bc-bc":return Ig;case"tc-tc":return Sc;case"tc-bc":return Fu;case"bc-tc":default:return No}},g=function($){$.length>0&&pt($,function(U,G){G===0?U.moveRel(null,"banner"):U.moveRel($[G-1].getEl(),"bc-tc")})},C=function($,U){var G=!$.closeButton&&$.timeout&&($.timeout>0||$.timeout<0),ee=function(){U(),ca.hide(ve)},ae=Wa(FE.sketch({text:$.text,level:ct(["success","error","warning","warn","info"],$.type)?$.type:void 0,progress:$.progressBar===!0,icon:B.from($.icon),closeButton:!G,onAction:ee,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),ve=Wa(ca.sketch(ne({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(ve),$.timeout>0&&Fg.setTimeout(function(){ee()},$.timeout);var Se=function(){var Ne=Eo(sn.fromDom(t.getContentAreaContainer())),Ce=xi(),Fe=fs(Ce.x,Ne.x,Ne.right),vt=fs(Ce.y,Ne.y,Ne.bottom),ft=Math.max(Ne.right,Ce.right),ze=Math.max(Ne.bottom,Ce.bottom);return B.some(Vo(Fe,vt,ft-Fe,ze-vt))};return{close:ee,moveTo:function(Ne,Ce){ca.showAt(ve,zs(ae),{anchor:{type:"makeshift",x:Ne,y:Ce}})},moveRel:function(Ne,Ce){var Fe=zs(ae),vt={maxHeightFunction:Xh()};if(Ce!=="banner"&&H(Ne)){var ft=d(Ce),ze={type:"node",root:Li(),node:B.some(sn.fromDom(Ne)),overrides:vt,layouts:{onRtl:function(){return[ft]},onLtr:function(){return[ft]}}};ca.showWithinBounds(ve,Fe,{anchor:ze},Se)}else{var nt=ne(ne({},s.anchors.banner()),{overrides:vt});ca.showWithinBounds(ve,Fe,{anchor:nt},Se)}},text:function(Ne){FE.updateText(ae,Ne)},settings:$,getEl:function(){return ae.element.dom},progressBar:{value:function(Ne){FE.updateProgress(ae,Ne)}}}},E=function($){$.close()},O=function($){return $.settings};return{open:C,close:E,reposition:g,getArgs:O}}var f8=function(t,r){var o=null,s=function(){D(o)||(clearTimeout(o),o=null)},d=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];D(o)&&(o=setTimeout(function(){o=null,t.apply(null,g)},r))};return{cancel:s,throttle:d}},HE=function(t,r){var o=null,s=function(){D(o)||(clearTimeout(o),o=null)},d=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];s(),o=setTimeout(function(){o=null,t.apply(null,g)},r)};return{cancel:s,throttle:d}},v8=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),d8=function(t,r){return t.isBlock(r)||ct(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},W5=function(t,r,o,s,d){var g=v8(t,function(C){return d8(t,C)});return B.from(g.backwards(r,o,s,d))},m8="[data-mce-autocompleter]",h8=function(t,r){return _k(sn.fromDom(t.selection.getNode())).getOrThunk(function(){var o=sn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Vi(o,sn.fromDom(r.extractContents())),r.insertNode(o.dom),xo(o).each(function(s){return s.dom.normalize()}),pw(o).map(function(s){t.selection.setCursorLocation(s.dom,jS(s))}),o})},_k=function(t){return al(t,m8)},g8=function(t){return t.collapsed&&t.startContainer.nodeType===3},j5=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},G5=function(t){return t!==""&&`  \f
\r	\v`.indexOf(t)!==-1},VE=function(t,r){return t.substring(r.length)},UE=function(t,r,o){var s;for(s=r-1;s>=0;s--){var d=t.charAt(s);if(G5(d))return B.none();if(d===o)break}return B.some(s)},p8=function(t,r,o,s){if(s===void 0&&(s=0),!g8(r))return B.none();var d=function(C,E,O){return UE(O,E,o).getOr(E)},g=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return W5(t,r.startContainer,r.startOffset,d,g).bind(function(C){var E=r.cloneRange();if(E.setStart(C.container,C.offset),E.setEnd(r.endContainer,r.endOffset),E.collapsed)return B.none();var O=j5(E),$=O.lastIndexOf(o);return $!==0||VE(O,o).length<s?B.none():B.some({text:VE(O,o),range:E,triggerChar:o})})},WE=function(t,r,o,s){return s===void 0&&(s=0),_k(sn.fromDom(r.startContainer)).fold(function(){return p8(t,r,o,s)},function(d){var g=t.createRng();g.selectNode(d.dom);var C=j5(g);return B.some({range:g,text:VE(C,o),triggerChar:o})})},b8=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(s,d){Fn(s,_b(),{raw:d})};r.on("keydown",function(s){var d=function(){return t.getView().bind(na.getHighlighted)};s.which===8&&t.onKeypress.throttle(s),t.isActive()&&(s.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?s.which===13?(d().each(Bs),s.preventDefault()):s.which===40?(d().fold(function(){t.getView().each(na.highlightFirst)},function(g){o(g,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&d().each(function(g){o(g,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(s){t.isActive()&&!t.isProcessingAction()&&_k(sn.fromDom(s.element)).isNone()&&t.cancelIfNecessary()})},q5={setup:b8},RC=tinymce.util.Tools.resolve("tinymce.util.Promise"),jE=function(t,r){return{container:t,offset:r}},y8=function(t){return t.nodeType===Jl},w8=function(t){return t.nodeType===Rv},K5=function(t){if(y8(t))return jE(t,t.data.length);var r=t.childNodes;return r.length>0?K5(r[r.length-1]):jE(t,r.length)},Sk=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?Sk(o[r],0):o.length>0&&w8(t)&&o.length===r?K5(o[o.length-1]):jE(t,r)},C8=function(t,r){return W5(t,r.container,r.offset,function(o,s){return s===0?-1:s},t.getRoot()).filter(function(o){var s=o.container.data.charAt(o.offset-1);return!G5(s)}).isSome()},_8=function(t){return function(r){var o=Sk(r.startContainer,r.startOffset);return!C8(t,o)}},S8=function(t,r,o){return Qr(o.triggerChars,function(s){return WE(t,r,s)})},x8=function(t,r){var o=r(),s=t.selection.getRng();return S8(t.dom,s,o).bind(function(d){return X5(t,r,d)})},X5=function(t,r,o,s){s===void 0&&(s={});var d=r(),g=t.selection.getRng(),C=g.startContainer.nodeValue,E=Ae(d.lookupByChar(o.triggerChar),function($){return o.text.length>=$.minChars&&$.matches.getOrThunk(function(){return _8(t.dom)})(o.range,C,o.text)});if(E.length===0)return B.none();var O=RC.all(Ue(E,function($){var U=$.fetch(o.text,$.maxResults,s);return U.then(function(G){return{matchText:o.text,items:G,columns:$.columns,onAction:$.onAction,highlightOn:$.highlightOn}})}));return B.some({lookupData:O,context:o})},Y5=Mn([Qn("type"),Ea("text")]),k8=function(t){return Za("separatormenuitem",Y5,t)},A8=Mn([He("type","autocompleteitem"),He("active",!1),He("disabled",!1),He("meta",{}),Qn("value"),Ea("text"),Ea("icon")]),E8=Mn([Qn("type"),Qn("ch"),lc("minChars",1),He("columns",1),lc("maxResults",10),Lv("matches"),tu("fetch"),tu("onAction"),Jf("highlightOn",[],wo)]),T8=function(t){return Za("Autocompleter.Separator",Y5,t)},O8=function(t){return Za("Autocompleter.Item",A8,t)},GE=function(t){return Za("Autocompleter",E8,t)},$C=[Ca("disabled",!1),Ea("tooltip"),Ea("icon"),Ea("text"),Ta("onSetup",function(){return q})],D8=Mn([Qn("type"),tu("onAction")].concat($C)),Z5=function(t){return Za("toolbarbutton",D8,t)},BC=[Ca("active",!1)].concat($C),R8=Mn(BC.concat([Qn("type"),tu("onAction")])),xk=function(t){return Za("ToggleButton",R8,t)},J5=[Ta("predicate",se),Os("scope","node",["node","editor"]),Os("position","selection",["node","selection","line"])],$8=$C.concat([He("type","contextformbutton"),He("primary",!1),tu("onAction"),hu("original",he)]),B8=BC.concat([He("type","contextformbutton"),He("primary",!1),tu("onAction"),hu("original",he)]),M8=$C.concat([He("type","contextformbutton")]),P8=BC.concat([He("type","contextformtogglebutton")]),Q5=el("type",{contextformbutton:$8,contextformtogglebutton:B8}),I8=Mn([He("type","contextform"),Ta("initValue",ie("")),Ea("label"),ji("commands",Q5),sc("launch",el("type",{contextformbutton:M8,contextformtogglebutton:P8}))].concat(J5)),qE=function(t){return Za("ContextForm",I8,t)},KE=Mn([He("type","contexttoolbar"),Qn("items")].concat(J5)),eD=function(t){return Za("ContextToolbar",KE,t)},XE=function(t){var r={};return pt(t,function(o){r[o]={}}),Hr(r)},YE=function(t){var r=t.ui.registry.getAll().popups,o=dr(r,function(C){return GE(C).fold(function(E){throw new Error(Fv(E))},he)}),s=XE(wi(o,function(C){return C.ch})),d=Ci(o),g=function(C){return Ae(d,function(E){return E.ch===C})};return{dataset:o,triggerChars:s,lookupByChar:g}},kk;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(kk||(kk={}));var uu=kk,MC="tox-menu-nav__js",ZE="tox-collection__item",JE="tox-swatch",N8={normal:MC,color:JE},tD="tox-collection__item--enabled",yy="tox-collection__group-heading",QE="tox-collection__item-icon",eT="tox-collection__item-label",z8="tox-collection__item-accessory",tT="tox-collection__item-caret",nD="tox-collection__item-checkmark",x1="tox-collection__item--active",rD="tox-collection__item-container",nT="tox-collection__item-container--column",Ak="tox-collection__item-container--row",F8="tox-collection__item-container--align-right",aD="tox-collection__item-container--align-left",oD="tox-collection__item-container--valign-top",L8="tox-collection__item-container--valign-middle",H8="tox-collection__item-container--valign-bottom",iD=function(t){return On(N8,t).getOr(MC)},V8=function(t){return t==="color"?"tox-swatches":"tox-menu"},rT=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:V8(t),tieredMenu:"tox-tiered-menu"}},wy=function(t){var r=rT(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:iD(t)}},U8=function(t,r,o){var s=rT(o);return{tag:"div",classes:ut([[s.menu,"tox-menu-"+r+"-column"],t?[s.hasIcons]:[]])}},W8=[Rn.parts.items({})],k1=function(t,r,o){var s=rT(o),d={tag:"div",classes:ut([[s.tieredMenu]])};return{dom:d,markers:wy(o)}},Ek=function(t,r){return function(o){var s=fn(o,r);return Ue(s,function(d){return{dom:t,components:d}})}},uD=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Rn.parts.items({preprocess:t!=="auto"?Ek({tag:"div",classes:["tox-swatches__row"]},t):he})]}]}},j8=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Rn.parts.items({preprocess:Ek({tag:"div",classes:["tox-collection__group"]},t)})]}},sD=function(t,r){var o=[],s=[];return pt(t,function(d,g){r(d,g)?(s.length>0&&o.push(s),s=[],Pr(d.dom,"innerHtml")&&s.push(d)):s.push(d)}),s.length>0&&o.push(s),Ue(o,function(d){return{dom:{tag:"div",classes:["tox-collection__group"]},components:d}})},PC=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Rn.parts.items({preprocess:function(s){return t!=="auto"&&t>1?Ek({tag:"div",classes:["tox-collection__group"]},t)(s):sD(s,function(d,g){return r[g].type==="separator"})}})]}},aT=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Rn.parts.items({preprocess:function(o){return sD(o,function(s,d){return t[d].type==="separator"})}})]}},IC=function(t){return _n(t,function(r){return"icon"in r&&r.icon!==void 0})},xd=function(t){return console.error(Fv(t)),console.log(t),B.none()},lD=function(t,r,o,s,d){var g=aT(o);return{value:t,dom:g.dom,components:g.components,items:o}},oT=function(t,r,o,s,d){if(d==="color"){var g=uD(s);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"&&s==="auto"){var g=PC(s,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"&&s===1){var g=PC(1,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"){var g=PC(s,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="listpreview"&&s!=="auto"){var g=j8(s);return{value:t,dom:g.dom,components:g.components,items:o}}return{value:t,dom:U8(r,s,d),components:W8,items:o}},iT=[Qn("type"),Qn("src"),Ea("alt"),Jf("classes",[],wo)],G8=Mn(iT),cD=[Qn("type"),Qn("text"),Ea("name"),Jf("classes",["tox-collection__item-label"],wo)],fD=Mn(cD),Cy=X_(function(){return wb("type",{cardimage:G8,cardtext:fD,cardcontainer:q8})}),q8=Mn([Qn("type"),kh("direction","horizontal"),kh("align","left"),kh("valign","middle"),ji("items",Cy)]),Lg=[Ca("disabled",!1),Ea("text"),Ea("shortcut"),Uo("value","value",Rr(function(){return wn("menuitem-value")}),Tl()),He("meta",{})],_y=Mn([Qn("type"),Ea("label"),ji("items",Cy),Ta("onSetup",function(){return q}),Ta("onAction",q)].concat(Lg)),K8=function(t){return Za("cardmenuitem",_y,t)},vD=Mn([Qn("type"),Ca("active",!1),Ea("icon")].concat(Lg)),dD=function(t){return Za("choicemenuitem",vD,t)},uT=[Qn("type"),Qn("fancytype"),Ta("onAction",q)],sT=[He("initData",{})].concat(uT),mD=[f2("initData",{},[Ca("allowCustomColors",!0),us("colors",Tl())])].concat(uT),X8=el("fancytype",{inserttable:sT,colorswatch:mD}),Y8=function(t){return Za("fancymenuitem",X8,t)},Tk=Mn([Qn("type"),Ta("onSetup",function(){return q}),Ta("onAction",q),Ea("icon")].concat(Lg)),Z8=function(t){return Za("menuitem",Tk,t)},hD=Mn([Qn("type"),tu("getSubmenuItems"),Ta("onSetup",function(){return q}),Ea("icon")].concat(Lg)),Sy=function(t){return Za("nestedmenuitem",hD,t)},J8=Mn([Qn("type"),Ea("icon"),Ca("active",!1),Ta("onSetup",function(){return q}),tu("onAction")].concat(Lg)),Q8=function(t){return Za("togglemenuitem",J8,t)},lT=function(t,r,o){var s=au(t.element,"."+o);if(s.length>0){var d=Zt(s,function(g){var C=g.dom.getBoundingClientRect().top,E=s[0].dom.getBoundingClientRect().top;return Math.abs(C-E)>r}).getOr(s.length);return B.some({numColumns:d,numRows:Math.ceil(s.length/d)})}else return B.none()},cT=function(t,r){return Jt([lr(t,r)])},gD=function(t){return cT(wn("unnamed-events"),t)},Ok={namedEvents:cT,unnamedEvents:gD},pD=wn("tooltip.exclusive"),NC=wn("tooltip.show"),zC=wn("tooltip.hide"),bD=function(t,r,o){t.getSystem().broadcastOn([pD],{})},Dk=function(t,r,o,s){o.getTooltip().each(function(d){d.getSystem().isConnected()&&ar.set(d,s)})},eP=Object.freeze({__proto__:null,hideAllExclusive:bD,setComponents:Dk}),tP=function(t,r){var o=function(d){r.getTooltip().each(function(g){yc(g),t.onHide(d,g),r.clearTooltip()}),r.clearTimer()},s=function(d){if(!r.isShowing()){bD(d);var g=t.lazySink(d).getOrDie(),C=d.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:_a(t.mode==="normal"?[Bt(ev(),function(E){Wr(d,NC)}),Bt(g2(),function(E){Wr(d,zC)})]:[]),behaviours:Jt([ar.config({})])});r.setTooltip(C),dm(g,C),t.onShow(d,C),go.position(g,C,{anchor:t.anchor(d)})}};return _a(ut([[Bt(NC,function(d){r.resetTimer(function(){s(d)},t.delay)}),Bt(zC,function(d){r.resetTimer(function(){o(d)},t.delay)}),Bt(nl(),function(d,g){var C=g;C.universal||ct(C.channels,pD)&&o(d)}),Ms(function(d){o(d)})],t.mode==="normal"?[Bt(tl(),function(d){Wr(d,NC)}),Bt(w2(),function(d){Wr(d,zC)}),Bt(ev(),function(d){Wr(d,NC)}),Bt(g2(),function(d){Wr(d,zC)})]:[Bt(x2(),function(d,g){Wr(d,NC)}),Bt(Eb(),function(d){Wr(d,zC)})]]))},fT=Object.freeze({__proto__:null,events:tP}),yD=[At("lazySink"),At("tooltipDom"),He("exclusive",!0),He("tooltipComponents",[]),He("delay",300),Os("mode","normal",["normal","follow-highlight"]),He("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:ie([No,Fu,Ki,Cu,ei,_u]),onRtl:ie([No,Fu,Ki,Cu,ei,_u])}}}),Yr("onHide"),Yr("onShow")],nP=function(){var t=ho(),r=ho(),o=function(){t.on(clearTimeout)},s=function(g,C){o(),t.set(setTimeout(g,C))},d=ie("not-implemented");return qi({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:o,resetTimer:s,readState:d})},wD=Object.freeze({__proto__:null,init:nP}),vT=Ko({fields:yD,name:"tooltipping",active:fT,state:wD,apis:eP}),CD=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},xy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),rP=tinymce.util.Tools.resolve("tinymce.EditorManager"),aP=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var s=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=rP.baseURL+"/skins/ui/"+s}return o},oP=function(t){return t.getParam("readonly",!1,"boolean")},iP=function(t){return t.getParam("skin")===!1},Rk=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},$k=function(t){return t.getParam("width",xy.DOM.getStyle(t.getElement(),"width"))},dT=function(t){return B.from(t.getParam("min_width")).filter(V)},_D=function(t){return B.from(t.getParam("min_height")).filter(V)},Bk=function(t){return B.from(t.getParam("max_width")).filter(V)},SD=function(t){return B.from(t.getParam("max_height")).filter(V)},uP=function(t){return B.from(t.getParam("style_formats")).filter(T)},sP=function(t){return t.getParam("style_formats_merge",!1,"boolean")},xD=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},kD=function(t){return t.getParam("content_langs",void 0,"array")},AD=function(t){return t.getParam("removed_menuitems","")},mT=function(t){return t.getParam("menubar",!0,"boolean")!==!1},hT=function(t){var r=t.getParam("toolbar",!0),o=r===!0,s=_(r),d=T(r)&&r.length>0;return!Mk(t)&&(d||s||o)},ED=function(t){var r=te(9,function(s){return t.getParam("toolbar"+(s+1),!1,"string")}),o=Ae(r,function(s){return typeof s=="string"});return o.length>0?B.some(o):B.none()},Mk=function(t){return ED(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},Ee)},Vl;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Vl||(Vl={}));var FC=function(t){return t.getParam("toolbar_mode","","string")},A1;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(A1||(A1={}));var lP=function(t){return t.getParam("toolbar_groups",{},"object")},TD=function(t){return t.getParam("toolbar_location",A1.auto,"string")},OD=function(t){return TD(t)===A1.bottom},cP=function(t){return t.getParam("fixed_toolbar_container","","string")},DD=function(t){return t.getParam("fixed_toolbar_container_target")},fP=function(t){return t.getParam("toolbar_persist",!1,"boolean")},RD=function(t){if(!t.inline)return B.none();var r=cP(t);if(r.length>0)return jo(Li(),r);var o=DD(t);return H(o)?B.some(sn.fromDom(o)):B.none()},Pk=function(t){return t.inline&&RD(t).isSome()},$D=function(t){var r=RD(t);return r.getOrThunk(function(){return ec(xs(sn.fromDom(t.getElement())))})},BD=function(t){return t.inline&&!mT(t)&&!hT(t)&&!Mk(t)},Ik=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!Pk(t)&&!BD(t)},Nk=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},MD=function(t){return t.getParam("draggable_modal",!1,"boolean")},vP=function(t){var r=t.getParam("menu");return r?dr(r,function(o){return ne(ne({},o),{items:o.items})}):{}},dP=function(t){return t.getParam("menubar")},mP=function(t){return t.getParam("toolbar",!0)},hP=function(t){return t.getParam("file_picker_callback")},gP=function(t){return t.getParam("file_picker_types")},gT=function(t){return t.getParam("file_browser_callback_types")},PD=function(t){return t.getParam("typeahead_urls")===!1},ID=function(t){return t.getParam("anchor_top","#top")},pP=function(t){return t.getParam("anchor_bottom","#bottom")},ND=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},pT="silver.readonly",bP=Mn([OA("readonly")]),ky=function(t,r){var o=t.outerContainer,s=o.element;r&&(t.mothership.broadcastOn([hm()],{target:s}),t.uiMothership.broadcastOn([hm()],{target:s})),t.mothership.broadcastOn([pT],{readonly:r}),t.uiMothership.broadcastOn([pT],{readonly:r})},zD=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&ky(r,!0)}),t.on("SwitchMode",function(){return ky(r,t.mode.isReadOnly())}),oP(t)&&t.setMode("readonly")},ti=function(){var t;return nu.config({channels:(t={},t[pT]={schema:bP,onReceive:function(r,o){Nn.set(r,o.readonly)}},t)})},yP=function(t){return Nn.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},wP=function(t){return Nn.config({disabled:t})},CP=function(t){return Nn.config({disabled:t,disableClass:"tox-tbtn--disabled"})},_P=function(t){return Nn.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},pf={item:yP,button:wP,splitButton:CP,toolbarButton:_P},Ay=function(t,r){var o=t.getApi(r);return function(s){s(o)}},E1=function(t,r){return sr(function(o){var s=Ay(t,o);s(function(d){var g=t.onSetup(d);I(g)&&r.set(g)})})},T1=function(t,r){return Ms(function(o){return Ay(t,o)(r.get())})},zk,SP=function(t,r){return cs(function(o,s){Ay(t,o)(t.onAction),!t.triggersSubmenu&&r===uu.CLOSE_ON_EXECUTE&&(Wr(o,Dp()),s.stop())})},xP=(zk={},zk[Rs()]=["disabling","alloy.base.behaviour","toggling","item-events"],zk),Tm=Ir,Hg=function(t,r,o,s){var d=zn(q);return{type:"item",dom:r.dom,components:Tm(r.optComponents),data:t.data,eventOrder:xP,hasSubmenu:t.triggersSubmenu,itemBehaviours:Jt([lr("item-events",[SP(t,o),E1(t,d),T1(t,d)]),pf.item(function(){return t.disabled||s.isDisabled()}),ti(),ar.config({})].concat(t.itemBehaviours))}},Om=function(t){return{value:t.value,meta:ne({text:t.text.getOr("")},t.meta)}},Fk=tinymce.util.Tools.resolve("tinymce.Env"),kP=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},s=Fk.mac?r:o,d=t.split("+"),g=Ue(d,function(C){var E=C.toLowerCase().trim();return Pr(s,E)?s[E]:C});return Fk.mac?g.join(""):g.join("+")},bT=function(t,r,o){return o===void 0&&(o=[QE]),pv(t,{tag:"div",classes:o},r)},FD=function(t){return{dom:{tag:"div",classes:[eT]},components:[Oi(gf.translate(t))]}},LD=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},AP=function(t,r){return{dom:{tag:"div",classes:[eT]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Oi(gf.translate(r))]}]}},EP=function(t){return{dom:{tag:"div",classes:[z8],innerHtml:kP(t)}}},HD=function(t){return bT("checkmark",t,[nD])},TP=function(t){return bT("chevron-right",t,[tT])},OP=function(t){return bT("chevron-down",t,[tT])},DP=function(t,r){var o=t.direction==="vertical"?nT:Ak,s=t.align==="left"?aD:F8,d=function(){switch(t.valign){case"top":return oD;case"middle":return L8;case"bottom":return H8}};return{dom:{tag:"div",classes:[rD,o,s,d()]},components:r}},RP=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},$P=function(t,r,o){var s="custom",d="remove",g=t.ariaLabel,C=t.value,E=t.iconContent.map(function($){return u8($,r.icons,o)}),O=function(){var $=JE,U=E.getOr(""),G=g.map(function(ae){return{title:r.translate(ae)}}).getOr({}),ee={tag:"div",attributes:G,classes:[$]};return C===s?ne(ne({},ee),{tag:"button",classes:ke(ke([],ee.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:U}):C===d?ne(ne({},ee),{classes:ke(ke([],ee.classes,!0),["tox-swatch--remove"],!1),innerHtml:U}):ne(ne({},ee),{attributes:ne(ne({},ee.attributes),{"data-mce-color":C}),styles:{"background-color":C}})};return{dom:O(),optComponents:[]}},VD=function(t){var r=t.map(function(o){return{attributes:{title:gf.translate(o)}}}).getOr({});return ne({tag:"div",classes:[MC,ZE]},r)},UD=function(t,r,o,s){var d={tag:"div",classes:[QE]},g=function(ee){return pv(ee,d,r.icons,s)},C=function(){return B.some({dom:d})},E=o?t.iconContent.map(g).orThunk(C):B.none(),O=t.checkMark,$=B.from(t.meta).fold(function(){return FD},function(ee){return Pr(ee,"style")?ye(AP,ee.style):FD}),U=t.htmlContent.fold(function(){return t.textContent.map($)},function(ee){return B.some(LD(ee,[eT]))}),G={dom:VD(t.ariaLabel),optComponents:[E,U,t.shortcutContent.map(EP),O,t.caret]};return G},LC=function(t,r,o,s){return s===void 0&&(s=B.none()),t.presets==="color"?$P(t,r,s):UD(t,r,o,s)},WD=function(t,r){return On(t,"tooltipWorker").map(function(o){return[vT.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:Xh}}},mode:"follow-highlight",onShow:function(s,d){o(function(g){vT.setComponents(s,[Vb({element:sn.fromDom(g)})])})}})]}).getOr([])},Dm=function(t){return xy.DOM.encode(t)},jD=function(t,r){var o=gf.translate(t),s=Dm(o);if(r.length>0){var d=new RegExp(CD(r),"gi");return s.replace(d,function(g){return'<span class="tox-autocompleter-highlight">'+g+"</span>"})}else return s},BP=function(t,r,o,s,d,g,C,E){E===void 0&&(E=!0);var O=LC({presets:s,textContent:B.none(),htmlContent:o?t.text.map(function($){return jD($,r)}):B.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:B.none(),checkMark:B.none(),caret:B.none(),value:t.value},C.providers,E,t.icon);return Hg({data:Om(t),disabled:t.disabled,getApi:ie({}),onAction:function($){return d(t.value,t.meta)},onSetup:ie(q),triggersSubmenu:!1,itemBehaviours:WD(t.meta,C)},O,g,C.providers)},Lk=function(t,r){return Ue(t,function(o){switch(o.type){case"cardcontainer":return DP(o,Lk(o.items,r));case"cardimage":return RP(o.src,o.classes,o.alt);case"cardtext":var s=o.name.exists(function(g){return ct(r.cardText.highlightOn,g)}),d=s?B.from(r.cardText.matchText).getOr(""):"";return LD(jD(o.text,d),o.classes)}})},Pi=function(t,r,o,s){var d=function(C){return{isDisabled:function(){return Nn.isDisabled(C)},setDisabled:function(E){Nn.set(C,E),pt(au(C.element,"*"),function(O){C.getSystem().getByDom(O).each(function($){$.hasConfigured(Nn)&&Nn.set($,E)})})}}},g={dom:VD(t.label),optComponents:[B.some({dom:{tag:"div",classes:[rD,Ak]},components:Lk(t.items,s)})]};return Hg({data:Om(ne({text:B.none()},t)),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:B.from(s.itemBehaviours).getOr([])},g,r,o.providers)},MP=function(t,r,o,s,d,g,C,E){E===void 0&&(E=!0);var O=function(U){return{setActive:function(G){Nr.set(U,G)},isActive:function(){return Nr.isOn(U)},isDisabled:function(){return Nn.isDisabled(U)},setDisabled:function(G){return Nn.set(U,G)}}},$=LC({presets:o,textContent:r?t.text:B.none(),htmlContent:B.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:B.none(),checkMark:r?B.some(HD(C.icons)):B.none(),caret:B.none(),value:t.value},C,E);return yt(Hg({data:Om(t),disabled:t.disabled,getApi:O,onAction:function(U){return s(t.value)},onSetup:function(U){return U.setActive(d),q},triggersSubmenu:!1,itemBehaviours:[]},$,g,C),{toggling:{toggleClass:tD,toggleOnExecute:!1,selected:t.active}})},GD=wm(R(),L()),qD=function(t){return{value:t}},KD=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,XD=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,YD=function(t){return KD.test(t)||XD.test(t)},PP=function(t){return wl(t,"#").toUpperCase()},IP=function(t){return YD(t)?B.some({value:PP(t)}):B.none()},NP=function(t){var r=t.value.replace(KD,function(o,s,d,g){return s+s+d+d+g+g});return{value:r}},zP=function(t){var r=NP(t),o=XD.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},yT=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},HC=function(t){var r=yT(t.red)+yT(t.green)+yT(t.blue);return qD(r)},ZD=Math.min,JD=Math.max,Hk=Math.round,FP=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,LP=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Vg=function(t,r,o,s){return{red:t,green:r,blue:o,alpha:s}},wT=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},QD=function(t){var r,o,s,d=(t.hue||0)%360,g=t.saturation/100,C=t.value/100;if(g=JD(0,ZD(g,1)),C=JD(0,ZD(C,1)),g===0)return r=o=s=Hk(255*C),Vg(r,o,s,1);var E=d/60,O=C*g,$=O*(1-Math.abs(E%2-1)),U=C-O;switch(Math.floor(E)){case 0:r=O,o=$,s=0;break;case 1:r=$,o=O,s=0;break;case 2:r=0,o=O,s=$;break;case 3:r=0,o=$,s=O;break;case 4:r=$,o=0,s=O;break;case 5:r=O,o=0,s=$;break;default:r=o=s=0}return r=Hk(255*(r+U)),o=Hk(255*(o+U)),s=Hk(255*(s+U)),Vg(r,o,s,1)},VC=function(t){var r=zP(t),o=parseInt(r[1],16),s=parseInt(r[2],16),d=parseInt(r[3],16);return Vg(o,s,d,1)},eR=function(t,r,o,s){var d=parseInt(t,10),g=parseInt(r,10),C=parseInt(o,10),E=parseFloat(s);return Vg(d,g,C,E)},tR=function(t){if(t==="transparent")return B.some(Vg(0,0,0,0));var r=FP.exec(t);if(r!==null)return B.some(eR(r[1],r[2],r[3],"1"));var o=LP.exec(t);return o!==null?B.some(eR(o[1],o[2],o[3],o[4])):B.none()},nR=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},rR=Vg(255,0,0,1),HP=function(t){return t.fire("SkinLoaded")},aR=function(t,r){return t.fire("SkinLoadError",r)},VP=function(t){return t.fire("ResizeEditor")},CT=function(t,r){return t.fire("ResizeContent",r)},UP=function(t,r){return t.fire("ScrollContent",r)},oR=function(t,r){return t.fire("TextColorChange",r)},UC=function(t,r,o){return{hue:t,saturation:r,value:o}},_T=function(t){var r=0,o=0,s=0,d=t.red/255,g=t.green/255,C=t.blue/255,E=Math.min(d,Math.min(g,C)),O=Math.max(d,Math.max(g,C));if(E===O)return s=E,UC(0,0,s*100);var $=d===E?g-C:C===E?d-g:C-d;return r=d===E?3:C===E?1:5,r=60*(r-$/(O-E)),o=(O-E)/O,s=O,UC(Math.round(r),Math.round(o*100),Math.round(s*100))},WP=function(t){return _T(VC(t))},iR=function(t){return HC(QD(t))},uR=function(t){return IP(t).orThunk(function(){return tR(t).map(HC)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data,d=s[0],g=s[1],C=s[2],E=s[3];return HC(Vg(d,g,C,E))})},Vk=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),ST="tinymce-custom-colors";function sR(t){t===void 0&&(t=10);var r=Vk.getItem(ST),o=_(r)?JSON.parse(r):[],s=function(O){var $=t-O.length;return $<0?O.slice(0,t):O},d=s(o),g=function(O){cn(d,O).each(C),d.unshift(O),d.length>t&&d.pop(),Vk.setItem(ST,JSON.stringify(d))},C=function(O){d.splice(O,1)},E=function(){return d.slice(0)};return{add:g,state:E}}var mi="choiceitem",lR=[{type:mi,text:"Light Green",value:"#BFEDD2"},{type:mi,text:"Light Yellow",value:"#FBEEB8"},{type:mi,text:"Light Red",value:"#F8CAC6"},{type:mi,text:"Light Purple",value:"#ECCAFA"},{type:mi,text:"Light Blue",value:"#C2E0F4"},{type:mi,text:"Green",value:"#2DC26B"},{type:mi,text:"Yellow",value:"#F1C40F"},{type:mi,text:"Red",value:"#E03E2D"},{type:mi,text:"Purple",value:"#B96AD9"},{type:mi,text:"Blue",value:"#3598DB"},{type:mi,text:"Dark Turquoise",value:"#169179"},{type:mi,text:"Orange",value:"#E67E23"},{type:mi,text:"Dark Red",value:"#BA372A"},{type:mi,text:"Dark Purple",value:"#843FA1"},{type:mi,text:"Dark Blue",value:"#236FA1"},{type:mi,text:"Light Gray",value:"#ECF0F1"},{type:mi,text:"Medium Gray",value:"#CED4D9"},{type:mi,text:"Gray",value:"#95A5A6"},{type:mi,text:"Dark Gray",value:"#7E8C8D"},{type:mi,text:"Navy Blue",value:"#34495E"},{type:mi,text:"Black",value:"#000000"},{type:mi,text:"White",value:"#ffffff"}],cR=sR(10),jP=function(t){for(var r=[],o=0;o<t.length;o+=2)r.push({text:t[o+1],value:"#"+uR(t[o]).value,type:"choiceitem"});return r},GP=function(t,r){return t.getParam("color_cols",r,"number")},fR=function(t){return t.getParam("custom_colors")!==!1},qP=function(t){return t.getParam("color_map")},xT=function(t){var r=qP(t);return r!==void 0?jP(r):lR},kT=function(){return Ue(cR.state(),function(t){return{type:mi,text:t,value:t}})},AT=function(t){cR.add(t)},ET="#000000",vR=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(s){var d;(d=s.style[r==="forecolor"?"color":"background-color"])&&(o=o||d)}),B.from(o)},KP=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},XP=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},TT=function(t){t.addCommand("mceApplyTextcolor",function(r,o){KP(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){XP(t,r)})},YP=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},dR=function(t){var r=xT(t),o=YP(r.length);return GP(t,o)},mR=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,s]:[o]},WC=function(t,r,o,s){if(o==="custom"){var d=bR(t);d(function(g){g.each(function(C){AT(C),t.execCommand("mceApplyTextcolor",r,C),s(C)})},ET)}else o==="remove"?(s(""),t.execCommand("mceRemoveTextcolor",r)):(s(o),t.execCommand("mceApplyTextcolor",r,o))},hR=function(t,r){return t.concat(kT().concat(mR(r)))},OT=function(t,r){return function(o){o(hR(t,r))}},gR=function(t,r,o){var s=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(s,o)},Ey=function(t,r,o,s,d){t.ui.registry.addSplitButton(r,{tooltip:s,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(g){var C=vR(t,o);return C.bind(function(E){return tR(E).map(function(O){var $=HC(O).value;return ma(g.toLowerCase(),$)})}).getOr(!1)},columns:dR(t),fetch:OT(xT(t),fR(t)),onAction:function(g){WC(t,o,d.get(),q)},onItemAction:function(g,C){WC(t,o,C,function(E){d.set(E),oR(t,{name:r,color:E})})},onSetup:function(g){gR(g,r,d.get());var C=function(E){E.name===r&&gR(g,E.name,E.color)};return t.on("TextColorChange",C),function(){t.off("TextColorChange",C)}}})},pR=function(t,r,o,s){t.ui.registry.addNestedMenuItem(r,{text:s,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(d){WC(t,o,d.value,q)}}]}})},bR=function(t){return function(r,o){var s=!1,d=function(E){var O=E.getData(),$=O.colorpicker;s?(r(B.from($)),E.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",$]))},g=function(E,O){O.name==="hex-valid"&&(s=O.value)},C={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:C,onAction:g,onSubmit:d,onClose:q,onCancel:function(){r(B.none())}})}},ZP=function(t){TT(t);var r=zn(ET),o=zn(ET);Ey(t,"forecolor","forecolor","Text color",r),Ey(t,"backcolor","hilitecolor","Background color",o),pR(t,"forecolor","forecolor","Text color"),pR(t,"backcolor","hilitecolor","Background color")},DT=function(t,r,o,s,d,g,C,E){var O=IC(r),$=d!=="color"?"normal":"color",U=JP(r,o,s,$,g,C,E);return oT(t,O,U,s,d)},JP=function(t,r,o,s,d,g,C){return Ir(Ue(t,function(E){return E.type==="choiceitem"?dD(E).fold(xd,function(O){return B.some(MP(O,o===1,s,r,g(E.value),d,C,IC(t)))}):B.none()}))},Uk=function(t,r){var o=wy(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var s=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},yR=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+JE:"."+ZE}}},wR=function(t,r){var o=CR(t,r),s=r.colorinput.getColorCols(),d="color",g=DT(wn("menu-value"),o,function(E){t.onAction({value:E})},s,d,uu.CLOSE_ON_EXECUTE,se,r.shared.providers),C=ne(ne({},g),{markers:wy(d),movement:Uk(s,d)});return{type:"widget",data:{value:wn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[GD.widget(Rn.sketch(C))]}},CR=function(t,r){var o=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return hR(r.colorinput.getColors(),o)},function(s){return s.concat(mR(o))})},_R=wn("cell-over"),Wk=wn("cell-execute"),QP=function(t,r,o){var s,d=function(E){return Fn(E,_R,{row:t,col:r})},g=function(E){return Fn(E,Wk,{row:t,col:r})},C=function(E,O){O.stop(),g(E)};return Wa({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=o,s)},behaviours:Jt([lr("insert-table-picker-cell",[Bt(ev(),er.focus),Bt(Rs(),g),Bt(Oh(),C),Bt(Uv(),C)]),Nr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),er.config({onFocus:d})])})},eI=function(t,r,o){for(var s=[],d=0;d<r;d++){for(var g=[],C=0;C<o;C++)g.push(QP(d,C,t));s.push(g)}return s},tI=function(t,r,o,s,d){for(var g=0;g<s;g++)for(var C=0;C<d;C++)Nr.set(t[g][C],g<=r&&C<=o)},nI=function(t){return jt(t,function(r){return Ue(r,zs)})},SR=function(t,r){return Oi(r+"x"+t)},rI=function(t){var r=10,o=10,s=wn("size-label"),d=eI(s,r,o),g=SR(0,0),C=oa({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[g],behaviours:Jt([ar.config({})])});return{type:"widget",data:{value:wn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[GD.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:nI(d).concat(C.asSpec()),behaviours:Jt([lr("insert-table-picker",[sr(function(E){ar.set(C.get(E),[g])}),jv(_R,function(E,O,$){var U=$.event,G=U.row,ee=U.col;tI(d,G,ee,r,o),ar.set(C.get(E),[SR(G+1,ee+1)])}),jv(Wk,function(E,O,$){var U=$.event,G=U.row,ee=U.col;t.onAction({numRows:G+1,numColumns:ee+1}),Wr(E,Dp())})]),Vn.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},aI={inserttable:rI,colorswatch:wR},oI=function(t,r){return On(aI,t.fancytype).map(function(o){return o(t,r)})},iI=function(t,r,o,s,d){s===void 0&&(s=!0),d===void 0&&(d=!1);var g=d?OP(o.icons):TP(o.icons),C=function(O){return{isDisabled:function(){return Nn.isDisabled(O)},setDisabled:function($){return Nn.set(O,$)}}},E=LC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,caret:B.some(g),checkMark:B.none(),shortcutContent:t.shortcut},o,s);return Hg({data:Om(t),getApi:C,disabled:t.disabled,onAction:q,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},E,r,o)},uI=function(t,r,o,s){s===void 0&&(s=!0);var d=function(C){return{isDisabled:function(){return Nn.isDisabled(C)},setDisabled:function(E){return Nn.set(C,E)}}},g=LC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,caret:B.none(),checkMark:B.none(),shortcutContent:t.shortcut},o,s);return Hg({data:Om(t),getApi:d,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,o)},sI=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:ne({tag:"div",classes:[ZE,yy]},r),components:[]}},lI=function(t,r,o,s){s===void 0&&(s=!0);var d=function(C){return{setActive:function(E){Nr.set(C,E)},isActive:function(){return Nr.isOn(C)},isDisabled:function(){return Nn.isDisabled(C)},setDisabled:function(E){return Nn.set(C,E)}}},g=LC({iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,checkMark:B.some(HD(o.icons)),caret:B.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,s);return yt(Hg({data:Om(t),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,o),{toggling:{toggleClass:tD,toggleOnExecute:!1,selected:t.active}})},xR=BP,kR=sI,cI=uI,RT=iI,jk=lI,fI=oI,Gk=Pi,jC;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(jC||(jC={}));var vI=function(t,r,o,s,d){var g=o.shared.providers,C=function(E){return d?ne(ne({},E),{shortcut:B.none(),icon:E.text.isSome()?B.none():E.icon}):E};switch(t.type){case"menuitem":return Z8(t).fold(xd,function(E){return B.some(cI(C(E),r,g,s))});case"nestedmenuitem":return Sy(t).fold(xd,function(E){return B.some(RT(C(E),r,g,s,d))});case"togglemenuitem":return Q8(t).fold(xd,function(E){return B.some(jk(C(E),r,g,s))});case"separator":return k8(t).fold(xd,function(E){return B.some(kR(E))});case"fancymenuitem":return Y8(t).fold(xd,function(E){return fI(C(E),o)});default:return console.error("Unknown item in general menu",t),B.none()}},dI=function(t,r,o,s,d,g,C){var E=s===1,O=!E||IC(t);return Ir(Ue(t,function($){switch($.type){case"separator":return T8($).fold(xd,function(U){return B.some(kR(U))});case"cardmenuitem":return K8($).fold(xd,function(U){return B.some(Gk(ne(ne({},U),{onAction:function(G){U.onAction(G),o(U.value,U.meta)}}),d,g,{itemBehaviours:WD(U.meta,g),cardText:{matchText:r,highlightOn:C}}))});case"autocompleteitem":default:return O8($).fold(xd,function(U){return B.some(xR(U,r,E,"normal",o,d,g,O))})}}))},AR=function(t,r,o,s,d){var g=IC(r),C=Ir(Ue(r,function(O){var $=function(G){return d?!Pr(G,"text"):g},U=function(G){return vI(G,o,s,$(G),d)};return O.type==="nestedmenuitem"&&O.getSubmenuItems().length<=0?U(ne(ne({},O),{disabled:!0})):U(O)})),E=d?lD:oT;return E(t,g,C,1,"normal")},ER=function(t){return fa.singleData(t.value,t)},mI=function(t,r,o,s){var d=o===jC.ContentFocus?Ex():d1(),g=Uk(r,s),C=wy(s);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:C.selectedItem,item:C.item},movement:g,fakeFocus:o===jC.ContentFocus,focusManager:d,menuBehaviours:Ok.unnamedEvents(r!=="auto"?[]:[sr(function(E,O){lT(E,4,C.item).each(function($){var U=$.numColumns,G=$.numRows;Vn.setGridSize(E,G,U)})})])}},TR=function(t,r){var o=ho(),s=zn(!1),d=Wa(ca.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Jt([lr("dismissAutocompleter",[Bt(Bl(),function(){return O()})])]),lazySink:r.getSink})),g=function(){return ca.isOpen(d)},C=function(){return o.get().isSome()},E=function(){C()&&ca.hide(d)},O=function(){if(C()){var Ce=o.get().map(function(Fe){return Fe.element});_k(Ce.getOr(sn.fromDom(t.selection.getNode()))).each(mh),E(),o.clear(),s.set(!1)}},$=es(function(){return YE(t)}),U=function(Ce,Fe){var vt=Qr(Fe,function(ft){return B.from(ft.columns)}).getOr(1);return jt(Fe,function(ft){var ze=ft.items;return dI(ze,ft.matchText,function(nt,St){var on=t.selection.getRng();WE(t.dom,on,Ce).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Dt){var ln=Dt.range,Pt={hide:function(){O()},reload:function(_t){E(),ve(_t)}};s.set(!0),ft.onAction(Pt,ln,nt,St),s.set(!1)})},vt,uu.BUBBLE_TO_SANDBOX,r,ft.highlightOn)})},G=function(Ce){if(!C()){var Fe=h8(t,Ce.range);o.set({triggerChar:Ce.triggerChar,element:Fe,matchLength:Ce.text.length}),s.set(!1)}},ee=function(Ce,Fe,vt,ft){Ce.matchLength=Fe.text.length;var ze=Qr(vt,function(nt){return B.from(nt.columns)}).getOr(1);ca.showAt(d,Rn.sketch(mI(oT("autocompleter-value",!0,ft,ze,"normal"),ze,jC.ContentFocus,"normal")),{anchor:{type:"node",root:sn.fromDom(t.getBody()),node:B.from(Ce.element)}}),ca.getContent(d).each(na.highlightFirst)},ae=function(Ce){return o.get().map(function(Fe){return WE(t.dom,t.selection.getRng(),Fe.triggerChar).bind(function(vt){return X5(t,$,vt,Ce)})}).getOrThunk(function(){return x8(t,$)})},ve=function(Ce){ae(Ce).fold(O,function(Fe){G(Fe.context),Fe.lookupData.then(function(vt){o.get().map(function(ft){var ze=Fe.context;if(ft.triggerChar===ze.triggerChar){var nt=U(ze.triggerChar,vt);nt.length>0?ee(ft,ze,vt,nt):ze.text.length-ft.matchLength>=10?O():E()}})})})},Se=HE(function(Ce){Ce.which!==27&&ve()},50),Ne={onKeypress:Se,cancelIfNecessary:O,isMenuOpen:g,isActive:C,isProcessingAction:s.get,getView:function(){return ca.getContent(d)}};t.hasPlugin("rtc")===!1&&q5.setup(Ne,t)},hI={register:TR},GC=function(t,r,o){return al(t,r,o).isSome()},OR=function(t,r){var o=null,s=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];o=setTimeout(function(){t.apply(null,g),o=null},r)},d=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:d,schedule:s}},DR=5,gI=400,RR=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?B.none():B.some(r.touches[0])},pI=function(t,r){var o=Math.abs(t.clientX-r.x),s=Math.abs(t.clientY-r.y);return o>DR||s>DR},$T=function(t){var r=ho(),o=zn(!1),s=OR(function($){t.triggerEvent(xb(),$),o.set(!0)},gI),d=function($){return RR($).each(function(U){s.cancel();var G={x:U.clientX,y:U.clientY,target:$.target};s.schedule($),o.set(!1),r.set(G)}),B.none()},g=function($){return s.cancel(),RR($).each(function(U){r.on(function(G){pI(U,G)&&r.clear()})}),B.none()},C=function($){s.cancel();var U=function(G){return Sa(G.target,$.target)};return r.get().filter(U).map(function(G){return o.get()?($.prevent(),!1):t.triggerEvent(Uv(),$)})},E=Qf([{key:qc(),value:d},{key:Rl(),value:g},{key:Hv(),value:C}]),O=function($,U){return On(E,U).bind(function(G){return G($)})};return{fireIfReady:O}},bI=function(t){var r=t.raw;return r.which===G0[0]&&!ct(["input","textarea"],Qu(t.target))&&!GC(t.target,'[contenteditable="true"]')},BT=function(){return Wn().browser.isFirefox()},yI=function(t,r){return BT()?c0(t,"focus",r):Co(t,"focusin",r)},wI=function(t,r){return BT()?c0(t,"blur",r):Co(t,"focusout",r)},$R=function(t,r){var o=ne({stopBackspace:!0},r),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=$T(o),g=Ue(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(ae){return Co(t,ae,function(ve){d.fireIfReady(ve,ae).each(function(Ne){Ne&&ve.kill()});var Se=o.triggerEvent(ae,ve);Se&&ve.kill()})}),C=ho(),E=Co(t,"paste",function(ae){d.fireIfReady(ae,"paste").each(function(Se){Se&&ae.kill()});var ve=o.triggerEvent("paste",ae);ve&&ae.kill(),C.set(setTimeout(function(){o.triggerEvent(C2(),ae)},0))}),O=Co(t,"keydown",function(ae){var ve=o.triggerEvent("keydown",ae);ve?ae.kill():o.stopBackspace&&bI(ae)&&ae.prevent()}),$=yI(t,function(ae){var ve=o.triggerEvent("focusin",ae);ve&&ae.kill()}),U=ho(),G=wI(t,function(ae){var ve=o.triggerEvent("focusout",ae);ve&&ae.kill(),U.set(setTimeout(function(){o.triggerEvent(w2(),ae)},0))}),ee=function(){pt(g,function(ae){ae.unbind()}),O.unbind(),$.unbind(),G.unbind(),E.unbind(),C.on(clearTimeout),U.on(clearTimeout)};return{unbind:ee}},Ty=function(t,r){var o=On(t,"target").getOr(r);return zn(o)},CI=function(t,r){var o=zn(!1),s=zn(!1),d=function(){o.set(!0)},g=function(){s.set(!0)};return{stop:d,cut:g,isStopped:o.get,isCut:s.get,event:t,setSource:r.set,getSource:r.get}},_I=function(t){var r=zn(!1),o=function(){r.set(!0)};return{stop:o,cut:q,isStopped:r.get,isCut:se,event:t,setSource:le("Cannot set source of a broadcasted event"),getSource:le("Cannot get source of a broadcasted event")}},qC=Ds.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),KC=function(t,r,o,s,d,g){var C=t(r,s),E=CI(o,d);return C.fold(function(){return g.logEventNoHandlers(r,s),qC.complete()},function(O){var $=O.descHandler,U=$2($);return U(E),E.isStopped()?(g.logEventStopped(r,O.element,$.purpose),qC.stopped()):E.isCut()?(g.logEventCut(r,O.element,$.purpose),qC.complete()):xo(O.element).fold(function(){return g.logNoParent(r,O.element,$.purpose),qC.complete()},function(G){return g.logEventResponse(r,O.element,$.purpose),qC.resume(G)})})},BR=function(t,r,o,s,d,g){return KC(t,r,o,s,d,g).fold(Ee,function(C){return BR(t,r,o,C,d,g)},se)},SI=function(t,r,o,s,d){var g=Ty(o,s);return KC(t,r,o,s,g,d)},MR=function(t,r,o){var s=_I(r);return pt(t,function(d){var g=d.descHandler,C=$2(g);C(s)}),s.isStopped()},xI=function(t,r,o,s){return PR(t,r,o,o.target,s)},PR=function(t,r,o,s,d){var g=Ty(o,s);return BR(t,r,o,s,g,d)},kI=function(t,r){return{element:t,descHandler:r}},AI=function(t,r){return{id:t,descHandler:r}},EI=function(){var t={},r=function(C,E,O){Ur(O,function($,U){var G=t[U]!==void 0?t[U]:{};G[E]=R2($,C),t[U]=G})},o=function(C,E){return Kv(E).bind(function(O){return On(C,O)}).map(function(O){return kI(E,O)})},s=function(C){return On(t,C).map(function(E){return wi(E,function(O,$){return AI($,O)})}).getOr([])},d=function(C,E,O){return On(t,E).bind(function($){return Ah(O,function(U){return o($,U)},C)})},g=function(C){Ur(t,function(E,O){Pr(E,C)&&delete E[C]})};return{registerId:r,unregisterId:g,filterByType:s,find:d}},TI=function(){var t=EI(),r={},o=function($){var U=$.element;return Kv(U).getOrThunk(function(){return uS("uid-",$.element)})},s=function($,U){var G=r[U];if(G===$)g($);else throw new Error('The tagId "'+U+'" is already used by: '+pu(G.element)+`
Cannot use it for: `+pu($.element)+`
The conflicting element is`+(fu(G.element)?" ":" not ")+"already in the DOM")},d=function($){var U=o($);co(r,U)&&s($,U);var G=[$];t.registerId(G,U,$.events),r[U]=$},g=function($){Kv($.element).each(function(U){delete r[U],t.unregisterId(U)})},C=function($){return t.filterByType($)},E=function($,U,G){return t.find($,U,G)},O=function($){return On(r,$)};return{find:E,filter:C,register:d,unregister:g,getById:O}},OI=function(t){var r=t.dom,o=r.attributes,s=j(r,["attributes"]);return{uid:t.uid,dom:ne({tag:"div",attributes:ne({role:"presentation"},o)},s),components:t.components,behaviours:gg(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},ku=Ls({name:"Container",factory:OI,configFields:[He("components",[]),Xo("containerBehaviours",[]),He("events",{}),He("domModification",{}),He("eventOrder",{})]}),IR=function(t){var r=function(Ce){return xo(t.element).fold(Ee,function(Fe){return Sa(Ce,Fe)})},o=TI(),s=function(Ce,Fe){return o.find(r,Ce,Fe)},d=$R(t.element,{triggerEvent:function(Ce,Fe){return F2(Ce,Fe.target,function(vt){return xI(s,Ce,Fe,vt)})}}),g={debugInfo:ie("real"),triggerEvent:function(Ce,Fe,vt){F2(Ce,Fe,function(ft){return PR(s,Ce,vt,Fe,ft)})},triggerFocus:function(Ce,Fe){Kv(Ce).fold(function(){mc(Ce)},function(vt){F2(Vv(),Ce,function(ft){return SI(s,Vv(),{originator:Fe,kill:q,prevent:q,target:Ce},Ce,ft),!1})})},triggerEscape:function(Ce,Fe){g.triggerEvent("keydown",Ce.element,Fe.event)},getByUid:function(Ce){return Se(Ce)},getByDom:function(Ce){return Ne(Ce)},build:Wa,addToGui:function(Ce){O(Ce)},removeFromGui:function(Ce){$(Ce)},addToWorld:function(Ce){C(Ce)},removeFromWorld:function(Ce){E(Ce)},broadcast:function(Ce){ee(Ce)},broadcastOn:function(Ce,Fe){ae(Ce,Fe)},broadcastEvent:function(Ce,Fe){ve(Ce,Fe)},isConnected:Ee},C=function(Ce){Ce.connect(g),Du(Ce.element)||(o.register(Ce),pt(Ce.components(),C),g.triggerEvent(jd(),Ce.element,{target:Ce.element}))},E=function(Ce){Du(Ce.element)||(pt(Ce.components(),E),o.unregister(Ce)),Ce.disconnect()},O=function(Ce){dm(t,Ce)},$=function(Ce){yc(Ce)},U=function(){d.unbind(),Bu(t.element)},G=function(Ce){var Fe=o.filter(nl());pt(Fe,function(vt){var ft=vt.descHandler,ze=$2(ft);ze(Ce)})},ee=function(Ce){G({universal:!0,data:Ce})},ae=function(Ce,Fe){G({universal:!1,channels:Ce,data:Fe})},ve=function(Ce,Fe){var vt=o.filter(Ce);return MR(vt,Fe)},Se=function(Ce){return o.getById(Ce).fold(function(){return mr.error(new Error('Could not find component with uid: "'+Ce+'" in system.'))},mr.value)},Ne=function(Ce){var Fe=Kv(Ce).getOr("not found");return Se(Fe)};return C(t),{root:t,element:t.element,destroy:U,add:O,remove:$,getByUid:Se,getByDom:Ne,addToWorld:C,removeFromWorld:E,broadcast:ee,broadcastOn:ae,broadcastEvent:ve}},O1=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ue(t.items,r.interpreter)}},DI=ie([He("prefix","form-field"),Xo("fieldBehaviours",[Ar,an])]),RI=ie([ul({schema:[At("dom")],name:"label"}),ul({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[At("text")],name:"aria-descriptor"}),Mi({factory:{sketch:function(t){var r=d2(t,["factory"]);return t.factory.sketch(r)}},schema:[At("factory")],name:"field"})]),$I=function(t,r,o,s){var d=ci(t.fieldBehaviours,[Ar.config({find:function(E){return pa(E,t,"field")}}),an.config({store:{mode:"manual",getValue:function(E){return Ar.getCurrent(E).bind(an.getValue)},setValue:function(E,O){Ar.getCurrent(E).each(function($){an.setValue($,O)})}}})]),g=_a([sr(function(E,O){var $=fx(E,t,["label","field","aria-descriptor"]);$.field().each(function(U){var G=wn(t.prefix);$.label().each(function(ee){fr(ee.element,"for",G),fr(U.element,"id",G)}),$["aria-descriptor"]().each(function(ee){var ae=wn(t.prefix);fr(ee.element,"id",ae),fr(U.element,"aria-describedby",ae)})})})]),C={getField:function(E){return pa(E,t,"field")},getLabel:function(E){return pa(E,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:d,events:g,apis:C}},Zr=xu({name:"FormField",configFields:DI(),partFields:RI(),factory:$I,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),qk=function(t,r){return Pl({attributes:Qf([{key:r.tabAttr,value:"true"}])})},NR=Object.freeze({__proto__:null,exhibit:qk}),zR=[He("tabAttr","data-alloy-tabstop")],Oo=Ko({fields:zR,name:"tabstopping",active:NR}),BI=tinymce.util.Tools.resolve("tinymce.html.Entities"),XC=function(t,r,o,s){var d=PI(t,r,o,s);return Zr.sketch(d)},MI=function(t,r){return XC(t,r,[],[])},PI=function(t,r,o,s){return{dom:FR(o),components:t.toArray().concat([r]),fieldBehaviours:Jt(s)}},II=function(){return FR([])},FR=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},Rm=function(t,r){return Zr.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},Ul=wn("form-component-change"),YC=wn("form-close"),D1=wn("form-cancel"),bv=wn("form-action"),cl=wn("form-submit"),kd=wn("form-block"),MT=wn("form-unblock"),PT=wn("form-tabchange"),IT=wn("form-resize"),Kk=function(t,r){var o,s=t.label.map(function(G){return Rm(G,r)}),d=function(G){return function(ee,ae){al(ae.event.target,"[data-collection-item-value]").each(function(ve){G(ee,ae,ve,Va(ve,"data-collection-item-value"))})}},g=function(G,ee){var ae=Ue(ee,function(Ne){var Ce=gf.translate(Ne.text),Fe=t.columns===1?'<div class="tox-collection__item-label">'+Ce+"</div>":"",vt='<div class="tox-collection__item-icon">'+Ne.icon+"</div>",ft={_:" "," - ":" ","-":" "},ze=Ce.replace(/\_| \- |\-/g,function(St){return ft[St]}),nt=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+nt+'" tabindex="-1" data-collection-item-value="'+BI.encodeAllRaw(Ne.value)+'" title="'+ze+'" aria-label="'+ze+'">'+vt+Fe+"</div>"}),ve=t.columns!=="auto"&&t.columns>1?fn(ae,t.columns):[ae],Se=Ue(ve,function(Ne){return'<div class="tox-collection__group">'+Ne.join("")+"</div>"});nv(G.element,Se.join(""))},C=d(function(G,ee,ae,ve){ee.stop(),r.isDisabled()||Fn(G,bv,{name:t.name,value:ve})}),E=[Bt(ev(),d(function(G,ee,ae){mc(ae)})),Bt(Oh(),C),Bt(Uv(),C),Bt(tl(),d(function(G,ee,ae){jo(G.element,"."+x1).each(function(ve){Io(ve,x1)}),Wo(ae,x1)})),Bt(Ai(),d(function(G){jo(G.element,"."+x1).each(function(ee){Io(ee,x1)})})),cs(d(function(G,ee,ae,ve){Fn(G,bv,{name:t.name,value:ve})}))],O=function(G,ee){return Ue(au(G.element,".tox-collection__item"),ee)},$=Zr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:he},behaviours:Jt([Nn.config({disabled:r.isDisabled,onDisabled:function(G){O(G,function(ee){Wo(ee,"tox-collection__item--state-disabled"),fr(ee,"aria-disabled",!0)})},onEnabled:function(G){O(G,function(ee){Io(ee,"tox-collection__item--state-disabled"),ii(ee,"aria-disabled")})}}),ti(),ar.config({}),an.config({store:{mode:"memory",initialValue:[]},onSetValue:function(G,ee){g(G,ee),t.columns==="auto"&&lT(G,5,"tox-collection__item").each(function(ae){var ve=ae.numRows,Se=ae.numColumns;Vn.setGridSize(G,ve,Se)}),Wr(G,IT)}}),Oo.config({}),Vn.config(yR(t.columns,"normal")),lr("collection-events",E)]),eventOrder:(o={},o[Rs()]=["disabling","alloy.base.behaviour","collection-events"],o)}),U=["tox-form__group--collection"];return XC(s,$,U,[])},LR=ie([Xr("data"),He("inputAttributes",{}),He("inputStyles",{}),He("tag","input"),He("inputClasses",[]),Yr("onSetValue"),He("styles",{}),He("eventOrder",{}),Xo("inputBehaviours",[an,er]),He("selectOnFocus",!0)]),Xk=function(t){return Jt([er.config({onFocus:t.selectOnFocus?function(r){var o=r.element,s=Jc(o);o.dom.setSelectionRange(0,s.length)}:q})])},NT=function(t){return ne(ne({},Xk(t)),ci(t.inputBehaviours,[an.config({store:ne(ne({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return Jc(r.element)},setValue:function(r,o){var s=Jc(r.element);s!==o&&Nh(r.element,o)}}),onSetValue:t.onSetValue})]))},Yk=function(t){return{tag:t.tag,attributes:ne({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},NI=function(t,r){return{uid:t.uid,dom:Yk(t),components:[],behaviours:NT(t),eventOrder:t.eventOrder}},ZC=Ls({name:"Input",configFields:LR(),factory:NI}),HR={},JC={exports:HR};(function(t,r,o,s){(function(d,g){typeof r=="object"&&typeof o<"u"?o.exports=g():typeof t=="function"&&t.amd?t(g):(d=typeof globalThis<"u"?globalThis:d||self,d.EphoxContactWrapper=g())})(this,function(){var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof B6<"u"?B6:typeof self<"u"?self:{},g={exports:{}};(function($){(function(U){var G=setTimeout;function ee(){}function ae(ze,nt){return function(){ze.apply(nt,arguments)}}function ve(ze){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof ze!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ft(ze,this)}function Se(ze,nt){for(;ze._state===3;)ze=ze._value;if(ze._state===0){ze._deferreds.push(nt);return}ze._handled=!0,ve._immediateFn(function(){var St=ze._state===1?nt.onFulfilled:nt.onRejected;if(St===null){(ze._state===1?Ne:Ce)(nt.promise,ze._value);return}var on;try{on=St(ze._value)}catch(Dt){Ce(nt.promise,Dt);return}Ne(nt.promise,on)})}function Ne(ze,nt){try{if(nt===ze)throw new TypeError("A promise cannot be resolved with itself.");if(nt&&(typeof nt=="object"||typeof nt=="function")){var St=nt.then;if(nt instanceof ve){ze._state=3,ze._value=nt,Fe(ze);return}else if(typeof St=="function"){ft(ae(St,nt),ze);return}}ze._state=1,ze._value=nt,Fe(ze)}catch(on){Ce(ze,on)}}function Ce(ze,nt){ze._state=2,ze._value=nt,Fe(ze)}function Fe(ze){ze._state===2&&ze._deferreds.length===0&&ve._immediateFn(function(){ze._handled||ve._unhandledRejectionFn(ze._value)});for(var nt=0,St=ze._deferreds.length;nt<St;nt++)Se(ze,ze._deferreds[nt]);ze._deferreds=null}function vt(ze,nt,St){this.onFulfilled=typeof ze=="function"?ze:null,this.onRejected=typeof nt=="function"?nt:null,this.promise=St}function ft(ze,nt){var St=!1;try{ze(function(on){St||(St=!0,Ne(nt,on))},function(on){St||(St=!0,Ce(nt,on))})}catch(on){if(St)return;St=!0,Ce(nt,on)}}ve.prototype.catch=function(ze){return this.then(null,ze)},ve.prototype.then=function(ze,nt){var St=new this.constructor(ee);return Se(this,new vt(ze,nt,St)),St},ve.all=function(ze){var nt=Array.prototype.slice.call(ze);return new ve(function(St,on){if(nt.length===0)return St([]);var Dt=nt.length;function ln(_t,Xt){try{if(Xt&&(typeof Xt=="object"||typeof Xt=="function")){var Cn=Xt.then;if(typeof Cn=="function"){Cn.call(Xt,function(Ot){ln(_t,Ot)},on);return}}nt[_t]=Xt,--Dt===0&&St(nt)}catch(Ot){on(Ot)}}for(var Pt=0;Pt<nt.length;Pt++)ln(Pt,nt[Pt])})},ve.resolve=function(ze){return ze&&typeof ze=="object"&&ze.constructor===ve?ze:new ve(function(nt){nt(ze)})},ve.reject=function(ze){return new ve(function(nt,St){St(ze)})},ve.race=function(ze){return new ve(function(nt,St){for(var on=0,Dt=ze.length;on<Dt;on++)ze[on].then(nt,St)})},ve._immediateFn=typeof setImmediate=="function"?function(ze){setImmediate(ze)}:function(ze){G(ze,0)},ve._unhandledRejectionFn=function(nt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",nt)},ve._setImmediateFn=function(nt){ve._immediateFn=nt},ve._setUnhandledRejectionFn=function(nt){ve._unhandledRejectionFn=nt},$.exports?$.exports=ve:U.Promise||(U.Promise=ve)})(d)})(g);var C=g.exports,E=function(){return typeof window<"u"?window:Function("return this;")()}(),O={boltExport:E.Promise||C};return O})})(void 0,HR,JC);var $m=JC.exports.boltExport,zT=function(t){var r=B.none(),o=[],s=function($){return zT(function(U){d(function(G){U($(G))})})},d=function($){C()?O($):o.push($)},g=function($){C()||(r=B.some($),E(o),o=[])},C=function(){return r.isSome()},E=function($){pt($,O)},O=function($){r.each(function(U){setTimeout(function(){$(U)},0)})};return t(g),{get:d,map:s,isReady:C}},zI=function(t){return zT(function(r){r(t)})},VR={nu:zT,pure:zI},FI=function(t){setTimeout(function(){throw t},0)},R1=function(t){var r=function(O){t().then(O,FI)},o=function(O){return R1(function(){return t().then(O)})},s=function(O){return R1(function(){return t().then(function($){return O($).toPromise()})})},d=function(O){return R1(function(){return t().then(function(){return O.toPromise()})})},g=function(){return VR.nu(r)},C=function(){var O=null;return R1(function(){return O===null&&(O=t()),O})},E=t;return{map:o,bind:s,anonBind:d,toLazy:g,toCached:C,toPromise:E,get:r}},LI=function(t){return R1(function(){return new $m(t)})},HI=function(t){return R1(function(){return $m.resolve(t)})},Yi={nu:LI,pure:HI},VI=["input","textarea"],UR=function(t){var r=Qu(t);return ct(VI,r)},FT=function(t,r){var o=r.getRoot(t).getOr(t.element);Io(o,r.invalidClass),r.notify.each(function(s){UR(t.element)&&fr(t.element,"aria-invalid",!1),s.getContainer(t).each(function(d){nv(d,s.validHtml)}),s.onValid(t)})},LT=function(t,r,o,s){var d=r.getRoot(t).getOr(t.element);Wo(d,r.invalidClass),r.notify.each(function(g){UR(t.element)&&fr(t.element,"aria-invalid",!0),g.getContainer(t).each(function(C){nv(C,s)}),g.onInvalid(t,s)})},WR=function(t,r,o){return r.validator.fold(function(){return Yi.pure(mr.value(!0))},function(s){return s.validate(t)})},HT=function(t,r,o){return r.notify.each(function(s){s.onValidate(t)}),WR(t,r).map(function(s){return t.getSystem().isConnected()?s.fold(function(d){return LT(t,r,o,d),mr.error(d)},function(d){return FT(t,r),mr.value(d)}):mr.error("No longer in system")})},UI=function(t,r){var o=r.getRoot(t).getOr(t.element);return bu(o,r.invalidClass)},WI=Object.freeze({__proto__:null,markValid:FT,markInvalid:LT,query:WR,run:HT,isInvalid:UI}),jI=function(t,r){return t.validator.map(function(o){return _a([Bt(o.onEvent,function(s){HT(s,t,r).get(he)})].concat(o.validateOnLoad?[sr(function(s){HT(s,t,r).get(q)})]:[]))}).getOr({})},Zk=Object.freeze({__proto__:null,events:jI}),hs=[At("invalidClass"),He("getRoot",B.none),ss("notify",[He("aria","alert"),He("getContainer",B.none),He("validHtml",""),Yr("onValid"),Yr("onInvalid"),Yr("onValidate")]),ss("validator",[At("validate"),He("onEvent","input"),He("validateOnLoad",!0)])],yv=Ko({fields:hs,name:"invalidating",active:Zk,apis:WI,extra:{validation:function(t){return function(r){var o=an.getValue(r);return Yi.pure(t(o))}}}}),GI=function(t,r,o,s){return o.getOrCreate(t,r,s)},qI=Object.freeze({__proto__:null,getCoupled:GI}),KI=[Iu("others",Wi(mr.value,Tl()))],XI=function(){var t={},r=function(s,d,g){var C=Hr(d.others);if(C)return On(t,g).getOrThunk(function(){var E=On(d.others,g).getOrDie("No information found for coupled component: "+g),O=E(s),$=s.getSystem().build(O);return t[g]=$,$});throw new Error("Cannot find coupled component: "+g+". Known coupled components: "+JSON.stringify(C,null,2))},o=ie({});return qi({readState:o,getOrCreate:r})},jR=Object.freeze({__proto__:null,init:XI}),Do=Ko({fields:KI,name:"coupling",apis:qI,state:jR}),GR=ie("sink"),qR=ie(ul({name:GR(),overrides:ie({dom:{tag:"div"},behaviours:Jt([go.config({useFixed:Ee})]),events:_a([qd(_b()),qd($l()),qd(Oh())])})})),bf;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(bf||(bf={}));var KR=function(t,r){var o=t.getHotspot(r).getOr(r),s="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:s,hotspot:o,overrides:d}},function(g){return{type:s,hotspot:o,overrides:d,layouts:g}})},XR=function(t,r,o){var s=t.fetch;return s(o).map(r)},YR=function(t,r,o,s,d,g,C){var E=XR(t,r,s),O=ZR(s,t);return E.map(function($){return $.bind(function(U){return B.from(fa.sketch(ne(ne({},g.menu()),{uid:Xv(""),data:U,highlightImmediately:C===bf.HighlightFirst,onOpenMenu:function(G,ee){var ae=O().getOrDie();go.position(ae,ee,{anchor:o}),Br.decloak(d)},onOpenSubmenu:function(G,ee,ae){var ve=O().getOrDie();go.position(ve,ae,{anchor:{type:"submenu",item:ee}}),Br.decloak(d)},onRepositionMenu:function(G,ee,ae){var ve=O().getOrDie();go.position(ve,ee,{anchor:o}),pt(ae,function(Se){go.position(ve,Se.triggeredMenu,{anchor:{type:"submenu",item:Se.triggeringItem}})})},onEscape:function(){return er.focus(s),Br.close(d),B.some(!0)}})))})})},Jk=function(t,r,o,s,d,g,C){var E=KR(t,o),O=YR(t,r,E,o,s,d,C);return O.map(function($){return $.fold(function(){Br.isOpen(s)&&Br.close(s)},function(U){Br.cloak(s),Br.open(s,U),g(s)}),s})},YI=function(t,r,o,s,d,g,C){return Br.close(s),Yi.pure(s)},Oy=function(t,r,o,s,d,g){var C=Do.getCoupled(o,"sandbox"),E=Br.isOpen(C),O=E?YI:Jk;return O(t,r,o,C,s,d,g)},ZI=function(t,r,o){var s=Ar.getCurrent(r).getOr(r),d=Hi(t.element);o?Xn(s.element,"min-width",d+"px"):rc(s.element,d)},ZR=function(t,r){return t.getSystem().getByUid(r.uid+"-"+GR()).map(function(o){return function(){return mr.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return mr.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},JR=function(t){Br.getState(t).each(function(r){fa.repositionMenus(r)})},VT=function(t,r,o){var s=Qd(),d=function(E,O){var $=KR(t,r);s.link(r.element),t.matchWidth&&ZI($.hotspot,O,t.useMinWidth),t.onOpen($,E,O),o!==void 0&&o.onOpen!==void 0&&o.onOpen(E,O)},g=function(E,O){s.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(E,O)},C=ZR(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:il.augment(t.sandboxBehaviours,[an.config({store:{mode:"memory",initialValue:r}}),Br.config({onOpen:d,onClose:g,isPartOf:function(E,O,$){return em(O,$)||em(r,$)},getAttachPoint:function(){return C().getOrDie()}}),Ar.config({find:function(E){return Br.getState(E).bind(function(O){return Ar.getCurrent(O)})}}),nu.config({channels:ne(ne({},Vu({isExtraPart:se})),gm({doReposition:JR}))})])}},Ug=function(t){var r=Do.getCoupled(t,"sandbox");JR(r)},UT=function(){return[He("sandboxClasses",[]),il.field("sandboxBehaviours",[Ar,nu,Br,an])]},JI=ie([At("dom"),At("fetch"),Yr("onOpen"),Go("onExecute"),He("getHotspot",B.some),He("getAnchorOverrides",ie({})),od(),Xo("dropdownBehaviours",[Nr,Do,Vn,er]),At("toggleClass"),He("eventOrder",{}),Xr("lazySink"),He("matchWidth",!1),He("useMinWidth",!1),Xr("role")].concat(UT())),Wg=ie([Fs({schema:[tm()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),qR()]),QI=function(t,r,o,s){var d,g=function(U){return On(t.dom,"attributes").bind(function(G){return On(G,U)})},C=function(U){Br.getState(U).each(function(G){fa.highlightPrimary(G)})},E=function(U){var G=C;Oy(t,he,U,s,G,bf.HighlightFirst).get(q)},O={expand:function(U){Nr.isOn(U)||Oy(t,he,U,s,q,bf.HighlightNone).get(q)},open:function(U){Nr.isOn(U)||Oy(t,he,U,s,q,bf.HighlightFirst).get(q)},isOpen:Nr.isOn,close:function(U){Nr.isOn(U)&&Oy(t,he,U,s,q,bf.HighlightFirst).get(q)},repositionMenus:function(U){Nr.isOn(U)&&Ug(U)}},$=function(U,G){return Bs(U),B.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.dropdownBehaviours,[Nr.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Do.config({others:{sandbox:function(U){return VT(t,U,{onOpen:function(){return Nr.on(U)},onClose:function(){return Nr.off(U)}})}}}),Vn.config({mode:"special",onSpace:$,onEnter:$,onDown:function(U,G){if(yf.isOpen(U)){var ee=Do.getCoupled(U,"sandbox");C(ee)}else yf.open(U);return B.some(!0)},onEscape:function(U,G){return yf.isOpen(U)?(yf.close(U),B.some(!0)):B.none()}}),er.config({})]),events:hy(B.some(E)),eventOrder:ne(ne({},t.eventOrder),(d={},d[Rs()]=["disabling","toggling","alloy.base.behaviour"],d)),apis:O,domModification:{attributes:ne(ne({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(U){return{role:U}})),t.dom.tag==="button"?{type:g("type").getOr("button")}:{})}}},yf=xu({name:"Dropdown",configFields:JI(),partFields:Wg(),factory:QI,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),xc=function(){return Pl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},QR=function(){return _a([k2(IA(),Ee)])},e$=Object.freeze({__proto__:null,events:QR,exhibit:xc}),QC=Ko({fields:[],name:"unselecting",active:e$}),eN=function(t,r){return yf.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Jt([pf.button(r.providers.isDisabled),ti(),QC.config({}),Oo.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return Yi.nu(function(s){return t.fetch(s)}).map(function(s){return B.from(ER(yt(DT(wn("menu-value"),s,function(d){t.onItemAction(o,d)},t.columns,t.presets,uu.CLOSE_ON_EXECUTE,se,r.providers),{movement:Uk(t.columns,t.presets)})))})},parts:{menu:k1(!1,1,t.presets)}})},e_=wn("color-input-change"),t$=wn("color-swatch-change"),WT=wn("color-picker-cancel"),tN=function(t,r,o){var s=Zr.parts.field({factory:ZC,inputClasses:["tox-textfield"],onSetValue:function(O){return yv.run(O).get(q)},inputBehaviours:Jt([Nn.config({disabled:r.providers.isDisabled}),ti(),Oo.config({}),yv.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(O){return xo(O.element)},notify:{onValid:function(O){var $=an.getValue(O);Fn(O,e_,{color:$})}},validator:{validateOnLoad:!1,validate:function(O){var $=an.getValue(O);if($.length===0)return Yi.pure(mr.value(!0));var U=sn.fromTag("span");Xn(U,"background-color",$);var G=Ao(U,"background-color").fold(function(){return mr.error("blah")},function(ee){return mr.value($)});return Yi.pure(G)}}})]),selectOnFocus:!1}),d=t.label.map(function(O){return Rm(O,r.providers)}),g=function(O,$){Fn(O,t$,{value:$})},C=function(O,$){E.getOpt(O).each(function(U){$==="custom"?o.colorPicker(function(G){G.fold(function(){return Wr(U,WT)},function(ee){g(U,ee),AT(ee)})},"#ffffff"):$==="remove"?g(U,""):g(U,$)})},E=oa(eN({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[ei,Ki,No]},onLtr:function(){return[Ki,ei,No]}},components:[],fetch:OT(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:C},r));return Zr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:d.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,E.asSpec()]}]),fieldBehaviours:Jt([lr("form-field-events",[Bt(e_,function(O,$){E.getOpt(O).each(function(U){Xn(U.element,"background-color",$.event.color)}),Fn(O,Ul,{name:t.name})}),Bt(t$,function(O,$){Zr.getField(O).each(function(U){an.setValue(U,$.event.value),Ar.getCurrent(O).each(er.focus)})}),Bt(WT,function(O,$){Zr.getField(O).each(function(U){Ar.getCurrent(O).each(er.focus)})})])])})},nN=ul({schema:[At("dom")],name:"label"}),jg=function(t){return ul({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(s){return{events:_a([A2(qc(),function(d,g,C){return s(d,C)},[r]),A2($l(),function(d,g,C){return s(d,C)},[r]),A2(Vd(),function(d,g,C){C.mouseIsDown.get()&&s(d,C)},[r])])}})}})},jT=jg("top-left"),rN=jg("top"),aN=jg("top-right"),oN=jg("right"),iN=jg("bottom-right"),uN=jg("bottom"),sN=jg("bottom-left"),lN=jg("left"),n$=Mi({name:"thumb",defaults:ie({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:_a([Gd(qc(),t,"spectrum"),Gd(Rl(),t,"spectrum"),Gd(Hv(),t,"spectrum"),Gd($l(),t,"spectrum"),Gd(Vd(),t,"spectrum"),Gd(p2(),t,"spectrum")])}}}),r$=Mi({schema:[hu("mouseIsDown",function(){return zn(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,s=function(d,g){return o.getValueFromEvent(g).map(function(C){return o.setValueFrom(d,t,C)})};return{behaviours:Jt([Vn.config({mode:"special",onLeft:function(d){return o.onLeft(d,t)},onRight:function(d){return o.onRight(d,t)},onUp:function(d){return o.onUp(d,t)},onDown:function(d){return o.onDown(d,t)}}),er.config({})]),events:_a([Bt(qc(),s),Bt(Rl(),s),Bt($l(),s),Bt(Vd(),function(d,g){t.mouseIsDown.get()&&s(d,g)})])}}}),cN=[nN,lN,oN,rN,uN,jT,aN,sN,iN,n$,r$],fN="slider.change.value",t_=ie(fN),vN=function(t){return t.type.indexOf("touch")!==-1},GT=function(t){var r=t.event.raw;if(vN(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?B.some(o.touches[0]).map(function(d){return ya(d.clientX,d.clientY)}):B.none()}else{var s=r;return s.clientX!==void 0?B.some(s).map(function(d){return ya(d.clientX,d.clientY)}):B.none()}},a$="top",o$="right",i$="bottom",Qk="left",$1=function(t){return t.model.minX},Gg=function(t){return t.model.minY},e3=function(t){return t.model.minX-1},t3=function(t){return t.model.minY-1},B1=function(t){return t.model.maxX},M1=function(t){return t.model.maxY},P1=function(t){return t.model.maxX+1},n3=function(t){return t.model.maxY+1},u$=function(t,r,o){return r(t)-o(t)},wv=function(t){return u$(t,B1,$1)},qT=function(t){return u$(t,M1,Gg)},I1=function(t){return wv(t)/2},KT=function(t){return qT(t)/2},qg=function(t){return t.stepSize},s$=function(t){return t.snapToGrid},l$=function(t){return t.snapStart},c$=function(t){return t.rounded},n_=function(t,r){return t[r+"-edge"]!==void 0},f$=function(t){return n_(t,Qk)},r_=function(t){return n_(t,o$)},v$=function(t){return n_(t,a$)},fl=function(t){return n_(t,i$)},Bm=function(t){return t.model.value.get()},d$=function(t){return{x:t}},XT=function(t){return{y:t}},Mm=function(t,r){return{x:t,y:r}},wf=function(t,r){Fn(t,t_(),{value:r})},dN=function(t,r){wf(t,Mm(e3(r),t3(r)))},mN=function(t,r){wf(t,XT(t3(r)))},hN=function(t,r){wf(t,Mm(I1(r),t3(r)))},gN=function(t,r){wf(t,Mm(P1(r),t3(r)))},pN=function(t,r){wf(t,d$(P1(r)))},bN=function(t,r){wf(t,Mm(P1(r),KT(r)))},m$=function(t,r){wf(t,Mm(P1(r),n3(r)))},yN=function(t,r){wf(t,XT(n3(r)))},wN=function(t,r){wf(t,Mm(I1(r),n3(r)))},CN=function(t,r){wf(t,Mm(e3(r),n3(r)))},h$=function(t,r){wf(t,d$(e3(r)))},r3=function(t,r){wf(t,Mm(e3(r),KT(r)))},YT=function(t,r,o,s){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-s)},Dy=function(t,r,o,s){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+s)},N1=function(t,r,o){return Math.max(r,Math.min(o,t))},g$=function(t,r,o,s,d){return d.fold(function(){var g=t-r,C=Math.round(g/s)*s;return N1(r+C,r-1,o+1)},function(g){var C=(t-g)%s,E=Math.round(C/s),O=Math.floor((t-g)/s),$=Math.floor((o-g)/s),U=Math.min($,O+E),G=g+U*s;return Math.max(g,G)})},p$=function(t,r,o){return Math.min(o,Math.max(t,r))-r},ZT=function(t){var r=t.min,o=t.max,s=t.range,d=t.value,g=t.step,C=t.snap,E=t.snapStart,O=t.rounded,$=t.hasMinEdge,U=t.hasMaxEdge,G=t.minBound,ee=t.maxBound,ae=t.screenRange,ve=$?r-1:r,Se=U?o+1:o;if(d<G)return ve;if(d>ee)return Se;var Ne=p$(d,G,ee),Ce=N1(Ne/ae*s+r,ve,Se);return C&&Ce>=r&&Ce<=o?g$(Ce,r,o,g,E):O?Math.round(Ce):Ce},b$=function(t){var r=t.min,o=t.max,s=t.range,d=t.value,g=t.hasMinEdge,C=t.hasMaxEdge,E=t.maxBound,O=t.maxOffset,$=t.centerMinEdge,U=t.centerMaxEdge;return d<r?g?0:$:d>o?C?E:U:(d-r)/s*O},JT="top",a_="right",y$="bottom",QT="left",w$="width",C$="height",Cf=function(t){return t.element.dom.getBoundingClientRect()},kc=function(t,r){return t[r]},su=function(t){var r=Cf(t);return kc(r,QT)},eO=function(t){var r=Cf(t);return kc(r,a_)},a3=function(t){var r=Cf(t);return kc(r,JT)},_$=function(t){var r=Cf(t);return kc(r,y$)},tO=function(t){var r=Cf(t);return kc(r,w$)},S$=function(t){var r=Cf(t);return kc(r,C$)},x$=function(t,r,o){return(t+r)/2-o},k$=function(t,r){var o=Cf(t),s=Cf(r),d=kc(o,QT),g=kc(o,a_),C=kc(s,QT);return x$(d,g,C)},nO=function(t,r){var o=Cf(t),s=Cf(r),d=kc(o,JT),g=kc(o,y$),C=kc(s,JT);return x$(d,g,C)},Ac=function(t,r){Fn(t,t_(),{value:r})},Ry=function(t){return{x:t}},o3=function(t,r,o){var s={min:$1(r),max:B1(r),range:wv(r),value:o,step:qg(r),snap:s$(r),snapStart:l$(r),rounded:c$(r),hasMinEdge:f$(r),hasMaxEdge:r_(r),minBound:su(t),maxBound:eO(t),screenRange:tO(t)};return ZT(s)},i3=function(t,r,o){var s=o3(t,r,o),d=Ry(s);return Ac(t,d),s},rO=function(t,r){var o=$1(r);Ac(t,Ry(o))},_N=function(t,r){var o=B1(r);Ac(t,Ry(o))},SN=function(t,r,o){var s=t>0?Dy:YT,d=s(Bm(o).x,$1(o),B1(o),qg(o));return Ac(r,Ry(d)),B.some(d)},A$=function(t){return function(r,o){return SN(t,r,o).map(Ee)}},xN=function(t){var r=GT(t);return r.map(function(o){return o.left})},kN=function(t,r,o,s,d){var g=0,C=tO(t),E=s.bind(function(U){return B.some(k$(U,t))}).getOr(g),O=d.bind(function(U){return B.some(k$(U,t))}).getOr(C),$={min:$1(r),max:B1(r),range:wv(r),value:o,hasMinEdge:f$(r),hasMaxEdge:r_(r),minBound:su(t),minOffset:g,maxBound:eO(t),maxOffset:C,centerMinEdge:E,centerMaxEdge:O};return b$($)},o_=function(t,r,o,s,d,g){var C=kN(r,g,o,s,d);return su(r)-su(t)+C},AN=function(t,r,o,s){var d=Bm(o),g=o_(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),C=Hi(r.element)/2;Xn(r.element,"left",g-C+"px")},E$=A$(-1),EN=A$(1),Ad=B.none,u3=B.none,TN={"top-left":B.none(),top:B.none(),"top-right":B.none(),right:B.some(pN),"bottom-right":B.none(),bottom:B.none(),"bottom-left":B.none(),left:B.some(h$)},ON=Object.freeze({__proto__:null,setValueFrom:i3,setToMin:rO,setToMax:_N,findValueOfOffset:o3,getValueFromEvent:xN,findPositionOfValue:o_,setPositionFromValue:AN,onLeft:E$,onRight:EN,onUp:Ad,onDown:u3,edgeActions:TN}),i_=function(t,r){Fn(t,t_(),{value:r})},u_=function(t){return{y:t}},s_=function(t,r,o){var s={min:Gg(r),max:M1(r),range:qT(r),value:o,step:qg(r),snap:s$(r),snapStart:l$(r),rounded:c$(r),hasMinEdge:v$(r),hasMaxEdge:fl(r),minBound:a3(t),maxBound:_$(t),screenRange:S$(t)};return ZT(s)},T$=function(t,r,o){var s=s_(t,r,o),d=u_(s);return i_(t,d),s},l_=function(t,r){var o=Gg(r);i_(t,u_(o))},c_=function(t,r){var o=M1(r);i_(t,u_(o))},DN=function(t,r,o){var s=t>0?Dy:YT,d=s(Bm(o).y,Gg(o),M1(o),qg(o));return i_(r,u_(d)),B.some(d)},O$=function(t){return function(r,o){return DN(t,r,o).map(Ee)}},RN=function(t){var r=GT(t);return r.map(function(o){return o.top})},$N=function(t,r,o,s,d){var g=0,C=S$(t),E=s.bind(function(U){return B.some(nO(U,t))}).getOr(g),O=d.bind(function(U){return B.some(nO(U,t))}).getOr(C),$={min:Gg(r),max:M1(r),range:qT(r),value:o,hasMinEdge:v$(r),hasMaxEdge:fl(r),minBound:a3(t),minOffset:g,maxBound:_$(t),maxOffset:C,centerMinEdge:E,centerMaxEdge:O};return b$($)},aO=function(t,r,o,s,d,g){var C=$N(r,g,o,s,d);return a3(r)-a3(t)+C},BN=function(t,r,o,s){var d=Bm(o),g=aO(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),C=Mo(r.element)/2;Xn(r.element,"top",g-C+"px")},MN=B.none,oO=B.none,z1=O$(-1),PN=O$(1),D$={"top-left":B.none(),top:B.some(mN),"top-right":B.none(),right:B.none(),"bottom-right":B.none(),bottom:B.some(yN),"bottom-left":B.none(),left:B.none()},IN=Object.freeze({__proto__:null,setValueFrom:T$,setToMin:l_,setToMax:c_,findValueOfOffset:s_,getValueFromEvent:RN,findPositionOfValue:aO,setPositionFromValue:BN,onLeft:MN,onRight:oO,onUp:z1,onDown:PN,edgeActions:D$}),s3=function(t,r){Fn(t,t_(),{value:r})},l3=function(t,r){return{x:t,y:r}},NN=function(t,r,o){var s=o3(t,r,o.left),d=s_(t,r,o.top),g=l3(s,d);return s3(t,g),g},zN=function(t,r,o,s){var d=t>0?Dy:YT,g=r?Bm(s).x:d(Bm(s).x,$1(s),B1(s),qg(s)),C=r?d(Bm(s).y,Gg(s),M1(s),qg(s)):Bm(s).y;return s3(o,l3(g,C)),B.some(g)},f_=function(t,r){return function(o,s){return zN(t,r,o,s).map(Ee)}},iO=function(t,r){var o=$1(r),s=Gg(r);s3(t,l3(o,s))},FN=function(t,r){var o=B1(r),s=M1(r);s3(t,l3(o,s))},R$=function(t){return GT(t)},uO=function(t,r,o,s){var d=Bm(o),g=o_(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),C=aO(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),E=Hi(r.element)/2,O=Mo(r.element)/2;Xn(r.element,"left",g-E+"px"),Xn(r.element,"top",C-O+"px")},sO=f_(-1,!1),$$=f_(1,!1),LN=f_(-1,!0),HN=f_(1,!0),c3={"top-left":B.some(dN),top:B.some(hN),"top-right":B.some(gN),right:B.some(bN),"bottom-right":B.some(m$),bottom:B.some(wN),"bottom-left":B.some(CN),left:B.some(r3)},B$=Object.freeze({__proto__:null,setValueFrom:NN,setToMin:iO,setToMax:FN,getValueFromEvent:R$,setPositionFromValue:uO,onLeft:sO,onRight:$$,onUp:LN,onDown:HN,edgeActions:c3}),VN=[He("stepSize",1),He("onChange",q),He("onChoose",q),He("onInit",q),He("onDragStart",q),He("onDragEnd",q),He("snapToGrid",!1),He("rounded",!0),Xr("snapStart"),Iu("model",el("mode",{x:[He("minX",0),He("maxX",100),hu("value",function(t){return zn(t.mode.minX)}),At("getInitialValue"),ka("manager",ON)],y:[He("minY",0),He("maxY",100),hu("value",function(t){return zn(t.mode.minY)}),At("getInitialValue"),ka("manager",IN)],xy:[He("minX",0),He("maxX",100),He("minY",0),He("maxY",100),hu("value",function(t){return zn({x:t.mode.minX,y:t.mode.minY})}),At("getInitialValue"),ka("manager",B$)]})),Xo("sliderBehaviours",[Vn,an]),hu("mouseIsDown",function(){return zn(!1)})],UN=function(t,r,o,s){var d,g=function(ze){return ff(ze,t,"thumb")},C=function(ze){return ff(ze,t,"spectrum")},E=function(ze){return pa(ze,t,"left-edge")},O=function(ze){return pa(ze,t,"right-edge")},$=function(ze){return pa(ze,t,"top-edge")},U=function(ze){return pa(ze,t,"bottom-edge")},G=t.model,ee=G.manager,ae=function(ze,nt){ee.setPositionFromValue(ze,nt,t,{getLeftEdge:E,getRightEdge:O,getTopEdge:$,getBottomEdge:U,getSpectrum:C})},ve=function(ze,nt){G.value.set(nt);var St=g(ze);ae(ze,St)},Se=function(ze,nt){ve(ze,nt);var St=g(ze);return t.onChange(ze,St,nt),B.some(!0)},Ne=function(ze){ee.setToMin(ze,t)},Ce=function(ze){ee.setToMax(ze,t)},Fe=function(ze){var nt=function(){pa(ze,t,"thumb").each(function(on){var Dt=G.value.get();t.onChoose(ze,on,Dt)})},St=t.mouseIsDown.get();t.mouseIsDown.set(!1),St&&nt()},vt=function(ze,nt){nt.stop(),t.mouseIsDown.set(!0),t.onDragStart(ze,g(ze))},ft=function(ze,nt){nt.stop(),t.onDragEnd(ze,g(ze)),Fe(ze)};return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.sliderBehaviours,[Vn.config({mode:"special",focusIn:function(ze){return pa(ze,t,"spectrum").map(Vn.focusIn).map(Ee)}}),an.config({store:{mode:"manual",getValue:function(ze){return G.value.get()}}}),nu.config({channels:(d={},d[Ew()]={onReceive:Fe},d)})]),events:_a([Bt(t_(),function(ze,nt){Se(ze,nt.event.value)}),sr(function(ze,nt){var St=G.getInitialValue();G.value.set(St);var on=g(ze);ae(ze,on);var Dt=C(ze);t.onInit(ze,on,Dt,G.value.get())}),Bt(qc(),vt),Bt(Hv(),ft),Bt($l(),vt),Bt(p2(),ft)]),apis:{resetToMin:Ne,resetToMax:Ce,setValue:ve,refresh:ae},domModification:{styles:{position:"relative"}}}},_f=xu({name:"Slider",configFields:VN,partFields:cN,factory:UN,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),lO=wn("rgb-hex-update"),Ed=wn("slider-update"),f3=wn("palette-update"),M$=function(t,r){var o=_f.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=_f.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return _f.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ie({y:0})},components:[o,s],sliderBehaviours:Jt([er.config({})]),onChange:function(d,g,C){Fn(d,Ed,{value:C})}})},cO="form",fO=[Xo("formBehaviours",[an])],vO=function(t){return"<alloy.field."+t+">"},v3=function(t){var r=function(){var g=[],C=function(E,O){return g.push(E),Uw(cO,vO(E),O)};return{field:C,record:ie(g)}}(),o=t(r),s=r.record(),d=Ue(s,function(g){return Mi({name:g,pname:vO(g)})});return Kw(cO,fO,d,I$,o)},P$=function(t,r){return t.fold(function(){return mr.error(r)},mr.value)},I$=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.formBehaviours,[an.config({store:{mode:"manual",getValue:function(o){var s=vx(o,t);return dr(s,function(d,g){return d().bind(function(C){var E=Ar.getCurrent(C);return P$(E,new Error("Cannot find a current component to extract the value from for form part '"+g+"': "+pu(C.element)))}).map(an.getValue)})},setValue:function(o,s){Ur(s,function(d,g){pa(o,t,g).each(function(C){Ar.getCurrent(C).each(function(E){an.setValue(E,d)})})})}}})]),apis:{getField:function(o,s){return pa(o,t,s).bind(Ar.getCurrent)}}}},$y={getField:Ja(function(t,r,o){return t.getField(r,o)}),sketch:v3},N$=wn("valid-input"),z$=wn("invalid-input"),F$=wn("validating-input"),d3="colorcustom.rgb.",L$=function(t,r,o,s){var d=function(ee,ae){return yv.config({invalidClass:r("invalid"),notify:{onValidate:function(ve){Fn(ve,F$,{type:ee})},onValid:function(ve){Fn(ve,N$,{type:ee,value:an.getValue(ve)})},onInvalid:function(ve){Fn(ve,z$,{type:ee,value:an.getValue(ve)})}},validator:{validate:function(ve){var Se=an.getValue(ve),Ne=ae(Se)?mr.value(!0):mr.error(t("aria.input.invalid"));return Yi.pure(Ne)},validateOnLoad:!1}})},g=function(ee,ae,ve,Se,Ne){var Ce=t(d3+"range"),Fe=Zr.parts.label({dom:{tag:"label",innerHtml:ve,attributes:{"aria-label":Se}}}),vt=Zr.parts.field({data:Ne,factory:ZC,inputAttributes:ne({type:"text"},ae==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:Jt([d(ae,ee),Oo.config({})]),onSetValue:function(St){if(yv.isInvalid(St)){var on=yv.run(St);on.get(q)}}}),ft=[Fe,vt],ze=ae!=="hex"?[Zr.parts["aria-descriptor"]({text:Ce})]:[],nt=ft.concat(ze);return{dom:{tag:"div",attributes:{role:"presentation"}},components:nt}},C=function(ee,ae){var ve=HC(ae);return $y.getField(ee,"hex").each(function(Se){er.isFocused(Se)||an.setValue(ee,{hex:ve.value})}),ve},E=function(ee,ae){var ve=ae.red,Se=ae.green,Ne=ae.blue;an.setValue(ee,{red:ve,green:Se,blue:Ne})},O=oa({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),$=function(ee,ae){O.getOpt(ee).each(function(ve){Xn(ve.element,"background-color","#"+ae.value)})},U=function(){var ee={red:zn(B.some(255)),green:zn(B.some(255)),blue:zn(B.some(255)),hex:zn(B.some("ffffff"))},ae=function(_t,Xt){var Cn=VC(Xt);E(_t,Cn),Ce(Cn)},ve=function(_t){return ee[_t].get()},Se=function(_t,Xt){ee[_t].set(Xt)},Ne=function(){return ve("red").bind(function(_t){return ve("green").bind(function(Xt){return ve("blue").map(function(Cn){return Vg(_t,Xt,Cn,1)})})})},Ce=function(_t){var Xt=_t.red,Cn=_t.green,Ot=_t.blue;Se("red",B.some(Xt)),Se("green",B.some(Cn)),Se("blue",B.some(Ot))},Fe=function(_t,Xt){var Cn=Xt.event;Cn.type!=="hex"?Se(Cn.type,B.none()):s(_t)},vt=function(_t,Xt){o(_t);var Cn=qD(Xt);Se("hex",B.some(Xt));var Ot=VC(Cn);E(_t,Ot),Ce(Ot),Fn(_t,lO,{hex:Cn}),$(_t,Cn)},ft=function(_t,Xt,Cn){var Ot=parseInt(Cn,10);Se(Xt,B.some(Ot)),Ne().each(function(bn){var En=C(_t,bn);Fn(_t,lO,{hex:En}),$(_t,En)})},ze=function(_t){return _t.type==="hex"},nt=function(_t,Xt){var Cn=Xt.event;ze(Cn)?vt(_t,Cn.value):ft(_t,Cn.type,Cn.value)},St=function(_t){return{label:t(d3+_t+".label"),description:t(d3+_t+".description")}},on=St("red"),Dt=St("green"),ln=St("blue"),Pt=St("hex");return yt($y.sketch(function(_t){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[_t.field("red",Zr.sketch(g(wT,"red",on.label,on.description,255))),_t.field("green",Zr.sketch(g(wT,"green",Dt.label,Dt.description,255))),_t.field("blue",Zr.sketch(g(wT,"blue",ln.label,ln.description,255))),_t.field("hex",Zr.sketch(g(YD,"hex",Pt.label,Pt.description,"ffffff"))),O.asSpec()],formBehaviours:Jt([yv.config({invalidClass:r("form-invalid")}),lr("rgb-form-events",[Bt(N$,nt),Bt(z$,Fe),Bt(F$,Fe)])])}}),{apis:{updateHex:function(_t,Xt){an.setValue(_t,{hex:Xt.value}),ae(_t,Xt),$(_t,Xt)}}})},G=Ls({factory:U,name:"RgbForm",configFields:[],apis:{updateHex:function(ee,ae,ve){ee.updateHex(ae,ve)}},extraApis:{}});return G},WN=function(t,r){var o=_f.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),s=_f.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),d=function($,U){var G=$.width,ee=$.height,ae=$.getContext("2d");if(ae!==null){ae.fillStyle=U,ae.fillRect(0,0,G,ee);var ve=ae.createLinearGradient(0,0,G,0);ve.addColorStop(0,"rgba(255,255,255,1)"),ve.addColorStop(1,"rgba(255,255,255,0)"),ae.fillStyle=ve,ae.fillRect(0,0,G,ee);var Se=ae.createLinearGradient(0,0,0,ee);Se.addColorStop(0,"rgba(0,0,0,0)"),Se.addColorStop(1,"rgba(0,0,0,1)"),ae.fillStyle=Se,ae.fillRect(0,0,G,ee)}},g=function($,U){var G=$.components()[0].element.dom,ee=UC(U,100,100),ae=QD(ee);d(G,nR(ae))},C=function($,U){var G=_T(VC(U));_f.setValue($,{x:G.saturation,y:100-G.value})},E=function($){var U=ie({x:0,y:0}),G=function(ve,Se,Ne){Fn(ve,f3,{value:Ne})},ee=function(ve,Se,Ne,Ce){d(Ne.element.dom,nR(rR))},ae=Jt([Ar.config({find:B.some}),er.config({})]);return _f.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:U},rounded:!1,components:[o,s],onChange:G,onInit:ee,sliderBehaviours:ae})},O=Ls({factory:E,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function($,U,G){g(U,G)},setThumb:function($,U,G){C(U,G)}},extraApis:{}});return O},jN=function(t,r){var o=function(d){var g=L$(t,r,d.onValidHex,d.onInvalidHex),C=WN(t,r),E=function(nt){return(100-nt)/100*360},O=function(nt){return 100-nt/360*100},$={paletteRgba:zn(rR),paletteHue:zn(0)},U=oa(M$(t,r)),G=oa(C.sketch({})),ee=oa(g.sketch({})),ae=function(nt,St,on){G.getOpt(nt).each(function(Dt){C.setHue(Dt,on)})},ve=function(nt,St){ee.getOpt(nt).each(function(on){g.updateHex(on,St)})},Se=function(nt,St,on){U.getOpt(nt).each(function(Dt){_f.setValue(Dt,{y:O(on)})})},Ne=function(nt,St){G.getOpt(nt).each(function(on){C.setThumb(on,St)})},Ce=function(nt,St){var on=VC(nt);$.paletteRgba.set(on),$.paletteHue.set(St)},Fe=function(nt,St,on,Dt){Ce(St,on),pt(Dt,function(ln){ln(nt,St,on)})},vt=function(){var nt=[ve];return function(St,on){var Dt=on.event.value,ln=$.paletteHue.get(),Pt=UC(ln,Dt.x,100-Dt.y),_t=iR(Pt);Fe(St,_t,ln,nt)}},ft=function(){var nt=[ae,ve];return function(St,on){var Dt=E(on.event.value.y),ln=$.paletteRgba.get(),Pt=_T(ln),_t=UC(Dt,Pt.saturation,Pt.value),Xt=iR(_t);Fe(St,Xt,Dt,nt)}},ze=function(){var nt=[ae,Se,Ne];return function(St,on){var Dt=on.event.hex,ln=WP(Dt);Fe(St,Dt,ln.hue,nt)}};return{uid:d.uid,dom:d.dom,components:[G.asSpec(),U.asSpec(),ee.asSpec()],behaviours:Jt([lr("colour-picker-events",[Bt(lO,ze()),Bt(f3,vt()),Bt(Ed,ft())]),Ar.config({find:function(nt){return ee.getOpt(nt)}}),Vn.config({mode:"acyclic"})])}},s=Ls({name:"ColourPicker",configFields:[At("dom"),He("onValidHex",q),He("onInvalidHex",q)],factory:o});return s},GN=function(){return Ar.config({find:B.some})},m3=function(t){return Ar.config({find:t.getOpt})},qN=function(t){return Ar.config({find:function(r){return oi(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},Cv={self:GN,memento:m3,childAt:qN},H$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},V$=function(t){return H$[t]},KN=function(t){return V$(t)},XN=function(t){var r=function(C){return"tox-"+C},o=jN(KN,r),s=function(C){Fn(C,bv,{name:"hex-valid",value:!0})},d=function(C){Fn(C,bv,{name:"hex-valid",value:!1})},g=oa(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:d}));return{dom:{tag:"div"},components:[g.asSpec()],behaviours:Jt([an.config({store:{mode:"manual",getValue:function(C){var E=g.get(C),O=Ar.getCurrent(E),$=O.bind(function(U){var G=an.getValue(U);return G.hex});return $.map(function(U){return"#"+U}).getOr("")},setValue:function(C,E){var O=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,$=O.exec(E),U=g.get(C),G=Ar.getCurrent(U);G.fold(function(){console.log("Can not find form")},function(ee){an.setValue(ee,{hex:B.from($[1]).getOr("")}),$y.getField(ee,"hex").each(function(ae){Wr(ae,Ud())})})}}}),Cv.self()])}},h3=tinymce.util.Tools.resolve("tinymce.Resource"),YN=function(t){return Pr(t,"init")},ZN=function(t){var r=ho(),o=oa({dom:{tag:t.tag}}),s=ho();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Jt([lr("custom-editor-events",[sr(function(d){o.getOpt(d).each(function(g){(YN(t)?t.init(g.element.dom):h3.load(t.scriptId,t.scriptUrl).then(function(C){return C(g.element.dom,t.settings)})).then(function(C){s.on(function(E){C.setValue(E)}),s.clear(),r.set(C)})})})]),an.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return s.get().getOr("")},function(d){return d.getValue()})},setValue:function(d,g){r.get().fold(function(){s.set(g)},function(C){return C.setValue(g)})}}}),Cv.self()]),components:[o.asSpec()]}},Kg=tinymce.util.Tools.resolve("tinymce.util.Tools"),JN=Mn([He("preprocess",he),He("postprocess",he)]),g3=function(t,r){var o=sa("RepresentingConfigs.memento processors",JN,r);return an.config({store:{mode:"manual",getValue:function(s){var d=t.get(s),g=an.getValue(d);return o.postprocess(g)},setValue:function(s,d){var g=o.preprocess(d),C=t.get(s);an.setValue(C,g)}}})},p3=function(t,r,o){return an.config(yt({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(s){return{store:{initialValue:s}}}).getOr({})))},dO=function(t,r,o){return p3(t,function(s){return r(s.element)},function(s,d){return o(s.element,d)})},QN=function(t){return dO(t,Jc,Nh)},b3=function(t){return dO(t,Kc,nv)},ez=function(t){return an.config({store:{mode:"memory",initialValue:t}})},Pm={memento:g3,withElement:dO,withComp:p3,domValue:QN,domHtml:b3,memory:ez},U$="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",tz=function(t,r){var o=Kg.explode(r.getSetting("images_file_types",U$,"string")),s=function(d){return _n(o,function(g){return qn(d.name.toLowerCase(),"."+g.toLowerCase())})};return Ae(va(t),s)},nz=function(t,r){var o=function(G,ee){ee.stop()},s=function(G){return function(ee,ae){pt(G,function(ve){ve(ee,ae)})}},d=function(G,ee){if(!Nn.isDisabled(G)){var ae=ee.event.raw;C(G,ae.dataTransfer.files)}},g=function(G,ee){var ae=ee.event.raw.target;C(G,ae.files)},C=function(G,ee){an.setValue(G,tz(ee,r)),Fn(G,Ul,{name:t.name})},E=oa({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Jt([lr("input-file-events",[qd(Oh()),qd(Uv())])])}),O=function(G){return{uid:G.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Jt([Pm.memory([]),Cv.self(),Nn.config({}),Nr.config({toggleClass:"dragenter",toggleOnExecute:!1}),lr("dropzone-events",[Bt("dragenter",s([o,Nr.toggle])),Bt("dragleave",s([o,Nr.toggle])),Bt("dragover",o),Bt("drop",s([o,d])),Bt(Th(),g)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},ms.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[E.asSpec()],action:function(ee){var ae=E.get(ee);ae.element.dom.click()},buttonBehaviours:Jt([Oo.config({}),pf.button(r.isDisabled),ti()])})]}]}},$=t.label.map(function(G){return Rm(G,r)}),U=Zr.parts.field({factory:{sketch:O}});return XC($,U,["tox-form__group--stretched"],[])},W$=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:Ue(t.items,r.interpreter)}},y3=wn("alloy-fake-before-tabstop"),mO=wn("alloy-fake-after-tabstop"),hO=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Jt([er.config({ignore:!0}),Oo.config({})])}},gO=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[hO([y3]),t,hO([mO])],behaviours:Jt([Cv.childAt(1)])}},pO=function(t,r){Fn(t,_b(),{raw:{which:9,shiftKey:r}})},j$=function(t,r){var o=r.element;bu(o,y3)?pO(t,!0):bu(o,mO)&&pO(t,!1)},v_=function(t){return GC(t,["."+y3,"."+mO].join(","),se)},rz=!(Wn().browser.isIE()||Wn().browser.isEdge()),az=function(t){var r=zn("");return{getValue:function(o){return r.get()},setValue:function(o,s){if(t)fr(o.element,"srcdoc",s);else{fr(o.element,"src","javascript:''");var d=o.element.dom.contentWindow.document;d.open(),d.write(s),d.close()}r.set(s)}}},G$=function(t,r){var o=rz&&t.sandboxed,s=ne(ne({},t.label.map(function(O){return{title:O}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),d=az(o),g=t.label.map(function(O){return Rm(O,r)}),C=function(O){return gO({uid:O.uid,dom:{tag:"iframe",attributes:s},behaviours:Jt([Oo.config({}),er.config({}),Pm.withComp(B.none(),d.getValue,d.setValue)])})},E=Zr.parts.field({factory:{sketch:C}});return XC(g,E,["tox-form__group--stretched"],[])},By=function(t,r){return oz(document.createElement("canvas"),t,r)},q$=function(t){var r=By(t.width,t.height),o=Im(r);return o.drawImage(t,0,0),r},Im=function(t){return t.getContext("2d")},oz=function(t,r,o){return t.width=r,t.height=o,t},d_=function(t){return t.naturalWidth||t.width},bO=function(t){return t.naturalHeight||t.height},iz=function(t){return new $m(function(r,o){var s=URL.createObjectURL(t),d=new Image,g=function(){d.removeEventListener("load",C),d.removeEventListener("error",E)},C=function(){g(),r(d)},E=function(){g(),o("Unable to load data of type "+t.type+": "+s)};d.addEventListener("load",C),d.addEventListener("error",E),d.src=s,d.complete&&setTimeout(C,0)})},uz=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return B.none();for(var s=o[1],d=r[1],g=1024,C=atob(d),E=C.length,O=Math.ceil(E/g),$=new Array(O),U=0;U<O;++U){for(var G=U*g,ee=Math.min(G+g,E),ae=new Array(ee-G),ve=G,Se=0;ve<ee;++Se,++ve)ae[Se]=C[ve].charCodeAt(0);$[U]=new Uint8Array(ae)}return B.some(new Blob($,{type:s}))},sz=function(t){return new $m(function(r,o){uz(t).fold(function(){o("uri is not base64: "+t)},r)})},K$=function(t,r,o){return r=r||"image/png",I(HTMLCanvasElement.prototype.toBlob)?new $m(function(s,d){t.toBlob(function(g){g?s(g):d()},r,o)}):sz(t.toDataURL(r,o))},lz=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},cz=function(t){return iz(t).then(function(r){fz(r);var o=By(d_(r),bO(r)),s=Im(o);return s.drawImage(r,0,0),o})},X$=function(t){return new $m(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},fz=function(t){URL.revokeObjectURL(t.src)},Y$=function(t,r,o){var s=r.type,d=ie(s),g=function(){return $m.resolve(r)},C=ie(o),E=function(){return o.split(",")[1]},O=function(ee,ae){return t.then(function(ve){return K$(ve,ee,ae)})},$=function(ee,ae){return t.then(function(ve){return lz(ve,ee,ae)})},U=function(ee,ae){return $(ee,ae).then(function(ve){return ve.split(",")[1]})},G=function(){return t.then(q$)};return{getType:d,toBlob:g,toDataURL:C,toBase64:E,toAdjustedBlob:O,toAdjustedDataURL:$,toAdjustedBase64:U,toCanvas:G}},Z$=function(t){return X$(t).then(function(r){return Y$(cz(t),t,r)})},F1=function(t,r){return K$(t,r).then(function(o){return Y$($m.resolve(t),o,t.toDataURL())})},vz=function(t){return Z$(t)},m_=function(t,r,o){var s=typeof t=="string"?parseFloat(t):t;return s>o?s=o:s<r&&(s=r),s},yO=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},wO=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],CO=function(t,r){for(var o=[],s=new Array(25),d,g=0;g<5;g++){for(var C=0;C<5;C++)o[C]=r[C+g*5];for(var C=0;C<5;C++){d=0;for(var E=0;E<5;E++)d+=t[C+E*5]*o[E];s[C+g*5]=d}}return s},J$=function(t,r){var o;return r=m_(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=wO[r]:o=wO[Math.floor(r)]*(1-o)+wO[Math.floor(r)+1]*o,o=o*127+127),CO(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},Q$=function(t,r){return r=m_(255*r,-255,255),CO(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},eB=function(t,r,o,s){return r=m_(r,0,2),o=m_(o,0,2),s=m_(s,0,2),CO(t,[r,0,0,0,0,0,o,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},_O=function(t,r){return t.toCanvas().then(function(o){return tB(o,t.getType(),r)})},tB=function(t,r,o){var s=Im(t),d=function(C,E){for(var O,$,U,G,ee=C.data,ae=E[0],ve=E[1],Se=E[2],Ne=E[3],Ce=E[4],Fe=E[5],vt=E[6],ft=E[7],ze=E[8],nt=E[9],St=E[10],on=E[11],Dt=E[12],ln=E[13],Pt=E[14],_t=E[15],Xt=E[16],Cn=E[17],Ot=E[18],bn=E[19],En=0;En<ee.length;En+=4)O=ee[En],$=ee[En+1],U=ee[En+2],G=ee[En+3],ee[En]=O*ae+$*ve+U*Se+G*Ne+Ce,ee[En+1]=O*Fe+$*vt+U*ft+G*ze+nt,ee[En+2]=O*St+$*on+U*Dt+G*ln+Pt,ee[En+3]=O*_t+$*Xt+U*Cn+G*Ot+bn;return C},g=d(s.getImageData(0,0,t.width,t.height),o);return s.putImageData(g,0,0),F1(t,r)},nB=function(t,r){return t.toCanvas().then(function(o){return dz(o,t.getType(),r)})},dz=function(t,r,o){var s=Im(t),d=function(E,O,$){for(var U=function(Xt,Cn,Ot){return Xt>Ot?Xt=Ot:Xt<Cn&&(Xt=Cn),Xt},G=Math.round(Math.sqrt($.length)),ee=Math.floor(G/2),ae=E.data,ve=O.data,Se=E.width,Ne=E.height,Ce=0;Ce<Ne;Ce++)for(var Fe=0;Fe<Se;Fe++){for(var vt=0,ft=0,ze=0,nt=0;nt<G;nt++)for(var St=0;St<G;St++){var on=U(Fe+St-ee,0,Se-1),Dt=U(Ce+nt-ee,0,Ne-1),ln=(Dt*Se+on)*4,Pt=$[nt*G+St];vt+=ae[ln]*Pt,ft+=ae[ln+1]*Pt,ze+=ae[ln+2]*Pt}var _t=(Ce*Se+Fe)*4;ve[_t]=U(vt,0,255),ve[_t+1]=U(ft,0,255),ve[_t+2]=U(ze,0,255)}return O},g=s.getImageData(0,0,t.width,t.height),C=s.getImageData(0,0,t.width,t.height);return C=d(g,C,o),s.putImageData(C,0,0),F1(t,r)},mz=function(t){var r=function(o,s,d){for(var g=Im(o),C=new Array(256),E=function(U,G){for(var ee=U.data,ae=0;ae<ee.length;ae+=4)ee[ae]=G[ee[ae]],ee[ae+1]=G[ee[ae+1]],ee[ae+2]=G[ee[ae+2]];return U},O=0;O<C.length;O++)C[O]=t(O,d);var $=E(g.getImageData(0,0,o.width,o.height),C);return g.putImageData($,0,0),F1(o,s)};return function(o,s){return o.toCanvas().then(function(d){return r(d,o.getType(),s)})}},rB=function(t){return function(r,o){return _O(r,t(yO(),o))}},hz=function(t){return function(r){return _O(r,t)}},gz=function(t){return function(r){return nB(r,t)}},pz=hz([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),aB=rB(Q$),bz=rB(J$),yz=function(t,r,o,s){return _O(t,eB(yO(),r,o,s))},wz=gz([0,-1,0,-1,5,-1,0,-1,0]),Fr=mz(function(t,r){return Math.pow(t/255,1-r)*255}),L1=function(t,r,o){var s=d_(t),d=bO(t),g=r/s,C=o/d,E=!1;(g<.5||g>2)&&(g=g<.5?.5:2,E=!0),(C<.5||C>2)&&(C=C<.5?.5:2,E=!0);var O=oB(t,g,C);return E?O.then(function($){return L1($,r,o)}):O},oB=function(t,r,o){return new $m(function(s){var d=d_(t),g=bO(t),C=Math.floor(d*r),E=Math.floor(g*o),O=By(C,E),$=Im(O);$.drawImage(t,0,0,d,g,0,0,C,E),s(O)})},SO=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),s=Math.round(t*o);return Math.ceil(s/o)},iB=function(t,r){return t.toCanvas().then(function(o){return Cz(o,t.getType(),r)})},Cz=function(t,r,o){var s=o<0?360+o:o,d=s*Math.PI/180,g=t.width,C=t.height,E=Math.sin(d),O=Math.cos(d),$=SO(Math.abs(g*O)+Math.abs(C*E)),U=SO(Math.abs(g*E)+Math.abs(C*O)),G=By($,U),ee=Im(G);return ee.translate($/2,U/2),ee.rotate(d),ee.drawImage(t,-g/2,-C/2),F1(G,r)},_z=function(t,r){return t.toCanvas().then(function(o){return Sz(o,t.getType(),r)})},Sz=function(t,r,o){var s=By(t.width,t.height),d=Im(s);return o==="v"?(d.scale(1,-1),d.drawImage(t,0,-s.height)):(d.scale(-1,1),d.drawImage(t,-s.width,0)),F1(s,r)},uB=function(t,r,o,s,d){return t.toCanvas().then(function(g){return xz(g,t.getType(),r,o,s,d)})},xz=function(t,r,o,s,d,g){var C=By(d,g),E=Im(C);return E.drawImage(t,-o,-s),F1(C,r)},kz=function(t,r,o){return t.toCanvas().then(function(s){return L1(s,r,o).then(function(d){return F1(d,t.getType())})})},Az=function(t){return pz(t)},Ez=function(t){return wz(t)},Tz=function(t,r){return Fr(t,r)},Oz=function(t,r,o,s){return yz(t,r,o,s)},Dz=function(t,r){return aB(t,r)},Rz=function(t,r){return bz(t,r)},sB=function(t,r){return _z(t,r)},$z=function(t,r,o,s,d){return uB(t,r,o,s,d)},Bz=function(t,r,o){return kz(t,r,o)},xO=function(t,r){return iB(t,r)},lB=function(t,r,o){return pv(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},r)},w3=function(t,r){return lB(t,r,[])},cB=function(t,r){return lB(t,r,[ar.config({})])},kO=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:Jt([ar.config({})])}},AO,fB=wn("toolbar.button.execute"),vB=function(t){return cs(function(r,o){Ay(t,r)(function(s){Fn(r,fB,{buttonApi:s}),t.onAction(s)})})},dB=(AO={},AO[Rs()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],AO),H1=wn("update-menu-text"),mB=wn("update-menu-icon"),C3=function(t,r,o){var s=zn(q),d=t.text.map(function(G){return oa(kO(G,r,o.providers))}),g=t.icon.map(function(G){return oa(cB(G,o.providers.icons))}),C=function(G,ee){var ae=an.getValue(G);return er.focus(ae),Fn(ae,"keydown",{raw:ee.event.raw}),yf.close(ae),B.some(!0)},E=t.role.fold(function(){return{}},function(G){return{role:G}}),O=t.tooltip.fold(function(){return{}},function(G){var ee=o.providers.translate(G);return{title:ee,"aria-label":ee}}),$=pv("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},o.providers.icons),U=oa(yf.sketch(ne(ne(ne({},t.uid?{uid:t.uid}:{}),E),{dom:{tag:"button",classes:[r,r+"--select"].concat(Ue(t.classes,function(G){return r+"--"+G})),attributes:ne({},O)},components:Tm([g.map(function(G){return G.asSpec()}),d.map(function(G){return G.asSpec()}),B.some($)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Jt(ke(ke([],t.dropdownBehaviours,!0),[pf.button(function(){return t.disabled||o.providers.isDisabled()}),ti(),QC.config({}),ar.config({}),lr("dropdown-events",[E1(t,s),T1(t,s)]),lr("menubutton-update-display-text",[Bt(H1,function(G,ee){d.bind(function(ae){return ae.getOpt(G)}).each(function(ae){ar.set(ae,[Oi(o.providers.translate(ee.event.text))])})}),Bt(mB,function(G,ee){g.bind(function(ae){return ae.getOpt(G)}).each(function(ae){ar.set(ae,[cB(ee.event.icon,o.providers.icons)])})})])],!1)),eventOrder:yt(dB,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Jt([Vn.config({mode:"special",onLeft:C,onRight:C})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:k1(!1,t.columns,t.presets)},fetch:function(G){return Yi.nu(ye(t.fetch,G))}})));return U.asSpec()},hB=function(t){return _(t)},_3=function(t){return t.type==="separator"},Mz=function(t){return Pr(t,"getSubmenuItems")},Pz={type:"separator"},Iz=function(t,r){var o=et(t,function(s,d){return hB(d)?d===""?s:d==="|"?s.length>0&&!_3(s[s.length-1])?s.concat([Pz]):s:Pr(r,d.toLowerCase())?s.concat([r[d.toLowerCase()]]):s:s.concat([d])},[]);return o.length>0&&_3(o[o.length-1])&&o.pop(),o},Nz=function(t,r){var o=t.getSubmenuItems(),s=My(o,r),d=yt(s.menus,jc(t.value,s.items)),g=yt(s.expansions,jc(t.value,t.value));return{item:t,menus:d,expansions:g}},zz=function(t,r){return Mz(t)?Nz(t,r):{item:t,menus:{},expansions:{}}},Fz=function(t){if(_3(t))return t;var r=On(t,"value").getOrThunk(function(){return wn("generated-menu-item")});return yt({value:r},t)},My=function(t,r){var o=Iz(_(t)?t.split(" "):t,r);return Je(o,function(s,d){var g=Fz(d),C=zz(g,r);return{menus:yt(s.menus,C.menus),items:[C.item].concat(s.items),expansions:yt(s.expansions,C.expansions)}},{menus:{},expansions:{},items:[]})},Py=function(t,r,o,s){var d=wn("primary-menu"),g=My(t,o.shared.providers.menuItems());if(g.items.length===0)return B.none();var C=AR(d,g.items,r,o,s),E=dr(g.menus,function($,U){return AR(U,$,r,o,!1)}),O=yt(E,jc(d,C));return B.from(fa.tieredData(d,O,g.expansions))},EO=function(t){return{isDisabled:function(){return Nn.isDisabled(t)},setDisabled:function(r){return Nn.set(t,r)},setActive:function(r){var o=t.element;r?(Wo(o,"tox-tbtn--enabled"),fr(o,"aria-pressed",!0)):(Io(o,"tox-tbtn--enabled"),ii(o,"aria-pressed"))},isActive:function(){return bu(t.element,"tox-tbtn--enabled")}}},TO=function(t,r,o,s){return C3({text:t.text,icon:t.icon,tooltip:t.tooltip,role:s,fetch:function(d,g){t.fetch(function(C){g(Py(C,uu.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:EO,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Oo.config({})]},r,o.shared)},Lz=function(t,r,o){var s=function(g){return function(C){var E=!C.isActive();C.setActive(E),g.storage.set(E),o.shared.getSink().each(function(O){r().getOpt(O).each(function($){mc($.element),Fn($,bv,{name:g.name,value:g.storage.get()})})})}},d=function(g){return function(C){C.setActive(g.storage.get())}};return function(g){g(Ue(t,function(C){var E=C.text.fold(function(){return{}},function(O){return{text:O}});return ne(ne({type:C.type,active:!1},E),{onAction:s(C),onSetup:d(C)})}))}},gB=function(t,r,o,s,d,g){o===void 0&&(o=[]);var C=r.fold(function(){return{}},function($){return{action:$}}),E=ne({buttonBehaviours:Jt([pf.button(function(){return t.disabled||g.isDisabled()}),ti(),Oo.config({}),lr("button press",[Db("click"),Db("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},C),O=yt(E,{dom:s});return yt(O,{components:d})},pB=function(t,r,o,s){s===void 0&&(s=[]);var d=t.tooltip.map(function(O){return{"aria-label":o.translate(O),title:o.translate(O)}}).getOr({}),g={tag:"button",classes:["tox-tbtn"],attributes:d},C=t.icon.map(function(O){return w3(O,o.icons)}),E=Tm([C]);return gB(t,r,s,g,E,o)},OO=function(t,r,o,s){s===void 0&&(s=[]);var d=pB(t,B.some(r),o,s);return ms.sketch(d)},DO=function(t,r,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=o.translate(t.text),C=t.icon?t.icon.map(function(G){return w3(G,o.icons)}):B.none(),E=C.isSome()?Tm([C]):[],O=C.isSome()?{}:{innerHtml:g},$=ke(ke(ke(ke([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),C.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),d,!0),U=ne(ne({tag:"button",classes:$},O),{attributes:{title:g}});return gB(t,r,s,U,E,o)},RO=function(t,r,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=DO(t,B.some(r),o,s,d);return ms.sketch(g)},h_=function(t,r){return function(o){r==="custom"?Fn(o,bv,{name:t,value:{}}):r==="submit"?Wr(o,cl):r==="cancel"?Wr(o,D1):console.error("Unknown button type: ",r)}},S3=function(t,r){return r==="menu"},Hz=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},x3=function(t,r,o){if(S3(t,r)){var s=function(){return C},d=t,g=ne(ne({},t),{onSetup:function($){return $.setDisabled(t.disabled),q},fetch:Lz(d.items,s,o)}),C=oa(TO(g,"tox-tbtn",o,B.none()));return C.asSpec()}else if(Hz(t,r)){var E=h_(t.name,r),O=ne(ne({},t),{borderless:!1});return RO(O,E,o.shared.providers,[])}else console.error("Unknown footer button type: ",r)},Vz=function(t,r){var o=h_(t.name,"custom");return MI(B.none(),Zr.parts.field(ne({factory:ms},DO(t,B.some(o),r,[Pm.memory(""),Cv.self()]))))},Uz=ie([He("field1Name","field1"),He("field2Name","field2"),wu("onLockedChange"),nm(["lockClass"]),He("locked",!1),il.field("coupledFieldBehaviours",[Ar,an])]),$O=function(t,r,o){return pa(t,r,o).bind(Ar.getCurrent)},k3=function(t,r){return Mi({factory:Zr,name:t,overrides:function(o){return{fieldBehaviours:Jt([lr("coupled-input-behaviour",[Bt(Ud(),function(s){$O(s,o,r).each(function(d){pa(s,o,"lock").each(function(g){Nr.isOn(g)&&o.onLockedChange(s,d,g)})})})])])}}})},bB=ie([k3("field1","field2"),k3("field2","field1"),Mi({factory:ms,schema:[At("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Jt([Nr.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),Wz=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:il.augment(t.coupledFieldBehaviours,[Ar.config({find:B.some}),an.config({store:{mode:"manual",getValue:function(d){var g,C=H0(d,t,["field1","field2"]);return g={},g[t.field1Name]=an.getValue(C.field1()),g[t.field2Name]=an.getValue(C.field2()),g},setValue:function(d,g){var C=H0(d,t,["field1","field2"]);co(g,t.field1Name)&&an.setValue(C.field1(),g[t.field1Name]),co(g,t.field2Name)&&an.setValue(C.field2(),g[t.field2Name])}}})]),apis:{getField1:function(d){return pa(d,t,"field1")},getField2:function(d){return pa(d,t,"field2")},getLock:function(d){return pa(d,t,"lock")}}}},Vs=xu({name:"FormCoupledInputs",configFields:Uz(),partFields:bB(),factory:Wz,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),jz=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(d){return d in r?r[d]:1},s=t.value.toFixed(o(t.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+t.unit},BO=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var s=parseFloat(o[1]),d=o[2];return mr.value({value:s,unit:d})}else return mr.error(t)},MO=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(d){return Pr(o,d)};return t.unit===r?B.some(t.value):s(t.unit)&&s(r)?o[t.unit]===o[r]?B.some(t.value):B.some(t.value/o[t.unit]*o[r]):B.none()},PO=function(t){return B.none()},g_=function(t,r){return function(o){return MO(o,r).map(function(s){return{value:s*t,unit:r}})}},Gz=function(t,r){var o=BO(t).toOptional(),s=BO(r).toOptional();return Gs(o,s,function(d,g){return MO(d,g.unit).map(function(C){return g.value/C}).map(function(C){return g_(C,g.unit)}).getOr(PO)}).getOr(PO)},yB=function(t,r){var o=PO,s=wn("ratio-event"),d=function(G){return pv(G,{tag:"span",classes:["tox-icon","tox-lock-icon__"+G]},r.icons)},g=Vs.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[d("lock"),d("unlock")],buttonBehaviours:Jt([Nn.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),Oo.config({})])}),C=function(G){return{dom:{tag:"div",classes:["tox-form__group"]},components:G}},E=function(G){return Zr.parts.field({factory:ZC,inputClasses:["tox-textfield"],inputBehaviours:Jt([Nn.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),Oo.config({}),lr("size-input-events",[Bt(tl(),function(ee,ae){Fn(ee,s,{isField1:G})}),Bt(Th(),function(ee,ae){Fn(ee,Ul,{name:t.name})})])]),selectOnFocus:!1})},O=function(G){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(G)}}},$=Vs.parts.field1(C([Zr.parts.label(O("Width")),E(!0)])),U=Vs.parts.field2(C([Zr.parts.label(O("Height")),E(!1)]));return Vs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[$,U,C([O("&nbsp;"),g])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(G,ee,ae){BO(an.getValue(G)).each(function(ve){o(ve).each(function(Se){an.setValue(ee,jz(Se))})})},coupledFieldBehaviours:Jt([Nn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(G){Vs.getField1(G).bind(Zr.getField).each(Nn.disable),Vs.getField2(G).bind(Zr.getField).each(Nn.disable),Vs.getLock(G).each(Nn.disable)},onEnabled:function(G){Vs.getField1(G).bind(Zr.getField).each(Nn.enable),Vs.getField2(G).bind(Zr.getField).each(Nn.enable),Vs.getLock(G).each(Nn.enable)}}),ti(),lr("size-input-events2",[Bt(s,function(G,ee){var ae=ee.event.isField1,ve=ae?Vs.getField1(G):Vs.getField2(G),Se=ae?Vs.getField2(G):Vs.getField1(G),Ne=ve.map(an.getValue).getOr(""),Ce=Se.map(an.getValue).getOr("");o=Gz(Ne,Ce)})])])})},qz=ie(wn("undo")),Kz=ie(wn("redo")),wB=ie(wn("zoom")),Xz=ie(wn("back")),Yz=ie(wn("apply")),Zz=ie(wn("swap")),Jz=ie(wn("transform")),Qz=ie(wn("temp-transform")),CB=ie(wn("transform-apply")),Au={undo:qz,redo:Kz,zoom:wB,back:Xz,apply:Yz,swap:Zz,transform:Jz,tempTransform:Qz,transformApply:CB},eF=ie("save-state"),tF=ie("disable"),_B=ie("enable"),gs={formActionEvent:bv,saveState:eF,disable:tF,enable:_B},nF=function(t,r){var o=function(dn,gr,la,eo){return oa(RO({name:dn,text:dn,disabled:la,primary:eo,icon:B.none(),borderless:!1},gr,r))},s=function(dn,gr,la,eo){return oa(OO({name:dn,icon:B.some(dn),tooltip:B.some(gr),disabled:eo,primary:!1,borderless:!1},la,r))},d=function(dn,gr){dn.map(function(la){var eo=la.get(gr);eo.hasConfigured(Nn)&&Nn.disable(eo)})},g=function(dn,gr){dn.map(function(la){var eo=la.get(gr);eo.hasConfigured(Nn)&&Nn.enable(eo)})},C={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},E=q,O=function(dn,gr,la){Fn(dn,gr,la)},$=function(dn){return Wr(dn,gs.disable())},U=function(dn){return Wr(dn,gs.enable())},G=function(dn,gr){$(dn),O(dn,Au.transform(),{transform:gr}),U(dn)},ee=function(dn,gr){$(dn),O(dn,Au.tempTransform(),{transform:gr}),U(dn)},ae=function(dn){return function(){Tv.getOpt(dn).each(function(gr){ar.set(gr,[rp])})}},ve=function(dn,gr){$(dn),O(dn,Au.transformApply(),{transform:gr,swap:ae(dn)}),U(dn)},Se=function(){return o("Back",function(dn){return O(dn,Au.back(),{swap:ae(dn)})},!1,!1)},Ne=function(){return oa({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Jt([Nn.config({})])})},Ce=function(){return o("Apply",function(dn){return O(dn,Au.apply(),{swap:ae(dn)})},!0,!0)},Fe=function(){return function(dn){var gr=t.getRect();return $z(dn,gr.x,gr.y,gr.w,gr.h)}},vt=[Se(),Ne(),o("Apply",function(dn){var gr=Fe();ve(dn,gr),t.hideCrop()},!1,!0)],ft=ku.sketch({dom:C,components:vt.map(function(dn){return dn.asSpec()}),containerBehaviours:Jt([lr("image-tools-crop-buttons-events",[Bt(gs.disable(),function(dn,gr){d(vt,dn)}),Bt(gs.enable(),function(dn,gr){g(vt,dn)})])])}),ze=oa(yB({name:"size",label:B.none(),constrain:!0,disabled:!1},r)),nt=function(dn,gr){return function(la){return Bz(la,dn,gr)}},St=[Se(),Ne(),ze,Ne(),o("Apply",function(dn){ze.getOpt(dn).each(function(gr){var la=an.getValue(gr),eo=parseInt(la.width,10),ws=parseInt(la.height,10),Xu=nt(eo,ws);ve(dn,Xu)})},!1,!0)],on=ku.sketch({dom:C,components:St.map(function(dn){return dn.asSpec()}),containerBehaviours:Jt([lr("image-tools-resize-buttons-events",[Bt(gs.disable(),function(dn,gr){d(St,dn)}),Bt(gs.enable(),function(dn,gr){g(St,dn)})])])}),Dt=function(dn,gr){return function(la){return dn(la,gr)}},ln=Dt(sB,"h"),Pt=Dt(sB,"v"),_t=Dt(xO,-90),Xt=Dt(xO,90),Cn=function(dn,gr){ee(dn,gr)},Ot=[Se(),Ne(),s("flip-horizontally","Flip horizontally",function(dn){Cn(dn,ln)},!1),s("flip-vertically","Flip vertically",function(dn){Cn(dn,Pt)},!1),s("rotate-left","Rotate counterclockwise",function(dn){Cn(dn,_t)},!1),s("rotate-right","Rotate clockwise",function(dn){Cn(dn,Xt)},!1),Ne(),Ce()],bn=ku.sketch({dom:C,components:Ot.map(function(dn){return dn.asSpec()}),containerBehaviours:Jt([lr("image-tools-fliprotate-buttons-events",[Bt(gs.disable(),function(dn,gr){d(Ot,dn)}),Bt(gs.enable(),function(dn,gr){g(Ot,dn)})])])}),En=function(dn,gr,la,eo,ws){var Xu=_f.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(dn)}}),dl=_f.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),Dc=_f.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return oa(_f.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:la,maxX:ws,getInitialValue:ie({x:eo})},components:[Xu,dl,Dc],sliderBehaviours:Jt([er.config({})]),onChoose:gr}))},Or=function(dn,gr,la,eo,ws){var Xu=function(dl,Dc,Wy){var $_=Dt(gr,Wy.x/100);G(dl,$_)};return En(dn,Xu,la,eo,ws)},ia=function(dn,gr,la,eo,ws){return[Se(),Or(dn,gr,la,eo,ws),Ce()]},za=function(dn,gr,la,eo,ws){var Xu=ia(dn,gr,la,eo,ws);return ku.sketch({dom:C,components:Xu.map(function(dl){return dl.asSpec()}),containerBehaviours:Jt([lr("image-tools-filter-panel-buttons-events",[Bt(gs.disable(),function(dl,Dc){d(Xu,dl)}),Bt(gs.enable(),function(dl,Dc){g(Xu,dl)})])])})},lo=[Se(),Ne(),Ce()],vl=ku.sketch({dom:C,components:lo.map(function(dn){return dn.asSpec()})}),Tu=za("Brightness",Dz,-100,0,100),nA=za("Contrast",Rz,-100,0,100),pi=za("Gamma",Tz,-100,0,100),Z1=function(dn,gr,la){return function(eo){return Oz(eo,dn,gr,la)}},J1=function(dn){var gr=function(la,eo,ws){var Xu=O_.getOpt(la),dl=D_.getOpt(la),Dc=Q1.getOpt(la);Xu.each(function(Wy){dl.each(function($_){Dc.each(function(jy){var q7=an.getValue(Wy).x/100,K7=an.getValue(jy).x/100,tb=an.getValue($_).x/100,Gy=Z1(q7,K7,tb);G(la,Gy)})})})};return En(dn,gr,0,100,200)},O_=J1("R"),Q1=J1("G"),D_=J1("B"),ys=[Se(),O_,Q1,D_,Ce()],Ev=ku.sketch({dom:C,components:ys.map(function(dn){return dn.asSpec()})}),Ku=function(dn,gr,la){return function(eo){var ws=function(){Tv.getOpt(eo).each(function(Xu){ar.set(Xu,[dn]),la(Xu)})};O(eo,Au.swap(),{transform:gr,swap:ws})}},R_=function(dn){t.showCrop()},np=function(dn){ze.getOpt(dn).each(function(gr){var la=t.getMeasurements(),eo=la.width,ws=la.height;an.setValue(gr,{width:eo,height:ws})})},Uy=B.some(Ez),bi=B.some(Az),Hm=[s("crop","Crop",Ku(ft,B.none(),R_),!1),s("resize","Resize",Ku(on,B.none(),np),!1),s("orientation","Orientation",Ku(bn,B.none(),E),!1),s("brightness","Brightness",Ku(Tu,B.none(),E),!1),s("sharpen","Sharpen",Ku(vl,Uy,E),!1),s("contrast","Contrast",Ku(nA,B.none(),E),!1),s("color-levels","Color levels",Ku(Ev,B.none(),E),!1),s("gamma","Gamma",Ku(pi,B.none(),E),!1),s("invert","Invert",Ku(vl,bi,E),!1)],rp=ku.sketch({dom:C,components:Hm.map(function(dn){return dn.asSpec()})}),eb=ku.sketch({dom:{tag:"div"},components:[rp],containerBehaviours:Jt([ar.config({})])}),Tv=oa(eb),ap=function(dn){return Tv.getOpt(dn).map(function(gr){var la=gr.components()[0];return la.components()[la.components().length-1]})};return{memContainer:Tv,getApplyButton:ap}},SB=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Wl=tinymce.util.Tools.resolve("tinymce.util.Observable"),Iy=tinymce.util.Tools.resolve("tinymce.util.VK"),IO=function(t){var r=Math.max,o=t.documentElement,s=t.body,d=r(o.scrollWidth,s.scrollWidth),g=r(o.clientWidth,s.clientWidth),C=r(o.offsetWidth,s.offsetWidth),E=r(o.scrollHeight,s.scrollHeight),O=r(o.clientHeight,s.clientHeight),$=r(o.offsetHeight,s.offsetHeight);return{width:d<C?g:d,height:E<$?O:E}},xB=function(t){return H(t.changedTouches)},A3=function(t){if(xB(t))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function E3(t,r){var o,s,d,g,C=[],E=[],O=(o=r.document)!==null&&o!==void 0?o:document,$=(s=r.root)!==null&&s!==void 0?s:O,U=sn.fromDom(O),G,ee,ae,ve=sn.fromDom($.getElementById((d=r.handle)!==null&&d!==void 0?d:t)),Se=function(vt){var ft=vt.raw,ze=IO(O);A3(ft),vt.prevent(),G=ft.button,ee=ft.screenX,ae=ft.screenY;var nt=ao(ve,"cursor");g=sn.fromTag("div",O),rs(g,{position:"absolute",top:"0",left:"0",width:ze.width+"px",height:ze.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:nt}),Vi(ko(U),g),E.push(Co(U,"mousemove",Ne),Co(U,"touchmove",Ne),Co(U,"mouseup",Ce),Co(U,"touchend",Ce)),r.start(ft)},Ne=function(vt){var ft=vt.raw;if(A3(ft),ft.button!==G)return Ce(vt);ft.deltaX=ft.screenX-ee,ft.deltaY=ft.screenY-ae,vt.prevent(),r.drag(ft)},Ce=function(vt){A3(vt.raw),pt(E,function(ft){return ft.unbind()}),E=[],Bu(g),r.stop&&r.stop(vt.raw)},Fe=function(){pt(E.concat(C),function(vt){return vt.unbind()}),E=[],C=[],H(g)&&Bu(g)};return C.push(Co(ve,"mousedown",Se),Co(ve,"touchstart",Se)),{destroy:Fe}}var rF=0,T3=function(t,r,o,s,d){var g,C=[],E="tox-",O=E+"crid-"+rF++,$=sn.fromDom(s),U=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],G=["top","right","bottom","left"],ee=function(Dt,ln){return{x:ln.x+Dt.x,y:ln.y+Dt.y,w:ln.w,h:ln.h}},ae=function(Dt,ln){return{x:ln.x-Dt.x,y:ln.y-Dt.y,w:ln.w,h:ln.h}},ve=function(){return ae(o,t)},Se=function(Dt,ln,Pt,_t){var Xt=ln.x+Pt*Dt.deltaX,Cn=ln.y+_t*Dt.deltaY,Ot=Math.max(20,ln.w+Pt*Dt.deltaW),bn=Math.max(20,ln.h+_t*Dt.deltaH),En=t=SB.clamp({x:Xt,y:Cn,w:Ot,h:bn},o,Dt.name==="move");En=ae(o,En),on.fire("updateRect",{rect:En}),ze(En)},Ne=function(){var Dt=function(Xt){var Cn;return E3(O,{document:s.ownerDocument,root:xs($).dom,handle:O+"-"+Xt.name,start:function(){Cn=t},drag:function(Ot){Se(Xt,Cn,Ot.deltaX,Ot.deltaY)}})},ln=sn.fromTag("div");ns(ln,{id:O,class:E+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Vi($,ln),pt(G,function(Xt){jo($,"#"+O).each(function(Cn){var Ot=sn.fromTag("div");ns(Ot,{id:O+"-"+Xt,class:E+"croprect-block","data-mce-bogus":"all"}),Xn(Ot,"display","none"),Vi(Cn,Ot)})}),pt(U,function(Xt){jo($,"#"+O).each(function(Cn){var Ot=sn.fromTag("div");ns(Ot,{id:O+"-"+Xt.name,"aria-label":Xt.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:Xt.label}),Jd(Ot,[E+"croprect-handle",E+"croprect-handle-"+Xt.name]),Xn(Ot,"display","none"),Vi(Cn,Ot)})}),g=Ue(U,Dt),Fe(t);var Pt=function(Xt){fr(Xt.target,"aria-grabbed",Xt.raw.type==="focus"?"true":"false")},_t=function(Xt){var Cn;pt(U,function(bn){if(Va(Xt.target,"id")===O+"-"+bn.name)return Cn=bn,!1});var Ot=function(bn,En,Or,ia,za){bn.stopPropagation(),bn.preventDefault(),Se(Cn,Or,ia,za)};switch(Xt.raw.keyCode){case Iy.LEFT:Ot(Xt,Cn,t,-10,0);break;case Iy.RIGHT:Ot(Xt,Cn,t,10,0);break;case Iy.UP:Ot(Xt,Cn,t,0,-10);break;case Iy.DOWN:Ot(Xt,Cn,t,0,10);break;case Iy.ENTER:case Iy.SPACEBAR:Xt.prevent(),d();break}};C.push(Co($,"focusin",Pt),Co($,"focusout",Pt),Co($,"keydown",_t))},Ce=function(Dt){var ln=ke(ke([],Ue(U,function(_t){return"#"+O+"-"+_t.name}),!0),Ue(G,function(_t){return"#"+O+"-"+_t}),!0).join(","),Pt=au($,ln);Dt?pt(Pt,function(_t){return Kr(_t,"display")}):pt(Pt,function(_t){return Xn(_t,"display","none")})},Fe=function(Dt){var ln=function(Pt,_t){jo($,"#"+O+"-"+Pt).each(function(Xt){rs(Xt,{left:_t.x+"px",top:_t.y+"px",width:Math.max(0,_t.w)+"px",height:Math.max(0,_t.h)+"px"})})};pt(U,function(Pt){jo($,"#"+O+"-"+Pt.name).each(function(_t){rs(_t,{left:Dt.w*Pt.xMul+Dt.x+"px",top:Dt.h*Pt.yMul+Dt.y+"px"})})}),ln("top",{x:r.x,y:r.y,w:r.w,h:Dt.y-r.y}),ln("right",{x:Dt.x+Dt.w,y:Dt.y,w:r.w-Dt.x-Dt.w+r.x,h:Dt.h}),ln("bottom",{x:r.x,y:Dt.y+Dt.h,w:r.w,h:r.h-Dt.y-Dt.h+r.y}),ln("left",{x:r.x,y:Dt.y,w:Dt.x-r.x,h:Dt.h}),ln("move",Dt)},vt=function(Dt){t=Dt,Fe(t)},ft=function(Dt){r=Dt,Fe(t)},ze=function(Dt){vt(ee(o,Dt))},nt=function(Dt){o=Dt,Fe(t)},St=function(){pt(g,function(Dt){return Dt.destroy()}),g=[],pt(C,function(Dt){return Dt.unbind()}),C=[]};Ne();var on=ne(ne({},Wl),{toggleVisibility:Ce,setClampRect:nt,setRect:vt,getInnerRect:ve,setInnerRect:ze,setViewPortRect:ft,destroy:St});return on},aF={create:T3},p_=function(t){return new RC(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},kB=function(t){var r=oa({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=zn(1),s=nw(),d=zn({x:0,y:0,w:1,h:1}),g=zn({x:0,y:0,w:1,h:1}),C=function(Ne,Ce){ve.getOpt(Ne).each(function(Fe){var vt=o.get(),ft=Hi(Fe.element),ze=Mo(Fe.element),nt=Ce.dom.naturalWidth*vt,St=Ce.dom.naturalHeight*vt,on=Math.max(0,ft/2-nt/2),Dt=Math.max(0,ze/2-St/2),ln={left:on.toString()+"px",top:Dt.toString()+"px",width:nt.toString()+"px",height:St.toString()+"px",position:"absolute"};rs(Ce,ln),r.getOpt(Fe).each(function(Pt){rs(Pt.element,ln)}),s.run(function(Pt){var _t=d.get();Pt.setRect({x:_t.x*vt+on,y:_t.y*vt+Dt,w:_t.w*vt,h:_t.h*vt}),Pt.setClampRect({x:on,y:Dt,w:nt,h:St}),Pt.setViewPortRect({x:0,y:0,w:ft,h:ze})})})},E=function(Ne,Ce){ve.getOpt(Ne).each(function(Fe){var vt=Hi(Fe.element),ft=Mo(Fe.element),ze=Ce.dom.naturalWidth,nt=Ce.dom.naturalHeight,St=Math.min(vt/ze,ft/nt);St>=1?o.set(1):o.set(St)})},O=function(Ne,Ce){var Fe=sn.fromTag("img");return fr(Fe,"src",Ce),p_(Fe.dom).then(function(){Ne.getSystem().isConnected()&&ve.getOpt(Ne).map(function(vt){var ft=Vb({element:Fe});ar.replaceAt(vt,1,B.some(ft));var ze=g.get(),nt={x:0,y:0,w:Fe.dom.naturalWidth,h:Fe.dom.naturalHeight};g.set(nt);var St=SB.inflate(nt,-20,-20);d.set(St),(ze.w!==nt.w||ze.h!==nt.h)&&E(vt,Fe),C(vt,Fe)})})},$=function(Ne,Ce){var Fe=o.get(),vt=Ce>0?Math.min(2,Fe+.1):Math.max(.1,Fe-.1);o.set(vt),ve.getOpt(Ne).each(function(ft){var ze=ft.components()[1].element;C(ft,ze)})},U=function(){s.run(function(Ne){Ne.toggleVisibility(!0)})},G=function(){s.run(function(Ne){Ne.toggleVisibility(!1)})},ee=function(){return d.get()},ae=ku.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Jt([lr("image-panel-crop-events",[sr(function(Ne){ve.getOpt(Ne).each(function(Ce){var Fe=Ce.element.dom,vt=aF.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Fe,q);vt.toggleVisibility(!1),vt.on("updateRect",function(ft){var ze=ft.rect,nt=o.get(),St={x:Math.round(ze.x/nt),y:Math.round(ze.y/nt),w:Math.round(ze.w/nt),h:Math.round(ze.h/nt)};d.set(St)}),s.set(vt)})}),Ms(function(){s.clear()})])])}],containerBehaviours:Jt([ar.config({}),lr("image-panel-events",[sr(function(Ne){O(Ne,t)})])])}),ve=oa(ae),Se=function(){var Ne=g.get();return{width:Ne.w,height:Ne.h}};return{memContainer:ve,updateSrc:O,zoom:$,showCrop:U,hideCrop:G,getRect:ee,getMeasurements:Se}},Us=function(t,r,o,s,d){return OO({name:t,icon:B.some(r),disabled:o,tooltip:B.some(t),primary:!1,borderless:!1},s,d)},AB=function(t,r){r?Nn.enable(t):Nn.disable(t)},EB=function(t){var r=function(g,C,E){o.getOpt(g).each(function(O){AB(O,C)}),s.getOpt(g).each(function(O){AB(O,E)})},o=oa(Us("Undo","undo",!0,function(g){Fn(g,Au.undo(),{direction:1})},t)),s=oa(Us("Redo","redo",!0,function(g){Fn(g,Au.redo(),{direction:1})},t)),d=ku.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),s.asSpec(),Us("Zoom in","zoom-in",!1,function(g){Fn(g,Au.zoom(),{direction:1})},t),Us("Zoom out","zoom-out",!1,function(g){Fn(g,Au.zoom(),{direction:-1})},t)]});return{container:d,updateButtonUndoStates:r}};function oF(){var t=[],r=-1,o=function(E){var O=t.splice(++r);return t.push(E),{state:E,removed:O}},s=function(){if(g())return t[--r]},d=function(){if(C())return t[++r]},g=function(){return r>0},C=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:s,redo:d,canUndo:g,canRedo:C}}var iF=function(t){var r=zn(t),o=ho(),s=oF();s.add(t);var d=function(){return r.get()},g=function(Fe){r.set(Fe)},C=function(){return o.get().getOrThunk(r.get)},E=function(Fe){var vt=O(Fe);return G(),o.set(vt),vt.url},O=function(Fe){return{blob:Fe,url:URL.createObjectURL(Fe)}},$=function(Fe){URL.revokeObjectURL(Fe.url)},U=function(Fe){Kg.each(Fe,$)},G=function(){o.on($),o.clear()},ee=function(Fe){var vt=O(Fe);g(vt);var ft=s.add(vt).removed;return U(ft),vt.url},ae=function(Fe){var vt=O(Fe);return o.set(vt),vt.url},ve=function(Fe){return o.get().fold(q,function(vt){ee(vt.blob),Fe()})},Se=function(){var Fe=s.undo();return g(Fe),Fe.url},Ne=function(){var Fe=s.redo();return g(Fe),Fe.url},Ce=function(){var Fe=s.canUndo(),vt=s.canRedo();return{undoEnabled:Fe,redoEnabled:vt}};return{getBlobState:d,setBlobState:g,addBlobState:ee,getTempState:C,updateTempState:E,addTempState:ae,applyTempState:ve,destroyTempState:G,undo:Se,redo:Ne,getHistoryStates:Ce}},uF=function(t,r){var o=iF(t.currentState),s=function(Pt,_t){var Xt=_t.event.direction;St.zoom(Pt,Xt)},d=function(Pt){var _t=o.getHistoryStates();on.updateButtonUndoStates(Pt,_t.undoEnabled,_t.redoEnabled),Fn(Pt,gs.formActionEvent,{name:gs.saveState(),value:_t.undoEnabled})},g=function(Pt){on.updateButtonUndoStates(Pt,!1,!1)},C=function(Pt,_t){var Xt=o.undo();G(Pt,Xt).then(function(Cn){U(Pt),d(Pt)})},E=function(Pt,_t){var Xt=o.redo();G(Pt,Xt).then(function(Cn){U(Pt),d(Pt)})},O=function(Pt){return Pt.toBlob()},$=function(Pt){Fn(Pt,gs.formActionEvent,{name:gs.disable(),value:{}})},U=function(Pt){Dt.getApplyButton(Pt).each(function(_t){Nn.enable(_t)}),Fn(Pt,gs.formActionEvent,{name:gs.enable(),value:{}})},G=function(Pt,_t){return $(Pt),St.updateSrc(Pt,_t)},ee=function(Pt,_t,Xt,Cn,Ot){$(Pt),vz(_t).then(Xt).then(O).then(Cn).then(function(bn){return G(Pt,bn)}).then(function(){d(Pt),Ot(),U(Pt)}).catch(function(bn){console.log(bn),Pt.getSystem().isConnected()&&U(Pt)})},ae=function(Pt,_t,Xt){var Cn=o.getBlobState().blob,Ot=function(bn){return o.updateTempState(bn)};ee(Pt,Cn,_t,Ot,Xt)},ve=function(Pt,_t){var Xt=o.getTempState().blob,Cn=function(Ot){return o.addTempState(Ot)};ee(Pt,Xt,_t,Cn,q)},Se=function(Pt,_t,Xt){var Cn=o.getBlobState().blob,Ot=function(bn){var En=o.addBlobState(bn);return Ce(Pt),En};ee(Pt,Cn,_t,Ot,Xt)},Ne=function(Pt,_t){var Xt=function(){Ce(Pt);var Cn=_t.event.swap;Cn()};o.applyTempState(Xt)},Ce=function(Pt){var _t=o.getBlobState().url;return o.destroyTempState(),d(Pt),_t},Fe=function(Pt){var _t=Ce(Pt);G(Pt,_t).then(function(Xt){U(Pt)})},vt=function(Pt,_t){Fe(Pt);var Xt=_t.event.swap;Xt(),St.hideCrop()},ft=function(Pt,_t){return ae(Pt,_t.event.transform,q)},ze=function(Pt,_t){return ve(Pt,_t.event.transform)},nt=function(Pt,_t){return Se(Pt,_t.event.transform,_t.event.swap)},St=kB(t.currentState.url),on=EB(r),Dt=nF(St,r),ln=function(Pt,_t){g(Pt);var Xt=_t.event.transform,Cn=_t.event.swap;Xt.fold(function(){Cn()},function(Ot){ae(Pt,Ot,Cn)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Dt.memContainer.asSpec(),St.memContainer.asSpec(),on.container],behaviours:Jt([an.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),lr("image-tools-events",[Bt(Au.undo(),C),Bt(Au.redo(),E),Bt(Au.zoom(),s),Bt(Au.back(),vt),Bt(Au.apply(),Ne),Bt(Au.transform(),ft),Bt(Au.tempTransform(),ze),Bt(Au.transformApply(),nt),Bt(Au.swap(),ln)]),Cv.self()])}},sF=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},s=Ue(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:Jt([Cv.self(),ar.config({}),Pm.domHtml(B.none()),Vn.config({mode:"acyclic"})])}},NO=function(t){return!Pr(t,"items")},TB="data-value",OB=function(t,r,o,s){return Ue(o,function(d){return NO(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===s,onAction:function(){an.setValue(t,d.value),Fn(t,Ul,{name:r}),er.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:function(){return OB(t,r,d.items,s)}}})},DB=function(t,r){return Qr(t,function(o){return NO(o)?qs(o.value===r,o):DB(o.items,r)})},lF=function(t,r){var o=r.shared.providers,s=ir(t.items).filter(NO),d=t.label.map(function(E){return Rm(E,o)}),g=Zr.parts.field({dom:{},factory:{sketch:function(E){return C3({uid:E.uid,text:s.map(function(O){return O.text}),icon:B.none(),tooltip:t.label,role:B.none(),fetch:function(O,$){var U=OB(O,t.name,t.items,an.getValue(O));$(Py(U,uu.CLOSE_ON_EXECUTE,r,!1))},onSetup:ie(q),getApi:ie({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Oo.config({}),an.config({store:{mode:"manual",initialValue:s.map(function(O){return O.value}).getOr(""),getValue:function(O){return Va(O.element,TB)},setValue:function(O,$){DB(t.items,$).each(function(U){fr(O.element,TB,U.value),Fn(O,H1,{text:U.text})})}}})]},"tox-listbox",r.shared)}}}),C={dom:{tag:"div",classes:["tox-listboxfield"]},components:[g]};return Zr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ut([d.toArray(),[C]]),fieldBehaviours:Jt([Nn.config({disabled:ie(t.disabled),onDisabled:function(E){Zr.getField(E).each(Nn.disable)},onEnabled:function(E){Zr.getField(E).each(Nn.enable)}})])})},RB=function(t,r){return{dom:{tag:"div",classes:t.classes},components:Ue(t.items,r.shared.interpreter)}},$B=function(t,r){var o=Ue(t.options,function(d){return{dom:{tag:"option",value:d.value,innerHtml:d.text}}}),s=t.data.map(function(d){return jc("initialValue",d)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:ci(t.selectBehaviours,[er.config({}),an.config({store:ne({mode:"manual",getValue:function(d){return Jc(d.element)},setValue:function(d,g){var C=bt(t.options,function(E){return E.value===g});C.isSome()&&Nh(d.element,g)}},s)})])}},BB=Ls({name:"HtmlSelect",configFields:[At("options"),Xo("selectBehaviours",[er,an]),He("selectClasses",[]),He("selectAttributes",{}),Xr("data")],factory:$B}),cF=function(t,r){var o=Ue(t.items,function(E){return{text:r.translate(E.text),value:E.value}}),s=t.label.map(function(E){return Rm(E,r)}),d=Zr.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:BB,selectBehaviours:Jt([Nn.config({disabled:function(){return t.disabled||r.isDisabled()}}),Oo.config({}),lr("selectbox-change",[Bt(Th(),function(E,O){Fn(E,Ul,{name:t.name})})])])}),g=t.size>1?B.none():B.some(pv("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),C={dom:{tag:"div",classes:["tox-selectfield"]},components:ut([[d],g.toArray()])};return Zr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ut([s.toArray(),[C]]),fieldBehaviours:Jt([Nn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(E){Zr.getField(E).each(Nn.disable)},onEnabled:function(E){Zr.getField(E).each(Nn.enable)}}),ti()])})},MB=function(t,r){var o=function(E){return{dom:{tag:"th",innerHtml:r.translate(E)}}},s=function(E){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ue(E,o)}]}},d=function(E){return{dom:{tag:"td",innerHtml:r.translate(E)}}},g=function(E){return{dom:{tag:"tr"},components:Ue(E,d)}},C=function(E){return{dom:{tag:"tbody"},components:Ue(E,g)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(t.header),C(t.cells)],behaviours:Jt([Oo.config({}),er.config({})])}},PB=function(t,r){var o=t.label.map(function(ee){return Rm(ee,r)}),s=[Nn.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),Vn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(ee){return Wr(ee,cl),B.some(!0)}}),lr("textfield-change",[Bt(Ud(),function(ee,ae){Fn(ee,Ul,{name:t.name})}),Bt(C2(),function(ee,ae){Fn(ee,Ul,{name:t.name})})]),Oo.config({})],d=t.validation.map(function(ee){return yv.config({getRoot:function(ae){return xo(ae.element)},invalidClass:"tox-invalid",validator:{validate:function(ae){var ve=an.getValue(ae),Se=ee.validator(ve);return Yi.pure(Se===!0?mr.value(ve):mr.error(Se))},validateOnLoad:ee.validateOnLoad}})}).toArray(),g=t.placeholder.fold(ie({}),function(ee){return{placeholder:r.translate(ee)}}),C=t.inputMode.fold(ie({}),function(ee){return{inputmode:ee}}),E=ne(ne({},g),C),O=Zr.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:E,inputClasses:[t.classname],inputBehaviours:Jt(ut([s,d])),selectOnFocus:!1,factory:ZC}),$=t.flex?["tox-form__group--stretched"]:[],U=$.concat(t.maximized?["tox-form-group--maximize"]:[]),G=[Nn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(ee){Zr.getField(ee).each(Nn.disable)},onEnabled:function(ee){Zr.getField(ee).each(Nn.enable)}}),ti()];return XC(o,O,U,G)},fF=function(t,r){return PB({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:B.none(),maximized:t.maximized},r)},vF=function(t,r){return PB({name:t.name,multiline:!0,label:t.label,inputMode:B.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:B.none(),maximized:t.maximized},r)},dF=function(t,r){var o=t.stream.streams,s=o.setup(t,r);return _a([Bt(t.event,s),Ms(function(){return r.cancel()})].concat(t.cancelEvent.map(function(d){return[Bt(d,function(){return r.cancel()})]}).getOr([])))},mF=Object.freeze({__proto__:null,events:dF}),IB=function(t){var r=zn(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},s=function(g){r.set(g)},d=function(){var g=r.get();g!==null&&g.cancel()};return qi({readState:o,setTimer:s,cancel:d})},hF=function(t){return t.stream.streams.state(t)},gF=Object.freeze({__proto__:null,throttle:IB,init:hF}),pF=function(t,r){var o=t.stream,s=HE(t.onStream,o.delay);return r.setTimer(s),function(d,g){s.throttle(d,g),o.stopEvent&&g.stop()}},bF=[Iu("stream",el("mode",{throttle:[At("delay"),He("stopEvent",!0),ka("streams",{setup:pF,state:IB})]})),He("event","input"),Xr("cancelEvent"),wu("onStream")],NB=Ko({fields:bF,name:"streaming",active:mF,state:gF}),O3=function(t,r,o){var s=an.getValue(o);an.setValue(r,s),FB(r)},zB=function(t,r){var o=t.element,s=Jc(o),d=o.dom;Va(o,"type")!=="number"&&r(d,s)},FB=function(t){zB(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},LB=function(t,r){zB(t,function(o,s){return o.setSelectionRange(r,s.length)})},yF=function(t,r,o){if(t.selectsOver){var s=an.getValue(r),d=t.getDisplayText(s),g=an.getValue(o),C=t.getDisplayText(g);return C.indexOf(d)===0?B.some(function(){O3(t,r,o),LB(r,d.length)}):B.none()}else return B.none()},zO=ie("alloy.typeahead.itemexecute"),HB=function(t,r,o,s){var d=function(O,$,U){t.previewing.set(!1);var G=Do.getCoupled(O,"sandbox");if(Br.isOpen(G))Ar.getCurrent(G).each(function(ae){na.getHighlighted(ae).fold(function(){U(ae)},function(){oS(G,ae.element,"keydown",$)})});else{var ee=function(ae){Ar.getCurrent(ae).each(U)};Jk(t,C(O),O,G,s,ee,bf.HighlightFirst).get(q)}},g=Xk(t),C=function(O){return function($){return $.map(function(U){var G=Ci(U.menus),ee=jt(G,function(ve){return Ae(ve.items,function(Se){return Se.type==="item"})}),ae=an.getState(O);return ae.update(Ue(ee,function(ve){return ve.data})),U})}},E=[er.config({}),an.config({onSetValue:t.onSetValue,store:ne({mode:"dataset",getDataKey:function(O){return Jc(O.element)},getFallbackEntry:function(O){return{value:O,meta:{}}},setValue:function(O,$){Nh(O.element,t.model.getDisplayText($))}},t.initialData.map(function(O){return jc("initialValue",O)}).getOr({}))}),NB.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(O,$){var U=Do.getCoupled(O,"sandbox"),G=er.isFocused(O);if(G&&Jc(O.element).length>=t.minChars){var ee=Ar.getCurrent(U).bind(function(ve){return na.getHighlighted(ve).map(an.getValue)});t.previewing.set(!0);var ae=function(ve){Ar.getCurrent(U).each(function(Se){ee.fold(function(){t.model.selectsOver&&na.highlightFirst(Se)},function(Ne){na.highlightBy(Se,function(Ce){var Fe=an.getValue(Ce);return Fe.value===Ne.value}),na.getHighlighted(Se).orThunk(function(){return na.highlightFirst(Se),B.none()})})})};Jk(t,C(O),O,U,s,ae,bf.HighlightFirst).get(q)}},cancelEvent:_2()}),Vn.config({mode:"special",onDown:function(O,$){return d(O,$,na.highlightFirst),B.some(!0)},onEscape:function(O){var $=Do.getCoupled(O,"sandbox");return Br.isOpen($)?(Br.close($),B.some(!0)):B.none()},onUp:function(O,$){return d(O,$,na.highlightLast),B.some(!0)},onEnter:function(O){var $=Do.getCoupled(O,"sandbox"),U=Br.isOpen($);if(U&&!t.previewing.get())return Ar.getCurrent($).bind(function(ee){return na.getHighlighted(ee)}).map(function(ee){return Fn(O,zO(),{item:ee}),!0});var G=an.getValue(O);return Wr(O,_2()),t.onExecute($,O,G),U&&Br.close($),B.some(!0)}}),Nr.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Do.config({others:{sandbox:function(O){return VT(t,O,{onOpen:function(){return Nr.on(O)},onClose:function(){return Nr.off(O)}})}}}),lr("typeaheadevents",[cs(function(O){var $=q;Oy(t,C(O),O,s,$,bf.HighlightFirst).get(q)}),Bt(zO(),function(O,$){var U=Do.getCoupled(O,"sandbox");O3(t.model,O,$.event.item),Wr(O,_2()),t.onItemExecute(O,U,$.event.item,an.getValue(O)),Br.close(U),FB(O)})].concat(t.dismissOnBlur?[Bt(w2(),function(O){var $=Do.getCoupled(O,"sandbox");hc($.element).isNone()&&Br.close($)})]:[]))];return{uid:t.uid,dom:Yk(yt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:ne(ne({},g),ci(t.typeaheadBehaviours,E)),eventOrder:t.eventOrder}},wF=ie([Xr("lazySink"),At("fetch"),He("minChars",5),He("responseTime",1e3),Yr("onOpen"),He("getHotspot",B.some),He("getAnchorOverrides",ie({})),He("layouts",B.none()),He("eventOrder",{}),f2("model",{},[He("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),He("selectsOver",!0),He("populateFromBrowse",!0)]),Yr("onSetValue"),Go("onExecute"),Yr("onItemExecute"),He("inputClasses",[]),He("inputAttributes",{}),He("inputStyles",{}),He("matchWidth",!0),He("useMinWidth",!1),He("dismissOnBlur",!0),nm(["openClass"]),Xr("initialData"),Xo("typeaheadBehaviours",[er,an,NB,Vn,Nr,Do]),hu("previewing",function(){return zn(!0)})].concat(LR()).concat(UT())),CF=ie([Fs({schema:[tm()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(s){yF(t.model,s,o).fold(function(){return na.dehighlight(r,o)},function(d){return d()})}):r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&O3(t.model,s,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(s){return Fn(s,zO(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&O3(t.model,s,o)})}}}})]),_F=xu({name:"Typeahead",configFields:wF(),partFields:CF(),factory:HB}),Sf=function(t){var r=function(){return Sf(t.toCached())},o=function(O){return Sf(t.bind(function($){return $.fold(function(U){return Yi.pure(mr.error(U))},function(U){return O(U)})}))},s=function(O){return Sf(t.map(function($){return $.bind(O)}))},d=function(O){return Sf(t.map(function($){return $.map(O)}))},g=function(O){return Sf(t.map(function($){return $.mapError(O)}))},C=function(O,$){return t.map(function(U){return U.fold(O,$)})},E=function(O,$){return Sf(Yi.nu(function(U){var G=!1,ee=setTimeout(function(){G=!0,U(mr.error($()))},O);t.get(function(ae){G||(clearTimeout(ee),U(ae))})}))};return ne(ne({},t),{toCached:r,bindFuture:o,bindResult:s,mapResult:d,mapError:g,foldResult:C,withTimeout:E})},VB=function(t){return Sf(Yi.nu(t))},UB=function(t){return Sf(Yi.pure(mr.value(t)))},D3=function(t){return Sf(Yi.pure(mr.error(t)))},SF=function(t){return Sf(Yi.pure(t))},xF=function(t){return Sf(t.map(mr.value))},kF=function(t){return VB(function(r){t.then(function(o){r(mr.value(o))},function(o){r(mr.error(o))})})},AF={nu:VB,wrap:Sf,pure:UB,value:UB,error:D3,fromResult:SF,fromFuture:xF,fromPromise:kF},EF={type:"separator"},TF=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:q}},FO=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:q}},WB=function(t){return Ue(t,TF)},OF=function(t,r){return Ae(r,function(o){return o.type===t})},jB=function(t,r){return WB(OF(t,r))},DF=function(t){return jB("header",t.targets)},RF=function(t){return jB("anchor",t.targets)},$F=function(t){return B.from(t.anchorTop).map(function(r){return FO("<top>",r)}).toArray()},BF=function(t){return B.from(t.anchorBottom).map(function(r){return FO("<bottom>",r)}).toArray()},MF=function(t){return Ue(t,function(r){return FO(r,r)})},GB=function(t){return et(t,function(r,o){var s=r.length===0||o.length===0;return s?r.concat(o):r.concat(EF,o)},[])},LO=function(t,r){var o=t.toLowerCase();return Ae(r,function(s){var d=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return ma(d.toLowerCase(),o)||ma(s.value.toLowerCase(),o)})},PF=function(t,r,o){var s=an.getValue(r),d=s.meta.text!==void 0?s.meta.text:s.value,g=o.getLinkInformation();return g.fold(function(){return[]},function(C){var E=LO(d,MF(o.getHistory(t)));return t==="file"?GB([E,LO(d,DF(C)),LO(d,ut([$F(C),RF(C),BF(C)]))]):E})},qB=wn("aria-invalid"),IF=function(t,r,o){var s,d=r.shared.providers,g=function(Ce){var Fe=an.getValue(Ce);o.addToHistory(Fe.value,t.filetype)},C=Zr.parts.field({factory:_F,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":qB,type:"url"},minChars:0,responseTime:0,fetch:function(Ce){var Fe=PF(t.filetype,Ce,o),vt=Py(Fe,uu.BUBBLE_TO_SANDBOX,r,!1);return Yi.pure(vt)},getHotspot:function(Ce){return ae.getOpt(Ce)},onSetValue:function(Ce,Fe){Ce.hasConfigured(yv)&&yv.run(Ce).get(q)},typeaheadBehaviours:Jt(ut([o.getValidationHandler().map(function(Ce){return yv.config({getRoot:function(Fe){return xo(Fe.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Fe,vt){$.getOpt(Fe).each(function(ft){fr(ft.element,"title",d.translate(vt))})}},validator:{validate:function(Fe){var vt=an.getValue(Fe);return AF.nu(function(ft){Ce({type:t.filetype,url:vt.value},function(ze){if(ze.status==="invalid"){var nt=mr.error(ze.message);ft(nt)}else{var St=mr.value(ze.message);ft(St)}})})},validateOnLoad:!1}})}).toArray(),[Nn.config({disabled:function(){return t.disabled||d.isDisabled()}}),Oo.config({}),lr("urlinput-events",ut([t.filetype==="file"?[Bt(Ud(),function(Ce){Fn(Ce,Ul,{name:t.name})})]:[],[Bt(Th(),function(Ce){Fn(Ce,Ul,{name:t.name}),g(Ce)}),Bt(C2(),function(Ce){Fn(Ce,Ul,{name:t.name}),g(Ce)})]]))]])),eventOrder:(s={},s[Ud()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(Ce){return Ce.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:k1(!1,1,"normal")},onExecute:function(Ce,Fe,vt){Fn(Fe,cl,{})},onItemExecute:function(Ce,Fe,vt,ft){g(Ce),Fn(Ce,Ul,{name:t.name})}}),E=t.label.map(function(Ce){return Rm(Ce,d)}),O=function(Ce,Fe,vt,ft){return vt===void 0&&(vt=Ce),ft===void 0&&(ft=Ce),pv(vt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Ce],attributes:ne({title:d.translate(ft),"aria-live":"polite"},Fe.fold(function(){return{}},function(ze){return{id:ze}}))},d.icons)},$=oa(O("invalid",B.some(qB),"warning")),U=oa({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[$.asSpec()]}),G=o.getUrlPicker(t.filetype),ee=wn("browser.url.event"),ae=oa({dom:{tag:"div",classes:["tox-control-wrap"]},components:[C,U.asSpec()],behaviours:Jt([Nn.config({disabled:function(){return t.disabled||d.isDisabled()}})])}),ve=oa(RO({name:t.name,icon:B.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(Ce){return Wr(Ce,ee)},d,[],["tox-browse-url"])),Se=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ut([[ae.asSpec()],G.map(function(){return ve.asSpec()}).toArray()])}},Ne=function(Ce){Ar.getCurrent(Ce).each(function(Fe){var vt=an.getValue(Fe),ft=ne({fieldname:t.name},vt);G.each(function(ze){ze(ft).get(function(nt){an.setValue(Fe,nt),Fn(Ce,Ul,{name:t.name})})})})};return Zr.sketch({dom:II(),components:E.toArray().concat([Se()]),fieldBehaviours:Jt([Nn.config({disabled:function(){return t.disabled||d.isDisabled()},onDisabled:function(Ce){Zr.getField(Ce).each(Nn.disable),ve.getOpt(Ce).each(Nn.disable)},onEnabled:function(Ce){Zr.getField(Ce).each(Nn.enable),ve.getOpt(Ce).each(Nn.enable)}}),ti(),lr("url-input-events",[Bt(ee,Ne)])])})},NF=function(t,r){return ku.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:U5(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){Fn(o,bv,{name:"alert-banner",value:t.url})},buttonBehaviours:Jt([NE()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},zF=function(t,r){var o=an.config({store:{mode:"manual",getValue:function(O){var $=O.element.dom;return $.checked},setValue:function(O,$){var U=O.element.dom;U.checked=$}}}),s=function(O){return O.element.dom.click(),B.some(!0)},d=Zr.parts.field({factory:{sketch:he},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Jt([Cv.self(),Nn.config({disabled:function(){return t.disabled||r.isDisabled()}}),Oo.config({}),er.config({}),o,Vn.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),lr("checkbox-events",[Bt(Th(),function(O,$){Fn(O,Ul,{name:t.name})})])])}),g=Zr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:Jt([QC.config({})])}),C=function(O){var $=O==="checked"?"selected":"unselected";return pv($,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+O]},r.icons)},E=oa({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[C("checked"),C("unchecked")]});return Zr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,E.asSpec(),g],fieldBehaviours:Jt([Nn.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(O){Zr.getField(O).each(Nn.disable)},onEnabled:function(O){Zr.getField(O).each(Nn.enable)}}),ti()])})},KB=function(t){return t.presets==="presentation"?ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Jt([Oo.config({}),er.config({})])})},So=function(t){return function(r,o,s){return On(o,"name").fold(function(){return t(o,s)},function(d){return r.field(d,t(o,s))})}},R3=function(t){return function(r,o,s){var d=yt(o,{source:"dynamic"});return So(t)(r,d,s)}},FF={bar:So(function(t,r){return O1(t,r.shared)}),collection:So(function(t,r){return Kk(t,r.shared.providers)}),alertbanner:So(function(t,r){return NF(t,r.shared.providers)}),input:So(function(t,r){return fF(t,r.shared.providers)}),textarea:So(function(t,r){return vF(t,r.shared.providers)}),label:So(function(t,r){return sF(t,r.shared)}),iframe:R3(function(t,r){return G$(t,r.shared.providers)}),button:So(function(t,r){return Vz(t,r.shared.providers)}),checkbox:So(function(t,r){return zF(t,r.shared.providers)}),colorinput:So(function(t,r){return tN(t,r.shared,r.colorinput)}),colorpicker:So(XN),dropzone:So(function(t,r){return nz(t,r.shared.providers)}),grid:So(function(t,r){return W$(t,r.shared)}),listbox:So(function(t,r){return lF(t,r)}),selectbox:So(function(t,r){return cF(t,r.shared.providers)}),sizeinput:So(function(t,r){return yB(t,r.shared.providers)}),urlinput:So(function(t,r){return IF(t,r,r.urlinput)}),customeditor:So(ZN),htmlpanel:So(KB),imagetools:So(function(t,r){return uF(t,r.shared.providers)}),table:So(function(t,r){return MB(t,r.shared.providers)}),panel:So(function(t,r){return RB(t,r)})},LF={field:function(t,r){return r}},$3=function(t,r,o){var s=yt(o,{shared:{interpreter:function(d){return HO(t,d,s)}}});return HO(t,r,s)},HO=function(t,r,o){return On(FF,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(s){return s(t,r,o)})},HF=function(t,r){var o=LF;return HO(o,t,r)},B3={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},XB=function(t,r,o){var s=12,d={maxHeightFunction:Xh()},g=function(){return{type:"node",root:ec(t()),node:B.from(t()),bubble:lm(s,s,B3),layouts:{onRtl:function(){return[Pg]},onLtr:function(){return[Mg]}},overrides:d}},C=function(){return{type:"hotspot",hotspot:r(),bubble:lm(-s,s,B3),layouts:{onRtl:function(){return[Ki]},onLtr:function(){return[ei]}},overrides:d}};return function(){return o()?g():C()}},YB=function(t,r,o){var s=function(){return{type:"node",root:ec(t()),node:B.from(t()),layouts:{onRtl:function(){return[Sc]},onLtr:function(){return[Sc]}}}},d=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[No]},onLtr:function(){return[No]}}}};return function(){return o()?s():d()}},VF=function(t,r){return function(){return{type:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return B.some(Jh.range(sn.fromDom(o.startContainer),o.startOffset,sn.fromDom(o.endContainer),o.endOffset))}}}},UF=function(t){return function(r){return{type:"node",root:t(),node:r}}},WF=function(t,r,o){var s=Pk(t),d=function(){return sn.fromDom(t.getBody())},g=function(){return sn.fromDom(t.getContentAreaContainer())},C=function(){return s||!o()};return{inlineDialog:XB(g,r,C),banner:YB(g,r,C),cursor:VF(t,d),node:UF(d)}},jF=function(t){return function(r,o){var s=bR(t);s(r,o)}},GF=function(t){return function(){return fR(t)}},ZB=function(t){return function(){return xT(t)}},qF=function(t){return function(){return dR(t)}},JB=function(t){return{colorPicker:jF(t),hasCustomColors:GF(t),getColors:ZB(t),getColorCols:qF(t)}},KF=function(t){return function(){return MD(t)}},XF=function(t){return{isDraggableModal:KF(t)}},VO=function(t){var r=zn(OD(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},M3=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],b_=function(t){return Pr(t,"items")},YF=function(t){return Pr(t,"block")},ZF=function(t){return Pr(t,"inline")},JF=function(t){return Pr(t,"selector")},QB=function(t){return et(t,function(r,o){if(b_(o)){var s=QB(o.items);return{customFormats:r.customFormats.concat(s.customFormats),formats:r.formats.concat([{title:o.title,items:s.formats}])}}else if(ZF(o)||YF(o)||JF(o)){var d=_(o.name)?o.name:o.title.toLowerCase(),g="custom-"+d;return{customFormats:r.customFormats.concat([{name:g,format:o}]),formats:r.formats.concat([{title:o.title,format:g,icon:o.icon}])}}else return ne(ne({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},QF=function(t,r){var o=QB(r),s=function(d){pt(d,function(g){t.formatter.has(g.name)||t.formatter.register(g.name,g.format)})};return t.formatter?s(o.customFormats):t.on("init",function(){s(o.customFormats)}),o.formats},UO=function(t){return uP(t).map(function(r){var o=QF(t,r);return sP(t)?M3.concat(o):o}).getOr(M3)},WO=function(t,r,o){var s={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return yt(t,s)},jO=function(t,r,o,s){var d=function(O){return WO(O,o,s)},g=function(O){var $={type:"submenu"};return yt(O,$)},C=function(O){var $=_(O.name)?O.name:wn(O.title),U="custom-"+$,G={type:"formatter",format:U,isSelected:o(U),getStylePreview:s(U)},ee=yt(O,G);return t.formatter.register($,ee),ee},E=function(O){return Ue(O,function($){var U=Hr($);if(co($,"items")){var G=E($.items);return yt(g($),{getStyleItems:ie(G)})}else return co($,"format")?d($):U.length===1&&ct(U,"title")?yt($,{type:"separator"}):C($)})};return E(r)},eL=function(t){var r=function(G){return function(){return t.formatter.match(G)}},o=function(G){return function(){var ee=t.formatter.get(G);return ee!==void 0?B.some({tag:ee.length>0&&(ee[0].inline||ee[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(G))}):B.none()}},s=function(G){var ee=G.items;return ee!==void 0&&ee.length>0?jt(ee,s):[G.format]},d=zn([]),g=zn([]),C=zn([]),E=zn([]),O=zn(!1);t.on("PreInit",function(G){var ee=UO(t),ae=jO(t,ee,r,o);d.set(ae),g.set(jt(ae,s))}),t.on("addStyleModifications",function(G){var ee=jO(t,G.items,r,o);C.set(ee),O.set(G.replace),E.set(jt(ee,s))});var $=function(){var G=O.get()?[]:d.get(),ee=C.get();return G.concat(ee)},U=function(){var G=O.get()?[]:g.get(),ee=E.get();return G.concat(ee)};return{getData:$,getFlattenedKeys:U}},tL=function(t){return H(t)&&t.nodeType===1},nL=Kg.trim,eM=function(t){return function(r){return!!(tL(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},rL=eM("true"),tM=eM("false"),nM=function(t,r,o,s,d){return{type:t,title:r,url:o,level:s,attach:d}},aL=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return rL(t)}return!1},oL=function(t,r){return Ue(au(sn.fromDom(r),t),function(o){return o.dom})},rM=function(t){return t.innerText||t.textContent},aM=function(t){return t.id?t.id:wn("h")},V1=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},oM=function(t){return V1(t)&&uM(t)},iM=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},uM=function(t){return aL(t)&&!tM(t)},iL=function(t){return iM(t)&&uM(t)},sM=function(t){return iM(t)?parseInt(t.nodeName.substr(1),10):0},uL=function(t){var r=aM(t),o=function(){t.id=r};return nM("header",rM(t),"#"+r,sM(t),o)},sL=function(t){var r=t.id||t.name,o=rM(t);return nM("anchor",o||"#"+r,"#"+r,0,q)},lL=function(t){return Ue(Ae(t,iL),uL)},cL=function(t){return Ue(Ae(t,oM),sL)},fL=function(t){var r=oL("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},vL=function(t){return nL(t.title).length>0},dL=function(t){var r=fL(t);return Ae(lL(r).concat(cL(r)),vL)},mL={find:dL},P3="tinymce-url-history",lM=5,GO=function(t){return _(t)&&/^https?/.test(t)},hL=function(t){return T(t)&&t.length<=lM&&$t(t,GO)},cM=function(t){return x(t)&&Zu(t,function(r){return!hL(r)}).isNone()},fM=function(){var t=Vk.getItem(P3);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+P3+" was not valid JSON",o),{};throw o}return cM(r)?r:(console.log("Local storage "+P3+" was not valid format",r),{})},gL=function(t){if(!cM(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Vk.setItem(P3,JSON.stringify(t))},pL=function(t){var r=fM();return On(r,t).getOr([])},qO=function(t,r){if(GO(t)){var o=fM(),s=On(o,r).getOr([]),d=Ae(s,function(g){return g!==t});o[r]=[t].concat(d).slice(0,lM),gL(o)}},I3=function(t){return!!t},bL=function(t){return dr(Kg.makeMap(t,/[, ]/),I3)},KO=function(t){return B.from(hP(t)).filter(I)},yL=function(t){var r=B.some(gP(t)).filter(I3),o=B.some(gT(t)).filter(I3),s=r.or(o).map(bL);return KO(t).fold(se,function(d){return s.fold(Ee,function(g){return Hr(g).length>0?g:!1})})},wL=function(t,r){var o=yL(t);return M(o)?o?KO(t):B.none():o[r]?KO(t):B.none()},CL=function(t,r){return wL(t,r).map(function(o){return function(s){return Yi.nu(function(d){var g=function(E,O){if(!_(E))throw new Error("Expected value to be string");if(O!==void 0&&!x(O))throw new Error("Expected meta to be a object");var $={value:E,meta:O};d($)},C=ne({filetype:r,fieldname:s.fieldname},B.from(s.meta).getOr({}));o.call(t,g,s.value,C)})}})},vM=function(t){return B.from(t).filter(_).getOrUndefined()},_L=function(t){return PD(t)?B.none():B.some({targets:mL.find(t.getBody()),anchorTop:vM(ID(t)),anchorBottom:vM(pP(t))})},SL=function(t){return B.from(ND(t))},xL=function(t){return{getHistory:pL,addToHistory:qO,getLinkInformation:function(){return _L(t)},getValidationHandler:function(){return SL(t)},getUrlPicker:function(r){return CL(t,r)}}},N3=function(t,r,o){var s=zn(!1),d=VO(r),g={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:gf.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(C){return HF(C,g)},anchors:WF(r,o,d.isPositionedAtTop),header:d,getSink:function(){return mr.value(t)}},urlinput:xL(r),styleselect:eL(r),colorinput:JB(r),dialog:XF(r),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(C){return s.set(C)}};return g},kL=function(t,r,o){var s=function(ft,ze){pt([r,o],function(nt){nt.broadcastEvent(ft,ze)})},d=function(ft,ze){pt([r,o],function(nt){nt.broadcastOn([ft],ze)})},g=function(ft){return d(hm(),{target:ft.target})},C=Vp(),E=Co(C,"touchstart",g),O=Co(C,"touchmove",function(ft){return s(kb(),ft)}),$=Co(C,"touchend",function(ft){return s(NA(),ft)}),U=Co(C,"mousedown",g),G=Co(C,"mouseup",function(ft){ft.raw.button===0&&d(Ew(),{target:ft.target})}),ee=function(ft){return d(hm(),{target:sn.fromDom(ft.target)})},ae=function(ft){ft.button===0&&d(Ew(),{target:sn.fromDom(ft.target)})},ve=function(){pt(t.editorManager.get(),function(ft){t!==ft&&ft.fire("DismissPopups",{relatedTarget:t})})},Se=function(ft){return s(S2(),sm(ft))},Ne=function(ft){d(vg(),{}),s($s(),sm(ft))},Ce=function(){return d(vg(),{})},Fe=function(ft){ft.state&&d(hm(),{target:sn.fromDom(t.getContainer())})},vt=function(ft){d(hm(),{target:sn.fromDom(ft.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",ee),t.on("tap",ee),t.on("mouseup",ae),t.on("mousedown",ve),t.on("ScrollWindow",Se),t.on("ResizeWindow",Ne),t.on("ResizeEditor",Ce),t.on("AfterProgressState",Fe),t.on("DismissPopups",vt)}),t.on("remove",function(){t.off("click",ee),t.off("tap",ee),t.off("mouseup",ae),t.off("mousedown",ve),t.off("ScrollWindow",Se),t.off("ResizeWindow",Ne),t.off("ResizeEditor",Ce),t.off("AfterProgressState",Fe),t.off("DismissPopups",vt),U.unbind(),E.unbind(),O.unbind(),$.unbind(),G.unbind()}),t.on("detach",function(){ou(r),ou(o),r.destroy(),o.destroy()})},Ws=Gn,Xg=L0,U1=ie([He("shell",!1),At("makeItem"),He("setupItem",q),il.field("listBehaviours",[ar])]),AL=function(){return{behaviours:Jt([ar.config({})])}},XO=ul({name:"items",overrides:AL}),z3=ie([XO]),EL=ie("CustomList"),TL=function(t,r,o,s){var d=function(E,O){C(E).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function($){var U=ar.contents($),G=O.length,ee=G-U.length,ae=ee>0?te(ee,function(){return t.makeItem()}):[],ve=U.slice(G);pt(ve,function(Ne){return ar.remove($,Ne)}),pt(ae,function(Ne){return ar.append($,Ne)});var Se=ar.contents($);pt(Se,function(Ne,Ce){t.setupItem(E,Ne,O[Ce],Ce)})})},g=t.shell?{behaviours:[ar.config({})],components:[]}:{behaviours:[],components:r},C=function(E){return t.shell?B.some(E):pa(E,t,"items")};return{uid:t.uid,dom:t.dom,components:g.components,behaviours:ci(t.listBehaviours,g.behaviours),apis:{setItems:d}}},dM=xu({name:EL(),configFields:U1(),partFields:z3(),factory:TL,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),Ny=ie([At("dom"),He("shell",!0),Xo("toolbarBehaviours",[ar])]),OL=function(){return{behaviours:Jt([ar.config({})])}},W1=ie([ul({name:"groups",overrides:OL})]),mM=function(t,r,o,s){var d=function(E,O){g(E).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function($){ar.set($,O)})},g=function(E){return t.shell?B.some(E):pa(E,t,"groups")},C=t.shell?{behaviours:[ar.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:C.components,behaviours:ci(t.toolbarBehaviours,C.behaviours),apis:{setGroups:d},domModification:{attributes:{role:"group"}}}},_v=xu({name:"Toolbar",configFields:Ny(),partFields:W1(),factory:mM,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),DL=q,RL=se,hM=ie([]),$L=Object.freeze({__proto__:null,setup:DL,isDocked:RL,getBehaviours:hM}),gM=function(t){var r=lu(Ao(t,"position"),"fixed"),o=r?B.none():Ff(t);return o.orThunk(function(){var s=sn.fromTag("span");return xo(t).bind(function(d){Vi(d,s);var g=Ff(s);return Bu(s),g})})},F3=function(t){return gM(t).map(vu).getOrThunk(function(){return ya(0,0)})},j1=Ds.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),L3=function(t,r){var o=t.element;Wo(o,r.transitionClass),Io(o,r.fadeOutClass),Wo(o,r.fadeInClass),r.onShow(t)},H3=function(t,r){var o=t.element;Wo(o,r.transitionClass),Io(o,r.fadeInClass),Wo(o,r.fadeOutClass),r.onHide(t)},G1=function(t,r){return t.y<r.bottom&&t.bottom>r.y},V3=function(t,r){return t.y>=r.y},BL=function(t,r){return t.bottom<=r.bottom},YO=function(t,r,o){return $t(t,function(s){switch(s){case"bottom":return BL(r,o);case"top":return V3(r,o)}})},ZO=function(t,r){return r.getInitialPos().map(function(o){return Vo(o.bounds.x,o.bounds.y,Hi(t),Mo(t))})},pM=function(t,r,o){o.setInitialPos({style:Lf(t),position:ao(t,"position")||"static",bounds:r})},bM=function(t,r,o){return o.getInitialPos().bind(function(s){switch(o.clearInitialPos(),s.position){case"static":return B.some(j1.static());case"absolute":var d=gM(t).map(Eo).getOrThunk(function(){return Eo(Li())});return B.some(j1.absolute(ru("absolute",On(s.style,"left").map(function(g){return r.x-d.x}),On(s.style,"top").map(function(g){return r.y-d.y}),On(s.style,"right").map(function(g){return d.right-r.right}),On(s.style,"bottom").map(function(g){return d.bottom-r.bottom}))));default:return B.none()}})},yM=function(t,r,o){return ZO(t,o).filter(function(s){return YO(o.getModes(),s,r)}).bind(function(s){return bM(t,s,o)})},ML=function(t,r,o){var s=Eo(t);if(YO(o.getModes(),s,r))return B.none();pM(t,s,o);var d=xi(),g=s.x-d.x,C=r.y-d.y,E=d.bottom-r.bottom,O=s.y<=r.y;return B.some(j1.fixed(ru("fixed",B.some(g),O?B.some(C):B.none(),B.none(),O?B.none():B.some(E))))},PL=function(t,r,o){var s=t.element,d=lu(Ao(s,"position"),"fixed");return d?yM(s,r,o):ML(s,r,o)},IL=function(t,r){var o=t.element;return ZO(o,r).bind(function(s){return bM(o,s,r)})},U3=function(t,r,o){o.setDocked(!1),pt(["left","right","top","bottom","position"],function(s){return Kr(t.element,s)}),r.onUndocked(t)},y_=function(t,r,o,s){var d=s.position==="fixed";o.setDocked(d),ad(t.element,s);var g=d?r.onDocked:r.onUndocked;g(t)},wM=function(t,r,o,s,d){d===void 0&&(d=!1),r.contextual.each(function(g){g.lazyContext(t).each(function(C){var E=G1(C,s);if(E!==o.isVisible())if(o.setVisible(E),d&&!E)Jd(t.element,[g.fadeOutClass]),g.onHide(t);else{var O=E?L3:H3;O(t,g)}})})},CM=function(t,r,o){var s=r.lazyViewport(t),d=o.isDocked();d&&wM(t,r,o,s),PL(t,s,o).each(function(g){g.fold(function(){return U3(t,r,o)},function(C){return y_(t,r,o,C)},function(C){wM(t,r,o,s,!0),y_(t,r,o,C)})})},NL=function(t,r,o){var s=t.element;o.setDocked(!1),IL(t,o).each(function(d){d.fold(function(){return U3(t,r,o)},function(g){return y_(t,r,o,g)},q)}),o.setVisible(!0),r.contextual.each(function(d){Ns(s,[d.fadeInClass,d.fadeOutClass,d.transitionClass]),d.onShow(t)}),W3(t,r,o)},W3=function(t,r,o){t.getSystem().isConnected()&&CM(t,r,o)},_M=function(t,r,o){o.isDocked()&&NL(t,r,o)},zL=function(t,r,o){return o.isDocked()},q1=function(t,r,o,s){return o.setModes(s)},SM=function(t,r,o){return o.getModes()},FL=Object.freeze({__proto__:null,refresh:W3,reset:_M,isDocked:zL,getModes:SM,setModes:q1}),xM=function(t,r){return _a([To(Dh(),function(o,s){t.contextual.each(function(d){if(bu(o.element,d.transitionClass)){Ns(o.element,[d.transitionClass,d.fadeInClass]);var g=r.isVisible()?d.onShown:d.onHidden;g(o)}s.stop()})}),Bt(S2(),function(o,s){W3(o,t,r)}),Bt($s(),function(o,s){_M(o,t,r)})])},LL=Object.freeze({__proto__:null,events:xM}),j3=[ss("contextual",[Qn("fadeInClass"),Qn("fadeOutClass"),Qn("transitionClass"),tu("lazyContext"),Yr("onShow"),Yr("onShown"),Yr("onHide"),Yr("onHidden")]),Ta("lazyViewport",xi),Jf("modes",["top","bottom"],wo),Yr("onDocked"),Yr("onUndocked")],xf=function(t){var r=zn(!1),o=zn(!0),s=ho(),d=zn(t.modes),g=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+d.get().join(",")};return qi({isDocked:r.get,setDocked:r.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:o.get,setVisible:o.set,getModes:d.get,setModes:d.set,readState:g})},HL=Object.freeze({__proto__:null,init:xf}),Ro=Ko({fields:j3,name:"docking",active:LL,apis:FL,state:HL}),JO=ie(wn("toolbar-height-change")),Td={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},QO="tox-tinymce--toolbar-sticky-on",w_="tox-tinymce--toolbar-sticky-off",Yg=function(t,r){var o=Zo(r),s=o.dom.defaultView.innerHeight,d=os(o),g=sn.fromDom(t.elm),C=Vc(g),E=Mo(g),O=C.y,$=O+E,U=vu(r),G=Mo(r),ee=U.top,ae=ee+G,ve=Math.abs(ee-d.top)<2,Se=Math.abs(ae-(d.top+s))<2;if(ve&&O<ae)hh(d.left,O-G,o);else if(Se&&$>ee){var Ne=O-s+E+G;hh(d.left,Ne,o)}},Wu=function(t,r){return ct(Ro.getModes(t),r)},e5=function(t){var r=function(s){return as(s)+(parseInt(ao(s,"margin-top"),10)||0)+(parseInt(ao(s,"margin-bottom"),10)||0)},o=t.element;xo(o).each(function(s){var d="padding-"+Ro.getModes(t)[0];if(Ro.isDocked(t)){var g=Hi(s);Xn(o,"width",g+"px"),Xn(s,d,r(o)+"px")}else Kr(o,"width"),Kr(s,d)})},t5=function(t,r){r?(Io(t,Td.fadeOutClass),Jd(t,[Td.transitionClass,Td.fadeInClass])):(Io(t,Td.fadeInClass),Jd(t,[Td.fadeOutClass,Td.transitionClass]))},n5=function(t,r){var o=sn.fromDom(t.getContainer());r?(Wo(o,QO),Io(o,w_)):(Wo(o,w_),Io(o,QO))},kM=function(t,r){var o=Zo(r);Su(o).filter(function(s){return!Sa(r,s)}).filter(function(s){return Sa(s,sn.fromDom(o.dom.body))||kl(t,s)}).each(function(){return mc(r)})},VL=function(t,r){return hc(t).orThunk(function(){return r().toOptional().bind(function(o){return hc(o.element)})})},UL=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(Ro.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(e5)}),t.on("SkinLoaded",function(){o().each(function(s){Ro.isDocked(s)?Ro.reset(s):Ro.refresh(s)})}),t.on("FullscreenStateChanged",function(){o().each(Ro.reset)})),t.on("AfterScrollIntoView",function(s){o().each(function(d){Ro.refresh(d);var g=d.element;Mx(g)&&Yg(s,g)})}),t.on("PostRender",function(){n5(t,!1)})},Zg=function(t){return t().map(Ro.isDocked).getOr(!1)},AM=function(){var t;return[nu.config({channels:(t={},t[JO()]={onReceive:e5},t)})]},K1=function(t,r){var o=ho(),s=r.getSink,d=function(E){s().each(function(O){return E(O.element)})},g=function(E){t.inline||e5(E),n5(t,Ro.isDocked(E)),E.getSystem().broadcastOn([vg()],{}),s().each(function(O){return O.getSystem().broadcastOn([vg()],{})})},C=t.inline?[]:AM();return ke([er.config({}),Ro.config({contextual:ne({lazyContext:function(E){var O=as(E.element),$=t.inline?t.getContentAreaContainer():t.getContainer(),U=Eo(sn.fromDom($)),G=U.height-O,ee=U.y+(Wu(E,"top")?0:O);return B.some(Vo(U.x,ee,U.width,G))},onShow:function(){d(function(E){return t5(E,!0)})},onShown:function(E){d(function(O){return Ns(O,[Td.transitionClass,Td.fadeInClass])}),o.get().each(function(O){kM(E.element,O),o.clear()})},onHide:function(E){VL(E.element,s).fold(o.clear,o.set),d(function(O){return t5(O,!1)})},onHidden:function(){d(function(E){return Ns(E,[Td.transitionClass])})}},Td),lazyViewport:function(E){var O=xi(),$=Nk(t),U=O.y+(Wu(E,"top")?$:0),G=O.height-(Wu(E,"bottom")?$:0);return Vo(O.x,U,O.width,G)},modes:[r.header.getDockingMode()],onDocked:g,onUndocked:g})],C,!0)},G3=Object.freeze({__proto__:null,setup:UL,isDocked:Zg,getBehaviours:K1}),EM=function(t){var r=t.editor,o=t.sticky?K1:hM;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Jt(o(r,t.sharedBackstage))}},WL=Mn([Qn("type"),Iu("items",xp([c2([Qn("name"),ji("items",wo)]),wo]))].concat($C)),jL=function(t){return Za("GroupToolbarButton",WL,t)},GL=[Ea("text"),Ea("tooltip"),Ea("icon"),tu("fetch"),Ta("onSetup",function(){return q})],qL=Mn(ke([Qn("type")],GL,!0)),X1=function(t){return Za("menubutton",qL,t)},KL=Mn([Qn("type"),Ea("tooltip"),Ea("icon"),Ea("text"),Lv("select"),tu("fetch"),Ta("onSetup",function(){return q}),Os("presets","normal",["normal","color","listpreview"]),He("columns",1),tu("onAction"),tu("onItemAction")]),XL=function(t){return Za("SplitButton",KL,t)},YL=function(t,r){var o=function(d,g){var C=Ue(g,function(E){var O={type:"menubutton",text:E.text,fetch:function(U){U(E.getItems())}},$=X1(O).mapError(function(U){return Fv(U)}).getOrDie();return TO($,"tox-mbtn",r.backstage,B.some("menuitem"))});ar.set(d,C)},s={focus:Vn.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:Jt([ar.config({}),lr("menubar-events",[sr(function(d){t.onSetup(d)}),Bt(ev(),function(d,g){jo(d.element,".tox-mbtn--active").each(function(C){al(g.event.target,".tox-mbtn").each(function(E){Sa(C,E)||d.getSystem().getByDom(C).each(function(O){d.getSystem().getByDom(E).each(function($){yf.expand($),yf.close(O),er.focus($)})})})})}),Bt(Ab(),function(d,g){g.event.prevFocus.bind(function(C){return d.getSystem().getByDom(C).toOptional()}).each(function(C){g.event.newFocus.bind(function(E){return d.getSystem().getByDom(E).toOptional()}).each(function(E){yf.isOpen(C)&&(yf.expand(E),yf.close(C))})})})]),Vn.config({mode:"flow",selector:".tox-mbtn",onEscape:function(d){return t.onEscape(d),B.some(!0)}}),Oo.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},r5=Ls({factory:YL,name:"silver.Menubar",configFields:[At("dom"),At("uid"),At("onEscape"),At("backstage"),He("onSetup",q)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),C_=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},Sv=function(t){return t.dimension.property},zy=function(t,r){return t.dimension.getDimension(r)},q3=function(t,r){var o=C_(t,r);Ns(o,[r.shrinkingClass,r.growingClass])},__=function(t,r){Io(t.element,r.openClass),Wo(t.element,r.closedClass),Xn(t.element,Sv(r),"0px"),Pa(t.element)},a5=function(t,r){Io(t.element,r.closedClass),Wo(t.element,r.openClass),Kr(t.element,Sv(r))},S_=function(t,r,o,s){o.setCollapsed(),Xn(t.element,Sv(r),zy(r,t.element)),Pa(t.element),q3(t,r),__(t,r),r.onStartShrink(t),r.onShrunk(t)},K3=function(t,r,o,s){var d=s.getOrThunk(function(){return zy(r,t.element)});o.setCollapsed(),Xn(t.element,Sv(r),d),Pa(t.element);var g=C_(t,r);Io(g,r.growingClass),Wo(g,r.shrinkingClass),__(t,r),r.onStartShrink(t)},Jg=function(t,r,o){var s=zy(r,t.element),d=s==="0px"?S_:K3;d(t,r,o,B.some(s))},TM=function(t,r,o){var s=C_(t,r),d=bu(s,r.shrinkingClass),g=zy(r,t.element);a5(t,r);var C=zy(r,t.element),E=function(){Xn(t.element,Sv(r),g),Pa(t.element)},O=function(){__(t,r)},$=d?E:O;$(),Io(s,r.shrinkingClass),Wo(s,r.growingClass),a5(t,r),Xn(t.element,Sv(r),C),o.setExpanded(),r.onStartGrow(t)},ZL=function(t,r,o){if(o.isExpanded()){Kr(t.element,Sv(r));var s=zy(r,t.element);Xn(t.element,Sv(r),s)}},o5=function(t,r,o){o.isExpanded()||TM(t,r,o)},JL=function(t,r,o){o.isExpanded()&&Jg(t,r,o)},X3=function(t,r,o){o.isExpanded()&&S_(t,r,o)},OM=function(t,r,o){return o.isExpanded()},QL=function(t,r,o){return o.isCollapsed()},DM=function(t,r,o){var s=C_(t,r);return bu(s,r.growingClass)===!0},Fy=function(t,r,o){var s=C_(t,r);return bu(s,r.shrinkingClass)===!0},i5=function(t,r,o){return DM(t,r)||Fy(t,r)},e7=function(t,r,o){var s=o.isExpanded()?Jg:TM;s(t,r,o)},t7=Object.freeze({__proto__:null,refresh:ZL,grow:o5,shrink:JL,immediateShrink:X3,hasGrown:OM,hasShrunk:QL,isGrowing:DM,isShrinking:Fy,isTransitioning:i5,toggleGrow:e7,disableTransitions:q3}),RM=function(t,r,o){var s=r.expanded;return Pl(s?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:jc(r.dimension.property,"0px")})},n7=function(t,r){return _a([To(Dh(),function(o,s){var d=s.event.raw;if(d.propertyName===t.dimension.property){q3(o,t),r.isExpanded()&&Kr(o.element,t.dimension.property);var g=r.isExpanded()?t.onGrown:t.onShrunk;g(o)}})])},r7=Object.freeze({__proto__:null,exhibit:RM,events:n7}),e=[At("closedClass"),At("openClass"),At("shrinkingClass"),At("growingClass"),Xr("getAnimationRoot"),Yr("onShrunk"),Yr("onStartShrink"),Yr("onGrown"),Yr("onStartGrow"),He("expanded",!1),Iu("dimension",el("property",{width:[ka("property","width"),ka("getDimension",function(t){return Hi(t)+"px"})],height:[ka("property","height"),ka("getDimension",function(t){return Mo(t)+"px"})]}))],n=function(t){var r=zn(t.expanded),o=function(){return"expanded: "+r.get()};return qi({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:ye(r.set,!1),setExpanded:ye(r.set,!0),readState:o})},a=Object.freeze({__proto__:null,init:n}),i=Ko({fields:e,name:"sliding",active:r7,apis:t7,state:a}),l="container",v=[Xo("slotBehaviours",[])],p=function(t){return"<alloy.field."+t+">"},S=function(t){var r=function(){var g=[],C=function(E,O){return g.push(E),Uw(l,p(E),O)};return{slot:C,record:ie(g)}}(),o=t(r),s=r.record(),d=Ue(s,function(g){return Mi({name:g,pname:p(g)})});return Kw(l,v,d,A,o)},A=function(t,r){var o=function(Se){return dx(t)},s=function(Se,Ne){return pa(Se,t,Ne)},d=function(Se,Ne){return function(Ce,Fe){return pa(Ce,t,Fe).map(function(vt){return Se(vt,Fe)}).getOr(Ne)}},g=function(Se){return function(Ne,Ce){pt(Ce,function(Fe){return Se(Ne,Fe)})}},C=function(Se,Ne){return Va(Se.element,"aria-hidden")!=="true"},E=function(Se,Ne){if(!C(Se)){var Ce=Se.element;Kr(Ce,"display"),ii(Ce,"aria-hidden"),Fn(Se,tv(),{name:Ne,visible:!0})}},O=function(Se,Ne){if(C(Se)){var Ce=Se.element;Xn(Ce,"display","none"),fr(Ce,"aria-hidden","true"),Fn(Se,tv(),{name:Ne,visible:!1})}},$=d(C,!1),U=d(O),G=g(U),ee=function(Se){return G(Se,o())},ae=d(E),ve={getSlotNames:o,getSlot:s,isShowing:$,hideSlot:U,hideAllSlots:ee,showSlot:ae};return{uid:t.uid,dom:t.dom,components:r,behaviours:gg(t.slotBehaviours),apis:ve}},F=dr({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return Ja(t)}),X=ne(ne({},F),{sketch:S}),Z=Mn([Ea("icon"),Ea("tooltip"),Ta("onShow",q),Ta("onHide",q),Ta("onSetup",function(){return q})]),Q=function(t){return Za("sidebar",Z,t)},fe=function(t){var r=t.ui.registry.getAll().sidebars;pt(Hr(r),function(o){var s=r[o],d=function(){return lu(B.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:s.icon,tooltip:s.tooltip,onAction:function(g){t.execCommand("ToggleSidebar",!1,o),g.setActive(d())},onSetup:function(g){var C=function(){return g.setActive(d())};return t.on("ToggleSidebar",C),function(){t.off("ToggleSidebar",C)}}})})},de=function(t){return{element:function(){return t.element.dom}}},ge=function(t,r){var o=Ue(Hr(r),function(s){var d=r[s],g=Ol(Q(d));return{name:s,getApi:de,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return Ue(o,function(s){var d=zn(q);return t.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Ok.unnamedEvents([E1(s,d),T1(s,d),Bt(tv(),function(g,C){var E=C.event,O=bt(o,function($){return $.name===E.name});O.each(function($){var U=E.visible?$.onShow:$.onHide;U($.getApi(g))})})])})})},pe=function(t){return X.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:ge(r,t),slotBehaviours:Ok.unnamedEvents([sr(function(o){return X.hideAllSlots(o)})])}})},Oe=function(t,r){var o=Ar.getCurrent(t);o.each(function(s){return ar.set(s,[pe(r)])})},xe=function(t,r){var o=Ar.getCurrent(t);o.each(function(s){var d=Ar.getCurrent(s);d.each(function(g){i.hasGrown(s)?X.isShowing(g,r)?i.shrink(s):(X.hideAllSlots(g),X.showSlot(g,r)):(X.hideAllSlots(g),X.showSlot(g,r),i.grow(s))})})},Ye=function(t){var r=Ar.getCurrent(t);return r.bind(function(o){var s=i.isGrowing(o)||i.hasGrown(o);if(s){var d=Ar.getCurrent(o);return d.bind(function(g){return bt(X.getSlotNames(g),function(C){return X.isShowing(g,C)})})}else return B.none()})},je=wn("FixSizeEvent"),Re=wn("AutoSizeEvent"),Qe=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Jt([Oo.config({}),er.config({}),i.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=Ar.getCurrent(r);o.each(X.hideAllSlots),Wr(r,Re)},onGrown:function(r){Wr(r,Re)},onStartGrow:function(r){Fn(r,je,{width:Ao(r.element,"width").getOr("")})},onStartShrink:function(r){Fn(r,je,{width:Hi(r.element)+"px"})}}),ar.config({}),Ar.config({find:function(r){var o=ar.contents(r);return ir(o)}})])}],behaviours:Jt([Cv.childAt(0),lr("sidebar-sliding-events",[Bt(je,function(r,o){Xn(r.element,"width",o.event.width)}),Bt(Re,function(r,o){Kr(r.element,"width")})])])}},xt=function(t,r,o,s){fr(t.element,"aria-busy",!0);var d=r.getRoot(t).getOr(t),g=Jt([Vn.config({mode:"special",onTab:function(){return B.some(!0)},onShiftTab:function(){return B.some(!0)}}),er.config({})]),C=s(d,g),E=d.getSystem().build(C);ar.append(d,zs(E)),E.hasConfigured(Vn)&&r.focus&&Vn.focusIn(E),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return ar.remove(d,E)})},Lt=function(t,r,o){ii(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},jn=Object.freeze({__proto__:null,block:xt,unblock:Lt}),mn=[Ta("getRoot",B.none),Ca("focus",!0),Yr("onBlock"),Yr("onUnblock")],Mt=function(){var t=tw(),r=function(o){t.set({destroy:o})};return qi({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},Un=Object.freeze({__proto__:null,init:Mt}),Ut=Ko({fields:mn,name:"blocking",apis:jn,state:Un}),vn=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return et(r,function(o,s){var d;return s.name==="class"?o:ne(ne({},o),(d={},d[s.name]=s.value,d))},{})},Gt=function(t){return Array.prototype.slice.call(t.dom.classList,0)},Qt=function(t){var r=sn.fromHtml(t),o=Ge(r),s=vn(r),d=Gt(r),g=o.length===0?{}:{innerHtml:Kc(r)};return ne({tag:Qu(r),classes:d,attributes:s},g)},yn=function(t){return function(r,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Qt('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},It=function(t){return Ar.getCurrent(t).each(function(r){return mc(r.element)})},hn=function(t,r){var o="tabindex",s="data-mce-"+o;B.from(t.iframeElement).map(sn.fromDom).each(function(d){r?(Ya(d,o).each(function(g){return fr(d,s,g)}),fr(d,o,-1)):(ii(d,o),Ya(d,s).each(function(g){fr(d,o,g),ii(d,s)}))})},Tr=function(t,r,o,s){var d=r.element;if(hn(t,o),o)Ut.block(r,yn(s)),Kr(d,"display"),ii(d,"aria-hidden"),t.hasFocus()&&It(r);else{var g=Ar.getCurrent(r).exists(function(C){return Wp(C.element)});Ut.unblock(r),Xn(d,"display","none"),fr(d,"aria-hidden","true"),g&&t.focus()}},ra=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Jt([ar.config({}),Ut.config({focus:!1}),Ar.config({find:function(r){return ir(r.components())}})]),components:[]}},Jr=function(t){return t.type==="focusin"},Ii=function(t){if(Jr(t)){var r=t.composed?ir(t.composedPath()):B.from(t.target);return r.map(sn.fromDom).filter(bo).exists(function(o){return bu(o,"mce-pastebin")})}else return!1},so=function(t,r,o){var s=zn(!1),d=ho(),g=function(E){s.get()&&!Ii(E)&&(E.preventDefault(),It(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",g),t.on("BeforeExecCommand",function(E){E.command.toLowerCase()==="mcefocus"&&E.value!==!0&&g(E)})});var C=function(E){E!==s.get()&&(s.set(E),Tr(t,r(),E,o.providers),t.fire("AfterProgressState",{state:E}))};t.on("ProgressState",function(E){if(d.on(Fg.clearTimeout),V(E.time)){var O=Fg.setEditorTimeout(t,function(){return C(E.state)},E.time);d.set(O)}else C(E.state),d.clear()})},ju=function(t,r){var o={len:0,list:[]},s=et(t,function(d,g){var C=r(g,d.len);return C.fold(ie(d),function(E){return{len:E.finish,list:d.list.concat([E])}})},o);return s.list},ps=function(t,r,o){return{within:t,extra:r,withinWidth:o}},Nt=function(t,r,o){var s=ju(t,function(E,O){var $=o(E);return B.some({element:E,start:O,finish:O+$,width:$})}),d=Ae(s,function(E){return E.finish<=r}),g=Je(d,function(E,O){return E+O.width},0),C=s.slice(d.length);return{within:d,extra:C,withinWidth:g}},Kt=function(t){return Ue(t,function(r){return r.element})},$n=function(t,r,o){var s=Kt(t.concat(r));return ps(s,[],o)},tt=function(t,r,o,s){var d=Kt(t).concat([o]);return ps(d,Kt(r),s)},Vt=function(t,r,o){return ps(Kt(t),[],o)},zt=function(t,r,o){var s=Nt(r,t,o);return s.extra.length===0?B.some(s):B.none()},Pn=function(t,r,o,s){var d=zt(t,r,o).getOrThunk(function(){return Nt(r,t-o(s),o)}),g=d.within,C=d.extra,E=d.withinWidth;return C.length===1&&C[0].width<=o(s)?$n(g,C,E):C.length>=1?tt(g,C,s,E):Vt(g,C,E)},Ln=function(t,r){var o=Ue(r,function(s){return zs(s)});_v.setGroups(t,o)},Aa=function(t){return Qr(t,function(r){return hc(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},ni=function(t,r,o){var s=r.builtGroups.get();if(s.length!==0){var d=ff(t,r,"primary"),g=Do.getCoupled(t,"overflowGroup");Xn(d.element,"visibility","hidden");var C=s.concat([g]),E=Aa(C);o([]),Ln(d,C);var O=Hi(d.element),$=Pn(O,r.builtGroups.get(),function(U){return Hi(U.element)},g);$.extra.length===0?(ar.remove(d,g),o([])):(Ln(d,$.within),o($.extra)),Kr(d.element,"visibility"),Pa(d.element),E.each(er.focus)}},Yo=ie([Xo("splitToolbarBehaviours",[Do]),hu("builtGroups",function(){return zn([])})]),Nm=ie([nm(["overflowToggledClass"]),Lv("getOverflowBounds"),At("lazySink"),hu("overflowGroups",function(){return zn([])})].concat(Yo())),Gu=ie([Mi({factory:_v,schema:Ny(),name:"primary"}),Fs({schema:Ny(),name:"overflow"}),Fs({name:"overflow-button"}),Fs({name:"overflow-group"})]),Eu=ie(function(t,r){Si(t,Math.floor(r))}),hi=ie([nm(["toggledClass"]),At("lazySink"),tu("fetch"),Lv("getBounds"),ss("fireDismissalEventInstead",[He("event",Bl())]),od()]),jl=ie([Fs({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Jt([Nr.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Fs({factory:_v,schema:Ny(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Jt([Vn.config({mode:"cyclic",onEscape:function(r){return pa(r,t,"button").each(er.focus),B.none()}})])}}})]),qu=function(t,r){var o=Do.getCoupled(t,"toolbarSandbox");Br.isOpen(o)?Br.close(o):Br.open(o,r.toolbar())},kf=function(t,r,o,s){var d=o.getBounds.map(function(C){return C()}),g=o.lazySink(t).getOrDie();go.positionWithinBounds(g,r,{anchor:{type:"hotspot",hotspot:t,layouts:s,overrides:{maxWidthFunction:Eu()}}},d)},Oa=function(t,r,o,s,d){_v.setGroups(r,d),kf(t,r,o,s),Nr.on(t)},ja=function(t,r,o){var s=Qd(),d=function(C,E){o.fetch().get(function(O){Oa(t,E,o,r.layouts,O),s.link(t.element),Vn.focusIn(E)})},g=function(){Nr.off(t),er.focus(t),s.unlink(t.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:Jt([Vn.config({mode:"special",onEscape:function(C){return Br.close(C),B.some(!0)}}),Br.config({onOpen:d,onClose:g,isPartOf:function(C,E,O){return em(E,O)||em(t,O)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),nu.config({channels:ne(ne({},Vu(ne({isExtraPart:se},o.fireDismissalEventInstead.map(function(C){return{fireEventInstead:{event:C.event}}}).getOr({})))),gm({doReposition:function(){Br.getState(Do.getCoupled(t,"toolbarSandbox")).each(function(C){kf(t,C,o,r.layouts)})}}))})])}},gi=function(t,r,o,s){return ne(ne({},ms.sketch(ne(ne({},s.button()),{action:function(d){qu(d,s)},buttonBehaviours:il.augment({dump:s.button().buttonBehaviours},[Do.config({others:{toolbarSandbox:function(d){return ja(d,o,t)}}})])}))),{apis:{setGroups:function(d,g){Br.getState(Do.getCoupled(d,"toolbarSandbox")).each(function(C){Oa(d,C,t,o.layouts,g)})},reposition:function(d){Br.getState(Do.getCoupled(d,"toolbarSandbox")).each(function(g){kf(d,g,t,o.layouts)})},toggle:function(d){qu(d,s)},getToolbar:function(d){return Br.getState(Do.getCoupled(d,"toolbarSandbox"))},isOpen:function(d){return Br.isOpen(Do.getCoupled(d,"toolbarSandbox"))}}})},bs=xu({name:"FloatingToolbarButton",factory:gi,configFields:hi(),partFields:jl(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),xv=ie([At("items"),nm(["itemSelector"]),Xo("tgroupBehaviours",[Vn])]),kv=ie([cf({name:"items",unit:"item"})]),Qg=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.tgroupBehaviours,[Vn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},Ly=xu({name:"ToolbarGroup",configFields:xv(),partFields:kv(),factory:Qg}),Y3=function(t){return Ue(t,function(r){return zs(r)})},$M=function(t,r,o){ni(t,o,function(s){o.overflowGroups.set(s),r.getOpt(t).each(function(d){bs.setGroups(d,Y3(s))})})},BM=function(t,r,o,s){var d=oa(bs.sketch({fetch:function(){return Yi.nu(function(g){g(Y3(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[ei,Ki]},onRtl:function(){return[Ki,ei]},onBottomLtr:function(){return[_u,Cu]},onBottomRtl:function(){return[Cu,_u]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.splitToolbarBehaviours,[Do.config({others:{overflowGroup:function(){return Ly.sketch(ne(ne({},s["overflow-group"]()),{items:[d.asSpec()]}))}}})]),apis:{setGroups:function(g,C){t.builtGroups.set(Ue(C,g.getSystem().build)),$M(g,d,t)},refresh:function(g){return $M(g,d,t)},toggle:function(g){d.getOpt(g).each(function(C){bs.toggle(C)})},isOpen:function(g){return d.getOpt(g).map(bs.isOpen).getOr(!1)},reposition:function(g){d.getOpt(g).each(function(C){bs.reposition(C)})},getOverflow:function(g){return d.getOpt(g).bind(bs.getToolbar)}},domModification:{attributes:{role:"group"}}}},u5=xu({name:"SplitFloatingToolbar",configFields:Nm(),partFields:Gu(),factory:BM,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),a7=ie([nm(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Yr("onOpened"),Yr("onClosed")].concat(Yo())),MM=ie([Mi({factory:_v,schema:Ny(),name:"primary"}),Mi({factory:_v,schema:Ny(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Jt([i.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){pa(r,t,"overflow-button").each(function(o){Nr.off(o),er.focus(o)}),t.onClosed(r)},onGrown:function(r){Vn.focusIn(r),t.onOpened(r)},onStartGrow:function(r){pa(r,t,"overflow-button").each(Nr.on)}}),Vn.config({mode:"acyclic",onEscape:function(r){return pa(r,t,"overflow-button").each(er.focus),B.some(!0)}})])}}}),Fs({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Jt([Nr.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Fs({name:"overflow-group"})]),o7=function(t,r){return pa(t,r,"overflow").map(i.hasGrown).getOr(!1)},PM=function(t,r){pa(t,r,"overflow-button").bind(function(){return pa(t,r,"overflow")}).each(function(o){s5(t,r),i.toggleGrow(o)})},s5=function(t,r){pa(t,r,"overflow").each(function(o){ni(t,r,function(s){var d=Ue(s,function(g){return zs(g)});_v.setGroups(o,d)}),pa(t,r,"overflow-button").each(function(s){i.hasGrown(o)&&Nr.on(s)}),i.refresh(o)})},i7=function(t,r,o,s){var d="alloy.toolbar.toggle",g=function(C,E){var O=Ue(E,C.getSystem().build);t.builtGroups.set(O)};return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.splitToolbarBehaviours,[Do.config({others:{overflowGroup:function(C){return Ly.sketch(ne(ne({},s["overflow-group"]()),{items:[ms.sketch(ne(ne({},s["overflow-button"]()),{action:function(E){Wr(C,d)}}))]}))}}}),lr("toolbar-toggle-events",[Bt(d,function(C){PM(C,t)})])]),apis:{setGroups:function(C,E){g(C,E),s5(C,t)},refresh:function(C){return s5(C,t)},toggle:function(C){return PM(C,t)},isOpen:function(C){return o7(C,t)}},domModification:{attributes:{role:"group"}}}},zm=xu({name:"SplitSlidingToolbar",configFields:a7(),partFields:MM(),factory:i7,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),l5=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:ne({tag:"div",classes:["tox-toolbar__group"]},r),components:[Ly.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Jt([Oo.config({}),er.config({})])}},Pe=function(t){return Ly.sketch(l5(t))},lt=function(t,r){var o=sr(function(s){var d=Ue(t.initGroups,Pe);_v.setGroups(s,d)});return Jt([pf.toolbarButton(t.providers.isDisabled),ti(),Vn.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),lr("toolbar-events",[o])])},Wt=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":l5({title:B.none(),items:[]}),"overflow-button":pB({name:"more",icon:B.some("more-drawer"),disabled:!1,tooltip:B.some("More..."),primary:!1,borderless:!1},B.none(),t.providers)},splitToolbarBehaviours:lt(t,r)}},nn=function(t){var r=Wt(t),o=4,s=u5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return u5.sketch(ne(ne({},r),{lazySink:t.getSink,getOverflowBounds:function(){var d=t.moreDrawerData.lazyHeader().element,g=Vc(d),C=Ct(d),E=Vc(C),O=Math.max(C.dom.scrollHeight,E.height);return Vo(g.x+o,E.y,g.width-o*2,O)},parts:ne(ne({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},wr=function(t){var r=zm.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=zm.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=Wt(t);return zm.sketch(ne(ne({},s),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(d){d.getSystem().broadcastOn([JO()],{type:"opened"})},onClosed:function(d){d.getSystem().broadcastOn([JO()],{type:"closed"})}}))},Gr=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return _v.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Vl.scrolling?["tox-toolbar--scrolling"]:[])},components:[_v.parts.groups({})],toolbarBehaviours:lt(t,r)})},Qa=function(t,r,o){var s={getSocket:function(d){return Ws.getPart(d,t,"socket")},setSidebar:function(d,g){Ws.getPart(d,t,"sidebar").each(function(C){return Oe(C,g)})},toggleSidebar:function(d,g){Ws.getPart(d,t,"sidebar").each(function(C){return xe(C,g)})},whichSidebar:function(d){return Ws.getPart(d,t,"sidebar").bind(Ye).getOrNull()},getHeader:function(d){return Ws.getPart(d,t,"header")},getToolbar:function(d){return Ws.getPart(d,t,"toolbar")},setToolbar:function(d,g){Ws.getPart(d,t,"toolbar").each(function(C){C.getApis().setGroups(C,g)})},setToolbars:function(d,g){Ws.getPart(d,t,"multiple-toolbar").each(function(C){dM.setItems(C,g)})},refreshToolbar:function(d){var g=Ws.getPart(d,t,"toolbar");g.each(function(C){return C.getApis().refresh(C)})},toggleToolbarDrawer:function(d){Ws.getPart(d,t,"toolbar").each(function(g){Rf(g.getApis().toggle,function(C){return C(g)})})},isToolbarDrawerToggled:function(d){return Ws.getPart(d,t,"toolbar").bind(function(g){return B.from(g.getApis().isOpen).map(function(C){return C(g)})}).getOr(!1)},getThrobber:function(d){return Ws.getPart(d,t,"throbber")},focusToolbar:function(d){var g=Ws.getPart(d,t,"toolbar").orThunk(function(){return Ws.getPart(d,t,"multiple-toolbar")});g.each(function(C){Vn.focusIn(C)})},setMenubar:function(d,g){Ws.getPart(d,t,"menubar").each(function(C){r5.setMenus(C,g)})},focusMenubar:function(d){Ws.getPart(d,t,"menubar").each(function(g){r5.focus(g)})}};return{uid:t.uid,dom:t.dom,components:r,apis:s,behaviours:t.behaviours}},ep=Xg.optional({factory:r5,name:"menubar",schema:[At("backstage")]}),_G=function(t){return t.type===Vl.sliding?wr:t.type===Vl.floating?nn:Gr},SG=Xg.optional({factory:{sketch:function(t){return dM.sketch({uid:t.uid,dom:t.dom,listBehaviours:Jt([Vn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return Gr({type:t.type,uid:wn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),B.some(!0)}})},setupItem:function(r,o,s,d){_v.setGroups(o,s)},shell:!0})}},name:"multiple-toolbar",schema:[At("dom"),At("onEscape")]}),xG=Xg.optional({factory:{sketch:function(t){var r=_G(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),B.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[At("dom"),At("onEscape"),At("getSink")]}),kG=Xg.optional({factory:{sketch:EM},name:"header",schema:[At("dom")]}),AG=Xg.optional({name:"socket",schema:[At("dom")]}),EG=Xg.optional({factory:{sketch:Qe},name:"sidebar",schema:[At("dom")]}),TG=Xg.optional({factory:{sketch:ra},name:"throbber",schema:[At("dom")]}),zo=xu({name:"OuterContainer",factory:Qa,configFields:[At("dom"),At("behaviours")],partFields:[kG,ep,xG,SG,AG,EG,TG],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var s=Ue(o,function(d){return Pe(d)});t.setToolbar(r,s)},setToolbars:function(t,r,o){var s=Ue(o,function(d){return Ue(d,Pe)});t.setToolbars(r,s)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),OG="file edit view insert format tools table help",m9={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},DG=function(t,r,o){var s=AD(o).split(/[ ,]/);return{text:t.title,getItems:function(){return jt(t.items,function(d){var g=d.toLowerCase();return g.trim().length===0?[]:_n(s,function(C){return C===g})?[]:g==="separator"||g==="|"?[{type:"separator"}]:r.menuItems[g]?[r.menuItems[g]]:[]})}}},u7=function(t){return typeof t=="string"?t.split(" "):t},h9=function(t,r){var o=ne(ne({},m9),r.menus),s=Hr(r.menus).length>0,d=r.menubar===void 0||r.menubar===!0?u7(OG):u7(r.menubar===!1?"":r.menubar),g=Ae(d,function(E){var O=Pr(m9,E);return s?O||On(r.menus,E).exists(function($){return Pr($,"items")}):O}),C=Ue(g,function(E){var O=o[E];return DG({title:O.title,items:u7(O.items)},r,t)});return Ae(C,function(E){var O=function($){return $.type!=="separator"};return E.getItems().length>0&&_n(E.getItems(),O)})},g9=function(t){var r=function(){t._skinLoaded=!0,HP(t)};return function(){t.initialized?r():t.on("init",r)}},RG=function(t,r){return function(){return aR(t,{message:r})}},p9=function(t,r,o){return new RC(function(s,d){o.load(r,s,d),t.on("remove",function(){return o.unload(r)})})},$G=function(t,r){var o=r+"/skin.min.css";return p9(t,o,t.ui.styleSheetLoader)},BG=function(t,r){var o=fb(sn.fromDom(t.getElement()));if(o){var s=r+"/skin.shadowdom.min.css";return p9(t,s,xy.DOM.styleSheetLoader)}else return RC.resolve()},b9=function(t,r){var o=aP(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),iP(r)===!1&&_(o)?RC.all([$G(r,o),BG(r,o)]).then(g9(r),RG(r,"Skin could not be loaded")):g9(r)()},MG=ye(b9,!1),PG=ye(b9,!0),IM=function(t,r){return function(o){var s=qh(),d=function(){o.setActive(t.formatter.match(r));var g=t.formatter.formatChanged(r,o.setActive);s.set(g)};return t.initialized?d():t.once("init",d),function(){t.off("init",d),s.clear()}}},NM=function(t,r,o){return function(s){var d=function(){return o(s)},g=function(){o(s),t.on(r,d)};return t.initialized?g():t.once("init",g),function(){t.off("init",g),t.off(r,d)}}},y9=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},Av=function(t,r){return function(){return t.execCommand(r)}},IG=function(t,r,o){var s=function(E,O,$,U){var G=r.shared.providers.translate(E.title);if(E.type==="separator")return B.some({type:"separator",text:G});if(E.type==="submenu"){var ee=jt(E.getStyleItems(),function(ae){return d(ae,O,U)});return O===0&&ee.length<=0?B.none():B.some({type:"nestedmenuitem",text:G,disabled:ee.length<=0,getSubmenuItems:function(){return jt(E.getStyleItems(),function(ae){return d(ae,O,U)})}})}else return B.some(ne({type:"togglemenuitem",text:G,icon:E.icon,active:E.isSelected(U),disabled:$,onAction:o.onAction(E)},E.getStylePreview().fold(function(){return{}},function(ae){return{meta:{style:ae}}})))},d=function(E,O,$){var U=E.type==="formatter"&&o.isInvalid(E);return O===0?U?[]:s(E,O,!1,$).toArray():s(E,O,U,$).toArray()},g=function(E){var O=o.getCurrentValue(),$=o.shouldHide?0:1;return jt(E,function(U){return d(U,$,O)})},C=function(E,O){return function($,U){var G=O(),ee=g(G),ae=Py(ee,uu.CLOSE_ON_EXECUTE,E,!1);U(ae)}};return{validateItems:g,getFetch:C}},Z3=function(t,r,o){var s=o.dataset,d=s.type==="basic"?function(){return Ue(s.data,function(g){return WO(g,o.isSelectedFor,o.getPreviewFor)})}:s.getData;return{items:IG(t,r,o),getStyleItems:d}},c5=function(t,r,o){var s=Z3(t,r,o),d=s.items,g=s.getStyleItems,C=function(O){return{getComponent:ie(O)}},E=NM(t,"NodeChange",function(O){var $=O.getComponent();o.updateText($)});return C3({text:o.icon.isSome()?B.none():o.text,icon:o.icon,tooltip:B.from(o.tooltip),role:B.none(),fetch:d.getFetch(r,g),onSetup:E,getApi:C,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},NG=function(t){return Ue(t,function(r){var o=r,s=r,d=r.split("=");return d.length>1&&(o=d[0],s=d[1]),{title:o,format:s}})},zG=function(t){return{type:"basic",data:t}},J3;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(J3||(J3={}));var FG=function(t,r){return r===J3.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},s7=function(t,r,o,s){var d=t.getParam(r,o,"string"),g=NG(FG(d,s));return{type:"basic",data:g}},l7=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],w9=function(t){var r=function(){return bt(l7,function(E){return t.formatter.match(E.format)})},o=function(E){return function(){return t.formatter.match(E)}},s=function(E){return B.none},d=function(E){var O=r(),$=O.fold(ie("left"),function(U){return U.title.toLowerCase()});Fn(E,mB,{icon:"align-"+$})},g=zG(l7),C=function(E){return function(){return bt(l7,function(O){return O.format===E.format}).each(function(O){return t.execCommand(O.command)})}};return{tooltip:"Align",text:B.none(),icon:B.some("align-left"),isSelectedFor:o,getCurrentValue:B.none,getPreviewFor:s,onAction:C,updateText:d,dataset:g,shouldHide:!1,isInvalid:function(E){return!t.formatter.canApply(E.format)}}},LG=function(t,r){return c5(t,r,w9(t))},HG=function(t,r){var o=Z3(t,r,w9(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},VG="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",UG=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],C9=function(t){var r=t.split(/\s*,\s*/);return Ue(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},WG=function(t){var r=function(){var o=C9(t.toLowerCase());return $t(UG,function(s){return o.indexOf(s.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},_9=function(t){var r="System Font",o=function(){var $=function(ve){return ve?C9(ve)[0]:""},U=t.queryCommandValue("FontName"),G=O.data,ee=U?U.toLowerCase():"",ae=bt(G,function(ve){var Se=ve.format;return Se.toLowerCase()===ee||$(Se).toLowerCase()===$(ee).toLowerCase()}).orThunk(function(){return qs(WG(ee),{title:r,format:ee})});return{matchOpt:ae,font:U}},s=function($){return function(U){return U.exists(function(G){return G.format===$})}},d=function(){var $=o().matchOpt;return $},g=function($){return function(){return B.some({tag:"div",styles:$.indexOf("dings")===-1?{"font-family":$}:{}})}},C=function($){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,$.format)})}},E=function($){var U=o(),G=U.matchOpt,ee=U.font,ae=G.fold(ie(ee),function(ve){return ve.title});Fn($,H1,{text:ae})},O=s7(t,"font_formats",VG,J3.SemiColon);return{tooltip:"Fonts",text:B.some(r),icon:B.none(),isSelectedFor:s,getCurrentValue:d,getPreviewFor:g,onAction:C,updateText:E,dataset:O,shouldHide:!1,isInvalid:se}},jG=function(t,r){return c5(t,r,_9(t))},GG=function(t,r){var o=Z3(t,r,_9(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},qG="8pt 10pt 12pt 14pt 18pt 24pt 36pt",KG={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},XG={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},YG=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},ZG=function(t,r){return/[0-9.]+px$/.test(t)?YG(parseInt(t,10)*72/96,r||0)+"pt":On(XG,t).getOr(t)},JG=function(t){return On(KG,t).getOr("")},S9=function(t){var r=function(){var O=B.none(),$=E.data,U=t.queryCommandValue("FontSize");if(U)for(var G=function(ae){var ve=ZG(U,ae),Se=JG(ve);O=bt($,function(Ne){return Ne.format===U||Ne.format===ve||Ne.format===Se})},ee=3;O.isNone()&&ee>=0;ee--)G(ee);return{matchOpt:O,size:U}},o=function(O){return function($){return $.exists(function(U){return U.format===O})}},s=function(){var O=r().matchOpt;return O},d=ie(B.none),g=function(O){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,O.format)})}},C=function(O){var $=r(),U=$.matchOpt,G=$.size,ee=U.fold(ie(G),function(ae){return ae.title});Fn(O,H1,{text:ee})},E=s7(t,"fontsize_formats",qG,J3.Space);return{tooltip:"Font sizes",text:B.some("12pt"),icon:B.none(),isSelectedFor:o,getPreviewFor:d,getCurrentValue:s,onAction:g,updateText:C,dataset:E,shouldHide:!1,isInvalid:se}},QG=function(t,r){return c5(t,r,S9(t))},eq=function(t,r){var o=Z3(t,r,S9(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},x9=function(t,r){var o=r(),s=Ue(o,function(d){return d.format});return B.from(t.formatter.closest(s)).bind(function(d){return bt(o,function(g){return g.format===d})}).orThunk(function(){return qs(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},tq="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",k9=function(t){var r="Paragraph",o=function(C){return function(){return t.formatter.match(C)}},s=function(C){return function(){var E=t.formatter.get(C);return B.some({tag:E.length>0&&(E[0].inline||E[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))})}},d=function(C){var E=x9(t,function(){return g.data}),O=E.fold(ie(r),function($){return $.title});Fn(C,H1,{text:O})},g=s7(t,"block_formats",tq,J3.SemiColon);return{tooltip:"Blocks",text:B.some(r),icon:B.none(),isSelectedFor:o,getCurrentValue:B.none,getPreviewFor:s,onAction:y9(t),updateText:d,dataset:g,shouldHide:!1,isInvalid:function(C){return!t.formatter.canApply(C.format)}}},nq=function(t,r){return c5(t,r,k9(t))},rq=function(t,r){var o=Z3(t,r,k9(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},A9=function(t,r){var o="Paragraph",s=function(C){return function(){return t.formatter.match(C)}},d=function(C){return function(){var E=t.formatter.get(C);return E!==void 0?B.some({tag:E.length>0&&(E[0].inline||E[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))}):B.none()}},g=function(C){var E=function(G){var ee=G.items;return ee!==void 0&&ee.length>0?jt(ee,E):[{title:G.title,format:G.format}]},O=jt(UO(t),E),$=x9(t,ie(O)),U=$.fold(ie(o),function(G){return G.title});Fn(C,H1,{text:U})};return{tooltip:"Formats",text:B.some(o),icon:B.none(),isSelectedFor:s,getCurrentValue:B.none,getPreviewFor:d,onAction:y9(t),updateText:g,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(C){return!t.formatter.canApply(C.format)},dataset:r}},aq=function(t,r){var o=ne({type:"advanced"},r.styleselect);return c5(t,r,A9(t,o))},oq=function(t,r){var o=ne({type:"advanced"},r.styleselect),s=Z3(t,r,A9(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},iq=function(t,r){var o=function(s,d){t.updateState.each(function(g){var C=g(s,d);r.set(C)}),t.renderComponents.each(function(g){var C=g(d,r.get()),E=Ue(C,s.getSystem().build);kw(s,E)})};return _a([Bt(nl(),function(s,d){var g=d;if(!g.universal){var C=t.channel;ct(g.channels,C)&&o(s,g.data)}}),sr(function(s,d){t.initialData.each(function(g){o(s,g)})})])},uq=Object.freeze({__proto__:null,events:iq}),sq=function(t,r,o){return o},lq=Object.freeze({__proto__:null,getState:sq}),cq=[At("channel"),Xr("renderComponents"),Xr("updateState"),Xr("initialData")],fq=function(){var t=zn(B.none()),r=function(){return t.set(B.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:r}},vq=Object.freeze({__proto__:null,init:fq}),Ec=Ko({fields:cq,name:"reflecting",active:uq,apis:lq,state:vq}),dq=ie([At("toggleClass"),At("fetch"),wu("onExecute"),He("getHotspot",B.some),He("getAnchorOverrides",ie({})),od(),wu("onItemExecute"),Xr("lazySink"),At("dom"),Yr("onOpen"),Xo("splitDropdownBehaviours",[Do,Vn,er]),He("matchWidth",!1),He("useMinWidth",!1),He("eventOrder",{}),Xr("role")].concat(UT())),mq=Mi({factory:ms,schema:[At("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Jt([er.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(Bs)},buttonBehaviours:Jt([Nr.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),hq=Mi({factory:ms,schema:[At("dom")],name:"button",defaults:function(){return{buttonBehaviours:Jt([er.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),gq=ie([mq,hq,ul({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[At("text")],name:"aria-descriptor"}),Fs({schema:[tm()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(s){t.onItemExecute(s,r,o)})}}}}),qR()]),pq=function(t,r,o,s){var d,g=function(G){Ar.getCurrent(G).each(function(ee){na.highlightFirst(ee),Vn.focusIn(ee)})},C=function(G){var ee=g;Oy(t,he,G,s,ee,bf.HighlightFirst).get(q)},E=function(G){return C(G),B.some(!0)},O=function(G){var ee=ff(G,t,"button");return Bs(ee),B.some(!0)},$=ne(ne({},_a([sr(function(G,ee){var ae=pa(G,t,"aria-descriptor");ae.each(function(ve){var Se=wn("aria");fr(ve.element,"id",Se),fr(G.element,"aria-describedby",Se)})})])),hy(B.some(C))),U={repositionMenus:function(G){Nr.isOn(G)&&Ug(G)}};return{uid:t.uid,dom:t.dom,components:r,apis:U,eventOrder:ne(ne({},t.eventOrder),(d={},d[Rs()]=["disabling","toggling","alloy.base.behaviour"],d)),events:$,behaviours:ci(t.splitDropdownBehaviours,[Do.config({others:{sandbox:function(G){var ee=ff(G,t,"arrow"),ae={onOpen:function(){Nr.on(ee),Nr.on(G)},onClose:function(){Nr.off(ee),Nr.off(G)}};return VT(t,G,ae)}}}),Vn.config({mode:"special",onSpace:O,onEnter:O,onDown:E}),er.config({}),Nr.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},zM=xu({name:"SplitDropdown",configFields:dq(),partFields:gq(),factory:pq,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),bq=function(t){return{isDisabled:function(){return Nn.isDisabled(t)},setDisabled:function(r){return Nn.set(t,r)}}},yq=function(t){return{setActive:function(r){Nr.set(t,r)},isActive:function(){return Nr.isOn(t)},isDisabled:function(){return Nn.isDisabled(t)},setDisabled:function(r){return Nn.set(t,r)}}},E9=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},T9=wn("focus-button"),c7=function(t,r,o,s,d,g){var C;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:E9(o,g)},components:Tm([t.map(function(E){return w3(E,g.icons)}),r.map(function(E){return kO(E,"tox-tbtn",g)})]),eventOrder:(C={},C[$l()]=["focusing","alloy.base.behaviour","common-button-display-events"],C),buttonBehaviours:Jt([pf.toolbarButton(g.isDisabled),ti(),lr("common-button-display-events",[Bt($l(),function(E,O){O.event.prevent(),Wr(E,T9)})])].concat(s.map(function(E){return Ec.config({channel:E,initialData:{icon:t,text:r},renderComponents:function(O,$){return Tm([O.icon.map(function(U){return w3(U,g.icons)}),O.text.map(function(U){return kO(U,"tox-tbtn",g)})])}})}).toArray()).concat(d.getOr([])))}},wq=function(t,r,o,s){var d=r.shared;return bs.sketch({lazySink:d.getSink,fetch:function(){return Yi.nu(function(g){g(Ue(o(t.items),Pe))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:c7(t.icon,t.text,t.tooltip,B.none(),B.none(),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},O9=function(t,r,o){var s=zn(q),d=c7(t.icon,t.text,t.tooltip,B.none(),B.none(),o);return ms.sketch({dom:d.dom,components:d.components,eventOrder:dB,buttonBehaviours:Jt([lr("toolbar-button-events",[vB({onAction:t.onAction,getApi:r.getApi}),E1(r,s),T1(r,s)]),pf.toolbarButton(function(){return t.disabled||o.isDisabled()}),ti()].concat(r.toolbarButtonBehaviours))})},Cq=function(t,r){return D9(t,r,[])},D9=function(t,r,o){return O9(t,{toolbarButtonBehaviours:[].concat(o.length>0?[lr("toolbarButtonWith",o)]:[]),getApi:bq,onSetup:t.onSetup},r)},_q=function(t,r){return R9(t,r,[])},R9=function(t,r,o){return yt(O9(t,{toolbarButtonBehaviours:[ar.config({}),Nr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[lr("toolbarToggleButtonWith",o)]:[]),getApi:yq,onSetup:t.onSetup},r))},Sq=function(t,r,o){return function(s){return Yi.nu(function(d){return r.fetch(d)}).map(function(d){return B.from(ER(yt(DT(wn("menu-value"),d,function(g){r.onItemAction(t(s),g)},r.columns,r.presets,uu.CLOSE_ON_EXECUTE,r.select.getOr(se),o),{movement:Uk(r.columns,r.presets),menuBehaviours:Ok.unnamedEvents(r.columns!=="auto"?[]:[sr(function(g,C){lT(g,4,iD(r.presets)).each(function(E){var O=E.numRows,$=E.numColumns;Vn.setGridSize(g,O,$)})})])})))})}},xq=function(t,r){var o,s=wn("channel-update-split-dropdown-display"),d=function(E){return{isDisabled:function(){return Nn.isDisabled(E)},setDisabled:function(O){return Nn.set(E,O)},setIconFill:function(O,$){jo(E.element,'svg path[id="'+O+'"], rect[id="'+O+'"]').each(function(U){fr(U,"fill",$)})},setIconStroke:function(O,$){jo(E.element,'svg path[id="'+O+'"], rect[id="'+O+'"]').each(function(U){fr(U,"stroke",$)})},setActive:function(O){fr(E.element,"aria-pressed",O),jo(E.element,"span").each(function($){E.getSystem().getByDom($).each(function(U){return Nr.set(U,O)})})},isActive:function(){return jo(E.element,"span").exists(function(O){return E.getSystem().getByDom(O).exists(Nr.isOn)})}}},g=zn(q),C={getApi:d,onSetup:t.onSetup};return zM.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:ne({"aria-pressed":!1},E9(t.tooltip,r.providers))},onExecute:function(E){t.onAction(d(E))},onItemExecute:function(E,O,$){},splitDropdownBehaviours:Jt([pf.splitButton(r.providers.isDisabled),ti(),lr("split-dropdown-events",[Bt(T9,er.focus),E1(C,g),T1(C,g)]),QC.config({})]),eventOrder:(o={},o[ls()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:Sq(d,t,r.providers),parts:{menu:k1(!1,t.columns,t.presets)},components:[zM.parts.button(c7(t.icon,t.text,B.none(),B.some(s),B.some([Nr.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),zM.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:U5("chevron-down",r.providers.icons)},buttonBehaviours:Jt([pf.splitButton(r.providers.isDisabled),ti(),NE()])}),zM.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},kq=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],f5=function(t,r){return function(o,s,d){var g=t(o).mapError(function(C){return Fv(C)}).getOrDie();return r(g,s,d)}},Q3={button:f5(Z5,function(t,r){return Cq(t,r.backstage.shared.providers)}),togglebutton:f5(xk,function(t,r){return _q(t,r.backstage.shared.providers)}),menubutton:f5(X1,function(t,r){return TO(t,"tox-tbtn",r.backstage,B.none())}),splitbutton:f5(XL,function(t,r){return xq(t,r.backstage.shared)}),grouptoolbarbutton:f5(jL,function(t,r,o){var s,d=o.ui.registry.getAll().buttons,g=function(E){return FM(o,{buttons:d,toolbar:E,allowToolbarGroups:!1},r,B.none())},C=(s={},s[m0]=r.backstage.shared.header.isPositionedAtTop()?nf.TopToBottom:nf.BottomToTop,s);switch(FC(o)){case Vl.floating:return wq(t,r.backstage,g,C);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return aq(t,r.backstage)},fontsizeSelectButton:function(t,r){return QG(t,r.backstage)},fontSelectButton:function(t,r){return jG(t,r.backstage)},formatButton:function(t,r){return nq(t,r.backstage)},alignMenuButton:function(t,r){return LG(t,r.backstage)}},Aq=function(t,r,o){return On(Q3,t.type).fold(function(){return console.error("skipping button defined by",t),B.none()},function(s){return B.some(s(t,r,o))})},$9={styleselect:Q3.styleSelectButton,fontsizeselect:Q3.fontsizeSelectButton,fontselect:Q3.fontSelectButton,formatselect:Q3.formatButton,align:Q3.alignMenuButton},Eq=function(t){var r=Ue(kq,function(o){var s=Ae(o.items,function(d){return Pr(t,d)||Pr($9,d)});return{name:o.name,items:s}});return Ae(r,function(o){return o.items.length>0})},Tq=function(t){var r=t.split("|");return Ue(r,function(o){return{items:o.trim().split(" ")}})},Oq=function(t){return J(t,function(r){return Pr(r,"name")&&Pr(r,"items")})},Dq=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?Eq(o):_(r)?Tq(r):Oq(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},Rq=function(t,r,o,s,d,g){return On(r,o.toLowerCase()).orThunk(function(){return g.bind(function(C){return Qr(C,function(E){return On(r,E+o.toLowerCase())})})}).fold(function(){return On($9,o.toLowerCase()).map(function(C){return C(t,d)}).orThunk(function(){return B.none()})},function(C){return C.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),B.none()):Aq(C,d,t)})},FM=function(t,r,o,s){var d=Dq(r),g=Ue(d,function(C){var E=jt(C.items,function(O){return O.trim().length===0?[]:Rq(t,r.buttons,O,r.allowToolbarGroups,o,s).toArray()});return{title:B.from(t.translate(C.name)),items:E}});return Ae(g,function(C){return C.items.length>0})},B9=function(t,r,o,s){var d=r.outerContainer,g=o.toolbar,C=o.buttons;if(J(g,_)){var E=g.map(function(O){var $={toolbar:O,buttons:C,allowToolbarGroups:o.allowToolbarGroups};return FM(t,$,{backstage:s},B.none())});zo.setToolbars(d,E)}else zo.setToolbar(d,FM(t,o,{backstage:s},B.none()))},M9=Wn(),$q=M9.os.isiOS()&&M9.os.version.major<=12,Bq=function(t,r){var o=t.dom,s=t.getWin(),d=t.getDoc().documentElement,g=zn(ya(s.innerWidth,s.innerHeight)),C=zn(ya(d.offsetWidth,d.offsetHeight)),E=function(){var ee=g.get();(ee.left!==s.innerWidth||ee.top!==s.innerHeight)&&(g.set(ya(s.innerWidth,s.innerHeight)),CT(t))},O=function(){var ee=t.getDoc().documentElement,ae=C.get();(ae.left!==ee.offsetWidth||ae.top!==ee.offsetHeight)&&(C.set(ya(ee.offsetWidth,ee.offsetHeight)),CT(t))},$=function(ee){return UP(t,ee)};o.bind(s,"resize",E),o.bind(s,"scroll",$);var U=c0(sn.fromDom(t.getBody()),"load",O),G=r.uiMothership.element;t.on("hide",function(){Xn(G,"display","none")}),t.on("show",function(){Kr(G,"display")}),t.on("NodeChange",O),t.on("remove",function(){U.unbind(),o.unbind(s,"resize",E),o.unbind(s,"scroll",$),s=null})},Mq=function(t,r,o,s,d){var g=zn(0),C=r.outerContainer;MG(t);var E=sn.fromDom(d.targetNode),O=ec(xs(E));Nl(E,r.mothership),lv(O,r.uiMothership),t.on("PostRender",function(){B9(t,r,o,s),g.set(t.getWin().innerWidth),zo.setMenubar(C,h9(t,o)),zo.setSidebar(C,o.sidebar),Bq(t,r)});var $=zo.getSocket(C).getOrDie("Could not find expected socket element");if($q){rs($.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var U=f8(function(){t.fire("ScrollContent")},20),G=Co($.element,"scroll",U.throttle);t.on("remove",G.unbind)}zD(t,r),t.addCommand("ToggleSidebar",function(Se,Ne){zo.toggleSidebar(C,Ne),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return zo.whichSidebar(C)});var ee=FC(t),ae=function(){zo.refreshToolbar(r.outerContainer)};(ee===Vl.sliding||ee===Vl.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var Se=t.getWin().innerWidth;Se!==g.get()&&(ae(),g.set(Se))});var ve={enable:function(){ky(r,!1)},disable:function(){ky(r,!0)},isDisabled:function(){return Nn.isDisabled(C)}};return{iframeContainer:$.element.dom,editorContainer:C.element.dom,api:ve}},Pq=Object.freeze({__proto__:null,render:Mq}),f7=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?B.some(parseInt(""+t,10)):B.none()},v7=function(t){return V(t)?t+"px":t},LM=function(t,r,o){var s=r.filter(function(g){return t<g}),d=o.filter(function(g){return t>g});return s.or(d).getOr(t)},Iq=function(t){var r=Rk(t),o=_D(t),s=SD(t);return f7(r).map(function(d){return LM(d,o,s)})},Nq=function(t){var r=Iq(t);return r.getOr(Rk(t))},P9=function(t){var r=$k(t),o=dT(t),s=Bk(t);return f7(r).map(function(d){return LM(d,o,s)})},zq=function(t){var r=P9(t);return r.getOr($k(t))},Fq=function(t,r,o,s,d){var g=o.uiMothership,C=o.outerContainer,E=xy.DOM,O=Pk(t),$=Ik(t),U=Bk(t).or(P9(t)),G=s.shared.header,ee=G.isPositionedAtTop,ae=FC(t),ve=ae===Vl.sliding||ae===Vl.floating,Se=zn(!1),Ne=function(){return Se.get()&&!t.removed},Ce=function(Pt){return ve?Pt.fold(ie(0),function(_t){return _t.components().length>1?Mo(_t.components()[1].element):0}):0},Fe=function(Pt){switch(TD(t)){case A1.auto:var _t=zo.getToolbar(C),Xt=Ce(_t),Cn=Mo(Pt.element)-Xt,Ot=Eo(r),bn=Ot.y>Cn;if(bn)return"top";var En=Ct(r),Or=Math.max(En.dom.scrollHeight,Mo(En)),ia=Ot.bottom<Or-Cn;if(ia)return"bottom";var za=xi(),lo=za.bottom<Ot.bottom-Cn;return lo?"bottom":"top";case A1.bottom:return"bottom";case A1.top:default:return"top"}},vt=function(Pt){var _t=d.get();Ro.setModes(_t,[Pt]),G.setDockingMode(Pt);var Xt=ee()?nf.TopToBottom:nf.BottomToTop;fr(_t.element,m0,Xt)},ft=function(){var Pt=U.getOrThunk(function(){var _t=f7(ao(Li(),"margin-left")).getOr(0);return Hi(Li())-vu(r).left+_t});Xn(d.get().element,"max-width",Pt+"px")},ze=function(){var Pt=zo.getToolbar(C),_t=Ce(Pt),Xt=Eo(r),Cn=ee()?Math.max(Xt.y-Mo(d.get().element)+_t,0):Xt.bottom;rs(C.element,{position:"absolute",top:Math.round(Cn)+"px",left:Math.round(Xt.x)+"px"})},nt=function(){g.broadcastOn([vg()],{})},St=function(Pt){if(Pt===void 0&&(Pt=!1),!!Ne()){if(O||ft(),ve&&zo.refreshToolbar(C),O||ze(),$){var _t=d.get();Pt?Ro.reset(_t):Ro.refresh(_t)}nt()}},on=function(Pt){if(Pt===void 0&&(Pt=!0),!(O||!$||!Ne())){var _t=G.getDockingMode(),Xt=Fe(d.get());Xt!==_t&&(vt(Xt),Pt&&St(!0))}},Dt=function(){Se.set(!0),Xn(C.element,"display","flex"),E.addClass(t.getBody(),"mce-edit-focus"),Kr(g.element,"display"),on(!1),St()},ln=function(){Se.set(!1),o.outerContainer&&(Xn(C.element,"display","none"),E.removeClass(t.getBody(),"mce-edit-focus")),Xn(g.element,"display","none")};return{isVisible:Ne,isPositionedAtTop:ee,show:Dt,hide:ln,update:St,updateMode:on,repositionPopups:nt}},I9=function(t,r){var o=Eo(t);return{pos:r?o.y:o.bottom,bounds:o}},Lq=function(t,r,o,s){var d=zn(I9(r,o.isPositionedAtTop())),g=function(E){var O=I9(r,o.isPositionedAtTop()),$=O.pos,U=O.bounds,G=d.get(),ee=G.pos,ae=G.bounds,ve=U.height!==ae.height||U.width!==ae.width;d.set({pos:$,bounds:U}),ve&&CT(t,E),o.isVisible()&&(ee!==$?o.update(!0):ve&&(o.updateMode(),o.repositionPopups()))};s||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(E){Fg.requestAnimationFrame(function(){return g(E)})}),t.on("ScrollWindow",function(){return o.updateMode()});var C=qh();C.set(c0(sn.fromDom(t.getBody()),"load",g)),t.on("remove",function(){C.clear()})},Hq=function(t,r,o,s,d){var g=r.mothership,C=r.uiMothership,E=r.outerContainer,O=zn(null),$=sn.fromDom(d.targetNode),U=Fq(t,$,r,s,O),G=fP(t);PG(t);var ee=function(){if(O.get()){U.show();return}O.set(zo.getHeader(E).getOrDie());var ve=$D(t);lv(ve,g),lv(ve,C),B9(t,r,o,s),zo.setMenubar(E,h9(t,o)),U.show(),Lq(t,$,U,G),t.nodeChanged()};t.on("show",ee),t.on("hide",U.hide),G||(t.on("focus",ee),t.on("blur",U.hide)),t.on("init",function(){(t.hasFocus()||G)&&ee()}),zD(t,r);var ae={show:function(){U.show()},hide:function(){U.hide()},enable:function(){ky(r,!1)},disable:function(){ky(r,!0)},isDisabled:function(){return Nn.isDisabled(E)}};return{editorContainer:E.element.dom,api:ae}},Vq=Object.freeze({__proto__:null,render:Hq}),Uq="contexttoolbar-show",N9="contexttoolbar-hide",Wq=function(t){return{hide:function(){return Wr(t,Dp())},getValue:function(){return an.getValue(t)}}},z9=function(t,r){return Bt(fB,function(o,s){var d=t.get(o),g=Wq(d);r.onAction(g,s.event.buttonApi)})},jq=function(t,r,o){var s=r.original;s.primary;var d=j(s,["primary"]),g=Ol(Z5(ne(ne({},d),{type:"button",onAction:q})));return D9(g,o.backstage.shared.providers,[z9(t,r)])},Gq=function(t,r,o){var s=r.original;s.primary;var d=j(s,["primary"]),g=Ol(xk(ne(ne({},d),{type:"togglebutton",onAction:q})));return R9(g,o.backstage.shared.providers,[z9(t,r)])},qq=function(t,r,o){var s={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?Gq(t,r,s):jq(t,r,s)},Kq=function(t,r,o){var s=Ue(r,function(C){return oa(qq(t,C,o))}),d=function(){return Ue(s,function(C){return C.asSpec()})},g=function(C){return Qr(r,function(E,O){return E.primary?B.from(s[O]).bind(function($){return $.getOpt(C)}).filter(Xe(Nn.isDisabled)):B.none()})};return{asSpecs:d,findPrimary:g}},F9=function(t,r){var o=t.label.fold(function(){return{}},function(g){return{"aria-label":g}}),s=oa(ZC.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:Jt([Vn.config({mode:"special",onEnter:function(g){return d.findPrimary(g).map(function(C){return Bs(C),!0})},onLeft:function(g,C){return C.cut(),B.none()},onRight:function(g,C){return C.cut(),B.none()}})])})),d=Kq(s,t.commands,r);return[{title:B.none(),items:[s.asSpec()]},{title:B.none(),items:d.asSpecs()}]},Xq=function(t,r,o){return Gr({type:t,uid:wn("context-toolbar"),initGroups:F9(r,o),onEscape:B.none,cyclicKeying:!0,providers:o})},Yq={renderContextForm:Xq,buildInitGroups:F9},L9=function(t,r,o){return o===void 0&&(o=.01),r.bottom-t.y>=o&&t.bottom-r.y>=o},Zq=function(t){var r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){var o=cb(sn.fromDom(t.startContainer),t.startOffset).element,s=Du(o)?xo(o):B.some(o);return s.filter(bo).map(function(d){return d.dom.getBoundingClientRect()}).getOr(r)}else return r},d7=function(t){var r=t.selection.getRng(),o=Zq(r);if(t.inline){var s=os();return Vo(s.left+o.left,s.top+o.top,o.width,o.height)}else{var d=Vc(sn.fromDom(t.getBody()));return Vo(d.x+o.left,d.y+o.top,o.width,o.height)}},Jq=function(t,r){return r.filter(fu).map(Vc).getOrThunk(function(){return d7(t)})},Qq=function(t,r,o){var s=Math.max(t.x+o,r.x),d=Math.min(t.right-o,r.right);return{x:s,width:d-s}},eK=function(t,r,o,s,d,g){var C=sn.fromDom(t.getContainer()),E=jo(C,".tox-editor-header").getOr(C),O=Eo(E),$=O.y>=r.bottom,U=s&&!$;if(t.inline&&U)return{y:Math.max(O.bottom+g,o.y),bottom:o.bottom};if(t.inline&&!U)return{y:o.y,bottom:Math.min(O.y-g,o.bottom)};var G=d==="line"?Eo(C):r;return U?{y:Math.max(O.bottom+g,o.y),bottom:Math.min(G.bottom-g,o.bottom)}:{y:Math.max(G.y+g,o.y),bottom:Math.min(O.y-g,o.bottom)}},H9=function(t,r,o,s){s===void 0&&(s=0);var d=qf(window),g=Eo(sn.fromDom(t.getContentAreaContainer())),C=mT(t)||hT(t)||Mk(t),E=Qq(g,d,s),O=E.x,$=E.width;if(t.inline&&!C)return Vo(O,d.y,$,d.height);var U=r.header.isPositionedAtTop(),G=eK(t,g,d,U,o,s),ee=G.y,ae=G.bottom;return Vo(O,ee,$,ae-ee)},HM=12,V9={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},U9={maxHeightFunction:Xh(),maxWidthFunction:Eu()},tK=function(t,r){var o=t.selection.getRng(),s=cb(sn.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&Sa(s.element,r)},nK=function(t,r,o){var s=Ao(t,"position");Xn(t,"position",r);var d=o(t);return s.each(function(g){return Xn(t,"position",g)}),d},W9=function(t){return t==="node"},rK=function(t,r,o,s,d){var g=d7(t),C=s.lastElement().exists(function($){return Sa(o,$)});if(tK(t,o))return C?L5:Sc;if(C)return nK(r,s.getMode(),function(){var $=L9(g,Eo(r));return $&&!s.isReposition()?o8:L5});var E=s.getMode()==="fixed"?d.y+os().top:d.y,O=Mo(r)+HM;return E+O<=g.y?Sc:Ig},aK=function(t,r,o,s){var d=function(O){return function($,U,G,ee,ae){var ve=rK(t,ee,O,o,ae),Se=ne(ne({},$),{y:ae.y,height:ae.height});return ne(ne({},ve(Se,U,G,ee,ae)),{alwaysFit:!0})}},g=function(O){return W9(s)?[d(O)]:[]},C={onLtr:function(O){return[Fu,No,Cu,Ki,_u,ei].concat(g(O))},onRtl:function(O){return[Fu,No,_u,ei,Cu,Ki].concat(g(O))}},E={onLtr:function(O){return[No,Ki,ei,Cu,_u,Fu].concat(g(O))},onRtl:function(O){return[No,ei,Ki,_u,Cu,Fu].concat(g(O))}};return r?E:C},oK=function(t,r,o,s){return r==="line"?{bubble:lm(HM,0,V9),layouts:{onLtr:function(){return[Qb]},onRtl:function(){return[e0]}},overrides:U9}:{bubble:lm(0,HM,V9,1/HM),layouts:aK(t,o,s,r),overrides:U9}},m7=function(t,r){var o=Ae(r,function(C){return C.predicate(t.dom)}),s=Te(o,function(C){return C.type==="contexttoolbar"}),d=s.pass,g=s.fail;return{contextToolbars:d,contextForms:g}},iK=function(t){if(t.length<=1)return t;var r=function(E){return _n(t,function(O){return O.position===E})},o=function(E){return Ae(t,function(O){return O.position===E})},s=r("selection"),d=r("node");if(s||d)if(d&&s){var g=o("node"),C=Ue(o("selection"),function(E){return ne(ne({},E),{position:"node"})});return g.concat(C)}else return o(s?"selection":"node");else return o("line")},uK=function(t){if(t.length<=1)return t;var r=function(s){return bt(t,function(d){return d.position===s})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(s){return s.position});return o.fold(function(){return[]},function(s){return Ae(t,function(d){return d.position===s})})},sK=function(t,r,o){var s=m7(t,r);if(s.contextForms.length>0)return B.some({elem:t,toolbars:[s.contextForms[0]]});var d=m7(t,o);if(d.contextForms.length>0)return B.some({elem:t,toolbars:[d.contextForms[0]]});if(s.contextToolbars.length>0||d.contextToolbars.length>0){var g=iK(s.contextToolbars.concat(d.contextToolbars));return B.some({elem:t,toolbars:g})}else return B.none()},lK=function(t,r,o){return t(r)?B.none():Op(r,function(s){if(bo(s)){var d=m7(s,o.inNodeScope),g=d.contextToolbars,C=d.contextForms,E=C.length>0?C:uK(g);return E.length>0?B.some({elem:s,toolbars:E}):B.none()}else return B.none()},t)},cK=function(t,r){var o=sn.fromDom(r.getBody()),s=function(C){return Sa(C,o)},d=function(C){return!s(C)&&!kl(o,C)},g=sn.fromDom(r.selection.getNode());return d(g)?B.none():sK(g,t.inNodeScope,t.inEditorScope).orThunk(function(){return lK(s,g,t)})},fK=function(t,r){var o={},s=[],d=[],g={},C={},E=function(U,G){var ee=Ol(qE(G));o[U]=ee,ee.launch.map(function(ae){g["form:"+U]=ne(ne({},G.launch),{type:ae.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(ee)}})}),ee.scope==="editor"?d.push(ee):s.push(ee),C[U]=ee},O=function(U,G){eD(G).each(function(ee){G.scope==="editor"?d.push(ee):s.push(ee),C[U]=ee})},$=Hr(t);return pt($,function(U){var G=t[U];G.type==="contextform"?E(U,G):G.type==="contexttoolbar"&&O(U,G)}),{forms:o,inNodeScope:s,inEditorScope:d,lookupTable:C,formNavigators:g}},j9=wn("forward-slide"),G9=wn("backward-slide"),h7=wn("change-slide-event"),g7="tox-pop--resizing",vK=function(t){var r=zn([]);return ca.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),ca.getContent(o).each(function(s){Kr(s.element,"visibility")}),Io(o.element,g7),Kr(o.element,"width")},inlineBehaviours:Jt([lr("context-toolbar-events",[To(Dh(),function(o,s){s.event.raw.propertyName==="width"&&(Io(o.element,g7),Kr(o.element,"width"))}),Bt(h7,function(o,s){var d=o.element;Kr(d,"width");var g=Hi(d);ca.setContent(o,s.event.contents),Wo(d,g7);var C=Hi(d);Xn(d,"width",g+"px"),ca.getContent(o).each(function(E){s.event.focus.bind(function(O){return mc(O),hc(d)}).orThunk(function(){return Vn.focusIn(E),Su(xs(d))})}),Fg.setTimeout(function(){Xn(o.element,"width",C+"px")},0)}),Bt(j9,function(o,s){ca.getContent(o).each(function(d){r.set(r.get().concat([{bar:d,focus:Su(xs(o.element))}]))}),Fn(o,h7,{contents:s.event.forwardContents,focus:B.none()})}),Bt(G9,function(o,s){ua(r.get()).each(function(d){r.set(r.get().slice(0,r.get().length-1)),Fn(o,h7,{contents:zs(d.bar),focus:d.focus})})})]),Vn.config({mode:"special",onEscape:function(o){return ua(r.get()).fold(function(){return t.onEscape()},function(s){return Wr(o,G9),B.some(!0)})}})]),lazySink:function(){return mr.value(t.sink)}})},p7="tox-pop--transition",dK=function(t,r,o,s){var d=s.backstage,g=d.shared,C=Wn().deviceType.isTouch,E=ho(),O=ho(),$=ho(),U=Wa(vK({sink:o,onEscape:function(){return t.focus(),B.some(!0)}})),G=function(){var Dt=$.get().getOr("node"),ln=W9(Dt)?1:0;return H9(t,g,Dt,ln)},ee=function(){return!t.removed&&!(C()&&d.isContextMenuOpen())},ae=function(Dt){return lu(Gs(Dt,E.get(),Sa),!0)},ve=function(){if(ee()){var Dt=G(),ln=lu($.get(),"node")?Jq(t,E.get()):d7(t);return Dt.height<=0||!L9(ln,Dt)}else return!0},Se=function(){E.clear(),O.clear(),$.clear(),ca.hide(U)},Ne=function(){if(ca.isOpen(U)){var Dt=U.element;Kr(Dt,"display"),ve()?Xn(Dt,"display","none"):(O.set(0),ca.reposition(U))}},Ce=function(Dt){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Dt],behaviours:Jt([Vn.config({mode:"acyclic"}),lr("pop-dialog-wrap-events",[sr(function(ln){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return Vn.focusIn(ln)})}),Ms(function(ln){t.shortcuts.remove("ctrl+F9")})])])}},Fe=es(function(){return fK(r,function(Dt){var ln=ze([Dt]);Fn(U,j9,{forwardContents:Ce(ln)})})}),vt=function(Dt,ln){return FM(t,{buttons:Dt,toolbar:ln.items,allowToolbarGroups:!1},s,B.some(["form:"]))},ft=function(Dt,ln){return Yq.buildInitGroups(Dt,ln)},ze=function(Dt){var ln=t.ui.registry.getAll().buttons,Pt=Fe(),_t=ne(ne({},ln),Pt.formNavigators),Xt=FC(t)===Vl.scrolling?Vl.scrolling:Vl.default,Cn=ut(Ue(Dt,function(Ot){return Ot.type==="contexttoolbar"?vt(_t,Ot):ft(Ot,g.providers)}));return Gr({type:Xt,uid:wn("context-toolbar"),initGroups:Cn,onEscape:B.none,cyclicKeying:!0,providers:g.providers})},nt=function(Dt,ln){var Pt=Dt==="node"?g.anchors.node(ln):g.anchors.cursor(),_t=oK(t,Dt,C(),{lastElement:E.get,isReposition:function(){return lu(O.get(),0)},getMode:function(){return go.getMode(o)}});return yt(Pt,_t)},St=function(Dt,ln){if(on.cancel(),!!ee()){var Pt=ze(Dt),_t=Dt[0].position,Xt=nt(_t,ln);$.set(_t),O.set(1);var Cn=U.element;Kr(Cn,"display"),ae(ln)||(Io(Cn,p7),go.reset(o,U)),ca.showWithinBounds(U,Ce(Pt),{anchor:Xt,transition:{classes:[p7],mode:"placement"}},function(){return B.some(G())}),ln.fold(E.clear,E.set),ve()&&Xn(Cn,"display","none")}},on=HE(function(){if(!(!t.hasFocus()||t.removed))if(bu(U.element,p7))on.throttle();else{var Dt=Fe();cK(Dt,t).fold(Se,function(ln){St(ln.toolbars,B.some(ln.elem))})}},17);t.on("init",function(){t.on("remove",Se),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Ne),t.on("click keyup focus SetContent",on.throttle),t.on(N9,Se),t.on(Uq,function(Dt){var ln=Fe();On(ln.lookupTable,Dt.toolbarKey).each(function(Pt){St([Pt],qs(Dt.target!==t,Dt.target)),ca.getContent(U).each(Vn.focusIn)})}),t.on("focusout",function(Dt){Fg.setEditorTimeout(t,function(){hc(o.element).isNone()&&hc(U.element).isNone()&&Se()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&Se()}),t.on("AfterProgressState",function(Dt){Dt.state?Se():t.hasFocus()&&on.throttle()}),t.on("NodeChange",function(Dt){hc(U.element).fold(on.throttle,q)})})},mK=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];pt(r,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:Av(t,o.cmd),onSetup:IM(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Av(t,"JustifyNone")})},hK={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},gK=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,s="\\.",d=function(E){return"(?:"+E+")?"},g=["Infinity",t+s+d(t)+d(o),s+t+d(o),t+d(o)].join("|"),C="[+-]?(?:"+g+")";return new RegExp("^("+C+")(.*)$")}(),pK=function(t,r){return _n(r,function(o){return _n(hK[o],function(s){return t===s})})},bK=function(t,r){var o=B.from(gK.exec(t));return o.bind(function(s){var d=Number(s[1]),g=s[2];return pK(g,r)?B.some({value:d,unit:g}):B.none()})},yK=function(t,r){return bK(t,r).map(function(o){var s=o.value,d=o.unit;return s+d})},q9=function(t,r){var o=function(){var s=r.getOptions(t),d=r.getCurrent(t).map(r.hash),g=ho();return Ue(s,function(C){return{type:"togglemenuitem",text:r.display(C),onSetup:function(E){var O=function(U){U&&(g.on(function(G){return G.setActive(!1)}),g.set(E)),E.setActive(U)};O(lu(d,r.hash(C)));var $=r.watcher(t,C,O);return function(){g.clear(),$()}},onAction:function(){return r.setCurrent(t,C)}}})};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(s){return s(o())},onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:o,onSetup:r.onMenuSetup})},wK={name:"lineheight",text:"Line height",icon:"line-height",getOptions:xD,hash:function(t){return yK(t,["fixed","relative","empty"]).getOr(t)},display:he,watcher:function(t,r,o){return t.formatter.formatChanged("lineheight",o,!1,{value:r}).unbind},getCurrent:function(t){return B.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,r){return t.execCommand("LineHeight",!1,r)}},CK=function(t){var r=B.from(kD(t));return r.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:ie(o),hash:function(s){return W(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,d,g){return s.formatter.formatChanged("lang",g,!1,{value:d.code,customValue:d.customCode}).unbind},getCurrent:function(s){var d=sn.fromDom(s.selection.getNode());return Ah(d,function(g){return B.some(g).filter(bo).bind(function(C){var E=Ya(C,"lang");return E.map(function(O){var $=Ya(C,"data-mce-lang").getOrUndefined();return{code:O,customCode:$,title:""}})})})},setCurrent:function(s,d){return s.execCommand("Lang",!1,d)},onToolbarSetup:function(s){var d=qh();return s.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",s.setActive,!0)),d.clear}}})},_K=function(t){q9(t,wK),CK(t).each(function(r){return q9(t,r)})},SK=function(t,r){HG(t,r),GG(t,r),oq(t,r),rq(t,r),eq(t,r)},xK=function(t){return NM(t,"NodeChange",function(r){r.setDisabled(!t.queryCommandState("outdent"))})},kK=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:xK(t),onAction:Av(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Av(t,"indent")})},AK=function(t){kK(t)},b7=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},EK=function(t){Kg.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,d){t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:IM(t,s.name),onAction:b7(t,s.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:IM(t,o),onAction:b7(t,o)})}},TK=function(t){Kg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:Av(t,r.action)})})},OK=function(t){Kg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:Av(t,r.action),onSetup:IM(t,r.name)})})},DK=function(t){EK(t),TK(t),OK(t)},RK=function(t){Kg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:Av(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:b7(t,"code")})},$K=function(t){DK(t),RK(t)},VM=function(t,r){return NM(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[r]())})},BK=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:VM(t,"hasUndo"),onAction:Av(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:VM(t,"hasRedo"),onAction:Av(t,"redo")})},MK=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:VM(t,"hasUndo"),onAction:Av(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:VM(t,"hasRedo"),onAction:Av(t,"redo")})},PK=function(t){BK(t),MK(t)},IK=function(t){return NM(t,"VisualAid",function(r){r.setActive(t.hasVisual)})},NK=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:IK(t),onAction:Av(t,"mceToggleVisualAid")})},zK=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Av(t,"mceToggleVisualAid")})},FK=function(t){zK(t),NK(t)},LK=function(t,r){mK(t),$K(t),SK(t,r),PK(t),ZP(t),FK(t),AK(t),_K(t)},v5=function(t,r){return{type:"makeshift",x:t,y:r}},HK=function(t,r,o){return v5(t.x+r,t.y+o)},K9=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},VK=function(t){if(K9(t)){var r=t.touches[0];return v5(r.pageX,r.pageY)}else return v5(t.pageX,t.pageY)},UK=function(t){if(K9(t)){var r=t.touches[0];return v5(r.clientX,r.clientY)}else return v5(t.clientX,t.clientY)},WK=function(t,r){var o=xy.DOM.getPos(t);return HK(r,o.x,o.y)},jK=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?VK(r):WK(t.getContentAreaContainer(),UK(r)):X9(t)},X9=function(t){return{type:"selection",root:sn.fromDom(t.selection.getNode())}},GK=function(t){return{type:"node",node:B.some(sn.fromDom(t.selection.getNode())),root:sn.fromDom(t.getBody())}},Y9=function(t,r,o){switch(o){case"node":return GK(t);case"point":return jK(t,r);case"selection":return X9(t)}},qK=function(t,r,o,s,d,g){var C=o(),E=Y9(t,r,g);Py(C,uu.CLOSE_ON_EXECUTE,s,!1).map(function(O){r.preventDefault(),ca.showMenuAt(d,{anchor:E},{menu:{markers:wy("normal")},data:O})})},KK={onLtr:function(){return[No,Ki,ei,Cu,_u,Fu,Sc,Ig,Pg,Bg,Mg,py]},onRtl:function(){return[No,ei,Ki,_u,Cu,Fu,Sc,Ig,Mg,py,Pg,Bg]}},XK=12,YK={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},ZK=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var s=r.touches[0],d=o.getRng(),g=yw(t.getWin(),Jh.domRange(d));return g.exists(function(C){return C.left<=s.clientX&&C.right>=s.clientX&&C.top<=s.clientY&&C.bottom>=s.clientY})},JK=function(t){var r=t.selection.getRng(),o=function(){Fg.setEditorTimeout(t,function(){t.selection.setRng(r)},10),g()};t.once("touchend",o);var s=function(C){C.preventDefault(),C.stopImmediatePropagation()};t.on("mousedown",s,!0);var d=function(){return g()};t.once("longpresscancel",d);var g=function(){t.off("touchend",o),t.off("longpresscancel",d),t.off("mousedown",s)}},QK=function(t,r,o){var s=Y9(t,r,o),d=o==="point"?XK:0;return ne({bubble:lm(0,d,YK),layouts:KK,overrides:{maxWidthFunction:Eu(),maxHeightFunction:Xh()}},s)},eX=function(t,r,o,s,d,g,C){var E=QK(t,r,g);Py(o,uu.CLOSE_ON_EXECUTE,s,!0).map(function(O){r.preventDefault(),ca.showMenuWithinBounds(d,{anchor:E},{menu:{markers:wy("normal"),highlightImmediately:C},data:O,type:"horizontal"},function(){return B.some(H9(t,s.shared,g==="node"?"node":"selection"))}),t.fire(N9)})},tX=function(t,r,o,s,d,g){var C=Wn(),E=C.os.isiOS(),O=C.os.isOSX(),$=C.os.isAndroid(),U=C.deviceType.isTouch(),G=function(){return!($||E||O&&U)},ee=function(){var ve=o();eX(t,r,ve,s,d,g,G())};if((O||E)&&g!=="node"){var ae=function(){JK(t),ee()};ZK(t,r)?ae():(t.once("selectionchange",ae),t.once("touchend",function(){return t.off("selectionchange",ae)}))}else ee()},Z9=function(t){return typeof t=="string"?t.split(/[ ,]/):t},J9=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},nX=function(t,r,o){var s=t.ui.registry.getAll().contextMenus;return B.from(t.getParam(r)).map(Z9).getOrThunk(function(){return Ae(Z9(o),function(d){return Pr(s,d)})})},rX=function(t){return t.getParam("contextmenu")===!1},aX=function(t){return nX(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},oX=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},Q9=function(t){return _(t)?t==="|":t.type==="separator"},y7={type:"separator"},eV=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(_(t))return t;switch(t.type){case"separator":return y7;case"submenu":return ne(ne({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return _(o)?o:Ue(o,eV)}});default:return ne(ne({type:"menuitem"},r(t)),{onAction:$e(t.onAction)})}},tV=function(t,r){if(r.length===0)return t;var o=ua(t).filter(function(d){return!Q9(d)}),s=o.fold(function(){return[]},function(d){return[y7]});return t.concat(s).concat(r).concat([y7])},iX=function(t,r,o){var s=et(r,function(d,g){return On(t,g.toLowerCase()).map(function(C){var E=C.update(o);if(_(E))return tV(d,E.split(" "));if(E.length>0){var O=Ue(E,eV);return tV(d,O)}else return d}).getOrThunk(function(){return d.concat([g])})},[]);return s.length>0&&Q9(s[s.length-1])&&s.pop(),s},uX=function(t,r){return r.ctrlKey&&!J9(t)},nV=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},rV=function(t,r){return nV(t,r)?t.selection.getStart(!0):r.target},sX=function(t,r){var o=oX(t),s=nV(t,r)?"selection":"point";if(Pc(o)){var d=rV(t,r),g=GC(sn.fromDom(d),o);return g?"node":s}else return s},lX=function(t,r,o){var s=Wn(),d=s.deviceType.isTouch,g=Wa(ca.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Jt([lr("dismissContextMenu",[Bt(Bl(),function(O,$){Br.close(O),t.focus()})])])})),C=function(O){return ca.hide(g)},E=function(O){if(J9(t)&&O.preventDefault(),!(uX(t,O)||rX(t))){var $=sX(t,O),U=function(){var ee=rV(t,O),ae=t.ui.registry.getAll(),ve=aX(t);return iX(ae.contextMenus,ve,ee)},G=d()?tX:qK;G(t,O,U,o,g,$)}};t.on("init",function(){var O="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(O,C),t.on("longpress contextmenu",E)})},w7=Ds.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),UM=function(t){return function(r){return r.translate(-t.left,-t.top)}},WM=function(t){return function(r){return r.translate(t.left,t.top)}},Y1=function(t){return function(r,o){return et(t,function(s,d){return d(s)},ya(r,o))}},jM=function(t,r,o){return t.fold(Y1([WM(o),UM(r)]),Y1([UM(r)]),Y1([]))},eA=function(t,r,o){return t.fold(Y1([WM(o)]),Y1([]),Y1([WM(r)]))},aV=function(t,r,o){return t.fold(Y1([]),Y1([UM(o)]),Y1([WM(r),UM(o)]))},cX=function(t,r,o,s,d,g){var C=eA(t,d,g),E=eA(r,d,g);return Math.abs(C.left-E.left)<=o&&Math.abs(C.top-E.top)<=s},fX=function(t,r,o,s,d,g){var C=eA(t,d,g),E=eA(r,d,g),O=Math.abs(C.left-E.left),$=Math.abs(C.top-E.top);return ya(O,$)},oV=function(t,r,o){var s=t.fold(function(d,g){return{position:B.some("absolute"),left:B.some(d+"px"),top:B.some(g+"px")}},function(d,g){return{position:B.some("absolute"),left:B.some(d-o.left+"px"),top:B.some(g-o.top+"px")}},function(d,g){return{position:B.some("fixed"),left:B.some(d+"px"),top:B.some(g+"px")}});return ne({right:B.none(),bottom:B.none()},s)},vX=function(t,r,o){return t.fold(function(s,d){return GM(s+r,d+o)},function(s,d){return Hy(s+r,d+o)},function(s,d){return x_(s+r,d+o)})},C7=function(t,r,o,s){var d=function(g,C){return function(E,O){var $=g(r,o,s);return C(E.getOr($.left),O.getOr($.top))}};return t.fold(d(aV,GM),d(eA,Hy),d(jM,x_))},GM=w7.offset,Hy=w7.absolute,x_=w7.fixed,iV=function(t,r){var o=Va(t,r);return W(o)?NaN:parseInt(o,10)},dX=function(t,r){var o=t.element,s=iV(o,r.leftAttr),d=iV(o,r.topAttr);return isNaN(s)||isNaN(d)?B.none():B.some(ya(s,d))},mX=function(t,r,o){var s=t.element;fr(s,r.leftAttr,o.left+"px"),fr(s,r.topAttr,o.top+"px")},hX=function(t,r){var o=t.element;ii(o,r.leftAttr),ii(o,r.topAttr)},gX=function(t,r,o,s){return dX(t,r).fold(function(){return o},function(d){return x_(d.left+s.left,d.top+s.top)})},pX=function(t,r,o,s,d,g){var C=gX(t,r,o,s),E=r.mustSnap?yX(t,r,C,d,g):wX(t,r,C,d,g),O=jM(C,d,g);return mX(t,r,O),E.fold(function(){return{coord:x_(O.left,O.top),extra:B.none()}},function($){return{coord:$.output,extra:$.extra}})},bX=function(t,r){hX(t,r)},uV=function(t,r,o,s){return Qr(t,function(d){var g=d.sensor,C=cX(r,g,d.range.left,d.range.top,o,s);return C?B.some({output:C7(d.output,r,o,s),extra:d.extra}):B.none()})},yX=function(t,r,o,s,d){var g=r.getSnapPoints(t),C=uV(g,o,s,d);return C.orThunk(function(){var E=et(g,function(O,$){var U=$.sensor,G=fX(o,U,$.range.left,$.range.top,s,d);return O.deltas.fold(function(){return{deltas:B.some(G),snap:B.some($)}},function(ee){var ae=(G.left+G.top)/2,ve=(ee.left+ee.top)/2;return ae<=ve?{deltas:B.some(G),snap:B.some($)}:O})},{deltas:B.none(),snap:B.none()});return E.snap.map(function(O){return{output:C7(O.output,o,s,d),extra:O.extra}})})},wX=function(t,r,o,s,d){var g=r.getSnapPoints(t);return uV(g,o,s,d)},CX=function(t,r,o){return{coord:C7(t.output,t.output,r,o),extra:t.extra}},_X=function(t,r,o,s){var d=r.getTarget(t.element);if(r.repositionTarget){var g=Zo(t.element),C=os(g),E=F3(d),O=CX(s,C,E),$=oV(O.coord,C,E);ro(d,$)}},SX=Object.freeze({__proto__:null,snapTo:_X}),_7="data-initial-z-index",xX=function(t){xo(t.element).filter(bo).each(function(r){Ya(r,_7).fold(function(){return Kr(r,"z-index")},function(o){return Xn(r,"z-index",o)}),ii(r,_7)})},kX=function(t){xo(t.element).filter(bo).each(function(r){Ao(r,"z-index").each(function(o){fr(r,_7,o)}),Xn(r,"z-index",ao(t.element,"z-index"))})},sV=function(t,r){t.getSystem().addToGui(r),kX(r)},AX=function(t){xX(t),t.getSystem().removeFromGui(t)},lV=function(t,r,o){return t.getSystem().build(ku.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},EX=ss("snaps",[At("getSnapPoints"),Yr("onSensor"),At("leftAttr"),At("topAttr"),He("lazyViewport",xi),He("mustSnap",!1)]),S7=[He("useFixed",se),At("blockerClass"),He("getTarget",he),He("onDrag",q),He("repositionTarget",!0),He("onDrop",q),Ta("getBounds",xi),EX],TX=function(t){return rh(Ao(t,"left"),Ao(t,"top"),Ao(t,"position"),function(r,o,s){var d=s==="fixed"?x_:GM;return d(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=vu(t);return Hy(r.left,r.top)})},OX=function(t,r,o,s,d){var g=d.bounds,C=eA(r,o,s),E=fs(C.left,g.x,g.x+g.width-d.width),O=fs(C.top,g.y,g.y+g.height-d.height),$=Hy(E,O);return r.fold(function(){var U=aV($,o,s);return GM(U.left,U.top)},ie($),function(){var U=jM($,o,s);return x_(U.left,U.top)})},DX=function(t,r,o,s,d,g,C){var E=r.fold(function(){var O=vX(o,g.left,g.top),$=jM(O,s,d);return x_($.left,$.top)},function(O){var $=pX(t,O,o,g,s,d);return $.extra.each(function(U){O.onSensor(t,U)}),$.coord});return OX(t,E,s,d,C)},RX=function(t,r,o,s){var d=r.getTarget(t.element);if(r.repositionTarget){var g=Zo(t.element),C=os(g),E=F3(d),O=TX(d),$=DX(t,r.snaps,O,C,E,s,o),U=oV($,C,E);ro(d,U)}r.onDrag(t,d,s)},cV=function(t,r){return{bounds:t.getBounds(),height:as(r.element),width:du(r.element)}},x7=function(t,r,o,s,d){var g=o.update(s,d),C=o.getStartData().getOrThunk(function(){return cV(r,t)});g.each(function(E){RX(t,r,C,E)})},fV=function(t,r,o,s){r.each(AX),o.snaps.each(function(g){bX(t,g)});var d=o.getTarget(t.element);s.reset(),o.onDrop(t,d)},k7=function(t){return function(r,o){var s=function(d){o.setStartData(cV(r,d))};return _a(ke([Bt(S2(),function(d){o.getStartData().each(function(){return s(d)})})],t(r,o,s),!0))}},$X=function(t){return _a([Bt($l(),t.forceDrop),Bt(p2(),t.drop),Bt(Vd(),function(r,o){t.move(o.event)}),Bt(g2(),t.delayDrop)])},BX=function(t){return B.from(ya(t.x,t.y))},MX=function(t,r){return ya(r.left-t.left,r.top-t.top)},PX=Object.freeze({__proto__:null,getData:BX,getDelta:MX}),vV=function(t,r,o){return[Bt($l(),function(s,d){var g=d.event.raw;if(g.button===0){d.stop();var C=function(){return fV(s,B.some($),t,r)},E=OR(C,200),O={drop:C,delayDrop:E.schedule,forceDrop:C,move:function(G){E.cancel(),x7(s,t,r,PX,G)}},$=lV(s,t.blockerClass,$X(O)),U=function(){o(s),sV(s,$)};U()}})]},IX=ke(ke([],S7,!0),[ka("dragger",{handlers:k7(vV)})],!1),NX=function(t){return _a([Bt(qc(),t.forceDrop),Bt(Hv(),t.drop),Bt(rS(),t.drop),Bt(Rl(),function(r,o){t.move(o.event)})])},zX=function(t){var r=t[0];return B.some(ya(r.clientX,r.clientY))},FX=function(t){var r=t.raw,o=r.touches;return o.length===1?zX(o):B.none()},LX=function(t,r){return ya(r.left-t.left,r.top-t.top)},dV=Object.freeze({__proto__:null,getData:FX,getDelta:LX}),mV=function(t,r,o){var s=ho(),d=function(g){fV(g,s.get(),t,r),s.clear()};return[Bt(qc(),function(g,C){C.stop();var E=function(){return d(g)},O={drop:E,delayDrop:q,forceDrop:E,move:function(G){x7(g,t,r,dV,G)}},$=lV(g,t.blockerClass,NX(O));s.set($);var U=function(){o(g),sV(g,$)};U()}),Bt(Rl(),function(g,C){C.stop(),x7(g,t,r,dV,C.event)}),Bt(Hv(),function(g,C){C.stop(),d(g)}),Bt(rS(),d)]},HX=ke(ke([],S7,!0),[ka("dragger",{handlers:k7(mV)})],!1),VX=function(t,r,o){return ke(ke([],vV(t,r,o),!0),mV(t,r,o),!0)},UX=ke(ke([],S7,!0),[ka("dragger",{handlers:k7(VX)})],!1),WX=IX,jX=HX,GX=UX,qX=Object.freeze({__proto__:null,mouse:WX,touch:jX,mouseOrTouch:GX}),KX=function(){var t=B.none(),r=B.none(),o=function(){t=B.none(),r=B.none()},s=function(O,$){var U=t.map(function(G){return O.getDelta(G,$)});return t=B.some($),U},d=function(O,$){return O.getData($).bind(function(U){return s(O,U)})},g=function(O){r=B.some(O)},C=function(){return r},E=ie({});return qi({readState:E,reset:o,update:d,getStartData:C,setStartData:g})},XX=Object.freeze({__proto__:null,init:KX}),k_=im({branchKey:"mode",branches:qX,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:B.from(t.extra)}}},state:XX,apis:SX}),A7=40,qM=A7/2,hV=function(t,r,o,s,d,g){return t.fold(function(){return k_.snap({sensor:Hy(o-qM,s-qM),range:ya(d,g),output:Hy(B.some(o),B.some(s)),extra:{td:r}})},function(C){var E=o-qM,O=s-qM,$=A7,U=A7,G=C.element.dom.getBoundingClientRect();return k_.snap({sensor:Hy(E,O),range:ya($,U),output:Hy(B.some(o-G.width/2),B.some(s-G.height/2)),extra:{td:r}})})},gV=function(t,r,o){var s=function(d,g){return d.exists(function(C){return Sa(C,g)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(d,g){var C=g.td;s(r.get(),C)||(r.set(C),o(C))},mustSnap:!0}},pV=function(t){return oa(ms.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Jt([k_.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),QC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},YX=function(t,r){var o=zn([]),s=zn([]),d=zn(!1),g=ho(),C=ho(),E=function(St){var on=Vc(St);return hV(ae.getOpt(r),St,on.x,on.y,on.width,on.height)},O=function(){return Ue(o.get(),function(St){return E(St)})},$=function(St){var on=Vc(St);return hV(ve.getOpt(r),St,on.right,on.bottom,on.width,on.height)},U=function(){return Ue(s.get(),function(St){return $(St)})},G=gV(O,g,function(St){C.get().each(function(on){t.fire("TableSelectorChange",{start:St,finish:on})})}),ee=gV(U,C,function(St){g.get().each(function(on){t.fire("TableSelectorChange",{start:on,finish:St})})}),ae=pV(G),ve=pV(ee),Se=Wa(ae.asSpec()),Ne=Wa(ve.asSpec()),Ce=function(St,on,Dt,ln){var Pt=on.dom.getBoundingClientRect();Kr(St.element,"display");var _t=vh(sn.fromDom(t.getBody())).dom.innerHeight,Xt=Dt(Pt),Cn=ln(Pt,_t);(Xt||Cn)&&Xn(St.element,"display","none")},Fe=function(St,on,Dt,ln){var Pt=Dt(on);k_.snapTo(St,Pt);var _t=function(Cn){return Cn[ln]<0},Xt=function(Cn,Ot){return Cn[ln]>Ot};Ce(St,on,_t,Xt)},vt=function(St){return Fe(Se,St,E,"top")},ft=function(){return g.get().each(vt)},ze=function(St){return Fe(Ne,St,$,"bottom")},nt=function(){return C.get().each(ze)};Wn().deviceType.isTouch()&&(t.on("TableSelectionChange",function(St){d.get()||(dm(r,Se),dm(r,Ne),d.set(!0)),g.set(St.start),C.set(St.finish),St.otherCells.each(function(on){o.set(on.upOrLeftCells),s.set(on.downOrRightCells),vt(St.start),ze(St.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){ft(),nt()}),t.on("TableSelectionClear",function(){d.get()&&(yc(Se),yc(Ne),d.set(!1)),g.clear(),C.clear()}))},ZX=function(t){return!!(t.nodeType===1&&(t.nodeName==="BR"||t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark"))},JX=function(t,r,o){r.delimiter||(r.delimiter="»");var s=function(g){var C=g||[],E=Ue(C,function($,U){return ms.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":U,"tab-index":-1,"aria-level":U+1},innerHtml:$.name},action:function(G){t.focus(),t.selection.select($.element),t.nodeChanged()},buttonBehaviours:Jt([pf.button(o.isDisabled),ti()])})}),O={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return et(E.slice(1),function($,U){var G=$;return G.push(O),G.push(U),G},[E[0]])},d=function(g){for(var C=[],E=g.length;E-- >0;){var O=g[E];if(O.nodeType===1&&!ZX(O)){var $=t.fire("ResolveName",{name:O.nodeName.toLowerCase(),target:O});if($.isDefaultPrevented()||C.push({name:$.name,element:O}),$.isPropagationStopped())break}}return C};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Jt([Vn.config({mode:"flow",selector:"div[role=button]"}),Nn.config({disabled:o.isDisabled}),ti(),Oo.config({}),ar.config({}),lr("elementPathEvents",[sr(function(g,C){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Vn.focusIn(g)}),t.on("NodeChange",function(E){var O=d(E.parents);O.length>0?ar.set(g,s(O)):ar.set(g,[])})})])]),components:[]}},A_;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(A_||(A_={}));var QX=function(t,r,o,s,d){var g={};return g.height=LM(s+r.top,_D(t),SD(t)),o===A_.Both&&(g.width=LM(d+r.left,dT(t),Bk(t))),g},bV=function(t,r,o){var s=sn.fromDom(t.getContainer()),d=QX(t,r,o,Mo(s),Hi(s));Ur(d,function(g,C){return Xn(s,C,v7(g))}),VP(t)},eY=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?A_.None:o==="both"?A_.Both:A_.Vertical},KM=function(t,r,o,s){var d=20,g=ya(o*d,s*d);return bV(t,g,r),B.some(!0)},tY=function(t,r){var o=eY(t);return o===A_.None?B.none():B.some(pv("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[k_.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,d,g){return bV(t,g,o)},blockerClass:"tox-blocker"}),Vn.config({mode:"special",onLeft:function(){return KM(t,o,-1,0)},onRight:function(){return KM(t,o,1,0)},onUp:function(){return KM(t,o,0,-1)},onDown:function(){return KM(t,o,0,1)}}),Oo.config({}),er.config({})]},r.icons))},nY=function(t,r){var o,s=function(d,g,C){return ar.set(d,[Oi(r.translate(["{0} "+C,g[C]]))])};return ms.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Jt([pf.button(r.isDisabled),ti(),Oo.config({}),ar.config({}),an.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),lr("wordcount-events",[cs(function(d){var g=an.getValue(d),C=g.mode==="words"?"characters":"words";an.setValue(d,{mode:C,count:g.count}),s(d,g.count,C)}),sr(function(d){t.on("wordCountUpdate",function(g){var C=an.getValue(d).mode;an.setValue(d,{mode:C,count:g.wordCount}),s(d,g.wordCount,C)})})])]),eventOrder:(o={},o[Rs()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},rY=function(t,r){var o=function(){var g=gf.translate(["Powered by {0}","Tiny"]),C='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+g+'">'+g+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:C}}},s=function(){var g=[];return t.getParam("elementpath",!0,"boolean")&&g.push(JX(t,{},r)),t.hasPlugin("wordcount")&&g.push(nY(t,r)),t.getParam("branding",!0,"boolean")&&g.push(o()),g.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:g}]:[]},d=function(){var g=s(),C=tY(t,r);return g.concat(C.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:d()}},aY=function(t){var r,o=t.inline,s=o?Vq:Pq,d=Ik(t)?G3:$L,g=B.none(),C=Wn(),E=C.browser.isIE(),O=E?["tox-platform-ie"]:[],$=C.deviceType.isTouch(),U="tox-platform-touch",G=$?[U]:[],ee=OD(t),ae=$D(t),ve=gf.isRtl()?{attributes:{dir:"rtl"}}:{},Se={attributes:(r={},r[m0]=ee?nf.BottomToTop:nf.TopToBottom,r)},Ne=function(){return g.bind(zo.getHeader)},Ce=function(){return d.isDocked(Ne)},Fe=function(){Xn(Ku.element,"width",document.body.clientWidth+"px")},vt=function(){var bi=Sa(Li(),ae)&&ao(ae,"display")==="grid",Hm={dom:ne({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(O).concat(G)},ve),behaviours:Jt([go.config({useFixed:function(){return Ce()}})])},rp={dom:{styles:{width:document.body.clientWidth+"px"}},events:_a([Bt($s(),Fe)])};return yt(Hm,bi?rp:{})},ft=Wa(vt()),ze=function(){return mr.value(ft)},nt=oa({dom:{tag:"div",classes:["tox-anchorbar"]}}),St=function(){return g.bind(function(bi){return nt.getOpt(bi)}).getOrDie("Could not find a anchor bar element")},on=function(){return g.bind(function(bi){return zo.getToolbar(bi)}).getOrDie("Could not find more toolbar element")},Dt=function(){return g.bind(function(bi){return zo.getThrobber(bi)}).getOrDie("Could not find throbber element")},ln=N3(ft,t,St),Pt=zo.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ln,onEscape:function(){t.focus()}}),_t=FC(t),Xt=zo.parts.toolbar(ne({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ze,providers:ln.shared.providers,onEscape:function(){t.focus()},type:_t,lazyToolbar:on,lazyHeader:function(){return Ne().getOrDie("Could not find header element")}},Se)),Cn=zo.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ln.shared.providers,onEscape:function(){t.focus()},type:_t}),Ot=zo.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),bn=zo.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),En=zo.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ln}),Or=t.getParam("statusbar",!0,"boolean"),ia=Or&&!o?B.some(rY(t,ln.shared.providers)):B.none(),za={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Ot,bn]},lo=Mk(t),vl=hT(t),Tu=mT(t),nA=function(){return lo?[Cn]:vl?[Xt]:[]},pi=zo.parts.header({dom:ne({tag:"div",classes:["tox-editor-header"]},Se),components:ut([Tu?[Pt]:[],nA(),Pk(t)?[]:[nt.asSpec()]]),sticky:Ik(t),editor:t,sharedBackstage:ln.shared}),Z1=ut([ee?[]:[pi],o?[]:[za],ee?[pi]:[]]),J1={dom:{tag:"div",classes:["tox-editor-container"]},components:Z1},O_=ut([[J1],o?[]:ia.toArray(),[En]]),Q1=BD(t),D_=ne(ne({role:"application"},gf.isRtl()?{dir:"rtl"}:{}),Q1?{"aria-hidden":"true"}:{}),ys=Wa(zo.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(ee?["tox-tinymce--toolbar-bottom"]:[]).concat(G).concat(O),styles:ne({visibility:"hidden"},Q1?{opacity:"0",border:"0"}:{}),attributes:D_},components:O_,behaviours:Jt([ti(),Nn.config({disableClass:"tox-tinymce--disabled"}),Vn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));g=B.some(ys),t.shortcuts.add("alt+F9","focus menubar",function(){zo.focusMenubar(ys)}),t.shortcuts.add("alt+F10","focus toolbar",function(){zo.focusToolbar(ys)}),t.addCommand("ToggleToolbarDrawer",function(){zo.toggleToolbarDrawer(ys)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return zo.isToolbarDrawerToggled(ys)});var Ev=IR(ys),Ku=IR(ft);kL(t,Ev,Ku);var R_=function(){var bi={broadcastAll:Ku.broadcast,broadcastOn:Ku.broadcastOn,register:q};return{channels:bi}},np=function(){var bi=v7(Nq(t)),Hm=v7(zq(t));return t.inline||(ks("div","width",Hm)&&Xn(ys.element,"width",Hm),ks("div","height",bi)?Xn(ys.element,"height",bi):Xn(ys.element,"height","200px")),bi},Uy=function(){d.setup(t,ln.shared,Ne),LK(t,ln),lX(t,ze,ln),fe(t),so(t,Dt,ln.shared),dr(lP(t),function(Xu,dl){t.ui.registry.addGroupToolbarButton(dl,Xu)});var bi=t.ui.registry.getAll(),Hm=bi.buttons,rp=bi.menuItems,eb=bi.contextToolbars,Tv=bi.sidebars,ap=ED(t),dn={menuItems:rp,menus:vP(t),menubar:dP(t),toolbar:ap.getOrThunk(function(){return mP(t)}),allowToolbarGroups:_t===Vl.floating,buttons:Hm,sidebar:Tv};dK(t,eb,ft,{backstage:ln}),YX(t,ft);var gr=t.getElement(),la=np(),eo={mothership:Ev,uiMothership:Ku,outerContainer:ys},ws={targetNode:gr,height:la};return s.render(t,eo,dn,ln,ws)};return{mothership:Ev,uiMothership:Ku,backstage:ln,renderUI:Uy,getUi:R_}},oY=function(t,r){var o=B.from(Va(t,"id")).fold(function(){var s=wn("dialog-describe");return fr(r,"id",s),s},he);fr(t,"aria-describedby",o)},iY=function(t,r){var o=Ya(t,"id").fold(function(){var s=wn("dialog-label");return fr(r,"id",s),s},he);fr(t,"aria-labelledby",o)},uY=ie([At("lazySink"),Xr("dragBlockClass"),Ta("getBounds",xi),He("useTabstopAt",Ee),He("eventOrder",{}),Xo("modalBehaviours",[Vn]),Go("onExecute"),zu("onEscape")]),E7={sketch:he},sY=ie([ul({name:"draghandle",overrides:function(t,r){return{behaviours:Jt([k_.config({mode:"mouse",getTarget:function(o){return Wb(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),Mi({schema:[At("dom")],name:"title"}),Mi({factory:E7,schema:[At("dom")],name:"close"}),Mi({factory:E7,schema:[At("dom")],name:"body"}),ul({factory:E7,schema:[At("dom")],name:"footer"}),Fs({factory:{sketch:function(t,r){return ne(ne({},t),{dom:r.dom,components:r.components})}},schema:[He("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),He("components",[])],name:"blocker"})]),lY=function(t,r,o,s){var d,g=ho(),C=function(ve){g.set(ve);var Se=t.lazySink(ve).getOrDie(),Ne=s.blocker(),Ce=Se.getSystem().build(ne(ne({},Ne),{components:Ne.components.concat([zs(ve)]),behaviours:Jt([er.config({}),lr("dialog-blocker-events",[To(tl(),function(){Vn.focusIn(ve)})])])}));dm(Se,Ce),Vn.focusIn(ve)},E=function(ve){g.clear(),xo(ve.element).each(function(Se){ve.getSystem().getByDom(Se).each(function(Ne){yc(Ne)})})},O=function(ve){return ff(ve,t,"body")},$=function(ve){return ff(ve,t,"footer")},U=function(ve,Se){Ut.block(ve,Se)},G=function(ve){Ut.unblock(ve)},ee=wn("modal-events"),ae=ne(ne({},t.eventOrder),(d={},d[ls()]=[ee].concat(t.eventOrder["alloy.system.attached"]||[]),d));return{uid:t.uid,dom:t.dom,components:r,apis:{show:C,hide:E,getBody:O,getFooter:$,setIdle:G,setBusy:U},eventOrder:ae,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:ci(t.modalBehaviours,[ar.config({}),Vn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),Ut.config({getRoot:g.get}),lr(ee,[sr(function(ve){iY(ve.element,ff(ve,t,"title").element),oY(ve.element,ff(ve,t,"body").element)})])])}},Ni=xu({name:"ModalDialog",configFields:uY(),partFields:sY(),factory:lY,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),cY=Mn([Qn("type"),Qn("name")].concat(Lg)),fY=ui,yV=[Uo("name","name",Rr(function(){return wn("button-name")}),wo),Ea("icon"),Os("align","end",["start","end"]),Ca("primary",!1),Ca("disabled",!1)],wV=ke(ke([],yV,!0),[Qn("text")],!1),T7=ke([Ts("type",["submit","cancel","custom"])],wV,!0),vY=ke([Ts("type",["menu"]),Ea("text"),Ea("tooltip"),Ea("icon"),ji("items",cY)],yV,!0),dY=el("type",{submit:T7,cancel:T7,custom:T7,menu:vY}),mY=[Qn("type"),Qn("text"),Ts("level",["info","warn","error","success"]),Qn("icon"),He("url","")],hY=Mn(mY),gY=function(t){return[Qn("type"),t]},pY=[Qn("type"),Qn("text"),Ca("disabled",!1),Ca("primary",!1),Uo("name","name",Rr(function(){return wn("button-name")}),wo),Ea("icon"),Ca("borderless",!1)],bY=Mn(pY),yY=[Qn("type"),Qn("name"),Qn("label"),Ca("disabled",!1)],wY=Mn(yY),CY=ui,O7=[Qn("type"),Qn("name")],Od=O7.concat([Ea("label")]),_Y=Od.concat([He("columns","auto")]),SY=Mn(_Y),xY=c2([Qn("value"),Qn("text"),Qn("icon")]),kY=Od,AY=Mn(kY),EY=wo,TY=Od,OY=Mn(TY),DY=wo,RY=O7.concat([kh("tag","textarea"),Qn("scriptId"),Qn("scriptUrl"),Nu("settings",void 0)]),$Y=O7.concat([kh("tag","textarea"),tu("init")]),BY=Sh(function(t){return Za("customeditor.old",is($Y),t).orThunk(function(){return Za("customeditor.new",is(RY),t)})}),MY=wo,PY=Od,IY=Mn(PY),NY=EA(),zY=function(t){return[Qn("type"),Zf("columns"),t]},FY=[Qn("type"),Qn("html"),Os("presets","presentation",["presentation","document"])],LY=Mn(FY),HY=Od.concat([Ca("sandboxed",!0)]),VY=Mn(HY),UY=wo,WY=Od.concat([Iu("currentState",Mn([At("blob"),Qn("url")]))]),jY=Mn(WY),GY=Od.concat([Ea("inputMode"),Ea("placeholder"),Ca("maximized",!1),Ca("disabled",!1)]),qY=Mn(GY),KY=wo,XY=function(t){return[Qn("type"),Qn("label"),t]},YY=[Qn("text"),Qn("value")],ZY=[Qn("text"),ji("items",TA("items",function(){return CV}))],CV=xp([Mn(YY),Mn(ZY)]),JY=Od.concat([ji("items",CV),Ca("disabled",!1)]),QY=Mn(JY),eZ=wo,tZ=Od.concat([Dl("items",[Qn("text"),Qn("value")]),lc("size",1),Ca("disabled",!1)]),nZ=Mn(tZ),rZ=wo,aZ=Od.concat([Ca("constrain",!0),Ca("disabled",!1)]),oZ=Mn(aZ),_V=Mn([Qn("width"),Qn("height")]),iZ=[Qn("type"),ji("header",wo),ji("cells",Yf(wo))],uZ=Mn(iZ),sZ=Od.concat([Ea("placeholder"),Ca("maximized",!1),Ca("disabled",!1)]),lZ=Mn(sZ),cZ=wo,fZ=Od.concat([Os("filetype","file",["image","media","file"]),He("disabled",!1)]),vZ=Mn(fZ),dZ=Mn([Qn("value"),He("meta",{})]),D7=function(t){return Uo("items","items",rr(),Yf(Sh(function(r){return Za("Checking item of "+t,R7,r).fold(function(o){return mr.error(Fv(o))},function(o){return mr.value(o)})})))},R7=X_(function(){return wb("type",{alertbanner:hY,bar:Mn(gY(D7("bar"))),button:bY,checkbox:wY,colorinput:AY,colorpicker:OY,dropzone:IY,grid:Mn(zY(D7("grid"))),iframe:VY,input:qY,listbox:QY,selectbox:nZ,sizeinput:oZ,textarea:lZ,urlinput:vZ,customeditor:BY,htmlpanel:LY,imagetools:jY,collection:SY,label:Mn(XY(D7("label"))),table:uZ,panel:SV})}),mZ=[Qn("type"),He("classes",[]),ji("items",R7)],SV=Mn(mZ),hZ=[Uo("name","name",Rr(function(){return wn("tab-name")}),wo),Qn("title"),ji("items",R7)],gZ=[Qn("type"),Dl("tabs",hZ)],pZ=Mn(gZ),bZ=wV,yZ=dY,wZ=Mn([Qn("title"),Iu("body",wb("type",{panel:SV,tabpanel:pZ})),kh("size","normal"),ji("buttons",yZ),He("initialData",{}),Ta("onAction",q),Ta("onChange",q),Ta("onSubmit",q),Ta("onClose",q),Ta("onCancel",q),He("onTabChange",q)]),CZ=function(t){return Za("dialog",wZ,t)},_Z=Mn(ke([Ts("type",["cancel","custom"])],bZ,!0)),SZ=Mn([Qn("title"),Qn("url"),Hd("height"),Hd("width"),us("buttons",_Z),Ta("onAction",q),Ta("onCancel",q),Ta("onClose",q),Ta("onMessage",q)]),xZ=function(t){return Za("dialog",SZ,t)},$7=function(t){return x(t)?[t].concat(jt(Ci(t),$7)):T(t)?jt(t,$7):[]},kZ=function(t){return _(t.type)&&_(t.name)},AZ={checkbox:CY,colorinput:EY,colorpicker:DY,dropzone:NY,input:KY,iframe:UY,sizeinput:_V,selectbox:rZ,listbox:eZ,size:_V,textarea:cZ,urlinput:dZ,customeditor:MY,collection:xY,togglemenuitem:fY},EZ=function(t){return B.from(AZ[t.type])},TZ=function(t){return Ae($7(t),kZ)},OZ=function(t){var r=TZ(t),o=jt(r,function(s){return EZ(s).fold(function(){return[]},function(d){return[Iu(s.name,d)]})});return Mn(o)},xV=function(t){var r=Ol(CZ(t)),o=OZ(t),s=t.initialData;return{internalDialog:r,dataValidator:o,initialData:s}},d5={open:function(t,r){var o=xV(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=Ol(xZ(r));return t(o)},redial:function(t){return xV(t)}},kV=function(t){var r=[],o={};return Ur(t,function(s,d){s.fold(function(){r.push(d)},function(g){o[d]=g})}),r.length>0?mr.error(r):mr.value(o)},DZ=function(t,r){var o=oa($y.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Ue(t.items,function(d){return $3(s,d,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:Jt([Vn.config({mode:"acyclic",useTabstopAt:Xe(v_)}),Cv.memento(o),Pm.memento(o,{postprocess:function(s){return kV(s).fold(function(d){return console.error(d),{}},he)}})])}},RZ=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:hy(t.action),behaviours:ci(t.tabButtonBehaviours,[er.config({}),Vn.config({mode:"execution",useSpace:!0,useEnter:!0}),an.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},$Z=Ls({name:"TabButton",configFields:[He("uid",void 0),At("value"),Uo("dom","dom",ki(function(){return{attributes:{role:"tab",id:wn("aria"),"aria-selected":"false"}}}),Tl()),Xr("action"),He("domModification",{}),Xo("tabButtonBehaviours",[er,Vn,an]),At("view")],factory:RZ}),BZ=ie([At("tabs"),At("dom"),He("clickToDismiss",!1),Xo("tabbarBehaviours",[na,Vn]),nm(["tabClass","selectedClass"])]),MZ=cf({factory:$Z,name:"tabs",unit:"tab",overrides:function(t){var r=function(s,d){na.dehighlight(s,d),Fn(s,Ei(),{tabbar:s,button:d})},o=function(s,d){na.highlight(s,d),Fn(s,aS(),{tabbar:s,button:d})};return{action:function(s){var d=s.getSystem().getByUid(t.uid).getOrDie(),g=na.isHighlighted(d,s),C=function(){return g&&t.clickToDismiss?r:g?q:o}();C(d,s)},domModification:{classes:[t.markers.tabClass]}}}}),PZ=ie([MZ]),IZ=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:ci(t.tabbarBehaviours,[na.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(d,g){fr(g.element,"aria-selected","true")},onDehighlight:function(d,g){fr(g.element,"aria-selected","false")}}),Vn.config({mode:"flow",getInitial:function(d){return na.getHighlighted(d).map(function(g){return g.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},AV=xu({name:"Tabbar",configFields:BZ(),partFields:PZ(),factory:IZ}),NZ=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:ci(t.tabviewBehaviours,[ar.config({})]),domModification:{attributes:{role:"tabpanel"}}}},zZ=Ls({name:"Tabview",configFields:[Xo("tabviewBehaviours",[ar])],factory:NZ}),FZ=ie([He("selectFirst",!0),Yr("onChangeTab"),Yr("onDismissTab"),He("tabs",[]),Xo("tabSectionBehaviours",[])]),LZ=Mi({factory:AV,schema:[At("dom"),Wc("markers",[At("tabClass"),At("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),HZ=Mi({factory:zZ,name:"tabview"}),VZ=ie([LZ,HZ]),UZ=function(t,r,o,s){var d=function(C){var E=an.getValue(C);pa(C,t,"tabview").each(function(O){var $=bt(t.tabs,function(U){return U.value===E});$.each(function(U){var G=U.view();Ya(C.element,"id").each(function(ee){fr(O.element,"aria-labelledby",ee)}),ar.set(O,G),t.onChangeTab(O,C,G)})})},g=function(C,E){pa(C,t,"tabbar").each(function(O){E(O).each(Bs)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:gg(t.tabSectionBehaviours),events:_a(ut([t.selectFirst?[sr(function(C,E){g(C,na.getFirst)})]:[],[Bt(aS(),function(C,E){var O=E.event.button;d(O)}),Bt(Ei(),function(C,E){var O=E.event.button;t.onDismissTab(C,O)})]])),apis:{getViewItems:function(C){return pa(C,t,"tabview").map(function(E){return ar.contents(E)}).getOr([])},showTab:function(C,E){var O=function($){var U=na.getCandidates($),G=bt(U,function(ee){return an.getValue(ee)===E});return G.filter(function(ee){return!na.isHighlighted($,ee)})};g(C,O)}}}},tA=xu({name:"TabSection",configFields:FZ(),partFields:VZ(),factory:UZ,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),WZ=function(t,r,o){return Ue(t,function(s,d){ar.set(o,t[d].view());var g=r.dom.getBoundingClientRect();return ar.set(o,[]),g.height})},jZ=function(t){return ir(vr(t,function(r,o){return r>o?-1:r<o?1:0}))},GZ=function(t,r,o){var s=Ct(t).dom,d=Wb(t,".tox-dialog-wrap").getOr(t),g=ao(d,"position")==="fixed",C;g?C=Math.max(s.clientHeight,window.innerHeight):C=Math.max(s.offsetHeight,s.scrollHeight);var E=Mo(r),O=r.dom.offsetLeft>=o.dom.offsetLeft+Hi(o),$=O?Math.max(Mo(o),E):E,U=parseInt(ao(t,"margin-top"),10)||0,G=parseInt(ao(t,"margin-bottom"),10)||0,ee=Mo(t)+U+G,ae=ee-$;return C-ae},qZ=function(t,r){ir(t).each(function(o){return tA.showTab(r,o.value)})},EV=function(t,r){Xn(t,"height",r+"px"),Wn().browser.isIE()?Kr(t,"flex-basis"):Xn(t,"flex-basis",r+"px")},XM=function(t,r,o){Wb(t,'[role="dialog"]').each(function(s){jo(s,'[role="tablist"]').each(function(d){o.get().map(function(g){return Xn(r,"height","0"),Xn(r,"flex-basis","0"),Math.min(g,GZ(s,r,d))}).each(function(g){EV(r,g)})})})},B7=function(t){return jo(t,'[role="tabpanel"]')},KZ=function(t){var r=function(){var s=ho(),d=[sr(function(C){var E=C.element;B7(E).each(function(O){Xn(O,"visibility","hidden"),C.getSystem().getByDom(O).toOptional().each(function($){var U=WZ(t,O,$),G=jZ(U);G.fold(s.clear,s.set)}),XM(E,O,s),Kr(O,"visibility"),qZ(t,C),Fg.requestAnimationFrame(function(){XM(E,O,s)})})}),Bt($s(),function(C){var E=C.element;B7(E).each(function(O){XM(E,O,s)})}),Bt(IT,function(C,E){var O=C.element;B7(O).each(function($){var U=Su(xs($));Xn($,"visibility","hidden");var G=Ao($,"height").map(function(ve){return parseInt(ve,10)});Kr($,"height"),Kr($,"flex-basis");var ee=$.dom.getBoundingClientRect().height,ae=G.forall(function(ve){return ee>ve});ae?(s.set(ee),XM(O,$,s)):G.each(function(ve){EV($,ve)}),Kr($,"visibility"),U.each(mc)})})],g=!1;return{extraEvents:d,selectFirst:g}}(),o=function(){var s=[],d=!0;return{extraEvents:s,selectFirst:d}}();return{smartTabHeight:r,naiveTabHeight:o}},TV="send-data-to-section",OV="send-data-to-view",XZ=function(t,r){var o=zn({}),s=function(O){var $=an.getValue(O),U=kV($).getOr({}),G=o.get(),ee=yt(G,U);o.set(ee)},d=function(O){var $=o.get();an.setValue(O,$)},g=zn(null),C=Ue(t.tabs,function(O){return{value:O.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(O.title)},view:function(){return[$y.sketch(function($){return{dom:{tag:"div",classes:["tox-form"]},components:Ue(O.items,function(U){return $3($,U,r)}),formBehaviours:Jt([Vn.config({mode:"acyclic",useTabstopAt:Xe(v_)}),lr("TabView.form.events",[sr(d),Ms(s)]),nu.config({channels:Qf([{key:TV,value:{onReceive:s}},{key:OV,value:{onReceive:d}}])})])}})]}}}),E=KZ(C).smartTabHeight;return tA.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(O,$,U){var G=an.getValue($);Fn(O,PT,{name:G,oldName:g.get()}),g.set(G)},tabs:C,components:[tA.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[AV.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Jt([Oo.config({})])}),tA.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:E.selectFirst,tabSectionBehaviours:Jt([lr("tabpanel",E.extraEvents),Vn.config({mode:"acyclic"}),Ar.config({find:function(O){return ir(tA.getViewItems(O))}}),an.config({store:{mode:"manual",getValue:function(O){return O.getSystem().broadcastOn([TV],{}),o.get()},setValue:function(O,$){o.set($),O.getSystem().broadcastOn([OV],{})}}})])})},M7=wn("update-dialog"),DV=wn("update-title"),RV=wn("update-body"),$V=wn("update-footer"),BV=wn("body-send-message"),MV=function(t,r,o,s){var d=function(E){switch(E.body.type){case"tabpanel":return[XZ(E.body,o)];default:return[DZ(E.body,o)]}},g=function(E,O){return B.some({isTabPanel:function(){return O.body.type==="tabpanel"}})},C={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:ne(ne({},r.map(function(E){return{id:E}}).getOr({})),s?C:{})},components:[],behaviours:Jt([Cv.childAt(0),Ec.config({channel:RV,updateState:g,renderComponents:d,initialData:t})])}},YZ=function(t,r,o,s){return MV(t,B.some(r),o,s)},ZZ=function(t,r){var o=MV(t,B.none(),r,!1);return Ni.parts.body(o)},JZ=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[gO({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Jt([Oo.config({}),er.config({})])})]}],behaviours:Jt([Vn.config({mode:"acyclic",useTabstopAt:Xe(v_)})])};return Ni.parts.body(r)};function E_(t){"@babel/helpers - typeof";return E_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},E_(t)}function P7(t,r){return P7=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},P7(t,r)}function QZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function YM(t,r,o){return QZ()?YM=Reflect.construct:YM=function(d,g,C){var E=[null];E.push.apply(E,g);var O=Function.bind.apply(d,E),$=new O;return C&&P7($,C.prototype),$},YM.apply(null,arguments)}function Fm(t){return eJ(t)||tJ(t)||nJ(t)||rJ()}function eJ(t){if(Array.isArray(t))return I7(t)}function tJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nJ(t,r){if(t){if(typeof t=="string")return I7(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return I7(t,r)}}function I7(t,r){(r==null||r>t.length)&&(r=t.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=t[o];return s}function rJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var aJ=Object.hasOwnProperty,PV=Object.setPrototypeOf,oJ=Object.isFrozen,iJ=Object.getPrototypeOf,uJ=Object.getOwnPropertyDescriptor,Tc=Object.freeze,tp=Object.seal,sJ=Object.create,IV=typeof Reflect<"u"&&Reflect,ZM=IV.apply,N7=IV.construct;ZM||(ZM=function(r,o,s){return r.apply(o,s)}),Tc||(Tc=function(r){return r}),tp||(tp=function(r){return r}),N7||(N7=function(r,o){return YM(r,Fm(o))});var lJ=Lm(Array.prototype.forEach),NV=Lm(Array.prototype.pop),m5=Lm(Array.prototype.push),JM=Lm(String.prototype.toLowerCase),cJ=Lm(String.prototype.match),Vy=Lm(String.prototype.replace),fJ=Lm(String.prototype.indexOf),vJ=Lm(String.prototype.trim),Oc=Lm(RegExp.prototype.test),z7=dJ(TypeError);function Lm(t){return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),d=1;d<o;d++)s[d-1]=arguments[d];return ZM(t,r,s)}}function dJ(t){return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return N7(t,o)}}function Da(t,r){PV&&PV(t,null);for(var o=r.length;o--;){var s=r[o];if(typeof s=="string"){var d=JM(s);d!==s&&(oJ(r)||(r[o]=d),s=d)}t[s]=!0}return t}function T_(t){var r=sJ(null),o;for(o in t)ZM(aJ,t,[o])&&(r[o]=t[o]);return r}function QM(t,r){for(;t!==null;){var o=uJ(t,r);if(o){if(o.get)return Lm(o.get);if(typeof o.value=="function")return Lm(o.value)}t=iJ(t)}function s(d){return console.warn("fallback value for",d),null}return s}var zV=Tc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F7=Tc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L7=Tc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mJ=Tc(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),H7=Tc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),hJ=Tc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),FV=Tc(["#text"]),LV=Tc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),V7=Tc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),HV=Tc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),e6=Tc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),gJ=tp(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pJ=tp(/<%[\w\W]*|[\w\W]*%>/gm),bJ=tp(/^data-[\-\w.\u00B7-\uFFFF]/),yJ=tp(/^aria-[\-\w]+$/),wJ=tp(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),CJ=tp(/^(?:\w+script|data):/i),_J=tp(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),SJ=tp(/^html$/i),xJ=function(){return typeof window>"u"?null:window},kJ=function(r,o){if(E_(r)!=="object"||typeof r.createPolicy!="function")return null;var s=null,d="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(d)&&(s=o.currentScript.getAttribute(d));var g="dompurify"+(s?"#"+s:"");try{return r.createPolicy(g,{createHTML:function(E){return E}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function VV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xJ(),r=function(dt){return VV(dt)};if(r.version="2.3.8",r.removed=[],!t||!t.document||t.document.nodeType!==9)return r.isSupported=!1,r;var o=t.document,s=t.document,d=t.DocumentFragment,g=t.HTMLTemplateElement,C=t.Node,E=t.Element,O=t.NodeFilter,$=t.NamedNodeMap,U=$===void 0?t.NamedNodeMap||t.MozNamedAttrMap:$,G=t.HTMLFormElement,ee=t.DOMParser,ae=t.trustedTypes,ve=E.prototype,Se=QM(ve,"cloneNode"),Ne=QM(ve,"nextSibling"),Ce=QM(ve,"childNodes"),Fe=QM(ve,"parentNode");if(typeof g=="function"){var vt=s.createElement("template");vt.content&&vt.content.ownerDocument&&(s=vt.content.ownerDocument)}var ft=kJ(ae,o),ze=ft?ft.createHTML(""):"",nt=s,St=nt.implementation,on=nt.createNodeIterator,Dt=nt.createDocumentFragment,ln=nt.getElementsByTagName,Pt=o.importNode,_t={};try{_t=T_(s).documentMode?s.documentMode:{}}catch{}var Xt={};r.isSupported=typeof Fe=="function"&&St&&typeof St.createHTMLDocument<"u"&&_t!==9;var Cn=gJ,Ot=pJ,bn=bJ,En=yJ,Or=CJ,ia=_J,za=wJ,lo=null,vl=Da({},[].concat(Fm(zV),Fm(F7),Fm(L7),Fm(H7),Fm(FV))),Tu=null,nA=Da({},[].concat(Fm(LV),Fm(V7),Fm(HV),Fm(e6))),pi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Z1=null,J1=null,O_=!0,Q1=!0,D_=!1,ys=!1,Ev=!1,Ku=!1,R_=!1,np=!1,Uy=!1,bi=!1,Hm=!0,rp=!0,eb=!1,Tv={},ap=null,dn=Da({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),gr=null,la=Da({},["audio","video","img","source","image","track"]),eo=null,ws=Da({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xu="http://www.w3.org/1998/Math/MathML",dl="http://www.w3.org/2000/svg",Dc="http://www.w3.org/1999/xhtml",Wy=Dc,$_=!1,jy,q7=["application/xhtml+xml","text/html"],K7="text/html",tb,Gy=null,QJ=s.createElement("form"),lU=function(dt){return dt instanceof RegExp||dt instanceof Function},X7=function(dt){Gy&&Gy===dt||((!dt||E_(dt)!=="object")&&(dt={}),dt=T_(dt),lo="ALLOWED_TAGS"in dt?Da({},dt.ALLOWED_TAGS):vl,Tu="ALLOWED_ATTR"in dt?Da({},dt.ALLOWED_ATTR):nA,eo="ADD_URI_SAFE_ATTR"in dt?Da(T_(ws),dt.ADD_URI_SAFE_ATTR):ws,gr="ADD_DATA_URI_TAGS"in dt?Da(T_(la),dt.ADD_DATA_URI_TAGS):la,ap="FORBID_CONTENTS"in dt?Da({},dt.FORBID_CONTENTS):dn,Z1="FORBID_TAGS"in dt?Da({},dt.FORBID_TAGS):{},J1="FORBID_ATTR"in dt?Da({},dt.FORBID_ATTR):{},Tv="USE_PROFILES"in dt?dt.USE_PROFILES:!1,O_=dt.ALLOW_ARIA_ATTR!==!1,Q1=dt.ALLOW_DATA_ATTR!==!1,D_=dt.ALLOW_UNKNOWN_PROTOCOLS||!1,ys=dt.SAFE_FOR_TEMPLATES||!1,Ev=dt.WHOLE_DOCUMENT||!1,np=dt.RETURN_DOM||!1,Uy=dt.RETURN_DOM_FRAGMENT||!1,bi=dt.RETURN_TRUSTED_TYPE||!1,R_=dt.FORCE_BODY||!1,Hm=dt.SANITIZE_DOM!==!1,rp=dt.KEEP_CONTENT!==!1,eb=dt.IN_PLACE||!1,za=dt.ALLOWED_URI_REGEXP||za,Wy=dt.NAMESPACE||Dc,dt.CUSTOM_ELEMENT_HANDLING&&lU(dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(pi.tagNameCheck=dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),dt.CUSTOM_ELEMENT_HANDLING&&lU(dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(pi.attributeNameCheck=dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),dt.CUSTOM_ELEMENT_HANDLING&&typeof dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(pi.allowCustomizedBuiltInElements=dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),jy=q7.indexOf(dt.PARSER_MEDIA_TYPE)===-1?jy=K7:jy=dt.PARSER_MEDIA_TYPE,tb=jy==="application/xhtml+xml"?function(Sn){return Sn}:JM,ys&&(Q1=!1),Uy&&(np=!0),Tv&&(lo=Da({},Fm(FV)),Tu=[],Tv.html===!0&&(Da(lo,zV),Da(Tu,LV)),Tv.svg===!0&&(Da(lo,F7),Da(Tu,V7),Da(Tu,e6)),Tv.svgFilters===!0&&(Da(lo,L7),Da(Tu,V7),Da(Tu,e6)),Tv.mathMl===!0&&(Da(lo,H7),Da(Tu,HV),Da(Tu,e6))),dt.ADD_TAGS&&(lo===vl&&(lo=T_(lo)),Da(lo,dt.ADD_TAGS)),dt.ADD_ATTR&&(Tu===nA&&(Tu=T_(Tu)),Da(Tu,dt.ADD_ATTR)),dt.ADD_URI_SAFE_ATTR&&Da(eo,dt.ADD_URI_SAFE_ATTR),dt.FORBID_CONTENTS&&(ap===dn&&(ap=T_(ap)),Da(ap,dt.FORBID_CONTENTS)),rp&&(lo["#text"]=!0),Ev&&Da(lo,["html","head","body"]),lo.table&&(Da(lo,["tbody"]),delete Z1.tbody),Tc&&Tc(dt),Gy=dt)},cU=Da({},["mi","mo","mn","ms","mtext"]),fU=Da({},["foreignobject","desc","title","annotation-xml"]),eQ=Da({},["title","style","font","a","script"]),t6=Da({},F7);Da(t6,L7),Da(t6,mJ);var Y7=Da({},H7);Da(Y7,hJ);var tQ=function(dt){var Sn=Fe(dt);(!Sn||!Sn.tagName)&&(Sn={namespaceURI:Dc,tagName:"template"});var cr=JM(dt.tagName),Fo=JM(Sn.tagName);return dt.namespaceURI===dl?Sn.namespaceURI===Dc?cr==="svg":Sn.namespaceURI===Xu?cr==="svg"&&(Fo==="annotation-xml"||cU[Fo]):!!t6[cr]:dt.namespaceURI===Xu?Sn.namespaceURI===Dc?cr==="math":Sn.namespaceURI===dl?cr==="math"&&fU[Fo]:!!Y7[cr]:dt.namespaceURI===Dc?Sn.namespaceURI===dl&&!fU[Fo]||Sn.namespaceURI===Xu&&!cU[Fo]?!1:!Y7[cr]&&(eQ[cr]||!t6[cr]):!1},nb=function(dt){m5(r.removed,{element:dt});try{dt.parentNode.removeChild(dt)}catch{try{dt.outerHTML=ze}catch{dt.remove()}}},vU=function(dt,Sn){try{m5(r.removed,{attribute:Sn.getAttributeNode(dt),from:Sn})}catch{m5(r.removed,{attribute:null,from:Sn})}if(Sn.removeAttribute(dt),dt==="is"&&!Tu[dt])if(np||Uy)try{nb(Sn)}catch{}else try{Sn.setAttribute(dt,"")}catch{}},dU=function(dt){var Sn,cr;if(R_)dt="<remove></remove>"+dt;else{var Fo=cJ(dt,/^[\r\n\t ]+/);cr=Fo&&Fo[0]}jy==="application/xhtml+xml"&&(dt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+dt+"</body></html>");var Af=ft?ft.createHTML(dt):dt;if(Wy===Dc)try{Sn=new ee().parseFromString(Af,jy)}catch{}if(!Sn||!Sn.documentElement){Sn=St.createDocument(Wy,"template",null);try{Sn.documentElement.innerHTML=$_?"":Af}catch{}}var Gl=Sn.body||Sn.documentElement;return dt&&cr&&Gl.insertBefore(s.createTextNode(cr),Gl.childNodes[0]||null),Wy===Dc?ln.call(Sn,Ev?"html":"body")[0]:Ev?Sn.documentElement:Gl},mU=function(dt){return on.call(dt.ownerDocument||dt,dt,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT,null,!1)},nQ=function(dt){return dt instanceof G&&(typeof dt.nodeName!="string"||typeof dt.textContent!="string"||typeof dt.removeChild!="function"||!(dt.attributes instanceof U)||typeof dt.removeAttribute!="function"||typeof dt.setAttribute!="function"||typeof dt.namespaceURI!="string"||typeof dt.insertBefore!="function")},h5=function(dt){return E_(C)==="object"?dt instanceof C:dt&&E_(dt)==="object"&&typeof dt.nodeType=="number"&&typeof dt.nodeName=="string"},rb=function(dt,Sn,cr){Xt[dt]&&lJ(Xt[dt],function(Fo){Fo.call(r,Sn,cr,Gy)})},hU=function(dt){var Sn;if(rb("beforeSanitizeElements",dt,null),nQ(dt)||Oc(/[\u0080-\uFFFF]/,dt.nodeName))return nb(dt),!0;var cr=tb(dt.nodeName);if(rb("uponSanitizeElement",dt,{tagName:cr,allowedTags:lo}),dt.hasChildNodes()&&!h5(dt.firstElementChild)&&(!h5(dt.content)||!h5(dt.content.firstElementChild))&&Oc(/<[/\w]/g,dt.innerHTML)&&Oc(/<[/\w]/g,dt.textContent)||cr==="select"&&Oc(/<template/i,dt.innerHTML))return nb(dt),!0;if(!lo[cr]||Z1[cr]){if(!Z1[cr]&&pU(cr)&&(pi.tagNameCheck instanceof RegExp&&Oc(pi.tagNameCheck,cr)||pi.tagNameCheck instanceof Function&&pi.tagNameCheck(cr)))return!1;if(rp&&!ap[cr]){var Fo=Fe(dt)||dt.parentNode,Af=Ce(dt)||dt.childNodes;if(Af&&Fo)for(var Gl=Af.length,ml=Gl-1;ml>=0;--ml)Fo.insertBefore(Se(Af[ml],!0),Ne(dt))}return nb(dt),!0}return dt instanceof E&&!tQ(dt)||(cr==="noscript"||cr==="noembed")&&Oc(/<\/no(script|embed)/i,dt.innerHTML)?(nb(dt),!0):(ys&&dt.nodeType===3&&(Sn=dt.textContent,Sn=Vy(Sn,Cn," "),Sn=Vy(Sn,Ot," "),dt.textContent!==Sn&&(m5(r.removed,{element:dt.cloneNode()}),dt.textContent=Sn)),rb("afterSanitizeElements",dt,null),!1)},gU=function(dt,Sn,cr){if(Hm&&(Sn==="id"||Sn==="name")&&(cr in s||cr in QJ))return!1;if(!(Q1&&!J1[Sn]&&Oc(bn,Sn))){if(!(O_&&Oc(En,Sn))){if(!Tu[Sn]||J1[Sn]){if(!(pU(dt)&&(pi.tagNameCheck instanceof RegExp&&Oc(pi.tagNameCheck,dt)||pi.tagNameCheck instanceof Function&&pi.tagNameCheck(dt))&&(pi.attributeNameCheck instanceof RegExp&&Oc(pi.attributeNameCheck,Sn)||pi.attributeNameCheck instanceof Function&&pi.attributeNameCheck(Sn))||Sn==="is"&&pi.allowCustomizedBuiltInElements&&(pi.tagNameCheck instanceof RegExp&&Oc(pi.tagNameCheck,cr)||pi.tagNameCheck instanceof Function&&pi.tagNameCheck(cr))))return!1}else if(!eo[Sn]){if(!Oc(za,Vy(cr,ia,""))){if(!((Sn==="src"||Sn==="xlink:href"||Sn==="href")&&dt!=="script"&&fJ(cr,"data:")===0&&gr[dt])){if(!(D_&&!Oc(Or,Vy(cr,ia,"")))){if(cr)return!1}}}}}}return!0},pU=function(dt){return dt.indexOf("-")>0},bU=function(dt){var Sn,cr,Fo,Af;rb("beforeSanitizeAttributes",dt,null);var Gl=dt.attributes;if(Gl){var ml={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Tu};for(Af=Gl.length;Af--;){Sn=Gl[Af];var n6=Sn,Rc=n6.name,yU=n6.namespaceURI;if(cr=Rc==="value"?Sn.value:vJ(Sn.value),Fo=tb(Rc),ml.attrName=Fo,ml.attrValue=cr,ml.keepAttr=!0,ml.forceKeepAttr=void 0,rb("uponSanitizeAttribute",dt,ml),cr=ml.attrValue,!ml.forceKeepAttr&&(vU(Rc,dt),!!ml.keepAttr)){if(Oc(/\/>/i,cr)){vU(Rc,dt);continue}ys&&(cr=Vy(cr,Cn," "),cr=Vy(cr,Ot," "));var aQ=tb(dt.nodeName);if(gU(aQ,Fo,cr))try{yU?dt.setAttributeNS(yU,Rc,cr):dt.setAttribute(Rc,cr),NV(r.removed)}catch{}}}rb("afterSanitizeAttributes",dt,null)}},rQ=function kr(dt){var Sn,cr=mU(dt);for(rb("beforeSanitizeShadowDOM",dt,null);Sn=cr.nextNode();)rb("uponSanitizeShadowNode",Sn,null),!hU(Sn)&&(Sn.content instanceof d&&kr(Sn.content),bU(Sn));rb("afterSanitizeShadowDOM",dt,null)};return r.sanitize=function(kr,dt){var Sn,cr,Fo,Af,Gl;if($_=!kr,$_&&(kr="<!-->"),typeof kr!="string"&&!h5(kr)){if(typeof kr.toString!="function")throw z7("toString is not a function");if(kr=kr.toString(),typeof kr!="string")throw z7("dirty is not a string, aborting")}if(!r.isSupported){if(E_(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof kr=="string")return t.toStaticHTML(kr);if(h5(kr))return t.toStaticHTML(kr.outerHTML)}return kr}if(Ku||X7(dt),r.removed=[],typeof kr=="string"&&(eb=!1),eb){if(kr.nodeName){var ml=tb(kr.nodeName);if(!lo[ml]||Z1[ml])throw z7("root node is forbidden and cannot be sanitized in-place")}}else if(kr instanceof C)Sn=dU("<!---->"),cr=Sn.ownerDocument.importNode(kr,!0),cr.nodeType===1&&cr.nodeName==="BODY"||cr.nodeName==="HTML"?Sn=cr:Sn.appendChild(cr);else{if(!np&&!ys&&!Ev&&kr.indexOf("<")===-1)return ft&&bi?ft.createHTML(kr):kr;if(Sn=dU(kr),!Sn)return np?null:bi?ze:""}Sn&&R_&&nb(Sn.firstChild);for(var n6=mU(eb?kr:Sn);Fo=n6.nextNode();)Fo.nodeType===3&&Fo===Af||hU(Fo)||(Fo.content instanceof d&&rQ(Fo.content),bU(Fo),Af=Fo);if(Af=null,eb)return kr;if(np){if(Uy)for(Gl=Dt.call(Sn.ownerDocument);Sn.firstChild;)Gl.appendChild(Sn.firstChild);else Gl=Sn;return Tu.shadowroot&&(Gl=Pt.call(o,Gl,!0)),Gl}var Rc=Ev?Sn.outerHTML:Sn.innerHTML;return Ev&&lo["!doctype"]&&Sn.ownerDocument&&Sn.ownerDocument.doctype&&Sn.ownerDocument.doctype.name&&Oc(SJ,Sn.ownerDocument.doctype.name)&&(Rc="<!DOCTYPE "+Sn.ownerDocument.doctype.name+`>
`+Rc),ys&&(Rc=Vy(Rc,Cn," "),Rc=Vy(Rc,Ot," ")),ft&&bi?ft.createHTML(Rc):Rc},r.setConfig=function(kr){X7(kr),Ku=!0},r.clearConfig=function(){Gy=null,Ku=!1},r.isValidAttribute=function(kr,dt,Sn){Gy||X7({});var cr=tb(kr),Fo=tb(dt);return gU(cr,Fo,Sn)},r.addHook=function(kr,dt){typeof dt=="function"&&(Xt[kr]=Xt[kr]||[],m5(Xt[kr],dt))},r.removeHook=function(kr){if(Xt[kr])return NV(Xt[kr])},r.removeHooks=function(kr){Xt[kr]&&(Xt[kr]=[])},r.removeAllHooks=function(){Xt={}},r}var AJ=VV(),EJ=function(t){return AJ().sanitize(t)},TJ=Fk.deviceType.isTouch(),UV=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},WV=function(t,r){return Ni.parts.close(ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:Jt([Oo.config({})])}))},jV=function(){return Ni.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},GV=function(t,r){return Ni.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Qt("<p>"+EJ(r.translate(t))+"</p>")}]}]})},qV=function(t){return Ni.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},KV=function(t,r){return[ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},U7=function(t){var r,o="tox-dialog",s=o+"-wrap",d=s+"__backdrop",g=o+"__disable-scroll";return Ni.sketch({lazySink:t.lazySink,onEscape:function(C){return t.onEscape(C),B.some(!0)},useTabstopAt:function(C){return!v_(C)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:ne({position:"relative"},t.extraStyles)},components:ke([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:Qt('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:TJ?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:s,modalBehaviours:Jt(ke([er.config({}),lr("dialog-events",t.dialogEvents.concat([To(tl(),function(C,E){Vn.focusIn(C)})])),lr("scroll-lock",[sr(function(){Wo(Li(),g)}),Ms(function(){Io(Li(),g)})])],t.extraBehaviours,!0)),eventOrder:ne((r={},r[Rs()]=["dialog-events"],r[ls()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[Rh()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},XV=function(t){return ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[pv("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(r){Wr(r,D1)}})},YV=function(t,r,o){var s=function(d){return[Oi(o.translate(d.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:ne({},r.map(function(d){return{id:d}}).getOr({}))},components:s(t),behaviours:Jt([Ec.config({channel:DV,renderComponents:s})])}},ZV=function(){return{dom:Qt('<div class="tox-dialog__draghandle"></div>')}},OJ=function(t,r,o){return ku.sketch({dom:Qt('<div class="tox-dialog__header"></div>'),components:[YV(t,B.some(r),o),ZV(),XV(o)],containerBehaviours:Jt([k_.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return al(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},DJ=function(t,r){var o=Ni.parts.title(YV(t,B.none(),r)),s=Ni.parts.draghandle(ZV()),d=Ni.parts.close(XV(r)),g=[o].concat(t.draggable?[s]:[]).concat([d]);return ku.sketch({dom:Qt('<div class="tox-dialog__header"></div>'),components:g})},JV=function(t,r){return DJ({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},QV=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:Qt('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},eU=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(s){Ni.setBusy(t(),function(d,g){return QV(s.message,g,r)})},onUnblock:function(){Ni.setIdle(t())}}},tU=function(t,r,o,s){var d,g=function(C,E){return B.some(E)};return Wa(U7(ne(ne({},t),{lazySink:s.shared.getSink,extraBehaviours:ke([Ec.config({channel:M7,updateState:g,initialData:r}),Pm.memory({})],t.extraBehaviours,!0),onEscape:function(C){Wr(C,D1)},dialogEvents:o,eventOrder:(d={},d[nl()]=[Ec.name(),nu.name()],d[ls()]=["scroll-lock",Ec.name(),"messages","dialog-events","alloy.base.behaviour"],d[Rh()]=["alloy.base.behaviour","dialog-events","messages",Ec.name(),"scroll-lock"],d)})))},nU=function(t){var r=function(o){var s=Ue(o.items,function(d){var g=zn(!1);return ne(ne({},d),{storage:g})});return ne(ne({},o),{items:s})};return Ue(t,function(o){return o.type==="menu"?r(o):o})},rU=function(t){return et(t,function(r,o){if(o.type==="menu"){var s=o;return et(s.items,function(d,g){return d[g.name]=g.storage,d},r)}return r},{})},aU=function(t,r){return[jv(tl(),j$),t(YC,function(o,s){r.onClose(),s.onClose()}),t(D1,function(o,s,d,g){s.onCancel(o),Wr(g,YC)}),Bt(MT,function(o,s){return r.onUnblock()}),Bt(kd,function(o,s){return r.onBlock(s.event)})]},RJ=function(t,r){var o=function(d,g){return Bt(d,function(C,E){s(C,function(O,$){g(t(),O,E.event,C)})})},s=function(d,g){Ec.getState(d).get().each(function(C){g(C,d)})};return ke(ke([],aU(o,r),!0),[o(bv,function(d,g,C){g.onAction(d,{name:C.name})})],!1)},$J=function(t,r,o){var s=function(g,C){return Bt(g,function(E,O){d(E,function($,U){C(t(),$,O.event,E)})})},d=function(g,C){Ec.getState(g).get().each(function(E){C(E.internalDialog,g)})};return ke(ke([],aU(s,r),!0),[s(cl,function(g,C){return C.onSubmit(g)}),s(Ul,function(g,C,E){C.onChange(g,{name:E.name})}),s(bv,function(g,C,E,O){var $=function(){return Vn.focusIn(O)},U=function(ae){return mb(ae,"disabled")||Ya(ae,"aria-disabled").exists(function(ve){return ve==="true"})},G=xs(O.element),ee=Su(G);C.onAction(g,{name:E.name,value:E.value}),Su(G).fold($,function(ae){U(ae)||ee.exists(function(ve){return kl(ae,ve)&&U(ve)})?$():o().toOptional().filter(function(ve){return!kl(ve.element,ae)}).each($)})}),s(PT,function(g,C,E){C.onTabChange(g,{newTabName:E.name,oldTabName:E.oldName})}),Ms(function(g){var C=t();an.setValue(g,C.getData())})],!1)},W7={initUrlDialog:RJ,initDialog:$J},BJ=function(t,r){return x3(t,t.type,r)},MJ=function(t,r,o){return bt(r,function(s){return s.name===o}).bind(function(s){return s.memento.getOpt(t)})},PJ=function(t,r){var o=r.map(function(E){return E.footerButtons}).getOr([]),s=Te(o,function(E){return E.align==="start"}),d=function(E,O){return ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+E]},components:Ue(O,function($){return $.memento.asSpec()})})},g=d("start",s.pass),C=d("end",s.fail);return[g,C]},oU=function(t,r){var o=function(s,d){var g=Ue(d.buttons,function(E){var O=oa(BJ(E,r));return{name:E.name,align:E.align,memento:O}}),C=function(E,O){return MJ(E,g,O)};return B.some({lookupByName:C,footerButtons:g})};return{dom:Qt('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Jt([Ec.config({channel:$V,initialData:t,updateState:o,renderComponents:PJ})])}},IJ=function(t,r){return oU(t,r)},iU=function(t,r){return Ni.parts.footer(oU(t,r))},j7=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var s=Ar.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return $y.getField(s,r).fold(function(){var d=t.getFooter(),g=Ec.getState(d);return g.get().bind(function(C){return C.lookupByName(s,r)})},function(d){return B.some(d)})}else return B.none()},NJ=function(t,r){var o=t.getRoot();return Ec.getState(o).get().map(function(s){return Ol(Za("data",s.dataValidator,r))}).getOr(r)},uU=function(t,r,o){var s=function(Se){var Ne=t.getRoot();Ne.getSystem().isConnected()&&Se(Ne)},d=function(){var Se=t.getRoot(),Ne=Se.getSystem().isConnected()?t.getFormWrapper():Se,Ce=an.getValue(Ne),Fe=dr(o,function(vt){return vt.get()});return ne(ne({},Ce),Fe)},g=function(Se){s(function(Ne){var Ce=ve.getData(),Fe=ne(ne({},Ce),Se),vt=NJ(t,Fe),ft=t.getFormWrapper();an.setValue(ft,vt),Ur(o,function(ze,nt){Pr(Fe,nt)&&ze.set(Fe[nt])})})},C=function(Se){j7(t,Se).each(Nn.disable)},E=function(Se){j7(t,Se).each(Nn.enable)},O=function(Se){j7(t,Se).each(er.focus)},$=function(Se){if(!_(Se))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(Ne){Fn(Ne,kd,{message:Se})})},U=function(){s(function(Se){Wr(Se,MT)})},G=function(Se){s(function(Ne){var Ce=t.getBody(),Fe=Ec.getState(Ce);Fe.get().exists(function(vt){return vt.isTabPanel()})&&Ar.getCurrent(Ce).each(function(vt){tA.showTab(vt,Se)})})},ee=function(Se){s(function(Ne){var Ce=r(Se);Ne.getSystem().broadcastOn([M7],Ce),Ne.getSystem().broadcastOn([DV],Ce.internalDialog),Ne.getSystem().broadcastOn([RV],Ce.internalDialog),Ne.getSystem().broadcastOn([$V],Ce.internalDialog),ve.setData(Ce.initialData)})},ae=function(){s(function(Se){Wr(Se,YC)})},ve={getData:d,setData:g,disable:C,enable:E,focus:O,block:$,unblock:U,showTab:G,redial:ee,close:ae};return ve},zJ=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},FJ=function(t,r,o){var s=JV(t.internalDialog.title,o),d=ZZ({body:t.internalDialog.body},o),g=nU(t.internalDialog.buttons),C=rU(g),E=iU({buttons:g},o),O=W7.initDialog(function(){return ae},eU(function(){return G},o.shared.providers,r),o.shared.getSink),$=zJ(t.internalDialog.size),U={header:s,body:d,footer:B.some(E),extraClasses:$,extraBehaviours:[],extraStyles:{}},G=tU(U,t,O,o),ee=function(){var ve=function(){var Se=Ni.getBody(G);return Ar.getCurrent(Se).getOr(Se)};return{getRoot:ie(G),getBody:function(){return Ni.getBody(G)},getFooter:function(){return Ni.getFooter(G)},getFormWrapper:ve}}(),ae=uU(ee,r.redial,C);return{dialog:G,instanceApi:ae}},LJ=function(t,r,o,s){var d,g,C=wn("dialog-label"),E=wn("dialog-content"),O=function(Ce,Fe){return B.some(Fe)},$=oa(OJ({title:t.internalDialog.title,draggable:!0},C,o.shared.providers)),U=oa(YZ({body:t.internalDialog.body},E,o,s)),G=nU(t.internalDialog.buttons),ee=rU(G),ae=oa(IJ({buttons:G},o)),ve=W7.initDialog(function(){return Ne},{onBlock:function(Ce){Ut.block(Se,function(Fe,vt){return QV(Ce.message,vt,o.shared.providers)})},onUnblock:function(){Ut.unblock(Se)},onClose:function(){return r.closeWindow()}},o.shared.getSink),Se=Wa({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(d={role:"dialog"},d["aria-labelledby"]=C,d["aria-describedby"]=E,d)},eventOrder:(g={},g[nl()]=[Ec.name(),nu.name()],g[Rs()]=["execute-on-form"],g[ls()]=["reflecting","execute-on-form"],g),behaviours:Jt([Vn.config({mode:"cyclic",onEscape:function(Ce){return Wr(Ce,YC),B.some(!0)},useTabstopAt:function(Ce){return!v_(Ce)&&(Qu(Ce)!=="button"||Va(Ce,"disabled")!=="disabled")}}),Ec.config({channel:M7,updateState:O,initialData:t}),er.config({}),lr("execute-on-form",ve.concat([To(tl(),function(Ce,Fe){Vn.focusIn(Ce)})])),Ut.config({getRoot:function(){return B.some(Se)}}),ar.config({}),Pm.memory({})]),components:[$.asSpec(),U.asSpec(),ae.asSpec()]}),Ne=uU({getRoot:ie(Se),getFooter:function(){return ae.get(Se)},getBody:function(){return U.get(Se)},getFormWrapper:function(){var Ce=U.get(Se);return Ar.getCurrent(Ce).getOr(Ce)}},r.redial,ee);return{dialog:Se,instanceApi:Ne}},G7=tinymce.util.Tools.resolve("tinymce.util.URI"),HJ=function(t){var r=function(C){t.getSystem().isConnected()&&C(t)},o=function(C){if(!_(C))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(E){Fn(E,kd,{message:C})})},s=function(){r(function(C){Wr(C,MT)})},d=function(){r(function(C){Wr(C,YC)})},g=function(C){r(function(E){E.getSystem().broadcastOn([BV],C)})};return{block:o,unblock:s,close:d,sendMessage:g}},VJ=["insertContent","setContent","execCommand","close","block","unblock"],sU=function(t){return x(t)&&VJ.indexOf(t.mceAction)!==-1},UJ=function(t){return!sU(t)&&x(t)&&Pr(t,"mceAction")},WJ=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var s=M(o.ui)?o.ui:!1;t.execCommand(o.cmd,s,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},jJ=function(t,r,o,s){var d,g=JV(t.title,s),C=JZ(t),E=t.buttons.bind(function(Fe){return Fe.length===0?B.none():B.some(iU({buttons:Fe},s))}),O=W7.initUrlDialog(function(){return Ce},eU(function(){return Ne},s.shared.providers,r)),$=ne(ne({},t.height.fold(function(){return{}},function(Fe){return{height:Fe+"px","max-height":Fe+"px"}})),t.width.fold(function(){return{}},function(Fe){return{width:Fe+"px","max-width":Fe+"px"}})),U=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],G=new G7(t.url,{base_uri:new G7(window.location.href)}),ee=G.protocol+"://"+G.host+(G.port?":"+G.port:""),ae=qh(),ve=[lr("messages",[sr(function(){var Fe=Co(sn.fromDom(window),"message",function(vt){if(G.isSameOrigin(new G7(vt.raw.origin))){var ft=vt.raw.data;sU(ft)?WJ(o,Ce,ft):UJ(ft)&&t.onMessage(Ce,ft)}});ae.set(Fe)}),Ms(ae.clear)]),nu.config({channels:(d={},d[BV]={onReceive:function(Fe,vt){jo(Fe.element,"iframe").each(function(ft){var ze=ft.dom.contentWindow;ze.postMessage(vt,ee)})}},d)})],Se={header:g,body:C,footer:E,extraClasses:U,extraBehaviours:ve,extraStyles:$},Ne=tU(Se,t,O,s),Ce=HJ(Ne);return{dialog:Ne,instanceApi:Ce}},GJ=function(t){var r=t.backstage.shared,o=function(s,d){var g=function(){Ni.hide($),d()},C=oa(x3({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:B.none()},"cancel",t.backstage)),E=jV(),O=WV(g,r.providers),$=Wa(U7({lazySink:function(){return r.getSink()},header:UV(E,O),body:GV(s,r.providers),footer:B.some(qV(KV([],[C.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Bt(D1,g)],eventOrder:{}}));Ni.show($);var U=C.get($);er.focus(U)};return{open:o}},qJ=function(t){var r=t.backstage.shared,o=function(s,d){var g=function(ee){Ni.hide(U),d(ee)},C=oa(x3({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:B.none()},"submit",t.backstage)),E=x3({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:B.none()},"cancel",t.backstage),O=jV(),$=WV(function(){return g(!1)},r.providers),U=Wa(U7({lazySink:function(){return r.getSink()},header:UV(O,$),body:GV(s,r.providers),footer:B.some(qV(KV([],[E,C.asSpec()]))),onEscape:function(){return g(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Bt(D1,function(){return g(!1)}),Bt(cl,function(){return g(!0)})],eventOrder:{}}));Ni.show(U);var G=C.get(U);er.focus(G)};return{open:o}},KJ=function(t,r){return Ol(Za("data",r,t))},XJ=function(t){return GC(t,".tox-alert-dialog")||GC(t,".tox-confirm-dialog")},YJ=function(t,r,o){return r&&o?[]:[Ro.config({contextual:{lazyContext:function(){return B.some(Eo(sn.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},ZJ=function(t){var r=t.backstage,o=t.editor,s=Ik(o),d=GJ(t),g=qJ(t),C=function(ve,Se,Ne){return Se!==void 0&&Se.inline==="toolbar"?U(ve,r.shared.anchors.inlineDialog(),Ne,Se.ariaAttrs):Se!==void 0&&Se.inline==="cursor"?U(ve,r.shared.anchors.cursor(),Ne,Se.ariaAttrs):$(ve,Ne)},E=function(ve,Se){return O(ve,Se)},O=function(ve,Se){var Ne=function(Ce){var Fe=jJ(Ce,{closeWindow:function(){Ni.hide(Fe.dialog),Se(Fe.instanceApi)}},o,r);return Ni.show(Fe.dialog),Fe.instanceApi};return d5.openUrl(Ne,ve)},$=function(ve,Se){var Ne=function(Ce,Fe,vt){var ft=Fe,ze={dataValidator:vt,initialData:ft,internalDialog:Ce},nt=FJ(ze,{redial:d5.redial,closeWindow:function(){Ni.hide(nt.dialog),Se(nt.instanceApi)}},r);return Ni.show(nt.dialog),nt.instanceApi.setData(ft),nt.instanceApi};return d5.open(Ne,ve)},U=function(ve,Se,Ne,Ce){var Fe=function(vt,ft,ze){var nt=KJ(ft,ze),St=ho(),on=r.shared.header.isPositionedAtTop(),Dt={dataValidator:ze,initialData:nt,internalDialog:vt},ln=function(){return St.on(function(Xt){ca.reposition(Xt),Ro.refresh(Xt)})},Pt=LJ(Dt,{redial:d5.redial,closeWindow:function(){St.on(ca.hide),o.off("ResizeEditor",ln),St.clear(),Ne(Pt.instanceApi)}},r,Ce),_t=Wa(ca.sketch(ne(ne({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},on?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Jt(ke([lr("window-manager-inline-events",[Bt(Bl(),function(Xt,Cn){Wr(Pt.dialog,D1)})])],YJ(o,s,on),!0)),isExtraPart:function(Xt,Cn){return XJ(Cn)}})));return St.set(_t),ca.showWithin(_t,zs(Pt.dialog),{anchor:Se},B.some(Li())),(!s||!on)&&(Ro.refresh(_t),o.on("ResizeEditor",ln)),Pt.instanceApi.setData(nt),Vn.focusIn(Pt.dialog),Pt.instanceApi};return d5.open(Fe,ve)},G=function(ve,Se){g.open(ve,function(Ne){Se(Ne)})},ee=function(ve,Se){d.open(ve,function(){Se()})},ae=function(ve){ve.close()};return{open:C,openUrl:E,alert:ee,close:ae,confirm:G}};function JJ(){We.add("silver",function(t){var r=aY(t),o=r.uiMothership,s=r.backstage,d=r.renderUI,g=r.getUi;hI.register(t,s.shared);var C=ZJ({editor:t,backstage:s});return{renderUI:d,getWindowManagerImpl:ie(C),getNotificationManagerImpl:function(){return LE(t,{backstage:s},o)},ui:g()}})}JJ()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(j,ke,rt){var ce=ke==="UL"?"InsertUnorderedList":"InsertOrderedList";j.execCommand(ce,!1,rt===!1?null:{"list-style-type":rt})},y=function(j){j.addCommand("ApplyUnorderedListStyle",function(ke,rt){m(j,"UL",rt["list-style-type"])}),j.addCommand("ApplyOrderedListStyle",function(ke,rt){m(j,"OL",rt["list-style-type"])})},b=tinymce.util.Tools.resolve("tinymce.util.Tools"),_=function(j){var ke=j.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return ke?ke.split(/[ ,]/):[]},x=function(j){var ke=j.getParam("advlist_bullet_styles","default,circle,square");return ke?ke.split(/[ ,]/):[]},T=function(){},D=function(j){return function(){return j}},M=function(j){return j},W=D(!1),N=D(!0),H=function(){return I},I=function(){var j=function(ce){return ce()},ke=M,rt={fold:function(ce,be){return ce()},isSome:W,isNone:N,getOr:ke,getOrThunk:j,getOrDie:function(ce){throw new Error(ce||"error: getOrDie called on none.")},getOrNull:D(null),getOrUndefined:D(void 0),or:ke,orThunk:j,map:H,each:T,bind:H,exists:W,forall:N,filter:function(){return H()},toArray:function(){return[]},toString:D("none()")};return rt}(),V=function(j){var ke=D(j),rt=function(){return be},ce=function(st){return st(j)},be={fold:function(st,B){return B(j)},isSome:N,isNone:W,getOr:ke,getOrThunk:ke,getOrDie:ke,getOrNull:ke,getOrUndefined:ke,or:rt,orThunk:rt,map:function(st){return V(st(j))},each:function(st){st(j)},bind:ce,exists:ce,forall:ce,filter:function(st){return st(j)?be:I},toArray:function(){return[j]},toString:function(){return"some("+j+")"}};return be},J=function(j){return j==null?I:V(j)},q={some:V,none:H,from:J},$e=function(j,ke){return j.$.contains(j.getBody(),ke)},me=function(j){return j&&/^(TH|TD)$/.test(j.nodeName)},Be=function(j){return function(ke){return ke&&/^(OL|UL|DL)$/.test(ke.nodeName)&&$e(j,ke)}},ie=function(j){var ke=j.dom.getParent(j.selection.getNode(),"ol,ul"),rt=j.dom.getStyle(ke,"listStyleType");return q.from(rt)},he=function(j,ke){for(var rt=0;rt<j.length;rt++){var ce=j[rt];if(ke(ce))return rt}return-1},De=function(j){return j.replace(/\-/g," ").replace(/\b\w/g,function(ke){return ke.toUpperCase()})},ye=function(j,ke,rt){var ce=he(ke.parents,me),be=ce!==-1?ke.parents.slice(0,ce):ke.parents,st=b.grep(be,Be(j));return st.length>0&&st[0].nodeName===rt},Xe=function(j,ke){return function(rt){var ce=function(be){rt.setActive(ye(j,be,ke))};return j.on("NodeChange",ce),function(){return j.off("NodeChange",ce)}}},le=function(j,ke,rt,ce,be,st){j.ui.registry.addSplitButton(ke,{tooltip:rt,icon:be==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(B){var kt=b.map(st,function(ot){var it=be==="OL"?"num":"bull",An=ot==="disc"||ot==="decimal"?"default":ot,cn=ot==="default"?"":ot,ct=De(ot);return{type:"choiceitem",value:cn,icon:"list-"+it+"-"+An,text:ct}});B(kt)},onAction:function(){return j.execCommand(ce)},onItemAction:function(B,kt){m(j,be,kt)},select:function(B){var kt=ie(j);return kt.map(function(ot){return B===ot}).getOr(!1)},onSetup:Xe(j,be)})},se=function(j,ke,rt,ce,be,st){j.ui.registry.addToggleButton(ke,{active:!1,tooltip:rt,icon:be==="OL"?"ordered-list":"unordered-list",onSetup:Xe(j,be),onAction:function(){return j.execCommand(ce)}})},Ee=function(j,ke,rt,ce,be,st){st.length>1?le(j,ke,rt,ce,be,st):se(j,ke,rt,ce,be)},We=function(j){Ee(j,"numlist","Numbered list","InsertOrderedList","OL",_(j)),Ee(j,"bullist","Bullet list","InsertUnorderedList","UL",x(j))};function ne(){f.add("advlist",function(j){j.hasPlugin("lists")?(We(j),y(j)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}ne()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(D,M){D.focus(),D.undoManager.transact(function(){D.setContent(M)}),D.selection.setCursorLocation(),D.nodeChanged()},y=function(D){return D.getContent({source_view:!0})},b=function(D){var M=y(D);D.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:M},onSubmit:function(W){m(D,W.getData().code),W.close()}})},_=function(D){D.addCommand("mceCodeEditor",function(){b(D)})},x=function(D){var M=function(){return D.execCommand("mceCodeEditor")};D.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:M}),D.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:M})};function T(){f.add("code",function(D){return _(D),x(D),{}})}T()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=tinymce.util.Tools.resolve("tinymce.util.VK"),y=function(oe){var Ie=typeof oe;return oe===null?"null":Ie==="object"&&(Array.prototype.isPrototypeOf(oe)||oe.constructor&&oe.constructor.name==="Array")?"array":Ie==="object"&&(String.prototype.isPrototypeOf(oe)||oe.constructor&&oe.constructor.name==="String")?"string":Ie},b=function(oe){return function(Ie){return y(Ie)===oe}},_=function(oe){return function(Ie){return typeof Ie===oe}},x=function(oe){return function(Ie){return oe===Ie}},T=b("string"),D=b("array"),M=x(null),W=_("boolean"),N=_("function"),H=function(){},I=function(oe){return function(){return oe}},V=function(oe){return oe},J=function(oe,Ie){return oe===Ie},q=I(!1),$e=I(!0),me=function(){return Be},Be=function(){var oe=function(Et){return Et()},Ie=V,Ze={fold:function(Et,qt){return Et()},isSome:q,isNone:$e,getOr:Ie,getOrThunk:oe,getOrDie:function(Et){throw new Error(Et||"error: getOrDie called on none.")},getOrNull:I(null),getOrUndefined:I(void 0),or:Ie,orThunk:oe,map:me,each:H,bind:me,exists:q,forall:$e,filter:function(){return me()},toArray:function(){return[]},toString:I("none()")};return Ze}(),ie=function(oe){var Ie=I(oe),Ze=function(){return qt},Et=function(Bn){return Bn(oe)},qt={fold:function(Bn,aa){return aa(oe)},isSome:$e,isNone:q,getOr:Ie,getOrThunk:Ie,getOrDie:Ie,getOrNull:Ie,getOrUndefined:Ie,or:Ze,orThunk:Ze,map:function(Bn){return ie(Bn(oe))},each:function(Bn){Bn(oe)},bind:Et,exists:Et,forall:Et,filter:function(Bn){return Bn(oe)?qt:Be},toArray:function(){return[oe]},toString:function(){return"some("+oe+")"}};return qt},he=function(oe){return oe==null?Be:ie(oe)},De={some:ie,none:me,from:he},ye=Array.prototype.indexOf,Xe=Array.prototype.push,le=function(oe,Ie){return ye.call(oe,Ie)},se=function(oe,Ie){return le(oe,Ie)>-1},Ee=function(oe,Ie){for(var Ze=oe.length,Et=new Array(Ze),qt=0;qt<Ze;qt++){var Bn=oe[qt];Et[qt]=Ie(Bn,qt)}return Et},We=function(oe,Ie){for(var Ze=0,Et=oe.length;Ze<Et;Ze++){var qt=oe[Ze];Ie(qt,Ze)}},ne=function(oe,Ie,Ze){return We(oe,function(Et,qt){Ze=Ie(Ze,Et,qt)}),Ze},j=function(oe){for(var Ie=[],Ze=0,Et=oe.length;Ze<Et;++Ze){if(!D(oe[Ze]))throw new Error("Arr.flatten item "+Ze+" was not an array, input: "+oe);Xe.apply(Ie,oe[Ze])}return Ie},ke=function(oe,Ie){return j(Ee(oe,Ie))},rt=function(oe,Ie){for(var Ze=0;Ze<oe.length;Ze++){var Et=Ie(oe[Ze],Ze);if(Et.isSome())return Et}return De.none()},ce=function(oe,Ie,Ze){return Ze===void 0&&(Ze=J),oe.exists(function(Et){return Ze(Et,Ie)})},be=function(oe){for(var Ie=[],Ze=function(qt){Ie.push(qt)},Et=0;Et<oe.length;Et++)oe[Et].each(Ze);return Ie},st=function(oe,Ie){return oe?De.some(Ie):De.none()},B=function(oe){var Ie=oe.getParam("link_assume_external_targets",!1);return W(Ie)&&Ie?1:T(Ie)&&(Ie==="http"||Ie==="https")?Ie:0},kt=function(oe){return oe.getParam("link_context_toolbar",!1,"boolean")},ot=function(oe){return oe.getParam("link_list")},it=function(oe){return oe.getParam("default_link_target")},An=function(oe){return oe.getParam("target_list",!0)},cn=function(oe){return oe.getParam("rel_list",[],"array")},ct=function(oe){return oe.getParam("link_class_list",[],"array")},_n=function(oe){return oe.getParam("link_title",!0,"boolean")},te=function(oe){return oe.getParam("allow_unsafe_link_target",!1,"boolean")},fn=function(oe){return oe.getParam("link_quicklink",!1,"boolean")},Ue=function(oe){return oe.getParam("link_default_protocol","http","string")},pt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Zn=function(oe){return T(oe.value)?oe.value:""},Te=function(oe){return T(oe.text)?oe.text:T(oe.title)?oe.title:""},Ae=function(oe,Ie){var Ze=[];return pt.each(oe,function(Et){var qt=Te(Et);if(Et.menu!==void 0){var Bn=Ae(Et.menu,Ie);Ze.push({text:qt,items:Bn})}else{var aa=Ie(Et);Ze.push({text:qt,value:aa})}}),Ze},Je=function(oe){return oe===void 0&&(oe=Zn),function(Ie){return De.from(Ie).map(function(Ze){return Ae(Ze,oe)})}},et=function(oe){return Je(Zn)(oe)},Le=function(oe,Ie){return function(Ze){return{name:oe,type:"listbox",label:Ie,items:Ze}}},bt={sanitize:et,sanitizeWith:Je,createUi:Le,getValue:Zn},Zt=function(){return Zt=Object.assign||function(Ie){for(var Ze,Et=1,qt=arguments.length;Et<qt;Et++){Ze=arguments[Et];for(var Bn in Ze)Object.prototype.hasOwnProperty.call(Ze,Bn)&&(Ie[Bn]=Ze[Bn])}return Ie},Zt.apply(this,arguments)},ut=Object.keys,jt=Object.hasOwnProperty,$t=function(oe,Ie){for(var Ze=ut(oe),Et=0,qt=Ze.length;Et<qt;Et++){var Bn=Ze[Et],aa=oe[Bn];Ie(aa,Bn)}},Ft=function(oe){return function(Ie,Ze){oe[Ze]=Ie}},rn=function(oe,Ie,Ze,Et){var qt={};return $t(oe,function(Bn,aa){(Ie(Bn,aa)?Ze:Et)(Bn,aa)}),qt},pn=function(oe,Ie){var Ze={};return rn(oe,Ie,Ft(Ze),H),Ze},Yn=function(oe,Ie){return jt.call(oe,Ie)},vr=function(oe,Ie){return Yn(oe,Ie)&&oe[Ie]!==void 0&&oe[Ie]!==null},qr=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ir=tinymce.util.Tools.resolve("tinymce.util.URI"),ua=function(oe){return oe&&oe.nodeName.toLowerCase()==="a"},va=function(oe){return ua(oe)&&!!da(oe)},Qr=function(oe,Ie){if(oe.collapsed)return[];var Ze=oe.cloneContents(),Et=new qr(Ze.firstChild,Ze),qt=[],Bn=Ze.firstChild;do Ie(Bn)&&qt.push(Bn);while(Bn=Et.next());return qt},Hr=function(oe){return/^\w+:/i.test(oe)},da=function(oe){var Ie=oe.getAttribute("data-mce-href");return Ie||oe.getAttribute("href")},Ur=function(oe,Ie){var Ze=["noopener"],Et=oe?oe.split(/\s+/):[],qt=function(Cr){return pt.trim(Cr.sort().join(" "))},Bn=function(Cr){return Cr=aa(Cr),Cr.length>0?Cr.concat(Ze):Ze},aa=function(Cr){return Cr.filter(function(Ha){return pt.inArray(Ze,Ha)===-1})},ha=Ie?Bn(Et):aa(Et);return ha.length>0?qt(ha):""},dr=function(oe){return oe.replace(/\uFEFF/g,"")},La=function(oe,Ie){return Ie=Ie||oe.selection.getNode(),Zu(Ie)?oe.dom.select("a[href]",Ie)[0]:oe.dom.getParent(Ie,"a[href]")},Ji=function(oe,Ie){var Ze=Ie?Ie.innerText||Ie.textContent:oe.getContent({format:"text"});return dr(Ze)},Yl=function(oe){return pt.grep(oe,va).length>0},Vr=function(oe){return Qr(oe,va).length>0},wi=function(oe){var Ie=oe.schema.getTextInlineElements(),Ze=function(qt){return qt.nodeType===1&&!ua(qt)&&!Yn(Ie,qt.nodeName.toLowerCase())},Et=Qr(oe.selection.getRng(),Ze);return Et.length===0},Zu=function(oe){return oe&&oe.nodeName==="FIGURE"&&/\bimage\b/i.test(oe.className)},Ci=function(oe){var Ie=["title","rel","class","target"];return ne(Ie,function(Ze,Et){return oe[Et].each(function(qt){Ze[Et]=qt.length>0?qt:null}),Ze},{href:oe.href})},On=function(oe,Ie){return(Ie==="http"||Ie==="https")&&!Hr(oe)?Ie+"://"+oe:oe},Pr=function(oe,Ie){var Ze=Zt({},Ie);if(!(cn(oe).length>0)&&te(oe)===!1){var Et=Ur(Ze.rel,Ze.target==="_blank");Ze.rel=Et||null}return De.from(Ze.target).isNone()&&An(oe)===!1&&(Ze.target=it(oe)),Ze.href=On(Ze.href,B(oe)),Ze},co=function(oe,Ie,Ze,Et){Ze.each(function(qt){Yn(Ie,"innerText")?Ie.innerText=qt:Ie.textContent=qt}),oe.dom.setAttribs(Ie,Et),oe.selection.select(Ie)},lu=function(oe,Ie,Ze,Et){Zu(Ie)?Ov(oe,Ie,Et):Ze.fold(function(){oe.execCommand("mceInsertLink",!1,Et)},function(qt){oe.insertContent(oe.dom.createHTML("a",Et,oe.dom.encode(qt)))})},Ju=function(oe,Ie,Ze){var Et=oe.selection.getNode(),qt=La(oe,Et),Bn=Pr(oe,Ci(Ze));oe.undoManager.transact(function(){Ze.href===Ie.href&&Ie.attach(),qt?(oe.focus(),co(oe,qt,Ze.text,Bn)):lu(oe,Et,Ze.text,Bn)})},Ir=function(oe){var Ie=oe.dom,Ze=oe.selection,Et=Ze.getBookmark(),qt=Ze.getRng().cloneRange(),Bn=Ie.getParent(qt.startContainer,"a[href]",oe.getBody()),aa=Ie.getParent(qt.endContainer,"a[href]",oe.getBody());Bn&&qt.setStartBefore(Bn),aa&&qt.setEndAfter(aa),Ze.setRng(qt),oe.execCommand("unlink"),Ze.moveToBookmark(Et)},Dr=function(oe){oe.undoManager.transact(function(){var Ie=oe.selection.getNode();Zu(Ie)?Mc(oe,Ie):Ir(oe),oe.focus()})},Gs=function(oe){var Ie=oe.class,Ze=oe.href,Et=oe.rel,qt=oe.target,Bn=oe.text,aa=oe.title;return pn({class:Ie.getOrNull(),href:Ze,rel:Et.getOrNull(),target:qt.getOrNull(),text:Bn.getOrNull(),title:aa.getOrNull()},function(ha,Cr){return M(ha)===!1})},rh=function(oe,Ie){var Ze=Ie.href;return Zt(Zt({},Ie),{href:ir.isDomSafe(Ze,"a",oe.settings)?Ze:""})},Rf=function(oe,Ie,Ze){var Et=rh(oe,Ze);oe.hasPlugin("rtc",!0)?oe.execCommand("createlink",!1,Gs(Et)):Ju(oe,Ie,Et)},qs=function(oe){oe.hasPlugin("rtc",!0)?oe.execCommand("unlink"):Dr(oe)},Mc=function(oe,Ie){var Ze=oe.dom.select("img",Ie)[0];if(Ze){var Et=oe.dom.getParents(Ze,"a[href]",Ie)[0];Et&&(Et.parentNode.insertBefore(Ze,Et),oe.dom.remove(Et))}},Ov=function(oe,Ie,Ze){var Et=oe.dom.select("img",Ie)[0];if(Et){var qt=oe.dom.create("a",Ze);Et.parentNode.insertBefore(qt,Et),qt.appendChild(Et)}},yl=function(oe){return vr(oe,"items")},wl=function(oe,Ie){return rt(Ie,function(Ze){return yl(Ze)?wl(oe,Ze.items):st(Ze.value===oe,Ze)})},$f=function(oe,Ie,Ze,Et){var qt=Et[Ie],Bn=oe.length>0;return qt!==void 0?wl(qt,Ze).map(function(aa){return{url:{value:aa.value,meta:{text:Bn?oe:aa.text,attach:H}},text:Bn?oe:aa.text}}):De.none()},ma=function(oe,Ie){return Ie==="link"?oe.link:Ie==="anchor"?oe.anchor:De.none()},Ks=function(oe,Ie){var Ze={text:oe.text,title:oe.title},Et=function(Cr){return st(Ze.title.length<=0,De.from(Cr.meta.title).getOr(""))},qt=function(Cr){return st(Ze.text.length<=0,De.from(Cr.meta.text).getOr(Cr.value))},Bn=function(Cr){var Ha=qt(Cr.url),Xa=Et(Cr.url);return Ha.isSome()||Xa.isSome()?De.some(Zt(Zt({},Ha.map(function(Nc){return{text:Nc}}).getOr({})),Xa.map(function(Nc){return{title:Nc}}).getOr({}))):De.none()},aa=function(Cr,Ha){var Xa=ma(Ie,Ha.name).getOr([]);return $f(Ze.text,Ha.name,Xa,Cr)},ha=function(Cr,Ha){var Xa=Ha.name;return Xa==="url"?Bn(Cr()):se(["anchor","link"],Xa)?aa(Cr(),Ha):((Xa==="text"||Xa==="title")&&(Ze[Xa]=Cr()[Xa]),De.none())};return{onChange:ha}},qn={init:Ks,getDelta:$f},ah=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ou=tinymce.util.Tools.resolve("tinymce.util.Promise"),Pc=function(oe,Ie,Ze){var Et=oe.selection.getRng();ah.setEditorTimeout(oe,function(){oe.windowManager.confirm(Ie,function(qt){oe.selection.setRng(Et),Ze(qt)})})},oh=function(oe){var Ie=oe.href,Ze=Ie.indexOf("@")>0&&Ie.indexOf("/")===-1&&Ie.indexOf("mailto:")===-1;return Ze?De.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Et){return Zt(Zt({},Et),{href:"mailto:"+Ie})}}):De.none()},Zl=function(oe,Ie){return function(Ze){var Et=Ze.href,qt=oe===1&&!Hr(Et)||oe===0&&/^\s*www(\.|\d\.)/i.test(Et);return qt?De.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+Ie+":// prefix?",preprocess:function(Bn){return Zt(Zt({},Bn),{href:Ie+"://"+Et})}}):De.none()}},ih=function(oe,Ie){return rt([oh,Zl(B(oe),Ue(oe))],function(Ze){return Ze(Ie)}).fold(function(){return Ou.resolve(Ie)},function(Ze){return new Ou(function(Et){Pc(oe,Ze.message,function(qt){Et(qt?Ze.preprocess(Ie):Ie)})})})},Bf={preprocess:ih},uh=function(oe){var Ie=oe.dom.select("a:not([href])"),Ze=ke(Ie,function(Et){var qt=Et.name||Et.id;return qt?[{text:qt,value:"#"+qt}]:[]});return Ze.length>0?De.some([{text:"None",value:""}].concat(Ze)):De.none()},_s={getAnchors:uh},Ic=function(oe){var Ie=ct(oe);return Ie.length>0?bt.sanitize(Ie):De.none()},sn={getClasses:Ic},Bd=tinymce.util.Tools.resolve("tinymce.util.XHR"),Dv=function(oe){try{return De.some(JSON.parse(oe))}catch{return De.none()}},Rv=function(oe){var Ie=function(Et){return oe.convertURL(Et.value||Et.url,"href")},Ze=ot(oe);return new Ou(function(Et){T(Ze)?Bd.send({url:Ze,success:function(qt){return Et(Dv(qt))},error:function(qt){return Et(De.none())}}):N(Ze)?Ze(function(qt){return Et(De.some(qt))}):Et(De.from(Ze))}).then(function(Et){return Et.bind(bt.sanitizeWith(Ie)).map(function(qt){if(qt.length>0){var Bn=[{text:"None",value:""}];return Bn.concat(qt)}else return qt})})},Jl={getLinks:Rv},Qu=function(oe,Ie){var Ze=cn(oe);if(Ze.length>0){var Et=ce(Ie,"_blank"),qt=te(oe)===!1,Bn=function(ha){return Ur(bt.getValue(ha),Et)},aa=qt?bt.sanitizeWith(Bn):bt.sanitize;return aa(Ze)}return De.none()},sh={getRels:Qu},Bo=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],bo=function(oe){var Ie=An(oe);return D(Ie)?bt.sanitize(Ie).orThunk(function(){return De.some(Bo)}):Ie===!1?De.none():De.some(Bo)},Du={getTargets:bo},Xs=function(oe,Ie,Ze){var Et=oe.getAttrib(Ie,Ze);return Et!==null&&Et.length>0?De.some(Et):De.none()},Md=function(oe,Ie){var Ze=oe.dom,Et=wi(oe),qt=Et?De.some(Ji(oe.selection,Ie)):De.none(),Bn=Ie?De.some(Ze.getAttrib(Ie,"href")):De.none(),aa=Ie?De.from(Ze.getAttrib(Ie,"target")):De.none(),ha=Xs(Ze,Ie,"rel"),Cr=Xs(Ze,Ie,"class"),Ha=Xs(Ze,Ie,"title");return{url:Bn,text:qt,title:Ha,target:aa,rel:ha,linkClass:Cr}},es=function(oe,Ie){return Jl.getLinks(oe).then(function(Ze){var Et=Md(oe,Ie);return{anchor:Et,catalogs:{targets:Du.getTargets(oe),rels:sh.getRels(oe,Et.target),classes:sn.getClasses(oe),anchor:_s.getAnchors(oe),link:Ze},optNode:De.from(Ie),flags:{titleEnabled:_n(oe)}}})},Mf={collect:es},Pd=function(oe,Ie){return function(Ze){var Et=Ze.getData();if(!Et.url.value){qs(oe),Ze.close();return}var qt=function(ha){return De.from(Et[ha]).filter(function(Cr){return!ce(Ie.anchor[ha],Cr)})},Bn={href:Et.url.value,text:qt("text"),target:qt("target"),rel:qt("rel"),class:qt("linkClass"),title:qt("title")},aa={href:Et.url.value,attach:Et.url.meta!==void 0&&Et.url.meta.attach?Et.url.meta.attach:H};Bf.preprocess(oe,Bn).then(function(ha){Rf(oe,aa,ha)}),Ze.close()}},Cl=function(oe){var Ie=La(oe);return Mf.collect(oe,Ie)},Ru=function(oe,Ie){var Ze=oe.anchor,Et=Ze.url.getOr("");return{url:{value:Et,meta:{original:{value:Et}}},text:Ze.text.getOr(""),title:Ze.title.getOr(""),anchor:Et,link:Et,rel:Ze.rel.getOr(""),target:Ze.target.or(Ie).getOr(""),linkClass:Ze.linkClass.getOr("")}},en=function(oe,Ie,Ze){var Et=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],qt=oe.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),Bn=oe.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],aa=De.from(it(Ze)),ha=Ru(oe,aa),Cr=oe.catalogs,Ha=qn.init(ha,Cr),Xa={type:"panel",items:j([Et,qt,Bn,be([Cr.anchor.map(bt.createUi("anchor","Anchors")),Cr.rels.map(bt.createUi("rel","Rel")),Cr.targets.map(bt.createUi("target","Open link in...")),Cr.link.map(bt.createUi("link","Link list")),Cr.classes.map(bt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:Xa,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ha,onChange:function(Nc,Fi){var Ql=Fi.name;Ha.onChange(Nc.getData,{name:Ql}).each(function(Wn){Nc.setData(Wn)})},onSubmit:Ie}},_i=function(oe){var Ie=Cl(oe);Ie.then(function(Ze){var Et=Pd(oe,Ze);return en(Ze,Et,oe)}).then(function(Ze){oe.windowManager.open(Ze)})},_l=function(oe,Ie){document.body.appendChild(oe),oe.dispatchEvent(Ie),document.body.removeChild(oe)},lh=function(oe){var Ie=document.createElement("a");Ie.target="_blank",Ie.href=oe,Ie.rel="noreferrer noopener";var Ze=document.createEvent("MouseEvents");Ze.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),_l(Ie,Ze)},Pf=function(oe,Ie){return oe.dom.getParent(Ie,"a[href]")},ea=function(oe){return Pf(oe,oe.selection.getStart())},$v=function(oe){return oe.altKey===!0&&oe.shiftKey===!1&&oe.ctrlKey===!1&&oe.metaKey===!1},Sl=function(oe,Ie){if(Ie){var Ze=da(Ie);if(/^#/.test(Ze)){var Et=oe.$(Ze);Et.length&&oe.selection.scrollIntoView(Et[0],!0)}else lh(Ie.href)}},fo=function(oe){return function(){_i(oe)}},Bv=function(oe){return function(){Sl(oe,ea(oe))}},cu=function(oe){oe.on("click",function(Ie){var Ze=Pf(oe,Ie.target);Ze&&m.metaKeyPressed(Ie)&&(Ie.preventDefault(),Sl(oe,Ze))}),oe.on("keydown",function(Ie){var Ze=ea(oe);Ze&&Ie.keyCode===13&&$v(Ie)&&(Ie.preventDefault(),Sl(oe,Ze))})},ts=function(oe,Ie){return oe.on("NodeChange",Ie),function(){return oe.off("NodeChange",Ie)}},Ba=function(oe){return function(Ie){var Ze=function(){return Ie.setActive(!oe.mode.isReadOnly()&&La(oe,oe.selection.getNode())!==null)};return Ze(),ts(oe,Ze)}},If=function(oe){return function(Ie){var Ze=function(){return Ie.setDisabled(La(oe,oe.selection.getNode())===null)};return Ze(),ts(oe,Ze)}},Nf=function(oe){return function(Ie){var Ze=function(qt){return Yl(qt)||Vr(oe.selection.getRng())},Et=oe.dom.getParents(oe.selection.getStart());return Ie.setDisabled(!Ze(Et)),ts(oe,function(qt){return Ie.setDisabled(!Ze(qt.parents))})}},Mv=function(oe){oe.addCommand("mceLink",function(){fn(oe)?oe.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):fo(oe)()})},Id=function(oe){oe.addShortcut("Meta+K","",function(){oe.execCommand("mceLink")})},xl=function(oe){oe.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:fo(oe),onSetup:Ba(oe)}),oe.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Bv(oe),onSetup:If(oe)}),oe.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return qs(oe)},onSetup:Nf(oe)})},Ys=function(oe){oe.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Bv(oe),onSetup:If(oe)}),oe.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:fo(oe)}),oe.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return qs(oe)},onSetup:Nf(oe)})},Pv=function(oe){var Ie="link unlink openlink",Ze="link";oe.ui.registry.addContextMenu("link",{update:function(Et){return Yl(oe.dom.getParents(Et,"a"))?Ie:Ze}})},Ss=function(oe){var Ie=function(qt){qt.selection.collapse(!1)},Ze=function(qt){var Bn=oe.selection.getNode();return qt.setDisabled(!La(oe,Bn)),H},Et=function(qt){var Bn=La(oe),aa=wi(oe);if(!Bn&&aa){var ha=Ji(oe.selection,Bn);return De.some(ha.length>0?ha:qt)}else return De.none()};oe.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ba(oe)},label:"Link",predicate:function(qt){return!!La(oe,qt)&&kt(oe)},initValue:function(){var qt=La(oe);return qt?da(qt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(qt){var Bn=oe.selection.getNode();return qt.setActive(!!La(oe,Bn)),Ba(oe)(qt)},onAction:function(qt){var Bn=qt.getValue(),aa=Et(Bn),ha={href:Bn,attach:H};Rf(oe,ha,{href:Bn,text:aa,title:De.none(),rel:De.none(),target:De.none(),class:De.none()}),Ie(oe),qt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ze,onAction:function(qt){qs(oe),qt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ze,onAction:function(qt){Bv(oe)(),qt.hide()}}]})};function $u(){f.add("link",function(oe){xl(oe),Ys(oe),Pv(oe),Ss(oe),cu(oe),Mv(oe),Id(oe)})}$u()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(P){var Y=typeof P;return P===null?"null":Y==="object"&&(Array.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="Array")?"array":Y==="object"&&(String.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="String")?"string":Y},y=function(P){return function(Y){return m(Y)===P}},b=function(P){return function(Y){return typeof Y===P}},_=y("string"),x=y("object"),T=y("array"),D=b("boolean"),M=b("function"),W=b("number"),N=function(){},H=function(P){return function(){return P}},I=function(P){return P},V=function(P,Y){return P===Y},J=function(P){return function(Y){return!P(Y)}},q=H(!1),$e=H(!0),me=function(){return Be},Be=function(){var P=function(_e){return _e()},Y=I,re={fold:function(_e,Ke){return _e()},isSome:q,isNone:$e,getOr:Y,getOrThunk:P,getOrDie:function(_e){throw new Error(_e||"error: getOrDie called on none.")},getOrNull:H(null),getOrUndefined:H(void 0),or:Y,orThunk:P,map:me,each:N,bind:me,exists:q,forall:$e,filter:function(){return me()},toArray:function(){return[]},toString:H("none()")};return re}(),ie=function(P){var Y=H(P),re=function(){return Ke},_e=function(yt){return yt(P)},Ke={fold:function(yt,kn){return kn(P)},isSome:$e,isNone:q,getOr:Y,getOrThunk:Y,getOrDie:Y,getOrNull:Y,getOrUndefined:Y,or:re,orThunk:re,map:function(yt){return ie(yt(P))},each:function(yt){yt(P)},bind:_e,exists:_e,forall:_e,filter:function(yt){return yt(P)?Ke:Be},toArray:function(){return[P]},toString:function(){return"some("+P+")"}};return Ke},he=function(P){return P==null?Be:ie(P)},De={some:ie,none:me,from:he},ye=Array.prototype.slice,Xe=Array.prototype.push,le=function(P,Y){for(var re=P.length,_e=new Array(re),Ke=0;Ke<re;Ke++){var yt=P[Ke];_e[Ke]=Y(yt,Ke)}return _e},se=function(P,Y){for(var re=0,_e=P.length;re<_e;re++){var Ke=P[re];Y(Ke,re)}},Ee=function(P,Y){for(var re=[],_e=0,Ke=P.length;_e<Ke;_e++){var yt=P[_e];Y(yt,_e)&&re.push(yt)}return re},We=function(P,Y){if(P.length===0)return[];for(var re=Y(P[0]),_e=[],Ke=[],yt=0,kn=P.length;yt<kn;yt++){var rr=P[yt],Rr=Y(rr);Rr!==re&&(_e.push(Ke),Ke=[]),re=Rr,Ke.push(rr)}return Ke.length!==0&&_e.push(Ke),_e},ne=function(P,Y,re){return se(P,function(_e,Ke){re=Y(re,_e,Ke)}),re},j=function(P,Y,re){for(var _e=0,Ke=P.length;_e<Ke;_e++){var yt=P[_e];if(Y(yt,_e))return De.some(yt);if(re(yt,_e))break}return De.none()},ke=function(P,Y){return j(P,Y,q)},rt=function(P){for(var Y=[],re=0,_e=P.length;re<_e;++re){if(!T(P[re]))throw new Error("Arr.flatten item "+re+" was not an array, input: "+P);Xe.apply(Y,P[re])}return Y},ce=function(P,Y){return rt(le(P,Y))},be=function(P){var Y=ye.call(P,0);return Y.reverse(),Y},st=function(P,Y){return Y>=0&&Y<P.length?De.some(P[Y]):De.none()},B=function(P){return st(P,0)},kt=function(P){return st(P,P.length-1)},ot=function(P,Y){for(var re=0;re<P.length;re++){var _e=Y(P[re],re);if(_e.isSome())return _e}return De.none()},it=function(){return it=Object.assign||function(Y){for(var re,_e=1,Ke=arguments.length;_e<Ke;_e++){re=arguments[_e];for(var yt in re)Object.prototype.hasOwnProperty.call(re,yt)&&(Y[yt]=re[yt])}return Y},it.apply(this,arguments)};function An(P,Y,re){if(re||arguments.length===2)for(var _e=0,Ke=Y.length,yt;_e<Ke;_e++)(yt||!(_e in Y))&&(yt||(yt=Array.prototype.slice.call(Y,0,_e)),yt[_e]=Y[_e]);return P.concat(yt||Array.prototype.slice.call(Y))}var cn=function(P){var Y=!1,re;return function(){for(var _e=[],Ke=0;Ke<arguments.length;Ke++)_e[Ke]=arguments[Ke];return Y||(Y=!0,re=P.apply(null,_e)),re}},ct=function(P,Y,re,_e){var Ke=P.isiOS()&&/ipad/i.test(re)===!0,yt=P.isiOS()&&!Ke,kn=P.isiOS()||P.isAndroid(),rr=kn||_e("(pointer:coarse)"),Rr=Ke||!yt&&kn&&_e("(min-device-width:768px)"),yr=yt||kn&&!Rr,xa=Y.isSafari()&&P.isiOS()&&/safari/i.test(re)===!1,ki=!yr&&!Rr&&!xa;return{isiPad:H(Ke),isiPhone:H(yt),isTablet:H(Rr),isPhone:H(yr),isTouch:H(rr),isAndroid:P.isAndroid,isiOS:P.isiOS,isWebView:H(xa),isDesktop:H(ki)}},_n=function(P,Y){for(var re=0;re<P.length;re++){var _e=P[re];if(_e.test(Y))return _e}},te=function(P,Y){var re=_n(P,Y);if(!re)return{major:0,minor:0};var _e=function(Ke){return Number(Y.replace(re,"$"+Ke))};return pt(_e(1),_e(2))},fn=function(P,Y){var re=String(Y).toLowerCase();return P.length===0?Ue():te(P,re)},Ue=function(){return pt(0,0)},pt=function(P,Y){return{major:P,minor:Y}},Zn={nu:pt,detect:fn,unknown:Ue},Te=function(P,Y){return ot(Y.brands,function(re){var _e=re.brand.toLowerCase();return ke(P,function(Ke){var yt;return _e===((yt=Ke.brand)===null||yt===void 0?void 0:yt.toLowerCase())}).map(function(Ke){return{current:Ke.name,version:Zn.nu(parseInt(re.version,10),0)}})})},Ae=function(P,Y){var re=String(Y).toLowerCase();return ke(P,function(_e){return _e.search(re)})},Je=function(P,Y){return Ae(P,Y).map(function(re){var _e=Zn.detect(re.versionRegexes,Y);return{current:re.name,version:_e}})},et=function(P,Y){return Ae(P,Y).map(function(re){var _e=Zn.detect(re.versionRegexes,Y);return{current:re.name,version:_e}})},Le=function(P,Y){return P.indexOf(Y)!==-1},bt=function(P){return function(Y){return Y.replace(P,"")}},Zt=bt(/^\s+|\s+$/g),ut=function(P){return P.length>0},jt=function(P){return!ut(P)},$t=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ft=function(P){return function(Y){return Le(Y,P)}},rn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(P){return Le(P,"edge/")&&Le(P,"chrome")&&Le(P,"safari")&&Le(P,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,$t],search:function(P){return Le(P,"chrome")&&!Le(P,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(P){return Le(P,"msie")||Le(P,"trident")}},{name:"Opera",versionRegexes:[$t,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ft("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ft("firefox")},{name:"Safari",versionRegexes:[$t,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(P){return(Le(P,"safari")||Le(P,"mobile/"))&&Le(P,"applewebkit")}}],pn=[{name:"Windows",search:Ft("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(P){return Le(P,"iphone")||Le(P,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ft("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ft("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ft("linux"),versionRegexes:[]},{name:"Solaris",search:Ft("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ft("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ft("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Yn={browsers:H(rn),oses:H(pn)},vr="Edge",qr="Chrome",ir="IE",ua="Opera",va="Firefox",Qr="Safari",Hr=function(){return da({current:void 0,version:Zn.unknown()})},da=function(P){var Y=P.current,re=P.version,_e=function(Ke){return function(){return Y===Ke}};return{current:Y,version:re,isEdge:_e(vr),isChrome:_e(qr),isIE:_e(ir),isOpera:_e(ua),isFirefox:_e(va),isSafari:_e(Qr)}},Ur={unknown:Hr,nu:da,edge:H(vr),chrome:H(qr),ie:H(ir),opera:H(ua),firefox:H(va),safari:H(Qr)},dr="Windows",La="iOS",Ji="Android",Yl="Linux",Vr="OSX",wi="Solaris",Zu="FreeBSD",Ci="ChromeOS",On=function(){return Pr({current:void 0,version:Zn.unknown()})},Pr=function(P){var Y=P.current,re=P.version,_e=function(Ke){return function(){return Y===Ke}};return{current:Y,version:re,isWindows:_e(dr),isiOS:_e(La),isAndroid:_e(Ji),isOSX:_e(Vr),isLinux:_e(Yl),isSolaris:_e(wi),isFreeBSD:_e(Zu),isChromeOS:_e(Ci)}},co={unknown:On,nu:Pr,windows:H(dr),ios:H(La),android:H(Ji),linux:H(Yl),osx:H(Vr),solaris:H(wi),freebsd:H(Zu),chromeos:H(Ci)},lu=function(P,Y,re){var _e=Yn.browsers(),Ke=Yn.oses(),yt=Y.bind(function(Rr){return Te(_e,Rr)}).orThunk(function(){return Je(_e,P)}).fold(Ur.unknown,Ur.nu),kn=et(Ke,P).fold(co.unknown,co.nu),rr=ct(kn,yt,P,re);return{browser:yt,os:kn,deviceType:rr}},Ju={detect:lu},Ir=function(P){return window.matchMedia(P).matches},Dr=cn(function(){return Ju.detect(navigator.userAgent,De.from(navigator.userAgentData),Ir)}),Gs=function(){return Dr()},rh=function(P,Y,re){return(P.compareDocumentPosition(Y)&re)!==0},Rf=function(P,Y){return rh(P,Y,Node.DOCUMENT_POSITION_CONTAINED_BY)},qs=1,Mc=function(P,Y){var re=Y||document,_e=re.createElement("div");if(_e.innerHTML=P,!_e.hasChildNodes()||_e.childNodes.length>1)throw console.error("HTML does not have a single root node",P),new Error("HTML must have a single root node");return wl(_e.childNodes[0])},Ov=function(P,Y){var re=Y||document,_e=re.createElement(P);return wl(_e)},yl=function(P,Y){var re=Y||document,_e=re.createTextNode(P);return wl(_e)},wl=function(P){if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},$f=function(P,Y,re){return De.from(P.dom.elementFromPoint(Y,re)).map(wl)},ma={fromHtml:Mc,fromTag:Ov,fromText:yl,fromDom:wl,fromPoint:$f},Ks=function(P,Y){var re=P.dom;if(re.nodeType!==qs)return!1;var _e=re;if(_e.matches!==void 0)return _e.matches(Y);if(_e.msMatchesSelector!==void 0)return _e.msMatchesSelector(Y);if(_e.webkitMatchesSelector!==void 0)return _e.webkitMatchesSelector(Y);if(_e.mozMatchesSelector!==void 0)return _e.mozMatchesSelector(Y);throw new Error("Browser lacks native selectors")},qn=function(P,Y){return P.dom===Y.dom},ah=function(P,Y){var re=P.dom,_e=Y.dom;return re===_e?!1:re.contains(_e)},Ou=function(P,Y){return Rf(P.dom,Y.dom)},Pc=function(P,Y){return Gs().browser.isIE()?Ou(P,Y):ah(P,Y)},oh=Ks,Zl=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ih=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Bf=tinymce.util.Tools.resolve("tinymce.util.VK"),uh=Object.keys,_s=function(P,Y){for(var re=uh(P),_e=0,Ke=re.length;_e<Ke;_e++){var yt=re[_e],kn=P[yt];Y(kn,yt)}},Ic=function(P){return function(Y,re){P[re]=Y}},sn=function(P,Y,re,_e){var Ke={};return _s(P,function(yt,kn){(Y(yt,kn)?re:_e)(yt,kn)}),Ke},Bd=function(P,Y){var re={};return sn(P,Y,Ic(re),N),re};typeof window<"u"||Function("return this;")();var Dv=function(P){var Y=P.dom.nodeName;return Y.toLowerCase()},Rv=function(P){return P.dom.nodeType},Jl=function(P){return function(Y){return Rv(Y)===P}},Qu=Jl(qs),sh=function(P){return function(Y){return Qu(Y)&&Dv(Y)===P}},Bo=function(P,Y,re){if(_(re)||D(re)||W(re))P.setAttribute(Y,re+"");else throw console.error("Invalid call to Attribute.set. Key ",Y,":: Value ",re,":: Element ",P),new Error("Attribute value was not simple")},bo=function(P,Y){var re=P.dom;_s(Y,function(_e,Ke){Bo(re,Ke,_e)})},Du=function(P){return ne(P.dom.attributes,function(Y,re){return Y[re.name]=re.value,Y},{})},Xs=function(P){return De.from(P.dom.parentNode).map(ma.fromDom)},Md=function(P){return le(P.dom.childNodes,ma.fromDom)},es=function(P,Y){var re=P.dom.childNodes;return De.from(re[Y]).map(ma.fromDom)},Mf=function(P){return es(P,0)},Pd=function(P){return es(P,P.dom.childNodes.length-1)},Cl=function(P,Y){var re=Xs(P);re.each(function(_e){_e.dom.insertBefore(Y.dom,P.dom)})},Ru=function(P,Y){P.dom.appendChild(Y.dom)},en=function(P,Y){se(Y,function(re){Cl(P,re)})},_i=function(P,Y){se(Y,function(re){Ru(P,re)})},_l=function(P){var Y=P.dom;Y.parentNode!==null&&Y.parentNode.removeChild(Y)},lh=function(P,Y){return ma.fromDom(P.dom.cloneNode(Y))},Pf=function(P){return lh(P,!0)},ea=function(P,Y){var re=ma.fromTag(Y),_e=Du(P);return bo(re,_e),re},$v=function(P,Y){var re=ea(P,Y);Cl(P,re);var _e=Md(P);return _i(re,_e),_l(P),re},Sl=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),fo=tinymce.util.Tools.resolve("tinymce.util.Tools"),Bv=function(P){return function(Y){return Y&&Y.nodeName.toLowerCase()===P}},cu=function(P){return function(Y){return Y&&P.test(Y.nodeName)}},ts=function(P){return P&&P.nodeType===3},Ba=cu(/^(OL|UL|DL)$/),If=cu(/^(OL|UL)$/),Nf=Bv("ol"),Mv=cu(/^(LI|DT|DD)$/),Id=cu(/^(DT|DD)$/),xl=cu(/^(TH|TD)$/),Ys=Bv("br"),Pv=function(P){return P.parentNode.firstChild===P},Ss=function(P,Y){return Y&&!!P.schema.getTextBlockElements()[Y.nodeName]},$u=function(P,Y){return P&&P.nodeName in Y},oe=function(P,Y){return Ys(Y)?P.isBlock(Y.nextSibling)&&!Ys(Y.previousSibling):!1},Ie=function(P,Y,re){var _e=P.isEmpty(Y);return re&&P.select("span[data-mce-type=bookmark]",Y).length>0?!1:_e},Ze=function(P,Y){return P.isChildOf(Y,P.getRoot())},Et=function(P){return P.getParam("lists_indent_on_tab",!0)},qt=function(P){var Y=P.getParam("forced_root_block","p");return Y===!1?"":Y===!0?"p":Y},Bn=function(P){return P.getParam("forced_root_block_attrs",{})},aa=function(P,Y){var re=P.dom,_e=P.schema.getBlockElements(),Ke=re.createFragment(),yt=qt(P),kn,rr,Rr;if(yt&&(rr=re.create(yt),rr.tagName===yt.toUpperCase()&&re.setAttribs(rr,Bn(P)),$u(Y.firstChild,_e)||Ke.appendChild(rr)),Y)for(;kn=Y.firstChild;){var yr=kn.nodeName;!Rr&&(yr!=="SPAN"||kn.getAttribute("data-mce-type")!=="bookmark")&&(Rr=!0),$u(kn,_e)?(Ke.appendChild(kn),rr=null):yt?(rr||(rr=re.create(yt),Ke.appendChild(rr)),rr.appendChild(kn)):Ke.appendChild(kn)}return yt?Rr||rr.appendChild(re.create("br",{"data-mce-bogus":"1"})):Ke.appendChild(re.create("br")),Ke},ha=Sl.DOM,Cr=function(P,Y,re){var _e=function(yr){fo.each(Ke,function(xa){yr.parentNode.insertBefore(xa,re.parentNode)}),ha.remove(yr)},Ke=ha.select('span[data-mce-type="bookmark"]',Y),yt=aa(P,re),kn=ha.createRng();kn.setStartAfter(re),kn.setEndAfter(Y);for(var rr=kn.extractContents(),Rr=rr.firstChild;Rr;Rr=Rr.firstChild)if(Rr.nodeName==="LI"&&P.dom.isEmpty(Rr)){ha.remove(Rr);break}P.dom.isEmpty(rr)||ha.insertAfter(rr,Y),ha.insertAfter(yt,Y),Ie(P.dom,re.parentNode)&&_e(re.parentNode),ha.remove(re),Ie(P.dom,Y)&&ha.remove(Y)},Ha=sh("dd"),Xa=sh("dt"),Nc=function(P,Y){Ha(Y)?$v(Y,"dt"):Xa(Y)&&Xs(Y).each(function(re){return Cr(P,re.dom,Y.dom)})},Fi=function(P){Xa(P)&&$v(P,"dd")},Ql=function(P,Y,re){Y==="Indent"?se(re,Fi):se(re,function(_e){return Nc(P,_e)})},Wn=function(P,Y){if(ts(P))return{container:P,offset:Y};var re=Zl.getNode(P,Y);return ts(re)?{container:re,offset:Y>=P.childNodes.length?re.data.length:0}:re.previousSibling&&ts(re.previousSibling)?{container:re.previousSibling,offset:re.previousSibling.data.length}:re.nextSibling&&ts(re.nextSibling)?{container:re.nextSibling,offset:0}:{container:P,offset:Y}},ch=function(P){var Y=P.cloneRange(),re=Wn(P.startContainer,P.startOffset);Y.setStart(re.container,re.offset);var _e=Wn(P.endContainer,P.endOffset);return Y.setEnd(_e.container,_e.offset),Y},vp=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),ta=function(P,Y){var re=Y||P.selection.getStart(!0);return P.dom.getParent(re,"OL,UL,DL",kl(P,re))},dp=function(P,Y){return P&&Y.length===1&&Y[0]===P},fh=function(P){return Ee(P.querySelectorAll("ol,ul,dl"),Ba)},a2=function(P){var Y=ta(P),re=P.selection.getSelectedBlocks();return dp(Y,re)?fh(Y):Ee(re,function(_e){return Ba(_e)&&Y!==_e})},Sa=function(P,Y){var re=fo.map(Y,function(_e){var Ke=P.dom.getParent(_e,"li,dd,dt",kl(P,_e));return Ke||_e});return vp.unique(re)},Zs=function(P){var Y=P.selection.getSelectedBlocks();return Ee(Sa(P,Y),Mv)},o2=function(P){return Ee(Zs(P),Id)},kl=function(P,Y){var re=P.dom.getParents(Y,"TD,TH");return re.length>0?re[0]:P.getBody()},Zo=function(P,Y){var re=P.dom.getParents(Y,"ol,ul",kl(P,Y));return kt(re)},zf=function(P){var Y=Zo(P,P.selection.getStart()),re=Ee(P.selection.getSelectedBlocks(),If);return Y.toArray().concat(re)},Ct=function(P){var Y=zf(P);return vh(P,Y)},vh=function(P,Y){var re=le(Y,function(_e){return Zo(P,_e).getOr(_e)});return vp.unique(re)},xo=function(P,Y,re){return re===void 0&&(re=V),P.exists(function(_e){return re(_e,Y)})},lb=function(P,Y,re){return P.isSome()&&Y.isSome()?De.some(re(P.getOrDie(),Y.getOrDie())):De.none()},Ff=function(P,Y){var re=Y||document,_e=re.createDocumentFragment();return se(P,function(Ke){_e.appendChild(Ke.dom)}),ma.fromDom(_e)},Iv=function(P,Y,re){return P.fire("ListMutation",{action:Y,element:re})},Ge=function(P){return P.style!==void 0&&M(P.style.getPropertyValue)},oi=function(P,Y,re){if(!_(re))throw console.error("Invalid call to CSS.set. Property ",Y,":: Value ",re,":: Element ",P),new Error("CSS value must be a string: "+re);Ge(P)&&P.style.setProperty(Y,re)},dh=function(P,Y,re){var _e=P.dom;oi(_e,Y,re)},mp=function(P,Y){Ru(P.item,Y.list)},cb=function(P){for(var Y=1;Y<P.length;Y++)mp(P[Y-1],P[Y])},Nd=function(P,Y){lb(kt(P),B(Y),mp)},hp=function(P,Y){var re={list:ma.fromTag(Y,P),item:ma.fromTag("li",P)};return Ru(re.list,re.item),re},gp=function(P,Y,re){for(var _e=[],Ke=0;Ke<re;Ke++)_e.push(hp(P,Y.listType));return _e},xs=function(P,Y){for(var re=0;re<P.length-1;re++)dh(P[re].item,"list-style-type","none");kt(P).each(function(_e){bo(_e.list,Y.listAttributes),bo(_e.item,Y.itemAttributes),_i(_e.item,Y.content)})},ec=function(P,Y){Dv(P.list)!==Y.listType&&(P.list=$v(P.list,Y.listType)),bo(P.list,Y.listAttributes)},fb=function(P,Y,re){var _e=ma.fromTag("li",P);return bo(_e,Y),_i(_e,re),_e},vb=function(P,Y){Ru(P.list,Y),P.item=Y},tc=function(P,Y,re){var _e=Y.slice(0,re.depth);return kt(_e).each(function(Ke){var yt=fb(P,re.itemAttributes,re.content);vb(Ke,yt),ec(Ke,re)}),_e},Ma=function(P,Y,re){var _e=gp(P,re,re.depth-Y.length);return cb(_e),xs(_e,re),Nd(Y,_e),Y.concat(_e)},db=function(P,Y){var re=ne(Y,function(_e,Ke){return Ke.depth>_e.length?Ma(P,_e,Ke):tc(P,_e,Ke)},[]);return B(re).map(function(_e){return _e.list})},fu=function(P){return oh(P,"OL,UL")},Li=function(P){return Mf(P).exists(fu)},ko=function(P){return Pd(P).exists(fu)},zc=function(P){return P.depth>0},fr=function(P){return P.isSelected},ns=function(P){var Y=Md(P),re=ko(P)?Y.slice(0,-1):Y;return le(re,Pf)},Va=function(P,Y,re){return Xs(P).filter(Qu).map(function(_e){return{depth:Y,dirty:!1,isSelected:re,content:ns(P),itemAttributes:Du(P),listAttributes:Du(_e),listType:Dv(_e)}})},Ya=function(P,Y){switch(P){case"Indent":Y.depth++;break;case"Outdent":Y.depth--;break;case"Flatten":Y.depth=0}Y.dirty=!0},mb=function(P,Y){P.listType=Y.listType,P.listAttributes=it({},Y.listAttributes)},ii=function(P){P.listAttributes=Bd(P.listAttributes,function(Y,re){return re!=="start"})},pp=function(P,Y){var re=P[Y].depth,_e=function(yt){return yt.depth===re&&!yt.dirty},Ke=function(yt){return yt.depth<re};return j(be(P.slice(0,Y)),_e,Ke).orThunk(function(){return j(P.slice(Y+1),_e,Ke)})},Al=function(P){return se(P,function(Y,re){pp(P,re).fold(function(){Y.dirty&&ii(Y)},function(_e){return mb(Y,_e)})}),P},Xn=function(P){var Y=P,re=function(){return Y},_e=function(Ke){Y=Ke};return{get:re,set:_e}},rs=function(P,Y,re,_e){return Mf(_e).filter(fu).fold(function(){Y.each(function(kn){qn(kn.start,_e)&&re.set(!0)});var Ke=Va(_e,P,re.get());Y.each(function(kn){qn(kn.end,_e)&&re.set(!1)});var yt=Pd(_e).filter(fu).map(function(kn){return ro(P,Y,re,kn)}).getOr([]);return Ke.toArray().concat(yt)},function(Ke){return ro(P,Y,re,Ke)})},ro=function(P,Y,re,_e){return ce(Md(_e),function(Ke){var yt=fu(Ke)?ro:rs,kn=P+1;return yt(kn,Y,re,Ke)})},ao=function(P,Y){var re=Xn(!1),_e=0;return le(P,function(Ke){return{sourceList:Ke,entries:ro(_e,Y,re,Ke)}})},Lo=function(P,Y){var re=Al(Y);return le(re,function(_e){var Ke=Ff(_e.content);return ma.fromDom(aa(P,Ke.dom))})},Ao=function(P,Y){var re=Al(Y);return db(P.contentDocument,re).toArray()},Lf=function(P,Y){return ce(We(Y,zc),function(re){var _e=B(re).exists(zc);return _e?Ao(P,re):Lo(P,re)})},ks=function(P,Y){se(Ee(P,fr),function(re){return Ya(Y,re)})},Kr=function(P){var Y=le(Zs(P),ma.fromDom);return lb(ke(Y,J(Li)),ke(be(Y),J(Li)),function(re,_e){return{start:re,end:_e}})},Pa=function(P,Y,re){var _e=ao(Y,Kr(P));se(_e,function(Ke){ks(Ke.entries,re);var yt=Lf(P,Ke.entries);se(yt,function(kn){Iv(P,re==="Indent"?"IndentList":"OutdentList",kn.dom)}),en(Ke.sourceList,yt),_l(Ke.sourceList)})},Qi=function(P,Y){var re=le(Ct(P),ma.fromDom),_e=le(o2(P),ma.fromDom),Ke=!1;if(re.length||_e.length){var yt=P.selection.getBookmark();Pa(P,re,Y),Ql(P,Y,_e),P.selection.moveToBookmark(yt),P.selection.setRng(ch(P.selection.getRng())),P.nodeChanged(),Ke=!0}return Ke},nc=function(P){return Qi(P,"Indent")},Mo=function(P){return Qi(P,"Outdent")},as=function(P){return Qi(P,"Flatten")},hb=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Hf=Sl.DOM,ya=function(P){var Y={},re=function(_e){var Ke=P[_e?"startContainer":"endContainer"],yt=P[_e?"startOffset":"endOffset"];if(Ke.nodeType===1){var kn=Hf.create("span",{"data-mce-type":"bookmark"});Ke.hasChildNodes()?(yt=Math.min(yt,Ke.childNodes.length-1),_e?Ke.insertBefore(kn,Ke.childNodes[yt]):Hf.insertAfter(kn,Ke.childNodes[yt])):Ke.appendChild(kn),Ke=kn,yt=0}Y[_e?"startContainer":"endContainer"]=Ke,Y[_e?"startOffset":"endOffset"]=yt};return re(!0),P.collapsed||re(),Y},Js=function(P){var Y=function(_e){var Ke,yt=function(Rr){for(var yr=Rr.parentNode.firstChild,xa=0;yr;){if(yr===Rr)return xa;(yr.nodeType!==1||yr.getAttribute("data-mce-type")!=="bookmark")&&xa++,yr=yr.nextSibling}return-1},kn=Ke=P[_e?"startContainer":"endContainer"],rr=P[_e?"startOffset":"endOffset"];kn&&(kn.nodeType===1&&(rr=yt(kn),kn=kn.parentNode,Hf.remove(Ke),!kn.hasChildNodes()&&Hf.isBlock(kn)&&kn.appendChild(Hf.create("br"))),P[_e?"startContainer":"endContainer"]=kn,P[_e?"startOffset":"endOffset"]=rr)};Y(!0),Y();var re=Hf.createRng();return re.setStart(P.startContainer,P.startOffset),P.endContainer&&re.setEnd(P.endContainer,P.endOffset),ch(re)},Fc=function(P){switch(P){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},vu=function(P){return/\btox\-/.test(P.className)},vo=function(P,Y,re){var _e=function(yt){var kn=j(yt.parents,Ba,xl).filter(function(rr){return rr.nodeName===Y&&!vu(rr)}).isSome();re(kn)},Ke=P.dom.getParents(P.selection.getNode());return _e({parents:Ke}),P.on("NodeChange",_e),function(){return P.off("NodeChange",_e)}},Lc=function(P,Y,re){var _e=re["list-style-type"]?re["list-style-type"]:null;P.setStyle(Y,"list-style-type",_e)},rc=function(P,Y){fo.each(Y,function(re,_e){P.setAttribute(_e,re)})},Hi=function(P,Y,re){rc(Y,re["list-attributes"]),fo.each(P.select("li",Y),function(_e){rc(_e,re["list-item-attributes"])})},du=function(P,Y,re){Lc(P,Y,re),Hi(P,Y,re)},Si=function(P,Y,re){fo.each(re,function(_e){var Ke;return P.setStyle(Y,(Ke={},Ke[_e]="",Ke))})},Nv=function(P,Y,re,_e){var Ke=Y[re?"startContainer":"endContainer"],yt=Y[re?"startOffset":"endOffset"];for(Ke.nodeType===1&&(Ke=Ke.childNodes[Math.min(yt,Ke.childNodes.length-1)]||Ke),!re&&Ys(Ke.nextSibling)&&(Ke=Ke.nextSibling);Ke.parentNode!==_e;){if(Ss(P,Ke)||/^(TD|TH)$/.test(Ke.parentNode.nodeName))return Ke;Ke=Ke.parentNode}return Ke},Qs=function(P,Y,re){for(var _e=[],Ke=P.dom,yt=Nv(P,Y,!0,re),kn=Nv(P,Y,!1,re),rr,Rr=[],yr=yt;yr&&(Rr.push(yr),yr!==kn);yr=yr.nextSibling);return fo.each(Rr,function(xa){if(Ss(P,xa)){_e.push(xa),rr=null;return}if(Ke.isBlock(xa)||Ys(xa)){Ys(xa)&&Ke.remove(xa),rr=null;return}var ki=xa.nextSibling;if(hb.isBookmarkNode(xa)&&(Ba(ki)||Ss(P,ki)||!ki&&xa.parentNode===re)){rr=null;return}rr||(rr=Ke.create("p"),xa.parentNode.insertBefore(rr,xa),_e.push(rr)),rr.appendChild(xa)}),_e},Ho=function(P,Y,re){var _e=P.getStyle(Y,"list-style-type"),Ke=re?re["list-style-type"]:"";return Ke=Ke===null?"":Ke,_e===Ke},zd=function(P,Y,re){var _e=P.selection.getRng(),Ke="LI",yt=kl(P,P.selection.getStart(!0)),kn=P.dom;if(kn.getContentEditable(P.selection.getNode())!=="false"){Y=Y.toUpperCase(),Y==="DL"&&(Ke="DT");var rr=ya(_e),Rr=Qs(P,_e,yt);fo.each(Rr,function(yr){var xa,ki=yr.previousSibling,oo=yr.parentNode;Mv(oo)||(ki&&Ba(ki)&&ki.nodeName===Y&&Ho(kn,ki,re)?(xa=ki,yr=kn.rename(yr,Ke),ki.appendChild(yr)):(xa=kn.create(Y),yr.parentNode.insertBefore(xa,yr),xa.appendChild(yr),yr=kn.rename(yr,Ke)),Si(kn,yr,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),du(kn,xa,re),Wf(P.dom,xa))}),P.selection.setRng(Js(rr))}},gb=function(P,Y){return P&&Y&&Ba(P)&&P.nodeName===Y.nodeName},Vf=function(P,Y,re){var _e=P.getStyle(Y,"list-style-type",!0),Ke=P.getStyle(re,"list-style-type",!0);return _e===Ke},Uf=function(P,Y){return P.className===Y.className},mo=function(P,Y,re){return gb(Y,re)&&Vf(P,Y,re)&&Uf(Y,re)},Wf=function(P,Y){var re,_e;if(re=Y.nextSibling,mo(P,Y,re)){for(;_e=re.firstChild;)Y.appendChild(_e);P.remove(re)}if(re=Y.previousSibling,mo(P,Y,re)){for(;_e=re.lastChild;)Y.insertBefore(_e,Y.firstChild);P.remove(re)}},jf=function(P,Y,re,_e){if(Y.nodeName!==re){var Ke=P.dom.rename(Y,re);du(P.dom,Ke,_e),Iv(P,Fc(re),Ke)}else du(P.dom,Y,_e),Iv(P,Fc(re),Y)},Vi=function(P,Y,re,_e,Ke){var yt=Ba(Y);if(yt&&Y.nodeName===_e&&!ac(Ke))as(P);else{zd(P,_e,Ke);var kn=ya(P.selection.getRng()),rr=yt?An([Y],re,!0):re;fo.each(rr,function(Rr){jf(P,Rr,_e,Ke)}),P.selection.setRng(Js(kn))}},ac=function(P){return"list-style-type"in P},Gf=function(P,Y,re,_e){if(Y!==P.getBody())if(Y)if(Y.nodeName===re&&!ac(_e)&&!vu(Y))as(P);else{var Ke=ya(P.selection.getRng());du(P.dom,Y,_e);var yt=P.dom.rename(Y,re);Wf(P.dom,yt),P.selection.setRng(Js(Ke)),zd(P,re,_e),Iv(P,Fc(re),yt)}else zd(P,re,_e),Iv(P,Fc(re),Y)},oc=function(P,Y,re){var _e=ta(P),Ke=a2(P),yt=x(re)?re:{};Ke.length>0?Vi(P,_e,Ke,Y,yt):Gf(P,_e,Y,yt)},Ga=Sl.DOM,Bu=function(P,Y){var re=Y.parentNode;if(re.nodeName==="LI"&&re.firstChild===Y){var _e=re.previousSibling;_e&&_e.nodeName==="LI"?(_e.appendChild(Y),Ie(P,re)&&Ga.remove(re)):Ga.setStyle(re,"listStyleType","none")}if(Ba(re)){var _e=re.previousSibling;_e&&_e.nodeName==="LI"&&_e.appendChild(Y)}},mh=function(P,Y){var re=fo.grep(P.select("ol,ul",Y));fo.each(re,function(_e){Bu(P,_e)})},os=function(P,Y,re,_e){var Ke=Y.startContainer,yt=Y.startOffset;if(ts(Ke)&&(re?yt<Ke.data.length:yt>0))return Ke;var kn=P.schema.getNonEmptyElements();Ke.nodeType===1&&(Ke=Zl.getNode(Ke,yt));var rr=new ih(Ke,_e);for(re&&oe(P.dom,Ke)&&rr.next();Ke=rr[re?"next":"prev2"]();)if(Ke.nodeName==="LI"&&!Ke.hasChildNodes()||kn[Ke.nodeName]||ts(Ke)&&Ke.data.length>0)return Ke},hh=function(P,Y){var re=Y.childNodes;return re.length===1&&!Ba(re[0])&&P.isBlock(re[0])},pb=function(P,Y){hh(P,Y)&&P.remove(Y.firstChild,!0)},bp=function(P,Y,re){var _e,Ke=hh(P,re)?re.firstChild:re;if(pb(P,Y),!Ie(P,Y,!0))for(;_e=Y.firstChild;)Ke.appendChild(_e)},qf=function(P,Y,re){var _e,Ke=Y.parentNode;if(!(!Ze(P,Y)||!Ze(P,re))){Ba(re.lastChild)&&(_e=re.lastChild),Ke===re.lastChild&&Ys(Ke.previousSibling)&&P.remove(Ke.previousSibling);var yt=re.lastChild;yt&&Ys(yt)&&Y.hasChildNodes()&&P.remove(yt),Ie(P,re,!0)&&P.$(re).empty(),bp(P,Y,re),_e&&re.appendChild(_e);var kn=Pc(ma.fromDom(re),ma.fromDom(Y)),rr=kn?P.getParents(Y,Ba,re):[];P.remove(Y),se(rr,function(Rr){Ie(P,Rr)&&Rr!==P.getRoot()&&P.remove(Rr)})}},Kf=function(P,Y,re){P.dom.$(re).empty(),qf(P.dom,Y,re),P.selection.setCursorLocation(re,0)},Hc=function(P,Y,re,_e){var Ke=P.dom;if(Ke.isEmpty(_e))Kf(P,re,_e);else{var yt=ya(Y);qf(Ke,re,_e),P.selection.setRng(Js(yt))}},Jn=function(P,Y,re,_e){var Ke=ya(Y);qf(P.dom,re,_e);var yt=Js(Ke);P.selection.setRng(yt)},As=function(P,Y){var re=P.dom,_e=P.selection,Ke=_e.getStart(),yt=kl(P,Ke),kn=re.getParent(_e.getStart(),"LI",yt);if(kn){var rr=kn.parentNode;if(rr===P.getBody()&&Ie(re,rr))return!0;var Rr=ch(_e.getRng()),yr=re.getParent(os(P,Rr,Y,yt),"LI",yt);if(yr&&yr!==kn)return P.undoManager.transact(function(){Y?Hc(P,Rr,yr,kn):Pv(kn)?Mo(P):Jn(P,Rr,kn,yr)}),!0;if(!yr&&!Y&&Rr.startOffset===0&&Rr.endOffset===0)return P.undoManager.transact(function(){as(P)}),!0}return!1},mu=function(P,Y,re){var _e=P.getParent(Y.parentNode,P.isBlock,re);P.remove(Y),_e&&P.isEmpty(_e)&&P.remove(_e)},Ui=function(P,Y){var re=P.dom,_e=P.selection.getStart(),Ke=kl(P,_e),yt=re.getParent(_e,re.isBlock,Ke);if(yt&&re.isEmpty(yt)){var kn=ch(P.selection.getRng()),rr=re.getParent(os(P,kn,Y,Ke),"LI",Ke);if(rr)return P.undoManager.transact(function(){mu(re,yt,Ke),Wf(re,rr.parentNode),P.selection.select(rr,!0),P.selection.collapse(Y)}),!0}return!1},Es=function(P,Y){return As(P,Y)||Ui(P,Y)},yo=function(P){var Y=P.selection.getStart(),re=kl(P,Y),_e=P.dom.getParent(Y,"LI,DT,DD",re);return _e||Zs(P).length>0?(P.undoManager.transact(function(){P.execCommand("Delete"),mh(P.dom,P.getBody())}),!0):!1},Vo=function(P,Y){return P.selection.isCollapsed()?Es(P,Y):yo(P)},Eo=function(P){P.on("keydown",function(Y){Y.keyCode===Bf.BACKSPACE?Vo(P,!1)&&Y.preventDefault():Y.keyCode===Bf.DELETE&&Vo(P,!0)&&Y.preventDefault()})},Vc=function(P){return{backspaceDelete:function(Y){Vo(P,Y)}}},xi=function(P,Y){var re=ta(P);P.undoManager.transact(function(){x(Y.styles)&&P.dom.setStyles(re,Y.styles),x(Y.attrs)&&_s(Y.attrs,function(_e,Ke){return P.dom.setAttrib(re,Ke,_e)})})},gn=function(P){var Y=be(Zt(P).split("")),re=le(Y,function(_e,Ke){var yt=_e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Ke)*yt});return ne(re,function(_e,Ke){return _e+Ke},0)},Xf=function(P){if(P--,P<0)return"";var Y=P%26,re=Math.floor(P/26),_e=Xf(re),Ke=String.fromCharCode("A".charCodeAt(0)+Y);return _e+Ke},yp=function(P){return/^[A-Z]+$/.test(P)},mr=function(P){return/^[a-z]+$/.test(P)},wa=function(P){return/^[0-9]+$/.test(P)},gh=function(P){return wa(P)?2:yp(P)?0:mr(P)?1:jt(P)?3:4},El=function(P){switch(gh(P)){case 2:return De.some({listStyleType:De.none(),start:P});case 0:return De.some({listStyleType:De.some("upper-alpha"),start:gn(P).toString()});case 1:return De.some({listStyleType:De.some("lower-alpha"),start:gn(P).toString()});case 3:return De.some({listStyleType:De.none(),start:""});case 4:return De.none()}},Ua=function(P){var Y=parseInt(P.start,10);return xo(P.listStyleType,"upper-alpha")?Xf(Y):xo(P.listStyleType,"lower-alpha")?Xf(Y).toLowerCase():P.start},ph=function(P){var Y=ta(P);Nf(Y)&&P.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Ua({start:P.dom.getAttrib(Y,"start","1"),listStyleType:De.some(P.dom.getStyle(Y,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(re){var _e=re.getData();El(_e.start).each(function(Ke){P.execCommand("mceListUpdate",!1,{attrs:{start:Ke.start==="1"?"":Ke.start},styles:{"list-style-type":Ke.listStyleType.getOr("")}})}),re.close()}})},Mu=function(P,Y){return function(){var re=ta(P);return re&&re.nodeName===Y}},Fd=function(P){P.addCommand("mceListProps",function(){ph(P)})},br=function(P){P.on("BeforeExecCommand",function(Y){var re=Y.command.toLowerCase();re==="indent"?nc(P):re==="outdent"&&Mo(P)}),P.addCommand("InsertUnorderedList",function(Y,re){oc(P,"UL",re)}),P.addCommand("InsertOrderedList",function(Y,re){oc(P,"OL",re)}),P.addCommand("InsertDefinitionList",function(Y,re){oc(P,"DL",re)}),P.addCommand("RemoveList",function(){as(P)}),Fd(P),P.addCommand("mceListUpdate",function(Y,re){x(re)&&xi(P,re)}),P.addQueryStateHandler("InsertUnorderedList",Mu(P,"UL")),P.addQueryStateHandler("InsertOrderedList",Mu(P,"OL")),P.addQueryStateHandler("InsertDefinitionList",Mu(P,"DL"))},eu=function(P){P.on("keydown",function(Y){Y.keyCode!==Bf.TAB||Bf.metaKeyPressed(Y)||P.undoManager.transact(function(){(Y.shiftKey?Mo(P):nc(P))&&Y.preventDefault()})})},i2=function(P){Et(P)&&eu(P),Eo(P)},u2=function(P){var Y=function(re){return function(){return P.execCommand(re)}};P.hasPlugin("advlist")||(P.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Y("InsertOrderedList"),onSetup:function(re){return vo(P,"OL",re.setActive)}}),P.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Y("InsertUnorderedList"),onSetup:function(re){return vo(P,"UL",re.setActive)}}))},qa=function(P){var Y={text:"List properties...",icon:"ordered-list",onAction:function(){return P.execCommand("mceListProps")},onSetup:function(re){return vo(P,"OL",function(_e){return re.setDisabled(!_e)})}};P.ui.registry.addMenuItem("listprops",Y),P.ui.registry.addContextMenu("lists",{update:function(re){var _e=ta(P,re);return Nf(_e)?["listprops"]:[]}})};function bh(){f.add("lists",function(P){return P.hasPlugin("rtc",!0)===!1?(i2(P),br(P)):Fd(P),u2(P),qa(P),Vc(P)})}bh()})();(function(){var f=function(u){var c=typeof u;return u===null?"null":c==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":c==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":c},m=function(u){return function(c){return f(c)===u}},y=function(u){return function(c){return typeof c===u}},b=function(u){return function(c){return u===c}},_=m("string"),x=m("object"),T=m("array"),D=b(null),M=y("boolean"),W=b(void 0),N=function(u){return u==null},H=function(u){return!N(u)},I=y("function"),V=y("number"),J=function(){},q=function(u,c){return function(){for(var h=[],w=0;w<arguments.length;w++)h[w]=arguments[w];return u(c.apply(null,h))}},$e=function(u,c){return function(h){return u(c(h))}},me=function(u){return function(){return u}},Be=function(u){return u},ie=function(u,c){return u===c};function he(u){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];return function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];var R=c.concat(w);return u.apply(null,R)}}var De=function(u){return function(c){return!u(c)}},ye=function(u){return function(){throw new Error(u)}},Xe=me(!1),le=me(!0),se=function(){return Ee},Ee=function(){var u=function(w){return w()},c=Be,h={fold:function(w,k){return w()},isSome:Xe,isNone:le,getOr:c,getOrThunk:u,getOrDie:function(w){throw new Error(w||"error: getOrDie called on none.")},getOrNull:me(null),getOrUndefined:me(void 0),or:c,orThunk:u,map:se,each:J,bind:se,exists:Xe,forall:le,filter:function(){return se()},toArray:function(){return[]},toString:me("none()")};return h}(),We=function(u){var c=me(u),h=function(){return k},w=function(R){return R(u)},k={fold:function(R,L){return L(u)},isSome:le,isNone:Xe,getOr:c,getOrThunk:c,getOrDie:c,getOrNull:c,getOrUndefined:c,or:h,orThunk:h,map:function(R){return We(R(u))},each:function(R){R(u)},bind:w,exists:w,forall:w,filter:function(R){return R(u)?k:Ee},toArray:function(){return[u]},toString:function(){return"some("+u+")"}};return k},ne=function(u){return u==null?Ee:We(u)},j={some:We,none:se,from:ne},ke=Array.prototype.slice,rt=Array.prototype.indexOf,ce=Array.prototype.push,be=function(u,c){return rt.call(u,c)},st=function(u,c){return be(u,c)>-1},B=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];if(c(k,h))return!0}return!1},kt=function(u,c){for(var h=[],w=0;w<u;w++)h.push(c(w));return h},ot=function(u,c){for(var h=u.length,w=new Array(h),k=0;k<h;k++){var R=u[k];w[k]=c(R,k)}return w},it=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];c(k,h)}},An=function(u,c){for(var h=u.length-1;h>=0;h--){var w=u[h];c(w,h)}},cn=function(u,c){for(var h=[],w=[],k=0,R=u.length;k<R;k++){var L=u[k],K=c(L,k)?h:w;K.push(L)}return{pass:h,fail:w}},ct=function(u,c){for(var h=[],w=0,k=u.length;w<k;w++){var R=u[w];c(R,w)&&h.push(R)}return h},_n=function(u,c,h){return An(u,function(w,k){h=c(h,w,k)}),h},te=function(u,c,h){return it(u,function(w,k){h=c(h,w,k)}),h},fn=function(u,c,h){for(var w=0,k=u.length;w<k;w++){var R=u[w];if(c(R,w))return j.some(R);if(h(R,w))break}return j.none()},Ue=function(u,c){return fn(u,c,Xe)},pt=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];if(c(k,h))return j.some(h)}return j.none()},Zn=function(u){for(var c=[],h=0,w=u.length;h<w;++h){if(!T(u[h]))throw new Error("Arr.flatten item "+h+" was not an array, input: "+u);ce.apply(c,u[h])}return c},Te=function(u,c){return Zn(ot(u,c))},Ae=function(u,c){for(var h=0,w=u.length;h<w;++h){var k=u[h];if(c(k,h)!==!0)return!1}return!0},Je=function(u){var c=ke.call(u,0);return c.reverse(),c},et=function(u,c){for(var h={},w=0,k=u.length;w<k;w++){var R=u[w];h[String(R)]=c(R,w)}return h},Le=function(u){return[u]},bt=function(u,c){var h=ke.call(u,0);return h.sort(c),h},Zt=function(u,c){return c>=0&&c<u.length?j.some(u[c]):j.none()},ut=function(u){return Zt(u,0)},jt=function(u){return Zt(u,u.length-1)},$t=function(u,c){for(var h=0;h<u.length;h++){var w=c(u[h],h);if(w.isSome())return w}return j.none()},Ft=function(){return Ft=Object.assign||function(c){for(var h,w=1,k=arguments.length;w<k;w++){h=arguments[w];for(var R in h)Object.prototype.hasOwnProperty.call(h,R)&&(c[R]=h[R])}return c},Ft.apply(this,arguments)};function rn(u,c,h){if(h||arguments.length===2)for(var w=0,k=c.length,R;w<k;w++)(R||!(w in c))&&(R||(R=Array.prototype.slice.call(c,0,w)),R[w]=c[w]);return u.concat(R||Array.prototype.slice.call(c))}var pn=function(u){var c=!1,h;return function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];return c||(c=!0,h=u.apply(null,w)),h}},Yn=function(u,c,h,w){var k=u.isiOS()&&/ipad/i.test(h)===!0,R=u.isiOS()&&!k,L=u.isiOS()||u.isAndroid(),K=L||w("(pointer:coarse)"),ue=k||!R&&L&&w("(min-device-width:768px)"),we=R||L&&!ue,Me=c.isSafari()&&u.isiOS()&&/safari/i.test(h)===!1,ht=!we&&!ue&&!Me;return{isiPad:me(k),isiPhone:me(R),isTablet:me(ue),isPhone:me(we),isTouch:me(K),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:me(Me),isDesktop:me(ht)}},vr=function(u,c){for(var h=0;h<u.length;h++){var w=u[h];if(w.test(c))return w}},qr=function(u,c){var h=vr(u,c);if(!h)return{major:0,minor:0};var w=function(k){return Number(c.replace(h,"$"+k))};return va(w(1),w(2))},ir=function(u,c){var h=String(c).toLowerCase();return u.length===0?ua():qr(u,h)},ua=function(){return va(0,0)},va=function(u,c){return{major:u,minor:c}},Qr={nu:va,detect:ir,unknown:ua},Hr=function(u,c){return $t(c.brands,function(h){var w=h.brand.toLowerCase();return Ue(u,function(k){var R;return w===((R=k.brand)===null||R===void 0?void 0:R.toLowerCase())}).map(function(k){return{current:k.name,version:Qr.nu(parseInt(h.version,10),0)}})})},da=function(u,c){var h=String(c).toLowerCase();return Ue(u,function(w){return w.search(h)})},Ur=function(u,c){return da(u,c).map(function(h){var w=Qr.detect(h.versionRegexes,c);return{current:h.name,version:w}})},dr=function(u,c){return da(u,c).map(function(h){var w=Qr.detect(h.versionRegexes,c);return{current:h.name,version:w}})},La=function(u,c){return u.substring(c)},Ji=function(u,c,h){return c===""||u.length>=c.length&&u.substr(h,h+c.length)===c},Yl=function(u,c){return wi(u,c)?La(u,c.length):u},Vr=function(u,c){return u.indexOf(c)!==-1},wi=function(u,c){return Ji(u,c,0)},Zu=function(u,c){return Ji(u,c,u.length-c.length)},Ci=function(u){return function(c){return c.replace(u,"")}},On=Ci(/^\s+|\s+$/g),Pr=function(u){return u.length>0},co=function(u){return!Pr(u)},lu=function(u){var c=parseFloat(u);return isNaN(c)?j.none():j.some(c)},Ju=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ir=function(u){return function(c){return Vr(c,u)}},Dr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return Vr(u,"edge/")&&Vr(u,"chrome")&&Vr(u,"safari")&&Vr(u,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ju],search:function(u){return Vr(u,"chrome")&&!Vr(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return Vr(u,"msie")||Vr(u,"trident")}},{name:"Opera",versionRegexes:[Ju,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ir("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ir("firefox")},{name:"Safari",versionRegexes:[Ju,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(Vr(u,"safari")||Vr(u,"mobile/"))&&Vr(u,"applewebkit")}}],Gs=[{name:"Windows",search:Ir("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return Vr(u,"iphone")||Vr(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ir("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ir("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ir("linux"),versionRegexes:[]},{name:"Solaris",search:Ir("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ir("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ir("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],rh={browsers:me(Dr),oses:me(Gs)},Rf="Edge",qs="Chrome",Mc="IE",Ov="Opera",yl="Firefox",wl="Safari",$f=function(){return ma({current:void 0,version:Qr.unknown()})},ma=function(u){var c=u.current,h=u.version,w=function(k){return function(){return c===k}};return{current:c,version:h,isEdge:w(Rf),isChrome:w(qs),isIE:w(Mc),isOpera:w(Ov),isFirefox:w(yl),isSafari:w(wl)}},Ks={unknown:$f,nu:ma,edge:me(Rf),chrome:me(qs),ie:me(Mc),opera:me(Ov),firefox:me(yl),safari:me(wl)},qn="Windows",ah="iOS",Ou="Android",Pc="Linux",oh="OSX",Zl="Solaris",ih="FreeBSD",Bf="ChromeOS",uh=function(){return _s({current:void 0,version:Qr.unknown()})},_s=function(u){var c=u.current,h=u.version,w=function(k){return function(){return c===k}};return{current:c,version:h,isWindows:w(qn),isiOS:w(ah),isAndroid:w(Ou),isOSX:w(oh),isLinux:w(Pc),isSolaris:w(Zl),isFreeBSD:w(ih),isChromeOS:w(Bf)}},Ic={unknown:uh,nu:_s,windows:me(qn),ios:me(ah),android:me(Ou),linux:me(Pc),osx:me(oh),solaris:me(Zl),freebsd:me(ih),chromeos:me(Bf)},sn=function(u,c,h){var w=rh.browsers(),k=rh.oses(),R=c.bind(function(ue){return Hr(w,ue)}).orThunk(function(){return Ur(w,u)}).fold(Ks.unknown,Ks.nu),L=dr(k,u).fold(Ic.unknown,Ic.nu),K=Yn(L,R,u,h);return{browser:R,os:L,deviceType:K}},Bd={detect:sn},Dv=function(u){return window.matchMedia(u).matches},Rv=pn(function(){return Bd.detect(navigator.userAgent,j.from(navigator.userAgentData),Dv)}),Jl=function(){return Rv()},Qu=function(u,c,h){return(u.compareDocumentPosition(c)&h)!==0},sh=function(u,c){return Qu(u,c,Node.DOCUMENT_POSITION_CONTAINED_BY)},Bo=8,bo=9,Du=11,Xs=1,Md=3,es=function(u,c){var h=c||document,w=h.createElement("div");if(w.innerHTML=u,!w.hasChildNodes()||w.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return Cl(w.childNodes[0])},Mf=function(u,c){var h=c||document,w=h.createElement(u);return Cl(w)},Pd=function(u,c){var h=c||document,w=h.createTextNode(u);return Cl(w)},Cl=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},Ru=function(u,c,h){return j.from(u.dom.elementFromPoint(c,h)).map(Cl)},en={fromHtml:es,fromTag:Mf,fromText:Pd,fromDom:Cl,fromPoint:Ru},_i=function(u,c){var h=u.dom;if(h.nodeType!==Xs)return!1;var w=h;if(w.matches!==void 0)return w.matches(c);if(w.msMatchesSelector!==void 0)return w.msMatchesSelector(c);if(w.webkitMatchesSelector!==void 0)return w.webkitMatchesSelector(c);if(w.mozMatchesSelector!==void 0)return w.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")},_l=function(u){return u.nodeType!==Xs&&u.nodeType!==bo&&u.nodeType!==Du||u.childElementCount===0},lh=function(u,c){var h=c===void 0?document:c.dom;return _l(h)?[]:ot(h.querySelectorAll(u),en.fromDom)},Pf=function(u,c){var h=c===void 0?document:c.dom;return _l(h)?j.none():j.from(h.querySelector(u)).map(en.fromDom)},ea=function(u,c){return u.dom===c.dom},$v=function(u,c){var h=u.dom,w=c.dom;return h===w?!1:h.contains(w)},Sl=function(u,c){return sh(u.dom,c.dom)},fo=function(u,c){return Jl().browser.isIE()?Sl(u,c):$v(u,c)},Bv=_i,cu=Object.keys,ts=Object.hasOwnProperty,Ba=function(u,c){for(var h=cu(u),w=0,k=h.length;w<k;w++){var R=h[w],L=u[R];c(L,R)}},If=function(u,c){return Nf(u,function(h,w){return{k:w,v:c(h,w)}})},Nf=function(u,c){var h={};return Ba(u,function(w,k){var R=c(w,k);h[R.k]=R.v}),h},Mv=function(u){return function(c,h){u[h]=c}},Id=function(u,c,h,w){var k={};return Ba(u,function(R,L){(c(R,L)?h:w)(R,L)}),k},xl=function(u,c){var h={};return Id(u,c,Mv(h),J),h},Ys=function(u,c){var h=[];return Ba(u,function(w,k){h.push(c(w,k))}),h},Pv=function(u){return Ys(u,Be)},Ss=function(u){return cu(u).length},$u=function(u,c){return oe(u,c)?j.from(u[c]):j.none()},oe=function(u,c){return ts.call(u,c)},Ie=function(u,c){return oe(u,c)&&u[c]!==void 0&&u[c]!==null},Ze=function(u){for(var c in u)if(ts.call(u,c))return!1;return!0},Et=["tfoot","thead","tbody","colgroup"],qt=function(u){return st(Et,u)},Bn=function(u,c){return{rows:u,columns:c}},aa=function(u,c){return{row:u,column:c}},ha=function(u,c,h){return{element:u,rowspan:c,colspan:h}},Cr=function(u,c,h,w){return{element:u,rowspan:c,colspan:h,isNew:w}},Ha=function(u,c,h,w,k,R){return{element:u,rowspan:c,colspan:h,row:w,column:k,isLocked:R}},Xa=function(u,c,h){return{element:u,cells:c,section:h}},Nc=function(u,c,h,w){return{element:u,cells:c,section:h,isNew:w}},Fi=function(u,c,h){return{element:u,isNew:c,isLocked:h}},Ql=function(u,c,h,w){return{element:u,cells:c,section:h,isNew:w}},Wn=function(u,c,h,w){return{startRow:u,startCol:c,finishRow:h,finishCol:w}},ch=function(u,c,h){return{element:u,colspan:c,column:h}},vp=function(u,c){return{element:u,columns:c}};typeof window<"u"||Function("return this;")();var ta=function(u){var c=u.dom.nodeName;return c.toLowerCase()},dp=function(u){return u.dom.nodeType},fh=function(u){return function(c){return dp(c)===u}},a2=function(u){return dp(u)===Bo||ta(u)==="#comment"},Sa=fh(Xs),Zs=fh(Md),o2=fh(bo),kl=fh(Du),Zo=function(u){return function(c){return Sa(c)&&ta(c)===u}},zf=function(u){return en.fromDom(u.dom.ownerDocument)},Ct=function(u){return o2(u)?u:zf(u)},vh=function(u){return en.fromDom(Ct(u).dom.defaultView)},xo=function(u){return j.from(u.dom.parentNode).map(en.fromDom)},lb=function(u){return j.from(u.dom.parentElement).map(en.fromDom)},Ff=function(u,c){for(var h=I(c)?c:Xe,w=u.dom,k=[];w.parentNode!==null&&w.parentNode!==void 0;){var R=w.parentNode,L=en.fromDom(R);if(k.push(L),h(L)===!0)break;w=R}return k},Iv=function(u){return j.from(u.dom.previousSibling).map(en.fromDom)},Ge=function(u){return j.from(u.dom.nextSibling).map(en.fromDom)},oi=function(u){return ot(u.dom.childNodes,en.fromDom)},dh=function(u,c){var h=u.dom.childNodes;return j.from(h[c]).map(en.fromDom)},mp=function(u){return dh(u,0)},cb=function(u){return kl(u)&&H(u.dom.host)},Nd=I(Element.prototype.attachShadow)&&I(Node.prototype.getRootNode),hp=me(Nd),gp=Nd?function(u){return en.fromDom(u.dom.getRootNode())}:Ct,xs=function(u){var c=gp(u);return cb(c)?j.some(c):j.none()},ec=function(u){return en.fromDom(u.dom.host)},fb=function(u){if(hp()&&H(u.target)){var c=en.fromDom(u.target);if(Sa(c)&&vb(c)&&u.composed&&u.composedPath){var h=u.composedPath();if(h)return ut(h)}}return j.from(u.target)},vb=function(u){return H(u.dom.shadowRoot)},tc=function(u){var c=Zs(u)?u.dom.parentNode:u.dom;if(c==null||c.ownerDocument===null)return!1;var h=c.ownerDocument;return xs(en.fromDom(c)).fold(function(){return h.body.contains(c)},$e(tc,ec))},Ma=function(){return db(en.fromDom(document))},db=function(u){var c=u.dom.body;if(c==null)throw new Error("Body is not available yet");return en.fromDom(c)},fu=function(u,c,h){return ct(Ff(u,h),c)},Li=function(u,c){return ct(oi(u),c)},ko=function(u,c){var h=[];return it(oi(u),function(w){c(w)&&(h=h.concat([w])),h=h.concat(ko(w,c))}),h},zc=function(u,c,h){return fu(u,function(w){return _i(w,c)},h)},fr=function(u,c){return Li(u,function(h){return _i(h,c)})},ns=function(u,c){return lh(c,u)};function Va(u,c,h,w,k){return u(h,w)?j.some(h):I(k)&&k(h)?j.none():c(h,w,k)}var Ya=function(u,c,h){for(var w=u.dom,k=I(h)?h:Xe;w.parentNode;){w=w.parentNode;var R=en.fromDom(w);if(c(R))return j.some(R);if(k(R))break}return j.none()},mb=function(u,c,h){var w=function(k,R){return R(k)};return Va(w,Ya,u,c,h)},ii=function(u,c){var h=function(k){return c(en.fromDom(k))},w=Ue(u.dom.childNodes,h);return w.map(en.fromDom)},pp=function(u,c){var h=function(w){for(var k=0;k<w.childNodes.length;k++){var R=en.fromDom(w.childNodes[k]);if(c(R))return j.some(R);var L=h(w.childNodes[k]);if(L.isSome())return L}return j.none()};return h(u.dom)},Al=function(u,c,h){return Ya(u,function(w){return _i(w,c)},h)},Xn=function(u,c){return ii(u,function(h){return _i(h,c)})},rs=function(u,c){return Pf(c,u)},ro=function(u,c,h){var w=function(k,R){return _i(k,R)};return Va(w,Al,u,c,h)},ao=function(u,c,h){if(_(h)||M(h)||V(h))u.setAttribute(c,h+"");else throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",h,":: Element ",u),new Error("Attribute value was not simple")},Lo=function(u,c,h){ao(u.dom,c,h)},Ao=function(u,c){var h=u.dom;Ba(c,function(w,k){ao(h,k,w)})},Lf=function(u,c){Ba(c,function(h,w){h.fold(function(){Pa(u,w)},function(k){ao(u.dom,w,k)})})},ks=function(u,c){var h=u.dom.getAttribute(c);return h===null?void 0:h},Kr=function(u,c){return j.from(ks(u,c))},Pa=function(u,c){u.dom.removeAttribute(c)},Qi=function(u){return te(u.dom.attributes,function(c,h){return c[h.name]=h.value,c},{})},nc=function(u,c,h){return h===void 0&&(h=ie),u.exists(function(w){return h(w,c)})},Mo=function(u){for(var c=[],h=function(k){c.push(k)},w=0;w<u.length;w++)u[w].each(h);return c},as=function(u,c,h){return u.isSome()&&c.isSome()?j.some(h(u.getOrDie(),c.getOrDie())):j.none()},hb=function(u,c){return u!=null?c(u):j.none()},Hf=function(u){return u.bind(Be)},ya=function(u,c){return u?j.some(c):j.none()},Js=function(u){return u.style!==void 0&&I(u.style.getPropertyValue)},Fc=function(u,c,h){if(!_(h))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",h,":: Element ",u),new Error("CSS value must be a string: "+h);Js(u)&&u.style.setProperty(c,h)},vu=function(u,c){Js(u)&&u.style.removeProperty(c)},vo=function(u,c,h){var w=u.dom;Fc(w,c,h)},Lc=function(u,c){var h=u.dom;Ba(c,function(w,k){Fc(h,k,w)})},rc=function(u,c){var h=u.dom,w=window.getComputedStyle(h),k=w.getPropertyValue(c);return k===""&&!tc(u)?Hi(h,c):k},Hi=function(u,c){return Js(u)?u.style.getPropertyValue(c):""},du=function(u,c){var h=u.dom,w=Hi(h,c);return j.from(w).filter(function(k){return k.length>0})},Si=function(u,c){var h=u.dom;vu(h,c),nc(Kr(u,"style").map(On),"")&&Pa(u,"style")},Nv=function(u,c){var h=u.dom,w=c.dom;Js(h)&&Js(w)&&(w.style.cssText=h.style.cssText)},Qs=function(u,c,h){return h===void 0&&(h=0),Kr(u,c).map(function(w){return parseInt(w,10)}).getOr(h)},Ho=function(u,c){return Qs(u,c,1)},zd=function(u){return Zo("col")(u)?Qs(u,"span",1)>1:Ho(u,"colspan")>1},gb=function(u){return Ho(u,"rowspan")>1},Vf=function(u,c){return parseInt(rc(u,c),10)},Uf=me(10),mo=me(10),Wf=function(u,c){return jf(u,c,le)},jf=function(u,c,h){return Te(oi(u),function(w){return _i(w,c)?h(w)?[w]:[]:jf(w,c,h)})},Vi=function(u,c,h){if(h===void 0&&(h=Xe),h(c))return j.none();if(st(u,ta(c)))return j.some(c);var w=function(k){return _i(k,"table")||h(k)};return Al(c,u.join(","),w)},ac=function(u,c){return Vi(["td","th"],u,c)},Gf=function(u){return Wf(u,"th,td")},oc=function(u){return _i(u,"colgroup")?fr(u,"col"):Te(mh(u),function(c){return fr(c,"col")})},Ga=function(u,c){return ro(u,"table",c)},Bu=function(u){return Wf(u,"tr")},mh=function(u){return Ga(u).fold(me([]),function(c){return fr(c,"colgroup")})},os=function(u,c){return ot(u,function(h){if(ta(h)==="colgroup"){var w=ot(oc(h),function(k){var R=Qs(k,"span",1);return ha(k,1,R)});return Xa(h,w,"colgroup")}else{var w=ot(Gf(h),function(R){var L=Qs(R,"rowspan",1),K=Qs(R,"colspan",1);return ha(R,L,K)});return Xa(h,w,c(h))}})},hh=function(u){return xo(u).map(function(c){var h=ta(c);return qt(h)?h:"tbody"}).getOr("tbody")},pb=function(u){var c=Bu(u),h=mh(u),w=rn(rn([],h,!0),c,!0);return os(w,hh)},bp=function(u,c){return os(u,function(){return c})},qf=function(u,c,h){var w=u.cells,k=w.slice(0,c),R=w.slice(c),L=k.concat(h).concat(R);return Jn(u,L)},Kf=function(u,c,h){return qf(u,c,[h])},Hc=function(u,c,h){var w=u.cells;w[c]=h},Jn=function(u,c){return Ql(u.element,c,u.section,u.isNew)},As=function(u,c){var h=u.cells,w=ot(h,c);return Ql(u.element,w,u.section,u.isNew)},mu=function(u,c){return u.cells[c]},Ui=function(u,c){return mu(u,c).element},Es=function(u){return u.cells.length},yo=function(u){var c=cn(u,function(h){return h.section==="colgroup"});return{rows:c.fail,cols:c.pass}},Vo=function(u,c,h){var w=ot(u.cells,h);return Ql(c(u.element),w,u.section,!0)},Eo="data-snooker-locked-cols",Vc=function(u){return Kr(u,Eo).bind(function(c){return j.from(c.match(/\d+/g))}).map(function(c){return et(c,le)})},xi=function(u){var c=te(yo(u).rows,function(w,k){return it(k.cells,function(R,L){R.isLocked&&(w[L]=!0)}),w},{}),h=Ys(c,function(w,k){return parseInt(k,10)});return bt(h)},gn=function(u,c){return u+","+c},Xf=function(u,c,h){return j.from(u.access[gn(c,h)])},yp=function(u,c,h){var w=mr(u,function(k){return h(c,k.element)});return w.length>0?j.some(w[0]):j.none()},mr=function(u,c){var h=Te(u.all,function(w){return w.cells});return ct(h,c)},wa=function(u){var c={},h=0;return it(u.cells,function(w){var k=w.colspan;kt(k,function(R){var L=h+R;c[L]=ch(w.element,k,L)}),h+=k}),c},gh=function(u){var c={},h=[],w=ut(u).map(function(Yt){return Yt.element}).bind(Ga),k=w.bind(Vc).getOr({}),R=0,L=0,K=0,ue=cn(u,function(Yt){return Yt.section==="colgroup"}),we=ue.pass,Me=ue.fail;it(Me,function(Yt){var tn=[];it(Yt.cells,function(Rn){for(var jr=0;c[gn(K,jr)]!==void 0;)jr++;for(var Dn=Ie(k,jr.toString()),nr=Ha(Rn.element,Rn.rowspan,Rn.colspan,K,jr,Dn),Er=0;Er<Rn.colspan;Er++)for(var xr=0;xr<Rn.rowspan;xr++){var _o=K+xr,fi=jr+Er,vi=gn(_o,fi);c[vi]=nr,L=Math.max(L,fi+1)}tn.push(nr)}),R++,h.push(Xa(Yt.element,tn,Yt.section)),K++});var ht=jt(we).map(function(Yt){var tn=wa(Yt),Rn=vp(Yt.element,Pv(tn));return{colgroups:[Rn],columns:tn}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),Ht=ht.columns,Tt=ht.colgroups,gt=Bn(R,L);return{grid:gt,access:c,all:h,columns:Ht,colgroups:Tt}},El=function(u){var c=pb(u);return gh(c)},Ua=function(u){return Te(u.all,function(c){return c.cells})},ph=function(u){return Pv(u.columns)},Mu=function(u){return cu(u.columns).length>0},Fd=function(u,c){return j.from(u.columns[c])},br={fromTable:El,generate:gh,getAt:Xf,findItem:yp,filterItems:mr,justCells:Ua,justColumns:ph,hasColumns:Mu,getColumnAt:Fd},eu=function(u,c){var h=c.column,w=c.column+c.colspan-1,k=c.row,R=c.row+c.rowspan-1;return h<=u.finishCol&&w>=u.startCol&&k<=u.finishRow&&R>=u.startRow},i2=function(u,c){return c.column>=u.startCol&&c.column+c.colspan-1<=u.finishCol&&c.row>=u.startRow&&c.row+c.rowspan-1<=u.finishRow},u2=function(u,c){for(var h=!0,w=he(i2,c),k=c.startRow;k<=c.finishRow;k++)for(var R=c.startCol;R<=c.finishCol;R++)h=h&&br.getAt(u,k,R).exists(w);return h?j.some(c):j.none()},qa=function(u,c){return Wn(Math.min(u.row,c.row),Math.min(u.column,c.column),Math.max(u.row+u.rowspan-1,c.row+c.rowspan-1),Math.max(u.column+u.colspan-1,c.column+c.colspan-1))},bh=function(u,c,h){var w=br.findItem(u,c,ea),k=br.findItem(u,h,ea);return w.bind(function(R){return k.map(function(L){return qa(R,L)})})},P=function(u,c,h){return bh(u,c,h).bind(function(w){return u2(u,w)})},Y=function(u,c,h,w){return br.findItem(u,c,ea).bind(function(k){var R=h>0?k.row+k.rowspan-1:k.row,L=w>0?k.column+k.colspan-1:k.column,K=br.getAt(u,R+h,L+w);return K.map(function(ue){return ue.element})})},re=function(u,c,h){return bh(u,c,h).map(function(w){var k=br.filterItems(u,he(eu,w));return ot(k,function(R){return R.element})})},_e=function(u,c){var h=function(w,k){return fo(k,w)};return br.findItem(u,c,h).map(function(w){return w.element})},Ke=function(u,c,h){return Ga(u).bind(function(w){var k=Rr(w);return Y(k,u,c,h)})},yt=function(u,c,h){var w=Rr(u);return re(w,c,h)},kn=function(u,c,h,w,k){var R=Rr(u),L=ea(u,h)?j.some(c):_e(R,c),K=ea(u,k)?j.some(w):_e(R,w);return L.bind(function(ue){return K.bind(function(we){return re(R,ue,we)})})},rr=function(u,c,h){var w=Rr(u);return P(w,c,h)},Rr=br.fromTable,yr=function(u,c){var h=xo(u);h.each(function(w){w.dom.insertBefore(c.dom,u.dom)})},xa=function(u,c){var h=Ge(u);h.fold(function(){var w=xo(u);w.each(function(k){oo(k,c)})},function(w){yr(w,c)})},ki=function(u,c){var h=mp(u);h.fold(function(){oo(u,c)},function(w){u.dom.insertBefore(c.dom,w.dom)})},oo=function(u,c){u.dom.appendChild(c.dom)},CA=function(u,c,h){dh(u,h).fold(function(){oo(u,c)},function(w){yr(w,c)})},G_=function(u,c){yr(u,c),oo(c,u)},q_=function(u,c){it(c,function(h){yr(u,h)})},_A=function(u,c){it(c,function(h,w){var k=w===0?u:c[w-1];xa(k,h)})},ic=function(u,c){it(c,function(h){oo(u,h)})},wp=function(u){u.dom.textContent="",it(oi(u),function(c){Pu(c)})},Pu=function(u){var c=u.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},yh=function(u){var c=oi(u);c.length>0&&q_(u,c),Pu(u)},s2=function(u,c){var h=function(R){if(!u(R))throw new Error("Can only get "+c+" value of a "+c+" node");return w(R).getOr("")},w=function(R){return u(R)?j.from(R.dom.nodeValue):j.none()},k=function(R,L){if(!u(R))throw new Error("Can only set raw "+c+" value of a "+c+" node");R.dom.nodeValue=L};return{get:h,getOption:w,set:k}},Cp=s2(Zs,"text"),bb=function(u){return Cp.get(u)},K_=function(u){return Cp.getOption(u)},SA=function(u,c){return Cp.set(u,c)},uc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function _p(){var u=function(we){return en.fromDom(we.dom.cloneNode(!1))},c=function(we){return Ct(we).dom},h=function(we){return Sa(we)?ta(we)==="body"?!0:st(uc,ta(we)):!1},w=function(we){return Sa(we)?st(["br","img","hr","input"],ta(we)):!1},k=function(we){return Sa(we)&&ks(we,"contenteditable")==="false"},R=function(we,Me){return we.dom.compareDocumentPosition(Me.dom)},L=function(we,Me){var ht=Qi(we);Ao(Me,ht)},K=function(we){var Me=ta(we);return st(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Me)},ue=function(we){return Sa(we)?Kr(we,"lang"):j.none()};return{up:me({selector:Al,closest:ro,predicate:Ya,all:Ff}),down:me({selector:ns,predicate:ko}),styles:me({get:rc,getRaw:du,set:vo,remove:Si}),attrs:me({get:ks,set:Lo,remove:Pa,copyTo:L}),insert:me({before:yr,after:xa,afterAll:_A,append:oo,appendAll:ic,prepend:ki,wrap:G_}),remove:me({unwrap:yh,remove:Pu}),create:me({nu:en.fromTag,clone:u,text:en.fromText}),query:me({comparePosition:R,prevSibling:Iv,nextSibling:Ge}),property:me({children:oi,name:ta,parent:xo,document:c,isText:Zs,isComment:a2,isElement:Sa,isSpecial:K,getLanguage:ue,getText:bb,setText:SA,isBoundary:h,isEmptyTag:w,isNonEditable:k}),eq:ea,is:Bv}}var xA=function(u,c,h,w){var k=h[0],R=h.slice(1);return w(u,c,k,R)},l2=function(u,c,h){return h.length>0?xA(u,c,h,kA):j.none()},kA=function(u,c,h,w){var k=c(u,h);return _n(w,function(R,L){var K=c(u,L);return AA(u,R,K)},k)},AA=function(u,c,h){return c.bind(function(w){return h.filter(he(u.eq,w))})},wh=function(u,c){return he(u.eq,c)},Sp=function(u,c,h,w){w===void 0&&(w=Xe);var k=[c].concat(u.up().all(c)),R=[h].concat(u.up().all(h)),L=function(Me){var ht=pt(Me,w);return ht.fold(function(){return Me},function(Ht){return Me.slice(0,Ht+1)})},K=L(k),ue=L(R),we=Ue(K,function(Me){return B(ue,wh(u,Me))});return{firstpath:K,secondpath:ue,shared:we}},X_=l2,Y_=Sp,is=_p(),Mn=function(u,c){return X_(is,function(h,w){return u(w)},c)},Yf=function(u,c,h){return Y_(is,u,c,h)},xp=function(u){return Al(u,"table")},zv=function(u,c,h){var w=function(k){return function(R){return h!==void 0&&h(R)||ea(R,k)}};return ea(u,c)?j.some({boxes:j.some([u]),start:u,finish:c}):xp(u).bind(function(k){return xp(c).bind(function(R){if(ea(k,R))return j.some({boxes:yt(k,u,c),start:u,finish:c});if(fo(k,R)){var L=zc(c,"td,th",w(k)),K=L.length>0?L[L.length-1]:c;return j.some({boxes:kn(k,u,k,c,R),start:u,finish:K})}else if(fo(R,k)){var L=zc(u,"td,th",w(R)),ue=L.length>0?L[L.length-1]:u;return j.some({boxes:kn(R,u,k,c,R),start:u,finish:ue})}else return Yf(u,c).shared.bind(function(we){return ro(we,"table",h).bind(function(Me){var ht=zc(c,"td,th",w(Me)),Ht=ht.length>0?ht[ht.length-1]:c,Tt=zc(u,"td,th",w(Me)),gt=Tt.length>0?Tt[Tt.length-1]:u;return j.some({boxes:kn(Me,u,k,c,R),start:gt,finish:Ht})})})})})},Ch=function(u,c){var h=ns(u,c);return h.length>0?j.some(h):j.none()},c2=function(u,c){return Ue(u,function(h){return _i(h,c)})},Tl=function(u,c,h){return rs(u,c).bind(function(w){return rs(u,h).bind(function(k){return Mn(xp,[w,k]).map(function(R){return{first:w,last:k,table:R}})})})},Ld=function(u,c){return Al(u,"table").bind(function(h){return rs(h,c).bind(function(w){return zv(w,u).bind(function(k){return k.boxes.map(function(R){return{boxes:R,start:k.start,finish:k.finish}})})})})},_h=function(u,c,h,w,k){return c2(u,k).bind(function(R){return Ke(R,c,h).bind(function(L){return Ld(L,w)})})},wo=function(u,c){return Ch(u,c)},ui=function(u,c,h){return Tl(u,c,h).bind(function(w){var k=function(ue){return ea(u,ue)},R="thead,tfoot,tbody,table",L=Al(w.first,R,k),K=Al(w.last,R,k);return L.bind(function(ue){return K.bind(function(we){return ea(ue,we)?rr(w.table,w.first,w.last):j.none()})})})},kp=function(u){if(!T(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var c=[],h={};return it(u,function(w,k){var R=cu(w);if(R.length!==1)throw new Error("one and only one name per case");var L=R[0],K=w[L];if(h[L]!==void 0)throw new Error("duplicate key detected:"+L);if(L==="cata")throw new Error("cannot have a case named cata (sorry)");if(!T(K))throw new Error("case arguments must be an array");c.push(L),h[L]=function(){for(var ue=[],we=0;we<arguments.length;we++)ue[we]=arguments[we];var Me=ue.length;if(Me!==K.length)throw new Error("Wrong number of arguments to case "+L+". Expected "+K.length+" ("+K+"), got "+Me);var ht=function(Ht){var Tt=cu(Ht);if(c.length!==Tt.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+Tt.join(","));var gt=Ae(c,function(Yt){return st(Tt,Yt)});if(!gt)throw new Error("Not all branches were specified when using match. Specified: "+Tt.join(", ")+`
Required: `+c.join(", "));return Ht[L].apply(null,ue)};return{fold:function(){for(var Ht=[],Tt=0;Tt<arguments.length;Tt++)Ht[Tt]=arguments[Tt];if(Ht.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+Ht.length);var gt=Ht[k];return gt.apply(null,ue)},match:ht,log:function(Ht){console.log(Ht,{constructors:c,constructor:L,params:ue})}}}}),h},Uc={generate:kp},Ap=Uc.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),yb=function(u,c,h,w){return u.fold(c,h,w)},wb=Ap.none,EA=Ap.multiple,Sh=Ap.single,Wi=function(u,c,h){var w=function(){return wo(u(),h).fold(function(){return c().fold(wb,Sh)},function(k){return EA(k)})};return{get:w}},Z_=tinymce.util.Tools.resolve("tinymce.PluginManager"),Za=function(u,c){return en.fromDom(u.dom.cloneNode(c))},Ol=function(u){return Za(u,!1)},sa=function(u){return Za(u,!0)},Fv=function(u,c){var h=en.fromTag(c),w=Qi(u);return Ao(h,w),h},el=function(u,c){var h=Fv(u,c),w=oi(sa(u));return ic(h,w),h},TA=function(u,c){var h=Fv(u,c);yr(u,h);var w=oi(u);return ic(h,w),Pu(u),h},Uo=function(u,c){var h=function(K,ue){if(!V(ue)&&!ue.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+ue);var we=K.dom;Js(we)&&(we.style[u]=ue+"px")},w=function(K){var ue=c(K);if(ue<=0||ue===null){var we=rc(K,u);return parseFloat(we)||0}return ue},k=w,R=function(K,ue){return te(ue,function(we,Me){var ht=rc(K,Me),Ht=ht===void 0?0:parseInt(ht,10);return isNaN(Ht)?we:we+Ht},0)},L=function(K,ue,we){var Me=R(K,we),ht=ue>Me?ue-Me:0;return ht};return{set:h,get:w,getOuter:k,aggregate:R,max:L}},hu=function(){var u=Jl().browser;return u.isIE()||u.isEdge()},J_=function(u,c){return lu(u).getOr(c)},At=function(u,c,h){return J_(rc(u,c),h)},Iu=function(u){return rc(u,"box-sizing")},Zf=function(u,c,h,w){var k=At(u,"padding-"+h,0),R=At(u,"padding-"+w,0),L=At(u,"border-"+h+"-width",0),K=At(u,"border-"+w+"-width",0);return c-k-R-L-K},Qn=function(u,c){var h=u.dom,w=h.getBoundingClientRect().height||h.offsetHeight;return c==="border-box"?w:Zf(u,w,"top","bottom")},Ts=function(u,c){var h=u.dom,w=h.getBoundingClientRect().width||h.offsetWidth;return c==="border-box"?w:Zf(u,w,"left","right")},OA=function(u){return hu()?Qn(u,Iu(u)):At(u,"height",u.dom.offsetHeight)},tu=function(u){return hu()?Ts(u,Iu(u)):At(u,"width",u.dom.offsetWidth)},xh=function(u){return Ts(u,"content-box")},Wc=Uo("width",function(u){return u.dom.offsetWidth}),Dl=function(u){return Wc.get(u)},ji=function(u){return Wc.getOuter(u)},Xr=xh,sc=tu,Hd=function(u,c){c===void 0&&(c=le);var h=u.grid,w=kt(h.columns,Be),k=kt(h.rows,Be);return ot(w,function(R){var L=function(){return Te(k,function(we){return br.getAt(u,we,R).filter(function(Me){return Me.column===R}).toArray()})},K=function(we){return we.colspan===1&&c(we.element)},ue=function(){return br.getAt(u,0,R)};return Ea(L,K,ue)})},Ea=function(u,c,h){var w=u(),k=Ue(w,c),R=k.orThunk(function(){return j.from(w[0]).orThunk(h)});return R.map(function(L){return L.element})},Lv=function(u){var c=u.grid,h=kt(c.rows,Be),w=kt(c.columns,Be);return ot(h,function(k){var R=function(){return Te(w,function(ue){return br.getAt(u,k,ue).filter(function(we){return we.row===k}).fold(me([]),function(we){return[we]})})},L=function(ue){return ue.rowspan===1},K=function(){return br.getAt(u,k,0)};return Ea(R,L,K)})},us=function(u,c){if(c<0||c>=u.length-1)return j.none();var h=u[c].fold(function(){var k=Je(u.slice(0,c));return $t(k,function(R,L){return R.map(function(K){return{value:K,delta:L+1}})})},function(k){return j.some({value:k,delta:0})}),w=u[c+1].fold(function(){var k=u.slice(c+1);return $t(k,function(R,L){return R.map(function(K){return{value:K,delta:L+1}})})},function(k){return j.some({value:k,delta:1})});return h.bind(function(k){return w.map(function(R){var L=R.delta+k.delta;return Math.abs(R.value-k.value)/L})})},ss=function(u,c){return function(h){return DA(h)==="rtl"?c:u}},DA=function(u){return rc(u,"direction")==="rtl"?"rtl":"ltr"},He=Uo("height",function(u){var c=u.dom;return tc(u)?c.getBoundingClientRect().height:c.offsetHeight}),gu=function(u){return He.get(u)},lc=function(u){return He.getOuter(u)},kh=OA,Os=function(u,c){var h=function(w,k){return Os(u+w,c+k)};return{left:u,top:c,translate:h}},Ca=Os,Ta=function(u){var c=u.getBoundingClientRect();return Ca(c.left,c.top)},Nu=function(u,c){return u!==void 0?u:c!==void 0?c:0},Jf=function(u){var c=u.dom.ownerDocument,h=c.body,w=c.defaultView,k=c.documentElement;if(h===u.dom)return Ca(h.offsetLeft,h.offsetTop);var R=Nu(w==null?void 0:w.pageYOffset,k.scrollTop),L=Nu(w==null?void 0:w.pageXOffset,k.scrollLeft),K=Nu(k.clientTop,h.clientTop),ue=Nu(k.clientLeft,h.clientLeft);return f2(u).translate(L-ue,R-K)},f2=function(u){var c=u.dom,h=c.ownerDocument,w=h.body;return w===c?Ca(w.offsetLeft,w.offsetTop):tc(u)?Ta(c):Ca(0,0)},zn=function(u,c){return{row:u,y:c}},Cb=function(u,c){return{col:u,x:c}},Ds=function(u){var c=Jf(u);return c.left+ji(u)},Q_=function(u){return Jf(u).left},Ep=function(u,c){return Cb(u,Q_(c))},Tp=function(u,c){return Cb(u,Ds(c))},v2=function(u){return Jf(u).top},d2=function(u,c){return zn(u,v2(c))},jc=function(u,c){return zn(u,v2(c)+lc(c))},Qf=function(u,c,h){if(h.length===0)return[];var w=ot(h.slice(1),function(R,L){return R.map(function(K){return u(L,K)})}),k=h[h.length-1].map(function(R){return c(h.length-1,R)});return w.concat([k])},RA=function(u){return-u},m2={delta:Be,positions:function(u){return Qf(d2,jc,u)},edge:v2},$A={delta:Be,edge:Q_,positions:function(u){return Qf(Ep,Tp,u)}},eS={delta:RA,edge:Ds,positions:function(u){return Qf(Tp,Ep,u)}},Op=ss($A,eS),Ah={delta:function(u,c){return Op(c).delta(u,c)},positions:function(u,c){return Op(c).positions(u,c)},edge:function(u){return Op(u).edge(u)}},tS={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Gc=function(){var u="[0-9]+",c="[+-]?"+u,h="[eE]"+c,w="\\.",k=function(K){return"(?:"+K+")?"},R=["Infinity",u+w+k(u)+k(h),w+u+k(h),u+k(h)].join("|"),L="[+-]?(?:"+R+")";return new RegExp("^("+L+")(.*)$")}(),Eh=function(u,c){return B(c,function(h){return B(tS[h],function(w){return u===w})})},h2=function(u,c){var h=j.from(Gc.exec(u));return h.bind(function(w){var k=Number(w[1]),R=w[2];return Eh(R,c)?j.some({value:k,unit:R}):j.none()})},nS=/(\d+(\.\d+)?)%/,BA=/(\d+(\.\d+)?)px|em/,MA=Zo("col"),Po=function(u,c,h){var w=lb(u).getOrThunk(function(){return db(zf(u))});return c(u)/h(w)*100},qc=function(u,c){vo(u,"width",c+"px")},Rl=function(u,c){vo(u,"width",c+"%")},Hv=function(u,c){vo(u,"height",c+"px")},rS=function(u){return kh(u)+"px"},$l=function(u,c,h,w){var k=Ga(u).map(function(R){var L=h(R);return Math.floor(c/100*L)}).getOr(c);return w(u,k),k},Vd=function(u,c,h,w){var k=parseFloat(u);return Zu(u,"%")&&ta(c)!=="table"?$l(c,k,h,w):k},g2=function(u){var c=rS(u);return c?Vd(c,u,gu,Hv):gu(u)},p2=function(u,c,h){var w=h(u),k=Ho(u,c);return w/k},ev=function(u,c){return du(u,c).orThunk(function(){return Kr(u,c).map(function(h){return h+"px"})})},tl=function(u){return ev(u,"width")},Ai=function(u){return ev(u,"height")},_b=function(u){return Po(u,Dl,Xr)},b2=function(u){return MA(u)?Dl(u):sc(u)},Ud=function(u){return p2(u,"rowspan",g2)},Th=function(u){var c=tl(u);return c.bind(function(h){return h2(h,["fixed","relative","empty"])})},Oh=function(u,c,h){vo(u,"width",c+h)},PA=function(u){return Dl(u)+"px"},Dh=function(u){return Po(u,Dl,Xr)+"%"},y2=function(u){return tl(u).exists(function(c){return nS.test(c)})},IA=function(u){return tl(u).exists(function(c){return BA.test(c)})},io=function(u){return tl(u).isNone()},Sb=me(nS),Vv=Zo("col"),w2=function(u){return tl(u).getOrThunk(function(){return b2(u)+"px"})},C2=function(u){return Ai(u).getOrThunk(function(){return Ud(u)+"px"})},nl=function(u){return ot(br.justColumns(u),function(c){return j.from(c.element)})},Rs=function(u){var c=Jl().browser,h=c.isChrome()||c.isFirefox();return Vv(u)?h:!0},Wd=function(u,c,h,w,k,R){return u.filter(w).fold(function(){return R(us(h,c))},function(L){return k(L)})},Uv=function(u,c,h,w){var k=Hd(u),R=br.hasColumns(u)?nl(u):k,L=[j.some(Ah.edge(c))].concat(ot(Ah.positions(k,c),function(ue){return ue.map(function(we){return we.x})})),K=De(zd);return ot(R,function(ue,we){return Wd(ue,we,L,K,function(Me){if(Rs(Me))return h(Me);var ht=hb(k[we],Be);return Wd(ht,we,L,K,function(Ht){return w(j.some(Dl(Ht)))},w)},w)})},xb=function(u){return u.map(function(c){return c+"px"}).getOr("")},Dp=function(u,c){return Uv(u,c,w2,xb)},_2=function(u,c,h){return Uv(u,c,_b,function(w){return w.fold(function(){return h.minCellWidth()},function(k){return k/h.pixelWidth()*100})})},jd=function(u,c,h){return Uv(u,c,b2,function(w){return w.getOrThunk(h.minCellWidth)})},kb=function(u,c,h,w,k){var R=Lv(u),L=[j.some(h.edge(c))].concat(ot(h.positions(R,c),function(K){return K.map(function(ue){return ue.y})}));return ot(R,function(K,ue){return Wd(K,ue,L,De(gb),w,k)})},NA=function(u,c,h){return kb(u,c,h,Ud,function(w){return w.getOrThunk(mo)})},S2=function(u,c,h){return kb(u,c,h,C2,xb)},$s=function(u,c){return function(){return tc(u)?c(u):parseFloat(du(u,"width").getOr("0"))}},ls=function(u){var c=$s(u,Dl),h=me(0),w=function(k,R){return jd(k,u,R)};return{width:c,pixelWidth:c,getWidths:w,getCellDelta:h,singleColumnWidth:me([0]),minCellWidth:h,setElementWidth:J,adjustTableWidth:J,isRelative:!0,label:"none"}},Rh=function(u){var c=$s(u,function(ue){return parseFloat(Dh(ue))}),h=$s(u,Dl),w=function(ue){return ue/h()*100},k=function(ue,we){return[100-ue]},R=function(){return Uf()/h()*100},L=function(ue){var we=c(),Me=ue/100*we,ht=we+Me;Rl(u,ht)},K=function(ue,we){return _2(ue,u,we)};return{width:c,pixelWidth:h,getWidths:K,getCellDelta:w,singleColumnWidth:k,minCellWidth:R,setElementWidth:Rl,adjustTableWidth:L,isRelative:!0,label:"percent"}},Bl=function(u){var c=$s(u,Dl),h=Be,w=function(L,K){var ue=Math.max(Uf(),L+K);return[ue-L]},k=function(L){var K=c()+L;qc(u,K)},R=function(L,K){return jd(L,u,K)};return{width:c,pixelWidth:c,getWidths:R,getCellDelta:h,singleColumnWidth:w,minCellWidth:Uf,setElementWidth:qc,adjustTableWidth:k,isRelative:!1,label:"pixel"}},Gi=function(u,c){var h=Sb().exec(c);return h!==null?Rh(u):Bl(u)},Ab=function(u){var c=tl(u);return c.fold(function(){return ls(u)},function(h){return Gi(u,h)})},tv={getTableSize:Ab,pixelSize:Bl,percentageSize:Rh,noneSize:ls},aS=function(u,c,h,w,k,R){return{minRow:u,minCol:c,maxRow:h,maxCol:w,allCells:k,selectedCells:R}},Ei=function(u,c){var h=u.grid.columns,w=u.grid.rows,k=w,R=h,L=0,K=0,ue=[],we=[];return Ba(u.access,function(Me){if(ue.push(Me),c(Me)){we.push(Me);var ht=Me.row,Ht=ht+Me.rowspan-1,Tt=Me.column,gt=Tt+Me.colspan-1;ht<k?k=ht:Ht>L&&(L=Ht),Tt<R?R=Tt:gt>K&&(K=gt)}}),aS(k,R,L,K,ue,we)},x2=function(u,c,h){var w=u[h].element,k=en.fromTag("td");oo(k,en.fromTag("br"));var R=c?oo:ki;R(w,k)},Eb=function(u,c,h,w){for(var k=c.grid.columns,R=c.grid.rows,L=0;L<R;L++)for(var K=!1,ue=0;ue<k;ue++)if(!(L<h.minRow||L>h.maxRow||ue<h.minCol||ue>h.maxCol)){var we=br.getAt(c,L,ue).filter(w).isNone();we?x2(u,K,L):K=!0}},Wr=function(u,c,h,w){Ba(h.columns,function(L){(L.column<c.minCol||L.column>c.maxCol)&&Pu(L.element)});var k=ct(Wf(u,"tr"),function(L){return L.dom.childElementCount===0});it(k,Pu),(c.minCol===c.maxCol||c.minRow===c.maxRow)&&it(Wf(u,"th,td"),function(L){Pa(L,"rowspan"),Pa(L,"colspan")}),Pa(u,Eo),Pa(u,"data-snooker-col-series");var R=tv.getTableSize(u);R.adjustTableWidth(w)},Fn=function(u,c,h,w){if(w.minCol===0&&c.grid.columns===w.maxCol+1)return 0;var k=jd(c,u,h),R=te(k,function(we,Me){return we+Me},0),L=te(k.slice(w.minCol,w.maxCol+1),function(we,Me){return we+Me},0),K=L/R*h.pixelWidth(),ue=K-h.pixelWidth();return h.getCellDelta(ue)},Bs=function(u,c){var h=function(Ht){return _i(Ht.element,c)},w=sa(u),k=pb(w),R=tv.getTableSize(u),L=br.generate(k),K=Ei(L,h),ue="th:not("+c+"),td:not("+c+")",we=jf(w,"th,td",function(Ht){return _i(Ht,ue)});it(we,Pu),Eb(k,L,K,h);var Me=br.fromTable(u),ht=Fn(u,Me,R,K);return Wr(w,K,L,ht),w},Tb=" ",Ml=function(u){return ta(u)==="img"?1:K_(u).fold(function(){return oi(u).length},function(c){return c.length})},oS=function(u){return K_(u).filter(function(c){return c.trim().length!==0||c.indexOf(Tb)>-1}).isSome()},_a=["img","br"],k2=function(u){var c=oS(u);return c||st(_a,ta(u))},Ob=function(u){return pp(u,k2)},Db=function(u){return Bt(u,k2)},Bt=function(u,c){var h=function(w){for(var k=oi(w),R=k.length-1;R>=0;R--){var L=k[R];if(c(L))return j.some(L);var K=h(L);if(K.isSome())return K}return j.none()};return h(u)},A2={scope:["row","col"]},E2=function(u){return function(){var c=en.fromTag("td",u.dom);return oo(c,en.fromTag("br",u.dom)),c}},Wv=function(u){return function(){return en.fromTag("col",u.dom)}},Rp=function(u){return function(){return en.fromTag("colgroup",u.dom)}},Gd=function(u){return function(){return en.fromTag("tr",u.dom)}},jv=function(u,c,h){var w=el(u,c);return Ba(h,function(k,R){k===null?Pa(w,R):Lo(w,R,k)}),w},qd=function(u){return u},$h=function(u,c,h){var w=Ob(u);return w.map(function(k){var R=h.join(","),L=zc(k,R,function(K){return ea(K,u)});return _n(L,function(K,ue){var we=Ol(ue);return Pa(we,"contenteditable"),oo(K,we),we},c)}).getOr(c)},To=function(u,c){Ba(A2,function(h,w){return Kr(u,w).filter(function(k){return st(h,k)}).each(function(k){return Lo(c,w,k)})})},sr=function(u,c,h){var w=function(L,K){Nv(L.element,K),Si(K,"height"),L.colspan!==1&&Si(K,"width")},k=function(L){var K=en.fromTag(ta(L.element),c.dom),ue=h.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),we=ue.length>0?$h(L.element,K,ue):K;return oo(we,en.fromTag("br")),w(L,K),To(L.element,K),u(L.element,K),K},R=function(L){var K=en.fromTag(ta(L.element),c.dom);return w(L,K),u(L.element,K),K};return{col:R,colgroup:Rp(c),row:Gd(c),cell:k,replace:jv,colGap:Wv(c),gap:E2(c)}},Ms=function(u){return{col:Wv(u),colgroup:Rp(u),row:Gd(u),cell:E2(u),replace:qd,colGap:Wv(u),gap:E2(u)}},iS=function(u,c){var h=c||document,w=h.createElement("div");return w.innerHTML=u,oi(en.fromDom(w))},cs=function(u){return ot(u,en.fromDom)},T2=function(u){return u.nodeName.toLowerCase()},Kc=function(u){return en.fromDom(u.getBody())},nv=function(u){return u.getBoundingClientRect().width},rv=function(u){return u.getBoundingClientRect().height},Ps=function(u){return function(c){return ea(c,Kc(u))}},Gv=function(u){return u?u.replace(/px$/,""):""},Jo=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},pu=function(u){Pa(u,"data-mce-style");var c=function(h){return Pa(h,"data-mce-style")};it(Gf(u),c),it(oc(u),c),it(Bu(u),c)},Xc=function(u,c){var h=u.dom.getStyle(c,"width")||u.dom.getAttrib(c,"width");return j.from(h).filter(Pr)},qv=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},Bh=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},Kd=function(u){return en.fromDom(u.selection.getStart())},wn=function(u){return en.fromDom(u.selection.getEnd())},si=function(u){return yb(u.get(),me([]),Be,Le)},cc=function(u){var c=function(k,R){return Kr(k,R).exists(function(L){return parseInt(L,10)>1})},h=function(k){return c(k,"rowspan")||c(k,"colspan")},w=si(u);return w.length>0&&Ae(w,h)?j.some(w):j.none()},Yc=function(u,c,h){return yb(c.get(),j.none,function(w){return w.length<=1?j.none():ui(u,h.firstSelectedSelector,h.lastSelectedSelector).map(function(k){return{bounds:k,cells:w}})},j.none)},$p="data-mce-selected",uS="td["+$p+"],th["+$p+"]",Rb="["+$p+"]",Kv="data-mce-first-selected",Xv="td["+Kv+"],th["+Kv+"]",Mh="data-mce-last-selected",Bp="td["+Mh+"],th["+Mh+"]",zA=Rb,Is={selected:$p,selectedSelector:uS,firstSelected:Kv,firstSelectedSelector:Xv,lastSelected:Mh,lastSelectedSelector:Bp},O2=function(u){return{element:u,mergable:j.none(),unmergable:j.none(),selection:[u]}},Xd=function(u,c,h){return{element:h,mergable:Yc(c,u,Is),unmergable:cc(u),selection:si(u)}},Yv=function(u,c,h){return{element:u,clipboard:c,generators:h}},D2=function(u,c,h,w){return{selection:si(u),clipboard:h,generators:w}},Zv=function(u){return Ga(u).bind(function(c){return wo(c,Is.firstSelectedSelector)}).fold(me(u),function(c){return c[0]})},sS=function(u){return function(c,h){var w=ta(c),k=w==="col"||w==="colgroup"?Zv(c):c;return ro(k,u,h)}},Ja=sS("th,td,caption"),Ti=sS("th,td"),qi=function(u){return si(u)},lS=function(u,c){var h=Ti(u),w=h.bind(function(k){return Ga(k)}).map(function(k){return Bu(k)});return as(h,w,function(k,R){return ct(R,function(L){return B(cs(L.dom.cells),function(K){return ks(K,c)==="1"||ea(K,k)})})}).getOr([])},$b=function(u){return Ga(u[0]).map(function(c){var h=Bs(c,zA);return pu(h),[h]})},FA=function(u,c){return ot(c,function(h){return u.selection.serializer.serialize(h.dom,{})}).join("")},cS=function(u){return ot(u,function(c){return c.dom.innerText}).join("")},Pl=function(u,c,h){u.on("BeforeGetContent",function(w){var k=function(R){w.preventDefault(),$b(R).each(function(L){w.content=w.format==="text"?cS(L):FA(u,L)})};w.selection===!0&&yb(c.get(),J,k,J)}),u.on("BeforeSetContent",function(w){if(w.selection===!0&&w.paste===!0){var k=qi(c);ut(k).each(function(R){Ga(R).each(function(L){var K=ct(iS(w.content),function(Ht){return ta(Ht)!=="meta"}),ue=Zo("table");if(K.length===1&&ue(K[0])){w.preventDefault();var we=en.fromDom(u.getDoc()),Me=Ms(we),ht=Yv(R,K[0],Me);h.pasteCells(L,ht).each(function(){u.focus()})}})})}})},LA=Uc.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Ph=Ft({},LA),Bb=function(u,c){return u.length===0?Ph.none():u.length===1?Ph.only(0):c===0?Ph.left(0,1):c===u.length-1?Ph.right(c-1,c):c>0&&c<u.length-1?Ph.middle(c-1,c,c+1):Ph.none()},HA=function(u,c,h,w,k){var R=u.slice(0),L=Bb(u,c),K=me(ot(R,me(0))),ue=function(Ht){return w.singleColumnWidth(R[Ht],h)},we=function(Ht,Tt){return k.calcLeftEdgeDeltas(R,Ht,Tt,h,w.minCellWidth(),w.isRelative)},Me=function(Ht,Tt,gt){return k.calcMiddleDeltas(R,Ht,Tt,gt,h,w.minCellWidth(),w.isRelative)},ht=function(Ht,Tt){return k.calcRightEdgeDeltas(R,Ht,Tt,h,w.minCellWidth(),w.isRelative)};return L.fold(K,ue,we,Me,ht)},fS=function(u,c,h){for(var w=0,k=u;k<c;k++)w+=h[k]!==void 0?h[k]:0;return w},R2=function(u,c){var h=br.justCells(u);return ot(h,function(w){var k=fS(w.column,w.column+w.colspan,c);return{element:w.element,width:k,colspan:w.colspan}})},$2=function(u,c){var h=br.justColumns(u);return ot(h,function(w,k){return{element:w.element,width:c[k],colspan:w.colspan}})},B2=function(u,c){var h=br.justCells(u);return ot(h,function(w){var k=fS(w.row,w.row+w.rowspan,c);return{element:w.element,height:k,rowspan:w.rowspan}})},VA=function(u,c){return ot(u.all,function(h,w){return{element:h.element,height:c[w]}})},Jv=function(u){return _n(u,function(c,h){return c+h},0)},Qv=function(u,c){return br.hasColumns(u)?$2(u,c):R2(u,c)},ga=function(u,c,h){var w=Qv(u,c);it(w,function(k){h.setElementWidth(k.element,k.width)})},Mb=function(u,c,h,w,k){var R=br.fromTable(u),L=k.getCellDelta(c),K=k.getWidths(R,k),ue=h===R.grid.columns-1,we=w.clampTableDelta(K,h,L,k.minCellWidth(),ue),Me=HA(K,h,we,k,w),ht=ot(Me,function(Ht,Tt){return Ht+K[Tt]});ga(R,ht,k),w.resizeTable(k.adjustTableWidth,we,ue)},fc=function(u,c,h,w){var k=br.fromTable(u),R=NA(k,u,w),L=ot(R,function(Me,ht){return h===ht?Math.max(c+Me,mo()):Me}),K=B2(k,L),ue=VA(k,L);it(ue,function(Me){Hv(Me.element,Me.height)}),it(K,function(Me){Hv(Me.element,Me.height)});var we=Jv(L);Hv(u,we)},vS=function(u,c,h,w,k){var R=br.generate(c),L=w.getWidths(R,w),K=w.pixelWidth(),ue=k.calcRedestributedWidths(L,K,h.pixelDelta,w.isRelative),we=ue.newSizes,Me=ue.delta;ga(R,we,w),w.adjustTableWidth(Me)},vc=function(u,c,h,w){var k=br.generate(c),R=w.getWidths(k,w);ga(k,R,w)},Zc=function(u){return ot(u,me(0))},ed=function(u,c,h,w,k){return k(u.slice(0,c)).concat(w).concat(k(u.slice(h)))},Pb=function(u){return function(c,h,w,k){if(u(w)){var R=Math.max(k,c[h]-Math.abs(w)),L=Math.abs(R-c[h]);return w>=0?L:-L}else return w}},Mp=Pb(function(u){return u<0}),Ib=Pb(le),Nb=function(){var u=function(K,ue,we,Me,ht){var Ht=Mp(K,ue,Me,ht);return ed(K,ue,we+1,[Ht,0],Zc)},c=function(K,ue,we,Me){var ht=(100+we)/100,Ht=Math.max(Me,(K[ue]+we)/ht);return ot(K,function(Tt,gt){var Yt=gt===ue?Ht:Tt/ht;return Yt-Tt})},h=function(K,ue,we,Me,ht,Ht){return Ht?c(K,ue,Me,ht):u(K,ue,we,Me,ht)},w=function(K,ue,we,Me,ht,Ht,Tt){return h(K,we,Me,ht,Ht,Tt)},k=function(K,ue){return K(ue)},R=function(K,ue,we,Me,ht,Ht){if(Ht)return c(K,we,Me,ht);var Tt=Mp(K,we,Me,ht);return Zc(K.slice(0,we)).concat([Tt])},L=function(K,ue,we,Me){if(Me){var ht=ue+we,Ht=ht/ue,Tt=ot(K,function(gt){return gt/Ht});return{delta:Ht*100-100,newSizes:Tt}}else return{delta:we,newSizes:K}};return{resizeTable:k,clampTableDelta:Mp,calcLeftEdgeDeltas:h,calcMiddleDeltas:w,calcRightEdgeDeltas:R,calcRedestributedWidths:L}},Yd=function(){var u=function(L,K,ue,we,Me){var ht=we>=0?ue:K,Ht=Ib(L,ht,we,Me);return ed(L,K,ue+1,[Ht,-Ht],Zc)},c=function(L,K,ue,we,Me,ht){return u(L,ue,we,Me,ht)},h=function(L,K,ue){ue&&L(K)},w=function(L,K,ue,we,Me,ht){if(ht)return Zc(L);var Ht=we/L.length;return ot(L,me(Ht))},k=function(L,K,ue,we,Me){if(Me){if(ue>=0)return ue;var ht=te(L,function(Ht,Tt){return Ht+Tt-we},0);return Math.max(-ht,ue)}else return Mp(L,K,ue,we)},R=function(L,K,ue,we){return{delta:0,newSizes:L}};return{resizeTable:h,clampTableDelta:k,calcLeftEdgeDeltas:u,calcMiddleDeltas:c,calcRightEdgeDeltas:w,calcRedestributedWidths:R}},UA=function(u,c){var h=j.from(u.dom.documentElement).map(en.fromDom).getOr(u);return{parent:me(h),view:me(u),origin:me(Ca(0,0)),isResizable:c}},zb=function(u,c,h){var w=function(){return Jf(c)};return{parent:me(c),view:me(u),origin:w,isResizable:h}},Ih=function(u,c,h){return{parent:me(c),view:me(u),origin:me(Ca(0,0)),isResizable:h}},Pp={only:UA,detached:zb,body:Ih},Ip=Uc.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),M2=function(u,c,h){var w=h.substring(0,h.length-u.length),k=parseFloat(w);return w===k.toString()?c(k):Ip.invalid(h)},Wo=function(u){return Zu(u,"%")?M2("%",Ip.percent,u):Zu(u,"px")?M2("px",Ip.pixels,u):Ip.invalid(u)},Zd=Ft(Ft({},Ip),{from:Wo}),Io=function(u,c){return ot(u,function(h){var w=Zd.from(h);return w.fold(function(){return h},function(k){var R=k/c*100;return R+"%"},function(k){return k+"%"})})},bu=function(u,c,h){var w=h/c;return ot(u,function(k){var R=Zd.from(k);return R.fold(function(){return k},function(L){return L*w+"px"},function(L){return L/100*h+"px"})})},Jd=function(u,c){var h=u.fold(function(){return me("")},function(w){var k=w/c;return me(k+"px")},function(){var w=100/c;return me(w+"%")});return kt(c,h)},Ns=function(u,c,h){return u.fold(function(){return c},function(w){return bu(c,h,w)},function(w){return Io(c,h)})},Fb=function(u,c,h){var w=Zd.from(h),k=Ae(u,function(R){return R==="0px"})?Jd(w,u.length):Ns(w,u,c);return dS(k)},Jc=function(u,c){return u.length===0?c:_n(u,function(h,w){return Zd.from(w).fold(me(0),Be,Be)+h},0)},Nh=function(u,c){var h=Math.floor(u);return{value:h+c,remainder:u-h}},zh=function(u,c){return Zd.from(u).fold(me(u),function(h){return h+c+"px"},function(h){return h+c+"%"})},dS=function(u){if(u.length===0)return u;var c=_n(u,function(w,k){var R=Zd.from(k).fold(function(){return{value:k,remainder:0}},function(L){return Nh(L,"px")},function(L){return{value:L+"%",remainder:0}});return{output:[R.value].concat(w.output),remainder:w.remainder+R.remainder}},{output:[],remainder:0}),h=c.output;return h.slice(0,h.length-1).concat([zh(h[h.length-1],Math.round(c.remainder))])},mS=Zd.from,WA=function(u,c,h){it(c,function(w){var k=u.slice(w.column,w.colspan+w.column),R=Jc(k,Uf());vo(w.element,"width",R+h)})},jA=function(u,c,h){it(c,function(w,k){var R=Jc([u[k]],Uf());vo(w.element,"width",R+h)})},GA=function(u,c,h,w){it(h,function(k){var R=u.slice(k.row,k.rowspan+k.row),L=Jc(R,mo());vo(k.element,"height",L+w)}),it(c,function(k,R){vo(k.element,"height",u[R])})},hS=function(u){return mS(u).fold(me("px"),me("px"),me("%"))},Lb=function(u,c,h){var w=br.fromTable(u),k=w.all,R=br.justCells(w),L=br.justColumns(w);c.each(function(K){var ue=hS(K),we=Dl(u),Me=Dp(w,u),ht=Fb(Me,we,K);br.hasColumns(w)?jA(ht,L,ue):WA(ht,R,ue),vo(u,"width",K)}),h.each(function(K){var ue=hS(K),we=gu(u),Me=S2(w,u,m2),ht=Fb(Me,we,K);GA(ht,k,R,ue),vo(u,"height",K)})},Hb=y2,Oi=IA,Vb=io,P2=function(u){var c=br.fromTable(u);return c.grid},rl=function(u){var c=[],h=function(R){if(R===void 0)throw new Error("Event bind error: undefined handler");c.push(R)},w=function(R){c=ct(c,function(L){return L!==R})},k=function(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];var K={};it(u,function(ue,we){K[ue]=R[we]}),it(c,function(ue){ue(K)})};return{bind:h,unbind:w,trigger:k}},Wa=function(u){var c=If(u,function(w){return{bind:w.bind,unbind:w.unbind}}),h=If(u,function(w){return w.trigger});return{registry:c,trigger:h}},zs=function(u,c){var h=null,w=function(){D(h)||(clearTimeout(h),h=null)},k=function(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];w(),h=setTimeout(function(){h=null,u.apply(null,R)},c)};return{cancel:w,throttle:k}},td=function(u){return u.slice(0).sort()},I2=function(u,c){throw new Error("All required keys ("+td(u).join(", ")+") were not specified. Specified keys were: "+td(c).join(", ")+".")},Ub=function(u){throw new Error("Unsupported keys for object: "+td(u).join(", "))},gS=function(u,c){if(!T(c))throw new Error("The "+u+" fields must be an array. Was: "+c+".");it(c,function(h){if(!_(h))throw new Error("The value "+h+" in the "+u+" fields was not a string.")})},hr=function(u,c){throw new Error("All values need to be of type: "+c+". Keys ("+td(u).join(", ")+") were not.")},Fh=function(u){var c=td(u),h=Ue(c,function(w,k){return k<c.length-1&&w===c[k+1]});h.each(function(w){throw new Error("The field: "+w+" occurs more than once in the combined fields: ["+c.join(", ")+"].")})},Wb=function(u,c){return N2(u,c,{validate:I,label:"function"})},N2=function(u,c,h){if(c.length===0)throw new Error("You must specify at least one required field.");return gS("required",c),Fh(c),function(w){var k=cu(w),R=Ae(c,function(K){return st(k,K)});R||I2(c,k),u(c,k);var L=ct(c,function(K){return!h.validate(w[K],K)});return L.length>0&&hr(L,h.label),w}},jo=function(u,c){var h=ct(c,function(w){return!st(u,w)});h.length>0&&Ub(h)},al=function(u){return Wb(jo,u)},pS=al(["compare","extract","mutate","sink"]),Qd=al(["element","start","stop","destroy"]),Na=al(["forceDrop","drop","move","delayDrop"]),em=function(){var u=j.none(),c=function(){u=j.none()},h=function(R,L){var K=u.map(function(ue){return R.compare(ue,L)});return u=j.some(L),K},w=function(R,L){var K=L.extract(R);K.each(function(ue){var we=h(L,ue);we.each(function(Me){k.trigger.move(Me)})})},k=Wa({move:rl(["info"])});return{onEvent:w,reset:c,events:k.registry}},jb=function(){var u=Wa({move:rl(["info"])});return{onEvent:J,reset:J,events:u.registry}},Lh=function(){var u=jb(),c=em(),h=u,w=function(){h.reset(),h=c},k=function(){h.reset(),h=u},R=function(K,ue){h.onEvent(K,ue)},L=function(){return h===c};return{on:w,off:k,isOn:L,onEvent:R,events:c.events}},z2=function(u,c,h){var w=!1,k=Wa({start:rl([]),stop:rl([])}),R=Lh(),L=function(){Tt.stop(),R.isOn()&&(R.off(),k.trigger.stop())},K=zs(L,200),ue=function(Yt){Tt.start(Yt),R.on(),k.trigger.start()},we=function(Yt){K.cancel(),R.onEvent(Yt,c)};R.events.move.bind(function(Yt){c.mutate(u,Yt.info)});var Me=function(){w=!0},ht=function(){w=!1},Ht=function(Yt){return function(){for(var tn=[],Rn=0;Rn<arguments.length;Rn++)tn[Rn]=arguments[Rn];w&&Yt.apply(null,tn)}},Tt=c.sink(Na({forceDrop:L,drop:Ht(L),move:Ht(we),delayDrop:Ht(K.throttle)}),h),gt=function(){Tt.destroy()};return{element:Tt.element,go:ue,on:Me,off:ht,destroy:gt,events:k.registry}},bS=function(u,c,h,w,k,R,L){return{target:u,x:c,y:h,stop:w,prevent:k,kill:R,raw:L}},Np=function(u){var c=en.fromDom(fb(u).getOr(u.target)),h=function(){return u.stopPropagation()},w=function(){return u.preventDefault()},k=q(w,h);return bS(c,u.clientX,u.clientY,h,w,k,u)},yS=function(u,c){return function(h){u(h)&&c(Np(h))}},av=function(u,c,h,w,k){var R=yS(h,w);return u.dom.addEventListener(c,R,k),{unbind:he(F2,u,c,R,k)}},yu=function(u,c,h,w){return av(u,c,h,w,!1)},F2=function(u,c,h,w){u.dom.removeEventListener(c,h,w)},qA=le,dc=function(u,c,h){return yu(u,c,qA,h)},ov=Np,Gb=function(u,c){var h=ks(u,c);return h===void 0||h===""?[]:h.split(" ")},KA=function(u,c,h){var w=Gb(u,c),k=w.concat([h]);return Lo(u,c,k.join(" ")),!0},XA=function(u,c,h){var w=ct(Gb(u,c),function(k){return k!==h});return w.length>0?Lo(u,c,w.join(" ")):Pa(u,c),!1},tm=function(u){return u.dom.classList!==void 0},nm=function(u){return Gb(u,"class")},qb=function(u,c){return KA(u,"class",c)},Yr=function(u,c){return XA(u,"class",c)},Go=function(u,c){tm(u)?u.dom.classList.add(c):qb(u,c)},wu=function(u){var c=tm(u)?u.dom.classList:nm(u);c.length===0&&Pa(u,"class")},zu=function(u,c){if(tm(u)){var h=u.dom.classList;h.remove(c)}else Yr(u,c);wu(u)},ka=function(u,c){return tm(u)&&u.dom.classList.contains(c)},nd=function(u){var c=u.replace(/\./g,"-"),h=function(w){return c+"-"+w};return{resolve:h}},Kb=nd("ephox-dragster"),Qo=Kb.resolve,Qc=function(u){var c=Ft({layerClass:Qo("blocker")},u),h=en.fromTag("div");Lo(h,"role","presentation"),Lc(h,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Go(h,Qo("blocker")),Go(h,c.layerClass);var w=me(h),k=function(){Pu(h)};return{element:w,destroy:k}},YA=function(u,c){return Ca(c.left-u.left,c.top-u.top)},ZA=function(u){return j.some(Ca(u.x,u.y))},Xb=function(u,c){u.mutate(c.left,c.top)},Yb=function(u,c){var h=Qc(c),w=dc(h.element(),"mousedown",u.forceDrop),k=dc(h.element(),"mouseup",u.drop),R=dc(h.element(),"mousemove",u.move),L=dc(h.element(),"mouseout",u.delayDrop),K=function(){h.destroy(),k.unbind(),R.unbind(),L.unbind(),w.unbind()},ue=function(Me){oo(Me,h.element())},we=function(){Pu(h.element())};return Qd({element:h.element,start:ue,stop:we,destroy:K})},L2=pS({compare:YA,extract:ZA,sink:Yb,mutate:Xb}),H2=function(u,c){c===void 0&&(c={});var h=c.mode!==void 0?c.mode:L2;return z2(u,h,c)},rm=function(u){return ro(u,"[contenteditable]")},zp=function(u,c){return c===void 0&&(c=!1),!Jl().browser.isIE()&&tc(u)?u.dom.isContentEditable:rm(u).fold(me(c),function(h){return V2(h)==="true"})},V2=function(u){return u.dom.contentEditable},U2=nd("ephox-snooker"),Hh=U2.resolve,Di=function(){var u=Wa({drag:rl(["xDelta","yDelta"])}),c=function(h,w){u.trigger.drag(h,w)};return{mutate:c,events:u.registry}},fs=function(){var u=Wa({drag:rl(["xDelta","yDelta","target"])}),c=j.none(),h=Di();h.events.drag.bind(function(R){c.each(function(L){u.trigger.drag(R.xDelta,R.yDelta,L)})});var w=function(R){c=j.some(R)},k=function(){return c};return{assign:w,get:k,mutate:h.mutate,events:u.registry}},Fp=function(u,c,h,w,k){var R=en.fromTag("div");return Lc(R,{position:"absolute",left:c-w/2+"px",top:h+"px",height:k+"px",width:w+"px"}),Ao(R,{"data-column":u,role:"presentation"}),R},qo=function(u,c,h,w,k){var R=en.fromTag("div");return Lc(R,{position:"absolute",left:c+"px",top:h-k/2+"px",height:k+"px",width:w+"px"}),Ao(R,{"data-row":u,role:"presentation"}),R},Zb=Hh("resizer-bar"),iv=Hh("resizer-rows"),W2=Hh("resizer-cols"),j2=7,wS=function(u,c){return Te(u.all,function(h,w){return c(h.element)?[w]:[]})},G2=function(u,c){var h=[];return kt(u.grid.columns,function(w){var k=br.getColumnAt(u,w).map(function(R){return R.element});k.forall(c)&&h.push(w)}),ct(h,function(w){var k=br.filterItems(u,function(R){return R.column===w});return Ae(k,function(R){return c(R.element)})})},Lp=function(u){var c=ns(u.parent(),"."+Zb);it(c,Pu)},Jb=function(u,c,h){var w=u.origin();it(c,function(k){k.each(function(R){var L=h(w,R);Go(L,Zb),oo(u.parent(),L)})})},CS=function(u,c,h,w){Jb(u,c,function(k,R){var L=Fp(R.col,R.x-k.left,h.top-k.top,j2,w);return Go(L,W2),L})},JA=function(u,c,h,w){Jb(u,c,function(k,R){var L=qo(R.row,h.left-k.left,R.y-k.top,w,j2);return Go(L,iv),L})},Ki=function(u,c,h,w,k){var R=Jf(h),L=c.isResizable,K=w.length>0?m2.positions(w,h):[],ue=K.length>0?wS(u,L):[],we=ct(K,function(Tt,gt){return B(ue,function(Yt){return gt===Yt})});JA(c,we,R,ji(h));var Me=k.length>0?Ah.positions(k,h):[],ht=Me.length>0?G2(u,L):[],Ht=ct(Me,function(Tt,gt){return B(ht,function(Yt){return gt===Yt})});CS(c,Ht,R,lc(h))},ei=function(u,c){if(Lp(u),u.isResizable(c)){var h=br.fromTable(c),w=Lv(h),k=Hd(h);Ki(h,u,c,w,k)}},Cu=function(u,c){var h=ns(u.parent(),"."+Zb);it(h,c)},_u=function(u){Cu(u,function(c){vo(c,"display","none")})},Fu=function(u){Cu(u,function(c){vo(c,"display","block")})},No=function(u){return ka(u,iv)},Qb=function(u){return ka(u,W2)},e0=Hh("resizer-bar-dragging"),q2=function(u){var c=fs(),h=H2(c,{}),w=j.none(),k=function(gt,Yt){return j.from(ks(gt,Yt))};c.events.drag.bind(function(gt){k(gt.target,"data-row").each(function(Yt){var tn=Vf(gt.target,"top");vo(gt.target,"top",tn+gt.yDelta+"px")}),k(gt.target,"data-column").each(function(Yt){var tn=Vf(gt.target,"left");vo(gt.target,"left",tn+gt.xDelta+"px")})});var R=function(gt,Yt){var tn=Vf(gt,Yt),Rn=Qs(gt,"data-initial-"+Yt,0);return tn-Rn};h.events.stop.bind(function(){c.get().each(function(gt){w.each(function(Yt){k(gt,"data-row").each(function(tn){var Rn=R(gt,"top");Pa(gt,"data-initial-top"),Tt.trigger.adjustHeight(Yt,Rn,parseInt(tn,10))}),k(gt,"data-column").each(function(tn){var Rn=R(gt,"left");Pa(gt,"data-initial-left"),Tt.trigger.adjustWidth(Yt,Rn,parseInt(tn,10))}),ei(u,Yt)})})});var L=function(gt,Yt){Tt.trigger.startAdjust(),c.assign(gt),Lo(gt,"data-initial-"+Yt,Vf(gt,Yt)),Go(gt,e0),vo(gt,"opacity","0.2"),h.go(u.parent())},K=dc(u.parent(),"mousedown",function(gt){No(gt.target)&&L(gt.target,"top"),Qb(gt.target)&&L(gt.target,"left")}),ue=function(gt){return ea(gt,u.view())},we=function(gt){return ro(gt,"table",ue).filter(zp)},Me=dc(u.view(),"mouseover",function(gt){we(gt.target).fold(function(){tc(gt.target)&&Lp(u)},function(Yt){w=j.some(Yt),ei(u,Yt)})}),ht=function(){K.unbind(),Me.unbind(),h.destroy(),Lp(u)},Ht=function(gt){ei(u,gt)},Tt=Wa({adjustHeight:rl(["table","delta","row"]),adjustWidth:rl(["table","delta","column"]),startAdjust:rl([])});return{destroy:ht,refresh:Ht,on:h.on,off:h.off,hideBars:he(_u,u),showBars:he(Fu,u),events:Tt.registry}},am=function(u,c,h){var w=m2,k=Ah,R=q2(u),L=Wa({beforeResize:rl(["table","type"]),afterResize:rl(["table","type"]),startDrag:rl([])});return R.events.adjustHeight.bind(function(K){var ue=K.table;L.trigger.beforeResize(ue,"row");var we=w.delta(K.delta,ue);fc(ue,we,K.row,w),L.trigger.afterResize(ue,"row")}),R.events.startAdjust.bind(function(K){L.trigger.startDrag()}),R.events.adjustWidth.bind(function(K){var ue=K.table;L.trigger.beforeResize(ue,"col");var we=k.delta(K.delta,ue),Me=h(ue);Mb(ue,we,K.column,c,Me),L.trigger.afterResize(ue,"col")}),{on:R.on,off:R.off,hideBars:R.hideBars,showBars:R.showBars,destroy:R.destroy,events:L.registry}},rd={create:am},t0=function(u,c){return u.fire("newrow",{node:c})},n0=function(u,c){return u.fire("newcell",{node:c})},r0=function(u,c,h,w,k){u.fire("ObjectResizeStart",{target:c,width:h,height:w,origin:k})},Vh=function(u,c,h,w,k){u.fire("ObjectResized",{target:c,width:h,height:w,origin:k})},Uh=function(u,c,h,w,k){u.fire("TableSelectionChange",{cells:c,start:h,finish:w,otherCells:k})},_S=function(u){u.fire("TableSelectionClear")},ef=function(u,c,h){u.fire("TableModified",Ft(Ft({},h),{table:c}))},om={structure:!1,style:!0},Ka={structure:!0,style:!1},QA={structure:!0,style:!0},e4="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",a0={"border-collapse":"collapse",width:"100%"},t4=kt(5,function(u){var c=u+1+"px";return{title:c,value:c}}),SS=ot(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(u){return{title:u,value:u.toLowerCase()}}),Jt=function(u){var c;if(uv(u)){var h=u.dom,w=(c=h.getParent(u.selection.getStart(),h.isBlock))!==null&&c!==void 0?c:u.getBody(),k=Xr(en.fromDom(w));return Ft(Ft({},a0),{width:k+"px"})}else return Wh(u)?xl(a0,function(R,L){return L!=="width"}):a0},n4={border:"1"},Ko="preservetable",K2=function(u){return u.getParam("table_sizing_mode","auto")},im=function(u){return u.getParam("table_responsive_width")},xS=function(u){return u.getParam("table_border_widths",t4,"array")},nu=function(u){return u.getParam("table_border_styles",SS,"array")},Hp=function(u){return u.getParam("table_default_attributes",n4,"object")},o0=function(u){return u.getParam("table_default_styles",Jt(u),"object")},Vp=function(u){return u.getParam("table_resize_bars",!0,"boolean")},mc=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},Up=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},Wp=function(u){return u.getParam("table_row_advtab",!0,"boolean")},Su=function(u){return u.getParam("table_advtab",!0,"boolean")},hc=function(u){return u.getParam("table_appearance_options",!0,"boolean")},kS=function(u){return u.getParam("table_grid",!0,"boolean")},ru=function(u){return u.getParam("table_style_by_css",!1,"boolean")},tf=function(u){return u.getParam("table_cell_class_list",[],"array")},ad=function(u){return u.getParam("table_row_class_list",[],"array")},jp=function(u){return u.getParam("table_class_list",[],"array")},mt=function(u){return K2(u)==="relative"||im(u)===!0},uv=function(u){return K2(u)==="fixed"||im(u)===!1},Wh=function(u){return K2(u)==="responsive"},r4=function(u){return u.getParam("table_toolbar",e4)},i0=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},Il=function(u){var c="section",h=u.getParam("table_header_type",c,"string"),w=["section","cells","sectionCells","auto"];return st(w,h)?h:c},u0=function(u){var c=["preservetable","resizetable"],h=u.getParam("table_column_resizing",Ko,"string");return Ue(c,function(w){return w===h}).getOr(Ko)},X2=function(u){return u0(u)==="preservetable"},Y2=function(u){return u0(u)==="resizetable"},s0=function(u){var c=u.getParam("table_clone_elements");return _(c)?j.some(c.split(/[ ,]/)):Array.isArray(c)?j.some(c):j.none()},Z2=function(u){var c=u.getParam("object_resizing",!0);return _(c)?c==="table":c},J2=function(u){return u.getParam("table_background_color_map",[],"array")},Q2=function(u){return u.getParam("table_border_color_map",[],"array")},ew=function(u,c){return mt(u)?tv.percentageSize(c):uv(u)?tv.pixelSize(c):tv.getTableSize(c)},um=function(u){Pa(u,"width")},AS=function(u){var c=Dh(u);Lb(u,j.some(c),j.none()),um(u)},a4=function(u){var c=PA(u);Lb(u,j.some(c),j.none()),um(u)},o4=function(u){Si(u,"width");var c=oc(u),h=c.length>0?c:Gf(u);it(h,function(w){Si(w,"width"),um(w)}),um(u)},jh=AS,Gh=a4,l0=o4,tw=function(u){var c=br.fromTable(u);br.hasColumns(c)||it(Gf(u),function(h){var w=rc(h,"width");vo(h,"width",w),Pa(h,"width")})},qh=function(){var u=en.fromTag("div");return Lc(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),oo(Ma(),u),u},nw=function(u,c){return u.inline?Pp.body(Kc(u),qh(),c):Pp.only(en.fromDom(u.getDoc()),c)},ho=function(u,c){u.inline&&Pu(c.parent())},Gp="bar-",Co=function(u){return ks(u,"data-mce-resize")!=="false"},c0=function(u){var c=j.none(),h=j.none(),w=j.none(),k,R,L=function(gt){return gt.nodeName==="TABLE"},K=function(){return h},ue=function(){return w.getOr(Pp.only(en.fromDom(u.getBody()),Co))},we=function(gt){return ew(u,gt)},Me=function(){return X2(u)?Yd():Nb()},ht=function(gt){return P2(gt).columns},Ht=function(gt,Yt,tn){var Rn=Zu(Yt,"e");if(R===""&&jh(gt),tn!==k&&R!==""){vo(gt,"width",R);var jr=Me(),Dn=we(gt),nr=X2(u)||Rn?ht(gt)-1:0;Mb(gt,tn-k,nr,jr,Dn)}else if(qv(R)){var Er=parseFloat(R.replace("%","")),xr=tn*Er/k;vo(gt,"width",xr+"%")}Bh(R)&&tw(gt)},Tt=function(){h.each(function(gt){gt.destroy()}),w.each(function(gt){ho(u,gt)})};return u.on("init",function(){var gt=nw(u,Co);if(w=j.some(gt),Z2(u)&&Vp(u)){var Yt=Me(),tn=rd.create(gt,Yt,we);tn.on(),tn.events.startDrag.bind(function(Rn){c=j.some(u.selection.getRng())}),tn.events.beforeResize.bind(function(Rn){var jr=Rn.table.dom;r0(u,jr,nv(jr),rv(jr),Gp+Rn.type)}),tn.events.afterResize.bind(function(Rn){var jr=Rn.table,Dn=jr.dom;pu(jr),c.each(function(nr){u.selection.setRng(nr),u.focus()}),Vh(u,Dn,nv(Dn),rv(Dn),Gp+Rn.type),u.undoManager.add()}),h=j.some(tn)}}),u.on("ObjectResizeStart",function(gt){var Yt=gt.target;if(L(Yt)){var tn=en.fromDom(Yt);it(u.dom.select(".mce-clonedresizable"),function(Rn){u.dom.addClass(Rn,"mce-"+u0(u)+"-columns")}),!Oi(tn)&&uv(u)?Gh(tn):!Hb(tn)&&mt(u)&&jh(tn),Vb(tn)&&wi(gt.origin,Gp)&&jh(tn),k=gt.width,R=Wh(u)?"":Xc(u,Yt).getOr("")}}),u.on("ObjectResized",function(gt){var Yt=gt.target;if(L(Yt)){var tn=en.fromDom(Yt),Rn=gt.origin;wi(Rn,"corner-")&&Ht(tn,Rn,gt.width),pu(tn),ef(u,tn.dom,om)}}),u.on("SwitchMode",function(){K().each(function(gt){u.mode.isReadOnly()?gt.hideBars():gt.showBars()})}),{lazyResize:K,lazyWire:ue,destroy:Tt}},sm=function(u,c){return{element:u,offset:c}},rw=function(u,c,h){return u.property().isText(c)&&u.property().getText(c).trim().length===0||u.property().isComment(c)?h(c).bind(function(w){return rw(u,w,h).orThunk(function(){return j.some(w)})}):j.none()},qp=function(u,c){if(u.property().isText(c))return u.property().getText(c).length;var h=u.property().children(c);return h.length},aw=function(u,c){var h=rw(u,c,u.query().prevSibling).getOr(c);if(u.property().isText(h))return sm(h,qp(u,h));var w=u.property().children(h);return w.length>0?aw(u,w[w.length-1]):sm(h,qp(u,h))},ES=aw,i4=_p(),TS=function(u){return ES(i4,u)},u4=function(u,c){var h=Ho(u,"colspan");if(h===1){var w=Th(u);w.each(function(k){var R=k.value/2;Oh(u,R,k.unit),Oh(c,R,k.unit)})}},f0=Zo("th"),Kp=function(u){return Ae(u,function(c){return f0(c.element)})},s4=function(u,c){return u&&c?"sectionCells":u?"section":"cells"},OS=function(u){var c=u.section==="thead",h=nc(ow(u.cells),"th");return c||h?{type:"header",subType:s4(c,h)}:u.section==="tfoot"?{type:"footer"}:{type:"body"}},ow=function(u){var c=ct(u,function(h){return f0(h.element)});return c.length===0?j.some("td"):c.length===u.length?j.some("th"):j.none()},l4=function(u){var c=ot(u,function(R){return OS(R).type}),h=st(c,"header"),w=st(c,"footer");if(!h&&!w)return j.some("body");var k=st(c,"body");return h&&!k&&!w?j.some("header"):!h&&!k&&w?j.some("footer"):j.none()},c4=function(u){return $t(u.all,function(c){var h=OS(c);return h.type==="header"?j.from(h.subType):j.none()})},v0=function(u,c,h){return Fi(h(u.element,c),!0,u.isLocked)},iw=function(u,c){return u.section!==c?Ql(u.element,u.cells,c,u.isNew):u},Ri=function(){return{transformRow:iw,transformCell:function(u,c,h){var w=h(u.element,c),k=ta(w)!=="td"?TA(w,"td"):w;return Fi(k,u.isNew,u.isLocked)}}},Kh=function(){return{transformRow:iw,transformCell:v0}},Xh=function(){return{transformRow:function(u,c){var h=c==="thead"?"tbody":c;return iw(u,h)},transformCell:v0}},DS=function(){return{transformRow:Be,transformCell:v0}},f4=function(u,c){var h=br.fromTable(u),w=c4(h).getOr(c);switch(w){case"section":return Ri();case"sectionCells":return Kh();case"cells":return Xh()}},Xp={getTableSectionType:f4,section:Ri,sectionCells:Kh,cells:Xh,fallback:DS},Yp=function(u,c,h,w){h===w?Pa(u,c):Lo(u,c,h)},lm=function(u,c,h){jt(fr(u,c)).fold(function(){return ki(u,h)},function(w){return xa(w,h)})},d0=function(u,c){var h=Xn(u,c).getOrThunk(function(){var w=en.fromTag(c,zf(u).dom);return c==="thead"?lm(u,"caption,colgroup",w):c==="colgroup"?lm(u,"caption",w):oo(u,w),w});return wp(h),h},Zp=function(u,c){var h=[],w=[],k=function(Tt){return ot(Tt,function(gt){gt.isNew&&h.push(gt.element);var Yt=gt.element;return wp(Yt),it(gt.cells,function(tn){tn.isNew&&w.push(tn.element),Yp(tn.element,"colspan",tn.colspan,1),Yp(tn.element,"rowspan",tn.rowspan,1),oo(Yt,tn.element)}),Yt})},R=function(Tt){return Te(Tt,function(gt){return ot(gt.cells,function(Yt){return Yp(Yt.element,"span",Yt.colspan,1),Yt.element})})},L=function(Tt,gt){var Yt=d0(u,gt),tn=gt==="colgroup"?R:k,Rn=tn(Tt);ic(Yt,Rn)},K=function(Tt){Xn(u,Tt).each(Pu)},ue=function(Tt,gt){Tt.length>0?L(Tt,gt):K(gt)},we=[],Me=[],ht=[],Ht=[];return it(c,function(Tt){switch(Tt.section){case"thead":we.push(Tt);break;case"tbody":Me.push(Tt);break;case"tfoot":ht.push(Tt);break;case"colgroup":Ht.push(Tt);break}}),ue(Ht,"colgroup"),ue(we,"thead"),ue(Me,"tbody"),ue(ht,"tfoot"),{newRows:h,newCells:w}},uw=function(u){return ot(u,function(c){var h=Ol(c.element);return it(c.cells,function(w){var k=sa(w.element);Yp(k,"colspan",w.colspan,1),Yp(k,"rowspan",w.rowspan,1),oo(h,k)}),h})},v4=function(u,c){return ot(u,function(h){return mu(h,c)})},nf=function(u,c){return u[c]},m0=function(u,c){if(u.length===0)return 0;var h=u[0],w=pt(u,function(k){return!c(h.element,k.element)});return w.getOr(u.length)},d4=function(u,c,h,w){var k=nf(u,c),R=k.section==="colgroup",L=m0(k.cells.slice(h),w),K=R?1:m0(v4(u.slice(c),h),w);return{colspan:L,rowspan:K}},od=function(u,c){var h=ot(u,function(k){return ot(k.cells,Xe)}),w=function(k,R,L,K){for(var ue=k;ue<k+L;ue++)for(var we=R;we<R+K;we++)h[ue][we]=!0};return ot(u,function(k,R){var L=Te(k.cells,function(K,ue){if(h[R][ue]===!1){var we=d4(u,R,ue,c);return w(R,ue,we.rowspan,we.colspan),[Cr(K.element,we.rowspan,we.colspan,K.isNew)]}else return[]});return Nc(k.element,L,k.section,k.isNew)})},id=function(u,c,h){var w=[];it(u.colgroups,function(Me){for(var ht=[],Ht=0;Ht<u.grid.columns;Ht++){var Tt=br.getColumnAt(u,Ht).map(function(gt){return Fi(gt.element,h,!1)}).getOrThunk(function(){return Fi(c.colGap(),!0,!1)});ht.push(Tt)}w.push(Ql(Me.element,ht,"colgroup",h))});for(var k=0;k<u.grid.rows;k++){for(var R=[],L=0;L<u.grid.columns;L++){var K=br.getAt(u,k,L).map(function(Me){return Fi(Me.element,h,Me.isLocked)}).getOrThunk(function(){return Fi(c.gap(),!0,!1)});R.push(K)}var ue=u.all[k],we=Ql(ue.element,R,ue.section,h);w.push(we)}return w},m4=function(u,c){return id(u,c,!1)},h0=function(u){return od(u,ea)},g0=function(u,c){return $t(u.all,function(h){return Ue(h.cells,function(w){return ea(c,w.element)})})},p0=function(u,c,h){var w=ot(c.selection,function(R){return ac(R).bind(function(L){return g0(u,L)}).filter(h)}),k=Mo(w);return ya(k.length>0,k)},li=function(u,c,h,w,k){return function(R,L,K,ue,we){var Me=br.fromTable(L),ht=j.from(we==null?void 0:we.section).getOrThunk(Xp.fallback),Ht=c(Me,K).map(function(Tt){var gt=m4(Me,ue),Yt=u(gt,Tt,ea,k(ue),ht),tn=xi(Yt.grid),Rn=h0(Yt.grid);return{info:Tt,grid:Rn,cursor:Yt.cursor,lockedColumns:tn}});return Ht.bind(function(Tt){var gt=Zp(L,Tt.grid),Yt=j.from(we==null?void 0:we.sizing).getOrThunk(function(){return tv.getTableSize(L)}),tn=j.from(we==null?void 0:we.resize).getOrThunk(Yd);return h(L,Tt.grid,Tt.info,{sizing:Yt,resize:tn,section:ht}),w(L),ei(R,L),Pa(L,Eo),Tt.lockedColumns.length>0&&Lo(L,Eo,Tt.lockedColumns.join(",")),j.some({cursor:Tt.cursor,newRows:gt.newRows,newCells:gt.newCells})})}},RS=function(u,c){return ac(c.element).bind(function(h){return g0(u,h).map(function(w){var k=Ft(Ft({},w),{generators:c.generators,clipboard:c.clipboard});return k})})},sw=function(u,c){return p0(u,c,le).map(function(h){return{cells:h,generators:c.generators,clipboard:c.clipboard}})},$S=function(u,c){return c.mergable},BS=function(u,c){return c.unmergable},gc=function(u,c){return p0(u,c,le)},sv=function(u,c){return p0(u,c,function(h){return!h.isLocked})},MS=function(u,c){return g0(u,c).exists(function(h){return!h.isLocked})},PS=function(u,c){return Ae(c,function(h){return MS(u,h)})},lw=function(u,c){return $S(u,c).filter(function(h){return PS(u,h.cells)})},b0=function(u,c){return BS(u,c).filter(function(h){return PS(u,h)})},IS=function(u,c,h,w){var k=yo(u).rows;if(k.length===0)return u;for(var R=c.startRow;R<=c.finishRow;R++)for(var L=c.startCol;L<=c.finishCol;L++){var K=k[R],ue=mu(K,L).isLocked;Hc(K,L,Fi(w(),!1,ue))}return u},Yh=function(u,c,h,w){for(var k=yo(u).rows,R=!0,L=0;L<k.length;L++)for(var K=0;K<Es(k[0]);K++){var ue=k[L],we=mu(ue,K),Me=we.element,ht=h(Me,c);ht===!0&&R===!1?Hc(ue,K,Fi(w(),!0,we.isLocked)):ht===!0&&(R=!1)}return u},h4=function(u,c){return te(u,function(h,w){return B(h,function(k){return c(k.element,w.element)})?h:h.concat([w])},[])},Jp=function(u,c,h,w){return c>0&&c<u[0].cells.length&&it(u,function(k){var R=k.cells[c-1],L=k.cells[c],K=h(L.element,R.element);K&&Hc(k,c,Fi(w(),!0,L.isLocked))}),u},g4=function(u,c,h,w){var k=yo(u).rows;if(c>0&&c<k.length){var R=k[c-1].cells,L=h4(R,h);it(L,function(K){for(var ue=j.none(),we=c;we<k.length;we++)for(var Me=function(Ht){var Tt=k[we],gt=mu(Tt,Ht),Yt=h(gt.element,K.element);Yt&&(ue.isNone()&&(ue=j.some(w())),ue.each(function(tn){Hc(Tt,Ht,Fi(tn,!0,gt.isLocked))}))},ht=0;ht<Es(k[0]);ht++)Me(ht)})}return u},Zh=function(u){var c=function(ht){return Zh(u)},h=function(ht){return Zh(u)},w=function(ht){return Zh(ht(u))},k=function(ht){return Zh(u)},R=function(ht){ht(u)},L=function(ht){return ht(u)},K=function(ht,Ht){return Ht(u)},ue=function(ht){return ht(u)},we=function(ht){return ht(u)},Me=function(){return j.some(u)};return{isValue:le,isError:Xe,getOr:me(u),getOrThunk:me(u),getOrDie:me(u),or:c,orThunk:h,fold:K,map:w,mapError:k,each:R,bind:L,exists:ue,forall:we,toOptional:Me}},cm=function(u){var c=function(we){return we()},h=function(){return ye(String(u))()},w=Be,k=function(we){return we()},R=function(we){return cm(u)},L=function(we){return cm(we(u))},K=function(we){return cm(u)},ue=function(we,Me){return we(u)};return{isValue:Xe,isError:le,getOr:Be,getOrThunk:c,getOrDie:h,or:w,orThunk:k,fold:ue,map:R,mapError:L,each:J,bind:K,exists:Xe,forall:le,toOptional:j.none}},cw=function(u,c){return u.fold(function(){return cm(c)},Zh)},NS={value:Zh,error:cm,fromOption:cw},p4=function(u,c,h){if(u.row>=c.length||u.column>Es(c[0]))return NS.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var w=c.slice(u.row),k=w[0].cells.slice(u.column),R=Es(h[0]),L=h.length;return NS.value({rowDelta:w.length-L,colDelta:k.length-R})},zS=function(u,c){var h=Es(u[0]),w=Es(c[0]);return{rowDelta:0,colDelta:h-w}},FS=function(u,c){var h=u.length,w=c.length;return{rowDelta:h-w,colDelta:0}},fw=function(u,c,h,w){var k=c.section==="colgroup"?h.col:h.cell;return kt(u,function(R){return Fi(k(),!0,w(R))})},b4=function(u,c,h,w){var k=u[u.length-1];return u.concat(kt(c,function(){var R=k.section==="colgroup"?h.colgroup:h.row,L=Vo(k,R,Be),K=fw(L.cells.length,L,h,function(ue){return oe(w,ue.toString())});return Jn(L,K)}))},y0=function(u,c,h,w){return ot(u,function(k){var R=fw(c,k,h,Xe);return qf(k,w,R)})},y4=function(u,c,h){return ot(u,function(w){return te(h,function(k,R){var L=fw(1,w,c,le)[0];return Kf(k,R,L)},w)})},Qp=function(u,c,h){var w=c.colDelta<0?y0:Be,k=c.rowDelta<0?b4:Be,R=xi(u),L=Es(u[0]),K=B(R,function(Me){return Me===L-1}),ue=w(u,Math.abs(c.colDelta),h,K?L-1:L),we=xi(ue);return k(ue,Math.abs(c.rowDelta),h,et(we,le))},w4=function(u,c,h,w){var k=mu(u[c],h),R=he(w,k.element),L=u[c];return u.length>1&&Es(L)>1&&(h>0&&R(Ui(L,h-1))||h<L.cells.length-1&&R(Ui(L,h+1))||c>0&&R(Ui(u[c-1],h))||c<u.length-1&&R(Ui(u[c+1],h)))},C4=function(u,c,h,w,k,R){for(var L=u.row,K=u.column,ue=h.length,we=Es(h[0]),Me=L+ue,ht=K+we+R.length,Ht=et(R,le),Tt=L;Tt<Me;Tt++)for(var gt=0,Yt=K;Yt<ht;Yt++){if(Ht[Yt]){gt++;continue}w4(c,Tt,Yt,k)&&Yh(c,Ui(c[Tt],Yt),k,w.cell);var tn=Yt-K-gt,Rn=mu(h[Tt-L],tn),jr=Rn.element,Dn=w.replace(jr);Hc(c[Tt],Yt,Fi(Dn,!0,Rn.isLocked))}return c},_4=function(u,c,h){var w=Es(c[0]),k=yo(c).cols.length+u.row,R=kt(w-u.column,function(K){return K+u.column}),L=Ue(R,function(K){return Ae(h,function(ue){return ue!==K})}).getOr(w-1);return{row:k,column:L}},w0=function(u,c,h){return ct(h,function(w){return w>=u.column&&w<=Es(c[0])+u.column})},S4=function(u,c,h,w,k){var R=xi(c),L=_4(u,c,R),K=yo(h).rows,ue=w0(L,K,R),we=p4(L,c,K);return we.map(function(Me){var ht=Ft(Ft({},Me),{colDelta:Me.colDelta-ue.length}),Ht=Qp(c,ht,w),Tt=xi(Ht),gt=w0(L,K,Tt);return C4(L,Ht,K,w,k,gt)})},Jh=function(u,c,h,w,k){Jp(c,u,k,w.cell);var R=FS(h,c),L=Qp(h,R,w),K=FS(c,L),ue=Qp(c,K,w);return ot(ue,function(we,Me){return qf(we,u,L[Me].cells)})},LS=function(u,c,h,w,k){g4(c,u,k,w.cell);var R=xi(c),L=zS(c,h),K=Ft(Ft({},L),{colDelta:L.colDelta-R.length}),ue=Qp(c,K,w),we=yo(ue),Me=we.cols,ht=we.rows,Ht=xi(ue),Tt=zS(h,c),gt=Ft(Ft({},Tt),{colDelta:Tt.colDelta+Ht.length}),Yt=y4(h,w,Ht),tn=Qp(Yt,gt,w);return Me.concat(ht.slice(0,u)).concat(tn).concat(ht.slice(u,ht.length))},x4=function(u,c,h,w){return Vo(u,function(k){return w(k,h)},c)},vw=function(u,c,h,w,k){var R=yo(u),L=R.rows,K=R.cols,ue=L.slice(0,c),we=L.slice(c),Me=x4(L[h],function(ht,Ht){var Tt=c>0&&c<L.length&&w(Ui(L[c-1],Ht),Ui(L[c],Ht)),gt=Tt?mu(L[c],Ht):Fi(k(ht.element,w),!0,ht.isLocked);return gt},w,k);return K.concat(ue).concat([Me]).concat(we)},HS=function(u,c,h,w,k,R,L){if(h==="colgroup"||!w){var K=mu(u,k);return Fi(L(K.element,R),!0,!1)}else return mu(u,c)},dw=function(u,c,h,w,k){return ot(u,function(R){var L=c>0&&c<Es(R)&&w(Ui(R,c-1),Ui(R,c)),K=HS(R,c,R.section,L,h,w,k);return Kf(R,c,K)})},VS=function(u,c){return Te(u,function(h){var w=h.cells,k=_n(c,function(R,L){return L>=0&&L<R.length?R.slice(0,L).concat(R.slice(L+1)):R},w);return k.length>0?[Ql(h.element,k,h.section,h.isNew)]:[]})},US=function(u,c,h){var w=yo(u),k=w.rows,R=w.cols;return R.concat(k.slice(0,c)).concat(k.slice(h+1))},Qh=function(u,c,h,w){return Ui(u[c],h)!==void 0&&c>0&&w(Ui(u[c-1],h),Ui(u[c],h))},mw=function(u,c,h){return c>0&&h(Ui(u,c-1),Ui(u,c))},hw=function(u,c,h,w){return Qh(u,c,h,w)||mw(u[c],h,w)},k4=function(u,c){var h=Ae(c,Be)&&Kp(u.cells);return h?le:function(w,k,R){var L=ta(w.element);return!(L==="th"&&c[R])}},A4=function(u,c){var h=Ae(c,Be)&&Kp(u);return h?le:function(w,k,R){var L=ta(w.element);return!(L==="th"&&c[k])}},gw=function(u,c,h,w){var k=function(K){return K==="row"?gb(c):zd(c)},R=function(K){return k(K)?K+"group":K};if(u)return f0(c)?R(h):null;if(w&&f0(c)){var L=h==="row"?"col":"row";return R(L)}else return null},E4=function(u,c){return function(h,w,k){return j.some(gw(u,h.element,"col",c[k]))}},WS=function(u,c){return function(h,w){return j.some(gw(u,h.element,"row",c[w]))}},ud=function(u,c,h){return Fi(h(u.element,c),!0,u.isLocked)},eg=function(u,c,h,w,k,R,L){var K=function(ue){return B(c,function(we){return h(ue.element,we.element)})};return ot(u,function(ue,we){return As(ue,function(Me,ht){if(K(Me)){var Ht=L(Me,we,ht)?k(Me,h,w):Me;return R(Ht,we,ht).each(function(Tt){Lf(Ht.element,{scope:j.from(Tt)})}),Ht}else return Me})})},jS=function(u,c,h){return Te(u,function(w,k){return hw(u,k,c,h)?[]:[mu(w,c)]})},T4=function(u,c,h){var w=u[c];return Te(w.cells,function(k,R){return hw(u,c,R,h)?[]:[k]})},GS=function(u,c,h,w,k){var R=yo(u).rows,L=Te(c,function(Me){return jS(R,Me,w)}),K=ot(u,function(Me){return Kp(Me.cells)}),ue=A4(L,K),we=WS(h,K);return eg(u,L,w,k,ud,we,ue)},O4=function(u,c,h,w,k,R,L){var K=yo(u),ue=K.cols,we=K.rows,Me=we[c[0]],ht=Te(c,function(Rn){return T4(we,Rn,k)}),Ht=ot(Me.cells,function(Rn,jr){return Kp(jS(we,jr,k))}),Tt=rn([],we,!0);it(c,function(Rn){Tt[Rn]=L.transformRow(we[Rn],h)});var gt=ue.concat(Tt),Yt=k4(Me,Ht),tn=E4(w,Ht);return eg(gt,ht,k,R,L.transformCell,tn,Yt)},pw=function(u,c,h,w){var k=yo(u).rows,R=ot(c,function(L){return mu(k[L.row],L.column)});return eg(u,R,h,w,ud,j.none,le)},tg=function(u){var c=function(h,w){var k=B(h,function(R){return R.column===w.column});return k?h:h.concat([w])};return te(u,c,[]).sort(function(h,w){return h.column-w.column})},au=Zo("col"),bw=Zo("colgroup"),ng=function(u){return ta(u)==="tr"||bw(u)},fm=function(u){var c=Qs(u,"colspan",1),h=Qs(u,"rowspan",1);return{element:u,colspan:c,rowspan:h}},C0=function(u,c){c===void 0&&(c=fm);var h=function(K){return au(K.element)?u.col(K):u.cell(K)},w=function(K){return bw(K.element)?u.colgroup(K):u.row(K)},k=function(K){if(ng(K))return w({element:K});var ue=h(c(K));return R=j.some({item:K,replacement:ue}),ue},R=j.none(),L=function(K,ue){return R.fold(function(){return k(K)},function(we){return ue(K,we.item)?we.replacement:k(K)})};return{getOrInit:L}},D4=function(u){return function(c){var h=[],w=function(L,K){return Ue(h,function(ue){return K(ue.item,L)})},k=function(L){var K=u==="td"?{scope:null}:{},ue=c.replace(L,u,K);return h.push({item:L,sub:ue}),ue},R=function(L,K){return ng(L)||au(L)?L:w(L,K).fold(function(){return k(L)},function(ue){return K(L,ue.item)?ue.sub:k(L)})};return{replaceOrInit:R}}},qS=function(u){return Kr(u,"scope").map(function(c){return c.substr(0,3)})},yw=function(u){var c=function(w){var k=qS(w);return k.each(function(R){return Lo(w,"scope",R)}),function(){var R=u.cell({element:w,colspan:1,rowspan:1});return Si(R,"width"),Si(w,"width"),k.each(function(L){return Lo(R,"scope",L)}),R}},h=function(w){var k=function(){var R=Mo(ot(w,qS));if(R.length===0)return j.none();var L=R[0],K=["row","col"],ue=B(R,function(we){return we!==L&&st(K,we)});return ue?j.none():j.from(L)};return Si(w[0],"width"),k().fold(function(){return Pa(w[0],"scope")},function(R){return Lo(w[0],"scope",R+"group")}),me(w[0])};return{unmerge:c,merge:h}},Lu={modification:C0,transform:D4,merging:yw},e1=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],R4=function(u,c){var h=u.property().name(c);return st(["ol","ul"],h)},vm=function(u,c){var h=u.property().name(c);return st(e1,h)},sd=function(u,c){return st(["br","img","hr","input"],u.property().name(c))},rg=_p(),ld=function(u){return vm(rg,u)},pc=function(u){return R4(rg,u)},bc=function(u){return sd(rg,u)},_0=function(u){var c=function(ue){return ta(ue)==="br"},h=function(ue){return Ae(ue,function(we){return c(we)||Zs(we)&&bb(we).trim().length===0})},w=function(ue){return ta(ue)==="li"||Ya(ue,pc).isSome()},k=function(ue){return Ge(ue).map(function(we){return ld(we)?!0:bc(we)?ta(we)!=="img":!1}).getOr(!1)},R=function(ue){return Db(ue).bind(function(we){var Me=k(we);return xo(we).map(function(ht){return Me===!0||w(ht)||c(we)||ld(ht)&&!ea(ue,ht)?[]:[en.fromTag("br")]})}).getOr([])},L=function(){var ue=Te(u,function(we){var Me=oi(we);return h(Me)?[]:Me.concat(R(we))});return ue.length===0?[en.fromTag("br")]:ue},K=L();wp(u[0]),ic(u[0],K)},S0=function(u){return zp(u,!0)},ww=function(u){var c=Gf(u);c.length===0&&Pu(u)},ag=function(u,c){return{grid:u,cursor:c}},og=function(u){return $t(u,function(c){return $t(c.cells,function(h){var w=h.element;return ya(S0(w),w)})})},ig=function(u,c,h){var w,k,R=yo(u).rows;return j.from((k=(w=R[c])===null||w===void 0?void 0:w.cells[h])===null||k===void 0?void 0:k.element).filter(S0).orThunk(function(){return og(R)})},Xi=function(u,c,h){var w=ig(u,c,h);return ag(u,w)},ug=function(u){var c=function(h,w){var k=B(h,function(R){return R.row===w.row});return k?h:h.concat([w])};return te(u,c,[]).sort(function(h,w){return h.row-w.row})},sg=function(u,c,h,w){var k=c[0].row,R=ug(c),L=_n(R,function(K,ue){var we=vw(K.grid,k,ue.row+K.delta,h,w.getOrInit);return{grid:we,delta:K.delta+1}},{grid:u,delta:0}).grid;return Xi(L,k,c[0].column)},x0=function(u,c,h,w){var k=ug(c),R=k[k.length-1],L=R.row+R.rowspan,K=_n(k,function(ue,we){return vw(ue,L,we.row,h,w.getOrInit)},u);return Xi(K,L,c[0].column)},$4=function(u,c,h,w){var k=c.details,R=tg(k),L=R[0].column,K=_n(R,function(ue,we){var Me=dw(ue.grid,L,we.column+ue.delta,h,w.getOrInit);return{grid:Me,delta:ue.delta+1}},{grid:u,delta:0}).grid;return Xi(K,k[0].row,L)},Cw=function(u,c,h,w){var k=c.details,R=k[k.length-1],L=R.column+R.colspan,K=tg(k),ue=_n(K,function(we,Me){return dw(we,L,Me.column,h,w.getOrInit)},u);return Xi(ue,k[0].row,L)},k0=function(u,c,h,w){var k=tg(c),R=ot(k,function(K){return K.column}),L=GS(u,R,!0,h,w.replaceOrInit);return Xi(L,c[0].row,c[0].column)},$i=function(u,c,h,w){var k=pw(u,c,h,w.replaceOrInit);return Xi(k,c[0].row,c[0].column)},B4=function(u,c,h,w){var k=tg(c),R=ot(k,function(K){return K.column}),L=GS(u,R,!1,h,w.replaceOrInit);return Xi(L,c[0].row,c[0].column)},rf=function(u,c,h,w){var k=pw(u,c,h,w.replaceOrInit);return Xi(k,c[0].row,c[0].column)},A0=function(u,c){return function(h,w,k,R,L){var K=ug(w),ue=ot(K,function(Me){return Me.row}),we=O4(h,ue,u,c,k,R.replaceOrInit,L);return Xi(we,w[0].row,w[0].column)}},_w=A0("thead",!0),lg=A0("tbody",!1),Sw=A0("tfoot",!1),t1=function(u,c,h,w){var k=tg(c.details),R=VS(u,ot(k,function(K){return K.column})),L=R.length>0?R[0].cells.length-1:0;return Xi(R,k[0].row,Math.min(k[0].column,L))},M4=function(u,c,h,w){var k=ug(c),R=US(u,k[0].row,k[k.length-1].row),L=R.length>0?R.length-1:0;return Xi(R,Math.min(c[0].row,L),c[0].column)},KS=function(u,c,h,w){var k=c.cells;_0(k);var R=IS(u,c.bounds,h,w.merge(k));return ag(R,j.from(k[0]))},XS=function(u,c,h,w){var k=function(L,K){return Yh(L,K,h,w.unmerge(K))},R=_n(c,k,u);return ag(R,j.from(c[0]))},P4=function(u,c,h,w){var k=function(ue,we){var Me=br.fromTable(ue);return id(Me,we,!0)},R=k(c.clipboard,c.generators),L=aa(c.row,c.column),K=S4(L,u,R,c.generators,h);return K.fold(function(){return ag(u,j.some(c.element))},function(ue){return Xi(ue,c.row,c.column)})},cg=function(u,c,h){var w=bp(u,h.section),k=br.generate(w);return id(k,c,!0)},go=function(u,c,h,w){var k=yo(u).rows,R=c.cells[0].column,L=k[c.cells[0].row],K=cg(c.clipboard,c.generators,L),ue=Jh(R,u,K,c.generators,h);return Xi(ue,c.cells[0].row,c.cells[0].column)},E0=function(u,c,h,w){var k=yo(u).rows,R=c.cells[c.cells.length-1].column+c.cells[c.cells.length-1].colspan,L=k[c.cells[0].row],K=cg(c.clipboard,c.generators,L),ue=Jh(R,u,K,c.generators,h);return Xi(ue,c.cells[0].row,c.cells[0].column)},T0=function(u,c,h,w){var k=yo(u).rows,R=c.cells[0].row,L=k[R],K=cg(c.clipboard,c.generators,L),ue=LS(R,u,K,c.generators,h);return Xi(ue,c.cells[0].row,c.cells[0].column)},xw=function(u,c,h,w){var k=yo(u).rows,R=c.cells[c.cells.length-1].row+c.cells[c.cells.length-1].rowspan,L=k[c.cells[0].row],K=cg(c.clipboard,c.generators,L),ue=LS(R,u,K,c.generators,h);return Xi(ue,c.cells[0].row,c.cells[0].column)},YS=function(u,c){var h=br.fromTable(u),w=gc(h,c);return w.bind(function(k){var R=k[k.length-1],L=k[0].column,K=R.column+R.colspan,ue=Zn(ot(h.all,function(we){return ct(we.cells,function(Me){return Me.column>=L&&Me.column<K})}));return ow(ue)}).getOr("")},kw=function(u,c){var h=br.fromTable(u),w=gc(h,c);return w.bind(ow).getOr("")},dm=function(u,c){var h=br.fromTable(u),w=gc(h,c);return w.bind(function(k){var R=k[k.length-1],L=k[0].row,K=R.row+R.rowspan,ue=h.all.slice(L,K);return l4(ue)}).getOr("")},O0=function(u,c,h,w){return vc(u,c,h,w.sizing)},Hu=function(u,c,h,w){return vS(u,c,h,w.sizing,w.resize)},yc=function(u,c){return B(c,function(h){return h.column===0&&h.isLocked})},D0=function(u,c){return B(c,function(h){return h.column+h.colspan>=u.grid.columns&&h.isLocked})},lv=function(u,c){var h=Hd(u),w=tg(c);return te(w,function(k,R){var L=h[R.column],K=L.map(ji).getOr(0);return k+K},0)},Nl=function(u){return function(c,h){return gc(c,h).filter(function(w){var k=u?yc:D0;return!k(c,w)}).map(function(w){return{details:w,pixelDelta:lv(c,w)}})}},wc=function(u,c){return sv(u,c).map(function(h){return{details:h,pixelDelta:-lv(u,h)}})},ou=function(u){return function(c,h){return sw(c,h).filter(function(w){var k=u?yc:D0;return!k(c,w.cells)})}},ol=Lu.transform("th"),fg=Lu.transform("td"),af=li(sg,gc,J,J,Lu.modification),mm=li(x0,gc,J,J,Lu.modification),ZS=li($4,Nl(!0),Hu,J,Lu.modification),JS=li(Cw,Nl(!1),Hu,J,Lu.modification),I4=li(t1,wc,Hu,ww,Lu.modification),N4=li(M4,gc,J,ww,Lu.modification),QS=li(k0,sv,J,J,ol),ex=li(B4,sv,J,J,fg),tx=li(_w,sv,J,J,ol),z4=li(lg,sv,J,J,fg),nx=li(Sw,sv,J,J,fg),F4=li($i,sv,J,J,ol),rx=li(rf,sv,J,J,fg),ax=li(KS,lw,O0,J,Lu.merging),Aw=li(XS,b0,O0,J,Lu.merging),ox=li(P4,RS,O0,J,Lu.modification),L4=li(go,ou(!0),J,J,Lu.modification),Br=li(E0,ou(!1),J,J,Lu.modification),hm=li(T0,sw,J,J,Lu.modification),vg=li(xw,sw,J,J,Lu.modification),Ew=YS,H4=kw,Vu=dm,V4=function(u,c,h){var w=function(di){return ta(Kc(di))==="table"},k=function(di){return w(u)===!1||P2(di).rows>1},R=function(di){return w(u)===!1||P2(di).columns>1},L=s0(u),K=Y2(u)?J:u4,ue=function(di){switch(Il(u)){case"section":return Xp.section();case"sectionCells":return Xp.sectionCells();case"cells":return Xp.cells();default:return Xp.getTableSectionType(di,"section")}},we=function(di,S1){return S1.cursor.fold(function(){var gv=Gf(di);return ut(gv).filter(tc).map(function(_c){c.clear(di);var Hs=u.dom.createRng();return Hs.selectNode(_c.dom),u.selection.setRng(Hs),Lo(_c,"data-mce-selected","1"),Hs})},function(gv){var _c=TS(gv),Hs=u.dom.createRng();return Hs.setStart(_c.element.dom,_c.offset),Hs.setEnd(_c.element.dom,_c.offset),u.selection.setRng(Hs),c.clear(di),j.some(Hs)})},Me=function(di,S1,gv,_c,Hs){return function(hf,py,Bg){Bg===void 0&&(Bg=!1),pu(hf);var Mg=_c(),Pg=en.fromDom(u.getDoc()),Sc=sr(gv,Pg,L),Ig={sizing:ew(u,hf),resize:Y2(u)?Nb():Yd(),section:ue(hf)};return S1(hf)?di(Mg,hf,py,Sc,Ig).bind(function(Ng){it(Ng.newRows,function(zg){t0(u,zg.dom)}),it(Ng.newCells,function(zg){n0(u,zg.dom)});var DC=we(hf,Ng);return tc(hf)&&(pu(hf),Bg||ef(u,hf.dom,Hs)),DC.map(function(zg){return{rng:zg,effect:Hs}})}):j.none()}},ht=Me(N4,k,J,h,Ka),Ht=Me(I4,R,J,h,Ka),Tt=Me(af,le,J,h,Ka),gt=Me(mm,le,J,h,Ka),Yt=Me(ZS,le,K,h,Ka),tn=Me(JS,le,K,h,Ka),Rn=Me(ax,le,J,h,Ka),jr=Me(Aw,le,J,h,Ka),Dn=Me(L4,le,J,h,Ka),nr=Me(Br,le,J,h,Ka),Er=Me(hm,le,J,h,Ka),xr=Me(vg,le,J,h,Ka),_o=Me(ox,le,J,h,QA),fi=Me(F4,le,J,h,Ka),vi=Me(rx,le,J,h,Ka),zr=Me(QS,le,J,h,Ka),or=Me(ex,le,J,h,Ka),$r=Me(tx,le,J,h,Ka),fa=Me(z4,le,J,h,Ka),uo=Me(nx,le,J,h,Ka),hv=H4,ca=Ew,ds=Vu;return{deleteRow:ht,deleteColumn:Ht,insertRowsBefore:Tt,insertRowsAfter:gt,insertColumnsBefore:Yt,insertColumnsAfter:tn,mergeCells:Rn,unmergeCells:jr,pasteColsBefore:Dn,pasteColsAfter:nr,pasteRowsBefore:Er,pasteRowsAfter:xr,pasteCells:_o,makeCellsHeader:fi,unmakeCellsHeader:vi,makeColumnsHeader:zr,unmakeColumnsHeader:or,makeRowsHeader:$r,makeRowsBody:fa,makeRowsFooter:uo,getTableRowType:ds,getTableCellType:hv,getTableColType:ca}},gm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},cd=function(){return en.fromTag("th")},R0=function(){return en.fromTag("td")},$0=function(){return en.fromTag("col")},U4=function(u,c,h,w){for(var k=en.fromTag("tr"),R=0;R<u;R++){var L=w<c||R<h?cd():R0();R<h&&Lo(L,"scope","row"),w<c&&Lo(L,"scope","col"),oo(L,en.fromTag("br")),oo(k,L)}return k},ix=function(u){var c=en.fromTag("colgroup");return kt(u,function(){return oo(c,$0())}),c},B0=function(u,c,h,w){return kt(u,function(k){return U4(c,h,w,k)})},Tw=function(u,c,h,w,k,R){R===void 0&&(R=gm);var L=en.fromTag("table"),K=k!=="cells";Lc(L,R.styles),Ao(L,R.attributes),R.colGroups&&oo(L,ix(c));var ue=Math.min(u,h);if(K&&h>0){var we=en.fromTag("thead");oo(L,we);var Me=k==="sectionCells"?ue:0,ht=B0(h,c,Me,w);ic(we,ht)}var Ht=en.fromTag("tbody");oo(L,Ht);var Tt=K?u-ue:u,gt=K?0:h,Yt=B0(Tt,c,gt,w);return ic(Ht,Yt),L},dg=function(u){return u.dom.innerHTML},M0=function(u){var c=en.fromTag("div"),h=en.fromDom(u.dom.cloneNode(!0));return oo(c,h),dg(c)},W4=function(u,c){u.selection.select(c.dom,!0),u.selection.collapse(!0)},of=function(u,c){rs(c,"td,th").each(he(W4,u))},Ow=function(u,c){it(ns(c,"tr"),function(h){t0(u,h.dom),it(ns(h,"th,td"),function(w){n0(u,w.dom)})})},Dw=function(u){return _(u)&&u.indexOf("%")!==-1},mg=function(u,c,h,w,k){var R=o0(u),L={styles:R,attributes:Hp(u),colGroups:i0(u)};return u.undoManager.ignore(function(){var K=Tw(h,c,k,w,Il(u),L);Lo(K,"data-mce-id","__mce");var ue=M0(K);u.insertContent(ue),u.addVisual()}),rs(Kc(u),'table[data-mce-id="__mce"]').map(function(K){return uv(u)?Gh(K):Wh(u)?l0(K):(mt(u)||Dw(R.width))&&jh(K),pu(K),Pa(K,"data-mce-id"),Ow(u,K),of(u,K),K.dom}).getOr(null)},Rw=function(u,c,h,w,k){w===void 0&&(w={});var R=function(ue){return V(ue)&&ue>0};if(R(c)&&R(h)){var L=w.headerRows||0,K=w.headerColumns||0;return mg(u,h,c,K,L)}else return console.error(k),null},n1=function(u){return function(){return u().fold(function(){return[]},function(c){return ot(c,function(h){return h.dom})})}},ux=function(u){return function(c){var h=c.length>0?j.some(cs(c)):j.none();u(h)}},j4=function(u){return function(c,h,w){w===void 0&&(w={});var k=Rw(u,h,c,w,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),k}},uf=function(u,c,h,w){return{insertTable:j4(u),setClipboardRows:ux(c.setRows),getClipboardRows:n1(c.getRows),setClipboardCols:ux(c.setColumns),getClipboardCols:n1(c.getColumns),resizeHandler:h,selectionTargets:w}},vs=function(u,c,h){var w=Qs(u,c,1);h===1||w<=1?Pa(u,c):Lo(u,c,Math.min(h,w))},Bi=function(u,c,h){if(br.hasColumns(u)){var w=ct(br.justColumns(u),function(L){return L.column>=c&&L.column<h}),k=ot(w,function(L){var K=sa(L.element);return vs(K,"span",h-c),K}),R=en.fromTag("colgroup");return ic(R,k),[R]}else return[]},G4=function(u,c,h){return ot(u.all,function(w){var k=ct(w.cells,function(K){return K.column>=c&&K.column<h}),R=ot(k,function(K){var ue=sa(K.element);return vs(ue,"colspan",h-c),ue}),L=en.fromTag("tr");return ic(L,R),L})},$w=function(u,c){var h=br.fromTable(u),w=sv(h,c);return w.map(function(k){var R=k[k.length-1],L=k[0].column,K=R.column+R.colspan,ue=Bi(h,L,K),we=G4(h,L,K);return rn(rn([],ue,!0),we,!0)})},hg=function(u,c,h){var w=br.fromTable(u),k=gc(w,c);return k.bind(function(R){var L=id(w,h,!1),K=yo(L).rows,ue=K.slice(R[0].row,R[R.length-1].row+R[R.length-1].rowspan),we=Te(ue,function(ht){var Ht=ct(ht.cells,function(Tt){return!Tt.isLocked});return Ht.length>0?[Ft(Ft({},ht),{cells:Ht})]:[]}),Me=h0(we);return ya(Me.length>0,Me)}).map(function(R){return uw(R)})},Bw=tinymce.util.Tools.resolve("tinymce.util.Tools"),r1=function(u,c,h){var w=u.select("td,th",c),k,R=function(L,K){for(var ue=0;ue<K.length;ue++){var we=u.getStyle(K[ue],h);if(typeof L>"u"&&(L=we),L!==we)return""}return L};return R(k,w)},Mw=function(u,c,h){h&&u.formatter.apply("align"+h,{},c)},q4=function(u,c,h){h&&u.formatter.apply("valign"+h,{},c)},an=function(u,c){Bw.each("left center right".split(" "),function(h){u.formatter.remove("align"+h,{},c)})},Xo=function(u,c){Bw.each("top middle bottom".split(" "),function(h){u.formatter.remove("valign"+h,{},c)})},gg=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],ci=function(u){return{value:u}},il=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Pw=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,a1=function(u){return il.test(u)||Pw.test(u)},P0=function(u){return Yl(u,"#").toUpperCase()},I0=function(u){return a1(u)?j.some({value:P0(u)}):j.none()},N0=function(u){var c=u.toString(16);return(c.length===1?"0"+c:c).toUpperCase()},fd=function(u){var c=N0(u.red)+N0(u.green)+N0(u.blue);return ci(c)},o1=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Iw=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Nw=function(u,c,h,w){return{red:u,green:c,blue:h,alpha:w}},zw=function(u,c,h,w){var k=parseInt(u,10),R=parseInt(c,10),L=parseInt(h,10),K=parseFloat(w);return Nw(k,R,L,K)},K4=function(u){if(u==="transparent")return j.some(Nw(0,0,0,0));var c=o1.exec(u);if(c!==null)return j.some(zw(c[1],c[2],c[3],"1"));var h=Iw.exec(u);return h!==null?j.some(zw(h[1],h[2],h[3],h[4])):j.none()},sx=function(u){return I0(u).orThunk(function(){return K4(u).map(fd)}).getOrThunk(function(){var c=document.createElement("canvas");c.height=1,c.width=1;var h=c.getContext("2d");h.clearRect(0,0,c.width,c.height),h.fillStyle="#FFFFFF",h.fillStyle=u,h.fillRect(0,0,1,1);var w=h.getImageData(0,0,1,1).data,k=w[0],R=w[1],L=w[2],K=w[3];return fd(Nw(k,R,L,K))})},cv=function(u){var c=u,h=function(){return c},w=function(k){c=k};return{get:h,set:w}},sf=function(u){var c=cv(j.none()),h=function(){return c.get().each(u)},w=function(){h(),c.set(j.none())},k=function(){return c.get().isSome()},R=function(){return c.get()},L=function(K){h(),c.set(j.some(K))};return{clear:w,isSet:k,get:R,set:L}},pm=function(){return sf(function(u){return u.unbind()})},pg=function(){var u=sf(J),c=function(h){return u.get().each(h)};return Ft(Ft({},u),{on:c})},Fw=function(u,c,h,w){return function(k){var R=pm(),L=co(w),K=function(){var ue=qi(c),we=function(Me){return u.formatter.match(h,{value:w},Me.dom,L)};L?(k.setActive(!B(ue,we)),R.set(u.formatter.formatChanged(h,function(Me){return k.setActive(!Me)},!0))):(k.setActive(Ae(ue,we)),R.set(u.formatter.formatChanged(h,k.setActive,!1,{value:w})))};return u.initialized?K():u.on("init",K),R.clear}},z0=function(u){return Ie(u,"menu")},lf=function(u){return ot(u,function(c){var h=c.text||c.title;return z0(c)?{text:h,items:lf(c.menu)}:{text:h,value:c.value}})},zl=function(u,c,h,w,k){return ot(h,function(R){var L=R.text||R.title;return z0(R)?{type:"nestedmenuitem",text:L,getSubmenuItems:function(){return zl(u,c,R.menu,w,k)}}:{text:L,type:"togglemenuitem",onAction:function(){return k(R.value)},onSetup:Fw(u,c,w,R.value)}})},vd=function(u,c){return function(h){var w;u.execCommand("mceTableApplyCellStyle",!1,(w={},w[c]=h,w))}},dd=function(u){return Te(u,function(c){return z0(c)?[Ft(Ft({},c),{menu:dd(c.menu)})]:Pr(c.value)?[c]:[]})},bm=function(u,c,h,w,k){return function(R){return R(zl(u,c,h,w,k))}},bg=function(u,c,h){var w=ot(c,function(k){return{text:k.title,value:"#"+sx(k.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:w.length>0?w:void 0,allowCustomColors:!1},onAction:function(k){var R,L=k.value==="remove"?"":k.value;u.execCommand("mceTableApplyCellStyle",!1,(R={},R[h]=L,R))}}]},Lw=function(u){return function(){var c=u.queryCommandValue("mceTableRowType"),h=c==="header"?"body":"header";u.execCommand("mceTableRowType",!1,{type:h})}},Hw=function(u){return function(){var c=u.queryCommandValue("mceTableColType"),h=c==="th"?"td":"th";u.execCommand("mceTableColType",!1,{type:h})}},Vw=function(u){var c=lf(tf(u));return c.length>0?j.some({name:"class",type:"listbox",label:"Class",items:c}):j.none()},F0=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:gg}],Mi=function(u){return F0.concat(Vw(u).toArray())},Fs=function(u,c){var h=[{text:"Select...",value:""}],w=[{name:"borderstyle",type:"listbox",label:"Border style",items:h.concat(lf(nu(u)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],k={name:"borderwidth",type:"input",label:"Border width"},R=c==="cell"?[k].concat(w):w;return{title:"Advanced",name:"advanced",items:R}},ul=function(u){return function(c,h){var w=c.dom,k=function(K,ue){(!u||ue)&&w.setAttrib(h,K,ue)},R=function(K,ue){(!u||ue)&&w.setStyle(h,K,ue)},L=function(K,ue){(!u||ue)&&(ue===""?c.formatter.remove(K,{value:null},h,!0):c.formatter.apply(K,{value:ue},h))};return{setAttrib:k,setStyle:R,setFormat:L}}},cf={normal:ul(!1),ifTruthy:ul(!0)},yg=function(u){return function(c){return wi(c,"rgb")?u.toHex(c):c}},L0=function(u,c){var h=en.fromDom(c);return{borderwidth:du(h,"border-width").getOr(""),borderstyle:du(h,"border-style").getOr(""),bordercolor:du(h,"border-color").map(yg(u)).getOr(""),backgroundcolor:du(h,"background-color").map(yg(u)).getOr("")}},md=function(u){var c=u[0],h=u.slice(1);return it(h,function(w){it(cu(c),function(k){Ba(w,function(R,L){var K=c[k];K!==""&&k===L&&K!==R&&(c[k]="")})})}),c},ym=function(u,c,h,w){return Ue(u,function(k){return!W(h.formatter.matchNode(w,c+k))}).getOr("")},wm=he(ym,["left","center","right"],"align"),X4=he(ym,["top","middle","bottom"],"valign"),Uw=function(u,c){var h=o0(u),w=Hp(u),k=function(Me){return{borderstyle:$u(h,"border-style").getOr(""),bordercolor:yg(Me)($u(h,"border-color").getOr("")),backgroundcolor:yg(Me)($u(h,"background-color").getOr(""))}},R={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},L=function(){var Me=h["border-width"];return ru(u)&&Me?{border:Me}:$u(w,"border").fold(function(){return{}},function(ht){return{border:ht}})},K=c?k(u.dom):{},ue=function(){var Me=$u(h,"border-spacing").or($u(w,"cellspacing")).fold(function(){return{}},function(Ht){return{cellspacing:Ht}}),ht=$u(h,"border-padding").or($u(w,"cellpadding")).fold(function(){return{}},function(Ht){return{cellpadding:Ht}});return Ft(Ft({},Me),ht)},we=Ft(Ft(Ft(Ft(Ft(Ft({},R),h),w),K),L()),ue());return we},lx=function(u){return Ga(en.fromDom(u)).map(function(c){var h={selection:cs(u.cells)};return Vu(c,h)}).getOr("")},cx=function(u,c,h){var w=function(K,ue){var we=du(en.fromDom(ue),"border-width");return ru(u)&&we.isSome()?we.getOr(""):K.getAttrib(ue,"border")||r1(u.dom,ue,"border-width")||r1(u.dom,ue,"border")},k=u.dom,R=ru(u)?k.getStyle(c,"border-spacing")||k.getAttrib(c,"cellspacing"):k.getAttrib(c,"cellspacing")||k.getStyle(c,"border-spacing"),L=ru(u)?r1(k,c,"padding")||k.getAttrib(c,"cellpadding"):k.getAttrib(c,"cellpadding")||r1(k,c,"padding");return Ft({width:k.getStyle(c,"width")||k.getAttrib(c,"width"),height:k.getStyle(c,"height")||k.getAttrib(c,"height"),cellspacing:R,cellpadding:L,border:w(k,c),caption:!!k.select("caption",c)[0],class:k.getAttrib(c,"class",""),align:wm(u,c)},h?L0(k,c):{})},Ww=function(u,c,h){var w=u.dom;return Ft({height:w.getStyle(c,"height")||w.getAttrib(c,"height"),class:w.getAttrib(c,"class",""),type:lx(c),align:wm(u,c)},h?L0(w,c):{})},jw=function(u,c,h,w){var k=u.dom,R=w.getOr(c),L=function(K,ue){return k.getStyle(K,ue)||k.getAttrib(K,ue)};return Ft({width:L(R,"width"),height:L(c,"height"),scope:k.getAttrib(c,"scope"),celltype:T2(c),class:k.getAttrib(c,"class",""),halign:wm(u,c),valign:X4(u,c)},h?L0(k,c):{})},pa=function(u,c){var h=br.fromTable(u),w=br.justCells(h),k=ct(w,function(R){return B(c,function(L){return ea(R.element,L)})});return ot(k,function(R){return{element:R.element.dom,column:br.getColumnAt(h,R.column).map(function(L){return L.element.dom})}})},ff=function(u,c,h){u.setAttrib("scope",h.scope),u.setAttrib("class",h.class),u.setStyle("height",Jo(h.height)),c.setStyle("width",Jo(h.width))},fx=function(u,c){u.setFormat("tablecellbackgroundcolor",c.backgroundcolor),u.setFormat("tablecellbordercolor",c.bordercolor),u.setFormat("tablecellborderstyle",c.borderstyle),u.setFormat("tablecellborderwidth",Jo(c.borderwidth))},vx=function(u,c,h){var w=c.length===1;it(c,function(k){var R=k.element,L=w?cf.normal(u,R):cf.ifTruthy(u,R),K=k.column.map(function(ue){return w?cf.normal(u,ue):cf.ifTruthy(u,ue)}).getOr(L);ff(L,K,h),Up(u)&&fx(L,h),w&&(an(u,R),Xo(u,R)),h.halign&&Mw(u,R,h.halign),h.valign&&q4(u,R,h.valign)})},dx=function(u,c){u.execCommand("mceTableCellType",!1,{type:c.celltype,no_events:!0})},H0=function(u,c,h,w){var k=xl(w,function(R,L){return h[L]!==R});Ss(k)>0&&c.length>=1&&Ga(c[0]).each(function(R){var L=pa(R,c),K=Ss(xl(k,function(we,Me){return Me!=="scope"&&Me!=="celltype"}))>0,ue=oe(k,"celltype");(K||oe(k,"scope"))&&vx(u,L,w),ue&&dx(u,w),ef(u,R.dom,{structure:ue,style:K})})},Gw=function(u,c,h,w){var k=w.getData();w.close(),u.undoManager.transact(function(){H0(u,c,h,k),u.focus()})},i1=function(u,c){var h=Ga(c[0]).map(function(w){return ot(pa(w,c),function(k){return jw(u,k.element,Up(u),k.column)})});return md(h.getOrDie())},Gn=function(u,c){var h=qi(c);if(h.length!==0){var w=i1(u,h),k={type:"tabpanel",tabs:[{title:"General",name:"general",items:Mi(u)},Fs(u,"cell")]},R={type:"panel",items:[{type:"grid",columns:2,items:Mi(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:Up(u)?k:R,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onSubmit:he(Gw,u,h,w)})}},Y4=function(u){var c=lf(ad(u));return c.length>0?j.some({name:"class",type:"listbox",label:"Class",items:c}):j.none()},qw=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],mx=function(u){return qw.concat(Y4(u).toArray())},Kw=function(u,c){u.setAttrib("class",c.class),u.setStyle("height",Jo(c.height))},Z4=function(u,c){u.setStyle("background-color",c.backgroundcolor),u.setStyle("border-color",c.bordercolor),u.setStyle("border-style",c.borderstyle)},hx=function(u,c,h,w){var k=c.length===1;it(c,function(R){var L=k?cf.normal(u,R):cf.ifTruthy(u,R);Kw(L,h),Wp(u)&&Z4(L,h),h.align!==w.align&&(an(u,R),Mw(u,R,h.align))})},Xw=function(u,c){u.execCommand("mceTableRowType",!1,{type:c.type,no_events:!0})},Yw=function(u,c,h,w){var k=xl(w,function(K,ue){return h[ue]!==K});if(Ss(k)>0){var R=oe(k,"type"),L=R?Ss(k)>1:!0;L&&hx(u,c,w,h),R&&Xw(u,w),Ga(en.fromDom(c[0])).each(function(K){return ef(u,K.dom,{structure:R,style:L})})}},J4=function(u,c,h,w){var k=w.getData();w.close(),u.undoManager.transact(function(){Yw(u,c,h,k),u.focus()})},Ls=function(u){var c=lS(Kd(u),Is.selected);if(c.length!==0){var h=ot(c,function(L){return Ww(u,L.dom,Wp(u))}),w=md(h),k={type:"tabpanel",tabs:[{title:"General",name:"general",items:mx(u)},Fs(u,"row")]},R={type:"panel",items:[{type:"grid",columns:2,items:mx(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:Wp(u)?k:R,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onSubmit:he(J4,u,ot(c,function(L){return L.dom}),w)})}},xu=function(u,c,h){var w=h?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],k=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],R=hc(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],L=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],K=c.length>0?[{type:"listbox",name:"class",label:"Class",items:c}]:[];return w.concat(k).concat(R).concat(L).concat(K)},vf=function(u,c,h,w){if(c.tagName==="TD"||c.tagName==="TH")_(h)?u.setStyle(c,h,w):u.setStyle(c,h);else if(c.children)for(var k=0;k<c.children.length;k++)vf(u,c.children[k],h,w)},Q4=function(u,c,h){var w=u.dom,k={},R={};if(k.class=h.class,R.height=Jo(h.height),w.getAttrib(c,"width")&&!ru(u)?k.width=Gv(h.width):R.width=Jo(h.width),ru(u)?(R["border-width"]=Jo(h.border),R["border-spacing"]=Jo(h.cellspacing)):(k.border=h.border,k.cellpadding=h.cellpadding,k.cellspacing=h.cellspacing),ru(u)&&c.children)for(var L=0;L<c.children.length;L++)vf(w,c.children[L],{"border-width":Jo(h.border),padding:Jo(h.cellpadding)}),Su(u)&&vf(w,c.children[L],{"border-color":h.bordercolor});Su(u)&&(R["background-color"]=h.backgroundcolor,R["border-color"]=h.bordercolor,R["border-style"]=h.borderstyle),k.style=w.serializeStyle(Ft(Ft({},o0(u)),R)),w.setAttribs(c,Ft(Ft({},Hp(u)),k))},eE=function(u,c,h,w){var k=u.dom,R=w.getData(),L=xl(R,function(K,ue){return h[ue]!==K});w.close(),R.class===""&&delete R.class,u.undoManager.transact(function(){if(!c){var K=parseInt(R.cols,10)||1,ue=parseInt(R.rows,10)||1;c=mg(u,K,ue,0,0)}if(Ss(L)>0){Q4(u,c,R);var we=k.select("caption",c)[0];(we&&!R.caption||!we&&R.caption)&&u.execCommand("mceTableToggleCaption"),R.align===""?an(u,c):Mw(u,c,R.align)}if(u.focus(),u.addVisual(),Ss(L)>0){var Me=oe(L,"caption"),ht=Me?Ss(L)>1:!0;ef(u,c,{structure:Me,style:ht})}})},Zw=function(u,c){var h=u.dom,w,k=Uw(u,Su(u));c===!1?(w=h.getParent(u.selection.getStart(),"table",u.getBody()),w?k=cx(u,w,Su(u)):Su(u)&&(k.borderstyle="",k.bordercolor="",k.backgroundcolor="")):(k.cols="1",k.rows="1",Su(u)&&(k.borderstyle="",k.bordercolor="",k.backgroundcolor=""));var R=lf(jp(u));R.length>0&&k.class&&(k.class=k.class.replace(/\s*mce\-item\-table\s*/g,""));var L={type:"grid",columns:2,items:xu(u,R,c)},K=function(){return{type:"panel",items:[L]}},ue=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[L]},Fs(u,"table")]}},we=Su(u)?ue():K();u.windowManager.open({title:"Table Properties",size:"normal",body:we,onSubmit:he(eE,u,w,k),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:k})},Ar=function(u){return Ja(Kd(u),Ps(u))},tE=function(u){return Ti(Kd(u),Ps(u))},V0=function(u,c,h,w,k){var R=Ps(u),L=function(){return Ar(u).each(function(Dn){Ga(Dn,R).filter(De(R)).each(function(nr){var Er=en.fromText("");if(xa(nr,Er),Pu(nr),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var xr=u.dom.createRng();xr.setStart(Er.dom,0),xr.setEnd(Er.dom,0),u.selection.setRng(xr),u.nodeChanged()}})})},K=function(Dn){return Ar(u).each(function(nr){var Er=Wh(u)||uv(u)||mt(u);Er||Ga(nr,R).each(function(xr){Dn==="relative"&&!Hb(xr)?jh(xr):Dn==="fixed"&&!Oi(xr)?Gh(xr):Dn==="responsive"&&!Vb(xr)&&l0(xr),pu(xr),ef(u,xr.dom,Ka)})})},ue=function(Dn){return Ga(Dn,R)},we=function(Dn){return tE(u).bind(function(nr){return ue(nr).map(function(Er){return Dn(Er,nr)})})},Me=function(Dn,nr){we(function(Er){u.formatter.toggle("tableclass",{value:nr},Er.dom),ef(u,Er.dom,om)})},ht=function(Dn,nr){we(function(Er){var xr=qi(w),_o=Ae(xr,function(vi){return u.formatter.match("tablecellclass",{value:nr},vi.dom)}),fi=_o?u.formatter.remove:u.formatter.apply;it(xr,function(vi){return fi("tablecellclass",{value:nr},vi.dom)}),ef(u,Er.dom,om)})},Ht=function(){Ar(u).each(function(Dn){Ga(Dn,R).each(function(nr){Xn(nr,"caption").fold(function(){var Er=en.fromTag("caption");oo(Er,en.fromText("Caption")),CA(nr,Er,0),u.selection.setCursorLocation(Er.dom,0)},function(Er){Zo("caption")(Dn)&&Pf("td",nr).each(function(xr){return u.selection.setCursorLocation(xr.dom,0)}),Pu(Er)}),ef(u,nr.dom,Ka)})})},Tt=function(Dn){u.focus()},gt=function(Dn,nr){return nr===void 0&&(nr=!1),we(function(Er,xr){var _o=Xd(w,Er,xr);Dn(Er,_o,nr).each(Tt)})},Yt=function(){return we(function(Dn,nr){var Er=Xd(w,Dn,nr),xr=sr(J,en.fromDom(u.getDoc()),j.none());return hg(Dn,Er,xr)})},tn=function(){return we(function(Dn,nr){var Er=Xd(w,Dn,nr);return $w(Dn,Er)})},Rn=function(Dn,nr){return nr().each(function(Er){var xr=ot(Er,function(_o){return sa(_o)});we(function(_o,fi){var vi=Ms(en.fromDom(u.getDoc())),zr=D2(w,fi,xr,vi);Dn(_o,zr).each(Tt)})})},jr=function(Dn){return function(nr,Er){return $u(Er,"type").each(function(xr){gt(Dn(xr),Er.no_events)})}};Ba({mceTableSplitCells:function(){return gt(c.unmergeCells)},mceTableMergeCells:function(){return gt(c.mergeCells)},mceTableInsertRowBefore:function(){return gt(c.insertRowsBefore)},mceTableInsertRowAfter:function(){return gt(c.insertRowsAfter)},mceTableInsertColBefore:function(){return gt(c.insertColumnsBefore)},mceTableInsertColAfter:function(){return gt(c.insertColumnsAfter)},mceTableDeleteCol:function(){return gt(c.deleteColumn)},mceTableDeleteRow:function(){return gt(c.deleteRow)},mceTableCutCol:function(){return tn().each(function(Dn){k.setColumns(Dn),gt(c.deleteColumn)})},mceTableCutRow:function(){return Yt().each(function(Dn){k.setRows(Dn),gt(c.deleteRow)})},mceTableCopyCol:function(){return tn().each(function(Dn){return k.setColumns(Dn)})},mceTableCopyRow:function(){return Yt().each(function(Dn){return k.setRows(Dn)})},mceTablePasteColBefore:function(){return Rn(c.pasteColsBefore,k.getColumns)},mceTablePasteColAfter:function(){return Rn(c.pasteColsAfter,k.getColumns)},mceTablePasteRowBefore:function(){return Rn(c.pasteRowsBefore,k.getRows)},mceTablePasteRowAfter:function(){return Rn(c.pasteRowsAfter,k.getRows)},mceTableDelete:L,mceTableCellToggleClass:ht,mceTableToggleClass:Me,mceTableToggleCaption:Ht,mceTableSizingMode:function(Dn,nr){return K(nr)},mceTableCellType:jr(function(Dn){return Dn==="th"?c.makeCellsHeader:c.unmakeCellsHeader}),mceTableColType:jr(function(Dn){return Dn==="th"?c.makeColumnsHeader:c.unmakeColumnsHeader}),mceTableRowType:jr(function(Dn){switch(Dn){case"header":return c.makeRowsHeader;case"footer":return c.makeRowsFooter;default:return c.makeRowsBody}})},function(Dn,nr){return u.addCommand(nr,Dn)}),Ba({mceTableProps:he(Zw,u,!1),mceTableRowProps:he(Ls,u),mceTableCellProps:he(Gn,u,w)},function(Dn,nr){return u.addCommand(nr,function(){return Dn()})}),u.addCommand("mceInsertTable",function(Dn,nr){x(nr)&&cu(nr).length>0?Rw(u,nr.rows,nr.columns,nr.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Zw(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(Dn,nr){var Er=function(fi){return"tablecell"+fi.toLowerCase().replace("-","")};if(x(nr)){var xr=qi(w);if(xr.length!==0){var _o=xl(nr,function(fi,vi){return u.formatter.has(Er(vi))&&_(fi)});Ze(_o)||(Ba(_o,function(fi,vi){it(xr,function(zr){cf.normal(u,zr.dom).setFormat(Er(vi),fi)})}),ue(xr[0]).each(function(fi){return ef(u,fi.dom,om)}))}}})},U0=function(u,c,h){var w=Ps(u),k=function(R){return Ti(Kd(u)).bind(function(L){return Ga(L,w).map(function(K){var ue=Xd(h,K,L);return R(K,ue)})}).getOr("")};Ba({mceTableRowType:function(){return k(c.getTableRowType)},mceTableCellType:function(){return k(c.getTableCellType)},mceTableColType:function(){return k(c.getTableColType)}},function(R,L){return u.addQueryValueHandler(L,R)})},W0=function(){var u=pg(),c=pg();return{getRows:u.get,setRows:function(h){h.fold(u.clear,u.set),c.clear()},clearRows:u.clear,getColumns:c.get,setColumns:function(h){h.fold(c.clear,c.set),u.clear()},clearColumns:c.clear}},u1={remove_similar:!0,inherit:!1},fv=Ft({selector:"td,th"},u1),s1={tablecellbackgroundcolor:Ft({styles:{backgroundColor:"%value"}},fv),tablecellverticalalign:Ft({styles:{"vertical-align":"%value"}},fv),tablecellbordercolor:Ft({styles:{borderColor:"%value"}},fv),tablecellclass:Ft({classes:["%value"]},fv),tableclass:Ft({selector:"table",classes:["%value"]},u1),tablecellborderstyle:Ft({styles:{borderStyle:"%value"}},fv),tablecellborderwidth:Ft({styles:{borderWidth:"%value"}},fv)},nE=function(u){u.formatter.register(s1)},gx=Uc.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Jw=function(u){return u===void 0&&(u=void 0),gx.none(u)},hd=Ft(Ft({},gx),{none:Jw}),j0=function(u,c,h,w,k){k===void 0&&(k=le);var R=w===1;if(!R&&h<=0)return hd.first(u[0]);if(R&&h>=u.length-1)return hd.last(u[u.length-1]);var L=h+w,K=u[L];return k(K)?hd.middle(c,K):j0(u,c,L,w,k)},px=function(u,c){return Ga(u,c).bind(function(h){var w=Gf(h),k=pt(w,function(R){return ea(u,R)});return k.map(function(R){return{index:R,all:w}})})},rE=function(u,c,h){var w=px(u,h);return w.fold(function(){return hd.none(u)},function(k){return j0(k.all,u,k.index,1,c)})},aE=function(u,c,h){var w=px(u,h);return w.fold(function(){return hd.none()},function(k){return j0(k.all,u,k.index,-1,c)})},oE=function(u,c,h,w){return{start:u,soffset:c,finish:h,foffset:w}},Cm={create:oE},Qw=Uc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Nn=function(u,c,h,w){return u.fold(c,h,w)},bx=function(u){return u.fold(Be,Be,Be)},yx=Qw.before,iE=Qw.on,l1=Qw.after,iu={before:yx,on:iE,after:l1,cata:Nn,getStart:bx},c1=Uc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),uE=function(u){return c1.exact(u.start,u.soffset,u.finish,u.foffset)},wx=function(u){return u.match({domRange:function(c){return en.fromDom(c.startContainer)},relative:function(c,h){return iu.getStart(c)},exact:function(c,h,w,k){return c}})},eC=c1.domRange,tC=c1.relative,Cx=c1.exact,nC=function(u){var c=wx(u);return vh(c)},rC=Cm.create,vv={domRange:eC,relative:tC,exact:Cx,exactFromRange:uE,getWin:nC,range:rC},sE=function(u,c){var h=u.document.createRange();return h.selectNode(c.dom),h},lE=function(u,c){var h=u.document.createRange();return _x(h,c),h},_x=function(u,c){return u.selectNodeContents(c.dom)},cE=function(u,c){c.fold(function(h){u.setStartBefore(h.dom)},function(h,w){u.setStart(h.dom,w)},function(h){u.setStartAfter(h.dom)})},f1=function(u,c){c.fold(function(h){u.setEndBefore(h.dom)},function(h,w){u.setEnd(h.dom,w)},function(h){u.setEndAfter(h.dom)})},na=function(u,c,h){var w=u.document.createRange();return cE(w,c),f1(w,h),w},G0=function(u,c,h,w,k){var R=u.document.createRange();return R.setStart(c.dom,h),R.setEnd(w.dom,k),R},dv=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},Fl=function(u){var c=u.getClientRects(),h=c.length>0?c[0]:u.getBoundingClientRect();return h.width>0||h.height>0?j.some(h).map(dv):j.none()},gd=Uc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Uu=function(u,c,h){return c(en.fromDom(h.startContainer),h.startOffset,en.fromDom(h.endContainer),h.endOffset)},q0=function(u,c){return c.match({domRange:function(h){return{ltr:me(h),rtl:j.none}},relative:function(h,w){return{ltr:pn(function(){return na(u,h,w)}),rtl:pn(function(){return j.some(na(u,w,h))})}},exact:function(h,w,k,R){return{ltr:pn(function(){return G0(u,h,w,k,R)}),rtl:pn(function(){return j.some(G0(u,k,R,h,w))})}}})},_m=function(u,c){var h=c.ltr();if(h.collapsed){var w=c.rtl().filter(function(k){return k.collapsed===!1});return w.map(function(k){return gd.rtl(en.fromDom(k.endContainer),k.endOffset,en.fromDom(k.startContainer),k.startOffset)}).getOrThunk(function(){return Uu(u,gd.ltr,h)})}else return Uu(u,gd.ltr,h)},wg=function(u,c){var h=q0(u,c);return _m(u,h)},pd=function(u,c){var h=wg(u,c);return h.match({ltr:function(w,k,R,L){var K=u.document.createRange();return K.setStart(w.dom,k),K.setEnd(R.dom,L),K},rtl:function(w,k,R,L){var K=u.document.createRange();return K.setStart(R.dom,L),K.setEnd(w.dom,k),K}})};gd.ltr,gd.rtl;var fE=function(u,c,h,w,k){if(k===0)return 0;if(c===w)return k-1;for(var R=w,L=1;L<k;L++){var K=u(L),ue=Math.abs(c-K.left);if(h<=K.bottom){if(h<K.top||ue>R)return L-1;R=ue}}return 0},Sx=function(u,c,h){return c>=u.left&&c<=u.right&&h>=u.top&&h<=u.bottom},vE=function(u,c,h,w,k){var R=function(we){var Me=u.dom.createRange();return Me.setStart(c.dom,we),Me.collapse(!0),Me},L=function(we){var Me=R(we);return Me.getBoundingClientRect()},K=bb(c).length,ue=fE(L,h,w,k.right,K);return R(ue)},dE=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getClientRects(),L=$t(R,function(K){return Sx(K,h,w)?j.some(K):j.none()});return L.map(function(K){return vE(u,c,h,w,K)})},Sr=function(u,c,h,w){var k=u.dom.createRange(),R=oi(c);return $t(R,function(L){return k.selectNode(L.dom),Sx(k.getBoundingClientRect(),h,w)?Ll(u,L,h,w):j.none()})},Ll=function(u,c,h,w){return Zs(c)?dE(u,c,h,w):Sr(u,c,h,w)},Cg=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getBoundingClientRect(),L=Math.max(R.left,Math.min(R.right,h)),K=Math.max(R.top,Math.min(R.bottom,w));return Ll(u,c,L,K)},xx=!0,v1=!1,Mr=function(u,c){return c-u.left<u.right-c?xx:v1},kx=function(u,c,h){var w=u.dom.createRange();return w.selectNode(c.dom),w.collapse(h),w},Ax=function(u,c,h){var w=u.dom.createRange();w.selectNode(c.dom);var k=w.getBoundingClientRect(),R=Mr(k,h),L=R===xx?Ob:Db;return L(c).map(function(K){return kx(u,K,R)})},d1=function(u,c,h){var w=c.dom.getBoundingClientRect(),k=Mr(w,h);return j.some(kx(u,c,k))},Ex=function(u,c,h){var w=oi(c).length===0?d1:Ax;return w(u,c,h)},m1=function(u,c,h){var w,k;return j.from((k=(w=u.dom).caretPositionFromPoint)===null||k===void 0?void 0:k.call(w,c,h)).bind(function(R){if(R.offsetNode===null)return j.none();var L=u.dom.createRange();return L.setStart(R.offsetNode,R.offset),L.collapse(),j.some(L)})},Sm=function(u,c,h){var w,k;return j.from((k=(w=u.dom).caretRangeFromPoint)===null||k===void 0?void 0:k.call(w,c,h))},aC=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getBoundingClientRect(),L=Math.max(R.left,Math.min(R.right,h)),K=Math.max(R.top,Math.min(R.bottom,w));return Cg(u,c,L,K)},oC=function(u,c,h){return en.fromPoint(u,c,h).bind(function(w){var k=function(){return Ex(u,w,c)};return oi(w).length===0?k():aC(u,w,c,h).orThunk(k)})},Tx=function(){return document.caretPositionFromPoint?m1:document.caretRangeFromPoint?Sm:oC}(),Ox=function(u,c,h){var w=en.fromDom(u.document);return Tx(w,c,h).map(function(k){return Cm.create(en.fromDom(k.startContainer),k.startOffset,en.fromDom(k.endContainer),k.endOffset)})},bd=function(u,c){var h=ta(u);return h==="input"?iu.after(u):st(["br","img"],h)?c===0?iu.before(u):iu.after(u):iu.on(u,c)},xm=function(u,c){var h=u.fold(iu.before,bd,iu.after),w=c.fold(iu.before,bd,iu.after);return vv.relative(h,w)},iC=function(u,c,h,w){var k=bd(u,c),R=bd(h,w);return vv.relative(k,R)},Dx=function(u){return u.match({domRange:function(c){var h=en.fromDom(c.startContainer),w=en.fromDom(c.endContainer);return iC(h,c.startOffset,w,c.endOffset)},relative:xm,exact:iC})},K0=function(u,c,h,w){var k=zf(u),R=k.dom.createRange();return R.setStart(u.dom,c),R.setEnd(h.dom,w),R},mE=function(u,c,h,w){var k=K0(u,c,h,w),R=ea(u,h)&&c===w;return k.collapsed&&!R},_g=function(u){return j.from(u.getSelection())},uC=function(u,c){_g(u).each(function(h){h.removeAllRanges(),h.addRange(c)})},sC=function(u,c,h,w,k){var R=G0(u,c,h,w,k);uC(u,R)},Rx=function(u,c,h,w,k,R){c.collapse(h.dom,w),c.extend(k.dom,R)},lC=function(u,c){return wg(u,c).match({ltr:function(h,w,k,R){sC(u,h,w,k,R)},rtl:function(h,w,k,R){_g(u).each(function(L){if(L.setBaseAndExtent)L.setBaseAndExtent(h.dom,w,k.dom,R);else if(L.extend)try{Rx(u,L,h,w,k,R)}catch{sC(u,k,R,h,w)}else sC(u,k,R,h,w)})}})},X0=function(u,c,h,w,k){var R=iC(c,h,w,k);lC(u,R)},Y0=function(u,c,h){var w=xm(c,h);lC(u,w)},cC=function(u){var c=vv.getWin(u).dom,h=function(k,R,L,K){return G0(c,k,R,L,K)},w=Dx(u);return wg(c,w).match({ltr:h,rtl:h})},fC=function(u){if(u.rangeCount>0){var c=u.getRangeAt(0),h=u.getRangeAt(u.rangeCount-1);return j.some(Cm.create(en.fromDom(c.startContainer),c.startOffset,en.fromDom(h.endContainer),h.endOffset))}else return j.none()},$x=function(u){if(u.anchorNode===null||u.focusNode===null)return fC(u);var c=en.fromDom(u.anchorNode),h=en.fromDom(u.focusNode);return mE(c,u.anchorOffset,h,u.focusOffset)?j.some(Cm.create(c,u.anchorOffset,h,u.focusOffset)):fC(u)},km=function(u,c,h){h===void 0&&(h=!0);var w=h?lE:sE,k=w(u,c);uC(u,k)},Sg=function(u){return _g(u).filter(function(c){return c.rangeCount>0}).bind($x)},Bx=function(u){return Sg(u).map(function(c){return vv.exact(c.start,c.soffset,c.finish,c.foffset)})},Mx=function(u,c){var h=pd(u,c);return Fl(h)},Z0=function(u,c,h){return Ox(u,c,h)},Px=function(u){_g(u).each(function(c){return c.removeAllRanges()})},Ix=tinymce.util.Tools.resolve("tinymce.util.VK"),vC=function(u,c,h){return Fx(u,c,rE(h,zp))},Nx=function(u,c,h){return Fx(u,c,aE(h,zp))},zx=function(u,c){var h=vv.exact(c,0,c,0);return cC(h)},Fx=function(u,c,h){return h.fold(j.none,j.none,function(w,k){return Ob(k).map(function(R){return zx(u,R)})},function(w){return u.execCommand("mceTableInsertRowAfter"),vC(u,c,w)})},hE=["table","li","dl"],Lx=function(u,c,h){if(u.keyCode===Ix.TAB){var w=Kc(c),k=function(K){var ue=ta(K);return ea(K,w)||st(hE,ue)},R=c.selection.getRng(),L=en.fromDom(u.shiftKey?R.startContainer:R.endContainer);ac(L,k).each(function(K){u.preventDefault(),Ga(K,k).each(h.clear),c.selection.collapse(u.shiftKey);var ue=u.shiftKey?Nx:vC,we=ue(c,k,K);we.each(function(Me){c.selection.setRng(Me)})})}},dC=function(u,c){return{selection:u,kill:c}},xg={create:dC},gE=function(u,c,h,w){return{start:iu.on(u,c),finish:iu.on(h,w)}},Hx={create:gE},Vx=function(u,c){var h=pd(u,c);return Cm.create(en.fromDom(h.startContainer),h.startOffset,en.fromDom(h.endContainer),h.endOffset)},sl=Hx.create,Ux=function(u,c,h,w,k,R,L){return ea(h,k)&&w===R?j.none():ro(h,"td,th",c).bind(function(K){return ro(k,"td,th",c).bind(function(ue){return Wx(u,c,K,ue,L)})})},Wx=function(u,c,h,w,k){return ea(h,w)?j.none():zv(h,w,c).bind(function(R){var L=R.boxes.getOr([]);return L.length>1?(k(u,L,R.start,R.finish),j.some(xg.create(j.some(sl(h,0,h,Ml(h))),!0))):j.none()})},J0=function(u,c,h,w,k){var R=function(L){return k.clearBeforeUpdate(h),k.selectRange(h,L.boxes,L.start,L.finish),L.boxes};return _h(w,u,c,k.firstSelectedSelector,k.lastSelectedSelector).map(R)},Q0=function(u,c){return{item:u,mode:c}},mC=function(u,c,h,w){return w===void 0&&(w=Am),u.property().parent(c).map(function(k){return Q0(k,w)})},Am=function(u,c,h,w){return w===void 0&&(w=kg),h.sibling(u,c).map(function(k){return Q0(k,w)})},kg=function(u,c,h,w){w===void 0&&(w=kg);var k=u.property().children(c),R=h.first(k);return R.map(function(L){return Q0(L,w)})},jx=[{current:mC,next:Am,fallback:j.none()},{current:Am,next:kg,fallback:j.some(mC)},{current:kg,next:kg,fallback:j.some(Am)}],Gx=function(u,c,h,w,k){k===void 0&&(k=jx);var R=Ue(k,function(L){return L.current===h});return R.bind(function(L){return L.current(u,c,w,L.next).orThunk(function(){return L.fallback.bind(function(K){return Gx(u,c,K,w)})})})},ey=function(){var u=function(h,w){return h.query().prevSibling(w)},c=function(h){return h.length>0?j.some(h[h.length-1]):j.none()};return{sibling:u,first:c}},pE=function(){var u=function(h,w){return h.query().nextSibling(w)},c=function(h){return h.length>0?j.some(h[0]):j.none()};return{sibling:u,first:c}},ty={left:ey,right:pE},h1=function(u,c,h,w,k,R){var L=Gx(u,c,w,k);return L.bind(function(K){return R(K.item)?j.none():h(K.item)?j.some(K.item):h1(u,K.item,h,K.mode,k,R)})},ny=function(u,c,h,w){return h1(u,c,h,Am,ty.left(),w)},qx=function(u,c,h,w){return h1(u,c,h,Am,ty.right(),w)},ry=function(u){return function(c){return u.property().children(c).length===0}},ll=function(u,c,h){return ay(u,c,ry(u),h)},bE=function(u,c,h){return Kx(u,c,ry(u),h)},ay=ny,Kx=qx,g1=_p(),p1=function(u,c){return ll(g1,u,c)},hC=function(u,c){return bE(g1,u,c)},Xx=function(u,c,h){return ay(g1,u,c,h)},Yx=function(u,c,h){return Kx(g1,u,c,h)},Zx=function(u,c,h){return Ya(u,c,h).isSome()},oy=Uc.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),yd=function(u,c,h){var w=u.getRect(c),k=u.getRect(h);return k.right>w.left&&k.left<w.right},yE=function(u){return ro(u,"tr")},wE=function(u,c,h,w,k,R,L){return ro(w,"td,th",L).bind(function(K){return ro(c,"td,th",L).map(function(ue){return ea(K,ue)?ea(w,K)&&Ml(K)===k?R(ue):oy.none("in same cell"):Mn(yE,[K,ue]).fold(function(){return yd(u,ue,K)?oy.success():R(ue)},function(we){return R(ue)})})}).getOr(oy.none("default"))},CE=function(u,c,h,w,k){return u.fold(c,h,w,k)},wd=Ft(Ft({},oy),{verify:wE,cata:CE}),_E=function(u,c,h,w){return{parent:u,children:c,element:h,index:w}},gC=function(u){return xo(u).bind(function(c){var h=oi(c);return SE(h,u).map(function(w){return _E(c,h,u,w)})})},SE=function(u,c){return pt(u,he(ea,c))},Ag=function(u){return ta(u)==="br"},pC=function(u,c,h){return c(u,h).bind(function(w){return Zs(w)&&bb(w).trim().length===0?pC(w,c,h):j.some(w)})},Jx=function(u,c,h){return h.traverse(c).orThunk(function(){return pC(c,h.gather,u)}).map(h.relative)},iy=function(u,c){return dh(u,c).filter(Ag).orThunk(function(){return dh(u,c-1).filter(Ag)})},Qx=function(u,c,h,w){return iy(c,h).bind(function(k){return w.traverse(k).fold(function(){return pC(k,w.gather,u).map(w.relative)},function(R){return gC(R).map(function(L){return iu.on(L.parent,L.index)})})})},ek=function(u,c,h,w){var k=Ag(c)?Jx(u,c,w):Qx(u,c,h,w);return k.map(function(R){return{start:R,finish:R}})},xE=function(u){return wd.cata(u,function(c){return j.none()},function(){return j.none()},function(c){return j.some(sm(c,0))},function(c){return j.some(sm(c,Ml(c)))})},uy=function(u,c){return{left:u.left,top:u.top+c,right:u.right,bottom:u.bottom+c}},sy=function(u,c){return{left:u.left,top:u.top-c,right:u.right,bottom:u.bottom-c}},bC=function(u,c,h){return{left:u.left+c,top:u.top+h,right:u.right+c,bottom:u.bottom+h}},tk=function(u){return u.top},nk=function(u){return u.bottom},Em=function(u,c,h){return h>=0&&h<Ml(c)?u.getRangedRect(c,h,c,h+1):h>0?u.getRangedRect(c,h-1,c,h):j.none()},b1=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},ly=function(u,c){return j.some(u.getRect(c))},y1=function(u,c,h){return Sa(c)?ly(u,c).map(b1):Zs(c)?Em(u,c,h).map(b1):j.none()},rk=function(u,c){return Sa(c)?ly(u,c).map(b1):Zs(c)?u.getRangedRect(c,0,c,Ml(c)).map(b1):j.none()},mv=5,kE=100,df=Uc.generate([{none:[]},{retry:["caret"]}]),ak=function(u,c){return u.left<c.left||Math.abs(c.right-u.left)<1||u.left>c.right},cy=function(u,c,h){return mb(c,ld).fold(Xe,function(w){return rk(u,w).exists(function(k){return ak(h,k)})})},yC=function(u,c,h,w,k){var R=uy(k,mv);return Math.abs(h.bottom-w.bottom)<1||h.top>k.bottom?df.retry(R):h.top===k.bottom?df.retry(uy(k,1)):cy(u,c,k)?df.retry(bC(R,mv,0)):df.none()},AE=function(u,c,h,w,k){var R=sy(k,mv);return Math.abs(h.top-w.top)<1||h.bottom<k.top?df.retry(R):h.bottom===k.top?df.retry(sy(k,1)):cy(u,c,k)?df.retry(bC(R,mv,0)):df.none()},Cd={point:tk,adjuster:AE,move:sy,gather:p1},ok={point:nk,adjuster:yC,move:uy,gather:hC},ik=function(u,c,h){return u.elementFromPoint(c,h).filter(function(w){return ta(w)==="table"}).isSome()},EE=function(u,c,h,w,k){return wC(u,c,h,c.move(w,mv),k)},wC=function(u,c,h,w,k){return k===0?j.some(w):ik(u,w.left,c.point(w))?EE(u,c,h,w,k-1):u.situsFromPoint(w.left,c.point(w)).bind(function(R){return R.start.fold(j.none,function(L){return rk(u,L).bind(function(K){return c.adjuster(u,L,K,h,w).fold(j.none,function(ue){return wC(u,c,h,ue,k-1)})}).orThunk(function(){return j.some(w)})},j.none)})},Eg=function(u,c){return u.situsFromPoint(c.left,c.bottom+mv)},Tg=function(u,c){return u.situsFromPoint(c.left,c.top-mv)},uk=function(u,c,h){return u.point(c)>h.getInnerHeight()?j.some(u.point(c)-h.getInnerHeight()):u.point(c)<0?j.some(-u.point(c)):j.none()},CC=function(u,c,h){var w=u.move(h,mv),k=wC(c,u,h,w,kE).getOr(w);return uk(u,k,c).fold(function(){return c.situsFromPoint(k.left,u.point(k))},function(R){return c.scrollBy(0,R),c.situsFromPoint(k.left,u.point(k)-R)})},Hl={tryUp:he(CC,Cd),tryDown:he(CC,ok),ieTryUp:Tg,ieTryDown:Eg,getJumpSize:me(mv)},_d=20,Vn=function(u,c,h){return u.getSelection().bind(function(w){return ek(c,w.finish,w.foffset,h).fold(function(){return j.some(sm(w.finish,w.foffset))},function(k){var R=u.fromSitus(k),L=wd.verify(u,w.finish,w.foffset,R.finish,R.foffset,h.failure,c);return xE(L)})})},_C=function(u,c,h,w,k,R){return R===0?j.none():TE(u,c,h,w,k).bind(function(L){var K=u.fromSitus(L),ue=wd.verify(u,h,w,K.finish,K.foffset,k.failure,c);return wd.cata(ue,function(){return j.none()},function(){return j.some(L)},function(we){return ea(h,we)&&w===0?mf(u,h,w,sy,k):_C(u,c,we,0,k,R-1)},function(we){return ea(h,we)&&w===Ml(we)?mf(u,h,w,uy,k):_C(u,c,we,Ml(we),k,R-1)})})},mf=function(u,c,h,w,k){return y1(u,c,h).bind(function(R){return sk(u,k,w(R,Hl.getJumpSize()))})},sk=function(u,c,h){var w=Jl().browser;return w.isChrome()||w.isSafari()||w.isFirefox()||w.isEdge()?c.otherRetry(u,h):w.isIE()?c.ieRetry(u,h):j.none()},TE=function(u,c,h,w,k){return y1(u,h,w).bind(function(R){return sk(u,k,R)})},lk=function(u,c,h){return Vn(u,c,h).bind(function(w){return _C(u,c,w.element,w.offset,h,_d).map(u.fromSitus)})},w1=function(u,c){return Zx(u,function(h){return xo(h).exists(function(w){return ea(w,c)})})},Cc=function(u,c,h,w,k){return ro(w,"td,th",c).bind(function(R){return ro(R,"table",c).bind(function(L){return w1(k,L)?lk(u,c,h).bind(function(K){return ro(K.finish,"td,th",c).map(function(ue){return{start:R,finish:ue,range:K}})}):j.none()})})},fy=function(u,c,h,w,k,R){return Jl().browser.isIE()?j.none():R(w,c).orThunk(function(){return Cc(u,c,h,w,k).map(function(L){var K=L.range;return xg.create(j.some(sl(K.start,K.soffset,K.finish,K.foffset)),!0)})})},ck=function(u,c){return ro(u,"tr",c).bind(function(h){return ro(h,"table",c).bind(function(w){var k=ns(w,"tr");return ea(h,k[0])?Xx(w,function(R){return Db(R).isSome()},c).map(function(R){var L=Ml(R);return xg.create(j.some(sl(R,L,R,L)),!0)}):j.none()})})},ar=function(u,c){return ro(u,"tr",c).bind(function(h){return ro(h,"table",c).bind(function(w){var k=ns(w,"tr");return ea(h,k[k.length-1])?Yx(w,function(R){return Ob(R).isSome()},c).map(function(R){return xg.create(j.some(sl(R,0,R,0)),!0)}):j.none()})})},SC=function(u,c,h,w,k,R,L){return Cc(u,h,w,k,R).bind(function(K){return Wx(c,h,K.start,K.finish,L)})},lr=function(u,c){return ro(u,"td,th",c)},xC=function(u,c,h,w){var k=pg(),R=k.clear,L=function(Me){k.on(function(ht){w.clearBeforeUpdate(c),lr(Me.target,h).each(function(Ht){zv(ht,Ht,h).each(function(Tt){var gt=Tt.boxes.getOr([]);if(gt.length===1){var Yt=gt[0],tn=V2(Yt)==="false",Rn=nc(rm(Me.target),Yt,ea);tn&&Rn&&(w.selectRange(c,gt,Yt,Yt),u.selectContents(Yt))}else gt.length>1&&(w.selectRange(c,gt,Tt.start,Tt.finish),u.selectContents(Ht))})})})},K=function(Me){w.clear(c),lr(Me.target,h).each(k.set)},ue=function(Me){L(Me)},we=function(Me){L(Me),R()};return{clearstate:R,mousedown:K,mouseover:ue,mouseup:we}},fk={traverse:Ge,gather:hC,relative:iu.before,otherRetry:Hl.tryDown,ieRetry:Hl.ieTryDown,failure:wd.failedDown},vk={traverse:Iv,gather:p1,relative:iu.before,otherRetry:Hl.tryUp,ieRetry:Hl.ieTryUp,failure:wd.failedUp},Og=function(u){return function(c){return c===u}},Dg=Og(38),Rg=Og(40),$g=function(u){return u>=37&&u<=40},OE={isBackward:Og(37),isForward:Og(39)},er={isBackward:Og(39),isForward:Og(37)},dk=function(u){var c=u!==void 0?u.dom:document,h=c.body.scrollLeft||c.documentElement.scrollLeft,w=c.body.scrollTop||c.documentElement.scrollTop;return Ca(h,w)},kC=function(u,c,h){var w=h!==void 0?h.dom:document,k=w.defaultView;k&&k.scrollBy(u,c)},C1=function(u){var c=function(tn,Rn){return en.fromPoint(en.fromDom(u.document),tn,Rn)},h=function(tn){return tn.dom.getBoundingClientRect()},w=function(tn,Rn,jr,Dn){var nr=vv.exact(tn,Rn,jr,Dn);return Mx(u,nr)},k=function(){return Bx(u).map(function(tn){return Vx(u,tn)})},R=function(tn){var Rn=vv.relative(tn.start,tn.finish);return Vx(u,Rn)},L=function(tn,Rn){return Z0(u,tn,Rn).map(function(jr){return Hx.create(jr.start,jr.soffset,jr.finish,jr.foffset)})},K=function(){Px(u)},ue=function(tn){tn===void 0&&(tn=!1),Bx(u).each(function(Rn){return Rn.fold(function(jr){return jr.collapse(tn)},function(jr,Dn){var nr=tn?jr:Dn;Y0(u,nr,nr)},function(jr,Dn,nr,Er){var xr=tn?jr:nr,_o=tn?Dn:Er;X0(u,xr,_o,xr,_o)})})},we=function(tn){km(u,tn,!1)},Me=function(tn){km(u,tn)},ht=function(tn){X0(u,tn.start,tn.soffset,tn.finish,tn.foffset)},Ht=function(tn,Rn){Y0(u,tn,Rn)},Tt=function(){return u.innerHeight},gt=function(){var tn=dk(en.fromDom(u.document));return tn.top},Yt=function(tn,Rn){kC(tn,Rn,en.fromDom(u.document))};return{elementFromPoint:c,getRect:h,getRangedRect:w,getSelection:k,fromSitus:R,situsFromPoint:L,clearSelection:K,collapseSelection:ue,setSelection:ht,setRelativeSelection:Ht,selectNode:we,selectContents:Me,getInnerHeight:Tt,getScrollY:gt,scrollBy:Yt}},Sd=function(u,c){return{rows:u,cols:c}},mk=function(u,c,h,w){var k=C1(u),R=xC(k,c,h,w);return{clearstate:R.clearstate,mousedown:R.mousedown,mouseover:R.mouseover,mouseup:R.mouseup}},vy=function(u,c,h,w){var k=C1(u),R=function(){return w.clear(c),j.none()},L=function(ue,we,Me,ht,Ht,Tt){var gt=ue.raw,Yt=gt.which,tn=gt.shiftKey===!0,Rn=Ch(c,w.selectedSelector).fold(function(){return $g(Yt)&&!tn&&w.clearBeforeUpdate(c),Rg(Yt)&&tn?he(SC,k,c,h,fk,ht,we,w.selectRange):Dg(Yt)&&tn?he(SC,k,c,h,vk,ht,we,w.selectRange):Rg(Yt)?he(fy,k,h,fk,ht,we,ar):Dg(Yt)?he(fy,k,h,vk,ht,we,ck):j.none},function(jr){var Dn=function(nr){return function(){var Er=$t(nr,function(xr){return J0(xr.rows,xr.cols,c,jr,w)});return Er.fold(function(){return Tl(c,w.firstSelectedSelector,w.lastSelectedSelector).map(function(xr){var _o=Rg(Yt)||Tt.isForward(Yt)?iu.after:iu.before;return k.setRelativeSelection(iu.on(xr.first,0),_o(xr.table)),w.clear(c),xg.create(j.none(),!0)})},function(xr){return j.some(xg.create(j.none(),!0))})}};return Rg(Yt)&&tn?Dn([Sd(1,0)]):Dg(Yt)&&tn?Dn([Sd(-1,0)]):Tt.isBackward(Yt)&&tn?Dn([Sd(0,-1),Sd(-1,0)]):Tt.isForward(Yt)&&tn?Dn([Sd(0,1),Sd(1,0)]):$g(Yt)&&!tn?R:j.none});return Rn()},K=function(ue,we,Me,ht,Ht){return Ch(c,w.selectedSelector).fold(function(){var Tt=ue.raw,gt=Tt.which,Yt=Tt.shiftKey===!0;return Yt&&$g(gt)?Ux(c,h,we,Me,ht,Ht,w.selectRange):j.none()},j.none)};return{keydown:L,keyup:K}},AC=function(u,c,h,w){var k=C1(u);return function(R,L){w.clearBeforeUpdate(c),zv(R,L,h).each(function(K){var ue=K.boxes.getOr([]);w.selectRange(c,ue,K.start,K.finish),k.selectContents(L),k.collapseSelection()})}},DE=function(u,c){it(c,function(h){zu(u,h)})},hk=function(u){return function(c){Go(c,u)}},RE=function(u){return function(c){DE(c,u)}},dy=function(u){var c=hk(u.selected),h=RE([u.selected,u.lastSelected,u.firstSelected]),w=function(R){var L=ns(R,u.selectedSelector);it(L,h)},k=function(R,L,K,ue){w(R),it(L,c),Go(K,u.firstSelected),Go(ue,u.lastSelected)};return{clearBeforeUpdate:w,clear:w,selectRange:k,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},$E=function(u,c,h){var w=function(ue){Pa(ue,u.selected),Pa(ue,u.firstSelected),Pa(ue,u.lastSelected)},k=function(ue){Lo(ue,u.selected,"1")},R=function(ue){L(ue),h()},L=function(ue){var we=ns(ue,u.selectedSelector+","+u.firstSelectedSelector+","+u.lastSelectedSelector);it(we,w)},K=function(ue,we,Me,ht){R(ue),it(we,k),Lo(Me,u.firstSelected,"1"),Lo(ht,u.lastSelected,"1"),c(we,Me,ht)};return{clearBeforeUpdate:L,clear:R,selectRange:K,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},my={byClass:dy,byAttr:$E},gk=function(u,c){var h=u.slice(0,c[c.length-1].row+1),w=h0(h);return Te(w,function(k){var R=k.cells.slice(0,c[c.length-1].column+1);return ot(R,function(L){return L.element})})},pk=function(u,c){var h=u.slice(c[0].row+c[0].rowspan-1,u.length),w=h0(h);return Te(w,function(k){var R=k.cells.slice(c[0].column+c[0].colspan-1,k.cells.length);return ot(R,function(L){return L.element})})},BE=function(u,c,h){var w=br.fromTable(u),k=gc(w,c);return k.map(function(R){var L=id(w,h,!1),K=gk(L,R),ue=pk(L,R);return{upOrLeftCells:K,downOrRightCells:ue}})},bk=tinymce.util.Tools.resolve("tinymce.Env"),EC=function(u){return ka(en.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function Nr(u,c,h){var w=function(L,K,ue){h.targets().each(function(we){var Me=Ga(K);Me.each(function(ht){var Ht=s0(u),Tt=sr(J,en.fromDom(u.getDoc()),Ht),gt=BE(ht,we,Tt);Uh(u,L,K,ue,gt)})})},k=function(){return _S(u)},R=my.byAttr(Is,w,k);return u.on("init",function(L){var K=u.getWin(),ue=Kc(u),we=Ps(u),Me=function(){var zr=u.selection,or=en.fromDom(zr.getStart()),$r=en.fromDom(zr.getEnd()),fa=Mn(Ga,[or,$r]);fa.fold(function(){return R.clear(ue)},J)},ht=mk(K,ue,we,R),Ht=vy(K,ue,we,R),Tt=AC(K,ue,we,R),gt=function(zr){return zr.raw.shiftKey===!0};u.on("TableSelectorChange",function(zr){return Tt(zr.start,zr.finish)});var Yt=function(zr,or){gt(zr)&&(or.kill&&zr.kill(),or.selection.each(function($r){var fa=vv.relative($r.start,$r.finish),uo=pd(K,fa);u.selection.setRng(uo)}))},tn=function(zr){var or=ov(zr);if(or.raw.shiftKey&&$g(or.raw.which)){var $r=u.selection.getRng(),fa=en.fromDom($r.startContainer),uo=en.fromDom($r.endContainer);Ht.keyup(or,fa,$r.startOffset,uo,$r.endOffset).each(function(hv){Yt(or,hv)})}},Rn=function(zr){var or=ov(zr);c().each(function(ca){return ca.hideBars()});var $r=u.selection.getRng(),fa=en.fromDom($r.startContainer),uo=en.fromDom($r.endContainer),hv=ss(OE,er)(en.fromDom(u.selection.getStart()));Ht.keydown(or,fa,$r.startOffset,uo,$r.endOffset,hv).each(function(ca){Yt(or,ca)}),c().each(function(ca){return ca.showBars()})},jr=function(zr){return zr.button===0},Dn=function(zr){return zr.buttons===void 0||bk.browser.isEdge()&&zr.buttons===0?!0:(zr.buttons&1)!==0},nr=function(zr){ht.clearstate()},Er=function(zr){jr(zr)&&EC(zr)&&ht.mousedown(ov(zr))},xr=function(zr){Dn(zr)&&EC(zr)&&ht.mouseover(ov(zr))},_o=function(zr){jr(zr)&&EC(zr)&&ht.mouseup(ov(zr))},fi=function(){var zr=cv(en.fromDom(ue)),or=cv(0),$r=function(fa){var uo=en.fromDom(fa.target);if(ta(uo)==="td"||ta(uo)==="th"){var hv=zr.get(),ca=or.get();ea(hv,uo)&&fa.timeStamp-ca<300&&(fa.preventDefault(),Tt(uo,uo))}zr.set(uo),or.set(fa.timeStamp)};return{touchEnd:$r}},vi=fi();u.on("dragstart",nr),u.on("mousedown",Er),u.on("mouseover",xr),u.on("mouseup",_o),u.on("touchend",vi.touchEnd),u.on("keyup",tn),u.on("keydown",Rn),u.on("NodeChange",Me)}),{clear:R.clear}}var yk=function(u,c){return Xn(u,c).isSome()},hy=function(u,c){var h=cv(j.none()),w=cv([]),k=j.none(),R=Zo("caption"),L=function(or){return k.forall(function($r){return!$r[or]})},K=function(){return Ja(Kd(u),Ps(u))},ue=function(){return Ja(wn(u),Ps(u))},we=function(){return K().bind(function(or){return Hf(as(Ga(or),ue().bind(Ga),function($r,fa){return ea($r,fa)?R(or)?j.some(O2(or)):j.some(Xd(c,$r,or)):j.none()}))})},Me=function(or){var $r=Ga(or.element);return $r.map(function(fa){var uo=br.fromTable(fa),hv=gc(uo,or).getOr([]),ca=te(hv,function(ds,di){return di.isLocked&&(ds.onAny=!0,di.column===0?ds.onFirst=!0:di.column+di.colspan>=uo.grid.columns&&(ds.onLast=!0)),ds},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:lw(uo,or).isSome(),unmergeable:b0(uo,or).isSome(),locked:ca}})},ht=function(){h.set(pn(we)()),k=h.get().bind(Me),it(w.get(),function(or){return or()})},Ht=function(or){return or(),w.set(w.get().concat([or])),function(){w.set(ct(w.get(),function($r){return $r!==or}))}},Tt=function(or,$r){return Ht(function(){return h.get().fold(function(){or.setDisabled(!0)},function(fa){or.setDisabled($r(fa))})})},gt=function(or,$r,fa){return Ht(function(){return h.get().fold(function(){or.setDisabled(!0),or.setActive(!1)},function(uo){or.setDisabled($r(uo)),or.setActive(fa(uo))})})},Yt=function(or){return k.exists(function($r){return $r.locked[or]})},tn=function(or){return Tt(or,function($r){return!1})},Rn=function(or){return Tt(or,function($r){return R($r.element)})},jr=function(or){return function($r){return Tt($r,function(fa){return R(fa.element)||Yt(or)})}},Dn=function(or){return function($r){return Tt($r,function(fa){return R(fa.element)||or().isNone()})}},nr=function(or,$r){return function(fa){return Tt(fa,function(uo){return R(uo.element)||or().isNone()||Yt($r)})}},Er=function(or){return Tt(or,function($r){return L("mergeable")})},xr=function(or){return Tt(or,function($r){return L("unmergeable")})},_o=function(or){return gt(or,Xe,function($r){var fa=Ga($r.element,Ps(u));return fa.exists(function(uo){return yk(uo,"caption")})})},fi=function(or,$r){return function(fa){return gt(fa,function(uo){return R(uo.element)},function(){return u.queryCommandValue(or)===$r})}},vi=fi("mceTableRowType","header"),zr=fi("mceTableColType","th");return u.on("NodeChange ExecCommand TableSelectorChange",ht),{onSetupTable:tn,onSetupCellOrRow:Rn,onSetupColumn:jr,onSetupPasteable:Dn,onSetupPasteableColumn:nr,onSetupMergeable:Er,onSetupUnmergeable:xr,resetTargets:ht,onSetupTableWithCaption:_o,onSetupTableRowHeaders:vi,onSetupTableColumnHeaders:zr,targets:h.get}},TC=function(u,c,h,w){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(K){return K("inserttable | cell row column | advtablesort | tableprops deletetable")}});var k=function(K){return function(){return u.execCommand(K)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:k("mceTableProps"),icon:"table",onSetup:h.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:k("mceTableDelete"),icon:"table-delete-table",onSetup:h.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:k("mceTableCellProps"),icon:"table-cell-properties",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:k("mceTableMergeCells"),icon:"table-merge-cells",onSetup:h.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:k("mceTableSplitCells"),icon:"table-split-cells",onSetup:h.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:k("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:k("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:k("mceTableDeleteRow"),icon:"table-delete-row",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:k("mceTableRowProps"),icon:"table-row-properties",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:k("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:h.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:k("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:h.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:k("mceTableDeleteCol"),icon:"table-delete-column",onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:k("mceTableCutRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:k("mceTableCopyRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:k("mceTablePasteRowBefore"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:k("mceTablePasteRowAfter"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:k("mceTableCutCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:k("mceTableCopyCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:k("mceTablePasteColBefore"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:k("mceTablePasteColAfter"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:k("mceInsertTable"),icon:"table"});var R=dd(jp(u));R.length!==0&&u.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:bm(u,c,R,"tableclass",function(K){return u.execCommand("mceTableToggleClass",!1,K)}),onSetup:h.onSetupTable});var L=dd(tf(u));L.length!==0&&u.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:bm(u,c,L,"tablecellclass",function(K){return u.execCommand("mceTableCellToggleClass",!1,K)}),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:bm(u,c,gg,"tablecellverticalalign",vd(u,"vertical-align")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:bm(u,c,xS(u),"tablecellborderwidth",vd(u,"border-width")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:bm(u,c,nu(u),"tablecellborderstyle",vd(u,"border-style")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:k("mceTableToggleCaption"),icon:"table-caption",onSetup:h.onSetupTableWithCaption}),u.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(K){return K(bg(u,J2(u),"background-color"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(K){return K(bg(u,Q2(u),"border-color"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:Lw(u),onSetup:h.onSetupTableRowHeaders}),u.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:Hw(u),onSetup:h.onSetupTableColumnHeaders})},wk=function(u){var c=function(w){return u.dom.is(w,"table")&&u.getBody().contains(w)},h=r4(u);h.length>0&&u.ui.registry.addContextToolbar("table",{predicate:c,items:h,scope:"node",position:"node"})},OC=function(u,c,h,w){var k=function(Tt){return function(){return u.execCommand(Tt)}},R=function(Tt){u.execCommand("mceInsertTable",!1,{rows:Tt.numRows,columns:Tt.numColumns})},L={text:"Table properties",onSetup:h.onSetupTable,onAction:k("mceTableProps")},K={text:"Delete table",icon:"table-delete-table",onSetup:h.onSetupTable,onAction:k("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:k("mceTableInsertRowBefore"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:k("mceTableInsertRowAfter"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:k("mceTableDeleteRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:k("mceTableRowProps"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:k("mceTableCutRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:k("mceTableCopyRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:k("mceTablePasteRowBefore"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:k("mceTablePasteRowAfter"),onSetup:h.onSetupPasteable(w.getRows)});var ue={type:"nestedmenuitem",text:"Row",getSubmenuItems:me("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:k("mceTableInsertColBefore"),onSetup:h.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:k("mceTableInsertColAfter"),onSetup:h.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:k("mceTableDeleteCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:k("mceTableCutCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:k("mceTableCopyCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:k("mceTablePasteColBefore"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:k("mceTablePasteColAfter"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onLast")});var we={type:"nestedmenuitem",text:"Column",getSubmenuItems:me("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:k("mceTableCellProps"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:k("mceTableMergeCells"),onSetup:h.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:k("mceTableSplitCells"),onSetup:h.onSetupUnmergeable});var Me={type:"nestedmenuitem",text:"Cell",getSubmenuItems:me("tablecellprops tablemergecells tablesplitcells")};kS(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:k("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:R}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:k("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",L),u.ui.registry.addMenuItem("deletetable",K),u.ui.registry.addNestedMenuItem("row",ue),u.ui.registry.addNestedMenuItem("column",we),u.ui.registry.addNestedMenuItem("cell",Me),u.ui.registry.addContextMenu("table",{update:function(){return h.resetTargets(),h.targets().fold(me(""),function(Tt){return ta(Tt.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var ht=dd(jp(u));ht.length!==0&&u.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return zl(u,c,ht,"tableclass",function(Tt){return u.execCommand("mceTableToggleClass",!1,Tt)})},onSetup:h.onSetupTable});var Ht=dd(tf(u));Ht.length!==0&&u.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return zl(u,c,Ht,"tablecellclass",function(Tt){return u.execCommand("mceTableCellToggleClass",!1,Tt)})},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return zl(u,c,gg,"tablecellverticalalign",vd(u,"vertical-align"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return zl(u,c,xS(u),"tablecellborderwidth",vd(u,"border-width"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return zl(u,c,nu(u),"tablecellborderstyle",vd(u,"border-style"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:k("mceTableToggleCaption"),onSetup:h.onSetupTableWithCaption}),u.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return bg(u,J2(u),"background-color")},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return bg(u,Q2(u),"border-color")},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:Lw(u),onSetup:h.onSetupTableRowHeaders}),u.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:Hw(u),onSetup:h.onSetupTableColumnHeaders})},_1=function(u){var c=Wi(function(){return Kc(u)},function(){return Ti(Kd(u),Ps(u))},Is.selectedSelector),h=hy(u,c),w=c0(u),k=Nr(u,w.lazyResize,h),R=V4(u,k,w.lazyWire),L=W0();return V0(u,R,k,c,L),U0(u,R,c),Pl(u,c,R),OC(u,c,h,L),TC(u,c,h,L),wk(u),u.on("PreInit",function(){u.serializer.addTempAttr(Is.firstSelected),u.serializer.addTempAttr(Is.lastSelected),nE(u)}),mc(u)&&u.on("keydown",function(K){Lx(K,u,k)}),u.on("remove",function(){w.destroy()}),uf(u,L,w,h)};function gy(){Z_.add("table",_1)}gy()})();const th=`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment{background-color:#fff0b7}.tox-comments-visible .tox-comment--active{background-color:#ffe168}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden):before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A);cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked:before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A)}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden):before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body *[data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body *[contentEditable=false]{cursor:default}.mce-content-body *[contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A),default}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-object{background:transparent url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A) no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--21by9,.tiny-pageembed--16by9,.tiny-pageembed--4by3,.tiny-pageembed--1by1{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--21by9 iframe,.tiny-pageembed--16by9 iframe,.tiny-pageembed--4by3 iframe,.tiny-pageembed--1by1 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks):before{color:#222f3eb3;content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks):before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks):before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,.mce-content-body .mce-clonedresizable.mce-resizetable-columns td{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor:before{background-color:inherit;border-radius:50%;content:"";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover:after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body img[data-mce-selected],.mce-content-body video[data-mce-selected],.mce-content-body audio[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body table[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,.mce-content-body.mce-content-readonly *[contentEditable=true]:hover{outline:none}.mce-content-body *[data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:none}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:none}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{background-color:#b4d7ffb3;border:1px solid rgba(180,215,255,.7);bottom:-1px;content:"";left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{border-color:#0054b4b3}}.mce-content-body img::-moz-selection{background:none}.mce-content-body img::selection{background:none}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}table[style*="border-width: 0px"],.mce-item-table:not([border]),.mce-item-table[border="0"],table[style*="border-width: 0px"] td,.mce-item-table:not([border]) td,.mce-item-table[border="0"] td,table[style*="border-width: 0px"] th,.mce-item-table:not([border]) th,.mce-item-table[border="0"] th,table[style*="border-width: 0px"] caption,.mce-item-table:not([border]) caption,.mce-item-table[border="0"] caption{border:1px dashed #bbb}.mce-visualblocks p,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks section,.mce-visualblocks article,.mce-visualblocks blockquote,.mce-visualblocks address,.mce-visualblocks pre,.mce-visualblocks figure,.mce-visualblocks figcaption,.mce-visualblocks hgroup,.mce-visualblocks aside,.mce-visualblocks ul,.mce-visualblocks ol,.mce-visualblocks dl{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) ul,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) dl{margin-left:3px}.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] ul,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] dl{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy:after{content:"-"}body{font-family:sans-serif}table{border-collapse:collapse}
`,nh=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) th,table:not([cellpadding]) td{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) th,table[border]:not([border="0"]):not([style*=border-width]) td{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) th,table[border]:not([border="0"]):not([style*=border-style]) td{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) th,table[border]:not([border="0"]):not([style*=border-color]) td{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}
`;const boe={class:"row"},yoe=z("hr",{class:"divider"},null,-1),woe={class:"row content-row"},Coe={class:"row content-row"},_oe=z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Soe=z("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),xoe={class:"content-row"},koe=z("h3",null,"Zertifikat Bild",-1),Aoe=z("hr",{class:"divider"},null,-1),Eoe={key:0,class:"image"},Toe=["src"],Ooe={class:"row"},Doe={class:"col"},Roe={class:"content-row"},$oe={class:"errorMessages"},i9={__name:"ZertifikateForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newCertificate"],setup(f,{emit:m}){const y=f,b=wt({"name:de":"","name:en":"","description:de":"","description:en":"",image:null}),_=wt([]),x=wt(y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen"),T=wt(null),D=bl(),M=()=>(_.value=[],b.value["name:de"]===""&&_.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&_.value.push("Bitte geben Sie einen Namen (EN) ein"),_.value.length===0),W=()=>{M()&&(x.value=y.editMode?"Zertifikat aktualisieren...":"Zertifikat erstellen...",b.value["description:de"]=xn.get("editor_de").getContent(),b.value["description:en"]=xn.get("editor_en").getContent(),Tn.post("/certificates",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(V=>{x.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",y.insidePopup?m("newCertificate",V.data.certificate):D.push("/zertifikate")}).catch(V=>{console.log(V),x.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",V.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Zertifikat")}))},N=()=>{M()&&(x.value=y.editMode?"Zertifikat aktualisieren...":"Zertifikat erstellen...",b.value["description:de"]=xn.get("editor_de").getContent(),b.value["description:en"]=xn.get("editor_en").getContent(),console.log(b.value),b.value.image&&b.value.image!==null&&(b.value.image=b.value.image),Tn.patch(`/certificates/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(V=>{x.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",D.push("/zertifikate")}).catch(V=>{console.log(V),x.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",V.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Zertifikat")}))},H=V=>{const J=V.target.files;if(console.log(J),J)for(let q=0;q<J.length;q++){const $e=J[q],me=new FormData;me.append("file",$e),Tn.post("/media",me,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Be=>{b.value.image=Be.data.media.id,T.value=Be.data.media.url}).catch(Be=>{console.log(Be),window.alert("Fehler beim Upload des Bildes")})}};Ia(async()=>{y.editMode&&I(),xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:V=>{V.on("init",()=>{V.setContent("<p>Zertifikats Beschreibung</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const I=()=>{Tn.get(`/certificates/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(V=>{b.value=V.data.certificate,b.value["name:de"]=V.data.certificate.translations[0].name,b.value["name:en"]=V.data.certificate.translations[1].name,V.data.certificate.image&&V.data.certificate.image!==null&&(b.value.image=V.data.certificate.image),V.data.certificate.image!==null&&(T.value=V.data.certificate.image.url),xn.get("editor_de").setContent(V.data.certificate.translations[0].description),xn.get("editor_en").setContent(V.data.certificate.translations[1].description)}).catch(V=>{V.response.status===401?sessionStorage.removeItem("token"):console.log(V)})};return Jm(()=>{y.insidePopup||xn.remove()}),(V,J)=>{const q=Fa("router-Link");return Ve(),qe(_r,null,[z("div",boe,[z("h1",null,Kn(y.editMode?"Zertifikat Aktualisieren":"Zertifikat Erstellen"),1),y.insidePopup?(Ve(),qe("button",{key:1,class:"button-primary",onClick:J[0]||(J[0]=$e=>m("closePopup"))}," Abbrechen ")):(Ve(),Ym(q,{key:0,to:"/zertifikate",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1}))]),yoe,z("div",woe,[at(tr,{lang:"de",title:"Zertifikat (DE)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":J[1]||(J[1]=$e=>b.value["name:de"]=$e),placeholder:"Name"},null,512),[[Hn,b.value["name:de"]]])]),_:1}),at(tr,{lang:"en",title:"Zertifikat (EN)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":J[2]||(J[2]=$e=>b.value["name:en"]=$e),placeholder:"Name"},null,512),[[Hn,b.value["name:en"]]])]),_:1})]),z("div",Coe,[at(tr,{lang:"de",title:"Beschreibung"},{content:Rt(()=>[_oe]),_:1}),at(tr,{lang:"en",title:"Description"},{content:Rt(()=>[Soe]),_:1})]),z("div",xoe,[koe,Aoe,T.value?(Ve(),qe("div",Eoe,[z("img",{src:T.value},null,8,Toe)])):ur("",!0),z("div",Ooe,[z("div",Doe,[z("input",{type:"file",onChange:H},null,32)])])]),z("div",Roe,[z("button",{class:"button-primary",onClick:J[3]||(J[3]=$e=>y.editMode?N():W())},Kn(x.value),1),z("div",$oe,[(Ve(!0),qe(_r,null,$a(_.value,$e=>(Ve(),qe("p",{key:$e},Kn($e),1))),128))])])],64)}}};const Boe={key:0,class:"Popup"},Moe={class:"addPopup"},Poe={class:"select-container"},Ioe={class:"chip-container"},Noe={class:"chip-name"},zoe=["onClick"],Foe=z("img",{src:r2,alt:"close",width:"15",height:"15"},null,-1),Loe=[Foe],Hoe={key:0,class:"selectable-options"},Voe=["onClick"],Uoe={class:"option-content"},Woe={key:0,class:"option-avatar"},joe=["src"],Goe={class:"option-name"},gG={__name:"CertificateSelect",props:{selectedCertificate:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=wt([]),_=wt(!1),x=wt(!1),T=wt([]),D=ri(()=>T.value.filter(V=>V.name.toLowerCase().includes(M.value.toLowerCase()))),M=wt(""),W=V=>{b.value.push(V),T.value.push(V),x.value=!1},N=async()=>(await Tn.get("/certificates")).data.certificates,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function I(){return b.value.map(V=>V.id)}return m({getData:I}),Ia(async()=>{T.value=await N()}),Dd(()=>y.selectedCertificate,V=>{V===null?b.value=[]:b.value=V}),(V,J)=>(Ve(),qe("div",null,[x.value?(Ve(),qe("div",Boe,[z("div",{class:"popupBackground",onClick:J[0]||(J[0]=q=>x.value=!1)}),z("div",Moe,[at(i9,{insidePopup:!0,onClosePopup:J[1]||(J[1]=q=>x.value=!1),onNewCertificate:W})])])):ur("",!0),z("div",Poe,[z("div",{class:"combobox",onClick:J[3]||(J[3]=q=>_.value=!0)},[z("div",Ioe,[(Ve(!0),qe(_r,null,$a(b.value,q=>(Ve(),qe("div",{class:"chip",key:q.id},[z("div",Noe,Kn(q.name),1),z("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},Loe,8,zoe)]))),128))]),_.value||b.value.length===0?In((Ve(),qe("input",{key:0,type:"search","onUpdate:modelValue":J[2]||(J[2]=q=>M.value=q),placeholder:"Name des Zertifikates"},null,512)),[[Hn,M.value]]):ur("",!0)]),_.value?(Ve(),qe("div",Hoe,[(Ve(!0),qe(_r,null,$a(D.value,q=>(Ve(),qe("div",{class:"option",key:q.id,onClick:$e=>H(q)},[z("div",Uoe,[q.image?(Ve(),qe("div",Woe,[z("img",{src:q.image.url,alt:"avatar"},null,8,joe)])):ur("",!0),z("div",Goe,Kn(q.name),1)])],8,Voe))),128)),D.value.length===0?(Ve(),qe("div",{key:0,class:"option",onClick:J[4]||(J[4]=q=>x.value=!0)},' "'+Kn(M.value)+'" hinzufügen ? ',1)):ur("",!0)])):ur("",!0)])]))}},qoe={class:"row"},Koe=z("hr",{class:"divider"},null,-1),Xoe={class:"row content-row"},Yoe={class:"row content-row"},Zoe=z("div",null,[z("a",{style:{"margin-top":"15px","margin-bottom":"5px","text-decoration":"underline"},href:"https://www.welt-flaggen.de/register/laenderkuerzel/"}," Liste der Länderkürzel "),z("p",null," Bitte die Kürzel der Länder von dieser Seite nehmen damit die Flaggen erscheinen. Über die Suche werden die Kürzel sofort dargestellt (2-Stellig). ")],-1),Joe={class:"content-row"},Qoe={class:"errorMessages"},u9={__name:"SprachenForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newLanguage"],setup(f,{emit:m}){const y=f,b=wt({"name:de":"","name:en":"","description:de":"","description:en":""}),_=wt([]),x=wt(y.editMode?"Sprache aktualisieren":"Sprache erstellen"),T=wt(null),D=bl(),M=()=>(_.value=[],b.value["name:de"]===""&&_.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&_.value.push("Bitte geben Sie einen Namen (EN) ein"),_.value.length===0),W=()=>{M()&&(x.value=y.editMode?"Sprache aktualisieren...":"Sprache erstellen...",Tn.post("/languages",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{x.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",y.insidePopup?m("newLanguage",I.data.language):D.push("/sprachen")}).catch(I=>{console.log(I),x.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Sprache")}))},N=()=>{M()&&(x.value=y.editMode?"Sprache aktualisieren...":"Sprache erstellen...",b.value.image!==null&&(b.value.image=b.value.image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(I=>I.id)),b.value.guides!==null&&(b.value.guides=b.value.guides.map(I=>I.id)),Tn.patch(`/languages/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{x.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",D.push("/sprachen")}).catch(I=>{console.log(I),x.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Sprache")}))};Ia(async()=>{y.editMode&&H()});const H=()=>{Tn.get(`/languages/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{b.value=I.data.language,b.value["name:de"]=I.data.language.translations[0].name,b.value["name:en"]=I.data.language.translations[1].name,b.value["description:de"]=I.data.language.translations[0].description,b.value["description:en"]=I.data.language.translations[1].description,b.value.image=I.data.language.image,I.data.language.image!==null&&(T.value=I.data.language.image.url)}).catch(I=>{I.response.status===401?sessionStorage.removeItem("token"):console.log(I)})};return Jm(()=>{y.insidePopup||tinymce.remove()}),(I,V)=>{const J=Fa("router-Link");return Ve(),qe(_r,null,[z("div",qoe,[z("h1",null,Kn(y.editMode?"Sprache Aktualisieren":"Sprache Erstellen"),1),y.insidePopup?(Ve(),qe("button",{key:1,class:"button-primary",onClick:V[0]||(V[0]=q=>m("closePopup"))}," Abbrechen ")):(Ve(),Ym(J,{key:0,to:"/sprachen",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1}))]),Koe,z("div",Xoe,[at(tr,{lang:"de",title:"Sprache (DE)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":V[1]||(V[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Hn,b.value["name:de"]]])]),_:1}),at(tr,{lang:"en",title:"Sprache (EN)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":V[2]||(V[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Hn,b.value["name:en"]]])]),_:1})]),z("div",Yoe,[at(tr,{lang:"de",title:"Kürzel (DE)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":V[3]||(V[3]=q=>b.value["description:de"]=q),placeholder:"Kürzel"},null,512),[[Hn,b.value["description:de"]]])]),_:1}),at(tr,{lang:"en",title:"Kürzel (EN)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":V[4]||(V[4]=q=>b.value["description:en"]=q),placeholder:"Shortname"},null,512),[[Hn,b.value["description:en"]]])]),_:1}),Zoe]),z("div",Joe,[z("button",{class:"button-primary",onClick:V[5]||(V[5]=q=>y.editMode?N():W())},Kn(x.value),1),z("div",Qoe,[(Ve(!0),qe(_r,null,$a(_.value,q=>(Ve(),qe("p",{key:q},Kn(q),1))),128))])])],64)}}};const eie={key:0,class:"Popup"},tie={class:"addPopup"},nie={key:1,class:"select-container"},rie={class:"chip-container"},aie={class:"chip-name"},oie=["onClick"],iie=z("img",{src:r2,alt:"close",width:"15",height:"15"},null,-1),uie=[iie],sie={key:0,class:"selectable-options"},lie=["onClick"],cie={class:"option-content"},fie={key:0,class:"option-avatar"},vie=["src"],die={class:"option-name"},mie={key:2,class:"loadingIndicator"},hie=z("div",{class:"combobox"},[z("span",null,"Lade Sprache...")],-1),gie=[hie],pG={__name:"SprachenSelect",props:{selectedLanguages:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=wt([]),_=wt(!1),x=wt(!1),T=wt([]),D=ri(()=>T.value.filter(V=>V.name.toLowerCase().includes(M.value.toLowerCase()))),M=wt(""),W=V=>{b.value.push(V),T.value.push(V),x.value=!1},N=async()=>(await Tn.get("/languages")).data.languages,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function I(){return b.value.map(V=>V.id)}return m({getData:I}),Ia(async()=>{T.value=await N()}),Dd(()=>y.selectedLanguages,V=>{V===null?b.value=[]:b.value=V}),(V,J)=>(Ve(),qe("div",null,[x.value?(Ve(),qe("div",eie,[z("div",{class:"popupBackground",onClick:J[0]||(J[0]=q=>x.value=!1)}),z("div",tie,[at(u9,{insidePopup:!0,onClosePopup:J[1]||(J[1]=q=>x.value=!1),onNewLanguage:W})])])):ur("",!0),T.value.length>0?(Ve(),qe("div",nie,[z("div",{class:"combobox",onClick:J[3]||(J[3]=q=>_.value=!0)},[z("div",rie,[(Ve(!0),qe(_r,null,$a(b.value,q=>(Ve(),qe("div",{class:"chip",key:q.id},[z("div",aie,Kn(q.name),1),z("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},uie,8,oie)]))),128))]),_.value||b.value.length===0?In((Ve(),qe("input",{key:0,type:"search","onUpdate:modelValue":J[2]||(J[2]=q=>M.value=q),placeholder:"Name der Sprache"},null,512)),[[Hn,M.value]]):ur("",!0)]),_.value?(Ve(),qe("div",sie,[(Ve(!0),qe(_r,null,$a(D.value,q=>(Ve(),qe("div",{class:"option",key:q.id,onClick:$e=>H(q)},[z("div",cie,[q.image?(Ve(),qe("div",fie,[z("img",{src:q.image.url,alt:"avatar"},null,8,vie)])):ur("",!0),z("div",die,Kn(q.name),1)])],8,lie))),128)),D.value.length===0?(Ve(),qe("div",{key:0,class:"option",onClick:J[4]||(J[4]=q=>x.value=!0)},' "'+Kn(M.value)+'" hinzufügen ? ',1)):ur("",!0)])):ur("",!0)])):(Ve(),qe("div",mie,gie))]))}},pie={class:"row"},bie=z("hr",{class:"divider"},null,-1),yie={class:"row content-row"},wie={class:"content-row"},Cie={class:"errorMessages"},s9={__name:"SkillForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newSkill"],setup(f,{emit:m}){const y=f,b=wt({"name:de":"","name:en":"","description:de":"","description:en":""}),_=wt([]),x=wt(y.editMode?"Thema aktualisieren":"Thema erstellen"),T=wt(null),D=bl(),M=()=>(_.value=[],b.value["name:de"]===""&&_.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&_.value.push("Bitte geben Sie einen Namen (EN) ein"),_.value.length===0),W=()=>{M()&&(x.value=y.editMode?"Thema aktualisieren...":"Thema erstellen...",Tn.post("/skills",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{x.value=y.editMode?"Thema aktualisieren":"Thema erstellen",y.insidePopup?m("newSkill",I.data.skill):D.push("/skills")}).catch(I=>{console.log(I),x.value=y.editMode?"Thema aktualisieren":"Thema erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen des Themas")}))},N=()=>{M()&&(x.value=y.editMode?"Thema aktualisieren...":"Thema erstellen...",b.value.image&&b.value.image!==null&&(b.value.image=b.value.image.id),b.value.guides!==null&&b.value.guides.length>0?b.value.guides=b.value.guides.map(I=>I.id):b.value.guides=null,Tn.patch(`/skills/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{x.value=y.editMode?"Thema aktualisieren":"Thema erstellen",D.push("/skills")}).catch(I=>{console.log(I),x.value=y.editMode?"Thema aktualisieren":"Thema erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Themas")}))};Ia(async()=>{y.editMode&&H()});const H=()=>{Tn.get(`/skills/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{b.value=I.data.skill,b.value["name:de"]=I.data.skill.translations[0].name,b.value["name:en"]=I.data.skill.translations[1].name,b.value.image=I.data.skill.image,I.data.skill.image!==null&&(T.value=I.data.skill.image.url)}).catch(I=>{I.response.status===401?sessionStorage.removeItem("token"):console.log(I)})};return Jm(()=>{y.insidePopup||tinymce.remove()}),(I,V)=>{const J=Fa("router-Link");return Ve(),qe(_r,null,[z("div",pie,[z("h1",null,Kn(y.editMode?"Thema Aktualisieren":"Thema Erstellen"),1),y.insidePopup?(Ve(),qe("button",{key:1,class:"button-primary",onClick:V[0]||(V[0]=q=>m("closePopup"))}," Abbrechen ")):(Ve(),Ym(J,{key:0,to:"/skills",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1}))]),bie,z("div",yie,[at(tr,{lang:"de",title:"Thema (DE)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":V[1]||(V[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Hn,b.value["name:de"]]])]),_:1}),at(tr,{lang:"en",title:"Thema (EN)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":V[2]||(V[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Hn,b.value["name:en"]]])]),_:1})]),z("div",wie,[z("button",{class:"button-primary",onClick:V[3]||(V[3]=q=>y.editMode?N():W())},Kn(x.value),1),z("div",Cie,[(Ve(!0),qe(_r,null,$a(_.value,q=>(Ve(),qe("p",{key:q},Kn(q),1))),128))])])],64)}}};const _ie={key:0,class:"Popup"},Sie={class:"addPopup"},xie={key:1,class:"select-container"},kie={class:"chip-container"},Aie={class:"chip-name"},Eie=["onClick"],Tie=z("img",{src:r2,alt:"close",width:"15",height:"15"},null,-1),Oie=[Tie],Die={key:0,class:"selectable-options"},Rie=["onClick"],$ie={class:"option-content"},Bie={key:0,class:"option-avatar"},Mie=["src"],Pie={class:"option-name"},Iie={key:2,class:"loadingIndicator"},Nie=z("div",{class:"combobox"},[z("span",null,"Lade Themen...")],-1),zie=[Nie],bG={__name:"SkillSelect",props:{selectedSkills:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=wt([]),_=wt(!1),x=wt(!1),T=wt([]),D=ri(()=>T.value.filter(V=>V.name.toLowerCase().includes(M.value.toLowerCase()))),M=wt(""),W=V=>{b.value.push(V),T.value.push(V),x.value=!1},N=async()=>(await Tn.get("/skills")).data.skills,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function I(){return b.value.map(V=>V.id)}return m({getData:I}),Ia(async()=>{T.value=await N()}),Dd(()=>y.selectedSkills,V=>{V===null?b.value=[]:b.value=V}),(V,J)=>(Ve(),qe("div",null,[x.value?(Ve(),qe("div",_ie,[z("div",{class:"popupBackground",onClick:J[0]||(J[0]=q=>x.value=!1)}),z("div",Sie,[at(s9,{insidePopup:!0,onClosePopup:J[1]||(J[1]=q=>x.value=!1),onNewSkill:W})])])):ur("",!0),T.value.length>0?(Ve(),qe("div",xie,[z("div",{class:"combobox",onClick:J[3]||(J[3]=q=>_.value=!0)},[z("div",kie,[(Ve(!0),qe(_r,null,$a(b.value,q=>(Ve(),qe("div",{class:"chip",key:q.id},[z("div",Aie,Kn(q.name),1),z("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},Oie,8,Eie)]))),128))]),_.value||b.value.length===0?In((Ve(),qe("input",{key:0,type:"search","onUpdate:modelValue":J[2]||(J[2]=q=>M.value=q),placeholder:"Name des Themas..."},null,512)),[[Hn,M.value]]):ur("",!0)]),_.value?(Ve(),qe("div",Die,[(Ve(!0),qe(_r,null,$a(D.value,q=>(Ve(),qe("div",{class:"option",key:q.id,onClick:$e=>H(q)},[z("div",$ie,[q.image?(Ve(),qe("div",Bie,[z("img",{src:q.image.url,alt:"avatar"},null,8,Mie)])):ur("",!0),z("div",Pie,Kn(q.name),1)])],8,Rie))),128)),D.value.length===0?(Ve(),qe("div",{key:0,class:"option",onClick:J[4]||(J[4]=q=>x.value=!0)},' "'+Kn(M.value)+'" hinzufügen ? ',1)):ur("",!0)])):ur("",!0)])):(Ve(),qe("div",Iie,zie))]))}},Fie={class:"row"},Lie=z("hr",{class:"divider"},null,-1),Hie={class:"row content-row"},Vie={class:"row content-row"},Uie=z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Wie=z("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),jie={class:"content-row"},Gie={class:"errorMessages"},l9={__name:"MobilitaetForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newMobility"],setup(f,{emit:m}){const y=f,b=wt({"name:de":"","name:en":"","description:de":"","description:en":""}),_=wt([]),x=wt(y.editMode?"Mobilität aktualisieren":"Mobilität erstellen"),T=wt(null),D=bl(),M=()=>(_.value=[],b.value["name:de"]===""&&_.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&_.value.push("Bitte geben Sie einen Namen (EN) ein"),_.value.length===0),W=()=>{M()&&(x.value=y.editMode?"Mobilität aktualisieren...":"Mobilität erstellen...",b.value["description:de"]=xn.get("editor_de").getContent(),b.value["description:en"]=xn.get("editor_en").getContent(),Tn.post("/mobility",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{x.value=y.editMode?"Mobilität aktualisieren":"Mobilität erstellen",y.insidePopup?m("newMobility",I.data.mobility):D.push("/mobilitaet")}).catch(I=>{console.log(I),x.value=y.editMode?"Mobilität aktualisieren":"Mobilität erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Mobilität")}))},N=()=>{M()&&(x.value=y.editMode?"Mobilität aktualisieren...":"Mobilität erstellen...",b.value["description:de"]=xn.get("editor_de").getContent(),b.value["description:en"]=xn.get("editor_en").getContent(),b.value.main_image!==null&&(b.value.main_image=b.value.main_image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(I=>I.id)),b.value.guides!==null&&(b.value.guides=b.value.guides.map(I=>I.id)),Tn.patch(`/mobility/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{x.value=y.editMode?"Mobilität aktualisieren":"Mobilität erstellen",D.push("/mobilitaet")}).catch(I=>{console.log(I),x.value=y.editMode?"Mobilität aktualisieren":"Mobilität erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Mobilität")}))};Ia(async()=>{y.editMode&&H(),xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:I=>{I.on("init",()=>{I.setContent("<p>Mobilitäts Beschreibung</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const H=()=>{Tn.get(`/mobility/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{b.value=I.data.mobility,b.value["name:de"]=I.data.mobility.translations[0].name,b.value["name:en"]=I.data.mobility.translations[1].name,b.value.main_image=I.data.mobility.main_image,I.data.mobility.main_image!==null&&(T.value=I.data.mobility.main_image.url),xn.get("editor_de").setContent(I.data.mobility.translations[0].description),xn.get("editor_en").setContent(I.data.mobility.translations[1].description)}).catch(I=>{I.response.status===401?sessionStorage.removeItem("token"):console.log(I)})};return Jm(()=>{y.insidePopup||xn.remove()}),(I,V)=>{const J=Fa("router-Link");return Ve(),qe(_r,null,[z("div",Fie,[z("h1",null,Kn(y.editMode?"Mobilität Aktualisieren":"Mobilität Erstellen"),1),y.insidePopup?(Ve(),qe("button",{key:1,class:"button-primary",onClick:V[0]||(V[0]=q=>m("closePopup"))}," Abbrechen ")):(Ve(),Ym(J,{key:0,to:"/mobilitaet",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1}))]),Lie,z("div",Hie,[at(tr,{lang:"de",title:"Mobilität (DE)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":V[1]||(V[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Hn,b.value["name:de"]]])]),_:1}),at(tr,{lang:"en",title:"Mobilität (EN)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":V[2]||(V[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Hn,b.value["name:en"]]])]),_:1})]),z("div",Vie,[at(tr,{lang:"de",title:"Beschreibung"},{content:Rt(()=>[Uie]),_:1}),at(tr,{lang:"en",title:"Description"},{content:Rt(()=>[Wie]),_:1})]),z("div",jie,[z("button",{class:"button-primary",onClick:V[3]||(V[3]=q=>y.editMode?N():W())},Kn(x.value),1),z("div",Gie,[(Ve(!0),qe(_r,null,$a(_.value,q=>(Ve(),qe("p",{key:q},Kn(q),1))),128))])])],64)}}};const qie={key:0,class:"Popup"},Kie={class:"addPopup"},Xie={key:1,class:"select-container"},Yie={class:"chip-container"},Zie={class:"chip-name"},Jie=["onClick"],Qie=z("img",{src:r2,alt:"close",width:"15",height:"15"},null,-1),eue=[Qie],tue={key:0,class:"selectable-options"},nue=["onClick"],rue={class:"option-content"},aue={key:0,class:"option-avatar"},oue=["src"],iue={class:"option-name"},uue={key:2,class:"loadingIndicator"},sue=z("div",{class:"combobox"},[z("span",null,"Lade Mobilitäten...")],-1),lue=[sue],a8={__name:"MobilitaetSelect",props:{selectedMobilites:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=wt([]),_=wt(!1),x=wt(!1),T=wt([]),D=ri(()=>T.value.filter(V=>V.name.toLowerCase().includes(M.value.toLowerCase()))),M=wt(""),W=V=>{console.log(V),b.value.push(V),T.value.push(V),x.value=!1},N=async()=>(await Tn.get("/mobility")).data.mobilities,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function I(){return b.value.map(V=>V.id)}return m({getData:I}),Ia(async()=>{T.value=await N()}),Dd(()=>y.selectedMobilites,V=>{V===null||V.length===1&&V[0]===null?b.value=[]:b.value=V}),(V,J)=>(Ve(),qe("div",null,[x.value?(Ve(),qe("div",qie,[z("div",{class:"popupBackground",onClick:J[0]||(J[0]=q=>x.value=!1)}),z("div",Kie,[at(l9,{insidePopup:!0,onClosePopup:J[1]||(J[1]=q=>x.value=!1),onNewMobility:W})])])):ur("",!0),T.value.length>0?(Ve(),qe("div",Xie,[z("div",{class:"combobox",onClick:J[3]||(J[3]=q=>_.value=!0)},[z("div",Yie,[(Ve(!0),qe(_r,null,$a(b.value,q=>(Ve(),qe("div",{class:"chip",key:q.id},[z("div",Zie,Kn(q.name),1),z("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},eue,8,Jie)]))),128))]),_.value||b.value.length===0?In((Ve(),qe("input",{key:0,type:"search","onUpdate:modelValue":J[2]||(J[2]=q=>M.value=q),placeholder:"Name der Mobilität"},null,512)),[[Hn,M.value]]):ur("",!0)]),_.value?(Ve(),qe("div",tue,[(Ve(!0),qe(_r,null,$a(D.value,q=>(Ve(),qe("div",{class:"option",key:q.id,onClick:$e=>H(q)},[z("div",rue,[q.image?(Ve(),qe("div",aue,[z("img",{src:q.image.url,alt:"avatar"},null,8,oue)])):ur("",!0),z("div",iue,Kn(q.name),1)])],8,nue))),128)),D.value.length===0?(Ve(),qe("div",{key:0,class:"option",onClick:J[4]||(J[4]=q=>x.value=!0)},' "'+Kn(M.value)+'" hinzufügen ? ',1)):ur("",!0)])):ur("",!0)])):(Ve(),qe("div",uue,lue))]))}};const cue={key:0,class:"row"},fue={key:1},vue=z("h1",null,"Profil Aktualisieren",-1),due=[vue],mue=z("hr",{class:"divider"},null,-1),hue={class:"row content-row"},gue={class:"row content-row"},pue=z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),bue=z("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),yue={class:"content-row"},wue=z("h3",null,"Guide Eigenschaften",-1),Cue=z("hr",{class:"divider"},null,-1),_ue={class:"row"},Sue={class:"col",style:{width:"23%","min-width":"200px"}},xue=z("span",null,"Zertifikatsauswahl",-1),kue={class:"col",style:{width:"23%","min-width":"200px"}},Aue=z("span",null,"Sprachauswahl",-1),Eue={class:"col",style:{width:"23%","min-width":"200px"}},Tue=z("span",null,"Mobilitätsauswahl",-1),Oue={class:"col",style:{width:"23%","min-width":"200px"}},Due=z("span",null,"Themenauswahl",-1),Rue={class:"content-row"},$ue=z("h3",null,"Kontakt",-1),Bue=z("hr",{class:"divider"},null,-1),Mue={class:"row"},Pue={class:"col"},Iue=z("span",null,"Email",-1),Nue={class:"col"},zue=z("span",null,"Telefon",-1),Fue={class:"col"},Lue=z("span",null,"Webseite",-1),Hue={class:"col"},Vue=z("span",null,"Handynummer",-1),Uue={class:"content-row"},Wue=z("h3",null,"Guide Bild",-1),jue=z("hr",{class:"divider"},null,-1),Gue={key:0,class:"image"},que=["src"],Kue={class:"row"},Xue={class:"col"},Yue={class:"content-row"},Zue={class:"errorMessages"},c9={__name:"GuideForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1},showButton:{type:Boolean,default:!0}},emits:["closePopup","newGuide"],setup(f,{emit:m}){const y=f,b=wt(null),_=wt(null),x=wt(null),T=wt(null),D=wt({"name:de":"","name:en":"","description:de":"","description:en":"",contact:{},image:null,languages:[],skills:[],mobility:[],certificates:[]}),M=wt([]),W=wt(y.editMode?"Guide aktualisieren":"Guide erstellen"),N=wt(null),H=bl(),I=()=>{const Be=b.value.getData(),ie=_.value.getData(),he=x.value.getData(),De=T.value.getData();return D.value.certificates=Be,D.value.languages=ie,D.value.mobility=he,D.value.skills=De,M.value=[],D.value["name:de"]===""&&M.value.push("Bitte geben Sie einen Namen (DE) ein"),D.value["name:en"]===""&&M.value.push("Bitte geben Sie einen Namen (EN) ein"),D.value.languages.length===0&&M.value.push("Bitte wählen Sie mindestens eine Sprache aus"),M.value.length===0},V=()=>{I()&&(W.value=y.editMode?"Guide aktualisieren...":"Guide erstellen...",D.value["description:de"]=xn.get("editor_de").getContent(),D.value["description:en"]=xn.get("editor_en").getContent(),D.value.contact.email!=""&&(D.value.email=D.value.contact.email),Tn.post("/guides",D.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Be=>{W.value=y.editMode?"Guide aktualisieren":"Guide erstellen",y.insidePopup?m("newGuide",Be.data.guide):H.push("/guides")}).catch(Be=>{W.value=y.editMode?"Guide aktualisieren":"Guide erstellen",Be.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen des Guides. Überprüfen Sie die Email ob diese schon existiert.")}))},J=()=>{if(!I())return;W.value=y.editMode?"Guide aktualisieren...":"Guide erstellen...",D.tours!==null&&(D.value.tours=D.value.tours.map(ye=>ye.id)),D.languages!==null&&(D.value.languages=D.value.languages.map(ye=>ye.id)),D.skills!==null&&(D.value.skills=D.value.skills.map(ye=>ye.id)),D.mobility!==null&&(D.value.mobility=D.value.mobility.map(ye=>ye.id)),D.certificates!==null&&(D.value.certificates=D.value.certificates.map(ye=>ye.id)),D.value.contact.email!=""&&(D.value.email=D.value.contact.email),typeof D.value.image=="object"&&D.value.image!==null&&(D.value.image=D.value.image.id),D.value["description:de"]=xn.get("editor_de").getContent(),D.value["description:en"]=xn.get("editor_en").getContent();const Be=b.value.getData(),ie=_.value.getData(),he=x.value.getData(),De=T.value.getData();D.value.certificates=Be,D.value.languages=ie,D.value.mobility=he,D.value.skills=De,Tn.patch(`/guides/${y.id}`,D.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ye=>{W.value=y.editMode?"Guide aktualisieren":"Guide erstellen",H.push("/guides")}).catch(ye=>{console.log(ye),W.value=y.editMode?"Guide aktualisieren":"Guide erstellen",ye.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Guides")})},q=Be=>{const ie=Be.target.files;if(console.log(ie),ie)for(let he=0;he<ie.length;he++){const De=ie[he],ye=new FormData;ye.append("file",De),Tn.post("/media",ye,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Xe=>{D.value.image=Xe.data.media.id,N.value=Xe.data.media.url}).catch(Xe=>{console.log(Xe),window.alert("Fehler beim Upload des Bildes")})}};Ia(async()=>{y.editMode&&$e(),xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:Be=>{Be.on("init",()=>{Be.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const $e=()=>{Tn.get(`/guides/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Be=>{D.value=Be.data.guide,D.value["name:de"]=Be.data.guide.translations[0].name,D.value["name:en"]=Be.data.guide.translations[1].name,D.value["description:de"]=Be.data.guide.translations[0].description,D.value["description:en"]=Be.data.guide.translations[1].description,Be.data.guide.contact!==null&&!Array.isArray(JSON.parse(Be.data.guide.contact))?D.value.contact=JSON.parse(Be.data.guide.contact):D.value.contact={},N.value=Be.data.guide.image?Be.data.guide.image[0].url:null,D.value.languages=Be.data.guide.languages,D.value.skills=Be.data.guide.skills,D.value.mobility=Be.data.guide.mobility,D.value.certificates=Be.data.guide.certificates,Be.data.guide.image!==null&&(N.value=Be.data.guide.image[0].url),xn.get("editor_de").setContent(Be.data.guide.translations[0].description||""),xn.get("editor_en").setContent(Be.data.guide.translations[1].description||""),console.log(D)}).catch(Be=>{console.log(Be),Be.response.status===401?sessionStorage.removeItem("token"):console.log(Be)})},me=()=>{D.value.image=null,N.value=null};return Jm(()=>{y.insidePopup||xn.remove()}),(Be,ie)=>{const he=Fa("router-Link");return Ve(),qe(_r,null,[y.showButton?(Ve(),qe("div",cue,[z("h1",null,Kn(y.editMode?"Guide Aktualisieren":"Guide Erstellen"),1),y.insidePopup?(Ve(),qe("button",{key:1,class:"button-primary",onClick:ie[0]||(ie[0]=De=>m("closePopup"))}," Abbrechen ")):(Ve(),Ym(he,{key:0,to:"/guides",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1}))])):(Ve(),qe("div",fue,due)),mue,z("div",hue,[at(tr,{lang:"de",title:"Name"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":ie[1]||(ie[1]=De=>D.value["name:de"]=De),placeholder:"Name"},null,512),[[Hn,D.value["name:de"]]])]),_:1}),at(tr,{lang:"en",title:"Name"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":ie[2]||(ie[2]=De=>D.value["name:en"]=De),placeholder:"Name"},null,512),[[Hn,D.value["name:en"]]])]),_:1})]),z("div",gue,[at(tr,{lang:"de",title:"Beschreibung"},{content:Rt(()=>[pue]),_:1}),at(tr,{lang:"en",title:"Description"},{content:Rt(()=>[bue]),_:1})]),z("div",yue,[wue,Cue,z("div",_ue,[z("div",Sue,[xue,at(gG,{ref_key:"certificateSelect",ref:b,"selected-certificate":D.value.certificates},null,8,["selected-certificate"])]),z("div",kue,[Aue,at(pG,{ref_key:"languageSelect",ref:_,"selected-languages":D.value.languages},null,8,["selected-languages"])]),z("div",Eue,[Tue,at(a8,{ref_key:"mobilitySelect",ref:x,"selected-mobilites":D.value.mobility},null,8,["selected-mobilites"])]),z("div",Oue,[Due,at(bG,{ref_key:"skillSelect",ref:T,"selected-skills":D.value.skills},null,8,["selected-skills"])])])]),z("div",Rue,[$ue,Bue,z("div",Mue,[z("div",Pue,[Iue,In(z("input",{type:"text",placeholder:"Email","onUpdate:modelValue":ie[3]||(ie[3]=De=>D.value.contact.email=De)},null,512),[[Hn,D.value.contact.email]])]),z("div",Nue,[zue,In(z("input",{type:"text",placeholder:"Telefon","onUpdate:modelValue":ie[4]||(ie[4]=De=>D.value.contact.phone=De)},null,512),[[Hn,D.value.contact.phone]])]),z("div",Fue,[Lue,In(z("input",{type:"text",placeholder:"Webseite","onUpdate:modelValue":ie[5]||(ie[5]=De=>D.value.contact.website=De)},null,512),[[Hn,D.value.contact.website]])]),z("div",Hue,[Vue,In(z("input",{type:"text",placeholder:"Handynummer","onUpdate:modelValue":ie[6]||(ie[6]=De=>D.value.contact.mobile=De)},null,512),[[Hn,D.value.contact.mobile]])])])]),z("div",Uue,[Wue,jue,N.value?(Ve(),qe("div",Gue,[z("img",{src:N.value},null,8,que)])):ur("",!0),N.value?(Ve(),qe("a",{key:1,onClick:me,class:"removeImage"},"Bild entfernen")):ur("",!0),z("div",Kue,[z("div",Xue,[z("input",{type:"file",onChange:q},null,32)])])]),z("div",Yue,[z("button",{class:"button-primary",onClick:ie[7]||(ie[7]=De=>y.editMode?J():V())},Kn(W.value),1),z("div",Zue,[(Ve(!0),qe(_r,null,$a(M.value,De=>(Ve(),qe("p",{key:De},Kn(De),1))),128))])])],64)}}};const Jue={key:0,class:"Popup"},Que={class:"addPopup"},ese={key:1,class:"select-container"},tse={class:"chip-container"},nse={class:"chip-name"},rse=["onClick"],ase=z("img",{src:r2,alt:"close",width:"15",height:"15"},null,-1),ose=[ase],ise={key:0,class:"selectable-options"},use=["onClick"],sse={class:"option-content"},lse={key:0,class:"option-avatar"},cse=["src"],fse={class:"option-name"},vse={key:2,class:"loadingIndicator"},dse=z("div",{class:"combobox"},[z("span",null,"Lade Guides...")],-1),mse=[dse],yG={__name:"GuideSelect",props:{selectedGuides:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=wt([]),_=wt(!1),x=wt(!1),T=wt([]),D=ri(()=>T.value.filter(V=>V.name.toLowerCase().includes(M.value.toLowerCase()))),M=wt(""),W=V=>{b.value.push(V),T.value.push(V),x.value=!1},N=async()=>(await Tn.get("/guides?preview=true&per_page=300&fields=id")).data.guides.data,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function I(){return b.value.map(V=>V.id)}return m({getData:I}),Ia(async()=>{T.value=await N()}),Dd(()=>y.selectedGuides,V=>{console.log(V),b.value=V}),(V,J)=>(Ve(),qe("div",null,[x.value?(Ve(),qe("div",Jue,[z("div",{class:"popupBackground",onClick:J[0]||(J[0]=q=>x.value=!1)}),z("div",Que,[at(c9,{insidePopup:"true",onClosePopup:J[1]||(J[1]=q=>x.value=!1),onNewGuide:W})])])):ur("",!0),T.value.length>0?(Ve(),qe("div",ese,[z("div",{class:"combobox",onClick:J[3]||(J[3]=q=>_.value=!0)},[z("div",tse,[(Ve(!0),qe(_r,null,$a(b.value,q=>(Ve(),qe("div",{class:"chip",key:q.id},[z("div",nse,Kn(q.name),1),z("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},ose,8,rse)]))),128))]),_.value||b.value.length===0?In((Ve(),qe("input",{key:0,type:"search","onUpdate:modelValue":J[2]||(J[2]=q=>M.value=q),placeholder:"Name des Guides"},null,512)),[[Hn,M.value]]):ur("",!0)]),_.value?(Ve(),qe("div",ise,[(Ve(!0),qe(_r,null,$a(D.value,q=>(Ve(),qe("div",{class:"option",key:q.id,onClick:$e=>H(q)},[z("div",sse,[q.image?(Ve(),qe("div",lse,[z("img",{src:q.image[0].url,alt:"avatar"},null,8,cse)])):ur("",!0),z("div",fse,Kn(q.name),1)])],8,use))),128)),D.value.length===0?(Ve(),qe("div",{key:0,class:"option",onClick:J[4]||(J[4]=q=>x.value=!0)},' "'+Kn(M.value)+'" hinzufügen ? ',1)):ur("",!0)])):ur("",!0)])):(Ve(),qe("div",vse,mse))]))}},hse={class:"row"},gse=z("hr",{class:"divider"},null,-1),pse={class:"row content-row"},bse={class:"content-row"},yse={class:"errorMessages"},f9={__name:"OrtFrom",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newPlace"],setup(f,{emit:m}){const y=f,b=wt({"name:de":"","name:en":"","description:de":"","description:en":""}),_=wt([]),x=wt(y.editMode?"Ort aktualisieren":"Ort erstellen"),T=wt(null),D=bl(),M=()=>(_.value=[],b.value["name:de"]===""&&_.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&_.value.push("Bitte geben Sie einen Namen (EN) ein"),_.value.length===0),W=()=>{M()&&(x.value=y.editMode?"Ort aktualisieren...":"Ort erstellen...",Tn.post("/places",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{x.value=y.editMode?"Ort aktualisieren":"Ort erstellen",y.insidePopup?m("newPlace",I.data.place):D.push("/orte")}).catch(I=>{console.log(I),x.value=y.editMode?"Ort aktualisieren":"Ort erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen des Ortes")}))},N=()=>{M()&&(x.value=y.editMode?"Ort aktualisieren...":"Ort erstellen...",b.value.main_image!==null&&(b.value.main_image=b.value.main_image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(I=>I.id)),Tn.patch(`/places/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{x.value=y.editMode?"Ort aktualisieren":"Ort erstellen",D.push("/orte")}).catch(I=>{console.log(I),x.value=y.editMode?"Ort aktualisieren":"Ort erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Ortes")}))};Ia(async()=>{y.editMode&&H()});const H=()=>{Tn.get(`/places/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{b.value=I.data.place,b.value["name:de"]=I.data.place.translations[0].name,b.value["name:en"]=I.data.place.translations[1].name,b.value.main_image=I.data.place.main_image,I.data.place.main_image!==null&&(T.value=I.data.place.main_image.url)}).catch(I=>{I.response.status===401?sessionStorage.removeItem("token"):console.log(I)})};return Jm(()=>{y.insidePopup||tinymce.remove()}),(I,V)=>{const J=Fa("router-Link");return Ve(),qe(_r,null,[z("div",hse,[z("h1",null,Kn(y.editMode?"Ort Aktualisieren":"Ort Erstellen"),1),y.insidePopup?(Ve(),qe("button",{key:1,class:"button-primary",onClick:V[0]||(V[0]=q=>m("closePopup"))}," Abbrechen ")):(Ve(),Ym(J,{key:0,to:"/orte",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1}))]),gse,z("div",pse,[at(tr,{lang:"de",title:"Ort (DE)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":V[1]||(V[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Hn,b.value["name:de"]]])]),_:1}),at(tr,{lang:"en",title:"Ort (EN)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":V[2]||(V[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Hn,b.value["name:en"]]])]),_:1})]),z("div",bse,[z("button",{class:"button-primary",onClick:V[3]||(V[3]=q=>y.editMode?N():W())},Kn(x.value),1),z("div",yse,[(Ve(!0),qe(_r,null,$a(_.value,q=>(Ve(),qe("p",{key:q},Kn(q),1))),128))])])],64)}}};const wse={key:0,class:"Popup"},Cse={class:"addPopup"},_se={key:1,class:"select-container"},Sse={class:"chip-container"},xse={class:"chip-name"},kse=["onClick"],Ase=z("img",{src:r2,alt:"close",width:"15",height:"15"},null,-1),Ese=[Ase],Tse={key:0,class:"selectable-options"},Ose=["onClick"],Dse={class:"option-content"},Rse={key:0,class:"option-avatar"},$se=["src"],Bse={class:"option-name"},Mse={key:2,class:"loadingIndicator"},Pse=z("div",{class:"combobox"},[z("span",null,"Lade Orte...")],-1),Ise=[Pse],wG={__name:"OrtSelect",props:{selectedplaces:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=wt([]),_=wt(!1),x=wt(!1),T=wt([]),D=ri(()=>T.value.filter(V=>V.name.toLowerCase().includes(M.value.toLowerCase()))),M=wt(""),W=V=>{b.value.push(V),T.value.push(V),x.value=!1},N=async()=>(await Tn.get("/places")).data.places,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function I(){return b.value.map(V=>V.id)}return m({getData:I}),Ia(async()=>{T.value=await N()}),Dd(()=>y.selectedplaces,V=>{b.value=V}),(V,J)=>(Ve(),qe("div",null,[x.value?(Ve(),qe("div",wse,[z("div",{class:"popupBackground",onClick:J[0]||(J[0]=q=>x.value=!1)}),z("div",Cse,[at(f9,{insidePopup:!0,onClosePopup:J[1]||(J[1]=q=>x.value=!1),onNewPlace:W})])])):ur("",!0),T.value.length>0?(Ve(),qe("div",_se,[z("div",{class:"combobox",onClick:J[3]||(J[3]=q=>_.value=!0)},[z("div",Sse,[(Ve(!0),qe(_r,null,$a(b.value,q=>(Ve(),qe("div",{class:"chip",key:q.id},[z("div",xse,Kn(q.name),1),z("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},Ese,8,kse)]))),128))]),_.value||b.value.length===0?In((Ve(),qe("input",{key:0,type:"search","onUpdate:modelValue":J[2]||(J[2]=q=>M.value=q),placeholder:"Name des Ortes"},null,512)),[[Hn,M.value]]):ur("",!0)]),_.value?(Ve(),qe("div",Tse,[(Ve(!0),qe(_r,null,$a(D.value,q=>(Ve(),qe("div",{class:"option",key:q.id,onClick:$e=>H(q)},[z("div",Dse,[q.image?(Ve(),qe("div",Rse,[z("img",{src:q.image.url,alt:"avatar"},null,8,$se)])):ur("",!0),z("div",Bse,Kn(q.name),1)])],8,Ose))),128)),D.value.length===0?(Ve(),qe("div",{key:0,class:"option",onClick:J[4]||(J[4]=q=>x.value=!0)},' "'+Kn(M.value)+'" hinzufügen ? ',1)):ur("",!0)])):ur("",!0)])):(Ve(),qe("div",Mse,Ise))]))}},Nse={class:"row"},zse=z("hr",{class:"divider"},null,-1),Fse={class:"row content-row"},Lse={class:"content-row"},Hse={class:"errorMessages"},v9={__name:"KategorieForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newTheme"],setup(f,{emit:m}){const y=f,b=wt({"name:de":"","name:en":"","description:de":"","description:en":""}),_=wt([]),x=wt(y.editMode?"Kategorie aktualisieren":"Kategorie erstellen"),T=wt(null),D=bl(),M=()=>(_.value=[],b.value["name:de"]===""&&_.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&_.value.push("Bitte geben Sie einen Namen (EN) ein"),_.value.length===0),W=()=>{M()&&(x.value=y.editMode?"Kategorie aktualisieren...":"Kategorie erstellen...",b.value["name:en"]===""&&(b.value["name:en"]=b.value["name:de"]),b.value["description:en"]===""&&(b.value["description:en"]=b.value["description:de"]),Tn.post("/themes",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{x.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",y.insidePopup?m("newTheme",I.data.theme):D.push("/kategorien")}).catch(I=>{console.log(I),x.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen de Kategorie")}))},N=()=>{M()&&(x.value=y.editMode?"Kategorie aktualisieren...":"Kategorie erstellen...",b.value.image&&b.value.image!==null&&(b.value.image=b.value.image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(I=>I.id)),Tn.patch(`/themes/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{x.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",D.push("/kategorien")}).catch(I=>{console.log(I),x.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",I.response&&I.response.status&&I.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Kategorie")}))};Ia(async()=>{y.editMode&&H()});const H=()=>{Tn.get(`/themes/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{b.value=I.data.theme,b.value["name:de"]=I.data.theme.translations[0].name,b.value["name:en"]=I.data.theme.translations[1].name,b.value.image=I.data.theme.image,I.data.theme.image&&I.data.theme.image!==null&&(T.value=I.data.theme.image.url)}).catch(I=>{I.response&&I.response.status&&I.response.status===401?sessionStorage.removeItem("token"):console.log(I)})};return j_(()=>{y.insidePopup||tinymce.remove()}),(I,V)=>{const J=Fa("router-Link");return Ve(),qe(_r,null,[z("div",Nse,[z("h1",null,Kn(y.editMode?"Kategorie Aktualisieren":"Kategorie Erstellen"),1),y.insidePopup?(Ve(),qe("button",{key:1,class:"button-primary",onClick:V[0]||(V[0]=q=>m("closePopup"))}," Abbrechen ")):(Ve(),Ym(J,{key:0,to:"/kategorien",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1}))]),zse,z("div",Fse,[at(tr,{lang:"de",title:"Kategorie (DE)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":V[1]||(V[1]=q=>b.value["name:de"]=q),placeholder:"Name"},null,512),[[Hn,b.value["name:de"]]])]),_:1}),at(tr,{lang:"en",title:"Kategorie (EN)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":V[2]||(V[2]=q=>b.value["name:en"]=q),placeholder:"Name"},null,512),[[Hn,b.value["name:en"]]])]),_:1})]),z("div",Lse,[z("button",{class:"button-primary",onClick:V[3]||(V[3]=q=>y.editMode?N():W())},Kn(x.value),1),z("div",Hse,[(Ve(!0),qe(_r,null,$a(_.value,q=>(Ve(),qe("p",{key:q},Kn(q),1))),128))])])],64)}}};const Vse={key:0,class:"Popup"},Use={class:"addPopup"},Wse={key:1,class:"select-container"},jse={class:"chip-container"},Gse={class:"chip-name"},qse=["onClick"],Kse=z("img",{src:r2,alt:"close",width:"15",height:"15"},null,-1),Xse=[Kse],Yse={key:0,class:"selectable-options"},Zse=["onClick"],Jse={class:"option-content"},Qse={key:0,class:"option-avatar"},ele=["src"],tle={class:"option-name"},nle={key:2,class:"loadingIndicator"},rle=z("div",{class:"combobox"},[z("span",null,"Lade Kategorien...")],-1),ale=[rle],CG={__name:"KategorieSelect",props:{selectedthemes:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=wt([]),_=wt(!1),x=wt(!1),T=wt([]),D=ri(()=>T.value.filter(V=>V.name.toLowerCase().includes(M.value.toLowerCase()))),M=wt(""),W=V=>{b.value.push(V),T.value.push(V),x.value=!1},N=async()=>(await Tn.get("/themes")).data.themes,H=V=>{b.value.includes(V)||b.value.push(V)};window.addEventListener("click",V=>{V.target.closest(".select-container")||(_.value=!1)});function I(){return b.value.map(V=>V.id)}return m({getData:I}),Ia(async()=>{T.value=await N()}),Dd(()=>y.selectedthemes,V=>{b.value=V}),(V,J)=>(Ve(),qe("div",null,[x.value?(Ve(),qe("div",Vse,[z("div",{class:"popupBackground",onClick:J[0]||(J[0]=q=>x.value=!1)}),z("div",Use,[at(v9,{insidePopup:!0,onClosePopup:J[1]||(J[1]=q=>x.value=!1),onNewTheme:W})])])):ur("",!0),T.value.length>0?(Ve(),qe("div",Wse,[z("div",{class:"combobox",onClick:J[3]||(J[3]=q=>_.value=!0)},[z("div",jse,[(Ve(!0),qe(_r,null,$a(b.value,q=>(Ve(),qe("div",{class:"chip",key:q.id},[z("div",Gse,Kn(q.name),1),z("div",{class:"chip-remove",onClick:$e=>b.value.splice(b.value.indexOf(q),1)},Xse,8,qse)]))),128))]),_.value||b.value.length===0?In((Ve(),qe("input",{key:0,type:"search","onUpdate:modelValue":J[2]||(J[2]=q=>M.value=q),placeholder:"Name der Kategorie"},null,512)),[[Hn,M.value]]):ur("",!0)]),_.value?(Ve(),qe("div",Yse,[(Ve(!0),qe(_r,null,$a(D.value,q=>(Ve(),qe("div",{class:"option",key:q.id,onClick:$e=>H(q)},[z("div",Jse,[q.image?(Ve(),qe("div",Qse,[z("img",{src:q.image.url,alt:"avatar"},null,8,ele)])):ur("",!0),z("div",tle,Kn(q.name),1)])],8,Zse))),128)),D.value.length===0?(Ve(),qe("div",{key:0,class:"option",onClick:J[4]||(J[4]=q=>x.value=!0)},' "'+Kn(M.value)+'" hinzufügen ? ',1)):ur("",!0)])):ur("",!0)])):(Ve(),qe("div",nle,ale))]))}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EW;(function(f){f[f.INITIALIZED=0]="INITIALIZED",f[f.LOADING=1]="LOADING",f[f.SUCCESS=2]="SUCCESS",f[f.FAILURE=3]="FAILURE"})(EW||(EW={}));const zi=f=>(U_("data-v-a972bb0a"),f=f(),W_(),f),ole={class:"row"},ile=zi(()=>z("h1",null,"Tour erstellen",-1)),ule=zi(()=>z("hr",{class:"divider"},null,-1)),sle={class:"creation-grid"},lle={class:"main-content"},cle=zi(()=>z("h4",null,"Allgemeine Informationen",-1)),fle=zi(()=>z("hr",{class:"divider"},null,-1)),vle={class:"row content-row"},dle={class:"row content-row"},mle={class:"content-row"},hle=zi(()=>z("h4",null,"Bilder",-1)),gle=zi(()=>z("hr",{class:"divider"},null,-1)),ple={key:0,class:"images"},ble=["onClick","onDrop"],yle=zi(()=>z("img",{src:Df,width:"25",height:"25"},null,-1)),wle=[yle],Cle=["src"],_le={class:"error"},Sle=["disabled"],xle=zi(()=>z("div",{class:"divider"},null,-1)),kle={class:"content-row"},Ale={key:0},Ele=zi(()=>z("hr",{class:"divider"},null,-1)),Tle={class:"input-container"},Ole=zi(()=>z("h5",null,"Datum der Tour",-1)),Dle={class:"input-container"},Rle=zi(()=>z("h5",null,"Wann startet diese Tour",-1)),$le={class:"input-container"},Ble=zi(()=>z("h5",null,"Preis",-1)),Mle={class:"creation-sidebar"},Ple={class:"sidebar-item"},Ile=zi(()=>z("h4",null,"Guide hinzufügen",-1)),Nle=zi(()=>z("hr",{class:"divider"},null,-1)),zle={class:"sidebar-item"},Fle=zi(()=>z("h4",null,"Ort hinzufügen",-1)),Lle=zi(()=>z("hr",{class:"divider"},null,-1)),Hle={class:"sidebar-item"},Vle=zi(()=>z("h4",null,"Kategorien hinzufügen",-1)),Ule=zi(()=>z("hr",{class:"divider"},null,-1)),Wle={class:"sidebar-item"},jle=zi(()=>z("h4",null,"Mobilität hinzufügen",-1)),Gle=zi(()=>z("hr",{class:"divider"},null,-1)),qle={class:"sidebar-item"},Kle=zi(()=>z("h4",null,"Veröffentlichen",-1)),Xle=zi(()=>z("hr",{class:"divider"},null,-1)),Yle={class:"input-container"},Zle=zi(()=>z("option",{value:"draft"},"Entwurf",-1)),Jle=zi(()=>z("option",{value:"published"},"Veröffentlichen",-1)),Qle=[Zle,Jle],ece={class:"errorMessages"},tce={__name:"Create",setup(f){const m=wt({"name:de":"","name:en":"","description:de":"","description:en":"",status:"draft",is_public:!1,date:null,duration:null,needs_registration:!1,price:0,guides:[],places:[],images:[],image_copyright:"",main_image:null,themes:[]}),y=wt(null),b=wt(null),_=wt(null),x=wt(null);wt(null);const T=wt([]);wt(null);const D=wt("Tour erstellen"),M=wt([]),W=bl(),N=ri(()=>m.value.price.replace(",",".").replace(/[^0-9.]/g,"")),H=wt(""),I=wt(null),V=wt(!1),J=()=>{V.value=!0;const ie={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};I.value&&hl(I.value,ie).then(he=>{const De=new FormData;De.append("file",he),Tn.post("/media",De,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ye=>{T.value.push(ye.data.media),V.value=!1}).catch(ye=>{console.log(ye),window.alert("Fehler beim Upload des Bildes"),V.value=null})}).catch(he=>{console.log(he),window.alert("Fehler beim Komprimieren des Bildes")})},q=ie=>{H.value="";const he=ie.target.files,De=he[0].size/1024/1024;if(De>1){H.value="Bild("+De.toFixed(2)+"MB) ist zu groß (max. 1MB)",I.value=he[0];return}if(he)for(let ye=0;ye<he.length;ye++){const Xe=he[ye],le=new FormData;le.append("file",Xe),Tn.post("/media",le,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(se=>{T.value.push(se.data.media)}).catch(se=>{console.log(se),window.alert("Fehler beim Upload des Bildes")})}},$e=ie=>{T.value=T.value.filter(he=>he.id!==ie)},me=()=>(M.value=[],T.value.length===0&&M.value.push("Es muss mindestens ein Bild hochgeladen werden"),m.value.is_public&&(m.value.date===null&&M.value.push("Datum der Tour ist ein Pflichtfeld"),m.value.duration===null&&M.value.push("Dauer der Tour ist ein Pflichtfeld"),m.value.price===null&&M.value.push("Preis der Tour ist ein Pflichtfeld")),M.value.length===0),Be=()=>{if(!me())return;m.value["description:de"]=xn.get("editor_de").getContent(),m.value["description:en"]=xn.get("editor_en").getContent(),m.value.images=T.value.map(Xe=>Xe.id);const ie=y.value.getData(),he=b.value.getData(),De=_.value.getData(),ye=x.value.getData();m.value.image_copyright=m.value.image_copyright||"unset",m.value.guides=ie,m.value.places=he,m.value.themes=De,ye.length===0?m.value.mobilities=null:m.value.mobilities=ye,m.value.is_public&&(m.value.price=N.value,m.value.duration=m.value.duration||""),Tn.post("/tours",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Xe=>{D.value="Tour wurde erstellt",W.push("/tour-bearbeiten/"+Xe.data.tour.id)}).catch(Xe=>{console.log(Xe),Xe.response.status===401?sessionStorage.removeItem("token"):(window.alert("Tour konnte nicht erstellt werden"),D.value="Tour erstellen")})};return Ia(async()=>{xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:ie=>{ie.on("init",()=>{ie.setContent("<p>Starte hier mit der Beschreibung deiner Tour.</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),Jm(()=>{xn.remove()}),(ie,he)=>{const De=Fa("router-Link");return Ve(),qe("main",null,[z("div",ole,[ile,at(De,{to:"/",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1})]),ule,z("div",sle,[z("div",lle,[cle,fle,z("div",vle,[at(tr,{lang:"de",title:"Titel der Tour"},{content:Rt(()=>[In(z("input",{type:"text",for:"title",placeholder:"Titel","onUpdate:modelValue":he[0]||(he[0]=ye=>m.value["name:de"]=ye)},null,512),[[Hn,m.value["name:de"]]])]),_:1}),at(tr,{lang:"en",title:"title of the tour"},{content:Rt(()=>[In(z("input",{type:"text",for:"title",placeholder:"Title","onUpdate:modelValue":he[1]||(he[1]=ye=>m.value["name:en"]=ye)},null,512),[[Hn,m.value["name:en"]]])]),_:1})]),z("div",dle,[at(tr,{lang:"de",title:"Beschreibung der Tour"},{content:Rt(()=>[In(z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de","onUpdate:modelValue":he[2]||(he[2]=ye=>m.value["description:de"]=ye)},null,512),[[Hn,m.value["description:de"]]])]),_:1}),at(tr,{lang:"en",title:"Description of the tour"},{content:Rt(()=>[In(z("textarea",{for:"description",placeholder:"Description",id:"editor_en","onUpdate:modelValue":he[3]||(he[3]=ye=>m.value["description:en"]=ye)},null,512),[[Hn,m.value["description:en"]]])]),_:1})]),z("div",mle,[hle,gle,T.value.length>0?(Ve(),qe("div",ple,[(Ve(!0),qe(_r,null,$a(T.value,ye=>(Ve(),qe("div",{class:"image",key:ye.id},[z("button",{class:"removeImage",onClick:Xe=>$e(ye.id),draggable:"true",onDrop:Xe=>ie.reorderImages(ye.id),onDragover:he[4]||(he[4]=(...Xe)=>ie.allowDrop&&ie.allowDrop(...Xe)),onDragstart:he[5]||(he[5]=(...Xe)=>ie.dragImage&&ie.dragImage(...Xe))},wle,40,ble),z("img",{src:ye.url},null,8,Cle)]))),128))])):ur("",!0),z("input",{type:"file",onChange:q},null,32),z("p",_le,Kn(H.value),1),H.value?(Ve(),qe("button",{key:1,class:"button-primary",onClick:J,disabled:V.value},Kn(V.value?"Komprimiere Bild...":"Bild verkleinern"),9,Sle)):ur("",!0),xle,In(z("input",{type:"text","onUpdate:modelValue":he[6]||(he[6]=ye=>m.value.image_copyright=ye),placeholder:"Bild Copyright"},null,512),[[Hn,m.value.image_copyright]])]),z("div",kle,[at(P5,{value:m.value.is_public,titel:"Öffentliche Tour",onInput:he[7]||(he[7]=ye=>m.value.is_public=ye)},null,8,["value"]),m.value.is_public?(Ve(),qe("div",Ale,[Ele,z("div",Tle,[Ole,In(z("input",{type:"date","onUpdate:modelValue":he[8]||(he[8]=ye=>m.value.date=ye)},null,512),[[Hn,m.value.date]])]),z("div",Dle,[Rle,In(z("input",{type:"text","onUpdate:modelValue":he[9]||(he[9]=ye=>m.value.duration=ye),placeholder:"bspw. 14:30 Uhr"},null,512),[[Hn,m.value.duration]])]),z("div",$le,[Ble,In(z("input",{type:"text","onUpdate:modelValue":he[10]||(he[10]=ye=>m.value.price=ye),placeholder:"bspw. 10.50€"},null,512),[[Hn,m.value.price]])]),at(P5,{value:m.value.needs_registration,titel:"Anmeldung erforderlich",onInput:he[11]||(he[11]=ye=>m.value.needs_registration=ye)},null,8,["value"])])):ur("",!0)])]),z("div",Mle,[z("div",Ple,[Ile,Nle,at(yG,{ref_key:"guideSelect",ref:y},null,512)]),z("div",zle,[Fle,Lle,at(wG,{ref_key:"ortSelect",ref:b},null,512)]),z("div",Hle,[Vle,Ule,at(CG,{ref_key:"kategorieSelect",ref:_},null,512)]),z("div",Wle,[jle,Gle,at(a8,{ref_key:"mobilitySelect",ref:x},null,512)]),z("div",qle,[Kle,Xle,z("div",Yle,[In(z("select",{"onUpdate:modelValue":he[12]||(he[12]=ye=>m.value.status=ye)},Qle,512),[[X6,m.value.status]])]),z("button",{class:"button-primary",onClick:Be},Kn(D.value),1),z("div",ece,[(Ve(!0),qe(_r,null,$a(M.value,ye=>(Ve(),qe("p",{key:ye},Kn(ye),1))),128))])])])])])}}},nce=n2(tce,[["__scopeId","data-v-a972bb0a"]]);const rce={default:{name:"TourDateSetter",props:{dates:{type:String,required:!0,default:[]}}},data(){return{dates:[],date:"",addDate:!1,isEditing:!1,editingId:null,guides:[],guidesToSelect:[],error:"",tourId:parseInt(this.$route.params.id)}},methods:{addDateEntry(){if(this.error="",!this.date||this.date==="")if(new Date(this.date)==="Invalid Date"){this.error="Bitte geben Sie ein gültiges Datum ein.";return}else{this.error="Bitte geben Sie ein Datum ein.";return}if(!this.guide||this.guide===""){this.error="Bitte wählen Sie einen Guide aus.";return}this.isEditing?Tn.put(`/tour_dates/${this.editingId}`,{date:this.date,guide_id:this.guide},{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(f=>{const m=this.dates.findIndex(y=>y.id===this.editingId);console.log(m),this.dates[m].date=this.date,this.isEditing=!1,this.date="",this.addDate=!1,this.$forceUpdate()}).catch(f=>{f.response.status===401?(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload()):this.error="Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut."}):Tn.post("/tour_dates",{date:this.date,tour_id:this.tourId,guide_id:this.guide},{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(f=>{this.dates.push({id:f.data.id,date:f.data.date,guide:this.guidesToSelect.find(m=>m.id===this.guide)}),this.date="",this.guide="",this.addDate=!1}).catch(f=>{f.response.status===401?(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload()):this.error="Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut."})},EditDateEntry(f){this.isEditing=!0,this.addDate=!0,this.date=f.date,this.editingId=f.id},RemoveDateEntry(f){Tn.delete(`/tour_dates/${f.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(m=>{this.dates=this.dates.filter(y=>y.id!==f.id)}).catch(m=>{m.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})}},mounted(){Tn.get(`/tour_dates/${this.tourId}`).then(f=>{this.dates=f.data.tour_dates.tourDates||[],this.guides=f.data.guides||[],console.log(this.dates)}).catch(f=>{f.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())}),Tn.get("/guides?preview=true&per_page=300&fields=id").then(f=>{this.guidesToSelect=f.data.guides.data}).catch(f=>{f.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})}},ace={class:"date-picker"},oce=z("h5",null,"Tour Termine",-1),ice={key:0,class:"date-picker-container"},uce={for:"date"},sce={for:"guide"},lce={class:"date-picker-actions"},cce=["onClick"],fce=z("img",{src:$d,width:"20",height:"20"},null,-1),vce=[fce],dce=["onClick"],mce=z("img",{src:Df,width:"20",height:"20"},null,-1),hce=[mce],gce={key:1,class:"date-picker-container"},pce=z("div",{class:"date-picker-item"},[z("label",{for:"date"},"Keine Termine angelegt")],-1),bce=[pce],yce={key:2,class:"date-picker-add"},wce=["value"],Cce={key:3,class:"error"},_ce=["disabled"];function Sce(f,m,y,b,_,x){return Ve(),qe("div",ace,[oce,_.dates.length>0?(Ve(),qe("div",ice,[(Ve(!0),qe(_r,null,$a(_.dates,T=>(Ve(),qe("div",{key:T.id,class:"date-picker-item"},[z("label",uce,Kn(new Date(T.date).toLocaleDateString("de-DE")),1),z("label",sce,Kn(T.guide?T.guide.name:"Kein Guide zugewiesen"),1),z("div",lce,[z("div",{onClick:D=>x.EditDateEntry(T)},vce,8,cce),z("div",{onClick:D=>x.RemoveDateEntry(T)},hce,8,dce)])]))),128))])):(Ve(),qe("div",gce,bce)),_.addDate?(Ve(),qe("div",yce,[In(z("input",{type:"date","onUpdate:modelValue":m[0]||(m[0]=T=>_.date=T)},null,512),[[Hn,_.date]]),In(z("select",{"onUpdate:modelValue":m[1]||(m[1]=T=>f.guide=T)},[(Ve(!0),qe(_r,null,$a(_.guidesToSelect,T=>(Ve(),qe("option",{key:T.id,value:T.id},Kn(T.name),9,wce))),128))],512),[[X6,f.guide]]),z("button",{class:"button-primary",onClick:m[2]||(m[2]=T=>x.addDateEntry())},"Speichern"),z("button",{class:"button-primary",onClick:m[3]||(m[3]=T=>(_.addDate=!1,_.isEditing=!1))}," Abbrechen ")])):ur("",!0),_.error?(Ve(),qe("span",Cce,Kn(_.error),1)):ur("",!0),z("button",{class:"button-primary",onClick:m[4]||(m[4]=T=>_.addDate=!0),disabled:_.addDate}," Termin hinzufügen ",8,_ce)])}const xce=n2(rce,[["render",Sce]]);const Zi=f=>(U_("data-v-86f0b280"),f=f(),W_(),f),kce={class:"row"},Ace=Zi(()=>z("h1",null,"Tour bearbeiten",-1)),Ece=Zi(()=>z("hr",{class:"divider"},null,-1)),Tce={class:"creation-grid"},Oce={class:"main-content"},Dce=Zi(()=>z("h4",null,"Allgemeine Informationen",-1)),Rce=Zi(()=>z("hr",{class:"divider"},null,-1)),$ce={class:"row content-row"},Bce={class:"row content-row"},Mce={class:"content-row"},Pce=Zi(()=>z("h4",null,"Bilder",-1)),Ice=Zi(()=>z("hr",{class:"divider"},null,-1)),Nce={key:0,class:"images"},zce=["onClick","onDrop"],Fce=Zi(()=>z("img",{src:Df,width:"25",height:"25"},null,-1)),Lce=[Fce],Hce=["src"],Vce={class:"error"},Uce=["disabled"],Wce=Zi(()=>z("div",{class:"divider"},null,-1)),jce={class:"content-row"},Gce={key:0},qce=Zi(()=>z("hr",{class:"divider"},null,-1)),Kce={class:"input-container"},Xce={class:"input-container"},Yce=Zi(()=>z("h5",null,"Wann startet diese Tour",-1)),Zce={class:"input-container"},Jce=Zi(()=>z("h5",null,"Preis",-1)),Qce={class:"creation-sidebar"},efe={class:"sidebar-item"},tfe=Zi(()=>z("h4",null,"Guide hinzufügen",-1)),nfe=Zi(()=>z("hr",{class:"divider"},null,-1)),rfe={class:"sidebar-item"},afe=Zi(()=>z("h4",null,"Ort hinzufügen",-1)),ofe=Zi(()=>z("hr",{class:"divider"},null,-1)),ife={class:"sidebar-item"},ufe=Zi(()=>z("h4",null,"Kategorien hinzufügen",-1)),sfe=Zi(()=>z("hr",{class:"divider"},null,-1)),lfe={class:"sidebar-item"},cfe=Zi(()=>z("h4",null,"Mobilität hinzufügen",-1)),ffe=Zi(()=>z("hr",{class:"divider"},null,-1)),vfe={class:"sidebar-item"},dfe=Zi(()=>z("h4",null,"Veröffentlichen",-1)),mfe=Zi(()=>z("hr",{class:"divider"},null,-1)),hfe={class:"input-container"},gfe=Zi(()=>z("option",{value:"draft"},"Entwurf",-1)),pfe=Zi(()=>z("option",{value:"published"},"Veröffentlichen",-1)),bfe=[gfe,pfe],yfe={class:"errorMessages"},wfe={__name:"Edit",setup(f){const m=wt({"name:de":"","name:en":"","description:de":"","description:en":"",status:"draft",is_public:!1,date:new Date,duration:null,needs_registration:!1,mobilities:null,price:0,guides:[],places:[],images:[],main_image:null,image_copyright:"",themes:[],created_at:null,updated_at:null}),y=wt(null),b=wt(null),_=wt(null),x=wt(null);wt(null);const T=wt([]),D=wt(!0),M=wt("Aktualisieren"),W=Qm(),{id:N}=W.params,H=bl(),I=wt([]),V=ri(()=>typeof m.value.price=="number"?m.value.price:m.value.price.replace(",",".").replace(/[^0-9.]/g,"")),J=()=>{Tn.get("/tours/"+N,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(le=>{try{T.value=le.data.tour.images,m.value["name:de"]=le.data.tour.translations[0].name,m.value["name:en"]=le.data.tour.translations[1].name,m.value["description:de"]=le.data.tour.translations[0].description,m.value["description:en"]=le.data.tour.translations[1].description,m.value.status=le.data.tour.status,m.value.is_public=le.data.tour.is_public,m.value.duration=le.data.tour.duration,m.value.needs_registration=le.data.tour.needs_registration,m.value.mobilities=le.data.tour.mobilities||null,m.value.price=le.data.tour.price,m.value.guides=le.data.tour.guides,m.value.places=le.data.tour.places,m.value.images=le.data.tour.images,m.value.main_image=le.data.tour.main_image,m.value.image_copyright=le.data.tour.image_copyright||"unset",m.value.themes=le.data.tour.themes,m.value.created_at=le.data.tour.created_at,m.value.updated_at=le.data.tour.updated_at,xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:se=>{se.on("init",()=>{console.log("Editor is initialized."),xn.get("editor_de").setContent(m.value["description:de"]||""),xn.get("editor_en").setContent(m.value["description:en"]||"")})}}),D.value=!1}catch(se){console.log(se),window.alert("Tour konnte nicht geladen werden")}document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}).catch(le=>{le.response.status===401?sessionStorage.removeItem("token"):window.alert("Tour konnte nicht geladen werden")})},q=()=>{if(T.value.length===0){T.value=null;return}let le=[];for(let se=0;se<T.value.length;se++)le.push(T.value[se].id);m.value.images=le,m.value.main_image=T.value[0].id,T.value.length===0&&(m.value.main_image=null)},$e=wt(""),me=wt(null),Be=wt(!1),ie=()=>{Be.value=!0;const le={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};me.value&&hl(me.value,le).then(se=>{const Ee=new FormData;Ee.append("file",se),Tn.post("/media",Ee,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(We=>{T.value.push(We.data.media),Be.value=!1}).catch(We=>{console.log(We),window.alert("Fehler beim Upload des Bildes"),Be.value=null})}).catch(se=>{console.log(se),window.alert("Fehler beim Komprimieren des Bildes")})},he=le=>{$e.value="";const se=le.target.files,Ee=se[0].size/1024/1024;if(Ee>1){$e.value="Bild("+Ee.toFixed(2)+"MB) ist zu groß (max. 1MB)",me.value=se[0];return}if(se)for(let We=0;We<se.length;We++){const ne=se[We],j=new FormData;j.append("file",ne),Tn.post("/media",j,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ke=>{T.value.push(ke.data.media)}).catch(ke=>{console.log(ke),window.alert("Fehler beim Upload des Bildes")})}},De=le=>{T.value=T.value.filter(se=>se.id!==le)},ye=()=>(I.value=[],T.value.length===0&&I.value.push("Es muss mindestens ein Bild hochgeladen werden"),m.value.is_public&&(m.value.date===null&&I.value.push("Datum der Tour ist ein Pflichtfeld"),m.value.duration===null&&I.value.push("Dauer der Tour ist ein Pflichtfeld"),m.value.price===null&&I.value.push("Preis der Tour ist ein Pflichtfeld")),I.value.length===0),Xe=()=>{if(!ye())return;M.value="Tour wird aktualisiert...",q(),m.value["description:de"]=xn.get("editor_de").getContent(),m.value["description:en"]=xn.get("editor_en").getContent();const le=y.value.getData(),se=b.value.getData(),Ee=_.value.getData(),We=x.value.getData();m.value.image_copyright=m.value.image_copyright||"unset",m.value.guides=le,m.value.places=se,m.value.themes=Ee,We.length===0?m.value.mobilities=null:m.value.mobilities=We,m.value.is_public&&(m.value.price=V.value,m.value.duration=m.value.duration||""),m.value.date=null,Tn.patch("/tours/"+N,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ne=>{M.value="Erfolgreich Aktualisiert",window.onbeforeunload=null,setTimeout(()=>{H.push("/touren")},1e3)}).catch(ne=>{console.log(ne),ne.response.status===401?sessionStorage.removeItem("token"):(window.alert("Tour konnte nicht aktualisiert werden"),M.value="Aktualisieren")})};return Ia(()=>{J()}),Jm(()=>{xn.remove()}),(le,se)=>{const Ee=Fa("router-Link");return Ve(),qe("main",null,[z("div",kce,[Ace,at(Ee,{to:"/",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1})]),Ece,z("div",Tce,[z("div",Oce,[Dce,Rce,z("div",$ce,[at(tr,{lang:"de",title:"Titel der Tour"},{content:Rt(()=>[In(z("input",{type:"text",for:"title",placeholder:"Titel","onUpdate:modelValue":se[0]||(se[0]=We=>m.value["name:de"]=We)},null,512),[[Hn,m.value["name:de"]]])]),_:1}),at(tr,{lang:"en",title:"title of the tour"},{content:Rt(()=>[In(z("input",{type:"text",for:"title",placeholder:"Title","onUpdate:modelValue":se[1]||(se[1]=We=>m.value["name:en"]=We)},null,512),[[Hn,m.value["name:en"]]])]),_:1})]),z("div",Bce,[at(tr,{lang:"de",title:"Beschreibung der Tour"},{content:Rt(()=>[In(z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de","onUpdate:modelValue":se[2]||(se[2]=We=>m.value["description:de"]=We)},null,512),[[Hn,m.value["description:de"]]])]),_:1}),at(tr,{lang:"en",title:"Description of the tour"},{content:Rt(()=>[In(z("textarea",{for:"description",placeholder:"Description",id:"editor_en","onUpdate:modelValue":se[3]||(se[3]=We=>m.value["description:en"]=We)},null,512),[[Hn,m.value["description:en"]]])]),_:1})]),z("div",Mce,[Pce,Ice,T.value.length>0?(Ve(),qe("div",Nce,[(Ve(!0),qe(_r,null,$a(T.value,We=>(Ve(),qe("div",{class:"image",key:We.id},[z("button",{class:"removeImage",onClick:ne=>De(We.id),draggable:"true",onDrop:ne=>le.reorderImages(We.id),onDragover:se[4]||(se[4]=(...ne)=>le.allowDrop&&le.allowDrop(...ne)),onDragstart:se[5]||(se[5]=(...ne)=>le.dragImage&&le.dragImage(...ne))},Lce,40,zce),z("img",{src:We.url},null,8,Hce)]))),128))])):ur("",!0),z("input",{type:"file",onChange:he},null,32),z("p",Vce,Kn($e.value),1),$e.value?(Ve(),qe("button",{key:1,class:"button-primary",onClick:ie,disabled:Be.value},Kn(Be.value?"Komprimiere Bild...":"Bild verkleinern"),9,Uce)):ur("",!0),Wce,In(z("input",{type:"text","onUpdate:modelValue":se[6]||(se[6]=We=>m.value.image_copyright=We),placeholder:"Bild Copyright"},null,512),[[Hn,m.value.image_copyright]])]),z("div",jce,[at(P5,{value:m.value.is_public,titel:"Öffentliche Tour",onInput:se[7]||(se[7]=We=>m.value.is_public=We)},null,8,["value"]),m.value.is_public?(Ve(),qe("div",Gce,[qce,z("div",Kce,[at(xce)]),z("div",Xce,[Yce,In(z("input",{type:"text","onUpdate:modelValue":se[8]||(se[8]=We=>m.value.duration=We),placeholder:"bspw. 14:30 Uhr"},null,512),[[Hn,m.value.duration]])]),z("div",Zce,[Jce,In(z("input",{type:"text","onUpdate:modelValue":se[9]||(se[9]=We=>m.value.price=We)},null,512),[[Hn,m.value.price]])]),at(P5,{value:m.value.needs_registration,titel:"Anmeldung erforderlich",onInput:se[10]||(se[10]=We=>m.value.needs_registration=We)},null,8,["value"])])):ur("",!0)])]),z("div",Qce,[z("div",efe,[tfe,nfe,at(yG,{ref_key:"guideSelect",ref:y,selectedGuides:m.value.guides},null,8,["selectedGuides"])]),z("div",rfe,[afe,ofe,at(wG,{ref_key:"ortSelect",ref:b,selectedplaces:m.value.places},null,8,["selectedplaces"])]),z("div",ife,[ufe,sfe,at(CG,{ref_key:"kategorieSelect",ref:_,selectedthemes:m.value.themes},null,8,["selectedthemes"])]),z("div",lfe,[cfe,ffe,at(a8,{ref_key:"mobilitySelect",ref:x,selectedMobilites:m.value.mobilities},null,8,["selectedMobilites"])]),z("div",vfe,[dfe,mfe,z("p",null," Erstellt am: "+Kn(new Date(m.value.created_at).toLocaleString("de-DE")),1),z("p",null," Bearbeitet am: "+Kn(new Date(m.value.updated_at).toLocaleString("de-DE")),1),z("div",hfe,[In(z("select",{"onUpdate:modelValue":se[11]||(se[11]=We=>m.value.status=We)},bfe,512),[[X6,m.value.status]])]),z("button",{class:"button-primary",onClick:Xe},Kn(M.value),1),z("div",yfe,[(Ve(!0),qe(_r,null,$a(I.value,We=>(Ve(),qe("p",{key:We},Kn(We),1))),128))])])])])])}}},Cfe=n2(wfe,[["__scopeId","data-v-86f0b280"]]),_fe={class:"row"},Sfe=z("h1",null,"Alle Guides",-1),xfe=z("hr",{class:"divider"},null,-1),kfe=z("img",{src:$d,width:"20"},null,-1),Afe=["onClick"],Efe=z("img",{src:Df,width:"20"},null,-1),Tfe=[Efe],Ofe={__name:"Overview",setup(f){const m=wt([]),y=wt(!1),b=wt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Tn.get("/guides?admin=true&per_page=200").then(T=>{y.value=!1,m.value=T.data.guides.data}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{window.confirm("Willst du diesen Guide wirklich löschen?")&&Tn.delete(`/guides/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Guide konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return Ia(()=>{_()}),(T,D)=>{const M=Fa("router-link"),W=Fa("RouterLink");return Ve(),qe("main",null,[z("div",_fe,[Sfe,at(M,{to:"/guide-erstellen",class:"button-primary"},{default:Rt(()=>[pr("Guide hinzufügen")]),_:1})]),xfe,at(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Rt(()=>[pr(" Aktionen ")]),tableActions:Rt(N=>[at(W,{to:`/guide-bearbeiten/${N.row.id}`},{default:Rt(()=>[kfe]),_:2},1032,["to"]),z("button",{onClick:H=>x(N.row.id)},Tfe,8,Afe)]),_:1},8,["tableData","tableColumns","loading"])])}}},Dfe={__name:"Create",setup(f){return(m,y)=>(Ve(),qe("main",null,[at(c9)]))}},Rfe={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ve(),qe("main",null,[at(c9,{"edit-mode":!0,id:Ra(y)},null,8,["id"])]))}};const $fe={class:"select-container"},Bfe={class:"chip-container"},Mfe={class:"chip-name"},Pfe=["onClick"],Ife=z("img",{src:r2,alt:"close",width:"15",height:"15"},null,-1),Nfe=[Ife],zfe={key:0,class:"selectable-options"},Ffe=["onClick"],Lfe={class:"option-content"},Hfe={key:0,class:"option-avatar"},Vfe=["src"],Ufe={class:"option-name"},Wfe={key:0,class:"option"},jfe={__name:"TourSelect",props:{selectedTours:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=wt([]),_=wt(!1);wt(!1);const x=wt([]),T=ri(()=>x.value.filter(H=>H.name.toLowerCase().includes(D.value.toLowerCase()))),D=wt(""),M=async()=>(await Tn.get("/tours")).data.tours,W=H=>{b.value.includes(H)||b.value.push(H)};window.addEventListener("click",H=>{H.target.closest(".select-container")||(_.value=!1)});function N(){return b.value.map(H=>H.id)}return m({getData:N}),Ia(async()=>{x.value=await M()}),Dd(()=>y.selectedTours,H=>{H===null?b.value=[]:b.value=H}),(H,I)=>(Ve(),qe("div",null,[z("div",$fe,[z("div",{class:"combobox",onClick:I[1]||(I[1]=V=>_.value=!0)},[z("div",Bfe,[(Ve(!0),qe(_r,null,$a(b.value,V=>(Ve(),qe("div",{class:"chip",key:V.id},[z("div",Mfe,Kn(V.name),1),z("div",{class:"chip-remove",onClick:J=>b.value.splice(b.value.indexOf(V),1)},Nfe,8,Pfe)]))),128))]),_.value||b.value.length===0?In((Ve(),qe("input",{key:0,type:"search","onUpdate:modelValue":I[0]||(I[0]=V=>D.value=V),placeholder:"Name der Tour eingeben"},null,512)),[[Hn,D.value]]):ur("",!0)]),_.value?(Ve(),qe("div",zfe,[(Ve(!0),qe(_r,null,$a(T.value,V=>(Ve(),qe("div",{class:"option",key:V.id,onClick:J=>W(V)},[z("div",Lfe,[V.image?(Ve(),qe("div",Hfe,[z("img",{src:V.image.url,alt:"avatar"},null,8,Vfe)])):ur("",!0),z("div",Ufe,Kn(V.name),1)])],8,Ffe))),128)),T.value.length===0?(Ve(),qe("div",Wfe," Keine Tour mit diesem Namen gefunden ")):ur("",!0)])):ur("",!0)])]))}};const Gfe={class:"profile-container"},qfe=z("h1",null,"Profil Aktualisieren",-1),Kfe=z("hr",{class:"divider"},null,-1),Xfe={class:"row content-row"},Yfe={class:"row content-row"},Zfe=z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Jfe=z("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Qfe={class:"content-row"},eve=z("h3",null,"Guide Eigenschaften",-1),tve=z("hr",{class:"divider"},null,-1),nve={class:"row"},rve={class:"col",style:{width:"23%","min-width":"200px"}},ave=z("span",null,"Zertifikatsauswahl",-1),ove={class:"col",style:{width:"23%","min-width":"200px"}},ive=z("span",null,"Sprachauswahl",-1),uve={class:"col",style:{width:"23%","min-width":"200px"}},sve=z("span",null,"Mobilitätsauswahl",-1),lve={class:"col",style:{width:"23%","min-width":"200px"}},cve=z("span",null,"Themenauswahl",-1),fve={class:"content-row"},vve=z("h3",null,"Touren des Guides",-1),dve=z("hr",{class:"divider"},null,-1),mve={class:"row"},hve={class:"col",style:{width:"100%","min-width":"200px"}},gve=z("span",null,"Touren",-1),pve={class:"content-row"},bve=z("h3",null,"Kontakt",-1),yve=z("hr",{class:"divider"},null,-1),wve={class:"row"},Cve={class:"col"},_ve=z("span",null,"Email",-1),Sve={class:"col"},xve=z("span",null,"Telefon",-1),kve={class:"col"},Ave=z("span",null,"Webseite",-1),Eve={class:"col"},Tve=z("span",null,"Handynummer",-1),Ove={class:"content-row"},Dve=z("h3",null,"Guide Bild",-1),Rve=z("hr",{class:"divider"},null,-1),$ve={key:0,class:"image"},Bve=["src"],Mve={class:"row"},Pve={class:"col"},Ive={class:"content-row"},Nve={class:"errorMessages"},zve=z("h2",{style:{"margin-top":"50px"}},"Passwort ändern",-1),Fve=z("hr",{class:"divider"},null,-1),Lve={class:"content-row"},Hve={class:"row"},Vve={class:"col"},Uve=z("span",null,"Neues Passwort",-1),Wve={class:"col"},jve=z("span",null,"Neues Passwort wiederholen",-1),Gve={__name:"Profile",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1},showButton:{type:Boolean,default:!0}},emits:["closePopup","newGuide"],setup(f,{emit:m}){const y=f,b=wt(null),_=wt(null),x=wt(null),T=wt(null),D=wt(null),M=wt({"name:de":"","name:en":"","description:de":"","description:en":"",contact:{},image:null,languages:[],skills:[],mobility:[],certificates:[]}),W=wt({oldPassword:"",newPassword:"",newPasswordRepeat:""}),N=()=>{if(W.value.newPassword!==W.value.newPasswordRepeat){window.alert("Die Passwörter stimmen nicht überein");return}if(W.value.newPassword.length<6){window.alert("Das Passwort muss mindestens 6 Zeichen lang sein");return}M.tours!==null&&(M.value.tours=M.value.tours.map(se=>se.id)),M.languages!==null&&(M.value.languages=M.value.languages.map(se=>se.id)),M.skills!==null&&(M.value.skills=M.value.skills.map(se=>se.id)),M.mobility!==null&&(M.value.mobility=M.value.mobility.map(se=>se.id)),M.certificates!==null&&(M.value.certificates=M.value.certificates.map(se=>se.id)),typeof M.value.image=="object"&&M.value.image!==null&&(M.value.image=M.value.image.id),M.value["description:de"]=xn.get("editor_de").getContent(),M.value["description:en"]=xn.get("editor_en").getContent();const he=b.value.getData(),De=_.value.getData(),ye=x.value.getData(),Xe=T.value.getData();M.value.certificates=he,M.value.languages=De,M.value.mobility=ye,M.value.skills=Xe;let le=M.value;le.password=W.value.newPassword,Tn.patch(`/guides/${J.params.id}`,le,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(se=>{window.alert("Passwort erfolgreich geändert"),W.value={oldPassword:"",newPassword:"",newPasswordRepeat:""},sessionStorage.removeItem("token"),sessionStorage.removeItem("role"),sessionStorage.removeItem("guideId"),window.location.reload()}).catch(se=>{console.log(se),se.response.status===401?(window.alert("Ihre Sitzung ist abgelaufen. Bitte melden Sie sich erneut an"),sessionStorage.removeItem("token"),window.location.reload()):(window.alert("Fehler beim Ändern des Passworts. "+se.response.data.error),window.location.reload())})},H=wt([]),I=wt("Profil aktualisieren"),V=wt(null),J=Qm(),q=()=>{const he=b.value.getData(),De=_.value.getData(),ye=x.value.getData(),Xe=T.value.getData(),le=D.value.getData();return M.value.certificates=he,M.value.languages=De,M.value.mobility=ye,M.value.skills=Xe,M.value.tours=le,console.log(M.value),H.value=[],M.value["name:de"]===""&&H.value.push("Bitte geben Sie einen Namen (DE) ein"),M.value["name:en"]===""&&H.value.push("Bitte geben Sie einen Namen (EN) ein"),M.value.languages.length===0&&H.value.push("Bitte wählen Sie mindestens eine Sprache aus"),H.value.length===0},$e=()=>{if(!q())return;I.value="Profil wird aktualisiert...",M.tours!==null&&(M.value.tours=M.value.tours.map(se=>se.id)),M.languages!==null&&(M.value.languages=M.value.languages.map(se=>se.id)),M.skills!==null&&(M.value.skills=M.value.skills.map(se=>se.id)),M.mobility!==null&&(M.value.mobility=M.value.mobility.map(se=>se.id)),M.certificates!==null&&(M.value.certificates=M.value.certificates.map(se=>se.id)),M.value.contact.email!=""&&(M.value.email=M.value.contact.email),typeof M.value.image=="object"&&M.value.image!==null&&(M.value.image=M.value.image.id),M.value["description:de"]=xn.get("editor_de").getContent(),M.value["description:en"]=xn.get("editor_en").getContent();const he=b.value.getData(),De=_.value.getData(),ye=x.value.getData(),Xe=T.value.getData(),le=D.value.getData();M.value.certificates=he,M.value.languages=De,M.value.mobility=ye,M.value.skills=Xe,M.value.tours=le,Tn.patch(`/guides/${J.params.id}`,M.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(se=>{I.value="Profil aktualisieren",window.alert("Profil erfolgreich aktualisiert"),window.location.reload()}).catch(se=>{console.log(se),I.value="Profil aktualisieren",se.response.status===401?(window.alert("Ihre Sitzung ist abgelaufen. Bitte melden Sie sich erneut an"),sessionStorage.removeItem("token"),window.location.reload()):window.alert("Fehler beim Aktualisieren des Guides"),window.location.reload()})},me=he=>{const De=he.target.files;if(console.log(De),De)for(let ye=0;ye<De.length;ye++){const Xe=De[ye],le=new FormData;le.append("file",Xe),Tn.post("/media",le,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(se=>{M.value.image=se.data.media.id,V.value=se.data.media.url}).catch(se=>{console.log(se),window.alert("Fehler beim Upload des Bildes")})}};Ia(async()=>{Be(),xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:he=>{he.on("init",()=>{he.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const Be=()=>{Tn.get(`/guides/${J.params.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(he=>{M.value=he.data.guide,M.value["name:de"]=he.data.guide.translations[0].name,M.value["name:en"]=he.data.guide.translations[1].name,M.value["description:de"]=he.data.guide.translations[0].description,M.value["description:en"]=he.data.guide.translations[1].description,he.data.guide.contact!==null&&!Array.isArray(JSON.parse(he.data.guide.contact))?M.value.contact=JSON.parse(he.data.guide.contact):M.value.contact={},V.value=he.data.guide.image?he.data.guide.image[0].url:null,M.value.languages=he.data.guide.languages,M.value.skills=he.data.guide.skills,M.value.mobility=he.data.guide.mobility,M.value.certificates=he.data.guide.certificates,he.data.guide.image!==null&&(V.value=he.data.guide.image[0].url),xn.get("editor_de").setContent(he.data.guide.translations[0].description||""),xn.get("editor_en").setContent(he.data.guide.translations[1].description||""),console.log(M)}).catch(he=>{console.log(he),he.response.status===401?(window.alert("Ihre Sitzung ist abgelaufen. Bitte melden Sie sich erneut an"),sessionStorage.removeItem("token"),window.location.reload()):console.log(he)})},ie=()=>{M.value.image=null,V.value=null};return Jm(()=>{y.insidePopup||xn.remove()}),(he,De)=>(Ve(),qe("div",Gfe,[qfe,Kfe,z("div",Xfe,[at(tr,{lang:"de",title:"Name"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":De[0]||(De[0]=ye=>M.value["name:de"]=ye),placeholder:"Name"},null,512),[[Hn,M.value["name:de"]]])]),_:1}),at(tr,{lang:"en",title:"Name"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":De[1]||(De[1]=ye=>M.value["name:en"]=ye),placeholder:"Name"},null,512),[[Hn,M.value["name:en"]]])]),_:1})]),z("div",Yfe,[at(tr,{lang:"de",title:"Beschreibung"},{content:Rt(()=>[Zfe]),_:1}),at(tr,{lang:"en",title:"Description"},{content:Rt(()=>[Jfe]),_:1})]),z("div",Qfe,[eve,tve,z("div",nve,[z("div",rve,[ave,at(gG,{ref_key:"certificateSelect",ref:b,"selected-certificate":M.value.certificates},null,8,["selected-certificate"])]),z("div",ove,[ive,at(pG,{ref_key:"languageSelect",ref:_,"selected-languages":M.value.languages},null,8,["selected-languages"])]),z("div",uve,[sve,at(a8,{ref_key:"mobilitySelect",ref:x,"selected-mobilites":M.value.mobility},null,8,["selected-mobilites"])]),z("div",lve,[cve,at(bG,{ref_key:"skillSelect",ref:T,"selected-skills":M.value.skills},null,8,["selected-skills"])])])]),z("div",fve,[vve,dve,z("div",mve,[z("div",hve,[gve,at(jfe,{ref_key:"tourSelect",ref:D,"selected-tours":M.value.tours},null,8,["selected-tours"])])])]),z("div",pve,[bve,yve,z("div",wve,[z("div",Cve,[_ve,In(z("input",{type:"text",placeholder:"Email","onUpdate:modelValue":De[2]||(De[2]=ye=>M.value.contact.email=ye)},null,512),[[Hn,M.value.contact.email]])]),z("div",Sve,[xve,In(z("input",{type:"text",placeholder:"Telefon","onUpdate:modelValue":De[3]||(De[3]=ye=>M.value.contact.phone=ye)},null,512),[[Hn,M.value.contact.phone]])]),z("div",kve,[Ave,In(z("input",{type:"text",placeholder:"Webseite","onUpdate:modelValue":De[4]||(De[4]=ye=>M.value.contact.website=ye)},null,512),[[Hn,M.value.contact.website]])]),z("div",Eve,[Tve,In(z("input",{type:"text",placeholder:"Handynummer","onUpdate:modelValue":De[5]||(De[5]=ye=>M.value.contact.mobile=ye)},null,512),[[Hn,M.value.contact.mobile]])])])]),z("div",Ove,[Dve,Rve,V.value?(Ve(),qe("div",$ve,[z("img",{src:V.value},null,8,Bve)])):ur("",!0),V.value?(Ve(),qe("a",{key:1,onClick:ie,class:"removeImage"},"Bild entfernen")):ur("",!0),z("div",Mve,[z("div",Pve,[z("input",{type:"file",onChange:me},null,32)])])]),z("div",Ive,[z("button",{class:"button-primary",onClick:De[6]||(De[6]=ye=>$e())},Kn(I.value),1),z("div",Nve,[(Ve(!0),qe(_r,null,$a(H.value,ye=>(Ve(),qe("p",{key:ye},Kn(ye),1))),128))])]),zve,Fve,z("div",Lve,[z("div",Hve,[z("div",Vve,[Uve,In(z("input",{type:"password",placeholder:"Neues Passwort","onUpdate:modelValue":De[7]||(De[7]=ye=>W.value.newPassword=ye)},null,512),[[Hn,W.value.newPassword]])]),z("div",Wve,[jve,In(z("input",{type:"password",placeholder:"Neues Passwort wiederholen","onUpdate:modelValue":De[8]||(De[8]=ye=>W.value.newPasswordRepeat=ye)},null,512),[[Hn,W.value.newPasswordRepeat]])])]),z("button",{class:"button-primary",style:{"margin-top":"20px"},onClick:De[9]||(De[9]=ye=>N())}," Passwort ändern ")])]))}},qve={class:"row"},Kve=z("h1",null,"Alle Sprachen",-1),Xve=z("hr",{class:"divider"},null,-1),Yve=z("img",{src:$d,width:"20"},null,-1),Zve=["onClick"],Jve=z("img",{src:Df,width:"20"},null,-1),Qve=[Jve],ede={__name:"Overview",setup(f){const m=wt([]),y=wt(!1),b=wt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Tn.get("/languages").then(T=>{y.value=!1,m.value=T.data.languages}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{Tn.delete(`/languages/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Sprache konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return Ia(()=>{_()}),(T,D)=>{const M=Fa("router-link"),W=Fa("RouterLink");return Ve(),qe("main",null,[z("div",qve,[Kve,at(M,{to:"/sprache-erstellen",class:"button-primary"},{default:Rt(()=>[pr("Sprache hinzufügen")]),_:1})]),Xve,at(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Rt(()=>[pr(" Aktionen ")]),tableActions:Rt(N=>[at(W,{to:`/sprache-bearbeiten/${N.row.id}`},{default:Rt(()=>[Yve]),_:2},1032,["to"]),z("button",{onClick:H=>x(N.row.id)},Qve,8,Zve)]),_:1},8,["tableData","tableColumns","loading"])])}}},tde={__name:"Create",setup(f){return(m,y)=>(Ve(),qe("main",null,[at(u9)]))}},nde={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ve(),qe("main",null,[at(u9,{"edit-mode":!0,id:Ra(y)},null,8,["id"])]))}},rde={class:"row"},ade=z("h1",null,"Alle Mobilitäten",-1),ode=z("hr",{class:"divider"},null,-1),ide=z("img",{src:$d,width:"20"},null,-1),ude=["onClick"],sde=z("img",{src:Df,width:"20"},null,-1),lde=[sde],cde={__name:"Overview",setup(f){const m=wt([]),y=wt(!1),b=wt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Tn.get("/mobility").then(T=>{y.value=!1,m.value=T.data.mobilities}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{Tn.delete(`/mobility/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Mobilität konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return Ia(()=>{_()}),(T,D)=>{const M=Fa("router-link"),W=Fa("RouterLink");return Ve(),qe("main",null,[z("div",rde,[ade,at(M,{to:"/mobilitaet-erstellen",class:"button-primary"},{default:Rt(()=>[pr("Mobilität hinzufügen")]),_:1})]),ode,at(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Rt(()=>[pr(" Aktionen ")]),tableActions:Rt(N=>[at(W,{to:`/mobilitaet-bearbeiten/${N.row.id}`},{default:Rt(()=>[ide]),_:2},1032,["to"]),z("button",{onClick:H=>x(N.row.id)},lde,8,ude)]),_:1},8,["tableData","tableColumns","loading"])])}}},fde={__name:"Create",setup(f){return(m,y)=>(Ve(),qe("main",null,[at(l9)]))}},vde={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ve(),qe("main",null,[at(l9,{"edit-mode":!0,id:Ra(y)},null,8,["id"])]))}},dde={class:"row"},mde=z("h1",null,"Alle Orte",-1),hde=z("hr",{class:"divider"},null,-1),gde=z("img",{src:$d,width:"20"},null,-1),pde=["onClick"],bde=z("img",{src:Df,width:"20"},null,-1),yde=[bde],wde={__name:"Overview",setup(f){const m=wt([]),y=wt(!1),b=wt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Tn.get("/places").then(T=>{y.value=!1,m.value=T.data.places}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{Tn.delete(`/places/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Ort konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return Ia(()=>{_()}),(T,D)=>{const M=Fa("router-link"),W=Fa("RouterLink");return Ve(),qe("main",null,[z("div",dde,[mde,at(M,{to:"/ort-erstellen",class:"button-primary"},{default:Rt(()=>[pr("Ort hinzufügen")]),_:1})]),hde,at(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Rt(()=>[pr(" Aktionen ")]),tableActions:Rt(N=>[at(W,{to:`/ort-bearbeiten/${N.row.id}`},{default:Rt(()=>[gde]),_:2},1032,["to"]),z("button",{onClick:H=>x(N.row.id)},yde,8,pde)]),_:1},8,["tableData","tableColumns","loading"])])}}},Cde={__name:"Create",setup(f){return(m,y)=>(Ve(),qe("main",null,[at(f9)]))}},_de={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ve(),qe("main",null,[at(f9,{"edit-mode":!0,id:Ra(y)},null,8,["id"])]))}},Sde={class:"row"},xde=z("h1",null,"Alle Kategorien",-1),kde=z("hr",{class:"divider"},null,-1),Ade=z("img",{src:$d,width:"20"},null,-1),Ede=["onClick"],Tde=z("img",{src:Df,width:"20"},null,-1),Ode=[Tde],Dde={__name:"Overview",setup(f){const m=wt([]),y=wt(!1),b=wt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Tn.get("/themes").then(T=>{y.value=!1,m.value=T.data.themes}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{const D=m.value.find(M=>M.id===T).name;window.confirm(`Möchtest du die Kategorie "${D}" wirklich löschen?`)&&Tn.delete(`/themes/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(M=>{console.log(M),M.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Kategorie konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return Ia(()=>{_()}),(T,D)=>{const M=Fa("router-link"),W=Fa("RouterLink");return Ve(),qe("main",null,[z("div",Sde,[xde,at(M,{to:"/kategorie-erstellen",class:"button-primary"},{default:Rt(()=>[pr("Kategorie hinzufügen")]),_:1})]),kde,at(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Rt(()=>[pr(" Aktionen ")]),tableActions:Rt(N=>[at(W,{to:`/kategorie-bearbeiten/${N.row.id}`},{default:Rt(()=>[Ade]),_:2},1032,["to"]),z("button",{onClick:H=>x(N.row.id)},Ode,8,Ede)]),_:1},8,["tableData","tableColumns","loading"])])}}},Rde={__name:"Create",setup(f){return(m,y)=>(Ve(),qe("main",null,[at(v9)]))}},$de={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ve(),qe("main",null,[at(v9,{"edit-mode":!0,id:Ra(y)},null,8,["id"])]))}},Bde={class:"row"},Mde=z("h1",null,"Alle Zertifikate",-1),Pde=z("hr",{class:"divider"},null,-1),Ide=z("img",{src:$d,width:"20"},null,-1),Nde=["onClick"],zde=z("img",{src:Df,width:"20"},null,-1),Fde=[zde],Lde={__name:"Overview",setup(f){const m=wt([]),y=wt(!1),b=wt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Tn.get("/certificates").then(T=>{y.value=!1,m.value=T.data.certificates}).catch(T=>{y.value=!1,console.log(T),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{Tn.delete(`/certificates/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Das Zertifikat konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return Ia(()=>{_()}),(T,D)=>{const M=Fa("router-link"),W=Fa("RouterLink");return Ve(),qe("main",null,[z("div",Bde,[Mde,at(M,{to:"/zertifikat-erstellen",class:"button-primary"},{default:Rt(()=>[pr("Zertifikat hinzufügen")]),_:1})]),Pde,at(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Rt(()=>[pr(" Aktionen ")]),tableActions:Rt(N=>[at(W,{to:`/zertifikat-bearbeiten/${N.row.id}`},{default:Rt(()=>[Ide]),_:2},1032,["to"]),z("button",{onClick:H=>x(N.row.id)},Fde,8,Nde)]),_:1},8,["tableData","tableColumns","loading"])])}}},Hde={__name:"Create",setup(f){return(m,y)=>(Ve(),qe("main",null,[at(i9)]))}},Vde={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ve(),qe("main",null,[at(i9,{"edit-mode":!0,id:Ra(y)},null,8,["id"])]))}},Ude={class:"row"},Wde=z("div",null,[z("h1",null,"Alle Themen"),z("p",null,"Themen werden Guides Vergeben (Webseite Filter Themen)")],-1),jde=z("hr",{class:"divider"},null,-1),Gde=z("img",{src:$d,width:"20"},null,-1),qde=["onClick"],Kde=z("img",{src:Df,width:"20"},null,-1),Xde=[Kde],Yde={__name:"Overview",setup(f){const m=wt([]),y=wt(!1),b=wt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Tn.get("/skills?preview=true").then(T=>{y.value=!1,m.value=T.data.skills}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{Tn.delete(`/skills/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Skill konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return Ia(()=>{_()}),(T,D)=>{const M=Fa("router-link"),W=Fa("RouterLink");return Ve(),qe("main",null,[z("div",Ude,[Wde,at(M,{to:"/skill-erstellen",class:"button-primary"},{default:Rt(()=>[pr("Thema hinzufügen")]),_:1})]),jde,at(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Rt(()=>[pr(" Aktionen ")]),tableActions:Rt(N=>[at(W,{to:`/skill-bearbeiten/${N.row.id}`},{default:Rt(()=>[Gde]),_:2},1032,["to"]),z("button",{onClick:H=>x(N.row.id)},Xde,8,qde)]),_:1},8,["tableData","tableColumns","loading"])])}}},Zde={__name:"Create",setup(f){return(m,y)=>(Ve(),qe("main",null,[at(s9)]))}},Jde={__name:"Edit",setup(f){const y=Qm().params.id;return(b,_)=>(Ve(),qe("main",null,[at(s9,{"edit-mode":!0,id:Ra(y)},null,8,["id"])]))}},Qde={class:"row"},eme=z("h1",null,"Alle Benutzer",-1),tme=z("hr",{class:"divider"},null,-1),nme=z("img",{src:$d,width:"20"},null,-1),rme=["onClick"],ame=z("img",{src:Df,width:"20"},null,-1),ome=[ame],ime={__name:"Overview",setup(f){const m=wt([]),y=wt(!1),b=wt([{key:"name",title:"Name"},{key:"updated_at",title:"zuletzt aktualisiert"}]),_=()=>{y.value=!0,Tn.get("/users",{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(T=>{y.value=!1,m.value=T.data.users}).catch(T=>{y.value=!1,console.log(T),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{Tn.delete(`/users/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Benutzer konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return Ia(()=>{_()}),(T,D)=>{const M=Fa("router-link"),W=Fa("RouterLink");return Ve(),qe("main",null,[z("div",Qde,[eme,at(M,{to:"/verwaltung-erstellen",class:"button-primary"},{default:Rt(()=>[pr("Benutzer hinzufügen")]),_:1})]),tme,at(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Rt(()=>[pr(" Aktionen ")]),tableActions:Rt(N=>[at(W,{to:`/verwaltung-bearbeiten/${N.row.id}`},{default:Rt(()=>[nme]),_:2},1032,["to"]),z("button",{onClick:H=>x(N.row.id)},ome,8,rme)]),_:1},8,["tableData","tableColumns","loading"])])}}},ume={class:"row"},sme=z("h1",null,"Benutzer erstellen",-1),lme=z("hr",{class:"divider"},null,-1),cme={class:"row content-row"},fme={class:"col",style:{width:"48%","min-width":"200px"}},vme={class:"col",style:{width:"48%","min-width":"200px"}},dme={class:"row content-row"},mme={class:"col",style:{width:"48%","min-width":"200px"}},hme={class:"col",style:{width:"48%","min-width":"200px"}},gme={__name:"Create",setup(f){const m=wt({name:"",email:"",password:"",password_confirmation:""}),y=bl(),b=()=>m.value.password!==m.value.password_confirmation?(alert("Passwörter stimmen nicht überein"),!1):!0,_=()=>{b()&&Tn.post("/auth/register",m.value).then(()=>{y.push("/verwaltung")}).catch(x=>{window.alert("Benutzer konnte nicht erstellt werden. Überprüfe die Email ob diese schon existiert.")})};return(x,T)=>(Ve(),qe("main",null,[z("div",ume,[sme,at(Ra(gl),{to:"/verwaltung",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1})]),lme,z("div",cme,[z("div",fme,[In(z("input",{type:"name",placeholder:"Benutzername",for:"username",name:"username","onUpdate:modelValue":T[0]||(T[0]=D=>m.value.name=D)},null,512),[[Hn,m.value.name]])]),z("div",vme,[In(z("input",{type:"email",placeholder:"Email",for:"email",name:"email","onUpdate:modelValue":T[1]||(T[1]=D=>m.value.email=D)},null,512),[[Hn,m.value.email]])])]),z("div",dme,[z("div",mme,[In(z("input",{type:"password",placeholder:"Passwort",for:"password",name:"password","onUpdate:modelValue":T[2]||(T[2]=D=>m.value.password=D)},null,512),[[Hn,m.value.password]])]),z("div",hme,[In(z("input",{type:"password",placeholder:"Passwort (Wiederholen)",for:"password",name:"password","onUpdate:modelValue":T[3]||(T[3]=D=>m.value.password_confirmation=D)},null,512),[[Hn,m.value.password_confirmation]])])]),z("div",{class:"row content-row"},[z("button",{class:"button-primary",onClick:_}," Benutzer erstellen ")])]))}},pme={class:"row"},bme=z("h1",null,"Benutzer erstellen",-1),yme=z("hr",{class:"divider"},null,-1),wme={class:"row content-row",style:{display:"grid","grid-gap":"16px","grid-template-columns":"1fr 1fr 1fr"}},Cme={class:"col"},_me={class:"col"},Sme={class:"col"},xme=z("option",{value:"admin"},"Admin",-1),kme=z("option",{value:"guide"},"Guide",-1),Ame=z("option",{value:"moderator"},"Redakteur",-1),Eme=[xme,kme,Ame],Tme={class:"row content-row"},Ome={class:"col",style:{width:"48%","min-width":"200px"}},Dme={class:"col",style:{width:"48%","min-width":"200px"}},Rme={__name:"Edit",setup(f){const m=wt({name:"",email:"",password:"",password_confirmation:""}),y=bl(),b=y.currentRoute.value.params.id,_=()=>m.value.password!==m.value.password_confirmation?(alert("Passwörter stimmen nicht überein"),!1):!0,x=()=>{_()&&Tn.patch("/users/"+b,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{y.push("/verwaltung")}).catch(D=>{window.alert("Benutzer konnte nicht erstellt werden")})},T=()=>{Tn.get(`/users/${b}?preview=1`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(D=>{m.value=D.data.user}).catch(D=>{console.log(D)})};return Ia(()=>{T()}),(D,M)=>(Ve(),qe("main",null,[z("div",pme,[bme,at(Ra(gl),{to:"/verwaltung",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1})]),yme,z("div",wme,[z("div",Cme,[In(z("input",{type:"name",placeholder:"Benutzername",for:"username",name:"username","onUpdate:modelValue":M[0]||(M[0]=W=>m.value.name=W)},null,512),[[Hn,m.value.name]])]),z("div",_me,[In(z("input",{type:"email",placeholder:"Email",for:"email",name:"email","onUpdate:modelValue":M[1]||(M[1]=W=>m.value.email=W)},null,512),[[Hn,m.value.email]])]),z("div",Sme,[In(z("select",{"onUpdate:modelValue":M[2]||(M[2]=W=>m.value.role=W)},Eme,512),[[X6,m.value.role]])])]),z("div",Tme,[z("div",Ome,[In(z("input",{type:"password",placeholder:"Passwort",for:"password",name:"password","onUpdate:modelValue":M[3]||(M[3]=W=>m.value.password=W)},null,512),[[Hn,m.value.password]])]),z("div",Dme,[In(z("input",{type:"password",placeholder:"Passwort (Wiederholen)",for:"password",name:"password","onUpdate:modelValue":M[4]||(M[4]=W=>m.value.password_confirmation=W)},null,512),[[Hn,m.value.password_confirmation]])])]),z("div",{class:"row content-row"},[z("button",{class:"button-primary",onClick:x}," Benutzer bearbeiten ")])]))}},$me=z("div",{class:"row"},[z("h1",null,"Alle Seiten")],-1),Bme=z("hr",{class:"divider"},null,-1),Mme=z("img",{src:$d,width:"20"},null,-1),Pme=["onClick"],Ime=z("img",{src:Df,width:"20"},null,-1),Nme=[Ime],zme={__name:"Overview",setup(f){const m=wt([]),y=wt(!1),b=wt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Tn.get("/pages").then(T=>{y.value=!1,m.value=T.data}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{window.confirm("Sind Sie sicher, dass Sie diese Seite löschen möchten?")&&Tn.delete(`/pages/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return Ia(()=>{_()}),(T,D)=>{const M=Fa("RouterLink");return Ve(),qe("main",null,[$me,Bme,at(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Rt(()=>[pr(" Aktionen ")]),tableActions:Rt(W=>[at(M,{to:`/page-bearbeiten/${W.row.id}`},{default:Rt(()=>[Mme]),_:2},1032,["to"]),z("button",{onClick:N=>x(W.row.id)},Nme,8,Pme)]),_:1},8,["tableData","tableColumns","loading"])])}}},Fme={class:"row"},Lme=z("h1",null,"Seite erstellen",-1),Hme=z("hr",{class:"divider"},null,-1),Vme={class:"row content-row"},Ume={class:"row content-row"},Wme=z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),jme={class:"row content-row"},Gme={class:"row content-row"},qme=z("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Kme={class:"content-row"},Xme={class:"errorMessages"},Yme={__name:"Create",setup(f){const m=wt({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""}),y=bl(),b=wt("Erstellen"),_=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen für die Seite ein."),!1):!0,x=()=>{_()&&(b.value="Speichern...",m.value["description:de"]=xn.get("editor_de").getContent(),m.value["description:en"]=xn.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Tn.post("/pages",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,y.push("/pages")}).catch(T=>{b.value="Erstellen",console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gespeichert werden. Bitte versuche es erneut.")}))};return Ia(async()=>{await xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |   bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:T=>{T.on("init",()=>{T.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),j_(()=>{xn.remove()}),(T,D)=>{const M=Fa("router-Link");return Ve(),qe("main",null,[z("div",Fme,[Lme,at(M,{to:"/pages",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1})]),Hme,z("div",Vme,[at(tr,{lang:"de",title:"Titel (DE)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":D[0]||(D[0]=W=>m.value["name:de"]=W),placeholder:"Name"},null,512),[[Hn,m.value["name:de"]]])]),_:1})]),z("div",Ume,[at(tr,{lang:"de",title:"Beschreibung"},{content:Rt(()=>[Wme]),_:1})]),z("div",jme,[at(tr,{lang:"en",title:"Titel (EN)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":D[1]||(D[1]=W=>m.value["name:en"]=W),placeholder:"Name"},null,512),[[Hn,m.value["name:en"]]])]),_:1})]),z("div",Gme,[at(tr,{lang:"en",title:"Description"},{content:Rt(()=>[qme]),_:1})]),z("div",Kme,[z("button",{class:"button-primary",onClick:D[2]||(D[2]=W=>x())},Kn(b.value),1),z("div",Xme,[(Ve(!0),qe(_r,null,$a(T.errors,W=>(Ve(),qe("p",{key:W},Kn(W),1))),128))])])])}}},Zme={class:"row"},Jme=z("h1",null,"Seite erstellen",-1),Qme=z("hr",{class:"divider"},null,-1),ehe={class:"row content-row"},the={class:"row content-row"},nhe=z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),rhe={class:"row content-row"},ahe={class:"row content-row"},ohe=z("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),ihe={class:"content-row"},uhe={class:"errorMessages"},she={__name:"Edit",setup(f){const m=wt({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""}),y=wt("Erstellen"),b=Qm(),_=bl(),x=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen für die Seite ein."),!1):!0,T=()=>{x()&&(y.value="Speichern...",m.value["description:de"]=xn.get("editor_de").getContent(),m.value["description:en"]=xn.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Tn.patch("/pages/"+b.params.id,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,_.push("/pages")}).catch(D=>{y.value="Erstellen",console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gespeichert werden. Bitte versuche es erneut.")}))};return Ia(async()=>{if(b.params.id){const D=await Tn.get(`/pages/${b.params.id}`);m.value["name:de"]=D.data.translations[0].name,m.value["name:en"]=D.data.translations[1].name,m.value["description:de"]=D.data.translations[0].description,m.value["description:en"]=D.data.translations[1].description,m.value.status=D.data.status,y.value="Aktualisieren"}await xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:D=>{D.on("init",()=>{D.setContent("<p></p>")})}}),setTimeout(()=>{xn.get("editor_de").setContent(m.value["description:de"]),xn.get("editor_en").setContent(m.value["description:en"])},100)}),j_(()=>{xn.remove()}),(D,M)=>{const W=Fa("router-Link");return Ve(),qe("main",null,[z("div",Zme,[Jme,at(W,{to:"/pages",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1})]),Qme,z("div",ehe,[at(tr,{lang:"de",title:"Titel (DE)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":M[0]||(M[0]=N=>m.value["name:de"]=N),placeholder:"Name"},null,512),[[Hn,m.value["name:de"]]])]),_:1})]),z("div",the,[at(tr,{lang:"de",title:"Beschreibung"},{content:Rt(()=>[nhe]),_:1})]),z("div",rhe,[at(tr,{lang:"en",title:"Titel (EN)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":M[1]||(M[1]=N=>m.value["name:en"]=N),placeholder:"Name"},null,512),[[Hn,m.value["name:en"]]])]),_:1})]),z("div",ahe,[at(tr,{lang:"en",title:"Description"},{content:Rt(()=>[ohe]),_:1})]),z("div",ihe,[z("button",{class:"button-primary",onClick:M[2]||(M[2]=N=>T())},Kn(y.value),1),z("div",uhe,[(Ve(!0),qe(_r,null,$a(D.errors,N=>(Ve(),qe("p",{key:N},Kn(N),1))),128))])])])}}},lhe={class:"row"},che=z("h1",null,"Alle Beiträge",-1),fhe=z("hr",{class:"divider"},null,-1),vhe=z("img",{src:$d,width:"20"},null,-1),dhe=["onClick"],mhe=z("img",{src:Df,width:"20"},null,-1),hhe=[mhe],ghe={__name:"Overview",setup(f){const m=wt([]),y=wt(!1),b=wt([{key:"name",title:"Name"}]),_=()=>{y.value=!0,Tn.get("/blogs").then(T=>{y.value=!1,m.value=T.data}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},x=T=>{window.confirm("Sind Sie sicher, dass Sie diese Blogbeitrag löschen möchten?")&&Tn.delete(`/blogs/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{_()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht gelöscht werden. Bitte versuche es erneut.")})};return Ia(()=>{_()}),(T,D)=>{const M=Fa("router-link"),W=Fa("RouterLink");return Ve(),qe("main",null,[z("div",lhe,[che,at(M,{to:"/blog-erstellen",class:"button-primary"},{default:Rt(()=>[pr("Beitrag hinzufügen")]),_:1})]),fhe,at(eh,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:Rt(()=>[pr(" Aktionen ")]),tableActions:Rt(N=>[at(W,{to:`/blog-bearbeiten/${N.row.id}`},{default:Rt(()=>[vhe]),_:2},1032,["to"]),z("button",{onClick:H=>x(N.row.id)},hhe,8,dhe)]),_:1},8,["tableData","tableColumns","loading"])])}}};const yA=f=>(U_("data-v-893561e0"),f=f(),W_(),f),phe={class:"row"},bhe=yA(()=>z("h1",null,"Beitrag erstellen",-1)),yhe=yA(()=>z("hr",{class:"divider"},null,-1)),whe={class:"grid-2-cols"},Che={class:"col"},_he={class:"row content-row"},She={class:"row content-row"},xhe=yA(()=>z("textarea",{for:"short_description",placeholder:"Beschreibung",id:"short_description_editor_de"},null,-1)),khe={class:"row content-row"},Ahe={key:0,class:"imageUploader"},Ehe={class:"row content-row"},The={class:"row"},Ohe=yA(()=>z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1)),Dhe={class:"col"},Rhe={class:"row content-row"},$he={class:"row content-row"},Bhe=yA(()=>z("textarea",{for:"short_description",placeholder:"Beschreibung",id:"short_description_editor_en"},null,-1)),Mhe={class:"row content-row"},Phe=yA(()=>z("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1)),Ihe={class:"content-row"},Nhe={class:"errorMessages"},zhe={__name:"Create",setup(f){const m=wt({"name:de":"","name:en":"","description:de":"","description:en":"","short_description:de":"","short_description:en":"",status:"entwurf",slug:""});wt(null);const y=wt(!1),b=wt("Erstellen"),_=bl(),x=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen für die Blogbeitrag ein."),!1):!0,T=()=>{x()&&(b.value="Speichern...",m.value["description:de"]=xn.get("editor_de").getContent(),m.value["description:en"]=xn.get("editor_en").getContent(),m.value["short_description:de"]=xn.get("short_description_editor_de").getContent(),m.value["short_description:en"]=xn.get("short_description_editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Tn.post("/blogs",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,_.push("/blog")}).catch(W=>{b.value="Erstellen",console.log(W),W.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht erstellt werden. Bitte versuche es erneut.")}))},D=W=>{const N=new FormData;N.append("file",W.target.files[0]),Tn.post("/media",N,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(H=>{D.value=H.data.media.url}).catch(H=>{console.log(H),H.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})},M=()=>{xn.get("editor_de").execCommand("mceInsertContent",!1,`<img src="${D.value}" />`),xn.get("editor_en").execCommand("mceInsertContent",!1,`<img src="${D.value}" />`),y.value=!1};return Ia(async()=>{await xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |   bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:300,setup:W=>{W.on("init",()=>{W.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),j_(()=>{xn.remove()}),(W,N)=>{const H=Fa("router-Link");return Ve(),qe("main",null,[z("div",phe,[bhe,at(H,{to:"/blog",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1})]),yhe,z("div",whe,[z("div",Che,[z("div",_he,[at(tr,{lang:"de",title:"Titel (DE)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":N[0]||(N[0]=I=>m.value["name:de"]=I),placeholder:"Name"},null,512),[[Hn,m.value["name:de"]]])]),_:1})]),z("div",She,[at(tr,{lang:"de",title:"Kurzbeschreibung"},{content:Rt(()=>[xhe]),_:1})]),z("div",khe,[at(tr,{lang:"de",title:"Inhalt der Seite"},{content:Rt(()=>[z("button",{class:"button-primary",style:{"margin-bottom":"10px",width:"max-content"},onClick:N[1]||(N[1]=I=>y.value=!0)}," Bild hochladen "),y.value?(Ve(),qe("div",Ahe,[z("div",Ehe,[z("input",{type:"file",onChange:D},null,32)]),z("div",The,[z("button",{class:"button-primary",onClick:M}," Bild einsetzen "),z("button",{class:"button-secondary",onClick:N[2]||(N[2]=I=>y.value=!1)}," Abbrechen ")])])):ur("",!0),Ohe]),_:1})])]),z("div",Dhe,[z("div",Rhe,[at(tr,{lang:"en",title:"Titel (EN)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":N[3]||(N[3]=I=>m.value["name:en"]=I),placeholder:"Name"},null,512),[[Hn,m.value["name:en"]]])]),_:1})]),z("div",$he,[at(tr,{lang:"en",title:"Short Description"},{content:Rt(()=>[Bhe]),_:1})]),z("div",Mhe,[at(tr,{lang:"en",title:"Content of the Page"},{content:Rt(()=>[Phe]),_:1})])])]),z("div",Ihe,[z("button",{class:"button-primary",onClick:N[4]||(N[4]=I=>T())},Kn(b.value),1),z("div",Nhe,[(Ve(!0),qe(_r,null,$a(W.errors,I=>(Ve(),qe("p",{key:I},Kn(I),1))),128))])])])}}},Fhe=n2(zhe,[["__scopeId","data-v-893561e0"]]);const wA=f=>(U_("data-v-99e04713"),f=f(),W_(),f),Lhe={class:"row"},Hhe=wA(()=>z("h1",null,"Beitrag bearbeiten",-1)),Vhe=wA(()=>z("hr",{class:"divider"},null,-1)),Uhe={class:"row content-row"},Whe={class:"row content-row"},jhe=wA(()=>z("textarea",{for:"short_description",placeholder:"Beschreibung",id:"short_description_editor_de"},null,-1)),Ghe={class:"row content-row"},qhe={key:0,class:"imageUploader"},Khe={class:"row content-row"},Xhe={class:"row"},Yhe=wA(()=>z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1)),Zhe={class:"row content-row"},Jhe={class:"row content-row"},Qhe=wA(()=>z("textarea",{for:"short_description",placeholder:"Beschreibung",id:"short_description_editor_en"},null,-1)),ege={class:"row content-row"},tge=wA(()=>z("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1)),nge={class:"content-row"},rge={class:"errorMessages"},age={__name:"Edit",setup(f){const m=wt({"name:de":"","name:en":"","description:de":"","description:en":"","short_description:de":"","short_description:en":"",status:"veröffentlicht",slug:""});wt(null);const y=wt(!1),b=wt("Erstellen"),_=bl(),x=Qm(),T=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen für die Blogbeitrag ein."),!1):!0,D=()=>{T()&&(b.value="Speichern...",m.value["description:de"]=xn.get("editor_de").getContent(),m.value["description:en"]=xn.get("editor_en").getContent(),m.value["short_description:de"]=xn.get("short_description_editor_de").getContent(),m.value["short_description:en"]=xn.get("short_description_editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Tn.patch("/blogs/"+x.params.id,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,_.push("/blog")}).catch(N=>{b.value="Erstellen",console.log(N),N.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht gespeichert werden. Bitte versuche es erneut.")}))},M=N=>{const H=new FormData;H.append("file",N.target.files[0]),Tn.post("/media",H,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{M.value=I.data.media.url}).catch(I=>{console.log(I),I.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})},W=()=>{xn.get("editor_de").execCommand("mceInsertContent",!1,`<img src="${M.value}" />`),xn.get("editor_en").execCommand("mceInsertContent",!1,`<img src="${M.value}" />`),y.value=!1};return Ia(async()=>{if(x.params.id){const N=await Tn.get(`/blogs/${x.params.id}`);m.value["name:de"]=N.data.translations[0].name,m.value["name:en"]=N.data.translations[1].name,m.value["description:de"]=N.data.translations[0].description,m.value["description:en"]=N.data.translations[1].description,m.value["short_description:de"]=N.data.translations[0].short_description,m.value["short_description:en"]=N.data.translations[1].short_description,m.value.status=N.data.status,b.value="Aktualisieren"}await xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:300,setup:N=>{N.on("init",()=>{N.setContent("<p></p>")})}}),setTimeout(()=>{xn.get("editor_de").setContent(m.value["description:de"]),xn.get("editor_en").setContent(m.value["description:en"]),xn.get("short_description_editor_de").setContent(m.value["short_description:de"]),xn.get("short_description_editor_en").setContent(m.value["short_description:en"])},100)}),j_(()=>{xn.remove()}),(N,H)=>{const I=Fa("router-Link");return Ve(),qe("main",null,[z("div",Lhe,[Hhe,at(I,{to:"/blog",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1})]),Vhe,z("div",Uhe,[at(tr,{lang:"de",title:"Titel (DE)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":H[0]||(H[0]=V=>m.value["name:de"]=V),placeholder:"Name"},null,512),[[Hn,m.value["name:de"]]])]),_:1})]),z("div",Whe,[at(tr,{lang:"de",title:"Kurzbeschreibung"},{content:Rt(()=>[jhe]),_:1})]),z("div",Ghe,[at(tr,{lang:"de",title:"Beschreibung"},{content:Rt(()=>[z("button",{class:"button-primary",style:{"margin-bottom":"10px",width:"max-content"},onClick:H[1]||(H[1]=V=>y.value=!0)}," Bild hochladen "),y.value?(Ve(),qe("div",qhe,[z("div",Khe,[z("input",{type:"file",onChange:M},null,32)]),z("div",Xhe,[z("button",{class:"button-primary",onClick:W}," Bild einsetzen "),z("button",{class:"button-secondary",onClick:H[2]||(H[2]=V=>y.value=!1)}," Abbrechen ")])])):ur("",!0),Yhe]),_:1})]),z("div",Zhe,[at(tr,{lang:"en",title:"Titel (EN)"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":H[3]||(H[3]=V=>m.value["name:en"]=V),placeholder:"Name"},null,512),[[Hn,m.value["name:en"]]])]),_:1})]),z("div",Jhe,[at(tr,{lang:"en",title:"Short Description"},{content:Rt(()=>[Qhe]),_:1})]),z("div",ege,[at(tr,{lang:"en",title:"Description"},{content:Rt(()=>[tge]),_:1})]),z("div",nge,[z("button",{class:"button-primary",onClick:H[4]||(H[4]=V=>D())},Kn(b.value),1),z("div",rge,[(Ve(!0),qe(_r,null,$a(N.errors,V=>(Ve(),qe("p",{key:V},Kn(V),1))),128))])])])}}},oge=n2(age,[["__scopeId","data-v-99e04713"]]);const fp=f=>(U_("data-v-bfceeda6"),f=f(),W_(),f),ige={class:"row"},uge=fp(()=>z("h1",null,"Startseite Texte",-1)),sge=fp(()=>z("hr",{class:"divider"},null,-1)),lge={class:"grid-2-cols"},cge={class:"col"},fge={class:"row content-row"},vge={class:"row content-row"},dge=fp(()=>z("textarea",{for:"short_description",placeholder:"Beschreibung",id:"landing_component_description_de"},null,-1)),mge={class:"row content-row"},hge={class:"row content-row"},gge=fp(()=>z("textarea",{for:"short_description",placeholder:"Beschreibung",id:"tour_component_description_de"},null,-1)),pge={class:"row content-row"},bge={class:"row content-row"},yge=fp(()=>z("textarea",{for:"short_description",placeholder:"Beschreibung",id:"public_tour_component_description_de"},null,-1)),wge={class:"row content-row"},Cge={class:"row content-row"},_ge=fp(()=>z("textarea",{for:"short_description",placeholder:"Beschreibung",id:"guide_component_description_de"},null,-1)),Sge={class:"col"},xge={class:"row content-row"},kge={class:"row content-row"},Age=fp(()=>z("textarea",{for:"short_description",placeholder:"Beschreibung",id:"landing_component_description_en"},null,-1)),Ege={class:"row content-row"},Tge={class:"row content-row"},Oge=fp(()=>z("textarea",{for:"short_description",placeholder:"Beschreibung",id:"tour_component_description_en"},null,-1)),Dge={class:"row content-row"},Rge={class:"row content-row"},$ge=fp(()=>z("textarea",{for:"short_description",placeholder:"Beschreibung",id:"public_tour_component_description_en"},null,-1)),Bge={class:"row content-row"},Mge={class:"row content-row"},Pge=fp(()=>z("textarea",{for:"short_description",placeholder:"Beschreibung",id:"guide_component_description_en"},null,-1)),Ige={class:"content-row"},Nge={class:"errorMessages"},zge={__name:"Create",setup(f){const m=wt({"landing_component_title:de":"","landing_component_title:en":"","landing_component_description:de":"","landing_component_description:en":"","tour_component_title:de":"","tour_component_title:en":"","tour_component_description:de":"","tour_component_description:en":"","public_tour_component_title:de":"","public_tour_component_title:en":"","public_tour_component_description:de":"","public_tour_component_description:en":"","guide_component_title:de":"","guide_component_title:en":"","guide_component_description:de":"","guide_component_description:en":""}),y=wt("Erstellen"),b=bl(),_=()=>{y.value="Speichern...",m.value["landing_component_description:de"]=xn.get("landing_component_description_de").getContent()||"",m.value["landing_component_description:en"]=xn.get("landing_component_description_en").getContent()||"",m.value["tour_component_description:de"]=xn.get("tour_component_description_de").getContent()||"",m.value["tour_component_description:en"]=xn.get("tour_component_description_en").getContent()||"",m.value["public_tour_component_description:de"]=xn.get("public_tour_component_description_de").getContent()||"",m.value["public_tour_component_description:en"]=xn.get("public_tour_component_description_en").getContent()||"",m.value["guide_component_description:de"]=xn.get("guide_component_description_de").getContent()||"",m.value["guide_component_description:en"]=xn.get("guide_component_description_en").getContent()||"",Tn.patch("/landingpages/4",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,b.push("/")}).catch(T=>{y.value="Erstellen",console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht erstellt werden. Bitte versuche es erneut.")})};Ia(async()=>{await xn.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:th.toString()+`
`+nh.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |   bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:300,setup:T=>{T.on("init",()=>{T.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0}),x()});const x=()=>{Tn.get("/landingpages/4",{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(T=>{m.value=T.data,xn.get("landing_component_description_de").setContent(T.data.translations[0].landing_component_description||""),xn.get("landing_component_description_en").setContent(T.data.translations[1].landing_component_description||""),xn.get("tour_component_description_de").setContent(T.data.translations[0].tour_component_description||""),xn.get("tour_component_description_en").setContent(T.data.translations[1].tour_component_description||""),xn.get("public_tour_component_description_de").setContent(T.data.translations[0].public_tour_component_description||""),xn.get("public_tour_component_description_en").setContent(T.data.translations[1].public_tour_component_description||""),xn.get("guide_component_description_de").setContent(T.data.translations[0].guide_component_description||""),xn.get("guide_component_description_en").setContent(T.data.translations[1].guide_component_description||""),m.value["landing_component_title:de"]=T.data.translations[0].landing_component_title||"",m.value["landing_component_title:en"]=T.data.translations[1].landing_component_title||"",m.value["tour_component_title:de"]=T.data.translations[0].tour_component_title||"",m.value["tour_component_title:en"]=T.data.translations[1].tour_component_title||"",m.value["public_tour_component_title:de"]=T.data.translations[0].public_tour_component_title||"",m.value["public_tour_component_title:en"]=T.data.translations[1].public_tour_component_title||"",m.value["guide_component_title:de"]=T.data.translations[0].guide_component_title||"",m.value["guide_component_title:en"]=T.data.translations[1].guide_component_title||""}).catch(T=>{console.log(T),T.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})};return j_(()=>{xn.remove()}),(T,D)=>{const M=Fa("router-Link");return Ve(),qe("main",null,[z("div",ige,[uge,at(M,{to:"/",class:"button-primary"},{default:Rt(()=>[pr("Abbrechen")]),_:1})]),sge,z("div",lge,[z("div",cge,[z("div",fge,[at(tr,{lang:"de",title:"Überschrift"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":D[0]||(D[0]=W=>m.value["landing_component_title:de"]=W),placeholder:"Name"},null,512),[[Hn,m.value["landing_component_title:de"]]])]),_:1})]),z("div",vge,[at(tr,{lang:"de",title:"Text"},{content:Rt(()=>[dge]),_:1})]),z("div",mge,[at(tr,{lang:"de",title:"Überschrift"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":D[1]||(D[1]=W=>m.value["tour_component_title:de"]=W),placeholder:"Name"},null,512),[[Hn,m.value["tour_component_title:de"]]])]),_:1})]),z("div",hge,[at(tr,{lang:"de",title:"Text"},{content:Rt(()=>[gge]),_:1})]),z("div",pge,[at(tr,{lang:"de",title:"Überschrift"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":D[2]||(D[2]=W=>m.value["public_tour_component_title:de"]=W),placeholder:"Name"},null,512),[[Hn,m.value["public_tour_component_title:de"]]])]),_:1})]),z("div",bge,[at(tr,{lang:"de",title:"Text"},{content:Rt(()=>[yge]),_:1})]),z("div",wge,[at(tr,{lang:"de",title:"Überschrift"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":D[3]||(D[3]=W=>m.value["guide_component_title:de"]=W),placeholder:"Name"},null,512),[[Hn,m.value["guide_component_title:de"]]])]),_:1})]),z("div",Cge,[at(tr,{lang:"de",title:"Text"},{content:Rt(()=>[_ge]),_:1})])]),z("div",Sge,[z("div",xge,[at(tr,{lang:"en",title:"Überschrift"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":D[4]||(D[4]=W=>m.value["landing_component_title:en"]=W),placeholder:"Name"},null,512),[[Hn,m.value["landing_component_title:en"]]])]),_:1})]),z("div",kge,[at(tr,{lang:"en",title:"Text"},{content:Rt(()=>[Age]),_:1})]),z("div",Ege,[at(tr,{lang:"en",title:"Überschrift"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":D[5]||(D[5]=W=>m.value["tour_component_title:en"]=W),placeholder:"Name"},null,512),[[Hn,m.value["tour_component_title:en"]]])]),_:1})]),z("div",Tge,[at(tr,{lang:"en",title:"Text"},{content:Rt(()=>[Oge]),_:1})]),z("div",Dge,[at(tr,{lang:"en",title:"Überschrift"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":D[6]||(D[6]=W=>m.value["public_tour_component_title:en"]=W),placeholder:"Name"},null,512),[[Hn,m.value["public_tour_component_title:en"]]])]),_:1})]),z("div",Rge,[at(tr,{lang:"en",title:"Text"},{content:Rt(()=>[$ge]),_:1})]),z("div",Bge,[at(tr,{lang:"en",title:"Überschrift"},{content:Rt(()=>[In(z("input",{type:"text","onUpdate:modelValue":D[7]||(D[7]=W=>m.value["guide_component_title:en"]=W),placeholder:"Name"},null,512),[[Hn,m.value["guide_component_title:en"]]])]),_:1})]),z("div",Mge,[at(tr,{lang:"en",title:"Text"},{content:Rt(()=>[Pge]),_:1})])])]),z("div",Ige,[z("button",{class:"button-primary",onClick:D[8]||(D[8]=W=>_())},Kn(y.value),1),z("div",Nge,[(Ve(!0),qe(_r,null,$a(T.errors,W=>(Ve(),qe("p",{key:W},Kn(W),1))),128))])])])}}},Fge=n2(zge,[["__scopeId","data-v-bfceeda6"]]);const Lge=z("h1",null,"Dashboard",-1),Hge=z("hr",{class:"divider"},null,-1),Vge={class:"content-row"},Uge={key:0,class:"col"},Wge=z("h2",null,"Empfohlene Vorgehensweise",-1),jge=z("hr",{class:"divider"},null,-1),Gge=z("h3",null,"Zuerst Zertifikate, Sprachen und Guides erstellen",-1),qge=z("p",null," Es ist ratsam, zuerst Guides und ihre Attribute anzulegen, da dies den Aufwand während der Tour-Erstellung verringert. ",-1),Kge={class:"col",style:{margin:"5px 0"}},Xge={class:"col",style:{margin:"5px 0"}},Yge={class:"col",style:{margin:"5px 0"}},Zge=z("h3",null,"Touren erstellen",-1),Jge=z("p",null," Nachdem Sie Guides, Sprachen und Zertifikate erstellt und verknüpft haben, können Sie mit dem Anlegen der Touren beginnen. Wenn Sie während der Tour-Erstellung feststellen, dass Sie einen Guide oder ein Zertifikat vergessen haben, können Sie diese auch während des Vorgangs erstellen. ",-1),Qge={class:"col",style:{margin:"5px 0"}},epe={key:1,class:"col"},tpe=z("h2",null,"Empfohlene Vorgehensweise",-1),npe=z("hr",{class:"divider"},null,-1),rpe=z("h3",null,"Zuerst Zertifikate, Sprachen und Guides erstellen",-1),ape=z("p",null," Es ist ratsam, zuerst Guides und ihre Attribute anzulegen, da dies den Aufwand während der Tour-Erstellung verringert. ",-1),ope={class:"col",style:{margin:"5px 0"}},ipe={class:"col",style:{margin:"5px 0"}},upe={class:"col",style:{margin:"5px 0"}},spe=z("h3",null,"Touren erstellen",-1),lpe=z("p",null," Nachdem Sie Guides, Sprachen und Zertifikate erstellt und verknüpft haben, können Sie mit dem Anlegen der Touren beginnen. Wenn Sie während der Tour-Erstellung feststellen, dass Sie einen Guide oder ein Zertifikat vergessen haben, können Sie diese auch während des Vorgangs erstellen. ",-1),cpe={class:"col",style:{margin:"5px 0"}},fpe={__name:"GettingStarted",setup(f){const m=sessionStorage.getItem("role");return(y,b)=>{const _=Fa("router-link");return Ve(),qe("div",null,[Lge,Hge,z("div",Vge,[Ra(m)==="admin"?(Ve(),qe("div",Uge,[Wge,jge,z("ol",null,[z("li",null,[Gge,qge,z("div",Kge,[at(_,{style:{display:"inline-block"},to:"/guides",class:"button-primary"},{default:Rt(()=>[pr("Guides")]),_:1})]),z("div",Xge,[at(_,{style:{display:"inline-block"},to:"/sprachen",class:"button-primary"},{default:Rt(()=>[pr("Sprachen")]),_:1})]),z("div",Yge,[at(_,{style:{display:"inline-block"},to:"/zertifikate",class:"button-primary"},{default:Rt(()=>[pr("Zertifikate")]),_:1})])]),z("li",null,[Zge,Jge,z("div",Qge,[at(_,{style:{display:"inline-block"},to:"/touren",class:"button-primary"},{default:Rt(()=>[pr("Touren")]),_:1})])])])])):Ra(m)==="moderator"?(Ve(),qe("div",epe,[tpe,npe,z("ol",null,[z("li",null,[rpe,ape,z("div",ope,[at(_,{style:{display:"inline-block"},to:"/guides",class:"button-primary"},{default:Rt(()=>[pr("Guides")]),_:1})]),z("div",ipe,[at(_,{style:{display:"inline-block"},to:"/sprachen",class:"button-primary"},{default:Rt(()=>[pr("Sprachen")]),_:1})]),z("div",upe,[at(_,{style:{display:"inline-block"},to:"/zertifikate",class:"button-primary"},{default:Rt(()=>[pr("Zertifikate")]),_:1})])]),z("li",null,[spe,lpe,z("div",cpe,[at(_,{style:{display:"inline-block"},to:"/touren",class:"button-primary"},{default:Rt(()=>[pr("Touren")]),_:1})])])])])):ur("",!0)])])}}},vpe=Nne({history:tne("/"),routes:[{path:"/",name:"getting-started",component:fpe},{path:"/touren",name:"home",component:eoe},{path:"/tour-erstellen",name:"touren",component:nce},{path:"/tour-bearbeiten/:id",name:"tour-bearbeiten",component:Cfe},{path:"/guides",name:"guides",component:Ofe},{path:"/guide-erstellen",name:"guide-erstellen",component:Dfe},{path:"/guide-bearbeiten/:id",name:"guide-bearbeiten",component:Rfe},{path:"/profile/:id",name:"profile",component:Gve},{path:"/sprachen",name:"sprachen",component:ede},{path:"/sprache-erstellen",name:"sprache-erstellen",component:tde},{path:"/sprache-bearbeiten/:id",name:"sprache-bearbeiten",component:nde},{path:"/mobilitaet",name:"mobilität",component:cde},{path:"/mobilitaet-erstellen",name:"mobilitaet-erstellen",component:fde},{path:"/mobilitaet-bearbeiten/:id",name:"mobilitaet-bearbeiten",component:vde},{path:"/orte",name:"orte",component:wde},{path:"/ort-erstellen",name:"ort-erstellen",component:Cde},{path:"/ort-bearbeiten/:id",name:"ort-bearbeiten",component:_de},{path:"/kategorien",name:"kategorien",component:Dde},{path:"/kategorie-erstellen",name:"kategorie-erstellen",component:Rde},{path:"/kategorie-bearbeiten/:id",name:"kategorie-bearbeiten",component:$de},{path:"/zertifikate",name:"zertifikate",component:Lde},{path:"/zertifikat-erstellen",name:"zertifikat-erstellen",component:Hde},{path:"/zertifikat-bearbeiten/:id",name:"zertifikat-bearbeiten",component:Vde},{path:"/skills",name:"skills",component:Yde},{path:"/skill-erstellen",name:"skill-erstellen",component:Zde},{path:"/skill-bearbeiten/:id",name:"skill-bearbeiten",component:Jde},{path:"/verwaltung",name:"verwaltung",component:ime},{path:"/verwaltung-erstellen",name:"verwaltung-erstellen",component:gme},{path:"/verwaltung-bearbeiten/:id",name:"verwaltung-bearbeiten",component:Rme},{path:"/pages",name:"pages",component:zme},{path:"/page-erstellen",name:"page-erstellen",component:Yme},{path:"/page-bearbeiten/:id",name:"page-bearbeiten",component:she},{path:"/blog",name:"blog",component:ghe},{path:"/blog-erstellen",name:"blog-erstellen",component:Fhe},{path:"/blog-bearbeiten/:id",name:"blog-bearbeiten",component:oge},{path:"/startseite",name:"startseite",component:Fge}],scrollBehavior(f,m,y){return{top:0}}});Tn.defaults.baseURL="https://api.hamburger-gaestefuehrer.de/api";Tn.defaults.headers.common["Access-Control-Allow-Origin"]="*";Tn.defaults.headers.common["Content-Type"]="application/json";Tn.defaults.withCredentials=!0;const d9=Ate(Dae);d9.use(Dte());d9.use(vpe);d9.mount("#app");
