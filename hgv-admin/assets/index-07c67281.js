(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))y(S);new MutationObserver(S=>{for(const _ of S)if(_.type==="childList")for(const T of _.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&y(T)}).observe(document,{childList:!0,subtree:!0});function b(S){const _={};return S.integrity&&(_.integrity=S.integrity),S.referrerPolicy&&(_.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?_.credentials="include":S.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function y(S){if(S.ep)return;S.ep=!0;const _=b(S);fetch(S.href,_)}})();function DH(f,m){const b=Object.create(null),y=f.split(",");for(let S=0;S<y.length;S++)b[y[S]]=!0;return m?S=>!!b[S.toLowerCase()]:S=>!!b[S]}const wi={},a3=[],Gm=()=>{},nQ=()=>!1,rQ=/^on[^a-z]/,$6=f=>rQ.test(f),RH=f=>f.startsWith("onUpdate:"),js=Object.assign,$H=(f,m)=>{const b=f.indexOf(m);b>-1&&f.splice(b,1)},aQ=Object.prototype.hasOwnProperty,Qa=(f,m)=>aQ.call(f,m),Fr=Array.isArray,o3=f=>M5(f)==="[object Map]",B6=f=>M5(f)==="[object Set]",wU=f=>M5(f)==="[object Date]",ba=f=>typeof f=="function",Cs=f=>typeof f=="string",k5=f=>typeof f=="symbol",ai=f=>f!==null&&typeof f=="object",TW=f=>ai(f)&&ba(f.then)&&ba(f.catch),OW=Object.prototype.toString,M5=f=>OW.call(f),oQ=f=>M5(f).slice(8,-1),DW=f=>M5(f)==="[object Object]",BH=f=>Cs(f)&&f!=="NaN"&&f[0]!=="-"&&""+parseInt(f,10)===f,i6=DH(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),M6=f=>{const m=Object.create(null);return b=>m[b]||(m[b]=f(b))},iQ=/-(\w)/g,op=M6(f=>f.replace(iQ,(m,b)=>b?b.toUpperCase():"")),uQ=/\B([A-Z])/g,HS=M6(f=>f.replace(uQ,"-$1").toLowerCase()),P6=M6(f=>f.charAt(0).toUpperCase()+f.slice(1)),Y7=M6(f=>f?`on${P6(f)}`:""),A5=(f,m)=>!Object.is(f,m),u6=(f,m)=>{for(let b=0;b<f.length;b++)f[b](m)},h6=(f,m,b)=>{Object.defineProperty(f,m,{configurable:!0,enumerable:!1,value:b})},g6=f=>{const m=parseFloat(f);return isNaN(m)?f:m};let CU;const cH=()=>CU||(CU=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function I6(f){if(Fr(f)){const m={};for(let b=0;b<f.length;b++){const y=f[b],S=Cs(y)?fQ(y):I6(y);if(S)for(const _ in S)m[_]=S[_]}return m}else{if(Cs(f))return f;if(ai(f))return f}}const sQ=/;(?![^(]*\))/g,lQ=/:([^]+)/,cQ=/\/\*[^]*?\*\//g;function fQ(f){const m={};return f.replace(cQ,"").split(sQ).forEach(b=>{if(b){const y=b.split(lQ);y.length>1&&(m[y[0].trim()]=y[1].trim())}}),m}function N6(f){let m="";if(Cs(f))m=f;else if(Fr(f))for(let b=0;b<f.length;b++){const y=N6(f[b]);y&&(m+=y+" ")}else if(ai(f))for(const b in f)f[b]&&(m+=b+" ");return m.trim()}const vQ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dQ=DH(vQ);function RW(f){return!!f||f===""}function mQ(f,m){if(f.length!==m.length)return!1;let b=!0;for(let y=0;b&&y<f.length;y++)b=z6(f[y],m[y]);return b}function z6(f,m){if(f===m)return!0;let b=wU(f),y=wU(m);if(b||y)return b&&y?f.getTime()===m.getTime():!1;if(b=k5(f),y=k5(m),b||y)return f===m;if(b=Fr(f),y=Fr(m),b||y)return b&&y?mQ(f,m):!1;if(b=ai(f),y=ai(m),b||y){if(!b||!y)return!1;const S=Object.keys(f).length,_=Object.keys(m).length;if(S!==_)return!1;for(const T in f){const D=f.hasOwnProperty(T),F=m.hasOwnProperty(T);if(D&&!F||!D&&F||!z6(f[T],m[T]))return!1}}return String(f)===String(m)}function hQ(f,m){return f.findIndex(b=>z6(b,m))}const nr=f=>Cs(f)?f:f==null?"":Fr(f)||ai(f)&&(f.toString===OW||!ba(f.toString))?JSON.stringify(f,$W,2):String(f),$W=(f,m)=>m&&m.__v_isRef?$W(f,m.value):o3(m)?{[`Map(${m.size})`]:[...m.entries()].reduce((b,[y,S])=>(b[`${y} =>`]=S,b),{})}:B6(m)?{[`Set(${m.size})`]:[...m.values()]}:ai(m)&&!Fr(m)&&!DW(m)?String(m):m;let Vm;class BW{constructor(m=!1){this.detached=m,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Vm,!m&&Vm&&(this.index=(Vm.scopes||(Vm.scopes=[])).push(this)-1)}get active(){return this._active}run(m){if(this._active){const b=Vm;try{return Vm=this,m()}finally{Vm=b}}}on(){Vm=this}off(){Vm=this.parent}stop(m){if(this._active){let b,y;for(b=0,y=this.effects.length;b<y;b++)this.effects[b].stop();for(b=0,y=this.cleanups.length;b<y;b++)this.cleanups[b]();if(this.scopes)for(b=0,y=this.scopes.length;b<y;b++)this.scopes[b].stop(!0);if(!this.detached&&this.parent&&!m){const S=this.parent.scopes.pop();S&&S!==this&&(this.parent.scopes[this.index]=S,S.index=this.index)}this.parent=void 0,this._active=!1}}}function gQ(f){return new BW(f)}function pQ(f,m=Vm){m&&m.active&&m.effects.push(f)}function bQ(){return Vm}const MH=f=>{const m=new Set(f);return m.w=0,m.n=0,m},MW=f=>(f.w&Qy)>0,PW=f=>(f.n&Qy)>0,yQ=({deps:f})=>{if(f.length)for(let m=0;m<f.length;m++)f[m].w|=Qy},wQ=f=>{const{deps:m}=f;if(m.length){let b=0;for(let y=0;y<m.length;y++){const S=m[y];MW(S)&&!PW(S)?S.delete(f):m[b++]=S,S.w&=~Qy,S.n&=~Qy}m.length=b}},fH=new WeakMap;let b5=0,Qy=1;const vH=30;let Um;const FS=Symbol(""),dH=Symbol("");class PH{constructor(m,b=null,y){this.fn=m,this.scheduler=b,this.active=!0,this.deps=[],this.parent=void 0,pQ(this,y)}run(){if(!this.active)return this.fn();let m=Um,b=Jy;for(;m;){if(m===this)return;m=m.parent}try{return this.parent=Um,Um=this,Jy=!0,Qy=1<<++b5,b5<=vH?yQ(this):SU(this),this.fn()}finally{b5<=vH&&wQ(this),Qy=1<<--b5,Um=this.parent,Jy=b,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Um===this?this.deferStop=!0:this.active&&(SU(this),this.onStop&&this.onStop(),this.active=!1)}}function SU(f){const{deps:m}=f;if(m.length){for(let b=0;b<m.length;b++)m[b].delete(f);m.length=0}}let Jy=!0;const IW=[];function m3(){IW.push(Jy),Jy=!1}function h3(){const f=IW.pop();Jy=f===void 0?!0:f}function Ef(f,m,b){if(Jy&&Um){let y=fH.get(f);y||fH.set(f,y=new Map);let S=y.get(b);S||y.set(b,S=MH()),NW(S)}}function NW(f,m){let b=!1;b5<=vH?PW(f)||(f.n|=Qy,b=!MW(f)):b=!f.has(Um),b&&(f.add(Um),Um.deps.push(f))}function ab(f,m,b,y,S,_){const T=fH.get(f);if(!T)return;let D=[];if(m==="clear")D=[...T.values()];else if(b==="length"&&Fr(f)){const F=Number(y);T.forEach((W,I)=>{(I==="length"||I>=F)&&D.push(W)})}else switch(b!==void 0&&D.push(T.get(b)),m){case"add":Fr(f)?BH(b)&&D.push(T.get("length")):(D.push(T.get(FS)),o3(f)&&D.push(T.get(dH)));break;case"delete":Fr(f)||(D.push(T.get(FS)),o3(f)&&D.push(T.get(dH)));break;case"set":o3(f)&&D.push(T.get(FS));break}if(D.length===1)D[0]&&mH(D[0]);else{const F=[];for(const W of D)W&&F.push(...W);mH(MH(F))}}function mH(f,m){const b=Fr(f)?f:[...f];for(const y of b)y.computed&&_U(y);for(const y of b)y.computed||_U(y)}function _U(f,m){(f!==Um||f.allowRecurse)&&(f.scheduler?f.scheduler():f.run())}const CQ=DH("__proto__,__v_isRef,__isVue"),zW=new Set(Object.getOwnPropertyNames(Symbol).filter(f=>f!=="arguments"&&f!=="caller").map(f=>Symbol[f]).filter(k5)),SQ=IH(),_Q=IH(!1,!0),xQ=IH(!0),xU=kQ();function kQ(){const f={};return["includes","indexOf","lastIndexOf"].forEach(m=>{f[m]=function(...b){const y=go(this);for(let _=0,T=this.length;_<T;_++)Ef(y,"get",_+"");const S=y[m](...b);return S===-1||S===!1?y[m](...b.map(go)):S}}),["push","pop","shift","unshift","splice"].forEach(m=>{f[m]=function(...b){m3();const y=go(this)[m].apply(this,b);return h3(),y}}),f}function AQ(f){const m=go(this);return Ef(m,"has",f),m.hasOwnProperty(f)}function IH(f=!1,m=!1){return function(y,S,_){if(S==="__v_isReactive")return!f;if(S==="__v_isReadonly")return f;if(S==="__v_isShallow")return m;if(S==="__v_raw"&&_===(f?m?VQ:UW:m?VW:HW).get(y))return y;const T=Fr(y);if(!f){if(T&&Qa(xU,S))return Reflect.get(xU,S,_);if(S==="hasOwnProperty")return AQ}const D=Reflect.get(y,S,_);return(k5(S)?zW.has(S):CQ(S))||(f||Ef(y,"get",S),m)?D:Gl(D)?T&&BH(S)?D:D.value:ai(D)?f?jW(D):L6(D):D}}const EQ=FW(),TQ=FW(!0);function FW(f=!1){return function(b,y,S,_){let T=b[y];if(s3(T)&&Gl(T)&&!Gl(S))return!1;if(!f&&(!p6(S)&&!s3(S)&&(T=go(T),S=go(S)),!Fr(b)&&Gl(T)&&!Gl(S)))return T.value=S,!0;const D=Fr(b)&&BH(y)?Number(y)<b.length:Qa(b,y),F=Reflect.set(b,y,S,_);return b===go(_)&&(D?A5(S,T)&&ab(b,"set",y,S):ab(b,"add",y,S)),F}}function OQ(f,m){const b=Qa(f,m);f[m];const y=Reflect.deleteProperty(f,m);return y&&b&&ab(f,"delete",m,void 0),y}function DQ(f,m){const b=Reflect.has(f,m);return(!k5(m)||!zW.has(m))&&Ef(f,"has",m),b}function RQ(f){return Ef(f,"iterate",Fr(f)?"length":FS),Reflect.ownKeys(f)}const LW={get:SQ,set:EQ,deleteProperty:OQ,has:DQ,ownKeys:RQ},$Q={get:xQ,set(f,m){return!0},deleteProperty(f,m){return!0}},BQ=js({},LW,{get:_Q,set:TQ}),NH=f=>f,F6=f=>Reflect.getPrototypeOf(f);function e6(f,m,b=!1,y=!1){f=f.__v_raw;const S=go(f),_=go(m);b||(m!==_&&Ef(S,"get",m),Ef(S,"get",_));const{has:T}=F6(S),D=y?NH:b?HH:E5;if(T.call(S,m))return D(f.get(m));if(T.call(S,_))return D(f.get(_));f!==S&&f.get(m)}function t6(f,m=!1){const b=this.__v_raw,y=go(b),S=go(f);return m||(f!==S&&Ef(y,"has",f),Ef(y,"has",S)),f===S?b.has(f):b.has(f)||b.has(S)}function n6(f,m=!1){return f=f.__v_raw,!m&&Ef(go(f),"iterate",FS),Reflect.get(f,"size",f)}function kU(f){f=go(f);const m=go(this);return F6(m).has.call(m,f)||(m.add(f),ab(m,"add",f,f)),this}function AU(f,m){m=go(m);const b=go(this),{has:y,get:S}=F6(b);let _=y.call(b,f);_||(f=go(f),_=y.call(b,f));const T=S.call(b,f);return b.set(f,m),_?A5(m,T)&&ab(b,"set",f,m):ab(b,"add",f,m),this}function EU(f){const m=go(this),{has:b,get:y}=F6(m);let S=b.call(m,f);S||(f=go(f),S=b.call(m,f)),y&&y.call(m,f);const _=m.delete(f);return S&&ab(m,"delete",f,void 0),_}function TU(){const f=go(this),m=f.size!==0,b=f.clear();return m&&ab(f,"clear",void 0,void 0),b}function r6(f,m){return function(y,S){const _=this,T=_.__v_raw,D=go(T),F=m?NH:f?HH:E5;return!f&&Ef(D,"iterate",FS),T.forEach((W,I)=>y.call(S,F(W),F(I),_))}}function a6(f,m,b){return function(...y){const S=this.__v_raw,_=go(S),T=o3(_),D=f==="entries"||f===Symbol.iterator&&T,F=f==="keys"&&T,W=S[f](...y),I=b?NH:m?HH:E5;return!m&&Ef(_,"iterate",F?dH:FS),{next(){const{value:L,done:P}=W.next();return P?{value:L,done:P}:{value:D?[I(L[0]),I(L[1])]:I(L),done:P}},[Symbol.iterator](){return this}}}}function Gy(f){return function(...m){return f==="delete"?!1:this}}function MQ(){const f={get(_){return e6(this,_)},get size(){return n6(this)},has:t6,add:kU,set:AU,delete:EU,clear:TU,forEach:r6(!1,!1)},m={get(_){return e6(this,_,!1,!0)},get size(){return n6(this)},has:t6,add:kU,set:AU,delete:EU,clear:TU,forEach:r6(!1,!0)},b={get(_){return e6(this,_,!0)},get size(){return n6(this,!0)},has(_){return t6.call(this,_,!0)},add:Gy("add"),set:Gy("set"),delete:Gy("delete"),clear:Gy("clear"),forEach:r6(!0,!1)},y={get(_){return e6(this,_,!0,!0)},get size(){return n6(this,!0)},has(_){return t6.call(this,_,!0)},add:Gy("add"),set:Gy("set"),delete:Gy("delete"),clear:Gy("clear"),forEach:r6(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(_=>{f[_]=a6(_,!1,!1),b[_]=a6(_,!0,!1),m[_]=a6(_,!1,!0),y[_]=a6(_,!0,!0)}),[f,b,m,y]}const[PQ,IQ,NQ,zQ]=MQ();function zH(f,m){const b=m?f?zQ:NQ:f?IQ:PQ;return(y,S,_)=>S==="__v_isReactive"?!f:S==="__v_isReadonly"?f:S==="__v_raw"?y:Reflect.get(Qa(b,S)&&S in y?b:y,S,_)}const FQ={get:zH(!1,!1)},LQ={get:zH(!1,!0)},HQ={get:zH(!0,!1)},HW=new WeakMap,VW=new WeakMap,UW=new WeakMap,VQ=new WeakMap;function UQ(f){switch(f){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function WQ(f){return f.__v_skip||!Object.isExtensible(f)?0:UQ(oQ(f))}function L6(f){return s3(f)?f:FH(f,!1,LW,FQ,HW)}function WW(f){return FH(f,!1,BQ,LQ,VW)}function jW(f){return FH(f,!0,$Q,HQ,UW)}function FH(f,m,b,y,S){if(!ai(f)||f.__v_raw&&!(m&&f.__v_isReactive))return f;const _=S.get(f);if(_)return _;const T=WQ(f);if(T===0)return f;const D=new Proxy(f,T===2?y:b);return S.set(f,D),D}function i3(f){return s3(f)?i3(f.__v_raw):!!(f&&f.__v_isReactive)}function s3(f){return!!(f&&f.__v_isReadonly)}function p6(f){return!!(f&&f.__v_isShallow)}function GW(f){return i3(f)||s3(f)}function go(f){const m=f&&f.__v_raw;return m?go(m):f}function LH(f){return h6(f,"__v_skip",!0),f}const E5=f=>ai(f)?L6(f):f,HH=f=>ai(f)?jW(f):f;function qW(f){Jy&&Um&&(f=go(f),NW(f.dep||(f.dep=MH())))}function KW(f,m){f=go(f);const b=f.dep;b&&mH(b)}function Gl(f){return!!(f&&f.__v_isRef===!0)}function Bt(f){return XW(f,!1)}function jQ(f){return XW(f,!0)}function XW(f,m){return Gl(f)?f:new GQ(f,m)}class GQ{constructor(m,b){this.__v_isShallow=b,this.dep=void 0,this.__v_isRef=!0,this._rawValue=b?m:go(m),this._value=b?m:E5(m)}get value(){return qW(this),this._value}set value(m){const b=this.__v_isShallow||p6(m)||s3(m);m=b?m:go(m),A5(m,this._rawValue)&&(this._rawValue=m,this._value=b?m:E5(m),KW(this))}}function $o(f){return Gl(f)?f.value:f}const qQ={get:(f,m,b)=>$o(Reflect.get(f,m,b)),set:(f,m,b,y)=>{const S=f[m];return Gl(S)&&!Gl(b)?(S.value=b,!0):Reflect.set(f,m,b,y)}};function YW(f){return i3(f)?f:new Proxy(f,qQ)}class KQ{constructor(m,b,y,S){this._setter=b,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new PH(m,()=>{this._dirty||(this._dirty=!0,KW(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!S,this.__v_isReadonly=y}get value(){const m=go(this);return qW(m),(m._dirty||!m._cacheable)&&(m._dirty=!1,m._value=m.effect.run()),m._value}set value(m){this._setter(m)}}function XQ(f,m,b=!1){let y,S;const _=ba(f);return _?(y=f,S=Gm):(y=f.get,S=f.set),new KQ(y,S,_||!S,b)}function Zy(f,m,b,y){let S;try{S=y?f(...y):f()}catch(_){H6(_,m,b)}return S}function qm(f,m,b,y){if(ba(f)){const _=Zy(f,m,b,y);return _&&TW(_)&&_.catch(T=>{H6(T,m,b)}),_}const S=[];for(let _=0;_<f.length;_++)S.push(qm(f[_],m,b,y));return S}function H6(f,m,b,y=!0){const S=m?m.vnode:null;if(m){let _=m.parent;const T=m.proxy,D=b;for(;_;){const W=_.ec;if(W){for(let I=0;I<W.length;I++)if(W[I](f,T,D)===!1)return}_=_.parent}const F=m.appContext.config.errorHandler;if(F){Zy(F,null,10,[f,T,D]);return}}YQ(f,b,S,y)}function YQ(f,m,b,y=!0){console.error(f)}let T5=!1,hH=!1;const jl=[];let ap=0;const u3=[];let nb=null,BS=0;const JW=Promise.resolve();let VH=null;function ZW(f){const m=VH||JW;return f?m.then(this?f.bind(this):f):m}function JQ(f){let m=ap+1,b=jl.length;for(;m<b;){const y=m+b>>>1;O5(jl[y])<f?m=y+1:b=y}return m}function UH(f){(!jl.length||!jl.includes(f,T5&&f.allowRecurse?ap+1:ap))&&(f.id==null?jl.push(f):jl.splice(JQ(f.id),0,f),QW())}function QW(){!T5&&!hH&&(hH=!0,VH=JW.then(tj))}function ZQ(f){const m=jl.indexOf(f);m>ap&&jl.splice(m,1)}function QQ(f){Fr(f)?u3.push(...f):(!nb||!nb.includes(f,f.allowRecurse?BS+1:BS))&&u3.push(f),QW()}function OU(f,m=T5?ap+1:0){for(;m<jl.length;m++){const b=jl[m];b&&b.pre&&(jl.splice(m,1),m--,b())}}function ej(f){if(u3.length){const m=[...new Set(u3)];if(u3.length=0,nb){nb.push(...m);return}for(nb=m,nb.sort((b,y)=>O5(b)-O5(y)),BS=0;BS<nb.length;BS++)nb[BS]();nb=null,BS=0}}const O5=f=>f.id==null?1/0:f.id,eee=(f,m)=>{const b=O5(f)-O5(m);if(b===0){if(f.pre&&!m.pre)return-1;if(m.pre&&!f.pre)return 1}return b};function tj(f){hH=!1,T5=!0,jl.sort(eee);const m=Gm;try{for(ap=0;ap<jl.length;ap++){const b=jl[ap];b&&b.active!==!1&&Zy(b,null,14)}}finally{ap=0,jl.length=0,ej(),T5=!1,VH=null,(jl.length||u3.length)&&tj()}}function tee(f,m,...b){if(f.isUnmounted)return;const y=f.vnode.props||wi;let S=b;const _=m.startsWith("update:"),T=_&&m.slice(7);if(T&&T in y){const I=`${T==="modelValue"?"model":T}Modifiers`,{number:L,trim:P}=y[I]||wi;P&&(S=b.map(H=>Cs(H)?H.trim():H)),L&&(S=b.map(g6))}let D,F=y[D=Y7(m)]||y[D=Y7(op(m))];!F&&_&&(F=y[D=Y7(HS(m))]),F&&qm(F,f,6,S);const W=y[D+"Once"];if(W){if(!f.emitted)f.emitted={};else if(f.emitted[D])return;f.emitted[D]=!0,qm(W,f,6,S)}}function nj(f,m,b=!1){const y=m.emitsCache,S=y.get(f);if(S!==void 0)return S;const _=f.emits;let T={},D=!1;if(!ba(f)){const F=W=>{const I=nj(W,m,!0);I&&(D=!0,js(T,I))};!b&&m.mixins.length&&m.mixins.forEach(F),f.extends&&F(f.extends),f.mixins&&f.mixins.forEach(F)}return!_&&!D?(ai(f)&&y.set(f,null),null):(Fr(_)?_.forEach(F=>T[F]=null):js(T,_),ai(f)&&y.set(f,T),T)}function V6(f,m){return!f||!$6(m)?!1:(m=m.slice(2).replace(/Once$/,""),Qa(f,m[0].toLowerCase()+m.slice(1))||Qa(f,HS(m))||Qa(f,m))}let ql=null,U6=null;function b6(f){const m=ql;return ql=f,U6=f&&f.type.__scopeId||null,m}function g3(f){U6=f}function p3(){U6=null}function tn(f,m=ql,b){if(!m||f._n)return f;const y=(...S)=>{y._d&&LU(-1);const _=b6(m);let T;try{T=f(...S)}finally{b6(_),y._d&&LU(1)}return T};return y._n=!0,y._c=!0,y._d=!0,y}function J7(f){const{type:m,vnode:b,proxy:y,withProxy:S,props:_,propsOptions:[T],slots:D,attrs:F,emit:W,render:I,renderCache:L,data:P,setupState:H,ctx:Y,inheritAttrs:q}=f;let $e,de;const Be=b6(f);try{if(b.shapeFlag&4){const Ee=S||y;$e=np(I.call(Ee,Ee,L,_,H,P,Y)),de=F}else{const Ee=m;$e=np(Ee.length>1?Ee(_,{attrs:F,slots:D,emit:W}):Ee(_,null)),de=m.props?F:nee(F)}}catch(Ee){S5.length=0,H6(Ee,f,1),$e=Tt(e2)}let ue=$e;if(de&&q!==!1){const Ee=Object.keys(de),{shapeFlag:De}=ue;Ee.length&&De&7&&(T&&Ee.some(RH)&&(de=ree(de,T)),ue=l3(ue,de))}return b.dirs&&(ue=l3(ue),ue.dirs=ue.dirs?ue.dirs.concat(b.dirs):b.dirs),b.transition&&(ue.transition=b.transition),$e=ue,b6(Be),$e}const nee=f=>{let m;for(const b in f)(b==="class"||b==="style"||$6(b))&&((m||(m={}))[b]=f[b]);return m},ree=(f,m)=>{const b={};for(const y in f)(!RH(y)||!(y.slice(9)in m))&&(b[y]=f[y]);return b};function aee(f,m,b){const{props:y,children:S,component:_}=f,{props:T,children:D,patchFlag:F}=m,W=_.emitsOptions;if(m.dirs||m.transition)return!0;if(b&&F>=0){if(F&1024)return!0;if(F&16)return y?DU(y,T,W):!!T;if(F&8){const I=m.dynamicProps;for(let L=0;L<I.length;L++){const P=I[L];if(T[P]!==y[P]&&!V6(W,P))return!0}}}else return(S||D)&&(!D||!D.$stable)?!0:y===T?!1:y?T?DU(y,T,W):!0:!!T;return!1}function DU(f,m,b){const y=Object.keys(m);if(y.length!==Object.keys(f).length)return!0;for(let S=0;S<y.length;S++){const _=y[S];if(m[_]!==f[_]&&!V6(b,_))return!0}return!1}function oee({vnode:f,parent:m},b){for(;m&&m.subTree===f;)(f=m.vnode).el=b,m=m.parent}const iee=f=>f.__isSuspense;function uee(f,m){m&&m.pendingBranch?Fr(f)?m.effects.push(...f):m.effects.push(f):QQ(f)}const o6={};function Km(f,m,b){return rj(f,m,b)}function rj(f,m,{immediate:b,deep:y,flush:S,onTrack:_,onTrigger:T}=wi){var D;const F=bQ()===((D=hl)==null?void 0:D.scope)?hl:null;let W,I=!1,L=!1;if(Gl(f)?(W=()=>f.value,I=p6(f)):i3(f)?(W=()=>f,y=!0):Fr(f)?(L=!0,I=f.some(Ee=>i3(Ee)||p6(Ee)),W=()=>f.map(Ee=>{if(Gl(Ee))return Ee.value;if(i3(Ee))return NS(Ee);if(ba(Ee))return Zy(Ee,F,2)})):ba(f)?m?W=()=>Zy(f,F,2):W=()=>{if(!(F&&F.isUnmounted))return P&&P(),qm(f,F,3,[H])}:W=Gm,m&&y){const Ee=W;W=()=>NS(Ee())}let P,H=Ee=>{P=Be.onStop=()=>{Zy(Ee,F,4)}},Y;if(R5)if(H=Gm,m?b&&qm(m,F,3,[W(),L?[]:void 0,H]):W(),S==="sync"){const Ee=Jee();Y=Ee.__watcherHandles||(Ee.__watcherHandles=[])}else return Gm;let q=L?new Array(f.length).fill(o6):o6;const $e=()=>{if(Be.active)if(m){const Ee=Be.run();(y||I||(L?Ee.some((De,ke)=>A5(De,q[ke])):A5(Ee,q)))&&(P&&P(),qm(m,F,3,[Ee,q===o6?void 0:L&&q[0]===o6?[]:q,H]),q=Ee)}else Be.run()};$e.allowRecurse=!!m;let de;S==="sync"?de=$e:S==="post"?de=()=>xf($e,F&&F.suspense):($e.pre=!0,F&&($e.id=F.uid),de=()=>UH($e));const Be=new PH(W,de);m?b?$e():q=Be.run():S==="post"?xf(Be.run.bind(Be),F&&F.suspense):Be.run();const ue=()=>{Be.stop(),F&&F.scope&&$H(F.scope.effects,Be)};return Y&&Y.push(ue),ue}function see(f,m,b){const y=this.proxy,S=Cs(f)?f.includes(".")?aj(y,f):()=>y[f]:f.bind(y,y);let _;ba(m)?_=m:(_=m.handler,b=m);const T=hl;c3(this);const D=rj(S,_.bind(y),b);return T?c3(T):LS(),D}function aj(f,m){const b=m.split(".");return()=>{let y=f;for(let S=0;S<b.length&&y;S++)y=y[b[S]];return y}}function NS(f,m){if(!ai(f)||f.__v_skip||(m=m||new Set,m.has(f)))return f;if(m.add(f),Gl(f))NS(f.value,m);else if(Fr(f))for(let b=0;b<f.length;b++)NS(f[b],m);else if(B6(f)||o3(f))f.forEach(b=>{NS(b,m)});else if(DW(f))for(const b in f)NS(f[b],m);return f}function ir(f,m){const b=ql;if(b===null)return f;const y=q6(b)||b.proxy,S=f.dirs||(f.dirs=[]);for(let _=0;_<m.length;_++){let[T,D,F,W=wi]=m[_];T&&(ba(T)&&(T={mounted:T,updated:T}),T.deep&&NS(D),S.push({dir:T,instance:y,value:D,oldValue:void 0,arg:F,modifiers:W}))}return f}function RS(f,m,b,y){const S=f.dirs,_=m&&m.dirs;for(let T=0;T<S.length;T++){const D=S[T];_&&(D.oldValue=_[T].value);let F=D.dir[y];F&&(m3(),qm(F,b,8,[f.el,D,f,m]),h3())}}function oj(f,m){return ba(f)?(()=>js({name:f.name},m,{setup:f}))():f}const w5=f=>!!f.type.__asyncLoader,ij=f=>f.type.__isKeepAlive;function lee(f,m){uj(f,"a",m)}function cee(f,m){uj(f,"da",m)}function uj(f,m,b=hl){const y=f.__wdc||(f.__wdc=()=>{let S=b;for(;S;){if(S.isDeactivated)return;S=S.parent}return f()});if(W6(m,y,b),b){let S=b.parent;for(;S&&S.parent;)ij(S.parent.vnode)&&fee(y,m,b,S),S=S.parent}}function fee(f,m,b,y){const S=W6(m,f,y,!0);WH(()=>{$H(y[m],S)},b)}function W6(f,m,b=hl,y=!1){if(b){const S=b[f]||(b[f]=[]),_=m.__weh||(m.__weh=(...T)=>{if(b.isUnmounted)return;m3(),c3(b);const D=qm(m,b,f,T);return LS(),h3(),D});return y?S.unshift(_):S.push(_),_}}const ob=f=>(m,b=hl)=>(!R5||f==="sp")&&W6(f,(...y)=>m(...y),b),ip=ob("bm"),Ga=ob("m"),vee=ob("bu"),dee=ob("u"),b3=ob("bum"),WH=ob("um"),mee=ob("sp"),hee=ob("rtg"),gee=ob("rtc");function pee(f,m=hl){W6("ec",f,m)}const sj="components";function Va(f,m){return yee(sj,f,!0,m)||f}const bee=Symbol.for("v-ndc");function yee(f,m,b=!0,y=!1){const S=ql||hl;if(S){const _=S.type;if(f===sj){const D=Kee(_,!1);if(D&&(D===m||D===op(m)||D===P6(op(m))))return _}const T=RU(S[f]||_[f],m)||RU(S.appContext[f],m);return!T&&y?_:T}}function RU(f,m){return f&&(f[m]||f[op(m)]||f[P6(op(m))])}function to(f,m,b,y){let S;const _=b&&b[y];if(Fr(f)||Cs(f)){S=new Array(f.length);for(let T=0,D=f.length;T<D;T++)S[T]=m(f[T],T,void 0,_&&_[T])}else if(typeof f=="number"){S=new Array(f);for(let T=0;T<f;T++)S[T]=m(T+1,T,void 0,_&&_[T])}else if(ai(f))if(f[Symbol.iterator])S=Array.from(f,(T,D)=>m(T,D,void 0,_&&_[D]));else{const T=Object.keys(f);S=new Array(T.length);for(let D=0,F=T.length;D<F;D++){const W=T[D];S[D]=m(f[W],W,D,_&&_[D])}}else S=[];return b&&(b[y]=S),S}function gH(f,m,b={},y,S){if(ql.isCE||ql.parent&&w5(ql.parent)&&ql.parent.isCE)return m!=="default"&&(b.name=m),Tt("slot",b,y&&y());let _=f[m];_&&_._c&&(_._d=!1),Ke();const T=_&&lj(_(b)),D=Od($r,{key:b.key||T&&T.key||`_${m}`},T||(y?y():[]),T&&f._===1?64:-2);return!S&&D.scopeId&&(D.slotScopeIds=[D.scopeId+"-s"]),_&&_._c&&(_._d=!0),D}function lj(f){return f.some(m=>C6(m)?!(m.type===e2||m.type===$r&&!lj(m.children)):!0)?f:null}const pH=f=>f?wj(f)?q6(f)||f.proxy:pH(f.parent):null,C5=js(Object.create(null),{$:f=>f,$el:f=>f.vnode.el,$data:f=>f.data,$props:f=>f.props,$attrs:f=>f.attrs,$slots:f=>f.slots,$refs:f=>f.refs,$parent:f=>pH(f.parent),$root:f=>pH(f.root),$emit:f=>f.emit,$options:f=>jH(f),$forceUpdate:f=>f.f||(f.f=()=>UH(f.update)),$nextTick:f=>f.n||(f.n=ZW.bind(f.proxy)),$watch:f=>see.bind(f)}),Z7=(f,m)=>f!==wi&&!f.__isScriptSetup&&Qa(f,m),wee={get({_:f},m){const{ctx:b,setupState:y,data:S,props:_,accessCache:T,type:D,appContext:F}=f;let W;if(m[0]!=="$"){const H=T[m];if(H!==void 0)switch(H){case 1:return y[m];case 2:return S[m];case 4:return b[m];case 3:return _[m]}else{if(Z7(y,m))return T[m]=1,y[m];if(S!==wi&&Qa(S,m))return T[m]=2,S[m];if((W=f.propsOptions[0])&&Qa(W,m))return T[m]=3,_[m];if(b!==wi&&Qa(b,m))return T[m]=4,b[m];bH&&(T[m]=0)}}const I=C5[m];let L,P;if(I)return m==="$attrs"&&Ef(f,"get",m),I(f);if((L=D.__cssModules)&&(L=L[m]))return L;if(b!==wi&&Qa(b,m))return T[m]=4,b[m];if(P=F.config.globalProperties,Qa(P,m))return P[m]},set({_:f},m,b){const{data:y,setupState:S,ctx:_}=f;return Z7(S,m)?(S[m]=b,!0):y!==wi&&Qa(y,m)?(y[m]=b,!0):Qa(f.props,m)||m[0]==="$"&&m.slice(1)in f?!1:(_[m]=b,!0)},has({_:{data:f,setupState:m,accessCache:b,ctx:y,appContext:S,propsOptions:_}},T){let D;return!!b[T]||f!==wi&&Qa(f,T)||Z7(m,T)||(D=_[0])&&Qa(D,T)||Qa(y,T)||Qa(C5,T)||Qa(S.config.globalProperties,T)},defineProperty(f,m,b){return b.get!=null?f._.accessCache[m]=0:Qa(b,"value")&&this.set(f,m,b.value,null),Reflect.defineProperty(f,m,b)}};function $U(f){return Fr(f)?f.reduce((m,b)=>(m[b]=null,m),{}):f}let bH=!0;function Cee(f){const m=jH(f),b=f.proxy,y=f.ctx;bH=!1,m.beforeCreate&&BU(m.beforeCreate,f,"bc");const{data:S,computed:_,methods:T,watch:D,provide:F,inject:W,created:I,beforeMount:L,mounted:P,beforeUpdate:H,updated:Y,activated:q,deactivated:$e,beforeDestroy:de,beforeUnmount:Be,destroyed:ue,unmounted:Ee,render:De,renderTracked:ke,renderTriggered:Ye,errorCaptured:le,serverPrefetch:pe,expose:ye,inheritAttrs:Me,components:ne,directives:U,filters:_e}=m;if(W&&See(W,y,null),T)for(const ge in T){const ut=T[ge];ba(ut)&&(y[ge]=ut.bind(b))}if(S){const ge=S.call(b,b);ai(ge)&&(f.data=L6(ge))}if(bH=!0,_)for(const ge in _){const ut=_[ge],B=ba(ut)?ut.bind(b,b):ba(ut.get)?ut.get.bind(b,b):Gm,_t=!ba(ut)&&ba(ut.set)?ut.set.bind(b):Gm,at=ri({get:B,set:_t});Object.defineProperty(y,ge,{enumerable:!0,configurable:!0,get:()=>at.value,set:ot=>at.value=ot})}if(D)for(const ge in D)cj(D[ge],y,b,ge);if(F){const ge=ba(F)?F.call(b):F;Reflect.ownKeys(ge).forEach(ut=>{s6(ut,ge[ut])})}I&&BU(I,f,"c");function se(ge,ut){Fr(ut)?ut.forEach(B=>ge(B.bind(b))):ut&&ge(ut.bind(b))}if(se(ip,L),se(Ga,P),se(vee,H),se(dee,Y),se(lee,q),se(cee,$e),se(pee,le),se(gee,ke),se(hee,Ye),se(b3,Be),se(WH,Ee),se(mee,pe),Fr(ye))if(ye.length){const ge=f.exposed||(f.exposed={});ye.forEach(ut=>{Object.defineProperty(ge,ut,{get:()=>b[ut],set:B=>b[ut]=B})})}else f.exposed||(f.exposed={});De&&f.render===Gm&&(f.render=De),Me!=null&&(f.inheritAttrs=Me),ne&&(f.components=ne),U&&(f.directives=U)}function See(f,m,b=Gm){Fr(f)&&(f=yH(f));for(const y in f){const S=f[y];let _;ai(S)?"default"in S?_=Xm(S.from||y,S.default,!0):_=Xm(S.from||y):_=Xm(S),Gl(_)?Object.defineProperty(m,y,{enumerable:!0,configurable:!0,get:()=>_.value,set:T=>_.value=T}):m[y]=_}}function BU(f,m,b){qm(Fr(f)?f.map(y=>y.bind(m.proxy)):f.bind(m.proxy),m,b)}function cj(f,m,b,y){const S=y.includes(".")?aj(b,y):()=>b[y];if(Cs(f)){const _=m[f];ba(_)&&Km(S,_)}else if(ba(f))Km(S,f.bind(b));else if(ai(f))if(Fr(f))f.forEach(_=>cj(_,m,b,y));else{const _=ba(f.handler)?f.handler.bind(b):m[f.handler];ba(_)&&Km(S,_,f)}}function jH(f){const m=f.type,{mixins:b,extends:y}=m,{mixins:S,optionsCache:_,config:{optionMergeStrategies:T}}=f.appContext,D=_.get(m);let F;return D?F=D:!S.length&&!b&&!y?F=m:(F={},S.length&&S.forEach(W=>y6(F,W,T,!0)),y6(F,m,T)),ai(m)&&_.set(m,F),F}function y6(f,m,b,y=!1){const{mixins:S,extends:_}=m;_&&y6(f,_,b,!0),S&&S.forEach(T=>y6(f,T,b,!0));for(const T in m)if(!(y&&T==="expose")){const D=_ee[T]||b&&b[T];f[T]=D?D(f[T],m[T]):m[T]}return f}const _ee={data:MU,props:PU,emits:PU,methods:y5,computed:y5,beforeCreate:Dc,created:Dc,beforeMount:Dc,mounted:Dc,beforeUpdate:Dc,updated:Dc,beforeDestroy:Dc,beforeUnmount:Dc,destroyed:Dc,unmounted:Dc,activated:Dc,deactivated:Dc,errorCaptured:Dc,serverPrefetch:Dc,components:y5,directives:y5,watch:kee,provide:MU,inject:xee};function MU(f,m){return m?f?function(){return js(ba(f)?f.call(this,this):f,ba(m)?m.call(this,this):m)}:m:f}function xee(f,m){return y5(yH(f),yH(m))}function yH(f){if(Fr(f)){const m={};for(let b=0;b<f.length;b++)m[f[b]]=f[b];return m}return f}function Dc(f,m){return f?[...new Set([].concat(f,m))]:m}function y5(f,m){return f?js(Object.create(null),f,m):m}function PU(f,m){return f?Fr(f)&&Fr(m)?[...new Set([...f,...m])]:js(Object.create(null),$U(f),$U(m??{})):m}function kee(f,m){if(!f)return m;if(!m)return f;const b=js(Object.create(null),f);for(const y in m)b[y]=Dc(f[y],m[y]);return b}function fj(){return{app:null,config:{isNativeTag:nQ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Aee=0;function Eee(f,m){return function(y,S=null){ba(y)||(y=js({},y)),S!=null&&!ai(S)&&(S=null);const _=fj(),T=new Set;let D=!1;const F=_.app={_uid:Aee++,_component:y,_props:S,_container:null,_context:_,_instance:null,version:Zee,get config(){return _.config},set config(W){},use(W,...I){return T.has(W)||(W&&ba(W.install)?(T.add(W),W.install(F,...I)):ba(W)&&(T.add(W),W(F,...I))),F},mixin(W){return _.mixins.includes(W)||_.mixins.push(W),F},component(W,I){return I?(_.components[W]=I,F):_.components[W]},directive(W,I){return I?(_.directives[W]=I,F):_.directives[W]},mount(W,I,L){if(!D){const P=Tt(y,S);return P.appContext=_,I&&m?m(P,W):f(P,W,L),D=!0,F._container=W,W.__vue_app__=F,q6(P.component)||P.component.proxy}},unmount(){D&&(f(null,F._container),delete F._container.__vue_app__)},provide(W,I){return _.provides[W]=I,F},runWithContext(W){w6=F;try{return W()}finally{w6=null}}};return F}}let w6=null;function s6(f,m){if(hl){let b=hl.provides;const y=hl.parent&&hl.parent.provides;y===b&&(b=hl.provides=Object.create(y)),b[f]=m}}function Xm(f,m,b=!1){const y=hl||ql;if(y||w6){const S=y?y.parent==null?y.vnode.appContext&&y.vnode.appContext.provides:y.parent.provides:w6._context.provides;if(S&&f in S)return S[f];if(arguments.length>1)return b&&ba(m)?m.call(y&&y.proxy):m}}function Tee(f,m,b,y=!1){const S={},_={};h6(_,G6,1),f.propsDefaults=Object.create(null),vj(f,m,S,_);for(const T in f.propsOptions[0])T in S||(S[T]=void 0);b?f.props=y?S:WW(S):f.type.props?f.props=S:f.props=_,f.attrs=_}function Oee(f,m,b,y){const{props:S,attrs:_,vnode:{patchFlag:T}}=f,D=go(S),[F]=f.propsOptions;let W=!1;if((y||T>0)&&!(T&16)){if(T&8){const I=f.vnode.dynamicProps;for(let L=0;L<I.length;L++){let P=I[L];if(V6(f.emitsOptions,P))continue;const H=m[P];if(F)if(Qa(_,P))H!==_[P]&&(_[P]=H,W=!0);else{const Y=op(P);S[Y]=wH(F,D,Y,H,f,!1)}else H!==_[P]&&(_[P]=H,W=!0)}}}else{vj(f,m,S,_)&&(W=!0);let I;for(const L in D)(!m||!Qa(m,L)&&((I=HS(L))===L||!Qa(m,I)))&&(F?b&&(b[L]!==void 0||b[I]!==void 0)&&(S[L]=wH(F,D,L,void 0,f,!0)):delete S[L]);if(_!==D)for(const L in _)(!m||!Qa(m,L))&&(delete _[L],W=!0)}W&&ab(f,"set","$attrs")}function vj(f,m,b,y){const[S,_]=f.propsOptions;let T=!1,D;if(m)for(let F in m){if(i6(F))continue;const W=m[F];let I;S&&Qa(S,I=op(F))?!_||!_.includes(I)?b[I]=W:(D||(D={}))[I]=W:V6(f.emitsOptions,F)||(!(F in y)||W!==y[F])&&(y[F]=W,T=!0)}if(_){const F=go(b),W=D||wi;for(let I=0;I<_.length;I++){const L=_[I];b[L]=wH(S,F,L,W[L],f,!Qa(W,L))}}return T}function wH(f,m,b,y,S,_){const T=f[b];if(T!=null){const D=Qa(T,"default");if(D&&y===void 0){const F=T.default;if(T.type!==Function&&!T.skipFactory&&ba(F)){const{propsDefaults:W}=S;b in W?y=W[b]:(c3(S),y=W[b]=F.call(null,m),LS())}else y=F}T[0]&&(_&&!D?y=!1:T[1]&&(y===""||y===HS(b))&&(y=!0))}return y}function dj(f,m,b=!1){const y=m.propsCache,S=y.get(f);if(S)return S;const _=f.props,T={},D=[];let F=!1;if(!ba(f)){const I=L=>{F=!0;const[P,H]=dj(L,m,!0);js(T,P),H&&D.push(...H)};!b&&m.mixins.length&&m.mixins.forEach(I),f.extends&&I(f.extends),f.mixins&&f.mixins.forEach(I)}if(!_&&!F)return ai(f)&&y.set(f,a3),a3;if(Fr(_))for(let I=0;I<_.length;I++){const L=op(_[I]);IU(L)&&(T[L]=wi)}else if(_)for(const I in _){const L=op(I);if(IU(L)){const P=_[I],H=T[L]=Fr(P)||ba(P)?{type:P}:js({},P);if(H){const Y=FU(Boolean,H.type),q=FU(String,H.type);H[0]=Y>-1,H[1]=q<0||Y<q,(Y>-1||Qa(H,"default"))&&D.push(L)}}}const W=[T,D];return ai(f)&&y.set(f,W),W}function IU(f){return f[0]!=="$"}function NU(f){const m=f&&f.toString().match(/^\s*(function|class) (\w+)/);return m?m[2]:f===null?"null":""}function zU(f,m){return NU(f)===NU(m)}function FU(f,m){return Fr(m)?m.findIndex(b=>zU(b,f)):ba(m)&&zU(m,f)?0:-1}const mj=f=>f[0]==="_"||f==="$stable",GH=f=>Fr(f)?f.map(np):[np(f)],Dee=(f,m,b)=>{if(m._n)return m;const y=tn((...S)=>GH(m(...S)),b);return y._c=!1,y},hj=(f,m,b)=>{const y=f._ctx;for(const S in f){if(mj(S))continue;const _=f[S];if(ba(_))m[S]=Dee(S,_,y);else if(_!=null){const T=GH(_);m[S]=()=>T}}},gj=(f,m)=>{const b=GH(m);f.slots.default=()=>b},Ree=(f,m)=>{if(f.vnode.shapeFlag&32){const b=m._;b?(f.slots=go(m),h6(m,"_",b)):hj(m,f.slots={})}else f.slots={},m&&gj(f,m);h6(f.slots,G6,1)},$ee=(f,m,b)=>{const{vnode:y,slots:S}=f;let _=!0,T=wi;if(y.shapeFlag&32){const D=m._;D?b&&D===1?_=!1:(js(S,m),!b&&D===1&&delete S._):(_=!m.$stable,hj(m,S)),T=m}else m&&(gj(f,m),T={default:1});if(_)for(const D in S)!mj(D)&&!(D in T)&&delete S[D]};function CH(f,m,b,y,S=!1){if(Fr(f)){f.forEach((P,H)=>CH(P,m&&(Fr(m)?m[H]:m),b,y,S));return}if(w5(y)&&!S)return;const _=y.shapeFlag&4?q6(y.component)||y.component.proxy:y.el,T=S?null:_,{i:D,r:F}=f,W=m&&m.r,I=D.refs===wi?D.refs={}:D.refs,L=D.setupState;if(W!=null&&W!==F&&(Cs(W)?(I[W]=null,Qa(L,W)&&(L[W]=null)):Gl(W)&&(W.value=null)),ba(F))Zy(F,D,12,[T,I]);else{const P=Cs(F),H=Gl(F);if(P||H){const Y=()=>{if(f.f){const q=P?Qa(L,F)?L[F]:I[F]:F.value;S?Fr(q)&&$H(q,_):Fr(q)?q.includes(_)||q.push(_):P?(I[F]=[_],Qa(L,F)&&(L[F]=I[F])):(F.value=[_],f.k&&(I[f.k]=F.value))}else P?(I[F]=T,Qa(L,F)&&(L[F]=T)):H&&(F.value=T,f.k&&(I[f.k]=T))};T?(Y.id=-1,xf(Y,b)):Y()}}}const xf=uee;function Bee(f){return Mee(f)}function Mee(f,m){const b=cH();b.__VUE__=!0;const{insert:y,remove:S,patchProp:_,createElement:T,createText:D,createComment:F,setText:W,setElementText:I,parentNode:L,nextSibling:P,setScopeId:H=Gm,insertStaticContent:Y}=f,q=(Te,Ae,Je,et=null,He=null,pt=null,Yt=!1,it=null,Wt=!!Ae.dynamicChildren)=>{if(Te===Ae)return;Te&&!h5(Te,Ae)&&(et=te(Te),ot(Te,He,pt,!0),Te=null),Ae.patchFlag===-2&&(Wt=!1,Ae.dynamicChildren=null);const{type:Dt,ref:zt,shapeFlag:rn}=Ae;switch(Dt){case j6:$e(Te,Ae,Je,et);break;case e2:de(Te,Ae,Je,et);break;case Q7:Te==null&&Be(Ae,Je,et,Yt);break;case $r:ne(Te,Ae,Je,et,He,pt,Yt,it,Wt);break;default:rn&1?De(Te,Ae,Je,et,He,pt,Yt,it,Wt):rn&6?U(Te,Ae,Je,et,He,pt,Yt,it,Wt):(rn&64||rn&128)&&Dt.process(Te,Ae,Je,et,He,pt,Yt,it,Wt,Ue)}zt!=null&&He&&CH(zt,Te&&Te.ref,pt,Ae||Te,!Ae)},$e=(Te,Ae,Je,et)=>{if(Te==null)y(Ae.el=D(Ae.children),Je,et);else{const He=Ae.el=Te.el;Ae.children!==Te.children&&W(He,Ae.children)}},de=(Te,Ae,Je,et)=>{Te==null?y(Ae.el=F(Ae.children||""),Je,et):Ae.el=Te.el},Be=(Te,Ae,Je,et)=>{[Te.el,Te.anchor]=Y(Te.children,Ae,Je,et,Te.el,Te.anchor)},ue=({el:Te,anchor:Ae},Je,et)=>{let He;for(;Te&&Te!==Ae;)He=P(Te),y(Te,Je,et),Te=He;y(Ae,Je,et)},Ee=({el:Te,anchor:Ae})=>{let Je;for(;Te&&Te!==Ae;)Je=P(Te),S(Te),Te=Je;S(Ae)},De=(Te,Ae,Je,et,He,pt,Yt,it,Wt)=>{Yt=Yt||Ae.type==="svg",Te==null?ke(Ae,Je,et,He,pt,Yt,it,Wt):pe(Te,Ae,He,pt,Yt,it,Wt)},ke=(Te,Ae,Je,et,He,pt,Yt,it)=>{let Wt,Dt;const{type:zt,props:rn,shapeFlag:pn,transition:Gn,dirs:sr}=Te;if(Wt=Te.el=T(Te.type,pt,rn&&rn.is,rn),pn&8?I(Wt,Te.children):pn&16&&le(Te.children,Wt,null,et,He,pt&&zt!=="foreignObject",Yt,it),sr&&RS(Te,null,et,"created"),Ye(Wt,Te,Te.scopeId,Yt,et),rn){for(const tr in rn)tr!=="value"&&!i6(tr)&&_(Wt,tr,null,rn[tr],pt,Te.children,et,He,Sn);"value"in rn&&_(Wt,"value",null,rn.value),(Dt=rn.onVnodeBeforeMount)&&tp(Dt,et,Te)}sr&&RS(Te,null,et,"beforeMount");const Gr=(!He||He&&!He.pendingBranch)&&Gn&&!Gn.persisted;Gr&&Gn.beforeEnter(Wt),y(Wt,Ae,Je),((Dt=rn&&rn.onVnodeMounted)||Gr||sr)&&xf(()=>{Dt&&tp(Dt,et,Te),Gr&&Gn.enter(Wt),sr&&RS(Te,null,et,"mounted")},He)},Ye=(Te,Ae,Je,et,He)=>{if(Je&&H(Te,Je),et)for(let pt=0;pt<et.length;pt++)H(Te,et[pt]);if(He){let pt=He.subTree;if(Ae===pt){const Yt=He.vnode;Ye(Te,Yt,Yt.scopeId,Yt.slotScopeIds,He.parent)}}},le=(Te,Ae,Je,et,He,pt,Yt,it,Wt=0)=>{for(let Dt=Wt;Dt<Te.length;Dt++){const zt=Te[Dt]=it?Xy(Te[Dt]):np(Te[Dt]);q(null,zt,Ae,Je,et,He,pt,Yt,it)}},pe=(Te,Ae,Je,et,He,pt,Yt)=>{const it=Ae.el=Te.el;let{patchFlag:Wt,dynamicChildren:Dt,dirs:zt}=Ae;Wt|=Te.patchFlag&16;const rn=Te.props||wi,pn=Ae.props||wi;let Gn;Je&&$S(Je,!1),(Gn=pn.onVnodeBeforeUpdate)&&tp(Gn,Je,Ae,Te),zt&&RS(Ae,Te,Je,"beforeUpdate"),Je&&$S(Je,!0);const sr=He&&Ae.type!=="foreignObject";if(Dt?ye(Te.dynamicChildren,Dt,it,Je,et,sr,pt):Yt||ut(Te,Ae,it,null,Je,et,sr,pt,!1),Wt>0){if(Wt&16)Me(it,Ae,rn,pn,Je,et,He);else if(Wt&2&&rn.class!==pn.class&&_(it,"class",null,pn.class,He),Wt&4&&_(it,"style",rn.style,pn.style,He),Wt&8){const Gr=Ae.dynamicProps;for(let tr=0;tr<Gr.length;tr++){const ua=Gr[tr],va=rn[ua],Zr=pn[ua];(Zr!==va||ua==="value")&&_(it,ua,va,Zr,He,Te.children,Je,et,Sn)}}Wt&1&&Te.children!==Ae.children&&I(it,Ae.children)}else!Yt&&Dt==null&&Me(it,Ae,rn,pn,Je,et,He);((Gn=pn.onVnodeUpdated)||zt)&&xf(()=>{Gn&&tp(Gn,Je,Ae,Te),zt&&RS(Ae,Te,Je,"updated")},et)},ye=(Te,Ae,Je,et,He,pt,Yt)=>{for(let it=0;it<Ae.length;it++){const Wt=Te[it],Dt=Ae[it],zt=Wt.el&&(Wt.type===$r||!h5(Wt,Dt)||Wt.shapeFlag&70)?L(Wt.el):Je;q(Wt,Dt,zt,null,et,He,pt,Yt,!0)}},Me=(Te,Ae,Je,et,He,pt,Yt)=>{if(Je!==et){if(Je!==wi)for(const it in Je)!i6(it)&&!(it in et)&&_(Te,it,Je[it],null,Yt,Ae.children,He,pt,Sn);for(const it in et){if(i6(it))continue;const Wt=et[it],Dt=Je[it];Wt!==Dt&&it!=="value"&&_(Te,it,Dt,Wt,Yt,Ae.children,He,pt,Sn)}"value"in et&&_(Te,"value",Je.value,et.value)}},ne=(Te,Ae,Je,et,He,pt,Yt,it,Wt)=>{const Dt=Ae.el=Te?Te.el:D(""),zt=Ae.anchor=Te?Te.anchor:D("");let{patchFlag:rn,dynamicChildren:pn,slotScopeIds:Gn}=Ae;Gn&&(it=it?it.concat(Gn):Gn),Te==null?(y(Dt,Je,et),y(zt,Je,et),le(Ae.children,Je,zt,He,pt,Yt,it,Wt)):rn>0&&rn&64&&pn&&Te.dynamicChildren?(ye(Te.dynamicChildren,pn,Je,He,pt,Yt,it),(Ae.key!=null||He&&Ae===He.subTree)&&pj(Te,Ae,!0)):ut(Te,Ae,Je,zt,He,pt,Yt,it,Wt)},U=(Te,Ae,Je,et,He,pt,Yt,it,Wt)=>{Ae.slotScopeIds=it,Te==null?Ae.shapeFlag&512?He.ctx.activate(Ae,Je,et,Yt,Wt):_e(Ae,Je,et,He,pt,Yt,Wt):Qe(Te,Ae,Wt)},_e=(Te,Ae,Je,et,He,pt,Yt)=>{const it=Te.component=Uee(Te,et,He);if(ij(Te)&&(it.ctx.renderer=Ue),Wee(it),it.asyncDep){if(He&&He.registerDep(it,se),!Te.el){const Wt=it.subTree=Tt(e2);de(null,Wt,Ae,Je)}return}se(it,Te,Ae,Je,He,pt,Yt)},Qe=(Te,Ae,Je)=>{const et=Ae.component=Te.component;if(aee(Te,Ae,Je))if(et.asyncDep&&!et.asyncResolved){ge(et,Ae,Je);return}else et.next=Ae,ZQ(et.update),et.update();else Ae.el=Te.el,et.vnode=Ae},se=(Te,Ae,Je,et,He,pt,Yt)=>{const it=()=>{if(Te.isMounted){let{next:zt,bu:rn,u:pn,parent:Gn,vnode:sr}=Te,Gr=zt,tr;$S(Te,!1),zt?(zt.el=sr.el,ge(Te,zt,Yt)):zt=sr,rn&&u6(rn),(tr=zt.props&&zt.props.onVnodeBeforeUpdate)&&tp(tr,Gn,zt,sr),$S(Te,!0);const ua=J7(Te),va=Te.subTree;Te.subTree=ua,q(va,ua,L(va.el),te(va),Te,He,pt),zt.el=ua.el,Gr===null&&oee(Te,ua.el),pn&&xf(pn,He),(tr=zt.props&&zt.props.onVnodeUpdated)&&xf(()=>tp(tr,Gn,zt,sr),He)}else{let zt;const{el:rn,props:pn}=Ae,{bm:Gn,m:sr,parent:Gr}=Te,tr=w5(Ae);if($S(Te,!1),Gn&&u6(Gn),!tr&&(zt=pn&&pn.onVnodeBeforeMount)&&tp(zt,Gr,Ae),$S(Te,!0),rn&&qn){const ua=()=>{Te.subTree=J7(Te),qn(rn,Te.subTree,Te,He,null)};tr?Ae.type.__asyncLoader().then(()=>!Te.isUnmounted&&ua()):ua()}else{const ua=Te.subTree=J7(Te);q(null,ua,Je,et,Te,He,pt),Ae.el=ua.el}if(sr&&xf(sr,He),!tr&&(zt=pn&&pn.onVnodeMounted)){const ua=Ae;xf(()=>tp(zt,Gr,ua),He)}(Ae.shapeFlag&256||Gr&&w5(Gr.vnode)&&Gr.vnode.shapeFlag&256)&&Te.a&&xf(Te.a,He),Te.isMounted=!0,Ae=Je=et=null}},Wt=Te.effect=new PH(it,()=>UH(Dt),Te.scope),Dt=Te.update=()=>Wt.run();Dt.id=Te.uid,$S(Te,!0),Dt()},ge=(Te,Ae,Je)=>{Ae.component=Te;const et=Te.vnode.props;Te.vnode=Ae,Te.next=null,Oee(Te,Ae.props,et,Je),$ee(Te,Ae.children,Je),m3(),OU(),h3()},ut=(Te,Ae,Je,et,He,pt,Yt,it,Wt=!1)=>{const Dt=Te&&Te.children,zt=Te?Te.shapeFlag:0,rn=Ae.children,{patchFlag:pn,shapeFlag:Gn}=Ae;if(pn>0){if(pn&128){_t(Dt,rn,Je,et,He,pt,Yt,it,Wt);return}else if(pn&256){B(Dt,rn,Je,et,He,pt,Yt,it,Wt);return}}Gn&8?(zt&16&&Sn(Dt,He,pt),rn!==Dt&&I(Je,rn)):zt&16?Gn&16?_t(Dt,rn,Je,et,He,pt,Yt,it,Wt):Sn(Dt,He,pt,!0):(zt&8&&I(Je,""),Gn&16&&le(rn,Je,et,He,pt,Yt,it,Wt))},B=(Te,Ae,Je,et,He,pt,Yt,it,Wt)=>{Te=Te||a3,Ae=Ae||a3;const Dt=Te.length,zt=Ae.length,rn=Math.min(Dt,zt);let pn;for(pn=0;pn<rn;pn++){const Gn=Ae[pn]=Wt?Xy(Ae[pn]):np(Ae[pn]);q(Te[pn],Gn,Je,null,He,pt,Yt,it,Wt)}Dt>zt?Sn(Te,He,pt,!0,!1,rn):le(Ae,Je,et,He,pt,Yt,it,Wt,rn)},_t=(Te,Ae,Je,et,He,pt,Yt,it,Wt)=>{let Dt=0;const zt=Ae.length;let rn=Te.length-1,pn=zt-1;for(;Dt<=rn&&Dt<=pn;){const Gn=Te[Dt],sr=Ae[Dt]=Wt?Xy(Ae[Dt]):np(Ae[Dt]);if(h5(Gn,sr))q(Gn,sr,Je,null,He,pt,Yt,it,Wt);else break;Dt++}for(;Dt<=rn&&Dt<=pn;){const Gn=Te[rn],sr=Ae[pn]=Wt?Xy(Ae[pn]):np(Ae[pn]);if(h5(Gn,sr))q(Gn,sr,Je,null,He,pt,Yt,it,Wt);else break;rn--,pn--}if(Dt>rn){if(Dt<=pn){const Gn=pn+1,sr=Gn<zt?Ae[Gn].el:et;for(;Dt<=pn;)q(null,Ae[Dt]=Wt?Xy(Ae[Dt]):np(Ae[Dt]),Je,sr,He,pt,Yt,it,Wt),Dt++}}else if(Dt>pn)for(;Dt<=rn;)ot(Te[Dt],He,pt,!0),Dt++;else{const Gn=Dt,sr=Dt,Gr=new Map;for(Dt=sr;Dt<=pn;Dt++){const lr=Ae[Dt]=Wt?Xy(Ae[Dt]):np(Ae[Dt]);lr.key!=null&&Gr.set(lr.key,Dt)}let tr,ua=0;const va=pn-sr+1;let Zr=!1,Lr=0;const da=new Array(va);for(Dt=0;Dt<va;Dt++)da[Dt]=0;for(Dt=Gn;Dt<=rn;Dt++){const lr=Te[Dt];if(ua>=va){ot(lr,He,pt,!0);continue}let Ia;if(lr.key!=null)Ia=Gr.get(lr.key);else for(tr=sr;tr<=pn;tr++)if(da[tr-sr]===0&&h5(lr,Ae[tr])){Ia=tr;break}Ia===void 0?ot(lr,He,pt,!0):(da[Ia-sr]=Dt+1,Ia>=Lr?Lr=Ia:Zr=!0,q(lr,Ae[Ia],Je,null,He,pt,Yt,it,Wt),ua++)}const Vr=Zr?Pee(da):a3;for(tr=Vr.length-1,Dt=va-1;Dt>=0;Dt--){const lr=sr+Dt,Ia=Ae[lr],Zi=lr+1<zt?Ae[lr+1].el:et;da[Dt]===0?q(null,Ia,Je,Zi,He,pt,Yt,it,Wt):Zr&&(tr<0||Dt!==Vr[tr]?at(Ia,Je,Zi,2):tr--)}}},at=(Te,Ae,Je,et,He=null)=>{const{el:pt,type:Yt,transition:it,children:Wt,shapeFlag:Dt}=Te;if(Dt&6){at(Te.component.subTree,Ae,Je,et);return}if(Dt&128){Te.suspense.move(Ae,Je,et);return}if(Dt&64){Yt.move(Te,Ae,Je,Ue);return}if(Yt===$r){y(pt,Ae,Je);for(let rn=0;rn<Wt.length;rn++)at(Wt[rn],Ae,Je,et);y(Te.anchor,Ae,Je);return}if(Yt===Q7){ue(Te,Ae,Je);return}if(et!==2&&Dt&1&&it)if(et===0)it.beforeEnter(pt),y(pt,Ae,Je),xf(()=>it.enter(pt),He);else{const{leave:rn,delayLeave:pn,afterLeave:Gn}=it,sr=()=>y(pt,Ae,Je),Gr=()=>{rn(pt,()=>{sr(),Gn&&Gn()})};pn?pn(pt,sr,Gr):Gr()}else y(pt,Ae,Je)},ot=(Te,Ae,Je,et=!1,He=!1)=>{const{type:pt,props:Yt,ref:it,children:Wt,dynamicChildren:Dt,shapeFlag:zt,patchFlag:rn,dirs:pn}=Te;if(it!=null&&CH(it,null,Je,Te,!0),zt&256){Ae.ctx.deactivate(Te);return}const Gn=zt&1&&pn,sr=!w5(Te);let Gr;if(sr&&(Gr=Yt&&Yt.onVnodeBeforeUnmount)&&tp(Gr,Ae,Te),zt&6)lt(Te.component,Je,et);else{if(zt&128){Te.suspense.unmount(Je,et);return}Gn&&RS(Te,null,Ae,"beforeUnmount"),zt&64?Te.type.remove(Te,Ae,Je,He,Ue,et):Dt&&(pt!==$r||rn>0&&rn&64)?Sn(Dt,Ae,Je,!1,!0):(pt===$r&&rn&384||!He&&zt&16)&&Sn(Wt,Ae,Je),et&&kn(Te)}(sr&&(Gr=Yt&&Yt.onVnodeUnmounted)||Gn)&&xf(()=>{Gr&&tp(Gr,Ae,Te),Gn&&RS(Te,null,Ae,"unmounted")},Je)},kn=Te=>{const{type:Ae,el:Je,anchor:et,transition:He}=Te;if(Ae===$r){cn(Je,et);return}if(Ae===Q7){Ee(Te);return}const pt=()=>{S(Je),He&&!He.persisted&&He.afterLeave&&He.afterLeave()};if(Te.shapeFlag&1&&He&&!He.persisted){const{leave:Yt,delayLeave:it}=He,Wt=()=>Yt(Je,pt);it?it(Te.el,pt,Wt):Wt()}else pt()},cn=(Te,Ae)=>{let Je;for(;Te!==Ae;)Je=P(Te),S(Te),Te=Je;S(Ae)},lt=(Te,Ae,Je)=>{const{bum:et,scope:He,update:pt,subTree:Yt,um:it}=Te;et&&u6(et),He.stop(),pt&&(pt.active=!1,ot(Yt,Te,Ae,Je)),it&&xf(it,Ae),xf(()=>{Te.isUnmounted=!0},Ae),Ae&&Ae.pendingBranch&&!Ae.isUnmounted&&Te.asyncDep&&!Te.asyncResolved&&Te.suspenseId===Ae.pendingId&&(Ae.deps--,Ae.deps===0&&Ae.resolve())},Sn=(Te,Ae,Je,et=!1,He=!1,pt=0)=>{for(let Yt=pt;Yt<Te.length;Yt++)ot(Te[Yt],Ae,Je,et,He)},te=Te=>Te.shapeFlag&6?te(Te.component.subTree):Te.shapeFlag&128?Te.suspense.next():P(Te.anchor||Te.el),fn=(Te,Ae,Je)=>{Te==null?Ae._vnode&&ot(Ae._vnode,null,null,!0):q(Ae._vnode||null,Te,Ae,null,null,null,Je),OU(),ej(),Ae._vnode=Te},Ue={p:q,um:ot,m:at,r:kn,mt:_e,mc:le,pc:ut,pbc:ye,n:te,o:f};let gt,qn;return m&&([gt,qn]=m(Ue)),{render:fn,hydrate:gt,createApp:Eee(fn,gt)}}function $S({effect:f,update:m},b){f.allowRecurse=m.allowRecurse=b}function pj(f,m,b=!1){const y=f.children,S=m.children;if(Fr(y)&&Fr(S))for(let _=0;_<y.length;_++){const T=y[_];let D=S[_];D.shapeFlag&1&&!D.dynamicChildren&&((D.patchFlag<=0||D.patchFlag===32)&&(D=S[_]=Xy(S[_]),D.el=T.el),b||pj(T,D)),D.type===j6&&(D.el=T.el)}}function Pee(f){const m=f.slice(),b=[0];let y,S,_,T,D;const F=f.length;for(y=0;y<F;y++){const W=f[y];if(W!==0){if(S=b[b.length-1],f[S]<W){m[y]=S,b.push(y);continue}for(_=0,T=b.length-1;_<T;)D=_+T>>1,f[b[D]]<W?_=D+1:T=D;W<f[b[_]]&&(_>0&&(m[y]=b[_-1]),b[_]=y)}}for(_=b.length,T=b[_-1];_-- >0;)b[_]=T,T=m[T];return b}const Iee=f=>f.__isTeleport,$r=Symbol.for("v-fgt"),j6=Symbol.for("v-txt"),e2=Symbol.for("v-cmt"),Q7=Symbol.for("v-stc"),S5=[];let Wm=null;function Ke(f=!1){S5.push(Wm=f?null:[])}function Nee(){S5.pop(),Wm=S5[S5.length-1]||null}let D5=1;function LU(f){D5+=f}function bj(f){return f.dynamicChildren=D5>0?Wm||a3:null,Nee(),D5>0&&Wm&&Wm.push(f),f}function tt(f,m,b,y,S,_){return bj(G(f,m,b,y,S,_,!0))}function Od(f,m,b,y,S){return bj(Tt(f,m,b,y,S,!0))}function C6(f){return f?f.__v_isVNode===!0:!1}function h5(f,m){return f.type===m.type&&f.key===m.key}const G6="__vInternal",yj=({key:f})=>f??null,l6=({ref:f,ref_key:m,ref_for:b})=>(typeof f=="number"&&(f=""+f),f!=null?Cs(f)||Gl(f)||ba(f)?{i:ql,r:f,k:m,f:!!b}:f:null);function G(f,m=null,b=null,y=0,S=null,_=f===$r?0:1,T=!1,D=!1){const F={__v_isVNode:!0,__v_skip:!0,type:f,props:m,key:m&&yj(m),ref:m&&l6(m),scopeId:U6,slotScopeIds:null,children:b,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:_,patchFlag:y,dynamicProps:S,dynamicChildren:null,appContext:null,ctx:ql};return D?(qH(F,b),_&128&&f.normalize(F)):b&&(F.shapeFlag|=Cs(b)?8:16),D5>0&&!T&&Wm&&(F.patchFlag>0||_&6)&&F.patchFlag!==32&&Wm.push(F),F}const Tt=zee;function zee(f,m=null,b=null,y=0,S=null,_=!1){if((!f||f===bee)&&(f=e2),C6(f)){const D=l3(f,m,!0);return b&&qH(D,b),D5>0&&!_&&Wm&&(D.shapeFlag&6?Wm[Wm.indexOf(f)]=D:Wm.push(D)),D.patchFlag|=-2,D}if(Xee(f)&&(f=f.__vccOpts),m){m=Fee(m);let{class:D,style:F}=m;D&&!Cs(D)&&(m.class=N6(D)),ai(F)&&(GW(F)&&!Fr(F)&&(F=js({},F)),m.style=I6(F))}const T=Cs(f)?1:iee(f)?128:Iee(f)?64:ai(f)?4:ba(f)?2:0;return G(f,m,b,y,S,T,_,!0)}function Fee(f){return f?GW(f)||G6 in f?js({},f):f:null}function l3(f,m,b=!1){const{props:y,ref:S,patchFlag:_,children:T}=f,D=m?Lee(y||{},m):y;return{__v_isVNode:!0,__v_skip:!0,type:f.type,props:D,key:D&&yj(D),ref:m&&m.ref?b&&S?Fr(S)?S.concat(l6(m)):[S,l6(m)]:l6(m):S,scopeId:f.scopeId,slotScopeIds:f.slotScopeIds,children:T,target:f.target,targetAnchor:f.targetAnchor,staticCount:f.staticCount,shapeFlag:f.shapeFlag,patchFlag:m&&f.type!==$r?_===-1?16:_|16:_,dynamicProps:f.dynamicProps,dynamicChildren:f.dynamicChildren,appContext:f.appContext,dirs:f.dirs,transition:f.transition,component:f.component,suspense:f.suspense,ssContent:f.ssContent&&l3(f.ssContent),ssFallback:f.ssFallback&&l3(f.ssFallback),el:f.el,anchor:f.anchor,ctx:f.ctx,ce:f.ce}}function Or(f=" ",m=0){return Tt(j6,null,f,m)}function Br(f="",m=!1){return m?(Ke(),Od(e2,null,f)):Tt(e2,null,f)}function np(f){return f==null||typeof f=="boolean"?Tt(e2):Fr(f)?Tt($r,null,f.slice()):typeof f=="object"?Xy(f):Tt(j6,null,String(f))}function Xy(f){return f.el===null&&f.patchFlag!==-1||f.memo?f:l3(f)}function qH(f,m){let b=0;const{shapeFlag:y}=f;if(m==null)m=null;else if(Fr(m))b=16;else if(typeof m=="object")if(y&65){const S=m.default;S&&(S._c&&(S._d=!1),qH(f,S()),S._c&&(S._d=!0));return}else{b=32;const S=m._;!S&&!(G6 in m)?m._ctx=ql:S===3&&ql&&(ql.slots._===1?m._=1:(m._=2,f.patchFlag|=1024))}else ba(m)?(m={default:m,_ctx:ql},b=32):(m=String(m),y&64?(b=16,m=[Or(m)]):b=8);f.children=m,f.shapeFlag|=b}function Lee(...f){const m={};for(let b=0;b<f.length;b++){const y=f[b];for(const S in y)if(S==="class")m.class!==y.class&&(m.class=N6([m.class,y.class]));else if(S==="style")m.style=I6([m.style,y.style]);else if($6(S)){const _=m[S],T=y[S];T&&_!==T&&!(Fr(_)&&_.includes(T))&&(m[S]=_?[].concat(_,T):T)}else S!==""&&(m[S]=y[S])}return m}function tp(f,m,b,y=null){qm(f,m,7,[b,y])}const Hee=fj();let Vee=0;function Uee(f,m,b){const y=f.type,S=(m?m.appContext:f.appContext)||Hee,_={uid:Vee++,vnode:f,type:y,parent:m,appContext:S,root:null,next:null,subTree:null,effect:null,update:null,scope:new BW(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:m?m.provides:Object.create(S.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:dj(y,S),emitsOptions:nj(y,S),emit:null,emitted:null,propsDefaults:wi,inheritAttrs:y.inheritAttrs,ctx:wi,data:wi,props:wi,attrs:wi,slots:wi,refs:wi,setupState:wi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:b,suspenseId:b?b.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return _.ctx={_},_.root=m?m.root:_,_.emit=tee.bind(null,_),f.ce&&f.ce(_),_}let hl=null,KH,e3,HU="__VUE_INSTANCE_SETTERS__";(e3=cH()[HU])||(e3=cH()[HU]=[]),e3.push(f=>hl=f),KH=f=>{e3.length>1?e3.forEach(m=>m(f)):e3[0](f)};const c3=f=>{KH(f),f.scope.on()},LS=()=>{hl&&hl.scope.off(),KH(null)};function wj(f){return f.vnode.shapeFlag&4}let R5=!1;function Wee(f,m=!1){R5=m;const{props:b,children:y}=f.vnode,S=wj(f);Tee(f,b,S,m),Ree(f,y);const _=S?jee(f,m):void 0;return R5=!1,_}function jee(f,m){const b=f.type;f.accessCache=Object.create(null),f.proxy=LH(new Proxy(f.ctx,wee));const{setup:y}=b;if(y){const S=f.setupContext=y.length>1?qee(f):null;c3(f),m3();const _=Zy(y,f,0,[f.props,S]);if(h3(),LS(),TW(_)){if(_.then(LS,LS),m)return _.then(T=>{VU(f,T,m)}).catch(T=>{H6(T,f,0)});f.asyncDep=_}else VU(f,_,m)}else Cj(f,m)}function VU(f,m,b){ba(m)?f.type.__ssrInlineRender?f.ssrRender=m:f.render=m:ai(m)&&(f.setupState=YW(m)),Cj(f,b)}let UU;function Cj(f,m,b){const y=f.type;if(!f.render){if(!m&&UU&&!y.render){const S=y.template||jH(f).template;if(S){const{isCustomElement:_,compilerOptions:T}=f.appContext.config,{delimiters:D,compilerOptions:F}=y,W=js(js({isCustomElement:_,delimiters:D},T),F);y.render=UU(S,W)}}f.render=y.render||Gm}c3(f),m3(),Cee(f),h3(),LS()}function Gee(f){return f.attrsProxy||(f.attrsProxy=new Proxy(f.attrs,{get(m,b){return Ef(f,"get","$attrs"),m[b]}}))}function qee(f){const m=b=>{f.exposed=b||{}};return{get attrs(){return Gee(f)},slots:f.slots,emit:f.emit,expose:m}}function q6(f){if(f.exposed)return f.exposeProxy||(f.exposeProxy=new Proxy(YW(LH(f.exposed)),{get(m,b){if(b in m)return m[b];if(b in C5)return C5[b](f)},has(m,b){return b in m||b in C5}}))}function Kee(f,m=!0){return ba(f)?f.displayName||f.name:f.name||m&&f.__name}function Xee(f){return ba(f)&&"__vccOpts"in f}const ri=(f,m)=>XQ(f,m,R5);function Sj(f,m,b){const y=arguments.length;return y===2?ai(m)&&!Fr(m)?C6(m)?Tt(f,null,[m]):Tt(f,m):Tt(f,null,m):(y>3?b=Array.prototype.slice.call(arguments,2):y===3&&C6(b)&&(b=[b]),Tt(f,m,b))}const Yee=Symbol.for("v-scx"),Jee=()=>Xm(Yee),Zee="3.3.4",Qee="http://www.w3.org/2000/svg",MS=typeof document<"u"?document:null,WU=MS&&MS.createElement("template"),ete={insert:(f,m,b)=>{m.insertBefore(f,b||null)},remove:f=>{const m=f.parentNode;m&&m.removeChild(f)},createElement:(f,m,b,y)=>{const S=m?MS.createElementNS(Qee,f):MS.createElement(f,b?{is:b}:void 0);return f==="select"&&y&&y.multiple!=null&&S.setAttribute("multiple",y.multiple),S},createText:f=>MS.createTextNode(f),createComment:f=>MS.createComment(f),setText:(f,m)=>{f.nodeValue=m},setElementText:(f,m)=>{f.textContent=m},parentNode:f=>f.parentNode,nextSibling:f=>f.nextSibling,querySelector:f=>MS.querySelector(f),setScopeId(f,m){f.setAttribute(m,"")},insertStaticContent(f,m,b,y,S,_){const T=b?b.previousSibling:m.lastChild;if(S&&(S===_||S.nextSibling))for(;m.insertBefore(S.cloneNode(!0),b),!(S===_||!(S=S.nextSibling)););else{WU.innerHTML=y?`<svg>${f}</svg>`:f;const D=WU.content;if(y){const F=D.firstChild;for(;F.firstChild;)D.appendChild(F.firstChild);D.removeChild(F)}m.insertBefore(D,b)}return[T?T.nextSibling:m.firstChild,b?b.previousSibling:m.lastChild]}};function tte(f,m,b){const y=f._vtc;y&&(m=(m?[m,...y]:[...y]).join(" ")),m==null?f.removeAttribute("class"):b?f.setAttribute("class",m):f.className=m}function nte(f,m,b){const y=f.style,S=Cs(b);if(b&&!S){if(m&&!Cs(m))for(const _ in m)b[_]==null&&SH(y,_,"");for(const _ in b)SH(y,_,b[_])}else{const _=y.display;S?m!==b&&(y.cssText=b):m&&f.removeAttribute("style"),"_vod"in f&&(y.display=_)}}const jU=/\s*!important$/;function SH(f,m,b){if(Fr(b))b.forEach(y=>SH(f,m,y));else if(b==null&&(b=""),m.startsWith("--"))f.setProperty(m,b);else{const y=rte(f,m);jU.test(b)?f.setProperty(HS(y),b.replace(jU,""),"important"):f[y]=b}}const GU=["Webkit","Moz","ms"],eH={};function rte(f,m){const b=eH[m];if(b)return b;let y=op(m);if(y!=="filter"&&y in f)return eH[m]=y;y=P6(y);for(let S=0;S<GU.length;S++){const _=GU[S]+y;if(_ in f)return eH[m]=_}return m}const qU="http://www.w3.org/1999/xlink";function ate(f,m,b,y,S){if(y&&m.startsWith("xlink:"))b==null?f.removeAttributeNS(qU,m.slice(6,m.length)):f.setAttributeNS(qU,m,b);else{const _=dQ(m);b==null||_&&!RW(b)?f.removeAttribute(m):f.setAttribute(m,_?"":b)}}function ote(f,m,b,y,S,_,T){if(m==="innerHTML"||m==="textContent"){y&&T(y,S,_),f[m]=b??"";return}const D=f.tagName;if(m==="value"&&D!=="PROGRESS"&&!D.includes("-")){f._value=b;const W=D==="OPTION"?f.getAttribute("value"):f.value,I=b??"";W!==I&&(f.value=I),b==null&&f.removeAttribute(m);return}let F=!1;if(b===""||b==null){const W=typeof f[m];W==="boolean"?b=RW(b):b==null&&W==="string"?(b="",F=!0):W==="number"&&(b=0,F=!0)}try{f[m]=b}catch{}F&&f.removeAttribute(m)}function PS(f,m,b,y){f.addEventListener(m,b,y)}function ite(f,m,b,y){f.removeEventListener(m,b,y)}function ute(f,m,b,y,S=null){const _=f._vei||(f._vei={}),T=_[m];if(y&&T)T.value=y;else{const[D,F]=ste(m);if(y){const W=_[m]=fte(y,S);PS(f,D,W,F)}else T&&(ite(f,D,T,F),_[m]=void 0)}}const KU=/(?:Once|Passive|Capture)$/;function ste(f){let m;if(KU.test(f)){m={};let y;for(;y=f.match(KU);)f=f.slice(0,f.length-y[0].length),m[y[0].toLowerCase()]=!0}return[f[2]===":"?f.slice(3):HS(f.slice(2)),m]}let tH=0;const lte=Promise.resolve(),cte=()=>tH||(lte.then(()=>tH=0),tH=Date.now());function fte(f,m){const b=y=>{if(!y._vts)y._vts=Date.now();else if(y._vts<=b.attached)return;qm(vte(y,b.value),m,5,[y])};return b.value=f,b.attached=cte(),b}function vte(f,m){if(Fr(m)){const b=f.stopImmediatePropagation;return f.stopImmediatePropagation=()=>{b.call(f),f._stopped=!0},m.map(y=>S=>!S._stopped&&y&&y(S))}else return m}const XU=/^on[a-z]/,dte=(f,m,b,y,S=!1,_,T,D,F)=>{m==="class"?tte(f,y,S):m==="style"?nte(f,b,y):$6(m)?RH(m)||ute(f,m,b,y,T):(m[0]==="."?(m=m.slice(1),!0):m[0]==="^"?(m=m.slice(1),!1):mte(f,m,y,S))?ote(f,m,y,_,T,D,F):(m==="true-value"?f._trueValue=y:m==="false-value"&&(f._falseValue=y),ate(f,m,y,S))};function mte(f,m,b,y){return y?!!(m==="innerHTML"||m==="textContent"||m in f&&XU.test(m)&&ba(b)):m==="spellcheck"||m==="draggable"||m==="translate"||m==="form"||m==="list"&&f.tagName==="INPUT"||m==="type"&&f.tagName==="TEXTAREA"||XU.test(m)&&Cs(b)?!1:m in f}const S6=f=>{const m=f.props["onUpdate:modelValue"]||!1;return Fr(m)?b=>u6(m,b):m};function hte(f){f.target.composing=!0}function YU(f){const m=f.target;m.composing&&(m.composing=!1,m.dispatchEvent(new Event("input")))}const vr={created(f,{modifiers:{lazy:m,trim:b,number:y}},S){f._assign=S6(S);const _=y||S.props&&S.props.type==="number";PS(f,m?"change":"input",T=>{if(T.target.composing)return;let D=f.value;b&&(D=D.trim()),_&&(D=g6(D)),f._assign(D)}),b&&PS(f,"change",()=>{f.value=f.value.trim()}),m||(PS(f,"compositionstart",hte),PS(f,"compositionend",YU),PS(f,"change",YU))},mounted(f,{value:m}){f.value=m??""},beforeUpdate(f,{value:m,modifiers:{lazy:b,trim:y,number:S}},_){if(f._assign=S6(_),f.composing||document.activeElement===f&&f.type!=="range"&&(b||y&&f.value.trim()===m||(S||f.type==="number")&&g6(f.value)===m))return;const T=m??"";f.value!==T&&(f.value=T)}},_j={deep:!0,created(f,{value:m,modifiers:{number:b}},y){const S=B6(m);PS(f,"change",()=>{const _=Array.prototype.filter.call(f.options,T=>T.selected).map(T=>b?g6(_6(T)):_6(T));f._assign(f.multiple?S?new Set(_):_:_[0])}),f._assign=S6(y)},mounted(f,{value:m}){JU(f,m)},beforeUpdate(f,m,b){f._assign=S6(b)},updated(f,{value:m}){JU(f,m)}};function JU(f,m){const b=f.multiple;if(!(b&&!Fr(m)&&!B6(m))){for(let y=0,S=f.options.length;y<S;y++){const _=f.options[y],T=_6(_);if(b)Fr(m)?_.selected=hQ(m,T)>-1:_.selected=m.has(T);else if(z6(_6(_),m)){f.selectedIndex!==y&&(f.selectedIndex=y);return}}!b&&f.selectedIndex!==-1&&(f.selectedIndex=-1)}}function _6(f){return"_value"in f?f._value:f.value}const gte=["ctrl","shift","alt","meta"],pte={stop:f=>f.stopPropagation(),prevent:f=>f.preventDefault(),self:f=>f.target!==f.currentTarget,ctrl:f=>!f.ctrlKey,shift:f=>!f.shiftKey,alt:f=>!f.altKey,meta:f=>!f.metaKey,left:f=>"button"in f&&f.button!==0,middle:f=>"button"in f&&f.button!==1,right:f=>"button"in f&&f.button!==2,exact:(f,m)=>gte.some(b=>f[`${b}Key`]&&!m.includes(b))},bte=(f,m)=>(b,...y)=>{for(let S=0;S<m.length;S++){const _=pte[m[S]];if(_&&_(b,m))return}return f(b,...y)},yte={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},wte=(f,m)=>b=>{if(!("key"in b))return;const y=HS(b.key);if(m.some(S=>S===y||yte[S]===y))return f(b)},Cte=js({patchProp:dte},ete);let ZU;function Ste(){return ZU||(ZU=Bee(Cte))}const _te=(...f)=>{const m=Ste().createApp(...f),{mount:b}=m;return m.mount=y=>{const S=xte(y);if(!S)return;const _=m._component;!ba(_)&&!_.render&&!_.template&&(_.template=S.innerHTML),S.innerHTML="";const T=b(S,!1,S instanceof SVGElement);return S instanceof Element&&(S.removeAttribute("v-cloak"),S.setAttribute("data-v-app","")),T},m};function xte(f){return Cs(f)?document.querySelector(f):f}var kte=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const Ate=Symbol();var QU;(function(f){f.direct="direct",f.patchObject="patch object",f.patchFunction="patch function"})(QU||(QU={}));function Ete(){const f=gQ(!0),m=f.run(()=>Bt({}));let b=[],y=[];const S=LH({install(_){S._a=_,_.provide(Ate,S),_.config.globalProperties.$pinia=S,y.forEach(T=>b.push(T)),y=[]},use(_){return!this._a&&!kte?y.push(_):b.push(_),this},_p:b,_a:null,_e:f,_s:new Map,state:m});return S}const xj="/assets/logo-75c93bc1.svg",Tte="/assets/tour-3908d667.svg",Ote="/assets/guide-2f617d29.svg",Dte="/assets/language-1f6f72b9.svg",Rte="/assets/mobility-6abf7304.svg",$te="/assets/place-32612cab.svg",Bte="/assets/category-1c106769.svg",Mte="/assets/verify-af8a1288.svg",Pte="/assets/skill-6808aa68.svg",kj="/assets/page-2cc861e5.svg",Ite="/assets/usermanagement-a4fe644f.svg";/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const t3=typeof window<"u";function Nte(f){return f.__esModule||f[Symbol.toStringTag]==="Module"}const Ro=Object.assign;function nH(f,m){const b={};for(const y in m){const S=m[y];b[y]=Ym(S)?S.map(f):f(S)}return b}const _5=()=>{},Ym=Array.isArray,zte=/\/$/,Fte=f=>f.replace(zte,"");function rH(f,m,b="/"){let y,S={},_="",T="";const D=m.indexOf("#");let F=m.indexOf("?");return D<F&&D>=0&&(F=-1),F>-1&&(y=m.slice(0,F),_=m.slice(F+1,D>-1?D:m.length),S=f(_)),D>-1&&(y=y||m.slice(0,D),T=m.slice(D,m.length)),y=Ute(y??m,b),{fullPath:y+(_&&"?")+_+T,path:y,query:S,hash:T}}function Lte(f,m){const b=m.query?f(m.query):"";return m.path+(b&&"?")+b+(m.hash||"")}function eW(f,m){return!m||!f.toLowerCase().startsWith(m.toLowerCase())?f:f.slice(m.length)||"/"}function Hte(f,m,b){const y=m.matched.length-1,S=b.matched.length-1;return y>-1&&y===S&&f3(m.matched[y],b.matched[S])&&Aj(m.params,b.params)&&f(m.query)===f(b.query)&&m.hash===b.hash}function f3(f,m){return(f.aliasOf||f)===(m.aliasOf||m)}function Aj(f,m){if(Object.keys(f).length!==Object.keys(m).length)return!1;for(const b in f)if(!Vte(f[b],m[b]))return!1;return!0}function Vte(f,m){return Ym(f)?tW(f,m):Ym(m)?tW(m,f):f===m}function tW(f,m){return Ym(m)?f.length===m.length&&f.every((b,y)=>b===m[y]):f.length===1&&f[0]===m}function Ute(f,m){if(f.startsWith("/"))return f;if(!f)return m;const b=m.split("/"),y=f.split("/"),S=y[y.length-1];(S===".."||S===".")&&y.push("");let _=b.length-1,T,D;for(T=0;T<y.length;T++)if(D=y[T],D!==".")if(D==="..")_>1&&_--;else break;return b.slice(0,_).join("/")+"/"+y.slice(T-(T===y.length?1:0)).join("/")}var $5;(function(f){f.pop="pop",f.push="push"})($5||($5={}));var x5;(function(f){f.back="back",f.forward="forward",f.unknown=""})(x5||(x5={}));function Wte(f){if(!f)if(t3){const m=document.querySelector("base");f=m&&m.getAttribute("href")||"/",f=f.replace(/^\w+:\/\/[^\/]+/,"")}else f="/";return f[0]!=="/"&&f[0]!=="#"&&(f="/"+f),Fte(f)}const jte=/^[^#]+#/;function Gte(f,m){return f.replace(jte,"#")+m}function qte(f,m){const b=document.documentElement.getBoundingClientRect(),y=f.getBoundingClientRect();return{behavior:m.behavior,left:y.left-b.left-(m.left||0),top:y.top-b.top-(m.top||0)}}const K6=()=>({left:window.pageXOffset,top:window.pageYOffset});function Kte(f){let m;if("el"in f){const b=f.el,y=typeof b=="string"&&b.startsWith("#"),S=typeof b=="string"?y?document.getElementById(b.slice(1)):document.querySelector(b):b;if(!S)return;m=qte(S,f)}else m=f;"scrollBehavior"in document.documentElement.style?window.scrollTo(m):window.scrollTo(m.left!=null?m.left:window.pageXOffset,m.top!=null?m.top:window.pageYOffset)}function nW(f,m){return(history.state?history.state.position-m:-1)+f}const _H=new Map;function Xte(f,m){_H.set(f,m)}function Yte(f){const m=_H.get(f);return _H.delete(f),m}let Jte=()=>location.protocol+"//"+location.host;function Ej(f,m){const{pathname:b,search:y,hash:S}=m,_=f.indexOf("#");if(_>-1){let D=S.includes(f.slice(_))?f.slice(_).length:1,F=S.slice(D);return F[0]!=="/"&&(F="/"+F),eW(F,"")}return eW(b,f)+y+S}function Zte(f,m,b,y){let S=[],_=[],T=null;const D=({state:P})=>{const H=Ej(f,location),Y=b.value,q=m.value;let $e=0;if(P){if(b.value=H,m.value=P,T&&T===Y){T=null;return}$e=q?P.position-q.position:0}else y(H);S.forEach(de=>{de(b.value,Y,{delta:$e,type:$5.pop,direction:$e?$e>0?x5.forward:x5.back:x5.unknown})})};function F(){T=b.value}function W(P){S.push(P);const H=()=>{const Y=S.indexOf(P);Y>-1&&S.splice(Y,1)};return _.push(H),H}function I(){const{history:P}=window;P.state&&P.replaceState(Ro({},P.state,{scroll:K6()}),"")}function L(){for(const P of _)P();_=[],window.removeEventListener("popstate",D),window.removeEventListener("beforeunload",I)}return window.addEventListener("popstate",D),window.addEventListener("beforeunload",I,{passive:!0}),{pauseListeners:F,listen:W,destroy:L}}function rW(f,m,b,y=!1,S=!1){return{back:f,current:m,forward:b,replaced:y,position:window.history.length,scroll:S?K6():null}}function Qte(f){const{history:m,location:b}=window,y={value:Ej(f,b)},S={value:m.state};S.value||_(y.value,{back:null,current:y.value,forward:null,position:m.length-1,replaced:!0,scroll:null},!0);function _(F,W,I){const L=f.indexOf("#"),P=L>-1?(b.host&&document.querySelector("base")?f:f.slice(L))+F:Jte()+f+F;try{m[I?"replaceState":"pushState"](W,"",P),S.value=W}catch(H){console.error(H),b[I?"replace":"assign"](P)}}function T(F,W){const I=Ro({},m.state,rW(S.value.back,F,S.value.forward,!0),W,{position:S.value.position});_(F,I,!0),y.value=F}function D(F,W){const I=Ro({},S.value,m.state,{forward:F,scroll:K6()});_(I.current,I,!0);const L=Ro({},rW(y.value,F,null),{position:I.position+1},W);_(F,L,!1),y.value=F}return{location:y,state:S,push:D,replace:T}}function ene(f){f=Wte(f);const m=Qte(f),b=Zte(f,m.state,m.location,m.replace);function y(_,T=!0){T||b.pauseListeners(),history.go(_)}const S=Ro({location:"",base:f,go:y,createHref:Gte.bind(null,f)},m,b);return Object.defineProperty(S,"location",{enumerable:!0,get:()=>m.location.value}),Object.defineProperty(S,"state",{enumerable:!0,get:()=>m.state.value}),S}function tne(f){return typeof f=="string"||f&&typeof f=="object"}function Tj(f){return typeof f=="string"||typeof f=="symbol"}const qy={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Oj=Symbol("");var aW;(function(f){f[f.aborted=4]="aborted",f[f.cancelled=8]="cancelled",f[f.duplicated=16]="duplicated"})(aW||(aW={}));function v3(f,m){return Ro(new Error,{type:f,[Oj]:!0},m)}function tb(f,m){return f instanceof Error&&Oj in f&&(m==null||!!(f.type&m))}const oW="[^/]+?",nne={sensitive:!1,strict:!1,start:!0,end:!0},rne=/[.+*?^${}()[\]/\\]/g;function ane(f,m){const b=Ro({},nne,m),y=[];let S=b.start?"^":"";const _=[];for(const W of f){const I=W.length?[]:[90];b.strict&&!W.length&&(S+="/");for(let L=0;L<W.length;L++){const P=W[L];let H=40+(b.sensitive?.25:0);if(P.type===0)L||(S+="/"),S+=P.value.replace(rne,"\\$&"),H+=40;else if(P.type===1){const{value:Y,repeatable:q,optional:$e,regexp:de}=P;_.push({name:Y,repeatable:q,optional:$e});const Be=de||oW;if(Be!==oW){H+=10;try{new RegExp(`(${Be})`)}catch(Ee){throw new Error(`Invalid custom RegExp for param "${Y}" (${Be}): `+Ee.message)}}let ue=q?`((?:${Be})(?:/(?:${Be}))*)`:`(${Be})`;L||(ue=$e&&W.length<2?`(?:/${ue})`:"/"+ue),$e&&(ue+="?"),S+=ue,H+=20,$e&&(H+=-8),q&&(H+=-20),Be===".*"&&(H+=-50)}I.push(H)}y.push(I)}if(b.strict&&b.end){const W=y.length-1;y[W][y[W].length-1]+=.7000000000000001}b.strict||(S+="/?"),b.end?S+="$":b.strict&&(S+="(?:/|$)");const T=new RegExp(S,b.sensitive?"":"i");function D(W){const I=W.match(T),L={};if(!I)return null;for(let P=1;P<I.length;P++){const H=I[P]||"",Y=_[P-1];L[Y.name]=H&&Y.repeatable?H.split("/"):H}return L}function F(W){let I="",L=!1;for(const P of f){(!L||!I.endsWith("/"))&&(I+="/"),L=!1;for(const H of P)if(H.type===0)I+=H.value;else if(H.type===1){const{value:Y,repeatable:q,optional:$e}=H,de=Y in W?W[Y]:"";if(Ym(de)&&!q)throw new Error(`Provided param "${Y}" is an array but it is not repeatable (* or + modifiers)`);const Be=Ym(de)?de.join("/"):de;if(!Be)if($e)P.length<2&&(I.endsWith("/")?I=I.slice(0,-1):L=!0);else throw new Error(`Missing required param "${Y}"`);I+=Be}}return I||"/"}return{re:T,score:y,keys:_,parse:D,stringify:F}}function one(f,m){let b=0;for(;b<f.length&&b<m.length;){const y=m[b]-f[b];if(y)return y;b++}return f.length<m.length?f.length===1&&f[0]===40+40?-1:1:f.length>m.length?m.length===1&&m[0]===40+40?1:-1:0}function ine(f,m){let b=0;const y=f.score,S=m.score;for(;b<y.length&&b<S.length;){const _=one(y[b],S[b]);if(_)return _;b++}if(Math.abs(S.length-y.length)===1){if(iW(y))return 1;if(iW(S))return-1}return S.length-y.length}function iW(f){const m=f[f.length-1];return f.length>0&&m[m.length-1]<0}const une={type:0,value:""},sne=/[a-zA-Z0-9_]/;function lne(f){if(!f)return[[]];if(f==="/")return[[une]];if(!f.startsWith("/"))throw new Error(`Invalid path "${f}"`);function m(H){throw new Error(`ERR (${b})/"${W}": ${H}`)}let b=0,y=b;const S=[];let _;function T(){_&&S.push(_),_=[]}let D=0,F,W="",I="";function L(){W&&(b===0?_.push({type:0,value:W}):b===1||b===2||b===3?(_.length>1&&(F==="*"||F==="+")&&m(`A repeatable param (${W}) must be alone in its segment. eg: '/:ids+.`),_.push({type:1,value:W,regexp:I,repeatable:F==="*"||F==="+",optional:F==="*"||F==="?"})):m("Invalid state to consume buffer"),W="")}function P(){W+=F}for(;D<f.length;){if(F=f[D++],F==="\\"&&b!==2){y=b,b=4;continue}switch(b){case 0:F==="/"?(W&&L(),T()):F===":"?(L(),b=1):P();break;case 4:P(),b=y;break;case 1:F==="("?b=2:sne.test(F)?P():(L(),b=0,F!=="*"&&F!=="?"&&F!=="+"&&D--);break;case 2:F===")"?I[I.length-1]=="\\"?I=I.slice(0,-1)+F:b=3:I+=F;break;case 3:L(),b=0,F!=="*"&&F!=="?"&&F!=="+"&&D--,I="";break;default:m("Unknown state");break}}return b===2&&m(`Unfinished custom RegExp for param "${W}"`),L(),T(),S}function cne(f,m,b){const y=ane(lne(f.path),b),S=Ro(y,{record:f,parent:m,children:[],alias:[]});return m&&!S.record.aliasOf==!m.record.aliasOf&&m.children.push(S),S}function fne(f,m){const b=[],y=new Map;m=lW({strict:!1,end:!0,sensitive:!1},m);function S(I){return y.get(I)}function _(I,L,P){const H=!P,Y=vne(I);Y.aliasOf=P&&P.record;const q=lW(m,I),$e=[Y];if("alias"in I){const ue=typeof I.alias=="string"?[I.alias]:I.alias;for(const Ee of ue)$e.push(Ro({},Y,{components:P?P.record.components:Y.components,path:Ee,aliasOf:P?P.record:Y}))}let de,Be;for(const ue of $e){const{path:Ee}=ue;if(L&&Ee[0]!=="/"){const De=L.record.path,ke=De[De.length-1]==="/"?"":"/";ue.path=L.record.path+(Ee&&ke+Ee)}if(de=cne(ue,L,q),P?P.alias.push(de):(Be=Be||de,Be!==de&&Be.alias.push(de),H&&I.name&&!sW(de)&&T(I.name)),Y.children){const De=Y.children;for(let ke=0;ke<De.length;ke++)_(De[ke],de,P&&P.children[ke])}P=P||de,(de.record.components&&Object.keys(de.record.components).length||de.record.name||de.record.redirect)&&F(de)}return Be?()=>{T(Be)}:_5}function T(I){if(Tj(I)){const L=y.get(I);L&&(y.delete(I),b.splice(b.indexOf(L),1),L.children.forEach(T),L.alias.forEach(T))}else{const L=b.indexOf(I);L>-1&&(b.splice(L,1),I.record.name&&y.delete(I.record.name),I.children.forEach(T),I.alias.forEach(T))}}function D(){return b}function F(I){let L=0;for(;L<b.length&&ine(I,b[L])>=0&&(I.record.path!==b[L].record.path||!Dj(I,b[L]));)L++;b.splice(L,0,I),I.record.name&&!sW(I)&&y.set(I.record.name,I)}function W(I,L){let P,H={},Y,q;if("name"in I&&I.name){if(P=y.get(I.name),!P)throw v3(1,{location:I});q=P.record.name,H=Ro(uW(L.params,P.keys.filter(Be=>!Be.optional).map(Be=>Be.name)),I.params&&uW(I.params,P.keys.map(Be=>Be.name))),Y=P.stringify(H)}else if("path"in I)Y=I.path,P=b.find(Be=>Be.re.test(Y)),P&&(H=P.parse(Y),q=P.record.name);else{if(P=L.name?y.get(L.name):b.find(Be=>Be.re.test(L.path)),!P)throw v3(1,{location:I,currentLocation:L});q=P.record.name,H=Ro({},L.params,I.params),Y=P.stringify(H)}const $e=[];let de=P;for(;de;)$e.unshift(de.record),de=de.parent;return{name:q,path:Y,params:H,matched:$e,meta:mne($e)}}return f.forEach(I=>_(I)),{addRoute:_,resolve:W,removeRoute:T,getRoutes:D,getRecordMatcher:S}}function uW(f,m){const b={};for(const y of m)y in f&&(b[y]=f[y]);return b}function vne(f){return{path:f.path,redirect:f.redirect,name:f.name,meta:f.meta||{},aliasOf:void 0,beforeEnter:f.beforeEnter,props:dne(f),children:f.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in f?f.components||null:f.component&&{default:f.component}}}function dne(f){const m={},b=f.props||!1;if("component"in f)m.default=b;else for(const y in f.components)m[y]=typeof b=="object"?b[y]:b;return m}function sW(f){for(;f;){if(f.record.aliasOf)return!0;f=f.parent}return!1}function mne(f){return f.reduce((m,b)=>Ro(m,b.meta),{})}function lW(f,m){const b={};for(const y in f)b[y]=y in m?m[y]:f[y];return b}function Dj(f,m){return m.children.some(b=>b===f||Dj(f,b))}const Rj=/#/g,hne=/&/g,gne=/\//g,pne=/=/g,bne=/\?/g,$j=/\+/g,yne=/%5B/g,wne=/%5D/g,Bj=/%5E/g,Cne=/%60/g,Mj=/%7B/g,Sne=/%7C/g,Pj=/%7D/g,_ne=/%20/g;function XH(f){return encodeURI(""+f).replace(Sne,"|").replace(yne,"[").replace(wne,"]")}function xne(f){return XH(f).replace(Mj,"{").replace(Pj,"}").replace(Bj,"^")}function xH(f){return XH(f).replace($j,"%2B").replace(_ne,"+").replace(Rj,"%23").replace(hne,"%26").replace(Cne,"`").replace(Mj,"{").replace(Pj,"}").replace(Bj,"^")}function kne(f){return xH(f).replace(pne,"%3D")}function Ane(f){return XH(f).replace(Rj,"%23").replace(bne,"%3F")}function Ene(f){return f==null?"":Ane(f).replace(gne,"%2F")}function x6(f){try{return decodeURIComponent(""+f)}catch{}return""+f}function Tne(f){const m={};if(f===""||f==="?")return m;const y=(f[0]==="?"?f.slice(1):f).split("&");for(let S=0;S<y.length;++S){const _=y[S].replace($j," "),T=_.indexOf("="),D=x6(T<0?_:_.slice(0,T)),F=T<0?null:x6(_.slice(T+1));if(D in m){let W=m[D];Ym(W)||(W=m[D]=[W]),W.push(F)}else m[D]=F}return m}function cW(f){let m="";for(let b in f){const y=f[b];if(b=kne(b),y==null){y!==void 0&&(m+=(m.length?"&":"")+b);continue}(Ym(y)?y.map(_=>_&&xH(_)):[y&&xH(y)]).forEach(_=>{_!==void 0&&(m+=(m.length?"&":"")+b,_!=null&&(m+="="+_))})}return m}function One(f){const m={};for(const b in f){const y=f[b];y!==void 0&&(m[b]=Ym(y)?y.map(S=>S==null?null:""+S):y==null?y:""+y)}return m}const Dne=Symbol(""),fW=Symbol(""),X6=Symbol(""),YH=Symbol(""),kH=Symbol("");function g5(){let f=[];function m(y){return f.push(y),()=>{const S=f.indexOf(y);S>-1&&f.splice(S,1)}}function b(){f=[]}return{add:m,list:()=>f.slice(),reset:b}}function Yy(f,m,b,y,S){const _=y&&(y.enterCallbacks[S]=y.enterCallbacks[S]||[]);return()=>new Promise((T,D)=>{const F=L=>{L===!1?D(v3(4,{from:b,to:m})):L instanceof Error?D(L):tne(L)?D(v3(2,{from:m,to:L})):(_&&y.enterCallbacks[S]===_&&typeof L=="function"&&_.push(L),T())},W=f.call(y&&y.instances[S],m,b,F);let I=Promise.resolve(W);f.length<3&&(I=I.then(F)),I.catch(L=>D(L))})}function aH(f,m,b,y){const S=[];for(const _ of f)for(const T in _.components){let D=_.components[T];if(!(m!=="beforeRouteEnter"&&!_.instances[T]))if(Rne(D)){const W=(D.__vccOpts||D)[m];W&&S.push(Yy(W,b,y,_,T))}else{let F=D();S.push(()=>F.then(W=>{if(!W)return Promise.reject(new Error(`Couldn't resolve component "${T}" at "${_.path}"`));const I=Nte(W)?W.default:W;_.components[T]=I;const P=(I.__vccOpts||I)[m];return P&&Yy(P,b,y,_,T)()}))}}return S}function Rne(f){return typeof f=="object"||"displayName"in f||"props"in f||"__vccOpts"in f}function vW(f){const m=Xm(X6),b=Xm(YH),y=ri(()=>m.resolve($o(f.to))),S=ri(()=>{const{matched:F}=y.value,{length:W}=F,I=F[W-1],L=b.matched;if(!I||!L.length)return-1;const P=L.findIndex(f3.bind(null,I));if(P>-1)return P;const H=dW(F[W-2]);return W>1&&dW(I)===H&&L[L.length-1].path!==H?L.findIndex(f3.bind(null,F[W-2])):P}),_=ri(()=>S.value>-1&&Mne(b.params,y.value.params)),T=ri(()=>S.value>-1&&S.value===b.matched.length-1&&Aj(b.params,y.value.params));function D(F={}){return Bne(F)?m[$o(f.replace)?"replace":"push"]($o(f.to)).catch(_5):Promise.resolve()}return{route:y,href:ri(()=>y.value.href),isActive:_,isExactActive:T,navigate:D}}const $ne=oj({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vW,setup(f,{slots:m}){const b=L6(vW(f)),{options:y}=Xm(X6),S=ri(()=>({[mW(f.activeClass,y.linkActiveClass,"router-link-active")]:b.isActive,[mW(f.exactActiveClass,y.linkExactActiveClass,"router-link-exact-active")]:b.isExactActive}));return()=>{const _=m.default&&m.default(b);return f.custom?_:Sj("a",{"aria-current":b.isExactActive?f.ariaCurrentValue:null,href:b.href,onClick:b.navigate,class:S.value},_)}}}),kf=$ne;function Bne(f){if(!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)&&!f.defaultPrevented&&!(f.button!==void 0&&f.button!==0)){if(f.currentTarget&&f.currentTarget.getAttribute){const m=f.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(m))return}return f.preventDefault&&f.preventDefault(),!0}}function Mne(f,m){for(const b in m){const y=m[b],S=f[b];if(typeof y=="string"){if(y!==S)return!1}else if(!Ym(S)||S.length!==y.length||y.some((_,T)=>_!==S[T]))return!1}return!0}function dW(f){return f?f.aliasOf?f.aliasOf.path:f.path:""}const mW=(f,m,b)=>f??m??b,Pne=oj({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(f,{attrs:m,slots:b}){const y=Xm(kH),S=ri(()=>f.route||y.value),_=Xm(fW,0),T=ri(()=>{let W=$o(_);const{matched:I}=S.value;let L;for(;(L=I[W])&&!L.components;)W++;return W}),D=ri(()=>S.value.matched[T.value]);s6(fW,ri(()=>T.value+1)),s6(Dne,D),s6(kH,S);const F=Bt();return Km(()=>[F.value,D.value,f.name],([W,I,L],[P,H,Y])=>{I&&(I.instances[L]=W,H&&H!==I&&W&&W===P&&(I.leaveGuards.size||(I.leaveGuards=H.leaveGuards),I.updateGuards.size||(I.updateGuards=H.updateGuards))),W&&I&&(!H||!f3(I,H)||!P)&&(I.enterCallbacks[L]||[]).forEach(q=>q(W))},{flush:"post"}),()=>{const W=S.value,I=f.name,L=D.value,P=L&&L.components[I];if(!P)return hW(b.default,{Component:P,route:W});const H=L.props[I],Y=H?H===!0?W.params:typeof H=="function"?H(W):H:null,$e=Sj(P,Ro({},Y,m,{onVnodeUnmounted:de=>{de.component.isUnmounted&&(L.instances[I]=null)},ref:F}));return hW(b.default,{Component:$e,route:W})||$e}}});function hW(f,m){if(!f)return null;const b=f(m);return b.length===1?b[0]:b}const Ij=Pne;function Ine(f){const m=fne(f.routes,f),b=f.parseQuery||Tne,y=f.stringifyQuery||cW,S=f.history,_=g5(),T=g5(),D=g5(),F=jQ(qy);let W=qy;t3&&f.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const I=nH.bind(null,te=>""+te),L=nH.bind(null,Ene),P=nH.bind(null,x6);function H(te,fn){let Ue,gt;return Tj(te)?(Ue=m.getRecordMatcher(te),gt=fn):gt=te,m.addRoute(gt,Ue)}function Y(te){const fn=m.getRecordMatcher(te);fn&&m.removeRoute(fn)}function q(){return m.getRoutes().map(te=>te.record)}function $e(te){return!!m.getRecordMatcher(te)}function de(te,fn){if(fn=Ro({},fn||F.value),typeof te=="string"){const Je=rH(b,te,fn.path),et=m.resolve({path:Je.path},fn),He=S.createHref(Je.fullPath);return Ro(Je,et,{params:P(et.params),hash:x6(Je.hash),redirectedFrom:void 0,href:He})}let Ue;if("path"in te)Ue=Ro({},te,{path:rH(b,te.path,fn.path).path});else{const Je=Ro({},te.params);for(const et in Je)Je[et]==null&&delete Je[et];Ue=Ro({},te,{params:L(Je)}),fn.params=L(fn.params)}const gt=m.resolve(Ue,fn),qn=te.hash||"";gt.params=I(P(gt.params));const Te=Lte(y,Ro({},te,{hash:xne(qn),path:gt.path})),Ae=S.createHref(Te);return Ro({fullPath:Te,hash:qn,query:y===cW?One(te.query):te.query||{}},gt,{redirectedFrom:void 0,href:Ae})}function Be(te){return typeof te=="string"?rH(b,te,F.value.path):Ro({},te)}function ue(te,fn){if(W!==te)return v3(8,{from:fn,to:te})}function Ee(te){return Ye(te)}function De(te){return Ee(Ro(Be(te),{replace:!0}))}function ke(te){const fn=te.matched[te.matched.length-1];if(fn&&fn.redirect){const{redirect:Ue}=fn;let gt=typeof Ue=="function"?Ue(te):Ue;return typeof gt=="string"&&(gt=gt.includes("?")||gt.includes("#")?gt=Be(gt):{path:gt},gt.params={}),Ro({query:te.query,hash:te.hash,params:"path"in gt?{}:te.params},gt)}}function Ye(te,fn){const Ue=W=de(te),gt=F.value,qn=te.state,Te=te.force,Ae=te.replace===!0,Je=ke(Ue);if(Je)return Ye(Ro(Be(Je),{state:typeof Je=="object"?Ro({},qn,Je.state):qn,force:Te,replace:Ae}),fn||Ue);const et=Ue;et.redirectedFrom=fn;let He;return!Te&&Hte(y,gt,Ue)&&(He=v3(16,{to:et,from:gt}),at(gt,gt,!0,!1)),(He?Promise.resolve(He):ye(et,gt)).catch(pt=>tb(pt)?tb(pt,2)?pt:_t(pt):ut(pt,et,gt)).then(pt=>{if(pt){if(tb(pt,2))return Ye(Ro({replace:Ae},Be(pt.to),{state:typeof pt.to=="object"?Ro({},qn,pt.to.state):qn,force:Te}),fn||et)}else pt=ne(et,gt,!0,Ae,qn);return Me(et,gt,pt),pt})}function le(te,fn){const Ue=ue(te,fn);return Ue?Promise.reject(Ue):Promise.resolve()}function pe(te){const fn=cn.values().next().value;return fn&&typeof fn.runWithContext=="function"?fn.runWithContext(te):te()}function ye(te,fn){let Ue;const[gt,qn,Te]=Nne(te,fn);Ue=aH(gt.reverse(),"beforeRouteLeave",te,fn);for(const Je of gt)Je.leaveGuards.forEach(et=>{Ue.push(Yy(et,te,fn))});const Ae=le.bind(null,te,fn);return Ue.push(Ae),Sn(Ue).then(()=>{Ue=[];for(const Je of _.list())Ue.push(Yy(Je,te,fn));return Ue.push(Ae),Sn(Ue)}).then(()=>{Ue=aH(qn,"beforeRouteUpdate",te,fn);for(const Je of qn)Je.updateGuards.forEach(et=>{Ue.push(Yy(et,te,fn))});return Ue.push(Ae),Sn(Ue)}).then(()=>{Ue=[];for(const Je of Te)if(Je.beforeEnter)if(Ym(Je.beforeEnter))for(const et of Je.beforeEnter)Ue.push(Yy(et,te,fn));else Ue.push(Yy(Je.beforeEnter,te,fn));return Ue.push(Ae),Sn(Ue)}).then(()=>(te.matched.forEach(Je=>Je.enterCallbacks={}),Ue=aH(Te,"beforeRouteEnter",te,fn),Ue.push(Ae),Sn(Ue))).then(()=>{Ue=[];for(const Je of T.list())Ue.push(Yy(Je,te,fn));return Ue.push(Ae),Sn(Ue)}).catch(Je=>tb(Je,8)?Je:Promise.reject(Je))}function Me(te,fn,Ue){D.list().forEach(gt=>pe(()=>gt(te,fn,Ue)))}function ne(te,fn,Ue,gt,qn){const Te=ue(te,fn);if(Te)return Te;const Ae=fn===qy,Je=t3?history.state:{};Ue&&(gt||Ae?S.replace(te.fullPath,Ro({scroll:Ae&&Je&&Je.scroll},qn)):S.push(te.fullPath,qn)),F.value=te,at(te,fn,Ue,Ae),_t()}let U;function _e(){U||(U=S.listen((te,fn,Ue)=>{if(!lt.listening)return;const gt=de(te),qn=ke(gt);if(qn){Ye(Ro(qn,{replace:!0}),gt).catch(_5);return}W=gt;const Te=F.value;t3&&Xte(nW(Te.fullPath,Ue.delta),K6()),ye(gt,Te).catch(Ae=>tb(Ae,12)?Ae:tb(Ae,2)?(Ye(Ae.to,gt).then(Je=>{tb(Je,20)&&!Ue.delta&&Ue.type===$5.pop&&S.go(-1,!1)}).catch(_5),Promise.reject()):(Ue.delta&&S.go(-Ue.delta,!1),ut(Ae,gt,Te))).then(Ae=>{Ae=Ae||ne(gt,Te,!1),Ae&&(Ue.delta&&!tb(Ae,8)?S.go(-Ue.delta,!1):Ue.type===$5.pop&&tb(Ae,20)&&S.go(-1,!1)),Me(gt,Te,Ae)}).catch(_5)}))}let Qe=g5(),se=g5(),ge;function ut(te,fn,Ue){_t(te);const gt=se.list();return gt.length?gt.forEach(qn=>qn(te,fn,Ue)):console.error(te),Promise.reject(te)}function B(){return ge&&F.value!==qy?Promise.resolve():new Promise((te,fn)=>{Qe.add([te,fn])})}function _t(te){return ge||(ge=!te,_e(),Qe.list().forEach(([fn,Ue])=>te?Ue(te):fn()),Qe.reset()),te}function at(te,fn,Ue,gt){const{scrollBehavior:qn}=f;if(!t3||!qn)return Promise.resolve();const Te=!Ue&&Yte(nW(te.fullPath,0))||(gt||!Ue)&&history.state&&history.state.scroll||null;return ZW().then(()=>qn(te,fn,Te)).then(Ae=>Ae&&Kte(Ae)).catch(Ae=>ut(Ae,te,fn))}const ot=te=>S.go(te);let kn;const cn=new Set,lt={currentRoute:F,listening:!0,addRoute:H,removeRoute:Y,hasRoute:$e,getRoutes:q,resolve:de,options:f,push:Ee,replace:De,go:ot,back:()=>ot(-1),forward:()=>ot(1),beforeEach:_.add,beforeResolve:T.add,afterEach:D.add,onError:se.add,isReady:B,install(te){const fn=this;te.component("RouterLink",kf),te.component("RouterView",Ij),te.config.globalProperties.$router=fn,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>$o(F)}),t3&&!kn&&F.value===qy&&(kn=!0,Ee(S.location).catch(qn=>{}));const Ue={};for(const qn in qy)Object.defineProperty(Ue,qn,{get:()=>F.value[qn],enumerable:!0});te.provide(X6,fn),te.provide(YH,WW(Ue)),te.provide(kH,F);const gt=te.unmount;cn.add(te),te.unmount=function(){cn.delete(te),cn.size<1&&(W=qy,U&&U(),U=null,F.value=qy,kn=!1,ge=!1),gt()}}};function Sn(te){return te.reduce((fn,Ue)=>fn.then(()=>pe(Ue)),Promise.resolve())}return lt}function Nne(f,m){const b=[],y=[],S=[],_=Math.max(m.matched.length,f.matched.length);for(let T=0;T<_;T++){const D=m.matched[T];D&&(f.matched.find(W=>f3(W,D))?y.push(D):b.push(D));const F=f.matched[T];F&&(m.matched.find(W=>f3(W,F))||S.push(F))}return[b,y,S]}function Jm(){return Xm(X6)}function up(){return Xm(YH)}function Nj(f,m){return function(){return f.apply(m,arguments)}}const{toString:zne}=Object.prototype,{getPrototypeOf:JH}=Object,Y6=(f=>m=>{const b=zne.call(m);return f[b]||(f[b]=b.slice(8,-1).toLowerCase())})(Object.create(null)),sp=f=>(f=f.toLowerCase(),m=>Y6(m)===f),J6=f=>m=>typeof m===f,{isArray:y3}=Array,B5=J6("undefined");function Fne(f){return f!==null&&!B5(f)&&f.constructor!==null&&!B5(f.constructor)&&Td(f.constructor.isBuffer)&&f.constructor.isBuffer(f)}const zj=sp("ArrayBuffer");function Lne(f){let m;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?m=ArrayBuffer.isView(f):m=f&&f.buffer&&zj(f.buffer),m}const Hne=J6("string"),Td=J6("function"),Fj=J6("number"),Z6=f=>f!==null&&typeof f=="object",Vne=f=>f===!0||f===!1,c6=f=>{if(Y6(f)!=="object")return!1;const m=JH(f);return(m===null||m===Object.prototype||Object.getPrototypeOf(m)===null)&&!(Symbol.toStringTag in f)&&!(Symbol.iterator in f)},Une=sp("Date"),Wne=sp("File"),jne=sp("Blob"),Gne=sp("FileList"),qne=f=>Z6(f)&&Td(f.pipe),Kne=f=>{let m;return f&&(typeof FormData=="function"&&f instanceof FormData||Td(f.append)&&((m=Y6(f))==="formdata"||m==="object"&&Td(f.toString)&&f.toString()==="[object FormData]"))},Xne=sp("URLSearchParams"),Yne=f=>f.trim?f.trim():f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function P5(f,m,{allOwnKeys:b=!1}={}){if(f===null||typeof f>"u")return;let y,S;if(typeof f!="object"&&(f=[f]),y3(f))for(y=0,S=f.length;y<S;y++)m.call(null,f[y],y,f);else{const _=b?Object.getOwnPropertyNames(f):Object.keys(f),T=_.length;let D;for(y=0;y<T;y++)D=_[y],m.call(null,f[D],D,f)}}function Lj(f,m){m=m.toLowerCase();const b=Object.keys(f);let y=b.length,S;for(;y-- >0;)if(S=b[y],m===S.toLowerCase())return S;return null}const Hj=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Vj=f=>!B5(f)&&f!==Hj;function AH(){const{caseless:f}=Vj(this)&&this||{},m={},b=(y,S)=>{const _=f&&Lj(m,S)||S;c6(m[_])&&c6(y)?m[_]=AH(m[_],y):c6(y)?m[_]=AH({},y):y3(y)?m[_]=y.slice():m[_]=y};for(let y=0,S=arguments.length;y<S;y++)arguments[y]&&P5(arguments[y],b);return m}const Jne=(f,m,b,{allOwnKeys:y}={})=>(P5(m,(S,_)=>{b&&Td(S)?f[_]=Nj(S,b):f[_]=S},{allOwnKeys:y}),f),Zne=f=>(f.charCodeAt(0)===65279&&(f=f.slice(1)),f),Qne=(f,m,b,y)=>{f.prototype=Object.create(m.prototype,y),f.prototype.constructor=f,Object.defineProperty(f,"super",{value:m.prototype}),b&&Object.assign(f.prototype,b)},ere=(f,m,b,y)=>{let S,_,T;const D={};if(m=m||{},f==null)return m;do{for(S=Object.getOwnPropertyNames(f),_=S.length;_-- >0;)T=S[_],(!y||y(T,f,m))&&!D[T]&&(m[T]=f[T],D[T]=!0);f=b!==!1&&JH(f)}while(f&&(!b||b(f,m))&&f!==Object.prototype);return m},tre=(f,m,b)=>{f=String(f),(b===void 0||b>f.length)&&(b=f.length),b-=m.length;const y=f.indexOf(m,b);return y!==-1&&y===b},nre=f=>{if(!f)return null;if(y3(f))return f;let m=f.length;if(!Fj(m))return null;const b=new Array(m);for(;m-- >0;)b[m]=f[m];return b},rre=(f=>m=>f&&m instanceof f)(typeof Uint8Array<"u"&&JH(Uint8Array)),are=(f,m)=>{const y=(f&&f[Symbol.iterator]).call(f);let S;for(;(S=y.next())&&!S.done;){const _=S.value;m.call(f,_[0],_[1])}},ore=(f,m)=>{let b;const y=[];for(;(b=f.exec(m))!==null;)y.push(b);return y},ire=sp("HTMLFormElement"),ure=f=>f.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(b,y,S){return y.toUpperCase()+S}),gW=(({hasOwnProperty:f})=>(m,b)=>f.call(m,b))(Object.prototype),sre=sp("RegExp"),Uj=(f,m)=>{const b=Object.getOwnPropertyDescriptors(f),y={};P5(b,(S,_)=>{let T;(T=m(S,_,f))!==!1&&(y[_]=T||S)}),Object.defineProperties(f,y)},lre=f=>{Uj(f,(m,b)=>{if(Td(f)&&["arguments","caller","callee"].indexOf(b)!==-1)return!1;const y=f[b];if(Td(y)){if(m.enumerable=!1,"writable"in m){m.writable=!1;return}m.set||(m.set=()=>{throw Error("Can not rewrite read-only method '"+b+"'")})}})},cre=(f,m)=>{const b={},y=S=>{S.forEach(_=>{b[_]=!0})};return y3(f)?y(f):y(String(f).split(m)),b},fre=()=>{},vre=(f,m)=>(f=+f,Number.isFinite(f)?f:m),oH="abcdefghijklmnopqrstuvwxyz",pW="0123456789",Wj={DIGIT:pW,ALPHA:oH,ALPHA_DIGIT:oH+oH.toUpperCase()+pW},dre=(f=16,m=Wj.ALPHA_DIGIT)=>{let b="";const{length:y}=m;for(;f--;)b+=m[Math.random()*y|0];return b};function mre(f){return!!(f&&Td(f.append)&&f[Symbol.toStringTag]==="FormData"&&f[Symbol.iterator])}const hre=f=>{const m=new Array(10),b=(y,S)=>{if(Z6(y)){if(m.indexOf(y)>=0)return;if(!("toJSON"in y)){m[S]=y;const _=y3(y)?[]:{};return P5(y,(T,D)=>{const F=b(T,S+1);!B5(F)&&(_[D]=F)}),m[S]=void 0,_}}return y};return b(f,0)},gre=sp("AsyncFunction"),pre=f=>f&&(Z6(f)||Td(f))&&Td(f.then)&&Td(f.catch),un={isArray:y3,isArrayBuffer:zj,isBuffer:Fne,isFormData:Kne,isArrayBufferView:Lne,isString:Hne,isNumber:Fj,isBoolean:Vne,isObject:Z6,isPlainObject:c6,isUndefined:B5,isDate:Une,isFile:Wne,isBlob:jne,isRegExp:sre,isFunction:Td,isStream:qne,isURLSearchParams:Xne,isTypedArray:rre,isFileList:Gne,forEach:P5,merge:AH,extend:Jne,trim:Yne,stripBOM:Zne,inherits:Qne,toFlatObject:ere,kindOf:Y6,kindOfTest:sp,endsWith:tre,toArray:nre,forEachEntry:are,matchAll:ore,isHTMLForm:ire,hasOwnProperty:gW,hasOwnProp:gW,reduceDescriptors:Uj,freezeMethods:lre,toObjectSet:cre,toCamelCase:ure,noop:fre,toFiniteNumber:vre,findKey:Lj,global:Hj,isContextDefined:Vj,ALPHABET:Wj,generateString:dre,isSpecCompliantForm:mre,toJSONObject:hre,isAsyncFn:gre,isThenable:pre};function eo(f,m,b,y,S){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=f,this.name="AxiosError",m&&(this.code=m),b&&(this.config=b),y&&(this.request=y),S&&(this.response=S)}un.inherits(eo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:un.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jj=eo.prototype,Gj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(f=>{Gj[f]={value:f}});Object.defineProperties(eo,Gj);Object.defineProperty(jj,"isAxiosError",{value:!0});eo.from=(f,m,b,y,S,_)=>{const T=Object.create(jj);return un.toFlatObject(f,T,function(F){return F!==Error.prototype},D=>D!=="isAxiosError"),eo.call(T,f.message,m,b,y,S),T.cause=f,T.name=f.name,_&&Object.assign(T,_),T};const bre=null;function EH(f){return un.isPlainObject(f)||un.isArray(f)}function qj(f){return un.endsWith(f,"[]")?f.slice(0,-2):f}function bW(f,m,b){return f?f.concat(m).map(function(S,_){return S=qj(S),!b&&_?"["+S+"]":S}).join(b?".":""):m}function yre(f){return un.isArray(f)&&!f.some(EH)}const wre=un.toFlatObject(un,{},null,function(m){return/^is[A-Z]/.test(m)});function Q6(f,m,b){if(!un.isObject(f))throw new TypeError("target must be an object");m=m||new FormData,b=un.toFlatObject(b,{metaTokens:!0,dots:!1,indexes:!1},!1,function(q,$e){return!un.isUndefined($e[q])});const y=b.metaTokens,S=b.visitor||I,_=b.dots,T=b.indexes,F=(b.Blob||typeof Blob<"u"&&Blob)&&un.isSpecCompliantForm(m);if(!un.isFunction(S))throw new TypeError("visitor must be a function");function W(Y){if(Y===null)return"";if(un.isDate(Y))return Y.toISOString();if(!F&&un.isBlob(Y))throw new eo("Blob is not supported. Use a Buffer instead.");return un.isArrayBuffer(Y)||un.isTypedArray(Y)?F&&typeof Blob=="function"?new Blob([Y]):Buffer.from(Y):Y}function I(Y,q,$e){let de=Y;if(Y&&!$e&&typeof Y=="object"){if(un.endsWith(q,"{}"))q=y?q:q.slice(0,-2),Y=JSON.stringify(Y);else if(un.isArray(Y)&&yre(Y)||(un.isFileList(Y)||un.endsWith(q,"[]"))&&(de=un.toArray(Y)))return q=qj(q),de.forEach(function(ue,Ee){!(un.isUndefined(ue)||ue===null)&&m.append(T===!0?bW([q],Ee,_):T===null?q:q+"[]",W(ue))}),!1}return EH(Y)?!0:(m.append(bW($e,q,_),W(Y)),!1)}const L=[],P=Object.assign(wre,{defaultVisitor:I,convertValue:W,isVisitable:EH});function H(Y,q){if(!un.isUndefined(Y)){if(L.indexOf(Y)!==-1)throw Error("Circular reference detected in "+q.join("."));L.push(Y),un.forEach(Y,function(de,Be){(!(un.isUndefined(de)||de===null)&&S.call(m,de,un.isString(Be)?Be.trim():Be,q,P))===!0&&H(de,q?q.concat(Be):[Be])}),L.pop()}}if(!un.isObject(f))throw new TypeError("data must be an object");return H(f),m}function yW(f){const m={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(f).replace(/[!'()~]|%20|%00/g,function(y){return m[y]})}function ZH(f,m){this._pairs=[],f&&Q6(f,this,m)}const Kj=ZH.prototype;Kj.append=function(m,b){this._pairs.push([m,b])};Kj.toString=function(m){const b=m?function(y){return m.call(this,y,yW)}:yW;return this._pairs.map(function(S){return b(S[0])+"="+b(S[1])},"").join("&")};function Cre(f){return encodeURIComponent(f).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xj(f,m,b){if(!m)return f;const y=b&&b.encode||Cre,S=b&&b.serialize;let _;if(S?_=S(m,b):_=un.isURLSearchParams(m)?m.toString():new ZH(m,b).toString(y),_){const T=f.indexOf("#");T!==-1&&(f=f.slice(0,T)),f+=(f.indexOf("?")===-1?"?":"&")+_}return f}class Sre{constructor(){this.handlers=[]}use(m,b,y){return this.handlers.push({fulfilled:m,rejected:b,synchronous:y?y.synchronous:!1,runWhen:y?y.runWhen:null}),this.handlers.length-1}eject(m){this.handlers[m]&&(this.handlers[m]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(m){un.forEach(this.handlers,function(y){y!==null&&m(y)})}}const wW=Sre,Yj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_re=typeof URLSearchParams<"u"?URLSearchParams:ZH,xre=typeof FormData<"u"?FormData:null,kre=typeof Blob<"u"?Blob:null,Are=(()=>{let f;return typeof navigator<"u"&&((f=navigator.product)==="ReactNative"||f==="NativeScript"||f==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Ere=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),jm={isBrowser:!0,classes:{URLSearchParams:_re,FormData:xre,Blob:kre},isStandardBrowserEnv:Are,isStandardBrowserWebWorkerEnv:Ere,protocols:["http","https","file","blob","url","data"]};function Tre(f,m){return Q6(f,new jm.classes.URLSearchParams,Object.assign({visitor:function(b,y,S,_){return jm.isNode&&un.isBuffer(b)?(this.append(y,b.toString("base64")),!1):_.defaultVisitor.apply(this,arguments)}},m))}function Ore(f){return un.matchAll(/\w+|\[(\w*)]/g,f).map(m=>m[0]==="[]"?"":m[1]||m[0])}function Dre(f){const m={},b=Object.keys(f);let y;const S=b.length;let _;for(y=0;y<S;y++)_=b[y],m[_]=f[_];return m}function Jj(f){function m(b,y,S,_){let T=b[_++];const D=Number.isFinite(+T),F=_>=b.length;return T=!T&&un.isArray(S)?S.length:T,F?(un.hasOwnProp(S,T)?S[T]=[S[T],y]:S[T]=y,!D):((!S[T]||!un.isObject(S[T]))&&(S[T]=[]),m(b,y,S[T],_)&&un.isArray(S[T])&&(S[T]=Dre(S[T])),!D)}if(un.isFormData(f)&&un.isFunction(f.entries)){const b={};return un.forEachEntry(f,(y,S)=>{m(Ore(y),S,b,0)}),b}return null}function Rre(f,m,b){if(un.isString(f))try{return(m||JSON.parse)(f),un.trim(f)}catch(y){if(y.name!=="SyntaxError")throw y}return(b||JSON.stringify)(f)}const QH={transitional:Yj,adapter:jm.isNode?"http":"xhr",transformRequest:[function(m,b){const y=b.getContentType()||"",S=y.indexOf("application/json")>-1,_=un.isObject(m);if(_&&un.isHTMLForm(m)&&(m=new FormData(m)),un.isFormData(m))return S&&S?JSON.stringify(Jj(m)):m;if(un.isArrayBuffer(m)||un.isBuffer(m)||un.isStream(m)||un.isFile(m)||un.isBlob(m))return m;if(un.isArrayBufferView(m))return m.buffer;if(un.isURLSearchParams(m))return b.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),m.toString();let D;if(_){if(y.indexOf("application/x-www-form-urlencoded")>-1)return Tre(m,this.formSerializer).toString();if((D=un.isFileList(m))||y.indexOf("multipart/form-data")>-1){const F=this.env&&this.env.FormData;return Q6(D?{"files[]":m}:m,F&&new F,this.formSerializer)}}return _||S?(b.setContentType("application/json",!1),Rre(m)):m}],transformResponse:[function(m){const b=this.transitional||QH.transitional,y=b&&b.forcedJSONParsing,S=this.responseType==="json";if(m&&un.isString(m)&&(y&&!this.responseType||S)){const T=!(b&&b.silentJSONParsing)&&S;try{return JSON.parse(m)}catch(D){if(T)throw D.name==="SyntaxError"?eo.from(D,eo.ERR_BAD_RESPONSE,this,null,this.response):D}}return m}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jm.classes.FormData,Blob:jm.classes.Blob},validateStatus:function(m){return m>=200&&m<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};un.forEach(["delete","get","head","post","put","patch"],f=>{QH.headers[f]={}});const e9=QH,$re=un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bre=f=>{const m={};let b,y,S;return f&&f.split(`
`).forEach(function(T){S=T.indexOf(":"),b=T.substring(0,S).trim().toLowerCase(),y=T.substring(S+1).trim(),!(!b||m[b]&&$re[b])&&(b==="set-cookie"?m[b]?m[b].push(y):m[b]=[y]:m[b]=m[b]?m[b]+", "+y:y)}),m},CW=Symbol("internals");function p5(f){return f&&String(f).trim().toLowerCase()}function f6(f){return f===!1||f==null?f:un.isArray(f)?f.map(f6):String(f)}function Mre(f){const m=Object.create(null),b=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let y;for(;y=b.exec(f);)m[y[1]]=y[2];return m}const Pre=f=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(f.trim());function iH(f,m,b,y,S){if(un.isFunction(y))return y.call(this,m,b);if(S&&(m=b),!!un.isString(m)){if(un.isString(y))return m.indexOf(y)!==-1;if(un.isRegExp(y))return y.test(m)}}function Ire(f){return f.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(m,b,y)=>b.toUpperCase()+y)}function Nre(f,m){const b=un.toCamelCase(" "+m);["get","set","has"].forEach(y=>{Object.defineProperty(f,y+b,{value:function(S,_,T){return this[y].call(this,m,S,_,T)},configurable:!0})})}class e8{constructor(m){m&&this.set(m)}set(m,b,y){const S=this;function _(D,F,W){const I=p5(F);if(!I)throw new Error("header name must be a non-empty string");const L=un.findKey(S,I);(!L||S[L]===void 0||W===!0||W===void 0&&S[L]!==!1)&&(S[L||F]=f6(D))}const T=(D,F)=>un.forEach(D,(W,I)=>_(W,I,F));return un.isPlainObject(m)||m instanceof this.constructor?T(m,b):un.isString(m)&&(m=m.trim())&&!Pre(m)?T(Bre(m),b):m!=null&&_(b,m,y),this}get(m,b){if(m=p5(m),m){const y=un.findKey(this,m);if(y){const S=this[y];if(!b)return S;if(b===!0)return Mre(S);if(un.isFunction(b))return b.call(this,S,y);if(un.isRegExp(b))return b.exec(S);throw new TypeError("parser must be boolean|regexp|function")}}}has(m,b){if(m=p5(m),m){const y=un.findKey(this,m);return!!(y&&this[y]!==void 0&&(!b||iH(this,this[y],y,b)))}return!1}delete(m,b){const y=this;let S=!1;function _(T){if(T=p5(T),T){const D=un.findKey(y,T);D&&(!b||iH(y,y[D],D,b))&&(delete y[D],S=!0)}}return un.isArray(m)?m.forEach(_):_(m),S}clear(m){const b=Object.keys(this);let y=b.length,S=!1;for(;y--;){const _=b[y];(!m||iH(this,this[_],_,m,!0))&&(delete this[_],S=!0)}return S}normalize(m){const b=this,y={};return un.forEach(this,(S,_)=>{const T=un.findKey(y,_);if(T){b[T]=f6(S),delete b[_];return}const D=m?Ire(_):String(_).trim();D!==_&&delete b[_],b[D]=f6(S),y[D]=!0}),this}concat(...m){return this.constructor.concat(this,...m)}toJSON(m){const b=Object.create(null);return un.forEach(this,(y,S)=>{y!=null&&y!==!1&&(b[S]=m&&un.isArray(y)?y.join(", "):y)}),b}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([m,b])=>m+": "+b).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(m){return m instanceof this?m:new this(m)}static concat(m,...b){const y=new this(m);return b.forEach(S=>y.set(S)),y}static accessor(m){const y=(this[CW]=this[CW]={accessors:{}}).accessors,S=this.prototype;function _(T){const D=p5(T);y[D]||(Nre(S,T),y[D]=!0)}return un.isArray(m)?m.forEach(_):_(m),this}}e8.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);un.reduceDescriptors(e8.prototype,({value:f},m)=>{let b=m[0].toUpperCase()+m.slice(1);return{get:()=>f,set(y){this[b]=y}}});un.freezeMethods(e8);const rb=e8;function uH(f,m){const b=this||e9,y=m||b,S=rb.from(y.headers);let _=y.data;return un.forEach(f,function(D){_=D.call(b,_,S.normalize(),m?m.status:void 0)}),S.normalize(),_}function Zj(f){return!!(f&&f.__CANCEL__)}function I5(f,m,b){eo.call(this,f??"canceled",eo.ERR_CANCELED,m,b),this.name="CanceledError"}un.inherits(I5,eo,{__CANCEL__:!0});function zre(f,m,b){const y=b.config.validateStatus;!b.status||!y||y(b.status)?f(b):m(new eo("Request failed with status code "+b.status,[eo.ERR_BAD_REQUEST,eo.ERR_BAD_RESPONSE][Math.floor(b.status/100)-4],b.config,b.request,b))}const Fre=jm.isStandardBrowserEnv?function(){return{write:function(b,y,S,_,T,D){const F=[];F.push(b+"="+encodeURIComponent(y)),un.isNumber(S)&&F.push("expires="+new Date(S).toGMTString()),un.isString(_)&&F.push("path="+_),un.isString(T)&&F.push("domain="+T),D===!0&&F.push("secure"),document.cookie=F.join("; ")},read:function(b){const y=document.cookie.match(new RegExp("(^|;\\s*)("+b+")=([^;]*)"));return y?decodeURIComponent(y[3]):null},remove:function(b){this.write(b,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Lre(f){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(f)}function Hre(f,m){return m?f.replace(/\/+$/,"")+"/"+m.replace(/^\/+/,""):f}function Qj(f,m){return f&&!Lre(m)?Hre(f,m):m}const Vre=jm.isStandardBrowserEnv?function(){const m=/(msie|trident)/i.test(navigator.userAgent),b=document.createElement("a");let y;function S(_){let T=_;return m&&(b.setAttribute("href",T),T=b.href),b.setAttribute("href",T),{href:b.href,protocol:b.protocol?b.protocol.replace(/:$/,""):"",host:b.host,search:b.search?b.search.replace(/^\?/,""):"",hash:b.hash?b.hash.replace(/^#/,""):"",hostname:b.hostname,port:b.port,pathname:b.pathname.charAt(0)==="/"?b.pathname:"/"+b.pathname}}return y=S(window.location.href),function(T){const D=un.isString(T)?S(T):T;return D.protocol===y.protocol&&D.host===y.host}}():function(){return function(){return!0}}();function Ure(f){const m=/^([-+\w]{1,25})(:?\/\/|:)/.exec(f);return m&&m[1]||""}function Wre(f,m){f=f||10;const b=new Array(f),y=new Array(f);let S=0,_=0,T;return m=m!==void 0?m:1e3,function(F){const W=Date.now(),I=y[_];T||(T=W),b[S]=F,y[S]=W;let L=_,P=0;for(;L!==S;)P+=b[L++],L=L%f;if(S=(S+1)%f,S===_&&(_=(_+1)%f),W-T<m)return;const H=I&&W-I;return H?Math.round(P*1e3/H):void 0}}function SW(f,m){let b=0;const y=Wre(50,250);return S=>{const _=S.loaded,T=S.lengthComputable?S.total:void 0,D=_-b,F=y(D),W=_<=T;b=_;const I={loaded:_,total:T,progress:T?_/T:void 0,bytes:D,rate:F||void 0,estimated:F&&T&&W?(T-_)/F:void 0,event:S};I[m?"download":"upload"]=!0,f(I)}}const jre=typeof XMLHttpRequest<"u",Gre=jre&&function(f){return new Promise(function(b,y){let S=f.data;const _=rb.from(f.headers).normalize(),T=f.responseType;let D;function F(){f.cancelToken&&f.cancelToken.unsubscribe(D),f.signal&&f.signal.removeEventListener("abort",D)}un.isFormData(S)&&(jm.isStandardBrowserEnv||jm.isStandardBrowserWebWorkerEnv?_.setContentType(!1):_.setContentType("multipart/form-data;",!1));let W=new XMLHttpRequest;if(f.auth){const H=f.auth.username||"",Y=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";_.set("Authorization","Basic "+btoa(H+":"+Y))}const I=Qj(f.baseURL,f.url);W.open(f.method.toUpperCase(),Xj(I,f.params,f.paramsSerializer),!0),W.timeout=f.timeout;function L(){if(!W)return;const H=rb.from("getAllResponseHeaders"in W&&W.getAllResponseHeaders()),q={data:!T||T==="text"||T==="json"?W.responseText:W.response,status:W.status,statusText:W.statusText,headers:H,config:f,request:W};zre(function(de){b(de),F()},function(de){y(de),F()},q),W=null}if("onloadend"in W?W.onloadend=L:W.onreadystatechange=function(){!W||W.readyState!==4||W.status===0&&!(W.responseURL&&W.responseURL.indexOf("file:")===0)||setTimeout(L)},W.onabort=function(){W&&(y(new eo("Request aborted",eo.ECONNABORTED,f,W)),W=null)},W.onerror=function(){y(new eo("Network Error",eo.ERR_NETWORK,f,W)),W=null},W.ontimeout=function(){let Y=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded";const q=f.transitional||Yj;f.timeoutErrorMessage&&(Y=f.timeoutErrorMessage),y(new eo(Y,q.clarifyTimeoutError?eo.ETIMEDOUT:eo.ECONNABORTED,f,W)),W=null},jm.isStandardBrowserEnv){const H=(f.withCredentials||Vre(I))&&f.xsrfCookieName&&Fre.read(f.xsrfCookieName);H&&_.set(f.xsrfHeaderName,H)}S===void 0&&_.setContentType(null),"setRequestHeader"in W&&un.forEach(_.toJSON(),function(Y,q){W.setRequestHeader(q,Y)}),un.isUndefined(f.withCredentials)||(W.withCredentials=!!f.withCredentials),T&&T!=="json"&&(W.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&W.addEventListener("progress",SW(f.onDownloadProgress,!0)),typeof f.onUploadProgress=="function"&&W.upload&&W.upload.addEventListener("progress",SW(f.onUploadProgress)),(f.cancelToken||f.signal)&&(D=H=>{W&&(y(!H||H.type?new I5(null,f,W):H),W.abort(),W=null)},f.cancelToken&&f.cancelToken.subscribe(D),f.signal&&(f.signal.aborted?D():f.signal.addEventListener("abort",D)));const P=Ure(I);if(P&&jm.protocols.indexOf(P)===-1){y(new eo("Unsupported protocol "+P+":",eo.ERR_BAD_REQUEST,f));return}W.send(S||null)})},v6={http:bre,xhr:Gre};un.forEach(v6,(f,m)=>{if(f){try{Object.defineProperty(f,"name",{value:m})}catch{}Object.defineProperty(f,"adapterName",{value:m})}});const eG={getAdapter:f=>{f=un.isArray(f)?f:[f];const{length:m}=f;let b,y;for(let S=0;S<m&&(b=f[S],!(y=un.isString(b)?v6[b.toLowerCase()]:b));S++);if(!y)throw y===!1?new eo(`Adapter ${b} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(un.hasOwnProp(v6,b)?`Adapter '${b}' is not available in the build`:`Unknown adapter '${b}'`);if(!un.isFunction(y))throw new TypeError("adapter is not a function");return y},adapters:v6};function sH(f){if(f.cancelToken&&f.cancelToken.throwIfRequested(),f.signal&&f.signal.aborted)throw new I5(null,f)}function _W(f){return sH(f),f.headers=rb.from(f.headers),f.data=uH.call(f,f.transformRequest),["post","put","patch"].indexOf(f.method)!==-1&&f.headers.setContentType("application/x-www-form-urlencoded",!1),eG.getAdapter(f.adapter||e9.adapter)(f).then(function(y){return sH(f),y.data=uH.call(f,f.transformResponse,y),y.headers=rb.from(y.headers),y},function(y){return Zj(y)||(sH(f),y&&y.response&&(y.response.data=uH.call(f,f.transformResponse,y.response),y.response.headers=rb.from(y.response.headers))),Promise.reject(y)})}const xW=f=>f instanceof rb?f.toJSON():f;function d3(f,m){m=m||{};const b={};function y(W,I,L){return un.isPlainObject(W)&&un.isPlainObject(I)?un.merge.call({caseless:L},W,I):un.isPlainObject(I)?un.merge({},I):un.isArray(I)?I.slice():I}function S(W,I,L){if(un.isUndefined(I)){if(!un.isUndefined(W))return y(void 0,W,L)}else return y(W,I,L)}function _(W,I){if(!un.isUndefined(I))return y(void 0,I)}function T(W,I){if(un.isUndefined(I)){if(!un.isUndefined(W))return y(void 0,W)}else return y(void 0,I)}function D(W,I,L){if(L in m)return y(W,I);if(L in f)return y(void 0,W)}const F={url:_,method:_,data:_,baseURL:T,transformRequest:T,transformResponse:T,paramsSerializer:T,timeout:T,timeoutMessage:T,withCredentials:T,adapter:T,responseType:T,xsrfCookieName:T,xsrfHeaderName:T,onUploadProgress:T,onDownloadProgress:T,decompress:T,maxContentLength:T,maxBodyLength:T,beforeRedirect:T,transport:T,httpAgent:T,httpsAgent:T,cancelToken:T,socketPath:T,responseEncoding:T,validateStatus:D,headers:(W,I)=>S(xW(W),xW(I),!0)};return un.forEach(Object.keys(Object.assign({},f,m)),function(I){const L=F[I]||S,P=L(f[I],m[I],I);un.isUndefined(P)&&L!==D||(b[I]=P)}),b}const tG="1.5.0",t9={};["object","boolean","number","function","string","symbol"].forEach((f,m)=>{t9[f]=function(y){return typeof y===f||"a"+(m<1?"n ":" ")+f}});const kW={};t9.transitional=function(m,b,y){function S(_,T){return"[Axios v"+tG+"] Transitional option '"+_+"'"+T+(y?". "+y:"")}return(_,T,D)=>{if(m===!1)throw new eo(S(T," has been removed"+(b?" in "+b:"")),eo.ERR_DEPRECATED);return b&&!kW[T]&&(kW[T]=!0,console.warn(S(T," has been deprecated since v"+b+" and will be removed in the near future"))),m?m(_,T,D):!0}};function qre(f,m,b){if(typeof f!="object")throw new eo("options must be an object",eo.ERR_BAD_OPTION_VALUE);const y=Object.keys(f);let S=y.length;for(;S-- >0;){const _=y[S],T=m[_];if(T){const D=f[_],F=D===void 0||T(D,_,f);if(F!==!0)throw new eo("option "+_+" must be "+F,eo.ERR_BAD_OPTION_VALUE);continue}if(b!==!0)throw new eo("Unknown option "+_,eo.ERR_BAD_OPTION)}}const TH={assertOptions:qre,validators:t9},Ky=TH.validators;class k6{constructor(m){this.defaults=m,this.interceptors={request:new wW,response:new wW}}request(m,b){typeof m=="string"?(b=b||{},b.url=m):b=m||{},b=d3(this.defaults,b);const{transitional:y,paramsSerializer:S,headers:_}=b;y!==void 0&&TH.assertOptions(y,{silentJSONParsing:Ky.transitional(Ky.boolean),forcedJSONParsing:Ky.transitional(Ky.boolean),clarifyTimeoutError:Ky.transitional(Ky.boolean)},!1),S!=null&&(un.isFunction(S)?b.paramsSerializer={serialize:S}:TH.assertOptions(S,{encode:Ky.function,serialize:Ky.function},!0)),b.method=(b.method||this.defaults.method||"get").toLowerCase();let T=_&&un.merge(_.common,_[b.method]);_&&un.forEach(["delete","get","head","post","put","patch","common"],Y=>{delete _[Y]}),b.headers=rb.concat(T,_);const D=[];let F=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(b)===!1||(F=F&&q.synchronous,D.unshift(q.fulfilled,q.rejected))});const W=[];this.interceptors.response.forEach(function(q){W.push(q.fulfilled,q.rejected)});let I,L=0,P;if(!F){const Y=[_W.bind(this),void 0];for(Y.unshift.apply(Y,D),Y.push.apply(Y,W),P=Y.length,I=Promise.resolve(b);L<P;)I=I.then(Y[L++],Y[L++]);return I}P=D.length;let H=b;for(L=0;L<P;){const Y=D[L++],q=D[L++];try{H=Y(H)}catch($e){q.call(this,$e);break}}try{I=_W.call(this,H)}catch(Y){return Promise.reject(Y)}for(L=0,P=W.length;L<P;)I=I.then(W[L++],W[L++]);return I}getUri(m){m=d3(this.defaults,m);const b=Qj(m.baseURL,m.url);return Xj(b,m.params,m.paramsSerializer)}}un.forEach(["delete","get","head","options"],function(m){k6.prototype[m]=function(b,y){return this.request(d3(y||{},{method:m,url:b,data:(y||{}).data}))}});un.forEach(["post","put","patch"],function(m){function b(y){return function(_,T,D){return this.request(d3(D||{},{method:m,headers:y?{"Content-Type":"multipart/form-data"}:{},url:_,data:T}))}}k6.prototype[m]=b(),k6.prototype[m+"Form"]=b(!0)});const d6=k6;class n9{constructor(m){if(typeof m!="function")throw new TypeError("executor must be a function.");let b;this.promise=new Promise(function(_){b=_});const y=this;this.promise.then(S=>{if(!y._listeners)return;let _=y._listeners.length;for(;_-- >0;)y._listeners[_](S);y._listeners=null}),this.promise.then=S=>{let _;const T=new Promise(D=>{y.subscribe(D),_=D}).then(S);return T.cancel=function(){y.unsubscribe(_)},T},m(function(_,T,D){y.reason||(y.reason=new I5(_,T,D),b(y.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(m){if(this.reason){m(this.reason);return}this._listeners?this._listeners.push(m):this._listeners=[m]}unsubscribe(m){if(!this._listeners)return;const b=this._listeners.indexOf(m);b!==-1&&this._listeners.splice(b,1)}static source(){let m;return{token:new n9(function(S){m=S}),cancel:m}}}const Kre=n9;function Xre(f){return function(b){return f.apply(null,b)}}function Yre(f){return un.isObject(f)&&f.isAxiosError===!0}const OH={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(OH).forEach(([f,m])=>{OH[m]=f});const Jre=OH;function nG(f){const m=new d6(f),b=Nj(d6.prototype.request,m);return un.extend(b,d6.prototype,m,{allOwnKeys:!0}),un.extend(b,m,null,{allOwnKeys:!0}),b.create=function(S){return nG(d3(f,S))},b}const Yu=nG(e9);Yu.Axios=d6;Yu.CanceledError=I5;Yu.CancelToken=Kre;Yu.isCancel=Zj;Yu.VERSION=tG;Yu.toFormData=Q6;Yu.AxiosError=eo;Yu.Cancel=Yu.CanceledError;Yu.all=function(m){return Promise.all(m)};Yu.spread=Xre;Yu.isAxiosError=Yre;Yu.mergeConfig=d3;Yu.AxiosHeaders=rb;Yu.formToJSON=f=>Jj(un.isHTMLForm(f)?new FormData(f):f);Yu.getAdapter=eG.getAdapter;Yu.HttpStatusCode=Jre;Yu.default=Yu;const zn=Yu;const Zre={class:"full"},Qre={class:"login-container"},eae={class:"login-content"},tae=G("img",{src:xj,width:"200"},null,-1),nae=G("p",null,"Bitte melden Sie sich an.",-1),rae={key:0,class:"spin-loading"},aae={key:1},oae={__name:"Login",setup(f){const m=Bt(""),b=Bt(""),y=Bt(!1),S=()=>{y.value=!0,zn.post("/auth/login",{email:m.value,password:b.value}).then(_=>{y.value=!1,sessionStorage.setItem("token",_.data.token),window.location.href="/"}).catch(_=>{y.value=!1,console.log(_),window.alert("Sie konnten nicht angemeldet werden. berprfen Sie Ihre Eingaben.")})};return(_,T)=>(Ke(),tt("main",Zre,[G("div",Qre,[G("div",eae,[tae,nae,ir(G("input",{type:"email",placeholder:"Email","onUpdate:modelValue":T[0]||(T[0]=D=>m.value=D)},null,512),[[vr,m.value]]),ir(G("input",{type:"password",placeholder:"Passwort","onUpdate:modelValue":T[1]||(T[1]=D=>b.value=D)},null,512),[[vr,b.value]]),G("button",{class:"button-primary",onClick:S},[y.value?(Ke(),tt("span",rae)):(Ke(),tt("span",aae,"Anmelden"))])])])]))}};const t2=(f,m)=>{const b=f.__vccOpts||f;for(const[y,S]of m)b[y]=S;return b},Dd=f=>(g3("data-v-215c92b3"),f=f(),p3(),f),iae={key:1},uae=Dd(()=>G("div",{class:"header-content"},[G("img",{alt:"Vue logo",class:"logo",src:xj,width:"40",height:"40"})],-1)),sae=[uae],lae={key:2,class:"content-container"},cae={class:"sidebar"},fae={class:"wrapper"},vae=Dd(()=>G("img",{src:Tte,width:"25",height:"25"},null,-1)),dae=Dd(()=>G("img",{src:Ote,width:"25",height:"25"},null,-1)),mae=Dd(()=>G("img",{src:Dte,width:"25",height:"25"},null,-1)),hae=Dd(()=>G("img",{src:Rte,width:"25",height:"25"},null,-1)),gae=Dd(()=>G("img",{src:$te,width:"25",height:"25"},null,-1)),pae=Dd(()=>G("img",{src:Bte,width:"25",height:"25"},null,-1)),bae=Dd(()=>G("img",{src:Mte,width:"25",height:"25"},null,-1)),yae=Dd(()=>G("img",{src:Pte,width:"25",height:"25"},null,-1)),wae=Dd(()=>G("img",{src:kj,width:"25",height:"25"},null,-1)),Cae=Dd(()=>G("img",{src:kj,width:"25",height:"25"},null,-1)),Sae=Dd(()=>G("img",{src:Ite,width:"25",height:"25"},null,-1)),_ae={__name:"App",setup(f){const m=Bt(!1),b=()=>{sessionStorage.getItem("token")?m.value=!0:m.value=!1};return setInterval(()=>{b()},60*1e3),ip(()=>{b()}),(y,S)=>(Ke(),tt($r,null,[m.value?Br("",!0):(Ke(),Od(oae,{key:0})),m.value?(Ke(),tt("header",iae,sae)):Br("",!0),m.value?(Ke(),tt("div",lae,[G("div",cae,[G("div",fae,[Tt($o(kf),{to:"/touren",class:"navigation-link"},{default:tn(()=>[vae,Or(" Touren ")]),_:1}),Tt($o(kf),{to:"/guides",class:"navigation-link"},{default:tn(()=>[dae,Or(" Guides ")]),_:1}),Tt($o(kf),{to:"/sprachen",class:"navigation-link"},{default:tn(()=>[mae,Or(" Sprachen ")]),_:1}),Tt($o(kf),{to:"/mobilitaet",class:"navigation-link"},{default:tn(()=>[hae,Or(" Mobilitt ")]),_:1}),Tt($o(kf),{to:"/orte",class:"navigation-link"},{default:tn(()=>[gae,Or(" Orte ")]),_:1}),Tt($o(kf),{to:"/kategorien",class:"navigation-link"},{default:tn(()=>[pae,Or(" Kategorie ")]),_:1}),Tt($o(kf),{to:"/zertifikate",class:"navigation-link"},{default:tn(()=>[bae,Or(" Zertifikate ")]),_:1}),Tt($o(kf),{to:"/skills",class:"navigation-link"},{default:tn(()=>[yae,Or(" Themen ")]),_:1}),Tt($o(kf),{to:"/pages",class:"navigation-link"},{default:tn(()=>[wae,Or(" Seiten ")]),_:1}),Tt($o(kf),{to:"/blog",class:"navigation-link"},{default:tn(()=>[Cae,Or(" Blog ")]),_:1}),Tt($o(kf),{to:"/verwaltung",class:"navigation-link align-bottom"},{default:tn(()=>[Sae,Or(" Benutzerverwaltung ")]),_:1})])]),m.value?(Ke(),Od($o(Ij),{key:0,class:"view"})):Br("",!0)])):Br("",!0)],64))}},xae=t2(_ae,[["__scopeId","data-v-215c92b3"]]),Rd="/assets/edit-cf18a27b.svg",Tf="/assets/delete-8c83b779.svg";const kae=f=>(g3("data-v-4ab453fa"),f=f(),p3(),f),Aae={class:"input-container"},Eae={class:"align-end"},Tae={key:0},Oae={class:"align-end"},Dae={key:1},Rae=["colspan"],$ae=kae(()=>G("span",{class:"loader"},null,-1)),Bae={key:2},Mae=["colspan"],Pae={__name:"IDLTable",props:{tableData:{type:Array,required:!0},tableColumns:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(f){const m=f,b=Bt(""),y=ri(()=>m.tableData.filter(_=>Object.values(_).some(T=>String(T).toLowerCase().includes(b.value.toLowerCase())))),S=_=>typeof _=="boolean"?_?"Ja":"Nein":typeof _=="number"?_===0?"Nein":"Ja":new Date(_).getTime()>0?new Date(_).toLocaleString("de-DE"):_==="draft"?"Entwurf":_==="published"?"Verffentlicht":_;return(_,T)=>(Ke(),tt("div",null,[G("div",Aae,[ir(G("input",{type:"search","onUpdate:modelValue":T[0]||(T[0]=D=>b.value=D),placeholder:"Suche"},null,512),[[vr,b.value]])]),G("table",null,[G("thead",null,[G("tr",null,[(Ke(!0),tt($r,null,to(f.tableColumns,D=>(Ke(),tt("th",{key:D.key},nr(D.title),1))),128)),G("th",Eae,[gH(_.$slots,"actions",{},void 0,!0)])])]),y.value.length>0?(Ke(),tt("tbody",Tae,[(Ke(!0),tt($r,null,to(y.value,D=>(Ke(),tt("tr",{key:D.id},[(Ke(!0),tt($r,null,to(f.tableColumns,F=>(Ke(),tt("td",{key:F.key},nr(S(D[F.key])),1))),128)),G("td",Oae,[gH(_.$slots,"tableActions",{row:D},void 0,!0)])]))),128))])):f.loading?(Ke(),tt("tbody",Dae,[G("tr",null,[G("td",{colspan:f.tableColumns.length+1},[$ae,Or("Lade Daten...")],8,Rae)])])):(Ke(),tt("tbody",Bae,[G("tr",null,[G("td",{colspan:y.value.length+1},"Keine Daten vorhanden",8,Mae)])]))])]))}},Zm=t2(Pae,[["__scopeId","data-v-4ab453fa"]]),Iae={class:"row"},Nae=G("h1",null,"Alle Touren",-1),zae=G("hr",{class:"divider"},null,-1),Fae=G("img",{src:Rd,width:"20"},null,-1),Lae=["onClick"],Hae=G("img",{src:Tf,width:"20"},null,-1),Vae=[Hae],Uae={__name:"Overview",setup(f){const m=Bt([]),b=Bt(!1),y=Bt([{key:"name",title:"Name"},{key:"status",title:"Status"},{key:"is_public",title:"ffentliche Tour"},{key:"updated_at",title:"zuletzt aktualisiert"}]),S=()=>{b.value=!0,zn.get("/tours?preview=true&per_page=200&status=all").then(T=>{b.value=!1,m.value=T.data.tours.data}).catch(T=>{b.value=!1,T.response.status===401?sessionStorage.removeItem("token"):(console.log(T),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut."))})},_=T=>{const D=m.value.find(F=>F.id===T).name;window.confirm(`Mchtest du die Tour "${D}" wirklich lschen?`)&&zn.delete(`/tours/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(F=>{console.log(F),S()}).catch(F=>{console.log(F),F.response.status===401?sessionStorage.removeItem("token"):(console.log(F),window.alert("Die Tour konnte nicht gelscht werden. Bitte versuche es erneut."))})};return Ga(()=>{S()}),(T,D)=>{const F=Va("router-link"),W=Va("RouterLink");return Ke(),tt("main",null,[G("div",Iae,[Nae,Tt(F,{to:"/tour-erstellen",class:"button-primary"},{default:tn(()=>[Or("Tour hinzufgen")]),_:1})]),zae,Tt(Zm,{tableData:m.value,tableColumns:y.value,loading:b.value},{actions:tn(()=>[Or(" Aktionen ")]),tableActions:tn(I=>[Tt(W,{to:`/tour-bearbeiten/${I.row.id}`},{default:tn(()=>[Fae]),_:2},1032,["to"]),G("button",{onClick:L=>_(I.row.id)},Vae,8,Lae)]),_:1},8,["tableData","tableColumns","loading"])])}}};function Wae(f,m){return m.forEach(function(b){b&&typeof b!="string"&&!Array.isArray(b)&&Object.keys(b).forEach(function(y){if(y!=="default"&&!(y in f)){var S=Object.getOwnPropertyDescriptor(b,y);Object.defineProperty(f,y,S.get?S:{enumerable:!0,get:function(){return b[y]}})}})}),Object.freeze(f)}function rG(f,m){return new Promise(function(b,y){let S;return jae(f).then(function(_){try{return S=_,b(new Blob([m.slice(0,2),S,m.slice(2)],{type:"image/jpeg"}))}catch(T){return y(T)}},y)})}const jae=f=>new Promise((m,b)=>{const y=new FileReader;y.addEventListener("load",({target:{result:S}})=>{const _=new DataView(S);let T=0;if(_.getUint16(T)!==65496)return b("not a valid JPEG");for(T+=2;;){const D=_.getUint16(T);if(D===65498)break;const F=_.getUint16(T+2);if(D===65505&&_.getUint32(T+4)===1165519206){const W=T+10;let I;switch(_.getUint16(W)){case 18761:I=!0;break;case 19789:I=!1;break;default:return b("TIFF header contains invalid endian")}if(_.getUint16(W+2,I)!==42)return b("TIFF header contains invalid version");const L=_.getUint32(W+4,I),P=W+L+2+12*_.getUint16(W+L,I);for(let H=W+L+2;H<P;H+=12)if(_.getUint16(H,I)==274){if(_.getUint16(H+2,I)!==3)return b("Orientation data type is invalid");if(_.getUint32(H+4,I)!==1)return b("Orientation data count is invalid");_.setUint16(H+8,1,I);break}return m(S.slice(T,T+2+F))}T+=2+F}return m(new Blob)}),y.readAsArrayBuffer(f)});var A6={},Gae={get exports(){return A6},set exports(f){A6=f}};(function(f){var m,b,y={};Gae.exports=y,y.parse=function(S,_){for(var T=y.bin.readUshort,D=y.bin.readUint,F=0,W={},I=new Uint8Array(S),L=I.length-4;D(I,L)!=101010256;)L--;F=L,F+=4;var P=T(I,F+=4);T(I,F+=2);var H=D(I,F+=2),Y=D(I,F+=4);F+=4,F=Y;for(var q=0;q<P;q++){D(I,F),F+=4,F+=4,F+=4,D(I,F+=4),H=D(I,F+=4);var $e=D(I,F+=4),de=T(I,F+=4),Be=T(I,F+2),ue=T(I,F+4);F+=6;var Ee=D(I,F+=8);F+=4,F+=de+Be+ue,y._readLocal(I,Ee,W,H,$e,_)}return W},y._readLocal=function(S,_,T,D,F,W){var I=y.bin.readUshort,L=y.bin.readUint;L(S,_),I(S,_+=4),I(S,_+=2);var P=I(S,_+=2);L(S,_+=2),L(S,_+=4),_+=4;var H=I(S,_+=8),Y=I(S,_+=2);_+=2;var q=y.bin.readUTF8(S,_,H);if(_+=H,_+=Y,W)T[q]={size:F,csize:D};else{var $e=new Uint8Array(S.buffer,_);if(P==0)T[q]=new Uint8Array($e.buffer.slice(_,_+D));else{if(P!=8)throw"unknown compression method: "+P;var de=new Uint8Array(F);y.inflateRaw($e,de),T[q]=de}}},y.inflateRaw=function(S,_){return y.F.inflate(S,_)},y.inflate=function(S,_){return S[0],S[1],y.inflateRaw(new Uint8Array(S.buffer,S.byteOffset+2,S.length-6),_)},y.deflate=function(S,_){_==null&&(_={level:6});var T=0,D=new Uint8Array(50+Math.floor(1.1*S.length));D[T]=120,D[T+1]=156,T+=2,T=y.F.deflateRaw(S,D,T,_.level);var F=y.adler(S,0,S.length);return D[T+0]=F>>>24&255,D[T+1]=F>>>16&255,D[T+2]=F>>>8&255,D[T+3]=F>>>0&255,new Uint8Array(D.buffer,0,T+4)},y.deflateRaw=function(S,_){_==null&&(_={level:6});var T=new Uint8Array(50+Math.floor(1.1*S.length)),D=y.F.deflateRaw(S,T,D,_.level);return new Uint8Array(T.buffer,0,D)},y.encode=function(S,_){_==null&&(_=!1);var T=0,D=y.bin.writeUint,F=y.bin.writeUshort,W={};for(var I in S){var L=!y._noNeed(I)&&!_,P=S[I],H=y.crc.crc(P,0,P.length);W[I]={cpr:L,usize:P.length,crc:H,file:L?y.deflateRaw(P):P}}for(var I in W)T+=W[I].file.length+30+46+2*y.bin.sizeUTF8(I);T+=22;var Y=new Uint8Array(T),q=0,$e=[];for(var I in W){var de=W[I];$e.push(q),q=y._writeHeader(Y,q,I,de,0)}var Be=0,ue=q;for(var I in W)de=W[I],$e.push(q),q=y._writeHeader(Y,q,I,de,1,$e[Be++]);var Ee=q-ue;return D(Y,q,101010256),q+=4,F(Y,q+=4,Be),F(Y,q+=2,Be),D(Y,q+=2,Ee),D(Y,q+=4,ue),q+=4,q+=2,Y.buffer},y._noNeed=function(S){var _=S.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(_)!=-1},y._writeHeader=function(S,_,T,D,F,W){var I=y.bin.writeUint,L=y.bin.writeUshort,P=D.file;return I(S,_,F==0?67324752:33639248),_+=4,F==1&&(_+=2),L(S,_,20),L(S,_+=2,0),L(S,_+=2,D.cpr?8:0),I(S,_+=2,0),I(S,_+=4,D.crc),I(S,_+=4,P.length),I(S,_+=4,D.usize),L(S,_+=4,y.bin.sizeUTF8(T)),L(S,_+=2,0),_+=2,F==1&&(_+=2,_+=2,I(S,_+=6,W),_+=4),_+=y.bin.writeUTF8(S,_,T),F==0&&(S.set(P,_),_+=P.length),_},y.crc={table:function(){for(var S=new Uint32Array(256),_=0;_<256;_++){for(var T=_,D=0;D<8;D++)1&T?T=3988292384^T>>>1:T>>>=1;S[_]=T}return S}(),update:function(S,_,T,D){for(var F=0;F<D;F++)S=y.crc.table[255&(S^_[T+F])]^S>>>8;return S},crc:function(S,_,T){return 4294967295^y.crc.update(4294967295,S,_,T)}},y.adler=function(S,_,T){for(var D=1,F=0,W=_,I=_+T;W<I;){for(var L=Math.min(W+5552,I);W<L;)F+=D+=S[W++];D%=65521,F%=65521}return F<<16|D},y.bin={readUshort:function(S,_){return S[_]|S[_+1]<<8},writeUshort:function(S,_,T){S[_]=255&T,S[_+1]=T>>8&255},readUint:function(S,_){return 16777216*S[_+3]+(S[_+2]<<16|S[_+1]<<8|S[_])},writeUint:function(S,_,T){S[_]=255&T,S[_+1]=T>>8&255,S[_+2]=T>>16&255,S[_+3]=T>>24&255},readASCII:function(S,_,T){for(var D="",F=0;F<T;F++)D+=String.fromCharCode(S[_+F]);return D},writeASCII:function(S,_,T){for(var D=0;D<T.length;D++)S[_+D]=T.charCodeAt(D)},pad:function(S){return S.length<2?"0"+S:S},readUTF8:function(S,_,T){for(var D,F="",W=0;W<T;W++)F+="%"+y.bin.pad(S[_+W].toString(16));try{D=decodeURIComponent(F)}catch{return y.bin.readASCII(S,_,T)}return D},writeUTF8:function(S,_,T){for(var D=T.length,F=0,W=0;W<D;W++){var I=T.charCodeAt(W);if(!(4294967168&I))S[_+F]=I,F++;else if(!(4294965248&I))S[_+F]=192|I>>6,S[_+F+1]=128|I>>0&63,F+=2;else if(!(4294901760&I))S[_+F]=224|I>>12,S[_+F+1]=128|I>>6&63,S[_+F+2]=128|I>>0&63,F+=3;else{if(4292870144&I)throw"e";S[_+F]=240|I>>18,S[_+F+1]=128|I>>12&63,S[_+F+2]=128|I>>6&63,S[_+F+3]=128|I>>0&63,F+=4}}return F},sizeUTF8:function(S){for(var _=S.length,T=0,D=0;D<_;D++){var F=S.charCodeAt(D);if(!(4294967168&F))T++;else if(!(4294965248&F))T+=2;else if(!(4294901760&F))T+=3;else{if(4292870144&F)throw"e";T+=4}}return T}},y.F={},y.F.deflateRaw=function(S,_,T,D){var F=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][D],W=y.F.U,I=y.F._goodIndex;y.F._hash;var L=y.F._putsE,P=0,H=T<<3,Y=0,q=S.length;if(D==0){for(;P<q;)L(_,H,P+(Me=Math.min(65535,q-P))==q?1:0),H=y.F._copyExact(S,P,Me,_,H+8),P+=Me;return H>>>3}var $e=W.lits,de=W.strt,Be=W.prev,ue=0,Ee=0,De=0,ke=0,Ye=0,le=0;for(q>2&&(de[le=y.F._hash(S,0)]=0),P=0;P<q;P++){if(Ye=le,P+1<q-2){le=y.F._hash(S,P+1);var pe=P+1&32767;Be[pe]=de[le],de[le]=pe}if(Y<=P){(ue>14e3||Ee>26697)&&q-P>100&&(Y<P&&($e[ue]=P-Y,ue+=2,Y=P),H=y.F._writeBlock(P==q-1||Y==q?1:0,$e,ue,ke,S,De,P-De,_,H),ue=Ee=ke=0,De=P);var ye=0;P<q-2&&(ye=y.F._bestMatch(S,P,Be,Ye,Math.min(F[2],q-P),F[3]));var Me=ye>>>16,ne=65535&ye;if(ye!=0){ne=65535&ye;var U=I(Me=ye>>>16,W.of0);W.lhst[257+U]++;var _e=I(ne,W.df0);W.dhst[_e]++,ke+=W.exb[U]+W.dxb[_e],$e[ue]=Me<<23|P-Y,$e[ue+1]=ne<<16|U<<8|_e,ue+=2,Y=P+Me}else W.lhst[S[P]]++;Ee++}}for(De==P&&S.length!=0||(Y<P&&($e[ue]=P-Y,ue+=2,Y=P),H=y.F._writeBlock(1,$e,ue,ke,S,De,P-De,_,H),ue=0,Ee=0,ue=Ee=ke=0,De=P);7&H;)H++;return H>>>3},y.F._bestMatch=function(S,_,T,D,F,W){var I=32767&_,L=T[I],P=I-L+32768&32767;if(L==I||D!=y.F._hash(S,_-P))return 0;for(var H=0,Y=0,q=Math.min(32767,_);P<=q&&--W!=0&&L!=I;){if(H==0||S[_+H]==S[_+H-P]){var $e=y.F._howLong(S,_,P);if($e>H){if(Y=P,(H=$e)>=F)break;P+2<$e&&($e=P+2);for(var de=0,Be=0;Be<$e-2;Be++){var ue=_-P+Be+32768&32767,Ee=ue-T[ue]+32768&32767;Ee>de&&(de=Ee,L=ue)}}}P+=(I=L)-(L=T[I])+32768&32767}return H<<16|Y},y.F._howLong=function(S,_,T){if(S[_]!=S[_-T]||S[_+1]!=S[_+1-T]||S[_+2]!=S[_+2-T])return 0;var D=_,F=Math.min(S.length,_+258);for(_+=3;_<F&&S[_]==S[_-T];)_++;return _-D},y.F._hash=function(S,_){return(S[_]<<8|S[_+1])+(S[_+2]<<4)&65535},y.saved=0,y.F._writeBlock=function(S,_,T,D,F,W,I,L,P){var H,Y,q,$e,de,Be,ue,Ee,De,ke=y.F.U,Ye=y.F._putsF,le=y.F._putsE;ke.lhst[256]++,Y=(H=y.F.getTrees())[0],q=H[1],$e=H[2],de=H[3],Be=H[4],ue=H[5],Ee=H[6],De=H[7];var pe=32+(P+3&7?8-(P+3&7):0)+(I<<3),ye=D+y.F.contSize(ke.fltree,ke.lhst)+y.F.contSize(ke.fdtree,ke.dhst),Me=D+y.F.contSize(ke.ltree,ke.lhst)+y.F.contSize(ke.dtree,ke.dhst);Me+=14+3*ue+y.F.contSize(ke.itree,ke.ihst)+(2*ke.ihst[16]+3*ke.ihst[17]+7*ke.ihst[18]);for(var ne=0;ne<286;ne++)ke.lhst[ne]=0;for(ne=0;ne<30;ne++)ke.dhst[ne]=0;for(ne=0;ne<19;ne++)ke.ihst[ne]=0;var U=pe<ye&&pe<Me?0:ye<Me?1:2;if(Ye(L,P,S),Ye(L,P+1,U),P+=3,U==0){for(;7&P;)P++;P=y.F._copyExact(F,W,I,L,P)}else{var _e,Qe;if(U==1&&(_e=ke.fltree,Qe=ke.fdtree),U==2){y.F.makeCodes(ke.ltree,Y),y.F.revCodes(ke.ltree,Y),y.F.makeCodes(ke.dtree,q),y.F.revCodes(ke.dtree,q),y.F.makeCodes(ke.itree,$e),y.F.revCodes(ke.itree,$e),_e=ke.ltree,Qe=ke.dtree,le(L,P,de-257),le(L,P+=5,Be-1),le(L,P+=5,ue-4),P+=4;for(var se=0;se<ue;se++)le(L,P+3*se,ke.itree[1+(ke.ordr[se]<<1)]);P+=3*ue,P=y.F._codeTiny(Ee,ke.itree,L,P),P=y.F._codeTiny(De,ke.itree,L,P)}for(var ge=W,ut=0;ut<T;ut+=2){for(var B=_[ut],_t=B>>>23,at=ge+(8388607&B);ge<at;)P=y.F._writeLit(F[ge++],_e,L,P);if(_t!=0){var ot=_[ut+1],kn=ot>>16,cn=ot>>8&255,lt=255&ot;le(L,P=y.F._writeLit(257+cn,_e,L,P),_t-ke.of0[cn]),P+=ke.exb[cn],Ye(L,P=y.F._writeLit(lt,Qe,L,P),kn-ke.df0[lt]),P+=ke.dxb[lt],ge+=_t}}P=y.F._writeLit(256,_e,L,P)}return P},y.F._copyExact=function(S,_,T,D,F){var W=F>>>3;return D[W]=T,D[W+1]=T>>>8,D[W+2]=255-D[W],D[W+3]=255-D[W+1],W+=4,D.set(new Uint8Array(S.buffer,_,T),W),F+(T+4<<3)},y.F.getTrees=function(){for(var S=y.F.U,_=y.F._hufTree(S.lhst,S.ltree,15),T=y.F._hufTree(S.dhst,S.dtree,15),D=[],F=y.F._lenCodes(S.ltree,D),W=[],I=y.F._lenCodes(S.dtree,W),L=0;L<D.length;L+=2)S.ihst[D[L]]++;for(L=0;L<W.length;L+=2)S.ihst[W[L]]++;for(var P=y.F._hufTree(S.ihst,S.itree,7),H=19;H>4&&S.itree[1+(S.ordr[H-1]<<1)]==0;)H--;return[_,T,P,F,I,H,D,W]},y.F.getSecond=function(S){for(var _=[],T=0;T<S.length;T+=2)_.push(S[T+1]);return _},y.F.nonZero=function(S){for(var _="",T=0;T<S.length;T+=2)S[T+1]!=0&&(_+=(T>>1)+",");return _},y.F.contSize=function(S,_){for(var T=0,D=0;D<_.length;D++)T+=_[D]*S[1+(D<<1)];return T},y.F._codeTiny=function(S,_,T,D){for(var F=0;F<S.length;F+=2){var W=S[F],I=S[F+1];D=y.F._writeLit(W,_,T,D);var L=W==16?2:W==17?3:7;W>15&&(y.F._putsE(T,D,I,L),D+=L)}return D},y.F._lenCodes=function(S,_){for(var T=S.length;T!=2&&S[T-1]==0;)T-=2;for(var D=0;D<T;D+=2){var F=S[D+1],W=D+3<T?S[D+3]:-1,I=D+5<T?S[D+5]:-1,L=D==0?-1:S[D-1];if(F==0&&W==F&&I==F){for(var P=D+5;P+2<T&&S[P+2]==F;)P+=2;(H=Math.min(P+1-D>>>1,138))<11?_.push(17,H-3):_.push(18,H-11),D+=2*H-2}else if(F==L&&W==F&&I==F){for(P=D+5;P+2<T&&S[P+2]==F;)P+=2;var H=Math.min(P+1-D>>>1,6);_.push(16,H-3),D+=2*H-2}else _.push(F,0)}return T>>>1},y.F._hufTree=function(S,_,T){var D=[],F=S.length,W=_.length,I=0;for(I=0;I<W;I+=2)_[I]=0,_[I+1]=0;for(I=0;I<F;I++)S[I]!=0&&D.push({lit:I,f:S[I]});var L=D.length,P=D.slice(0);if(L==0)return 0;if(L==1){var H=D[0].lit;return P=H==0?1:0,_[1+(H<<1)]=1,_[1+(P<<1)]=1,1}D.sort(function(Ee,De){return Ee.f-De.f});var Y=D[0],q=D[1],$e=0,de=1,Be=2;for(D[0]={lit:-1,f:Y.f+q.f,l:Y,r:q,d:0};de!=L-1;)Y=$e!=de&&(Be==L||D[$e].f<D[Be].f)?D[$e++]:D[Be++],q=$e!=de&&(Be==L||D[$e].f<D[Be].f)?D[$e++]:D[Be++],D[de++]={lit:-1,f:Y.f+q.f,l:Y,r:q};var ue=y.F.setDepth(D[de-1],0);for(ue>T&&(y.F.restrictDepth(P,T,ue),ue=T),I=0;I<L;I++)_[1+(P[I].lit<<1)]=P[I].d;return ue},y.F.setDepth=function(S,_){return S.lit!=-1?(S.d=_,_):Math.max(y.F.setDepth(S.l,_+1),y.F.setDepth(S.r,_+1))},y.F.restrictDepth=function(S,_,T){var D=0,F=1<<T-_,W=0;for(S.sort(function(L,P){return P.d==L.d?L.f-P.f:P.d-L.d}),D=0;D<S.length&&S[D].d>_;D++){var I=S[D].d;S[D].d=_,W+=F-(1<<T-I)}for(W>>>=T-_;W>0;)(I=S[D].d)<_?(S[D].d++,W-=1<<_-I-1):D++;for(;D>=0;D--)S[D].d==_&&W<0&&(S[D].d--,W++);W!=0&&console.log("debt left")},y.F._goodIndex=function(S,_){var T=0;return _[16|T]<=S&&(T|=16),_[8|T]<=S&&(T|=8),_[4|T]<=S&&(T|=4),_[2|T]<=S&&(T|=2),_[1|T]<=S&&(T|=1),T},y.F._writeLit=function(S,_,T,D){return y.F._putsF(T,D,_[S<<1]),D+_[1+(S<<1)]},y.F.inflate=function(S,_){var T=Uint8Array;if(S[0]==3&&S[1]==0)return _||new T(0);var D=y.F,F=D._bitsF,W=D._bitsE,I=D._decodeTiny,L=D.makeCodes,P=D.codes2map,H=D._get17,Y=D.U,q=_==null;q&&(_=new T(S.length>>>2<<3));for(var $e,de,Be=0,ue=0,Ee=0,De=0,ke=0,Ye=0,le=0,pe=0,ye=0;Be==0;)if(Be=F(S,ye,1),ue=F(S,ye+1,2),ye+=3,ue!=0){if(q&&(_=y.F._check(_,pe+(1<<17))),ue==1&&($e=Y.flmap,de=Y.fdmap,Ye=511,le=31),ue==2){Ee=W(S,ye,5)+257,De=W(S,ye+5,5)+1,ke=W(S,ye+10,4)+4,ye+=14;for(var Me=0;Me<38;Me+=2)Y.itree[Me]=0,Y.itree[Me+1]=0;var ne=1;for(Me=0;Me<ke;Me++){var U=W(S,ye+3*Me,3);Y.itree[1+(Y.ordr[Me]<<1)]=U,U>ne&&(ne=U)}ye+=3*ke,L(Y.itree,ne),P(Y.itree,ne,Y.imap),$e=Y.lmap,de=Y.dmap,ye=I(Y.imap,(1<<ne)-1,Ee+De,S,ye,Y.ttree);var _e=D._copyOut(Y.ttree,0,Ee,Y.ltree);Ye=(1<<_e)-1;var Qe=D._copyOut(Y.ttree,Ee,De,Y.dtree);le=(1<<Qe)-1,L(Y.ltree,_e),P(Y.ltree,_e,$e),L(Y.dtree,Qe),P(Y.dtree,Qe,de)}for(;;){var se=$e[H(S,ye)&Ye];ye+=15&se;var ge=se>>>4;if(!(ge>>>8))_[pe++]=ge;else{if(ge==256)break;var ut=pe+ge-254;if(ge>264){var B=Y.ldef[ge-257];ut=pe+(B>>>3)+W(S,ye,7&B),ye+=7&B}var _t=de[H(S,ye)&le];ye+=15&_t;var at=_t>>>4,ot=Y.ddef[at],kn=(ot>>>4)+F(S,ye,15&ot);for(ye+=15&ot,q&&(_=y.F._check(_,pe+(1<<17)));pe<ut;)_[pe]=_[pe++-kn],_[pe]=_[pe++-kn],_[pe]=_[pe++-kn],_[pe]=_[pe++-kn];pe=ut}}}else{7&ye&&(ye+=8-(7&ye));var cn=4+(ye>>>3),lt=S[cn-4]|S[cn-3]<<8;q&&(_=y.F._check(_,pe+lt)),_.set(new T(S.buffer,S.byteOffset+cn,lt),pe),ye=cn+lt<<3,pe+=lt}return _.length==pe?_:_.slice(0,pe)},y.F._check=function(S,_){var T=S.length;if(_<=T)return S;var D=new Uint8Array(Math.max(T<<1,_));return D.set(S,0),D},y.F._decodeTiny=function(S,_,T,D,F,W){for(var I=y.F._bitsE,L=y.F._get17,P=0;P<T;){var H=S[L(D,F)&_];F+=15&H;var Y=H>>>4;if(Y<=15)W[P]=Y,P++;else{var q=0,$e=0;Y==16?($e=3+I(D,F,2),F+=2,q=W[P-1]):Y==17?($e=3+I(D,F,3),F+=3):Y==18&&($e=11+I(D,F,7),F+=7);for(var de=P+$e;P<de;)W[P]=q,P++}}return F},y.F._copyOut=function(S,_,T,D){for(var F=0,W=0,I=D.length>>>1;W<T;){var L=S[W+_];D[W<<1]=0,D[1+(W<<1)]=L,L>F&&(F=L),W++}for(;W<I;)D[W<<1]=0,D[1+(W<<1)]=0,W++;return F},y.F.makeCodes=function(S,_){for(var T,D,F,W,I=y.F.U,L=S.length,P=I.bl_count,H=0;H<=_;H++)P[H]=0;for(H=1;H<L;H+=2)P[S[H]]++;var Y=I.next_code;for(T=0,P[0]=0,D=1;D<=_;D++)T=T+P[D-1]<<1,Y[D]=T;for(F=0;F<L;F+=2)(W=S[F+1])!=0&&(S[F]=Y[W],Y[W]++)},y.F.codes2map=function(S,_,T){for(var D=S.length,F=y.F.U.rev15,W=0;W<D;W+=2)if(S[W+1]!=0)for(var I=W>>1,L=S[W+1],P=I<<4|L,H=_-L,Y=S[W]<<H,q=Y+(1<<H);Y!=q;)T[F[Y]>>>15-_]=P,Y++},y.F.revCodes=function(S,_){for(var T=y.F.U.rev15,D=15-_,F=0;F<S.length;F+=2){var W=S[F]<<_-S[F+1];S[F]=T[W]>>>D}},y.F._putsE=function(S,_,T){T<<=7&_;var D=_>>>3;S[D]|=T,S[D+1]|=T>>>8},y.F._putsF=function(S,_,T){T<<=7&_;var D=_>>>3;S[D]|=T,S[D+1]|=T>>>8,S[D+2]|=T>>>16},y.F._bitsE=function(S,_,T){return(S[_>>>3]|S[1+(_>>>3)]<<8)>>>(7&_)&(1<<T)-1},y.F._bitsF=function(S,_,T){return(S[_>>>3]|S[1+(_>>>3)]<<8|S[2+(_>>>3)]<<16)>>>(7&_)&(1<<T)-1},y.F._get17=function(S,_){return(S[_>>>3]|S[1+(_>>>3)]<<8|S[2+(_>>>3)]<<16)>>>(7&_)},y.F._get25=function(S,_){return(S[_>>>3]|S[1+(_>>>3)]<<8|S[2+(_>>>3)]<<16|S[3+(_>>>3)]<<24)>>>(7&_)},y.F.U=(m=Uint16Array,b=Uint32Array,{next_code:new m(16),bl_count:new m(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new m(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new b(32),flmap:new m(512),fltree:[],fdmap:new m(32),fdtree:[],lmap:new m(32768),ltree:[],ttree:[],dmap:new m(32768),dtree:[],imap:new m(512),itree:[],rev15:new m(32768),lhst:new b(286),dhst:new b(30),ihst:new b(19),lits:new b(15e3),strt:new m(65536),prev:new m(32768)}),function(){for(var S=y.F.U,_=0;_<32768;_++){var T=_;T=(4278255360&(T=(4042322160&(T=(3435973836&(T=(2863311530&T)>>>1|(1431655765&T)<<1))>>>2|(858993459&T)<<2))>>>4|(252645135&T)<<4))>>>8|(16711935&T)<<8,S.rev15[_]=(T>>>16|T<<16)>>>17}function D(F,W,I){for(;W--!=0;)F.push(0,I)}for(_=0;_<32;_++)S.ldef[_]=S.of0[_]<<3|S.exb[_],S.ddef[_]=S.df0[_]<<4|S.dxb[_];D(S.fltree,144,8),D(S.fltree,112,9),D(S.fltree,24,7),D(S.fltree,8,8),y.F.makeCodes(S.fltree,9),y.F.codes2map(S.fltree,9,S.flmap),y.F.revCodes(S.fltree,9),D(S.fdtree,32,5),y.F.makeCodes(S.fdtree,5),y.F.codes2map(S.fdtree,5,S.fdmap),y.F.revCodes(S.fdtree,5),D(S.itree,19,0),D(S.ltree,286,0),D(S.dtree,30,0),D(S.ttree,320,0)}()})();var qae=Wae({__proto__:null,default:A6},[A6]);const Hm=function(){var f={nextZero(I,L){for(;I[L]!=0;)L++;return L},readUshort:(I,L)=>I[L]<<8|I[L+1],writeUshort(I,L,P){I[L]=P>>8&255,I[L+1]=255&P},readUint:(I,L)=>16777216*I[L]+(I[L+1]<<16|I[L+2]<<8|I[L+3]),writeUint(I,L,P){I[L]=P>>24&255,I[L+1]=P>>16&255,I[L+2]=P>>8&255,I[L+3]=255&P},readASCII(I,L,P){let H="";for(let Y=0;Y<P;Y++)H+=String.fromCharCode(I[L+Y]);return H},writeASCII(I,L,P){for(let H=0;H<P.length;H++)I[L+H]=P.charCodeAt(H)},readBytes(I,L,P){const H=[];for(let Y=0;Y<P;Y++)H.push(I[L+Y]);return H},pad:I=>I.length<2?`0${I}`:I,readUTF8(I,L,P){let H,Y="";for(let q=0;q<P;q++)Y+=`%${f.pad(I[L+q].toString(16))}`;try{H=decodeURIComponent(Y)}catch{return f.readASCII(I,L,P)}return H}};function m(I,L,P,H){const Y=L*P,q=_(H),$e=Math.ceil(L*q/8),de=new Uint8Array(4*Y),Be=new Uint32Array(de.buffer),{ctype:ue}=H,{depth:Ee}=H,De=f.readUshort;if(ue==6){const B=Y<<2;if(Ee==8)for(var ke=0;ke<B;ke+=4)de[ke]=I[ke],de[ke+1]=I[ke+1],de[ke+2]=I[ke+2],de[ke+3]=I[ke+3];if(Ee==16)for(ke=0;ke<B;ke++)de[ke]=I[ke<<1]}else if(ue==2){const B=H.tabs.tRNS;if(B==null){if(Ee==8)for(ke=0;ke<Y;ke++){var Ye=3*ke;Be[ke]=255<<24|I[Ye+2]<<16|I[Ye+1]<<8|I[Ye]}if(Ee==16)for(ke=0;ke<Y;ke++)Ye=6*ke,Be[ke]=255<<24|I[Ye+4]<<16|I[Ye+2]<<8|I[Ye]}else{var le=B[0];const _t=B[1],at=B[2];if(Ee==8)for(ke=0;ke<Y;ke++){var pe=ke<<2;Ye=3*ke,Be[ke]=255<<24|I[Ye+2]<<16|I[Ye+1]<<8|I[Ye],I[Ye]==le&&I[Ye+1]==_t&&I[Ye+2]==at&&(de[pe+3]=0)}if(Ee==16)for(ke=0;ke<Y;ke++)pe=ke<<2,Ye=6*ke,Be[ke]=255<<24|I[Ye+4]<<16|I[Ye+2]<<8|I[Ye],De(I,Ye)==le&&De(I,Ye+2)==_t&&De(I,Ye+4)==at&&(de[pe+3]=0)}}else if(ue==3){const B=H.tabs.PLTE,_t=H.tabs.tRNS,at=_t?_t.length:0;if(Ee==1)for(var ye=0;ye<P;ye++){var Me=ye*$e,ne=ye*L;for(ke=0;ke<L;ke++){pe=ne+ke<<2;var U=3*(_e=I[Me+(ke>>3)]>>7-((7&ke)<<0)&1);de[pe]=B[U],de[pe+1]=B[U+1],de[pe+2]=B[U+2],de[pe+3]=_e<at?_t[_e]:255}}if(Ee==2)for(ye=0;ye<P;ye++)for(Me=ye*$e,ne=ye*L,ke=0;ke<L;ke++)pe=ne+ke<<2,U=3*(_e=I[Me+(ke>>2)]>>6-((3&ke)<<1)&3),de[pe]=B[U],de[pe+1]=B[U+1],de[pe+2]=B[U+2],de[pe+3]=_e<at?_t[_e]:255;if(Ee==4)for(ye=0;ye<P;ye++)for(Me=ye*$e,ne=ye*L,ke=0;ke<L;ke++)pe=ne+ke<<2,U=3*(_e=I[Me+(ke>>1)]>>4-((1&ke)<<2)&15),de[pe]=B[U],de[pe+1]=B[U+1],de[pe+2]=B[U+2],de[pe+3]=_e<at?_t[_e]:255;if(Ee==8)for(ke=0;ke<Y;ke++){var _e;pe=ke<<2,U=3*(_e=I[ke]),de[pe]=B[U],de[pe+1]=B[U+1],de[pe+2]=B[U+2],de[pe+3]=_e<at?_t[_e]:255}}else if(ue==4){if(Ee==8)for(ke=0;ke<Y;ke++){pe=ke<<2;var Qe=I[se=ke<<1];de[pe]=Qe,de[pe+1]=Qe,de[pe+2]=Qe,de[pe+3]=I[se+1]}if(Ee==16)for(ke=0;ke<Y;ke++){var se;pe=ke<<2,Qe=I[se=ke<<2],de[pe]=Qe,de[pe+1]=Qe,de[pe+2]=Qe,de[pe+3]=I[se+2]}}else if(ue==0)for(le=H.tabs.tRNS?H.tabs.tRNS:-1,ye=0;ye<P;ye++){const B=ye*$e,_t=ye*L;if(Ee==1)for(var ge=0;ge<L;ge++){var ut=(Qe=255*(I[B+(ge>>>3)]>>>7-(7&ge)&1))==255*le?0:255;Be[_t+ge]=ut<<24|Qe<<16|Qe<<8|Qe}else if(Ee==2)for(ge=0;ge<L;ge++)ut=(Qe=85*(I[B+(ge>>>2)]>>>6-((3&ge)<<1)&3))==85*le?0:255,Be[_t+ge]=ut<<24|Qe<<16|Qe<<8|Qe;else if(Ee==4)for(ge=0;ge<L;ge++)ut=(Qe=17*(I[B+(ge>>>1)]>>>4-((1&ge)<<2)&15))==17*le?0:255,Be[_t+ge]=ut<<24|Qe<<16|Qe<<8|Qe;else if(Ee==8)for(ge=0;ge<L;ge++)ut=(Qe=I[B+ge])==le?0:255,Be[_t+ge]=ut<<24|Qe<<16|Qe<<8|Qe;else if(Ee==16)for(ge=0;ge<L;ge++)Qe=I[B+(ge<<1)],ut=De(I,B+(ge<<1))==le?0:255,Be[_t+ge]=ut<<24|Qe<<16|Qe<<8|Qe}return de}function b(I,L,P,H){const Y=_(I),q=Math.ceil(P*Y/8),$e=new Uint8Array((q+1+I.interlace)*H);return L=I.tabs.CgBI?S(L,$e):y(L,$e),I.interlace==0?L=T(L,I,0,P,H):I.interlace==1&&(L=function(Be,ue){const Ee=ue.width,De=ue.height,ke=_(ue),Ye=ke>>3,le=Math.ceil(Ee*ke/8),pe=new Uint8Array(De*le);let ye=0;const Me=[0,0,4,0,2,0,1],ne=[0,4,0,2,0,1,0],U=[8,8,8,4,4,2,2],_e=[8,8,4,4,2,2,1];let Qe=0;for(;Qe<7;){const ge=U[Qe],ut=_e[Qe];let B=0,_t=0,at=Me[Qe];for(;at<De;)at+=ge,_t++;let ot=ne[Qe];for(;ot<Ee;)ot+=ut,B++;const kn=Math.ceil(B*ke/8);T(Be,ue,ye,B,_t);let cn=0,lt=Me[Qe];for(;lt<De;){let Sn=ne[Qe],te=ye+cn*kn<<3;for(;Sn<Ee;){var se;if(ke==1&&(se=(se=Be[te>>3])>>7-(7&te)&1,pe[lt*le+(Sn>>3)]|=se<<7-((7&Sn)<<0)),ke==2&&(se=(se=Be[te>>3])>>6-(7&te)&3,pe[lt*le+(Sn>>2)]|=se<<6-((3&Sn)<<1)),ke==4&&(se=(se=Be[te>>3])>>4-(7&te)&15,pe[lt*le+(Sn>>1)]|=se<<4-((1&Sn)<<2)),ke>=8){const fn=lt*le+Sn*Ye;for(let Ue=0;Ue<Ye;Ue++)pe[fn+Ue]=Be[(te>>3)+Ue]}te+=ke,Sn+=ut}cn++,lt+=ge}B*_t!=0&&(ye+=_t*(1+kn)),Qe+=1}return pe}(L,I)),L}function y(I,L){return S(new Uint8Array(I.buffer,2,I.length-6),L)}var S=function(){const I={H:{}};return I.H.N=function(L,P){const H=Uint8Array;let Y,q,$e=0,de=0,Be=0,ue=0,Ee=0,De=0,ke=0,Ye=0,le=0;if(L[0]==3&&L[1]==0)return P||new H(0);const pe=I.H,ye=pe.b,Me=pe.e,ne=pe.R,U=pe.n,_e=pe.A,Qe=pe.Z,se=pe.m,ge=P==null;for(ge&&(P=new H(L.length>>>2<<5));$e==0;)if($e=ye(L,le,1),de=ye(L,le+1,2),le+=3,de!=0){if(ge&&(P=I.H.W(P,Ye+(1<<17))),de==1&&(Y=se.J,q=se.h,De=511,ke=31),de==2){Be=Me(L,le,5)+257,ue=Me(L,le+5,5)+1,Ee=Me(L,le+10,4)+4,le+=14;let B=1;for(var ut=0;ut<38;ut+=2)se.Q[ut]=0,se.Q[ut+1]=0;for(ut=0;ut<Ee;ut++){const ot=Me(L,le+3*ut,3);se.Q[1+(se.X[ut]<<1)]=ot,ot>B&&(B=ot)}le+=3*Ee,U(se.Q,B),_e(se.Q,B,se.u),Y=se.w,q=se.d,le=ne(se.u,(1<<B)-1,Be+ue,L,le,se.v);const _t=pe.V(se.v,0,Be,se.C);De=(1<<_t)-1;const at=pe.V(se.v,Be,ue,se.D);ke=(1<<at)-1,U(se.C,_t),_e(se.C,_t,Y),U(se.D,at),_e(se.D,at,q)}for(;;){const B=Y[Qe(L,le)&De];le+=15&B;const _t=B>>>4;if(!(_t>>>8))P[Ye++]=_t;else{if(_t==256)break;{let at=Ye+_t-254;if(_t>264){const Sn=se.q[_t-257];at=Ye+(Sn>>>3)+Me(L,le,7&Sn),le+=7&Sn}const ot=q[Qe(L,le)&ke];le+=15&ot;const kn=ot>>>4,cn=se.c[kn],lt=(cn>>>4)+ye(L,le,15&cn);for(le+=15&cn;Ye<at;)P[Ye]=P[Ye++-lt],P[Ye]=P[Ye++-lt],P[Ye]=P[Ye++-lt],P[Ye]=P[Ye++-lt];Ye=at}}}}else{7&le&&(le+=8-(7&le));const B=4+(le>>>3),_t=L[B-4]|L[B-3]<<8;ge&&(P=I.H.W(P,Ye+_t)),P.set(new H(L.buffer,L.byteOffset+B,_t),Ye),le=B+_t<<3,Ye+=_t}return P.length==Ye?P:P.slice(0,Ye)},I.H.W=function(L,P){const H=L.length;if(P<=H)return L;const Y=new Uint8Array(H<<1);return Y.set(L,0),Y},I.H.R=function(L,P,H,Y,q,$e){const de=I.H.e,Be=I.H.Z;let ue=0;for(;ue<H;){const Ee=L[Be(Y,q)&P];q+=15&Ee;const De=Ee>>>4;if(De<=15)$e[ue]=De,ue++;else{let ke=0,Ye=0;De==16?(Ye=3+de(Y,q,2),q+=2,ke=$e[ue-1]):De==17?(Ye=3+de(Y,q,3),q+=3):De==18&&(Ye=11+de(Y,q,7),q+=7);const le=ue+Ye;for(;ue<le;)$e[ue]=ke,ue++}}return q},I.H.V=function(L,P,H,Y){let q=0,$e=0;const de=Y.length>>>1;for(;$e<H;){const Be=L[$e+P];Y[$e<<1]=0,Y[1+($e<<1)]=Be,Be>q&&(q=Be),$e++}for(;$e<de;)Y[$e<<1]=0,Y[1+($e<<1)]=0,$e++;return q},I.H.n=function(L,P){const H=I.H.m,Y=L.length;let q,$e,de,Be;const ue=H.j;for(var Ee=0;Ee<=P;Ee++)ue[Ee]=0;for(Ee=1;Ee<Y;Ee+=2)ue[L[Ee]]++;const De=H.K;for(q=0,ue[0]=0,$e=1;$e<=P;$e++)q=q+ue[$e-1]<<1,De[$e]=q;for(de=0;de<Y;de+=2)Be=L[de+1],Be!=0&&(L[de]=De[Be],De[Be]++)},I.H.A=function(L,P,H){const Y=L.length,q=I.H.m.r;for(let $e=0;$e<Y;$e+=2)if(L[$e+1]!=0){const de=$e>>1,Be=L[$e+1],ue=de<<4|Be,Ee=P-Be;let De=L[$e]<<Ee;const ke=De+(1<<Ee);for(;De!=ke;)H[q[De]>>>15-P]=ue,De++}},I.H.l=function(L,P){const H=I.H.m.r,Y=15-P;for(let q=0;q<L.length;q+=2){const $e=L[q]<<P-L[q+1];L[q]=H[$e]>>>Y}},I.H.M=function(L,P,H){H<<=7&P;const Y=P>>>3;L[Y]|=H,L[Y+1]|=H>>>8},I.H.I=function(L,P,H){H<<=7&P;const Y=P>>>3;L[Y]|=H,L[Y+1]|=H>>>8,L[Y+2]|=H>>>16},I.H.e=function(L,P,H){return(L[P>>>3]|L[1+(P>>>3)]<<8)>>>(7&P)&(1<<H)-1},I.H.b=function(L,P,H){return(L[P>>>3]|L[1+(P>>>3)]<<8|L[2+(P>>>3)]<<16)>>>(7&P)&(1<<H)-1},I.H.Z=function(L,P){return(L[P>>>3]|L[1+(P>>>3)]<<8|L[2+(P>>>3)]<<16)>>>(7&P)},I.H.i=function(L,P){return(L[P>>>3]|L[1+(P>>>3)]<<8|L[2+(P>>>3)]<<16|L[3+(P>>>3)]<<24)>>>(7&P)},I.H.m=function(){const L=Uint16Array,P=Uint32Array;return{K:new L(16),j:new L(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new L(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new P(32),J:new L(512),_:[],h:new L(32),$:[],w:new L(32768),C:[],v:[],d:new L(32768),D:[],u:new L(512),Q:[],r:new L(32768),s:new P(286),Y:new P(30),a:new P(19),t:new P(15e3),k:new L(65536),g:new L(32768)}}(),function(){const L=I.H.m;for(var P=0;P<32768;P++){let Y=P;Y=(2863311530&Y)>>>1|(1431655765&Y)<<1,Y=(3435973836&Y)>>>2|(858993459&Y)<<2,Y=(4042322160&Y)>>>4|(252645135&Y)<<4,Y=(4278255360&Y)>>>8|(16711935&Y)<<8,L.r[P]=(Y>>>16|Y<<16)>>>17}function H(Y,q,$e){for(;q--!=0;)Y.push(0,$e)}for(P=0;P<32;P++)L.q[P]=L.S[P]<<3|L.T[P],L.c[P]=L.p[P]<<4|L.z[P];H(L._,144,8),H(L._,112,9),H(L._,24,7),H(L._,8,8),I.H.n(L._,9),I.H.A(L._,9,L.J),I.H.l(L._,9),H(L.$,32,5),I.H.n(L.$,5),I.H.A(L.$,5,L.h),I.H.l(L.$,5),H(L.Q,19,0),H(L.C,286,0),H(L.D,30,0),H(L.v,320,0)}(),I.H.N}();function _(I){return[1,null,3,1,2,null,4][I.ctype]*I.depth}function T(I,L,P,H,Y){let q=_(L);const $e=Math.ceil(H*q/8);let de,Be;q=Math.ceil(q/8);let ue=I[P],Ee=0;if(ue>1&&(I[P]=[0,0,1][ue-2]),ue==3)for(Ee=q;Ee<$e;Ee++)I[Ee+1]=I[Ee+1]+(I[Ee+1-q]>>>1)&255;for(let De=0;De<Y;De++)if(de=P+De*$e,Be=de+De+1,ue=I[Be-1],Ee=0,ue==0)for(;Ee<$e;Ee++)I[de+Ee]=I[Be+Ee];else if(ue==1){for(;Ee<q;Ee++)I[de+Ee]=I[Be+Ee];for(;Ee<$e;Ee++)I[de+Ee]=I[Be+Ee]+I[de+Ee-q]}else if(ue==2)for(;Ee<$e;Ee++)I[de+Ee]=I[Be+Ee]+I[de+Ee-$e];else if(ue==3){for(;Ee<q;Ee++)I[de+Ee]=I[Be+Ee]+(I[de+Ee-$e]>>>1);for(;Ee<$e;Ee++)I[de+Ee]=I[Be+Ee]+(I[de+Ee-$e]+I[de+Ee-q]>>>1)}else{for(;Ee<q;Ee++)I[de+Ee]=I[Be+Ee]+D(0,I[de+Ee-$e],0);for(;Ee<$e;Ee++)I[de+Ee]=I[Be+Ee]+D(I[de+Ee-q],I[de+Ee-$e],I[de+Ee-q-$e])}return I}function D(I,L,P){const H=I+L-P,Y=H-I,q=H-L,$e=H-P;return Y*Y<=q*q&&Y*Y<=$e*$e?I:q*q<=$e*$e?L:P}function F(I,L,P){P.width=f.readUint(I,L),L+=4,P.height=f.readUint(I,L),L+=4,P.depth=I[L],L++,P.ctype=I[L],L++,P.compress=I[L],L++,P.filter=I[L],L++,P.interlace=I[L],L++}function W(I,L,P,H,Y,q,$e,de,Be){const ue=Math.min(L,Y),Ee=Math.min(P,q);let De=0,ke=0;for(let Qe=0;Qe<Ee;Qe++)for(let se=0;se<ue;se++)if($e>=0&&de>=0?(De=Qe*L+se<<2,ke=(de+Qe)*Y+$e+se<<2):(De=(-de+Qe)*L-$e+se<<2,ke=Qe*Y+se<<2),Be==0)H[ke]=I[De],H[ke+1]=I[De+1],H[ke+2]=I[De+2],H[ke+3]=I[De+3];else if(Be==1){var Ye=I[De+3]*.00392156862745098,le=I[De]*Ye,pe=I[De+1]*Ye,ye=I[De+2]*Ye,Me=H[ke+3]*(1/255),ne=H[ke]*Me,U=H[ke+1]*Me,_e=H[ke+2]*Me;const ge=1-Ye,ut=Ye+Me*ge,B=ut==0?0:1/ut;H[ke+3]=255*ut,H[ke+0]=(le+ne*ge)*B,H[ke+1]=(pe+U*ge)*B,H[ke+2]=(ye+_e*ge)*B}else if(Be==2)Ye=I[De+3],le=I[De],pe=I[De+1],ye=I[De+2],Me=H[ke+3],ne=H[ke],U=H[ke+1],_e=H[ke+2],Ye==Me&&le==ne&&pe==U&&ye==_e?(H[ke]=0,H[ke+1]=0,H[ke+2]=0,H[ke+3]=0):(H[ke]=le,H[ke+1]=pe,H[ke+2]=ye,H[ke+3]=Ye);else if(Be==3){if(Ye=I[De+3],le=I[De],pe=I[De+1],ye=I[De+2],Me=H[ke+3],ne=H[ke],U=H[ke+1],_e=H[ke+2],Ye==Me&&le==ne&&pe==U&&ye==_e)continue;if(Ye<220&&Me>20)return!1}return!0}return{decode:function(L){const P=new Uint8Array(L);let H=8;const Y=f,q=Y.readUshort,$e=Y.readUint,de={tabs:{},frames:[]},Be=new Uint8Array(P.length);let ue,Ee=0,De=0;const ke=[137,80,78,71,13,10,26,10];for(var Ye=0;Ye<8;Ye++)if(P[Ye]!=ke[Ye])throw"The input is not a PNG file!";for(;H<P.length;){const Qe=Y.readUint(P,H);H+=4;const se=Y.readASCII(P,H,4);if(H+=4,se=="IHDR")F(P,H,de);else if(se=="iCCP"){for(var le=H;P[le]!=0;)le++;Y.readASCII(P,H,le-H),P[le+1];const ge=P.slice(le+2,H+Qe);let ut=null;try{ut=y(ge)}catch{ut=S(ge)}de.tabs[se]=ut}else if(se=="CgBI")de.tabs[se]=P.slice(H,H+4);else if(se=="IDAT"){for(Ye=0;Ye<Qe;Ye++)Be[Ee+Ye]=P[H+Ye];Ee+=Qe}else if(se=="acTL")de.tabs[se]={num_frames:$e(P,H),num_plays:$e(P,H+4)},ue=new Uint8Array(P.length);else if(se=="fcTL"){De!=0&&((_e=de.frames[de.frames.length-1]).data=b(de,ue.slice(0,De),_e.rect.width,_e.rect.height),De=0);const ge={x:$e(P,H+12),y:$e(P,H+16),width:$e(P,H+4),height:$e(P,H+8)};let ut=q(P,H+22);ut=q(P,H+20)/(ut==0?100:ut);const B={rect:ge,delay:Math.round(1e3*ut),dispose:P[H+24],blend:P[H+25]};de.frames.push(B)}else if(se=="fdAT"){for(Ye=0;Ye<Qe-4;Ye++)ue[De+Ye]=P[H+Ye+4];De+=Qe-4}else if(se=="pHYs")de.tabs[se]=[Y.readUint(P,H),Y.readUint(P,H+4),P[H+8]];else if(se=="cHRM")for(de.tabs[se]=[],Ye=0;Ye<8;Ye++)de.tabs[se].push(Y.readUint(P,H+4*Ye));else if(se=="tEXt"||se=="zTXt"){de.tabs[se]==null&&(de.tabs[se]={});var pe=Y.nextZero(P,H),ye=Y.readASCII(P,H,pe-H),Me=H+Qe-pe-1;if(se=="tEXt")U=Y.readASCII(P,pe+1,Me);else{var ne=y(P.slice(pe+2,pe+2+Me));U=Y.readUTF8(ne,0,ne.length)}de.tabs[se][ye]=U}else if(se=="iTXt"){de.tabs[se]==null&&(de.tabs[se]={}),pe=0,le=H,pe=Y.nextZero(P,le),ye=Y.readASCII(P,le,pe-le);const ge=P[le=pe+1];var U;P[le+1],le+=2,pe=Y.nextZero(P,le),Y.readASCII(P,le,pe-le),le=pe+1,pe=Y.nextZero(P,le),Y.readUTF8(P,le,pe-le),Me=Qe-((le=pe+1)-H),ge==0?U=Y.readUTF8(P,le,Me):(ne=y(P.slice(le,le+Me)),U=Y.readUTF8(ne,0,ne.length)),de.tabs[se][ye]=U}else if(se=="PLTE")de.tabs[se]=Y.readBytes(P,H,Qe);else if(se=="hIST"){const ge=de.tabs.PLTE.length/3;for(de.tabs[se]=[],Ye=0;Ye<ge;Ye++)de.tabs[se].push(q(P,H+2*Ye))}else if(se=="tRNS")de.ctype==3?de.tabs[se]=Y.readBytes(P,H,Qe):de.ctype==0?de.tabs[se]=q(P,H):de.ctype==2&&(de.tabs[se]=[q(P,H),q(P,H+2),q(P,H+4)]);else if(se=="gAMA")de.tabs[se]=Y.readUint(P,H)/1e5;else if(se=="sRGB")de.tabs[se]=P[H];else if(se=="bKGD")de.ctype==0||de.ctype==4?de.tabs[se]=[q(P,H)]:de.ctype==2||de.ctype==6?de.tabs[se]=[q(P,H),q(P,H+2),q(P,H+4)]:de.ctype==3&&(de.tabs[se]=P[H]);else if(se=="IEND")break;H+=Qe,Y.readUint(P,H),H+=4}var _e;return De!=0&&((_e=de.frames[de.frames.length-1]).data=b(de,ue.slice(0,De),_e.rect.width,_e.rect.height)),de.data=b(de,Be,de.width,de.height),delete de.compress,delete de.interlace,delete de.filter,de},toRGBA8:function(L){const P=L.width,H=L.height;if(L.tabs.acTL==null)return[m(L.data,P,H,L).buffer];const Y=[];L.frames[0].data==null&&(L.frames[0].data=L.data);const q=P*H*4,$e=new Uint8Array(q),de=new Uint8Array(q),Be=new Uint8Array(q);for(let Ee=0;Ee<L.frames.length;Ee++){const De=L.frames[Ee],ke=De.rect.x,Ye=De.rect.y,le=De.rect.width,pe=De.rect.height,ye=m(De.data,le,pe,L);if(Ee!=0)for(var ue=0;ue<q;ue++)Be[ue]=$e[ue];if(De.blend==0?W(ye,le,pe,$e,P,H,ke,Ye,0):De.blend==1&&W(ye,le,pe,$e,P,H,ke,Ye,1),Y.push($e.buffer.slice(0)),De.dispose!=0){if(De.dispose==1)W(de,le,pe,$e,P,H,ke,Ye,0);else if(De.dispose==2)for(ue=0;ue<q;ue++)$e[ue]=Be[ue]}}return Y},_paeth:D,_copyTile:W,_bin:f}}();(function(){const{_copyTile:f}=Hm,{_bin:m}=Hm,b=Hm._paeth;var y={table:function(){const le=new Uint32Array(256);for(let pe=0;pe<256;pe++){let ye=pe;for(let Me=0;Me<8;Me++)1&ye?ye=3988292384^ye>>>1:ye>>>=1;le[pe]=ye}return le}(),update(le,pe,ye,Me){for(let ne=0;ne<Me;ne++)le=y.table[255&(le^pe[ye+ne])]^le>>>8;return le},crc:(le,pe,ye)=>4294967295^y.update(4294967295,le,pe,ye)};function S(le,pe,ye,Me){pe[ye]+=le[0]*Me>>4,pe[ye+1]+=le[1]*Me>>4,pe[ye+2]+=le[2]*Me>>4,pe[ye+3]+=le[3]*Me>>4}function _(le){return Math.max(0,Math.min(255,le))}function T(le,pe){const ye=le[0]-pe[0],Me=le[1]-pe[1],ne=le[2]-pe[2],U=le[3]-pe[3];return ye*ye+Me*Me+ne*ne+U*U}function D(le,pe,ye,Me,ne,U,_e){_e==null&&(_e=1);const Qe=Me.length,se=[];for(var ge=0;ge<Qe;ge++){const lt=Me[ge];se.push([lt>>>0&255,lt>>>8&255,lt>>>16&255,lt>>>24&255])}for(ge=0;ge<Qe;ge++){let lt=4294967295;for(var ut=0,B=0;B<Qe;B++){var _t=T(se[ge],se[B]);B!=ge&&_t<lt&&(lt=_t,ut=B)}}const at=new Uint32Array(ne.buffer),ot=new Int16Array(pe*ye*4),kn=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(ge=0;ge<kn.length;ge++)kn[ge]=255*((kn[ge]+.5)/16-.5);for(let lt=0;lt<ye;lt++)for(let Sn=0;Sn<pe;Sn++){var cn;ge=4*(lt*pe+Sn),_e!=2?cn=[_(le[ge]+ot[ge]),_(le[ge+1]+ot[ge+1]),_(le[ge+2]+ot[ge+2]),_(le[ge+3]+ot[ge+3])]:(_t=kn[4*(3&lt)+(3&Sn)],cn=[_(le[ge]+_t),_(le[ge+1]+_t),_(le[ge+2]+_t),_(le[ge+3]+_t)]),ut=0;let te=16777215;for(B=0;B<Qe;B++){const gt=T(cn,se[B]);gt<te&&(te=gt,ut=B)}const fn=se[ut],Ue=[cn[0]-fn[0],cn[1]-fn[1],cn[2]-fn[2],cn[3]-fn[3]];_e==1&&(Sn!=pe-1&&S(Ue,ot,ge+4,7),lt!=ye-1&&(Sn!=0&&S(Ue,ot,ge+4*pe-4,3),S(Ue,ot,ge+4*pe,5),Sn!=pe-1&&S(Ue,ot,ge+4*pe+4,1))),U[ge>>2]=ut,at[ge>>2]=Me[ut]}}function F(le,pe,ye,Me,ne){ne==null&&(ne={});const{crc:U}=y,_e=m.writeUint,Qe=m.writeUshort,se=m.writeASCII;let ge=8;const ut=le.frames.length>1;let B,_t=!1,at=33+(ut?20:0);if(ne.sRGB!=null&&(at+=13),ne.pHYs!=null&&(at+=21),ne.iCCP!=null&&(B=pako.deflate(ne.iCCP),at+=21+B.length+4),le.ctype==3){for(var ot=le.plte.length,kn=0;kn<ot;kn++)le.plte[kn]>>>24!=255&&(_t=!0);at+=8+3*ot+4+(_t?8+1*ot+4:0)}for(var cn=0;cn<le.frames.length;cn++)ut&&(at+=38),at+=(fn=le.frames[cn]).cimg.length+12,cn!=0&&(at+=4);at+=12;const lt=new Uint8Array(at),Sn=[137,80,78,71,13,10,26,10];for(kn=0;kn<8;kn++)lt[kn]=Sn[kn];if(_e(lt,ge,13),ge+=4,se(lt,ge,"IHDR"),ge+=4,_e(lt,ge,pe),ge+=4,_e(lt,ge,ye),ge+=4,lt[ge]=le.depth,ge++,lt[ge]=le.ctype,ge++,lt[ge]=0,ge++,lt[ge]=0,ge++,lt[ge]=0,ge++,_e(lt,ge,U(lt,ge-17,17)),ge+=4,ne.sRGB!=null&&(_e(lt,ge,1),ge+=4,se(lt,ge,"sRGB"),ge+=4,lt[ge]=ne.sRGB,ge++,_e(lt,ge,U(lt,ge-5,5)),ge+=4),ne.iCCP!=null){const Ue=13+B.length;_e(lt,ge,Ue),ge+=4,se(lt,ge,"iCCP"),ge+=4,se(lt,ge,"ICC profile"),ge+=11,ge+=2,lt.set(B,ge),ge+=B.length,_e(lt,ge,U(lt,ge-(Ue+4),Ue+4)),ge+=4}if(ne.pHYs!=null&&(_e(lt,ge,9),ge+=4,se(lt,ge,"pHYs"),ge+=4,_e(lt,ge,ne.pHYs[0]),ge+=4,_e(lt,ge,ne.pHYs[1]),ge+=4,lt[ge]=ne.pHYs[2],ge++,_e(lt,ge,U(lt,ge-13,13)),ge+=4),ut&&(_e(lt,ge,8),ge+=4,se(lt,ge,"acTL"),ge+=4,_e(lt,ge,le.frames.length),ge+=4,_e(lt,ge,ne.loop!=null?ne.loop:0),ge+=4,_e(lt,ge,U(lt,ge-12,12)),ge+=4),le.ctype==3){for(_e(lt,ge,3*(ot=le.plte.length)),ge+=4,se(lt,ge,"PLTE"),ge+=4,kn=0;kn<ot;kn++){const Ue=3*kn,gt=le.plte[kn],qn=255&gt,Te=gt>>>8&255,Ae=gt>>>16&255;lt[ge+Ue+0]=qn,lt[ge+Ue+1]=Te,lt[ge+Ue+2]=Ae}if(ge+=3*ot,_e(lt,ge,U(lt,ge-3*ot-4,3*ot+4)),ge+=4,_t){for(_e(lt,ge,ot),ge+=4,se(lt,ge,"tRNS"),ge+=4,kn=0;kn<ot;kn++)lt[ge+kn]=le.plte[kn]>>>24&255;ge+=ot,_e(lt,ge,U(lt,ge-ot-4,ot+4)),ge+=4}}let te=0;for(cn=0;cn<le.frames.length;cn++){var fn=le.frames[cn];ut&&(_e(lt,ge,26),ge+=4,se(lt,ge,"fcTL"),ge+=4,_e(lt,ge,te++),ge+=4,_e(lt,ge,fn.rect.width),ge+=4,_e(lt,ge,fn.rect.height),ge+=4,_e(lt,ge,fn.rect.x),ge+=4,_e(lt,ge,fn.rect.y),ge+=4,Qe(lt,ge,Me[cn]),ge+=2,Qe(lt,ge,1e3),ge+=2,lt[ge]=fn.dispose,ge++,lt[ge]=fn.blend,ge++,_e(lt,ge,U(lt,ge-30,30)),ge+=4);const Ue=fn.cimg;_e(lt,ge,(ot=Ue.length)+(cn==0?0:4)),ge+=4;const gt=ge;se(lt,ge,cn==0?"IDAT":"fdAT"),ge+=4,cn!=0&&(_e(lt,ge,te++),ge+=4),lt.set(Ue,ge),ge+=ot,_e(lt,ge,U(lt,gt,ge-gt)),ge+=4}return _e(lt,ge,0),ge+=4,se(lt,ge,"IEND"),ge+=4,_e(lt,ge,U(lt,ge-4,4)),ge+=4,lt.buffer}function W(le,pe,ye){for(let Me=0;Me<le.frames.length;Me++){const ne=le.frames[Me];ne.rect.width;const U=ne.rect.height,_e=new Uint8Array(U*ne.bpl+U);ne.cimg=H(ne.img,U,ne.bpp,ne.bpl,_e,pe,ye)}}function I(le,pe,ye,Me,ne){const U=ne[0],_e=ne[1],Qe=ne[2],se=ne[3],ge=ne[4],ut=ne[5];let B=6,_t=8,at=255;for(var ot=0;ot<le.length;ot++){const He=new Uint8Array(le[ot]);for(var kn=He.length,cn=0;cn<kn;cn+=4)at&=He[cn+3]}const lt=at!=255,Sn=function(pt,Yt,it,Wt,Dt,zt){const rn=[];for(var pn=0;pn<pt.length;pn++){const va=new Uint8Array(pt[pn]),Zr=new Uint32Array(va.buffer);var Gn;let Lr=0,da=0,Vr=Yt,lr=it,Ia=Wt?1:0;if(pn!=0){const Zi=zt||Wt||pn==1||rn[pn-2].dispose!=0?1:2;let Kl=0,Hr=1e9;for(let Si=0;Si<Zi;Si++){var sr=new Uint8Array(pt[pn-1-Si]);const Ju=new Uint32Array(pt[pn-1-Si]);let _i=Yt,En=it,Mr=-1,lo=-1;for(let Zu=0;Zu<it;Zu++)for(let Pr=0;Pr<Yt;Pr++)Zr[tr=Zu*Yt+Pr]!=Ju[tr]&&(Pr<_i&&(_i=Pr),Pr>Mr&&(Mr=Pr),Zu<En&&(En=Zu),Zu>lo&&(lo=Zu));Mr==-1&&(_i=En=Mr=lo=0),Dt&&((1&_i)==1&&_i--,(1&En)==1&&En--);const lu=(Mr-_i+1)*(lo-En+1);lu<Hr&&(Hr=lu,Kl=Si,Lr=_i,da=En,Vr=Mr-_i+1,lr=lo-En+1)}sr=new Uint8Array(pt[pn-1-Kl]),Kl==1&&(rn[pn-1].dispose=2),Gn=new Uint8Array(Vr*lr*4),f(sr,Yt,it,Gn,Vr,lr,-Lr,-da,0),Ia=f(va,Yt,it,Gn,Vr,lr,-Lr,-da,3)?1:0,Ia==1?P(va,Yt,it,Gn,{x:Lr,y:da,width:Vr,height:lr}):f(va,Yt,it,Gn,Vr,lr,-Lr,-da,0)}else Gn=va.slice(0);rn.push({rect:{x:Lr,y:da,width:Vr,height:lr},img:Gn,blend:Ia,dispose:0})}if(Wt)for(pn=0;pn<rn.length;pn++){if((ua=rn[pn]).blend==1)continue;const va=ua.rect,Zr=rn[pn-1].rect,Lr=Math.min(va.x,Zr.x),da=Math.min(va.y,Zr.y),Vr={x:Lr,y:da,width:Math.max(va.x+va.width,Zr.x+Zr.width)-Lr,height:Math.max(va.y+va.height,Zr.y+Zr.height)-da};rn[pn-1].dispose=1,pn-1!=0&&L(pt,Yt,it,rn,pn-1,Vr,Dt),L(pt,Yt,it,rn,pn,Vr,Dt)}let Gr=0;if(pt.length!=1)for(var tr=0;tr<rn.length;tr++){var ua;Gr+=(ua=rn[tr]).rect.width*ua.rect.height}return rn}(le,pe,ye,U,_e,Qe),te={},fn=[],Ue=[];if(Me!=0){const He=[];for(cn=0;cn<Sn.length;cn++)He.push(Sn[cn].img.buffer);const pt=function(Dt){let zt=0;for(var rn=0;rn<Dt.length;rn++)zt+=Dt[rn].byteLength;const pn=new Uint8Array(zt);let Gn=0;for(rn=0;rn<Dt.length;rn++){const sr=new Uint8Array(Dt[rn]),Gr=sr.length;for(let tr=0;tr<Gr;tr+=4){let ua=sr[tr],va=sr[tr+1],Zr=sr[tr+2];const Lr=sr[tr+3];Lr==0&&(ua=va=Zr=0),pn[Gn+tr]=ua,pn[Gn+tr+1]=va,pn[Gn+tr+2]=Zr,pn[Gn+tr+3]=Lr}Gn+=Gr}return pn.buffer}(He),Yt=q(pt,Me);for(cn=0;cn<Yt.plte.length;cn++)fn.push(Yt.plte[cn].est.rgba);let it=0;for(cn=0;cn<Sn.length;cn++){const Wt=(qn=Sn[cn]).img.length;var gt=new Uint8Array(Yt.inds.buffer,it>>2,Wt>>2);Ue.push(gt);const Dt=new Uint8Array(Yt.abuf,it,Wt);ut&&D(qn.img,qn.rect.width,qn.rect.height,fn,Dt,gt),qn.img.set(Dt),it+=Wt}}else for(ot=0;ot<Sn.length;ot++){var qn=Sn[ot];const He=new Uint32Array(qn.img.buffer);var Te=qn.rect.width;for(kn=He.length,gt=new Uint8Array(kn),Ue.push(gt),cn=0;cn<kn;cn++){const pt=He[cn];if(cn!=0&&pt==He[cn-1])gt[cn]=gt[cn-1];else if(cn>Te&&pt==He[cn-Te])gt[cn]=gt[cn-Te];else{let Yt=te[pt];if(Yt==null&&(te[pt]=Yt=fn.length,fn.push(pt),fn.length>=300))break;gt[cn]=Yt}}}const Ae=fn.length;for(Ae<=256&&ge==0&&(_t=Ae<=2?1:Ae<=4?2:Ae<=16?4:8,_t=Math.max(_t,se)),ot=0;ot<Sn.length;ot++){(qn=Sn[ot]).rect.x,qn.rect.y,Te=qn.rect.width;const He=qn.rect.height;let pt=qn.img;new Uint32Array(pt.buffer);let Yt=4*Te,it=4;if(Ae<=256&&ge==0){Yt=Math.ceil(_t*Te/8);var Je=new Uint8Array(Yt*He);const Wt=Ue[ot];for(let Dt=0;Dt<He;Dt++){cn=Dt*Yt;const zt=Dt*Te;if(_t==8)for(var et=0;et<Te;et++)Je[cn+et]=Wt[zt+et];else if(_t==4)for(et=0;et<Te;et++)Je[cn+(et>>1)]|=Wt[zt+et]<<4-4*(1&et);else if(_t==2)for(et=0;et<Te;et++)Je[cn+(et>>2)]|=Wt[zt+et]<<6-2*(3&et);else if(_t==1)for(et=0;et<Te;et++)Je[cn+(et>>3)]|=Wt[zt+et]<<7-1*(7&et)}pt=Je,B=3,it=1}else if(lt==0&&Sn.length==1){Je=new Uint8Array(Te*He*3);const Wt=Te*He;for(cn=0;cn<Wt;cn++){const Dt=3*cn,zt=4*cn;Je[Dt]=pt[zt],Je[Dt+1]=pt[zt+1],Je[Dt+2]=pt[zt+2]}pt=Je,B=2,it=3,Yt=3*Te}qn.img=pt,qn.bpl=Yt,qn.bpp=it}return{ctype:B,depth:_t,plte:fn,frames:Sn}}function L(le,pe,ye,Me,ne,U,_e){const Qe=Uint8Array,se=Uint32Array,ge=new Qe(le[ne-1]),ut=new se(le[ne-1]),B=ne+1<le.length?new Qe(le[ne+1]):null,_t=new Qe(le[ne]),at=new se(_t.buffer);let ot=pe,kn=ye,cn=-1,lt=-1;for(let te=0;te<U.height;te++)for(let fn=0;fn<U.width;fn++){const Ue=U.x+fn,gt=U.y+te,qn=gt*pe+Ue,Te=at[qn];Te==0||Me[ne-1].dispose==0&&ut[qn]==Te&&(B==null||B[4*qn+3]!=0)||(Ue<ot&&(ot=Ue),Ue>cn&&(cn=Ue),gt<kn&&(kn=gt),gt>lt&&(lt=gt))}cn==-1&&(ot=kn=cn=lt=0),_e&&((1&ot)==1&&ot--,(1&kn)==1&&kn--),U={x:ot,y:kn,width:cn-ot+1,height:lt-kn+1};const Sn=Me[ne];Sn.rect=U,Sn.blend=1,Sn.img=new Uint8Array(U.width*U.height*4),Me[ne-1].dispose==0?(f(ge,pe,ye,Sn.img,U.width,U.height,-U.x,-U.y,0),P(_t,pe,ye,Sn.img,U)):f(_t,pe,ye,Sn.img,U.width,U.height,-U.x,-U.y,0)}function P(le,pe,ye,Me,ne){f(le,pe,ye,Me,ne.width,ne.height,-ne.x,-ne.y,2)}function H(le,pe,ye,Me,ne,U,_e){const Qe=[];let se,ge=[0,1,2,3,4];U!=-1?ge=[U]:(pe*Me>5e5||ye==1)&&(ge=[0]),_e&&(se={level:0});const ut=qae;for(var B=0;B<ge.length;B++){for(let ot=0;ot<pe;ot++)Y(ne,le,ot,Me,ye,ge[B]);Qe.push(ut.deflate(ne,se))}let _t,at=1e9;for(B=0;B<Qe.length;B++)Qe[B].length<at&&(_t=B,at=Qe[B].length);return Qe[_t]}function Y(le,pe,ye,Me,ne,U){const _e=ye*Me;let Qe=_e+ye;if(le[Qe]=U,Qe++,U==0)if(Me<500)for(var se=0;se<Me;se++)le[Qe+se]=pe[_e+se];else le.set(new Uint8Array(pe.buffer,_e,Me),Qe);else if(U==1){for(se=0;se<ne;se++)le[Qe+se]=pe[_e+se];for(se=ne;se<Me;se++)le[Qe+se]=pe[_e+se]-pe[_e+se-ne]+256&255}else if(ye==0){for(se=0;se<ne;se++)le[Qe+se]=pe[_e+se];if(U==2)for(se=ne;se<Me;se++)le[Qe+se]=pe[_e+se];if(U==3)for(se=ne;se<Me;se++)le[Qe+se]=pe[_e+se]-(pe[_e+se-ne]>>1)+256&255;if(U==4)for(se=ne;se<Me;se++)le[Qe+se]=pe[_e+se]-b(pe[_e+se-ne],0,0)+256&255}else{if(U==2)for(se=0;se<Me;se++)le[Qe+se]=pe[_e+se]+256-pe[_e+se-Me]&255;if(U==3){for(se=0;se<ne;se++)le[Qe+se]=pe[_e+se]+256-(pe[_e+se-Me]>>1)&255;for(se=ne;se<Me;se++)le[Qe+se]=pe[_e+se]+256-(pe[_e+se-Me]+pe[_e+se-ne]>>1)&255}if(U==4){for(se=0;se<ne;se++)le[Qe+se]=pe[_e+se]+256-b(0,pe[_e+se-Me],0)&255;for(se=ne;se<Me;se++)le[Qe+se]=pe[_e+se]+256-b(pe[_e+se-ne],pe[_e+se-Me],pe[_e+se-ne-Me])&255}}}function q(le,pe){const ye=new Uint8Array(le),Me=ye.slice(0),ne=new Uint32Array(Me.buffer),U=$e(Me,pe),_e=U[0],Qe=U[1],se=ye.length,ge=new Uint8Array(se>>2);let ut;if(ye.length<2e7)for(var B=0;B<se;B+=4)ut=de(_e,_t=ye[B]*(1/255),at=ye[B+1]*(1/255),ot=ye[B+2]*(1/255),kn=ye[B+3]*(1/255)),ge[B>>2]=ut.ind,ne[B>>2]=ut.est.rgba;else for(B=0;B<se;B+=4){var _t=ye[B]*.00392156862745098,at=ye[B+1]*(1/255),ot=ye[B+2]*(1/255),kn=ye[B+3]*(1/255);for(ut=_e;ut.left;)ut=Be(ut.est,_t,at,ot,kn)<=0?ut.left:ut.right;ge[B>>2]=ut.ind,ne[B>>2]=ut.est.rgba}return{abuf:Me.buffer,inds:ge,plte:Qe}}function $e(le,pe,ye){ye==null&&(ye=1e-4);const Me=new Uint32Array(le.buffer),ne={i0:0,i1:le.length,bst:null,est:null,tdst:0,left:null,right:null};ne.bst=De(le,ne.i0,ne.i1),ne.est=ke(ne.bst);const U=[ne];for(;U.length<pe;){let Qe=0,se=0;for(var _e=0;_e<U.length;_e++)U[_e].est.L>Qe&&(Qe=U[_e].est.L,se=_e);if(Qe<ye)break;const ge=U[se],ut=ue(le,Me,ge.i0,ge.i1,ge.est.e,ge.est.eMq255);if(ge.i0>=ut||ge.i1<=ut){ge.est.L=0;continue}const B={i0:ge.i0,i1:ut,bst:null,est:null,tdst:0,left:null,right:null};B.bst=De(le,B.i0,B.i1),B.est=ke(B.bst);const _t={i0:ut,i1:ge.i1,bst:null,est:null,tdst:0,left:null,right:null};for(_t.bst={R:[],m:[],N:ge.bst.N-B.bst.N},_e=0;_e<16;_e++)_t.bst.R[_e]=ge.bst.R[_e]-B.bst.R[_e];for(_e=0;_e<4;_e++)_t.bst.m[_e]=ge.bst.m[_e]-B.bst.m[_e];_t.est=ke(_t.bst),ge.left=B,ge.right=_t,U[se]=B,U.push(_t)}for(U.sort((Qe,se)=>se.bst.N-Qe.bst.N),_e=0;_e<U.length;_e++)U[_e].ind=_e;return[ne,U]}function de(le,pe,ye,Me,ne){if(le.left==null)return le.tdst=function(B,_t,at,ot,kn){const cn=_t-B[0],lt=at-B[1],Sn=ot-B[2],te=kn-B[3];return cn*cn+lt*lt+Sn*Sn+te*te}(le.est.q,pe,ye,Me,ne),le;const U=Be(le.est,pe,ye,Me,ne);let _e=le.left,Qe=le.right;U>0&&(_e=le.right,Qe=le.left);const se=de(_e,pe,ye,Me,ne);if(se.tdst<=U*U)return se;const ge=de(Qe,pe,ye,Me,ne);return ge.tdst<se.tdst?ge:se}function Be(le,pe,ye,Me,ne){const{e:U}=le;return U[0]*pe+U[1]*ye+U[2]*Me+U[3]*ne-le.eMq}function ue(le,pe,ye,Me,ne,U){for(Me-=4;ye<Me;){for(;Ee(le,ye,ne)<=U;)ye+=4;for(;Ee(le,Me,ne)>U;)Me-=4;if(ye>=Me)break;const _e=pe[ye>>2];pe[ye>>2]=pe[Me>>2],pe[Me>>2]=_e,ye+=4,Me-=4}for(;Ee(le,ye,ne)>U;)ye-=4;return ye+4}function Ee(le,pe,ye){return le[pe]*ye[0]+le[pe+1]*ye[1]+le[pe+2]*ye[2]+le[pe+3]*ye[3]}function De(le,pe,ye){const Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ne=[0,0,0,0],U=ye-pe>>2;for(let _e=pe;_e<ye;_e+=4){const Qe=le[_e]*.00392156862745098,se=le[_e+1]*(1/255),ge=le[_e+2]*(1/255),ut=le[_e+3]*(1/255);ne[0]+=Qe,ne[1]+=se,ne[2]+=ge,ne[3]+=ut,Me[0]+=Qe*Qe,Me[1]+=Qe*se,Me[2]+=Qe*ge,Me[3]+=Qe*ut,Me[5]+=se*se,Me[6]+=se*ge,Me[7]+=se*ut,Me[10]+=ge*ge,Me[11]+=ge*ut,Me[15]+=ut*ut}return Me[4]=Me[1],Me[8]=Me[2],Me[9]=Me[6],Me[12]=Me[3],Me[13]=Me[7],Me[14]=Me[11],{R:Me,m:ne,N:U}}function ke(le){const{R:pe}=le,{m:ye}=le,{N:Me}=le,ne=ye[0],U=ye[1],_e=ye[2],Qe=ye[3],se=Me==0?0:1/Me,ge=[pe[0]-ne*ne*se,pe[1]-ne*U*se,pe[2]-ne*_e*se,pe[3]-ne*Qe*se,pe[4]-U*ne*se,pe[5]-U*U*se,pe[6]-U*_e*se,pe[7]-U*Qe*se,pe[8]-_e*ne*se,pe[9]-_e*U*se,pe[10]-_e*_e*se,pe[11]-_e*Qe*se,pe[12]-Qe*ne*se,pe[13]-Qe*U*se,pe[14]-Qe*_e*se,pe[15]-Qe*Qe*se],ut=ge,B=Ye;let _t=[Math.random(),Math.random(),Math.random(),Math.random()],at=0,ot=0;if(Me!=0)for(let cn=0;cn<16&&(_t=B.multVec(ut,_t),ot=Math.sqrt(B.dot(_t,_t)),_t=B.sml(1/ot,_t),!(cn!=0&&Math.abs(ot-at)<1e-9));cn++)at=ot;const kn=[ne*se,U*se,_e*se,Qe*se];return{Cov:ge,q:kn,e:_t,L:at,eMq255:B.dot(B.sml(255,kn),_t),eMq:B.dot(_t,kn),rgba:(Math.round(255*kn[3])<<24|Math.round(255*kn[2])<<16|Math.round(255*kn[1])<<8|Math.round(255*kn[0])<<0)>>>0}}var Ye={multVec:(le,pe)=>[le[0]*pe[0]+le[1]*pe[1]+le[2]*pe[2]+le[3]*pe[3],le[4]*pe[0]+le[5]*pe[1]+le[6]*pe[2]+le[7]*pe[3],le[8]*pe[0]+le[9]*pe[1]+le[10]*pe[2]+le[11]*pe[3],le[12]*pe[0]+le[13]*pe[1]+le[14]*pe[2]+le[15]*pe[3]],dot:(le,pe)=>le[0]*pe[0]+le[1]*pe[1]+le[2]*pe[2]+le[3]*pe[3],sml:(le,pe)=>[le*pe[0],le*pe[1],le*pe[2],le*pe[3]]};Hm.encode=function(pe,ye,Me,ne,U,_e,Qe){ne==null&&(ne=0),Qe==null&&(Qe=!1);const se=I(pe,ye,Me,ne,[!1,!1,!1,0,Qe,!1]);return W(se,-1),F(se,ye,Me,U,_e)},Hm.encodeLL=function(pe,ye,Me,ne,U,_e,Qe,se){const ge={ctype:0+(ne==1?0:2)+(U==0?0:4),depth:_e,frames:[]},ut=(ne+U)*_e,B=ut*ye;for(let _t=0;_t<pe.length;_t++)ge.frames.push({rect:{x:0,y:0,width:ye,height:Me},img:new Uint8Array(pe[_t]),blend:0,dispose:1,bpp:Math.ceil(ut/8),bpl:Math.ceil(B/8)});return W(ge,0,!0),F(ge,ye,Me,Qe,se)},Hm.encode.compress=I,Hm.encode.dither=D,Hm.quantize=q,Hm.quantize.getKDtree=$e,Hm.quantize.getNearest=de})();const aG={toArrayBuffer(f,m){const b=f.width,y=f.height,S=b<<2,_=f.getContext("2d").getImageData(0,0,b,y),T=new Uint32Array(_.data.buffer),D=(32*b+31)/32<<2,F=D*y,W=122+F,I=new ArrayBuffer(W),L=new DataView(I),P=1<<20;let H,Y,q,$e,de=P,Be=0,ue=0,Ee=0;function De(le){L.setUint16(ue,le,!0),ue+=2}function ke(le){L.setUint32(ue,le,!0),ue+=4}function Ye(le){ue+=le}De(19778),ke(W),Ye(4),ke(122),ke(108),ke(b),ke(-y>>>0),De(1),De(32),ke(3),ke(F),ke(2835),ke(2835),Ye(8),ke(16711680),ke(65280),ke(255),ke(4278190080),ke(1466527264),function le(){for(;Be<y&&de>0;){for($e=122+Be*D,H=0;H<S;)de--,Y=T[Ee++],q=Y>>>24,L.setUint32($e+H,Y<<8|q),H+=4;Be++}Ee<T.length?(de=P,setTimeout(le,aG._dly)):m(I)}()},toBlob(f,m){this.toArrayBuffer(f,b=>{m(new Blob([b],{type:"image/bmp"}))})},_dly:9};var Af={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Kae={[Af.CHROME]:16384,[Af.FIREFOX]:11180,[Af.DESKTOP_SAFARI]:16384,[Af.IE]:8192,[Af.IOS]:4096,[Af.ETC]:8192};const r9=typeof window<"u",oG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,E6=r9&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Xae=(r9||oG)&&(E6&&E6.getOriginalSymbol(window,"File")||typeof File<"u"&&File),iG=(r9||oG)&&(E6&&E6.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function a9(f,m,b=Date.now()){return new Promise(y=>{const S=f.split(","),_=S[0].match(/:(.*?);/)[1],T=globalThis.atob(S[1]);let D=T.length;const F=new Uint8Array(D);for(;D--;)F[D]=T.charCodeAt(D);const W=new Blob([F],{type:_});W.name=m,W.lastModified=b,y(W)})}function uG(f){return new Promise((m,b)=>{const y=new iG;y.onload=()=>m(y.result),y.onerror=S=>b(S),y.readAsDataURL(f)})}function sG(f){return new Promise((m,b)=>{const y=new Image;y.onload=()=>m(y),y.onerror=S=>b(S),y.src=f})}function zS(){if(zS.cachedResult!==void 0)return zS.cachedResult;let f=Af.ETC;const{userAgent:m}=navigator;return/Chrom(e|ium)/i.test(m)?f=Af.CHROME:/iP(ad|od|hone)/i.test(m)&&/WebKit/i.test(m)?f=Af.IOS:/Safari/i.test(m)?f=Af.DESKTOP_SAFARI:/Firefox/i.test(m)?f=Af.FIREFOX:(/MSIE/i.test(m)||document.documentMode)&&(f=Af.IE),zS.cachedResult=f,zS.cachedResult}function lG(f,m){const b=zS(),y=Kae[b];let S=f,_=m,T=S*_;const D=S>_?_/S:S/_;for(;T>y*y;){const F=(y+S)/2,W=(y+_)/2;F<W?(_=W,S=W*D):(_=F*D,S=F),T=S*_}return{width:S,height:_}}function t8(f,m){let b,y;try{if(b=new OffscreenCanvas(f,m),y=b.getContext("2d"),y===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{b=document.createElement("canvas"),y=b.getContext("2d")}return b.width=f,b.height=m,[b,y]}function cG(f,m){const{width:b,height:y}=lG(f.width,f.height),[S,_]=t8(b,y);return m&&/jpe?g/.test(m)&&(_.fillStyle="white",_.fillRect(0,0,S.width,S.height)),_.drawImage(f,0,0,S.width,S.height),S}function m6(){return m6.cachedResult!==void 0||(m6.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),m6.cachedResult}function T6(f,m={}){return new Promise(function(b,y){let S,_;var T=function(){try{return _=cG(S,m.fileType||f.type),b([S,_])}catch(F){return y(F)}},D=function(F){try{var W=function(I){try{throw I}catch(L){return y(L)}};try{let I;return uG(f).then(function(L){try{return I=L,sG(I).then(function(P){try{return S=P,function(){try{return T()}catch(H){return y(H)}}()}catch(H){return W(H)}},W)}catch(P){return W(P)}},W)}catch(I){W(I)}}catch(I){return y(I)}};try{if(m6()||[Af.DESKTOP_SAFARI,Af.MOBILE_SAFARI].includes(zS()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(f).then(function(F){try{return S=F,T()}catch{return D()}},D)}catch{D()}})}function O6(f,m,b,y,S=1){return new Promise(function(_,T){let D;if(m==="image/png"){let L,P,H;return L=f.getContext("2d"),{data:P}=L.getImageData(0,0,f.width,f.height),H=Hm.encode([P.buffer],f.width,f.height,4096*S),D=new Blob([H],{type:m}),D.name=b,D.lastModified=y,F.call(this)}{let L=function(){return F.call(this)};var W=L;if(m==="image/bmp")return new Promise(P=>aG.toBlob(f,P)).then((function(P){try{return D=P,D.name=b,D.lastModified=y,L.call(this)}catch(H){return T(H)}}).bind(this),T);{let P=function(){return L.call(this)};var I=P;if(typeof OffscreenCanvas=="function"&&f instanceof OffscreenCanvas)return f.convertToBlob({type:m,quality:S}).then((function(H){try{return D=H,D.name=b,D.lastModified=y,P.call(this)}catch(Y){return T(Y)}}).bind(this),T);{let H;return H=f.toDataURL(m,S),a9(H,b,y).then((function(Y){try{return D=Y,P.call(this)}catch(q){return T(q)}}).bind(this),T)}}}function F(){return _(D)}})}function rp(f){f.width=0,f.height=0}function n3(){return new Promise(function(f,m){let b,y,S,_;return n3.cachedResult!==void 0?f(n3.cachedResult):a9("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(T){try{return b=T,T6(b).then(function(D){try{return y=D[1],O6(y,b.type,b.name,b.lastModified).then(function(F){try{return S=F,rp(y),T6(S).then(function(W){try{return _=W[0],n3.cachedResult=_.width===1&&_.height===2,f(n3.cachedResult)}catch(I){return m(I)}},m)}catch(W){return m(W)}},m)}catch(F){return m(F)}},m)}catch(D){return m(D)}},m)})}function fG(f){return new Promise((m,b)=>{const y=new iG;y.onload=S=>{const _=new DataView(S.target.result);if(_.getUint16(0,!1)!=65496)return m(-2);const T=_.byteLength;let D=2;for(;D<T;){if(_.getUint16(D+2,!1)<=8)return m(-1);const F=_.getUint16(D,!1);if(D+=2,F==65505){if(_.getUint32(D+=2,!1)!=1165519206)return m(-1);const W=_.getUint16(D+=6,!1)==18761;D+=_.getUint32(D+4,W);const I=_.getUint16(D,W);D+=2;for(let L=0;L<I;L++)if(_.getUint16(D+12*L,W)==274)return m(_.getUint16(D+12*L+8,W))}else{if((65280&F)!=65280)break;D+=_.getUint16(D,!1)}}return m(-1)},y.onerror=S=>b(S),y.readAsArrayBuffer(f)})}function vG(f,m){const{width:b}=f,{height:y}=f,{maxWidthOrHeight:S}=m;let _,T=f;return isFinite(S)&&(b>S||y>S)&&([T,_]=t8(b,y),b>y?(T.width=S,T.height=y/b*S):(T.width=b/y*S,T.height=S),_.drawImage(f,0,0,T.width,T.height),rp(f)),T}function dG(f,m){const{width:b}=f,{height:y}=f,[S,_]=t8(b,y);switch(m>4&&m<9?(S.width=y,S.height=b):(S.width=b,S.height=y),m){case 2:_.transform(-1,0,0,1,b,0);break;case 3:_.transform(-1,0,0,-1,b,y);break;case 4:_.transform(1,0,0,-1,0,y);break;case 5:_.transform(0,1,1,0,0,0);break;case 6:_.transform(0,1,-1,0,y,0);break;case 7:_.transform(0,-1,-1,0,y,b);break;case 8:_.transform(0,-1,1,0,0,b)}return _.drawImage(f,0,0,b,y),rp(f),S}function AW(f,m,b=0){return new Promise(function(y,S){let _,T,D,F,W,I,L,P,H,Y,q,$e,de,Be,ue,Ee,De,ke,Ye,le;function pe(Me=5){if(m.signal&&m.signal.aborted)throw m.signal.reason;_+=Me,m.onProgress(Math.min(_,100))}function ye(Me){if(m.signal&&m.signal.aborted)throw m.signal.reason;_=Math.min(Math.max(Me,_),100),m.onProgress(_)}return _=b,T=m.maxIteration||10,D=1024*m.maxSizeMB*1024,pe(),T6(f,m).then((function(Me){try{return[,F]=Me,pe(),W=vG(F,m),pe(),new Promise(function(ne,U){var _e;if(!(_e=m.exifOrientation))return fG(f).then((function(se){try{return _e=se,Qe.call(this)}catch(ge){return U(ge)}}).bind(this),U);function Qe(){return ne(_e)}return Qe.call(this)}).then((function(ne){try{return I=ne,pe(),n3().then((function(U){try{return L=U?W:dG(W,I),pe(),P=m.initialQuality||1,H=m.fileType||f.type,O6(L,H,f.name,f.lastModified,P).then((function(_e){try{{let ut=function(){if(T--&&(ue>D||ue>de)){let _t,at;return _t=le?.95*Ye.width:Ye.width,at=le?.95*Ye.height:Ye.height,[De,ke]=t8(_t,at),ke.drawImage(Ye,0,0,_t,at),P*=H==="image/png"?.85:.95,O6(De,H,f.name,f.lastModified,P).then(function(ot){try{return Ee=ot,rp(Ye),Ye=De,ue=Ee.size,ye(Math.min(99,Math.floor((Be-ue)/(Be-D)*100))),ut}catch(kn){return S(kn)}},S)}return[1]},B=function(){return rp(Ye),rp(De),rp(W),rp(L),rp(F),ye(100),y(Ee)};var se=ut,ge=B;if(Y=_e,pe(),q=Y.size>D,$e=Y.size>f.size,!q&&!$e)return ye(100),y(Y);var Qe;return de=f.size,Be=Y.size,ue=Be,Ye=L,le=!m.alwaysKeepResolution&&q,(Qe=(function(_t){for(;_t;){if(_t.then)return void _t.then(Qe,S);try{if(_t.pop){if(_t.length)return _t.pop()?B.call(this):_t;_t=ut}else _t=_t.call(this)}catch(at){return S(at)}}}).bind(this))(ut)}}catch(ut){return S(ut)}}).bind(this),S)}catch(_e){return S(_e)}}).bind(this),S)}catch(U){return S(U)}}).bind(this),S)}catch(ne){return S(ne)}}).bind(this),S)})}const Yae=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let lH;function Jae(f,m){return new Promise((b,y)=>{lH||(lH=function(T){const D=[];return typeof T=="function"?D.push(`(${T})()`):D.push(T),URL.createObjectURL(new Blob(D))}(Yae));const S=new Worker(lH);S.addEventListener("message",function(T){if(m.signal&&m.signal.aborted)S.terminate();else if(T.data.progress===void 0){if(T.data.error)return y(new Error(T.data.error)),void S.terminate();b(T.data.file),S.terminate()}else m.onProgress(T.data.progress)}),S.addEventListener("error",y),m.signal&&m.signal.addEventListener("abort",()=>{y(m.signal.reason),S.terminate()}),S.postMessage({file:f,imageCompressionLibUrl:m.libURL,options:{...m,onProgress:void 0,signal:void 0}})})}function Wl(f,m){return new Promise(function(b,y){let S,_,T,D,F,W;if(S={...m},T=0,{onProgress:D}=S,S.maxSizeMB=S.maxSizeMB||Number.POSITIVE_INFINITY,F=typeof S.useWebWorker!="boolean"||S.useWebWorker,delete S.useWebWorker,S.onProgress=H=>{T=H,typeof D=="function"&&D(T)},!(f instanceof Blob||f instanceof Xae))return y(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(f.type))return y(new Error("The file given is not an image"));if(W=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!F||typeof Worker!="function"||W)return AW(f,S).then((function(H){try{return _=H,P.call(this)}catch(Y){return y(Y)}}).bind(this),y);var I=(function(){try{return P.call(this)}catch(H){return y(H)}}).bind(this),L=function(H){try{return AW(f,S).then(function(Y){try{return _=Y,I()}catch(q){return y(q)}},y)}catch(Y){return y(Y)}};try{return S.libURL=S.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Jae(f,S).then(function(H){try{return _=H,I()}catch{return L()}},L)}catch{L()}function P(){try{_.name=f.name,_.lastModified=f.lastModified}catch{}try{S.preserveExif&&f.type==="image/jpeg"&&(!S.fileType||S.fileType&&S.fileType===f.type)&&(_=rG(f,_))}catch{}return b(_)}})}Wl.getDataUrlFromFile=uG,Wl.getFilefromDataUrl=a9,Wl.loadImage=sG,Wl.drawImageInCanvas=cG,Wl.drawFileInCanvas=T6,Wl.canvasToFile=O6,Wl.getExifOrientation=fG,Wl.handleMaxWidthOrHeight=vG,Wl.followExifOrientation=dG,Wl.cleanupCanvasMemory=rp,Wl.isAutoOrientationInBrowser=n3,Wl.approximateBelowMaximumCanvasSizeOfBrowser=lG,Wl.copyExifWithoutOrientation=rG,Wl.getBrowserName=zS,Wl.version="2.0.2";const Zae="/assets/de-8fcaa96d.svg",Qae="/assets/en-4c5edc0c.svg";const eoe={class:"languageContainer"},toe={class:"languageIcon"},noe=["src","alt"],roe={class:"languageContainerColumns"},aoe={class:"languageTitle"},ra={__name:"LanguageContainer",props:{lang:{type:String,default:"de"},title:{type:String,required:!0,default:"Keinen Titel angegeben"}},setup(f){const m=f,b={de:Zae,en:Qae},y=m.lang;return(S,_)=>(Ke(),tt("div",eoe,[G("div",toe,[G("img",{src:b[$o(y)],alt:$o(y)},null,8,noe)]),G("div",roe,[G("h4",aoe,nr(f.title),1),gH(S.$slots,"content")])]))}};const ooe={style:{"margin-bottom":"10px"}},ioe={class:"input-row"},uoe=["aria-checked","onKeydown"],soe={class:"toggle-value"},D6={__name:"toggleSwitch",props:{value:{type:Boolean,default:!1},color:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},titel:{type:String,default:"Titel"}},emits:["input"],setup(f,{emit:m}){const b=f,y=ri(()=>({"bg-primary":b.value,"bg-secondary":!b.value})),S=ri(()=>({transform:b.value?"translateX(14px)":"translateX(0)"})),_=()=>{b.disabled||m("input",!b.value)};return(T,D)=>(Ke(),tt("div",null,[G("h4",ooe,nr(f.titel),1),G("div",ioe,[G("span",{class:"toggle-wrapper",role:"checkbox","aria-checked":f.value.toString(),tabindex:"0",onClick:_,onKeydown:wte(bte(_,["prevent"]),["space"])},[G("span",{class:N6(["toggle-background",y.value])},null,2),G("span",{class:"toggle-indicator",style:I6(S.value)},null,4)],40,uoe),G("span",soe,nr(f.value?"Ja":"Nein"),1)])]))}},VS="/assets/close-e7fb7946.svg";var R6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function loe(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var mG={exports:{}};(function(f){(function(){var m=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},b=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},y=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},S=function(e,n){return _(function(a,i){return e.eq(n(a),n(i))})},_=function(e){return{eq:e}},T=_(function(e,n){return e===n}),D=T,F=function(e){return _(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,l=0;l<i;l++)if(!e.eq(n[l],a[l]))return!1;return!0})},W=function(e,n){return S(F(e),function(a){return y(a,n)})},I=function(e){return _(function(n,a){var i=Object.keys(n),l=Object.keys(a);if(!W(D).eq(i,l))return!1;for(var v=i.length,p=0;p<v;p++){var x=i[p];if(!e.eq(n[x],a[x]))return!1}return!0})},L=_(function(e,n){if(e===n)return!0;var a=m(e),i=m(n);return a!==i?!1:b(a)?e===n:a==="array"?F(L).eq(e,n):a==="object"?I(L).eq(e,n):!1}),P=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},H=function(e){return function(n){return P(n)===e}},Y=function(e){return function(n){return typeof n===e}},q=function(e){return function(n){return e===n}},$e=H("string"),de=H("object"),Be=H("array"),ue=q(null),Ee=Y("boolean"),De=q(void 0),ke=function(e){return e==null},Ye=function(e){return!ke(e)},le=Y("function"),pe=Y("number"),ye=function(){},Me=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},ne=function(e,n){return function(a){return e(n(a))}},U=function(e){return function(){return e}},_e=function(e){return e},Qe=function(e,n){return e===n};function se(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var v=n.concat(i);return e.apply(null,v)}}var ge=function(e){return function(n){return!e(n)}},ut=function(e){return function(){throw new Error(e)}},B=function(e){return e()},_t=function(e){e()},at=U(!1),ot=U(!0),kn=function(){return cn},cn=function(){var e=function(i){return i()},n=_e,a={fold:function(i,l){return i()},isSome:at,isNone:ot,getOr:n,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:U(null),getOrUndefined:U(void 0),or:n,orThunk:e,map:kn,each:ye,bind:kn,exists:at,forall:ot,filter:function(){return kn()},toArray:function(){return[]},toString:U("none()")};return a}(),lt=function(e){var n=U(e),a=function(){return l},i=function(v){return v(e)},l={fold:function(v,p){return p(e)},isSome:ot,isNone:at,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(v){return lt(v(e))},each:function(v){v(e)},bind:i,exists:i,forall:i,filter:function(v){return v(e)?l:cn},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return l},Sn=function(e){return e==null?cn:lt(e)},te={some:lt,none:kn,from:Sn},fn=Array.prototype.slice,Ue=Array.prototype.indexOf,gt=Array.prototype.push,qn=function(e,n){return Ue.call(e,n)},Te=function(e,n){var a=qn(e,n);return a===-1?te.none():te.some(a)},Ae=function(e,n){return qn(e,n)>-1},Je=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return!0}return!1},et=function(e,n){for(var a=e.length,i=new Array(a),l=0;l<a;l++){var v=e[l];i[l]=n(v,l)}return i},He=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];n(l,a)}},pt=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},Yt=function(e,n){for(var a=[],i=[],l=0,v=e.length;l<v;l++){var p=e[l],x=n(p,l)?a:i;x.push(p)}return{pass:a,fail:i}},it=function(e,n){for(var a=[],i=0,l=e.length;i<l;i++){var v=e[i];n(v,i)&&a.push(v)}return a},Wt=function(e,n,a){return pt(e,function(i,l){a=n(a,i,l)}),a},Dt=function(e,n,a){return He(e,function(i,l){a=n(a,i,l)}),a},zt=function(e,n,a){for(var i=0,l=e.length;i<l;i++){var v=e[i];if(n(v,i))return te.some(v);if(a(v,i))break}return te.none()},rn=function(e,n){return zt(e,n,at)},pn=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return te.some(a)}return te.none()},Gn=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!Be(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);gt.apply(n,e[a])}return n},sr=function(e,n){return Gn(et(e,n))},Gr=function(e,n){for(var a=0,i=e.length;a<i;++a){var l=e[a];if(n(l,a)!==!0)return!1}return!0},tr=function(e){var n=fn.call(e,0);return n.reverse(),n},ua=function(e,n){return it(e,function(a){return!Ae(n,a)})},va=function(e,n){for(var a={},i=0,l=e.length;i<l;i++){var v=e[i];a[String(v)]=n(v,i)}return a},Zr=function(e,n){var a=fn.call(e,0);return a.sort(n),a},Lr=function(e,n){return n>=0&&n<e.length?te.some(e[n]):te.none()},da=function(e){return Lr(e,0)},Vr=function(e){return Lr(e,e.length-1)},lr=le(Array.from)?Array.from:function(e){return fn.call(e)},Ia=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return te.none()},Zi=Object.keys,Kl=Object.hasOwnProperty,Hr=function(e,n){for(var a=Zi(e),i=0,l=a.length;i<l;i++){var v=a[i],p=e[v];n(p,v)}},Si=function(e,n){return Ju(e,function(a,i){return{k:i,v:n(a,i)}})},Ju=function(e,n){var a={};return Hr(e,function(i,l){var v=n(i,l);a[v.k]=v.v}),a},_i=function(e){return function(n,a){e[a]=n}},En=function(e,n,a,i){var l={};return Hr(e,function(v,p){(n(v,p)?a:i)(v,p)}),l},Mr=function(e,n){var a={},i={};return En(e,n,_i(a),_i(i)),{t:a,f:i}},lo=function(e,n){var a={};return En(e,n,_i(a),ye),a},lu=function(e,n){var a=[];return Hr(e,function(i,l){a.push(n(i,l))}),a},Zu=function(e){return lu(e,_e)},Pr=function(e,n){return Ar(e,n)?te.from(e[n]):te.none()},Ar=function(e,n){return Kl.call(e,n)},Gs=function(e,n){return Ar(e,n)&&e[n]!==void 0&&e[n]!==null},Qm=function(e,n,a){return a===void 0&&(a=L),I(a).eq(e,n)},Of=Array.isArray,qs=function(e){if(Of(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},Rc=function(e,n,a){var i,l;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(Ar(e,i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},Ev=function(e,n){var a=[];return Rc(e,function(i,l){a.push(n(i,l,e))}),a},gl=function(e,n){var a=[];return Rc(e,function(i,l){(!n||n(i,l,e))&&a.push(i)}),a},pl=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},Df=function(e,n,a,i){for(var l=De(a)?e[0]:a,v=0;v<e.length;v++)l=n.call(i,l,e[v],v);return l},ma=function(e,n,a){var i,l;for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e))return i;return-1},Ks=function(e){return e[e.length-1]},Wn=function(){return Wn=Object.assign||function(n){for(var a,i=1,l=arguments.length;i<l;i++){a=arguments[i];for(var v in a)Object.prototype.hasOwnProperty.call(a,v)&&(n[v]=a[v])}return n},Wn.apply(this,arguments)};function eh(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a}function Ou(e,n,a){if(a||arguments.length===2)for(var i=0,l=n.length,v;i<l;i++)(v||!(i in n))&&(v||(v=Array.prototype.slice.call(n,0,i)),v[i]=n[i]);return e.concat(v||Array.prototype.slice.call(n))}var $c=function(e){var n=!1,a;return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return n||(n=!0,a=e.apply(null,i)),a}},th=function(e,n,a,i){var l=e.isiOS()&&/ipad/i.test(a)===!0,v=e.isiOS()&&!l,p=e.isiOS()||e.isAndroid(),x=p||i("(pointer:coarse)"),A=l||!v&&p&&i("(min-device-width:768px)"),N=v||p&&!A,X=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,Z=!N&&!A&&!X;return{isiPad:U(l),isiPhone:U(v),isTablet:U(A),isPhone:U(N),isTouch:U(x),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:U(X),isDesktop:U(Z)}},Xl=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},nh=function(e,n){var a=Xl(e,n);if(!a)return{major:0,minor:0};var i=function(l){return Number(n.replace(a,"$"+l))};return Ss(i(1),i(2))},Rf=function(e,n){var a=String(n).toLowerCase();return e.length===0?rh():nh(e,a)},rh=function(){return Ss(0,0)},Ss=function(e,n){return{major:e,minor:n}},Bc={nu:Ss,detect:Rf,unknown:rh},sn=function(e,n){return Ia(n.brands,function(a){var i=a.brand.toLowerCase();return rn(e,function(l){var v;return i===((v=l.brand)===null||v===void 0?void 0:v.toLowerCase())}).map(function(l){return{current:l.name,version:Bc.nu(parseInt(a.version,10),0)}})})},$d=function(e,n){var a=String(n).toLowerCase();return rn(e,function(i){return i.search(a)})},Tv=function(e,n){return $d(e,n).map(function(a){var i=Bc.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Ov=function(e,n){return $d(e,n).map(function(a){var i=Bc.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Yl=function(e,n){return e.substring(n)},Qu=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},ah=function(e,n){return po(e,n)?Yl(e,n.length):e},Bo=function(e,n){return e.indexOf(n)!==-1},po=function(e,n){return Qu(e,n,0)},Du=function(e){return function(n){return n.replace(e,"")}},Xs=Du(/^\s+|\s+$/g),Bd=Du(/^\s+/g),es=Du(/\s+$/g),$f=function(e){return e.length>0},Md=function(e){return!$f(e)},bl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ru=function(e){return function(n){return Bo(n,e)}},Qt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Bo(e,"edge/")&&Bo(e,"chrome")&&Bo(e,"safari")&&Bo(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,bl],search:function(e){return Bo(e,"chrome")&&!Bo(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Bo(e,"msie")||Bo(e,"trident")}},{name:"Opera",versionRegexes:[bl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ru("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ru("firefox")},{name:"Safari",versionRegexes:[bl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Bo(e,"safari")||Bo(e,"mobile/"))&&Bo(e,"applewebkit")}}],xi=[{name:"Windows",search:Ru("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Bo(e,"iphone")||Bo(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ru("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ru("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ru("linux"),versionRegexes:[]},{name:"Solaris",search:Ru("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ru("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ru("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],yl={browsers:U(Qt),oses:U(xi)},oh="Edge",Bf="Chrome",Qr="IE",Dv="Opera",wl="Firefox",co="Safari",Rv=function(){return cu({current:void 0,version:Bc.unknown()})},cu=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isEdge:i(oh),isChrome:i(Bf),isIE:i(Qr),isOpera:i(Dv),isFirefox:i(wl),isSafari:i(co)}},ts={unknown:Rv,nu:cu,edge:U(oh),chrome:U(Bf),ie:U(Qr),opera:U(Dv),firefox:U(wl),safari:U(co)},Ra="Windows",Mf="iOS",Pf="Android",$v="Linux",Pd="OSX",Cl="Solaris",Ys="FreeBSD",Bv="ChromeOS",_s=function(){return $u({current:void 0,version:Bc.unknown()})},$u=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isWindows:i(Ra),isiOS:i(Mf),isAndroid:i(Pf),isOSX:i(Pd),isLinux:i($v),isSolaris:i(Cl),isFreeBSD:i(Ys),isChromeOS:i(Bv)}},oe={unknown:_s,nu:$u,windows:U(Ra),ios:U(Mf),android:U(Pf),linux:U($v),osx:U(Pd),solaris:U(Cl),freebsd:U(Ys),chromeos:U(Bv)},Ne=function(e,n,a){var i=yl.browsers(),l=yl.oses(),v=n.bind(function(A){return sn(i,A)}).orThunk(function(){return Tv(i,e)}).fold(ts.unknown,ts.nu),p=Ov(l,e).fold(oe.unknown,oe.nu),x=th(p,v,e,a);return{browser:v,os:p,deviceType:x}},Xe={detect:Ne},kt=function(e){return window.matchMedia(e).matches},Gt=$c(function(){return Xe.detect(navigator.userAgent,te.from(navigator.userAgentData),kt)}),Rn=function(){return Gt()},aa=navigator.userAgent,ha=Rn(),pr=ha.browser,Na=ha.os,qa=ha.deviceType,Mc=/WebKit/.test(aa)&&!pr.isEdge(),Li="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Jl=aa.indexOf("Windows Phone")!==-1,Hn={opera:pr.isOpera(),webkit:Mc,ie:pr.isIE()||pr.isEdge()?pr.version.major:!1,gecko:pr.isFirefox(),mac:Na.isOSX()||Na.isiOS(),iOS:qa.isiPad()||qa.isiPhone(),android:Na.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:pr.isIE()?document.documentMode||7:10,fileApi:Li,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!pr.isIE(),desktop:qa.isDesktop(),windowsPhone:Jl,browser:{current:pr.current,version:pr.version,isChrome:pr.isChrome,isEdge:pr.isEdge,isFirefox:pr.isFirefox,isIE:pr.isIE,isOpera:pr.isOpera,isSafari:pr.isSafari},os:{current:Na.current,version:Na.version,isAndroid:Na.isAndroid,isChromeOS:Na.isChromeOS,isFreeBSD:Na.isFreeBSD,isiOS:Na.isiOS,isLinux:Na.isLinux,isOSX:Na.isOSX,isSolaris:Na.isSolaris,isWindows:Na.isWindows},deviceType:{isDesktop:qa.isDesktop,isiPad:qa.isiPad,isiPhone:qa.isiPhone,isPhone:qa.isPhone,isTablet:qa.isTablet,isTouch:qa.isTouch,isWebView:qa.isWebView}},ih=/^\s*|\s*$/g,lp=function(e){return e==null?"":(""+e).replace(ih,"")},ea=function(e,n){return n?n==="array"&&Of(e)?!0:typeof e===n:e!==void 0},cp=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},uh=Ar,n2=function(e,n,a){var i=this,l,v,p,x=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var A=e[3].match(/(^|\.)(\w+)$/i)[2],N=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!N[A]){if(e[2]==="static"){N[A]=n,this.onCreate&&this.onCreate(e[2],e[3],N[A]);return}n[A]||(n[A]=function(){},x=1),N[A]=n[A],i.extend(N[A].prototype,n),e[5]&&(l=i.resolve(e[5]).prototype,v=e[5].match(/\.(\w+)$/i)[1],p=N[A],x?N[A]=function(){return l[v].apply(this,arguments)}:N[A]=function(){return this.parent=l[v],p.apply(this,arguments)},N[A].prototype[A]=N[A],i.each(l,function(X,Z){N[A].prototype[Z]=l[Z]}),i.each(n,function(X,Z){l[Z]?N[A].prototype[Z]=function(){return this.parent=l[Z],X.apply(this,arguments)}:Z!==A&&(N[A].prototype[Z]=X)})),i.each(n.static,function(X,Z){N[A][Z]=X})}},_a=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var l=n[i];for(var v in l)if(Ar(l,v)){var p=l[v];p!==void 0&&(e[v]=p)}}return e},Js=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),Rc(e,function(l,v){if(n.call(i,l,v,a)===!1)return!1;Js(l,n,a,i)}))},r2=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},Sl=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},Jo=function(e,n){return!e||ea(e,"array")?e:Ev(e.split(n||","),lp)},If=function(e){var n=Hn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},yt={trim:lp,isArray:Of,is:ea,toArray:qs,makeMap:cp,each:Rc,map:Ev,grep:gl,inArray:pl,hasOwn:uh,extend:_a,create:n2,walk:Js,createNS:r2,resolve:Sl,explode:Jo,_addCacheSuffix:If},sh=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Nf(i.childNodes[0])},_o=function(e,n){var a=n||document,i=a.createElement(e);return Nf(i)},sb=function(e,n){var a=n||document,i=a.createTextNode(e);return Nf(i)},Nf=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Mv=function(e,n,a){return te.from(e.dom.elementFromPoint(n,a)).map(Nf)},je={fromHtml:sh,fromTag:_o,fromText:sb,fromDom:Nf,fromPoint:Mv},ii=function(e,n){var a=[],i=function(v){return a.push(v),n(v)},l=n(e);do l=l.bind(i);while(l.isSome());return a},lh=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},fp=function(e,n){return lh(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},lb=8,Id=9,vp=11,dp=1,xs=3,Zl=function(e,n){var a=e.dom;if(a.nodeType!==dp)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},cb=function(e){return e.nodeType!==dp&&e.nodeType!==Id&&e.nodeType!==vp||e.childElementCount===0},fb=function(e,n){var a=n===void 0?document:n.dom;return cb(a)?[]:et(a.querySelectorAll(e),je.fromDom)},Ql=function(e,n){var a=n===void 0?document:n.dom;return cb(a)?te.none():te.from(a.querySelector(e)).map(je.fromDom)},$a=function(e,n){return e.dom===n.dom},vb=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},fu=function(e,n){return fp(e.dom,n.dom)},Hi=function(e,n){return Rn().browser.isIE()?fu(e,n):vb(e,n)};typeof window<"u"||Function("return this;")();var xo=function(e){var n=e.dom.nodeName;return n.toLowerCase()},Pc=function(e){return e.dom.nodeType},ur=function(e){return function(n){return Pc(n)===e}},ns=function(e){return Pc(e)===lb||xo(e)==="#comment"},za=ur(dp),Ka=ur(xs),db=ur(Id),ui=ur(vp),mp=function(e){return function(n){return za(n)&&xo(n)===e}},_l=function(e){return je.fromDom(e.dom.ownerDocument)},jn=function(e){return db(e)?e:_l(e)},rs=function(e){return je.fromDom(jn(e).dom.documentElement)},no=function(e){return je.fromDom(jn(e).dom.defaultView)},ro=function(e){return te.from(e.dom.parentNode).map(je.fromDom)},Lo=function(e,n){for(var a=le(n)?n:at,i=e.dom,l=[];i.parentNode!==null&&i.parentNode!==void 0;){var v=i.parentNode,p=je.fromDom(v);if(l.push(p),a(p)===!0)break;i=v}return l},ko=function(e){var n=function(a){return it(a,function(i){return!$a(e,i)})};return ro(e).map(Qi).map(n).getOr([])},zf=function(e){return te.from(e.dom.previousSibling).map(je.fromDom)},ks=function(e){return te.from(e.dom.nextSibling).map(je.fromDom)},qr=function(e){return tr(ii(e,zf))},Ba=function(e){return ii(e,ks)},Qi=function(e){return et(e.dom.childNodes,je.fromDom)},ec=function(e,n){var a=e.dom.childNodes;return te.from(a[n]).map(je.fromDom)},Mo=function(e){return ec(e,0)},as=function(e){return ec(e,e.dom.childNodes.length-1)},mb=function(e){return e.dom.childNodes.length},Ff=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return je.fromDom(n)},ya=function(e){return ui(e)&&Ye(e.dom.host)},Zs=le(Element.prototype.attachShadow)&&le(Node.prototype.getRootNode),Ic=U(Zs),vu=Zs?function(e){return je.fromDom(e.dom.getRootNode())}:jn,fo=function(e){return ya(e)?e:Ff(jn(e))},Nc=function(e){var n=vu(e);return ya(n)?te.some(n):te.none()},tc=function(e){return je.fromDom(e.dom.host)},Vi=function(e){if(Ic()&&Ye(e.target)){var n=je.fromDom(e.target);if(za(n)&&du(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return da(a)}}return te.from(e.target)},du=function(e){return Ye(e.dom.shadowRoot)},ki=function(e,n){var a=ro(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},Pv=function(e,n){var a=ks(e);a.fold(function(){var i=ro(e);i.each(function(l){Ho(l,n)})},function(i){ki(i,n)})},Qs=function(e,n){var a=Mo(e);a.fold(function(){Ho(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},Ho=function(e,n){e.dom.appendChild(n.dom)},Nd=function(e,n){ki(e,n),Ho(n,e)},hb=function(e,n){He(n,function(a){ki(e,a)})},Lf=function(e,n){He(n,function(a){Ho(e,a)})},Hf=function(e){e.dom.textContent="",He(Qi(e),function(n){vo(n)})},vo=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Vf=function(e){var n=Qi(e);n.length>0&&hb(e,n),vo(e)},Uf=function(e){var n=Ka(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return Nc(je.fromDom(n)).fold(function(){return a.body.contains(n)},ne(Uf,tc))},Ui=function(e,n){var a=function(i,l){return Ui(e+i,n+l)};return{left:e,top:n,translate:a}},nc=Ui,Wf=function(e){var n=e.getBoundingClientRect();return nc(n.left,n.top)},rc=function(e,n){return e!==void 0?e:n!==void 0?n:0},Ua=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,l=n.documentElement;if(a===e.dom)return nc(a.offsetLeft,a.offsetTop);var v=rc(i==null?void 0:i.pageYOffset,l.scrollTop),p=rc(i==null?void 0:i.pageXOffset,l.scrollLeft),x=rc(l.clientTop,a.clientTop),A=rc(l.clientLeft,a.clientLeft);return Bu(e).translate(p-A,v-x)},Bu=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?nc(i.offsetLeft,i.offsetTop):Uf(e)?Wf(n):nc(0,0)},ch=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return nc(a,i)},os=function(e,n,a){var i=a!==void 0?a.dom:document,l=i.defaultView;l&&l.scrollTo(e,n)},fh=function(e,n){var a=Rn().browser.isSafari();a&&le(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},gb=function(e){var n=e===void 0?window:e;return Rn().browser.isFirefox()?te.none():te.from(n.visualViewport)},hp=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},jf=function(e){var n=e===void 0?window:e,a=n.document,i=ch(je.fromDom(a));return gb(n).fold(function(){var l=n.document.documentElement,v=l.clientWidth,p=l.clientHeight;return hp(i.left,i.top,v,p)},function(l){return hp(Math.max(l.pageLeft,i.left),Math.max(l.pageTop,i.top),l.width,l.height)})},Gf=function(e){return function(n){return!!n&&n.nodeType===e}},zc=function(e){return!!e&&!Object.getPrototypeOf(e)},Kn=Gf(1),As=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return Ae(n,i)}return!1}},mu=function(e,n){var a=n.toLowerCase().split(" ");return function(i){if(Kn(i))for(var l=0;l<a.length;l++){var v=i.ownerDocument.defaultView.getComputedStyle(i,null),p=v?v.getPropertyValue(e):null;if(p===a[l])return!0}return!1}},Wi=function(e){return function(n){return Kn(n)&&n.hasAttribute(e)}},Es=function(e,n){return function(a){return Kn(a)&&a.getAttribute(e)===n}},bo=function(e){return Kn(e)&&e.hasAttribute("data-mce-bogus")},Vo=function(e){return Kn(e)&&e.getAttribute("data-mce-bogus")==="all"},Ao=function(e){return Kn(e)&&e.tagName==="TABLE"},Fc=function(e){return function(n){return!!(Kn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},Ai=As(["textarea","input"]),gn=Gf(3),qf=Gf(8),gp=Gf(9),cr=Gf(11),wa=As(["br"]),vh=As(["img"]),xl=Fc("true"),Fa=Fc("false"),dh=As(["td","th"]),Mu=As(["video","audio","object","embed"]),zd=function(e,n,a){return a===void 0&&(a=Qe),e.exists(function(i){return a(i,n)})},mr=function(e){for(var n=[],a=function(l){n.push(l)},i=0;i<e.length;i++)e[i].each(a);return n},eu=function(e,n,a){return e.isSome()&&n.isSome()?te.some(a(e.getOrDie(),n.getOrDie())):te.none()},a2=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?te.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):te.none()},o2=function(e,n){return e?te.some(n):te.none()},Wa=function(e){return e.style!==void 0&&le(e.style.getPropertyValue)},mh=function(e,n,a){if($e(a)||Ee(a)||pe(a))e.setAttribute(n,a+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},M=function(e,n,a){mh(e.dom,n,a)},J=function(e,n){var a=e.dom;Hr(n,function(i,l){mh(a,l,i)})},re=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},Ce=function(e,n){return te.from(re(e,n))},Ge=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},bt=function(e,n){e.dom.removeAttribute(n)},xn=function(e){return Dt(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},Zn=function(e,n,a){if(!$e(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Wa(e)&&e.style.setProperty(n,a)},Er=function(e,n){var a=e.dom;Hr(n,function(i,l){Zn(a,l,i)})},hr=function(e,n){var a=e.dom,i=window.getComputedStyle(a),l=i.getPropertyValue(n);return l===""&&!Uf(e)?xa(a,n):l},xa=function(e,n){return Wa(e)?e.style.getPropertyValue(n):""},Ei=function(e,n){var a=e.dom,i=xa(a,n);return te.from(i).filter(function(l){return l.length>0})},ao=function(e){var n={},a=e.dom;if(Wa(a))for(var i=0;i<a.style.length;i++){var l=a.style.item(i);n[l]=a.style[l]}return n},w3=function(e){return e.dom.offsetWidth},US=Rn().browser,WS=function(e){return rn(e,za)},C3=function(e){return US.isFirefox()&&xo(e)==="table"?WS(Qi(e)).filter(function(n){return xo(n)==="caption"}).bind(function(n){return WS(Ba(n)).map(function(a){var i=a.dom.offsetTop,l=n.dom.offsetTop,v=n.dom.offsetHeight;return i<=l?-v:0})}).getOr(0):0},ac=function(e,n){return e.children&&Ae(e.children,n)},pp=function(e,n,a){var i=0,l=0,v=e.ownerDocument;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&hr(je.fromDom(e),"position")==="static"){var p=n.getBoundingClientRect();return i=p.left+(v.documentElement.scrollLeft||e.scrollLeft)-v.documentElement.clientLeft,l=p.top+(v.documentElement.scrollTop||e.scrollTop)-v.documentElement.clientTop,{x:i,y:l}}for(var x=n;x&&x!==a&&x.nodeType&&!ac(x,a);){var A=x;i+=A.offsetLeft||0,l+=A.offsetTop||0,x=A.offsetParent}for(x=n.parentNode;x&&x!==a&&x.nodeType&&!ac(x,a);)i-=x.scrollLeft||0,l-=x.scrollTop||0,x=x.parentNode;l+=C3(je.fromDom(n))}return{x:i,y:l}},Pu={},hh={exports:Pu};(function(e,n,a,i){(function(l,v){typeof n=="object"&&typeof a<"u"?a.exports=v():typeof e=="function"&&e.amd?e(v):(l=typeof globalThis<"u"?globalThis:l||self,l.EphoxContactWrapper=v())})(this,function(){var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof R6<"u"?R6:typeof self<"u"?self:{},v={exports:{}};(function(N){(function(X){var Z=setTimeout;function Q(){}function ce(Re,Ze){return function(){Re.apply(Ze,arguments)}}function ve(Re){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Re!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],We(Re,this)}function me(Re,Ze){for(;Re._state===3;)Re=Re._value;if(Re._state===0){Re._deferreds.push(Ze);return}Re._handled=!0,ve._immediateFn(function(){var St=Re._state===1?Ze.onFulfilled:Ze.onRejected;if(St===null){(Re._state===1?he:Oe)(Ze.promise,Re._value);return}var Ft;try{Ft=St(Re._value)}catch(Vn){Oe(Ze.promise,Vn);return}he(Ze.promise,Ft)})}function he(Re,Ze){try{if(Ze===Re)throw new TypeError("A promise cannot be resolved with itself.");if(Ze&&(typeof Ze=="object"||typeof Ze=="function")){var St=Ze.then;if(Ze instanceof ve){Re._state=3,Re._value=Ze,xe(Re);return}else if(typeof St=="function"){We(ce(St,Ze),Re);return}}Re._state=1,Re._value=Ze,xe(Re)}catch(Ft){Oe(Re,Ft)}}function Oe(Re,Ze){Re._state=2,Re._value=Ze,xe(Re)}function xe(Re){Re._state===2&&Re._deferreds.length===0&&ve._immediateFn(function(){Re._handled||ve._unhandledRejectionFn(Re._value)});for(var Ze=0,St=Re._deferreds.length;Ze<St;Ze++)me(Re,Re._deferreds[Ze]);Re._deferreds=null}function qe(Re,Ze,St){this.onFulfilled=typeof Re=="function"?Re:null,this.onRejected=typeof Ze=="function"?Ze:null,this.promise=St}function We(Re,Ze){var St=!1;try{Re(function(Ft){St||(St=!0,he(Ze,Ft))},function(Ft){St||(St=!0,Oe(Ze,Ft))})}catch(Ft){if(St)return;St=!0,Oe(Ze,Ft)}}ve.prototype.catch=function(Re){return this.then(null,Re)},ve.prototype.then=function(Re,Ze){var St=new this.constructor(Q);return me(this,new qe(Re,Ze,St)),St},ve.all=function(Re){var Ze=Array.prototype.slice.call(Re);return new ve(function(St,Ft){if(Ze.length===0)return St([]);var Vn=Ze.length;function mn(Ln,Vt){try{if(Vt&&(typeof Vt=="object"||typeof Vt=="function")){var vn=Vt.then;if(typeof vn=="function"){vn.call(Vt,function(jt){mn(Ln,jt)},Ft);return}}Ze[Ln]=Vt,--Vn===0&&St(Ze)}catch(jt){Ft(jt)}}for(var $t=0;$t<Ze.length;$t++)mn($t,Ze[$t])})},ve.resolve=function(Re){return Re&&typeof Re=="object"&&Re.constructor===ve?Re:new ve(function(Ze){Ze(Re)})},ve.reject=function(Re){return new ve(function(Ze,St){St(Re)})},ve.race=function(Re){return new ve(function(Ze,St){for(var Ft=0,Vn=Re.length;Ft<Vn;Ft++)Re[Ft].then(Ze,St)})},ve._immediateFn=typeof setImmediate=="function"?function(Re){setImmediate(Re)}:function(Re){Z(Re,0)},ve._unhandledRejectionFn=function(Ze){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Ze)},ve._setImmediateFn=function(Ze){ve._immediateFn=Ze},ve._setUnhandledRejectionFn=function(Ze){ve._unhandledRejectionFn=Ze},N.exports?N.exports=ve:X.Promise||(X.Promise=ve)})(l)})(v);var p=v.exports,x=function(){return typeof window<"u"?window:Function("return this;")()}(),A={boltExport:x.Promise||p};return A})})(void 0,Pu,hh);var i2=hh.exports.boltExport,bp=function(e){var n=te.none(),a=[],i=function(N){return bp(function(X){l(function(Z){X(N(Z))})})},l=function(N){p()?A(N):a.push(N)},v=function(N){p()||(n=te.some(N),x(a),a=[])},p=function(){return n.isSome()},x=function(N){He(N,A)},A=function(N){n.each(function(X){setTimeout(function(){N(X)},0)})};return e(v),{get:l,map:i,isReady:p}},pb=function(e){return bp(function(n){n(e)})},jS={nu:bp,pure:pb},S3=function(e){setTimeout(function(){throw e},0)},oc=function(e){var n=function(A){e().then(A,S3)},a=function(A){return oc(function(){return e().then(A)})},i=function(A){return oc(function(){return e().then(function(N){return A(N).toPromise()})})},l=function(A){return oc(function(){return e().then(function(){return A.toPromise()})})},v=function(){return jS.nu(n)},p=function(){var A=null;return oc(function(){return A===null&&(A=e()),A})},x=e;return{map:a,bind:i,anonBind:l,toLazy:v,toCached:p,toPromise:x,get:n}},yp=function(e){return oc(function(){return new i2(e)})},_3=function(e){return oc(function(){return i2.resolve(e)})},u2={nu:yp,pure:_3},x3=function(e,n){return n(function(a){var i=[],l=0,v=function(p){return function(x){i[p]=x,l++,l>=e.length&&a(i)}};e.length===0?a([]):He(e,function(p,x){p.get(v(x))})})},k3=function(e){return x3(e,u2.nu)},gh=function(e){var n=function(Z){return gh(e)},a=function(Z){return gh(e)},i=function(Z){return gh(Z(e))},l=function(Z){return gh(e)},v=function(Z){Z(e)},p=function(Z){return Z(e)},x=function(Z,Q){return Q(e)},A=function(Z){return Z(e)},N=function(Z){return Z(e)},X=function(){return te.some(e)};return{isValue:ot,isError:at,getOr:U(e),getOrThunk:U(e),getOrDie:U(e),or:n,orThunk:a,fold:x,map:i,mapError:l,each:v,bind:p,exists:A,forall:N,toOptional:X}},wp=function(e){var n=function(N){return N()},a=function(){return ut(String(e))()},i=_e,l=function(N){return N()},v=function(N){return wp(e)},p=function(N){return wp(N(e))},x=function(N){return wp(e)},A=function(N,X){return N(e)};return{isValue:at,isError:ot,getOr:_e,getOrThunk:n,getOrDie:a,or:i,orThunk:l,fold:A,map:v,mapError:p,each:ye,bind:x,exists:at,forall:ot,toOptional:te.none}},GS=function(e,n){return e.fold(function(){return wp(n)},gh)},qS={value:gh,error:wp,fromOption:GS},is=function(e){if(!Be(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return He(e,function(i,l){var v=Zi(i);if(v.length!==1)throw new Error("one and only one name per case");var p=v[0],x=i[p];if(a[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Be(x))throw new Error("case arguments must be an array");n.push(p),a[p]=function(){for(var A=[],N=0;N<arguments.length;N++)A[N]=arguments[N];var X=A.length;if(X!==x.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+x.length+" ("+x+"), got "+X);var Z=function(Q){var ce=Zi(Q);if(n.length!==ce.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+ce.join(","));var ve=Gr(n,function(me){return Ae(ce,me)});if(!ve)throw new Error("Not all branches were specified when using match. Specified: "+ce.join(", ")+`
Required: `+n.join(", "));return Q[p].apply(null,A)};return{fold:function(){for(var Q=[],ce=0;ce<arguments.length;ce++)Q[ce]=arguments[ce];if(Q.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Q.length);var ve=Q[l];return ve.apply(null,A)},match:Z,log:function(Q){console.log(Q,{constructors:n,constructor:p,params:A})}}}}),a},$n={generate:is};$n.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Kf=function(e){return e.fold(_e,_e)};function Cp(e,n,a,i,l){return e(a,i)?te.some(a):le(l)&&l(a)?te.none():n(a,i,l)}var Iv=function(e,n,a){for(var i=e.dom,l=le(a)?a:at;i.parentNode;){i=i.parentNode;var v=je.fromDom(i);if(n(v))return te.some(v);if(l(v))break}return te.none()},ph=function(e,n,a){var i=function(l,v){return v(l)};return Cp(i,Iv,e,n,a)},s2=function(e,n){var a=e.dom;return a.parentNode?kl(je.fromDom(a.parentNode),function(i){return!$a(e,i)&&n(i)}):te.none()},kl=function(e,n){var a=function(l){return n(je.fromDom(l))},i=rn(e.dom.childNodes,a);return i.map(je.fromDom)},Fd=function(e,n,a){return Iv(e,function(i){return Zl(i,n)},a)},bh=function(e,n){return Ql(n,e)},yo=function(e,n,a){var i=function(l,v){return Zl(l,v)};return Cp(i,Fd,e,n,a)},si=window.Promise?window.Promise:i2,Sp,Lc=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],l=function(p){window.setTimeout(p,0)},v=0;v<i.length&&!a;v++)a=window[i[v]+"RequestAnimationFrame"];a||(a=l),a(e,n)},_p=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},bb=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},yb=function(e){return clearTimeout(e)},A3=function(e){return clearInterval(e)},yh=function(e,n){var a,i=function(){for(var l=[],v=0;v<arguments.length;v++)l[v]=arguments[v];clearTimeout(a),a=_p(function(){e.apply(this,l)},n)};return i.stop=function(){clearTimeout(a)},i},ji={requestAnimationFrame:function(e,n){if(Sp){Sp.then(e);return}Sp=new si(function(a){n||(n=document.body),Lc(a,n)}).then(e)},setTimeout:_p,setInterval:bb,setEditorTimeout:function(e,n,a){return _p(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=bb(function(){e.removed?clearInterval(i):n()},a);return i},debounce:yh,throttle:yh,clearInterval:A3,clearTimeout:yb},KS=function(e,n){n===void 0&&(n={});var a=0,i={},l=je.fromDom(e),v=jn(l),p=n.maxLoadTime||5e3,x=function(he){n.referrerPolicy=he},A=function(he){Ho(fo(l),he)},N=function(he){var Oe=fo(l);bh(Oe,"#"+he).each(vo)},X=function(he){return Pr(i,he).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},Z=function(he,Oe,xe){var qe,We=yt._addCacheSuffix(he),Re=X(We);i[We]=Re,Re.count++;var Ze=function(Vt,vn){for(var jt=Vt.length;jt--;)Vt[jt]();Re.status=vn,Re.passed=[],Re.failed=[],qe&&(qe.onload=null,qe.onerror=null,qe=null)},St=function(){return Ze(Re.passed,2)},Ft=function(){return Ze(Re.failed,3)},Vn=function(Vt,vn){Vt()||(Date.now()-Ln<p?ji.setTimeout(vn):Ft())},mn=function(){Vn(function(){for(var Vt=e.styleSheets,vn=Vt.length;vn--;){var jt=Vt[vn],Zt=jt.ownerNode;if(Zt&&Zt.id===qe.id)return St(),!0}return!1},mn)};if(Oe&&Re.passed.push(Oe),xe&&Re.failed.push(xe),Re.status!==1){if(Re.status===2){St();return}if(Re.status===3){Ft();return}Re.status=1;var $t=je.fromTag("link",v.dom);J($t,{rel:"stylesheet",type:"text/css",id:Re.id});var Ln=Date.now();n.contentCssCors&&M($t,"crossOrigin","anonymous"),n.referrerPolicy&&M($t,"referrerpolicy",n.referrerPolicy),qe=$t.dom,qe.onload=mn,qe.onerror=Ft,A($t),M($t,"href",We)}},Q=function(he){return u2.nu(function(Oe){Z(he,Me(Oe,U(qS.value(he))),Me(Oe,U(qS.error(he))))})},ce=function(he,Oe,xe){k3(et(he,Q)).get(function(qe){var We=Yt(qe,function(Re){return Re.isValue()});We.fail.length>0?xe(We.fail.map(Kf)):Oe(We.pass.map(Kf))})},ve=function(he){var Oe=yt._addCacheSuffix(he);Pr(i,Oe).each(function(xe){var qe=--xe.count;qe===0&&(delete i[Oe],N(xe.id))})},me=function(he){He(he,function(Oe){ve(Oe)})};return{load:Z,loadAll:ce,unload:ve,unloadAll:me,_setReferrerPolicy:x}},Xa=function(){var e=new WeakMap,n=function(a,i){var l=vu(a),v=l.dom;return te.from(e.get(v)).getOrThunk(function(){var p=KS(v,i);return e.set(v,p),p})};return{forElement:n}},Al=Xa(),sa=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,l){var v,p;if(n){if(!l&&n[a])return n[a];if(n!==this.rootNode){if(v=n[i],v)return v;for(p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(v=p[i],v)return v}}},e.prototype.findPreviousNode=function(n,a,i,l){var v,p,x;if(n){if(v=n[i],this.rootNode&&v===this.rootNode)return;if(v){if(!l){for(x=v[a];x;x=x[a])if(!x[a])return x}return v}if(p=n.parentNode,p&&p!==this.rootNode)return p}},e}(),Nv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],el=["td","th"],E3=["thead","tbody","tfoot"],Uo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],hu=["h1","h2","h3","h4","h5","h6"],XS=["li","dd","dt"],xt=["ul","ol","dl"],Iu=["pre","script","textarea","style"],Xf=function(e){var n;return function(a){return n=n||va(e,ot),Ar(n,xo(a))}},Xn=Xf(hu),Ts=Xf(Nv),T3=function(e){return xo(e)==="table"},tu=function(e){return za(e)&&!Ts(e)},wh=function(e){return za(e)&&xo(e)==="br"},Hc=Xf(Uo),El=Xf(xt),Gi=Xf(XS),Kr=Xf(E3),ic=Xf(el),Ld=Xf(Iu),Ea=function(e,n,a){return Fd(e,n,a).isSome()},zv="\uFEFF",us="",ss=function(e){return e===zv},O3=function(e){return e.replace(/\uFEFF/g,"")},Ve=zv,gu=ss,uc=O3,Ch=Kn,Os=gn,Ca=function(e){return Os(e)&&(e=e.parentNode),Ch(e)&&e.hasAttribute("data-mce-caret")},Ta=function(e){return Os(e)&&gu(e.data)},Nu=function(e){return Ca(e)||Ta(e)},Yf=function(e){return e.firstChild!==e.lastChild||!wa(e.firstChild)},l2=function(e,n){var a=e.ownerDocument,i=a.createTextNode(Ve),l=e.parentNode;if(n){var v=e.previousSibling;if(Os(v)){if(Nu(v))return v;if(kp(v))return v.splitText(v.data.length-1)}l.insertBefore(i,e)}else{var v=e.nextSibling;if(Os(v)){if(Nu(v))return v;if(xp(v))return v.splitText(1),v}e.nextSibling?l.insertBefore(i,e.nextSibling):l.appendChild(i)}return i},Pn=function(e){var n=e.container();return gn(n)?n.data.charAt(e.offset())===Ve||e.isAtStart()&&Ta(n.previousSibling):!1},wb=function(e){var n=e.container();return gn(n)?n.data.charAt(e.offset()-1)===Ve||e.isAtEnd()&&Ta(n.nextSibling):!1},Ds=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},YS=function(e,n,a){var i=n.ownerDocument,l=i.createElement(e);l.setAttribute("data-mce-caret",a?"before":"after"),l.setAttribute("data-mce-bogus","all"),l.appendChild(Ds());var v=n.parentNode;return a?v.insertBefore(l,n):n.nextSibling?v.insertBefore(l,n.nextSibling):v.appendChild(l),l},xp=function(e){return Os(e)&&e.data[0]===Ve},kp=function(e){return Os(e)&&e.data[e.data.length-1]===Ve},c2=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];bo(a)&&a.parentNode.removeChild(a)},f2=function(e){return e&&e.hasAttribute("data-mce-caret")?(c2(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Vc=function(e){return Ca(e.startContainer)},Jf=xl,D3=Fa,v2=wa,R3=gn,JS=As(["script","style","textarea"]),Ap=As(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Sh=As(["table"]),ZS=Nu,Uc=function(e){return ZS(e)?!1:R3(e)?!JS(e.parentNode):Ap(e)||v2(e)||Sh(e)||d2(e)},_h=function(e){return Kn(e)&&e.getAttribute("unselectable")==="true"},d2=function(e){return _h(e)===!1&&D3(e)},QS=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(d2(e))return!1;if(Jf(e))return!0}return!0},$3=function(e){return d2(e)?Dt(lr(e.getElementsByTagName("*")),function(n,a){return n||Jf(a)},!1)!==!0:!1},B3=function(e){return Ap(e)||$3(e)},Po=function(e,n){return Uc(e)&&QS(e,n)},Wc=/^[ \t\r\n]*$/,Tl=function(e){return Wc.test(e)},Fv=function(e,n){var a=je.fromDom(n),i=je.fromDom(e);return Ea(i,"pre,code",se($a,a))},e_=function(e,n){return gn(e)&&Tl(e.data)&&Fv(e,n)===!1},Ol=function(e){return Kn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Hd=function(e,n){return Uc(e)&&e_(e,n)===!1||Ol(e)||m2(e)},m2=Wi("data-mce-bookmark"),h2=Wi("data-mce-bogus"),Zf=Es("data-mce-bogus","all"),tl=function(e,n){var a=0;if(Hd(e,e))return!1;var i=e.firstChild;if(!i)return!0;var l=new sa(i,e);do{if(n){if(Zf(i)){i=l.next(!0);continue}if(h2(i)){i=l.next();continue}}if(wa(i)){a++,i=l.next();continue}if(Hd(i,e))return!1;i=l.next()}while(i);return a<=1},Ti=function(e,n){return n===void 0&&(n=!0),tl(e.dom,n)},Cb=function(e){return e.nodeName.toLowerCase()==="span"},g2=function(e,n){return Ye(e)&&(Hd(e,n)||tu(je.fromDom(e)))},Vd=function(e,n){var a=new sa(e,n).prev(!1),i=new sa(e,n).next(!1),l=De(a)||g2(a,n),v=De(i)||g2(i,n);return l&&v},xh=function(e){return Cb(e)&&e.getAttribute("data-mce-type")==="bookmark"},kh=function(e,n){return gn(e)&&e.data.length>0&&Vd(e,n)},M3=function(e){return Kn(e)?e.childNodes.length>0:!1},Ah=function(e){return cr(e)||gp(e)},p2=function(e,n,a){var i=a||n;if(Kn(n)&&xh(n))return n;for(var l=n.childNodes,v=l.length-1;v>=0;v--)p2(e,l[v],i);if(Kn(n)){var p=n.childNodes;p.length===1&&xh(p[0])&&n.parentNode.insertBefore(p[0],n)}return!Ah(n)&&!Hd(n,i)&&!M3(n)&&!kh(n,i)&&e.remove(n),n},P3=yt.makeMap,oo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lv=/[<>&\"\']/g,b2=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,y2={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},nl={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Rs={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Ud=function(e){var n=je.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Hv=function(e,n){var a,i,l,v={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),nl[i]||(l="&"+e[a+1]+";",v[i]=l,v[l]=i);return v}},_b=Hv("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ep=function(e,n){return e.replace(n?oo:Sb,function(a){return nl[a]||a})},w2=function(e){return(""+e).replace(Lv,function(n){return nl[n]||n})},Wd=function(e,n){return e.replace(n?oo:Sb,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":nl[a]||"&#"+a.charCodeAt(0)+";"})},xb=function(e,n,a){return a=a||_b,e.replace(n?oo:Sb,function(i){return nl[i]||a[i]||i})},I3=function(e,n){var a=Hv(n)||_b,i=function(p,x){return p.replace(x?oo:Sb,function(A){return nl[A]!==void 0?nl[A]:a[A]!==void 0?a[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"})},l=function(p,x){return xb(p,x,a)},v=P3(e.replace(/\+/g,","));return v.named&&v.numeric?i:v.named?n?l:xb:v.numeric?Wd:Ep},C2=function(e){return e.replace(b2,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):y2[a]||String.fromCharCode(a)):Rs[n]||_b[n]||Ud(n)})},$s={encodeRaw:Ep,encodeAllRaw:w2,encodeNumeric:Wd,encodeNamed:xb,getEncodeFunc:I3,decode:C2},ls={},Eh={},Dl=yt.makeMap,qi=yt.each,kb=yt.extend,Qf=yt.explode,t_=yt.inArray,Oi=function(e,n){return e=yt.trim(e),e?e.split(n||" "):[]},S2=function(e,n){var a=Dl(e," ",Dl(e.toUpperCase()," "));return kb(a,n)},Ab=function(e){return S2("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},Ur=function(e){var n={},a,i,l,v,p,x,A=function(X,Z,Q){var ce,ve,me,he=function(xe,qe){var We={},Re,Ze;for(Re=0,Ze=xe.length;Re<Ze;Re++)We[xe[Re]]=qe||{};return We};Q=Q||[],Z=Z||"",typeof Q=="string"&&(Q=Oi(Q));var Oe=Oi(X);for(ce=Oe.length;ce--;)ve=Oi([a,Z].join(" ")),me={attributes:he(ve),attributesOrder:ve,children:he(Q,Eh)},n[Oe[ce]]=me},N=function(X,Z){var Q,ce,ve,me,he=Oi(X);Q=he.length;for(var Oe=Oi(Z);Q--;)for(ce=n[he[Q]],ve=0,me=Oe.length;ve<me;ve++)ce.attributes[Oe[ve]]={},ce.attributesOrder.push(Oe[ve])};return ls[e]?ls[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",x="acronym applet basefont big font strike tt",l=[l,x].join(" "),qi(Oi(x),function(X){A(X,"",l)}),p="center dir isindex noframes",i=[i,p].join(" "),v=[i,l].join(" "),qi(Oi(p),function(X){A(X,"",v)})),v=v||[i,l].join(" "),A("html","manifest","head body"),A("head","","base command link meta noscript script style title"),A("title hr noscript br"),A("base","href target"),A("link","href rel media hreflang type sizes hreflang"),A("meta","name http-equiv content charset"),A("style","media type scoped"),A("script","src async defer type charset"),A("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",v),A("address dt dd div caption","",v),A("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),A("blockquote","cite",v),A("ol","reversed start type","li"),A("ul","","li"),A("li","value",v),A("dl","","dt dd"),A("a","href target rel media hreflang type",l),A("q","cite",l),A("ins del","cite datetime",v),A("img","src sizes srcset alt usemap ismap width height"),A("iframe","src name width height",v),A("embed","src type width height"),A("object","data type typemustmatch name usemap form width height",[v,"param"].join(" ")),A("param","name value"),A("map","name",[v,"area"].join(" ")),A("area","alt coords shape href target rel media hreflang type"),A("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),A("colgroup","span","col"),A("col","span"),A("tbody thead tfoot","","tr"),A("tr","","td th"),A("td","colspan rowspan headers",v),A("th","colspan rowspan headers scope abbr",v),A("form","accept-charset action autocomplete enctype method name novalidate target",v),A("fieldset","disabled form name",[v,"legend"].join(" ")),A("label","form for",l),A("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),A("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?v:l),A("select","disabled form multiple name required size","option optgroup"),A("optgroup","disabled label","option"),A("option","disabled label selected value"),A("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),A("menu","type label",[v,"li"].join(" ")),A("noscript","",v),e!=="html4"&&(A("wbr"),A("ruby","",[l,"rt rp"].join(" ")),A("figcaption","",v),A("mark rt rp summary bdi","",l),A("canvas","width height",v),A("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[v,"track source"].join(" ")),A("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[v,"track source"].join(" ")),A("picture","","img source"),A("source","src srcset type media sizes"),A("track","kind src srclang label default"),A("datalist","",[l,"option"].join(" ")),A("article section nav aside main header footer","",v),A("hgroup","","h1 h2 h3 h4 h5 h6"),A("figure","",[v,"figcaption"].join(" ")),A("time","datetime",l),A("dialog","open",v),A("command","type label icon disabled checked radiogroup command"),A("output","for form name",l),A("progress","value max",l),A("meter","value min max low high optimum",l),A("details","open",[v,"summary"].join(" ")),A("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(N("script","language xml:space"),N("style","xml:space"),N("object","declare classid code codebase codetype archive standby align border hspace vspace"),N("embed","align name hspace vspace"),N("param","valuetype type"),N("a","charset name rev shape coords"),N("br","clear"),N("applet","codebase archive code object alt name width height align hspace vspace"),N("img","name longdesc align border hspace vspace"),N("iframe","longdesc frameborder marginwidth marginheight scrolling align"),N("font basefont","size color face"),N("input","usemap align"),N("select"),N("textarea"),N("h1 h2 h3 h4 h5 h6 div p legend caption","align"),N("ul","type compact"),N("li","type"),N("ol dl menu dir","compact"),N("pre","width xml:space"),N("hr","align noshade size width"),N("isindex","prompt"),N("table","summary width frame rules cellspacing cellpadding align bgcolor"),N("col","width align char charoff valign"),N("colgroup","width align char charoff valign"),N("thead","align char charoff valign"),N("tr","align char charoff valign bgcolor"),N("th","axis align char charoff valign nowrap bgcolor width height"),N("form","accept"),N("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),N("tfoot","align char charoff valign"),N("tbody","align char charoff valign"),N("area","nohref"),N("body","background bgcolor text link vlink alink")),e!=="html4"&&(N("input button select textarea","autofocus"),N("input textarea","placeholder"),N("a","download"),N("link script img","crossorigin"),N("img","loading"),N("iframe","sandbox seamless allowfullscreen loading")),qi(Oi("a form meter progress dfn"),function(X){n[X]&&delete n[X].children[X]}),delete n.caption.children.table,delete n.script,ls[e]=n,n)},In=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),qi(e,function(i,l){a[l]=a[l.toUpperCase()]=n==="map"?Dl(i,/[, ]/):Qf(i,/[, ]/)})),a},Bs=function(e){var n={},a={},i=[],l={},v={},p=function(It,qt,Dn){var nt=e[It];return nt?nt=Dl(nt,/[, ]/,Dl(nt.toUpperCase(),/[, ]/)):(nt=ls[It],nt||(nt=S2(qt,Dn),ls[It]=nt)),nt};e=e||{};var x=Ur(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var A=In(e.valid_styles),N=In(e.invalid_styles,"map"),X=In(e.valid_classes,"map"),Z=p("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Q=p("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ce=p("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ve=p("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),me="td th iframe video audio object script code",he=p("non_empty_elements",me+" pre",ce),Oe=p("move_caret_before_on_enter_elements",me+" table",ce),xe=p("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),qe=p("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",xe),We=p("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");qi((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(It){v[It]=new RegExp("</"+It+"[^>]*>","gi")});var Re=function(It){return new RegExp("^"+It.replace(/([?+*])/g,".$1")+"$")},Ze=function(It){var qt,Dn,nt,Ht,Nt,Bn,Nn,Aa,ni,Yo,Im,Gu,Eu,gi,Vl,qu,Sf,Oa,Ha=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,pi=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,bs=/[*?+]/;if(It){var Sv=Oi(It,",");for(n["@"]&&(qu=n["@"].attributes,Sf=n["@"].attributesOrder),qt=0,Dn=Sv.length;qt<Dn;qt++)if(Nt=Ha.exec(Sv[qt]),Nt){if(gi=Nt[1],ni=Nt[2],Vl=Nt[3],Aa=Nt[5],Gu={},Eu=[],Bn={attributes:Gu,attributesOrder:Eu},gi==="#"&&(Bn.paddEmpty=!0),gi==="-"&&(Bn.removeEmpty=!0),Nt[4]==="!"&&(Bn.removeEmptyAttrs=!0),qu&&(Hr(qu,function(_v,Xg){Gu[Xg]=_v}),Eu.push.apply(Eu,Sf)),Aa){for(Aa=Oi(Aa,"|"),nt=0,Ht=Aa.length;nt<Ht;nt++)if(Nt=pi.exec(Aa[nt]),Nt){if(Nn={},Im=Nt[1],Yo=Nt[2].replace(/[\\:]:/g,":"),gi=Nt[3],Oa=Nt[4],Im==="!"&&(Bn.attributesRequired=Bn.attributesRequired||[],Bn.attributesRequired.push(Yo),Nn.required=!0),Im==="-"){delete Gu[Yo],Eu.splice(t_(Eu,Yo),1);continue}gi&&(gi==="="&&(Bn.attributesDefault=Bn.attributesDefault||[],Bn.attributesDefault.push({name:Yo,value:Oa}),Nn.defaultValue=Oa),gi===":"&&(Bn.attributesForced=Bn.attributesForced||[],Bn.attributesForced.push({name:Yo,value:Oa}),Nn.forcedValue=Oa),gi==="<"&&(Nn.validValues=Dl(Oa,"?"))),bs.test(Yo)?(Bn.attributePatterns=Bn.attributePatterns||[],Nn.pattern=Re(Yo),Bn.attributePatterns.push(Nn)):(Gu[Yo]||Eu.push(Yo),Gu[Yo]=Nn)}}!qu&&ni==="@"&&(qu=Gu,Sf=Eu),Vl&&(Bn.outputName=ni,n[Vl]=Bn),bs.test(ni)?(Bn.pattern=Re(ni),i.push(Bn)):n[ni]=Bn}}},St=function(It){n={},i=[],Ze(It),qi(x,function(qt,Dn){a[Dn]=qt.children})},Ft=function(It){var qt=/^(~)?(.+)$/;It&&(ls.text_block_elements=ls.block_elements=null,qi(Oi(It,","),function(Dn){var nt=qt.exec(Dn),Ht=nt[1]==="~",Nt=Ht?"span":"div",Bn=nt[2];if(a[Bn]=a[Nt],l[Bn]=Nt,Ht||(qe[Bn.toUpperCase()]={},qe[Bn]={}),!n[Bn]){var Nn=n[Nt];Nn=kb({},Nn),delete Nn.removeEmptyAttrs,delete Nn.removeEmpty,n[Bn]=Nn}qi(a,function(Aa,ni){Aa[Nt]&&(a[ni]=Aa=kb({},a[ni]),Aa[Bn]=Aa[Nt])})}))},Vn=function(It){var qt=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;ls[e.schema]=null,It&&qi(Oi(It,","),function(Dn){var nt=qt.exec(Dn),Ht,Nt;nt&&(Nt=nt[1],Nt?Ht=a[nt[2]]:Ht=a[nt[2]]={"#comment":{}},Ht=a[nt[2]],qi(Oi(nt[3],"|"),function(Bn){Nt==="-"?delete Ht[Bn]:Ht[Bn]={}}))})},mn=function(It){var qt=n[It],Dn;if(qt)return qt;for(Dn=i.length;Dn--;)if(qt=i[Dn],qt.pattern.test(It))return qt};e.valid_elements?St(e.valid_elements):(qi(x,function(It,qt){n[qt]={attributes:It.attributes,attributesOrder:It.attributesOrder},a[qt]=It.children}),e.schema!=="html5"&&qi(Oi("strong/b em/i"),function(It){var qt=Oi(It,"/");n[qt[1]].outputName=qt[0]}),qi(We,function(It,qt){n[qt]&&(e.padd_empty_block_inline_children&&(n[qt].paddInEmptyBlock=!0),n[qt].removeEmpty=!0)}),qi(Oi("ol ul blockquote a table tbody"),function(It){n[It]&&(n[It].removeEmpty=!0)}),qi(Oi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(It){n[It].paddEmpty=!0}),qi(Oi("span"),function(It){n[It].removeEmptyAttrs=!0})),Ft(e.custom_elements),Vn(e.valid_children),Ze(e.extended_valid_elements),Vn("+ol[ul|ol],+ul[ul|ol]"),qi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(It,qt){n[qt]&&(n[qt].parentsRequired=Oi(It))}),e.invalid_elements&&qi(Qf(e.invalid_elements),function(It){n[It]&&delete n[It]}),mn("span")||Ze("span[!data-mce-type|*]");var $t=U(A),Ln=U(N),Vt=U(X),vn=U(ve),jt=U(qe),Zt=U(xe),yn=U(We),Pt=U(ce),hn=U(Q),xr=U(he),na=U(Oe),Jr=U(Z),zi=U(v),uo=function(It,qt){var Dn=a[It.toLowerCase()];return!!(Dn&&Dn[qt.toLowerCase()])},ju=function(It,qt){var Dn,nt,Ht=mn(It);if(Ht)if(qt){if(Ht.attributes[qt])return!0;if(Dn=Ht.attributePatterns,Dn){for(nt=Dn.length;nt--;)if(Dn[nt].pattern.test(It))return!0}}else return!0;return!1},ps=U(l);return{children:a,elements:n,getValidStyles:$t,getValidClasses:Vt,getBlockElements:jt,getInvalidStyles:Ln,getShortEndedElements:Pt,getTextBlockElements:Zt,getTextInlineElements:yn,getBoolAttrs:vn,getElementRule:mn,getSelfClosingElements:hn,getNonEmptyElements:xr,getMoveCaretBeforeOnEnterElements:na,getWhiteSpaceElements:Jr,getSpecialElements:zi,isValidChild:uo,isValid:ju,getCustomElements:ps,addValidElements:Ze,setValidElements:St,addCustomElements:Ft,addValidChildren:Vn}},Eb=function(e,n,a,i){var l=function(v){return v=parseInt(v,10).toString(16),v.length>1?v:"0"+v};return"#"+l(n)+l(a)+l(i)},Rl=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,v=/\s*([^:]+):\s*([^;]+);?/g,p=/\s+$/,x,A={},N,X,Z=zv;e=e||{},n&&(N=n.getValidStyles(),X=n.getInvalidStyles());var Q=(`\\" \\' \\; \\: ; : `+Z).split(" ");for(x=0;x<Q.length;x++)A[Q[x]]=Z+x,A[Z+x]=Q[x];return{toHex:function(ce){return ce.replace(i,Eb)},parse:function(ce){var ve={},me,he,Oe,xe,qe=e.url_converter,We=e.url_converter_scope||a,Re=function(Vt,vn,jt){var Zt=ve[Vt+"-top"+vn];if(Zt){var yn=ve[Vt+"-right"+vn];if(yn){var Pt=ve[Vt+"-bottom"+vn];if(Pt){var hn=ve[Vt+"-left"+vn];if(hn){var xr=[Zt,yn,Pt,hn];for(x=xr.length-1;x--&&xr[x]===xr[x+1];);x>-1&&jt||(ve[Vt+vn]=x===-1?xr[0]:xr.join(" "),delete ve[Vt+"-top"+vn],delete ve[Vt+"-right"+vn],delete ve[Vt+"-bottom"+vn],delete ve[Vt+"-left"+vn])}}}}},Ze=function(Vt){var vn=ve[Vt],jt;if(vn){for(vn=vn.split(" "),jt=vn.length;jt--;)if(vn[jt]!==vn[0])return!1;return ve[Vt]=vn[0],!0}},St=function(Vt,vn,jt,Zt){Ze(vn)&&Ze(jt)&&Ze(Zt)&&(ve[Vt]=ve[vn]+" "+ve[jt]+" "+ve[Zt],delete ve[vn],delete ve[jt],delete ve[Zt])},Ft=function(Vt){return xe=!0,A[Vt]},Vn=function(Vt,vn){return xe&&(Vt=Vt.replace(/\uFEFF[0-9]/g,function(jt){return A[jt]})),vn||(Vt=Vt.replace(/\\([\'\";:])/g,"$1")),Vt},mn=function(Vt){return String.fromCharCode(parseInt(Vt.slice(1),16))},$t=function(Vt){return Vt.replace(/\\[0-9a-f]+/gi,mn)},Ln=function(Vt,vn,jt,Zt,yn,Pt){if(yn=yn||Pt,yn)return yn=Vn(yn),"'"+yn.replace(/\'/g,"\\'")+"'";if(vn=Vn(vn||jt||Zt),!e.allow_script_urls){var hn=vn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(hn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(hn))return""}return qe&&(vn=qe.call(We,vn,"style")),"url('"+vn.replace(/\'/g,"\\'")+"')"};if(ce){for(ce=ce.replace(/[\u0000-\u001F]/g,""),ce=ce.replace(/\\[\"\';:\uFEFF]/g,Ft).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Vt){return Vt.replace(/[;:]/g,Ft)});me=v.exec(ce);)if(v.lastIndex=me.index+me[0].length,he=me[1].replace(p,"").toLowerCase(),Oe=me[2].replace(p,""),he&&Oe){if(he=$t(he),Oe=$t(Oe),he.indexOf(Z)!==-1||he.indexOf('"')!==-1||!e.allow_script_urls&&(he==="behavior"||/expression\s*\(|\/\*|\*\//.test(Oe)))continue;he==="font-weight"&&Oe==="700"?Oe="bold":(he==="color"||he==="background-color")&&(Oe=Oe.toLowerCase()),Oe=Oe.replace(i,Eb),Oe=Oe.replace(l,Ln),ve[he]=xe?Vn(Oe,!0):Oe}Re("border","",!0),Re("border","-width"),Re("border","-color"),Re("border","-style"),Re("padding",""),Re("margin",""),St("border","border-width","border-style","border-color"),ve.border==="medium none"&&delete ve.border,ve["border-image"]==="none"&&delete ve["border-image"]}return ve},serialize:function(ce,ve){var me="",he=function(xe){var qe,We=N[xe];if(We)for(var Re=0,Ze=We.length;Re<Ze;Re++)xe=We[Re],qe=ce[xe],qe&&(me+=(me.length>0?" ":"")+xe+": "+qe+";")},Oe=function(xe,qe){var We=X["*"];return We&&We[xe]?!1:(We=X[qe],!(We&&We[xe]))};return ve&&N?(he("*"),he(ve)):Hr(ce,function(xe,qe){xe&&(!X||Oe(qe,ve))&&(me+=(me.length>0?" ":"")+qe+": "+xe+";")}),me}}},n_={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Sa=function(e){return e instanceof Event||le(e.initEvent)},_2=function(e){return e.isDefaultPrevented===ot||e.isDefaultPrevented===at},Tb=function(e){return ke(e.preventDefault)||Sa(e)},Ob=function(e,n){var a=n??{};for(var i in e)Ar(n_,i)||(a[i]=e[i]);return Ye(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},Rt=function(e,n,a,i){var l,v=Ob(n,i);return v.type=e,ke(v.target)&&(v.target=(l=v.srcElement)!==null&&l!==void 0?l:a),Tb(n)&&(v.preventDefault=function(){v.defaultPrevented=!0,v.isDefaultPrevented=ot,le(n.preventDefault)?n.preventDefault():Sa(n)&&(n.returnValue=!1)},v.stopPropagation=function(){v.cancelBubble=!0,v.isPropagationStopped=ot,le(n.stopPropagation)?n.stopPropagation():Sa(n)&&(n.cancelBubble=!0)},v.stopImmediatePropagation=function(){v.isImmediatePropagationStopped=ot,v.stopPropagation()},_2(v)||(v.isDefaultPrevented=v.defaultPrevented===!0?ot:at,v.isPropagationStopped=v.cancelBubble===!0?ot:at,v.isImmediatePropagationStopped=at)),v},x2="mce-data-",k2=/^(?:mouse|contextmenu)|click/,Vv=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},Tp=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},jd=function(e){return Ye(e)&&k2.test(e.type)},Uv=function(e,n){var a=Rt(e.type,e,document,n);if(jd(e)&&De(e.pageX)&&!De(e.clientX)){var i=a.target.ownerDocument||document,l=i.documentElement,v=i.body,p=a;p.pageX=e.clientX+(l&&l.scrollLeft||v&&v.scrollLeft||0)-(l&&l.clientLeft||v&&v.clientLeft||0),p.pageY=e.clientY+(l&&l.scrollTop||v&&v.scrollTop||0)-(l&&l.clientTop||v&&v.clientTop||0)}return De(a.metaKey)&&(a.metaKey=!1),a},Gd=function(e,n,a){var i=e.document,l={type:"ready"};if(a.domLoaded){n(l);return}var v=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},p=function(){Tp(e,"DOMContentLoaded",p),Tp(e,"load",p),a.domLoaded||(a.domLoaded=!0,n(l)),e=null};v()?p():Vv(e,"DOMContentLoaded",p),a.domLoaded||Vv(e,"load",p)},Th=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=x2+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,l){var v=this,p,x,A,N,X,Z,Q,ce=window,ve=function(he){v.executeHandlers(Uv(he||ce.event),p)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[v.expando]?p=n[v.expando]:(p=v.count++,n[v.expando]=p,v.events[p]={}),l=l||n;var me=a.split(" ");for(A=me.length;A--;){if(N=me[A],Z=ve,X=Q=!1,N==="DOMContentLoaded"&&(N="ready"),v.domLoaded&&N==="ready"&&n.readyState==="complete"){i.call(l,Uv({type:N}));continue}v.hasMouseEnterLeave||(X=v.mouseEnterLeave[N],X&&(Z=function(he){var Oe=he.currentTarget,xe=he.relatedTarget;if(xe&&Oe.contains)xe=Oe.contains(xe);else for(;xe&&xe!==Oe;)xe=xe.parentNode;xe||(he=Uv(he||ce.event),he.type=he.type==="mouseout"?"mouseleave":"mouseenter",he.target=Oe,v.executeHandlers(he,p))})),!v.hasFocusIn&&(N==="focusin"||N==="focusout")&&(Q=!0,X=N==="focusin"?"focus":"blur",Z=function(he){he=Uv(he||ce.event),he.type=he.type==="focus"?"focusin":"focusout",v.executeHandlers(he,p)}),x=v.events[p][N],x?N==="ready"&&v.domLoaded?i(Uv({type:N})):x.push({func:i,scope:l}):(v.events[p][N]=x=[{func:i,scope:l}],x.fakeName=X,x.capture=Q,x.nativeHandler=Z,N==="ready"?Gd(n,Z,v):Vv(n,X||N,Z,Q))}return n=x=null,i}},e.prototype.unbind=function(n,a,i){var l,v,p,x,A;if(!n||n.nodeType===3||n.nodeType===8)return this;var N=n[this.expando];if(N){if(A=this.events[N],a){var X=a.split(" ");for(v=X.length;v--;)if(x=X[v],l=A[x],l){if(i){for(p=l.length;p--;)if(l[p].func===i){var Z=l.nativeHandler,Q=l.fakeName,ce=l.capture;l=l.slice(0,p).concat(l.slice(p+1)),l.nativeHandler=Z,l.fakeName=Q,l.capture=ce,A[x]=l}}(!i||l.length===0)&&(delete A[x],Tp(n,l.fakeName||x,l.nativeHandler,l.capture))}}else Hr(A,function(ve,me){Tp(n,ve.fakeName||me,ve.nativeHandler,ve.capture)}),A={};for(x in A)if(Ar(A,x))return this;delete this.events[N];try{delete n[this.expando]}catch{n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var l;if(!n||n.nodeType===3||n.nodeType===8)return this;var v=Uv({type:a,target:n},i);do l=n[this.expando],l&&this.executeHandlers(v,l),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!v.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],l=i&&i[n.type];if(l)for(var v=0,p=l.length;v<p;v++){var x=l[v];if(x&&x.func.call(x.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),Eo,rr,Ms,r_,cs,A2,jc,ev,tv,Ps,Wv,Zo,pu,Gc,jv,Oh,qd,wn,li="sizzle"+-new Date,sc=window.document,qc=0,Op=0,a_=Bb(),Db=Bb(),Gv=Bb(),qv=function(e,n){return e===n&&(Ps=!0),0},Dh="undefined",Dp=1<<31,N3={}.hasOwnProperty,Is=[],E2=Is.pop,Kd=Is.push,Kv=Is.push,T2=Is.slice,Xv=Is.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},o_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ya="[\\x20\\t\\r\\n\\f]",Di="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ki="\\["+Ya+"*("+Di+")(?:"+Ya+"*([*^$|!~]?=)"+Ya+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Di+"))|)"+Ya+"*\\]",i_=":("+Di+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ki+")*)|.*)\\)|)",Rb=new RegExp("^"+Ya+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ya+"+$","g"),z3=new RegExp("^"+Ya+"*,"+Ya+"*"),u_=new RegExp("^"+Ya+"*([>+~]|"+Ya+")"+Ya+"*"),$l=new RegExp("="+Ya+`*([^\\]'"]*?)`+Ya+"*\\]","g"),F3=new RegExp(i_),Rh=new RegExp("^"+Di+"$"),$b={ID:new RegExp("^#("+Di+")"),CLASS:new RegExp("^\\.("+Di+")"),TAG:new RegExp("^("+Di+"|[*])"),ATTR:new RegExp("^"+Ki),PSEUDO:new RegExp("^"+i_),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ya+"*(even|odd|(([+-]|)(\\d*)n|)"+Ya+"*(?:([+-]|)"+Ya+"*(\\d+)|))"+Ya+"*\\)|)","i"),bool:new RegExp("^(?:"+o_+")$","i"),needsContext:new RegExp("^"+Ya+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ya+"*((?:-\\d)?\\d*)"+Ya+"*\\)|)(?=[^-]|$)","i")},L3=/^(?:input|select|textarea|button)$/i,s_=/^h\d$/i,O2=/^[^{]+\{\s*\[native \w/,D2=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,R2=/[+~]/,H3=/'|\\/g,Yv=new RegExp("\\\\([\\da-f]{1,6}"+Ya+"?|("+Ya+")|.)","ig"),Jv=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{Kv.apply(Is=T2.call(sc.childNodes),sc.childNodes),Is[sc.childNodes.length].nodeType}catch{Kv={apply:Is.length?function(n,a){Kd.apply(n,T2.call(a))}:function(n,a){for(var i=n.length,l=0;n[i++]=a[l++];);n.length=i-1}}}var ga=function(e,n,a,i){var l,v,p,x,A,N,X,Z,Q,ce;if((n?n.ownerDocument||n:sc)!==Zo&&Wv(n),n=n||Zo,a=a||[],!e||typeof e!="string")return a;if((x=n.nodeType)!==1&&x!==9)return[];if(Gc&&!i){if(l=D2.exec(e))if(p=l[1]){if(x===9)if(v=n.getElementById(p),v&&v.parentNode){if(v.id===p)return a.push(v),a}else return a;else if(n.ownerDocument&&(v=n.ownerDocument.getElementById(p))&&wn(n,v)&&v.id===p)return a.push(v),a}else{if(l[2])return Kv.apply(a,n.getElementsByTagName(e)),a;if((p=l[3])&&Eo.getElementsByClassName)return Kv.apply(a,n.getElementsByClassName(p)),a}if(Eo.qsa&&(!jv||!jv.test(e))){if(Z=X=li,Q=n,ce=x===9&&e,x===1&&n.nodeName.toLowerCase()!=="object"){for(N=cs(e),(X=n.getAttribute("id"))?Z=X.replace(H3,"\\$&"):n.setAttribute("id",Z),Z="[id='"+Z+"'] ",A=N.length;A--;)N[A]=Z+Pb(N[A]);Q=R2.test(e)&&Mb(n.parentNode)||n,ce=N.join(",")}if(ce)try{return Kv.apply(a,Q.querySelectorAll(ce)),a}catch{}finally{X||n.removeAttribute("id")}}}return jc(e.replace(Rb,"$1"),n,a,i)};function Bb(){var e=[];function n(a,i){return e.push(a+" ")>rr.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function lc(e){return e[li]=!0,e}function l_(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||Dp)-(~e.sourceIndex||Dp);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function cc(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function Kc(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function Zv(e){return lc(function(n){return n=+n,lc(function(a,i){for(var l,v=e([],a.length,n),p=v.length;p--;)a[l=v[p]]&&(a[l]=!(i[l]=a[l]))})})}function Mb(e){return e&&typeof e.getElementsByTagName!==Dh&&e}Eo=ga.support={},r_=ga.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},Wv=ga.setDocument=function(e){var n,a=e?e.ownerDocument||e:sc,i=a.defaultView;function l(v){try{return v.top}catch{}return null}return a===Zo||a.nodeType!==9||!a.documentElement?Zo:(Zo=a,pu=a.documentElement,Gc=!r_(a),i&&i!==l(i)&&(i.addEventListener?i.addEventListener("unload",function(){Wv()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Wv()})),Eo.attributes=!0,Eo.getElementsByTagName=!0,Eo.getElementsByClassName=O2.test(a.getElementsByClassName),Eo.getById=!0,rr.find.ID=function(v,p){if(typeof p.getElementById!==Dh&&Gc){var x=p.getElementById(v);return x&&x.parentNode?[x]:[]}},rr.filter.ID=function(v){var p=v.replace(Yv,Jv);return function(x){return x.getAttribute("id")===p}},rr.find.TAG=Eo.getElementsByTagName?function(v,p){if(typeof p.getElementsByTagName!==Dh)return p.getElementsByTagName(v)}:function(v,p){var x,A=[],N=0,X=p.getElementsByTagName(v);if(v==="*"){for(;x=X[N++];)x.nodeType===1&&A.push(x);return A}return X},rr.find.CLASS=Eo.getElementsByClassName&&function(v,p){if(Gc)return p.getElementsByClassName(v)},Oh=[],jv=[],Eo.disconnectedMatch=!0,jv=jv.length&&new RegExp(jv.join("|")),Oh=Oh.length&&new RegExp(Oh.join("|")),n=O2.test(pu.compareDocumentPosition),wn=n||O2.test(pu.contains)?function(v,p){var x=v.nodeType===9?v.documentElement:v,A=p&&p.parentNode;return v===A||!!(A&&A.nodeType===1&&(x.contains?x.contains(A):v.compareDocumentPosition&&v.compareDocumentPosition(A)&16))}:function(v,p){if(p){for(;p=p.parentNode;)if(p===v)return!0}return!1},qv=n?function(v,p){if(v===p)return Ps=!0,0;var x=!v.compareDocumentPosition-!p.compareDocumentPosition;return x||(x=(v.ownerDocument||v)===(p.ownerDocument||p)?v.compareDocumentPosition(p):1,x&1||!Eo.sortDetached&&p.compareDocumentPosition(v)===x?v===a||v.ownerDocument===sc&&wn(sc,v)?-1:p===a||p.ownerDocument===sc&&wn(sc,p)?1:tv?Xv.call(tv,v)-Xv.call(tv,p):0:x&4?-1:1)}:function(v,p){if(v===p)return Ps=!0,0;var x,A=0,N=v.parentNode,X=p.parentNode,Z=[v],Q=[p];if(!N||!X)return v===a?-1:p===a?1:N?-1:X?1:tv?Xv.call(tv,v)-Xv.call(tv,p):0;if(N===X)return l_(v,p);for(x=v;x=x.parentNode;)Z.unshift(x);for(x=p;x=x.parentNode;)Q.unshift(x);for(;Z[A]===Q[A];)A++;return A?l_(Z[A],Q[A]):Z[A]===sc?-1:Q[A]===sc?1:0},a)},ga.matches=function(e,n){return ga(e,null,null,n)},ga.matchesSelector=function(e,n){if((e.ownerDocument||e)!==Zo&&Wv(e),n=n.replace($l,"='$1']"),Eo.matchesSelector&&Gc&&(!Oh||!Oh.test(n))&&(!jv||!jv.test(n)))try{var a=qd.call(e,n);if(a||Eo.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return ga(n,Zo,null,[e]).length>0},ga.contains=function(e,n){return(e.ownerDocument||e)!==Zo&&Wv(e),wn(e,n)},ga.attr=function(e,n){(e.ownerDocument||e)!==Zo&&Wv(e);var a=rr.attrHandle[n.toLowerCase()],i=a&&N3.call(rr.attrHandle,n.toLowerCase())?a(e,n,!Gc):void 0;return i!==void 0?i:Eo.attributes||!Gc?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},ga.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ga.uniqueSort=function(e){var n,a=[],i=0,l=0;if(Ps=!Eo.detectDuplicates,tv=!Eo.sortStable&&e.slice(0),e.sort(qv),Ps){for(;n=e[l++];)n===e[l]&&(i=a.push(l));for(;i--;)e.splice(a[i],1)}return tv=null,e},Ms=ga.getText=function(e){var n,a="",i=0,l=e.nodeType;if(l){if(l===1||l===9||l===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=Ms(e)}else if(l===3||l===4)return e.nodeValue}else for(;n=e[i++];)a+=Ms(n);return a},rr=ga.selectors={cacheLength:50,createPseudo:lc,match:$b,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Yv,Jv),e[3]=(e[3]||e[4]||e[5]||"").replace(Yv,Jv),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ga.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ga.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return $b.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&F3.test(a)&&(n=cs(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(Yv,Jv).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=a_[e+" "];return n||(n=new RegExp("(^|"+Ya+")"+e+"("+Ya+"|$)"))&&a_(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==Dh&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var l=ga.attr(i,e);return l==null?n==="!=":n?(l+="",n==="="?l===a:n==="!="?l!==a:n==="^="?a&&l.indexOf(a)===0:n==="*="?a&&l.indexOf(a)>-1:n==="$="?a&&l.slice(-a.length)===a:n==="~="?(" "+l+" ").indexOf(a)>-1:n==="|="?l===a||l.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,l){var v=e.slice(0,3)!=="nth",p=e.slice(-4)!=="last",x=n==="of-type";return i===1&&l===0?function(A){return!!A.parentNode}:function(A,N,X){var Z,Q,ce,ve,me,he,Oe=v!==p?"nextSibling":"previousSibling",xe=A.parentNode,qe=x&&A.nodeName.toLowerCase(),We=!X&&!x;if(xe){if(v){for(;Oe;){for(ce=A;ce=ce[Oe];)if(x?ce.nodeName.toLowerCase()===qe:ce.nodeType===1)return!1;he=Oe=e==="only"&&!he&&"nextSibling"}return!0}if(he=[p?xe.firstChild:xe.lastChild],p&&We){for(Q=xe[li]||(xe[li]={}),Z=Q[e]||[],me=Z[0]===qc&&Z[1],ve=Z[0]===qc&&Z[2],ce=me&&xe.childNodes[me];ce=++me&&ce&&ce[Oe]||(ve=me=0)||he.pop();)if(ce.nodeType===1&&++ve&&ce===A){Q[e]=[qc,me,ve];break}}else if(We&&(Z=(A[li]||(A[li]={}))[e])&&Z[0]===qc)ve=Z[1];else for(;(ce=++me&&ce&&ce[Oe]||(ve=me=0)||he.pop())&&!((x?ce.nodeName.toLowerCase()===qe:ce.nodeType===1)&&++ve&&(We&&((ce[li]||(ce[li]={}))[e]=[qc,ve]),ce===A)););return ve-=l,ve===i||ve%i===0&&ve/i>=0}}},PSEUDO:function(e,n){var a,i=rr.pseudos[e]||rr.setFilters[e.toLowerCase()]||ga.error("unsupported pseudo: "+e);return i[li]?i(n):i.length>1?(a=[e,e,"",n],rr.setFilters.hasOwnProperty(e.toLowerCase())?lc(function(l,v){for(var p,x=i(l,n),A=x.length;A--;)p=Xv.call(l,x[A]),l[p]=!(v[p]=x[A])}):function(l){return i(l,0,a)}):i}},pseudos:{not:lc(function(e){var n=[],a=[],i=A2(e.replace(Rb,"$1"));return i[li]?lc(function(l,v,p,x){for(var A,N=i(l,null,x,[]),X=l.length;X--;)(A=N[X])&&(l[X]=!(v[X]=A))}):function(l,v,p){return n[0]=l,i(n,null,p,a),n[0]=null,!a.pop()}}),has:lc(function(e){return function(n){return ga(e,n).length>0}}),contains:lc(function(e){return e=e.replace(Yv,Jv),function(n){return(n.textContent||n.innerText||Ms(n)).indexOf(e)>-1}}),lang:lc(function(e){return Rh.test(e||"")||ga.error("unsupported lang: "+e),e=e.replace(Yv,Jv).toLowerCase(),function(n){var a;do if(a=Gc?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===pu},focus:function(e){return e===Zo.activeElement&&(!Zo.hasFocus||Zo.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!rr.pseudos.empty(e)},header:function(e){return s_.test(e.nodeName)},input:function(e){return L3.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:Zv(function(){return[0]}),last:Zv(function(e,n){return[n-1]}),eq:Zv(function(e,n,a){return[a<0?a+n:a]}),even:Zv(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:Zv(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:Zv(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:Zv(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},rr.pseudos.nth=rr.pseudos.eq,He(["radio","checkbox","file","password","image"],function(e){rr.pseudos[e]=cc(e)}),He(["submit","reset"],function(e){rr.pseudos[e]=Kc(e)});function Rp(){}Rp.prototype=rr.filters=rr.pseudos,rr.setFilters=new Rp,cs=ga.tokenize=function(e,n){var a,i,l,v,p,x,A,N=Db[e+" "];if(N)return n?0:N.slice(0);for(p=e,x=[],A=rr.preFilter;p;){(!a||(i=z3.exec(p)))&&(i&&(p=p.slice(i[0].length)||p),x.push(l=[])),a=!1,(i=u_.exec(p))&&(a=i.shift(),l.push({value:a,type:i[0].replace(Rb," ")}),p=p.slice(a.length));for(v in rr.filter)rr.filter.hasOwnProperty(v)&&(i=$b[v].exec(p))&&(!A[v]||(i=A[v](i)))&&(a=i.shift(),l.push({value:a,type:v,matches:i}),p=p.slice(a.length));if(!a)break}return n?p.length:p?ga.error(e):Db(e,x).slice(0)};function Pb(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function Ib(e,n,a){var i=n.dir,l=a&&i==="parentNode",v=Op++;return n.first?function(p,x,A){for(;p=p[i];)if(p.nodeType===1||l)return e(p,x,A)}:function(p,x,A){var N,X,Z=[qc,v];if(A){for(;p=p[i];)if((p.nodeType===1||l)&&e(p,x,A))return!0}else for(;p=p[i];)if(p.nodeType===1||l){if(X=p[li]||(p[li]={}),(N=X[i])&&N[0]===qc&&N[1]===v)return Z[2]=N[2];if(X[i]=Z,Z[2]=e(p,x,A))return!0}}}function Xd(e){return e.length>1?function(n,a,i){for(var l=e.length;l--;)if(!e[l](n,a,i))return!1;return!0}:e[0]}function V3(e,n,a){for(var i=0,l=n.length;i<l;i++)ga(e,n[i],a);return a}function Nb(e,n,a,i,l){for(var v,p=[],x=0,A=e.length,N=n!=null;x<A;x++)(v=e[x])&&(!a||a(v,i,l))&&(p.push(v),N&&n.push(x));return p}function $h(e,n,a,i,l,v){return i&&!i[li]&&(i=$h(i)),l&&!l[li]&&(l=$h(l,v)),lc(function(p,x,A,N){var X,Z,Q,ce=[],ve=[],me=x.length,he=p||V3(n||"*",A.nodeType?[A]:A,[]),Oe=e&&(p||!n)?Nb(he,ce,e,A,N):he,xe=a?l||(p?e:me||i)?[]:x:Oe;if(a&&a(Oe,xe,A,N),i)for(X=Nb(xe,ve),i(X,[],A,N),Z=X.length;Z--;)(Q=X[Z])&&(xe[ve[Z]]=!(Oe[ve[Z]]=Q));if(p){if(l||e){if(l){for(X=[],Z=xe.length;Z--;)(Q=xe[Z])&&X.push(Oe[Z]=Q);l(null,xe=[],X,N)}for(Z=xe.length;Z--;)(Q=xe[Z])&&(X=l?Xv.call(p,Q):ce[Z])>-1&&(p[X]=!(x[X]=Q))}}else xe=Nb(xe===x?xe.splice(me,xe.length):xe),l?l(null,x,xe,N):Kv.apply(x,xe)})}function $p(e){for(var n,a,i,l=e.length,v=rr.relative[e[0].type],p=v||rr.relative[" "],x=v?1:0,A=Ib(function(Z){return Z===n},p,!0),N=Ib(function(Z){return Xv.call(n,Z)>-1},p,!0),X=[function(Z,Q,ce){var ve=!v&&(ce||Q!==ev)||((n=Q).nodeType?A(Z,Q,ce):N(Z,Q,ce));return n=null,ve}];x<l;x++)if(a=rr.relative[e[x].type])X=[Ib(Xd(X),a)];else{if(a=rr.filter[e[x].type].apply(null,e[x].matches),a[li]){for(i=++x;i<l&&!rr.relative[e[i].type];i++);return $h(x>1&&Xd(X),x>1&&Pb(e.slice(0,x-1).concat({value:e[x-2].type===" "?"*":""})).replace(Rb,"$1"),a,x<i&&$p(e.slice(x,i)),i<l&&$p(e=e.slice(i)),i<l&&Pb(e))}X.push(a)}return Xd(X)}function Bp(e,n){var a=n.length>0,i=e.length>0,l=function(v,p,x,A,N){var X,Z,Q,ce=0,ve="0",me=v&&[],he=[],Oe=ev,xe=v||i&&rr.find.TAG("*",N),qe=qc+=Oe==null?1:Math.random()||.1,We=xe.length;for(N&&(ev=p!==Zo&&p);ve!==We&&(X=xe[ve])!=null;ve++){if(i&&X){for(Z=0;Q=e[Z++];)if(Q(X,p,x)){A.push(X);break}N&&(qc=qe)}a&&((X=!Q&&X)&&ce--,v&&me.push(X))}if(ce+=ve,a&&ve!==ce){for(Z=0;Q=n[Z++];)Q(me,he,p,x);if(v){if(ce>0)for(;ve--;)me[ve]||he[ve]||(he[ve]=E2.call(A));he=Nb(he)}Kv.apply(A,he),N&&!v&&he.length>0&&ce+n.length>1&&ga.uniqueSort(A)}return N&&(qc=qe,ev=Oe),me};return a?lc(l):l}A2=ga.compile=function(e,n){var a,i=[],l=[],v=Gv[e+" "];if(!v){for(n||(n=cs(e)),a=n.length;a--;)v=$p(n[a]),v[li]?i.push(v):l.push(v);v=Gv(e,Bp(l,i)),v.selector=e}return v},jc=ga.select=function(e,n,a,i){var l,v,p,x,A,N=typeof e=="function"&&e,X=!i&&cs(e=N.selector||e);if(a=a||[],X.length===1){if(v=X[0]=X[0].slice(0),v.length>2&&(p=v[0]).type==="ID"&&Eo.getById&&n.nodeType===9&&Gc&&rr.relative[v[1].type]){if(n=(rr.find.ID(p.matches[0].replace(Yv,Jv),n)||[])[0],n)N&&(n=n.parentNode);else return a;e=e.slice(v.shift().value.length)}for(l=$b.needsContext.test(e)?0:v.length;l--&&(p=v[l],!rr.relative[x=p.type]);)if((A=rr.find[x])&&(i=A(p.matches[0].replace(Yv,Jv),R2.test(v[0].type)&&Mb(n.parentNode)||n))){if(v.splice(l,1),e=i.length&&Pb(v),!e)return Kv.apply(a,i),a;break}}return(N||A2(e,X))(i,n,!Gc,a,R2.test(e)&&Mb(n.parentNode)||n),a},Eo.sortStable=li.split("").sort(qv).join("")===li,Eo.detectDuplicates=!!Ps,Wv(),Eo.sortDetached=!0;var $2=document,Wo=Array.prototype.push,Yd=Array.prototype.slice,Io=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bu=Th.Event,Jd=yt.makeMap("children,contents,next,prev"),Ns=function(e){return typeof e<"u"},zb=function(e){return typeof e=="string"},Xc=function(e){return e&&e===e.window},Bh=function(e,n){n=n||$2;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var l;l=a.firstChild;)i.appendChild(l);return i},Mh=function(e,n,a,i){var l;if(zb(n))n=Bh(n,Qv(e[0]));else if(n.length&&!n.nodeType){if(n=fr.makeArray(n),i)for(l=n.length-1;l>=0;l--)Mh(e,n[l],a,i);else for(l=0;l<n.length;l++)Mh(e,n[l],a,i);return e}if(n.nodeType)for(l=e.length;l--;)a.call(e[l],n);return e},c_=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},f_=function(e,n,a){var i,l;return n=fr(n)[0],e.each(function(){var v=this;(!a||i!==v.parentNode)&&(i=v.parentNode,l=n.cloneNode(!1),v.parentNode.insertBefore(l,v)),l.appendChild(v)}),e},U3=yt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),W3=yt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),j3={for:"htmlFor",class:"className",readonly:"readOnly"},v_={float:"cssFloat"},Fb={},Lb={},Ri=function(e,n){return new fr.fn.init(e,n)},Hb=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},B2=/^\s*|\s*$/g,rl=function(e){return e==null?"":(""+e).replace(B2,"")},La=function(e,n){var a,i,l,v;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(v=e[i],n.call(v,i,v)===!1))break}else for(l=0;l<a&&(v=e[l],n.call(v,l,v)!==!1);l++);return e},zs=function(e,n){var a=[];return La(e,function(i,l){n(l,i)&&a.push(l)}),a},Qv=function(e){return e?e.nodeType===9?e:e.ownerDocument:$2};Ri.fn=Ri.prototype={constructor:Ri,selector:"",context:null,length:0,init:function(e,n){var a=this,i,l;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return fr(e).attr(n);a.context=n=document}if(zb(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=Io.exec(e),i)if(i[1])for(l=Bh(e,Qv(n)).firstChild;l;)Wo.call(a,l),l=l.nextSibling;else{if(l=Qv(n).getElementById(i[2]),!l)return a;if(l.id!==i[2])return a.find(e);a.length=1,a[0]=l}else return fr(n).find(e);else this.add(e,!1);return a},toArray:function(){return yt.toArray(this)},add:function(e,n){var a=this,i,l;if(zb(e))return a.add(fr(e));if(n!==!1)for(i=fr.unique(a.toArray().concat(fr.makeArray(e))),a.length=i.length,l=0;l<i.length;l++)a[l]=i[l];else Wo.apply(a,fr.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")La(e,function(l,v){a.attr(l,v)});else if(Ns(n))this.each(function(){var l;if(this.nodeType===1){if(l=Fb[e],l&&l.set){l.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=Fb[e],i&&i.get)return i.get(a[0],e);if(W3[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=j3[e]||e,typeof e=="object")La(e,function(i,l){a.prop(i,l)});else if(Ns(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,l,v=function(x){return x.replace(/-(\D)/g,function(A,N){return N.toUpperCase()})},p=function(x){return x.replace(/[A-Z]/g,function(A){return"-"+A})};if(typeof e=="object")La(e,function(x,A){a.css(x,A)});else if(Ns(n))e=v(e),typeof n=="number"&&!U3[e]&&(n=n.toString()+"px"),a.each(function(){var x=this.style;if(l=Lb[e],l&&l.set){l.set(this,n);return}try{this.style[v_[e]||e]=n}catch{}(n===null||n==="")&&(x.removeProperty?x.removeProperty(p(e)):x.removeAttribute(e))});else{if(i=a[0],l=Lb[e],l&&l.get)return l.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(p(e))}catch{return}else return i.currentStyle?i.currentStyle[v(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],bu.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(Ns(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch{fr(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(Ns(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Mh(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Mh(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Mh(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Mh(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return fr(e).append(this),this},prependTo:function(e){return fr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return f_(this,e)},wrapAll:function(e){return f_(this,e,!0)},wrapInner:function(e){return this.each(function(){fr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){fr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),fr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?La(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,l){var v=c_(l,e);if(v!==n){var p=l.className;v?l.className=rl((" "+p+" ").replace(" "+e+" "," ")):l.className+=p?" "+e:e}})),a},hasClass:function(e){return c_(this[0],e)},each:function(e){return La(this,e)},on:function(e,n){return this.each(function(){bu.bind(this,e,n)})},off:function(e,n){return this.each(function(){bu.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?bu.fire(this,e.type,e):bu.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return fr(Yd.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)fr.find(e,this[n],i);return fr(i)},filter:function(e){return fr(typeof e=="function"?zs(this.toArray(),function(n,a){return e(a,n)}):fr.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof fr&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&fr(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),fr(n)},offset:function(e){var n,a,i,l=0,v=0,p;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(p=n.getBoundingClientRect(),l=p.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,v=p.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:l,top:v})},push:Wo,sort:Array.prototype.sort,splice:Array.prototype.splice},yt.extend(Ri,{extend:yt.extend,makeArray:function(e){return Xc(e)||e.nodeType?[e]:yt.toArray(e)},inArray:Hb,isArray:yt.isArray,each:La,trim:rl,grep:zs,find:ga,expr:ga.selectors,unique:ga.uniqueSort,text:ga.getText,contains:ga.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=fr.find.matchesSelector(n[0],e)?[n[0]]:[]:n=fr.find.matches(e,n),n}});var M2=function(e,n,a){var i=[],l=e[n];for(typeof a!="string"&&a instanceof fr&&(a=a[0]);l&&l.nodeType!==9&&!(a!==void 0&&(l===a||typeof a=="string"&&fr(l).is(a)));)l.nodeType===1&&i.push(l),l=l[n];return i},Vb=function(e,n,a,i){var l=[];for(i instanceof fr&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&fr(e).is(i)))break;l.push(e)}return l},d_=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};La({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return M2(e,"parentNode")},next:function(e){return d_(e,"nextSibling",1)},prev:function(e){return d_(e,"previousSibling",1)},children:function(e){return Vb(e.firstChild,"nextSibling",1)},contents:function(e){return yt.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){Ri.fn[e]=function(a){var i=this,l=[];i.each(function(){var p=n.call(l,this,a,l);p&&(fr.isArray(p)?l.push.apply(l,p):l.push(p))}),this.length>1&&(Jd[e]||(l=fr.unique(l)),e.indexOf("parents")===0&&(l=l.reverse()));var v=fr(l);return a?v.filter(a):v}}),La({parentsUntil:function(e,n){return M2(e,"parentNode",n)},nextUntil:function(e,n){return Vb(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return Vb(e,"previousSibling",1,n).slice(1)}},function(e,n){Ri.fn[e]=function(a,i){var l=this,v=[];l.each(function(){var x=n.call(v,this,a,v);x&&(fr.isArray(x)?v.push.apply(v,x):v.push(x))}),this.length>1&&(v=fr.unique(v),(e.indexOf("parents")===0||e==="prevUntil")&&(v=v.reverse()));var p=fr(v);return i?p.filter(i):p}}),Ri.fn.is=function(e){return!!e&&this.filter(e).length>0},Ri.fn.init.prototype=Ri.fn,Ri.overrideDefaults=function(e){var n,a=function(i,l){return n=n||e(),arguments.length===0&&(i=n.element),l||(l=n.context),new a.fn.init(i,l)};return fr.extend(a,this),a},Ri.attrHooks=Fb,Ri.cssHooks=Lb;var fr=Ri,Ph=yt.each,Ub=yt.grep,P2=Hn.ie,jo=/^([a-z0-9],?)+$/i,al=function(e,n,a){var i=n.keep_values,l={set:function(p,x,A){n.url_converter&&x!==null&&(x=n.url_converter.call(n.url_converter_scope||a(),x,A,p[0])),p.attr("data-mce-"+A,x).attr(A,x)},get:function(p,x){return p.attr("data-mce-"+x)||p.attr(x)}},v={style:{set:function(p,x){if(x!==null&&typeof x=="object"){p.css(x);return}i&&p.attr("data-mce-style",x),x!==null&&typeof x=="string"?(p.removeAttr("style"),p.css(e.parse(x))):p.attr("style",x)},get:function(p){var x=p.attr("data-mce-style")||p.attr("style");return x=e.serialize(e.parse(x),p[0].nodeName),x}}};return i&&(v.href=v.src=l),v},m_=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},Zd=function(e,n){var a=0,i,l;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)l=e.nodeType,!(n&&l===3&&(l===i||!e.nodeValue.length))&&(a++,i=l);return a},Ma=function(e,n){n===void 0&&(n={});var a={},i=window,l={},v=0,p=!0,x=!0,A=Al.forElement(je.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),N=[],X=n.schema?n.schema:Bs({}),Z=Rl({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),Q=n.ownEvents?new Th:Th.Event,ce=X.getBlockElements(),ve=fr.overrideDefaults(function(){return{context:e,element:Nm.getRoot()}}),me=function(Ie){if(typeof Ie=="string")return!!ce[Ie];if(Ie){var st=Ie.nodeType;if(st)return!!(st===1&&ce[Ie.nodeName])}return!1},he=function(Ie){return Ie&&e&&$e(Ie)?e.getElementById(Ie):Ie},Oe=function(Ie){return ve(typeof Ie=="string"?he(Ie):Ie)},xe=function(Ie,st,Ut){var nn,gr,jr=Oe(Ie);return jr.length&&(nn=s5[st],nn&&nn.get?gr=nn.get(jr,st):gr=jr.attr(st)),typeof gr>"u"&&(gr=Ut||""),gr},qe=function(Ie){var st=he(Ie);return st?st.attributes:[]},We=function(Ie,st,Ut){Ut===""&&(Ut=null);var nn=Oe(Ie),gr=nn.attr(st);if(nn.length){var jr=s5[st];jr&&jr.set?jr.set(nn,Ut,st):nn.attr(st,Ut),gr!==Ut&&n.onSetAttrib&&n.onSetAttrib({attrElm:nn,attrName:st,attrValue:Ut})}},Re=function(Ie,st){if(!P2||Ie.nodeType!==1||st)return Ie.cloneNode(st);var Ut=e.createElement(Ie.nodeName);return Ph(qe(Ie),function(nn){We(Ut,nn.nodeName,xe(Ie,nn.nodeName))}),Ut},Ze=function(){return n.root_element||e.body},St=function(Ie){var st=jf(Ie);return{x:st.x,y:st.y,w:st.width,h:st.height}},Ft=function(Ie,st){return pp(e.body,he(Ie),st)},Vn=function(Ie,st,Ut){var nn=$e(st)?Oe(Ie).css(st,Ut):Oe(Ie).css(st);n.update_styles&&m_(Z,nn)},mn=function(Ie,st){var Ut=Oe(Ie).css(st);n.update_styles&&m_(Z,Ut)},$t=function(Ie,st,Ut){var nn=Oe(Ie);return Ut?nn.css(st):(st=st.replace(/-(\D)/g,function(gr,jr){return jr.toUpperCase()}),st==="float"&&(st=Hn.browser.isIE()?"styleFloat":"cssFloat"),nn[0]&&nn[0].style?nn[0].style[st]:void 0)},Ln=function(Ie){var st,Ut;return Ie=he(Ie),st=$t(Ie,"width"),Ut=$t(Ie,"height"),st.indexOf("px")===-1&&(st=0),Ut.indexOf("px")===-1&&(Ut=0),{w:parseInt(st,10)||Ie.offsetWidth||Ie.clientWidth,h:parseInt(Ut,10)||Ie.offsetHeight||Ie.clientHeight}},Vt=function(Ie){Ie=he(Ie);var st=Ft(Ie),Ut=Ln(Ie);return{x:st.x,y:st.y,w:Ut.w,h:Ut.h}},vn=function(Ie,st){var Ut;if(!Ie)return!1;if(!Array.isArray(Ie)){if(st==="*")return Ie.nodeType===1;if(jo.test(st)){var nn=st.toLowerCase().split(/,/),gr=Ie.nodeName.toLowerCase();for(Ut=nn.length-1;Ut>=0;Ut--)if(nn[Ut]===gr)return!0;return!1}if(Ie.nodeType&&Ie.nodeType!==1)return!1}var jr=Array.isArray(Ie)?Ie:[Ie];return ga(st,jr[0].ownerDocument||jr[0],null,jr).length>0},jt=function(Ie,st,Ut,nn){var gr=[],jr,Ja=he(Ie);for(nn=nn===void 0,Ut=Ut||(Ze().nodeName!=="BODY"?Ze().parentNode:null),yt.is(st,"string")&&(jr=st,st==="*"?st=function(Yg){return Yg.nodeType===1}:st=function(Yg){return vn(Yg,jr)});Ja&&!(Ja===Ut||ke(Ja.nodeType)||gp(Ja)||cr(Ja));){if(!st||typeof st=="function"&&st(Ja))if(nn)gr.push(Ja);else return[Ja];Ja=Ja.parentNode}return nn?gr:null},Zt=function(Ie,st,Ut){var nn=jt(Ie,st,Ut,!1);return nn&&nn.length>0?nn[0]:null},yn=function(Ie,st,Ut){var nn=st;if(Ie){for(typeof st=="string"&&(nn=function(gr){return vn(gr,st)}),Ie=Ie[Ut];Ie;Ie=Ie[Ut])if(typeof nn=="function"&&nn(Ie))return Ie}return null},Pt=function(Ie,st){return yn(Ie,st,"nextSibling")},hn=function(Ie,st){return yn(Ie,st,"previousSibling")},xr=function(Ie,st){return ga(Ie,he(st)||n.root_element||e,[])},na=function(Ie,st,Ut){var nn,gr=typeof Ie=="string"?he(Ie):Ie;if(!gr)return!1;if(yt.isArray(gr)&&(gr.length||gr.length===0))return nn=[],Ph(gr,function(Ja,Yg){Ja&&nn.push(st.call(Ut,typeof Ja=="string"?he(Ja):Ja,Yg))}),nn;var jr=Ut||this;return st.call(jr,gr)},Jr=function(Ie,st){Oe(Ie).each(function(Ut,nn){Ph(st,function(gr,jr){We(nn,jr,gr)})})},zi=function(Ie,st){var Ut=Oe(Ie);P2?Ut.each(function(nn,gr){if(gr.canHaveHTML!==!1){for(;gr.firstChild;)gr.removeChild(gr.firstChild);try{gr.innerHTML="<br>"+st,gr.removeChild(gr.firstChild)}catch{fr("<div></div>").html("<br>"+st).contents().slice(1).appendTo(gr)}return st}}):Ut.html(st)},uo=function(Ie,st,Ut,nn,gr){return na(Ie,function(jr){var Ja=typeof st=="string"?e.createElement(st):st;return Jr(Ja,Ut),nn&&(typeof nn!="string"&&nn.nodeType?Ja.appendChild(nn):typeof nn=="string"&&zi(Ja,nn)),gr?Ja:jr.appendChild(Ja)})},ju=function(Ie,st,Ut){return uo(e.createElement(Ie),Ie,st,Ut,!0)},ps=$s.decode,It=$s.encodeAllRaw,qt=function(Ie,st,Ut){var nn="",gr;nn+="<"+Ie;for(gr in st)Gs(st,gr)&&(nn+=" "+gr+'="'+It(st[gr])+'"');return typeof Ut<"u"?nn+">"+Ut+"</"+Ie+">":nn+" />"},Dn=function(Ie){var st,Ut=e.createElement("div"),nn=e.createDocumentFragment();for(nn.appendChild(Ut),Ie&&(Ut.innerHTML=Ie);st=Ut.firstChild;)nn.appendChild(st);return nn.removeChild(Ut),nn},nt=function(Ie,st){var Ut=Oe(Ie);return st?Ut.each(function(){for(var nn;nn=this.firstChild;)nn.nodeType===3&&nn.data.length===0?this.removeChild(nn):this.parentNode.insertBefore(nn,this)}).remove():Ut.remove(),Ut.length>1?Ut.toArray():Ut[0]},Ht=function(Ie){return na(Ie,function(st){var Ut,nn=st.attributes;for(Ut=nn.length-1;Ut>=0;Ut--)st.removeAttributeNode(nn.item(Ut))})},Nt=function(Ie){return Z.parse(Ie)},Bn=function(Ie,st){return Z.serialize(Ie,st)},Nn=function(Ie){var st,Ut;if(Nm!==Ma.DOM&&e===document){if(a[Ie])return;a[Ie]=!0}Ut=e.getElementById("mceDefaultStyles"),Ut||(Ut=e.createElement("style"),Ut.id="mceDefaultStyles",Ut.type="text/css",st=e.getElementsByTagName("head")[0],st.firstChild?st.insertBefore(Ut,st.firstChild):st.appendChild(Ut)),Ut.styleSheet?Ut.styleSheet.cssText+=Ie:Ut.appendChild(e.createTextNode(Ie))},Aa=function(Ie){Ie||(Ie=""),He(Ie.split(","),function(st){l[st]=!0,A.load(st,ye)})},ni=function(Ie,st,Ut){Oe(Ie).toggleClass(st,Ut).each(function(){this.className===""&&fr(this).attr("class",null)})},Yo=function(Ie,st){Oe(Ie).addClass(st)},Im=function(Ie,st){ni(Ie,st,!1)},Gu=function(Ie,st){return Oe(Ie).hasClass(st)},Eu=function(Ie){Oe(Ie).show()},gi=function(Ie){Oe(Ie).hide()},Vl=function(Ie){return Oe(Ie).css("display")==="none"},qu=function(Ie){return(Ie||"mce_")+v++},Sf=function(Ie){var st=typeof Ie=="string"?he(Ie):Ie;return Kn(st)?st.outerHTML:fr("<div></div>").append(fr(st).clone()).html()},Oa=function(Ie,st){Oe(Ie).each(function(){try{if("outerHTML"in this){this.outerHTML=st;return}}catch{}nt(fr(this).html(st),!0)})},Ha=function(Ie,st){var Ut=he(st);return na(Ie,function(nn){var gr=Ut.parentNode,jr=Ut.nextSibling;return jr?gr.insertBefore(nn,jr):gr.appendChild(nn),nn})},pi=function(Ie,st,Ut){return na(st,function(nn){return yt.is(nn,"array")&&(Ie=Ie.cloneNode(!0)),Ut&&Ph(Ub(nn.childNodes),function(gr){Ie.appendChild(gr)}),nn.parentNode.replaceChild(Ie,nn)})},bs=function(Ie,st){var Ut;return Ie.nodeName!==st.toUpperCase()&&(Ut=ju(st),Ph(qe(Ie),function(nn){We(Ut,nn.nodeName,xe(Ie,nn.nodeName))}),pi(Ut,Ie,!0)),Ut||Ie},Sv=function(Ie,st){for(var Ut=Ie,nn;Ut;){for(nn=st;nn&&Ut!==nn;)nn=nn.parentNode;if(Ut===nn)break;Ut=Ut.parentNode}return!Ut&&Ie.ownerDocument?Ie.ownerDocument.documentElement:Ut},_v=function(Ie){return Z.toHex(yt.trim(Ie))},Xg=function(Ie){if(Kn(Ie)){var st=Ie.nodeName.toLowerCase()==="a"&&!xe(Ie,"href")&&xe(Ie,"id");if(xe(Ie,"name")||xe(Ie,"data-mce-bookmark")||st)return!0}return!1},Fy=function(Ie,st){var Ut,nn,gr=0;if(Xg(Ie))return!1;if(Ie=Ie.firstChild,Ie){var jr=new sa(Ie,Ie.parentNode),Ja=X?X.getWhiteSpaceElements():{};st=st||(X?X.getNonEmptyElements():null);do{if(Ut=Ie.nodeType,Kn(Ie)){var Yg=Ie.getAttribute("data-mce-bogus");if(Yg){Ie=jr.next(Yg==="all");continue}if(nn=Ie.nodeName.toLowerCase(),st&&st[nn]){if(nn==="br"){gr++,Ie=jr.next();continue}return!1}if(Xg(Ie))return!1}if(Ut===8||Ut===3&&!Tl(Ie.nodeValue)||Ut===3&&Ie.parentNode&&Ja[Ie.parentNode.nodeName]&&Tl(Ie.nodeValue))return!1;Ie=jr.next()}while(Ie)}return gr<=1},qA=function(){return e.createRange()},OM=function(Ie,st,Ut){var nn=qA(),gr,jr,Ja;if(Ie&&st)return nn.setStart(Ie.parentNode,Zd(Ie)),nn.setEnd(st.parentNode,Zd(st)),gr=nn.extractContents(),nn=qA(),nn.setStart(st.parentNode,Zd(st)+1),nn.setEnd(Ie.parentNode,Zd(Ie)+1),jr=nn.extractContents(),Ja=Ie.parentNode,Ja.insertBefore(p2(Nm,gr),Ie),Ut?Ja.insertBefore(Ut,Ie):Ja.insertBefore(st,Ie),Ja.insertBefore(p2(Nm,jr),Ie),nt(Ie),Ut||st},DM=function(Ie,st,Ut,nn){if(yt.isArray(Ie)){for(var gr=Ie.length,jr=[];gr--;)jr[gr]=DM(Ie[gr],st,Ut,nn);return jr}n.collect&&(Ie===e||Ie===i)&&N.push([Ie,st,Ut,nn]);var Ja=Q.bind(Ie,st,Ut,nn||Nm);return Ja},i5=function(Ie,st,Ut){if(yt.isArray(Ie)){for(var nn=Ie.length,gr=[];nn--;)gr[nn]=i5(Ie[nn],st,Ut);return gr}else{if(N.length>0&&(Ie===e||Ie===i))for(var nn=N.length;nn--;){var jr=N[nn];Ie===jr[0]&&(!st||st===jr[1])&&(!Ut||Ut===jr[2])&&Q.unbind(jr[0],jr[1],jr[2])}return Q.unbind(Ie,st,Ut)}},r7=function(Ie,st,Ut){return Q.fire(Ie,st,Ut)},RM=function(Ie){if(Ie&&Kn(Ie)){var st=Ie.getAttribute("data-mce-contenteditable");return st&&st!=="inherit"?st:Ie.contentEditable!=="inherit"?Ie.contentEditable:null}else return null},a7=function(Ie){for(var st=Ze(),Ut=null;Ie&&Ie!==st&&(Ut=RM(Ie),Ut===null);Ie=Ie.parentNode);return Ut},$M=function(){if(N.length>0)for(var Ie=N.length;Ie--;){var st=N[Ie];Q.unbind(st[0],st[1],st[2])}Hr(l,function(Ut,nn){A.unload(nn),delete l[nn]}),ga.setDocument&&ga.setDocument()},u5=function(Ie,st){if(P2){for(;Ie;){if(st===Ie)return!0;Ie=Ie.parentNode}return!1}else return Ie===st||st.contains(Ie)},o7=function(Ie){return"startContainer: "+Ie.startContainer.nodeName+", startOffset: "+Ie.startOffset+", endContainer: "+Ie.endContainer.nodeName+", endOffset: "+Ie.endOffset},Nm={doc:e,settings:n,win:i,files:l,stdMode:p,boxModel:x,styleSheetLoader:A,boundEvents:N,styles:Z,schema:X,events:Q,isBlock:me,$:ve,$$:Oe,root:null,clone:Re,getRoot:Ze,getViewPort:St,getRect:Vt,getSize:Ln,getParent:Zt,getParents:jt,get:he,getNext:Pt,getPrev:hn,select:xr,is:vn,add:uo,create:ju,createHTML:qt,createFragment:Dn,remove:nt,setStyle:Vn,getStyle:$t,setStyles:mn,removeAllAttribs:Ht,setAttrib:We,setAttribs:Jr,getAttrib:xe,getPos:Ft,parseStyle:Nt,serializeStyle:Bn,addStyle:Nn,loadCSS:Aa,addClass:Yo,removeClass:Im,hasClass:Gu,toggleClass:ni,show:Eu,hide:gi,isHidden:Vl,uniqueId:qu,setHTML:zi,getOuterHTML:Sf,setOuterHTML:Oa,decode:ps,encode:It,insertAfter:Ha,replace:pi,rename:bs,findCommonAncestor:Sv,toHex:_v,run:na,getAttribs:qe,isEmpty:Fy,createRng:qA,nodeIndex:Zd,split:OM,bind:DM,unbind:i5,fire:r7,getContentEditable:RM,getContentEditableParent:a7,destroy:$M,isChildOf:u5,dumpRng:o7},s5=al(Z,n,U(Nm));return Nm};Ma.DOM=Ma(document),Ma.nodeIndex=Zd;var Qd=Ma.DOM,Wb=yt.each,Ih=yt.grep,I2=0,h_=1,Mp=2,g_=3,nv=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var l=Qd,v,p=function(){l.remove(N),v&&(v.onerror=v.onload=v=null)},x=function(){p(),a()},A=function(){p(),le(i)?i():typeof console<"u"&&console.log&&console.log("Failed to load script: "+n)},N=l.uniqueId();v=document.createElement("script"),v.id=N,v.type="text/javascript",v.src=yt._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(v,"referrerpolicy",this.settings.referrerPolicy),v.onload=x,v.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(v)},e.prototype.isDone=function(n){return this.states[n]===Mp},e.prototype.markDone=function(n){this.states[n]=Mp},e.prototype.add=function(n,a,i,l){var v=this.states[n];this.queue.push(n),v===void 0&&(this.states[n]=I2),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:l,scope:i||this}))},e.prototype.load=function(n,a,i,l){return this.add(n,a,i,l)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,l){var v=this,p=[],x=function(N,X){Wb(v.scriptLoadedCallbacks[X],function(Z){le(Z[N])&&Z[N].call(Z.scope)}),v.scriptLoadedCallbacks[X]=void 0};v.queueLoadedCallbacks.push({success:a,failure:l,scope:i||this});var A=function(){var N=Ih(n);if(n.length=0,Wb(N,function(Z){if(v.states[Z]===Mp){x("success",Z);return}if(v.states[Z]===g_){x("failure",Z);return}v.states[Z]!==h_&&(v.states[Z]=h_,v.loading++,v.loadScript(Z,function(){v.states[Z]=Mp,v.loading--,x("success",Z),A()},function(){v.states[Z]=g_,v.loading--,p.push(Z),x("failure",Z),A()}))}),!v.loading){var X=v.queueLoadedCallbacks.slice(0);v.queueLoadedCallbacks.length=0,Wb(X,function(Z){p.length===0?le(Z.success)&&Z.success.call(Z.scope):le(Z.failure)&&Z.failure.call(Z.scope,p)})}};A()},e.ScriptLoader=new e,e}(),yu=function(e){var n=e,a=function(){return n},i=function(l){n=l};return{get:a,set:i}},N2=function(e){return de(e)&&Ar(e,"raw")},G3=function(e){return Be(e)&&e.length>1},fc={},rv=yu("en"),jb=function(){return Pr(fc,rv.get())},q3=function(){return Si(fc,function(e){return Wn({},e)})},K3=function(e){e&&rv.set(e)},em=function(){return rv.get()},tm=function(e,n){var a=fc[e];a||(fc[e]=a={}),Hr(n,function(i,l){a[l.toLowerCase()]=i})},Gb=function(e){var n=jb().getOr({}),a=function(A){return le(A)?Object.prototype.toString.call(A):i(A)?"":""+A},i=function(A){return A===""||A===null||A===void 0},l=function(A){var N=a(A);return Pr(n,N.toLowerCase()).map(a).getOr(N)},v=function(A){return A.replace(/{context:\w+}$/,"")};if(i(e))return"";if(N2(e))return a(e.raw);if(G3(e)){var p=e.slice(1),x=l(e[0]).replace(/\{([0-9]+)\}/g,function(A,N){return Ar(p,N)?a(p[N]):A});return v(x)}return v(l(e))},Xr=function(){return jb().bind(function(e){return Pr(e,"_dir")}).exists(function(e){return e==="rtl"})},Go=function(e){return Ar(fc,e)},wu={getData:q3,setCode:K3,getCode:em,add:tm,translate:Gb,isRtl:Xr,hasCode:Go},zu=function(){var e=[],n={},a={},i=[],l=function(me,he){var Oe=it(i,function(xe){return xe.name===me&&xe.state===he});He(Oe,function(xe){return xe.callback()})},v=function(me){if(a[me])return a[me].instance},p=function(me){var he;return a[me]&&(he=a[me].dependencies),he||[]},x=function(me,he){zu.languageLoad!==!1&&ve(me,function(){var Oe=wu.getCode(),xe=","+(he||"")+",";!Oe||he&&xe.indexOf(","+Oe+",")===-1||nv.ScriptLoader.add(n[me]+"/langs/"+Oe+".js")},"loaded")},A=function(me,he,Oe){var xe=he;return e.push(xe),a[me]={instance:xe,dependencies:Oe},l(me,"added"),xe},N=function(me){delete n[me],delete a[me]},X=function(me,he){return typeof he=="object"?he:typeof me=="string"?{prefix:"",resource:he,suffix:""}:{prefix:me.prefix,resource:he,suffix:me.suffix}},Z=function(me,he){var Oe=n[me];He(he,function(xe){nv.ScriptLoader.add(Oe+"/"+xe)})},Q=function(me,he,Oe,xe){var qe=p(me);He(qe,function(We){var Re=X(he,We);ce(Re.resource,Re,void 0,void 0)}),Oe&&(xe?Oe.call(xe):Oe.call(nv))},ce=function(me,he,Oe,xe,qe){if(!n[me]){var We=typeof he=="string"?he:he.prefix+he.resource+he.suffix;We.indexOf("/")!==0&&We.indexOf("://")===-1&&(We=zu.baseURL+"/"+We),n[me]=We.substring(0,We.lastIndexOf("/"));var Re=function(){l(me,"loaded"),Q(me,he,Oe,xe)};a[me]?Re():nv.ScriptLoader.add(We,Re,xe,qe)}},ve=function(me,he,Oe){Oe===void 0&&(Oe="added"),Ar(a,me)&&Oe==="added"||Ar(n,me)&&Oe==="loaded"?he():i.push({name:me,state:Oe,callback:he})};return{items:e,urls:n,lookup:a,_listeners:i,get:v,dependencies:p,requireLangPack:x,add:A,remove:N,createUrl:X,addComponents:Z,load:ce,waitFor:ve}};zu.languageLoad=!0,zu.baseURL="",zu.PluginManager=zu(),zu.ThemeManager=zu();var ka=function(e){var n=yu(te.none()),a=function(){return n.get().each(e)},i=function(){a(),n.set(te.none())},l=function(){return n.get().isSome()},v=function(){return n.get()},p=function(x){a(),n.set(te.some(x))};return{clear:i,isSet:l,get:v,set:p}},ed=function(){var e=ka(ye),n=function(a){return e.get().each(a)};return Wn(Wn({},e),{on:n})},qb=function(e,n){var a=null,i=function(){ue(a)||(clearTimeout(a),a=null)},l=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];ue(a)&&(a=setTimeout(function(){a=null,e.apply(null,v)},n))};return{cancel:i,throttle:l}},Qo=function(e,n){var a=null,i=function(){ue(a)||(clearTimeout(a),a=null)},l=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];i(),a=setTimeout(function(){a=null,e.apply(null,v)},n)};return{cancel:i,throttle:l}},Yc=function(e,n){var a=re(e,n);return a===void 0||a===""?[]:a.split(" ")},X3=function(e,n,a){var i=Yc(e,n),l=i.concat([a]);return M(e,n,l.join(" ")),!0},Y3=function(e,n,a){var i=it(Yc(e,n),function(l){return l!==a});return i.length>0?M(e,n,i.join(" ")):bt(e,n),!1},Kb=function(e){return e.dom.classList!==void 0},Xb=function(e){return Yc(e,"class")},z2=function(e,n){return X3(e,"class",n)},F2=function(e,n){return Y3(e,"class",n)},nm=function(e,n){Kb(e)?e.dom.classList.add(n):z2(e,n)},Pp=function(e){var n=Kb(e)?e.dom.classList:Xb(e);n.length===0&&bt(e,"class")},L2=function(e,n){if(Kb(e)){var a=e.dom.classList;a.remove(n)}else F2(e,n);Pp(e)},H2=function(e,n){return Kb(e)&&e.dom.classList.contains(n)},Nh=function(e,n){var a=[];return He(Qi(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(Nh(i,n))}),a},$i=function(e,n){return fb(n,e)},fs=U("mce-annotation"),Ip=U("data-mce-annotation"),qo=U("data-mce-annotation-uid"),Yb=function(e,n){var a=e.selection.getRng(),i=je.fromDom(a.startContainer),l=je.fromDom(e.getBody()),v=n.fold(function(){return"."+fs()},function(N){return"["+Ip()+'="'+N+'"]'}),p=ec(i,a.startOffset).getOr(i),x=yo(p,v,function(N){return $a(N,l)}),A=function(N,X){return Ge(N,X)?te.some(re(N,X)):te.none()};return x.bind(function(N){return A(N,""+qo()).bind(function(X){return A(N,""+Ip()).map(function(Z){var Q=V2(e,X);return{uid:X,name:Z,elements:Q}})})})},av=function(e){return za(e)&&H2(e,fs())},V2=function(e,n){var a=je.fromDom(e.getBody());return $i(a,"["+qo()+'="'+n+'"]')},U2=function(e,n){var a=je.fromDom(e.getBody()),i=$i(a,"["+Ip()+'="'+n+'"]'),l={};return He(i,function(v){var p=re(v,qo()),x=Pr(l,p).getOr([]);l[p]=x.concat([v])}),l},p_=function(e,n){var a=yu({}),i=function(){return{listeners:[],previous:ed()}},l=function(X,Z){v(X,function(Q){return Z(Q),Q})},v=function(X,Z){var Q=a.get(),ce=Pr(Q,X).getOrThunk(i),ve=Z(ce);Q[X]=ve,a.set(Q)},p=function(X,Z,Q){l(X,function(ce){He(ce.listeners,function(ve){return ve(!0,X,{uid:Z,nodes:et(Q,function(me){return me.dom})})})})},x=function(X){l(X,function(Z){He(Z.listeners,function(Q){return Q(!1,X)})})},A=Qo(function(){var X=a.get(),Z=Zr(Zi(X));He(Z,function(Q){v(Q,function(ce){var ve=ce.previous.get();return Yb(e,te.some(Q)).fold(function(){ve.isSome()&&(x(Q),ce.previous.clear())},function(me){var he=me.uid,Oe=me.name,xe=me.elements;zd(ve,he)||(p(Oe,he,xe),ce.previous.set(he))}),{previous:ce.previous,listeners:ce.listeners}})})},30);e.on("remove",function(){A.cancel()}),e.on("NodeChange",function(){A.throttle()});var N=function(X,Z){v(X,function(Q){return{previous:Q.previous,listeners:Q.listeners.concat([Z])}})};return{addListener:N}},W2=function(e,n){var a=function(i){return te.from(i.attr(Ip())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){He(i,function(l){a(l).each(function(v){v.persistent===!1&&l.unwrap()})})})})},Np=function(){var e={},n=function(i,l){e[i]={name:i,settings:l}},a=function(i){return Pr(e,i).map(function(l){return l.settings})};return{register:n,lookup:a}},Jb=0,b_=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return Jb++,e+"_"+i+Jb+String(a)},J3=function(e,n){He(n,function(a){nm(e,a)})},Xi=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,Qi(je.fromDom(i))},ei=function(e){return et(e,je.fromDom)},Cu=function(e){return e.dom.innerHTML},Su=function(e,n){var a=_l(e),i=a.dom,l=je.fromDom(i.createDocumentFragment()),v=Xi(n,i);Lf(l,v),Hf(e),Ho(e,l)},Fu=function(e,n){return je.fromDom(e.dom.cloneNode(n))},No=function(e){return Fu(e,!1)},Zb=function(e){return Fu(e,!0)},Qb=function(e,n,a){a===void 0&&(a=at);var i=new sa(e,n),l=function(v){var p;do p=i[v]();while(p&&!gn(p)&&!a(p));return te.from(p).filter(gn)};return{current:function(){return te.from(i.current()).filter(gn)},next:function(){return l("next")},prev:function(){return l("prev")},prev2:function(){return l("prev2")}}},j2=function(e,n){var a=n||function(p){return e.isBlock(p)||wa(p)||Fa(p)},i=function(p,x,A,N){if(gn(p)){var X=N(p,x,p.data);if(X!==-1)return te.some({container:p,offset:X})}return A().bind(function(Z){return i(Z.container,Z.offset,A,N)})},l=function(p,x,A,N){var X=Qb(p,N,a);return i(p,x,function(){return X.prev().map(function(Z){return{container:Z,offset:Z.length}})},A).getOrNull()},v=function(p,x,A,N){var X=Qb(p,N,a);return i(p,x,function(){return X.next().map(function(Z){return{container:Z,offset:0}})},A).getOrNull()};return{backwards:l,forwards:v}},rm=Math.round,td=function(e){return e?{left:rm(e.left),top:rm(e.top),bottom:rm(e.bottom),right:rm(e.right),width:rm(e.width),height:rm(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},e0=function(e,n){return e=td(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},t0=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},n0=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},zh=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:n0(n.top-e.bottom,e,n)},Fh=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:n0(n.bottom-e.top,e,n)},y_=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},Jc=function(e,n,a){return Math.min(Math.max(e,n),a)},am=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},ja=function(e,n){if(Kn(e)&&e.hasChildNodes()){var a=e.childNodes,i=Jc(n,0,a.length-1);return a[i]}else return e},Z3=function(e,n){if(!(n<0&&Kn(e)&&e.hasChildNodes()))return ja(e,n)},Q3=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),r0=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&Q3.test(e)},e4=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},w_=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},Jt=Kn,t4=Uc,Ko=mu("display","block table"),G2=mu("float","left right"),om=w_(Jt,t4,ge(G2)),C_=ge(mu("white-space","pre pre-line pre-wrap")),nu=gn,zp=wa,a0=Ma.nodeIndex,Fp=Z3,vc=function(e){return"createRange"in e?e.createRange():Ma.DOM.createRng()},Lp=function(e){return e&&/[\r\n\t ]/.test(e)},Hp=function(e){return!!e.setStart&&!!e.setEnd},_u=function(e){var n=e.startContainer,a=e.startOffset;if(Lp(e.toString())&&C_(n.parentNode)&&gn(n)){var i=n.data;if(Lp(i[a-1])||Lp(i[a+1]))return!0}return!1},dc=function(e){var n=e.ownerDocument,a=vc(n),i=n.createTextNode(us),l=e.parentNode;l.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var v=td(a.getBoundingClientRect());return l.removeChild(i),v},S_=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,l=e.endOffset;if(n===a&&gn(a)&&i===0&&l===1){var v=e.cloneRange();return v.setEndAfter(a),Zc(v)}else return null},ru=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},Zc=function(e){var n,a=e.getClientRects();return a.length>0?n=td(a[0]):n=td(e.getBoundingClientRect()),!Hp(e)&&zp(e)&&ru(n)?dc(e):ru(n)&&Hp(e)?S_(e):n},nd=function(e,n){var a=e0(e,n);return a.width=1,a.right=a.left+1,a},Vp=function(e){var n=[],a=function(A){A.height!==0&&(n.length>0&&t0(A,n[n.length-1])||n.push(A))},i=function(A,N){var X=vc(A.ownerDocument);if(N<A.data.length){if(r0(A.data[N]))return n;if(r0(A.data[N-1])&&(X.setStart(A,N),X.setEnd(A,N+1),!_u(X)))return a(nd(Zc(X),!1)),n}N>0&&(X.setStart(A,N-1),X.setEnd(A,N),_u(X)||a(nd(Zc(X),!1))),N<A.data.length&&(X.setStart(A,N),X.setEnd(A,N+1),_u(X)||a(nd(Zc(X),!0)))},l=e.container(),v=e.offset();if(nu(l))return i(l,v),n;if(Jt(l))if(e.isAtEnd()){var p=Fp(l,v);nu(p)&&i(p,p.data.length),om(p)&&!zp(p)&&a(nd(Zc(p),!1))}else{var p=Fp(l,v);if(nu(p)&&i(p,0),om(p)&&e.isAtEnd())return a(nd(Zc(p),!1)),n;var x=Fp(e.container(),e.offset()-1);om(x)&&!zp(x)&&(Ko(x)||Ko(p)||!om(p))&&a(nd(Zc(x),!1)),om(p)&&a(nd(Zc(p),!0))}return n},dt=function(e,n,a){var i=function(){return nu(e),n===0},l=function(){return nu(e)?n>=e.data.length:n>=e.childNodes.length},v=function(){var X=vc(e.ownerDocument);return X.setStart(e,n),X.setEnd(e,n),X},p=function(){return a||(a=Vp(dt(e,n))),a},x=function(){return p().length>0},A=function(X){return X&&e===X.container()&&n===X.offset()},N=function(X){return Fp(e,X?n-1:n)};return{container:U(e),offset:U(n),toRange:v,getClientRects:p,isVisible:x,isAtStart:i,isAtEnd:l,isEqual:A,getNode:N}};dt.fromRangeStart=function(e){return dt(e.startContainer,e.startOffset)},dt.fromRangeEnd=function(e){return dt(e.endContainer,e.endOffset)},dt.after=function(e){return dt(e.parentNode,a0(e)+1)},dt.before=function(e){return dt(e.parentNode,a0(e))},dt.isAbove=function(e,n){return eu(da(n.getClientRects()),Vr(e.getClientRects()),zh).getOr(!1)},dt.isBelow=function(e,n){return eu(Vr(n.getClientRects()),da(e.getClientRects()),Fh).getOr(!1)},dt.isAtStart=function(e){return e?e.isAtStart():!1},dt.isAtEnd=function(e){return e?e.isAtEnd():!1},dt.isTextPosition=function(e){return e?gn(e.container()):!1},dt.isElementPosition=function(e){return dt.isTextPosition(e)===!1};var ov=function(e,n){gn(n)&&n.data.length===0&&e.remove(n)},Lh=function(e,n,a){n.insertNode(a),ov(e,a.previousSibling),ov(e,a.nextSibling)},n4=function(e,n,a){var i=te.from(a.firstChild),l=te.from(a.lastChild);n.insertNode(a),i.each(function(v){return ov(e,v.previousSibling)}),l.each(function(v){return ov(e,v.nextSibling)})},o0=function(e,n,a){cr(a)?n4(e,n,a):Lh(e,n,a)},Bl=gn,i0=bo,q2=Ma.nodeIndex,K2=function(e){var n=e.parentNode;return i0(n)?K2(n):n},u0=function(e){return e?Df(e.childNodes,function(n,a){return i0(a)&&a.nodeName!=="BR"?n=n.concat(u0(a)):n.push(a),n},[]):[]},X2=function(e,n){for(;(e=e.previousSibling)&&Bl(e);)n+=e.data.length;return n},Y2=function(e){return function(n){return e===n}},J2=function(e){var n,a;n=u0(K2(e)),a=ma(n,Y2(e),e),n=n.slice(0,a+1);var i=Df(n,function(l,v,p){return Bl(v)&&Bl(n[p-1])&&l++,l},0);return n=gl(n,As([e.nodeName])),a=ma(n,Y2(e),e),a-i},Z2=function(e){var n;return Bl(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+J2(e)+"]"},im=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},__=function(e,n){var a,i,l=[],v,p,x;return a=n.container(),i=n.offset(),Bl(a)?v=X2(a,i):(p=a.childNodes,i>=p.length?(v="after",i=p.length-1):v="before",a=p[i]),l.push(Z2(a)),x=im(e,a),x=gl(x,ge(bo)),l=l.concat(Ev(x,function(A){return Z2(A)})),l.reverse().join("/")+","+v},r4=function(e,n,a){var i=u0(e);return i=gl(i,function(l,v){return!Bl(l)||!Bl(i[v-1])}),i=gl(i,As([n])),i[a]},a4=function(e,n){for(var a=e,i=0,l;Bl(a);){if(l=a.data.length,n>=i&&n<=i+l){e=a,n=n-i;break}if(!Bl(a.nextSibling)){e=a,n=l;break}i+=l,a=a.nextSibling}return Bl(e)&&n>e.data.length&&(n=e.data.length),dt(e,n)},Hh=function(e,n){var a;if(!n)return null;var i=n.split(","),l=i[0].split("/");a=i.length>1?i[1]:"before";var v=Df(l,function(p,x){var A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(x);return A?(A[1]==="text()"&&(A[1]="#text"),r4(p,A[1],parseInt(A[2],10))):null},e);return v?Bl(v)?a4(v,parseInt(a,10)):(a==="after"?a=q2(v)+1:a=q2(v),dt(v.parentNode,a)):null},Vh=Fa,s0=function(e,n,a){var i,l;for(l=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&gn(i);i=i.previousSibling)l+=e(i.data).length;return l},Q2=function(e,n,a,i,l){var v=i[l?"startContainer":"endContainer"],p=i[l?"startOffset":"endOffset"],x=[],A,N=0,X=e.getRoot();for(gn(v)?x.push(a?s0(n,v,p):p):(A=v.childNodes,p>=A.length&&A.length&&(N=1,p=Math.max(0,A.length-1)),x.push(e.nodeIndex(A[p],a)+N));v&&v!==X;v=v.parentNode)x.push(e.nodeIndex(v,a));return x},Uh=function(e,n,a,i){var l=n.dom,v={};return v.start=Q2(l,e,a,i,!0),n.isCollapsed()||(v.end=Q2(l,e,a,i,!1)),Vc(i)&&(v.isFakeCaret=!0),v},ew=function(e,n,a){var i=0;return yt.each(e.select(n),function(l){if(l.getAttribute("data-mce-bogus")!=="all"){if(l===a)return!1;i++}}),i},mo=function(e,n){var a,i,l,v=n?"start":"end";a=e[v+"Container"],i=e[v+"Offset"],Kn(a)&&a.nodeName==="TR"&&(l=a.childNodes,a=l[Math.min(n?i:i-1,l.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},Up=function(e){return mo(e,!0),mo(e,!1),e},wo=function(e,n){var a;if(Kn(e)&&(e=ja(e,n),Vh(e)))return e;if(Nu(e)&&(gn(e)&&Ca(e)&&(e=e.parentNode),a=e.previousSibling,Vh(a)||(a=e.nextSibling,Vh(a))))return a},l0=function(e){return wo(e.startContainer,e.startOffset)||wo(e.endContainer,e.endOffset)},um=function(e,n,a){var i=a.getNode(),l=i?i.nodeName:null,v=a.getRng();if(Vh(i)||l==="IMG")return{name:l,index:ew(a.dom,l,i)};var p=l0(v);return p?(l=p.tagName,{name:l,index:ew(a.dom,l,p)}):Uh(e,a,n,v)},tw=function(e){var n=e.getRng();return{start:__(e.dom.getRoot(),dt.fromRangeStart(n)),end:__(e.dom.getRoot(),dt.fromRangeEnd(n))}},Wp=function(e){return{rng:e.getRng()}},nw=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},x_=function(e,n){var a=e.dom,i=e.getRng(),l=a.uniqueId(),v=e.isCollapsed(),p=e.getNode(),x=p.nodeName;if(x==="IMG")return{name:x,index:ew(a,x,p)};var A=Up(i.cloneRange());if(!v){A.collapse(!1);var N=nw(a,l+"_end",n);o0(a,A,N)}i=Up(i),i.collapse(!0);var X=nw(a,l+"_start",n);return o0(a,i,X),e.moveToBookmark({id:l,keep:!0}),{id:l}},o4=function(e,n,a){return n===2?um(uc,a,e):n===3?tw(e):n?Wp(e):x_(e,!1)},k_=se(um,_e,!0),i4=Ma.DOM,c0="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",jp=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var l=e.getParam(n,"","hash");return Pr(l,e.id).getOr(a)}else return i},u4=function(e){return e.getParam("iframe_attrs",{})},A_=function(e){return e.getParam("doctype","<!DOCTYPE html>")},rw=function(e){return e.getParam("document_base_url","")},s4=function(e){return jp(e,"body_id","tinymce")},l4=function(e){return jp(e,"body_class","")},f0=function(e){return e.getParam("content_security_policy","")},aw=function(e){return e.getParam("br_in_pre",!0)},Bi=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},Wh=function(e){return e.getParam("forced_root_block_attrs",{})},jh=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},E_=function(e){return e.getParam("no_newline_selector","")},c4=function(e){return e.getParam("keep_styles",!0)},Gp=function(e){return e.getParam("end_container_on_empty_block",!1)},qp=function(e){return yt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},sm=function(e){return yt.explode(e.getParam("font_size_classes",""))},v0=function(e){return e.getParam("images_dataimg_filter",ot,"function")},Kp=function(e){return e.getParam("automatic_uploads",!0,"boolean")},ow=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},f4=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Qc=function(e){return e.getParam("icons","","string")},d0=function(e){return e.getParam("icons_url","","string")},v4=function(e){return e.getParam("images_upload_url","","string")},rd=function(e){return e.getParam("images_upload_base_path","","string")},ad=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},d4=function(e){return e.getParam("images_upload_handler",null,"function")},m0=function(e){return e.getParam("content_css_cors",!1,"boolean")},h0=function(e){return e.getParam("referrer_policy","","string")},g0=function(e){return e.getParam("language","en","string")},ci=function(e){return e.getParam("language_url","","string")},T_=function(e){return e.getParam("indent_use_margin",!1)},iw=function(e){return e.getParam("indentation","40px","string")},O_=function(e){var n=e.getParam("content_css");return $e(n)?et(n.split(","),Xs):Be(n)?n:n===!1||e.inline?[]:["default"]},D_=function(e){var n=e.getParam("font_css",[]);return Be(n)?n:et(n.split(","),Xs)},mc=function(e){return e.getParam("directionality",wu.isRtl()?"rtl":void 0)},iv=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},R_=function(e){var n=e.getParam("object_resizing");return n===!1||Hn.iOS?!1:$e(n)?n:"table,img,figure.image,div,video,iframe"},$_=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},uw=function(e){return e.getParam("placeholder",i4.getAttrib(e.getElement(),"placeholder"),"string")},p0=function(e){return e.getParam("event_root")},B_=function(e){return e.getParam("service_message")},Gh=function(e){return e.getParam("theme")},m4=function(e){return e.getParam("validate")},Xp=function(e){return e.getParam("inline_boundaries")!==!1},h4=function(e){return e.getParam("formats")},qh=function(e){var n=e.getParam("preview_styles",c0);return $e(n)?n:""},lm=function(e){return e.getParam("format_empty_lines",!1,"boolean")},sw=function(e){return e.getParam("custom_ui_selector","","string")},M_=function(e){return e.getParam("theme_url")},g4=function(e){return e.getParam("inline")},P_=function(e){return e.getParam("hidden_input")},I_=function(e){return e.getParam("submit_patch")},lw=function(e){return e.getParam("encoding")==="xml"},p4=function(e){return e.getParam("add_form_submit_trigger")},b0=function(e){return e.getParam("add_unload_trigger")},b4=function(e){return Bi(e)!==""},Yp=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},y4=function(e){return e.getParam("disable_nodechange")},w4=function(e){return e.getParam("readonly")},C4=function(e){return e.getParam("content_css_cors")},y0=function(e){return e.getParam("plugins","","string")},S4=function(e){return e.getParam("external_plugins")},Kh=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},N_=function(e){return e.getParam("visual",!0,"boolean")},_4=function(e){return e.getParam("visual_table_class","mce-item-table","string")},cw=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},z_=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},fw=Kn,F_=gn,L_=function(e){var n=e.parentNode;n&&n.removeChild(e)},Xh=function(e){var n=uc(e);return{count:e.length-n.length,text:n}},vw=function(e){for(var n;(n=e.data.lastIndexOf(Ve))!==-1;)e.deleteData(n,1)},dw=function(e,n){return od(e),n},x4=function(e,n){var a=Xh(e.data.substr(0,n.offset())),i=Xh(e.data.substr(n.offset())),l=a.text+i.text;return l.length>0?(vw(e),dt(e,n.offset()-a.count)):n},k4=function(e,n){var a=n.container(),i=Te(lr(a.childNodes),e).map(function(l){return l<n.offset()?dt(a,n.offset()-1):n}).getOr(n);return od(e),i},mw=function(e,n){return F_(e)&&n.container()===e?x4(e,n):dw(e,n)},A4=function(e,n){return n.container()===e.parentNode?k4(e,n):dw(e,n)},H_=function(e,n){return dt.isTextPosition(n)?mw(e,n):A4(e,n)},od=function(e){fw(e)&&Nu(e)&&(Yf(e)?e.removeAttribute("data-mce-caret"):L_(e)),F_(e)&&(vw(e),e.data.length===0&&L_(e))},Yh=Rn().browser,V_=Fa,E4=Mu,U_=dh,T4="*[contentEditable=false],video,audio,embed,object",hw=function(e,n,a){var i=e0(n.getBoundingClientRect(),a),l,v;if(e.tagName==="BODY"){var p=e.ownerDocument.documentElement;l=e.scrollLeft||p.scrollLeft,v=e.scrollTop||p.scrollTop}else{var x=e.getBoundingClientRect();l=e.scrollLeft-x.left,v=e.scrollTop-x.top}i.left+=l,i.right+=l,i.top+=v,i.bottom+=v,i.width=1;var A=n.offsetWidth-n.clientWidth;return A>0&&(a&&(A*=-1),i.left+=A,i.right+=A),i},Jh=function(e){for(var n=$i(je.fromDom(e),T4),a=0;a<n.length;a++){var i=n[a].dom,l=i.previousSibling;if(kp(l)){var v=l.data;v.length===1?l.parentNode.removeChild(l):l.deleteData(v.length-1,1)}if(l=i.nextSibling,xp(l)){var v=l.data;v.length===1?l.parentNode.removeChild(l):l.deleteData(0,1)}}},au=function(e,n,a,i){var l=ed(),v,p,x=Bi(e),A=x.length>0?x:"p",N=function(me,he){var Oe;if(X(),U_(he))return null;if(a(he)){p=YS(A,he,me);var xe=hw(n,he,me);fr(p).css("top",xe.top);var qe=fr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Wn({},xe)).appendTo(n)[0];l.set({caret:qe,element:he,before:me}),me&&fr(qe).addClass("mce-visual-caret-before"),Z(),Oe=he.ownerDocument.createRange(),Oe.setStart(p,0),Oe.setEnd(p,0)}else return p=l2(he,me),Oe=he.ownerDocument.createRange(),Zh(p.nextSibling)?(Oe.setStart(p,0),Oe.setEnd(p,0)):(Oe.setStart(p,1),Oe.setEnd(p,1)),Oe;return Oe},X=function(){Jh(n),p&&(od(p),p=null),l.on(function(me){fr(me.caret).remove(),l.clear()}),v&&(ji.clearInterval(v),v=void 0)},Z=function(){v=ji.setInterval(function(){i()?fr("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):fr("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},Q=function(){l.on(function(me){var he=hw(n,me.element,me.before);fr(me.caret).css(Wn({},he))})},ce=function(){return ji.clearInterval(v)},ve=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:N,hide:X,getCss:ve,reposition:Q,destroy:ce}},gw=function(){return Yh.isIE()||Yh.isEdge()||Yh.isFirefox()},Zh=function(e){return V_(e)||E4(e)},cm=function(e){return Zh(e)||Ao(e)&&gw()},w0=Fa,O4=Mu,W_=mu("display","block table table-cell table-caption list-item"),pw=Nu,Lu=Ca,Jp=Kn,D4=Uc,fm=function(e){return e>0},id=function(e){return e<0},Qh=function(e,n){for(var a;a=e(n);)if(!Lu(a))return a;return null},ud=function(e,n,a,i,l){var v=new sa(e,i),p=w0(e)||Lu(e);if(id(n)){if(p&&(e=Qh(v.prev.bind(v),!0),a(e)))return e;for(;e=Qh(v.prev.bind(v),l);)if(a(e))return e}if(fm(n)){if(p&&(e=Qh(v.next.bind(v),!0),a(e)))return e;for(;e=Qh(v.next.bind(v),l);)if(a(e))return e}return null},hc=function(e,n){for(;e&&e!==n;){if(W_(e))return e;e=e.parentNode}return null},gc=function(e,n,a){return hc(e.container(),a)===hc(n.container(),a)},C0=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return Jp(a)?a.childNodes[i+e]:null},S0=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},bw=function(e,n,a){return hc(n,e)===hc(a,e)},eg=function(e,n,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==n;){var l=a[i];if(pw(l)&&(l=l[i]),w0(l)||O4(l)){if(bw(n,l,a))return l;break}if(D4(l))break;a=a.parentNode}return null},tg=se(S0,!0),ng=se(S0,!1),Yi=function(e,n,a){var i,l=se(eg,!0,n),v=se(eg,!1,n),p=a.startContainer,x=a.startOffset;if(Ca(p)){Jp(p)||(p=p.parentNode);var A=p.getAttribute("data-mce-caret");if(A==="before"&&(i=p.nextSibling,cm(i)))return tg(i);if(A==="after"&&(i=p.previousSibling,cm(i)))return ng(i)}if(!a.collapsed)return a;if(gn(p)){if(pw(p)){if(e===1){if(i=v(p),i)return tg(i);if(i=l(p),i)return ng(i)}if(e===-1){if(i=l(p),i)return ng(i);if(i=v(p),i)return tg(i)}return a}if(kp(p)&&x>=p.data.length-1)return e===1&&(i=v(p),i)?tg(i):a;if(xp(p)&&x<=1)return e===-1&&(i=l(p),i)?ng(i):a;if(x===p.data.length)return i=v(p),i?tg(i):a;if(x===0)return i=l(p),i?ng(i):a}return a},rg=function(e,n){return te.from(C0(e?0:-1,n)).filter(w0)},ag=function(e,n,a){var i=Yi(e,n,a);return e===-1?dt.fromRangeStart(i):dt.fromRangeEnd(i)},_0=function(e){return te.from(e.getNode()).map(je.fromDom)},R4=function(e){return te.from(e.getNode(!0)).map(je.fromDom)},yw=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},x0=function(e,n){var a=gc(e,n);return!a&&wa(e.getNode())?!0:a},Mi;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Mi||(Mi={}));var $4=Fa,ef=gn,k0=Kn,ww=wa,og=Uc,Cw=B3,Zp=Po,B4=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},j_=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},G_=function(e,n){if(fm(e)){if(og(n.previousSibling)&&!ef(n.previousSibling))return dt.before(n);if(ef(n))return dt(n,0)}if(id(e)){if(og(n.nextSibling)&&!ef(n.nextSibling))return dt.after(n);if(ef(n))return dt(n,n.data.length)}return id(e)?ww(n)?dt.before(n):dt.after(n):dt.before(n)},M4=function(e,n){var a=n.nextSibling;return a&&og(a)?ef(a)?dt(a,0):dt.before(a):ig(Mi.Forwards,dt.after(n),e)},ig=function(e,n,a){var i,l,v,p;if(!k0(a)||!n)return null;if(n.isEqual(dt.after(a))&&a.lastChild){if(p=dt.after(a.lastChild),id(e)&&og(a.lastChild)&&k0(a.lastChild))return ww(a.lastChild)?dt.before(a.lastChild):p}else p=n;var x=p.container(),A=p.offset();if(ef(x)){if(id(e)&&A>0)return dt(x,--A);if(fm(e)&&A<x.length)return dt(x,++A);i=x}else{if(id(e)&&A>0&&(l=j_(x,A-1),og(l)))return!Cw(l)&&(v=ud(l,e,Zp,l),v)?ef(v)?dt(v,v.data.length):dt.after(v):ef(l)?dt(l,l.data.length):dt.before(l);if(fm(e)&&A<x.childNodes.length&&(l=j_(x,A),og(l)))return ww(l)?M4(a,l):!Cw(l)&&(v=ud(l,e,Zp,l),v)?ef(v)?dt(v,0):dt.before(v):ef(l)?dt(l,0):dt.after(l);i=l||p.getNode()}if((fm(e)&&p.isAtEnd()||id(e)&&p.isAtStart())&&(i=ud(i,e,ot,a,!0),Zp(i,a)))return G_(e,i);l=ud(i,e,Zp,a);var N=Ks(it(B4(x,a),$4));return N&&(!l||!N.contains(l))?(fm(e)?p=dt.after(N):p=dt.before(N),p):l?G_(e,l):null},ho=function(e){return{next:function(n){return ig(Mi.Forwards,n,e)},prev:function(n){return ig(Mi.Backwards,n,e)}}},A0=function(e,n,a){var i=e?dt.before(a):dt.after(a);return Hu(e,n,i)},E0=function(e){return wa(e)?dt.before(e):dt.after(e)},Sw=function(e){return dt.isTextPosition(e)?e.offset()===0:Uc(e.getNode())},q_=function(e){if(dt.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return Uc(e.getNode(!0))},_w=function(e,n){return!dt.isTextPosition(e)&&!dt.isTextPosition(n)&&e.getNode()===n.getNode(!0)},vm=function(e){return!dt.isTextPosition(e)&&wa(e.getNode())},T0=function(e,n,a){return e?!_w(n,a)&&!vm(n)&&q_(n)&&Sw(a):!_w(a,n)&&Sw(n)&&q_(a)},Hu=function(e,n,a){var i=ho(n);return te.from(e?i.next(a):i.prev(a))},pc=function(e,n,a){return Hu(e,n,a).bind(function(i){return gc(a,i,n)&&T0(e,a,i)?Hu(e,n,i):te.some(i)})},O0=function(e,n,a,i){return pc(e,n,a).bind(function(l){return i(l)?O0(e,n,l,i):te.some(l)})},uv=function(e,n){var a=e?n.firstChild:n.lastChild;return gn(a)?te.some(dt(a,e?0:a.data.length)):a?Uc(a)?te.some(e?dt.before(a):E0(a)):A0(e,n,a):te.none()},Ml=se(Hu,!0),bc=se(Hu,!1),ou=se(uv,!0),ol=se(uv,!1),ug="_mce_caret",tf=function(e){return Kn(e)&&e.id===ug},dm=function(e,n){for(;n&&n!==e;){if(n.id===ug)return n;n=n.parentNode}return null},K_=function(e){return $e(e.start)},X_=function(e){return Ar(e,"rng")},P4=function(e){return Ar(e,"id")},I4=function(e){return Ar(e,"name")},Y_=function(e){return yt.isArray(e.start)},J_=function(e,n){return Kn(n)&&e.isBlock(n)&&!n.innerHTML&&!Hn.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},Z_=function(e,n){var a,i=e.createRng();return a=Hh(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=Hh(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},N4=function(e,n){var a=e.ownerDocument.createTextNode(Ve);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},Q_=function(e){return e.hasChildNodes()===!1},z4=function(e,n){return ol(e).fold(at,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},ex=function(e,n,a){return Q_(n)&&dm(e,n)?(N4(n,a),!0):!1},tx=function(e,n,a,i){var l=a[n?"start":"end"],v,p,x,A,N=e.getRoot();if(l){for(x=l[0],p=N,v=l.length-1;v>=1;v--){if(A=p.childNodes,ex(N,p,i))return!0;if(l[v]>A.length-1)return ex(N,p,i)?!0:z4(p,i);p=A[l[v]]}p.nodeType===3&&(x=Math.min(l[0],p.nodeValue.length)),p.nodeType===1&&(x=Math.min(l[0],p.childNodes.length)),n?i.setStart(p,x):i.setEnd(p,x)}return!0},xw=function(e){return gn(e)&&e.data.length>0},nx=function(e,n,a){var i=e.get(a.id+"_"+n),l,v,p,x,A=a.keep,N,X;if(i){if(l=i.parentNode,n==="start"?(A?i.hasChildNodes()?(l=i.firstChild,v=1):xw(i.nextSibling)?(l=i.nextSibling,v=0):xw(i.previousSibling)?(l=i.previousSibling,v=i.previousSibling.data.length):(l=i.parentNode,v=e.nodeIndex(i)+1):v=e.nodeIndex(i),N=l,X=v):(A?i.hasChildNodes()?(l=i.firstChild,v=1):xw(i.previousSibling)?(l=i.previousSibling,v=i.previousSibling.data.length):(l=i.parentNode,v=e.nodeIndex(i)):v=e.nodeIndex(i),N=l,X=v),!A){for(x=i.previousSibling,p=i.nextSibling,yt.each(yt.grep(i.childNodes),function(Z){gn(Z)&&(Z.nodeValue=Z.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);x&&p&&x.nodeType===p.nodeType&&gn(x)&&!Hn.opera&&(v=x.nodeValue.length,x.appendData(p.nodeValue),e.remove(p),N=x,X=v)}return te.some(dt(N,X))}else return te.none()},F4=function(e,n){var a=e.createRng();return tx(e,!0,n,a)&&tx(e,!1,n,a)?te.some(a):te.none()},Dr=function(e,n){var a=nx(e,"start",n),i=nx(e,"end",n);return eu(a,i.or(a),function(l,v){var p=e.createRng();return p.setStart(J_(e,l.container()),l.offset()),p.setEnd(J_(e,v.container()),v.offset()),p})},mm=function(e,n){return te.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},sg=function(e,n){var a=e.dom;if(n){if(Y_(n))return F4(a,n);if(K_(n))return te.some(Z_(a,n));if(P4(n))return Dr(a,n);if(I4(n))return mm(a,n);if(X_(n))return te.some(n.rng)}return te.none()},kw=function(e,n,a){return o4(e,n,a)},L4=function(e,n){sg(e,n).each(function(a){e.setRng(a)})},Vu=function(e){return Kn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},H4=function(e){return function(n){return e===n}},hm=H4(us),sd=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},D0=function(e){return!sd(e)&&!hm(e)},R0=function(e){return!!e.nodeType},V4=function(e){return e&&/^(IMG)$/.test(e.nodeName)},rx=function(e,n,a){var i=a.startOffset,l=a.startContainer;if(!(l===a.endContainer&&V4(l.childNodes[i]))&&Kn(l)){var v=l.childNodes,p=void 0;i<v.length?(l=v[i],p=new sa(l,e.getParent(l,e.isBlock))):(l=v[v.length-1],p=new sa(l,e.getParent(l,e.isBlock)),p.next(!0));for(var x=p.current();x;x=p.next())if(gn(x)&&!B0(x)){a.setStart(x,0),n.setRng(a);return}}},$0=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(Kn(e)||!B0(e))return e}},Aw=function(e,n){return R0(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},lg=function(e,n,a){return e.schema.isValidChild(n,a)},B0=function(e,n){if(n===void 0&&(n=!1),Ye(e)&&gn(e)){var a=n?e.data.replace(/ /g,""):e.data;return Tl(a)}else return!1},U4=function(e){return Ye(e)&&gn(e)&&e.length===0},nf=function(e,n){return le(e)?e=e(n):Ye(n)&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},Ew=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},Tw=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},cg=function(e,n,a){return Tw(e,e.getStyle(n,a),a)},Ow=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},Qp=function(e,n,a){return e.getParents(n,a,e.getRoot())},ax=function(e,n){var a=function(i){var l=function(v){return v.length>1&&v.charAt(0)==="%"};return Je(["styles","attributes"],function(v){return Pr(i,v).exists(function(p){var x=Be(p)?p:Zu(p);return Je(x,l)})})};return Je(e.formatter.get(n),a)},W4=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],l=function(v){return lo(v,function(p,x){return Je(i,function(A){return A===x})})};return Je(e.formatter.get(n),function(v){var p=l(v);return Je(e.formatter.get(a),function(x){var A=l(x);return Qm(p,A)})})},rf=function(e){return Gs(e,"block")},vs=function(e){return Gs(e,"selector")},Pi=function(e){return Gs(e,"inline")},j4=function(e){return vs(e)&&Pi(e)&&zd(Pr(e,"mixed"),!0)},Dw=function(e){return vs(e)&&e.expand!==!1&&!Pi(e)},fg=Vu,Rw=Qp,e1=B0,$w=Aw,G4=function(e){return wa(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},an=function(e,n){for(var a=n;a;){if(Kn(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},Xo=function(e,n,a,i){for(var l=n.data,v=a;e?v>=0:v<l.length;e?v--:v++)if(i(l.charAt(v)))return e?v+1:v;return-1},vg=function(e,n,a){return Xo(e,n,a,function(i){return hm(i)||sd(i)})},fi=function(e,n,a){return Xo(e,n,a,D0)},il=function(e,n,a,i,l,v){var p,x=e.getParent(a,e.isBlock)||n,A=function(X,Z,Q){var ce=j2(e),ve=l?ce.backwards:ce.forwards;return te.from(ve(X,Z,function(me,he){return fg(me.parentNode)?-1:(p=me,Q(l,me,he))},x))},N=A(a,i,vg);return N.bind(function(X){return v?A(X.container,X.offset+(l?-1:0),fi):te.some(X)}).orThunk(function(){return p?te.some({container:p,offset:l?0:p.length}):te.none()})},Bw=function(e,n,a,i,l){gn(i)&&Md(i.data)&&i[l]&&(i=i[l]);for(var v=Rw(e,i),p=0;p<v.length;p++)for(var x=0;x<n.length;x++){var A=n[x];if(!(Ye(A.collapsed)&&A.collapsed!==a.collapsed)&&vs(A)&&e.is(v[p],A.selector))return v[p]}return i},t1=function(e,n,a,i){var l=a,v=e.dom,p=v.getRoot(),x=n[0];if(rf(x)&&(l=x.wrapper?null:v.getParent(a,x.block,p)),!l){var A=v.getParent(a,"LI,TD,TH");l=v.getParent(gn(a)?a.parentNode:a,function(N){return N!==p&&$w(e,N)},A)}if(l&&rf(x)&&x.wrapper&&(l=Rw(v,l,"ul,ol").reverse()[0]||l),!l)for(l=a;l[i]&&!v.isBlock(l[i])&&(l=l[i],!Ew(l,"br")););return l||a},M0=function(e,n,a,i){var l=a.parentNode;return Ye(a[i])?!1:l===n||ke(l)||e.isBlock(l)?!0:M0(e,n,l,i)},P0=function(e,n,a,i,l){var v=a,p=l?"previousSibling":"nextSibling",x=e.getRoot();if(gn(a)&&!e1(a)&&(l?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(v))return v;for(var A=v[p];A;A=A[p]){var N=gn(A)&&!M0(e,x,A,p);if(!fg(A)&&!G4(A)&&!e1(A,N))return v}if(v===x||v.parentNode===x){a=v;break}v=v.parentNode}return a},I0=function(e){return fg(e.parentNode)||fg(e)},ld=function(e,n,a,i){i===void 0&&(i=!1);var l=n.startContainer,v=n.startOffset,p=n.endContainer,x=n.endOffset,A=e.dom,N=a[0];if(Kn(l)&&l.hasChildNodes()&&(l=ja(l,v),gn(l)&&(v=0)),Kn(p)&&p.hasChildNodes()&&(p=ja(p,n.collapsed?x:x-1),gn(p)&&(x=p.nodeValue.length)),l=an(A,l),p=an(A,p),I0(l)&&(l=fg(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,gn(l)&&(v=n.collapsed?l.length:0)),I0(p)&&(p=fg(p)?p:p.parentNode,n.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,gn(p)&&(x=n.collapsed?0:p.length)),n.collapsed){var X=il(A,e.getBody(),l,v,!0,i);X.each(function(Q){var ce=Q.container,ve=Q.offset;l=ce,v=ve});var Z=il(A,e.getBody(),p,x,!1,i);Z.each(function(Q){var ce=Q.container,ve=Q.offset;p=ce,x=ve})}return(Pi(N)||N.block_expand)&&((!Pi(N)||!gn(l)||v===0)&&(l=P0(A,a,l,v,!0)),(!Pi(N)||!gn(p)||x===p.nodeValue.length)&&(p=P0(A,a,p,x,!1))),Dw(N)&&(l=Bw(A,a,n,l,"previousSibling"),p=Bw(A,a,n,p,"nextSibling")),(rf(N)||vs(N))&&(l=t1(e,a,l,"previousSibling"),p=t1(e,a,p,"nextSibling"),rf(N)&&(A.isBlock(l)||(l=P0(A,a,l,v,!0)),A.isBlock(p)||(p=P0(A,a,p,x,!1)))),Kn(l)&&(v=A.nodeIndex(l),l=l.parentNode),Kn(p)&&(x=A.nodeIndex(p)+1,p=p.parentNode),{startContainer:l,startOffset:v,endContainer:p,endOffset:x}},n1=function(e,n,a){var i=n.startOffset,l=ja(n.startContainer,i),v=n.endOffset,p=ja(n.endContainer,v-1),x=function(me){var he=me[0];gn(he)&&he===l&&i>=he.data.length&&me.splice(0,1);var Oe=me[me.length-1];return v===0&&me.length>0&&Oe===p&&gn(Oe)&&me.splice(me.length-1,1),me},A=function(me,he,Oe){for(var xe=[];me&&me!==Oe;me=me[he])xe.push(me);return xe},N=function(me,he){return e.getParent(me,function(Oe){return Oe.parentNode===he},he)},X=function(me,he,Oe){for(var xe=Oe?"nextSibling":"previousSibling",qe=me,We=qe.parentNode;qe&&qe!==he;qe=We){We=qe.parentNode;var Re=A(qe===me?qe:qe[xe],xe);Re.length&&(Oe||Re.reverse(),a(x(Re)))}};if(l===p)return a(x([l]));var Z=e.findCommonAncestor(l,p);if(e.isChildOf(l,p))return X(l,Z,!0);if(e.isChildOf(p,l))return X(p,Z);var Q=N(l,Z)||l,ce=N(p,Z)||p;X(l,Q,!0);var ve=A(Q===l?Q:Q.nextSibling,"nextSibling",ce===p?ce.nextSibling:ce);ve.length&&a(x(ve)),X(p,ce)},Mw=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},Pw=function(e){return sr(e,function(n){var a=am(n);return a?[je.fromDom(a)]:[]})},Iw=function(e){return Mw(e).length>1},q4=function(e){return it(Pw(e),ic)},ox=function(e){return $i(e,"td[data-mce-selected],th[data-mce-selected]")},sv=function(e,n){var a=ox(n);return a.length>0?a:q4(e)},af=function(e){return sv(Mw(e.selection.getSel()),je.fromDom(e.getBody()))},gm=function(e,n){return Fd(e,"table",n)},dg=function(e){var n=e.startContainer,a=e.startOffset;return gn(n)?a===0?te.some(je.fromDom(n)):te.none():te.from(n.childNodes[a]).map(je.fromDom)},Nw=function(e){var n=e.endContainer,a=e.endOffset;return gn(n)?a===n.data.length?te.some(je.fromDom(n)):te.none():te.from(n.childNodes[a-1]).map(je.fromDom)},N0=function(e){return Mo(e).fold(U([e]),function(n){return[e].concat(N0(n))})},of=function(e){return as(e).fold(U([e]),function(n){return xo(n)==="br"?zf(n).map(function(a){return[e].concat(of(a))}).getOr([]):[e].concat(of(n))})},Pl=function(e,n){return eu(dg(n),Nw(n),function(a,i){var l=rn(N0(e),se($a,a)),v=rn(of(e),se($a,i));return l.isSome()&&v.isSome()}).getOr(!1)},cd=function(e,n,a,i){var l=a,v=new sa(a,l),p=lo(e.schema.getMoveCaretBeforeOnEnterElements(),function(x,A){return!Ae(["td","th","table"],A.toLowerCase())});do{if(gn(a)&&yt.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(p[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?v.next():v.prev());l.nodeName==="BODY"&&(i?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},fd=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},pm=function(e,n){var a=af(e);a.length>0?He(a,function(i){var l=i.dom,v=e.dom.createRng();v.setStartBefore(l),v.setEndAfter(l),n(v,!0)}):n(e.selection.getRng(),!1)},mg=function(e,n,a){var i=x_(e,n);a(i),e.moveToBookmark(i)},zw=function(e,n){var a=function(v){if(!e(v))throw new Error("Can only get "+n+" value of a "+n+" node");return i(v).getOr("")},i=function(v){return e(v)?te.from(v.dom.nodeValue):te.none()},l=function(v,p){if(!e(v))throw new Error("Can only set raw "+n+" value of a "+n+" node");v.dom.nodeValue=p};return{get:a,getOption:i,set:l}},Fw=zw(Ka,"text"),Lw=function(e){return Fw.get(e)},z0=function(e){return Ka(e)&&Lw(e)===Ve},Ii=function(e,n,a,i){return ro(n).fold(function(){return"skipping"},function(l){return i==="br"||z0(n)?"valid":av(n)?"existing":tf(n.dom)?"caret":!lg(e,a,i)||!lg(e,xo(l),a)?"invalid-child":"valid"})},Fs=function(e,n){var a=ld(e,n,[{inline:"span"}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},ul=function(e,n,a,i){var l=n.uid,v=l===void 0?b_("mce-annotation"):l,p=eh(n,["uid"]),x=je.fromTag("span",e);nm(x,fs()),M(x,""+qo(),v),M(x,""+Ip(),a);var A=i(v,p),N=A.attributes,X=N===void 0?{}:N,Z=A.classes,Q=Z===void 0?[]:Z;return J(x,X),J3(x,Q),x},uf=function(e,n,a,i,l){var v=[],p=ul(e.getDoc(),l,a,i),x=ed(),A=function(){x.clear()},N=function(){return x.get().getOrThunk(function(){var ce=No(p);return v.push(ce),x.set(ce),ce})},X=function(ce){He(ce,Z)},Z=function(ce){var ve=Ii(e,ce,"span",xo(ce));switch(ve){case"invalid-child":{A();var me=Qi(ce);X(me),A();break}case"valid":{var he=N();Nd(ce,he);break}}},Q=function(ce){var ve=et(ce,je.fromDom);X(ve)};return n1(e.dom,n,function(ce){A(),Q(ce)}),v},hg=function(e,n,a,i){e.undoManager.transact(function(){var l=e.selection,v=l.getRng(),p=af(e).length>0;if(v.collapsed&&!p&&Fs(e,v),l.getRng().collapsed&&!p){var x=ul(e.getDoc(),i,n,a.decorate);Su(x,us),l.getRng().insertNode(x.dom),l.select(x.dom)}else mg(l,!1,function(){pm(e,function(A){uf(e,A,n,a.decorate,i)})})})},F0=function(e){var n=Np();W2(e,n);var a=p_(e);return{register:function(i,l){n.register(i,l)},annotate:function(i,l){n.lookup(i).each(function(v){hg(e,i,v,l)})},annotationChanged:function(i,l){a.addListener(i,l)},remove:function(i){Yb(e,te.some(i)).each(function(l){var v=l.elements;He(v,Vf)})},getAll:function(i){var l=U2(e,i);return Si(l,function(v){return et(v,function(p){return p.dom})})}}},vd=function(e){return{getBookmark:se(kw,e),moveToBookmark:se(L4,e)}};vd.isBookmarkNode=Vu;var bm=function(e,n){for(;n&&n!==e;){if(xl(n)||Fa(n))return n;n=n.parentNode}return null},ym=function(e,n,a){if(a.collapsed)return!1;if(Hn.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(Kn(i))return Je(i.getClientRects(),function(l){return y_(l,e,n)})}return Je(a.getClientRects(),function(l){return y_(l,e,n)})},K4=function(e,n){return e.fire("PreProcess",n)},Hw=function(e,n){return e.fire("PostProcess",n)},ix=function(e){return e.fire("remove")},ux=function(e){return e.fire("detach")},Vw=function(e,n){return e.fire("SwitchMode",{mode:n})},Uw=function(e,n,a,i,l){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:l})},pa=function(e,n,a,i,l){e.fire("ObjectResized",{target:n,width:a,height:i,origin:l})},sf=function(e){return e.fire("PreInit")},sx=function(e){return e.fire("PostRender")},lx=function(e){return e.fire("Init")},cx=function(e,n){return e.fire("PlaceholderToggle",{state:n})},L0=function(e,n,a){return e.fire(n,a)},Ww=function(e,n,a,i){return e.fire("FormatApply",{format:n,node:a,vars:i})},r1=function(e,n,a,i){return e.fire("FormatRemove",{format:n,node:a,vars:i})},Un={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Un.metaKeyPressed(e)},metaKeyPressed:function(e){return Hn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},X4=Fa,jw=function(e,n){var a="data-mce-selected",i=n.dom,l=yt.each,v,p,x,A,N,X,Z,Q,ce,ve,me,he,Oe,xe,qe,We=n.getDoc(),Re=document,Ze=Math.abs,St=Math.round,Ft=n.getBody(),Vn,mn,$t={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Ln=function(nt){return nt&&(nt.nodeName==="IMG"||n.dom.is(nt,"figure.image"))},Vt=function(nt){return Mu(nt)||i.hasClass(nt,"mce-preview-object")},vn=function(nt,Ht){if(nt.type==="longpress"||nt.type.indexOf("touch")===0){var Nt=nt.touches[0];return Ln(nt.target)&&!ym(Nt.clientX,Nt.clientY,Ht)}else return Ln(nt.target)&&!ym(nt.clientX,nt.clientY,Ht)},jt=function(nt){var Ht=nt.target;vn(nt,n.selection.getRng())&&!nt.isDefaultPrevented()&&n.selection.select(Ht)},Zt=function(nt){return i.is(nt,"figure.image")?[nt.querySelector("img")]:i.hasClass(nt,"mce-preview-object")&&Ye(nt.firstElementChild)?[nt,nt.firstElementChild]:[nt]},yn=function(nt){var Ht=R_(n);return!Ht||nt.getAttribute("data-mce-resize")==="false"||nt===n.getBody()?!1:i.hasClass(nt,"mce-preview-object")?Zl(je.fromDom(nt.firstElementChild),Ht):Zl(je.fromDom(nt),Ht)},Pt=function(nt){return Vt(nt)?i.create("img",{src:Hn.transparentSrc}):nt.cloneNode(!0)},hn=function(nt,Ht,Nt){if(Ye(Nt)){var Bn=Zt(nt);He(Bn,function(Nn){Nn.style[Ht]||!n.schema.isValid(Nn.nodeName.toLowerCase(),Ht)?i.setStyle(Nn,Ht,Nt):i.setAttrib(Nn,Ht,""+Nt)})}},xr=function(nt,Ht,Nt){hn(nt,"width",Ht),hn(nt,"height",Nt)},na=function(nt){var Ht,Nt,Bn,Nn,Aa;Ht=nt.screenX-X,Nt=nt.screenY-Z,xe=Ht*A[2]+ve,qe=Nt*A[3]+me,xe=xe<5?5:xe,qe=qe<5?5:qe,(Ln(v)||Vt(v))&&$_(n)!==!1?Bn=!Un.modifierPressed(nt):Bn=Un.modifierPressed(nt),Bn&&(Ze(Ht)>Ze(Nt)?(qe=St(xe*he),xe=St(qe/he)):(xe=St(qe/he),qe=St(xe*he))),xr(p,xe,qe),Nn=A.startPos.x+Ht,Aa=A.startPos.y+Nt,Nn=Nn>0?Nn:0,Aa=Aa>0?Aa:0,i.setStyles(x,{left:Nn,top:Aa,display:"block"}),x.innerHTML=xe+" &times; "+qe,A[2]<0&&p.clientWidth<=xe&&i.setStyle(p,"left",Q+(ve-xe)),A[3]<0&&p.clientHeight<=qe&&i.setStyle(p,"top",ce+(me-qe)),Ht=Ft.scrollWidth-Vn,Nt=Ft.scrollHeight-mn,Ht+Nt!==0&&i.setStyles(x,{left:Nn-Ht,top:Aa-Nt}),Oe||(Uw(n,v,ve,me,"corner-"+A.name),Oe=!0)},Jr=function(){var nt=Oe;Oe=!1,nt&&(hn(v,"width",xe),hn(v,"height",qe)),i.unbind(We,"mousemove",na),i.unbind(We,"mouseup",Jr),Re!==We&&(i.unbind(Re,"mousemove",na),i.unbind(Re,"mouseup",Jr)),i.remove(p),i.remove(x),i.remove(N),zi(v),nt&&(pa(n,v,xe,qe,"corner-"+A.name),i.setAttrib(v,"style",i.getAttrib(v,"style"))),n.nodeChanged()},zi=function(nt){It();var Ht=i.getPos(nt,Ft),Nt=Ht.x,Bn=Ht.y,Nn=nt.getBoundingClientRect(),Aa=Nn.width||Nn.right-Nn.left,ni=Nn.height||Nn.bottom-Nn.top;v!==nt&&(uo(),v=nt,xe=qe=0);var Yo=n.fire("ObjectSelected",{target:nt}),Im=i.getAttrib(v,a,"1");yn(nt)&&!Yo.isDefaultPrevented()?l($t,function(Gu,Eu){var gi,Vl=function(qu){var Sf=Zt(v)[0];X=qu.screenX,Z=qu.screenY,ve=Sf.clientWidth,me=Sf.clientHeight,he=me/ve,A=Gu,A.name=Eu,A.startPos={x:Aa*Gu[0]+Nt,y:ni*Gu[1]+Bn},Vn=Ft.scrollWidth,mn=Ft.scrollHeight,N=i.add(Ft,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(N,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),p=Pt(v),i.addClass(p,"mce-clonedresizable"),i.setAttrib(p,"data-mce-bogus","all"),p.contentEditable="false",i.setStyles(p,{left:Nt,top:Bn,margin:0}),xr(p,Aa,ni),p.removeAttribute(a),Ft.appendChild(p),i.bind(We,"mousemove",na),i.bind(We,"mouseup",Jr),Re!==We&&(i.bind(Re,"mousemove",na),i.bind(Re,"mouseup",Jr)),x=i.add(Ft,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ve+" &times; "+me)};gi=i.get("mceResizeHandle"+Eu),gi&&i.remove(gi),gi=i.add(Ft,"div",{id:"mceResizeHandle"+Eu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Eu+"-resize; margin:0; padding:0"}),Hn.ie===11&&(gi.contentEditable=!1),i.bind(gi,"mousedown",function(qu){qu.stopImmediatePropagation(),qu.preventDefault(),Vl(qu)}),Gu.elm=gi,i.setStyles(gi,{left:Aa*Gu[0]+Nt-gi.offsetWidth/2,top:ni*Gu[1]+Bn-gi.offsetHeight/2})}):uo(),i.getAttrib(v,a)||v.setAttribute(a,Im)},uo=function(){It(),v&&v.removeAttribute(a),Hr($t,function(nt,Ht){var Nt=i.get("mceResizeHandle"+Ht);Nt&&(i.unbind(Nt),i.remove(Nt))})},ju=function(nt){var Ht,Nt,Bn=function(Nn,Aa){if(Nn)do if(Nn===Aa)return!0;while(Nn=Nn.parentNode)};if(!(Oe||n.removed)){if(l(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(Nn){Nn.removeAttribute(a)}),Nt=nt.type==="mousedown"?nt.target:e.getNode(),Nt=i.$(Nt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Bn(Nt,Ft)&&(qt(),Ht=e.getStart(!0),Bn(Ht,Nt)&&Bn(e.getEnd(!0),Nt))){zi(Nt);return}uo()}},ps=function(nt){return X4(bm(n.getBody(),nt))},It=function(){Hr($t,function(nt){nt.elm&&(i.unbind(nt.elm),delete nt.elm)})},qt=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};n.on("init",function(){if(qt(),Hn.browser.isIE()||Hn.browser.isEdge()){n.on("mousedown click",function(Nt){var Bn=Nt.target,Nn=Bn.nodeName;!Oe&&/^(TABLE|IMG|HR)$/.test(Nn)&&!ps(Bn)&&(Nt.button!==2&&n.selection.select(Bn,Nn==="TABLE"),Nt.type==="mousedown"&&n.nodeChanged())});var nt=function(Nt){var Bn=function(Nn){ji.setEditorTimeout(n,function(){return n.selection.select(Nn)})};if(ps(Nt.target)||Mu(Nt.target)){Nt.preventDefault(),Bn(Nt.target);return}/^(TABLE|IMG|HR)$/.test(Nt.target.nodeName)&&(Nt.preventDefault(),Nt.target.tagName==="IMG"&&Bn(Nt.target))};i.bind(Ft,"mscontrolselect",nt),n.on("remove",function(){return i.unbind(Ft,"mscontrolselect",nt)})}var Ht=ji.throttle(function(Nt){n.composing||ju(Nt)});n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Ht),n.on("keyup compositionend",function(Nt){v&&v.nodeName==="TABLE"&&Ht(Nt)}),n.on("hide blur",uo),n.on("contextmenu longpress",jt,!0)}),n.on("remove",It);var Dn=function(){v=p=N=null};return{isResizable:yn,showResizeRect:zi,hideResizeRect:uo,updateResizeRect:ju,destroy:Dn}},fx=function(e){return xl(e)||Fa(e)},Gw=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Y4=function(e,n,a){var i,l=a.elementFromPoint(e,n),v=a.body.createTextRange();if((!l||l.tagName==="HTML")&&(l=a.body),v.moveToElementText(l),i=yt.toArray(v.getClientRects()),i=i.sort(function(p,x){return p=Math.abs(Math.max(p.top-n,p.bottom-n)),x=Math.abs(Math.max(x.top-n,x.bottom-n)),p-x}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return v.moveToPoint(e,n),v.collapse(!0),v}catch{}}return null},vx=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return Fa(Gw(a,n,fx))?null:e},qw=function(e,n,a){var i,l,v=a;if(v.caretPositionFromPoint)l=v.caretPositionFromPoint(e,n),l&&(i=a.createRange(),i.setStart(l.offsetNode,l.offset),i.collapse(!0));else if(v.caretRangeFromPoint)i=v.caretRangeFromPoint(e,n);else if(v.body.createTextRange){i=v.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch{i=Y4(e,n,a)}return vx(i,a.body)}return i},Kw=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},J4=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Ls=function(e,n,a){return J4(e,n,a)!==null},xu=function(e,n,a){return Ls(e,n,function(i){return i.nodeName===a})},lf=function(e){return e&&e.nodeName==="TABLE"},Z4=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Q4=function(e,n){return Nu(e)&&Ls(e,n,tf)===!1},Xw=function(e,n,a){for(var i=new sa(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(wa(n))return!0},Sr=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},eE=function(e,n){for(;n&&n!==e;){if(Fa(n))return!0;n=n.parentNode}return!1},H0=function(e,n,a,i,l){var v,p=e.getRoot(),x,A=e.schema.getNonEmptyElements(),N=e.getParent(l.parentNode,e.isBlock)||p;if(i&&wa(l)&&n&&e.isEmpty(N))return te.some(dt(l.parentNode,e.nodeIndex(l)));for(var X=new sa(l,N);x=X[i?"prev":"next"]();){if(e.getContentEditableParent(x)==="false"||Q4(x,p))return te.none();if(gn(x)&&x.nodeValue.length>0)return xu(x,p,"A")===!1?te.some(dt(x,i?x.nodeValue.length:0)):te.none();if(e.isBlock(x)||A[x.nodeName.toLowerCase()])return te.none();v=x}return a&&v?te.some(dt(v,0)):te.none()},V0=function(e,n,a,i){var l,v,p=e.getRoot(),x,A,N=!1;l=i[(a?"start":"end")+"Container"],v=i[(a?"start":"end")+"Offset"];var X=Kn(l)&&v===l.childNodes.length,Z=e.schema.getNonEmptyElements();if(A=a,Nu(l))return te.none();if(Kn(l)&&v>l.childNodes.length-1&&(A=!1),gp(l)&&(l=p,v=0),l===p){if(A&&(x=l.childNodes[v>0?v-1:0],x&&(Nu(x)||Z[x.nodeName]||lf(x))))return te.none();if(l.hasChildNodes()){if(v=Math.min(!A&&v>0?v-1:v,l.childNodes.length-1),l=l.childNodes[v],v=gn(l)&&X?l.data.length:0,!n&&l===p.lastChild&&lf(l)||eE(p,l)||Nu(l))return te.none();if(l.hasChildNodes()&&lf(l)===!1){x=l;var Q=new sa(l,p);do{if(Fa(x)||Nu(x)){N=!1;break}if(gn(x)&&x.nodeValue.length>0){v=A?0:x.nodeValue.length,l=x,N=!0;break}if(Z[x.nodeName.toLowerCase()]&&!Z4(x)){v=e.nodeIndex(x),l=x.parentNode,A||v++,N=!0;break}}while(x=A?Q.next():Q.prev())}}}return n&&(gn(l)&&v===0&&H0(e,X,n,!0,l).each(function(ce){l=ce.container(),v=ce.offset(),N=!0}),Kn(l)&&(x=l.childNodes[v],x||(x=l.childNodes[v-1]),x&&wa(x)&&!Sr(x,"A")&&!Xw(e,x,!1)&&!Xw(e,x,!0)&&H0(e,X,n,!0,x).each(function(ce){l=ce.container(),v=ce.offset(),N=!0}))),A&&!n&&gn(l)&&v===l.nodeValue.length&&H0(e,X,n,!1,l).each(function(ce){l=ce.container(),v=ce.offset(),N=!0}),N?te.some(dt(l,v)):te.none()},U0=function(e,n){var a=n.collapsed,i=n.cloneRange(),l=dt.fromRangeStart(n);return V0(e,a,!0,i).each(function(v){(!a||!dt.isAbove(l,v))&&i.setStart(v.container(),v.offset())}),a||V0(e,a,!1,i).each(function(v){i.setEnd(v.container(),v.offset())}),a&&i.collapse(!0),Kw(n,i)?te.none():te.some(i)},a1=function(e,n){return e.splitText(n)},lv=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,l=e.endOffset;return n===i&&gn(n)?a>0&&a<n.nodeValue.length&&(i=a1(n,a),n=i.previousSibling,l>a?(l=l-a,n=i=a1(i,l).previousSibling,l=i.nodeValue.length,a=0):l=0):(gn(n)&&a>0&&a<n.nodeValue.length&&(n=a1(n,a),a=0),gn(i)&&l>0&&l<i.nodeValue.length&&(i=a1(i,l).previousSibling,l=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:l}},o1=function(e){var n=function(l,v){return n1(e,l,v)},a=lv,i=function(l){return U0(e,l).fold(at,function(v){return l.setStart(v.startContainer,v.startOffset),l.setEnd(v.endContainer,v.endOffset),!0})};return{walk:n,split:a,normalize:i}};o1.compareRanges=Kw,o1.getCaretRangeFromPoint=qw,o1.getSelectedNode=am,o1.getNode=ja;var tE=function(e,n){var a=function(x,A){if(!pe(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);var N=x.dom;Wa(N)&&(N.style[e]=A+"px")},i=function(x){var A=n(x);if(A<=0||A===null){var N=hr(x,e);return parseFloat(N)||0}return A},l=i,v=function(x,A){return Dt(A,function(N,X){var Z=hr(x,X),Q=Z===void 0?0:parseInt(Z,10);return isNaN(Q)?N:N+Q},0)},p=function(x,A,N){var X=v(x,N),Z=A>X?A-X:0;return Z};return{set:a,get:i,getOuter:l,aggregate:v,max:p}},dx=tE("height",function(e){var n=e.dom;return Uf(e)?n.getBoundingClientRect().height:n.offsetHeight}),Yw=function(e){return dx.get(e)},dd=function(e,n){var a=e.view(n);return a.fold(U([]),function(i){var l=e.owner(i),v=dd(e,l);return[i].concat(v)})},W0=function(e,n){var a=n.owner(e);return dd(n,a)},mx=function(e){var n,a=e.dom===document?te.none():te.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(je.fromDom)},nE=function(e){return jn(e)},rE=Object.freeze({__proto__:null,view:mx,owner:nE}),aE=function(e){var n=je.fromDom(document),a=ch(n),i=W0(e,rE),l=Bu(e),v=Wt(i,function(p,x){var A=Bu(x);return{left:p.left+A.left,top:p.top+A.top}},{left:0,top:0});return nc(v.left+l.left+a.left,v.top+l.top+a.top)},wm=function(e){return xo(e)==="textarea"},Jw=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},Mn=function(e,n){e.fire("AfterScrollIntoView",n)},hx=function(e,n){var a=Qi(e);if(a.length===0||wm(e))return{element:e,offset:n};if(n<a.length&&!wm(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return wm(i)?{element:e,offset:n}:xo(i)==="img"?{element:i,offset:1}:Ka(i)?{element:i,offset:Lw(i).length}:{element:i,offset:Qi(i).length}},gx=function(e,n){var a=Ua(e),i=Yw(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},oE=function(e,n){var a=hx(e,n),i=je.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ve+"</span>");return ki(a.element,i),gx(i,function(){return vo(i)})},i1=function(e){return gx(je.fromDom(e),ye)},iu=function(e,n,a,i){Zw(e,function(l,v){return iE(e,n,a,i)},a)},u1=function(e,n,a,i,l){var v={elm:i.element.dom,alignToTop:l};if(!Jw(e,v)){var p=ch(n).top;a(n,p,i,l),Mn(e,v)}},iE=function(e,n,a,i){var l=je.fromDom(e.getBody()),v=je.fromDom(e.getDoc());w3(l);var p=oE(je.fromDom(a.startContainer),a.startOffset);u1(e,v,n,p,i),p.cleanup()},px=function(e,n,a,i){var l=je.fromDom(e.getDoc());u1(e,l,a,i1(n),i)},Zw=function(e,n,a){var i=a.startContainer,l=a.startOffset,v=a.endContainer,p=a.endOffset;n(je.fromDom(i),je.fromDom(v));var x=e.dom.createRng();x.setStart(i,l),x.setEnd(v,p),e.selection.setRng(a)},Qw=function(e,n,a,i){var l=e.pos;if(a)os(l.left,l.top,i);else{var v=l.top-n+e.height;os(l.left,v,i)}},bx=function(e,n,a,i,l){var v=a+n,p=i.pos.top,x=i.bottom,A=x-p>=a;if(p<n)Qw(i,a,l!==!1,e);else if(p>v){var N=A?l!==!1:l===!0;Qw(i,a,N,e)}else x>v&&!A&&Qw(i,a,l===!0,e)},eC=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;bx(e,n,l,a,i)},tC=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;bx(e,n,l,a,i);var v=aE(a.element),p=jf(window);v.top<p.y?fh(a.element,i!==!1):v.top>p.bottom&&fh(a.element,i===!0)},cv=function(e,n,a){return iu(e,eC,n,a)},uE=function(e,n,a){return px(e,n,eC,a)},sE=function(e,n,a){return iu(e,tC,n,a)},yx=function(e,n,a){return px(e,n,tC,a)},lE=function(e,n,a){var i=e.inline?uE:yx;i(e,n,a)},s1=function(e,n,a){var i=e.inline?cv:sE;i(e,n,a)},ta=function(){return je.fromDom(document)},j0=function(e){return e.dom.focus()},fv=function(e){var n=vu(e).dom;return e.dom===n.activeElement},Il=function(e){return e===void 0&&(e=ta()),te.from(e.dom.activeElement).map(je.fromDom)},md=function(e){return Il(vu(e)).filter(function(n){return e.dom.contains(n.dom)})},Uu=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},G0={create:Uu},Cm=$n.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),gg=function(e,n,a,i){return e.fold(n,a,i)},hd=function(e){return e.fold(_e,_e,_e)},cE=Cm.before,wx=Cm.on,fE=Cm.after,vE={before:cE,on:wx,after:fE,cata:gg,getStart:hd},yr=$n.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Nl=function(e){return yr.exact(e.start,e.soffset,e.finish,e.foffset)},pg=function(e){return e.match({domRange:function(n){return je.fromDom(n.startContainer)},relative:function(n,a){return vE.getStart(n)},exact:function(n,a,i,l){return n}})},Cx=yr.domRange,l1=yr.relative,Rr=yr.exact,Sx=function(e){var n=pg(e);return no(n)},_x=G0.create,c1={domRange:Cx,relative:l1,exact:Rr,exactFromRange:Nl,getWin:Sx,range:_x},xx=Rn().browser,f1=function(e,n){var a=Ka(n)?Lw(n).length:Qi(n).length+1;return e>a?a:e<0?0:e},Sm=function(e){return c1.range(e.start,f1(e.soffset,e.start),e.finish,f1(e.foffset,e.finish))},nC=function(e,n){return!zc(n.dom)&&(Hi(e,n)||$a(e,n))},rC=function(e){return function(n){return nC(e,n.start)&&nC(e,n.finish)}},kx=function(e){return e.inline===!0||xx.isIE()},Ax=function(e){return c1.range(je.fromDom(e.startContainer),e.startOffset,je.fromDom(e.endContainer),e.endOffset)},gd=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?te.none():te.from(n.getRangeAt(0));return a.map(Ax)},_m=function(e){var n=no(e);return gd(n.dom).filter(rC(e))},aC=function(e,n){return te.from(n).filter(rC(e)).map(Sm)},Ex=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),te.some(n)}catch{return te.none()}},q0=function(e){var n=kx(e)?_m(je.fromDom(e.getBody())):te.none();e.bookmark=n.isSome()?n:e.bookmark},dE=function(e,n){var a=je.fromDom(e.getBody()),i=kx(e)?te.from(n):te.none(),l=i.map(Ax).filter(rC(a));e.bookmark=l.isSome()?l:e.bookmark},bg=function(e){var n=e.bookmark?e.bookmark:te.none();return n.bind(function(a){return aC(je.fromDom(e.getBody()),a)}).bind(Ex)},oC=function(e){bg(e).each(function(n){return e.selection.setRng(n)})},iC=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},Tx={isEditorUIElement:iC},uC=function(e){return e.type==="nodechange"&&e.selectionChange},K0=function(e,n){var a=function(){n.throttle()};Ma.DOM.bind(document,"mouseup",a),e.on("remove",function(){Ma.DOM.unbind(document,"mouseup",a)})},X0=function(e){e.on("focusout",function(){q0(e)})},sC=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},lC=function(e,n){var a=Rn().browser;a.isIE()?X0(e):sC(e,n),e.on("keyup NodeChange",function(i){uC(i)||q0(e)})},Ox=function(e){var n=qb(function(){q0(e)},0);e.on("init",function(){e.inline&&K0(e,n),lC(e,n)}),e.on("remove",function(){n.cancel()})},xm,yg=Ma.DOM,Dx=function(e){return Tx.isEditorUIElement(e)},Rx=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Y0=function(e,n){var a=sw(e),i=yg.getParent(n,function(l){return Dx(l)||(a?e.dom.is(l,a):!1)});return i!==null},$x=function(e){try{var n=vu(je.fromDom(e.getElement()));return Il(n).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},Bx=function(e,n){var a=n.editor;Ox(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){ji.setEditorTimeout(a,function(){var i=e.focusedEditor;!Y0(a,$x(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),xm||(xm=function(i){var l=e.activeEditor;l&&Vi(i).each(function(v){v.ownerDocument===document&&v!==document.body&&!Y0(l,v)&&e.focusedEditor===l&&(l.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},yg.bind(document,"focusin",xm))},cC=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(yg.unbind(document,"focusin",xm),xm=null)},Mx=function(e){e.on("AddEditor",se(Bx,e)),e.on("RemoveEditor",se(cC,e))},Px=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},Ix=function(e){return e.collapsed?te.from(ja(e.startContainer,e.startOffset)).map(je.fromDom):te.none()},mE=function(e,n){return Ix(n).bind(function(a){return Kr(a)?te.some(a):Hi(e,a)===!1?te.some(e):te.none()})},Nx=function(e,n){mE(je.fromDom(e.getBody()),n).bind(function(a){return ou(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},fC=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},wg=function(e){return fv(e)||md(e).isSome()},hE=function(e){return e.iframeElement&&fv(je.fromDom(e.iframeElement))},zx=function(e){var n=e.getBody();return n&&wg(je.fromDom(n))},Fx=function(e){var n=vu(je.fromDom(e.getElement()));return Il(n).filter(function(a){return!Rx(a.dom)&&Y0(e,a.dom)}).isSome()},sl=function(e){return e.inline?zx(e):hE(e)},Lx=function(e){return sl(e)||Fx(e)},Hx=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&sl(e)===!1&&bg(e).each(function(v){e.selection.setRng(v),i=v});var l=Px(e,n.getNode());if(e.$.contains(a,l)){fC(l),Nx(e,i),J0(e);return}e.inline||(Hn.opera||fC(a),e.getWin().focus()),(Hn.gecko||e.inline)&&(fC(a),Nx(e,i)),J0(e)},J0=function(e){return e.editorManager.setActive(e)},Z0=function(e,n){e.removed||(n?J0(e):Hx(e))},vC=function(e,n,a,i,l){var v=a?n.startContainer:n.endContainer,p=a?n.startOffset:n.endOffset;return te.from(v).map(je.fromDom).map(function(x){return!i||!n.collapsed?ec(x,l(x,p)).getOr(x):x}).bind(function(x){return za(x)?te.some(x):ro(x).filter(za)}).map(function(x){return x.dom}).getOr(e)},km=function(e,n,a){return vC(e,n,!0,a,function(i,l){return Math.min(mb(i),l)})},Cg=function(e,n,a){return vC(e,n,!1,a,function(i,l){return l>0?l-1:l})},Vx=function(e,n){for(var a=e;e&&gn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},Ux=function(e,n){var a,i,l;if(!n)return e;i=n.startContainer,l=n.endContainer;var v=n.startOffset,p=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===l&&p-v<2&&i.hasChildNodes()&&(a=i.childNodes[v]),i.nodeType===3&&l.nodeType===3&&(i.length===v?i=Vx(i.nextSibling,!0):i=i.parentNode,p===0?l=Vx(l.previousSibling,!1):l=l.parentNode,i&&i===l))?i:a&&a.nodeType===3?a.parentNode:a},Q0=function(e,n,a,i){var l,v=[],p=e.getRoot();if(a=e.getParent(a||km(p,n,n.collapsed),e.isBlock),i=e.getParent(i||Cg(p,n,n.collapsed),e.isBlock),a&&a!==p&&v.push(a),a&&i&&a!==i){l=a;for(var x=new sa(a,p);(l=x.next())&&l!==i;)e.isBlock(l)&&v.push(l)}return i&&a!==i&&i!==p&&v.push(i),v},gE=function(e,n,a){return te.from(n).map(function(i){var l=e.nodeIndex(i),v=e.createRng();return v.setStart(i.parentNode,l),v.setEnd(i.parentNode,l+1),a&&(cd(e,v,i,!0),cd(e,v,i,!1)),v})},ey=function(e,n){return et(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},v1={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ty=function(e,n,a){var i=a?"lastChild":"firstChild",l=a?"prev":"next";if(e[i])return e[i];if(e!==n){var v=e[l];if(v)return v;for(var p=e.parent;p&&p!==n;p=p.parent)if(v=p[l],v)return v}},Wx=function(e){if(!Tl(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},ny=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},ll=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,v1[n]||1);return a&&Hr(a,function(l,v){i.attr(v,l)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,l;if(typeof n!="string")return n!=null&&Hr(n,function(p,x){i.attr(x,p)}),i;if(l=i.attributes){if(a!==void 0){if(a===null){if(n in l.map){delete l.map[n];for(var v=l.length;v--;)if(l[v].name===n)return l.splice(v,1),i}return i}if(n in l.map){for(var v=l.length;v--;)if(l[v].name===n){l[v].value=a;break}}else l.push({name:n,value:a});return l.map[n]=a,i}return l.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var l=[];l.map={};for(var v=0,p=i.length;v<p;v++){var x=i[v];x.name!=="id"&&(l[l.length]={name:x.name,value:x.value},l.map[x.name]=x.value)}a.attributes=l}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,l=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):l.next=i,a.lastChild===n?(a.lastChild=l,l&&(l.next=null)):i.prev=l,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var l=a.parent||this;return i?(a===l.firstChild?l.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===l.lastChild?l.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=l,n},e.prototype.getAll=function(n){for(var a=this,i=[],l=a.firstChild;l;l=ty(l,a))l.name===n&&i.push(l);return i},e.prototype.children=function(){for(var n=this,a=[],i=n.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=ty(i,n))a.push(i);for(var l=a.length;l--;){var i=a[l];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var l=this,v=l.firstChild;if(ny(l))return!1;if(v)do{if(v.type===1){if(v.attr("data-mce-bogus"))continue;if(n[v.name]||ny(v))return!1}if(v.type===8||v.type===3&&!Wx(v)||v.type===3&&v.parent&&a[v.parent.name]&&Tl(v.value)||i&&i(v))return!1}while(v=ty(v,l));return!0},e.prototype.walk=function(n){return ty(this,null,n)},e}(),pE=function(e){for(var n=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},l=b_("img"),v,p=0,x=0;v=n.exec(e);){var A=v[0],N=l+"_"+x++;i[N]=A,p<v.index&&a.push(e.substr(p,v.index-p)),a.push(N),p=v.index+A.length}var X=new RegExp(l+"_[0-9]+","g");return p===0?{prefix:l,uris:i,html:e,re:X}:(p<e.length&&a.push(e.substr(p)),{prefix:l,uris:i,html:a.join(""),re:X})},ry=function(e,n){return e.replace(n.re,function(a){return Pr(n.uris,a).getOr(a)})},jx=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return n?te.some({type:n[1],data:decodeURIComponent(n[2])}):te.none()},d1=yt.each,m1=yt.trim,dC="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Gx={ftp:21,http:80,https:443,mailto:25},qx=["img","video"],Kx=function(e,n){return Ye(e)?!e:Ye(n)?!Ae(qx,n):!0},ay=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?Kx(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},pd=function(){function e(n,a){n=m1(n),this.settings=a||{};var i=this.settings.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}var v=n.indexOf("//")===0;if(n.indexOf("/")===0&&!v&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var p=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+l.toAbsPath(p,n);else{var x=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+l.toAbsPath(p,x[1])+x[2]}}n=n.replace(/@@/g,"(mce_at)");var A=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);d1(dC,function(N,X){var Z=A[X];Z&&(Z=Z.replace(/\(mce_at\)/g,"@@")),l[N]=Z}),i&&(l.protocol||(l.protocol=i.protocol),l.userInfo||(l.userInfo=i.userInfo),!l.port&&l.host==="mce_host"&&(l.port=i.port),(!l.host||l.host==="mce_host")&&(l.host=i.host),l.source=""),v&&(l.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(i[0]);return l&&(a=l[1]),{type:a,data:i[1]}},e.isDomSafe=function(n,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var l=$s.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch{l=unescape(l)}return/((java|vb)script|mhtml):/i.test(l)?!1:!ay(i,l,a)},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var l=this.getURI(),v=i.getURI();return l===v||l.charAt(l.length-1)==="/"&&l.substr(0,l.length-1)===v?l:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=Gx[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,l="",v,p,x=n.substring(0,n.lastIndexOf("/")).split("/"),A=a.split("/");if(x.length>=A.length){for(v=0,p=x.length;v<p;v++)if(v>=A.length||x[v]!==A[v]){i=v+1;break}}if(x.length<A.length){for(v=0,p=A.length;v<p;v++)if(v>=x.length||x[v]!==A[v]){i=v+1;break}}if(i===1)return a;for(v=0,p=x.length-(i-1);v<p;v++)l+="../";for(v=i-1,p=A.length;v<p;v++)v!==i-1?l+="/"+A[v]:l+=A[v];return l},e.prototype.toAbsPath=function(n,a){var i,l=0,v=[],p,x=/\/$/.test(a)?"/":"",A=n.split("/"),N=a.split("/");for(d1(A,function(X){X&&v.push(X)}),A=v,i=N.length-1,v=[];i>=0;i--)if(!(N[i].length===0||N[i]===".")){if(N[i]===".."){l++;continue}if(l>0){l--;continue}v.push(N[i])}return i=A.length-l,i<=0?p=tr(v).join("/"):p=A.slice(0,i).join("/")+"/"+tr(v).join("/"),p.indexOf("/")!==0&&(p="/"+p),x&&p.lastIndexOf("/")!==p.length-1&&(p+=x),p},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),bE=yt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),yE=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},wE=$c(function(){return document.implementation.createHTMLDocument("parser")}),bd=function(e,n,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,v=e.getShortEndedElements(),p=1,x=a;p!==0;)for(i.lastIndex=x;;){var A=i.exec(n);if(A===null)return x;if(A[1]==="!"){po(A[2],"--")?x=mC(n,!1,A.index+3):x=mC(n,!0,A.index+1);break}else{l.lastIndex=i.lastIndex;var N=l.exec(n);if(ue(N)||N.index!==i.lastIndex)continue;A[1]==="/"?p-=1:Ar(v,A[2])||(p+=1),x=i.lastIndex+N[0].length;break}}return x},CE=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},mC=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&CE(i,a)){var l=i.indexOf("[endif]",a);return i.indexOf(">",l)}else if(n){var v=i.indexOf(">",a);return v!==-1?v:i.length}else{var p=/--!?>/g;p.lastIndex=a;var x=p.exec(e);return x?x.index+x[0].length:i.length}},SE=function(e,n){var a=e.exec(n);if(a){var i=a[1],l=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?l:null}else return null},Sg=function(e,n){n===void 0&&(n=Bs()),e=e||{};var a=wE(),i=a.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var l=e.comment?e.comment:ye,v=e.cdata?e.cdata:ye,p=e.text?e.text:ye,x=e.start?e.start:ye,A=e.end?e.end:ye,N=e.pi?e.pi:ye,X=e.doctype?e.doctype:ye,Z=function(ce,ve){ve===void 0&&(ve="html");for(var me=ce.html,he,Oe=0,xe,qe,We=[],Re,Ze,St,Ft,Vn,mn,$t,Ln,Vt,vn,jt,Zt,yn,Pt,hn,xr,na,Jr=0,zi=$s.decode,uo=yt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ju=ve==="html"?0:1,ps=function(Oa){var Ha,pi;for(Ha=We.length;Ha--&&We[Ha].name!==Oa;);if(Ha>=0){for(pi=We.length-1;pi>=Ha;pi--)Oa=We[pi],Oa.valid&&A(Oa.name);We.length=Ha}},It=function(Oa,Ha){return p(ry(Oa,ce),Ha)},qt=function(Oa){Oa!==""&&(Oa.charAt(0)===">"&&(Oa=" "+Oa),!e.allow_conditional_comments&&Oa.substr(0,3).toLowerCase()==="[if"&&(Oa=" "+Oa),l(ry(Oa,ce)))},Dn=function(Oa){return ry(Oa,ce)},nt=function(Oa,Ha){var pi=Oa||"",bs=!po(pi,"--"),Sv=mC(me,bs,Ha);return Oa=me.substr(Ha,Sv-Ha),qt(bs?pi+Oa:Oa),Sv+1},Ht=function(Oa,Ha,pi,bs,Sv){if(Ha=Ha.toLowerCase(),pi=Dn(Ha in ni?Ha:zi(pi||bs||Sv||"")),Yo&&!Vn&&yE(Ha)===!1){var _v=jt[Ha];if(!_v&&Zt){for(var Xg=Zt.length;Xg--&&(_v=Zt[Xg],!_v.pattern.test(Ha)););Xg===-1&&(_v=null)}if(!_v||_v.validValues&&!(pi in _v.validValues))return}var Fy=Ha==="name"||Ha==="id";Fy&&Oa in bE&&(pi in a||pi in i)||uo[Ha]&&!pd.isDomSafe(pi,Oa,e)||Vn&&(Ha in uo||Ha.indexOf("on")===0)||(Re.map[Ha]=pi,Re.push({name:Ha,value:pi}))},Nt=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Bn=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Nn=n.getShortEndedElements(),Aa=e.self_closing_elements||n.getSelfClosingElements(),ni=n.getBoolAttrs(),Yo=e.validate,Im=e.remove_internals,Gu=e.fix_self_closing,Eu=n.getSpecialElements(),gi=me+">";he=Nt.exec(gi);){var Vl=he[0];if(Oe<he.index&&It(zi(me.substr(Oe,he.index-Oe))),xe=he[7])xe=xe.toLowerCase(),xe.charAt(0)===":"&&(xe=xe.substr(1)),ps(xe);else if(xe=he[8]){if(he.index+Vl.length>me.length){It(zi(me.substr(he.index))),Oe=he.index+Vl.length;continue}xe=xe.toLowerCase(),xe.charAt(0)===":"&&(xe=xe.substr(1)),mn=xe in Nn,Gu&&Aa[xe]&&We.length>0&&We[We.length-1].name===xe&&ps(xe);var qu=SE(Bn,he[9]);if(qu!==null){if(qu==="all"){Oe=bd(n,me,Nt.lastIndex),Nt.lastIndex=Oe;continue}Ln=!1}if(!Yo||($t=n.getElementRule(xe))){if(Ln=!0,Yo&&(jt=$t.attributes,Zt=$t.attributePatterns),(vn=he[9])?(Vn=vn.indexOf("data-mce-type")!==-1,Vn&&Im&&(Ln=!1),Re=[],Re.map={},vn.replace(Bn,function(Oa,Ha,pi,bs,Sv){return Ht(xe,Ha,pi,bs,Sv),""})):(Re=[],Re.map={}),Yo&&!Vn){if(yn=$t.attributesRequired,Pt=$t.attributesDefault,hn=$t.attributesForced,xr=$t.removeEmptyAttrs,xr&&!Re.length&&(Ln=!1),hn)for(Ze=hn.length;Ze--;)Vt=hn[Ze],Ft=Vt.name,na=Vt.value,na==="{$uid}"&&(na="mce_"+Jr++),Re.map[Ft]=na,Re.push({name:Ft,value:na});if(Pt)for(Ze=Pt.length;Ze--;)Vt=Pt[Ze],Ft=Vt.name,Ft in Re.map||(na=Vt.value,na==="{$uid}"&&(na="mce_"+Jr++),Re.map[Ft]=na,Re.push({name:Ft,value:na}));if(yn){for(Ze=yn.length;Ze--&&!(yn[Ze]in Re.map););Ze===-1&&(Ln=!1)}if(Vt=Re.map["data-mce-bogus"]){if(Vt==="all"){Oe=bd(n,me,Nt.lastIndex),Nt.lastIndex=Oe;continue}Ln=!1}}Ln&&x(xe,Re,mn)}else Ln=!1;if(qe=Eu[xe]){qe.lastIndex=Oe=he.index+Vl.length,(he=qe.exec(me))?(Ln&&(St=me.substr(Oe,he.index-Oe)),Oe=he.index+he[0].length):(St=me.substr(Oe),Oe=me.length),Ln&&(St.length>0&&It(St,!0),A(xe)),Nt.lastIndex=Oe;continue}mn||(!vn||vn.indexOf("/")!==vn.length-1?We.push({name:xe,valid:Ln}):Ln&&A(xe))}else if(xe=he[1])qt(xe);else if(xe=he[2]){var Sf=ju===1||e.preserve_cdata||We.length>0&&n.isValidChild(We[We.length-1].name,"#cdata");if(Sf)v(xe);else{Oe=nt("",he.index+2),Nt.lastIndex=Oe;continue}}else if(xe=he[3])X(xe);else if((xe=he[4])||Vl==="<!"){Oe=nt(xe,he.index+Vl.length),Nt.lastIndex=Oe;continue}else if(xe=he[5])if(ju===1)N(xe,he[6]);else{Oe=nt("?",he.index+2),Nt.lastIndex=Oe;continue}Oe=he.index+Vl.length}for(Oe<me.length&&It(zi(me.substr(Oe))),Ze=We.length-1;Ze>=0;Ze--)xe=We[Ze],xe.valid&&A(xe.name)},Q=function(ce,ve){ve===void 0&&(ve="html"),Z(pE(ce),ve)};return{parse:Q}};Sg.findEndTag=bd;var hC=function(e,n){var a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(a,"")},Xx=function(e,n){for(var a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,i=e.schema,l=hC(e.getTempAttrs(),n),v=i.getShortEndedElements(),p;p=a.exec(l);){var x=a.lastIndex,A=p[0].length,N=void 0;v[p[1]]?N=x:N=Sg.findEndTag(i,l,x),l=l.substring(0,x-A)+l.substring(N),a.lastIndex=x-A}return uc(l)},oy=Xx,Yx=function(e,n){var a=Bi(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},Jx=function(e,n){return Wn(Wn({},e),{format:n,get:!0,getInner:!0})},_E=function(e,n,a,i){var l=Jx(n,a),v=n.no_events?l:e.fire("BeforeGetContent",l),p;return v.format==="raw"?p=yt.trim(oy(e.serializer,i.innerHTML)):v.format==="text"?p=e.dom.isEmpty(i)?"":uc(i.innerText||i.textContent):v.format==="tree"?p=e.serializer.serialize(i,v):p=Yx(e,e.serializer.serialize(i,v)),!Ae(["text","tree"],v.format)&&!Ld(je.fromDom(i))?v.content=yt.trim(p):v.content=p,v.no_events?v.content:e.fire("GetContent",v).content},iy=function(e,n,a){return te.from(e.getBody()).fold(U(n.format==="tree"?new ll("body",11):""),function(i){return _E(e,n,a,i)})},uy=yt.each,gC=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var l=function(p){var x={};return uy(e.getAttribs(p),function(A){var N=A.nodeName.toLowerCase();N.indexOf("_")!==0&&N!=="style"&&N.indexOf("data-")!==0&&(x[N]=e.getAttrib(p,N))}),x},v=function(p,x){var A,N;for(N in p)if(Ar(p,N)){if(A=x[N],typeof A>"u"||p[N]!==A)return!1;delete x[N]}for(N in x)if(Ar(x,N))return!1;return!0};return!v(l(a),l(i))||!v(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!Vu(a)&&!Vu(i)};return{compare:n}},Zx=yt.makeMap,Qx=function(e){var n=[];e=e||{};var a=e.indent,i=Zx(e.indent_before||""),l=Zx(e.indent_after||""),v=$s.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format==="html";return{start:function(x,A,N){var X,Z,Q,ce;if(a&&i[x]&&n.length>0&&(ce=n[n.length-1],ce.length>0&&ce!==`
`&&n.push(`
`)),n.push("<",x),A)for(X=0,Z=A.length;X<Z;X++)Q=A[X],n.push(" ",Q.name,'="',v(Q.value,!0),'"');!N||p?n[n.length]=">":n[n.length]=" />",N&&a&&l[x]&&n.length>0&&(ce=n[n.length-1],ce.length>0&&ce!==`
`&&n.push(`
`))},end:function(x){var A;n.push("</",x,">"),a&&l[x]&&n.length>0&&(A=n[n.length-1],A.length>0&&A!==`
`&&n.push(`
`))},text:function(x,A){x.length>0&&(n[n.length]=A?x:v(x))},cdata:function(x){n.push("<![CDATA[",x,"]]>")},comment:function(x){n.push("<!--",x,"-->")},pi:function(x,A){A?n.push("<?",x," ",v(A),"?>"):n.push("<?",x,"?>"),a&&n.push(`
`)},doctype:function(x){n.push("<!DOCTYPE",x,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},Am=function(e,n){n===void 0&&(n=Bs());var a=Qx(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(l){var v=e.validate,p={3:function(A){a.text(A.value,A.raw)},8:function(A){a.comment(A.value)},7:function(A){a.pi(A.name,A.value)},10:function(A){a.doctype(A.value)},4:function(A){a.cdata(A.value)},11:function(A){if(A=A.firstChild)do x(A);while(A=A.next)}};a.reset();var x=function(A){var N=p[A.type];if(N)N(A);else{var X=A.name,Z=A.shortEnded,Q=A.attributes;if(v&&Q&&Q.length>1){var ce=[];ce.map={};var ve=n.getElementRule(A.name);if(ve){for(var me=0,he=ve.attributesOrder.length;me<he;me++){var Oe=ve.attributesOrder[me];if(Oe in Q.map){var xe=Q.map[Oe];ce.map[Oe]=xe,ce.push({name:Oe,value:xe})}}for(var me=0,he=Q.length;me<he;me++){var Oe=Q[me].name;if(!(Oe in ce.map)){var xe=Q.map[Oe];ce.map[Oe]=xe,ce.push({name:Oe,value:xe})}}Q=ce}}if(a.start(A.name,Q,Z),!Z){if(A=A.firstChild)do x(A);while(A=A.next);a.end(X)}}};return l.type===1&&!e.inner?x(l):p[11](l),a.getContent()};return{serialize:i}},h1=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];He(e,function(n){h1.add(n)})})();var sy=["font","text-decoration","text-emphasis"],g1=function(e,n){return Zi(e.parseStyle(e.getAttrib(n,"style")))},ek=function(e){return h1.has(e)},vv=function(e,n){return Gr(g1(e,n),function(a){return!ek(a)})},xE=function(e){return it(e,function(n){return Je(sy,function(a){return po(n,a)})})},cf=function(e,n,a){var i=g1(e,n),l=g1(e,a),v=function(p){var x=e.getStyle(n,p),A=e.getStyle(a,p);return $f(x)&&$f(A)&&x!==A};return Je(i,function(p){var x=function(N){return Je(N,function(X){return X===p})};if(!x(l)&&x(sy)){var A=xE(l);return Je(A,v)}else return v(p)})},tk=function(e,n,a){return te.from(a.container()).filter(gn).exists(function(i){var l=e?0:-1;return n(i.data.charAt(a.offset()+l))})},ly=se(tk,!0,sd),pC=se(tk,!1,sd),kE=function(e){var n=e.container();return gn(n)&&(n.data.length===0||gu(n.data)&&vd.isBookmarkNode(n.parentNode))},yd=function(e,n){return function(a){return te.from(C0(e?0:-1,a)).filter(n).isSome()}},nk=function(e){return vh(e)&&hr(je.fromDom(e),"display")==="block"},rk=function(e){return Fa(e)&&!Vo(e)},AE=yd(!0,nk),bC=yd(!1,nk),_g=yd(!0,Mu),xg=yd(!1,Mu),ak=yd(!0,Ao),yC=yd(!1,Ao),zl=yd(!0,rk),wd=yd(!1,rk),Fn=function(e){for(var n=[],a=e.dom;a;)n.push(je.fromDom(a)),a=a.lastChild;return n},wC=function(e){var n=$i(e,"br"),a=it(Fn(e).slice(-1),wh);n.length===a.length&&He(a,vo)},ff=function(e){Hf(e),Ho(e,je.fromHtml('<br data-mce-bogus="1">'))},ok=function(e){as(e).each(function(n){zf(n).each(function(a){Ts(e)&&wh(n)&&Ts(a)&&vo(n)})})},EE=function(e){return e.slice(0,-1)},ik=function(e,n,a){return Hi(n,e)?EE(Lo(e,function(i){return a(i)||$a(i,n)})):[]},p1=function(e,n){return ik(e,n,at)},yc=function(e,n){return[e].concat(p1(e,n))},cy=function(e,n,a){return O0(e,n,a,kE)},uk=function(e,n){return rn(yc(je.fromDom(n.container()),e),Ts)},Qn=function(e,n,a){return cy(e,n.dom,a).forall(function(i){return uk(n,a).fold(function(){return gc(i,a,n.dom)===!1},function(l){return gc(i,a,n.dom)===!1&&Hi(l,je.fromDom(i.container()))})})},CC=function(e,n,a){return uk(n,a).fold(function(){return cy(e,n.dom,a).forall(function(i){return gc(i,a,n.dom)===!1})},function(i){return cy(e,i.dom,a).isNone()})},ar=se(CC,!1),SC=se(CC,!0),sk=se(Qn,!1),lk=se(Qn,!0),kg=function(e){return _0(e).exists(wh)},Ag=function(e,n,a){var i=it(yc(je.fromDom(a.container()),n),Ts),l=da(i).getOr(n);return Hu(e,l.dom,a).filter(kg)},Eg=function(e,n){return _0(n).exists(wh)||Ag(!0,e,n).isSome()},Tg=function(e,n){return R4(n).exists(wh)||Ag(!1,e,n).isSome()},TE=se(Ag,!1),Yn=se(Ag,!0),ck=function(e){return dt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},_C=function(e,n){var a=it(yc(je.fromDom(n.container()),e),Ts);return da(a).getOr(e)},b1=function(e,n){return ck(n)?pC(n):pC(n)||bc(_C(e,n).dom,n).exists(pC)},Cd=function(e,n){return ck(n)?ly(n):ly(n)||Ml(_C(e,n).dom,n).exists(ly)},fk=function(e){return Ae(["pre","pre-wrap"],e)},fy=function(e){return _0(e).bind(function(n){return ph(n,za)}).exists(function(n){return fk(hr(n,"white-space"))})},xC=function(e,n){return bc(e.dom,n).isNone()},OE=function(e,n){return Ml(e.dom,n).isNone()},vk=function(e,n){return xC(e,n)||OE(e,n)||ar(e,n)||SC(e,n)||Tg(e,n)||Eg(e,n)},DE=function(e,n){return fy(n)?!1:vk(e,n)||b1(e,n)||Cd(e,n)},vy=function(e,n){return fy(n)?!1:ar(e,n)||sk(e,n)||Tg(e,n)||b1(e,n)},RE=function(e){var n=e.container(),a=e.offset();return gn(n)&&a<n.data.length?dt(n,a+1):e},dy=function(e,n){return fy(n)?!1:SC(e,n)||lk(e,n)||Eg(e,n)||Cd(e,n)},dk=function(e,n){return vy(e,n)||dy(e,RE(n))},mk=function(e,n){return hm(e.charAt(n))},$E=function(e){var n=e.container();return gn(n)&&Bo(n.data,us)},hk=function(e){var n=e.split("");return et(n,function(a,i){return hm(a)&&i>0&&i<n.length-1&&D0(n[i-1])&&D0(n[i+1])?" ":a}).join("")},kC=function(e,n){var a=n.data,i=dt(n,0);return mk(a,0)&&!dk(e,i)?(n.data=" "+a.slice(1),!0):!1},Ir=function(e){var n=e.data,a=hk(n);return a!==n?(e.data=a,!0):!1},gk=function(e,n){var a=n.data,i=dt(n,a.length-1);return mk(a,a.length-1)&&!dk(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},my=function(e,n){return te.some(n).filter($E).bind(function(a){var i=a.container(),l=kC(e,i)||Ir(i)||gk(e,i);return l?te.some(a):te.none()})},AC=function(e){var n=je.fromDom(e.getBody());e.selection.isCollapsed()&&my(n,dt.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},pk=function(e,n,a){var i=Dt(e,function(l,v){return sd(v)||hm(v)?l.previousCharIsSpace||l.str===""&&n||l.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:l.str+us}:{previousCharIsSpace:!0,str:l.str+" "}:{previousCharIsSpace:!1,str:l.str+v}},{previousCharIsSpace:!1,str:""});return i.str},EC=function(e,n,a){if(a!==0){var i=je.fromDom(e),l=Iv(i,Ts).getOr(i),v=e.data.slice(n,n+a),p=n+a>=e.data.length&&dy(l,dt(e,e.data.length)),x=n===0&&vy(l,dt(e,0));e.replaceData(n,a,pk(v,x,p))}},y1=function(e,n){var a=e.data.slice(n),i=a.length-Bd(a).length;EC(e,n,i)},hy=function(e,n){var a=e.data.slice(0,n),i=a.length-es(a).length;EC(e,n-i,i)},u=function(e,n,a,i){i===void 0&&(i=!0);var l=es(e.data).length,v=i?e:n,p=i?n:e;return i?v.appendData(p.data):v.insertData(0,p.data),vo(je.fromDom(p)),a&&y1(v,l),v},c=function(e,n){var a=e.container(),i=e.offset();return dt.isTextPosition(e)===!1&&a===n.parentNode&&i>dt.before(n).offset()},h=function(e,n){return c(n,e)?dt(n.container(),n.offset()-1):n},w=function(e){return gn(e)?dt(e,0):dt.before(e)},k=function(e){return gn(e)?dt(e,e.data.length):dt.after(e)},R=function(e){return Uc(e.previousSibling)?te.some(k(e.previousSibling)):e.previousSibling?ol(e.previousSibling):te.none()},z=function(e){return Uc(e.nextSibling)?te.some(w(e.nextSibling)):e.nextSibling?ou(e.nextSibling):te.none()},K=function(e,n){var a=dt.before(n.previousSibling?n.previousSibling:n.parentNode);return bc(e,a).fold(function(){return Ml(e,dt.after(n))},te.some)},ie=function(e,n){return Ml(e,dt.after(n)).fold(function(){return bc(e,dt.before(n))},te.some)},be=function(e,n){return R(n).orThunk(function(){return z(n)}).orThunk(function(){return K(e,n)})},Pe=function(e,n){return z(n).orThunk(function(){return R(n)}).orThunk(function(){return ie(e,n)})},mt=function(e,n,a){return e?Pe(n,a):be(n,a)},Lt=function(e,n,a){return mt(e,n,a).map(se(h,a))},At=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},ht=function(e){return function(n){return n.dom===e}},Xt=function(e,n){return n&&Ar(e.schema.getBlockElements(),xo(n))},en=function(e){if(Ti(e)){var n=je.fromHtml('<br data-mce-bogus="1">');return Hf(e),Ho(e,n),te.some(dt.before(n.dom))}else return te.none()},On=function(e,n,a){var i=zf(e).filter(Ka),l=ks(e).filter(Ka);return vo(e),a2(i,l,n,function(v,p,x){var A=v.dom,N=p.dom,X=A.data.length;return u(A,N,a),x.container()===N?dt(A,X):x}).orThunk(function(){return a&&(i.each(function(v){return hy(v.dom,v.dom.length)}),l.each(function(v){return y1(v.dom,0)})),n})},Wr=function(e,n){return Ar(e.schema.getTextInlineElements(),xo(n))},Tn=function(e,n,a,i){i===void 0&&(i=!0);var l=Lt(n,e.getBody(),a.dom),v=Iv(a,se(Xt,e),ht(e.getBody())),p=On(a,l,Wr(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):v.bind(en).fold(function(){i&&At(e,n,p)},function(x){i&&At(e,n,te.some(x))})},Jn=function(e){return function(n){return $a(e,n)}},_r=function(e){return $i(e,"td,th")},wr=function(e,n){var a=function(N){return gm(je.fromDom(N),n)},i=a(e.startContainer),l=a(e.endContainer),v=i.isSome(),p=l.isSome(),x=eu(i,l,$a).getOr(!1),A=!x&&v&&p;return{startTable:i,endTable:l,isStartInTable:v,isEndInTable:p,isSameTable:x,isMultiTable:A}},Co=function(e,n){return{start:e,end:n}},vi=function(e,n,a){return{rng:e,table:n,cells:a}},di=$n.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Nr=function(e,n){return yo(je.fromDom(e),"td,th",n)},er=function(e){return!$a(e.start,e.end)},Tr=function(e,n){return gm(e.start,n).bind(function(a){return gm(e.end,n).bind(function(i){return o2($a(a,i),a)})})},fa=function(e,n){return!er(e)&&Tr(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},io=function(e,n){var a=Nr(e.startContainer,n),i=Nr(e.endContainer,n);return eu(a,i,Co)},dv=function(e){return function(n){return gm(n,e).bind(function(a){return Vr(_r(a)).map(function(i){return Co(n,i)})})}},ca=function(e){return function(n){return gm(n,e).bind(function(a){return da(_r(a)).map(function(i){return Co(i,n)})})}},ds=function(e){return function(n){return Tr(n,e).map(function(a){return vi(n,a,_r(a))})}},mi=function(e,n,a,i){if(a.collapsed||!e.forall(er))return te.none();if(n.isSameTable){var l=e.bind(ds(i));return te.some({start:l,end:l})}else{var v=Nr(a.startContainer,i),p=Nr(a.endContainer,i),x=v.bind(dv(i)).bind(ds(i)),A=p.bind(ca(i)).bind(ds(i));return te.some({start:x,end:A})}},w1=function(e,n){return pn(e,function(a){return $a(a,n)})},mv=function(e){return eu(w1(e.cells,e.rng.start),w1(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},wc=function(e,n,a){return e.exists(function(i){return fa(i,a)&&Pl(i.start,n)})},Hs=function(e,n){var a=n.startTable,i=n.endTable,l=e.cloneRange();return a.each(function(v){return l.setStartAfter(v.dom)}),i.each(function(v){return l.setEndBefore(v.dom)}),l},vf=function(e,n,a,i){return mi(e,n,a,i).bind(function(l){var v=l.start,p=l.end;return v.or(p)}).bind(function(l){var v=n.isSameTable,p=mv(l).getOr([]);if(v&&l.cells.length===p.length)return te.some(di.fullTable(l.table));if(p.length>0){if(v)return te.some(di.partialTable(p,te.none()));var x=Hs(a,n);return te.some(di.partialTable(p,te.some(Wn(Wn({},n),{rng:x}))))}else return te.none()})},gy=function(e,n,a,i){return mi(e,n,a,i).bind(function(l){var v=l.start,p=l.end,x=v.bind(mv).getOr([]),A=p.bind(mv).getOr([]);if(x.length>0&&A.length>0){var N=Hs(a,n);return te.some(di.multiTable(x,A,N))}else return te.none()})},Og=function(e,n){var a=Jn(e),i=io(n,a),l=wr(n,a);return wc(i,n,a)?i.map(function(v){return di.singleCellTable(n,v.start)}):l.isMultiTable?gy(i,l,n,a):vf(i,l,n,a)},Dg=function(e){var n=ns(e)?zf(e):as(e);return n.bind(Dg).orThunk(function(){return te.some(e)})},Rg=function(e){return He(e,function(n){bt(n,"contenteditable"),ff(n)})},Cc=function(e,n){return te.from(e.dom.getParent(n,e.dom.isBlock)).map(je.fromDom)},$g=function(e,n,a){a.each(function(i){n?vo(i):(ff(i),e.selection.setCursorLocation(i.dom,0))})},Bg=function(e,n,a,i){var l=a.cloneRange();i?(l.setStart(a.startContainer,a.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(a.endContainer,a.endOffset)),BE(e,l,n,!1)},TC=function(e){var n=af(e),a=je.fromDom(e.selection.getNode());dh(a.dom)&&Ti(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),n.length>1&&Je(n,function(i){return $a(i,a)})&&M(a,"data-mce-selected","1")},Mg=function(e,n,a){var i=e.selection.getRng(),l=a.bind(function(v){var p=v.rng,x=v.isStartInTable,A=Cc(e,x?p.endContainer:p.startContainer);p.deleteContents(),$g(e,x,A.filter(Ti));var N=x?n[0]:n[n.length-1];return Bg(e,N,i,x),Ti(N)?te.none():te.some(x?n.slice(1):n.slice(0,-1))}).getOr(n);return Rg(l),TC(e),!0},N5=function(e,n,a,i){var l=e.selection.getRng(),v=n[0],p=a[a.length-1];Bg(e,v,l,!0),Bg(e,p,l,!1);var x=Ti(v)?n:n.slice(1),A=Ti(p)?a:a.slice(0,-1);return Rg(x.concat(A)),i.deleteContents(),TC(e),!0},BE=function(e,n,a,i){i===void 0&&(i=!0),n.deleteContents();var l=Dg(a).getOr(a),v=je.fromDom(e.dom.getParent(l.dom,e.dom.isBlock));if(Ti(v)&&(ff(v),i&&e.selection.setCursorLocation(v.dom,0)),!$a(a,v)){var p=zd(ro(v),a)?[]:ko(v);He(p.concat(Qi(a)),function(x){!$a(x,v)&&!Hi(x,v)&&Ti(x)&&vo(x)})}return!0},a8=function(e,n){return Tn(e,!1,n),!0},Pg=function(e,n,a){return Og(n,a).map(function(i){return i.fold(se(BE,e),se(a8,e),se(Mg,e),se(N5,e))})},o8=function(e,n){return py(e,n)},ms=function(e,n,a,i){return ME(n,i).fold(function(){return Pg(e,n,a)},function(l){return o8(e,l)}).getOr(!1)},oa=function(e,n,a){var i=je.fromDom(e.getBody()),l=e.selection.getRng();return a.length!==0?Mg(e,a,te.none()):ms(e,i,l,n)},df=function(e,n){return rn(yc(n,e),ic)},ME=function(e,n){return rn(yc(n,e),mp("caption"))},z5=function(e,n,a,i,l){return pc(a,e.getBody(),l).bind(function(v){return df(n,je.fromDom(v.getNode())).map(function(p){return $a(p,i)===!1})})},py=function(e,n){return ff(n),e.selection.setCursorLocation(n.dom,0),te.some(!0)},PE=function(e,n,a,i){return ou(e.dom).bind(function(l){return ol(e.dom).map(function(v){return n?a.isEqual(l)&&i.isEqual(v):a.isEqual(v)&&i.isEqual(l)})}).getOr(!0)},F5=function(e,n){return py(e,n)},L5=function(e,n,a){return ME(e,je.fromDom(a.getNode())).map(function(i){return $a(i,n)===!1})},i8=function(e,n,a,i,l){return pc(a,e.getBody(),l).bind(function(v){return PE(i,a,l,v)?F5(e,i):L5(n,i,v)}).or(te.some(!0))},u8=function(e,n,a,i){var l=dt.fromRangeStart(e.selection.getRng());return df(a,i).bind(function(v){return Ti(v)?py(e,v):z5(e,a,n,v,l)}).getOr(!1)},IE=function(e,n,a,i){var l=dt.fromRangeStart(e.selection.getRng());return Ti(i)?py(e,i):i8(e,a,n,i,l)},NE=function(e,n){return e?ak(n):yC(n)},hv=function(e,n){var a=dt.fromRangeStart(e.selection.getRng());return NE(n,a)||Hu(n,e.getBody(),a).exists(function(i){return NE(n,i)})},s8=function(e,n,a){var i=je.fromDom(e.getBody());return ME(i,a).fold(function(){return u8(e,n,i,a)||hv(e,n)},function(l){return IE(e,n,i,l).getOr(!1)})},bk=function(e,n){var a=je.fromDom(e.selection.getStart(!0)),i=af(e);return e.selection.isCollapsed()&&i.length===0?s8(e,n,a):oa(e,a,i)},l8=function(e,n,a,i){var l=document.createRange();return l.setStart(e,n),l.setEnd(a,i),l},zE=function(e){var n=dt.fromRangeStart(e),a=dt.fromRangeEnd(e),i=e.commonAncestorContainer;return Hu(!1,i,a).map(function(l){return!gc(n,a,i)&&gc(n,l,i)?l8(n.container(),n.offset(),l.container(),l.offset()):e}).getOr(e)},FE=function(e){return e.collapsed?e:zE(e)},c8=function(e){return e.firstChild&&e.firstChild===e.lastChild},LE=function(e){return e.name==="br"||e.value===us},f8=function(e,n){var a=e.getBlockElements();return a[n.name]&&c8(n)&&LE(n.firstChild)},v8=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||f8(e,n))},H5=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),v8(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},d8=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},m8=function(e,n,a){var i=n.serialize(a),l=e.createFragment(i);return d8(l)},yk=function(e){return it(e.childNodes,function(n){return n.nodeName==="LI"})},h8=function(e){return e.data===us||wa(e)},V5=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&h8(e.firstChild)},U5=function(e){return!e.firstChild||V5(e)},HE=function(e){return e.length>0&&U5(e[e.length-1])?e.slice(0,-1):e},VE=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},g8=function(e,n){return!!VE(e,n)},UE=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},p8=function(e,n){var a=dt.before(e),i=ho(n),l=i.next(a);return l?l.toRange():null},W5=function(e,n){var a=dt.after(e),i=ho(n),l=i.prev(a);return l?l.toRange():null},OC=function(e,n,a,i){var l=UE(e,i),v=e.parentNode;return v.insertBefore(l[0],e),yt.each(n,function(p){v.insertBefore(p,e)}),v.insertBefore(l[1],e),v.removeChild(e),W5(n[n.length-1],a)},WE=function(e,n,a){var i=e.parentNode;return yt.each(n,function(l){i.insertBefore(l,e)}),p8(e,a)},b8=function(e,n,a,i){return i.insertAfter(n.reverse(),e),W5(n[0],a)},y8=function(e,n,a,i){var l=m8(n,e,i),v=VE(n,a.startContainer),p=HE(yk(l.firstChild)),x=1,A=2,N=n.getRoot(),X=function(Z){var Q=dt.fromRangeStart(a),ce=ho(n.getRoot()),ve=Z===x?ce.prev(Q):ce.next(Q);return ve?VE(n,ve.getNode())!==v:!0};return X(x)?WE(v,p,N):X(A)?b8(v,p,N,n):OC(v,p,N,a)},j5=function(e,n,a){var i=je.fromDom(e.getRoot());return vy(i,dt.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),dy(i,dt.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},wk=dh,w8=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,wk);return a===i&&Pl(je.fromDom(a),n)}else return!1},C8=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,l=a.lastChild;!i||i===l&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},S8=function(e,n){te.from(e.getParent(n,"td,th")).map(je.fromDom).each(ok)},_8=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var l=e.getBody(),v=gC(i);yt.each(i.select("*[data-mce-fragment]"),function(p){var x=Ye(a[p.nodeName.toLowerCase()]);if(x&&vv(i,p))for(var A=p.parentNode;Ye(A)&&A!==l;A=A.parentNode){var N=cf(i,p,A);if(N)break;if(v.compare(A,p)){i.remove(p,!0);break}}})}},G5=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},q5=function(e){yt.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},x8=function(e){return!!e.getAttribute("data-mce-fragment")},k8=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},A8=function(e,n){var a,i=e.dom,l=e.selection;if(n){l.scrollIntoView(n);var v=bm(e.getBody(),n);if(i.getContentEditable(v)==="false"){i.remove(n),l.select(v);return}var p=i.createRng(),x=n.previousSibling;if(gn(x)){if(p.setStart(x,x.nodeValue.length),!Hn.ie){var A=n.nextSibling;gn(A)&&(x.appendData(A.data),A.parentNode.removeChild(A))}}else p.setStartBefore(n),p.setEndBefore(n);var N=function(Z){var Q=dt.fromRangeStart(Z),ce=ho(e.getBody());if(Q=ce.next(Q),Q)return Q.toRange()},X=i.getParent(n,i.isBlock);i.remove(n),X&&i.isEmpty(X)&&(e.$(X).empty(),p.setStart(X,0),p.setEnd(X,0),!wk(X)&&!x8(X)&&(a=N(p))?(p=a,i.remove(X)):i.add(X,i.create("br",{"data-mce-bogus":"1"}))),l.setRng(p)}},E8=function(e){var n=e.dom,a=FE(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,wk);w8(n,a,i)?BE(e,a,je.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},T8=function(e,n,a){var i,l,v,p=e.selection,x=e.dom;/^ | $/.test(n)&&(n=j5(x,p.getRng(),n));var A=e.parser,N=a.merge,X=Am({validate:m4(e)},e.schema),Z='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',Q=e.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:a.paste});if(Q.isDefaultPrevented()){e.fire("SetContent",{content:Q.content,format:"html",selection:!0,paste:a.paste});return}n=Q.content,n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,Z),l=p.getRng();var ce=l.startContainer||(l.parentElement?l.parentElement():null),ve=e.getBody();ce===ve&&p.isCollapsed()&&x.isBlock(ve.firstChild)&&k8(e,ve.firstChild)&&x.isEmpty(ve.firstChild)&&(l=x.createRng(),l.setStart(ve.firstChild,0),l.setEnd(ve.firstChild,0),p.setRng(l)),p.isCollapsed()||E8(e),i=p.getNode();var me={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},he=A.parse(n,me);if(a.paste===!0&&H5(e.schema,he)&&g8(x,i)){l=y8(X,x,p.getRng(),he),p.setRng(l),e.fire("SetContent",Q);return}if(G5(he),v=he.lastChild,v.attr("id")==="mce_marker"){var Oe=v;for(v=v.prev;v;v=v.walk(!0))if(v.type===3||!x.isBlock(v.name)){e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(Oe,v,v.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!me.invalid)n=X.serialize(he),C8(e,n,i);else{e.selection.setContent(Z),i=p.getNode();var xe=e.getBody();for(i.nodeType===9?i=v=xe:v=i;v!==xe;)i=v,v=v.parentNode;n=i===xe?xe.innerHTML:x.getOuterHTML(i),n=X.serialize(A.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return X.serialize(he)}))),i===xe?x.setHTML(xe,n):x.setOuterHTML(i,n)}_8(e,N),A8(e,x.get("mce_marker")),q5(e.getBody()),S8(x,p.getStart()),e.fire("SetContent",Q),e.addVisual()},jE=function(e,n){n(e),e.firstChild&&jE(e.firstChild,n),e.next&&jE(e.next,n)},DC=function(e,n,a){var i={},l={},v=[];a.firstChild&&jE(a.firstChild,function(A){He(e,function(N){N.name===A.name&&(i[N.name]?i[N.name].nodes.push(A):i[N.name]={filter:N,nodes:[A]})}),He(n,function(N){typeof A.attr(N.name)=="string"&&(l[N.name]?l[N.name].nodes.push(A):l[N.name]={filter:N,nodes:[A]})})});for(var p in i)Ar(i,p)&&v.push(i[p]);for(var x in l)Ar(l,x)&&v.push(l[x]);return v},O8=function(e,n,a){var i=DC(e,n,a);He(i,function(l){He(l.filter.callbacks,function(v){v(l.nodes,l.filter.name,{})})})},K5="html",RC=function(e){return e instanceof ll},D8=function(e){sl(e)&&ou(e.getBody()).each(function(n){var a=n.getNode(),i=Ao(a)?ou(a).getOr(n):n;e.selection.setRng(i.toRange())})},Ck=function(e,n,a){e.dom.setHTML(e.getBody(),n),a!==!0&&D8(e)},X5=function(e,n,a,i){if(a.length===0||/^\s+$/.test(a)){var l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?a="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+l+"</li>");var v=Bi(e);v&&e.schema.isValidChild(n.nodeName.toLowerCase(),v.toLowerCase())?(a=l,a=e.dom.createHTML(v,Wh(e),a)):a||(a='<br data-mce-bogus="1">'),Ck(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=Am({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=Ld(je.fromDom(n))?a:yt.trim(a),Ck(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},R8=function(e,n,a,i){O8(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var l=Am({validate:e.validate},e.schema).serialize(a);return i.content=Ld(je.fromDom(n))?l:yt.trim(l),Ck(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},$8=function(e,n){return Wn(Wn({format:K5},e),{set:!0,content:RC(n)?"":n})},B8=function(e,n,a){var i=$8(a,n),l=a.no_events?i:e.fire("BeforeSetContent",i);return RC(n)||(n=l.content),te.from(e.getBody()).fold(U(n),function(v){return RC(n)?R8(e,v,n,l):X5(e,v,n,l)})},M8=function(e,n){return s2(e,n).isSome()},Y5=function(e){return le(e)?e:at},P8=function(e,n,a){for(var i=e.dom,l=Y5(a);i.parentNode;){i=i.parentNode;var v=je.fromDom(i),p=n(v);if(p.isSome())return p;if(l(v))break}return te.none()},GE=function(e,n,a){var i=n(e),l=Y5(a);return i.orThunk(function(){return l(e)?te.none():P8(e,n,l)})},qE=Ew,J5=function(e,n,a){var i=e.formatter.get(a);if(i)for(var l=0;l<i.length;l++){var v=i[l];if(vs(v)&&v.inherit===!1&&e.dom.is(n,v.selector))return!0}return!1},KE=function(e,n,a,i,l){var v=e.dom.getRoot();return n===v?!1:(n=e.dom.getParent(n,function(p){return J5(e,p,a)?!0:p.parentNode===v||!!uu(e,p,a,i,!0)}),!!uu(e,n,a,i,l))},XE=function(e,n,a){if(qE(n,a.inline)||qE(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},Sk=function(e,n,a,i,l,v){var p=a[i];if(le(a.onmatch))return a.onmatch(n,a,i);if(p){if(De(p.length)){for(var x in p)if(Ar(p,x)){var A=i==="attributes"?e.getAttrib(n,x):cg(e,n,x),N=nf(p[x],v),X=ke(A)||Md(A);if(X&&ke(N))continue;if(l&&X&&!a.exact||(!l||a.exact)&&!qE(A,Tw(e,N,x)))return!1}}else for(var Z=0;Z<p.length;Z++)if(i==="attributes"?e.getAttrib(n,p[Z]):cg(e,n,p[Z]))return!0}return!0},uu=function(e,n,a,i,l){var v=e.formatter.get(a),p=e.dom;if(v&&n)for(var x=0;x<v.length;x++){var A=v[x];if(XE(e.dom,n,A)&&Sk(p,n,A,"attributes",l,i)&&Sk(p,n,A,"styles",l,i)){var N=A.classes;if(N){for(var X=0;X<N.length;X++)if(!e.dom.hasClass(n,nf(N[X],i)))return}return A}}},$C=function(e,n,a,i,l){if(i)return KE(e,i,n,a,l);if(i=e.selection.getNode(),KE(e,i,n,a,l))return!0;var v=e.selection.getStart();return!!(v!==i&&KE(e,v,n,a,l))},YE=function(e,n,a){var i=[],l={},v=e.selection.getStart();return e.dom.getParent(v,function(p){for(var x=0;x<n.length;x++){var A=n[x];!l[A]&&uu(e,p,A,a)&&(l[A]=!0,i.push(A))}},e.dom.getRoot()),i},JE=function(e,n){var a=function(l){return $a(l,je.fromDom(e.getBody()))},i=function(l,v){return uu(e,l.dom,v)?te.some(v):te.none()};return te.from(e.selection.getStart(!0)).bind(function(l){return GE(je.fromDom(l),function(v){return Ia(n,function(p){return i(v,p)})},a)}).getOrNull()},I8=function(e,n){var a=e.formatter.get(n),i=e.dom;if(a)for(var l=e.selection.getStart(),v=Qp(i,l),p=a.length-1;p>=0;p--){var x=a[p];if(!vs(x)||Ye(x.defaultBlock))return!0;for(var A=v.length-1;A>=0;A--)if(i.is(v[A],x.selector))return!0}return!1},Z5=function(e,n,a){return Dt(a,function(i,l){var v=ax(e,l);return e.formatter.matchNode(n,l,{},v)?i.concat([l]):i},[])},by=Ve,ZE="_mce_caret",QE=function(e,n){return e.importNode(n,!0)},N8=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==by||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},eT=function(e){return N8(e).length>0},Q5=function(e){if(e){var n=new sa(e,e);for(e=n.current();e;e=n.next())if(gn(e))return e}return null},C1=function(e){var n=je.fromTag("span");return J(n,{id:ZE,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ho(n,je.fromText(by)),n},eD=function(e){var n=Q5(e);return n&&n.nodeValue.charAt(0)===by&&n.deleteData(0,1),n},tT=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(eT(n))Tn(e,!1,je.fromDom(n),a);else{var v=l.getRng(),p=i.getParent(n,i.isBlock),x=v.startContainer,A=v.startOffset,N=v.endContainer,X=v.endOffset,Z=eD(n);i.remove(n,!0),x===Z&&A>0&&v.setStart(Z,A-1),N===Z&&X>0&&v.setEnd(Z,X-1),p&&i.isEmpty(p)&&ff(je.fromDom(p)),l.setRng(v)}},_k=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(n)tT(e,n,a);else if(n=dm(e.getBody(),l.getStart()),!n)for(;n=i.get(ZE);)tT(e,n,!1)},z8=function(e,n,a){var i=e.dom,l=i.getParent(a,se(Aw,e));l&&i.isEmpty(l)?a.parentNode.replaceChild(n,a):(wC(je.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},tD=function(e,n){return e.appendChild(n),n},nD=function(e,n){var a=Wt(e,function(i,l){return tD(i,l.cloneNode(!1))},n);return tD(a,a.ownerDocument.createTextNode(by))},F8=function(e,n,a,i,l,v){var p=e.formatter,x=e.dom,A=it(Zi(p.get()),function(Q){return Q!==i&&!Bo(Q,"removeformat")}),N=Z5(e,a,A),X=it(N,function(Q){return!W4(e,Q,i)});if(X.length>0){var Z=a.cloneNode(!1);return x.add(n,Z),p.remove(i,l,Z,v),x.remove(Z),te.some(Z)}else return te.none()},L8=function(e,n,a){var i,l,v=e.selection,p=v.getRng(),x=p.startOffset,A=p.startContainer,N=A.nodeValue;i=dm(e.getBody(),v.getStart()),i&&(l=Q5(i));var X=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(N&&x>0&&x<N.length&&X.test(N.charAt(x))&&X.test(N.charAt(x-1))){var Z=v.getBookmark();p.collapse(!0);var Q=ld(e,p,e.formatter.get(n));Q=lv(Q),e.formatter.apply(n,a,Q),v.moveToBookmark(Z)}else(!i||l.nodeValue!==by)&&(i=QE(e.getDoc(),C1(!0).dom),l=i.firstChild,p.insertNode(i),x=1),e.formatter.apply(n,a,i),v.setCursorLocation(l,x)},rD=function(e,n,a,i){var l=e.dom,v=e.selection,p,x,A,N=[],X=v.getRng(),Z=X.startContainer,Q=X.startOffset;for(x=Z,Z.nodeType===3&&(Q!==Z.nodeValue.length&&(p=!0),x=x.parentNode);x;){if(uu(e,x,n,a,i)){A=x;break}x.nextSibling&&(p=!0),N.push(x),x=x.parentNode}if(A)if(p){var ce=v.getBookmark();X.collapse(!0);var ve=ld(e,X,e.formatter.get(n),!0);ve=lv(ve),e.formatter.remove(n,a,ve,i),v.moveToBookmark(ce)}else{var me=dm(e.getBody(),A),he=C1(!1).dom;z8(e,he,me!==null?me:A);var Oe=F8(e,he,A,n,a,i),xe=nD(N.concat(Oe.toArray()),he);tT(e,me,!1),v.setCursorLocation(xe,1),l.isEmpty(A)&&l.remove(A)}},H8=function(e,n){var a=e.selection,i=e.getBody();_k(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===by&&_k(e,dm(i,a.getStart())),(n===37||n===39)&&_k(e,dm(i,a.getStart()))},nT=function(e){e.on("mouseup keydown",function(n){H8(e,n.keyCode)})},yy=function(e,n){var a=C1(!1),i=nD(n,a.dom);return ki(je.fromDom(e),a),vo(je.fromDom(e)),dt(i,0)},V8=function(e,n){var a=e.schema.getTextInlineElements();return Ar(a,xo(n))&&!tf(n.dom)&&!bo(n.dom)},U8=function(e){return tf(e.dom)&&eT(e.dom)},S1={},xk=gl,aD=Rc,W8=function(e,n){var a=S1[e];a||(S1[e]=[]),S1[e].push(n)},oD=function(e,n){aD(S1[e],function(a){a(n)})};W8("pre",function(e){var n=e.selection.getRng(),a,i=function(p){return v(p.previousSibling)&&pl(a,p.previousSibling)!==-1},l=function(p,x){fr(x).remove(),fr(p).append("<br><br>").append(x.childNodes)},v=As(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),aD(xk(xk(a,v),i),function(p){l(p.previousSibling,p)}))});var BC=yt.each,rT=function(e){return Kn(e)&&!Vu(e)&&!tf(e)&&!bo(e)},MC=function(e,n){for(var a=e;a;a=a[n]){if(gn(a)&&$f(a.data))return e;if(Kn(a)&&!Vu(a))return a}return e},Sd=function(e,n,a){var i=gC(e);if(n&&a&&(n=MC(n,"previousSibling"),a=MC(a,"nextSibling"),i.compare(n,a))){for(var l=n.nextSibling;l&&l!==a;){var v=l;l=l.nextSibling,n.appendChild(v)}return e.remove(a),yt.each(yt.grep(a.childNodes),function(p){n.appendChild(p)}),n}return a},iD=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var l=Sd(e,$0(i),i);Sd(e,l,$0(l,!0))}},aT=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";BC(e.select(i,a),function(l){rT(l)&&BC(n.styles,function(v,p){e.setStyle(l,p,"")})})}},oT=function(e,n,a){BC(e.childNodes,function(i){rT(i)&&(n(i)&&a(i),i.hasChildNodes()&&oT(i,n,a))})},j8=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},uD=function(e,n){return function(a){return!!(a&&cg(e,a,n))}},sD=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),j8(e,i)}},wy=$n.generate([{keep:[]},{rename:["name"]},{removed:[]}]),G8=/^(src|href|style)$/,Ig=yt.each,Cy=Ew,q8=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},lD=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},cD=function(e,n,a){var i=n[a?"startContainer":"endContainer"],l=n[a?"startOffset":"endOffset"];if(Kn(i)){var v=i.childNodes.length-1;!a&&l&&l--,i=i.childNodes[l>v?v:l]}return gn(i)&&a&&l>=i.nodeValue.length&&(i=new sa(i,e.getBody()).next()||i),gn(i)&&!a&&l===0&&(i=new sa(i,e.getBody()).prev()||i),i},iT=function(e,n){var a=n?"firstChild":"lastChild";if(q8(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},uT=function(e,n,a,i){var l=e.create(a,i);return n.parentNode.insertBefore(l,n),l.appendChild(n),l},fD=function(e,n,a,i,l){var v=je.fromDom(n),p=je.fromDom(e.create(i,l)),x=a?Ba(v):qr(v);return Lf(p,x),a?(ki(v,p),Qs(p,v)):(Pv(v,p),Ho(p,v)),p.dom},K8=function(e,n,a){if(Pi(a)&&Cy(n,a.inline)||rf(a)&&Cy(n,a.block))return!0;if(vs(a))return Kn(n)&&e.is(n,a.selector)},X8=function(e,n){return n.links&&e.nodeName==="A"},kk=function(e,n,a,i){var l=$0(n,a,i);return ke(l)||l.nodeName==="BR"||e.isBlock(l)},Y8=function(e,n,a){var i=n.parentNode,l,v=e.dom,p=Bi(e);rf(a)&&(p?i===v.getRoot()&&(!a.list_block||!Cy(n,a.list_block))&&He(lr(n.childNodes),function(x){lg(e,p,x.nodeName.toLowerCase())?l?l.appendChild(x):(l=uT(v,x,p),v.setAttribs(l,e.settings.forced_root_block_attrs)):l=null}):v.isBlock(n)&&!v.isBlock(i)&&(!kk(v,n,!1)&&!kk(v,n.firstChild,!0,!0)&&n.insertBefore(v.create("br"),n.firstChild),!kk(v,n,!0)&&!kk(v,n.lastChild,!1,!0)&&n.appendChild(v.create("br")))),!(j4(a)&&!Cy(a.inline,n))&&v.remove(n,!0)},vD=function(e,n,a,i,l){var v,p=e.dom;if(!K8(p,i,n)&&!X8(i,n))return wy.keep();var x=i;if(Pi(n)&&n.remove==="all"&&Be(n.preserve_attributes)){var A=it(p.getAttribs(x),function(Q){return Ae(n.preserve_attributes,Q.name.toLowerCase())});if(p.removeAllAttribs(x),He(A,function(Q){return p.setAttrib(x,Q.name,Q.value)}),A.length>0)return wy.rename("span")}if(n.remove!=="all"){Ig(n.styles,function(Q,ce){Q=Tw(p,nf(Q,a),ce+""),pe(ce)&&(ce=Q,l=null),(n.remove_similar||!l||Cy(cg(p,l,ce),Q))&&p.setStyle(x,ce,""),v=!0}),v&&p.getAttrib(x,"style")===""&&(x.removeAttribute("style"),x.removeAttribute("data-mce-style")),Ig(n.attributes,function(Q,ce){var ve;if(Q=nf(Q,a),pe(ce)&&(ce=Q,l=null),n.remove_similar||!l||Cy(p.getAttrib(l,ce),Q)){if(ce==="class"&&(Q=p.getAttrib(x,ce),Q&&(ve="",He(Q.split(/\s+/),function(me){/mce\-\w+/.test(me)&&(ve+=(ve?" ":"")+me)}),ve))){p.setAttrib(x,ce,ve);return}if(G8.test(ce)&&x.removeAttribute("data-mce-"+ce),ce==="style"&&As(["li"])(x)&&p.getStyle(x,"list-style-type")==="none"){x.removeAttribute(ce),p.setStyle(x,"list-style-type","none");return}ce==="class"&&x.removeAttribute("className"),x.removeAttribute(ce)}}),Ig(n.classes,function(Q){Q=nf(Q,a),(!l||p.hasClass(l,Q))&&p.removeClass(x,Q)});for(var N=p.getAttribs(x),X=0;X<N.length;X++){var Z=N[X].nodeName;if(Z.indexOf("_")!==0&&Z.indexOf("data-")!==0)return wy.keep()}}return n.remove!=="none"?(Y8(e,x,n),wy.removed()):wy.keep()},Sy=function(e,n,a,i,l){return vD(e,n,a,i,l).fold(at,function(v){return e.dom.rename(i,v),!0},ot)},J8=function(e,n,a,i,l){var v;return He(Qp(e.dom,n.parentNode).reverse(),function(p){if(!v&&p.id!=="_start"&&p.id!=="_end"){var x=uu(e,p,a,i,l);x&&x.split!==!1&&(v=p)}}),v},Z8=function(e,n,a,i){return vD(e,n,a,i,i).fold(U(i),function(l){var v=e.dom.createFragment();return v.appendChild(i),e.dom.rename(i,l)},U(null))},sT=function(e,n,a,i,l,v,p,x){var A,N,X,Z=e.dom;if(a){for(var Q=a.parentNode,ce=i.parentNode;ce&&ce!==Q;ce=ce.parentNode){A=Z.clone(ce,!1);for(var ve=0;ve<n.length&&(A=Z8(e,n[ve],x,A),A!==null);ve++);A&&(N&&A.appendChild(N),X||(X=A),N=A)}v&&(!p.mixed||!Z.isBlock(a))&&(i=Z.split(a,i)),N&&(l.parentNode.insertBefore(N,l),X.appendChild(l),Pi(p)&&iD(Z,p,x,N))}return i},lT=function(e,n,a,i,l){var v=e.formatter.get(n),p=v[0],x=!0,A=e.dom,N=e.selection,X=function(xe){var qe=J8(e,xe,n,a,l);return sT(e,v,qe,xe,xe,!0,p,a)},Z=function(xe){return Vu(xe)&&Kn(xe)&&(xe.id==="_start"||xe.id==="_end")},Q=function(xe){return Je(v,function(qe){return Sy(e,qe,a,xe,xe)})},ce=function(xe){var qe=!0,We=!1;Kn(xe)&&A.getContentEditable(xe)&&(qe=x,x=A.getContentEditable(xe)==="true",We=!0);var Re=lr(xe.childNodes);if(x&&!We){var Ze=Q(xe),St=Ze||Je(v,function($t){return XE(A,xe,$t)}),Ft=xe.parentNode;!St&&Ye(Ft)&&Dw(p)&&Q(Ft)}if(p.deep&&Re.length){for(var Vn=0;Vn<Re.length;Vn++)ce(Re[Vn]);We&&(x=qe)}var mn=["underline","line-through","overline"];He(mn,function($t){Kn(xe)&&e.dom.getStyle(xe,"text-decoration")===$t&&xe.parentNode&&Ow(A,xe.parentNode)===$t&&Sy(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:$t}},null,xe)})},ve=function(xe){var qe=A.get(xe?"_start":"_end"),We=qe[xe?"firstChild":"lastChild"];return Z(We)&&(We=We[xe?"firstChild":"lastChild"]),gn(We)&&We.data.length===0&&(We=xe?qe.previousSibling||qe.nextSibling:qe.nextSibling||qe.previousSibling),A.remove(qe,!0),We},me=function(xe){var qe,We,Re=ld(e,xe,v,xe.collapsed);if(p.split){if(Re=lv(Re),qe=cD(e,Re,!0),We=cD(e,Re),qe!==We){if(qe=iT(qe,!0),We=iT(We,!1),lD(A,qe,We)){var Ze=te.from(qe.firstChild).getOr(qe);X(fD(A,Ze,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ve(!0);return}if(lD(A,We,qe)){var Ze=te.from(We.lastChild).getOr(We);X(fD(A,Ze,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ve(!1);return}qe=uT(A,qe,"span",{id:"_start","data-mce-type":"bookmark"}),We=uT(A,We,"span",{id:"_end","data-mce-type":"bookmark"});var St=A.createRng();St.setStartAfter(qe),St.setEndBefore(We),n1(A,St,function(Ft){He(Ft,function(Vn){!Vu(Vn)&&!Vu(Vn.parentNode)&&X(Vn)})}),X(qe),X(We),qe=ve(!0),We=ve()}else qe=We=X(qe);Re.startContainer=qe.parentNode?qe.parentNode:qe,Re.startOffset=A.nodeIndex(qe),Re.endContainer=We.parentNode?We.parentNode:We,Re.endOffset=A.nodeIndex(We)+1}n1(A,Re,function(Ft){He(Ft,ce)})};if(i){if(R0(i)){var he=A.createRng();he.setStartBefore(i),he.setEndAfter(i),me(he)}else me(i);r1(e,n,i,a);return}if(A.getContentEditable(N.getNode())==="false"){i=N.getNode();for(var Oe=0;Oe<v.length&&!(v[Oe].ceFalseOverride&&Sy(e,v[Oe],a,i,i));Oe++);r1(e,n,i,a);return}!N.isCollapsed()||!Pi(p)||af(e).length?(mg(N,!0,function(){pm(e,me)}),Pi(p)&&$C(e,n,a,N.getStart())&&rx(A,N,N.getRng()),e.nodeChanged()):rD(e,n,a,l),r1(e,n,i,a)},dD=yt.each,Ak=function(e,n,a,i){var l=function(v){if(v.nodeType===1&&v.parentNode&&v.parentNode.nodeType===1){var p=Ow(e,v.parentNode);e.getStyle(v,"color")&&p?e.setStyle(v,"text-decoration",p):e.getStyle(v,"text-decoration")===p&&e.setStyle(v,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(yt.walk(i,l,"childNodes"),l(i))},mD=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&oT(i,uD(e,"fontSize"),sD(e,"backgroundColor",nf(n.styles.backgroundColor,a)))},PC=function(e,n,a,i){Pi(n)&&(n.inline==="sub"||n.inline==="sup")&&(oT(i,uD(e,"fontSize"),sD(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},IC=function(e,n,a,i){dD(n,function(l){Pi(l)&&dD(e.dom.select(l.inline,i),function(v){rT(v)&&Sy(e,l,a,v,l.exact?v:null)}),aT(e.dom,l,i)})},hD=function(e,n,a,i,l){uu(e,l.parentNode,a,i)&&Sy(e,n,i,l)||n.merge_with_parents&&e.dom.getParent(l.parentNode,function(v){if(uu(e,v,a,i))return Sy(e,n,i,l),!0})},Ek=yt.each,Q8=function(e){return Kn(e)&&!Vu(e)&&!tf(e)&&!bo(e)},eP=function(e,n,a,i){if(lm(e)&&Pi(n)){var l=Ab(e.schema),v=M8(je.fromDom(a),function(p){return tf(p.dom)});return Gs(l,i)&&Ti(je.fromDom(a.parentNode),!1)&&!v}else return!1},cT=function(e,n,a,i){var l=e.formatter.get(n),v=l[0],p=!i&&e.selection.isCollapsed(),x=e.dom,A=e.selection,N=function(qe,We){if(We===void 0&&(We=v),le(We.onformat)&&We.onformat(qe,We,a,i),Ek(We.styles,function(Ze,St){x.setStyle(qe,St,nf(Ze,a))}),We.styles){var Re=x.getAttrib(qe,"style");Re&&x.setAttrib(qe,"data-mce-style",Re)}Ek(We.attributes,function(Ze,St){x.setAttrib(qe,St,nf(Ze,a))}),Ek(We.classes,function(Ze){Ze=nf(Ze,a),x.hasClass(qe,Ze)||x.addClass(qe,Ze)})},X=function(qe,We){var Re=!1;return Ek(qe,function(Ze){if(!vs(Ze))return!1;if(!(Ye(Ze.collapsed)&&Ze.collapsed!==p)&&x.is(We,Ze.selector)&&!tf(We))return N(We,Ze),Re=!0,!1}),Re},Z=function(qe){if($e(qe)){var We=x.create(qe);return N(We),We}else return null},Q=function(qe,We,Re){var Ze=[],St=!0,Ft=v.inline||v.block,Vn=Z(Ft);n1(qe,We,function(mn){var $t,Ln=function(Vt){var vn=!1,jt=St,Zt=Vt.nodeName.toLowerCase(),yn=Vt.parentNode,Pt=yn.nodeName.toLowerCase();if(Kn(Vt)&&qe.getContentEditable(Vt)&&(jt=St,St=qe.getContentEditable(Vt)==="true",vn=!0),wa(Vt)&&!eP(e,v,Vt,Pt)){$t=null,rf(v)&&qe.remove(Vt);return}if(rf(v)&&v.wrapper&&uu(e,Vt,n,a)){$t=null;return}if(St&&!vn&&rf(v)&&!v.wrapper&&Aw(e,Zt)&&lg(e,Pt,Ft)){var hn=qe.rename(Vt,Ft);N(hn),Ze.push(hn),$t=null;return}if(vs(v)){var xr=X(l,Vt);if(!xr&&Ye(yn)&&Dw(v)&&(xr=X(l,yn)),!Pi(v)||xr){$t=null;return}}St&&!vn&&lg(e,Ft,Zt)&&lg(e,Pt,Ft)&&!(!Re&&gn(Vt)&&gu(Vt.data))&&!tf(Vt)&&(!Pi(v)||!qe.isBlock(Vt))?($t||($t=qe.clone(Vn,!1),Vt.parentNode.insertBefore($t,Vt),Ze.push($t)),$t.appendChild(Vt)):($t=null,He(lr(Vt.childNodes),Ln),vn&&(St=jt),$t=null)};He(mn,Ln)}),v.links===!0&&He(Ze,function(mn){var $t=function(Ln){Ln.nodeName==="A"&&N(Ln,v),He(lr(Ln.childNodes),$t)};$t(mn)}),He(Ze,function(mn){var $t=function(vn){var jt=0;return He(vn.childNodes,function(Zt){!U4(Zt)&&!Vu(Zt)&&jt++}),jt},Ln=function(vn){var jt=rn(vn.childNodes,Q8).filter(function(Zt){return XE(qe,Zt,v)});return jt.map(function(Zt){var yn=qe.clone(Zt,!1);return N(yn),qe.replace(yn,vn,!0),qe.remove(Zt,!0),yn}).getOr(vn)},Vt=$t(mn);if((Ze.length>1||!qe.isBlock(mn))&&Vt===0){qe.remove(mn,!0);return}(Pi(v)||rf(v)&&v.wrapper)&&(!v.exact&&Vt===1&&(mn=Ln(mn)),IC(e,l,a,mn),hD(e,v,n,a,mn),mD(qe,v,a,mn),Ak(qe,v,a,mn),PC(qe,v,a,mn),iD(qe,v,a,mn))})};if(x.getContentEditable(A.getNode())==="false"){i=A.getNode();for(var ce=0,ve=l.length;ce<ve;ce++){var me=l[ce];if(me.ceFalseOverride&&vs(me)&&x.is(i,me.selector)){N(i,me);break}}Ww(e,n,i,a);return}if(v){if(i)if(R0(i)){if(!X(l,i)){var he=x.createRng();he.setStartBefore(i),he.setEndAfter(i),Q(x,ld(e,he,l),!0)}}else Q(x,i,!0);else if(!p||!Pi(v)||af(e).length){var Oe=A.getNode(),xe=l[0];!e.settings.forced_root_block&&xe.defaultBlock&&!x.getParent(Oe,x.isBlock)&&cT(e,xe.defaultBlock),A.setRng(FE(A.getRng())),mg(A,!0,function(){pm(e,function(qe,We){var Re=We?qe:ld(e,qe,l);Q(x,Re,!1)})}),rx(x,A,A.getRng()),e.nodeChanged()}else L8(e,n,a);oD(n,e)}Ww(e,n,i,a)},gD=function(e){return Ar(e,"vars")},tP=function(e,n){e.set({}),n.on("NodeChange",function(a){_y(n,a.element,e.get())}),n.on("FormatApply FormatRemove",function(a){var i=te.from(a.node).map(function(l){return R0(l)?l:l.startContainer}).bind(function(l){return Kn(l)?te.some(l):te.from(l.parentElement)}).getOrThunk(function(){return pD(n)});_y(n,i,e.get())})},pD=function(e){return e.selection.getStart()},fT=function(e,n,a,i,l){var v=function(x){var A=e.formatter.matchNode(x,a,l??{},i);return!De(A)},p=function(x){return J5(e,x,a)?!0:i?!1:Ye(e.formatter.matchNode(x,a,l,!0))};return zt(n,v,p)},bD=function(e,n){var a=n??pD(e);return it(Qp(e.dom,a),function(i){return Kn(i)&&!bo(i)})},_y=function(e,n,a){var i=bD(e,n);Hr(a,function(l,v){var p=function(x){var A=fT(e,i,v,x.similar,gD(x)?x.vars:void 0),N=A.isSome();if(x.state.get()!==N){x.state.set(N);var X=A.getOr(n);gD(x)?x.callback(N,{node:X,format:v,parents:i}):He(x.callbacks,function(Z){return Z(N,{node:X,format:v,parents:i})})}};He([l.withSimilar,l.withoutSimilar],p),He(l.withVars,p)})},nP=function(e,n,a,i,l,v){var p=n.get();He(a.split(","),function(x){var A=Pr(p,x).getOrThunk(function(){var Z={withSimilar:{state:yu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:yu(!1),similar:!1,callbacks:[]},withVars:[]};return p[x]=Z,Z}),N=function(){var Z=bD(e);return fT(e,Z,x,l,v).isSome()};if(De(v)){var X=l?A.withSimilar:A.withoutSimilar;X.callbacks.push(i),X.callbacks.length===1&&X.state.set(N())}else A.withVars.push({state:yu(N()),similar:l,vars:v,callback:i})}),n.set(p)},rP=function(e,n,a){var i=e.get();He(n.split(","),function(l){return Pr(i,l).each(function(v){i[l]={withSimilar:Wn(Wn({},v.withSimilar),{callbacks:it(v.withSimilar.callbacks,function(p){return p!==a})}),withoutSimilar:Wn(Wn({},v.withoutSimilar),{callbacks:it(v.withoutSimilar.callbacks,function(p){return p!==a})}),withVars:it(v.withVars,function(p){return p.callback!==a})}})}),e.set(i)},aP=function(e,n,a,i,l,v){return n.get()===null&&tP(n,e),nP(e,n,a,i,l,v),{unbind:function(){return rP(n,a,i)}}},oP=function(e,n,a,i){var l=e.formatter.get(n);$C(e,n,a,i)&&(!("toggle"in l[0])||l[0].toggle)?lT(e,n,a,i):cT(e,n,a,i)},Tk=function(e,n){var a=n||document,i=a.createDocumentFragment();return He(e,function(l){i.appendChild(l.dom)}),je.fromDom(i)},Ok=function(e,n,a){return{element:e,width:n,rows:a}},vT=function(e,n){return{element:e,cells:n}},yD=function(e,n){return{x:e,y:n}},Dk=function(e,n){var a=parseInt(re(e,n),10);return isNaN(a)?1:a},wD=function(e,n,a,i,l){for(var v=Dk(l,"rowspan"),p=Dk(l,"colspan"),x=e.rows,A=a;A<a+v;A++){x[A]||(x[A]=vT(Zb(i),[]));for(var N=n;N<n+p;N++){var X=x[A].cells;X[N]=A===a&&N===n?l:No(l)}}},iP=function(e,n,a){var i=e.rows,l=i[a]?i[a].cells:[];return!!l[n]},uP=function(e,n,a){for(;iP(e,n,a);)n++;return n},CD=function(e){return Dt(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},SD=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var l=a[i].cells,v=0;v<l.length;v++)if($a(l[v],n))return te.some(yD(v,i));return te.none()},_D=function(e,n,a,i,l){for(var v=[],p=e.rows,x=a;x<=l;x++){var A=p[x].cells,N=n<i?A.slice(n,i+1):A.slice(i,n+1);v.push(vT(p[x].element,N))}return v},dT=function(e,n,a){var i=n.x,l=n.y,v=a.x,p=a.y,x=l<p?_D(e,i,l,v,p):_D(e,i,p,v,l);return Ok(e.element,CD(x),x)},mT=function(e,n){var a=No(e.element),i=je.fromTag("tbody");return Lf(i,n),Ho(a,i),a},xD=function(e){return et(e.rows,function(n){var a=et(n.cells,function(l){var v=Zb(l);return bt(v,"colspan"),bt(v,"rowspan"),v}),i=No(n.element);return Lf(i,a),i})},Rk=function(e){var n=Ok(No(e),0,[]);return He($i(e,"tr"),function(a,i){He($i(a,"td,th"),function(l,v){wD(n,uP(n,v,i),i,a,l)})}),Ok(n.element,CD(n.rows),n.rows)},Fl=function(e){return mT(e,xD(e))},NC=function(e,n,a){return SD(e,n).bind(function(i){return SD(e,a).map(function(l){return dT(e,i,l)})})},_1=function(e){return rn(e,function(n){return xo(n)==="ul"||xo(n)==="ol"})},sP=function(e,n){return rn(e,function(a){return xo(a)==="li"&&Pl(a,n)}).fold(U([]),function(a){return _1(e).map(function(i){var l=je.fromTag(xo(i)),v=lo(ao(i),function(p,x){return po(x,"list-style")});return Er(l,v),[je.fromTag("li"),l]}).getOr([])})},kD=function(e,n){var a=Dt(n,function(i,l){return Ho(l,i),l},e);return n.length>0?Tk([a]):a},AD=function(e){return Gi(e)?ro(e).filter(El).fold(U([]),function(n){return[e,n]}):El(e)?[e]:[]},lP=function(e,n){var a=je.fromDom(n.commonAncestorContainer),i=yc(a,e),l=it(i,function(x){return tu(x)||Xn(x)}),v=sP(i,n),p=l.concat(v.length?v:AD(a));return et(p,No)},ED=function(){return Tk([])},cP=function(e,n){return kD(je.fromDom(n.cloneContents()),lP(e,n))},TD=function(e,n){return Fd(n,"table",se($a,e))},$k=function(e,n){return TD(e,n[0]).bind(function(a){var i=n[0],l=n[n.length-1],v=Rk(a);return NC(v,i,l).map(function(p){return Tk([Fl(p)])})}).getOrThunk(ED)},OD=function(e,n){return n.length>0&&n[0].collapsed?ED():cP(e,n[0])},DD=function(e,n){var a=sv(n,e);return a.length>0?$k(e,a):OD(e,n)},Bk=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},Mk=function(e,n){return n>=0&&n<e.length&&sd(e.charAt(n))},RD=function(e,n){var a=uc(e.innerText);return n?Bk(a):a},fP=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},vP=function(e){return te.from(e.selection.getRng()).map(function(n){var a=te.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),l=fP(a),v=Hn.browser.isIE()&&l!=="pre",p=e.dom.add(i,l,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),x=RD(p,v),A=uc(p.textContent);if(e.dom.remove(p),Mk(A,0)||Mk(A,A.length-1)){var N=a.getOr(i),X=RD(N,v),Z=X.indexOf(x);if(Z===-1)return x;var Q=Mk(X,Z-1),ce=Mk(X,Z+x.length);return(Q?" ":"")+x+(ce?" ":"")}else return x}).getOr("")},dP=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),l=e.selection.getSel(),v=ey(e,Mw(l)),p=n.contextual?DD(je.fromDom(e.getBody()),v).dom:a.cloneContents();return p&&i.appendChild(p),e.selection.serializer.serialize(i,n)},mP=function(e,n){return Wn(Wn({},e),{format:n,get:!0,selection:!0})},hP=function(e,n,a){a===void 0&&(a={});var i=mP(a,n),l=e.fire("BeforeGetContent",i);if(l.isDefaultPrevented())return e.fire("GetContent",l),l.content;if(l.format==="text")return vP(e);l.getInner=!0;var v=dP(e,l);return l.format==="tree"?v:(l.content=e.selection.isCollapsed()?"":v,e.fire("GetContent",l),l.content)},hT=0,$D=1,BD=2,gP=function(e,n){var a=e.length+n.length+2,i=new Array(a),l=new Array(a),v=function(X,Z,Q){return{start:X,end:Z,diag:Q}},p=function(X,Z,Q,ce,ve){var me=A(X,Z,Q,ce);if(me===null||me.start===Z&&me.diag===Z-ce||me.end===X&&me.diag===X-Q)for(var he=X,Oe=Q;he<Z||Oe<ce;)he<Z&&Oe<ce&&e[he]===n[Oe]?(ve.push([hT,e[he]]),++he,++Oe):Z-X>ce-Q?(ve.push([BD,e[he]]),++he):(ve.push([$D,n[Oe]]),++Oe);else{p(X,me.start,Q,me.start-me.diag,ve);for(var xe=me.start;xe<me.end;++xe)ve.push([hT,e[xe]]);p(me.end,Z,me.end-me.diag,ce,ve)}},x=function(X,Z,Q,ce){for(var ve=X;ve-Z<ce&&ve<Q&&e[ve]===n[ve-Z];)++ve;return v(X,ve,Z)},A=function(X,Z,Q,ce){var ve=Z-X,me=ce-Q;if(ve===0||me===0)return null;var he=ve-me,Oe=me+ve,xe=(Oe%2===0?Oe:Oe+1)/2;i[1+xe]=X,l[1+xe]=Z+1;var qe,We,Re,Ze,St;for(qe=0;qe<=xe;++qe){for(We=-qe;We<=qe;We+=2){for(Re=We+xe,We===-qe||We!==qe&&i[Re-1]<i[Re+1]?i[Re]=i[Re+1]:i[Re]=i[Re-1]+1,Ze=i[Re],St=Ze-X+Q-We;Ze<Z&&St<ce&&e[Ze]===n[St];)i[Re]=++Ze,++St;if(he%2!==0&&he-qe<=We&&We<=he+qe&&l[Re-he]<=i[Re])return x(l[Re-he],We+X-Q,Z,ce)}for(We=he-qe;We<=he+qe;We+=2){for(Re=We+xe-he,We===he-qe||We!==he+qe&&l[Re+1]<=l[Re-1]?l[Re]=l[Re+1]-1:l[Re]=l[Re-1],Ze=l[Re]-1,St=Ze-X+Q-We;Ze>=X&&St>=Q&&e[Ze]===n[St];)l[Re]=Ze--,St--;if(he%2===0&&-qe<=We&&We<=qe&&l[Re]<=i[Re+he])return x(l[Re],We+X-Q,Z,ce)}}},N=[];return p(0,e.length,0,n.length,N),N},MD=function(e){return Kn(e)?e.outerHTML:gn(e)?$s.encodeRaw(e.data,!1):qf(e)?"<!--"+e.data+"-->":""},gT=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},pP=function(e,n,a){var i=gT(n);if(e.hasChildNodes()&&a<e.childNodes.length){var l=e.childNodes[a];l.parentNode.insertBefore(i,l)}else e.appendChild(i)},xy=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},PD=function(e,n){var a=0;He(e,function(i){i[0]===hT?a++:i[0]===$D?(pP(n,i[1],a),a++):i[0]===BD&&xy(n,a)})},ti=function(e){return it(et(lr(e.childNodes),MD),function(n){return n.length>0})},bP=function(e,n){var a=et(lr(n.childNodes),MD);return PD(gP(a,e),n),n},yP=$c(function(){return document.implementation.createHTMLDocument("undo")}),wP=function(e){return e.indexOf("</iframe>")!==-1},CP=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},mf=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},ky=function(e){var n=ti(e.getBody()),a=sr(n,function(l){var v=Xx(e.serializer,l);return v.length>0?[v]:[]}),i=a.join("");return wP(i)?CP(a):mf(i)},x1=function(e,n,a){var i=a?n.beforeBookmark:n.bookmark;n.type==="fragmented"?bP(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Ye(i)&&Y_(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},k1=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},Pk=function(e){var n=je.fromTag("body",yP());return Su(n,k1(e)),He($i(n,"*[data-mce-bogus]"),Vf),Cu(n)},SP=function(e,n){return k1(e)===k1(n)},_P=function(e,n){return Pk(e)===Pk(n)},Em=function(e,n){return!e||!n?!1:SP(e,n)?!0:_P(e,n)},Ng=function(e){return e.get()===0},Tm=function(e,n,a){Ng(a)&&(e.typing=n)},Ik=function(e,n){e.typing&&(Tm(e,!1,n),e.add())},xP=function(e){e.typing&&(e.typing=!1,e.add())},pT=function(e,n,a){Ng(n)&&a.set(k_(e.selection))},ID=function(e,n,a,i,l,v,p){var x=ky(e);if(v=v||{},v=yt.extend(v,x),Ng(i)===!1||e.removed)return null;var A=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:v,lastLevel:A,originalEvent:p}).isDefaultPrevented()||A&&Em(A,v))return null;n.data[a.get()]&&l.get().each(function(Q){n.data[a.get()].beforeBookmark=Q});var N=Yp(e);if(N&&n.data.length>N){for(var X=0;X<n.data.length-1;X++)n.data[X]=n.data[X+1];n.data.length--,a.set(n.data.length)}v.bookmark=k_(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(v),a.set(n.data.length-1);var Z={level:v,lastLevel:A,originalEvent:p};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",Z),e.fire("change",Z)):e.fire("AddUndo",Z),v},ND=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},kP=function(e,n,a,i,l){if(n.transact(i)){var v=n.data[a.get()].bookmark,p=n.data[a.get()-1];x1(e,p,!0),n.transact(l)&&(n.data[a.get()-1].beforeBookmark=v)}},AP=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],x1(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},zD=function(e,n,a,i){var l;return n.typing&&(n.add(),n.typing=!1,Tm(n,!1,a)),i.get()>0&&(i.set(i.get()-1),l=n.data[i.get()],x1(e,l,!0),e.setDirty(!0),e.fire("Undo",{level:l})),l},EP=function(e){e.clear(),e.add()},TP=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!Em(ky(e),n.data[0])},OP=function(e,n){return n.get()<e.data.length-1&&!e.typing},DP=function(e,n,a){return Ik(e,n),e.beforeChange(),e.ignore(a),e.add()},RP=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},FD=function(e,n){var a=e.dom,i=Ye(n)?n:e.getBody();De(e.hasVisual)&&(e.hasVisual=N_(e)),He(a.select("table,a",i),function(l){switch(l.nodeName){case"TABLE":var v=_4(e),p=a.getAttrib(l,"border");(!p||p==="0")&&e.hasVisual?a.addClass(l,v):a.removeClass(l,v);break;case"A":if(!a.getAttrib(l,"href")){var x=a.getAttrib(l,"name")||l.id,A=cw(e);x&&e.hasVisual?a.addClass(l,A):a.removeClass(l,A)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},LD=function(e){return{undoManager:{beforeChange:function(n,a){return pT(e,n,a)},add:function(n,a,i,l,v,p){return ID(e,n,a,i,l,v,p)},undo:function(n,a,i){return zD(e,n,a,i)},redo:function(n,a){return AP(e,n,a)},clear:function(n,a){return ND(e,n,a)},reset:function(n){return EP(n)},hasUndo:function(n,a){return TP(e,n,a)},hasRedo:function(n,a){return OP(n,a)},transact:function(n,a,i){return DP(n,a,i)},ignore:function(n,a){return RP(n,a)},extra:function(n,a,i,l){return kP(e,n,a,i,l)}},formatter:{match:function(n,a,i,l){return $C(e,n,a,i,l)},matchAll:function(n,a){return YE(e,n,a)},matchNode:function(n,a,i,l){return uu(e,n,a,i,l)},canApply:function(n){return I8(e,n)},closest:function(n){return JE(e,n)},apply:function(n,a,i){return cT(e,n,a,i)},remove:function(n,a,i,l){return lT(e,n,a,i,l)},toggle:function(n,a,i){return oP(e,n,a,i)},formatChanged:function(n,a,i,l,v){return aP(e,n,a,i,l,v)}},editor:{getContent:function(n,a){return iy(e,n,a)},setContent:function(n,a){return B8(e,n,a)},insertContent:function(n,a){return T8(e,n,a)},addVisual:function(n){return FD(e,n)}},selection:{getContent:function(n,a){return hP(e,n,a)}},raw:{getModel:function(){return te.none()}}}},zC=function(e){var n=function(x){return de(x)?x:{}},a=e.undoManager,i=e.formatter,l=e.editor,v=e.selection,p=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(x,A,N){return a.transact(N)},ignore:function(x,A){return a.ignore(A)},extra:function(x,A,N,X){return a.extra(N,X)}},formatter:{match:function(x,A,N,X){return i.match(x,n(A),X)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(x){return i.canApply(x)},closest:function(x){return i.closest(x)},apply:function(x,A,N){return i.apply(x,n(A))},remove:function(x,A,N,X){return i.remove(x,n(A))},toggle:function(x,A,N){return i.toggle(x,n(A))},formatChanged:function(x,A,N,X,Z){return i.formatChanged(A,N,X,Z)}},editor:{getContent:function(x,A){return l.getContent(x)},setContent:function(x,A){return l.setContent(x,A)},insertContent:function(x,A){return l.insertContent(x)},addVisual:l.addVisual},selection:{getContent:function(x,A){return v.getContent(A)}},raw:{getModel:function(){return te.some(p.getRawModel())}}}},HD=function(){var e=U(null),n=U("");return{undoManager:{beforeChange:ye,add:e,undo:e,redo:e,clear:ye,reset:ye,hasUndo:at,hasRedo:at,transact:e,ignore:ye,extra:ye},formatter:{match:at,matchAll:U([]),matchNode:U(void 0),canApply:at,closest:n,apply:ye,remove:ye,toggle:ye,formatChanged:U({unbind:ye})},editor:{getContent:n,setContent:n,insertContent:ye,addVisual:ye},selection:{getContent:n},raw:{getModel:U(te.none())}}},Om=function(e){return Ar(e.plugins,"rtc")},VD=function(e){return Pr(e.plugins,"rtc").bind(function(n){return te.from(n.setup)})},$P=function(e){var n=e;return VD(e).fold(function(){return n.rtcInstance=LD(e),te.none()},function(a){return n.rtcInstance=HD(),te.some(function(){return a().then(function(i){return n.rtcInstance=zC(i),i.rtc.isRemote})})})},Nk=function(e){return e.rtcInstance?e.rtcInstance:LD(e)},Ni=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},BP=function(e,n,a){Ni(e).undoManager.beforeChange(n,a)},UD=function(e,n,a,i,l,v,p){return Ni(e).undoManager.add(n,a,i,l,v,p)},WD=function(e,n,a,i){return Ni(e).undoManager.undo(n,a,i)},jD=function(e,n,a){return Ni(e).undoManager.redo(n,a)},GD=function(e,n,a){Ni(e).undoManager.clear(n,a)},qD=function(e,n){Ni(e).undoManager.reset(n)},MP=function(e,n,a){return Ni(e).undoManager.hasUndo(n,a)},PP=function(e,n,a){return Ni(e).undoManager.hasRedo(n,a)},IP=function(e,n,a,i){return Ni(e).undoManager.transact(n,a,i)},NP=function(e,n,a){Ni(e).undoManager.ignore(n,a)},bT=function(e,n,a,i,l){Ni(e).undoManager.extra(n,a,i,l)},FC=function(e,n,a,i,l){return Ni(e).formatter.match(n,a,i,l)},KD=function(e,n,a){return Ni(e).formatter.matchAll(n,a)},XD=function(e,n,a,i,l){return Ni(e).formatter.matchNode(n,a,i,l)},zk=function(e,n){return Ni(e).formatter.canApply(n)},zP=function(e,n){return Ni(e).formatter.closest(n)},FP=function(e,n,a,i){Ni(e).formatter.apply(n,a,i)},zg=function(e,n,a,i,l){Ni(e).formatter.remove(n,a,i,l)},yT=function(e,n,a,i){Ni(e).formatter.toggle(n,a,i)},YD=function(e,n,a,i,l,v){return Ni(e).formatter.formatChanged(n,a,i,l,v)},LC=function(e,n,a){return Nk(e).editor.getContent(n,a)},JD=function(e,n,a){return Nk(e).editor.setContent(n,a)},ZD=function(e,n,a){return Nk(e).editor.insertContent(n,a)},QD=function(e,n,a){return Ni(e).selection.getContent(n,a)},eR=function(e,n){return Ni(e).editor.addVisual(n)},LP=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return QD(e,a,n)},tR=function(e){return e.dom.length===0?(vo(e),te.none()):te.some(e)},HP=function(e,n){return e.filter(function(a){return vd.isBookmarkNode(a.dom)}).bind(n?ks:zf)},wT=function(e,n,a,i){var l=e.dom,v=n.dom,p=i?l.length:v.length;i?(u(l,v,!1,!i),a.setStart(v,p)):(u(v,l,!1,!i),a.setEnd(v,p))},VP=function(e,n){ro(e).each(function(a){var i=e.dom;n&&vy(a,dt(i,0))?y1(i,0):!n&&dy(a,dt(i,i.length))&&hy(i,i.length)})},nR=function(e,n,a,i){e.bind(function(l){var v=i?hy:y1;return v(l.dom,i?l.dom.length:0),n.filter(Ka).map(function(p){return wT(l,p,a,i)})}).orThunk(function(){var l=HP(n,i).or(n).filter(Ka);return l.map(function(v){return VP(v,i)})})},HC=function(e,n){var a=te.from(n.firstChild).map(je.fromDom),i=te.from(n.lastChild).map(je.fromDom);e.deleteContents(),e.insertNode(n);var l=a.bind(zf).filter(Ka).bind(tR),v=i.bind(ks).filter(Ka).bind(tR);nR(l,a,e,!0),nR(v,i,e,!1),e.collapse(!1)},CT=function(e,n){return Wn(Wn({format:"html"},e),{set:!0,selection:!0,content:n})},UP=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),l=i?{context:i.nodeName.toLowerCase()}:{},v=e.parser.parse(n.content,Wn(Wn({isRootContent:!0,forced_root_block:!1},l),n));return Am({validate:e.validate},e.schema).serialize(v)}else return n.content},rR=function(e,n,a){a===void 0&&(a={});var i=CT(a,n),l=i;if(!i.no_events){var v=e.fire("BeforeSetContent",i);if(v.isDefaultPrevented()){e.fire("SetContent",v);return}else l=v}l.content=UP(e,l);var p=e.selection.getRng();HC(p,p.createContextualFragment(l.content)),e.selection.setRng(p),s1(e,p),l.no_events||e.fire("SetContent",l)},aR=function(e,n,a){if(e&&Ar(e,n)){var i=it(e[n],function(l){return l!==a});i.length===0?delete e[n]:e[n]=i}};function Fk(e,n){var a,i,l=function(p,x){return rn(x,function(A){return e.is(A,p)})},v=function(p){return e.getParents(p,null,e.getRoot())};return{selectorChangedWithUnbind:function(p,x){return a||(a={},i={},n.on("NodeChange",function(A){var N=A.element,X=v(N),Z={};yt.each(a,function(Q,ce){l(ce,X).each(function(ve){i[ce]||(He(Q,function(me){me(!0,{node:ve,selector:ce,parents:X})}),i[ce]=Q),Z[ce]=Q})}),yt.each(i,function(Q,ce){Z[ce]||(delete i[ce],yt.each(Q,function(ve){ve(!1,{node:N,selector:ce,parents:X})}))})})),a[p]||(a[p]=[]),a[p].push(x),l(p,v(n.selection.getStart())).each(function(){i[p]=a[p]}),{unbind:function(){aR(a,p,x),aR(i,p,x)}}}}}var ST=function(e){return!!e.select},oR=function(e){return!!(e&&e.ownerDocument)&&Hi(je.fromDom(e.ownerDocument),je.fromDom(e))},hi=function(e){return e?ST(e)?!0:oR(e.startContainer)&&oR(e.endContainer):!1},iR=function(e,n,a,i){var l,v,p=Fk(e,i).selectorChangedWithUnbind,x=function(Pt,hn){var xr=e.createRng();Ye(Pt)&&Ye(hn)?(xr.setStart(Pt,hn),xr.setEnd(Pt,hn),qe(xr),he(!1)):(cd(e,xr,i.getBody(),!0),qe(xr))},A=function(Pt){return LP(i,Pt)},N=function(Pt,hn){return rR(i,Pt,hn)},X=function(Pt){return km(i.getBody(),xe(),Pt)},Z=function(Pt){return Cg(i.getBody(),xe(),Pt)},Q=function(Pt,hn){return Zt.getBookmark(Pt,hn)},ce=function(Pt){return Zt.moveToBookmark(Pt)},ve=function(Pt,hn){return gE(e,Pt,hn).each(qe),Pt},me=function(){var Pt=xe(),hn=Oe();return!Pt||Pt.item?!1:Pt.compareEndPoints?Pt.compareEndPoints("StartToEnd",Pt)===0:!hn||Pt.collapsed},he=function(Pt){var hn=xe();hn.collapse(!!Pt),qe(hn)},Oe=function(){return n.getSelection?n.getSelection():n.document.selection},xe=function(){var Pt,hn,xr,na=function(uo,ju,ps){try{return ju.compareBoundaryPoints(uo,ps)}catch{return-1}},Jr=n.document;if(i.bookmark!==void 0&&sl(i)===!1){var zi=bg(i);if(zi.isSome())return zi.map(function(uo){return ey(i,[uo])[0]}).getOr(Jr.createRange())}try{(Pt=Oe())&&!zc(Pt.anchorNode)&&(Pt.rangeCount>0?hn=Pt.getRangeAt(0):hn=Pt.createRange?Pt.createRange():Jr.createRange(),hn=ey(i,[hn])[0])}catch{}return hn||(hn=Jr.createRange?Jr.createRange():Jr.body.createTextRange()),hn.setStart&&hn.startContainer.nodeType===9&&hn.collapsed&&(xr=e.getRoot(),hn.setStart(xr,0),hn.setEnd(xr,0)),l&&v&&(na(hn.START_TO_START,hn,l)===0&&na(hn.END_TO_END,hn,l)===0?hn=v:(l=null,v=null)),hn},qe=function(Pt,hn){var xr;if(hi(Pt)){var na=ST(Pt)?Pt:null;if(na){v=null;try{na.select()}catch{}return}var Jr=Oe(),zi=i.fire("SetSelectionRange",{range:Pt,forward:hn});if(Pt=zi.range,Jr){v=Pt;try{Jr.removeAllRanges(),Jr.addRange(Pt)}catch{}hn===!1&&Jr.extend&&(Jr.collapse(Pt.endContainer,Pt.endOffset),Jr.extend(Pt.startContainer,Pt.startOffset)),l=Jr.rangeCount>0?Jr.getRangeAt(0):null}!Pt.collapsed&&Pt.startContainer===Pt.endContainer&&Jr.setBaseAndExtent&&!Hn.ie&&Pt.endOffset-Pt.startOffset<2&&Pt.startContainer.hasChildNodes()&&(xr=Pt.startContainer.childNodes[Pt.startOffset],xr&&xr.tagName==="IMG"&&(Jr.setBaseAndExtent(Pt.startContainer,Pt.startOffset,Pt.endContainer,Pt.endOffset),(Jr.anchorNode!==Pt.startContainer||Jr.focusNode!==Pt.endContainer)&&Jr.setBaseAndExtent(xr,0,xr,1))),i.fire("AfterSetSelectionRange",{range:Pt,forward:hn})}},We=function(Pt){return N(e.getOuterHTML(Pt)),Pt},Re=function(){return Ux(i.getBody(),xe())},Ze=function(Pt,hn){return Q0(e,xe(),Pt,hn)},St=function(){var Pt=Oe(),hn=Pt==null?void 0:Pt.anchorNode,xr=Pt==null?void 0:Pt.focusNode;if(!Pt||!hn||!xr||zc(hn)||zc(xr))return!0;var na=e.createRng();na.setStart(hn,Pt.anchorOffset),na.collapse(!0);var Jr=e.createRng();return Jr.setStart(xr,Pt.focusOffset),Jr.collapse(!0),na.compareBoundaryPoints(na.START_TO_START,Jr)<=0},Ft=function(){var Pt=xe(),hn=Oe();if(!Iw(hn)&&fd(i)){var xr=U0(e,Pt);return xr.each(function(na){qe(na,St())}),xr.getOr(Pt)}return Pt},Vn=function(Pt,hn){return p(Pt,hn),jt},mn=function(){for(var Pt,hn=e.getRoot();hn&&hn.nodeName!=="BODY";){if(hn.scrollHeight>hn.clientHeight){Pt=hn;break}hn=hn.parentNode}return Pt},$t=function(Pt,hn){Ye(Pt)?lE(i,Pt,hn):s1(i,xe(),hn)},Ln=function(Pt,hn){return qe(qw(Pt,hn,i.getDoc()))},Vt=function(){var Pt=xe();return Pt.collapsed?dt.fromRangeStart(Pt).getClientRects()[0]:Pt.getBoundingClientRect()},vn=function(){n=l=v=null,yn.destroy()},jt={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:he,setCursorLocation:x,getContent:A,setContent:N,getBookmark:Q,moveToBookmark:ce,select:ve,isCollapsed:me,isForward:St,setNode:We,getNode:Re,getSel:Oe,setRng:qe,getRng:xe,getStart:X,getEnd:Z,getSelectedBlocks:Ze,normalize:Ft,selectorChanged:Vn,selectorChangedWithUnbind:p,getScrollContainer:mn,scrollIntoView:$t,placeCaretAt:Ln,getBoundingClientRect:Vt,destroy:vn},Zt=vd(jt),yn=jw(jt,i);return jt.bookmarkManager=Zt,jt.controlSelection=yn,jt},uR=function(e,n){He(n,function(a){e.attr(a,null)})},WP=function(e,n,a){e.addNodeFilter("font",function(i){He(i,function(l){var v=n.parse(l.attr("style")),p=l.attr("color"),x=l.attr("face"),A=l.attr("size");p&&(v.color=p),x&&(v["font-family"]=x),A&&(v["font-size"]=a[parseInt(l.attr("size"),10)-1]),l.name="span",l.attr("style",n.serialize(v)),uR(l,["color","face","size"])})})},jP=function(e,n){e.addNodeFilter("strike",function(a){He(a,function(i){var l=n.parse(i.attr("style"));l["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(l))})})},sR=function(e,n){var a=Rl();n.convert_fonts_to_spans&&WP(e,a,yt.explode(n.font_size_legacy_values)),jP(e,a)},GP=function(e,n){n.inline_styles&&sR(e,n)},_T=function(e){return new si(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="blob",l.onload=function(){l.status===200?n(l.response):i()},l.onerror=i,l.send()}catch{i()}})},xT=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},kT=function(e,n){var a;try{a=atob(n)}catch{return te.none()}for(var i=new Uint8Array(a.length),l=0;l<i.length;l++)i[l]=a.charCodeAt(l);return te.some(new Blob([i],{type:e}))},AT=function(e){return new si(function(n){var a=xT(e),i=a.type,l=a.data;kT(i,l).fold(function(){return n(new Blob([]))},n)})},lR=function(e){return e.indexOf("blob:")===0?_T(e):e.indexOf("data:")===0?AT(e):null},qP=function(e){return new si(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},KP=0,ET=function(e){return(e||"blobid")+KP++},XP=function(e,n,a,i){var l,v;if(n.src.indexOf("blob:")===0){v=e.getByUri(n.src),v?a({image:n,blobInfo:v}):lR(n.src).then(function(N){qP(N).then(function(X){l=xT(X).data,v=e.create(ET(),N,l),e.add(v),a({image:n,blobInfo:v})})},function(N){i(N)});return}var p=xT(n.src),x=p.data,A=p.type;l=x,v=e.getByData(l,A),v?a({image:n,blobInfo:v}):lR(n.src).then(function(N){v=e.create(ET(),N,l),e.add(v),a({image:n,blobInfo:v})},function(N){i(N)})},cR=function(e){return e?lr(e.getElementsByTagName("img")):[]},fR=function(e,n){var a={},i=function(l,v){v||(v=ot);var p=it(cR(l),function(A){var N=A.src;return!Hn.fileApi||A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!N||N===Hn.transparentSrc?!1:N.indexOf("blob:")===0?!e.isUploaded(N)&&v(A):N.indexOf("data:")===0?v(A):!1}),x=et(p,function(A){if(a[A.src]!==void 0)return new si(function(X){a[A.src].then(function(Z){if(typeof Z=="string")return Z;X({image:A,blobInfo:Z.blobInfo})})});var N=new si(function(X,Z){XP(n,A,X,Z)}).then(function(X){return delete a[X.image.src],X}).catch(function(X){return delete a[A.src],X});return a[A.src]=N,N});return si.all(x)};return{findAll:i}},VC=function(e,n,a,i){var l=e.padd_empty_with_br||n.insert;l&&a[i.name]?i.empty().append(new ll("br",1)).shortEnded=!0:i.empty().append(new ll("#text",3)).value=us},vR=function(e){return TT(e,"#text")&&e.firstChild.value===us},TT=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},dR=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},Ay=function(e,n,a,i){return i.isEmpty(n,a,function(l){return dR(e,l)})},mR=function(e,n){return e&&(Ar(n,e.name)||e.name==="br")},hR=function(e){return Ye(e.attr("data-mce-bogus"))},YP=function(e){return e.attr("src")===Hn.transparentSrc||Ye(e.attr("data-mce-placeholder"))},OT=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),Hr(e.attributes.map,function(i,l){a.setAttribute(l,i)}),n.images_dataimg_filter(a)}else return!0},JP=function(e,n){var a=n.blob_cache,i=function(l){var v=l.attr("src");YP(l)||hR(l)||jx(v).filter(function(){return OT(l,n)}).bind(function(p){var x=p.type,A=p.data;return te.from(a.getByData(A,x)).orThunk(function(){return kT(x,A).map(function(N){var X=a.create(ET(),N,A);return a.add(X),X})})}).each(function(p){l.attr("src",p.blobUri())})};a&&e.addAttributeFilter("src",function(l){return He(l,i)})},Lk=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,l,v){var p,x=i.length,A,N=yt.extend({},a.getBlockElements()),X=a.getNonEmptyElements(),Z,Q,ce,ve,me=a.getWhiteSpaceElements(),he,Oe;for(N.body=1,p=0;p<x;p++)if(A=i[p],Z=A.parent,N[A.parent.name]&&A===Z.lastChild){for(ce=A.prev;ce;){if(ve=ce.name,ve!=="span"||ce.attr("data-mce-type")!=="bookmark"){ve==="br"&&(A=null);break}ce=ce.prev}A&&(A.remove(),Ay(a,X,me,Z)&&(he=a.getElementRule(Z.name),he&&(he.removeEmpty?Z.remove():he.paddEmpty&&VC(n,v,N,Z))))}else{for(Q=A;Z&&Z.firstChild===Q&&Z.lastChild===Q&&(Q=Z,!N[Z.name]);)Z=Z.parent;Q===Z&&n.padd_empty_with_br!==!0&&(Oe=new ll("#text",3),Oe.value=us,A.replace(Oe))}}),e.addAttributeFilter("href",function(i){var l=i.length,v=function(A){var N=A.split(" ").filter(function(X){return X.length>0});return N.concat(["noopener"]).sort().join(" ")},p=function(A){var N=A?yt.trim(A):"";return/\b(noopener)\b/g.test(N)?N:v(N)};if(!n.allow_unsafe_link_target)for(;l--;){var x=i[l];x.name==="a"&&x.attr("target")==="_blank"&&x.attr("rel",p(x.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var l=i.length,v,p,x,A;l--;)if(A=i[l],A.name==="a"&&A.firstChild&&!A.attr("href")){x=A.parent,v=A.lastChild;do p=v.prev,x.insert(v,A),v=p;while(v)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var l=i.length,v,p;l--;)if(v=i[l],p=v.parent,p.name==="ul"||p.name==="ol")if(v.prev&&v.prev.name==="li")v.prev.append(v);else{var x=new ll("li",1);x.attr("style","list-style-type: none"),v.wrap(x)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var l=a.getValidClasses(),v=i.length;v--;){for(var p=i[v],x=p.attr("class").split(" "),A="",N=0;N<x.length;N++){var X=x[N],Z=!1,Q=l["*"];Q&&Q[X]&&(Z=!0),Q=l[p.name],!Z&&Q&&Q[X]&&(Z=!0),Z&&(A&&(A+=" "),A+=X)}A.length||(A=null),p.attr("class",A)}}),JP(e,n)},gR=yt.makeMap,pR=yt.each,bR=yt.explode,yR=yt.extend,Hk=function(e,n){n===void 0&&(n=Bs());var a={},i=[],l={},v={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var p=function(ve){for(var me=gR("tr,td,th,tbody,thead,tfoot,table"),he=n.getNonEmptyElements(),Oe=n.getWhiteSpaceElements(),xe=n.getTextBlockElements(),qe=n.getSpecialElements(),We=function(Zt,yn){if(yn===void 0&&(yn=Zt.parent),qe[Zt.name])Zt.empty().remove();else{for(var Pt=Zt.children(),hn=0,xr=Pt;hn<xr.length;hn++){var na=xr[hn];n.isValidChild(yn.name,na.name)||We(na,yn)}Zt.unwrap()}},Re=0;Re<ve.length;Re++){var Ze=ve[Re],St=void 0,Ft=void 0,Vn=void 0;if(!(!Ze.parent||Ze.fixed)){if(xe[Ze.name]&&Ze.parent.name==="li"){for(var mn=Ze.next;mn&&xe[mn.name];){mn.name="li",mn.fixed=!0,Ze.parent.insert(mn,Ze.parent);mn=mn.next}Ze.unwrap();continue}var $t=[Ze];for(St=Ze.parent;St&&!n.isValidChild(St.name,Ze.name)&&!me[St.name];St=St.parent)$t.push(St);if(St&&$t.length>1)if(n.isValidChild(St.name,Ze.name)){$t.reverse(),Ft=x($t[0].clone());for(var Ln=Ft,Vt=0;Vt<$t.length-1;Vt++){n.isValidChild(Ln.name,$t[Vt].name)?(Vn=x($t[Vt].clone()),Ln.append(Vn)):Vn=Ln;for(var vn=$t[Vt].firstChild;vn&&vn!==$t[Vt+1];){var jt=vn.next;Vn.append(vn),vn=jt}Ln=Vn}Ay(n,he,Oe,Ft)?St.insert(Ze,$t[0],!0):(St.insert(Ft,$t[0],!0),St.insert(Ze,Ft)),St=$t[0],(Ay(n,he,Oe,St)||TT(St,"br"))&&St.empty().remove()}else We(Ze);else if(Ze.parent){if(Ze.name==="li"){var mn=Ze.prev;if(mn&&(mn.name==="ul"||mn.name==="ol")){mn.append(Ze);continue}if(mn=Ze.next,mn&&(mn.name==="ul"||mn.name==="ol")){mn.insert(Ze,mn.firstChild,!0);continue}Ze.wrap(x(new ll("ul",1)));continue}n.isValidChild(Ze.parent.name,"div")&&n.isValidChild("div",Ze.name)?Ze.wrap(x(new ll("div",1))):We(Ze)}}}},x=function(ve){var me=ve.name;if(me in a){var he=l[me];he?he.push(ve):l[me]=[ve]}for(var Oe=i.length;Oe--;){var xe=i[Oe].name;if(xe in ve.attributes.map){var he=v[xe];he?he.push(ve):v[xe]=[ve]}}return ve},A=function(ve,me){pR(bR(ve),function(he){var Oe=a[he];Oe||(a[he]=Oe=[]),Oe.push(me)})},N=function(){var ve=[];for(var me in a)Ar(a,me)&&ve.push({name:me,callbacks:a[me]});return ve},X=function(ve,me){pR(bR(ve),function(he){var Oe;for(Oe=0;Oe<i.length;Oe++)if(i[Oe].name===he){i[Oe].callbacks.push(me);return}i.push({name:he,callbacks:[me]})})},Z=function(){return[].concat(i)},Q=function(ve,me){var he,Oe,xe,qe,We,Re,Ze,St=[],Ft,Vn=function(nt){return nt===!1?"":nt===!0?"p":nt};me=me||{},l={},v={};var mn=yR(gR("script,style,head,html,body,title,meta,param"),n.getBlockElements()),$t=Ab(n),Ln=n.getNonEmptyElements(),Vt=n.children,vn=e.validate,jt="forced_root_block"in me?me.forced_root_block:e.forced_root_block,Zt=Vn(jt),yn=n.getWhiteSpaceElements(),Pt=/^[ \t\r\n]+/,hn=/[ \t\r\n]+$/,xr=/[ \t\r\n]+/g,na=/^[ \t\r\n]+$/,Jr=Ar(yn,me.context)||Ar(yn,e.root_name),zi=function(){var nt=Dn.firstChild,Ht=null,Nt=function(Nn){Nn&&(nt=Nn.firstChild,nt&&nt.type===3&&(nt.value=nt.value.replace(Pt,"")),nt=Nn.lastChild,nt&&nt.type===3&&(nt.value=nt.value.replace(hn,"")))};if(n.isValidChild(Dn.name,Zt.toLowerCase())){for(;nt;){var Bn=nt.next;nt.type===3||nt.type===1&&nt.name!=="p"&&!mn[nt.name]&&!nt.attr("data-mce-type")?(Ht||(Ht=uo(Zt,1),Ht.attr(e.forced_root_block_attrs),Dn.insert(Ht,nt)),Ht.append(nt)):(Nt(Ht),Ht=null),nt=Bn}Nt(Ht)}},uo=function(nt,Ht){var Nt=new ll(nt,Ht),Bn;return nt in a&&(Bn=l[nt],Bn?Bn.push(Nt):l[nt]=[Nt]),Nt},ju=function(nt){for(var Ht=n.getBlockElements(),Nt=nt.prev;Nt&&Nt.type===3;){var Bn=Nt.value.replace(hn,"");if(Bn.length>0){Nt.value=Bn;return}var Nn=Nt.next;if(Nn){if(Nn.type===3&&Nn.value.length){Nt=Nt.prev;continue}if(!Ht[Nn.name]&&Nn.name!=="script"&&Nn.name!=="style"){Nt=Nt.prev;continue}}var Aa=Nt.prev;Nt.remove(),Nt=Aa}},ps=function(nt){var Ht={};for(var Nt in nt)Nt!=="li"&&Nt!=="p"&&(Ht[Nt]=nt[Nt]);return Ht},It=function(nt){for(var Ht=nt;Ye(Ht);){if(Ht.name in $t)return Ay(n,Ln,yn,Ht);Ht=Ht.parent}return!1},qt=Sg({validate:vn,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:ps(n.getSelfClosingElements()),cdata:function(nt){Ft.append(uo("#cdata",4)).value=nt},text:function(nt,Ht){var Nt;Jr||(nt=nt.replace(xr," "),mR(Ft.lastChild,mn)&&(nt=nt.replace(Pt,""))),nt.length!==0&&(Nt=uo("#text",3),Nt.raw=!!Ht,Ft.append(Nt).value=nt)},comment:function(nt){Ft.append(uo("#comment",8)).value=nt},pi:function(nt,Ht){Ft.append(uo(nt,7)).value=Ht,ju(Ft)},doctype:function(nt){var Ht=Ft.append(uo("#doctype",10));Ht.value=nt,ju(Ft)},start:function(nt,Ht,Nt){var Bn=vn?n.getElementRule(nt):{};if(Bn){var Nn=uo(Bn.outputName||nt,1);Nn.attributes=Ht,Nn.shortEnded=Nt,Ft.append(Nn);var Aa=Vt[Ft.name];Aa&&Vt[Nn.name]&&!Aa[Nn.name]&&St.push(Nn);for(var ni=i.length;ni--;){var Yo=i[ni].name;Yo in Ht.map&&(Re=v[Yo],Re?Re.push(Nn):v[Yo]=[Nn])}mn[nt]&&ju(Nn),Nt||(Ft=Nn),!Jr&&yn[nt]&&(Jr=!0)}},end:function(nt){var Ht,Nt,Bn,Nn=vn?n.getElementRule(nt):{};if(Nn){if(mn[nt]&&!Jr){if(Ht=Ft.firstChild,Ht&&Ht.type===3)if(Nt=Ht.value.replace(Pt,""),Nt.length>0)Ht.value=Nt,Ht=Ht.next;else for(Bn=Ht.next,Ht.remove(),Ht=Bn;Ht&&Ht.type===3;)Nt=Ht.value,Bn=Ht.next,(Nt.length===0||na.test(Nt))&&(Ht.remove(),Ht=Bn),Ht=Bn;if(Ht=Ft.lastChild,Ht&&Ht.type===3)if(Nt=Ht.value.replace(hn,""),Nt.length>0)Ht.value=Nt,Ht=Ht.prev;else for(Bn=Ht.prev,Ht.remove(),Ht=Bn;Ht&&Ht.type===3;)Nt=Ht.value,Bn=Ht.prev,(Nt.length===0||na.test(Nt))&&(Ht.remove(),Ht=Bn),Ht=Bn}Jr&&yn[nt]&&(Jr=!1);var Aa=Ay(n,Ln,yn,Ft),ni=Ft.parent;Nn.paddInEmptyBlock&&Aa&&It(Ft)?VC(e,me,mn,Ft):Nn.removeEmpty&&Aa?mn[Ft.name]?Ft.empty().remove():Ft.unwrap():Nn.paddEmpty&&(vR(Ft)||Aa)&&VC(e,me,mn,Ft),Ft=ni}}},n),Dn=Ft=new ll(me.context||e.root_name,11);if(qt.parse(ve,me.format),vn&&St.length&&(me.context?me.invalid=!0:p(St)),Zt&&(Dn.name==="body"||me.isRootContent)&&zi(),!me.invalid){for(Ze in l)if(Ar(l,Ze)){for(Re=a[Ze],he=l[Ze],qe=he.length;qe--;)he[qe].parent||he.splice(qe,1);for(Oe=0,xe=Re.length;Oe<xe;Oe++)Re[Oe](he,Ze,me)}for(Oe=0,xe=i.length;Oe<xe;Oe++)if(Re=i[Oe],Re.name in v){for(he=v[Re.name],qe=he.length;qe--;)he[qe].parent||he.splice(qe,1);for(qe=0,We=Re.callbacks.length;qe<We;qe++)Re.callbacks[qe](he,Re.name,me)}}return Dn},ce={schema:n,addAttributeFilter:X,getAttributeFilters:Z,addNodeFilter:A,getNodeFilters:N,filterNode:x,parse:Q};return Lk(ce,e),GP(ce,e),ce},ZP=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,l){for(var v=i.length;v--;){var p=i[v];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(l,null)}}),e.addAttributeFilter("src,href,style",function(i,l){for(var v="data-mce-"+l,p=n.url_converter,x=n.url_converter_scope,A=i.length;A--;){var N=i[A],X=N.attr(v);X!==void 0?(N.attr(l,X.length>0?X:null),N.attr(v,null)):(X=N.attr(l),l==="style"?X=a.serializeStyle(a.parseStyle(X),N.name):p&&(X=p.call(x,X,l,N.name)),N.attr(l,X.length>0?X:null))}}),e.addAttributeFilter("class",function(i){for(var l=i.length;l--;){var v=i[l],p=v.attr("class");p&&(p=v.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),v.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",function(i,l,v){for(var p=i.length;p--;){var x=i[p];if(x.attr("data-mce-type")==="bookmark"&&!v.cleanup){var A=te.from(x.firstChild).exists(function(N){return!gu(N.value)});A?x.unwrap():x.remove()}}}),e.addNodeFilter("noscript",function(i){for(var l=i.length;l--;){var v=i[l].firstChild;v&&(v.value=$s.decode(v.value))}}),e.addNodeFilter("script,style",function(i,l){for(var v=function(X){return X.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},p=i.length;p--;){var x=i[p],A=x.firstChild?x.firstChild.value:"";if(l==="script"){var N=x.attr("type");N&&x.attr("type",N==="mce-no/type"?null:N.replace(/^mce\-/,"")),n.element_format==="xhtml"&&A.length>0&&(x.firstChild.value=`// <![CDATA[
`+v(A)+`
// ]]>`)}else n.element_format==="xhtml"&&A.length>0&&(x.firstChild.value=`<!--
`+v(A)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var l=i.length;l--;){var v=i[l];n.preserve_cdata&&v.value.indexOf("[CDATA[")===0?(v.name="#cdata",v.type=4,v.value=a.decode(v.value.replace(/^\[CDATA\[|\]\]$/g,""))):v.value.indexOf("mce:protected ")===0&&(v.name="#text",v.type=3,v.raw=!0,v.value=unescape(v.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,l){for(var v=i.length;v--;){var p=i[v];p.type===7?p.remove():p.type===1&&l==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){He(i,function(l){l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,l){for(var v=i.length;v--;)i[v].attr(l,null)})},QP=function(e){var n=function(l){return l&&l.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},eI=function(e,n,a){var i,l=e.dom,v=n.cloneNode(!0),p=document.implementation;if(p.createHTMLDocument){var x=p.createHTMLDocument("");yt.each(v.nodeName==="BODY"?v.childNodes:[v],function(A){x.body.appendChild(x.importNode(A,!0))}),v.nodeName!=="BODY"?v=x.body.firstChild:v=x.body,i=l.doc,l.doc=x}return K4(e,Wn(Wn({},a),{node:v})),i&&(l.doc=i),v},tI=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},wR=function(e,n,a){return tI(e,a)?eI(e,n,a):n},nI=function(e,n,a){yt.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,l){for(var v=i.length;v--;)i[v].attr(l,null)}),n.push(a))},rI=function(e,n,a){if(!n.no_events&&e){var i=Hw(e,Wn(Wn({},n),{content:a}));return i.content}else return a},aI=function(e,n,a){var i=uc(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||Ld(je.fromDom(n))?i:yt.trim(i)},oI=function(e,n,a){var i=a.selection?Wn({forced_root_block:!1},a):a,l=e.parse(n,i);return QP(l),l},iI=function(e,n,a){var i=Am(e,n);return i.serialize(a)},uI=function(e,n,a,i,l){var v=iI(n,a,i);return rI(e,l,v)},sI=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:Ma.DOM,l=n&&n.schema?n.schema:Bs(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var v=Hk(e,l);ZP(v,e,i);var p=function(x,A){A===void 0&&(A={});var N=Wn({format:"html"},A),X=wR(n,x,N),Z=aI(i,X,N),Q=oI(v,Z,N);return N.format==="tree"?Q:uI(n,e,l,Q,N)};return{schema:l,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:p,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:se(nI,v,a),getTempAttrs:U(a),getNodeFilters:v.getNodeFilters,getAttributeFilters:v.getAttributeFilters}},CR=function(e,n){var a=sI(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},SR="html",lI=function(e,n){n===void 0&&(n={});var a=n.format?n.format:SR;return LC(e,n,a)},DT=function(e,n,a){return a===void 0&&(a={}),JD(e,n,a)},Vk=Ma.DOM,cI=function(e){Vk.setStyle(e.id,"display",e.orgDisplay)},Uk=function(e){return te.from(e).each(function(n){return n.destroy()})},UC=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},fI=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),Vk.unbind(n,"submit reset",e.formEventDelegate))},vI=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),l=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&l&&Vk.remove(l.nextSibling),ix(e),e.editorManager.remove(e),!e.inline&&i&&cI(e),ux(e),Vk.remove(e.getContainer()),Uk(n),Uk(a),e.destroy()}},_R=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Uk(a),Uk(i)),fI(e),UC(e),e.destroyed=!0}},xR=function(e,n){var a=de(e)&&de(n);return a?kR(e,n):n},dI=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},l=0;l<n.length;l++){var v=n[l];for(var p in v)Ar(v,p)&&(i[p]=e(i[p],v[p]))}return i}},kR=dI(xR),mI="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),WC="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),AR="imagetools,toc".split(","),ER=function(e){var n=it(mI,function(i){return Ar(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&n.push("forced_root_block (false only)"),Zr(n)},hI=function(e){var n=yt.makeMap(e.plugins," "),a=function(l){return Ar(n,l)},i=Ou(Ou([],it(WC,a),!0),sr(AR,function(l){return a(l)?[l+" (moving to premium)"]:[]}),!0);return Zr(i)},TR=function(e,n){var a=ER(e),i=hI(n),l=i.length>0,v=a.length>0,p=n.theme==="mobile";if(l||v||p){var x=`
- `,A=p?`

Themes:`+x+"mobile":"",N=l?`

Plugins:`+x+i.join(x):"",X=v?`

Settings:`+x+a.join(x):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+A+N+X)}},gI=function(e,n){return{sections:U(e),settings:U(n)}},RT=Rn().deviceType,pI=RT.isTouch(),$T=RT.isPhone(),bI=RT.isTablet(),yI=["lists","autolink","autosave"],OR={table_grid:!1,object_resizing:!1,resize:!1},Ey=function(e){var n=Be(e)?e.join(" "):e,a=et($e(n)?n.split(" "):[],Xs);return it(a,function(i){return i.length>0})},wI=function(e){return it(e,se(Ae,yI))},CI=function(e,n){var a=Mr(n,function(i,l){return Ae(e,l)});return gI(a.t,a.f)},jC=function(e,n,a){a===void 0&&(a={});var i=e.sections(),l=Pr(i,n).getOr({});return yt.extend({},a,l)},GC=function(e,n){return Ar(e.sections(),n)},DR=function(e,n,a){var i=e.sections();return GC(e,n)&&i[n].theme===a},SI=function(e,n){return GC(e,n)?e.sections()[n]:{}},RR=function(e,n){return Pr(e,"toolbar_mode").orThunk(function(){return Pr(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},_I=function(e,n,a,i,l){var v={id:n,theme:"silver",toolbar_mode:RR(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l};return Wn(Wn({},v),i?OR:{})},$R=function(e,n){var a={resize:!1,toolbar_mode:RR(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return Wn(Wn(Wn({},OR),a),n?i:{})},xI=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?yt.extend({},e.external_plugins,a):a},kI=function(e,n){return[].concat(Ey(e)).concat(Ey(n))},AI=function(e,n,a,i){return e&&DR(n,"mobile","mobile")?wI(i):e&&GC(n,"mobile")?i:a},EI=function(e,n,a,i){var l=Ey(a.forced_plugins),v=Ey(i.plugins),p=SI(n,"mobile"),x=p.plugins?Ey(p.plugins):v,A=AI(e,n,v,x),N=kI(l,A);if(Hn.browser.isIE()&&Ae(N,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return yt.extend(i,{plugins:N.join(" ")})},TI=function(e,n){return e&&GC(n,"mobile")},ku=function(e,n,a,i,l){var v=e?{mobile:$R(l.mobile||{},n)}:{},p=CI(["mobile"],kR(v,l)),x=yt.extend(a,i,p.settings(),TI(e,p)?jC(p,"mobile"):{},{validate:!0,external_plugins:xI(i,p.settings())});return EI(e,p,i,x)},BR=function(e,n,a,i,l){var v=_I(l,n,a,pI,e),p=ku($T||bI,$T,v,i,l);return p.deprecation_warnings!==!1&&TR(l,p),p},A1=function(e,n,a){return te.from(n.settings[a]).filter(e)},OI=function(e){var n={};return typeof e=="string"?He(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[yt.trim(i[0])]=yt.trim(i[1]):n[yt.trim(i[0])]=yt.trim(i[0])}):n=e,n},DI=function(e){return function(n){return Be(n)&&Gr(n,e)}},RI=function(e,n,a,i){var l=n in e.settings?e.settings[n]:a;return i==="hash"?OI(l):i==="string"?A1($e,e,n).getOr(a):i==="number"?A1(pe,e,n).getOr(a):i==="boolean"?A1(Ee,e,n).getOr(a):i==="object"?A1(de,e,n).getOr(a):i==="array"?A1(Be,e,n).getOr(a):i==="string[]"?A1(DI($e),e,n).getOr(a):i==="function"?A1(le,e,n).getOr(a):l},Yr=function(){var e={},n=function(l,v){e[l]=v},a=function(l){return e[l]?e[l]:{icons:{}}},i=function(l){return Ar(e,l)};return{add:n,get:a,has:i}},Wk=Yr(),MR=function(e,n){var a=n.dom;return a[e]},PR=function(e,n){return parseInt(hr(n,e),10)},To=se(MR,"clientWidth"),$I=se(MR,"clientHeight"),qC=se(PR,"margin-top"),BI=se(PR,"margin-left"),MI=function(e){return e.dom.getBoundingClientRect()},PI=function(e,n,a){var i=To(e),l=$I(e);return n>=0&&a>=0&&n<=i&&a<=l},IR=function(e,n,a,i){var l=MI(n),v=e?l.left+n.dom.clientLeft+BI(n):0,p=e?l.top+n.dom.clientTop+qC(n):0,x=a-v,A=i-p;return{x,y:A}},Dm=function(e,n,a){var i=je.fromDom(e.getBody()),l=e.inline?i:rs(i),v=IR(e.inline,l,n,a);return PI(l,v.x,v.y)},Ll=function(e){return te.from(e).map(je.fromDom)},KC=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return Ll(n).map(Uf).getOr(!1)},E1=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},gv=function(e){var n=[],a=function(){var Q=e.theme;return Q&&Q.getNotificationManagerImpl?Q.getNotificationManagerImpl():E1()},i=function(){return te.from(n[0])},l=function(Q,ce){return Q.type===ce.type&&Q.text===ce.text&&!Q.progressBar&&!Q.timeout&&!ce.progressBar&&!ce.timeout},v=function(){n.length>0&&a().reposition(n)},p=function(Q){n.push(Q)},x=function(Q){pn(n,function(ce){return ce===Q}).each(function(ce){n.splice(ce,1)})},A=function(Q,ce){if(ce===void 0&&(ce=!0),!(e.removed||!KC(e)))return ce&&e.fire("BeforeOpenNotification",{notification:Q}),rn(n,function(ve){return l(a().getArgs(ve),Q)}).getOrThunk(function(){e.editorManager.setActive(e);var ve=a().open(Q,function(){x(ve),v(),i().fold(function(){return e.focus()},function(me){return j0(je.fromDom(me.getEl()))})});return p(ve),v(),e.fire("OpenNotification",{notification:Wn({},ve)}),ve})},N=function(){i().each(function(Q){a().close(Q),x(Q),v()})},X=U(n),Z=function(Q){Q.on("SkinLoaded",function(){var ce=B_(Q);ce&&A({text:ce,type:"warning",timeout:0},!1),v()}),Q.on("show ResizeEditor ResizeWindow NodeChange",function(){ji.requestAnimationFrame(v)}),Q.on("remove",function(){He(n.slice(),function(ce){a().close(ce)})})};return Z(e),{open:A,close:N,getNotifications:X}},cl=zu.PluginManager,_d=zu.ThemeManager;function BT(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var MT=function(e){var n=[],a=function(){var me=e.theme;return me&&me.getWindowManagerImpl?me.getWindowManagerImpl():BT()},i=function(me,he){return function(){for(var Oe=[],xe=0;xe<arguments.length;xe++)Oe[xe]=arguments[xe];return he?he.apply(me,Oe):void 0}},l=function(me){e.fire("OpenWindow",{dialog:me})},v=function(me){e.fire("CloseWindow",{dialog:me})},p=function(me){n.push(me),l(me)},x=function(me){v(me),n=it(n,function(he){return he!==me}),n.length===0&&e.focus()},A=function(){return te.from(n[n.length-1])},N=function(me){e.editorManager.setActive(e),q0(e);var he=me();return p(he),he},X=function(me,he){return N(function(){return a().open(me,he,x)})},Z=function(me){return N(function(){return a().openUrl(me,x)})},Q=function(me,he,Oe){var xe=a();xe.alert(me,i(Oe||xe,he))},ce=function(me,he,Oe){var xe=a();xe.confirm(me,i(Oe||xe,he))},ve=function(){A().each(function(me){a().close(me),x(me)})};return e.on("remove",function(){He(n,function(me){a().close(me)})}),{open:X,openUrl:Z,alert:Q,confirm:ce,close:ve}},PT=function(e,n){e.notificationManager.open({type:"error",text:n})},jk=function(e,n){e._skinLoaded?PT(e,n):e.on("SkinLoaded",function(){PT(e,n)})},NR=function(e,n){jk(e,wu.translate(["Failed to upload image: {0}",n]))},Gk=function(e,n,a){L0(e,n,{message:a}),console.error(a)},IT=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},qk=function(e,n,a){Gk(e,"PluginLoadError",IT("plugin",n,a))},II=function(e,n,a){Gk(e,"IconsLoadError",IT("icons",n,a))},XC=function(e,n,a){Gk(e,"LanguageLoadError",IT("language",n,a))},zR=function(e,n,a){var i=wu.translate(["Failed to initialize plugin: {0}",n]);L0(e,"PluginLoadError",{message:i}),YC(i,a),jk(e,i)},YC=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,Ou([e],n,!1)):i.log.apply(i,Ou([e],n,!1)))},Rm=function(e){return/^[a-z0-9\-]+$/i.test(e)},NT=function(e){return FR(e,O_(e))},NI=function(e){return FR(e,D_(e))},FR=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,l="content"+i+".css",v=e.inline===!0;return et(n,function(p){return Rm(p)&&!v?a+"/"+p+"/"+l:e.documentBaseURI.toAbsolute(p)})},zI=function(e){e.contentCSS=e.contentCSS.concat(NT(e),NI(e))},T1=function(){var e=1,n=2,a={},i=function(Q,ce){return{status:Q,resultUri:ce}},l=function(Q){return Q in a},v=function(Q){var ce=a[Q];return ce?ce.resultUri:null},p=function(Q){return l(Q)?a[Q].status===e:!1},x=function(Q){return l(Q)?a[Q].status===n:!1},A=function(Q){a[Q]=i(e,null)},N=function(Q,ce){a[Q]=i(n,ce)},X=function(Q){delete a[Q]},Z=function(){a={}};return{hasBlobUri:l,getResultUri:v,isPending:p,isUploaded:x,markPending:A,markUploaded:N,removeFailed:X,destroy:Z}},FI=0,LI=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},Ji=function(e){return e+FI+++LI()},HI=function(){var e=[],n=function(Z){var Q={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return Q[Z.toLowerCase()]||"dat"},a=function(Z,Q,ce,ve,me){if($e(Z)){var he=Z;return i({id:he,name:ve,filename:me,blob:Q,base64:ce})}else{if(de(Z))return i(Z);throw new Error("Unknown input type")}},i=function(Z){if(!Z.blob||!Z.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var Q=Z.id||Ji("blobid"),ce=Z.name||Q,ve=Z.blob;return{id:U(Q),name:U(ce),filename:U(Z.filename||ce+"."+n(ve.type)),blob:U(ve),base64:U(Z.base64),blobUri:U(Z.blobUri||URL.createObjectURL(ve)),uri:U(Z.uri)}},l=function(Z){p(Z.id())||e.push(Z)},v=function(Z){return rn(e,Z).getOrUndefined()},p=function(Z){return v(function(Q){return Q.id()===Z})},x=function(Z){return v(function(Q){return Q.blobUri()===Z})},A=function(Z,Q){return v(function(ce){return ce.base64()===Z&&ce.blob().type===Q})},N=function(Z){e=it(e,function(Q){return Q.blobUri()===Z?(URL.revokeObjectURL(Q.blobUri()),!1):!0})},X=function(){He(e,function(Z){URL.revokeObjectURL(Z.blobUri())}),e=[]};return{create:a,add:l,get:p,getByUri:x,getByData:A,findFirst:v,removeByUri:N,destroy:X}},LR=function(e,n){var a={},i=function(ve,me){return ve?ve.replace(/\/$/,"")+"/"+me.replace(/^\//,""):me},l=function(ve,me,he,Oe){var xe=new XMLHttpRequest;xe.open("POST",n.url),xe.withCredentials=n.credentials,xe.upload.onprogress=function(We){Oe(We.loaded/We.total*100)},xe.onerror=function(){he("Image upload failed due to a XHR Transport error. Code: "+xe.status)},xe.onload=function(){if(xe.status<200||xe.status>=300){he("HTTP Error: "+xe.status);return}var We=JSON.parse(xe.responseText);if(!We||typeof We.location!="string"){he("Invalid JSON: "+xe.responseText);return}me(i(n.basePath,We.location))};var qe=new FormData;qe.append("file",ve.blob(),ve.filename()),xe.send(qe)},v=function(){return new si(function(ve){ve([])})},p=function(ve,me){return{url:me,blobInfo:ve,status:!0}},x=function(ve,me,he){return{url:"",blobInfo:ve,status:!1,error:{message:me,options:he}}},A=function(ve,me){yt.each(a[ve],function(he){he(me)}),delete a[ve]},N=function(ve,me,he){return e.markPending(ve.blobUri()),new si(function(Oe){var xe,qe;try{var We=function(){xe&&(xe.close(),qe=ye)},Re=function(St){We(),e.markUploaded(ve.blobUri(),St),A(ve.blobUri(),p(ve,St)),Oe(p(ve,St))},Ze=function(St,Ft){var Vn=Ft||{};We(),e.removeFailed(ve.blobUri()),A(ve.blobUri(),x(ve,St,Vn)),Oe(x(ve,St,Vn))};qe=function(St){St<0||St>100||te.from(xe).orThunk(function(){return te.from(he).map(B)}).each(function(Ft){xe=Ft,Ft.progressBar.value(St)})},me(ve,Re,Ze,qe)}catch(St){Oe(x(ve,St.message,{}))}})},X=function(ve){return ve===l},Z=function(ve){var me=ve.blobUri();return new si(function(he){a[me]=a[me]||[],a[me].push(he)})},Q=function(ve,me){return ve=yt.grep(ve,function(he){return!e.isUploaded(he.blobUri())}),si.all(yt.map(ve,function(he){return e.isPending(he.blobUri())?Z(he):N(he,n.handler,me)}))},ce=function(ve,me){return!n.url&&X(n.handler)?v():Q(ve,me)};return le(n.handler)===!1&&(n.handler=l),{upload:ce}},zT=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},FT=function(e,n){return LR(n,{url:v4(e),basePath:rd(e),credentials:ad(e),handler:d4(e)})},HR=function(e){var n=T1(),a=FT(e,n);return{upload:function(i,l){return l===void 0&&(l=!0),a.upload(i,l?zT(e):void 0)}}},LT=function(e){var n=yu(null);e.on("change AddUndo",function(i){n.set(Wn({},i.level))});var a=function(){var i=e.undoManager.data;Vr(i).filter(function(l){return!Em(n.get(),l)}).each(function(l){e.setDirty(!0),e.fire("change",{level:l,lastLevel:Lr(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},VI=function(e){var n=HI(),a,i,l=T1(),v=[],p=LT(e),x=function(We){return function(Re){return e.selection?We(Re):[]}},A=function(We){return We+(We.indexOf("?")===-1?"?":"&")+new Date().getTime()},N=function(We,Re,Ze){var St=0;do St=We.indexOf(Re,St),St!==-1&&(We=We.substring(0,St)+Ze+We.substr(St+Re.length),St+=Ze.length-Re.length+1);while(St!==-1);return We},X=function(We,Re,Ze){var St='src="'+Ze+'"'+(Ze===Hn.transparentSrc?' data-mce-placeholder="1"':"");return We=N(We,'src="'+Re+'"',St),We=N(We,'data-mce-src="'+Re+'"','data-mce-src="'+Ze+'"'),We},Z=function(We,Re){He(e.undoManager.data,function(Ze){Ze.type==="fragmented"?Ze.fragments=et(Ze.fragments,function(St){return X(St,We,Re)}):Ze.content=X(Ze.content,We,Re)})},Q=function(We,Re){var Ze=e.convertURL(Re,"src");Z(We.src,Re),e.$(We).attr({src:ow(e)?A(Re):Re,"data-mce-src":Ze})},ce=function(We){return a||(a=FT(e,l)),Oe().then(x(function(Re){var Ze=et(Re,function(St){return St.blobInfo});return a.upload(Ze,zT(e)).then(x(function(St){var Ft=[],Vn=et(St,function(mn,$t){var Ln=Re[$t].blobInfo,Vt=Re[$t].image;return mn.status&&f4(e)?(n.removeByUri(Vt.src),Om(e)||Q(Vt,mn.url)):mn.error&&(mn.error.options.remove&&(Z(Vt.getAttribute("src"),Hn.transparentSrc),Ft.push(Vt)),NR(e,mn.error.message)),{element:Vt,status:mn.status,uploadUri:mn.url,blobInfo:Ln}});return Vn.length>0&&p.fireIfChanged(),Ft.length>0&&(Om(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){He(Ft,function(mn){e.dom.remove(mn),n.removeByUri(mn.src)})})),We&&We(Vn),Vn}))}))},ve=function(We){if(Kp(e))return ce(We)},me=function(We){if(Gr(v,function(Ze){return Ze(We)})===!1)return!1;if(We.getAttribute("src").indexOf("data:")===0){var Re=v0(e);return Re(We)}return!0},he=function(We){v.push(We)},Oe=function(){return i||(i=fR(l,n)),i.findAll(e.getBody(),me).then(x(function(We){return We=it(We,function(Re){return typeof Re=="string"?(jk(e,Re),!1):!0}),Om(e)||He(We,function(Re){Z(Re.image.src,Re.blobInfo.blobUri()),Re.image.src=Re.blobInfo.blobUri(),Re.image.removeAttribute("data-mce-src")}),We}))},xe=function(){n.destroy(),l.destroy(),i=a=null},qe=function(We){return We.replace(/src="(blob:[^"]+)"/g,function(Re,Ze){var St=l.getResultUri(Ze);if(St)return'src="'+St+'"';var Ft=n.getByUri(Ze);if(Ft||(Ft=Dt(e.editorManager.get(),function(mn,$t){return mn||$t.editorUpload&&$t.editorUpload.blobCache.getByUri(Ze)},null)),Ft){var Vn=Ft.blob();return'src="data:'+Vn.type+";base64,"+Ft.base64()+'"'}return Re})};return e.on("SetContent",function(){Kp(e)?ve():Oe()}),e.on("RawSaveContent",function(We){We.content=qe(We.content)}),e.on("GetContent",function(We){We.source_view||We.format==="raw"||We.format==="tree"||(We.content=qe(We.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(We){He(We,function(Re){var Ze=Re.attr("src");if(!n.getByUri(Ze)){var St=l.getResultUri(Ze);St&&Re.attr("src",St)}})})}),{blobCache:n,addFilter:he,uploadImages:ce,uploadImagesAuto:ve,scanForImages:Oe,destroy:xe}},UI=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,l){return Kn(a)&&a.hasAttribute("href")},onformat:function(a,i,l){yt.each(l,function(v,p){e.setAttrib(a,p,v)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return yt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},WI=function(e){var n={},a=function(p){return Ye(p)?n[p]:n},i=function(p){return Ar(n,p)},l=function(p,x){p&&($e(p)?(Be(x)||(x=[x]),He(x,function(A){De(A.deep)&&(A.deep=!vs(A)),De(A.split)&&(A.split=!vs(A)||Pi(A)),De(A.remove)&&vs(A)&&!Pi(A)&&(A.remove="none"),vs(A)&&Pi(A)&&(A.mixed=!0,A.block_expand=!0),$e(A.classes)&&(A.classes=A.classes.split(/\s+/))}),n[p]=x):Hr(p,function(A,N){l(N,A)}))},v=function(p){return p&&n[p]&&delete n[p],n};return l(UI(e.dom)),l(h4(e)),{get:a,has:i,register:l,unregister:v}},Kk=yt.each,hs=Ma.DOM,pv=function(e,n){var a,i,l,v=n&&n.schema||Bs({}),p=function(X,Z){Z.classes.length&&hs.addClass(X,Z.classes.join(" ")),hs.setAttribs(X,Z.attrs)},x=function(X){i=typeof X=="string"?{name:X,classes:[],attrs:{}}:X;var Z=hs.create(i.name);return p(Z,i),Z},A=function(X,Z){var Q=typeof X!="string"?X.nodeName.toLowerCase():X,ce=v.getElementRule(Q),ve=ce&&ce.parentsRequired;return ve&&ve.length?Z&&yt.inArray(ve,Z)!==-1?Z:ve[0]:!1},N=function(X,Z,Q){var ce,ve,me=Z.length>0&&Z[0],he=me&&me.name,Oe=A(X,he);if(Oe)he===Oe?(ve=Z[0],Z=Z.slice(1)):ve=Oe;else if(me)ve=Z[0],Z=Z.slice(1);else if(!Q)return X;return ve&&(ce=x(ve),ce.appendChild(X)),Q&&(ce||(ce=hs.create("div"),ce.appendChild(X)),yt.each(Q,function(xe){var qe=x(xe);ce.insertBefore(qe,X)})),N(ce,Z,ve&&ve.siblings)};return e&&e.length?(i=e[0],a=x(i),l=hs.create("div"),l.appendChild(N(a,e.slice(1),i.siblings)),l):""},jI=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=yt.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,l,v,p,x){switch(l){case"#":a.attrs.id=v;break;case".":a.classes.push(v);break;case":":yt.inArray("checked disabled enabled read-only required".split(" "),v)!==-1&&(a.attrs[v]=v);break}if(p==="["){var A=x.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(a.attrs[A[1]]=A[2])}return""})),a.name=n||"div",a},GI=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),yt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=yt.map(n.split(/(?:~\+|~|\+)/),jI),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},qI=function(e,n){var a,i,l="",v,p=qh(e);if(p==="")return"";var x=function(Z){return Z.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var A=Pr(n,"preview");if(zd(A,!1))return"";p=A.getOr(p)}a=n.block||n.inline||"span";var N=GI(n.selector);N.length?(N[0].name||(N[0].name=a),a=n.selector,i=pv(N,e)):i=pv([a],e);var X=hs.select(a,i)[0]||i.firstChild;return Kk(n.styles,function(Z,Q){var ce=x(Z);ce&&hs.setStyle(X,Q,ce)}),Kk(n.attributes,function(Z,Q){var ce=x(Z);ce&&hs.setAttrib(X,Q,ce)}),Kk(n.classes,function(Z){var Q=x(Z);hs.hasClass(X,Q)||hs.addClass(X,Q)}),e.fire("PreviewFormats"),hs.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),v=hs.getStyle(e.getBody(),"fontSize",!0),v=/px$/.test(v)?parseInt(v,10):0,Kk(p.split(" "),function(Z){var Q=hs.getStyle(X,Z,!0);if(!(Z==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Q)&&(Q=hs.getStyle(e.getBody(),Z,!0),hs.toHex(Q).toLowerCase()==="#ffffff"))&&!(Z==="color"&&hs.toHex(Q).toLowerCase()==="#000000")){if(Z==="font-size"&&/em|%$/.test(Q)){if(v===0)return;var ce=parseFloat(Q)/(/%$/.test(Q)?100:1);Q=ce*v+"px"}Z==="border"&&Q&&(l+="padding:0 2px;"),l+=Z+":"+Q+";"}}),e.fire("AfterPreviewFormats"),hs.remove(i),l},KI=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},VR=function(e){var n=WI(e),a=yu(null);return KI(e),nT(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,l,v){FP(e,i,l,v)},remove:function(i,l,v,p){zg(e,i,l,v,p)},toggle:function(i,l,v){yT(e,i,l,v)},match:function(i,l,v,p){return FC(e,i,l,v,p)},closest:function(i){return zP(e,i)},matchAll:function(i,l){return KD(e,i,l)},matchNode:function(i,l,v,p){return XD(e,i,l,v,p)},canApply:function(i){return zk(e,i)},formatChanged:function(i,l,v,p){return YD(e,a,i,l,v,p)},getCssText:se(qI,e)}},Oo=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},UR=function(e,n,a){var i=yu(!1),l=function(A){Tm(n,!1,a),n.add({},A)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(A){var N=A.command;Oo(N)||(Ik(n,a),n.beforeChange())}),e.on("ExecCommand",function(A){var N=A.command;Oo(N)||l(A)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",function(A){var N=A.keyCode;A.isDefaultPrevented()||((N>=33&&N<=36||N>=37&&N<=40||N===45||A.ctrlKey)&&(l(),e.nodeChanged()),(N===46||N===8)&&e.nodeChanged(),i.get()&&n.typing&&Em(ky(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(A){var N=A.keyCode;if(!A.isDefaultPrevented()){if(N>=33&&N<=36||N>=37&&N<=40||N===45){n.typing&&l(A);return}var X=A.ctrlKey&&!A.altKey||A.metaKey;(N<16||N>20)&&N!==224&&N!==91&&!n.typing&&!X&&(n.beforeChange(),Tm(n,!0,a),n.add({},A),i.set(!0))}}),e.on("mousedown",function(A){n.typing&&l(A)});var v=function(A){return A.inputType==="insertReplacementText"},p=function(A){return A.inputType==="insertText"&&A.data===null},x=function(A){return A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop"};e.on("input",function(A){A.inputType&&(v(A)||p(A)||x(A))&&l(A)}),e.on("AddUndo Undo Redo ClearUndos",function(A){A.isDefaultPrevented()||e.nodeChanged()})},WR=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},hf=function(e){var n=ed(),a=yu(0),i=yu(0),l={data:[],typing:!1,beforeChange:function(){BP(e,a,n)},add:function(v,p){return UD(e,l,i,a,n,v,p)},undo:function(){return WD(e,l,a,i)},redo:function(){return jD(e,i,l.data)},clear:function(){GD(e,l,i)},reset:function(){qD(e,l)},hasUndo:function(){return MP(e,l,i)},hasRedo:function(){return PP(e,l,i)},transact:function(v){return IP(e,l,a,v)},ignore:function(v){NP(e,a,v)},extra:function(v,p){bT(e,l,i,v,p)}};return Om(e)||UR(e,l,a),WR(e),l},jR=[9,27,Un.HOME,Un.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Un.DOWN,Un.UP,Un.LEFT,Un.RIGHT].concat(Hn.browser.isFirefox()?[224]:[]),GR="data-mce-placeholder",qR=function(e){return e.type==="keydown"||e.type==="keyup"},Xk=function(e){var n=e.keyCode;return n===Un.BACKSPACE||n===Un.DELETE},XI=function(e){if(qR(e)){var n=e.keyCode;return!Xk(e)&&(Un.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Ae(jR,n))}else return!1},Ty=function(e){return qR(e)&&!(Xk(e)||e.type==="keyup"&&e.keyCode===229)},YI=function(e,n,a){if(Ti(je.fromDom(n),!1)){var i=a==="",l=n.firstElementChild;return l?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(l):a===l.nodeName.toLowerCase():!0}else return!1},KR=function(e){var n=e.dom,a=Bi(e),i=uw(e),l=function(v,p){if(!XI(v)){var x=e.getBody(),A=Ty(v)?!1:YI(n,x,a),N=n.getAttrib(x,GR)!=="";(N!==A||p)&&(n.setAttrib(x,GR,A?i:null),n.setAttrib(x,"aria-placeholder",A?i:null),cx(e,A),e.on(A?"keydown":"keyup",l),e.off(A?"keyup":"keydown",l))}};i&&e.on("init",function(v){l(v,!0),e.on("change SetContent ExecCommand",l),e.on("paste",function(p){return ji.setEditorTimeout(e,function(){return l(p)})})})},XR=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,HT=function(e){return XR.test(e)},Fg=function(e,n){return Zl(je.fromDom(n),iv(e))},VT=function(e){return Ma.DOM.getStyle(e,"direction",!0)==="rtl"||HT(e.textContent)},JI=function(e,n,a){return it(Ma.DOM.getParents(a.container(),"*",n),e)},Lg=function(e,n,a){var i=JI(e,n,a);return te.from(i[i.length-1])},ZI=function(e,n,a){var i=hc(n,e),l=hc(a,e);return i&&i===l},gf=function(e){return Pn(e)||wb(e)},Sc=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?Ta(a)?gn(a.nextSibling)?dt(a.nextSibling,0):dt.after(a):Pn(n)?dt(a,i+1):n:Ta(a)?gn(a.previousSibling)?dt(a.previousSibling,a.previousSibling.data.length):dt.before(a):wb(n)?dt(a,i-1):n},YR=se(Sc,!0),JR=se(Sc,!1),JC=function(e){return function(n){return $a(e,je.fromDom(n.dom.parentNode))}},QI=function(e){return Hc(e)||Gi(e)},ZC=function(e,n){return Hi(e,n)?ph(n,QI,JC(e)):te.none()},ZR=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},UT=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),ZR(e))},eN=function(e,n,a){return eu(ou(a),ol(a),function(i,l){var v=Sc(!0,i),p=Sc(!1,l),x=Sc(!1,n);return e?Ml(a,x).exists(function(A){return A.isEqual(p)&&n.isEqual(v)}):bc(a,x).exists(function(A){return A.isEqual(v)&&n.isEqual(p)})}).getOr(!0)},tN=function(e,n){return{block:e,position:n}},Hg=function(e,n){return{from:e,to:n}},WT=function(e,n){var a=je.fromDom(e),i=je.fromDom(n.container());return ZC(a,i).map(function(l){return tN(l,n)})},nN=function(e){return $a(e.from.block,e.to.block)===!1},rN=function(e){return ro(e.from.block).bind(function(n){return ro(e.to.block).filter(function(a){return $a(n,a)})}).isSome()},aN=function(e){return Fa(e.from.block.dom)===!1&&Fa(e.to.block.dom)===!1},oN=function(e,n,a){return wa(a.position.getNode())&&Ti(a.block)===!1?uv(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?Hu(n,e,i).bind(function(l){return WT(e,l)}):te.some(a)}).getOr(a):a},iN=function(e,n,a){var i=WT(e,dt.fromRangeStart(a)),l=i.bind(function(v){return Hu(n,e,v.position).bind(function(p){return WT(e,p).map(function(x){return oN(e,n,x)})})});return eu(i,l,Hg).filter(function(v){return nN(v)&&rN(v)&&aN(v)})},uN=function(e,n,a){return a.collapsed?iN(e,n,a):te.none()},sN=function(e){var n=Qi(e);return pn(n,Ts).fold(U(n),function(a){return n.slice(0,a)})},QR=function(e){var n=sN(e);return He(n,vo),n},e$=function(e,n){var a=yc(n,e);return rn(a.reverse(),function(i){return Ti(i)}).each(vo)},lN=function(e){return it(qr(e),function(n){return!Ti(n)}).length===0},cN=function(e,n,a,i){if(Ti(a))return ff(a),ou(a.dom);lN(i)&&Ti(n)&&ki(i,je.fromTag("br"));var l=bc(a.dom,dt.before(i.dom));return He(QR(n),function(v){ki(i,v)}),e$(e,n),l},QC=function(e,n,a){if(Ti(a))return vo(a),Ti(n)&&ff(n),ou(n.dom);var i=ol(a.dom);return He(QR(n),function(l){Ho(a,l)}),e$(e,n),i},fN=function(e,n){var a=yc(n,e);return te.from(a[a.length-1])},jT=function(e,n){return Hi(n,e)?fN(n,e):te.none()},t$=function(e,n){uv(e,n.dom).map(function(a){return a.getNode()}).map(je.fromDom).filter(wh).each(vo)},n$=function(e,n,a){return t$(!0,n),t$(!1,a),jT(n,a).fold(se(QC,e,n,a),se(cN,e,n,a))},r$=function(e,n,a,i){return n?n$(e,i,a):n$(e,a,i)},Yk=function(e,n){var a=je.fromDom(e.getBody()),i=uN(a.dom,n,e.selection.getRng()).bind(function(l){return r$(a,n,l.from.block,l.to.block)});return i.each(function(l){e.selection.setRng(l.toRange())}),i.isSome()},O1=function(e,n){var a=n.getRng();return eu(ZC(e,je.fromDom(a.startContainer)),ZC(e,je.fromDom(a.endContainer)),function(i,l){return $a(i,l)===!1?(a.deleteContents(),r$(e,!0,i,l).each(function(v){n.setRng(v.toRange())}),!0):!1}).getOr(!1)},Vg=function(e,n){var a=je.fromDom(n),i=se($a,e);return Iv(a,ic,i).isSome()},Jk=function(e,n){return Vg(e,n.startContainer)||Vg(e,n.endContainer)},Zk=function(e,n){var a=bc(e.dom,dt.fromRangeStart(n)).isNone(),i=Ml(e.dom,dt.fromRangeEnd(n)).isNone();return!Jk(e,n)&&a&&i},D1=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},R1=function(e){var n=je.fromDom(e.getBody()),a=e.selection.getRng();return Zk(n,a)?D1(e):O1(n,e.selection)},$1=function(e,n){return e.selection.isCollapsed()?!1:R1(e)},Qk=xl,a$=Fa,bv=function(e,n,a,i,l){return te.from(n._selectionOverrides.showCaret(e,a,i,l))},GT=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},B1=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?te.none():te.some(GT(n))},qT=function(e,n,a){var i=Yi(1,e.getBody(),n),l=dt.fromRangeStart(i),v=l.getNode();if(Zh(v))return bv(1,e,v,!l.isAtEnd(),!1);var p=l.getNode(!0);if(Zh(p))return bv(1,e,p,!1,!1);var x=e.dom.getParent(l.getNode(),function(A){return a$(A)||Qk(A)});return Zh(x)?bv(1,e,x,!1,a):te.none()},Ug=function(e,n,a){return n.collapsed?qT(e,n,a).getOr(n):n},o$=function(e){return zl(e)||_g(e)},i$=function(e){return wd(e)||xg(e)},u$=function(e,n){gn(n)&&n.data.length===0&&e.remove(n)},eS=function(e,n,a,i,l,v){return bv(i,e,v.getNode(!l),l,!0).each(function(p){if(n.collapsed){var x=n.cloneRange();l?x.setEnd(p.startContainer,p.startOffset):x.setStart(p.endContainer,p.endOffset),x.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),u$(e.dom,a),!0},s$=function(e,n){var a=e.selection.getRng();if(!gn(a.commonAncestorContainer))return!1;var i=n?Mi.Forwards:Mi.Backwards,l=ho(e.getBody()),v=se(yw,n?l.next:l.prev),p=n?o$:i$,x=ag(i,e.getBody(),a),A=Sc(n,v(x));if(!A||!x0(x,A))return!1;if(p(A))return eS(e,a,x.getNode(),i,n,A);var N=v(A);return N&&p(N)&&x0(A,N)?eS(e,a,x.getNode(),i,n,N):!1},tS=function(e,n){return s$(e,n)},l$=function(e){return ic(je.fromDom(e))||Gi(je.fromDom(e))},fl=$n.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),$m=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return Kn(a)&&a.getAttribute("data-mce-caret")===i},c$=function(e,n,a,i){var l=function(v){return tu(je.fromDom(v))&&!gc(a,i,e)};return rg(!n,a).fold(function(){return rg(n,i).fold(at,l)},l)},KT=function(e,n,a,i){var l=i.getNode(n===!1);return ZC(je.fromDom(e),je.fromDom(a.getNode())).map(function(v){return Ti(v)?fl.remove(v.dom):fl.moveToElement(l)}).orThunk(function(){return te.some(fl.moveToElement(l))})},Bm=function(e,n,a){return Hu(n,e,a).bind(function(i){return l$(i.getNode())||c$(e,n,a,i)?te.none():n&&Fa(i.getNode())||n===!1&&Fa(i.getNode(!0))?KT(e,n,a,i):n&&wd(a)||n===!1&&zl(a)?te.some(fl.moveToPosition(i)):te.none()})},pf=function(e,n){return e&&Fa(n.nextSibling)?te.some(fl.moveToElement(n.nextSibling)):e===!1&&Fa(n.previousSibling)?te.some(fl.moveToElement(n.previousSibling)):te.none()},vN=function(e,n,a){return a.fold(function(i){return te.some(fl.remove(i))},function(i){return te.some(fl.moveToElement(i))},function(i){return gc(n,i,e)?te.none():te.some(fl.moveToPosition(i))})},dN=function(e,n,a){return $m(n,a)?pf(n,a.getNode(n===!1)).fold(function(){return Bm(e,n,a)},te.some):Bm(e,n,a).bind(function(i){return vN(e,a,i)})},mN=function(e,n,a){var i=Yi(n?1:-1,e,a),l=dt.fromRangeStart(i),v=je.fromDom(e);return n===!1&&wd(l)?te.some(fl.remove(l.getNode(!0))):n&&zl(l)?te.some(fl.remove(l.getNode())):n===!1&&zl(l)&&Tg(v,l)?TE(v,l).map(function(p){return fl.remove(p.getNode())}):n&&wd(l)&&Eg(v,l)?Yn(v,l).map(function(p){return fl.remove(p.getNode())}):dN(e,n,l)},hN=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),Tn(e,n,je.fromDom(a)),!0}},gN=function(e,n){return function(a){var i=n?dt.before(a):dt.after(a);return e.selection.setRng(i.toRange()),!0}},pN=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},f$=function(e,n){return te.from(bm(e.getBody(),n))},bN=function(e,n){var a=e.selection.getNode();return f$(e,a).filter(Fa).fold(function(){return mN(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(hN(e,n),gN(e,n),pN(e))})},ot)},yN=function(e){He($i(e,".mce-offscreen-selection"),vo)},wN=function(e,n){var a=e.selection.getNode();if(Fa(a)&&!dh(a)){var i=f$(e,a.parentNode).filter(Fa);return i.fold(function(){return yN(je.fromDom(e.getBody())),Tn(e,n,je.fromDom(e.selection.getNode())),UT(e),!0},ot)}return!1},v$=function(e){var n=e.dom,a=e.selection,i=bm(e.getBody(),a.getNode());if(xl(i)&&n.isBlock(i)&&n.isEmpty(i)){var l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(l),a.setRng(dt.before(l).toRange())}return!0},eA=function(e,n){return e.selection.isCollapsed()?bN(e,n):wN(e,n)},XT=function(e,n){var a=dt.fromRangeStart(e.selection.getRng());return Hu(n,e.getBody(),a).filter(function(i){return n?AE(i):bC(i)}).bind(function(i){return te.from(C0(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},Oy=function(e,n){return e.selection.isCollapsed()?XT(e,n):!1},M1=gn,d$=function(e){return M1(e)&&e.data[0]===Ve},m$=function(e){return M1(e)&&e.data[e.data.length-1]===Ve},YT=function(e){return e.ownerDocument.createTextNode(Ve)},h$=function(e){if(M1(e.previousSibling))return m$(e.previousSibling)||e.previousSibling.appendData(Ve),e.previousSibling;if(M1(e))return d$(e)||e.insertData(0,Ve),e;var n=YT(e);return e.parentNode.insertBefore(n,e),n},JT=function(e){if(M1(e.nextSibling))return d$(e.nextSibling)||e.nextSibling.insertData(0,Ve),e.nextSibling;if(M1(e))return m$(e)||e.appendData(Ve),e;var n=YT(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},nS=function(e,n){return e?h$(n):JT(n)},g$=se(nS,!0),ZT=se(nS,!1),p$=function(e,n){return gn(e.container())?nS(n,e.container()):nS(n,e.getNode())},b$=function(e,n){var a=n.get();return a&&e.container()===a&&Ta(a)},bf=function(e,n){return n.fold(function(a){od(e.get());var i=g$(a);return e.set(i),te.some(dt(i,i.length-1))},function(a){return ou(a).map(function(i){if(b$(i,e))return dt(e.get(),1);od(e.get());var l=p$(i,!0);return e.set(l),dt(l,1)})},function(a){return ol(a).map(function(i){if(b$(i,e))return dt(e.get(),e.get().length-1);od(e.get());var l=p$(i,!1);return e.set(l),dt(l,l.length-1)})},function(a){od(e.get());var i=ZT(a);return e.set(i),te.some(dt(i,1))})},_c=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return te.none()},su=$n.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),QT=function(e,n){var a=hc(n,e);return a||e},tA=function(e,n,a){var i=YR(a),l=QT(n,i.container());return Lg(e,l,i).fold(function(){return Ml(l,i).bind(se(Lg,e,l)).map(function(v){return su.before(v)})},te.none)},y$=function(e,n){return dm(e,n)===null},eO=function(e,n,a){return Lg(e,n,a).filter(se(y$,n))},w$=function(e,n,a){var i=JR(a);return eO(e,n,i).bind(function(l){var v=bc(l,i);return v.isNone()?te.some(su.start(l)):te.none()})},C$=function(e,n,a){var i=YR(a);return eO(e,n,i).bind(function(l){var v=Ml(l,i);return v.isNone()?te.some(su.end(l)):te.none()})},S$=function(e,n,a){var i=JR(a),l=QT(n,i.container());return Lg(e,l,i).fold(function(){return bc(l,i).bind(se(Lg,e,l)).map(function(v){return su.after(v)})},te.none)},tO=function(e){return VT(Dy(e))===!1},xc=function(e,n,a){var i=_c([tA,w$,C$,S$],[e,n,a]);return i.filter(tO)},Dy=function(e){return e.fold(_e,_e,_e,_e)},nA=function(e){return e.fold(U("before"),U("start"),U("end"),U("after"))},rA=function(e){return e.fold(su.before,su.before,su.after,su.after)},nO=function(e){return e.fold(su.start,su.start,su.end,su.end)},CN=function(e,n){return nA(e)===nA(n)&&Dy(e)===Dy(n)},SN=function(e,n,a,i,l,v){return eu(Lg(n,a,i),Lg(n,a,l),function(p,x){return p!==x&&ZI(a,p,x)?su.after(e?p:x):v}).getOr(v)},_$=function(e,n){return e.fold(ot,function(a){return!CN(a,n)})},_N=function(e,n,a,i,l){var v=Sc(e,l),p=Hu(e,a,v).map(se(Sc,e)),x=p.fold(function(){return i.map(rA)},function(A){return xc(n,a,A).map(se(SN,e,n,a,v,A)).filter(se(_$,i))});return x.filter(tO)},xN=function(e,n){return e?n.fold(Me(te.some,su.start),te.none,Me(te.some,su.after),te.none):n.fold(te.none,Me(te.some,su.before),te.none,Me(te.some,su.end))},rS=function(e,n,a,i){var l=Sc(e,i),v=xc(n,a,l);return xc(n,a,l).bind(se(xN,e)).orThunk(function(){return _N(e,n,a,v,i)})};se(rS,!1),se(rS,!0);var kN=function(e){return le(e.selection.getSel().modify)},x$=function(e,n,a){var i=e?1:-1;return n.setRng(dt(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},AN=function(e,n){var a=n.selection.getRng(),i=e?dt.fromRangeEnd(a):dt.fromRangeStart(a);return kN(n)?e&&Pn(i)?x$(!0,n.selection,i):!e&&wb(i)?x$(!1,n.selection,i):!1:!1},xd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(xd||(xd={}));var aA=function(e,n){return e===Mi.Backwards?tr(n):n},EN=function(e,n,a){return e===Mi.Forwards?n.next(a):n.prev(a)},TN=function(e,n,a,i){return wa(i.getNode(n===Mi.Forwards))?xd.Br:gc(a,i)===!1?xd.Block:xd.Wrap},aS=function(e,n,a,i){for(var l=ho(a),v=i,p=[];v;){var x=EN(n,l,v);if(!x)break;if(wa(x.getNode(!1)))return n===Mi.Forwards?{positions:aA(n,p).concat([x]),breakType:xd.Br,breakAt:te.some(x)}:{positions:aA(n,p),breakType:xd.Br,breakAt:te.some(x)};if(!x.isVisible()){v=x;continue}if(e(v,x)){var A=TN(a,n,v,x);return{positions:aA(n,p),breakType:A,breakAt:te.some(x)}}p.push(x),v=x}return{positions:aA(n,p),breakType:xd.Eol,breakAt:te.none()}},oS=function(e,n,a,i){return n(a,i).breakAt.map(function(l){var v=n(a,l).positions;return e===Mi.Backwards?v.concat(l):[l].concat(v)}).getOr([])},iS=function(e,n){return Dt(e,function(a,i){return a.fold(function(){return te.some(i)},function(l){return eu(da(l.getClientRects()),da(i.getClientRects()),function(v,p){var x=Math.abs(n-v.left),A=Math.abs(n-p.left);return A<=x?i:l}).or(a)})},te.none())},k$=function(e,n){return da(n.getClientRects()).bind(function(a){return iS(e,a.left)})},uS=se(aS,dt.isAbove,-1),sS=se(aS,dt.isBelow,1),ON=se(oS,-1,uS),A$=se(oS,1,sS),DN=function(e,n){return uS(e,n).breakAt.isNone()},RN=function(e,n){return sS(e,n).breakAt.isNone()},rO=function(e){return ou(e).map(function(n){return[n].concat(sS(e,n).positions)}).getOr([])},$N=function(e){return ol(e).map(function(n){return uS(e,n).positions.concat(n)}).getOr([])},BN=function(e){var n=function(i){return et(i,function(l){var v=td(l);return v.node=e,v})};if(Kn(e))return n(e.getClientRects());if(gn(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},aO=function(e){return sr(e,BN)},P1;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(P1||(P1={}));var MN=function(e,n,a,i){for(;i=ud(i,e,Po,n);)if(a(i))return},E$=function(e,n,a,i,l,v){var p=0,x=[],A=function(Z){var Q=aO([Z]);e===-1&&(Q=Q.reverse());for(var ce=0;ce<Q.length;ce++){var ve=Q[ce];if(!a(ve,N)){if(x.length>0&&n(ve,Ks(x))&&p++,ve.line=p,l(ve))return!0;x.push(ve)}}},N=Ks(v.getClientRects());if(!N)return x;var X=v.getNode();return A(X),MN(e,i,A,X),x},PN=function(e,n){return n.line>e},oA=function(e,n){return n.line===e},iA=se(E$,P1.Up,zh,Fh),IN=se(E$,P1.Down,Fh,zh),NN=function(e,n,a,i){var l=ho(n),v,p,x,A,N=[],X=0,Z=function(me){return Ks(me.getClientRects())};e===1?(v=l.next,p=Fh,x=zh,A=dt.after(i)):(v=l.prev,p=zh,x=Fh,A=dt.before(i));var Q=Z(A);do if(A.isVisible()){var ce=Z(A);if(!x(ce,Q)){N.length>0&&p(ce,Ks(N))&&X++;var ve=td(ce);if(ve.position=A,ve.line=X,a(ve))return N;N.push(ve)}}while(A=v(A));return N},lS=function(e){return function(n){return PN(e,n)}},oO=function(e){return function(n){return oA(e,n)}},zN=Fa,T$=ud,iO=function(e,n){return Math.abs(e.left-n)},uO=function(e,n){return Math.abs(e.right-n)},O$=function(e,n){return e>=n.left&&e<=n.right},FN=function(e,n){return e>=n.top&&e<=n.bottom},LN=function(e){return Gs(e,"node")},uA=function(e,n,a){return a===void 0&&(a=ot),Df(e,function(i,l){if(O$(n,l))return a(l)?l:i;if(O$(n,i))return a(i)?i:l;var v=Math.min(iO(i,n),uO(i,n)),p=Math.min(iO(l,n),uO(l,n));return p===v&&LN(l)&&zN(l.node)||p<v?l:i})},D$=function(e,n,a,i,l){var v=T$(i,e,Po,n,!l);do if(!v||a(v))return;while(v=T$(v,e,Po,n))},HN=function(e,n,a){a===void 0&&(a=!0);var i=[],l=function(v,p){var x=it(aO([p]),function(A){return!v(A,n)});return i=i.concat(x),x.length===0};return i.push(n),D$(P1.Up,e,se(l,zh),n.node,a),D$(P1.Down,e,se(l,Fh),n.node,a),i},VN=function(e){return it(lr(e.getElementsByTagName("*")),cm)},yf=function(e,n){return{node:e.node,before:iO(e,n)<uO(e,n)}},sO=function(e,n,a){var i=aO(VN(e)),l=it(i,se(FN,a)),v=function(A){return!Ao(A.node)&&!Mu(A.node)},p=uA(l,n,v);if(p){var x=v(p);if(p=uA(HN(e,p,x),n,v),p&&cm(p.node))return yf(p,n)}return null},kd=function(e,n){e.selection.setRng(n),s1(e,e.selection.getRng())},sA=function(e,n,a){return te.some(Ug(e,n,a))},R$=function(e,n,a,i,l,v){var p=n===Mi.Forwards,x=ho(e.getBody()),A=se(yw,p?x.next:x.prev),N=p?i:l;if(!a.collapsed){var X=am(a);if(v(X))return bv(n,e,X,n===Mi.Backwards,!1)}var Z=ag(n,e.getBody(),a);if(N(Z))return B1(e,Z.getNode(!p));var Q=Sc(p,A(Z)),ce=Vc(a);if(!Q)return ce?te.some(a):te.none();if(N(Q))return bv(n,e,Q.getNode(!p),p,!1);var ve=A(Q);return ve&&N(ve)&&x0(Q,ve)?bv(n,e,ve.getNode(!p),p,!1):ce?sA(e,Q.toRange(),!1):te.none()},lO=function(e,n,a,i,l,v){var p=ag(n,e.getBody(),a),x=Ks(p.getClientRects()),A=n===P1.Down;if(!x)return te.none();var N=A?IN:iA,X=N(e.getBody(),lS(1),p),Z=it(X,oO(1)),Q=x.left,ce=uA(Z,Q);if(ce&&v(ce.node)){var ve=Math.abs(Q-ce.left),me=Math.abs(Q-ce.right);return bv(n,e,ce.node,ve<me,!1)}var he;if(i(p)?he=p.getNode():l(p)?he=p.getNode(!0):he=am(a),he){var Oe=NN(n,e.getBody(),lS(1),he),xe=uA(it(Oe,oO(1)),Q);if(xe||(xe=Ks(it(Oe,oO(0))),xe))return sA(e,xe.position.toRange(),!1)}return Z.length===0?cO(e,A).filter(A?l:i).map(function(qe){return Ug(e,qe.toRange(),!1)}):te.none()},cO=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var l=dt.fromRangeEnd(a),v=sS(i,l);return Vr(v.positions)}else{var l=dt.fromRangeStart(a),v=uS(i,l);return da(v.positions)}},fO=function(e,n,a){return cO(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},lA=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},$$=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},B$=function(e,n,a){return bf(n,a).map(function(i){return lA(e,i),a})},Ry=function(e,n,a){var i=e.getBody(),l=dt.fromRangeStart(e.selection.getRng()),v=se(Fg,e),p=rS(a,v,i,l);return p.bind(function(x){return B$(e,n,x)})},M$=function(e,n,a){var i=et($i(je.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(p){return p.dom}),l=it(i,e),v=it(a,e);He(ua(l,v),se($$,!1)),He(ua(v,l),se($$,!0))},P$=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=dt.fromRangeStart(e.selection.getRng());dt.isTextPosition(a)&&gf(a)===!1&&(lA(e,H_(n.get(),a)),n.set(null))}},I$=function(e,n,a,i){if(n.selection.isCollapsed()){var l=it(i,e);He(l,function(v){var p=dt.fromRangeStart(n.selection.getRng());xc(e,n.getBody(),p).bind(function(x){return B$(n,a,x)})})}},cA=function(e,n,a){return Xp(e)?Ry(e,n,a).isSome():!1},N$=function(e,n,a){return Xp(n)?AN(e,n):!1},UN=function(e){var n=yu(null),a=se(Fg,e);return e.on("NodeChange",function(i){Xp(e)&&!(Hn.browser.isIE()&&i.initial)&&(M$(a,e.dom,i.parents),P$(e,n),I$(a,e,n,i.parents))}),n},WN=se(N$,!0),jN=se(N$,!1),fA=function(e,n,a){if(Xp(e)){var i=cO(e,n).getOrThunk(function(){var l=e.selection.getRng();return n?dt.fromRangeEnd(l):dt.fromRangeStart(l)});return xc(se(Fg,e),e.getBody(),i).exists(function(l){var v=rA(l);return bf(a,v).exists(function(p){return lA(e,p),!0})})}else return!1},GN=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},yv=function(e){return eu(ou(e),ol(e),function(n,a){var i=Sc(!0,n),l=Sc(!1,a);return Ml(e,i).forall(function(v){return v.isEqual(l)})}).getOr(!0)},z$=function(e,n){return function(a){return bf(n,a).exists(function(i){return lA(e,i),!0})}},F$=function(e,n,a,i){var l=e.getBody(),v=se(Fg,e);e.undoManager.ignore(function(){e.selection.setRng(GN(a,i)),e.execCommand("Delete"),xc(v,l,dt.fromRangeStart(e.selection.getRng())).map(nO).map(z$(e,n))}),e.nodeChanged()},qN=function(e,n){var a=hc(n,e);return a||e},KN=function(e,n,a,i){var l=qN(e.getBody(),i.container()),v=se(Fg,e),p=xc(v,l,i);return p.bind(function(x){return a?x.fold(U(te.some(nO(x))),te.none,U(te.some(rA(x))),te.none):x.fold(te.none,U(te.some(rA(x))),te.none,U(te.some(nO(x))))}).map(z$(e,n)).getOrThunk(function(){var x=pc(a,l,i),A=x.bind(function(N){return xc(v,l,N)});return eu(p,A,function(){return Lg(v,l,i).exists(function(N){return yv(N)?(Tn(e,a,je.fromDom(N)),!0):!1})}).orThunk(function(){return A.bind(function(N){return x.map(function(X){return a?F$(e,n,i,X):F$(e,n,X,i),!0})})}).getOr(!1)})},vA=function(e,n,a){if(e.selection.isCollapsed()&&Xp(e)){var i=dt.fromRangeStart(e.selection.getRng());return KN(e,n,a,i)}return!1},XN=function(e,n){var a=yc(n,e);return pn(a,Ts).fold(U(a),function(i){return a.slice(0,i)})},YN=function(e){return mb(e)===1},Wg=function(e,n,a,i){var l=se(V8,n),v=et(it(i,l),function(x){return x.dom});if(v.length===0)Tn(n,e,a);else{var p=yy(a.dom,v);n.selection.setRng(p.toRange())}},JN=function(e,n){var a=je.fromDom(e.getBody()),i=je.fromDom(e.selection.getStart()),l=it(XN(a,i),YN);return Vr(l).exists(function(v){var p=dt.fromRangeStart(e.selection.getRng());return eN(n,p,v.dom)&&!U8(v)?(Wg(n,e,v,l),!0):!1})},dA=function(e,n){return e.selection.isCollapsed()?JN(e,n):!1},mA=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),Tn(e,n,je.fromDom(a)),!0},vO=function(e,n){var a=n?_g:xg,i=n?Mi.Forwards:Mi.Backwards,l=ag(i,e.getBody(),e.selection.getRng());return a(l)?mA(e,n,l.getNode(!n)):te.from(Sc(n,l)).filter(function(v){return a(v)&&x0(l,v)}).exists(function(v){return mA(e,n,v.getNode(!n))})},ZN=function(e,n){var a=e.selection.getNode();return Mu(a)?mA(e,n,a):!1},hA=function(e,n){return e.selection.isCollapsed()?vO(e,n):ZN(e,n)},QN=function(e){return ph(e,function(n){return xl(n.dom)||Fa(n.dom)}).exists(function(n){return xl(n.dom)})},Mm=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},L$=function(e,n){var a=e||T3(n)?"margin":"padding",i=hr(n,"direction")==="rtl"?"-right":"-left";return a+i},ez=function(e,n,a,i,l,v){var p=L$(a,je.fromDom(v));if(n==="outdent"){var x=Math.max(0,Mm(v.style[p])-i);e.setStyle(v,p,x?x+l:"")}else{var x=Mm(v.style[p])+i+l;e.setStyle(v,p,x)}},tz=function(e,n){return Gr(n,function(a){var i=L$(T_(e),a),l=Ei(a,i).map(Mm).getOr(0),v=e.dom.getContentEditable(a.dom);return v!=="false"&&l>0})},H$=function(e){var n=mO(e);return!e.mode.isReadOnly()&&(n.length>1||tz(e,n))},gA=function(e){return El(e)||Gi(e)},dO=function(e){return ro(e).exists(gA)},mO=function(e){return it(ei(e.selection.getSelectedBlocks()),function(n){return!gA(n)&&!dO(n)&&QN(n)})},hO=function(e,n){var a=e.dom,i=e.selection,l=e.formatter,v=iw(e),p=/[a-z%]+$/i.exec(v)[0],x=parseInt(v,10),A=T_(e),N=Bi(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&N===""&&!a.getParent(i.getNode(),a.isBlock)&&l.apply("div"),He(mO(e),function(X){ez(a,n,A,x,p,X.dom)})},gO=function(e,n){if(e.selection.isCollapsed()&&H$(e)){var a=e.dom,i=e.selection.getRng(),l=dt.fromRangeStart(i),v=a.getParent(i.startContainer,a.isBlock);if(v!==null&&ar(je.fromDom(v),l))return hO(e,"outdent"),!0}return!1},V$=function(e,n){e.getDoc().execCommand(n,!1,null)},cS=function(e,n){if(!gO(e)){if(eA(e,!1))return;if(tS(e,!1))return;if(vA(e,n,!1))return;if(Yk(e,!1))return;if(bk(e))return;if(Oy(e,!1))return;if(hA(e,!1))return;if($1(e))return;if(dA(e,!1))return;V$(e,"Delete"),UT(e)}},nz=function(e,n){if(!eA(e,!0)){if(tS(e,!0))return;if(vA(e,n,!0))return;if(Yk(e,!0))return;if(bk(e))return;if(Oy(e,!0))return;if(hA(e,!0))return;if($1(e))return;if(dA(e,!0))return;V$(e,"ForwardDelete")}},rz=function(e,n){e.addCommand("delete",function(){cS(e,n)}),e.addCommand("forwardDelete",function(){nz(e,n)})},U$=5,$y=400,W$=function(e){return e.touches===void 0||e.touches.length!==1?te.none():te.some(e.touches[0])},Pm=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>U$||i>U$},az=function(e){var n=ed(),a=yu(!1),i=Qo(function(l){e.fire("longpress",Wn(Wn({},l),{type:"longpress"})),a.set(!0)},$y);e.on("touchstart",function(l){W$(l).each(function(v){i.cancel();var p={x:v.clientX,y:v.clientY,target:l.target};i.throttle(l),a.set(!1),n.set(p)})},!0),e.on("touchmove",function(l){i.cancel(),W$(l).each(function(v){n.on(function(p){Pm(v,p)&&(n.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(l){i.cancel(),l.type!=="touchcancel"&&n.get().filter(function(v){return v.target.isEqualNode(l.target)}).each(function(){a.get()?l.preventDefault():e.fire("tap",Wn(Wn({},l),{type:"tap"}))})},!0)},fS=function(e,n){return Ar(e,n.nodeName)},pO=function(e,n){return gn(n)?!0:Kn(n)?!fS(e,n)&&!Vu(n):!1},oz=function(e,n,a){return Je(p1(je.fromDom(a),je.fromDom(n)),function(i){return fS(e,i.dom)})},iz=function(e,n){if(gn(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||fS(e,n.nextSibling)))return!0}return!1},uz=function(e){var n=e.dom,a=e.selection,i=e.schema,l=i.getBlockElements(),v=a.getStart(),p=e.getBody(),x,A,N,X=Bi(e);if(!(!v||!Kn(v)||!X)){var Z=p.nodeName.toLowerCase();if(!(!i.isValidChild(Z,X.toLowerCase())||oz(l,p,v))){var Q=a.getRng(),ce=Q.startContainer,ve=Q.startOffset,me=Q.endContainer,he=Q.endOffset,Oe=sl(e);for(v=p.firstChild;v;)if(pO(l,v)){if(iz(l,v)){A=v,v=v.nextSibling,n.remove(A);continue}x||(x=n.create(X,Wh(e)),v.parentNode.insertBefore(x,v),N=!0),A=v,v=v.nextSibling,x.appendChild(A)}else x=null,v=v.nextSibling;N&&Oe&&(Q.setStart(ce,ve),Q.setEnd(me,he),a.setRng(Q),e.nodeChanged())}}},j$=function(e){Bi(e)&&e.on("NodeChange",se(uz,e))},sz=function(e){return bh(je.fromDom(e.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull()},lz=function(e){e.selection.setRng(e.selection.getRng())},G$=function(e,n){n.hasAttribute("data-mce-caret")&&(f2(n),lz(e),e.selection.scrollIntoView(n))},cz=function(e,n){var a=sz(e);if(a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),G$(e,a);return}Yf(a)&&(G$(e,a),e.undoManager.add())}},q$=function(e){e.on("keyup compositionstart",se(cz,e))},K$=Fa,I1=function(e,n,a){return R$(n,e,a,zl,wd,K$)},fz=function(e,n,a){var i=function(v){return zl(v)||ak(v)},l=function(v){return wd(v)||yC(v)};return lO(n,e,a,i,l,K$)},vS=function(e){var n=e.dom.create(Bi(e));return(!Hn.ie||Hn.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},bO=function(e,n,a){var i=ho(e.getBody()),l=se(yw,n===1?i.next:i.prev);if(a.collapsed&&b4(e)){var v=e.dom.getParent(a.startContainer,"PRE");if(!v)return;var p=l(dt.fromRangeStart(a));if(!p){var x=vS(e);n===1?e.$(v).after(x):e.$(v).before(x),e.selection.select(x,!0),e.selection.collapse()}}},yO=function(e,n){var a=n?Mi.Forwards:Mi.Backwards,i=e.selection.getRng();return I1(a,e,i).orThunk(function(){return bO(e,a,i),te.none()})},wO=function(e,n){var a=n?1:-1,i=e.selection.getRng();return fz(a,e,i).orThunk(function(){return bO(e,a,i),te.none()})},X$=function(e,n){return yO(e,n).exists(function(a){return kd(e,a),!0})},Y$=function(e,n){return wO(e,n).exists(function(a){return kd(e,a),!0})},J$=function(e,n){var a=n?wd:zl;return fO(e,n,a)},CO=function(e){return Ae(["figcaption"],xo(e))},Z$=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},Q$=function(e,n,a){a?Ho(e,n):Qs(e,n)},vz=function(e,n){var a=je.fromTag("br");return Q$(e,a,n),Z$(a)},dz=function(e,n,a,i){var l=je.fromTag(a),v=je.fromTag("br");return J(l,i),Ho(l,v),Q$(e,l,n),Z$(v)},eB=function(e,n,a,i){return n===""?vz(e,i):dz(e,i,n,a)},mz=function(e,n){var a=se($a,n);return ph(je.fromDom(e.container()),Ts,a).filter(CO)},hz=function(e,n,a){return n?RN(e.dom,a):DN(e.dom,a)},gz=function(e,n){var a=je.fromDom(e.getBody()),i=dt.fromRangeStart(e.selection.getRng()),l=Bi(e),v=Wh(e);return mz(i,a).exists(function(){if(hz(a,n,i)){var p=eB(a,l,v,n);return e.selection.setRng(p),!0}else return!1})},tB=function(e,n){return e.selection.isCollapsed()?gz(e,n):!1},pz=function(e){return et(e,function(n){return Wn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:ye},n)})},bz=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},yz=function(e,n){return sr(pz(e),function(a){return bz(a,n)?[a]:[]})},zr=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},N1=function(e,n){return rn(yz(e,n),function(a){return a.action()})},nB=function(e,n){var a=n?Mi.Forwards:Mi.Backwards,i=e.selection.getRng();return R$(e,a,i,_g,xg,Mu).exists(function(l){return kd(e,l),!0})},SO=function(e,n){var a=n?1:-1,i=e.selection.getRng();return lO(e,a,i,_g,xg,Mu).exists(function(l){return kd(e,l),!0})},rB=function(e,n){var a=n?xg:_g;return fO(e,n,a)},wz=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},Cz=function(e,n){return sr(n,function(a){var i=wz(td(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},Sz=function(e,n,a){return Dt(e,function(i,l){return i.fold(function(){return te.some(l)},function(v){var p=Math.sqrt(Math.abs(v.x-n)+Math.abs(v.y-a)),x=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-a));return te.some(x<p?l:v)})},te.none())},aB=function(e,n,a,i,l){var v=$i(je.fromDom(a),"td,th,caption").map(function(x){return x.dom}),p=it(Cz(e,v),function(x){return n(x,l)});return Sz(p,i,l).map(function(x){return x.cell})},_z=function(e){return e.bottom},xz=function(e){return e.top},kz=function(e,n){return e.y<n},Az=function(e,n){return e.y>n},Ez=se(aB,_z,kz),Tz=se(aB,xz,Az),Oz=function(e,n){return da(n.getClientRects()).bind(function(a){return Ez(e,a.left,a.top)}).bind(function(a){return k$($N(a),n)})},Dz=function(e,n){return Vr(n.getClientRects()).bind(function(a){return Tz(e,a.left,a.top)}).bind(function(a){return k$(rO(a),n)})},oB=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},Rz=function(e){return e.breakType===xd.Wrap&&e.positions.length===0},$z=function(e){return e.breakType===xd.Br&&e.positions.length===1},_O=function(e,n,a){var i=e(n,a);return Rz(i)||!wa(a.getNode())&&$z(i)?!oB(e,n,i):i.breakAt.isNone()},iB=se(_O,uS),pA=se(_O,sS),uB=function(e,n,a){var i=dt.fromRangeStart(n);return uv(!e,a).exists(function(l){return l.isEqual(i)})},xO=function(e,n,a,i){var l=e.selection.getRng(),v=n?1:-1;return gw()&&uB(n,l,a)?(bv(v,e,a,!n,!1).each(function(p){kd(e,p)}),!0):!1},kO=function(e,n,a){return Oz(n,a).orThunk(function(){return da(a.getClientRects()).bind(function(i){return iS(ON(e,dt.before(n)),i.left)})}).getOr(dt.before(n))},sB=function(e,n,a){return Dz(n,a).orThunk(function(){return da(a.getClientRects()).bind(function(i){return iS(A$(e,dt.after(n)),i.left)})}).getOr(dt.after(n))},lB=function(e,n){var a=n.getNode(e);return Kn(a)&&a.nodeName==="TABLE"?te.some(a):te.none()},cB=function(e,n,a,i){var l=Bi(n);l?n.undoManager.transact(function(){var v=je.fromTag(l);J(v,Wh(n)),Ho(v,je.fromTag("br")),e?Pv(je.fromDom(a),v):ki(je.fromDom(a),v);var p=n.dom.createRng();p.setStart(v.dom,0),p.setEnd(v.dom,0),kd(n,p)}):kd(n,i.toRange())},z1=function(e,n,a){var i=lB(!!n,a),l=n===!1;i.fold(function(){return kd(e,a.toRange())},function(v){return uv(l,e.getBody()).filter(function(p){return p.isEqual(a)}).fold(function(){return kd(e,a.toRange())},function(p){return cB(n,e,v,a)})})},fB=function(e,n,a,i){var l=e.selection.getRng(),v=dt.fromRangeStart(l),p=e.getBody();if(!n&&iB(i,v)){var x=kO(p,a,v);return z1(e,n,x),!0}else if(n&&pA(i,v)){var x=sB(p,a,v);return z1(e,n,x),!0}else return!1},bA=function(e,n,a){return te.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return te.from(e.dom.getParent(i,"table")).map(function(l){return a(e,n,l,i)})}).getOr(!1)},vB=function(e,n){return bA(e,n,xO)},yA=function(e,n){return bA(e,n,fB)},Bz=function(e,n,a){var i=Rn().os;N1([{keyCode:Un.RIGHT,action:zr(X$,e,!0)},{keyCode:Un.LEFT,action:zr(X$,e,!1)},{keyCode:Un.UP,action:zr(Y$,e,!1)},{keyCode:Un.DOWN,action:zr(Y$,e,!0)},{keyCode:Un.RIGHT,action:zr(vB,e,!0)},{keyCode:Un.LEFT,action:zr(vB,e,!1)},{keyCode:Un.UP,action:zr(yA,e,!1)},{keyCode:Un.DOWN,action:zr(yA,e,!0)},{keyCode:Un.RIGHT,action:zr(nB,e,!0)},{keyCode:Un.LEFT,action:zr(nB,e,!1)},{keyCode:Un.UP,action:zr(SO,e,!1)},{keyCode:Un.DOWN,action:zr(SO,e,!0)},{keyCode:Un.RIGHT,action:zr(cA,e,n,!0)},{keyCode:Un.LEFT,action:zr(cA,e,n,!1)},{keyCode:Un.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:zr(WN,e,n)},{keyCode:Un.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:zr(jN,e,n)},{keyCode:Un.UP,action:zr(tB,e,!1)},{keyCode:Un.DOWN,action:zr(tB,e,!0)}],a).each(function(l){a.preventDefault()})},Mz=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&Bz(e,n,a)})},Pz=function(e,n,a){N1([{keyCode:Un.BACKSPACE,action:zr(gO,e,!1)},{keyCode:Un.BACKSPACE,action:zr(eA,e,!1)},{keyCode:Un.DELETE,action:zr(eA,e,!0)},{keyCode:Un.BACKSPACE,action:zr(tS,e,!1)},{keyCode:Un.DELETE,action:zr(tS,e,!0)},{keyCode:Un.BACKSPACE,action:zr(vA,e,n,!1)},{keyCode:Un.DELETE,action:zr(vA,e,n,!0)},{keyCode:Un.BACKSPACE,action:zr(bk,e,!1)},{keyCode:Un.DELETE,action:zr(bk,e,!0)},{keyCode:Un.BACKSPACE,action:zr(Oy,e,!1)},{keyCode:Un.DELETE,action:zr(Oy,e,!0)},{keyCode:Un.BACKSPACE,action:zr(hA,e,!1)},{keyCode:Un.DELETE,action:zr(hA,e,!0)},{keyCode:Un.BACKSPACE,action:zr($1,e,!1)},{keyCode:Un.DELETE,action:zr($1,e,!0)},{keyCode:Un.BACKSPACE,action:zr(Yk,e,!1)},{keyCode:Un.DELETE,action:zr(Yk,e,!0)},{keyCode:Un.BACKSPACE,action:zr(dA,e,!1)},{keyCode:Un.DELETE,action:zr(dA,e,!0)}],a).each(function(i){a.preventDefault()})},Iz=function(e,n){N1([{keyCode:Un.BACKSPACE,action:zr(v$,e)},{keyCode:Un.DELETE,action:zr(v$,e)}],n)},Nz=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&Pz(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&Iz(e,a)})},zz=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},By=function(e,n){var a,i=n,l=e.dom,v=e.schema.getMoveCaretBeforeOnEnterElements();if(n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var p=zz(n.firstChild);p&&/^(UL|OL|DL)$/.test(p.nodeName)&&n.insertBefore(l.doc.createTextNode(us),n.firstChild)}var x=l.createRng();if(n.normalize(),n.hasChildNodes()){for(var A=new sa(n,n);a=A.current();){if(gn(a)){x.setStart(a,0),x.setEnd(a,0);break}if(v[a.nodeName.toLowerCase()]){x.setStartBefore(a),x.setEndBefore(a);break}i=a,a=A.next()}a||(x.setStart(i,0),x.setEnd(i,0))}else wa(n)?n.nextSibling&&l.isBlock(n.nextSibling)?(x.setStartBefore(n),x.setEndBefore(n)):(x.setStartAfter(n),x.setEndAfter(n)):(x.setStart(n,0),x.setEnd(n,0));e.selection.setRng(x),s1(e,x)}},My=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},AO=function(e){return te.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},EO=function(e){return AO(e).fold(U(""),function(n){return n.nodeName.toUpperCase()})},Fz=function(e){return AO(e).filter(function(n){return Gi(je.fromDom(n))}).isSome()},dB=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},mB=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},TO=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},OO=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},DO=function(e){return OO(e)&&OO(e.parentNode)},dS=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},wA=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!Kn(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},Lz=function(e,n,a,i,l){var v=e.dom,p=e.selection.getRng();if(a!==e.getBody()){DO(a)&&(l="LI");var x=l?n(l):v.create("BR");if(wA(a,i,!0)&&wA(a,i,!1))if(TO(a,"LI")){var A=dS(a);v.insertAfter(x,A),mB(a)?v.remove(A):v.remove(a)}else v.replace(x,a);else if(wA(a,i,!0))TO(a,"LI")?(v.insertAfter(x,dS(a)),x.appendChild(v.doc.createTextNode(" ")),x.appendChild(a)):a.parentNode.insertBefore(x,a),v.remove(i);else if(wA(a,i,!1))v.insertAfter(x,dS(a)),v.remove(i);else{a=dS(a);var N=p.cloneRange();N.setStartAfter(i),N.setEndAfter(a);var X=N.extractContents();l==="LI"&&dB(X,"LI")?(x=X.firstChild,v.insertAfter(X,a)):(v.insertAfter(X,a),v.insertAfter(x,a)),v.remove(i)}By(e,x)}},CA=function(e){He(Nh(je.fromDom(e),Ka),function(n){var a=n.dom;a.nodeValue=uc(a.nodeValue)})},Hz=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},Vz=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},RO=function(e){e.innerHTML='<br data-mce-bogus="1">'},SA=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},hB=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},Uz=function(e,n,a){var i=a,l=[],v;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;Kn(i)&&!n[i.nodeName.toLowerCase()]&&l.push(i)}for(v=l.length;v--;)i=l[v],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||Hz(e,i))&&e.remove(i)}},Vs=function(e,n,a){return gn(n)===!1?a:e?a===1&&n.data.charAt(a-1)===Ve?0:a:a===n.data.length-1&&n.data.charAt(a)===Ve?n.data.length:a},Wz=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,Vs(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,Vs(!1,e.endContainer,e.endOffset)),n},$O=function(e){do gn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},BO=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},MO=function(e,n,a){var i=e.dom;te.from(a.style).map(i.parseStyle).each(function(A){var N=ao(je.fromDom(n)),X=Wn(Wn({},N),A);i.setStyles(n,X)});var l=te.from(a.class).map(function(A){return A.split(/\s+/)}),v=te.from(n.className).map(function(A){return it(A.split(/\s+/),function(N){return N!==""})});eu(l,v,function(A,N){var X=it(N,function(Q){return!Ae(A,Q)}),Z=Ou(Ou([],A,!0),X,!0);i.setAttrib(n,"class",Z.join(" "))});var p=["style","class"],x=lo(a,function(A,N){return!Ae(p,N)});i.setAttribs(n,x)},mS=function(e,n){var a=Bi(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=Wh(e);MO(e,n,i)}},jz=function(e,n,a,i,l){var v,p,x,A,N,X,Z=n||"P",Q=e.dom,ce=BO(Q,i);if(p=Q.getParent(i,Q.isBlock),!p||!hB(Q,p)){if(p=p||ce,p===e.getBody()||Vz(p)?X=p.nodeName.toLowerCase():X=p.parentNode.nodeName.toLowerCase(),!p.hasChildNodes())return v=Q.create(Z),mS(e,v),p.appendChild(v),a.setStart(v,0),a.setEnd(v,0),v;for(A=i;A.parentNode!==p;)A=A.parentNode;for(;A&&!Q.isBlock(A);)x=A,A=A.previousSibling;if(x&&e.schema.isValidChild(X,Z.toLowerCase())){for(v=Q.create(Z),mS(e,v),x.parentNode.insertBefore(v,x),A=x;A&&!Q.isBlock(A);)N=A.nextSibling,v.appendChild(A),A=N;a.setStart(i,l),a.setEnd(i,l)}}return i},gB=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},Gz=function(e,n){var a,i,l,v,p,x,A,N,X,Z,Q=e.dom,ce=e.schema,ve=ce.getNonEmptyElements(),me=e.selection.getRng(),he=function(St){var Ft=i,Vn,mn,$t,Ln=ce.getTextInlineElements();if(St||N==="TABLE"||N==="HR"?Vn=Q.create(St||X):Vn=v.cloneNode(!1),$t=Vn,c4(e)===!1)Q.setAttrib(Vn,"style",null),Q.setAttrib(Vn,"class",null);else do if(Ln[Ft.nodeName]){if(tf(Ft)||Vu(Ft))continue;mn=Ft.cloneNode(!1),Q.setAttrib(mn,"id",""),Vn.hasChildNodes()?(mn.appendChild(Vn.firstChild),Vn.appendChild(mn)):($t=mn,Vn.appendChild(mn))}while((Ft=Ft.parentNode)&&Ft!==Re);return mS(e,Vn),RO($t),Vn},Oe=function(St){var Ft,Vn,mn=Vs(St,i,l);if(gn(i)&&(St?mn>0:mn<i.nodeValue.length))return!1;if(i.parentNode===v&&Z&&!St||St&&Kn(i)&&i===v.firstChild)return!0;if(SA(i,"TABLE")||SA(i,"HR"))return Z&&!St||!Z&&St;var $t=new sa(i,v);for(gn(i)&&(St&&mn===0?$t.prev():!St&&mn===i.nodeValue.length&&$t.next());Ft=$t.current();){if(Kn(Ft)){if(!Ft.getAttribute("data-mce-bogus")&&(Vn=Ft.nodeName.toLowerCase(),ve[Vn]&&Vn!=="br"))return!1}else if(gn(Ft)&&!Tl(Ft.nodeValue))return!1;St?$t.prev():$t.next()}return!0},xe=function(){/^(H[1-6]|PRE|FIGURE)$/.test(N)&&Ze!=="HGROUP"?p=he(X):p=he(),Gp(e)&&hB(Q,A)&&Q.isEmpty(v)?p=Q.split(A,v):Q.insertAfter(p,v),By(e,p)};U0(Q,me).each(function(St){me.setStart(St.startContainer,St.startOffset),me.setEnd(St.endContainer,St.endOffset)}),i=me.startContainer,l=me.startOffset,X=Bi(e);var qe=!!(n&&n.shiftKey),We=!!(n&&n.ctrlKey);Kn(i)&&i.hasChildNodes()&&(Z=l>i.childNodes.length-1,i=i.childNodes[Math.min(l,i.childNodes.length-1)]||i,Z&&gn(i)?l=i.nodeValue.length:l=0);var Re=BO(Q,i);if(Re){(X&&!qe||!X&&qe)&&(i=jz(e,X,me,i,l)),v=Q.getParent(i,Q.isBlock),A=v?Q.getParent(v.parentNode,Q.isBlock):null,N=v?v.nodeName.toUpperCase():"";var Ze=A?A.nodeName.toUpperCase():"";if(Ze==="LI"&&!We&&(v=A,A=A.parentNode,N=Ze),/^(LI|DT|DD)$/.test(N)&&Q.isEmpty(v)){Lz(e,he,A,v,X);return}X&&v===e.getBody()||(X=X||"P",Ca(v)?(p=f2(v),Q.isEmpty(v)&&RO(v),mS(e,p),By(e,p)):Oe()?xe():Oe(!0)?(p=v.parentNode.insertBefore(he(),v),By(e,SA(v,"HR")?p:v)):(a=Wz(me).cloneRange(),a.setEndAfter(v),x=a.extractContents(),CA(x),$O(x),p=x.firstChild,Q.insertAfter(x,v),Uz(Q,ve,p),gB(Q,v),Q.isEmpty(v)&&RO(v),p.normalize(),Q.isEmpty(p)?(Q.remove(p),xe()):(mS(e,p),By(e,p))),Q.setAttrib(p,"id",""),e.fire("NewBlock",{newBlock:p}))}},qz=function(e,n,a){for(var i=new sa(n,a),l,v=e.getNonEmptyElements();l=i.next();)if(v[l.nodeName.toLowerCase()]||l.length>0)return!0},pB=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),s1(e,i)},Kz=function(e,n){var a=e.selection,i=e.dom,l=a.getRng(),v,p;U0(i,l).each(function(ve){l.setStart(ve.startContainer,ve.startOffset),l.setEnd(ve.endContainer,ve.endOffset)});var x=l.startOffset,A=l.startContainer;if(A.nodeType===1&&A.hasChildNodes()){var N=x>A.childNodes.length-1;A=A.childNodes[Math.min(x,A.childNodes.length-1)]||A,N&&A.nodeType===3?x=A.nodeValue.length:x=0}var X=i.getParent(A,i.isBlock),Z=X?i.getParent(X.parentNode,i.isBlock):null,Q=Z?Z.nodeName.toUpperCase():"",ce=!!(n&&n.ctrlKey);Q==="LI"&&!ce&&(X=Z),A&&A.nodeType===3&&x>=A.nodeValue.length&&(qz(e.schema,A,X)||(v=i.create("br"),l.insertNode(v),l.setStartAfter(v),l.setEndAfter(v),p=!0)),v=i.create("br"),o0(i,l,v),pB(e,v,p),e.undoManager.add()},Xz=function(e,n){var a=je.fromTag("br");ki(je.fromDom(n),a),e.undoManager.add()},Yz=function(e,n){Zz(e.getBody(),n)||Pv(je.fromDom(n),je.fromTag("br"));var a=je.fromTag("br");Pv(je.fromDom(n),a),pB(e,a.dom,!1),e.undoManager.add()},Jz=function(e){return wa(e.getNode())},Zz=function(e,n){return Jz(dt.after(n))?!0:Ml(e,dt.after(n)).map(function(a){return wa(a.getNode())}).getOr(!1)},bB=function(e){return e&&e.nodeName==="A"&&"href"in e},Au=function(e){return e.fold(at,bB,bB,at)},Qz=function(e){var n=se(Fg,e),a=dt.fromRangeStart(e.selection.getRng());return xc(n,e.getBody(),a).filter(Au)},eF=function(e,n){n.fold(ye,se(Xz,e),se(Yz,e),ye)},yB=function(e,n){var a=Qz(e);a.isSome()?a.each(se(eF,e)):Kz(e,n)},gs=function(e,n){return AO(e).filter(function(a){return n.length>0&&Zl(je.fromDom(a),n)}).isSome()},tF=function(e){return gs(e,jh(e))},wB=function(e){return gs(e,E_(e))},Hl=$n.generate([{br:[]},{block:[]},{none:[]}]),Py=function(e,n){return wB(e)},PO=function(e){return function(n,a){var i=Bi(n)==="";return i===e}},CB=function(e){return function(n,a){return Fz(n)===e}},_A=function(e,n){return function(a,i){var l=EO(a)===e.toUpperCase();return l===n}},xA=function(e){return _A("pre",e)},nF=function(){return _A("summary",!0)},kA=function(e){return function(n,a){return aw(n)===e}},rF=function(e,n){return tF(e)},hS=function(e,n){return n},SB=function(e){var n=Bi(e),a=My(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},Us=function(e,n){return function(a,i){var l=Dt(e,function(v,p){return v&&p(a,i)},!0);return l?te.some(n):te.none()}},_B=function(e,n){return _c([Us([Py],Hl.none()),Us([nF()],Hl.br()),Us([xA(!0),kA(!1),hS],Hl.br()),Us([xA(!0),kA(!1)],Hl.block()),Us([xA(!0),kA(!0),hS],Hl.block()),Us([xA(!0),kA(!0)],Hl.br()),Us([CB(!0),hS],Hl.br()),Us([CB(!0)],Hl.block()),Us([PO(!0),hS,SB],Hl.block()),Us([PO(!0)],Hl.br()),Us([rF],Hl.br()),Us([PO(!1),hS],Hl.br()),Us([SB],Hl.block())],[e,!!(n&&n.shiftKey)]).getOr(Hl.none())},xB=function(e,n){_B(e,n).fold(function(){yB(e,n)},function(){Gz(e,n)},ye)},aF=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),xP(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),xB(e,n)}))},oF=function(e){e.on("keydown",function(n){n.keyCode===Un.ENTER&&aF(e,n)})},iF=function(e,n,a){N1([{keyCode:Un.END,action:zr(J$,e,!0)},{keyCode:Un.HOME,action:zr(J$,e,!1)},{keyCode:Un.END,action:zr(rB,e,!0)},{keyCode:Un.HOME,action:zr(rB,e,!1)},{keyCode:Un.END,action:zr(fA,e,!0,n)},{keyCode:Un.HOME,action:zr(fA,e,!1,n)}],a).each(function(i){a.preventDefault()})},uF=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&iF(e,n,a)})},IO=Rn().browser,kB=function(e){var n=qb(function(){e.composing||AC(e)},0);IO.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},AB=function(e){kB(e),e.on("input",function(n){n.isComposing===!1&&AC(e)})},EB=Rn(),sF=function(e,n,a){N1([{keyCode:Un.PAGE_UP,action:zr(fA,e,!1,n)},{keyCode:Un.PAGE_DOWN,action:zr(fA,e,!0,n)}],a)},TB=function(e){return e.stopImmediatePropagation()},OB=function(e){return e.keyCode===Un.PAGE_UP||e.keyCode===Un.PAGE_DOWN},DB=function(e,n,a){a&&!e.get()?n.on("NodeChange",TB,!0):!a&&e.get()&&n.off("NodeChange",TB),e.set(a)},lF=function(e,n){if(!EB.os.isOSX()){var a=yu(!1);e.on("keydown",function(i){OB(i)&&DB(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&sF(e,n,i),OB(i)&&a.get()&&(DB(a,e,!1),e.nodeChanged())})}},RB=function(e,n){var a=n.container(),i=n.offset();return gn(a)?(a.insertData(i,e),te.some(dt(a,i+e.length))):_0(n).map(function(l){var v=je.fromText(e);return n.isAtEnd()?Pv(l,v):ki(l,v),dt(v.dom,e.length)})},$B=se(RB,us),cF=se(RB," "),fF=function(e){return function(n){return n.fold(function(a){return bc(e.dom,dt.before(a))},function(a){return ou(a)},function(a){return ol(a)},function(a){return Ml(e.dom,dt.after(a))})}},vF=function(e,n){return function(a){return DE(e,a)?$B(n):cF(n)}},dF=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},BB=function(e){var n=dt.fromRangeStart(e.selection.getRng()),a=je.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=se(Fg,e),l=dt.fromRangeStart(e.selection.getRng());return xc(i,e.getBody(),l).bind(fF(a)).bind(vF(a,n)).exists(dF(e))}else return!1},mF=function(e,n){N1([{keyCode:Un.SPACEBAR,action:zr(BB,e)}],n).each(function(a){n.preventDefault()})},hF=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&mF(e,n)})},gF=function(e){var n=UN(e);return q$(e),Mz(e,n),Nz(e,n),oF(e),hF(e),AB(e),uF(e,n),lF(e,n),n},pF=function(e){return Om(e)?yu(null):gF(e)},MB=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(l){var v=n.selection.getRng(),p={startContainer:v.startContainer,startOffset:v.startOffset,endContainer:v.endContainer,endOffset:v.endOffset};(l.type==="nodechange"||!Kw(p,a))&&n.fire("SelectionChange"),a=p}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var l=n.selection.getStart(!0);!l||!Hn.range&&n.selection.isCollapsed()||fd(n)&&!i.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(l){!l.isDefaultPrevented()&&fd(n)&&(n.selection.getNode().nodeName==="IMG"?ji.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,l,v;this.editor.initialized&&a&&!y4(this.editor)&&!this.editor.mode.isReadOnly()&&(v=this.editor.getBody(),i=a.getStart(!0)||v,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,v))&&(i=v),l=[],this.editor.dom.getParent(i,function(p){if(p===v)return!0;l.push(p)}),n=n||{},n.element=i,n.parents=l,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),AA=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},PB=function(e){e.parser.addNodeFilter("details",function(n){He(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){He(n,function(a){var i=a.attr("data-mce-open");a.attr("open",$e(i)?i:null),a.attr("data-mce-open",null)})})},IB=function(e){AA(e),PB(e)},NB=function(e){return Kn(e)&&Hc(je.fromDom(e))},bF=function(e){var n=e.selection.getRng(),a=dt.fromRangeStart(n),i=dt.fromRangeEnd(n);if(dt.isElementPosition(a)){var l=a.container();NB(l)&&ou(l).each(function(v){return n.setStart(v.container(),v.offset())})}if(dt.isElementPosition(i)){var l=a.container();NB(l)&&ol(l).each(function(p){return n.setEnd(p.container(),p.offset())})}e.selection.setRng(FE(n))},NO=function(e){e.on("click",function(n){n.detail>=3&&bF(e)})},zB=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,l=a.defaultView;return{top:n.top+l.pageYOffset-i.clientTop,left:n.left+l.pageXOffset-i.clientLeft}},yF=function(e){return e.inline?zB(e.getBody()):{left:0,top:0}},wF=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},CF=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:l},wf=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=zB(e.getContentAreaContainer()),i=CF(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},FB=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},LB=function(e,n){return FB(yF(e),wF(e),wf(e,n))},EA=Fa,SF=xl,_F=function(e,n){return EA(n)&&n!==e},xF=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!EA(n)},kF=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},AF=function(e,n,a,i){var l=e.dom,v=n.cloneNode(!0);l.setStyles(v,{width:a,height:i}),l.setAttrib(v,"data-mce-selected",null);var p=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),l.setStyles(v,{margin:0,boxSizing:"border-box"}),p.appendChild(v),p},EF=function(e,n){e.parentNode!==n&&n.appendChild(e)},zO=function(e,n,a,i,l,v){var p=0,x=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>l&&(p=n.pageX+a-l),n.pageY+i>v&&(x=n.pageY+i-v),e.style.width=a-p+"px",e.style.height=i-x+"px"},HB=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},TF=function(e){return e.button===0},VB=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},OF=function(e,n){return function(a){if(TF(a)){var i=rn(n.dom.getParents(a.target),e4(EA,SF)).getOr(null);if(_F(n.getBody(),i)){var l=n.dom.getPos(i),v=n.getBody(),p=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?v.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?v.scrollHeight:p.offsetHeight)-2,relX:a.pageX-l.x,relY:a.pageY-l.y,width:i.offsetWidth,height:i.offsetHeight,ghost:AF(n,i,i.offsetWidth,i.offsetHeight)})}}}},DF=function(e,n){var a=ji.throttle(function(i,l){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,l)},0);return n.on("remove",a.stop),function(i){return e.on(function(l){var v=Math.max(Math.abs(i.screenX-l.screenX),Math.abs(i.screenY-l.screenY));if(!l.dragging&&v>10){var p=n.fire("dragstart",{target:l.element});if(p.isDefaultPrevented())return;l.dragging=!0,n.focus()}if(l.dragging){var x=VB(l,LB(n,i));EF(l.ghost,n.getBody()),zO(l.ghost,x,l.width,l.height,l.maxX,l.maxY),a(i.clientX,i.clientY)}})}},RF=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},$F=function(e,n){return function(a){e.on(function(i){if(i.dragging){if(xF(n,RF(n.selection),i.element)){var l=kF(i.element),v=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});v.isDefaultPrevented()||n.undoManager.transact(function(){HB(i.element),n.insertContent(n.dom.getOuterHTML(l)),n._selectionOverrides.hideFakeCaret()})}n.fire("dragend")}}),UB(e)}},BF=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),UB(e)}},UB=function(e){e.on(function(n){HB(n.ghost)}),e.clear()},FO=function(e){var n=ed(),a=Ma.DOM,i=document,l=OF(n,e),v=DF(n,e),p=$F(n,e),x=BF(n,e);e.on("mousedown",l),e.on("mousemove",v),e.on("mouseup",p),a.bind(i,"mousemove",v),a.bind(i,"mouseup",x),e.on("remove",function(){a.unbind(i,"mousemove",v),a.unbind(i,"mouseup",x)}),e.on("keydown",function(A){A.keyCode===Un.ESC&&x()})},MF=function(e){e.on("drop",function(n){var a=typeof n.clientX<"u"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(EA(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},WB=function(e){var n=function(l){if(!l.isDefaultPrevented()){var v=l.dataTransfer;v&&(Ae(v.types,"Files")||v.files.length>0)&&(l.preventDefault(),l.type==="drop"&&jk(e,"Dropped file type is not supported"))}},a=function(l){Y0(e,l.target)&&n(l)},i=function(){var l=Ma.DOM,v=e.dom,p=document,x=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];He(A,function(N){l.bind(p,N,a),v.bind(x,N,n)}),e.on("remove",function(){He(A,function(N){l.unbind(p,N,a),v.unbind(x,N,n)})})};e.on("init",function(){ji.setEditorTimeout(e,i,0)})},PF=function(e){FO(e),MF(e),Kh(e)&&WB(e)},IF=function(e){var n=qb(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=Ug(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},NF=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(Mu(a)){var i=bm(e.getBody(),a),l=Fa(i)?i:a;e.selection.getNode()!==l&&B1(e,l).each(function(v){return e.selection.setRng(v)})}})})},jB=xl,So=Fa,TA=function(e,n){return bm(e.getBody(),n)},zF=function(e){var n=e.selection,a=e.dom,i=a.isBlock,l=e.getBody(),v=au(e,l,i,function(){return sl(e)}),p="sel-"+a.uniqueId(),x="data-mce-selected",A,N=function($t){return a.hasClass($t,"mce-offscreen-selection")},X=function($t){return $t!==l&&(So($t)||Mu($t))&&a.isChildOf($t,l)},Z=function($t){return zl($t)||wd($t)||_g($t)||xg($t)},Q=function(){var $t=a.get(p);return $t&&$t.getElementsByTagName("*")[0]},ce=function($t){$t&&n.setRng($t)},ve=n.getRng,me=function($t,Ln,Vt,vn){vn===void 0&&(vn=!0);var jt=e.fire("ShowCaret",{target:Ln,direction:$t,before:Vt});return jt.isDefaultPrevented()?null:(vn&&n.scrollIntoView(Ln,$t===-1),v.show(Vt,Ln))},he=function($t){$t.hasAttribute("data-mce-caret")&&(f2($t),ce(ve()),n.scrollIntoView($t))},Oe=function(){e.on("mouseup",function(jt){var Zt=ve();Zt.collapsed&&Dm(e,jt.clientX,jt.clientY)&&qT(e,Zt,!1).each(ce)}),e.on("click",function(jt){var Zt=TA(e,jt.target);Zt&&(So(Zt)&&(jt.preventDefault(),e.focus()),jB(Zt)&&a.isChildOf(Zt,n.getNode())&&Ft())}),e.on("blur NewBlock",Ft),e.on("ResizeWindow FullscreenStateChanged",v.reposition);var $t=function(jt){var Zt=jt.firstChild;if(ke(Zt))return!1;var yn=dt.before(Zt);if(wa(yn.getNode())&&jt.childNodes.length===1)return!Z(yn);var Pt=ho(jt),hn=Pt.next(yn);return hn&&!Z(hn)},Ln=function(jt,Zt){var yn=a.getParent(jt,i),Pt=a.getParent(Zt,i);return yn===Pt},Vt=function(jt,Zt){var yn=a.getParent(jt,i),Pt=a.getParent(Zt,i);return ke(yn)?!1:jt!==Pt&&a.isChildOf(yn,Pt)&&So(TA(e,yn))===!1?!0:!a.isChildOf(Pt,yn)&&!Ln(yn,Pt)&&$t(yn)};e.on("tap",function(jt){var Zt=jt.target,yn=TA(e,Zt);So(yn)?(jt.preventDefault(),B1(e,yn).each(St)):X(Zt)&&B1(e,Zt).each(St)},!0),e.on("mousedown",function(jt){var Zt=jt.target;if(!(Zt!==l&&Zt.nodeName!=="HTML"&&!a.isChildOf(Zt,l))&&Dm(e,jt.clientX,jt.clientY)!==!1){var yn=TA(e,Zt);if(yn)So(yn)?(jt.preventDefault(),B1(e,yn).each(St)):(Ft(),!(jB(yn)&&jt.shiftKey)&&!ym(jt.clientX,jt.clientY,n.getRng())&&(mn(),n.placeCaretAt(jt.clientX,jt.clientY)));else if(X(Zt))B1(e,Zt).each(St);else if(cm(Zt)===!1){Ft(),mn();var Pt=sO(l,jt.clientX,jt.clientY);if(Pt&&!Vt(Zt,Pt.node)){jt.preventDefault();var hn=me(1,Pt.node,Pt.before,!1);ce(hn),e.getBody().focus()}}}}),e.on("keypress",function(jt){Un.modifierPressed(jt)||So(n.getNode())&&jt.preventDefault()}),e.on("GetSelectionRange",function(jt){var Zt=jt.range;if(A){if(!A.parentNode){A=null;return}Zt=Zt.cloneRange(),Zt.selectNode(A),jt.range=Zt}}),e.on("SetSelectionRange",function(jt){jt.range=We(jt.range);var Zt=St(jt.range,jt.forward);Zt&&(jt.range=Zt)});var vn=function(jt){return jt.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(jt){var Zt=jt.range,yn=Zt.startContainer.parentNode;!qe(Zt)&&!vn(yn)&&mn(),N(yn)||Ft()}),e.on("copy",function(jt){var Zt=jt.clipboardData;if(!jt.isDefaultPrevented()&&jt.clipboardData&&!Hn.ie){var yn=Q();yn&&(jt.preventDefault(),Zt.clearData(),Zt.setData("text/html",yn.outerHTML),Zt.setData("text/plain",yn.outerText||yn.innerText))}}),PF(e),IF(e),NF(e)},xe=function($t){return Nu($t)||xp($t)||kp($t)},qe=function($t){return xe($t.startContainer)||xe($t.endContainer)},We=function($t){var Ln=e.schema.getShortEndedElements(),Vt=a.createRng(),vn=$t.startContainer,jt=$t.startOffset,Zt=$t.endContainer,yn=$t.endOffset;return Ar(Ln,vn.nodeName.toLowerCase())?jt===0?Vt.setStartBefore(vn):Vt.setStartAfter(vn):Vt.setStart(vn,jt),Ar(Ln,Zt.nodeName.toLowerCase())?yn===0?Vt.setEndBefore(Zt):Vt.setEndAfter(Zt):Vt.setEnd(Zt,yn),Vt},Re=function($t,Ln,Vt){var vn=e.$,jt=bh(je.fromDom(e.getBody()),"#"+p).fold(function(){return vn([])},function(Pt){return vn([Pt.dom])});jt.length===0&&(jt=vn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",p),jt.appendTo(e.getBody()));var Zt=a.createRng();Ln===Vt&&Hn.ie?(jt.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(Ln),Zt.setStartAfter(jt[0].firstChild.firstChild),Zt.setEndAfter(Ln)):(jt.empty().append(us).append(Ln).append(us),Zt.setStart(jt[0].firstChild,1),Zt.setEnd(jt[0].lastChild,0)),jt.css({top:a.getPos($t,e.getBody()).y}),jt[0].focus();var yn=n.getSel();return yn.removeAllRanges(),yn.addRange(Zt),Zt},Ze=function($t){var Ln=$t.cloneNode(!0),Vt=e.fire("ObjectSelected",{target:$t,targetClone:Ln});if(Vt.isDefaultPrevented())return null;var vn=Re($t,Vt.targetClone,Ln),jt=je.fromDom($t);return He($i(je.fromDom(e.getBody()),"*[data-mce-selected]"),function(Zt){$a(jt,Zt)||bt(Zt,x)}),a.getAttrib($t,x)||$t.setAttribute(x,"1"),A=$t,mn(),vn},St=function($t,Ln){if(!$t)return null;if($t.collapsed){if(!qe($t)){var Vt=Ln?1:-1,vn=ag(Vt,l,$t),jt=vn.getNode(!Ln);if(cm(jt))return me(Vt,jt,Ln?!vn.isAtEnd():!1,!1);var Zt=vn.getNode(Ln);if(cm(Zt))return me(Vt,Zt,Ln?!1:!vn.isAtEnd(),!1)}return null}var yn=$t.startContainer,Pt=$t.startOffset,hn=$t.endOffset;if(yn.nodeType===3&&Pt===0&&So(yn.parentNode)&&(yn=yn.parentNode,Pt=a.nodeIndex(yn),yn=yn.parentNode),yn.nodeType!==1)return null;if(hn===Pt+1&&yn===$t.endContainer){var xr=yn.childNodes[Pt];if(X(xr))return Ze(xr)}return null},Ft=function(){A&&A.removeAttribute(x),bh(je.fromDom(e.getBody()),"#"+p).each(vo),A=null},Vn=function(){v.destroy(),A=null},mn=function(){v.hide()};return Hn.ceFalse&&!Om(e)&&Oe(),{showCaret:me,showBlockCaretContainer:he,hideFakeCaret:mn,destroy:Vn}},FF=function(e){var n=yt.each,a=Un.BACKSPACE,i=Un.DELETE,l=e.dom,v=e.selection,p=e.parser,x=Hn.gecko,A=Hn.ie,N=Hn.webkit,X="data:text/mce-internal,",Z=A?"Text":"URL",Q=function(It,qt){try{e.getDoc().execCommand(It,!1,qt)}catch{}},ce=function(It){return It.isDefaultPrevented()},ve=function(It){var qt,Dn;It.dataTransfer&&(e.selection.isCollapsed()&&It.target.tagName==="IMG"&&v.select(It.target),qt=e.selection.getContent(),qt.length>0&&(Dn=X+escape(e.id)+","+escape(qt),It.dataTransfer.setData(Z,Dn)))},me=function(It){var qt;return It.dataTransfer&&(qt=It.dataTransfer.getData(Z),qt&&qt.indexOf(X)>=0)?(qt=qt.substr(X.length).split(","),{id:unescape(qt[0]),html:unescape(qt[1])}):null},he=function(It,qt){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:It,internal:qt}):e.execCommand("mceInsertContent",!1,It)},Oe=function(){var It=function(Dn){var nt=l.create("body"),Ht=Dn.cloneContents();return nt.appendChild(Ht),v.serializer.serialize(nt,{format:"html"})},qt=function(Dn){var nt=It(Dn),Ht=l.createRng();Ht.selectNode(e.getBody());var Nt=It(Ht);return nt===Nt};e.on("keydown",function(Dn){var nt=Dn.keyCode,Ht,Nt;if(!ce(Dn)&&(nt===i||nt===a)){if(Ht=e.selection.isCollapsed(),Nt=e.getBody(),Ht&&!l.isEmpty(Nt)||!Ht&&!qt(e.selection.getRng()))return;Dn.preventDefault(),e.setContent(""),Nt.firstChild&&l.isBlock(Nt.firstChild)?e.selection.setCursorLocation(Nt.firstChild,0):e.selection.setCursorLocation(Nt,0),e.nodeChanged()}})},xe=function(){e.shortcuts.add("meta+a",null,"SelectAll")},qe=function(){e.inline||l.bind(e.getDoc(),"mousedown mouseup",function(It){var qt;if(It.target===e.getDoc().documentElement)if(qt=v.getRng(),e.getBody().focus(),It.type==="mousedown"){if(Nu(qt.startContainer))return;v.placeCaretAt(It.clientX,It.clientY)}else v.setRng(qt)})},We=function(){e.on("keydown",function(It){if(!ce(It)&&It.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(v.isCollapsed()&&v.getRng().startOffset===0){var qt=v.getNode(),Dn=qt.previousSibling;if(qt.nodeName==="HR"){l.remove(qt),It.preventDefault();return}Dn&&Dn.nodeName&&Dn.nodeName.toLowerCase()==="hr"&&(l.remove(Dn),It.preventDefault())}}})},Re=function(){Range.prototype.getClientRects||e.on("mousedown",function(It){if(!ce(It)&&It.target.nodeName==="HTML"){var qt=e.getBody();qt.blur(),ji.setEditorTimeout(e,function(){qt.focus()})}})},Ze=function(){e.on("click",function(It){var qt=It.target;/^(IMG|HR)$/.test(qt.nodeName)&&l.getContentEditableParent(qt)!=="false"&&(It.preventDefault(),e.selection.select(qt),e.nodeChanged()),qt.nodeName==="A"&&l.hasClass(qt,"mce-item-anchor")&&(It.preventDefault(),v.select(qt))})},St=function(){var It=function(){var Dn=l.getAttribs(v.getStart().cloneNode(!1));return function(){var nt=v.getStart();nt!==e.getBody()&&(l.setAttrib(nt,"style",null),n(Dn,function(Ht){nt.setAttributeNode(Ht.cloneNode(!0))}))}},qt=function(){return!v.isCollapsed()&&l.getParent(v.getStart(),l.isBlock)!==l.getParent(v.getEnd(),l.isBlock)};e.on("keypress",function(Dn){var nt;if(!ce(Dn)&&(Dn.keyCode===8||Dn.keyCode===46)&&qt())return nt=It(),e.getDoc().execCommand("delete",!1,null),nt(),Dn.preventDefault(),!1}),l.bind(e.getDoc(),"cut",function(Dn){var nt;!ce(Dn)&&qt()&&(nt=It(),ji.setEditorTimeout(e,function(){nt()}))})},Ft=function(){e.on("keydown",function(It){if(!ce(It)&&It.keyCode===a&&v.isCollapsed()&&v.getRng().startOffset===0){var qt=v.getNode().previousSibling;if(qt&&qt.nodeName&&qt.nodeName.toLowerCase()==="table")return It.preventDefault(),!1}})},Vn=function(){e.on("keydown",function(It){var qt,Dn;if(!(ce(It)||It.keyCode!==Un.BACKSPACE)){qt=v.getRng();var nt=qt.startContainer,Ht=qt.startOffset,Nt=l.getRoot();if(Dn=nt,!(!qt.collapsed||Ht!==0)){for(;Dn&&Dn.parentNode&&Dn.parentNode.firstChild===Dn&&Dn.parentNode!==Nt;)Dn=Dn.parentNode;Dn.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,Dn),qt=l.createRng(),qt.setStart(nt,0),qt.setEnd(nt,0),v.setRng(qt))}}})},mn=function(){var It=function(){Q("StyleWithCSS",!1),Q("enableInlineTableEditing",!1),R_(e)||Q("enableObjectResizing",!1)};w4(e)||e.on("BeforeExecCommand mousedown",It)},$t=function(){var It=function(){n(l.select("a"),function(qt){var Dn=qt.parentNode,nt=l.getRoot();if(Dn.lastChild===qt){for(;Dn&&!l.isBlock(Dn);){if(Dn.parentNode.lastChild!==Dn||Dn===nt)return;Dn=Dn.parentNode}l.add(Dn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(qt){(qt.type==="setcontent"||qt.command==="mceInsertLink")&&It()})},Ln=function(){Bi(e)&&e.on("init",function(){Q("DefaultParagraphSeparator",Bi(e))})},Vt=function(){e.on("keyup focusin mouseup",function(It){Un.modifierPressed(It)||v.normalize()},!0)},vn=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},jt=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},Zt=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(It){var qt;if(It.target.nodeName==="HTML"){if(Hn.ie>11){e.getBody().focus();return}qt=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(qt),e.selection.normalize(),e.nodeChanged()}}))},yn=function(){Hn.mac&&e.on("keydown",function(It){if(Un.metaKeyPressed(It)&&!It.shiftKey&&(It.keyCode===37||It.keyCode===39)){It.preventDefault();var qt=e.selection.getSel();qt.modify("move",It.keyCode===37?"backward":"forward","lineboundary")}})},Pt=function(){Q("AutoUrlDetect",!1)},hn=function(){e.on("click",function(It){var qt=It.target;do if(qt.tagName==="A"){It.preventDefault();return}while(qt=qt.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},xr=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(It){It.preventDefault()})})},na=function(){p.addNodeFilter("br",function(It){for(var qt=It.length;qt--;)It[qt].attr("class")==="Apple-interchange-newline"&&It[qt].remove()})},Jr=function(){e.on("dragstart",function(It){ve(It)}),e.on("drop",function(It){if(!ce(It)){var qt=me(It);if(qt&&qt.id!==e.id){It.preventDefault();var Dn=qw(It.x,It.y,e.getDoc());v.setRng(Dn),he(qt.html,!0)}}})},zi=ye,uo=function(){if(!x||e.removed)return!1;var It=e.selection.getSel();return!It||!It.rangeCount||It.rangeCount===0},ju=function(){N&&(qe(),Ze(),xr(),xe(),Hn.iOS&&(jt(),Zt(),hn())),x&&(Re(),mn(),vn(),yn())},ps=function(){Vn(),Oe(),Hn.windowsPhone||Vt(),N&&(qe(),Ze(),Ln(),xr(),Ft(),na(),Hn.iOS?(jt(),Zt(),hn()):xe()),Hn.ie>=11&&(Zt(),Ft()),Hn.ie&&(xe(),Pt(),Jr()),x&&(We(),Re(),St(),mn(),$t(),vn(),yn(),Ft())};return Om(e)?ju():ps(),{refreshContentEditable:zi,isHidden:uo}},OA=Ma.DOM,LO=function(e,n){var a=je.fromDom(e.getBody()),i=fo(vu(a)),l=je.fromTag("style");M(l,"type","text/css"),Ho(l,je.fromText(n)),Ho(i,l),e.on("remove",function(){vo(l)})},LF=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},DA=function(e){return lo(e,function(n){return De(n)===!1})},GB=function(e){var n=e.settings;return DA({block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements,padd_empty_block_inline_children:n.format_empty_lines})},qB=function(e){var n=e.settings,a=e.editorUpload.blobCache;return DA({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:LF(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})},HF=function(e){var n=e.settings;return Wn(Wn(Wn({},qB(e)),GB(e)),DA({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before}))},VF=function(e){var n=Hk(qB(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var l=a.length,v,p,x=e.dom,A="data-mce-"+i;l--;)if(v=a[l],p=v.attr(i),p&&!v.attr(A)){if(p.indexOf("data:")===0||p.indexOf("blob:")===0)continue;i==="style"?(p=x.serializeStyle(x.parseStyle(p),v.name),p.length||(p=null),v.attr(A,p),v.attr(i,p)):i==="tabindex"?(v.attr(A,p),v.attr(i,null)):v.attr(A,e.convertURL(p,i,v.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var l=a[i],v=l.attr("type")||"no/type";v.indexOf("mce-")!==0&&l.attr("type","mce-"+v)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var l=a[i];l.type=8,l.name="#comment",l.value="[CDATA["+e.dom.encode(l.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,l=e.schema.getNonEmptyElements();i--;){var v=a[i];v.isEmpty(l)&&v.getAll("br").length===0&&(v.append(new ll("br",1)).shortEnded=!0)}}),n},UF=function(e){e.settings.auto_focus&&ji.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},WF=function(e){var n=e.dom.getRoot();!e.inline&&(!fd(e)||e.selection.getStart(!0)===n)&&ou(n).each(function(a){var i=a.getNode(),l=Ao(i)?ou(i).getOr(a):a;Hn.browser.isIE()?dE(e,l.toRange()):e.selection.setRng(l.toRange())})},jF=function(e){e.bindPendingEventDelegates(),e.initialized=!0,lx(e),e.focus(!0),WF(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),UF(e)},KB=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},GF=function(e,n,a){var i=[new si(function(l,v){return KB(e).loadAll(n,l,v)})];return e.inline?i:i.concat([new si(function(l,v){return e.ui.styleSheetLoader.loadAll(a,l,v)})])},XB=function(e){var n=KB(e),a=D_(e),i=e.contentCSS,l=function(){n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},v=function(){e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){var p="";yt.each(e.contentStyles,function(A){p+=A+`\r
`}),e.dom.addStyle(p)}var x=si.all(GF(e,i,a)).then(v).catch(v);return e.settings.content_style&&LO(e,e.settings.content_style),x},qF=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();sf(e),!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,OA.setAttrib(i,"spellcheck","false")),e.quirks=FF(e),sx(e);var l=mc(e);l!==void 0&&(i.dir=l),n.protect&&e.on("BeforeSetContent",function(v){yt.each(n.protect,function(p){v.content=v.content.replace(p,function(x){return"<!--mce:protected "+escape(x)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(v){e.composing=v.type==="compositionstart"})},KF=function(e){Om(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},HO=function(e){e.removed!==!0&&(KF(e),jF(e))},RA=function(e,n){var a=e.settings,i=e.getElement(),l=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(l.open(),l.write(e.iframeHTML),l.close()),e.inline&&(OA.addClass(i,"mce-content-body"),e.contentDocument=l=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var v=e.getBody();v.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&OA.getStyle(v,"position",!0)==="static"&&(v.style.position="relative"),v.contentEditable=e.getParam("content_editable_state",!0)),v.disabled=!1,e.editorUpload=VI(e),e.schema=Bs(GB(e)),e.dom=Ma(l,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:m0(e),referrerPolicy:h0(e),onSetAttrib:function(A){e.fire("SetAttrib",A)}}),e.parser=VF(e),e.serializer=CR(HF(e),e),e.selection=iR(e.dom,e.getWin(),e.serializer,e),e.annotator=F0(e),e.formatter=VR(e),e.undoManager=hf(e),e._nodeChangeDispatcher=new MB(e),e._selectionOverrides=zF(e),az(e),IB(e),Om(e)||NO(e);var p=pF(e);rz(e,p),j$(e),KR(e);var x=$P(e);qF(e),x.fold(function(){XB(e).then(function(){return HO(e)})},function(A){e.setProgressState(!0),XB(e).then(function(){A().then(function(N){e.setProgressState(!1),HO(e)},function(N){e.notificationManager.open({type:"error",text:String(N)}),HO(e)})})})},gS=Ma.DOM,XF=function(e,n){if(document.domain!==window.location.hostname&&Hn.browser.isIE()){var a=Ji("mce");e[a]=function(){RA(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return gS.setAttrib(n,"src",i),!0}return!1},YF=function(e,n,a,i){var l=je.fromTag("iframe");return J(l,i),J(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),nm(l,"tox-edit-area__iframe"),l},JF=function(e){var n=A_(e)+"<html><head>";rw(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=s4(e),i=l4(e),l=e.translate(z_(e));return f0(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+f0(e)+'" />'),n+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+l+'">')+"<br></body></html>",n},YB=function(e,n){var a=e.translate("Rich Text Area"),i=YF(e.id,a,n.height,u4(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var l=XF(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=JF(e),gS.add(n.iframeContainer,i),l},ZF=function(e,n){var a=YB(e,n);n.editorContainer&&(gS.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=gS.isHidden(n.editorContainer)),e.getElement().style.display="none",gS.setAttrib(e.id,"aria-hidden","true"),a||RA(e)},VO=Ma.DOM,UO=function(e,n,a){var i=cl.get(a),l=cl.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=yt.trim(a),i&&yt.inArray(n,a)===-1){if(yt.each(cl.dependencies(a),function(p){UO(e,n,p)}),e.plugins[a])return;try{var v=new i(e,l,e.$);e.plugins[a]=v,v.init&&(v.init(e,l),n.push(a))}catch(p){zR(e,a,p)}}},WO=function(e){return e.replace(/^\-/,"")},QF=function(e){var n=[];yt.each(y0(e).split(/[ ,]/),function(a){UO(e,n,WO(a))})},eL=function(e){var n=yt.trim(Qc(e)),a=e.ui.registry.getAll().icons,i=Wn(Wn({},Wk.get("default").icons),Wk.get(n).icons);Hr(i,function(l,v){Ar(a,v)||e.ui.registry.addIcon(v,l)})},tL=function(e){var n=Gh(e);if($e(n)){e.settings.theme=WO(n);var a=_d.get(n);e.theme=new a(e,_d.urls[n]),e.theme.init&&e.theme.init(e,_d.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},JB=function(e){return e.theme.renderUI()},nL=function(e){var n=e.getElement(),a=Gh(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},ZB=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},QB=function(e){var n=VO.create("div");return VO.insertAfter(n,e),ZB(n)},rL=function(e){var n=e.getElement();return e.inline?ZB(null):QB(n)},aL=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,$e(Gh(e))?JB(e):le(Gh(e))?nL(e):rL(e)},eM=function(e,n){var a={show:te.from(n.show).getOr(ye),hide:te.from(n.hide).getOr(ye),disable:te.from(n.disable).getOr(ye),isDisabled:te.from(n.isDisabled).getOr(at),enable:function(){e.mode.isReadOnly()||te.from(n.enable).map(_t)}};e.ui=Wn(Wn({},e.ui),a)},tM=function(e){e.fire("ScriptsLoaded"),eL(e),tL(e),QF(e);var n=aL(e);eM(e,te.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,zI(e),e.inline?RA(e):ZF(e,a)},F1=Ma.DOM,nM=function(e){return e.charAt(0)==="-"},rM=function(e,n){var a=g0(n),i=ci(n);if(wu.hasCode(a)===!1&&a!=="en"){var l=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(l,ye,void 0,function(){XC(n,l,a)})}},aM=function(e,n,a,i){var l=Gh(n);if($e(l)){if(!nM(l)&&!Ar(_d.urls,l)){var v=M_(n);v?_d.load(l,n.documentBaseURI.toAbsolute(v)):_d.load(l,"themes/"+l+"/theme"+a+".js")}e.loadQueue(function(){_d.waitFor(l,i)})}else i()},oL=function(e){return te.from(d0(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:te.none()}})},oM=function(e,n,a){return te.from(n).filter(function(i){return i.length>0&&!Wk.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:te.some(i)}})},iL=function(e,n,a){var i=oM(n,"default",a),l=oL(n).orThunk(function(){return oM(n,Qc(n),"")});He(mr([i,l]),function(v){e.add(v.url,ye,void 0,function(){II(n,v.url,v.name.getOrUndefined())})})},uL=function(e,n){yt.each(S4(e),function(a,i){cl.load(i,a,ye,void 0,function(){qk(e,a,i)}),e.settings.plugins+=" "+i}),yt.each(y0(e).split(/[ ,]/),function(a){if(a=yt.trim(a),a&&!cl.urls[a])if(nM(a)){a=a.substr(1,a.length);var i=cl.dependencies(a);yt.each(i,function(v){var p={prefix:"plugins/",resource:v,suffix:"/plugin"+n+".js"},x=cl.createUrl(p,v);cl.load(x.resource,x,ye,void 0,function(){qk(e,x.prefix+x.resource+x.suffix,x.resource)})})}else{var l={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};cl.load(a,l,ye,void 0,function(){qk(e,l.prefix+l.resource+l.suffix,a)})}})},sL=function(e,n){var a=nv.ScriptLoader;aM(a,e,n,function(){rM(a,e),iL(a,e,n),uL(e,n),a.loadQueue(function(){e.removed||tM(e)},e,function(){e.removed||tM(e)})})},lL=function(e,n){return Al.forElement(e,{contentCssCors:C4(n),referrerPolicy:h0(n)})},cL=function(e){var n=e.id;wu.setCode(g0(e));var a=function(){F1.unbind(window,"ready",a),e.render()};if(!Th.Event.domLoaded){F1.bind(window,"ready",a);return}if(e.getElement()&&Hn.contentEditable){var i=je.fromDom(e.getElement()),l=xn(i);e.on("remove",function(){pt(i.dom.attributes,function(p){return bt(i,p.name)}),J(i,l)}),e.ui.styleSheetLoader=lL(i,e),g4(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var v=e.getElement().form||F1.getParent(n,"form");v&&(e.formElement=v,P_(e)&&!Ai(e.getElement())&&(F1.insertAfter(F1.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(p){e.fire(p.type,p)},F1.bind(v,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),I_(e)&&!v.submit.nodeType&&!v.submit.length&&!v._mceOldSubmit&&(v._mceOldSubmit=v.submit,v.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),v._mceOldSubmit(v)})),e.windowManager=MT(e),e.notificationManager=gv(e),lw(e)&&e.on("GetContent",function(p){p.save&&(p.content=F1.encode(p.content))}),p4(e)&&e.on("submit",function(){e.initialized&&e.save()}),b0(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),sL(e,e.suffix)}},fL=function(e,n){return eR(e,n)},vL={"font-size":"size","font-family":"face"},dL=function(e,n,a){var i=function(v){return Ei(v,e).orThunk(function(){return xo(v)==="font"?Pr(vL,e).bind(function(p){return Ce(v,p)}):te.none()})},l=function(v){return $a(je.fromDom(n),v)};return GE(je.fromDom(a),function(v){return i(v)},l)},$A=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},iM=function(e,n){return te.from(Ma.DOM.getStyle(n,e,!0))},jO=function(e){return function(n,a){return te.from(a).map(je.fromDom).filter(za).bind(function(i){return dL(e,n,i.dom).or(iM(e,i.dom))}).getOr("")}},mL=jO("font-size"),uM=Me($A,jO("font-family")),sM=function(e){return ou(e.getBody()).map(function(n){var a=n.container();return gn(a)?a.parentNode:a})},hL=function(e){return te.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?te.none():te.from(e.selection.getStart(!0))})},gL=function(e,n){return hL(e).orThunk(se(sM,e)).map(je.fromDom).filter(za).bind(n)},GO=function(e,n){return gL(e,ne(te.some,n))},BA=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=qp(e),l=sm(e);return l?l[a-1]||n:i[a-1]||n}else return n}else return n},pL=function(e){var n=e.split(/\s*,\s*/);return et(n,function(a){return a.indexOf(" ")!==-1&&!(po(a,'"')||po(a,"'"))?"'"+a+"'":a}).join(",")},qO=function(e,n){var a=BA(e,n);e.formatter.toggle("fontname",{value:pL(a)}),e.nodeChanged()},bL=function(e){return GO(e,function(n){return uM(e.getBody(),n.dom)}).getOr("")},yL=function(e,n){e.formatter.toggle("fontsize",{value:BA(e,n)}),e.nodeChanged()},wL=function(e){return GO(e,function(n){return mL(e.getBody(),n.dom)}).getOr("")},lM=function(e){return GO(e,function(n){var a=je.fromDom(e.getBody()),i=GE(n,function(v){return Ei(v,"line-height")},se($a,a)),l=function(){var v=parseFloat(hr(n,"line-height")),p=parseFloat(hr(n,"font-size"));return String(v/p)};return i.getOrThunk(l)}).getOr("")},CL=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},SL=function(e){if(typeof e!="string"){var n=yt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},_L=function(e,n){var a=SL(n);ZD(e,a.content,a.details)},MA=yt.each,xL=yt.map,Ws=yt.inArray,jg=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,l){var v,p=!1,x=this;if(!x.editor.removed){if(n.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!l||!l.skip_focus)?x.editor.focus():oC(x.editor)),l=x.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),l.isDefaultPrevented())return!1;var A=n.toLowerCase();if(v=x.commands.exec[A])return v(A,a,i),x.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(MA(this.editor.plugins,function(N){if(N.execCommand&&N.execCommand(n,a,i))return x.editor.fire("ExecCommand",{command:n,ui:a,value:i}),p=!0,!1}),p)return p;if(x.editor.theme&&x.editor.theme.execCommand&&x.editor.theme.execCommand(n,a,i))return x.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{p=x.editor.getDoc().execCommand(n,a,i)}catch{}return p?(x.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch{}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch{}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;MA(n,function(l,v){MA(v.toLowerCase().split(","),function(p){i.commands[a][p]=l})})},e.prototype.addCommand=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.exec[n]=function(v,p,x,A){return a.call(i||l.editor,p,x,A)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch{}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||l.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||l.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":ye,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(l,v,p){Z0(n,p)},"Cut,Copy,Paste":function(l){var v=n.getDoc(),p;try{a.execNativeCommand(l)}catch{p=!0}if(l==="paste"&&!v.queryCommandEnabled(l)&&(p=!0),p||!v.queryCommandSupported(l)){var x=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Hn.mac&&(x=x.replace(/Ctrl\+/g,"+")),n.notificationManager.open({text:x,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var l=n.dom.getParent(n.selection.getStart(),"a");l&&n.dom.remove(l,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(l){var v=l.substring(7);v==="full"&&(v="justify"),MA("left,center,right,justify".split(","),function(p){v!==p&&n.formatter.remove("align"+p)}),v!=="none"&&a.toggleFormat("align"+v)},"InsertUnorderedList,InsertOrderedList":function(l){var v;a.execNativeCommand(l);var p=n.dom.getParent(n.selection.getNode(),"ol,ul");p&&(v=p.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(v.nodeName)&&(a.storeSelection(),n.dom.split(v,p),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){a.toggleFormat(l)},"ForeColor,HiliteColor":function(l,v,p){a.toggleFormat(l,{value:p})},FontName:function(l,v,p){qO(n,p)},FontSize:function(l,v,p){yL(n,p)},LineHeight:function(l,v,p){CL(n,p)},Lang:function(l,v,p){a.toggleFormat(l,{value:p.code,customValue:p.customCode})},RemoveFormat:function(l){n.formatter.remove(l)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(l,v,p){return a.toggleFormat(p||"p")},mceCleanup:function(){var l=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(l)},mceRemoveNode:function(l,v,p){var x=p||n.selection.getNode();x!==n.getBody()&&(a.storeSelection(),n.dom.remove(x,!0),a.restoreSelection())},mceSelectNodeDepth:function(l,v,p){var x=0;n.dom.getParent(n.selection.getNode(),function(A){if(A.nodeType===1&&x++===p)return n.selection.select(A),!1},n.getBody())},mceSelectNode:function(l,v,p){n.selection.select(p)},mceInsertContent:function(l,v,p){_L(n,p)},mceInsertRawHTML:function(l,v,p){n.selection.setContent("tiny_mce_marker");var x=n.getContent();n.setContent(x.replace(/tiny_mce_marker/g,function(){return p}))},mceInsertNewLine:function(l,v,p){xB(n,p)},mceToggleFormat:function(l,v,p){a.toggleFormat(p)},mceSetContent:function(l,v,p){n.setContent(p)},"Indent,Outdent":function(l){hO(n,l)},mceRepaint:ye,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(l,v,p){n.execCommand("mceInsertContent",!1,p.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(l,v,p){typeof p=="string"&&(p={href:p});var x=n.dom.getParent(n.selection.getNode(),"a");p.href=p.href.replace(/ /g,"%20"),(!x||!p.href)&&n.formatter.remove("link"),p.href&&n.formatter.apply("link",p,x)},selectAll:function(){var l=n.dom.getParent(n.selection.getStart(),xl);if(l){var v=n.dom.createRng();v.selectNodeContents(l),n.selection.setRng(v)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(l,v,p){return yB(n,p),!0}});var i=function(l){return function(){var v=n.selection,p=v.isCollapsed()?[n.dom.getParent(v.getNode(),n.dom.isBlock)]:v.getSelectedBlocks(),x=xL(p,function(A){return!!n.formatter.matchNode(A,l)});return Ws(x,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){return a.isFormatMatch(l)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return H$(n)},"InsertUnorderedList,InsertOrderedList":function(l){var v=n.dom.getParent(n.selection.getNode(),"ul,ol");return v&&(l==="insertunorderedlist"&&v.tagName==="UL"||l==="insertorderedlist"&&v.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return bL(n)},this),a.addQueryValueHandler("FontSize",function(){return wL(n)},this),a.addQueryValueHandler("LineHeight",function(){return lM(n)},this)},e}(),L1="data-mce-contenteditable",kL=function(e,n,a){H2(e,n)&&a===!1?L2(e,n):a&&nm(e,n)},KO=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch{}},PA=function(e,n){e.dom.contentEditable=n?"true":"false"},AL=function(e){He($i(e,'*[contenteditable="true"]'),function(n){M(n,L1,"true"),PA(n,!1)})},EL=function(e){He($i(e,"*["+L1+'="true"]'),function(n){bt(n,L1),PA(n,!0)})},cM=function(e){te.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},Iy=function(e){e.selection.setRng(e.selection.getRng())},TL=function(e,n){var a=je.fromDom(e.getBody());kL(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),cM(e),e.readonly=!0,PA(a,!1),AL(a)):(e.readonly=!1,PA(a,!0),EL(a),KO(e,"StyleWithCSS",!1),KO(e,"enableInlineTableEditing",!1),KO(e,"enableObjectResizing",!1),Lx(e)&&e.focus(),Iy(e),e.nodeChanged())},H1=function(e){return e.readonly},fM=function(e){e.parser.addAttributeFilter("contenteditable",function(n){H1(e)&&He(n,function(a){a.attr(L1,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(L1,function(n){H1(e)&&He(n,function(a){a.attr("contenteditable",a.attr(L1))})}),e.serializer.addTempAttr(L1)},wv=function(e){e.serializer?fM(e):e.on("PreInit",function(){fM(e)})},OL=function(e){return e.type==="click"},DL=function(e,n){var a=function(i){return $a(i,je.fromDom(e.getBody()))};return yo(n,"a",a).bind(function(i){return Ce(i,"href")})},vM=function(e,n){if(OL(n)&&!Un.metaKeyPressed(n)){var a=je.fromDom(n.target);DL(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var l=e.dom.select(i+',[name="'+ah(i,"#")+'"]');l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},RL=function(e){e.on("ShowCaret",function(n){H1(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){H1(e)&&n.preventDefault()})},dM=yt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),IA=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||at}return e.isNative=function(n){return!!dM[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),l=Rt(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);var v=this.bindings[i];if(v)for(var p=0,x=v.length;p<x;p++){var A=v[p];if(!A.removed){if(A.once&&this.off(i,A.func),l.isImmediatePropagationStopped())return l;if(A.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l},e.prototype.on=function(n,a,i,l){if(a===!1&&(a=at),a){var v={func:a,removed:!1};l&&yt.extend(v,l);for(var p=n.toLowerCase().split(" "),x=p.length;x--;){var A=p[x],N=this.bindings[A];N||(N=[],this.toggleEvent(A,!0)),i?N=Ou([v],N,!0):N=Ou(Ou([],N,!0),[v],!1),this.bindings[A]=N}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var l=n.toLowerCase().split(" "),v=l.length;v--;){var p=l[v],x=this.bindings[p];if(!p)return Hr(this.bindings,function(N,X){i.toggleEvent(X,!1),delete i.bindings[X]}),this;if(x){if(!a)x.length=0;else{var A=Yt(x,function(N){return N.func===a});x=A.fail,this.bindings[p]=x,He(A.pass,function(N){N.removed=!0})}x.length||(this.toggleEvent(n,!1),delete this.bindings[p])}}else Hr(this.bindings,function(N,X){i.toggleEvent(X,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),V1=function(e){return e._eventDispatcher||(e._eventDispatcher=new IA({scope:e,toggleEvent:function(n,a){IA.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},NA={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var l=V1(i).fire(e,n);if(a!==!1&&i.parent)for(var v=i.parent();v&&!l.isPropagationStopped();)v.fire(e,l,!1),v=v.parent();return l},on:function(e,n,a){return V1(this).on(e,n,a)},off:function(e,n){return V1(this).off(e,n)},once:function(e,n){return V1(this).once(e,n)},hasEventListeners:function(e){return V1(this).has(e)}},zA=Ma.DOM,U1,FA=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=p0(e);return a?(e.eventRoot||(e.eventRoot=zA.select(a)[0]),e.eventRoot):e.getBody()},$L=function(e){return!e.hidden&&!H1(e)},XO=function(e,n,a){$L(e)?e.fire(n,a):H1(e)&&vM(e,a)},YO=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=FA(e,n);if(p0(e)){if(U1||(U1={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||U1&&(Hr(U1,function(l,v){e.dom.unbind(FA(e,v))}),U1=null)})),U1[n])return;a=function(l){for(var v=l.target,p=e.editorManager.get(),x=p.length;x--;){var A=p[x].getBody();(A===v||zA.isChildOf(v,A))&&XO(p[x],n,l)}},U1[n]=a,zA.bind(i,n,a)}else a=function(l){XO(e,n,l)},zA.bind(i,n,a),e.delegates[n]=a}},mM=Wn(Wn({},NA),{bindPendingEventDelegates:function(){var e=this;yt.each(e._pendingNativeEvents,function(n){YO(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||a.removed||(n?a.initialized?YO(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(FA(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(Hr(e.delegates,function(i,l){e.dom.unbind(FA(e,l),l,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),hM=["design","readonly"],gM=function(e,n,a,i){var l=a[n.get()],v=a[i];try{v.activate()}catch(p){console.error("problem while activating editor mode "+i+":",p);return}l.deactivate(),l.editorReadOnly!==v.editorReadOnly&&TL(e,v.editorReadOnly),n.set(i),Vw(e,i)},BL=function(e,n,a,i){if(i!==a.get()){if(!Ar(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?gM(e,a,n,i):e.on("init",function(){return gM(e,a,n,i)})}},ML=function(e,n,a){var i;if(Ae(hM,n))throw new Error("Cannot override default mode "+n);return Wn(Wn({},e),(i={},i[n]=Wn(Wn({},a),{deactivate:function(){try{a.deactivate()}catch(l){console.error("problem while deactivating editor mode "+n+":",l)}}}),i))},PL=function(e){var n=yu("design"),a=yu({design:{activate:ye,deactivate:ye,editorReadOnly:!1},readonly:{activate:ye,deactivate:ye,editorReadOnly:!0}});return wv(e),RL(e),{isReadOnly:function(){return H1(e)},set:function(i){return BL(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,l){a.set(ML(a.get(),i,l))}}},LA=yt.each,pS=yt.explode,pM={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},bM=yt.makeMap("alt,ctrl,shift,meta,access"),IL=function(e){var n,a={};LA(pS(e.toLowerCase(),"+"),function(l){l in bM?a[l]=!0:/^[0-9]{2,}$/.test(l)?a.keyCode=parseInt(l,10):(a.charCode=l.charCodeAt(0),a.keyCode=pM[l]||l.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in bM)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,Hn.mac?a.ctrl=!0:a.shift=!0),a.meta&&(Hn.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},HA=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(LA(a.shortcuts,function(l){if(a.matchShortcut(i,l))return a.pendingPatterns=l.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(l),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,l){var v=this,p=v.normalizeCommandFunc(i);return LA(pS(yt.trim(n)),function(x){var A=v.createShortcut(x,a,p,l);v.shortcuts[A.id]=A}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:yt.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,l){var v=yt.map(pS(n,">"),IL);return v[v.length-1]=yt.extend(v[v.length-1],{func:i,scope:l||this.editor}),yt.extend(v[0],{desc:this.editor.translate(a),subpatterns:v.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),yM=function(){var e={},n={},a={},i={},l={},v={},p={},x=function(N,X){return function(Z,Q){return N[Z.toLowerCase()]=Wn(Wn({},Q),{type:X})}},A=function(N,X){return i[N.toLowerCase()]=X};return{addButton:x(e,"button"),addGroupToolbarButton:x(e,"grouptoolbarbutton"),addToggleButton:x(e,"togglebutton"),addMenuButton:x(e,"menubutton"),addSplitButton:x(e,"splitbutton"),addMenuItem:x(n,"menuitem"),addNestedMenuItem:x(n,"nestedmenuitem"),addToggleMenuItem:x(n,"togglemenuitem"),addAutocompleter:x(a,"autocompleter"),addContextMenu:x(l,"contextmenu"),addContextToolbar:x(v,"contexttoolbar"),addContextForm:x(v,"contextform"),addSidebar:x(p,"sidebar"),addIcon:A,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:l,contextToolbars:v,sidebars:p}}}},NL=function(){var e=yM();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},W1=Ma.DOM,wM=yt.extend,zL=yt.each,CM=yt.resolve,FL=Hn.ie,VA=function(){function e(n,a,i){var l=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,wM(this,mM),this.settings=BR(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(nv.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ma.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),zu.languageLoad=this.settings.language_load,zu.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new pd(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new HA(this),this.editorCommands=new jg(this),this.settings.cache_suffix&&(Hn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:NL(),styleSheetLoader:void 0,show:ye,hide:ye,enable:ye,disable:ye,isDisabled:at};var v=this,p=PL(v);this.mode=p,this.setMode=p.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=fr.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}return e.prototype.render=function(){cL(this)},e.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},e.prototype.hasFocus=function(){return sl(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var l=this,v=l.settings[n],p;if(v)return l.callbackLookup&&(p=l.callbackLookup[n])&&(v=p.func,p=p.scope),typeof v=="string"&&(p=v.replace(/\.\w+$/,""),p=p?CM(p):0,v=CM(v),l.callbackLookup=l.callbackLookup||{},l.callbackLookup[n]={func:v,scope:p}),v.apply(p||l,a)},e.prototype.translate=function(n){return wu.translate(n)},e.prototype.getParam=function(n,a,i){return RI(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=Ae(y0(this).split(/[ ,]/),n);return i?a?cl.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,l){this.shortcuts.add(n,a,i,l)},e.prototype.execCommand=function(n,a,i,l){return this.editorCommands.execCommand(n,a,i,l)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(W1.show(n.getContainer()),W1.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(FL&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(W1.hide(n.getContainer()),W1.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),l;if(a.removed)return"";if(i){n=n||{},n.load=!0;var v=Ai(i)?i.value:i.innerHTML;return l=a.setContent(v,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,l}},e.prototype.save=function(n){var a=this,i=a.getElement(),l,v;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,l=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),l=n.content,Ai(i)?i.value=l:((n.is_removing||!a.inline)&&(i.innerHTML=l),(v=W1.getParent(a.id,"form"))&&zL(v.elements,function(p){if(p.name===a.id)return p.value=l,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),l},e.prototype.setContent=function(n,a){return DT(this,n,a)},e.prototype.getContent=function(n){return lI(this,n)},e.prototype.insertContent=function(n,a){a&&(n=wM({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?DT(this,this.startContent,{format:"raw"}):DT(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=W1.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=W1.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var l=this,v=l.settings;return v.urlconverter_callback?l.execCallback("urlconverter_callback",n,i,!0,a):!v.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:v.relative_urls?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,v.remove_script_host),n)},e.prototype.addVisual=function(n){fL(this,n)},e.prototype.remove=function(){vI(this)},e.prototype.destroy=function(n){_R(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Cf=Ma.DOM,LL=yt.explode,Do=yt.each,JO=yt.extend,Ad=0,ZO=!1,bS,Gg=[],Wu=[],QO=function(e){return e!=="length"},e5=function(e){var n=e.type;Do(qg.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},t5=function(e){e!==ZO&&(e?fr(window).on("resize scroll",e5):fr(window).off("resize scroll",e5),ZO=e)},SM=function(e){var n=Wu;delete Gg[e.id];for(var a=0;a<Gg.length;a++)if(Gg[a]===e){Gg.splice(a,1);break}return Wu=it(Wu,function(i){return e!==i}),qg.activeEditor===e&&(qg.activeEditor=Wu.length>0?Wu[0]:null),qg.focusedEditor===e&&(qg.focusedEditor=null),n.length!==Wu.length},HL=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(SM(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},VL=document.compatMode!=="CSS1Compat",qg=Wn(Wn({},NA),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:fr,majorVersion:"5",minorVersion:"10.7",releaseDate:"2022-12-06",editors:Gg,i18n:wu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=pd.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,i=l.suffix;else{for(var v=document.getElementsByTagName("script"),p=0;p<v.length;p++){var x=v[p].src||"";if(x!==""){var A=x.substring(x.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(x)){A.indexOf(".min")!==-1&&(i=".min"),n=x.substring(0,x.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var x=document.currentScript.src;x.indexOf(".min")!==-1&&(i=".min"),n=x.substring(0,x.lastIndexOf("/"))}}e.baseURL=new pd(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new pd(e.baseURL),e.suffix=i,Mx(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&Hr(i,function(l,v){zu.PluginManager.urls[v]=l})},init:function(e){var n=this,a,i=yt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=function(Z,Q){return Z.inline&&Q.tagName.toLowerCase()in i},v=function(Z){var Q=Z.id;return Q||(Q=Pr(Z,"name").filter(function(ce){return!Cf.get(ce)}).getOrThunk(Cf.uniqueId),Z.setAttribute("id",Q)),Q},p=function(Z){var Q=e[Z];if(Q)return Q.apply(n,[])},x=function(Z,Q){return Q.constructor===RegExp?Q.test(Z.className):Cf.hasClass(Z,Q)},A=function(Z){var Q=[];if(Hn.browser.isIE()&&Hn.browser.version.major<11)return YC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(VL)return YC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(Z.types)return Do(Z.types,function(ve){Q=Q.concat(Cf.select(ve.selector))}),Q;if(Z.selector)return Cf.select(Z.selector);if(Z.target)return[Z.target];switch(Z.mode){case"exact":var ce=Z.elements||"";ce.length>0&&Do(LL(ce),function(ve){var me=Cf.get(ve);me?Q.push(me):Do(document.forms,function(he){Do(he.elements,function(Oe){Oe.name===ve&&(ve="mce_editor_"+Ad++,Cf.setAttrib(Oe,"id",ve),Q.push(Oe))})})});break;case"textareas":case"specific_textareas":Do(Cf.select("textarea"),function(ve){Z.editor_deselector&&x(ve,Z.editor_deselector)||(!Z.editor_selector||x(ve,Z.editor_selector))&&Q.push(ve)});break}return Q},N=function(Z){a=Z},X=function(){var Z=0,Q=[],ce,ve=function(me,he,Oe){var xe=new VA(me,he,n);Q.push(xe),xe.on("init",function(){++Z===ce.length&&N(Q)}),xe.targetElm=xe.targetElm||Oe,xe.render()};if(Cf.unbind(window,"ready",X),p("onpageload"),ce=fr.unique(A(e)),e.types){Do(e.types,function(me){yt.each(ce,function(he){return Cf.is(he,me.selector)?(ve(v(he),JO({},e,me),he),!1):!0})});return}yt.each(ce,function(me){HL(n.get(me.id))}),ce=yt.grep(ce,function(me){return!n.get(me.id)}),ce.length===0?N([]):Do(ce,function(me){l(e,me)?YC("Could not initialize inline editor on invalid inline target element",me):ve(v(me),e,me)})};return n.settings=e,Cf.bind(window,"ready",X),new si(function(Z){a?Z(a):N=function(Q){Z(Q)}})},get:function(e){return arguments.length===0?Wu.slice(0):$e(e)?rn(Wu,function(n){return n.id===e}).getOr(null):pe(e)&&Wu[e]?Wu[e]:null},add:function(e){var n=this,a=Gg[e.id];return a===e||(n.get(e.id)===null&&(QO(e.id)&&(Gg[e.id]=e),Gg.push(e),Wu.push(e)),t5(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),bS||(bS=function(i){var l=n.fire("BeforeUnload");if(l.returnValue)return i.preventDefault(),i.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",bS))),e},createEditor:function(e,n){return this.add(new VA(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=Wu.length-1;a>=0;a--)n.remove(Wu[a]);return}if($e(e)){Do(Cf.select(e),function(l){i=n.get(l.id),i&&n.remove(i)});return}return i=e,ue(n.get(i.id))?null:(SM(i)&&n.fire("RemoveEditor",{editor:i}),Wu.length===0&&window.removeEventListener("beforeunload",bS),i.remove(),t5(Wu.length>0),i)},execCommand:function(e,n,a){var i=this,l=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new VA(a,i.settings,i).render(),!0;case"mceRemoveEditor":return l&&l.remove(),!0;case"mceToggleEditor":return l?(l.isHidden()?l.show():l.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){Do(Wu,function(e){e.save()})},addI18n:function(e,n){wu.add(e,n)},translate:function(e){return wu.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new pd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new pd(this.baseURL)}});qg.setup();var _M=Math.min,j1=Math.max,UA=Math.round,xM=function(e,n,a){var i=n.x,l=n.y,v=e.w,p=e.h,x=n.w,A=n.h,N=(a||"").split("");return N[0]==="b"&&(l+=A),N[1]==="r"&&(i+=x),N[0]==="c"&&(l+=UA(A/2)),N[1]==="c"&&(i+=UA(x/2)),N[3]==="b"&&(l-=p),N[4]==="r"&&(i-=v),N[3]==="c"&&(l-=UA(p/2)),N[4]==="c"&&(i-=UA(v/2)),G1(i,l,v,p)},UL=function(e,n,a,i){var l,v;for(v=0;v<i.length;v++)if(l=xM(e,n,i[v]),l.x>=a.x&&l.x+l.w<=a.w+a.x&&l.y>=a.y&&l.y+l.h<=a.h+a.y)return i[v];return null},WL=function(e,n,a){return G1(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},jL=function(e,n){var a=j1(e.x,n.x),i=j1(e.y,n.y),l=_M(e.x+e.w,n.x+n.w),v=_M(e.y+e.h,n.y+n.h);return l-a<0||v-i<0?null:G1(a,i,l-a,v-i)},GL=function(e,n,a){var i=e.x,l=e.y,v=e.x+e.w,p=e.y+e.h,x=n.x+n.w,A=n.y+n.h,N=j1(0,n.x-i),X=j1(0,n.y-l),Z=j1(0,v-x),Q=j1(0,p-A);return i+=N,l+=X,a&&(v+=N,p+=X,i-=Z,l-=Q),v-=Z,p-=Q,G1(i,l,v-i,p-l)},G1=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},qL=function(e){return G1(e.left,e.top,e.width,e.height)},KL={inflate:WL,relativePosition:xM,findBestRelativePosition:UL,intersect:jL,clamp:GL,create:G1,fromClientRect:qL},XL=function(e,n,a){a===void 0&&(a=1e3);var i=!1,l=null,v=function(N){return function(){for(var X=[],Z=0;Z<arguments.length;Z++)X[Z]=arguments[Z];i||(i=!0,l!==null&&(clearTimeout(l),l=null),N.apply(null,X))}},p=v(e),x=v(n),A=function(){for(var N=[],X=0;X<arguments.length;X++)N[X]=arguments[X];!i&&l===null&&(l=setTimeout(function(){return x.apply(null,N)},a))};return{start:A,resolve:p,reject:x}},n5=function(){var e={},n={},a=function(l,v){var p='Script at URL "'+v+'" failed to load',x='Script at URL "'+v+"\" did not call `tinymce.Resource.add('"+l+"', data)` within 1 second";if(e[l]!==void 0)return e[l];var A=new si(function(N,X){var Z=XL(N,X);n[l]=Z.resolve,nv.ScriptLoader.loadScript(v,function(){return Z.start(x)},function(){return Z.reject(p)})});return e[l]=A,A},i=function(l,v){n[l]!==void 0&&(n[l](v),delete n[l]),e[l]=si.resolve(v)};return{load:a,add:i}},yS=n5(),Cv=yt.each,Ny=yt.extend,WA,wS,r5=function(){};r5.extend=WA=function(e){var n=this,a=n.prototype,i=function(){var x,A,N,X=this;if(!wS&&(X.init&&X.init.apply(X,arguments),A=X.Mixins,A))for(x=A.length;x--;)N=A[x],N.init&&N.init.apply(X,arguments)},l=function(){return this},v=function(x,A){return function(){var N=this,X=N._super;N._super=a[x];var Z=A.apply(N,arguments);return N._super=X,Z}};wS=!0;var p=new n;return wS=!1,e.Mixins&&(Cv(e.Mixins,function(x){for(var A in x)A!=="init"&&(e[A]=x[A])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&Cv(e.Methods.split(","),function(x){e[x]=l}),e.Properties&&Cv(e.Properties.split(","),function(x){var A="_"+x;e[x]=function(N){var X=this;return N!==void 0?(X[A]=N,X):X[A]}}),e.Statics&&Cv(e.Statics,function(x,A){i[A]=x}),e.Defaults&&a.Defaults&&(e.Defaults=Ny({},a.Defaults,e.Defaults)),Hr(e,function(x,A){typeof x=="function"&&a[A]?p[A]=v(A,x):p[A]=x}),i.prototype=p,i.constructor=i,i.extend=WA,i};var CS=Math.min,jA=Math.max,Kg=Math.round,kM=function(e){var n={},a=0,i=0,l=0,v=function(Z,Q,ce){var ve,me,he;ve=0,me=0,he=0,Z=Z/255,Q=Q/255,ce=ce/255;var Oe=CS(Z,CS(Q,ce)),xe=jA(Z,jA(Q,ce));if(Oe===xe)return he=Oe,{h:0,s:0,v:he*100};var qe=Z===Oe?Q-ce:ce===Oe?Z-Q:ce-Z;return ve=Z===Oe?3:ce===Oe?1:5,ve=60*(ve-qe/(xe-Oe)),me=(xe-Oe)/xe,he=xe,{h:Kg(ve),s:Kg(me*100),v:Kg(he*100)}},p=function(Z,Q,ce){if(Z=(parseInt(Z,10)||0)%360,Q=parseInt(Q,10)/100,ce=parseInt(ce,10)/100,Q=jA(0,CS(Q,1)),ce=jA(0,CS(ce,1)),Q===0){a=i=l=Kg(255*ce);return}var ve=Z/60,me=ce*Q,he=me*(1-Math.abs(ve%2-1)),Oe=ce-me;switch(Math.floor(ve)){case 0:a=me,i=he,l=0;break;case 1:a=he,i=me,l=0;break;case 2:a=0,i=me,l=he;break;case 3:a=0,i=he,l=me;break;case 4:a=he,i=0,l=me;break;case 5:a=me,i=0,l=he;break;default:a=i=l=0}a=Kg(255*(a+Oe)),i=Kg(255*(i+Oe)),l=Kg(255*(l+Oe))},x=function(){var Z=function(Q){return Q=parseInt(Q,10).toString(16),Q.length>1?Q:"0"+Q};return"#"+Z(a)+Z(i)+Z(l)},A=function(){return{r:a,g:i,b:l}},N=function(){return v(a,i,l)},X=function(Z){var Q;return typeof Z=="object"?"r"in Z?(a=Z.r,i=Z.g,l=Z.b):"v"in Z&&p(Z.h,Z.s,Z.v):(Q=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(Z))?(a=parseInt(Q[1],10),i=parseInt(Q[2],10),l=parseInt(Q[3],10)):(Q=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(Z))?(a=parseInt(Q[1],16),i=parseInt(Q[2],16),l=parseInt(Q[3],16)):(Q=/#([0-F])([0-F])([0-F])/gi.exec(Z))&&(a=parseInt(Q[1]+Q[1],16),i=parseInt(Q[2]+Q[2],16),l=parseInt(Q[3]+Q[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,n};return e&&X(e),n.toRgb=A,n.toHsv=N,n.toHex=x,n.parse=X,n},YL=function(e){var n=JSON.stringify(e);return $e(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},a5={serialize:YL,parse:function(e){try{return JSON.parse(e)}catch{}}},JL={callbacks:{},count:0,send:function(e){var n=this,a=Ma.DOM,i=e.count!==void 0?e.count:n.count,l="tinymce_jsonp_"+i;n.callbacks[i]=function(v){a.remove(l),delete n.callbacks[i],e.callback(v)},a.add(a.doc.body,"script",{id:l,src:e.url,type:"text/javascript"}),n.count++}},GA=Wn(Wn({},NA),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):ji.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",GA.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&yt.each(e.requestheaders,function(l){n.setRequestHeader(l.key,l.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=GA.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();ji.setTimeout(i,10)}}),AM=yt.extend,ZL=function(){function e(n){this.settings=AM({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,l=AM(this.settings,n);l.success=function(v,p){v=a5.parse(v),typeof v>"u"&&(v={error:"JSON Parse error."}),v.error?a.call(l.error_scope||l.scope,v.error,p):i.call(l.success_scope||l.scope,v.result)},l.error=function(v,p){a&&a.call(l.error_scope||l.scope,v,p)},l.data=a5.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),l.content_type="application/json",GA.send(l)},e}(),EM=function(){return function(){var e={},n=[],a={getItem:function(i){var l=e[i];return l||null},setItem:function(i,l){n.push(i),e[i]=String(l)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(l){return l===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},zy;try{var o5="__storage_test__";zy=window.localStorage,zy.setItem(o5,o5),zy.removeItem(o5)}catch{zy=EM()}var QL=zy,e7={geom:{Rect:KL},util:{Promise:si,Delay:ji,Tools:yt,VK:Un,URI:pd,Class:r5,EventDispatcher:IA,Observable:NA,I18n:wu,XHR:GA,JSON:a5,JSONRequest:ZL,JSONP:JL,LocalStorage:QL,Color:kM,ImageUploader:HR},dom:{EventUtils:Th,Sizzle:ga,DomQuery:fr,TreeWalker:sa,TextSeeker:j2,DOMUtils:Ma,ScriptLoader:nv,RangeUtils:o1,Serializer:CR,StyleSheetLoader:KS,ControlSelection:jw,BookmarkManager:vd,Selection:iR,Event:Th.Event},html:{Styles:Rl,Entities:$s,Node:ll,Schema:Bs,SaxParser:Sg,DomParser:Hk,Writer:Qx,Serializer:Am},Env:Hn,AddOnManager:zu,Annotator:F0,Formatter:VR,UndoManager:hf,EditorCommands:jg,WindowManager:MT,NotificationManager:gv,EditorObservable:mM,Shortcuts:HA,Editor:VA,FocusManager:Tx,EditorManager:qg,DOM:Ma.DOM,ScriptLoader:nv.ScriptLoader,PluginManager:cl,ThemeManager:_d,IconManager:Wk,Resource:yS,trim:yt.trim,isArray:yt.isArray,is:yt.is,toArray:yt.toArray,makeMap:yt.makeMap,each:yt.each,map:yt.map,grep:yt.grep,inArray:yt.inArray,extend:yt.extend,create:yt.create,walk:yt.walk,createNS:yt.createNS,resolve:yt.resolve,explode:yt.explode,_addCacheSuffix:yt._addCacheSuffix,isOpera:Hn.opera,isWebKit:Hn.webkit,isIE:Hn.ie,isGecko:Hn.gecko,isMac:Hn.mac},TM=yt.extend(qg,e7),t7=function(e){try{f.exports=e}catch{}},n7=function(e){window.tinymce=e,window.tinyMCE=e};n7(TM),t7(TM)})()})(mG);var coe=mG.exports;const br=loe(coe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var f=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},m=function(t){return function(r){return f(r)===t}},b=function(t){return function(r){return typeof r===t}},y=function(t){return function(r){return t===r}},S=m("string"),_=m("object"),T=m("array"),D=y(null),F=b("boolean"),W=y(void 0),I=function(t){return t==null},L=function(t){return!I(t)},P=b("function"),H=b("number"),Y=function(t,r){if(T(t)){for(var o=0,s=t.length;o<s;++o)if(!r(t[o]))return!1;return!0}return!1},q=function(){},$e=function(t){return function(){return t()}},de=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(r.apply(null,o))}},Be=function(t,r){return function(o){return t(r(o))}},ue=function(t){return function(){return t}},Ee=function(t){return t},De=function(t,r){return t===r};function ke(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];var g=r.concat(s);return t.apply(null,g)}}var Ye=function(t){return function(r){return!t(r)}},le=function(t){return function(){throw new Error(t)}},pe=ue(!1),ye=ue(!0),Me=tinymce.util.Tools.resolve("tinymce.ThemeManager"),ne=function(){return ne=Object.assign||function(r){for(var o,s=1,d=arguments.length;s<d;s++){o=arguments[s];for(var g in o)Object.prototype.hasOwnProperty.call(o,g)&&(r[g]=o[g])}return r},ne.apply(this,arguments)};function U(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(t);d<s.length;d++)r.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(t,s[d])&&(o[s[d]]=t[s[d]]);return o}function _e(t,r,o){if(o||arguments.length===2)for(var s=0,d=r.length,g;s<d;s++)(g||!(s in r))&&(g||(g=Array.prototype.slice.call(r,0,s)),g[s]=r[s]);return t.concat(g||Array.prototype.slice.call(r))}var Qe=function(){return se},se=function(){var t=function(s){return s()},r=Ee,o={fold:function(s,d){return s()},isSome:pe,isNone:ye,getOr:r,getOrThunk:t,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:ue(null),getOrUndefined:ue(void 0),or:r,orThunk:t,map:Qe,each:q,bind:Qe,exists:pe,forall:ye,filter:function(){return Qe()},toArray:function(){return[]},toString:ue("none()")};return o}(),ge=function(t){var r=ue(t),o=function(){return d},s=function(g){return g(t)},d={fold:function(g,C){return C(t)},isSome:ye,isNone:pe,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(g){return ge(g(t))},each:function(g){g(t)},bind:s,exists:s,forall:s,filter:function(g){return g(t)?d:se},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return d},ut=function(t){return t==null?se:ge(t)},B={some:ge,none:Qe,from:ut},_t=Array.prototype.slice,at=Array.prototype.indexOf,ot=Array.prototype.push,kn=function(t,r){return at.call(t,r)},cn=function(t,r){var o=kn(t,r);return o===-1?B.none():B.some(o)},lt=function(t,r){return kn(t,r)>-1},Sn=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(r(d,o))return!0}return!1},te=function(t,r){for(var o=[],s=0;s<t;s++)o.push(r(s));return o},fn=function(t,r){for(var o=[],s=0;s<t.length;s+=r){var d=_t.call(t,s,s+r);o.push(d)}return o},Ue=function(t,r){for(var o=t.length,s=new Array(o),d=0;d<o;d++){var g=t[d];s[d]=r(g,d)}return s},gt=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];r(d,o)}},qn=function(t,r){for(var o=t.length-1;o>=0;o--){var s=t[o];r(s,o)}},Te=function(t,r){for(var o=[],s=[],d=0,g=t.length;d<g;d++){var C=t[d],E=r(C,d)?o:s;E.push(C)}return{pass:o,fail:s}},Ae=function(t,r){for(var o=[],s=0,d=t.length;s<d;s++){var g=t[s];r(g,s)&&o.push(g)}return o},Je=function(t,r,o){return qn(t,function(s,d){o=r(o,s,d)}),o},et=function(t,r,o){return gt(t,function(s,d){o=r(o,s,d)}),o},He=function(t,r,o){for(var s=0,d=t.length;s<d;s++){var g=t[s];if(r(g,s))return B.some(g);if(o(g,s))break}return B.none()},pt=function(t,r){return He(t,r,pe)},Yt=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(r(d,o))return B.some(o)}return B.none()},it=function(t){for(var r=[],o=0,s=t.length;o<s;++o){if(!T(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);ot.apply(r,t[o])}return r},Wt=function(t,r){return it(Ue(t,r))},Dt=function(t,r){for(var o=0,s=t.length;o<s;++o){var d=t[o];if(r(d,o)!==!0)return!1}return!0},zt=function(t){var r=_t.call(t,0);return r.reverse(),r},rn=function(t,r){return Ae(t,function(o){return!lt(r,o)})},pn=function(t,r){for(var o={},s=0,d=t.length;s<d;s++){var g=t[s];o[String(g)]=r(g,s)}return o},Gn=function(t){return[t]},sr=function(t,r){var o=_t.call(t,0);return o.sort(r),o},Gr=function(t,r){return r>=0&&r<t.length?B.some(t[r]):B.none()},tr=function(t){return Gr(t,0)},ua=function(t){return Gr(t,t.length-1)},va=P(Array.from)?Array.from:function(t){return _t.call(t)},Zr=function(t,r){for(var o=0;o<t.length;o++){var s=r(t[o],o);if(s.isSome())return s}return B.none()},Lr=Object.keys,da=Object.hasOwnProperty,Vr=function(t,r){for(var o=Lr(t),s=0,d=o.length;s<d;s++){var g=o[s],C=t[g];r(C,g)}},lr=function(t,r){return Ia(t,function(o,s){return{k:s,v:r(o,s)}})},Ia=function(t,r){var o={};return Vr(t,function(s,d){var g=r(s,d);o[g.k]=g.v}),o},Zi=function(t){return function(r,o){t[o]=r}},Kl=function(t,r,o,s){var d={};return Vr(t,function(g,C){(r(g,C)?o:s)(g,C)}),d},Hr=function(t,r){var o={};return Kl(t,r,Zi(o),q),o},Si=function(t,r){var o=[];return Vr(t,function(s,d){o.push(r(s,d))}),o},Ju=function(t,r){for(var o=Lr(t),s=0,d=o.length;s<d;s++){var g=o[s],C=t[g];if(r(C,g,t))return B.some(C)}return B.none()},_i=function(t){return Si(t,Ee)},En=function(t,r){return Mr(t,r)?B.from(t[r]):B.none()},Mr=function(t,r){return da.call(t,r)},lo=function(t,r){return Mr(t,r)&&t[r]!==void 0&&t[r]!==null},lu=function(t,r,o){return o===void 0&&(o=De),t.exists(function(s){return o(s,r)})},Zu=function(t,r,o){return o===void 0&&(o=De),Gs(t,r,o).getOr(t.isNone()&&r.isNone())},Pr=function(t){for(var r=[],o=function(d){r.push(d)},s=0;s<t.length;s++)t[s].each(o);return r},Ar=function(t){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s.isSome())r.push(s.getOrDie());else return B.none()}return B.some(r)},Gs=function(t,r,o){return t.isSome()&&r.isSome()?B.some(o(t.getOrDie(),r.getOrDie())):B.none()},Qm=function(t,r,o,s){return t.isSome()&&r.isSome()&&o.isSome()?B.some(s(t.getOrDie(),r.getOrDie(),o.getOrDie())):B.none()},Of=function(t,r){return t!=null?B.some(r(t)):B.none()},qs=function(t,r){return t?B.some(r):B.none()},Rc=function(t,r){return t+r},Ev=function(t,r){return t.substring(r)},gl=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},pl=function(t,r){return Ks(t,r)?Ev(t,r.length):t},Df=function(t,r){return Wn(t,r)?t:Rc(t,r)},ma=function(t,r){return t.indexOf(r)!==-1},Ks=function(t,r){return gl(t,r,0)},Wn=function(t,r){return gl(t,r,t.length-r.length)},eh=function(t){return function(r){return r.replace(t,"")}},Ou=eh(/^\s+|\s+$/g),$c=function(t){return t.length>0},th=function(t){return!$c(t)},Xl=function(t){return t.style!==void 0&&P(t.style.getPropertyValue)},nh=function(t,r){var o=r||document,s=o.createElement("div");if(s.innerHTML=t,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Ss(s.childNodes[0])},Rf=function(t,r){var o=r||document,s=o.createElement(t);return Ss(s)},rh=function(t,r){var o=r||document,s=o.createTextNode(t);return Ss(s)},Ss=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Bc=function(t,r,o){return B.from(t.dom.elementFromPoint(r,o)).map(Ss)},sn={fromHtml:nh,fromTag:Rf,fromText:rh,fromDom:Ss,fromPoint:Bc};typeof window<"u"||Function("return this;")();var $d=9,Tv=11,Ov=1,Yl=3,Qu=function(t){var r=t.dom.nodeName;return r.toLowerCase()},ah=function(t){return t.dom.nodeType},Bo=function(t){return function(r){return ah(r)===t}},po=Bo(Ov),Du=Bo(Yl),Xs=Bo($d),Bd=Bo(Tv),es=function(t){var r=!1,o;return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return r||(r=!0,o=t.apply(null,s)),o}},$f=function(t,r,o,s){var d=t.isiOS()&&/ipad/i.test(o)===!0,g=t.isiOS()&&!d,C=t.isiOS()||t.isAndroid(),E=C||s("(pointer:coarse)"),O=d||!g&&C&&s("(min-device-width:768px)"),$=g||C&&!O,V=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,j=!$&&!O&&!V;return{isiPad:ue(d),isiPhone:ue(g),isTablet:ue(O),isPhone:ue($),isTouch:ue(E),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ue(V),isDesktop:ue(j)}},Md=function(t,r){for(var o=0;o<t.length;o++){var s=t[o];if(s.test(r))return s}},bl=function(t,r){var o=Md(t,r);if(!o)return{major:0,minor:0};var s=function(d){return Number(r.replace(o,"$"+d))};return xi(s(1),s(2))},Ru=function(t,r){var o=String(r).toLowerCase();return t.length===0?Qt():bl(t,o)},Qt=function(){return xi(0,0)},xi=function(t,r){return{major:t,minor:r}},yl={nu:xi,detect:Ru,unknown:Qt},oh=function(t,r){return Zr(r.brands,function(o){var s=o.brand.toLowerCase();return pt(t,function(d){var g;return s===((g=d.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(function(d){return{current:d.name,version:yl.nu(parseInt(o.version,10),0)}})})},Bf=function(t,r){var o=String(r).toLowerCase();return pt(t,function(s){return s.search(o)})},Qr=function(t,r){return Bf(t,r).map(function(o){var s=yl.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Dv=function(t,r){return Bf(t,r).map(function(o){var s=yl.detect(o.versionRegexes,r);return{current:o.name,version:s}})},wl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,co=function(t){return function(r){return ma(r,t)}},Rv=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ma(t,"edge/")&&ma(t,"chrome")&&ma(t,"safari")&&ma(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,wl],search:function(t){return ma(t,"chrome")&&!ma(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ma(t,"msie")||ma(t,"trident")}},{name:"Opera",versionRegexes:[wl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:co("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:co("firefox")},{name:"Safari",versionRegexes:[wl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ma(t,"safari")||ma(t,"mobile/"))&&ma(t,"applewebkit")}}],cu=[{name:"Windows",search:co("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ma(t,"iphone")||ma(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:co("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:co("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:co("linux"),versionRegexes:[]},{name:"Solaris",search:co("sunos"),versionRegexes:[]},{name:"FreeBSD",search:co("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:co("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ts={browsers:ue(Rv),oses:ue(cu)},Ra="Edge",Mf="Chrome",Pf="IE",$v="Opera",Pd="Firefox",Cl="Safari",Ys=function(){return Bv({current:void 0,version:yl.unknown()})},Bv=function(t){var r=t.current,o=t.version,s=function(d){return function(){return r===d}};return{current:r,version:o,isEdge:s(Ra),isChrome:s(Mf),isIE:s(Pf),isOpera:s($v),isFirefox:s(Pd),isSafari:s(Cl)}},_s={unknown:Ys,nu:Bv,edge:ue(Ra),chrome:ue(Mf),ie:ue(Pf),opera:ue($v),firefox:ue(Pd),safari:ue(Cl)},$u="Windows",oe="iOS",Ne="Android",Xe="Linux",kt="OSX",Gt="Solaris",Rn="FreeBSD",aa="ChromeOS",ha=function(){return pr({current:void 0,version:yl.unknown()})},pr=function(t){var r=t.current,o=t.version,s=function(d){return function(){return r===d}};return{current:r,version:o,isWindows:s($u),isiOS:s(oe),isAndroid:s(Ne),isOSX:s(kt),isLinux:s(Xe),isSolaris:s(Gt),isFreeBSD:s(Rn),isChromeOS:s(aa)}},Na={unknown:ha,nu:pr,windows:ue($u),ios:ue(oe),android:ue(Ne),linux:ue(Xe),osx:ue(kt),solaris:ue(Gt),freebsd:ue(Rn),chromeos:ue(aa)},qa=function(t,r,o){var s=ts.browsers(),d=ts.oses(),g=r.bind(function(O){return oh(s,O)}).orThunk(function(){return Qr(s,t)}).fold(_s.unknown,_s.nu),C=Dv(d,t).fold(Na.unknown,Na.nu),E=$f(C,g,t,o);return{browser:g,os:C,deviceType:E}},Mc={detect:qa},Li=function(t){return window.matchMedia(t).matches},Jl=es(function(){return Mc.detect(navigator.userAgent,B.from(navigator.userAgentData),Li)}),Hn=function(){return Jl()},ih=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},lp=function(t,r){return ih(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},ea=function(t,r){var o=t.dom;if(o.nodeType!==Ov)return!1;var s=o;if(s.matches!==void 0)return s.matches(r);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(r);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(r);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},cp=function(t){return t.nodeType!==Ov&&t.nodeType!==$d&&t.nodeType!==Tv||t.childElementCount===0},uh=function(t,r){var o=r===void 0?document:r.dom;return cp(o)?[]:Ue(o.querySelectorAll(t),sn.fromDom)},n2=function(t,r){var o=r===void 0?document:r.dom;return cp(o)?B.none():B.from(o.querySelector(t)).map(sn.fromDom)},_a=function(t,r){return t.dom===r.dom},Js=function(t,r){var o=t.dom,s=r.dom;return o===s?!1:o.contains(s)},r2=function(t,r){return lp(t.dom,r.dom)},Sl=function(t,r){return Hn().browser.isIE()?r2(t,r):Js(t,r)},Jo=function(t){return sn.fromDom(t.dom.ownerDocument)},If=function(t){return Xs(t)?t:Jo(t)},yt=function(t){return sn.fromDom(If(t).dom.documentElement)},sh=function(t){return sn.fromDom(If(t).dom.defaultView)},_o=function(t){return B.from(t.dom.parentNode).map(sn.fromDom)},sb=function(t){return _o(t)},Nf=function(t){return B.from(t.dom.offsetParent).map(sn.fromDom)},Mv=function(t){return B.from(t.dom.nextSibling).map(sn.fromDom)},je=function(t){return Ue(t.dom.childNodes,sn.fromDom)},ii=function(t,r){var o=t.dom.childNodes;return B.from(o[r]).map(sn.fromDom)},lh=function(t){return ii(t,0)},fp=function(t,r){return{element:t,offset:r}},lb=function(t,r){var o=je(t);return o.length>0&&r<o.length?fp(o[r],0):fp(t,r)},Id=function(t){return Bd(t)&&L(t.dom.host)},vp=P(Element.prototype.attachShadow)&&P(Node.prototype.getRootNode),dp=ue(vp),xs=vp?function(t){return sn.fromDom(t.dom.getRootNode())}:If,Zl=function(t){return Id(t)?t:sn.fromDom(If(t).dom.body)},cb=function(t){return fb(t).isSome()},fb=function(t){var r=xs(t);return Id(r)?B.some(r):B.none()},Ql=function(t){return sn.fromDom(t.dom.host)},$a=function(t){if(dp()&&L(t.target)){var r=sn.fromDom(t.target);if(po(r)&&vb(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return tr(o)}}return B.from(t.target)},vb=function(t){return L(t.dom.shadowRoot)},fu=function(t){var r=Du(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return fb(sn.fromDom(r)).fold(function(){return o.body.contains(r)},Be(fu,Ql))},Hi=function(){return xo(sn.fromDom(document))},xo=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return sn.fromDom(r)},Pc=function(t,r,o){if(S(o)||F(o)||H(o))t.setAttribute(r,o+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},ur=function(t,r,o){Pc(t.dom,r,o)},ns=function(t,r){var o=t.dom;Vr(r,function(s,d){Pc(o,d,s)})},za=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},Ka=function(t,r){return B.from(za(t,r))},db=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},ui=function(t,r){t.dom.removeAttribute(r)},mp=function(t,r,o){if(!S(o))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Xl(t)&&t.style.setProperty(r,o)},_l=function(t,r){Xl(t)&&t.style.removeProperty(r)},jn=function(t,r,o){var s=t.dom;mp(s,r,o)},rs=function(t,r){var o=t.dom;Vr(r,function(s,d){mp(o,d,s)})},no=function(t,r){var o=t.dom;Vr(r,function(s,d){s.fold(function(){_l(o,d)},function(g){mp(o,d,g)})})},ro=function(t,r){var o=t.dom,s=window.getComputedStyle(o),d=s.getPropertyValue(r);return d===""&&!fu(t)?Lo(o,r):d},Lo=function(t,r){return Xl(t)?t.style.getPropertyValue(r):""},ko=function(t,r){var o=t.dom,s=Lo(o,r);return B.from(s).filter(function(d){return d.length>0})},zf=function(t){var r={},o=t.dom;if(Xl(o))for(var s=0;s<o.style.length;s++){var d=o.style.item(s);r[d]=o.style[d]}return r},ks=function(t,r,o){var s=sn.fromTag(t);jn(s,r,o);var d=ko(s,r);return d.isSome()},qr=function(t,r){var o=t.dom;_l(o,r),lu(Ka(t,"style").map(Ou),"")&&ui(t,"style")},Ba=function(t){return t.dom.offsetWidth},Qi=function(t,r){var o=function(E,O){if(!H(O)&&!O.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+O);var $=E.dom;Xl($)&&($.style[t]=O+"px")},s=function(E){var O=r(E);if(O<=0||O===null){var $=ro(E,t);return parseFloat($)||0}return O},d=s,g=function(E,O){return et(O,function($,V){var j=ro(E,V),ee=j===void 0?0:parseInt(j,10);return isNaN(ee)?$:$+ee},0)},C=function(E,O,$){var V=g(E,$),j=O>V?O-V:0;return j};return{set:o,get:s,getOuter:d,aggregate:g,max:C}},ec=Qi("height",function(t){var r=t.dom;return fu(t)?r.getBoundingClientRect().height:r.offsetHeight}),Mo=function(t){return ec.get(t)},as=function(t){return ec.getOuter(t)},mb=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=ec.max(t,r,o);jn(t,"max-height",s+"px")},Ff=function(t,r){var o=function(s,d){return Ff(t+s,r+d)};return{left:t,top:r,translate:o}},ya=Ff,Zs=function(t){var r=t.getBoundingClientRect();return ya(r.left,r.top)},Ic=function(t,r){return t!==void 0?t:r!==void 0?r:0},vu=function(t){var r=t.dom.ownerDocument,o=r.body,s=r.defaultView,d=r.documentElement;if(o===t.dom)return ya(o.offsetLeft,o.offsetTop);var g=Ic(s==null?void 0:s.pageYOffset,d.scrollTop),C=Ic(s==null?void 0:s.pageXOffset,d.scrollLeft),E=Ic(d.clientTop,o.clientTop),O=Ic(d.clientLeft,o.clientLeft);return fo(t).translate(C-O,g-E)},fo=function(t){var r=t.dom,o=r.ownerDocument,s=o.body;return s===r?ya(s.offsetLeft,s.offsetTop):fu(t)?Zs(r):ya(0,0)},Nc=Qi("width",function(t){return t.dom.offsetWidth}),tc=function(t,r){return Nc.set(t,r)},Vi=function(t){return Nc.get(t)},du=function(t){return Nc.getOuter(t)},ki=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Nc.max(t,r,o);jn(t,"max-width",s+"px")},Pv=function(t,r,o,s,d,g,C){return{target:t,x:r,y:o,stop:s,prevent:d,kill:g,raw:C}},Qs=function(t){var r=sn.fromDom($a(t).getOr(t.target)),o=function(){return t.stopPropagation()},s=function(){return t.preventDefault()},d=de(s,o);return Pv(r,t.clientX,t.clientY,o,s,d,t)},Ho=function(t,r){return function(o){t(o)&&r(Qs(o))}},Nd=function(t,r,o,s,d){var g=Ho(o,s);return t.dom.addEventListener(r,g,d),{unbind:ke(Hf,t,r,g,d)}},hb=function(t,r,o,s){return Nd(t,r,o,s,!1)},Lf=function(t,r,o,s){return Nd(t,r,o,s,!0)},Hf=function(t,r,o,s){t.dom.removeEventListener(r,o,s)},vo=function(t,r){var o=_o(t);o.each(function(s){s.dom.insertBefore(r.dom,t.dom)})},Vf=function(t,r){var o=Mv(t);o.fold(function(){var s=_o(t);s.each(function(d){Ui(d,r)})},function(s){vo(s,r)})},Uf=function(t,r){var o=lh(t);o.fold(function(){Ui(t,r)},function(s){t.dom.insertBefore(r.dom,s.dom)})},Ui=function(t,r){t.dom.appendChild(r.dom)},nc=function(t,r,o){ii(t,o).fold(function(){Ui(t,r)},function(s){vo(s,r)})},Wf=function(t,r){gt(r,function(o){vo(t,o)})},rc=function(t,r){gt(r,function(o){Ui(t,o)})},Ua=function(t){t.dom.textContent="",gt(je(t),function(r){Bu(r)})},Bu=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},ch=function(t){var r=je(t);r.length>0&&Wf(t,r),Bu(t)},os=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,s=r.body.scrollTop||r.documentElement.scrollTop;return ya(o,s)},fh=function(t,r,o){var s=o!==void 0?o.dom:document,d=s.defaultView;d&&d.scrollTo(t,r)},gb=function(t){var r=t===void 0?window:t;return Hn().browser.isFirefox()?B.none():B.from(r.visualViewport)},hp=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},jf=function(t){var r=t===void 0?window:t,o=r.document,s=os(sn.fromDom(o));return gb(r).fold(function(){var d=r.document.documentElement,g=d.clientWidth,C=d.clientHeight;return hp(s.left,s.top,g,C)},function(d){return hp(Math.max(d.pageLeft,s.left),Math.max(d.pageTop,s.top),d.width,d.height)})},Gf=function(t,r){var o=t.view(r);return o.fold(ue([]),function(s){var d=t.owner(s),g=Gf(t,d);return[s].concat(g)})},zc=function(t,r){var o=r.owner(t),s=Gf(r,o);return B.some(s)},Kn=function(t){var r,o=t.dom===document?B.none():B.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(sn.fromDom)},As=function(t){return Jo(t)},mu=Object.freeze({__proto__:null,view:Kn,owner:As}),Wi=function(t){var r=sn.fromDom(document),o=os(r),s=zc(t,mu);return s.fold(ke(vu,t),function(d){var g=fo(t),C=Je(d,function(E,O){var $=fo(O);return{left:E.left+$.left,top:E.top+$.top}},{left:0,top:0});return ya(C.left+g.left+o.left,C.top+g.top+o.top)})},Es=function(t,r,o){return{point:t,width:r,height:o}},bo=function(t,r,o,s){return{x:t,y:r,width:o,height:s}},Vo=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Ao=function(t){var r=vu(t),o=du(t),s=as(t);return Vo(r.left,r.top,o,s)},Fc=function(t){var r=Wi(t),o=du(t),s=as(t);return Vo(r.left,r.top,o,s)},Ai=function(){return jf(window)},gn=function(t){var r=function(j){return gn(t)},o=function(j){return gn(t)},s=function(j){return gn(j(t))},d=function(j){return gn(t)},g=function(j){j(t)},C=function(j){return j(t)},E=function(j,ee){return ee(t)},O=function(j){return j(t)},$=function(j){return j(t)},V=function(){return B.some(t)};return{isValue:ye,isError:pe,getOr:ue(t),getOrThunk:ue(t),getOrDie:ue(t),or:r,orThunk:o,fold:E,map:s,mapError:d,each:g,bind:C,exists:O,forall:$,toOptional:V}},qf=function(t){var r=function($){return $()},o=function(){return le(String(t))()},s=Ee,d=function($){return $()},g=function($){return qf(t)},C=function($){return qf($(t))},E=function($){return qf(t)},O=function($,V){return $(t)};return{isValue:pe,isError:ye,getOr:Ee,getOrThunk:r,getOrDie:o,or:s,orThunk:d,fold:O,map:g,mapError:C,each:q,bind:E,exists:pe,forall:ye,toOptional:B.none}},gp=function(t,r){return t.fold(function(){return qf(r)},gn)},cr={value:gn,error:qf,fromOption:gp},wa;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(wa||(wa={}));var vh=function(t,r,o){return t.stype===wa.Error?r(t.serror):o(t.svalue)},xl=function(t){var r=[],o=[];return gt(t,function(s){vh(s,function(d){return o.push(d)},function(d){return r.push(d)})}),{values:r,errors:o}},Fa=function(t,r){return t.stype===wa.Error?{stype:wa.Error,serror:r(t.serror)}:t},dh=function(t,r){return t.stype===wa.Value?{stype:wa.Value,svalue:r(t.svalue)}:t},Mu=function(t,r){return t.stype===wa.Value?r(t.svalue):t},zd=function(t,r){return t.stype===wa.Error?r(t.serror):t},mr=function(t){return{stype:wa.Value,svalue:t}},eu=function(t){return{stype:wa.Error,serror:t}},a2=function(t){return vh(t,cr.error,cr.value)},o2=function(t){return t.fold(eu,mr)},Wa={fromResult:o2,toResult:a2,svalue:mr,partition:xl,serror:eu,bind:Mu,bindError:zd,map:dh,mapError:Fa,fold:vh},mh=function(t,r,o,s){return{tag:"field",key:t,newKey:r,presence:o,prop:s}},M=function(t,r){return{tag:"custom",newKey:t,instantiator:r}},J=function(t,r,o){switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},re=function(t,r){return r},Ce=function(t,r){var o=_(t)&&_(r);return o?bt(t,r):r},Ge=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var s={},d=0;d<r.length;d++){var g=r[d];for(var C in g)Mr(g,C)&&(s[C]=t(s[C],g[C]))}return s}},bt=Ge(Ce),xn=Ge(re),Zn=function(){return{tag:"required",process:{}}},Er=function(t){return{tag:"defaultedThunk",process:t}},hr=function(t){return Er(ue(t))},xa=function(){return{tag:"option",process:{}}},Ei=function(t){return{tag:"mergeWithThunk",process:t}},ao=function(t){return Ei(ue(t))},w3=function(t,r){return t.length>0?Wa.svalue(bt(r,xn.apply(void 0,t))):Wa.svalue(r)},US=function(t){return de(Wa.serror,it)(t)},WS=function(t,r){var o=Wa.partition(t);return o.errors.length>0?US(o.errors):w3(o.values,r)},C3=function(t){var r=Wa.partition(t);return r.errors.length>0?US(r.errors):Wa.svalue(r.values)},ac={consolidateObj:WS,consolidateArr:C3},pp=function(t){return _(t)&&Lr(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Pu=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:ue("... (only showing first ten failures)")}]):t;return Ue(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},hh=function(t,r){return Wa.serror([{path:t,getErrorInfo:r}])},i2=function(t,r,o){return hh(t,function(){return'Could not find valid *required* value for "'+r+'" in '+pp(o)})},bp=function(t,r){return hh(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},pb=function(t,r,o){return hh(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+pp(r)})},jS=function(t,r){return hh(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},S3=function(t,r){return hh(t,ue(r))},oc=function(t){var r=function(s,d){return Wa.bindError(t(d),function(g){return S3(s,g)})},o=ue("val");return{extract:r,toString:o}},yp=oc(Wa.svalue),_3=function(t,r,o,s){return En(r,o).fold(function(){return i2(t,o,r)},s)},u2=function(t,r,o,s){var d=En(t,r).getOrThunk(function(){return o(t)});return s(d)},x3=function(t,r,o){return o(En(t,r))},k3=function(t,r,o,s){var d=En(t,r).map(function(g){return g===!0?o(t):g});return s(d)},gh=function(t,r,o,s,d){var g=function(E){return d.extract(r.concat([s]),E)},C=function(E){return E.fold(function(){return Wa.svalue(B.none())},function(O){var $=d.extract(r.concat([s]),O);return Wa.map($,B.some)})};switch(t.tag){case"required":return _3(r,o,s,g);case"defaultedThunk":return u2(o,s,t.process,g);case"option":return x3(o,s,C);case"defaultedOptionThunk":return k3(o,s,t.process,C);case"mergeWithThunk":return u2(o,s,ue({}),function(E){var O=bt(t.process(o),E);return g(O)})}},wp=function(t,r,o){for(var s={},d=[],g=0,C=o;g<C.length;g++){var E=C[g];J(E,function(O,$,V,j){var ee=gh(V,t,r,O,j);Wa.fold(ee,function(ae){d.push.apply(d,ae)},function(ae){s[$]=ae})},function(O,$){s[O]=$(r)})}return d.length>0?Wa.serror(d):Wa.svalue(s)},GS=function(t){var r=function(s,d){return t().extract(s,d)},o=function(){return t().toString()};return{extract:r,toString:o}},qS=function(t){return Lr(Hr(t,L))},is=function(t){var r=$n(t),o=Je(t,function(d,g){return J(g,function(C){var E;return bt(d,(E={},E[C]=!0,E))},ue(d))},{}),s=function(d,g){var C=F(g)?[]:qS(g),E=Ae(C,function(O){return!lo(o,O)});return E.length===0?r.extract(d,g):jS(d,E)};return{extract:s,toString:r.toString}},$n=function(t){var r=function(s,d){return wp(s,d,t)},o=function(){var s=Ue(t,function(d){return J(d,function(g,C,E,O){return g+" -> "+O.toString()},function(g,C){return"state("+g+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:r,toString:o}},Kf=function(t){var r=function(s,d){var g=Ue(d,function(C,E){return t.extract(s.concat(["["+E+"]"]),C)});return ac.consolidateArr(g)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},Cp=function(t){var r=function(s,d){for(var g=[],C=0,E=t;C<E.length;C++){var O=E[C],$=O.extract(s,d);if($.stype===wa.Value)return $;g.push($)}return ac.consolidateArr(g)},o=function(){return"oneOf("+Ue(t,function(s){return s.toString()}).join(", ")+")"};return{extract:r,toString:o}},Iv=function(t,r){var o=function(g,C){return Kf(oc(t)).extract(g,C)},s=function(g,C){var E=Lr(C),O=o(g,E);return Wa.bind(O,function($){var V=Ue($,function(j){return mh(j,j,Zn(),r)});return $n(V).extract(g,C)})},d=function(){return"setOf("+r.toString()+")"};return{extract:s,toString:d}},ph=function(t,r){var o=es(r),s=function(g,C){return o().extract(g,C)},d=function(){return o().toString()};return{extract:s,toString:d}},s2=de(Kf,$n),kl=ue(yp),Fd=function(t,r){return oc(function(o){var s=typeof o;return t(o)?Wa.svalue(o):Wa.serror("Expected type: "+r+" but got: "+s)})},bh=Fd(H,"number"),yo=Fd(S,"string"),si=Fd(F,"boolean"),Sp=Fd(P,"function"),Lc=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return Lc(t[r])});default:return!1}},_p=oc(function(t){return Lc(t)?Wa.svalue(t):Wa.serror("Expected value to be acceptable for sending via postMessage")}),bb=function(t,r,o,s){var d=En(o,s);return d.fold(function(){return pb(t,o,s)},function(g){return g.extract(t.concat(["branch: "+s]),r)})},yb=function(t,r){var o=function(d,g){var C=En(g,t);return C.fold(function(){return bp(d,t)},function(E){return bb(d,g,r,E)})},s=function(){return"chooseOn("+t+"). Possible values: "+Lr(r)};return{extract:o,toString:s}},A3=function(){return Kf(yp)},yh=function(t){return oc(function(r){return t(r).fold(Wa.serror,Wa.svalue)})},ji=function(t,r){return Iv(function(o){return Wa.fromResult(t(o))},r)},KS=function(t,r,o){var s=r.extract([t],o);return Wa.mapError(s,function(d){return{input:o,errors:d}})},Xa=function(t,r,o){return Wa.toResult(KS(t,r,o))},Al=function(t){return t.fold(function(r){throw new Error(Nv(r))},Ee)},sa=function(t,r,o){return Al(Xa(t,r,o))},Nv=function(t){return`Errors: 
`+Pu(t.errors).join(`
`)+`

Input object: `+pp(t.input)},el=function(t,r){return yb(t,lr(r,$n))},E3=function(t,r){return ph(t,r)},Uo=mh,hu=M,XS=function(t){return yh(function(r){return lt(t,r)?cr.value(r):cr.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},xt=function(t){return Uo(t,t,Zn(),kl())},Iu=function(t,r){return Uo(t,t,Zn(),r)},Xf=function(t){return Iu(t,bh)},Xn=function(t){return Iu(t,yo)},Ts=function(t,r){return Uo(t,t,Zn(),XS(r))},T3=function(t){return Iu(t,si)},tu=function(t){return Iu(t,Sp)},wh=function(t,r){return Uo(t,t,xa(),oc(function(o){return Wa.serror("The field: "+t+" is forbidden. "+r)}))},Hc=function(t,r){return Uo(t,t,Zn(),$n(r))},El=function(t,r){return Uo(t,t,Zn(),s2(r))},Gi=function(t,r){return Uo(t,t,Zn(),Kf(r))},Kr=function(t){return Uo(t,t,xa(),kl())},ic=function(t,r){return Uo(t,t,xa(),r)},Ld=function(t){return ic(t,bh)},Ea=function(t){return ic(t,yo)},zv=function(t){return ic(t,Sp)},us=function(t,r){return ic(t,Kf(r))},ss=function(t,r){return ic(t,$n(r))},O3=function(t,r){return ic(t,is(r))},Ve=function(t,r){return Uo(t,t,hr(r),kl())},gu=function(t,r,o){return Uo(t,t,hr(r),o)},uc=function(t,r){return gu(t,r,bh)},Ch=function(t,r){return gu(t,r,yo)},Os=function(t,r,o){return gu(t,r,XS(o))},Ca=function(t,r){return gu(t,r,si)},Ta=function(t,r){return gu(t,r,Sp)},Nu=function(t,r){return gu(t,r,_p)},Yf=function(t,r,o){return gu(t,r,Kf(o))},l2=function(t,r,o){return gu(t,r,$n(o))},Pn=function(t){var r=t,o=function(){return r},s=function(d){r=d};return{get:o,set:s}},wb=function(t){if(!T(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return gt(t,function(s,d){var g=Lr(s);if(g.length!==1)throw new Error("one and only one name per case");var C=g[0],E=s[C];if(o[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!T(E))throw new Error("case arguments must be an array");r.push(C),o[C]=function(){for(var O=[],$=0;$<arguments.length;$++)O[$]=arguments[$];var V=O.length;if(V!==E.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+E.length+" ("+E+"), got "+V);var j=function(ee){var ae=Lr(ee);if(r.length!==ae.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+ae.join(","));var fe=Dt(r,function(Se){return lt(ae,Se)});if(!fe)throw new Error("Not all branches were specified when using match. Specified: "+ae.join(", ")+`
Required: `+r.join(", "));return ee[C].apply(null,O)};return{fold:function(){for(var ee=[],ae=0;ae<arguments.length;ae++)ee[ae]=arguments[ae];if(ee.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+ee.length);var fe=ee[d];return fe.apply(null,O)},match:j,log:function(ee){console.log(ee,{constructors:r,constructor:C,params:O})}}}}),o},Ds={generate:wb};Ds.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var YS=function(t){var r=[],o=[];return gt(t,function(s){s.fold(function(d){r.push(d)},function(d){o.push(d)})}),{errors:r,values:o}},xp=function(t,r){var o={};return Vr(t,function(s,d){lt(r,d)||(o[d]=s)}),o},kp=function(t,r){var o;return o={},o[t]=r,o},c2=function(t){var r={};return gt(t,function(o){r[o.key]=o.value}),r},f2=function(t,r){return xp(t,r)},Vc=function(t,r){return kp(t,r)},Jf=function(t){return c2(t)},D3=function(t,r){return t.length===0?cr.value(r):cr.value(bt(r,xn.apply(void 0,t)))},v2=function(t){return cr.error(it(t))},R3=function(t,r){var o=YS(t);return o.errors.length>0?v2(o.errors):D3(o.values,r)},JS=function(t){return P(t)?t:pe},Ap=function(t,r,o){for(var s=t.dom,d=JS(o);s.parentNode;){s=s.parentNode;var g=sn.fromDom(s),C=r(g);if(C.isSome())return C;if(d(g))break}return B.none()},Sh=function(t,r,o){var s=r(t),d=JS(o);return s.orThunk(function(){return d(t)?B.none():Ap(t,r,d)})},ZS=function(t,r){return _a(t.element,r.event.target)},Uc={can:ye,abort:pe,run:q},_h=function(t){if(!lo(t,"can")&&!lo(t,"abort")&&!lo(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return ne(ne({},Uc),t)},d2=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return et(t,function(d,g){return d&&r(g).apply(void 0,o)},!0)}},QS=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return et(t,function(d,g){return d||r(g).apply(void 0,o)},!1)}},$3=function(t){return P(t)?{can:ye,abort:pe,run:t}:t},B3=function(t){var r=d2(t,function(d){return d.can}),o=QS(t,function(d){return d.abort}),s=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];gt(t,function(C){C.run.apply(void 0,d)})};return{can:r,abort:o,run:s}},Po=ue,Wc=Po("touchstart"),Tl=Po("touchmove"),Fv=Po("touchend"),e_=Po("touchcancel"),Ol=Po("mousedown"),Hd=Po("mousemove"),m2=Po("mouseout"),h2=Po("mouseup"),Zf=Po("mouseover"),tl=Po("focusin"),Ti=Po("focusout"),Cb=Po("keydown"),g2=Po("keyup"),Vd=Po("input"),xh=Po("change"),kh=Po("click"),M3=Po("transitioncancel"),Ah=Po("transitionend"),p2=Po("transitionstart"),P3=Po("selectstart"),oo=function(t){return ue("alloy."+t)},Sb={tap:oo("tap")},Lv=oo("focus"),b2=oo("blur.post"),y2=oo("paste.post"),nl=oo("receive"),Rs=oo("execute"),Ud=oo("focus.item"),Hv=Sb.tap,_b=oo("longpress"),Ep=oo("sandbox.close"),w2=oo("typeahead.cancel"),Wd=oo("system.init"),xb=oo("system.touchmove"),I3=oo("system.touchend"),C2=oo("system.scroll"),$s=oo("system.resize"),ls=oo("system.attached"),Eh=oo("system.detached"),Dl=oo("system.dismissRequested"),qi=oo("system.repositionRequested"),kb=oo("focusmanager.shifted"),Qf=oo("slotcontainer.visibility"),t_=oo("change.tab"),Oi=oo("dismiss.tab"),S2=oo("highlight"),Ab=oo("dehighlight"),Ur=function(t,r){Rl(t,t.element,r,{})},In=function(t,r,o){Rl(t,t.element,r,o)},Bs=function(t){Ur(t,Rs())},Eb=function(t,r,o){Rl(t,r,o,{})},Rl=function(t,r,o,s){var d=ne({target:r},s);t.getSystem().triggerEvent(o,r,d)},n_=function(t,r,o,s){t.getSystem().triggerEvent(o,r,s.event)},Sa=function(t){return Jf(t)},_2=function(t,r){return{key:t,value:_h({abort:r})}},Tb=function(t,r){return{key:t,value:_h({can:r})}},Ob=function(t){return{key:t,value:_h({run:function(r,o){o.event.prevent()}})}},Rt=function(t,r){return{key:t,value:_h({run:r})}},x2=function(t,r,o){return{key:t,value:_h({run:function(s,d){r.apply(void 0,[s,d].concat(o))}})}},k2=function(t){return function(r){return Rt(t,r)}},Vv=function(t){return function(r){return{key:t,value:_h({run:function(o,s){ZS(o,s)&&r(o,s)}})}}},Tp=function(t,r){return Rt(t,function(o,s){o.getSystem().getByUid(r).each(function(d){n_(d,d.element,t,s)})})},jd=function(t,r,o){var s=r.partUids[o];return Tp(t,s)},Uv=function(t,r){return Rt(t,function(o,s){var d=s.event,g=o.getSystem().getByDom(d.target).getOrThunk(function(){var C=Sh(d.target,function(E){return o.getSystem().getByDom(E).toOptional()},pe);return C.getOr(o)});r(o,g,s)})},Gd=function(t){return Rt(t,function(r,o){o.cut()})},Th=function(t){return Rt(t,function(r,o){o.stop()})},Eo=function(t,r){return Vv(t)(r)},rr=Vv(ls()),Ms=Vv(Eh()),r_=Vv(Wd()),cs=k2(Rs()),A2=function(t,r){var o=r||document,s=o.createElement("div");return s.innerHTML=t,je(sn.fromDom(s))},jc=function(t){return t.dom.innerHTML},ev=function(t,r){var o=Jo(t),s=o.dom,d=sn.fromDom(s.createDocumentFragment()),g=A2(r,s);rc(d,g),Ua(t),Ui(t,d)},tv=function(t){var r=sn.fromTag("div"),o=sn.fromDom(t.dom.cloneNode(!0));return Ui(r,o),jc(r)},Ps=function(t,r){return sn.fromDom(t.dom.cloneNode(r))},Wv=function(t){return Ps(t,!1)},Zo=function(t){if(Id(t))return"#shadow-root";var r=Wv(t);return tv(r)},pu=function(t){return Zo(t)},Gc=function(t,r,o){return _a(r,t.element)&&!_a(r,o)},jv=Sa([Tb(Lv(),function(t,r){var o=r.event,s=o.originator,d=o.target;return Gc(t,s,d)?(console.warn(Lv()+` did not get interpreted by the desired target. 
Originator: `+pu(s)+`
Target: `+pu(d)+`
Check the `+Lv()+" event handlers"),!1):!0})]),Oh=Object.freeze({__proto__:null,events:jv}),qd=0,wn=function(t){var r=new Date,o=r.getTime(),s=Math.floor(Math.random()*1e9);return qd++,t+"_"+s+qd+String(o)},li=ue("alloy-id-"),sc=ue("data-alloy-id"),qc=li(),Op=sc(),a_=function(t,r){var o=wn(qc+t);return Db(r,o),o},Db=function(t,r){Object.defineProperty(t.dom,Op,{value:r,writable:!0})},Gv=function(t){var r=po(t)?t.dom[Op]:null;return B.from(r)},qv=function(t){return wn(t)},Dh=Ee,Dp=function(t){var r=function(d){return"The component must be in a context to execute: "+d+(t?`
`+pu(t().element)+" is not in context.":"")},o=function(d){return function(){throw new Error(r(d))}},s=function(d){return function(){console.warn(r(d))}};return{debugInfo:ue("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:pe}},N3=Dp(),Is=function(t,r,o){var s=o.toString(),d=s.indexOf(")")+1,g=s.indexOf("("),C=s.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:E2(C.slice(0,1).concat(C.slice(3)))}},t},E2=function(t){return Ue(t,function(r){return Wn(r,"/*")?r.substring(0,r.length-2):r})},Kd=function(t,r){var o=t.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),g=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:E2(g)}},t},Kv=function(t,r){var o=r.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),g=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:E2(g.slice(1))}},t},T2=wn("alloy-premade"),Xv=function(t){return Vc(T2,t)},o_=function(t){return En(t,T2)},Ya=function(t){return Kv(function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t.apply(void 0,_e([r.getApis(),r],o,!1))},t)},Di={init:function(){return Ki({readState:ue("No State required")})}},Ki=function(t){return t},i_=function(t,r){var o=Ue(r,function(d){return ss(d.name(),[xt("config"),Ve("state",Di)])}),s=Xa("component.behaviours",$n(o),t.behaviours).fold(function(d){throw new Error(Nv(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},Ee);return{list:r,data:lr(s,function(d){var g=d.map(function(C){return{config:C.config,state:C.state.init(C.config)}});return ue(g)})}},Rb=function(t){return t.list},z3=function(t){return t.data},u_=function(t,r){var o={};return Vr(t,function(s,d){Vr(s,function(g,C){var E=En(o,C).getOr([]);o[C]=E.concat([r(d,g)])})}),o},$l=function(t){return{classes:W(t.classes)?[]:t.classes,attributes:W(t.attributes)?{}:t.attributes,styles:W(t.styles)?{}:t.styles}},F3=function(t,r){return ne(ne({},t),{attributes:ne(ne({},t.attributes),r.attributes),styles:ne(ne({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},Rh=function(t,r,o,s){var d=ne({},r);gt(o,function(V){d[V.name()]=V.exhibit(t,s)});var g=u_(d,function(V,j){return{name:V,modification:j}}),C=function(V){return Je(V,function(j,ee){return ne(ne({},ee.modification),j)},{})},E=Je(g.classes,function(V,j){return j.modification.concat(V)},[]),O=C(g.attributes),$=C(g.styles);return $l({classes:E,attributes:O,styles:$})},$b=function(t,r,o,s){try{var d=sr(o,function(g,C){var E=g[r],O=C[r],$=s.indexOf(E),V=s.indexOf(O);if($===-1)throw new Error("The ordering for "+t+" does not have an entry for "+E+`.
Order specified: `+JSON.stringify(s,null,2));if(V===-1)throw new Error("The ordering for "+t+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(s,null,2));return $<V?-1:V<$?1:0});return cr.value(d)}catch(g){return cr.error([g])}},L3=function(t,r){return{handler:t,purpose:r}},s_=function(t,r){return{cHandler:t,purpose:r}},O2=function(t,r){return s_(ke.apply(void 0,[t.handler].concat(r)),t.purpose)},D2=function(t){return t.cHandler},R2=function(t,r){return{name:t,handler:r}},H3=function(t,r){var o={};return gt(t,function(s){o[s.name()]=s.handlers(r)}),o},Yv=function(t,r,o){var s=ne(ne({},o),H3(r,t));return u_(s,R2)},Jv=function(t,r,o,s){var d=Yv(t,o,s);return l_(d,r)},ga=function(t){var r=$3(t);return function(o,s){for(var d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];var C=[o,s].concat(d);r.abort.apply(void 0,C)?s.stop():r.can.apply(void 0,C)&&r.run.apply(void 0,C)}},Bb=function(t,r){return cr.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ue(r,function(o){return o.name}),null,2)])},lc=function(t,r,o){var s=r[o];return s?$b("Event: "+o,"name",t,s).map(function(d){var g=Ue(d,function(C){return C.handler});return B3(g)}):Bb(o,t)},l_=function(t,r){var o=Si(t,function(s,d){var g=s.length===1?cr.value(s[0].handler):lc(s,r,d);return g.map(function(C){var E=ga(C),O=s.length>1?Ae(r[d],function($){return Sn(s,function(V){return V.name===$})}).join(" > "):s[0].name;return Vc(d,L3(E,O))})});return R3(o,{})},cc,Kc="alloy.base.behaviour",Zv=$n([Uo("dom","dom",Zn(),$n([xt("tag"),Ve("styles",{}),Ve("classes",[]),Ve("attributes",{}),Kr("value"),Kr("innerHtml")])),xt("components"),xt("uid"),Ve("events",{}),Ve("apis",{}),Uo("eventOrder","eventOrder",ao((cc={},cc[Rs()]=["disabling",Kc,"toggling","typeaheadevents"],cc[Lv()]=[Kc,"focusing","keying"],cc[Wd()]=[Kc,"disabling","toggling","representing"],cc[Vd()]=[Kc,"representing","streaming","invalidating"],cc[Eh()]=[Kc,"representing","item-events","tooltipping"],cc[Ol()]=["focusing",Kc,"item-type-events"],cc[Wc()]=["focusing",Kc,"item-type-events"],cc[Zf()]=["item-type-events","tooltipping"],cc[nl()]=["receiving","reflecting","tooltipping"],cc)),kl()),Kr("domModification")]),Mb=function(t){return Xa("custom.definition",Zv,t)},Rp=function(t){return ne(ne({},t.dom),{uid:t.uid,domChildren:Ue(t.components,function(r){return r.element})})},Pb=function(t){return t.domModification.fold(function(){return $l({})},$l)},Ib=function(t){return t.events},Xd=function(t,r){var o=za(t,r);return o===void 0||o===""?[]:o.split(" ")},V3=function(t,r,o){var s=Xd(t,r),d=s.concat([o]);return ur(t,r,d.join(" ")),!0},Nb=function(t,r,o){var s=Ae(Xd(t,r),function(d){return d!==o});return s.length>0?ur(t,r,s.join(" ")):ui(t,r),!1},$h=function(t){return t.dom.classList!==void 0},$p=function(t){return Xd(t,"class")},Bp=function(t,r){return V3(t,"class",r)},$2=function(t,r){return Nb(t,"class",r)},Wo=function(t,r){$h(t)?t.dom.classList.add(r):Bp(t,r)},Yd=function(t){var r=$h(t)?t.dom.classList:$p(t);r.length===0&&ui(t,"class")},Io=function(t,r){if($h(t)){var o=t.dom.classList;o.remove(r)}else $2(t,r);Yd(t)},bu=function(t,r){return $h(t)&&t.dom.classList.contains(r)},Jd=function(t,r){gt(r,function(o){Wo(t,o)})},Ns=function(t,r){gt(r,function(o){Io(t,o)})},zb=function(t,r){return Dt(r,function(o){return bu(t,o)})},Xc=function(t){return t.dom.value},Bh=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},Mh=function(t){var r=sn.fromTag(t.tag);ns(r,t.attributes),Jd(r,t.classes),rs(r,t.styles),t.innerHtml.each(function(s){return ev(r,s)});var o=t.domChildren;if(rc(r,o),t.value.each(function(s){Bh(r,s)}),!t.uid)debugger;return Db(r,t.uid),r},c_=function(t){var r=En(t,"behaviours").getOr({});return Wt(Lr(r),function(o){var s=r[o];return L(s)?[s.me]:[]})},f_=function(t,r){return i_(t,r)},U3=function(t){var r=c_(t);return f_(t,r)},W3=function(t,r,o){var s=Rp(t),d=Pb(t),g={"alloy.base.modification":d},C=r.length>0?Rh(o,g,r,s):d;return F3(s,C)},j3=function(t,r,o){var s={"alloy.base.behaviour":Ib(t)};return Jv(o,t.eventOrder,r,s).getOrDie()},v_=function(t){var r=function(){return Le},o=Pn(N3),s=Al(Mb(t)),d=U3(t),g=Rb(d),C=z3(d),E=W3(s,g,C),O=Mh(E),$=j3(s,g,C),V=Pn(s.components),j=function(ft){o.set(ft)},ee=function(){o.set(Dp(r))},ae=function(){var ft=je(O),ct=Wt(ft,function(Fe){return o.get().getByDom(Fe).fold(function(){return[]},Gn)});V.set(ct)},fe=function(ft){var ct=C,Fe=P(ct[ft.name()])?ct[ft.name()]:function(){throw new Error("Could not find "+ft.name()+" in "+JSON.stringify(t,null,2))};return Fe()},Se=function(ft){return P(C[ft.name()])},ze=function(){return s.apis},we=function(ft){return C[ft]().map(function(ct){return ct.state.readState()}).getOr("not enabled")},Le={uid:t.uid,getSystem:o.get,config:fe,hasConfigured:Se,spec:t,readState:we,getApis:ze,connect:j,disconnect:ee,element:O,syncComponents:ae,components:V.get,events:$};return Le},Fb=function(t){var r=En(t,"components").getOr([]);return Ue(r,La)},Lb=function(t){var r=Dh(t),o=r.events,s=U(r,["events"]),d=Fb(s),g=ne(ne({},s),{events:ne(ne({},Oh),o),components:d});return cr.value(v_(g))},Ri=function(t){var r=sn.fromText(t);return Hb({element:r})},Hb=function(t){var r=sa("external.component",is([xt("element"),Kr("uid")]),t),o=Pn(Dp()),s=function(E){o.set(E)},d=function(){o.set(Dp(function(){return C}))},g=r.uid.getOrThunk(function(){return qv("external")});Db(r.element,g);var C={uid:g,getSystem:o.get,config:B.none,hasConfigured:pe,connect:s,disconnect:d,getApis:function(){return{}},element:r.element,spec:t,readState:ue("No state"),syncComponents:q,components:ue([]),events:{}};return Xv(C)},B2=qv,rl=function(t){return Mr(t,"uid")},La=function(t){return o_(t).getOrThunk(function(){var r=rl(t)?t:ne({uid:B2("")},t);return Lb(r).getOrDie()})},zs=Xv;function Qv(t,r,o,s,d){return t(o,s)?B.some(o):P(d)&&d(o)?B.none():r(o,s,d)}var M2=function(t,r,o){for(var s=t.dom,d=P(o)?o:pe;s.parentNode;){s=s.parentNode;var g=sn.fromDom(s);if(r(g))return B.some(g);if(d(g))break}return B.none()},Vb=function(t,r,o){var s=function(d,g){return g(d)};return Qv(s,M2,t,r,o)},d_=function(t,r){var o=function(d){return r(sn.fromDom(d))},s=pt(t.dom.childNodes,o);return s.map(sn.fromDom)},fr=function(t,r){var o=function(s){for(var d=0;d<s.childNodes.length;d++){var g=sn.fromDom(s.childNodes[d]);if(r(g))return B.some(g);var C=o(s.childNodes[d]);if(C.isSome())return C}return B.none()};return o(t.dom)},Ph=function(t,r,o){return Vb(t,r,o).isSome()},Ub=function(t,r,o){return M2(t,function(s){return ea(s,r)},o)},P2=function(t,r){return d_(t,function(o){return ea(o,r)})},jo=function(t,r){return n2(r,t)},al=function(t,r,o){var s=function(d,g){return ea(d,g)};return Qv(s,Ub,t,r,o)},m_=function(t){var r=Vb(t,function(o){if(!po(o))return!1;var s=za(o,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return r.bind(function(o){var s=za(o,"id"),d=xs(o);return jo(d,'[aria-owns="'+s+'"]')})},Zd=function(){var t=wn("aria-owns"),r=function(s){ur(s,"aria-owns",t)},o=function(s){ui(s,"aria-owns")};return{id:t,link:r,unlink:o}},Ma=function(t,r){return m_(r).exists(function(o){return Qd(t,o)})},Qd=function(t,r){return Ph(r,function(o){return _a(o,t.element)},pe)||Ma(t,r)},Wb="unknown",Ih;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Ih||(Ih={}));var I2=Pn({}),h_=function(t,r){var o=[],s=new Date().getTime();return{logEventCut:function(d,g,C){o.push({outcome:"cut",target:g,purpose:C})},logEventStopped:function(d,g,C){o.push({outcome:"stopped",target:g,purpose:C})},logNoParent:function(d,g,C){o.push({outcome:"no-parent",target:g,purpose:C})},logEventNoHandlers:function(d,g){o.push({outcome:"no-handlers-left",target:g})},logEventResponse:function(d,g,C){o.push({outcome:"response",purpose:C,target:g})},write:function(){var d=new Date().getTime();lt(["mousemove","mouseover","mouseout",Wd()],t)||console.log(t,{event:t,time:d-s,target:r.dom,sequence:Ue(o,function(g){return lt(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+pu(g.target)+")":g.outcome})})}}},Mp=function(t,r,o){var s=En(I2.get(),t).orThunk(function(){var C=Lr(I2.get());return Zr(C,function(E){return t.indexOf(E)>-1?B.some(I2.get()[E]):B.none()})}).getOr(Ih.NORMAL);switch(s){case Ih.NORMAL:return o(G3());case Ih.LOGGING:{var d=h_(t,r),g=o(d);return d.write(),g}case Ih.STOP:return!0}},g_=["alloy/data/Fields","alloy/debugging/Debugging"],nv=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return pt(r,function(o){return o.indexOf("alloy")>0&&!Sn(g_,function(s){return o.indexOf(s)>-1})}).getOr(Wb)}else return Wb},yu={logEventCut:q,logEventStopped:q,logNoParent:q,logEventNoHandlers:q,logEventResponse:q,write:q},N2=function(t,r,o){return Mp(t,r,o)},G3=ue(yu),fc=ue([xt("menu"),xt("selectedMenu")]),rv=ue([xt("item"),xt("selectedItem")]);ue($n(rv().concat(fc())));var jb=ue($n(rv())),q3=Hc("initSize",[xt("numColumns"),xt("numRows")]),K3=function(){return Iu("markers",jb())},em=function(){return Hc("markers",[xt("backgroundMenu")].concat(fc()).concat(rv()))},tm=function(t){return Hc("markers",Ue(t,xt))},Gb=function(t,r,o){return nv(),Uo(r,r,o,yh(function(s){return cr.value(function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return s.apply(void 0,d)})}))},Xr=function(t){return Gb("onHandler",t,hr(q))},Go=function(t){return Gb("onKeyboardHandler",t,hr(B.none))},wu=function(t){return Gb("onHandler",t,Zn())},zu=function(t){return Gb("onKeyboardHandler",t,Zn())},ka=function(t,r){return hu(t,ue(r))},ed=function(t){return hu(t,Ee)},qb=ue(q3),Qo=function(t,r,o,s,d,g,C,E){return E===void 0&&(E=!1),{x:t,y:r,bubble:o,direction:s,placement:d,restriction:g,label:C+"-"+d,alwaysFit:E}},Yc=Ds.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),X3=function(t,r,o,s,d,g,C,E,O){return t.fold(r,o,s,d,g,C,E,O)},Y3=function(t,r,o,s){return t.fold(r,r,s,s,r,s,o,o)},Kb=function(t,r,o,s){return t.fold(r,s,r,s,o,o,r,s)},Xb=Yc.southeast,z2=Yc.southwest,F2=Yc.northeast,nm=Yc.northwest,Pp=Yc.south,L2=Yc.north,H2=Yc.east,Nh=Yc.west,$i=function(t,r,o,s){var d=t+r;return d>s?o:d<o?s:d},fs=function(t,r,o){return Math.min(Math.max(t,r),o)},Ip=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},qo=function(t,r){return pn(["left","right","top","bottom"],function(o){return En(r,o).map(function(s){return Ip(t,s)})})},Yb=function(t,r,o){var s=function(O,$){return r[O].map(function(V){var j=O==="top"||O==="bottom",ee=j?o.top:o.left,ae=O==="left"||O==="top"?Math.max:Math.min,fe=ae(V,$)+ee;return j?fs(fe,t.y,t.bottom):fs(fe,t.x,t.right)}).getOr($)},d=s("left",t.x),g=s("top",t.y),C=s("right",t.right),E=s("bottom",t.bottom);return Vo(d,g,C-d,E-g)},av="layout",V2=function(t){return t.x},U2=function(t,r){return t.x+t.width/2-r.width/2},p_=function(t,r){return t.x+t.width-r.width},W2=function(t,r){return t.y-r.height},Np=function(t){return t.y+t.height},Jb=function(t,r){return t.y+t.height/2-r.height/2},b_=function(t){return t.x+t.width},J3=function(t,r){return t.x-r.width},Xi=function(t,r,o){return Qo(V2(t),Np(t),o.southeast(),Xb(),"southeast",qo(t,{left:1,top:3}),av)},ei=function(t,r,o){return Qo(p_(t,r),Np(t),o.southwest(),z2(),"southwest",qo(t,{right:0,top:3}),av)},Cu=function(t,r,o){return Qo(V2(t),W2(t,r),o.northeast(),F2(),"northeast",qo(t,{left:1,bottom:2}),av)},Su=function(t,r,o){return Qo(p_(t,r),W2(t,r),o.northwest(),nm(),"northwest",qo(t,{right:0,bottom:2}),av)},Fu=function(t,r,o){return Qo(U2(t,r),W2(t,r),o.north(),L2(),"north",qo(t,{bottom:2}),av)},No=function(t,r,o){return Qo(U2(t,r),Np(t),o.south(),Pp(),"south",qo(t,{top:3}),av)},Zb=function(t,r,o){return Qo(b_(t),Jb(t,r),o.east(),H2(),"east",qo(t,{left:0}),av)},Qb=function(t,r,o){return Qo(J3(t,r),Jb(t,r),o.west(),Nh(),"west",qo(t,{right:1}),av)},j2=function(){return[Xi,ei,Cu,Su,No,Fu,Zb,Qb]},rm=function(){return[ei,Xi,Su,Cu,No,Fu,Zb,Qb]},td=function(){return[Cu,Su,Xi,ei,Fu,No]},e0=function(){return[Su,Cu,ei,Xi,Fu,No]},t0=function(){return[Xi,ei,Cu,Su,No,Fu]},n0=function(){return[ei,Xi,Su,Cu,No,Fu]},zh=function(t,r){return r.universal?t:Ae(t,function(o){return lt(r.channels,o)})},Fh=function(t){return Sa([Rt(nl(),function(r,o){var s=t.channels,d=Lr(s),g=o,C=zh(d,g);gt(C,function(E){var O=s[E],$=O.schema,V=sa("channel["+E+`] data
Receiver: `+pu(r.element),$,g.data);O.onReceive(r,V)})})])},y_=Object.freeze({__proto__:null,events:Fh}),Jc=[Iu("channels",ji(cr.value,is([wu("onReceive"),Ve("schema",kl())])))],am=function(t,r,o){return cs(function(s){o(s,t,r)})},ja=function(t,r,o){return r_(function(s,d){o(s,t,r)})},Z3=function(t,r,o,s,d,g){var C=is(t),E=ss(r,[O3("config",t)]);return w_(C,E,r,o,s,d,g)},Q3=function(t,r,o,s,d,g){var C=t,E=ss(r,[ic("config",t)]);return w_(C,E,r,o,s,d,g)},r0=function(t,r,o){var s=function(d){for(var g=[],C=1;C<arguments.length;C++)g[C-1]=arguments[C];var E=[d].concat(g);return d.config({name:ue(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(O){var $=Array.prototype.slice.call(E,1);return r.apply(void 0,[d,O.config,O.state].concat($))})};return Is(s,o,r)},e4=function(t){return{key:t,value:void 0}},w_=function(t,r,o,s,d,g,C){var E=function(j){return lo(j,o)?j[o]():B.none()},O=lr(d,function(j,ee){return r0(o,j,ee)}),$=lr(g,function(j,ee){return Kd(j,ee)}),V=ne(ne(ne({},$),O),{revoke:ke(e4,o),config:function(j){var ee=sa(o+"-config",t,j);return{key:o,value:{config:ee,me:V,configAsRaw:es(function(){return sa(o+"-config",t,j)}),initialConfig:j,state:C}}},schema:ue(r),exhibit:function(j,ee){return Gs(E(j),En(s,"exhibit"),function(ae,fe){return fe(ee,ae.config,ae.state)}).getOrThunk(function(){return $l({})})},name:ue(o),handlers:function(j){return E(j).map(function(ee){var ae=En(s,"events").getOr(function(){return{}});return ae(ee.config,ee.state)}).getOr({})}});return V},Jt=function(t){return Jf(t)},t4=is([xt("fields"),xt("name"),Ve("active",{}),Ve("apis",{}),Ve("state",Di),Ve("extra",{})]),Ko=function(t){var r=sa("Creating behaviour: "+t.name,t4,t);return Z3(r.fields,r.name,r.active,r.apis,r.extra,r.state)},G2=is([xt("branchKey"),xt("branches"),xt("name"),Ve("active",{}),Ve("apis",{}),Ve("state",Di),Ve("extra",{})]),om=function(t){var r=sa("Creating behaviour: "+t.name,G2,t);return Q3(el(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},C_=ue(void 0),nu=Ko({fields:Jc,name:"receiving",active:y_}),zp=function(t,r){return $l({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},a0=Object.freeze({__proto__:null,exhibit:zp}),Fp=function(){return sn.fromDom(document)},vc=function(t){return t.dom.focus()},Lp=function(t){return t.dom.blur()},Hp=function(t){var r=xs(t).dom;return t.dom===r.activeElement},_u=function(t){return t===void 0&&(t=Fp()),B.from(t.dom.activeElement).map(sn.fromDom)},dc=function(t){return _u(xs(t)).filter(function(r){return t.dom.contains(r.dom)})},S_=function(t,r){var o=xs(r),s=_u(o).bind(function(g){var C=function(E){return _a(g,E)};return C(r)?B.some(r):fr(r,C)}),d=t(r);return s.each(function(g){_u(o).filter(function(C){return _a(C,g)}).fold(function(){vc(g)},q)}),d},ru=function(t,r,o,s,d){var g=function(C){return C+"px"};return{position:t,left:r.map(g),top:o.map(g),right:s.map(g),bottom:d.map(g)}},Zc=function(t){return ne(ne({},t),{position:B.some(t.position)})},nd=function(t,r){no(t,Zc(r))},Vp=Ds.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),dt=function(t,r,o,s,d,g){var C=r.rect,E=C.x-o,O=C.y-s,$=C.width,V=C.height,j=d-(E+$),ee=g-(O+V),ae=B.some(E),fe=B.some(O),Se=B.some(j),ze=B.some(ee),we=B.none();return X3(r.direction,function(){return ru(t,ae,fe,we,we)},function(){return ru(t,we,fe,Se,we)},function(){return ru(t,ae,we,we,ze)},function(){return ru(t,we,we,Se,ze)},function(){return ru(t,ae,fe,we,we)},function(){return ru(t,ae,we,we,ze)},function(){return ru(t,ae,fe,we,we)},function(){return ru(t,we,fe,Se,we)})},ov=function(t,r){return t.fold(function(){var o=r.rect;return ru("absolute",B.some(o.x),B.some(o.y),B.none(),B.none())},function(o,s,d,g){return dt("absolute",r,o,s,d,g)},function(o,s,d,g){return dt("fixed",r,o,s,d,g)})},Lh=function(t,r){var o=ke(Wi,r),s=t.fold(o,o,function(){var C=os();return Wi(r).translate(-C.left,-C.top)}),d=du(r),g=as(r);return Vo(s.left,s.top,d,g)},n4=function(t,r){return r.fold(function(){return t.fold(Ai,Ai,Vo)},function(o){return t.fold(o,o,function(){var s=o(),d=o0(t,s.x,s.y);return Vo(d.left,d.top,s.width,s.height)})})},o0=function(t,r,o){var s=ya(r,o),d=function(){var g=os();return s.translate(-g.left,-g.top)};return t.fold(ue(s),ue(s),d)},Bl=function(t,r,o,s){return t.fold(r,o,s)};Vp.none;var i0=Vp.relative,q2=Vp.fixed,K2=function(t,r){return{anchorBox:t,origin:r}},u0=function(t,r){return K2(t,r)},X2="data-alloy-placement",Y2=function(t,r){ur(t,X2,r)},J2=function(t){return Ka(t,X2)},Z2=function(t){return ui(t,X2)},im=Ds.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),__=function(t,r){var o=r.x,s=r.y,d=r.right,g=r.bottom,C=t.x,E=t.y,O=t.right,$=t.bottom,V=t.width,j=t.height,ee=C>=o&&C<=d,ae=E>=s&&E<=g,fe=ee&&ae,Se=O<=d&&O>=o,ze=$<=g&&$>=s,we=Se&&ze,Le=Math.min(V,C>=o?d-C:O-o),ft=Math.min(j,E>=s?g-E:$-s);return{originInBounds:fe,sizeInBounds:we,visibleW:Le,visibleH:ft}},r4=function(t,r){var o=r.x,s=r.y,d=r.right,g=r.bottom,C=t.x,E=t.y,O=t.width,$=t.height,V=Math.max(o,d-O),j=Math.max(s,g-$),ee=fs(C,o,V),ae=fs(E,s,j),fe=Math.min(ee+O,d)-ee,Se=Math.min(ae+$,g)-ae;return Vo(ee,ae,fe,Se)},a4=function(t,r,o){var s=ue(r.bottom-o.y),d=ue(o.bottom-r.y),g=Y3(t,d,d,s),C=ue(r.right-o.x),E=ue(o.right-r.x),O=Kb(t,E,E,C);return{maxWidth:O,maxHeight:g}},Hh=function(t,r,o,s){var d=t.bubble,g=d.offset,C=Yb(s,t.restriction,g),E=t.x+g.left,O=t.y+g.top,$=Vo(E,O,r,o),V=__($,C),j=V.originInBounds,ee=V.sizeInBounds,ae=V.visibleW,fe=V.visibleH,Se=j&&ee,ze=Se?$:r4($,C),we=ze.width>0&&ze.height>0,Le=a4(t.direction,ze,s),ft=Le.maxWidth,ct=Le.maxHeight,Fe={rect:ze,maxHeight:ct,maxWidth:ft,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:O};return Se||t.alwaysFit?im.fit(Fe):im.nofit(Fe,ae,fe,we)},Vh=function(t,r,o,s,d,g){var C=s.width,E=s.height,O=function(V,j,ee,ae,fe){var Se=V(o,s,d,t,g),ze=Hh(Se,C,E,g);return ze.fold(ue(ze),function(we,Le,ft,ct){var Fe=fe===ct?ft>ae||Le>ee:!fe&&ct;return Fe?ze:im.nofit(j,ee,ae,fe)})},$=et(r,function(V,j){var ee=ke(O,j);return V.fold(ue(V),ee)},im.nofit({rect:o,maxHeight:s.height,maxWidth:s.width,direction:Xb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return $.fold(Ee,Ee)},s0=function(t){var r=Pn(B.none()),o=function(){return r.get().each(t)},s=function(){o(),r.set(B.none())},d=function(){return r.get().isSome()},g=function(){return r.get()},C=function(E){o(),r.set(B.some(E))};return{clear:s,isSet:d,get:g,set:C}},Q2=function(){return s0(function(t){return t.destroy()})},Uh=function(){return s0(function(t){return t.unbind()})},ew=function(){var t=Q2(),r=function(o){return t.get().each(o)};return ne(ne({},t),{run:r})},mo=function(){var t=s0(q),r=function(o){return t.get().each(o)};return ne(ne({},t),{on:r})},Up=ye,wo=function(t,r,o){return hb(t,r,Up,o)},l0=function(t,r,o){return Lf(t,r,Up,o)},um=Qs,tw=["top","bottom","right","left"],Wp="data-alloy-transition-timer",nw=function(t,r){return zb(t,r.classes)},x_=function(t,r,o){return o.exists(function(s){var d=t.mode;return d==="all"?!0:s[d]!==r[d]})},o4=function(t,r){var o=function(s){return parseFloat(s).toFixed(3)};return Ju(r,function(s,d){var g=t[d].map(o),C=s.map(o);return!Zu(g,C)}).isSome()},k_=function(t){var r=function(g){var C=ro(t,g),E=S(C)?C.split(/\s*,\s*/):[];return Ae(E,$c)},o=function(g){if(S(g)&&/^[\d.]+/.test(g)){var C=parseFloat(g);return Wn(g,"ms")?C:C*1e3}else return 0},s=r("transition-delay"),d=r("transition-duration");return et(d,function(g,C,E){var O=o(s[E])+o(C);return Math.max(g,O)},0)},i4=function(t,r){var o=Uh(),s=Uh(),d,g=function(V){var j,ee=(j=V.raw.pseudoElement)!==null&&j!==void 0?j:"";return _a(V.target,t)&&th(ee)&&lt(tw,V.raw.propertyName)},C=function(V){if(I(V)||g(V)){o.clear(),s.clear();var j=V==null?void 0:V.raw.type;(I(j)||j===Ah())&&(clearTimeout(d),ui(t,Wp),Ns(t,r.classes))}},E=function(){o.set(wo(t,Ah(),C)),s.set(wo(t,M3(),C))};if("ontransitionstart"in t.dom)var O=wo(t,p2(),function(V){g(V)&&(O.unbind(),E())});else E();var $=k_(t);requestAnimationFrame(function(){d=setTimeout(C,$+17),ur(t,Wp,d)})},c0=function(t,r){Jd(t,r.classes),Ka(t,Wp).each(function(o){clearTimeout(parseInt(o,10)),ui(t,Wp)}),i4(t,r)},jp=function(t,r,o,s,d,g){var C=x_(s,d,g);if(C||nw(t,s)){jn(t,"position",o.position);var E=Lh(r,t),O=ov(r,ne(ne({},d),{rect:E})),$=pn(tw,function(V){return O[V]});o4(o,$)&&(no(t,$),C&&c0(t,s),Ba(t))}else Ns(t,s.classes)},u4=function(t){return{width:du(t),height:as(t)}},A_=function(t,r,o,s){qr(r,"max-height"),qr(r,"max-width");var d=u4(r);return Vh(r,s.preference,t,d,o,s.bounds)},rw=function(t,r){var o=r.classes;Ns(t,o.off),Jd(t,o.on)},s4=function(t,r,o){var s=o.maxHeightFunction;s(t,r.maxHeight)},l4=function(t,r,o){var s=o.maxWidthFunction;s(t,r.maxWidth)},f0=function(t,r,o){var s=ov(o.origin,r);o.transition.each(function(d){jp(t,o.origin,s,d,r,o.lastPlacement)}),nd(t,s)},aw=function(t,r){Y2(t,r.placement)},Bi=function(t,r){mb(t,Math.floor(r))},Wh=ue(function(t,r){Bi(t,r),rs(t,{"overflow-x":"hidden","overflow-y":"auto"})}),jh=ue(function(t,r){Bi(t,r)}),E_=function(t,r,o){return t[r]===void 0?o:t[r]},c4=function(t,r,o,s,d,g,C,E){var O=E_(C,"maxHeightFunction",Wh()),$=E_(C,"maxWidthFunction",q),V=t.anchorBox,j=t.origin,ee={bounds:n4(j,g),origin:j,preference:s,maxHeightFunction:O,maxWidthFunction:$,lastPlacement:d,transition:E};return Gp(V,r,o,ee)},Gp=function(t,r,o,s){var d=A_(t,r,o,s);return f0(r,d,s),aw(r,d),rw(r,d),s4(r,d,s),l4(r,d,s),{layout:d.layout,placement:d.placement}},qp=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],sm=function(t,r,o,s){s===void 0&&(s=1);var d=t*s,g=r*s,C=function(O){return En(o,O).getOr([])},E=function(O,$,V){var j=rn(qp,V);return{offset:ya(O,$),classesOn:Wt(V,C),classesOff:Wt(j,C)}};return{southeast:function(){return E(-t,r,["top","alignLeft"])},southwest:function(){return E(t,r,["top","alignRight"])},south:function(){return E(-t/2,r,["top","alignCentre"])},northeast:function(){return E(-t,-r,["bottom","alignLeft"])},northwest:function(){return E(t,-r,["bottom","alignRight"])},north:function(){return E(-t/2,-r,["bottom","alignCentre"])},east:function(){return E(t,-r/2,["valignCentre","left"])},west:function(){return E(-t,-r/2,["valignCentre","right"])},insetNortheast:function(){return E(d,g,["top","alignLeft","inset"])},insetNorthwest:function(){return E(-d,g,["top","alignRight","inset"])},insetNorth:function(){return E(-d/2,g,["top","alignCentre","inset"])},insetSoutheast:function(){return E(d,-g,["bottom","alignLeft","inset"])},insetSouthwest:function(){return E(-d,-g,["bottom","alignRight","inset"])},insetSouth:function(){return E(-d/2,-g,["bottom","alignCentre","inset"])},insetEast:function(){return E(-d,-g/2,["valignCentre","right","inset"])},insetWest:function(){return E(d,-g/2,["valignCentre","left","inset"])}}},v0=function(){return sm(0,0,{})},Kp=Ee,ow=function(t,r){return function(o){return f4(o)==="rtl"?r:t}},f4=function(t){return ro(t,"direction")==="rtl"?"rtl":"ltr"},Qc;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Qc||(Qc={}));var d0="data-alloy-vertical-dir",v4=function(t){return Ph(t,function(r){return po(r)&&za(r,"data-alloy-vertical-dir")===Qc.BottomToTop})},rd=function(){return ss("layouts",[xt("onLtr"),xt("onRtl"),Kr("onBottomLtr"),Kr("onBottomRtl")])},ad=function(t,r,o,s,d,g,C){var E=C.map(v4).getOr(!1),O=r.layouts.map(function(ae){return ae.onLtr(t)}),$=r.layouts.map(function(ae){return ae.onRtl(t)}),V=E?r.layouts.bind(function(ae){return ae.onBottomLtr.map(function(fe){return fe(t)})}).or(O).getOr(d):O.getOr(o),j=E?r.layouts.bind(function(ae){return ae.onBottomRtl.map(function(fe){return fe(t)})}).or($).getOr(g):$.getOr(s),ee=ow(V,j);return ee(t)},d4=function(t,r,o){var s=r.hotspot,d=Lh(o,s.element),g=ad(t.element,r,t0(),n0(),td(),e0(),B.some(r.hotspot.element));return B.some(Kp({anchorBox:d,bubble:r.bubble.getOr(v0()),overrides:r.overrides,layouts:g,placer:B.none()}))},m0=[xt("hotspot"),Kr("bubble"),Ve("overrides",{}),rd(),ka("placement",d4)],h0=function(t,r,o){var s=o0(o,r.x,r.y),d=Vo(s.left,s.top,r.width,r.height),g=ad(t.element,r,j2(),rm(),j2(),rm(),B.none());return B.some(Kp({anchorBox:d,bubble:r.bubble,overrides:r.overrides,layouts:g,placer:B.none()}))},g0=[xt("x"),xt("y"),Ve("height",0),Ve("width",0),Ve("bubble",v0()),Ve("overrides",{}),rd(),ka("placement",h0)],ci=Ds.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),T_=function(t){return t.fold(Ee,function(r,o,s){return r.translate(-o,-s)})},iw=function(t){return t.fold(Ee,Ee)},O_=function(t){return et(t,function(r,o){return r.translate(o.left,o.top)},ya(0,0))},D_=function(t){var r=Ue(t,T_);return O_(r)},mc=function(t){var r=Ue(t,iw);return O_(r)},iv=ci.screen,R_=ci.absolute,$_=function(t,r,o){var s=sh(o.root).dom,d=function(g){var C=Jo(g),E=Jo(t.element);return _a(C,E)};return B.from(s.frameElement).map(sn.fromDom).filter(d).map(vu)},uw=function(t,r,o){var s=Jo(t.element),d=os(s),g=$_(t,r,o).getOr(d);return R_(g,d.left,d.top)},p0=function(t,r,o,s){var d=iv(ya(t,r));return B.some(Es(d,o,s))},B_=function(t,r,o,s,d){return t.map(function(g){var C=[r,g.point],E=Bl(s,function(){return mc(C)},function(){return mc(C)},function(){return D_(C)}),O=bo(E.left,E.top,g.width,g.height),$=o.showAbove?td():t0(),V=o.showAbove?e0():n0(),j=ad(d,o,$,V,$,V,B.none());return Kp({anchorBox:O,bubble:o.bubble.getOr(v0()),overrides:o.overrides,layouts:j,placer:B.none()})})},Gh=function(t,r,o){var s=uw(t,o,r);return r.node.filter(fu).bind(function(d){var g=d.dom.getBoundingClientRect(),C=p0(g.left,g.top,g.width,g.height),E=r.node.getOr(t.element);return B_(C,s,r,o,E)})},m4=[xt("node"),xt("root"),Kr("bubble"),rd(),Ve("overrides",{}),Ve("showAbove",!1),ka("placement",Gh)],Xp="\uFEFF",h4="",qh=function(t,r,o,s){return{start:t,soffset:r,finish:o,foffset:s}},lm={create:qh},sw=Ds.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),M_=function(t,r,o,s){return t.fold(r,o,s)},g4=function(t){return t.fold(Ee,Ee,Ee)},P_=sw.before,I_=sw.on,lw=sw.after,p4={before:P_,on:I_,after:lw,cata:M_,getStart:g4},b0=Ds.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),b4=function(t){return b0.exact(t.start,t.soffset,t.finish,t.foffset)},Yp=function(t){return t.match({domRange:function(r){return sn.fromDom(r.startContainer)},relative:function(r,o){return p4.getStart(r)},exact:function(r,o,s,d){return r}})},y4=b0.domRange,w4=b0.relative,C4=b0.exact,y0=function(t){var r=Yp(t);return sh(r)},S4=lm.create,Kh={domRange:y4,relative:w4,exact:C4,exactFromRange:b4,getWin:y0,range:S4},N_=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,s){t.setStart(o.dom,s)},function(o){t.setStartAfter(o.dom)})},_4=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,s){t.setEnd(o.dom,s)},function(o){t.setEndAfter(o.dom)})},cw=function(t,r,o){var s=t.document.createRange();return N_(s,r),_4(s,o),s},z_=function(t,r,o,s,d){var g=t.document.createRange();return g.setStart(r.dom,o),g.setEnd(s.dom,d),g},fw=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},F_=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?B.some(o).map(fw):B.none()},L_=function(t){var r=t.getBoundingClientRect();return r.width>0||r.height>0?B.some(r).map(fw):B.none()},Xh=Ds.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),vw=function(t,r,o){return r(sn.fromDom(o.startContainer),o.startOffset,sn.fromDom(o.endContainer),o.endOffset)},dw=function(t,r){return r.match({domRange:function(o){return{ltr:ue(o),rtl:B.none}},relative:function(o,s){return{ltr:es(function(){return cw(t,o,s)}),rtl:es(function(){return B.some(cw(t,s,o))})}},exact:function(o,s,d,g){return{ltr:es(function(){return z_(t,o,s,d,g)}),rtl:es(function(){return B.some(z_(t,d,g,o,s))})}}})},x4=function(t,r){var o=r.ltr();if(o.collapsed){var s=r.rtl().filter(function(d){return d.collapsed===!1});return s.map(function(d){return Xh.rtl(sn.fromDom(d.endContainer),d.endOffset,sn.fromDom(d.startContainer),d.startOffset)}).getOrThunk(function(){return vw(t,Xh.ltr,o)})}else return vw(t,Xh.ltr,o)},k4=function(t,r){var o=dw(t,r);return x4(t,o)},mw=function(t,r){var o=k4(t,r);return o.match({ltr:function(s,d,g,C){var E=t.document.createRange();return E.setStart(s.dom,d),E.setEnd(g.dom,C),E},rtl:function(s,d,g,C){var E=t.document.createRange();return E.setStart(g.dom,C),E.setEnd(s.dom,d),E}})};Xh.ltr,Xh.rtl;var A4=function(t,r){var o=function(g){if(!t(g))throw new Error("Can only get "+r+" value of a "+r+" node");return s(g).getOr("")},s=function(g){return t(g)?B.from(g.dom.nodeValue):B.none()},d=function(g,C){if(!t(g))throw new Error("Can only set raw "+r+" value of a "+r+" node");g.dom.nodeValue=C};return{get:o,getOption:s,set:d}},H_=A4(Du,"text"),od=function(t){return H_.get(t)},Yh=function(t){return H_.getOption(t)},V_=function(t){return Qu(t)==="img"?1:Yh(t).fold(function(){return je(t).length},function(r){return r.length})},E4=function(t){return Yh(t).filter(function(r){return r.trim().length!==0||r.indexOf(h4)>-1}).isSome()},U_=["img","br"],T4=function(t){var r=E4(t);return r||lt(U_,Qu(t))},hw=function(t){return Jh(t,T4)},Jh=function(t,r){var o=function(s){for(var d=je(s),g=d.length-1;g>=0;g--){var C=d[g];if(r(C))return B.some(C);var E=o(C);if(E.isSome())return E}return B.none()};return o(t)},au=function(t,r){return uh(r,t)},gw=function(t,r,o,s){var d=Jo(t),g=d.dom.createRange();return g.setStart(t.dom,r),g.setEnd(o.dom,s),g},Zh=function(t,r,o,s){var d=gw(t,r,o,s),g=_a(t,o)&&r===s;return d.collapsed&&!g},cm=function(t){return B.from(t.getSelection())},w0=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return B.some(lm.create(sn.fromDom(r.startContainer),r.startOffset,sn.fromDom(o.endContainer),o.endOffset))}else return B.none()},O4=function(t){if(t.anchorNode===null||t.focusNode===null)return w0(t);var r=sn.fromDom(t.anchorNode),o=sn.fromDom(t.focusNode);return Zh(r,t.anchorOffset,o,t.focusOffset)?B.some(lm.create(r,t.anchorOffset,o,t.focusOffset)):w0(t)},W_=function(t){return cm(t).filter(function(r){return r.rangeCount>0}).bind(O4)},pw=function(t,r){var o=mw(t,r);return F_(o)},Lu=function(t,r){var o=mw(t,r);return L_(o)},Jp=function(t,r){return{element:t,offset:r}},D4=function(t,r){var o=je(t);if(o.length===0)return Jp(t,r);if(r<o.length)return Jp(o[r],0);var s=o[o.length-1],d=Du(s)?od(s).length:je(s).length;return Jp(s,d)},fm=function(t,r){return Du(t)?Jp(t,r):D4(t,r)},id=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return W_(t)}});return o().map(function(s){var d=fm(s.start,s.soffset),g=fm(s.finish,s.foffset);return Kh.range(d.element,d.offset,g.element,g.offset)})},Qh=function(t,r,o){var s=sh(r.root).dom,d=uw(t,o,r),g=id(s,r).bind(function(O){var $=Lu(s,Kh.exactFromRange(O)).orThunk(function(){var V=sn.fromText(Xp);vo(O.start,V);var j=pw(s,Kh.exact(V,0,V,1));return Bu(V),j});return $.bind(function(V){return p0(V.left,V.top,V.width,V.height)})}),C=id(s,r).bind(function(O){return po(O.start)?B.some(O.start):sb(O.start)}),E=C.getOr(t.element);return B_(g,d,r,o,E)},ud=[Kr("getSelection"),xt("root"),Kr("bubble"),rd(),Ve("overrides",{}),Ve("showAbove",!1),ka("placement",Qh)],hc="link-layout",gc=function(t){return t.x+t.width},C0=function(t,r){return t.x-r.width},S0=function(t,r){return t.y-r.height+t.height},bw=function(t){return t.y},eg=function(t,r,o){return Qo(gc(t),bw(t),o.southeast(),Xb(),"southeast",qo(t,{left:0,top:2}),hc)},tg=function(t,r,o){return Qo(C0(t,r),bw(t),o.southwest(),z2(),"southwest",qo(t,{right:1,top:2}),hc)},ng=function(t,r,o){return Qo(gc(t),S0(t,r),o.northeast(),F2(),"northeast",qo(t,{left:0,bottom:3}),hc)},Yi=function(t,r,o){return Qo(C0(t,r),S0(t,r),o.northwest(),nm(),"northwest",qo(t,{right:1,bottom:3}),hc)},rg=function(){return[eg,tg,ng,Yi]},ag=function(){return[tg,eg,Yi,ng]},_0=function(t,r,o){var s=Lh(o,r.item.element),d=ad(t.element,r,rg(),ag(),rg(),ag(),B.none());return B.some(Kp({anchorBox:s,bubble:v0(),overrides:r.overrides,layouts:d,placer:B.none()}))},R4=[xt("item"),rd(),Ve("overrides",{}),ka("placement",_0)],yw=el("type",{selection:ud,node:m4,hotspot:m0,submenu:R4,makeshift:g0}),x0=[Gi("classes",yo),Os("mode","all",["all","layout","placement"])],Mi=[Ve("useFixed",pe),Kr("getBounds")],$4=[Iu("anchor",yw),ss("transition",x0)],ef=function(){var t=document.documentElement;return q2(0,0,t.clientWidth,t.clientHeight)},k0=function(t){var r=vu(t.element),o=t.element.dom.getBoundingClientRect();return i0(r.left,r.top,o.width,o.height)},ww=function(t,r,o,s,d,g,C){var E=u0(o.anchorBox,r);return c4(E,d.element,o.bubble,o.layouts,g,s,o.overrides,C)},og=function(t,r,o,s,d){Cw(t,r,o,s,d,B.none())},Cw=function(t,r,o,s,d,g){var C=g.map(Ao);return Zp(t,r,o,s,d,C)},Zp=function(t,r,o,s,d,g){var C=sa("placement.info",$n($4),d),E=C.anchor,O=s.element,$=o.get(s.uid);S_(function(){jn(O,"position","fixed");var V=ko(O,"visibility");jn(O,"visibility","hidden");var j=r.useFixed()?ef():k0(t),ee=E.placement,ae=g.map(ue).or(r.getBounds);ee(t,E,j).each(function(fe){var Se=fe.placer.getOr(ww),ze=Se(t,j,fe,ae,s,$,C.transition);o.set(s.uid,ze)}),V.fold(function(){qr(O,"visibility")},function(fe){jn(O,"visibility",fe)}),ko(O,"left").isNone()&&ko(O,"top").isNone()&&ko(O,"right").isNone()&&ko(O,"bottom").isNone()&&lu(ko(O,"position"),"fixed")&&qr(O,"position")},O)},B4=function(t,r,o){return r.useFixed()?"fixed":"absolute"},j_=function(t,r,o,s){var d=s.element;gt(["position","left","right","top","bottom"],function(g){return qr(d,g)}),Z2(d),o.clear(s.uid)},G_=Object.freeze({__proto__:null,position:og,positionWithin:Cw,positionWithinBounds:Zp,getMode:B4,reset:j_}),M4=function(){var t={},r=function(d,g){t[d]=g},o=function(d){return En(t,d)},s=function(d){L(d)?delete t[d]:t={}};return Ki({readState:function(){return t},clear:s,set:r,get:o})},ig=Object.freeze({__proto__:null,init:M4}),ho=Ko({fields:Mi,name:"positioning",active:a0,apis:G_,state:ig}),A0=function(t){Ur(t,Eh());var r=t.components();gt(r,A0)},E0=function(t){var r=t.components();gt(r,E0),Ur(t,ls())},Sw=function(t,r){Ui(t.element,r.element)},q_=function(t){gt(t.components(),function(r){return Bu(r.element)}),Ua(t.element),t.syncComponents()},_w=function(t,r){var o=t.components();q_(t);var s=rn(o,r);gt(s,function(d){A0(d),t.getSystem().removeFromWorld(d)}),gt(r,function(d){d.getSystem().isConnected()?Sw(t,d):(t.getSystem().addToWorld(d),Sw(t,d),fu(t.element)&&E0(d)),t.syncComponents()})},vm=function(t,r){T0(t,r,Ui)},T0=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),fu(t.element)&&E0(r),t.syncComponents()},Hu=function(t){A0(t),Bu(t.element),t.getSystem().removeFromWorld(t)},pc=function(t){var r=_o(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});Hu(t),r.each(function(o){o.syncComponents()})},O0=function(t){var r=t.components();gt(r,Hu),Ua(t.element),t.syncComponents()},uv=function(t,r){bc(t,r,Ui)},Ml=function(t,r){bc(t,r,Vf)},bc=function(t,r,o){o(t,r.element);var s=je(r.element);gt(s,function(d){r.getByDom(d).each(E0)})},ou=function(t){var r=je(t.element);gt(r,function(o){t.getByDom(o).each(A0)}),Bu(t.element)},ol=function(t,r,o,s){o.get().each(function(C){O0(t)});var d=r.getAttachPoint(t);vm(d,t);var g=t.getSystem().build(s);return vm(t,g),o.set(g),g},ug=function(t,r,o,s){var d=ol(t,r,o,s);return r.onOpen(t,d),d},tf=function(t,r,o,s){return o.get().map(function(){return ol(t,r,o,s)})},dm=function(t,r,o,s,d){Z_(t,r),ug(t,r,o,s),d(),Q_(t,r)},K_=function(t,r,o){o.get().each(function(s){O0(t),pc(t),r.onClose(t,s),o.clear()})},X_=function(t,r,o){return o.isOpen()},P4=function(t,r,o,s){return X_(t,r,o)&&o.get().exists(function(d){return r.isPartOf(t,d,s)})},I4=function(t,r,o){return o.get()},Y_=function(t,r,o,s){ko(t.element,r).fold(function(){ui(t.element,o)},function(d){ur(t.element,o,d)}),jn(t.element,r,s)},J_=function(t,r,o){Ka(t.element,o).fold(function(){return qr(t.element,r)},function(s){return jn(t.element,r,s)})},Z_=function(t,r,o){var s=r.getAttachPoint(t);jn(t.element,"position",ho.getMode(s)),Y_(t,"visibility",r.cloakVisibilityAttr,"hidden")},N4=function(t){return Sn(["top","left","right","bottom"],function(r){return ko(t,r).isSome()})},Q_=function(t,r,o){N4(t.element)||qr(t.element,"position"),J_(t,"visibility",r.cloakVisibilityAttr)},z4=Object.freeze({__proto__:null,cloak:Z_,decloak:Q_,open:ug,openWhileCloaked:dm,close:K_,isOpen:X_,isPartOf:P4,getState:I4,setContent:tf}),ex=function(t,r){return Sa([Rt(Ep(),function(o,s){K_(o,t,r)})])},tx=Object.freeze({__proto__:null,events:ex}),xw=[Xr("onOpen"),Xr("onClose"),xt("isPartOf"),xt("getAttachPoint"),Ve("cloakVisibilityAttr","data-precloak-visibility")],nx=function(){var t=mo(),r=ue("not-implemented");return Ki({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},F4=Object.freeze({__proto__:null,init:nx}),Dr=Ko({fields:xw,name:"sandboxing",active:tx,apis:z4,state:F4}),mm=ue("dismiss.popups"),sg=ue("reposition.popups"),kw=ue("mouse.released"),L4=is([Ve("isExtraPart",pe),ss("fireEventInstead",[Ve("event",Dl())])]),Vu=function(t){var r,o=sa("Dismissal",L4,t);return r={},r[mm()]={schema:is([xt("target")]),onReceive:function(s,d){if(Dr.isOpen(s)){var g=Dr.isPartOf(s,d.target)||o.isExtraPart(s,d.target);g||o.fireEventInstead.fold(function(){return Dr.close(s)},function(C){return Ur(s,C.event)})}}},r},H4=is([ss("fireEventInstead",[Ve("event",qi())]),tu("doReposition")]),hm=function(t){var r,o=sa("Reposition",H4,t);return r={},r[sg()]={onReceive:function(s){Dr.isOpen(s)&&o.fireEventInstead.fold(function(){return o.doReposition(s)},function(d){return Ur(s,d.event)})}},r},sd=function(t,r,o){r.store.manager.onLoad(t,r,o)},D0=function(t,r,o){r.store.manager.onUnload(t,r,o)},R0=function(t,r,o,s){r.store.manager.setValue(t,r,o,s)},V4=function(t,r,o){return r.store.manager.getValue(t,r,o)},rx=function(t,r,o){return o},$0=Object.freeze({__proto__:null,onLoad:sd,onUnload:D0,setValue:R0,getValue:V4,getState:rx}),Aw=function(t,r){var o=t.resetOnDom?[rr(function(s,d){sd(s,t,r)}),Ms(function(s,d){D0(s,t,r)})]:[ja(t,r,sd)];return Sa(o)},lg=Object.freeze({__proto__:null,events:Aw}),B0=function(){var t=Pn(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},s=function(){t.set(null)};return Ki({set:t.set,get:t.get,isNotSet:o,clear:s,readState:r})},U4=function(){var t=q;return Ki({readState:t})},nf=function(){var t=Pn({}),r=Pn({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},s=function(){t.set({}),r.set({})},d=function(C){return En(t.get(),C).orThunk(function(){return En(r.get(),C)})},g=function(C){var E=t.get(),O=r.get(),$={},V={};gt(C,function(j){$[j.value]=j,En(j,"meta").each(function(ee){En(ee,"text").each(function(ae){V[ae]=j})})}),t.set(ne(ne({},E),$)),r.set(ne(ne({},O),V))};return Ki({readState:o,lookup:d,update:g,clear:s})},Ew=function(t){return t.store.manager.state(t)},Tw=Object.freeze({__proto__:null,memory:B0,dataset:nf,manual:U4,init:Ew}),cg=function(t,r,o,s){var d=r.store;o.update([s]),d.setValue(t,s),r.onSetValue(t,s)},Ow=function(t,r,o){var s=r.store,d=s.getDataKey(t);return o.lookup(d).getOrThunk(function(){return s.getFallbackEntry(d)})},Qp=function(t,r,o){var s=r.store;s.initialValue.each(function(d){cg(t,r,o,d)})},ax=function(t,r,o){o.clear()},W4=[Kr("initialValue"),xt("getFallbackEntry"),xt("getDataKey"),xt("setValue"),ka("manager",{setValue:cg,getValue:Ow,onLoad:Qp,onUnload:ax,state:nf})],rf=function(t,r,o){return r.store.getValue(t)},vs=function(t,r,o,s){r.store.setValue(t,s),r.onSetValue(t,s)},Pi=function(t,r,o){r.store.initialValue.each(function(s){r.store.setValue(t,s)})},j4=[xt("getValue"),Ve("setValue",q),Kr("initialValue"),ka("manager",{setValue:vs,getValue:rf,onLoad:Pi,onUnload:q,state:Di.init})],Dw=function(t,r,o,s){o.set(s),r.onSetValue(t,s)},fg=function(t,r,o){return o.get()},Rw=function(t,r,o){r.store.initialValue.each(function(s){o.isNotSet()&&o.set(s)})},e1=function(t,r,o){o.clear()},$w=[Kr("initialValue"),ka("manager",{setValue:Dw,getValue:fg,onLoad:Rw,onUnload:e1,state:B0})],G4=[gu("store",{mode:"memory"},el("mode",{memory:$w,manual:j4,dataset:W4})),Xr("onSetValue"),Ve("resetOnDom",!1)],an=Ko({fields:G4,name:"representing",active:lg,apis:$0,extra:{setValueFrom:function(t,r){var o=an.getValue(r);an.setValue(t,o)}},state:Tw}),Xo=function(t,r){return l2(t,{},Ue(r,function(o){return wh(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([hu("dump",Ee)]))},vg=function(t){return t.dump},fi=function(t,r){return ne(ne({},Jt(r)),t.dump)},il={field:Xo,augment:fi,get:vg},Bw="placeholder",t1=Ds.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),M0=function(t){return Mr(t,"uiType")},P0=function(t,r,o,s){return t.exists(function(d){return d!==o.owner})?t1.single(!0,ue(o)):En(s,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+Lr(s)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(d){return d.replace()})},I0=function(t,r,o,s){return M0(o)&&o.uiType===Bw?P0(t,r,o,s):t1.single(!1,ue(o))},ld=function(t,r,o,s){var d=I0(t,r,o,s);return d.fold(function(g,C){var E=M0(o)?C(r,o.config,o.validated):C(r),O=En(E,"components").getOr([]),$=Wt(O,function(V){return ld(t,r,V,s)});return[ne(ne({},E),{components:$})]},function(g,C){if(M0(o)){var E=C(r,o.config,o.validated),O=o.validated.preprocess.getOr(Ee);return O(E)}else return C(r)})},n1=function(t,r,o,s){return Wt(o,function(d){return ld(t,r,d,s)})},Mw=function(t,r){var o=!1,s=function(){return o},d=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},g=function(){return r.fold(function(C,E){return C},function(C,E){return C})};return{name:ue(t),required:g,used:s,replace:d}},Pw=function(t,r,o,s){var d=lr(s,function(C,E){return Mw(E,C)}),g=n1(t,r,o,d);return Vr(d,function(C){if(C.used()===!1&&C.required())throw new Error("Placeholder: "+C.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),g},Iw=t1.single,q4=t1.multiple,ox=ue(Bw),sv=Ds.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),af=Ve("factory",{sketch:Ee}),gm=Ve("schema",[]),dg=xt("name"),Nw=Uo("pname","pname",Er(function(t){return"<alloy."+wn(t.name)+">"}),kl()),N0=hu("schema",function(){return[Kr("preprocess")]}),of=Ve("defaults",ue({})),Pl=Ve("overrides",ue({})),cd=$n([af,gm,dg,Nw,of,Pl]),fd=$n([af,gm,dg,of,Pl]),pm=$n([af,gm,dg,Nw,of,Pl]),mg=$n([af,N0,dg,xt("unit"),Nw,of,Pl]),zw=function(t){return t.fold(B.some,B.none,B.some,B.some)},Fw=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},Lw=function(t){return t.fold(Ee,Ee,Ee,Ee)},z0=function(t,r){return function(o){var s=sa("Converting part type",r,o);return t(s)}},Ii=z0(sv.required,cd),Fs=z0(sv.external,fd),ul=z0(sv.optional,pm),uf=z0(sv.group,mg),hg=ue("entirety"),F0=Object.freeze({__proto__:null,required:Ii,external:Fs,optional:ul,group:uf,asNamedPart:zw,name:Fw,asCommon:Lw,original:hg}),vd=function(t,r,o,s){return bt(r.defaults(t,o,s),o,{uid:t.partUids[r.name]},r.overrides(t,o,s))},bm=function(t,r,o){var s={},d={};return gt(o,function(g){g.fold(function(C){s[C.pname]=Iw(!0,function(E,O,$){return C.factory.sketch(vd(E,C,O,$))})},function(C){var E=r.parts[C.name];d[C.name]=ue(C.factory.sketch(vd(r,C,E[hg()]),E))},function(C){s[C.pname]=Iw(!1,function(E,O,$){return C.factory.sketch(vd(E,C,O,$))})},function(C){s[C.pname]=q4(!0,function(E,O,$){var V=E[C.name];return Ue(V,function(j){return C.factory.sketch(bt(C.defaults(E,j,$),j,C.overrides(E,j)))})})})}),{internals:ue(s),externals:ue(d)}},ym=function(t,r){var o={};return gt(r,function(s){zw(s).each(function(d){var g=K4(t,d.pname);o[d.name]=function(C){var E=sa("Part: "+d.name+" in "+t,$n(d.schema),C);return ne(ne({},g),{config:C,validated:E})}})}),o},K4=function(t,r){return{uiType:ox(),owner:t,name:r}},Hw=function(t,r,o){return{uiType:ox(),owner:t,name:r,config:o,validated:{}}},ix=function(t){return Wt(t,function(r){return r.fold(B.none,B.some,B.none,B.none).map(function(o){return Hc(o.name,o.schema.concat([ed(hg())]))}).toArray()})},ux=function(t){return Ue(t,Fw)},Vw=function(t,r,o){return bm(t,r,o)},Uw=function(t,r,o){return Pw(B.some(t),r,r.components,o)},pa=function(t,r,o){var s=r.partUids[o];return t.getSystem().getByUid(s).toOptional()},sf=function(t,r,o){return pa(t,r,o).getOrDie("Could not find part: "+o)},sx=function(t,r,o){var s={},d=r.partUids,g=t.getSystem();return gt(o,function(C){s[C]=ue(g.getByUid(d[C]))}),s},lx=function(t,r){var o=t.getSystem();return lr(r.partUids,function(s,d){return ue(o.getByUid(s))})},cx=function(t){return Lr(t.partUids)},L0=function(t,r,o){var s={},d=r.partUids,g=t.getSystem();return gt(o,function(C){s[C]=ue(g.getByUid(d[C]).getOrDie())}),s},Ww=function(t,r){var o=ux(r);return Jf(Ue(o,function(s){return{key:s,value:t+"-"+s}}))},r1=function(t){return Uo("partUids","partUids",Ei(function(r){return Ww(r.uid,t)}),kl())},Un=Object.freeze({__proto__:null,generate:ym,generateOne:Hw,schemas:ix,names:ux,substitutes:Vw,components:Uw,defaultUids:Ww,defaultUidsSchema:r1,getAllParts:lx,getAllPartNames:cx,getPart:pa,getPartOrDie:sf,getParts:sx,getPartsOrDie:L0}),X4=function(t,r){var o=t.length>0?[Hc("parts",t)]:[];return o.concat([xt("uid"),Ve("dom",{}),Ve("components",[]),ed("originalSpec"),Ve("debug.sketcher",{})]).concat(r)},jw=function(t,r,o,s,d){var g=X4(s,d);return sa(t+" [SpecSchema]",is(g.concat(r)),o)},fx=function(t,r,o,s){var d=vx(s),g=jw(t,r,d,[],[]);return o(g,d)},Gw=function(t,r,o,s,d){var g=vx(d),C=ix(o),E=r1(o),O=jw(t,r,g,C,[E]),$=Vw(t,O,o),V=Uw(t,O,$.internals());return s(O,V,g,$.externals())},Y4=function(t){return Mr(t,"uid")},vx=function(t){return Y4(t)?t:ne(ne({},t),{uid:qv("uid")})},qw=function(t){return t.uid!==void 0},Kw=is([xt("name"),xt("factory"),xt("configFields"),Ve("apis",{}),Ve("extraApis",{})]),J4=is([xt("name"),xt("factory"),xt("configFields"),xt("partFields"),Ve("apis",{}),Ve("extraApis",{})]),Ls=function(t){var r=sa("Sketcher for "+t.name,Kw,t),o=function(g){return fx(r.name,r.configFields,r.factory,g)},s=lr(r.apis,Ya),d=lr(r.extraApis,function(g,C){return Kd(g,C)});return ne(ne({name:r.name,configFields:r.configFields,sketch:o},s),d)},xu=function(t){var r=sa("Sketcher for "+t.name,J4,t),o=function(C){return Gw(r.name,r.configFields,r.partFields,r.factory,C)},s=ym(r.name,r.partFields),d=lr(r.apis,Ya),g=lr(r.extraApis,function(C,E){return Kd(C,E)});return ne(ne({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:s},d),g)},lf=function(t){return Qu(t)==="input"&&za(t,"type")!=="radio"||Qu(t)==="textarea"},Z4=function(t,r,o){return r.find(t)},Q4=Object.freeze({__proto__:null,getCurrent:Z4}),Xw=[xt("find")],Sr=Ko({fields:Xw,name:"composing",apis:Q4}),eE=["input","button","textarea","select"],H0=function(t,r,o){var s=r.disabled()?Yw:dd;s(t,r)},V0=function(t,r){return r.useNative===!0&&lt(eE,Qu(t.element))},U0=function(t){return db(t.element,"disabled")},a1=function(t){ur(t.element,"disabled","disabled")},lv=function(t){ui(t.element,"disabled")},o1=function(t){return za(t.element,"aria-disabled")==="true"},tE=function(t){ur(t.element,"aria-disabled","true")},dx=function(t){ur(t.element,"aria-disabled","false")},Yw=function(t,r,o){r.disableClass.each(function(d){Wo(t.element,d)});var s=V0(t,r)?a1:tE;s(t),r.onDisabled(t)},dd=function(t,r,o){r.disableClass.each(function(d){Io(t.element,d)});var s=V0(t,r)?lv:dx;s(t),r.onEnabled(t)},W0=function(t,r){return V0(t,r)?U0(t):o1(t)},mx=function(t,r,o,s){var d=s?Yw:dd;d(t,r)},nE=Object.freeze({__proto__:null,enable:dd,disable:Yw,isDisabled:W0,onLoad:H0,set:mx}),rE=function(t,r){return $l({classes:r.disabled()?r.disableClass.toArray():[]})},aE=function(t,r){return Sa([_2(Rs(),function(o,s){return W0(o,t)}),ja(t,r,H0)])},wm=Object.freeze({__proto__:null,exhibit:rE,events:aE}),Jw=[Ta("disabled",pe),Ve("useNative",!0),Kr("disableClass"),Xr("onDisabled"),Xr("onEnabled")],Mn=Ko({fields:Jw,name:"disabling",active:wm,apis:nE}),hx=function(t,r,o,s){var d=au(t.element,"."+r.highlightClass);gt(d,function(g){Sn(s,function(C){return C.element===g})||(Io(g,r.highlightClass),t.getSystem().getByDom(g).each(function(C){r.onDehighlight(t,C),Ur(C,Ab())}))})},gx=function(t,r,o){return hx(t,r,o,[])},oE=function(t,r,o,s){Zw(t,r,o,s)&&(Io(s.element,r.highlightClass),r.onDehighlight(t,s),Ur(s,Ab()))},i1=function(t,r,o,s){hx(t,r,o,[s]),Zw(t,r,o,s)||(Wo(s.element,r.highlightClass),r.onHighlight(t,s),Ur(s,S2()))},iu=function(t,r,o){eC(t,r).each(function(s){i1(t,r,o,s)})},u1=function(t,r,o){tC(t,r).each(function(s){i1(t,r,o,s)})},iE=function(t,r,o,s){bx(t,r,o,s).fold(function(d){throw d},function(d){i1(t,r,o,d)})},px=function(t,r,o,s){var d=yx(t,r),g=pt(d,s);g.each(function(C){i1(t,r,o,C)})},Zw=function(t,r,o,s){return bu(s.element,r.highlightClass)},Qw=function(t,r,o){return jo(t.element,"."+r.highlightClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},bx=function(t,r,o,s){var d=au(t.element,"."+r.itemClass);return B.from(d[s]).fold(function(){return cr.error(new Error("No element found with index "+s))},t.getSystem().getByDom)},eC=function(t,r,o){return jo(t.element,"."+r.itemClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},tC=function(t,r,o){var s=au(t.element,"."+r.itemClass),d=s.length>0?B.some(s[s.length-1]):B.none();return d.bind(function(g){return t.getSystem().getByDom(g).toOptional()})},cv=function(t,r,o,s){var d=au(t.element,"."+r.itemClass),g=Yt(d,function(C){return bu(C,r.highlightClass)});return g.bind(function(C){var E=$i(C,s,0,d.length-1);return t.getSystem().getByDom(d[E]).toOptional()})},uE=function(t,r,o){return cv(t,r,o,-1)},sE=function(t,r,o){return cv(t,r,o,1)},yx=function(t,r,o){var s=au(t.element,"."+r.itemClass);return Pr(Ue(s,function(d){return t.getSystem().getByDom(d).toOptional()}))},lE=Object.freeze({__proto__:null,dehighlightAll:gx,dehighlight:oE,highlight:i1,highlightFirst:iu,highlightLast:u1,highlightAt:iE,highlightBy:px,isHighlighted:Zw,getHighlighted:Qw,getFirst:eC,getLast:tC,getPrevious:uE,getNext:sE,getCandidates:yx}),s1=[xt("highlightClass"),xt("itemClass"),Xr("onHighlight"),Xr("onDehighlight")],ta=Ko({fields:s1,name:"highlighting",apis:lE}),j0=[8],fv=[9],Il=[13],md=[27],Uu=[32],G0=[37],Cm=[38],gg=[39],hd=[40],cE=function(t,r,o){var s=zt(t.slice(0,r)),d=zt(t.slice(r+1));return pt(s.concat(d),o)},wx=function(t,r,o){var s=zt(t.slice(0,r));return pt(s,o)},fE=function(t,r,o){var s=t.slice(0,r),d=t.slice(r+1);return pt(d.concat(s),o)},vE=function(t,r,o){var s=t.slice(r+1);return pt(s,o)},yr=function(t){return function(r){var o=r.raw;return lt(t,o.which)}},Nl=function(t){return function(r){return Dt(t,function(o){return o(r)})}},pg=function(t){var r=t.raw;return r.shiftKey===!0},Cx=function(t){var r=t.raw;return r.ctrlKey===!0},l1=Ye(pg),Rr=function(t,r){return{matches:t,classification:r}},Sx=function(t,r){var o=pt(t,function(s){return s.matches(r)});return o.map(function(s){return s.classification})},_x=function(t,r,o){var s=r.exists(function(d){return o.exists(function(g){return _a(g,d)})});s||In(t,kb(),{prevFocus:r,newFocus:o})},c1=function(){var t=function(o){return dc(o.element)},r=function(o,s){var d=t(o);o.getSystem().triggerFocus(s,o.element);var g=t(o);_x(o,d,g)};return{get:t,set:r}},xx=function(){var t=function(o){return ta.getHighlighted(o).map(function(s){return s.element})},r=function(o,s){var d=t(o);o.getSystem().getByDom(s).fold(q,function(C){ta.highlight(o,C)});var g=t(o);_x(o,d,g)};return{get:t,set:r}},f1;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(f1||(f1={}));var Sm=function(t,r,o,s,d){var g=function(){return t.concat([Ve("focusManager",c1()),gu("focusInside","onFocus",yh(function($){return lt(["onFocus","onEnterOrSpace","onApi"],$)?cr.value($):cr.error("Invalid value for focusInside")})),ka("handler",O),ka("state",r),ka("sendFocusIn",d)])},C=function($,V,j,ee,ae){var fe=j($,V,ee,ae);return Sx(fe,V.event).bind(function(Se){return Se($,V,ee,ae)})},E=function($,V){var j=$.focusInside!==f1.OnFocusMode?B.none():d($).map(function(fe){return Rt(Lv(),function(Se,ze){fe(Se,$,V),ze.stop()})}),ee=function(fe,Se){var ze=yr(Uu.concat(Il))(Se.event);$.focusInside===f1.OnEnterOrSpaceMode&&ze&&ZS(fe,Se)&&d($).each(function(we){we(fe,$,V),Se.stop()})},ae=[Rt(Cb(),function(fe,Se){C(fe,Se,o,$,V).fold(function(){ee(fe,Se)},function(ze){Se.stop()})}),Rt(g2(),function(fe,Se){C(fe,Se,s,$,V).each(function(ze){Se.stop()})})];return Sa(j.toArray().concat(ae))},O={schema:g,processKey:C,toEvents:E};return O},nC=function(t){var r=[Kr("onEscape"),Kr("onEnter"),Ve("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ve("firstTabstop",0),Ve("useTabstopAt",ye),Kr("visibilitySelector")].concat([t]),o=function(Se,ze){var we=Se.visibilitySelector.bind(function(Le){return al(ze,Le)}).getOr(ze);return Mo(we)>0},s=function(Se,ze){var we=au(Se.element,ze.selector),Le=Ae(we,function(ft){return o(ze,ft)});return B.from(Le[ze.firstTabstop])},d=function(Se,ze){return ze.focusManager.get(Se).bind(function(we){return al(we,ze.selector)})},g=function(Se,ze){return o(Se,ze)&&Se.useTabstopAt(ze)},C=function(Se,ze,we){s(Se,ze).each(function(Le){ze.focusManager.set(Se,Le)})},E=function(Se,ze,we,Le,ft){return ft(ze,we,function(ct){return g(Le,ct)}).fold(function(){return Le.cyclic?B.some(!0):B.none()},function(ct){return Le.focusManager.set(Se,ct),B.some(!0)})},O=function(Se,ze,we,Le){var ft=au(Se.element,we.selector);return d(Se,we).bind(function(ct){var Fe=Yt(ft,ke(_a,ct));return Fe.bind(function(rt){return E(Se,ft,rt,we,Le)})})},$=function(Se,ze,we){var Le=we.cyclic?cE:wx;return O(Se,ze,we,Le)},V=function(Se,ze,we){var Le=we.cyclic?fE:vE;return O(Se,ze,we,Le)},j=function(Se,ze,we){return we.onEnter.bind(function(Le){return Le(Se,ze)})},ee=function(Se,ze,we){return we.onEscape.bind(function(Le){return Le(Se,ze)})},ae=ue([Rr(Nl([pg,yr(fv)]),$),Rr(yr(fv),V),Rr(yr(md),ee),Rr(Nl([l1,yr(Il)]),j)]),fe=ue([]);return Sm(r,Di.init,ae,fe,function(){return B.some(C)})},rC=nC(hu("cyclic",pe)),kx=nC(hu("cyclic",ye)),Ax=function(t,r,o){return Eb(t,o,Rs()),B.some(!0)},gd=function(t,r,o){var s=lf(o)&&yr(Uu)(r.event);return s?B.none():Ax(t,r,o)},_m=function(t,r){return B.some(!0)},aC=[Ve("execute",gd),Ve("useSpace",!1),Ve("useEnter",!0),Ve("useControlEnter",!1),Ve("useDown",!1)],Ex=function(t,r,o){return o.execute(t,r,t.element)},q0=function(t,r,o,s){var d=o.useSpace&&!lf(t.element)?Uu:[],g=o.useEnter?Il:[],C=o.useDown?hd:[],E=d.concat(g).concat(C);return[Rr(yr(E),Ex)].concat(o.useControlEnter?[Rr(Nl([Cx,yr(Il)]),Ex)]:[])},dE=function(t,r,o,s){return o.useSpace&&!lf(t.element)?[Rr(yr(Uu),_m)]:[]},bg=Sm(aC,Di.init,q0,dE,function(){return B.none()}),oC=function(){var t=mo(),r=function(d,g){t.set({numRows:d,numColumns:g})},o=function(){return t.get().map(function(d){return d.numRows})},s=function(){return t.get().map(function(d){return d.numColumns})};return Ki({readState:function(){return t.get().map(function(d){return{numRows:String(d.numRows),numColumns:String(d.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:s})},iC=function(t){return t.state(t)},Tx=Object.freeze({__proto__:null,flatgrid:oC,init:iC}),uC=function(t){return function(r,o,s,d){var g=t(r.element);return lC(g,r,o,s,d)}},K0=function(t,r){var o=ow(t,r);return uC(o)},X0=function(t,r){var o=ow(r,t);return uC(o)},sC=function(t){return function(r,o,s,d){return lC(t,r,o,s,d)}},lC=function(t,r,o,s,d){var g=s.focusManager.get(r).bind(function(C){return t(r.element,C,s,d)});return g.map(function(C){return s.focusManager.set(r,C),!0})},Ox=sC,xm=sC,yg=sC,Dx=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Rx=function(t){return!Dx(t.dom)},Y0=function(t,r){return Yt(t,r).map(function(o){return{index:o,candidates:t}})},$x=function(t,r,o){var s=function(C){return _a(C,r)},d=au(t,o),g=Ae(d,Rx);return Y0(g,s)},Bx=function(t,r){return Yt(t,function(o){return _a(r,o)})},cC=function(t,r,o,s){var d=Math.floor(r/o),g=r%o;return s(d,g).bind(function(C){var E=C.row*o+C.column;return E>=0&&E<t.length?B.some(t[E]):B.none()})},Mx=function(t,r,o,s,d){return cC(t,r,s,function(g,C){var E=g===o-1,O=E?t.length-g*s:s,$=$i(C,d,0,O-1);return B.some({row:g,column:$})})},Px=function(t,r,o,s,d){return cC(t,r,s,function(g,C){var E=$i(g,d,0,o-1),O=E===o-1,$=O?t.length-E*s:s,V=fs(C,0,$-1);return B.some({row:E,column:V})})},Ix=function(t,r,o,s){return Mx(t,r,o,s,1)},mE=function(t,r,o,s){return Mx(t,r,o,s,-1)},Nx=function(t,r,o,s){return Px(t,r,o,s,-1)},fC=function(t,r,o,s){return Px(t,r,o,s,1)},wg=[xt("selector"),Ve("execute",gd),Go("onEscape"),Ve("captureTab",!1),qb()],hE=function(t,r,o){jo(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},zx=function(t,r){return r.focusManager.get(t).bind(function(o){return al(o,r.selector)})},Fx=function(t,r,o,s){return zx(t,o).bind(function(d){return o.execute(t,r,d)})},sl=function(t){return function(r,o,s,d){return $x(r,o,s.selector).bind(function(g){return t(g.candidates,g.index,d.getNumRows().getOr(s.initSize.numRows),d.getNumColumns().getOr(s.initSize.numColumns))})}},Lx=function(t,r,o){return o.captureTab?B.some(!0):B.none()},Hx=function(t,r,o){return o.onEscape(t,r)},J0=sl(mE),Z0=sl(Ix),vC=sl(Nx),km=sl(fC),Cg=ue([Rr(yr(G0),K0(J0,Z0)),Rr(yr(gg),X0(J0,Z0)),Rr(yr(Cm),Ox(vC)),Rr(yr(hd),xm(km)),Rr(Nl([pg,yr(fv)]),Lx),Rr(Nl([l1,yr(fv)]),Lx),Rr(yr(md),Hx),Rr(yr(Uu.concat(Il)),Fx)]),Vx=ue([Rr(yr(Uu),_m)]),Ux=Sm(wg,oC,Cg,Vx,function(){return B.some(hE)}),Q0=function(t,r,o,s){var d=function(C){return Qu(C)==="button"&&za(C,"disabled")==="disabled"},g=function(C,E,O){var $=$i(E,s,0,O.length-1);return $===C?B.none():d(O[$])?g(C,$,O):B.from(O[$])};return $x(t,o,r).bind(function(C){var E=C.index,O=C.candidates;return g(E,E,O)})},gE=[xt("selector"),Ve("getInitial",B.none),Ve("execute",gd),Go("onEscape"),Ve("executeOnMove",!1),Ve("allowVertical",!0)],ey=function(t,r){return r.focusManager.get(t).bind(function(o){return al(o,r.selector)})},v1=function(t,r,o){return ey(t,o).bind(function(s){return o.execute(t,r,s)})},ty=function(t,r,o){r.getInitial(t).orThunk(function(){return jo(t.element,r.selector)}).each(function(s){r.focusManager.set(t,s)})},Wx=function(t,r,o){return Q0(t,o.selector,r,-1)},ny=function(t,r,o){return Q0(t,o.selector,r,1)},ll=function(t){return function(r,o,s,d){return t(r,o,s,d).bind(function(){return s.executeOnMove?v1(r,o,s):B.some(!0)})}},pE=function(t,r,o){return o.onEscape(t,r)},ry=function(t,r,o,s){var d=G0.concat(o.allowVertical?Cm:[]),g=gg.concat(o.allowVertical?hd:[]);return[Rr(yr(d),ll(K0(Wx,ny))),Rr(yr(g),ll(X0(Wx,ny))),Rr(yr(Il),v1),Rr(yr(Uu),v1),Rr(yr(md),pE)]},jx=ue([Rr(yr(Uu),_m)]),d1=Sm(gE,Di.init,ry,jx,function(){return B.some(ty)}),m1=function(t,r,o){return B.from(t[r]).bind(function(s){return B.from(s[o]).map(function(d){return{rowIndex:r,columnIndex:o,cell:d}})})},dC=function(t,r,o,s){var d=t[r],g=d.length,C=$i(o,s,0,g-1);return m1(t,r,C)},Gx=function(t,r,o,s){var d=$i(o,s,0,t.length-1),g=t[d].length,C=fs(r,0,g-1);return m1(t,d,C)},qx=function(t,r,o,s){var d=t[r],g=d.length,C=fs(o+s,0,g-1);return m1(t,r,C)},Kx=function(t,r,o,s){var d=fs(o+s,0,t.length-1),g=t[d].length,C=fs(r,0,g-1);return m1(t,d,C)},ay=function(t,r,o){return dC(t,r,o,1)},pd=function(t,r,o){return dC(t,r,o,-1)},bE=function(t,r,o){return Gx(t,o,r,-1)},yE=function(t,r,o){return Gx(t,o,r,1)},wE=function(t,r,o){return qx(t,r,o,-1)},bd=function(t,r,o){return qx(t,r,o,1)},CE=function(t,r,o){return Kx(t,o,r,-1)},mC=function(t,r,o){return Kx(t,o,r,1)},SE=[Hc("selectors",[xt("row"),xt("cell")]),Ve("cycles",!0),Ve("previousSelector",B.none),Ve("execute",gd)],Sg=function(t,r,o){var s=r.previousSelector(t).orThunk(function(){var d=r.selectors;return jo(t.element,d.cell)});s.each(function(d){r.focusManager.set(t,d)})},hC=function(t,r,o){return dc(t.element).bind(function(s){return o.execute(t,r,s)})},Xx=function(t,r){return Ue(t,function(o){return au(o,r.selectors.cell)})},oy=function(t,r){return function(o,s,d){var g=d.cycles?t:r;return al(s,d.selectors.row).bind(function(C){var E=au(C,d.selectors.cell);return Bx(E,s).bind(function(O){var $=au(o,d.selectors.row);return Bx($,C).bind(function(V){var j=Xx($,d);return g(j,V,O).map(function(ee){return ee.cell})})})})}},Yx=oy(pd,wE),Jx=oy(ay,bd),_E=oy(bE,CE),iy=oy(yE,mC),uy=ue([Rr(yr(G0),K0(Yx,Jx)),Rr(yr(gg),X0(Yx,Jx)),Rr(yr(Cm),Ox(_E)),Rr(yr(hd),xm(iy)),Rr(yr(Uu.concat(Il)),hC)]),gC=ue([Rr(yr(Uu),_m)]),Zx=Sm(SE,Di.init,uy,gC,function(){return B.some(Sg)}),Qx=[xt("selector"),Ve("execute",gd),Ve("moveOnTab",!1)],Am=function(t,r,o){return o.focusManager.get(t).bind(function(s){return o.execute(t,r,s)})},h1=function(t,r,o){jo(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},sy=function(t,r,o){return Q0(t,o.selector,r,-1)},g1=function(t,r,o){return Q0(t,o.selector,r,1)},ek=function(t,r,o,s){return o.moveOnTab?yg(sy)(t,r,o,s):B.none()},vv=function(t,r,o,s){return o.moveOnTab?yg(g1)(t,r,o,s):B.none()},xE=ue([Rr(yr(Cm),yg(sy)),Rr(yr(hd),yg(g1)),Rr(Nl([pg,yr(fv)]),ek),Rr(Nl([l1,yr(fv)]),vv),Rr(yr(Il),Am),Rr(yr(Uu),Am)]),cf=ue([Rr(yr(Uu),_m)]),tk=Sm(Qx,Di.init,xE,cf,function(){return B.some(h1)}),ly=[Go("onSpace"),Go("onEnter"),Go("onShiftEnter"),Go("onLeft"),Go("onRight"),Go("onTab"),Go("onShiftTab"),Go("onUp"),Go("onDown"),Go("onEscape"),Ve("stopSpaceKeyup",!1),Kr("focusIn")],pC=function(t,r,o){return[Rr(yr(Uu),o.onSpace),Rr(Nl([l1,yr(Il)]),o.onEnter),Rr(Nl([pg,yr(Il)]),o.onShiftEnter),Rr(Nl([pg,yr(fv)]),o.onShiftTab),Rr(Nl([l1,yr(fv)]),o.onTab),Rr(yr(Cm),o.onUp),Rr(yr(hd),o.onDown),Rr(yr(G0),o.onLeft),Rr(yr(gg),o.onRight),Rr(yr(Uu),o.onSpace),Rr(yr(md),o.onEscape)]},kE=function(t,r,o){return o.stopSpaceKeyup?[Rr(yr(Uu),_m)]:[]},yd=Sm(ly,Di.init,pC,kE,function(t){return t.focusIn}),nk=rC.schema(),rk=kx.schema(),AE=d1.schema(),bC=Ux.schema(),_g=Zx.schema(),xg=bg.schema(),ak=tk.schema(),yC=yd.schema(),zl=Object.freeze({__proto__:null,acyclic:nk,cyclic:rk,flow:AE,flatgrid:bC,matrix:_g,execution:xg,menu:ak,special:yC}),wd=function(t){return lo(t,"setGridSize")},Fn=om({branchKey:"mode",branches:zl,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(s){s(t,r,o)})},setGridSize:function(t,r,o,s,d){wd(o)?o.setGridSize(s,d):console.error("Layout does not support setGridSize")}},state:Tx}),wC=function(t,r,o,s){S_(function(){var d=Ue(s,t.getSystem().build);_w(t,d)},t.element)},ff=function(t,r,o,s){var d=t.getSystem().build(s);T0(t,d,o)},ok=function(t,r,o,s){ff(t,r,Ui,s)},EE=function(t,r,o,s){ff(t,r,Uf,s)},ik=function(t,r,o,s){var d=p1(t),g=pt(d,function(C){return _a(s.element,C.element)});g.each(pc)},p1=function(t,r){return t.components()},yc=function(t,r,o,s,d){var g=p1(t);return B.from(g[s]).map(function(C){return ik(t,r,o,C),d.each(function(E){ff(t,r,function(O,$){nc(O,$,s)},E)}),C})},cy=function(t,r,o,s,d){var g=p1(t);return Yt(g,s).bind(function(C){return yc(t,r,o,C,d)})},uk=Object.freeze({__proto__:null,append:ok,prepend:EE,remove:ik,replaceAt:yc,replaceBy:cy,set:wC,contents:p1}),Qn=Ko({fields:[],name:"replacing",apis:uk}),CC=function(t,r){var o=Sa(r);return Ko({fields:[xt("enabled")],name:t,active:{events:ue(o)}})},ar=function(t,r){var o=CC(t,r);return{key:t,value:{config:{},me:o,configAsRaw:ue({}),initialConfig:{},state:Di}}},SC=function(t,r){r.ignore||(vc(t.element),r.onFocus(t))},sk=function(t,r){r.ignore||Lp(t.element)},lk=function(t){return Hp(t.element)},kg=Object.freeze({__proto__:null,focus:SC,blur:sk,isFocused:lk}),Ag=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return $l(o)},Eg=function(t){return Sa([Rt(Lv(),function(r,o){SC(r,t),o.stop()})].concat(t.stopMousedown?[Rt(Ol(),function(r,o){o.event.prevent()})]:[]))},Tg=Object.freeze({__proto__:null,exhibit:Ag,events:Eg}),TE=[Xr("onFocus"),Ve("stopMousedown",!1),Ve("ignore",!1)],Yn=Ko({fields:TE,name:"focusing",active:Tg,apis:kg}),ck=function(t){var r=function(){var o=Pn(t),s=function(){return o.get()},d=function(E){return o.set(E)},g=function(){return o.set(t)},C=function(){return o.get()};return{get:s,set:d,clear:g,readState:C}};return{init:r}},_C=function(t,r,o){var s=r.aria;s.update(t,s,o.get())},b1=function(t,r,o){r.toggleClass.each(function(s){o.get()?Wo(t.element,s):Io(t.element,s)})},Cd=function(t,r,o){xC(t,r,o,!o.get())},fk=function(t,r,o){o.set(!0),b1(t,r,o),_C(t,r,o)},fy=function(t,r,o){o.set(!1),b1(t,r,o),_C(t,r,o)},xC=function(t,r,o,s){var d=s?fk:fy;d(t,r,o)},OE=function(t,r,o){return o.get()},vk=function(t,r,o){xC(t,r,o,r.selected)},DE=Object.freeze({__proto__:null,onLoad:vk,toggle:Cd,isOn:OE,on:fk,off:fy,set:xC}),vy=function(){return $l({})},RE=function(t,r){var o=am(t,r,Cd),s=ja(t,r,vk);return Sa(it([t.toggleOnExecute?[o]:[],[s]]))},dy=Object.freeze({__proto__:null,exhibit:vy,events:RE}),dk=function(t,r,o){ur(t.element,"aria-pressed",o),r.syncWithExpanded&&hk(t,r,o)},mk=function(t,r,o){ur(t.element,"aria-selected",o)},$E=function(t,r,o){ur(t.element,"aria-checked",o)},hk=function(t,r,o){ur(t.element,"aria-expanded",o)},kC=[Ve("selected",!1),Kr("toggleClass"),Ve("toggleOnExecute",!0),gu("aria",{mode:"none"},el("mode",{pressed:[Ve("syncWithExpanded",!1),ka("update",dk)],checked:[ka("update",$E)],expanded:[ka("update",hk)],selected:[ka("update",mk)],none:[ka("update",q)]}))],Ir=Ko({fields:kC,name:"toggling",active:dy,apis:DE,state:ck(!1)}),gk=function(){var t=function(r,o){o.stop(),Bs(r)};return[Rt(kh(),t),Rt(Hv(),t),Gd(Wc()),Gd(Ol())]},my=function(t){var r=function(o){return cs(function(s,d){o(s),d.stop()})};return Sa(it([t.map(r).toArray(),gk()]))},AC="alloy.item-hover",pk="alloy.item-focus",EC=function(t){(dc(t.element).isNone()||Yn.isFocused(t))&&(Yn.isFocused(t)||Yn.focus(t),In(t,AC,{item:t}))},y1=function(t){In(t,pk,{item:t})},hy=ue(AC),u=ue(pk),c=function(t){return{dom:t.dom,domModification:ne(ne({},t.domModification),{attributes:ne(ne(ne({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:il.augment(t.itemBehaviours,[t.toggling.fold(Ir.revoke,function(r){return Ir.config(ne({aria:{mode:"checked"}},r))}),Yn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){y1(r)}}),Fn.config({mode:"execution"}),an.config({store:{mode:"memory",initialValue:t.data}}),ar("item-type-events",_e(_e([],gk(),!0),[Rt(Zf(),EC),Rt(Ud(),Yn.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},h=[xt("data"),xt("components"),xt("dom"),Ve("hasSubmenu",!1),Kr("toggling"),il.field("itemBehaviours",[Ir,Yn,Fn,an]),Ve("ignoreFocus",!1),Ve("domModification",{}),ka("builder",c),Ve("eventOrder",{})],w=function(t){return{dom:t.dom,components:t.components,events:Sa([Th(Ud())])}},k=[xt("dom"),xt("components"),ka("builder",w)],R=ue("item-widget"),z=ue([Ii({name:"widget",overrides:function(t){return{behaviours:Jt([an.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:q}})])}}})]),K=function(t){var r=Vw(R(),t,z()),o=Uw(R(),t,r.internals()),s=function(g){return pa(g,t,"widget").map(function(C){return Fn.focusIn(C),C})},d=function(g,C){return lf(C.event.target)?B.none():function(){return t.autofocus&&C.setSource(g.element),B.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:Sa([cs(function(g,C){s(g).each(function(E){C.stop()})}),Rt(Zf(),EC),Rt(Ud(),function(g,C){t.autofocus?s(g):Yn.focus(g)})]),behaviours:il.augment(t.widgetBehaviours,[an.config({store:{mode:"memory",initialValue:t.data}}),Yn.config({ignore:t.ignoreFocus,onFocus:function(g){y1(g)}}),Fn.config({mode:"special",focusIn:t.autofocus?function(g){s(g)}:C_(),onLeft:d,onRight:d,onEscape:function(g,C){return!Yn.isFocused(g)&&!t.autofocus?(Yn.focus(g),B.some(!0)):(t.autofocus&&C.setSource(g.element),B.none())}})])}},ie=[xt("uid"),xt("data"),xt("components"),xt("dom"),Ve("autofocus",!1),Ve("ignoreFocus",!1),il.field("widgetBehaviours",[an,Yn,Fn]),Ve("domModification",{}),r1(z()),ka("builder",K)],be=el("type",{widget:ie,item:h,separator:k}),Pe=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},mt=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},Lt=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},At=ue([uf({factory:{sketch:function(t){var r=sa("menu.spec item",be,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return Mr(r,"uid")?r:ne(ne({},r),{uid:qv("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),ht=ue([xt("value"),xt("items"),xt("dom"),xt("components"),Ve("eventOrder",{}),Xo("menuBehaviours",[ta,an,Sr,Fn]),gu("movement",{mode:"menu",moveOnTab:!0},el("mode",{grid:[qb(),ka("config",Pe)],matrix:[ka("config",mt),xt("rowSelector")],menu:[Ve("moveOnTab",!0),ka("config",Lt)]})),K3(),Ve("fakeFocus",!1),Ve("focusManager",c1()),Xr("onHighlight")]),Xt=ue("alloy.menu-focus"),en=function(t,r,o,s){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:fi(t.menuBehaviours,[ta.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),an.config({store:{mode:"memory",initialValue:t.value}}),Sr.config({find:B.some}),Fn.config(t.movement.config(t,t.movement))]),events:Sa([Rt(u(),function(d,g){var C=g.event;d.getSystem().getByDom(C.target).each(function(E){ta.highlight(d,E),g.stop(),In(d,Xt(),{menu:d,item:E})})}),Rt(hy(),function(d,g){var C=g.event.item;ta.highlight(d,C)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},On=xu({name:"Menu",configFields:ht(),partFields:At(),factory:en}),Wr=function(t){return Ia(t,function(r,o){return{k:r,v:o}})},Tn=function(t,r,o,s){return En(o,s).bind(function(d){return En(t,d).bind(function(g){var C=Tn(t,r,o,g);return B.some([g].concat(C))})}).getOr([])},Jn=function(t,r){var o={};Vr(t,function(C,E){gt(C,function(O){o[O]=E})});var s=r,d=Wr(r),g=lr(d,function(C,E){return[E].concat(Tn(o,s,d,E))});return lr(o,function(C){return En(g,C).getOr([C])})},_r=function(){var t=Pn({}),r=Pn({}),o=Pn({}),s=mo(),d=Pn({}),g=function(){t.set({}),r.set({}),o.set({}),s.clear()},C=function(){return s.get().isNone()},E=function(Fe,rt){var Ct;r.set(ne(ne({},r.get()),(Ct={},Ct[Fe]={type:"prepared",menu:rt},Ct)))},O=function(Fe,rt,Ct,on){s.set(Fe),t.set(Ct),r.set(rt),d.set(on);var Ot=Jn(on,Ct);o.set(Ot)},$=function(Fe){return Ju(t.get(),function(rt,Ct){return rt===Fe})},V=function(Fe,rt,Ct){return Se(Fe).bind(function(on){return $(Fe).bind(function(Ot){return rt(Ot).map(function(ln){return{triggeredMenu:on,triggeringItem:ln,triggeringPath:Ct}})})})},j=function(Fe,rt){var Ct=Ae(we(Fe).toArray(),function(on){return Se(on).isSome()});return En(o.get(),Fe).bind(function(on){var Ot=zt(Ct.concat(on)),ln=Wt(Ot,function(Mt,wt){return V(Mt,rt,Ot.slice(0,wt+1)).fold(function(){return lu(s.get(),Mt)?[]:[B.none()]},function(Kt){return[B.some(Kt)]})});return Ar(ln)})},ee=function(Fe){return En(t.get(),Fe).map(function(rt){var Ct=En(o.get(),Fe).getOr([]);return[rt].concat(Ct)})},ae=function(Fe){return En(o.get(),Fe).bind(function(rt){return rt.length>1?B.some(rt.slice(1)):B.none()})},fe=function(Fe){return En(o.get(),Fe)},Se=function(Fe){return ze(Fe).bind(wr)},ze=function(Fe){return En(r.get(),Fe)},we=function(Fe){return En(t.get(),Fe)},Le=function(Fe){var rt=d.get();return rn(Lr(rt),Fe)},ft=function(){return s.get().bind(Se)},ct=function(){return r.get()};return{setMenuBuilt:E,setContents:O,expand:ee,refresh:fe,collapse:ae,lookupMenu:ze,lookupItem:we,otherMenus:Le,getPrimary:ft,getMenus:ct,clear:g,isClear:C,getTriggeringPath:j}},wr=function(t){return t.type==="prepared"?B.some(t.menu):B.none()},Co={init:_r,extractPreparedMenu:wr},vi=function(t,r){var o=mo(),s=function(Et,bn,An){return lr(An,function(kr,ia){var Pa=function(){return On.sketch(ne(ne({},kr),{value:ia,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?xx():c1()}))};return ia===bn?{type:"prepared",menu:Et.getSystem().build(Pa())}:{type:"notbuilt",nbMenu:Pa}})},d=Co.init(),g=function(Et){var bn=s(Et,t.data.primary,t.data.menus),An=O();return d.setContents(t.data.primary,bn,t.data.expansions,An),d.getPrimary()},C=function(Et){return an.getValue(Et).value},E=function(Et,bn,An){return Zr(bn,function(kr){if(!kr.getSystem().isConnected())return B.none();var ia=ta.getCandidates(kr);return pt(ia,function(Pa){return C(Pa)===An})})},O=function(Et){return lr(t.data.menus,function(bn,An){return Wt(bn.items,function(kr){return kr.type==="separator"?[]:[kr.data.value]})})},$=function(Et,bn){ta.highlight(Et,bn),ta.getHighlighted(bn).orThunk(function(){return ta.getFirst(bn)}).each(function(An){Eb(Et,An.element,Ud())})},V=function(Et,bn){return Pr(Ue(bn,function(An){return Et.lookupMenu(An).bind(function(kr){return kr.type==="prepared"?B.some(kr.menu):B.none()})}))},j=function(Et,bn,An){var kr=V(bn,bn.otherMenus(An));gt(kr,function(ia){Ns(ia.element,[t.markers.backgroundMenu]),t.stayInDom||Qn.remove(Et,ia)})},ee=function(Et){return o.get().getOrThunk(function(){var bn={},An=au(Et.element,"."+t.markers.item),kr=Ae(An,function(ia){return za(ia,"aria-haspopup")==="true"});return gt(kr,function(ia){Et.getSystem().getByDom(ia).each(function(Pa){var so=C(Pa);bn[so]=Pa})}),o.set(bn),bn})},ae=function(Et,bn){var An=ee(Et);Vr(An,function(kr,ia){var Pa=lt(bn,ia);ur(kr.element,"aria-expanded",Pa)})},fe=function(Et,bn,An){return B.from(An[0]).bind(function(kr){return bn.lookupMenu(kr).bind(function(ia){if(ia.type==="notbuilt")return B.none();var Pa=ia.menu,so=V(bn,An.slice(1));return gt(so,function(vl){Wo(vl.element,t.markers.backgroundMenu)}),fu(Pa.element)||Qn.append(Et,zs(Pa)),Ns(Pa.element,[t.markers.backgroundMenu]),$(Et,Pa),j(Et,bn,An),B.some(Pa)})})},Se;(function(Et){Et[Et.HighlightSubmenu=0]="HighlightSubmenu",Et[Et.HighlightParent=1]="HighlightParent"})(Se||(Se={}));var ze=function(Et,bn,An){if(An.type==="notbuilt"){var kr=Et.getSystem().build(An.nbMenu());return d.setMenuBuilt(bn,kr),kr}else return An.menu},we=function(Et,bn,An){if(An===void 0&&(An=Se.HighlightSubmenu),bn.hasConfigured(Mn)&&Mn.isDisabled(bn))return B.some(bn);var kr=C(bn);return d.expand(kr).bind(function(ia){return ae(Et,ia),B.from(ia[0]).bind(function(Pa){return d.lookupMenu(Pa).bind(function(so){var vl=ze(Et,Pa,so);return fu(vl.element)||Qn.append(Et,zs(vl)),t.onOpenSubmenu(Et,bn,vl,zt(ia)),An===Se.HighlightSubmenu?(ta.highlightFirst(vl),fe(Et,d,ia)):(ta.dehighlightAll(vl),B.some(bn))})})})},Le=function(Et,bn){var An=C(bn);return d.collapse(An).bind(function(kr){return ae(Et,kr),fe(Et,d,kr).map(function(ia){return t.onCollapseMenu(Et,bn,ia),ia})})},ft=function(Et,bn){var An=C(bn);return d.refresh(An).bind(function(kr){return ae(Et,kr),fe(Et,d,kr)})},ct=function(Et,bn){return lf(bn.element)?B.none():we(Et,bn,Se.HighlightSubmenu)},Fe=function(Et,bn){return lf(bn.element)?B.none():Le(Et,bn)},rt=function(Et,bn){return Le(Et,bn).orThunk(function(){return t.onEscape(Et,bn).map(function(){return Et})})},Ct=function(Et){return function(bn,An){return al(An.getSource(),"."+t.markers.item).bind(function(kr){return bn.getSystem().getByDom(kr).toOptional().bind(function(ia){return Et(bn,ia).map(ye)})})}},on=Sa([Rt(Xt(),function(Et,bn){var An=bn.event.item;d.lookupItem(C(An)).each(function(){var kr=bn.event.menu;ta.highlight(Et,kr);var ia=C(bn.event.item);d.refresh(ia).each(function(Pa){return j(Et,d,Pa)})})}),cs(function(Et,bn){var An=bn.event.target;Et.getSystem().getByDom(An).each(function(kr){var ia=C(kr);ia.indexOf("collapse-item")===0&&Le(Et,kr),we(Et,kr,Se.HighlightSubmenu).fold(function(){t.onExecute(Et,kr)},q)})}),rr(function(Et,bn){g(Et).each(function(An){Qn.append(Et,zs(An)),t.onOpenMenu(Et,An),t.highlightImmediately&&$(Et,An)})})].concat(t.navigateOnHover?[Rt(hy(),function(Et,bn){var An=bn.event.item;ft(Et,An),we(Et,An,Se.HighlightParent),t.onHover(Et,An)})]:[])),Ot=function(Et){return ta.getHighlighted(Et).bind(ta.getHighlighted)},ln=function(Et){Ot(Et).each(function(bn){Le(Et,bn)})},Mt=function(Et){d.getPrimary().each(function(bn){$(Et,bn)})},wt=function(Et){return B.from(Et.components()[0]).filter(function(bn){return za(bn.element,"role")==="menu"})},Kt=function(Et){var bn=d.getPrimary().bind(function(An){return Ot(Et).bind(function(kr){var ia=C(kr),Pa=_i(d.getMenus()),so=Pr(Ue(Pa,Co.extractPreparedMenu));return d.getTriggeringPath(ia,function(vl){return E(Et,so,vl)})}).map(function(kr){return{primary:An,triggeringPath:kr}})});bn.fold(function(){wt(Et).each(function(An){t.onRepositionMenu(Et,An,[])})},function(An){var kr=An.primary,ia=An.triggeringPath;t.onRepositionMenu(Et,kr,ia)})},Cn={collapseMenu:ln,highlightPrimary:Mt,repositionMenus:Kt};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:fi(t.tmenuBehaviours,[Fn.config({mode:"special",onRight:Ct(ct),onLeft:Ct(Fe),onEscape:Ct(rt),focusIn:function(Et,bn){d.getPrimary().each(function(An){Eb(Et,An.element,Ud())})}}),ta.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Sr.config({find:function(Et){return ta.getHighlighted(Et)}}),Qn.config({})]),eventOrder:t.eventOrder,apis:Cn,events:on}},di=ue("collapse-item"),Nr=function(t,r,o){return{primary:t,menus:r,expansions:o}},er=function(t,r){return{primary:t,menus:Vc(t,r),expansions:{}}},Tr=function(t){return{value:wn(di()),meta:{text:t}}},fa=Ls({name:"TieredMenu",configFields:[zu("onExecute"),zu("onEscape"),wu("onOpenMenu"),wu("onOpenSubmenu"),Xr("onRepositionMenu"),Xr("onCollapseMenu"),Ve("highlightImmediately",!0),Hc("data",[xt("primary"),xt("menus"),xt("expansions")]),Ve("fakeFocus",!1),Xr("onHighlight"),Xr("onHover"),em(),xt("dom"),Ve("navigateOnHover",!0),Ve("stayInDom",!1),Xo("tmenuBehaviours",[Fn,ta,Sr,Qn]),Ve("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:vi,extraApis:{tieredData:Nr,singleData:er,collapseItem:Tr}}),io=function(t,r,o,s,d){var g=function(){return t.lazySink(r)},C=s.type==="horizontal"?{layouts:{onLtr:function(){return t0()},onRtl:function(){return n0()}}}:{},E=function($){return $.length===2},O=function($){return E($)?C:{}};return fa.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return Dr.close(r),t.onEscape.map(function($){return $(r)}),B.some(!0)},onExecute:function(){return B.some(!0)},onOpenMenu:function($,V){ho.positionWithinBounds(g().getOrDie(),V,o,d())},onOpenSubmenu:function($,V,j,ee){var ae=g().getOrDie();ho.position(ae,j,{anchor:ne({type:"submenu",item:V},O(ee))})},onRepositionMenu:function($,V,j){var ee=g().getOrDie();ho.positionWithinBounds(ee,V,o,d()),gt(j,function(ae){var fe=O(ae.triggeringPath);ho.position(ee,ae.triggeredMenu,{anchor:ne({type:"submenu",item:ae.triggeringItem},fe)})})}})},dv=function(t,r){var o=function(ae,fe){var Se=t.getRelated(ae);return Se.exists(function(ze){return Qd(ze,fe)})},s=function(ae,fe){Dr.setContent(ae,fe)},d=function(ae,fe,Se){g(ae,fe,Se,B.none())},g=function(ae,fe,Se,ze){C(ae,fe,Se,function(){return ze.map(function(we){return Ao(we)})})},C=function(ae,fe,Se,ze){var we=t.lazySink(ae).getOrDie();Dr.openWhileCloaked(ae,fe,function(){return ho.positionWithinBounds(we,ae,Se,ze())}),an.setValue(ae,B.some({mode:"position",config:Se,getBounds:ze}))},E=function(ae,fe,Se){O(ae,fe,Se,B.none)},O=function(ae,fe,Se,ze){var we=io(t,ae,fe,Se,ze);Dr.open(ae,we),an.setValue(ae,B.some({mode:"menu",menu:we}))},$=function(ae){Dr.isOpen(ae)&&(an.setValue(ae,B.none()),Dr.close(ae))},V=function(ae){return Dr.getState(ae)},j=function(ae){Dr.isOpen(ae)&&an.getValue(ae).each(function(fe){switch(fe.mode){case"menu":Dr.getState(ae).each(fa.repositionMenus);break;case"position":var Se=t.lazySink(ae).getOrDie();ho.positionWithinBounds(Se,ae,fe.config,fe.getBounds());break}})},ee={setContent:s,showAt:d,showWithin:g,showWithinBounds:C,showMenuAt:E,showMenuWithinBounds:O,hide:$,getContent:V,reposition:j,isOpen:Dr.isOpen};return{uid:t.uid,dom:t.dom,behaviours:fi(t.inlineBehaviours,[Dr.config({isPartOf:function(ae,fe,Se){return Qd(fe,Se)||o(ae,Se)},getAttachPoint:function(ae){return t.lazySink(ae).getOrDie()},onOpen:function(ae){t.onShow(ae)},onClose:function(ae){t.onHide(ae)}}),an.config({store:{mode:"memory",initialValue:B.none()}}),nu.config({channels:ne(ne({},Vu(ne({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(ae){return{fireEventInstead:{event:ae.event}}}).getOr({})))),hm(ne(ne({},t.fireRepositionEventInstead.map(function(ae){return{fireEventInstead:{event:ae.event}}}).getOr({})),{doReposition:j})))})]),eventOrder:t.eventOrder,apis:ee}},ca=Ls({name:"InlineView",configFields:[xt("lazySink"),Xr("onShow"),Xr("onHide"),zv("onEscape"),Xo("inlineBehaviours",[Dr,an,nu]),ss("fireDismissalEventInstead",[Ve("event",Dl())]),ss("fireRepositionEventInstead",[Ve("event",qi())]),Ve("getRelated",B.none),Ve("isExtraPart",pe),Ve("eventOrder",B.none)],factory:dv,apis:{showAt:function(t,r,o,s){t.showAt(r,o,s)},showWithin:function(t,r,o,s,d){t.showWithin(r,o,s,d)},showWithinBounds:function(t,r,o,s,d){t.showWithinBounds(r,o,s,d)},showMenuAt:function(t,r,o,s){t.showMenuAt(r,o,s)},showMenuWithinBounds:function(t,r,o,s,d){t.showMenuWithinBounds(r,o,s,d)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),ds="layout-inset",mi=function(t){return t.x},w1=function(t,r){return t.x+t.width/2-r.width/2},mv=function(t,r){return t.x+t.width-r.width},wc=function(t){return t.y},Hs=function(t,r){return t.y+t.height-r.height},vf=function(t,r){return t.y+t.height/2-r.height/2},gy=function(t,r,o){return Qo(mv(t,r),Hs(t,r),o.insetSouthwest(),nm(),"southwest",qo(t,{right:0,bottom:3}),ds)},Og=function(t,r,o){return Qo(mi(t),Hs(t,r),o.insetSoutheast(),F2(),"southeast",qo(t,{left:1,bottom:3}),ds)},Dg=function(t,r,o){return Qo(mv(t,r),wc(t),o.insetNorthwest(),z2(),"northwest",qo(t,{right:0,top:2}),ds)},Rg=function(t,r,o){return Qo(mi(t),wc(t),o.insetNortheast(),Xb(),"northeast",qo(t,{left:1,top:2}),ds)},Cc=function(t,r,o){return Qo(w1(t,r),wc(t),o.insetNorth(),Pp(),"north",qo(t,{top:2}),ds)},$g=function(t,r,o){return Qo(w1(t,r),Hs(t,r),o.insetSouth(),L2(),"south",qo(t,{bottom:3}),ds)},Bg=function(t,r,o){return Qo(mv(t,r),vf(t,r),o.insetEast(),Nh(),"east",qo(t,{right:0}),ds)},TC=function(t,r,o){return Qo(mi(t),vf(t,r),o.insetWest(),H2(),"west",qo(t,{left:1}),ds)},Mg=function(t){switch(t){case"north":return Cc;case"northeast":return Rg;case"northwest":return Dg;case"south":return $g;case"southeast":return Og;case"southwest":return gy;case"east":return Bg;case"west":return TC}},N5=function(t,r,o,s,d){var g=J2(s).map(Mg).getOr(Cc);return g(t,r,o,s,d)},BE=function(t){switch(t){case"north":return $g;case"northeast":return Og;case"northwest":return gy;case"south":return Cc;case"southeast":return Rg;case"southwest":return Dg;case"east":return TC;case"west":return Bg}},a8=function(t,r,o,s,d){var g=J2(s).map(BE).getOr(Cc);return g(t,r,o,s,d)},Pg=tinymce.util.Tools.resolve("tinymce.util.Delay"),o8=function(t){var r=my(t.action),o=t.dom.tag,s=function(g){return En(t.dom,"attributes").bind(function(C){return En(C,g)})},d=function(){if(o==="button"){var g=s("type").getOr("button"),C=s("role").map(function(O){return{role:O}}).getOr({});return ne({type:g},C)}else{var E=s("role").getOr("button");return{role:E}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:il.augment(t.buttonBehaviours,[Yn.config({}),Fn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},ms=Ls({name:"Button",factory:o8,configFields:[Ve("uid",void 0),xt("dom"),Ve("components",[]),il.field("buttonBehaviours",[Yn,Fn]),Kr("action"),Kr("role"),Ve("eventOrder",{})]}),oa=function(t){var r=qw(t)&&lo(t,"uid")?t.uid:qv("memento"),o=function(g){return g.getSystem().getByUid(r).getOrDie()},s=function(g){return g.getSystem().getByUid(r).toOptional()},d=function(){return ne(ne({},t),{uid:r})};return{get:o,getOpt:s,asSpec:d}},df=tinymce.util.Tools.resolve("tinymce.util.I18n"),ME={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},z5="temporary-placeholder",py=function(t){return function(){return En(t,z5).getOr("!not found!")}},PE=function(t,r){var o=t.toLowerCase();if(df.isRtl()){var s=Df(o,"-rtl");return Mr(r,s)?s:o}else return o},F5=function(t,r){return En(r,PE(t,r))},L5=function(t,r){var o=r();return F5(t,o).getOrThunk(py(o))},i8=function(t,r,o){var s=r();return F5(t,s).or(o).getOrThunk(py(s))},u8=function(t){return df.isRtl()?Mr(ME,t):!1},IE=function(){return ar("add-focusable",[rr(function(t){P2(t.element,"svg").each(function(r){return ur(r,"focusable","false")})})])},NE=function(t,r,o,s){var d,g,C=u8(r)?["tox-icon--flip"]:[],E=En(o,PE(r,o)).or(s).getOrThunk(py(o));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(C),innerHtml:E},behaviours:Jt(_e(_e([],(g=t.behaviours)!==null&&g!==void 0?g:[],!0),[IE()],!1))}},hv=function(t,r,o,s){return s===void 0&&(s=B.none()),NE(r,t,o(),s)},s8=function(t,r,o){var s=o(),d=pt(t,function(g){return Mr(s,PE(g,s))});return NE(r,d.getOr(z5),s,B.none())},bk={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},l8=function(t){var r=oa({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Jt([Qn.config({})])}),o=function(ae){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+ae+"%"}}}},s=function(ae){return{dom:{tag:"div",classes:["tox-text"],innerHtml:ae+"%"}}},d=oa({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:Jt([Qn.config({})])}),g=function(ae,fe){ae.getSystem().isConnected()&&d.getOpt(ae).each(function(Se){Qn.set(Se,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(fe)]},s(fe)])})},C=function(ae,fe){if(ae.getSystem().isConnected()){var Se=r.get(ae);Qn.set(Se,[Ri(fe)])}},E={updateProgress:g,updateText:C},O=it([t.icon.toArray(),t.level.toArray(),t.level.bind(function(ae){return B.from(bk[ae])}).toArray()]),$=oa(ms.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[hv("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(ae){t.onAction(ae)}})),V=s8(O,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),j={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:Jt([Qn.config({})])},ee=[V,j];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(ae){return["tox-notification","tox-notification--in","tox-notification--"+ae]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Jt([Yn.config({}),ar("notification-events",[Rt(tl(),function(ae){$.getOpt(ae).each(Yn.focus)})])]),components:ee.concat(t.progress?[d.asSpec()]:[]).concat(t.closeButton?[$.asSpec()]:[]),apis:E}},zE=Ls({name:"Notification",factory:l8,configFields:[Kr("level"),xt("progress"),xt("icon"),xt("onAction"),xt("text"),xt("iconProvider"),xt("translationProvider"),Ca("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function FE(t,r,o){var s=r.backstage.shared,d=function($){switch($){case"bc-bc":return $g;case"tc-tc":return Cc;case"tc-bc":return Fu;case"bc-tc":default:return No}},g=function($){$.length>0&&gt($,function(V,j){j===0?V.moveRel(null,"banner"):V.moveRel($[j-1].getEl(),"bc-tc")})},C=function($,V){var j=!$.closeButton&&$.timeout&&($.timeout>0||$.timeout<0),ee=function(){V(),ca.hide(fe)},ae=La(zE.sketch({text:$.text,level:lt(["success","error","warning","warn","info"],$.type)?$.type:void 0,progress:$.progressBar===!0,icon:B.from($.icon),closeButton:!j,onAction:ee,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),fe=La(ca.sketch(ne({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(fe),$.timeout>0&&Pg.setTimeout(function(){ee()},$.timeout);var Se=function(){var ze=Ao(sn.fromDom(t.getContentAreaContainer())),we=Ai(),Le=fs(we.x,ze.x,ze.right),ft=fs(we.y,ze.y,ze.bottom),ct=Math.max(ze.right,we.right),Fe=Math.max(ze.bottom,we.bottom);return B.some(Vo(Le,ft,ct-Le,Fe-ft))};return{close:ee,moveTo:function(ze,we){ca.showAt(fe,zs(ae),{anchor:{type:"makeshift",x:ze,y:we}})},moveRel:function(ze,we){var Le=zs(ae),ft={maxHeightFunction:jh()};if(we!=="banner"&&L(ze)){var ct=d(we),Fe={type:"node",root:Hi(),node:B.some(sn.fromDom(ze)),overrides:ft,layouts:{onRtl:function(){return[ct]},onLtr:function(){return[ct]}}};ca.showWithinBounds(fe,Le,{anchor:Fe},Se)}else{var rt=ne(ne({},s.anchors.banner()),{overrides:ft});ca.showWithinBounds(fe,Le,{anchor:rt},Se)}},text:function(ze){zE.updateText(ae,ze)},settings:$,getEl:function(){return ae.element.dom},progressBar:{value:function(ze){zE.updateProgress(ae,ze)}}}},E=function($){$.close()},O=function($){return $.settings};return{open:C,close:E,reposition:g,getArgs:O}}var c8=function(t,r){var o=null,s=function(){D(o)||(clearTimeout(o),o=null)},d=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];D(o)&&(o=setTimeout(function(){o=null,t.apply(null,g)},r))};return{cancel:s,throttle:d}},LE=function(t,r){var o=null,s=function(){D(o)||(clearTimeout(o),o=null)},d=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];s(),o=setTimeout(function(){o=null,t.apply(null,g)},r)};return{cancel:s,throttle:d}},f8=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),v8=function(t,r){return t.isBlock(r)||lt(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},H5=function(t,r,o,s,d){var g=f8(t,function(C){return v8(t,C)});return B.from(g.backwards(r,o,s,d))},d8="[data-mce-autocompleter]",m8=function(t,r){return yk(sn.fromDom(t.selection.getNode())).getOrThunk(function(){var o=sn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Ui(o,sn.fromDom(r.extractContents())),r.insertNode(o.dom),_o(o).each(function(s){return s.dom.normalize()}),hw(o).map(function(s){t.selection.setCursorLocation(s.dom,V_(s))}),o})},yk=function(t){return al(t,d8)},h8=function(t){return t.collapsed&&t.startContainer.nodeType===3},V5=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},U5=function(t){return t!==""&&` \f
\r	\v`.indexOf(t)!==-1},HE=function(t,r){return t.substring(r.length)},VE=function(t,r,o){var s;for(s=r-1;s>=0;s--){var d=t.charAt(s);if(U5(d))return B.none();if(d===o)break}return B.some(s)},g8=function(t,r,o,s){if(s===void 0&&(s=0),!h8(r))return B.none();var d=function(C,E,O){return VE(O,E,o).getOr(E)},g=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return H5(t,r.startContainer,r.startOffset,d,g).bind(function(C){var E=r.cloneRange();if(E.setStart(C.container,C.offset),E.setEnd(r.endContainer,r.endOffset),E.collapsed)return B.none();var O=V5(E),$=O.lastIndexOf(o);return $!==0||HE(O,o).length<s?B.none():B.some({text:HE(O,o),range:E,triggerChar:o})})},UE=function(t,r,o,s){return s===void 0&&(s=0),yk(sn.fromDom(r.startContainer)).fold(function(){return g8(t,r,o,s)},function(d){var g=t.createRng();g.selectNode(d.dom);var C=V5(g);return B.some({range:g,text:HE(C,o),triggerChar:o})})},p8=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(s,d){In(s,Cb(),{raw:d})};r.on("keydown",function(s){var d=function(){return t.getView().bind(ta.getHighlighted)};s.which===8&&t.onKeypress.throttle(s),t.isActive()&&(s.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?s.which===13?(d().each(Bs),s.preventDefault()):s.which===40?(d().fold(function(){t.getView().each(ta.highlightFirst)},function(g){o(g,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&d().each(function(g){o(g,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(s){t.isActive()&&!t.isProcessingAction()&&yk(sn.fromDom(s.element)).isNone()&&t.cancelIfNecessary()})},W5={setup:p8},OC=tinymce.util.Tools.resolve("tinymce.util.Promise"),WE=function(t,r){return{container:t,offset:r}},b8=function(t){return t.nodeType===Yl},y8=function(t){return t.nodeType===Ov},j5=function(t){if(b8(t))return WE(t,t.data.length);var r=t.childNodes;return r.length>0?j5(r[r.length-1]):WE(t,r.length)},wk=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?wk(o[r],0):o.length>0&&y8(t)&&o.length===r?j5(o[o.length-1]):WE(t,r)},w8=function(t,r){return H5(t,r.container,r.offset,function(o,s){return s===0?-1:s},t.getRoot()).filter(function(o){var s=o.container.data.charAt(o.offset-1);return!U5(s)}).isSome()},C8=function(t){return function(r){var o=wk(r.startContainer,r.startOffset);return!w8(t,o)}},S8=function(t,r,o){return Zr(o.triggerChars,function(s){return UE(t,r,s)})},_8=function(t,r){var o=r(),s=t.selection.getRng();return S8(t.dom,s,o).bind(function(d){return G5(t,r,d)})},G5=function(t,r,o,s){s===void 0&&(s={});var d=r(),g=t.selection.getRng(),C=g.startContainer.nodeValue,E=Ae(d.lookupByChar(o.triggerChar),function($){return o.text.length>=$.minChars&&$.matches.getOrThunk(function(){return C8(t.dom)})(o.range,C,o.text)});if(E.length===0)return B.none();var O=OC.all(Ue(E,function($){var V=$.fetch(o.text,$.maxResults,s);return V.then(function(j){return{matchText:o.text,items:j,columns:$.columns,onAction:$.onAction,highlightOn:$.highlightOn}})}));return B.some({lookupData:O,context:o})},q5=$n([Xn("type"),Ea("text")]),x8=function(t){return Xa("separatormenuitem",q5,t)},k8=$n([Ve("type","autocompleteitem"),Ve("active",!1),Ve("disabled",!1),Ve("meta",{}),Xn("value"),Ea("text"),Ea("icon")]),A8=$n([Xn("type"),Xn("ch"),uc("minChars",1),Ve("columns",1),uc("maxResults",10),zv("matches"),tu("fetch"),tu("onAction"),Yf("highlightOn",[],yo)]),E8=function(t){return Xa("Autocompleter.Separator",q5,t)},T8=function(t){return Xa("Autocompleter.Item",k8,t)},jE=function(t){return Xa("Autocompleter",A8,t)},DC=[Ca("disabled",!1),Ea("tooltip"),Ea("icon"),Ea("text"),Ta("onSetup",function(){return q})],O8=$n([Xn("type"),tu("onAction")].concat(DC)),K5=function(t){return Xa("toolbarbutton",O8,t)},RC=[Ca("active",!1)].concat(DC),D8=$n(RC.concat([Xn("type"),tu("onAction")])),Ck=function(t){return Xa("ToggleButton",D8,t)},X5=[Ta("predicate",pe),Os("scope","node",["node","editor"]),Os("position","selection",["node","selection","line"])],R8=DC.concat([Ve("type","contextformbutton"),Ve("primary",!1),tu("onAction"),hu("original",Ee)]),$8=RC.concat([Ve("type","contextformbutton"),Ve("primary",!1),tu("onAction"),hu("original",Ee)]),B8=DC.concat([Ve("type","contextformbutton")]),M8=RC.concat([Ve("type","contextformtogglebutton")]),Y5=el("type",{contextformbutton:R8,contextformtogglebutton:$8}),P8=$n([Ve("type","contextform"),Ta("initValue",ue("")),Ea("label"),Gi("commands",Y5),ic("launch",el("type",{contextformbutton:B8,contextformtogglebutton:M8}))].concat(X5)),GE=function(t){return Xa("ContextForm",P8,t)},qE=$n([Ve("type","contexttoolbar"),Xn("items")].concat(X5)),J5=function(t){return Xa("ContextToolbar",qE,t)},KE=function(t){var r={};return gt(t,function(o){r[o]={}}),Lr(r)},XE=function(t){var r=t.ui.registry.getAll().popups,o=lr(r,function(C){return jE(C).fold(function(E){throw new Error(Nv(E))},Ee)}),s=KE(Si(o,function(C){return C.ch})),d=_i(o),g=function(C){return Ae(d,function(E){return E.ch===C})};return{dataset:o,triggerChars:s,lookupByChar:g}},Sk;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Sk||(Sk={}));var uu=Sk,$C="tox-menu-nav__js",YE="tox-collection__item",JE="tox-swatch",I8={normal:$C,color:JE},Z5="tox-collection__item--enabled",by="tox-collection__group-heading",ZE="tox-collection__item-icon",QE="tox-collection__item-label",N8="tox-collection__item-accessory",eT="tox-collection__item-caret",Q5="tox-collection__item-checkmark",C1="tox-collection__item--active",eD="tox-collection__item-container",tT="tox-collection__item-container--column",_k="tox-collection__item-container--row",z8="tox-collection__item-container--align-right",tD="tox-collection__item-container--align-left",nD="tox-collection__item-container--valign-top",F8="tox-collection__item-container--valign-middle",L8="tox-collection__item-container--valign-bottom",rD=function(t){return En(I8,t).getOr($C)},H8=function(t){return t==="color"?"tox-swatches":"tox-menu"},nT=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:H8(t),tieredMenu:"tox-tiered-menu"}},yy=function(t){var r=nT(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:rD(t)}},V8=function(t,r,o){var s=nT(o);return{tag:"div",classes:it([[s.menu,"tox-menu-"+r+"-column"],t?[s.hasIcons]:[]])}},U8=[On.parts.items({})],S1=function(t,r,o){var s=nT(o),d={tag:"div",classes:it([[s.tieredMenu]])};return{dom:d,markers:yy(o)}},xk=function(t,r){return function(o){var s=fn(o,r);return Ue(s,function(d){return{dom:t,components:d}})}},aD=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[On.parts.items({preprocess:t!=="auto"?xk({tag:"div",classes:["tox-swatches__row"]},t):Ee})]}]}},W8=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[On.parts.items({preprocess:xk({tag:"div",classes:["tox-collection__group"]},t)})]}},oD=function(t,r){var o=[],s=[];return gt(t,function(d,g){r(d,g)?(s.length>0&&o.push(s),s=[],Mr(d.dom,"innerHtml")&&s.push(d)):s.push(d)}),s.length>0&&o.push(s),Ue(o,function(d){return{dom:{tag:"div",classes:["tox-collection__group"]},components:d}})},BC=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[On.parts.items({preprocess:function(s){return t!=="auto"&&t>1?xk({tag:"div",classes:["tox-collection__group"]},t)(s):oD(s,function(d,g){return r[g].type==="separator"})}})]}},rT=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[On.parts.items({preprocess:function(o){return oD(o,function(s,d){return t[d].type==="separator"})}})]}},MC=function(t){return Sn(t,function(r){return"icon"in r&&r.icon!==void 0})},Sd=function(t){return console.error(Nv(t)),console.log(t),B.none()},iD=function(t,r,o,s,d){var g=rT(o);return{value:t,dom:g.dom,components:g.components,items:o}},aT=function(t,r,o,s,d){if(d==="color"){var g=aD(s);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"&&s==="auto"){var g=BC(s,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"&&s===1){var g=BC(1,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"){var g=BC(s,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="listpreview"&&s!=="auto"){var g=W8(s);return{value:t,dom:g.dom,components:g.components,items:o}}return{value:t,dom:V8(r,s,d),components:U8,items:o}},oT=[Xn("type"),Xn("src"),Ea("alt"),Yf("classes",[],yo)],j8=$n(oT),uD=[Xn("type"),Xn("text"),Ea("name"),Yf("classes",["tox-collection__item-label"],yo)],sD=$n(uD),wy=GS(function(){return yb("type",{cardimage:j8,cardtext:sD,cardcontainer:G8})}),G8=$n([Xn("type"),Ch("direction","horizontal"),Ch("align","left"),Ch("valign","middle"),Gi("items",wy)]),Ig=[Ca("disabled",!1),Ea("text"),Ea("shortcut"),Uo("value","value",Er(function(){return wn("menuitem-value")}),kl()),Ve("meta",{})],Cy=$n([Xn("type"),Ea("label"),Gi("items",wy),Ta("onSetup",function(){return q}),Ta("onAction",q)].concat(Ig)),q8=function(t){return Xa("cardmenuitem",Cy,t)},lD=$n([Xn("type"),Ca("active",!1),Ea("icon")].concat(Ig)),cD=function(t){return Xa("choicemenuitem",lD,t)},iT=[Xn("type"),Xn("fancytype"),Ta("onAction",q)],uT=[Ve("initData",{})].concat(iT),fD=[l2("initData",{},[Ca("allowCustomColors",!0),us("colors",kl())])].concat(iT),K8=el("fancytype",{inserttable:uT,colorswatch:fD}),X8=function(t){return Xa("fancymenuitem",K8,t)},kk=$n([Xn("type"),Ta("onSetup",function(){return q}),Ta("onAction",q),Ea("icon")].concat(Ig)),Y8=function(t){return Xa("menuitem",kk,t)},vD=$n([Xn("type"),tu("getSubmenuItems"),Ta("onSetup",function(){return q}),Ea("icon")].concat(Ig)),Sy=function(t){return Xa("nestedmenuitem",vD,t)},J8=$n([Xn("type"),Ea("icon"),Ca("active",!1),Ta("onSetup",function(){return q}),tu("onAction")].concat(Ig)),Z8=function(t){return Xa("togglemenuitem",J8,t)},sT=function(t,r,o){var s=au(t.element,"."+o);if(s.length>0){var d=Yt(s,function(g){var C=g.dom.getBoundingClientRect().top,E=s[0].dom.getBoundingClientRect().top;return Math.abs(C-E)>r}).getOr(s.length);return B.some({numColumns:d,numRows:Math.ceil(s.length/d)})}else return B.none()},lT=function(t,r){return Jt([ar(t,r)])},dD=function(t){return lT(wn("unnamed-events"),t)},Ak={namedEvents:lT,unnamedEvents:dD},mD=wn("tooltip.exclusive"),PC=wn("tooltip.show"),IC=wn("tooltip.hide"),hD=function(t,r,o){t.getSystem().broadcastOn([mD],{})},Ek=function(t,r,o,s){o.getTooltip().each(function(d){d.getSystem().isConnected()&&Qn.set(d,s)})},Q8=Object.freeze({__proto__:null,hideAllExclusive:hD,setComponents:Ek}),eP=function(t,r){var o=function(d){r.getTooltip().each(function(g){pc(g),t.onHide(d,g),r.clearTooltip()}),r.clearTimer()},s=function(d){if(!r.isShowing()){hD(d);var g=t.lazySink(d).getOrDie(),C=d.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Sa(t.mode==="normal"?[Rt(Zf(),function(E){Ur(d,PC)}),Rt(m2(),function(E){Ur(d,IC)})]:[]),behaviours:Jt([Qn.config({})])});r.setTooltip(C),vm(g,C),t.onShow(d,C),ho.position(g,C,{anchor:t.anchor(d)})}};return Sa(it([[Rt(PC,function(d){r.resetTimer(function(){s(d)},t.delay)}),Rt(IC,function(d){r.resetTimer(function(){o(d)},t.delay)}),Rt(nl(),function(d,g){var C=g;C.universal||lt(C.channels,mD)&&o(d)}),Ms(function(d){o(d)})],t.mode==="normal"?[Rt(tl(),function(d){Ur(d,PC)}),Rt(b2(),function(d){Ur(d,IC)}),Rt(Zf(),function(d){Ur(d,PC)}),Rt(m2(),function(d){Ur(d,IC)})]:[Rt(S2(),function(d,g){Ur(d,PC)}),Rt(Ab(),function(d){Ur(d,IC)})]]))},cT=Object.freeze({__proto__:null,events:eP}),gD=[xt("lazySink"),xt("tooltipDom"),Ve("exclusive",!0),Ve("tooltipComponents",[]),Ve("delay",300),Os("mode","normal",["normal","follow-highlight"]),Ve("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:ue([No,Fu,Xi,Cu,ei,Su]),onRtl:ue([No,Fu,Xi,Cu,ei,Su])}}}),Xr("onHide"),Xr("onShow")],tP=function(){var t=mo(),r=mo(),o=function(){t.on(clearTimeout)},s=function(g,C){o(),t.set(setTimeout(g,C))},d=ue("not-implemented");return Ki({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:o,resetTimer:s,readState:d})},pD=Object.freeze({__proto__:null,init:tP}),fT=Ko({fields:gD,name:"tooltipping",active:cT,state:pD,apis:Q8}),bD=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},_y=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),nP=tinymce.util.Tools.resolve("tinymce.EditorManager"),rP=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var s=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=nP.baseURL+"/skins/ui/"+s}return o},aP=function(t){return t.getParam("readonly",!1,"boolean")},oP=function(t){return t.getParam("skin")===!1},Tk=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},Ok=function(t){return t.getParam("width",_y.DOM.getStyle(t.getElement(),"width"))},vT=function(t){return B.from(t.getParam("min_width")).filter(H)},yD=function(t){return B.from(t.getParam("min_height")).filter(H)},Dk=function(t){return B.from(t.getParam("max_width")).filter(H)},wD=function(t){return B.from(t.getParam("max_height")).filter(H)},iP=function(t){return B.from(t.getParam("style_formats")).filter(T)},uP=function(t){return t.getParam("style_formats_merge",!1,"boolean")},CD=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},SD=function(t){return t.getParam("content_langs",void 0,"array")},_D=function(t){return t.getParam("removed_menuitems","")},dT=function(t){return t.getParam("menubar",!0,"boolean")!==!1},mT=function(t){var r=t.getParam("toolbar",!0),o=r===!0,s=S(r),d=T(r)&&r.length>0;return!Rk(t)&&(d||s||o)},xD=function(t){var r=te(9,function(s){return t.getParam("toolbar"+(s+1),!1,"string")}),o=Ae(r,function(s){return typeof s=="string"});return o.length>0?B.some(o):B.none()},Rk=function(t){return xD(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},ye)},Fl;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Fl||(Fl={}));var NC=function(t){return t.getParam("toolbar_mode","","string")},_1;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(_1||(_1={}));var sP=function(t){return t.getParam("toolbar_groups",{},"object")},kD=function(t){return t.getParam("toolbar_location",_1.auto,"string")},AD=function(t){return kD(t)===_1.bottom},lP=function(t){return t.getParam("fixed_toolbar_container","","string")},ED=function(t){return t.getParam("fixed_toolbar_container_target")},cP=function(t){return t.getParam("toolbar_persist",!1,"boolean")},TD=function(t){if(!t.inline)return B.none();var r=lP(t);if(r.length>0)return jo(Hi(),r);var o=ED(t);return L(o)?B.some(sn.fromDom(o)):B.none()},$k=function(t){return t.inline&&TD(t).isSome()},OD=function(t){var r=TD(t);return r.getOrThunk(function(){return Zl(xs(sn.fromDom(t.getElement())))})},DD=function(t){return t.inline&&!dT(t)&&!mT(t)&&!Rk(t)},Bk=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!$k(t)&&!DD(t)},Mk=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},RD=function(t){return t.getParam("draggable_modal",!1,"boolean")},fP=function(t){var r=t.getParam("menu");return r?lr(r,function(o){return ne(ne({},o),{items:o.items})}):{}},vP=function(t){return t.getParam("menubar")},dP=function(t){return t.getParam("toolbar",!0)},mP=function(t){return t.getParam("file_picker_callback")},hP=function(t){return t.getParam("file_picker_types")},hT=function(t){return t.getParam("file_browser_callback_types")},$D=function(t){return t.getParam("typeahead_urls")===!1},BD=function(t){return t.getParam("anchor_top","#top")},gP=function(t){return t.getParam("anchor_bottom","#bottom")},MD=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},gT="silver.readonly",pP=$n([T3("readonly")]),xy=function(t,r){var o=t.outerContainer,s=o.element;r&&(t.mothership.broadcastOn([mm()],{target:s}),t.uiMothership.broadcastOn([mm()],{target:s})),t.mothership.broadcastOn([gT],{readonly:r}),t.uiMothership.broadcastOn([gT],{readonly:r})},PD=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&xy(r,!0)}),t.on("SwitchMode",function(){return xy(r,t.mode.isReadOnly())}),aP(t)&&t.setMode("readonly")},ti=function(){var t;return nu.config({channels:(t={},t[gT]={schema:pP,onReceive:function(r,o){Mn.set(r,o.readonly)}},t)})},bP=function(t){return Mn.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},yP=function(t){return Mn.config({disabled:t})},wP=function(t){return Mn.config({disabled:t,disableClass:"tox-tbtn--disabled"})},CP=function(t){return Mn.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},mf={item:bP,button:yP,splitButton:wP,toolbarButton:CP},ky=function(t,r){var o=t.getApi(r);return function(s){s(o)}},x1=function(t,r){return rr(function(o){var s=ky(t,o);s(function(d){var g=t.onSetup(d);P(g)&&r.set(g)})})},k1=function(t,r){return Ms(function(o){return ky(t,o)(r.get())})},Pk,SP=function(t,r){return cs(function(o,s){ky(t,o)(t.onAction),!t.triggersSubmenu&&r===uu.CLOSE_ON_EXECUTE&&(Ur(o,Ep()),s.stop())})},_P=(Pk={},Pk[Rs()]=["disabling","alloy.base.behaviour","toggling","item-events"],Pk),Em=Pr,Ng=function(t,r,o,s){var d=Pn(q);return{type:"item",dom:r.dom,components:Em(r.optComponents),data:t.data,eventOrder:_P,hasSubmenu:t.triggersSubmenu,itemBehaviours:Jt([ar("item-events",[SP(t,o),x1(t,d),k1(t,d)]),mf.item(function(){return t.disabled||s.isDisabled()}),ti(),Qn.config({})].concat(t.itemBehaviours))}},Tm=function(t){return{value:t.value,meta:ne({text:t.text.getOr("")},t.meta)}},Ik=tinymce.util.Tools.resolve("tinymce.Env"),xP=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},s=Ik.mac?r:o,d=t.split("+"),g=Ue(d,function(C){var E=C.toLowerCase().trim();return Mr(s,E)?s[E]:C});return Ik.mac?g.join(""):g.join("+")},pT=function(t,r,o){return o===void 0&&(o=[ZE]),hv(t,{tag:"div",classes:o},r)},ID=function(t){return{dom:{tag:"div",classes:[QE]},components:[Ri(df.translate(t))]}},ND=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},kP=function(t,r){return{dom:{tag:"div",classes:[QE]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Ri(df.translate(r))]}]}},AP=function(t){return{dom:{tag:"div",classes:[N8],innerHtml:xP(t)}}},zD=function(t){return pT("checkmark",t,[Q5])},EP=function(t){return pT("chevron-right",t,[eT])},TP=function(t){return pT("chevron-down",t,[eT])},OP=function(t,r){var o=t.direction==="vertical"?tT:_k,s=t.align==="left"?tD:z8,d=function(){switch(t.valign){case"top":return nD;case"middle":return F8;case"bottom":return L8}};return{dom:{tag:"div",classes:[eD,o,s,d()]},components:r}},DP=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},RP=function(t,r,o){var s="custom",d="remove",g=t.ariaLabel,C=t.value,E=t.iconContent.map(function($){return i8($,r.icons,o)}),O=function(){var $=JE,V=E.getOr(""),j=g.map(function(ae){return{title:r.translate(ae)}}).getOr({}),ee={tag:"div",attributes:j,classes:[$]};return C===s?ne(ne({},ee),{tag:"button",classes:_e(_e([],ee.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:V}):C===d?ne(ne({},ee),{classes:_e(_e([],ee.classes,!0),["tox-swatch--remove"],!1),innerHtml:V}):ne(ne({},ee),{attributes:ne(ne({},ee.attributes),{"data-mce-color":C}),styles:{"background-color":C}})};return{dom:O(),optComponents:[]}},FD=function(t){var r=t.map(function(o){return{attributes:{title:df.translate(o)}}}).getOr({});return ne({tag:"div",classes:[$C,YE]},r)},LD=function(t,r,o,s){var d={tag:"div",classes:[ZE]},g=function(ee){return hv(ee,d,r.icons,s)},C=function(){return B.some({dom:d})},E=o?t.iconContent.map(g).orThunk(C):B.none(),O=t.checkMark,$=B.from(t.meta).fold(function(){return ID},function(ee){return Mr(ee,"style")?ke(kP,ee.style):ID}),V=t.htmlContent.fold(function(){return t.textContent.map($)},function(ee){return B.some(ND(ee,[QE]))}),j={dom:FD(t.ariaLabel),optComponents:[E,V,t.shortcutContent.map(AP),O,t.caret]};return j},zC=function(t,r,o,s){return s===void 0&&(s=B.none()),t.presets==="color"?RP(t,r,s):LD(t,r,o,s)},HD=function(t,r){return En(t,"tooltipWorker").map(function(o){return[fT.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:jh}}},mode:"follow-highlight",onShow:function(s,d){o(function(g){fT.setComponents(s,[Hb({element:sn.fromDom(g)})])})}})]}).getOr([])},Om=function(t){return _y.DOM.encode(t)},VD=function(t,r){var o=df.translate(t),s=Om(o);if(r.length>0){var d=new RegExp(bD(r),"gi");return s.replace(d,function(g){return'<span class="tox-autocompleter-highlight">'+g+"</span>"})}else return s},$P=function(t,r,o,s,d,g,C,E){E===void 0&&(E=!0);var O=zC({presets:s,textContent:B.none(),htmlContent:o?t.text.map(function($){return VD($,r)}):B.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:B.none(),checkMark:B.none(),caret:B.none(),value:t.value},C.providers,E,t.icon);return Ng({data:Tm(t),disabled:t.disabled,getApi:ue({}),onAction:function($){return d(t.value,t.meta)},onSetup:ue(q),triggersSubmenu:!1,itemBehaviours:HD(t.meta,C)},O,g,C.providers)},Nk=function(t,r){return Ue(t,function(o){switch(o.type){case"cardcontainer":return OP(o,Nk(o.items,r));case"cardimage":return DP(o.src,o.classes,o.alt);case"cardtext":var s=o.name.exists(function(g){return lt(r.cardText.highlightOn,g)}),d=s?B.from(r.cardText.matchText).getOr(""):"";return ND(VD(o.text,d),o.classes)}})},Ni=function(t,r,o,s){var d=function(C){return{isDisabled:function(){return Mn.isDisabled(C)},setDisabled:function(E){Mn.set(C,E),gt(au(C.element,"*"),function(O){C.getSystem().getByDom(O).each(function($){$.hasConfigured(Mn)&&Mn.set($,E)})})}}},g={dom:FD(t.label),optComponents:[B.some({dom:{tag:"div",classes:[eD,_k]},components:Nk(t.items,s)})]};return Ng({data:Tm(ne({text:B.none()},t)),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:B.from(s.itemBehaviours).getOr([])},g,r,o.providers)},BP=function(t,r,o,s,d,g,C,E){E===void 0&&(E=!0);var O=function(V){return{setActive:function(j){Ir.set(V,j)},isActive:function(){return Ir.isOn(V)},isDisabled:function(){return Mn.isDisabled(V)},setDisabled:function(j){return Mn.set(V,j)}}},$=zC({presets:o,textContent:r?t.text:B.none(),htmlContent:B.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:B.none(),checkMark:r?B.some(zD(C.icons)):B.none(),caret:B.none(),value:t.value},C,E);return bt(Ng({data:Tm(t),disabled:t.disabled,getApi:O,onAction:function(V){return s(t.value)},onSetup:function(V){return V.setActive(d),q},triggersSubmenu:!1,itemBehaviours:[]},$,g,C),{toggling:{toggleClass:Z5,toggleOnExecute:!1,selected:t.active}})},UD=ym(R(),z()),WD=function(t){return{value:t}},jD=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,GD=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,qD=function(t){return jD.test(t)||GD.test(t)},MP=function(t){return pl(t,"#").toUpperCase()},PP=function(t){return qD(t)?B.some({value:MP(t)}):B.none()},IP=function(t){var r=t.value.replace(jD,function(o,s,d,g){return s+s+d+d+g+g});return{value:r}},NP=function(t){var r=IP(t),o=GD.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},bT=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},FC=function(t){var r=bT(t.red)+bT(t.green)+bT(t.blue);return WD(r)},KD=Math.min,XD=Math.max,zk=Math.round,zP=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,FP=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,zg=function(t,r,o,s){return{red:t,green:r,blue:o,alpha:s}},yT=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},YD=function(t){var r,o,s,d=(t.hue||0)%360,g=t.saturation/100,C=t.value/100;if(g=XD(0,KD(g,1)),C=XD(0,KD(C,1)),g===0)return r=o=s=zk(255*C),zg(r,o,s,1);var E=d/60,O=C*g,$=O*(1-Math.abs(E%2-1)),V=C-O;switch(Math.floor(E)){case 0:r=O,o=$,s=0;break;case 1:r=$,o=O,s=0;break;case 2:r=0,o=O,s=$;break;case 3:r=0,o=$,s=O;break;case 4:r=$,o=0,s=O;break;case 5:r=O,o=0,s=$;break;default:r=o=s=0}return r=zk(255*(r+V)),o=zk(255*(o+V)),s=zk(255*(s+V)),zg(r,o,s,1)},LC=function(t){var r=NP(t),o=parseInt(r[1],16),s=parseInt(r[2],16),d=parseInt(r[3],16);return zg(o,s,d,1)},JD=function(t,r,o,s){var d=parseInt(t,10),g=parseInt(r,10),C=parseInt(o,10),E=parseFloat(s);return zg(d,g,C,E)},ZD=function(t){if(t==="transparent")return B.some(zg(0,0,0,0));var r=zP.exec(t);if(r!==null)return B.some(JD(r[1],r[2],r[3],"1"));var o=FP.exec(t);return o!==null?B.some(JD(o[1],o[2],o[3],o[4])):B.none()},QD=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},eR=zg(255,0,0,1),LP=function(t){return t.fire("SkinLoaded")},tR=function(t,r){return t.fire("SkinLoadError",r)},HP=function(t){return t.fire("ResizeEditor")},wT=function(t,r){return t.fire("ResizeContent",r)},VP=function(t,r){return t.fire("ScrollContent",r)},nR=function(t,r){return t.fire("TextColorChange",r)},HC=function(t,r,o){return{hue:t,saturation:r,value:o}},CT=function(t){var r=0,o=0,s=0,d=t.red/255,g=t.green/255,C=t.blue/255,E=Math.min(d,Math.min(g,C)),O=Math.max(d,Math.max(g,C));if(E===O)return s=E,HC(0,0,s*100);var $=d===E?g-C:C===E?d-g:C-d;return r=d===E?3:C===E?1:5,r=60*(r-$/(O-E)),o=(O-E)/O,s=O,HC(Math.round(r),Math.round(o*100),Math.round(s*100))},UP=function(t){return CT(LC(t))},rR=function(t){return FC(YD(t))},aR=function(t){return PP(t).orThunk(function(){return ZD(t).map(FC)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data,d=s[0],g=s[1],C=s[2],E=s[3];return FC(zg(d,g,C,E))})},Fk=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),ST="tinymce-custom-colors";function oR(t){t===void 0&&(t=10);var r=Fk.getItem(ST),o=S(r)?JSON.parse(r):[],s=function(O){var $=t-O.length;return $<0?O.slice(0,t):O},d=s(o),g=function(O){cn(d,O).each(C),d.unshift(O),d.length>t&&d.pop(),Fk.setItem(ST,JSON.stringify(d))},C=function(O){d.splice(O,1)},E=function(){return d.slice(0)};return{add:g,state:E}}var hi="choiceitem",iR=[{type:hi,text:"Light Green",value:"#BFEDD2"},{type:hi,text:"Light Yellow",value:"#FBEEB8"},{type:hi,text:"Light Red",value:"#F8CAC6"},{type:hi,text:"Light Purple",value:"#ECCAFA"},{type:hi,text:"Light Blue",value:"#C2E0F4"},{type:hi,text:"Green",value:"#2DC26B"},{type:hi,text:"Yellow",value:"#F1C40F"},{type:hi,text:"Red",value:"#E03E2D"},{type:hi,text:"Purple",value:"#B96AD9"},{type:hi,text:"Blue",value:"#3598DB"},{type:hi,text:"Dark Turquoise",value:"#169179"},{type:hi,text:"Orange",value:"#E67E23"},{type:hi,text:"Dark Red",value:"#BA372A"},{type:hi,text:"Dark Purple",value:"#843FA1"},{type:hi,text:"Dark Blue",value:"#236FA1"},{type:hi,text:"Light Gray",value:"#ECF0F1"},{type:hi,text:"Medium Gray",value:"#CED4D9"},{type:hi,text:"Gray",value:"#95A5A6"},{type:hi,text:"Dark Gray",value:"#7E8C8D"},{type:hi,text:"Navy Blue",value:"#34495E"},{type:hi,text:"Black",value:"#000000"},{type:hi,text:"White",value:"#ffffff"}],uR=oR(10),WP=function(t){for(var r=[],o=0;o<t.length;o+=2)r.push({text:t[o+1],value:"#"+aR(t[o]).value,type:"choiceitem"});return r},jP=function(t,r){return t.getParam("color_cols",r,"number")},sR=function(t){return t.getParam("custom_colors")!==!1},GP=function(t){return t.getParam("color_map")},_T=function(t){var r=GP(t);return r!==void 0?WP(r):iR},xT=function(){return Ue(uR.state(),function(t){return{type:hi,text:t,value:t}})},kT=function(t){uR.add(t)},AT="#000000",lR=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(s){var d;(d=s.style[r==="forecolor"?"color":"background-color"])&&(o=o||d)}),B.from(o)},qP=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},KP=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},ET=function(t){t.addCommand("mceApplyTextcolor",function(r,o){qP(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){KP(t,r)})},XP=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},cR=function(t){var r=_T(t),o=XP(r.length);return jP(t,o)},fR=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,s]:[o]},VC=function(t,r,o,s){if(o==="custom"){var d=hR(t);d(function(g){g.each(function(C){kT(C),t.execCommand("mceApplyTextcolor",r,C),s(C)})},AT)}else o==="remove"?(s(""),t.execCommand("mceRemoveTextcolor",r)):(s(o),t.execCommand("mceApplyTextcolor",r,o))},vR=function(t,r){return t.concat(xT().concat(fR(r)))},TT=function(t,r){return function(o){o(vR(t,r))}},dR=function(t,r,o){var s=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(s,o)},Ay=function(t,r,o,s,d){t.ui.registry.addSplitButton(r,{tooltip:s,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(g){var C=lR(t,o);return C.bind(function(E){return ZD(E).map(function(O){var $=FC(O).value;return ma(g.toLowerCase(),$)})}).getOr(!1)},columns:cR(t),fetch:TT(_T(t),sR(t)),onAction:function(g){VC(t,o,d.get(),q)},onItemAction:function(g,C){VC(t,o,C,function(E){d.set(E),nR(t,{name:r,color:E})})},onSetup:function(g){dR(g,r,d.get());var C=function(E){E.name===r&&dR(g,E.name,E.color)};return t.on("TextColorChange",C),function(){t.off("TextColorChange",C)}}})},mR=function(t,r,o,s){t.ui.registry.addNestedMenuItem(r,{text:s,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(d){VC(t,o,d.value,q)}}]}})},hR=function(t){return function(r,o){var s=!1,d=function(E){var O=E.getData(),$=O.colorpicker;s?(r(B.from($)),E.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",$]))},g=function(E,O){O.name==="hex-valid"&&(s=O.value)},C={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:C,onAction:g,onSubmit:d,onClose:q,onCancel:function(){r(B.none())}})}},YP=function(t){ET(t);var r=Pn(AT),o=Pn(AT);Ay(t,"forecolor","forecolor","Text color",r),Ay(t,"backcolor","hilitecolor","Background color",o),mR(t,"forecolor","forecolor","Text color"),mR(t,"backcolor","hilitecolor","Background color")},OT=function(t,r,o,s,d,g,C,E){var O=MC(r),$=d!=="color"?"normal":"color",V=JP(r,o,s,$,g,C,E);return aT(t,O,V,s,d)},JP=function(t,r,o,s,d,g,C){return Pr(Ue(t,function(E){return E.type==="choiceitem"?cD(E).fold(Sd,function(O){return B.some(BP(O,o===1,s,r,g(E.value),d,C,MC(t)))}):B.none()}))},Lk=function(t,r){var o=yy(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var s=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},gR=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+JE:"."+YE}}},pR=function(t,r){var o=bR(t,r),s=r.colorinput.getColorCols(),d="color",g=OT(wn("menu-value"),o,function(E){t.onAction({value:E})},s,d,uu.CLOSE_ON_EXECUTE,pe,r.shared.providers),C=ne(ne({},g),{markers:yy(d),movement:Lk(s,d)});return{type:"widget",data:{value:wn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[UD.widget(On.sketch(C))]}},bR=function(t,r){var o=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return vR(r.colorinput.getColors(),o)},function(s){return s.concat(fR(o))})},yR=wn("cell-over"),Hk=wn("cell-execute"),ZP=function(t,r,o){var s,d=function(E){return In(E,yR,{row:t,col:r})},g=function(E){return In(E,Hk,{row:t,col:r})},C=function(E,O){O.stop(),g(E)};return La({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=o,s)},behaviours:Jt([ar("insert-table-picker-cell",[Rt(Zf(),Yn.focus),Rt(Rs(),g),Rt(kh(),C),Rt(Hv(),C)]),Ir.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Yn.config({onFocus:d})])})},QP=function(t,r,o){for(var s=[],d=0;d<r;d++){for(var g=[],C=0;C<o;C++)g.push(ZP(d,C,t));s.push(g)}return s},eI=function(t,r,o,s,d){for(var g=0;g<s;g++)for(var C=0;C<d;C++)Ir.set(t[g][C],g<=r&&C<=o)},tI=function(t){return Wt(t,function(r){return Ue(r,zs)})},wR=function(t,r){return Ri(r+"x"+t)},nI=function(t){var r=10,o=10,s=wn("size-label"),d=QP(s,r,o),g=wR(0,0),C=oa({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[g],behaviours:Jt([Qn.config({})])});return{type:"widget",data:{value:wn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[UD.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:tI(d).concat(C.asSpec()),behaviours:Jt([ar("insert-table-picker",[rr(function(E){Qn.set(C.get(E),[g])}),Uv(yR,function(E,O,$){var V=$.event,j=V.row,ee=V.col;eI(d,j,ee,r,o),Qn.set(C.get(E),[wR(j+1,ee+1)])}),Uv(Hk,function(E,O,$){var V=$.event,j=V.row,ee=V.col;t.onAction({numRows:j+1,numColumns:ee+1}),Ur(E,Ep())})]),Fn.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},rI={inserttable:nI,colorswatch:pR},aI=function(t,r){return En(rI,t.fancytype).map(function(o){return o(t,r)})},oI=function(t,r,o,s,d){s===void 0&&(s=!0),d===void 0&&(d=!1);var g=d?TP(o.icons):EP(o.icons),C=function(O){return{isDisabled:function(){return Mn.isDisabled(O)},setDisabled:function($){return Mn.set(O,$)}}},E=zC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,caret:B.some(g),checkMark:B.none(),shortcutContent:t.shortcut},o,s);return Ng({data:Tm(t),getApi:C,disabled:t.disabled,onAction:q,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},E,r,o)},iI=function(t,r,o,s){s===void 0&&(s=!0);var d=function(C){return{isDisabled:function(){return Mn.isDisabled(C)},setDisabled:function(E){return Mn.set(C,E)}}},g=zC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,caret:B.none(),checkMark:B.none(),shortcutContent:t.shortcut},o,s);return Ng({data:Tm(t),getApi:d,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,o)},uI=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:ne({tag:"div",classes:[YE,by]},r),components:[]}},sI=function(t,r,o,s){s===void 0&&(s=!0);var d=function(C){return{setActive:function(E){Ir.set(C,E)},isActive:function(){return Ir.isOn(C)},isDisabled:function(){return Mn.isDisabled(C)},setDisabled:function(E){return Mn.set(C,E)}}},g=zC({iconContent:t.icon,textContent:t.text,htmlContent:B.none(),ariaLabel:t.text,checkMark:B.some(zD(o.icons)),caret:B.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,s);return bt(Ng({data:Tm(t),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,o),{toggling:{toggleClass:Z5,toggleOnExecute:!1,selected:t.active}})},CR=$P,SR=uI,lI=iI,DT=oI,Vk=sI,cI=aI,Uk=Ni,UC;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(UC||(UC={}));var fI=function(t,r,o,s,d){var g=o.shared.providers,C=function(E){return d?ne(ne({},E),{shortcut:B.none(),icon:E.text.isSome()?B.none():E.icon}):E};switch(t.type){case"menuitem":return Y8(t).fold(Sd,function(E){return B.some(lI(C(E),r,g,s))});case"nestedmenuitem":return Sy(t).fold(Sd,function(E){return B.some(DT(C(E),r,g,s,d))});case"togglemenuitem":return Z8(t).fold(Sd,function(E){return B.some(Vk(C(E),r,g,s))});case"separator":return x8(t).fold(Sd,function(E){return B.some(SR(E))});case"fancymenuitem":return X8(t).fold(Sd,function(E){return cI(C(E),o)});default:return console.error("Unknown item in general menu",t),B.none()}},vI=function(t,r,o,s,d,g,C){var E=s===1,O=!E||MC(t);return Pr(Ue(t,function($){switch($.type){case"separator":return E8($).fold(Sd,function(V){return B.some(SR(V))});case"cardmenuitem":return q8($).fold(Sd,function(V){return B.some(Uk(ne(ne({},V),{onAction:function(j){V.onAction(j),o(V.value,V.meta)}}),d,g,{itemBehaviours:HD(V.meta,g),cardText:{matchText:r,highlightOn:C}}))});case"autocompleteitem":default:return T8($).fold(Sd,function(V){return B.some(CR(V,r,E,"normal",o,d,g,O))})}}))},_R=function(t,r,o,s,d){var g=MC(r),C=Pr(Ue(r,function(O){var $=function(j){return d?!Mr(j,"text"):g},V=function(j){return fI(j,o,s,$(j),d)};return O.type==="nestedmenuitem"&&O.getSubmenuItems().length<=0?V(ne(ne({},O),{disabled:!0})):V(O)})),E=d?iD:aT;return E(t,g,C,1,"normal")},xR=function(t){return fa.singleData(t.value,t)},dI=function(t,r,o,s){var d=o===UC.ContentFocus?xx():c1(),g=Lk(r,s),C=yy(s);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:C.selectedItem,item:C.item},movement:g,fakeFocus:o===UC.ContentFocus,focusManager:d,menuBehaviours:Ak.unnamedEvents(r!=="auto"?[]:[rr(function(E,O){sT(E,4,C.item).each(function($){var V=$.numColumns,j=$.numRows;Fn.setGridSize(E,j,V)})})])}},kR=function(t,r){var o=mo(),s=Pn(!1),d=La(ca.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Jt([ar("dismissAutocompleter",[Rt(Dl(),function(){return O()})])]),lazySink:r.getSink})),g=function(){return ca.isOpen(d)},C=function(){return o.get().isSome()},E=function(){C()&&ca.hide(d)},O=function(){if(C()){var we=o.get().map(function(Le){return Le.element});yk(we.getOr(sn.fromDom(t.selection.getNode()))).each(ch),E(),o.clear(),s.set(!1)}},$=es(function(){return XE(t)}),V=function(we,Le){var ft=Zr(Le,function(ct){return B.from(ct.columns)}).getOr(1);return Wt(Le,function(ct){var Fe=ct.items;return vI(Fe,ct.matchText,function(rt,Ct){var on=t.selection.getRng();UE(t.dom,on,we).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Ot){var ln=Ot.range,Mt={hide:function(){O()},reload:function(wt){E(),fe(wt)}};s.set(!0),ct.onAction(Mt,ln,rt,Ct),s.set(!1)})},ft,uu.BUBBLE_TO_SANDBOX,r,ct.highlightOn)})},j=function(we){if(!C()){var Le=m8(t,we.range);o.set({triggerChar:we.triggerChar,element:Le,matchLength:we.text.length}),s.set(!1)}},ee=function(we,Le,ft,ct){we.matchLength=Le.text.length;var Fe=Zr(ft,function(rt){return B.from(rt.columns)}).getOr(1);ca.showAt(d,On.sketch(dI(aT("autocompleter-value",!0,ct,Fe,"normal"),Fe,UC.ContentFocus,"normal")),{anchor:{type:"node",root:sn.fromDom(t.getBody()),node:B.from(we.element)}}),ca.getContent(d).each(ta.highlightFirst)},ae=function(we){return o.get().map(function(Le){return UE(t.dom,t.selection.getRng(),Le.triggerChar).bind(function(ft){return G5(t,$,ft,we)})}).getOrThunk(function(){return _8(t,$)})},fe=function(we){ae(we).fold(O,function(Le){j(Le.context),Le.lookupData.then(function(ft){o.get().map(function(ct){var Fe=Le.context;if(ct.triggerChar===Fe.triggerChar){var rt=V(Fe.triggerChar,ft);rt.length>0?ee(ct,Fe,ft,rt):Fe.text.length-ct.matchLength>=10?O():E()}})})})},Se=LE(function(we){we.which!==27&&fe()},50),ze={onKeypress:Se,cancelIfNecessary:O,isMenuOpen:g,isActive:C,isProcessingAction:s.get,getView:function(){return ca.getContent(d)}};t.hasPlugin("rtc")===!1&&W5.setup(ze,t)},mI={register:kR},WC=function(t,r,o){return al(t,r,o).isSome()},AR=function(t,r){var o=null,s=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];o=setTimeout(function(){t.apply(null,g),o=null},r)},d=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:d,schedule:s}},ER=5,hI=400,TR=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?B.none():B.some(r.touches[0])},gI=function(t,r){var o=Math.abs(t.clientX-r.x),s=Math.abs(t.clientY-r.y);return o>ER||s>ER},RT=function(t){var r=mo(),o=Pn(!1),s=AR(function($){t.triggerEvent(_b(),$),o.set(!0)},hI),d=function($){return TR($).each(function(V){s.cancel();var j={x:V.clientX,y:V.clientY,target:$.target};s.schedule($),o.set(!1),r.set(j)}),B.none()},g=function($){return s.cancel(),TR($).each(function(V){r.on(function(j){gI(V,j)&&r.clear()})}),B.none()},C=function($){s.cancel();var V=function(j){return _a(j.target,$.target)};return r.get().filter(V).map(function(j){return o.get()?($.prevent(),!1):t.triggerEvent(Hv(),$)})},E=Jf([{key:Wc(),value:d},{key:Tl(),value:g},{key:Fv(),value:C}]),O=function($,V){return En(E,V).bind(function(j){return j($)})};return{fireIfReady:O}},pI=function(t){var r=t.raw;return r.which===j0[0]&&!lt(["input","textarea"],Qu(t.target))&&!WC(t.target,'[contenteditable="true"]')},$T=function(){return Hn().browser.isFirefox()},bI=function(t,r){return $T()?l0(t,"focus",r):wo(t,"focusin",r)},yI=function(t,r){return $T()?l0(t,"blur",r):wo(t,"focusout",r)},OR=function(t,r){var o=ne({stopBackspace:!0},r),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=RT(o),g=Ue(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(ae){return wo(t,ae,function(fe){d.fireIfReady(fe,ae).each(function(ze){ze&&fe.kill()});var Se=o.triggerEvent(ae,fe);Se&&fe.kill()})}),C=mo(),E=wo(t,"paste",function(ae){d.fireIfReady(ae,"paste").each(function(Se){Se&&ae.kill()});var fe=o.triggerEvent("paste",ae);fe&&ae.kill(),C.set(setTimeout(function(){o.triggerEvent(y2(),ae)},0))}),O=wo(t,"keydown",function(ae){var fe=o.triggerEvent("keydown",ae);fe?ae.kill():o.stopBackspace&&pI(ae)&&ae.prevent()}),$=bI(t,function(ae){var fe=o.triggerEvent("focusin",ae);fe&&ae.kill()}),V=mo(),j=yI(t,function(ae){var fe=o.triggerEvent("focusout",ae);fe&&ae.kill(),V.set(setTimeout(function(){o.triggerEvent(b2(),ae)},0))}),ee=function(){gt(g,function(ae){ae.unbind()}),O.unbind(),$.unbind(),j.unbind(),E.unbind(),C.on(clearTimeout),V.on(clearTimeout)};return{unbind:ee}},Ey=function(t,r){var o=En(t,"target").getOr(r);return Pn(o)},wI=function(t,r){var o=Pn(!1),s=Pn(!1),d=function(){o.set(!0)},g=function(){s.set(!0)};return{stop:d,cut:g,isStopped:o.get,isCut:s.get,event:t,setSource:r.set,getSource:r.get}},CI=function(t){var r=Pn(!1),o=function(){r.set(!0)};return{stop:o,cut:q,isStopped:r.get,isCut:pe,event:t,setSource:le("Cannot set source of a broadcasted event"),getSource:le("Cannot get source of a broadcasted event")}},jC=Ds.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),GC=function(t,r,o,s,d,g){var C=t(r,s),E=wI(o,d);return C.fold(function(){return g.logEventNoHandlers(r,s),jC.complete()},function(O){var $=O.descHandler,V=D2($);return V(E),E.isStopped()?(g.logEventStopped(r,O.element,$.purpose),jC.stopped()):E.isCut()?(g.logEventCut(r,O.element,$.purpose),jC.complete()):_o(O.element).fold(function(){return g.logNoParent(r,O.element,$.purpose),jC.complete()},function(j){return g.logEventResponse(r,O.element,$.purpose),jC.resume(j)})})},DR=function(t,r,o,s,d,g){return GC(t,r,o,s,d,g).fold(ye,function(C){return DR(t,r,o,C,d,g)},pe)},SI=function(t,r,o,s,d){var g=Ey(o,s);return GC(t,r,o,s,g,d)},RR=function(t,r,o){var s=CI(r);return gt(t,function(d){var g=d.descHandler,C=D2(g);C(s)}),s.isStopped()},_I=function(t,r,o,s){return $R(t,r,o,o.target,s)},$R=function(t,r,o,s,d){var g=Ey(o,s);return DR(t,r,o,s,g,d)},xI=function(t,r){return{element:t,descHandler:r}},kI=function(t,r){return{id:t,descHandler:r}},AI=function(){var t={},r=function(C,E,O){Vr(O,function($,V){var j=t[V]!==void 0?t[V]:{};j[E]=O2($,C),t[V]=j})},o=function(C,E){return Gv(E).bind(function(O){return En(C,O)}).map(function(O){return xI(E,O)})},s=function(C){return En(t,C).map(function(E){return Si(E,function(O,$){return kI($,O)})}).getOr([])},d=function(C,E,O){return En(t,E).bind(function($){return Sh(O,function(V){return o($,V)},C)})},g=function(C){Vr(t,function(E,O){Mr(E,C)&&delete E[C]})};return{registerId:r,unregisterId:g,filterByType:s,find:d}},EI=function(){var t=AI(),r={},o=function($){var V=$.element;return Gv(V).getOrThunk(function(){return a_("uid-",$.element)})},s=function($,V){var j=r[V];if(j===$)g($);else throw new Error('The tagId "'+V+'" is already used by: '+pu(j.element)+`
Cannot use it for: `+pu($.element)+`
The conflicting element is`+(fu(j.element)?" ":" not ")+"already in the DOM")},d=function($){var V=o($);lo(r,V)&&s($,V);var j=[$];t.registerId(j,V,$.events),r[V]=$},g=function($){Gv($.element).each(function(V){delete r[V],t.unregisterId(V)})},C=function($){return t.filterByType($)},E=function($,V,j){return t.find($,V,j)},O=function($){return En(r,$)};return{find:E,filter:C,register:d,unregister:g,getById:O}},TI=function(t){var r=t.dom,o=r.attributes,s=U(r,["attributes"]);return{uid:t.uid,dom:ne({tag:"div",attributes:ne({role:"presentation"},o)},s),components:t.components,behaviours:vg(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},ku=Ls({name:"Container",factory:TI,configFields:[Ve("components",[]),Xo("containerBehaviours",[]),Ve("events",{}),Ve("domModification",{}),Ve("eventOrder",{})]}),BR=function(t){var r=function(we){return _o(t.element).fold(ye,function(Le){return _a(we,Le)})},o=EI(),s=function(we,Le){return o.find(r,we,Le)},d=OR(t.element,{triggerEvent:function(we,Le){return N2(we,Le.target,function(ft){return _I(s,we,Le,ft)})}}),g={debugInfo:ue("real"),triggerEvent:function(we,Le,ft){N2(we,Le,function(ct){return $R(s,we,ft,Le,ct)})},triggerFocus:function(we,Le){Gv(we).fold(function(){vc(we)},function(ft){N2(Lv(),we,function(ct){return SI(s,Lv(),{originator:Le,kill:q,prevent:q,target:we},we,ct),!1})})},triggerEscape:function(we,Le){g.triggerEvent("keydown",we.element,Le.event)},getByUid:function(we){return Se(we)},getByDom:function(we){return ze(we)},build:La,addToGui:function(we){O(we)},removeFromGui:function(we){$(we)},addToWorld:function(we){C(we)},removeFromWorld:function(we){E(we)},broadcast:function(we){ee(we)},broadcastOn:function(we,Le){ae(we,Le)},broadcastEvent:function(we,Le){fe(we,Le)},isConnected:ye},C=function(we){we.connect(g),Du(we.element)||(o.register(we),gt(we.components(),C),g.triggerEvent(Wd(),we.element,{target:we.element}))},E=function(we){Du(we.element)||(gt(we.components(),E),o.unregister(we)),we.disconnect()},O=function(we){vm(t,we)},$=function(we){pc(we)},V=function(){d.unbind(),Bu(t.element)},j=function(we){var Le=o.filter(nl());gt(Le,function(ft){var ct=ft.descHandler,Fe=D2(ct);Fe(we)})},ee=function(we){j({universal:!0,data:we})},ae=function(we,Le){j({universal:!1,channels:we,data:Le})},fe=function(we,Le){var ft=o.filter(we);return RR(ft,Le)},Se=function(we){return o.getById(we).fold(function(){return cr.error(new Error('Could not find component with uid: "'+we+'" in system.'))},cr.value)},ze=function(we){var Le=Gv(we).getOr("not found");return Se(Le)};return C(t),{root:t,element:t.element,destroy:V,add:O,remove:$,getByUid:Se,getByDom:ze,addToWorld:C,removeFromWorld:E,broadcast:ee,broadcastOn:ae,broadcastEvent:fe}},A1=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ue(t.items,r.interpreter)}},OI=ue([Ve("prefix","form-field"),Xo("fieldBehaviours",[Sr,an])]),DI=ue([ul({schema:[xt("dom")],name:"label"}),ul({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[xt("text")],name:"aria-descriptor"}),Ii({factory:{sketch:function(t){var r=f2(t,["factory"]);return t.factory.sketch(r)}},schema:[xt("factory")],name:"field"})]),RI=function(t,r,o,s){var d=fi(t.fieldBehaviours,[Sr.config({find:function(E){return pa(E,t,"field")}}),an.config({store:{mode:"manual",getValue:function(E){return Sr.getCurrent(E).bind(an.getValue)},setValue:function(E,O){Sr.getCurrent(E).each(function($){an.setValue($,O)})}}})]),g=Sa([rr(function(E,O){var $=sx(E,t,["label","field","aria-descriptor"]);$.field().each(function(V){var j=wn(t.prefix);$.label().each(function(ee){ur(ee.element,"for",j),ur(V.element,"id",j)}),$["aria-descriptor"]().each(function(ee){var ae=wn(t.prefix);ur(ee.element,"id",ae),ur(V.element,"aria-describedby",ae)})})})]),C={getField:function(E){return pa(E,t,"field")},getLabel:function(E){return pa(E,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:d,events:g,apis:C}},Yr=xu({name:"FormField",configFields:OI(),partFields:DI(),factory:RI,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),Wk=function(t,r){return $l({attributes:Jf([{key:r.tabAttr,value:"true"}])})},MR=Object.freeze({__proto__:null,exhibit:Wk}),PR=[Ve("tabAttr","data-alloy-tabstop")],To=Ko({fields:PR,name:"tabstopping",active:MR}),$I=tinymce.util.Tools.resolve("tinymce.html.Entities"),qC=function(t,r,o,s){var d=MI(t,r,o,s);return Yr.sketch(d)},BI=function(t,r){return qC(t,r,[],[])},MI=function(t,r,o,s){return{dom:IR(o),components:t.toArray().concat([r]),fieldBehaviours:Jt(s)}},PI=function(){return IR([])},IR=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},Dm=function(t,r){return Yr.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},Ll=wn("form-component-change"),KC=wn("form-close"),E1=wn("form-cancel"),gv=wn("form-action"),cl=wn("form-submit"),_d=wn("form-block"),BT=wn("form-unblock"),MT=wn("form-tabchange"),PT=wn("form-resize"),jk=function(t,r){var o,s=t.label.map(function(j){return Dm(j,r)}),d=function(j){return function(ee,ae){al(ae.event.target,"[data-collection-item-value]").each(function(fe){j(ee,ae,fe,za(fe,"data-collection-item-value"))})}},g=function(j,ee){var ae=Ue(ee,function(ze){var we=df.translate(ze.text),Le=t.columns===1?'<div class="tox-collection__item-label">'+we+"</div>":"",ft='<div class="tox-collection__item-icon">'+ze.icon+"</div>",ct={_:" "," - ":" ","-":" "},Fe=we.replace(/\_| \- |\-/g,function(Ct){return ct[Ct]}),rt=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+rt+'" tabindex="-1" data-collection-item-value="'+$I.encodeAllRaw(ze.value)+'" title="'+Fe+'" aria-label="'+Fe+'">'+ft+Le+"</div>"}),fe=t.columns!=="auto"&&t.columns>1?fn(ae,t.columns):[ae],Se=Ue(fe,function(ze){return'<div class="tox-collection__group">'+ze.join("")+"</div>"});ev(j.element,Se.join(""))},C=d(function(j,ee,ae,fe){ee.stop(),r.isDisabled()||In(j,gv,{name:t.name,value:fe})}),E=[Rt(Zf(),d(function(j,ee,ae){vc(ae)})),Rt(kh(),C),Rt(Hv(),C),Rt(tl(),d(function(j,ee,ae){jo(j.element,"."+C1).each(function(fe){Io(fe,C1)}),Wo(ae,C1)})),Rt(Ti(),d(function(j){jo(j.element,"."+C1).each(function(ee){Io(ee,C1)})})),cs(d(function(j,ee,ae,fe){In(j,gv,{name:t.name,value:fe})}))],O=function(j,ee){return Ue(au(j.element,".tox-collection__item"),ee)},$=Yr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ee},behaviours:Jt([Mn.config({disabled:r.isDisabled,onDisabled:function(j){O(j,function(ee){Wo(ee,"tox-collection__item--state-disabled"),ur(ee,"aria-disabled",!0)})},onEnabled:function(j){O(j,function(ee){Io(ee,"tox-collection__item--state-disabled"),ui(ee,"aria-disabled")})}}),ti(),Qn.config({}),an.config({store:{mode:"memory",initialValue:[]},onSetValue:function(j,ee){g(j,ee),t.columns==="auto"&&sT(j,5,"tox-collection__item").each(function(ae){var fe=ae.numRows,Se=ae.numColumns;Fn.setGridSize(j,fe,Se)}),Ur(j,PT)}}),To.config({}),Fn.config(gR(t.columns,"normal")),ar("collection-events",E)]),eventOrder:(o={},o[Rs()]=["disabling","alloy.base.behaviour","collection-events"],o)}),V=["tox-form__group--collection"];return qC(s,$,V,[])},NR=ue([Kr("data"),Ve("inputAttributes",{}),Ve("inputStyles",{}),Ve("tag","input"),Ve("inputClasses",[]),Xr("onSetValue"),Ve("styles",{}),Ve("eventOrder",{}),Xo("inputBehaviours",[an,Yn]),Ve("selectOnFocus",!0)]),Gk=function(t){return Jt([Yn.config({onFocus:t.selectOnFocus?function(r){var o=r.element,s=Xc(o);o.dom.setSelectionRange(0,s.length)}:q})])},IT=function(t){return ne(ne({},Gk(t)),fi(t.inputBehaviours,[an.config({store:ne(ne({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return Xc(r.element)},setValue:function(r,o){var s=Xc(r.element);s!==o&&Bh(r.element,o)}}),onSetValue:t.onSetValue})]))},qk=function(t){return{tag:t.tag,attributes:ne({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},II=function(t,r){return{uid:t.uid,dom:qk(t),components:[],behaviours:IT(t),eventOrder:t.eventOrder}},XC=Ls({name:"Input",configFields:NR(),factory:II}),zR={},YC={exports:zR};(function(t,r,o,s){(function(d,g){typeof r=="object"&&typeof o<"u"?o.exports=g():typeof t=="function"&&t.amd?t(g):(d=typeof globalThis<"u"?globalThis:d||self,d.EphoxContactWrapper=g())})(this,function(){var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof R6<"u"?R6:typeof self<"u"?self:{},g={exports:{}};(function($){(function(V){var j=setTimeout;function ee(){}function ae(Fe,rt){return function(){Fe.apply(rt,arguments)}}function fe(Fe){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Fe!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ct(Fe,this)}function Se(Fe,rt){for(;Fe._state===3;)Fe=Fe._value;if(Fe._state===0){Fe._deferreds.push(rt);return}Fe._handled=!0,fe._immediateFn(function(){var Ct=Fe._state===1?rt.onFulfilled:rt.onRejected;if(Ct===null){(Fe._state===1?ze:we)(rt.promise,Fe._value);return}var on;try{on=Ct(Fe._value)}catch(Ot){we(rt.promise,Ot);return}ze(rt.promise,on)})}function ze(Fe,rt){try{if(rt===Fe)throw new TypeError("A promise cannot be resolved with itself.");if(rt&&(typeof rt=="object"||typeof rt=="function")){var Ct=rt.then;if(rt instanceof fe){Fe._state=3,Fe._value=rt,Le(Fe);return}else if(typeof Ct=="function"){ct(ae(Ct,rt),Fe);return}}Fe._state=1,Fe._value=rt,Le(Fe)}catch(on){we(Fe,on)}}function we(Fe,rt){Fe._state=2,Fe._value=rt,Le(Fe)}function Le(Fe){Fe._state===2&&Fe._deferreds.length===0&&fe._immediateFn(function(){Fe._handled||fe._unhandledRejectionFn(Fe._value)});for(var rt=0,Ct=Fe._deferreds.length;rt<Ct;rt++)Se(Fe,Fe._deferreds[rt]);Fe._deferreds=null}function ft(Fe,rt,Ct){this.onFulfilled=typeof Fe=="function"?Fe:null,this.onRejected=typeof rt=="function"?rt:null,this.promise=Ct}function ct(Fe,rt){var Ct=!1;try{Fe(function(on){Ct||(Ct=!0,ze(rt,on))},function(on){Ct||(Ct=!0,we(rt,on))})}catch(on){if(Ct)return;Ct=!0,we(rt,on)}}fe.prototype.catch=function(Fe){return this.then(null,Fe)},fe.prototype.then=function(Fe,rt){var Ct=new this.constructor(ee);return Se(this,new ft(Fe,rt,Ct)),Ct},fe.all=function(Fe){var rt=Array.prototype.slice.call(Fe);return new fe(function(Ct,on){if(rt.length===0)return Ct([]);var Ot=rt.length;function ln(wt,Kt){try{if(Kt&&(typeof Kt=="object"||typeof Kt=="function")){var Cn=Kt.then;if(typeof Cn=="function"){Cn.call(Kt,function(Et){ln(wt,Et)},on);return}}rt[wt]=Kt,--Ot===0&&Ct(rt)}catch(Et){on(Et)}}for(var Mt=0;Mt<rt.length;Mt++)ln(Mt,rt[Mt])})},fe.resolve=function(Fe){return Fe&&typeof Fe=="object"&&Fe.constructor===fe?Fe:new fe(function(rt){rt(Fe)})},fe.reject=function(Fe){return new fe(function(rt,Ct){Ct(Fe)})},fe.race=function(Fe){return new fe(function(rt,Ct){for(var on=0,Ot=Fe.length;on<Ot;on++)Fe[on].then(rt,Ct)})},fe._immediateFn=typeof setImmediate=="function"?function(Fe){setImmediate(Fe)}:function(Fe){j(Fe,0)},fe._unhandledRejectionFn=function(rt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",rt)},fe._setImmediateFn=function(rt){fe._immediateFn=rt},fe._setUnhandledRejectionFn=function(rt){fe._unhandledRejectionFn=rt},$.exports?$.exports=fe:V.Promise||(V.Promise=fe)})(d)})(g);var C=g.exports,E=function(){return typeof window<"u"?window:Function("return this;")()}(),O={boltExport:E.Promise||C};return O})})(void 0,zR,YC);var Rm=YC.exports.boltExport,NT=function(t){var r=B.none(),o=[],s=function($){return NT(function(V){d(function(j){V($(j))})})},d=function($){C()?O($):o.push($)},g=function($){C()||(r=B.some($),E(o),o=[])},C=function(){return r.isSome()},E=function($){gt($,O)},O=function($){r.each(function(V){setTimeout(function(){$(V)},0)})};return t(g),{get:d,map:s,isReady:C}},NI=function(t){return NT(function(r){r(t)})},FR={nu:NT,pure:NI},zI=function(t){setTimeout(function(){throw t},0)},T1=function(t){var r=function(O){t().then(O,zI)},o=function(O){return T1(function(){return t().then(O)})},s=function(O){return T1(function(){return t().then(function($){return O($).toPromise()})})},d=function(O){return T1(function(){return t().then(function(){return O.toPromise()})})},g=function(){return FR.nu(r)},C=function(){var O=null;return T1(function(){return O===null&&(O=t()),O})},E=t;return{map:o,bind:s,anonBind:d,toLazy:g,toCached:C,toPromise:E,get:r}},FI=function(t){return T1(function(){return new Rm(t)})},LI=function(t){return T1(function(){return Rm.resolve(t)})},Ji={nu:FI,pure:LI},HI=["input","textarea"],LR=function(t){var r=Qu(t);return lt(HI,r)},zT=function(t,r){var o=r.getRoot(t).getOr(t.element);Io(o,r.invalidClass),r.notify.each(function(s){LR(t.element)&&ur(t.element,"aria-invalid",!1),s.getContainer(t).each(function(d){ev(d,s.validHtml)}),s.onValid(t)})},FT=function(t,r,o,s){var d=r.getRoot(t).getOr(t.element);Wo(d,r.invalidClass),r.notify.each(function(g){LR(t.element)&&ur(t.element,"aria-invalid",!0),g.getContainer(t).each(function(C){ev(C,s)}),g.onInvalid(t,s)})},HR=function(t,r,o){return r.validator.fold(function(){return Ji.pure(cr.value(!0))},function(s){return s.validate(t)})},LT=function(t,r,o){return r.notify.each(function(s){s.onValidate(t)}),HR(t,r).map(function(s){return t.getSystem().isConnected()?s.fold(function(d){return FT(t,r,o,d),cr.error(d)},function(d){return zT(t,r),cr.value(d)}):cr.error("No longer in system")})},VI=function(t,r){var o=r.getRoot(t).getOr(t.element);return bu(o,r.invalidClass)},UI=Object.freeze({__proto__:null,markValid:zT,markInvalid:FT,query:HR,run:LT,isInvalid:VI}),WI=function(t,r){return t.validator.map(function(o){return Sa([Rt(o.onEvent,function(s){LT(s,t,r).get(Ee)})].concat(o.validateOnLoad?[rr(function(s){LT(s,t,r).get(q)})]:[]))}).getOr({})},Kk=Object.freeze({__proto__:null,events:WI}),hs=[xt("invalidClass"),Ve("getRoot",B.none),ss("notify",[Ve("aria","alert"),Ve("getContainer",B.none),Ve("validHtml",""),Xr("onValid"),Xr("onInvalid"),Xr("onValidate")]),ss("validator",[xt("validate"),Ve("onEvent","input"),Ve("validateOnLoad",!0)])],pv=Ko({fields:hs,name:"invalidating",active:Kk,apis:UI,extra:{validation:function(t){return function(r){var o=an.getValue(r);return Ji.pure(t(o))}}}}),jI=function(t,r,o,s){return o.getOrCreate(t,r,s)},GI=Object.freeze({__proto__:null,getCoupled:jI}),qI=[Iu("others",ji(cr.value,kl()))],KI=function(){var t={},r=function(s,d,g){var C=Lr(d.others);if(C)return En(t,g).getOrThunk(function(){var E=En(d.others,g).getOrDie("No information found for coupled component: "+g),O=E(s),$=s.getSystem().build(O);return t[g]=$,$});throw new Error("Cannot find coupled component: "+g+". Known coupled components: "+JSON.stringify(C,null,2))},o=ue({});return Ki({readState:o,getOrCreate:r})},VR=Object.freeze({__proto__:null,init:KI}),Oo=Ko({fields:qI,name:"coupling",apis:GI,state:VR}),UR=ue("sink"),WR=ue(ul({name:UR(),overrides:ue({dom:{tag:"div"},behaviours:Jt([ho.config({useFixed:ye})]),events:Sa([Gd(Cb()),Gd(Ol()),Gd(kh())])})})),hf;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(hf||(hf={}));var jR=function(t,r){var o=t.getHotspot(r).getOr(r),s="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:s,hotspot:o,overrides:d}},function(g){return{type:s,hotspot:o,overrides:d,layouts:g}})},GR=function(t,r,o){var s=t.fetch;return s(o).map(r)},qR=function(t,r,o,s,d,g,C){var E=GR(t,r,s),O=KR(s,t);return E.map(function($){return $.bind(function(V){return B.from(fa.sketch(ne(ne({},g.menu()),{uid:qv(""),data:V,highlightImmediately:C===hf.HighlightFirst,onOpenMenu:function(j,ee){var ae=O().getOrDie();ho.position(ae,ee,{anchor:o}),Dr.decloak(d)},onOpenSubmenu:function(j,ee,ae){var fe=O().getOrDie();ho.position(fe,ae,{anchor:{type:"submenu",item:ee}}),Dr.decloak(d)},onRepositionMenu:function(j,ee,ae){var fe=O().getOrDie();ho.position(fe,ee,{anchor:o}),gt(ae,function(Se){ho.position(fe,Se.triggeredMenu,{anchor:{type:"submenu",item:Se.triggeringItem}})})},onEscape:function(){return Yn.focus(s),Dr.close(d),B.some(!0)}})))})})},Xk=function(t,r,o,s,d,g,C){var E=jR(t,o),O=qR(t,r,E,o,s,d,C);return O.map(function($){return $.fold(function(){Dr.isOpen(s)&&Dr.close(s)},function(V){Dr.cloak(s),Dr.open(s,V),g(s)}),s})},XI=function(t,r,o,s,d,g,C){return Dr.close(s),Ji.pure(s)},Ty=function(t,r,o,s,d,g){var C=Oo.getCoupled(o,"sandbox"),E=Dr.isOpen(C),O=E?XI:Xk;return O(t,r,o,C,s,d,g)},YI=function(t,r,o){var s=Sr.getCurrent(r).getOr(r),d=Vi(t.element);o?jn(s.element,"min-width",d+"px"):tc(s.element,d)},KR=function(t,r){return t.getSystem().getByUid(r.uid+"-"+UR()).map(function(o){return function(){return cr.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return cr.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},XR=function(t){Dr.getState(t).each(function(r){fa.repositionMenus(r)})},HT=function(t,r,o){var s=Zd(),d=function(E,O){var $=jR(t,r);s.link(r.element),t.matchWidth&&YI($.hotspot,O,t.useMinWidth),t.onOpen($,E,O),o!==void 0&&o.onOpen!==void 0&&o.onOpen(E,O)},g=function(E,O){s.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(E,O)},C=KR(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:il.augment(t.sandboxBehaviours,[an.config({store:{mode:"memory",initialValue:r}}),Dr.config({onOpen:d,onClose:g,isPartOf:function(E,O,$){return Qd(O,$)||Qd(r,$)},getAttachPoint:function(){return C().getOrDie()}}),Sr.config({find:function(E){return Dr.getState(E).bind(function(O){return Sr.getCurrent(O)})}}),nu.config({channels:ne(ne({},Vu({isExtraPart:pe})),hm({doReposition:XR}))})])}},Fg=function(t){var r=Oo.getCoupled(t,"sandbox");XR(r)},VT=function(){return[Ve("sandboxClasses",[]),il.field("sandboxBehaviours",[Sr,nu,Dr,an])]},JI=ue([xt("dom"),xt("fetch"),Xr("onOpen"),Go("onExecute"),Ve("getHotspot",B.some),Ve("getAnchorOverrides",ue({})),rd(),Xo("dropdownBehaviours",[Ir,Oo,Fn,Yn]),xt("toggleClass"),Ve("eventOrder",{}),Kr("lazySink"),Ve("matchWidth",!1),Ve("useMinWidth",!1),Kr("role")].concat(VT())),Lg=ue([Fs({schema:[em()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),WR()]),ZI=function(t,r,o,s){var d,g=function(V){return En(t.dom,"attributes").bind(function(j){return En(j,V)})},C=function(V){Dr.getState(V).each(function(j){fa.highlightPrimary(j)})},E=function(V){var j=C;Ty(t,Ee,V,s,j,hf.HighlightFirst).get(q)},O={expand:function(V){Ir.isOn(V)||Ty(t,Ee,V,s,q,hf.HighlightNone).get(q)},open:function(V){Ir.isOn(V)||Ty(t,Ee,V,s,q,hf.HighlightFirst).get(q)},isOpen:Ir.isOn,close:function(V){Ir.isOn(V)&&Ty(t,Ee,V,s,q,hf.HighlightFirst).get(q)},repositionMenus:function(V){Ir.isOn(V)&&Fg(V)}},$=function(V,j){return Bs(V),B.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:fi(t.dropdownBehaviours,[Ir.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Oo.config({others:{sandbox:function(V){return HT(t,V,{onOpen:function(){return Ir.on(V)},onClose:function(){return Ir.off(V)}})}}}),Fn.config({mode:"special",onSpace:$,onEnter:$,onDown:function(V,j){if(gf.isOpen(V)){var ee=Oo.getCoupled(V,"sandbox");C(ee)}else gf.open(V);return B.some(!0)},onEscape:function(V,j){return gf.isOpen(V)?(gf.close(V),B.some(!0)):B.none()}}),Yn.config({})]),events:my(B.some(E)),eventOrder:ne(ne({},t.eventOrder),(d={},d[Rs()]=["disabling","toggling","alloy.base.behaviour"],d)),apis:O,domModification:{attributes:ne(ne({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(V){return{role:V}})),t.dom.tag==="button"?{type:g("type").getOr("button")}:{})}}},gf=xu({name:"Dropdown",configFields:JI(),partFields:Lg(),factory:ZI,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),Sc=function(){return $l({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},YR=function(){return Sa([_2(P3(),ye)])},JR=Object.freeze({__proto__:null,events:YR,exhibit:Sc}),JC=Ko({fields:[],name:"unselecting",active:JR}),QI=function(t,r){return gf.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Jt([mf.button(r.providers.isDisabled),ti(),JC.config({}),To.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return Ji.nu(function(s){return t.fetch(s)}).map(function(s){return B.from(xR(bt(OT(wn("menu-value"),s,function(d){t.onItemAction(o,d)},t.columns,t.presets,uu.CLOSE_ON_EXECUTE,pe,r.providers),{movement:Lk(t.columns,t.presets)})))})},parts:{menu:S1(!1,1,t.presets)}})},ZC=wn("color-input-change"),ZR=wn("color-swatch-change"),UT=wn("color-picker-cancel"),eN=function(t,r,o){var s=Yr.parts.field({factory:XC,inputClasses:["tox-textfield"],onSetValue:function(O){return pv.run(O).get(q)},inputBehaviours:Jt([Mn.config({disabled:r.providers.isDisabled}),ti(),To.config({}),pv.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(O){return _o(O.element)},notify:{onValid:function(O){var $=an.getValue(O);In(O,ZC,{color:$})}},validator:{validateOnLoad:!1,validate:function(O){var $=an.getValue(O);if($.length===0)return Ji.pure(cr.value(!0));var V=sn.fromTag("span");jn(V,"background-color",$);var j=ko(V,"background-color").fold(function(){return cr.error("blah")},function(ee){return cr.value($)});return Ji.pure(j)}}})]),selectOnFocus:!1}),d=t.label.map(function(O){return Dm(O,r.providers)}),g=function(O,$){In(O,ZR,{value:$})},C=function(O,$){E.getOpt(O).each(function(V){$==="custom"?o.colorPicker(function(j){j.fold(function(){return Ur(V,UT)},function(ee){g(V,ee),kT(ee)})},"#ffffff"):$==="remove"?g(V,""):g(V,$)})},E=oa(QI({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[ei,Xi,No]},onLtr:function(){return[Xi,ei,No]}},components:[],fetch:TT(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:C},r));return Yr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:d.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,E.asSpec()]}]),fieldBehaviours:Jt([ar("form-field-events",[Rt(ZC,function(O,$){E.getOpt(O).each(function(V){jn(V.element,"background-color",$.event.color)}),In(O,Ll,{name:t.name})}),Rt(ZR,function(O,$){Yr.getField(O).each(function(V){an.setValue(V,$.event.value),Sr.getCurrent(O).each(Yn.focus)})}),Rt(UT,function(O,$){Yr.getField(O).each(function(V){Sr.getCurrent(O).each(Yn.focus)})})])])})},tN=ul({schema:[xt("dom")],name:"label"}),Hg=function(t){return ul({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(s){return{events:Sa([x2(Wc(),function(d,g,C){return s(d,C)},[r]),x2(Ol(),function(d,g,C){return s(d,C)},[r]),x2(Hd(),function(d,g,C){C.mouseIsDown.get()&&s(d,C)},[r])])}})}})},WT=Hg("top-left"),nN=Hg("top"),rN=Hg("top-right"),aN=Hg("right"),oN=Hg("bottom-right"),iN=Hg("bottom"),uN=Hg("bottom-left"),sN=Hg("left"),QR=Ii({name:"thumb",defaults:ue({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:Sa([jd(Wc(),t,"spectrum"),jd(Tl(),t,"spectrum"),jd(Fv(),t,"spectrum"),jd(Ol(),t,"spectrum"),jd(Hd(),t,"spectrum"),jd(h2(),t,"spectrum")])}}}),e$=Ii({schema:[hu("mouseIsDown",function(){return Pn(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,s=function(d,g){return o.getValueFromEvent(g).map(function(C){return o.setValueFrom(d,t,C)})};return{behaviours:Jt([Fn.config({mode:"special",onLeft:function(d){return o.onLeft(d,t)},onRight:function(d){return o.onRight(d,t)},onUp:function(d){return o.onUp(d,t)},onDown:function(d){return o.onDown(d,t)}}),Yn.config({})]),events:Sa([Rt(Wc(),s),Rt(Tl(),s),Rt(Ol(),s),Rt(Hd(),function(d,g){t.mouseIsDown.get()&&s(d,g)})])}}}),lN=[tN,sN,aN,nN,iN,WT,rN,uN,oN,QR,e$],cN="slider.change.value",QC=ue(cN),fN=function(t){return t.type.indexOf("touch")!==-1},jT=function(t){var r=t.event.raw;if(fN(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?B.some(o.touches[0]).map(function(d){return ya(d.clientX,d.clientY)}):B.none()}else{var s=r;return s.clientX!==void 0?B.some(s).map(function(d){return ya(d.clientX,d.clientY)}):B.none()}},t$="top",n$="right",r$="bottom",Yk="left",O1=function(t){return t.model.minX},Vg=function(t){return t.model.minY},Jk=function(t){return t.model.minX-1},Zk=function(t){return t.model.minY-1},D1=function(t){return t.model.maxX},R1=function(t){return t.model.maxY},$1=function(t){return t.model.maxX+1},Qk=function(t){return t.model.maxY+1},a$=function(t,r,o){return r(t)-o(t)},bv=function(t){return a$(t,D1,O1)},GT=function(t){return a$(t,R1,Vg)},B1=function(t){return bv(t)/2},qT=function(t){return GT(t)/2},Ug=function(t){return t.stepSize},o$=function(t){return t.snapToGrid},i$=function(t){return t.snapStart},u$=function(t){return t.rounded},eS=function(t,r){return t[r+"-edge"]!==void 0},s$=function(t){return eS(t,Yk)},tS=function(t){return eS(t,n$)},l$=function(t){return eS(t,t$)},fl=function(t){return eS(t,r$)},$m=function(t){return t.model.value.get()},c$=function(t){return{x:t}},KT=function(t){return{y:t}},Bm=function(t,r){return{x:t,y:r}},pf=function(t,r){In(t,QC(),{value:r})},vN=function(t,r){pf(t,Bm(Jk(r),Zk(r)))},dN=function(t,r){pf(t,KT(Zk(r)))},mN=function(t,r){pf(t,Bm(B1(r),Zk(r)))},hN=function(t,r){pf(t,Bm($1(r),Zk(r)))},gN=function(t,r){pf(t,c$($1(r)))},pN=function(t,r){pf(t,Bm($1(r),qT(r)))},f$=function(t,r){pf(t,Bm($1(r),Qk(r)))},bN=function(t,r){pf(t,KT(Qk(r)))},yN=function(t,r){pf(t,Bm(B1(r),Qk(r)))},wN=function(t,r){pf(t,Bm(Jk(r),Qk(r)))},v$=function(t,r){pf(t,c$(Jk(r)))},eA=function(t,r){pf(t,Bm(Jk(r),qT(r)))},XT=function(t,r,o,s){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-s)},Oy=function(t,r,o,s){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+s)},M1=function(t,r,o){return Math.max(r,Math.min(o,t))},d$=function(t,r,o,s,d){return d.fold(function(){var g=t-r,C=Math.round(g/s)*s;return M1(r+C,r-1,o+1)},function(g){var C=(t-g)%s,E=Math.round(C/s),O=Math.floor((t-g)/s),$=Math.floor((o-g)/s),V=Math.min($,O+E),j=g+V*s;return Math.max(g,j)})},m$=function(t,r,o){return Math.min(o,Math.max(t,r))-r},YT=function(t){var r=t.min,o=t.max,s=t.range,d=t.value,g=t.step,C=t.snap,E=t.snapStart,O=t.rounded,$=t.hasMinEdge,V=t.hasMaxEdge,j=t.minBound,ee=t.maxBound,ae=t.screenRange,fe=$?r-1:r,Se=V?o+1:o;if(d<j)return fe;if(d>ee)return Se;var ze=m$(d,j,ee),we=M1(ze/ae*s+r,fe,Se);return C&&we>=r&&we<=o?d$(we,r,o,g,E):O?Math.round(we):we},h$=function(t){var r=t.min,o=t.max,s=t.range,d=t.value,g=t.hasMinEdge,C=t.hasMaxEdge,E=t.maxBound,O=t.maxOffset,$=t.centerMinEdge,V=t.centerMaxEdge;return d<r?g?0:$:d>o?C?E:V:(d-r)/s*O},JT="top",nS="right",g$="bottom",ZT="left",p$="width",b$="height",bf=function(t){return t.element.dom.getBoundingClientRect()},_c=function(t,r){return t[r]},su=function(t){var r=bf(t);return _c(r,ZT)},QT=function(t){var r=bf(t);return _c(r,nS)},tA=function(t){var r=bf(t);return _c(r,JT)},y$=function(t){var r=bf(t);return _c(r,g$)},eO=function(t){var r=bf(t);return _c(r,p$)},w$=function(t){var r=bf(t);return _c(r,b$)},C$=function(t,r,o){return(t+r)/2-o},S$=function(t,r){var o=bf(t),s=bf(r),d=_c(o,ZT),g=_c(o,nS),C=_c(s,ZT);return C$(d,g,C)},tO=function(t,r){var o=bf(t),s=bf(r),d=_c(o,JT),g=_c(o,g$),C=_c(s,JT);return C$(d,g,C)},xc=function(t,r){In(t,QC(),{value:r})},Dy=function(t){return{x:t}},nA=function(t,r,o){var s={min:O1(r),max:D1(r),range:bv(r),value:o,step:Ug(r),snap:o$(r),snapStart:i$(r),rounded:u$(r),hasMinEdge:s$(r),hasMaxEdge:tS(r),minBound:su(t),maxBound:QT(t),screenRange:eO(t)};return YT(s)},rA=function(t,r,o){var s=nA(t,r,o),d=Dy(s);return xc(t,d),s},nO=function(t,r){var o=O1(r);xc(t,Dy(o))},CN=function(t,r){var o=D1(r);xc(t,Dy(o))},SN=function(t,r,o){var s=t>0?Oy:XT,d=s($m(o).x,O1(o),D1(o),Ug(o));return xc(r,Dy(d)),B.some(d)},_$=function(t){return function(r,o){return SN(t,r,o).map(ye)}},_N=function(t){var r=jT(t);return r.map(function(o){return o.left})},xN=function(t,r,o,s,d){var g=0,C=eO(t),E=s.bind(function(V){return B.some(S$(V,t))}).getOr(g),O=d.bind(function(V){return B.some(S$(V,t))}).getOr(C),$={min:O1(r),max:D1(r),range:bv(r),value:o,hasMinEdge:s$(r),hasMaxEdge:tS(r),minBound:su(t),minOffset:g,maxBound:QT(t),maxOffset:C,centerMinEdge:E,centerMaxEdge:O};return h$($)},rS=function(t,r,o,s,d,g){var C=xN(r,g,o,s,d);return su(r)-su(t)+C},kN=function(t,r,o,s){var d=$m(o),g=rS(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),C=Vi(r.element)/2;jn(r.element,"left",g-C+"px")},x$=_$(-1),AN=_$(1),xd=B.none,aA=B.none,EN={"top-left":B.none(),top:B.none(),"top-right":B.none(),right:B.some(gN),"bottom-right":B.none(),bottom:B.none(),"bottom-left":B.none(),left:B.some(v$)},TN=Object.freeze({__proto__:null,setValueFrom:rA,setToMin:nO,setToMax:CN,findValueOfOffset:nA,getValueFromEvent:_N,findPositionOfValue:rS,setPositionFromValue:kN,onLeft:x$,onRight:AN,onUp:xd,onDown:aA,edgeActions:EN}),aS=function(t,r){In(t,QC(),{value:r})},oS=function(t){return{y:t}},iS=function(t,r,o){var s={min:Vg(r),max:R1(r),range:GT(r),value:o,step:Ug(r),snap:o$(r),snapStart:i$(r),rounded:u$(r),hasMinEdge:l$(r),hasMaxEdge:fl(r),minBound:tA(t),maxBound:y$(t),screenRange:w$(t)};return YT(s)},k$=function(t,r,o){var s=iS(t,r,o),d=oS(s);return aS(t,d),s},uS=function(t,r){var o=Vg(r);aS(t,oS(o))},sS=function(t,r){var o=R1(r);aS(t,oS(o))},ON=function(t,r,o){var s=t>0?Oy:XT,d=s($m(o).y,Vg(o),R1(o),Ug(o));return aS(r,oS(d)),B.some(d)},A$=function(t){return function(r,o){return ON(t,r,o).map(ye)}},DN=function(t){var r=jT(t);return r.map(function(o){return o.top})},RN=function(t,r,o,s,d){var g=0,C=w$(t),E=s.bind(function(V){return B.some(tO(V,t))}).getOr(g),O=d.bind(function(V){return B.some(tO(V,t))}).getOr(C),$={min:Vg(r),max:R1(r),range:GT(r),value:o,hasMinEdge:l$(r),hasMaxEdge:fl(r),minBound:tA(t),minOffset:g,maxBound:y$(t),maxOffset:C,centerMinEdge:E,centerMaxEdge:O};return h$($)},rO=function(t,r,o,s,d,g){var C=RN(r,g,o,s,d);return tA(r)-tA(t)+C},$N=function(t,r,o,s){var d=$m(o),g=rO(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),C=Mo(r.element)/2;jn(r.element,"top",g-C+"px")},BN=B.none,aO=B.none,P1=A$(-1),MN=A$(1),E$={"top-left":B.none(),top:B.some(dN),"top-right":B.none(),right:B.none(),"bottom-right":B.none(),bottom:B.some(bN),"bottom-left":B.none(),left:B.none()},PN=Object.freeze({__proto__:null,setValueFrom:k$,setToMin:uS,setToMax:sS,findValueOfOffset:iS,getValueFromEvent:DN,findPositionOfValue:rO,setPositionFromValue:$N,onLeft:BN,onRight:aO,onUp:P1,onDown:MN,edgeActions:E$}),oA=function(t,r){In(t,QC(),{value:r})},iA=function(t,r){return{x:t,y:r}},IN=function(t,r,o){var s=nA(t,r,o.left),d=iS(t,r,o.top),g=iA(s,d);return oA(t,g),g},NN=function(t,r,o,s){var d=t>0?Oy:XT,g=r?$m(s).x:d($m(s).x,O1(s),D1(s),Ug(s)),C=r?d($m(s).y,Vg(s),R1(s),Ug(s)):$m(s).y;return oA(o,iA(g,C)),B.some(g)},lS=function(t,r){return function(o,s){return NN(t,r,o,s).map(ye)}},oO=function(t,r){var o=O1(r),s=Vg(r);oA(t,iA(o,s))},zN=function(t,r){var o=D1(r),s=R1(r);oA(t,iA(o,s))},T$=function(t){return jT(t)},iO=function(t,r,o,s){var d=$m(o),g=rS(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),C=rO(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),E=Vi(r.element)/2,O=Mo(r.element)/2;jn(r.element,"left",g-E+"px"),jn(r.element,"top",C-O+"px")},uO=lS(-1,!1),O$=lS(1,!1),FN=lS(-1,!0),LN=lS(1,!0),uA={"top-left":B.some(vN),top:B.some(mN),"top-right":B.some(hN),right:B.some(pN),"bottom-right":B.some(f$),bottom:B.some(yN),"bottom-left":B.some(wN),left:B.some(eA)},D$=Object.freeze({__proto__:null,setValueFrom:IN,setToMin:oO,setToMax:zN,getValueFromEvent:T$,setPositionFromValue:iO,onLeft:uO,onRight:O$,onUp:FN,onDown:LN,edgeActions:uA}),HN=[Ve("stepSize",1),Ve("onChange",q),Ve("onChoose",q),Ve("onInit",q),Ve("onDragStart",q),Ve("onDragEnd",q),Ve("snapToGrid",!1),Ve("rounded",!0),Kr("snapStart"),Iu("model",el("mode",{x:[Ve("minX",0),Ve("maxX",100),hu("value",function(t){return Pn(t.mode.minX)}),xt("getInitialValue"),ka("manager",TN)],y:[Ve("minY",0),Ve("maxY",100),hu("value",function(t){return Pn(t.mode.minY)}),xt("getInitialValue"),ka("manager",PN)],xy:[Ve("minX",0),Ve("maxX",100),Ve("minY",0),Ve("maxY",100),hu("value",function(t){return Pn({x:t.mode.minX,y:t.mode.minY})}),xt("getInitialValue"),ka("manager",D$)]})),Xo("sliderBehaviours",[Fn,an]),hu("mouseIsDown",function(){return Pn(!1)})],VN=function(t,r,o,s){var d,g=function(Fe){return sf(Fe,t,"thumb")},C=function(Fe){return sf(Fe,t,"spectrum")},E=function(Fe){return pa(Fe,t,"left-edge")},O=function(Fe){return pa(Fe,t,"right-edge")},$=function(Fe){return pa(Fe,t,"top-edge")},V=function(Fe){return pa(Fe,t,"bottom-edge")},j=t.model,ee=j.manager,ae=function(Fe,rt){ee.setPositionFromValue(Fe,rt,t,{getLeftEdge:E,getRightEdge:O,getTopEdge:$,getBottomEdge:V,getSpectrum:C})},fe=function(Fe,rt){j.value.set(rt);var Ct=g(Fe);ae(Fe,Ct)},Se=function(Fe,rt){fe(Fe,rt);var Ct=g(Fe);return t.onChange(Fe,Ct,rt),B.some(!0)},ze=function(Fe){ee.setToMin(Fe,t)},we=function(Fe){ee.setToMax(Fe,t)},Le=function(Fe){var rt=function(){pa(Fe,t,"thumb").each(function(on){var Ot=j.value.get();t.onChoose(Fe,on,Ot)})},Ct=t.mouseIsDown.get();t.mouseIsDown.set(!1),Ct&&rt()},ft=function(Fe,rt){rt.stop(),t.mouseIsDown.set(!0),t.onDragStart(Fe,g(Fe))},ct=function(Fe,rt){rt.stop(),t.onDragEnd(Fe,g(Fe)),Le(Fe)};return{uid:t.uid,dom:t.dom,components:r,behaviours:fi(t.sliderBehaviours,[Fn.config({mode:"special",focusIn:function(Fe){return pa(Fe,t,"spectrum").map(Fn.focusIn).map(ye)}}),an.config({store:{mode:"manual",getValue:function(Fe){return j.value.get()}}}),nu.config({channels:(d={},d[kw()]={onReceive:Le},d)})]),events:Sa([Rt(QC(),function(Fe,rt){Se(Fe,rt.event.value)}),rr(function(Fe,rt){var Ct=j.getInitialValue();j.value.set(Ct);var on=g(Fe);ae(Fe,on);var Ot=C(Fe);t.onInit(Fe,on,Ot,j.value.get())}),Rt(Wc(),ft),Rt(Fv(),ct),Rt(Ol(),ft),Rt(h2(),ct)]),apis:{resetToMin:ze,resetToMax:we,setValue:fe,refresh:ae},domModification:{styles:{position:"relative"}}}},yf=xu({name:"Slider",configFields:HN,partFields:lN,factory:VN,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),sO=wn("rgb-hex-update"),kd=wn("slider-update"),sA=wn("palette-update"),R$=function(t,r){var o=yf.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=yf.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return yf.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ue({y:0})},components:[o,s],sliderBehaviours:Jt([Yn.config({})]),onChange:function(d,g,C){In(d,kd,{value:C})}})},lO="form",cO=[Xo("formBehaviours",[an])],fO=function(t){return"<alloy.field."+t+">"},lA=function(t){var r=function(){var g=[],C=function(E,O){return g.push(E),Hw(lO,fO(E),O)};return{field:C,record:ue(g)}}(),o=t(r),s=r.record(),d=Ue(s,function(g){return Ii({name:g,pname:fO(g)})});return Gw(lO,cO,d,B$,o)},$$=function(t,r){return t.fold(function(){return cr.error(r)},cr.value)},B$=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:fi(t.formBehaviours,[an.config({store:{mode:"manual",getValue:function(o){var s=lx(o,t);return lr(s,function(d,g){return d().bind(function(C){var E=Sr.getCurrent(C);return $$(E,new Error("Cannot find a current component to extract the value from for form part '"+g+"': "+pu(C.element)))}).map(an.getValue)})},setValue:function(o,s){Vr(s,function(d,g){pa(o,t,g).each(function(C){Sr.getCurrent(C).each(function(E){an.setValue(E,d)})})})}}})]),apis:{getField:function(o,s){return pa(o,t,s).bind(Sr.getCurrent)}}}},Ry={getField:Ya(function(t,r,o){return t.getField(r,o)}),sketch:lA},M$=wn("valid-input"),P$=wn("invalid-input"),I$=wn("validating-input"),cA="colorcustom.rgb.",N$=function(t,r,o,s){var d=function(ee,ae){return pv.config({invalidClass:r("invalid"),notify:{onValidate:function(fe){In(fe,I$,{type:ee})},onValid:function(fe){In(fe,M$,{type:ee,value:an.getValue(fe)})},onInvalid:function(fe){In(fe,P$,{type:ee,value:an.getValue(fe)})}},validator:{validate:function(fe){var Se=an.getValue(fe),ze=ae(Se)?cr.value(!0):cr.error(t("aria.input.invalid"));return Ji.pure(ze)},validateOnLoad:!1}})},g=function(ee,ae,fe,Se,ze){var we=t(cA+"range"),Le=Yr.parts.label({dom:{tag:"label",innerHtml:fe,attributes:{"aria-label":Se}}}),ft=Yr.parts.field({data:ze,factory:XC,inputAttributes:ne({type:"text"},ae==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:Jt([d(ae,ee),To.config({})]),onSetValue:function(Ct){if(pv.isInvalid(Ct)){var on=pv.run(Ct);on.get(q)}}}),ct=[Le,ft],Fe=ae!=="hex"?[Yr.parts["aria-descriptor"]({text:we})]:[],rt=ct.concat(Fe);return{dom:{tag:"div",attributes:{role:"presentation"}},components:rt}},C=function(ee,ae){var fe=FC(ae);return Ry.getField(ee,"hex").each(function(Se){Yn.isFocused(Se)||an.setValue(ee,{hex:fe.value})}),fe},E=function(ee,ae){var fe=ae.red,Se=ae.green,ze=ae.blue;an.setValue(ee,{red:fe,green:Se,blue:ze})},O=oa({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),$=function(ee,ae){O.getOpt(ee).each(function(fe){jn(fe.element,"background-color","#"+ae.value)})},V=function(){var ee={red:Pn(B.some(255)),green:Pn(B.some(255)),blue:Pn(B.some(255)),hex:Pn(B.some("ffffff"))},ae=function(wt,Kt){var Cn=LC(Kt);E(wt,Cn),we(Cn)},fe=function(wt){return ee[wt].get()},Se=function(wt,Kt){ee[wt].set(Kt)},ze=function(){return fe("red").bind(function(wt){return fe("green").bind(function(Kt){return fe("blue").map(function(Cn){return zg(wt,Kt,Cn,1)})})})},we=function(wt){var Kt=wt.red,Cn=wt.green,Et=wt.blue;Se("red",B.some(Kt)),Se("green",B.some(Cn)),Se("blue",B.some(Et))},Le=function(wt,Kt){var Cn=Kt.event;Cn.type!=="hex"?Se(Cn.type,B.none()):s(wt)},ft=function(wt,Kt){o(wt);var Cn=WD(Kt);Se("hex",B.some(Kt));var Et=LC(Cn);E(wt,Et),we(Et),In(wt,sO,{hex:Cn}),$(wt,Cn)},ct=function(wt,Kt,Cn){var Et=parseInt(Cn,10);Se(Kt,B.some(Et)),ze().each(function(bn){var An=C(wt,bn);In(wt,sO,{hex:An}),$(wt,An)})},Fe=function(wt){return wt.type==="hex"},rt=function(wt,Kt){var Cn=Kt.event;Fe(Cn)?ft(wt,Cn.value):ct(wt,Cn.type,Cn.value)},Ct=function(wt){return{label:t(cA+wt+".label"),description:t(cA+wt+".description")}},on=Ct("red"),Ot=Ct("green"),ln=Ct("blue"),Mt=Ct("hex");return bt(Ry.sketch(function(wt){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[wt.field("red",Yr.sketch(g(yT,"red",on.label,on.description,255))),wt.field("green",Yr.sketch(g(yT,"green",Ot.label,Ot.description,255))),wt.field("blue",Yr.sketch(g(yT,"blue",ln.label,ln.description,255))),wt.field("hex",Yr.sketch(g(qD,"hex",Mt.label,Mt.description,"ffffff"))),O.asSpec()],formBehaviours:Jt([pv.config({invalidClass:r("form-invalid")}),ar("rgb-form-events",[Rt(M$,rt),Rt(P$,Le),Rt(I$,Le)])])}}),{apis:{updateHex:function(wt,Kt){an.setValue(wt,{hex:Kt.value}),ae(wt,Kt),$(wt,Kt)}}})},j=Ls({factory:V,name:"RgbForm",configFields:[],apis:{updateHex:function(ee,ae,fe){ee.updateHex(ae,fe)}},extraApis:{}});return j},UN=function(t,r){var o=yf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),s=yf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),d=function($,V){var j=$.width,ee=$.height,ae=$.getContext("2d");if(ae!==null){ae.fillStyle=V,ae.fillRect(0,0,j,ee);var fe=ae.createLinearGradient(0,0,j,0);fe.addColorStop(0,"rgba(255,255,255,1)"),fe.addColorStop(1,"rgba(255,255,255,0)"),ae.fillStyle=fe,ae.fillRect(0,0,j,ee);var Se=ae.createLinearGradient(0,0,0,ee);Se.addColorStop(0,"rgba(0,0,0,0)"),Se.addColorStop(1,"rgba(0,0,0,1)"),ae.fillStyle=Se,ae.fillRect(0,0,j,ee)}},g=function($,V){var j=$.components()[0].element.dom,ee=HC(V,100,100),ae=YD(ee);d(j,QD(ae))},C=function($,V){var j=CT(LC(V));yf.setValue($,{x:j.saturation,y:100-j.value})},E=function($){var V=ue({x:0,y:0}),j=function(fe,Se,ze){In(fe,sA,{value:ze})},ee=function(fe,Se,ze,we){d(ze.element.dom,QD(eR))},ae=Jt([Sr.config({find:B.some}),Yn.config({})]);return yf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:V},rounded:!1,components:[o,s],onChange:j,onInit:ee,sliderBehaviours:ae})},O=Ls({factory:E,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function($,V,j){g(V,j)},setThumb:function($,V,j){C(V,j)}},extraApis:{}});return O},WN=function(t,r){var o=function(d){var g=N$(t,r,d.onValidHex,d.onInvalidHex),C=UN(t,r),E=function(rt){return(100-rt)/100*360},O=function(rt){return 100-rt/360*100},$={paletteRgba:Pn(eR),paletteHue:Pn(0)},V=oa(R$(t,r)),j=oa(C.sketch({})),ee=oa(g.sketch({})),ae=function(rt,Ct,on){j.getOpt(rt).each(function(Ot){C.setHue(Ot,on)})},fe=function(rt,Ct){ee.getOpt(rt).each(function(on){g.updateHex(on,Ct)})},Se=function(rt,Ct,on){V.getOpt(rt).each(function(Ot){yf.setValue(Ot,{y:O(on)})})},ze=function(rt,Ct){j.getOpt(rt).each(function(on){C.setThumb(on,Ct)})},we=function(rt,Ct){var on=LC(rt);$.paletteRgba.set(on),$.paletteHue.set(Ct)},Le=function(rt,Ct,on,Ot){we(Ct,on),gt(Ot,function(ln){ln(rt,Ct,on)})},ft=function(){var rt=[fe];return function(Ct,on){var Ot=on.event.value,ln=$.paletteHue.get(),Mt=HC(ln,Ot.x,100-Ot.y),wt=rR(Mt);Le(Ct,wt,ln,rt)}},ct=function(){var rt=[ae,fe];return function(Ct,on){var Ot=E(on.event.value.y),ln=$.paletteRgba.get(),Mt=CT(ln),wt=HC(Ot,Mt.saturation,Mt.value),Kt=rR(wt);Le(Ct,Kt,Ot,rt)}},Fe=function(){var rt=[ae,Se,ze];return function(Ct,on){var Ot=on.event.hex,ln=UP(Ot);Le(Ct,Ot,ln.hue,rt)}};return{uid:d.uid,dom:d.dom,components:[j.asSpec(),V.asSpec(),ee.asSpec()],behaviours:Jt([ar("colour-picker-events",[Rt(sO,Fe()),Rt(sA,ft()),Rt(kd,ct())]),Sr.config({find:function(rt){return ee.getOpt(rt)}}),Fn.config({mode:"acyclic"})])}},s=Ls({name:"ColourPicker",configFields:[xt("dom"),Ve("onValidHex",q),Ve("onInvalidHex",q)],factory:o});return s},jN=function(){return Sr.config({find:B.some})},fA=function(t){return Sr.config({find:t.getOpt})},GN=function(t){return Sr.config({find:function(r){return ii(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},yv={self:jN,memento:fA,childAt:GN},z$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},F$=function(t){return z$[t]},qN=function(t){return F$(t)},KN=function(t){var r=function(C){return"tox-"+C},o=WN(qN,r),s=function(C){In(C,gv,{name:"hex-valid",value:!0})},d=function(C){In(C,gv,{name:"hex-valid",value:!1})},g=oa(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:d}));return{dom:{tag:"div"},components:[g.asSpec()],behaviours:Jt([an.config({store:{mode:"manual",getValue:function(C){var E=g.get(C),O=Sr.getCurrent(E),$=O.bind(function(V){var j=an.getValue(V);return j.hex});return $.map(function(V){return"#"+V}).getOr("")},setValue:function(C,E){var O=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,$=O.exec(E),V=g.get(C),j=Sr.getCurrent(V);j.fold(function(){console.log("Can not find form")},function(ee){an.setValue(ee,{hex:B.from($[1]).getOr("")}),Ry.getField(ee,"hex").each(function(ae){Ur(ae,Vd())})})}}}),yv.self()])}},vA=tinymce.util.Tools.resolve("tinymce.Resource"),XN=function(t){return Mr(t,"init")},YN=function(t){var r=mo(),o=oa({dom:{tag:t.tag}}),s=mo();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Jt([ar("custom-editor-events",[rr(function(d){o.getOpt(d).each(function(g){(XN(t)?t.init(g.element.dom):vA.load(t.scriptId,t.scriptUrl).then(function(C){return C(g.element.dom,t.settings)})).then(function(C){s.on(function(E){C.setValue(E)}),s.clear(),r.set(C)})})})]),an.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return s.get().getOr("")},function(d){return d.getValue()})},setValue:function(d,g){r.get().fold(function(){s.set(g)},function(C){return C.setValue(g)})}}}),yv.self()]),components:[o.asSpec()]}},Wg=tinymce.util.Tools.resolve("tinymce.util.Tools"),JN=$n([Ve("preprocess",Ee),Ve("postprocess",Ee)]),dA=function(t,r){var o=sa("RepresentingConfigs.memento processors",JN,r);return an.config({store:{mode:"manual",getValue:function(s){var d=t.get(s),g=an.getValue(d);return o.postprocess(g)},setValue:function(s,d){var g=o.preprocess(d),C=t.get(s);an.setValue(C,g)}}})},mA=function(t,r,o){return an.config(bt({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(s){return{store:{initialValue:s}}}).getOr({})))},vO=function(t,r,o){return mA(t,function(s){return r(s.element)},function(s,d){return o(s.element,d)})},ZN=function(t){return vO(t,Xc,Bh)},hA=function(t){return vO(t,jc,ev)},QN=function(t){return an.config({store:{mode:"memory",initialValue:t}})},Mm={memento:dA,withElement:vO,withComp:mA,domValue:ZN,domHtml:hA,memory:QN},L$="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",ez=function(t,r){var o=Wg.explode(r.getSetting("images_file_types",L$,"string")),s=function(d){return Sn(o,function(g){return Wn(d.name.toLowerCase(),"."+g.toLowerCase())})};return Ae(va(t),s)},tz=function(t,r){var o=function(j,ee){ee.stop()},s=function(j){return function(ee,ae){gt(j,function(fe){fe(ee,ae)})}},d=function(j,ee){if(!Mn.isDisabled(j)){var ae=ee.event.raw;C(j,ae.dataTransfer.files)}},g=function(j,ee){var ae=ee.event.raw.target;C(j,ae.files)},C=function(j,ee){an.setValue(j,ez(ee,r)),In(j,Ll,{name:t.name})},E=oa({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Jt([ar("input-file-events",[Gd(kh()),Gd(Hv())])])}),O=function(j){return{uid:j.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Jt([Mm.memory([]),yv.self(),Mn.config({}),Ir.config({toggleClass:"dragenter",toggleOnExecute:!1}),ar("dropzone-events",[Rt("dragenter",s([o,Ir.toggle])),Rt("dragleave",s([o,Ir.toggle])),Rt("dragover",o),Rt("drop",s([o,d])),Rt(xh(),g)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},ms.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[E.asSpec()],action:function(ee){var ae=E.get(ee);ae.element.dom.click()},buttonBehaviours:Jt([To.config({}),mf.button(r.isDisabled),ti()])})]}]}},$=t.label.map(function(j){return Dm(j,r)}),V=Yr.parts.field({factory:{sketch:O}});return qC($,V,["tox-form__group--stretched"],[])},H$=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:Ue(t.items,r.interpreter)}},gA=wn("alloy-fake-before-tabstop"),dO=wn("alloy-fake-after-tabstop"),mO=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Jt([Yn.config({ignore:!0}),To.config({})])}},hO=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[mO([gA]),t,mO([dO])],behaviours:Jt([yv.childAt(1)])}},gO=function(t,r){In(t,Cb(),{raw:{which:9,shiftKey:r}})},V$=function(t,r){var o=r.element;bu(o,gA)?gO(t,!0):bu(o,dO)&&gO(t,!1)},cS=function(t){return WC(t,["."+gA,"."+dO].join(","),pe)},nz=!(Hn().browser.isIE()||Hn().browser.isEdge()),rz=function(t){var r=Pn("");return{getValue:function(o){return r.get()},setValue:function(o,s){if(t)ur(o.element,"srcdoc",s);else{ur(o.element,"src","javascript:''");var d=o.element.dom.contentWindow.document;d.open(),d.write(s),d.close()}r.set(s)}}},U$=function(t,r){var o=nz&&t.sandboxed,s=ne(ne({},t.label.map(function(O){return{title:O}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),d=rz(o),g=t.label.map(function(O){return Dm(O,r)}),C=function(O){return hO({uid:O.uid,dom:{tag:"iframe",attributes:s},behaviours:Jt([To.config({}),Yn.config({}),Mm.withComp(B.none(),d.getValue,d.setValue)])})},E=Yr.parts.field({factory:{sketch:C}});return qC(g,E,["tox-form__group--stretched"],[])},$y=function(t,r){return az(document.createElement("canvas"),t,r)},W$=function(t){var r=$y(t.width,t.height),o=Pm(r);return o.drawImage(t,0,0),r},Pm=function(t){return t.getContext("2d")},az=function(t,r,o){return t.width=r,t.height=o,t},fS=function(t){return t.naturalWidth||t.width},pO=function(t){return t.naturalHeight||t.height},oz=function(t){return new Rm(function(r,o){var s=URL.createObjectURL(t),d=new Image,g=function(){d.removeEventListener("load",C),d.removeEventListener("error",E)},C=function(){g(),r(d)},E=function(){g(),o("Unable to load data of type "+t.type+": "+s)};d.addEventListener("load",C),d.addEventListener("error",E),d.src=s,d.complete&&setTimeout(C,0)})},iz=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return B.none();for(var s=o[1],d=r[1],g=1024,C=atob(d),E=C.length,O=Math.ceil(E/g),$=new Array(O),V=0;V<O;++V){for(var j=V*g,ee=Math.min(j+g,E),ae=new Array(ee-j),fe=j,Se=0;fe<ee;++Se,++fe)ae[Se]=C[fe].charCodeAt(0);$[V]=new Uint8Array(ae)}return B.some(new Blob($,{type:s}))},uz=function(t){return new Rm(function(r,o){iz(t).fold(function(){o("uri is not base64: "+t)},r)})},j$=function(t,r,o){return r=r||"image/png",P(HTMLCanvasElement.prototype.toBlob)?new Rm(function(s,d){t.toBlob(function(g){g?s(g):d()},r,o)}):uz(t.toDataURL(r,o))},sz=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},lz=function(t){return oz(t).then(function(r){cz(r);var o=$y(fS(r),pO(r)),s=Pm(o);return s.drawImage(r,0,0),o})},G$=function(t){return new Rm(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},cz=function(t){URL.revokeObjectURL(t.src)},q$=function(t,r,o){var s=r.type,d=ue(s),g=function(){return Rm.resolve(r)},C=ue(o),E=function(){return o.split(",")[1]},O=function(ee,ae){return t.then(function(fe){return j$(fe,ee,ae)})},$=function(ee,ae){return t.then(function(fe){return sz(fe,ee,ae)})},V=function(ee,ae){return $(ee,ae).then(function(fe){return fe.split(",")[1]})},j=function(){return t.then(W$)};return{getType:d,toBlob:g,toDataURL:C,toBase64:E,toAdjustedBlob:O,toAdjustedDataURL:$,toAdjustedBase64:V,toCanvas:j}},K$=function(t){return G$(t).then(function(r){return q$(lz(t),t,r)})},I1=function(t,r){return j$(t,r).then(function(o){return q$(Rm.resolve(t),o,t.toDataURL())})},fz=function(t){return K$(t)},vS=function(t,r,o){var s=typeof t=="string"?parseFloat(t):t;return s>o?s=o:s<r&&(s=r),s},bO=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},yO=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],wO=function(t,r){for(var o=[],s=new Array(25),d,g=0;g<5;g++){for(var C=0;C<5;C++)o[C]=r[C+g*5];for(var C=0;C<5;C++){d=0;for(var E=0;E<5;E++)d+=t[C+E*5]*o[E];s[C+g*5]=d}}return s},X$=function(t,r){var o;return r=vS(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=yO[r]:o=yO[Math.floor(r)]*(1-o)+yO[Math.floor(r)+1]*o,o=o*127+127),wO(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},Y$=function(t,r){return r=vS(255*r,-255,255),wO(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},J$=function(t,r,o,s){return r=vS(r,0,2),o=vS(o,0,2),s=vS(s,0,2),wO(t,[r,0,0,0,0,0,o,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},CO=function(t,r){return t.toCanvas().then(function(o){return Z$(o,t.getType(),r)})},Z$=function(t,r,o){var s=Pm(t),d=function(C,E){for(var O,$,V,j,ee=C.data,ae=E[0],fe=E[1],Se=E[2],ze=E[3],we=E[4],Le=E[5],ft=E[6],ct=E[7],Fe=E[8],rt=E[9],Ct=E[10],on=E[11],Ot=E[12],ln=E[13],Mt=E[14],wt=E[15],Kt=E[16],Cn=E[17],Et=E[18],bn=E[19],An=0;An<ee.length;An+=4)O=ee[An],$=ee[An+1],V=ee[An+2],j=ee[An+3],ee[An]=O*ae+$*fe+V*Se+j*ze+we,ee[An+1]=O*Le+$*ft+V*ct+j*Fe+rt,ee[An+2]=O*Ct+$*on+V*Ot+j*ln+Mt,ee[An+3]=O*wt+$*Kt+V*Cn+j*Et+bn;return C},g=d(s.getImageData(0,0,t.width,t.height),o);return s.putImageData(g,0,0),I1(t,r)},Q$=function(t,r){return t.toCanvas().then(function(o){return vz(o,t.getType(),r)})},vz=function(t,r,o){var s=Pm(t),d=function(E,O,$){for(var V=function(Kt,Cn,Et){return Kt>Et?Kt=Et:Kt<Cn&&(Kt=Cn),Kt},j=Math.round(Math.sqrt($.length)),ee=Math.floor(j/2),ae=E.data,fe=O.data,Se=E.width,ze=E.height,we=0;we<ze;we++)for(var Le=0;Le<Se;Le++){for(var ft=0,ct=0,Fe=0,rt=0;rt<j;rt++)for(var Ct=0;Ct<j;Ct++){var on=V(Le+Ct-ee,0,Se-1),Ot=V(we+rt-ee,0,ze-1),ln=(Ot*Se+on)*4,Mt=$[rt*j+Ct];ft+=ae[ln]*Mt,ct+=ae[ln+1]*Mt,Fe+=ae[ln+2]*Mt}var wt=(we*Se+Le)*4;fe[wt]=V(ft,0,255),fe[wt+1]=V(ct,0,255),fe[wt+2]=V(Fe,0,255)}return O},g=s.getImageData(0,0,t.width,t.height),C=s.getImageData(0,0,t.width,t.height);return C=d(g,C,o),s.putImageData(C,0,0),I1(t,r)},dz=function(t){var r=function(o,s,d){for(var g=Pm(o),C=new Array(256),E=function(V,j){for(var ee=V.data,ae=0;ae<ee.length;ae+=4)ee[ae]=j[ee[ae]],ee[ae+1]=j[ee[ae+1]],ee[ae+2]=j[ee[ae+2]];return V},O=0;O<C.length;O++)C[O]=t(O,d);var $=E(g.getImageData(0,0,o.width,o.height),C);return g.putImageData($,0,0),I1(o,s)};return function(o,s){return o.toCanvas().then(function(d){return r(d,o.getType(),s)})}},eB=function(t){return function(r,o){return CO(r,t(bO(),o))}},mz=function(t){return function(r){return CO(r,t)}},hz=function(t){return function(r){return Q$(r,t)}},gz=mz([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),tB=eB(Y$),pz=eB(X$),bz=function(t,r,o,s){return CO(t,J$(bO(),r,o,s))},yz=hz([0,-1,0,-1,5,-1,0,-1,0]),zr=dz(function(t,r){return Math.pow(t/255,1-r)*255}),N1=function(t,r,o){var s=fS(t),d=pO(t),g=r/s,C=o/d,E=!1;(g<.5||g>2)&&(g=g<.5?.5:2,E=!0),(C<.5||C>2)&&(C=C<.5?.5:2,E=!0);var O=nB(t,g,C);return E?O.then(function($){return N1($,r,o)}):O},nB=function(t,r,o){return new Rm(function(s){var d=fS(t),g=pO(t),C=Math.floor(d*r),E=Math.floor(g*o),O=$y(C,E),$=Pm(O);$.drawImage(t,0,0,d,g,0,0,C,E),s(O)})},SO=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),s=Math.round(t*o);return Math.ceil(s/o)},rB=function(t,r){return t.toCanvas().then(function(o){return wz(o,t.getType(),r)})},wz=function(t,r,o){var s=o<0?360+o:o,d=s*Math.PI/180,g=t.width,C=t.height,E=Math.sin(d),O=Math.cos(d),$=SO(Math.abs(g*O)+Math.abs(C*E)),V=SO(Math.abs(g*E)+Math.abs(C*O)),j=$y($,V),ee=Pm(j);return ee.translate($/2,V/2),ee.rotate(d),ee.drawImage(t,-g/2,-C/2),I1(j,r)},Cz=function(t,r){return t.toCanvas().then(function(o){return Sz(o,t.getType(),r)})},Sz=function(t,r,o){var s=$y(t.width,t.height),d=Pm(s);return o==="v"?(d.scale(1,-1),d.drawImage(t,0,-s.height)):(d.scale(-1,1),d.drawImage(t,-s.width,0)),I1(s,r)},aB=function(t,r,o,s,d){return t.toCanvas().then(function(g){return _z(g,t.getType(),r,o,s,d)})},_z=function(t,r,o,s,d,g){var C=$y(d,g),E=Pm(C);return E.drawImage(t,-o,-s),I1(C,r)},xz=function(t,r,o){return t.toCanvas().then(function(s){return N1(s,r,o).then(function(d){return I1(d,t.getType())})})},kz=function(t){return gz(t)},Az=function(t){return yz(t)},Ez=function(t,r){return zr(t,r)},Tz=function(t,r,o,s){return bz(t,r,o,s)},Oz=function(t,r){return tB(t,r)},Dz=function(t,r){return pz(t,r)},oB=function(t,r){return Cz(t,r)},Rz=function(t,r,o,s,d){return aB(t,r,o,s,d)},$z=function(t,r,o){return xz(t,r,o)},_O=function(t,r){return rB(t,r)},iB=function(t,r,o){return hv(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},r)},pA=function(t,r){return iB(t,r,[])},uB=function(t,r){return iB(t,r,[Qn.config({})])},xO=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:Jt([Qn.config({})])}},kO,sB=wn("toolbar.button.execute"),lB=function(t){return cs(function(r,o){ky(t,r)(function(s){In(r,sB,{buttonApi:s}),t.onAction(s)})})},cB=(kO={},kO[Rs()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],kO),z1=wn("update-menu-text"),fB=wn("update-menu-icon"),bA=function(t,r,o){var s=Pn(q),d=t.text.map(function(j){return oa(xO(j,r,o.providers))}),g=t.icon.map(function(j){return oa(uB(j,o.providers.icons))}),C=function(j,ee){var ae=an.getValue(j);return Yn.focus(ae),In(ae,"keydown",{raw:ee.event.raw}),gf.close(ae),B.some(!0)},E=t.role.fold(function(){return{}},function(j){return{role:j}}),O=t.tooltip.fold(function(){return{}},function(j){var ee=o.providers.translate(j);return{title:ee,"aria-label":ee}}),$=hv("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},o.providers.icons),V=oa(gf.sketch(ne(ne(ne({},t.uid?{uid:t.uid}:{}),E),{dom:{tag:"button",classes:[r,r+"--select"].concat(Ue(t.classes,function(j){return r+"--"+j})),attributes:ne({},O)},components:Em([g.map(function(j){return j.asSpec()}),d.map(function(j){return j.asSpec()}),B.some($)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Jt(_e(_e([],t.dropdownBehaviours,!0),[mf.button(function(){return t.disabled||o.providers.isDisabled()}),ti(),JC.config({}),Qn.config({}),ar("dropdown-events",[x1(t,s),k1(t,s)]),ar("menubutton-update-display-text",[Rt(z1,function(j,ee){d.bind(function(ae){return ae.getOpt(j)}).each(function(ae){Qn.set(ae,[Ri(o.providers.translate(ee.event.text))])})}),Rt(fB,function(j,ee){g.bind(function(ae){return ae.getOpt(j)}).each(function(ae){Qn.set(ae,[uB(ee.event.icon,o.providers.icons)])})})])],!1)),eventOrder:bt(cB,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Jt([Fn.config({mode:"special",onLeft:C,onRight:C})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:S1(!1,t.columns,t.presets)},fetch:function(j){return Ji.nu(ke(t.fetch,j))}})));return V.asSpec()},vB=function(t){return S(t)},yA=function(t){return t.type==="separator"},Bz=function(t){return Mr(t,"getSubmenuItems")},Mz={type:"separator"},Pz=function(t,r){var o=et(t,function(s,d){return vB(d)?d===""?s:d==="|"?s.length>0&&!yA(s[s.length-1])?s.concat([Mz]):s:Mr(r,d.toLowerCase())?s.concat([r[d.toLowerCase()]]):s:s.concat([d])},[]);return o.length>0&&yA(o[o.length-1])&&o.pop(),o},Iz=function(t,r){var o=t.getSubmenuItems(),s=By(o,r),d=bt(s.menus,Vc(t.value,s.items)),g=bt(s.expansions,Vc(t.value,t.value));return{item:t,menus:d,expansions:g}},Nz=function(t,r){return Bz(t)?Iz(t,r):{item:t,menus:{},expansions:{}}},zz=function(t){if(yA(t))return t;var r=En(t,"value").getOrThunk(function(){return wn("generated-menu-item")});return bt({value:r},t)},By=function(t,r){var o=Pz(S(t)?t.split(" "):t,r);return Je(o,function(s,d){var g=zz(d),C=Nz(g,r);return{menus:bt(s.menus,C.menus),items:[C.item].concat(s.items),expansions:bt(s.expansions,C.expansions)}},{menus:{},expansions:{},items:[]})},My=function(t,r,o,s){var d=wn("primary-menu"),g=By(t,o.shared.providers.menuItems());if(g.items.length===0)return B.none();var C=_R(d,g.items,r,o,s),E=lr(g.menus,function($,V){return _R(V,$,r,o,!1)}),O=bt(E,Vc(d,C));return B.from(fa.tieredData(d,O,g.expansions))},AO=function(t){return{isDisabled:function(){return Mn.isDisabled(t)},setDisabled:function(r){return Mn.set(t,r)},setActive:function(r){var o=t.element;r?(Wo(o,"tox-tbtn--enabled"),ur(o,"aria-pressed",!0)):(Io(o,"tox-tbtn--enabled"),ui(o,"aria-pressed"))},isActive:function(){return bu(t.element,"tox-tbtn--enabled")}}},EO=function(t,r,o,s){return bA({text:t.text,icon:t.icon,tooltip:t.tooltip,role:s,fetch:function(d,g){t.fetch(function(C){g(My(C,uu.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:AO,columns:1,presets:"normal",classes:[],dropdownBehaviours:[To.config({})]},r,o.shared)},Fz=function(t,r,o){var s=function(g){return function(C){var E=!C.isActive();C.setActive(E),g.storage.set(E),o.shared.getSink().each(function(O){r().getOpt(O).each(function($){vc($.element),In($,gv,{name:g.name,value:g.storage.get()})})})}},d=function(g){return function(C){C.setActive(g.storage.get())}};return function(g){g(Ue(t,function(C){var E=C.text.fold(function(){return{}},function(O){return{text:O}});return ne(ne({type:C.type,active:!1},E),{onAction:s(C),onSetup:d(C)})}))}},dB=function(t,r,o,s,d,g){o===void 0&&(o=[]);var C=r.fold(function(){return{}},function($){return{action:$}}),E=ne({buttonBehaviours:Jt([mf.button(function(){return t.disabled||g.isDisabled()}),ti(),To.config({}),ar("button press",[Ob("click"),Ob("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},C),O=bt(E,{dom:s});return bt(O,{components:d})},mB=function(t,r,o,s){s===void 0&&(s=[]);var d=t.tooltip.map(function(O){return{"aria-label":o.translate(O),title:o.translate(O)}}).getOr({}),g={tag:"button",classes:["tox-tbtn"],attributes:d},C=t.icon.map(function(O){return pA(O,o.icons)}),E=Em([C]);return dB(t,r,s,g,E,o)},TO=function(t,r,o,s){s===void 0&&(s=[]);var d=mB(t,B.some(r),o,s);return ms.sketch(d)},OO=function(t,r,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=o.translate(t.text),C=t.icon?t.icon.map(function(j){return pA(j,o.icons)}):B.none(),E=C.isSome()?Em([C]):[],O=C.isSome()?{}:{innerHtml:g},$=_e(_e(_e(_e([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),C.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),d,!0),V=ne(ne({tag:"button",classes:$},O),{attributes:{title:g}});return dB(t,r,s,V,E,o)},DO=function(t,r,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=OO(t,B.some(r),o,s,d);return ms.sketch(g)},dS=function(t,r){return function(o){r==="custom"?In(o,gv,{name:t,value:{}}):r==="submit"?Ur(o,cl):r==="cancel"?Ur(o,E1):console.error("Unknown button type: ",r)}},wA=function(t,r){return r==="menu"},Lz=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},CA=function(t,r,o){if(wA(t,r)){var s=function(){return C},d=t,g=ne(ne({},t),{onSetup:function($){return $.setDisabled(t.disabled),q},fetch:Fz(d.items,s,o)}),C=oa(EO(g,"tox-tbtn",o,B.none()));return C.asSpec()}else if(Lz(t,r)){var E=dS(t.name,r),O=ne(ne({},t),{borderless:!1});return DO(O,E,o.shared.providers,[])}else console.error("Unknown footer button type: ",r)},Hz=function(t,r){var o=dS(t.name,"custom");return BI(B.none(),Yr.parts.field(ne({factory:ms},OO(t,B.some(o),r,[Mm.memory(""),yv.self()]))))},Vz=ue([Ve("field1Name","field1"),Ve("field2Name","field2"),wu("onLockedChange"),tm(["lockClass"]),Ve("locked",!1),il.field("coupledFieldBehaviours",[Sr,an])]),RO=function(t,r,o){return pa(t,r,o).bind(Sr.getCurrent)},SA=function(t,r){return Ii({factory:Yr,name:t,overrides:function(o){return{fieldBehaviours:Jt([ar("coupled-input-behaviour",[Rt(Vd(),function(s){RO(s,o,r).each(function(d){pa(s,o,"lock").each(function(g){Ir.isOn(g)&&o.onLockedChange(s,d,g)})})})])])}}})},hB=ue([SA("field1","field2"),SA("field2","field1"),Ii({factory:ms,schema:[xt("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Jt([Ir.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),Uz=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:il.augment(t.coupledFieldBehaviours,[Sr.config({find:B.some}),an.config({store:{mode:"manual",getValue:function(d){var g,C=L0(d,t,["field1","field2"]);return g={},g[t.field1Name]=an.getValue(C.field1()),g[t.field2Name]=an.getValue(C.field2()),g},setValue:function(d,g){var C=L0(d,t,["field1","field2"]);lo(g,t.field1Name)&&an.setValue(C.field1(),g[t.field1Name]),lo(g,t.field2Name)&&an.setValue(C.field2(),g[t.field2Name])}}})]),apis:{getField1:function(d){return pa(d,t,"field1")},getField2:function(d){return pa(d,t,"field2")},getLock:function(d){return pa(d,t,"lock")}}}},Vs=xu({name:"FormCoupledInputs",configFields:Vz(),partFields:hB(),factory:Uz,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),Wz=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(d){return d in r?r[d]:1},s=t.value.toFixed(o(t.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+t.unit},$O=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var s=parseFloat(o[1]),d=o[2];return cr.value({value:s,unit:d})}else return cr.error(t)},BO=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(d){return Mr(o,d)};return t.unit===r?B.some(t.value):s(t.unit)&&s(r)?o[t.unit]===o[r]?B.some(t.value):B.some(t.value/o[t.unit]*o[r]):B.none()},MO=function(t){return B.none()},mS=function(t,r){return function(o){return BO(o,r).map(function(s){return{value:s*t,unit:r}})}},jz=function(t,r){var o=$O(t).toOptional(),s=$O(r).toOptional();return Gs(o,s,function(d,g){return BO(d,g.unit).map(function(C){return g.value/C}).map(function(C){return mS(C,g.unit)}).getOr(MO)}).getOr(MO)},gB=function(t,r){var o=MO,s=wn("ratio-event"),d=function(j){return hv(j,{tag:"span",classes:["tox-icon","tox-lock-icon__"+j]},r.icons)},g=Vs.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[d("lock"),d("unlock")],buttonBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),To.config({})])}),C=function(j){return{dom:{tag:"div",classes:["tox-form__group"]},components:j}},E=function(j){return Yr.parts.field({factory:XC,inputClasses:["tox-textfield"],inputBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),To.config({}),ar("size-input-events",[Rt(tl(),function(ee,ae){In(ee,s,{isField1:j})}),Rt(xh(),function(ee,ae){In(ee,Ll,{name:t.name})})])]),selectOnFocus:!1})},O=function(j){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(j)}}},$=Vs.parts.field1(C([Yr.parts.label(O("Width")),E(!0)])),V=Vs.parts.field2(C([Yr.parts.label(O("Height")),E(!1)]));return Vs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[$,V,C([O("&nbsp;"),g])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(j,ee,ae){$O(an.getValue(j)).each(function(fe){o(fe).each(function(Se){an.setValue(ee,Wz(Se))})})},coupledFieldBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(j){Vs.getField1(j).bind(Yr.getField).each(Mn.disable),Vs.getField2(j).bind(Yr.getField).each(Mn.disable),Vs.getLock(j).each(Mn.disable)},onEnabled:function(j){Vs.getField1(j).bind(Yr.getField).each(Mn.enable),Vs.getField2(j).bind(Yr.getField).each(Mn.enable),Vs.getLock(j).each(Mn.enable)}}),ti(),ar("size-input-events2",[Rt(s,function(j,ee){var ae=ee.event.isField1,fe=ae?Vs.getField1(j):Vs.getField2(j),Se=ae?Vs.getField2(j):Vs.getField1(j),ze=fe.map(an.getValue).getOr(""),we=Se.map(an.getValue).getOr("");o=jz(ze,we)})])])})},Gz=ue(wn("undo")),qz=ue(wn("redo")),pB=ue(wn("zoom")),Kz=ue(wn("back")),Xz=ue(wn("apply")),Yz=ue(wn("swap")),Jz=ue(wn("transform")),Zz=ue(wn("temp-transform")),bB=ue(wn("transform-apply")),Au={undo:Gz,redo:qz,zoom:pB,back:Kz,apply:Xz,swap:Yz,transform:Jz,tempTransform:Zz,transformApply:bB},Qz=ue("save-state"),eF=ue("disable"),yB=ue("enable"),gs={formActionEvent:gv,saveState:Qz,disable:eF,enable:yB},tF=function(t,r){var o=function(dn,dr,la,Za){return oa(DO({name:dn,text:dn,disabled:la,primary:Za,icon:B.none(),borderless:!1},dr,r))},s=function(dn,dr,la,Za){return oa(TO({name:dn,icon:B.some(dn),tooltip:B.some(dr),disabled:Za,primary:!1,borderless:!1},la,r))},d=function(dn,dr){dn.map(function(la){var Za=la.get(dr);Za.hasConfigured(Mn)&&Mn.disable(Za)})},g=function(dn,dr){dn.map(function(la){var Za=la.get(dr);Za.hasConfigured(Mn)&&Mn.enable(Za)})},C={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},E=q,O=function(dn,dr,la){In(dn,dr,la)},$=function(dn){return Ur(dn,gs.disable())},V=function(dn){return Ur(dn,gs.enable())},j=function(dn,dr){$(dn),O(dn,Au.transform(),{transform:dr}),V(dn)},ee=function(dn,dr){$(dn),O(dn,Au.tempTransform(),{transform:dr}),V(dn)},ae=function(dn){return function(){Av.getOpt(dn).each(function(dr){Qn.set(dr,[Qg])})}},fe=function(dn,dr){$(dn),O(dn,Au.transformApply(),{transform:dr,swap:ae(dn)}),V(dn)},Se=function(){return o("Back",function(dn){return O(dn,Au.back(),{swap:ae(dn)})},!1,!1)},ze=function(){return oa({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Jt([Mn.config({})])})},we=function(){return o("Apply",function(dn){return O(dn,Au.apply(),{swap:ae(dn)})},!0,!0)},Le=function(){return function(dn){var dr=t.getRect();return Rz(dn,dr.x,dr.y,dr.w,dr.h)}},ft=[Se(),ze(),o("Apply",function(dn){var dr=Le();fe(dn,dr),t.hideCrop()},!1,!0)],ct=ku.sketch({dom:C,components:ft.map(function(dn){return dn.asSpec()}),containerBehaviours:Jt([ar("image-tools-crop-buttons-events",[Rt(gs.disable(),function(dn,dr){d(ft,dn)}),Rt(gs.enable(),function(dn,dr){g(ft,dn)})])])}),Fe=oa(gB({name:"size",label:B.none(),constrain:!0,disabled:!1},r)),rt=function(dn,dr){return function(la){return $z(la,dn,dr)}},Ct=[Se(),ze(),Fe,ze(),o("Apply",function(dn){Fe.getOpt(dn).each(function(dr){var la=an.getValue(dr),Za=parseInt(la.width,10),ws=parseInt(la.height,10),Xu=rt(Za,ws);fe(dn,Xu)})},!1,!0)],on=ku.sketch({dom:C,components:Ct.map(function(dn){return dn.asSpec()}),containerBehaviours:Jt([ar("image-tools-resize-buttons-events",[Rt(gs.disable(),function(dn,dr){d(Ct,dn)}),Rt(gs.enable(),function(dn,dr){g(Ct,dn)})])])}),Ot=function(dn,dr){return function(la){return dn(la,dr)}},ln=Ot(oB,"h"),Mt=Ot(oB,"v"),wt=Ot(_O,-90),Kt=Ot(_O,90),Cn=function(dn,dr){ee(dn,dr)},Et=[Se(),ze(),s("flip-horizontally","Flip horizontally",function(dn){Cn(dn,ln)},!1),s("flip-vertically","Flip vertically",function(dn){Cn(dn,Mt)},!1),s("rotate-left","Rotate counterclockwise",function(dn){Cn(dn,wt)},!1),s("rotate-right","Rotate clockwise",function(dn){Cn(dn,Kt)},!1),ze(),we()],bn=ku.sketch({dom:C,components:Et.map(function(dn){return dn.asSpec()}),containerBehaviours:Jt([ar("image-tools-fliprotate-buttons-events",[Rt(gs.disable(),function(dn,dr){d(Et,dn)}),Rt(gs.enable(),function(dn,dr){g(Et,dn)})])])}),An=function(dn,dr,la,Za,ws){var Xu=yf.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(dn)}}),dl=yf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),Tc=yf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return oa(yf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:la,maxX:ws,getInitialValue:ue({x:Za})},components:[Xu,dl,Tc],sliderBehaviours:Jt([Yn.config({})]),onChoose:dr}))},kr=function(dn,dr,la,Za,ws){var Xu=function(dl,Tc,Uy){var DS=Ot(dr,Uy.x/100);j(dl,DS)};return An(dn,Xu,la,Za,ws)},ia=function(dn,dr,la,Za,ws){return[Se(),kr(dn,dr,la,Za,ws),we()]},Pa=function(dn,dr,la,Za,ws){var Xu=ia(dn,dr,la,Za,ws);return ku.sketch({dom:C,components:Xu.map(function(dl){return dl.asSpec()}),containerBehaviours:Jt([ar("image-tools-filter-panel-buttons-events",[Rt(gs.disable(),function(dl,Tc){d(Xu,dl)}),Rt(gs.enable(),function(dl,Tc){g(Xu,dl)})])])})},so=[Se(),ze(),we()],vl=ku.sketch({dom:C,components:so.map(function(dn){return dn.asSpec()})}),Tu=Pa("Brightness",Oz,-100,0,100),QA=Pa("Contrast",Dz,-100,0,100),bi=Pa("Gamma",Ez,-100,0,100),K1=function(dn,dr,la){return function(Za){return Tz(Za,dn,dr,la)}},X1=function(dn){var dr=function(la,Za,ws){var Xu=ES.getOpt(la),dl=TS.getOpt(la),Tc=Y1.getOpt(la);Xu.each(function(Uy){dl.each(function(DS){Tc.each(function(Wy){var G7=an.getValue(Uy).x/100,q7=an.getValue(Wy).x/100,Z1=an.getValue(DS).x/100,jy=K1(G7,q7,Z1);j(la,jy)})})})};return An(dn,dr,0,100,200)},ES=X1("R"),Y1=X1("G"),TS=X1("B"),ys=[Se(),ES,Y1,TS,we()],kv=ku.sketch({dom:C,components:ys.map(function(dn){return dn.asSpec()})}),Ku=function(dn,dr,la){return function(Za){var ws=function(){Av.getOpt(Za).each(function(Xu){Qn.set(Xu,[dn]),la(Xu)})};O(Za,Au.swap(),{transform:dr,swap:ws})}},OS=function(dn){t.showCrop()},Zg=function(dn){Fe.getOpt(dn).each(function(dr){var la=t.getMeasurements(),Za=la.width,ws=la.height;an.setValue(dr,{width:Za,height:ws})})},Vy=B.some(Az),yi=B.some(kz),Lm=[s("crop","Crop",Ku(ct,B.none(),OS),!1),s("resize","Resize",Ku(on,B.none(),Zg),!1),s("orientation","Orientation",Ku(bn,B.none(),E),!1),s("brightness","Brightness",Ku(Tu,B.none(),E),!1),s("sharpen","Sharpen",Ku(vl,Vy,E),!1),s("contrast","Contrast",Ku(QA,B.none(),E),!1),s("color-levels","Color levels",Ku(kv,B.none(),E),!1),s("gamma","Gamma",Ku(bi,B.none(),E),!1),s("invert","Invert",Ku(vl,yi,E),!1)],Qg=ku.sketch({dom:C,components:Lm.map(function(dn){return dn.asSpec()})}),J1=ku.sketch({dom:{tag:"div"},components:[Qg],containerBehaviours:Jt([Qn.config({})])}),Av=oa(J1),ep=function(dn){return Av.getOpt(dn).map(function(dr){var la=dr.components()[0];return la.components()[la.components().length-1]})};return{memContainer:Av,getApplyButton:ep}},wB=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Hl=tinymce.util.Tools.resolve("tinymce.util.Observable"),Py=tinymce.util.Tools.resolve("tinymce.util.VK"),PO=function(t){var r=Math.max,o=t.documentElement,s=t.body,d=r(o.scrollWidth,s.scrollWidth),g=r(o.clientWidth,s.clientWidth),C=r(o.offsetWidth,s.offsetWidth),E=r(o.scrollHeight,s.scrollHeight),O=r(o.clientHeight,s.clientHeight),$=r(o.offsetHeight,s.offsetHeight);return{width:d<C?g:d,height:E<$?O:E}},CB=function(t){return L(t.changedTouches)},_A=function(t){if(CB(t))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function xA(t,r){var o,s,d,g,C=[],E=[],O=(o=r.document)!==null&&o!==void 0?o:document,$=(s=r.root)!==null&&s!==void 0?s:O,V=sn.fromDom(O),j,ee,ae,fe=sn.fromDom($.getElementById((d=r.handle)!==null&&d!==void 0?d:t)),Se=function(ft){var ct=ft.raw,Fe=PO(O);_A(ct),ft.prevent(),j=ct.button,ee=ct.screenX,ae=ct.screenY;var rt=ro(fe,"cursor");g=sn.fromTag("div",O),rs(g,{position:"absolute",top:"0",left:"0",width:Fe.width+"px",height:Fe.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:rt}),Ui(xo(V),g),E.push(wo(V,"mousemove",ze),wo(V,"touchmove",ze),wo(V,"mouseup",we),wo(V,"touchend",we)),r.start(ct)},ze=function(ft){var ct=ft.raw;if(_A(ct),ct.button!==j)return we(ft);ct.deltaX=ct.screenX-ee,ct.deltaY=ct.screenY-ae,ft.prevent(),r.drag(ct)},we=function(ft){_A(ft.raw),gt(E,function(ct){return ct.unbind()}),E=[],Bu(g),r.stop&&r.stop(ft.raw)},Le=function(){gt(E.concat(C),function(ft){return ft.unbind()}),E=[],C=[],L(g)&&Bu(g)};return C.push(wo(fe,"mousedown",Se),wo(fe,"touchstart",Se)),{destroy:Le}}var nF=0,kA=function(t,r,o,s,d){var g,C=[],E="tox-",O=E+"crid-"+nF++,$=sn.fromDom(s),V=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],j=["top","right","bottom","left"],ee=function(Ot,ln){return{x:ln.x+Ot.x,y:ln.y+Ot.y,w:ln.w,h:ln.h}},ae=function(Ot,ln){return{x:ln.x-Ot.x,y:ln.y-Ot.y,w:ln.w,h:ln.h}},fe=function(){return ae(o,t)},Se=function(Ot,ln,Mt,wt){var Kt=ln.x+Mt*Ot.deltaX,Cn=ln.y+wt*Ot.deltaY,Et=Math.max(20,ln.w+Mt*Ot.deltaW),bn=Math.max(20,ln.h+wt*Ot.deltaH),An=t=wB.clamp({x:Kt,y:Cn,w:Et,h:bn},o,Ot.name==="move");An=ae(o,An),on.fire("updateRect",{rect:An}),Fe(An)},ze=function(){var Ot=function(Kt){var Cn;return xA(O,{document:s.ownerDocument,root:xs($).dom,handle:O+"-"+Kt.name,start:function(){Cn=t},drag:function(Et){Se(Kt,Cn,Et.deltaX,Et.deltaY)}})},ln=sn.fromTag("div");ns(ln,{id:O,class:E+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Ui($,ln),gt(j,function(Kt){jo($,"#"+O).each(function(Cn){var Et=sn.fromTag("div");ns(Et,{id:O+"-"+Kt,class:E+"croprect-block","data-mce-bogus":"all"}),jn(Et,"display","none"),Ui(Cn,Et)})}),gt(V,function(Kt){jo($,"#"+O).each(function(Cn){var Et=sn.fromTag("div");ns(Et,{id:O+"-"+Kt.name,"aria-label":Kt.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:Kt.label}),Jd(Et,[E+"croprect-handle",E+"croprect-handle-"+Kt.name]),jn(Et,"display","none"),Ui(Cn,Et)})}),g=Ue(V,Ot),Le(t);var Mt=function(Kt){ur(Kt.target,"aria-grabbed",Kt.raw.type==="focus"?"true":"false")},wt=function(Kt){var Cn;gt(V,function(bn){if(za(Kt.target,"id")===O+"-"+bn.name)return Cn=bn,!1});var Et=function(bn,An,kr,ia,Pa){bn.stopPropagation(),bn.preventDefault(),Se(Cn,kr,ia,Pa)};switch(Kt.raw.keyCode){case Py.LEFT:Et(Kt,Cn,t,-10,0);break;case Py.RIGHT:Et(Kt,Cn,t,10,0);break;case Py.UP:Et(Kt,Cn,t,0,-10);break;case Py.DOWN:Et(Kt,Cn,t,0,10);break;case Py.ENTER:case Py.SPACEBAR:Kt.prevent(),d();break}};C.push(wo($,"focusin",Mt),wo($,"focusout",Mt),wo($,"keydown",wt))},we=function(Ot){var ln=_e(_e([],Ue(V,function(wt){return"#"+O+"-"+wt.name}),!0),Ue(j,function(wt){return"#"+O+"-"+wt}),!0).join(","),Mt=au($,ln);Ot?gt(Mt,function(wt){return qr(wt,"display")}):gt(Mt,function(wt){return jn(wt,"display","none")})},Le=function(Ot){var ln=function(Mt,wt){jo($,"#"+O+"-"+Mt).each(function(Kt){rs(Kt,{left:wt.x+"px",top:wt.y+"px",width:Math.max(0,wt.w)+"px",height:Math.max(0,wt.h)+"px"})})};gt(V,function(Mt){jo($,"#"+O+"-"+Mt.name).each(function(wt){rs(wt,{left:Ot.w*Mt.xMul+Ot.x+"px",top:Ot.h*Mt.yMul+Ot.y+"px"})})}),ln("top",{x:r.x,y:r.y,w:r.w,h:Ot.y-r.y}),ln("right",{x:Ot.x+Ot.w,y:Ot.y,w:r.w-Ot.x-Ot.w+r.x,h:Ot.h}),ln("bottom",{x:r.x,y:Ot.y+Ot.h,w:r.w,h:r.h-Ot.y-Ot.h+r.y}),ln("left",{x:r.x,y:Ot.y,w:Ot.x-r.x,h:Ot.h}),ln("move",Ot)},ft=function(Ot){t=Ot,Le(t)},ct=function(Ot){r=Ot,Le(t)},Fe=function(Ot){ft(ee(o,Ot))},rt=function(Ot){o=Ot,Le(t)},Ct=function(){gt(g,function(Ot){return Ot.destroy()}),g=[],gt(C,function(Ot){return Ot.unbind()}),C=[]};ze();var on=ne(ne({},Hl),{toggleVisibility:we,setClampRect:rt,setRect:ft,getInnerRect:fe,setInnerRect:Fe,setViewPortRect:ct,destroy:Ct});return on},rF={create:kA},hS=function(t){return new OC(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},SB=function(t){var r=oa({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=Pn(1),s=ew(),d=Pn({x:0,y:0,w:1,h:1}),g=Pn({x:0,y:0,w:1,h:1}),C=function(ze,we){fe.getOpt(ze).each(function(Le){var ft=o.get(),ct=Vi(Le.element),Fe=Mo(Le.element),rt=we.dom.naturalWidth*ft,Ct=we.dom.naturalHeight*ft,on=Math.max(0,ct/2-rt/2),Ot=Math.max(0,Fe/2-Ct/2),ln={left:on.toString()+"px",top:Ot.toString()+"px",width:rt.toString()+"px",height:Ct.toString()+"px",position:"absolute"};rs(we,ln),r.getOpt(Le).each(function(Mt){rs(Mt.element,ln)}),s.run(function(Mt){var wt=d.get();Mt.setRect({x:wt.x*ft+on,y:wt.y*ft+Ot,w:wt.w*ft,h:wt.h*ft}),Mt.setClampRect({x:on,y:Ot,w:rt,h:Ct}),Mt.setViewPortRect({x:0,y:0,w:ct,h:Fe})})})},E=function(ze,we){fe.getOpt(ze).each(function(Le){var ft=Vi(Le.element),ct=Mo(Le.element),Fe=we.dom.naturalWidth,rt=we.dom.naturalHeight,Ct=Math.min(ft/Fe,ct/rt);Ct>=1?o.set(1):o.set(Ct)})},O=function(ze,we){var Le=sn.fromTag("img");return ur(Le,"src",we),hS(Le.dom).then(function(){ze.getSystem().isConnected()&&fe.getOpt(ze).map(function(ft){var ct=Hb({element:Le});Qn.replaceAt(ft,1,B.some(ct));var Fe=g.get(),rt={x:0,y:0,w:Le.dom.naturalWidth,h:Le.dom.naturalHeight};g.set(rt);var Ct=wB.inflate(rt,-20,-20);d.set(Ct),(Fe.w!==rt.w||Fe.h!==rt.h)&&E(ft,Le),C(ft,Le)})})},$=function(ze,we){var Le=o.get(),ft=we>0?Math.min(2,Le+.1):Math.max(.1,Le-.1);o.set(ft),fe.getOpt(ze).each(function(ct){var Fe=ct.components()[1].element;C(ct,Fe)})},V=function(){s.run(function(ze){ze.toggleVisibility(!0)})},j=function(){s.run(function(ze){ze.toggleVisibility(!1)})},ee=function(){return d.get()},ae=ku.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Jt([ar("image-panel-crop-events",[rr(function(ze){fe.getOpt(ze).each(function(we){var Le=we.element.dom,ft=rF.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Le,q);ft.toggleVisibility(!1),ft.on("updateRect",function(ct){var Fe=ct.rect,rt=o.get(),Ct={x:Math.round(Fe.x/rt),y:Math.round(Fe.y/rt),w:Math.round(Fe.w/rt),h:Math.round(Fe.h/rt)};d.set(Ct)}),s.set(ft)})}),Ms(function(){s.clear()})])])}],containerBehaviours:Jt([Qn.config({}),ar("image-panel-events",[rr(function(ze){O(ze,t)})])])}),fe=oa(ae),Se=function(){var ze=g.get();return{width:ze.w,height:ze.h}};return{memContainer:fe,updateSrc:O,zoom:$,showCrop:V,hideCrop:j,getRect:ee,getMeasurements:Se}},Us=function(t,r,o,s,d){return TO({name:t,icon:B.some(r),disabled:o,tooltip:B.some(t),primary:!1,borderless:!1},s,d)},_B=function(t,r){r?Mn.enable(t):Mn.disable(t)},xB=function(t){var r=function(g,C,E){o.getOpt(g).each(function(O){_B(O,C)}),s.getOpt(g).each(function(O){_B(O,E)})},o=oa(Us("Undo","undo",!0,function(g){In(g,Au.undo(),{direction:1})},t)),s=oa(Us("Redo","redo",!0,function(g){In(g,Au.redo(),{direction:1})},t)),d=ku.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),s.asSpec(),Us("Zoom in","zoom-in",!1,function(g){In(g,Au.zoom(),{direction:1})},t),Us("Zoom out","zoom-out",!1,function(g){In(g,Au.zoom(),{direction:-1})},t)]});return{container:d,updateButtonUndoStates:r}};function aF(){var t=[],r=-1,o=function(E){var O=t.splice(++r);return t.push(E),{state:E,removed:O}},s=function(){if(g())return t[--r]},d=function(){if(C())return t[++r]},g=function(){return r>0},C=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:s,redo:d,canUndo:g,canRedo:C}}var oF=function(t){var r=Pn(t),o=mo(),s=aF();s.add(t);var d=function(){return r.get()},g=function(Le){r.set(Le)},C=function(){return o.get().getOrThunk(r.get)},E=function(Le){var ft=O(Le);return j(),o.set(ft),ft.url},O=function(Le){return{blob:Le,url:URL.createObjectURL(Le)}},$=function(Le){URL.revokeObjectURL(Le.url)},V=function(Le){Wg.each(Le,$)},j=function(){o.on($),o.clear()},ee=function(Le){var ft=O(Le);g(ft);var ct=s.add(ft).removed;return V(ct),ft.url},ae=function(Le){var ft=O(Le);return o.set(ft),ft.url},fe=function(Le){return o.get().fold(q,function(ft){ee(ft.blob),Le()})},Se=function(){var Le=s.undo();return g(Le),Le.url},ze=function(){var Le=s.redo();return g(Le),Le.url},we=function(){var Le=s.canUndo(),ft=s.canRedo();return{undoEnabled:Le,redoEnabled:ft}};return{getBlobState:d,setBlobState:g,addBlobState:ee,getTempState:C,updateTempState:E,addTempState:ae,applyTempState:fe,destroyTempState:j,undo:Se,redo:ze,getHistoryStates:we}},iF=function(t,r){var o=oF(t.currentState),s=function(Mt,wt){var Kt=wt.event.direction;Ct.zoom(Mt,Kt)},d=function(Mt){var wt=o.getHistoryStates();on.updateButtonUndoStates(Mt,wt.undoEnabled,wt.redoEnabled),In(Mt,gs.formActionEvent,{name:gs.saveState(),value:wt.undoEnabled})},g=function(Mt){on.updateButtonUndoStates(Mt,!1,!1)},C=function(Mt,wt){var Kt=o.undo();j(Mt,Kt).then(function(Cn){V(Mt),d(Mt)})},E=function(Mt,wt){var Kt=o.redo();j(Mt,Kt).then(function(Cn){V(Mt),d(Mt)})},O=function(Mt){return Mt.toBlob()},$=function(Mt){In(Mt,gs.formActionEvent,{name:gs.disable(),value:{}})},V=function(Mt){Ot.getApplyButton(Mt).each(function(wt){Mn.enable(wt)}),In(Mt,gs.formActionEvent,{name:gs.enable(),value:{}})},j=function(Mt,wt){return $(Mt),Ct.updateSrc(Mt,wt)},ee=function(Mt,wt,Kt,Cn,Et){$(Mt),fz(wt).then(Kt).then(O).then(Cn).then(function(bn){return j(Mt,bn)}).then(function(){d(Mt),Et(),V(Mt)}).catch(function(bn){console.log(bn),Mt.getSystem().isConnected()&&V(Mt)})},ae=function(Mt,wt,Kt){var Cn=o.getBlobState().blob,Et=function(bn){return o.updateTempState(bn)};ee(Mt,Cn,wt,Et,Kt)},fe=function(Mt,wt){var Kt=o.getTempState().blob,Cn=function(Et){return o.addTempState(Et)};ee(Mt,Kt,wt,Cn,q)},Se=function(Mt,wt,Kt){var Cn=o.getBlobState().blob,Et=function(bn){var An=o.addBlobState(bn);return we(Mt),An};ee(Mt,Cn,wt,Et,Kt)},ze=function(Mt,wt){var Kt=function(){we(Mt);var Cn=wt.event.swap;Cn()};o.applyTempState(Kt)},we=function(Mt){var wt=o.getBlobState().url;return o.destroyTempState(),d(Mt),wt},Le=function(Mt){var wt=we(Mt);j(Mt,wt).then(function(Kt){V(Mt)})},ft=function(Mt,wt){Le(Mt);var Kt=wt.event.swap;Kt(),Ct.hideCrop()},ct=function(Mt,wt){return ae(Mt,wt.event.transform,q)},Fe=function(Mt,wt){return fe(Mt,wt.event.transform)},rt=function(Mt,wt){return Se(Mt,wt.event.transform,wt.event.swap)},Ct=SB(t.currentState.url),on=xB(r),Ot=tF(Ct,r),ln=function(Mt,wt){g(Mt);var Kt=wt.event.transform,Cn=wt.event.swap;Kt.fold(function(){Cn()},function(Et){ae(Mt,Et,Cn)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Ot.memContainer.asSpec(),Ct.memContainer.asSpec(),on.container],behaviours:Jt([an.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),ar("image-tools-events",[Rt(Au.undo(),C),Rt(Au.redo(),E),Rt(Au.zoom(),s),Rt(Au.back(),ft),Rt(Au.apply(),ze),Rt(Au.transform(),ct),Rt(Au.tempTransform(),Fe),Rt(Au.transformApply(),rt),Rt(Au.swap(),ln)]),yv.self()])}},uF=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},s=Ue(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:Jt([yv.self(),Qn.config({}),Mm.domHtml(B.none()),Fn.config({mode:"acyclic"})])}},IO=function(t){return!Mr(t,"items")},kB="data-value",AB=function(t,r,o,s){return Ue(o,function(d){return IO(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===s,onAction:function(){an.setValue(t,d.value),In(t,Ll,{name:r}),Yn.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:function(){return AB(t,r,d.items,s)}}})},EB=function(t,r){return Zr(t,function(o){return IO(o)?qs(o.value===r,o):EB(o.items,r)})},sF=function(t,r){var o=r.shared.providers,s=tr(t.items).filter(IO),d=t.label.map(function(E){return Dm(E,o)}),g=Yr.parts.field({dom:{},factory:{sketch:function(E){return bA({uid:E.uid,text:s.map(function(O){return O.text}),icon:B.none(),tooltip:t.label,role:B.none(),fetch:function(O,$){var V=AB(O,t.name,t.items,an.getValue(O));$(My(V,uu.CLOSE_ON_EXECUTE,r,!1))},onSetup:ue(q),getApi:ue({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[To.config({}),an.config({store:{mode:"manual",initialValue:s.map(function(O){return O.value}).getOr(""),getValue:function(O){return za(O.element,kB)},setValue:function(O,$){EB(t.items,$).each(function(V){ur(O.element,kB,V.value),In(O,z1,{text:V.text})})}}})]},"tox-listbox",r.shared)}}}),C={dom:{tag:"div",classes:["tox-listboxfield"]},components:[g]};return Yr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:it([d.toArray(),[C]]),fieldBehaviours:Jt([Mn.config({disabled:ue(t.disabled),onDisabled:function(E){Yr.getField(E).each(Mn.disable)},onEnabled:function(E){Yr.getField(E).each(Mn.enable)}})])})},TB=function(t,r){return{dom:{tag:"div",classes:t.classes},components:Ue(t.items,r.shared.interpreter)}},OB=function(t,r){var o=Ue(t.options,function(d){return{dom:{tag:"option",value:d.value,innerHtml:d.text}}}),s=t.data.map(function(d){return Vc("initialValue",d)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:fi(t.selectBehaviours,[Yn.config({}),an.config({store:ne({mode:"manual",getValue:function(d){return Xc(d.element)},setValue:function(d,g){var C=pt(t.options,function(E){return E.value===g});C.isSome()&&Bh(d.element,g)}},s)})])}},DB=Ls({name:"HtmlSelect",configFields:[xt("options"),Xo("selectBehaviours",[Yn,an]),Ve("selectClasses",[]),Ve("selectAttributes",{}),Kr("data")],factory:OB}),lF=function(t,r){var o=Ue(t.items,function(E){return{text:r.translate(E.text),value:E.value}}),s=t.label.map(function(E){return Dm(E,r)}),d=Yr.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:DB,selectBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),To.config({}),ar("selectbox-change",[Rt(xh(),function(E,O){In(E,Ll,{name:t.name})})])])}),g=t.size>1?B.none():B.some(hv("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),C={dom:{tag:"div",classes:["tox-selectfield"]},components:it([[d],g.toArray()])};return Yr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:it([s.toArray(),[C]]),fieldBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(E){Yr.getField(E).each(Mn.disable)},onEnabled:function(E){Yr.getField(E).each(Mn.enable)}}),ti()])})},RB=function(t,r){var o=function(E){return{dom:{tag:"th",innerHtml:r.translate(E)}}},s=function(E){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ue(E,o)}]}},d=function(E){return{dom:{tag:"td",innerHtml:r.translate(E)}}},g=function(E){return{dom:{tag:"tr"},components:Ue(E,d)}},C=function(E){return{dom:{tag:"tbody"},components:Ue(E,g)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(t.header),C(t.cells)],behaviours:Jt([To.config({}),Yn.config({})])}},$B=function(t,r){var o=t.label.map(function(ee){return Dm(ee,r)}),s=[Mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),Fn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(ee){return Ur(ee,cl),B.some(!0)}}),ar("textfield-change",[Rt(Vd(),function(ee,ae){In(ee,Ll,{name:t.name})}),Rt(y2(),function(ee,ae){In(ee,Ll,{name:t.name})})]),To.config({})],d=t.validation.map(function(ee){return pv.config({getRoot:function(ae){return _o(ae.element)},invalidClass:"tox-invalid",validator:{validate:function(ae){var fe=an.getValue(ae),Se=ee.validator(fe);return Ji.pure(Se===!0?cr.value(fe):cr.error(Se))},validateOnLoad:ee.validateOnLoad}})}).toArray(),g=t.placeholder.fold(ue({}),function(ee){return{placeholder:r.translate(ee)}}),C=t.inputMode.fold(ue({}),function(ee){return{inputmode:ee}}),E=ne(ne({},g),C),O=Yr.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:E,inputClasses:[t.classname],inputBehaviours:Jt(it([s,d])),selectOnFocus:!1,factory:XC}),$=t.flex?["tox-form__group--stretched"]:[],V=$.concat(t.maximized?["tox-form-group--maximize"]:[]),j=[Mn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(ee){Yr.getField(ee).each(Mn.disable)},onEnabled:function(ee){Yr.getField(ee).each(Mn.enable)}}),ti()];return qC(o,O,V,j)},cF=function(t,r){return $B({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:B.none(),maximized:t.maximized},r)},fF=function(t,r){return $B({name:t.name,multiline:!0,label:t.label,inputMode:B.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:B.none(),maximized:t.maximized},r)},vF=function(t,r){var o=t.stream.streams,s=o.setup(t,r);return Sa([Rt(t.event,s),Ms(function(){return r.cancel()})].concat(t.cancelEvent.map(function(d){return[Rt(d,function(){return r.cancel()})]}).getOr([])))},dF=Object.freeze({__proto__:null,events:vF}),BB=function(t){var r=Pn(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},s=function(g){r.set(g)},d=function(){var g=r.get();g!==null&&g.cancel()};return Ki({readState:o,setTimer:s,cancel:d})},mF=function(t){return t.stream.streams.state(t)},hF=Object.freeze({__proto__:null,throttle:BB,init:mF}),gF=function(t,r){var o=t.stream,s=LE(t.onStream,o.delay);return r.setTimer(s),function(d,g){s.throttle(d,g),o.stopEvent&&g.stop()}},pF=[Iu("stream",el("mode",{throttle:[xt("delay"),Ve("stopEvent",!0),ka("streams",{setup:gF,state:BB})]})),Ve("event","input"),Kr("cancelEvent"),wu("onStream")],MB=Ko({fields:pF,name:"streaming",active:dF,state:hF}),AA=function(t,r,o){var s=an.getValue(o);an.setValue(r,s),IB(r)},PB=function(t,r){var o=t.element,s=Xc(o),d=o.dom;za(o,"type")!=="number"&&r(d,s)},IB=function(t){PB(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},NB=function(t,r){PB(t,function(o,s){return o.setSelectionRange(r,s.length)})},bF=function(t,r,o){if(t.selectsOver){var s=an.getValue(r),d=t.getDisplayText(s),g=an.getValue(o),C=t.getDisplayText(g);return C.indexOf(d)===0?B.some(function(){AA(t,r,o),NB(r,d.length)}):B.none()}else return B.none()},NO=ue("alloy.typeahead.itemexecute"),zB=function(t,r,o,s){var d=function(O,$,V){t.previewing.set(!1);var j=Oo.getCoupled(O,"sandbox");if(Dr.isOpen(j))Sr.getCurrent(j).each(function(ae){ta.getHighlighted(ae).fold(function(){V(ae)},function(){n_(j,ae.element,"keydown",$)})});else{var ee=function(ae){Sr.getCurrent(ae).each(V)};Xk(t,C(O),O,j,s,ee,hf.HighlightFirst).get(q)}},g=Gk(t),C=function(O){return function($){return $.map(function(V){var j=_i(V.menus),ee=Wt(j,function(fe){return Ae(fe.items,function(Se){return Se.type==="item"})}),ae=an.getState(O);return ae.update(Ue(ee,function(fe){return fe.data})),V})}},E=[Yn.config({}),an.config({onSetValue:t.onSetValue,store:ne({mode:"dataset",getDataKey:function(O){return Xc(O.element)},getFallbackEntry:function(O){return{value:O,meta:{}}},setValue:function(O,$){Bh(O.element,t.model.getDisplayText($))}},t.initialData.map(function(O){return Vc("initialValue",O)}).getOr({}))}),MB.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(O,$){var V=Oo.getCoupled(O,"sandbox"),j=Yn.isFocused(O);if(j&&Xc(O.element).length>=t.minChars){var ee=Sr.getCurrent(V).bind(function(fe){return ta.getHighlighted(fe).map(an.getValue)});t.previewing.set(!0);var ae=function(fe){Sr.getCurrent(V).each(function(Se){ee.fold(function(){t.model.selectsOver&&ta.highlightFirst(Se)},function(ze){ta.highlightBy(Se,function(we){var Le=an.getValue(we);return Le.value===ze.value}),ta.getHighlighted(Se).orThunk(function(){return ta.highlightFirst(Se),B.none()})})})};Xk(t,C(O),O,V,s,ae,hf.HighlightFirst).get(q)}},cancelEvent:w2()}),Fn.config({mode:"special",onDown:function(O,$){return d(O,$,ta.highlightFirst),B.some(!0)},onEscape:function(O){var $=Oo.getCoupled(O,"sandbox");return Dr.isOpen($)?(Dr.close($),B.some(!0)):B.none()},onUp:function(O,$){return d(O,$,ta.highlightLast),B.some(!0)},onEnter:function(O){var $=Oo.getCoupled(O,"sandbox"),V=Dr.isOpen($);if(V&&!t.previewing.get())return Sr.getCurrent($).bind(function(ee){return ta.getHighlighted(ee)}).map(function(ee){return In(O,NO(),{item:ee}),!0});var j=an.getValue(O);return Ur(O,w2()),t.onExecute($,O,j),V&&Dr.close($),B.some(!0)}}),Ir.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Oo.config({others:{sandbox:function(O){return HT(t,O,{onOpen:function(){return Ir.on(O)},onClose:function(){return Ir.off(O)}})}}}),ar("typeaheadevents",[cs(function(O){var $=q;Ty(t,C(O),O,s,$,hf.HighlightFirst).get(q)}),Rt(NO(),function(O,$){var V=Oo.getCoupled(O,"sandbox");AA(t.model,O,$.event.item),Ur(O,w2()),t.onItemExecute(O,V,$.event.item,an.getValue(O)),Dr.close(V),IB(O)})].concat(t.dismissOnBlur?[Rt(b2(),function(O){var $=Oo.getCoupled(O,"sandbox");dc($.element).isNone()&&Dr.close($)})]:[]))];return{uid:t.uid,dom:qk(bt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:ne(ne({},g),fi(t.typeaheadBehaviours,E)),eventOrder:t.eventOrder}},yF=ue([Kr("lazySink"),xt("fetch"),Ve("minChars",5),Ve("responseTime",1e3),Xr("onOpen"),Ve("getHotspot",B.some),Ve("getAnchorOverrides",ue({})),Ve("layouts",B.none()),Ve("eventOrder",{}),l2("model",{},[Ve("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),Ve("selectsOver",!0),Ve("populateFromBrowse",!0)]),Xr("onSetValue"),Go("onExecute"),Xr("onItemExecute"),Ve("inputClasses",[]),Ve("inputAttributes",{}),Ve("inputStyles",{}),Ve("matchWidth",!0),Ve("useMinWidth",!1),Ve("dismissOnBlur",!0),tm(["openClass"]),Kr("initialData"),Xo("typeaheadBehaviours",[Yn,an,MB,Fn,Ir,Oo]),hu("previewing",function(){return Pn(!0)})].concat(NR()).concat(VT())),wF=ue([Fs({schema:[em()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(s){bF(t.model,s,o).fold(function(){return ta.dehighlight(r,o)},function(d){return d()})}):r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&AA(t.model,s,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(s){return In(s,NO(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&AA(t.model,s,o)})}}}})]),CF=xu({name:"Typeahead",configFields:yF(),partFields:wF(),factory:zB}),wf=function(t){var r=function(){return wf(t.toCached())},o=function(O){return wf(t.bind(function($){return $.fold(function(V){return Ji.pure(cr.error(V))},function(V){return O(V)})}))},s=function(O){return wf(t.map(function($){return $.bind(O)}))},d=function(O){return wf(t.map(function($){return $.map(O)}))},g=function(O){return wf(t.map(function($){return $.mapError(O)}))},C=function(O,$){return t.map(function(V){return V.fold(O,$)})},E=function(O,$){return wf(Ji.nu(function(V){var j=!1,ee=setTimeout(function(){j=!0,V(cr.error($()))},O);t.get(function(ae){j||(clearTimeout(ee),V(ae))})}))};return ne(ne({},t),{toCached:r,bindFuture:o,bindResult:s,mapResult:d,mapError:g,foldResult:C,withTimeout:E})},FB=function(t){return wf(Ji.nu(t))},LB=function(t){return wf(Ji.pure(cr.value(t)))},EA=function(t){return wf(Ji.pure(cr.error(t)))},SF=function(t){return wf(Ji.pure(t))},_F=function(t){return wf(t.map(cr.value))},xF=function(t){return FB(function(r){t.then(function(o){r(cr.value(o))},function(o){r(cr.error(o))})})},kF={nu:FB,wrap:wf,pure:LB,value:LB,error:EA,fromResult:SF,fromFuture:_F,fromPromise:xF},AF={type:"separator"},EF=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:q}},zO=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:q}},HB=function(t){return Ue(t,EF)},TF=function(t,r){return Ae(r,function(o){return o.type===t})},VB=function(t,r){return HB(TF(t,r))},OF=function(t){return VB("header",t.targets)},DF=function(t){return VB("anchor",t.targets)},RF=function(t){return B.from(t.anchorTop).map(function(r){return zO("<top>",r)}).toArray()},$F=function(t){return B.from(t.anchorBottom).map(function(r){return zO("<bottom>",r)}).toArray()},BF=function(t){return Ue(t,function(r){return zO(r,r)})},UB=function(t){return et(t,function(r,o){var s=r.length===0||o.length===0;return s?r.concat(o):r.concat(AF,o)},[])},FO=function(t,r){var o=t.toLowerCase();return Ae(r,function(s){var d=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return ma(d.toLowerCase(),o)||ma(s.value.toLowerCase(),o)})},MF=function(t,r,o){var s=an.getValue(r),d=s.meta.text!==void 0?s.meta.text:s.value,g=o.getLinkInformation();return g.fold(function(){return[]},function(C){var E=FO(d,BF(o.getHistory(t)));return t==="file"?UB([E,FO(d,OF(C)),FO(d,it([RF(C),DF(C),$F(C)]))]):E})},WB=wn("aria-invalid"),PF=function(t,r,o){var s,d=r.shared.providers,g=function(we){var Le=an.getValue(we);o.addToHistory(Le.value,t.filetype)},C=Yr.parts.field({factory:CF,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":WB,type:"url"},minChars:0,responseTime:0,fetch:function(we){var Le=MF(t.filetype,we,o),ft=My(Le,uu.BUBBLE_TO_SANDBOX,r,!1);return Ji.pure(ft)},getHotspot:function(we){return ae.getOpt(we)},onSetValue:function(we,Le){we.hasConfigured(pv)&&pv.run(we).get(q)},typeaheadBehaviours:Jt(it([o.getValidationHandler().map(function(we){return pv.config({getRoot:function(Le){return _o(Le.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Le,ft){$.getOpt(Le).each(function(ct){ur(ct.element,"title",d.translate(ft))})}},validator:{validate:function(Le){var ft=an.getValue(Le);return kF.nu(function(ct){we({type:t.filetype,url:ft.value},function(Fe){if(Fe.status==="invalid"){var rt=cr.error(Fe.message);ct(rt)}else{var Ct=cr.value(Fe.message);ct(Ct)}})})},validateOnLoad:!1}})}).toArray(),[Mn.config({disabled:function(){return t.disabled||d.isDisabled()}}),To.config({}),ar("urlinput-events",it([t.filetype==="file"?[Rt(Vd(),function(we){In(we,Ll,{name:t.name})})]:[],[Rt(xh(),function(we){In(we,Ll,{name:t.name}),g(we)}),Rt(y2(),function(we){In(we,Ll,{name:t.name}),g(we)})]]))]])),eventOrder:(s={},s[Vd()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(we){return we.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:S1(!1,1,"normal")},onExecute:function(we,Le,ft){In(Le,cl,{})},onItemExecute:function(we,Le,ft,ct){g(we),In(we,Ll,{name:t.name})}}),E=t.label.map(function(we){return Dm(we,d)}),O=function(we,Le,ft,ct){return ft===void 0&&(ft=we),ct===void 0&&(ct=we),hv(ft,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+we],attributes:ne({title:d.translate(ct),"aria-live":"polite"},Le.fold(function(){return{}},function(Fe){return{id:Fe}}))},d.icons)},$=oa(O("invalid",B.some(WB),"warning")),V=oa({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[$.asSpec()]}),j=o.getUrlPicker(t.filetype),ee=wn("browser.url.event"),ae=oa({dom:{tag:"div",classes:["tox-control-wrap"]},components:[C,V.asSpec()],behaviours:Jt([Mn.config({disabled:function(){return t.disabled||d.isDisabled()}})])}),fe=oa(DO({name:t.name,icon:B.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(we){return Ur(we,ee)},d,[],["tox-browse-url"])),Se=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:it([[ae.asSpec()],j.map(function(){return fe.asSpec()}).toArray()])}},ze=function(we){Sr.getCurrent(we).each(function(Le){var ft=an.getValue(Le),ct=ne({fieldname:t.name},ft);j.each(function(Fe){Fe(ct).get(function(rt){an.setValue(Le,rt),In(we,Ll,{name:t.name})})})})};return Yr.sketch({dom:PI(),components:E.toArray().concat([Se()]),fieldBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||d.isDisabled()},onDisabled:function(we){Yr.getField(we).each(Mn.disable),fe.getOpt(we).each(Mn.disable)},onEnabled:function(we){Yr.getField(we).each(Mn.enable),fe.getOpt(we).each(Mn.enable)}}),ti(),ar("url-input-events",[Rt(ee,ze)])])})},IF=function(t,r){return ku.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:L5(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){In(o,gv,{name:"alert-banner",value:t.url})},buttonBehaviours:Jt([IE()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},NF=function(t,r){var o=an.config({store:{mode:"manual",getValue:function(O){var $=O.element.dom;return $.checked},setValue:function(O,$){var V=O.element.dom;V.checked=$}}}),s=function(O){return O.element.dom.click(),B.some(!0)},d=Yr.parts.field({factory:{sketch:Ee},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Jt([yv.self(),Mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),To.config({}),Yn.config({}),o,Fn.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),ar("checkbox-events",[Rt(xh(),function(O,$){In(O,Ll,{name:t.name})})])])}),g=Yr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:Jt([JC.config({})])}),C=function(O){var $=O==="checked"?"selected":"unselected";return hv($,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+O]},r.icons)},E=oa({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[C("checked"),C("unchecked")]});return Yr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,E.asSpec(),g],fieldBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(O){Yr.getField(O).each(Mn.disable)},onEnabled:function(O){Yr.getField(O).each(Mn.enable)}}),ti()])})},jB=function(t){return t.presets==="presentation"?ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Jt([To.config({}),Yn.config({})])})},So=function(t){return function(r,o,s){return En(o,"name").fold(function(){return t(o,s)},function(d){return r.field(d,t(o,s))})}},TA=function(t){return function(r,o,s){var d=bt(o,{source:"dynamic"});return So(t)(r,d,s)}},zF={bar:So(function(t,r){return A1(t,r.shared)}),collection:So(function(t,r){return jk(t,r.shared.providers)}),alertbanner:So(function(t,r){return IF(t,r.shared.providers)}),input:So(function(t,r){return cF(t,r.shared.providers)}),textarea:So(function(t,r){return fF(t,r.shared.providers)}),label:So(function(t,r){return uF(t,r.shared)}),iframe:TA(function(t,r){return U$(t,r.shared.providers)}),button:So(function(t,r){return Hz(t,r.shared.providers)}),checkbox:So(function(t,r){return NF(t,r.shared.providers)}),colorinput:So(function(t,r){return eN(t,r.shared,r.colorinput)}),colorpicker:So(KN),dropzone:So(function(t,r){return tz(t,r.shared.providers)}),grid:So(function(t,r){return H$(t,r.shared)}),listbox:So(function(t,r){return sF(t,r)}),selectbox:So(function(t,r){return lF(t,r.shared.providers)}),sizeinput:So(function(t,r){return gB(t,r.shared.providers)}),urlinput:So(function(t,r){return PF(t,r,r.urlinput)}),customeditor:So(YN),htmlpanel:So(jB),imagetools:So(function(t,r){return iF(t,r.shared.providers)}),table:So(function(t,r){return RB(t,r.shared.providers)}),panel:So(function(t,r){return TB(t,r)})},FF={field:function(t,r){return r}},OA=function(t,r,o){var s=bt(o,{shared:{interpreter:function(d){return LO(t,d,s)}}});return LO(t,r,s)},LO=function(t,r,o){return En(zF,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(s){return s(t,r,o)})},LF=function(t,r){var o=FF;return LO(o,t,r)},DA={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},GB=function(t,r,o){var s=12,d={maxHeightFunction:jh()},g=function(){return{type:"node",root:Zl(t()),node:B.from(t()),bubble:sm(s,s,DA),layouts:{onRtl:function(){return[Rg]},onLtr:function(){return[Dg]}},overrides:d}},C=function(){return{type:"hotspot",hotspot:r(),bubble:sm(-s,s,DA),layouts:{onRtl:function(){return[Xi]},onLtr:function(){return[ei]}},overrides:d}};return function(){return o()?g():C()}},qB=function(t,r,o){var s=function(){return{type:"node",root:Zl(t()),node:B.from(t()),layouts:{onRtl:function(){return[Cc]},onLtr:function(){return[Cc]}}}},d=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[No]},onLtr:function(){return[No]}}}};return function(){return o()?s():d()}},HF=function(t,r){return function(){return{type:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return B.some(Kh.range(sn.fromDom(o.startContainer),o.startOffset,sn.fromDom(o.endContainer),o.endOffset))}}}},VF=function(t){return function(r){return{type:"node",root:t(),node:r}}},UF=function(t,r,o){var s=$k(t),d=function(){return sn.fromDom(t.getBody())},g=function(){return sn.fromDom(t.getContentAreaContainer())},C=function(){return s||!o()};return{inlineDialog:GB(g,r,C),banner:qB(g,r,C),cursor:HF(t,d),node:VF(d)}},WF=function(t){return function(r,o){var s=hR(t);s(r,o)}},jF=function(t){return function(){return sR(t)}},KB=function(t){return function(){return _T(t)}},GF=function(t){return function(){return cR(t)}},XB=function(t){return{colorPicker:WF(t),hasCustomColors:jF(t),getColors:KB(t),getColorCols:GF(t)}},qF=function(t){return function(){return RD(t)}},KF=function(t){return{isDraggableModal:qF(t)}},HO=function(t){var r=Pn(AD(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},RA=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],gS=function(t){return Mr(t,"items")},XF=function(t){return Mr(t,"block")},YF=function(t){return Mr(t,"inline")},JF=function(t){return Mr(t,"selector")},YB=function(t){return et(t,function(r,o){if(gS(o)){var s=YB(o.items);return{customFormats:r.customFormats.concat(s.customFormats),formats:r.formats.concat([{title:o.title,items:s.formats}])}}else if(YF(o)||XF(o)||JF(o)){var d=S(o.name)?o.name:o.title.toLowerCase(),g="custom-"+d;return{customFormats:r.customFormats.concat([{name:g,format:o}]),formats:r.formats.concat([{title:o.title,format:g,icon:o.icon}])}}else return ne(ne({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},ZF=function(t,r){var o=YB(r),s=function(d){gt(d,function(g){t.formatter.has(g.name)||t.formatter.register(g.name,g.format)})};return t.formatter?s(o.customFormats):t.on("init",function(){s(o.customFormats)}),o.formats},VO=function(t){return iP(t).map(function(r){var o=ZF(t,r);return uP(t)?RA.concat(o):o}).getOr(RA)},UO=function(t,r,o){var s={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return bt(t,s)},WO=function(t,r,o,s){var d=function(O){return UO(O,o,s)},g=function(O){var $={type:"submenu"};return bt(O,$)},C=function(O){var $=S(O.name)?O.name:wn(O.title),V="custom-"+$,j={type:"formatter",format:V,isSelected:o(V),getStylePreview:s(V)},ee=bt(O,j);return t.formatter.register($,ee),ee},E=function(O){return Ue(O,function($){var V=Lr($);if(lo($,"items")){var j=E($.items);return bt(g($),{getStyleItems:ue(j)})}else return lo($,"format")?d($):V.length===1&&lt(V,"title")?bt($,{type:"separator"}):C($)})};return E(r)},QF=function(t){var r=function(j){return function(){return t.formatter.match(j)}},o=function(j){return function(){var ee=t.formatter.get(j);return ee!==void 0?B.some({tag:ee.length>0&&(ee[0].inline||ee[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(j))}):B.none()}},s=function(j){var ee=j.items;return ee!==void 0&&ee.length>0?Wt(ee,s):[j.format]},d=Pn([]),g=Pn([]),C=Pn([]),E=Pn([]),O=Pn(!1);t.on("PreInit",function(j){var ee=VO(t),ae=WO(t,ee,r,o);d.set(ae),g.set(Wt(ae,s))}),t.on("addStyleModifications",function(j){var ee=WO(t,j.items,r,o);C.set(ee),O.set(j.replace),E.set(Wt(ee,s))});var $=function(){var j=O.get()?[]:d.get(),ee=C.get();return j.concat(ee)},V=function(){var j=O.get()?[]:g.get(),ee=E.get();return j.concat(ee)};return{getData:$,getFlattenedKeys:V}},eL=function(t){return L(t)&&t.nodeType===1},tL=Wg.trim,JB=function(t){return function(r){return!!(eL(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},nL=JB("true"),ZB=JB("false"),QB=function(t,r,o,s,d){return{type:t,title:r,url:o,level:s,attach:d}},rL=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return nL(t)}return!1},aL=function(t,r){return Ue(au(sn.fromDom(r),t),function(o){return o.dom})},eM=function(t){return t.innerText||t.textContent},tM=function(t){return t.id?t.id:wn("h")},F1=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},nM=function(t){return F1(t)&&aM(t)},rM=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},aM=function(t){return rL(t)&&!ZB(t)},oL=function(t){return rM(t)&&aM(t)},oM=function(t){return rM(t)?parseInt(t.nodeName.substr(1),10):0},iL=function(t){var r=tM(t),o=function(){t.id=r};return QB("header",eM(t),"#"+r,oM(t),o)},uL=function(t){var r=t.id||t.name,o=eM(t);return QB("anchor",o||"#"+r,"#"+r,0,q)},sL=function(t){return Ue(Ae(t,oL),iL)},lL=function(t){return Ue(Ae(t,nM),uL)},cL=function(t){var r=aL("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},fL=function(t){return tL(t.title).length>0},vL=function(t){var r=cL(t);return Ae(sL(r).concat(lL(r)),fL)},dL={find:vL},$A="tinymce-url-history",iM=5,jO=function(t){return S(t)&&/^https?/.test(t)},mL=function(t){return T(t)&&t.length<=iM&&Dt(t,jO)},uM=function(t){return _(t)&&Ju(t,function(r){return!mL(r)}).isNone()},sM=function(){var t=Fk.getItem($A);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+$A+" was not valid JSON",o),{};throw o}return uM(r)?r:(console.log("Local storage "+$A+" was not valid format",r),{})},hL=function(t){if(!uM(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Fk.setItem($A,JSON.stringify(t))},gL=function(t){var r=sM();return En(r,t).getOr([])},GO=function(t,r){if(jO(t)){var o=sM(),s=En(o,r).getOr([]),d=Ae(s,function(g){return g!==t});o[r]=[t].concat(d).slice(0,iM),hL(o)}},BA=function(t){return!!t},pL=function(t){return lr(Wg.makeMap(t,/[, ]/),BA)},qO=function(t){return B.from(mP(t)).filter(P)},bL=function(t){var r=B.some(hP(t)).filter(BA),o=B.some(hT(t)).filter(BA),s=r.or(o).map(pL);return qO(t).fold(pe,function(d){return s.fold(ye,function(g){return Lr(g).length>0?g:!1})})},yL=function(t,r){var o=bL(t);return F(o)?o?qO(t):B.none():o[r]?qO(t):B.none()},wL=function(t,r){return yL(t,r).map(function(o){return function(s){return Ji.nu(function(d){var g=function(E,O){if(!S(E))throw new Error("Expected value to be string");if(O!==void 0&&!_(O))throw new Error("Expected meta to be a object");var $={value:E,meta:O};d($)},C=ne({filetype:r,fieldname:s.fieldname},B.from(s.meta).getOr({}));o.call(t,g,s.value,C)})}})},lM=function(t){return B.from(t).filter(S).getOrUndefined()},CL=function(t){return $D(t)?B.none():B.some({targets:dL.find(t.getBody()),anchorTop:lM(BD(t)),anchorBottom:lM(gP(t))})},SL=function(t){return B.from(MD(t))},_L=function(t){return{getHistory:gL,addToHistory:GO,getLinkInformation:function(){return CL(t)},getValidationHandler:function(){return SL(t)},getUrlPicker:function(r){return wL(t,r)}}},MA=function(t,r,o){var s=Pn(!1),d=HO(r),g={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:df.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(C){return LF(C,g)},anchors:UF(r,o,d.isPositionedAtTop),header:d,getSink:function(){return cr.value(t)}},urlinput:_L(r),styleselect:QF(r),colorinput:XB(r),dialog:KF(r),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(C){return s.set(C)}};return g},xL=function(t,r,o){var s=function(ct,Fe){gt([r,o],function(rt){rt.broadcastEvent(ct,Fe)})},d=function(ct,Fe){gt([r,o],function(rt){rt.broadcastOn([ct],Fe)})},g=function(ct){return d(mm(),{target:ct.target})},C=Fp(),E=wo(C,"touchstart",g),O=wo(C,"touchmove",function(ct){return s(xb(),ct)}),$=wo(C,"touchend",function(ct){return s(I3(),ct)}),V=wo(C,"mousedown",g),j=wo(C,"mouseup",function(ct){ct.raw.button===0&&d(kw(),{target:ct.target})}),ee=function(ct){return d(mm(),{target:sn.fromDom(ct.target)})},ae=function(ct){ct.button===0&&d(kw(),{target:sn.fromDom(ct.target)})},fe=function(){gt(t.editorManager.get(),function(ct){t!==ct&&ct.fire("DismissPopups",{relatedTarget:t})})},Se=function(ct){return s(C2(),um(ct))},ze=function(ct){d(sg(),{}),s($s(),um(ct))},we=function(){return d(sg(),{})},Le=function(ct){ct.state&&d(mm(),{target:sn.fromDom(t.getContainer())})},ft=function(ct){d(mm(),{target:sn.fromDom(ct.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",ee),t.on("tap",ee),t.on("mouseup",ae),t.on("mousedown",fe),t.on("ScrollWindow",Se),t.on("ResizeWindow",ze),t.on("ResizeEditor",we),t.on("AfterProgressState",Le),t.on("DismissPopups",ft)}),t.on("remove",function(){t.off("click",ee),t.off("tap",ee),t.off("mouseup",ae),t.off("mousedown",fe),t.off("ScrollWindow",Se),t.off("ResizeWindow",ze),t.off("ResizeEditor",we),t.off("AfterProgressState",Le),t.off("DismissPopups",ft),V.unbind(),E.unbind(),O.unbind(),$.unbind(),j.unbind()}),t.on("detach",function(){ou(r),ou(o),r.destroy(),o.destroy()})},Ws=Un,jg=F0,L1=ue([Ve("shell",!1),xt("makeItem"),Ve("setupItem",q),il.field("listBehaviours",[Qn])]),kL=function(){return{behaviours:Jt([Qn.config({})])}},KO=ul({name:"items",overrides:kL}),PA=ue([KO]),AL=ue("CustomList"),EL=function(t,r,o,s){var d=function(E,O){C(E).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function($){var V=Qn.contents($),j=O.length,ee=j-V.length,ae=ee>0?te(ee,function(){return t.makeItem()}):[],fe=V.slice(j);gt(fe,function(ze){return Qn.remove($,ze)}),gt(ae,function(ze){return Qn.append($,ze)});var Se=Qn.contents($);gt(Se,function(ze,we){t.setupItem(E,ze,O[we],we)})})},g=t.shell?{behaviours:[Qn.config({})],components:[]}:{behaviours:[],components:r},C=function(E){return t.shell?B.some(E):pa(E,t,"items")};return{uid:t.uid,dom:t.dom,components:g.components,behaviours:fi(t.listBehaviours,g.behaviours),apis:{setItems:d}}},cM=xu({name:AL(),configFields:L1(),partFields:PA(),factory:EL,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),Iy=ue([xt("dom"),Ve("shell",!0),Xo("toolbarBehaviours",[Qn])]),TL=function(){return{behaviours:Jt([Qn.config({})])}},H1=ue([ul({name:"groups",overrides:TL})]),fM=function(t,r,o,s){var d=function(E,O){g(E).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function($){Qn.set($,O)})},g=function(E){return t.shell?B.some(E):pa(E,t,"groups")},C=t.shell?{behaviours:[Qn.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:C.components,behaviours:fi(t.toolbarBehaviours,C.behaviours),apis:{setGroups:d},domModification:{attributes:{role:"group"}}}},wv=xu({name:"Toolbar",configFields:Iy(),partFields:H1(),factory:fM,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),OL=q,DL=pe,vM=ue([]),RL=Object.freeze({__proto__:null,setup:OL,isDocked:DL,getBehaviours:vM}),dM=function(t){var r=lu(ko(t,"position"),"fixed"),o=r?B.none():Nf(t);return o.orThunk(function(){var s=sn.fromTag("span");return _o(t).bind(function(d){Ui(d,s);var g=Nf(s);return Bu(s),g})})},IA=function(t){return dM(t).map(vu).getOrThunk(function(){return ya(0,0)})},V1=Ds.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),NA=function(t,r){var o=t.element;Wo(o,r.transitionClass),Io(o,r.fadeOutClass),Wo(o,r.fadeInClass),r.onShow(t)},zA=function(t,r){var o=t.element;Wo(o,r.transitionClass),Io(o,r.fadeInClass),Wo(o,r.fadeOutClass),r.onHide(t)},U1=function(t,r){return t.y<r.bottom&&t.bottom>r.y},FA=function(t,r){return t.y>=r.y},$L=function(t,r){return t.bottom<=r.bottom},XO=function(t,r,o){return Dt(t,function(s){switch(s){case"bottom":return $L(r,o);case"top":return FA(r,o)}})},YO=function(t,r){return r.getInitialPos().map(function(o){return Vo(o.bounds.x,o.bounds.y,Vi(t),Mo(t))})},mM=function(t,r,o){o.setInitialPos({style:zf(t),position:ro(t,"position")||"static",bounds:r})},hM=function(t,r,o){return o.getInitialPos().bind(function(s){switch(o.clearInitialPos(),s.position){case"static":return B.some(V1.static());case"absolute":var d=dM(t).map(Ao).getOrThunk(function(){return Ao(Hi())});return B.some(V1.absolute(ru("absolute",En(s.style,"left").map(function(g){return r.x-d.x}),En(s.style,"top").map(function(g){return r.y-d.y}),En(s.style,"right").map(function(g){return d.right-r.right}),En(s.style,"bottom").map(function(g){return d.bottom-r.bottom}))));default:return B.none()}})},gM=function(t,r,o){return YO(t,o).filter(function(s){return XO(o.getModes(),s,r)}).bind(function(s){return hM(t,s,o)})},BL=function(t,r,o){var s=Ao(t);if(XO(o.getModes(),s,r))return B.none();mM(t,s,o);var d=Ai(),g=s.x-d.x,C=r.y-d.y,E=d.bottom-r.bottom,O=s.y<=r.y;return B.some(V1.fixed(ru("fixed",B.some(g),O?B.some(C):B.none(),B.none(),O?B.none():B.some(E))))},ML=function(t,r,o){var s=t.element,d=lu(ko(s,"position"),"fixed");return d?gM(s,r,o):BL(s,r,o)},PL=function(t,r){var o=t.element;return YO(o,r).bind(function(s){return hM(o,s,r)})},LA=function(t,r,o){o.setDocked(!1),gt(["left","right","top","bottom","position"],function(s){return qr(t.element,s)}),r.onUndocked(t)},pS=function(t,r,o,s){var d=s.position==="fixed";o.setDocked(d),nd(t.element,s);var g=d?r.onDocked:r.onUndocked;g(t)},pM=function(t,r,o,s,d){d===void 0&&(d=!1),r.contextual.each(function(g){g.lazyContext(t).each(function(C){var E=U1(C,s);if(E!==o.isVisible())if(o.setVisible(E),d&&!E)Jd(t.element,[g.fadeOutClass]),g.onHide(t);else{var O=E?NA:zA;O(t,g)}})})},bM=function(t,r,o){var s=r.lazyViewport(t),d=o.isDocked();d&&pM(t,r,o,s),ML(t,s,o).each(function(g){g.fold(function(){return LA(t,r,o)},function(C){return pS(t,r,o,C)},function(C){pM(t,r,o,s,!0),pS(t,r,o,C)})})},IL=function(t,r,o){var s=t.element;o.setDocked(!1),PL(t,o).each(function(d){d.fold(function(){return LA(t,r,o)},function(g){return pS(t,r,o,g)},q)}),o.setVisible(!0),r.contextual.each(function(d){Ns(s,[d.fadeInClass,d.fadeOutClass,d.transitionClass]),d.onShow(t)}),HA(t,r,o)},HA=function(t,r,o){t.getSystem().isConnected()&&bM(t,r,o)},yM=function(t,r,o){o.isDocked()&&IL(t,r,o)},NL=function(t,r,o){return o.isDocked()},W1=function(t,r,o,s){return o.setModes(s)},wM=function(t,r,o){return o.getModes()},zL=Object.freeze({__proto__:null,refresh:HA,reset:yM,isDocked:NL,getModes:wM,setModes:W1}),CM=function(t,r){return Sa([Eo(Ah(),function(o,s){t.contextual.each(function(d){if(bu(o.element,d.transitionClass)){Ns(o.element,[d.transitionClass,d.fadeInClass]);var g=r.isVisible()?d.onShown:d.onHidden;g(o)}s.stop()})}),Rt(C2(),function(o,s){HA(o,t,r)}),Rt($s(),function(o,s){yM(o,t,r)})])},FL=Object.freeze({__proto__:null,events:CM}),VA=[ss("contextual",[Xn("fadeInClass"),Xn("fadeOutClass"),Xn("transitionClass"),tu("lazyContext"),Xr("onShow"),Xr("onShown"),Xr("onHide"),Xr("onHidden")]),Ta("lazyViewport",Ai),Yf("modes",["top","bottom"],yo),Xr("onDocked"),Xr("onUndocked")],Cf=function(t){var r=Pn(!1),o=Pn(!0),s=mo(),d=Pn(t.modes),g=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+d.get().join(",")};return Ki({isDocked:r.get,setDocked:r.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:o.get,setVisible:o.set,getModes:d.get,setModes:d.set,readState:g})},LL=Object.freeze({__proto__:null,init:Cf}),Do=Ko({fields:VA,name:"docking",active:FL,apis:zL,state:LL}),JO=ue(wn("toolbar-height-change")),Ad={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},ZO="tox-tinymce--toolbar-sticky-on",bS="tox-tinymce--toolbar-sticky-off",Gg=function(t,r){var o=Jo(r),s=o.dom.defaultView.innerHeight,d=os(o),g=sn.fromDom(t.elm),C=Fc(g),E=Mo(g),O=C.y,$=O+E,V=vu(r),j=Mo(r),ee=V.top,ae=ee+j,fe=Math.abs(ee-d.top)<2,Se=Math.abs(ae-(d.top+s))<2;if(fe&&O<ae)fh(d.left,O-j,o);else if(Se&&$>ee){var ze=O-s+E+j;fh(d.left,ze,o)}},Wu=function(t,r){return lt(Do.getModes(t),r)},QO=function(t){var r=function(s){return as(s)+(parseInt(ro(s,"margin-top"),10)||0)+(parseInt(ro(s,"margin-bottom"),10)||0)},o=t.element;_o(o).each(function(s){var d="padding-"+Do.getModes(t)[0];if(Do.isDocked(t)){var g=Vi(s);jn(o,"width",g+"px"),jn(s,d,r(o)+"px")}else qr(o,"width"),qr(s,d)})},e5=function(t,r){r?(Io(t,Ad.fadeOutClass),Jd(t,[Ad.transitionClass,Ad.fadeInClass])):(Io(t,Ad.fadeInClass),Jd(t,[Ad.fadeOutClass,Ad.transitionClass]))},t5=function(t,r){var o=sn.fromDom(t.getContainer());r?(Wo(o,ZO),Io(o,bS)):(Wo(o,bS),Io(o,ZO))},SM=function(t,r){var o=Jo(r);_u(o).filter(function(s){return!_a(r,s)}).filter(function(s){return _a(s,sn.fromDom(o.dom.body))||Sl(t,s)}).each(function(){return vc(r)})},HL=function(t,r){return dc(t).orThunk(function(){return r().toOptional().bind(function(o){return dc(o.element)})})},VL=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(Do.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(QO)}),t.on("SkinLoaded",function(){o().each(function(s){Do.isDocked(s)?Do.reset(s):Do.refresh(s)})}),t.on("FullscreenStateChanged",function(){o().each(Do.reset)})),t.on("AfterScrollIntoView",function(s){o().each(function(d){Do.refresh(d);var g=d.element;Rx(g)&&Gg(s,g)})}),t.on("PostRender",function(){t5(t,!1)})},qg=function(t){return t().map(Do.isDocked).getOr(!1)},_M=function(){var t;return[nu.config({channels:(t={},t[JO()]={onReceive:QO},t)})]},j1=function(t,r){var o=mo(),s=r.getSink,d=function(E){s().each(function(O){return E(O.element)})},g=function(E){t.inline||QO(E),t5(t,Do.isDocked(E)),E.getSystem().broadcastOn([sg()],{}),s().each(function(O){return O.getSystem().broadcastOn([sg()],{})})},C=t.inline?[]:_M();return _e([Yn.config({}),Do.config({contextual:ne({lazyContext:function(E){var O=as(E.element),$=t.inline?t.getContentAreaContainer():t.getContainer(),V=Ao(sn.fromDom($)),j=V.height-O,ee=V.y+(Wu(E,"top")?0:O);return B.some(Vo(V.x,ee,V.width,j))},onShow:function(){d(function(E){return e5(E,!0)})},onShown:function(E){d(function(O){return Ns(O,[Ad.transitionClass,Ad.fadeInClass])}),o.get().each(function(O){SM(E.element,O),o.clear()})},onHide:function(E){HL(E.element,s).fold(o.clear,o.set),d(function(O){return e5(O,!1)})},onHidden:function(){d(function(E){return Ns(E,[Ad.transitionClass])})}},Ad),lazyViewport:function(E){var O=Ai(),$=Mk(t),V=O.y+(Wu(E,"top")?$:0),j=O.height-(Wu(E,"bottom")?$:0);return Vo(O.x,V,O.width,j)},modes:[r.header.getDockingMode()],onDocked:g,onUndocked:g})],C,!0)},UA=Object.freeze({__proto__:null,setup:VL,isDocked:qg,getBehaviours:j1}),xM=function(t){var r=t.editor,o=t.sticky?j1:vM;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Jt(o(r,t.sharedBackstage))}},UL=$n([Xn("type"),Iu("items",Cp([s2([Xn("name"),Gi("items",yo)]),yo]))].concat(DC)),WL=function(t){return Xa("GroupToolbarButton",UL,t)},jL=[Ea("text"),Ea("tooltip"),Ea("icon"),tu("fetch"),Ta("onSetup",function(){return q})],GL=$n(_e([Xn("type")],jL,!0)),G1=function(t){return Xa("menubutton",GL,t)},qL=$n([Xn("type"),Ea("tooltip"),Ea("icon"),Ea("text"),zv("select"),tu("fetch"),Ta("onSetup",function(){return q}),Os("presets","normal",["normal","color","listpreview"]),Ve("columns",1),tu("onAction"),tu("onItemAction")]),KL=function(t){return Xa("SplitButton",qL,t)},XL=function(t,r){var o=function(d,g){var C=Ue(g,function(E){var O={type:"menubutton",text:E.text,fetch:function(V){V(E.getItems())}},$=G1(O).mapError(function(V){return Nv(V)}).getOrDie();return EO($,"tox-mbtn",r.backstage,B.some("menuitem"))});Qn.set(d,C)},s={focus:Fn.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:Jt([Qn.config({}),ar("menubar-events",[rr(function(d){t.onSetup(d)}),Rt(Zf(),function(d,g){jo(d.element,".tox-mbtn--active").each(function(C){al(g.event.target,".tox-mbtn").each(function(E){_a(C,E)||d.getSystem().getByDom(C).each(function(O){d.getSystem().getByDom(E).each(function($){gf.expand($),gf.close(O),Yn.focus($)})})})})}),Rt(kb(),function(d,g){g.event.prevFocus.bind(function(C){return d.getSystem().getByDom(C).toOptional()}).each(function(C){g.event.newFocus.bind(function(E){return d.getSystem().getByDom(E).toOptional()}).each(function(E){gf.isOpen(C)&&(gf.expand(E),gf.close(C))})})})]),Fn.config({mode:"flow",selector:".tox-mbtn",onEscape:function(d){return t.onEscape(d),B.some(!0)}}),To.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},n5=Ls({factory:XL,name:"silver.Menubar",configFields:[xt("dom"),xt("uid"),xt("onEscape"),xt("backstage"),Ve("onSetup",q)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),yS=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},Cv=function(t){return t.dimension.property},Ny=function(t,r){return t.dimension.getDimension(r)},WA=function(t,r){var o=yS(t,r);Ns(o,[r.shrinkingClass,r.growingClass])},wS=function(t,r){Io(t.element,r.openClass),Wo(t.element,r.closedClass),jn(t.element,Cv(r),"0px"),Ba(t.element)},r5=function(t,r){Io(t.element,r.closedClass),Wo(t.element,r.openClass),qr(t.element,Cv(r))},CS=function(t,r,o,s){o.setCollapsed(),jn(t.element,Cv(r),Ny(r,t.element)),Ba(t.element),WA(t,r),wS(t,r),r.onStartShrink(t),r.onShrunk(t)},jA=function(t,r,o,s){var d=s.getOrThunk(function(){return Ny(r,t.element)});o.setCollapsed(),jn(t.element,Cv(r),d),Ba(t.element);var g=yS(t,r);Io(g,r.growingClass),Wo(g,r.shrinkingClass),wS(t,r),r.onStartShrink(t)},Kg=function(t,r,o){var s=Ny(r,t.element),d=s==="0px"?CS:jA;d(t,r,o,B.some(s))},kM=function(t,r,o){var s=yS(t,r),d=bu(s,r.shrinkingClass),g=Ny(r,t.element);r5(t,r);var C=Ny(r,t.element),E=function(){jn(t.element,Cv(r),g),Ba(t.element)},O=function(){wS(t,r)},$=d?E:O;$(),Io(s,r.shrinkingClass),Wo(s,r.growingClass),r5(t,r),jn(t.element,Cv(r),C),o.setExpanded(),r.onStartGrow(t)},YL=function(t,r,o){if(o.isExpanded()){qr(t.element,Cv(r));var s=Ny(r,t.element);jn(t.element,Cv(r),s)}},a5=function(t,r,o){o.isExpanded()||kM(t,r,o)},JL=function(t,r,o){o.isExpanded()&&Kg(t,r,o)},GA=function(t,r,o){o.isExpanded()&&CS(t,r,o)},AM=function(t,r,o){return o.isExpanded()},ZL=function(t,r,o){return o.isCollapsed()},EM=function(t,r,o){var s=yS(t,r);return bu(s,r.growingClass)===!0},zy=function(t,r,o){var s=yS(t,r);return bu(s,r.shrinkingClass)===!0},o5=function(t,r,o){return EM(t,r)||zy(t,r)},QL=function(t,r,o){var s=o.isExpanded()?Kg:kM;s(t,r,o)},e7=Object.freeze({__proto__:null,refresh:YL,grow:a5,shrink:JL,immediateShrink:GA,hasGrown:AM,hasShrunk:ZL,isGrowing:EM,isShrinking:zy,isTransitioning:o5,toggleGrow:QL,disableTransitions:WA}),TM=function(t,r,o){var s=r.expanded;return $l(s?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Vc(r.dimension.property,"0px")})},t7=function(t,r){return Sa([Eo(Ah(),function(o,s){var d=s.event.raw;if(d.propertyName===t.dimension.property){WA(o,t),r.isExpanded()&&qr(o.element,t.dimension.property);var g=r.isExpanded()?t.onGrown:t.onShrunk;g(o)}})])},n7=Object.freeze({__proto__:null,exhibit:TM,events:t7}),e=[xt("closedClass"),xt("openClass"),xt("shrinkingClass"),xt("growingClass"),Kr("getAnimationRoot"),Xr("onShrunk"),Xr("onStartShrink"),Xr("onGrown"),Xr("onStartGrow"),Ve("expanded",!1),Iu("dimension",el("property",{width:[ka("property","width"),ka("getDimension",function(t){return Vi(t)+"px"})],height:[ka("property","height"),ka("getDimension",function(t){return Mo(t)+"px"})]}))],n=function(t){var r=Pn(t.expanded),o=function(){return"expanded: "+r.get()};return Ki({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:ke(r.set,!1),setExpanded:ke(r.set,!0),readState:o})},a=Object.freeze({__proto__:null,init:n}),i=Ko({fields:e,name:"sliding",active:n7,apis:e7,state:a}),l="container",v=[Xo("slotBehaviours",[])],p=function(t){return"<alloy.field."+t+">"},x=function(t){var r=function(){var g=[],C=function(E,O){return g.push(E),Hw(l,p(E),O)};return{slot:C,record:ue(g)}}(),o=t(r),s=r.record(),d=Ue(s,function(g){return Ii({name:g,pname:p(g)})});return Gw(l,v,d,A,o)},A=function(t,r){var o=function(Se){return cx(t)},s=function(Se,ze){return pa(Se,t,ze)},d=function(Se,ze){return function(we,Le){return pa(we,t,Le).map(function(ft){return Se(ft,Le)}).getOr(ze)}},g=function(Se){return function(ze,we){gt(we,function(Le){return Se(ze,Le)})}},C=function(Se,ze){return za(Se.element,"aria-hidden")!=="true"},E=function(Se,ze){if(!C(Se)){var we=Se.element;qr(we,"display"),ui(we,"aria-hidden"),In(Se,Qf(),{name:ze,visible:!0})}},O=function(Se,ze){if(C(Se)){var we=Se.element;jn(we,"display","none"),ur(we,"aria-hidden","true"),In(Se,Qf(),{name:ze,visible:!1})}},$=d(C,!1),V=d(O),j=g(V),ee=function(Se){return j(Se,o())},ae=d(E),fe={getSlotNames:o,getSlot:s,isShowing:$,hideSlot:V,hideAllSlots:ee,showSlot:ae};return{uid:t.uid,dom:t.dom,components:r,behaviours:vg(t.slotBehaviours),apis:fe}},N=lr({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return Ya(t)}),X=ne(ne({},N),{sketch:x}),Z=$n([Ea("icon"),Ea("tooltip"),Ta("onShow",q),Ta("onHide",q),Ta("onSetup",function(){return q})]),Q=function(t){return Xa("sidebar",Z,t)},ce=function(t){var r=t.ui.registry.getAll().sidebars;gt(Lr(r),function(o){var s=r[o],d=function(){return lu(B.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:s.icon,tooltip:s.tooltip,onAction:function(g){t.execCommand("ToggleSidebar",!1,o),g.setActive(d())},onSetup:function(g){var C=function(){return g.setActive(d())};return t.on("ToggleSidebar",C),function(){t.off("ToggleSidebar",C)}}})})},ve=function(t){return{element:function(){return t.element.dom}}},me=function(t,r){var o=Ue(Lr(r),function(s){var d=r[s],g=Al(Q(d));return{name:s,getApi:ve,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return Ue(o,function(s){var d=Pn(q);return t.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Ak.unnamedEvents([x1(s,d),k1(s,d),Rt(Qf(),function(g,C){var E=C.event,O=pt(o,function($){return $.name===E.name});O.each(function($){var V=E.visible?$.onShow:$.onHide;V($.getApi(g))})})])})})},he=function(t){return X.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:me(r,t),slotBehaviours:Ak.unnamedEvents([rr(function(o){return X.hideAllSlots(o)})])}})},Oe=function(t,r){var o=Sr.getCurrent(t);o.each(function(s){return Qn.set(s,[he(r)])})},xe=function(t,r){var o=Sr.getCurrent(t);o.each(function(s){var d=Sr.getCurrent(s);d.each(function(g){i.hasGrown(s)?X.isShowing(g,r)?i.shrink(s):(X.hideAllSlots(g),X.showSlot(g,r)):(X.hideAllSlots(g),X.showSlot(g,r),i.grow(s))})})},qe=function(t){var r=Sr.getCurrent(t);return r.bind(function(o){var s=i.isGrowing(o)||i.hasGrown(o);if(s){var d=Sr.getCurrent(o);return d.bind(function(g){return pt(X.getSlotNames(g),function(C){return X.isShowing(g,C)})})}else return B.none()})},We=wn("FixSizeEvent"),Re=wn("AutoSizeEvent"),Ze=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Jt([To.config({}),Yn.config({}),i.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=Sr.getCurrent(r);o.each(X.hideAllSlots),Ur(r,Re)},onGrown:function(r){Ur(r,Re)},onStartGrow:function(r){In(r,We,{width:ko(r.element,"width").getOr("")})},onStartShrink:function(r){In(r,We,{width:Vi(r.element)+"px"})}}),Qn.config({}),Sr.config({find:function(r){var o=Qn.contents(r);return tr(o)}})])}],behaviours:Jt([yv.childAt(0),ar("sidebar-sliding-events",[Rt(We,function(r,o){jn(r.element,"width",o.event.width)}),Rt(Re,function(r,o){qr(r.element,"width")})])])}},St=function(t,r,o,s){ur(t.element,"aria-busy",!0);var d=r.getRoot(t).getOr(t),g=Jt([Fn.config({mode:"special",onTab:function(){return B.some(!0)},onShiftTab:function(){return B.some(!0)}}),Yn.config({})]),C=s(d,g),E=d.getSystem().build(C);Qn.append(d,zs(E)),E.hasConfigured(Fn)&&r.focus&&Fn.focusIn(E),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return Qn.remove(d,E)})},Ft=function(t,r,o){ui(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},Vn=Object.freeze({__proto__:null,block:St,unblock:Ft}),mn=[Ta("getRoot",B.none),Ca("focus",!0),Xr("onBlock"),Xr("onUnblock")],$t=function(){var t=Q2(),r=function(o){t.set({destroy:o})};return Ki({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},Ln=Object.freeze({__proto__:null,init:$t}),Vt=Ko({fields:mn,name:"blocking",apis:Vn,state:Ln}),vn=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return et(r,function(o,s){var d;return s.name==="class"?o:ne(ne({},o),(d={},d[s.name]=s.value,d))},{})},jt=function(t){return Array.prototype.slice.call(t.dom.classList,0)},Zt=function(t){var r=sn.fromHtml(t),o=je(r),s=vn(r),d=jt(r),g=o.length===0?{}:{innerHtml:jc(r)};return ne({tag:Qu(r),classes:d,attributes:s},g)},yn=function(t){return function(r,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Zt('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},Pt=function(t){return Sr.getCurrent(t).each(function(r){return vc(r.element)})},hn=function(t,r){var o="tabindex",s="data-mce-"+o;B.from(t.iframeElement).map(sn.fromDom).each(function(d){r?(Ka(d,o).each(function(g){return ur(d,s,g)}),ur(d,o,-1)):(ui(d,o),Ka(d,s).each(function(g){ur(d,o,g),ui(d,s)}))})},xr=function(t,r,o,s){var d=r.element;if(hn(t,o),o)Vt.block(r,yn(s)),qr(d,"display"),ui(d,"aria-hidden"),t.hasFocus()&&Pt(r);else{var g=Sr.getCurrent(r).exists(function(C){return Hp(C.element)});Vt.unblock(r),jn(d,"display","none"),ur(d,"aria-hidden","true"),g&&t.focus()}},na=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Jt([Qn.config({}),Vt.config({focus:!1}),Sr.config({find:function(r){return tr(r.components())}})]),components:[]}},Jr=function(t){return t.type==="focusin"},zi=function(t){if(Jr(t)){var r=t.composed?tr(t.composedPath()):B.from(t.target);return r.map(sn.fromDom).filter(po).exists(function(o){return bu(o,"mce-pastebin")})}else return!1},uo=function(t,r,o){var s=Pn(!1),d=mo(),g=function(E){s.get()&&!zi(E)&&(E.preventDefault(),Pt(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",g),t.on("BeforeExecCommand",function(E){E.command.toLowerCase()==="mcefocus"&&E.value!==!0&&g(E)})});var C=function(E){E!==s.get()&&(s.set(E),xr(t,r(),E,o.providers),t.fire("AfterProgressState",{state:E}))};t.on("ProgressState",function(E){if(d.on(Pg.clearTimeout),H(E.time)){var O=Pg.setEditorTimeout(t,function(){return C(E.state)},E.time);d.set(O)}else C(E.state),d.clear()})},ju=function(t,r){var o={len:0,list:[]},s=et(t,function(d,g){var C=r(g,d.len);return C.fold(ue(d),function(E){return{len:E.finish,list:d.list.concat([E])}})},o);return s.list},ps=function(t,r,o){return{within:t,extra:r,withinWidth:o}},It=function(t,r,o){var s=ju(t,function(E,O){var $=o(E);return B.some({element:E,start:O,finish:O+$,width:$})}),d=Ae(s,function(E){return E.finish<=r}),g=Je(d,function(E,O){return E+O.width},0),C=s.slice(d.length);return{within:d,extra:C,withinWidth:g}},qt=function(t){return Ue(t,function(r){return r.element})},Dn=function(t,r,o){var s=qt(t.concat(r));return ps(s,[],o)},nt=function(t,r,o,s){var d=qt(t).concat([o]);return ps(d,qt(r),s)},Ht=function(t,r,o){return ps(qt(t),[],o)},Nt=function(t,r,o){var s=It(r,t,o);return s.extra.length===0?B.some(s):B.none()},Bn=function(t,r,o,s){var d=Nt(t,r,o).getOrThunk(function(){return It(r,t-o(s),o)}),g=d.within,C=d.extra,E=d.withinWidth;return C.length===1&&C[0].width<=o(s)?Dn(g,C,E):C.length>=1?nt(g,C,s,E):Ht(g,C,E)},Nn=function(t,r){var o=Ue(r,function(s){return zs(s)});wv.setGroups(t,o)},Aa=function(t){return Zr(t,function(r){return dc(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},ni=function(t,r,o){var s=r.builtGroups.get();if(s.length!==0){var d=sf(t,r,"primary"),g=Oo.getCoupled(t,"overflowGroup");jn(d.element,"visibility","hidden");var C=s.concat([g]),E=Aa(C);o([]),Nn(d,C);var O=Vi(d.element),$=Bn(O,r.builtGroups.get(),function(V){return Vi(V.element)},g);$.extra.length===0?(Qn.remove(d,g),o([])):(Nn(d,$.within),o($.extra)),qr(d.element,"visibility"),Ba(d.element),E.each(Yn.focus)}},Yo=ue([Xo("splitToolbarBehaviours",[Oo]),hu("builtGroups",function(){return Pn([])})]),Im=ue([tm(["overflowToggledClass"]),zv("getOverflowBounds"),xt("lazySink"),hu("overflowGroups",function(){return Pn([])})].concat(Yo())),Gu=ue([Ii({factory:wv,schema:Iy(),name:"primary"}),Fs({schema:Iy(),name:"overflow"}),Fs({name:"overflow-button"}),Fs({name:"overflow-group"})]),Eu=ue(function(t,r){ki(t,Math.floor(r))}),gi=ue([tm(["toggledClass"]),xt("lazySink"),tu("fetch"),zv("getBounds"),ss("fireDismissalEventInstead",[Ve("event",Dl())]),rd()]),Vl=ue([Fs({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Jt([Ir.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Fs({factory:wv,schema:Iy(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Jt([Fn.config({mode:"cyclic",onEscape:function(r){return pa(r,t,"button").each(Yn.focus),B.none()}})])}}})]),qu=function(t,r){var o=Oo.getCoupled(t,"toolbarSandbox");Dr.isOpen(o)?Dr.close(o):Dr.open(o,r.toolbar())},Sf=function(t,r,o,s){var d=o.getBounds.map(function(C){return C()}),g=o.lazySink(t).getOrDie();ho.positionWithinBounds(g,r,{anchor:{type:"hotspot",hotspot:t,layouts:s,overrides:{maxWidthFunction:Eu()}}},d)},Oa=function(t,r,o,s,d){wv.setGroups(r,d),Sf(t,r,o,s),Ir.on(t)},Ha=function(t,r,o){var s=Zd(),d=function(C,E){o.fetch().get(function(O){Oa(t,E,o,r.layouts,O),s.link(t.element),Fn.focusIn(E)})},g=function(){Ir.off(t),Yn.focus(t),s.unlink(t.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:Jt([Fn.config({mode:"special",onEscape:function(C){return Dr.close(C),B.some(!0)}}),Dr.config({onOpen:d,onClose:g,isPartOf:function(C,E,O){return Qd(E,O)||Qd(t,O)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),nu.config({channels:ne(ne({},Vu(ne({isExtraPart:pe},o.fireDismissalEventInstead.map(function(C){return{fireEventInstead:{event:C.event}}}).getOr({})))),hm({doReposition:function(){Dr.getState(Oo.getCoupled(t,"toolbarSandbox")).each(function(C){Sf(t,C,o,r.layouts)})}}))})])}},pi=function(t,r,o,s){return ne(ne({},ms.sketch(ne(ne({},s.button()),{action:function(d){qu(d,s)},buttonBehaviours:il.augment({dump:s.button().buttonBehaviours},[Oo.config({others:{toolbarSandbox:function(d){return Ha(d,o,t)}}})])}))),{apis:{setGroups:function(d,g){Dr.getState(Oo.getCoupled(d,"toolbarSandbox")).each(function(C){Oa(d,C,t,o.layouts,g)})},reposition:function(d){Dr.getState(Oo.getCoupled(d,"toolbarSandbox")).each(function(g){Sf(d,g,t,o.layouts)})},toggle:function(d){qu(d,s)},getToolbar:function(d){return Dr.getState(Oo.getCoupled(d,"toolbarSandbox"))},isOpen:function(d){return Dr.isOpen(Oo.getCoupled(d,"toolbarSandbox"))}}})},bs=xu({name:"FloatingToolbarButton",factory:pi,configFields:gi(),partFields:Vl(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),Sv=ue([xt("items"),tm(["itemSelector"]),Xo("tgroupBehaviours",[Fn])]),_v=ue([uf({name:"items",unit:"item"})]),Xg=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:fi(t.tgroupBehaviours,[Fn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},Fy=xu({name:"ToolbarGroup",configFields:Sv(),partFields:_v(),factory:Xg}),qA=function(t){return Ue(t,function(r){return zs(r)})},OM=function(t,r,o){ni(t,o,function(s){o.overflowGroups.set(s),r.getOpt(t).each(function(d){bs.setGroups(d,qA(s))})})},DM=function(t,r,o,s){var d=oa(bs.sketch({fetch:function(){return Ji.nu(function(g){g(qA(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[ei,Xi]},onRtl:function(){return[Xi,ei]},onBottomLtr:function(){return[Su,Cu]},onBottomRtl:function(){return[Cu,Su]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:fi(t.splitToolbarBehaviours,[Oo.config({others:{overflowGroup:function(){return Fy.sketch(ne(ne({},s["overflow-group"]()),{items:[d.asSpec()]}))}}})]),apis:{setGroups:function(g,C){t.builtGroups.set(Ue(C,g.getSystem().build)),OM(g,d,t)},refresh:function(g){return OM(g,d,t)},toggle:function(g){d.getOpt(g).each(function(C){bs.toggle(C)})},isOpen:function(g){return d.getOpt(g).map(bs.isOpen).getOr(!1)},reposition:function(g){d.getOpt(g).each(function(C){bs.reposition(C)})},getOverflow:function(g){return d.getOpt(g).bind(bs.getToolbar)}},domModification:{attributes:{role:"group"}}}},i5=xu({name:"SplitFloatingToolbar",configFields:Im(),partFields:Gu(),factory:DM,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),r7=ue([tm(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Xr("onOpened"),Xr("onClosed")].concat(Yo())),RM=ue([Ii({factory:wv,schema:Iy(),name:"primary"}),Ii({factory:wv,schema:Iy(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Jt([i.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){pa(r,t,"overflow-button").each(function(o){Ir.off(o),Yn.focus(o)}),t.onClosed(r)},onGrown:function(r){Fn.focusIn(r),t.onOpened(r)},onStartGrow:function(r){pa(r,t,"overflow-button").each(Ir.on)}}),Fn.config({mode:"acyclic",onEscape:function(r){return pa(r,t,"overflow-button").each(Yn.focus),B.some(!0)}})])}}}),Fs({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Jt([Ir.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Fs({name:"overflow-group"})]),a7=function(t,r){return pa(t,r,"overflow").map(i.hasGrown).getOr(!1)},$M=function(t,r){pa(t,r,"overflow-button").bind(function(){return pa(t,r,"overflow")}).each(function(o){u5(t,r),i.toggleGrow(o)})},u5=function(t,r){pa(t,r,"overflow").each(function(o){ni(t,r,function(s){var d=Ue(s,function(g){return zs(g)});wv.setGroups(o,d)}),pa(t,r,"overflow-button").each(function(s){i.hasGrown(o)&&Ir.on(s)}),i.refresh(o)})},o7=function(t,r,o,s){var d="alloy.toolbar.toggle",g=function(C,E){var O=Ue(E,C.getSystem().build);t.builtGroups.set(O)};return{uid:t.uid,dom:t.dom,components:r,behaviours:fi(t.splitToolbarBehaviours,[Oo.config({others:{overflowGroup:function(C){return Fy.sketch(ne(ne({},s["overflow-group"]()),{items:[ms.sketch(ne(ne({},s["overflow-button"]()),{action:function(E){Ur(C,d)}}))]}))}}}),ar("toolbar-toggle-events",[Rt(d,function(C){$M(C,t)})])]),apis:{setGroups:function(C,E){g(C,E),u5(C,t)},refresh:function(C){return u5(C,t)},toggle:function(C){return $M(C,t)},isOpen:function(C){return a7(C,t)}},domModification:{attributes:{role:"group"}}}},Nm=xu({name:"SplitSlidingToolbar",configFields:r7(),partFields:RM(),factory:o7,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),s5=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:ne({tag:"div",classes:["tox-toolbar__group"]},r),components:[Fy.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Jt([To.config({}),Yn.config({})])}},Ie=function(t){return Fy.sketch(s5(t))},st=function(t,r){var o=rr(function(s){var d=Ue(t.initGroups,Ie);wv.setGroups(s,d)});return Jt([mf.toolbarButton(t.providers.isDisabled),ti(),Fn.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),ar("toolbar-events",[o])])},Ut=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":s5({title:B.none(),items:[]}),"overflow-button":mB({name:"more",icon:B.some("more-drawer"),disabled:!1,tooltip:B.some("More..."),primary:!1,borderless:!1},B.none(),t.providers)},splitToolbarBehaviours:st(t,r)}},nn=function(t){var r=Ut(t),o=4,s=i5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return i5.sketch(ne(ne({},r),{lazySink:t.getSink,getOverflowBounds:function(){var d=t.moreDrawerData.lazyHeader().element,g=Fc(d),C=yt(d),E=Fc(C),O=Math.max(C.dom.scrollHeight,E.height);return Vo(g.x+o,E.y,g.width-o*2,O)},parts:ne(ne({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},gr=function(t){var r=Nm.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=Nm.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=Ut(t);return Nm.sketch(ne(ne({},s),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(d){d.getSystem().broadcastOn([JO()],{type:"opened"})},onClosed:function(d){d.getSystem().broadcastOn([JO()],{type:"closed"})}}))},jr=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return wv.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Fl.scrolling?["tox-toolbar--scrolling"]:[])},components:[wv.parts.groups({})],toolbarBehaviours:st(t,r)})},Ja=function(t,r,o){var s={getSocket:function(d){return Ws.getPart(d,t,"socket")},setSidebar:function(d,g){Ws.getPart(d,t,"sidebar").each(function(C){return Oe(C,g)})},toggleSidebar:function(d,g){Ws.getPart(d,t,"sidebar").each(function(C){return xe(C,g)})},whichSidebar:function(d){return Ws.getPart(d,t,"sidebar").bind(qe).getOrNull()},getHeader:function(d){return Ws.getPart(d,t,"header")},getToolbar:function(d){return Ws.getPart(d,t,"toolbar")},setToolbar:function(d,g){Ws.getPart(d,t,"toolbar").each(function(C){C.getApis().setGroups(C,g)})},setToolbars:function(d,g){Ws.getPart(d,t,"multiple-toolbar").each(function(C){cM.setItems(C,g)})},refreshToolbar:function(d){var g=Ws.getPart(d,t,"toolbar");g.each(function(C){return C.getApis().refresh(C)})},toggleToolbarDrawer:function(d){Ws.getPart(d,t,"toolbar").each(function(g){Of(g.getApis().toggle,function(C){return C(g)})})},isToolbarDrawerToggled:function(d){return Ws.getPart(d,t,"toolbar").bind(function(g){return B.from(g.getApis().isOpen).map(function(C){return C(g)})}).getOr(!1)},getThrobber:function(d){return Ws.getPart(d,t,"throbber")},focusToolbar:function(d){var g=Ws.getPart(d,t,"toolbar").orThunk(function(){return Ws.getPart(d,t,"multiple-toolbar")});g.each(function(C){Fn.focusIn(C)})},setMenubar:function(d,g){Ws.getPart(d,t,"menubar").each(function(C){n5.setMenus(C,g)})},focusMenubar:function(d){Ws.getPart(d,t,"menubar").each(function(g){n5.focus(g)})}};return{uid:t.uid,dom:t.dom,components:r,apis:s,behaviours:t.behaviours}},Yg=jg.optional({factory:n5,name:"menubar",schema:[xt("backstage")]}),yG=function(t){return t.type===Fl.sliding?gr:t.type===Fl.floating?nn:jr},wG=jg.optional({factory:{sketch:function(t){return cM.sketch({uid:t.uid,dom:t.dom,listBehaviours:Jt([Fn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return jr({type:t.type,uid:wn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),B.some(!0)}})},setupItem:function(r,o,s,d){wv.setGroups(o,s)},shell:!0})}},name:"multiple-toolbar",schema:[xt("dom"),xt("onEscape")]}),CG=jg.optional({factory:{sketch:function(t){var r=yG(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),B.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[xt("dom"),xt("onEscape"),xt("getSink")]}),SG=jg.optional({factory:{sketch:xM},name:"header",schema:[xt("dom")]}),_G=jg.optional({name:"socket",schema:[xt("dom")]}),xG=jg.optional({factory:{sketch:Ze},name:"sidebar",schema:[xt("dom")]}),kG=jg.optional({factory:{sketch:na},name:"throbber",schema:[xt("dom")]}),zo=xu({name:"OuterContainer",factory:Ja,configFields:[xt("dom"),xt("behaviours")],partFields:[SG,Yg,CG,wG,_G,xG,kG],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var s=Ue(o,function(d){return Ie(d)});t.setToolbar(r,s)},setToolbars:function(t,r,o){var s=Ue(o,function(d){return Ue(d,Ie)});t.setToolbars(r,s)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),AG="file edit view insert format tools table help",m9={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},EG=function(t,r,o){var s=_D(o).split(/[ ,]/);return{text:t.title,getItems:function(){return Wt(t.items,function(d){var g=d.toLowerCase();return g.trim().length===0?[]:Sn(s,function(C){return C===g})?[]:g==="separator"||g==="|"?[{type:"separator"}]:r.menuItems[g]?[r.menuItems[g]]:[]})}}},i7=function(t){return typeof t=="string"?t.split(" "):t},h9=function(t,r){var o=ne(ne({},m9),r.menus),s=Lr(r.menus).length>0,d=r.menubar===void 0||r.menubar===!0?i7(AG):i7(r.menubar===!1?"":r.menubar),g=Ae(d,function(E){var O=Mr(m9,E);return s?O||En(r.menus,E).exists(function($){return Mr($,"items")}):O}),C=Ue(g,function(E){var O=o[E];return EG({title:O.title,items:i7(O.items)},r,t)});return Ae(C,function(E){var O=function($){return $.type!=="separator"};return E.getItems().length>0&&Sn(E.getItems(),O)})},g9=function(t){var r=function(){t._skinLoaded=!0,LP(t)};return function(){t.initialized?r():t.on("init",r)}},TG=function(t,r){return function(){return tR(t,{message:r})}},p9=function(t,r,o){return new OC(function(s,d){o.load(r,s,d),t.on("remove",function(){return o.unload(r)})})},OG=function(t,r){var o=r+"/skin.min.css";return p9(t,o,t.ui.styleSheetLoader)},DG=function(t,r){var o=cb(sn.fromDom(t.getElement()));if(o){var s=r+"/skin.shadowdom.min.css";return p9(t,s,_y.DOM.styleSheetLoader)}else return OC.resolve()},b9=function(t,r){var o=rP(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),oP(r)===!1&&S(o)?OC.all([OG(r,o),DG(r,o)]).then(g9(r),TG(r,"Skin could not be loaded")):g9(r)()},RG=ke(b9,!1),$G=ke(b9,!0),BM=function(t,r){return function(o){var s=Uh(),d=function(){o.setActive(t.formatter.match(r));var g=t.formatter.formatChanged(r,o.setActive);s.set(g)};return t.initialized?d():t.once("init",d),function(){t.off("init",d),s.clear()}}},MM=function(t,r,o){return function(s){var d=function(){return o(s)},g=function(){o(s),t.on(r,d)};return t.initialized?g():t.once("init",g),function(){t.off("init",g),t.off(r,d)}}},y9=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},xv=function(t,r){return function(){return t.execCommand(r)}},BG=function(t,r,o){var s=function(E,O,$,V){var j=r.shared.providers.translate(E.title);if(E.type==="separator")return B.some({type:"separator",text:j});if(E.type==="submenu"){var ee=Wt(E.getStyleItems(),function(ae){return d(ae,O,V)});return O===0&&ee.length<=0?B.none():B.some({type:"nestedmenuitem",text:j,disabled:ee.length<=0,getSubmenuItems:function(){return Wt(E.getStyleItems(),function(ae){return d(ae,O,V)})}})}else return B.some(ne({type:"togglemenuitem",text:j,icon:E.icon,active:E.isSelected(V),disabled:$,onAction:o.onAction(E)},E.getStylePreview().fold(function(){return{}},function(ae){return{meta:{style:ae}}})))},d=function(E,O,$){var V=E.type==="formatter"&&o.isInvalid(E);return O===0?V?[]:s(E,O,!1,$).toArray():s(E,O,V,$).toArray()},g=function(E){var O=o.getCurrentValue(),$=o.shouldHide?0:1;return Wt(E,function(V){return d(V,$,O)})},C=function(E,O){return function($,V){var j=O(),ee=g(j),ae=My(ee,uu.CLOSE_ON_EXECUTE,E,!1);V(ae)}};return{validateItems:g,getFetch:C}},KA=function(t,r,o){var s=o.dataset,d=s.type==="basic"?function(){return Ue(s.data,function(g){return UO(g,o.isSelectedFor,o.getPreviewFor)})}:s.getData;return{items:BG(t,r,o),getStyleItems:d}},l5=function(t,r,o){var s=KA(t,r,o),d=s.items,g=s.getStyleItems,C=function(O){return{getComponent:ue(O)}},E=MM(t,"NodeChange",function(O){var $=O.getComponent();o.updateText($)});return bA({text:o.icon.isSome()?B.none():o.text,icon:o.icon,tooltip:B.from(o.tooltip),role:B.none(),fetch:d.getFetch(r,g),onSetup:E,getApi:C,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},MG=function(t){return Ue(t,function(r){var o=r,s=r,d=r.split("=");return d.length>1&&(o=d[0],s=d[1]),{title:o,format:s}})},PG=function(t){return{type:"basic",data:t}},XA;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(XA||(XA={}));var IG=function(t,r){return r===XA.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},u7=function(t,r,o,s){var d=t.getParam(r,o,"string"),g=MG(IG(d,s));return{type:"basic",data:g}},s7=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],w9=function(t){var r=function(){return pt(s7,function(E){return t.formatter.match(E.format)})},o=function(E){return function(){return t.formatter.match(E)}},s=function(E){return B.none},d=function(E){var O=r(),$=O.fold(ue("left"),function(V){return V.title.toLowerCase()});In(E,fB,{icon:"align-"+$})},g=PG(s7),C=function(E){return function(){return pt(s7,function(O){return O.format===E.format}).each(function(O){return t.execCommand(O.command)})}};return{tooltip:"Align",text:B.none(),icon:B.some("align-left"),isSelectedFor:o,getCurrentValue:B.none,getPreviewFor:s,onAction:C,updateText:d,dataset:g,shouldHide:!1,isInvalid:function(E){return!t.formatter.canApply(E.format)}}},NG=function(t,r){return l5(t,r,w9(t))},zG=function(t,r){var o=KA(t,r,w9(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},FG="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",LG=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],C9=function(t){var r=t.split(/\s*,\s*/);return Ue(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},HG=function(t){var r=function(){var o=C9(t.toLowerCase());return Dt(LG,function(s){return o.indexOf(s.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},S9=function(t){var r="System Font",o=function(){var $=function(fe){return fe?C9(fe)[0]:""},V=t.queryCommandValue("FontName"),j=O.data,ee=V?V.toLowerCase():"",ae=pt(j,function(fe){var Se=fe.format;return Se.toLowerCase()===ee||$(Se).toLowerCase()===$(ee).toLowerCase()}).orThunk(function(){return qs(HG(ee),{title:r,format:ee})});return{matchOpt:ae,font:V}},s=function($){return function(V){return V.exists(function(j){return j.format===$})}},d=function(){var $=o().matchOpt;return $},g=function($){return function(){return B.some({tag:"div",styles:$.indexOf("dings")===-1?{"font-family":$}:{}})}},C=function($){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,$.format)})}},E=function($){var V=o(),j=V.matchOpt,ee=V.font,ae=j.fold(ue(ee),function(fe){return fe.title});In($,z1,{text:ae})},O=u7(t,"font_formats",FG,XA.SemiColon);return{tooltip:"Fonts",text:B.some(r),icon:B.none(),isSelectedFor:s,getCurrentValue:d,getPreviewFor:g,onAction:C,updateText:E,dataset:O,shouldHide:!1,isInvalid:pe}},VG=function(t,r){return l5(t,r,S9(t))},UG=function(t,r){var o=KA(t,r,S9(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},WG="8pt 10pt 12pt 14pt 18pt 24pt 36pt",jG={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},GG={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},qG=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},KG=function(t,r){return/[0-9.]+px$/.test(t)?qG(parseInt(t,10)*72/96,r||0)+"pt":En(GG,t).getOr(t)},XG=function(t){return En(jG,t).getOr("")},_9=function(t){var r=function(){var O=B.none(),$=E.data,V=t.queryCommandValue("FontSize");if(V)for(var j=function(ae){var fe=KG(V,ae),Se=XG(fe);O=pt($,function(ze){return ze.format===V||ze.format===fe||ze.format===Se})},ee=3;O.isNone()&&ee>=0;ee--)j(ee);return{matchOpt:O,size:V}},o=function(O){return function($){return $.exists(function(V){return V.format===O})}},s=function(){var O=r().matchOpt;return O},d=ue(B.none),g=function(O){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,O.format)})}},C=function(O){var $=r(),V=$.matchOpt,j=$.size,ee=V.fold(ue(j),function(ae){return ae.title});In(O,z1,{text:ee})},E=u7(t,"fontsize_formats",WG,XA.Space);return{tooltip:"Font sizes",text:B.some("12pt"),icon:B.none(),isSelectedFor:o,getPreviewFor:d,getCurrentValue:s,onAction:g,updateText:C,dataset:E,shouldHide:!1,isInvalid:pe}},YG=function(t,r){return l5(t,r,_9(t))},JG=function(t,r){var o=KA(t,r,_9(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},x9=function(t,r){var o=r(),s=Ue(o,function(d){return d.format});return B.from(t.formatter.closest(s)).bind(function(d){return pt(o,function(g){return g.format===d})}).orThunk(function(){return qs(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},ZG="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",k9=function(t){var r="Paragraph",o=function(C){return function(){return t.formatter.match(C)}},s=function(C){return function(){var E=t.formatter.get(C);return B.some({tag:E.length>0&&(E[0].inline||E[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))})}},d=function(C){var E=x9(t,function(){return g.data}),O=E.fold(ue(r),function($){return $.title});In(C,z1,{text:O})},g=u7(t,"block_formats",ZG,XA.SemiColon);return{tooltip:"Blocks",text:B.some(r),icon:B.none(),isSelectedFor:o,getCurrentValue:B.none,getPreviewFor:s,onAction:y9(t),updateText:d,dataset:g,shouldHide:!1,isInvalid:function(C){return!t.formatter.canApply(C.format)}}},QG=function(t,r){return l5(t,r,k9(t))},eq=function(t,r){var o=KA(t,r,k9(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},A9=function(t,r){var o="Paragraph",s=function(C){return function(){return t.formatter.match(C)}},d=function(C){return function(){var E=t.formatter.get(C);return E!==void 0?B.some({tag:E.length>0&&(E[0].inline||E[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))}):B.none()}},g=function(C){var E=function(j){var ee=j.items;return ee!==void 0&&ee.length>0?Wt(ee,E):[{title:j.title,format:j.format}]},O=Wt(VO(t),E),$=x9(t,ue(O)),V=$.fold(ue(o),function(j){return j.title});In(C,z1,{text:V})};return{tooltip:"Formats",text:B.some(o),icon:B.none(),isSelectedFor:s,getCurrentValue:B.none,getPreviewFor:d,onAction:y9(t),updateText:g,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(C){return!t.formatter.canApply(C.format)},dataset:r}},tq=function(t,r){var o=ne({type:"advanced"},r.styleselect);return l5(t,r,A9(t,o))},nq=function(t,r){var o=ne({type:"advanced"},r.styleselect),s=KA(t,r,A9(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},rq=function(t,r){var o=function(s,d){t.updateState.each(function(g){var C=g(s,d);r.set(C)}),t.renderComponents.each(function(g){var C=g(d,r.get()),E=Ue(C,s.getSystem().build);_w(s,E)})};return Sa([Rt(nl(),function(s,d){var g=d;if(!g.universal){var C=t.channel;lt(g.channels,C)&&o(s,g.data)}}),rr(function(s,d){t.initialData.each(function(g){o(s,g)})})])},aq=Object.freeze({__proto__:null,events:rq}),oq=function(t,r,o){return o},iq=Object.freeze({__proto__:null,getState:oq}),uq=[xt("channel"),Kr("renderComponents"),Kr("updateState"),Kr("initialData")],sq=function(){var t=Pn(B.none()),r=function(){return t.set(B.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:r}},lq=Object.freeze({__proto__:null,init:sq}),kc=Ko({fields:uq,name:"reflecting",active:aq,apis:iq,state:lq}),cq=ue([xt("toggleClass"),xt("fetch"),wu("onExecute"),Ve("getHotspot",B.some),Ve("getAnchorOverrides",ue({})),rd(),wu("onItemExecute"),Kr("lazySink"),xt("dom"),Xr("onOpen"),Xo("splitDropdownBehaviours",[Oo,Fn,Yn]),Ve("matchWidth",!1),Ve("useMinWidth",!1),Ve("eventOrder",{}),Kr("role")].concat(VT())),fq=Ii({factory:ms,schema:[xt("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Jt([Yn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(Bs)},buttonBehaviours:Jt([Ir.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),vq=Ii({factory:ms,schema:[xt("dom")],name:"button",defaults:function(){return{buttonBehaviours:Jt([Yn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),dq=ue([fq,vq,ul({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[xt("text")],name:"aria-descriptor"}),Fs({schema:[em()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(s){t.onItemExecute(s,r,o)})}}}}),WR()]),mq=function(t,r,o,s){var d,g=function(j){Sr.getCurrent(j).each(function(ee){ta.highlightFirst(ee),Fn.focusIn(ee)})},C=function(j){var ee=g;Ty(t,Ee,j,s,ee,hf.HighlightFirst).get(q)},E=function(j){return C(j),B.some(!0)},O=function(j){var ee=sf(j,t,"button");return Bs(ee),B.some(!0)},$=ne(ne({},Sa([rr(function(j,ee){var ae=pa(j,t,"aria-descriptor");ae.each(function(fe){var Se=wn("aria");ur(fe.element,"id",Se),ur(j.element,"aria-describedby",Se)})})])),my(B.some(C))),V={repositionMenus:function(j){Ir.isOn(j)&&Fg(j)}};return{uid:t.uid,dom:t.dom,components:r,apis:V,eventOrder:ne(ne({},t.eventOrder),(d={},d[Rs()]=["disabling","toggling","alloy.base.behaviour"],d)),events:$,behaviours:fi(t.splitDropdownBehaviours,[Oo.config({others:{sandbox:function(j){var ee=sf(j,t,"arrow"),ae={onOpen:function(){Ir.on(ee),Ir.on(j)},onClose:function(){Ir.off(ee),Ir.off(j)}};return HT(t,j,ae)}}}),Fn.config({mode:"special",onSpace:O,onEnter:O,onDown:E}),Yn.config({}),Ir.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},PM=xu({name:"SplitDropdown",configFields:cq(),partFields:dq(),factory:mq,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),hq=function(t){return{isDisabled:function(){return Mn.isDisabled(t)},setDisabled:function(r){return Mn.set(t,r)}}},gq=function(t){return{setActive:function(r){Ir.set(t,r)},isActive:function(){return Ir.isOn(t)},isDisabled:function(){return Mn.isDisabled(t)},setDisabled:function(r){return Mn.set(t,r)}}},E9=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},T9=wn("focus-button"),l7=function(t,r,o,s,d,g){var C;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:E9(o,g)},components:Em([t.map(function(E){return pA(E,g.icons)}),r.map(function(E){return xO(E,"tox-tbtn",g)})]),eventOrder:(C={},C[Ol()]=["focusing","alloy.base.behaviour","common-button-display-events"],C),buttonBehaviours:Jt([mf.toolbarButton(g.isDisabled),ti(),ar("common-button-display-events",[Rt(Ol(),function(E,O){O.event.prevent(),Ur(E,T9)})])].concat(s.map(function(E){return kc.config({channel:E,initialData:{icon:t,text:r},renderComponents:function(O,$){return Em([O.icon.map(function(V){return pA(V,g.icons)}),O.text.map(function(V){return xO(V,"tox-tbtn",g)})])}})}).toArray()).concat(d.getOr([])))}},pq=function(t,r,o,s){var d=r.shared;return bs.sketch({lazySink:d.getSink,fetch:function(){return Ji.nu(function(g){g(Ue(o(t.items),Ie))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:l7(t.icon,t.text,t.tooltip,B.none(),B.none(),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},O9=function(t,r,o){var s=Pn(q),d=l7(t.icon,t.text,t.tooltip,B.none(),B.none(),o);return ms.sketch({dom:d.dom,components:d.components,eventOrder:cB,buttonBehaviours:Jt([ar("toolbar-button-events",[lB({onAction:t.onAction,getApi:r.getApi}),x1(r,s),k1(r,s)]),mf.toolbarButton(function(){return t.disabled||o.isDisabled()}),ti()].concat(r.toolbarButtonBehaviours))})},bq=function(t,r){return D9(t,r,[])},D9=function(t,r,o){return O9(t,{toolbarButtonBehaviours:[].concat(o.length>0?[ar("toolbarButtonWith",o)]:[]),getApi:hq,onSetup:t.onSetup},r)},yq=function(t,r){return R9(t,r,[])},R9=function(t,r,o){return bt(O9(t,{toolbarButtonBehaviours:[Qn.config({}),Ir.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[ar("toolbarToggleButtonWith",o)]:[]),getApi:gq,onSetup:t.onSetup},r))},wq=function(t,r,o){return function(s){return Ji.nu(function(d){return r.fetch(d)}).map(function(d){return B.from(xR(bt(OT(wn("menu-value"),d,function(g){r.onItemAction(t(s),g)},r.columns,r.presets,uu.CLOSE_ON_EXECUTE,r.select.getOr(pe),o),{movement:Lk(r.columns,r.presets),menuBehaviours:Ak.unnamedEvents(r.columns!=="auto"?[]:[rr(function(g,C){sT(g,4,rD(r.presets)).each(function(E){var O=E.numRows,$=E.numColumns;Fn.setGridSize(g,O,$)})})])})))})}},Cq=function(t,r){var o,s=wn("channel-update-split-dropdown-display"),d=function(E){return{isDisabled:function(){return Mn.isDisabled(E)},setDisabled:function(O){return Mn.set(E,O)},setIconFill:function(O,$){jo(E.element,'svg path[id="'+O+'"], rect[id="'+O+'"]').each(function(V){ur(V,"fill",$)})},setIconStroke:function(O,$){jo(E.element,'svg path[id="'+O+'"], rect[id="'+O+'"]').each(function(V){ur(V,"stroke",$)})},setActive:function(O){ur(E.element,"aria-pressed",O),jo(E.element,"span").each(function($){E.getSystem().getByDom($).each(function(V){return Ir.set(V,O)})})},isActive:function(){return jo(E.element,"span").exists(function(O){return E.getSystem().getByDom(O).exists(Ir.isOn)})}}},g=Pn(q),C={getApi:d,onSetup:t.onSetup};return PM.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:ne({"aria-pressed":!1},E9(t.tooltip,r.providers))},onExecute:function(E){t.onAction(d(E))},onItemExecute:function(E,O,$){},splitDropdownBehaviours:Jt([mf.splitButton(r.providers.isDisabled),ti(),ar("split-dropdown-events",[Rt(T9,Yn.focus),x1(C,g),k1(C,g)]),JC.config({})]),eventOrder:(o={},o[ls()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:wq(d,t,r.providers),parts:{menu:S1(!1,t.columns,t.presets)},components:[PM.parts.button(l7(t.icon,t.text,B.none(),B.some(s),B.some([Ir.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),PM.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:L5("chevron-down",r.providers.icons)},buttonBehaviours:Jt([mf.splitButton(r.providers.isDisabled),ti(),IE()])}),PM.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},Sq=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],c5=function(t,r){return function(o,s,d){var g=t(o).mapError(function(C){return Nv(C)}).getOrDie();return r(g,s,d)}},YA={button:c5(K5,function(t,r){return bq(t,r.backstage.shared.providers)}),togglebutton:c5(Ck,function(t,r){return yq(t,r.backstage.shared.providers)}),menubutton:c5(G1,function(t,r){return EO(t,"tox-tbtn",r.backstage,B.none())}),splitbutton:c5(KL,function(t,r){return Cq(t,r.backstage.shared)}),grouptoolbarbutton:c5(WL,function(t,r,o){var s,d=o.ui.registry.getAll().buttons,g=function(E){return IM(o,{buttons:d,toolbar:E,allowToolbarGroups:!1},r,B.none())},C=(s={},s[d0]=r.backstage.shared.header.isPositionedAtTop()?Qc.TopToBottom:Qc.BottomToTop,s);switch(NC(o)){case Fl.floating:return pq(t,r.backstage,g,C);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return tq(t,r.backstage)},fontsizeSelectButton:function(t,r){return YG(t,r.backstage)},fontSelectButton:function(t,r){return VG(t,r.backstage)},formatButton:function(t,r){return QG(t,r.backstage)},alignMenuButton:function(t,r){return NG(t,r.backstage)}},_q=function(t,r,o){return En(YA,t.type).fold(function(){return console.error("skipping button defined by",t),B.none()},function(s){return B.some(s(t,r,o))})},$9={styleselect:YA.styleSelectButton,fontsizeselect:YA.fontsizeSelectButton,fontselect:YA.fontSelectButton,formatselect:YA.formatButton,align:YA.alignMenuButton},xq=function(t){var r=Ue(Sq,function(o){var s=Ae(o.items,function(d){return Mr(t,d)||Mr($9,d)});return{name:o.name,items:s}});return Ae(r,function(o){return o.items.length>0})},kq=function(t){var r=t.split("|");return Ue(r,function(o){return{items:o.trim().split(" ")}})},Aq=function(t){return Y(t,function(r){return Mr(r,"name")&&Mr(r,"items")})},Eq=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?xq(o):S(r)?kq(r):Aq(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},Tq=function(t,r,o,s,d,g){return En(r,o.toLowerCase()).orThunk(function(){return g.bind(function(C){return Zr(C,function(E){return En(r,E+o.toLowerCase())})})}).fold(function(){return En($9,o.toLowerCase()).map(function(C){return C(t,d)}).orThunk(function(){return B.none()})},function(C){return C.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),B.none()):_q(C,d,t)})},IM=function(t,r,o,s){var d=Eq(r),g=Ue(d,function(C){var E=Wt(C.items,function(O){return O.trim().length===0?[]:Tq(t,r.buttons,O,r.allowToolbarGroups,o,s).toArray()});return{title:B.from(t.translate(C.name)),items:E}});return Ae(g,function(C){return C.items.length>0})},B9=function(t,r,o,s){var d=r.outerContainer,g=o.toolbar,C=o.buttons;if(Y(g,S)){var E=g.map(function(O){var $={toolbar:O,buttons:C,allowToolbarGroups:o.allowToolbarGroups};return IM(t,$,{backstage:s},B.none())});zo.setToolbars(d,E)}else zo.setToolbar(d,IM(t,o,{backstage:s},B.none()))},M9=Hn(),Oq=M9.os.isiOS()&&M9.os.version.major<=12,Dq=function(t,r){var o=t.dom,s=t.getWin(),d=t.getDoc().documentElement,g=Pn(ya(s.innerWidth,s.innerHeight)),C=Pn(ya(d.offsetWidth,d.offsetHeight)),E=function(){var ee=g.get();(ee.left!==s.innerWidth||ee.top!==s.innerHeight)&&(g.set(ya(s.innerWidth,s.innerHeight)),wT(t))},O=function(){var ee=t.getDoc().documentElement,ae=C.get();(ae.left!==ee.offsetWidth||ae.top!==ee.offsetHeight)&&(C.set(ya(ee.offsetWidth,ee.offsetHeight)),wT(t))},$=function(ee){return VP(t,ee)};o.bind(s,"resize",E),o.bind(s,"scroll",$);var V=l0(sn.fromDom(t.getBody()),"load",O),j=r.uiMothership.element;t.on("hide",function(){jn(j,"display","none")}),t.on("show",function(){qr(j,"display")}),t.on("NodeChange",O),t.on("remove",function(){V.unbind(),o.unbind(s,"resize",E),o.unbind(s,"scroll",$),s=null})},Rq=function(t,r,o,s,d){var g=Pn(0),C=r.outerContainer;RG(t);var E=sn.fromDom(d.targetNode),O=Zl(xs(E));Ml(E,r.mothership),uv(O,r.uiMothership),t.on("PostRender",function(){B9(t,r,o,s),g.set(t.getWin().innerWidth),zo.setMenubar(C,h9(t,o)),zo.setSidebar(C,o.sidebar),Dq(t,r)});var $=zo.getSocket(C).getOrDie("Could not find expected socket element");if(Oq){rs($.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var V=c8(function(){t.fire("ScrollContent")},20),j=wo($.element,"scroll",V.throttle);t.on("remove",j.unbind)}PD(t,r),t.addCommand("ToggleSidebar",function(Se,ze){zo.toggleSidebar(C,ze),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return zo.whichSidebar(C)});var ee=NC(t),ae=function(){zo.refreshToolbar(r.outerContainer)};(ee===Fl.sliding||ee===Fl.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var Se=t.getWin().innerWidth;Se!==g.get()&&(ae(),g.set(Se))});var fe={enable:function(){xy(r,!1)},disable:function(){xy(r,!0)},isDisabled:function(){return Mn.isDisabled(C)}};return{iframeContainer:$.element.dom,editorContainer:C.element.dom,api:fe}},$q=Object.freeze({__proto__:null,render:Rq}),c7=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?B.some(parseInt(""+t,10)):B.none()},f7=function(t){return H(t)?t+"px":t},NM=function(t,r,o){var s=r.filter(function(g){return t<g}),d=o.filter(function(g){return t>g});return s.or(d).getOr(t)},Bq=function(t){var r=Tk(t),o=yD(t),s=wD(t);return c7(r).map(function(d){return NM(d,o,s)})},Mq=function(t){var r=Bq(t);return r.getOr(Tk(t))},P9=function(t){var r=Ok(t),o=vT(t),s=Dk(t);return c7(r).map(function(d){return NM(d,o,s)})},Pq=function(t){var r=P9(t);return r.getOr(Ok(t))},Iq=function(t,r,o,s,d){var g=o.uiMothership,C=o.outerContainer,E=_y.DOM,O=$k(t),$=Bk(t),V=Dk(t).or(P9(t)),j=s.shared.header,ee=j.isPositionedAtTop,ae=NC(t),fe=ae===Fl.sliding||ae===Fl.floating,Se=Pn(!1),ze=function(){return Se.get()&&!t.removed},we=function(Mt){return fe?Mt.fold(ue(0),function(wt){return wt.components().length>1?Mo(wt.components()[1].element):0}):0},Le=function(Mt){switch(kD(t)){case _1.auto:var wt=zo.getToolbar(C),Kt=we(wt),Cn=Mo(Mt.element)-Kt,Et=Ao(r),bn=Et.y>Cn;if(bn)return"top";var An=yt(r),kr=Math.max(An.dom.scrollHeight,Mo(An)),ia=Et.bottom<kr-Cn;if(ia)return"bottom";var Pa=Ai(),so=Pa.bottom<Et.bottom-Cn;return so?"bottom":"top";case _1.bottom:return"bottom";case _1.top:default:return"top"}},ft=function(Mt){var wt=d.get();Do.setModes(wt,[Mt]),j.setDockingMode(Mt);var Kt=ee()?Qc.TopToBottom:Qc.BottomToTop;ur(wt.element,d0,Kt)},ct=function(){var Mt=V.getOrThunk(function(){var wt=c7(ro(Hi(),"margin-left")).getOr(0);return Vi(Hi())-vu(r).left+wt});jn(d.get().element,"max-width",Mt+"px")},Fe=function(){var Mt=zo.getToolbar(C),wt=we(Mt),Kt=Ao(r),Cn=ee()?Math.max(Kt.y-Mo(d.get().element)+wt,0):Kt.bottom;rs(C.element,{position:"absolute",top:Math.round(Cn)+"px",left:Math.round(Kt.x)+"px"})},rt=function(){g.broadcastOn([sg()],{})},Ct=function(Mt){if(Mt===void 0&&(Mt=!1),!!ze()){if(O||ct(),fe&&zo.refreshToolbar(C),O||Fe(),$){var wt=d.get();Mt?Do.reset(wt):Do.refresh(wt)}rt()}},on=function(Mt){if(Mt===void 0&&(Mt=!0),!(O||!$||!ze())){var wt=j.getDockingMode(),Kt=Le(d.get());Kt!==wt&&(ft(Kt),Mt&&Ct(!0))}},Ot=function(){Se.set(!0),jn(C.element,"display","flex"),E.addClass(t.getBody(),"mce-edit-focus"),qr(g.element,"display"),on(!1),Ct()},ln=function(){Se.set(!1),o.outerContainer&&(jn(C.element,"display","none"),E.removeClass(t.getBody(),"mce-edit-focus")),jn(g.element,"display","none")};return{isVisible:ze,isPositionedAtTop:ee,show:Ot,hide:ln,update:Ct,updateMode:on,repositionPopups:rt}},I9=function(t,r){var o=Ao(t);return{pos:r?o.y:o.bottom,bounds:o}},Nq=function(t,r,o,s){var d=Pn(I9(r,o.isPositionedAtTop())),g=function(E){var O=I9(r,o.isPositionedAtTop()),$=O.pos,V=O.bounds,j=d.get(),ee=j.pos,ae=j.bounds,fe=V.height!==ae.height||V.width!==ae.width;d.set({pos:$,bounds:V}),fe&&wT(t,E),o.isVisible()&&(ee!==$?o.update(!0):fe&&(o.updateMode(),o.repositionPopups()))};s||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(E){Pg.requestAnimationFrame(function(){return g(E)})}),t.on("ScrollWindow",function(){return o.updateMode()});var C=Uh();C.set(l0(sn.fromDom(t.getBody()),"load",g)),t.on("remove",function(){C.clear()})},zq=function(t,r,o,s,d){var g=r.mothership,C=r.uiMothership,E=r.outerContainer,O=Pn(null),$=sn.fromDom(d.targetNode),V=Iq(t,$,r,s,O),j=cP(t);$G(t);var ee=function(){if(O.get()){V.show();return}O.set(zo.getHeader(E).getOrDie());var fe=OD(t);uv(fe,g),uv(fe,C),B9(t,r,o,s),zo.setMenubar(E,h9(t,o)),V.show(),Nq(t,$,V,j),t.nodeChanged()};t.on("show",ee),t.on("hide",V.hide),j||(t.on("focus",ee),t.on("blur",V.hide)),t.on("init",function(){(t.hasFocus()||j)&&ee()}),PD(t,r);var ae={show:function(){V.show()},hide:function(){V.hide()},enable:function(){xy(r,!1)},disable:function(){xy(r,!0)},isDisabled:function(){return Mn.isDisabled(E)}};return{editorContainer:E.element.dom,api:ae}},Fq=Object.freeze({__proto__:null,render:zq}),Lq="contexttoolbar-show",N9="contexttoolbar-hide",Hq=function(t){return{hide:function(){return Ur(t,Ep())},getValue:function(){return an.getValue(t)}}},z9=function(t,r){return Rt(sB,function(o,s){var d=t.get(o),g=Hq(d);r.onAction(g,s.event.buttonApi)})},Vq=function(t,r,o){var s=r.original;s.primary;var d=U(s,["primary"]),g=Al(K5(ne(ne({},d),{type:"button",onAction:q})));return D9(g,o.backstage.shared.providers,[z9(t,r)])},Uq=function(t,r,o){var s=r.original;s.primary;var d=U(s,["primary"]),g=Al(Ck(ne(ne({},d),{type:"togglebutton",onAction:q})));return R9(g,o.backstage.shared.providers,[z9(t,r)])},Wq=function(t,r,o){var s={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?Uq(t,r,s):Vq(t,r,s)},jq=function(t,r,o){var s=Ue(r,function(C){return oa(Wq(t,C,o))}),d=function(){return Ue(s,function(C){return C.asSpec()})},g=function(C){return Zr(r,function(E,O){return E.primary?B.from(s[O]).bind(function($){return $.getOpt(C)}).filter(Ye(Mn.isDisabled)):B.none()})};return{asSpecs:d,findPrimary:g}},F9=function(t,r){var o=t.label.fold(function(){return{}},function(g){return{"aria-label":g}}),s=oa(XC.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:Jt([Fn.config({mode:"special",onEnter:function(g){return d.findPrimary(g).map(function(C){return Bs(C),!0})},onLeft:function(g,C){return C.cut(),B.none()},onRight:function(g,C){return C.cut(),B.none()}})])})),d=jq(s,t.commands,r);return[{title:B.none(),items:[s.asSpec()]},{title:B.none(),items:d.asSpecs()}]},Gq=function(t,r,o){return jr({type:t,uid:wn("context-toolbar"),initGroups:F9(r,o),onEscape:B.none,cyclicKeying:!0,providers:o})},qq={renderContextForm:Gq,buildInitGroups:F9},L9=function(t,r,o){return o===void 0&&(o=.01),r.bottom-t.y>=o&&t.bottom-r.y>=o},Kq=function(t){var r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){var o=lb(sn.fromDom(t.startContainer),t.startOffset).element,s=Du(o)?_o(o):B.some(o);return s.filter(po).map(function(d){return d.dom.getBoundingClientRect()}).getOr(r)}else return r},v7=function(t){var r=t.selection.getRng(),o=Kq(r);if(t.inline){var s=os();return Vo(s.left+o.left,s.top+o.top,o.width,o.height)}else{var d=Fc(sn.fromDom(t.getBody()));return Vo(d.x+o.left,d.y+o.top,o.width,o.height)}},Xq=function(t,r){return r.filter(fu).map(Fc).getOrThunk(function(){return v7(t)})},Yq=function(t,r,o){var s=Math.max(t.x+o,r.x),d=Math.min(t.right-o,r.right);return{x:s,width:d-s}},Jq=function(t,r,o,s,d,g){var C=sn.fromDom(t.getContainer()),E=jo(C,".tox-editor-header").getOr(C),O=Ao(E),$=O.y>=r.bottom,V=s&&!$;if(t.inline&&V)return{y:Math.max(O.bottom+g,o.y),bottom:o.bottom};if(t.inline&&!V)return{y:o.y,bottom:Math.min(O.y-g,o.bottom)};var j=d==="line"?Ao(C):r;return V?{y:Math.max(O.bottom+g,o.y),bottom:Math.min(j.bottom-g,o.bottom)}:{y:Math.max(j.y+g,o.y),bottom:Math.min(O.y-g,o.bottom)}},H9=function(t,r,o,s){s===void 0&&(s=0);var d=jf(window),g=Ao(sn.fromDom(t.getContentAreaContainer())),C=dT(t)||mT(t)||Rk(t),E=Yq(g,d,s),O=E.x,$=E.width;if(t.inline&&!C)return Vo(O,d.y,$,d.height);var V=r.header.isPositionedAtTop(),j=Jq(t,g,d,V,o,s),ee=j.y,ae=j.bottom;return Vo(O,ee,$,ae-ee)},zM=12,V9={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},U9={maxHeightFunction:jh(),maxWidthFunction:Eu()},Zq=function(t,r){var o=t.selection.getRng(),s=lb(sn.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&_a(s.element,r)},Qq=function(t,r,o){var s=ko(t,"position");jn(t,"position",r);var d=o(t);return s.each(function(g){return jn(t,"position",g)}),d},W9=function(t){return t==="node"},eK=function(t,r,o,s,d){var g=v7(t),C=s.lastElement().exists(function($){return _a(o,$)});if(Zq(t,o))return C?N5:Cc;if(C)return Qq(r,s.getMode(),function(){var $=L9(g,Ao(r));return $&&!s.isReposition()?a8:N5});var E=s.getMode()==="fixed"?d.y+os().top:d.y,O=Mo(r)+zM;return E+O<=g.y?Cc:$g},tK=function(t,r,o,s){var d=function(O){return function($,V,j,ee,ae){var fe=eK(t,ee,O,o,ae),Se=ne(ne({},$),{y:ae.y,height:ae.height});return ne(ne({},fe(Se,V,j,ee,ae)),{alwaysFit:!0})}},g=function(O){return W9(s)?[d(O)]:[]},C={onLtr:function(O){return[Fu,No,Cu,Xi,Su,ei].concat(g(O))},onRtl:function(O){return[Fu,No,Su,ei,Cu,Xi].concat(g(O))}},E={onLtr:function(O){return[No,Xi,ei,Cu,Su,Fu].concat(g(O))},onRtl:function(O){return[No,ei,Xi,Su,Cu,Fu].concat(g(O))}};return r?E:C},nK=function(t,r,o,s){return r==="line"?{bubble:sm(zM,0,V9),layouts:{onLtr:function(){return[Zb]},onRtl:function(){return[Qb]}},overrides:U9}:{bubble:sm(0,zM,V9,1/zM),layouts:tK(t,o,s,r),overrides:U9}},d7=function(t,r){var o=Ae(r,function(C){return C.predicate(t.dom)}),s=Te(o,function(C){return C.type==="contexttoolbar"}),d=s.pass,g=s.fail;return{contextToolbars:d,contextForms:g}},rK=function(t){if(t.length<=1)return t;var r=function(E){return Sn(t,function(O){return O.position===E})},o=function(E){return Ae(t,function(O){return O.position===E})},s=r("selection"),d=r("node");if(s||d)if(d&&s){var g=o("node"),C=Ue(o("selection"),function(E){return ne(ne({},E),{position:"node"})});return g.concat(C)}else return o(s?"selection":"node");else return o("line")},aK=function(t){if(t.length<=1)return t;var r=function(s){return pt(t,function(d){return d.position===s})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(s){return s.position});return o.fold(function(){return[]},function(s){return Ae(t,function(d){return d.position===s})})},oK=function(t,r,o){var s=d7(t,r);if(s.contextForms.length>0)return B.some({elem:t,toolbars:[s.contextForms[0]]});var d=d7(t,o);if(d.contextForms.length>0)return B.some({elem:t,toolbars:[d.contextForms[0]]});if(s.contextToolbars.length>0||d.contextToolbars.length>0){var g=rK(s.contextToolbars.concat(d.contextToolbars));return B.some({elem:t,toolbars:g})}else return B.none()},iK=function(t,r,o){return t(r)?B.none():Ap(r,function(s){if(po(s)){var d=d7(s,o.inNodeScope),g=d.contextToolbars,C=d.contextForms,E=C.length>0?C:aK(g);return E.length>0?B.some({elem:s,toolbars:E}):B.none()}else return B.none()},t)},uK=function(t,r){var o=sn.fromDom(r.getBody()),s=function(C){return _a(C,o)},d=function(C){return!s(C)&&!Sl(o,C)},g=sn.fromDom(r.selection.getNode());return d(g)?B.none():oK(g,t.inNodeScope,t.inEditorScope).orThunk(function(){return iK(s,g,t)})},sK=function(t,r){var o={},s=[],d=[],g={},C={},E=function(V,j){var ee=Al(GE(j));o[V]=ee,ee.launch.map(function(ae){g["form:"+V]=ne(ne({},j.launch),{type:ae.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(ee)}})}),ee.scope==="editor"?d.push(ee):s.push(ee),C[V]=ee},O=function(V,j){J5(j).each(function(ee){j.scope==="editor"?d.push(ee):s.push(ee),C[V]=ee})},$=Lr(t);return gt($,function(V){var j=t[V];j.type==="contextform"?E(V,j):j.type==="contexttoolbar"&&O(V,j)}),{forms:o,inNodeScope:s,inEditorScope:d,lookupTable:C,formNavigators:g}},j9=wn("forward-slide"),G9=wn("backward-slide"),m7=wn("change-slide-event"),h7="tox-pop--resizing",lK=function(t){var r=Pn([]);return ca.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),ca.getContent(o).each(function(s){qr(s.element,"visibility")}),Io(o.element,h7),qr(o.element,"width")},inlineBehaviours:Jt([ar("context-toolbar-events",[Eo(Ah(),function(o,s){s.event.raw.propertyName==="width"&&(Io(o.element,h7),qr(o.element,"width"))}),Rt(m7,function(o,s){var d=o.element;qr(d,"width");var g=Vi(d);ca.setContent(o,s.event.contents),Wo(d,h7);var C=Vi(d);jn(d,"width",g+"px"),ca.getContent(o).each(function(E){s.event.focus.bind(function(O){return vc(O),dc(d)}).orThunk(function(){return Fn.focusIn(E),_u(xs(d))})}),Pg.setTimeout(function(){jn(o.element,"width",C+"px")},0)}),Rt(j9,function(o,s){ca.getContent(o).each(function(d){r.set(r.get().concat([{bar:d,focus:_u(xs(o.element))}]))}),In(o,m7,{contents:s.event.forwardContents,focus:B.none()})}),Rt(G9,function(o,s){ua(r.get()).each(function(d){r.set(r.get().slice(0,r.get().length-1)),In(o,m7,{contents:zs(d.bar),focus:d.focus})})})]),Fn.config({mode:"special",onEscape:function(o){return ua(r.get()).fold(function(){return t.onEscape()},function(s){return Ur(o,G9),B.some(!0)})}})]),lazySink:function(){return cr.value(t.sink)}})},g7="tox-pop--transition",cK=function(t,r,o,s){var d=s.backstage,g=d.shared,C=Hn().deviceType.isTouch,E=mo(),O=mo(),$=mo(),V=La(lK({sink:o,onEscape:function(){return t.focus(),B.some(!0)}})),j=function(){var Ot=$.get().getOr("node"),ln=W9(Ot)?1:0;return H9(t,g,Ot,ln)},ee=function(){return!t.removed&&!(C()&&d.isContextMenuOpen())},ae=function(Ot){return lu(Gs(Ot,E.get(),_a),!0)},fe=function(){if(ee()){var Ot=j(),ln=lu($.get(),"node")?Xq(t,E.get()):v7(t);return Ot.height<=0||!L9(ln,Ot)}else return!0},Se=function(){E.clear(),O.clear(),$.clear(),ca.hide(V)},ze=function(){if(ca.isOpen(V)){var Ot=V.element;qr(Ot,"display"),fe()?jn(Ot,"display","none"):(O.set(0),ca.reposition(V))}},we=function(Ot){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Ot],behaviours:Jt([Fn.config({mode:"acyclic"}),ar("pop-dialog-wrap-events",[rr(function(ln){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return Fn.focusIn(ln)})}),Ms(function(ln){t.shortcuts.remove("ctrl+F9")})])])}},Le=es(function(){return sK(r,function(Ot){var ln=Fe([Ot]);In(V,j9,{forwardContents:we(ln)})})}),ft=function(Ot,ln){return IM(t,{buttons:Ot,toolbar:ln.items,allowToolbarGroups:!1},s,B.some(["form:"]))},ct=function(Ot,ln){return qq.buildInitGroups(Ot,ln)},Fe=function(Ot){var ln=t.ui.registry.getAll().buttons,Mt=Le(),wt=ne(ne({},ln),Mt.formNavigators),Kt=NC(t)===Fl.scrolling?Fl.scrolling:Fl.default,Cn=it(Ue(Ot,function(Et){return Et.type==="contexttoolbar"?ft(wt,Et):ct(Et,g.providers)}));return jr({type:Kt,uid:wn("context-toolbar"),initGroups:Cn,onEscape:B.none,cyclicKeying:!0,providers:g.providers})},rt=function(Ot,ln){var Mt=Ot==="node"?g.anchors.node(ln):g.anchors.cursor(),wt=nK(t,Ot,C(),{lastElement:E.get,isReposition:function(){return lu(O.get(),0)},getMode:function(){return ho.getMode(o)}});return bt(Mt,wt)},Ct=function(Ot,ln){if(on.cancel(),!!ee()){var Mt=Fe(Ot),wt=Ot[0].position,Kt=rt(wt,ln);$.set(wt),O.set(1);var Cn=V.element;qr(Cn,"display"),ae(ln)||(Io(Cn,g7),ho.reset(o,V)),ca.showWithinBounds(V,we(Mt),{anchor:Kt,transition:{classes:[g7],mode:"placement"}},function(){return B.some(j())}),ln.fold(E.clear,E.set),fe()&&jn(Cn,"display","none")}},on=LE(function(){if(!(!t.hasFocus()||t.removed))if(bu(V.element,g7))on.throttle();else{var Ot=Le();uK(Ot,t).fold(Se,function(ln){Ct(ln.toolbars,B.some(ln.elem))})}},17);t.on("init",function(){t.on("remove",Se),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ze),t.on("click keyup focus SetContent",on.throttle),t.on(N9,Se),t.on(Lq,function(Ot){var ln=Le();En(ln.lookupTable,Ot.toolbarKey).each(function(Mt){Ct([Mt],qs(Ot.target!==t,Ot.target)),ca.getContent(V).each(Fn.focusIn)})}),t.on("focusout",function(Ot){Pg.setEditorTimeout(t,function(){dc(o.element).isNone()&&dc(V.element).isNone()&&Se()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&Se()}),t.on("AfterProgressState",function(Ot){Ot.state?Se():t.hasFocus()&&on.throttle()}),t.on("NodeChange",function(Ot){dc(V.element).fold(on.throttle,q)})})},fK=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];gt(r,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:xv(t,o.cmd),onSetup:BM(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:xv(t,"JustifyNone")})},vK={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},dK=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,s="\\.",d=function(E){return"(?:"+E+")?"},g=["Infinity",t+s+d(t)+d(o),s+t+d(o),t+d(o)].join("|"),C="[+-]?(?:"+g+")";return new RegExp("^("+C+")(.*)$")}(),mK=function(t,r){return Sn(r,function(o){return Sn(vK[o],function(s){return t===s})})},hK=function(t,r){var o=B.from(dK.exec(t));return o.bind(function(s){var d=Number(s[1]),g=s[2];return mK(g,r)?B.some({value:d,unit:g}):B.none()})},gK=function(t,r){return hK(t,r).map(function(o){var s=o.value,d=o.unit;return s+d})},q9=function(t,r){var o=function(){var s=r.getOptions(t),d=r.getCurrent(t).map(r.hash),g=mo();return Ue(s,function(C){return{type:"togglemenuitem",text:r.display(C),onSetup:function(E){var O=function(V){V&&(g.on(function(j){return j.setActive(!1)}),g.set(E)),E.setActive(V)};O(lu(d,r.hash(C)));var $=r.watcher(t,C,O);return function(){g.clear(),$()}},onAction:function(){return r.setCurrent(t,C)}}})};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(s){return s(o())},onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:o,onSetup:r.onMenuSetup})},pK={name:"lineheight",text:"Line height",icon:"line-height",getOptions:CD,hash:function(t){return gK(t,["fixed","relative","empty"]).getOr(t)},display:Ee,watcher:function(t,r,o){return t.formatter.formatChanged("lineheight",o,!1,{value:r}).unbind},getCurrent:function(t){return B.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,r){return t.execCommand("LineHeight",!1,r)}},bK=function(t){var r=B.from(SD(t));return r.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:ue(o),hash:function(s){return W(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,d,g){return s.formatter.formatChanged("lang",g,!1,{value:d.code,customValue:d.customCode}).unbind},getCurrent:function(s){var d=sn.fromDom(s.selection.getNode());return Sh(d,function(g){return B.some(g).filter(po).bind(function(C){var E=Ka(C,"lang");return E.map(function(O){var $=Ka(C,"data-mce-lang").getOrUndefined();return{code:O,customCode:$,title:""}})})})},setCurrent:function(s,d){return s.execCommand("Lang",!1,d)},onToolbarSetup:function(s){var d=Uh();return s.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",s.setActive,!0)),d.clear}}})},yK=function(t){q9(t,pK),bK(t).each(function(r){return q9(t,r)})},wK=function(t,r){zG(t,r),UG(t,r),nq(t,r),eq(t,r),JG(t,r)},CK=function(t){return MM(t,"NodeChange",function(r){r.setDisabled(!t.queryCommandState("outdent"))})},SK=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:CK(t),onAction:xv(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:xv(t,"indent")})},_K=function(t){SK(t)},p7=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},xK=function(t){Wg.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,d){t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:BM(t,s.name),onAction:p7(t,s.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:BM(t,o),onAction:p7(t,o)})}},kK=function(t){Wg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:xv(t,r.action)})})},AK=function(t){Wg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:xv(t,r.action),onSetup:BM(t,r.name)})})},EK=function(t){xK(t),kK(t),AK(t)},TK=function(t){Wg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:xv(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:p7(t,"code")})},OK=function(t){EK(t),TK(t)},FM=function(t,r){return MM(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[r]())})},DK=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:FM(t,"hasUndo"),onAction:xv(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:FM(t,"hasRedo"),onAction:xv(t,"redo")})},RK=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:FM(t,"hasUndo"),onAction:xv(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:FM(t,"hasRedo"),onAction:xv(t,"redo")})},$K=function(t){DK(t),RK(t)},BK=function(t){return MM(t,"VisualAid",function(r){r.setActive(t.hasVisual)})},MK=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:BK(t),onAction:xv(t,"mceToggleVisualAid")})},PK=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:xv(t,"mceToggleVisualAid")})},IK=function(t){PK(t),MK(t)},NK=function(t,r){fK(t),OK(t),wK(t,r),$K(t),YP(t),IK(t),_K(t),yK(t)},f5=function(t,r){return{type:"makeshift",x:t,y:r}},zK=function(t,r,o){return f5(t.x+r,t.y+o)},K9=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},FK=function(t){if(K9(t)){var r=t.touches[0];return f5(r.pageX,r.pageY)}else return f5(t.pageX,t.pageY)},LK=function(t){if(K9(t)){var r=t.touches[0];return f5(r.clientX,r.clientY)}else return f5(t.clientX,t.clientY)},HK=function(t,r){var o=_y.DOM.getPos(t);return zK(r,o.x,o.y)},VK=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?FK(r):HK(t.getContentAreaContainer(),LK(r)):X9(t)},X9=function(t){return{type:"selection",root:sn.fromDom(t.selection.getNode())}},UK=function(t){return{type:"node",node:B.some(sn.fromDom(t.selection.getNode())),root:sn.fromDom(t.getBody())}},Y9=function(t,r,o){switch(o){case"node":return UK(t);case"point":return VK(t,r);case"selection":return X9(t)}},WK=function(t,r,o,s,d,g){var C=o(),E=Y9(t,r,g);My(C,uu.CLOSE_ON_EXECUTE,s,!1).map(function(O){r.preventDefault(),ca.showMenuAt(d,{anchor:E},{menu:{markers:yy("normal")},data:O})})},jK={onLtr:function(){return[No,Xi,ei,Cu,Su,Fu,Cc,$g,Rg,Og,Dg,gy]},onRtl:function(){return[No,ei,Xi,Su,Cu,Fu,Cc,$g,Dg,gy,Rg,Og]}},GK=12,qK={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},KK=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var s=r.touches[0],d=o.getRng(),g=pw(t.getWin(),Kh.domRange(d));return g.exists(function(C){return C.left<=s.clientX&&C.right>=s.clientX&&C.top<=s.clientY&&C.bottom>=s.clientY})},XK=function(t){var r=t.selection.getRng(),o=function(){Pg.setEditorTimeout(t,function(){t.selection.setRng(r)},10),g()};t.once("touchend",o);var s=function(C){C.preventDefault(),C.stopImmediatePropagation()};t.on("mousedown",s,!0);var d=function(){return g()};t.once("longpresscancel",d);var g=function(){t.off("touchend",o),t.off("longpresscancel",d),t.off("mousedown",s)}},YK=function(t,r,o){var s=Y9(t,r,o),d=o==="point"?GK:0;return ne({bubble:sm(0,d,qK),layouts:jK,overrides:{maxWidthFunction:Eu(),maxHeightFunction:jh()}},s)},JK=function(t,r,o,s,d,g,C){var E=YK(t,r,g);My(o,uu.CLOSE_ON_EXECUTE,s,!0).map(function(O){r.preventDefault(),ca.showMenuWithinBounds(d,{anchor:E},{menu:{markers:yy("normal"),highlightImmediately:C},data:O,type:"horizontal"},function(){return B.some(H9(t,s.shared,g==="node"?"node":"selection"))}),t.fire(N9)})},ZK=function(t,r,o,s,d,g){var C=Hn(),E=C.os.isiOS(),O=C.os.isOSX(),$=C.os.isAndroid(),V=C.deviceType.isTouch(),j=function(){return!($||E||O&&V)},ee=function(){var fe=o();JK(t,r,fe,s,d,g,j())};if((O||E)&&g!=="node"){var ae=function(){XK(t),ee()};KK(t,r)?ae():(t.once("selectionchange",ae),t.once("touchend",function(){return t.off("selectionchange",ae)}))}else ee()},J9=function(t){return typeof t=="string"?t.split(/[ ,]/):t},Z9=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},QK=function(t,r,o){var s=t.ui.registry.getAll().contextMenus;return B.from(t.getParam(r)).map(J9).getOrThunk(function(){return Ae(J9(o),function(d){return Mr(s,d)})})},eX=function(t){return t.getParam("contextmenu")===!1},tX=function(t){return QK(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},nX=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},Q9=function(t){return S(t)?t==="|":t.type==="separator"},b7={type:"separator"},eV=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(S(t))return t;switch(t.type){case"separator":return b7;case"submenu":return ne(ne({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return S(o)?o:Ue(o,eV)}});default:return ne(ne({type:"menuitem"},r(t)),{onAction:$e(t.onAction)})}},tV=function(t,r){if(r.length===0)return t;var o=ua(t).filter(function(d){return!Q9(d)}),s=o.fold(function(){return[]},function(d){return[b7]});return t.concat(s).concat(r).concat([b7])},rX=function(t,r,o){var s=et(r,function(d,g){return En(t,g.toLowerCase()).map(function(C){var E=C.update(o);if(S(E))return tV(d,E.split(" "));if(E.length>0){var O=Ue(E,eV);return tV(d,O)}else return d}).getOrThunk(function(){return d.concat([g])})},[]);return s.length>0&&Q9(s[s.length-1])&&s.pop(),s},aX=function(t,r){return r.ctrlKey&&!Z9(t)},nV=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},rV=function(t,r){return nV(t,r)?t.selection.getStart(!0):r.target},oX=function(t,r){var o=nX(t),s=nV(t,r)?"selection":"point";if($c(o)){var d=rV(t,r),g=WC(sn.fromDom(d),o);return g?"node":s}else return s},iX=function(t,r,o){var s=Hn(),d=s.deviceType.isTouch,g=La(ca.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Jt([ar("dismissContextMenu",[Rt(Dl(),function(O,$){Dr.close(O),t.focus()})])])})),C=function(O){return ca.hide(g)},E=function(O){if(Z9(t)&&O.preventDefault(),!(aX(t,O)||eX(t))){var $=oX(t,O),V=function(){var ee=rV(t,O),ae=t.ui.registry.getAll(),fe=tX(t);return rX(ae.contextMenus,fe,ee)},j=d()?ZK:WK;j(t,O,V,o,g,$)}};t.on("init",function(){var O="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(O,C),t.on("longpress contextmenu",E)})},y7=Ds.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),LM=function(t){return function(r){return r.translate(-t.left,-t.top)}},HM=function(t){return function(r){return r.translate(t.left,t.top)}},q1=function(t){return function(r,o){return et(t,function(s,d){return d(s)},ya(r,o))}},VM=function(t,r,o){return t.fold(q1([HM(o),LM(r)]),q1([LM(r)]),q1([]))},JA=function(t,r,o){return t.fold(q1([HM(o)]),q1([]),q1([HM(r)]))},aV=function(t,r,o){return t.fold(q1([]),q1([LM(o)]),q1([HM(r),LM(o)]))},uX=function(t,r,o,s,d,g){var C=JA(t,d,g),E=JA(r,d,g);return Math.abs(C.left-E.left)<=o&&Math.abs(C.top-E.top)<=s},sX=function(t,r,o,s,d,g){var C=JA(t,d,g),E=JA(r,d,g),O=Math.abs(C.left-E.left),$=Math.abs(C.top-E.top);return ya(O,$)},oV=function(t,r,o){var s=t.fold(function(d,g){return{position:B.some("absolute"),left:B.some(d+"px"),top:B.some(g+"px")}},function(d,g){return{position:B.some("absolute"),left:B.some(d-o.left+"px"),top:B.some(g-o.top+"px")}},function(d,g){return{position:B.some("fixed"),left:B.some(d+"px"),top:B.some(g+"px")}});return ne({right:B.none(),bottom:B.none()},s)},lX=function(t,r,o){return t.fold(function(s,d){return UM(s+r,d+o)},function(s,d){return Ly(s+r,d+o)},function(s,d){return SS(s+r,d+o)})},w7=function(t,r,o,s){var d=function(g,C){return function(E,O){var $=g(r,o,s);return C(E.getOr($.left),O.getOr($.top))}};return t.fold(d(aV,UM),d(JA,Ly),d(VM,SS))},UM=y7.offset,Ly=y7.absolute,SS=y7.fixed,iV=function(t,r){var o=za(t,r);return W(o)?NaN:parseInt(o,10)},cX=function(t,r){var o=t.element,s=iV(o,r.leftAttr),d=iV(o,r.topAttr);return isNaN(s)||isNaN(d)?B.none():B.some(ya(s,d))},fX=function(t,r,o){var s=t.element;ur(s,r.leftAttr,o.left+"px"),ur(s,r.topAttr,o.top+"px")},vX=function(t,r){var o=t.element;ui(o,r.leftAttr),ui(o,r.topAttr)},dX=function(t,r,o,s){return cX(t,r).fold(function(){return o},function(d){return SS(d.left+s.left,d.top+s.top)})},mX=function(t,r,o,s,d,g){var C=dX(t,r,o,s),E=r.mustSnap?gX(t,r,C,d,g):pX(t,r,C,d,g),O=VM(C,d,g);return fX(t,r,O),E.fold(function(){return{coord:SS(O.left,O.top),extra:B.none()}},function($){return{coord:$.output,extra:$.extra}})},hX=function(t,r){vX(t,r)},uV=function(t,r,o,s){return Zr(t,function(d){var g=d.sensor,C=uX(r,g,d.range.left,d.range.top,o,s);return C?B.some({output:w7(d.output,r,o,s),extra:d.extra}):B.none()})},gX=function(t,r,o,s,d){var g=r.getSnapPoints(t),C=uV(g,o,s,d);return C.orThunk(function(){var E=et(g,function(O,$){var V=$.sensor,j=sX(o,V,$.range.left,$.range.top,s,d);return O.deltas.fold(function(){return{deltas:B.some(j),snap:B.some($)}},function(ee){var ae=(j.left+j.top)/2,fe=(ee.left+ee.top)/2;return ae<=fe?{deltas:B.some(j),snap:B.some($)}:O})},{deltas:B.none(),snap:B.none()});return E.snap.map(function(O){return{output:w7(O.output,o,s,d),extra:O.extra}})})},pX=function(t,r,o,s,d){var g=r.getSnapPoints(t);return uV(g,o,s,d)},bX=function(t,r,o){return{coord:w7(t.output,t.output,r,o),extra:t.extra}},yX=function(t,r,o,s){var d=r.getTarget(t.element);if(r.repositionTarget){var g=Jo(t.element),C=os(g),E=IA(d),O=bX(s,C,E),$=oV(O.coord,C,E);no(d,$)}},wX=Object.freeze({__proto__:null,snapTo:yX}),C7="data-initial-z-index",CX=function(t){_o(t.element).filter(po).each(function(r){Ka(r,C7).fold(function(){return qr(r,"z-index")},function(o){return jn(r,"z-index",o)}),ui(r,C7)})},SX=function(t){_o(t.element).filter(po).each(function(r){ko(r,"z-index").each(function(o){ur(r,C7,o)}),jn(r,"z-index",ro(t.element,"z-index"))})},sV=function(t,r){t.getSystem().addToGui(r),SX(r)},_X=function(t){CX(t),t.getSystem().removeFromGui(t)},lV=function(t,r,o){return t.getSystem().build(ku.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},xX=ss("snaps",[xt("getSnapPoints"),Xr("onSensor"),xt("leftAttr"),xt("topAttr"),Ve("lazyViewport",Ai),Ve("mustSnap",!1)]),S7=[Ve("useFixed",pe),xt("blockerClass"),Ve("getTarget",Ee),Ve("onDrag",q),Ve("repositionTarget",!0),Ve("onDrop",q),Ta("getBounds",Ai),xX],kX=function(t){return Qm(ko(t,"left"),ko(t,"top"),ko(t,"position"),function(r,o,s){var d=s==="fixed"?SS:UM;return d(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=vu(t);return Ly(r.left,r.top)})},AX=function(t,r,o,s,d){var g=d.bounds,C=JA(r,o,s),E=fs(C.left,g.x,g.x+g.width-d.width),O=fs(C.top,g.y,g.y+g.height-d.height),$=Ly(E,O);return r.fold(function(){var V=aV($,o,s);return UM(V.left,V.top)},ue($),function(){var V=VM($,o,s);return SS(V.left,V.top)})},EX=function(t,r,o,s,d,g,C){var E=r.fold(function(){var O=lX(o,g.left,g.top),$=VM(O,s,d);return SS($.left,$.top)},function(O){var $=mX(t,O,o,g,s,d);return $.extra.each(function(V){O.onSensor(t,V)}),$.coord});return AX(t,E,s,d,C)},TX=function(t,r,o,s){var d=r.getTarget(t.element);if(r.repositionTarget){var g=Jo(t.element),C=os(g),E=IA(d),O=kX(d),$=EX(t,r.snaps,O,C,E,s,o),V=oV($,C,E);no(d,V)}r.onDrag(t,d,s)},cV=function(t,r){return{bounds:t.getBounds(),height:as(r.element),width:du(r.element)}},_7=function(t,r,o,s,d){var g=o.update(s,d),C=o.getStartData().getOrThunk(function(){return cV(r,t)});g.each(function(E){TX(t,r,C,E)})},fV=function(t,r,o,s){r.each(_X),o.snaps.each(function(g){hX(t,g)});var d=o.getTarget(t.element);s.reset(),o.onDrop(t,d)},x7=function(t){return function(r,o){var s=function(d){o.setStartData(cV(r,d))};return Sa(_e([Rt(C2(),function(d){o.getStartData().each(function(){return s(d)})})],t(r,o,s),!0))}},OX=function(t){return Sa([Rt(Ol(),t.forceDrop),Rt(h2(),t.drop),Rt(Hd(),function(r,o){t.move(o.event)}),Rt(m2(),t.delayDrop)])},DX=function(t){return B.from(ya(t.x,t.y))},RX=function(t,r){return ya(r.left-t.left,r.top-t.top)},$X=Object.freeze({__proto__:null,getData:DX,getDelta:RX}),vV=function(t,r,o){return[Rt(Ol(),function(s,d){var g=d.event.raw;if(g.button===0){d.stop();var C=function(){return fV(s,B.some($),t,r)},E=AR(C,200),O={drop:C,delayDrop:E.schedule,forceDrop:C,move:function(j){E.cancel(),_7(s,t,r,$X,j)}},$=lV(s,t.blockerClass,OX(O)),V=function(){o(s),sV(s,$)};V()}})]},BX=_e(_e([],S7,!0),[ka("dragger",{handlers:x7(vV)})],!1),MX=function(t){return Sa([Rt(Wc(),t.forceDrop),Rt(Fv(),t.drop),Rt(e_(),t.drop),Rt(Tl(),function(r,o){t.move(o.event)})])},PX=function(t){var r=t[0];return B.some(ya(r.clientX,r.clientY))},IX=function(t){var r=t.raw,o=r.touches;return o.length===1?PX(o):B.none()},NX=function(t,r){return ya(r.left-t.left,r.top-t.top)},dV=Object.freeze({__proto__:null,getData:IX,getDelta:NX}),mV=function(t,r,o){var s=mo(),d=function(g){fV(g,s.get(),t,r),s.clear()};return[Rt(Wc(),function(g,C){C.stop();var E=function(){return d(g)},O={drop:E,delayDrop:q,forceDrop:E,move:function(j){_7(g,t,r,dV,j)}},$=lV(g,t.blockerClass,MX(O));s.set($);var V=function(){o(g),sV(g,$)};V()}),Rt(Tl(),function(g,C){C.stop(),_7(g,t,r,dV,C.event)}),Rt(Fv(),function(g,C){C.stop(),d(g)}),Rt(e_(),d)]},zX=_e(_e([],S7,!0),[ka("dragger",{handlers:x7(mV)})],!1),FX=function(t,r,o){return _e(_e([],vV(t,r,o),!0),mV(t,r,o),!0)},LX=_e(_e([],S7,!0),[ka("dragger",{handlers:x7(FX)})],!1),HX=BX,VX=zX,UX=LX,WX=Object.freeze({__proto__:null,mouse:HX,touch:VX,mouseOrTouch:UX}),jX=function(){var t=B.none(),r=B.none(),o=function(){t=B.none(),r=B.none()},s=function(O,$){var V=t.map(function(j){return O.getDelta(j,$)});return t=B.some($),V},d=function(O,$){return O.getData($).bind(function(V){return s(O,V)})},g=function(O){r=B.some(O)},C=function(){return r},E=ue({});return Ki({readState:E,reset:o,update:d,getStartData:C,setStartData:g})},GX=Object.freeze({__proto__:null,init:jX}),_S=om({branchKey:"mode",branches:WX,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:B.from(t.extra)}}},state:GX,apis:wX}),k7=40,WM=k7/2,hV=function(t,r,o,s,d,g){return t.fold(function(){return _S.snap({sensor:Ly(o-WM,s-WM),range:ya(d,g),output:Ly(B.some(o),B.some(s)),extra:{td:r}})},function(C){var E=o-WM,O=s-WM,$=k7,V=k7,j=C.element.dom.getBoundingClientRect();return _S.snap({sensor:Ly(E,O),range:ya($,V),output:Ly(B.some(o-j.width/2),B.some(s-j.height/2)),extra:{td:r}})})},gV=function(t,r,o){var s=function(d,g){return d.exists(function(C){return _a(C,g)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(d,g){var C=g.td;s(r.get(),C)||(r.set(C),o(C))},mustSnap:!0}},pV=function(t){return oa(ms.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Jt([_S.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),JC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},qX=function(t,r){var o=Pn([]),s=Pn([]),d=Pn(!1),g=mo(),C=mo(),E=function(Ct){var on=Fc(Ct);return hV(ae.getOpt(r),Ct,on.x,on.y,on.width,on.height)},O=function(){return Ue(o.get(),function(Ct){return E(Ct)})},$=function(Ct){var on=Fc(Ct);return hV(fe.getOpt(r),Ct,on.right,on.bottom,on.width,on.height)},V=function(){return Ue(s.get(),function(Ct){return $(Ct)})},j=gV(O,g,function(Ct){C.get().each(function(on){t.fire("TableSelectorChange",{start:Ct,finish:on})})}),ee=gV(V,C,function(Ct){g.get().each(function(on){t.fire("TableSelectorChange",{start:on,finish:Ct})})}),ae=pV(j),fe=pV(ee),Se=La(ae.asSpec()),ze=La(fe.asSpec()),we=function(Ct,on,Ot,ln){var Mt=on.dom.getBoundingClientRect();qr(Ct.element,"display");var wt=sh(sn.fromDom(t.getBody())).dom.innerHeight,Kt=Ot(Mt),Cn=ln(Mt,wt);(Kt||Cn)&&jn(Ct.element,"display","none")},Le=function(Ct,on,Ot,ln){var Mt=Ot(on);_S.snapTo(Ct,Mt);var wt=function(Cn){return Cn[ln]<0},Kt=function(Cn,Et){return Cn[ln]>Et};we(Ct,on,wt,Kt)},ft=function(Ct){return Le(Se,Ct,E,"top")},ct=function(){return g.get().each(ft)},Fe=function(Ct){return Le(ze,Ct,$,"bottom")},rt=function(){return C.get().each(Fe)};Hn().deviceType.isTouch()&&(t.on("TableSelectionChange",function(Ct){d.get()||(vm(r,Se),vm(r,ze),d.set(!0)),g.set(Ct.start),C.set(Ct.finish),Ct.otherCells.each(function(on){o.set(on.upOrLeftCells),s.set(on.downOrRightCells),ft(Ct.start),Fe(Ct.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){ct(),rt()}),t.on("TableSelectionClear",function(){d.get()&&(pc(Se),pc(ze),d.set(!1)),g.clear(),C.clear()}))},KX=function(t){return!!(t.nodeType===1&&(t.nodeName==="BR"||t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark"))},XX=function(t,r,o){r.delimiter||(r.delimiter="");var s=function(g){var C=g||[],E=Ue(C,function($,V){return ms.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":V,"tab-index":-1,"aria-level":V+1},innerHtml:$.name},action:function(j){t.focus(),t.selection.select($.element),t.nodeChanged()},buttonBehaviours:Jt([mf.button(o.isDisabled),ti()])})}),O={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return et(E.slice(1),function($,V){var j=$;return j.push(O),j.push(V),j},[E[0]])},d=function(g){for(var C=[],E=g.length;E-- >0;){var O=g[E];if(O.nodeType===1&&!KX(O)){var $=t.fire("ResolveName",{name:O.nodeName.toLowerCase(),target:O});if($.isDefaultPrevented()||C.push({name:$.name,element:O}),$.isPropagationStopped())break}}return C};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Jt([Fn.config({mode:"flow",selector:"div[role=button]"}),Mn.config({disabled:o.isDisabled}),ti(),To.config({}),Qn.config({}),ar("elementPathEvents",[rr(function(g,C){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Fn.focusIn(g)}),t.on("NodeChange",function(E){var O=d(E.parents);O.length>0?Qn.set(g,s(O)):Qn.set(g,[])})})])]),components:[]}},xS;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(xS||(xS={}));var YX=function(t,r,o,s,d){var g={};return g.height=NM(s+r.top,yD(t),wD(t)),o===xS.Both&&(g.width=NM(d+r.left,vT(t),Dk(t))),g},bV=function(t,r,o){var s=sn.fromDom(t.getContainer()),d=YX(t,r,o,Mo(s),Vi(s));Vr(d,function(g,C){return jn(s,C,f7(g))}),HP(t)},JX=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?xS.None:o==="both"?xS.Both:xS.Vertical},jM=function(t,r,o,s){var d=20,g=ya(o*d,s*d);return bV(t,g,r),B.some(!0)},ZX=function(t,r){var o=JX(t);return o===xS.None?B.none():B.some(hv("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[_S.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,d,g){return bV(t,g,o)},blockerClass:"tox-blocker"}),Fn.config({mode:"special",onLeft:function(){return jM(t,o,-1,0)},onRight:function(){return jM(t,o,1,0)},onUp:function(){return jM(t,o,0,-1)},onDown:function(){return jM(t,o,0,1)}}),To.config({}),Yn.config({})]},r.icons))},QX=function(t,r){var o,s=function(d,g,C){return Qn.set(d,[Ri(r.translate(["{0} "+C,g[C]]))])};return ms.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Jt([mf.button(r.isDisabled),ti(),To.config({}),Qn.config({}),an.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),ar("wordcount-events",[cs(function(d){var g=an.getValue(d),C=g.mode==="words"?"characters":"words";an.setValue(d,{mode:C,count:g.count}),s(d,g.count,C)}),rr(function(d){t.on("wordCountUpdate",function(g){var C=an.getValue(d).mode;an.setValue(d,{mode:C,count:g.wordCount}),s(d,g.wordCount,C)})})])]),eventOrder:(o={},o[Rs()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},eY=function(t,r){var o=function(){var g=df.translate(["Powered by {0}","Tiny"]),C='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+g+'">'+g+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:C}}},s=function(){var g=[];return t.getParam("elementpath",!0,"boolean")&&g.push(XX(t,{},r)),t.hasPlugin("wordcount")&&g.push(QX(t,r)),t.getParam("branding",!0,"boolean")&&g.push(o()),g.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:g}]:[]},d=function(){var g=s(),C=ZX(t,r);return g.concat(C.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:d()}},tY=function(t){var r,o=t.inline,s=o?Fq:$q,d=Bk(t)?UA:RL,g=B.none(),C=Hn(),E=C.browser.isIE(),O=E?["tox-platform-ie"]:[],$=C.deviceType.isTouch(),V="tox-platform-touch",j=$?[V]:[],ee=AD(t),ae=OD(t),fe=df.isRtl()?{attributes:{dir:"rtl"}}:{},Se={attributes:(r={},r[d0]=ee?Qc.BottomToTop:Qc.TopToBottom,r)},ze=function(){return g.bind(zo.getHeader)},we=function(){return d.isDocked(ze)},Le=function(){jn(Ku.element,"width",document.body.clientWidth+"px")},ft=function(){var yi=_a(Hi(),ae)&&ro(ae,"display")==="grid",Lm={dom:ne({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(O).concat(j)},fe),behaviours:Jt([ho.config({useFixed:function(){return we()}})])},Qg={dom:{styles:{width:document.body.clientWidth+"px"}},events:Sa([Rt($s(),Le)])};return bt(Lm,yi?Qg:{})},ct=La(ft()),Fe=function(){return cr.value(ct)},rt=oa({dom:{tag:"div",classes:["tox-anchorbar"]}}),Ct=function(){return g.bind(function(yi){return rt.getOpt(yi)}).getOrDie("Could not find a anchor bar element")},on=function(){return g.bind(function(yi){return zo.getToolbar(yi)}).getOrDie("Could not find more toolbar element")},Ot=function(){return g.bind(function(yi){return zo.getThrobber(yi)}).getOrDie("Could not find throbber element")},ln=MA(ct,t,Ct),Mt=zo.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ln,onEscape:function(){t.focus()}}),wt=NC(t),Kt=zo.parts.toolbar(ne({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Fe,providers:ln.shared.providers,onEscape:function(){t.focus()},type:wt,lazyToolbar:on,lazyHeader:function(){return ze().getOrDie("Could not find header element")}},Se)),Cn=zo.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ln.shared.providers,onEscape:function(){t.focus()},type:wt}),Et=zo.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),bn=zo.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),An=zo.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ln}),kr=t.getParam("statusbar",!0,"boolean"),ia=kr&&!o?B.some(eY(t,ln.shared.providers)):B.none(),Pa={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Et,bn]},so=Rk(t),vl=mT(t),Tu=dT(t),QA=function(){return so?[Cn]:vl?[Kt]:[]},bi=zo.parts.header({dom:ne({tag:"div",classes:["tox-editor-header"]},Se),components:it([Tu?[Mt]:[],QA(),$k(t)?[]:[rt.asSpec()]]),sticky:Bk(t),editor:t,sharedBackstage:ln.shared}),K1=it([ee?[]:[bi],o?[]:[Pa],ee?[bi]:[]]),X1={dom:{tag:"div",classes:["tox-editor-container"]},components:K1},ES=it([[X1],o?[]:ia.toArray(),[An]]),Y1=DD(t),TS=ne(ne({role:"application"},df.isRtl()?{dir:"rtl"}:{}),Y1?{"aria-hidden":"true"}:{}),ys=La(zo.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(ee?["tox-tinymce--toolbar-bottom"]:[]).concat(j).concat(O),styles:ne({visibility:"hidden"},Y1?{opacity:"0",border:"0"}:{}),attributes:TS},components:ES,behaviours:Jt([ti(),Mn.config({disableClass:"tox-tinymce--disabled"}),Fn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));g=B.some(ys),t.shortcuts.add("alt+F9","focus menubar",function(){zo.focusMenubar(ys)}),t.shortcuts.add("alt+F10","focus toolbar",function(){zo.focusToolbar(ys)}),t.addCommand("ToggleToolbarDrawer",function(){zo.toggleToolbarDrawer(ys)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return zo.isToolbarDrawerToggled(ys)});var kv=BR(ys),Ku=BR(ct);xL(t,kv,Ku);var OS=function(){var yi={broadcastAll:Ku.broadcast,broadcastOn:Ku.broadcastOn,register:q};return{channels:yi}},Zg=function(){var yi=f7(Mq(t)),Lm=f7(Pq(t));return t.inline||(ks("div","width",Lm)&&jn(ys.element,"width",Lm),ks("div","height",yi)?jn(ys.element,"height",yi):jn(ys.element,"height","200px")),yi},Vy=function(){d.setup(t,ln.shared,ze),NK(t,ln),iX(t,Fe,ln),ce(t),uo(t,Ot,ln.shared),lr(sP(t),function(Xu,dl){t.ui.registry.addGroupToolbarButton(dl,Xu)});var yi=t.ui.registry.getAll(),Lm=yi.buttons,Qg=yi.menuItems,J1=yi.contextToolbars,Av=yi.sidebars,ep=xD(t),dn={menuItems:Qg,menus:fP(t),menubar:vP(t),toolbar:ep.getOrThunk(function(){return dP(t)}),allowToolbarGroups:wt===Fl.floating,buttons:Lm,sidebar:Av};cK(t,J1,ct,{backstage:ln}),qX(t,ct);var dr=t.getElement(),la=Zg(),Za={mothership:kv,uiMothership:Ku,outerContainer:ys},ws={targetNode:dr,height:la};return s.render(t,Za,dn,ln,ws)};return{mothership:kv,uiMothership:Ku,backstage:ln,renderUI:Vy,getUi:OS}},nY=function(t,r){var o=B.from(za(t,"id")).fold(function(){var s=wn("dialog-describe");return ur(r,"id",s),s},Ee);ur(t,"aria-describedby",o)},rY=function(t,r){var o=Ka(t,"id").fold(function(){var s=wn("dialog-label");return ur(r,"id",s),s},Ee);ur(t,"aria-labelledby",o)},aY=ue([xt("lazySink"),Kr("dragBlockClass"),Ta("getBounds",Ai),Ve("useTabstopAt",ye),Ve("eventOrder",{}),Xo("modalBehaviours",[Fn]),Go("onExecute"),zu("onEscape")]),A7={sketch:Ee},oY=ue([ul({name:"draghandle",overrides:function(t,r){return{behaviours:Jt([_S.config({mode:"mouse",getTarget:function(o){return Ub(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),Ii({schema:[xt("dom")],name:"title"}),Ii({factory:A7,schema:[xt("dom")],name:"close"}),Ii({factory:A7,schema:[xt("dom")],name:"body"}),ul({factory:A7,schema:[xt("dom")],name:"footer"}),Fs({factory:{sketch:function(t,r){return ne(ne({},t),{dom:r.dom,components:r.components})}},schema:[Ve("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ve("components",[])],name:"blocker"})]),iY=function(t,r,o,s){var d,g=mo(),C=function(fe){g.set(fe);var Se=t.lazySink(fe).getOrDie(),ze=s.blocker(),we=Se.getSystem().build(ne(ne({},ze),{components:ze.components.concat([zs(fe)]),behaviours:Jt([Yn.config({}),ar("dialog-blocker-events",[Eo(tl(),function(){Fn.focusIn(fe)})])])}));vm(Se,we),Fn.focusIn(fe)},E=function(fe){g.clear(),_o(fe.element).each(function(Se){fe.getSystem().getByDom(Se).each(function(ze){pc(ze)})})},O=function(fe){return sf(fe,t,"body")},$=function(fe){return sf(fe,t,"footer")},V=function(fe,Se){Vt.block(fe,Se)},j=function(fe){Vt.unblock(fe)},ee=wn("modal-events"),ae=ne(ne({},t.eventOrder),(d={},d[ls()]=[ee].concat(t.eventOrder["alloy.system.attached"]||[]),d));return{uid:t.uid,dom:t.dom,components:r,apis:{show:C,hide:E,getBody:O,getFooter:$,setIdle:j,setBusy:V},eventOrder:ae,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:fi(t.modalBehaviours,[Qn.config({}),Fn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),Vt.config({getRoot:g.get}),ar(ee,[rr(function(fe){rY(fe.element,sf(fe,t,"title").element),nY(fe.element,sf(fe,t,"body").element)})])])}},Fi=xu({name:"ModalDialog",configFields:aY(),partFields:oY(),factory:iY,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),uY=$n([Xn("type"),Xn("name")].concat(Ig)),sY=si,yV=[Uo("name","name",Er(function(){return wn("button-name")}),yo),Ea("icon"),Os("align","end",["start","end"]),Ca("primary",!1),Ca("disabled",!1)],wV=_e(_e([],yV,!0),[Xn("text")],!1),E7=_e([Ts("type",["submit","cancel","custom"])],wV,!0),lY=_e([Ts("type",["menu"]),Ea("text"),Ea("tooltip"),Ea("icon"),Gi("items",uY)],yV,!0),cY=el("type",{submit:E7,cancel:E7,custom:E7,menu:lY}),fY=[Xn("type"),Xn("text"),Ts("level",["info","warn","error","success"]),Xn("icon"),Ve("url","")],vY=$n(fY),dY=function(t){return[Xn("type"),t]},mY=[Xn("type"),Xn("text"),Ca("disabled",!1),Ca("primary",!1),Uo("name","name",Er(function(){return wn("button-name")}),yo),Ea("icon"),Ca("borderless",!1)],hY=$n(mY),gY=[Xn("type"),Xn("name"),Xn("label"),Ca("disabled",!1)],pY=$n(gY),bY=si,T7=[Xn("type"),Xn("name")],Ed=T7.concat([Ea("label")]),yY=Ed.concat([Ve("columns","auto")]),wY=$n(yY),CY=s2([Xn("value"),Xn("text"),Xn("icon")]),SY=Ed,_Y=$n(SY),xY=yo,kY=Ed,AY=$n(kY),EY=yo,TY=T7.concat([Ch("tag","textarea"),Xn("scriptId"),Xn("scriptUrl"),Nu("settings",void 0)]),OY=T7.concat([Ch("tag","textarea"),tu("init")]),DY=yh(function(t){return Xa("customeditor.old",is(OY),t).orThunk(function(){return Xa("customeditor.new",is(TY),t)})}),RY=yo,$Y=Ed,BY=$n($Y),MY=A3(),PY=function(t){return[Xn("type"),Xf("columns"),t]},IY=[Xn("type"),Xn("html"),Os("presets","presentation",["presentation","document"])],NY=$n(IY),zY=Ed.concat([Ca("sandboxed",!0)]),FY=$n(zY),LY=yo,HY=Ed.concat([Iu("currentState",$n([xt("blob"),Xn("url")]))]),VY=$n(HY),UY=Ed.concat([Ea("inputMode"),Ea("placeholder"),Ca("maximized",!1),Ca("disabled",!1)]),WY=$n(UY),jY=yo,GY=function(t){return[Xn("type"),Xn("label"),t]},qY=[Xn("text"),Xn("value")],KY=[Xn("text"),Gi("items",E3("items",function(){return CV}))],CV=Cp([$n(qY),$n(KY)]),XY=Ed.concat([Gi("items",CV),Ca("disabled",!1)]),YY=$n(XY),JY=yo,ZY=Ed.concat([El("items",[Xn("text"),Xn("value")]),uc("size",1),Ca("disabled",!1)]),QY=$n(ZY),eJ=yo,tJ=Ed.concat([Ca("constrain",!0),Ca("disabled",!1)]),nJ=$n(tJ),SV=$n([Xn("width"),Xn("height")]),rJ=[Xn("type"),Gi("header",yo),Gi("cells",Kf(yo))],aJ=$n(rJ),oJ=Ed.concat([Ea("placeholder"),Ca("maximized",!1),Ca("disabled",!1)]),iJ=$n(oJ),uJ=yo,sJ=Ed.concat([Os("filetype","file",["image","media","file"]),Ve("disabled",!1)]),lJ=$n(sJ),cJ=$n([Xn("value"),Ve("meta",{})]),O7=function(t){return Uo("items","items",Zn(),Kf(yh(function(r){return Xa("Checking item of "+t,D7,r).fold(function(o){return cr.error(Nv(o))},function(o){return cr.value(o)})})))},D7=GS(function(){return yb("type",{alertbanner:vY,bar:$n(dY(O7("bar"))),button:hY,checkbox:pY,colorinput:_Y,colorpicker:AY,dropzone:BY,grid:$n(PY(O7("grid"))),iframe:FY,input:WY,listbox:YY,selectbox:QY,sizeinput:nJ,textarea:iJ,urlinput:lJ,customeditor:DY,htmlpanel:NY,imagetools:VY,collection:wY,label:$n(GY(O7("label"))),table:aJ,panel:_V})}),fJ=[Xn("type"),Ve("classes",[]),Gi("items",D7)],_V=$n(fJ),vJ=[Uo("name","name",Er(function(){return wn("tab-name")}),yo),Xn("title"),Gi("items",D7)],dJ=[Xn("type"),El("tabs",vJ)],mJ=$n(dJ),hJ=wV,gJ=cY,pJ=$n([Xn("title"),Iu("body",yb("type",{panel:_V,tabpanel:mJ})),Ch("size","normal"),Gi("buttons",gJ),Ve("initialData",{}),Ta("onAction",q),Ta("onChange",q),Ta("onSubmit",q),Ta("onClose",q),Ta("onCancel",q),Ve("onTabChange",q)]),bJ=function(t){return Xa("dialog",pJ,t)},yJ=$n(_e([Ts("type",["cancel","custom"])],hJ,!0)),wJ=$n([Xn("title"),Xn("url"),Ld("height"),Ld("width"),us("buttons",yJ),Ta("onAction",q),Ta("onCancel",q),Ta("onClose",q),Ta("onMessage",q)]),CJ=function(t){return Xa("dialog",wJ,t)},R7=function(t){return _(t)?[t].concat(Wt(_i(t),R7)):T(t)?Wt(t,R7):[]},SJ=function(t){return S(t.type)&&S(t.name)},_J={checkbox:bY,colorinput:xY,colorpicker:EY,dropzone:MY,input:jY,iframe:LY,sizeinput:SV,selectbox:eJ,listbox:JY,size:SV,textarea:uJ,urlinput:cJ,customeditor:RY,collection:CY,togglemenuitem:sY},xJ=function(t){return B.from(_J[t.type])},kJ=function(t){return Ae(R7(t),SJ)},AJ=function(t){var r=kJ(t),o=Wt(r,function(s){return xJ(s).fold(function(){return[]},function(d){return[Iu(s.name,d)]})});return $n(o)},xV=function(t){var r=Al(bJ(t)),o=AJ(t),s=t.initialData;return{internalDialog:r,dataValidator:o,initialData:s}},v5={open:function(t,r){var o=xV(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=Al(CJ(r));return t(o)},redial:function(t){return xV(t)}},kV=function(t){var r=[],o={};return Vr(t,function(s,d){s.fold(function(){r.push(d)},function(g){o[d]=g})}),r.length>0?cr.error(r):cr.value(o)},EJ=function(t,r){var o=oa(Ry.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Ue(t.items,function(d){return OA(s,d,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:Jt([Fn.config({mode:"acyclic",useTabstopAt:Ye(cS)}),yv.memento(o),Mm.memento(o,{postprocess:function(s){return kV(s).fold(function(d){return console.error(d),{}},Ee)}})])}},TJ=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:my(t.action),behaviours:fi(t.tabButtonBehaviours,[Yn.config({}),Fn.config({mode:"execution",useSpace:!0,useEnter:!0}),an.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},OJ=Ls({name:"TabButton",configFields:[Ve("uid",void 0),xt("value"),Uo("dom","dom",Ei(function(){return{attributes:{role:"tab",id:wn("aria"),"aria-selected":"false"}}}),kl()),Kr("action"),Ve("domModification",{}),Xo("tabButtonBehaviours",[Yn,Fn,an]),xt("view")],factory:TJ}),DJ=ue([xt("tabs"),xt("dom"),Ve("clickToDismiss",!1),Xo("tabbarBehaviours",[ta,Fn]),tm(["tabClass","selectedClass"])]),RJ=uf({factory:OJ,name:"tabs",unit:"tab",overrides:function(t){var r=function(s,d){ta.dehighlight(s,d),In(s,Oi(),{tabbar:s,button:d})},o=function(s,d){ta.highlight(s,d),In(s,t_(),{tabbar:s,button:d})};return{action:function(s){var d=s.getSystem().getByUid(t.uid).getOrDie(),g=ta.isHighlighted(d,s),C=function(){return g&&t.clickToDismiss?r:g?q:o}();C(d,s)},domModification:{classes:[t.markers.tabClass]}}}}),$J=ue([RJ]),BJ=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:fi(t.tabbarBehaviours,[ta.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(d,g){ur(g.element,"aria-selected","true")},onDehighlight:function(d,g){ur(g.element,"aria-selected","false")}}),Fn.config({mode:"flow",getInitial:function(d){return ta.getHighlighted(d).map(function(g){return g.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},AV=xu({name:"Tabbar",configFields:DJ(),partFields:$J(),factory:BJ}),MJ=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:fi(t.tabviewBehaviours,[Qn.config({})]),domModification:{attributes:{role:"tabpanel"}}}},PJ=Ls({name:"Tabview",configFields:[Xo("tabviewBehaviours",[Qn])],factory:MJ}),IJ=ue([Ve("selectFirst",!0),Xr("onChangeTab"),Xr("onDismissTab"),Ve("tabs",[]),Xo("tabSectionBehaviours",[])]),NJ=Ii({factory:AV,schema:[xt("dom"),Hc("markers",[xt("tabClass"),xt("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),zJ=Ii({factory:PJ,name:"tabview"}),FJ=ue([NJ,zJ]),LJ=function(t,r,o,s){var d=function(C){var E=an.getValue(C);pa(C,t,"tabview").each(function(O){var $=pt(t.tabs,function(V){return V.value===E});$.each(function(V){var j=V.view();Ka(C.element,"id").each(function(ee){ur(O.element,"aria-labelledby",ee)}),Qn.set(O,j),t.onChangeTab(O,C,j)})})},g=function(C,E){pa(C,t,"tabbar").each(function(O){E(O).each(Bs)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:vg(t.tabSectionBehaviours),events:Sa(it([t.selectFirst?[rr(function(C,E){g(C,ta.getFirst)})]:[],[Rt(t_(),function(C,E){var O=E.event.button;d(O)}),Rt(Oi(),function(C,E){var O=E.event.button;t.onDismissTab(C,O)})]])),apis:{getViewItems:function(C){return pa(C,t,"tabview").map(function(E){return Qn.contents(E)}).getOr([])},showTab:function(C,E){var O=function($){var V=ta.getCandidates($),j=pt(V,function(ee){return an.getValue(ee)===E});return j.filter(function(ee){return!ta.isHighlighted($,ee)})};g(C,O)}}}},ZA=xu({name:"TabSection",configFields:IJ(),partFields:FJ(),factory:LJ,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),HJ=function(t,r,o){return Ue(t,function(s,d){Qn.set(o,t[d].view());var g=r.dom.getBoundingClientRect();return Qn.set(o,[]),g.height})},VJ=function(t){return tr(sr(t,function(r,o){return r>o?-1:r<o?1:0}))},UJ=function(t,r,o){var s=yt(t).dom,d=Ub(t,".tox-dialog-wrap").getOr(t),g=ro(d,"position")==="fixed",C;g?C=Math.max(s.clientHeight,window.innerHeight):C=Math.max(s.offsetHeight,s.scrollHeight);var E=Mo(r),O=r.dom.offsetLeft>=o.dom.offsetLeft+Vi(o),$=O?Math.max(Mo(o),E):E,V=parseInt(ro(t,"margin-top"),10)||0,j=parseInt(ro(t,"margin-bottom"),10)||0,ee=Mo(t)+V+j,ae=ee-$;return C-ae},WJ=function(t,r){tr(t).each(function(o){return ZA.showTab(r,o.value)})},EV=function(t,r){jn(t,"height",r+"px"),Hn().browser.isIE()?qr(t,"flex-basis"):jn(t,"flex-basis",r+"px")},GM=function(t,r,o){Ub(t,'[role="dialog"]').each(function(s){jo(s,'[role="tablist"]').each(function(d){o.get().map(function(g){return jn(r,"height","0"),jn(r,"flex-basis","0"),Math.min(g,UJ(s,r,d))}).each(function(g){EV(r,g)})})})},$7=function(t){return jo(t,'[role="tabpanel"]')},jJ=function(t){var r=function(){var s=mo(),d=[rr(function(C){var E=C.element;$7(E).each(function(O){jn(O,"visibility","hidden"),C.getSystem().getByDom(O).toOptional().each(function($){var V=HJ(t,O,$),j=VJ(V);j.fold(s.clear,s.set)}),GM(E,O,s),qr(O,"visibility"),WJ(t,C),Pg.requestAnimationFrame(function(){GM(E,O,s)})})}),Rt($s(),function(C){var E=C.element;$7(E).each(function(O){GM(E,O,s)})}),Rt(PT,function(C,E){var O=C.element;$7(O).each(function($){var V=_u(xs($));jn($,"visibility","hidden");var j=ko($,"height").map(function(fe){return parseInt(fe,10)});qr($,"height"),qr($,"flex-basis");var ee=$.dom.getBoundingClientRect().height,ae=j.forall(function(fe){return ee>fe});ae?(s.set(ee),GM(O,$,s)):j.each(function(fe){EV($,fe)}),qr($,"visibility"),V.each(vc)})})],g=!1;return{extraEvents:d,selectFirst:g}}(),o=function(){var s=[],d=!0;return{extraEvents:s,selectFirst:d}}();return{smartTabHeight:r,naiveTabHeight:o}},TV="send-data-to-section",OV="send-data-to-view",GJ=function(t,r){var o=Pn({}),s=function(O){var $=an.getValue(O),V=kV($).getOr({}),j=o.get(),ee=bt(j,V);o.set(ee)},d=function(O){var $=o.get();an.setValue(O,$)},g=Pn(null),C=Ue(t.tabs,function(O){return{value:O.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(O.title)},view:function(){return[Ry.sketch(function($){return{dom:{tag:"div",classes:["tox-form"]},components:Ue(O.items,function(V){return OA($,V,r)}),formBehaviours:Jt([Fn.config({mode:"acyclic",useTabstopAt:Ye(cS)}),ar("TabView.form.events",[rr(d),Ms(s)]),nu.config({channels:Jf([{key:TV,value:{onReceive:s}},{key:OV,value:{onReceive:d}}])})])}})]}}}),E=jJ(C).smartTabHeight;return ZA.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(O,$,V){var j=an.getValue($);In(O,MT,{name:j,oldName:g.get()}),g.set(j)},tabs:C,components:[ZA.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[AV.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Jt([To.config({})])}),ZA.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:E.selectFirst,tabSectionBehaviours:Jt([ar("tabpanel",E.extraEvents),Fn.config({mode:"acyclic"}),Sr.config({find:function(O){return tr(ZA.getViewItems(O))}}),an.config({store:{mode:"manual",getValue:function(O){return O.getSystem().broadcastOn([TV],{}),o.get()},setValue:function(O,$){o.set($),O.getSystem().broadcastOn([OV],{})}}})])})},B7=wn("update-dialog"),DV=wn("update-title"),RV=wn("update-body"),$V=wn("update-footer"),BV=wn("body-send-message"),MV=function(t,r,o,s){var d=function(E){switch(E.body.type){case"tabpanel":return[GJ(E.body,o)];default:return[EJ(E.body,o)]}},g=function(E,O){return B.some({isTabPanel:function(){return O.body.type==="tabpanel"}})},C={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:ne(ne({},r.map(function(E){return{id:E}}).getOr({})),s?C:{})},components:[],behaviours:Jt([yv.childAt(0),kc.config({channel:RV,updateState:g,renderComponents:d,initialData:t})])}},qJ=function(t,r,o,s){return MV(t,B.some(r),o,s)},KJ=function(t,r){var o=MV(t,B.none(),r,!1);return Fi.parts.body(o)},XJ=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[hO({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Jt([To.config({}),Yn.config({})])})]}],behaviours:Jt([Fn.config({mode:"acyclic",useTabstopAt:Ye(cS)})])};return Fi.parts.body(r)};function kS(t){"@babel/helpers - typeof";return kS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kS(t)}function M7(t,r){return M7=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},M7(t,r)}function YJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qM(t,r,o){return YJ()?qM=Reflect.construct:qM=function(d,g,C){var E=[null];E.push.apply(E,g);var O=Function.bind.apply(d,E),$=new O;return C&&M7($,C.prototype),$},qM.apply(null,arguments)}function zm(t){return JJ(t)||ZJ(t)||QJ(t)||eZ()}function JJ(t){if(Array.isArray(t))return P7(t)}function ZJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QJ(t,r){if(t){if(typeof t=="string")return P7(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return P7(t,r)}}function P7(t,r){(r==null||r>t.length)&&(r=t.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=t[o];return s}function eZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tZ=Object.hasOwnProperty,PV=Object.setPrototypeOf,nZ=Object.isFrozen,rZ=Object.getPrototypeOf,aZ=Object.getOwnPropertyDescriptor,Ac=Object.freeze,Jg=Object.seal,oZ=Object.create,IV=typeof Reflect<"u"&&Reflect,KM=IV.apply,I7=IV.construct;KM||(KM=function(r,o,s){return r.apply(o,s)}),Ac||(Ac=function(r){return r}),Jg||(Jg=function(r){return r}),I7||(I7=function(r,o){return qM(r,zm(o))});var iZ=Fm(Array.prototype.forEach),NV=Fm(Array.prototype.pop),d5=Fm(Array.prototype.push),XM=Fm(String.prototype.toLowerCase),uZ=Fm(String.prototype.match),Hy=Fm(String.prototype.replace),sZ=Fm(String.prototype.indexOf),lZ=Fm(String.prototype.trim),Ec=Fm(RegExp.prototype.test),N7=cZ(TypeError);function Fm(t){return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),d=1;d<o;d++)s[d-1]=arguments[d];return KM(t,r,s)}}function cZ(t){return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return I7(t,o)}}function Da(t,r){PV&&PV(t,null);for(var o=r.length;o--;){var s=r[o];if(typeof s=="string"){var d=XM(s);d!==s&&(nZ(r)||(r[o]=d),s=d)}t[s]=!0}return t}function AS(t){var r=oZ(null),o;for(o in t)KM(tZ,t,[o])&&(r[o]=t[o]);return r}function YM(t,r){for(;t!==null;){var o=aZ(t,r);if(o){if(o.get)return Fm(o.get);if(typeof o.value=="function")return Fm(o.value)}t=rZ(t)}function s(d){return console.warn("fallback value for",d),null}return s}var zV=Ac(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),z7=Ac(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F7=Ac(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fZ=Ac(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),L7=Ac(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),vZ=Ac(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),FV=Ac(["#text"]),LV=Ac(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),H7=Ac(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),HV=Ac(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),JM=Ac(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),dZ=Jg(/\{\{[\w\W]*|[\w\W]*\}\}/gm),mZ=Jg(/<%[\w\W]*|[\w\W]*%>/gm),hZ=Jg(/^data-[\-\w.\u00B7-\uFFFF]/),gZ=Jg(/^aria-[\-\w]+$/),pZ=Jg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),bZ=Jg(/^(?:\w+script|data):/i),yZ=Jg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wZ=Jg(/^html$/i),CZ=function(){return typeof window>"u"?null:window},SZ=function(r,o){if(kS(r)!=="object"||typeof r.createPolicy!="function")return null;var s=null,d="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(d)&&(s=o.currentScript.getAttribute(d));var g="dompurify"+(s?"#"+s:"");try{return r.createPolicy(g,{createHTML:function(E){return E}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function VV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:CZ(),r=function(vt){return VV(vt)};if(r.version="2.3.8",r.removed=[],!t||!t.document||t.document.nodeType!==9)return r.isSupported=!1,r;var o=t.document,s=t.document,d=t.DocumentFragment,g=t.HTMLTemplateElement,C=t.Node,E=t.Element,O=t.NodeFilter,$=t.NamedNodeMap,V=$===void 0?t.NamedNodeMap||t.MozNamedAttrMap:$,j=t.HTMLFormElement,ee=t.DOMParser,ae=t.trustedTypes,fe=E.prototype,Se=YM(fe,"cloneNode"),ze=YM(fe,"nextSibling"),we=YM(fe,"childNodes"),Le=YM(fe,"parentNode");if(typeof g=="function"){var ft=s.createElement("template");ft.content&&ft.content.ownerDocument&&(s=ft.content.ownerDocument)}var ct=SZ(ae,o),Fe=ct?ct.createHTML(""):"",rt=s,Ct=rt.implementation,on=rt.createNodeIterator,Ot=rt.createDocumentFragment,ln=rt.getElementsByTagName,Mt=o.importNode,wt={};try{wt=AS(s).documentMode?s.documentMode:{}}catch{}var Kt={};r.isSupported=typeof Le=="function"&&Ct&&typeof Ct.createHTMLDocument<"u"&&wt!==9;var Cn=dZ,Et=mZ,bn=hZ,An=gZ,kr=bZ,ia=yZ,Pa=pZ,so=null,vl=Da({},[].concat(zm(zV),zm(z7),zm(F7),zm(L7),zm(FV))),Tu=null,QA=Da({},[].concat(zm(LV),zm(H7),zm(HV),zm(JM))),bi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K1=null,X1=null,ES=!0,Y1=!0,TS=!1,ys=!1,kv=!1,Ku=!1,OS=!1,Zg=!1,Vy=!1,yi=!1,Lm=!0,Qg=!0,J1=!1,Av={},ep=null,dn=Da({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),dr=null,la=Da({},["audio","video","img","source","image","track"]),Za=null,ws=Da({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xu="http://www.w3.org/1998/Math/MathML",dl="http://www.w3.org/2000/svg",Tc="http://www.w3.org/1999/xhtml",Uy=Tc,DS=!1,Wy,G7=["application/xhtml+xml","text/html"],q7="text/html",Z1,jy=null,YZ=s.createElement("form"),lU=function(vt){return vt instanceof RegExp||vt instanceof Function},K7=function(vt){jy&&jy===vt||((!vt||kS(vt)!=="object")&&(vt={}),vt=AS(vt),so="ALLOWED_TAGS"in vt?Da({},vt.ALLOWED_TAGS):vl,Tu="ALLOWED_ATTR"in vt?Da({},vt.ALLOWED_ATTR):QA,Za="ADD_URI_SAFE_ATTR"in vt?Da(AS(ws),vt.ADD_URI_SAFE_ATTR):ws,dr="ADD_DATA_URI_TAGS"in vt?Da(AS(la),vt.ADD_DATA_URI_TAGS):la,ep="FORBID_CONTENTS"in vt?Da({},vt.FORBID_CONTENTS):dn,K1="FORBID_TAGS"in vt?Da({},vt.FORBID_TAGS):{},X1="FORBID_ATTR"in vt?Da({},vt.FORBID_ATTR):{},Av="USE_PROFILES"in vt?vt.USE_PROFILES:!1,ES=vt.ALLOW_ARIA_ATTR!==!1,Y1=vt.ALLOW_DATA_ATTR!==!1,TS=vt.ALLOW_UNKNOWN_PROTOCOLS||!1,ys=vt.SAFE_FOR_TEMPLATES||!1,kv=vt.WHOLE_DOCUMENT||!1,Zg=vt.RETURN_DOM||!1,Vy=vt.RETURN_DOM_FRAGMENT||!1,yi=vt.RETURN_TRUSTED_TYPE||!1,OS=vt.FORCE_BODY||!1,Lm=vt.SANITIZE_DOM!==!1,Qg=vt.KEEP_CONTENT!==!1,J1=vt.IN_PLACE||!1,Pa=vt.ALLOWED_URI_REGEXP||Pa,Uy=vt.NAMESPACE||Tc,vt.CUSTOM_ELEMENT_HANDLING&&lU(vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bi.tagNameCheck=vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&lU(vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bi.attributeNameCheck=vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&typeof vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(bi.allowCustomizedBuiltInElements=vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Wy=G7.indexOf(vt.PARSER_MEDIA_TYPE)===-1?Wy=q7:Wy=vt.PARSER_MEDIA_TYPE,Z1=Wy==="application/xhtml+xml"?function(_n){return _n}:XM,ys&&(Y1=!1),Vy&&(Zg=!0),Av&&(so=Da({},zm(FV)),Tu=[],Av.html===!0&&(Da(so,zV),Da(Tu,LV)),Av.svg===!0&&(Da(so,z7),Da(Tu,H7),Da(Tu,JM)),Av.svgFilters===!0&&(Da(so,F7),Da(Tu,H7),Da(Tu,JM)),Av.mathMl===!0&&(Da(so,L7),Da(Tu,HV),Da(Tu,JM))),vt.ADD_TAGS&&(so===vl&&(so=AS(so)),Da(so,vt.ADD_TAGS)),vt.ADD_ATTR&&(Tu===QA&&(Tu=AS(Tu)),Da(Tu,vt.ADD_ATTR)),vt.ADD_URI_SAFE_ATTR&&Da(Za,vt.ADD_URI_SAFE_ATTR),vt.FORBID_CONTENTS&&(ep===dn&&(ep=AS(ep)),Da(ep,vt.FORBID_CONTENTS)),Qg&&(so["#text"]=!0),kv&&Da(so,["html","head","body"]),so.table&&(Da(so,["tbody"]),delete K1.tbody),Ac&&Ac(vt),jy=vt)},cU=Da({},["mi","mo","mn","ms","mtext"]),fU=Da({},["foreignobject","desc","title","annotation-xml"]),JZ=Da({},["title","style","font","a","script"]),ZM=Da({},z7);Da(ZM,F7),Da(ZM,fZ);var X7=Da({},L7);Da(X7,vZ);var ZZ=function(vt){var _n=Le(vt);(!_n||!_n.tagName)&&(_n={namespaceURI:Tc,tagName:"template"});var or=XM(vt.tagName),Fo=XM(_n.tagName);return vt.namespaceURI===dl?_n.namespaceURI===Tc?or==="svg":_n.namespaceURI===Xu?or==="svg"&&(Fo==="annotation-xml"||cU[Fo]):!!ZM[or]:vt.namespaceURI===Xu?_n.namespaceURI===Tc?or==="math":_n.namespaceURI===dl?or==="math"&&fU[Fo]:!!X7[or]:vt.namespaceURI===Tc?_n.namespaceURI===dl&&!fU[Fo]||_n.namespaceURI===Xu&&!cU[Fo]?!1:!X7[or]&&(JZ[or]||!ZM[or]):!1},Q1=function(vt){d5(r.removed,{element:vt});try{vt.parentNode.removeChild(vt)}catch{try{vt.outerHTML=Fe}catch{vt.remove()}}},vU=function(vt,_n){try{d5(r.removed,{attribute:_n.getAttributeNode(vt),from:_n})}catch{d5(r.removed,{attribute:null,from:_n})}if(_n.removeAttribute(vt),vt==="is"&&!Tu[vt])if(Zg||Vy)try{Q1(_n)}catch{}else try{_n.setAttribute(vt,"")}catch{}},dU=function(vt){var _n,or;if(OS)vt="<remove></remove>"+vt;else{var Fo=uZ(vt,/^[\r\n\t ]+/);or=Fo&&Fo[0]}Wy==="application/xhtml+xml"&&(vt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+vt+"</body></html>");var _f=ct?ct.createHTML(vt):vt;if(Uy===Tc)try{_n=new ee().parseFromString(_f,Wy)}catch{}if(!_n||!_n.documentElement){_n=Ct.createDocument(Uy,"template",null);try{_n.documentElement.innerHTML=DS?"":_f}catch{}}var Ul=_n.body||_n.documentElement;return vt&&or&&Ul.insertBefore(s.createTextNode(or),Ul.childNodes[0]||null),Uy===Tc?ln.call(_n,kv?"html":"body")[0]:kv?_n.documentElement:Ul},mU=function(vt){return on.call(vt.ownerDocument||vt,vt,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT,null,!1)},QZ=function(vt){return vt instanceof j&&(typeof vt.nodeName!="string"||typeof vt.textContent!="string"||typeof vt.removeChild!="function"||!(vt.attributes instanceof V)||typeof vt.removeAttribute!="function"||typeof vt.setAttribute!="function"||typeof vt.namespaceURI!="string"||typeof vt.insertBefore!="function")},m5=function(vt){return kS(C)==="object"?vt instanceof C:vt&&kS(vt)==="object"&&typeof vt.nodeType=="number"&&typeof vt.nodeName=="string"},eb=function(vt,_n,or){Kt[vt]&&iZ(Kt[vt],function(Fo){Fo.call(r,_n,or,jy)})},hU=function(vt){var _n;if(eb("beforeSanitizeElements",vt,null),QZ(vt)||Ec(/[\u0080-\uFFFF]/,vt.nodeName))return Q1(vt),!0;var or=Z1(vt.nodeName);if(eb("uponSanitizeElement",vt,{tagName:or,allowedTags:so}),vt.hasChildNodes()&&!m5(vt.firstElementChild)&&(!m5(vt.content)||!m5(vt.content.firstElementChild))&&Ec(/<[/\w]/g,vt.innerHTML)&&Ec(/<[/\w]/g,vt.textContent)||or==="select"&&Ec(/<template/i,vt.innerHTML))return Q1(vt),!0;if(!so[or]||K1[or]){if(!K1[or]&&pU(or)&&(bi.tagNameCheck instanceof RegExp&&Ec(bi.tagNameCheck,or)||bi.tagNameCheck instanceof Function&&bi.tagNameCheck(or)))return!1;if(Qg&&!ep[or]){var Fo=Le(vt)||vt.parentNode,_f=we(vt)||vt.childNodes;if(_f&&Fo)for(var Ul=_f.length,ml=Ul-1;ml>=0;--ml)Fo.insertBefore(Se(_f[ml],!0),ze(vt))}return Q1(vt),!0}return vt instanceof E&&!ZZ(vt)||(or==="noscript"||or==="noembed")&&Ec(/<\/no(script|embed)/i,vt.innerHTML)?(Q1(vt),!0):(ys&&vt.nodeType===3&&(_n=vt.textContent,_n=Hy(_n,Cn," "),_n=Hy(_n,Et," "),vt.textContent!==_n&&(d5(r.removed,{element:vt.cloneNode()}),vt.textContent=_n)),eb("afterSanitizeElements",vt,null),!1)},gU=function(vt,_n,or){if(Lm&&(_n==="id"||_n==="name")&&(or in s||or in YZ))return!1;if(!(Y1&&!X1[_n]&&Ec(bn,_n))){if(!(ES&&Ec(An,_n))){if(!Tu[_n]||X1[_n]){if(!(pU(vt)&&(bi.tagNameCheck instanceof RegExp&&Ec(bi.tagNameCheck,vt)||bi.tagNameCheck instanceof Function&&bi.tagNameCheck(vt))&&(bi.attributeNameCheck instanceof RegExp&&Ec(bi.attributeNameCheck,_n)||bi.attributeNameCheck instanceof Function&&bi.attributeNameCheck(_n))||_n==="is"&&bi.allowCustomizedBuiltInElements&&(bi.tagNameCheck instanceof RegExp&&Ec(bi.tagNameCheck,or)||bi.tagNameCheck instanceof Function&&bi.tagNameCheck(or))))return!1}else if(!Za[_n]){if(!Ec(Pa,Hy(or,ia,""))){if(!((_n==="src"||_n==="xlink:href"||_n==="href")&&vt!=="script"&&sZ(or,"data:")===0&&dr[vt])){if(!(TS&&!Ec(kr,Hy(or,ia,"")))){if(or)return!1}}}}}}return!0},pU=function(vt){return vt.indexOf("-")>0},bU=function(vt){var _n,or,Fo,_f;eb("beforeSanitizeAttributes",vt,null);var Ul=vt.attributes;if(Ul){var ml={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Tu};for(_f=Ul.length;_f--;){_n=Ul[_f];var QM=_n,Oc=QM.name,yU=QM.namespaceURI;if(or=Oc==="value"?_n.value:lZ(_n.value),Fo=Z1(Oc),ml.attrName=Fo,ml.attrValue=or,ml.keepAttr=!0,ml.forceKeepAttr=void 0,eb("uponSanitizeAttribute",vt,ml),or=ml.attrValue,!ml.forceKeepAttr&&(vU(Oc,vt),!!ml.keepAttr)){if(Ec(/\/>/i,or)){vU(Oc,vt);continue}ys&&(or=Hy(or,Cn," "),or=Hy(or,Et," "));var tQ=Z1(vt.nodeName);if(gU(tQ,Fo,or))try{yU?vt.setAttributeNS(yU,Oc,or):vt.setAttribute(Oc,or),NV(r.removed)}catch{}}}eb("afterSanitizeAttributes",vt,null)}},eQ=function Cr(vt){var _n,or=mU(vt);for(eb("beforeSanitizeShadowDOM",vt,null);_n=or.nextNode();)eb("uponSanitizeShadowNode",_n,null),!hU(_n)&&(_n.content instanceof d&&Cr(_n.content),bU(_n));eb("afterSanitizeShadowDOM",vt,null)};return r.sanitize=function(Cr,vt){var _n,or,Fo,_f,Ul;if(DS=!Cr,DS&&(Cr="<!-->"),typeof Cr!="string"&&!m5(Cr)){if(typeof Cr.toString!="function")throw N7("toString is not a function");if(Cr=Cr.toString(),typeof Cr!="string")throw N7("dirty is not a string, aborting")}if(!r.isSupported){if(kS(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Cr=="string")return t.toStaticHTML(Cr);if(m5(Cr))return t.toStaticHTML(Cr.outerHTML)}return Cr}if(Ku||K7(vt),r.removed=[],typeof Cr=="string"&&(J1=!1),J1){if(Cr.nodeName){var ml=Z1(Cr.nodeName);if(!so[ml]||K1[ml])throw N7("root node is forbidden and cannot be sanitized in-place")}}else if(Cr instanceof C)_n=dU("<!---->"),or=_n.ownerDocument.importNode(Cr,!0),or.nodeType===1&&or.nodeName==="BODY"||or.nodeName==="HTML"?_n=or:_n.appendChild(or);else{if(!Zg&&!ys&&!kv&&Cr.indexOf("<")===-1)return ct&&yi?ct.createHTML(Cr):Cr;if(_n=dU(Cr),!_n)return Zg?null:yi?Fe:""}_n&&OS&&Q1(_n.firstChild);for(var QM=mU(J1?Cr:_n);Fo=QM.nextNode();)Fo.nodeType===3&&Fo===_f||hU(Fo)||(Fo.content instanceof d&&eQ(Fo.content),bU(Fo),_f=Fo);if(_f=null,J1)return Cr;if(Zg){if(Vy)for(Ul=Ot.call(_n.ownerDocument);_n.firstChild;)Ul.appendChild(_n.firstChild);else Ul=_n;return Tu.shadowroot&&(Ul=Mt.call(o,Ul,!0)),Ul}var Oc=kv?_n.outerHTML:_n.innerHTML;return kv&&so["!doctype"]&&_n.ownerDocument&&_n.ownerDocument.doctype&&_n.ownerDocument.doctype.name&&Ec(wZ,_n.ownerDocument.doctype.name)&&(Oc="<!DOCTYPE "+_n.ownerDocument.doctype.name+`>
`+Oc),ys&&(Oc=Hy(Oc,Cn," "),Oc=Hy(Oc,Et," ")),ct&&yi?ct.createHTML(Oc):Oc},r.setConfig=function(Cr){K7(Cr),Ku=!0},r.clearConfig=function(){jy=null,Ku=!1},r.isValidAttribute=function(Cr,vt,_n){jy||K7({});var or=Z1(Cr),Fo=Z1(vt);return gU(or,Fo,_n)},r.addHook=function(Cr,vt){typeof vt=="function"&&(Kt[Cr]=Kt[Cr]||[],d5(Kt[Cr],vt))},r.removeHook=function(Cr){if(Kt[Cr])return NV(Kt[Cr])},r.removeHooks=function(Cr){Kt[Cr]&&(Kt[Cr]=[])},r.removeAllHooks=function(){Kt={}},r}var _Z=VV(),xZ=function(t){return _Z().sanitize(t)},kZ=Ik.deviceType.isTouch(),UV=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},WV=function(t,r){return Fi.parts.close(ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:Jt([To.config({})])}))},jV=function(){return Fi.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},GV=function(t,r){return Fi.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Zt("<p>"+xZ(r.translate(t))+"</p>")}]}]})},qV=function(t){return Fi.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},KV=function(t,r){return[ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},V7=function(t){var r,o="tox-dialog",s=o+"-wrap",d=s+"__backdrop",g=o+"__disable-scroll";return Fi.sketch({lazySink:t.lazySink,onEscape:function(C){return t.onEscape(C),B.some(!0)},useTabstopAt:function(C){return!cS(C)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:ne({position:"relative"},t.extraStyles)},components:_e([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:Zt('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:kZ?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:s,modalBehaviours:Jt(_e([Yn.config({}),ar("dialog-events",t.dialogEvents.concat([Eo(tl(),function(C,E){Fn.focusIn(C)})])),ar("scroll-lock",[rr(function(){Wo(Hi(),g)}),Ms(function(){Io(Hi(),g)})])],t.extraBehaviours,!0)),eventOrder:ne((r={},r[Rs()]=["dialog-events"],r[ls()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[Eh()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},XV=function(t){return ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[hv("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(r){Ur(r,E1)}})},YV=function(t,r,o){var s=function(d){return[Ri(o.translate(d.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:ne({},r.map(function(d){return{id:d}}).getOr({}))},components:s(t),behaviours:Jt([kc.config({channel:DV,renderComponents:s})])}},JV=function(){return{dom:Zt('<div class="tox-dialog__draghandle"></div>')}},AZ=function(t,r,o){return ku.sketch({dom:Zt('<div class="tox-dialog__header"></div>'),components:[YV(t,B.some(r),o),JV(),XV(o)],containerBehaviours:Jt([_S.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return al(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},EZ=function(t,r){var o=Fi.parts.title(YV(t,B.none(),r)),s=Fi.parts.draghandle(JV()),d=Fi.parts.close(XV(r)),g=[o].concat(t.draggable?[s]:[]).concat([d]);return ku.sketch({dom:Zt('<div class="tox-dialog__header"></div>'),components:g})},ZV=function(t,r){return EZ({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},QV=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:Zt('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},eU=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(s){Fi.setBusy(t(),function(d,g){return QV(s.message,g,r)})},onUnblock:function(){Fi.setIdle(t())}}},tU=function(t,r,o,s){var d,g=function(C,E){return B.some(E)};return La(V7(ne(ne({},t),{lazySink:s.shared.getSink,extraBehaviours:_e([kc.config({channel:B7,updateState:g,initialData:r}),Mm.memory({})],t.extraBehaviours,!0),onEscape:function(C){Ur(C,E1)},dialogEvents:o,eventOrder:(d={},d[nl()]=[kc.name(),nu.name()],d[ls()]=["scroll-lock",kc.name(),"messages","dialog-events","alloy.base.behaviour"],d[Eh()]=["alloy.base.behaviour","dialog-events","messages",kc.name(),"scroll-lock"],d)})))},nU=function(t){var r=function(o){var s=Ue(o.items,function(d){var g=Pn(!1);return ne(ne({},d),{storage:g})});return ne(ne({},o),{items:s})};return Ue(t,function(o){return o.type==="menu"?r(o):o})},rU=function(t){return et(t,function(r,o){if(o.type==="menu"){var s=o;return et(s.items,function(d,g){return d[g.name]=g.storage,d},r)}return r},{})},aU=function(t,r){return[Uv(tl(),V$),t(KC,function(o,s){r.onClose(),s.onClose()}),t(E1,function(o,s,d,g){s.onCancel(o),Ur(g,KC)}),Rt(BT,function(o,s){return r.onUnblock()}),Rt(_d,function(o,s){return r.onBlock(s.event)})]},TZ=function(t,r){var o=function(d,g){return Rt(d,function(C,E){s(C,function(O,$){g(t(),O,E.event,C)})})},s=function(d,g){kc.getState(d).get().each(function(C){g(C,d)})};return _e(_e([],aU(o,r),!0),[o(gv,function(d,g,C){g.onAction(d,{name:C.name})})],!1)},OZ=function(t,r,o){var s=function(g,C){return Rt(g,function(E,O){d(E,function($,V){C(t(),$,O.event,E)})})},d=function(g,C){kc.getState(g).get().each(function(E){C(E.internalDialog,g)})};return _e(_e([],aU(s,r),!0),[s(cl,function(g,C){return C.onSubmit(g)}),s(Ll,function(g,C,E){C.onChange(g,{name:E.name})}),s(gv,function(g,C,E,O){var $=function(){return Fn.focusIn(O)},V=function(ae){return db(ae,"disabled")||Ka(ae,"aria-disabled").exists(function(fe){return fe==="true"})},j=xs(O.element),ee=_u(j);C.onAction(g,{name:E.name,value:E.value}),_u(j).fold($,function(ae){V(ae)||ee.exists(function(fe){return Sl(ae,fe)&&V(fe)})?$():o().toOptional().filter(function(fe){return!Sl(fe.element,ae)}).each($)})}),s(MT,function(g,C,E){C.onTabChange(g,{newTabName:E.name,oldTabName:E.oldName})}),Ms(function(g){var C=t();an.setValue(g,C.getData())})],!1)},U7={initUrlDialog:TZ,initDialog:OZ},DZ=function(t,r){return CA(t,t.type,r)},RZ=function(t,r,o){return pt(r,function(s){return s.name===o}).bind(function(s){return s.memento.getOpt(t)})},$Z=function(t,r){var o=r.map(function(E){return E.footerButtons}).getOr([]),s=Te(o,function(E){return E.align==="start"}),d=function(E,O){return ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+E]},components:Ue(O,function($){return $.memento.asSpec()})})},g=d("start",s.pass),C=d("end",s.fail);return[g,C]},oU=function(t,r){var o=function(s,d){var g=Ue(d.buttons,function(E){var O=oa(DZ(E,r));return{name:E.name,align:E.align,memento:O}}),C=function(E,O){return RZ(E,g,O)};return B.some({lookupByName:C,footerButtons:g})};return{dom:Zt('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Jt([kc.config({channel:$V,initialData:t,updateState:o,renderComponents:$Z})])}},BZ=function(t,r){return oU(t,r)},iU=function(t,r){return Fi.parts.footer(oU(t,r))},W7=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var s=Sr.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Ry.getField(s,r).fold(function(){var d=t.getFooter(),g=kc.getState(d);return g.get().bind(function(C){return C.lookupByName(s,r)})},function(d){return B.some(d)})}else return B.none()},MZ=function(t,r){var o=t.getRoot();return kc.getState(o).get().map(function(s){return Al(Xa("data",s.dataValidator,r))}).getOr(r)},uU=function(t,r,o){var s=function(Se){var ze=t.getRoot();ze.getSystem().isConnected()&&Se(ze)},d=function(){var Se=t.getRoot(),ze=Se.getSystem().isConnected()?t.getFormWrapper():Se,we=an.getValue(ze),Le=lr(o,function(ft){return ft.get()});return ne(ne({},we),Le)},g=function(Se){s(function(ze){var we=fe.getData(),Le=ne(ne({},we),Se),ft=MZ(t,Le),ct=t.getFormWrapper();an.setValue(ct,ft),Vr(o,function(Fe,rt){Mr(Le,rt)&&Fe.set(Le[rt])})})},C=function(Se){W7(t,Se).each(Mn.disable)},E=function(Se){W7(t,Se).each(Mn.enable)},O=function(Se){W7(t,Se).each(Yn.focus)},$=function(Se){if(!S(Se))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(ze){In(ze,_d,{message:Se})})},V=function(){s(function(Se){Ur(Se,BT)})},j=function(Se){s(function(ze){var we=t.getBody(),Le=kc.getState(we);Le.get().exists(function(ft){return ft.isTabPanel()})&&Sr.getCurrent(we).each(function(ft){ZA.showTab(ft,Se)})})},ee=function(Se){s(function(ze){var we=r(Se);ze.getSystem().broadcastOn([B7],we),ze.getSystem().broadcastOn([DV],we.internalDialog),ze.getSystem().broadcastOn([RV],we.internalDialog),ze.getSystem().broadcastOn([$V],we.internalDialog),fe.setData(we.initialData)})},ae=function(){s(function(Se){Ur(Se,KC)})},fe={getData:d,setData:g,disable:C,enable:E,focus:O,block:$,unblock:V,showTab:j,redial:ee,close:ae};return fe},PZ=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},IZ=function(t,r,o){var s=ZV(t.internalDialog.title,o),d=KJ({body:t.internalDialog.body},o),g=nU(t.internalDialog.buttons),C=rU(g),E=iU({buttons:g},o),O=U7.initDialog(function(){return ae},eU(function(){return j},o.shared.providers,r),o.shared.getSink),$=PZ(t.internalDialog.size),V={header:s,body:d,footer:B.some(E),extraClasses:$,extraBehaviours:[],extraStyles:{}},j=tU(V,t,O,o),ee=function(){var fe=function(){var Se=Fi.getBody(j);return Sr.getCurrent(Se).getOr(Se)};return{getRoot:ue(j),getBody:function(){return Fi.getBody(j)},getFooter:function(){return Fi.getFooter(j)},getFormWrapper:fe}}(),ae=uU(ee,r.redial,C);return{dialog:j,instanceApi:ae}},NZ=function(t,r,o,s){var d,g,C=wn("dialog-label"),E=wn("dialog-content"),O=function(we,Le){return B.some(Le)},$=oa(AZ({title:t.internalDialog.title,draggable:!0},C,o.shared.providers)),V=oa(qJ({body:t.internalDialog.body},E,o,s)),j=nU(t.internalDialog.buttons),ee=rU(j),ae=oa(BZ({buttons:j},o)),fe=U7.initDialog(function(){return ze},{onBlock:function(we){Vt.block(Se,function(Le,ft){return QV(we.message,ft,o.shared.providers)})},onUnblock:function(){Vt.unblock(Se)},onClose:function(){return r.closeWindow()}},o.shared.getSink),Se=La({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(d={role:"dialog"},d["aria-labelledby"]=C,d["aria-describedby"]=E,d)},eventOrder:(g={},g[nl()]=[kc.name(),nu.name()],g[Rs()]=["execute-on-form"],g[ls()]=["reflecting","execute-on-form"],g),behaviours:Jt([Fn.config({mode:"cyclic",onEscape:function(we){return Ur(we,KC),B.some(!0)},useTabstopAt:function(we){return!cS(we)&&(Qu(we)!=="button"||za(we,"disabled")!=="disabled")}}),kc.config({channel:B7,updateState:O,initialData:t}),Yn.config({}),ar("execute-on-form",fe.concat([Eo(tl(),function(we,Le){Fn.focusIn(we)})])),Vt.config({getRoot:function(){return B.some(Se)}}),Qn.config({}),Mm.memory({})]),components:[$.asSpec(),V.asSpec(),ae.asSpec()]}),ze=uU({getRoot:ue(Se),getFooter:function(){return ae.get(Se)},getBody:function(){return V.get(Se)},getFormWrapper:function(){var we=V.get(Se);return Sr.getCurrent(we).getOr(we)}},r.redial,ee);return{dialog:Se,instanceApi:ze}},j7=tinymce.util.Tools.resolve("tinymce.util.URI"),zZ=function(t){var r=function(C){t.getSystem().isConnected()&&C(t)},o=function(C){if(!S(C))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(E){In(E,_d,{message:C})})},s=function(){r(function(C){Ur(C,BT)})},d=function(){r(function(C){Ur(C,KC)})},g=function(C){r(function(E){E.getSystem().broadcastOn([BV],C)})};return{block:o,unblock:s,close:d,sendMessage:g}},FZ=["insertContent","setContent","execCommand","close","block","unblock"],sU=function(t){return _(t)&&FZ.indexOf(t.mceAction)!==-1},LZ=function(t){return!sU(t)&&_(t)&&Mr(t,"mceAction")},HZ=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var s=F(o.ui)?o.ui:!1;t.execCommand(o.cmd,s,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},VZ=function(t,r,o,s){var d,g=ZV(t.title,s),C=XJ(t),E=t.buttons.bind(function(Le){return Le.length===0?B.none():B.some(iU({buttons:Le},s))}),O=U7.initUrlDialog(function(){return we},eU(function(){return ze},s.shared.providers,r)),$=ne(ne({},t.height.fold(function(){return{}},function(Le){return{height:Le+"px","max-height":Le+"px"}})),t.width.fold(function(){return{}},function(Le){return{width:Le+"px","max-width":Le+"px"}})),V=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],j=new j7(t.url,{base_uri:new j7(window.location.href)}),ee=j.protocol+"://"+j.host+(j.port?":"+j.port:""),ae=Uh(),fe=[ar("messages",[rr(function(){var Le=wo(sn.fromDom(window),"message",function(ft){if(j.isSameOrigin(new j7(ft.raw.origin))){var ct=ft.raw.data;sU(ct)?HZ(o,we,ct):LZ(ct)&&t.onMessage(we,ct)}});ae.set(Le)}),Ms(ae.clear)]),nu.config({channels:(d={},d[BV]={onReceive:function(Le,ft){jo(Le.element,"iframe").each(function(ct){var Fe=ct.dom.contentWindow;Fe.postMessage(ft,ee)})}},d)})],Se={header:g,body:C,footer:E,extraClasses:V,extraBehaviours:fe,extraStyles:$},ze=tU(Se,t,O,s),we=zZ(ze);return{dialog:ze,instanceApi:we}},UZ=function(t){var r=t.backstage.shared,o=function(s,d){var g=function(){Fi.hide($),d()},C=oa(CA({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:B.none()},"cancel",t.backstage)),E=jV(),O=WV(g,r.providers),$=La(V7({lazySink:function(){return r.getSink()},header:UV(E,O),body:GV(s,r.providers),footer:B.some(qV(KV([],[C.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rt(E1,g)],eventOrder:{}}));Fi.show($);var V=C.get($);Yn.focus(V)};return{open:o}},WZ=function(t){var r=t.backstage.shared,o=function(s,d){var g=function(ee){Fi.hide(V),d(ee)},C=oa(CA({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:B.none()},"submit",t.backstage)),E=CA({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:B.none()},"cancel",t.backstage),O=jV(),$=WV(function(){return g(!1)},r.providers),V=La(V7({lazySink:function(){return r.getSink()},header:UV(O,$),body:GV(s,r.providers),footer:B.some(qV(KV([],[E,C.asSpec()]))),onEscape:function(){return g(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rt(E1,function(){return g(!1)}),Rt(cl,function(){return g(!0)})],eventOrder:{}}));Fi.show(V);var j=C.get(V);Yn.focus(j)};return{open:o}},jZ=function(t,r){return Al(Xa("data",r,t))},GZ=function(t){return WC(t,".tox-alert-dialog")||WC(t,".tox-confirm-dialog")},qZ=function(t,r,o){return r&&o?[]:[Do.config({contextual:{lazyContext:function(){return B.some(Ao(sn.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},KZ=function(t){var r=t.backstage,o=t.editor,s=Bk(o),d=UZ(t),g=WZ(t),C=function(fe,Se,ze){return Se!==void 0&&Se.inline==="toolbar"?V(fe,r.shared.anchors.inlineDialog(),ze,Se.ariaAttrs):Se!==void 0&&Se.inline==="cursor"?V(fe,r.shared.anchors.cursor(),ze,Se.ariaAttrs):$(fe,ze)},E=function(fe,Se){return O(fe,Se)},O=function(fe,Se){var ze=function(we){var Le=VZ(we,{closeWindow:function(){Fi.hide(Le.dialog),Se(Le.instanceApi)}},o,r);return Fi.show(Le.dialog),Le.instanceApi};return v5.openUrl(ze,fe)},$=function(fe,Se){var ze=function(we,Le,ft){var ct=Le,Fe={dataValidator:ft,initialData:ct,internalDialog:we},rt=IZ(Fe,{redial:v5.redial,closeWindow:function(){Fi.hide(rt.dialog),Se(rt.instanceApi)}},r);return Fi.show(rt.dialog),rt.instanceApi.setData(ct),rt.instanceApi};return v5.open(ze,fe)},V=function(fe,Se,ze,we){var Le=function(ft,ct,Fe){var rt=jZ(ct,Fe),Ct=mo(),on=r.shared.header.isPositionedAtTop(),Ot={dataValidator:Fe,initialData:rt,internalDialog:ft},ln=function(){return Ct.on(function(Kt){ca.reposition(Kt),Do.refresh(Kt)})},Mt=NZ(Ot,{redial:v5.redial,closeWindow:function(){Ct.on(ca.hide),o.off("ResizeEditor",ln),Ct.clear(),ze(Mt.instanceApi)}},r,we),wt=La(ca.sketch(ne(ne({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},on?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Jt(_e([ar("window-manager-inline-events",[Rt(Dl(),function(Kt,Cn){Ur(Mt.dialog,E1)})])],qZ(o,s,on),!0)),isExtraPart:function(Kt,Cn){return GZ(Cn)}})));return Ct.set(wt),ca.showWithin(wt,zs(Mt.dialog),{anchor:Se},B.some(Hi())),(!s||!on)&&(Do.refresh(wt),o.on("ResizeEditor",ln)),Mt.instanceApi.setData(rt),Fn.focusIn(Mt.dialog),Mt.instanceApi};return v5.open(Le,fe)},j=function(fe,Se){g.open(fe,function(ze){Se(ze)})},ee=function(fe,Se){d.open(fe,function(){Se()})},ae=function(fe){fe.close()};return{open:C,openUrl:E,alert:ee,close:ae,confirm:j}};function XZ(){Me.add("silver",function(t){var r=tY(t),o=r.uiMothership,s=r.backstage,d=r.renderUI,g=r.getUi;mI.register(t,s.shared);var C=KZ({editor:t,backstage:s});return{renderUI:d,getWindowManagerImpl:ue(C),getNotificationManagerImpl:function(){return FE(t,{backstage:s},o)},ui:g()}})}XZ()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(U,_e,Qe){var se=_e==="UL"?"InsertUnorderedList":"InsertOrderedList";U.execCommand(se,!1,Qe===!1?null:{"list-style-type":Qe})},b=function(U){U.addCommand("ApplyUnorderedListStyle",function(_e,Qe){m(U,"UL",Qe["list-style-type"])}),U.addCommand("ApplyOrderedListStyle",function(_e,Qe){m(U,"OL",Qe["list-style-type"])})},y=tinymce.util.Tools.resolve("tinymce.util.Tools"),S=function(U){var _e=U.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return _e?_e.split(/[ ,]/):[]},_=function(U){var _e=U.getParam("advlist_bullet_styles","default,circle,square");return _e?_e.split(/[ ,]/):[]},T=function(){},D=function(U){return function(){return U}},F=function(U){return U},W=D(!1),I=D(!0),L=function(){return P},P=function(){var U=function(se){return se()},_e=F,Qe={fold:function(se,ge){return se()},isSome:W,isNone:I,getOr:_e,getOrThunk:U,getOrDie:function(se){throw new Error(se||"error: getOrDie called on none.")},getOrNull:D(null),getOrUndefined:D(void 0),or:_e,orThunk:U,map:L,each:T,bind:L,exists:W,forall:I,filter:function(){return L()},toArray:function(){return[]},toString:D("none()")};return Qe}(),H=function(U){var _e=D(U),Qe=function(){return ge},se=function(ut){return ut(U)},ge={fold:function(ut,B){return B(U)},isSome:I,isNone:W,getOr:_e,getOrThunk:_e,getOrDie:_e,getOrNull:_e,getOrUndefined:_e,or:Qe,orThunk:Qe,map:function(ut){return H(ut(U))},each:function(ut){ut(U)},bind:se,exists:se,forall:se,filter:function(ut){return ut(U)?ge:P},toArray:function(){return[U]},toString:function(){return"some("+U+")"}};return ge},Y=function(U){return U==null?P:H(U)},q={some:H,none:L,from:Y},$e=function(U,_e){return U.$.contains(U.getBody(),_e)},de=function(U){return U&&/^(TH|TD)$/.test(U.nodeName)},Be=function(U){return function(_e){return _e&&/^(OL|UL|DL)$/.test(_e.nodeName)&&$e(U,_e)}},ue=function(U){var _e=U.dom.getParent(U.selection.getNode(),"ol,ul"),Qe=U.dom.getStyle(_e,"listStyleType");return q.from(Qe)},Ee=function(U,_e){for(var Qe=0;Qe<U.length;Qe++){var se=U[Qe];if(_e(se))return Qe}return-1},De=function(U){return U.replace(/\-/g," ").replace(/\b\w/g,function(_e){return _e.toUpperCase()})},ke=function(U,_e,Qe){var se=Ee(_e.parents,de),ge=se!==-1?_e.parents.slice(0,se):_e.parents,ut=y.grep(ge,Be(U));return ut.length>0&&ut[0].nodeName===Qe},Ye=function(U,_e){return function(Qe){var se=function(ge){Qe.setActive(ke(U,ge,_e))};return U.on("NodeChange",se),function(){return U.off("NodeChange",se)}}},le=function(U,_e,Qe,se,ge,ut){U.ui.registry.addSplitButton(_e,{tooltip:Qe,icon:ge==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(B){var _t=y.map(ut,function(at){var ot=ge==="OL"?"num":"bull",kn=at==="disc"||at==="decimal"?"default":at,cn=at==="default"?"":at,lt=De(at);return{type:"choiceitem",value:cn,icon:"list-"+ot+"-"+kn,text:lt}});B(_t)},onAction:function(){return U.execCommand(se)},onItemAction:function(B,_t){m(U,ge,_t)},select:function(B){var _t=ue(U);return _t.map(function(at){return B===at}).getOr(!1)},onSetup:Ye(U,ge)})},pe=function(U,_e,Qe,se,ge,ut){U.ui.registry.addToggleButton(_e,{active:!1,tooltip:Qe,icon:ge==="OL"?"ordered-list":"unordered-list",onSetup:Ye(U,ge),onAction:function(){return U.execCommand(se)}})},ye=function(U,_e,Qe,se,ge,ut){ut.length>1?le(U,_e,Qe,se,ge,ut):pe(U,_e,Qe,se,ge)},Me=function(U){ye(U,"numlist","Numbered list","InsertOrderedList","OL",S(U)),ye(U,"bullist","Bullet list","InsertUnorderedList","UL",_(U))};function ne(){f.add("advlist",function(U){U.hasPlugin("lists")?(Me(U),b(U)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}ne()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(D,F){D.focus(),D.undoManager.transact(function(){D.setContent(F)}),D.selection.setCursorLocation(),D.nodeChanged()},b=function(D){return D.getContent({source_view:!0})},y=function(D){var F=b(D);D.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:F},onSubmit:function(W){m(D,W.getData().code),W.close()}})},S=function(D){D.addCommand("mceCodeEditor",function(){y(D)})},_=function(D){var F=function(){return D.execCommand("mceCodeEditor")};D.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:F}),D.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:F})};function T(){f.add("code",function(D){return S(D),_(D),{}})}T()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=tinymce.util.Tools.resolve("tinymce.util.VK"),b=function(oe){var Ne=typeof oe;return oe===null?"null":Ne==="object"&&(Array.prototype.isPrototypeOf(oe)||oe.constructor&&oe.constructor.name==="Array")?"array":Ne==="object"&&(String.prototype.isPrototypeOf(oe)||oe.constructor&&oe.constructor.name==="String")?"string":Ne},y=function(oe){return function(Ne){return b(Ne)===oe}},S=function(oe){return function(Ne){return typeof Ne===oe}},_=function(oe){return function(Ne){return oe===Ne}},T=y("string"),D=y("array"),F=_(null),W=S("boolean"),I=S("function"),L=function(){},P=function(oe){return function(){return oe}},H=function(oe){return oe},Y=function(oe,Ne){return oe===Ne},q=P(!1),$e=P(!0),de=function(){return Be},Be=function(){var oe=function(kt){return kt()},Ne=H,Xe={fold:function(kt,Gt){return kt()},isSome:q,isNone:$e,getOr:Ne,getOrThunk:oe,getOrDie:function(kt){throw new Error(kt||"error: getOrDie called on none.")},getOrNull:P(null),getOrUndefined:P(void 0),or:Ne,orThunk:oe,map:de,each:L,bind:de,exists:q,forall:$e,filter:function(){return de()},toArray:function(){return[]},toString:P("none()")};return Xe}(),ue=function(oe){var Ne=P(oe),Xe=function(){return Gt},kt=function(Rn){return Rn(oe)},Gt={fold:function(Rn,aa){return aa(oe)},isSome:$e,isNone:q,getOr:Ne,getOrThunk:Ne,getOrDie:Ne,getOrNull:Ne,getOrUndefined:Ne,or:Xe,orThunk:Xe,map:function(Rn){return ue(Rn(oe))},each:function(Rn){Rn(oe)},bind:kt,exists:kt,forall:kt,filter:function(Rn){return Rn(oe)?Gt:Be},toArray:function(){return[oe]},toString:function(){return"some("+oe+")"}};return Gt},Ee=function(oe){return oe==null?Be:ue(oe)},De={some:ue,none:de,from:Ee},ke=Array.prototype.indexOf,Ye=Array.prototype.push,le=function(oe,Ne){return ke.call(oe,Ne)},pe=function(oe,Ne){return le(oe,Ne)>-1},ye=function(oe,Ne){for(var Xe=oe.length,kt=new Array(Xe),Gt=0;Gt<Xe;Gt++){var Rn=oe[Gt];kt[Gt]=Ne(Rn,Gt)}return kt},Me=function(oe,Ne){for(var Xe=0,kt=oe.length;Xe<kt;Xe++){var Gt=oe[Xe];Ne(Gt,Xe)}},ne=function(oe,Ne,Xe){return Me(oe,function(kt,Gt){Xe=Ne(Xe,kt,Gt)}),Xe},U=function(oe){for(var Ne=[],Xe=0,kt=oe.length;Xe<kt;++Xe){if(!D(oe[Xe]))throw new Error("Arr.flatten item "+Xe+" was not an array, input: "+oe);Ye.apply(Ne,oe[Xe])}return Ne},_e=function(oe,Ne){return U(ye(oe,Ne))},Qe=function(oe,Ne){for(var Xe=0;Xe<oe.length;Xe++){var kt=Ne(oe[Xe],Xe);if(kt.isSome())return kt}return De.none()},se=function(oe,Ne,Xe){return Xe===void 0&&(Xe=Y),oe.exists(function(kt){return Xe(kt,Ne)})},ge=function(oe){for(var Ne=[],Xe=function(Gt){Ne.push(Gt)},kt=0;kt<oe.length;kt++)oe[kt].each(Xe);return Ne},ut=function(oe,Ne){return oe?De.some(Ne):De.none()},B=function(oe){var Ne=oe.getParam("link_assume_external_targets",!1);return W(Ne)&&Ne?1:T(Ne)&&(Ne==="http"||Ne==="https")?Ne:0},_t=function(oe){return oe.getParam("link_context_toolbar",!1,"boolean")},at=function(oe){return oe.getParam("link_list")},ot=function(oe){return oe.getParam("default_link_target")},kn=function(oe){return oe.getParam("target_list",!0)},cn=function(oe){return oe.getParam("rel_list",[],"array")},lt=function(oe){return oe.getParam("link_class_list",[],"array")},Sn=function(oe){return oe.getParam("link_title",!0,"boolean")},te=function(oe){return oe.getParam("allow_unsafe_link_target",!1,"boolean")},fn=function(oe){return oe.getParam("link_quicklink",!1,"boolean")},Ue=function(oe){return oe.getParam("link_default_protocol","http","string")},gt=tinymce.util.Tools.resolve("tinymce.util.Tools"),qn=function(oe){return T(oe.value)?oe.value:""},Te=function(oe){return T(oe.text)?oe.text:T(oe.title)?oe.title:""},Ae=function(oe,Ne){var Xe=[];return gt.each(oe,function(kt){var Gt=Te(kt);if(kt.menu!==void 0){var Rn=Ae(kt.menu,Ne);Xe.push({text:Gt,items:Rn})}else{var aa=Ne(kt);Xe.push({text:Gt,value:aa})}}),Xe},Je=function(oe){return oe===void 0&&(oe=qn),function(Ne){return De.from(Ne).map(function(Xe){return Ae(Xe,oe)})}},et=function(oe){return Je(qn)(oe)},He=function(oe,Ne){return function(Xe){return{name:oe,type:"listbox",label:Ne,items:Xe}}},pt={sanitize:et,sanitizeWith:Je,createUi:He,getValue:qn},Yt=function(){return Yt=Object.assign||function(Ne){for(var Xe,kt=1,Gt=arguments.length;kt<Gt;kt++){Xe=arguments[kt];for(var Rn in Xe)Object.prototype.hasOwnProperty.call(Xe,Rn)&&(Ne[Rn]=Xe[Rn])}return Ne},Yt.apply(this,arguments)},it=Object.keys,Wt=Object.hasOwnProperty,Dt=function(oe,Ne){for(var Xe=it(oe),kt=0,Gt=Xe.length;kt<Gt;kt++){var Rn=Xe[kt],aa=oe[Rn];Ne(aa,Rn)}},zt=function(oe){return function(Ne,Xe){oe[Xe]=Ne}},rn=function(oe,Ne,Xe,kt){var Gt={};return Dt(oe,function(Rn,aa){(Ne(Rn,aa)?Xe:kt)(Rn,aa)}),Gt},pn=function(oe,Ne){var Xe={};return rn(oe,Ne,zt(Xe),L),Xe},Gn=function(oe,Ne){return Wt.call(oe,Ne)},sr=function(oe,Ne){return Gn(oe,Ne)&&oe[Ne]!==void 0&&oe[Ne]!==null},Gr=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),tr=tinymce.util.Tools.resolve("tinymce.util.URI"),ua=function(oe){return oe&&oe.nodeName.toLowerCase()==="a"},va=function(oe){return ua(oe)&&!!da(oe)},Zr=function(oe,Ne){if(oe.collapsed)return[];var Xe=oe.cloneContents(),kt=new Gr(Xe.firstChild,Xe),Gt=[],Rn=Xe.firstChild;do Ne(Rn)&&Gt.push(Rn);while(Rn=kt.next());return Gt},Lr=function(oe){return/^\w+:/i.test(oe)},da=function(oe){var Ne=oe.getAttribute("data-mce-href");return Ne||oe.getAttribute("href")},Vr=function(oe,Ne){var Xe=["noopener"],kt=oe?oe.split(/\s+/):[],Gt=function(pr){return gt.trim(pr.sort().join(" "))},Rn=function(pr){return pr=aa(pr),pr.length>0?pr.concat(Xe):Xe},aa=function(pr){return pr.filter(function(Na){return gt.inArray(Xe,Na)===-1})},ha=Ne?Rn(kt):aa(kt);return ha.length>0?Gt(ha):""},lr=function(oe){return oe.replace(/\uFEFF/g,"")},Ia=function(oe,Ne){return Ne=Ne||oe.selection.getNode(),Ju(Ne)?oe.dom.select("a[href]",Ne)[0]:oe.dom.getParent(Ne,"a[href]")},Zi=function(oe,Ne){var Xe=Ne?Ne.innerText||Ne.textContent:oe.getContent({format:"text"});return lr(Xe)},Kl=function(oe){return gt.grep(oe,va).length>0},Hr=function(oe){return Zr(oe,va).length>0},Si=function(oe){var Ne=oe.schema.getTextInlineElements(),Xe=function(Gt){return Gt.nodeType===1&&!ua(Gt)&&!Gn(Ne,Gt.nodeName.toLowerCase())},kt=Zr(oe.selection.getRng(),Xe);return kt.length===0},Ju=function(oe){return oe&&oe.nodeName==="FIGURE"&&/\bimage\b/i.test(oe.className)},_i=function(oe){var Ne=["title","rel","class","target"];return ne(Ne,function(Xe,kt){return oe[kt].each(function(Gt){Xe[kt]=Gt.length>0?Gt:null}),Xe},{href:oe.href})},En=function(oe,Ne){return(Ne==="http"||Ne==="https")&&!Lr(oe)?Ne+"://"+oe:oe},Mr=function(oe,Ne){var Xe=Yt({},Ne);if(!(cn(oe).length>0)&&te(oe)===!1){var kt=Vr(Xe.rel,Xe.target==="_blank");Xe.rel=kt||null}return De.from(Xe.target).isNone()&&kn(oe)===!1&&(Xe.target=ot(oe)),Xe.href=En(Xe.href,B(oe)),Xe},lo=function(oe,Ne,Xe,kt){Xe.each(function(Gt){Gn(Ne,"innerText")?Ne.innerText=Gt:Ne.textContent=Gt}),oe.dom.setAttribs(Ne,kt),oe.selection.select(Ne)},lu=function(oe,Ne,Xe,kt){Ju(Ne)?Ev(oe,Ne,kt):Xe.fold(function(){oe.execCommand("mceInsertLink",!1,kt)},function(Gt){oe.insertContent(oe.dom.createHTML("a",kt,oe.dom.encode(Gt)))})},Zu=function(oe,Ne,Xe){var kt=oe.selection.getNode(),Gt=Ia(oe,kt),Rn=Mr(oe,_i(Xe));oe.undoManager.transact(function(){Xe.href===Ne.href&&Ne.attach(),Gt?(oe.focus(),lo(oe,Gt,Xe.text,Rn)):lu(oe,kt,Xe.text,Rn)})},Pr=function(oe){var Ne=oe.dom,Xe=oe.selection,kt=Xe.getBookmark(),Gt=Xe.getRng().cloneRange(),Rn=Ne.getParent(Gt.startContainer,"a[href]",oe.getBody()),aa=Ne.getParent(Gt.endContainer,"a[href]",oe.getBody());Rn&&Gt.setStartBefore(Rn),aa&&Gt.setEndAfter(aa),Xe.setRng(Gt),oe.execCommand("unlink"),Xe.moveToBookmark(kt)},Ar=function(oe){oe.undoManager.transact(function(){var Ne=oe.selection.getNode();Ju(Ne)?Rc(oe,Ne):Pr(oe),oe.focus()})},Gs=function(oe){var Ne=oe.class,Xe=oe.href,kt=oe.rel,Gt=oe.target,Rn=oe.text,aa=oe.title;return pn({class:Ne.getOrNull(),href:Xe,rel:kt.getOrNull(),target:Gt.getOrNull(),text:Rn.getOrNull(),title:aa.getOrNull()},function(ha,pr){return F(ha)===!1})},Qm=function(oe,Ne){var Xe=Ne.href;return Yt(Yt({},Ne),{href:tr.isDomSafe(Xe,"a",oe.settings)?Xe:""})},Of=function(oe,Ne,Xe){var kt=Qm(oe,Xe);oe.hasPlugin("rtc",!0)?oe.execCommand("createlink",!1,Gs(kt)):Zu(oe,Ne,kt)},qs=function(oe){oe.hasPlugin("rtc",!0)?oe.execCommand("unlink"):Ar(oe)},Rc=function(oe,Ne){var Xe=oe.dom.select("img",Ne)[0];if(Xe){var kt=oe.dom.getParents(Xe,"a[href]",Ne)[0];kt&&(kt.parentNode.insertBefore(Xe,kt),oe.dom.remove(kt))}},Ev=function(oe,Ne,Xe){var kt=oe.dom.select("img",Ne)[0];if(kt){var Gt=oe.dom.create("a",Xe);kt.parentNode.insertBefore(Gt,kt),Gt.appendChild(kt)}},gl=function(oe){return sr(oe,"items")},pl=function(oe,Ne){return Qe(Ne,function(Xe){return gl(Xe)?pl(oe,Xe.items):ut(Xe.value===oe,Xe)})},Df=function(oe,Ne,Xe,kt){var Gt=kt[Ne],Rn=oe.length>0;return Gt!==void 0?pl(Gt,Xe).map(function(aa){return{url:{value:aa.value,meta:{text:Rn?oe:aa.text,attach:L}},text:Rn?oe:aa.text}}):De.none()},ma=function(oe,Ne){return Ne==="link"?oe.link:Ne==="anchor"?oe.anchor:De.none()},Ks=function(oe,Ne){var Xe={text:oe.text,title:oe.title},kt=function(pr){return ut(Xe.title.length<=0,De.from(pr.meta.title).getOr(""))},Gt=function(pr){return ut(Xe.text.length<=0,De.from(pr.meta.text).getOr(pr.value))},Rn=function(pr){var Na=Gt(pr.url),qa=kt(pr.url);return Na.isSome()||qa.isSome()?De.some(Yt(Yt({},Na.map(function(Mc){return{text:Mc}}).getOr({})),qa.map(function(Mc){return{title:Mc}}).getOr({}))):De.none()},aa=function(pr,Na){var qa=ma(Ne,Na.name).getOr([]);return Df(Xe.text,Na.name,qa,pr)},ha=function(pr,Na){var qa=Na.name;return qa==="url"?Rn(pr()):pe(["anchor","link"],qa)?aa(pr(),Na):((qa==="text"||qa==="title")&&(Xe[qa]=pr()[qa]),De.none())};return{onChange:ha}},Wn={init:Ks,getDelta:Df},eh=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ou=tinymce.util.Tools.resolve("tinymce.util.Promise"),$c=function(oe,Ne,Xe){var kt=oe.selection.getRng();eh.setEditorTimeout(oe,function(){oe.windowManager.confirm(Ne,function(Gt){oe.selection.setRng(kt),Xe(Gt)})})},th=function(oe){var Ne=oe.href,Xe=Ne.indexOf("@")>0&&Ne.indexOf("/")===-1&&Ne.indexOf("mailto:")===-1;return Xe?De.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(kt){return Yt(Yt({},kt),{href:"mailto:"+Ne})}}):De.none()},Xl=function(oe,Ne){return function(Xe){var kt=Xe.href,Gt=oe===1&&!Lr(kt)||oe===0&&/^\s*www(\.|\d\.)/i.test(kt);return Gt?De.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+Ne+":// prefix?",preprocess:function(Rn){return Yt(Yt({},Rn),{href:Ne+"://"+kt})}}):De.none()}},nh=function(oe,Ne){return Qe([th,Xl(B(oe),Ue(oe))],function(Xe){return Xe(Ne)}).fold(function(){return Ou.resolve(Ne)},function(Xe){return new Ou(function(kt){$c(oe,Xe.message,function(Gt){kt(Gt?Xe.preprocess(Ne):Ne)})})})},Rf={preprocess:nh},rh=function(oe){var Ne=oe.dom.select("a:not([href])"),Xe=_e(Ne,function(kt){var Gt=kt.name||kt.id;return Gt?[{text:Gt,value:"#"+Gt}]:[]});return Xe.length>0?De.some([{text:"None",value:""}].concat(Xe)):De.none()},Ss={getAnchors:rh},Bc=function(oe){var Ne=lt(oe);return Ne.length>0?pt.sanitize(Ne):De.none()},sn={getClasses:Bc},$d=tinymce.util.Tools.resolve("tinymce.util.XHR"),Tv=function(oe){try{return De.some(JSON.parse(oe))}catch{return De.none()}},Ov=function(oe){var Ne=function(kt){return oe.convertURL(kt.value||kt.url,"href")},Xe=at(oe);return new Ou(function(kt){T(Xe)?$d.send({url:Xe,success:function(Gt){return kt(Tv(Gt))},error:function(Gt){return kt(De.none())}}):I(Xe)?Xe(function(Gt){return kt(De.some(Gt))}):kt(De.from(Xe))}).then(function(kt){return kt.bind(pt.sanitizeWith(Ne)).map(function(Gt){if(Gt.length>0){var Rn=[{text:"None",value:""}];return Rn.concat(Gt)}else return Gt})})},Yl={getLinks:Ov},Qu=function(oe,Ne){var Xe=cn(oe);if(Xe.length>0){var kt=se(Ne,"_blank"),Gt=te(oe)===!1,Rn=function(ha){return Vr(pt.getValue(ha),kt)},aa=Gt?pt.sanitizeWith(Rn):pt.sanitize;return aa(Xe)}return De.none()},ah={getRels:Qu},Bo=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],po=function(oe){var Ne=kn(oe);return D(Ne)?pt.sanitize(Ne).orThunk(function(){return De.some(Bo)}):Ne===!1?De.none():De.some(Bo)},Du={getTargets:po},Xs=function(oe,Ne,Xe){var kt=oe.getAttrib(Ne,Xe);return kt!==null&&kt.length>0?De.some(kt):De.none()},Bd=function(oe,Ne){var Xe=oe.dom,kt=Si(oe),Gt=kt?De.some(Zi(oe.selection,Ne)):De.none(),Rn=Ne?De.some(Xe.getAttrib(Ne,"href")):De.none(),aa=Ne?De.from(Xe.getAttrib(Ne,"target")):De.none(),ha=Xs(Xe,Ne,"rel"),pr=Xs(Xe,Ne,"class"),Na=Xs(Xe,Ne,"title");return{url:Rn,text:Gt,title:Na,target:aa,rel:ha,linkClass:pr}},es=function(oe,Ne){return Yl.getLinks(oe).then(function(Xe){var kt=Bd(oe,Ne);return{anchor:kt,catalogs:{targets:Du.getTargets(oe),rels:ah.getRels(oe,kt.target),classes:sn.getClasses(oe),anchor:Ss.getAnchors(oe),link:Xe},optNode:De.from(Ne),flags:{titleEnabled:Sn(oe)}}})},$f={collect:es},Md=function(oe,Ne){return function(Xe){var kt=Xe.getData();if(!kt.url.value){qs(oe),Xe.close();return}var Gt=function(ha){return De.from(kt[ha]).filter(function(pr){return!se(Ne.anchor[ha],pr)})},Rn={href:kt.url.value,text:Gt("text"),target:Gt("target"),rel:Gt("rel"),class:Gt("linkClass"),title:Gt("title")},aa={href:kt.url.value,attach:kt.url.meta!==void 0&&kt.url.meta.attach?kt.url.meta.attach:L};Rf.preprocess(oe,Rn).then(function(ha){Of(oe,aa,ha)}),Xe.close()}},bl=function(oe){var Ne=Ia(oe);return $f.collect(oe,Ne)},Ru=function(oe,Ne){var Xe=oe.anchor,kt=Xe.url.getOr("");return{url:{value:kt,meta:{original:{value:kt}}},text:Xe.text.getOr(""),title:Xe.title.getOr(""),anchor:kt,link:kt,rel:Xe.rel.getOr(""),target:Xe.target.or(Ne).getOr(""),linkClass:Xe.linkClass.getOr("")}},Qt=function(oe,Ne,Xe){var kt=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],Gt=oe.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),Rn=oe.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],aa=De.from(ot(Xe)),ha=Ru(oe,aa),pr=oe.catalogs,Na=Wn.init(ha,pr),qa={type:"panel",items:U([kt,Gt,Rn,ge([pr.anchor.map(pt.createUi("anchor","Anchors")),pr.rels.map(pt.createUi("rel","Rel")),pr.targets.map(pt.createUi("target","Open link in...")),pr.link.map(pt.createUi("link","Link list")),pr.classes.map(pt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:qa,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ha,onChange:function(Mc,Li){var Jl=Li.name;Na.onChange(Mc.getData,{name:Jl}).each(function(Hn){Mc.setData(Hn)})},onSubmit:Ne}},xi=function(oe){var Ne=bl(oe);Ne.then(function(Xe){var kt=Md(oe,Xe);return Qt(Xe,kt,oe)}).then(function(Xe){oe.windowManager.open(Xe)})},yl=function(oe,Ne){document.body.appendChild(oe),oe.dispatchEvent(Ne),document.body.removeChild(oe)},oh=function(oe){var Ne=document.createElement("a");Ne.target="_blank",Ne.href=oe,Ne.rel="noreferrer noopener";var Xe=document.createEvent("MouseEvents");Xe.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),yl(Ne,Xe)},Bf=function(oe,Ne){return oe.dom.getParent(Ne,"a[href]")},Qr=function(oe){return Bf(oe,oe.selection.getStart())},Dv=function(oe){return oe.altKey===!0&&oe.shiftKey===!1&&oe.ctrlKey===!1&&oe.metaKey===!1},wl=function(oe,Ne){if(Ne){var Xe=da(Ne);if(/^#/.test(Xe)){var kt=oe.$(Xe);kt.length&&oe.selection.scrollIntoView(kt[0],!0)}else oh(Ne.href)}},co=function(oe){return function(){xi(oe)}},Rv=function(oe){return function(){wl(oe,Qr(oe))}},cu=function(oe){oe.on("click",function(Ne){var Xe=Bf(oe,Ne.target);Xe&&m.metaKeyPressed(Ne)&&(Ne.preventDefault(),wl(oe,Xe))}),oe.on("keydown",function(Ne){var Xe=Qr(oe);Xe&&Ne.keyCode===13&&Dv(Ne)&&(Ne.preventDefault(),wl(oe,Xe))})},ts=function(oe,Ne){return oe.on("NodeChange",Ne),function(){return oe.off("NodeChange",Ne)}},Ra=function(oe){return function(Ne){var Xe=function(){return Ne.setActive(!oe.mode.isReadOnly()&&Ia(oe,oe.selection.getNode())!==null)};return Xe(),ts(oe,Xe)}},Mf=function(oe){return function(Ne){var Xe=function(){return Ne.setDisabled(Ia(oe,oe.selection.getNode())===null)};return Xe(),ts(oe,Xe)}},Pf=function(oe){return function(Ne){var Xe=function(Gt){return Kl(Gt)||Hr(oe.selection.getRng())},kt=oe.dom.getParents(oe.selection.getStart());return Ne.setDisabled(!Xe(kt)),ts(oe,function(Gt){return Ne.setDisabled(!Xe(Gt.parents))})}},$v=function(oe){oe.addCommand("mceLink",function(){fn(oe)?oe.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):co(oe)()})},Pd=function(oe){oe.addShortcut("Meta+K","",function(){oe.execCommand("mceLink")})},Cl=function(oe){oe.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:co(oe),onSetup:Ra(oe)}),oe.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Rv(oe),onSetup:Mf(oe)}),oe.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return qs(oe)},onSetup:Pf(oe)})},Ys=function(oe){oe.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Rv(oe),onSetup:Mf(oe)}),oe.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:co(oe)}),oe.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return qs(oe)},onSetup:Pf(oe)})},Bv=function(oe){var Ne="link unlink openlink",Xe="link";oe.ui.registry.addContextMenu("link",{update:function(kt){return Kl(oe.dom.getParents(kt,"a"))?Ne:Xe}})},_s=function(oe){var Ne=function(Gt){Gt.selection.collapse(!1)},Xe=function(Gt){var Rn=oe.selection.getNode();return Gt.setDisabled(!Ia(oe,Rn)),L},kt=function(Gt){var Rn=Ia(oe),aa=Si(oe);if(!Rn&&aa){var ha=Zi(oe.selection,Rn);return De.some(ha.length>0?ha:Gt)}else return De.none()};oe.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ra(oe)},label:"Link",predicate:function(Gt){return!!Ia(oe,Gt)&&_t(oe)},initValue:function(){var Gt=Ia(oe);return Gt?da(Gt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Gt){var Rn=oe.selection.getNode();return Gt.setActive(!!Ia(oe,Rn)),Ra(oe)(Gt)},onAction:function(Gt){var Rn=Gt.getValue(),aa=kt(Rn),ha={href:Rn,attach:L};Of(oe,ha,{href:Rn,text:aa,title:De.none(),rel:De.none(),target:De.none(),class:De.none()}),Ne(oe),Gt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Xe,onAction:function(Gt){qs(oe),Gt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Xe,onAction:function(Gt){Rv(oe)(),Gt.hide()}}]})};function $u(){f.add("link",function(oe){Cl(oe),Ys(oe),Bv(oe),_s(oe),cu(oe),$v(oe),Pd(oe)})}$u()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(M){var J=typeof M;return M===null?"null":J==="object"&&(Array.prototype.isPrototypeOf(M)||M.constructor&&M.constructor.name==="Array")?"array":J==="object"&&(String.prototype.isPrototypeOf(M)||M.constructor&&M.constructor.name==="String")?"string":J},b=function(M){return function(J){return m(J)===M}},y=function(M){return function(J){return typeof J===M}},S=b("string"),_=b("object"),T=b("array"),D=y("boolean"),F=y("function"),W=y("number"),I=function(){},L=function(M){return function(){return M}},P=function(M){return M},H=function(M,J){return M===J},Y=function(M){return function(J){return!M(J)}},q=L(!1),$e=L(!0),de=function(){return Be},Be=function(){var M=function(Ce){return Ce()},J=P,re={fold:function(Ce,Ge){return Ce()},isSome:q,isNone:$e,getOr:J,getOrThunk:M,getOrDie:function(Ce){throw new Error(Ce||"error: getOrDie called on none.")},getOrNull:L(null),getOrUndefined:L(void 0),or:J,orThunk:M,map:de,each:I,bind:de,exists:q,forall:$e,filter:function(){return de()},toArray:function(){return[]},toString:L("none()")};return re}(),ue=function(M){var J=L(M),re=function(){return Ge},Ce=function(bt){return bt(M)},Ge={fold:function(bt,xn){return xn(M)},isSome:$e,isNone:q,getOr:J,getOrThunk:J,getOrDie:J,getOrNull:J,getOrUndefined:J,or:re,orThunk:re,map:function(bt){return ue(bt(M))},each:function(bt){bt(M)},bind:Ce,exists:Ce,forall:Ce,filter:function(bt){return bt(M)?Ge:Be},toArray:function(){return[M]},toString:function(){return"some("+M+")"}};return Ge},Ee=function(M){return M==null?Be:ue(M)},De={some:ue,none:de,from:Ee},ke=Array.prototype.slice,Ye=Array.prototype.push,le=function(M,J){for(var re=M.length,Ce=new Array(re),Ge=0;Ge<re;Ge++){var bt=M[Ge];Ce[Ge]=J(bt,Ge)}return Ce},pe=function(M,J){for(var re=0,Ce=M.length;re<Ce;re++){var Ge=M[re];J(Ge,re)}},ye=function(M,J){for(var re=[],Ce=0,Ge=M.length;Ce<Ge;Ce++){var bt=M[Ce];J(bt,Ce)&&re.push(bt)}return re},Me=function(M,J){if(M.length===0)return[];for(var re=J(M[0]),Ce=[],Ge=[],bt=0,xn=M.length;bt<xn;bt++){var Zn=M[bt],Er=J(Zn);Er!==re&&(Ce.push(Ge),Ge=[]),re=Er,Ge.push(Zn)}return Ge.length!==0&&Ce.push(Ge),Ce},ne=function(M,J,re){return pe(M,function(Ce,Ge){re=J(re,Ce,Ge)}),re},U=function(M,J,re){for(var Ce=0,Ge=M.length;Ce<Ge;Ce++){var bt=M[Ce];if(J(bt,Ce))return De.some(bt);if(re(bt,Ce))break}return De.none()},_e=function(M,J){return U(M,J,q)},Qe=function(M){for(var J=[],re=0,Ce=M.length;re<Ce;++re){if(!T(M[re]))throw new Error("Arr.flatten item "+re+" was not an array, input: "+M);Ye.apply(J,M[re])}return J},se=function(M,J){return Qe(le(M,J))},ge=function(M){var J=ke.call(M,0);return J.reverse(),J},ut=function(M,J){return J>=0&&J<M.length?De.some(M[J]):De.none()},B=function(M){return ut(M,0)},_t=function(M){return ut(M,M.length-1)},at=function(M,J){for(var re=0;re<M.length;re++){var Ce=J(M[re],re);if(Ce.isSome())return Ce}return De.none()},ot=function(){return ot=Object.assign||function(J){for(var re,Ce=1,Ge=arguments.length;Ce<Ge;Ce++){re=arguments[Ce];for(var bt in re)Object.prototype.hasOwnProperty.call(re,bt)&&(J[bt]=re[bt])}return J},ot.apply(this,arguments)};function kn(M,J,re){if(re||arguments.length===2)for(var Ce=0,Ge=J.length,bt;Ce<Ge;Ce++)(bt||!(Ce in J))&&(bt||(bt=Array.prototype.slice.call(J,0,Ce)),bt[Ce]=J[Ce]);return M.concat(bt||Array.prototype.slice.call(J))}var cn=function(M){var J=!1,re;return function(){for(var Ce=[],Ge=0;Ge<arguments.length;Ge++)Ce[Ge]=arguments[Ge];return J||(J=!0,re=M.apply(null,Ce)),re}},lt=function(M,J,re,Ce){var Ge=M.isiOS()&&/ipad/i.test(re)===!0,bt=M.isiOS()&&!Ge,xn=M.isiOS()||M.isAndroid(),Zn=xn||Ce("(pointer:coarse)"),Er=Ge||!bt&&xn&&Ce("(min-device-width:768px)"),hr=bt||xn&&!Er,xa=J.isSafari()&&M.isiOS()&&/safari/i.test(re)===!1,Ei=!hr&&!Er&&!xa;return{isiPad:L(Ge),isiPhone:L(bt),isTablet:L(Er),isPhone:L(hr),isTouch:L(Zn),isAndroid:M.isAndroid,isiOS:M.isiOS,isWebView:L(xa),isDesktop:L(Ei)}},Sn=function(M,J){for(var re=0;re<M.length;re++){var Ce=M[re];if(Ce.test(J))return Ce}},te=function(M,J){var re=Sn(M,J);if(!re)return{major:0,minor:0};var Ce=function(Ge){return Number(J.replace(re,"$"+Ge))};return gt(Ce(1),Ce(2))},fn=function(M,J){var re=String(J).toLowerCase();return M.length===0?Ue():te(M,re)},Ue=function(){return gt(0,0)},gt=function(M,J){return{major:M,minor:J}},qn={nu:gt,detect:fn,unknown:Ue},Te=function(M,J){return at(J.brands,function(re){var Ce=re.brand.toLowerCase();return _e(M,function(Ge){var bt;return Ce===((bt=Ge.brand)===null||bt===void 0?void 0:bt.toLowerCase())}).map(function(Ge){return{current:Ge.name,version:qn.nu(parseInt(re.version,10),0)}})})},Ae=function(M,J){var re=String(J).toLowerCase();return _e(M,function(Ce){return Ce.search(re)})},Je=function(M,J){return Ae(M,J).map(function(re){var Ce=qn.detect(re.versionRegexes,J);return{current:re.name,version:Ce}})},et=function(M,J){return Ae(M,J).map(function(re){var Ce=qn.detect(re.versionRegexes,J);return{current:re.name,version:Ce}})},He=function(M,J){return M.indexOf(J)!==-1},pt=function(M){return function(J){return J.replace(M,"")}},Yt=pt(/^\s+|\s+$/g),it=function(M){return M.length>0},Wt=function(M){return!it(M)},Dt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zt=function(M){return function(J){return He(J,M)}},rn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(M){return He(M,"edge/")&&He(M,"chrome")&&He(M,"safari")&&He(M,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Dt],search:function(M){return He(M,"chrome")&&!He(M,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(M){return He(M,"msie")||He(M,"trident")}},{name:"Opera",versionRegexes:[Dt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zt("firefox")},{name:"Safari",versionRegexes:[Dt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(M){return(He(M,"safari")||He(M,"mobile/"))&&He(M,"applewebkit")}}],pn=[{name:"Windows",search:zt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(M){return He(M,"iphone")||He(M,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:zt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zt("linux"),versionRegexes:[]},{name:"Solaris",search:zt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:zt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Gn={browsers:L(rn),oses:L(pn)},sr="Edge",Gr="Chrome",tr="IE",ua="Opera",va="Firefox",Zr="Safari",Lr=function(){return da({current:void 0,version:qn.unknown()})},da=function(M){var J=M.current,re=M.version,Ce=function(Ge){return function(){return J===Ge}};return{current:J,version:re,isEdge:Ce(sr),isChrome:Ce(Gr),isIE:Ce(tr),isOpera:Ce(ua),isFirefox:Ce(va),isSafari:Ce(Zr)}},Vr={unknown:Lr,nu:da,edge:L(sr),chrome:L(Gr),ie:L(tr),opera:L(ua),firefox:L(va),safari:L(Zr)},lr="Windows",Ia="iOS",Zi="Android",Kl="Linux",Hr="OSX",Si="Solaris",Ju="FreeBSD",_i="ChromeOS",En=function(){return Mr({current:void 0,version:qn.unknown()})},Mr=function(M){var J=M.current,re=M.version,Ce=function(Ge){return function(){return J===Ge}};return{current:J,version:re,isWindows:Ce(lr),isiOS:Ce(Ia),isAndroid:Ce(Zi),isOSX:Ce(Hr),isLinux:Ce(Kl),isSolaris:Ce(Si),isFreeBSD:Ce(Ju),isChromeOS:Ce(_i)}},lo={unknown:En,nu:Mr,windows:L(lr),ios:L(Ia),android:L(Zi),linux:L(Kl),osx:L(Hr),solaris:L(Si),freebsd:L(Ju),chromeos:L(_i)},lu=function(M,J,re){var Ce=Gn.browsers(),Ge=Gn.oses(),bt=J.bind(function(Er){return Te(Ce,Er)}).orThunk(function(){return Je(Ce,M)}).fold(Vr.unknown,Vr.nu),xn=et(Ge,M).fold(lo.unknown,lo.nu),Zn=lt(xn,bt,M,re);return{browser:bt,os:xn,deviceType:Zn}},Zu={detect:lu},Pr=function(M){return window.matchMedia(M).matches},Ar=cn(function(){return Zu.detect(navigator.userAgent,De.from(navigator.userAgentData),Pr)}),Gs=function(){return Ar()},Qm=function(M,J,re){return(M.compareDocumentPosition(J)&re)!==0},Of=function(M,J){return Qm(M,J,Node.DOCUMENT_POSITION_CONTAINED_BY)},qs=1,Rc=function(M,J){var re=J||document,Ce=re.createElement("div");if(Ce.innerHTML=M,!Ce.hasChildNodes()||Ce.childNodes.length>1)throw console.error("HTML does not have a single root node",M),new Error("HTML must have a single root node");return pl(Ce.childNodes[0])},Ev=function(M,J){var re=J||document,Ce=re.createElement(M);return pl(Ce)},gl=function(M,J){var re=J||document,Ce=re.createTextNode(M);return pl(Ce)},pl=function(M){if(M==null)throw new Error("Node cannot be null or undefined");return{dom:M}},Df=function(M,J,re){return De.from(M.dom.elementFromPoint(J,re)).map(pl)},ma={fromHtml:Rc,fromTag:Ev,fromText:gl,fromDom:pl,fromPoint:Df},Ks=function(M,J){var re=M.dom;if(re.nodeType!==qs)return!1;var Ce=re;if(Ce.matches!==void 0)return Ce.matches(J);if(Ce.msMatchesSelector!==void 0)return Ce.msMatchesSelector(J);if(Ce.webkitMatchesSelector!==void 0)return Ce.webkitMatchesSelector(J);if(Ce.mozMatchesSelector!==void 0)return Ce.mozMatchesSelector(J);throw new Error("Browser lacks native selectors")},Wn=function(M,J){return M.dom===J.dom},eh=function(M,J){var re=M.dom,Ce=J.dom;return re===Ce?!1:re.contains(Ce)},Ou=function(M,J){return Of(M.dom,J.dom)},$c=function(M,J){return Gs().browser.isIE()?Ou(M,J):eh(M,J)},th=Ks,Xl=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),nh=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Rf=tinymce.util.Tools.resolve("tinymce.util.VK"),rh=Object.keys,Ss=function(M,J){for(var re=rh(M),Ce=0,Ge=re.length;Ce<Ge;Ce++){var bt=re[Ce],xn=M[bt];J(xn,bt)}},Bc=function(M){return function(J,re){M[re]=J}},sn=function(M,J,re,Ce){var Ge={};return Ss(M,function(bt,xn){(J(bt,xn)?re:Ce)(bt,xn)}),Ge},$d=function(M,J){var re={};return sn(M,J,Bc(re),I),re};typeof window<"u"||Function("return this;")();var Tv=function(M){var J=M.dom.nodeName;return J.toLowerCase()},Ov=function(M){return M.dom.nodeType},Yl=function(M){return function(J){return Ov(J)===M}},Qu=Yl(qs),ah=function(M){return function(J){return Qu(J)&&Tv(J)===M}},Bo=function(M,J,re){if(S(re)||D(re)||W(re))M.setAttribute(J,re+"");else throw console.error("Invalid call to Attribute.set. Key ",J,":: Value ",re,":: Element ",M),new Error("Attribute value was not simple")},po=function(M,J){var re=M.dom;Ss(J,function(Ce,Ge){Bo(re,Ge,Ce)})},Du=function(M){return ne(M.dom.attributes,function(J,re){return J[re.name]=re.value,J},{})},Xs=function(M){return De.from(M.dom.parentNode).map(ma.fromDom)},Bd=function(M){return le(M.dom.childNodes,ma.fromDom)},es=function(M,J){var re=M.dom.childNodes;return De.from(re[J]).map(ma.fromDom)},$f=function(M){return es(M,0)},Md=function(M){return es(M,M.dom.childNodes.length-1)},bl=function(M,J){var re=Xs(M);re.each(function(Ce){Ce.dom.insertBefore(J.dom,M.dom)})},Ru=function(M,J){M.dom.appendChild(J.dom)},Qt=function(M,J){pe(J,function(re){bl(M,re)})},xi=function(M,J){pe(J,function(re){Ru(M,re)})},yl=function(M){var J=M.dom;J.parentNode!==null&&J.parentNode.removeChild(J)},oh=function(M,J){return ma.fromDom(M.dom.cloneNode(J))},Bf=function(M){return oh(M,!0)},Qr=function(M,J){var re=ma.fromTag(J),Ce=Du(M);return po(re,Ce),re},Dv=function(M,J){var re=Qr(M,J);bl(M,re);var Ce=Bd(M);return xi(re,Ce),yl(M),re},wl=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),co=tinymce.util.Tools.resolve("tinymce.util.Tools"),Rv=function(M){return function(J){return J&&J.nodeName.toLowerCase()===M}},cu=function(M){return function(J){return J&&M.test(J.nodeName)}},ts=function(M){return M&&M.nodeType===3},Ra=cu(/^(OL|UL|DL)$/),Mf=cu(/^(OL|UL)$/),Pf=Rv("ol"),$v=cu(/^(LI|DT|DD)$/),Pd=cu(/^(DT|DD)$/),Cl=cu(/^(TH|TD)$/),Ys=Rv("br"),Bv=function(M){return M.parentNode.firstChild===M},_s=function(M,J){return J&&!!M.schema.getTextBlockElements()[J.nodeName]},$u=function(M,J){return M&&M.nodeName in J},oe=function(M,J){return Ys(J)?M.isBlock(J.nextSibling)&&!Ys(J.previousSibling):!1},Ne=function(M,J,re){var Ce=M.isEmpty(J);return re&&M.select("span[data-mce-type=bookmark]",J).length>0?!1:Ce},Xe=function(M,J){return M.isChildOf(J,M.getRoot())},kt=function(M){return M.getParam("lists_indent_on_tab",!0)},Gt=function(M){var J=M.getParam("forced_root_block","p");return J===!1?"":J===!0?"p":J},Rn=function(M){return M.getParam("forced_root_block_attrs",{})},aa=function(M,J){var re=M.dom,Ce=M.schema.getBlockElements(),Ge=re.createFragment(),bt=Gt(M),xn,Zn,Er;if(bt&&(Zn=re.create(bt),Zn.tagName===bt.toUpperCase()&&re.setAttribs(Zn,Rn(M)),$u(J.firstChild,Ce)||Ge.appendChild(Zn)),J)for(;xn=J.firstChild;){var hr=xn.nodeName;!Er&&(hr!=="SPAN"||xn.getAttribute("data-mce-type")!=="bookmark")&&(Er=!0),$u(xn,Ce)?(Ge.appendChild(xn),Zn=null):bt?(Zn||(Zn=re.create(bt),Ge.appendChild(Zn)),Zn.appendChild(xn)):Ge.appendChild(xn)}return bt?Er||Zn.appendChild(re.create("br",{"data-mce-bogus":"1"})):Ge.appendChild(re.create("br")),Ge},ha=wl.DOM,pr=function(M,J,re){var Ce=function(hr){co.each(Ge,function(xa){hr.parentNode.insertBefore(xa,re.parentNode)}),ha.remove(hr)},Ge=ha.select('span[data-mce-type="bookmark"]',J),bt=aa(M,re),xn=ha.createRng();xn.setStartAfter(re),xn.setEndAfter(J);for(var Zn=xn.extractContents(),Er=Zn.firstChild;Er;Er=Er.firstChild)if(Er.nodeName==="LI"&&M.dom.isEmpty(Er)){ha.remove(Er);break}M.dom.isEmpty(Zn)||ha.insertAfter(Zn,J),ha.insertAfter(bt,J),Ne(M.dom,re.parentNode)&&Ce(re.parentNode),ha.remove(re),Ne(M.dom,J)&&ha.remove(J)},Na=ah("dd"),qa=ah("dt"),Mc=function(M,J){Na(J)?Dv(J,"dt"):qa(J)&&Xs(J).each(function(re){return pr(M,re.dom,J.dom)})},Li=function(M){qa(M)&&Dv(M,"dd")},Jl=function(M,J,re){J==="Indent"?pe(re,Li):pe(re,function(Ce){return Mc(M,Ce)})},Hn=function(M,J){if(ts(M))return{container:M,offset:J};var re=Xl.getNode(M,J);return ts(re)?{container:re,offset:J>=M.childNodes.length?re.data.length:0}:re.previousSibling&&ts(re.previousSibling)?{container:re.previousSibling,offset:re.previousSibling.data.length}:re.nextSibling&&ts(re.nextSibling)?{container:re.nextSibling,offset:0}:{container:M,offset:J}},ih=function(M){var J=M.cloneRange(),re=Hn(M.startContainer,M.startOffset);J.setStart(re.container,re.offset);var Ce=Hn(M.endContainer,M.endOffset);return J.setEnd(Ce.container,Ce.offset),J},lp=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),ea=function(M,J){var re=J||M.selection.getStart(!0);return M.dom.getParent(re,"OL,UL,DL",Sl(M,re))},cp=function(M,J){return M&&J.length===1&&J[0]===M},uh=function(M){return ye(M.querySelectorAll("ol,ul,dl"),Ra)},n2=function(M){var J=ea(M),re=M.selection.getSelectedBlocks();return cp(J,re)?uh(J):ye(re,function(Ce){return Ra(Ce)&&J!==Ce})},_a=function(M,J){var re=co.map(J,function(Ce){var Ge=M.dom.getParent(Ce,"li,dd,dt",Sl(M,Ce));return Ge||Ce});return lp.unique(re)},Js=function(M){var J=M.selection.getSelectedBlocks();return ye(_a(M,J),$v)},r2=function(M){return ye(Js(M),Pd)},Sl=function(M,J){var re=M.dom.getParents(J,"TD,TH");return re.length>0?re[0]:M.getBody()},Jo=function(M,J){var re=M.dom.getParents(J,"ol,ul",Sl(M,J));return _t(re)},If=function(M){var J=Jo(M,M.selection.getStart()),re=ye(M.selection.getSelectedBlocks(),Mf);return J.toArray().concat(re)},yt=function(M){var J=If(M);return sh(M,J)},sh=function(M,J){var re=le(J,function(Ce){return Jo(M,Ce).getOr(Ce)});return lp.unique(re)},_o=function(M,J,re){return re===void 0&&(re=H),M.exists(function(Ce){return re(Ce,J)})},sb=function(M,J,re){return M.isSome()&&J.isSome()?De.some(re(M.getOrDie(),J.getOrDie())):De.none()},Nf=function(M,J){var re=J||document,Ce=re.createDocumentFragment();return pe(M,function(Ge){Ce.appendChild(Ge.dom)}),ma.fromDom(Ce)},Mv=function(M,J,re){return M.fire("ListMutation",{action:J,element:re})},je=function(M){return M.style!==void 0&&F(M.style.getPropertyValue)},ii=function(M,J,re){if(!S(re))throw console.error("Invalid call to CSS.set. Property ",J,":: Value ",re,":: Element ",M),new Error("CSS value must be a string: "+re);je(M)&&M.style.setProperty(J,re)},lh=function(M,J,re){var Ce=M.dom;ii(Ce,J,re)},fp=function(M,J){Ru(M.item,J.list)},lb=function(M){for(var J=1;J<M.length;J++)fp(M[J-1],M[J])},Id=function(M,J){sb(_t(M),B(J),fp)},vp=function(M,J){var re={list:ma.fromTag(J,M),item:ma.fromTag("li",M)};return Ru(re.list,re.item),re},dp=function(M,J,re){for(var Ce=[],Ge=0;Ge<re;Ge++)Ce.push(vp(M,J.listType));return Ce},xs=function(M,J){for(var re=0;re<M.length-1;re++)lh(M[re].item,"list-style-type","none");_t(M).each(function(Ce){po(Ce.list,J.listAttributes),po(Ce.item,J.itemAttributes),xi(Ce.item,J.content)})},Zl=function(M,J){Tv(M.list)!==J.listType&&(M.list=Dv(M.list,J.listType)),po(M.list,J.listAttributes)},cb=function(M,J,re){var Ce=ma.fromTag("li",M);return po(Ce,J),xi(Ce,re),Ce},fb=function(M,J){Ru(M.list,J),M.item=J},Ql=function(M,J,re){var Ce=J.slice(0,re.depth);return _t(Ce).each(function(Ge){var bt=cb(M,re.itemAttributes,re.content);fb(Ge,bt),Zl(Ge,re)}),Ce},$a=function(M,J,re){var Ce=dp(M,re,re.depth-J.length);return lb(Ce),xs(Ce,re),Id(J,Ce),J.concat(Ce)},vb=function(M,J){var re=ne(J,function(Ce,Ge){return Ge.depth>Ce.length?$a(M,Ce,Ge):Ql(M,Ce,Ge)},[]);return B(re).map(function(Ce){return Ce.list})},fu=function(M){return th(M,"OL,UL")},Hi=function(M){return $f(M).exists(fu)},xo=function(M){return Md(M).exists(fu)},Pc=function(M){return M.depth>0},ur=function(M){return M.isSelected},ns=function(M){var J=Bd(M),re=xo(M)?J.slice(0,-1):J;return le(re,Bf)},za=function(M,J,re){return Xs(M).filter(Qu).map(function(Ce){return{depth:J,dirty:!1,isSelected:re,content:ns(M),itemAttributes:Du(M),listAttributes:Du(Ce),listType:Tv(Ce)}})},Ka=function(M,J){switch(M){case"Indent":J.depth++;break;case"Outdent":J.depth--;break;case"Flatten":J.depth=0}J.dirty=!0},db=function(M,J){M.listType=J.listType,M.listAttributes=ot({},J.listAttributes)},ui=function(M){M.listAttributes=$d(M.listAttributes,function(J,re){return re!=="start"})},mp=function(M,J){var re=M[J].depth,Ce=function(bt){return bt.depth===re&&!bt.dirty},Ge=function(bt){return bt.depth<re};return U(ge(M.slice(0,J)),Ce,Ge).orThunk(function(){return U(M.slice(J+1),Ce,Ge)})},_l=function(M){return pe(M,function(J,re){mp(M,re).fold(function(){J.dirty&&ui(J)},function(Ce){return db(J,Ce)})}),M},jn=function(M){var J=M,re=function(){return J},Ce=function(Ge){J=Ge};return{get:re,set:Ce}},rs=function(M,J,re,Ce){return $f(Ce).filter(fu).fold(function(){J.each(function(xn){Wn(xn.start,Ce)&&re.set(!0)});var Ge=za(Ce,M,re.get());J.each(function(xn){Wn(xn.end,Ce)&&re.set(!1)});var bt=Md(Ce).filter(fu).map(function(xn){return no(M,J,re,xn)}).getOr([]);return Ge.toArray().concat(bt)},function(Ge){return no(M,J,re,Ge)})},no=function(M,J,re,Ce){return se(Bd(Ce),function(Ge){var bt=fu(Ge)?no:rs,xn=M+1;return bt(xn,J,re,Ge)})},ro=function(M,J){var re=jn(!1),Ce=0;return le(M,function(Ge){return{sourceList:Ge,entries:no(Ce,J,re,Ge)}})},Lo=function(M,J){var re=_l(J);return le(re,function(Ce){var Ge=Nf(Ce.content);return ma.fromDom(aa(M,Ge.dom))})},ko=function(M,J){var re=_l(J);return vb(M.contentDocument,re).toArray()},zf=function(M,J){return se(Me(J,Pc),function(re){var Ce=B(re).exists(Pc);return Ce?ko(M,re):Lo(M,re)})},ks=function(M,J){pe(ye(M,ur),function(re){return Ka(J,re)})},qr=function(M){var J=le(Js(M),ma.fromDom);return sb(_e(J,Y(Hi)),_e(ge(J),Y(Hi)),function(re,Ce){return{start:re,end:Ce}})},Ba=function(M,J,re){var Ce=ro(J,qr(M));pe(Ce,function(Ge){ks(Ge.entries,re);var bt=zf(M,Ge.entries);pe(bt,function(xn){Mv(M,re==="Indent"?"IndentList":"OutdentList",xn.dom)}),Qt(Ge.sourceList,bt),yl(Ge.sourceList)})},Qi=function(M,J){var re=le(yt(M),ma.fromDom),Ce=le(r2(M),ma.fromDom),Ge=!1;if(re.length||Ce.length){var bt=M.selection.getBookmark();Ba(M,re,J),Jl(M,J,Ce),M.selection.moveToBookmark(bt),M.selection.setRng(ih(M.selection.getRng())),M.nodeChanged(),Ge=!0}return Ge},ec=function(M){return Qi(M,"Indent")},Mo=function(M){return Qi(M,"Outdent")},as=function(M){return Qi(M,"Flatten")},mb=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Ff=wl.DOM,ya=function(M){var J={},re=function(Ce){var Ge=M[Ce?"startContainer":"endContainer"],bt=M[Ce?"startOffset":"endOffset"];if(Ge.nodeType===1){var xn=Ff.create("span",{"data-mce-type":"bookmark"});Ge.hasChildNodes()?(bt=Math.min(bt,Ge.childNodes.length-1),Ce?Ge.insertBefore(xn,Ge.childNodes[bt]):Ff.insertAfter(xn,Ge.childNodes[bt])):Ge.appendChild(xn),Ge=xn,bt=0}J[Ce?"startContainer":"endContainer"]=Ge,J[Ce?"startOffset":"endOffset"]=bt};return re(!0),M.collapsed||re(),J},Zs=function(M){var J=function(Ce){var Ge,bt=function(Er){for(var hr=Er.parentNode.firstChild,xa=0;hr;){if(hr===Er)return xa;(hr.nodeType!==1||hr.getAttribute("data-mce-type")!=="bookmark")&&xa++,hr=hr.nextSibling}return-1},xn=Ge=M[Ce?"startContainer":"endContainer"],Zn=M[Ce?"startOffset":"endOffset"];xn&&(xn.nodeType===1&&(Zn=bt(xn),xn=xn.parentNode,Ff.remove(Ge),!xn.hasChildNodes()&&Ff.isBlock(xn)&&xn.appendChild(Ff.create("br"))),M[Ce?"startContainer":"endContainer"]=xn,M[Ce?"startOffset":"endOffset"]=Zn)};J(!0),J();var re=Ff.createRng();return re.setStart(M.startContainer,M.startOffset),M.endContainer&&re.setEnd(M.endContainer,M.endOffset),ih(re)},Ic=function(M){switch(M){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},vu=function(M){return/\btox\-/.test(M.className)},fo=function(M,J,re){var Ce=function(bt){var xn=U(bt.parents,Ra,Cl).filter(function(Zn){return Zn.nodeName===J&&!vu(Zn)}).isSome();re(xn)},Ge=M.dom.getParents(M.selection.getNode());return Ce({parents:Ge}),M.on("NodeChange",Ce),function(){return M.off("NodeChange",Ce)}},Nc=function(M,J,re){var Ce=re["list-style-type"]?re["list-style-type"]:null;M.setStyle(J,"list-style-type",Ce)},tc=function(M,J){co.each(J,function(re,Ce){M.setAttribute(Ce,re)})},Vi=function(M,J,re){tc(J,re["list-attributes"]),co.each(M.select("li",J),function(Ce){tc(Ce,re["list-item-attributes"])})},du=function(M,J,re){Nc(M,J,re),Vi(M,J,re)},ki=function(M,J,re){co.each(re,function(Ce){var Ge;return M.setStyle(J,(Ge={},Ge[Ce]="",Ge))})},Pv=function(M,J,re,Ce){var Ge=J[re?"startContainer":"endContainer"],bt=J[re?"startOffset":"endOffset"];for(Ge.nodeType===1&&(Ge=Ge.childNodes[Math.min(bt,Ge.childNodes.length-1)]||Ge),!re&&Ys(Ge.nextSibling)&&(Ge=Ge.nextSibling);Ge.parentNode!==Ce;){if(_s(M,Ge)||/^(TD|TH)$/.test(Ge.parentNode.nodeName))return Ge;Ge=Ge.parentNode}return Ge},Qs=function(M,J,re){for(var Ce=[],Ge=M.dom,bt=Pv(M,J,!0,re),xn=Pv(M,J,!1,re),Zn,Er=[],hr=bt;hr&&(Er.push(hr),hr!==xn);hr=hr.nextSibling);return co.each(Er,function(xa){if(_s(M,xa)){Ce.push(xa),Zn=null;return}if(Ge.isBlock(xa)||Ys(xa)){Ys(xa)&&Ge.remove(xa),Zn=null;return}var Ei=xa.nextSibling;if(mb.isBookmarkNode(xa)&&(Ra(Ei)||_s(M,Ei)||!Ei&&xa.parentNode===re)){Zn=null;return}Zn||(Zn=Ge.create("p"),xa.parentNode.insertBefore(Zn,xa),Ce.push(Zn)),Zn.appendChild(xa)}),Ce},Ho=function(M,J,re){var Ce=M.getStyle(J,"list-style-type"),Ge=re?re["list-style-type"]:"";return Ge=Ge===null?"":Ge,Ce===Ge},Nd=function(M,J,re){var Ce=M.selection.getRng(),Ge="LI",bt=Sl(M,M.selection.getStart(!0)),xn=M.dom;if(xn.getContentEditable(M.selection.getNode())!=="false"){J=J.toUpperCase(),J==="DL"&&(Ge="DT");var Zn=ya(Ce),Er=Qs(M,Ce,bt);co.each(Er,function(hr){var xa,Ei=hr.previousSibling,ao=hr.parentNode;$v(ao)||(Ei&&Ra(Ei)&&Ei.nodeName===J&&Ho(xn,Ei,re)?(xa=Ei,hr=xn.rename(hr,Ge),Ei.appendChild(hr)):(xa=xn.create(J),hr.parentNode.insertBefore(xa,hr),xa.appendChild(hr),hr=xn.rename(hr,Ge)),ki(xn,hr,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),du(xn,xa,re),Vf(M.dom,xa))}),M.selection.setRng(Zs(Zn))}},hb=function(M,J){return M&&J&&Ra(M)&&M.nodeName===J.nodeName},Lf=function(M,J,re){var Ce=M.getStyle(J,"list-style-type",!0),Ge=M.getStyle(re,"list-style-type",!0);return Ce===Ge},Hf=function(M,J){return M.className===J.className},vo=function(M,J,re){return hb(J,re)&&Lf(M,J,re)&&Hf(J,re)},Vf=function(M,J){var re,Ce;if(re=J.nextSibling,vo(M,J,re)){for(;Ce=re.firstChild;)J.appendChild(Ce);M.remove(re)}if(re=J.previousSibling,vo(M,J,re)){for(;Ce=re.lastChild;)J.insertBefore(Ce,J.firstChild);M.remove(re)}},Uf=function(M,J,re,Ce){if(J.nodeName!==re){var Ge=M.dom.rename(J,re);du(M.dom,Ge,Ce),Mv(M,Ic(re),Ge)}else du(M.dom,J,Ce),Mv(M,Ic(re),J)},Ui=function(M,J,re,Ce,Ge){var bt=Ra(J);if(bt&&J.nodeName===Ce&&!nc(Ge))as(M);else{Nd(M,Ce,Ge);var xn=ya(M.selection.getRng()),Zn=bt?kn([J],re,!0):re;co.each(Zn,function(Er){Uf(M,Er,Ce,Ge)}),M.selection.setRng(Zs(xn))}},nc=function(M){return"list-style-type"in M},Wf=function(M,J,re,Ce){if(J!==M.getBody())if(J)if(J.nodeName===re&&!nc(Ce)&&!vu(J))as(M);else{var Ge=ya(M.selection.getRng());du(M.dom,J,Ce);var bt=M.dom.rename(J,re);Vf(M.dom,bt),M.selection.setRng(Zs(Ge)),Nd(M,re,Ce),Mv(M,Ic(re),bt)}else Nd(M,re,Ce),Mv(M,Ic(re),J)},rc=function(M,J,re){var Ce=ea(M),Ge=n2(M),bt=_(re)?re:{};Ge.length>0?Ui(M,Ce,Ge,J,bt):Wf(M,Ce,J,bt)},Ua=wl.DOM,Bu=function(M,J){var re=J.parentNode;if(re.nodeName==="LI"&&re.firstChild===J){var Ce=re.previousSibling;Ce&&Ce.nodeName==="LI"?(Ce.appendChild(J),Ne(M,re)&&Ua.remove(re)):Ua.setStyle(re,"listStyleType","none")}if(Ra(re)){var Ce=re.previousSibling;Ce&&Ce.nodeName==="LI"&&Ce.appendChild(J)}},ch=function(M,J){var re=co.grep(M.select("ol,ul",J));co.each(re,function(Ce){Bu(M,Ce)})},os=function(M,J,re,Ce){var Ge=J.startContainer,bt=J.startOffset;if(ts(Ge)&&(re?bt<Ge.data.length:bt>0))return Ge;var xn=M.schema.getNonEmptyElements();Ge.nodeType===1&&(Ge=Xl.getNode(Ge,bt));var Zn=new nh(Ge,Ce);for(re&&oe(M.dom,Ge)&&Zn.next();Ge=Zn[re?"next":"prev2"]();)if(Ge.nodeName==="LI"&&!Ge.hasChildNodes()||xn[Ge.nodeName]||ts(Ge)&&Ge.data.length>0)return Ge},fh=function(M,J){var re=J.childNodes;return re.length===1&&!Ra(re[0])&&M.isBlock(re[0])},gb=function(M,J){fh(M,J)&&M.remove(J.firstChild,!0)},hp=function(M,J,re){var Ce,Ge=fh(M,re)?re.firstChild:re;if(gb(M,J),!Ne(M,J,!0))for(;Ce=J.firstChild;)Ge.appendChild(Ce)},jf=function(M,J,re){var Ce,Ge=J.parentNode;if(!(!Xe(M,J)||!Xe(M,re))){Ra(re.lastChild)&&(Ce=re.lastChild),Ge===re.lastChild&&Ys(Ge.previousSibling)&&M.remove(Ge.previousSibling);var bt=re.lastChild;bt&&Ys(bt)&&J.hasChildNodes()&&M.remove(bt),Ne(M,re,!0)&&M.$(re).empty(),hp(M,J,re),Ce&&re.appendChild(Ce);var xn=$c(ma.fromDom(re),ma.fromDom(J)),Zn=xn?M.getParents(J,Ra,re):[];M.remove(J),pe(Zn,function(Er){Ne(M,Er)&&Er!==M.getRoot()&&M.remove(Er)})}},Gf=function(M,J,re){M.dom.$(re).empty(),jf(M.dom,J,re),M.selection.setCursorLocation(re,0)},zc=function(M,J,re,Ce){var Ge=M.dom;if(Ge.isEmpty(Ce))Gf(M,re,Ce);else{var bt=ya(J);jf(Ge,re,Ce),M.selection.setRng(Zs(bt))}},Kn=function(M,J,re,Ce){var Ge=ya(J);jf(M.dom,re,Ce);var bt=Zs(Ge);M.selection.setRng(bt)},As=function(M,J){var re=M.dom,Ce=M.selection,Ge=Ce.getStart(),bt=Sl(M,Ge),xn=re.getParent(Ce.getStart(),"LI",bt);if(xn){var Zn=xn.parentNode;if(Zn===M.getBody()&&Ne(re,Zn))return!0;var Er=ih(Ce.getRng()),hr=re.getParent(os(M,Er,J,bt),"LI",bt);if(hr&&hr!==xn)return M.undoManager.transact(function(){J?zc(M,Er,hr,xn):Bv(xn)?Mo(M):Kn(M,Er,xn,hr)}),!0;if(!hr&&!J&&Er.startOffset===0&&Er.endOffset===0)return M.undoManager.transact(function(){as(M)}),!0}return!1},mu=function(M,J,re){var Ce=M.getParent(J.parentNode,M.isBlock,re);M.remove(J),Ce&&M.isEmpty(Ce)&&M.remove(Ce)},Wi=function(M,J){var re=M.dom,Ce=M.selection.getStart(),Ge=Sl(M,Ce),bt=re.getParent(Ce,re.isBlock,Ge);if(bt&&re.isEmpty(bt)){var xn=ih(M.selection.getRng()),Zn=re.getParent(os(M,xn,J,Ge),"LI",Ge);if(Zn)return M.undoManager.transact(function(){mu(re,bt,Ge),Vf(re,Zn.parentNode),M.selection.select(Zn,!0),M.selection.collapse(J)}),!0}return!1},Es=function(M,J){return As(M,J)||Wi(M,J)},bo=function(M){var J=M.selection.getStart(),re=Sl(M,J),Ce=M.dom.getParent(J,"LI,DT,DD",re);return Ce||Js(M).length>0?(M.undoManager.transact(function(){M.execCommand("Delete"),ch(M.dom,M.getBody())}),!0):!1},Vo=function(M,J){return M.selection.isCollapsed()?Es(M,J):bo(M)},Ao=function(M){M.on("keydown",function(J){J.keyCode===Rf.BACKSPACE?Vo(M,!1)&&J.preventDefault():J.keyCode===Rf.DELETE&&Vo(M,!0)&&J.preventDefault()})},Fc=function(M){return{backspaceDelete:function(J){Vo(M,J)}}},Ai=function(M,J){var re=ea(M);M.undoManager.transact(function(){_(J.styles)&&M.dom.setStyles(re,J.styles),_(J.attrs)&&Ss(J.attrs,function(Ce,Ge){return M.dom.setAttrib(re,Ge,Ce)})})},gn=function(M){var J=ge(Yt(M).split("")),re=le(J,function(Ce,Ge){var bt=Ce.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Ge)*bt});return ne(re,function(Ce,Ge){return Ce+Ge},0)},qf=function(M){if(M--,M<0)return"";var J=M%26,re=Math.floor(M/26),Ce=qf(re),Ge=String.fromCharCode("A".charCodeAt(0)+J);return Ce+Ge},gp=function(M){return/^[A-Z]+$/.test(M)},cr=function(M){return/^[a-z]+$/.test(M)},wa=function(M){return/^[0-9]+$/.test(M)},vh=function(M){return wa(M)?2:gp(M)?0:cr(M)?1:Wt(M)?3:4},xl=function(M){switch(vh(M)){case 2:return De.some({listStyleType:De.none(),start:M});case 0:return De.some({listStyleType:De.some("upper-alpha"),start:gn(M).toString()});case 1:return De.some({listStyleType:De.some("lower-alpha"),start:gn(M).toString()});case 3:return De.some({listStyleType:De.none(),start:""});case 4:return De.none()}},Fa=function(M){var J=parseInt(M.start,10);return _o(M.listStyleType,"upper-alpha")?qf(J):_o(M.listStyleType,"lower-alpha")?qf(J).toLowerCase():M.start},dh=function(M){var J=ea(M);Pf(J)&&M.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Fa({start:M.dom.getAttrib(J,"start","1"),listStyleType:De.some(M.dom.getStyle(J,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(re){var Ce=re.getData();xl(Ce.start).each(function(Ge){M.execCommand("mceListUpdate",!1,{attrs:{start:Ge.start==="1"?"":Ge.start},styles:{"list-style-type":Ge.listStyleType.getOr("")}})}),re.close()}})},Mu=function(M,J){return function(){var re=ea(M);return re&&re.nodeName===J}},zd=function(M){M.addCommand("mceListProps",function(){dh(M)})},mr=function(M){M.on("BeforeExecCommand",function(J){var re=J.command.toLowerCase();re==="indent"?ec(M):re==="outdent"&&Mo(M)}),M.addCommand("InsertUnorderedList",function(J,re){rc(M,"UL",re)}),M.addCommand("InsertOrderedList",function(J,re){rc(M,"OL",re)}),M.addCommand("InsertDefinitionList",function(J,re){rc(M,"DL",re)}),M.addCommand("RemoveList",function(){as(M)}),zd(M),M.addCommand("mceListUpdate",function(J,re){_(re)&&Ai(M,re)}),M.addQueryStateHandler("InsertUnorderedList",Mu(M,"UL")),M.addQueryStateHandler("InsertOrderedList",Mu(M,"OL")),M.addQueryStateHandler("InsertDefinitionList",Mu(M,"DL"))},eu=function(M){M.on("keydown",function(J){J.keyCode!==Rf.TAB||Rf.metaKeyPressed(J)||M.undoManager.transact(function(){(J.shiftKey?Mo(M):ec(M))&&J.preventDefault()})})},a2=function(M){kt(M)&&eu(M),Ao(M)},o2=function(M){var J=function(re){return function(){return M.execCommand(re)}};M.hasPlugin("advlist")||(M.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:J("InsertOrderedList"),onSetup:function(re){return fo(M,"OL",re.setActive)}}),M.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:J("InsertUnorderedList"),onSetup:function(re){return fo(M,"UL",re.setActive)}}))},Wa=function(M){var J={text:"List properties...",icon:"ordered-list",onAction:function(){return M.execCommand("mceListProps")},onSetup:function(re){return fo(M,"OL",function(Ce){return re.setDisabled(!Ce)})}};M.ui.registry.addMenuItem("listprops",J),M.ui.registry.addContextMenu("lists",{update:function(re){var Ce=ea(M,re);return Pf(Ce)?["listprops"]:[]}})};function mh(){f.add("lists",function(M){return M.hasPlugin("rtc",!0)===!1?(a2(M),mr(M)):zd(M),o2(M),Wa(M),Fc(M)})}mh()})();(function(){var f=function(u){var c=typeof u;return u===null?"null":c==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":c==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":c},m=function(u){return function(c){return f(c)===u}},b=function(u){return function(c){return typeof c===u}},y=function(u){return function(c){return u===c}},S=m("string"),_=m("object"),T=m("array"),D=y(null),F=b("boolean"),W=y(void 0),I=function(u){return u==null},L=function(u){return!I(u)},P=b("function"),H=b("number"),Y=function(){},q=function(u,c){return function(){for(var h=[],w=0;w<arguments.length;w++)h[w]=arguments[w];return u(c.apply(null,h))}},$e=function(u,c){return function(h){return u(c(h))}},de=function(u){return function(){return u}},Be=function(u){return u},ue=function(u,c){return u===c};function Ee(u){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];return function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];var R=c.concat(w);return u.apply(null,R)}}var De=function(u){return function(c){return!u(c)}},ke=function(u){return function(){throw new Error(u)}},Ye=de(!1),le=de(!0),pe=function(){return ye},ye=function(){var u=function(w){return w()},c=Be,h={fold:function(w,k){return w()},isSome:Ye,isNone:le,getOr:c,getOrThunk:u,getOrDie:function(w){throw new Error(w||"error: getOrDie called on none.")},getOrNull:de(null),getOrUndefined:de(void 0),or:c,orThunk:u,map:pe,each:Y,bind:pe,exists:Ye,forall:le,filter:function(){return pe()},toArray:function(){return[]},toString:de("none()")};return h}(),Me=function(u){var c=de(u),h=function(){return k},w=function(R){return R(u)},k={fold:function(R,z){return z(u)},isSome:le,isNone:Ye,getOr:c,getOrThunk:c,getOrDie:c,getOrNull:c,getOrUndefined:c,or:h,orThunk:h,map:function(R){return Me(R(u))},each:function(R){R(u)},bind:w,exists:w,forall:w,filter:function(R){return R(u)?k:ye},toArray:function(){return[u]},toString:function(){return"some("+u+")"}};return k},ne=function(u){return u==null?ye:Me(u)},U={some:Me,none:pe,from:ne},_e=Array.prototype.slice,Qe=Array.prototype.indexOf,se=Array.prototype.push,ge=function(u,c){return Qe.call(u,c)},ut=function(u,c){return ge(u,c)>-1},B=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];if(c(k,h))return!0}return!1},_t=function(u,c){for(var h=[],w=0;w<u;w++)h.push(c(w));return h},at=function(u,c){for(var h=u.length,w=new Array(h),k=0;k<h;k++){var R=u[k];w[k]=c(R,k)}return w},ot=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];c(k,h)}},kn=function(u,c){for(var h=u.length-1;h>=0;h--){var w=u[h];c(w,h)}},cn=function(u,c){for(var h=[],w=[],k=0,R=u.length;k<R;k++){var z=u[k],K=c(z,k)?h:w;K.push(z)}return{pass:h,fail:w}},lt=function(u,c){for(var h=[],w=0,k=u.length;w<k;w++){var R=u[w];c(R,w)&&h.push(R)}return h},Sn=function(u,c,h){return kn(u,function(w,k){h=c(h,w,k)}),h},te=function(u,c,h){return ot(u,function(w,k){h=c(h,w,k)}),h},fn=function(u,c,h){for(var w=0,k=u.length;w<k;w++){var R=u[w];if(c(R,w))return U.some(R);if(h(R,w))break}return U.none()},Ue=function(u,c){return fn(u,c,Ye)},gt=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];if(c(k,h))return U.some(h)}return U.none()},qn=function(u){for(var c=[],h=0,w=u.length;h<w;++h){if(!T(u[h]))throw new Error("Arr.flatten item "+h+" was not an array, input: "+u);se.apply(c,u[h])}return c},Te=function(u,c){return qn(at(u,c))},Ae=function(u,c){for(var h=0,w=u.length;h<w;++h){var k=u[h];if(c(k,h)!==!0)return!1}return!0},Je=function(u){var c=_e.call(u,0);return c.reverse(),c},et=function(u,c){for(var h={},w=0,k=u.length;w<k;w++){var R=u[w];h[String(R)]=c(R,w)}return h},He=function(u){return[u]},pt=function(u,c){var h=_e.call(u,0);return h.sort(c),h},Yt=function(u,c){return c>=0&&c<u.length?U.some(u[c]):U.none()},it=function(u){return Yt(u,0)},Wt=function(u){return Yt(u,u.length-1)},Dt=function(u,c){for(var h=0;h<u.length;h++){var w=c(u[h],h);if(w.isSome())return w}return U.none()},zt=function(){return zt=Object.assign||function(c){for(var h,w=1,k=arguments.length;w<k;w++){h=arguments[w];for(var R in h)Object.prototype.hasOwnProperty.call(h,R)&&(c[R]=h[R])}return c},zt.apply(this,arguments)};function rn(u,c,h){if(h||arguments.length===2)for(var w=0,k=c.length,R;w<k;w++)(R||!(w in c))&&(R||(R=Array.prototype.slice.call(c,0,w)),R[w]=c[w]);return u.concat(R||Array.prototype.slice.call(c))}var pn=function(u){var c=!1,h;return function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];return c||(c=!0,h=u.apply(null,w)),h}},Gn=function(u,c,h,w){var k=u.isiOS()&&/ipad/i.test(h)===!0,R=u.isiOS()&&!k,z=u.isiOS()||u.isAndroid(),K=z||w("(pointer:coarse)"),ie=k||!R&&z&&w("(min-device-width:768px)"),be=R||z&&!ie,Pe=c.isSafari()&&u.isiOS()&&/safari/i.test(h)===!1,mt=!be&&!ie&&!Pe;return{isiPad:de(k),isiPhone:de(R),isTablet:de(ie),isPhone:de(be),isTouch:de(K),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:de(Pe),isDesktop:de(mt)}},sr=function(u,c){for(var h=0;h<u.length;h++){var w=u[h];if(w.test(c))return w}},Gr=function(u,c){var h=sr(u,c);if(!h)return{major:0,minor:0};var w=function(k){return Number(c.replace(h,"$"+k))};return va(w(1),w(2))},tr=function(u,c){var h=String(c).toLowerCase();return u.length===0?ua():Gr(u,h)},ua=function(){return va(0,0)},va=function(u,c){return{major:u,minor:c}},Zr={nu:va,detect:tr,unknown:ua},Lr=function(u,c){return Dt(c.brands,function(h){var w=h.brand.toLowerCase();return Ue(u,function(k){var R;return w===((R=k.brand)===null||R===void 0?void 0:R.toLowerCase())}).map(function(k){return{current:k.name,version:Zr.nu(parseInt(h.version,10),0)}})})},da=function(u,c){var h=String(c).toLowerCase();return Ue(u,function(w){return w.search(h)})},Vr=function(u,c){return da(u,c).map(function(h){var w=Zr.detect(h.versionRegexes,c);return{current:h.name,version:w}})},lr=function(u,c){return da(u,c).map(function(h){var w=Zr.detect(h.versionRegexes,c);return{current:h.name,version:w}})},Ia=function(u,c){return u.substring(c)},Zi=function(u,c,h){return c===""||u.length>=c.length&&u.substr(h,h+c.length)===c},Kl=function(u,c){return Si(u,c)?Ia(u,c.length):u},Hr=function(u,c){return u.indexOf(c)!==-1},Si=function(u,c){return Zi(u,c,0)},Ju=function(u,c){return Zi(u,c,u.length-c.length)},_i=function(u){return function(c){return c.replace(u,"")}},En=_i(/^\s+|\s+$/g),Mr=function(u){return u.length>0},lo=function(u){return!Mr(u)},lu=function(u){var c=parseFloat(u);return isNaN(c)?U.none():U.some(c)},Zu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Pr=function(u){return function(c){return Hr(c,u)}},Ar=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return Hr(u,"edge/")&&Hr(u,"chrome")&&Hr(u,"safari")&&Hr(u,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Zu],search:function(u){return Hr(u,"chrome")&&!Hr(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return Hr(u,"msie")||Hr(u,"trident")}},{name:"Opera",versionRegexes:[Zu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Pr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Pr("firefox")},{name:"Safari",versionRegexes:[Zu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(Hr(u,"safari")||Hr(u,"mobile/"))&&Hr(u,"applewebkit")}}],Gs=[{name:"Windows",search:Pr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return Hr(u,"iphone")||Hr(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Pr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Pr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Pr("linux"),versionRegexes:[]},{name:"Solaris",search:Pr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Pr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Pr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Qm={browsers:de(Ar),oses:de(Gs)},Of="Edge",qs="Chrome",Rc="IE",Ev="Opera",gl="Firefox",pl="Safari",Df=function(){return ma({current:void 0,version:Zr.unknown()})},ma=function(u){var c=u.current,h=u.version,w=function(k){return function(){return c===k}};return{current:c,version:h,isEdge:w(Of),isChrome:w(qs),isIE:w(Rc),isOpera:w(Ev),isFirefox:w(gl),isSafari:w(pl)}},Ks={unknown:Df,nu:ma,edge:de(Of),chrome:de(qs),ie:de(Rc),opera:de(Ev),firefox:de(gl),safari:de(pl)},Wn="Windows",eh="iOS",Ou="Android",$c="Linux",th="OSX",Xl="Solaris",nh="FreeBSD",Rf="ChromeOS",rh=function(){return Ss({current:void 0,version:Zr.unknown()})},Ss=function(u){var c=u.current,h=u.version,w=function(k){return function(){return c===k}};return{current:c,version:h,isWindows:w(Wn),isiOS:w(eh),isAndroid:w(Ou),isOSX:w(th),isLinux:w($c),isSolaris:w(Xl),isFreeBSD:w(nh),isChromeOS:w(Rf)}},Bc={unknown:rh,nu:Ss,windows:de(Wn),ios:de(eh),android:de(Ou),linux:de($c),osx:de(th),solaris:de(Xl),freebsd:de(nh),chromeos:de(Rf)},sn=function(u,c,h){var w=Qm.browsers(),k=Qm.oses(),R=c.bind(function(ie){return Lr(w,ie)}).orThunk(function(){return Vr(w,u)}).fold(Ks.unknown,Ks.nu),z=lr(k,u).fold(Bc.unknown,Bc.nu),K=Gn(z,R,u,h);return{browser:R,os:z,deviceType:K}},$d={detect:sn},Tv=function(u){return window.matchMedia(u).matches},Ov=pn(function(){return $d.detect(navigator.userAgent,U.from(navigator.userAgentData),Tv)}),Yl=function(){return Ov()},Qu=function(u,c,h){return(u.compareDocumentPosition(c)&h)!==0},ah=function(u,c){return Qu(u,c,Node.DOCUMENT_POSITION_CONTAINED_BY)},Bo=8,po=9,Du=11,Xs=1,Bd=3,es=function(u,c){var h=c||document,w=h.createElement("div");if(w.innerHTML=u,!w.hasChildNodes()||w.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return bl(w.childNodes[0])},$f=function(u,c){var h=c||document,w=h.createElement(u);return bl(w)},Md=function(u,c){var h=c||document,w=h.createTextNode(u);return bl(w)},bl=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},Ru=function(u,c,h){return U.from(u.dom.elementFromPoint(c,h)).map(bl)},Qt={fromHtml:es,fromTag:$f,fromText:Md,fromDom:bl,fromPoint:Ru},xi=function(u,c){var h=u.dom;if(h.nodeType!==Xs)return!1;var w=h;if(w.matches!==void 0)return w.matches(c);if(w.msMatchesSelector!==void 0)return w.msMatchesSelector(c);if(w.webkitMatchesSelector!==void 0)return w.webkitMatchesSelector(c);if(w.mozMatchesSelector!==void 0)return w.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")},yl=function(u){return u.nodeType!==Xs&&u.nodeType!==po&&u.nodeType!==Du||u.childElementCount===0},oh=function(u,c){var h=c===void 0?document:c.dom;return yl(h)?[]:at(h.querySelectorAll(u),Qt.fromDom)},Bf=function(u,c){var h=c===void 0?document:c.dom;return yl(h)?U.none():U.from(h.querySelector(u)).map(Qt.fromDom)},Qr=function(u,c){return u.dom===c.dom},Dv=function(u,c){var h=u.dom,w=c.dom;return h===w?!1:h.contains(w)},wl=function(u,c){return ah(u.dom,c.dom)},co=function(u,c){return Yl().browser.isIE()?wl(u,c):Dv(u,c)},Rv=xi,cu=Object.keys,ts=Object.hasOwnProperty,Ra=function(u,c){for(var h=cu(u),w=0,k=h.length;w<k;w++){var R=h[w],z=u[R];c(z,R)}},Mf=function(u,c){return Pf(u,function(h,w){return{k:w,v:c(h,w)}})},Pf=function(u,c){var h={};return Ra(u,function(w,k){var R=c(w,k);h[R.k]=R.v}),h},$v=function(u){return function(c,h){u[h]=c}},Pd=function(u,c,h,w){var k={};return Ra(u,function(R,z){(c(R,z)?h:w)(R,z)}),k},Cl=function(u,c){var h={};return Pd(u,c,$v(h),Y),h},Ys=function(u,c){var h=[];return Ra(u,function(w,k){h.push(c(w,k))}),h},Bv=function(u){return Ys(u,Be)},_s=function(u){return cu(u).length},$u=function(u,c){return oe(u,c)?U.from(u[c]):U.none()},oe=function(u,c){return ts.call(u,c)},Ne=function(u,c){return oe(u,c)&&u[c]!==void 0&&u[c]!==null},Xe=function(u){for(var c in u)if(ts.call(u,c))return!1;return!0},kt=["tfoot","thead","tbody","colgroup"],Gt=function(u){return ut(kt,u)},Rn=function(u,c){return{rows:u,columns:c}},aa=function(u,c){return{row:u,column:c}},ha=function(u,c,h){return{element:u,rowspan:c,colspan:h}},pr=function(u,c,h,w){return{element:u,rowspan:c,colspan:h,isNew:w}},Na=function(u,c,h,w,k,R){return{element:u,rowspan:c,colspan:h,row:w,column:k,isLocked:R}},qa=function(u,c,h){return{element:u,cells:c,section:h}},Mc=function(u,c,h,w){return{element:u,cells:c,section:h,isNew:w}},Li=function(u,c,h){return{element:u,isNew:c,isLocked:h}},Jl=function(u,c,h,w){return{element:u,cells:c,section:h,isNew:w}},Hn=function(u,c,h,w){return{startRow:u,startCol:c,finishRow:h,finishCol:w}},ih=function(u,c,h){return{element:u,colspan:c,column:h}},lp=function(u,c){return{element:u,columns:c}};typeof window<"u"||Function("return this;")();var ea=function(u){var c=u.dom.nodeName;return c.toLowerCase()},cp=function(u){return u.dom.nodeType},uh=function(u){return function(c){return cp(c)===u}},n2=function(u){return cp(u)===Bo||ea(u)==="#comment"},_a=uh(Xs),Js=uh(Bd),r2=uh(po),Sl=uh(Du),Jo=function(u){return function(c){return _a(c)&&ea(c)===u}},If=function(u){return Qt.fromDom(u.dom.ownerDocument)},yt=function(u){return r2(u)?u:If(u)},sh=function(u){return Qt.fromDom(yt(u).dom.defaultView)},_o=function(u){return U.from(u.dom.parentNode).map(Qt.fromDom)},sb=function(u){return U.from(u.dom.parentElement).map(Qt.fromDom)},Nf=function(u,c){for(var h=P(c)?c:Ye,w=u.dom,k=[];w.parentNode!==null&&w.parentNode!==void 0;){var R=w.parentNode,z=Qt.fromDom(R);if(k.push(z),h(z)===!0)break;w=R}return k},Mv=function(u){return U.from(u.dom.previousSibling).map(Qt.fromDom)},je=function(u){return U.from(u.dom.nextSibling).map(Qt.fromDom)},ii=function(u){return at(u.dom.childNodes,Qt.fromDom)},lh=function(u,c){var h=u.dom.childNodes;return U.from(h[c]).map(Qt.fromDom)},fp=function(u){return lh(u,0)},lb=function(u){return Sl(u)&&L(u.dom.host)},Id=P(Element.prototype.attachShadow)&&P(Node.prototype.getRootNode),vp=de(Id),dp=Id?function(u){return Qt.fromDom(u.dom.getRootNode())}:yt,xs=function(u){var c=dp(u);return lb(c)?U.some(c):U.none()},Zl=function(u){return Qt.fromDom(u.dom.host)},cb=function(u){if(vp()&&L(u.target)){var c=Qt.fromDom(u.target);if(_a(c)&&fb(c)&&u.composed&&u.composedPath){var h=u.composedPath();if(h)return it(h)}}return U.from(u.target)},fb=function(u){return L(u.dom.shadowRoot)},Ql=function(u){var c=Js(u)?u.dom.parentNode:u.dom;if(c==null||c.ownerDocument===null)return!1;var h=c.ownerDocument;return xs(Qt.fromDom(c)).fold(function(){return h.body.contains(c)},$e(Ql,Zl))},$a=function(){return vb(Qt.fromDom(document))},vb=function(u){var c=u.dom.body;if(c==null)throw new Error("Body is not available yet");return Qt.fromDom(c)},fu=function(u,c,h){return lt(Nf(u,h),c)},Hi=function(u,c){return lt(ii(u),c)},xo=function(u,c){var h=[];return ot(ii(u),function(w){c(w)&&(h=h.concat([w])),h=h.concat(xo(w,c))}),h},Pc=function(u,c,h){return fu(u,function(w){return xi(w,c)},h)},ur=function(u,c){return Hi(u,function(h){return xi(h,c)})},ns=function(u,c){return oh(c,u)};function za(u,c,h,w,k){return u(h,w)?U.some(h):P(k)&&k(h)?U.none():c(h,w,k)}var Ka=function(u,c,h){for(var w=u.dom,k=P(h)?h:Ye;w.parentNode;){w=w.parentNode;var R=Qt.fromDom(w);if(c(R))return U.some(R);if(k(R))break}return U.none()},db=function(u,c,h){var w=function(k,R){return R(k)};return za(w,Ka,u,c,h)},ui=function(u,c){var h=function(k){return c(Qt.fromDom(k))},w=Ue(u.dom.childNodes,h);return w.map(Qt.fromDom)},mp=function(u,c){var h=function(w){for(var k=0;k<w.childNodes.length;k++){var R=Qt.fromDom(w.childNodes[k]);if(c(R))return U.some(R);var z=h(w.childNodes[k]);if(z.isSome())return z}return U.none()};return h(u.dom)},_l=function(u,c,h){return Ka(u,function(w){return xi(w,c)},h)},jn=function(u,c){return ui(u,function(h){return xi(h,c)})},rs=function(u,c){return Bf(c,u)},no=function(u,c,h){var w=function(k,R){return xi(k,R)};return za(w,_l,u,c,h)},ro=function(u,c,h){if(S(h)||F(h)||H(h))u.setAttribute(c,h+"");else throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",h,":: Element ",u),new Error("Attribute value was not simple")},Lo=function(u,c,h){ro(u.dom,c,h)},ko=function(u,c){var h=u.dom;Ra(c,function(w,k){ro(h,k,w)})},zf=function(u,c){Ra(c,function(h,w){h.fold(function(){Ba(u,w)},function(k){ro(u.dom,w,k)})})},ks=function(u,c){var h=u.dom.getAttribute(c);return h===null?void 0:h},qr=function(u,c){return U.from(ks(u,c))},Ba=function(u,c){u.dom.removeAttribute(c)},Qi=function(u){return te(u.dom.attributes,function(c,h){return c[h.name]=h.value,c},{})},ec=function(u,c,h){return h===void 0&&(h=ue),u.exists(function(w){return h(w,c)})},Mo=function(u){for(var c=[],h=function(k){c.push(k)},w=0;w<u.length;w++)u[w].each(h);return c},as=function(u,c,h){return u.isSome()&&c.isSome()?U.some(h(u.getOrDie(),c.getOrDie())):U.none()},mb=function(u,c){return u!=null?c(u):U.none()},Ff=function(u){return u.bind(Be)},ya=function(u,c){return u?U.some(c):U.none()},Zs=function(u){return u.style!==void 0&&P(u.style.getPropertyValue)},Ic=function(u,c,h){if(!S(h))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",h,":: Element ",u),new Error("CSS value must be a string: "+h);Zs(u)&&u.style.setProperty(c,h)},vu=function(u,c){Zs(u)&&u.style.removeProperty(c)},fo=function(u,c,h){var w=u.dom;Ic(w,c,h)},Nc=function(u,c){var h=u.dom;Ra(c,function(w,k){Ic(h,k,w)})},tc=function(u,c){var h=u.dom,w=window.getComputedStyle(h),k=w.getPropertyValue(c);return k===""&&!Ql(u)?Vi(h,c):k},Vi=function(u,c){return Zs(u)?u.style.getPropertyValue(c):""},du=function(u,c){var h=u.dom,w=Vi(h,c);return U.from(w).filter(function(k){return k.length>0})},ki=function(u,c){var h=u.dom;vu(h,c),ec(qr(u,"style").map(En),"")&&Ba(u,"style")},Pv=function(u,c){var h=u.dom,w=c.dom;Zs(h)&&Zs(w)&&(w.style.cssText=h.style.cssText)},Qs=function(u,c,h){return h===void 0&&(h=0),qr(u,c).map(function(w){return parseInt(w,10)}).getOr(h)},Ho=function(u,c){return Qs(u,c,1)},Nd=function(u){return Jo("col")(u)?Qs(u,"span",1)>1:Ho(u,"colspan")>1},hb=function(u){return Ho(u,"rowspan")>1},Lf=function(u,c){return parseInt(tc(u,c),10)},Hf=de(10),vo=de(10),Vf=function(u,c){return Uf(u,c,le)},Uf=function(u,c,h){return Te(ii(u),function(w){return xi(w,c)?h(w)?[w]:[]:Uf(w,c,h)})},Ui=function(u,c,h){if(h===void 0&&(h=Ye),h(c))return U.none();if(ut(u,ea(c)))return U.some(c);var w=function(k){return xi(k,"table")||h(k)};return _l(c,u.join(","),w)},nc=function(u,c){return Ui(["td","th"],u,c)},Wf=function(u){return Vf(u,"th,td")},rc=function(u){return xi(u,"colgroup")?ur(u,"col"):Te(ch(u),function(c){return ur(c,"col")})},Ua=function(u,c){return no(u,"table",c)},Bu=function(u){return Vf(u,"tr")},ch=function(u){return Ua(u).fold(de([]),function(c){return ur(c,"colgroup")})},os=function(u,c){return at(u,function(h){if(ea(h)==="colgroup"){var w=at(rc(h),function(k){var R=Qs(k,"span",1);return ha(k,1,R)});return qa(h,w,"colgroup")}else{var w=at(Wf(h),function(R){var z=Qs(R,"rowspan",1),K=Qs(R,"colspan",1);return ha(R,z,K)});return qa(h,w,c(h))}})},fh=function(u){return _o(u).map(function(c){var h=ea(c);return Gt(h)?h:"tbody"}).getOr("tbody")},gb=function(u){var c=Bu(u),h=ch(u),w=rn(rn([],h,!0),c,!0);return os(w,fh)},hp=function(u,c){return os(u,function(){return c})},jf=function(u,c,h){var w=u.cells,k=w.slice(0,c),R=w.slice(c),z=k.concat(h).concat(R);return Kn(u,z)},Gf=function(u,c,h){return jf(u,c,[h])},zc=function(u,c,h){var w=u.cells;w[c]=h},Kn=function(u,c){return Jl(u.element,c,u.section,u.isNew)},As=function(u,c){var h=u.cells,w=at(h,c);return Jl(u.element,w,u.section,u.isNew)},mu=function(u,c){return u.cells[c]},Wi=function(u,c){return mu(u,c).element},Es=function(u){return u.cells.length},bo=function(u){var c=cn(u,function(h){return h.section==="colgroup"});return{rows:c.fail,cols:c.pass}},Vo=function(u,c,h){var w=at(u.cells,h);return Jl(c(u.element),w,u.section,!0)},Ao="data-snooker-locked-cols",Fc=function(u){return qr(u,Ao).bind(function(c){return U.from(c.match(/\d+/g))}).map(function(c){return et(c,le)})},Ai=function(u){var c=te(bo(u).rows,function(w,k){return ot(k.cells,function(R,z){R.isLocked&&(w[z]=!0)}),w},{}),h=Ys(c,function(w,k){return parseInt(k,10)});return pt(h)},gn=function(u,c){return u+","+c},qf=function(u,c,h){return U.from(u.access[gn(c,h)])},gp=function(u,c,h){var w=cr(u,function(k){return h(c,k.element)});return w.length>0?U.some(w[0]):U.none()},cr=function(u,c){var h=Te(u.all,function(w){return w.cells});return lt(h,c)},wa=function(u){var c={},h=0;return ot(u.cells,function(w){var k=w.colspan;_t(k,function(R){var z=h+R;c[z]=ih(w.element,k,z)}),h+=k}),c},vh=function(u){var c={},h=[],w=it(u).map(function(Xt){return Xt.element}).bind(Ua),k=w.bind(Fc).getOr({}),R=0,z=0,K=0,ie=cn(u,function(Xt){return Xt.section==="colgroup"}),be=ie.pass,Pe=ie.fail;ot(Pe,function(Xt){var en=[];ot(Xt.cells,function(On){for(var Wr=0;c[gn(K,Wr)]!==void 0;)Wr++;for(var Tn=Ne(k,Wr.toString()),Jn=Na(On.element,On.rowspan,On.colspan,K,Wr,Tn),_r=0;_r<On.colspan;_r++)for(var wr=0;wr<On.rowspan;wr++){var Co=K+wr,vi=Wr+_r,di=gn(Co,vi);c[di]=Jn,z=Math.max(z,vi+1)}en.push(Jn)}),R++,h.push(qa(Xt.element,en,Xt.section)),K++});var mt=Wt(be).map(function(Xt){var en=wa(Xt),On=lp(Xt.element,Bv(en));return{colgroups:[On],columns:en}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),Lt=mt.columns,At=mt.colgroups,ht=Rn(R,z);return{grid:ht,access:c,all:h,columns:Lt,colgroups:At}},xl=function(u){var c=gb(u);return vh(c)},Fa=function(u){return Te(u.all,function(c){return c.cells})},dh=function(u){return Bv(u.columns)},Mu=function(u){return cu(u.columns).length>0},zd=function(u,c){return U.from(u.columns[c])},mr={fromTable:xl,generate:vh,getAt:qf,findItem:gp,filterItems:cr,justCells:Fa,justColumns:dh,hasColumns:Mu,getColumnAt:zd},eu=function(u,c){var h=c.column,w=c.column+c.colspan-1,k=c.row,R=c.row+c.rowspan-1;return h<=u.finishCol&&w>=u.startCol&&k<=u.finishRow&&R>=u.startRow},a2=function(u,c){return c.column>=u.startCol&&c.column+c.colspan-1<=u.finishCol&&c.row>=u.startRow&&c.row+c.rowspan-1<=u.finishRow},o2=function(u,c){for(var h=!0,w=Ee(a2,c),k=c.startRow;k<=c.finishRow;k++)for(var R=c.startCol;R<=c.finishCol;R++)h=h&&mr.getAt(u,k,R).exists(w);return h?U.some(c):U.none()},Wa=function(u,c){return Hn(Math.min(u.row,c.row),Math.min(u.column,c.column),Math.max(u.row+u.rowspan-1,c.row+c.rowspan-1),Math.max(u.column+u.colspan-1,c.column+c.colspan-1))},mh=function(u,c,h){var w=mr.findItem(u,c,Qr),k=mr.findItem(u,h,Qr);return w.bind(function(R){return k.map(function(z){return Wa(R,z)})})},M=function(u,c,h){return mh(u,c,h).bind(function(w){return o2(u,w)})},J=function(u,c,h,w){return mr.findItem(u,c,Qr).bind(function(k){var R=h>0?k.row+k.rowspan-1:k.row,z=w>0?k.column+k.colspan-1:k.column,K=mr.getAt(u,R+h,z+w);return K.map(function(ie){return ie.element})})},re=function(u,c,h){return mh(u,c,h).map(function(w){var k=mr.filterItems(u,Ee(eu,w));return at(k,function(R){return R.element})})},Ce=function(u,c){var h=function(w,k){return co(k,w)};return mr.findItem(u,c,h).map(function(w){return w.element})},Ge=function(u,c,h){return Ua(u).bind(function(w){var k=Er(w);return J(k,u,c,h)})},bt=function(u,c,h){var w=Er(u);return re(w,c,h)},xn=function(u,c,h,w,k){var R=Er(u),z=Qr(u,h)?U.some(c):Ce(R,c),K=Qr(u,k)?U.some(w):Ce(R,w);return z.bind(function(ie){return K.bind(function(be){return re(R,ie,be)})})},Zn=function(u,c,h){var w=Er(u);return M(w,c,h)},Er=mr.fromTable,hr=function(u,c){var h=_o(u);h.each(function(w){w.dom.insertBefore(c.dom,u.dom)})},xa=function(u,c){var h=je(u);h.fold(function(){var w=_o(u);w.each(function(k){ao(k,c)})},function(w){hr(w,c)})},Ei=function(u,c){var h=fp(u);h.fold(function(){ao(u,c)},function(w){u.dom.insertBefore(c.dom,w.dom)})},ao=function(u,c){u.dom.appendChild(c.dom)},w3=function(u,c,h){lh(u,h).fold(function(){ao(u,c)},function(w){hr(w,c)})},US=function(u,c){hr(u,c),ao(c,u)},WS=function(u,c){ot(c,function(h){hr(u,h)})},C3=function(u,c){ot(c,function(h,w){var k=w===0?u:c[w-1];xa(k,h)})},ac=function(u,c){ot(c,function(h){ao(u,h)})},pp=function(u){u.dom.textContent="",ot(ii(u),function(c){Pu(c)})},Pu=function(u){var c=u.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},hh=function(u){var c=ii(u);c.length>0&&WS(u,c),Pu(u)},i2=function(u,c){var h=function(R){if(!u(R))throw new Error("Can only get "+c+" value of a "+c+" node");return w(R).getOr("")},w=function(R){return u(R)?U.from(R.dom.nodeValue):U.none()},k=function(R,z){if(!u(R))throw new Error("Can only set raw "+c+" value of a "+c+" node");R.dom.nodeValue=z};return{get:h,getOption:w,set:k}},bp=i2(Js,"text"),pb=function(u){return bp.get(u)},jS=function(u){return bp.getOption(u)},S3=function(u,c){return bp.set(u,c)},oc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function yp(){var u=function(be){return Qt.fromDom(be.dom.cloneNode(!1))},c=function(be){return yt(be).dom},h=function(be){return _a(be)?ea(be)==="body"?!0:ut(oc,ea(be)):!1},w=function(be){return _a(be)?ut(["br","img","hr","input"],ea(be)):!1},k=function(be){return _a(be)&&ks(be,"contenteditable")==="false"},R=function(be,Pe){return be.dom.compareDocumentPosition(Pe.dom)},z=function(be,Pe){var mt=Qi(be);ko(Pe,mt)},K=function(be){var Pe=ea(be);return ut(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Pe)},ie=function(be){return _a(be)?qr(be,"lang"):U.none()};return{up:de({selector:_l,closest:no,predicate:Ka,all:Nf}),down:de({selector:ns,predicate:xo}),styles:de({get:tc,getRaw:du,set:fo,remove:ki}),attrs:de({get:ks,set:Lo,remove:Ba,copyTo:z}),insert:de({before:hr,after:xa,afterAll:C3,append:ao,appendAll:ac,prepend:Ei,wrap:US}),remove:de({unwrap:hh,remove:Pu}),create:de({nu:Qt.fromTag,clone:u,text:Qt.fromText}),query:de({comparePosition:R,prevSibling:Mv,nextSibling:je}),property:de({children:ii,name:ea,parent:_o,document:c,isText:Js,isComment:n2,isElement:_a,isSpecial:K,getLanguage:ie,getText:pb,setText:S3,isBoundary:h,isEmptyTag:w,isNonEditable:k}),eq:Qr,is:Rv}}var _3=function(u,c,h,w){var k=h[0],R=h.slice(1);return w(u,c,k,R)},u2=function(u,c,h){return h.length>0?_3(u,c,h,x3):U.none()},x3=function(u,c,h,w){var k=c(u,h);return Sn(w,function(R,z){var K=c(u,z);return k3(u,R,K)},k)},k3=function(u,c,h){return c.bind(function(w){return h.filter(Ee(u.eq,w))})},gh=function(u,c){return Ee(u.eq,c)},wp=function(u,c,h,w){w===void 0&&(w=Ye);var k=[c].concat(u.up().all(c)),R=[h].concat(u.up().all(h)),z=function(Pe){var mt=gt(Pe,w);return mt.fold(function(){return Pe},function(Lt){return Pe.slice(0,Lt+1)})},K=z(k),ie=z(R),be=Ue(K,function(Pe){return B(ie,gh(u,Pe))});return{firstpath:K,secondpath:ie,shared:be}},GS=u2,qS=wp,is=yp(),$n=function(u,c){return GS(is,function(h,w){return u(w)},c)},Kf=function(u,c,h){return qS(is,u,c,h)},Cp=function(u){return _l(u,"table")},Iv=function(u,c,h){var w=function(k){return function(R){return h!==void 0&&h(R)||Qr(R,k)}};return Qr(u,c)?U.some({boxes:U.some([u]),start:u,finish:c}):Cp(u).bind(function(k){return Cp(c).bind(function(R){if(Qr(k,R))return U.some({boxes:bt(k,u,c),start:u,finish:c});if(co(k,R)){var z=Pc(c,"td,th",w(k)),K=z.length>0?z[z.length-1]:c;return U.some({boxes:xn(k,u,k,c,R),start:u,finish:K})}else if(co(R,k)){var z=Pc(u,"td,th",w(R)),ie=z.length>0?z[z.length-1]:u;return U.some({boxes:xn(R,u,k,c,R),start:u,finish:ie})}else return Kf(u,c).shared.bind(function(be){return no(be,"table",h).bind(function(Pe){var mt=Pc(c,"td,th",w(Pe)),Lt=mt.length>0?mt[mt.length-1]:c,At=Pc(u,"td,th",w(Pe)),ht=At.length>0?At[At.length-1]:u;return U.some({boxes:xn(Pe,u,k,c,R),start:ht,finish:Lt})})})})})},ph=function(u,c){var h=ns(u,c);return h.length>0?U.some(h):U.none()},s2=function(u,c){return Ue(u,function(h){return xi(h,c)})},kl=function(u,c,h){return rs(u,c).bind(function(w){return rs(u,h).bind(function(k){return $n(Cp,[w,k]).map(function(R){return{first:w,last:k,table:R}})})})},Fd=function(u,c){return _l(u,"table").bind(function(h){return rs(h,c).bind(function(w){return Iv(w,u).bind(function(k){return k.boxes.map(function(R){return{boxes:R,start:k.start,finish:k.finish}})})})})},bh=function(u,c,h,w,k){return s2(u,k).bind(function(R){return Ge(R,c,h).bind(function(z){return Fd(z,w)})})},yo=function(u,c){return ph(u,c)},si=function(u,c,h){return kl(u,c,h).bind(function(w){var k=function(ie){return Qr(u,ie)},R="thead,tfoot,tbody,table",z=_l(w.first,R,k),K=_l(w.last,R,k);return z.bind(function(ie){return K.bind(function(be){return Qr(ie,be)?Zn(w.table,w.first,w.last):U.none()})})})},Sp=function(u){if(!T(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var c=[],h={};return ot(u,function(w,k){var R=cu(w);if(R.length!==1)throw new Error("one and only one name per case");var z=R[0],K=w[z];if(h[z]!==void 0)throw new Error("duplicate key detected:"+z);if(z==="cata")throw new Error("cannot have a case named cata (sorry)");if(!T(K))throw new Error("case arguments must be an array");c.push(z),h[z]=function(){for(var ie=[],be=0;be<arguments.length;be++)ie[be]=arguments[be];var Pe=ie.length;if(Pe!==K.length)throw new Error("Wrong number of arguments to case "+z+". Expected "+K.length+" ("+K+"), got "+Pe);var mt=function(Lt){var At=cu(Lt);if(c.length!==At.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+At.join(","));var ht=Ae(c,function(Xt){return ut(At,Xt)});if(!ht)throw new Error("Not all branches were specified when using match. Specified: "+At.join(", ")+`
Required: `+c.join(", "));return Lt[z].apply(null,ie)};return{fold:function(){for(var Lt=[],At=0;At<arguments.length;At++)Lt[At]=arguments[At];if(Lt.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+Lt.length);var ht=Lt[k];return ht.apply(null,ie)},match:mt,log:function(Lt){console.log(Lt,{constructors:c,constructor:z,params:ie})}}}}),h},Lc={generate:Sp},_p=Lc.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),bb=function(u,c,h,w){return u.fold(c,h,w)},yb=_p.none,A3=_p.multiple,yh=_p.single,ji=function(u,c,h){var w=function(){return yo(u(),h).fold(function(){return c().fold(yb,yh)},function(k){return A3(k)})};return{get:w}},KS=tinymce.util.Tools.resolve("tinymce.PluginManager"),Xa=function(u,c){return Qt.fromDom(u.dom.cloneNode(c))},Al=function(u){return Xa(u,!1)},sa=function(u){return Xa(u,!0)},Nv=function(u,c){var h=Qt.fromTag(c),w=Qi(u);return ko(h,w),h},el=function(u,c){var h=Nv(u,c),w=ii(sa(u));return ac(h,w),h},E3=function(u,c){var h=Nv(u,c);hr(u,h);var w=ii(u);return ac(h,w),Pu(u),h},Uo=function(u,c){var h=function(K,ie){if(!H(ie)&&!ie.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+ie);var be=K.dom;Zs(be)&&(be.style[u]=ie+"px")},w=function(K){var ie=c(K);if(ie<=0||ie===null){var be=tc(K,u);return parseFloat(be)||0}return ie},k=w,R=function(K,ie){return te(ie,function(be,Pe){var mt=tc(K,Pe),Lt=mt===void 0?0:parseInt(mt,10);return isNaN(Lt)?be:be+Lt},0)},z=function(K,ie,be){var Pe=R(K,be),mt=ie>Pe?ie-Pe:0;return mt};return{set:h,get:w,getOuter:k,aggregate:R,max:z}},hu=function(){var u=Yl().browser;return u.isIE()||u.isEdge()},XS=function(u,c){return lu(u).getOr(c)},xt=function(u,c,h){return XS(tc(u,c),h)},Iu=function(u){return tc(u,"box-sizing")},Xf=function(u,c,h,w){var k=xt(u,"padding-"+h,0),R=xt(u,"padding-"+w,0),z=xt(u,"border-"+h+"-width",0),K=xt(u,"border-"+w+"-width",0);return c-k-R-z-K},Xn=function(u,c){var h=u.dom,w=h.getBoundingClientRect().height||h.offsetHeight;return c==="border-box"?w:Xf(u,w,"top","bottom")},Ts=function(u,c){var h=u.dom,w=h.getBoundingClientRect().width||h.offsetWidth;return c==="border-box"?w:Xf(u,w,"left","right")},T3=function(u){return hu()?Xn(u,Iu(u)):xt(u,"height",u.dom.offsetHeight)},tu=function(u){return hu()?Ts(u,Iu(u)):xt(u,"width",u.dom.offsetWidth)},wh=function(u){return Ts(u,"content-box")},Hc=Uo("width",function(u){return u.dom.offsetWidth}),El=function(u){return Hc.get(u)},Gi=function(u){return Hc.getOuter(u)},Kr=wh,ic=tu,Ld=function(u,c){c===void 0&&(c=le);var h=u.grid,w=_t(h.columns,Be),k=_t(h.rows,Be);return at(w,function(R){var z=function(){return Te(k,function(be){return mr.getAt(u,be,R).filter(function(Pe){return Pe.column===R}).toArray()})},K=function(be){return be.colspan===1&&c(be.element)},ie=function(){return mr.getAt(u,0,R)};return Ea(z,K,ie)})},Ea=function(u,c,h){var w=u(),k=Ue(w,c),R=k.orThunk(function(){return U.from(w[0]).orThunk(h)});return R.map(function(z){return z.element})},zv=function(u){var c=u.grid,h=_t(c.rows,Be),w=_t(c.columns,Be);return at(h,function(k){var R=function(){return Te(w,function(ie){return mr.getAt(u,k,ie).filter(function(be){return be.row===k}).fold(de([]),function(be){return[be]})})},z=function(ie){return ie.rowspan===1},K=function(){return mr.getAt(u,k,0)};return Ea(R,z,K)})},us=function(u,c){if(c<0||c>=u.length-1)return U.none();var h=u[c].fold(function(){var k=Je(u.slice(0,c));return Dt(k,function(R,z){return R.map(function(K){return{value:K,delta:z+1}})})},function(k){return U.some({value:k,delta:0})}),w=u[c+1].fold(function(){var k=u.slice(c+1);return Dt(k,function(R,z){return R.map(function(K){return{value:K,delta:z+1}})})},function(k){return U.some({value:k,delta:1})});return h.bind(function(k){return w.map(function(R){var z=R.delta+k.delta;return Math.abs(R.value-k.value)/z})})},ss=function(u,c){return function(h){return O3(h)==="rtl"?c:u}},O3=function(u){return tc(u,"direction")==="rtl"?"rtl":"ltr"},Ve=Uo("height",function(u){var c=u.dom;return Ql(u)?c.getBoundingClientRect().height:c.offsetHeight}),gu=function(u){return Ve.get(u)},uc=function(u){return Ve.getOuter(u)},Ch=T3,Os=function(u,c){var h=function(w,k){return Os(u+w,c+k)};return{left:u,top:c,translate:h}},Ca=Os,Ta=function(u){var c=u.getBoundingClientRect();return Ca(c.left,c.top)},Nu=function(u,c){return u!==void 0?u:c!==void 0?c:0},Yf=function(u){var c=u.dom.ownerDocument,h=c.body,w=c.defaultView,k=c.documentElement;if(h===u.dom)return Ca(h.offsetLeft,h.offsetTop);var R=Nu(w==null?void 0:w.pageYOffset,k.scrollTop),z=Nu(w==null?void 0:w.pageXOffset,k.scrollLeft),K=Nu(k.clientTop,h.clientTop),ie=Nu(k.clientLeft,h.clientLeft);return l2(u).translate(z-ie,R-K)},l2=function(u){var c=u.dom,h=c.ownerDocument,w=h.body;return w===c?Ca(w.offsetLeft,w.offsetTop):Ql(u)?Ta(c):Ca(0,0)},Pn=function(u,c){return{row:u,y:c}},wb=function(u,c){return{col:u,x:c}},Ds=function(u){var c=Yf(u);return c.left+Gi(u)},YS=function(u){return Yf(u).left},xp=function(u,c){return wb(u,YS(c))},kp=function(u,c){return wb(u,Ds(c))},c2=function(u){return Yf(u).top},f2=function(u,c){return Pn(u,c2(c))},Vc=function(u,c){return Pn(u,c2(c)+uc(c))},Jf=function(u,c,h){if(h.length===0)return[];var w=at(h.slice(1),function(R,z){return R.map(function(K){return u(z,K)})}),k=h[h.length-1].map(function(R){return c(h.length-1,R)});return w.concat([k])},D3=function(u){return-u},v2={delta:Be,positions:function(u){return Jf(f2,Vc,u)},edge:c2},R3={delta:Be,edge:YS,positions:function(u){return Jf(xp,kp,u)}},JS={delta:D3,edge:Ds,positions:function(u){return Jf(kp,xp,u)}},Ap=ss(R3,JS),Sh={delta:function(u,c){return Ap(c).delta(u,c)},positions:function(u,c){return Ap(c).positions(u,c)},edge:function(u){return Ap(u).edge(u)}},ZS={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Uc=function(){var u="[0-9]+",c="[+-]?"+u,h="[eE]"+c,w="\\.",k=function(K){return"(?:"+K+")?"},R=["Infinity",u+w+k(u)+k(h),w+u+k(h),u+k(h)].join("|"),z="[+-]?(?:"+R+")";return new RegExp("^("+z+")(.*)$")}(),_h=function(u,c){return B(c,function(h){return B(ZS[h],function(w){return u===w})})},d2=function(u,c){var h=U.from(Uc.exec(u));return h.bind(function(w){var k=Number(w[1]),R=w[2];return _h(R,c)?U.some({value:k,unit:R}):U.none()})},QS=/(\d+(\.\d+)?)%/,$3=/(\d+(\.\d+)?)px|em/,B3=Jo("col"),Po=function(u,c,h){var w=sb(u).getOrThunk(function(){return vb(If(u))});return c(u)/h(w)*100},Wc=function(u,c){fo(u,"width",c+"px")},Tl=function(u,c){fo(u,"width",c+"%")},Fv=function(u,c){fo(u,"height",c+"px")},e_=function(u){return Ch(u)+"px"},Ol=function(u,c,h,w){var k=Ua(u).map(function(R){var z=h(R);return Math.floor(c/100*z)}).getOr(c);return w(u,k),k},Hd=function(u,c,h,w){var k=parseFloat(u);return Ju(u,"%")&&ea(c)!=="table"?Ol(c,k,h,w):k},m2=function(u){var c=e_(u);return c?Hd(c,u,gu,Fv):gu(u)},h2=function(u,c,h){var w=h(u),k=Ho(u,c);return w/k},Zf=function(u,c){return du(u,c).orThunk(function(){return qr(u,c).map(function(h){return h+"px"})})},tl=function(u){return Zf(u,"width")},Ti=function(u){return Zf(u,"height")},Cb=function(u){return Po(u,El,Kr)},g2=function(u){return B3(u)?El(u):ic(u)},Vd=function(u){return h2(u,"rowspan",m2)},xh=function(u){var c=tl(u);return c.bind(function(h){return d2(h,["fixed","relative","empty"])})},kh=function(u,c,h){fo(u,"width",c+h)},M3=function(u){return El(u)+"px"},Ah=function(u){return Po(u,El,Kr)+"%"},p2=function(u){return tl(u).exists(function(c){return QS.test(c)})},P3=function(u){return tl(u).exists(function(c){return $3.test(c)})},oo=function(u){return tl(u).isNone()},Sb=de(QS),Lv=Jo("col"),b2=function(u){return tl(u).getOrThunk(function(){return g2(u)+"px"})},y2=function(u){return Ti(u).getOrThunk(function(){return Vd(u)+"px"})},nl=function(u){return at(mr.justColumns(u),function(c){return U.from(c.element)})},Rs=function(u){var c=Yl().browser,h=c.isChrome()||c.isFirefox();return Lv(u)?h:!0},Ud=function(u,c,h,w,k,R){return u.filter(w).fold(function(){return R(us(h,c))},function(z){return k(z)})},Hv=function(u,c,h,w){var k=Ld(u),R=mr.hasColumns(u)?nl(u):k,z=[U.some(Sh.edge(c))].concat(at(Sh.positions(k,c),function(ie){return ie.map(function(be){return be.x})})),K=De(Nd);return at(R,function(ie,be){return Ud(ie,be,z,K,function(Pe){if(Rs(Pe))return h(Pe);var mt=mb(k[be],Be);return Ud(mt,be,z,K,function(Lt){return w(U.some(El(Lt)))},w)},w)})},_b=function(u){return u.map(function(c){return c+"px"}).getOr("")},Ep=function(u,c){return Hv(u,c,b2,_b)},w2=function(u,c,h){return Hv(u,c,Cb,function(w){return w.fold(function(){return h.minCellWidth()},function(k){return k/h.pixelWidth()*100})})},Wd=function(u,c,h){return Hv(u,c,g2,function(w){return w.getOrThunk(h.minCellWidth)})},xb=function(u,c,h,w,k){var R=zv(u),z=[U.some(h.edge(c))].concat(at(h.positions(R,c),function(K){return K.map(function(ie){return ie.y})}));return at(R,function(K,ie){return Ud(K,ie,z,De(hb),w,k)})},I3=function(u,c,h){return xb(u,c,h,Vd,function(w){return w.getOrThunk(vo)})},C2=function(u,c,h){return xb(u,c,h,y2,_b)},$s=function(u,c){return function(){return Ql(u)?c(u):parseFloat(du(u,"width").getOr("0"))}},ls=function(u){var c=$s(u,El),h=de(0),w=function(k,R){return Wd(k,u,R)};return{width:c,pixelWidth:c,getWidths:w,getCellDelta:h,singleColumnWidth:de([0]),minCellWidth:h,setElementWidth:Y,adjustTableWidth:Y,isRelative:!0,label:"none"}},Eh=function(u){var c=$s(u,function(ie){return parseFloat(Ah(ie))}),h=$s(u,El),w=function(ie){return ie/h()*100},k=function(ie,be){return[100-ie]},R=function(){return Hf()/h()*100},z=function(ie){var be=c(),Pe=ie/100*be,mt=be+Pe;Tl(u,mt)},K=function(ie,be){return w2(ie,u,be)};return{width:c,pixelWidth:h,getWidths:K,getCellDelta:w,singleColumnWidth:k,minCellWidth:R,setElementWidth:Tl,adjustTableWidth:z,isRelative:!0,label:"percent"}},Dl=function(u){var c=$s(u,El),h=Be,w=function(z,K){var ie=Math.max(Hf(),z+K);return[ie-z]},k=function(z){var K=c()+z;Wc(u,K)},R=function(z,K){return Wd(z,u,K)};return{width:c,pixelWidth:c,getWidths:R,getCellDelta:h,singleColumnWidth:w,minCellWidth:Hf,setElementWidth:Wc,adjustTableWidth:k,isRelative:!1,label:"pixel"}},qi=function(u,c){var h=Sb().exec(c);return h!==null?Eh(u):Dl(u)},kb=function(u){var c=tl(u);return c.fold(function(){return ls(u)},function(h){return qi(u,h)})},Qf={getTableSize:kb,pixelSize:Dl,percentageSize:Eh,noneSize:ls},t_=function(u,c,h,w,k,R){return{minRow:u,minCol:c,maxRow:h,maxCol:w,allCells:k,selectedCells:R}},Oi=function(u,c){var h=u.grid.columns,w=u.grid.rows,k=w,R=h,z=0,K=0,ie=[],be=[];return Ra(u.access,function(Pe){if(ie.push(Pe),c(Pe)){be.push(Pe);var mt=Pe.row,Lt=mt+Pe.rowspan-1,At=Pe.column,ht=At+Pe.colspan-1;mt<k?k=mt:Lt>z&&(z=Lt),At<R?R=At:ht>K&&(K=ht)}}),t_(k,R,z,K,ie,be)},S2=function(u,c,h){var w=u[h].element,k=Qt.fromTag("td");ao(k,Qt.fromTag("br"));var R=c?ao:Ei;R(w,k)},Ab=function(u,c,h,w){for(var k=c.grid.columns,R=c.grid.rows,z=0;z<R;z++)for(var K=!1,ie=0;ie<k;ie++)if(!(z<h.minRow||z>h.maxRow||ie<h.minCol||ie>h.maxCol)){var be=mr.getAt(c,z,ie).filter(w).isNone();be?S2(u,K,z):K=!0}},Ur=function(u,c,h,w){Ra(h.columns,function(z){(z.column<c.minCol||z.column>c.maxCol)&&Pu(z.element)});var k=lt(Vf(u,"tr"),function(z){return z.dom.childElementCount===0});ot(k,Pu),(c.minCol===c.maxCol||c.minRow===c.maxRow)&&ot(Vf(u,"th,td"),function(z){Ba(z,"rowspan"),Ba(z,"colspan")}),Ba(u,Ao),Ba(u,"data-snooker-col-series");var R=Qf.getTableSize(u);R.adjustTableWidth(w)},In=function(u,c,h,w){if(w.minCol===0&&c.grid.columns===w.maxCol+1)return 0;var k=Wd(c,u,h),R=te(k,function(be,Pe){return be+Pe},0),z=te(k.slice(w.minCol,w.maxCol+1),function(be,Pe){return be+Pe},0),K=z/R*h.pixelWidth(),ie=K-h.pixelWidth();return h.getCellDelta(ie)},Bs=function(u,c){var h=function(Lt){return xi(Lt.element,c)},w=sa(u),k=gb(w),R=Qf.getTableSize(u),z=mr.generate(k),K=Oi(z,h),ie="th:not("+c+"),td:not("+c+")",be=Uf(w,"th,td",function(Lt){return xi(Lt,ie)});ot(be,Pu),Ab(k,z,K,h);var Pe=mr.fromTable(u),mt=In(u,Pe,R,K);return Ur(w,K,z,mt),w},Eb="",Rl=function(u){return ea(u)==="img"?1:jS(u).fold(function(){return ii(u).length},function(c){return c.length})},n_=function(u){return jS(u).filter(function(c){return c.trim().length!==0||c.indexOf(Eb)>-1}).isSome()},Sa=["img","br"],_2=function(u){var c=n_(u);return c||ut(Sa,ea(u))},Tb=function(u){return mp(u,_2)},Ob=function(u){return Rt(u,_2)},Rt=function(u,c){var h=function(w){for(var k=ii(w),R=k.length-1;R>=0;R--){var z=k[R];if(c(z))return U.some(z);var K=h(z);if(K.isSome())return K}return U.none()};return h(u)},x2={scope:["row","col"]},k2=function(u){return function(){var c=Qt.fromTag("td",u.dom);return ao(c,Qt.fromTag("br",u.dom)),c}},Vv=function(u){return function(){return Qt.fromTag("col",u.dom)}},Tp=function(u){return function(){return Qt.fromTag("colgroup",u.dom)}},jd=function(u){return function(){return Qt.fromTag("tr",u.dom)}},Uv=function(u,c,h){var w=el(u,c);return Ra(h,function(k,R){k===null?Ba(w,R):Lo(w,R,k)}),w},Gd=function(u){return u},Th=function(u,c,h){var w=Tb(u);return w.map(function(k){var R=h.join(","),z=Pc(k,R,function(K){return Qr(K,u)});return Sn(z,function(K,ie){var be=Al(ie);return Ba(be,"contenteditable"),ao(K,be),be},c)}).getOr(c)},Eo=function(u,c){Ra(x2,function(h,w){return qr(u,w).filter(function(k){return ut(h,k)}).each(function(k){return Lo(c,w,k)})})},rr=function(u,c,h){var w=function(z,K){Pv(z.element,K),ki(K,"height"),z.colspan!==1&&ki(K,"width")},k=function(z){var K=Qt.fromTag(ea(z.element),c.dom),ie=h.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),be=ie.length>0?Th(z.element,K,ie):K;return ao(be,Qt.fromTag("br")),w(z,K),Eo(z.element,K),u(z.element,K),K},R=function(z){var K=Qt.fromTag(ea(z.element),c.dom);return w(z,K),u(z.element,K),K};return{col:R,colgroup:Tp(c),row:jd(c),cell:k,replace:Uv,colGap:Vv(c),gap:k2(c)}},Ms=function(u){return{col:Vv(u),colgroup:Tp(u),row:jd(u),cell:k2(u),replace:Gd,colGap:Vv(u),gap:k2(u)}},r_=function(u,c){var h=c||document,w=h.createElement("div");return w.innerHTML=u,ii(Qt.fromDom(w))},cs=function(u){return at(u,Qt.fromDom)},A2=function(u){return u.nodeName.toLowerCase()},jc=function(u){return Qt.fromDom(u.getBody())},ev=function(u){return u.getBoundingClientRect().width},tv=function(u){return u.getBoundingClientRect().height},Ps=function(u){return function(c){return Qr(c,jc(u))}},Wv=function(u){return u?u.replace(/px$/,""):""},Zo=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},pu=function(u){Ba(u,"data-mce-style");var c=function(h){return Ba(h,"data-mce-style")};ot(Wf(u),c),ot(rc(u),c),ot(Bu(u),c)},Gc=function(u,c){var h=u.dom.getStyle(c,"width")||u.dom.getAttrib(c,"width");return U.from(h).filter(Mr)},jv=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},Oh=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},qd=function(u){return Qt.fromDom(u.selection.getStart())},wn=function(u){return Qt.fromDom(u.selection.getEnd())},li=function(u){return bb(u.get(),de([]),Be,He)},sc=function(u){var c=function(k,R){return qr(k,R).exists(function(z){return parseInt(z,10)>1})},h=function(k){return c(k,"rowspan")||c(k,"colspan")},w=li(u);return w.length>0&&Ae(w,h)?U.some(w):U.none()},qc=function(u,c,h){return bb(c.get(),U.none,function(w){return w.length<=1?U.none():si(u,h.firstSelectedSelector,h.lastSelectedSelector).map(function(k){return{bounds:k,cells:w}})},U.none)},Op="data-mce-selected",a_="td["+Op+"],th["+Op+"]",Db="["+Op+"]",Gv="data-mce-first-selected",qv="td["+Gv+"],th["+Gv+"]",Dh="data-mce-last-selected",Dp="td["+Dh+"],th["+Dh+"]",N3=Db,Is={selected:Op,selectedSelector:a_,firstSelected:Gv,firstSelectedSelector:qv,lastSelected:Dh,lastSelectedSelector:Dp},E2=function(u){return{element:u,mergable:U.none(),unmergable:U.none(),selection:[u]}},Kd=function(u,c,h){return{element:h,mergable:qc(c,u,Is),unmergable:sc(u),selection:li(u)}},Kv=function(u,c,h){return{element:u,clipboard:c,generators:h}},T2=function(u,c,h,w){return{selection:li(u),clipboard:h,generators:w}},Xv=function(u){return Ua(u).bind(function(c){return yo(c,Is.firstSelectedSelector)}).fold(de(u),function(c){return c[0]})},o_=function(u){return function(c,h){var w=ea(c),k=w==="col"||w==="colgroup"?Xv(c):c;return no(k,u,h)}},Ya=o_("th,td,caption"),Di=o_("th,td"),Ki=function(u){return li(u)},i_=function(u,c){var h=Di(u),w=h.bind(function(k){return Ua(k)}).map(function(k){return Bu(k)});return as(h,w,function(k,R){return lt(R,function(z){return B(cs(z.dom.cells),function(K){return ks(K,c)==="1"||Qr(K,k)})})}).getOr([])},Rb=function(u){return Ua(u[0]).map(function(c){var h=Bs(c,N3);return pu(h),[h]})},z3=function(u,c){return at(c,function(h){return u.selection.serializer.serialize(h.dom,{})}).join("")},u_=function(u){return at(u,function(c){return c.dom.innerText}).join("")},$l=function(u,c,h){u.on("BeforeGetContent",function(w){var k=function(R){w.preventDefault(),Rb(R).each(function(z){w.content=w.format==="text"?u_(z):z3(u,z)})};w.selection===!0&&bb(c.get(),Y,k,Y)}),u.on("BeforeSetContent",function(w){if(w.selection===!0&&w.paste===!0){var k=Ki(c);it(k).each(function(R){Ua(R).each(function(z){var K=lt(r_(w.content),function(Lt){return ea(Lt)!=="meta"}),ie=Jo("table");if(K.length===1&&ie(K[0])){w.preventDefault();var be=Qt.fromDom(u.getDoc()),Pe=Ms(be),mt=Kv(R,K[0],Pe);h.pasteCells(z,mt).each(function(){u.focus()})}})})}})},F3=Lc.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Rh=zt({},F3),$b=function(u,c){return u.length===0?Rh.none():u.length===1?Rh.only(0):c===0?Rh.left(0,1):c===u.length-1?Rh.right(c-1,c):c>0&&c<u.length-1?Rh.middle(c-1,c,c+1):Rh.none()},L3=function(u,c,h,w,k){var R=u.slice(0),z=$b(u,c),K=de(at(R,de(0))),ie=function(Lt){return w.singleColumnWidth(R[Lt],h)},be=function(Lt,At){return k.calcLeftEdgeDeltas(R,Lt,At,h,w.minCellWidth(),w.isRelative)},Pe=function(Lt,At,ht){return k.calcMiddleDeltas(R,Lt,At,ht,h,w.minCellWidth(),w.isRelative)},mt=function(Lt,At){return k.calcRightEdgeDeltas(R,Lt,At,h,w.minCellWidth(),w.isRelative)};return z.fold(K,ie,be,Pe,mt)},s_=function(u,c,h){for(var w=0,k=u;k<c;k++)w+=h[k]!==void 0?h[k]:0;return w},O2=function(u,c){var h=mr.justCells(u);return at(h,function(w){var k=s_(w.column,w.column+w.colspan,c);return{element:w.element,width:k,colspan:w.colspan}})},D2=function(u,c){var h=mr.justColumns(u);return at(h,function(w,k){return{element:w.element,width:c[k],colspan:w.colspan}})},R2=function(u,c){var h=mr.justCells(u);return at(h,function(w){var k=s_(w.row,w.row+w.rowspan,c);return{element:w.element,height:k,rowspan:w.rowspan}})},H3=function(u,c){return at(u.all,function(h,w){return{element:h.element,height:c[w]}})},Yv=function(u){return Sn(u,function(c,h){return c+h},0)},Jv=function(u,c){return mr.hasColumns(u)?D2(u,c):O2(u,c)},ga=function(u,c,h){var w=Jv(u,c);ot(w,function(k){h.setElementWidth(k.element,k.width)})},Bb=function(u,c,h,w,k){var R=mr.fromTable(u),z=k.getCellDelta(c),K=k.getWidths(R,k),ie=h===R.grid.columns-1,be=w.clampTableDelta(K,h,z,k.minCellWidth(),ie),Pe=L3(K,h,be,k,w),mt=at(Pe,function(Lt,At){return Lt+K[At]});ga(R,mt,k),w.resizeTable(k.adjustTableWidth,be,ie)},lc=function(u,c,h,w){var k=mr.fromTable(u),R=I3(k,u,w),z=at(R,function(Pe,mt){return h===mt?Math.max(c+Pe,vo()):Pe}),K=R2(k,z),ie=H3(k,z);ot(ie,function(Pe){Fv(Pe.element,Pe.height)}),ot(K,function(Pe){Fv(Pe.element,Pe.height)});var be=Yv(z);Fv(u,be)},l_=function(u,c,h,w,k){var R=mr.generate(c),z=w.getWidths(R,w),K=w.pixelWidth(),ie=k.calcRedestributedWidths(z,K,h.pixelDelta,w.isRelative),be=ie.newSizes,Pe=ie.delta;ga(R,be,w),w.adjustTableWidth(Pe)},cc=function(u,c,h,w){var k=mr.generate(c),R=w.getWidths(k,w);ga(k,R,w)},Kc=function(u){return at(u,de(0))},Zv=function(u,c,h,w,k){return k(u.slice(0,c)).concat(w).concat(k(u.slice(h)))},Mb=function(u){return function(c,h,w,k){if(u(w)){var R=Math.max(k,c[h]-Math.abs(w)),z=Math.abs(R-c[h]);return w>=0?z:-z}else return w}},Rp=Mb(function(u){return u<0}),Pb=Mb(le),Ib=function(){var u=function(K,ie,be,Pe,mt){var Lt=Rp(K,ie,Pe,mt);return Zv(K,ie,be+1,[Lt,0],Kc)},c=function(K,ie,be,Pe){var mt=(100+be)/100,Lt=Math.max(Pe,(K[ie]+be)/mt);return at(K,function(At,ht){var Xt=ht===ie?Lt:At/mt;return Xt-At})},h=function(K,ie,be,Pe,mt,Lt){return Lt?c(K,ie,Pe,mt):u(K,ie,be,Pe,mt)},w=function(K,ie,be,Pe,mt,Lt,At){return h(K,be,Pe,mt,Lt,At)},k=function(K,ie){return K(ie)},R=function(K,ie,be,Pe,mt,Lt){if(Lt)return c(K,be,Pe,mt);var At=Rp(K,be,Pe,mt);return Kc(K.slice(0,be)).concat([At])},z=function(K,ie,be,Pe){if(Pe){var mt=ie+be,Lt=mt/ie,At=at(K,function(ht){return ht/Lt});return{delta:Lt*100-100,newSizes:At}}else return{delta:be,newSizes:K}};return{resizeTable:k,clampTableDelta:Rp,calcLeftEdgeDeltas:h,calcMiddleDeltas:w,calcRightEdgeDeltas:R,calcRedestributedWidths:z}},Xd=function(){var u=function(z,K,ie,be,Pe){var mt=be>=0?ie:K,Lt=Pb(z,mt,be,Pe);return Zv(z,K,ie+1,[Lt,-Lt],Kc)},c=function(z,K,ie,be,Pe,mt){return u(z,ie,be,Pe,mt)},h=function(z,K,ie){ie&&z(K)},w=function(z,K,ie,be,Pe,mt){if(mt)return Kc(z);var Lt=be/z.length;return at(z,de(Lt))},k=function(z,K,ie,be,Pe){if(Pe){if(ie>=0)return ie;var mt=te(z,function(Lt,At){return Lt+At-be},0);return Math.max(-mt,ie)}else return Rp(z,K,ie,be)},R=function(z,K,ie,be){return{delta:0,newSizes:z}};return{resizeTable:h,clampTableDelta:k,calcLeftEdgeDeltas:u,calcMiddleDeltas:c,calcRightEdgeDeltas:w,calcRedestributedWidths:R}},V3=function(u,c){var h=U.from(u.dom.documentElement).map(Qt.fromDom).getOr(u);return{parent:de(h),view:de(u),origin:de(Ca(0,0)),isResizable:c}},Nb=function(u,c,h){var w=function(){return Yf(c)};return{parent:de(c),view:de(u),origin:w,isResizable:h}},$h=function(u,c,h){return{parent:de(c),view:de(u),origin:de(Ca(0,0)),isResizable:h}},$p={only:V3,detached:Nb,body:$h},Bp=Lc.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),$2=function(u,c,h){var w=h.substring(0,h.length-u.length),k=parseFloat(w);return w===k.toString()?c(k):Bp.invalid(h)},Wo=function(u){return Ju(u,"%")?$2("%",Bp.percent,u):Ju(u,"px")?$2("px",Bp.pixels,u):Bp.invalid(u)},Yd=zt(zt({},Bp),{from:Wo}),Io=function(u,c){return at(u,function(h){var w=Yd.from(h);return w.fold(function(){return h},function(k){var R=k/c*100;return R+"%"},function(k){return k+"%"})})},bu=function(u,c,h){var w=h/c;return at(u,function(k){var R=Yd.from(k);return R.fold(function(){return k},function(z){return z*w+"px"},function(z){return z/100*h+"px"})})},Jd=function(u,c){var h=u.fold(function(){return de("")},function(w){var k=w/c;return de(k+"px")},function(){var w=100/c;return de(w+"%")});return _t(c,h)},Ns=function(u,c,h){return u.fold(function(){return c},function(w){return bu(c,h,w)},function(w){return Io(c,h)})},zb=function(u,c,h){var w=Yd.from(h),k=Ae(u,function(R){return R==="0px"})?Jd(w,u.length):Ns(w,u,c);return c_(k)},Xc=function(u,c){return u.length===0?c:Sn(u,function(h,w){return Yd.from(w).fold(de(0),Be,Be)+h},0)},Bh=function(u,c){var h=Math.floor(u);return{value:h+c,remainder:u-h}},Mh=function(u,c){return Yd.from(u).fold(de(u),function(h){return h+c+"px"},function(h){return h+c+"%"})},c_=function(u){if(u.length===0)return u;var c=Sn(u,function(w,k){var R=Yd.from(k).fold(function(){return{value:k,remainder:0}},function(z){return Bh(z,"px")},function(z){return{value:z+"%",remainder:0}});return{output:[R.value].concat(w.output),remainder:w.remainder+R.remainder}},{output:[],remainder:0}),h=c.output;return h.slice(0,h.length-1).concat([Mh(h[h.length-1],Math.round(c.remainder))])},f_=Yd.from,U3=function(u,c,h){ot(c,function(w){var k=u.slice(w.column,w.colspan+w.column),R=Xc(k,Hf());fo(w.element,"width",R+h)})},W3=function(u,c,h){ot(c,function(w,k){var R=Xc([u[k]],Hf());fo(w.element,"width",R+h)})},j3=function(u,c,h,w){ot(h,function(k){var R=u.slice(k.row,k.rowspan+k.row),z=Xc(R,vo());fo(k.element,"height",z+w)}),ot(c,function(k,R){fo(k.element,"height",u[R])})},v_=function(u){return f_(u).fold(de("px"),de("px"),de("%"))},Fb=function(u,c,h){var w=mr.fromTable(u),k=w.all,R=mr.justCells(w),z=mr.justColumns(w);c.each(function(K){var ie=v_(K),be=El(u),Pe=Ep(w,u),mt=zb(Pe,be,K);mr.hasColumns(w)?W3(mt,z,ie):U3(mt,R,ie),fo(u,"width",K)}),h.each(function(K){var ie=v_(K),be=gu(u),Pe=C2(w,u,v2),mt=zb(Pe,be,K);j3(mt,k,R,ie),fo(u,"height",K)})},Lb=p2,Ri=P3,Hb=oo,B2=function(u){var c=mr.fromTable(u);return c.grid},rl=function(u){var c=[],h=function(R){if(R===void 0)throw new Error("Event bind error: undefined handler");c.push(R)},w=function(R){c=lt(c,function(z){return z!==R})},k=function(){for(var R=[],z=0;z<arguments.length;z++)R[z]=arguments[z];var K={};ot(u,function(ie,be){K[ie]=R[be]}),ot(c,function(ie){ie(K)})};return{bind:h,unbind:w,trigger:k}},La=function(u){var c=Mf(u,function(w){return{bind:w.bind,unbind:w.unbind}}),h=Mf(u,function(w){return w.trigger});return{registry:c,trigger:h}},zs=function(u,c){var h=null,w=function(){D(h)||(clearTimeout(h),h=null)},k=function(){for(var R=[],z=0;z<arguments.length;z++)R[z]=arguments[z];w(),h=setTimeout(function(){h=null,u.apply(null,R)},c)};return{cancel:w,throttle:k}},Qv=function(u){return u.slice(0).sort()},M2=function(u,c){throw new Error("All required keys ("+Qv(u).join(", ")+") were not specified. Specified keys were: "+Qv(c).join(", ")+".")},Vb=function(u){throw new Error("Unsupported keys for object: "+Qv(u).join(", "))},d_=function(u,c){if(!T(c))throw new Error("The "+u+" fields must be an array. Was: "+c+".");ot(c,function(h){if(!S(h))throw new Error("The value "+h+" in the "+u+" fields was not a string.")})},fr=function(u,c){throw new Error("All values need to be of type: "+c+". Keys ("+Qv(u).join(", ")+") were not.")},Ph=function(u){var c=Qv(u),h=Ue(c,function(w,k){return k<c.length-1&&w===c[k+1]});h.each(function(w){throw new Error("The field: "+w+" occurs more than once in the combined fields: ["+c.join(", ")+"].")})},Ub=function(u,c){return P2(u,c,{validate:P,label:"function"})},P2=function(u,c,h){if(c.length===0)throw new Error("You must specify at least one required field.");return d_("required",c),Ph(c),function(w){var k=cu(w),R=Ae(c,function(K){return ut(k,K)});R||M2(c,k),u(c,k);var z=lt(c,function(K){return!h.validate(w[K],K)});return z.length>0&&fr(z,h.label),w}},jo=function(u,c){var h=lt(c,function(w){return!ut(u,w)});h.length>0&&Vb(h)},al=function(u){return Ub(jo,u)},m_=al(["compare","extract","mutate","sink"]),Zd=al(["element","start","stop","destroy"]),Ma=al(["forceDrop","drop","move","delayDrop"]),Qd=function(){var u=U.none(),c=function(){u=U.none()},h=function(R,z){var K=u.map(function(ie){return R.compare(ie,z)});return u=U.some(z),K},w=function(R,z){var K=z.extract(R);K.each(function(ie){var be=h(z,ie);be.each(function(Pe){k.trigger.move(Pe)})})},k=La({move:rl(["info"])});return{onEvent:w,reset:c,events:k.registry}},Wb=function(){var u=La({move:rl(["info"])});return{onEvent:Y,reset:Y,events:u.registry}},Ih=function(){var u=Wb(),c=Qd(),h=u,w=function(){h.reset(),h=c},k=function(){h.reset(),h=u},R=function(K,ie){h.onEvent(K,ie)},z=function(){return h===c};return{on:w,off:k,isOn:z,onEvent:R,events:c.events}},I2=function(u,c,h){var w=!1,k=La({start:rl([]),stop:rl([])}),R=Ih(),z=function(){At.stop(),R.isOn()&&(R.off(),k.trigger.stop())},K=zs(z,200),ie=function(Xt){At.start(Xt),R.on(),k.trigger.start()},be=function(Xt){K.cancel(),R.onEvent(Xt,c)};R.events.move.bind(function(Xt){c.mutate(u,Xt.info)});var Pe=function(){w=!0},mt=function(){w=!1},Lt=function(Xt){return function(){for(var en=[],On=0;On<arguments.length;On++)en[On]=arguments[On];w&&Xt.apply(null,en)}},At=c.sink(Ma({forceDrop:z,drop:Lt(z),move:Lt(be),delayDrop:Lt(K.throttle)}),h),ht=function(){At.destroy()};return{element:At.element,go:ie,on:Pe,off:mt,destroy:ht,events:k.registry}},h_=function(u,c,h,w,k,R,z){return{target:u,x:c,y:h,stop:w,prevent:k,kill:R,raw:z}},Mp=function(u){var c=Qt.fromDom(cb(u).getOr(u.target)),h=function(){return u.stopPropagation()},w=function(){return u.preventDefault()},k=q(w,h);return h_(c,u.clientX,u.clientY,h,w,k,u)},g_=function(u,c){return function(h){u(h)&&c(Mp(h))}},nv=function(u,c,h,w,k){var R=g_(h,w);return u.dom.addEventListener(c,R,k),{unbind:Ee(N2,u,c,R,k)}},yu=function(u,c,h,w){return nv(u,c,h,w,!1)},N2=function(u,c,h,w){u.dom.removeEventListener(c,h,w)},G3=le,fc=function(u,c,h){return yu(u,c,G3,h)},rv=Mp,jb=function(u,c){var h=ks(u,c);return h===void 0||h===""?[]:h.split(" ")},q3=function(u,c,h){var w=jb(u,c),k=w.concat([h]);return Lo(u,c,k.join(" ")),!0},K3=function(u,c,h){var w=lt(jb(u,c),function(k){return k!==h});return w.length>0?Lo(u,c,w.join(" ")):Ba(u,c),!1},em=function(u){return u.dom.classList!==void 0},tm=function(u){return jb(u,"class")},Gb=function(u,c){return q3(u,"class",c)},Xr=function(u,c){return K3(u,"class",c)},Go=function(u,c){em(u)?u.dom.classList.add(c):Gb(u,c)},wu=function(u){var c=em(u)?u.dom.classList:tm(u);c.length===0&&Ba(u,"class")},zu=function(u,c){if(em(u)){var h=u.dom.classList;h.remove(c)}else Xr(u,c);wu(u)},ka=function(u,c){return em(u)&&u.dom.classList.contains(c)},ed=function(u){var c=u.replace(/\./g,"-"),h=function(w){return c+"-"+w};return{resolve:h}},qb=ed("ephox-dragster"),Qo=qb.resolve,Yc=function(u){var c=zt({layerClass:Qo("blocker")},u),h=Qt.fromTag("div");Lo(h,"role","presentation"),Nc(h,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Go(h,Qo("blocker")),Go(h,c.layerClass);var w=de(h),k=function(){Pu(h)};return{element:w,destroy:k}},X3=function(u,c){return Ca(c.left-u.left,c.top-u.top)},Y3=function(u){return U.some(Ca(u.x,u.y))},Kb=function(u,c){u.mutate(c.left,c.top)},Xb=function(u,c){var h=Yc(c),w=fc(h.element(),"mousedown",u.forceDrop),k=fc(h.element(),"mouseup",u.drop),R=fc(h.element(),"mousemove",u.move),z=fc(h.element(),"mouseout",u.delayDrop),K=function(){h.destroy(),k.unbind(),R.unbind(),z.unbind(),w.unbind()},ie=function(Pe){ao(Pe,h.element())},be=function(){Pu(h.element())};return Zd({element:h.element,start:ie,stop:be,destroy:K})},z2=m_({compare:X3,extract:Y3,sink:Xb,mutate:Kb}),F2=function(u,c){c===void 0&&(c={});var h=c.mode!==void 0?c.mode:z2;return I2(u,h,c)},nm=function(u){return no(u,"[contenteditable]")},Pp=function(u,c){return c===void 0&&(c=!1),!Yl().browser.isIE()&&Ql(u)?u.dom.isContentEditable:nm(u).fold(de(c),function(h){return L2(h)==="true"})},L2=function(u){return u.dom.contentEditable},H2=ed("ephox-snooker"),Nh=H2.resolve,$i=function(){var u=La({drag:rl(["xDelta","yDelta"])}),c=function(h,w){u.trigger.drag(h,w)};return{mutate:c,events:u.registry}},fs=function(){var u=La({drag:rl(["xDelta","yDelta","target"])}),c=U.none(),h=$i();h.events.drag.bind(function(R){c.each(function(z){u.trigger.drag(R.xDelta,R.yDelta,z)})});var w=function(R){c=U.some(R)},k=function(){return c};return{assign:w,get:k,mutate:h.mutate,events:u.registry}},Ip=function(u,c,h,w,k){var R=Qt.fromTag("div");return Nc(R,{position:"absolute",left:c-w/2+"px",top:h+"px",height:k+"px",width:w+"px"}),ko(R,{"data-column":u,role:"presentation"}),R},qo=function(u,c,h,w,k){var R=Qt.fromTag("div");return Nc(R,{position:"absolute",left:c+"px",top:h-k/2+"px",height:k+"px",width:w+"px"}),ko(R,{"data-row":u,role:"presentation"}),R},Yb=Nh("resizer-bar"),av=Nh("resizer-rows"),V2=Nh("resizer-cols"),U2=7,p_=function(u,c){return Te(u.all,function(h,w){return c(h.element)?[w]:[]})},W2=function(u,c){var h=[];return _t(u.grid.columns,function(w){var k=mr.getColumnAt(u,w).map(function(R){return R.element});k.forall(c)&&h.push(w)}),lt(h,function(w){var k=mr.filterItems(u,function(R){return R.column===w});return Ae(k,function(R){return c(R.element)})})},Np=function(u){var c=ns(u.parent(),"."+Yb);ot(c,Pu)},Jb=function(u,c,h){var w=u.origin();ot(c,function(k){k.each(function(R){var z=h(w,R);Go(z,Yb),ao(u.parent(),z)})})},b_=function(u,c,h,w){Jb(u,c,function(k,R){var z=Ip(R.col,R.x-k.left,h.top-k.top,U2,w);return Go(z,V2),z})},J3=function(u,c,h,w){Jb(u,c,function(k,R){var z=qo(R.row,h.left-k.left,R.y-k.top,w,U2);return Go(z,av),z})},Xi=function(u,c,h,w,k){var R=Yf(h),z=c.isResizable,K=w.length>0?v2.positions(w,h):[],ie=K.length>0?p_(u,z):[],be=lt(K,function(At,ht){return B(ie,function(Xt){return ht===Xt})});J3(c,be,R,Gi(h));var Pe=k.length>0?Sh.positions(k,h):[],mt=Pe.length>0?W2(u,z):[],Lt=lt(Pe,function(At,ht){return B(mt,function(Xt){return ht===Xt})});b_(c,Lt,R,uc(h))},ei=function(u,c){if(Np(u),u.isResizable(c)){var h=mr.fromTable(c),w=zv(h),k=Ld(h);Xi(h,u,c,w,k)}},Cu=function(u,c){var h=ns(u.parent(),"."+Yb);ot(h,c)},Su=function(u){Cu(u,function(c){fo(c,"display","none")})},Fu=function(u){Cu(u,function(c){fo(c,"display","block")})},No=function(u){return ka(u,av)},Zb=function(u){return ka(u,V2)},Qb=Nh("resizer-bar-dragging"),j2=function(u){var c=fs(),h=F2(c,{}),w=U.none(),k=function(ht,Xt){return U.from(ks(ht,Xt))};c.events.drag.bind(function(ht){k(ht.target,"data-row").each(function(Xt){var en=Lf(ht.target,"top");fo(ht.target,"top",en+ht.yDelta+"px")}),k(ht.target,"data-column").each(function(Xt){var en=Lf(ht.target,"left");fo(ht.target,"left",en+ht.xDelta+"px")})});var R=function(ht,Xt){var en=Lf(ht,Xt),On=Qs(ht,"data-initial-"+Xt,0);return en-On};h.events.stop.bind(function(){c.get().each(function(ht){w.each(function(Xt){k(ht,"data-row").each(function(en){var On=R(ht,"top");Ba(ht,"data-initial-top"),At.trigger.adjustHeight(Xt,On,parseInt(en,10))}),k(ht,"data-column").each(function(en){var On=R(ht,"left");Ba(ht,"data-initial-left"),At.trigger.adjustWidth(Xt,On,parseInt(en,10))}),ei(u,Xt)})})});var z=function(ht,Xt){At.trigger.startAdjust(),c.assign(ht),Lo(ht,"data-initial-"+Xt,Lf(ht,Xt)),Go(ht,Qb),fo(ht,"opacity","0.2"),h.go(u.parent())},K=fc(u.parent(),"mousedown",function(ht){No(ht.target)&&z(ht.target,"top"),Zb(ht.target)&&z(ht.target,"left")}),ie=function(ht){return Qr(ht,u.view())},be=function(ht){return no(ht,"table",ie).filter(Pp)},Pe=fc(u.view(),"mouseover",function(ht){be(ht.target).fold(function(){Ql(ht.target)&&Np(u)},function(Xt){w=U.some(Xt),ei(u,Xt)})}),mt=function(){K.unbind(),Pe.unbind(),h.destroy(),Np(u)},Lt=function(ht){ei(u,ht)},At=La({adjustHeight:rl(["table","delta","row"]),adjustWidth:rl(["table","delta","column"]),startAdjust:rl([])});return{destroy:mt,refresh:Lt,on:h.on,off:h.off,hideBars:Ee(Su,u),showBars:Ee(Fu,u),events:At.registry}},rm=function(u,c,h){var w=v2,k=Sh,R=j2(u),z=La({beforeResize:rl(["table","type"]),afterResize:rl(["table","type"]),startDrag:rl([])});return R.events.adjustHeight.bind(function(K){var ie=K.table;z.trigger.beforeResize(ie,"row");var be=w.delta(K.delta,ie);lc(ie,be,K.row,w),z.trigger.afterResize(ie,"row")}),R.events.startAdjust.bind(function(K){z.trigger.startDrag()}),R.events.adjustWidth.bind(function(K){var ie=K.table;z.trigger.beforeResize(ie,"col");var be=k.delta(K.delta,ie),Pe=h(ie);Bb(ie,be,K.column,c,Pe),z.trigger.afterResize(ie,"col")}),{on:R.on,off:R.off,hideBars:R.hideBars,showBars:R.showBars,destroy:R.destroy,events:z.registry}},td={create:rm},e0=function(u,c){return u.fire("newrow",{node:c})},t0=function(u,c){return u.fire("newcell",{node:c})},n0=function(u,c,h,w,k){u.fire("ObjectResizeStart",{target:c,width:h,height:w,origin:k})},zh=function(u,c,h,w,k){u.fire("ObjectResized",{target:c,width:h,height:w,origin:k})},Fh=function(u,c,h,w,k){u.fire("TableSelectionChange",{cells:c,start:h,finish:w,otherCells:k})},y_=function(u){u.fire("TableSelectionClear")},Jc=function(u,c,h){u.fire("TableModified",zt(zt({},h),{table:c}))},am={structure:!1,style:!0},ja={structure:!0,style:!1},Z3={structure:!0,style:!0},Q3="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",r0={"border-collapse":"collapse",width:"100%"},e4=_t(5,function(u){var c=u+1+"px";return{title:c,value:c}}),w_=at(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(u){return{title:u,value:u.toLowerCase()}}),Jt=function(u){var c;if(ov(u)){var h=u.dom,w=(c=h.getParent(u.selection.getStart(),h.isBlock))!==null&&c!==void 0?c:u.getBody(),k=Kr(Qt.fromDom(w));return zt(zt({},r0),{width:k+"px"})}else return Lh(u)?Cl(r0,function(R,z){return z!=="width"}):r0},t4={border:"1"},Ko="preservetable",G2=function(u){return u.getParam("table_sizing_mode","auto")},om=function(u){return u.getParam("table_responsive_width")},C_=function(u){return u.getParam("table_border_widths",e4,"array")},nu=function(u){return u.getParam("table_border_styles",w_,"array")},zp=function(u){return u.getParam("table_default_attributes",t4,"object")},a0=function(u){return u.getParam("table_default_styles",Jt(u),"object")},Fp=function(u){return u.getParam("table_resize_bars",!0,"boolean")},vc=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},Lp=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},Hp=function(u){return u.getParam("table_row_advtab",!0,"boolean")},_u=function(u){return u.getParam("table_advtab",!0,"boolean")},dc=function(u){return u.getParam("table_appearance_options",!0,"boolean")},S_=function(u){return u.getParam("table_grid",!0,"boolean")},ru=function(u){return u.getParam("table_style_by_css",!1,"boolean")},Zc=function(u){return u.getParam("table_cell_class_list",[],"array")},nd=function(u){return u.getParam("table_row_class_list",[],"array")},Vp=function(u){return u.getParam("table_class_list",[],"array")},dt=function(u){return G2(u)==="relative"||om(u)===!0},ov=function(u){return G2(u)==="fixed"||om(u)===!1},Lh=function(u){return G2(u)==="responsive"},n4=function(u){return u.getParam("table_toolbar",Q3)},o0=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},Bl=function(u){var c="section",h=u.getParam("table_header_type",c,"string"),w=["section","cells","sectionCells","auto"];return ut(w,h)?h:c},i0=function(u){var c=["preservetable","resizetable"],h=u.getParam("table_column_resizing",Ko,"string");return Ue(c,function(w){return w===h}).getOr(Ko)},q2=function(u){return i0(u)==="preservetable"},K2=function(u){return i0(u)==="resizetable"},u0=function(u){var c=u.getParam("table_clone_elements");return S(c)?U.some(c.split(/[ ,]/)):Array.isArray(c)?U.some(c):U.none()},X2=function(u){var c=u.getParam("object_resizing",!0);return S(c)?c==="table":c},Y2=function(u){return u.getParam("table_background_color_map",[],"array")},J2=function(u){return u.getParam("table_border_color_map",[],"array")},Z2=function(u,c){return dt(u)?Qf.percentageSize(c):ov(u)?Qf.pixelSize(c):Qf.getTableSize(c)},im=function(u){Ba(u,"width")},__=function(u){var c=Ah(u);Fb(u,U.some(c),U.none()),im(u)},r4=function(u){var c=M3(u);Fb(u,U.some(c),U.none()),im(u)},a4=function(u){ki(u,"width");var c=rc(u),h=c.length>0?c:Wf(u);ot(h,function(w){ki(w,"width"),im(w)}),im(u)},Hh=__,Vh=r4,s0=a4,Q2=function(u){var c=mr.fromTable(u);mr.hasColumns(c)||ot(Wf(u),function(h){var w=tc(h,"width");fo(h,"width",w),Ba(h,"width")})},Uh=function(){var u=Qt.fromTag("div");return Nc(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ao($a(),u),u},ew=function(u,c){return u.inline?$p.body(jc(u),Uh(),c):$p.only(Qt.fromDom(u.getDoc()),c)},mo=function(u,c){u.inline&&Pu(c.parent())},Up="bar-",wo=function(u){return ks(u,"data-mce-resize")!=="false"},l0=function(u){var c=U.none(),h=U.none(),w=U.none(),k,R,z=function(ht){return ht.nodeName==="TABLE"},K=function(){return h},ie=function(){return w.getOr($p.only(Qt.fromDom(u.getBody()),wo))},be=function(ht){return Z2(u,ht)},Pe=function(){return q2(u)?Xd():Ib()},mt=function(ht){return B2(ht).columns},Lt=function(ht,Xt,en){var On=Ju(Xt,"e");if(R===""&&Hh(ht),en!==k&&R!==""){fo(ht,"width",R);var Wr=Pe(),Tn=be(ht),Jn=q2(u)||On?mt(ht)-1:0;Bb(ht,en-k,Jn,Wr,Tn)}else if(jv(R)){var _r=parseFloat(R.replace("%","")),wr=en*_r/k;fo(ht,"width",wr+"%")}Oh(R)&&Q2(ht)},At=function(){h.each(function(ht){ht.destroy()}),w.each(function(ht){mo(u,ht)})};return u.on("init",function(){var ht=ew(u,wo);if(w=U.some(ht),X2(u)&&Fp(u)){var Xt=Pe(),en=td.create(ht,Xt,be);en.on(),en.events.startDrag.bind(function(On){c=U.some(u.selection.getRng())}),en.events.beforeResize.bind(function(On){var Wr=On.table.dom;n0(u,Wr,ev(Wr),tv(Wr),Up+On.type)}),en.events.afterResize.bind(function(On){var Wr=On.table,Tn=Wr.dom;pu(Wr),c.each(function(Jn){u.selection.setRng(Jn),u.focus()}),zh(u,Tn,ev(Tn),tv(Tn),Up+On.type),u.undoManager.add()}),h=U.some(en)}}),u.on("ObjectResizeStart",function(ht){var Xt=ht.target;if(z(Xt)){var en=Qt.fromDom(Xt);ot(u.dom.select(".mce-clonedresizable"),function(On){u.dom.addClass(On,"mce-"+i0(u)+"-columns")}),!Ri(en)&&ov(u)?Vh(en):!Lb(en)&&dt(u)&&Hh(en),Hb(en)&&Si(ht.origin,Up)&&Hh(en),k=ht.width,R=Lh(u)?"":Gc(u,Xt).getOr("")}}),u.on("ObjectResized",function(ht){var Xt=ht.target;if(z(Xt)){var en=Qt.fromDom(Xt),On=ht.origin;Si(On,"corner-")&&Lt(en,On,ht.width),pu(en),Jc(u,en.dom,am)}}),u.on("SwitchMode",function(){K().each(function(ht){u.mode.isReadOnly()?ht.hideBars():ht.showBars()})}),{lazyResize:K,lazyWire:ie,destroy:At}},um=function(u,c){return{element:u,offset:c}},tw=function(u,c,h){return u.property().isText(c)&&u.property().getText(c).trim().length===0||u.property().isComment(c)?h(c).bind(function(w){return tw(u,w,h).orThunk(function(){return U.some(w)})}):U.none()},Wp=function(u,c){if(u.property().isText(c))return u.property().getText(c).length;var h=u.property().children(c);return h.length},nw=function(u,c){var h=tw(u,c,u.query().prevSibling).getOr(c);if(u.property().isText(h))return um(h,Wp(u,h));var w=u.property().children(h);return w.length>0?nw(u,w[w.length-1]):um(h,Wp(u,h))},x_=nw,o4=yp(),k_=function(u){return x_(o4,u)},i4=function(u,c){var h=Ho(u,"colspan");if(h===1){var w=xh(u);w.each(function(k){var R=k.value/2;kh(u,R,k.unit),kh(c,R,k.unit)})}},c0=Jo("th"),jp=function(u){return Ae(u,function(c){return c0(c.element)})},u4=function(u,c){return u&&c?"sectionCells":u?"section":"cells"},A_=function(u){var c=u.section==="thead",h=ec(rw(u.cells),"th");return c||h?{type:"header",subType:u4(c,h)}:u.section==="tfoot"?{type:"footer"}:{type:"body"}},rw=function(u){var c=lt(u,function(h){return c0(h.element)});return c.length===0?U.some("td"):c.length===u.length?U.some("th"):U.none()},s4=function(u){var c=at(u,function(R){return A_(R).type}),h=ut(c,"header"),w=ut(c,"footer");if(!h&&!w)return U.some("body");var k=ut(c,"body");return h&&!k&&!w?U.some("header"):!h&&!k&&w?U.some("footer"):U.none()},l4=function(u){return Dt(u.all,function(c){var h=A_(c);return h.type==="header"?U.from(h.subType):U.none()})},f0=function(u,c,h){return Li(h(u.element,c),!0,u.isLocked)},aw=function(u,c){return u.section!==c?Jl(u.element,u.cells,c,u.isNew):u},Bi=function(){return{transformRow:aw,transformCell:function(u,c,h){var w=h(u.element,c),k=ea(w)!=="td"?E3(w,"td"):w;return Li(k,u.isNew,u.isLocked)}}},Wh=function(){return{transformRow:aw,transformCell:f0}},jh=function(){return{transformRow:function(u,c){var h=c==="thead"?"tbody":c;return aw(u,h)},transformCell:f0}},E_=function(){return{transformRow:Be,transformCell:f0}},c4=function(u,c){var h=mr.fromTable(u),w=l4(h).getOr(c);switch(w){case"section":return Bi();case"sectionCells":return Wh();case"cells":return jh()}},Gp={getTableSectionType:c4,section:Bi,sectionCells:Wh,cells:jh,fallback:E_},qp=function(u,c,h,w){h===w?Ba(u,c):Lo(u,c,h)},sm=function(u,c,h){Wt(ur(u,c)).fold(function(){return Ei(u,h)},function(w){return xa(w,h)})},v0=function(u,c){var h=jn(u,c).getOrThunk(function(){var w=Qt.fromTag(c,If(u).dom);return c==="thead"?sm(u,"caption,colgroup",w):c==="colgroup"?sm(u,"caption",w):ao(u,w),w});return pp(h),h},Kp=function(u,c){var h=[],w=[],k=function(At){return at(At,function(ht){ht.isNew&&h.push(ht.element);var Xt=ht.element;return pp(Xt),ot(ht.cells,function(en){en.isNew&&w.push(en.element),qp(en.element,"colspan",en.colspan,1),qp(en.element,"rowspan",en.rowspan,1),ao(Xt,en.element)}),Xt})},R=function(At){return Te(At,function(ht){return at(ht.cells,function(Xt){return qp(Xt.element,"span",Xt.colspan,1),Xt.element})})},z=function(At,ht){var Xt=v0(u,ht),en=ht==="colgroup"?R:k,On=en(At);ac(Xt,On)},K=function(At){jn(u,At).each(Pu)},ie=function(At,ht){At.length>0?z(At,ht):K(ht)},be=[],Pe=[],mt=[],Lt=[];return ot(c,function(At){switch(At.section){case"thead":be.push(At);break;case"tbody":Pe.push(At);break;case"tfoot":mt.push(At);break;case"colgroup":Lt.push(At);break}}),ie(Lt,"colgroup"),ie(be,"thead"),ie(Pe,"tbody"),ie(mt,"tfoot"),{newRows:h,newCells:w}},ow=function(u){return at(u,function(c){var h=Al(c.element);return ot(c.cells,function(w){var k=sa(w.element);qp(k,"colspan",w.colspan,1),qp(k,"rowspan",w.rowspan,1),ao(h,k)}),h})},f4=function(u,c){return at(u,function(h){return mu(h,c)})},Qc=function(u,c){return u[c]},d0=function(u,c){if(u.length===0)return 0;var h=u[0],w=gt(u,function(k){return!c(h.element,k.element)});return w.getOr(u.length)},v4=function(u,c,h,w){var k=Qc(u,c),R=k.section==="colgroup",z=d0(k.cells.slice(h),w),K=R?1:d0(f4(u.slice(c),h),w);return{colspan:z,rowspan:K}},rd=function(u,c){var h=at(u,function(k){return at(k.cells,Ye)}),w=function(k,R,z,K){for(var ie=k;ie<k+z;ie++)for(var be=R;be<R+K;be++)h[ie][be]=!0};return at(u,function(k,R){var z=Te(k.cells,function(K,ie){if(h[R][ie]===!1){var be=v4(u,R,ie,c);return w(R,ie,be.rowspan,be.colspan),[pr(K.element,be.rowspan,be.colspan,K.isNew)]}else return[]});return Mc(k.element,z,k.section,k.isNew)})},ad=function(u,c,h){var w=[];ot(u.colgroups,function(Pe){for(var mt=[],Lt=0;Lt<u.grid.columns;Lt++){var At=mr.getColumnAt(u,Lt).map(function(ht){return Li(ht.element,h,!1)}).getOrThunk(function(){return Li(c.colGap(),!0,!1)});mt.push(At)}w.push(Jl(Pe.element,mt,"colgroup",h))});for(var k=0;k<u.grid.rows;k++){for(var R=[],z=0;z<u.grid.columns;z++){var K=mr.getAt(u,k,z).map(function(Pe){return Li(Pe.element,h,Pe.isLocked)}).getOrThunk(function(){return Li(c.gap(),!0,!1)});R.push(K)}var ie=u.all[k],be=Jl(ie.element,R,ie.section,h);w.push(be)}return w},d4=function(u,c){return ad(u,c,!1)},m0=function(u){return rd(u,Qr)},h0=function(u,c){return Dt(u.all,function(h){return Ue(h.cells,function(w){return Qr(c,w.element)})})},g0=function(u,c,h){var w=at(c.selection,function(R){return nc(R).bind(function(z){return h0(u,z)}).filter(h)}),k=Mo(w);return ya(k.length>0,k)},ci=function(u,c,h,w,k){return function(R,z,K,ie,be){var Pe=mr.fromTable(z),mt=U.from(be==null?void 0:be.section).getOrThunk(Gp.fallback),Lt=c(Pe,K).map(function(At){var ht=d4(Pe,ie),Xt=u(ht,At,Qr,k(ie),mt),en=Ai(Xt.grid),On=m0(Xt.grid);return{info:At,grid:On,cursor:Xt.cursor,lockedColumns:en}});return Lt.bind(function(At){var ht=Kp(z,At.grid),Xt=U.from(be==null?void 0:be.sizing).getOrThunk(function(){return Qf.getTableSize(z)}),en=U.from(be==null?void 0:be.resize).getOrThunk(Xd);return h(z,At.grid,At.info,{sizing:Xt,resize:en,section:mt}),w(z),ei(R,z),Ba(z,Ao),At.lockedColumns.length>0&&Lo(z,Ao,At.lockedColumns.join(",")),U.some({cursor:At.cursor,newRows:ht.newRows,newCells:ht.newCells})})}},T_=function(u,c){return nc(c.element).bind(function(h){return h0(u,h).map(function(w){var k=zt(zt({},w),{generators:c.generators,clipboard:c.clipboard});return k})})},iw=function(u,c){return g0(u,c,le).map(function(h){return{cells:h,generators:c.generators,clipboard:c.clipboard}})},O_=function(u,c){return c.mergable},D_=function(u,c){return c.unmergable},mc=function(u,c){return g0(u,c,le)},iv=function(u,c){return g0(u,c,function(h){return!h.isLocked})},R_=function(u,c){return h0(u,c).exists(function(h){return!h.isLocked})},$_=function(u,c){return Ae(c,function(h){return R_(u,h)})},uw=function(u,c){return O_(u,c).filter(function(h){return $_(u,h.cells)})},p0=function(u,c){return D_(u,c).filter(function(h){return $_(u,h)})},B_=function(u,c,h,w){var k=bo(u).rows;if(k.length===0)return u;for(var R=c.startRow;R<=c.finishRow;R++)for(var z=c.startCol;z<=c.finishCol;z++){var K=k[R],ie=mu(K,z).isLocked;zc(K,z,Li(w(),!1,ie))}return u},Gh=function(u,c,h,w){for(var k=bo(u).rows,R=!0,z=0;z<k.length;z++)for(var K=0;K<Es(k[0]);K++){var ie=k[z],be=mu(ie,K),Pe=be.element,mt=h(Pe,c);mt===!0&&R===!1?zc(ie,K,Li(w(),!0,be.isLocked)):mt===!0&&(R=!1)}return u},m4=function(u,c){return te(u,function(h,w){return B(h,function(k){return c(k.element,w.element)})?h:h.concat([w])},[])},Xp=function(u,c,h,w){return c>0&&c<u[0].cells.length&&ot(u,function(k){var R=k.cells[c-1],z=k.cells[c],K=h(z.element,R.element);K&&zc(k,c,Li(w(),!0,z.isLocked))}),u},h4=function(u,c,h,w){var k=bo(u).rows;if(c>0&&c<k.length){var R=k[c-1].cells,z=m4(R,h);ot(z,function(K){for(var ie=U.none(),be=c;be<k.length;be++)for(var Pe=function(Lt){var At=k[be],ht=mu(At,Lt),Xt=h(ht.element,K.element);Xt&&(ie.isNone()&&(ie=U.some(w())),ie.each(function(en){zc(At,Lt,Li(en,!0,ht.isLocked))}))},mt=0;mt<Es(k[0]);mt++)Pe(mt)})}return u},qh=function(u){var c=function(mt){return qh(u)},h=function(mt){return qh(u)},w=function(mt){return qh(mt(u))},k=function(mt){return qh(u)},R=function(mt){mt(u)},z=function(mt){return mt(u)},K=function(mt,Lt){return Lt(u)},ie=function(mt){return mt(u)},be=function(mt){return mt(u)},Pe=function(){return U.some(u)};return{isValue:le,isError:Ye,getOr:de(u),getOrThunk:de(u),getOrDie:de(u),or:c,orThunk:h,fold:K,map:w,mapError:k,each:R,bind:z,exists:ie,forall:be,toOptional:Pe}},lm=function(u){var c=function(be){return be()},h=function(){return ke(String(u))()},w=Be,k=function(be){return be()},R=function(be){return lm(u)},z=function(be){return lm(be(u))},K=function(be){return lm(u)},ie=function(be,Pe){return be(u)};return{isValue:Ye,isError:le,getOr:Be,getOrThunk:c,getOrDie:h,or:w,orThunk:k,fold:ie,map:R,mapError:z,each:Y,bind:K,exists:Ye,forall:le,toOptional:U.none}},sw=function(u,c){return u.fold(function(){return lm(c)},qh)},M_={value:qh,error:lm,fromOption:sw},g4=function(u,c,h){if(u.row>=c.length||u.column>Es(c[0]))return M_.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var w=c.slice(u.row),k=w[0].cells.slice(u.column),R=Es(h[0]),z=h.length;return M_.value({rowDelta:w.length-z,colDelta:k.length-R})},P_=function(u,c){var h=Es(u[0]),w=Es(c[0]);return{rowDelta:0,colDelta:h-w}},I_=function(u,c){var h=u.length,w=c.length;return{rowDelta:h-w,colDelta:0}},lw=function(u,c,h,w){var k=c.section==="colgroup"?h.col:h.cell;return _t(u,function(R){return Li(k(),!0,w(R))})},p4=function(u,c,h,w){var k=u[u.length-1];return u.concat(_t(c,function(){var R=k.section==="colgroup"?h.colgroup:h.row,z=Vo(k,R,Be),K=lw(z.cells.length,z,h,function(ie){return oe(w,ie.toString())});return Kn(z,K)}))},b0=function(u,c,h,w){return at(u,function(k){var R=lw(c,k,h,Ye);return jf(k,w,R)})},b4=function(u,c,h){return at(u,function(w){return te(h,function(k,R){var z=lw(1,w,c,le)[0];return Gf(k,R,z)},w)})},Yp=function(u,c,h){var w=c.colDelta<0?b0:Be,k=c.rowDelta<0?p4:Be,R=Ai(u),z=Es(u[0]),K=B(R,function(Pe){return Pe===z-1}),ie=w(u,Math.abs(c.colDelta),h,K?z-1:z),be=Ai(ie);return k(ie,Math.abs(c.rowDelta),h,et(be,le))},y4=function(u,c,h,w){var k=mu(u[c],h),R=Ee(w,k.element),z=u[c];return u.length>1&&Es(z)>1&&(h>0&&R(Wi(z,h-1))||h<z.cells.length-1&&R(Wi(z,h+1))||c>0&&R(Wi(u[c-1],h))||c<u.length-1&&R(Wi(u[c+1],h)))},w4=function(u,c,h,w,k,R){for(var z=u.row,K=u.column,ie=h.length,be=Es(h[0]),Pe=z+ie,mt=K+be+R.length,Lt=et(R,le),At=z;At<Pe;At++)for(var ht=0,Xt=K;Xt<mt;Xt++){if(Lt[Xt]){ht++;continue}y4(c,At,Xt,k)&&Gh(c,Wi(c[At],Xt),k,w.cell);var en=Xt-K-ht,On=mu(h[At-z],en),Wr=On.element,Tn=w.replace(Wr);zc(c[At],Xt,Li(Tn,!0,On.isLocked))}return c},C4=function(u,c,h){var w=Es(c[0]),k=bo(c).cols.length+u.row,R=_t(w-u.column,function(K){return K+u.column}),z=Ue(R,function(K){return Ae(h,function(ie){return ie!==K})}).getOr(w-1);return{row:k,column:z}},y0=function(u,c,h){return lt(h,function(w){return w>=u.column&&w<=Es(c[0])+u.column})},S4=function(u,c,h,w,k){var R=Ai(c),z=C4(u,c,R),K=bo(h).rows,ie=y0(z,K,R),be=g4(z,c,K);return be.map(function(Pe){var mt=zt(zt({},Pe),{colDelta:Pe.colDelta-ie.length}),Lt=Yp(c,mt,w),At=Ai(Lt),ht=y0(z,K,At);return w4(z,Lt,K,w,k,ht)})},Kh=function(u,c,h,w,k){Xp(c,u,k,w.cell);var R=I_(h,c),z=Yp(h,R,w),K=I_(c,z),ie=Yp(c,K,w);return at(ie,function(be,Pe){return jf(be,u,z[Pe].cells)})},N_=function(u,c,h,w,k){h4(c,u,k,w.cell);var R=Ai(c),z=P_(c,h),K=zt(zt({},z),{colDelta:z.colDelta-R.length}),ie=Yp(c,K,w),be=bo(ie),Pe=be.cols,mt=be.rows,Lt=Ai(ie),At=P_(h,c),ht=zt(zt({},At),{colDelta:At.colDelta+Lt.length}),Xt=b4(h,w,Lt),en=Yp(Xt,ht,w);return Pe.concat(mt.slice(0,u)).concat(en).concat(mt.slice(u,mt.length))},_4=function(u,c,h,w){return Vo(u,function(k){return w(k,h)},c)},cw=function(u,c,h,w,k){var R=bo(u),z=R.rows,K=R.cols,ie=z.slice(0,c),be=z.slice(c),Pe=_4(z[h],function(mt,Lt){var At=c>0&&c<z.length&&w(Wi(z[c-1],Lt),Wi(z[c],Lt)),ht=At?mu(z[c],Lt):Li(k(mt.element,w),!0,mt.isLocked);return ht},w,k);return K.concat(ie).concat([Pe]).concat(be)},z_=function(u,c,h,w,k,R,z){if(h==="colgroup"||!w){var K=mu(u,k);return Li(z(K.element,R),!0,!1)}else return mu(u,c)},fw=function(u,c,h,w,k){return at(u,function(R){var z=c>0&&c<Es(R)&&w(Wi(R,c-1),Wi(R,c)),K=z_(R,c,R.section,z,h,w,k);return Gf(R,c,K)})},F_=function(u,c){return Te(u,function(h){var w=h.cells,k=Sn(c,function(R,z){return z>=0&&z<R.length?R.slice(0,z).concat(R.slice(z+1)):R},w);return k.length>0?[Jl(h.element,k,h.section,h.isNew)]:[]})},L_=function(u,c,h){var w=bo(u),k=w.rows,R=w.cols;return R.concat(k.slice(0,c)).concat(k.slice(h+1))},Xh=function(u,c,h,w){return Wi(u[c],h)!==void 0&&c>0&&w(Wi(u[c-1],h),Wi(u[c],h))},vw=function(u,c,h){return c>0&&h(Wi(u,c-1),Wi(u,c))},dw=function(u,c,h,w){return Xh(u,c,h,w)||vw(u[c],h,w)},x4=function(u,c){var h=Ae(c,Be)&&jp(u.cells);return h?le:function(w,k,R){var z=ea(w.element);return!(z==="th"&&c[R])}},k4=function(u,c){var h=Ae(c,Be)&&jp(u);return h?le:function(w,k,R){var z=ea(w.element);return!(z==="th"&&c[k])}},mw=function(u,c,h,w){var k=function(K){return K==="row"?hb(c):Nd(c)},R=function(K){return k(K)?K+"group":K};if(u)return c0(c)?R(h):null;if(w&&c0(c)){var z=h==="row"?"col":"row";return R(z)}else return null},A4=function(u,c){return function(h,w,k){return U.some(mw(u,h.element,"col",c[k]))}},H_=function(u,c){return function(h,w){return U.some(mw(u,h.element,"row",c[w]))}},od=function(u,c,h){return Li(h(u.element,c),!0,u.isLocked)},Yh=function(u,c,h,w,k,R,z){var K=function(ie){return B(c,function(be){return h(ie.element,be.element)})};return at(u,function(ie,be){return As(ie,function(Pe,mt){if(K(Pe)){var Lt=z(Pe,be,mt)?k(Pe,h,w):Pe;return R(Lt,be,mt).each(function(At){zf(Lt.element,{scope:U.from(At)})}),Lt}else return Pe})})},V_=function(u,c,h){return Te(u,function(w,k){return dw(u,k,c,h)?[]:[mu(w,c)]})},E4=function(u,c,h){var w=u[c];return Te(w.cells,function(k,R){return dw(u,c,R,h)?[]:[k]})},U_=function(u,c,h,w,k){var R=bo(u).rows,z=Te(c,function(Pe){return V_(R,Pe,w)}),K=at(u,function(Pe){return jp(Pe.cells)}),ie=k4(z,K),be=H_(h,K);return Yh(u,z,w,k,od,be,ie)},T4=function(u,c,h,w,k,R,z){var K=bo(u),ie=K.cols,be=K.rows,Pe=be[c[0]],mt=Te(c,function(On){return E4(be,On,k)}),Lt=at(Pe.cells,function(On,Wr){return jp(V_(be,Wr,k))}),At=rn([],be,!0);ot(c,function(On){At[On]=z.transformRow(be[On],h)});var ht=ie.concat(At),Xt=x4(Pe,Lt),en=A4(w,Lt);return Yh(ht,mt,k,R,z.transformCell,en,Xt)},hw=function(u,c,h,w){var k=bo(u).rows,R=at(c,function(z){return mu(k[z.row],z.column)});return Yh(u,R,h,w,od,U.none,le)},Jh=function(u){var c=function(h,w){var k=B(h,function(R){return R.column===w.column});return k?h:h.concat([w])};return te(u,c,[]).sort(function(h,w){return h.column-w.column})},au=Jo("col"),gw=Jo("colgroup"),Zh=function(u){return ea(u)==="tr"||gw(u)},cm=function(u){var c=Qs(u,"colspan",1),h=Qs(u,"rowspan",1);return{element:u,colspan:c,rowspan:h}},w0=function(u,c){c===void 0&&(c=cm);var h=function(K){return au(K.element)?u.col(K):u.cell(K)},w=function(K){return gw(K.element)?u.colgroup(K):u.row(K)},k=function(K){if(Zh(K))return w({element:K});var ie=h(c(K));return R=U.some({item:K,replacement:ie}),ie},R=U.none(),z=function(K,ie){return R.fold(function(){return k(K)},function(be){return ie(K,be.item)?be.replacement:k(K)})};return{getOrInit:z}},O4=function(u){return function(c){var h=[],w=function(z,K){return Ue(h,function(ie){return K(ie.item,z)})},k=function(z){var K=u==="td"?{scope:null}:{},ie=c.replace(z,u,K);return h.push({item:z,sub:ie}),ie},R=function(z,K){return Zh(z)||au(z)?z:w(z,K).fold(function(){return k(z)},function(ie){return K(z,ie.item)?ie.sub:k(z)})};return{replaceOrInit:R}}},W_=function(u){return qr(u,"scope").map(function(c){return c.substr(0,3)})},pw=function(u){var c=function(w){var k=W_(w);return k.each(function(R){return Lo(w,"scope",R)}),function(){var R=u.cell({element:w,colspan:1,rowspan:1});return ki(R,"width"),ki(w,"width"),k.each(function(z){return Lo(R,"scope",z)}),R}},h=function(w){var k=function(){var R=Mo(at(w,W_));if(R.length===0)return U.none();var z=R[0],K=["row","col"],ie=B(R,function(be){return be!==z&&ut(K,be)});return ie?U.none():U.from(z)};return ki(w[0],"width"),k().fold(function(){return Ba(w[0],"scope")},function(R){return Lo(w[0],"scope",R+"group")}),de(w[0])};return{unmerge:c,merge:h}},Lu={modification:w0,transform:O4,merging:pw},Jp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],D4=function(u,c){var h=u.property().name(c);return ut(["ol","ul"],h)},fm=function(u,c){var h=u.property().name(c);return ut(Jp,h)},id=function(u,c){return ut(["br","img","hr","input"],u.property().name(c))},Qh=yp(),ud=function(u){return fm(Qh,u)},hc=function(u){return D4(Qh,u)},gc=function(u){return id(Qh,u)},C0=function(u){var c=function(ie){return ea(ie)==="br"},h=function(ie){return Ae(ie,function(be){return c(be)||Js(be)&&pb(be).trim().length===0})},w=function(ie){return ea(ie)==="li"||Ka(ie,hc).isSome()},k=function(ie){return je(ie).map(function(be){return ud(be)?!0:gc(be)?ea(be)!=="img":!1}).getOr(!1)},R=function(ie){return Ob(ie).bind(function(be){var Pe=k(be);return _o(be).map(function(mt){return Pe===!0||w(mt)||c(be)||ud(mt)&&!Qr(ie,mt)?[]:[Qt.fromTag("br")]})}).getOr([])},z=function(){var ie=Te(u,function(be){var Pe=ii(be);return h(Pe)?[]:Pe.concat(R(be))});return ie.length===0?[Qt.fromTag("br")]:ie},K=z();pp(u[0]),ac(u[0],K)},S0=function(u){return Pp(u,!0)},bw=function(u){var c=Wf(u);c.length===0&&Pu(u)},eg=function(u,c){return{grid:u,cursor:c}},tg=function(u){return Dt(u,function(c){return Dt(c.cells,function(h){var w=h.element;return ya(S0(w),w)})})},ng=function(u,c,h){var w,k,R=bo(u).rows;return U.from((k=(w=R[c])===null||w===void 0?void 0:w.cells[h])===null||k===void 0?void 0:k.element).filter(S0).orThunk(function(){return tg(R)})},Yi=function(u,c,h){var w=ng(u,c,h);return eg(u,w)},rg=function(u){var c=function(h,w){var k=B(h,function(R){return R.row===w.row});return k?h:h.concat([w])};return te(u,c,[]).sort(function(h,w){return h.row-w.row})},ag=function(u,c,h,w){var k=c[0].row,R=rg(c),z=Sn(R,function(K,ie){var be=cw(K.grid,k,ie.row+K.delta,h,w.getOrInit);return{grid:be,delta:K.delta+1}},{grid:u,delta:0}).grid;return Yi(z,k,c[0].column)},_0=function(u,c,h,w){var k=rg(c),R=k[k.length-1],z=R.row+R.rowspan,K=Sn(k,function(ie,be){return cw(ie,z,be.row,h,w.getOrInit)},u);return Yi(K,z,c[0].column)},R4=function(u,c,h,w){var k=c.details,R=Jh(k),z=R[0].column,K=Sn(R,function(ie,be){var Pe=fw(ie.grid,z,be.column+ie.delta,h,w.getOrInit);return{grid:Pe,delta:ie.delta+1}},{grid:u,delta:0}).grid;return Yi(K,k[0].row,z)},yw=function(u,c,h,w){var k=c.details,R=k[k.length-1],z=R.column+R.colspan,K=Jh(k),ie=Sn(K,function(be,Pe){return fw(be,z,Pe.column,h,w.getOrInit)},u);return Yi(ie,k[0].row,z)},x0=function(u,c,h,w){var k=Jh(c),R=at(k,function(K){return K.column}),z=U_(u,R,!0,h,w.replaceOrInit);return Yi(z,c[0].row,c[0].column)},Mi=function(u,c,h,w){var k=hw(u,c,h,w.replaceOrInit);return Yi(k,c[0].row,c[0].column)},$4=function(u,c,h,w){var k=Jh(c),R=at(k,function(K){return K.column}),z=U_(u,R,!1,h,w.replaceOrInit);return Yi(z,c[0].row,c[0].column)},ef=function(u,c,h,w){var k=hw(u,c,h,w.replaceOrInit);return Yi(k,c[0].row,c[0].column)},k0=function(u,c){return function(h,w,k,R,z){var K=rg(w),ie=at(K,function(Pe){return Pe.row}),be=T4(h,ie,u,c,k,R.replaceOrInit,z);return Yi(be,w[0].row,w[0].column)}},ww=k0("thead",!0),og=k0("tbody",!1),Cw=k0("tfoot",!1),Zp=function(u,c,h,w){var k=Jh(c.details),R=F_(u,at(k,function(K){return K.column})),z=R.length>0?R[0].cells.length-1:0;return Yi(R,k[0].row,Math.min(k[0].column,z))},B4=function(u,c,h,w){var k=rg(c),R=L_(u,k[0].row,k[k.length-1].row),z=R.length>0?R.length-1:0;return Yi(R,Math.min(c[0].row,z),c[0].column)},j_=function(u,c,h,w){var k=c.cells;C0(k);var R=B_(u,c.bounds,h,w.merge(k));return eg(R,U.from(k[0]))},G_=function(u,c,h,w){var k=function(z,K){return Gh(z,K,h,w.unmerge(K))},R=Sn(c,k,u);return eg(R,U.from(c[0]))},M4=function(u,c,h,w){var k=function(ie,be){var Pe=mr.fromTable(ie);return ad(Pe,be,!0)},R=k(c.clipboard,c.generators),z=aa(c.row,c.column),K=S4(z,u,R,c.generators,h);return K.fold(function(){return eg(u,U.some(c.element))},function(ie){return Yi(ie,c.row,c.column)})},ig=function(u,c,h){var w=hp(u,h.section),k=mr.generate(w);return ad(k,c,!0)},ho=function(u,c,h,w){var k=bo(u).rows,R=c.cells[0].column,z=k[c.cells[0].row],K=ig(c.clipboard,c.generators,z),ie=Kh(R,u,K,c.generators,h);return Yi(ie,c.cells[0].row,c.cells[0].column)},A0=function(u,c,h,w){var k=bo(u).rows,R=c.cells[c.cells.length-1].column+c.cells[c.cells.length-1].colspan,z=k[c.cells[0].row],K=ig(c.clipboard,c.generators,z),ie=Kh(R,u,K,c.generators,h);return Yi(ie,c.cells[0].row,c.cells[0].column)},E0=function(u,c,h,w){var k=bo(u).rows,R=c.cells[0].row,z=k[R],K=ig(c.clipboard,c.generators,z),ie=N_(R,u,K,c.generators,h);return Yi(ie,c.cells[0].row,c.cells[0].column)},Sw=function(u,c,h,w){var k=bo(u).rows,R=c.cells[c.cells.length-1].row+c.cells[c.cells.length-1].rowspan,z=k[c.cells[0].row],K=ig(c.clipboard,c.generators,z),ie=N_(R,u,K,c.generators,h);return Yi(ie,c.cells[0].row,c.cells[0].column)},q_=function(u,c){var h=mr.fromTable(u),w=mc(h,c);return w.bind(function(k){var R=k[k.length-1],z=k[0].column,K=R.column+R.colspan,ie=qn(at(h.all,function(be){return lt(be.cells,function(Pe){return Pe.column>=z&&Pe.column<K})}));return rw(ie)}).getOr("")},_w=function(u,c){var h=mr.fromTable(u),w=mc(h,c);return w.bind(rw).getOr("")},vm=function(u,c){var h=mr.fromTable(u),w=mc(h,c);return w.bind(function(k){var R=k[k.length-1],z=k[0].row,K=R.row+R.rowspan,ie=h.all.slice(z,K);return s4(ie)}).getOr("")},T0=function(u,c,h,w){return cc(u,c,h,w.sizing)},Hu=function(u,c,h,w){return l_(u,c,h,w.sizing,w.resize)},pc=function(u,c){return B(c,function(h){return h.column===0&&h.isLocked})},O0=function(u,c){return B(c,function(h){return h.column+h.colspan>=u.grid.columns&&h.isLocked})},uv=function(u,c){var h=Ld(u),w=Jh(c);return te(w,function(k,R){var z=h[R.column],K=z.map(Gi).getOr(0);return k+K},0)},Ml=function(u){return function(c,h){return mc(c,h).filter(function(w){var k=u?pc:O0;return!k(c,w)}).map(function(w){return{details:w,pixelDelta:uv(c,w)}})}},bc=function(u,c){return iv(u,c).map(function(h){return{details:h,pixelDelta:-uv(u,h)}})},ou=function(u){return function(c,h){return iw(c,h).filter(function(w){var k=u?pc:O0;return!k(c,w.cells)})}},ol=Lu.transform("th"),ug=Lu.transform("td"),tf=ci(ag,mc,Y,Y,Lu.modification),dm=ci(_0,mc,Y,Y,Lu.modification),K_=ci(R4,Ml(!0),Hu,Y,Lu.modification),X_=ci(yw,Ml(!1),Hu,Y,Lu.modification),P4=ci(Zp,bc,Hu,bw,Lu.modification),I4=ci(B4,mc,Y,bw,Lu.modification),Y_=ci(x0,iv,Y,Y,ol),J_=ci($4,iv,Y,Y,ug),Z_=ci(ww,iv,Y,Y,ol),N4=ci(og,iv,Y,Y,ug),Q_=ci(Cw,iv,Y,Y,ug),z4=ci(Mi,iv,Y,Y,ol),ex=ci(ef,iv,Y,Y,ug),tx=ci(j_,uw,T0,Y,Lu.merging),xw=ci(G_,p0,T0,Y,Lu.merging),nx=ci(M4,T_,T0,Y,Lu.modification),F4=ci(ho,ou(!0),Y,Y,Lu.modification),Dr=ci(A0,ou(!1),Y,Y,Lu.modification),mm=ci(E0,iw,Y,Y,Lu.modification),sg=ci(Sw,iw,Y,Y,Lu.modification),kw=q_,L4=_w,Vu=vm,H4=function(u,c,h){var w=function(mi){return ea(jc(mi))==="table"},k=function(mi){return w(u)===!1||B2(mi).rows>1},R=function(mi){return w(u)===!1||B2(mi).columns>1},z=u0(u),K=K2(u)?Y:i4,ie=function(mi){switch(Bl(u)){case"section":return Gp.section();case"sectionCells":return Gp.sectionCells();case"cells":return Gp.cells();default:return Gp.getTableSectionType(mi,"section")}},be=function(mi,w1){return w1.cursor.fold(function(){var mv=Wf(mi);return it(mv).filter(Ql).map(function(wc){c.clear(mi);var Hs=u.dom.createRng();return Hs.selectNode(wc.dom),u.selection.setRng(Hs),Lo(wc,"data-mce-selected","1"),Hs})},function(mv){var wc=k_(mv),Hs=u.dom.createRng();return Hs.setStart(wc.element.dom,wc.offset),Hs.setEnd(wc.element.dom,wc.offset),u.selection.setRng(Hs),c.clear(mi),U.some(Hs)})},Pe=function(mi,w1,mv,wc,Hs){return function(vf,gy,Og){Og===void 0&&(Og=!1),pu(vf);var Dg=wc(),Rg=Qt.fromDom(u.getDoc()),Cc=rr(mv,Rg,z),$g={sizing:Z2(u,vf),resize:K2(u)?Ib():Xd(),section:ie(vf)};return w1(vf)?mi(Dg,vf,gy,Cc,$g).bind(function(Bg){ot(Bg.newRows,function(Mg){e0(u,Mg.dom)}),ot(Bg.newCells,function(Mg){t0(u,Mg.dom)});var TC=be(vf,Bg);return Ql(vf)&&(pu(vf),Og||Jc(u,vf.dom,Hs)),TC.map(function(Mg){return{rng:Mg,effect:Hs}})}):U.none()}},mt=Pe(I4,k,Y,h,ja),Lt=Pe(P4,R,Y,h,ja),At=Pe(tf,le,Y,h,ja),ht=Pe(dm,le,Y,h,ja),Xt=Pe(K_,le,K,h,ja),en=Pe(X_,le,K,h,ja),On=Pe(tx,le,Y,h,ja),Wr=Pe(xw,le,Y,h,ja),Tn=Pe(F4,le,Y,h,ja),Jn=Pe(Dr,le,Y,h,ja),_r=Pe(mm,le,Y,h,ja),wr=Pe(sg,le,Y,h,ja),Co=Pe(nx,le,Y,h,Z3),vi=Pe(z4,le,Y,h,ja),di=Pe(ex,le,Y,h,ja),Nr=Pe(Y_,le,Y,h,ja),er=Pe(J_,le,Y,h,ja),Tr=Pe(Z_,le,Y,h,ja),fa=Pe(N4,le,Y,h,ja),io=Pe(Q_,le,Y,h,ja),dv=L4,ca=kw,ds=Vu;return{deleteRow:mt,deleteColumn:Lt,insertRowsBefore:At,insertRowsAfter:ht,insertColumnsBefore:Xt,insertColumnsAfter:en,mergeCells:On,unmergeCells:Wr,pasteColsBefore:Tn,pasteColsAfter:Jn,pasteRowsBefore:_r,pasteRowsAfter:wr,pasteCells:Co,makeCellsHeader:vi,unmakeCellsHeader:di,makeColumnsHeader:Nr,unmakeColumnsHeader:er,makeRowsHeader:Tr,makeRowsBody:fa,makeRowsFooter:io,getTableRowType:ds,getTableCellType:dv,getTableColType:ca}},hm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},sd=function(){return Qt.fromTag("th")},D0=function(){return Qt.fromTag("td")},R0=function(){return Qt.fromTag("col")},V4=function(u,c,h,w){for(var k=Qt.fromTag("tr"),R=0;R<u;R++){var z=w<c||R<h?sd():D0();R<h&&Lo(z,"scope","row"),w<c&&Lo(z,"scope","col"),ao(z,Qt.fromTag("br")),ao(k,z)}return k},rx=function(u){var c=Qt.fromTag("colgroup");return _t(u,function(){return ao(c,R0())}),c},$0=function(u,c,h,w){return _t(u,function(k){return V4(c,h,w,k)})},Aw=function(u,c,h,w,k,R){R===void 0&&(R=hm);var z=Qt.fromTag("table"),K=k!=="cells";Nc(z,R.styles),ko(z,R.attributes),R.colGroups&&ao(z,rx(c));var ie=Math.min(u,h);if(K&&h>0){var be=Qt.fromTag("thead");ao(z,be);var Pe=k==="sectionCells"?ie:0,mt=$0(h,c,Pe,w);ac(be,mt)}var Lt=Qt.fromTag("tbody");ao(z,Lt);var At=K?u-ie:u,ht=K?0:h,Xt=$0(At,c,ht,w);return ac(Lt,Xt),z},lg=function(u){return u.dom.innerHTML},B0=function(u){var c=Qt.fromTag("div"),h=Qt.fromDom(u.dom.cloneNode(!0));return ao(c,h),lg(c)},U4=function(u,c){u.selection.select(c.dom,!0),u.selection.collapse(!0)},nf=function(u,c){rs(c,"td,th").each(Ee(U4,u))},Ew=function(u,c){ot(ns(c,"tr"),function(h){e0(u,h.dom),ot(ns(h,"th,td"),function(w){t0(u,w.dom)})})},Tw=function(u){return S(u)&&u.indexOf("%")!==-1},cg=function(u,c,h,w,k){var R=a0(u),z={styles:R,attributes:zp(u),colGroups:o0(u)};return u.undoManager.ignore(function(){var K=Aw(h,c,k,w,Bl(u),z);Lo(K,"data-mce-id","__mce");var ie=B0(K);u.insertContent(ie),u.addVisual()}),rs(jc(u),'table[data-mce-id="__mce"]').map(function(K){return ov(u)?Vh(K):Lh(u)?s0(K):(dt(u)||Tw(R.width))&&Hh(K),pu(K),Ba(K,"data-mce-id"),Ew(u,K),nf(u,K),K.dom}).getOr(null)},Ow=function(u,c,h,w,k){w===void 0&&(w={});var R=function(ie){return H(ie)&&ie>0};if(R(c)&&R(h)){var z=w.headerRows||0,K=w.headerColumns||0;return cg(u,h,c,K,z)}else return console.error(k),null},Qp=function(u){return function(){return u().fold(function(){return[]},function(c){return at(c,function(h){return h.dom})})}},ax=function(u){return function(c){var h=c.length>0?U.some(cs(c)):U.none();u(h)}},W4=function(u){return function(c,h,w){w===void 0&&(w={});var k=Ow(u,h,c,w,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),k}},rf=function(u,c,h,w){return{insertTable:W4(u),setClipboardRows:ax(c.setRows),getClipboardRows:Qp(c.getRows),setClipboardCols:ax(c.setColumns),getClipboardCols:Qp(c.getColumns),resizeHandler:h,selectionTargets:w}},vs=function(u,c,h){var w=Qs(u,c,1);h===1||w<=1?Ba(u,c):Lo(u,c,Math.min(h,w))},Pi=function(u,c,h){if(mr.hasColumns(u)){var w=lt(mr.justColumns(u),function(z){return z.column>=c&&z.column<h}),k=at(w,function(z){var K=sa(z.element);return vs(K,"span",h-c),K}),R=Qt.fromTag("colgroup");return ac(R,k),[R]}else return[]},j4=function(u,c,h){return at(u.all,function(w){var k=lt(w.cells,function(K){return K.column>=c&&K.column<h}),R=at(k,function(K){var ie=sa(K.element);return vs(ie,"colspan",h-c),ie}),z=Qt.fromTag("tr");return ac(z,R),z})},Dw=function(u,c){var h=mr.fromTable(u),w=iv(h,c);return w.map(function(k){var R=k[k.length-1],z=k[0].column,K=R.column+R.colspan,ie=Pi(h,z,K),be=j4(h,z,K);return rn(rn([],ie,!0),be,!0)})},fg=function(u,c,h){var w=mr.fromTable(u),k=mc(w,c);return k.bind(function(R){var z=ad(w,h,!1),K=bo(z).rows,ie=K.slice(R[0].row,R[R.length-1].row+R[R.length-1].rowspan),be=Te(ie,function(mt){var Lt=lt(mt.cells,function(At){return!At.isLocked});return Lt.length>0?[zt(zt({},mt),{cells:Lt})]:[]}),Pe=m0(be);return ya(Pe.length>0,Pe)}).map(function(R){return ow(R)})},Rw=tinymce.util.Tools.resolve("tinymce.util.Tools"),e1=function(u,c,h){var w=u.select("td,th",c),k,R=function(z,K){for(var ie=0;ie<K.length;ie++){var be=u.getStyle(K[ie],h);if(typeof z>"u"&&(z=be),z!==be)return""}return z};return R(k,w)},$w=function(u,c,h){h&&u.formatter.apply("align"+h,{},c)},G4=function(u,c,h){h&&u.formatter.apply("valign"+h,{},c)},an=function(u,c){Rw.each("left center right".split(" "),function(h){u.formatter.remove("align"+h,{},c)})},Xo=function(u,c){Rw.each("top middle bottom".split(" "),function(h){u.formatter.remove("valign"+h,{},c)})},vg=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],fi=function(u){return{value:u}},il=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Bw=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,t1=function(u){return il.test(u)||Bw.test(u)},M0=function(u){return Kl(u,"#").toUpperCase()},P0=function(u){return t1(u)?U.some({value:M0(u)}):U.none()},I0=function(u){var c=u.toString(16);return(c.length===1?"0"+c:c).toUpperCase()},ld=function(u){var c=I0(u.red)+I0(u.green)+I0(u.blue);return fi(c)},n1=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Mw=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Pw=function(u,c,h,w){return{red:u,green:c,blue:h,alpha:w}},Iw=function(u,c,h,w){var k=parseInt(u,10),R=parseInt(c,10),z=parseInt(h,10),K=parseFloat(w);return Pw(k,R,z,K)},q4=function(u){if(u==="transparent")return U.some(Pw(0,0,0,0));var c=n1.exec(u);if(c!==null)return U.some(Iw(c[1],c[2],c[3],"1"));var h=Mw.exec(u);return h!==null?U.some(Iw(h[1],h[2],h[3],h[4])):U.none()},ox=function(u){return P0(u).orThunk(function(){return q4(u).map(ld)}).getOrThunk(function(){var c=document.createElement("canvas");c.height=1,c.width=1;var h=c.getContext("2d");h.clearRect(0,0,c.width,c.height),h.fillStyle="#FFFFFF",h.fillStyle=u,h.fillRect(0,0,1,1);var w=h.getImageData(0,0,1,1).data,k=w[0],R=w[1],z=w[2],K=w[3];return ld(Pw(k,R,z,K))})},sv=function(u){var c=u,h=function(){return c},w=function(k){c=k};return{get:h,set:w}},af=function(u){var c=sv(U.none()),h=function(){return c.get().each(u)},w=function(){h(),c.set(U.none())},k=function(){return c.get().isSome()},R=function(){return c.get()},z=function(K){h(),c.set(U.some(K))};return{clear:w,isSet:k,get:R,set:z}},gm=function(){return af(function(u){return u.unbind()})},dg=function(){var u=af(Y),c=function(h){return u.get().each(h)};return zt(zt({},u),{on:c})},Nw=function(u,c,h,w){return function(k){var R=gm(),z=lo(w),K=function(){var ie=Ki(c),be=function(Pe){return u.formatter.match(h,{value:w},Pe.dom,z)};z?(k.setActive(!B(ie,be)),R.set(u.formatter.formatChanged(h,function(Pe){return k.setActive(!Pe)},!0))):(k.setActive(Ae(ie,be)),R.set(u.formatter.formatChanged(h,k.setActive,!1,{value:w})))};return u.initialized?K():u.on("init",K),R.clear}},N0=function(u){return Ne(u,"menu")},of=function(u){return at(u,function(c){var h=c.text||c.title;return N0(c)?{text:h,items:of(c.menu)}:{text:h,value:c.value}})},Pl=function(u,c,h,w,k){return at(h,function(R){var z=R.text||R.title;return N0(R)?{type:"nestedmenuitem",text:z,getSubmenuItems:function(){return Pl(u,c,R.menu,w,k)}}:{text:z,type:"togglemenuitem",onAction:function(){return k(R.value)},onSetup:Nw(u,c,w,R.value)}})},cd=function(u,c){return function(h){var w;u.execCommand("mceTableApplyCellStyle",!1,(w={},w[c]=h,w))}},fd=function(u){return Te(u,function(c){return N0(c)?[zt(zt({},c),{menu:fd(c.menu)})]:Mr(c.value)?[c]:[]})},pm=function(u,c,h,w,k){return function(R){return R(Pl(u,c,h,w,k))}},mg=function(u,c,h){var w=at(c,function(k){return{text:k.title,value:"#"+ox(k.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:w.length>0?w:void 0,allowCustomColors:!1},onAction:function(k){var R,z=k.value==="remove"?"":k.value;u.execCommand("mceTableApplyCellStyle",!1,(R={},R[h]=z,R))}}]},zw=function(u){return function(){var c=u.queryCommandValue("mceTableRowType"),h=c==="header"?"body":"header";u.execCommand("mceTableRowType",!1,{type:h})}},Fw=function(u){return function(){var c=u.queryCommandValue("mceTableColType"),h=c==="th"?"td":"th";u.execCommand("mceTableColType",!1,{type:h})}},Lw=function(u){var c=of(Zc(u));return c.length>0?U.some({name:"class",type:"listbox",label:"Class",items:c}):U.none()},z0=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:vg}],Ii=function(u){return z0.concat(Lw(u).toArray())},Fs=function(u,c){var h=[{text:"Select...",value:""}],w=[{name:"borderstyle",type:"listbox",label:"Border style",items:h.concat(of(nu(u)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],k={name:"borderwidth",type:"input",label:"Border width"},R=c==="cell"?[k].concat(w):w;return{title:"Advanced",name:"advanced",items:R}},ul=function(u){return function(c,h){var w=c.dom,k=function(K,ie){(!u||ie)&&w.setAttrib(h,K,ie)},R=function(K,ie){(!u||ie)&&w.setStyle(h,K,ie)},z=function(K,ie){(!u||ie)&&(ie===""?c.formatter.remove(K,{value:null},h,!0):c.formatter.apply(K,{value:ie},h))};return{setAttrib:k,setStyle:R,setFormat:z}}},uf={normal:ul(!1),ifTruthy:ul(!0)},hg=function(u){return function(c){return Si(c,"rgb")?u.toHex(c):c}},F0=function(u,c){var h=Qt.fromDom(c);return{borderwidth:du(h,"border-width").getOr(""),borderstyle:du(h,"border-style").getOr(""),bordercolor:du(h,"border-color").map(hg(u)).getOr(""),backgroundcolor:du(h,"background-color").map(hg(u)).getOr("")}},vd=function(u){var c=u[0],h=u.slice(1);return ot(h,function(w){ot(cu(c),function(k){Ra(w,function(R,z){var K=c[k];K!==""&&k===z&&K!==R&&(c[k]="")})})}),c},bm=function(u,c,h,w){return Ue(u,function(k){return!W(h.formatter.matchNode(w,c+k))}).getOr("")},ym=Ee(bm,["left","center","right"],"align"),K4=Ee(bm,["top","middle","bottom"],"valign"),Hw=function(u,c){var h=a0(u),w=zp(u),k=function(Pe){return{borderstyle:$u(h,"border-style").getOr(""),bordercolor:hg(Pe)($u(h,"border-color").getOr("")),backgroundcolor:hg(Pe)($u(h,"background-color").getOr(""))}},R={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},z=function(){var Pe=h["border-width"];return ru(u)&&Pe?{border:Pe}:$u(w,"border").fold(function(){return{}},function(mt){return{border:mt}})},K=c?k(u.dom):{},ie=function(){var Pe=$u(h,"border-spacing").or($u(w,"cellspacing")).fold(function(){return{}},function(Lt){return{cellspacing:Lt}}),mt=$u(h,"border-padding").or($u(w,"cellpadding")).fold(function(){return{}},function(Lt){return{cellpadding:Lt}});return zt(zt({},Pe),mt)},be=zt(zt(zt(zt(zt(zt({},R),h),w),K),z()),ie());return be},ix=function(u){return Ua(Qt.fromDom(u)).map(function(c){var h={selection:cs(u.cells)};return Vu(c,h)}).getOr("")},ux=function(u,c,h){var w=function(K,ie){var be=du(Qt.fromDom(ie),"border-width");return ru(u)&&be.isSome()?be.getOr(""):K.getAttrib(ie,"border")||e1(u.dom,ie,"border-width")||e1(u.dom,ie,"border")},k=u.dom,R=ru(u)?k.getStyle(c,"border-spacing")||k.getAttrib(c,"cellspacing"):k.getAttrib(c,"cellspacing")||k.getStyle(c,"border-spacing"),z=ru(u)?e1(k,c,"padding")||k.getAttrib(c,"cellpadding"):k.getAttrib(c,"cellpadding")||e1(k,c,"padding");return zt({width:k.getStyle(c,"width")||k.getAttrib(c,"width"),height:k.getStyle(c,"height")||k.getAttrib(c,"height"),cellspacing:R,cellpadding:z,border:w(k,c),caption:!!k.select("caption",c)[0],class:k.getAttrib(c,"class",""),align:ym(u,c)},h?F0(k,c):{})},Vw=function(u,c,h){var w=u.dom;return zt({height:w.getStyle(c,"height")||w.getAttrib(c,"height"),class:w.getAttrib(c,"class",""),type:ix(c),align:ym(u,c)},h?F0(w,c):{})},Uw=function(u,c,h,w){var k=u.dom,R=w.getOr(c),z=function(K,ie){return k.getStyle(K,ie)||k.getAttrib(K,ie)};return zt({width:z(R,"width"),height:z(c,"height"),scope:k.getAttrib(c,"scope"),celltype:A2(c),class:k.getAttrib(c,"class",""),halign:ym(u,c),valign:K4(u,c)},h?F0(k,c):{})},pa=function(u,c){var h=mr.fromTable(u),w=mr.justCells(h),k=lt(w,function(R){return B(c,function(z){return Qr(R.element,z)})});return at(k,function(R){return{element:R.element.dom,column:mr.getColumnAt(h,R.column).map(function(z){return z.element.dom})}})},sf=function(u,c,h){u.setAttrib("scope",h.scope),u.setAttrib("class",h.class),u.setStyle("height",Zo(h.height)),c.setStyle("width",Zo(h.width))},sx=function(u,c){u.setFormat("tablecellbackgroundcolor",c.backgroundcolor),u.setFormat("tablecellbordercolor",c.bordercolor),u.setFormat("tablecellborderstyle",c.borderstyle),u.setFormat("tablecellborderwidth",Zo(c.borderwidth))},lx=function(u,c,h){var w=c.length===1;ot(c,function(k){var R=k.element,z=w?uf.normal(u,R):uf.ifTruthy(u,R),K=k.column.map(function(ie){return w?uf.normal(u,ie):uf.ifTruthy(u,ie)}).getOr(z);sf(z,K,h),Lp(u)&&sx(z,h),w&&(an(u,R),Xo(u,R)),h.halign&&$w(u,R,h.halign),h.valign&&G4(u,R,h.valign)})},cx=function(u,c){u.execCommand("mceTableCellType",!1,{type:c.celltype,no_events:!0})},L0=function(u,c,h,w){var k=Cl(w,function(R,z){return h[z]!==R});_s(k)>0&&c.length>=1&&Ua(c[0]).each(function(R){var z=pa(R,c),K=_s(Cl(k,function(be,Pe){return Pe!=="scope"&&Pe!=="celltype"}))>0,ie=oe(k,"celltype");(K||oe(k,"scope"))&&lx(u,z,w),ie&&cx(u,w),Jc(u,R.dom,{structure:ie,style:K})})},Ww=function(u,c,h,w){var k=w.getData();w.close(),u.undoManager.transact(function(){L0(u,c,h,k),u.focus()})},r1=function(u,c){var h=Ua(c[0]).map(function(w){return at(pa(w,c),function(k){return Uw(u,k.element,Lp(u),k.column)})});return vd(h.getOrDie())},Un=function(u,c){var h=Ki(c);if(h.length!==0){var w=r1(u,h),k={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ii(u)},Fs(u,"cell")]},R={type:"panel",items:[{type:"grid",columns:2,items:Ii(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:Lp(u)?k:R,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onSubmit:Ee(Ww,u,h,w)})}},X4=function(u){var c=of(nd(u));return c.length>0?U.some({name:"class",type:"listbox",label:"Class",items:c}):U.none()},jw=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],fx=function(u){return jw.concat(X4(u).toArray())},Gw=function(u,c){u.setAttrib("class",c.class),u.setStyle("height",Zo(c.height))},Y4=function(u,c){u.setStyle("background-color",c.backgroundcolor),u.setStyle("border-color",c.bordercolor),u.setStyle("border-style",c.borderstyle)},vx=function(u,c,h,w){var k=c.length===1;ot(c,function(R){var z=k?uf.normal(u,R):uf.ifTruthy(u,R);Gw(z,h),Hp(u)&&Y4(z,h),h.align!==w.align&&(an(u,R),$w(u,R,h.align))})},qw=function(u,c){u.execCommand("mceTableRowType",!1,{type:c.type,no_events:!0})},Kw=function(u,c,h,w){var k=Cl(w,function(K,ie){return h[ie]!==K});if(_s(k)>0){var R=oe(k,"type"),z=R?_s(k)>1:!0;z&&vx(u,c,w,h),R&&qw(u,w),Ua(Qt.fromDom(c[0])).each(function(K){return Jc(u,K.dom,{structure:R,style:z})})}},J4=function(u,c,h,w){var k=w.getData();w.close(),u.undoManager.transact(function(){Kw(u,c,h,k),u.focus()})},Ls=function(u){var c=i_(qd(u),Is.selected);if(c.length!==0){var h=at(c,function(z){return Vw(u,z.dom,Hp(u))}),w=vd(h),k={type:"tabpanel",tabs:[{title:"General",name:"general",items:fx(u)},Fs(u,"row")]},R={type:"panel",items:[{type:"grid",columns:2,items:fx(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:Hp(u)?k:R,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onSubmit:Ee(J4,u,at(c,function(z){return z.dom}),w)})}},xu=function(u,c,h){var w=h?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],k=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],R=dc(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],z=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],K=c.length>0?[{type:"listbox",name:"class",label:"Class",items:c}]:[];return w.concat(k).concat(R).concat(z).concat(K)},lf=function(u,c,h,w){if(c.tagName==="TD"||c.tagName==="TH")S(h)?u.setStyle(c,h,w):u.setStyle(c,h);else if(c.children)for(var k=0;k<c.children.length;k++)lf(u,c.children[k],h,w)},Z4=function(u,c,h){var w=u.dom,k={},R={};if(k.class=h.class,R.height=Zo(h.height),w.getAttrib(c,"width")&&!ru(u)?k.width=Wv(h.width):R.width=Zo(h.width),ru(u)?(R["border-width"]=Zo(h.border),R["border-spacing"]=Zo(h.cellspacing)):(k.border=h.border,k.cellpadding=h.cellpadding,k.cellspacing=h.cellspacing),ru(u)&&c.children)for(var z=0;z<c.children.length;z++)lf(w,c.children[z],{"border-width":Zo(h.border),padding:Zo(h.cellpadding)}),_u(u)&&lf(w,c.children[z],{"border-color":h.bordercolor});_u(u)&&(R["background-color"]=h.backgroundcolor,R["border-color"]=h.bordercolor,R["border-style"]=h.borderstyle),k.style=w.serializeStyle(zt(zt({},a0(u)),R)),w.setAttribs(c,zt(zt({},zp(u)),k))},Q4=function(u,c,h,w){var k=u.dom,R=w.getData(),z=Cl(R,function(K,ie){return h[ie]!==K});w.close(),R.class===""&&delete R.class,u.undoManager.transact(function(){if(!c){var K=parseInt(R.cols,10)||1,ie=parseInt(R.rows,10)||1;c=cg(u,K,ie,0,0)}if(_s(z)>0){Z4(u,c,R);var be=k.select("caption",c)[0];(be&&!R.caption||!be&&R.caption)&&u.execCommand("mceTableToggleCaption"),R.align===""?an(u,c):$w(u,c,R.align)}if(u.focus(),u.addVisual(),_s(z)>0){var Pe=oe(z,"caption"),mt=Pe?_s(z)>1:!0;Jc(u,c,{structure:Pe,style:mt})}})},Xw=function(u,c){var h=u.dom,w,k=Hw(u,_u(u));c===!1?(w=h.getParent(u.selection.getStart(),"table",u.getBody()),w?k=ux(u,w,_u(u)):_u(u)&&(k.borderstyle="",k.bordercolor="",k.backgroundcolor="")):(k.cols="1",k.rows="1",_u(u)&&(k.borderstyle="",k.bordercolor="",k.backgroundcolor=""));var R=of(Vp(u));R.length>0&&k.class&&(k.class=k.class.replace(/\s*mce\-item\-table\s*/g,""));var z={type:"grid",columns:2,items:xu(u,R,c)},K=function(){return{type:"panel",items:[z]}},ie=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[z]},Fs(u,"table")]}},be=_u(u)?ie():K();u.windowManager.open({title:"Table Properties",size:"normal",body:be,onSubmit:Ee(Q4,u,w,k),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:k})},Sr=function(u){return Ya(qd(u),Ps(u))},eE=function(u){return Di(qd(u),Ps(u))},H0=function(u,c,h,w,k){var R=Ps(u),z=function(){return Sr(u).each(function(Tn){Ua(Tn,R).filter(De(R)).each(function(Jn){var _r=Qt.fromText("");if(xa(Jn,_r),Pu(Jn),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var wr=u.dom.createRng();wr.setStart(_r.dom,0),wr.setEnd(_r.dom,0),u.selection.setRng(wr),u.nodeChanged()}})})},K=function(Tn){return Sr(u).each(function(Jn){var _r=Lh(u)||ov(u)||dt(u);_r||Ua(Jn,R).each(function(wr){Tn==="relative"&&!Lb(wr)?Hh(wr):Tn==="fixed"&&!Ri(wr)?Vh(wr):Tn==="responsive"&&!Hb(wr)&&s0(wr),pu(wr),Jc(u,wr.dom,ja)})})},ie=function(Tn){return Ua(Tn,R)},be=function(Tn){return eE(u).bind(function(Jn){return ie(Jn).map(function(_r){return Tn(_r,Jn)})})},Pe=function(Tn,Jn){be(function(_r){u.formatter.toggle("tableclass",{value:Jn},_r.dom),Jc(u,_r.dom,am)})},mt=function(Tn,Jn){be(function(_r){var wr=Ki(w),Co=Ae(wr,function(di){return u.formatter.match("tablecellclass",{value:Jn},di.dom)}),vi=Co?u.formatter.remove:u.formatter.apply;ot(wr,function(di){return vi("tablecellclass",{value:Jn},di.dom)}),Jc(u,_r.dom,am)})},Lt=function(){Sr(u).each(function(Tn){Ua(Tn,R).each(function(Jn){jn(Jn,"caption").fold(function(){var _r=Qt.fromTag("caption");ao(_r,Qt.fromText("Caption")),w3(Jn,_r,0),u.selection.setCursorLocation(_r.dom,0)},function(_r){Jo("caption")(Tn)&&Bf("td",Jn).each(function(wr){return u.selection.setCursorLocation(wr.dom,0)}),Pu(_r)}),Jc(u,Jn.dom,ja)})})},At=function(Tn){u.focus()},ht=function(Tn,Jn){return Jn===void 0&&(Jn=!1),be(function(_r,wr){var Co=Kd(w,_r,wr);Tn(_r,Co,Jn).each(At)})},Xt=function(){return be(function(Tn,Jn){var _r=Kd(w,Tn,Jn),wr=rr(Y,Qt.fromDom(u.getDoc()),U.none());return fg(Tn,_r,wr)})},en=function(){return be(function(Tn,Jn){var _r=Kd(w,Tn,Jn);return Dw(Tn,_r)})},On=function(Tn,Jn){return Jn().each(function(_r){var wr=at(_r,function(Co){return sa(Co)});be(function(Co,vi){var di=Ms(Qt.fromDom(u.getDoc())),Nr=T2(w,vi,wr,di);Tn(Co,Nr).each(At)})})},Wr=function(Tn){return function(Jn,_r){return $u(_r,"type").each(function(wr){ht(Tn(wr),_r.no_events)})}};Ra({mceTableSplitCells:function(){return ht(c.unmergeCells)},mceTableMergeCells:function(){return ht(c.mergeCells)},mceTableInsertRowBefore:function(){return ht(c.insertRowsBefore)},mceTableInsertRowAfter:function(){return ht(c.insertRowsAfter)},mceTableInsertColBefore:function(){return ht(c.insertColumnsBefore)},mceTableInsertColAfter:function(){return ht(c.insertColumnsAfter)},mceTableDeleteCol:function(){return ht(c.deleteColumn)},mceTableDeleteRow:function(){return ht(c.deleteRow)},mceTableCutCol:function(){return en().each(function(Tn){k.setColumns(Tn),ht(c.deleteColumn)})},mceTableCutRow:function(){return Xt().each(function(Tn){k.setRows(Tn),ht(c.deleteRow)})},mceTableCopyCol:function(){return en().each(function(Tn){return k.setColumns(Tn)})},mceTableCopyRow:function(){return Xt().each(function(Tn){return k.setRows(Tn)})},mceTablePasteColBefore:function(){return On(c.pasteColsBefore,k.getColumns)},mceTablePasteColAfter:function(){return On(c.pasteColsAfter,k.getColumns)},mceTablePasteRowBefore:function(){return On(c.pasteRowsBefore,k.getRows)},mceTablePasteRowAfter:function(){return On(c.pasteRowsAfter,k.getRows)},mceTableDelete:z,mceTableCellToggleClass:mt,mceTableToggleClass:Pe,mceTableToggleCaption:Lt,mceTableSizingMode:function(Tn,Jn){return K(Jn)},mceTableCellType:Wr(function(Tn){return Tn==="th"?c.makeCellsHeader:c.unmakeCellsHeader}),mceTableColType:Wr(function(Tn){return Tn==="th"?c.makeColumnsHeader:c.unmakeColumnsHeader}),mceTableRowType:Wr(function(Tn){switch(Tn){case"header":return c.makeRowsHeader;case"footer":return c.makeRowsFooter;default:return c.makeRowsBody}})},function(Tn,Jn){return u.addCommand(Jn,Tn)}),Ra({mceTableProps:Ee(Xw,u,!1),mceTableRowProps:Ee(Ls,u),mceTableCellProps:Ee(Un,u,w)},function(Tn,Jn){return u.addCommand(Jn,function(){return Tn()})}),u.addCommand("mceInsertTable",function(Tn,Jn){_(Jn)&&cu(Jn).length>0?Ow(u,Jn.rows,Jn.columns,Jn.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Xw(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(Tn,Jn){var _r=function(vi){return"tablecell"+vi.toLowerCase().replace("-","")};if(_(Jn)){var wr=Ki(w);if(wr.length!==0){var Co=Cl(Jn,function(vi,di){return u.formatter.has(_r(di))&&S(vi)});Xe(Co)||(Ra(Co,function(vi,di){ot(wr,function(Nr){uf.normal(u,Nr.dom).setFormat(_r(di),vi)})}),ie(wr[0]).each(function(vi){return Jc(u,vi.dom,am)}))}}})},V0=function(u,c,h){var w=Ps(u),k=function(R){return Di(qd(u)).bind(function(z){return Ua(z,w).map(function(K){var ie=Kd(h,K,z);return R(K,ie)})}).getOr("")};Ra({mceTableRowType:function(){return k(c.getTableRowType)},mceTableCellType:function(){return k(c.getTableCellType)},mceTableColType:function(){return k(c.getTableColType)}},function(R,z){return u.addQueryValueHandler(z,R)})},U0=function(){var u=dg(),c=dg();return{getRows:u.get,setRows:function(h){h.fold(u.clear,u.set),c.clear()},clearRows:u.clear,getColumns:c.get,setColumns:function(h){h.fold(c.clear,c.set),u.clear()},clearColumns:c.clear}},a1={remove_similar:!0,inherit:!1},lv=zt({selector:"td,th"},a1),o1={tablecellbackgroundcolor:zt({styles:{backgroundColor:"%value"}},lv),tablecellverticalalign:zt({styles:{"vertical-align":"%value"}},lv),tablecellbordercolor:zt({styles:{borderColor:"%value"}},lv),tablecellclass:zt({classes:["%value"]},lv),tableclass:zt({selector:"table",classes:["%value"]},a1),tablecellborderstyle:zt({styles:{borderStyle:"%value"}},lv),tablecellborderwidth:zt({styles:{borderWidth:"%value"}},lv)},tE=function(u){u.formatter.register(o1)},dx=Lc.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Yw=function(u){return u===void 0&&(u=void 0),dx.none(u)},dd=zt(zt({},dx),{none:Yw}),W0=function(u,c,h,w,k){k===void 0&&(k=le);var R=w===1;if(!R&&h<=0)return dd.first(u[0]);if(R&&h>=u.length-1)return dd.last(u[u.length-1]);var z=h+w,K=u[z];return k(K)?dd.middle(c,K):W0(u,c,z,w,k)},mx=function(u,c){return Ua(u,c).bind(function(h){var w=Wf(h),k=gt(w,function(R){return Qr(u,R)});return k.map(function(R){return{index:R,all:w}})})},nE=function(u,c,h){var w=mx(u,h);return w.fold(function(){return dd.none(u)},function(k){return W0(k.all,u,k.index,1,c)})},rE=function(u,c,h){var w=mx(u,h);return w.fold(function(){return dd.none()},function(k){return W0(k.all,u,k.index,-1,c)})},aE=function(u,c,h,w){return{start:u,soffset:c,finish:h,foffset:w}},wm={create:aE},Jw=Lc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Mn=function(u,c,h,w){return u.fold(c,h,w)},hx=function(u){return u.fold(Be,Be,Be)},gx=Jw.before,oE=Jw.on,i1=Jw.after,iu={before:gx,on:oE,after:i1,cata:Mn,getStart:hx},u1=Lc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),iE=function(u){return u1.exact(u.start,u.soffset,u.finish,u.foffset)},px=function(u){return u.match({domRange:function(c){return Qt.fromDom(c.startContainer)},relative:function(c,h){return iu.getStart(c)},exact:function(c,h,w,k){return c}})},Zw=u1.domRange,Qw=u1.relative,bx=u1.exact,eC=function(u){var c=px(u);return sh(c)},tC=wm.create,cv={domRange:Zw,relative:Qw,exact:bx,exactFromRange:iE,getWin:eC,range:tC},uE=function(u,c){var h=u.document.createRange();return h.selectNode(c.dom),h},sE=function(u,c){var h=u.document.createRange();return yx(h,c),h},yx=function(u,c){return u.selectNodeContents(c.dom)},lE=function(u,c){c.fold(function(h){u.setStartBefore(h.dom)},function(h,w){u.setStart(h.dom,w)},function(h){u.setStartAfter(h.dom)})},s1=function(u,c){c.fold(function(h){u.setEndBefore(h.dom)},function(h,w){u.setEnd(h.dom,w)},function(h){u.setEndAfter(h.dom)})},ta=function(u,c,h){var w=u.document.createRange();return lE(w,c),s1(w,h),w},j0=function(u,c,h,w,k){var R=u.document.createRange();return R.setStart(c.dom,h),R.setEnd(w.dom,k),R},fv=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},Il=function(u){var c=u.getClientRects(),h=c.length>0?c[0]:u.getBoundingClientRect();return h.width>0||h.height>0?U.some(h).map(fv):U.none()},md=Lc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Uu=function(u,c,h){return c(Qt.fromDom(h.startContainer),h.startOffset,Qt.fromDom(h.endContainer),h.endOffset)},G0=function(u,c){return c.match({domRange:function(h){return{ltr:de(h),rtl:U.none}},relative:function(h,w){return{ltr:pn(function(){return ta(u,h,w)}),rtl:pn(function(){return U.some(ta(u,w,h))})}},exact:function(h,w,k,R){return{ltr:pn(function(){return j0(u,h,w,k,R)}),rtl:pn(function(){return U.some(j0(u,k,R,h,w))})}}})},Cm=function(u,c){var h=c.ltr();if(h.collapsed){var w=c.rtl().filter(function(k){return k.collapsed===!1});return w.map(function(k){return md.rtl(Qt.fromDom(k.endContainer),k.endOffset,Qt.fromDom(k.startContainer),k.startOffset)}).getOrThunk(function(){return Uu(u,md.ltr,h)})}else return Uu(u,md.ltr,h)},gg=function(u,c){var h=G0(u,c);return Cm(u,h)},hd=function(u,c){var h=gg(u,c);return h.match({ltr:function(w,k,R,z){var K=u.document.createRange();return K.setStart(w.dom,k),K.setEnd(R.dom,z),K},rtl:function(w,k,R,z){var K=u.document.createRange();return K.setStart(R.dom,z),K.setEnd(w.dom,k),K}})};md.ltr,md.rtl;var cE=function(u,c,h,w,k){if(k===0)return 0;if(c===w)return k-1;for(var R=w,z=1;z<k;z++){var K=u(z),ie=Math.abs(c-K.left);if(h<=K.bottom){if(h<K.top||ie>R)return z-1;R=ie}}return 0},wx=function(u,c,h){return c>=u.left&&c<=u.right&&h>=u.top&&h<=u.bottom},fE=function(u,c,h,w,k){var R=function(be){var Pe=u.dom.createRange();return Pe.setStart(c.dom,be),Pe.collapse(!0),Pe},z=function(be){var Pe=R(be);return Pe.getBoundingClientRect()},K=pb(c).length,ie=cE(z,h,w,k.right,K);return R(ie)},vE=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getClientRects(),z=Dt(R,function(K){return wx(K,h,w)?U.some(K):U.none()});return z.map(function(K){return fE(u,c,h,w,K)})},yr=function(u,c,h,w){var k=u.dom.createRange(),R=ii(c);return Dt(R,function(z){return k.selectNode(z.dom),wx(k.getBoundingClientRect(),h,w)?Nl(u,z,h,w):U.none()})},Nl=function(u,c,h,w){return Js(c)?vE(u,c,h,w):yr(u,c,h,w)},pg=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getBoundingClientRect(),z=Math.max(R.left,Math.min(R.right,h)),K=Math.max(R.top,Math.min(R.bottom,w));return Nl(u,c,z,K)},Cx=!0,l1=!1,Rr=function(u,c){return c-u.left<u.right-c?Cx:l1},Sx=function(u,c,h){var w=u.dom.createRange();return w.selectNode(c.dom),w.collapse(h),w},_x=function(u,c,h){var w=u.dom.createRange();w.selectNode(c.dom);var k=w.getBoundingClientRect(),R=Rr(k,h),z=R===Cx?Tb:Ob;return z(c).map(function(K){return Sx(u,K,R)})},c1=function(u,c,h){var w=c.dom.getBoundingClientRect(),k=Rr(w,h);return U.some(Sx(u,c,k))},xx=function(u,c,h){var w=ii(c).length===0?c1:_x;return w(u,c,h)},f1=function(u,c,h){var w,k;return U.from((k=(w=u.dom).caretPositionFromPoint)===null||k===void 0?void 0:k.call(w,c,h)).bind(function(R){if(R.offsetNode===null)return U.none();var z=u.dom.createRange();return z.setStart(R.offsetNode,R.offset),z.collapse(),U.some(z)})},Sm=function(u,c,h){var w,k;return U.from((k=(w=u.dom).caretRangeFromPoint)===null||k===void 0?void 0:k.call(w,c,h))},nC=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getBoundingClientRect(),z=Math.max(R.left,Math.min(R.right,h)),K=Math.max(R.top,Math.min(R.bottom,w));return pg(u,c,z,K)},rC=function(u,c,h){return Qt.fromPoint(u,c,h).bind(function(w){var k=function(){return xx(u,w,c)};return ii(w).length===0?k():nC(u,w,c,h).orThunk(k)})},kx=function(){return document.caretPositionFromPoint?f1:document.caretRangeFromPoint?Sm:rC}(),Ax=function(u,c,h){var w=Qt.fromDom(u.document);return kx(w,c,h).map(function(k){return wm.create(Qt.fromDom(k.startContainer),k.startOffset,Qt.fromDom(k.endContainer),k.endOffset)})},gd=function(u,c){var h=ea(u);return h==="input"?iu.after(u):ut(["br","img"],h)?c===0?iu.before(u):iu.after(u):iu.on(u,c)},_m=function(u,c){var h=u.fold(iu.before,gd,iu.after),w=c.fold(iu.before,gd,iu.after);return cv.relative(h,w)},aC=function(u,c,h,w){var k=gd(u,c),R=gd(h,w);return cv.relative(k,R)},Ex=function(u){return u.match({domRange:function(c){var h=Qt.fromDom(c.startContainer),w=Qt.fromDom(c.endContainer);return aC(h,c.startOffset,w,c.endOffset)},relative:_m,exact:aC})},q0=function(u,c,h,w){var k=If(u),R=k.dom.createRange();return R.setStart(u.dom,c),R.setEnd(h.dom,w),R},dE=function(u,c,h,w){var k=q0(u,c,h,w),R=Qr(u,h)&&c===w;return k.collapsed&&!R},bg=function(u){return U.from(u.getSelection())},oC=function(u,c){bg(u).each(function(h){h.removeAllRanges(),h.addRange(c)})},iC=function(u,c,h,w,k){var R=j0(u,c,h,w,k);oC(u,R)},Tx=function(u,c,h,w,k,R){c.collapse(h.dom,w),c.extend(k.dom,R)},uC=function(u,c){return gg(u,c).match({ltr:function(h,w,k,R){iC(u,h,w,k,R)},rtl:function(h,w,k,R){bg(u).each(function(z){if(z.setBaseAndExtent)z.setBaseAndExtent(h.dom,w,k.dom,R);else if(z.extend)try{Tx(u,z,h,w,k,R)}catch{iC(u,k,R,h,w)}else iC(u,k,R,h,w)})}})},K0=function(u,c,h,w,k){var R=aC(c,h,w,k);uC(u,R)},X0=function(u,c,h){var w=_m(c,h);uC(u,w)},sC=function(u){var c=cv.getWin(u).dom,h=function(k,R,z,K){return j0(c,k,R,z,K)},w=Ex(u);return gg(c,w).match({ltr:h,rtl:h})},lC=function(u){if(u.rangeCount>0){var c=u.getRangeAt(0),h=u.getRangeAt(u.rangeCount-1);return U.some(wm.create(Qt.fromDom(c.startContainer),c.startOffset,Qt.fromDom(h.endContainer),h.endOffset))}else return U.none()},Ox=function(u){if(u.anchorNode===null||u.focusNode===null)return lC(u);var c=Qt.fromDom(u.anchorNode),h=Qt.fromDom(u.focusNode);return dE(c,u.anchorOffset,h,u.focusOffset)?U.some(wm.create(c,u.anchorOffset,h,u.focusOffset)):lC(u)},xm=function(u,c,h){h===void 0&&(h=!0);var w=h?sE:uE,k=w(u,c);oC(u,k)},yg=function(u){return bg(u).filter(function(c){return c.rangeCount>0}).bind(Ox)},Dx=function(u){return yg(u).map(function(c){return cv.exact(c.start,c.soffset,c.finish,c.foffset)})},Rx=function(u,c){var h=hd(u,c);return Il(h)},Y0=function(u,c,h){return Ax(u,c,h)},$x=function(u){bg(u).each(function(c){return c.removeAllRanges()})},Bx=tinymce.util.Tools.resolve("tinymce.util.VK"),cC=function(u,c,h){return Ix(u,c,nE(h,Pp))},Mx=function(u,c,h){return Ix(u,c,rE(h,Pp))},Px=function(u,c){var h=cv.exact(c,0,c,0);return sC(h)},Ix=function(u,c,h){return h.fold(U.none,U.none,function(w,k){return Tb(k).map(function(R){return Px(u,R)})},function(w){return u.execCommand("mceTableInsertRowAfter"),cC(u,c,w)})},mE=["table","li","dl"],Nx=function(u,c,h){if(u.keyCode===Bx.TAB){var w=jc(c),k=function(K){var ie=ea(K);return Qr(K,w)||ut(mE,ie)},R=c.selection.getRng(),z=Qt.fromDom(u.shiftKey?R.startContainer:R.endContainer);nc(z,k).each(function(K){u.preventDefault(),Ua(K,k).each(h.clear),c.selection.collapse(u.shiftKey);var ie=u.shiftKey?Mx:cC,be=ie(c,k,K);be.each(function(Pe){c.selection.setRng(Pe)})})}},fC=function(u,c){return{selection:u,kill:c}},wg={create:fC},hE=function(u,c,h,w){return{start:iu.on(u,c),finish:iu.on(h,w)}},zx={create:hE},Fx=function(u,c){var h=hd(u,c);return wm.create(Qt.fromDom(h.startContainer),h.startOffset,Qt.fromDom(h.endContainer),h.endOffset)},sl=zx.create,Lx=function(u,c,h,w,k,R,z){return Qr(h,k)&&w===R?U.none():no(h,"td,th",c).bind(function(K){return no(k,"td,th",c).bind(function(ie){return Hx(u,c,K,ie,z)})})},Hx=function(u,c,h,w,k){return Qr(h,w)?U.none():Iv(h,w,c).bind(function(R){var z=R.boxes.getOr([]);return z.length>1?(k(u,z,R.start,R.finish),U.some(wg.create(U.some(sl(h,0,h,Rl(h))),!0))):U.none()})},J0=function(u,c,h,w,k){var R=function(z){return k.clearBeforeUpdate(h),k.selectRange(h,z.boxes,z.start,z.finish),z.boxes};return bh(w,u,c,k.firstSelectedSelector,k.lastSelectedSelector).map(R)},Z0=function(u,c){return{item:u,mode:c}},vC=function(u,c,h,w){return w===void 0&&(w=km),u.property().parent(c).map(function(k){return Z0(k,w)})},km=function(u,c,h,w){return w===void 0&&(w=Cg),h.sibling(u,c).map(function(k){return Z0(k,w)})},Cg=function(u,c,h,w){w===void 0&&(w=Cg);var k=u.property().children(c),R=h.first(k);return R.map(function(z){return Z0(z,w)})},Vx=[{current:vC,next:km,fallback:U.none()},{current:km,next:Cg,fallback:U.some(vC)},{current:Cg,next:Cg,fallback:U.some(km)}],Ux=function(u,c,h,w,k){k===void 0&&(k=Vx);var R=Ue(k,function(z){return z.current===h});return R.bind(function(z){return z.current(u,c,w,z.next).orThunk(function(){return z.fallback.bind(function(K){return Ux(u,c,K,w)})})})},Q0=function(){var u=function(h,w){return h.query().prevSibling(w)},c=function(h){return h.length>0?U.some(h[h.length-1]):U.none()};return{sibling:u,first:c}},gE=function(){var u=function(h,w){return h.query().nextSibling(w)},c=function(h){return h.length>0?U.some(h[0]):U.none()};return{sibling:u,first:c}},ey={left:Q0,right:gE},v1=function(u,c,h,w,k,R){var z=Ux(u,c,w,k);return z.bind(function(K){return R(K.item)?U.none():h(K.item)?U.some(K.item):v1(u,K.item,h,K.mode,k,R)})},ty=function(u,c,h,w){return v1(u,c,h,km,ey.left(),w)},Wx=function(u,c,h,w){return v1(u,c,h,km,ey.right(),w)},ny=function(u){return function(c){return u.property().children(c).length===0}},ll=function(u,c,h){return ry(u,c,ny(u),h)},pE=function(u,c,h){return jx(u,c,ny(u),h)},ry=ty,jx=Wx,d1=yp(),m1=function(u,c){return ll(d1,u,c)},dC=function(u,c){return pE(d1,u,c)},Gx=function(u,c,h){return ry(d1,u,c,h)},qx=function(u,c,h){return jx(d1,u,c,h)},Kx=function(u,c,h){return Ka(u,c,h).isSome()},ay=Lc.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),pd=function(u,c,h){var w=u.getRect(c),k=u.getRect(h);return k.right>w.left&&k.left<w.right},bE=function(u){return no(u,"tr")},yE=function(u,c,h,w,k,R,z){return no(w,"td,th",z).bind(function(K){return no(c,"td,th",z).map(function(ie){return Qr(K,ie)?Qr(w,K)&&Rl(K)===k?R(ie):ay.none("in same cell"):$n(bE,[K,ie]).fold(function(){return pd(u,ie,K)?ay.success():R(ie)},function(be){return R(ie)})})}).getOr(ay.none("default"))},wE=function(u,c,h,w,k){return u.fold(c,h,w,k)},bd=zt(zt({},ay),{verify:yE,cata:wE}),CE=function(u,c,h,w){return{parent:u,children:c,element:h,index:w}},mC=function(u){return _o(u).bind(function(c){var h=ii(c);return SE(h,u).map(function(w){return CE(c,h,u,w)})})},SE=function(u,c){return gt(u,Ee(Qr,c))},Sg=function(u){return ea(u)==="br"},hC=function(u,c,h){return c(u,h).bind(function(w){return Js(w)&&pb(w).trim().length===0?hC(w,c,h):U.some(w)})},Xx=function(u,c,h){return h.traverse(c).orThunk(function(){return hC(c,h.gather,u)}).map(h.relative)},oy=function(u,c){return lh(u,c).filter(Sg).orThunk(function(){return lh(u,c-1).filter(Sg)})},Yx=function(u,c,h,w){return oy(c,h).bind(function(k){return w.traverse(k).fold(function(){return hC(k,w.gather,u).map(w.relative)},function(R){return mC(R).map(function(z){return iu.on(z.parent,z.index)})})})},Jx=function(u,c,h,w){var k=Sg(c)?Xx(u,c,w):Yx(u,c,h,w);return k.map(function(R){return{start:R,finish:R}})},_E=function(u){return bd.cata(u,function(c){return U.none()},function(){return U.none()},function(c){return U.some(um(c,0))},function(c){return U.some(um(c,Rl(c)))})},iy=function(u,c){return{left:u.left,top:u.top+c,right:u.right,bottom:u.bottom+c}},uy=function(u,c){return{left:u.left,top:u.top-c,right:u.right,bottom:u.bottom-c}},gC=function(u,c,h){return{left:u.left+c,top:u.top+h,right:u.right+c,bottom:u.bottom+h}},Zx=function(u){return u.top},Qx=function(u){return u.bottom},Am=function(u,c,h){return h>=0&&h<Rl(c)?u.getRangedRect(c,h,c,h+1):h>0?u.getRangedRect(c,h-1,c,h):U.none()},h1=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},sy=function(u,c){return U.some(u.getRect(c))},g1=function(u,c,h){return _a(c)?sy(u,c).map(h1):Js(c)?Am(u,c,h).map(h1):U.none()},ek=function(u,c){return _a(c)?sy(u,c).map(h1):Js(c)?u.getRangedRect(c,0,c,Rl(c)).map(h1):U.none()},vv=5,xE=100,cf=Lc.generate([{none:[]},{retry:["caret"]}]),tk=function(u,c){return u.left<c.left||Math.abs(c.right-u.left)<1||u.left>c.right},ly=function(u,c,h){return db(c,ud).fold(Ye,function(w){return ek(u,w).exists(function(k){return tk(h,k)})})},pC=function(u,c,h,w,k){var R=iy(k,vv);return Math.abs(h.bottom-w.bottom)<1||h.top>k.bottom?cf.retry(R):h.top===k.bottom?cf.retry(iy(k,1)):ly(u,c,k)?cf.retry(gC(R,vv,0)):cf.none()},kE=function(u,c,h,w,k){var R=uy(k,vv);return Math.abs(h.top-w.top)<1||h.bottom<k.top?cf.retry(R):h.bottom===k.top?cf.retry(uy(k,1)):ly(u,c,k)?cf.retry(gC(R,vv,0)):cf.none()},yd={point:Zx,adjuster:kE,move:uy,gather:m1},nk={point:Qx,adjuster:pC,move:iy,gather:dC},rk=function(u,c,h){return u.elementFromPoint(c,h).filter(function(w){return ea(w)==="table"}).isSome()},AE=function(u,c,h,w,k){return bC(u,c,h,c.move(w,vv),k)},bC=function(u,c,h,w,k){return k===0?U.some(w):rk(u,w.left,c.point(w))?AE(u,c,h,w,k-1):u.situsFromPoint(w.left,c.point(w)).bind(function(R){return R.start.fold(U.none,function(z){return ek(u,z).bind(function(K){return c.adjuster(u,z,K,h,w).fold(U.none,function(ie){return bC(u,c,h,ie,k-1)})}).orThunk(function(){return U.some(w)})},U.none)})},_g=function(u,c){return u.situsFromPoint(c.left,c.bottom+vv)},xg=function(u,c){return u.situsFromPoint(c.left,c.top-vv)},ak=function(u,c,h){return u.point(c)>h.getInnerHeight()?U.some(u.point(c)-h.getInnerHeight()):u.point(c)<0?U.some(-u.point(c)):U.none()},yC=function(u,c,h){var w=u.move(h,vv),k=bC(c,u,h,w,xE).getOr(w);return ak(u,k,c).fold(function(){return c.situsFromPoint(k.left,u.point(k))},function(R){return c.scrollBy(0,R),c.situsFromPoint(k.left,u.point(k)-R)})},zl={tryUp:Ee(yC,yd),tryDown:Ee(yC,nk),ieTryUp:xg,ieTryDown:_g,getJumpSize:de(vv)},wd=20,Fn=function(u,c,h){return u.getSelection().bind(function(w){return Jx(c,w.finish,w.foffset,h).fold(function(){return U.some(um(w.finish,w.foffset))},function(k){var R=u.fromSitus(k),z=bd.verify(u,w.finish,w.foffset,R.finish,R.foffset,h.failure,c);return _E(z)})})},wC=function(u,c,h,w,k,R){return R===0?U.none():EE(u,c,h,w,k).bind(function(z){var K=u.fromSitus(z),ie=bd.verify(u,h,w,K.finish,K.foffset,k.failure,c);return bd.cata(ie,function(){return U.none()},function(){return U.some(z)},function(be){return Qr(h,be)&&w===0?ff(u,h,w,uy,k):wC(u,c,be,0,k,R-1)},function(be){return Qr(h,be)&&w===Rl(be)?ff(u,h,w,iy,k):wC(u,c,be,Rl(be),k,R-1)})})},ff=function(u,c,h,w,k){return g1(u,c,h).bind(function(R){return ok(u,k,w(R,zl.getJumpSize()))})},ok=function(u,c,h){var w=Yl().browser;return w.isChrome()||w.isSafari()||w.isFirefox()||w.isEdge()?c.otherRetry(u,h):w.isIE()?c.ieRetry(u,h):U.none()},EE=function(u,c,h,w,k){return g1(u,h,w).bind(function(R){return ok(u,k,R)})},ik=function(u,c,h){return Fn(u,c,h).bind(function(w){return wC(u,c,w.element,w.offset,h,wd).map(u.fromSitus)})},p1=function(u,c){return Kx(u,function(h){return _o(h).exists(function(w){return Qr(w,c)})})},yc=function(u,c,h,w,k){return no(w,"td,th",c).bind(function(R){return no(R,"table",c).bind(function(z){return p1(k,z)?ik(u,c,h).bind(function(K){return no(K.finish,"td,th",c).map(function(ie){return{start:R,finish:ie,range:K}})}):U.none()})})},cy=function(u,c,h,w,k,R){return Yl().browser.isIE()?U.none():R(w,c).orThunk(function(){return yc(u,c,h,w,k).map(function(z){var K=z.range;return wg.create(U.some(sl(K.start,K.soffset,K.finish,K.foffset)),!0)})})},uk=function(u,c){return no(u,"tr",c).bind(function(h){return no(h,"table",c).bind(function(w){var k=ns(w,"tr");return Qr(h,k[0])?Gx(w,function(R){return Ob(R).isSome()},c).map(function(R){var z=Rl(R);return wg.create(U.some(sl(R,z,R,z)),!0)}):U.none()})})},Qn=function(u,c){return no(u,"tr",c).bind(function(h){return no(h,"table",c).bind(function(w){var k=ns(w,"tr");return Qr(h,k[k.length-1])?qx(w,function(R){return Tb(R).isSome()},c).map(function(R){return wg.create(U.some(sl(R,0,R,0)),!0)}):U.none()})})},CC=function(u,c,h,w,k,R,z){return yc(u,h,w,k,R).bind(function(K){return Hx(c,h,K.start,K.finish,z)})},ar=function(u,c){return no(u,"td,th",c)},SC=function(u,c,h,w){var k=dg(),R=k.clear,z=function(Pe){k.on(function(mt){w.clearBeforeUpdate(c),ar(Pe.target,h).each(function(Lt){Iv(mt,Lt,h).each(function(At){var ht=At.boxes.getOr([]);if(ht.length===1){var Xt=ht[0],en=L2(Xt)==="false",On=ec(nm(Pe.target),Xt,Qr);en&&On&&(w.selectRange(c,ht,Xt,Xt),u.selectContents(Xt))}else ht.length>1&&(w.selectRange(c,ht,At.start,At.finish),u.selectContents(Lt))})})})},K=function(Pe){w.clear(c),ar(Pe.target,h).each(k.set)},ie=function(Pe){z(Pe)},be=function(Pe){z(Pe),R()};return{clearstate:R,mousedown:K,mouseover:ie,mouseup:be}},sk={traverse:je,gather:dC,relative:iu.before,otherRetry:zl.tryDown,ieRetry:zl.ieTryDown,failure:bd.failedDown},lk={traverse:Mv,gather:m1,relative:iu.before,otherRetry:zl.tryUp,ieRetry:zl.ieTryUp,failure:bd.failedUp},kg=function(u){return function(c){return c===u}},Ag=kg(38),Eg=kg(40),Tg=function(u){return u>=37&&u<=40},TE={isBackward:kg(37),isForward:kg(39)},Yn={isBackward:kg(39),isForward:kg(37)},ck=function(u){var c=u!==void 0?u.dom:document,h=c.body.scrollLeft||c.documentElement.scrollLeft,w=c.body.scrollTop||c.documentElement.scrollTop;return Ca(h,w)},_C=function(u,c,h){var w=h!==void 0?h.dom:document,k=w.defaultView;k&&k.scrollBy(u,c)},b1=function(u){var c=function(en,On){return Qt.fromPoint(Qt.fromDom(u.document),en,On)},h=function(en){return en.dom.getBoundingClientRect()},w=function(en,On,Wr,Tn){var Jn=cv.exact(en,On,Wr,Tn);return Rx(u,Jn)},k=function(){return Dx(u).map(function(en){return Fx(u,en)})},R=function(en){var On=cv.relative(en.start,en.finish);return Fx(u,On)},z=function(en,On){return Y0(u,en,On).map(function(Wr){return zx.create(Wr.start,Wr.soffset,Wr.finish,Wr.foffset)})},K=function(){$x(u)},ie=function(en){en===void 0&&(en=!1),Dx(u).each(function(On){return On.fold(function(Wr){return Wr.collapse(en)},function(Wr,Tn){var Jn=en?Wr:Tn;X0(u,Jn,Jn)},function(Wr,Tn,Jn,_r){var wr=en?Wr:Jn,Co=en?Tn:_r;K0(u,wr,Co,wr,Co)})})},be=function(en){xm(u,en,!1)},Pe=function(en){xm(u,en)},mt=function(en){K0(u,en.start,en.soffset,en.finish,en.foffset)},Lt=function(en,On){X0(u,en,On)},At=function(){return u.innerHeight},ht=function(){var en=ck(Qt.fromDom(u.document));return en.top},Xt=function(en,On){_C(en,On,Qt.fromDom(u.document))};return{elementFromPoint:c,getRect:h,getRangedRect:w,getSelection:k,fromSitus:R,situsFromPoint:z,clearSelection:K,collapseSelection:ie,setSelection:mt,setRelativeSelection:Lt,selectNode:be,selectContents:Pe,getInnerHeight:At,getScrollY:ht,scrollBy:Xt}},Cd=function(u,c){return{rows:u,cols:c}},fk=function(u,c,h,w){var k=b1(u),R=SC(k,c,h,w);return{clearstate:R.clearstate,mousedown:R.mousedown,mouseover:R.mouseover,mouseup:R.mouseup}},fy=function(u,c,h,w){var k=b1(u),R=function(){return w.clear(c),U.none()},z=function(ie,be,Pe,mt,Lt,At){var ht=ie.raw,Xt=ht.which,en=ht.shiftKey===!0,On=ph(c,w.selectedSelector).fold(function(){return Tg(Xt)&&!en&&w.clearBeforeUpdate(c),Eg(Xt)&&en?Ee(CC,k,c,h,sk,mt,be,w.selectRange):Ag(Xt)&&en?Ee(CC,k,c,h,lk,mt,be,w.selectRange):Eg(Xt)?Ee(cy,k,h,sk,mt,be,Qn):Ag(Xt)?Ee(cy,k,h,lk,mt,be,uk):U.none},function(Wr){var Tn=function(Jn){return function(){var _r=Dt(Jn,function(wr){return J0(wr.rows,wr.cols,c,Wr,w)});return _r.fold(function(){return kl(c,w.firstSelectedSelector,w.lastSelectedSelector).map(function(wr){var Co=Eg(Xt)||At.isForward(Xt)?iu.after:iu.before;return k.setRelativeSelection(iu.on(wr.first,0),Co(wr.table)),w.clear(c),wg.create(U.none(),!0)})},function(wr){return U.some(wg.create(U.none(),!0))})}};return Eg(Xt)&&en?Tn([Cd(1,0)]):Ag(Xt)&&en?Tn([Cd(-1,0)]):At.isBackward(Xt)&&en?Tn([Cd(0,-1),Cd(-1,0)]):At.isForward(Xt)&&en?Tn([Cd(0,1),Cd(1,0)]):Tg(Xt)&&!en?R:U.none});return On()},K=function(ie,be,Pe,mt,Lt){return ph(c,w.selectedSelector).fold(function(){var At=ie.raw,ht=At.which,Xt=At.shiftKey===!0;return Xt&&Tg(ht)?Lx(c,h,be,Pe,mt,Lt,w.selectRange):U.none()},U.none)};return{keydown:z,keyup:K}},xC=function(u,c,h,w){var k=b1(u);return function(R,z){w.clearBeforeUpdate(c),Iv(R,z,h).each(function(K){var ie=K.boxes.getOr([]);w.selectRange(c,ie,K.start,K.finish),k.selectContents(z),k.collapseSelection()})}},OE=function(u,c){ot(c,function(h){zu(u,h)})},vk=function(u){return function(c){Go(c,u)}},DE=function(u){return function(c){OE(c,u)}},vy=function(u){var c=vk(u.selected),h=DE([u.selected,u.lastSelected,u.firstSelected]),w=function(R){var z=ns(R,u.selectedSelector);ot(z,h)},k=function(R,z,K,ie){w(R),ot(z,c),Go(K,u.firstSelected),Go(ie,u.lastSelected)};return{clearBeforeUpdate:w,clear:w,selectRange:k,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},RE=function(u,c,h){var w=function(ie){Ba(ie,u.selected),Ba(ie,u.firstSelected),Ba(ie,u.lastSelected)},k=function(ie){Lo(ie,u.selected,"1")},R=function(ie){z(ie),h()},z=function(ie){var be=ns(ie,u.selectedSelector+","+u.firstSelectedSelector+","+u.lastSelectedSelector);ot(be,w)},K=function(ie,be,Pe,mt){R(ie),ot(be,k),Lo(Pe,u.firstSelected,"1"),Lo(mt,u.lastSelected,"1"),c(be,Pe,mt)};return{clearBeforeUpdate:z,clear:R,selectRange:K,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},dy={byClass:vy,byAttr:RE},dk=function(u,c){var h=u.slice(0,c[c.length-1].row+1),w=m0(h);return Te(w,function(k){var R=k.cells.slice(0,c[c.length-1].column+1);return at(R,function(z){return z.element})})},mk=function(u,c){var h=u.slice(c[0].row+c[0].rowspan-1,u.length),w=m0(h);return Te(w,function(k){var R=k.cells.slice(c[0].column+c[0].colspan-1,k.cells.length);return at(R,function(z){return z.element})})},$E=function(u,c,h){var w=mr.fromTable(u),k=mc(w,c);return k.map(function(R){var z=ad(w,h,!1),K=dk(z,R),ie=mk(z,R);return{upOrLeftCells:K,downOrRightCells:ie}})},hk=tinymce.util.Tools.resolve("tinymce.Env"),kC=function(u){return ka(Qt.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function Ir(u,c,h){var w=function(z,K,ie){h.targets().each(function(be){var Pe=Ua(K);Pe.each(function(mt){var Lt=u0(u),At=rr(Y,Qt.fromDom(u.getDoc()),Lt),ht=$E(mt,be,At);Fh(u,z,K,ie,ht)})})},k=function(){return y_(u)},R=dy.byAttr(Is,w,k);return u.on("init",function(z){var K=u.getWin(),ie=jc(u),be=Ps(u),Pe=function(){var Nr=u.selection,er=Qt.fromDom(Nr.getStart()),Tr=Qt.fromDom(Nr.getEnd()),fa=$n(Ua,[er,Tr]);fa.fold(function(){return R.clear(ie)},Y)},mt=fk(K,ie,be,R),Lt=fy(K,ie,be,R),At=xC(K,ie,be,R),ht=function(Nr){return Nr.raw.shiftKey===!0};u.on("TableSelectorChange",function(Nr){return At(Nr.start,Nr.finish)});var Xt=function(Nr,er){ht(Nr)&&(er.kill&&Nr.kill(),er.selection.each(function(Tr){var fa=cv.relative(Tr.start,Tr.finish),io=hd(K,fa);u.selection.setRng(io)}))},en=function(Nr){var er=rv(Nr);if(er.raw.shiftKey&&Tg(er.raw.which)){var Tr=u.selection.getRng(),fa=Qt.fromDom(Tr.startContainer),io=Qt.fromDom(Tr.endContainer);Lt.keyup(er,fa,Tr.startOffset,io,Tr.endOffset).each(function(dv){Xt(er,dv)})}},On=function(Nr){var er=rv(Nr);c().each(function(ca){return ca.hideBars()});var Tr=u.selection.getRng(),fa=Qt.fromDom(Tr.startContainer),io=Qt.fromDom(Tr.endContainer),dv=ss(TE,Yn)(Qt.fromDom(u.selection.getStart()));Lt.keydown(er,fa,Tr.startOffset,io,Tr.endOffset,dv).each(function(ca){Xt(er,ca)}),c().each(function(ca){return ca.showBars()})},Wr=function(Nr){return Nr.button===0},Tn=function(Nr){return Nr.buttons===void 0||hk.browser.isEdge()&&Nr.buttons===0?!0:(Nr.buttons&1)!==0},Jn=function(Nr){mt.clearstate()},_r=function(Nr){Wr(Nr)&&kC(Nr)&&mt.mousedown(rv(Nr))},wr=function(Nr){Tn(Nr)&&kC(Nr)&&mt.mouseover(rv(Nr))},Co=function(Nr){Wr(Nr)&&kC(Nr)&&mt.mouseup(rv(Nr))},vi=function(){var Nr=sv(Qt.fromDom(ie)),er=sv(0),Tr=function(fa){var io=Qt.fromDom(fa.target);if(ea(io)==="td"||ea(io)==="th"){var dv=Nr.get(),ca=er.get();Qr(dv,io)&&fa.timeStamp-ca<300&&(fa.preventDefault(),At(io,io))}Nr.set(io),er.set(fa.timeStamp)};return{touchEnd:Tr}},di=vi();u.on("dragstart",Jn),u.on("mousedown",_r),u.on("mouseover",wr),u.on("mouseup",Co),u.on("touchend",di.touchEnd),u.on("keyup",en),u.on("keydown",On),u.on("NodeChange",Pe)}),{clear:R.clear}}var gk=function(u,c){return jn(u,c).isSome()},my=function(u,c){var h=sv(U.none()),w=sv([]),k=U.none(),R=Jo("caption"),z=function(er){return k.forall(function(Tr){return!Tr[er]})},K=function(){return Ya(qd(u),Ps(u))},ie=function(){return Ya(wn(u),Ps(u))},be=function(){return K().bind(function(er){return Ff(as(Ua(er),ie().bind(Ua),function(Tr,fa){return Qr(Tr,fa)?R(er)?U.some(E2(er)):U.some(Kd(c,Tr,er)):U.none()}))})},Pe=function(er){var Tr=Ua(er.element);return Tr.map(function(fa){var io=mr.fromTable(fa),dv=mc(io,er).getOr([]),ca=te(dv,function(ds,mi){return mi.isLocked&&(ds.onAny=!0,mi.column===0?ds.onFirst=!0:mi.column+mi.colspan>=io.grid.columns&&(ds.onLast=!0)),ds},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:uw(io,er).isSome(),unmergeable:p0(io,er).isSome(),locked:ca}})},mt=function(){h.set(pn(be)()),k=h.get().bind(Pe),ot(w.get(),function(er){return er()})},Lt=function(er){return er(),w.set(w.get().concat([er])),function(){w.set(lt(w.get(),function(Tr){return Tr!==er}))}},At=function(er,Tr){return Lt(function(){return h.get().fold(function(){er.setDisabled(!0)},function(fa){er.setDisabled(Tr(fa))})})},ht=function(er,Tr,fa){return Lt(function(){return h.get().fold(function(){er.setDisabled(!0),er.setActive(!1)},function(io){er.setDisabled(Tr(io)),er.setActive(fa(io))})})},Xt=function(er){return k.exists(function(Tr){return Tr.locked[er]})},en=function(er){return At(er,function(Tr){return!1})},On=function(er){return At(er,function(Tr){return R(Tr.element)})},Wr=function(er){return function(Tr){return At(Tr,function(fa){return R(fa.element)||Xt(er)})}},Tn=function(er){return function(Tr){return At(Tr,function(fa){return R(fa.element)||er().isNone()})}},Jn=function(er,Tr){return function(fa){return At(fa,function(io){return R(io.element)||er().isNone()||Xt(Tr)})}},_r=function(er){return At(er,function(Tr){return z("mergeable")})},wr=function(er){return At(er,function(Tr){return z("unmergeable")})},Co=function(er){return ht(er,Ye,function(Tr){var fa=Ua(Tr.element,Ps(u));return fa.exists(function(io){return gk(io,"caption")})})},vi=function(er,Tr){return function(fa){return ht(fa,function(io){return R(io.element)},function(){return u.queryCommandValue(er)===Tr})}},di=vi("mceTableRowType","header"),Nr=vi("mceTableColType","th");return u.on("NodeChange ExecCommand TableSelectorChange",mt),{onSetupTable:en,onSetupCellOrRow:On,onSetupColumn:Wr,onSetupPasteable:Tn,onSetupPasteableColumn:Jn,onSetupMergeable:_r,onSetupUnmergeable:wr,resetTargets:mt,onSetupTableWithCaption:Co,onSetupTableRowHeaders:di,onSetupTableColumnHeaders:Nr,targets:h.get}},AC=function(u,c,h,w){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(K){return K("inserttable | cell row column | advtablesort | tableprops deletetable")}});var k=function(K){return function(){return u.execCommand(K)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:k("mceTableProps"),icon:"table",onSetup:h.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:k("mceTableDelete"),icon:"table-delete-table",onSetup:h.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:k("mceTableCellProps"),icon:"table-cell-properties",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:k("mceTableMergeCells"),icon:"table-merge-cells",onSetup:h.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:k("mceTableSplitCells"),icon:"table-split-cells",onSetup:h.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:k("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:k("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:k("mceTableDeleteRow"),icon:"table-delete-row",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:k("mceTableRowProps"),icon:"table-row-properties",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:k("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:h.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:k("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:h.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:k("mceTableDeleteCol"),icon:"table-delete-column",onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:k("mceTableCutRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:k("mceTableCopyRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:k("mceTablePasteRowBefore"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:k("mceTablePasteRowAfter"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:k("mceTableCutCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:k("mceTableCopyCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:k("mceTablePasteColBefore"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:k("mceTablePasteColAfter"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:k("mceInsertTable"),icon:"table"});var R=fd(Vp(u));R.length!==0&&u.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:pm(u,c,R,"tableclass",function(K){return u.execCommand("mceTableToggleClass",!1,K)}),onSetup:h.onSetupTable});var z=fd(Zc(u));z.length!==0&&u.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:pm(u,c,z,"tablecellclass",function(K){return u.execCommand("mceTableCellToggleClass",!1,K)}),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:pm(u,c,vg,"tablecellverticalalign",cd(u,"vertical-align")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:pm(u,c,C_(u),"tablecellborderwidth",cd(u,"border-width")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:pm(u,c,nu(u),"tablecellborderstyle",cd(u,"border-style")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:k("mceTableToggleCaption"),icon:"table-caption",onSetup:h.onSetupTableWithCaption}),u.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(K){return K(mg(u,Y2(u),"background-color"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(K){return K(mg(u,J2(u),"border-color"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:zw(u),onSetup:h.onSetupTableRowHeaders}),u.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:Fw(u),onSetup:h.onSetupTableColumnHeaders})},pk=function(u){var c=function(w){return u.dom.is(w,"table")&&u.getBody().contains(w)},h=n4(u);h.length>0&&u.ui.registry.addContextToolbar("table",{predicate:c,items:h,scope:"node",position:"node"})},EC=function(u,c,h,w){var k=function(At){return function(){return u.execCommand(At)}},R=function(At){u.execCommand("mceInsertTable",!1,{rows:At.numRows,columns:At.numColumns})},z={text:"Table properties",onSetup:h.onSetupTable,onAction:k("mceTableProps")},K={text:"Delete table",icon:"table-delete-table",onSetup:h.onSetupTable,onAction:k("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:k("mceTableInsertRowBefore"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:k("mceTableInsertRowAfter"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:k("mceTableDeleteRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:k("mceTableRowProps"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:k("mceTableCutRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:k("mceTableCopyRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:k("mceTablePasteRowBefore"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:k("mceTablePasteRowAfter"),onSetup:h.onSetupPasteable(w.getRows)});var ie={type:"nestedmenuitem",text:"Row",getSubmenuItems:de("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:k("mceTableInsertColBefore"),onSetup:h.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:k("mceTableInsertColAfter"),onSetup:h.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:k("mceTableDeleteCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:k("mceTableCutCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:k("mceTableCopyCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:k("mceTablePasteColBefore"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:k("mceTablePasteColAfter"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onLast")});var be={type:"nestedmenuitem",text:"Column",getSubmenuItems:de("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:k("mceTableCellProps"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:k("mceTableMergeCells"),onSetup:h.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:k("mceTableSplitCells"),onSetup:h.onSetupUnmergeable});var Pe={type:"nestedmenuitem",text:"Cell",getSubmenuItems:de("tablecellprops tablemergecells tablesplitcells")};S_(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:k("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:R}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:k("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",z),u.ui.registry.addMenuItem("deletetable",K),u.ui.registry.addNestedMenuItem("row",ie),u.ui.registry.addNestedMenuItem("column",be),u.ui.registry.addNestedMenuItem("cell",Pe),u.ui.registry.addContextMenu("table",{update:function(){return h.resetTargets(),h.targets().fold(de(""),function(At){return ea(At.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var mt=fd(Vp(u));mt.length!==0&&u.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Pl(u,c,mt,"tableclass",function(At){return u.execCommand("mceTableToggleClass",!1,At)})},onSetup:h.onSetupTable});var Lt=fd(Zc(u));Lt.length!==0&&u.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Pl(u,c,Lt,"tablecellclass",function(At){return u.execCommand("mceTableCellToggleClass",!1,At)})},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Pl(u,c,vg,"tablecellverticalalign",cd(u,"vertical-align"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Pl(u,c,C_(u),"tablecellborderwidth",cd(u,"border-width"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Pl(u,c,nu(u),"tablecellborderstyle",cd(u,"border-style"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:k("mceTableToggleCaption"),onSetup:h.onSetupTableWithCaption}),u.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return mg(u,Y2(u),"background-color")},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return mg(u,J2(u),"border-color")},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:zw(u),onSetup:h.onSetupTableRowHeaders}),u.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:Fw(u),onSetup:h.onSetupTableColumnHeaders})},y1=function(u){var c=ji(function(){return jc(u)},function(){return Di(qd(u),Ps(u))},Is.selectedSelector),h=my(u,c),w=l0(u),k=Ir(u,w.lazyResize,h),R=H4(u,k,w.lazyWire),z=U0();return H0(u,R,k,c,z),V0(u,R,c),$l(u,c,R),EC(u,c,h,z),AC(u,c,h,z),pk(u),u.on("PreInit",function(){u.serializer.addTempAttr(Is.firstSelected),u.serializer.addTempAttr(Is.lastSelected),tE(u)}),vc(u)&&u.on("keydown",function(K){Nx(K,u,k)}),u.on("remove",function(){w.destroy()}),rf(u,z,w,h)};function hy(){KS.add("table",y1)}hy()})();const ib=`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment{background-color:#fff0b7}.tox-comments-visible .tox-comment--active{background-color:#ffe168}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden):before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A);cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked:before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A)}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden):before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body *[data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body *[contentEditable=false]{cursor:default}.mce-content-body *[contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A),default}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-object{background:transparent url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A) no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--21by9,.tiny-pageembed--16by9,.tiny-pageembed--4by3,.tiny-pageembed--1by1{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--21by9 iframe,.tiny-pageembed--16by9 iframe,.tiny-pageembed--4by3 iframe,.tiny-pageembed--1by1 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks):before{color:#222f3eb3;content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks):before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks):before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,.mce-content-body .mce-clonedresizable.mce-resizetable-columns td{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor:before{background-color:inherit;border-radius:50%;content:"";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover:after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body img[data-mce-selected],.mce-content-body video[data-mce-selected],.mce-content-body audio[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body table[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,.mce-content-body.mce-content-readonly *[contentEditable=true]:hover{outline:none}.mce-content-body *[data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:none}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:none}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{background-color:#b4d7ffb3;border:1px solid rgba(180,215,255,.7);bottom:-1px;content:"";left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{border-color:#0054b4b3}}.mce-content-body img::-moz-selection{background:none}.mce-content-body img::selection{background:none}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}table[style*="border-width: 0px"],.mce-item-table:not([border]),.mce-item-table[border="0"],table[style*="border-width: 0px"] td,.mce-item-table:not([border]) td,.mce-item-table[border="0"] td,table[style*="border-width: 0px"] th,.mce-item-table:not([border]) th,.mce-item-table[border="0"] th,table[style*="border-width: 0px"] caption,.mce-item-table:not([border]) caption,.mce-item-table[border="0"] caption{border:1px dashed #bbb}.mce-visualblocks p,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks section,.mce-visualblocks article,.mce-visualblocks blockquote,.mce-visualblocks address,.mce-visualblocks pre,.mce-visualblocks figure,.mce-visualblocks figcaption,.mce-visualblocks hgroup,.mce-visualblocks aside,.mce-visualblocks ul,.mce-visualblocks ol,.mce-visualblocks dl{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) ul,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) dl{margin-left:3px}.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] ul,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] dl{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy:after{content:"-"}body{font-family:sans-serif}table{border-collapse:collapse}
`,ub=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) th,table:not([cellpadding]) td{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) th,table[border]:not([border="0"]):not([style*=border-width]) td{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) th,table[border]:not([border="0"]):not([style*=border-style]) td{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) th,table[border]:not([border="0"]):not([style*=border-color]) td{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}
`;const foe={class:"row"},voe=G("hr",{class:"divider"},null,-1),doe={class:"row content-row"},moe={class:"row content-row"},hoe=G("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),goe=G("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),poe={class:"content-row"},boe=G("h3",null,"Zertifikat Bild",-1),yoe=G("hr",{class:"divider"},null,-1),woe={key:0,class:"image"},Coe=["src"],Soe={class:"row"},_oe={class:"col"},xoe={class:"content-row"},koe={class:"errorMessages"},o9={__name:"ZertifikateForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newCertificate"],setup(f,{emit:m}){const b=f,y=Bt({"name:de":"","name:en":"","description:de":"","description:en":"",image:null}),S=Bt([]),_=Bt(b.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen"),T=Bt(null),D=Jm(),F=()=>(S.value=[],y.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),y.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),W=()=>{F()&&(_.value=b.editMode?"Zertifikat aktualisieren...":"Zertifikat erstellen...",y.value["description:de"]=br.get("editor_de").getContent(),y.value["description:en"]=br.get("editor_en").getContent(),zn.post("/certificates",y.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(H=>{_.value=b.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",b.insidePopup?m("newCertificate",H.data.certificate):D.push("/zertifikate")}).catch(H=>{console.log(H),_.value=b.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",H.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Zertifikat")}))},I=()=>{F()&&(_.value=b.editMode?"Zertifikat aktualisieren...":"Zertifikat erstellen...",y.value["description:de"]=br.get("editor_de").getContent(),y.value["description:en"]=br.get("editor_en").getContent(),console.log(y.value),y.value.image&&y.value.image!==null&&(y.value.image=y.value.image),zn.patch(`/certificates/${b.id}`,y.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(H=>{_.value=b.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",D.push("/zertifikate")}).catch(H=>{console.log(H),_.value=b.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",H.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Zertifikat")}))},L=H=>{const Y=H.target.files;if(console.log(Y),Y)for(let q=0;q<Y.length;q++){const $e=Y[q],de=new FormData;de.append("file",$e),zn.post("/media",de,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Be=>{y.value.image=Be.data.media.id,T.value=Be.data.media.url}).catch(Be=>{console.log(Be),window.alert("Fehler beim Upload des Bildes")})}};Ga(async()=>{b.editMode&&P(),br.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:ib.toString()+`
`+ub.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:H=>{H.on("init",()=>{H.setContent("<p>Zertifikats Beschreibung</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const P=()=>{zn.get(`/certificates/${b.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(H=>{y.value=H.data.certificate,y.value["name:de"]=H.data.certificate.translations[0].name,y.value["name:en"]=H.data.certificate.translations[1].name,H.data.certificate.image&&H.data.certificate.image!==null&&(y.value.image=H.data.certificate.image),H.data.certificate.image!==null&&(T.value=H.data.certificate.image.url),br.get("editor_de").setContent(H.data.certificate.translations[0].description),br.get("editor_en").setContent(H.data.certificate.translations[1].description)}).catch(H=>{H.response.status===401?sessionStorage.removeItem("token"):console.log(H)})};return ip(()=>{b.insidePopup||br.remove()}),(H,Y)=>{const q=Va("router-Link");return Ke(),tt($r,null,[G("div",foe,[G("h1",null,nr(b.editMode?"Zertifikat Aktualisieren":"Zertifikat Erstellen"),1),b.insidePopup?(Ke(),tt("button",{key:1,class:"button-primary",onClick:Y[0]||(Y[0]=$e=>m("closePopup"))}," Abbrechen ")):(Ke(),Od(q,{key:0,to:"/zertifikate",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1}))]),voe,G("div",doe,[Tt(ra,{lang:"de",title:"Zertifikat (DE)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":Y[1]||(Y[1]=$e=>y.value["name:de"]=$e),placeholder:"Name"},null,512),[[vr,y.value["name:de"]]])]),_:1}),Tt(ra,{lang:"en",title:"Zertifikat (EN)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":Y[2]||(Y[2]=$e=>y.value["name:en"]=$e),placeholder:"Name"},null,512),[[vr,y.value["name:en"]]])]),_:1})]),G("div",moe,[Tt(ra,{lang:"de",title:"Beschreibung"},{content:tn(()=>[hoe]),_:1}),Tt(ra,{lang:"en",title:"Description"},{content:tn(()=>[goe]),_:1})]),G("div",poe,[boe,yoe,T.value?(Ke(),tt("div",woe,[G("img",{src:T.value},null,8,Coe)])):Br("",!0),G("div",Soe,[G("div",_oe,[G("input",{type:"file",onChange:L},null,32)])])]),G("div",xoe,[G("button",{class:"button-primary",onClick:Y[3]||(Y[3]=$e=>b.editMode?I():W())},nr(_.value),1),G("div",koe,[(Ke(!0),tt($r,null,to(S.value,$e=>(Ke(),tt("p",{key:$e},nr($e),1))),128))])])],64)}}};const Aoe={key:0,class:"Popup"},Eoe={class:"addPopup"},Toe={class:"select-container"},Ooe={class:"chip-container"},Doe={class:"chip-name"},Roe=["onClick"],$oe=G("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),Boe=[$oe],Moe={key:0,class:"selectable-options"},Poe=["onClick"],Ioe={class:"option-content"},Noe={key:0,class:"option-avatar"},zoe=["src"],Foe={class:"option-name"},Loe={__name:"CertificateSelect",props:{selectedCertificate:{type:Array,default:()=>[]}},setup(f,{expose:m}){const b=f,y=Bt([]),S=Bt(!1),_=Bt(!1),T=Bt([]),D=ri(()=>T.value.filter(H=>H.name.toLowerCase().includes(F.value.toLowerCase()))),F=Bt(""),W=H=>{y.value.push(H),T.value.push(H),_.value=!1},I=async()=>(await zn.get("/certificates")).data.certificates,L=H=>{y.value.includes(H)||y.value.push(H)};window.addEventListener("click",H=>{H.target.closest(".select-container")||(S.value=!1)});function P(){return y.value.map(H=>H.id)}return m({getData:P}),Ga(async()=>{T.value=await I()}),Km(()=>b.selectedCertificate,H=>{y.value=H}),(H,Y)=>(Ke(),tt("div",null,[_.value?(Ke(),tt("div",Aoe,[G("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),G("div",Eoe,[Tt(o9,{insidePopup:!0,onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewCertificate:W})])])):Br("",!0),G("div",Toe,[G("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[G("div",Ooe,[(Ke(!0),tt($r,null,to(y.value,q=>(Ke(),tt("div",{class:"chip",key:q.id},[G("div",Doe,nr(q.name),1),G("div",{class:"chip-remove",onClick:$e=>y.value.splice(y.value.indexOf(q),1)},Boe,8,Roe)]))),128))]),S.value||y.value.length===0?ir((Ke(),tt("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name des Zertifikates"},null,512)),[[vr,F.value]]):Br("",!0)]),S.value?(Ke(),tt("div",Moe,[(Ke(!0),tt($r,null,to(D.value,q=>(Ke(),tt("div",{class:"option",key:q.id,onClick:$e=>L(q)},[G("div",Ioe,[q.image?(Ke(),tt("div",Noe,[G("img",{src:q.image.url,alt:"avatar"},null,8,zoe)])):Br("",!0),G("div",Foe,nr(q.name),1)])],8,Poe))),128)),D.value.length===0?(Ke(),tt("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+nr(F.value)+'" hinzufgen ? ',1)):Br("",!0)])):Br("",!0)])]))}},Hoe={class:"row"},Voe=G("hr",{class:"divider"},null,-1),Uoe={class:"row content-row"},Woe={class:"row content-row"},joe=G("div",null,[G("a",{style:{"margin-top":"15px","margin-bottom":"5px","text-decoration":"underline"},href:"https://www.welt-flaggen.de/register/laenderkuerzel/"}," Liste der Lnderkrzel "),G("p",null," Bitte die Krzel der Lnder von dieser Seite nehmen damit die Flaggen erscheinen. ber die Suche werden die Krzel sofort dargestellt (2-Stellig). ")],-1),Goe={class:"content-row"},qoe={class:"errorMessages"},i9={__name:"SprachenForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newLanguage"],setup(f,{emit:m}){const b=f,y=Bt({"name:de":"","name:en":"","description:de":"","description:en":""}),S=Bt([]),_=Bt(b.editMode?"Sprache aktualisieren":"Sprache erstellen"),T=Bt(null),D=Jm(),F=()=>(S.value=[],y.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),y.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),W=()=>{F()&&(_.value=b.editMode?"Sprache aktualisieren...":"Sprache erstellen...",zn.post("/languages",y.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=b.editMode?"Sprache aktualisieren":"Sprache erstellen",b.insidePopup?m("newLanguage",P.data.language):D.push("/sprachen")}).catch(P=>{console.log(P),_.value=b.editMode?"Sprache aktualisieren":"Sprache erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Sprache")}))},I=()=>{F()&&(_.value=b.editMode?"Sprache aktualisieren...":"Sprache erstellen...",y.value.image!==null&&(y.value.image=y.value.image.id),y.value.tours!==null&&(y.value.tours=y.value.tours.map(P=>P.id)),y.value.guides!==null&&(y.value.guides=y.value.guides.map(P=>P.id)),zn.patch(`/languages/${b.id}`,y.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=b.editMode?"Sprache aktualisieren":"Sprache erstellen",D.push("/sprachen")}).catch(P=>{console.log(P),_.value=b.editMode?"Sprache aktualisieren":"Sprache erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Sprache")}))};Ga(async()=>{b.editMode&&L()});const L=()=>{zn.get(`/languages/${b.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{y.value=P.data.language,y.value["name:de"]=P.data.language.translations[0].name,y.value["name:en"]=P.data.language.translations[1].name,y.value["description:de"]=P.data.language.translations[0].description,y.value["description:en"]=P.data.language.translations[1].description,y.value.image=P.data.language.image,P.data.language.image!==null&&(T.value=P.data.language.image.url)}).catch(P=>{P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return ip(()=>{b.insidePopup||tinymce.remove()}),(P,H)=>{const Y=Va("router-Link");return Ke(),tt($r,null,[G("div",Hoe,[G("h1",null,nr(b.editMode?"Sprache Aktualisieren":"Sprache Erstellen"),1),b.insidePopup?(Ke(),tt("button",{key:1,class:"button-primary",onClick:H[0]||(H[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Od(Y,{key:0,to:"/sprachen",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1}))]),Voe,G("div",Uoe,[Tt(ra,{lang:"de",title:"Sprache (DE)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":H[1]||(H[1]=q=>y.value["name:de"]=q),placeholder:"Name"},null,512),[[vr,y.value["name:de"]]])]),_:1}),Tt(ra,{lang:"en",title:"Sprache (EN)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":H[2]||(H[2]=q=>y.value["name:en"]=q),placeholder:"Name"},null,512),[[vr,y.value["name:en"]]])]),_:1})]),G("div",Woe,[Tt(ra,{lang:"de",title:"Krzel (DE)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":H[3]||(H[3]=q=>y.value["description:de"]=q),placeholder:"Krzel"},null,512),[[vr,y.value["description:de"]]])]),_:1}),Tt(ra,{lang:"en",title:"Krzel (EN)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":H[4]||(H[4]=q=>y.value["description:en"]=q),placeholder:"Shortname"},null,512),[[vr,y.value["description:en"]]])]),_:1}),joe]),G("div",Goe,[G("button",{class:"button-primary",onClick:H[5]||(H[5]=q=>b.editMode?I():W())},nr(_.value),1),G("div",qoe,[(Ke(!0),tt($r,null,to(S.value,q=>(Ke(),tt("p",{key:q},nr(q),1))),128))])])],64)}}};const Koe={key:0,class:"Popup"},Xoe={class:"addPopup"},Yoe={key:1,class:"select-container"},Joe={class:"chip-container"},Zoe={class:"chip-name"},Qoe=["onClick"],eie=G("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),tie=[eie],nie={key:0,class:"selectable-options"},rie=["onClick"],aie={class:"option-content"},oie={key:0,class:"option-avatar"},iie=["src"],uie={class:"option-name"},sie={key:2,class:"loadingIndicator"},lie=G("div",{class:"combobox"},[G("span",null,"Lade Sprache...")],-1),cie=[lie],fie={__name:"SprachenSelect",props:{selectedLanguages:{type:Array,default:()=>[]}},setup(f,{expose:m}){const b=f,y=Bt([]),S=Bt(!1),_=Bt(!1),T=Bt([]),D=ri(()=>T.value.filter(H=>H.name.toLowerCase().includes(F.value.toLowerCase()))),F=Bt(""),W=H=>{y.value.push(H),T.value.push(H),_.value=!1},I=async()=>(await zn.get("/languages")).data.languages,L=H=>{y.value.includes(H)||y.value.push(H)};window.addEventListener("click",H=>{H.target.closest(".select-container")||(S.value=!1)});function P(){return y.value.map(H=>H.id)}return m({getData:P}),Ga(async()=>{T.value=await I()}),Km(()=>b.selectedLanguages,H=>{y.value=H}),(H,Y)=>(Ke(),tt("div",null,[_.value?(Ke(),tt("div",Koe,[G("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),G("div",Xoe,[Tt(i9,{insidePopup:!0,onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewLanguage:W})])])):Br("",!0),T.value.length>0?(Ke(),tt("div",Yoe,[G("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[G("div",Joe,[(Ke(!0),tt($r,null,to(y.value,q=>(Ke(),tt("div",{class:"chip",key:q.id},[G("div",Zoe,nr(q.name),1),G("div",{class:"chip-remove",onClick:$e=>y.value.splice(y.value.indexOf(q),1)},tie,8,Qoe)]))),128))]),S.value||y.value.length===0?ir((Ke(),tt("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name der Sprache"},null,512)),[[vr,F.value]]):Br("",!0)]),S.value?(Ke(),tt("div",nie,[(Ke(!0),tt($r,null,to(D.value,q=>(Ke(),tt("div",{class:"option",key:q.id,onClick:$e=>L(q)},[G("div",aie,[q.image?(Ke(),tt("div",oie,[G("img",{src:q.image.url,alt:"avatar"},null,8,iie)])):Br("",!0),G("div",uie,nr(q.name),1)])],8,rie))),128)),D.value.length===0?(Ke(),tt("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+nr(F.value)+'" hinzufgen ? ',1)):Br("",!0)])):Br("",!0)])):(Ke(),tt("div",sie,cie))]))}},vie={class:"row"},die=G("hr",{class:"divider"},null,-1),mie={class:"row content-row"},hie={class:"content-row"},gie={class:"errorMessages"},u9={__name:"SkillForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newSkill"],setup(f,{emit:m}){const b=f,y=Bt({"name:de":"","name:en":"","description:de":"","description:en":""}),S=Bt([]),_=Bt(b.editMode?"Skill aktualisieren":"Skill erstellen"),T=Bt(null),D=Jm(),F=()=>(S.value=[],y.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),y.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),W=()=>{F()&&(_.value=b.editMode?"Skill aktualisieren...":"Skill erstellen...",zn.post("/skills",y.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=b.editMode?"Thema aktualisieren":"Thema erstellen",b.insidePopup?m("newSkill",P.data.skill):D.push("/skills")}).catch(P=>{console.log(P),_.value=b.editMode?"Skill aktualisieren":"Skill erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Skill")}))},I=()=>{F()&&(_.value=b.editMode?"Thema aktualisieren...":"Thema erstellen...",y.value.image&&y.value.image!==null&&(y.value.image=y.value.image.id),y.value.guides!==null&&y.value.guides.length>0?y.value.guides=y.value.guides.map(P=>P.id):y.value.guides=null,zn.patch(`/skills/${b.id}`,y.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=b.editMode?"Skill aktualisieren":"Skill erstellen",D.push("/skills")}).catch(P=>{console.log(P),_.value=b.editMode?"Thema aktualisieren":"Thema erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Themas")}))};Ga(async()=>{b.editMode&&L()});const L=()=>{zn.get(`/skills/${b.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{y.value=P.data.skill,y.value["name:de"]=P.data.skill.translations[0].name,y.value["name:en"]=P.data.skill.translations[1].name,y.value.image=P.data.skill.image,P.data.skill.image!==null&&(T.value=P.data.skill.image.url)}).catch(P=>{P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return ip(()=>{b.insidePopup||tinymce.remove()}),(P,H)=>{const Y=Va("router-Link");return Ke(),tt($r,null,[G("div",vie,[G("h1",null,nr(b.editMode?"Thema Aktualisieren":"Thema Erstellen"),1),b.insidePopup?(Ke(),tt("button",{key:1,class:"button-primary",onClick:H[0]||(H[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Od(Y,{key:0,to:"/skills",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1}))]),die,G("div",mie,[Tt(ra,{lang:"de",title:"Skill (DE)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":H[1]||(H[1]=q=>y.value["name:de"]=q),placeholder:"Name"},null,512),[[vr,y.value["name:de"]]])]),_:1}),Tt(ra,{lang:"en",title:"Skill (EN)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":H[2]||(H[2]=q=>y.value["name:en"]=q),placeholder:"Name"},null,512),[[vr,y.value["name:en"]]])]),_:1})]),G("div",hie,[G("button",{class:"button-primary",onClick:H[3]||(H[3]=q=>b.editMode?I():W())},nr(_.value),1),G("div",gie,[(Ke(!0),tt($r,null,to(S.value,q=>(Ke(),tt("p",{key:q},nr(q),1))),128))])])],64)}}};const pie={key:0,class:"Popup"},bie={class:"addPopup"},yie={key:1,class:"select-container"},wie={class:"chip-container"},Cie={class:"chip-name"},Sie=["onClick"],_ie=G("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),xie=[_ie],kie={key:0,class:"selectable-options"},Aie=["onClick"],Eie={class:"option-content"},Tie={key:0,class:"option-avatar"},Oie=["src"],Die={class:"option-name"},Rie={key:2,class:"loadingIndicator"},$ie=G("div",{class:"combobox"},[G("span",null,"Lade Skills...")],-1),Bie=[$ie],Mie={__name:"SkillSelect",props:{selectedSkills:{type:Array,default:()=>[]}},setup(f,{expose:m}){const b=f,y=Bt([]),S=Bt(!1),_=Bt(!1),T=Bt([]),D=ri(()=>T.value.filter(H=>H.name.toLowerCase().includes(F.value.toLowerCase()))),F=Bt(""),W=H=>{y.value.push(H),T.value.push(H),_.value=!1},I=async()=>(await zn.get("/skills")).data.skills,L=H=>{y.value.includes(H)||y.value.push(H)};window.addEventListener("click",H=>{H.target.closest(".select-container")||(S.value=!1)});function P(){return y.value.map(H=>H.id)}return m({getData:P}),Ga(async()=>{T.value=await I()}),Km(()=>b.selectedSkills,H=>{y.value=H}),(H,Y)=>(Ke(),tt("div",null,[_.value?(Ke(),tt("div",pie,[G("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),G("div",bie,[Tt(u9,{insidePopup:!0,onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewSkill:W})])])):Br("",!0),T.value.length>0?(Ke(),tt("div",yie,[G("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[G("div",wie,[(Ke(!0),tt($r,null,to(y.value,q=>(Ke(),tt("div",{class:"chip",key:q.id},[G("div",Cie,nr(q.name),1),G("div",{class:"chip-remove",onClick:$e=>y.value.splice(y.value.indexOf(q),1)},xie,8,Sie)]))),128))]),S.value||y.value.length===0?ir((Ke(),tt("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name des Skills"},null,512)),[[vr,F.value]]):Br("",!0)]),S.value?(Ke(),tt("div",kie,[(Ke(!0),tt($r,null,to(D.value,q=>(Ke(),tt("div",{class:"option",key:q.id,onClick:$e=>L(q)},[G("div",Eie,[q.image?(Ke(),tt("div",Tie,[G("img",{src:q.image.url,alt:"avatar"},null,8,Oie)])):Br("",!0),G("div",Die,nr(q.name),1)])],8,Aie))),128)),D.value.length===0?(Ke(),tt("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+nr(F.value)+'" hinzufgen ? ',1)):Br("",!0)])):Br("",!0)])):(Ke(),tt("div",Rie,Bie))]))}},Pie={class:"row"},Iie=G("hr",{class:"divider"},null,-1),Nie={class:"row content-row"},zie={class:"row content-row"},Fie=G("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Lie=G("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Hie={class:"content-row"},Vie={class:"errorMessages"},s9={__name:"MobilitaetForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newMobility"],setup(f,{emit:m}){const b=f,y=Bt({"name:de":"","name:en":"","description:de":"","description:en":""}),S=Bt([]),_=Bt(b.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen"),T=Bt(null),D=Jm(),F=()=>(S.value=[],y.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),y.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),W=()=>{F()&&(_.value=b.editMode?"Mobilitt aktualisieren...":"Mobilitt erstellen...",y.value["description:de"]=br.get("editor_de").getContent(),y.value["description:en"]=br.get("editor_en").getContent(),zn.post("/mobility",y.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=b.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen",b.insidePopup?m("newMobility",P.data.mobility):D.push("/mobilitaet")}).catch(P=>{console.log(P),_.value=b.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Mobilitt")}))},I=()=>{F()&&(_.value=b.editMode?"Mobilitt aktualisieren...":"Mobilitt erstellen...",y.value["description:de"]=br.get("editor_de").getContent(),y.value["description:en"]=br.get("editor_en").getContent(),y.value.main_image!==null&&(y.value.main_image=y.value.main_image.id),y.value.tours!==null&&(y.value.tours=y.value.tours.map(P=>P.id)),y.value.guides!==null&&(y.value.guides=y.value.guides.map(P=>P.id)),zn.patch(`/mobility/${b.id}`,y.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=b.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen",D.push("/mobilitaet")}).catch(P=>{console.log(P),_.value=b.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Mobilitt")}))};Ga(async()=>{b.editMode&&L(),br.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:ib.toString()+`
`+ub.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:P=>{P.on("init",()=>{P.setContent("<p>Mobilitts Beschreibung</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const L=()=>{zn.get(`/mobility/${b.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{y.value=P.data.mobility,y.value["name:de"]=P.data.mobility.translations[0].name,y.value["name:en"]=P.data.mobility.translations[1].name,y.value.main_image=P.data.mobility.main_image,P.data.mobility.main_image!==null&&(T.value=P.data.mobility.main_image.url),br.get("editor_de").setContent(P.data.mobility.translations[0].description),br.get("editor_en").setContent(P.data.mobility.translations[1].description)}).catch(P=>{P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return ip(()=>{b.insidePopup||br.remove()}),(P,H)=>{const Y=Va("router-Link");return Ke(),tt($r,null,[G("div",Pie,[G("h1",null,nr(b.editMode?"Mobilitt Aktualisieren":"Mobilitt Erstellen"),1),b.insidePopup?(Ke(),tt("button",{key:1,class:"button-primary",onClick:H[0]||(H[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Od(Y,{key:0,to:"/mobilitaet",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1}))]),Iie,G("div",Nie,[Tt(ra,{lang:"de",title:"Mobilitt (DE)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":H[1]||(H[1]=q=>y.value["name:de"]=q),placeholder:"Name"},null,512),[[vr,y.value["name:de"]]])]),_:1}),Tt(ra,{lang:"en",title:"Mobilitt (EN)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":H[2]||(H[2]=q=>y.value["name:en"]=q),placeholder:"Name"},null,512),[[vr,y.value["name:en"]]])]),_:1})]),G("div",zie,[Tt(ra,{lang:"de",title:"Beschreibung"},{content:tn(()=>[Fie]),_:1}),Tt(ra,{lang:"en",title:"Description"},{content:tn(()=>[Lie]),_:1})]),G("div",Hie,[G("button",{class:"button-primary",onClick:H[3]||(H[3]=q=>b.editMode?I():W())},nr(_.value),1),G("div",Vie,[(Ke(!0),tt($r,null,to(S.value,q=>(Ke(),tt("p",{key:q},nr(q),1))),128))])])],64)}}};const Uie={key:0,class:"Popup"},Wie={class:"addPopup"},jie={key:1,class:"select-container"},Gie={class:"chip-container"},qie={class:"chip-name"},Kie=["onClick"],Xie=G("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),Yie=[Xie],Jie={key:0,class:"selectable-options"},Zie=["onClick"],Qie={class:"option-content"},eue={key:0,class:"option-avatar"},tue=["src"],nue={class:"option-name"},rue={key:2,class:"loadingIndicator"},aue=G("div",{class:"combobox"},[G("span",null,"Lade Mobilitten...")],-1),oue=[aue],l9={__name:"MobilitaetSelect",props:{selectedMobilites:{type:Array,default:()=>[]}},setup(f,{expose:m}){const b=f,y=Bt([]),S=Bt(!1),_=Bt(!1),T=Bt([]),D=ri(()=>T.value.filter(H=>H.name.toLowerCase().includes(F.value.toLowerCase()))),F=Bt(""),W=H=>{console.log(H),y.value.push(H),T.value.push(H),_.value=!1},I=async()=>(await zn.get("/mobility")).data.mobilities,L=H=>{y.value.includes(H)||y.value.push(H)};window.addEventListener("click",H=>{H.target.closest(".select-container")||(S.value=!1)});function P(){return y.value.map(H=>H.id)}return m({getData:P}),Ga(async()=>{T.value=await I()}),Km(()=>b.selectedMobilites,H=>{y.value=H}),(H,Y)=>(Ke(),tt("div",null,[_.value?(Ke(),tt("div",Uie,[G("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),G("div",Wie,[Tt(s9,{insidePopup:!0,onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewMobility:W})])])):Br("",!0),T.value.length>0?(Ke(),tt("div",jie,[G("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[G("div",Gie,[(Ke(!0),tt($r,null,to(y.value,q=>(Ke(),tt("div",{class:"chip",key:q.id},[G("div",qie,nr(q.name),1),G("div",{class:"chip-remove",onClick:$e=>y.value.splice(y.value.indexOf(q),1)},Yie,8,Kie)]))),128))]),S.value||y.value.length===0?ir((Ke(),tt("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name der Mobilitt"},null,512)),[[vr,F.value]]):Br("",!0)]),S.value?(Ke(),tt("div",Jie,[(Ke(!0),tt($r,null,to(D.value,q=>(Ke(),tt("div",{class:"option",key:q.id,onClick:$e=>L(q)},[G("div",Qie,[q.image?(Ke(),tt("div",eue,[G("img",{src:q.image.url,alt:"avatar"},null,8,tue)])):Br("",!0),G("div",nue,nr(q.name),1)])],8,Zie))),128)),D.value.length===0?(Ke(),tt("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+nr(F.value)+'" hinzufgen ? ',1)):Br("",!0)])):Br("",!0)])):(Ke(),tt("div",rue,oue))]))}};const iue={class:"row"},uue=G("hr",{class:"divider"},null,-1),sue={class:"row content-row"},lue={class:"row content-row"},cue=G("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),fue=G("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),vue={class:"content-row"},due=G("h3",null,"Guide Eigenschaften",-1),mue=G("hr",{class:"divider"},null,-1),hue={class:"row"},gue={class:"col",style:{width:"23%","min-width":"200px"}},pue=G("span",null,"Zertifikatsauswahl",-1),bue={class:"col",style:{width:"23%","min-width":"200px"}},yue=G("span",null,"Sprachauswahl",-1),wue={class:"col",style:{width:"23%","min-width":"200px"}},Cue=G("span",null,"Mobilittsauswahl",-1),Sue={class:"col",style:{width:"23%","min-width":"200px"}},_ue=G("span",null,"Skillauswahl",-1),xue={class:"content-row"},kue=G("h3",null,"Kontakt",-1),Aue=G("hr",{class:"divider"},null,-1),Eue={class:"row"},Tue={class:"col"},Oue=G("span",null,"Email",-1),Due={class:"col"},Rue=G("span",null,"Telefon",-1),$ue={class:"col"},Bue=G("span",null,"Webseite",-1),Mue={class:"col"},Pue=G("span",null,"Handynummer",-1),Iue={class:"content-row"},Nue=G("h3",null,"Guide Bild",-1),zue=G("hr",{class:"divider"},null,-1),Fue={key:0,class:"image"},Lue=["src"],Hue={class:"row"},Vue={class:"col"},Uue={class:"content-row"},Wue={class:"errorMessages"},c9={__name:"GuideForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newGuide"],setup(f,{emit:m}){const b=f,y=Bt(null),S=Bt(null),_=Bt(null),T=Bt(null),D=Bt({"name:de":"","name:en":"","description:de":"","description:en":"",contact:{},image:null,languages:[],skills:[],mobility:[],certificates:[]}),F=Bt([]),W=Bt(b.editMode?"Guide aktualisieren":"Guide erstellen"),I=Bt(null),L=Jm(),P=()=>{const Be=y.value.getData(),ue=S.value.getData(),Ee=_.value.getData(),De=T.value.getData();return D.value.certificates=Be,D.value.languages=ue,D.value.mobility=Ee,D.value.skills=De,F.value=[],D.value["name:de"]===""&&F.value.push("Bitte geben Sie einen Namen (DE) ein"),D.value["name:en"]===""&&F.value.push("Bitte geben Sie einen Namen (EN) ein"),D.value.languages.length===0&&F.value.push("Bitte whlen Sie mindestens eine Sprache aus"),F.value.length===0},H=()=>{P()&&(W.value=b.editMode?"Guide aktualisieren...":"Guide erstellen...",D.value["description:de"]=br.get("editor_de").getContent(),D.value["description:en"]=br.get("editor_en").getContent(),zn.post("/guides",D.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Be=>{W.value=b.editMode?"Guide aktualisieren":"Guide erstellen",b.insidePopup?m("newGuide",Be.data.guide):L.push("/guides")}).catch(Be=>{W.value=b.editMode?"Guide aktualisieren":"Guide erstellen",Be.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen des Guides")}))},Y=()=>{if(!P())return;W.value=b.editMode?"Guide aktualisieren...":"Guide erstellen...",D.tours!==null&&(D.value.tours=D.value.tours.map(ke=>ke.id)),D.languages!==null&&(D.value.languages=D.value.languages.map(ke=>ke.id)),D.skills!==null&&(D.value.skills=D.value.skills.map(ke=>ke.id)),D.mobility!==null&&(D.value.mobility=D.value.mobility.map(ke=>ke.id)),D.certificates!==null&&(D.value.certificates=D.value.certificates.map(ke=>ke.id)),typeof D.value.image=="object"&&D.value.image!==null&&(D.value.image=D.value.image.id),D.value["description:de"]=br.get("editor_de").getContent(),D.value["description:en"]=br.get("editor_en").getContent();const Be=y.value.getData(),ue=S.value.getData(),Ee=_.value.getData(),De=T.value.getData();D.value.certificates=Be,D.value.languages=ue,D.value.mobility=Ee,D.value.skills=De,zn.patch(`/guides/${b.id}`,D.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ke=>{W.value=b.editMode?"Guide aktualisieren":"Guide erstellen",L.push("/guides")}).catch(ke=>{console.log(ke),W.value=b.editMode?"Guide aktualisieren":"Guide erstellen",ke.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Guides")})},q=Be=>{const ue=Be.target.files;if(console.log(ue),ue)for(let Ee=0;Ee<ue.length;Ee++){const De=ue[Ee],ke=new FormData;ke.append("file",De),zn.post("/media",ke,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Ye=>{D.value.image=Ye.data.media.id,I.value=Ye.data.media.url}).catch(Ye=>{console.log(Ye),window.alert("Fehler beim Upload des Bildes")})}};Ga(async()=>{b.editMode&&$e(),br.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:ib.toString()+`
`+ub.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:Be=>{Be.on("init",()=>{Be.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const $e=()=>{zn.get(`/guides/${b.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Be=>{D.value=Be.data.guide,D.value["name:de"]=Be.data.guide.translations[0].name,D.value["name:en"]=Be.data.guide.translations[1].name,D.value["description:de"]=Be.data.guide.translations[0].description,D.value["description:en"]=Be.data.guide.translations[1].description,Be.data.guide.contact!==null&&!Array.isArray(JSON.parse(Be.data.guide.contact))?D.value.contact=JSON.parse(Be.data.guide.contact):D.value.contact={},I.value=Be.data.guide.image?Be.data.guide.image[0].url:null,D.value.languages=Be.data.guide.languages,D.value.skills=Be.data.guide.skills,D.value.mobility=Be.data.guide.mobility,D.value.certificates=Be.data.guide.certificates,Be.data.guide.image!==null&&(I.value=Be.data.guide.image[0].url),br.get("editor_de").setContent(Be.data.guide.translations[0].description||""),br.get("editor_en").setContent(Be.data.guide.translations[1].description||""),console.log(D)}).catch(Be=>{console.log(Be),Be.response.status===401?sessionStorage.removeItem("token"):console.log(Be)})},de=()=>{D.value.image=null,I.value=null};return ip(()=>{b.insidePopup||br.remove()}),(Be,ue)=>{const Ee=Va("router-Link");return Ke(),tt($r,null,[G("div",iue,[G("h1",null,nr(b.editMode?"Guide Aktualisieren":"Guide Erstellen"),1),b.insidePopup?(Ke(),tt("button",{key:1,class:"button-primary",onClick:ue[0]||(ue[0]=De=>m("closePopup"))}," Abbrechen ")):(Ke(),Od(Ee,{key:0,to:"/guides",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1}))]),uue,G("div",sue,[Tt(ra,{lang:"de",title:"Name"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":ue[1]||(ue[1]=De=>D.value["name:de"]=De),placeholder:"Name"},null,512),[[vr,D.value["name:de"]]])]),_:1}),Tt(ra,{lang:"en",title:"Name"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":ue[2]||(ue[2]=De=>D.value["name:en"]=De),placeholder:"Name"},null,512),[[vr,D.value["name:en"]]])]),_:1})]),G("div",lue,[Tt(ra,{lang:"de",title:"Beschreibung"},{content:tn(()=>[cue]),_:1}),Tt(ra,{lang:"en",title:"Description"},{content:tn(()=>[fue]),_:1})]),G("div",vue,[due,mue,G("div",hue,[G("div",gue,[pue,Tt(Loe,{ref_key:"certificateSelect",ref:y,"selected-certificate":D.value.certificates},null,8,["selected-certificate"])]),G("div",bue,[yue,Tt(fie,{ref_key:"languageSelect",ref:S,"selected-languages":D.value.languages},null,8,["selected-languages"])]),G("div",wue,[Cue,Tt(l9,{ref_key:"mobilitySelect",ref:_,"selected-mobilites":D.value.mobility},null,8,["selected-mobilites"])]),G("div",Sue,[_ue,Tt(Mie,{ref_key:"skillSelect",ref:T,"selected-skills":D.value.skills},null,8,["selected-skills"])])])]),G("div",xue,[kue,Aue,G("div",Eue,[G("div",Tue,[Oue,ir(G("input",{type:"text",placeholder:"Email","onUpdate:modelValue":ue[3]||(ue[3]=De=>D.value.contact.email=De)},null,512),[[vr,D.value.contact.email]])]),G("div",Due,[Rue,ir(G("input",{type:"text",placeholder:"Telefon","onUpdate:modelValue":ue[4]||(ue[4]=De=>D.value.contact.phone=De)},null,512),[[vr,D.value.contact.phone]])]),G("div",$ue,[Bue,ir(G("input",{type:"text",placeholder:"Webseite","onUpdate:modelValue":ue[5]||(ue[5]=De=>D.value.contact.website=De)},null,512),[[vr,D.value.contact.website]])]),G("div",Mue,[Pue,ir(G("input",{type:"text",placeholder:"Handynummer","onUpdate:modelValue":ue[6]||(ue[6]=De=>D.value.contact.mobile=De)},null,512),[[vr,D.value.contact.mobile]])])])]),G("div",Iue,[Nue,zue,I.value?(Ke(),tt("div",Fue,[G("img",{src:I.value},null,8,Lue)])):Br("",!0),I.value?(Ke(),tt("a",{key:1,onClick:de,class:"removeImage"},"Bild entfernen")):Br("",!0),G("div",Hue,[G("div",Vue,[G("input",{type:"file",onChange:q},null,32)])])]),G("div",Uue,[G("button",{class:"button-primary",onClick:ue[7]||(ue[7]=De=>b.editMode?Y():H())},nr(W.value),1),G("div",Wue,[(Ke(!0),tt($r,null,to(F.value,De=>(Ke(),tt("p",{key:De},nr(De),1))),128))])])],64)}}};const jue={key:0,class:"Popup"},Gue={class:"addPopup"},que={key:1,class:"select-container"},Kue={class:"chip-container"},Xue={class:"chip-name"},Yue=["onClick"],Jue=G("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),Zue=[Jue],Que={key:0,class:"selectable-options"},ese=["onClick"],tse={class:"option-content"},nse={key:0,class:"option-avatar"},rse=["src"],ase={class:"option-name"},ose={key:2,class:"loadingIndicator"},ise=G("div",{class:"combobox"},[G("span",null,"Lade Guides...")],-1),use=[ise],hG={__name:"GuideSelect",props:{selectedGuides:{type:Array,default:()=>[]}},setup(f,{expose:m}){const b=f,y=Bt([]),S=Bt(!1),_=Bt(!1),T=Bt([]),D=ri(()=>T.value.filter(H=>H.name.toLowerCase().includes(F.value.toLowerCase()))),F=Bt(""),W=H=>{y.value.push(H),T.value.push(H),_.value=!1},I=async()=>(await zn.get("/guides?preview=true&per_page=300")).data.guides.data,L=H=>{y.value.includes(H)||y.value.push(H)};window.addEventListener("click",H=>{H.target.closest(".select-container")||(S.value=!1)});function P(){return y.value.map(H=>H.id)}return m({getData:P}),Ga(async()=>{T.value=await I()}),Km(()=>b.selectedGuides,H=>{console.log(H),y.value=H}),(H,Y)=>(Ke(),tt("div",null,[_.value?(Ke(),tt("div",jue,[G("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),G("div",Gue,[Tt(c9,{insidePopup:"true",onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewGuide:W})])])):Br("",!0),T.value.length>0?(Ke(),tt("div",que,[G("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[G("div",Kue,[(Ke(!0),tt($r,null,to(y.value,q=>(Ke(),tt("div",{class:"chip",key:q.id},[G("div",Xue,nr(q.name),1),G("div",{class:"chip-remove",onClick:$e=>y.value.splice(y.value.indexOf(q),1)},Zue,8,Yue)]))),128))]),S.value||y.value.length===0?ir((Ke(),tt("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name des Guides"},null,512)),[[vr,F.value]]):Br("",!0)]),S.value?(Ke(),tt("div",Que,[(Ke(!0),tt($r,null,to(D.value,q=>(Ke(),tt("div",{class:"option",key:q.id,onClick:$e=>L(q)},[G("div",tse,[q.image?(Ke(),tt("div",nse,[G("img",{src:q.image[0].url,alt:"avatar"},null,8,rse)])):Br("",!0),G("div",ase,nr(q.name),1)])],8,ese))),128)),D.value.length===0?(Ke(),tt("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+nr(F.value)+'" hinzufgen ? ',1)):Br("",!0)])):Br("",!0)])):(Ke(),tt("div",ose,use))]))}},sse={class:"row"},lse=G("hr",{class:"divider"},null,-1),cse={class:"row content-row"},fse={class:"content-row"},vse={class:"errorMessages"},f9={__name:"OrtFrom",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newPlace"],setup(f,{emit:m}){const b=f,y=Bt({"name:de":"","name:en":"","description:de":"","description:en":""}),S=Bt([]),_=Bt(b.editMode?"Ort aktualisieren":"Ort erstellen"),T=Bt(null),D=Jm(),F=()=>(S.value=[],y.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),y.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),W=()=>{F()&&(_.value=b.editMode?"Ort aktualisieren...":"Ort erstellen...",zn.post("/places",y.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=b.editMode?"Ort aktualisieren":"Ort erstellen",b.insidePopup?m("newPlace",P.data.place):D.push("/orte")}).catch(P=>{console.log(P),_.value=b.editMode?"Ort aktualisieren":"Ort erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen des Ortes")}))},I=()=>{F()&&(_.value=b.editMode?"Ort aktualisieren...":"Ort erstellen...",y.value.main_image!==null&&(y.value.main_image=y.value.main_image.id),y.value.tours!==null&&(y.value.tours=y.value.tours.map(P=>P.id)),zn.patch(`/places/${b.id}`,y.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=b.editMode?"Ort aktualisieren":"Ort erstellen",D.push("/orte")}).catch(P=>{console.log(P),_.value=b.editMode?"Ort aktualisieren":"Ort erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Ortes")}))};Ga(async()=>{b.editMode&&L()});const L=()=>{zn.get(`/places/${b.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{y.value=P.data.place,y.value["name:de"]=P.data.place.translations[0].name,y.value["name:en"]=P.data.place.translations[1].name,y.value.main_image=P.data.place.main_image,P.data.place.main_image!==null&&(T.value=P.data.place.main_image.url)}).catch(P=>{P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return ip(()=>{b.insidePopup||tinymce.remove()}),(P,H)=>{const Y=Va("router-Link");return Ke(),tt($r,null,[G("div",sse,[G("h1",null,nr(b.editMode?"Ort Aktualisieren":"Ort Erstellen"),1),b.insidePopup?(Ke(),tt("button",{key:1,class:"button-primary",onClick:H[0]||(H[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Od(Y,{key:0,to:"/orte",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1}))]),lse,G("div",cse,[Tt(ra,{lang:"de",title:"Ort (DE)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":H[1]||(H[1]=q=>y.value["name:de"]=q),placeholder:"Name"},null,512),[[vr,y.value["name:de"]]])]),_:1}),Tt(ra,{lang:"en",title:"Ort (EN)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":H[2]||(H[2]=q=>y.value["name:en"]=q),placeholder:"Name"},null,512),[[vr,y.value["name:en"]]])]),_:1})]),G("div",fse,[G("button",{class:"button-primary",onClick:H[3]||(H[3]=q=>b.editMode?I():W())},nr(_.value),1),G("div",vse,[(Ke(!0),tt($r,null,to(S.value,q=>(Ke(),tt("p",{key:q},nr(q),1))),128))])])],64)}}};const dse={key:0,class:"Popup"},mse={class:"addPopup"},hse={key:1,class:"select-container"},gse={class:"chip-container"},pse={class:"chip-name"},bse=["onClick"],yse=G("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),wse=[yse],Cse={key:0,class:"selectable-options"},Sse=["onClick"],_se={class:"option-content"},xse={key:0,class:"option-avatar"},kse=["src"],Ase={class:"option-name"},Ese={key:2,class:"loadingIndicator"},Tse=G("div",{class:"combobox"},[G("span",null,"Lade Orte...")],-1),Ose=[Tse],gG={__name:"OrtSelect",props:{selectedplaces:{type:Array,default:()=>[]}},setup(f,{expose:m}){const b=f,y=Bt([]),S=Bt(!1),_=Bt(!1),T=Bt([]),D=ri(()=>T.value.filter(H=>H.name.toLowerCase().includes(F.value.toLowerCase()))),F=Bt(""),W=H=>{y.value.push(H),T.value.push(H),_.value=!1},I=async()=>(await zn.get("/places")).data.places,L=H=>{y.value.includes(H)||y.value.push(H)};window.addEventListener("click",H=>{H.target.closest(".select-container")||(S.value=!1)});function P(){return y.value.map(H=>H.id)}return m({getData:P}),Ga(async()=>{T.value=await I()}),Km(()=>b.selectedplaces,H=>{y.value=H}),(H,Y)=>(Ke(),tt("div",null,[_.value?(Ke(),tt("div",dse,[G("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),G("div",mse,[Tt(f9,{insidePopup:!0,onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewPlace:W})])])):Br("",!0),T.value.length>0?(Ke(),tt("div",hse,[G("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[G("div",gse,[(Ke(!0),tt($r,null,to(y.value,q=>(Ke(),tt("div",{class:"chip",key:q.id},[G("div",pse,nr(q.name),1),G("div",{class:"chip-remove",onClick:$e=>y.value.splice(y.value.indexOf(q),1)},wse,8,bse)]))),128))]),S.value||y.value.length===0?ir((Ke(),tt("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name des Ortes"},null,512)),[[vr,F.value]]):Br("",!0)]),S.value?(Ke(),tt("div",Cse,[(Ke(!0),tt($r,null,to(D.value,q=>(Ke(),tt("div",{class:"option",key:q.id,onClick:$e=>L(q)},[G("div",_se,[q.image?(Ke(),tt("div",xse,[G("img",{src:q.image.url,alt:"avatar"},null,8,kse)])):Br("",!0),G("div",Ase,nr(q.name),1)])],8,Sse))),128)),D.value.length===0?(Ke(),tt("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+nr(F.value)+'" hinzufgen ? ',1)):Br("",!0)])):Br("",!0)])):(Ke(),tt("div",Ese,Ose))]))}},Dse={class:"row"},Rse=G("hr",{class:"divider"},null,-1),$se={class:"row content-row"},Bse={class:"content-row"},Mse={class:"errorMessages"},v9={__name:"KategorieForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newTheme"],setup(f,{emit:m}){const b=f,y=Bt({"name:de":"","name:en":"","description:de":"","description:en":""}),S=Bt([]),_=Bt(b.editMode?"Kategorie aktualisieren":"Kategorie erstellen"),T=Bt(null),D=Jm(),F=()=>(S.value=[],y.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),y.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),W=()=>{F()&&(_.value=b.editMode?"Kategorie aktualisieren...":"Kategorie erstellen...",y.value["name:en"]===""&&(y.value["name:en"]=y.value["name:de"]),y.value["description:en"]===""&&(y.value["description:en"]=y.value["description:de"]),zn.post("/themes",y.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=b.editMode?"Kategorie aktualisieren":"Kategorie erstellen",b.insidePopup?m("newTheme",P.data.theme):D.push("/kategorien")}).catch(P=>{console.log(P),_.value=b.editMode?"Kategorie aktualisieren":"Kategorie erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen de Kategorie")}))},I=()=>{F()&&(_.value=b.editMode?"Kategorie aktualisieren...":"Kategorie erstellen...",y.value.image&&y.value.image!==null&&(y.value.image=y.value.image.id),y.value.tours!==null&&(y.value.tours=y.value.tours.map(P=>P.id)),zn.patch(`/themes/${b.id}`,y.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=b.editMode?"Kategorie aktualisieren":"Kategorie erstellen",D.push("/kategorien")}).catch(P=>{console.log(P),_.value=b.editMode?"Kategorie aktualisieren":"Kategorie erstellen",P.response&&P.response.status&&P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Kategorie")}))};Ga(async()=>{b.editMode&&L()});const L=()=>{zn.get(`/themes/${b.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{y.value=P.data.theme,y.value["name:de"]=P.data.theme.translations[0].name,y.value["name:en"]=P.data.theme.translations[1].name,y.value.image=P.data.theme.image,P.data.theme.image&&P.data.theme.image!==null&&(T.value=P.data.theme.image.url)}).catch(P=>{P.response&&P.response.status&&P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return b3(()=>{b.insidePopup||tinymce.remove()}),(P,H)=>{const Y=Va("router-Link");return Ke(),tt($r,null,[G("div",Dse,[G("h1",null,nr(b.editMode?"Kategorie Aktualisieren":"Kategorie Erstellen"),1),b.insidePopup?(Ke(),tt("button",{key:1,class:"button-primary",onClick:H[0]||(H[0]=q=>m("closePopup"))}," Abbrechen ")):(Ke(),Od(Y,{key:0,to:"/kategorien",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1}))]),Rse,G("div",$se,[Tt(ra,{lang:"de",title:"Kategorie (DE)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":H[1]||(H[1]=q=>y.value["name:de"]=q),placeholder:"Name"},null,512),[[vr,y.value["name:de"]]])]),_:1}),Tt(ra,{lang:"en",title:"Kategorie (EN)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":H[2]||(H[2]=q=>y.value["name:en"]=q),placeholder:"Name"},null,512),[[vr,y.value["name:en"]]])]),_:1})]),G("div",Bse,[G("button",{class:"button-primary",onClick:H[3]||(H[3]=q=>b.editMode?I():W())},nr(_.value),1),G("div",Mse,[(Ke(!0),tt($r,null,to(S.value,q=>(Ke(),tt("p",{key:q},nr(q),1))),128))])])],64)}}};const Pse={key:0,class:"Popup"},Ise={class:"addPopup"},Nse={key:1,class:"select-container"},zse={class:"chip-container"},Fse={class:"chip-name"},Lse=["onClick"],Hse=G("img",{src:VS,alt:"close",width:"15",height:"15"},null,-1),Vse=[Hse],Use={key:0,class:"selectable-options"},Wse=["onClick"],jse={class:"option-content"},Gse={key:0,class:"option-avatar"},qse=["src"],Kse={class:"option-name"},Xse={key:2,class:"loadingIndicator"},Yse=G("div",{class:"combobox"},[G("span",null,"Lade Kategorien...")],-1),Jse=[Yse],pG={__name:"KategorieSelect",props:{selectedthemes:{type:Array,default:()=>[]}},setup(f,{expose:m}){const b=f,y=Bt([]),S=Bt(!1),_=Bt(!1),T=Bt([]),D=ri(()=>T.value.filter(H=>H.name.toLowerCase().includes(F.value.toLowerCase()))),F=Bt(""),W=H=>{y.value.push(H),T.value.push(H),_.value=!1},I=async()=>(await zn.get("/themes")).data.themes,L=H=>{y.value.includes(H)||y.value.push(H)};window.addEventListener("click",H=>{H.target.closest(".select-container")||(S.value=!1)});function P(){return y.value.map(H=>H.id)}return m({getData:P}),Ga(async()=>{T.value=await I()}),Km(()=>b.selectedthemes,H=>{y.value=H}),(H,Y)=>(Ke(),tt("div",null,[_.value?(Ke(),tt("div",Pse,[G("div",{class:"popupBackground",onClick:Y[0]||(Y[0]=q=>_.value=!1)}),G("div",Ise,[Tt(v9,{insidePopup:!0,onClosePopup:Y[1]||(Y[1]=q=>_.value=!1),onNewTheme:W})])])):Br("",!0),T.value.length>0?(Ke(),tt("div",Nse,[G("div",{class:"combobox",onClick:Y[3]||(Y[3]=q=>S.value=!0)},[G("div",zse,[(Ke(!0),tt($r,null,to(y.value,q=>(Ke(),tt("div",{class:"chip",key:q.id},[G("div",Fse,nr(q.name),1),G("div",{class:"chip-remove",onClick:$e=>y.value.splice(y.value.indexOf(q),1)},Vse,8,Lse)]))),128))]),S.value||y.value.length===0?ir((Ke(),tt("input",{key:0,type:"search","onUpdate:modelValue":Y[2]||(Y[2]=q=>F.value=q),placeholder:"Name der Kategorie"},null,512)),[[vr,F.value]]):Br("",!0)]),S.value?(Ke(),tt("div",Use,[(Ke(!0),tt($r,null,to(D.value,q=>(Ke(),tt("div",{class:"option",key:q.id,onClick:$e=>L(q)},[G("div",jse,[q.image?(Ke(),tt("div",Gse,[G("img",{src:q.image.url,alt:"avatar"},null,8,qse)])):Br("",!0),G("div",Kse,nr(q.name),1)])],8,Wse))),128)),D.value.length===0?(Ke(),tt("div",{key:0,class:"option",onClick:Y[4]||(Y[4]=q=>_.value=!0)},' "'+nr(F.value)+'" hinzufgen ? ',1)):Br("",!0)])):Br("",!0)])):(Ke(),tt("div",Xse,Jse))]))}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Zse(f,m,b,y){function S(_){return _ instanceof b?_:new b(function(T){T(_)})}return new(b||(b=Promise))(function(_,T){function D(I){try{W(y.next(I))}catch(L){T(L)}}function F(I){try{W(y.throw(I))}catch(L){T(L)}}function W(I){I.done?_(I.value):S(I.value).then(D,F)}W((y=y.apply(f,m||[])).next())})}var Qse=function f(m,b){if(m===b)return!0;if(m&&b&&typeof m=="object"&&typeof b=="object"){if(m.constructor!==b.constructor)return!1;var y,S,_;if(Array.isArray(m)){if(y=m.length,y!=b.length)return!1;for(S=y;S--!==0;)if(!f(m[S],b[S]))return!1;return!0}if(m.constructor===RegExp)return m.source===b.source&&m.flags===b.flags;if(m.valueOf!==Object.prototype.valueOf)return m.valueOf()===b.valueOf();if(m.toString!==Object.prototype.toString)return m.toString()===b.toString();if(_=Object.keys(m),y=_.length,y!==Object.keys(b).length)return!1;for(S=y;S--!==0;)if(!Object.prototype.hasOwnProperty.call(b,_[S]))return!1;for(S=y;S--!==0;){var T=_[S];if(!f(m[T],b[T]))return!1}return!0}return m!==m&&b!==b};const EW="__googleMapsScriptId";var r3;(function(f){f[f.INITIALIZED=0]="INITIALIZED",f[f.LOADING=1]="LOADING",f[f.SUCCESS=2]="SUCCESS",f[f.FAILURE=3]="FAILURE"})(r3||(r3={}));class IS{constructor({apiKey:m,authReferrerPolicy:b,channel:y,client:S,id:_=EW,language:T,libraries:D=[],mapIds:F,nonce:W,region:I,retries:L=3,url:P="https://maps.googleapis.com/maps/api/js",version:H}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=m,this.authReferrerPolicy=b,this.channel=y,this.client=S,this.id=_||EW,this.language=T,this.libraries=D,this.mapIds=F,this.nonce=W,this.region=I,this.retries=L,this.url=P,this.version=H,IS.instance){if(!Qse(this.options,IS.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(IS.instance.options)}`);return IS.instance}IS.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?r3.FAILURE:this.done?r3.SUCCESS:this.loading?r3.LOADING:r3.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let m=this.url;return m+="?callback=__googleMapsCallback",this.apiKey&&(m+=`&key=${this.apiKey}`),this.channel&&(m+=`&channel=${this.channel}`),this.client&&(m+=`&client=${this.client}`),this.libraries.length>0&&(m+=`&libraries=${this.libraries.join(",")}`),this.language&&(m+=`&language=${this.language}`),this.region&&(m+=`&region=${this.region}`),this.version&&(m+=`&v=${this.version}`),this.mapIds&&(m+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(m+=`&auth_referrer_policy=${this.authReferrerPolicy}`),m}deleteScript(){const m=document.getElementById(this.id);m&&m.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((m,b)=>{this.loadCallback(y=>{y?b(y.error):m(window.google)})})}importLibrary(m){return this.execute(),google.maps.importLibrary(m)}loadCallback(m){this.callbacks.push(m),this.execute()}setScript(){var m,b;if(document.getElementById(this.id)){this.callback();return}const y={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(y).forEach(_=>!y[_]&&delete y[_]),!((b=(m=window==null?void 0:window.google)===null||m===void 0?void 0:m.maps)===null||b===void 0)&&b.importLibrary||(_=>{let T,D,F,W="The Google Maps JavaScript API",I="google",L="importLibrary",P="__ib__",H=document,Y=window;Y=Y[I]||(Y[I]={});const q=Y.maps||(Y.maps={}),$e=new Set,de=new URLSearchParams,Be=()=>T||(T=new Promise((ue,Ee)=>Zse(this,void 0,void 0,function*(){var De;yield D=H.createElement("script"),D.id=this.id,de.set("libraries",[...$e]+"");for(F in _)de.set(F.replace(/[A-Z]/g,ke=>"_"+ke[0].toLowerCase()),_[F]);de.set("callback",I+".maps."+P),D.src=this.url+"?"+de,q[P]=ue,D.onerror=()=>T=Ee(Error(W+" could not load.")),D.nonce=this.nonce||((De=H.querySelector("script[nonce]"))===null||De===void 0?void 0:De.nonce)||"",H.head.append(D)})));q[L]?console.warn(W+" only loads once. Ignoring:",_):q[L]=(ue,...Ee)=>$e.add(ue)&&Be().then(()=>q[L](ue,...Ee))})(y);const S=this.libraries.map(_=>this.importLibrary(_));S.length||S.push(this.importLibrary("core")),Promise.all(S).then(()=>this.callback(),_=>{const T=new ErrorEvent("error",{error:_});this.loadErrorCallback(T)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(m){if(this.errors.push(m),this.errors.length<=this.retries){const b=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${b} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},b)}else this.onerrorEvent=m,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(m=>{m(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}}const ele={class:"d-flex text-center",style:{margin:"10px 0"}},tle={class:"row",style:{"justify-content":"unset"}},nle=G("div",{class:"col",style:{"margin-right":"10px"}},[G("input",{id:"address",type:"textbox",value:"",placeholder:"Suche nach Adresse"})],-1),rle={class:"col"},ale="AIzaSyBw_QNEvvoRbs-czfH2GbPPkupqDdJTxhg",bG={__name:"MapComponent",props:{coordinates:{type:Object,default:()=>[]}},setup(f,{expose:m}){const b=f,y=ri(()=>({lat:b.coordinates.lat||53.551086,lng:b.coordinates.lng||9.993682})),S=new IS({apiKey:ale}),_=Bt(null),T=Bt(null);let D=Bt(null),F=Bt(null),W=null;Ga(async()=>{await S.load(),F.value=new google.maps.Map(_.value,{center:y.value,zoom:9}),D.value=new google.maps.Geocoder,W=F.value.addListener("click",L),b.coordinates.lat&&b.coordinates.lng&&(T.value=new google.maps.Marker({map:F.value,position:b.coordinates,title:"Adresse"})),console.log(b.coordinates)});const I=()=>{const H=document.getElementById("address").value;D.value.geocode({address:H},(Y,q)=>{q==="OK"?(F.value.setCenter(Y[0].geometry.location),T.value=new google.maps.Marker({map:F.value,position:Y[0].geometry.location,title:"Adresse"})):alert("Die Adresse konnte nicht gefunden werden: "+q)})};WH(async()=>{W&&W.remove(),F.value&&(F.value=null)});const L=H=>{const Y={lat:H.latLng.lat(),lng:H.latLng.lng()};T.value&&(T.value=null),T.value=new google.maps.Marker({map:F.value,position:Y,title:"Adresse"})};return m({getData:()=>({lat:T.value.position.lat(),lng:T.value.position.lng()})}),(H,Y)=>(Ke(),tt("div",null,[G("div",ele,[G("div",tle,[nle,G("div",rle,[G("input",{type:"button",class:"button-primary",value:"Adresse Suchen",onClick:Y[0]||(Y[0]=q=>I())})])])]),G("div",{ref_key:"mapDiv",ref:_,style:{width:"100%",height:"400px"}},null,512)]))}};const oi=f=>(g3("data-v-162fc6e1"),f=f(),p3(),f),ole={class:"row"},ile=oi(()=>G("h1",null,"Tour erstellen",-1)),ule=oi(()=>G("hr",{class:"divider"},null,-1)),sle={class:"creation-grid"},lle={class:"main-content"},cle=oi(()=>G("h4",null,"Allgemeine Informationen",-1)),fle=oi(()=>G("hr",{class:"divider"},null,-1)),vle={class:"row content-row"},dle={class:"row content-row"},mle={class:"content-row"},hle=oi(()=>G("h4",null,"Standort",-1)),gle=oi(()=>G("hr",{class:"divider"},null,-1)),ple={class:"content-row"},ble=oi(()=>G("h4",null,"Bilder",-1)),yle=oi(()=>G("hr",{class:"divider"},null,-1)),wle={key:0,class:"images"},Cle=["onClick","onDrop"],Sle=oi(()=>G("img",{src:Tf,width:"25",height:"25"},null,-1)),_le=[Sle],xle=["src"],kle={class:"error"},Ale=["disabled"],Ele=oi(()=>G("div",{class:"divider"},null,-1)),Tle={class:"content-row"},Ole={key:0},Dle=oi(()=>G("hr",{class:"divider"},null,-1)),Rle={class:"input-container"},$le=oi(()=>G("h5",null,"Datum der Tour",-1)),Ble={class:"input-container"},Mle=oi(()=>G("h5",null,"Wann startet diese Tour",-1)),Ple={class:"input-container"},Ile=oi(()=>G("h5",null,"Preis",-1)),Nle={class:"creation-sidebar"},zle={class:"sidebar-item"},Fle=oi(()=>G("h4",null,"Guide hinzufgen",-1)),Lle=oi(()=>G("hr",{class:"divider"},null,-1)),Hle={class:"sidebar-item"},Vle=oi(()=>G("h4",null,"Ort hinzufgen",-1)),Ule=oi(()=>G("hr",{class:"divider"},null,-1)),Wle={class:"sidebar-item"},jle=oi(()=>G("h4",null,"Kategorien hinzufgen",-1)),Gle=oi(()=>G("hr",{class:"divider"},null,-1)),qle={class:"sidebar-item"},Kle=oi(()=>G("h4",null,"Mobilitt hinzufgen",-1)),Xle=oi(()=>G("hr",{class:"divider"},null,-1)),Yle={class:"sidebar-item"},Jle=oi(()=>G("h4",null,"Verffentlichen",-1)),Zle=oi(()=>G("hr",{class:"divider"},null,-1)),Qle={class:"input-container"},ece=oi(()=>G("option",{value:"draft"},"Entwurf",-1)),tce=oi(()=>G("option",{value:"published"},"Verffentlichen",-1)),nce=[ece,tce],rce={class:"errorMessages"},ace={__name:"Create",setup(f){const m=Bt({"name:de":"","name:en":"","description:de":"","description:en":"",location:{lat:0,lng:0},status:"draft",is_public:!1,date:null,duration:null,needs_registration:!1,price:0,guides:[],places:[],images:[],image_copyright:"",main_image:null,themes:[]}),b=Bt(null),y=Bt(null),S=Bt(null),_=Bt(null),T=Bt(null),D=Bt([]);Bt(null);const F=Bt("Tour erstellen"),W=Bt([]),I=Jm(),L=ri(()=>m.value.price.replace(",",".").replace(/[^0-9.]/g,"")),P=ri(()=>m.value.duration.replace(",",".").replace(/[^0-9.]/g,"")),H=Bt(""),Y=Bt(null),q=Bt(!1),$e=()=>{q.value=!0;const De={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};Y.value&&Wl(Y.value,De).then(ke=>{const Ye=new FormData;Ye.append("file",ke),zn.post("/media",Ye,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(le=>{D.value.push(le.data.media),q.value=!1}).catch(le=>{console.log(le),window.alert("Fehler beim Upload des Bildes"),q.value=null})}).catch(ke=>{console.log(ke),window.alert("Fehler beim Komprimieren des Bildes")})},de=De=>{H.value="";const ke=De.target.files,Ye=ke[0].size/1024/1024;if(Ye>1){H.value="Bild("+Ye.toFixed(2)+"MB) ist zu gro (max. 1MB)",Y.value=ke[0];return}if(ke)for(let le=0;le<ke.length;le++){const pe=ke[le],ye=new FormData;ye.append("file",pe),zn.post("/media",ye,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Me=>{D.value.push(Me.data.media)}).catch(Me=>{console.log(Me),window.alert("Fehler beim Upload des Bildes")})}},Be=De=>{D.value=D.value.filter(ke=>ke.id!==De)},ue=()=>(W.value=[],m.value["name:de"]===""&&W.value.push("Titel der Tour (DE) ist ein Pflichtfeld"),m.value["name:en"]===""&&W.value.push("Titel der Tour (EN) ist ein Pflichtfeld"),D.value.length===0&&W.value.push("Es muss mindestens ein Bild hochgeladen werden"),m.value.is_public&&(m.value.date===null&&W.value.push("Datum der Tour ist ein Pflichtfeld"),m.value.duration===null&&W.value.push("Dauer der Tour ist ein Pflichtfeld"),m.value.price===null&&W.value.push("Preis der Tour ist ein Pflichtfeld")),W.value.length===0),Ee=()=>{if(!ue())return;const De=T.value.getData();m.value.location.lat=De.lat,m.value.location.lng=De.lng,m.value["description:de"]=br.get("editor_de").getContent(),m.value["description:en"]=br.get("editor_en").getContent(),m.value.images=D.value.map(ye=>ye.id);const ke=b.value.getData(),Ye=y.value.getData(),le=S.value.getData(),pe=_.value.getData();m.value.image_copyright=m.value.image_copyright||"unset",m.value.guides=ke,m.value.places=Ye,m.value.themes=le,pe.length===0?m.value.mobilities=null:m.value.mobilities=pe,m.value.is_public&&(m.value.price=L.value,m.value.duration=P.value),zn.post("/tours",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ye=>{F.value="Tour wurde erstellt",I.push("/tour-bearbeiten/"+ye.data.tour.id)}).catch(ye=>{console.log(ye),ye.response.status===401?sessionStorage.removeItem("token"):(window.alert("Tour konnte nicht erstellt werden"),F.value="Tour erstellen")})};return Ga(async()=>{br.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:ib.toString()+`
`+ub.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:De=>{De.on("init",()=>{De.setContent("<p>Starte hier mit der Beschreibung deiner Tour.</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),ip(()=>{br.remove()}),(De,ke)=>{const Ye=Va("router-Link");return Ke(),tt("main",null,[G("div",ole,[ile,Tt(Ye,{to:"/",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1})]),ule,G("div",sle,[G("div",lle,[cle,fle,G("div",vle,[Tt(ra,{lang:"de",title:"Titel der Tour"},{content:tn(()=>[ir(G("input",{type:"text",for:"title",placeholder:"Titel","onUpdate:modelValue":ke[0]||(ke[0]=le=>m.value["name:de"]=le)},null,512),[[vr,m.value["name:de"]]])]),_:1}),Tt(ra,{lang:"en",title:"title of the tour"},{content:tn(()=>[ir(G("input",{type:"text",for:"title",placeholder:"Title","onUpdate:modelValue":ke[1]||(ke[1]=le=>m.value["name:en"]=le)},null,512),[[vr,m.value["name:en"]]])]),_:1})]),G("div",dle,[Tt(ra,{lang:"de",title:"Beschreibung der Tour"},{content:tn(()=>[ir(G("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de","onUpdate:modelValue":ke[2]||(ke[2]=le=>m.value["description:de"]=le)},null,512),[[vr,m.value["description:de"]]])]),_:1}),Tt(ra,{lang:"en",title:"Description of the tour"},{content:tn(()=>[ir(G("textarea",{for:"description",placeholder:"Description",id:"editor_en","onUpdate:modelValue":ke[3]||(ke[3]=le=>m.value["description:en"]=le)},null,512),[[vr,m.value["description:en"]]])]),_:1})]),G("div",mle,[hle,gle,Tt(bG,{ref_key:"mapContainer",ref:T},null,512)]),G("div",ple,[ble,yle,D.value.length>0?(Ke(),tt("div",wle,[(Ke(!0),tt($r,null,to(D.value,le=>(Ke(),tt("div",{class:"image",key:le.id},[G("button",{class:"removeImage",onClick:pe=>Be(le.id),draggable:"true",onDrop:pe=>De.reorderImages(le.id),onDragover:ke[4]||(ke[4]=(...pe)=>De.allowDrop&&De.allowDrop(...pe)),onDragstart:ke[5]||(ke[5]=(...pe)=>De.dragImage&&De.dragImage(...pe))},_le,40,Cle),G("img",{src:le.url},null,8,xle)]))),128))])):Br("",!0),G("input",{type:"file",onChange:de},null,32),G("p",kle,nr(H.value),1),H.value?(Ke(),tt("button",{key:1,class:"button-primary",onClick:$e,disabled:q.value},nr(q.value?"Komprimiere Bild...":"Bild verkleinern"),9,Ale)):Br("",!0),Ele,ir(G("input",{type:"text","onUpdate:modelValue":ke[6]||(ke[6]=le=>m.value.image_copyright=le),placeholder:"Bild Copyright"},null,512),[[vr,m.value.image_copyright]])]),G("div",Tle,[Tt(D6,{value:m.value.is_public,titel:"ffentliche Tour",onInput:ke[7]||(ke[7]=le=>m.value.is_public=le)},null,8,["value"]),m.value.is_public?(Ke(),tt("div",Ole,[Dle,G("div",Rle,[$le,ir(G("input",{type:"date","onUpdate:modelValue":ke[8]||(ke[8]=le=>m.value.date=le)},null,512),[[vr,m.value.date]])]),G("div",Ble,[Mle,ir(G("input",{type:"text","onUpdate:modelValue":ke[9]||(ke[9]=le=>m.value.duration=le),placeholder:"bspw. 14:30 Uhr"},null,512),[[vr,m.value.duration]])]),G("div",Ple,[Ile,ir(G("input",{type:"text","onUpdate:modelValue":ke[10]||(ke[10]=le=>m.value.price=le),placeholder:"bspw. 10.50"},null,512),[[vr,m.value.price]])]),Tt(D6,{value:m.value.needs_registration,titel:"Anmeldung erforderlich",onInput:ke[11]||(ke[11]=le=>m.value.needs_registration=le)},null,8,["value"])])):Br("",!0)])]),G("div",Nle,[G("div",zle,[Fle,Lle,Tt(hG,{ref_key:"guideSelect",ref:b},null,512)]),G("div",Hle,[Vle,Ule,Tt(gG,{ref_key:"ortSelect",ref:y},null,512)]),G("div",Wle,[jle,Gle,Tt(pG,{ref_key:"kategorieSelect",ref:S},null,512)]),G("div",qle,[Kle,Xle,Tt(l9,{ref_key:"mobilitySelect",ref:_},null,512)]),G("div",Yle,[Jle,Zle,G("div",Qle,[ir(G("select",{"onUpdate:modelValue":ke[12]||(ke[12]=le=>m.value.status=le)},nce,512),[[_j,m.value.status]])]),G("button",{class:"button-primary",onClick:Ee},nr(F.value),1),G("div",rce,[(Ke(!0),tt($r,null,to(W.value,le=>(Ke(),tt("p",{key:le},nr(le),1))),128))])])])])])}}},oce=t2(ace,[["__scopeId","data-v-162fc6e1"]]);const ice={default:{name:"TourDateSetter",props:{dates:{type:String,required:!0,default:[]}}},data(){return{dates:[],date:"",addDate:!1,isEditing:!1,editingId:null,tourId:parseInt(this.$route.params.id)}},methods:{addDateEntry(){this.isEditing?zn.put(`/tour_dates/${this.editingId}`,{date:this.date},{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(f=>{const m=this.dates.findIndex(b=>b.id===this.editingId);console.log(m),this.dates[m].date=this.date,this.isEditing=!1,this.date="",this.addDate=!1,this.$forceUpdate()}).catch(f=>{f.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())}):zn.post("/tour_dates",{date:this.date,tour_id:this.tourId},{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(f=>{this.dates.push({id:f.data.id,date:f.data.date}),this.date="",this.addDate=!1}).catch(f=>{f.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})},EditDateEntry(f){this.isEditing=!0,this.addDate=!0,this.date=f.date,this.editingId=f.id},RemoveDateEntry(f){zn.delete(`/tour_dates/${f.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(m=>{this.dates=this.dates.filter(b=>b.id!==f.id)}).catch(m=>{m.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})}},mounted(){zn.get(`/tour_dates/${this.tourId}`).then(f=>{this.dates=f.data.tour_dates}).catch(f=>{f.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})}},uce={class:"date-picker"},sce=G("h5",null,"Tour Termine",-1),lce={key:0,class:"date-picker-container"},cce={for:"date"},fce={class:"date-picker-actions"},vce=["onClick"],dce=G("img",{src:Rd,width:"20",height:"20"},null,-1),mce=[dce],hce=["onClick"],gce=G("img",{src:Tf,width:"20",height:"20"},null,-1),pce=[gce],bce={key:1,class:"date-picker-container"},yce=G("div",{class:"date-picker-item"},[G("label",{for:"date"},"Keine Termine angelegt")],-1),wce=[yce],Cce={key:2,class:"date-picker-add"},Sce=["disabled"];function _ce(f,m,b,y,S,_){return Ke(),tt("div",uce,[sce,S.dates.length>0?(Ke(),tt("div",lce,[(Ke(!0),tt($r,null,to(S.dates,T=>(Ke(),tt("div",{key:T.id,class:"date-picker-item"},[G("label",cce,nr(new Date(T.date).toLocaleDateString("de-DE")),1),G("div",fce,[G("div",{onClick:D=>_.EditDateEntry(T)},mce,8,vce),G("div",{onClick:D=>_.RemoveDateEntry(T)},pce,8,hce)])]))),128))])):(Ke(),tt("div",bce,wce)),S.addDate?(Ke(),tt("div",Cce,[ir(G("input",{type:"date","onUpdate:modelValue":m[0]||(m[0]=T=>S.date=T)},null,512),[[vr,S.date]]),G("button",{class:"button-primary",onClick:m[1]||(m[1]=T=>_.addDateEntry())},"Speichern"),G("button",{class:"button-primary",onClick:m[2]||(m[2]=T=>(S.addDate=!1,S.isEditing=!1))}," Abbrechen ")])):Br("",!0),G("button",{class:"button-primary",onClick:m[3]||(m[3]=T=>S.addDate=!0),disabled:S.addDate}," Termin hinzufgen ",8,Sce)])}const xce=t2(ice,[["render",_ce]]);const Ci=f=>(g3("data-v-358bb936"),f=f(),p3(),f),kce={class:"row"},Ace=Ci(()=>G("h1",null,"Tour bearbeiten",-1)),Ece=Ci(()=>G("hr",{class:"divider"},null,-1)),Tce={class:"creation-grid"},Oce={class:"main-content"},Dce=Ci(()=>G("h4",null,"Allgemeine Informationen",-1)),Rce=Ci(()=>G("hr",{class:"divider"},null,-1)),$ce={class:"row content-row"},Bce={class:"row content-row"},Mce={class:"content-row"},Pce=Ci(()=>G("h4",null,"Standort",-1)),Ice=Ci(()=>G("hr",{class:"divider"},null,-1)),Nce={class:"content-row"},zce=Ci(()=>G("h4",null,"Bilder",-1)),Fce=Ci(()=>G("hr",{class:"divider"},null,-1)),Lce={key:0,class:"images"},Hce=["onClick","onDrop"],Vce=Ci(()=>G("img",{src:Tf,width:"25",height:"25"},null,-1)),Uce=[Vce],Wce=["src"],jce={class:"error"},Gce=["disabled"],qce=Ci(()=>G("div",{class:"divider"},null,-1)),Kce={class:"content-row"},Xce={key:0},Yce=Ci(()=>G("hr",{class:"divider"},null,-1)),Jce={class:"input-container"},Zce={class:"input-container"},Qce=Ci(()=>G("h5",null,"Wann startet diese Tour",-1)),efe={class:"input-container"},tfe=Ci(()=>G("h5",null,"Preis",-1)),nfe={class:"creation-sidebar"},rfe={class:"sidebar-item"},afe=Ci(()=>G("h4",null,"Guide hinzufgen",-1)),ofe=Ci(()=>G("hr",{class:"divider"},null,-1)),ife={class:"sidebar-item"},ufe=Ci(()=>G("h4",null,"Ort hinzufgen",-1)),sfe=Ci(()=>G("hr",{class:"divider"},null,-1)),lfe={class:"sidebar-item"},cfe=Ci(()=>G("h4",null,"Kategorien hinzufgen",-1)),ffe=Ci(()=>G("hr",{class:"divider"},null,-1)),vfe={class:"sidebar-item"},dfe=Ci(()=>G("h4",null,"Mobilitt hinzufgen",-1)),mfe=Ci(()=>G("hr",{class:"divider"},null,-1)),hfe={class:"sidebar-item"},gfe=Ci(()=>G("h4",null,"Verffentlichen",-1)),pfe=Ci(()=>G("hr",{class:"divider"},null,-1)),bfe={class:"input-container"},yfe=Ci(()=>G("option",{value:"draft"},"Entwurf",-1)),wfe=Ci(()=>G("option",{value:"published"},"Verffentlichen",-1)),Cfe=[yfe,wfe],Sfe={class:"errorMessages"},_fe={__name:"Edit",setup(f){const m=Bt({"name:de":"","name:en":"","description:de":"","description:en":"",location:{lat:0,lng:0},status:"draft",is_public:!1,date:new Date,duration:null,needs_registration:!1,mobilities:null,price:0,guides:[],places:[],images:[],main_image:null,image_copyright:"",themes:[],created_at:null,updated_at:null}),b=Bt(null),y=Bt(null),S=Bt(null),_=Bt(null),T=Bt(null),D=Bt([]),F=Bt(!0),W=Bt("Aktualisieren"),I=up(),{id:L}=I.params,P=Jm(),H=Bt([]),Y=ri(()=>typeof m.value.price=="number"?m.value.price:m.value.price.replace(",",".").replace(/[^0-9.]/g,"")),q=ri(()=>typeof m.value.duration=="number"?m.value.duration:m.value.duration.replace(",",".").replace(/[^0-9.]/g,"")),$e=()=>{zn.get("/tours/"+L,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ye=>{try{D.value=ye.data.tour.images,m.value["name:de"]=ye.data.tour.translations[0].name,m.value["name:en"]=ye.data.tour.translations[1].name,m.value["description:de"]=ye.data.tour.translations[0].description,m.value["description:en"]=ye.data.tour.translations[1].description;let Me=ye.data.tour.location;Me?(Me=JSON.parse(Me),m.value.location.lat=Me.lat,m.value.location.lng=Me.lng):(m.value.location.lat=0,m.value.location.lng=0),m.value.status=ye.data.tour.status,m.value.is_public=ye.data.tour.is_public,m.value.duration=ye.data.tour.duration,m.value.needs_registration=ye.data.tour.needs_registration,m.value.mobilities=ye.data.tour.mobilities||null,m.value.price=ye.data.tour.price,m.value.guides=ye.data.tour.guides,m.value.places=ye.data.tour.places,m.value.images=ye.data.tour.images,m.value.main_image=ye.data.tour.main_image,m.value.image_copyright=ye.data.tour.image_copyright||"unset",m.value.themes=ye.data.tour.themes,m.value.created_at=ye.data.tour.created_at,m.value.updated_at=ye.data.tour.updated_at,br.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:ib.toString()+`
`+ub.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:ne=>{ne.on("init",()=>{console.log("Editor is initialized."),br.get("editor_de").setContent(m.value["description:de"]||""),br.get("editor_en").setContent(m.value["description:en"]||"")})}}),F.value=!1}catch(Me){console.log(Me),window.alert("Tour konnte nicht geladen werden")}document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}).catch(ye=>{ye.response.status===401?sessionStorage.removeItem("token"):window.alert("Tour konnte nicht geladen werden")})},de=()=>{if(D.value.length===0){D.value=null;return}let ye=[];for(let Me=0;Me<D.value.length;Me++)ye.push(D.value[Me].id);m.value.images=ye,m.value.main_image=D.value[0].id,D.value.length===0&&(m.value.main_image=null)},Be=Bt(""),ue=Bt(null),Ee=Bt(!1),De=()=>{Ee.value=!0;const ye={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};ue.value&&imageCompression(ue.value,ye).then(Me=>{const ne=new FormData;ne.append("file",Me),zn.post("/media",ne,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(U=>{D.value.push(U.data.media),Ee.value=!1}).catch(U=>{console.log(U),window.alert("Fehler beim Upload des Bildes"),Ee.value=null})}).catch(Me=>{console.log(Me),window.alert("Fehler beim Komprimieren des Bildes")})},ke=ye=>{Be.value="";const Me=ye.target.files,ne=Me[0].size/1024/1024;if(ne>1){Be.value="Bild("+ne.toFixed(2)+"MB) ist zu gro (max. 1MB)",ue.value=Me[0];return}if(Me)for(let U=0;U<Me.length;U++){const _e=Me[U],Qe=new FormData;Qe.append("file",_e),zn.post("/media",Qe,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(se=>{D.value.push(se.data.media)}).catch(se=>{console.log(se),window.alert("Fehler beim Upload des Bildes")})}},Ye=ye=>{D.value=D.value.filter(Me=>Me.id!==ye)},le=()=>(H.value=[],m.value["name:de"]===""&&H.value.push("Titel der Tour (DE) ist ein Pflichtfeld"),m.value["name:en"]===""&&H.value.push("Titel der Tour (EN) ist ein Pflichtfeld"),D.value.length===0&&H.value.push("Es muss mindestens ein Bild hochgeladen werden"),m.value.is_public&&(m.value.date===null&&H.value.push("Datum der Tour ist ein Pflichtfeld"),m.value.duration===null&&H.value.push("Dauer der Tour ist ein Pflichtfeld"),m.value.price===null&&H.value.push("Preis der Tour ist ein Pflichtfeld")),H.value.length===0),pe=()=>{if(!le())return;const ye=T.value.getData();m.value.location=m.value.location,m.value.location.lat=ye.lat,m.value.location.lng=ye.lng,W.value="Tour wird aktualisiert...",de(),m.value["description:de"]=br.get("editor_de").getContent(),m.value["description:en"]=br.get("editor_en").getContent();const Me=b.value.getData(),ne=y.value.getData(),U=S.value.getData(),_e=_.value.getData();m.value.image_copyright=m.value.image_copyright||"unset",m.value.guides=Me,m.value.places=ne,m.value.themes=U,_e.length===0?m.value.mobilities=null:m.value.mobilities=_e,m.value.is_public&&(m.value.price=Y.value,m.value.duration=q.value),zn.patch("/tours/"+L,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Qe=>{W.value="Erfolgreich Aktualisiert",window.onbeforeunload=null,setTimeout(()=>{P.push("/touren")},1e3)}).catch(Qe=>{console.log(Qe),Qe.response.status===401?sessionStorage.removeItem("token"):(window.alert("Tour konnte nicht aktualisiert werden"),W.value="Aktualisieren")})};return Ga(()=>{$e()}),ip(()=>{br.remove()}),(ye,Me)=>{const ne=Va("router-Link");return Ke(),tt("main",null,[G("div",kce,[Ace,Tt(ne,{to:"/",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1})]),Ece,G("div",Tce,[G("div",Oce,[Dce,Rce,G("div",$ce,[Tt(ra,{lang:"de",title:"Titel der Tour"},{content:tn(()=>[ir(G("input",{type:"text",for:"title",placeholder:"Titel","onUpdate:modelValue":Me[0]||(Me[0]=U=>m.value["name:de"]=U)},null,512),[[vr,m.value["name:de"]]])]),_:1}),Tt(ra,{lang:"en",title:"title of the tour"},{content:tn(()=>[ir(G("input",{type:"text",for:"title",placeholder:"Title","onUpdate:modelValue":Me[1]||(Me[1]=U=>m.value["name:en"]=U)},null,512),[[vr,m.value["name:en"]]])]),_:1})]),G("div",Bce,[Tt(ra,{lang:"de",title:"Beschreibung der Tour"},{content:tn(()=>[ir(G("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de","onUpdate:modelValue":Me[2]||(Me[2]=U=>m.value["description:de"]=U)},null,512),[[vr,m.value["description:de"]]])]),_:1}),Tt(ra,{lang:"en",title:"Description of the tour"},{content:tn(()=>[ir(G("textarea",{for:"description",placeholder:"Description",id:"editor_en","onUpdate:modelValue":Me[3]||(Me[3]=U=>m.value["description:en"]=U)},null,512),[[vr,m.value["description:en"]]])]),_:1})]),G("div",Mce,[Pce,Ice,F.value?Br("",!0):(Ke(),Od(bG,{key:0,ref_key:"mapContainer",ref:T,coordinates:m.value.location},null,8,["coordinates"]))]),G("div",Nce,[zce,Fce,D.value.length>0?(Ke(),tt("div",Lce,[(Ke(!0),tt($r,null,to(D.value,U=>(Ke(),tt("div",{class:"image",key:U.id},[G("button",{class:"removeImage",onClick:_e=>Ye(U.id),draggable:"true",onDrop:_e=>ye.reorderImages(U.id),onDragover:Me[4]||(Me[4]=(..._e)=>ye.allowDrop&&ye.allowDrop(..._e)),onDragstart:Me[5]||(Me[5]=(..._e)=>ye.dragImage&&ye.dragImage(..._e))},Uce,40,Hce),G("img",{src:U.url},null,8,Wce)]))),128))])):Br("",!0),G("input",{type:"file",onChange:ke},null,32),G("p",jce,nr(Be.value),1),Be.value?(Ke(),tt("button",{key:1,class:"button-primary",onClick:De,disabled:Ee.value},nr(Ee.value?"Komprimiere Bild...":"Bild verkleinern"),9,Gce)):Br("",!0),qce,ir(G("input",{type:"text","onUpdate:modelValue":Me[6]||(Me[6]=U=>m.value.image_copyright=U),placeholder:"Bild Copyright"},null,512),[[vr,m.value.image_copyright]])]),G("div",Kce,[Tt(D6,{value:m.value.is_public,titel:"ffentliche Tour",onInput:Me[7]||(Me[7]=U=>m.value.is_public=U)},null,8,["value"]),m.value.is_public?(Ke(),tt("div",Xce,[Yce,G("div",Jce,[Tt(xce)]),G("div",Zce,[Qce,ir(G("input",{type:"text","onUpdate:modelValue":Me[8]||(Me[8]=U=>m.value.duration=U),placeholder:"bspw. 14:30 Uhr"},null,512),[[vr,m.value.duration]])]),G("div",efe,[tfe,ir(G("input",{type:"text","onUpdate:modelValue":Me[9]||(Me[9]=U=>m.value.price=U)},null,512),[[vr,m.value.price]])]),Tt(D6,{value:m.value.needs_registration,titel:"Anmeldung erforderlich",onInput:Me[10]||(Me[10]=U=>m.value.needs_registration=U)},null,8,["value"])])):Br("",!0)])]),G("div",nfe,[G("div",rfe,[afe,ofe,Tt(hG,{ref_key:"guideSelect",ref:b,selectedGuides:m.value.guides},null,8,["selectedGuides"])]),G("div",ife,[ufe,sfe,Tt(gG,{ref_key:"ortSelect",ref:y,selectedplaces:m.value.places},null,8,["selectedplaces"])]),G("div",lfe,[cfe,ffe,Tt(pG,{ref_key:"kategorieSelect",ref:S,selectedthemes:m.value.themes},null,8,["selectedthemes"])]),G("div",vfe,[dfe,mfe,Tt(l9,{ref_key:"mobilitySelect",ref:_,selectedMobilites:m.value.mobilities},null,8,["selectedMobilites"])]),G("div",hfe,[gfe,pfe,G("p",null," Erstellt am: "+nr(new Date(m.value.created_at).toLocaleString("de-DE")),1),G("p",null," Bearbeitet am: "+nr(new Date(m.value.updated_at).toLocaleString("de-DE")),1),G("div",bfe,[ir(G("select",{"onUpdate:modelValue":Me[11]||(Me[11]=U=>m.value.status=U)},Cfe,512),[[_j,m.value.status]])]),G("button",{class:"button-primary",onClick:pe},nr(W.value),1),G("div",Sfe,[(Ke(!0),tt($r,null,to(H.value,U=>(Ke(),tt("p",{key:U},nr(U),1))),128))])])])])])}}},xfe=t2(_fe,[["__scopeId","data-v-358bb936"]]),kfe={class:"row"},Afe=G("h1",null,"Alle Guides",-1),Efe=G("hr",{class:"divider"},null,-1),Tfe=G("img",{src:Rd,width:"20"},null,-1),Ofe=["onClick"],Dfe=G("img",{src:Tf,width:"20"},null,-1),Rfe=[Dfe],$fe={__name:"Overview",setup(f){const m=Bt([]),b=Bt(!1),y=Bt([{key:"name",title:"Name"}]),S=()=>{b.value=!0,zn.get("/guides?preview=true&per_page=200").then(T=>{b.value=!1,m.value=T.data.guides.data}).catch(T=>{b.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{window.confirm("Willst du diesen Guide wirklich lschen?")&&zn.delete(`/guides/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Guide konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ga(()=>{S()}),(T,D)=>{const F=Va("router-link"),W=Va("RouterLink");return Ke(),tt("main",null,[G("div",kfe,[Afe,Tt(F,{to:"/guide-erstellen",class:"button-primary"},{default:tn(()=>[Or("Guide hinzufgen")]),_:1})]),Efe,Tt(Zm,{tableData:m.value,tableColumns:y.value,loading:b.value},{actions:tn(()=>[Or(" Aktionen ")]),tableActions:tn(I=>[Tt(W,{to:`/guide-bearbeiten/${I.row.id}`},{default:tn(()=>[Tfe]),_:2},1032,["to"]),G("button",{onClick:L=>_(I.row.id)},Rfe,8,Ofe)]),_:1},8,["tableData","tableColumns","loading"])])}}},Bfe={__name:"Create",setup(f){return(m,b)=>(Ke(),tt("main",null,[Tt(c9)]))}},Mfe={__name:"Edit",setup(f){const b=up().params.id;return(y,S)=>(Ke(),tt("main",null,[Tt(c9,{"edit-mode":!0,id:$o(b)},null,8,["id"])]))}},Pfe={class:"row"},Ife=G("h1",null,"Alle Sprachen",-1),Nfe=G("hr",{class:"divider"},null,-1),zfe=G("img",{src:Rd,width:"20"},null,-1),Ffe=["onClick"],Lfe=G("img",{src:Tf,width:"20"},null,-1),Hfe=[Lfe],Vfe={__name:"Overview",setup(f){const m=Bt([]),b=Bt(!1),y=Bt([{key:"name",title:"Name"}]),S=()=>{b.value=!0,zn.get("/languages").then(T=>{b.value=!1,m.value=T.data.languages}).catch(T=>{b.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{zn.delete(`/languages/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Sprache konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ga(()=>{S()}),(T,D)=>{const F=Va("router-link"),W=Va("RouterLink");return Ke(),tt("main",null,[G("div",Pfe,[Ife,Tt(F,{to:"/sprache-erstellen",class:"button-primary"},{default:tn(()=>[Or("Sprache hinzufgen")]),_:1})]),Nfe,Tt(Zm,{tableData:m.value,tableColumns:y.value,loading:b.value},{actions:tn(()=>[Or(" Aktionen ")]),tableActions:tn(I=>[Tt(W,{to:`/sprache-bearbeiten/${I.row.id}`},{default:tn(()=>[zfe]),_:2},1032,["to"]),G("button",{onClick:L=>_(I.row.id)},Hfe,8,Ffe)]),_:1},8,["tableData","tableColumns","loading"])])}}},Ufe={__name:"Create",setup(f){return(m,b)=>(Ke(),tt("main",null,[Tt(i9)]))}},Wfe={__name:"Edit",setup(f){const b=up().params.id;return(y,S)=>(Ke(),tt("main",null,[Tt(i9,{"edit-mode":!0,id:$o(b)},null,8,["id"])]))}},jfe={class:"row"},Gfe=G("h1",null,"Alle Mobilitten",-1),qfe=G("hr",{class:"divider"},null,-1),Kfe=G("img",{src:Rd,width:"20"},null,-1),Xfe=["onClick"],Yfe=G("img",{src:Tf,width:"20"},null,-1),Jfe=[Yfe],Zfe={__name:"Overview",setup(f){const m=Bt([]),b=Bt(!1),y=Bt([{key:"name",title:"Name"}]),S=()=>{b.value=!0,zn.get("/mobility").then(T=>{b.value=!1,m.value=T.data.mobilities}).catch(T=>{b.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{zn.delete(`/mobility/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Mobilitt konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ga(()=>{S()}),(T,D)=>{const F=Va("router-link"),W=Va("RouterLink");return Ke(),tt("main",null,[G("div",jfe,[Gfe,Tt(F,{to:"/mobilitaet-erstellen",class:"button-primary"},{default:tn(()=>[Or("Mobilitt hinzufgen")]),_:1})]),qfe,Tt(Zm,{tableData:m.value,tableColumns:y.value,loading:b.value},{actions:tn(()=>[Or(" Aktionen ")]),tableActions:tn(I=>[Tt(W,{to:`/mobilitaet-bearbeiten/${I.row.id}`},{default:tn(()=>[Kfe]),_:2},1032,["to"]),G("button",{onClick:L=>_(I.row.id)},Jfe,8,Xfe)]),_:1},8,["tableData","tableColumns","loading"])])}}},Qfe={__name:"Create",setup(f){return(m,b)=>(Ke(),tt("main",null,[Tt(s9)]))}},eve={__name:"Edit",setup(f){const b=up().params.id;return(y,S)=>(Ke(),tt("main",null,[Tt(s9,{"edit-mode":!0,id:$o(b)},null,8,["id"])]))}},tve={class:"row"},nve=G("h1",null,"Alle Orte",-1),rve=G("hr",{class:"divider"},null,-1),ave=G("img",{src:Rd,width:"20"},null,-1),ove=["onClick"],ive=G("img",{src:Tf,width:"20"},null,-1),uve=[ive],sve={__name:"Overview",setup(f){const m=Bt([]),b=Bt(!1),y=Bt([{key:"name",title:"Name"}]),S=()=>{b.value=!0,zn.get("/places").then(T=>{b.value=!1,m.value=T.data.places}).catch(T=>{b.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{zn.delete(`/places/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Ort konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ga(()=>{S()}),(T,D)=>{const F=Va("router-link"),W=Va("RouterLink");return Ke(),tt("main",null,[G("div",tve,[nve,Tt(F,{to:"/ort-erstellen",class:"button-primary"},{default:tn(()=>[Or("Ort hinzufgen")]),_:1})]),rve,Tt(Zm,{tableData:m.value,tableColumns:y.value,loading:b.value},{actions:tn(()=>[Or(" Aktionen ")]),tableActions:tn(I=>[Tt(W,{to:`/ort-bearbeiten/${I.row.id}`},{default:tn(()=>[ave]),_:2},1032,["to"]),G("button",{onClick:L=>_(I.row.id)},uve,8,ove)]),_:1},8,["tableData","tableColumns","loading"])])}}},lve={__name:"Create",setup(f){return(m,b)=>(Ke(),tt("main",null,[Tt(f9)]))}},cve={__name:"Edit",setup(f){const b=up().params.id;return(y,S)=>(Ke(),tt("main",null,[Tt(f9,{"edit-mode":!0,id:$o(b)},null,8,["id"])]))}},fve={class:"row"},vve=G("h1",null,"Alle Kategorien",-1),dve=G("hr",{class:"divider"},null,-1),mve=G("img",{src:Rd,width:"20"},null,-1),hve=["onClick"],gve=G("img",{src:Tf,width:"20"},null,-1),pve=[gve],bve={__name:"Overview",setup(f){const m=Bt([]),b=Bt(!1),y=Bt([{key:"name",title:"Name"}]),S=()=>{b.value=!0,zn.get("/themes").then(T=>{b.value=!1,m.value=T.data.themes}).catch(T=>{b.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{const D=m.value.find(F=>F.id===T).name;window.confirm(`Mchtest du die Kategorie "${D}" wirklich lschen?`)&&zn.delete(`/themes/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(F=>{console.log(F),F.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Kategorie konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ga(()=>{S()}),(T,D)=>{const F=Va("router-link"),W=Va("RouterLink");return Ke(),tt("main",null,[G("div",fve,[vve,Tt(F,{to:"/kategorie-erstellen",class:"button-primary"},{default:tn(()=>[Or("Kategorie hinzufgen")]),_:1})]),dve,Tt(Zm,{tableData:m.value,tableColumns:y.value,loading:b.value},{actions:tn(()=>[Or(" Aktionen ")]),tableActions:tn(I=>[Tt(W,{to:`/kategorie-bearbeiten/${I.row.id}`},{default:tn(()=>[mve]),_:2},1032,["to"]),G("button",{onClick:L=>_(I.row.id)},pve,8,hve)]),_:1},8,["tableData","tableColumns","loading"])])}}},yve={__name:"Create",setup(f){return(m,b)=>(Ke(),tt("main",null,[Tt(v9)]))}},wve={__name:"Edit",setup(f){const b=up().params.id;return(y,S)=>(Ke(),tt("main",null,[Tt(v9,{"edit-mode":!0,id:$o(b)},null,8,["id"])]))}},Cve={class:"row"},Sve=G("h1",null,"Alle Zertifikate",-1),_ve=G("hr",{class:"divider"},null,-1),xve=G("img",{src:Rd,width:"20"},null,-1),kve=["onClick"],Ave=G("img",{src:Tf,width:"20"},null,-1),Eve=[Ave],Tve={__name:"Overview",setup(f){const m=Bt([]),b=Bt(!1),y=Bt([{key:"name",title:"Name"}]),S=()=>{b.value=!0,zn.get("/certificates").then(T=>{b.value=!1,m.value=T.data.certificates}).catch(T=>{b.value=!1,console.log(T),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{zn.delete(`/certificates/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Das Zertifikat konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ga(()=>{S()}),(T,D)=>{const F=Va("router-link"),W=Va("RouterLink");return Ke(),tt("main",null,[G("div",Cve,[Sve,Tt(F,{to:"/zertifikat-erstellen",class:"button-primary"},{default:tn(()=>[Or("Zertifikat hinzufgen")]),_:1})]),_ve,Tt(Zm,{tableData:m.value,tableColumns:y.value,loading:b.value},{actions:tn(()=>[Or(" Aktionen ")]),tableActions:tn(I=>[Tt(W,{to:`/zertifikat-bearbeiten/${I.row.id}`},{default:tn(()=>[xve]),_:2},1032,["to"]),G("button",{onClick:L=>_(I.row.id)},Eve,8,kve)]),_:1},8,["tableData","tableColumns","loading"])])}}},Ove={__name:"Create",setup(f){return(m,b)=>(Ke(),tt("main",null,[Tt(o9)]))}},Dve={__name:"Edit",setup(f){const b=up().params.id;return(y,S)=>(Ke(),tt("main",null,[Tt(o9,{"edit-mode":!0,id:$o(b)},null,8,["id"])]))}},Rve={class:"row"},$ve=G("div",null,[G("h1",null,"Alle Themen"),G("p",null,"Themen werden Guides Vergeben (Webseite Filter Themen)")],-1),Bve=G("hr",{class:"divider"},null,-1),Mve=G("img",{src:Rd,width:"20"},null,-1),Pve=["onClick"],Ive=G("img",{src:Tf,width:"20"},null,-1),Nve=[Ive],zve={__name:"Overview",setup(f){const m=Bt([]),b=Bt(!1),y=Bt([{key:"name",title:"Name"}]),S=()=>{b.value=!0,zn.get("/skills?preview=true").then(T=>{b.value=!1,m.value=T.data.skills}).catch(T=>{b.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{zn.delete(`/skills/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Skill konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ga(()=>{S()}),(T,D)=>{const F=Va("router-link"),W=Va("RouterLink");return Ke(),tt("main",null,[G("div",Rve,[$ve,Tt(F,{to:"/skill-erstellen",class:"button-primary"},{default:tn(()=>[Or("Thema hinzufgen")]),_:1})]),Bve,Tt(Zm,{tableData:m.value,tableColumns:y.value,loading:b.value},{actions:tn(()=>[Or(" Aktionen ")]),tableActions:tn(I=>[Tt(W,{to:`/skill-bearbeiten/${I.row.id}`},{default:tn(()=>[Mve]),_:2},1032,["to"]),G("button",{onClick:L=>_(I.row.id)},Nve,8,Pve)]),_:1},8,["tableData","tableColumns","loading"])])}}},Fve={__name:"Create",setup(f){return(m,b)=>(Ke(),tt("main",null,[Tt(u9)]))}},Lve={__name:"Edit",setup(f){const b=up().params.id;return(y,S)=>(Ke(),tt("main",null,[Tt(u9,{"edit-mode":!0,id:$o(b)},null,8,["id"])]))}},Hve={class:"row"},Vve=G("h1",null,"Alle Benutzer",-1),Uve=G("hr",{class:"divider"},null,-1),Wve=G("img",{src:Rd,width:"20"},null,-1),jve=["onClick"],Gve=G("img",{src:Tf,width:"20"},null,-1),qve=[Gve],Kve={__name:"Overview",setup(f){const m=Bt([]),b=Bt(!1),y=Bt([{key:"name",title:"Name"},{key:"updated_at",title:"zuletzt aktualisiert"}]),S=()=>{b.value=!0,zn.get("/users").then(T=>{b.value=!1,m.value=T.data.users}).catch(T=>{b.value=!1,console.log(T),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{zn.delete(`/users/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Benutzer konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ga(()=>{S()}),(T,D)=>{const F=Va("router-link"),W=Va("RouterLink");return Ke(),tt("main",null,[G("div",Hve,[Vve,Tt(F,{to:"/verwaltung-erstellen",class:"button-primary"},{default:tn(()=>[Or("Benutzer hinzufgen")]),_:1})]),Uve,Tt(Zm,{tableData:m.value,tableColumns:y.value,loading:b.value},{actions:tn(()=>[Or(" Aktionen ")]),tableActions:tn(I=>[Tt(W,{to:`/verwaltung-bearbeiten/${I.row.id}`},{default:tn(()=>[Wve]),_:2},1032,["to"]),G("button",{onClick:L=>_(I.row.id)},qve,8,jve)]),_:1},8,["tableData","tableColumns","loading"])])}}},Xve={class:"row"},Yve=G("h1",null,"Benutzer erstellen",-1),Jve=G("hr",{class:"divider"},null,-1),Zve={class:"row content-row"},Qve={class:"col",style:{width:"48%","min-width":"200px"}},ede={class:"col",style:{width:"48%","min-width":"200px"}},tde={class:"row content-row"},nde={class:"col",style:{width:"48%","min-width":"200px"}},rde={class:"col",style:{width:"48%","min-width":"200px"}},ade={__name:"Create",setup(f){const m=Bt({name:"",email:"",password:"",password_confirmation:""}),b=Jm(),y=()=>m.value.password!==m.value.password_confirmation?(alert("Passwrter stimmen nicht berein"),!1):!0,S=()=>{y()&&zn.post("/auth/register",m.value).then(()=>{b.push("/verwaltung")}).catch(_=>{window.alert("Benutzer konnte nicht erstellt werden")})};return(_,T)=>(Ke(),tt("main",null,[G("div",Xve,[Yve,Tt($o(kf),{to:"/verwaltung",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1})]),Jve,G("div",Zve,[G("div",Qve,[ir(G("input",{type:"name",placeholder:"Benutzername",for:"username",name:"username","onUpdate:modelValue":T[0]||(T[0]=D=>m.value.name=D)},null,512),[[vr,m.value.name]])]),G("div",ede,[ir(G("input",{type:"email",placeholder:"Email",for:"email",name:"email","onUpdate:modelValue":T[1]||(T[1]=D=>m.value.email=D)},null,512),[[vr,m.value.email]])])]),G("div",tde,[G("div",nde,[ir(G("input",{type:"password",placeholder:"Passwort",for:"password",name:"password","onUpdate:modelValue":T[2]||(T[2]=D=>m.value.password=D)},null,512),[[vr,m.value.password]])]),G("div",rde,[ir(G("input",{type:"password",placeholder:"Passwort (Wiederholen)",for:"password",name:"password","onUpdate:modelValue":T[3]||(T[3]=D=>m.value.password_confirmation=D)},null,512),[[vr,m.value.password_confirmation]])])]),G("div",{class:"row content-row"},[G("button",{class:"button-primary",onClick:S}," Benutzer erstellen ")])]))}},ode={class:"row"},ide=G("h1",null,"Benutzer erstellen",-1),ude=G("hr",{class:"divider"},null,-1),sde={class:"row content-row"},lde={class:"col",style:{width:"48%","min-width":"200px"}},cde={class:"col",style:{width:"48%","min-width":"200px"}},fde={class:"row content-row"},vde={class:"col",style:{width:"48%","min-width":"200px"}},dde={class:"col",style:{width:"48%","min-width":"200px"}},mde={__name:"Edit",setup(f){const m=Bt({name:"",email:"",password:"",password_confirmation:""}),b=Jm(),y=b.currentRoute.value.params.id,S=()=>m.value.password!==m.value.password_confirmation?(alert("Passwrter stimmen nicht berein"),!1):!0,_=()=>{S()&&zn.patch("/users/"+y,m.value).then(()=>{b.push("/verwaltung")}).catch(D=>{window.alert("Benutzer konnte nicht erstellt werden")})},T=()=>{zn.get(`/users/${y}`).then(D=>{m.value=D.data.user}).catch(D=>{console.log(D)})};return Ga(()=>{T()}),(D,F)=>(Ke(),tt("main",null,[G("div",ode,[ide,Tt($o(kf),{to:"/verwaltung",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1})]),ude,G("div",sde,[G("div",lde,[ir(G("input",{type:"name",placeholder:"Benutzername",for:"username",name:"username","onUpdate:modelValue":F[0]||(F[0]=W=>m.value.name=W)},null,512),[[vr,m.value.name]])]),G("div",cde,[ir(G("input",{type:"email",placeholder:"Email",for:"email",name:"email","onUpdate:modelValue":F[1]||(F[1]=W=>m.value.email=W)},null,512),[[vr,m.value.email]])])]),G("div",fde,[G("div",vde,[ir(G("input",{type:"password",placeholder:"Passwort",for:"password",name:"password","onUpdate:modelValue":F[2]||(F[2]=W=>m.value.password=W)},null,512),[[vr,m.value.password]])]),G("div",dde,[ir(G("input",{type:"password",placeholder:"Passwort (Wiederholen)",for:"password",name:"password","onUpdate:modelValue":F[3]||(F[3]=W=>m.value.password_confirmation=W)},null,512),[[vr,m.value.password_confirmation]])])]),G("div",{class:"row content-row"},[G("button",{class:"button-primary",onClick:_}," Benutzer erstellen ")])]))}},hde=G("div",{class:"row"},[G("h1",null,"Alle Seiten")],-1),gde=G("hr",{class:"divider"},null,-1),pde=G("img",{src:Rd,width:"20"},null,-1),bde=["onClick"],yde=G("img",{src:Tf,width:"20"},null,-1),wde=[yde],Cde={__name:"Overview",setup(f){const m=Bt([]),b=Bt(!1),y=Bt([{key:"name",title:"Name"}]),S=()=>{b.value=!0,zn.get("/pages").then(T=>{b.value=!1,m.value=T.data}).catch(T=>{b.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{window.confirm("Sind Sie sicher, dass Sie diese Seite lschen mchten?")&&zn.delete(`/pages/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ga(()=>{S()}),(T,D)=>{const F=Va("RouterLink");return Ke(),tt("main",null,[hde,gde,Tt(Zm,{tableData:m.value,tableColumns:y.value,loading:b.value},{actions:tn(()=>[Or(" Aktionen ")]),tableActions:tn(W=>[Tt(F,{to:`/page-bearbeiten/${W.row.id}`},{default:tn(()=>[pde]),_:2},1032,["to"]),G("button",{onClick:I=>_(W.row.id)},wde,8,bde)]),_:1},8,["tableData","tableColumns","loading"])])}}},Sde={class:"row"},_de=G("h1",null,"Seite erstellen",-1),xde=G("hr",{class:"divider"},null,-1),kde={class:"row content-row"},Ade={class:"row content-row"},Ede=G("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Tde={class:"row content-row"},Ode={class:"row content-row"},Dde=G("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Rde={class:"content-row"},$de={class:"errorMessages"},Bde={__name:"Create",setup(f){const m=Bt({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""}),b=Bt("Erstellen"),y=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen fr die Seite ein."),!1):!0,S=()=>{y()&&(b.value="Speichern...",m.value["description:de"]=br.get("editor_de").getContent(),m.value["description:en"]=br.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),zn.post("/pages",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,router.push("/pages")}).catch(_=>{b.value="Erstellen",console.log(_),_.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gespeichert werden. Bitte versuche es erneut.")}))};return Ga(async()=>{await br.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:ib.toString()+`
`+ub.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |   bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:_=>{_.on("init",()=>{_.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),b3(()=>{br.remove()}),(_,T)=>{const D=Va("router-Link");return Ke(),tt("main",null,[G("div",Sde,[_de,Tt(D,{to:"/pages",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1})]),xde,G("div",kde,[Tt(ra,{lang:"de",title:"Titel (DE)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":T[0]||(T[0]=F=>m.value["name:de"]=F),placeholder:"Name"},null,512),[[vr,m.value["name:de"]]])]),_:1})]),G("div",Ade,[Tt(ra,{lang:"de",title:"Beschreibung"},{content:tn(()=>[Ede]),_:1})]),G("div",Tde,[Tt(ra,{lang:"en",title:"Titel (EN)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":T[1]||(T[1]=F=>m.value["name:en"]=F),placeholder:"Name"},null,512),[[vr,m.value["name:en"]]])]),_:1})]),G("div",Ode,[Tt(ra,{lang:"en",title:"Description"},{content:tn(()=>[Dde]),_:1})]),G("div",Rde,[G("button",{class:"button-primary",onClick:T[2]||(T[2]=F=>S())},nr(b.value),1),G("div",$de,[(Ke(!0),tt($r,null,to(_.errors,F=>(Ke(),tt("p",{key:F},nr(F),1))),128))])])])}}},Mde={class:"row"},Pde=G("h1",null,"Seite erstellen",-1),Ide=G("hr",{class:"divider"},null,-1),Nde={class:"row content-row"},zde={class:"row content-row"},Fde=G("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Lde={class:"row content-row"},Hde={class:"row content-row"},Vde=G("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Ude={class:"content-row"},Wde={class:"errorMessages"},jde={__name:"Edit",setup(f){const m=Bt({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""}),b=Bt("Erstellen"),y=up(),S=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen fr die Seite ein."),!1):!0,_=()=>{S()&&(b.value="Speichern...",m.value["description:de"]=br.get("editor_de").getContent(),m.value["description:en"]=br.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),zn.patch("/pages/"+y.params.id,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,router.push("/pages")}).catch(T=>{b.value="Erstellen",console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gespeichert werden. Bitte versuche es erneut.")}))};return Ga(async()=>{if(y.params.id){const T=await zn.get(`/pages/${y.params.id}`);m.value["name:de"]=T.data.translations[0].name,m.value["name:en"]=T.data.translations[1].name,m.value["description:de"]=T.data.translations[0].description,m.value["description:en"]=T.data.translations[1].description,m.value.status=T.data.status,b.value="Aktualisieren"}await br.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:ib.toString()+`
`+ub.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:T=>{T.on("init",()=>{T.setContent("<p></p>")})}}),setTimeout(()=>{br.get("editor_de").setContent(m.value["description:de"]),br.get("editor_en").setContent(m.value["description:en"])},100)}),b3(()=>{br.remove()}),(T,D)=>{const F=Va("router-Link");return Ke(),tt("main",null,[G("div",Mde,[Pde,Tt(F,{to:"/pages",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1})]),Ide,G("div",Nde,[Tt(ra,{lang:"de",title:"Titel (DE)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":D[0]||(D[0]=W=>m.value["name:de"]=W),placeholder:"Name"},null,512),[[vr,m.value["name:de"]]])]),_:1})]),G("div",zde,[Tt(ra,{lang:"de",title:"Beschreibung"},{content:tn(()=>[Fde]),_:1})]),G("div",Lde,[Tt(ra,{lang:"en",title:"Titel (EN)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":D[1]||(D[1]=W=>m.value["name:en"]=W),placeholder:"Name"},null,512),[[vr,m.value["name:en"]]])]),_:1})]),G("div",Hde,[Tt(ra,{lang:"en",title:"Description"},{content:tn(()=>[Vde]),_:1})]),G("div",Ude,[G("button",{class:"button-primary",onClick:D[2]||(D[2]=W=>_())},nr(b.value),1),G("div",Wde,[(Ke(!0),tt($r,null,to(T.errors,W=>(Ke(),tt("p",{key:W},nr(W),1))),128))])])])}}},Gde={class:"row"},qde=G("h1",null,"Alle Blogbeitragn",-1),Kde=G("hr",{class:"divider"},null,-1),Xde=G("img",{src:Rd,width:"20"},null,-1),Yde=["onClick"],Jde=G("img",{src:Tf,width:"20"},null,-1),Zde=[Jde],Qde={__name:"Overview",setup(f){const m=Bt([]),b=Bt(!1),y=Bt([{key:"name",title:"Name"}]),S=()=>{b.value=!0,zn.get("/blogs").then(T=>{b.value=!1,m.value=T.data}).catch(T=>{b.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{window.confirm("Sind Sie sicher, dass Sie diese Blogbeitrag lschen mchten?")&&zn.delete(`/blogs/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht gelscht werden. Bitte versuche es erneut.")})};return Ga(()=>{S()}),(T,D)=>{const F=Va("router-link"),W=Va("RouterLink");return Ke(),tt("main",null,[G("div",Gde,[qde,Tt(F,{to:"/blog-erstellen",class:"button-primary"},{default:tn(()=>[Or("Blogbeitrag hinzufgen")]),_:1})]),Kde,Tt(Zm,{tableData:m.value,tableColumns:y.value,loading:b.value},{actions:tn(()=>[Or(" Aktionen ")]),tableActions:tn(I=>[Tt(W,{to:`/blog-bearbeiten/${I.row.id}`},{default:tn(()=>[Xde]),_:2},1032,["to"]),G("button",{onClick:L=>_(I.row.id)},Zde,8,Yde)]),_:1},8,["tableData","tableColumns","loading"])])}}};const n8=f=>(g3("data-v-f09e198f"),f=f(),p3(),f),eme={class:"row"},tme=n8(()=>G("h1",null,"Blogbeitrag erstellen",-1)),nme=n8(()=>G("hr",{class:"divider"},null,-1)),rme={class:"row content-row"},ame={class:"row content-row"},ome={key:0,class:"imageUploader"},ime={class:"row content-row"},ume={class:"row"},sme=n8(()=>G("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1)),lme={class:"row content-row"},cme={class:"row content-row"},fme=n8(()=>G("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1)),vme={class:"content-row"},dme={class:"errorMessages"},mme={__name:"Create",setup(f){const m=Bt({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""});Bt(null);const b=Bt(!1),y=Bt("Erstellen"),S=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen fr die Blogbeitrag ein."),!1):!0,_=()=>{S()&&(y.value="Speichern...",m.value["description:de"]=br.get("editor_de").getContent(),m.value["description:en"]=br.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),zn.post("/blogs",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,router.push("/blog")}).catch(F=>{y.value="Erstellen",console.log(F),F.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht erstellt werden. Bitte versuche es erneut.")}))},T=F=>{const W=new FormData;W.append("file",F.target.files[0]),zn.post("/media",W,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(I=>{T.value=I.data.media.url}).catch(I=>{console.log(I),I.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})},D=()=>{br.get("editor_de").execCommand("mceInsertContent",!1,`<img src="${T.value}" />`),br.get("editor_en").execCommand("mceInsertContent",!1,`<img src="${T.value}" />`),b.value=!1};return Ga(async()=>{await br.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:ib.toString()+`
`+ub.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |   bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:F=>{F.on("init",()=>{F.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),b3(()=>{br.remove()}),(F,W)=>{const I=Va("router-Link");return Ke(),tt("main",null,[G("div",eme,[tme,Tt(I,{to:"/blog",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1})]),nme,G("div",rme,[Tt(ra,{lang:"de",title:"Titel (DE)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":W[0]||(W[0]=L=>m.value["name:de"]=L),placeholder:"Name"},null,512),[[vr,m.value["name:de"]]])]),_:1})]),G("div",ame,[Tt(ra,{lang:"de",title:"Beschreibung"},{content:tn(()=>[G("button",{class:"button-primary",style:{"margin-bottom":"10px",width:"max-content"},onClick:W[1]||(W[1]=L=>b.value=!0)}," Bild hochladen "),b.value?(Ke(),tt("div",ome,[G("div",ime,[G("input",{type:"file",onChange:T},null,32)]),G("div",ume,[G("button",{class:"button-primary",onClick:D}," Bild einsetzen "),G("button",{class:"button-secondary",onClick:W[2]||(W[2]=L=>b.value=!1)}," Abbrechen ")])])):Br("",!0),sme]),_:1})]),G("div",lme,[Tt(ra,{lang:"en",title:"Titel (EN)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":W[3]||(W[3]=L=>m.value["name:en"]=L),placeholder:"Name"},null,512),[[vr,m.value["name:en"]]])]),_:1})]),G("div",cme,[Tt(ra,{lang:"en",title:"Description"},{content:tn(()=>[fme]),_:1})]),G("div",vme,[G("button",{class:"button-primary",onClick:W[4]||(W[4]=L=>_())},nr(y.value),1),G("div",dme,[(Ke(!0),tt($r,null,to(F.errors,L=>(Ke(),tt("p",{key:L},nr(L),1))),128))])])])}}},hme=t2(mme,[["__scopeId","data-v-f09e198f"]]);const r8=f=>(g3("data-v-37f32f1e"),f=f(),p3(),f),gme={class:"row"},pme=r8(()=>G("h1",null,"Blogbeitrag erstellen",-1)),bme=r8(()=>G("hr",{class:"divider"},null,-1)),yme={class:"row content-row"},wme={class:"row content-row"},Cme={key:0,class:"imageUploader"},Sme={class:"row content-row"},_me={class:"row"},xme=r8(()=>G("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1)),kme={class:"row content-row"},Ame={class:"row content-row"},Eme=r8(()=>G("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1)),Tme={class:"content-row"},Ome={class:"errorMessages"},Dme={__name:"Edit",setup(f){const m=Bt({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""});Bt(null);const b=Bt(!1),y=Bt("Erstellen"),S=up(),_=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen fr die Blogbeitrag ein."),!1):!0,T=()=>{_()&&(y.value="Speichern...",m.value["description:de"]=br.get("editor_de").getContent(),m.value["description:en"]=br.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),zn.patch("/blogs/"+S.params.id,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,router.push("/blog")}).catch(W=>{y.value="Erstellen",console.log(W),W.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Blogbeitrag konnte nicht gespeichert werden. Bitte versuche es erneut.")}))},D=W=>{const I=new FormData;I.append("file",W.target.files[0]),zn.post("/media",I,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(L=>{D.value=L.data.media.url}).catch(L=>{console.log(L),L.response.status===401&&(window.alert("Sitzung abgelaufen. Bitte melden Sie sich erneut an."),sessionStorage.removeItem("token"),window.location.reload())})},F=()=>{br.get("editor_de").execCommand("mceInsertContent",!1,`<img src="${D.value}" />`),br.get("editor_en").execCommand("mceInsertContent",!1,`<img src="${D.value}" />`),b.value=!1};return Ga(async()=>{if(S.params.id){const W=await zn.get(`/blogs/${S.params.id}`);m.value["name:de"]=W.data.translations[0].name,m.value["name:en"]=W.data.translations[1].name,m.value["description:de"]=W.data.translations[0].description,m.value["description:en"]=W.data.translations[1].description,m.value.status=W.data.status,y.value="Aktualisieren"}await br.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:ib.toString()+`
`+ub.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:W=>{W.on("init",()=>{W.setContent("<p></p>")})}}),setTimeout(()=>{br.get("editor_de").setContent(m.value["description:de"]),br.get("editor_en").setContent(m.value["description:en"])},100)}),b3(()=>{br.remove()}),(W,I)=>{const L=Va("router-Link");return Ke(),tt("main",null,[G("div",gme,[pme,Tt(L,{to:"/blog",class:"button-primary"},{default:tn(()=>[Or("Abbrechen")]),_:1})]),bme,G("div",yme,[Tt(ra,{lang:"de",title:"Titel (DE)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":I[0]||(I[0]=P=>m.value["name:de"]=P),placeholder:"Name"},null,512),[[vr,m.value["name:de"]]])]),_:1})]),G("div",wme,[Tt(ra,{lang:"de",title:"Beschreibung"},{content:tn(()=>[G("button",{class:"button-primary",style:{"margin-bottom":"10px",width:"max-content"},onClick:I[1]||(I[1]=P=>b.value=!0)}," Bild hochladen "),b.value?(Ke(),tt("div",Cme,[G("div",Sme,[G("input",{type:"file",onChange:D},null,32)]),G("div",_me,[G("button",{class:"button-primary",onClick:F}," Bild einsetzen "),G("button",{class:"button-secondary",onClick:I[2]||(I[2]=P=>b.value=!1)}," Abbrechen ")])])):Br("",!0),xme]),_:1})]),G("div",kme,[Tt(ra,{lang:"en",title:"Titel (EN)"},{content:tn(()=>[ir(G("input",{type:"text","onUpdate:modelValue":I[3]||(I[3]=P=>m.value["name:en"]=P),placeholder:"Name"},null,512),[[vr,m.value["name:en"]]])]),_:1})]),G("div",Ame,[Tt(ra,{lang:"en",title:"Description"},{content:tn(()=>[Eme]),_:1})]),G("div",Tme,[G("button",{class:"button-primary",onClick:I[4]||(I[4]=P=>T())},nr(y.value),1),G("div",Ome,[(Ke(!0),tt($r,null,to(W.errors,P=>(Ke(),tt("p",{key:P},nr(P),1))),128))])])])}}},Rme=t2(Dme,[["__scopeId","data-v-37f32f1e"]]);const $me={},Bme=G("h1",null,"Dashboard",-1),Mme=G("hr",{class:"divider"},null,-1),Pme={class:"content-row"},Ime={class:"col"},Nme=G("h2",null,"Empfohlene Vorgehensweise",-1),zme=G("hr",{class:"divider"},null,-1),Fme=G("h3",null,"Zuerst Zertifikate, Sprachen und Guides erstellen",-1),Lme=G("p",null," Es ist ratsam, zuerst Guides und ihre Attribute anzulegen, da dies den Aufwand whrend der Tour-Erstellung verringert. ",-1),Hme={class:"col",style:{margin:"5px 0"}},Vme={class:"col",style:{margin:"5px 0"}},Ume={class:"col",style:{margin:"5px 0"}},Wme=G("h3",null,"Touren erstellen",-1),jme=G("p",null," Nachdem Sie Guides, Sprachen und Zertifikate erstellt und verknpft haben, knnen Sie mit dem Anlegen der Touren beginnen. Wenn Sie whrend der Tour-Erstellung feststellen, dass Sie einen Guide oder ein Zertifikat vergessen haben, knnen Sie diese auch whrend des Vorgangs erstellen. ",-1),Gme={class:"col",style:{margin:"5px 0"}};function qme(f,m){const b=Va("router-link");return Ke(),tt("div",null,[Bme,Mme,G("div",Pme,[G("div",Ime,[Nme,zme,G("ol",null,[G("li",null,[Fme,Lme,G("div",Hme,[Tt(b,{style:{display:"inline-block"},to:"/guides",class:"button-primary"},{default:tn(()=>[Or("Guides")]),_:1})]),G("div",Vme,[Tt(b,{style:{display:"inline-block"},to:"/sprachen",class:"button-primary"},{default:tn(()=>[Or("Sprachen")]),_:1})]),G("div",Ume,[Tt(b,{style:{display:"inline-block"},to:"/zertifikate",class:"button-primary"},{default:tn(()=>[Or("Zertifikate")]),_:1})])]),G("li",null,[Wme,jme,G("div",Gme,[Tt(b,{style:{display:"inline-block"},to:"/touren",class:"button-primary"},{default:tn(()=>[Or("Touren")]),_:1})])])])])])])}const Kme=t2($me,[["render",qme]]),Xme=Ine({history:ene("/"),routes:[{path:"/",name:"getting-started",component:Kme},{path:"/touren",name:"home",component:Uae},{path:"/tour-erstellen",name:"touren",component:oce},{path:"/tour-bearbeiten/:id",name:"tour-bearbeiten",component:xfe},{path:"/guides",name:"guides",component:$fe},{path:"/guide-erstellen",name:"guide-erstellen",component:Bfe},{path:"/guide-bearbeiten/:id",name:"guide-bearbeiten",component:Mfe},{path:"/sprachen",name:"sprachen",component:Vfe},{path:"/sprache-erstellen",name:"sprache-erstellen",component:Ufe},{path:"/sprache-bearbeiten/:id",name:"sprache-bearbeiten",component:Wfe},{path:"/mobilitaet",name:"mobilitt",component:Zfe},{path:"/mobilitaet-erstellen",name:"mobilitaet-erstellen",component:Qfe},{path:"/mobilitaet-bearbeiten/:id",name:"mobilitaet-bearbeiten",component:eve},{path:"/orte",name:"orte",component:sve},{path:"/ort-erstellen",name:"ort-erstellen",component:lve},{path:"/ort-bearbeiten/:id",name:"ort-bearbeiten",component:cve},{path:"/kategorien",name:"kategorien",component:bve},{path:"/kategorie-erstellen",name:"kategorie-erstellen",component:yve},{path:"/kategorie-bearbeiten/:id",name:"kategorie-bearbeiten",component:wve},{path:"/zertifikate",name:"zertifikate",component:Tve},{path:"/zertifikat-erstellen",name:"zertifikat-erstellen",component:Ove},{path:"/zertifikat-bearbeiten/:id",name:"zertifikat-bearbeiten",component:Dve},{path:"/skills",name:"skills",component:zve},{path:"/skill-erstellen",name:"skill-erstellen",component:Fve},{path:"/skill-bearbeiten/:id",name:"skill-bearbeiten",component:Lve},{path:"/verwaltung",name:"verwaltung",component:Kve},{path:"/verwaltung-erstellen",name:"verwaltung-erstellen",component:ade},{path:"/verwaltung-bearbeiten/:id",name:"verwaltung-bearbeiten",component:mde},{path:"/pages",name:"pages",component:Cde},{path:"/page-erstellen",name:"page-erstellen",component:Bde},{path:"/page-bearbeiten/:id",name:"page-bearbeiten",component:jde},{path:"/blog",name:"blog",component:Qde},{path:"/blog-erstellen",name:"blog-erstellen",component:hme},{path:"/blog-bearbeiten/:id",name:"blog-bearbeiten",component:Rme}],scrollBehavior(f,m,b){return{top:0}}});zn.defaults.baseURL="https://api.hamburger-gaestefuehrer.de/api";zn.defaults.headers.common["Access-Control-Allow-Origin"]="*";zn.defaults.headers.common["Content-Type"]="application/json";zn.defaults.withCredentials=!0;const d9=_te(xae);d9.use(Ete());d9.use(Xme);d9.mount("#app");
