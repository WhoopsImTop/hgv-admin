(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))b(S);new MutationObserver(S=>{for(const _ of S)if(_.type==="childList")for(const T of _.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&b(T)}).observe(document,{childList:!0,subtree:!0});function y(S){const _={};return S.integrity&&(_.integrity=S.integrity),S.referrerPolicy&&(_.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?_.credentials="include":S.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function b(S){if(S.ep)return;S.ep=!0;const _=y(S);fetch(S.href,_)}})();function TH(f,m){const y=Object.create(null),b=f.split(",");for(let S=0;S<b.length;S++)y[b[S]]=!0;return m?S=>!!y[S.toLowerCase()]:S=>!!y[S]}const yi={},r3=[],Wm=()=>{},QZ=()=>!1,eQ=/^on[^a-z]/,O6=f=>eQ.test(f),OH=f=>f.startsWith("onUpdate:"),js=Object.assign,DH=(f,m)=>{const y=f.indexOf(m);y>-1&&f.splice(y,1)},tQ=Object.prototype.hasOwnProperty,Ja=(f,m)=>tQ.call(f,m),Pr=Array.isArray,a3=f=>D5(f)==="[object Map]",D6=f=>D5(f)==="[object Set]",bU=f=>D5(f)==="[object Date]",pa=f=>typeof f=="function",Cs=f=>typeof f=="string",C5=f=>typeof f=="symbol",ai=f=>f!==null&&typeof f=="object",AW=f=>ai(f)&&pa(f.then)&&pa(f.catch),EW=Object.prototype.toString,D5=f=>EW.call(f),nQ=f=>D5(f).slice(8,-1),TW=f=>D5(f)==="[object Object]",RH=f=>Cs(f)&&f!=="NaN"&&f[0]!=="-"&&""+parseInt(f,10)===f,r6=TH(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),R6=f=>{const m=Object.create(null);return y=>m[y]||(m[y]=f(y))},rQ=/-(\w)/g,rp=R6(f=>f.replace(rQ,(m,y)=>y?y.toUpperCase():"")),aQ=/\B([A-Z])/g,FS=R6(f=>f.replace(aQ,"-$1").toLowerCase()),B6=R6(f=>f.charAt(0).toUpperCase()+f.slice(1)),K7=R6(f=>f?`on${B6(f)}`:""),S5=(f,m)=>!Object.is(f,m),a6=(f,m)=>{for(let y=0;y<f.length;y++)f[y](m)},v6=(f,m,y)=>{Object.defineProperty(f,m,{configurable:!0,enumerable:!1,value:y})},d6=f=>{const m=parseFloat(f);return isNaN(m)?f:m};let yU;const sH=()=>yU||(yU=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $6(f){if(Pr(f)){const m={};for(let y=0;y<f.length;y++){const b=f[y],S=Cs(b)?sQ(b):$6(b);if(S)for(const _ in S)m[_]=S[_]}return m}else{if(Cs(f))return f;if(ai(f))return f}}const oQ=/;(?![^(]*\))/g,iQ=/:([^]+)/,uQ=/\/\*[^]*?\*\//g;function sQ(f){const m={};return f.replace(uQ,"").split(oQ).forEach(y=>{if(y){const b=y.split(iQ);b.length>1&&(m[b[0].trim()]=b[1].trim())}}),m}function M6(f){let m="";if(Cs(f))m=f;else if(Pr(f))for(let y=0;y<f.length;y++){const b=M6(f[y]);b&&(m+=b+" ")}else if(ai(f))for(const y in f)f[y]&&(m+=y+" ");return m.trim()}const lQ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cQ=TH(lQ);function OW(f){return!!f||f===""}function fQ(f,m){if(f.length!==m.length)return!1;let y=!0;for(let b=0;y&&b<f.length;b++)y=P6(f[b],m[b]);return y}function P6(f,m){if(f===m)return!0;let y=bU(f),b=bU(m);if(y||b)return y&&b?f.getTime()===m.getTime():!1;if(y=C5(f),b=C5(m),y||b)return f===m;if(y=Pr(f),b=Pr(m),y||b)return y&&b?fQ(f,m):!1;if(y=ai(f),b=ai(m),y||b){if(!y||!b)return!1;const S=Object.keys(f).length,_=Object.keys(m).length;if(S!==_)return!1;for(const T in f){const D=f.hasOwnProperty(T),L=m.hasOwnProperty(T);if(D&&!L||!D&&L||!P6(f[T],m[T]))return!1}}return String(f)===String(m)}function vQ(f,m){return f.findIndex(y=>P6(y,m))}const fr=f=>Cs(f)?f:f==null?"":Pr(f)||ai(f)&&(f.toString===EW||!pa(f.toString))?JSON.stringify(f,DW,2):String(f),DW=(f,m)=>m&&m.__v_isRef?DW(f,m.value):a3(m)?{[`Map(${m.size})`]:[...m.entries()].reduce((y,[b,S])=>(y[`${b} =>`]=S,y),{})}:D6(m)?{[`Set(${m.size})`]:[...m.values()]}:ai(m)&&!Pr(m)&&!TW(m)?String(m):m;let zm;class RW{constructor(m=!1){this.detached=m,this._active=!0,this.effects=[],this.cleanups=[],this.parent=zm,!m&&zm&&(this.index=(zm.scopes||(zm.scopes=[])).push(this)-1)}get active(){return this._active}run(m){if(this._active){const y=zm;try{return zm=this,m()}finally{zm=y}}}on(){zm=this}off(){zm=this.parent}stop(m){if(this._active){let y,b;for(y=0,b=this.effects.length;y<b;y++)this.effects[y].stop();for(y=0,b=this.cleanups.length;y<b;y++)this.cleanups[y]();if(this.scopes)for(y=0,b=this.scopes.length;y<b;y++)this.scopes[y].stop(!0);if(!this.detached&&this.parent&&!m){const S=this.parent.scopes.pop();S&&S!==this&&(this.parent.scopes[this.index]=S,S.index=this.index)}this.parent=void 0,this._active=!1}}}function dQ(f){return new RW(f)}function mQ(f,m=zm){m&&m.active&&m.effects.push(f)}function hQ(){return zm}const BH=f=>{const m=new Set(f);return m.w=0,m.n=0,m},BW=f=>(f.w&Jy)>0,$W=f=>(f.n&Jy)>0,gQ=({deps:f})=>{if(f.length)for(let m=0;m<f.length;m++)f[m].w|=Jy},pQ=f=>{const{deps:m}=f;if(m.length){let y=0;for(let b=0;b<m.length;b++){const S=m[b];BW(S)&&!$W(S)?S.delete(f):m[y++]=S,S.w&=~Jy,S.n&=~Jy}m.length=y}},lH=new WeakMap;let m5=0,Jy=1;const cH=30;let Hm;const IS=Symbol(""),fH=Symbol("");class $H{constructor(m,y=null,b){this.fn=m,this.scheduler=y,this.active=!0,this.deps=[],this.parent=void 0,mQ(this,b)}run(){if(!this.active)return this.fn();let m=Hm,y=Xy;for(;m;){if(m===this)return;m=m.parent}try{return this.parent=Hm,Hm=this,Xy=!0,Jy=1<<++m5,m5<=cH?gQ(this):wU(this),this.fn()}finally{m5<=cH&&pQ(this),Jy=1<<--m5,Hm=this.parent,Xy=y,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Hm===this?this.deferStop=!0:this.active&&(wU(this),this.onStop&&this.onStop(),this.active=!1)}}function wU(f){const{deps:m}=f;if(m.length){for(let y=0;y<m.length;y++)m[y].delete(f);m.length=0}}let Xy=!0;const MW=[];function d3(){MW.push(Xy),Xy=!1}function m3(){const f=MW.pop();Xy=f===void 0?!0:f}function Af(f,m,y){if(Xy&&Hm){let b=lH.get(f);b||lH.set(f,b=new Map);let S=b.get(y);S||b.set(y,S=BH()),PW(S)}}function PW(f,m){let y=!1;m5<=cH?$W(f)||(f.n|=Jy,y=!BW(f)):y=!f.has(Hm),y&&(f.add(Hm),Hm.deps.push(f))}function r0(f,m,y,b,S,_){const T=lH.get(f);if(!T)return;let D=[];if(m==="clear")D=[...T.values()];else if(y==="length"&&Pr(f)){const L=Number(b);T.forEach((j,N)=>{(N==="length"||N>=L)&&D.push(j)})}else switch(y!==void 0&&D.push(T.get(y)),m){case"add":Pr(f)?RH(y)&&D.push(T.get("length")):(D.push(T.get(IS)),a3(f)&&D.push(T.get(fH)));break;case"delete":Pr(f)||(D.push(T.get(IS)),a3(f)&&D.push(T.get(fH)));break;case"set":a3(f)&&D.push(T.get(IS));break}if(D.length===1)D[0]&&vH(D[0]);else{const L=[];for(const j of D)j&&L.push(...j);vH(BH(L))}}function vH(f,m){const y=Pr(f)?f:[...f];for(const b of y)b.computed&&CU(b);for(const b of y)b.computed||CU(b)}function CU(f,m){(f!==Hm||f.allowRecurse)&&(f.scheduler?f.scheduler():f.run())}const bQ=TH("__proto__,__v_isRef,__isVue"),IW=new Set(Object.getOwnPropertyNames(Symbol).filter(f=>f!=="arguments"&&f!=="caller").map(f=>Symbol[f]).filter(C5)),yQ=MH(),wQ=MH(!1,!0),CQ=MH(!0),SU=SQ();function SQ(){const f={};return["includes","indexOf","lastIndexOf"].forEach(m=>{f[m]=function(...y){const b=mo(this);for(let _=0,T=this.length;_<T;_++)Af(b,"get",_+"");const S=b[m](...y);return S===-1||S===!1?b[m](...y.map(mo)):S}}),["push","pop","shift","unshift","splice"].forEach(m=>{f[m]=function(...y){d3();const b=mo(this)[m].apply(this,y);return m3(),b}}),f}function xQ(f){const m=mo(this);return Af(m,"has",f),m.hasOwnProperty(f)}function MH(f=!1,m=!1){return function(b,S,_){if(S==="__v_isReactive")return!f;if(S==="__v_isReadonly")return f;if(S==="__v_isShallow")return m;if(S==="__v_raw"&&_===(f?m?LQ:HW:m?zW:LW).get(b))return b;const T=Pr(b);if(!f){if(T&&Ja(SU,S))return Reflect.get(SU,S,_);if(S==="hasOwnProperty")return xQ}const D=Reflect.get(b,S,_);return(C5(S)?IW.has(S):bQ(S))||(f||Af(b,"get",S),m)?D:Gl(D)?T&&RH(S)?D:D.value:ai(D)?f?UW(D):N6(D):D}}const _Q=NW(),kQ=NW(!0);function NW(f=!1){return function(y,b,S,_){let T=y[b];if(u3(T)&&Gl(T)&&!Gl(S))return!1;if(!f&&(!m6(S)&&!u3(S)&&(T=mo(T),S=mo(S)),!Pr(y)&&Gl(T)&&!Gl(S)))return T.value=S,!0;const D=Pr(y)&&RH(b)?Number(b)<y.length:Ja(y,b),L=Reflect.set(y,b,S,_);return y===mo(_)&&(D?S5(S,T)&&r0(y,"set",b,S):r0(y,"add",b,S)),L}}function AQ(f,m){const y=Ja(f,m);f[m];const b=Reflect.deleteProperty(f,m);return b&&y&&r0(f,"delete",m,void 0),b}function EQ(f,m){const y=Reflect.has(f,m);return(!C5(m)||!IW.has(m))&&Af(f,"has",m),y}function TQ(f){return Af(f,"iterate",Pr(f)?"length":IS),Reflect.ownKeys(f)}const FW={get:yQ,set:_Q,deleteProperty:AQ,has:EQ,ownKeys:TQ},OQ={get:CQ,set(f,m){return!0},deleteProperty(f,m){return!0}},DQ=js({},FW,{get:wQ,set:kQ}),PH=f=>f,I6=f=>Reflect.getPrototypeOf(f);function JM(f,m,y=!1,b=!1){f=f.__v_raw;const S=mo(f),_=mo(m);y||(m!==_&&Af(S,"get",m),Af(S,"get",_));const{has:T}=I6(S),D=b?PH:y?LH:x5;if(T.call(S,m))return D(f.get(m));if(T.call(S,_))return D(f.get(_));f!==S&&f.get(m)}function ZM(f,m=!1){const y=this.__v_raw,b=mo(y),S=mo(f);return m||(f!==S&&Af(b,"has",f),Af(b,"has",S)),f===S?y.has(f):y.has(f)||y.has(S)}function QM(f,m=!1){return f=f.__v_raw,!m&&Af(mo(f),"iterate",IS),Reflect.get(f,"size",f)}function xU(f){f=mo(f);const m=mo(this);return I6(m).has.call(m,f)||(m.add(f),r0(m,"add",f,f)),this}function _U(f,m){m=mo(m);const y=mo(this),{has:b,get:S}=I6(y);let _=b.call(y,f);_||(f=mo(f),_=b.call(y,f));const T=S.call(y,f);return y.set(f,m),_?S5(m,T)&&r0(y,"set",f,m):r0(y,"add",f,m),this}function kU(f){const m=mo(this),{has:y,get:b}=I6(m);let S=y.call(m,f);S||(f=mo(f),S=y.call(m,f)),b&&b.call(m,f);const _=m.delete(f);return S&&r0(m,"delete",f,void 0),_}function AU(){const f=mo(this),m=f.size!==0,y=f.clear();return m&&r0(f,"clear",void 0,void 0),y}function e6(f,m){return function(b,S){const _=this,T=_.__v_raw,D=mo(T),L=m?PH:f?LH:x5;return!f&&Af(D,"iterate",IS),T.forEach((j,N)=>b.call(S,L(j),L(N),_))}}function t6(f,m,y){return function(...b){const S=this.__v_raw,_=mo(S),T=a3(_),D=f==="entries"||f===Symbol.iterator&&T,L=f==="keys"&&T,j=S[f](...b),N=y?PH:m?LH:x5;return!m&&Af(_,"iterate",L?fH:IS),{next(){const{value:V,done:P}=j.next();return P?{value:V,done:P}:{value:D?[N(V[0]),N(V[1])]:N(V),done:P}},[Symbol.iterator](){return this}}}}function Wy(f){return function(...m){return f==="delete"?!1:this}}function RQ(){const f={get(_){return JM(this,_)},get size(){return QM(this)},has:ZM,add:xU,set:_U,delete:kU,clear:AU,forEach:e6(!1,!1)},m={get(_){return JM(this,_,!1,!0)},get size(){return QM(this)},has:ZM,add:xU,set:_U,delete:kU,clear:AU,forEach:e6(!1,!0)},y={get(_){return JM(this,_,!0)},get size(){return QM(this,!0)},has(_){return ZM.call(this,_,!0)},add:Wy("add"),set:Wy("set"),delete:Wy("delete"),clear:Wy("clear"),forEach:e6(!0,!1)},b={get(_){return JM(this,_,!0,!0)},get size(){return QM(this,!0)},has(_){return ZM.call(this,_,!0)},add:Wy("add"),set:Wy("set"),delete:Wy("delete"),clear:Wy("clear"),forEach:e6(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(_=>{f[_]=t6(_,!1,!1),y[_]=t6(_,!0,!1),m[_]=t6(_,!1,!0),b[_]=t6(_,!0,!0)}),[f,y,m,b]}const[BQ,$Q,MQ,PQ]=RQ();function IH(f,m){const y=m?f?PQ:MQ:f?$Q:BQ;return(b,S,_)=>S==="__v_isReactive"?!f:S==="__v_isReadonly"?f:S==="__v_raw"?b:Reflect.get(Ja(y,S)&&S in b?y:b,S,_)}const IQ={get:IH(!1,!1)},NQ={get:IH(!1,!0)},FQ={get:IH(!0,!1)},LW=new WeakMap,zW=new WeakMap,HW=new WeakMap,LQ=new WeakMap;function zQ(f){switch(f){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function HQ(f){return f.__v_skip||!Object.isExtensible(f)?0:zQ(nQ(f))}function N6(f){return u3(f)?f:NH(f,!1,FW,IQ,LW)}function VW(f){return NH(f,!1,DQ,NQ,zW)}function UW(f){return NH(f,!0,OQ,FQ,HW)}function NH(f,m,y,b,S){if(!ai(f)||f.__v_raw&&!(m&&f.__v_isReactive))return f;const _=S.get(f);if(_)return _;const T=HQ(f);if(T===0)return f;const D=new Proxy(f,T===2?b:y);return S.set(f,D),D}function o3(f){return u3(f)?o3(f.__v_raw):!!(f&&f.__v_isReactive)}function u3(f){return!!(f&&f.__v_isReadonly)}function m6(f){return!!(f&&f.__v_isShallow)}function WW(f){return o3(f)||u3(f)}function mo(f){const m=f&&f.__v_raw;return m?mo(m):f}function FH(f){return v6(f,"__v_skip",!0),f}const x5=f=>ai(f)?N6(f):f,LH=f=>ai(f)?UW(f):f;function jW(f){Xy&&Hm&&(f=mo(f),PW(f.dep||(f.dep=BH())))}function GW(f,m){f=mo(f);const y=f.dep;y&&vH(y)}function Gl(f){return!!(f&&f.__v_isRef===!0)}function Ft(f){return qW(f,!1)}function VQ(f){return qW(f,!0)}function qW(f,m){return Gl(f)?f:new UQ(f,m)}class UQ{constructor(m,y){this.__v_isShallow=y,this.dep=void 0,this.__v_isRef=!0,this._rawValue=y?m:mo(m),this._value=y?m:x5(m)}get value(){return jW(this),this._value}set value(m){const y=this.__v_isShallow||m6(m)||u3(m);m=y?m:mo(m),S5(m,this._rawValue)&&(this._rawValue=m,this._value=y?m:x5(m),GW(this))}}function Lo(f){return Gl(f)?f.value:f}const WQ={get:(f,m,y)=>Lo(Reflect.get(f,m,y)),set:(f,m,y,b)=>{const S=f[m];return Gl(S)&&!Gl(y)?(S.value=y,!0):Reflect.set(f,m,y,b)}};function KW(f){return o3(f)?f:new Proxy(f,WQ)}class jQ{constructor(m,y,b,S){this._setter=y,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new $H(m,()=>{this._dirty||(this._dirty=!0,GW(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!S,this.__v_isReadonly=b}get value(){const m=mo(this);return jW(m),(m._dirty||!m._cacheable)&&(m._dirty=!1,m._value=m.effect.run()),m._value}set value(m){this._setter(m)}}function GQ(f,m,y=!1){let b,S;const _=pa(f);return _?(b=f,S=Wm):(b=f.get,S=f.set),new jQ(b,S,_||!S,y)}function Yy(f,m,y,b){let S;try{S=b?f(...b):f()}catch(_){F6(_,m,y)}return S}function jm(f,m,y,b){if(pa(f)){const _=Yy(f,m,y,b);return _&&AW(_)&&_.catch(T=>{F6(T,m,y)}),_}const S=[];for(let _=0;_<f.length;_++)S.push(jm(f[_],m,y,b));return S}function F6(f,m,y,b=!0){const S=m?m.vnode:null;if(m){let _=m.parent;const T=m.proxy,D=y;for(;_;){const j=_.ec;if(j){for(let N=0;N<j.length;N++)if(j[N](f,T,D)===!1)return}_=_.parent}const L=m.appContext.config.errorHandler;if(L){Yy(L,null,10,[f,T,D]);return}}qQ(f,y,S,b)}function qQ(f,m,y,b=!0){console.error(f)}let _5=!1,dH=!1;const jl=[];let np=0;const i3=[];let t0=null,DS=0;const XW=Promise.resolve();let zH=null;function YW(f){const m=zH||XW;return f?m.then(this?f.bind(this):f):m}function KQ(f){let m=np+1,y=jl.length;for(;m<y;){const b=m+y>>>1;k5(jl[b])<f?m=b+1:y=b}return m}function HH(f){(!jl.length||!jl.includes(f,_5&&f.allowRecurse?np+1:np))&&(f.id==null?jl.push(f):jl.splice(KQ(f.id),0,f),JW())}function JW(){!_5&&!dH&&(dH=!0,zH=XW.then(QW))}function XQ(f){const m=jl.indexOf(f);m>np&&jl.splice(m,1)}function YQ(f){Pr(f)?i3.push(...f):(!t0||!t0.includes(f,f.allowRecurse?DS+1:DS))&&i3.push(f),JW()}function EU(f,m=_5?np+1:0){for(;m<jl.length;m++){const y=jl[m];y&&y.pre&&(jl.splice(m,1),m--,y())}}function ZW(f){if(i3.length){const m=[...new Set(i3)];if(i3.length=0,t0){t0.push(...m);return}for(t0=m,t0.sort((y,b)=>k5(y)-k5(b)),DS=0;DS<t0.length;DS++)t0[DS]();t0=null,DS=0}}const k5=f=>f.id==null?1/0:f.id,JQ=(f,m)=>{const y=k5(f)-k5(m);if(y===0){if(f.pre&&!m.pre)return-1;if(m.pre&&!f.pre)return 1}return y};function QW(f){dH=!1,_5=!0,jl.sort(JQ);const m=Wm;try{for(np=0;np<jl.length;np++){const y=jl[np];y&&y.active!==!1&&Yy(y,null,14)}}finally{np=0,jl.length=0,ZW(),_5=!1,zH=null,(jl.length||i3.length)&&QW()}}function ZQ(f,m,...y){if(f.isUnmounted)return;const b=f.vnode.props||yi;let S=y;const _=m.startsWith("update:"),T=_&&m.slice(7);if(T&&T in b){const N=`${T==="modelValue"?"model":T}Modifiers`,{number:V,trim:P}=b[N]||yi;P&&(S=y.map(z=>Cs(z)?z.trim():z)),V&&(S=y.map(d6))}let D,L=b[D=K7(m)]||b[D=K7(rp(m))];!L&&_&&(L=b[D=K7(FS(m))]),L&&jm(L,f,6,S);const j=b[D+"Once"];if(j){if(!f.emitted)f.emitted={};else if(f.emitted[D])return;f.emitted[D]=!0,jm(j,f,6,S)}}function ej(f,m,y=!1){const b=m.emitsCache,S=b.get(f);if(S!==void 0)return S;const _=f.emits;let T={},D=!1;if(!pa(f)){const L=j=>{const N=ej(j,m,!0);N&&(D=!0,js(T,N))};!y&&m.mixins.length&&m.mixins.forEach(L),f.extends&&L(f.extends),f.mixins&&f.mixins.forEach(L)}return!_&&!D?(ai(f)&&b.set(f,null),null):(Pr(_)?_.forEach(L=>T[L]=null):js(T,_),ai(f)&&b.set(f,T),T)}function L6(f,m){return!f||!O6(m)?!1:(m=m.slice(2).replace(/Once$/,""),Ja(f,m[0].toLowerCase()+m.slice(1))||Ja(f,FS(m))||Ja(f,m))}let ql=null,z6=null;function h6(f){const m=ql;return ql=f,z6=f&&f.type.__scopeId||null,m}function H6(f){z6=f}function V6(){z6=null}function vn(f,m=ql,y){if(!m||f._n)return f;const b=(...S)=>{b._d&&FU(-1);const _=h6(m);let T;try{T=f(...S)}finally{h6(_),b._d&&FU(1)}return T};return b._n=!0,b._c=!0,b._d=!0,b}function X7(f){const{type:m,vnode:y,proxy:b,withProxy:S,props:_,propsOptions:[T],slots:D,attrs:L,emit:j,render:N,renderCache:V,data:P,setupState:z,ctx:X,inheritAttrs:G}=f;let Be,de;const $e=h6(f);try{if(y.shapeFlag&4){const Ee=S||b;Be=ep(N.call(Ee,Ee,V,_,z,P,X)),de=L}else{const Ee=m;Be=ep(Ee.length>1?Ee(_,{attrs:L,slots:D,emit:j}):Ee(_,null)),de=m.props?L:QQ(L)}}catch(Ee){b5.length=0,F6(Ee,f,1),Be=Lt(Zy)}let ue=Be;if(de&&G!==!1){const Ee=Object.keys(de),{shapeFlag:De}=ue;Ee.length&&De&7&&(T&&Ee.some(OH)&&(de=eee(de,T)),ue=s3(ue,de))}return y.dirs&&(ue=s3(ue),ue.dirs=ue.dirs?ue.dirs.concat(y.dirs):y.dirs),y.transition&&(ue.transition=y.transition),Be=ue,h6($e),Be}const QQ=f=>{let m;for(const y in f)(y==="class"||y==="style"||O6(y))&&((m||(m={}))[y]=f[y]);return m},eee=(f,m)=>{const y={};for(const b in f)(!OH(b)||!(b.slice(9)in m))&&(y[b]=f[b]);return y};function tee(f,m,y){const{props:b,children:S,component:_}=f,{props:T,children:D,patchFlag:L}=m,j=_.emitsOptions;if(m.dirs||m.transition)return!0;if(y&&L>=0){if(L&1024)return!0;if(L&16)return b?TU(b,T,j):!!T;if(L&8){const N=m.dynamicProps;for(let V=0;V<N.length;V++){const P=N[V];if(T[P]!==b[P]&&!L6(j,P))return!0}}}else return(S||D)&&(!D||!D.$stable)?!0:b===T?!1:b?T?TU(b,T,j):!0:!!T;return!1}function TU(f,m,y){const b=Object.keys(m);if(b.length!==Object.keys(f).length)return!0;for(let S=0;S<b.length;S++){const _=b[S];if(m[_]!==f[_]&&!L6(y,_))return!0}return!1}function nee({vnode:f,parent:m},y){for(;m&&m.subTree===f;)(f=m.vnode).el=y,m=m.parent}const ree=f=>f.__isSuspense;function aee(f,m){m&&m.pendingBranch?Pr(f)?m.effects.push(...f):m.effects.push(f):YQ(f)}const n6={};function Gm(f,m,y){return tj(f,m,y)}function tj(f,m,{immediate:y,deep:b,flush:S,onTrack:_,onTrigger:T}=yi){var D;const L=hQ()===((D=hl)==null?void 0:D.scope)?hl:null;let j,N=!1,V=!1;if(Gl(f)?(j=()=>f.value,N=m6(f)):o3(f)?(j=()=>f,b=!0):Pr(f)?(V=!0,N=f.some(Ee=>o3(Ee)||m6(Ee)),j=()=>f.map(Ee=>{if(Gl(Ee))return Ee.value;if(o3(Ee))return MS(Ee);if(pa(Ee))return Yy(Ee,L,2)})):pa(f)?m?j=()=>Yy(f,L,2):j=()=>{if(!(L&&L.isUnmounted))return P&&P(),jm(f,L,3,[z])}:j=Wm,m&&b){const Ee=j;j=()=>MS(Ee())}let P,z=Ee=>{P=$e.onStop=()=>{Yy(Ee,L,4)}},X;if(E5)if(z=Wm,m?y&&jm(m,L,3,[j(),V?[]:void 0,z]):j(),S==="sync"){const Ee=Kee();X=Ee.__watcherHandles||(Ee.__watcherHandles=[])}else return Wm;let G=V?new Array(f.length).fill(n6):n6;const Be=()=>{if($e.active)if(m){const Ee=$e.run();(b||N||(V?Ee.some((De,ke)=>S5(De,G[ke])):S5(Ee,G)))&&(P&&P(),jm(m,L,3,[Ee,G===n6?void 0:V&&G[0]===n6?[]:G,z]),G=Ee)}else $e.run()};Be.allowRecurse=!!m;let de;S==="sync"?de=Be:S==="post"?de=()=>_f(Be,L&&L.suspense):(Be.pre=!0,L&&(Be.id=L.uid),de=()=>HH(Be));const $e=new $H(j,de);m?y?Be():G=$e.run():S==="post"?_f($e.run.bind($e),L&&L.suspense):$e.run();const ue=()=>{$e.stop(),L&&L.scope&&DH(L.scope.effects,$e)};return X&&X.push(ue),ue}function oee(f,m,y){const b=this.proxy,S=Cs(f)?f.includes(".")?nj(b,f):()=>b[f]:f.bind(b,b);let _;pa(m)?_=m:(_=m.handler,y=m);const T=hl;l3(this);const D=tj(S,_.bind(b),y);return T?l3(T):NS(),D}function nj(f,m){const y=m.split(".");return()=>{let b=f;for(let S=0;S<y.length&&b;S++)b=b[y[S]];return b}}function MS(f,m){if(!ai(f)||f.__v_skip||(m=m||new Set,m.has(f)))return f;if(m.add(f),Gl(f))MS(f.value,m);else if(Pr(f))for(let y=0;y<f.length;y++)MS(f[y],m);else if(D6(f)||a3(f))f.forEach(y=>{MS(y,m)});else if(TW(f))for(const y in f)MS(f[y],m);return f}function gr(f,m){const y=ql;if(y===null)return f;const b=q6(y)||y.proxy,S=f.dirs||(f.dirs=[]);for(let _=0;_<m.length;_++){let[T,D,L,j=yi]=m[_];T&&(pa(T)&&(T={mounted:T,updated:T}),T.deep&&MS(D),S.push({dir:T,instance:b,value:D,oldValue:void 0,arg:L,modifiers:j}))}return f}function TS(f,m,y,b){const S=f.dirs,_=m&&m.dirs;for(let T=0;T<S.length;T++){const D=S[T];_&&(D.oldValue=_[T].value);let L=D.dir[b];L&&(d3(),jm(L,y,8,[f.el,D,f,m]),m3())}}function rj(f,m){return pa(f)?(()=>js({name:f.name},m,{setup:f}))():f}const g5=f=>!!f.type.__asyncLoader,aj=f=>f.type.__isKeepAlive;function iee(f,m){oj(f,"a",m)}function uee(f,m){oj(f,"da",m)}function oj(f,m,y=hl){const b=f.__wdc||(f.__wdc=()=>{let S=y;for(;S;){if(S.isDeactivated)return;S=S.parent}return f()});if(U6(m,b,y),y){let S=y.parent;for(;S&&S.parent;)aj(S.parent.vnode)&&see(b,m,y,S),S=S.parent}}function see(f,m,y,b){const S=U6(m,f,b,!0);VH(()=>{DH(b[m],S)},y)}function U6(f,m,y=hl,b=!1){if(y){const S=y[f]||(y[f]=[]),_=m.__weh||(m.__weh=(...T)=>{if(y.isUnmounted)return;d3(),l3(y);const D=jm(m,y,f,T);return NS(),m3(),D});return b?S.unshift(_):S.push(_),_}}const a0=f=>(m,y=hl)=>(!E5||f==="sp")&&U6(f,(...b)=>m(...b),y),ap=a0("bm"),ho=a0("m"),lee=a0("bu"),cee=a0("u"),W6=a0("bum"),VH=a0("um"),fee=a0("sp"),vee=a0("rtg"),dee=a0("rtc");function mee(f,m=hl){U6("ec",f,m)}const ij="components";function io(f,m){return gee(ij,f,!0,m)||f}const hee=Symbol.for("v-ndc");function gee(f,m,y=!0,b=!1){const S=ql||hl;if(S){const _=S.type;if(f===ij){const D=jee(_,!1);if(D&&(D===m||D===rp(m)||D===B6(rp(m))))return _}const T=OU(S[f]||_[f],m)||OU(S.appContext[f],m);return!T&&b?_:T}}function OU(f,m){return f&&(f[m]||f[rp(m)]||f[B6(rp(m))])}function So(f,m,y,b){let S;const _=y&&y[b];if(Pr(f)||Cs(f)){S=new Array(f.length);for(let T=0,D=f.length;T<D;T++)S[T]=m(f[T],T,void 0,_&&_[T])}else if(typeof f=="number"){S=new Array(f);for(let T=0;T<f;T++)S[T]=m(T+1,T,void 0,_&&_[T])}else if(ai(f))if(f[Symbol.iterator])S=Array.from(f,(T,D)=>m(T,D,void 0,_&&_[D]));else{const T=Object.keys(f);S=new Array(T.length);for(let D=0,L=T.length;D<L;D++){const j=T[D];S[D]=m(f[j],j,D,_&&_[D])}}else S=[];return y&&(y[b]=S),S}function mH(f,m,y={},b,S){if(ql.isCE||ql.parent&&g5(ql.parent)&&ql.parent.isCE)return m!=="default"&&(y.name=m),Lt("slot",y,b&&b());let _=f[m];_&&_._c&&(_._d=!1),nt();const T=_&&uj(_(y)),D=Td(Lr,{key:y.key||T&&T.key||`_${m}`},T||(b?b():[]),T&&f._===1?64:-2);return!S&&D.scopeId&&(D.slotScopeIds=[D.scopeId+"-s"]),_&&_._c&&(_._d=!0),D}function uj(f){return f.some(m=>b6(m)?!(m.type===Zy||m.type===Lr&&!uj(m.children)):!0)?f:null}const hH=f=>f?bj(f)?q6(f)||f.proxy:hH(f.parent):null,p5=js(Object.create(null),{$:f=>f,$el:f=>f.vnode.el,$data:f=>f.data,$props:f=>f.props,$attrs:f=>f.attrs,$slots:f=>f.slots,$refs:f=>f.refs,$parent:f=>hH(f.parent),$root:f=>hH(f.root),$emit:f=>f.emit,$options:f=>UH(f),$forceUpdate:f=>f.f||(f.f=()=>HH(f.update)),$nextTick:f=>f.n||(f.n=YW.bind(f.proxy)),$watch:f=>oee.bind(f)}),Y7=(f,m)=>f!==yi&&!f.__isScriptSetup&&Ja(f,m),pee={get({_:f},m){const{ctx:y,setupState:b,data:S,props:_,accessCache:T,type:D,appContext:L}=f;let j;if(m[0]!=="$"){const z=T[m];if(z!==void 0)switch(z){case 1:return b[m];case 2:return S[m];case 4:return y[m];case 3:return _[m]}else{if(Y7(b,m))return T[m]=1,b[m];if(S!==yi&&Ja(S,m))return T[m]=2,S[m];if((j=f.propsOptions[0])&&Ja(j,m))return T[m]=3,_[m];if(y!==yi&&Ja(y,m))return T[m]=4,y[m];gH&&(T[m]=0)}}const N=p5[m];let V,P;if(N)return m==="$attrs"&&Af(f,"get",m),N(f);if((V=D.__cssModules)&&(V=V[m]))return V;if(y!==yi&&Ja(y,m))return T[m]=4,y[m];if(P=L.config.globalProperties,Ja(P,m))return P[m]},set({_:f},m,y){const{data:b,setupState:S,ctx:_}=f;return Y7(S,m)?(S[m]=y,!0):b!==yi&&Ja(b,m)?(b[m]=y,!0):Ja(f.props,m)||m[0]==="$"&&m.slice(1)in f?!1:(_[m]=y,!0)},has({_:{data:f,setupState:m,accessCache:y,ctx:b,appContext:S,propsOptions:_}},T){let D;return!!y[T]||f!==yi&&Ja(f,T)||Y7(m,T)||(D=_[0])&&Ja(D,T)||Ja(b,T)||Ja(p5,T)||Ja(S.config.globalProperties,T)},defineProperty(f,m,y){return y.get!=null?f._.accessCache[m]=0:Ja(y,"value")&&this.set(f,m,y.value,null),Reflect.defineProperty(f,m,y)}};function DU(f){return Pr(f)?f.reduce((m,y)=>(m[y]=null,m),{}):f}let gH=!0;function bee(f){const m=UH(f),y=f.proxy,b=f.ctx;gH=!1,m.beforeCreate&&RU(m.beforeCreate,f,"bc");const{data:S,computed:_,methods:T,watch:D,provide:L,inject:j,created:N,beforeMount:V,mounted:P,beforeUpdate:z,updated:X,activated:G,deactivated:Be,beforeDestroy:de,beforeUnmount:$e,destroyed:ue,unmounted:Ee,render:De,renderTracked:ke,renderTriggered:Xe,errorCaptured:le,serverPrefetch:pe,expose:ye,inheritAttrs:Me,components:ne,directives:U,filters:xe}=m;if(j&&yee(j,b,null),T)for(const ge in T){const ut=T[ge];pa(ut)&&(b[ge]=ut.bind(y))}if(S){const ge=S.call(y,y);ai(ge)&&(f.data=N6(ge))}if(gH=!0,_)for(const ge in _){const ut=_[ge],$=pa(ut)?ut.bind(y,y):pa(ut.get)?ut.get.bind(y,y):Wm,xt=!pa(ut)&&pa(ut.set)?ut.set.bind(y):Wm,rt=ri({get:$,set:xt});Object.defineProperty(b,ge,{enumerable:!0,configurable:!0,get:()=>rt.value,set:at=>rt.value=at})}if(D)for(const ge in D)sj(D[ge],b,y,ge);if(L){const ge=pa(L)?L.call(y):L;Reflect.ownKeys(ge).forEach(ut=>{o6(ut,ge[ut])})}N&&RU(N,f,"c");function se(ge,ut){Pr(ut)?ut.forEach($=>ge($.bind(y))):ut&&ge(ut.bind(y))}if(se(ap,V),se(ho,P),se(lee,z),se(cee,X),se(iee,G),se(uee,Be),se(mee,le),se(dee,ke),se(vee,Xe),se(W6,$e),se(VH,Ee),se(fee,pe),Pr(ye))if(ye.length){const ge=f.exposed||(f.exposed={});ye.forEach(ut=>{Object.defineProperty(ge,ut,{get:()=>y[ut],set:$=>y[ut]=$})})}else f.exposed||(f.exposed={});De&&f.render===Wm&&(f.render=De),Me!=null&&(f.inheritAttrs=Me),ne&&(f.components=ne),U&&(f.directives=U)}function yee(f,m,y=Wm){Pr(f)&&(f=pH(f));for(const b in f){const S=f[b];let _;ai(S)?"default"in S?_=qm(S.from||b,S.default,!0):_=qm(S.from||b):_=qm(S),Gl(_)?Object.defineProperty(m,b,{enumerable:!0,configurable:!0,get:()=>_.value,set:T=>_.value=T}):m[b]=_}}function RU(f,m,y){jm(Pr(f)?f.map(b=>b.bind(m.proxy)):f.bind(m.proxy),m,y)}function sj(f,m,y,b){const S=b.includes(".")?nj(y,b):()=>y[b];if(Cs(f)){const _=m[f];pa(_)&&Gm(S,_)}else if(pa(f))Gm(S,f.bind(y));else if(ai(f))if(Pr(f))f.forEach(_=>sj(_,m,y,b));else{const _=pa(f.handler)?f.handler.bind(y):m[f.handler];pa(_)&&Gm(S,_,f)}}function UH(f){const m=f.type,{mixins:y,extends:b}=m,{mixins:S,optionsCache:_,config:{optionMergeStrategies:T}}=f.appContext,D=_.get(m);let L;return D?L=D:!S.length&&!y&&!b?L=m:(L={},S.length&&S.forEach(j=>g6(L,j,T,!0)),g6(L,m,T)),ai(m)&&_.set(m,L),L}function g6(f,m,y,b=!1){const{mixins:S,extends:_}=m;_&&g6(f,_,y,!0),S&&S.forEach(T=>g6(f,T,y,!0));for(const T in m)if(!(b&&T==="expose")){const D=wee[T]||y&&y[T];f[T]=D?D(f[T],m[T]):m[T]}return f}const wee={data:BU,props:$U,emits:$U,methods:h5,computed:h5,beforeCreate:Dc,created:Dc,beforeMount:Dc,mounted:Dc,beforeUpdate:Dc,updated:Dc,beforeDestroy:Dc,beforeUnmount:Dc,destroyed:Dc,unmounted:Dc,activated:Dc,deactivated:Dc,errorCaptured:Dc,serverPrefetch:Dc,components:h5,directives:h5,watch:See,provide:BU,inject:Cee};function BU(f,m){return m?f?function(){return js(pa(f)?f.call(this,this):f,pa(m)?m.call(this,this):m)}:m:f}function Cee(f,m){return h5(pH(f),pH(m))}function pH(f){if(Pr(f)){const m={};for(let y=0;y<f.length;y++)m[f[y]]=f[y];return m}return f}function Dc(f,m){return f?[...new Set([].concat(f,m))]:m}function h5(f,m){return f?js(Object.create(null),f,m):m}function $U(f,m){return f?Pr(f)&&Pr(m)?[...new Set([...f,...m])]:js(Object.create(null),DU(f),DU(m??{})):m}function See(f,m){if(!f)return m;if(!m)return f;const y=js(Object.create(null),f);for(const b in m)y[b]=Dc(f[b],m[b]);return y}function lj(){return{app:null,config:{isNativeTag:QZ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xee=0;function _ee(f,m){return function(b,S=null){pa(b)||(b=js({},b)),S!=null&&!ai(S)&&(S=null);const _=lj(),T=new Set;let D=!1;const L=_.app={_uid:xee++,_component:b,_props:S,_container:null,_context:_,_instance:null,version:Xee,get config(){return _.config},set config(j){},use(j,...N){return T.has(j)||(j&&pa(j.install)?(T.add(j),j.install(L,...N)):pa(j)&&(T.add(j),j(L,...N))),L},mixin(j){return _.mixins.includes(j)||_.mixins.push(j),L},component(j,N){return N?(_.components[j]=N,L):_.components[j]},directive(j,N){return N?(_.directives[j]=N,L):_.directives[j]},mount(j,N,V){if(!D){const P=Lt(b,S);return P.appContext=_,N&&m?m(P,j):f(P,j,V),D=!0,L._container=j,j.__vue_app__=L,q6(P.component)||P.component.proxy}},unmount(){D&&(f(null,L._container),delete L._container.__vue_app__)},provide(j,N){return _.provides[j]=N,L},runWithContext(j){p6=L;try{return j()}finally{p6=null}}};return L}}let p6=null;function o6(f,m){if(hl){let y=hl.provides;const b=hl.parent&&hl.parent.provides;b===y&&(y=hl.provides=Object.create(b)),y[f]=m}}function qm(f,m,y=!1){const b=hl||ql;if(b||p6){const S=b?b.parent==null?b.vnode.appContext&&b.vnode.appContext.provides:b.parent.provides:p6._context.provides;if(S&&f in S)return S[f];if(arguments.length>1)return y&&pa(m)?m.call(b&&b.proxy):m}}function kee(f,m,y,b=!1){const S={},_={};v6(_,G6,1),f.propsDefaults=Object.create(null),cj(f,m,S,_);for(const T in f.propsOptions[0])T in S||(S[T]=void 0);y?f.props=b?S:VW(S):f.type.props?f.props=S:f.props=_,f.attrs=_}function Aee(f,m,y,b){const{props:S,attrs:_,vnode:{patchFlag:T}}=f,D=mo(S),[L]=f.propsOptions;let j=!1;if((b||T>0)&&!(T&16)){if(T&8){const N=f.vnode.dynamicProps;for(let V=0;V<N.length;V++){let P=N[V];if(L6(f.emitsOptions,P))continue;const z=m[P];if(L)if(Ja(_,P))z!==_[P]&&(_[P]=z,j=!0);else{const X=rp(P);S[X]=bH(L,D,X,z,f,!1)}else z!==_[P]&&(_[P]=z,j=!0)}}}else{cj(f,m,S,_)&&(j=!0);let N;for(const V in D)(!m||!Ja(m,V)&&((N=FS(V))===V||!Ja(m,N)))&&(L?y&&(y[V]!==void 0||y[N]!==void 0)&&(S[V]=bH(L,D,V,void 0,f,!0)):delete S[V]);if(_!==D)for(const V in _)(!m||!Ja(m,V))&&(delete _[V],j=!0)}j&&r0(f,"set","$attrs")}function cj(f,m,y,b){const[S,_]=f.propsOptions;let T=!1,D;if(m)for(let L in m){if(r6(L))continue;const j=m[L];let N;S&&Ja(S,N=rp(L))?!_||!_.includes(N)?y[N]=j:(D||(D={}))[N]=j:L6(f.emitsOptions,L)||(!(L in b)||j!==b[L])&&(b[L]=j,T=!0)}if(_){const L=mo(y),j=D||yi;for(let N=0;N<_.length;N++){const V=_[N];y[V]=bH(S,L,V,j[V],f,!Ja(j,V))}}return T}function bH(f,m,y,b,S,_){const T=f[y];if(T!=null){const D=Ja(T,"default");if(D&&b===void 0){const L=T.default;if(T.type!==Function&&!T.skipFactory&&pa(L)){const{propsDefaults:j}=S;y in j?b=j[y]:(l3(S),b=j[y]=L.call(null,m),NS())}else b=L}T[0]&&(_&&!D?b=!1:T[1]&&(b===""||b===FS(y))&&(b=!0))}return b}function fj(f,m,y=!1){const b=m.propsCache,S=b.get(f);if(S)return S;const _=f.props,T={},D=[];let L=!1;if(!pa(f)){const N=V=>{L=!0;const[P,z]=fj(V,m,!0);js(T,P),z&&D.push(...z)};!y&&m.mixins.length&&m.mixins.forEach(N),f.extends&&N(f.extends),f.mixins&&f.mixins.forEach(N)}if(!_&&!L)return ai(f)&&b.set(f,r3),r3;if(Pr(_))for(let N=0;N<_.length;N++){const V=rp(_[N]);MU(V)&&(T[V]=yi)}else if(_)for(const N in _){const V=rp(N);if(MU(V)){const P=_[N],z=T[V]=Pr(P)||pa(P)?{type:P}:js({},P);if(z){const X=NU(Boolean,z.type),G=NU(String,z.type);z[0]=X>-1,z[1]=G<0||X<G,(X>-1||Ja(z,"default"))&&D.push(V)}}}const j=[T,D];return ai(f)&&b.set(f,j),j}function MU(f){return f[0]!=="$"}function PU(f){const m=f&&f.toString().match(/^\s*(function|class) (\w+)/);return m?m[2]:f===null?"null":""}function IU(f,m){return PU(f)===PU(m)}function NU(f,m){return Pr(m)?m.findIndex(y=>IU(y,f)):pa(m)&&IU(m,f)?0:-1}const vj=f=>f[0]==="_"||f==="$stable",WH=f=>Pr(f)?f.map(ep):[ep(f)],Eee=(f,m,y)=>{if(m._n)return m;const b=vn((...S)=>WH(m(...S)),y);return b._c=!1,b},dj=(f,m,y)=>{const b=f._ctx;for(const S in f){if(vj(S))continue;const _=f[S];if(pa(_))m[S]=Eee(S,_,b);else if(_!=null){const T=WH(_);m[S]=()=>T}}},mj=(f,m)=>{const y=WH(m);f.slots.default=()=>y},Tee=(f,m)=>{if(f.vnode.shapeFlag&32){const y=m._;y?(f.slots=mo(m),v6(m,"_",y)):dj(m,f.slots={})}else f.slots={},m&&mj(f,m);v6(f.slots,G6,1)},Oee=(f,m,y)=>{const{vnode:b,slots:S}=f;let _=!0,T=yi;if(b.shapeFlag&32){const D=m._;D?y&&D===1?_=!1:(js(S,m),!y&&D===1&&delete S._):(_=!m.$stable,dj(m,S)),T=m}else m&&(mj(f,m),T={default:1});if(_)for(const D in S)!vj(D)&&!(D in T)&&delete S[D]};function yH(f,m,y,b,S=!1){if(Pr(f)){f.forEach((P,z)=>yH(P,m&&(Pr(m)?m[z]:m),y,b,S));return}if(g5(b)&&!S)return;const _=b.shapeFlag&4?q6(b.component)||b.component.proxy:b.el,T=S?null:_,{i:D,r:L}=f,j=m&&m.r,N=D.refs===yi?D.refs={}:D.refs,V=D.setupState;if(j!=null&&j!==L&&(Cs(j)?(N[j]=null,Ja(V,j)&&(V[j]=null)):Gl(j)&&(j.value=null)),pa(L))Yy(L,D,12,[T,N]);else{const P=Cs(L),z=Gl(L);if(P||z){const X=()=>{if(f.f){const G=P?Ja(V,L)?V[L]:N[L]:L.value;S?Pr(G)&&DH(G,_):Pr(G)?G.includes(_)||G.push(_):P?(N[L]=[_],Ja(V,L)&&(V[L]=N[L])):(L.value=[_],f.k&&(N[f.k]=L.value))}else P?(N[L]=T,Ja(V,L)&&(V[L]=T)):z&&(L.value=T,f.k&&(N[f.k]=T))};T?(X.id=-1,_f(X,y)):X()}}}const _f=aee;function Dee(f){return Ree(f)}function Ree(f,m){const y=sH();y.__VUE__=!0;const{insert:b,remove:S,patchProp:_,createElement:T,createText:D,createComment:L,setText:j,setElementText:N,parentNode:V,nextSibling:P,setScopeId:z=Wm,insertStaticContent:X}=f,G=(Te,Ae,Ye,Qe=null,He=null,pt=null,Yt=!1,ot=null,Wt=!!Ae.dynamicChildren)=>{if(Te===Ae)return;Te&&!f5(Te,Ae)&&(Qe=te(Te),at(Te,He,pt,!0),Te=null),Ae.patchFlag===-2&&(Wt=!1,Ae.dynamicChildren=null);const{type:Ot,ref:It,shapeFlag:nn}=Ae;switch(Ot){case j6:Be(Te,Ae,Ye,Qe);break;case Zy:de(Te,Ae,Ye,Qe);break;case J7:Te==null&&$e(Ae,Ye,Qe,Yt);break;case Lr:ne(Te,Ae,Ye,Qe,He,pt,Yt,ot,Wt);break;default:nn&1?De(Te,Ae,Ye,Qe,He,pt,Yt,ot,Wt):nn&6?U(Te,Ae,Ye,Qe,He,pt,Yt,ot,Wt):(nn&64||nn&128)&&Ot.process(Te,Ae,Ye,Qe,He,pt,Yt,ot,Wt,Ue)}It!=null&&He&&yH(It,Te&&Te.ref,pt,Ae||Te,!Ae)},Be=(Te,Ae,Ye,Qe)=>{if(Te==null)b(Ae.el=D(Ae.children),Ye,Qe);else{const He=Ae.el=Te.el;Ae.children!==Te.children&&j(He,Ae.children)}},de=(Te,Ae,Ye,Qe)=>{Te==null?b(Ae.el=L(Ae.children||""),Ye,Qe):Ae.el=Te.el},$e=(Te,Ae,Ye,Qe)=>{[Te.el,Te.anchor]=X(Te.children,Ae,Ye,Qe,Te.el,Te.anchor)},ue=({el:Te,anchor:Ae},Ye,Qe)=>{let He;for(;Te&&Te!==Ae;)He=P(Te),b(Te,Ye,Qe),Te=He;b(Ae,Ye,Qe)},Ee=({el:Te,anchor:Ae})=>{let Ye;for(;Te&&Te!==Ae;)Ye=P(Te),S(Te),Te=Ye;S(Ae)},De=(Te,Ae,Ye,Qe,He,pt,Yt,ot,Wt)=>{Yt=Yt||Ae.type==="svg",Te==null?ke(Ae,Ye,Qe,He,pt,Yt,ot,Wt):pe(Te,Ae,He,pt,Yt,ot,Wt)},ke=(Te,Ae,Ye,Qe,He,pt,Yt,ot)=>{let Wt,Ot;const{type:It,props:nn,shapeFlag:pn,transition:jn,dirs:ir}=Te;if(Wt=Te.el=T(Te.type,pt,nn&&nn.is,nn),pn&8?N(Wt,Te.children):pn&16&&le(Te.children,Wt,null,Qe,He,pt&&It!=="foreignObject",Yt,ot),ir&&TS(Te,null,Qe,"created"),Xe(Wt,Te,Te.scopeId,Yt,Qe),nn){for(const tr in nn)tr!=="value"&&!r6(tr)&&_(Wt,tr,null,nn[tr],pt,Te.children,Qe,He,Sn);"value"in nn&&_(Wt,"value",null,nn.value),(Ot=nn.onVnodeBeforeMount)&&Qg(Ot,Qe,Te)}ir&&TS(Te,null,Qe,"beforeMount");const jr=(!He||He&&!He.pendingBranch)&&jn&&!jn.persisted;jr&&jn.beforeEnter(Wt),b(Wt,Ae,Ye),((Ot=nn&&nn.onVnodeMounted)||jr||ir)&&_f(()=>{Ot&&Qg(Ot,Qe,Te),jr&&jn.enter(Wt),ir&&TS(Te,null,Qe,"mounted")},He)},Xe=(Te,Ae,Ye,Qe,He)=>{if(Ye&&z(Te,Ye),Qe)for(let pt=0;pt<Qe.length;pt++)z(Te,Qe[pt]);if(He){let pt=He.subTree;if(Ae===pt){const Yt=He.vnode;Xe(Te,Yt,Yt.scopeId,Yt.slotScopeIds,He.parent)}}},le=(Te,Ae,Ye,Qe,He,pt,Yt,ot,Wt=0)=>{for(let Ot=Wt;Ot<Te.length;Ot++){const It=Te[Ot]=ot?qy(Te[Ot]):ep(Te[Ot]);G(null,It,Ae,Ye,Qe,He,pt,Yt,ot)}},pe=(Te,Ae,Ye,Qe,He,pt,Yt)=>{const ot=Ae.el=Te.el;let{patchFlag:Wt,dynamicChildren:Ot,dirs:It}=Ae;Wt|=Te.patchFlag&16;const nn=Te.props||yi,pn=Ae.props||yi;let jn;Ye&&OS(Ye,!1),(jn=pn.onVnodeBeforeUpdate)&&Qg(jn,Ye,Ae,Te),It&&TS(Ae,Te,Ye,"beforeUpdate"),Ye&&OS(Ye,!0);const ir=He&&Ae.type!=="foreignObject";if(Ot?ye(Te.dynamicChildren,Ot,ot,Ye,Qe,ir,pt):Yt||ut(Te,Ae,ot,null,Ye,Qe,ir,pt,!1),Wt>0){if(Wt&16)Me(ot,Ae,nn,pn,Ye,Qe,He);else if(Wt&2&&nn.class!==pn.class&&_(ot,"class",null,pn.class,He),Wt&4&&_(ot,"style",nn.style,pn.style,He),Wt&8){const jr=Ae.dynamicProps;for(let tr=0;tr<jr.length;tr++){const oa=jr[tr],fa=nn[oa],Jr=pn[oa];(Jr!==fa||oa==="value")&&_(ot,oa,fa,Jr,He,Te.children,Ye,Qe,Sn)}}Wt&1&&Te.children!==Ae.children&&N(ot,Ae.children)}else!Yt&&Ot==null&&Me(ot,Ae,nn,pn,Ye,Qe,He);((jn=pn.onVnodeUpdated)||It)&&_f(()=>{jn&&Qg(jn,Ye,Ae,Te),It&&TS(Ae,Te,Ye,"updated")},Qe)},ye=(Te,Ae,Ye,Qe,He,pt,Yt)=>{for(let ot=0;ot<Ae.length;ot++){const Wt=Te[ot],Ot=Ae[ot],It=Wt.el&&(Wt.type===Lr||!f5(Wt,Ot)||Wt.shapeFlag&70)?V(Wt.el):Ye;G(Wt,Ot,It,null,Qe,He,pt,Yt,!0)}},Me=(Te,Ae,Ye,Qe,He,pt,Yt)=>{if(Ye!==Qe){if(Ye!==yi)for(const ot in Ye)!r6(ot)&&!(ot in Qe)&&_(Te,ot,Ye[ot],null,Yt,Ae.children,He,pt,Sn);for(const ot in Qe){if(r6(ot))continue;const Wt=Qe[ot],Ot=Ye[ot];Wt!==Ot&&ot!=="value"&&_(Te,ot,Ot,Wt,Yt,Ae.children,He,pt,Sn)}"value"in Qe&&_(Te,"value",Ye.value,Qe.value)}},ne=(Te,Ae,Ye,Qe,He,pt,Yt,ot,Wt)=>{const Ot=Ae.el=Te?Te.el:D(""),It=Ae.anchor=Te?Te.anchor:D("");let{patchFlag:nn,dynamicChildren:pn,slotScopeIds:jn}=Ae;jn&&(ot=ot?ot.concat(jn):jn),Te==null?(b(Ot,Ye,Qe),b(It,Ye,Qe),le(Ae.children,Ye,It,He,pt,Yt,ot,Wt)):nn>0&&nn&64&&pn&&Te.dynamicChildren?(ye(Te.dynamicChildren,pn,Ye,He,pt,Yt,ot),(Ae.key!=null||He&&Ae===He.subTree)&&hj(Te,Ae,!0)):ut(Te,Ae,Ye,It,He,pt,Yt,ot,Wt)},U=(Te,Ae,Ye,Qe,He,pt,Yt,ot,Wt)=>{Ae.slotScopeIds=ot,Te==null?Ae.shapeFlag&512?He.ctx.activate(Ae,Ye,Qe,Yt,Wt):xe(Ae,Ye,Qe,He,pt,Yt,Wt):Ze(Te,Ae,Wt)},xe=(Te,Ae,Ye,Qe,He,pt,Yt)=>{const ot=Te.component=zee(Te,Qe,He);if(aj(Te)&&(ot.ctx.renderer=Ue),Hee(ot),ot.asyncDep){if(He&&He.registerDep(ot,se),!Te.el){const Wt=ot.subTree=Lt(Zy);de(null,Wt,Ae,Ye)}return}se(ot,Te,Ae,Ye,He,pt,Yt)},Ze=(Te,Ae,Ye)=>{const Qe=Ae.component=Te.component;if(tee(Te,Ae,Ye))if(Qe.asyncDep&&!Qe.asyncResolved){ge(Qe,Ae,Ye);return}else Qe.next=Ae,XQ(Qe.update),Qe.update();else Ae.el=Te.el,Qe.vnode=Ae},se=(Te,Ae,Ye,Qe,He,pt,Yt)=>{const ot=()=>{if(Te.isMounted){let{next:It,bu:nn,u:pn,parent:jn,vnode:ir}=Te,jr=It,tr;OS(Te,!1),It?(It.el=ir.el,ge(Te,It,Yt)):It=ir,nn&&a6(nn),(tr=It.props&&It.props.onVnodeBeforeUpdate)&&Qg(tr,jn,It,ir),OS(Te,!0);const oa=X7(Te),fa=Te.subTree;Te.subTree=oa,G(fa,oa,V(fa.el),te(fa),Te,He,pt),It.el=oa.el,jr===null&&nee(Te,oa.el),pn&&_f(pn,He),(tr=It.props&&It.props.onVnodeUpdated)&&_f(()=>Qg(tr,jn,It,ir),He)}else{let It;const{el:nn,props:pn}=Ae,{bm:jn,m:ir,parent:jr}=Te,tr=g5(Ae);if(OS(Te,!1),jn&&a6(jn),!tr&&(It=pn&&pn.onVnodeBeforeMount)&&Qg(It,jr,Ae),OS(Te,!0),nn&&Gn){const oa=()=>{Te.subTree=X7(Te),Gn(nn,Te.subTree,Te,He,null)};tr?Ae.type.__asyncLoader().then(()=>!Te.isUnmounted&&oa()):oa()}else{const oa=Te.subTree=X7(Te);G(null,oa,Ye,Qe,Te,He,pt),Ae.el=oa.el}if(ir&&_f(ir,He),!tr&&(It=pn&&pn.onVnodeMounted)){const oa=Ae;_f(()=>Qg(It,jr,oa),He)}(Ae.shapeFlag&256||jr&&g5(jr.vnode)&&jr.vnode.shapeFlag&256)&&Te.a&&_f(Te.a,He),Te.isMounted=!0,Ae=Ye=Qe=null}},Wt=Te.effect=new $H(ot,()=>HH(Ot),Te.scope),Ot=Te.update=()=>Wt.run();Ot.id=Te.uid,OS(Te,!0),Ot()},ge=(Te,Ae,Ye)=>{Ae.component=Te;const Qe=Te.vnode.props;Te.vnode=Ae,Te.next=null,Aee(Te,Ae.props,Qe,Ye),Oee(Te,Ae.children,Ye),d3(),EU(),m3()},ut=(Te,Ae,Ye,Qe,He,pt,Yt,ot,Wt=!1)=>{const Ot=Te&&Te.children,It=Te?Te.shapeFlag:0,nn=Ae.children,{patchFlag:pn,shapeFlag:jn}=Ae;if(pn>0){if(pn&128){xt(Ot,nn,Ye,Qe,He,pt,Yt,ot,Wt);return}else if(pn&256){$(Ot,nn,Ye,Qe,He,pt,Yt,ot,Wt);return}}jn&8?(It&16&&Sn(Ot,He,pt),nn!==Ot&&N(Ye,nn)):It&16?jn&16?xt(Ot,nn,Ye,Qe,He,pt,Yt,ot,Wt):Sn(Ot,He,pt,!0):(It&8&&N(Ye,""),jn&16&&le(nn,Ye,Qe,He,pt,Yt,ot,Wt))},$=(Te,Ae,Ye,Qe,He,pt,Yt,ot,Wt)=>{Te=Te||r3,Ae=Ae||r3;const Ot=Te.length,It=Ae.length,nn=Math.min(Ot,It);let pn;for(pn=0;pn<nn;pn++){const jn=Ae[pn]=Wt?qy(Ae[pn]):ep(Ae[pn]);G(Te[pn],jn,Ye,null,He,pt,Yt,ot,Wt)}Ot>It?Sn(Te,He,pt,!0,!1,nn):le(Ae,Ye,Qe,He,pt,Yt,ot,Wt,nn)},xt=(Te,Ae,Ye,Qe,He,pt,Yt,ot,Wt)=>{let Ot=0;const It=Ae.length;let nn=Te.length-1,pn=It-1;for(;Ot<=nn&&Ot<=pn;){const jn=Te[Ot],ir=Ae[Ot]=Wt?qy(Ae[Ot]):ep(Ae[Ot]);if(f5(jn,ir))G(jn,ir,Ye,null,He,pt,Yt,ot,Wt);else break;Ot++}for(;Ot<=nn&&Ot<=pn;){const jn=Te[nn],ir=Ae[pn]=Wt?qy(Ae[pn]):ep(Ae[pn]);if(f5(jn,ir))G(jn,ir,Ye,null,He,pt,Yt,ot,Wt);else break;nn--,pn--}if(Ot>nn){if(Ot<=pn){const jn=pn+1,ir=jn<It?Ae[jn].el:Qe;for(;Ot<=pn;)G(null,Ae[Ot]=Wt?qy(Ae[Ot]):ep(Ae[Ot]),Ye,ir,He,pt,Yt,ot,Wt),Ot++}}else if(Ot>pn)for(;Ot<=nn;)at(Te[Ot],He,pt,!0),Ot++;else{const jn=Ot,ir=Ot,jr=new Map;for(Ot=ir;Ot<=pn;Ot++){const ur=Ae[Ot]=Wt?qy(Ae[Ot]):ep(Ae[Ot]);ur.key!=null&&jr.set(ur.key,Ot)}let tr,oa=0;const fa=pn-ir+1;let Jr=!1,Ir=0;const va=new Array(fa);for(Ot=0;Ot<fa;Ot++)va[Ot]=0;for(Ot=jn;Ot<=nn;Ot++){const ur=Te[Ot];if(oa>=fa){at(ur,He,pt,!0);continue}let Ia;if(ur.key!=null)Ia=jr.get(ur.key);else for(tr=ir;tr<=pn;tr++)if(va[tr-ir]===0&&f5(ur,Ae[tr])){Ia=tr;break}Ia===void 0?at(ur,He,pt,!0):(va[Ia-ir]=Ot+1,Ia>=Ir?Ir=Ia:Jr=!0,G(ur,Ae[Ia],Ye,null,He,pt,Yt,ot,Wt),oa++)}const Hr=Jr?Bee(va):r3;for(tr=Hr.length-1,Ot=fa-1;Ot>=0;Ot--){const ur=ir+Ot,Ia=Ae[ur],Zi=ur+1<It?Ae[ur+1].el:Qe;va[Ot]===0?G(null,Ia,Ye,Zi,He,pt,Yt,ot,Wt):Jr&&(tr<0||Ot!==Hr[tr]?rt(Ia,Ye,Zi,2):tr--)}}},rt=(Te,Ae,Ye,Qe,He=null)=>{const{el:pt,type:Yt,transition:ot,children:Wt,shapeFlag:Ot}=Te;if(Ot&6){rt(Te.component.subTree,Ae,Ye,Qe);return}if(Ot&128){Te.suspense.move(Ae,Ye,Qe);return}if(Ot&64){Yt.move(Te,Ae,Ye,Ue);return}if(Yt===Lr){b(pt,Ae,Ye);for(let nn=0;nn<Wt.length;nn++)rt(Wt[nn],Ae,Ye,Qe);b(Te.anchor,Ae,Ye);return}if(Yt===J7){ue(Te,Ae,Ye);return}if(Qe!==2&&Ot&1&&ot)if(Qe===0)ot.beforeEnter(pt),b(pt,Ae,Ye),_f(()=>ot.enter(pt),He);else{const{leave:nn,delayLeave:pn,afterLeave:jn}=ot,ir=()=>b(pt,Ae,Ye),jr=()=>{nn(pt,()=>{ir(),jn&&jn()})};pn?pn(pt,ir,jr):jr()}else b(pt,Ae,Ye)},at=(Te,Ae,Ye,Qe=!1,He=!1)=>{const{type:pt,props:Yt,ref:ot,children:Wt,dynamicChildren:Ot,shapeFlag:It,patchFlag:nn,dirs:pn}=Te;if(ot!=null&&yH(ot,null,Ye,Te,!0),It&256){Ae.ctx.deactivate(Te);return}const jn=It&1&&pn,ir=!g5(Te);let jr;if(ir&&(jr=Yt&&Yt.onVnodeBeforeUnmount)&&Qg(jr,Ae,Te),It&6)lt(Te.component,Ye,Qe);else{if(It&128){Te.suspense.unmount(Ye,Qe);return}jn&&TS(Te,null,Ae,"beforeUnmount"),It&64?Te.type.remove(Te,Ae,Ye,He,Ue,Qe):Ot&&(pt!==Lr||nn>0&&nn&64)?Sn(Ot,Ae,Ye,!1,!0):(pt===Lr&&nn&384||!He&&It&16)&&Sn(Wt,Ae,Ye),Qe&&kn(Te)}(ir&&(jr=Yt&&Yt.onVnodeUnmounted)||jn)&&_f(()=>{jr&&Qg(jr,Ae,Te),jn&&TS(Te,null,Ae,"unmounted")},Ye)},kn=Te=>{const{type:Ae,el:Ye,anchor:Qe,transition:He}=Te;if(Ae===Lr){ln(Ye,Qe);return}if(Ae===J7){Ee(Te);return}const pt=()=>{S(Ye),He&&!He.persisted&&He.afterLeave&&He.afterLeave()};if(Te.shapeFlag&1&&He&&!He.persisted){const{leave:Yt,delayLeave:ot}=He,Wt=()=>Yt(Ye,pt);ot?ot(Te.el,pt,Wt):Wt()}else pt()},ln=(Te,Ae)=>{let Ye;for(;Te!==Ae;)Ye=P(Te),S(Te),Te=Ye;S(Ae)},lt=(Te,Ae,Ye)=>{const{bum:Qe,scope:He,update:pt,subTree:Yt,um:ot}=Te;Qe&&a6(Qe),He.stop(),pt&&(pt.active=!1,at(Yt,Te,Ae,Ye)),ot&&_f(ot,Ae),_f(()=>{Te.isUnmounted=!0},Ae),Ae&&Ae.pendingBranch&&!Ae.isUnmounted&&Te.asyncDep&&!Te.asyncResolved&&Te.suspenseId===Ae.pendingId&&(Ae.deps--,Ae.deps===0&&Ae.resolve())},Sn=(Te,Ae,Ye,Qe=!1,He=!1,pt=0)=>{for(let Yt=pt;Yt<Te.length;Yt++)at(Te[Yt],Ae,Ye,Qe,He)},te=Te=>Te.shapeFlag&6?te(Te.component.subTree):Te.shapeFlag&128?Te.suspense.next():P(Te.anchor||Te.el),cn=(Te,Ae,Ye)=>{Te==null?Ae._vnode&&at(Ae._vnode,null,null,!0):G(Ae._vnode||null,Te,Ae,null,null,null,Ye),EU(),ZW(),Ae._vnode=Te},Ue={p:G,um:at,m:rt,r:kn,mt:xe,mc:le,pc:ut,pbc:ye,n:te,o:f};let gt,Gn;return m&&([gt,Gn]=m(Ue)),{render:cn,hydrate:gt,createApp:_ee(cn,gt)}}function OS({effect:f,update:m},y){f.allowRecurse=m.allowRecurse=y}function hj(f,m,y=!1){const b=f.children,S=m.children;if(Pr(b)&&Pr(S))for(let _=0;_<b.length;_++){const T=b[_];let D=S[_];D.shapeFlag&1&&!D.dynamicChildren&&((D.patchFlag<=0||D.patchFlag===32)&&(D=S[_]=qy(S[_]),D.el=T.el),y||hj(T,D)),D.type===j6&&(D.el=T.el)}}function Bee(f){const m=f.slice(),y=[0];let b,S,_,T,D;const L=f.length;for(b=0;b<L;b++){const j=f[b];if(j!==0){if(S=y[y.length-1],f[S]<j){m[b]=S,y.push(b);continue}for(_=0,T=y.length-1;_<T;)D=_+T>>1,f[y[D]]<j?_=D+1:T=D;j<f[y[_]]&&(_>0&&(m[b]=y[_-1]),y[_]=b)}}for(_=y.length,T=y[_-1];_-- >0;)y[_]=T,T=m[T];return y}const $ee=f=>f.__isTeleport,Lr=Symbol.for("v-fgt"),j6=Symbol.for("v-txt"),Zy=Symbol.for("v-cmt"),J7=Symbol.for("v-stc"),b5=[];let Vm=null;function nt(f=!1){b5.push(Vm=f?null:[])}function Mee(){b5.pop(),Vm=b5[b5.length-1]||null}let A5=1;function FU(f){A5+=f}function gj(f){return f.dynamicChildren=A5>0?Vm||r3:null,Mee(),A5>0&&Vm&&Vm.push(f),f}function it(f,m,y,b,S,_){return gj(Z(f,m,y,b,S,_,!0))}function Td(f,m,y,b,S){return gj(Lt(f,m,y,b,S,!0))}function b6(f){return f?f.__v_isVNode===!0:!1}function f5(f,m){return f.type===m.type&&f.key===m.key}const G6="__vInternal",pj=({key:f})=>f??null,i6=({ref:f,ref_key:m,ref_for:y})=>(typeof f=="number"&&(f=""+f),f!=null?Cs(f)||Gl(f)||pa(f)?{i:ql,r:f,k:m,f:!!y}:f:null);function Z(f,m=null,y=null,b=0,S=null,_=f===Lr?0:1,T=!1,D=!1){const L={__v_isVNode:!0,__v_skip:!0,type:f,props:m,key:m&&pj(m),ref:m&&i6(m),scopeId:z6,slotScopeIds:null,children:y,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:_,patchFlag:b,dynamicProps:S,dynamicChildren:null,appContext:null,ctx:ql};return D?(jH(L,y),_&128&&f.normalize(L)):y&&(L.shapeFlag|=Cs(y)?8:16),A5>0&&!T&&Vm&&(L.patchFlag>0||_&6)&&L.patchFlag!==32&&Vm.push(L),L}const Lt=Pee;function Pee(f,m=null,y=null,b=0,S=null,_=!1){if((!f||f===hee)&&(f=Zy),b6(f)){const D=s3(f,m,!0);return y&&jH(D,y),A5>0&&!_&&Vm&&(D.shapeFlag&6?Vm[Vm.indexOf(f)]=D:Vm.push(D)),D.patchFlag|=-2,D}if(Gee(f)&&(f=f.__vccOpts),m){m=Iee(m);let{class:D,style:L}=m;D&&!Cs(D)&&(m.class=M6(D)),ai(L)&&(WW(L)&&!Pr(L)&&(L=js({},L)),m.style=$6(L))}const T=Cs(f)?1:ree(f)?128:$ee(f)?64:ai(f)?4:pa(f)?2:0;return Z(f,m,y,b,S,T,_,!0)}function Iee(f){return f?WW(f)||G6 in f?js({},f):f:null}function s3(f,m,y=!1){const{props:b,ref:S,patchFlag:_,children:T}=f,D=m?Nee(b||{},m):b;return{__v_isVNode:!0,__v_skip:!0,type:f.type,props:D,key:D&&pj(D),ref:m&&m.ref?y&&S?Pr(S)?S.concat(i6(m)):[S,i6(m)]:i6(m):S,scopeId:f.scopeId,slotScopeIds:f.slotScopeIds,children:T,target:f.target,targetAnchor:f.targetAnchor,staticCount:f.staticCount,shapeFlag:f.shapeFlag,patchFlag:m&&f.type!==Lr?_===-1?16:_|16:_,dynamicProps:f.dynamicProps,dynamicChildren:f.dynamicChildren,appContext:f.appContext,dirs:f.dirs,transition:f.transition,component:f.component,suspense:f.suspense,ssContent:f.ssContent&&s3(f.ssContent),ssFallback:f.ssFallback&&s3(f.ssFallback),el:f.el,anchor:f.anchor,ctx:f.ctx,ce:f.ce}}function Fr(f=" ",m=0){return Lt(j6,null,f,m)}function zr(f="",m=!1){return m?(nt(),Td(Zy,null,f)):Lt(Zy,null,f)}function ep(f){return f==null||typeof f=="boolean"?Lt(Zy):Pr(f)?Lt(Lr,null,f.slice()):typeof f=="object"?qy(f):Lt(j6,null,String(f))}function qy(f){return f.el===null&&f.patchFlag!==-1||f.memo?f:s3(f)}function jH(f,m){let y=0;const{shapeFlag:b}=f;if(m==null)m=null;else if(Pr(m))y=16;else if(typeof m=="object")if(b&65){const S=m.default;S&&(S._c&&(S._d=!1),jH(f,S()),S._c&&(S._d=!0));return}else{y=32;const S=m._;!S&&!(G6 in m)?m._ctx=ql:S===3&&ql&&(ql.slots._===1?m._=1:(m._=2,f.patchFlag|=1024))}else pa(m)?(m={default:m,_ctx:ql},y=32):(m=String(m),b&64?(y=16,m=[Fr(m)]):y=8);f.children=m,f.shapeFlag|=y}function Nee(...f){const m={};for(let y=0;y<f.length;y++){const b=f[y];for(const S in b)if(S==="class")m.class!==b.class&&(m.class=M6([m.class,b.class]));else if(S==="style")m.style=$6([m.style,b.style]);else if(O6(S)){const _=m[S],T=b[S];T&&_!==T&&!(Pr(_)&&_.includes(T))&&(m[S]=_?[].concat(_,T):T)}else S!==""&&(m[S]=b[S])}return m}function Qg(f,m,y,b=null){jm(f,m,7,[y,b])}const Fee=lj();let Lee=0;function zee(f,m,y){const b=f.type,S=(m?m.appContext:f.appContext)||Fee,_={uid:Lee++,vnode:f,type:b,parent:m,appContext:S,root:null,next:null,subTree:null,effect:null,update:null,scope:new RW(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:m?m.provides:Object.create(S.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fj(b,S),emitsOptions:ej(b,S),emit:null,emitted:null,propsDefaults:yi,inheritAttrs:b.inheritAttrs,ctx:yi,data:yi,props:yi,attrs:yi,slots:yi,refs:yi,setupState:yi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:y,suspenseId:y?y.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return _.ctx={_},_.root=m?m.root:_,_.emit=ZQ.bind(null,_),f.ce&&f.ce(_),_}let hl=null,GH,QA,LU="__VUE_INSTANCE_SETTERS__";(QA=sH()[LU])||(QA=sH()[LU]=[]),QA.push(f=>hl=f),GH=f=>{QA.length>1?QA.forEach(m=>m(f)):QA[0](f)};const l3=f=>{GH(f),f.scope.on()},NS=()=>{hl&&hl.scope.off(),GH(null)};function bj(f){return f.vnode.shapeFlag&4}let E5=!1;function Hee(f,m=!1){E5=m;const{props:y,children:b}=f.vnode,S=bj(f);kee(f,y,S,m),Tee(f,b);const _=S?Vee(f,m):void 0;return E5=!1,_}function Vee(f,m){const y=f.type;f.accessCache=Object.create(null),f.proxy=FH(new Proxy(f.ctx,pee));const{setup:b}=y;if(b){const S=f.setupContext=b.length>1?Wee(f):null;l3(f),d3();const _=Yy(b,f,0,[f.props,S]);if(m3(),NS(),AW(_)){if(_.then(NS,NS),m)return _.then(T=>{zU(f,T,m)}).catch(T=>{F6(T,f,0)});f.asyncDep=_}else zU(f,_,m)}else yj(f,m)}function zU(f,m,y){pa(m)?f.type.__ssrInlineRender?f.ssrRender=m:f.render=m:ai(m)&&(f.setupState=KW(m)),yj(f,y)}let HU;function yj(f,m,y){const b=f.type;if(!f.render){if(!m&&HU&&!b.render){const S=b.template||UH(f).template;if(S){const{isCustomElement:_,compilerOptions:T}=f.appContext.config,{delimiters:D,compilerOptions:L}=b,j=js(js({isCustomElement:_,delimiters:D},T),L);b.render=HU(S,j)}}f.render=b.render||Wm}l3(f),d3(),bee(f),m3(),NS()}function Uee(f){return f.attrsProxy||(f.attrsProxy=new Proxy(f.attrs,{get(m,y){return Af(f,"get","$attrs"),m[y]}}))}function Wee(f){const m=y=>{f.exposed=y||{}};return{get attrs(){return Uee(f)},slots:f.slots,emit:f.emit,expose:m}}function q6(f){if(f.exposed)return f.exposeProxy||(f.exposeProxy=new Proxy(KW(FH(f.exposed)),{get(m,y){if(y in m)return m[y];if(y in p5)return p5[y](f)},has(m,y){return y in m||y in p5}}))}function jee(f,m=!0){return pa(f)?f.displayName||f.name:f.name||m&&f.__name}function Gee(f){return pa(f)&&"__vccOpts"in f}const ri=(f,m)=>GQ(f,m,E5);function wj(f,m,y){const b=arguments.length;return b===2?ai(m)&&!Pr(m)?b6(m)?Lt(f,null,[m]):Lt(f,m):Lt(f,null,m):(b>3?y=Array.prototype.slice.call(arguments,2):b===3&&b6(y)&&(y=[y]),Lt(f,m,y))}const qee=Symbol.for("v-scx"),Kee=()=>qm(qee),Xee="3.3.4",Yee="http://www.w3.org/2000/svg",RS=typeof document<"u"?document:null,VU=RS&&RS.createElement("template"),Jee={insert:(f,m,y)=>{m.insertBefore(f,y||null)},remove:f=>{const m=f.parentNode;m&&m.removeChild(f)},createElement:(f,m,y,b)=>{const S=m?RS.createElementNS(Yee,f):RS.createElement(f,y?{is:y}:void 0);return f==="select"&&b&&b.multiple!=null&&S.setAttribute("multiple",b.multiple),S},createText:f=>RS.createTextNode(f),createComment:f=>RS.createComment(f),setText:(f,m)=>{f.nodeValue=m},setElementText:(f,m)=>{f.textContent=m},parentNode:f=>f.parentNode,nextSibling:f=>f.nextSibling,querySelector:f=>RS.querySelector(f),setScopeId(f,m){f.setAttribute(m,"")},insertStaticContent(f,m,y,b,S,_){const T=y?y.previousSibling:m.lastChild;if(S&&(S===_||S.nextSibling))for(;m.insertBefore(S.cloneNode(!0),y),!(S===_||!(S=S.nextSibling)););else{VU.innerHTML=b?`<svg>${f}</svg>`:f;const D=VU.content;if(b){const L=D.firstChild;for(;L.firstChild;)D.appendChild(L.firstChild);D.removeChild(L)}m.insertBefore(D,y)}return[T?T.nextSibling:m.firstChild,y?y.previousSibling:m.lastChild]}};function Zee(f,m,y){const b=f._vtc;b&&(m=(m?[m,...b]:[...b]).join(" ")),m==null?f.removeAttribute("class"):y?f.setAttribute("class",m):f.className=m}function Qee(f,m,y){const b=f.style,S=Cs(y);if(y&&!S){if(m&&!Cs(m))for(const _ in m)y[_]==null&&wH(b,_,"");for(const _ in y)wH(b,_,y[_])}else{const _=b.display;S?m!==y&&(b.cssText=y):m&&f.removeAttribute("style"),"_vod"in f&&(b.display=_)}}const UU=/\s*!important$/;function wH(f,m,y){if(Pr(y))y.forEach(b=>wH(f,m,b));else if(y==null&&(y=""),m.startsWith("--"))f.setProperty(m,y);else{const b=ete(f,m);UU.test(y)?f.setProperty(FS(b),y.replace(UU,""),"important"):f[b]=y}}const WU=["Webkit","Moz","ms"],Z7={};function ete(f,m){const y=Z7[m];if(y)return y;let b=rp(m);if(b!=="filter"&&b in f)return Z7[m]=b;b=B6(b);for(let S=0;S<WU.length;S++){const _=WU[S]+b;if(_ in f)return Z7[m]=_}return m}const jU="http://www.w3.org/1999/xlink";function tte(f,m,y,b,S){if(b&&m.startsWith("xlink:"))y==null?f.removeAttributeNS(jU,m.slice(6,m.length)):f.setAttributeNS(jU,m,y);else{const _=cQ(m);y==null||_&&!OW(y)?f.removeAttribute(m):f.setAttribute(m,_?"":y)}}function nte(f,m,y,b,S,_,T){if(m==="innerHTML"||m==="textContent"){b&&T(b,S,_),f[m]=y??"";return}const D=f.tagName;if(m==="value"&&D!=="PROGRESS"&&!D.includes("-")){f._value=y;const j=D==="OPTION"?f.getAttribute("value"):f.value,N=y??"";j!==N&&(f.value=N),y==null&&f.removeAttribute(m);return}let L=!1;if(y===""||y==null){const j=typeof f[m];j==="boolean"?y=OW(y):y==null&&j==="string"?(y="",L=!0):j==="number"&&(y=0,L=!0)}try{f[m]=y}catch{}L&&f.removeAttribute(m)}function BS(f,m,y,b){f.addEventListener(m,y,b)}function rte(f,m,y,b){f.removeEventListener(m,y,b)}function ate(f,m,y,b,S=null){const _=f._vei||(f._vei={}),T=_[m];if(b&&T)T.value=b;else{const[D,L]=ote(m);if(b){const j=_[m]=ste(b,S);BS(f,D,j,L)}else T&&(rte(f,D,T,L),_[m]=void 0)}}const GU=/(?:Once|Passive|Capture)$/;function ote(f){let m;if(GU.test(f)){m={};let b;for(;b=f.match(GU);)f=f.slice(0,f.length-b[0].length),m[b[0].toLowerCase()]=!0}return[f[2]===":"?f.slice(3):FS(f.slice(2)),m]}let Q7=0;const ite=Promise.resolve(),ute=()=>Q7||(ite.then(()=>Q7=0),Q7=Date.now());function ste(f,m){const y=b=>{if(!b._vts)b._vts=Date.now();else if(b._vts<=y.attached)return;jm(lte(b,y.value),m,5,[b])};return y.value=f,y.attached=ute(),y}function lte(f,m){if(Pr(m)){const y=f.stopImmediatePropagation;return f.stopImmediatePropagation=()=>{y.call(f),f._stopped=!0},m.map(b=>S=>!S._stopped&&b&&b(S))}else return m}const qU=/^on[a-z]/,cte=(f,m,y,b,S=!1,_,T,D,L)=>{m==="class"?Zee(f,b,S):m==="style"?Qee(f,y,b):O6(m)?OH(m)||ate(f,m,y,b,T):(m[0]==="."?(m=m.slice(1),!0):m[0]==="^"?(m=m.slice(1),!1):fte(f,m,b,S))?nte(f,m,b,_,T,D,L):(m==="true-value"?f._trueValue=b:m==="false-value"&&(f._falseValue=b),tte(f,m,b,S))};function fte(f,m,y,b){return b?!!(m==="innerHTML"||m==="textContent"||m in f&&qU.test(m)&&pa(y)):m==="spellcheck"||m==="draggable"||m==="translate"||m==="form"||m==="list"&&f.tagName==="INPUT"||m==="type"&&f.tagName==="TEXTAREA"||qU.test(m)&&Cs(y)?!1:m in f}const y6=f=>{const m=f.props["onUpdate:modelValue"]||!1;return Pr(m)?y=>a6(m,y):m};function vte(f){f.target.composing=!0}function KU(f){const m=f.target;m.composing&&(m.composing=!1,m.dispatchEvent(new Event("input")))}const wr={created(f,{modifiers:{lazy:m,trim:y,number:b}},S){f._assign=y6(S);const _=b||S.props&&S.props.type==="number";BS(f,m?"change":"input",T=>{if(T.target.composing)return;let D=f.value;y&&(D=D.trim()),_&&(D=d6(D)),f._assign(D)}),y&&BS(f,"change",()=>{f.value=f.value.trim()}),m||(BS(f,"compositionstart",vte),BS(f,"compositionend",KU),BS(f,"change",KU))},mounted(f,{value:m}){f.value=m??""},beforeUpdate(f,{value:m,modifiers:{lazy:y,trim:b,number:S}},_){if(f._assign=y6(_),f.composing||document.activeElement===f&&f.type!=="range"&&(y||b&&f.value.trim()===m||(S||f.type==="number")&&d6(f.value)===m))return;const T=m??"";f.value!==T&&(f.value=T)}},Cj={deep:!0,created(f,{value:m,modifiers:{number:y}},b){const S=D6(m);BS(f,"change",()=>{const _=Array.prototype.filter.call(f.options,T=>T.selected).map(T=>y?d6(w6(T)):w6(T));f._assign(f.multiple?S?new Set(_):_:_[0])}),f._assign=y6(b)},mounted(f,{value:m}){XU(f,m)},beforeUpdate(f,m,y){f._assign=y6(y)},updated(f,{value:m}){XU(f,m)}};function XU(f,m){const y=f.multiple;if(!(y&&!Pr(m)&&!D6(m))){for(let b=0,S=f.options.length;b<S;b++){const _=f.options[b],T=w6(_);if(y)Pr(m)?_.selected=vQ(m,T)>-1:_.selected=m.has(T);else if(P6(w6(_),m)){f.selectedIndex!==b&&(f.selectedIndex=b);return}}!y&&f.selectedIndex!==-1&&(f.selectedIndex=-1)}}function w6(f){return"_value"in f?f._value:f.value}const dte=["ctrl","shift","alt","meta"],mte={stop:f=>f.stopPropagation(),prevent:f=>f.preventDefault(),self:f=>f.target!==f.currentTarget,ctrl:f=>!f.ctrlKey,shift:f=>!f.shiftKey,alt:f=>!f.altKey,meta:f=>!f.metaKey,left:f=>"button"in f&&f.button!==0,middle:f=>"button"in f&&f.button!==1,right:f=>"button"in f&&f.button!==2,exact:(f,m)=>dte.some(y=>f[`${y}Key`]&&!m.includes(y))},hte=(f,m)=>(y,...b)=>{for(let S=0;S<m.length;S++){const _=mte[m[S]];if(_&&_(y,m))return}return f(y,...b)},gte={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},pte=(f,m)=>y=>{if(!("key"in y))return;const b=FS(y.key);if(m.some(S=>S===b||gte[S]===b))return f(y)},bte=js({patchProp:cte},Jee);let YU;function yte(){return YU||(YU=Dee(bte))}const wte=(...f)=>{const m=yte().createApp(...f),{mount:y}=m;return m.mount=b=>{const S=Cte(b);if(!S)return;const _=m._component;!pa(_)&&!_.render&&!_.template&&(_.template=S.innerHTML),S.innerHTML="";const T=y(S,!1,S instanceof SVGElement);return S instanceof Element&&(S.removeAttribute("v-cloak"),S.setAttribute("data-v-app","")),T},m};function Cte(f){return Cs(f)?document.querySelector(f):f}var Ste=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const xte=Symbol();var JU;(function(f){f.direct="direct",f.patchObject="patch object",f.patchFunction="patch function"})(JU||(JU={}));function _te(){const f=dQ(!0),m=f.run(()=>Ft({}));let y=[],b=[];const S=FH({install(_){S._a=_,_.provide(xte,S),_.config.globalProperties.$pinia=S,b.forEach(T=>y.push(T)),b=[]},use(_){return!this._a&&!Ste?b.push(_):y.push(_),this},_p:y,_a:null,_e:f,_s:new Map,state:m});return S}const Sj="/assets/logo-75c93bc1.svg",kte="/assets/tour-3908d667.svg",Ate="/assets/guide-2f617d29.svg",Ete="/assets/language-1f6f72b9.svg",Tte="/assets/mobility-6abf7304.svg",Ote="/assets/place-32612cab.svg",Dte="/assets/category-1c106769.svg",Rte="/assets/verify-af8a1288.svg",Bte="/assets/skill-6808aa68.svg",$te="/assets/page-2cc861e5.svg",Mte="/assets/usermanagement-a4fe644f.svg";/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const e3=typeof window<"u";function Pte(f){return f.__esModule||f[Symbol.toStringTag]==="Module"}const Ro=Object.assign;function eH(f,m){const y={};for(const b in m){const S=m[b];y[b]=Km(S)?S.map(f):f(S)}return y}const y5=()=>{},Km=Array.isArray,Ite=/\/$/,Nte=f=>f.replace(Ite,"");function tH(f,m,y="/"){let b,S={},_="",T="";const D=m.indexOf("#");let L=m.indexOf("?");return D<L&&D>=0&&(L=-1),L>-1&&(b=m.slice(0,L),_=m.slice(L+1,D>-1?D:m.length),S=f(_)),D>-1&&(b=b||m.slice(0,D),T=m.slice(D,m.length)),b=Hte(b??m,y),{fullPath:b+(_&&"?")+_+T,path:b,query:S,hash:T}}function Fte(f,m){const y=m.query?f(m.query):"";return m.path+(y&&"?")+y+(m.hash||"")}function ZU(f,m){return!m||!f.toLowerCase().startsWith(m.toLowerCase())?f:f.slice(m.length)||"/"}function Lte(f,m,y){const b=m.matched.length-1,S=y.matched.length-1;return b>-1&&b===S&&c3(m.matched[b],y.matched[S])&&xj(m.params,y.params)&&f(m.query)===f(y.query)&&m.hash===y.hash}function c3(f,m){return(f.aliasOf||f)===(m.aliasOf||m)}function xj(f,m){if(Object.keys(f).length!==Object.keys(m).length)return!1;for(const y in f)if(!zte(f[y],m[y]))return!1;return!0}function zte(f,m){return Km(f)?QU(f,m):Km(m)?QU(m,f):f===m}function QU(f,m){return Km(m)?f.length===m.length&&f.every((y,b)=>y===m[b]):f.length===1&&f[0]===m}function Hte(f,m){if(f.startsWith("/"))return f;if(!f)return m;const y=m.split("/"),b=f.split("/"),S=b[b.length-1];(S===".."||S===".")&&b.push("");let _=y.length-1,T,D;for(T=0;T<b.length;T++)if(D=b[T],D!==".")if(D==="..")_>1&&_--;else break;return y.slice(0,_).join("/")+"/"+b.slice(T-(T===b.length?1:0)).join("/")}var T5;(function(f){f.pop="pop",f.push="push"})(T5||(T5={}));var w5;(function(f){f.back="back",f.forward="forward",f.unknown=""})(w5||(w5={}));function Vte(f){if(!f)if(e3){const m=document.querySelector("base");f=m&&m.getAttribute("href")||"/",f=f.replace(/^\w+:\/\/[^\/]+/,"")}else f="/";return f[0]!=="/"&&f[0]!=="#"&&(f="/"+f),Nte(f)}const Ute=/^[^#]+#/;function Wte(f,m){return f.replace(Ute,"#")+m}function jte(f,m){const y=document.documentElement.getBoundingClientRect(),b=f.getBoundingClientRect();return{behavior:m.behavior,left:b.left-y.left-(m.left||0),top:b.top-y.top-(m.top||0)}}const K6=()=>({left:window.pageXOffset,top:window.pageYOffset});function Gte(f){let m;if("el"in f){const y=f.el,b=typeof y=="string"&&y.startsWith("#"),S=typeof y=="string"?b?document.getElementById(y.slice(1)):document.querySelector(y):y;if(!S)return;m=jte(S,f)}else m=f;"scrollBehavior"in document.documentElement.style?window.scrollTo(m):window.scrollTo(m.left!=null?m.left:window.pageXOffset,m.top!=null?m.top:window.pageYOffset)}function eW(f,m){return(history.state?history.state.position-m:-1)+f}const CH=new Map;function qte(f,m){CH.set(f,m)}function Kte(f){const m=CH.get(f);return CH.delete(f),m}let Xte=()=>location.protocol+"//"+location.host;function _j(f,m){const{pathname:y,search:b,hash:S}=m,_=f.indexOf("#");if(_>-1){let D=S.includes(f.slice(_))?f.slice(_).length:1,L=S.slice(D);return L[0]!=="/"&&(L="/"+L),ZU(L,"")}return ZU(y,f)+b+S}function Yte(f,m,y,b){let S=[],_=[],T=null;const D=({state:P})=>{const z=_j(f,location),X=y.value,G=m.value;let Be=0;if(P){if(y.value=z,m.value=P,T&&T===X){T=null;return}Be=G?P.position-G.position:0}else b(z);S.forEach(de=>{de(y.value,X,{delta:Be,type:T5.pop,direction:Be?Be>0?w5.forward:w5.back:w5.unknown})})};function L(){T=y.value}function j(P){S.push(P);const z=()=>{const X=S.indexOf(P);X>-1&&S.splice(X,1)};return _.push(z),z}function N(){const{history:P}=window;P.state&&P.replaceState(Ro({},P.state,{scroll:K6()}),"")}function V(){for(const P of _)P();_=[],window.removeEventListener("popstate",D),window.removeEventListener("beforeunload",N)}return window.addEventListener("popstate",D),window.addEventListener("beforeunload",N,{passive:!0}),{pauseListeners:L,listen:j,destroy:V}}function tW(f,m,y,b=!1,S=!1){return{back:f,current:m,forward:y,replaced:b,position:window.history.length,scroll:S?K6():null}}function Jte(f){const{history:m,location:y}=window,b={value:_j(f,y)},S={value:m.state};S.value||_(b.value,{back:null,current:b.value,forward:null,position:m.length-1,replaced:!0,scroll:null},!0);function _(L,j,N){const V=f.indexOf("#"),P=V>-1?(y.host&&document.querySelector("base")?f:f.slice(V))+L:Xte()+f+L;try{m[N?"replaceState":"pushState"](j,"",P),S.value=j}catch(z){console.error(z),y[N?"replace":"assign"](P)}}function T(L,j){const N=Ro({},m.state,tW(S.value.back,L,S.value.forward,!0),j,{position:S.value.position});_(L,N,!0),b.value=L}function D(L,j){const N=Ro({},S.value,m.state,{forward:L,scroll:K6()});_(N.current,N,!0);const V=Ro({},tW(b.value,L,null),{position:N.position+1},j);_(L,V,!1),b.value=L}return{location:b,state:S,push:D,replace:T}}function Zte(f){f=Vte(f);const m=Jte(f),y=Yte(f,m.state,m.location,m.replace);function b(_,T=!0){T||y.pauseListeners(),history.go(_)}const S=Ro({location:"",base:f,go:b,createHref:Wte.bind(null,f)},m,y);return Object.defineProperty(S,"location",{enumerable:!0,get:()=>m.location.value}),Object.defineProperty(S,"state",{enumerable:!0,get:()=>m.state.value}),S}function Qte(f){return typeof f=="string"||f&&typeof f=="object"}function kj(f){return typeof f=="string"||typeof f=="symbol"}const jy={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Aj=Symbol("");var nW;(function(f){f[f.aborted=4]="aborted",f[f.cancelled=8]="cancelled",f[f.duplicated=16]="duplicated"})(nW||(nW={}));function f3(f,m){return Ro(new Error,{type:f,[Aj]:!0},m)}function e0(f,m){return f instanceof Error&&Aj in f&&(m==null||!!(f.type&m))}const rW="[^/]+?",ene={sensitive:!1,strict:!1,start:!0,end:!0},tne=/[.+*?^${}()[\]/\\]/g;function nne(f,m){const y=Ro({},ene,m),b=[];let S=y.start?"^":"";const _=[];for(const j of f){const N=j.length?[]:[90];y.strict&&!j.length&&(S+="/");for(let V=0;V<j.length;V++){const P=j[V];let z=40+(y.sensitive?.25:0);if(P.type===0)V||(S+="/"),S+=P.value.replace(tne,"\\$&"),z+=40;else if(P.type===1){const{value:X,repeatable:G,optional:Be,regexp:de}=P;_.push({name:X,repeatable:G,optional:Be});const $e=de||rW;if($e!==rW){z+=10;try{new RegExp(`(${$e})`)}catch(Ee){throw new Error(`Invalid custom RegExp for param "${X}" (${$e}): `+Ee.message)}}let ue=G?`((?:${$e})(?:/(?:${$e}))*)`:`(${$e})`;V||(ue=Be&&j.length<2?`(?:/${ue})`:"/"+ue),Be&&(ue+="?"),S+=ue,z+=20,Be&&(z+=-8),G&&(z+=-20),$e===".*"&&(z+=-50)}N.push(z)}b.push(N)}if(y.strict&&y.end){const j=b.length-1;b[j][b[j].length-1]+=.7000000000000001}y.strict||(S+="/?"),y.end?S+="$":y.strict&&(S+="(?:/|$)");const T=new RegExp(S,y.sensitive?"":"i");function D(j){const N=j.match(T),V={};if(!N)return null;for(let P=1;P<N.length;P++){const z=N[P]||"",X=_[P-1];V[X.name]=z&&X.repeatable?z.split("/"):z}return V}function L(j){let N="",V=!1;for(const P of f){(!V||!N.endsWith("/"))&&(N+="/"),V=!1;for(const z of P)if(z.type===0)N+=z.value;else if(z.type===1){const{value:X,repeatable:G,optional:Be}=z,de=X in j?j[X]:"";if(Km(de)&&!G)throw new Error(`Provided param "${X}" is an array but it is not repeatable (* or + modifiers)`);const $e=Km(de)?de.join("/"):de;if(!$e)if(Be)P.length<2&&(N.endsWith("/")?N=N.slice(0,-1):V=!0);else throw new Error(`Missing required param "${X}"`);N+=$e}}return N||"/"}return{re:T,score:b,keys:_,parse:D,stringify:L}}function rne(f,m){let y=0;for(;y<f.length&&y<m.length;){const b=m[y]-f[y];if(b)return b;y++}return f.length<m.length?f.length===1&&f[0]===40+40?-1:1:f.length>m.length?m.length===1&&m[0]===40+40?1:-1:0}function ane(f,m){let y=0;const b=f.score,S=m.score;for(;y<b.length&&y<S.length;){const _=rne(b[y],S[y]);if(_)return _;y++}if(Math.abs(S.length-b.length)===1){if(aW(b))return 1;if(aW(S))return-1}return S.length-b.length}function aW(f){const m=f[f.length-1];return f.length>0&&m[m.length-1]<0}const one={type:0,value:""},ine=/[a-zA-Z0-9_]/;function une(f){if(!f)return[[]];if(f==="/")return[[one]];if(!f.startsWith("/"))throw new Error(`Invalid path "${f}"`);function m(z){throw new Error(`ERR (${y})/"${j}": ${z}`)}let y=0,b=y;const S=[];let _;function T(){_&&S.push(_),_=[]}let D=0,L,j="",N="";function V(){j&&(y===0?_.push({type:0,value:j}):y===1||y===2||y===3?(_.length>1&&(L==="*"||L==="+")&&m(`A repeatable param (${j}) must be alone in its segment. eg: '/:ids+.`),_.push({type:1,value:j,regexp:N,repeatable:L==="*"||L==="+",optional:L==="*"||L==="?"})):m("Invalid state to consume buffer"),j="")}function P(){j+=L}for(;D<f.length;){if(L=f[D++],L==="\\"&&y!==2){b=y,y=4;continue}switch(y){case 0:L==="/"?(j&&V(),T()):L===":"?(V(),y=1):P();break;case 4:P(),y=b;break;case 1:L==="("?y=2:ine.test(L)?P():(V(),y=0,L!=="*"&&L!=="?"&&L!=="+"&&D--);break;case 2:L===")"?N[N.length-1]=="\\"?N=N.slice(0,-1)+L:y=3:N+=L;break;case 3:V(),y=0,L!=="*"&&L!=="?"&&L!=="+"&&D--,N="";break;default:m("Unknown state");break}}return y===2&&m(`Unfinished custom RegExp for param "${j}"`),V(),T(),S}function sne(f,m,y){const b=nne(une(f.path),y),S=Ro(b,{record:f,parent:m,children:[],alias:[]});return m&&!S.record.aliasOf==!m.record.aliasOf&&m.children.push(S),S}function lne(f,m){const y=[],b=new Map;m=uW({strict:!1,end:!0,sensitive:!1},m);function S(N){return b.get(N)}function _(N,V,P){const z=!P,X=cne(N);X.aliasOf=P&&P.record;const G=uW(m,N),Be=[X];if("alias"in N){const ue=typeof N.alias=="string"?[N.alias]:N.alias;for(const Ee of ue)Be.push(Ro({},X,{components:P?P.record.components:X.components,path:Ee,aliasOf:P?P.record:X}))}let de,$e;for(const ue of Be){const{path:Ee}=ue;if(V&&Ee[0]!=="/"){const De=V.record.path,ke=De[De.length-1]==="/"?"":"/";ue.path=V.record.path+(Ee&&ke+Ee)}if(de=sne(ue,V,G),P?P.alias.push(de):($e=$e||de,$e!==de&&$e.alias.push(de),z&&N.name&&!iW(de)&&T(N.name)),X.children){const De=X.children;for(let ke=0;ke<De.length;ke++)_(De[ke],de,P&&P.children[ke])}P=P||de,(de.record.components&&Object.keys(de.record.components).length||de.record.name||de.record.redirect)&&L(de)}return $e?()=>{T($e)}:y5}function T(N){if(kj(N)){const V=b.get(N);V&&(b.delete(N),y.splice(y.indexOf(V),1),V.children.forEach(T),V.alias.forEach(T))}else{const V=y.indexOf(N);V>-1&&(y.splice(V,1),N.record.name&&b.delete(N.record.name),N.children.forEach(T),N.alias.forEach(T))}}function D(){return y}function L(N){let V=0;for(;V<y.length&&ane(N,y[V])>=0&&(N.record.path!==y[V].record.path||!Ej(N,y[V]));)V++;y.splice(V,0,N),N.record.name&&!iW(N)&&b.set(N.record.name,N)}function j(N,V){let P,z={},X,G;if("name"in N&&N.name){if(P=b.get(N.name),!P)throw f3(1,{location:N});G=P.record.name,z=Ro(oW(V.params,P.keys.filter($e=>!$e.optional).map($e=>$e.name)),N.params&&oW(N.params,P.keys.map($e=>$e.name))),X=P.stringify(z)}else if("path"in N)X=N.path,P=y.find($e=>$e.re.test(X)),P&&(z=P.parse(X),G=P.record.name);else{if(P=V.name?b.get(V.name):y.find($e=>$e.re.test(V.path)),!P)throw f3(1,{location:N,currentLocation:V});G=P.record.name,z=Ro({},V.params,N.params),X=P.stringify(z)}const Be=[];let de=P;for(;de;)Be.unshift(de.record),de=de.parent;return{name:G,path:X,params:z,matched:Be,meta:vne(Be)}}return f.forEach(N=>_(N)),{addRoute:_,resolve:j,removeRoute:T,getRoutes:D,getRecordMatcher:S}}function oW(f,m){const y={};for(const b of m)b in f&&(y[b]=f[b]);return y}function cne(f){return{path:f.path,redirect:f.redirect,name:f.name,meta:f.meta||{},aliasOf:void 0,beforeEnter:f.beforeEnter,props:fne(f),children:f.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in f?f.components||null:f.component&&{default:f.component}}}function fne(f){const m={},y=f.props||!1;if("component"in f)m.default=y;else for(const b in f.components)m[b]=typeof y=="object"?y[b]:y;return m}function iW(f){for(;f;){if(f.record.aliasOf)return!0;f=f.parent}return!1}function vne(f){return f.reduce((m,y)=>Ro(m,y.meta),{})}function uW(f,m){const y={};for(const b in f)y[b]=b in m?m[b]:f[b];return y}function Ej(f,m){return m.children.some(y=>y===f||Ej(f,y))}const Tj=/#/g,dne=/&/g,mne=/\//g,hne=/=/g,gne=/\?/g,Oj=/\+/g,pne=/%5B/g,bne=/%5D/g,Dj=/%5E/g,yne=/%60/g,Rj=/%7B/g,wne=/%7C/g,Bj=/%7D/g,Cne=/%20/g;function qH(f){return encodeURI(""+f).replace(wne,"|").replace(pne,"[").replace(bne,"]")}function Sne(f){return qH(f).replace(Rj,"{").replace(Bj,"}").replace(Dj,"^")}function SH(f){return qH(f).replace(Oj,"%2B").replace(Cne,"+").replace(Tj,"%23").replace(dne,"%26").replace(yne,"`").replace(Rj,"{").replace(Bj,"}").replace(Dj,"^")}function xne(f){return SH(f).replace(hne,"%3D")}function _ne(f){return qH(f).replace(Tj,"%23").replace(gne,"%3F")}function kne(f){return f==null?"":_ne(f).replace(mne,"%2F")}function C6(f){try{return decodeURIComponent(""+f)}catch{}return""+f}function Ane(f){const m={};if(f===""||f==="?")return m;const b=(f[0]==="?"?f.slice(1):f).split("&");for(let S=0;S<b.length;++S){const _=b[S].replace(Oj," "),T=_.indexOf("="),D=C6(T<0?_:_.slice(0,T)),L=T<0?null:C6(_.slice(T+1));if(D in m){let j=m[D];Km(j)||(j=m[D]=[j]),j.push(L)}else m[D]=L}return m}function sW(f){let m="";for(let y in f){const b=f[y];if(y=xne(y),b==null){b!==void 0&&(m+=(m.length?"&":"")+y);continue}(Km(b)?b.map(_=>_&&SH(_)):[b&&SH(b)]).forEach(_=>{_!==void 0&&(m+=(m.length?"&":"")+y,_!=null&&(m+="="+_))})}return m}function Ene(f){const m={};for(const y in f){const b=f[y];b!==void 0&&(m[y]=Km(b)?b.map(S=>S==null?null:""+S):b==null?b:""+b)}return m}const Tne=Symbol(""),lW=Symbol(""),X6=Symbol(""),KH=Symbol(""),xH=Symbol("");function v5(){let f=[];function m(b){return f.push(b),()=>{const S=f.indexOf(b);S>-1&&f.splice(S,1)}}function y(){f=[]}return{add:m,list:()=>f.slice(),reset:y}}function Ky(f,m,y,b,S){const _=b&&(b.enterCallbacks[S]=b.enterCallbacks[S]||[]);return()=>new Promise((T,D)=>{const L=V=>{V===!1?D(f3(4,{from:y,to:m})):V instanceof Error?D(V):Qte(V)?D(f3(2,{from:m,to:V})):(_&&b.enterCallbacks[S]===_&&typeof V=="function"&&_.push(V),T())},j=f.call(b&&b.instances[S],m,y,L);let N=Promise.resolve(j);f.length<3&&(N=N.then(L)),N.catch(V=>D(V))})}function nH(f,m,y,b){const S=[];for(const _ of f)for(const T in _.components){let D=_.components[T];if(!(m!=="beforeRouteEnter"&&!_.instances[T]))if(One(D)){const j=(D.__vccOpts||D)[m];j&&S.push(Ky(j,y,b,_,T))}else{let L=D();S.push(()=>L.then(j=>{if(!j)return Promise.reject(new Error(`Couldn't resolve component "${T}" at "${_.path}"`));const N=Pte(j)?j.default:j;_.components[T]=N;const P=(N.__vccOpts||N)[m];return P&&Ky(P,y,b,_,T)()}))}}return S}function One(f){return typeof f=="object"||"displayName"in f||"props"in f||"__vccOpts"in f}function cW(f){const m=qm(X6),y=qm(KH),b=ri(()=>m.resolve(Lo(f.to))),S=ri(()=>{const{matched:L}=b.value,{length:j}=L,N=L[j-1],V=y.matched;if(!N||!V.length)return-1;const P=V.findIndex(c3.bind(null,N));if(P>-1)return P;const z=fW(L[j-2]);return j>1&&fW(N)===z&&V[V.length-1].path!==z?V.findIndex(c3.bind(null,L[j-2])):P}),_=ri(()=>S.value>-1&&Bne(y.params,b.value.params)),T=ri(()=>S.value>-1&&S.value===y.matched.length-1&&xj(y.params,b.value.params));function D(L={}){return Rne(L)?m[Lo(f.replace)?"replace":"push"](Lo(f.to)).catch(y5):Promise.resolve()}return{route:b,href:ri(()=>b.value.href),isActive:_,isExactActive:T,navigate:D}}const Dne=rj({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:cW,setup(f,{slots:m}){const y=N6(cW(f)),{options:b}=qm(X6),S=ri(()=>({[vW(f.activeClass,b.linkActiveClass,"router-link-active")]:y.isActive,[vW(f.exactActiveClass,b.linkExactActiveClass,"router-link-exact-active")]:y.isExactActive}));return()=>{const _=m.default&&m.default(y);return f.custom?_:wj("a",{"aria-current":y.isExactActive?f.ariaCurrentValue:null,href:y.href,onClick:y.navigate,class:S.value},_)}}}),kv=Dne;function Rne(f){if(!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)&&!f.defaultPrevented&&!(f.button!==void 0&&f.button!==0)){if(f.currentTarget&&f.currentTarget.getAttribute){const m=f.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(m))return}return f.preventDefault&&f.preventDefault(),!0}}function Bne(f,m){for(const y in m){const b=m[y],S=f[y];if(typeof b=="string"){if(b!==S)return!1}else if(!Km(S)||S.length!==b.length||b.some((_,T)=>_!==S[T]))return!1}return!0}function fW(f){return f?f.aliasOf?f.aliasOf.path:f.path:""}const vW=(f,m,y)=>f??m??y,$ne=rj({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(f,{attrs:m,slots:y}){const b=qm(xH),S=ri(()=>f.route||b.value),_=qm(lW,0),T=ri(()=>{let j=Lo(_);const{matched:N}=S.value;let V;for(;(V=N[j])&&!V.components;)j++;return j}),D=ri(()=>S.value.matched[T.value]);o6(lW,ri(()=>T.value+1)),o6(Tne,D),o6(xH,S);const L=Ft();return Gm(()=>[L.value,D.value,f.name],([j,N,V],[P,z,X])=>{N&&(N.instances[V]=j,z&&z!==N&&j&&j===P&&(N.leaveGuards.size||(N.leaveGuards=z.leaveGuards),N.updateGuards.size||(N.updateGuards=z.updateGuards))),j&&N&&(!z||!c3(N,z)||!P)&&(N.enterCallbacks[V]||[]).forEach(G=>G(j))},{flush:"post"}),()=>{const j=S.value,N=f.name,V=D.value,P=V&&V.components[N];if(!P)return dW(y.default,{Component:P,route:j});const z=V.props[N],X=z?z===!0?j.params:typeof z=="function"?z(j):z:null,Be=wj(P,Ro({},X,m,{onVnodeUnmounted:de=>{de.component.isUnmounted&&(V.instances[N]=null)},ref:L}));return dW(y.default,{Component:Be,route:j})||Be}}});function dW(f,m){if(!f)return null;const y=f(m);return y.length===1?y[0]:y}const $j=$ne;function Mne(f){const m=lne(f.routes,f),y=f.parseQuery||Ane,b=f.stringifyQuery||sW,S=f.history,_=v5(),T=v5(),D=v5(),L=VQ(jy);let j=jy;e3&&f.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const N=eH.bind(null,te=>""+te),V=eH.bind(null,kne),P=eH.bind(null,C6);function z(te,cn){let Ue,gt;return kj(te)?(Ue=m.getRecordMatcher(te),gt=cn):gt=te,m.addRoute(gt,Ue)}function X(te){const cn=m.getRecordMatcher(te);cn&&m.removeRoute(cn)}function G(){return m.getRoutes().map(te=>te.record)}function Be(te){return!!m.getRecordMatcher(te)}function de(te,cn){if(cn=Ro({},cn||L.value),typeof te=="string"){const Ye=tH(y,te,cn.path),Qe=m.resolve({path:Ye.path},cn),He=S.createHref(Ye.fullPath);return Ro(Ye,Qe,{params:P(Qe.params),hash:C6(Ye.hash),redirectedFrom:void 0,href:He})}let Ue;if("path"in te)Ue=Ro({},te,{path:tH(y,te.path,cn.path).path});else{const Ye=Ro({},te.params);for(const Qe in Ye)Ye[Qe]==null&&delete Ye[Qe];Ue=Ro({},te,{params:V(Ye)}),cn.params=V(cn.params)}const gt=m.resolve(Ue,cn),Gn=te.hash||"";gt.params=N(P(gt.params));const Te=Fte(b,Ro({},te,{hash:Sne(Gn),path:gt.path})),Ae=S.createHref(Te);return Ro({fullPath:Te,hash:Gn,query:b===sW?Ene(te.query):te.query||{}},gt,{redirectedFrom:void 0,href:Ae})}function $e(te){return typeof te=="string"?tH(y,te,L.value.path):Ro({},te)}function ue(te,cn){if(j!==te)return f3(8,{from:cn,to:te})}function Ee(te){return Xe(te)}function De(te){return Ee(Ro($e(te),{replace:!0}))}function ke(te){const cn=te.matched[te.matched.length-1];if(cn&&cn.redirect){const{redirect:Ue}=cn;let gt=typeof Ue=="function"?Ue(te):Ue;return typeof gt=="string"&&(gt=gt.includes("?")||gt.includes("#")?gt=$e(gt):{path:gt},gt.params={}),Ro({query:te.query,hash:te.hash,params:"path"in gt?{}:te.params},gt)}}function Xe(te,cn){const Ue=j=de(te),gt=L.value,Gn=te.state,Te=te.force,Ae=te.replace===!0,Ye=ke(Ue);if(Ye)return Xe(Ro($e(Ye),{state:typeof Ye=="object"?Ro({},Gn,Ye.state):Gn,force:Te,replace:Ae}),cn||Ue);const Qe=Ue;Qe.redirectedFrom=cn;let He;return!Te&&Lte(b,gt,Ue)&&(He=f3(16,{to:Qe,from:gt}),rt(gt,gt,!0,!1)),(He?Promise.resolve(He):ye(Qe,gt)).catch(pt=>e0(pt)?e0(pt,2)?pt:xt(pt):ut(pt,Qe,gt)).then(pt=>{if(pt){if(e0(pt,2))return Xe(Ro({replace:Ae},$e(pt.to),{state:typeof pt.to=="object"?Ro({},Gn,pt.to.state):Gn,force:Te}),cn||Qe)}else pt=ne(Qe,gt,!0,Ae,Gn);return Me(Qe,gt,pt),pt})}function le(te,cn){const Ue=ue(te,cn);return Ue?Promise.reject(Ue):Promise.resolve()}function pe(te){const cn=ln.values().next().value;return cn&&typeof cn.runWithContext=="function"?cn.runWithContext(te):te()}function ye(te,cn){let Ue;const[gt,Gn,Te]=Pne(te,cn);Ue=nH(gt.reverse(),"beforeRouteLeave",te,cn);for(const Ye of gt)Ye.leaveGuards.forEach(Qe=>{Ue.push(Ky(Qe,te,cn))});const Ae=le.bind(null,te,cn);return Ue.push(Ae),Sn(Ue).then(()=>{Ue=[];for(const Ye of _.list())Ue.push(Ky(Ye,te,cn));return Ue.push(Ae),Sn(Ue)}).then(()=>{Ue=nH(Gn,"beforeRouteUpdate",te,cn);for(const Ye of Gn)Ye.updateGuards.forEach(Qe=>{Ue.push(Ky(Qe,te,cn))});return Ue.push(Ae),Sn(Ue)}).then(()=>{Ue=[];for(const Ye of Te)if(Ye.beforeEnter)if(Km(Ye.beforeEnter))for(const Qe of Ye.beforeEnter)Ue.push(Ky(Qe,te,cn));else Ue.push(Ky(Ye.beforeEnter,te,cn));return Ue.push(Ae),Sn(Ue)}).then(()=>(te.matched.forEach(Ye=>Ye.enterCallbacks={}),Ue=nH(Te,"beforeRouteEnter",te,cn),Ue.push(Ae),Sn(Ue))).then(()=>{Ue=[];for(const Ye of T.list())Ue.push(Ky(Ye,te,cn));return Ue.push(Ae),Sn(Ue)}).catch(Ye=>e0(Ye,8)?Ye:Promise.reject(Ye))}function Me(te,cn,Ue){D.list().forEach(gt=>pe(()=>gt(te,cn,Ue)))}function ne(te,cn,Ue,gt,Gn){const Te=ue(te,cn);if(Te)return Te;const Ae=cn===jy,Ye=e3?history.state:{};Ue&&(gt||Ae?S.replace(te.fullPath,Ro({scroll:Ae&&Ye&&Ye.scroll},Gn)):S.push(te.fullPath,Gn)),L.value=te,rt(te,cn,Ue,Ae),xt()}let U;function xe(){U||(U=S.listen((te,cn,Ue)=>{if(!lt.listening)return;const gt=de(te),Gn=ke(gt);if(Gn){Xe(Ro(Gn,{replace:!0}),gt).catch(y5);return}j=gt;const Te=L.value;e3&&qte(eW(Te.fullPath,Ue.delta),K6()),ye(gt,Te).catch(Ae=>e0(Ae,12)?Ae:e0(Ae,2)?(Xe(Ae.to,gt).then(Ye=>{e0(Ye,20)&&!Ue.delta&&Ue.type===T5.pop&&S.go(-1,!1)}).catch(y5),Promise.reject()):(Ue.delta&&S.go(-Ue.delta,!1),ut(Ae,gt,Te))).then(Ae=>{Ae=Ae||ne(gt,Te,!1),Ae&&(Ue.delta&&!e0(Ae,8)?S.go(-Ue.delta,!1):Ue.type===T5.pop&&e0(Ae,20)&&S.go(-1,!1)),Me(gt,Te,Ae)}).catch(y5)}))}let Ze=v5(),se=v5(),ge;function ut(te,cn,Ue){xt(te);const gt=se.list();return gt.length?gt.forEach(Gn=>Gn(te,cn,Ue)):console.error(te),Promise.reject(te)}function $(){return ge&&L.value!==jy?Promise.resolve():new Promise((te,cn)=>{Ze.add([te,cn])})}function xt(te){return ge||(ge=!te,xe(),Ze.list().forEach(([cn,Ue])=>te?Ue(te):cn()),Ze.reset()),te}function rt(te,cn,Ue,gt){const{scrollBehavior:Gn}=f;if(!e3||!Gn)return Promise.resolve();const Te=!Ue&&Kte(eW(te.fullPath,0))||(gt||!Ue)&&history.state&&history.state.scroll||null;return YW().then(()=>Gn(te,cn,Te)).then(Ae=>Ae&&Gte(Ae)).catch(Ae=>ut(Ae,te,cn))}const at=te=>S.go(te);let kn;const ln=new Set,lt={currentRoute:L,listening:!0,addRoute:z,removeRoute:X,hasRoute:Be,getRoutes:G,resolve:de,options:f,push:Ee,replace:De,go:at,back:()=>at(-1),forward:()=>at(1),beforeEach:_.add,beforeResolve:T.add,afterEach:D.add,onError:se.add,isReady:$,install(te){const cn=this;te.component("RouterLink",kv),te.component("RouterView",$j),te.config.globalProperties.$router=cn,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>Lo(L)}),e3&&!kn&&L.value===jy&&(kn=!0,Ee(S.location).catch(Gn=>{}));const Ue={};for(const Gn in jy)Object.defineProperty(Ue,Gn,{get:()=>L.value[Gn],enumerable:!0});te.provide(X6,cn),te.provide(KH,VW(Ue)),te.provide(xH,L);const gt=te.unmount;ln.add(te),te.unmount=function(){ln.delete(te),ln.size<1&&(j=jy,U&&U(),U=null,L.value=jy,kn=!1,ge=!1),gt()}}};function Sn(te){return te.reduce((cn,Ue)=>cn.then(()=>pe(Ue)),Promise.resolve())}return lt}function Pne(f,m){const y=[],b=[],S=[],_=Math.max(m.matched.length,f.matched.length);for(let T=0;T<_;T++){const D=m.matched[T];D&&(f.matched.find(j=>c3(j,D))?b.push(D):y.push(D));const L=f.matched[T];L&&(m.matched.find(j=>c3(j,L))||S.push(L))}return[y,b,S]}function Xm(){return qm(X6)}function o0(){return qm(KH)}function Mj(f,m){return function(){return f.apply(m,arguments)}}const{toString:Ine}=Object.prototype,{getPrototypeOf:XH}=Object,Y6=(f=>m=>{const y=Ine.call(m);return f[y]||(f[y]=y.slice(8,-1).toLowerCase())})(Object.create(null)),op=f=>(f=f.toLowerCase(),m=>Y6(m)===f),J6=f=>m=>typeof m===f,{isArray:h3}=Array,O5=J6("undefined");function Nne(f){return f!==null&&!O5(f)&&f.constructor!==null&&!O5(f.constructor)&&Ed(f.constructor.isBuffer)&&f.constructor.isBuffer(f)}const Pj=op("ArrayBuffer");function Fne(f){let m;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?m=ArrayBuffer.isView(f):m=f&&f.buffer&&Pj(f.buffer),m}const Lne=J6("string"),Ed=J6("function"),Ij=J6("number"),Z6=f=>f!==null&&typeof f=="object",zne=f=>f===!0||f===!1,u6=f=>{if(Y6(f)!=="object")return!1;const m=XH(f);return(m===null||m===Object.prototype||Object.getPrototypeOf(m)===null)&&!(Symbol.toStringTag in f)&&!(Symbol.iterator in f)},Hne=op("Date"),Vne=op("File"),Une=op("Blob"),Wne=op("FileList"),jne=f=>Z6(f)&&Ed(f.pipe),Gne=f=>{let m;return f&&(typeof FormData=="function"&&f instanceof FormData||Ed(f.append)&&((m=Y6(f))==="formdata"||m==="object"&&Ed(f.toString)&&f.toString()==="[object FormData]"))},qne=op("URLSearchParams"),Kne=f=>f.trim?f.trim():f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function R5(f,m,{allOwnKeys:y=!1}={}){if(f===null||typeof f>"u")return;let b,S;if(typeof f!="object"&&(f=[f]),h3(f))for(b=0,S=f.length;b<S;b++)m.call(null,f[b],b,f);else{const _=y?Object.getOwnPropertyNames(f):Object.keys(f),T=_.length;let D;for(b=0;b<T;b++)D=_[b],m.call(null,f[D],D,f)}}function Nj(f,m){m=m.toLowerCase();const y=Object.keys(f);let b=y.length,S;for(;b-- >0;)if(S=y[b],m===S.toLowerCase())return S;return null}const Fj=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Lj=f=>!O5(f)&&f!==Fj;function _H(){const{caseless:f}=Lj(this)&&this||{},m={},y=(b,S)=>{const _=f&&Nj(m,S)||S;u6(m[_])&&u6(b)?m[_]=_H(m[_],b):u6(b)?m[_]=_H({},b):h3(b)?m[_]=b.slice():m[_]=b};for(let b=0,S=arguments.length;b<S;b++)arguments[b]&&R5(arguments[b],y);return m}const Xne=(f,m,y,{allOwnKeys:b}={})=>(R5(m,(S,_)=>{y&&Ed(S)?f[_]=Mj(S,y):f[_]=S},{allOwnKeys:b}),f),Yne=f=>(f.charCodeAt(0)===65279&&(f=f.slice(1)),f),Jne=(f,m,y,b)=>{f.prototype=Object.create(m.prototype,b),f.prototype.constructor=f,Object.defineProperty(f,"super",{value:m.prototype}),y&&Object.assign(f.prototype,y)},Zne=(f,m,y,b)=>{let S,_,T;const D={};if(m=m||{},f==null)return m;do{for(S=Object.getOwnPropertyNames(f),_=S.length;_-- >0;)T=S[_],(!b||b(T,f,m))&&!D[T]&&(m[T]=f[T],D[T]=!0);f=y!==!1&&XH(f)}while(f&&(!y||y(f,m))&&f!==Object.prototype);return m},Qne=(f,m,y)=>{f=String(f),(y===void 0||y>f.length)&&(y=f.length),y-=m.length;const b=f.indexOf(m,y);return b!==-1&&b===y},ere=f=>{if(!f)return null;if(h3(f))return f;let m=f.length;if(!Ij(m))return null;const y=new Array(m);for(;m-- >0;)y[m]=f[m];return y},tre=(f=>m=>f&&m instanceof f)(typeof Uint8Array<"u"&&XH(Uint8Array)),nre=(f,m)=>{const b=(f&&f[Symbol.iterator]).call(f);let S;for(;(S=b.next())&&!S.done;){const _=S.value;m.call(f,_[0],_[1])}},rre=(f,m)=>{let y;const b=[];for(;(y=f.exec(m))!==null;)b.push(y);return b},are=op("HTMLFormElement"),ore=f=>f.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(y,b,S){return b.toUpperCase()+S}),mW=(({hasOwnProperty:f})=>(m,y)=>f.call(m,y))(Object.prototype),ire=op("RegExp"),zj=(f,m)=>{const y=Object.getOwnPropertyDescriptors(f),b={};R5(y,(S,_)=>{let T;(T=m(S,_,f))!==!1&&(b[_]=T||S)}),Object.defineProperties(f,b)},ure=f=>{zj(f,(m,y)=>{if(Ed(f)&&["arguments","caller","callee"].indexOf(y)!==-1)return!1;const b=f[y];if(Ed(b)){if(m.enumerable=!1,"writable"in m){m.writable=!1;return}m.set||(m.set=()=>{throw Error("Can not rewrite read-only method '"+y+"'")})}})},sre=(f,m)=>{const y={},b=S=>{S.forEach(_=>{y[_]=!0})};return h3(f)?b(f):b(String(f).split(m)),y},lre=()=>{},cre=(f,m)=>(f=+f,Number.isFinite(f)?f:m),rH="abcdefghijklmnopqrstuvwxyz",hW="0123456789",Hj={DIGIT:hW,ALPHA:rH,ALPHA_DIGIT:rH+rH.toUpperCase()+hW},fre=(f=16,m=Hj.ALPHA_DIGIT)=>{let y="";const{length:b}=m;for(;f--;)y+=m[Math.random()*b|0];return y};function vre(f){return!!(f&&Ed(f.append)&&f[Symbol.toStringTag]==="FormData"&&f[Symbol.iterator])}const dre=f=>{const m=new Array(10),y=(b,S)=>{if(Z6(b)){if(m.indexOf(b)>=0)return;if(!("toJSON"in b)){m[S]=b;const _=h3(b)?[]:{};return R5(b,(T,D)=>{const L=y(T,S+1);!O5(L)&&(_[D]=L)}),m[S]=void 0,_}}return b};return y(f,0)},mre=op("AsyncFunction"),hre=f=>f&&(Z6(f)||Ed(f))&&Ed(f.then)&&Ed(f.catch),on={isArray:h3,isArrayBuffer:Pj,isBuffer:Nne,isFormData:Gne,isArrayBufferView:Fne,isString:Lne,isNumber:Ij,isBoolean:zne,isObject:Z6,isPlainObject:u6,isUndefined:O5,isDate:Hne,isFile:Vne,isBlob:Une,isRegExp:ire,isFunction:Ed,isStream:jne,isURLSearchParams:qne,isTypedArray:tre,isFileList:Wne,forEach:R5,merge:_H,extend:Xne,trim:Kne,stripBOM:Yne,inherits:Jne,toFlatObject:Zne,kindOf:Y6,kindOfTest:op,endsWith:Qne,toArray:ere,forEachEntry:nre,matchAll:rre,isHTMLForm:are,hasOwnProperty:mW,hasOwnProp:mW,reduceDescriptors:zj,freezeMethods:ure,toObjectSet:sre,toCamelCase:ore,noop:lre,toFiniteNumber:cre,findKey:Nj,global:Fj,isContextDefined:Lj,ALPHABET:Hj,generateString:fre,isSpecCompliantForm:vre,toJSONObject:dre,isAsyncFn:mre,isThenable:hre};function Za(f,m,y,b,S){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=f,this.name="AxiosError",m&&(this.code=m),y&&(this.config=y),b&&(this.request=b),S&&(this.response=S)}on.inherits(Za,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:on.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Vj=Za.prototype,Uj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(f=>{Uj[f]={value:f}});Object.defineProperties(Za,Uj);Object.defineProperty(Vj,"isAxiosError",{value:!0});Za.from=(f,m,y,b,S,_)=>{const T=Object.create(Vj);return on.toFlatObject(f,T,function(L){return L!==Error.prototype},D=>D!=="isAxiosError"),Za.call(T,f.message,m,y,b,S),T.cause=f,T.name=f.name,_&&Object.assign(T,_),T};const gre=null;function kH(f){return on.isPlainObject(f)||on.isArray(f)}function Wj(f){return on.endsWith(f,"[]")?f.slice(0,-2):f}function gW(f,m,y){return f?f.concat(m).map(function(S,_){return S=Wj(S),!y&&_?"["+S+"]":S}).join(y?".":""):m}function pre(f){return on.isArray(f)&&!f.some(kH)}const bre=on.toFlatObject(on,{},null,function(m){return/^is[A-Z]/.test(m)});function Q6(f,m,y){if(!on.isObject(f))throw new TypeError("target must be an object");m=m||new FormData,y=on.toFlatObject(y,{metaTokens:!0,dots:!1,indexes:!1},!1,function(G,Be){return!on.isUndefined(Be[G])});const b=y.metaTokens,S=y.visitor||N,_=y.dots,T=y.indexes,L=(y.Blob||typeof Blob<"u"&&Blob)&&on.isSpecCompliantForm(m);if(!on.isFunction(S))throw new TypeError("visitor must be a function");function j(X){if(X===null)return"";if(on.isDate(X))return X.toISOString();if(!L&&on.isBlob(X))throw new Za("Blob is not supported. Use a Buffer instead.");return on.isArrayBuffer(X)||on.isTypedArray(X)?L&&typeof Blob=="function"?new Blob([X]):Buffer.from(X):X}function N(X,G,Be){let de=X;if(X&&!Be&&typeof X=="object"){if(on.endsWith(G,"{}"))G=b?G:G.slice(0,-2),X=JSON.stringify(X);else if(on.isArray(X)&&pre(X)||(on.isFileList(X)||on.endsWith(G,"[]"))&&(de=on.toArray(X)))return G=Wj(G),de.forEach(function(ue,Ee){!(on.isUndefined(ue)||ue===null)&&m.append(T===!0?gW([G],Ee,_):T===null?G:G+"[]",j(ue))}),!1}return kH(X)?!0:(m.append(gW(Be,G,_),j(X)),!1)}const V=[],P=Object.assign(bre,{defaultVisitor:N,convertValue:j,isVisitable:kH});function z(X,G){if(!on.isUndefined(X)){if(V.indexOf(X)!==-1)throw Error("Circular reference detected in "+G.join("."));V.push(X),on.forEach(X,function(de,$e){(!(on.isUndefined(de)||de===null)&&S.call(m,de,on.isString($e)?$e.trim():$e,G,P))===!0&&z(de,G?G.concat($e):[$e])}),V.pop()}}if(!on.isObject(f))throw new TypeError("data must be an object");return z(f),m}function pW(f){const m={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(f).replace(/[!'()~]|%20|%00/g,function(b){return m[b]})}function YH(f,m){this._pairs=[],f&&Q6(f,this,m)}const jj=YH.prototype;jj.append=function(m,y){this._pairs.push([m,y])};jj.toString=function(m){const y=m?function(b){return m.call(this,b,pW)}:pW;return this._pairs.map(function(S){return y(S[0])+"="+y(S[1])},"").join("&")};function yre(f){return encodeURIComponent(f).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gj(f,m,y){if(!m)return f;const b=y&&y.encode||yre,S=y&&y.serialize;let _;if(S?_=S(m,y):_=on.isURLSearchParams(m)?m.toString():new YH(m,y).toString(b),_){const T=f.indexOf("#");T!==-1&&(f=f.slice(0,T)),f+=(f.indexOf("?")===-1?"?":"&")+_}return f}class wre{constructor(){this.handlers=[]}use(m,y,b){return this.handlers.push({fulfilled:m,rejected:y,synchronous:b?b.synchronous:!1,runWhen:b?b.runWhen:null}),this.handlers.length-1}eject(m){this.handlers[m]&&(this.handlers[m]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(m){on.forEach(this.handlers,function(b){b!==null&&m(b)})}}const bW=wre,qj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cre=typeof URLSearchParams<"u"?URLSearchParams:YH,Sre=typeof FormData<"u"?FormData:null,xre=typeof Blob<"u"?Blob:null,_re=(()=>{let f;return typeof navigator<"u"&&((f=navigator.product)==="ReactNative"||f==="NativeScript"||f==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),kre=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Um={isBrowser:!0,classes:{URLSearchParams:Cre,FormData:Sre,Blob:xre},isStandardBrowserEnv:_re,isStandardBrowserWebWorkerEnv:kre,protocols:["http","https","file","blob","url","data"]};function Are(f,m){return Q6(f,new Um.classes.URLSearchParams,Object.assign({visitor:function(y,b,S,_){return Um.isNode&&on.isBuffer(y)?(this.append(b,y.toString("base64")),!1):_.defaultVisitor.apply(this,arguments)}},m))}function Ere(f){return on.matchAll(/\w+|\[(\w*)]/g,f).map(m=>m[0]==="[]"?"":m[1]||m[0])}function Tre(f){const m={},y=Object.keys(f);let b;const S=y.length;let _;for(b=0;b<S;b++)_=y[b],m[_]=f[_];return m}function Kj(f){function m(y,b,S,_){let T=y[_++];const D=Number.isFinite(+T),L=_>=y.length;return T=!T&&on.isArray(S)?S.length:T,L?(on.hasOwnProp(S,T)?S[T]=[S[T],b]:S[T]=b,!D):((!S[T]||!on.isObject(S[T]))&&(S[T]=[]),m(y,b,S[T],_)&&on.isArray(S[T])&&(S[T]=Tre(S[T])),!D)}if(on.isFormData(f)&&on.isFunction(f.entries)){const y={};return on.forEachEntry(f,(b,S)=>{m(Ere(b),S,y,0)}),y}return null}function Ore(f,m,y){if(on.isString(f))try{return(m||JSON.parse)(f),on.trim(f)}catch(b){if(b.name!=="SyntaxError")throw b}return(y||JSON.stringify)(f)}const JH={transitional:qj,adapter:Um.isNode?"http":"xhr",transformRequest:[function(m,y){const b=y.getContentType()||"",S=b.indexOf("application/json")>-1,_=on.isObject(m);if(_&&on.isHTMLForm(m)&&(m=new FormData(m)),on.isFormData(m))return S&&S?JSON.stringify(Kj(m)):m;if(on.isArrayBuffer(m)||on.isBuffer(m)||on.isStream(m)||on.isFile(m)||on.isBlob(m))return m;if(on.isArrayBufferView(m))return m.buffer;if(on.isURLSearchParams(m))return y.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),m.toString();let D;if(_){if(b.indexOf("application/x-www-form-urlencoded")>-1)return Are(m,this.formSerializer).toString();if((D=on.isFileList(m))||b.indexOf("multipart/form-data")>-1){const L=this.env&&this.env.FormData;return Q6(D?{"files[]":m}:m,L&&new L,this.formSerializer)}}return _||S?(y.setContentType("application/json",!1),Ore(m)):m}],transformResponse:[function(m){const y=this.transitional||JH.transitional,b=y&&y.forcedJSONParsing,S=this.responseType==="json";if(m&&on.isString(m)&&(b&&!this.responseType||S)){const T=!(y&&y.silentJSONParsing)&&S;try{return JSON.parse(m)}catch(D){if(T)throw D.name==="SyntaxError"?Za.from(D,Za.ERR_BAD_RESPONSE,this,null,this.response):D}}return m}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Um.classes.FormData,Blob:Um.classes.Blob},validateStatus:function(m){return m>=200&&m<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};on.forEach(["delete","get","head","post","put","patch"],f=>{JH.headers[f]={}});const ZH=JH,Dre=on.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rre=f=>{const m={};let y,b,S;return f&&f.split(`
`).forEach(function(T){S=T.indexOf(":"),y=T.substring(0,S).trim().toLowerCase(),b=T.substring(S+1).trim(),!(!y||m[y]&&Dre[y])&&(y==="set-cookie"?m[y]?m[y].push(b):m[y]=[b]:m[y]=m[y]?m[y]+", "+b:b)}),m},yW=Symbol("internals");function d5(f){return f&&String(f).trim().toLowerCase()}function s6(f){return f===!1||f==null?f:on.isArray(f)?f.map(s6):String(f)}function Bre(f){const m=Object.create(null),y=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let b;for(;b=y.exec(f);)m[b[1]]=b[2];return m}const $re=f=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(f.trim());function aH(f,m,y,b,S){if(on.isFunction(b))return b.call(this,m,y);if(S&&(m=y),!!on.isString(m)){if(on.isString(b))return m.indexOf(b)!==-1;if(on.isRegExp(b))return b.test(m)}}function Mre(f){return f.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(m,y,b)=>y.toUpperCase()+b)}function Pre(f,m){const y=on.toCamelCase(" "+m);["get","set","has"].forEach(b=>{Object.defineProperty(f,b+y,{value:function(S,_,T){return this[b].call(this,m,S,_,T)},configurable:!0})})}class e8{constructor(m){m&&this.set(m)}set(m,y,b){const S=this;function _(D,L,j){const N=d5(L);if(!N)throw new Error("header name must be a non-empty string");const V=on.findKey(S,N);(!V||S[V]===void 0||j===!0||j===void 0&&S[V]!==!1)&&(S[V||L]=s6(D))}const T=(D,L)=>on.forEach(D,(j,N)=>_(j,N,L));return on.isPlainObject(m)||m instanceof this.constructor?T(m,y):on.isString(m)&&(m=m.trim())&&!$re(m)?T(Rre(m),y):m!=null&&_(y,m,b),this}get(m,y){if(m=d5(m),m){const b=on.findKey(this,m);if(b){const S=this[b];if(!y)return S;if(y===!0)return Bre(S);if(on.isFunction(y))return y.call(this,S,b);if(on.isRegExp(y))return y.exec(S);throw new TypeError("parser must be boolean|regexp|function")}}}has(m,y){if(m=d5(m),m){const b=on.findKey(this,m);return!!(b&&this[b]!==void 0&&(!y||aH(this,this[b],b,y)))}return!1}delete(m,y){const b=this;let S=!1;function _(T){if(T=d5(T),T){const D=on.findKey(b,T);D&&(!y||aH(b,b[D],D,y))&&(delete b[D],S=!0)}}return on.isArray(m)?m.forEach(_):_(m),S}clear(m){const y=Object.keys(this);let b=y.length,S=!1;for(;b--;){const _=y[b];(!m||aH(this,this[_],_,m,!0))&&(delete this[_],S=!0)}return S}normalize(m){const y=this,b={};return on.forEach(this,(S,_)=>{const T=on.findKey(b,_);if(T){y[T]=s6(S),delete y[_];return}const D=m?Mre(_):String(_).trim();D!==_&&delete y[_],y[D]=s6(S),b[D]=!0}),this}concat(...m){return this.constructor.concat(this,...m)}toJSON(m){const y=Object.create(null);return on.forEach(this,(b,S)=>{b!=null&&b!==!1&&(y[S]=m&&on.isArray(b)?b.join(", "):b)}),y}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([m,y])=>m+": "+y).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(m){return m instanceof this?m:new this(m)}static concat(m,...y){const b=new this(m);return y.forEach(S=>b.set(S)),b}static accessor(m){const b=(this[yW]=this[yW]={accessors:{}}).accessors,S=this.prototype;function _(T){const D=d5(T);b[D]||(Pre(S,T),b[D]=!0)}return on.isArray(m)?m.forEach(_):_(m),this}}e8.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);on.reduceDescriptors(e8.prototype,({value:f},m)=>{let y=m[0].toUpperCase()+m.slice(1);return{get:()=>f,set(b){this[y]=b}}});on.freezeMethods(e8);const n0=e8;function oH(f,m){const y=this||ZH,b=m||y,S=n0.from(b.headers);let _=b.data;return on.forEach(f,function(D){_=D.call(y,_,S.normalize(),m?m.status:void 0)}),S.normalize(),_}function Xj(f){return!!(f&&f.__CANCEL__)}function B5(f,m,y){Za.call(this,f??"canceled",Za.ERR_CANCELED,m,y),this.name="CanceledError"}on.inherits(B5,Za,{__CANCEL__:!0});function Ire(f,m,y){const b=y.config.validateStatus;!y.status||!b||b(y.status)?f(y):m(new Za("Request failed with status code "+y.status,[Za.ERR_BAD_REQUEST,Za.ERR_BAD_RESPONSE][Math.floor(y.status/100)-4],y.config,y.request,y))}const Nre=Um.isStandardBrowserEnv?function(){return{write:function(y,b,S,_,T,D){const L=[];L.push(y+"="+encodeURIComponent(b)),on.isNumber(S)&&L.push("expires="+new Date(S).toGMTString()),on.isString(_)&&L.push("path="+_),on.isString(T)&&L.push("domain="+T),D===!0&&L.push("secure"),document.cookie=L.join("; ")},read:function(y){const b=document.cookie.match(new RegExp("(^|;\\s*)("+y+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove:function(y){this.write(y,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Fre(f){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(f)}function Lre(f,m){return m?f.replace(/\/+$/,"")+"/"+m.replace(/^\/+/,""):f}function Yj(f,m){return f&&!Fre(m)?Lre(f,m):m}const zre=Um.isStandardBrowserEnv?function(){const m=/(msie|trident)/i.test(navigator.userAgent),y=document.createElement("a");let b;function S(_){let T=_;return m&&(y.setAttribute("href",T),T=y.href),y.setAttribute("href",T),{href:y.href,protocol:y.protocol?y.protocol.replace(/:$/,""):"",host:y.host,search:y.search?y.search.replace(/^\?/,""):"",hash:y.hash?y.hash.replace(/^#/,""):"",hostname:y.hostname,port:y.port,pathname:y.pathname.charAt(0)==="/"?y.pathname:"/"+y.pathname}}return b=S(window.location.href),function(T){const D=on.isString(T)?S(T):T;return D.protocol===b.protocol&&D.host===b.host}}():function(){return function(){return!0}}();function Hre(f){const m=/^([-+\w]{1,25})(:?\/\/|:)/.exec(f);return m&&m[1]||""}function Vre(f,m){f=f||10;const y=new Array(f),b=new Array(f);let S=0,_=0,T;return m=m!==void 0?m:1e3,function(L){const j=Date.now(),N=b[_];T||(T=j),y[S]=L,b[S]=j;let V=_,P=0;for(;V!==S;)P+=y[V++],V=V%f;if(S=(S+1)%f,S===_&&(_=(_+1)%f),j-T<m)return;const z=N&&j-N;return z?Math.round(P*1e3/z):void 0}}function wW(f,m){let y=0;const b=Vre(50,250);return S=>{const _=S.loaded,T=S.lengthComputable?S.total:void 0,D=_-y,L=b(D),j=_<=T;y=_;const N={loaded:_,total:T,progress:T?_/T:void 0,bytes:D,rate:L||void 0,estimated:L&&T&&j?(T-_)/L:void 0,event:S};N[m?"download":"upload"]=!0,f(N)}}const Ure=typeof XMLHttpRequest<"u",Wre=Ure&&function(f){return new Promise(function(y,b){let S=f.data;const _=n0.from(f.headers).normalize(),T=f.responseType;let D;function L(){f.cancelToken&&f.cancelToken.unsubscribe(D),f.signal&&f.signal.removeEventListener("abort",D)}on.isFormData(S)&&(Um.isStandardBrowserEnv||Um.isStandardBrowserWebWorkerEnv?_.setContentType(!1):_.setContentType("multipart/form-data;",!1));let j=new XMLHttpRequest;if(f.auth){const z=f.auth.username||"",X=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";_.set("Authorization","Basic "+btoa(z+":"+X))}const N=Yj(f.baseURL,f.url);j.open(f.method.toUpperCase(),Gj(N,f.params,f.paramsSerializer),!0),j.timeout=f.timeout;function V(){if(!j)return;const z=n0.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),G={data:!T||T==="text"||T==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:z,config:f,request:j};Ire(function(de){y(de),L()},function(de){b(de),L()},G),j=null}if("onloadend"in j?j.onloadend=V:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(V)},j.onabort=function(){j&&(b(new Za("Request aborted",Za.ECONNABORTED,f,j)),j=null)},j.onerror=function(){b(new Za("Network Error",Za.ERR_NETWORK,f,j)),j=null},j.ontimeout=function(){let X=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded";const G=f.transitional||qj;f.timeoutErrorMessage&&(X=f.timeoutErrorMessage),b(new Za(X,G.clarifyTimeoutError?Za.ETIMEDOUT:Za.ECONNABORTED,f,j)),j=null},Um.isStandardBrowserEnv){const z=(f.withCredentials||zre(N))&&f.xsrfCookieName&&Nre.read(f.xsrfCookieName);z&&_.set(f.xsrfHeaderName,z)}S===void 0&&_.setContentType(null),"setRequestHeader"in j&&on.forEach(_.toJSON(),function(X,G){j.setRequestHeader(G,X)}),on.isUndefined(f.withCredentials)||(j.withCredentials=!!f.withCredentials),T&&T!=="json"&&(j.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&j.addEventListener("progress",wW(f.onDownloadProgress,!0)),typeof f.onUploadProgress=="function"&&j.upload&&j.upload.addEventListener("progress",wW(f.onUploadProgress)),(f.cancelToken||f.signal)&&(D=z=>{j&&(b(!z||z.type?new B5(null,f,j):z),j.abort(),j=null)},f.cancelToken&&f.cancelToken.subscribe(D),f.signal&&(f.signal.aborted?D():f.signal.addEventListener("abort",D)));const P=Hre(N);if(P&&Um.protocols.indexOf(P)===-1){b(new Za("Unsupported protocol "+P+":",Za.ERR_BAD_REQUEST,f));return}j.send(S||null)})},l6={http:gre,xhr:Wre};on.forEach(l6,(f,m)=>{if(f){try{Object.defineProperty(f,"name",{value:m})}catch{}Object.defineProperty(f,"adapterName",{value:m})}});const Jj={getAdapter:f=>{f=on.isArray(f)?f:[f];const{length:m}=f;let y,b;for(let S=0;S<m&&(y=f[S],!(b=on.isString(y)?l6[y.toLowerCase()]:y));S++);if(!b)throw b===!1?new Za(`Adapter ${y} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(on.hasOwnProp(l6,y)?`Adapter '${y}' is not available in the build`:`Unknown adapter '${y}'`);if(!on.isFunction(b))throw new TypeError("adapter is not a function");return b},adapters:l6};function iH(f){if(f.cancelToken&&f.cancelToken.throwIfRequested(),f.signal&&f.signal.aborted)throw new B5(null,f)}function CW(f){return iH(f),f.headers=n0.from(f.headers),f.data=oH.call(f,f.transformRequest),["post","put","patch"].indexOf(f.method)!==-1&&f.headers.setContentType("application/x-www-form-urlencoded",!1),Jj.getAdapter(f.adapter||ZH.adapter)(f).then(function(b){return iH(f),b.data=oH.call(f,f.transformResponse,b),b.headers=n0.from(b.headers),b},function(b){return Xj(b)||(iH(f),b&&b.response&&(b.response.data=oH.call(f,f.transformResponse,b.response),b.response.headers=n0.from(b.response.headers))),Promise.reject(b)})}const SW=f=>f instanceof n0?f.toJSON():f;function v3(f,m){m=m||{};const y={};function b(j,N,V){return on.isPlainObject(j)&&on.isPlainObject(N)?on.merge.call({caseless:V},j,N):on.isPlainObject(N)?on.merge({},N):on.isArray(N)?N.slice():N}function S(j,N,V){if(on.isUndefined(N)){if(!on.isUndefined(j))return b(void 0,j,V)}else return b(j,N,V)}function _(j,N){if(!on.isUndefined(N))return b(void 0,N)}function T(j,N){if(on.isUndefined(N)){if(!on.isUndefined(j))return b(void 0,j)}else return b(void 0,N)}function D(j,N,V){if(V in m)return b(j,N);if(V in f)return b(void 0,j)}const L={url:_,method:_,data:_,baseURL:T,transformRequest:T,transformResponse:T,paramsSerializer:T,timeout:T,timeoutMessage:T,withCredentials:T,adapter:T,responseType:T,xsrfCookieName:T,xsrfHeaderName:T,onUploadProgress:T,onDownloadProgress:T,decompress:T,maxContentLength:T,maxBodyLength:T,beforeRedirect:T,transport:T,httpAgent:T,httpsAgent:T,cancelToken:T,socketPath:T,responseEncoding:T,validateStatus:D,headers:(j,N)=>S(SW(j),SW(N),!0)};return on.forEach(Object.keys(Object.assign({},f,m)),function(N){const V=L[N]||S,P=V(f[N],m[N],N);on.isUndefined(P)&&V!==D||(y[N]=P)}),y}const Zj="1.5.0",QH={};["object","boolean","number","function","string","symbol"].forEach((f,m)=>{QH[f]=function(b){return typeof b===f||"a"+(m<1?"n ":" ")+f}});const xW={};QH.transitional=function(m,y,b){function S(_,T){return"[Axios v"+Zj+"] Transitional option '"+_+"'"+T+(b?". "+b:"")}return(_,T,D)=>{if(m===!1)throw new Za(S(T," has been removed"+(y?" in "+y:"")),Za.ERR_DEPRECATED);return y&&!xW[T]&&(xW[T]=!0,console.warn(S(T," has been deprecated since v"+y+" and will be removed in the near future"))),m?m(_,T,D):!0}};function jre(f,m,y){if(typeof f!="object")throw new Za("options must be an object",Za.ERR_BAD_OPTION_VALUE);const b=Object.keys(f);let S=b.length;for(;S-- >0;){const _=b[S],T=m[_];if(T){const D=f[_],L=D===void 0||T(D,_,f);if(L!==!0)throw new Za("option "+_+" must be "+L,Za.ERR_BAD_OPTION_VALUE);continue}if(y!==!0)throw new Za("Unknown option "+_,Za.ERR_BAD_OPTION)}}const AH={assertOptions:jre,validators:QH},Gy=AH.validators;class S6{constructor(m){this.defaults=m,this.interceptors={request:new bW,response:new bW}}request(m,y){typeof m=="string"?(y=y||{},y.url=m):y=m||{},y=v3(this.defaults,y);const{transitional:b,paramsSerializer:S,headers:_}=y;b!==void 0&&AH.assertOptions(b,{silentJSONParsing:Gy.transitional(Gy.boolean),forcedJSONParsing:Gy.transitional(Gy.boolean),clarifyTimeoutError:Gy.transitional(Gy.boolean)},!1),S!=null&&(on.isFunction(S)?y.paramsSerializer={serialize:S}:AH.assertOptions(S,{encode:Gy.function,serialize:Gy.function},!0)),y.method=(y.method||this.defaults.method||"get").toLowerCase();let T=_&&on.merge(_.common,_[y.method]);_&&on.forEach(["delete","get","head","post","put","patch","common"],X=>{delete _[X]}),y.headers=n0.concat(T,_);const D=[];let L=!0;this.interceptors.request.forEach(function(G){typeof G.runWhen=="function"&&G.runWhen(y)===!1||(L=L&&G.synchronous,D.unshift(G.fulfilled,G.rejected))});const j=[];this.interceptors.response.forEach(function(G){j.push(G.fulfilled,G.rejected)});let N,V=0,P;if(!L){const X=[CW.bind(this),void 0];for(X.unshift.apply(X,D),X.push.apply(X,j),P=X.length,N=Promise.resolve(y);V<P;)N=N.then(X[V++],X[V++]);return N}P=D.length;let z=y;for(V=0;V<P;){const X=D[V++],G=D[V++];try{z=X(z)}catch(Be){G.call(this,Be);break}}try{N=CW.call(this,z)}catch(X){return Promise.reject(X)}for(V=0,P=j.length;V<P;)N=N.then(j[V++],j[V++]);return N}getUri(m){m=v3(this.defaults,m);const y=Yj(m.baseURL,m.url);return Gj(y,m.params,m.paramsSerializer)}}on.forEach(["delete","get","head","options"],function(m){S6.prototype[m]=function(y,b){return this.request(v3(b||{},{method:m,url:y,data:(b||{}).data}))}});on.forEach(["post","put","patch"],function(m){function y(b){return function(_,T,D){return this.request(v3(D||{},{method:m,headers:b?{"Content-Type":"multipart/form-data"}:{},url:_,data:T}))}}S6.prototype[m]=y(),S6.prototype[m+"Form"]=y(!0)});const c6=S6;class e9{constructor(m){if(typeof m!="function")throw new TypeError("executor must be a function.");let y;this.promise=new Promise(function(_){y=_});const b=this;this.promise.then(S=>{if(!b._listeners)return;let _=b._listeners.length;for(;_-- >0;)b._listeners[_](S);b._listeners=null}),this.promise.then=S=>{let _;const T=new Promise(D=>{b.subscribe(D),_=D}).then(S);return T.cancel=function(){b.unsubscribe(_)},T},m(function(_,T,D){b.reason||(b.reason=new B5(_,T,D),y(b.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(m){if(this.reason){m(this.reason);return}this._listeners?this._listeners.push(m):this._listeners=[m]}unsubscribe(m){if(!this._listeners)return;const y=this._listeners.indexOf(m);y!==-1&&this._listeners.splice(y,1)}static source(){let m;return{token:new e9(function(S){m=S}),cancel:m}}}const Gre=e9;function qre(f){return function(y){return f.apply(null,y)}}function Kre(f){return on.isObject(f)&&f.isAxiosError===!0}const EH={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(EH).forEach(([f,m])=>{EH[m]=f});const Xre=EH;function Qj(f){const m=new c6(f),y=Mj(c6.prototype.request,m);return on.extend(y,c6.prototype,m,{allOwnKeys:!0}),on.extend(y,m,null,{allOwnKeys:!0}),y.create=function(S){return Qj(v3(f,S))},y}const Yu=Qj(ZH);Yu.Axios=c6;Yu.CanceledError=B5;Yu.CancelToken=Gre;Yu.isCancel=Xj;Yu.VERSION=Zj;Yu.toFormData=Q6;Yu.AxiosError=Za;Yu.Cancel=Yu.CanceledError;Yu.all=function(m){return Promise.all(m)};Yu.spread=qre;Yu.isAxiosError=Kre;Yu.mergeConfig=v3;Yu.AxiosHeaders=n0;Yu.formToJSON=f=>Kj(on.isHTMLForm(f)?new FormData(f):f);Yu.getAdapter=Jj.getAdapter;Yu.HttpStatusCode=Xre;Yu.default=Yu;const er=Yu;const Yre={class:"full"},Jre={class:"login-container"},Zre={class:"login-content"},Qre=Z("img",{src:Sj,width:"200"},null,-1),eae=Z("p",null,"Bitte melden Sie sich an.",-1),tae={key:0,class:"spin-loading"},nae={key:1},rae={__name:"Login",setup(f){const m=Ft(""),y=Ft(""),b=Ft(!1),S=()=>{b.value=!0,er.post("/auth/login",{email:m.value,password:y.value}).then(_=>{b.value=!1,sessionStorage.setItem("token",_.data.token),window.location.href="/"}).catch(_=>{b.value=!1,console.log(_),window.alert("Sie konnten nicht angemeldet werden. berprfen Sie Ihre Eingaben.")})};return(_,T)=>(nt(),it("main",Yre,[Z("div",Jre,[Z("div",Zre,[Qre,eae,gr(Z("input",{type:"email",placeholder:"Email","onUpdate:modelValue":T[0]||(T[0]=D=>m.value=D)},null,512),[[wr,m.value]]),gr(Z("input",{type:"password",placeholder:"Passwort","onUpdate:modelValue":T[1]||(T[1]=D=>y.value=D)},null,512),[[wr,y.value]]),Z("button",{class:"button-primary",onClick:S},[b.value?(nt(),it("span",tae)):(nt(),it("span",nae,"Anmelden"))])])])]))}};const $5=(f,m)=>{const y=f.__vccOpts||f;for(const[b,S]of m)y[b]=S;return y},Ym=f=>(H6("data-v-5e3c821b"),f=f(),V6(),f),aae={key:1},oae=Ym(()=>Z("div",{class:"header-content"},[Z("img",{alt:"Vue logo",class:"logo",src:Sj,width:"40",height:"40"})],-1)),iae=[oae],uae={key:2,class:"content-container"},sae={class:"sidebar"},lae={class:"wrapper"},cae=Ym(()=>Z("img",{src:kte,width:"25",height:"25"},null,-1)),fae=Ym(()=>Z("img",{src:Ate,width:"25",height:"25"},null,-1)),vae=Ym(()=>Z("img",{src:Ete,width:"25",height:"25"},null,-1)),dae=Ym(()=>Z("img",{src:Tte,width:"25",height:"25"},null,-1)),mae=Ym(()=>Z("img",{src:Ote,width:"25",height:"25"},null,-1)),hae=Ym(()=>Z("img",{src:Dte,width:"25",height:"25"},null,-1)),gae=Ym(()=>Z("img",{src:Rte,width:"25",height:"25"},null,-1)),pae=Ym(()=>Z("img",{src:Bte,width:"25",height:"25"},null,-1)),bae=Ym(()=>Z("img",{src:$te,width:"25",height:"25"},null,-1)),yae=Ym(()=>Z("img",{src:Mte,width:"25",height:"25"},null,-1)),wae={__name:"App",setup(f){const m=Ft(!1),y=()=>{sessionStorage.getItem("token")?m.value=!0:m.value=!1};return setInterval(()=>{y()},60*1e3),ap(()=>{y()}),(b,S)=>(nt(),it(Lr,null,[m.value?zr("",!0):(nt(),Td(rae,{key:0})),m.value?(nt(),it("header",aae,iae)):zr("",!0),m.value?(nt(),it("div",uae,[Z("div",sae,[Z("div",lae,[Lt(Lo(kv),{to:"/touren",class:"navigation-link"},{default:vn(()=>[cae,Fr(" Touren ")]),_:1}),Lt(Lo(kv),{to:"/guides",class:"navigation-link"},{default:vn(()=>[fae,Fr(" Guides ")]),_:1}),Lt(Lo(kv),{to:"/sprachen",class:"navigation-link"},{default:vn(()=>[vae,Fr(" Sprachen ")]),_:1}),Lt(Lo(kv),{to:"/mobilitaet",class:"navigation-link"},{default:vn(()=>[dae,Fr(" Mobilitt ")]),_:1}),Lt(Lo(kv),{to:"/orte",class:"navigation-link"},{default:vn(()=>[mae,Fr(" Orte ")]),_:1}),Lt(Lo(kv),{to:"/kategorien",class:"navigation-link"},{default:vn(()=>[hae,Fr(" Kategorie ")]),_:1}),Lt(Lo(kv),{to:"/zertifikate",class:"navigation-link"},{default:vn(()=>[gae,Fr(" Zertifikate ")]),_:1}),Lt(Lo(kv),{to:"/skills",class:"navigation-link"},{default:vn(()=>[pae,Fr(" Themen ")]),_:1}),Lt(Lo(kv),{to:"/pages",class:"navigation-link"},{default:vn(()=>[bae,Fr(" Seiten ")]),_:1}),Lt(Lo(kv),{to:"/verwaltung",class:"navigation-link align-bottom"},{default:vn(()=>[yae,Fr(" Benutzerverwaltung ")]),_:1})])]),m.value?(nt(),Td(Lo($j),{key:0,class:"view"})):zr("",!0)])):zr("",!0)],64))}},Cae=$5(wae,[["__scopeId","data-v-5e3c821b"]]),ip="/assets/edit-cf18a27b.svg",Od="/assets/delete-8c83b779.svg";const Sae=f=>(H6("data-v-4ab453fa"),f=f(),V6(),f),xae={class:"input-container"},_ae={class:"align-end"},kae={key:0},Aae={class:"align-end"},Eae={key:1},Tae=["colspan"],Oae=Sae(()=>Z("span",{class:"loader"},null,-1)),Dae={key:2},Rae=["colspan"],Bae={__name:"IDLTable",props:{tableData:{type:Array,required:!0},tableColumns:{type:Array,required:!0},loading:{type:Boolean,default:!1}},setup(f){const m=f,y=Ft(""),b=ri(()=>m.tableData.filter(_=>Object.values(_).some(T=>String(T).toLowerCase().includes(y.value.toLowerCase())))),S=_=>typeof _=="boolean"?_?"Ja":"Nein":typeof _=="number"?_===0?"Nein":"Ja":new Date(_).getTime()>0?new Date(_).toLocaleString("de-DE"):_==="draft"?"Entwurf":_==="published"?"Verffentlicht":_;return(_,T)=>(nt(),it("div",null,[Z("div",xae,[gr(Z("input",{type:"search","onUpdate:modelValue":T[0]||(T[0]=D=>y.value=D),placeholder:"Suche"},null,512),[[wr,y.value]])]),Z("table",null,[Z("thead",null,[Z("tr",null,[(nt(!0),it(Lr,null,So(f.tableColumns,D=>(nt(),it("th",{key:D.key},fr(D.title),1))),128)),Z("th",_ae,[mH(_.$slots,"actions",{},void 0,!0)])])]),b.value.length>0?(nt(),it("tbody",kae,[(nt(!0),it(Lr,null,So(b.value,D=>(nt(),it("tr",{key:D.id},[(nt(!0),it(Lr,null,So(f.tableColumns,L=>(nt(),it("td",{key:L.key},fr(S(D[L.key])),1))),128)),Z("td",Aae,[mH(_.$slots,"tableActions",{row:D},void 0,!0)])]))),128))])):f.loading?(nt(),it("tbody",Eae,[Z("tr",null,[Z("td",{colspan:f.tableColumns.length+1},[Oae,Fr("Lade Daten...")],8,Tae)])])):(nt(),it("tbody",Dae,[Z("tr",null,[Z("td",{colspan:b.value.length+1},"Keine Daten vorhanden",8,Rae)])]))])]))}},up=$5(Bae,[["__scopeId","data-v-4ab453fa"]]),$ae={class:"row"},Mae=Z("h1",null,"Alle Touren",-1),Pae=Z("hr",{class:"divider"},null,-1),Iae=Z("img",{src:ip,width:"20"},null,-1),Nae=["onClick"],Fae=Z("img",{src:Od,width:"20"},null,-1),Lae=[Fae],zae={__name:"Overview",setup(f){const m=Ft([]),y=Ft(!1),b=Ft([{key:"name",title:"Name"},{key:"status",title:"Status"},{key:"is_public",title:"ffentliche Tour"},{key:"updated_at",title:"zuletzt aktualisiert"}]),S=()=>{y.value=!0,er.get("/tours?preview=true&per_page=200&status=all").then(T=>{y.value=!1,m.value=T.data.tours.data}).catch(T=>{y.value=!1,T.response.status===401?sessionStorage.removeItem("token"):(console.log(T),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut."))})},_=T=>{const D=m.value.find(L=>L.id===T).name;window.confirm(`Mchtest du die Tour "${D}" wirklich lschen?`)&&er.delete(`/tours/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(L=>{console.log(L),S()}).catch(L=>{console.log(L),L.response.status===401?sessionStorage.removeItem("token"):(console.log(L),window.alert("Die Tour konnte nicht gelscht werden. Bitte versuche es erneut."))})};return ho(()=>{S()}),(T,D)=>{const L=io("router-link"),j=io("RouterLink");return nt(),it("main",null,[Z("div",$ae,[Mae,Lt(L,{to:"/tour-erstellen",class:"button-primary"},{default:vn(()=>[Fr("Tour hinzufgen")]),_:1})]),Pae,Lt(up,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:vn(()=>[Fr(" Aktionen ")]),tableActions:vn(N=>[Lt(j,{to:`/tour-bearbeiten/${N.row.id}`},{default:vn(()=>[Iae]),_:2},1032,["to"]),Z("button",{onClick:V=>_(N.row.id)},Lae,8,Nae)]),_:1},8,["tableData","tableColumns","loading"])])}}};function Hae(f,m){return m.forEach(function(y){y&&typeof y!="string"&&!Array.isArray(y)&&Object.keys(y).forEach(function(b){if(b!=="default"&&!(b in f)){var S=Object.getOwnPropertyDescriptor(y,b);Object.defineProperty(f,b,S.get?S:{enumerable:!0,get:function(){return y[b]}})}})}),Object.freeze(f)}function eG(f,m){return new Promise(function(y,b){let S;return Vae(f).then(function(_){try{return S=_,y(new Blob([m.slice(0,2),S,m.slice(2)],{type:"image/jpeg"}))}catch(T){return b(T)}},b)})}const Vae=f=>new Promise((m,y)=>{const b=new FileReader;b.addEventListener("load",({target:{result:S}})=>{const _=new DataView(S);let T=0;if(_.getUint16(T)!==65496)return y("not a valid JPEG");for(T+=2;;){const D=_.getUint16(T);if(D===65498)break;const L=_.getUint16(T+2);if(D===65505&&_.getUint32(T+4)===1165519206){const j=T+10;let N;switch(_.getUint16(j)){case 18761:N=!0;break;case 19789:N=!1;break;default:return y("TIFF header contains invalid endian")}if(_.getUint16(j+2,N)!==42)return y("TIFF header contains invalid version");const V=_.getUint32(j+4,N),P=j+V+2+12*_.getUint16(j+V,N);for(let z=j+V+2;z<P;z+=12)if(_.getUint16(z,N)==274){if(_.getUint16(z+2,N)!==3)return y("Orientation data type is invalid");if(_.getUint32(z+4,N)!==1)return y("Orientation data count is invalid");_.setUint16(z+8,1,N);break}return m(S.slice(T,T+2+L))}T+=2+L}return m(new Blob)}),b.readAsArrayBuffer(f)});var x6={},Uae={get exports(){return x6},set exports(f){x6=f}};(function(f){var m,y,b={};Uae.exports=b,b.parse=function(S,_){for(var T=b.bin.readUshort,D=b.bin.readUint,L=0,j={},N=new Uint8Array(S),V=N.length-4;D(N,V)!=101010256;)V--;L=V,L+=4;var P=T(N,L+=4);T(N,L+=2);var z=D(N,L+=2),X=D(N,L+=4);L+=4,L=X;for(var G=0;G<P;G++){D(N,L),L+=4,L+=4,L+=4,D(N,L+=4),z=D(N,L+=4);var Be=D(N,L+=4),de=T(N,L+=4),$e=T(N,L+2),ue=T(N,L+4);L+=6;var Ee=D(N,L+=8);L+=4,L+=de+$e+ue,b._readLocal(N,Ee,j,z,Be,_)}return j},b._readLocal=function(S,_,T,D,L,j){var N=b.bin.readUshort,V=b.bin.readUint;V(S,_),N(S,_+=4),N(S,_+=2);var P=N(S,_+=2);V(S,_+=2),V(S,_+=4),_+=4;var z=N(S,_+=8),X=N(S,_+=2);_+=2;var G=b.bin.readUTF8(S,_,z);if(_+=z,_+=X,j)T[G]={size:L,csize:D};else{var Be=new Uint8Array(S.buffer,_);if(P==0)T[G]=new Uint8Array(Be.buffer.slice(_,_+D));else{if(P!=8)throw"unknown compression method: "+P;var de=new Uint8Array(L);b.inflateRaw(Be,de),T[G]=de}}},b.inflateRaw=function(S,_){return b.F.inflate(S,_)},b.inflate=function(S,_){return S[0],S[1],b.inflateRaw(new Uint8Array(S.buffer,S.byteOffset+2,S.length-6),_)},b.deflate=function(S,_){_==null&&(_={level:6});var T=0,D=new Uint8Array(50+Math.floor(1.1*S.length));D[T]=120,D[T+1]=156,T+=2,T=b.F.deflateRaw(S,D,T,_.level);var L=b.adler(S,0,S.length);return D[T+0]=L>>>24&255,D[T+1]=L>>>16&255,D[T+2]=L>>>8&255,D[T+3]=L>>>0&255,new Uint8Array(D.buffer,0,T+4)},b.deflateRaw=function(S,_){_==null&&(_={level:6});var T=new Uint8Array(50+Math.floor(1.1*S.length)),D=b.F.deflateRaw(S,T,D,_.level);return new Uint8Array(T.buffer,0,D)},b.encode=function(S,_){_==null&&(_=!1);var T=0,D=b.bin.writeUint,L=b.bin.writeUshort,j={};for(var N in S){var V=!b._noNeed(N)&&!_,P=S[N],z=b.crc.crc(P,0,P.length);j[N]={cpr:V,usize:P.length,crc:z,file:V?b.deflateRaw(P):P}}for(var N in j)T+=j[N].file.length+30+46+2*b.bin.sizeUTF8(N);T+=22;var X=new Uint8Array(T),G=0,Be=[];for(var N in j){var de=j[N];Be.push(G),G=b._writeHeader(X,G,N,de,0)}var $e=0,ue=G;for(var N in j)de=j[N],Be.push(G),G=b._writeHeader(X,G,N,de,1,Be[$e++]);var Ee=G-ue;return D(X,G,101010256),G+=4,L(X,G+=4,$e),L(X,G+=2,$e),D(X,G+=2,Ee),D(X,G+=4,ue),G+=4,G+=2,X.buffer},b._noNeed=function(S){var _=S.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(_)!=-1},b._writeHeader=function(S,_,T,D,L,j){var N=b.bin.writeUint,V=b.bin.writeUshort,P=D.file;return N(S,_,L==0?67324752:33639248),_+=4,L==1&&(_+=2),V(S,_,20),V(S,_+=2,0),V(S,_+=2,D.cpr?8:0),N(S,_+=2,0),N(S,_+=4,D.crc),N(S,_+=4,P.length),N(S,_+=4,D.usize),V(S,_+=4,b.bin.sizeUTF8(T)),V(S,_+=2,0),_+=2,L==1&&(_+=2,_+=2,N(S,_+=6,j),_+=4),_+=b.bin.writeUTF8(S,_,T),L==0&&(S.set(P,_),_+=P.length),_},b.crc={table:function(){for(var S=new Uint32Array(256),_=0;_<256;_++){for(var T=_,D=0;D<8;D++)1&T?T=3988292384^T>>>1:T>>>=1;S[_]=T}return S}(),update:function(S,_,T,D){for(var L=0;L<D;L++)S=b.crc.table[255&(S^_[T+L])]^S>>>8;return S},crc:function(S,_,T){return 4294967295^b.crc.update(4294967295,S,_,T)}},b.adler=function(S,_,T){for(var D=1,L=0,j=_,N=_+T;j<N;){for(var V=Math.min(j+5552,N);j<V;)L+=D+=S[j++];D%=65521,L%=65521}return L<<16|D},b.bin={readUshort:function(S,_){return S[_]|S[_+1]<<8},writeUshort:function(S,_,T){S[_]=255&T,S[_+1]=T>>8&255},readUint:function(S,_){return 16777216*S[_+3]+(S[_+2]<<16|S[_+1]<<8|S[_])},writeUint:function(S,_,T){S[_]=255&T,S[_+1]=T>>8&255,S[_+2]=T>>16&255,S[_+3]=T>>24&255},readASCII:function(S,_,T){for(var D="",L=0;L<T;L++)D+=String.fromCharCode(S[_+L]);return D},writeASCII:function(S,_,T){for(var D=0;D<T.length;D++)S[_+D]=T.charCodeAt(D)},pad:function(S){return S.length<2?"0"+S:S},readUTF8:function(S,_,T){for(var D,L="",j=0;j<T;j++)L+="%"+b.bin.pad(S[_+j].toString(16));try{D=decodeURIComponent(L)}catch{return b.bin.readASCII(S,_,T)}return D},writeUTF8:function(S,_,T){for(var D=T.length,L=0,j=0;j<D;j++){var N=T.charCodeAt(j);if(!(4294967168&N))S[_+L]=N,L++;else if(!(4294965248&N))S[_+L]=192|N>>6,S[_+L+1]=128|N>>0&63,L+=2;else if(!(4294901760&N))S[_+L]=224|N>>12,S[_+L+1]=128|N>>6&63,S[_+L+2]=128|N>>0&63,L+=3;else{if(4292870144&N)throw"e";S[_+L]=240|N>>18,S[_+L+1]=128|N>>12&63,S[_+L+2]=128|N>>6&63,S[_+L+3]=128|N>>0&63,L+=4}}return L},sizeUTF8:function(S){for(var _=S.length,T=0,D=0;D<_;D++){var L=S.charCodeAt(D);if(!(4294967168&L))T++;else if(!(4294965248&L))T+=2;else if(!(4294901760&L))T+=3;else{if(4292870144&L)throw"e";T+=4}}return T}},b.F={},b.F.deflateRaw=function(S,_,T,D){var L=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][D],j=b.F.U,N=b.F._goodIndex;b.F._hash;var V=b.F._putsE,P=0,z=T<<3,X=0,G=S.length;if(D==0){for(;P<G;)V(_,z,P+(Me=Math.min(65535,G-P))==G?1:0),z=b.F._copyExact(S,P,Me,_,z+8),P+=Me;return z>>>3}var Be=j.lits,de=j.strt,$e=j.prev,ue=0,Ee=0,De=0,ke=0,Xe=0,le=0;for(G>2&&(de[le=b.F._hash(S,0)]=0),P=0;P<G;P++){if(Xe=le,P+1<G-2){le=b.F._hash(S,P+1);var pe=P+1&32767;$e[pe]=de[le],de[le]=pe}if(X<=P){(ue>14e3||Ee>26697)&&G-P>100&&(X<P&&(Be[ue]=P-X,ue+=2,X=P),z=b.F._writeBlock(P==G-1||X==G?1:0,Be,ue,ke,S,De,P-De,_,z),ue=Ee=ke=0,De=P);var ye=0;P<G-2&&(ye=b.F._bestMatch(S,P,$e,Xe,Math.min(L[2],G-P),L[3]));var Me=ye>>>16,ne=65535&ye;if(ye!=0){ne=65535&ye;var U=N(Me=ye>>>16,j.of0);j.lhst[257+U]++;var xe=N(ne,j.df0);j.dhst[xe]++,ke+=j.exb[U]+j.dxb[xe],Be[ue]=Me<<23|P-X,Be[ue+1]=ne<<16|U<<8|xe,ue+=2,X=P+Me}else j.lhst[S[P]]++;Ee++}}for(De==P&&S.length!=0||(X<P&&(Be[ue]=P-X,ue+=2,X=P),z=b.F._writeBlock(1,Be,ue,ke,S,De,P-De,_,z),ue=0,Ee=0,ue=Ee=ke=0,De=P);7&z;)z++;return z>>>3},b.F._bestMatch=function(S,_,T,D,L,j){var N=32767&_,V=T[N],P=N-V+32768&32767;if(V==N||D!=b.F._hash(S,_-P))return 0;for(var z=0,X=0,G=Math.min(32767,_);P<=G&&--j!=0&&V!=N;){if(z==0||S[_+z]==S[_+z-P]){var Be=b.F._howLong(S,_,P);if(Be>z){if(X=P,(z=Be)>=L)break;P+2<Be&&(Be=P+2);for(var de=0,$e=0;$e<Be-2;$e++){var ue=_-P+$e+32768&32767,Ee=ue-T[ue]+32768&32767;Ee>de&&(de=Ee,V=ue)}}}P+=(N=V)-(V=T[N])+32768&32767}return z<<16|X},b.F._howLong=function(S,_,T){if(S[_]!=S[_-T]||S[_+1]!=S[_+1-T]||S[_+2]!=S[_+2-T])return 0;var D=_,L=Math.min(S.length,_+258);for(_+=3;_<L&&S[_]==S[_-T];)_++;return _-D},b.F._hash=function(S,_){return(S[_]<<8|S[_+1])+(S[_+2]<<4)&65535},b.saved=0,b.F._writeBlock=function(S,_,T,D,L,j,N,V,P){var z,X,G,Be,de,$e,ue,Ee,De,ke=b.F.U,Xe=b.F._putsF,le=b.F._putsE;ke.lhst[256]++,X=(z=b.F.getTrees())[0],G=z[1],Be=z[2],de=z[3],$e=z[4],ue=z[5],Ee=z[6],De=z[7];var pe=32+(P+3&7?8-(P+3&7):0)+(N<<3),ye=D+b.F.contSize(ke.fltree,ke.lhst)+b.F.contSize(ke.fdtree,ke.dhst),Me=D+b.F.contSize(ke.ltree,ke.lhst)+b.F.contSize(ke.dtree,ke.dhst);Me+=14+3*ue+b.F.contSize(ke.itree,ke.ihst)+(2*ke.ihst[16]+3*ke.ihst[17]+7*ke.ihst[18]);for(var ne=0;ne<286;ne++)ke.lhst[ne]=0;for(ne=0;ne<30;ne++)ke.dhst[ne]=0;for(ne=0;ne<19;ne++)ke.ihst[ne]=0;var U=pe<ye&&pe<Me?0:ye<Me?1:2;if(Xe(V,P,S),Xe(V,P+1,U),P+=3,U==0){for(;7&P;)P++;P=b.F._copyExact(L,j,N,V,P)}else{var xe,Ze;if(U==1&&(xe=ke.fltree,Ze=ke.fdtree),U==2){b.F.makeCodes(ke.ltree,X),b.F.revCodes(ke.ltree,X),b.F.makeCodes(ke.dtree,G),b.F.revCodes(ke.dtree,G),b.F.makeCodes(ke.itree,Be),b.F.revCodes(ke.itree,Be),xe=ke.ltree,Ze=ke.dtree,le(V,P,de-257),le(V,P+=5,$e-1),le(V,P+=5,ue-4),P+=4;for(var se=0;se<ue;se++)le(V,P+3*se,ke.itree[1+(ke.ordr[se]<<1)]);P+=3*ue,P=b.F._codeTiny(Ee,ke.itree,V,P),P=b.F._codeTiny(De,ke.itree,V,P)}for(var ge=j,ut=0;ut<T;ut+=2){for(var $=_[ut],xt=$>>>23,rt=ge+(8388607&$);ge<rt;)P=b.F._writeLit(L[ge++],xe,V,P);if(xt!=0){var at=_[ut+1],kn=at>>16,ln=at>>8&255,lt=255&at;le(V,P=b.F._writeLit(257+ln,xe,V,P),xt-ke.of0[ln]),P+=ke.exb[ln],Xe(V,P=b.F._writeLit(lt,Ze,V,P),kn-ke.df0[lt]),P+=ke.dxb[lt],ge+=xt}}P=b.F._writeLit(256,xe,V,P)}return P},b.F._copyExact=function(S,_,T,D,L){var j=L>>>3;return D[j]=T,D[j+1]=T>>>8,D[j+2]=255-D[j],D[j+3]=255-D[j+1],j+=4,D.set(new Uint8Array(S.buffer,_,T),j),L+(T+4<<3)},b.F.getTrees=function(){for(var S=b.F.U,_=b.F._hufTree(S.lhst,S.ltree,15),T=b.F._hufTree(S.dhst,S.dtree,15),D=[],L=b.F._lenCodes(S.ltree,D),j=[],N=b.F._lenCodes(S.dtree,j),V=0;V<D.length;V+=2)S.ihst[D[V]]++;for(V=0;V<j.length;V+=2)S.ihst[j[V]]++;for(var P=b.F._hufTree(S.ihst,S.itree,7),z=19;z>4&&S.itree[1+(S.ordr[z-1]<<1)]==0;)z--;return[_,T,P,L,N,z,D,j]},b.F.getSecond=function(S){for(var _=[],T=0;T<S.length;T+=2)_.push(S[T+1]);return _},b.F.nonZero=function(S){for(var _="",T=0;T<S.length;T+=2)S[T+1]!=0&&(_+=(T>>1)+",");return _},b.F.contSize=function(S,_){for(var T=0,D=0;D<_.length;D++)T+=_[D]*S[1+(D<<1)];return T},b.F._codeTiny=function(S,_,T,D){for(var L=0;L<S.length;L+=2){var j=S[L],N=S[L+1];D=b.F._writeLit(j,_,T,D);var V=j==16?2:j==17?3:7;j>15&&(b.F._putsE(T,D,N,V),D+=V)}return D},b.F._lenCodes=function(S,_){for(var T=S.length;T!=2&&S[T-1]==0;)T-=2;for(var D=0;D<T;D+=2){var L=S[D+1],j=D+3<T?S[D+3]:-1,N=D+5<T?S[D+5]:-1,V=D==0?-1:S[D-1];if(L==0&&j==L&&N==L){for(var P=D+5;P+2<T&&S[P+2]==L;)P+=2;(z=Math.min(P+1-D>>>1,138))<11?_.push(17,z-3):_.push(18,z-11),D+=2*z-2}else if(L==V&&j==L&&N==L){for(P=D+5;P+2<T&&S[P+2]==L;)P+=2;var z=Math.min(P+1-D>>>1,6);_.push(16,z-3),D+=2*z-2}else _.push(L,0)}return T>>>1},b.F._hufTree=function(S,_,T){var D=[],L=S.length,j=_.length,N=0;for(N=0;N<j;N+=2)_[N]=0,_[N+1]=0;for(N=0;N<L;N++)S[N]!=0&&D.push({lit:N,f:S[N]});var V=D.length,P=D.slice(0);if(V==0)return 0;if(V==1){var z=D[0].lit;return P=z==0?1:0,_[1+(z<<1)]=1,_[1+(P<<1)]=1,1}D.sort(function(Ee,De){return Ee.f-De.f});var X=D[0],G=D[1],Be=0,de=1,$e=2;for(D[0]={lit:-1,f:X.f+G.f,l:X,r:G,d:0};de!=V-1;)X=Be!=de&&($e==V||D[Be].f<D[$e].f)?D[Be++]:D[$e++],G=Be!=de&&($e==V||D[Be].f<D[$e].f)?D[Be++]:D[$e++],D[de++]={lit:-1,f:X.f+G.f,l:X,r:G};var ue=b.F.setDepth(D[de-1],0);for(ue>T&&(b.F.restrictDepth(P,T,ue),ue=T),N=0;N<V;N++)_[1+(P[N].lit<<1)]=P[N].d;return ue},b.F.setDepth=function(S,_){return S.lit!=-1?(S.d=_,_):Math.max(b.F.setDepth(S.l,_+1),b.F.setDepth(S.r,_+1))},b.F.restrictDepth=function(S,_,T){var D=0,L=1<<T-_,j=0;for(S.sort(function(V,P){return P.d==V.d?V.f-P.f:P.d-V.d}),D=0;D<S.length&&S[D].d>_;D++){var N=S[D].d;S[D].d=_,j+=L-(1<<T-N)}for(j>>>=T-_;j>0;)(N=S[D].d)<_?(S[D].d++,j-=1<<_-N-1):D++;for(;D>=0;D--)S[D].d==_&&j<0&&(S[D].d--,j++);j!=0&&console.log("debt left")},b.F._goodIndex=function(S,_){var T=0;return _[16|T]<=S&&(T|=16),_[8|T]<=S&&(T|=8),_[4|T]<=S&&(T|=4),_[2|T]<=S&&(T|=2),_[1|T]<=S&&(T|=1),T},b.F._writeLit=function(S,_,T,D){return b.F._putsF(T,D,_[S<<1]),D+_[1+(S<<1)]},b.F.inflate=function(S,_){var T=Uint8Array;if(S[0]==3&&S[1]==0)return _||new T(0);var D=b.F,L=D._bitsF,j=D._bitsE,N=D._decodeTiny,V=D.makeCodes,P=D.codes2map,z=D._get17,X=D.U,G=_==null;G&&(_=new T(S.length>>>2<<3));for(var Be,de,$e=0,ue=0,Ee=0,De=0,ke=0,Xe=0,le=0,pe=0,ye=0;$e==0;)if($e=L(S,ye,1),ue=L(S,ye+1,2),ye+=3,ue!=0){if(G&&(_=b.F._check(_,pe+(1<<17))),ue==1&&(Be=X.flmap,de=X.fdmap,Xe=511,le=31),ue==2){Ee=j(S,ye,5)+257,De=j(S,ye+5,5)+1,ke=j(S,ye+10,4)+4,ye+=14;for(var Me=0;Me<38;Me+=2)X.itree[Me]=0,X.itree[Me+1]=0;var ne=1;for(Me=0;Me<ke;Me++){var U=j(S,ye+3*Me,3);X.itree[1+(X.ordr[Me]<<1)]=U,U>ne&&(ne=U)}ye+=3*ke,V(X.itree,ne),P(X.itree,ne,X.imap),Be=X.lmap,de=X.dmap,ye=N(X.imap,(1<<ne)-1,Ee+De,S,ye,X.ttree);var xe=D._copyOut(X.ttree,0,Ee,X.ltree);Xe=(1<<xe)-1;var Ze=D._copyOut(X.ttree,Ee,De,X.dtree);le=(1<<Ze)-1,V(X.ltree,xe),P(X.ltree,xe,Be),V(X.dtree,Ze),P(X.dtree,Ze,de)}for(;;){var se=Be[z(S,ye)&Xe];ye+=15&se;var ge=se>>>4;if(!(ge>>>8))_[pe++]=ge;else{if(ge==256)break;var ut=pe+ge-254;if(ge>264){var $=X.ldef[ge-257];ut=pe+($>>>3)+j(S,ye,7&$),ye+=7&$}var xt=de[z(S,ye)&le];ye+=15&xt;var rt=xt>>>4,at=X.ddef[rt],kn=(at>>>4)+L(S,ye,15&at);for(ye+=15&at,G&&(_=b.F._check(_,pe+(1<<17)));pe<ut;)_[pe]=_[pe++-kn],_[pe]=_[pe++-kn],_[pe]=_[pe++-kn],_[pe]=_[pe++-kn];pe=ut}}}else{7&ye&&(ye+=8-(7&ye));var ln=4+(ye>>>3),lt=S[ln-4]|S[ln-3]<<8;G&&(_=b.F._check(_,pe+lt)),_.set(new T(S.buffer,S.byteOffset+ln,lt),pe),ye=ln+lt<<3,pe+=lt}return _.length==pe?_:_.slice(0,pe)},b.F._check=function(S,_){var T=S.length;if(_<=T)return S;var D=new Uint8Array(Math.max(T<<1,_));return D.set(S,0),D},b.F._decodeTiny=function(S,_,T,D,L,j){for(var N=b.F._bitsE,V=b.F._get17,P=0;P<T;){var z=S[V(D,L)&_];L+=15&z;var X=z>>>4;if(X<=15)j[P]=X,P++;else{var G=0,Be=0;X==16?(Be=3+N(D,L,2),L+=2,G=j[P-1]):X==17?(Be=3+N(D,L,3),L+=3):X==18&&(Be=11+N(D,L,7),L+=7);for(var de=P+Be;P<de;)j[P]=G,P++}}return L},b.F._copyOut=function(S,_,T,D){for(var L=0,j=0,N=D.length>>>1;j<T;){var V=S[j+_];D[j<<1]=0,D[1+(j<<1)]=V,V>L&&(L=V),j++}for(;j<N;)D[j<<1]=0,D[1+(j<<1)]=0,j++;return L},b.F.makeCodes=function(S,_){for(var T,D,L,j,N=b.F.U,V=S.length,P=N.bl_count,z=0;z<=_;z++)P[z]=0;for(z=1;z<V;z+=2)P[S[z]]++;var X=N.next_code;for(T=0,P[0]=0,D=1;D<=_;D++)T=T+P[D-1]<<1,X[D]=T;for(L=0;L<V;L+=2)(j=S[L+1])!=0&&(S[L]=X[j],X[j]++)},b.F.codes2map=function(S,_,T){for(var D=S.length,L=b.F.U.rev15,j=0;j<D;j+=2)if(S[j+1]!=0)for(var N=j>>1,V=S[j+1],P=N<<4|V,z=_-V,X=S[j]<<z,G=X+(1<<z);X!=G;)T[L[X]>>>15-_]=P,X++},b.F.revCodes=function(S,_){for(var T=b.F.U.rev15,D=15-_,L=0;L<S.length;L+=2){var j=S[L]<<_-S[L+1];S[L]=T[j]>>>D}},b.F._putsE=function(S,_,T){T<<=7&_;var D=_>>>3;S[D]|=T,S[D+1]|=T>>>8},b.F._putsF=function(S,_,T){T<<=7&_;var D=_>>>3;S[D]|=T,S[D+1]|=T>>>8,S[D+2]|=T>>>16},b.F._bitsE=function(S,_,T){return(S[_>>>3]|S[1+(_>>>3)]<<8)>>>(7&_)&(1<<T)-1},b.F._bitsF=function(S,_,T){return(S[_>>>3]|S[1+(_>>>3)]<<8|S[2+(_>>>3)]<<16)>>>(7&_)&(1<<T)-1},b.F._get17=function(S,_){return(S[_>>>3]|S[1+(_>>>3)]<<8|S[2+(_>>>3)]<<16)>>>(7&_)},b.F._get25=function(S,_){return(S[_>>>3]|S[1+(_>>>3)]<<8|S[2+(_>>>3)]<<16|S[3+(_>>>3)]<<24)>>>(7&_)},b.F.U=(m=Uint16Array,y=Uint32Array,{next_code:new m(16),bl_count:new m(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new m(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new y(32),flmap:new m(512),fltree:[],fdmap:new m(32),fdtree:[],lmap:new m(32768),ltree:[],ttree:[],dmap:new m(32768),dtree:[],imap:new m(512),itree:[],rev15:new m(32768),lhst:new y(286),dhst:new y(30),ihst:new y(19),lits:new y(15e3),strt:new m(65536),prev:new m(32768)}),function(){for(var S=b.F.U,_=0;_<32768;_++){var T=_;T=(4278255360&(T=(4042322160&(T=(3435973836&(T=(2863311530&T)>>>1|(1431655765&T)<<1))>>>2|(858993459&T)<<2))>>>4|(252645135&T)<<4))>>>8|(16711935&T)<<8,S.rev15[_]=(T>>>16|T<<16)>>>17}function D(L,j,N){for(;j--!=0;)L.push(0,N)}for(_=0;_<32;_++)S.ldef[_]=S.of0[_]<<3|S.exb[_],S.ddef[_]=S.df0[_]<<4|S.dxb[_];D(S.fltree,144,8),D(S.fltree,112,9),D(S.fltree,24,7),D(S.fltree,8,8),b.F.makeCodes(S.fltree,9),b.F.codes2map(S.fltree,9,S.flmap),b.F.revCodes(S.fltree,9),D(S.fdtree,32,5),b.F.makeCodes(S.fdtree,5),b.F.codes2map(S.fdtree,5,S.fdmap),b.F.revCodes(S.fdtree,5),D(S.itree,19,0),D(S.ltree,286,0),D(S.dtree,30,0),D(S.ttree,320,0)}()})();var Wae=Hae({__proto__:null,default:x6},[x6]);const Lm=function(){var f={nextZero(N,V){for(;N[V]!=0;)V++;return V},readUshort:(N,V)=>N[V]<<8|N[V+1],writeUshort(N,V,P){N[V]=P>>8&255,N[V+1]=255&P},readUint:(N,V)=>16777216*N[V]+(N[V+1]<<16|N[V+2]<<8|N[V+3]),writeUint(N,V,P){N[V]=P>>24&255,N[V+1]=P>>16&255,N[V+2]=P>>8&255,N[V+3]=255&P},readASCII(N,V,P){let z="";for(let X=0;X<P;X++)z+=String.fromCharCode(N[V+X]);return z},writeASCII(N,V,P){for(let z=0;z<P.length;z++)N[V+z]=P.charCodeAt(z)},readBytes(N,V,P){const z=[];for(let X=0;X<P;X++)z.push(N[V+X]);return z},pad:N=>N.length<2?`0${N}`:N,readUTF8(N,V,P){let z,X="";for(let G=0;G<P;G++)X+=`%${f.pad(N[V+G].toString(16))}`;try{z=decodeURIComponent(X)}catch{return f.readASCII(N,V,P)}return z}};function m(N,V,P,z){const X=V*P,G=_(z),Be=Math.ceil(V*G/8),de=new Uint8Array(4*X),$e=new Uint32Array(de.buffer),{ctype:ue}=z,{depth:Ee}=z,De=f.readUshort;if(ue==6){const $=X<<2;if(Ee==8)for(var ke=0;ke<$;ke+=4)de[ke]=N[ke],de[ke+1]=N[ke+1],de[ke+2]=N[ke+2],de[ke+3]=N[ke+3];if(Ee==16)for(ke=0;ke<$;ke++)de[ke]=N[ke<<1]}else if(ue==2){const $=z.tabs.tRNS;if($==null){if(Ee==8)for(ke=0;ke<X;ke++){var Xe=3*ke;$e[ke]=255<<24|N[Xe+2]<<16|N[Xe+1]<<8|N[Xe]}if(Ee==16)for(ke=0;ke<X;ke++)Xe=6*ke,$e[ke]=255<<24|N[Xe+4]<<16|N[Xe+2]<<8|N[Xe]}else{var le=$[0];const xt=$[1],rt=$[2];if(Ee==8)for(ke=0;ke<X;ke++){var pe=ke<<2;Xe=3*ke,$e[ke]=255<<24|N[Xe+2]<<16|N[Xe+1]<<8|N[Xe],N[Xe]==le&&N[Xe+1]==xt&&N[Xe+2]==rt&&(de[pe+3]=0)}if(Ee==16)for(ke=0;ke<X;ke++)pe=ke<<2,Xe=6*ke,$e[ke]=255<<24|N[Xe+4]<<16|N[Xe+2]<<8|N[Xe],De(N,Xe)==le&&De(N,Xe+2)==xt&&De(N,Xe+4)==rt&&(de[pe+3]=0)}}else if(ue==3){const $=z.tabs.PLTE,xt=z.tabs.tRNS,rt=xt?xt.length:0;if(Ee==1)for(var ye=0;ye<P;ye++){var Me=ye*Be,ne=ye*V;for(ke=0;ke<V;ke++){pe=ne+ke<<2;var U=3*(xe=N[Me+(ke>>3)]>>7-((7&ke)<<0)&1);de[pe]=$[U],de[pe+1]=$[U+1],de[pe+2]=$[U+2],de[pe+3]=xe<rt?xt[xe]:255}}if(Ee==2)for(ye=0;ye<P;ye++)for(Me=ye*Be,ne=ye*V,ke=0;ke<V;ke++)pe=ne+ke<<2,U=3*(xe=N[Me+(ke>>2)]>>6-((3&ke)<<1)&3),de[pe]=$[U],de[pe+1]=$[U+1],de[pe+2]=$[U+2],de[pe+3]=xe<rt?xt[xe]:255;if(Ee==4)for(ye=0;ye<P;ye++)for(Me=ye*Be,ne=ye*V,ke=0;ke<V;ke++)pe=ne+ke<<2,U=3*(xe=N[Me+(ke>>1)]>>4-((1&ke)<<2)&15),de[pe]=$[U],de[pe+1]=$[U+1],de[pe+2]=$[U+2],de[pe+3]=xe<rt?xt[xe]:255;if(Ee==8)for(ke=0;ke<X;ke++){var xe;pe=ke<<2,U=3*(xe=N[ke]),de[pe]=$[U],de[pe+1]=$[U+1],de[pe+2]=$[U+2],de[pe+3]=xe<rt?xt[xe]:255}}else if(ue==4){if(Ee==8)for(ke=0;ke<X;ke++){pe=ke<<2;var Ze=N[se=ke<<1];de[pe]=Ze,de[pe+1]=Ze,de[pe+2]=Ze,de[pe+3]=N[se+1]}if(Ee==16)for(ke=0;ke<X;ke++){var se;pe=ke<<2,Ze=N[se=ke<<2],de[pe]=Ze,de[pe+1]=Ze,de[pe+2]=Ze,de[pe+3]=N[se+2]}}else if(ue==0)for(le=z.tabs.tRNS?z.tabs.tRNS:-1,ye=0;ye<P;ye++){const $=ye*Be,xt=ye*V;if(Ee==1)for(var ge=0;ge<V;ge++){var ut=(Ze=255*(N[$+(ge>>>3)]>>>7-(7&ge)&1))==255*le?0:255;$e[xt+ge]=ut<<24|Ze<<16|Ze<<8|Ze}else if(Ee==2)for(ge=0;ge<V;ge++)ut=(Ze=85*(N[$+(ge>>>2)]>>>6-((3&ge)<<1)&3))==85*le?0:255,$e[xt+ge]=ut<<24|Ze<<16|Ze<<8|Ze;else if(Ee==4)for(ge=0;ge<V;ge++)ut=(Ze=17*(N[$+(ge>>>1)]>>>4-((1&ge)<<2)&15))==17*le?0:255,$e[xt+ge]=ut<<24|Ze<<16|Ze<<8|Ze;else if(Ee==8)for(ge=0;ge<V;ge++)ut=(Ze=N[$+ge])==le?0:255,$e[xt+ge]=ut<<24|Ze<<16|Ze<<8|Ze;else if(Ee==16)for(ge=0;ge<V;ge++)Ze=N[$+(ge<<1)],ut=De(N,$+(ge<<1))==le?0:255,$e[xt+ge]=ut<<24|Ze<<16|Ze<<8|Ze}return de}function y(N,V,P,z){const X=_(N),G=Math.ceil(P*X/8),Be=new Uint8Array((G+1+N.interlace)*z);return V=N.tabs.CgBI?S(V,Be):b(V,Be),N.interlace==0?V=T(V,N,0,P,z):N.interlace==1&&(V=function($e,ue){const Ee=ue.width,De=ue.height,ke=_(ue),Xe=ke>>3,le=Math.ceil(Ee*ke/8),pe=new Uint8Array(De*le);let ye=0;const Me=[0,0,4,0,2,0,1],ne=[0,4,0,2,0,1,0],U=[8,8,8,4,4,2,2],xe=[8,8,4,4,2,2,1];let Ze=0;for(;Ze<7;){const ge=U[Ze],ut=xe[Ze];let $=0,xt=0,rt=Me[Ze];for(;rt<De;)rt+=ge,xt++;let at=ne[Ze];for(;at<Ee;)at+=ut,$++;const kn=Math.ceil($*ke/8);T($e,ue,ye,$,xt);let ln=0,lt=Me[Ze];for(;lt<De;){let Sn=ne[Ze],te=ye+ln*kn<<3;for(;Sn<Ee;){var se;if(ke==1&&(se=(se=$e[te>>3])>>7-(7&te)&1,pe[lt*le+(Sn>>3)]|=se<<7-((7&Sn)<<0)),ke==2&&(se=(se=$e[te>>3])>>6-(7&te)&3,pe[lt*le+(Sn>>2)]|=se<<6-((3&Sn)<<1)),ke==4&&(se=(se=$e[te>>3])>>4-(7&te)&15,pe[lt*le+(Sn>>1)]|=se<<4-((1&Sn)<<2)),ke>=8){const cn=lt*le+Sn*Xe;for(let Ue=0;Ue<Xe;Ue++)pe[cn+Ue]=$e[(te>>3)+Ue]}te+=ke,Sn+=ut}ln++,lt+=ge}$*xt!=0&&(ye+=xt*(1+kn)),Ze+=1}return pe}(V,N)),V}function b(N,V){return S(new Uint8Array(N.buffer,2,N.length-6),V)}var S=function(){const N={H:{}};return N.H.N=function(V,P){const z=Uint8Array;let X,G,Be=0,de=0,$e=0,ue=0,Ee=0,De=0,ke=0,Xe=0,le=0;if(V[0]==3&&V[1]==0)return P||new z(0);const pe=N.H,ye=pe.b,Me=pe.e,ne=pe.R,U=pe.n,xe=pe.A,Ze=pe.Z,se=pe.m,ge=P==null;for(ge&&(P=new z(V.length>>>2<<5));Be==0;)if(Be=ye(V,le,1),de=ye(V,le+1,2),le+=3,de!=0){if(ge&&(P=N.H.W(P,Xe+(1<<17))),de==1&&(X=se.J,G=se.h,De=511,ke=31),de==2){$e=Me(V,le,5)+257,ue=Me(V,le+5,5)+1,Ee=Me(V,le+10,4)+4,le+=14;let $=1;for(var ut=0;ut<38;ut+=2)se.Q[ut]=0,se.Q[ut+1]=0;for(ut=0;ut<Ee;ut++){const at=Me(V,le+3*ut,3);se.Q[1+(se.X[ut]<<1)]=at,at>$&&($=at)}le+=3*Ee,U(se.Q,$),xe(se.Q,$,se.u),X=se.w,G=se.d,le=ne(se.u,(1<<$)-1,$e+ue,V,le,se.v);const xt=pe.V(se.v,0,$e,se.C);De=(1<<xt)-1;const rt=pe.V(se.v,$e,ue,se.D);ke=(1<<rt)-1,U(se.C,xt),xe(se.C,xt,X),U(se.D,rt),xe(se.D,rt,G)}for(;;){const $=X[Ze(V,le)&De];le+=15&$;const xt=$>>>4;if(!(xt>>>8))P[Xe++]=xt;else{if(xt==256)break;{let rt=Xe+xt-254;if(xt>264){const Sn=se.q[xt-257];rt=Xe+(Sn>>>3)+Me(V,le,7&Sn),le+=7&Sn}const at=G[Ze(V,le)&ke];le+=15&at;const kn=at>>>4,ln=se.c[kn],lt=(ln>>>4)+ye(V,le,15&ln);for(le+=15&ln;Xe<rt;)P[Xe]=P[Xe++-lt],P[Xe]=P[Xe++-lt],P[Xe]=P[Xe++-lt],P[Xe]=P[Xe++-lt];Xe=rt}}}}else{7&le&&(le+=8-(7&le));const $=4+(le>>>3),xt=V[$-4]|V[$-3]<<8;ge&&(P=N.H.W(P,Xe+xt)),P.set(new z(V.buffer,V.byteOffset+$,xt),Xe),le=$+xt<<3,Xe+=xt}return P.length==Xe?P:P.slice(0,Xe)},N.H.W=function(V,P){const z=V.length;if(P<=z)return V;const X=new Uint8Array(z<<1);return X.set(V,0),X},N.H.R=function(V,P,z,X,G,Be){const de=N.H.e,$e=N.H.Z;let ue=0;for(;ue<z;){const Ee=V[$e(X,G)&P];G+=15&Ee;const De=Ee>>>4;if(De<=15)Be[ue]=De,ue++;else{let ke=0,Xe=0;De==16?(Xe=3+de(X,G,2),G+=2,ke=Be[ue-1]):De==17?(Xe=3+de(X,G,3),G+=3):De==18&&(Xe=11+de(X,G,7),G+=7);const le=ue+Xe;for(;ue<le;)Be[ue]=ke,ue++}}return G},N.H.V=function(V,P,z,X){let G=0,Be=0;const de=X.length>>>1;for(;Be<z;){const $e=V[Be+P];X[Be<<1]=0,X[1+(Be<<1)]=$e,$e>G&&(G=$e),Be++}for(;Be<de;)X[Be<<1]=0,X[1+(Be<<1)]=0,Be++;return G},N.H.n=function(V,P){const z=N.H.m,X=V.length;let G,Be,de,$e;const ue=z.j;for(var Ee=0;Ee<=P;Ee++)ue[Ee]=0;for(Ee=1;Ee<X;Ee+=2)ue[V[Ee]]++;const De=z.K;for(G=0,ue[0]=0,Be=1;Be<=P;Be++)G=G+ue[Be-1]<<1,De[Be]=G;for(de=0;de<X;de+=2)$e=V[de+1],$e!=0&&(V[de]=De[$e],De[$e]++)},N.H.A=function(V,P,z){const X=V.length,G=N.H.m.r;for(let Be=0;Be<X;Be+=2)if(V[Be+1]!=0){const de=Be>>1,$e=V[Be+1],ue=de<<4|$e,Ee=P-$e;let De=V[Be]<<Ee;const ke=De+(1<<Ee);for(;De!=ke;)z[G[De]>>>15-P]=ue,De++}},N.H.l=function(V,P){const z=N.H.m.r,X=15-P;for(let G=0;G<V.length;G+=2){const Be=V[G]<<P-V[G+1];V[G]=z[Be]>>>X}},N.H.M=function(V,P,z){z<<=7&P;const X=P>>>3;V[X]|=z,V[X+1]|=z>>>8},N.H.I=function(V,P,z){z<<=7&P;const X=P>>>3;V[X]|=z,V[X+1]|=z>>>8,V[X+2]|=z>>>16},N.H.e=function(V,P,z){return(V[P>>>3]|V[1+(P>>>3)]<<8)>>>(7&P)&(1<<z)-1},N.H.b=function(V,P,z){return(V[P>>>3]|V[1+(P>>>3)]<<8|V[2+(P>>>3)]<<16)>>>(7&P)&(1<<z)-1},N.H.Z=function(V,P){return(V[P>>>3]|V[1+(P>>>3)]<<8|V[2+(P>>>3)]<<16)>>>(7&P)},N.H.i=function(V,P){return(V[P>>>3]|V[1+(P>>>3)]<<8|V[2+(P>>>3)]<<16|V[3+(P>>>3)]<<24)>>>(7&P)},N.H.m=function(){const V=Uint16Array,P=Uint32Array;return{K:new V(16),j:new V(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new V(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new P(32),J:new V(512),_:[],h:new V(32),$:[],w:new V(32768),C:[],v:[],d:new V(32768),D:[],u:new V(512),Q:[],r:new V(32768),s:new P(286),Y:new P(30),a:new P(19),t:new P(15e3),k:new V(65536),g:new V(32768)}}(),function(){const V=N.H.m;for(var P=0;P<32768;P++){let X=P;X=(2863311530&X)>>>1|(1431655765&X)<<1,X=(3435973836&X)>>>2|(858993459&X)<<2,X=(4042322160&X)>>>4|(252645135&X)<<4,X=(4278255360&X)>>>8|(16711935&X)<<8,V.r[P]=(X>>>16|X<<16)>>>17}function z(X,G,Be){for(;G--!=0;)X.push(0,Be)}for(P=0;P<32;P++)V.q[P]=V.S[P]<<3|V.T[P],V.c[P]=V.p[P]<<4|V.z[P];z(V._,144,8),z(V._,112,9),z(V._,24,7),z(V._,8,8),N.H.n(V._,9),N.H.A(V._,9,V.J),N.H.l(V._,9),z(V.$,32,5),N.H.n(V.$,5),N.H.A(V.$,5,V.h),N.H.l(V.$,5),z(V.Q,19,0),z(V.C,286,0),z(V.D,30,0),z(V.v,320,0)}(),N.H.N}();function _(N){return[1,null,3,1,2,null,4][N.ctype]*N.depth}function T(N,V,P,z,X){let G=_(V);const Be=Math.ceil(z*G/8);let de,$e;G=Math.ceil(G/8);let ue=N[P],Ee=0;if(ue>1&&(N[P]=[0,0,1][ue-2]),ue==3)for(Ee=G;Ee<Be;Ee++)N[Ee+1]=N[Ee+1]+(N[Ee+1-G]>>>1)&255;for(let De=0;De<X;De++)if(de=P+De*Be,$e=de+De+1,ue=N[$e-1],Ee=0,ue==0)for(;Ee<Be;Ee++)N[de+Ee]=N[$e+Ee];else if(ue==1){for(;Ee<G;Ee++)N[de+Ee]=N[$e+Ee];for(;Ee<Be;Ee++)N[de+Ee]=N[$e+Ee]+N[de+Ee-G]}else if(ue==2)for(;Ee<Be;Ee++)N[de+Ee]=N[$e+Ee]+N[de+Ee-Be];else if(ue==3){for(;Ee<G;Ee++)N[de+Ee]=N[$e+Ee]+(N[de+Ee-Be]>>>1);for(;Ee<Be;Ee++)N[de+Ee]=N[$e+Ee]+(N[de+Ee-Be]+N[de+Ee-G]>>>1)}else{for(;Ee<G;Ee++)N[de+Ee]=N[$e+Ee]+D(0,N[de+Ee-Be],0);for(;Ee<Be;Ee++)N[de+Ee]=N[$e+Ee]+D(N[de+Ee-G],N[de+Ee-Be],N[de+Ee-G-Be])}return N}function D(N,V,P){const z=N+V-P,X=z-N,G=z-V,Be=z-P;return X*X<=G*G&&X*X<=Be*Be?N:G*G<=Be*Be?V:P}function L(N,V,P){P.width=f.readUint(N,V),V+=4,P.height=f.readUint(N,V),V+=4,P.depth=N[V],V++,P.ctype=N[V],V++,P.compress=N[V],V++,P.filter=N[V],V++,P.interlace=N[V],V++}function j(N,V,P,z,X,G,Be,de,$e){const ue=Math.min(V,X),Ee=Math.min(P,G);let De=0,ke=0;for(let Ze=0;Ze<Ee;Ze++)for(let se=0;se<ue;se++)if(Be>=0&&de>=0?(De=Ze*V+se<<2,ke=(de+Ze)*X+Be+se<<2):(De=(-de+Ze)*V-Be+se<<2,ke=Ze*X+se<<2),$e==0)z[ke]=N[De],z[ke+1]=N[De+1],z[ke+2]=N[De+2],z[ke+3]=N[De+3];else if($e==1){var Xe=N[De+3]*.00392156862745098,le=N[De]*Xe,pe=N[De+1]*Xe,ye=N[De+2]*Xe,Me=z[ke+3]*(1/255),ne=z[ke]*Me,U=z[ke+1]*Me,xe=z[ke+2]*Me;const ge=1-Xe,ut=Xe+Me*ge,$=ut==0?0:1/ut;z[ke+3]=255*ut,z[ke+0]=(le+ne*ge)*$,z[ke+1]=(pe+U*ge)*$,z[ke+2]=(ye+xe*ge)*$}else if($e==2)Xe=N[De+3],le=N[De],pe=N[De+1],ye=N[De+2],Me=z[ke+3],ne=z[ke],U=z[ke+1],xe=z[ke+2],Xe==Me&&le==ne&&pe==U&&ye==xe?(z[ke]=0,z[ke+1]=0,z[ke+2]=0,z[ke+3]=0):(z[ke]=le,z[ke+1]=pe,z[ke+2]=ye,z[ke+3]=Xe);else if($e==3){if(Xe=N[De+3],le=N[De],pe=N[De+1],ye=N[De+2],Me=z[ke+3],ne=z[ke],U=z[ke+1],xe=z[ke+2],Xe==Me&&le==ne&&pe==U&&ye==xe)continue;if(Xe<220&&Me>20)return!1}return!0}return{decode:function(V){const P=new Uint8Array(V);let z=8;const X=f,G=X.readUshort,Be=X.readUint,de={tabs:{},frames:[]},$e=new Uint8Array(P.length);let ue,Ee=0,De=0;const ke=[137,80,78,71,13,10,26,10];for(var Xe=0;Xe<8;Xe++)if(P[Xe]!=ke[Xe])throw"The input is not a PNG file!";for(;z<P.length;){const Ze=X.readUint(P,z);z+=4;const se=X.readASCII(P,z,4);if(z+=4,se=="IHDR")L(P,z,de);else if(se=="iCCP"){for(var le=z;P[le]!=0;)le++;X.readASCII(P,z,le-z),P[le+1];const ge=P.slice(le+2,z+Ze);let ut=null;try{ut=b(ge)}catch{ut=S(ge)}de.tabs[se]=ut}else if(se=="CgBI")de.tabs[se]=P.slice(z,z+4);else if(se=="IDAT"){for(Xe=0;Xe<Ze;Xe++)$e[Ee+Xe]=P[z+Xe];Ee+=Ze}else if(se=="acTL")de.tabs[se]={num_frames:Be(P,z),num_plays:Be(P,z+4)},ue=new Uint8Array(P.length);else if(se=="fcTL"){De!=0&&((xe=de.frames[de.frames.length-1]).data=y(de,ue.slice(0,De),xe.rect.width,xe.rect.height),De=0);const ge={x:Be(P,z+12),y:Be(P,z+16),width:Be(P,z+4),height:Be(P,z+8)};let ut=G(P,z+22);ut=G(P,z+20)/(ut==0?100:ut);const $={rect:ge,delay:Math.round(1e3*ut),dispose:P[z+24],blend:P[z+25]};de.frames.push($)}else if(se=="fdAT"){for(Xe=0;Xe<Ze-4;Xe++)ue[De+Xe]=P[z+Xe+4];De+=Ze-4}else if(se=="pHYs")de.tabs[se]=[X.readUint(P,z),X.readUint(P,z+4),P[z+8]];else if(se=="cHRM")for(de.tabs[se]=[],Xe=0;Xe<8;Xe++)de.tabs[se].push(X.readUint(P,z+4*Xe));else if(se=="tEXt"||se=="zTXt"){de.tabs[se]==null&&(de.tabs[se]={});var pe=X.nextZero(P,z),ye=X.readASCII(P,z,pe-z),Me=z+Ze-pe-1;if(se=="tEXt")U=X.readASCII(P,pe+1,Me);else{var ne=b(P.slice(pe+2,pe+2+Me));U=X.readUTF8(ne,0,ne.length)}de.tabs[se][ye]=U}else if(se=="iTXt"){de.tabs[se]==null&&(de.tabs[se]={}),pe=0,le=z,pe=X.nextZero(P,le),ye=X.readASCII(P,le,pe-le);const ge=P[le=pe+1];var U;P[le+1],le+=2,pe=X.nextZero(P,le),X.readASCII(P,le,pe-le),le=pe+1,pe=X.nextZero(P,le),X.readUTF8(P,le,pe-le),Me=Ze-((le=pe+1)-z),ge==0?U=X.readUTF8(P,le,Me):(ne=b(P.slice(le,le+Me)),U=X.readUTF8(ne,0,ne.length)),de.tabs[se][ye]=U}else if(se=="PLTE")de.tabs[se]=X.readBytes(P,z,Ze);else if(se=="hIST"){const ge=de.tabs.PLTE.length/3;for(de.tabs[se]=[],Xe=0;Xe<ge;Xe++)de.tabs[se].push(G(P,z+2*Xe))}else if(se=="tRNS")de.ctype==3?de.tabs[se]=X.readBytes(P,z,Ze):de.ctype==0?de.tabs[se]=G(P,z):de.ctype==2&&(de.tabs[se]=[G(P,z),G(P,z+2),G(P,z+4)]);else if(se=="gAMA")de.tabs[se]=X.readUint(P,z)/1e5;else if(se=="sRGB")de.tabs[se]=P[z];else if(se=="bKGD")de.ctype==0||de.ctype==4?de.tabs[se]=[G(P,z)]:de.ctype==2||de.ctype==6?de.tabs[se]=[G(P,z),G(P,z+2),G(P,z+4)]:de.ctype==3&&(de.tabs[se]=P[z]);else if(se=="IEND")break;z+=Ze,X.readUint(P,z),z+=4}var xe;return De!=0&&((xe=de.frames[de.frames.length-1]).data=y(de,ue.slice(0,De),xe.rect.width,xe.rect.height)),de.data=y(de,$e,de.width,de.height),delete de.compress,delete de.interlace,delete de.filter,de},toRGBA8:function(V){const P=V.width,z=V.height;if(V.tabs.acTL==null)return[m(V.data,P,z,V).buffer];const X=[];V.frames[0].data==null&&(V.frames[0].data=V.data);const G=P*z*4,Be=new Uint8Array(G),de=new Uint8Array(G),$e=new Uint8Array(G);for(let Ee=0;Ee<V.frames.length;Ee++){const De=V.frames[Ee],ke=De.rect.x,Xe=De.rect.y,le=De.rect.width,pe=De.rect.height,ye=m(De.data,le,pe,V);if(Ee!=0)for(var ue=0;ue<G;ue++)$e[ue]=Be[ue];if(De.blend==0?j(ye,le,pe,Be,P,z,ke,Xe,0):De.blend==1&&j(ye,le,pe,Be,P,z,ke,Xe,1),X.push(Be.buffer.slice(0)),De.dispose!=0){if(De.dispose==1)j(de,le,pe,Be,P,z,ke,Xe,0);else if(De.dispose==2)for(ue=0;ue<G;ue++)Be[ue]=$e[ue]}}return X},_paeth:D,_copyTile:j,_bin:f}}();(function(){const{_copyTile:f}=Lm,{_bin:m}=Lm,y=Lm._paeth;var b={table:function(){const le=new Uint32Array(256);for(let pe=0;pe<256;pe++){let ye=pe;for(let Me=0;Me<8;Me++)1&ye?ye=3988292384^ye>>>1:ye>>>=1;le[pe]=ye}return le}(),update(le,pe,ye,Me){for(let ne=0;ne<Me;ne++)le=b.table[255&(le^pe[ye+ne])]^le>>>8;return le},crc:(le,pe,ye)=>4294967295^b.update(4294967295,le,pe,ye)};function S(le,pe,ye,Me){pe[ye]+=le[0]*Me>>4,pe[ye+1]+=le[1]*Me>>4,pe[ye+2]+=le[2]*Me>>4,pe[ye+3]+=le[3]*Me>>4}function _(le){return Math.max(0,Math.min(255,le))}function T(le,pe){const ye=le[0]-pe[0],Me=le[1]-pe[1],ne=le[2]-pe[2],U=le[3]-pe[3];return ye*ye+Me*Me+ne*ne+U*U}function D(le,pe,ye,Me,ne,U,xe){xe==null&&(xe=1);const Ze=Me.length,se=[];for(var ge=0;ge<Ze;ge++){const lt=Me[ge];se.push([lt>>>0&255,lt>>>8&255,lt>>>16&255,lt>>>24&255])}for(ge=0;ge<Ze;ge++){let lt=4294967295;for(var ut=0,$=0;$<Ze;$++){var xt=T(se[ge],se[$]);$!=ge&&xt<lt&&(lt=xt,ut=$)}}const rt=new Uint32Array(ne.buffer),at=new Int16Array(pe*ye*4),kn=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(ge=0;ge<kn.length;ge++)kn[ge]=255*((kn[ge]+.5)/16-.5);for(let lt=0;lt<ye;lt++)for(let Sn=0;Sn<pe;Sn++){var ln;ge=4*(lt*pe+Sn),xe!=2?ln=[_(le[ge]+at[ge]),_(le[ge+1]+at[ge+1]),_(le[ge+2]+at[ge+2]),_(le[ge+3]+at[ge+3])]:(xt=kn[4*(3&lt)+(3&Sn)],ln=[_(le[ge]+xt),_(le[ge+1]+xt),_(le[ge+2]+xt),_(le[ge+3]+xt)]),ut=0;let te=16777215;for($=0;$<Ze;$++){const gt=T(ln,se[$]);gt<te&&(te=gt,ut=$)}const cn=se[ut],Ue=[ln[0]-cn[0],ln[1]-cn[1],ln[2]-cn[2],ln[3]-cn[3]];xe==1&&(Sn!=pe-1&&S(Ue,at,ge+4,7),lt!=ye-1&&(Sn!=0&&S(Ue,at,ge+4*pe-4,3),S(Ue,at,ge+4*pe,5),Sn!=pe-1&&S(Ue,at,ge+4*pe+4,1))),U[ge>>2]=ut,rt[ge>>2]=Me[ut]}}function L(le,pe,ye,Me,ne){ne==null&&(ne={});const{crc:U}=b,xe=m.writeUint,Ze=m.writeUshort,se=m.writeASCII;let ge=8;const ut=le.frames.length>1;let $,xt=!1,rt=33+(ut?20:0);if(ne.sRGB!=null&&(rt+=13),ne.pHYs!=null&&(rt+=21),ne.iCCP!=null&&($=pako.deflate(ne.iCCP),rt+=21+$.length+4),le.ctype==3){for(var at=le.plte.length,kn=0;kn<at;kn++)le.plte[kn]>>>24!=255&&(xt=!0);rt+=8+3*at+4+(xt?8+1*at+4:0)}for(var ln=0;ln<le.frames.length;ln++)ut&&(rt+=38),rt+=(cn=le.frames[ln]).cimg.length+12,ln!=0&&(rt+=4);rt+=12;const lt=new Uint8Array(rt),Sn=[137,80,78,71,13,10,26,10];for(kn=0;kn<8;kn++)lt[kn]=Sn[kn];if(xe(lt,ge,13),ge+=4,se(lt,ge,"IHDR"),ge+=4,xe(lt,ge,pe),ge+=4,xe(lt,ge,ye),ge+=4,lt[ge]=le.depth,ge++,lt[ge]=le.ctype,ge++,lt[ge]=0,ge++,lt[ge]=0,ge++,lt[ge]=0,ge++,xe(lt,ge,U(lt,ge-17,17)),ge+=4,ne.sRGB!=null&&(xe(lt,ge,1),ge+=4,se(lt,ge,"sRGB"),ge+=4,lt[ge]=ne.sRGB,ge++,xe(lt,ge,U(lt,ge-5,5)),ge+=4),ne.iCCP!=null){const Ue=13+$.length;xe(lt,ge,Ue),ge+=4,se(lt,ge,"iCCP"),ge+=4,se(lt,ge,"ICC profile"),ge+=11,ge+=2,lt.set($,ge),ge+=$.length,xe(lt,ge,U(lt,ge-(Ue+4),Ue+4)),ge+=4}if(ne.pHYs!=null&&(xe(lt,ge,9),ge+=4,se(lt,ge,"pHYs"),ge+=4,xe(lt,ge,ne.pHYs[0]),ge+=4,xe(lt,ge,ne.pHYs[1]),ge+=4,lt[ge]=ne.pHYs[2],ge++,xe(lt,ge,U(lt,ge-13,13)),ge+=4),ut&&(xe(lt,ge,8),ge+=4,se(lt,ge,"acTL"),ge+=4,xe(lt,ge,le.frames.length),ge+=4,xe(lt,ge,ne.loop!=null?ne.loop:0),ge+=4,xe(lt,ge,U(lt,ge-12,12)),ge+=4),le.ctype==3){for(xe(lt,ge,3*(at=le.plte.length)),ge+=4,se(lt,ge,"PLTE"),ge+=4,kn=0;kn<at;kn++){const Ue=3*kn,gt=le.plte[kn],Gn=255&gt,Te=gt>>>8&255,Ae=gt>>>16&255;lt[ge+Ue+0]=Gn,lt[ge+Ue+1]=Te,lt[ge+Ue+2]=Ae}if(ge+=3*at,xe(lt,ge,U(lt,ge-3*at-4,3*at+4)),ge+=4,xt){for(xe(lt,ge,at),ge+=4,se(lt,ge,"tRNS"),ge+=4,kn=0;kn<at;kn++)lt[ge+kn]=le.plte[kn]>>>24&255;ge+=at,xe(lt,ge,U(lt,ge-at-4,at+4)),ge+=4}}let te=0;for(ln=0;ln<le.frames.length;ln++){var cn=le.frames[ln];ut&&(xe(lt,ge,26),ge+=4,se(lt,ge,"fcTL"),ge+=4,xe(lt,ge,te++),ge+=4,xe(lt,ge,cn.rect.width),ge+=4,xe(lt,ge,cn.rect.height),ge+=4,xe(lt,ge,cn.rect.x),ge+=4,xe(lt,ge,cn.rect.y),ge+=4,Ze(lt,ge,Me[ln]),ge+=2,Ze(lt,ge,1e3),ge+=2,lt[ge]=cn.dispose,ge++,lt[ge]=cn.blend,ge++,xe(lt,ge,U(lt,ge-30,30)),ge+=4);const Ue=cn.cimg;xe(lt,ge,(at=Ue.length)+(ln==0?0:4)),ge+=4;const gt=ge;se(lt,ge,ln==0?"IDAT":"fdAT"),ge+=4,ln!=0&&(xe(lt,ge,te++),ge+=4),lt.set(Ue,ge),ge+=at,xe(lt,ge,U(lt,gt,ge-gt)),ge+=4}return xe(lt,ge,0),ge+=4,se(lt,ge,"IEND"),ge+=4,xe(lt,ge,U(lt,ge-4,4)),ge+=4,lt.buffer}function j(le,pe,ye){for(let Me=0;Me<le.frames.length;Me++){const ne=le.frames[Me];ne.rect.width;const U=ne.rect.height,xe=new Uint8Array(U*ne.bpl+U);ne.cimg=z(ne.img,U,ne.bpp,ne.bpl,xe,pe,ye)}}function N(le,pe,ye,Me,ne){const U=ne[0],xe=ne[1],Ze=ne[2],se=ne[3],ge=ne[4],ut=ne[5];let $=6,xt=8,rt=255;for(var at=0;at<le.length;at++){const He=new Uint8Array(le[at]);for(var kn=He.length,ln=0;ln<kn;ln+=4)rt&=He[ln+3]}const lt=rt!=255,Sn=function(pt,Yt,ot,Wt,Ot,It){const nn=[];for(var pn=0;pn<pt.length;pn++){const fa=new Uint8Array(pt[pn]),Jr=new Uint32Array(fa.buffer);var jn;let Ir=0,va=0,Hr=Yt,ur=ot,Ia=Wt?1:0;if(pn!=0){const Zi=It||Wt||pn==1||nn[pn-2].dispose!=0?1:2;let Kl=0,Nr=1e9;for(let Si=0;Si<Zi;Si++){var ir=new Uint8Array(pt[pn-1-Si]);const Ju=new Uint32Array(pt[pn-1-Si]);let xi=Yt,En=ot,Dr=-1,uo=-1;for(let Zu=0;Zu<ot;Zu++)for(let Rr=0;Rr<Yt;Rr++)Jr[tr=Zu*Yt+Rr]!=Ju[tr]&&(Rr<xi&&(xi=Rr),Rr>Dr&&(Dr=Rr),Zu<En&&(En=Zu),Zu>uo&&(uo=Zu));Dr==-1&&(xi=En=Dr=uo=0),Ot&&((1&xi)==1&&xi--,(1&En)==1&&En--);const lu=(Dr-xi+1)*(uo-En+1);lu<Nr&&(Nr=lu,Kl=Si,Ir=xi,va=En,Hr=Dr-xi+1,ur=uo-En+1)}ir=new Uint8Array(pt[pn-1-Kl]),Kl==1&&(nn[pn-1].dispose=2),jn=new Uint8Array(Hr*ur*4),f(ir,Yt,ot,jn,Hr,ur,-Ir,-va,0),Ia=f(fa,Yt,ot,jn,Hr,ur,-Ir,-va,3)?1:0,Ia==1?P(fa,Yt,ot,jn,{x:Ir,y:va,width:Hr,height:ur}):f(fa,Yt,ot,jn,Hr,ur,-Ir,-va,0)}else jn=fa.slice(0);nn.push({rect:{x:Ir,y:va,width:Hr,height:ur},img:jn,blend:Ia,dispose:0})}if(Wt)for(pn=0;pn<nn.length;pn++){if((oa=nn[pn]).blend==1)continue;const fa=oa.rect,Jr=nn[pn-1].rect,Ir=Math.min(fa.x,Jr.x),va=Math.min(fa.y,Jr.y),Hr={x:Ir,y:va,width:Math.max(fa.x+fa.width,Jr.x+Jr.width)-Ir,height:Math.max(fa.y+fa.height,Jr.y+Jr.height)-va};nn[pn-1].dispose=1,pn-1!=0&&V(pt,Yt,ot,nn,pn-1,Hr,Ot),V(pt,Yt,ot,nn,pn,Hr,Ot)}let jr=0;if(pt.length!=1)for(var tr=0;tr<nn.length;tr++){var oa;jr+=(oa=nn[tr]).rect.width*oa.rect.height}return nn}(le,pe,ye,U,xe,Ze),te={},cn=[],Ue=[];if(Me!=0){const He=[];for(ln=0;ln<Sn.length;ln++)He.push(Sn[ln].img.buffer);const pt=function(Ot){let It=0;for(var nn=0;nn<Ot.length;nn++)It+=Ot[nn].byteLength;const pn=new Uint8Array(It);let jn=0;for(nn=0;nn<Ot.length;nn++){const ir=new Uint8Array(Ot[nn]),jr=ir.length;for(let tr=0;tr<jr;tr+=4){let oa=ir[tr],fa=ir[tr+1],Jr=ir[tr+2];const Ir=ir[tr+3];Ir==0&&(oa=fa=Jr=0),pn[jn+tr]=oa,pn[jn+tr+1]=fa,pn[jn+tr+2]=Jr,pn[jn+tr+3]=Ir}jn+=jr}return pn.buffer}(He),Yt=G(pt,Me);for(ln=0;ln<Yt.plte.length;ln++)cn.push(Yt.plte[ln].est.rgba);let ot=0;for(ln=0;ln<Sn.length;ln++){const Wt=(Gn=Sn[ln]).img.length;var gt=new Uint8Array(Yt.inds.buffer,ot>>2,Wt>>2);Ue.push(gt);const Ot=new Uint8Array(Yt.abuf,ot,Wt);ut&&D(Gn.img,Gn.rect.width,Gn.rect.height,cn,Ot,gt),Gn.img.set(Ot),ot+=Wt}}else for(at=0;at<Sn.length;at++){var Gn=Sn[at];const He=new Uint32Array(Gn.img.buffer);var Te=Gn.rect.width;for(kn=He.length,gt=new Uint8Array(kn),Ue.push(gt),ln=0;ln<kn;ln++){const pt=He[ln];if(ln!=0&&pt==He[ln-1])gt[ln]=gt[ln-1];else if(ln>Te&&pt==He[ln-Te])gt[ln]=gt[ln-Te];else{let Yt=te[pt];if(Yt==null&&(te[pt]=Yt=cn.length,cn.push(pt),cn.length>=300))break;gt[ln]=Yt}}}const Ae=cn.length;for(Ae<=256&&ge==0&&(xt=Ae<=2?1:Ae<=4?2:Ae<=16?4:8,xt=Math.max(xt,se)),at=0;at<Sn.length;at++){(Gn=Sn[at]).rect.x,Gn.rect.y,Te=Gn.rect.width;const He=Gn.rect.height;let pt=Gn.img;new Uint32Array(pt.buffer);let Yt=4*Te,ot=4;if(Ae<=256&&ge==0){Yt=Math.ceil(xt*Te/8);var Ye=new Uint8Array(Yt*He);const Wt=Ue[at];for(let Ot=0;Ot<He;Ot++){ln=Ot*Yt;const It=Ot*Te;if(xt==8)for(var Qe=0;Qe<Te;Qe++)Ye[ln+Qe]=Wt[It+Qe];else if(xt==4)for(Qe=0;Qe<Te;Qe++)Ye[ln+(Qe>>1)]|=Wt[It+Qe]<<4-4*(1&Qe);else if(xt==2)for(Qe=0;Qe<Te;Qe++)Ye[ln+(Qe>>2)]|=Wt[It+Qe]<<6-2*(3&Qe);else if(xt==1)for(Qe=0;Qe<Te;Qe++)Ye[ln+(Qe>>3)]|=Wt[It+Qe]<<7-1*(7&Qe)}pt=Ye,$=3,ot=1}else if(lt==0&&Sn.length==1){Ye=new Uint8Array(Te*He*3);const Wt=Te*He;for(ln=0;ln<Wt;ln++){const Ot=3*ln,It=4*ln;Ye[Ot]=pt[It],Ye[Ot+1]=pt[It+1],Ye[Ot+2]=pt[It+2]}pt=Ye,$=2,ot=3,Yt=3*Te}Gn.img=pt,Gn.bpl=Yt,Gn.bpp=ot}return{ctype:$,depth:xt,plte:cn,frames:Sn}}function V(le,pe,ye,Me,ne,U,xe){const Ze=Uint8Array,se=Uint32Array,ge=new Ze(le[ne-1]),ut=new se(le[ne-1]),$=ne+1<le.length?new Ze(le[ne+1]):null,xt=new Ze(le[ne]),rt=new se(xt.buffer);let at=pe,kn=ye,ln=-1,lt=-1;for(let te=0;te<U.height;te++)for(let cn=0;cn<U.width;cn++){const Ue=U.x+cn,gt=U.y+te,Gn=gt*pe+Ue,Te=rt[Gn];Te==0||Me[ne-1].dispose==0&&ut[Gn]==Te&&($==null||$[4*Gn+3]!=0)||(Ue<at&&(at=Ue),Ue>ln&&(ln=Ue),gt<kn&&(kn=gt),gt>lt&&(lt=gt))}ln==-1&&(at=kn=ln=lt=0),xe&&((1&at)==1&&at--,(1&kn)==1&&kn--),U={x:at,y:kn,width:ln-at+1,height:lt-kn+1};const Sn=Me[ne];Sn.rect=U,Sn.blend=1,Sn.img=new Uint8Array(U.width*U.height*4),Me[ne-1].dispose==0?(f(ge,pe,ye,Sn.img,U.width,U.height,-U.x,-U.y,0),P(xt,pe,ye,Sn.img,U)):f(xt,pe,ye,Sn.img,U.width,U.height,-U.x,-U.y,0)}function P(le,pe,ye,Me,ne){f(le,pe,ye,Me,ne.width,ne.height,-ne.x,-ne.y,2)}function z(le,pe,ye,Me,ne,U,xe){const Ze=[];let se,ge=[0,1,2,3,4];U!=-1?ge=[U]:(pe*Me>5e5||ye==1)&&(ge=[0]),xe&&(se={level:0});const ut=Wae;for(var $=0;$<ge.length;$++){for(let at=0;at<pe;at++)X(ne,le,at,Me,ye,ge[$]);Ze.push(ut.deflate(ne,se))}let xt,rt=1e9;for($=0;$<Ze.length;$++)Ze[$].length<rt&&(xt=$,rt=Ze[$].length);return Ze[xt]}function X(le,pe,ye,Me,ne,U){const xe=ye*Me;let Ze=xe+ye;if(le[Ze]=U,Ze++,U==0)if(Me<500)for(var se=0;se<Me;se++)le[Ze+se]=pe[xe+se];else le.set(new Uint8Array(pe.buffer,xe,Me),Ze);else if(U==1){for(se=0;se<ne;se++)le[Ze+se]=pe[xe+se];for(se=ne;se<Me;se++)le[Ze+se]=pe[xe+se]-pe[xe+se-ne]+256&255}else if(ye==0){for(se=0;se<ne;se++)le[Ze+se]=pe[xe+se];if(U==2)for(se=ne;se<Me;se++)le[Ze+se]=pe[xe+se];if(U==3)for(se=ne;se<Me;se++)le[Ze+se]=pe[xe+se]-(pe[xe+se-ne]>>1)+256&255;if(U==4)for(se=ne;se<Me;se++)le[Ze+se]=pe[xe+se]-y(pe[xe+se-ne],0,0)+256&255}else{if(U==2)for(se=0;se<Me;se++)le[Ze+se]=pe[xe+se]+256-pe[xe+se-Me]&255;if(U==3){for(se=0;se<ne;se++)le[Ze+se]=pe[xe+se]+256-(pe[xe+se-Me]>>1)&255;for(se=ne;se<Me;se++)le[Ze+se]=pe[xe+se]+256-(pe[xe+se-Me]+pe[xe+se-ne]>>1)&255}if(U==4){for(se=0;se<ne;se++)le[Ze+se]=pe[xe+se]+256-y(0,pe[xe+se-Me],0)&255;for(se=ne;se<Me;se++)le[Ze+se]=pe[xe+se]+256-y(pe[xe+se-ne],pe[xe+se-Me],pe[xe+se-ne-Me])&255}}}function G(le,pe){const ye=new Uint8Array(le),Me=ye.slice(0),ne=new Uint32Array(Me.buffer),U=Be(Me,pe),xe=U[0],Ze=U[1],se=ye.length,ge=new Uint8Array(se>>2);let ut;if(ye.length<2e7)for(var $=0;$<se;$+=4)ut=de(xe,xt=ye[$]*(1/255),rt=ye[$+1]*(1/255),at=ye[$+2]*(1/255),kn=ye[$+3]*(1/255)),ge[$>>2]=ut.ind,ne[$>>2]=ut.est.rgba;else for($=0;$<se;$+=4){var xt=ye[$]*.00392156862745098,rt=ye[$+1]*(1/255),at=ye[$+2]*(1/255),kn=ye[$+3]*(1/255);for(ut=xe;ut.left;)ut=$e(ut.est,xt,rt,at,kn)<=0?ut.left:ut.right;ge[$>>2]=ut.ind,ne[$>>2]=ut.est.rgba}return{abuf:Me.buffer,inds:ge,plte:Ze}}function Be(le,pe,ye){ye==null&&(ye=1e-4);const Me=new Uint32Array(le.buffer),ne={i0:0,i1:le.length,bst:null,est:null,tdst:0,left:null,right:null};ne.bst=De(le,ne.i0,ne.i1),ne.est=ke(ne.bst);const U=[ne];for(;U.length<pe;){let Ze=0,se=0;for(var xe=0;xe<U.length;xe++)U[xe].est.L>Ze&&(Ze=U[xe].est.L,se=xe);if(Ze<ye)break;const ge=U[se],ut=ue(le,Me,ge.i0,ge.i1,ge.est.e,ge.est.eMq255);if(ge.i0>=ut||ge.i1<=ut){ge.est.L=0;continue}const $={i0:ge.i0,i1:ut,bst:null,est:null,tdst:0,left:null,right:null};$.bst=De(le,$.i0,$.i1),$.est=ke($.bst);const xt={i0:ut,i1:ge.i1,bst:null,est:null,tdst:0,left:null,right:null};for(xt.bst={R:[],m:[],N:ge.bst.N-$.bst.N},xe=0;xe<16;xe++)xt.bst.R[xe]=ge.bst.R[xe]-$.bst.R[xe];for(xe=0;xe<4;xe++)xt.bst.m[xe]=ge.bst.m[xe]-$.bst.m[xe];xt.est=ke(xt.bst),ge.left=$,ge.right=xt,U[se]=$,U.push(xt)}for(U.sort((Ze,se)=>se.bst.N-Ze.bst.N),xe=0;xe<U.length;xe++)U[xe].ind=xe;return[ne,U]}function de(le,pe,ye,Me,ne){if(le.left==null)return le.tdst=function($,xt,rt,at,kn){const ln=xt-$[0],lt=rt-$[1],Sn=at-$[2],te=kn-$[3];return ln*ln+lt*lt+Sn*Sn+te*te}(le.est.q,pe,ye,Me,ne),le;const U=$e(le.est,pe,ye,Me,ne);let xe=le.left,Ze=le.right;U>0&&(xe=le.right,Ze=le.left);const se=de(xe,pe,ye,Me,ne);if(se.tdst<=U*U)return se;const ge=de(Ze,pe,ye,Me,ne);return ge.tdst<se.tdst?ge:se}function $e(le,pe,ye,Me,ne){const{e:U}=le;return U[0]*pe+U[1]*ye+U[2]*Me+U[3]*ne-le.eMq}function ue(le,pe,ye,Me,ne,U){for(Me-=4;ye<Me;){for(;Ee(le,ye,ne)<=U;)ye+=4;for(;Ee(le,Me,ne)>U;)Me-=4;if(ye>=Me)break;const xe=pe[ye>>2];pe[ye>>2]=pe[Me>>2],pe[Me>>2]=xe,ye+=4,Me-=4}for(;Ee(le,ye,ne)>U;)ye-=4;return ye+4}function Ee(le,pe,ye){return le[pe]*ye[0]+le[pe+1]*ye[1]+le[pe+2]*ye[2]+le[pe+3]*ye[3]}function De(le,pe,ye){const Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ne=[0,0,0,0],U=ye-pe>>2;for(let xe=pe;xe<ye;xe+=4){const Ze=le[xe]*.00392156862745098,se=le[xe+1]*(1/255),ge=le[xe+2]*(1/255),ut=le[xe+3]*(1/255);ne[0]+=Ze,ne[1]+=se,ne[2]+=ge,ne[3]+=ut,Me[0]+=Ze*Ze,Me[1]+=Ze*se,Me[2]+=Ze*ge,Me[3]+=Ze*ut,Me[5]+=se*se,Me[6]+=se*ge,Me[7]+=se*ut,Me[10]+=ge*ge,Me[11]+=ge*ut,Me[15]+=ut*ut}return Me[4]=Me[1],Me[8]=Me[2],Me[9]=Me[6],Me[12]=Me[3],Me[13]=Me[7],Me[14]=Me[11],{R:Me,m:ne,N:U}}function ke(le){const{R:pe}=le,{m:ye}=le,{N:Me}=le,ne=ye[0],U=ye[1],xe=ye[2],Ze=ye[3],se=Me==0?0:1/Me,ge=[pe[0]-ne*ne*se,pe[1]-ne*U*se,pe[2]-ne*xe*se,pe[3]-ne*Ze*se,pe[4]-U*ne*se,pe[5]-U*U*se,pe[6]-U*xe*se,pe[7]-U*Ze*se,pe[8]-xe*ne*se,pe[9]-xe*U*se,pe[10]-xe*xe*se,pe[11]-xe*Ze*se,pe[12]-Ze*ne*se,pe[13]-Ze*U*se,pe[14]-Ze*xe*se,pe[15]-Ze*Ze*se],ut=ge,$=Xe;let xt=[Math.random(),Math.random(),Math.random(),Math.random()],rt=0,at=0;if(Me!=0)for(let ln=0;ln<16&&(xt=$.multVec(ut,xt),at=Math.sqrt($.dot(xt,xt)),xt=$.sml(1/at,xt),!(ln!=0&&Math.abs(at-rt)<1e-9));ln++)rt=at;const kn=[ne*se,U*se,xe*se,Ze*se];return{Cov:ge,q:kn,e:xt,L:rt,eMq255:$.dot($.sml(255,kn),xt),eMq:$.dot(xt,kn),rgba:(Math.round(255*kn[3])<<24|Math.round(255*kn[2])<<16|Math.round(255*kn[1])<<8|Math.round(255*kn[0])<<0)>>>0}}var Xe={multVec:(le,pe)=>[le[0]*pe[0]+le[1]*pe[1]+le[2]*pe[2]+le[3]*pe[3],le[4]*pe[0]+le[5]*pe[1]+le[6]*pe[2]+le[7]*pe[3],le[8]*pe[0]+le[9]*pe[1]+le[10]*pe[2]+le[11]*pe[3],le[12]*pe[0]+le[13]*pe[1]+le[14]*pe[2]+le[15]*pe[3]],dot:(le,pe)=>le[0]*pe[0]+le[1]*pe[1]+le[2]*pe[2]+le[3]*pe[3],sml:(le,pe)=>[le*pe[0],le*pe[1],le*pe[2],le*pe[3]]};Lm.encode=function(pe,ye,Me,ne,U,xe,Ze){ne==null&&(ne=0),Ze==null&&(Ze=!1);const se=N(pe,ye,Me,ne,[!1,!1,!1,0,Ze,!1]);return j(se,-1),L(se,ye,Me,U,xe)},Lm.encodeLL=function(pe,ye,Me,ne,U,xe,Ze,se){const ge={ctype:0+(ne==1?0:2)+(U==0?0:4),depth:xe,frames:[]},ut=(ne+U)*xe,$=ut*ye;for(let xt=0;xt<pe.length;xt++)ge.frames.push({rect:{x:0,y:0,width:ye,height:Me},img:new Uint8Array(pe[xt]),blend:0,dispose:1,bpp:Math.ceil(ut/8),bpl:Math.ceil($/8)});return j(ge,0,!0),L(ge,ye,Me,Ze,se)},Lm.encode.compress=N,Lm.encode.dither=D,Lm.quantize=G,Lm.quantize.getKDtree=Be,Lm.quantize.getNearest=de})();const tG={toArrayBuffer(f,m){const y=f.width,b=f.height,S=y<<2,_=f.getContext("2d").getImageData(0,0,y,b),T=new Uint32Array(_.data.buffer),D=(32*y+31)/32<<2,L=D*b,j=122+L,N=new ArrayBuffer(j),V=new DataView(N),P=1<<20;let z,X,G,Be,de=P,$e=0,ue=0,Ee=0;function De(le){V.setUint16(ue,le,!0),ue+=2}function ke(le){V.setUint32(ue,le,!0),ue+=4}function Xe(le){ue+=le}De(19778),ke(j),Xe(4),ke(122),ke(108),ke(y),ke(-b>>>0),De(1),De(32),ke(3),ke(L),ke(2835),ke(2835),Xe(8),ke(16711680),ke(65280),ke(255),ke(4278190080),ke(1466527264),function le(){for(;$e<b&&de>0;){for(Be=122+$e*D,z=0;z<S;)de--,X=T[Ee++],G=X>>>24,V.setUint32(Be+z,X<<8|G),z+=4;$e++}Ee<T.length?(de=P,setTimeout(le,tG._dly)):m(N)}()},toBlob(f,m){this.toArrayBuffer(f,y=>{m(new Blob([y],{type:"image/bmp"}))})},_dly:9};var kf={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},jae={[kf.CHROME]:16384,[kf.FIREFOX]:11180,[kf.DESKTOP_SAFARI]:16384,[kf.IE]:8192,[kf.IOS]:4096,[kf.ETC]:8192};const t9=typeof window<"u",nG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,_6=t9&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Gae=(t9||nG)&&(_6&&_6.getOriginalSymbol(window,"File")||typeof File<"u"&&File),rG=(t9||nG)&&(_6&&_6.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function n9(f,m,y=Date.now()){return new Promise(b=>{const S=f.split(","),_=S[0].match(/:(.*?);/)[1],T=globalThis.atob(S[1]);let D=T.length;const L=new Uint8Array(D);for(;D--;)L[D]=T.charCodeAt(D);const j=new Blob([L],{type:_});j.name=m,j.lastModified=y,b(j)})}function aG(f){return new Promise((m,y)=>{const b=new rG;b.onload=()=>m(b.result),b.onerror=S=>y(S),b.readAsDataURL(f)})}function oG(f){return new Promise((m,y)=>{const b=new Image;b.onload=()=>m(b),b.onerror=S=>y(S),b.src=f})}function PS(){if(PS.cachedResult!==void 0)return PS.cachedResult;let f=kf.ETC;const{userAgent:m}=navigator;return/Chrom(e|ium)/i.test(m)?f=kf.CHROME:/iP(ad|od|hone)/i.test(m)&&/WebKit/i.test(m)?f=kf.IOS:/Safari/i.test(m)?f=kf.DESKTOP_SAFARI:/Firefox/i.test(m)?f=kf.FIREFOX:(/MSIE/i.test(m)||document.documentMode)&&(f=kf.IE),PS.cachedResult=f,PS.cachedResult}function iG(f,m){const y=PS(),b=jae[y];let S=f,_=m,T=S*_;const D=S>_?_/S:S/_;for(;T>b*b;){const L=(b+S)/2,j=(b+_)/2;L<j?(_=j,S=j*D):(_=L*D,S=L),T=S*_}return{width:S,height:_}}function t8(f,m){let y,b;try{if(y=new OffscreenCanvas(f,m),b=y.getContext("2d"),b===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{y=document.createElement("canvas"),b=y.getContext("2d")}return y.width=f,y.height=m,[y,b]}function uG(f,m){const{width:y,height:b}=iG(f.width,f.height),[S,_]=t8(y,b);return m&&/jpe?g/.test(m)&&(_.fillStyle="white",_.fillRect(0,0,S.width,S.height)),_.drawImage(f,0,0,S.width,S.height),S}function f6(){return f6.cachedResult!==void 0||(f6.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),f6.cachedResult}function k6(f,m={}){return new Promise(function(y,b){let S,_;var T=function(){try{return _=uG(S,m.fileType||f.type),y([S,_])}catch(L){return b(L)}},D=function(L){try{var j=function(N){try{throw N}catch(V){return b(V)}};try{let N;return aG(f).then(function(V){try{return N=V,oG(N).then(function(P){try{return S=P,function(){try{return T()}catch(z){return b(z)}}()}catch(z){return j(z)}},j)}catch(P){return j(P)}},j)}catch(N){j(N)}}catch(N){return b(N)}};try{if(f6()||[kf.DESKTOP_SAFARI,kf.MOBILE_SAFARI].includes(PS()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(f).then(function(L){try{return S=L,T()}catch{return D()}},D)}catch{D()}})}function A6(f,m,y,b,S=1){return new Promise(function(_,T){let D;if(m==="image/png"){let V,P,z;return V=f.getContext("2d"),{data:P}=V.getImageData(0,0,f.width,f.height),z=Lm.encode([P.buffer],f.width,f.height,4096*S),D=new Blob([z],{type:m}),D.name=y,D.lastModified=b,L.call(this)}{let V=function(){return L.call(this)};var j=V;if(m==="image/bmp")return new Promise(P=>tG.toBlob(f,P)).then((function(P){try{return D=P,D.name=y,D.lastModified=b,V.call(this)}catch(z){return T(z)}}).bind(this),T);{let P=function(){return V.call(this)};var N=P;if(typeof OffscreenCanvas=="function"&&f instanceof OffscreenCanvas)return f.convertToBlob({type:m,quality:S}).then((function(z){try{return D=z,D.name=y,D.lastModified=b,P.call(this)}catch(X){return T(X)}}).bind(this),T);{let z;return z=f.toDataURL(m,S),n9(z,y,b).then((function(X){try{return D=X,P.call(this)}catch(G){return T(G)}}).bind(this),T)}}}function L(){return _(D)}})}function tp(f){f.width=0,f.height=0}function t3(){return new Promise(function(f,m){let y,b,S,_;return t3.cachedResult!==void 0?f(t3.cachedResult):n9("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(T){try{return y=T,k6(y).then(function(D){try{return b=D[1],A6(b,y.type,y.name,y.lastModified).then(function(L){try{return S=L,tp(b),k6(S).then(function(j){try{return _=j[0],t3.cachedResult=_.width===1&&_.height===2,f(t3.cachedResult)}catch(N){return m(N)}},m)}catch(j){return m(j)}},m)}catch(L){return m(L)}},m)}catch(D){return m(D)}},m)})}function sG(f){return new Promise((m,y)=>{const b=new rG;b.onload=S=>{const _=new DataView(S.target.result);if(_.getUint16(0,!1)!=65496)return m(-2);const T=_.byteLength;let D=2;for(;D<T;){if(_.getUint16(D+2,!1)<=8)return m(-1);const L=_.getUint16(D,!1);if(D+=2,L==65505){if(_.getUint32(D+=2,!1)!=1165519206)return m(-1);const j=_.getUint16(D+=6,!1)==18761;D+=_.getUint32(D+4,j);const N=_.getUint16(D,j);D+=2;for(let V=0;V<N;V++)if(_.getUint16(D+12*V,j)==274)return m(_.getUint16(D+12*V+8,j))}else{if((65280&L)!=65280)break;D+=_.getUint16(D,!1)}}return m(-1)},b.onerror=S=>y(S),b.readAsArrayBuffer(f)})}function lG(f,m){const{width:y}=f,{height:b}=f,{maxWidthOrHeight:S}=m;let _,T=f;return isFinite(S)&&(y>S||b>S)&&([T,_]=t8(y,b),y>b?(T.width=S,T.height=b/y*S):(T.width=y/b*S,T.height=S),_.drawImage(f,0,0,T.width,T.height),tp(f)),T}function cG(f,m){const{width:y}=f,{height:b}=f,[S,_]=t8(y,b);switch(m>4&&m<9?(S.width=b,S.height=y):(S.width=y,S.height=b),m){case 2:_.transform(-1,0,0,1,y,0);break;case 3:_.transform(-1,0,0,-1,y,b);break;case 4:_.transform(1,0,0,-1,0,b);break;case 5:_.transform(0,1,1,0,0,0);break;case 6:_.transform(0,1,-1,0,b,0);break;case 7:_.transform(0,-1,-1,0,b,y);break;case 8:_.transform(0,-1,1,0,0,y)}return _.drawImage(f,0,0,y,b),tp(f),S}function _W(f,m,y=0){return new Promise(function(b,S){let _,T,D,L,j,N,V,P,z,X,G,Be,de,$e,ue,Ee,De,ke,Xe,le;function pe(Me=5){if(m.signal&&m.signal.aborted)throw m.signal.reason;_+=Me,m.onProgress(Math.min(_,100))}function ye(Me){if(m.signal&&m.signal.aborted)throw m.signal.reason;_=Math.min(Math.max(Me,_),100),m.onProgress(_)}return _=y,T=m.maxIteration||10,D=1024*m.maxSizeMB*1024,pe(),k6(f,m).then((function(Me){try{return[,L]=Me,pe(),j=lG(L,m),pe(),new Promise(function(ne,U){var xe;if(!(xe=m.exifOrientation))return sG(f).then((function(se){try{return xe=se,Ze.call(this)}catch(ge){return U(ge)}}).bind(this),U);function Ze(){return ne(xe)}return Ze.call(this)}).then((function(ne){try{return N=ne,pe(),t3().then((function(U){try{return V=U?j:cG(j,N),pe(),P=m.initialQuality||1,z=m.fileType||f.type,A6(V,z,f.name,f.lastModified,P).then((function(xe){try{{let ut=function(){if(T--&&(ue>D||ue>de)){let xt,rt;return xt=le?.95*Xe.width:Xe.width,rt=le?.95*Xe.height:Xe.height,[De,ke]=t8(xt,rt),ke.drawImage(Xe,0,0,xt,rt),P*=z==="image/png"?.85:.95,A6(De,z,f.name,f.lastModified,P).then(function(at){try{return Ee=at,tp(Xe),Xe=De,ue=Ee.size,ye(Math.min(99,Math.floor(($e-ue)/($e-D)*100))),ut}catch(kn){return S(kn)}},S)}return[1]},$=function(){return tp(Xe),tp(De),tp(j),tp(V),tp(L),ye(100),b(Ee)};var se=ut,ge=$;if(X=xe,pe(),G=X.size>D,Be=X.size>f.size,!G&&!Be)return ye(100),b(X);var Ze;return de=f.size,$e=X.size,ue=$e,Xe=V,le=!m.alwaysKeepResolution&&G,(Ze=(function(xt){for(;xt;){if(xt.then)return void xt.then(Ze,S);try{if(xt.pop){if(xt.length)return xt.pop()?$.call(this):xt;xt=ut}else xt=xt.call(this)}catch(rt){return S(rt)}}}).bind(this))(ut)}}catch(ut){return S(ut)}}).bind(this),S)}catch(xe){return S(xe)}}).bind(this),S)}catch(U){return S(U)}}).bind(this),S)}catch(ne){return S(ne)}}).bind(this),S)})}const qae=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let uH;function Kae(f,m){return new Promise((y,b)=>{uH||(uH=function(T){const D=[];return typeof T=="function"?D.push(`(${T})()`):D.push(T),URL.createObjectURL(new Blob(D))}(qae));const S=new Worker(uH);S.addEventListener("message",function(T){if(m.signal&&m.signal.aborted)S.terminate();else if(T.data.progress===void 0){if(T.data.error)return b(new Error(T.data.error)),void S.terminate();y(T.data.file),S.terminate()}else m.onProgress(T.data.progress)}),S.addEventListener("error",b),m.signal&&m.signal.addEventListener("abort",()=>{b(m.signal.reason),S.terminate()}),S.postMessage({file:f,imageCompressionLibUrl:m.libURL,options:{...m,onProgress:void 0,signal:void 0}})})}function Wl(f,m){return new Promise(function(y,b){let S,_,T,D,L,j;if(S={...m},T=0,{onProgress:D}=S,S.maxSizeMB=S.maxSizeMB||Number.POSITIVE_INFINITY,L=typeof S.useWebWorker!="boolean"||S.useWebWorker,delete S.useWebWorker,S.onProgress=z=>{T=z,typeof D=="function"&&D(T)},!(f instanceof Blob||f instanceof Gae))return b(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(f.type))return b(new Error("The file given is not an image"));if(j=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!L||typeof Worker!="function"||j)return _W(f,S).then((function(z){try{return _=z,P.call(this)}catch(X){return b(X)}}).bind(this),b);var N=(function(){try{return P.call(this)}catch(z){return b(z)}}).bind(this),V=function(z){try{return _W(f,S).then(function(X){try{return _=X,N()}catch(G){return b(G)}},b)}catch(X){return b(X)}};try{return S.libURL=S.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Kae(f,S).then(function(z){try{return _=z,N()}catch{return V()}},V)}catch{V()}function P(){try{_.name=f.name,_.lastModified=f.lastModified}catch{}try{S.preserveExif&&f.type==="image/jpeg"&&(!S.fileType||S.fileType&&S.fileType===f.type)&&(_=eG(f,_))}catch{}return y(_)}})}Wl.getDataUrlFromFile=aG,Wl.getFilefromDataUrl=n9,Wl.loadImage=oG,Wl.drawImageInCanvas=uG,Wl.drawFileInCanvas=k6,Wl.canvasToFile=A6,Wl.getExifOrientation=sG,Wl.handleMaxWidthOrHeight=lG,Wl.followExifOrientation=cG,Wl.cleanupCanvasMemory=tp,Wl.isAutoOrientationInBrowser=t3,Wl.approximateBelowMaximumCanvasSizeOfBrowser=iG,Wl.copyExifWithoutOrientation=eG,Wl.getBrowserName=PS,Wl.version="2.0.2";const Xae="/assets/de-8fcaa96d.svg",Yae="/assets/en-4c5edc0c.svg";const Jae={class:"languageContainer"},Zae={class:"languageIcon"},Qae=["src","alt"],eoe={class:"languageContainerColumns"},toe={class:"languageTitle"},Da={__name:"LanguageContainer",props:{lang:{type:String,default:"de"},title:{type:String,required:!0,default:"Keinen Titel angegeben"}},setup(f){const m=f,y={de:Xae,en:Yae},b=m.lang;return(S,_)=>(nt(),it("div",Jae,[Z("div",Zae,[Z("img",{src:y[Lo(b)],alt:Lo(b)},null,8,Qae)]),Z("div",eoe,[Z("h4",toe,fr(f.title),1),mH(S.$slots,"content")])]))}};const noe={style:{"margin-bottom":"10px"}},roe={class:"input-row"},aoe=["aria-checked","onKeydown"],ooe={class:"toggle-value"},E6={__name:"toggleSwitch",props:{value:{type:Boolean,default:!1},color:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},titel:{type:String,default:"Titel"}},emits:["input"],setup(f,{emit:m}){const y=f,b=ri(()=>({"bg-primary":y.value,"bg-secondary":!y.value})),S=ri(()=>({transform:y.value?"translateX(14px)":"translateX(0)"})),_=()=>{y.disabled||m("input",!y.value)};return(T,D)=>(nt(),it("div",null,[Z("h4",noe,fr(f.titel),1),Z("div",roe,[Z("span",{class:"toggle-wrapper",role:"checkbox","aria-checked":f.value.toString(),tabindex:"0",onClick:_,onKeydown:pte(hte(_,["prevent"]),["space"])},[Z("span",{class:M6(["toggle-background",b.value])},null,2),Z("span",{class:"toggle-indicator",style:$6(S.value)},null,4)],40,aoe),Z("span",ooe,fr(f.value?"Ja":"Nein"),1)])]))}},LS="/assets/close-e7fb7946.svg";var T6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ioe(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var fG={exports:{}};(function(f){(function(){var m=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},y=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},b=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},S=function(e,n){return _(function(a,i){return e.eq(n(a),n(i))})},_=function(e){return{eq:e}},T=_(function(e,n){return e===n}),D=T,L=function(e){return _(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,l=0;l<i;l++)if(!e.eq(n[l],a[l]))return!1;return!0})},j=function(e,n){return S(L(e),function(a){return b(a,n)})},N=function(e){return _(function(n,a){var i=Object.keys(n),l=Object.keys(a);if(!j(D).eq(i,l))return!1;for(var v=i.length,p=0;p<v;p++){var x=i[p];if(!e.eq(n[x],a[x]))return!1}return!0})},V=_(function(e,n){if(e===n)return!0;var a=m(e),i=m(n);return a!==i?!1:y(a)?e===n:a==="array"?L(V).eq(e,n):a==="object"?N(V).eq(e,n):!1}),P=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},z=function(e){return function(n){return P(n)===e}},X=function(e){return function(n){return typeof n===e}},G=function(e){return function(n){return e===n}},Be=z("string"),de=z("object"),$e=z("array"),ue=G(null),Ee=X("boolean"),De=G(void 0),ke=function(e){return e==null},Xe=function(e){return!ke(e)},le=X("function"),pe=X("number"),ye=function(){},Me=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},ne=function(e,n){return function(a){return e(n(a))}},U=function(e){return function(){return e}},xe=function(e){return e},Ze=function(e,n){return e===n};function se(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var v=n.concat(i);return e.apply(null,v)}}var ge=function(e){return function(n){return!e(n)}},ut=function(e){return function(){throw new Error(e)}},$=function(e){return e()},xt=function(e){e()},rt=U(!1),at=U(!0),kn=function(){return ln},ln=function(){var e=function(i){return i()},n=xe,a={fold:function(i,l){return i()},isSome:rt,isNone:at,getOr:n,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:U(null),getOrUndefined:U(void 0),or:n,orThunk:e,map:kn,each:ye,bind:kn,exists:rt,forall:at,filter:function(){return kn()},toArray:function(){return[]},toString:U("none()")};return a}(),lt=function(e){var n=U(e),a=function(){return l},i=function(v){return v(e)},l={fold:function(v,p){return p(e)},isSome:at,isNone:rt,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(v){return lt(v(e))},each:function(v){v(e)},bind:i,exists:i,forall:i,filter:function(v){return v(e)?l:ln},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return l},Sn=function(e){return e==null?ln:lt(e)},te={some:lt,none:kn,from:Sn},cn=Array.prototype.slice,Ue=Array.prototype.indexOf,gt=Array.prototype.push,Gn=function(e,n){return Ue.call(e,n)},Te=function(e,n){var a=Gn(e,n);return a===-1?te.none():te.some(a)},Ae=function(e,n){return Gn(e,n)>-1},Ye=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return!0}return!1},Qe=function(e,n){for(var a=e.length,i=new Array(a),l=0;l<a;l++){var v=e[l];i[l]=n(v,l)}return i},He=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];n(l,a)}},pt=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},Yt=function(e,n){for(var a=[],i=[],l=0,v=e.length;l<v;l++){var p=e[l],x=n(p,l)?a:i;x.push(p)}return{pass:a,fail:i}},ot=function(e,n){for(var a=[],i=0,l=e.length;i<l;i++){var v=e[i];n(v,i)&&a.push(v)}return a},Wt=function(e,n,a){return pt(e,function(i,l){a=n(a,i,l)}),a},Ot=function(e,n,a){return He(e,function(i,l){a=n(a,i,l)}),a},It=function(e,n,a){for(var i=0,l=e.length;i<l;i++){var v=e[i];if(n(v,i))return te.some(v);if(a(v,i))break}return te.none()},nn=function(e,n){return It(e,n,rt)},pn=function(e,n){for(var a=0,i=e.length;a<i;a++){var l=e[a];if(n(l,a))return te.some(a)}return te.none()},jn=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!$e(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);gt.apply(n,e[a])}return n},ir=function(e,n){return jn(Qe(e,n))},jr=function(e,n){for(var a=0,i=e.length;a<i;++a){var l=e[a];if(n(l,a)!==!0)return!1}return!0},tr=function(e){var n=cn.call(e,0);return n.reverse(),n},oa=function(e,n){return ot(e,function(a){return!Ae(n,a)})},fa=function(e,n){for(var a={},i=0,l=e.length;i<l;i++){var v=e[i];a[String(v)]=n(v,i)}return a},Jr=function(e,n){var a=cn.call(e,0);return a.sort(n),a},Ir=function(e,n){return n>=0&&n<e.length?te.some(e[n]):te.none()},va=function(e){return Ir(e,0)},Hr=function(e){return Ir(e,e.length-1)},ur=le(Array.from)?Array.from:function(e){return cn.call(e)},Ia=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return te.none()},Zi=Object.keys,Kl=Object.hasOwnProperty,Nr=function(e,n){for(var a=Zi(e),i=0,l=a.length;i<l;i++){var v=a[i],p=e[v];n(p,v)}},Si=function(e,n){return Ju(e,function(a,i){return{k:i,v:n(a,i)}})},Ju=function(e,n){var a={};return Nr(e,function(i,l){var v=n(i,l);a[v.k]=v.v}),a},xi=function(e){return function(n,a){e[a]=n}},En=function(e,n,a,i){var l={};return Nr(e,function(v,p){(n(v,p)?a:i)(v,p)}),l},Dr=function(e,n){var a={},i={};return En(e,n,xi(a),xi(i)),{t:a,f:i}},uo=function(e,n){var a={};return En(e,n,xi(a),ye),a},lu=function(e,n){var a=[];return Nr(e,function(i,l){a.push(n(i,l))}),a},Zu=function(e){return lu(e,xe)},Rr=function(e,n){return kr(e,n)?te.from(e[n]):te.none()},kr=function(e,n){return Kl.call(e,n)},Gs=function(e,n){return kr(e,n)&&e[n]!==void 0&&e[n]!==null},Jm=function(e,n,a){return a===void 0&&(a=V),N(a).eq(e,n)},Ef=Array.isArray,qs=function(e){if(Ef(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},Rc=function(e,n,a){var i,l;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(kr(e,i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},Av=function(e,n){var a=[];return Rc(e,function(i,l){a.push(n(i,l,e))}),a},gl=function(e,n){var a=[];return Rc(e,function(i,l){(!n||n(i,l,e))&&a.push(i)}),a},pl=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},Tf=function(e,n,a,i){for(var l=De(a)?e[0]:a,v=0;v<e.length;v++)l=n.call(i,l,e[v],v);return l},da=function(e,n,a){var i,l;for(i=0,l=e.length;i<l;i++)if(n.call(a,e[i],i,e))return i;return-1},Ks=function(e){return e[e.length-1]},Un=function(){return Un=Object.assign||function(n){for(var a,i=1,l=arguments.length;i<l;i++){a=arguments[i];for(var v in a)Object.prototype.hasOwnProperty.call(a,v)&&(n[v]=a[v])}return n},Un.apply(this,arguments)};function Zm(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a}function Ou(e,n,a){if(a||arguments.length===2)for(var i=0,l=n.length,v;i<l;i++)(v||!(i in n))&&(v||(v=Array.prototype.slice.call(n,0,i)),v[i]=n[i]);return e.concat(v||Array.prototype.slice.call(n))}var Bc=function(e){var n=!1,a;return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return n||(n=!0,a=e.apply(null,i)),a}},Qm=function(e,n,a,i){var l=e.isiOS()&&/ipad/i.test(a)===!0,v=e.isiOS()&&!l,p=e.isiOS()||e.isAndroid(),x=p||i("(pointer:coarse)"),A=l||!v&&p&&i("(min-device-width:768px)"),I=v||p&&!A,K=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,J=!I&&!A&&!K;return{isiPad:U(l),isiPhone:U(v),isTablet:U(A),isPhone:U(I),isTouch:U(x),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:U(K),isDesktop:U(J)}},Xl=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},eh=function(e,n){var a=Xl(e,n);if(!a)return{major:0,minor:0};var i=function(l){return Number(n.replace(a,"$"+l))};return Ss(i(1),i(2))},Of=function(e,n){var a=String(n).toLowerCase();return e.length===0?th():eh(e,a)},th=function(){return Ss(0,0)},Ss=function(e,n){return{major:e,minor:n}},$c={nu:Ss,detect:Of,unknown:th},un=function(e,n){return Ia(n.brands,function(a){var i=a.brand.toLowerCase();return nn(e,function(l){var v;return i===((v=l.brand)===null||v===void 0?void 0:v.toLowerCase())}).map(function(l){return{current:l.name,version:$c.nu(parseInt(a.version,10),0)}})})},Dd=function(e,n){var a=String(n).toLowerCase();return nn(e,function(i){return i.search(a)})},Ev=function(e,n){return Dd(e,n).map(function(a){var i=$c.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Tv=function(e,n){return Dd(e,n).map(function(a){var i=$c.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Yl=function(e,n){return e.substring(n)},Qu=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},nh=function(e,n){return go(e,n)?Yl(e,n.length):e},Bo=function(e,n){return e.indexOf(n)!==-1},go=function(e,n){return Qu(e,n,0)},Du=function(e){return function(n){return n.replace(e,"")}},Xs=Du(/^\s+|\s+$/g),Rd=Du(/^\s+/g),es=Du(/\s+$/g),Df=function(e){return e.length>0},Bd=function(e){return!Df(e)},bl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ru=function(e){return function(n){return Bo(n,e)}},Qt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Bo(e,"edge/")&&Bo(e,"chrome")&&Bo(e,"safari")&&Bo(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,bl],search:function(e){return Bo(e,"chrome")&&!Bo(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Bo(e,"msie")||Bo(e,"trident")}},{name:"Opera",versionRegexes:[bl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ru("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ru("firefox")},{name:"Safari",versionRegexes:[bl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Bo(e,"safari")||Bo(e,"mobile/"))&&Bo(e,"applewebkit")}}],_i=[{name:"Windows",search:Ru("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Bo(e,"iphone")||Bo(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ru("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ru("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ru("linux"),versionRegexes:[]},{name:"Solaris",search:Ru("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ru("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ru("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],yl={browsers:U(Qt),oses:U(_i)},rh="Edge",Rf="Chrome",Zr="IE",Ov="Opera",wl="Firefox",so="Safari",Dv=function(){return cu({current:void 0,version:$c.unknown()})},cu=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isEdge:i(rh),isChrome:i(Rf),isIE:i(Zr),isOpera:i(Ov),isFirefox:i(wl),isSafari:i(so)}},ts={unknown:Dv,nu:cu,edge:U(rh),chrome:U(Rf),ie:U(Zr),opera:U(Ov),firefox:U(wl),safari:U(so)},Ra="Windows",Bf="iOS",$f="Android",Rv="Linux",$d="OSX",Cl="Solaris",Ys="FreeBSD",Bv="ChromeOS",xs=function(){return Bu({current:void 0,version:$c.unknown()})},Bu=function(e){var n=e.current,a=e.version,i=function(l){return function(){return n===l}};return{current:n,version:a,isWindows:i(Ra),isiOS:i(Bf),isAndroid:i($f),isOSX:i($d),isLinux:i(Rv),isSolaris:i(Cl),isFreeBSD:i(Ys),isChromeOS:i(Bv)}},oe={unknown:xs,nu:Bu,windows:U(Ra),ios:U(Bf),android:U($f),linux:U(Rv),osx:U($d),solaris:U(Cl),freebsd:U(Ys),chromeos:U(Bv)},Ne=function(e,n,a){var i=yl.browsers(),l=yl.oses(),v=n.bind(function(A){return un(i,A)}).orThunk(function(){return Ev(i,e)}).fold(ts.unknown,ts.nu),p=Tv(l,e).fold(oe.unknown,oe.nu),x=Qm(p,v,e,a);return{browser:v,os:p,deviceType:x}},Ke={detect:Ne},kt=function(e){return window.matchMedia(e).matches},Gt=Bc(function(){return Ke.detect(navigator.userAgent,te.from(navigator.userAgentData),kt)}),Rn=function(){return Gt()},na=navigator.userAgent,ma=Rn(),hr=ma.browser,Na=ma.os,ja=ma.deviceType,Mc=/WebKit/.test(na)&&!hr.isEdge(),zi="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Jl=na.indexOf("Windows Phone")!==-1,zn={opera:hr.isOpera(),webkit:Mc,ie:hr.isIE()||hr.isEdge()?hr.version.major:!1,gecko:hr.isFirefox(),mac:Na.isOSX()||Na.isiOS(),iOS:ja.isiPad()||ja.isiPhone(),android:Na.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:hr.isIE()?document.documentMode||7:10,fileApi:zi,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!hr.isIE(),desktop:ja.isDesktop(),windowsPhone:Jl,browser:{current:hr.current,version:hr.version,isChrome:hr.isChrome,isEdge:hr.isEdge,isFirefox:hr.isFirefox,isIE:hr.isIE,isOpera:hr.isOpera,isSafari:hr.isSafari},os:{current:Na.current,version:Na.version,isAndroid:Na.isAndroid,isChromeOS:Na.isChromeOS,isFreeBSD:Na.isFreeBSD,isiOS:Na.isiOS,isLinux:Na.isLinux,isOSX:Na.isOSX,isSolaris:Na.isSolaris,isWindows:Na.isWindows},deviceType:{isDesktop:ja.isDesktop,isiPad:ja.isiPad,isiPhone:ja.isiPhone,isPhone:ja.isPhone,isTablet:ja.isTablet,isTouch:ja.isTouch,isWebView:ja.isWebView}},ah=/^\s*|\s*$/g,sp=function(e){return e==null?"":(""+e).replace(ah,"")},Qr=function(e,n){return n?n==="array"&&Ef(e)?!0:typeof e===n:e!==void 0},lp=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},oh=kr,Qy=function(e,n,a){var i=this,l,v,p,x=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var A=e[3].match(/(^|\.)(\w+)$/i)[2],I=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!I[A]){if(e[2]==="static"){I[A]=n,this.onCreate&&this.onCreate(e[2],e[3],I[A]);return}n[A]||(n[A]=function(){},x=1),I[A]=n[A],i.extend(I[A].prototype,n),e[5]&&(l=i.resolve(e[5]).prototype,v=e[5].match(/\.(\w+)$/i)[1],p=I[A],x?I[A]=function(){return l[v].apply(this,arguments)}:I[A]=function(){return this.parent=l[v],p.apply(this,arguments)},I[A].prototype[A]=I[A],i.each(l,function(K,J){I[A].prototype[J]=l[J]}),i.each(n,function(K,J){l[J]?I[A].prototype[J]=function(){return this.parent=l[J],K.apply(this,arguments)}:J!==A&&(I[A].prototype[J]=K)})),i.each(n.static,function(K,J){I[A][J]=K})}},Sa=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var l=n[i];for(var v in l)if(kr(l,v)){var p=l[v];p!==void 0&&(e[v]=p)}}return e},Js=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),Rc(e,function(l,v){if(n.call(i,l,v,a)===!1)return!1;Js(l,n,a,i)}))},e2=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},Sl=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},Jo=function(e,n){return!e||Qr(e,"array")?e:Av(e.split(n||","),sp)},Mf=function(e){var n=zn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},yt={trim:sp,isArray:Ef,is:Qr,toArray:qs,makeMap:lp,each:Rc,map:Av,grep:gl,inArray:pl,hasOwn:oh,extend:Sa,create:Qy,walk:Js,createNS:e2,resolve:Sl,explode:Jo,_addCacheSuffix:Mf},ih=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Pf(i.childNodes[0])},xo=function(e,n){var a=n||document,i=a.createElement(e);return Pf(i)},i0=function(e,n){var a=n||document,i=a.createTextNode(e);return Pf(i)},Pf=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},$v=function(e,n,a){return te.from(e.dom.elementFromPoint(n,a)).map(Pf)},je={fromHtml:ih,fromTag:xo,fromText:i0,fromDom:Pf,fromPoint:$v},oi=function(e,n){var a=[],i=function(v){return a.push(v),n(v)},l=n(e);do l=l.bind(i);while(l.isSome());return a},uh=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},cp=function(e,n){return uh(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},u0=8,Md=9,fp=11,vp=1,_s=3,Zl=function(e,n){var a=e.dom;if(a.nodeType!==vp)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},s0=function(e){return e.nodeType!==vp&&e.nodeType!==Md&&e.nodeType!==fp||e.childElementCount===0},l0=function(e,n){var a=n===void 0?document:n.dom;return s0(a)?[]:Qe(a.querySelectorAll(e),je.fromDom)},Ql=function(e,n){var a=n===void 0?document:n.dom;return s0(a)?te.none():te.from(a.querySelector(e)).map(je.fromDom)},Ba=function(e,n){return e.dom===n.dom},c0=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},fu=function(e,n){return cp(e.dom,n.dom)},Hi=function(e,n){return Rn().browser.isIE()?fu(e,n):c0(e,n)};typeof window<"u"||Function("return this;")();var _o=function(e){var n=e.dom.nodeName;return n.toLowerCase()},Pc=function(e){return e.dom.nodeType},or=function(e){return function(n){return Pc(n)===e}},ns=function(e){return Pc(e)===u0||_o(e)==="#comment"},Fa=or(vp),Ga=or(_s),f0=or(Md),ii=or(fp),dp=function(e){return function(n){return Fa(n)&&_o(n)===e}},xl=function(e){return je.fromDom(e.dom.ownerDocument)},Wn=function(e){return f0(e)?e:xl(e)},rs=function(e){return je.fromDom(Wn(e).dom.documentElement)},Qa=function(e){return je.fromDom(Wn(e).dom.defaultView)},eo=function(e){return te.from(e.dom.parentNode).map(je.fromDom)},zo=function(e,n){for(var a=le(n)?n:rt,i=e.dom,l=[];i.parentNode!==null&&i.parentNode!==void 0;){var v=i.parentNode,p=je.fromDom(v);if(l.push(p),a(p)===!0)break;i=v}return l},ko=function(e){var n=function(a){return ot(a,function(i){return!Ba(e,i)})};return eo(e).map(Qi).map(n).getOr([])},If=function(e){return te.from(e.dom.previousSibling).map(je.fromDom)},ks=function(e){return te.from(e.dom.nextSibling).map(je.fromDom)},Gr=function(e){return tr(oi(e,If))},$a=function(e){return oi(e,ks)},Qi=function(e){return Qe(e.dom.childNodes,je.fromDom)},ec=function(e,n){var a=e.dom.childNodes;return te.from(a[n]).map(je.fromDom)},$o=function(e){return ec(e,0)},as=function(e){return ec(e,e.dom.childNodes.length-1)},v0=function(e){return e.dom.childNodes.length},Nf=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return je.fromDom(n)},ba=function(e){return ii(e)&&Xe(e.dom.host)},Zs=le(Element.prototype.attachShadow)&&le(Node.prototype.getRootNode),Ic=U(Zs),vu=Zs?function(e){return je.fromDom(e.dom.getRootNode())}:Wn,lo=function(e){return ba(e)?e:Nf(Wn(e))},Nc=function(e){var n=vu(e);return ba(n)?te.some(n):te.none()},tc=function(e){return je.fromDom(e.dom.host)},Vi=function(e){if(Ic()&&Xe(e.target)){var n=je.fromDom(e.target);if(Fa(n)&&du(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return va(a)}}return te.from(e.target)},du=function(e){return Xe(e.dom.shadowRoot)},ki=function(e,n){var a=eo(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},Mv=function(e,n){var a=ks(e);a.fold(function(){var i=eo(e);i.each(function(l){Ho(l,n)})},function(i){ki(i,n)})},Qs=function(e,n){var a=$o(e);a.fold(function(){Ho(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},Ho=function(e,n){e.dom.appendChild(n.dom)},Pd=function(e,n){ki(e,n),Ho(n,e)},d0=function(e,n){He(n,function(a){ki(e,a)})},Ff=function(e,n){He(n,function(a){Ho(e,a)})},Lf=function(e){e.dom.textContent="",He(Qi(e),function(n){co(n)})},co=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},zf=function(e){var n=Qi(e);n.length>0&&d0(e,n),co(e)},Hf=function(e){var n=Ga(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return Nc(je.fromDom(n)).fold(function(){return a.body.contains(n)},ne(Hf,tc))},Ui=function(e,n){var a=function(i,l){return Ui(e+i,n+l)};return{left:e,top:n,translate:a}},nc=Ui,Vf=function(e){var n=e.getBoundingClientRect();return nc(n.left,n.top)},rc=function(e,n){return e!==void 0?e:n!==void 0?n:0},Va=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,l=n.documentElement;if(a===e.dom)return nc(a.offsetLeft,a.offsetTop);var v=rc(i==null?void 0:i.pageYOffset,l.scrollTop),p=rc(i==null?void 0:i.pageXOffset,l.scrollLeft),x=rc(l.clientTop,a.clientTop),A=rc(l.clientLeft,a.clientLeft);return $u(e).translate(p-A,v-x)},$u=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?nc(i.offsetLeft,i.offsetTop):Hf(e)?Vf(n):nc(0,0)},sh=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return nc(a,i)},os=function(e,n,a){var i=a!==void 0?a.dom:document,l=i.defaultView;l&&l.scrollTo(e,n)},lh=function(e,n){var a=Rn().browser.isSafari();a&&le(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},m0=function(e){var n=e===void 0?window:e;return Rn().browser.isFirefox()?te.none():te.from(n.visualViewport)},mp=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},Uf=function(e){var n=e===void 0?window:e,a=n.document,i=sh(je.fromDom(a));return m0(n).fold(function(){var l=n.document.documentElement,v=l.clientWidth,p=l.clientHeight;return mp(i.left,i.top,v,p)},function(l){return mp(Math.max(l.pageLeft,i.left),Math.max(l.pageTop,i.top),l.width,l.height)})},Wf=function(e){return function(n){return!!n&&n.nodeType===e}},Fc=function(e){return!!e&&!Object.getPrototypeOf(e)},qn=Wf(1),As=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return Ae(n,i)}return!1}},mu=function(e,n){var a=n.toLowerCase().split(" ");return function(i){if(qn(i))for(var l=0;l<a.length;l++){var v=i.ownerDocument.defaultView.getComputedStyle(i,null),p=v?v.getPropertyValue(e):null;if(p===a[l])return!0}return!1}},Wi=function(e){return function(n){return qn(n)&&n.hasAttribute(e)}},Es=function(e,n){return function(a){return qn(a)&&a.getAttribute(e)===n}},po=function(e){return qn(e)&&e.hasAttribute("data-mce-bogus")},Vo=function(e){return qn(e)&&e.getAttribute("data-mce-bogus")==="all"},Ao=function(e){return qn(e)&&e.tagName==="TABLE"},Lc=function(e){return function(n){return!!(qn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},Ai=As(["textarea","input"]),gn=Wf(3),jf=Wf(8),hp=Wf(9),sr=Wf(11),ya=As(["br"]),ch=As(["img"]),_l=Lc("true"),La=Lc("false"),fh=As(["td","th"]),Mu=As(["video","audio","object","embed"]),Id=function(e,n,a){return a===void 0&&(a=Ze),e.exists(function(i){return a(i,n)})},vr=function(e){for(var n=[],a=function(l){n.push(l)},i=0;i<e.length;i++)e[i].each(a);return n},eu=function(e,n,a){return e.isSome()&&n.isSome()?te.some(a(e.getOrDie(),n.getOrDie())):te.none()},t2=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?te.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):te.none()},n2=function(e,n){return e?te.some(n):te.none()},Ua=function(e){return e.style!==void 0&&le(e.style.getPropertyValue)},vh=function(e,n,a){if(Be(a)||Ee(a)||pe(a))e.setAttribute(n,a+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},M=function(e,n,a){vh(e.dom,n,a)},Y=function(e,n){var a=e.dom;Nr(n,function(i,l){vh(a,l,i)})},re=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},Ce=function(e,n){return te.from(re(e,n))},Ge=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},bt=function(e,n){e.dom.removeAttribute(n)},_n=function(e){return Ot(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},Jn=function(e,n,a){if(!Be(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Ua(e)&&e.style.setProperty(n,a)},Ar=function(e,n){var a=e.dom;Nr(n,function(i,l){Jn(a,l,i)})},dr=function(e,n){var a=e.dom,i=window.getComputedStyle(a),l=i.getPropertyValue(n);return l===""&&!Hf(e)?xa(a,n):l},xa=function(e,n){return Ua(e)?e.style.getPropertyValue(n):""},Ei=function(e,n){var a=e.dom,i=xa(a,n);return te.from(i).filter(function(l){return l.length>0})},to=function(e){var n={},a=e.dom;if(Ua(a))for(var i=0;i<a.style.length;i++){var l=a.style.item(i);n[l]=a.style[l]}return n},g3=function(e){return e.dom.offsetWidth},VS=Rn().browser,US=function(e){return nn(e,Fa)},p3=function(e){return VS.isFirefox()&&_o(e)==="table"?US(Qi(e)).filter(function(n){return _o(n)==="caption"}).bind(function(n){return US($a(n)).map(function(a){var i=a.dom.offsetTop,l=n.dom.offsetTop,v=n.dom.offsetHeight;return i<=l?-v:0})}).getOr(0):0},ac=function(e,n){return e.children&&Ae(e.children,n)},gp=function(e,n,a){var i=0,l=0,v=e.ownerDocument;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&dr(je.fromDom(e),"position")==="static"){var p=n.getBoundingClientRect();return i=p.left+(v.documentElement.scrollLeft||e.scrollLeft)-v.documentElement.clientLeft,l=p.top+(v.documentElement.scrollTop||e.scrollTop)-v.documentElement.clientTop,{x:i,y:l}}for(var x=n;x&&x!==a&&x.nodeType&&!ac(x,a);){var A=x;i+=A.offsetLeft||0,l+=A.offsetTop||0,x=A.offsetParent}for(x=n.parentNode;x&&x!==a&&x.nodeType&&!ac(x,a);)i-=x.scrollLeft||0,l-=x.scrollTop||0,x=x.parentNode;l+=p3(je.fromDom(n))}return{x:i,y:l}},Pu={},dh={exports:Pu};(function(e,n,a,i){(function(l,v){typeof n=="object"&&typeof a<"u"?a.exports=v():typeof e=="function"&&e.amd?e(v):(l=typeof globalThis<"u"?globalThis:l||self,l.EphoxContactWrapper=v())})(this,function(){var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof T6<"u"?T6:typeof self<"u"?self:{},v={exports:{}};(function(I){(function(K){var J=setTimeout;function Q(){}function ce(Re,Je){return function(){Re.apply(Je,arguments)}}function ve(Re){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Re!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],We(Re,this)}function me(Re,Je){for(;Re._state===3;)Re=Re._value;if(Re._state===0){Re._deferreds.push(Je);return}Re._handled=!0,ve._immediateFn(function(){var St=Re._state===1?Je.onFulfilled:Je.onRejected;if(St===null){(Re._state===1?he:Oe)(Je.promise,Re._value);return}var Nt;try{Nt=St(Re._value)}catch(Hn){Oe(Je.promise,Hn);return}he(Je.promise,Nt)})}function he(Re,Je){try{if(Je===Re)throw new TypeError("A promise cannot be resolved with itself.");if(Je&&(typeof Je=="object"||typeof Je=="function")){var St=Je.then;if(Je instanceof ve){Re._state=3,Re._value=Je,_e(Re);return}else if(typeof St=="function"){We(ce(St,Je),Re);return}}Re._state=1,Re._value=Je,_e(Re)}catch(Nt){Oe(Re,Nt)}}function Oe(Re,Je){Re._state=2,Re._value=Je,_e(Re)}function _e(Re){Re._state===2&&Re._deferreds.length===0&&ve._immediateFn(function(){Re._handled||ve._unhandledRejectionFn(Re._value)});for(var Je=0,St=Re._deferreds.length;Je<St;Je++)me(Re,Re._deferreds[Je]);Re._deferreds=null}function qe(Re,Je,St){this.onFulfilled=typeof Re=="function"?Re:null,this.onRejected=typeof Je=="function"?Je:null,this.promise=St}function We(Re,Je){var St=!1;try{Re(function(Nt){St||(St=!0,he(Je,Nt))},function(Nt){St||(St=!0,Oe(Je,Nt))})}catch(Nt){if(St)return;St=!0,Oe(Je,Nt)}}ve.prototype.catch=function(Re){return this.then(null,Re)},ve.prototype.then=function(Re,Je){var St=new this.constructor(Q);return me(this,new qe(Re,Je,St)),St},ve.all=function(Re){var Je=Array.prototype.slice.call(Re);return new ve(function(St,Nt){if(Je.length===0)return St([]);var Hn=Je.length;function mn(Ln,Vt){try{if(Vt&&(typeof Vt=="object"||typeof Vt=="function")){var fn=Vt.then;if(typeof fn=="function"){fn.call(Vt,function(jt){mn(Ln,jt)},Nt);return}}Je[Ln]=Vt,--Hn===0&&St(Je)}catch(jt){Nt(jt)}}for(var Rt=0;Rt<Je.length;Rt++)mn(Rt,Je[Rt])})},ve.resolve=function(Re){return Re&&typeof Re=="object"&&Re.constructor===ve?Re:new ve(function(Je){Je(Re)})},ve.reject=function(Re){return new ve(function(Je,St){St(Re)})},ve.race=function(Re){return new ve(function(Je,St){for(var Nt=0,Hn=Re.length;Nt<Hn;Nt++)Re[Nt].then(Je,St)})},ve._immediateFn=typeof setImmediate=="function"?function(Re){setImmediate(Re)}:function(Re){J(Re,0)},ve._unhandledRejectionFn=function(Je){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Je)},ve._setImmediateFn=function(Je){ve._immediateFn=Je},ve._setUnhandledRejectionFn=function(Je){ve._unhandledRejectionFn=Je},I.exports?I.exports=ve:K.Promise||(K.Promise=ve)})(l)})(v);var p=v.exports,x=function(){return typeof window<"u"?window:Function("return this;")()}(),A={boltExport:x.Promise||p};return A})})(void 0,Pu,dh);var r2=dh.exports.boltExport,pp=function(e){var n=te.none(),a=[],i=function(I){return pp(function(K){l(function(J){K(I(J))})})},l=function(I){p()?A(I):a.push(I)},v=function(I){p()||(n=te.some(I),x(a),a=[])},p=function(){return n.isSome()},x=function(I){He(I,A)},A=function(I){n.each(function(K){setTimeout(function(){I(K)},0)})};return e(v),{get:l,map:i,isReady:p}},h0=function(e){return pp(function(n){n(e)})},WS={nu:pp,pure:h0},b3=function(e){setTimeout(function(){throw e},0)},oc=function(e){var n=function(A){e().then(A,b3)},a=function(A){return oc(function(){return e().then(A)})},i=function(A){return oc(function(){return e().then(function(I){return A(I).toPromise()})})},l=function(A){return oc(function(){return e().then(function(){return A.toPromise()})})},v=function(){return WS.nu(n)},p=function(){var A=null;return oc(function(){return A===null&&(A=e()),A})},x=e;return{map:a,bind:i,anonBind:l,toLazy:v,toCached:p,toPromise:x,get:n}},bp=function(e){return oc(function(){return new r2(e)})},y3=function(e){return oc(function(){return r2.resolve(e)})},a2={nu:bp,pure:y3},w3=function(e,n){return n(function(a){var i=[],l=0,v=function(p){return function(x){i[p]=x,l++,l>=e.length&&a(i)}};e.length===0?a([]):He(e,function(p,x){p.get(v(x))})})},C3=function(e){return w3(e,a2.nu)},mh=function(e){var n=function(J){return mh(e)},a=function(J){return mh(e)},i=function(J){return mh(J(e))},l=function(J){return mh(e)},v=function(J){J(e)},p=function(J){return J(e)},x=function(J,Q){return Q(e)},A=function(J){return J(e)},I=function(J){return J(e)},K=function(){return te.some(e)};return{isValue:at,isError:rt,getOr:U(e),getOrThunk:U(e),getOrDie:U(e),or:n,orThunk:a,fold:x,map:i,mapError:l,each:v,bind:p,exists:A,forall:I,toOptional:K}},yp=function(e){var n=function(I){return I()},a=function(){return ut(String(e))()},i=xe,l=function(I){return I()},v=function(I){return yp(e)},p=function(I){return yp(I(e))},x=function(I){return yp(e)},A=function(I,K){return I(e)};return{isValue:rt,isError:at,getOr:xe,getOrThunk:n,getOrDie:a,or:i,orThunk:l,fold:A,map:v,mapError:p,each:ye,bind:x,exists:rt,forall:at,toOptional:te.none}},jS=function(e,n){return e.fold(function(){return yp(n)},mh)},GS={value:mh,error:yp,fromOption:jS},is=function(e){if(!$e(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return He(e,function(i,l){var v=Zi(i);if(v.length!==1)throw new Error("one and only one name per case");var p=v[0],x=i[p];if(a[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!$e(x))throw new Error("case arguments must be an array");n.push(p),a[p]=function(){for(var A=[],I=0;I<arguments.length;I++)A[I]=arguments[I];var K=A.length;if(K!==x.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+x.length+" ("+x+"), got "+K);var J=function(Q){var ce=Zi(Q);if(n.length!==ce.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+ce.join(","));var ve=jr(n,function(me){return Ae(ce,me)});if(!ve)throw new Error("Not all branches were specified when using match. Specified: "+ce.join(", ")+`
Required: `+n.join(", "));return Q[p].apply(null,A)};return{fold:function(){for(var Q=[],ce=0;ce<arguments.length;ce++)Q[ce]=arguments[ce];if(Q.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Q.length);var ve=Q[l];return ve.apply(null,A)},match:J,log:function(Q){console.log(Q,{constructors:n,constructor:p,params:A})}}}}),a},Bn={generate:is};Bn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Gf=function(e){return e.fold(xe,xe)};function wp(e,n,a,i,l){return e(a,i)?te.some(a):le(l)&&l(a)?te.none():n(a,i,l)}var Pv=function(e,n,a){for(var i=e.dom,l=le(a)?a:rt;i.parentNode;){i=i.parentNode;var v=je.fromDom(i);if(n(v))return te.some(v);if(l(v))break}return te.none()},hh=function(e,n,a){var i=function(l,v){return v(l)};return wp(i,Pv,e,n,a)},o2=function(e,n){var a=e.dom;return a.parentNode?kl(je.fromDom(a.parentNode),function(i){return!Ba(e,i)&&n(i)}):te.none()},kl=function(e,n){var a=function(l){return n(je.fromDom(l))},i=nn(e.dom.childNodes,a);return i.map(je.fromDom)},Nd=function(e,n,a){return Pv(e,function(i){return Zl(i,n)},a)},gh=function(e,n){return Ql(n,e)},bo=function(e,n,a){var i=function(l,v){return Zl(l,v)};return wp(i,Nd,e,n,a)},ui=window.Promise?window.Promise:r2,Cp,zc=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],l=function(p){window.setTimeout(p,0)},v=0;v<i.length&&!a;v++)a=window[i[v]+"RequestAnimationFrame"];a||(a=l),a(e,n)},Sp=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},g0=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},p0=function(e){return clearTimeout(e)},S3=function(e){return clearInterval(e)},ph=function(e,n){var a,i=function(){for(var l=[],v=0;v<arguments.length;v++)l[v]=arguments[v];clearTimeout(a),a=Sp(function(){e.apply(this,l)},n)};return i.stop=function(){clearTimeout(a)},i},ji={requestAnimationFrame:function(e,n){if(Cp){Cp.then(e);return}Cp=new ui(function(a){n||(n=document.body),zc(a,n)}).then(e)},setTimeout:Sp,setInterval:g0,setEditorTimeout:function(e,n,a){return Sp(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=g0(function(){e.removed?clearInterval(i):n()},a);return i},debounce:ph,throttle:ph,clearInterval:S3,clearTimeout:p0},qS=function(e,n){n===void 0&&(n={});var a=0,i={},l=je.fromDom(e),v=Wn(l),p=n.maxLoadTime||5e3,x=function(he){n.referrerPolicy=he},A=function(he){Ho(lo(l),he)},I=function(he){var Oe=lo(l);gh(Oe,"#"+he).each(co)},K=function(he){return Rr(i,he).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},J=function(he,Oe,_e){var qe,We=yt._addCacheSuffix(he),Re=K(We);i[We]=Re,Re.count++;var Je=function(Vt,fn){for(var jt=Vt.length;jt--;)Vt[jt]();Re.status=fn,Re.passed=[],Re.failed=[],qe&&(qe.onload=null,qe.onerror=null,qe=null)},St=function(){return Je(Re.passed,2)},Nt=function(){return Je(Re.failed,3)},Hn=function(Vt,fn){Vt()||(Date.now()-Ln<p?ji.setTimeout(fn):Nt())},mn=function(){Hn(function(){for(var Vt=e.styleSheets,fn=Vt.length;fn--;){var jt=Vt[fn],Zt=jt.ownerNode;if(Zt&&Zt.id===qe.id)return St(),!0}return!1},mn)};if(Oe&&Re.passed.push(Oe),_e&&Re.failed.push(_e),Re.status!==1){if(Re.status===2){St();return}if(Re.status===3){Nt();return}Re.status=1;var Rt=je.fromTag("link",v.dom);Y(Rt,{rel:"stylesheet",type:"text/css",id:Re.id});var Ln=Date.now();n.contentCssCors&&M(Rt,"crossOrigin","anonymous"),n.referrerPolicy&&M(Rt,"referrerpolicy",n.referrerPolicy),qe=Rt.dom,qe.onload=mn,qe.onerror=Nt,A(Rt),M(Rt,"href",We)}},Q=function(he){return a2.nu(function(Oe){J(he,Me(Oe,U(GS.value(he))),Me(Oe,U(GS.error(he))))})},ce=function(he,Oe,_e){C3(Qe(he,Q)).get(function(qe){var We=Yt(qe,function(Re){return Re.isValue()});We.fail.length>0?_e(We.fail.map(Gf)):Oe(We.pass.map(Gf))})},ve=function(he){var Oe=yt._addCacheSuffix(he);Rr(i,Oe).each(function(_e){var qe=--_e.count;qe===0&&(delete i[Oe],I(_e.id))})},me=function(he){He(he,function(Oe){ve(Oe)})};return{load:J,loadAll:ce,unload:ve,unloadAll:me,_setReferrerPolicy:x}},qa=function(){var e=new WeakMap,n=function(a,i){var l=vu(a),v=l.dom;return te.from(e.get(v)).getOrThunk(function(){var p=qS(v,i);return e.set(v,p),p})};return{forElement:n}},Al=qa(),ia=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,l){var v,p;if(n){if(!l&&n[a])return n[a];if(n!==this.rootNode){if(v=n[i],v)return v;for(p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(v=p[i],v)return v}}},e.prototype.findPreviousNode=function(n,a,i,l){var v,p,x;if(n){if(v=n[i],this.rootNode&&v===this.rootNode)return;if(v){if(!l){for(x=v[a];x;x=x[a])if(!x[a])return x}return v}if(p=n.parentNode,p&&p!==this.rootNode)return p}},e}(),Iv=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],el=["td","th"],x3=["thead","tbody","tfoot"],Uo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],hu=["h1","h2","h3","h4","h5","h6"],KS=["li","dd","dt"],_t=["ul","ol","dl"],Iu=["pre","script","textarea","style"],qf=function(e){var n;return function(a){return n=n||fa(e,at),kr(n,_o(a))}},Kn=qf(hu),Ts=qf(Iv),_3=function(e){return _o(e)==="table"},tu=function(e){return Fa(e)&&!Ts(e)},bh=function(e){return Fa(e)&&_o(e)==="br"},Hc=qf(Uo),El=qf(_t),Gi=qf(KS),qr=qf(x3),ic=qf(el),Fd=qf(Iu),Aa=function(e,n,a){return Nd(e,n,a).isSome()},Nv="\uFEFF",us="",ss=function(e){return e===Nv},k3=function(e){return e.replace(/\uFEFF/g,"")},Ve=Nv,gu=ss,uc=k3,yh=qn,Os=gn,wa=function(e){return Os(e)&&(e=e.parentNode),yh(e)&&e.hasAttribute("data-mce-caret")},Ea=function(e){return Os(e)&&gu(e.data)},Nu=function(e){return wa(e)||Ea(e)},Kf=function(e){return e.firstChild!==e.lastChild||!ya(e.firstChild)},i2=function(e,n){var a=e.ownerDocument,i=a.createTextNode(Ve),l=e.parentNode;if(n){var v=e.previousSibling;if(Os(v)){if(Nu(v))return v;if(_p(v))return v.splitText(v.data.length-1)}l.insertBefore(i,e)}else{var v=e.nextSibling;if(Os(v)){if(Nu(v))return v;if(xp(v))return v.splitText(1),v}e.nextSibling?l.insertBefore(i,e.nextSibling):l.appendChild(i)}return i},Pn=function(e){var n=e.container();return gn(n)?n.data.charAt(e.offset())===Ve||e.isAtStart()&&Ea(n.previousSibling):!1},b0=function(e){var n=e.container();return gn(n)?n.data.charAt(e.offset()-1)===Ve||e.isAtEnd()&&Ea(n.nextSibling):!1},Ds=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},XS=function(e,n,a){var i=n.ownerDocument,l=i.createElement(e);l.setAttribute("data-mce-caret",a?"before":"after"),l.setAttribute("data-mce-bogus","all"),l.appendChild(Ds());var v=n.parentNode;return a?v.insertBefore(l,n):n.nextSibling?v.insertBefore(l,n.nextSibling):v.appendChild(l),l},xp=function(e){return Os(e)&&e.data[0]===Ve},_p=function(e){return Os(e)&&e.data[e.data.length-1]===Ve},u2=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];po(a)&&a.parentNode.removeChild(a)},s2=function(e){return e&&e.hasAttribute("data-mce-caret")?(u2(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Vc=function(e){return wa(e.startContainer)},Xf=_l,A3=La,l2=ya,E3=gn,YS=As(["script","style","textarea"]),kp=As(["img","input","textarea","hr","iframe","video","audio","object","embed"]),wh=As(["table"]),JS=Nu,Uc=function(e){return JS(e)?!1:E3(e)?!YS(e.parentNode):kp(e)||l2(e)||wh(e)||c2(e)},Ch=function(e){return qn(e)&&e.getAttribute("unselectable")==="true"},c2=function(e){return Ch(e)===!1&&A3(e)},ZS=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(c2(e))return!1;if(Xf(e))return!0}return!0},T3=function(e){return c2(e)?Ot(ur(e.getElementsByTagName("*")),function(n,a){return n||Xf(a)},!1)!==!0:!1},O3=function(e){return kp(e)||T3(e)},Mo=function(e,n){return Uc(e)&&ZS(e,n)},Wc=/^[ \t\r\n]*$/,Tl=function(e){return Wc.test(e)},Fv=function(e,n){var a=je.fromDom(n),i=je.fromDom(e);return Aa(i,"pre,code",se(Ba,a))},QS=function(e,n){return gn(e)&&Tl(e.data)&&Fv(e,n)===!1},Ol=function(e){return qn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Ld=function(e,n){return Uc(e)&&QS(e,n)===!1||Ol(e)||f2(e)},f2=Wi("data-mce-bookmark"),v2=Wi("data-mce-bogus"),Yf=Es("data-mce-bogus","all"),tl=function(e,n){var a=0;if(Ld(e,e))return!1;var i=e.firstChild;if(!i)return!0;var l=new ia(i,e);do{if(n){if(Yf(i)){i=l.next(!0);continue}if(v2(i)){i=l.next();continue}}if(ya(i)){a++,i=l.next();continue}if(Ld(i,e))return!1;i=l.next()}while(i);return a<=1},Ti=function(e,n){return n===void 0&&(n=!0),tl(e.dom,n)},y0=function(e){return e.nodeName.toLowerCase()==="span"},d2=function(e,n){return Xe(e)&&(Ld(e,n)||tu(je.fromDom(e)))},zd=function(e,n){var a=new ia(e,n).prev(!1),i=new ia(e,n).next(!1),l=De(a)||d2(a,n),v=De(i)||d2(i,n);return l&&v},Sh=function(e){return y0(e)&&e.getAttribute("data-mce-type")==="bookmark"},xh=function(e,n){return gn(e)&&e.data.length>0&&zd(e,n)},D3=function(e){return qn(e)?e.childNodes.length>0:!1},_h=function(e){return sr(e)||hp(e)},m2=function(e,n,a){var i=a||n;if(qn(n)&&Sh(n))return n;for(var l=n.childNodes,v=l.length-1;v>=0;v--)m2(e,l[v],i);if(qn(n)){var p=n.childNodes;p.length===1&&Sh(p[0])&&n.parentNode.insertBefore(p[0],n)}return!_h(n)&&!Ld(n,i)&&!D3(n)&&!xh(n,i)&&e.remove(n),n},R3=yt.makeMap,no=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w0=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lv=/[<>&\"\']/g,h2=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,g2={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},nl={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Rs={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Hd=function(e){var n=je.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},zv=function(e,n){var a,i,l,v={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),nl[i]||(l="&"+e[a+1]+";",v[i]=l,v[l]=i);return v}},C0=zv("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ap=function(e,n){return e.replace(n?no:w0,function(a){return nl[a]||a})},p2=function(e){return(""+e).replace(Lv,function(n){return nl[n]||n})},Vd=function(e,n){return e.replace(n?no:w0,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":nl[a]||"&#"+a.charCodeAt(0)+";"})},S0=function(e,n,a){return a=a||C0,e.replace(n?no:w0,function(i){return nl[i]||a[i]||i})},B3=function(e,n){var a=zv(n)||C0,i=function(p,x){return p.replace(x?no:w0,function(A){return nl[A]!==void 0?nl[A]:a[A]!==void 0?a[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"})},l=function(p,x){return S0(p,x,a)},v=R3(e.replace(/\+/g,","));return v.named&&v.numeric?i:v.named?n?l:S0:v.numeric?Vd:Ap},b2=function(e){return e.replace(h2,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):g2[a]||String.fromCharCode(a)):Rs[n]||C0[n]||Hd(n)})},Bs={encodeRaw:Ap,encodeAllRaw:p2,encodeNumeric:Vd,encodeNamed:S0,getEncodeFunc:B3,decode:b2},ls={},kh={},Dl=yt.makeMap,qi=yt.each,x0=yt.extend,Jf=yt.explode,ex=yt.inArray,Oi=function(e,n){return e=yt.trim(e),e?e.split(n||" "):[]},y2=function(e,n){var a=Dl(e," ",Dl(e.toUpperCase()," "));return x0(a,n)},_0=function(e){return y2("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},Vr=function(e){var n={},a,i,l,v,p,x,A=function(K,J,Q){var ce,ve,me,he=function(_e,qe){var We={},Re,Je;for(Re=0,Je=_e.length;Re<Je;Re++)We[_e[Re]]=qe||{};return We};Q=Q||[],J=J||"",typeof Q=="string"&&(Q=Oi(Q));var Oe=Oi(K);for(ce=Oe.length;ce--;)ve=Oi([a,J].join(" ")),me={attributes:he(ve),attributesOrder:ve,children:he(Q,kh)},n[Oe[ce]]=me},I=function(K,J){var Q,ce,ve,me,he=Oi(K);Q=he.length;for(var Oe=Oi(J);Q--;)for(ce=n[he[Q]],ve=0,me=Oe.length;ve<me;ve++)ce.attributes[Oe[ve]]={},ce.attributesOrder.push(Oe[ve])};return ls[e]?ls[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",x="acronym applet basefont big font strike tt",l=[l,x].join(" "),qi(Oi(x),function(K){A(K,"",l)}),p="center dir isindex noframes",i=[i,p].join(" "),v=[i,l].join(" "),qi(Oi(p),function(K){A(K,"",v)})),v=v||[i,l].join(" "),A("html","manifest","head body"),A("head","","base command link meta noscript script style title"),A("title hr noscript br"),A("base","href target"),A("link","href rel media hreflang type sizes hreflang"),A("meta","name http-equiv content charset"),A("style","media type scoped"),A("script","src async defer type charset"),A("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",v),A("address dt dd div caption","",v),A("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),A("blockquote","cite",v),A("ol","reversed start type","li"),A("ul","","li"),A("li","value",v),A("dl","","dt dd"),A("a","href target rel media hreflang type",l),A("q","cite",l),A("ins del","cite datetime",v),A("img","src sizes srcset alt usemap ismap width height"),A("iframe","src name width height",v),A("embed","src type width height"),A("object","data type typemustmatch name usemap form width height",[v,"param"].join(" ")),A("param","name value"),A("map","name",[v,"area"].join(" ")),A("area","alt coords shape href target rel media hreflang type"),A("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),A("colgroup","span","col"),A("col","span"),A("tbody thead tfoot","","tr"),A("tr","","td th"),A("td","colspan rowspan headers",v),A("th","colspan rowspan headers scope abbr",v),A("form","accept-charset action autocomplete enctype method name novalidate target",v),A("fieldset","disabled form name",[v,"legend"].join(" ")),A("label","form for",l),A("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),A("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?v:l),A("select","disabled form multiple name required size","option optgroup"),A("optgroup","disabled label","option"),A("option","disabled label selected value"),A("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),A("menu","type label",[v,"li"].join(" ")),A("noscript","",v),e!=="html4"&&(A("wbr"),A("ruby","",[l,"rt rp"].join(" ")),A("figcaption","",v),A("mark rt rp summary bdi","",l),A("canvas","width height",v),A("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[v,"track source"].join(" ")),A("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[v,"track source"].join(" ")),A("picture","","img source"),A("source","src srcset type media sizes"),A("track","kind src srclang label default"),A("datalist","",[l,"option"].join(" ")),A("article section nav aside main header footer","",v),A("hgroup","","h1 h2 h3 h4 h5 h6"),A("figure","",[v,"figcaption"].join(" ")),A("time","datetime",l),A("dialog","open",v),A("command","type label icon disabled checked radiogroup command"),A("output","for form name",l),A("progress","value max",l),A("meter","value min max low high optimum",l),A("details","open",[v,"summary"].join(" ")),A("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(I("script","language xml:space"),I("style","xml:space"),I("object","declare classid code codebase codetype archive standby align border hspace vspace"),I("embed","align name hspace vspace"),I("param","valuetype type"),I("a","charset name rev shape coords"),I("br","clear"),I("applet","codebase archive code object alt name width height align hspace vspace"),I("img","name longdesc align border hspace vspace"),I("iframe","longdesc frameborder marginwidth marginheight scrolling align"),I("font basefont","size color face"),I("input","usemap align"),I("select"),I("textarea"),I("h1 h2 h3 h4 h5 h6 div p legend caption","align"),I("ul","type compact"),I("li","type"),I("ol dl menu dir","compact"),I("pre","width xml:space"),I("hr","align noshade size width"),I("isindex","prompt"),I("table","summary width frame rules cellspacing cellpadding align bgcolor"),I("col","width align char charoff valign"),I("colgroup","width align char charoff valign"),I("thead","align char charoff valign"),I("tr","align char charoff valign bgcolor"),I("th","axis align char charoff valign nowrap bgcolor width height"),I("form","accept"),I("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),I("tfoot","align char charoff valign"),I("tbody","align char charoff valign"),I("area","nohref"),I("body","background bgcolor text link vlink alink")),e!=="html4"&&(I("input button select textarea","autofocus"),I("input textarea","placeholder"),I("a","download"),I("link script img","crossorigin"),I("img","loading"),I("iframe","sandbox seamless allowfullscreen loading")),qi(Oi("a form meter progress dfn"),function(K){n[K]&&delete n[K].children[K]}),delete n.caption.children.table,delete n.script,ls[e]=n,n)},In=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),qi(e,function(i,l){a[l]=a[l.toUpperCase()]=n==="map"?Dl(i,/[, ]/):Jf(i,/[, ]/)})),a},$s=function(e){var n={},a={},i=[],l={},v={},p=function(Mt,qt,Dn){var et=e[Mt];return et?et=Dl(et,/[, ]/,Dl(et.toUpperCase(),/[, ]/)):(et=ls[Mt],et||(et=y2(qt,Dn),ls[Mt]=et)),et};e=e||{};var x=Vr(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var A=In(e.valid_styles),I=In(e.invalid_styles,"map"),K=In(e.valid_classes,"map"),J=p("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Q=p("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ce=p("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ve=p("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),me="td th iframe video audio object script code",he=p("non_empty_elements",me+" pre",ce),Oe=p("move_caret_before_on_enter_elements",me+" table",ce),_e=p("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),qe=p("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",_e),We=p("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");qi((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Mt){v[Mt]=new RegExp("</"+Mt+"[^>]*>","gi")});var Re=function(Mt){return new RegExp("^"+Mt.replace(/([?+*])/g,".$1")+"$")},Je=function(Mt){var qt,Dn,et,Ht,Pt,$n,Nn,ka,ni,Yo,Mm,Gu,Eu,hi,Vl,qu,Sf,Ta,Ha=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,gi=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,bs=/[*?+]/;if(Mt){var wv=Oi(Mt,",");for(n["@"]&&(qu=n["@"].attributes,Sf=n["@"].attributesOrder),qt=0,Dn=wv.length;qt<Dn;qt++)if(Pt=Ha.exec(wv[qt]),Pt){if(hi=Pt[1],ni=Pt[2],Vl=Pt[3],ka=Pt[5],Gu={},Eu=[],$n={attributes:Gu,attributesOrder:Eu},hi==="#"&&($n.paddEmpty=!0),hi==="-"&&($n.removeEmpty=!0),Pt[4]==="!"&&($n.removeEmptyAttrs=!0),qu&&(Nr(qu,function(Cv,qg){Gu[qg]=Cv}),Eu.push.apply(Eu,Sf)),ka){for(ka=Oi(ka,"|"),et=0,Ht=ka.length;et<Ht;et++)if(Pt=gi.exec(ka[et]),Pt){if(Nn={},Mm=Pt[1],Yo=Pt[2].replace(/[\\:]:/g,":"),hi=Pt[3],Ta=Pt[4],Mm==="!"&&($n.attributesRequired=$n.attributesRequired||[],$n.attributesRequired.push(Yo),Nn.required=!0),Mm==="-"){delete Gu[Yo],Eu.splice(ex(Eu,Yo),1);continue}hi&&(hi==="="&&($n.attributesDefault=$n.attributesDefault||[],$n.attributesDefault.push({name:Yo,value:Ta}),Nn.defaultValue=Ta),hi===":"&&($n.attributesForced=$n.attributesForced||[],$n.attributesForced.push({name:Yo,value:Ta}),Nn.forcedValue=Ta),hi==="<"&&(Nn.validValues=Dl(Ta,"?"))),bs.test(Yo)?($n.attributePatterns=$n.attributePatterns||[],Nn.pattern=Re(Yo),$n.attributePatterns.push(Nn)):(Gu[Yo]||Eu.push(Yo),Gu[Yo]=Nn)}}!qu&&ni==="@"&&(qu=Gu,Sf=Eu),Vl&&($n.outputName=ni,n[Vl]=$n),bs.test(ni)?($n.pattern=Re(ni),i.push($n)):n[ni]=$n}}},St=function(Mt){n={},i=[],Je(Mt),qi(x,function(qt,Dn){a[Dn]=qt.children})},Nt=function(Mt){var qt=/^(~)?(.+)$/;Mt&&(ls.text_block_elements=ls.block_elements=null,qi(Oi(Mt,","),function(Dn){var et=qt.exec(Dn),Ht=et[1]==="~",Pt=Ht?"span":"div",$n=et[2];if(a[$n]=a[Pt],l[$n]=Pt,Ht||(qe[$n.toUpperCase()]={},qe[$n]={}),!n[$n]){var Nn=n[Pt];Nn=x0({},Nn),delete Nn.removeEmptyAttrs,delete Nn.removeEmpty,n[$n]=Nn}qi(a,function(ka,ni){ka[Pt]&&(a[ni]=ka=x0({},a[ni]),ka[$n]=ka[Pt])})}))},Hn=function(Mt){var qt=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;ls[e.schema]=null,Mt&&qi(Oi(Mt,","),function(Dn){var et=qt.exec(Dn),Ht,Pt;et&&(Pt=et[1],Pt?Ht=a[et[2]]:Ht=a[et[2]]={"#comment":{}},Ht=a[et[2]],qi(Oi(et[3],"|"),function($n){Pt==="-"?delete Ht[$n]:Ht[$n]={}}))})},mn=function(Mt){var qt=n[Mt],Dn;if(qt)return qt;for(Dn=i.length;Dn--;)if(qt=i[Dn],qt.pattern.test(Mt))return qt};e.valid_elements?St(e.valid_elements):(qi(x,function(Mt,qt){n[qt]={attributes:Mt.attributes,attributesOrder:Mt.attributesOrder},a[qt]=Mt.children}),e.schema!=="html5"&&qi(Oi("strong/b em/i"),function(Mt){var qt=Oi(Mt,"/");n[qt[1]].outputName=qt[0]}),qi(We,function(Mt,qt){n[qt]&&(e.padd_empty_block_inline_children&&(n[qt].paddInEmptyBlock=!0),n[qt].removeEmpty=!0)}),qi(Oi("ol ul blockquote a table tbody"),function(Mt){n[Mt]&&(n[Mt].removeEmpty=!0)}),qi(Oi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Mt){n[Mt].paddEmpty=!0}),qi(Oi("span"),function(Mt){n[Mt].removeEmptyAttrs=!0})),Nt(e.custom_elements),Hn(e.valid_children),Je(e.extended_valid_elements),Hn("+ol[ul|ol],+ul[ul|ol]"),qi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Mt,qt){n[qt]&&(n[qt].parentsRequired=Oi(Mt))}),e.invalid_elements&&qi(Jf(e.invalid_elements),function(Mt){n[Mt]&&delete n[Mt]}),mn("span")||Je("span[!data-mce-type|*]");var Rt=U(A),Ln=U(I),Vt=U(K),fn=U(ve),jt=U(qe),Zt=U(_e),yn=U(We),$t=U(ce),hn=U(Q),xr=U(he),ta=U(Oe),Yr=U(J),Fi=U(v),ao=function(Mt,qt){var Dn=a[Mt.toLowerCase()];return!!(Dn&&Dn[qt.toLowerCase()])},ju=function(Mt,qt){var Dn,et,Ht=mn(Mt);if(Ht)if(qt){if(Ht.attributes[qt])return!0;if(Dn=Ht.attributePatterns,Dn){for(et=Dn.length;et--;)if(Dn[et].pattern.test(Mt))return!0}}else return!0;return!1},ps=U(l);return{children:a,elements:n,getValidStyles:Rt,getValidClasses:Vt,getBlockElements:jt,getInvalidStyles:Ln,getShortEndedElements:$t,getTextBlockElements:Zt,getTextInlineElements:yn,getBoolAttrs:fn,getElementRule:mn,getSelfClosingElements:hn,getNonEmptyElements:xr,getMoveCaretBeforeOnEnterElements:ta,getWhiteSpaceElements:Yr,getSpecialElements:Fi,isValidChild:ao,isValid:ju,getCustomElements:ps,addValidElements:Je,setValidElements:St,addCustomElements:Nt,addValidChildren:Hn}},k0=function(e,n,a,i){var l=function(v){return v=parseInt(v,10).toString(16),v.length>1?v:"0"+v};return"#"+l(n)+l(a)+l(i)},Rl=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,v=/\s*([^:]+):\s*([^;]+);?/g,p=/\s+$/,x,A={},I,K,J=Nv;e=e||{},n&&(I=n.getValidStyles(),K=n.getInvalidStyles());var Q=(`\\" \\' \\; \\: ; : `+J).split(" ");for(x=0;x<Q.length;x++)A[Q[x]]=J+x,A[J+x]=Q[x];return{toHex:function(ce){return ce.replace(i,k0)},parse:function(ce){var ve={},me,he,Oe,_e,qe=e.url_converter,We=e.url_converter_scope||a,Re=function(Vt,fn,jt){var Zt=ve[Vt+"-top"+fn];if(Zt){var yn=ve[Vt+"-right"+fn];if(yn){var $t=ve[Vt+"-bottom"+fn];if($t){var hn=ve[Vt+"-left"+fn];if(hn){var xr=[Zt,yn,$t,hn];for(x=xr.length-1;x--&&xr[x]===xr[x+1];);x>-1&&jt||(ve[Vt+fn]=x===-1?xr[0]:xr.join(" "),delete ve[Vt+"-top"+fn],delete ve[Vt+"-right"+fn],delete ve[Vt+"-bottom"+fn],delete ve[Vt+"-left"+fn])}}}}},Je=function(Vt){var fn=ve[Vt],jt;if(fn){for(fn=fn.split(" "),jt=fn.length;jt--;)if(fn[jt]!==fn[0])return!1;return ve[Vt]=fn[0],!0}},St=function(Vt,fn,jt,Zt){Je(fn)&&Je(jt)&&Je(Zt)&&(ve[Vt]=ve[fn]+" "+ve[jt]+" "+ve[Zt],delete ve[fn],delete ve[jt],delete ve[Zt])},Nt=function(Vt){return _e=!0,A[Vt]},Hn=function(Vt,fn){return _e&&(Vt=Vt.replace(/\uFEFF[0-9]/g,function(jt){return A[jt]})),fn||(Vt=Vt.replace(/\\([\'\";:])/g,"$1")),Vt},mn=function(Vt){return String.fromCharCode(parseInt(Vt.slice(1),16))},Rt=function(Vt){return Vt.replace(/\\[0-9a-f]+/gi,mn)},Ln=function(Vt,fn,jt,Zt,yn,$t){if(yn=yn||$t,yn)return yn=Hn(yn),"'"+yn.replace(/\'/g,"\\'")+"'";if(fn=Hn(fn||jt||Zt),!e.allow_script_urls){var hn=fn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(hn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(hn))return""}return qe&&(fn=qe.call(We,fn,"style")),"url('"+fn.replace(/\'/g,"\\'")+"')"};if(ce){for(ce=ce.replace(/[\u0000-\u001F]/g,""),ce=ce.replace(/\\[\"\';:\uFEFF]/g,Nt).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Vt){return Vt.replace(/[;:]/g,Nt)});me=v.exec(ce);)if(v.lastIndex=me.index+me[0].length,he=me[1].replace(p,"").toLowerCase(),Oe=me[2].replace(p,""),he&&Oe){if(he=Rt(he),Oe=Rt(Oe),he.indexOf(J)!==-1||he.indexOf('"')!==-1||!e.allow_script_urls&&(he==="behavior"||/expression\s*\(|\/\*|\*\//.test(Oe)))continue;he==="font-weight"&&Oe==="700"?Oe="bold":(he==="color"||he==="background-color")&&(Oe=Oe.toLowerCase()),Oe=Oe.replace(i,k0),Oe=Oe.replace(l,Ln),ve[he]=_e?Hn(Oe,!0):Oe}Re("border","",!0),Re("border","-width"),Re("border","-color"),Re("border","-style"),Re("padding",""),Re("margin",""),St("border","border-width","border-style","border-color"),ve.border==="medium none"&&delete ve.border,ve["border-image"]==="none"&&delete ve["border-image"]}return ve},serialize:function(ce,ve){var me="",he=function(_e){var qe,We=I[_e];if(We)for(var Re=0,Je=We.length;Re<Je;Re++)_e=We[Re],qe=ce[_e],qe&&(me+=(me.length>0?" ":"")+_e+": "+qe+";")},Oe=function(_e,qe){var We=K["*"];return We&&We[_e]?!1:(We=K[qe],!(We&&We[_e]))};return ve&&I?(he("*"),he(ve)):Nr(ce,function(_e,qe){_e&&(!K||Oe(qe,ve))&&(me+=(me.length>0?" ":"")+qe+": "+_e+";")}),me}}},tx={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ca=function(e){return e instanceof Event||le(e.initEvent)},w2=function(e){return e.isDefaultPrevented===at||e.isDefaultPrevented===rt},A0=function(e){return ke(e.preventDefault)||Ca(e)},E0=function(e,n){var a=n??{};for(var i in e)kr(tx,i)||(a[i]=e[i]);return Xe(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},Dt=function(e,n,a,i){var l,v=E0(n,i);return v.type=e,ke(v.target)&&(v.target=(l=v.srcElement)!==null&&l!==void 0?l:a),A0(n)&&(v.preventDefault=function(){v.defaultPrevented=!0,v.isDefaultPrevented=at,le(n.preventDefault)?n.preventDefault():Ca(n)&&(n.returnValue=!1)},v.stopPropagation=function(){v.cancelBubble=!0,v.isPropagationStopped=at,le(n.stopPropagation)?n.stopPropagation():Ca(n)&&(n.cancelBubble=!0)},v.stopImmediatePropagation=function(){v.isImmediatePropagationStopped=at,v.stopPropagation()},w2(v)||(v.isDefaultPrevented=v.defaultPrevented===!0?at:rt,v.isPropagationStopped=v.cancelBubble===!0?at:rt,v.isImmediatePropagationStopped=rt)),v},C2="mce-data-",S2=/^(?:mouse|contextmenu)|click/,Hv=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},Ep=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},Ud=function(e){return Xe(e)&&S2.test(e.type)},Vv=function(e,n){var a=Dt(e.type,e,document,n);if(Ud(e)&&De(e.pageX)&&!De(e.clientX)){var i=a.target.ownerDocument||document,l=i.documentElement,v=i.body,p=a;p.pageX=e.clientX+(l&&l.scrollLeft||v&&v.scrollLeft||0)-(l&&l.clientLeft||v&&v.clientLeft||0),p.pageY=e.clientY+(l&&l.scrollTop||v&&v.scrollTop||0)-(l&&l.clientTop||v&&v.clientTop||0)}return De(a.metaKey)&&(a.metaKey=!1),a},Wd=function(e,n,a){var i=e.document,l={type:"ready"};if(a.domLoaded){n(l);return}var v=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},p=function(){Ep(e,"DOMContentLoaded",p),Ep(e,"load",p),a.domLoaded||(a.domLoaded=!0,n(l)),e=null};v()?p():Hv(e,"DOMContentLoaded",p),a.domLoaded||Hv(e,"load",p)},Ah=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=C2+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,l){var v=this,p,x,A,I,K,J,Q,ce=window,ve=function(he){v.executeHandlers(Vv(he||ce.event),p)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[v.expando]?p=n[v.expando]:(p=v.count++,n[v.expando]=p,v.events[p]={}),l=l||n;var me=a.split(" ");for(A=me.length;A--;){if(I=me[A],J=ve,K=Q=!1,I==="DOMContentLoaded"&&(I="ready"),v.domLoaded&&I==="ready"&&n.readyState==="complete"){i.call(l,Vv({type:I}));continue}v.hasMouseEnterLeave||(K=v.mouseEnterLeave[I],K&&(J=function(he){var Oe=he.currentTarget,_e=he.relatedTarget;if(_e&&Oe.contains)_e=Oe.contains(_e);else for(;_e&&_e!==Oe;)_e=_e.parentNode;_e||(he=Vv(he||ce.event),he.type=he.type==="mouseout"?"mouseleave":"mouseenter",he.target=Oe,v.executeHandlers(he,p))})),!v.hasFocusIn&&(I==="focusin"||I==="focusout")&&(Q=!0,K=I==="focusin"?"focus":"blur",J=function(he){he=Vv(he||ce.event),he.type=he.type==="focus"?"focusin":"focusout",v.executeHandlers(he,p)}),x=v.events[p][I],x?I==="ready"&&v.domLoaded?i(Vv({type:I})):x.push({func:i,scope:l}):(v.events[p][I]=x=[{func:i,scope:l}],x.fakeName=K,x.capture=Q,x.nativeHandler=J,I==="ready"?Wd(n,J,v):Hv(n,K||I,J,Q))}return n=x=null,i}},e.prototype.unbind=function(n,a,i){var l,v,p,x,A;if(!n||n.nodeType===3||n.nodeType===8)return this;var I=n[this.expando];if(I){if(A=this.events[I],a){var K=a.split(" ");for(v=K.length;v--;)if(x=K[v],l=A[x],l){if(i){for(p=l.length;p--;)if(l[p].func===i){var J=l.nativeHandler,Q=l.fakeName,ce=l.capture;l=l.slice(0,p).concat(l.slice(p+1)),l.nativeHandler=J,l.fakeName=Q,l.capture=ce,A[x]=l}}(!i||l.length===0)&&(delete A[x],Ep(n,l.fakeName||x,l.nativeHandler,l.capture))}}else Nr(A,function(ve,me){Ep(n,ve.fakeName||me,ve.nativeHandler,ve.capture)}),A={};for(x in A)if(kr(A,x))return this;delete this.events[I];try{delete n[this.expando]}catch{n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var l;if(!n||n.nodeType===3||n.nodeType===8)return this;var v=Vv({type:a,target:n},i);do l=n[this.expando],l&&this.executeHandlers(v,l),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!v.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],l=i&&i[n.type];if(l)for(var v=0,p=l.length;v<p;v++){var x=l[v];if(x&&x.func.call(x.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),Eo,nr,Ms,nx,cs,x2,jc,Zf,Qf,Ps,Uv,Zo,pu,Gc,Wv,Eh,jd,wn,si="sizzle"+-new Date,sc=window.document,qc=0,Tp=0,rx=R0(),T0=R0(),jv=R0(),Gv=function(e,n){return e===n&&(Ps=!0),0},Th="undefined",Op=1<<31,$3={}.hasOwnProperty,Is=[],_2=Is.pop,Gd=Is.push,qv=Is.push,k2=Is.slice,Kv=Is.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},ax="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ka="[\\x20\\t\\r\\n\\f]",Di="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ki="\\["+Ka+"*("+Di+")(?:"+Ka+"*([*^$|!~]?=)"+Ka+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Di+"))|)"+Ka+"*\\]",ox=":("+Di+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ki+")*)|.*)\\)|)",O0=new RegExp("^"+Ka+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ka+"+$","g"),M3=new RegExp("^"+Ka+"*,"+Ka+"*"),ix=new RegExp("^"+Ka+"*([>+~]|"+Ka+")"+Ka+"*"),Bl=new RegExp("="+Ka+`*([^\\]'"]*?)`+Ka+"*\\]","g"),P3=new RegExp(ox),Oh=new RegExp("^"+Di+"$"),D0={ID:new RegExp("^#("+Di+")"),CLASS:new RegExp("^\\.("+Di+")"),TAG:new RegExp("^("+Di+"|[*])"),ATTR:new RegExp("^"+Ki),PSEUDO:new RegExp("^"+ox),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ka+"*(even|odd|(([+-]|)(\\d*)n|)"+Ka+"*(?:([+-]|)"+Ka+"*(\\d+)|))"+Ka+"*\\)|)","i"),bool:new RegExp("^(?:"+ax+")$","i"),needsContext:new RegExp("^"+Ka+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ka+"*((?:-\\d)?\\d*)"+Ka+"*\\)|)(?=[^-]|$)","i")},I3=/^(?:input|select|textarea|button)$/i,ux=/^h\d$/i,A2=/^[^{]+\{\s*\[native \w/,E2=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,T2=/[+~]/,N3=/'|\\/g,Xv=new RegExp("\\\\([\\da-f]{1,6}"+Ka+"?|("+Ka+")|.)","ig"),Yv=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{qv.apply(Is=k2.call(sc.childNodes),sc.childNodes),Is[sc.childNodes.length].nodeType}catch{qv={apply:Is.length?function(n,a){Gd.apply(n,k2.call(a))}:function(n,a){for(var i=n.length,l=0;n[i++]=a[l++];);n.length=i-1}}}var ha=function(e,n,a,i){var l,v,p,x,A,I,K,J,Q,ce;if((n?n.ownerDocument||n:sc)!==Zo&&Uv(n),n=n||Zo,a=a||[],!e||typeof e!="string")return a;if((x=n.nodeType)!==1&&x!==9)return[];if(Gc&&!i){if(l=E2.exec(e))if(p=l[1]){if(x===9)if(v=n.getElementById(p),v&&v.parentNode){if(v.id===p)return a.push(v),a}else return a;else if(n.ownerDocument&&(v=n.ownerDocument.getElementById(p))&&wn(n,v)&&v.id===p)return a.push(v),a}else{if(l[2])return qv.apply(a,n.getElementsByTagName(e)),a;if((p=l[3])&&Eo.getElementsByClassName)return qv.apply(a,n.getElementsByClassName(p)),a}if(Eo.qsa&&(!Wv||!Wv.test(e))){if(J=K=si,Q=n,ce=x===9&&e,x===1&&n.nodeName.toLowerCase()!=="object"){for(I=cs(e),(K=n.getAttribute("id"))?J=K.replace(N3,"\\$&"):n.setAttribute("id",J),J="[id='"+J+"'] ",A=I.length;A--;)I[A]=J+$0(I[A]);Q=T2.test(e)&&B0(n.parentNode)||n,ce=I.join(",")}if(ce)try{return qv.apply(a,Q.querySelectorAll(ce)),a}catch{}finally{K||n.removeAttribute("id")}}}return jc(e.replace(O0,"$1"),n,a,i)};function R0(){var e=[];function n(a,i){return e.push(a+" ")>nr.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function lc(e){return e[si]=!0,e}function sx(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||Op)-(~e.sourceIndex||Op);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function cc(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function Kc(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function Jv(e){return lc(function(n){return n=+n,lc(function(a,i){for(var l,v=e([],a.length,n),p=v.length;p--;)a[l=v[p]]&&(a[l]=!(i[l]=a[l]))})})}function B0(e){return e&&typeof e.getElementsByTagName!==Th&&e}Eo=ha.support={},nx=ha.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},Uv=ha.setDocument=function(e){var n,a=e?e.ownerDocument||e:sc,i=a.defaultView;function l(v){try{return v.top}catch{}return null}return a===Zo||a.nodeType!==9||!a.documentElement?Zo:(Zo=a,pu=a.documentElement,Gc=!nx(a),i&&i!==l(i)&&(i.addEventListener?i.addEventListener("unload",function(){Uv()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Uv()})),Eo.attributes=!0,Eo.getElementsByTagName=!0,Eo.getElementsByClassName=A2.test(a.getElementsByClassName),Eo.getById=!0,nr.find.ID=function(v,p){if(typeof p.getElementById!==Th&&Gc){var x=p.getElementById(v);return x&&x.parentNode?[x]:[]}},nr.filter.ID=function(v){var p=v.replace(Xv,Yv);return function(x){return x.getAttribute("id")===p}},nr.find.TAG=Eo.getElementsByTagName?function(v,p){if(typeof p.getElementsByTagName!==Th)return p.getElementsByTagName(v)}:function(v,p){var x,A=[],I=0,K=p.getElementsByTagName(v);if(v==="*"){for(;x=K[I++];)x.nodeType===1&&A.push(x);return A}return K},nr.find.CLASS=Eo.getElementsByClassName&&function(v,p){if(Gc)return p.getElementsByClassName(v)},Eh=[],Wv=[],Eo.disconnectedMatch=!0,Wv=Wv.length&&new RegExp(Wv.join("|")),Eh=Eh.length&&new RegExp(Eh.join("|")),n=A2.test(pu.compareDocumentPosition),wn=n||A2.test(pu.contains)?function(v,p){var x=v.nodeType===9?v.documentElement:v,A=p&&p.parentNode;return v===A||!!(A&&A.nodeType===1&&(x.contains?x.contains(A):v.compareDocumentPosition&&v.compareDocumentPosition(A)&16))}:function(v,p){if(p){for(;p=p.parentNode;)if(p===v)return!0}return!1},Gv=n?function(v,p){if(v===p)return Ps=!0,0;var x=!v.compareDocumentPosition-!p.compareDocumentPosition;return x||(x=(v.ownerDocument||v)===(p.ownerDocument||p)?v.compareDocumentPosition(p):1,x&1||!Eo.sortDetached&&p.compareDocumentPosition(v)===x?v===a||v.ownerDocument===sc&&wn(sc,v)?-1:p===a||p.ownerDocument===sc&&wn(sc,p)?1:Qf?Kv.call(Qf,v)-Kv.call(Qf,p):0:x&4?-1:1)}:function(v,p){if(v===p)return Ps=!0,0;var x,A=0,I=v.parentNode,K=p.parentNode,J=[v],Q=[p];if(!I||!K)return v===a?-1:p===a?1:I?-1:K?1:Qf?Kv.call(Qf,v)-Kv.call(Qf,p):0;if(I===K)return sx(v,p);for(x=v;x=x.parentNode;)J.unshift(x);for(x=p;x=x.parentNode;)Q.unshift(x);for(;J[A]===Q[A];)A++;return A?sx(J[A],Q[A]):J[A]===sc?-1:Q[A]===sc?1:0},a)},ha.matches=function(e,n){return ha(e,null,null,n)},ha.matchesSelector=function(e,n){if((e.ownerDocument||e)!==Zo&&Uv(e),n=n.replace(Bl,"='$1']"),Eo.matchesSelector&&Gc&&(!Eh||!Eh.test(n))&&(!Wv||!Wv.test(n)))try{var a=jd.call(e,n);if(a||Eo.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return ha(n,Zo,null,[e]).length>0},ha.contains=function(e,n){return(e.ownerDocument||e)!==Zo&&Uv(e),wn(e,n)},ha.attr=function(e,n){(e.ownerDocument||e)!==Zo&&Uv(e);var a=nr.attrHandle[n.toLowerCase()],i=a&&$3.call(nr.attrHandle,n.toLowerCase())?a(e,n,!Gc):void 0;return i!==void 0?i:Eo.attributes||!Gc?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},ha.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ha.uniqueSort=function(e){var n,a=[],i=0,l=0;if(Ps=!Eo.detectDuplicates,Qf=!Eo.sortStable&&e.slice(0),e.sort(Gv),Ps){for(;n=e[l++];)n===e[l]&&(i=a.push(l));for(;i--;)e.splice(a[i],1)}return Qf=null,e},Ms=ha.getText=function(e){var n,a="",i=0,l=e.nodeType;if(l){if(l===1||l===9||l===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=Ms(e)}else if(l===3||l===4)return e.nodeValue}else for(;n=e[i++];)a+=Ms(n);return a},nr=ha.selectors={cacheLength:50,createPseudo:lc,match:D0,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Xv,Yv),e[3]=(e[3]||e[4]||e[5]||"").replace(Xv,Yv),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ha.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ha.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return D0.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&P3.test(a)&&(n=cs(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(Xv,Yv).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=rx[e+" "];return n||(n=new RegExp("(^|"+Ka+")"+e+"("+Ka+"|$)"))&&rx(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==Th&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var l=ha.attr(i,e);return l==null?n==="!=":n?(l+="",n==="="?l===a:n==="!="?l!==a:n==="^="?a&&l.indexOf(a)===0:n==="*="?a&&l.indexOf(a)>-1:n==="$="?a&&l.slice(-a.length)===a:n==="~="?(" "+l+" ").indexOf(a)>-1:n==="|="?l===a||l.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,l){var v=e.slice(0,3)!=="nth",p=e.slice(-4)!=="last",x=n==="of-type";return i===1&&l===0?function(A){return!!A.parentNode}:function(A,I,K){var J,Q,ce,ve,me,he,Oe=v!==p?"nextSibling":"previousSibling",_e=A.parentNode,qe=x&&A.nodeName.toLowerCase(),We=!K&&!x;if(_e){if(v){for(;Oe;){for(ce=A;ce=ce[Oe];)if(x?ce.nodeName.toLowerCase()===qe:ce.nodeType===1)return!1;he=Oe=e==="only"&&!he&&"nextSibling"}return!0}if(he=[p?_e.firstChild:_e.lastChild],p&&We){for(Q=_e[si]||(_e[si]={}),J=Q[e]||[],me=J[0]===qc&&J[1],ve=J[0]===qc&&J[2],ce=me&&_e.childNodes[me];ce=++me&&ce&&ce[Oe]||(ve=me=0)||he.pop();)if(ce.nodeType===1&&++ve&&ce===A){Q[e]=[qc,me,ve];break}}else if(We&&(J=(A[si]||(A[si]={}))[e])&&J[0]===qc)ve=J[1];else for(;(ce=++me&&ce&&ce[Oe]||(ve=me=0)||he.pop())&&!((x?ce.nodeName.toLowerCase()===qe:ce.nodeType===1)&&++ve&&(We&&((ce[si]||(ce[si]={}))[e]=[qc,ve]),ce===A)););return ve-=l,ve===i||ve%i===0&&ve/i>=0}}},PSEUDO:function(e,n){var a,i=nr.pseudos[e]||nr.setFilters[e.toLowerCase()]||ha.error("unsupported pseudo: "+e);return i[si]?i(n):i.length>1?(a=[e,e,"",n],nr.setFilters.hasOwnProperty(e.toLowerCase())?lc(function(l,v){for(var p,x=i(l,n),A=x.length;A--;)p=Kv.call(l,x[A]),l[p]=!(v[p]=x[A])}):function(l){return i(l,0,a)}):i}},pseudos:{not:lc(function(e){var n=[],a=[],i=x2(e.replace(O0,"$1"));return i[si]?lc(function(l,v,p,x){for(var A,I=i(l,null,x,[]),K=l.length;K--;)(A=I[K])&&(l[K]=!(v[K]=A))}):function(l,v,p){return n[0]=l,i(n,null,p,a),n[0]=null,!a.pop()}}),has:lc(function(e){return function(n){return ha(e,n).length>0}}),contains:lc(function(e){return e=e.replace(Xv,Yv),function(n){return(n.textContent||n.innerText||Ms(n)).indexOf(e)>-1}}),lang:lc(function(e){return Oh.test(e||"")||ha.error("unsupported lang: "+e),e=e.replace(Xv,Yv).toLowerCase(),function(n){var a;do if(a=Gc?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===pu},focus:function(e){return e===Zo.activeElement&&(!Zo.hasFocus||Zo.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!nr.pseudos.empty(e)},header:function(e){return ux.test(e.nodeName)},input:function(e){return I3.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:Jv(function(){return[0]}),last:Jv(function(e,n){return[n-1]}),eq:Jv(function(e,n,a){return[a<0?a+n:a]}),even:Jv(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:Jv(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:Jv(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:Jv(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},nr.pseudos.nth=nr.pseudos.eq,He(["radio","checkbox","file","password","image"],function(e){nr.pseudos[e]=cc(e)}),He(["submit","reset"],function(e){nr.pseudos[e]=Kc(e)});function Dp(){}Dp.prototype=nr.filters=nr.pseudos,nr.setFilters=new Dp,cs=ha.tokenize=function(e,n){var a,i,l,v,p,x,A,I=T0[e+" "];if(I)return n?0:I.slice(0);for(p=e,x=[],A=nr.preFilter;p;){(!a||(i=M3.exec(p)))&&(i&&(p=p.slice(i[0].length)||p),x.push(l=[])),a=!1,(i=ix.exec(p))&&(a=i.shift(),l.push({value:a,type:i[0].replace(O0," ")}),p=p.slice(a.length));for(v in nr.filter)nr.filter.hasOwnProperty(v)&&(i=D0[v].exec(p))&&(!A[v]||(i=A[v](i)))&&(a=i.shift(),l.push({value:a,type:v,matches:i}),p=p.slice(a.length));if(!a)break}return n?p.length:p?ha.error(e):T0(e,x).slice(0)};function $0(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function M0(e,n,a){var i=n.dir,l=a&&i==="parentNode",v=Tp++;return n.first?function(p,x,A){for(;p=p[i];)if(p.nodeType===1||l)return e(p,x,A)}:function(p,x,A){var I,K,J=[qc,v];if(A){for(;p=p[i];)if((p.nodeType===1||l)&&e(p,x,A))return!0}else for(;p=p[i];)if(p.nodeType===1||l){if(K=p[si]||(p[si]={}),(I=K[i])&&I[0]===qc&&I[1]===v)return J[2]=I[2];if(K[i]=J,J[2]=e(p,x,A))return!0}}}function qd(e){return e.length>1?function(n,a,i){for(var l=e.length;l--;)if(!e[l](n,a,i))return!1;return!0}:e[0]}function F3(e,n,a){for(var i=0,l=n.length;i<l;i++)ha(e,n[i],a);return a}function P0(e,n,a,i,l){for(var v,p=[],x=0,A=e.length,I=n!=null;x<A;x++)(v=e[x])&&(!a||a(v,i,l))&&(p.push(v),I&&n.push(x));return p}function Dh(e,n,a,i,l,v){return i&&!i[si]&&(i=Dh(i)),l&&!l[si]&&(l=Dh(l,v)),lc(function(p,x,A,I){var K,J,Q,ce=[],ve=[],me=x.length,he=p||F3(n||"*",A.nodeType?[A]:A,[]),Oe=e&&(p||!n)?P0(he,ce,e,A,I):he,_e=a?l||(p?e:me||i)?[]:x:Oe;if(a&&a(Oe,_e,A,I),i)for(K=P0(_e,ve),i(K,[],A,I),J=K.length;J--;)(Q=K[J])&&(_e[ve[J]]=!(Oe[ve[J]]=Q));if(p){if(l||e){if(l){for(K=[],J=_e.length;J--;)(Q=_e[J])&&K.push(Oe[J]=Q);l(null,_e=[],K,I)}for(J=_e.length;J--;)(Q=_e[J])&&(K=l?Kv.call(p,Q):ce[J])>-1&&(p[K]=!(x[K]=Q))}}else _e=P0(_e===x?_e.splice(me,_e.length):_e),l?l(null,x,_e,I):qv.apply(x,_e)})}function Rp(e){for(var n,a,i,l=e.length,v=nr.relative[e[0].type],p=v||nr.relative[" "],x=v?1:0,A=M0(function(J){return J===n},p,!0),I=M0(function(J){return Kv.call(n,J)>-1},p,!0),K=[function(J,Q,ce){var ve=!v&&(ce||Q!==Zf)||((n=Q).nodeType?A(J,Q,ce):I(J,Q,ce));return n=null,ve}];x<l;x++)if(a=nr.relative[e[x].type])K=[M0(qd(K),a)];else{if(a=nr.filter[e[x].type].apply(null,e[x].matches),a[si]){for(i=++x;i<l&&!nr.relative[e[i].type];i++);return Dh(x>1&&qd(K),x>1&&$0(e.slice(0,x-1).concat({value:e[x-2].type===" "?"*":""})).replace(O0,"$1"),a,x<i&&Rp(e.slice(x,i)),i<l&&Rp(e=e.slice(i)),i<l&&$0(e))}K.push(a)}return qd(K)}function Bp(e,n){var a=n.length>0,i=e.length>0,l=function(v,p,x,A,I){var K,J,Q,ce=0,ve="0",me=v&&[],he=[],Oe=Zf,_e=v||i&&nr.find.TAG("*",I),qe=qc+=Oe==null?1:Math.random()||.1,We=_e.length;for(I&&(Zf=p!==Zo&&p);ve!==We&&(K=_e[ve])!=null;ve++){if(i&&K){for(J=0;Q=e[J++];)if(Q(K,p,x)){A.push(K);break}I&&(qc=qe)}a&&((K=!Q&&K)&&ce--,v&&me.push(K))}if(ce+=ve,a&&ve!==ce){for(J=0;Q=n[J++];)Q(me,he,p,x);if(v){if(ce>0)for(;ve--;)me[ve]||he[ve]||(he[ve]=_2.call(A));he=P0(he)}qv.apply(A,he),I&&!v&&he.length>0&&ce+n.length>1&&ha.uniqueSort(A)}return I&&(qc=qe,Zf=Oe),me};return a?lc(l):l}x2=ha.compile=function(e,n){var a,i=[],l=[],v=jv[e+" "];if(!v){for(n||(n=cs(e)),a=n.length;a--;)v=Rp(n[a]),v[si]?i.push(v):l.push(v);v=jv(e,Bp(l,i)),v.selector=e}return v},jc=ha.select=function(e,n,a,i){var l,v,p,x,A,I=typeof e=="function"&&e,K=!i&&cs(e=I.selector||e);if(a=a||[],K.length===1){if(v=K[0]=K[0].slice(0),v.length>2&&(p=v[0]).type==="ID"&&Eo.getById&&n.nodeType===9&&Gc&&nr.relative[v[1].type]){if(n=(nr.find.ID(p.matches[0].replace(Xv,Yv),n)||[])[0],n)I&&(n=n.parentNode);else return a;e=e.slice(v.shift().value.length)}for(l=D0.needsContext.test(e)?0:v.length;l--&&(p=v[l],!nr.relative[x=p.type]);)if((A=nr.find[x])&&(i=A(p.matches[0].replace(Xv,Yv),T2.test(v[0].type)&&B0(n.parentNode)||n))){if(v.splice(l,1),e=i.length&&$0(v),!e)return qv.apply(a,i),a;break}}return(I||x2(e,K))(i,n,!Gc,a,T2.test(e)&&B0(n.parentNode)||n),a},Eo.sortStable=si.split("").sort(Gv).join("")===si,Eo.detectDuplicates=!!Ps,Uv(),Eo.sortDetached=!0;var O2=document,Wo=Array.prototype.push,Kd=Array.prototype.slice,Po=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bu=Ah.Event,Xd=yt.makeMap("children,contents,next,prev"),Ns=function(e){return typeof e<"u"},I0=function(e){return typeof e=="string"},Xc=function(e){return e&&e===e.window},Rh=function(e,n){n=n||O2;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var l;l=a.firstChild;)i.appendChild(l);return i},Bh=function(e,n,a,i){var l;if(I0(n))n=Rh(n,Zv(e[0]));else if(n.length&&!n.nodeType){if(n=lr.makeArray(n),i)for(l=n.length-1;l>=0;l--)Bh(e,n[l],a,i);else for(l=0;l<n.length;l++)Bh(e,n[l],a,i);return e}if(n.nodeType)for(l=e.length;l--;)a.call(e[l],n);return e},lx=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},cx=function(e,n,a){var i,l;return n=lr(n)[0],e.each(function(){var v=this;(!a||i!==v.parentNode)&&(i=v.parentNode,l=n.cloneNode(!1),v.parentNode.insertBefore(l,v)),l.appendChild(v)}),e},L3=yt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),z3=yt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),H3={for:"htmlFor",class:"className",readonly:"readOnly"},fx={float:"cssFloat"},N0={},F0={},Ri=function(e,n){return new lr.fn.init(e,n)},L0=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},D2=/^\s*|\s*$/g,rl=function(e){return e==null?"":(""+e).replace(D2,"")},za=function(e,n){var a,i,l,v;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(v=e[i],n.call(v,i,v)===!1))break}else for(l=0;l<a&&(v=e[l],n.call(v,l,v)!==!1);l++);return e},Fs=function(e,n){var a=[];return za(e,function(i,l){n(l,i)&&a.push(l)}),a},Zv=function(e){return e?e.nodeType===9?e:e.ownerDocument:O2};Ri.fn=Ri.prototype={constructor:Ri,selector:"",context:null,length:0,init:function(e,n){var a=this,i,l;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return lr(e).attr(n);a.context=n=document}if(I0(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=Po.exec(e),i)if(i[1])for(l=Rh(e,Zv(n)).firstChild;l;)Wo.call(a,l),l=l.nextSibling;else{if(l=Zv(n).getElementById(i[2]),!l)return a;if(l.id!==i[2])return a.find(e);a.length=1,a[0]=l}else return lr(n).find(e);else this.add(e,!1);return a},toArray:function(){return yt.toArray(this)},add:function(e,n){var a=this,i,l;if(I0(e))return a.add(lr(e));if(n!==!1)for(i=lr.unique(a.toArray().concat(lr.makeArray(e))),a.length=i.length,l=0;l<i.length;l++)a[l]=i[l];else Wo.apply(a,lr.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")za(e,function(l,v){a.attr(l,v)});else if(Ns(n))this.each(function(){var l;if(this.nodeType===1){if(l=N0[e],l&&l.set){l.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=N0[e],i&&i.get)return i.get(a[0],e);if(z3[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=H3[e]||e,typeof e=="object")za(e,function(i,l){a.prop(i,l)});else if(Ns(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,l,v=function(x){return x.replace(/-(\D)/g,function(A,I){return I.toUpperCase()})},p=function(x){return x.replace(/[A-Z]/g,function(A){return"-"+A})};if(typeof e=="object")za(e,function(x,A){a.css(x,A)});else if(Ns(n))e=v(e),typeof n=="number"&&!L3[e]&&(n=n.toString()+"px"),a.each(function(){var x=this.style;if(l=F0[e],l&&l.set){l.set(this,n);return}try{this.style[fx[e]||e]=n}catch{}(n===null||n==="")&&(x.removeProperty?x.removeProperty(p(e)):x.removeAttribute(e))});else{if(i=a[0],l=F0[e],l&&l.get)return l.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(p(e))}catch{return}else return i.currentStyle?i.currentStyle[v(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],bu.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(Ns(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch{lr(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(Ns(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Bh(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Bh(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Bh(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Bh(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return lr(e).append(this),this},prependTo:function(e){return lr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return cx(this,e)},wrapAll:function(e){return cx(this,e,!0)},wrapInner:function(e){return this.each(function(){lr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){lr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),lr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?za(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,l){var v=lx(l,e);if(v!==n){var p=l.className;v?l.className=rl((" "+p+" ").replace(" "+e+" "," ")):l.className+=p?" "+e:e}})),a},hasClass:function(e){return lx(this[0],e)},each:function(e){return za(this,e)},on:function(e,n){return this.each(function(){bu.bind(this,e,n)})},off:function(e,n){return this.each(function(){bu.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?bu.fire(this,e.type,e):bu.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return lr(Kd.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)lr.find(e,this[n],i);return lr(i)},filter:function(e){return lr(typeof e=="function"?Fs(this.toArray(),function(n,a){return e(a,n)}):lr.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof lr&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&lr(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),lr(n)},offset:function(e){var n,a,i,l=0,v=0,p;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(p=n.getBoundingClientRect(),l=p.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,v=p.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:l,top:v})},push:Wo,sort:Array.prototype.sort,splice:Array.prototype.splice},yt.extend(Ri,{extend:yt.extend,makeArray:function(e){return Xc(e)||e.nodeType?[e]:yt.toArray(e)},inArray:L0,isArray:yt.isArray,each:za,trim:rl,grep:Fs,find:ha,expr:ha.selectors,unique:ha.uniqueSort,text:ha.getText,contains:ha.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=lr.find.matchesSelector(n[0],e)?[n[0]]:[]:n=lr.find.matches(e,n),n}});var R2=function(e,n,a){var i=[],l=e[n];for(typeof a!="string"&&a instanceof lr&&(a=a[0]);l&&l.nodeType!==9&&!(a!==void 0&&(l===a||typeof a=="string"&&lr(l).is(a)));)l.nodeType===1&&i.push(l),l=l[n];return i},z0=function(e,n,a,i){var l=[];for(i instanceof lr&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&lr(e).is(i)))break;l.push(e)}return l},vx=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};za({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return R2(e,"parentNode")},next:function(e){return vx(e,"nextSibling",1)},prev:function(e){return vx(e,"previousSibling",1)},children:function(e){return z0(e.firstChild,"nextSibling",1)},contents:function(e){return yt.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){Ri.fn[e]=function(a){var i=this,l=[];i.each(function(){var p=n.call(l,this,a,l);p&&(lr.isArray(p)?l.push.apply(l,p):l.push(p))}),this.length>1&&(Xd[e]||(l=lr.unique(l)),e.indexOf("parents")===0&&(l=l.reverse()));var v=lr(l);return a?v.filter(a):v}}),za({parentsUntil:function(e,n){return R2(e,"parentNode",n)},nextUntil:function(e,n){return z0(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return z0(e,"previousSibling",1,n).slice(1)}},function(e,n){Ri.fn[e]=function(a,i){var l=this,v=[];l.each(function(){var x=n.call(v,this,a,v);x&&(lr.isArray(x)?v.push.apply(v,x):v.push(x))}),this.length>1&&(v=lr.unique(v),(e.indexOf("parents")===0||e==="prevUntil")&&(v=v.reverse()));var p=lr(v);return i?p.filter(i):p}}),Ri.fn.is=function(e){return!!e&&this.filter(e).length>0},Ri.fn.init.prototype=Ri.fn,Ri.overrideDefaults=function(e){var n,a=function(i,l){return n=n||e(),arguments.length===0&&(i=n.element),l||(l=n.context),new a.fn.init(i,l)};return lr.extend(a,this),a},Ri.attrHooks=N0,Ri.cssHooks=F0;var lr=Ri,$h=yt.each,H0=yt.grep,B2=zn.ie,jo=/^([a-z0-9],?)+$/i,al=function(e,n,a){var i=n.keep_values,l={set:function(p,x,A){n.url_converter&&x!==null&&(x=n.url_converter.call(n.url_converter_scope||a(),x,A,p[0])),p.attr("data-mce-"+A,x).attr(A,x)},get:function(p,x){return p.attr("data-mce-"+x)||p.attr(x)}},v={style:{set:function(p,x){if(x!==null&&typeof x=="object"){p.css(x);return}i&&p.attr("data-mce-style",x),x!==null&&typeof x=="string"?(p.removeAttr("style"),p.css(e.parse(x))):p.attr("style",x)},get:function(p){var x=p.attr("data-mce-style")||p.attr("style");return x=e.serialize(e.parse(x),p[0].nodeName),x}}};return i&&(v.href=v.src=l),v},dx=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},Yd=function(e,n){var a=0,i,l;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)l=e.nodeType,!(n&&l===3&&(l===i||!e.nodeValue.length))&&(a++,i=l);return a},Ma=function(e,n){n===void 0&&(n={});var a={},i=window,l={},v=0,p=!0,x=!0,A=Al.forElement(je.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),I=[],K=n.schema?n.schema:$s({}),J=Rl({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),Q=n.ownEvents?new Ah:Ah.Event,ce=K.getBlockElements(),ve=lr.overrideDefaults(function(){return{context:e,element:Pm.getRoot()}}),me=function(Ie){if(typeof Ie=="string")return!!ce[Ie];if(Ie){var st=Ie.nodeType;if(st)return!!(st===1&&ce[Ie.nodeName])}return!1},he=function(Ie){return Ie&&e&&Be(Ie)?e.getElementById(Ie):Ie},Oe=function(Ie){return ve(typeof Ie=="string"?he(Ie):Ie)},_e=function(Ie,st,Ut){var tn,mr,Wr=Oe(Ie);return Wr.length&&(tn=a5[st],tn&&tn.get?mr=tn.get(Wr,st):mr=Wr.attr(st)),typeof mr>"u"&&(mr=Ut||""),mr},qe=function(Ie){var st=he(Ie);return st?st.attributes:[]},We=function(Ie,st,Ut){Ut===""&&(Ut=null);var tn=Oe(Ie),mr=tn.attr(st);if(tn.length){var Wr=a5[st];Wr&&Wr.set?Wr.set(tn,Ut,st):tn.attr(st,Ut),mr!==Ut&&n.onSetAttrib&&n.onSetAttrib({attrElm:tn,attrName:st,attrValue:Ut})}},Re=function(Ie,st){if(!B2||Ie.nodeType!==1||st)return Ie.cloneNode(st);var Ut=e.createElement(Ie.nodeName);return $h(qe(Ie),function(tn){We(Ut,tn.nodeName,_e(Ie,tn.nodeName))}),Ut},Je=function(){return n.root_element||e.body},St=function(Ie){var st=Uf(Ie);return{x:st.x,y:st.y,w:st.width,h:st.height}},Nt=function(Ie,st){return gp(e.body,he(Ie),st)},Hn=function(Ie,st,Ut){var tn=Be(st)?Oe(Ie).css(st,Ut):Oe(Ie).css(st);n.update_styles&&dx(J,tn)},mn=function(Ie,st){var Ut=Oe(Ie).css(st);n.update_styles&&dx(J,Ut)},Rt=function(Ie,st,Ut){var tn=Oe(Ie);return Ut?tn.css(st):(st=st.replace(/-(\D)/g,function(mr,Wr){return Wr.toUpperCase()}),st==="float"&&(st=zn.browser.isIE()?"styleFloat":"cssFloat"),tn[0]&&tn[0].style?tn[0].style[st]:void 0)},Ln=function(Ie){var st,Ut;return Ie=he(Ie),st=Rt(Ie,"width"),Ut=Rt(Ie,"height"),st.indexOf("px")===-1&&(st=0),Ut.indexOf("px")===-1&&(Ut=0),{w:parseInt(st,10)||Ie.offsetWidth||Ie.clientWidth,h:parseInt(Ut,10)||Ie.offsetHeight||Ie.clientHeight}},Vt=function(Ie){Ie=he(Ie);var st=Nt(Ie),Ut=Ln(Ie);return{x:st.x,y:st.y,w:Ut.w,h:Ut.h}},fn=function(Ie,st){var Ut;if(!Ie)return!1;if(!Array.isArray(Ie)){if(st==="*")return Ie.nodeType===1;if(jo.test(st)){var tn=st.toLowerCase().split(/,/),mr=Ie.nodeName.toLowerCase();for(Ut=tn.length-1;Ut>=0;Ut--)if(tn[Ut]===mr)return!0;return!1}if(Ie.nodeType&&Ie.nodeType!==1)return!1}var Wr=Array.isArray(Ie)?Ie:[Ie];return ha(st,Wr[0].ownerDocument||Wr[0],null,Wr).length>0},jt=function(Ie,st,Ut,tn){var mr=[],Wr,Xa=he(Ie);for(tn=tn===void 0,Ut=Ut||(Je().nodeName!=="BODY"?Je().parentNode:null),yt.is(st,"string")&&(Wr=st,st==="*"?st=function(Kg){return Kg.nodeType===1}:st=function(Kg){return fn(Kg,Wr)});Xa&&!(Xa===Ut||ke(Xa.nodeType)||hp(Xa)||sr(Xa));){if(!st||typeof st=="function"&&st(Xa))if(tn)mr.push(Xa);else return[Xa];Xa=Xa.parentNode}return tn?mr:null},Zt=function(Ie,st,Ut){var tn=jt(Ie,st,Ut,!1);return tn&&tn.length>0?tn[0]:null},yn=function(Ie,st,Ut){var tn=st;if(Ie){for(typeof st=="string"&&(tn=function(mr){return fn(mr,st)}),Ie=Ie[Ut];Ie;Ie=Ie[Ut])if(typeof tn=="function"&&tn(Ie))return Ie}return null},$t=function(Ie,st){return yn(Ie,st,"nextSibling")},hn=function(Ie,st){return yn(Ie,st,"previousSibling")},xr=function(Ie,st){return ha(Ie,he(st)||n.root_element||e,[])},ta=function(Ie,st,Ut){var tn,mr=typeof Ie=="string"?he(Ie):Ie;if(!mr)return!1;if(yt.isArray(mr)&&(mr.length||mr.length===0))return tn=[],$h(mr,function(Xa,Kg){Xa&&tn.push(st.call(Ut,typeof Xa=="string"?he(Xa):Xa,Kg))}),tn;var Wr=Ut||this;return st.call(Wr,mr)},Yr=function(Ie,st){Oe(Ie).each(function(Ut,tn){$h(st,function(mr,Wr){We(tn,Wr,mr)})})},Fi=function(Ie,st){var Ut=Oe(Ie);B2?Ut.each(function(tn,mr){if(mr.canHaveHTML!==!1){for(;mr.firstChild;)mr.removeChild(mr.firstChild);try{mr.innerHTML="<br>"+st,mr.removeChild(mr.firstChild)}catch{lr("<div></div>").html("<br>"+st).contents().slice(1).appendTo(mr)}return st}}):Ut.html(st)},ao=function(Ie,st,Ut,tn,mr){return ta(Ie,function(Wr){var Xa=typeof st=="string"?e.createElement(st):st;return Yr(Xa,Ut),tn&&(typeof tn!="string"&&tn.nodeType?Xa.appendChild(tn):typeof tn=="string"&&Fi(Xa,tn)),mr?Xa:Wr.appendChild(Xa)})},ju=function(Ie,st,Ut){return ao(e.createElement(Ie),Ie,st,Ut,!0)},ps=Bs.decode,Mt=Bs.encodeAllRaw,qt=function(Ie,st,Ut){var tn="",mr;tn+="<"+Ie;for(mr in st)Gs(st,mr)&&(tn+=" "+mr+'="'+Mt(st[mr])+'"');return typeof Ut<"u"?tn+">"+Ut+"</"+Ie+">":tn+" />"},Dn=function(Ie){var st,Ut=e.createElement("div"),tn=e.createDocumentFragment();for(tn.appendChild(Ut),Ie&&(Ut.innerHTML=Ie);st=Ut.firstChild;)tn.appendChild(st);return tn.removeChild(Ut),tn},et=function(Ie,st){var Ut=Oe(Ie);return st?Ut.each(function(){for(var tn;tn=this.firstChild;)tn.nodeType===3&&tn.data.length===0?this.removeChild(tn):this.parentNode.insertBefore(tn,this)}).remove():Ut.remove(),Ut.length>1?Ut.toArray():Ut[0]},Ht=function(Ie){return ta(Ie,function(st){var Ut,tn=st.attributes;for(Ut=tn.length-1;Ut>=0;Ut--)st.removeAttributeNode(tn.item(Ut))})},Pt=function(Ie){return J.parse(Ie)},$n=function(Ie,st){return J.serialize(Ie,st)},Nn=function(Ie){var st,Ut;if(Pm!==Ma.DOM&&e===document){if(a[Ie])return;a[Ie]=!0}Ut=e.getElementById("mceDefaultStyles"),Ut||(Ut=e.createElement("style"),Ut.id="mceDefaultStyles",Ut.type="text/css",st=e.getElementsByTagName("head")[0],st.firstChild?st.insertBefore(Ut,st.firstChild):st.appendChild(Ut)),Ut.styleSheet?Ut.styleSheet.cssText+=Ie:Ut.appendChild(e.createTextNode(Ie))},ka=function(Ie){Ie||(Ie=""),He(Ie.split(","),function(st){l[st]=!0,A.load(st,ye)})},ni=function(Ie,st,Ut){Oe(Ie).toggleClass(st,Ut).each(function(){this.className===""&&lr(this).attr("class",null)})},Yo=function(Ie,st){Oe(Ie).addClass(st)},Mm=function(Ie,st){ni(Ie,st,!1)},Gu=function(Ie,st){return Oe(Ie).hasClass(st)},Eu=function(Ie){Oe(Ie).show()},hi=function(Ie){Oe(Ie).hide()},Vl=function(Ie){return Oe(Ie).css("display")==="none"},qu=function(Ie){return(Ie||"mce_")+v++},Sf=function(Ie){var st=typeof Ie=="string"?he(Ie):Ie;return qn(st)?st.outerHTML:lr("<div></div>").append(lr(st).clone()).html()},Ta=function(Ie,st){Oe(Ie).each(function(){try{if("outerHTML"in this){this.outerHTML=st;return}}catch{}et(lr(this).html(st),!0)})},Ha=function(Ie,st){var Ut=he(st);return ta(Ie,function(tn){var mr=Ut.parentNode,Wr=Ut.nextSibling;return Wr?mr.insertBefore(tn,Wr):mr.appendChild(tn),tn})},gi=function(Ie,st,Ut){return ta(st,function(tn){return yt.is(tn,"array")&&(Ie=Ie.cloneNode(!0)),Ut&&$h(H0(tn.childNodes),function(mr){Ie.appendChild(mr)}),tn.parentNode.replaceChild(Ie,tn)})},bs=function(Ie,st){var Ut;return Ie.nodeName!==st.toUpperCase()&&(Ut=ju(st),$h(qe(Ie),function(tn){We(Ut,tn.nodeName,_e(Ie,tn.nodeName))}),gi(Ut,Ie,!0)),Ut||Ie},wv=function(Ie,st){for(var Ut=Ie,tn;Ut;){for(tn=st;tn&&Ut!==tn;)tn=tn.parentNode;if(Ut===tn)break;Ut=Ut.parentNode}return!Ut&&Ie.ownerDocument?Ie.ownerDocument.documentElement:Ut},Cv=function(Ie){return J.toHex(yt.trim(Ie))},qg=function(Ie){if(qn(Ie)){var st=Ie.nodeName.toLowerCase()==="a"&&!_e(Ie,"href")&&_e(Ie,"id");if(_e(Ie,"name")||_e(Ie,"data-mce-bookmark")||st)return!0}return!1},Ny=function(Ie,st){var Ut,tn,mr=0;if(qg(Ie))return!1;if(Ie=Ie.firstChild,Ie){var Wr=new ia(Ie,Ie.parentNode),Xa=K?K.getWhiteSpaceElements():{};st=st||(K?K.getNonEmptyElements():null);do{if(Ut=Ie.nodeType,qn(Ie)){var Kg=Ie.getAttribute("data-mce-bogus");if(Kg){Ie=Wr.next(Kg==="all");continue}if(tn=Ie.nodeName.toLowerCase(),st&&st[tn]){if(tn==="br"){mr++,Ie=Wr.next();continue}return!1}if(qg(Ie))return!1}if(Ut===8||Ut===3&&!Tl(Ie.nodeValue)||Ut===3&&Ie.parentNode&&Xa[Ie.parentNode.nodeName]&&Tl(Ie.nodeValue))return!1;Ie=Wr.next()}while(Ie)}return mr<=1},GA=function(){return e.createRange()},AM=function(Ie,st,Ut){var tn=GA(),mr,Wr,Xa;if(Ie&&st)return tn.setStart(Ie.parentNode,Yd(Ie)),tn.setEnd(st.parentNode,Yd(st)),mr=tn.extractContents(),tn=GA(),tn.setStart(st.parentNode,Yd(st)+1),tn.setEnd(Ie.parentNode,Yd(Ie)+1),Wr=tn.extractContents(),Xa=Ie.parentNode,Xa.insertBefore(m2(Pm,mr),Ie),Ut?Xa.insertBefore(Ut,Ie):Xa.insertBefore(st,Ie),Xa.insertBefore(m2(Pm,Wr),Ie),et(Ie),Ut||st},EM=function(Ie,st,Ut,tn){if(yt.isArray(Ie)){for(var mr=Ie.length,Wr=[];mr--;)Wr[mr]=EM(Ie[mr],st,Ut,tn);return Wr}n.collect&&(Ie===e||Ie===i)&&I.push([Ie,st,Ut,tn]);var Xa=Q.bind(Ie,st,Ut,tn||Pm);return Xa},n5=function(Ie,st,Ut){if(yt.isArray(Ie)){for(var tn=Ie.length,mr=[];tn--;)mr[tn]=n5(Ie[tn],st,Ut);return mr}else{if(I.length>0&&(Ie===e||Ie===i))for(var tn=I.length;tn--;){var Wr=I[tn];Ie===Wr[0]&&(!st||st===Wr[1])&&(!Ut||Ut===Wr[2])&&Q.unbind(Wr[0],Wr[1],Wr[2])}return Q.unbind(Ie,st,Ut)}},t7=function(Ie,st,Ut){return Q.fire(Ie,st,Ut)},TM=function(Ie){if(Ie&&qn(Ie)){var st=Ie.getAttribute("data-mce-contenteditable");return st&&st!=="inherit"?st:Ie.contentEditable!=="inherit"?Ie.contentEditable:null}else return null},n7=function(Ie){for(var st=Je(),Ut=null;Ie&&Ie!==st&&(Ut=TM(Ie),Ut===null);Ie=Ie.parentNode);return Ut},OM=function(){if(I.length>0)for(var Ie=I.length;Ie--;){var st=I[Ie];Q.unbind(st[0],st[1],st[2])}Nr(l,function(Ut,tn){A.unload(tn),delete l[tn]}),ha.setDocument&&ha.setDocument()},r5=function(Ie,st){if(B2){for(;Ie;){if(st===Ie)return!0;Ie=Ie.parentNode}return!1}else return Ie===st||st.contains(Ie)},r7=function(Ie){return"startContainer: "+Ie.startContainer.nodeName+", startOffset: "+Ie.startOffset+", endContainer: "+Ie.endContainer.nodeName+", endOffset: "+Ie.endOffset},Pm={doc:e,settings:n,win:i,files:l,stdMode:p,boxModel:x,styleSheetLoader:A,boundEvents:I,styles:J,schema:K,events:Q,isBlock:me,$:ve,$$:Oe,root:null,clone:Re,getRoot:Je,getViewPort:St,getRect:Vt,getSize:Ln,getParent:Zt,getParents:jt,get:he,getNext:$t,getPrev:hn,select:xr,is:fn,add:ao,create:ju,createHTML:qt,createFragment:Dn,remove:et,setStyle:Hn,getStyle:Rt,setStyles:mn,removeAllAttribs:Ht,setAttrib:We,setAttribs:Yr,getAttrib:_e,getPos:Nt,parseStyle:Pt,serializeStyle:$n,addStyle:Nn,loadCSS:ka,addClass:Yo,removeClass:Mm,hasClass:Gu,toggleClass:ni,show:Eu,hide:hi,isHidden:Vl,uniqueId:qu,setHTML:Fi,getOuterHTML:Sf,setOuterHTML:Ta,decode:ps,encode:Mt,insertAfter:Ha,replace:gi,rename:bs,findCommonAncestor:wv,toHex:Cv,run:ta,getAttribs:qe,isEmpty:Ny,createRng:GA,nodeIndex:Yd,split:AM,bind:EM,unbind:n5,fire:t7,getContentEditable:TM,getContentEditableParent:n7,destroy:OM,isChildOf:r5,dumpRng:r7},a5=al(J,n,U(Pm));return Pm};Ma.DOM=Ma(document),Ma.nodeIndex=Yd;var Jd=Ma.DOM,V0=yt.each,Mh=yt.grep,$2=0,mx=1,$p=2,hx=3,ev=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var l=Jd,v,p=function(){l.remove(I),v&&(v.onerror=v.onload=v=null)},x=function(){p(),a()},A=function(){p(),le(i)?i():typeof console<"u"&&console.log&&console.log("Failed to load script: "+n)},I=l.uniqueId();v=document.createElement("script"),v.id=I,v.type="text/javascript",v.src=yt._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(v,"referrerpolicy",this.settings.referrerPolicy),v.onload=x,v.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(v)},e.prototype.isDone=function(n){return this.states[n]===$p},e.prototype.markDone=function(n){this.states[n]=$p},e.prototype.add=function(n,a,i,l){var v=this.states[n];this.queue.push(n),v===void 0&&(this.states[n]=$2),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:l,scope:i||this}))},e.prototype.load=function(n,a,i,l){return this.add(n,a,i,l)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,l){var v=this,p=[],x=function(I,K){V0(v.scriptLoadedCallbacks[K],function(J){le(J[I])&&J[I].call(J.scope)}),v.scriptLoadedCallbacks[K]=void 0};v.queueLoadedCallbacks.push({success:a,failure:l,scope:i||this});var A=function(){var I=Mh(n);if(n.length=0,V0(I,function(J){if(v.states[J]===$p){x("success",J);return}if(v.states[J]===hx){x("failure",J);return}v.states[J]!==mx&&(v.states[J]=mx,v.loading++,v.loadScript(J,function(){v.states[J]=$p,v.loading--,x("success",J),A()},function(){v.states[J]=hx,v.loading--,p.push(J),x("failure",J),A()}))}),!v.loading){var K=v.queueLoadedCallbacks.slice(0);v.queueLoadedCallbacks.length=0,V0(K,function(J){p.length===0?le(J.success)&&J.success.call(J.scope):le(J.failure)&&J.failure.call(J.scope,p)})}};A()},e.ScriptLoader=new e,e}(),yu=function(e){var n=e,a=function(){return n},i=function(l){n=l};return{get:a,set:i}},M2=function(e){return de(e)&&kr(e,"raw")},V3=function(e){return $e(e)&&e.length>1},fc={},tv=yu("en"),U0=function(){return Rr(fc,tv.get())},U3=function(){return Si(fc,function(e){return Un({},e)})},W3=function(e){e&&tv.set(e)},Zd=function(){return tv.get()},Qd=function(e,n){var a=fc[e];a||(fc[e]=a={}),Nr(n,function(i,l){a[l.toLowerCase()]=i})},W0=function(e){var n=U0().getOr({}),a=function(A){return le(A)?Object.prototype.toString.call(A):i(A)?"":""+A},i=function(A){return A===""||A===null||A===void 0},l=function(A){var I=a(A);return Rr(n,I.toLowerCase()).map(a).getOr(I)},v=function(A){return A.replace(/{context:\w+}$/,"")};if(i(e))return"";if(M2(e))return a(e.raw);if(V3(e)){var p=e.slice(1),x=l(e[0]).replace(/\{([0-9]+)\}/g,function(A,I){return kr(p,I)?a(p[I]):A});return v(x)}return v(l(e))},Kr=function(){return U0().bind(function(e){return Rr(e,"_dir")}).exists(function(e){return e==="rtl"})},Go=function(e){return kr(fc,e)},wu={getData:U3,setCode:W3,getCode:Zd,add:Qd,translate:W0,isRtl:Kr,hasCode:Go},Fu=function(){var e=[],n={},a={},i=[],l=function(me,he){var Oe=ot(i,function(_e){return _e.name===me&&_e.state===he});He(Oe,function(_e){return _e.callback()})},v=function(me){if(a[me])return a[me].instance},p=function(me){var he;return a[me]&&(he=a[me].dependencies),he||[]},x=function(me,he){Fu.languageLoad!==!1&&ve(me,function(){var Oe=wu.getCode(),_e=","+(he||"")+",";!Oe||he&&_e.indexOf(","+Oe+",")===-1||ev.ScriptLoader.add(n[me]+"/langs/"+Oe+".js")},"loaded")},A=function(me,he,Oe){var _e=he;return e.push(_e),a[me]={instance:_e,dependencies:Oe},l(me,"added"),_e},I=function(me){delete n[me],delete a[me]},K=function(me,he){return typeof he=="object"?he:typeof me=="string"?{prefix:"",resource:he,suffix:""}:{prefix:me.prefix,resource:he,suffix:me.suffix}},J=function(me,he){var Oe=n[me];He(he,function(_e){ev.ScriptLoader.add(Oe+"/"+_e)})},Q=function(me,he,Oe,_e){var qe=p(me);He(qe,function(We){var Re=K(he,We);ce(Re.resource,Re,void 0,void 0)}),Oe&&(_e?Oe.call(_e):Oe.call(ev))},ce=function(me,he,Oe,_e,qe){if(!n[me]){var We=typeof he=="string"?he:he.prefix+he.resource+he.suffix;We.indexOf("/")!==0&&We.indexOf("://")===-1&&(We=Fu.baseURL+"/"+We),n[me]=We.substring(0,We.lastIndexOf("/"));var Re=function(){l(me,"loaded"),Q(me,he,Oe,_e)};a[me]?Re():ev.ScriptLoader.add(We,Re,_e,qe)}},ve=function(me,he,Oe){Oe===void 0&&(Oe="added"),kr(a,me)&&Oe==="added"||kr(n,me)&&Oe==="loaded"?he():i.push({name:me,state:Oe,callback:he})};return{items:e,urls:n,lookup:a,_listeners:i,get:v,dependencies:p,requireLangPack:x,add:A,remove:I,createUrl:K,addComponents:J,load:ce,waitFor:ve}};Fu.languageLoad=!0,Fu.baseURL="",Fu.PluginManager=Fu(),Fu.ThemeManager=Fu();var _a=function(e){var n=yu(te.none()),a=function(){return n.get().each(e)},i=function(){a(),n.set(te.none())},l=function(){return n.get().isSome()},v=function(){return n.get()},p=function(x){a(),n.set(te.some(x))};return{clear:i,isSet:l,get:v,set:p}},Qv=function(){var e=_a(ye),n=function(a){return e.get().each(a)};return Un(Un({},e),{on:n})},j0=function(e,n){var a=null,i=function(){ue(a)||(clearTimeout(a),a=null)},l=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];ue(a)&&(a=setTimeout(function(){a=null,e.apply(null,v)},n))};return{cancel:i,throttle:l}},Qo=function(e,n){var a=null,i=function(){ue(a)||(clearTimeout(a),a=null)},l=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];i(),a=setTimeout(function(){a=null,e.apply(null,v)},n)};return{cancel:i,throttle:l}},Yc=function(e,n){var a=re(e,n);return a===void 0||a===""?[]:a.split(" ")},j3=function(e,n,a){var i=Yc(e,n),l=i.concat([a]);return M(e,n,l.join(" ")),!0},G3=function(e,n,a){var i=ot(Yc(e,n),function(l){return l!==a});return i.length>0?M(e,n,i.join(" ")):bt(e,n),!1},G0=function(e){return e.dom.classList!==void 0},q0=function(e){return Yc(e,"class")},P2=function(e,n){return j3(e,"class",n)},I2=function(e,n){return G3(e,"class",n)},em=function(e,n){G0(e)?e.dom.classList.add(n):P2(e,n)},Mp=function(e){var n=G0(e)?e.dom.classList:q0(e);n.length===0&&bt(e,"class")},N2=function(e,n){if(G0(e)){var a=e.dom.classList;a.remove(n)}else I2(e,n);Mp(e)},F2=function(e,n){return G0(e)&&e.dom.classList.contains(n)},Ph=function(e,n){var a=[];return He(Qi(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(Ph(i,n))}),a},Bi=function(e,n){return l0(n,e)},fs=U("mce-annotation"),Pp=U("data-mce-annotation"),qo=U("data-mce-annotation-uid"),K0=function(e,n){var a=e.selection.getRng(),i=je.fromDom(a.startContainer),l=je.fromDom(e.getBody()),v=n.fold(function(){return"."+fs()},function(I){return"["+Pp()+'="'+I+'"]'}),p=ec(i,a.startOffset).getOr(i),x=bo(p,v,function(I){return Ba(I,l)}),A=function(I,K){return Ge(I,K)?te.some(re(I,K)):te.none()};return x.bind(function(I){return A(I,""+qo()).bind(function(K){return A(I,""+Pp()).map(function(J){var Q=L2(e,K);return{uid:K,name:J,elements:Q}})})})},nv=function(e){return Fa(e)&&F2(e,fs())},L2=function(e,n){var a=je.fromDom(e.getBody());return Bi(a,"["+qo()+'="'+n+'"]')},z2=function(e,n){var a=je.fromDom(e.getBody()),i=Bi(a,"["+Pp()+'="'+n+'"]'),l={};return He(i,function(v){var p=re(v,qo()),x=Rr(l,p).getOr([]);l[p]=x.concat([v])}),l},gx=function(e,n){var a=yu({}),i=function(){return{listeners:[],previous:Qv()}},l=function(K,J){v(K,function(Q){return J(Q),Q})},v=function(K,J){var Q=a.get(),ce=Rr(Q,K).getOrThunk(i),ve=J(ce);Q[K]=ve,a.set(Q)},p=function(K,J,Q){l(K,function(ce){He(ce.listeners,function(ve){return ve(!0,K,{uid:J,nodes:Qe(Q,function(me){return me.dom})})})})},x=function(K){l(K,function(J){He(J.listeners,function(Q){return Q(!1,K)})})},A=Qo(function(){var K=a.get(),J=Jr(Zi(K));He(J,function(Q){v(Q,function(ce){var ve=ce.previous.get();return K0(e,te.some(Q)).fold(function(){ve.isSome()&&(x(Q),ce.previous.clear())},function(me){var he=me.uid,Oe=me.name,_e=me.elements;Id(ve,he)||(p(Oe,he,_e),ce.previous.set(he))}),{previous:ce.previous,listeners:ce.listeners}})})},30);e.on("remove",function(){A.cancel()}),e.on("NodeChange",function(){A.throttle()});var I=function(K,J){v(K,function(Q){return{previous:Q.previous,listeners:Q.listeners.concat([J])}})};return{addListener:I}},H2=function(e,n){var a=function(i){return te.from(i.attr(Pp())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){He(i,function(l){a(l).each(function(v){v.persistent===!1&&l.unwrap()})})})})},Ip=function(){var e={},n=function(i,l){e[i]={name:i,settings:l}},a=function(i){return Rr(e,i).map(function(l){return l.settings})};return{register:n,lookup:a}},X0=0,px=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return X0++,e+"_"+i+X0+String(a)},q3=function(e,n){He(n,function(a){em(e,a)})},Xi=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,Qi(je.fromDom(i))},ei=function(e){return Qe(e,je.fromDom)},Cu=function(e){return e.dom.innerHTML},Su=function(e,n){var a=xl(e),i=a.dom,l=je.fromDom(i.createDocumentFragment()),v=Xi(n,i);Ff(l,v),Lf(e),Ho(e,l)},Lu=function(e,n){return je.fromDom(e.dom.cloneNode(n))},Io=function(e){return Lu(e,!1)},Y0=function(e){return Lu(e,!0)},J0=function(e,n,a){a===void 0&&(a=rt);var i=new ia(e,n),l=function(v){var p;do p=i[v]();while(p&&!gn(p)&&!a(p));return te.from(p).filter(gn)};return{current:function(){return te.from(i.current()).filter(gn)},next:function(){return l("next")},prev:function(){return l("prev")},prev2:function(){return l("prev2")}}},V2=function(e,n){var a=n||function(p){return e.isBlock(p)||ya(p)||La(p)},i=function(p,x,A,I){if(gn(p)){var K=I(p,x,p.data);if(K!==-1)return te.some({container:p,offset:K})}return A().bind(function(J){return i(J.container,J.offset,A,I)})},l=function(p,x,A,I){var K=J0(p,I,a);return i(p,x,function(){return K.prev().map(function(J){return{container:J,offset:J.length}})},A).getOrNull()},v=function(p,x,A,I){var K=J0(p,I,a);return i(p,x,function(){return K.next().map(function(J){return{container:J,offset:0}})},A).getOrNull()};return{backwards:l,forwards:v}},tm=Math.round,ed=function(e){return e?{left:tm(e.left),top:tm(e.top),bottom:tm(e.bottom),right:tm(e.right),width:tm(e.width),height:tm(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Z0=function(e,n){return e=ed(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Q0=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},eb=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},Ih=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:eb(n.top-e.bottom,e,n)},Nh=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:eb(n.bottom-e.top,e,n)},bx=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},Jc=function(e,n,a){return Math.min(Math.max(e,n),a)},nm=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},Wa=function(e,n){if(qn(e)&&e.hasChildNodes()){var a=e.childNodes,i=Jc(n,0,a.length-1);return a[i]}else return e},K3=function(e,n){if(!(n<0&&qn(e)&&e.hasChildNodes()))return Wa(e,n)},X3=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),tb=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&X3.test(e)},Y3=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},yx=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},Jt=qn,J3=Uc,Ko=mu("display","block table"),U2=mu("float","left right"),rm=yx(Jt,J3,ge(U2)),wx=ge(mu("white-space","pre pre-line pre-wrap")),nu=gn,Np=ya,nb=Ma.nodeIndex,Fp=K3,vc=function(e){return"createRange"in e?e.createRange():Ma.DOM.createRng()},Lp=function(e){return e&&/[\r\n\t ]/.test(e)},zp=function(e){return!!e.setStart&&!!e.setEnd},xu=function(e){var n=e.startContainer,a=e.startOffset;if(Lp(e.toString())&&wx(n.parentNode)&&gn(n)){var i=n.data;if(Lp(i[a-1])||Lp(i[a+1]))return!0}return!1},dc=function(e){var n=e.ownerDocument,a=vc(n),i=n.createTextNode(us),l=e.parentNode;l.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var v=ed(a.getBoundingClientRect());return l.removeChild(i),v},Cx=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,l=e.endOffset;if(n===a&&gn(a)&&i===0&&l===1){var v=e.cloneRange();return v.setEndAfter(a),Zc(v)}else return null},ru=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},Zc=function(e){var n,a=e.getClientRects();return a.length>0?n=ed(a[0]):n=ed(e.getBoundingClientRect()),!zp(e)&&Np(e)&&ru(n)?dc(e):ru(n)&&zp(e)?Cx(e):n},td=function(e,n){var a=Z0(e,n);return a.width=1,a.right=a.left+1,a},Hp=function(e){var n=[],a=function(A){A.height!==0&&(n.length>0&&Q0(A,n[n.length-1])||n.push(A))},i=function(A,I){var K=vc(A.ownerDocument);if(I<A.data.length){if(tb(A.data[I]))return n;if(tb(A.data[I-1])&&(K.setStart(A,I),K.setEnd(A,I+1),!xu(K)))return a(td(Zc(K),!1)),n}I>0&&(K.setStart(A,I-1),K.setEnd(A,I),xu(K)||a(td(Zc(K),!1))),I<A.data.length&&(K.setStart(A,I),K.setEnd(A,I+1),xu(K)||a(td(Zc(K),!0)))},l=e.container(),v=e.offset();if(nu(l))return i(l,v),n;if(Jt(l))if(e.isAtEnd()){var p=Fp(l,v);nu(p)&&i(p,p.data.length),rm(p)&&!Np(p)&&a(td(Zc(p),!1))}else{var p=Fp(l,v);if(nu(p)&&i(p,0),rm(p)&&e.isAtEnd())return a(td(Zc(p),!1)),n;var x=Fp(e.container(),e.offset()-1);rm(x)&&!Np(x)&&(Ko(x)||Ko(p)||!rm(p))&&a(td(Zc(x),!1)),rm(p)&&a(td(Zc(p),!0))}return n},dt=function(e,n,a){var i=function(){return nu(e),n===0},l=function(){return nu(e)?n>=e.data.length:n>=e.childNodes.length},v=function(){var K=vc(e.ownerDocument);return K.setStart(e,n),K.setEnd(e,n),K},p=function(){return a||(a=Hp(dt(e,n))),a},x=function(){return p().length>0},A=function(K){return K&&e===K.container()&&n===K.offset()},I=function(K){return Fp(e,K?n-1:n)};return{container:U(e),offset:U(n),toRange:v,getClientRects:p,isVisible:x,isAtStart:i,isAtEnd:l,isEqual:A,getNode:I}};dt.fromRangeStart=function(e){return dt(e.startContainer,e.startOffset)},dt.fromRangeEnd=function(e){return dt(e.endContainer,e.endOffset)},dt.after=function(e){return dt(e.parentNode,nb(e)+1)},dt.before=function(e){return dt(e.parentNode,nb(e))},dt.isAbove=function(e,n){return eu(va(n.getClientRects()),Hr(e.getClientRects()),Ih).getOr(!1)},dt.isBelow=function(e,n){return eu(Hr(n.getClientRects()),va(e.getClientRects()),Nh).getOr(!1)},dt.isAtStart=function(e){return e?e.isAtStart():!1},dt.isAtEnd=function(e){return e?e.isAtEnd():!1},dt.isTextPosition=function(e){return e?gn(e.container()):!1},dt.isElementPosition=function(e){return dt.isTextPosition(e)===!1};var rv=function(e,n){gn(n)&&n.data.length===0&&e.remove(n)},Fh=function(e,n,a){n.insertNode(a),rv(e,a.previousSibling),rv(e,a.nextSibling)},Z3=function(e,n,a){var i=te.from(a.firstChild),l=te.from(a.lastChild);n.insertNode(a),i.each(function(v){return rv(e,v.previousSibling)}),l.each(function(v){return rv(e,v.nextSibling)})},rb=function(e,n,a){sr(a)?Z3(e,n,a):Fh(e,n,a)},$l=gn,ab=po,W2=Ma.nodeIndex,j2=function(e){var n=e.parentNode;return ab(n)?j2(n):n},ob=function(e){return e?Tf(e.childNodes,function(n,a){return ab(a)&&a.nodeName!=="BR"?n=n.concat(ob(a)):n.push(a),n},[]):[]},G2=function(e,n){for(;(e=e.previousSibling)&&$l(e);)n+=e.data.length;return n},q2=function(e){return function(n){return e===n}},K2=function(e){var n,a;n=ob(j2(e)),a=da(n,q2(e),e),n=n.slice(0,a+1);var i=Tf(n,function(l,v,p){return $l(v)&&$l(n[p-1])&&l++,l},0);return n=gl(n,As([e.nodeName])),a=da(n,q2(e),e),a-i},X2=function(e){var n;return $l(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+K2(e)+"]"},am=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},Sx=function(e,n){var a,i,l=[],v,p,x;return a=n.container(),i=n.offset(),$l(a)?v=G2(a,i):(p=a.childNodes,i>=p.length?(v="after",i=p.length-1):v="before",a=p[i]),l.push(X2(a)),x=am(e,a),x=gl(x,ge(po)),l=l.concat(Av(x,function(A){return X2(A)})),l.reverse().join("/")+","+v},Q3=function(e,n,a){var i=ob(e);return i=gl(i,function(l,v){return!$l(l)||!$l(i[v-1])}),i=gl(i,As([n])),i[a]},e4=function(e,n){for(var a=e,i=0,l;$l(a);){if(l=a.data.length,n>=i&&n<=i+l){e=a,n=n-i;break}if(!$l(a.nextSibling)){e=a,n=l;break}i+=l,a=a.nextSibling}return $l(e)&&n>e.data.length&&(n=e.data.length),dt(e,n)},Lh=function(e,n){var a;if(!n)return null;var i=n.split(","),l=i[0].split("/");a=i.length>1?i[1]:"before";var v=Tf(l,function(p,x){var A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(x);return A?(A[1]==="text()"&&(A[1]="#text"),Q3(p,A[1],parseInt(A[2],10))):null},e);return v?$l(v)?e4(v,parseInt(a,10)):(a==="after"?a=W2(v)+1:a=W2(v),dt(v.parentNode,a)):null},zh=La,ib=function(e,n,a){var i,l;for(l=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&gn(i);i=i.previousSibling)l+=e(i.data).length;return l},Y2=function(e,n,a,i,l){var v=i[l?"startContainer":"endContainer"],p=i[l?"startOffset":"endOffset"],x=[],A,I=0,K=e.getRoot();for(gn(v)?x.push(a?ib(n,v,p):p):(A=v.childNodes,p>=A.length&&A.length&&(I=1,p=Math.max(0,A.length-1)),x.push(e.nodeIndex(A[p],a)+I));v&&v!==K;v=v.parentNode)x.push(e.nodeIndex(v,a));return x},Hh=function(e,n,a,i){var l=n.dom,v={};return v.start=Y2(l,e,a,i,!0),n.isCollapsed()||(v.end=Y2(l,e,a,i,!1)),Vc(i)&&(v.isFakeCaret=!0),v},J2=function(e,n,a){var i=0;return yt.each(e.select(n),function(l){if(l.getAttribute("data-mce-bogus")!=="all"){if(l===a)return!1;i++}}),i},fo=function(e,n){var a,i,l,v=n?"start":"end";a=e[v+"Container"],i=e[v+"Offset"],qn(a)&&a.nodeName==="TR"&&(l=a.childNodes,a=l[Math.min(n?i:i-1,l.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},Vp=function(e){return fo(e,!0),fo(e,!1),e},yo=function(e,n){var a;if(qn(e)&&(e=Wa(e,n),zh(e)))return e;if(Nu(e)&&(gn(e)&&wa(e)&&(e=e.parentNode),a=e.previousSibling,zh(a)||(a=e.nextSibling,zh(a))))return a},ub=function(e){return yo(e.startContainer,e.startOffset)||yo(e.endContainer,e.endOffset)},om=function(e,n,a){var i=a.getNode(),l=i?i.nodeName:null,v=a.getRng();if(zh(i)||l==="IMG")return{name:l,index:J2(a.dom,l,i)};var p=ub(v);return p?(l=p.tagName,{name:l,index:J2(a.dom,l,p)}):Hh(e,a,n,v)},Z2=function(e){var n=e.getRng();return{start:Sx(e.dom.getRoot(),dt.fromRangeStart(n)),end:Sx(e.dom.getRoot(),dt.fromRangeEnd(n))}},Up=function(e){return{rng:e.getRng()}},Q2=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},xx=function(e,n){var a=e.dom,i=e.getRng(),l=a.uniqueId(),v=e.isCollapsed(),p=e.getNode(),x=p.nodeName;if(x==="IMG")return{name:x,index:J2(a,x,p)};var A=Vp(i.cloneRange());if(!v){A.collapse(!1);var I=Q2(a,l+"_end",n);rb(a,A,I)}i=Vp(i),i.collapse(!0);var K=Q2(a,l+"_start",n);return rb(a,i,K),e.moveToBookmark({id:l,keep:!0}),{id:l}},t4=function(e,n,a){return n===2?om(uc,a,e):n===3?Z2(e):n?Up(e):xx(e,!1)},_x=se(om,xe,!0),n4=Ma.DOM,sb="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Wp=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var l=e.getParam(n,"","hash");return Rr(l,e.id).getOr(a)}else return i},r4=function(e){return e.getParam("iframe_attrs",{})},kx=function(e){return e.getParam("doctype","<!DOCTYPE html>")},ew=function(e){return e.getParam("document_base_url","")},a4=function(e){return Wp(e,"body_id","tinymce")},o4=function(e){return Wp(e,"body_class","")},lb=function(e){return e.getParam("content_security_policy","")},tw=function(e){return e.getParam("br_in_pre",!0)},$i=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},Vh=function(e){return e.getParam("forced_root_block_attrs",{})},Uh=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Ax=function(e){return e.getParam("no_newline_selector","")},i4=function(e){return e.getParam("keep_styles",!0)},jp=function(e){return e.getParam("end_container_on_empty_block",!1)},Gp=function(e){return yt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},im=function(e){return yt.explode(e.getParam("font_size_classes",""))},cb=function(e){return e.getParam("images_dataimg_filter",at,"function")},qp=function(e){return e.getParam("automatic_uploads",!0,"boolean")},nw=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},u4=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Qc=function(e){return e.getParam("icons","","string")},fb=function(e){return e.getParam("icons_url","","string")},s4=function(e){return e.getParam("images_upload_url","","string")},nd=function(e){return e.getParam("images_upload_base_path","","string")},rd=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},l4=function(e){return e.getParam("images_upload_handler",null,"function")},vb=function(e){return e.getParam("content_css_cors",!1,"boolean")},db=function(e){return e.getParam("referrer_policy","","string")},mb=function(e){return e.getParam("language","en","string")},li=function(e){return e.getParam("language_url","","string")},Ex=function(e){return e.getParam("indent_use_margin",!1)},rw=function(e){return e.getParam("indentation","40px","string")},Tx=function(e){var n=e.getParam("content_css");return Be(n)?Qe(n.split(","),Xs):$e(n)?n:n===!1||e.inline?[]:["default"]},Ox=function(e){var n=e.getParam("font_css",[]);return $e(n)?n:Qe(n.split(","),Xs)},mc=function(e){return e.getParam("directionality",wu.isRtl()?"rtl":void 0)},av=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Dx=function(e){var n=e.getParam("object_resizing");return n===!1||zn.iOS?!1:Be(n)?n:"table,img,figure.image,div,video,iframe"},Rx=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},aw=function(e){return e.getParam("placeholder",n4.getAttrib(e.getElement(),"placeholder"),"string")},hb=function(e){return e.getParam("event_root")},Bx=function(e){return e.getParam("service_message")},Wh=function(e){return e.getParam("theme")},c4=function(e){return e.getParam("validate")},Kp=function(e){return e.getParam("inline_boundaries")!==!1},f4=function(e){return e.getParam("formats")},jh=function(e){var n=e.getParam("preview_styles",sb);return Be(n)?n:""},um=function(e){return e.getParam("format_empty_lines",!1,"boolean")},ow=function(e){return e.getParam("custom_ui_selector","","string")},$x=function(e){return e.getParam("theme_url")},v4=function(e){return e.getParam("inline")},Mx=function(e){return e.getParam("hidden_input")},Px=function(e){return e.getParam("submit_patch")},iw=function(e){return e.getParam("encoding")==="xml"},d4=function(e){return e.getParam("add_form_submit_trigger")},gb=function(e){return e.getParam("add_unload_trigger")},m4=function(e){return $i(e)!==""},Xp=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},h4=function(e){return e.getParam("disable_nodechange")},g4=function(e){return e.getParam("readonly")},p4=function(e){return e.getParam("content_css_cors")},pb=function(e){return e.getParam("plugins","","string")},b4=function(e){return e.getParam("external_plugins")},Gh=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},Ix=function(e){return e.getParam("visual",!0,"boolean")},y4=function(e){return e.getParam("visual_table_class","mce-item-table","string")},uw=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},Nx=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},sw=qn,Fx=gn,Lx=function(e){var n=e.parentNode;n&&n.removeChild(e)},qh=function(e){var n=uc(e);return{count:e.length-n.length,text:n}},lw=function(e){for(var n;(n=e.data.lastIndexOf(Ve))!==-1;)e.deleteData(n,1)},cw=function(e,n){return ad(e),n},w4=function(e,n){var a=qh(e.data.substr(0,n.offset())),i=qh(e.data.substr(n.offset())),l=a.text+i.text;return l.length>0?(lw(e),dt(e,n.offset()-a.count)):n},C4=function(e,n){var a=n.container(),i=Te(ur(a.childNodes),e).map(function(l){return l<n.offset()?dt(a,n.offset()-1):n}).getOr(n);return ad(e),i},fw=function(e,n){return Fx(e)&&n.container()===e?w4(e,n):cw(e,n)},S4=function(e,n){return n.container()===e.parentNode?C4(e,n):cw(e,n)},zx=function(e,n){return dt.isTextPosition(n)?fw(e,n):S4(e,n)},ad=function(e){sw(e)&&Nu(e)&&(Kf(e)?e.removeAttribute("data-mce-caret"):Lx(e)),Fx(e)&&(lw(e),e.data.length===0&&Lx(e))},Kh=Rn().browser,Hx=La,x4=Mu,Vx=fh,_4="*[contentEditable=false],video,audio,embed,object",vw=function(e,n,a){var i=Z0(n.getBoundingClientRect(),a),l,v;if(e.tagName==="BODY"){var p=e.ownerDocument.documentElement;l=e.scrollLeft||p.scrollLeft,v=e.scrollTop||p.scrollTop}else{var x=e.getBoundingClientRect();l=e.scrollLeft-x.left,v=e.scrollTop-x.top}i.left+=l,i.right+=l,i.top+=v,i.bottom+=v,i.width=1;var A=n.offsetWidth-n.clientWidth;return A>0&&(a&&(A*=-1),i.left+=A,i.right+=A),i},Xh=function(e){for(var n=Bi(je.fromDom(e),_4),a=0;a<n.length;a++){var i=n[a].dom,l=i.previousSibling;if(_p(l)){var v=l.data;v.length===1?l.parentNode.removeChild(l):l.deleteData(v.length-1,1)}if(l=i.nextSibling,xp(l)){var v=l.data;v.length===1?l.parentNode.removeChild(l):l.deleteData(0,1)}}},au=function(e,n,a,i){var l=Qv(),v,p,x=$i(e),A=x.length>0?x:"p",I=function(me,he){var Oe;if(K(),Vx(he))return null;if(a(he)){p=XS(A,he,me);var _e=vw(n,he,me);lr(p).css("top",_e.top);var qe=lr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Un({},_e)).appendTo(n)[0];l.set({caret:qe,element:he,before:me}),me&&lr(qe).addClass("mce-visual-caret-before"),J(),Oe=he.ownerDocument.createRange(),Oe.setStart(p,0),Oe.setEnd(p,0)}else return p=i2(he,me),Oe=he.ownerDocument.createRange(),Yh(p.nextSibling)?(Oe.setStart(p,0),Oe.setEnd(p,0)):(Oe.setStart(p,1),Oe.setEnd(p,1)),Oe;return Oe},K=function(){Xh(n),p&&(ad(p),p=null),l.on(function(me){lr(me.caret).remove(),l.clear()}),v&&(ji.clearInterval(v),v=void 0)},J=function(){v=ji.setInterval(function(){i()?lr("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):lr("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},Q=function(){l.on(function(me){var he=vw(n,me.element,me.before);lr(me.caret).css(Un({},he))})},ce=function(){return ji.clearInterval(v)},ve=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:I,hide:K,getCss:ve,reposition:Q,destroy:ce}},dw=function(){return Kh.isIE()||Kh.isEdge()||Kh.isFirefox()},Yh=function(e){return Hx(e)||x4(e)},sm=function(e){return Yh(e)||Ao(e)&&dw()},bb=La,k4=Mu,Ux=mu("display","block table table-cell table-caption list-item"),mw=Nu,zu=wa,Yp=qn,A4=Uc,lm=function(e){return e>0},od=function(e){return e<0},Jh=function(e,n){for(var a;a=e(n);)if(!zu(a))return a;return null},id=function(e,n,a,i,l){var v=new ia(e,i),p=bb(e)||zu(e);if(od(n)){if(p&&(e=Jh(v.prev.bind(v),!0),a(e)))return e;for(;e=Jh(v.prev.bind(v),l);)if(a(e))return e}if(lm(n)){if(p&&(e=Jh(v.next.bind(v),!0),a(e)))return e;for(;e=Jh(v.next.bind(v),l);)if(a(e))return e}return null},hc=function(e,n){for(;e&&e!==n;){if(Ux(e))return e;e=e.parentNode}return null},gc=function(e,n,a){return hc(e.container(),a)===hc(n.container(),a)},yb=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return Yp(a)?a.childNodes[i+e]:null},wb=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},hw=function(e,n,a){return hc(n,e)===hc(a,e)},Zh=function(e,n,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==n;){var l=a[i];if(mw(l)&&(l=l[i]),bb(l)||k4(l)){if(hw(n,l,a))return l;break}if(A4(l))break;a=a.parentNode}return null},Qh=se(wb,!0),eg=se(wb,!1),Yi=function(e,n,a){var i,l=se(Zh,!0,n),v=se(Zh,!1,n),p=a.startContainer,x=a.startOffset;if(wa(p)){Yp(p)||(p=p.parentNode);var A=p.getAttribute("data-mce-caret");if(A==="before"&&(i=p.nextSibling,sm(i)))return Qh(i);if(A==="after"&&(i=p.previousSibling,sm(i)))return eg(i)}if(!a.collapsed)return a;if(gn(p)){if(mw(p)){if(e===1){if(i=v(p),i)return Qh(i);if(i=l(p),i)return eg(i)}if(e===-1){if(i=l(p),i)return eg(i);if(i=v(p),i)return Qh(i)}return a}if(_p(p)&&x>=p.data.length-1)return e===1&&(i=v(p),i)?Qh(i):a;if(xp(p)&&x<=1)return e===-1&&(i=l(p),i)?eg(i):a;if(x===p.data.length)return i=v(p),i?Qh(i):a;if(x===0)return i=l(p),i?eg(i):a}return a},tg=function(e,n){return te.from(yb(e?0:-1,n)).filter(bb)},ng=function(e,n,a){var i=Yi(e,n,a);return e===-1?dt.fromRangeStart(i):dt.fromRangeEnd(i)},Cb=function(e){return te.from(e.getNode()).map(je.fromDom)},E4=function(e){return te.from(e.getNode(!0)).map(je.fromDom)},gw=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},Sb=function(e,n){var a=gc(e,n);return!a&&ya(e.getNode())?!0:a},Mi;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Mi||(Mi={}));var T4=La,ef=gn,xb=qn,pw=ya,rg=Uc,bw=O3,Jp=Mo,O4=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},Wx=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},jx=function(e,n){if(lm(e)){if(rg(n.previousSibling)&&!ef(n.previousSibling))return dt.before(n);if(ef(n))return dt(n,0)}if(od(e)){if(rg(n.nextSibling)&&!ef(n.nextSibling))return dt.after(n);if(ef(n))return dt(n,n.data.length)}return od(e)?pw(n)?dt.before(n):dt.after(n):dt.before(n)},D4=function(e,n){var a=n.nextSibling;return a&&rg(a)?ef(a)?dt(a,0):dt.before(a):ag(Mi.Forwards,dt.after(n),e)},ag=function(e,n,a){var i,l,v,p;if(!xb(a)||!n)return null;if(n.isEqual(dt.after(a))&&a.lastChild){if(p=dt.after(a.lastChild),od(e)&&rg(a.lastChild)&&xb(a.lastChild))return pw(a.lastChild)?dt.before(a.lastChild):p}else p=n;var x=p.container(),A=p.offset();if(ef(x)){if(od(e)&&A>0)return dt(x,--A);if(lm(e)&&A<x.length)return dt(x,++A);i=x}else{if(od(e)&&A>0&&(l=Wx(x,A-1),rg(l)))return!bw(l)&&(v=id(l,e,Jp,l),v)?ef(v)?dt(v,v.data.length):dt.after(v):ef(l)?dt(l,l.data.length):dt.before(l);if(lm(e)&&A<x.childNodes.length&&(l=Wx(x,A),rg(l)))return pw(l)?D4(a,l):!bw(l)&&(v=id(l,e,Jp,l),v)?ef(v)?dt(v,0):dt.before(v):ef(l)?dt(l,0):dt.after(l);i=l||p.getNode()}if((lm(e)&&p.isAtEnd()||od(e)&&p.isAtStart())&&(i=id(i,e,at,a,!0),Jp(i,a)))return jx(e,i);l=id(i,e,Jp,a);var I=Ks(ot(O4(x,a),T4));return I&&(!l||!I.contains(l))?(lm(e)?p=dt.after(I):p=dt.before(I),p):l?jx(e,l):null},vo=function(e){return{next:function(n){return ag(Mi.Forwards,n,e)},prev:function(n){return ag(Mi.Backwards,n,e)}}},_b=function(e,n,a){var i=e?dt.before(a):dt.after(a);return Hu(e,n,i)},kb=function(e){return ya(e)?dt.before(e):dt.after(e)},yw=function(e){return dt.isTextPosition(e)?e.offset()===0:Uc(e.getNode())},Gx=function(e){if(dt.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return Uc(e.getNode(!0))},ww=function(e,n){return!dt.isTextPosition(e)&&!dt.isTextPosition(n)&&e.getNode()===n.getNode(!0)},cm=function(e){return!dt.isTextPosition(e)&&ya(e.getNode())},Ab=function(e,n,a){return e?!ww(n,a)&&!cm(n)&&Gx(n)&&yw(a):!ww(a,n)&&yw(n)&&Gx(a)},Hu=function(e,n,a){var i=vo(n);return te.from(e?i.next(a):i.prev(a))},pc=function(e,n,a){return Hu(e,n,a).bind(function(i){return gc(a,i,n)&&Ab(e,a,i)?Hu(e,n,i):te.some(i)})},Eb=function(e,n,a,i){return pc(e,n,a).bind(function(l){return i(l)?Eb(e,n,l,i):te.some(l)})},ov=function(e,n){var a=e?n.firstChild:n.lastChild;return gn(a)?te.some(dt(a,e?0:a.data.length)):a?Uc(a)?te.some(e?dt.before(a):kb(a)):_b(e,n,a):te.none()},Ml=se(Hu,!0),bc=se(Hu,!1),ou=se(ov,!0),ol=se(ov,!1),og="_mce_caret",tf=function(e){return qn(e)&&e.id===og},fm=function(e,n){for(;n&&n!==e;){if(n.id===og)return n;n=n.parentNode}return null},qx=function(e){return Be(e.start)},Kx=function(e){return kr(e,"rng")},R4=function(e){return kr(e,"id")},B4=function(e){return kr(e,"name")},Xx=function(e){return yt.isArray(e.start)},Yx=function(e,n){return qn(n)&&e.isBlock(n)&&!n.innerHTML&&!zn.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},Jx=function(e,n){var a,i=e.createRng();return a=Lh(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=Lh(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},$4=function(e,n){var a=e.ownerDocument.createTextNode(Ve);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},Zx=function(e){return e.hasChildNodes()===!1},M4=function(e,n){return ol(e).fold(rt,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},Qx=function(e,n,a){return Zx(n)&&fm(e,n)?($4(n,a),!0):!1},e_=function(e,n,a,i){var l=a[n?"start":"end"],v,p,x,A,I=e.getRoot();if(l){for(x=l[0],p=I,v=l.length-1;v>=1;v--){if(A=p.childNodes,Qx(I,p,i))return!0;if(l[v]>A.length-1)return Qx(I,p,i)?!0:M4(p,i);p=A[l[v]]}p.nodeType===3&&(x=Math.min(l[0],p.nodeValue.length)),p.nodeType===1&&(x=Math.min(l[0],p.childNodes.length)),n?i.setStart(p,x):i.setEnd(p,x)}return!0},Cw=function(e){return gn(e)&&e.data.length>0},t_=function(e,n,a){var i=e.get(a.id+"_"+n),l,v,p,x,A=a.keep,I,K;if(i){if(l=i.parentNode,n==="start"?(A?i.hasChildNodes()?(l=i.firstChild,v=1):Cw(i.nextSibling)?(l=i.nextSibling,v=0):Cw(i.previousSibling)?(l=i.previousSibling,v=i.previousSibling.data.length):(l=i.parentNode,v=e.nodeIndex(i)+1):v=e.nodeIndex(i),I=l,K=v):(A?i.hasChildNodes()?(l=i.firstChild,v=1):Cw(i.previousSibling)?(l=i.previousSibling,v=i.previousSibling.data.length):(l=i.parentNode,v=e.nodeIndex(i)):v=e.nodeIndex(i),I=l,K=v),!A){for(x=i.previousSibling,p=i.nextSibling,yt.each(yt.grep(i.childNodes),function(J){gn(J)&&(J.nodeValue=J.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);x&&p&&x.nodeType===p.nodeType&&gn(x)&&!zn.opera&&(v=x.nodeValue.length,x.appendData(p.nodeValue),e.remove(p),I=x,K=v)}return te.some(dt(I,K))}else return te.none()},P4=function(e,n){var a=e.createRng();return e_(e,!0,n,a)&&e_(e,!1,n,a)?te.some(a):te.none()},Tr=function(e,n){var a=t_(e,"start",n),i=t_(e,"end",n);return eu(a,i.or(a),function(l,v){var p=e.createRng();return p.setStart(Yx(e,l.container()),l.offset()),p.setEnd(Yx(e,v.container()),v.offset()),p})},vm=function(e,n){return te.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},ig=function(e,n){var a=e.dom;if(n){if(Xx(n))return P4(a,n);if(qx(n))return te.some(Jx(a,n));if(R4(n))return Tr(a,n);if(B4(n))return vm(a,n);if(Kx(n))return te.some(n.rng)}return te.none()},Sw=function(e,n,a){return t4(e,n,a)},I4=function(e,n){ig(e,n).each(function(a){e.setRng(a)})},Vu=function(e){return qn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},N4=function(e){return function(n){return e===n}},dm=N4(us),ud=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},Tb=function(e){return!ud(e)&&!dm(e)},Ob=function(e){return!!e.nodeType},F4=function(e){return e&&/^(IMG)$/.test(e.nodeName)},n_=function(e,n,a){var i=a.startOffset,l=a.startContainer;if(!(l===a.endContainer&&F4(l.childNodes[i]))&&qn(l)){var v=l.childNodes,p=void 0;i<v.length?(l=v[i],p=new ia(l,e.getParent(l,e.isBlock))):(l=v[v.length-1],p=new ia(l,e.getParent(l,e.isBlock)),p.next(!0));for(var x=p.current();x;x=p.next())if(gn(x)&&!Rb(x)){a.setStart(x,0),n.setRng(a);return}}},Db=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(qn(e)||!Rb(e))return e}},xw=function(e,n){return Ob(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},ug=function(e,n,a){return e.schema.isValidChild(n,a)},Rb=function(e,n){if(n===void 0&&(n=!1),Xe(e)&&gn(e)){var a=n?e.data.replace(/ /g,""):e.data;return Tl(a)}else return!1},L4=function(e){return Xe(e)&&gn(e)&&e.length===0},nf=function(e,n){return le(e)?e=e(n):Xe(n)&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},_w=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},kw=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},sg=function(e,n,a){return kw(e,e.getStyle(n,a),a)},Aw=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},Zp=function(e,n,a){return e.getParents(n,a,e.getRoot())},r_=function(e,n){var a=function(i){var l=function(v){return v.length>1&&v.charAt(0)==="%"};return Ye(["styles","attributes"],function(v){return Rr(i,v).exists(function(p){var x=$e(p)?p:Zu(p);return Ye(x,l)})})};return Ye(e.formatter.get(n),a)},z4=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],l=function(v){return uo(v,function(p,x){return Ye(i,function(A){return A===x})})};return Ye(e.formatter.get(n),function(v){var p=l(v);return Ye(e.formatter.get(a),function(x){var A=l(x);return Jm(p,A)})})},rf=function(e){return Gs(e,"block")},vs=function(e){return Gs(e,"selector")},Pi=function(e){return Gs(e,"inline")},H4=function(e){return vs(e)&&Pi(e)&&Id(Rr(e,"mixed"),!0)},Ew=function(e){return vs(e)&&e.expand!==!1&&!Pi(e)},lg=Vu,Tw=Zp,Qp=Rb,Ow=xw,V4=function(e){return ya(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},rn=function(e,n){for(var a=n;a;){if(qn(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},Xo=function(e,n,a,i){for(var l=n.data,v=a;e?v>=0:v<l.length;e?v--:v++)if(i(l.charAt(v)))return e?v+1:v;return-1},cg=function(e,n,a){return Xo(e,n,a,function(i){return dm(i)||ud(i)})},ci=function(e,n,a){return Xo(e,n,a,Tb)},il=function(e,n,a,i,l,v){var p,x=e.getParent(a,e.isBlock)||n,A=function(K,J,Q){var ce=V2(e),ve=l?ce.backwards:ce.forwards;return te.from(ve(K,J,function(me,he){return lg(me.parentNode)?-1:(p=me,Q(l,me,he))},x))},I=A(a,i,cg);return I.bind(function(K){return v?A(K.container,K.offset+(l?-1:0),ci):te.some(K)}).orThunk(function(){return p?te.some({container:p,offset:l?0:p.length}):te.none()})},Dw=function(e,n,a,i,l){gn(i)&&Bd(i.data)&&i[l]&&(i=i[l]);for(var v=Tw(e,i),p=0;p<v.length;p++)for(var x=0;x<n.length;x++){var A=n[x];if(!(Xe(A.collapsed)&&A.collapsed!==a.collapsed)&&vs(A)&&e.is(v[p],A.selector))return v[p]}return i},e1=function(e,n,a,i){var l=a,v=e.dom,p=v.getRoot(),x=n[0];if(rf(x)&&(l=x.wrapper?null:v.getParent(a,x.block,p)),!l){var A=v.getParent(a,"LI,TD,TH");l=v.getParent(gn(a)?a.parentNode:a,function(I){return I!==p&&Ow(e,I)},A)}if(l&&rf(x)&&x.wrapper&&(l=Tw(v,l,"ul,ol").reverse()[0]||l),!l)for(l=a;l[i]&&!v.isBlock(l[i])&&(l=l[i],!_w(l,"br")););return l||a},Bb=function(e,n,a,i){var l=a.parentNode;return Xe(a[i])?!1:l===n||ke(l)||e.isBlock(l)?!0:Bb(e,n,l,i)},$b=function(e,n,a,i,l){var v=a,p=l?"previousSibling":"nextSibling",x=e.getRoot();if(gn(a)&&!Qp(a)&&(l?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(v))return v;for(var A=v[p];A;A=A[p]){var I=gn(A)&&!Bb(e,x,A,p);if(!lg(A)&&!V4(A)&&!Qp(A,I))return v}if(v===x||v.parentNode===x){a=v;break}v=v.parentNode}return a},Mb=function(e){return lg(e.parentNode)||lg(e)},sd=function(e,n,a,i){i===void 0&&(i=!1);var l=n.startContainer,v=n.startOffset,p=n.endContainer,x=n.endOffset,A=e.dom,I=a[0];if(qn(l)&&l.hasChildNodes()&&(l=Wa(l,v),gn(l)&&(v=0)),qn(p)&&p.hasChildNodes()&&(p=Wa(p,n.collapsed?x:x-1),gn(p)&&(x=p.nodeValue.length)),l=rn(A,l),p=rn(A,p),Mb(l)&&(l=lg(l)?l:l.parentNode,n.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,gn(l)&&(v=n.collapsed?l.length:0)),Mb(p)&&(p=lg(p)?p:p.parentNode,n.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,gn(p)&&(x=n.collapsed?0:p.length)),n.collapsed){var K=il(A,e.getBody(),l,v,!0,i);K.each(function(Q){var ce=Q.container,ve=Q.offset;l=ce,v=ve});var J=il(A,e.getBody(),p,x,!1,i);J.each(function(Q){var ce=Q.container,ve=Q.offset;p=ce,x=ve})}return(Pi(I)||I.block_expand)&&((!Pi(I)||!gn(l)||v===0)&&(l=$b(A,a,l,v,!0)),(!Pi(I)||!gn(p)||x===p.nodeValue.length)&&(p=$b(A,a,p,x,!1))),Ew(I)&&(l=Dw(A,a,n,l,"previousSibling"),p=Dw(A,a,n,p,"nextSibling")),(rf(I)||vs(I))&&(l=e1(e,a,l,"previousSibling"),p=e1(e,a,p,"nextSibling"),rf(I)&&(A.isBlock(l)||(l=$b(A,a,l,v,!0)),A.isBlock(p)||(p=$b(A,a,p,x,!1)))),qn(l)&&(v=A.nodeIndex(l),l=l.parentNode),qn(p)&&(x=A.nodeIndex(p)+1,p=p.parentNode),{startContainer:l,startOffset:v,endContainer:p,endOffset:x}},t1=function(e,n,a){var i=n.startOffset,l=Wa(n.startContainer,i),v=n.endOffset,p=Wa(n.endContainer,v-1),x=function(me){var he=me[0];gn(he)&&he===l&&i>=he.data.length&&me.splice(0,1);var Oe=me[me.length-1];return v===0&&me.length>0&&Oe===p&&gn(Oe)&&me.splice(me.length-1,1),me},A=function(me,he,Oe){for(var _e=[];me&&me!==Oe;me=me[he])_e.push(me);return _e},I=function(me,he){return e.getParent(me,function(Oe){return Oe.parentNode===he},he)},K=function(me,he,Oe){for(var _e=Oe?"nextSibling":"previousSibling",qe=me,We=qe.parentNode;qe&&qe!==he;qe=We){We=qe.parentNode;var Re=A(qe===me?qe:qe[_e],_e);Re.length&&(Oe||Re.reverse(),a(x(Re)))}};if(l===p)return a(x([l]));var J=e.findCommonAncestor(l,p);if(e.isChildOf(l,p))return K(l,J,!0);if(e.isChildOf(p,l))return K(p,J);var Q=I(l,J)||l,ce=I(p,J)||p;K(l,Q,!0);var ve=A(Q===l?Q:Q.nextSibling,"nextSibling",ce===p?ce.nextSibling:ce);ve.length&&a(x(ve)),K(p,ce)},Rw=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},Bw=function(e){return ir(e,function(n){var a=nm(n);return a?[je.fromDom(a)]:[]})},$w=function(e){return Rw(e).length>1},U4=function(e){return ot(Bw(e),ic)},a_=function(e){return Bi(e,"td[data-mce-selected],th[data-mce-selected]")},iv=function(e,n){var a=a_(n);return a.length>0?a:U4(e)},af=function(e){return iv(Rw(e.selection.getSel()),je.fromDom(e.getBody()))},mm=function(e,n){return Nd(e,"table",n)},fg=function(e){var n=e.startContainer,a=e.startOffset;return gn(n)?a===0?te.some(je.fromDom(n)):te.none():te.from(n.childNodes[a]).map(je.fromDom)},Mw=function(e){var n=e.endContainer,a=e.endOffset;return gn(n)?a===n.data.length?te.some(je.fromDom(n)):te.none():te.from(n.childNodes[a-1]).map(je.fromDom)},Pb=function(e){return $o(e).fold(U([e]),function(n){return[e].concat(Pb(n))})},of=function(e){return as(e).fold(U([e]),function(n){return _o(n)==="br"?If(n).map(function(a){return[e].concat(of(a))}).getOr([]):[e].concat(of(n))})},Pl=function(e,n){return eu(fg(n),Mw(n),function(a,i){var l=nn(Pb(e),se(Ba,a)),v=nn(of(e),se(Ba,i));return l.isSome()&&v.isSome()}).getOr(!1)},ld=function(e,n,a,i){var l=a,v=new ia(a,l),p=uo(e.schema.getMoveCaretBeforeOnEnterElements(),function(x,A){return!Ae(["td","th","table"],A.toLowerCase())});do{if(gn(a)&&yt.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(p[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?v.next():v.prev());l.nodeName==="BODY"&&(i?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},cd=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},hm=function(e,n){var a=af(e);a.length>0?He(a,function(i){var l=i.dom,v=e.dom.createRng();v.setStartBefore(l),v.setEndAfter(l),n(v,!0)}):n(e.selection.getRng(),!1)},vg=function(e,n,a){var i=xx(e,n);a(i),e.moveToBookmark(i)},Pw=function(e,n){var a=function(v){if(!e(v))throw new Error("Can only get "+n+" value of a "+n+" node");return i(v).getOr("")},i=function(v){return e(v)?te.from(v.dom.nodeValue):te.none()},l=function(v,p){if(!e(v))throw new Error("Can only set raw "+n+" value of a "+n+" node");v.dom.nodeValue=p};return{get:a,getOption:i,set:l}},Iw=Pw(Ga,"text"),Nw=function(e){return Iw.get(e)},Ib=function(e){return Ga(e)&&Nw(e)===Ve},Ii=function(e,n,a,i){return eo(n).fold(function(){return"skipping"},function(l){return i==="br"||Ib(n)?"valid":nv(n)?"existing":tf(n.dom)?"caret":!ug(e,a,i)||!ug(e,_o(l),a)?"invalid-child":"valid"})},Ls=function(e,n){var a=sd(e,n,[{inline:"span"}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},ul=function(e,n,a,i){var l=n.uid,v=l===void 0?px("mce-annotation"):l,p=Zm(n,["uid"]),x=je.fromTag("span",e);em(x,fs()),M(x,""+qo(),v),M(x,""+Pp(),a);var A=i(v,p),I=A.attributes,K=I===void 0?{}:I,J=A.classes,Q=J===void 0?[]:J;return Y(x,K),q3(x,Q),x},uf=function(e,n,a,i,l){var v=[],p=ul(e.getDoc(),l,a,i),x=Qv(),A=function(){x.clear()},I=function(){return x.get().getOrThunk(function(){var ce=Io(p);return v.push(ce),x.set(ce),ce})},K=function(ce){He(ce,J)},J=function(ce){var ve=Ii(e,ce,"span",_o(ce));switch(ve){case"invalid-child":{A();var me=Qi(ce);K(me),A();break}case"valid":{var he=I();Pd(ce,he);break}}},Q=function(ce){var ve=Qe(ce,je.fromDom);K(ve)};return t1(e.dom,n,function(ce){A(),Q(ce)}),v},dg=function(e,n,a,i){e.undoManager.transact(function(){var l=e.selection,v=l.getRng(),p=af(e).length>0;if(v.collapsed&&!p&&Ls(e,v),l.getRng().collapsed&&!p){var x=ul(e.getDoc(),i,n,a.decorate);Su(x,us),l.getRng().insertNode(x.dom),l.select(x.dom)}else vg(l,!1,function(){hm(e,function(A){uf(e,A,n,a.decorate,i)})})})},Nb=function(e){var n=Ip();H2(e,n);var a=gx(e);return{register:function(i,l){n.register(i,l)},annotate:function(i,l){n.lookup(i).each(function(v){dg(e,i,v,l)})},annotationChanged:function(i,l){a.addListener(i,l)},remove:function(i){K0(e,te.some(i)).each(function(l){var v=l.elements;He(v,zf)})},getAll:function(i){var l=z2(e,i);return Si(l,function(v){return Qe(v,function(p){return p.dom})})}}},fd=function(e){return{getBookmark:se(Sw,e),moveToBookmark:se(I4,e)}};fd.isBookmarkNode=Vu;var gm=function(e,n){for(;n&&n!==e;){if(_l(n)||La(n))return n;n=n.parentNode}return null},pm=function(e,n,a){if(a.collapsed)return!1;if(zn.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(qn(i))return Ye(i.getClientRects(),function(l){return bx(l,e,n)})}return Ye(a.getClientRects(),function(l){return bx(l,e,n)})},W4=function(e,n){return e.fire("PreProcess",n)},Fw=function(e,n){return e.fire("PostProcess",n)},o_=function(e){return e.fire("remove")},i_=function(e){return e.fire("detach")},Lw=function(e,n){return e.fire("SwitchMode",{mode:n})},zw=function(e,n,a,i,l){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:l})},ga=function(e,n,a,i,l){e.fire("ObjectResized",{target:n,width:a,height:i,origin:l})},sf=function(e){return e.fire("PreInit")},u_=function(e){return e.fire("PostRender")},s_=function(e){return e.fire("Init")},l_=function(e,n){return e.fire("PlaceholderToggle",{state:n})},Fb=function(e,n,a){return e.fire(n,a)},Hw=function(e,n,a,i){return e.fire("FormatApply",{format:n,node:a,vars:i})},n1=function(e,n,a,i){return e.fire("FormatRemove",{format:n,node:a,vars:i})},Vn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Vn.metaKeyPressed(e)},metaKeyPressed:function(e){return zn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},j4=La,Vw=function(e,n){var a="data-mce-selected",i=n.dom,l=yt.each,v,p,x,A,I,K,J,Q,ce,ve,me,he,Oe,_e,qe,We=n.getDoc(),Re=document,Je=Math.abs,St=Math.round,Nt=n.getBody(),Hn,mn,Rt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Ln=function(et){return et&&(et.nodeName==="IMG"||n.dom.is(et,"figure.image"))},Vt=function(et){return Mu(et)||i.hasClass(et,"mce-preview-object")},fn=function(et,Ht){if(et.type==="longpress"||et.type.indexOf("touch")===0){var Pt=et.touches[0];return Ln(et.target)&&!pm(Pt.clientX,Pt.clientY,Ht)}else return Ln(et.target)&&!pm(et.clientX,et.clientY,Ht)},jt=function(et){var Ht=et.target;fn(et,n.selection.getRng())&&!et.isDefaultPrevented()&&n.selection.select(Ht)},Zt=function(et){return i.is(et,"figure.image")?[et.querySelector("img")]:i.hasClass(et,"mce-preview-object")&&Xe(et.firstElementChild)?[et,et.firstElementChild]:[et]},yn=function(et){var Ht=Dx(n);return!Ht||et.getAttribute("data-mce-resize")==="false"||et===n.getBody()?!1:i.hasClass(et,"mce-preview-object")?Zl(je.fromDom(et.firstElementChild),Ht):Zl(je.fromDom(et),Ht)},$t=function(et){return Vt(et)?i.create("img",{src:zn.transparentSrc}):et.cloneNode(!0)},hn=function(et,Ht,Pt){if(Xe(Pt)){var $n=Zt(et);He($n,function(Nn){Nn.style[Ht]||!n.schema.isValid(Nn.nodeName.toLowerCase(),Ht)?i.setStyle(Nn,Ht,Pt):i.setAttrib(Nn,Ht,""+Pt)})}},xr=function(et,Ht,Pt){hn(et,"width",Ht),hn(et,"height",Pt)},ta=function(et){var Ht,Pt,$n,Nn,ka;Ht=et.screenX-K,Pt=et.screenY-J,_e=Ht*A[2]+ve,qe=Pt*A[3]+me,_e=_e<5?5:_e,qe=qe<5?5:qe,(Ln(v)||Vt(v))&&Rx(n)!==!1?$n=!Vn.modifierPressed(et):$n=Vn.modifierPressed(et),$n&&(Je(Ht)>Je(Pt)?(qe=St(_e*he),_e=St(qe/he)):(_e=St(qe/he),qe=St(_e*he))),xr(p,_e,qe),Nn=A.startPos.x+Ht,ka=A.startPos.y+Pt,Nn=Nn>0?Nn:0,ka=ka>0?ka:0,i.setStyles(x,{left:Nn,top:ka,display:"block"}),x.innerHTML=_e+" &times; "+qe,A[2]<0&&p.clientWidth<=_e&&i.setStyle(p,"left",Q+(ve-_e)),A[3]<0&&p.clientHeight<=qe&&i.setStyle(p,"top",ce+(me-qe)),Ht=Nt.scrollWidth-Hn,Pt=Nt.scrollHeight-mn,Ht+Pt!==0&&i.setStyles(x,{left:Nn-Ht,top:ka-Pt}),Oe||(zw(n,v,ve,me,"corner-"+A.name),Oe=!0)},Yr=function(){var et=Oe;Oe=!1,et&&(hn(v,"width",_e),hn(v,"height",qe)),i.unbind(We,"mousemove",ta),i.unbind(We,"mouseup",Yr),Re!==We&&(i.unbind(Re,"mousemove",ta),i.unbind(Re,"mouseup",Yr)),i.remove(p),i.remove(x),i.remove(I),Fi(v),et&&(ga(n,v,_e,qe,"corner-"+A.name),i.setAttrib(v,"style",i.getAttrib(v,"style"))),n.nodeChanged()},Fi=function(et){Mt();var Ht=i.getPos(et,Nt),Pt=Ht.x,$n=Ht.y,Nn=et.getBoundingClientRect(),ka=Nn.width||Nn.right-Nn.left,ni=Nn.height||Nn.bottom-Nn.top;v!==et&&(ao(),v=et,_e=qe=0);var Yo=n.fire("ObjectSelected",{target:et}),Mm=i.getAttrib(v,a,"1");yn(et)&&!Yo.isDefaultPrevented()?l(Rt,function(Gu,Eu){var hi,Vl=function(qu){var Sf=Zt(v)[0];K=qu.screenX,J=qu.screenY,ve=Sf.clientWidth,me=Sf.clientHeight,he=me/ve,A=Gu,A.name=Eu,A.startPos={x:ka*Gu[0]+Pt,y:ni*Gu[1]+$n},Hn=Nt.scrollWidth,mn=Nt.scrollHeight,I=i.add(Nt,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(I,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),p=$t(v),i.addClass(p,"mce-clonedresizable"),i.setAttrib(p,"data-mce-bogus","all"),p.contentEditable="false",i.setStyles(p,{left:Pt,top:$n,margin:0}),xr(p,ka,ni),p.removeAttribute(a),Nt.appendChild(p),i.bind(We,"mousemove",ta),i.bind(We,"mouseup",Yr),Re!==We&&(i.bind(Re,"mousemove",ta),i.bind(Re,"mouseup",Yr)),x=i.add(Nt,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ve+" &times; "+me)};hi=i.get("mceResizeHandle"+Eu),hi&&i.remove(hi),hi=i.add(Nt,"div",{id:"mceResizeHandle"+Eu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Eu+"-resize; margin:0; padding:0"}),zn.ie===11&&(hi.contentEditable=!1),i.bind(hi,"mousedown",function(qu){qu.stopImmediatePropagation(),qu.preventDefault(),Vl(qu)}),Gu.elm=hi,i.setStyles(hi,{left:ka*Gu[0]+Pt-hi.offsetWidth/2,top:ni*Gu[1]+$n-hi.offsetHeight/2})}):ao(),i.getAttrib(v,a)||v.setAttribute(a,Mm)},ao=function(){Mt(),v&&v.removeAttribute(a),Nr(Rt,function(et,Ht){var Pt=i.get("mceResizeHandle"+Ht);Pt&&(i.unbind(Pt),i.remove(Pt))})},ju=function(et){var Ht,Pt,$n=function(Nn,ka){if(Nn)do if(Nn===ka)return!0;while(Nn=Nn.parentNode)};if(!(Oe||n.removed)){if(l(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(Nn){Nn.removeAttribute(a)}),Pt=et.type==="mousedown"?et.target:e.getNode(),Pt=i.$(Pt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],$n(Pt,Nt)&&(qt(),Ht=e.getStart(!0),$n(Ht,Pt)&&$n(e.getEnd(!0),Pt))){Fi(Pt);return}ao()}},ps=function(et){return j4(gm(n.getBody(),et))},Mt=function(){Nr(Rt,function(et){et.elm&&(i.unbind(et.elm),delete et.elm)})},qt=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};n.on("init",function(){if(qt(),zn.browser.isIE()||zn.browser.isEdge()){n.on("mousedown click",function(Pt){var $n=Pt.target,Nn=$n.nodeName;!Oe&&/^(TABLE|IMG|HR)$/.test(Nn)&&!ps($n)&&(Pt.button!==2&&n.selection.select($n,Nn==="TABLE"),Pt.type==="mousedown"&&n.nodeChanged())});var et=function(Pt){var $n=function(Nn){ji.setEditorTimeout(n,function(){return n.selection.select(Nn)})};if(ps(Pt.target)||Mu(Pt.target)){Pt.preventDefault(),$n(Pt.target);return}/^(TABLE|IMG|HR)$/.test(Pt.target.nodeName)&&(Pt.preventDefault(),Pt.target.tagName==="IMG"&&$n(Pt.target))};i.bind(Nt,"mscontrolselect",et),n.on("remove",function(){return i.unbind(Nt,"mscontrolselect",et)})}var Ht=ji.throttle(function(Pt){n.composing||ju(Pt)});n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Ht),n.on("keyup compositionend",function(Pt){v&&v.nodeName==="TABLE"&&Ht(Pt)}),n.on("hide blur",ao),n.on("contextmenu longpress",jt,!0)}),n.on("remove",Mt);var Dn=function(){v=p=I=null};return{isResizable:yn,showResizeRect:Fi,hideResizeRect:ao,updateResizeRect:ju,destroy:Dn}},c_=function(e){return _l(e)||La(e)},Uw=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},G4=function(e,n,a){var i,l=a.elementFromPoint(e,n),v=a.body.createTextRange();if((!l||l.tagName==="HTML")&&(l=a.body),v.moveToElementText(l),i=yt.toArray(v.getClientRects()),i=i.sort(function(p,x){return p=Math.abs(Math.max(p.top-n,p.bottom-n)),x=Math.abs(Math.max(x.top-n,x.bottom-n)),p-x}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return v.moveToPoint(e,n),v.collapse(!0),v}catch{}}return null},f_=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return La(Uw(a,n,c_))?null:e},Ww=function(e,n,a){var i,l,v=a;if(v.caretPositionFromPoint)l=v.caretPositionFromPoint(e,n),l&&(i=a.createRange(),i.setStart(l.offsetNode,l.offset),i.collapse(!0));else if(v.caretRangeFromPoint)i=v.caretRangeFromPoint(e,n);else if(v.body.createTextRange){i=v.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch{i=G4(e,n,a)}return f_(i,a.body)}return i},jw=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},q4=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},zs=function(e,n,a){return q4(e,n,a)!==null},_u=function(e,n,a){return zs(e,n,function(i){return i.nodeName===a})},lf=function(e){return e&&e.nodeName==="TABLE"},K4=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},X4=function(e,n){return Nu(e)&&zs(e,n,tf)===!1},Gw=function(e,n,a){for(var i=new ia(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(ya(n))return!0},Cr=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},Y4=function(e,n){for(;n&&n!==e;){if(La(n))return!0;n=n.parentNode}return!1},Lb=function(e,n,a,i,l){var v,p=e.getRoot(),x,A=e.schema.getNonEmptyElements(),I=e.getParent(l.parentNode,e.isBlock)||p;if(i&&ya(l)&&n&&e.isEmpty(I))return te.some(dt(l.parentNode,e.nodeIndex(l)));for(var K=new ia(l,I);x=K[i?"prev":"next"]();){if(e.getContentEditableParent(x)==="false"||X4(x,p))return te.none();if(gn(x)&&x.nodeValue.length>0)return _u(x,p,"A")===!1?te.some(dt(x,i?x.nodeValue.length:0)):te.none();if(e.isBlock(x)||A[x.nodeName.toLowerCase()])return te.none();v=x}return a&&v?te.some(dt(v,0)):te.none()},zb=function(e,n,a,i){var l,v,p=e.getRoot(),x,A,I=!1;l=i[(a?"start":"end")+"Container"],v=i[(a?"start":"end")+"Offset"];var K=qn(l)&&v===l.childNodes.length,J=e.schema.getNonEmptyElements();if(A=a,Nu(l))return te.none();if(qn(l)&&v>l.childNodes.length-1&&(A=!1),hp(l)&&(l=p,v=0),l===p){if(A&&(x=l.childNodes[v>0?v-1:0],x&&(Nu(x)||J[x.nodeName]||lf(x))))return te.none();if(l.hasChildNodes()){if(v=Math.min(!A&&v>0?v-1:v,l.childNodes.length-1),l=l.childNodes[v],v=gn(l)&&K?l.data.length:0,!n&&l===p.lastChild&&lf(l)||Y4(p,l)||Nu(l))return te.none();if(l.hasChildNodes()&&lf(l)===!1){x=l;var Q=new ia(l,p);do{if(La(x)||Nu(x)){I=!1;break}if(gn(x)&&x.nodeValue.length>0){v=A?0:x.nodeValue.length,l=x,I=!0;break}if(J[x.nodeName.toLowerCase()]&&!K4(x)){v=e.nodeIndex(x),l=x.parentNode,A||v++,I=!0;break}}while(x=A?Q.next():Q.prev())}}}return n&&(gn(l)&&v===0&&Lb(e,K,n,!0,l).each(function(ce){l=ce.container(),v=ce.offset(),I=!0}),qn(l)&&(x=l.childNodes[v],x||(x=l.childNodes[v-1]),x&&ya(x)&&!Cr(x,"A")&&!Gw(e,x,!1)&&!Gw(e,x,!0)&&Lb(e,K,n,!0,x).each(function(ce){l=ce.container(),v=ce.offset(),I=!0}))),A&&!n&&gn(l)&&v===l.nodeValue.length&&Lb(e,K,n,!1,l).each(function(ce){l=ce.container(),v=ce.offset(),I=!0}),I?te.some(dt(l,v)):te.none()},Hb=function(e,n){var a=n.collapsed,i=n.cloneRange(),l=dt.fromRangeStart(n);return zb(e,a,!0,i).each(function(v){(!a||!dt.isAbove(l,v))&&i.setStart(v.container(),v.offset())}),a||zb(e,a,!1,i).each(function(v){i.setEnd(v.container(),v.offset())}),a&&i.collapse(!0),jw(n,i)?te.none():te.some(i)},r1=function(e,n){return e.splitText(n)},uv=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,l=e.endOffset;return n===i&&gn(n)?a>0&&a<n.nodeValue.length&&(i=r1(n,a),n=i.previousSibling,l>a?(l=l-a,n=i=r1(i,l).previousSibling,l=i.nodeValue.length,a=0):l=0):(gn(n)&&a>0&&a<n.nodeValue.length&&(n=r1(n,a),a=0),gn(i)&&l>0&&l<i.nodeValue.length&&(i=r1(i,l).previousSibling,l=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:l}},a1=function(e){var n=function(l,v){return t1(e,l,v)},a=uv,i=function(l){return Hb(e,l).fold(rt,function(v){return l.setStart(v.startContainer,v.startOffset),l.setEnd(v.endContainer,v.endOffset),!0})};return{walk:n,split:a,normalize:i}};a1.compareRanges=jw,a1.getCaretRangeFromPoint=Ww,a1.getSelectedNode=nm,a1.getNode=Wa;var J4=function(e,n){var a=function(x,A){if(!pe(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);var I=x.dom;Ua(I)&&(I.style[e]=A+"px")},i=function(x){var A=n(x);if(A<=0||A===null){var I=dr(x,e);return parseFloat(I)||0}return A},l=i,v=function(x,A){return Ot(A,function(I,K){var J=dr(x,K),Q=J===void 0?0:parseInt(J,10);return isNaN(Q)?I:I+Q},0)},p=function(x,A,I){var K=v(x,I),J=A>K?A-K:0;return J};return{set:a,get:i,getOuter:l,aggregate:v,max:p}},v_=J4("height",function(e){var n=e.dom;return Hf(e)?n.getBoundingClientRect().height:n.offsetHeight}),qw=function(e){return v_.get(e)},vd=function(e,n){var a=e.view(n);return a.fold(U([]),function(i){var l=e.owner(i),v=vd(e,l);return[i].concat(v)})},Vb=function(e,n){var a=n.owner(e);return vd(n,a)},d_=function(e){var n,a=e.dom===document?te.none():te.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(je.fromDom)},Z4=function(e){return Wn(e)},Q4=Object.freeze({__proto__:null,view:d_,owner:Z4}),eE=function(e){var n=je.fromDom(document),a=sh(n),i=Vb(e,Q4),l=$u(e),v=Wt(i,function(p,x){var A=$u(x);return{left:p.left+A.left,top:p.top+A.top}},{left:0,top:0});return nc(v.left+l.left+a.left,v.top+l.top+a.top)},bm=function(e){return _o(e)==="textarea"},Kw=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},Mn=function(e,n){e.fire("AfterScrollIntoView",n)},m_=function(e,n){var a=Qi(e);if(a.length===0||bm(e))return{element:e,offset:n};if(n<a.length&&!bm(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return bm(i)?{element:e,offset:n}:_o(i)==="img"?{element:i,offset:1}:Ga(i)?{element:i,offset:Nw(i).length}:{element:i,offset:Qi(i).length}},h_=function(e,n){var a=Va(e),i=qw(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},tE=function(e,n){var a=m_(e,n),i=je.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ve+"</span>");return ki(a.element,i),h_(i,function(){return co(i)})},o1=function(e){return h_(je.fromDom(e),ye)},iu=function(e,n,a,i){Xw(e,function(l,v){return nE(e,n,a,i)},a)},i1=function(e,n,a,i,l){var v={elm:i.element.dom,alignToTop:l};if(!Kw(e,v)){var p=sh(n).top;a(n,p,i,l),Mn(e,v)}},nE=function(e,n,a,i){var l=je.fromDom(e.getBody()),v=je.fromDom(e.getDoc());g3(l);var p=tE(je.fromDom(a.startContainer),a.startOffset);i1(e,v,n,p,i),p.cleanup()},g_=function(e,n,a,i){var l=je.fromDom(e.getDoc());i1(e,l,a,o1(n),i)},Xw=function(e,n,a){var i=a.startContainer,l=a.startOffset,v=a.endContainer,p=a.endOffset;n(je.fromDom(i),je.fromDom(v));var x=e.dom.createRng();x.setStart(i,l),x.setEnd(v,p),e.selection.setRng(a)},Yw=function(e,n,a,i){var l=e.pos;if(a)os(l.left,l.top,i);else{var v=l.top-n+e.height;os(l.left,v,i)}},p_=function(e,n,a,i,l){var v=a+n,p=i.pos.top,x=i.bottom,A=x-p>=a;if(p<n)Yw(i,a,l!==!1,e);else if(p>v){var I=A?l!==!1:l===!0;Yw(i,a,I,e)}else x>v&&!A&&Yw(i,a,l===!0,e)},Jw=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;p_(e,n,l,a,i)},Zw=function(e,n,a,i){var l=e.dom.defaultView.innerHeight;p_(e,n,l,a,i);var v=eE(a.element),p=Uf(window);v.top<p.y?lh(a.element,i!==!1):v.top>p.bottom&&lh(a.element,i===!0)},sv=function(e,n,a){return iu(e,Jw,n,a)},rE=function(e,n,a){return g_(e,n,Jw,a)},aE=function(e,n,a){return iu(e,Zw,n,a)},b_=function(e,n,a){return g_(e,n,Zw,a)},oE=function(e,n,a){var i=e.inline?rE:b_;i(e,n,a)},u1=function(e,n,a){var i=e.inline?sv:aE;i(e,n,a)},ea=function(){return je.fromDom(document)},Ub=function(e){return e.dom.focus()},lv=function(e){var n=vu(e).dom;return e.dom===n.activeElement},Il=function(e){return e===void 0&&(e=ea()),te.from(e.dom.activeElement).map(je.fromDom)},dd=function(e){return Il(vu(e)).filter(function(n){return e.dom.contains(n.dom)})},Uu=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},Wb={create:Uu},ym=Bn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),mg=function(e,n,a,i){return e.fold(n,a,i)},md=function(e){return e.fold(xe,xe,xe)},iE=ym.before,y_=ym.on,uE=ym.after,sE={before:iE,on:y_,after:uE,cata:mg,getStart:md},pr=Bn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Nl=function(e){return pr.exact(e.start,e.soffset,e.finish,e.foffset)},hg=function(e){return e.match({domRange:function(n){return je.fromDom(n.startContainer)},relative:function(n,a){return sE.getStart(n)},exact:function(n,a,i,l){return n}})},w_=pr.domRange,s1=pr.relative,Or=pr.exact,C_=function(e){var n=hg(e);return Qa(n)},S_=Wb.create,l1={domRange:w_,relative:s1,exact:Or,exactFromRange:Nl,getWin:C_,range:S_},x_=Rn().browser,c1=function(e,n){var a=Ga(n)?Nw(n).length:Qi(n).length+1;return e>a?a:e<0?0:e},wm=function(e){return l1.range(e.start,c1(e.soffset,e.start),e.finish,c1(e.foffset,e.finish))},Qw=function(e,n){return!Fc(n.dom)&&(Hi(e,n)||Ba(e,n))},eC=function(e){return function(n){return Qw(e,n.start)&&Qw(e,n.finish)}},__=function(e){return e.inline===!0||x_.isIE()},k_=function(e){return l1.range(je.fromDom(e.startContainer),e.startOffset,je.fromDom(e.endContainer),e.endOffset)},hd=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?te.none():te.from(n.getRangeAt(0));return a.map(k_)},Cm=function(e){var n=Qa(e);return hd(n.dom).filter(eC(e))},tC=function(e,n){return te.from(n).filter(eC(e)).map(wm)},A_=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),te.some(n)}catch{return te.none()}},jb=function(e){var n=__(e)?Cm(je.fromDom(e.getBody())):te.none();e.bookmark=n.isSome()?n:e.bookmark},lE=function(e,n){var a=je.fromDom(e.getBody()),i=__(e)?te.from(n):te.none(),l=i.map(k_).filter(eC(a));e.bookmark=l.isSome()?l:e.bookmark},gg=function(e){var n=e.bookmark?e.bookmark:te.none();return n.bind(function(a){return tC(je.fromDom(e.getBody()),a)}).bind(A_)},nC=function(e){gg(e).each(function(n){return e.selection.setRng(n)})},rC=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},E_={isEditorUIElement:rC},aC=function(e){return e.type==="nodechange"&&e.selectionChange},Gb=function(e,n){var a=function(){n.throttle()};Ma.DOM.bind(document,"mouseup",a),e.on("remove",function(){Ma.DOM.unbind(document,"mouseup",a)})},qb=function(e){e.on("focusout",function(){jb(e)})},oC=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},iC=function(e,n){var a=Rn().browser;a.isIE()?qb(e):oC(e,n),e.on("keyup NodeChange",function(i){aC(i)||jb(e)})},T_=function(e){var n=j0(function(){jb(e)},0);e.on("init",function(){e.inline&&Gb(e,n),iC(e,n)}),e.on("remove",function(){n.cancel()})},Sm,pg=Ma.DOM,O_=function(e){return E_.isEditorUIElement(e)},D_=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Kb=function(e,n){var a=ow(e),i=pg.getParent(n,function(l){return O_(l)||(a?e.dom.is(l,a):!1)});return i!==null},R_=function(e){try{var n=vu(je.fromDom(e.getElement()));return Il(n).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},B_=function(e,n){var a=n.editor;T_(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){ji.setEditorTimeout(a,function(){var i=e.focusedEditor;!Kb(a,R_(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Sm||(Sm=function(i){var l=e.activeEditor;l&&Vi(i).each(function(v){v.ownerDocument===document&&v!==document.body&&!Kb(l,v)&&e.focusedEditor===l&&(l.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},pg.bind(document,"focusin",Sm))},uC=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(pg.unbind(document,"focusin",Sm),Sm=null)},$_=function(e){e.on("AddEditor",se(B_,e)),e.on("RemoveEditor",se(uC,e))},M_=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},P_=function(e){return e.collapsed?te.from(Wa(e.startContainer,e.startOffset)).map(je.fromDom):te.none()},cE=function(e,n){return P_(n).bind(function(a){return qr(a)?te.some(a):Hi(e,a)===!1?te.some(e):te.none()})},I_=function(e,n){cE(je.fromDom(e.getBody()),n).bind(function(a){return ou(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},sC=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},bg=function(e){return lv(e)||dd(e).isSome()},fE=function(e){return e.iframeElement&&lv(je.fromDom(e.iframeElement))},N_=function(e){var n=e.getBody();return n&&bg(je.fromDom(n))},F_=function(e){var n=vu(je.fromDom(e.getElement()));return Il(n).filter(function(a){return!D_(a.dom)&&Kb(e,a.dom)}).isSome()},sl=function(e){return e.inline?N_(e):fE(e)},L_=function(e){return sl(e)||F_(e)},z_=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&sl(e)===!1&&gg(e).each(function(v){e.selection.setRng(v),i=v});var l=M_(e,n.getNode());if(e.$.contains(a,l)){sC(l),I_(e,i),Xb(e);return}e.inline||(zn.opera||sC(a),e.getWin().focus()),(zn.gecko||e.inline)&&(sC(a),I_(e,i)),Xb(e)},Xb=function(e){return e.editorManager.setActive(e)},Yb=function(e,n){e.removed||(n?Xb(e):z_(e))},lC=function(e,n,a,i,l){var v=a?n.startContainer:n.endContainer,p=a?n.startOffset:n.endOffset;return te.from(v).map(je.fromDom).map(function(x){return!i||!n.collapsed?ec(x,l(x,p)).getOr(x):x}).bind(function(x){return Fa(x)?te.some(x):eo(x).filter(Fa)}).map(function(x){return x.dom}).getOr(e)},xm=function(e,n,a){return lC(e,n,!0,a,function(i,l){return Math.min(v0(i),l)})},yg=function(e,n,a){return lC(e,n,!1,a,function(i,l){return l>0?l-1:l})},H_=function(e,n){for(var a=e;e&&gn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},V_=function(e,n){var a,i,l;if(!n)return e;i=n.startContainer,l=n.endContainer;var v=n.startOffset,p=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===l&&p-v<2&&i.hasChildNodes()&&(a=i.childNodes[v]),i.nodeType===3&&l.nodeType===3&&(i.length===v?i=H_(i.nextSibling,!0):i=i.parentNode,p===0?l=H_(l.previousSibling,!1):l=l.parentNode,i&&i===l))?i:a&&a.nodeType===3?a.parentNode:a},Jb=function(e,n,a,i){var l,v=[],p=e.getRoot();if(a=e.getParent(a||xm(p,n,n.collapsed),e.isBlock),i=e.getParent(i||yg(p,n,n.collapsed),e.isBlock),a&&a!==p&&v.push(a),a&&i&&a!==i){l=a;for(var x=new ia(a,p);(l=x.next())&&l!==i;)e.isBlock(l)&&v.push(l)}return i&&a!==i&&i!==p&&v.push(i),v},vE=function(e,n,a){return te.from(n).map(function(i){var l=e.nodeIndex(i),v=e.createRng();return v.setStart(i.parentNode,l),v.setEnd(i.parentNode,l+1),a&&(ld(e,v,i,!0),ld(e,v,i,!1)),v})},Zb=function(e,n){return Qe(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},f1={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Qb=function(e,n,a){var i=a?"lastChild":"firstChild",l=a?"prev":"next";if(e[i])return e[i];if(e!==n){var v=e[l];if(v)return v;for(var p=e.parent;p&&p!==n;p=p.parent)if(v=p[l],v)return v}},U_=function(e){if(!Tl(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},ey=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},ll=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,f1[n]||1);return a&&Nr(a,function(l,v){i.attr(v,l)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,l;if(typeof n!="string")return n!=null&&Nr(n,function(p,x){i.attr(x,p)}),i;if(l=i.attributes){if(a!==void 0){if(a===null){if(n in l.map){delete l.map[n];for(var v=l.length;v--;)if(l[v].name===n)return l.splice(v,1),i}return i}if(n in l.map){for(var v=l.length;v--;)if(l[v].name===n){l[v].value=a;break}}else l.push({name:n,value:a});return l.map[n]=a,i}return l.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var l=[];l.map={};for(var v=0,p=i.length;v<p;v++){var x=i[v];x.name!=="id"&&(l[l.length]={name:x.name,value:x.value},l.map[x.name]=x.value)}a.attributes=l}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,l=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):l.next=i,a.lastChild===n?(a.lastChild=l,l&&(l.next=null)):i.prev=l,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var l=a.parent||this;return i?(a===l.firstChild?l.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===l.lastChild?l.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=l,n},e.prototype.getAll=function(n){for(var a=this,i=[],l=a.firstChild;l;l=Qb(l,a))l.name===n&&i.push(l);return i},e.prototype.children=function(){for(var n=this,a=[],i=n.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=Qb(i,n))a.push(i);for(var l=a.length;l--;){var i=a[l];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var l=this,v=l.firstChild;if(ey(l))return!1;if(v)do{if(v.type===1){if(v.attr("data-mce-bogus"))continue;if(n[v.name]||ey(v))return!1}if(v.type===8||v.type===3&&!U_(v)||v.type===3&&v.parent&&a[v.parent.name]&&Tl(v.value)||i&&i(v))return!1}while(v=Qb(v,l));return!0},e.prototype.walk=function(n){return Qb(this,null,n)},e}(),dE=function(e){for(var n=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},l=px("img"),v,p=0,x=0;v=n.exec(e);){var A=v[0],I=l+"_"+x++;i[I]=A,p<v.index&&a.push(e.substr(p,v.index-p)),a.push(I),p=v.index+A.length}var K=new RegExp(l+"_[0-9]+","g");return p===0?{prefix:l,uris:i,html:e,re:K}:(p<e.length&&a.push(e.substr(p)),{prefix:l,uris:i,html:a.join(""),re:K})},ty=function(e,n){return e.replace(n.re,function(a){return Rr(n.uris,a).getOr(a)})},W_=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return n?te.some({type:n[1],data:decodeURIComponent(n[2])}):te.none()},v1=yt.each,d1=yt.trim,cC="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),j_={ftp:21,http:80,https:443,mailto:25},G_=["img","video"],q_=function(e,n){return Xe(e)?!e:Xe(n)?!Ae(G_,n):!0},ny=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?q_(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},gd=function(){function e(n,a){n=d1(n),this.settings=a||{};var i=this.settings.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){l.source=n;return}var v=n.indexOf("//")===0;if(n.indexOf("/")===0&&!v&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var p=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+l.toAbsPath(p,n);else{var x=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+l.toAbsPath(p,x[1])+x[2]}}n=n.replace(/@@/g,"(mce_at)");var A=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);v1(cC,function(I,K){var J=A[K];J&&(J=J.replace(/\(mce_at\)/g,"@@")),l[I]=J}),i&&(l.protocol||(l.protocol=i.protocol),l.userInfo||(l.userInfo=i.userInfo),!l.port&&l.host==="mce_host"&&(l.port=i.port),(!l.host||l.host==="mce_host")&&(l.host=i.host),l.source=""),v&&(l.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(i[0]);return l&&(a=l[1]),{type:a,data:i[1]}},e.isDomSafe=function(n,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var l=Bs.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch{l=unescape(l)}return/((java|vb)script|mhtml):/i.test(l)?!1:!ny(i,l,a)},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var l=this.getURI(),v=i.getURI();return l===v||l.charAt(l.length-1)==="/"&&l.substr(0,l.length-1)===v?l:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=j_[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,l="",v,p,x=n.substring(0,n.lastIndexOf("/")).split("/"),A=a.split("/");if(x.length>=A.length){for(v=0,p=x.length;v<p;v++)if(v>=A.length||x[v]!==A[v]){i=v+1;break}}if(x.length<A.length){for(v=0,p=A.length;v<p;v++)if(v>=x.length||x[v]!==A[v]){i=v+1;break}}if(i===1)return a;for(v=0,p=x.length-(i-1);v<p;v++)l+="../";for(v=i-1,p=A.length;v<p;v++)v!==i-1?l+="/"+A[v]:l+=A[v];return l},e.prototype.toAbsPath=function(n,a){var i,l=0,v=[],p,x=/\/$/.test(a)?"/":"",A=n.split("/"),I=a.split("/");for(v1(A,function(K){K&&v.push(K)}),A=v,i=I.length-1,v=[];i>=0;i--)if(!(I[i].length===0||I[i]===".")){if(I[i]===".."){l++;continue}if(l>0){l--;continue}v.push(I[i])}return i=A.length-l,i<=0?p=tr(v).join("/"):p=A.slice(0,i).join("/")+"/"+tr(v).join("/"),p.indexOf("/")!==0&&(p="/"+p),x&&p.lastIndexOf("/")!==p.length-1&&(p+=x),p},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),mE=yt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),hE=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},gE=Bc(function(){return document.implementation.createHTMLDocument("parser")}),pd=function(e,n,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,v=e.getShortEndedElements(),p=1,x=a;p!==0;)for(i.lastIndex=x;;){var A=i.exec(n);if(A===null)return x;if(A[1]==="!"){go(A[2],"--")?x=fC(n,!1,A.index+3):x=fC(n,!0,A.index+1);break}else{l.lastIndex=i.lastIndex;var I=l.exec(n);if(ue(I)||I.index!==i.lastIndex)continue;A[1]==="/"?p-=1:kr(v,A[2])||(p+=1),x=i.lastIndex+I[0].length;break}}return x},pE=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},fC=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&pE(i,a)){var l=i.indexOf("[endif]",a);return i.indexOf(">",l)}else if(n){var v=i.indexOf(">",a);return v!==-1?v:i.length}else{var p=/--!?>/g;p.lastIndex=a;var x=p.exec(e);return x?x.index+x[0].length:i.length}},bE=function(e,n){var a=e.exec(n);if(a){var i=a[1],l=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?l:null}else return null},wg=function(e,n){n===void 0&&(n=$s()),e=e||{};var a=gE(),i=a.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var l=e.comment?e.comment:ye,v=e.cdata?e.cdata:ye,p=e.text?e.text:ye,x=e.start?e.start:ye,A=e.end?e.end:ye,I=e.pi?e.pi:ye,K=e.doctype?e.doctype:ye,J=function(ce,ve){ve===void 0&&(ve="html");for(var me=ce.html,he,Oe=0,_e,qe,We=[],Re,Je,St,Nt,Hn,mn,Rt,Ln,Vt,fn,jt,Zt,yn,$t,hn,xr,ta,Yr=0,Fi=Bs.decode,ao=yt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ju=ve==="html"?0:1,ps=function(Ta){var Ha,gi;for(Ha=We.length;Ha--&&We[Ha].name!==Ta;);if(Ha>=0){for(gi=We.length-1;gi>=Ha;gi--)Ta=We[gi],Ta.valid&&A(Ta.name);We.length=Ha}},Mt=function(Ta,Ha){return p(ty(Ta,ce),Ha)},qt=function(Ta){Ta!==""&&(Ta.charAt(0)===">"&&(Ta=" "+Ta),!e.allow_conditional_comments&&Ta.substr(0,3).toLowerCase()==="[if"&&(Ta=" "+Ta),l(ty(Ta,ce)))},Dn=function(Ta){return ty(Ta,ce)},et=function(Ta,Ha){var gi=Ta||"",bs=!go(gi,"--"),wv=fC(me,bs,Ha);return Ta=me.substr(Ha,wv-Ha),qt(bs?gi+Ta:Ta),wv+1},Ht=function(Ta,Ha,gi,bs,wv){if(Ha=Ha.toLowerCase(),gi=Dn(Ha in ni?Ha:Fi(gi||bs||wv||"")),Yo&&!Hn&&hE(Ha)===!1){var Cv=jt[Ha];if(!Cv&&Zt){for(var qg=Zt.length;qg--&&(Cv=Zt[qg],!Cv.pattern.test(Ha)););qg===-1&&(Cv=null)}if(!Cv||Cv.validValues&&!(gi in Cv.validValues))return}var Ny=Ha==="name"||Ha==="id";Ny&&Ta in mE&&(gi in a||gi in i)||ao[Ha]&&!gd.isDomSafe(gi,Ta,e)||Hn&&(Ha in ao||Ha.indexOf("on")===0)||(Re.map[Ha]=gi,Re.push({name:Ha,value:gi}))},Pt=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),$n=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Nn=n.getShortEndedElements(),ka=e.self_closing_elements||n.getSelfClosingElements(),ni=n.getBoolAttrs(),Yo=e.validate,Mm=e.remove_internals,Gu=e.fix_self_closing,Eu=n.getSpecialElements(),hi=me+">";he=Pt.exec(hi);){var Vl=he[0];if(Oe<he.index&&Mt(Fi(me.substr(Oe,he.index-Oe))),_e=he[7])_e=_e.toLowerCase(),_e.charAt(0)===":"&&(_e=_e.substr(1)),ps(_e);else if(_e=he[8]){if(he.index+Vl.length>me.length){Mt(Fi(me.substr(he.index))),Oe=he.index+Vl.length;continue}_e=_e.toLowerCase(),_e.charAt(0)===":"&&(_e=_e.substr(1)),mn=_e in Nn,Gu&&ka[_e]&&We.length>0&&We[We.length-1].name===_e&&ps(_e);var qu=bE($n,he[9]);if(qu!==null){if(qu==="all"){Oe=pd(n,me,Pt.lastIndex),Pt.lastIndex=Oe;continue}Ln=!1}if(!Yo||(Rt=n.getElementRule(_e))){if(Ln=!0,Yo&&(jt=Rt.attributes,Zt=Rt.attributePatterns),(fn=he[9])?(Hn=fn.indexOf("data-mce-type")!==-1,Hn&&Mm&&(Ln=!1),Re=[],Re.map={},fn.replace($n,function(Ta,Ha,gi,bs,wv){return Ht(_e,Ha,gi,bs,wv),""})):(Re=[],Re.map={}),Yo&&!Hn){if(yn=Rt.attributesRequired,$t=Rt.attributesDefault,hn=Rt.attributesForced,xr=Rt.removeEmptyAttrs,xr&&!Re.length&&(Ln=!1),hn)for(Je=hn.length;Je--;)Vt=hn[Je],Nt=Vt.name,ta=Vt.value,ta==="{$uid}"&&(ta="mce_"+Yr++),Re.map[Nt]=ta,Re.push({name:Nt,value:ta});if($t)for(Je=$t.length;Je--;)Vt=$t[Je],Nt=Vt.name,Nt in Re.map||(ta=Vt.value,ta==="{$uid}"&&(ta="mce_"+Yr++),Re.map[Nt]=ta,Re.push({name:Nt,value:ta}));if(yn){for(Je=yn.length;Je--&&!(yn[Je]in Re.map););Je===-1&&(Ln=!1)}if(Vt=Re.map["data-mce-bogus"]){if(Vt==="all"){Oe=pd(n,me,Pt.lastIndex),Pt.lastIndex=Oe;continue}Ln=!1}}Ln&&x(_e,Re,mn)}else Ln=!1;if(qe=Eu[_e]){qe.lastIndex=Oe=he.index+Vl.length,(he=qe.exec(me))?(Ln&&(St=me.substr(Oe,he.index-Oe)),Oe=he.index+he[0].length):(St=me.substr(Oe),Oe=me.length),Ln&&(St.length>0&&Mt(St,!0),A(_e)),Pt.lastIndex=Oe;continue}mn||(!fn||fn.indexOf("/")!==fn.length-1?We.push({name:_e,valid:Ln}):Ln&&A(_e))}else if(_e=he[1])qt(_e);else if(_e=he[2]){var Sf=ju===1||e.preserve_cdata||We.length>0&&n.isValidChild(We[We.length-1].name,"#cdata");if(Sf)v(_e);else{Oe=et("",he.index+2),Pt.lastIndex=Oe;continue}}else if(_e=he[3])K(_e);else if((_e=he[4])||Vl==="<!"){Oe=et(_e,he.index+Vl.length),Pt.lastIndex=Oe;continue}else if(_e=he[5])if(ju===1)I(_e,he[6]);else{Oe=et("?",he.index+2),Pt.lastIndex=Oe;continue}Oe=he.index+Vl.length}for(Oe<me.length&&Mt(Fi(me.substr(Oe))),Je=We.length-1;Je>=0;Je--)_e=We[Je],_e.valid&&A(_e.name)},Q=function(ce,ve){ve===void 0&&(ve="html"),J(dE(ce),ve)};return{parse:Q}};wg.findEndTag=pd;var vC=function(e,n){var a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(a,"")},K_=function(e,n){for(var a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,i=e.schema,l=vC(e.getTempAttrs(),n),v=i.getShortEndedElements(),p;p=a.exec(l);){var x=a.lastIndex,A=p[0].length,I=void 0;v[p[1]]?I=x:I=wg.findEndTag(i,l,x),l=l.substring(0,x-A)+l.substring(I),a.lastIndex=x-A}return uc(l)},ry=K_,X_=function(e,n){var a=$i(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},Y_=function(e,n){return Un(Un({},e),{format:n,get:!0,getInner:!0})},yE=function(e,n,a,i){var l=Y_(n,a),v=n.no_events?l:e.fire("BeforeGetContent",l),p;return v.format==="raw"?p=yt.trim(ry(e.serializer,i.innerHTML)):v.format==="text"?p=e.dom.isEmpty(i)?"":uc(i.innerText||i.textContent):v.format==="tree"?p=e.serializer.serialize(i,v):p=X_(e,e.serializer.serialize(i,v)),!Ae(["text","tree"],v.format)&&!Fd(je.fromDom(i))?v.content=yt.trim(p):v.content=p,v.no_events?v.content:e.fire("GetContent",v).content},ay=function(e,n,a){return te.from(e.getBody()).fold(U(n.format==="tree"?new ll("body",11):""),function(i){return yE(e,n,a,i)})},oy=yt.each,dC=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var l=function(p){var x={};return oy(e.getAttribs(p),function(A){var I=A.nodeName.toLowerCase();I.indexOf("_")!==0&&I!=="style"&&I.indexOf("data-")!==0&&(x[I]=e.getAttrib(p,I))}),x},v=function(p,x){var A,I;for(I in p)if(kr(p,I)){if(A=x[I],typeof A>"u"||p[I]!==A)return!1;delete x[I]}for(I in x)if(kr(x,I))return!1;return!0};return!v(l(a),l(i))||!v(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!Vu(a)&&!Vu(i)};return{compare:n}},J_=yt.makeMap,Z_=function(e){var n=[];e=e||{};var a=e.indent,i=J_(e.indent_before||""),l=J_(e.indent_after||""),v=Bs.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format==="html";return{start:function(x,A,I){var K,J,Q,ce;if(a&&i[x]&&n.length>0&&(ce=n[n.length-1],ce.length>0&&ce!==`
`&&n.push(`
`)),n.push("<",x),A)for(K=0,J=A.length;K<J;K++)Q=A[K],n.push(" ",Q.name,'="',v(Q.value,!0),'"');!I||p?n[n.length]=">":n[n.length]=" />",I&&a&&l[x]&&n.length>0&&(ce=n[n.length-1],ce.length>0&&ce!==`
`&&n.push(`
`))},end:function(x){var A;n.push("</",x,">"),a&&l[x]&&n.length>0&&(A=n[n.length-1],A.length>0&&A!==`
`&&n.push(`
`))},text:function(x,A){x.length>0&&(n[n.length]=A?x:v(x))},cdata:function(x){n.push("<![CDATA[",x,"]]>")},comment:function(x){n.push("<!--",x,"-->")},pi:function(x,A){A?n.push("<?",x," ",v(A),"?>"):n.push("<?",x,"?>"),a&&n.push(`
`)},doctype:function(x){n.push("<!DOCTYPE",x,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},_m=function(e,n){n===void 0&&(n=$s());var a=Z_(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(l){var v=e.validate,p={3:function(A){a.text(A.value,A.raw)},8:function(A){a.comment(A.value)},7:function(A){a.pi(A.name,A.value)},10:function(A){a.doctype(A.value)},4:function(A){a.cdata(A.value)},11:function(A){if(A=A.firstChild)do x(A);while(A=A.next)}};a.reset();var x=function(A){var I=p[A.type];if(I)I(A);else{var K=A.name,J=A.shortEnded,Q=A.attributes;if(v&&Q&&Q.length>1){var ce=[];ce.map={};var ve=n.getElementRule(A.name);if(ve){for(var me=0,he=ve.attributesOrder.length;me<he;me++){var Oe=ve.attributesOrder[me];if(Oe in Q.map){var _e=Q.map[Oe];ce.map[Oe]=_e,ce.push({name:Oe,value:_e})}}for(var me=0,he=Q.length;me<he;me++){var Oe=Q[me].name;if(!(Oe in ce.map)){var _e=Q.map[Oe];ce.map[Oe]=_e,ce.push({name:Oe,value:_e})}}Q=ce}}if(a.start(A.name,Q,J),!J){if(A=A.firstChild)do x(A);while(A=A.next);a.end(K)}}};return l.type===1&&!e.inner?x(l):p[11](l),a.getContent()};return{serialize:i}},m1=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];He(e,function(n){m1.add(n)})})();var iy=["font","text-decoration","text-emphasis"],h1=function(e,n){return Zi(e.parseStyle(e.getAttrib(n,"style")))},Q_=function(e){return m1.has(e)},cv=function(e,n){return jr(h1(e,n),function(a){return!Q_(a)})},wE=function(e){return ot(e,function(n){return Ye(iy,function(a){return go(n,a)})})},cf=function(e,n,a){var i=h1(e,n),l=h1(e,a),v=function(p){var x=e.getStyle(n,p),A=e.getStyle(a,p);return Df(x)&&Df(A)&&x!==A};return Ye(i,function(p){var x=function(I){return Ye(I,function(K){return K===p})};if(!x(l)&&x(iy)){var A=wE(l);return Ye(A,v)}else return v(p)})},ek=function(e,n,a){return te.from(a.container()).filter(gn).exists(function(i){var l=e?0:-1;return n(i.data.charAt(a.offset()+l))})},uy=se(ek,!0,ud),mC=se(ek,!1,ud),CE=function(e){var n=e.container();return gn(n)&&(n.data.length===0||gu(n.data)&&fd.isBookmarkNode(n.parentNode))},bd=function(e,n){return function(a){return te.from(yb(e?0:-1,a)).filter(n).isSome()}},tk=function(e){return ch(e)&&dr(je.fromDom(e),"display")==="block"},nk=function(e){return La(e)&&!Vo(e)},SE=bd(!0,tk),hC=bd(!1,tk),Cg=bd(!0,Mu),Sg=bd(!1,Mu),rk=bd(!0,Ao),gC=bd(!1,Ao),Fl=bd(!0,nk),yd=bd(!1,nk),Fn=function(e){for(var n=[],a=e.dom;a;)n.push(je.fromDom(a)),a=a.lastChild;return n},pC=function(e){var n=Bi(e,"br"),a=ot(Fn(e).slice(-1),bh);n.length===a.length&&He(a,co)},ff=function(e){Lf(e),Ho(e,je.fromHtml('<br data-mce-bogus="1">'))},ak=function(e){as(e).each(function(n){If(n).each(function(a){Ts(e)&&bh(n)&&Ts(a)&&co(n)})})},xE=function(e){return e.slice(0,-1)},ok=function(e,n,a){return Hi(n,e)?xE(zo(e,function(i){return a(i)||Ba(i,n)})):[]},g1=function(e,n){return ok(e,n,rt)},yc=function(e,n){return[e].concat(g1(e,n))},sy=function(e,n,a){return Eb(e,n,a,CE)},ik=function(e,n){return nn(yc(je.fromDom(n.container()),e),Ts)},Zn=function(e,n,a){return sy(e,n.dom,a).forall(function(i){return ik(n,a).fold(function(){return gc(i,a,n.dom)===!1},function(l){return gc(i,a,n.dom)===!1&&Hi(l,je.fromDom(i.container()))})})},bC=function(e,n,a){return ik(n,a).fold(function(){return sy(e,n.dom,a).forall(function(i){return gc(i,a,n.dom)===!1})},function(i){return sy(e,i.dom,a).isNone()})},rr=se(bC,!1),yC=se(bC,!0),uk=se(Zn,!1),sk=se(Zn,!0),xg=function(e){return Cb(e).exists(bh)},_g=function(e,n,a){var i=ot(yc(je.fromDom(a.container()),n),Ts),l=va(i).getOr(n);return Hu(e,l.dom,a).filter(xg)},kg=function(e,n){return Cb(n).exists(bh)||_g(!0,e,n).isSome()},Ag=function(e,n){return E4(n).exists(bh)||_g(!1,e,n).isSome()},_E=se(_g,!1),Xn=se(_g,!0),lk=function(e){return dt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},wC=function(e,n){var a=ot(yc(je.fromDom(n.container()),e),Ts);return va(a).getOr(e)},p1=function(e,n){return lk(n)?mC(n):mC(n)||bc(wC(e,n).dom,n).exists(mC)},wd=function(e,n){return lk(n)?uy(n):uy(n)||Ml(wC(e,n).dom,n).exists(uy)},ck=function(e){return Ae(["pre","pre-wrap"],e)},ly=function(e){return Cb(e).bind(function(n){return hh(n,Fa)}).exists(function(n){return ck(dr(n,"white-space"))})},CC=function(e,n){return bc(e.dom,n).isNone()},kE=function(e,n){return Ml(e.dom,n).isNone()},fk=function(e,n){return CC(e,n)||kE(e,n)||rr(e,n)||yC(e,n)||Ag(e,n)||kg(e,n)},AE=function(e,n){return ly(n)?!1:fk(e,n)||p1(e,n)||wd(e,n)},cy=function(e,n){return ly(n)?!1:rr(e,n)||uk(e,n)||Ag(e,n)||p1(e,n)},EE=function(e){var n=e.container(),a=e.offset();return gn(n)&&a<n.data.length?dt(n,a+1):e},fy=function(e,n){return ly(n)?!1:yC(e,n)||sk(e,n)||kg(e,n)||wd(e,n)},vk=function(e,n){return cy(e,n)||fy(e,EE(n))},dk=function(e,n){return dm(e.charAt(n))},TE=function(e){var n=e.container();return gn(n)&&Bo(n.data,us)},mk=function(e){var n=e.split("");return Qe(n,function(a,i){return dm(a)&&i>0&&i<n.length-1&&Tb(n[i-1])&&Tb(n[i+1])?" ":a}).join("")},SC=function(e,n){var a=n.data,i=dt(n,0);return dk(a,0)&&!vk(e,i)?(n.data=" "+a.slice(1),!0):!1},Br=function(e){var n=e.data,a=mk(n);return a!==n?(e.data=a,!0):!1},hk=function(e,n){var a=n.data,i=dt(n,a.length-1);return dk(a,a.length-1)&&!vk(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},vy=function(e,n){return te.some(n).filter(TE).bind(function(a){var i=a.container(),l=SC(e,i)||Br(i)||hk(e,i);return l?te.some(a):te.none()})},xC=function(e){var n=je.fromDom(e.getBody());e.selection.isCollapsed()&&vy(n,dt.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},gk=function(e,n,a){var i=Ot(e,function(l,v){return ud(v)||dm(v)?l.previousCharIsSpace||l.str===""&&n||l.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:l.str+us}:{previousCharIsSpace:!0,str:l.str+" "}:{previousCharIsSpace:!1,str:l.str+v}},{previousCharIsSpace:!1,str:""});return i.str},_C=function(e,n,a){if(a!==0){var i=je.fromDom(e),l=Pv(i,Ts).getOr(i),v=e.data.slice(n,n+a),p=n+a>=e.data.length&&fy(l,dt(e,e.data.length)),x=n===0&&cy(l,dt(e,0));e.replaceData(n,a,gk(v,x,p))}},b1=function(e,n){var a=e.data.slice(n),i=a.length-Rd(a).length;_C(e,n,i)},dy=function(e,n){var a=e.data.slice(0,n),i=a.length-es(a).length;_C(e,n-i,i)},u=function(e,n,a,i){i===void 0&&(i=!0);var l=es(e.data).length,v=i?e:n,p=i?n:e;return i?v.appendData(p.data):v.insertData(0,p.data),co(je.fromDom(p)),a&&b1(v,l),v},c=function(e,n){var a=e.container(),i=e.offset();return dt.isTextPosition(e)===!1&&a===n.parentNode&&i>dt.before(n).offset()},h=function(e,n){return c(n,e)?dt(n.container(),n.offset()-1):n},w=function(e){return gn(e)?dt(e,0):dt.before(e)},k=function(e){return gn(e)?dt(e,e.data.length):dt.after(e)},R=function(e){return Uc(e.previousSibling)?te.some(k(e.previousSibling)):e.previousSibling?ol(e.previousSibling):te.none()},F=function(e){return Uc(e.nextSibling)?te.some(w(e.nextSibling)):e.nextSibling?ou(e.nextSibling):te.none()},q=function(e,n){var a=dt.before(n.previousSibling?n.previousSibling:n.parentNode);return bc(e,a).fold(function(){return Ml(e,dt.after(n))},te.some)},ie=function(e,n){return Ml(e,dt.after(n)).fold(function(){return bc(e,dt.before(n))},te.some)},be=function(e,n){return R(n).orThunk(function(){return F(n)}).orThunk(function(){return q(e,n)})},Pe=function(e,n){return F(n).orThunk(function(){return R(n)}).orThunk(function(){return ie(e,n)})},mt=function(e,n,a){return e?Pe(n,a):be(n,a)},zt=function(e,n,a){return mt(e,n,a).map(se(h,a))},At=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},ht=function(e){return function(n){return n.dom===e}},Xt=function(e,n){return n&&kr(e.schema.getBlockElements(),_o(n))},en=function(e){if(Ti(e)){var n=je.fromHtml('<br data-mce-bogus="1">');return Lf(e),Ho(e,n),te.some(dt.before(n.dom))}else return te.none()},On=function(e,n,a){var i=If(e).filter(Ga),l=ks(e).filter(Ga);return co(e),t2(i,l,n,function(v,p,x){var A=v.dom,I=p.dom,K=A.data.length;return u(A,I,a),x.container()===I?dt(A,K):x}).orThunk(function(){return a&&(i.each(function(v){return dy(v.dom,v.dom.length)}),l.each(function(v){return b1(v.dom,0)})),n})},Ur=function(e,n){return kr(e.schema.getTextInlineElements(),_o(n))},Tn=function(e,n,a,i){i===void 0&&(i=!0);var l=zt(n,e.getBody(),a.dom),v=Pv(a,se(Xt,e),ht(e.getBody())),p=On(a,l,Ur(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):v.bind(en).fold(function(){i&&At(e,n,p)},function(x){i&&At(e,n,te.some(x))})},Yn=function(e){return function(n){return Ba(e,n)}},Sr=function(e){return Bi(e,"td,th")},br=function(e,n){var a=function(I){return mm(je.fromDom(I),n)},i=a(e.startContainer),l=a(e.endContainer),v=i.isSome(),p=l.isSome(),x=eu(i,l,Ba).getOr(!1),A=!x&&v&&p;return{startTable:i,endTable:l,isStartInTable:v,isEndInTable:p,isSameTable:x,isMultiTable:A}},wo=function(e,n){return{start:e,end:n}},fi=function(e,n,a){return{rng:e,table:n,cells:a}},vi=Bn.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),$r=function(e,n){return bo(je.fromDom(e),"td,th",n)},Qn=function(e){return!Ba(e.start,e.end)},Er=function(e,n){return mm(e.start,n).bind(function(a){return mm(e.end,n).bind(function(i){return n2(Ba(a,i),a)})})},ca=function(e,n){return!Qn(e)&&Er(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},ro=function(e,n){var a=$r(e.startContainer,n),i=$r(e.endContainer,n);return eu(a,i,wo)},fv=function(e){return function(n){return mm(n,e).bind(function(a){return Hr(Sr(a)).map(function(i){return wo(n,i)})})}},la=function(e){return function(n){return mm(n,e).bind(function(a){return va(Sr(a)).map(function(i){return wo(i,n)})})}},ds=function(e){return function(n){return Er(n,e).map(function(a){return fi(n,a,Sr(a))})}},di=function(e,n,a,i){if(a.collapsed||!e.forall(Qn))return te.none();if(n.isSameTable){var l=e.bind(ds(i));return te.some({start:l,end:l})}else{var v=$r(a.startContainer,i),p=$r(a.endContainer,i),x=v.bind(fv(i)).bind(ds(i)),A=p.bind(la(i)).bind(ds(i));return te.some({start:x,end:A})}},y1=function(e,n){return pn(e,function(a){return Ba(a,n)})},vv=function(e){return eu(y1(e.cells,e.rng.start),y1(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},wc=function(e,n,a){return e.exists(function(i){return ca(i,a)&&Pl(i.start,n)})},Hs=function(e,n){var a=n.startTable,i=n.endTable,l=e.cloneRange();return a.each(function(v){return l.setStartAfter(v.dom)}),i.each(function(v){return l.setEndBefore(v.dom)}),l},vf=function(e,n,a,i){return di(e,n,a,i).bind(function(l){var v=l.start,p=l.end;return v.or(p)}).bind(function(l){var v=n.isSameTable,p=vv(l).getOr([]);if(v&&l.cells.length===p.length)return te.some(vi.fullTable(l.table));if(p.length>0){if(v)return te.some(vi.partialTable(p,te.none()));var x=Hs(a,n);return te.some(vi.partialTable(p,te.some(Un(Un({},n),{rng:x}))))}else return te.none()})},my=function(e,n,a,i){return di(e,n,a,i).bind(function(l){var v=l.start,p=l.end,x=v.bind(vv).getOr([]),A=p.bind(vv).getOr([]);if(x.length>0&&A.length>0){var I=Hs(a,n);return te.some(vi.multiTable(x,A,I))}else return te.none()})},Eg=function(e,n){var a=Yn(e),i=ro(n,a),l=br(n,a);return wc(i,n,a)?i.map(function(v){return vi.singleCellTable(n,v.start)}):l.isMultiTable?my(i,l,n,a):vf(i,l,n,a)},Tg=function(e){var n=ns(e)?If(e):as(e);return n.bind(Tg).orThunk(function(){return te.some(e)})},Og=function(e){return He(e,function(n){bt(n,"contenteditable"),ff(n)})},Cc=function(e,n){return te.from(e.dom.getParent(n,e.dom.isBlock)).map(je.fromDom)},Dg=function(e,n,a){a.each(function(i){n?co(i):(ff(i),e.selection.setCursorLocation(i.dom,0))})},Rg=function(e,n,a,i){var l=a.cloneRange();i?(l.setStart(a.startContainer,a.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(a.endContainer,a.endOffset)),OE(e,l,n,!1)},kC=function(e){var n=af(e),a=je.fromDom(e.selection.getNode());fh(a.dom)&&Ti(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),n.length>1&&Ye(n,function(i){return Ba(i,a)})&&M(a,"data-mce-selected","1")},Bg=function(e,n,a){var i=e.selection.getRng(),l=a.bind(function(v){var p=v.rng,x=v.isStartInTable,A=Cc(e,x?p.endContainer:p.startContainer);p.deleteContents(),Dg(e,x,A.filter(Ti));var I=x?n[0]:n[n.length-1];return Rg(e,I,i,x),Ti(I)?te.none():te.some(x?n.slice(1):n.slice(0,-1))}).getOr(n);return Og(l),kC(e),!0},M5=function(e,n,a,i){var l=e.selection.getRng(),v=n[0],p=a[a.length-1];Rg(e,v,l,!0),Rg(e,p,l,!1);var x=Ti(v)?n:n.slice(1),A=Ti(p)?a:a.slice(0,-1);return Og(x.concat(A)),i.deleteContents(),kC(e),!0},OE=function(e,n,a,i){i===void 0&&(i=!0),n.deleteContents();var l=Tg(a).getOr(a),v=je.fromDom(e.dom.getParent(l.dom,e.dom.isBlock));if(Ti(v)&&(ff(v),i&&e.selection.setCursorLocation(v.dom,0)),!Ba(a,v)){var p=Id(eo(v),a)?[]:ko(v);He(p.concat(Qi(a)),function(x){!Ba(x,v)&&!Hi(x,v)&&Ti(x)&&co(x)})}return!0},n8=function(e,n){return Tn(e,!1,n),!0},$g=function(e,n,a){return Eg(n,a).map(function(i){return i.fold(se(OE,e),se(n8,e),se(Bg,e),se(M5,e))})},r8=function(e,n){return hy(e,n)},ms=function(e,n,a,i){return DE(n,i).fold(function(){return $g(e,n,a)},function(l){return r8(e,l)}).getOr(!1)},ra=function(e,n,a){var i=je.fromDom(e.getBody()),l=e.selection.getRng();return a.length!==0?Bg(e,a,te.none()):ms(e,i,l,n)},df=function(e,n){return nn(yc(n,e),ic)},DE=function(e,n){return nn(yc(n,e),dp("caption"))},P5=function(e,n,a,i,l){return pc(a,e.getBody(),l).bind(function(v){return df(n,je.fromDom(v.getNode())).map(function(p){return Ba(p,i)===!1})})},hy=function(e,n){return ff(n),e.selection.setCursorLocation(n.dom,0),te.some(!0)},RE=function(e,n,a,i){return ou(e.dom).bind(function(l){return ol(e.dom).map(function(v){return n?a.isEqual(l)&&i.isEqual(v):a.isEqual(v)&&i.isEqual(l)})}).getOr(!0)},I5=function(e,n){return hy(e,n)},N5=function(e,n,a){return DE(e,je.fromDom(a.getNode())).map(function(i){return Ba(i,n)===!1})},a8=function(e,n,a,i,l){return pc(a,e.getBody(),l).bind(function(v){return RE(i,a,l,v)?I5(e,i):N5(n,i,v)}).or(te.some(!0))},o8=function(e,n,a,i){var l=dt.fromRangeStart(e.selection.getRng());return df(a,i).bind(function(v){return Ti(v)?hy(e,v):P5(e,a,n,v,l)}).getOr(!1)},BE=function(e,n,a,i){var l=dt.fromRangeStart(e.selection.getRng());return Ti(i)?hy(e,i):a8(e,a,n,i,l)},$E=function(e,n){return e?rk(n):gC(n)},dv=function(e,n){var a=dt.fromRangeStart(e.selection.getRng());return $E(n,a)||Hu(n,e.getBody(),a).exists(function(i){return $E(n,i)})},i8=function(e,n,a){var i=je.fromDom(e.getBody());return DE(i,a).fold(function(){return o8(e,n,i,a)||dv(e,n)},function(l){return BE(e,n,i,l).getOr(!1)})},pk=function(e,n){var a=je.fromDom(e.selection.getStart(!0)),i=af(e);return e.selection.isCollapsed()&&i.length===0?i8(e,n,a):ra(e,a,i)},u8=function(e,n,a,i){var l=document.createRange();return l.setStart(e,n),l.setEnd(a,i),l},ME=function(e){var n=dt.fromRangeStart(e),a=dt.fromRangeEnd(e),i=e.commonAncestorContainer;return Hu(!1,i,a).map(function(l){return!gc(n,a,i)&&gc(n,l,i)?u8(n.container(),n.offset(),l.container(),l.offset()):e}).getOr(e)},PE=function(e){return e.collapsed?e:ME(e)},s8=function(e){return e.firstChild&&e.firstChild===e.lastChild},IE=function(e){return e.name==="br"||e.value===us},l8=function(e,n){var a=e.getBlockElements();return a[n.name]&&s8(n)&&IE(n.firstChild)},c8=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||l8(e,n))},F5=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),c8(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},f8=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},v8=function(e,n,a){var i=n.serialize(a),l=e.createFragment(i);return f8(l)},bk=function(e){return ot(e.childNodes,function(n){return n.nodeName==="LI"})},d8=function(e){return e.data===us||ya(e)},L5=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&d8(e.firstChild)},z5=function(e){return!e.firstChild||L5(e)},NE=function(e){return e.length>0&&z5(e[e.length-1])?e.slice(0,-1):e},FE=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},m8=function(e,n){return!!FE(e,n)},LE=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},h8=function(e,n){var a=dt.before(e),i=vo(n),l=i.next(a);return l?l.toRange():null},H5=function(e,n){var a=dt.after(e),i=vo(n),l=i.prev(a);return l?l.toRange():null},AC=function(e,n,a,i){var l=LE(e,i),v=e.parentNode;return v.insertBefore(l[0],e),yt.each(n,function(p){v.insertBefore(p,e)}),v.insertBefore(l[1],e),v.removeChild(e),H5(n[n.length-1],a)},zE=function(e,n,a){var i=e.parentNode;return yt.each(n,function(l){i.insertBefore(l,e)}),h8(e,a)},g8=function(e,n,a,i){return i.insertAfter(n.reverse(),e),H5(n[0],a)},p8=function(e,n,a,i){var l=v8(n,e,i),v=FE(n,a.startContainer),p=NE(bk(l.firstChild)),x=1,A=2,I=n.getRoot(),K=function(J){var Q=dt.fromRangeStart(a),ce=vo(n.getRoot()),ve=J===x?ce.prev(Q):ce.next(Q);return ve?FE(n,ve.getNode())!==v:!0};return K(x)?zE(v,p,I):K(A)?g8(v,p,I,n):AC(v,p,I,a)},V5=function(e,n,a){var i=je.fromDom(e.getRoot());return cy(i,dt.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),fy(i,dt.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},yk=fh,b8=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,yk);return a===i&&Pl(je.fromDom(a),n)}else return!1},y8=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,l=a.lastChild;!i||i===l&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},w8=function(e,n){te.from(e.getParent(n,"td,th")).map(je.fromDom).each(ak)},C8=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var l=e.getBody(),v=dC(i);yt.each(i.select("*[data-mce-fragment]"),function(p){var x=Xe(a[p.nodeName.toLowerCase()]);if(x&&cv(i,p))for(var A=p.parentNode;Xe(A)&&A!==l;A=A.parentNode){var I=cf(i,p,A);if(I)break;if(v.compare(A,p)){i.remove(p,!0);break}}})}},U5=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},W5=function(e){yt.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},S8=function(e){return!!e.getAttribute("data-mce-fragment")},x8=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},_8=function(e,n){var a,i=e.dom,l=e.selection;if(n){l.scrollIntoView(n);var v=gm(e.getBody(),n);if(i.getContentEditable(v)==="false"){i.remove(n),l.select(v);return}var p=i.createRng(),x=n.previousSibling;if(gn(x)){if(p.setStart(x,x.nodeValue.length),!zn.ie){var A=n.nextSibling;gn(A)&&(x.appendData(A.data),A.parentNode.removeChild(A))}}else p.setStartBefore(n),p.setEndBefore(n);var I=function(J){var Q=dt.fromRangeStart(J),ce=vo(e.getBody());if(Q=ce.next(Q),Q)return Q.toRange()},K=i.getParent(n,i.isBlock);i.remove(n),K&&i.isEmpty(K)&&(e.$(K).empty(),p.setStart(K,0),p.setEnd(K,0),!yk(K)&&!S8(K)&&(a=I(p))?(p=a,i.remove(K)):i.add(K,i.create("br",{"data-mce-bogus":"1"}))),l.setRng(p)}},k8=function(e){var n=e.dom,a=PE(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,yk);b8(n,a,i)?OE(e,a,je.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},A8=function(e,n,a){var i,l,v,p=e.selection,x=e.dom;/^ | $/.test(n)&&(n=V5(x,p.getRng(),n));var A=e.parser,I=a.merge,K=_m({validate:c4(e)},e.schema),J='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',Q=e.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:a.paste});if(Q.isDefaultPrevented()){e.fire("SetContent",{content:Q.content,format:"html",selection:!0,paste:a.paste});return}n=Q.content,n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,J),l=p.getRng();var ce=l.startContainer||(l.parentElement?l.parentElement():null),ve=e.getBody();ce===ve&&p.isCollapsed()&&x.isBlock(ve.firstChild)&&x8(e,ve.firstChild)&&x.isEmpty(ve.firstChild)&&(l=x.createRng(),l.setStart(ve.firstChild,0),l.setEnd(ve.firstChild,0),p.setRng(l)),p.isCollapsed()||k8(e),i=p.getNode();var me={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},he=A.parse(n,me);if(a.paste===!0&&F5(e.schema,he)&&m8(x,i)){l=p8(K,x,p.getRng(),he),p.setRng(l),e.fire("SetContent",Q);return}if(U5(he),v=he.lastChild,v.attr("id")==="mce_marker"){var Oe=v;for(v=v.prev;v;v=v.walk(!0))if(v.type===3||!x.isBlock(v.name)){e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(Oe,v,v.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!me.invalid)n=K.serialize(he),y8(e,n,i);else{e.selection.setContent(J),i=p.getNode();var _e=e.getBody();for(i.nodeType===9?i=v=_e:v=i;v!==_e;)i=v,v=v.parentNode;n=i===_e?_e.innerHTML:x.getOuterHTML(i),n=K.serialize(A.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return K.serialize(he)}))),i===_e?x.setHTML(_e,n):x.setOuterHTML(i,n)}C8(e,I),_8(e,x.get("mce_marker")),W5(e.getBody()),w8(x,p.getStart()),e.fire("SetContent",Q),e.addVisual()},HE=function(e,n){n(e),e.firstChild&&HE(e.firstChild,n),e.next&&HE(e.next,n)},EC=function(e,n,a){var i={},l={},v=[];a.firstChild&&HE(a.firstChild,function(A){He(e,function(I){I.name===A.name&&(i[I.name]?i[I.name].nodes.push(A):i[I.name]={filter:I,nodes:[A]})}),He(n,function(I){typeof A.attr(I.name)=="string"&&(l[I.name]?l[I.name].nodes.push(A):l[I.name]={filter:I,nodes:[A]})})});for(var p in i)kr(i,p)&&v.push(i[p]);for(var x in l)kr(l,x)&&v.push(l[x]);return v},E8=function(e,n,a){var i=EC(e,n,a);He(i,function(l){He(l.filter.callbacks,function(v){v(l.nodes,l.filter.name,{})})})},j5="html",TC=function(e){return e instanceof ll},T8=function(e){sl(e)&&ou(e.getBody()).each(function(n){var a=n.getNode(),i=Ao(a)?ou(a).getOr(n):n;e.selection.setRng(i.toRange())})},wk=function(e,n,a){e.dom.setHTML(e.getBody(),n),a!==!0&&T8(e)},G5=function(e,n,a,i){if(a.length===0||/^\s+$/.test(a)){var l='<br data-mce-bogus="1">';n.nodeName==="TABLE"?a="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+l+"</li>");var v=$i(e);v&&e.schema.isValidChild(n.nodeName.toLowerCase(),v.toLowerCase())?(a=l,a=e.dom.createHTML(v,Vh(e),a)):a||(a='<br data-mce-bogus="1">'),wk(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=_m({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=Fd(je.fromDom(n))?a:yt.trim(a),wk(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},O8=function(e,n,a,i){E8(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var l=_m({validate:e.validate},e.schema).serialize(a);return i.content=Fd(je.fromDom(n))?l:yt.trim(l),wk(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},D8=function(e,n){return Un(Un({format:j5},e),{set:!0,content:TC(n)?"":n})},R8=function(e,n,a){var i=D8(a,n),l=a.no_events?i:e.fire("BeforeSetContent",i);return TC(n)||(n=l.content),te.from(e.getBody()).fold(U(n),function(v){return TC(n)?O8(e,v,n,l):G5(e,v,n,l)})},B8=function(e,n){return o2(e,n).isSome()},q5=function(e){return le(e)?e:rt},$8=function(e,n,a){for(var i=e.dom,l=q5(a);i.parentNode;){i=i.parentNode;var v=je.fromDom(i),p=n(v);if(p.isSome())return p;if(l(v))break}return te.none()},VE=function(e,n,a){var i=n(e),l=q5(a);return i.orThunk(function(){return l(e)?te.none():$8(e,n,l)})},UE=_w,K5=function(e,n,a){var i=e.formatter.get(a);if(i)for(var l=0;l<i.length;l++){var v=i[l];if(vs(v)&&v.inherit===!1&&e.dom.is(n,v.selector))return!0}return!1},WE=function(e,n,a,i,l){var v=e.dom.getRoot();return n===v?!1:(n=e.dom.getParent(n,function(p){return K5(e,p,a)?!0:p.parentNode===v||!!uu(e,p,a,i,!0)}),!!uu(e,n,a,i,l))},jE=function(e,n,a){if(UE(n,a.inline)||UE(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},Ck=function(e,n,a,i,l,v){var p=a[i];if(le(a.onmatch))return a.onmatch(n,a,i);if(p){if(De(p.length)){for(var x in p)if(kr(p,x)){var A=i==="attributes"?e.getAttrib(n,x):sg(e,n,x),I=nf(p[x],v),K=ke(A)||Bd(A);if(K&&ke(I))continue;if(l&&K&&!a.exact||(!l||a.exact)&&!UE(A,kw(e,I,x)))return!1}}else for(var J=0;J<p.length;J++)if(i==="attributes"?e.getAttrib(n,p[J]):sg(e,n,p[J]))return!0}return!0},uu=function(e,n,a,i,l){var v=e.formatter.get(a),p=e.dom;if(v&&n)for(var x=0;x<v.length;x++){var A=v[x];if(jE(e.dom,n,A)&&Ck(p,n,A,"attributes",l,i)&&Ck(p,n,A,"styles",l,i)){var I=A.classes;if(I){for(var K=0;K<I.length;K++)if(!e.dom.hasClass(n,nf(I[K],i)))return}return A}}},OC=function(e,n,a,i,l){if(i)return WE(e,i,n,a,l);if(i=e.selection.getNode(),WE(e,i,n,a,l))return!0;var v=e.selection.getStart();return!!(v!==i&&WE(e,v,n,a,l))},GE=function(e,n,a){var i=[],l={},v=e.selection.getStart();return e.dom.getParent(v,function(p){for(var x=0;x<n.length;x++){var A=n[x];!l[A]&&uu(e,p,A,a)&&(l[A]=!0,i.push(A))}},e.dom.getRoot()),i},qE=function(e,n){var a=function(l){return Ba(l,je.fromDom(e.getBody()))},i=function(l,v){return uu(e,l.dom,v)?te.some(v):te.none()};return te.from(e.selection.getStart(!0)).bind(function(l){return VE(je.fromDom(l),function(v){return Ia(n,function(p){return i(v,p)})},a)}).getOrNull()},M8=function(e,n){var a=e.formatter.get(n),i=e.dom;if(a)for(var l=e.selection.getStart(),v=Zp(i,l),p=a.length-1;p>=0;p--){var x=a[p];if(!vs(x)||Xe(x.defaultBlock))return!0;for(var A=v.length-1;A>=0;A--)if(i.is(v[A],x.selector))return!0}return!1},X5=function(e,n,a){return Ot(a,function(i,l){var v=r_(e,l);return e.formatter.matchNode(n,l,{},v)?i.concat([l]):i},[])},gy=Ve,KE="_mce_caret",XE=function(e,n){return e.importNode(n,!0)},P8=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==gy||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},YE=function(e){return P8(e).length>0},Y5=function(e){if(e){var n=new ia(e,e);for(e=n.current();e;e=n.next())if(gn(e))return e}return null},w1=function(e){var n=je.fromTag("span");return Y(n,{id:KE,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ho(n,je.fromText(gy)),n},J5=function(e){var n=Y5(e);return n&&n.nodeValue.charAt(0)===gy&&n.deleteData(0,1),n},JE=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(YE(n))Tn(e,!1,je.fromDom(n),a);else{var v=l.getRng(),p=i.getParent(n,i.isBlock),x=v.startContainer,A=v.startOffset,I=v.endContainer,K=v.endOffset,J=J5(n);i.remove(n,!0),x===J&&A>0&&v.setStart(J,A-1),I===J&&K>0&&v.setEnd(J,K-1),p&&i.isEmpty(p)&&ff(je.fromDom(p)),l.setRng(v)}},Sk=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,l=e.selection;if(n)JE(e,n,a);else if(n=fm(e.getBody(),l.getStart()),!n)for(;n=i.get(KE);)JE(e,n,!1)},I8=function(e,n,a){var i=e.dom,l=i.getParent(a,se(xw,e));l&&i.isEmpty(l)?a.parentNode.replaceChild(n,a):(pC(je.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},Z5=function(e,n){return e.appendChild(n),n},Q5=function(e,n){var a=Wt(e,function(i,l){return Z5(i,l.cloneNode(!1))},n);return Z5(a,a.ownerDocument.createTextNode(gy))},N8=function(e,n,a,i,l,v){var p=e.formatter,x=e.dom,A=ot(Zi(p.get()),function(Q){return Q!==i&&!Bo(Q,"removeformat")}),I=X5(e,a,A),K=ot(I,function(Q){return!z4(e,Q,i)});if(K.length>0){var J=a.cloneNode(!1);return x.add(n,J),p.remove(i,l,J,v),x.remove(J),te.some(J)}else return te.none()},F8=function(e,n,a){var i,l,v=e.selection,p=v.getRng(),x=p.startOffset,A=p.startContainer,I=A.nodeValue;i=fm(e.getBody(),v.getStart()),i&&(l=Y5(i));var K=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(I&&x>0&&x<I.length&&K.test(I.charAt(x))&&K.test(I.charAt(x-1))){var J=v.getBookmark();p.collapse(!0);var Q=sd(e,p,e.formatter.get(n));Q=uv(Q),e.formatter.apply(n,a,Q),v.moveToBookmark(J)}else(!i||l.nodeValue!==gy)&&(i=XE(e.getDoc(),w1(!0).dom),l=i.firstChild,p.insertNode(i),x=1),e.formatter.apply(n,a,i),v.setCursorLocation(l,x)},eD=function(e,n,a,i){var l=e.dom,v=e.selection,p,x,A,I=[],K=v.getRng(),J=K.startContainer,Q=K.startOffset;for(x=J,J.nodeType===3&&(Q!==J.nodeValue.length&&(p=!0),x=x.parentNode);x;){if(uu(e,x,n,a,i)){A=x;break}x.nextSibling&&(p=!0),I.push(x),x=x.parentNode}if(A)if(p){var ce=v.getBookmark();K.collapse(!0);var ve=sd(e,K,e.formatter.get(n),!0);ve=uv(ve),e.formatter.remove(n,a,ve,i),v.moveToBookmark(ce)}else{var me=fm(e.getBody(),A),he=w1(!1).dom;I8(e,he,me!==null?me:A);var Oe=N8(e,he,A,n,a,i),_e=Q5(I.concat(Oe.toArray()),he);JE(e,me,!1),v.setCursorLocation(_e,1),l.isEmpty(A)&&l.remove(A)}},L8=function(e,n){var a=e.selection,i=e.getBody();Sk(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===gy&&Sk(e,fm(i,a.getStart())),(n===37||n===39)&&Sk(e,fm(i,a.getStart()))},ZE=function(e){e.on("mouseup keydown",function(n){L8(e,n.keyCode)})},py=function(e,n){var a=w1(!1),i=Q5(n,a.dom);return ki(je.fromDom(e),a),co(je.fromDom(e)),dt(i,0)},z8=function(e,n){var a=e.schema.getTextInlineElements();return kr(a,_o(n))&&!tf(n.dom)&&!po(n.dom)},H8=function(e){return tf(e.dom)&&YE(e.dom)},C1={},xk=gl,tD=Rc,V8=function(e,n){var a=C1[e];a||(C1[e]=[]),C1[e].push(n)},nD=function(e,n){tD(C1[e],function(a){a(n)})};V8("pre",function(e){var n=e.selection.getRng(),a,i=function(p){return v(p.previousSibling)&&pl(a,p.previousSibling)!==-1},l=function(p,x){lr(x).remove(),lr(p).append("<br><br>").append(x.childNodes)},v=As(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),tD(xk(xk(a,v),i),function(p){l(p.previousSibling,p)}))});var DC=yt.each,QE=function(e){return qn(e)&&!Vu(e)&&!tf(e)&&!po(e)},RC=function(e,n){for(var a=e;a;a=a[n]){if(gn(a)&&Df(a.data))return e;if(qn(a)&&!Vu(a))return a}return e},Cd=function(e,n,a){var i=dC(e);if(n&&a&&(n=RC(n,"previousSibling"),a=RC(a,"nextSibling"),i.compare(n,a))){for(var l=n.nextSibling;l&&l!==a;){var v=l;l=l.nextSibling,n.appendChild(v)}return e.remove(a),yt.each(yt.grep(a.childNodes),function(p){n.appendChild(p)}),n}return a},rD=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var l=Cd(e,Db(i),i);Cd(e,l,Db(l,!0))}},eT=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";DC(e.select(i,a),function(l){QE(l)&&DC(n.styles,function(v,p){e.setStyle(l,p,"")})})}},tT=function(e,n,a){DC(e.childNodes,function(i){QE(i)&&(n(i)&&a(i),i.hasChildNodes()&&tT(i,n,a))})},U8=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},aD=function(e,n){return function(a){return!!(a&&sg(e,a,n))}},oD=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),U8(e,i)}},by=Bn.generate([{keep:[]},{rename:["name"]},{removed:[]}]),W8=/^(src|href|style)$/,Mg=yt.each,yy=_w,j8=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},iD=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},uD=function(e,n,a){var i=n[a?"startContainer":"endContainer"],l=n[a?"startOffset":"endOffset"];if(qn(i)){var v=i.childNodes.length-1;!a&&l&&l--,i=i.childNodes[l>v?v:l]}return gn(i)&&a&&l>=i.nodeValue.length&&(i=new ia(i,e.getBody()).next()||i),gn(i)&&!a&&l===0&&(i=new ia(i,e.getBody()).prev()||i),i},nT=function(e,n){var a=n?"firstChild":"lastChild";if(j8(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},rT=function(e,n,a,i){var l=e.create(a,i);return n.parentNode.insertBefore(l,n),l.appendChild(n),l},sD=function(e,n,a,i,l){var v=je.fromDom(n),p=je.fromDom(e.create(i,l)),x=a?$a(v):Gr(v);return Ff(p,x),a?(ki(v,p),Qs(p,v)):(Mv(v,p),Ho(p,v)),p.dom},G8=function(e,n,a){if(Pi(a)&&yy(n,a.inline)||rf(a)&&yy(n,a.block))return!0;if(vs(a))return qn(n)&&e.is(n,a.selector)},q8=function(e,n){return n.links&&e.nodeName==="A"},_k=function(e,n,a,i){var l=Db(n,a,i);return ke(l)||l.nodeName==="BR"||e.isBlock(l)},K8=function(e,n,a){var i=n.parentNode,l,v=e.dom,p=$i(e);rf(a)&&(p?i===v.getRoot()&&(!a.list_block||!yy(n,a.list_block))&&He(ur(n.childNodes),function(x){ug(e,p,x.nodeName.toLowerCase())?l?l.appendChild(x):(l=rT(v,x,p),v.setAttribs(l,e.settings.forced_root_block_attrs)):l=null}):v.isBlock(n)&&!v.isBlock(i)&&(!_k(v,n,!1)&&!_k(v,n.firstChild,!0,!0)&&n.insertBefore(v.create("br"),n.firstChild),!_k(v,n,!0)&&!_k(v,n.lastChild,!1,!0)&&n.appendChild(v.create("br")))),!(H4(a)&&!yy(a.inline,n))&&v.remove(n,!0)},lD=function(e,n,a,i,l){var v,p=e.dom;if(!G8(p,i,n)&&!q8(i,n))return by.keep();var x=i;if(Pi(n)&&n.remove==="all"&&$e(n.preserve_attributes)){var A=ot(p.getAttribs(x),function(Q){return Ae(n.preserve_attributes,Q.name.toLowerCase())});if(p.removeAllAttribs(x),He(A,function(Q){return p.setAttrib(x,Q.name,Q.value)}),A.length>0)return by.rename("span")}if(n.remove!=="all"){Mg(n.styles,function(Q,ce){Q=kw(p,nf(Q,a),ce+""),pe(ce)&&(ce=Q,l=null),(n.remove_similar||!l||yy(sg(p,l,ce),Q))&&p.setStyle(x,ce,""),v=!0}),v&&p.getAttrib(x,"style")===""&&(x.removeAttribute("style"),x.removeAttribute("data-mce-style")),Mg(n.attributes,function(Q,ce){var ve;if(Q=nf(Q,a),pe(ce)&&(ce=Q,l=null),n.remove_similar||!l||yy(p.getAttrib(l,ce),Q)){if(ce==="class"&&(Q=p.getAttrib(x,ce),Q&&(ve="",He(Q.split(/\s+/),function(me){/mce\-\w+/.test(me)&&(ve+=(ve?" ":"")+me)}),ve))){p.setAttrib(x,ce,ve);return}if(W8.test(ce)&&x.removeAttribute("data-mce-"+ce),ce==="style"&&As(["li"])(x)&&p.getStyle(x,"list-style-type")==="none"){x.removeAttribute(ce),p.setStyle(x,"list-style-type","none");return}ce==="class"&&x.removeAttribute("className"),x.removeAttribute(ce)}}),Mg(n.classes,function(Q){Q=nf(Q,a),(!l||p.hasClass(l,Q))&&p.removeClass(x,Q)});for(var I=p.getAttribs(x),K=0;K<I.length;K++){var J=I[K].nodeName;if(J.indexOf("_")!==0&&J.indexOf("data-")!==0)return by.keep()}}return n.remove!=="none"?(K8(e,x,n),by.removed()):by.keep()},wy=function(e,n,a,i,l){return lD(e,n,a,i,l).fold(rt,function(v){return e.dom.rename(i,v),!0},at)},X8=function(e,n,a,i,l){var v;return He(Zp(e.dom,n.parentNode).reverse(),function(p){if(!v&&p.id!=="_start"&&p.id!=="_end"){var x=uu(e,p,a,i,l);x&&x.split!==!1&&(v=p)}}),v},Y8=function(e,n,a,i){return lD(e,n,a,i,i).fold(U(i),function(l){var v=e.dom.createFragment();return v.appendChild(i),e.dom.rename(i,l)},U(null))},aT=function(e,n,a,i,l,v,p,x){var A,I,K,J=e.dom;if(a){for(var Q=a.parentNode,ce=i.parentNode;ce&&ce!==Q;ce=ce.parentNode){A=J.clone(ce,!1);for(var ve=0;ve<n.length&&(A=Y8(e,n[ve],x,A),A!==null);ve++);A&&(I&&A.appendChild(I),K||(K=A),I=A)}v&&(!p.mixed||!J.isBlock(a))&&(i=J.split(a,i)),I&&(l.parentNode.insertBefore(I,l),K.appendChild(l),Pi(p)&&rD(J,p,x,I))}return i},oT=function(e,n,a,i,l){var v=e.formatter.get(n),p=v[0],x=!0,A=e.dom,I=e.selection,K=function(_e){var qe=X8(e,_e,n,a,l);return aT(e,v,qe,_e,_e,!0,p,a)},J=function(_e){return Vu(_e)&&qn(_e)&&(_e.id==="_start"||_e.id==="_end")},Q=function(_e){return Ye(v,function(qe){return wy(e,qe,a,_e,_e)})},ce=function(_e){var qe=!0,We=!1;qn(_e)&&A.getContentEditable(_e)&&(qe=x,x=A.getContentEditable(_e)==="true",We=!0);var Re=ur(_e.childNodes);if(x&&!We){var Je=Q(_e),St=Je||Ye(v,function(Rt){return jE(A,_e,Rt)}),Nt=_e.parentNode;!St&&Xe(Nt)&&Ew(p)&&Q(Nt)}if(p.deep&&Re.length){for(var Hn=0;Hn<Re.length;Hn++)ce(Re[Hn]);We&&(x=qe)}var mn=["underline","line-through","overline"];He(mn,function(Rt){qn(_e)&&e.dom.getStyle(_e,"text-decoration")===Rt&&_e.parentNode&&Aw(A,_e.parentNode)===Rt&&wy(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Rt}},null,_e)})},ve=function(_e){var qe=A.get(_e?"_start":"_end"),We=qe[_e?"firstChild":"lastChild"];return J(We)&&(We=We[_e?"firstChild":"lastChild"]),gn(We)&&We.data.length===0&&(We=_e?qe.previousSibling||qe.nextSibling:qe.nextSibling||qe.previousSibling),A.remove(qe,!0),We},me=function(_e){var qe,We,Re=sd(e,_e,v,_e.collapsed);if(p.split){if(Re=uv(Re),qe=uD(e,Re,!0),We=uD(e,Re),qe!==We){if(qe=nT(qe,!0),We=nT(We,!1),iD(A,qe,We)){var Je=te.from(qe.firstChild).getOr(qe);K(sD(A,Je,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ve(!0);return}if(iD(A,We,qe)){var Je=te.from(We.lastChild).getOr(We);K(sD(A,Je,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ve(!1);return}qe=rT(A,qe,"span",{id:"_start","data-mce-type":"bookmark"}),We=rT(A,We,"span",{id:"_end","data-mce-type":"bookmark"});var St=A.createRng();St.setStartAfter(qe),St.setEndBefore(We),t1(A,St,function(Nt){He(Nt,function(Hn){!Vu(Hn)&&!Vu(Hn.parentNode)&&K(Hn)})}),K(qe),K(We),qe=ve(!0),We=ve()}else qe=We=K(qe);Re.startContainer=qe.parentNode?qe.parentNode:qe,Re.startOffset=A.nodeIndex(qe),Re.endContainer=We.parentNode?We.parentNode:We,Re.endOffset=A.nodeIndex(We)+1}t1(A,Re,function(Nt){He(Nt,ce)})};if(i){if(Ob(i)){var he=A.createRng();he.setStartBefore(i),he.setEndAfter(i),me(he)}else me(i);n1(e,n,i,a);return}if(A.getContentEditable(I.getNode())==="false"){i=I.getNode();for(var Oe=0;Oe<v.length&&!(v[Oe].ceFalseOverride&&wy(e,v[Oe],a,i,i));Oe++);n1(e,n,i,a);return}!I.isCollapsed()||!Pi(p)||af(e).length?(vg(I,!0,function(){hm(e,me)}),Pi(p)&&OC(e,n,a,I.getStart())&&n_(A,I,I.getRng()),e.nodeChanged()):eD(e,n,a,l),n1(e,n,i,a)},cD=yt.each,kk=function(e,n,a,i){var l=function(v){if(v.nodeType===1&&v.parentNode&&v.parentNode.nodeType===1){var p=Aw(e,v.parentNode);e.getStyle(v,"color")&&p?e.setStyle(v,"text-decoration",p):e.getStyle(v,"text-decoration")===p&&e.setStyle(v,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(yt.walk(i,l,"childNodes"),l(i))},fD=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&tT(i,aD(e,"fontSize"),oD(e,"backgroundColor",nf(n.styles.backgroundColor,a)))},BC=function(e,n,a,i){Pi(n)&&(n.inline==="sub"||n.inline==="sup")&&(tT(i,aD(e,"fontSize"),oD(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},$C=function(e,n,a,i){cD(n,function(l){Pi(l)&&cD(e.dom.select(l.inline,i),function(v){QE(v)&&wy(e,l,a,v,l.exact?v:null)}),eT(e.dom,l,i)})},vD=function(e,n,a,i,l){uu(e,l.parentNode,a,i)&&wy(e,n,i,l)||n.merge_with_parents&&e.dom.getParent(l.parentNode,function(v){if(uu(e,v,a,i))return wy(e,n,i,l),!0})},Ak=yt.each,J8=function(e){return qn(e)&&!Vu(e)&&!tf(e)&&!po(e)},Z8=function(e,n,a,i){if(um(e)&&Pi(n)){var l=_0(e.schema),v=B8(je.fromDom(a),function(p){return tf(p.dom)});return Gs(l,i)&&Ti(je.fromDom(a.parentNode),!1)&&!v}else return!1},iT=function(e,n,a,i){var l=e.formatter.get(n),v=l[0],p=!i&&e.selection.isCollapsed(),x=e.dom,A=e.selection,I=function(qe,We){if(We===void 0&&(We=v),le(We.onformat)&&We.onformat(qe,We,a,i),Ak(We.styles,function(Je,St){x.setStyle(qe,St,nf(Je,a))}),We.styles){var Re=x.getAttrib(qe,"style");Re&&x.setAttrib(qe,"data-mce-style",Re)}Ak(We.attributes,function(Je,St){x.setAttrib(qe,St,nf(Je,a))}),Ak(We.classes,function(Je){Je=nf(Je,a),x.hasClass(qe,Je)||x.addClass(qe,Je)})},K=function(qe,We){var Re=!1;return Ak(qe,function(Je){if(!vs(Je))return!1;if(!(Xe(Je.collapsed)&&Je.collapsed!==p)&&x.is(We,Je.selector)&&!tf(We))return I(We,Je),Re=!0,!1}),Re},J=function(qe){if(Be(qe)){var We=x.create(qe);return I(We),We}else return null},Q=function(qe,We,Re){var Je=[],St=!0,Nt=v.inline||v.block,Hn=J(Nt);t1(qe,We,function(mn){var Rt,Ln=function(Vt){var fn=!1,jt=St,Zt=Vt.nodeName.toLowerCase(),yn=Vt.parentNode,$t=yn.nodeName.toLowerCase();if(qn(Vt)&&qe.getContentEditable(Vt)&&(jt=St,St=qe.getContentEditable(Vt)==="true",fn=!0),ya(Vt)&&!Z8(e,v,Vt,$t)){Rt=null,rf(v)&&qe.remove(Vt);return}if(rf(v)&&v.wrapper&&uu(e,Vt,n,a)){Rt=null;return}if(St&&!fn&&rf(v)&&!v.wrapper&&xw(e,Zt)&&ug(e,$t,Nt)){var hn=qe.rename(Vt,Nt);I(hn),Je.push(hn),Rt=null;return}if(vs(v)){var xr=K(l,Vt);if(!xr&&Xe(yn)&&Ew(v)&&(xr=K(l,yn)),!Pi(v)||xr){Rt=null;return}}St&&!fn&&ug(e,Nt,Zt)&&ug(e,$t,Nt)&&!(!Re&&gn(Vt)&&gu(Vt.data))&&!tf(Vt)&&(!Pi(v)||!qe.isBlock(Vt))?(Rt||(Rt=qe.clone(Hn,!1),Vt.parentNode.insertBefore(Rt,Vt),Je.push(Rt)),Rt.appendChild(Vt)):(Rt=null,He(ur(Vt.childNodes),Ln),fn&&(St=jt),Rt=null)};He(mn,Ln)}),v.links===!0&&He(Je,function(mn){var Rt=function(Ln){Ln.nodeName==="A"&&I(Ln,v),He(ur(Ln.childNodes),Rt)};Rt(mn)}),He(Je,function(mn){var Rt=function(fn){var jt=0;return He(fn.childNodes,function(Zt){!L4(Zt)&&!Vu(Zt)&&jt++}),jt},Ln=function(fn){var jt=nn(fn.childNodes,J8).filter(function(Zt){return jE(qe,Zt,v)});return jt.map(function(Zt){var yn=qe.clone(Zt,!1);return I(yn),qe.replace(yn,fn,!0),qe.remove(Zt,!0),yn}).getOr(fn)},Vt=Rt(mn);if((Je.length>1||!qe.isBlock(mn))&&Vt===0){qe.remove(mn,!0);return}(Pi(v)||rf(v)&&v.wrapper)&&(!v.exact&&Vt===1&&(mn=Ln(mn)),$C(e,l,a,mn),vD(e,v,n,a,mn),fD(qe,v,a,mn),kk(qe,v,a,mn),BC(qe,v,a,mn),rD(qe,v,a,mn))})};if(x.getContentEditable(A.getNode())==="false"){i=A.getNode();for(var ce=0,ve=l.length;ce<ve;ce++){var me=l[ce];if(me.ceFalseOverride&&vs(me)&&x.is(i,me.selector)){I(i,me);break}}Hw(e,n,i,a);return}if(v){if(i)if(Ob(i)){if(!K(l,i)){var he=x.createRng();he.setStartBefore(i),he.setEndAfter(i),Q(x,sd(e,he,l),!0)}}else Q(x,i,!0);else if(!p||!Pi(v)||af(e).length){var Oe=A.getNode(),_e=l[0];!e.settings.forced_root_block&&_e.defaultBlock&&!x.getParent(Oe,x.isBlock)&&iT(e,_e.defaultBlock),A.setRng(PE(A.getRng())),vg(A,!0,function(){hm(e,function(qe,We){var Re=We?qe:sd(e,qe,l);Q(x,Re,!1)})}),n_(x,A,A.getRng()),e.nodeChanged()}else F8(e,n,a);nD(n,e)}Hw(e,n,i,a)},dD=function(e){return kr(e,"vars")},Q8=function(e,n){e.set({}),n.on("NodeChange",function(a){Cy(n,a.element,e.get())}),n.on("FormatApply FormatRemove",function(a){var i=te.from(a.node).map(function(l){return Ob(l)?l:l.startContainer}).bind(function(l){return qn(l)?te.some(l):te.from(l.parentElement)}).getOrThunk(function(){return mD(n)});Cy(n,i,e.get())})},mD=function(e){return e.selection.getStart()},uT=function(e,n,a,i,l){var v=function(x){var A=e.formatter.matchNode(x,a,l??{},i);return!De(A)},p=function(x){return K5(e,x,a)?!0:i?!1:Xe(e.formatter.matchNode(x,a,l,!0))};return It(n,v,p)},hD=function(e,n){var a=n??mD(e);return ot(Zp(e.dom,a),function(i){return qn(i)&&!po(i)})},Cy=function(e,n,a){var i=hD(e,n);Nr(a,function(l,v){var p=function(x){var A=uT(e,i,v,x.similar,dD(x)?x.vars:void 0),I=A.isSome();if(x.state.get()!==I){x.state.set(I);var K=A.getOr(n);dD(x)?x.callback(I,{node:K,format:v,parents:i}):He(x.callbacks,function(J){return J(I,{node:K,format:v,parents:i})})}};He([l.withSimilar,l.withoutSimilar],p),He(l.withVars,p)})},eP=function(e,n,a,i,l,v){var p=n.get();He(a.split(","),function(x){var A=Rr(p,x).getOrThunk(function(){var J={withSimilar:{state:yu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:yu(!1),similar:!1,callbacks:[]},withVars:[]};return p[x]=J,J}),I=function(){var J=hD(e);return uT(e,J,x,l,v).isSome()};if(De(v)){var K=l?A.withSimilar:A.withoutSimilar;K.callbacks.push(i),K.callbacks.length===1&&K.state.set(I())}else A.withVars.push({state:yu(I()),similar:l,vars:v,callback:i})}),n.set(p)},tP=function(e,n,a){var i=e.get();He(n.split(","),function(l){return Rr(i,l).each(function(v){i[l]={withSimilar:Un(Un({},v.withSimilar),{callbacks:ot(v.withSimilar.callbacks,function(p){return p!==a})}),withoutSimilar:Un(Un({},v.withoutSimilar),{callbacks:ot(v.withoutSimilar.callbacks,function(p){return p!==a})}),withVars:ot(v.withVars,function(p){return p.callback!==a})}})}),e.set(i)},nP=function(e,n,a,i,l,v){return n.get()===null&&Q8(n,e),eP(e,n,a,i,l,v),{unbind:function(){return tP(n,a,i)}}},rP=function(e,n,a,i){var l=e.formatter.get(n);OC(e,n,a,i)&&(!("toggle"in l[0])||l[0].toggle)?oT(e,n,a,i):iT(e,n,a,i)},Ek=function(e,n){var a=n||document,i=a.createDocumentFragment();return He(e,function(l){i.appendChild(l.dom)}),je.fromDom(i)},Tk=function(e,n,a){return{element:e,width:n,rows:a}},sT=function(e,n){return{element:e,cells:n}},gD=function(e,n){return{x:e,y:n}},Ok=function(e,n){var a=parseInt(re(e,n),10);return isNaN(a)?1:a},pD=function(e,n,a,i,l){for(var v=Ok(l,"rowspan"),p=Ok(l,"colspan"),x=e.rows,A=a;A<a+v;A++){x[A]||(x[A]=sT(Y0(i),[]));for(var I=n;I<n+p;I++){var K=x[A].cells;K[I]=A===a&&I===n?l:Io(l)}}},aP=function(e,n,a){var i=e.rows,l=i[a]?i[a].cells:[];return!!l[n]},oP=function(e,n,a){for(;aP(e,n,a);)n++;return n},bD=function(e){return Ot(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},yD=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var l=a[i].cells,v=0;v<l.length;v++)if(Ba(l[v],n))return te.some(gD(v,i));return te.none()},wD=function(e,n,a,i,l){for(var v=[],p=e.rows,x=a;x<=l;x++){var A=p[x].cells,I=n<i?A.slice(n,i+1):A.slice(i,n+1);v.push(sT(p[x].element,I))}return v},lT=function(e,n,a){var i=n.x,l=n.y,v=a.x,p=a.y,x=l<p?wD(e,i,l,v,p):wD(e,i,p,v,l);return Tk(e.element,bD(x),x)},cT=function(e,n){var a=Io(e.element),i=je.fromTag("tbody");return Ff(i,n),Ho(a,i),a},CD=function(e){return Qe(e.rows,function(n){var a=Qe(n.cells,function(l){var v=Y0(l);return bt(v,"colspan"),bt(v,"rowspan"),v}),i=Io(n.element);return Ff(i,a),i})},Dk=function(e){var n=Tk(Io(e),0,[]);return He(Bi(e,"tr"),function(a,i){He(Bi(a,"td,th"),function(l,v){pD(n,oP(n,v,i),i,a,l)})}),Tk(n.element,bD(n.rows),n.rows)},Ll=function(e){return cT(e,CD(e))},MC=function(e,n,a){return yD(e,n).bind(function(i){return yD(e,a).map(function(l){return lT(e,i,l)})})},S1=function(e){return nn(e,function(n){return _o(n)==="ul"||_o(n)==="ol"})},iP=function(e,n){return nn(e,function(a){return _o(a)==="li"&&Pl(a,n)}).fold(U([]),function(a){return S1(e).map(function(i){var l=je.fromTag(_o(i)),v=uo(to(i),function(p,x){return go(x,"list-style")});return Ar(l,v),[je.fromTag("li"),l]}).getOr([])})},SD=function(e,n){var a=Ot(n,function(i,l){return Ho(l,i),l},e);return n.length>0?Ek([a]):a},xD=function(e){return Gi(e)?eo(e).filter(El).fold(U([]),function(n){return[e,n]}):El(e)?[e]:[]},uP=function(e,n){var a=je.fromDom(n.commonAncestorContainer),i=yc(a,e),l=ot(i,function(x){return tu(x)||Kn(x)}),v=iP(i,n),p=l.concat(v.length?v:xD(a));return Qe(p,Io)},_D=function(){return Ek([])},sP=function(e,n){return SD(je.fromDom(n.cloneContents()),uP(e,n))},kD=function(e,n){return Nd(n,"table",se(Ba,e))},Rk=function(e,n){return kD(e,n[0]).bind(function(a){var i=n[0],l=n[n.length-1],v=Dk(a);return MC(v,i,l).map(function(p){return Ek([Ll(p)])})}).getOrThunk(_D)},AD=function(e,n){return n.length>0&&n[0].collapsed?_D():sP(e,n[0])},ED=function(e,n){var a=iv(n,e);return a.length>0?Rk(e,a):AD(e,n)},Bk=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},$k=function(e,n){return n>=0&&n<e.length&&ud(e.charAt(n))},TD=function(e,n){var a=uc(e.innerText);return n?Bk(a):a},lP=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},cP=function(e){return te.from(e.selection.getRng()).map(function(n){var a=te.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),l=lP(a),v=zn.browser.isIE()&&l!=="pre",p=e.dom.add(i,l,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),x=TD(p,v),A=uc(p.textContent);if(e.dom.remove(p),$k(A,0)||$k(A,A.length-1)){var I=a.getOr(i),K=TD(I,v),J=K.indexOf(x);if(J===-1)return x;var Q=$k(K,J-1),ce=$k(K,J+x.length);return(Q?" ":"")+x+(ce?" ":"")}else return x}).getOr("")},fP=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),l=e.selection.getSel(),v=Zb(e,Rw(l)),p=n.contextual?ED(je.fromDom(e.getBody()),v).dom:a.cloneContents();return p&&i.appendChild(p),e.selection.serializer.serialize(i,n)},vP=function(e,n){return Un(Un({},e),{format:n,get:!0,selection:!0})},dP=function(e,n,a){a===void 0&&(a={});var i=vP(a,n),l=e.fire("BeforeGetContent",i);if(l.isDefaultPrevented())return e.fire("GetContent",l),l.content;if(l.format==="text")return cP(e);l.getInner=!0;var v=fP(e,l);return l.format==="tree"?v:(l.content=e.selection.isCollapsed()?"":v,e.fire("GetContent",l),l.content)},fT=0,OD=1,DD=2,mP=function(e,n){var a=e.length+n.length+2,i=new Array(a),l=new Array(a),v=function(K,J,Q){return{start:K,end:J,diag:Q}},p=function(K,J,Q,ce,ve){var me=A(K,J,Q,ce);if(me===null||me.start===J&&me.diag===J-ce||me.end===K&&me.diag===K-Q)for(var he=K,Oe=Q;he<J||Oe<ce;)he<J&&Oe<ce&&e[he]===n[Oe]?(ve.push([fT,e[he]]),++he,++Oe):J-K>ce-Q?(ve.push([DD,e[he]]),++he):(ve.push([OD,n[Oe]]),++Oe);else{p(K,me.start,Q,me.start-me.diag,ve);for(var _e=me.start;_e<me.end;++_e)ve.push([fT,e[_e]]);p(me.end,J,me.end-me.diag,ce,ve)}},x=function(K,J,Q,ce){for(var ve=K;ve-J<ce&&ve<Q&&e[ve]===n[ve-J];)++ve;return v(K,ve,J)},A=function(K,J,Q,ce){var ve=J-K,me=ce-Q;if(ve===0||me===0)return null;var he=ve-me,Oe=me+ve,_e=(Oe%2===0?Oe:Oe+1)/2;i[1+_e]=K,l[1+_e]=J+1;var qe,We,Re,Je,St;for(qe=0;qe<=_e;++qe){for(We=-qe;We<=qe;We+=2){for(Re=We+_e,We===-qe||We!==qe&&i[Re-1]<i[Re+1]?i[Re]=i[Re+1]:i[Re]=i[Re-1]+1,Je=i[Re],St=Je-K+Q-We;Je<J&&St<ce&&e[Je]===n[St];)i[Re]=++Je,++St;if(he%2!==0&&he-qe<=We&&We<=he+qe&&l[Re-he]<=i[Re])return x(l[Re-he],We+K-Q,J,ce)}for(We=he-qe;We<=he+qe;We+=2){for(Re=We+_e-he,We===he-qe||We!==he+qe&&l[Re+1]<=l[Re-1]?l[Re]=l[Re+1]-1:l[Re]=l[Re-1],Je=l[Re]-1,St=Je-K+Q-We;Je>=K&&St>=Q&&e[Je]===n[St];)l[Re]=Je--,St--;if(he%2===0&&-qe<=We&&We<=qe&&l[Re]<=i[Re+he])return x(l[Re],We+K-Q,J,ce)}}},I=[];return p(0,e.length,0,n.length,I),I},RD=function(e){return qn(e)?e.outerHTML:gn(e)?Bs.encodeRaw(e.data,!1):jf(e)?"<!--"+e.data+"-->":""},vT=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},hP=function(e,n,a){var i=vT(n);if(e.hasChildNodes()&&a<e.childNodes.length){var l=e.childNodes[a];l.parentNode.insertBefore(i,l)}else e.appendChild(i)},Sy=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},BD=function(e,n){var a=0;He(e,function(i){i[0]===fT?a++:i[0]===OD?(hP(n,i[1],a),a++):i[0]===DD&&Sy(n,a)})},ti=function(e){return ot(Qe(ur(e.childNodes),RD),function(n){return n.length>0})},gP=function(e,n){var a=Qe(ur(n.childNodes),RD);return BD(mP(a,e),n),n},pP=Bc(function(){return document.implementation.createHTMLDocument("undo")}),bP=function(e){return e.indexOf("</iframe>")!==-1},yP=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},mf=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},xy=function(e){var n=ti(e.getBody()),a=ir(n,function(l){var v=K_(e.serializer,l);return v.length>0?[v]:[]}),i=a.join("");return bP(i)?yP(a):mf(i)},x1=function(e,n,a){var i=a?n.beforeBookmark:n.bookmark;n.type==="fragmented"?gP(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Xe(i)&&Xx(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},_1=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},Mk=function(e){var n=je.fromTag("body",pP());return Su(n,_1(e)),He(Bi(n,"*[data-mce-bogus]"),zf),Cu(n)},wP=function(e,n){return _1(e)===_1(n)},CP=function(e,n){return Mk(e)===Mk(n)},km=function(e,n){return!e||!n?!1:wP(e,n)?!0:CP(e,n)},Pg=function(e){return e.get()===0},Am=function(e,n,a){Pg(a)&&(e.typing=n)},Pk=function(e,n){e.typing&&(Am(e,!1,n),e.add())},SP=function(e){e.typing&&(e.typing=!1,e.add())},dT=function(e,n,a){Pg(n)&&a.set(_x(e.selection))},$D=function(e,n,a,i,l,v,p){var x=xy(e);if(v=v||{},v=yt.extend(v,x),Pg(i)===!1||e.removed)return null;var A=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:v,lastLevel:A,originalEvent:p}).isDefaultPrevented()||A&&km(A,v))return null;n.data[a.get()]&&l.get().each(function(Q){n.data[a.get()].beforeBookmark=Q});var I=Xp(e);if(I&&n.data.length>I){for(var K=0;K<n.data.length-1;K++)n.data[K]=n.data[K+1];n.data.length--,a.set(n.data.length)}v.bookmark=_x(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(v),a.set(n.data.length-1);var J={level:v,lastLevel:A,originalEvent:p};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",J),e.fire("change",J)):e.fire("AddUndo",J),v},MD=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},xP=function(e,n,a,i,l){if(n.transact(i)){var v=n.data[a.get()].bookmark,p=n.data[a.get()-1];x1(e,p,!0),n.transact(l)&&(n.data[a.get()-1].beforeBookmark=v)}},_P=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],x1(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},PD=function(e,n,a,i){var l;return n.typing&&(n.add(),n.typing=!1,Am(n,!1,a)),i.get()>0&&(i.set(i.get()-1),l=n.data[i.get()],x1(e,l,!0),e.setDirty(!0),e.fire("Undo",{level:l})),l},kP=function(e){e.clear(),e.add()},AP=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!km(xy(e),n.data[0])},EP=function(e,n){return n.get()<e.data.length-1&&!e.typing},TP=function(e,n,a){return Pk(e,n),e.beforeChange(),e.ignore(a),e.add()},OP=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},ID=function(e,n){var a=e.dom,i=Xe(n)?n:e.getBody();De(e.hasVisual)&&(e.hasVisual=Ix(e)),He(a.select("table,a",i),function(l){switch(l.nodeName){case"TABLE":var v=y4(e),p=a.getAttrib(l,"border");(!p||p==="0")&&e.hasVisual?a.addClass(l,v):a.removeClass(l,v);break;case"A":if(!a.getAttrib(l,"href")){var x=a.getAttrib(l,"name")||l.id,A=uw(e);x&&e.hasVisual?a.addClass(l,A):a.removeClass(l,A)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},ND=function(e){return{undoManager:{beforeChange:function(n,a){return dT(e,n,a)},add:function(n,a,i,l,v,p){return $D(e,n,a,i,l,v,p)},undo:function(n,a,i){return PD(e,n,a,i)},redo:function(n,a){return _P(e,n,a)},clear:function(n,a){return MD(e,n,a)},reset:function(n){return kP(n)},hasUndo:function(n,a){return AP(e,n,a)},hasRedo:function(n,a){return EP(n,a)},transact:function(n,a,i){return TP(n,a,i)},ignore:function(n,a){return OP(n,a)},extra:function(n,a,i,l){return xP(e,n,a,i,l)}},formatter:{match:function(n,a,i,l){return OC(e,n,a,i,l)},matchAll:function(n,a){return GE(e,n,a)},matchNode:function(n,a,i,l){return uu(e,n,a,i,l)},canApply:function(n){return M8(e,n)},closest:function(n){return qE(e,n)},apply:function(n,a,i){return iT(e,n,a,i)},remove:function(n,a,i,l){return oT(e,n,a,i,l)},toggle:function(n,a,i){return rP(e,n,a,i)},formatChanged:function(n,a,i,l,v){return nP(e,n,a,i,l,v)}},editor:{getContent:function(n,a){return ay(e,n,a)},setContent:function(n,a){return R8(e,n,a)},insertContent:function(n,a){return A8(e,n,a)},addVisual:function(n){return ID(e,n)}},selection:{getContent:function(n,a){return dP(e,n,a)}},raw:{getModel:function(){return te.none()}}}},PC=function(e){var n=function(x){return de(x)?x:{}},a=e.undoManager,i=e.formatter,l=e.editor,v=e.selection,p=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(x,A,I){return a.transact(I)},ignore:function(x,A){return a.ignore(A)},extra:function(x,A,I,K){return a.extra(I,K)}},formatter:{match:function(x,A,I,K){return i.match(x,n(A),K)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(x){return i.canApply(x)},closest:function(x){return i.closest(x)},apply:function(x,A,I){return i.apply(x,n(A))},remove:function(x,A,I,K){return i.remove(x,n(A))},toggle:function(x,A,I){return i.toggle(x,n(A))},formatChanged:function(x,A,I,K,J){return i.formatChanged(A,I,K,J)}},editor:{getContent:function(x,A){return l.getContent(x)},setContent:function(x,A){return l.setContent(x,A)},insertContent:function(x,A){return l.insertContent(x)},addVisual:l.addVisual},selection:{getContent:function(x,A){return v.getContent(A)}},raw:{getModel:function(){return te.some(p.getRawModel())}}}},FD=function(){var e=U(null),n=U("");return{undoManager:{beforeChange:ye,add:e,undo:e,redo:e,clear:ye,reset:ye,hasUndo:rt,hasRedo:rt,transact:e,ignore:ye,extra:ye},formatter:{match:rt,matchAll:U([]),matchNode:U(void 0),canApply:rt,closest:n,apply:ye,remove:ye,toggle:ye,formatChanged:U({unbind:ye})},editor:{getContent:n,setContent:n,insertContent:ye,addVisual:ye},selection:{getContent:n},raw:{getModel:U(te.none())}}},Em=function(e){return kr(e.plugins,"rtc")},LD=function(e){return Rr(e.plugins,"rtc").bind(function(n){return te.from(n.setup)})},DP=function(e){var n=e;return LD(e).fold(function(){return n.rtcInstance=ND(e),te.none()},function(a){return n.rtcInstance=FD(),te.some(function(){return a().then(function(i){return n.rtcInstance=PC(i),i.rtc.isRemote})})})},Ik=function(e){return e.rtcInstance?e.rtcInstance:ND(e)},Ni=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},RP=function(e,n,a){Ni(e).undoManager.beforeChange(n,a)},zD=function(e,n,a,i,l,v,p){return Ni(e).undoManager.add(n,a,i,l,v,p)},HD=function(e,n,a,i){return Ni(e).undoManager.undo(n,a,i)},VD=function(e,n,a){return Ni(e).undoManager.redo(n,a)},UD=function(e,n,a){Ni(e).undoManager.clear(n,a)},WD=function(e,n){Ni(e).undoManager.reset(n)},BP=function(e,n,a){return Ni(e).undoManager.hasUndo(n,a)},$P=function(e,n,a){return Ni(e).undoManager.hasRedo(n,a)},MP=function(e,n,a,i){return Ni(e).undoManager.transact(n,a,i)},PP=function(e,n,a){Ni(e).undoManager.ignore(n,a)},mT=function(e,n,a,i,l){Ni(e).undoManager.extra(n,a,i,l)},IC=function(e,n,a,i,l){return Ni(e).formatter.match(n,a,i,l)},jD=function(e,n,a){return Ni(e).formatter.matchAll(n,a)},GD=function(e,n,a,i,l){return Ni(e).formatter.matchNode(n,a,i,l)},Nk=function(e,n){return Ni(e).formatter.canApply(n)},IP=function(e,n){return Ni(e).formatter.closest(n)},NP=function(e,n,a,i){Ni(e).formatter.apply(n,a,i)},Ig=function(e,n,a,i,l){Ni(e).formatter.remove(n,a,i,l)},hT=function(e,n,a,i){Ni(e).formatter.toggle(n,a,i)},qD=function(e,n,a,i,l,v){return Ni(e).formatter.formatChanged(n,a,i,l,v)},NC=function(e,n,a){return Ik(e).editor.getContent(n,a)},KD=function(e,n,a){return Ik(e).editor.setContent(n,a)},XD=function(e,n,a){return Ik(e).editor.insertContent(n,a)},YD=function(e,n,a){return Ni(e).selection.getContent(n,a)},JD=function(e,n){return Ni(e).editor.addVisual(n)},FP=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return YD(e,a,n)},ZD=function(e){return e.dom.length===0?(co(e),te.none()):te.some(e)},LP=function(e,n){return e.filter(function(a){return fd.isBookmarkNode(a.dom)}).bind(n?ks:If)},gT=function(e,n,a,i){var l=e.dom,v=n.dom,p=i?l.length:v.length;i?(u(l,v,!1,!i),a.setStart(v,p)):(u(v,l,!1,!i),a.setEnd(v,p))},zP=function(e,n){eo(e).each(function(a){var i=e.dom;n&&cy(a,dt(i,0))?b1(i,0):!n&&fy(a,dt(i,i.length))&&dy(i,i.length)})},QD=function(e,n,a,i){e.bind(function(l){var v=i?dy:b1;return v(l.dom,i?l.dom.length:0),n.filter(Ga).map(function(p){return gT(l,p,a,i)})}).orThunk(function(){var l=LP(n,i).or(n).filter(Ga);return l.map(function(v){return zP(v,i)})})},FC=function(e,n){var a=te.from(n.firstChild).map(je.fromDom),i=te.from(n.lastChild).map(je.fromDom);e.deleteContents(),e.insertNode(n);var l=a.bind(If).filter(Ga).bind(ZD),v=i.bind(ks).filter(Ga).bind(ZD);QD(l,a,e,!0),QD(v,i,e,!1),e.collapse(!1)},pT=function(e,n){return Un(Un({format:"html"},e),{set:!0,selection:!0,content:n})},HP=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),l=i?{context:i.nodeName.toLowerCase()}:{},v=e.parser.parse(n.content,Un(Un({isRootContent:!0,forced_root_block:!1},l),n));return _m({validate:e.validate},e.schema).serialize(v)}else return n.content},eR=function(e,n,a){a===void 0&&(a={});var i=pT(a,n),l=i;if(!i.no_events){var v=e.fire("BeforeSetContent",i);if(v.isDefaultPrevented()){e.fire("SetContent",v);return}else l=v}l.content=HP(e,l);var p=e.selection.getRng();FC(p,p.createContextualFragment(l.content)),e.selection.setRng(p),u1(e,p),l.no_events||e.fire("SetContent",l)},tR=function(e,n,a){if(e&&kr(e,n)){var i=ot(e[n],function(l){return l!==a});i.length===0?delete e[n]:e[n]=i}};function Fk(e,n){var a,i,l=function(p,x){return nn(x,function(A){return e.is(A,p)})},v=function(p){return e.getParents(p,null,e.getRoot())};return{selectorChangedWithUnbind:function(p,x){return a||(a={},i={},n.on("NodeChange",function(A){var I=A.element,K=v(I),J={};yt.each(a,function(Q,ce){l(ce,K).each(function(ve){i[ce]||(He(Q,function(me){me(!0,{node:ve,selector:ce,parents:K})}),i[ce]=Q),J[ce]=Q})}),yt.each(i,function(Q,ce){J[ce]||(delete i[ce],yt.each(Q,function(ve){ve(!1,{node:I,selector:ce,parents:K})}))})})),a[p]||(a[p]=[]),a[p].push(x),l(p,v(n.selection.getStart())).each(function(){i[p]=a[p]}),{unbind:function(){tR(a,p,x),tR(i,p,x)}}}}}var bT=function(e){return!!e.select},nR=function(e){return!!(e&&e.ownerDocument)&&Hi(je.fromDom(e.ownerDocument),je.fromDom(e))},mi=function(e){return e?bT(e)?!0:nR(e.startContainer)&&nR(e.endContainer):!1},rR=function(e,n,a,i){var l,v,p=Fk(e,i).selectorChangedWithUnbind,x=function($t,hn){var xr=e.createRng();Xe($t)&&Xe(hn)?(xr.setStart($t,hn),xr.setEnd($t,hn),qe(xr),he(!1)):(ld(e,xr,i.getBody(),!0),qe(xr))},A=function($t){return FP(i,$t)},I=function($t,hn){return eR(i,$t,hn)},K=function($t){return xm(i.getBody(),_e(),$t)},J=function($t){return yg(i.getBody(),_e(),$t)},Q=function($t,hn){return Zt.getBookmark($t,hn)},ce=function($t){return Zt.moveToBookmark($t)},ve=function($t,hn){return vE(e,$t,hn).each(qe),$t},me=function(){var $t=_e(),hn=Oe();return!$t||$t.item?!1:$t.compareEndPoints?$t.compareEndPoints("StartToEnd",$t)===0:!hn||$t.collapsed},he=function($t){var hn=_e();hn.collapse(!!$t),qe(hn)},Oe=function(){return n.getSelection?n.getSelection():n.document.selection},_e=function(){var $t,hn,xr,ta=function(ao,ju,ps){try{return ju.compareBoundaryPoints(ao,ps)}catch{return-1}},Yr=n.document;if(i.bookmark!==void 0&&sl(i)===!1){var Fi=gg(i);if(Fi.isSome())return Fi.map(function(ao){return Zb(i,[ao])[0]}).getOr(Yr.createRange())}try{($t=Oe())&&!Fc($t.anchorNode)&&($t.rangeCount>0?hn=$t.getRangeAt(0):hn=$t.createRange?$t.createRange():Yr.createRange(),hn=Zb(i,[hn])[0])}catch{}return hn||(hn=Yr.createRange?Yr.createRange():Yr.body.createTextRange()),hn.setStart&&hn.startContainer.nodeType===9&&hn.collapsed&&(xr=e.getRoot(),hn.setStart(xr,0),hn.setEnd(xr,0)),l&&v&&(ta(hn.START_TO_START,hn,l)===0&&ta(hn.END_TO_END,hn,l)===0?hn=v:(l=null,v=null)),hn},qe=function($t,hn){var xr;if(mi($t)){var ta=bT($t)?$t:null;if(ta){v=null;try{ta.select()}catch{}return}var Yr=Oe(),Fi=i.fire("SetSelectionRange",{range:$t,forward:hn});if($t=Fi.range,Yr){v=$t;try{Yr.removeAllRanges(),Yr.addRange($t)}catch{}hn===!1&&Yr.extend&&(Yr.collapse($t.endContainer,$t.endOffset),Yr.extend($t.startContainer,$t.startOffset)),l=Yr.rangeCount>0?Yr.getRangeAt(0):null}!$t.collapsed&&$t.startContainer===$t.endContainer&&Yr.setBaseAndExtent&&!zn.ie&&$t.endOffset-$t.startOffset<2&&$t.startContainer.hasChildNodes()&&(xr=$t.startContainer.childNodes[$t.startOffset],xr&&xr.tagName==="IMG"&&(Yr.setBaseAndExtent($t.startContainer,$t.startOffset,$t.endContainer,$t.endOffset),(Yr.anchorNode!==$t.startContainer||Yr.focusNode!==$t.endContainer)&&Yr.setBaseAndExtent(xr,0,xr,1))),i.fire("AfterSetSelectionRange",{range:$t,forward:hn})}},We=function($t){return I(e.getOuterHTML($t)),$t},Re=function(){return V_(i.getBody(),_e())},Je=function($t,hn){return Jb(e,_e(),$t,hn)},St=function(){var $t=Oe(),hn=$t==null?void 0:$t.anchorNode,xr=$t==null?void 0:$t.focusNode;if(!$t||!hn||!xr||Fc(hn)||Fc(xr))return!0;var ta=e.createRng();ta.setStart(hn,$t.anchorOffset),ta.collapse(!0);var Yr=e.createRng();return Yr.setStart(xr,$t.focusOffset),Yr.collapse(!0),ta.compareBoundaryPoints(ta.START_TO_START,Yr)<=0},Nt=function(){var $t=_e(),hn=Oe();if(!$w(hn)&&cd(i)){var xr=Hb(e,$t);return xr.each(function(ta){qe(ta,St())}),xr.getOr($t)}return $t},Hn=function($t,hn){return p($t,hn),jt},mn=function(){for(var $t,hn=e.getRoot();hn&&hn.nodeName!=="BODY";){if(hn.scrollHeight>hn.clientHeight){$t=hn;break}hn=hn.parentNode}return $t},Rt=function($t,hn){Xe($t)?oE(i,$t,hn):u1(i,_e(),hn)},Ln=function($t,hn){return qe(Ww($t,hn,i.getDoc()))},Vt=function(){var $t=_e();return $t.collapsed?dt.fromRangeStart($t).getClientRects()[0]:$t.getBoundingClientRect()},fn=function(){n=l=v=null,yn.destroy()},jt={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:he,setCursorLocation:x,getContent:A,setContent:I,getBookmark:Q,moveToBookmark:ce,select:ve,isCollapsed:me,isForward:St,setNode:We,getNode:Re,getSel:Oe,setRng:qe,getRng:_e,getStart:K,getEnd:J,getSelectedBlocks:Je,normalize:Nt,selectorChanged:Hn,selectorChangedWithUnbind:p,getScrollContainer:mn,scrollIntoView:Rt,placeCaretAt:Ln,getBoundingClientRect:Vt,destroy:fn},Zt=fd(jt),yn=Vw(jt,i);return jt.bookmarkManager=Zt,jt.controlSelection=yn,jt},aR=function(e,n){He(n,function(a){e.attr(a,null)})},VP=function(e,n,a){e.addNodeFilter("font",function(i){He(i,function(l){var v=n.parse(l.attr("style")),p=l.attr("color"),x=l.attr("face"),A=l.attr("size");p&&(v.color=p),x&&(v["font-family"]=x),A&&(v["font-size"]=a[parseInt(l.attr("size"),10)-1]),l.name="span",l.attr("style",n.serialize(v)),aR(l,["color","face","size"])})})},UP=function(e,n){e.addNodeFilter("strike",function(a){He(a,function(i){var l=n.parse(i.attr("style"));l["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(l))})})},oR=function(e,n){var a=Rl();n.convert_fonts_to_spans&&VP(e,a,yt.explode(n.font_size_legacy_values)),UP(e,a)},WP=function(e,n){n.inline_styles&&oR(e,n)},yT=function(e){return new ui(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="blob",l.onload=function(){l.status===200?n(l.response):i()},l.onerror=i,l.send()}catch{i()}})},wT=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},CT=function(e,n){var a;try{a=atob(n)}catch{return te.none()}for(var i=new Uint8Array(a.length),l=0;l<i.length;l++)i[l]=a.charCodeAt(l);return te.some(new Blob([i],{type:e}))},ST=function(e){return new ui(function(n){var a=wT(e),i=a.type,l=a.data;CT(i,l).fold(function(){return n(new Blob([]))},n)})},iR=function(e){return e.indexOf("blob:")===0?yT(e):e.indexOf("data:")===0?ST(e):null},jP=function(e){return new ui(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},GP=0,xT=function(e){return(e||"blobid")+GP++},qP=function(e,n,a,i){var l,v;if(n.src.indexOf("blob:")===0){v=e.getByUri(n.src),v?a({image:n,blobInfo:v}):iR(n.src).then(function(I){jP(I).then(function(K){l=wT(K).data,v=e.create(xT(),I,l),e.add(v),a({image:n,blobInfo:v})})},function(I){i(I)});return}var p=wT(n.src),x=p.data,A=p.type;l=x,v=e.getByData(l,A),v?a({image:n,blobInfo:v}):iR(n.src).then(function(I){v=e.create(xT(),I,l),e.add(v),a({image:n,blobInfo:v})},function(I){i(I)})},uR=function(e){return e?ur(e.getElementsByTagName("img")):[]},sR=function(e,n){var a={},i=function(l,v){v||(v=at);var p=ot(uR(l),function(A){var I=A.src;return!zn.fileApi||A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!I||I===zn.transparentSrc?!1:I.indexOf("blob:")===0?!e.isUploaded(I)&&v(A):I.indexOf("data:")===0?v(A):!1}),x=Qe(p,function(A){if(a[A.src]!==void 0)return new ui(function(K){a[A.src].then(function(J){if(typeof J=="string")return J;K({image:A,blobInfo:J.blobInfo})})});var I=new ui(function(K,J){qP(n,A,K,J)}).then(function(K){return delete a[K.image.src],K}).catch(function(K){return delete a[A.src],K});return a[A.src]=I,I});return ui.all(x)};return{findAll:i}},LC=function(e,n,a,i){var l=e.padd_empty_with_br||n.insert;l&&a[i.name]?i.empty().append(new ll("br",1)).shortEnded=!0:i.empty().append(new ll("#text",3)).value=us},lR=function(e){return _T(e,"#text")&&e.firstChild.value===us},_T=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},cR=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},_y=function(e,n,a,i){return i.isEmpty(n,a,function(l){return cR(e,l)})},fR=function(e,n){return e&&(kr(n,e.name)||e.name==="br")},vR=function(e){return Xe(e.attr("data-mce-bogus"))},KP=function(e){return e.attr("src")===zn.transparentSrc||Xe(e.attr("data-mce-placeholder"))},kT=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),Nr(e.attributes.map,function(i,l){a.setAttribute(l,i)}),n.images_dataimg_filter(a)}else return!0},XP=function(e,n){var a=n.blob_cache,i=function(l){var v=l.attr("src");KP(l)||vR(l)||W_(v).filter(function(){return kT(l,n)}).bind(function(p){var x=p.type,A=p.data;return te.from(a.getByData(A,x)).orThunk(function(){return CT(x,A).map(function(I){var K=a.create(xT(),I,A);return a.add(K),K})})}).each(function(p){l.attr("src",p.blobUri())})};a&&e.addAttributeFilter("src",function(l){return He(l,i)})},Lk=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,l,v){var p,x=i.length,A,I=yt.extend({},a.getBlockElements()),K=a.getNonEmptyElements(),J,Q,ce,ve,me=a.getWhiteSpaceElements(),he,Oe;for(I.body=1,p=0;p<x;p++)if(A=i[p],J=A.parent,I[A.parent.name]&&A===J.lastChild){for(ce=A.prev;ce;){if(ve=ce.name,ve!=="span"||ce.attr("data-mce-type")!=="bookmark"){ve==="br"&&(A=null);break}ce=ce.prev}A&&(A.remove(),_y(a,K,me,J)&&(he=a.getElementRule(J.name),he&&(he.removeEmpty?J.remove():he.paddEmpty&&LC(n,v,I,J))))}else{for(Q=A;J&&J.firstChild===Q&&J.lastChild===Q&&(Q=J,!I[J.name]);)J=J.parent;Q===J&&n.padd_empty_with_br!==!0&&(Oe=new ll("#text",3),Oe.value=us,A.replace(Oe))}}),e.addAttributeFilter("href",function(i){var l=i.length,v=function(A){var I=A.split(" ").filter(function(K){return K.length>0});return I.concat(["noopener"]).sort().join(" ")},p=function(A){var I=A?yt.trim(A):"";return/\b(noopener)\b/g.test(I)?I:v(I)};if(!n.allow_unsafe_link_target)for(;l--;){var x=i[l];x.name==="a"&&x.attr("target")==="_blank"&&x.attr("rel",p(x.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var l=i.length,v,p,x,A;l--;)if(A=i[l],A.name==="a"&&A.firstChild&&!A.attr("href")){x=A.parent,v=A.lastChild;do p=v.prev,x.insert(v,A),v=p;while(v)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var l=i.length,v,p;l--;)if(v=i[l],p=v.parent,p.name==="ul"||p.name==="ol")if(v.prev&&v.prev.name==="li")v.prev.append(v);else{var x=new ll("li",1);x.attr("style","list-style-type: none"),v.wrap(x)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var l=a.getValidClasses(),v=i.length;v--;){for(var p=i[v],x=p.attr("class").split(" "),A="",I=0;I<x.length;I++){var K=x[I],J=!1,Q=l["*"];Q&&Q[K]&&(J=!0),Q=l[p.name],!J&&Q&&Q[K]&&(J=!0),J&&(A&&(A+=" "),A+=K)}A.length||(A=null),p.attr("class",A)}}),XP(e,n)},dR=yt.makeMap,mR=yt.each,hR=yt.explode,gR=yt.extend,zk=function(e,n){n===void 0&&(n=$s());var a={},i=[],l={},v={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var p=function(ve){for(var me=dR("tr,td,th,tbody,thead,tfoot,table"),he=n.getNonEmptyElements(),Oe=n.getWhiteSpaceElements(),_e=n.getTextBlockElements(),qe=n.getSpecialElements(),We=function(Zt,yn){if(yn===void 0&&(yn=Zt.parent),qe[Zt.name])Zt.empty().remove();else{for(var $t=Zt.children(),hn=0,xr=$t;hn<xr.length;hn++){var ta=xr[hn];n.isValidChild(yn.name,ta.name)||We(ta,yn)}Zt.unwrap()}},Re=0;Re<ve.length;Re++){var Je=ve[Re],St=void 0,Nt=void 0,Hn=void 0;if(!(!Je.parent||Je.fixed)){if(_e[Je.name]&&Je.parent.name==="li"){for(var mn=Je.next;mn&&_e[mn.name];){mn.name="li",mn.fixed=!0,Je.parent.insert(mn,Je.parent);mn=mn.next}Je.unwrap();continue}var Rt=[Je];for(St=Je.parent;St&&!n.isValidChild(St.name,Je.name)&&!me[St.name];St=St.parent)Rt.push(St);if(St&&Rt.length>1)if(n.isValidChild(St.name,Je.name)){Rt.reverse(),Nt=x(Rt[0].clone());for(var Ln=Nt,Vt=0;Vt<Rt.length-1;Vt++){n.isValidChild(Ln.name,Rt[Vt].name)?(Hn=x(Rt[Vt].clone()),Ln.append(Hn)):Hn=Ln;for(var fn=Rt[Vt].firstChild;fn&&fn!==Rt[Vt+1];){var jt=fn.next;Hn.append(fn),fn=jt}Ln=Hn}_y(n,he,Oe,Nt)?St.insert(Je,Rt[0],!0):(St.insert(Nt,Rt[0],!0),St.insert(Je,Nt)),St=Rt[0],(_y(n,he,Oe,St)||_T(St,"br"))&&St.empty().remove()}else We(Je);else if(Je.parent){if(Je.name==="li"){var mn=Je.prev;if(mn&&(mn.name==="ul"||mn.name==="ol")){mn.append(Je);continue}if(mn=Je.next,mn&&(mn.name==="ul"||mn.name==="ol")){mn.insert(Je,mn.firstChild,!0);continue}Je.wrap(x(new ll("ul",1)));continue}n.isValidChild(Je.parent.name,"div")&&n.isValidChild("div",Je.name)?Je.wrap(x(new ll("div",1))):We(Je)}}}},x=function(ve){var me=ve.name;if(me in a){var he=l[me];he?he.push(ve):l[me]=[ve]}for(var Oe=i.length;Oe--;){var _e=i[Oe].name;if(_e in ve.attributes.map){var he=v[_e];he?he.push(ve):v[_e]=[ve]}}return ve},A=function(ve,me){mR(hR(ve),function(he){var Oe=a[he];Oe||(a[he]=Oe=[]),Oe.push(me)})},I=function(){var ve=[];for(var me in a)kr(a,me)&&ve.push({name:me,callbacks:a[me]});return ve},K=function(ve,me){mR(hR(ve),function(he){var Oe;for(Oe=0;Oe<i.length;Oe++)if(i[Oe].name===he){i[Oe].callbacks.push(me);return}i.push({name:he,callbacks:[me]})})},J=function(){return[].concat(i)},Q=function(ve,me){var he,Oe,_e,qe,We,Re,Je,St=[],Nt,Hn=function(et){return et===!1?"":et===!0?"p":et};me=me||{},l={},v={};var mn=gR(dR("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Rt=_0(n),Ln=n.getNonEmptyElements(),Vt=n.children,fn=e.validate,jt="forced_root_block"in me?me.forced_root_block:e.forced_root_block,Zt=Hn(jt),yn=n.getWhiteSpaceElements(),$t=/^[ \t\r\n]+/,hn=/[ \t\r\n]+$/,xr=/[ \t\r\n]+/g,ta=/^[ \t\r\n]+$/,Yr=kr(yn,me.context)||kr(yn,e.root_name),Fi=function(){var et=Dn.firstChild,Ht=null,Pt=function(Nn){Nn&&(et=Nn.firstChild,et&&et.type===3&&(et.value=et.value.replace($t,"")),et=Nn.lastChild,et&&et.type===3&&(et.value=et.value.replace(hn,"")))};if(n.isValidChild(Dn.name,Zt.toLowerCase())){for(;et;){var $n=et.next;et.type===3||et.type===1&&et.name!=="p"&&!mn[et.name]&&!et.attr("data-mce-type")?(Ht||(Ht=ao(Zt,1),Ht.attr(e.forced_root_block_attrs),Dn.insert(Ht,et)),Ht.append(et)):(Pt(Ht),Ht=null),et=$n}Pt(Ht)}},ao=function(et,Ht){var Pt=new ll(et,Ht),$n;return et in a&&($n=l[et],$n?$n.push(Pt):l[et]=[Pt]),Pt},ju=function(et){for(var Ht=n.getBlockElements(),Pt=et.prev;Pt&&Pt.type===3;){var $n=Pt.value.replace(hn,"");if($n.length>0){Pt.value=$n;return}var Nn=Pt.next;if(Nn){if(Nn.type===3&&Nn.value.length){Pt=Pt.prev;continue}if(!Ht[Nn.name]&&Nn.name!=="script"&&Nn.name!=="style"){Pt=Pt.prev;continue}}var ka=Pt.prev;Pt.remove(),Pt=ka}},ps=function(et){var Ht={};for(var Pt in et)Pt!=="li"&&Pt!=="p"&&(Ht[Pt]=et[Pt]);return Ht},Mt=function(et){for(var Ht=et;Xe(Ht);){if(Ht.name in Rt)return _y(n,Ln,yn,Ht);Ht=Ht.parent}return!1},qt=wg({validate:fn,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:ps(n.getSelfClosingElements()),cdata:function(et){Nt.append(ao("#cdata",4)).value=et},text:function(et,Ht){var Pt;Yr||(et=et.replace(xr," "),fR(Nt.lastChild,mn)&&(et=et.replace($t,""))),et.length!==0&&(Pt=ao("#text",3),Pt.raw=!!Ht,Nt.append(Pt).value=et)},comment:function(et){Nt.append(ao("#comment",8)).value=et},pi:function(et,Ht){Nt.append(ao(et,7)).value=Ht,ju(Nt)},doctype:function(et){var Ht=Nt.append(ao("#doctype",10));Ht.value=et,ju(Nt)},start:function(et,Ht,Pt){var $n=fn?n.getElementRule(et):{};if($n){var Nn=ao($n.outputName||et,1);Nn.attributes=Ht,Nn.shortEnded=Pt,Nt.append(Nn);var ka=Vt[Nt.name];ka&&Vt[Nn.name]&&!ka[Nn.name]&&St.push(Nn);for(var ni=i.length;ni--;){var Yo=i[ni].name;Yo in Ht.map&&(Re=v[Yo],Re?Re.push(Nn):v[Yo]=[Nn])}mn[et]&&ju(Nn),Pt||(Nt=Nn),!Yr&&yn[et]&&(Yr=!0)}},end:function(et){var Ht,Pt,$n,Nn=fn?n.getElementRule(et):{};if(Nn){if(mn[et]&&!Yr){if(Ht=Nt.firstChild,Ht&&Ht.type===3)if(Pt=Ht.value.replace($t,""),Pt.length>0)Ht.value=Pt,Ht=Ht.next;else for($n=Ht.next,Ht.remove(),Ht=$n;Ht&&Ht.type===3;)Pt=Ht.value,$n=Ht.next,(Pt.length===0||ta.test(Pt))&&(Ht.remove(),Ht=$n),Ht=$n;if(Ht=Nt.lastChild,Ht&&Ht.type===3)if(Pt=Ht.value.replace(hn,""),Pt.length>0)Ht.value=Pt,Ht=Ht.prev;else for($n=Ht.prev,Ht.remove(),Ht=$n;Ht&&Ht.type===3;)Pt=Ht.value,$n=Ht.prev,(Pt.length===0||ta.test(Pt))&&(Ht.remove(),Ht=$n),Ht=$n}Yr&&yn[et]&&(Yr=!1);var ka=_y(n,Ln,yn,Nt),ni=Nt.parent;Nn.paddInEmptyBlock&&ka&&Mt(Nt)?LC(e,me,mn,Nt):Nn.removeEmpty&&ka?mn[Nt.name]?Nt.empty().remove():Nt.unwrap():Nn.paddEmpty&&(lR(Nt)||ka)&&LC(e,me,mn,Nt),Nt=ni}}},n),Dn=Nt=new ll(me.context||e.root_name,11);if(qt.parse(ve,me.format),fn&&St.length&&(me.context?me.invalid=!0:p(St)),Zt&&(Dn.name==="body"||me.isRootContent)&&Fi(),!me.invalid){for(Je in l)if(kr(l,Je)){for(Re=a[Je],he=l[Je],qe=he.length;qe--;)he[qe].parent||he.splice(qe,1);for(Oe=0,_e=Re.length;Oe<_e;Oe++)Re[Oe](he,Je,me)}for(Oe=0,_e=i.length;Oe<_e;Oe++)if(Re=i[Oe],Re.name in v){for(he=v[Re.name],qe=he.length;qe--;)he[qe].parent||he.splice(qe,1);for(qe=0,We=Re.callbacks.length;qe<We;qe++)Re.callbacks[qe](he,Re.name,me)}}return Dn},ce={schema:n,addAttributeFilter:K,getAttributeFilters:J,addNodeFilter:A,getNodeFilters:I,filterNode:x,parse:Q};return Lk(ce,e),WP(ce,e),ce},YP=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,l){for(var v=i.length;v--;){var p=i[v];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(l,null)}}),e.addAttributeFilter("src,href,style",function(i,l){for(var v="data-mce-"+l,p=n.url_converter,x=n.url_converter_scope,A=i.length;A--;){var I=i[A],K=I.attr(v);K!==void 0?(I.attr(l,K.length>0?K:null),I.attr(v,null)):(K=I.attr(l),l==="style"?K=a.serializeStyle(a.parseStyle(K),I.name):p&&(K=p.call(x,K,l,I.name)),I.attr(l,K.length>0?K:null))}}),e.addAttributeFilter("class",function(i){for(var l=i.length;l--;){var v=i[l],p=v.attr("class");p&&(p=v.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),v.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",function(i,l,v){for(var p=i.length;p--;){var x=i[p];if(x.attr("data-mce-type")==="bookmark"&&!v.cleanup){var A=te.from(x.firstChild).exists(function(I){return!gu(I.value)});A?x.unwrap():x.remove()}}}),e.addNodeFilter("noscript",function(i){for(var l=i.length;l--;){var v=i[l].firstChild;v&&(v.value=Bs.decode(v.value))}}),e.addNodeFilter("script,style",function(i,l){for(var v=function(K){return K.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},p=i.length;p--;){var x=i[p],A=x.firstChild?x.firstChild.value:"";if(l==="script"){var I=x.attr("type");I&&x.attr("type",I==="mce-no/type"?null:I.replace(/^mce\-/,"")),n.element_format==="xhtml"&&A.length>0&&(x.firstChild.value=`// <![CDATA[
`+v(A)+`
// ]]>`)}else n.element_format==="xhtml"&&A.length>0&&(x.firstChild.value=`<!--
`+v(A)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var l=i.length;l--;){var v=i[l];n.preserve_cdata&&v.value.indexOf("[CDATA[")===0?(v.name="#cdata",v.type=4,v.value=a.decode(v.value.replace(/^\[CDATA\[|\]\]$/g,""))):v.value.indexOf("mce:protected ")===0&&(v.name="#text",v.type=3,v.raw=!0,v.value=unescape(v.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,l){for(var v=i.length;v--;){var p=i[v];p.type===7?p.remove():p.type===1&&l==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){He(i,function(l){l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,l){for(var v=i.length;v--;)i[v].attr(l,null)})},JP=function(e){var n=function(l){return l&&l.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},ZP=function(e,n,a){var i,l=e.dom,v=n.cloneNode(!0),p=document.implementation;if(p.createHTMLDocument){var x=p.createHTMLDocument("");yt.each(v.nodeName==="BODY"?v.childNodes:[v],function(A){x.body.appendChild(x.importNode(A,!0))}),v.nodeName!=="BODY"?v=x.body.firstChild:v=x.body,i=l.doc,l.doc=x}return W4(e,Un(Un({},a),{node:v})),i&&(l.doc=i),v},QP=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},pR=function(e,n,a){return QP(e,a)?ZP(e,n,a):n},eI=function(e,n,a){yt.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,l){for(var v=i.length;v--;)i[v].attr(l,null)}),n.push(a))},tI=function(e,n,a){if(!n.no_events&&e){var i=Fw(e,Un(Un({},n),{content:a}));return i.content}else return a},nI=function(e,n,a){var i=uc(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||Fd(je.fromDom(n))?i:yt.trim(i)},rI=function(e,n,a){var i=a.selection?Un({forced_root_block:!1},a):a,l=e.parse(n,i);return JP(l),l},aI=function(e,n,a){var i=_m(e,n);return i.serialize(a)},oI=function(e,n,a,i,l){var v=aI(n,a,i);return tI(e,l,v)},iI=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:Ma.DOM,l=n&&n.schema?n.schema:$s(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var v=zk(e,l);YP(v,e,i);var p=function(x,A){A===void 0&&(A={});var I=Un({format:"html"},A),K=pR(n,x,I),J=nI(i,K,I),Q=rI(v,J,I);return I.format==="tree"?Q:oI(n,e,l,Q,I)};return{schema:l,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:p,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:se(eI,v,a),getTempAttrs:U(a),getNodeFilters:v.getNodeFilters,getAttributeFilters:v.getAttributeFilters}},bR=function(e,n){var a=iI(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},yR="html",uI=function(e,n){n===void 0&&(n={});var a=n.format?n.format:yR;return NC(e,n,a)},AT=function(e,n,a){return a===void 0&&(a={}),KD(e,n,a)},Hk=Ma.DOM,sI=function(e){Hk.setStyle(e.id,"display",e.orgDisplay)},Vk=function(e){return te.from(e).each(function(n){return n.destroy()})},zC=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},lI=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),Hk.unbind(n,"submit reset",e.formEventDelegate))},cI=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),l=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&l&&Hk.remove(l.nextSibling),o_(e),e.editorManager.remove(e),!e.inline&&i&&sI(e),i_(e),Hk.remove(e.getContainer()),Vk(n),Vk(a),e.destroy()}},wR=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Vk(a),Vk(i)),lI(e),zC(e),e.destroyed=!0}},CR=function(e,n){var a=de(e)&&de(n);return a?SR(e,n):n},fI=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},l=0;l<n.length;l++){var v=n[l];for(var p in v)kr(v,p)&&(i[p]=e(i[p],v[p]))}return i}},SR=fI(CR),vI="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),HC="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),xR="imagetools,toc".split(","),_R=function(e){var n=ot(vI,function(i){return kr(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&n.push("forced_root_block (false only)"),Jr(n)},dI=function(e){var n=yt.makeMap(e.plugins," "),a=function(l){return kr(n,l)},i=Ou(Ou([],ot(HC,a),!0),ir(xR,function(l){return a(l)?[l+" (moving to premium)"]:[]}),!0);return Jr(i)},kR=function(e,n){var a=_R(e),i=dI(n),l=i.length>0,v=a.length>0,p=n.theme==="mobile";if(l||v||p){var x=`
- `,A=p?`

Themes:`+x+"mobile":"",I=l?`

Plugins:`+x+i.join(x):"",K=v?`

Settings:`+x+a.join(x):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+A+I+K)}},mI=function(e,n){return{sections:U(e),settings:U(n)}},ET=Rn().deviceType,hI=ET.isTouch(),TT=ET.isPhone(),gI=ET.isTablet(),pI=["lists","autolink","autosave"],AR={table_grid:!1,object_resizing:!1,resize:!1},ky=function(e){var n=$e(e)?e.join(" "):e,a=Qe(Be(n)?n.split(" "):[],Xs);return ot(a,function(i){return i.length>0})},bI=function(e){return ot(e,se(Ae,pI))},yI=function(e,n){var a=Dr(n,function(i,l){return Ae(e,l)});return mI(a.t,a.f)},VC=function(e,n,a){a===void 0&&(a={});var i=e.sections(),l=Rr(i,n).getOr({});return yt.extend({},a,l)},UC=function(e,n){return kr(e.sections(),n)},ER=function(e,n,a){var i=e.sections();return UC(e,n)&&i[n].theme===a},wI=function(e,n){return UC(e,n)?e.sections()[n]:{}},TR=function(e,n){return Rr(e,"toolbar_mode").orThunk(function(){return Rr(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},CI=function(e,n,a,i,l){var v={id:n,theme:"silver",toolbar_mode:TR(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l};return Un(Un({},v),i?AR:{})},OR=function(e,n){var a={resize:!1,toolbar_mode:TR(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return Un(Un(Un({},AR),a),n?i:{})},SI=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?yt.extend({},e.external_plugins,a):a},xI=function(e,n){return[].concat(ky(e)).concat(ky(n))},_I=function(e,n,a,i){return e&&ER(n,"mobile","mobile")?bI(i):e&&UC(n,"mobile")?i:a},kI=function(e,n,a,i){var l=ky(a.forced_plugins),v=ky(i.plugins),p=wI(n,"mobile"),x=p.plugins?ky(p.plugins):v,A=_I(e,n,v,x),I=xI(l,A);if(zn.browser.isIE()&&Ae(I,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return yt.extend(i,{plugins:I.join(" ")})},AI=function(e,n){return e&&UC(n,"mobile")},ku=function(e,n,a,i,l){var v=e?{mobile:OR(l.mobile||{},n)}:{},p=yI(["mobile"],SR(v,l)),x=yt.extend(a,i,p.settings(),AI(e,p)?VC(p,"mobile"):{},{validate:!0,external_plugins:SI(i,p.settings())});return kI(e,p,i,x)},DR=function(e,n,a,i,l){var v=CI(l,n,a,hI,e),p=ku(TT||gI,TT,v,i,l);return p.deprecation_warnings!==!1&&kR(l,p),p},k1=function(e,n,a){return te.from(n.settings[a]).filter(e)},EI=function(e){var n={};return typeof e=="string"?He(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[yt.trim(i[0])]=yt.trim(i[1]):n[yt.trim(i[0])]=yt.trim(i[0])}):n=e,n},TI=function(e){return function(n){return $e(n)&&jr(n,e)}},OI=function(e,n,a,i){var l=n in e.settings?e.settings[n]:a;return i==="hash"?EI(l):i==="string"?k1(Be,e,n).getOr(a):i==="number"?k1(pe,e,n).getOr(a):i==="boolean"?k1(Ee,e,n).getOr(a):i==="object"?k1(de,e,n).getOr(a):i==="array"?k1($e,e,n).getOr(a):i==="string[]"?k1(TI(Be),e,n).getOr(a):i==="function"?k1(le,e,n).getOr(a):l},Xr=function(){var e={},n=function(l,v){e[l]=v},a=function(l){return e[l]?e[l]:{icons:{}}},i=function(l){return kr(e,l)};return{add:n,get:a,has:i}},Uk=Xr(),RR=function(e,n){var a=n.dom;return a[e]},BR=function(e,n){return parseInt(dr(n,e),10)},To=se(RR,"clientWidth"),DI=se(RR,"clientHeight"),WC=se(BR,"margin-top"),RI=se(BR,"margin-left"),BI=function(e){return e.dom.getBoundingClientRect()},$I=function(e,n,a){var i=To(e),l=DI(e);return n>=0&&a>=0&&n<=i&&a<=l},$R=function(e,n,a,i){var l=BI(n),v=e?l.left+n.dom.clientLeft+RI(n):0,p=e?l.top+n.dom.clientTop+WC(n):0,x=a-v,A=i-p;return{x,y:A}},Tm=function(e,n,a){var i=je.fromDom(e.getBody()),l=e.inline?i:rs(i),v=$R(e.inline,l,n,a);return $I(l,v.x,v.y)},zl=function(e){return te.from(e).map(je.fromDom)},jC=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return zl(n).map(Hf).getOr(!1)},A1=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},mv=function(e){var n=[],a=function(){var Q=e.theme;return Q&&Q.getNotificationManagerImpl?Q.getNotificationManagerImpl():A1()},i=function(){return te.from(n[0])},l=function(Q,ce){return Q.type===ce.type&&Q.text===ce.text&&!Q.progressBar&&!Q.timeout&&!ce.progressBar&&!ce.timeout},v=function(){n.length>0&&a().reposition(n)},p=function(Q){n.push(Q)},x=function(Q){pn(n,function(ce){return ce===Q}).each(function(ce){n.splice(ce,1)})},A=function(Q,ce){if(ce===void 0&&(ce=!0),!(e.removed||!jC(e)))return ce&&e.fire("BeforeOpenNotification",{notification:Q}),nn(n,function(ve){return l(a().getArgs(ve),Q)}).getOrThunk(function(){e.editorManager.setActive(e);var ve=a().open(Q,function(){x(ve),v(),i().fold(function(){return e.focus()},function(me){return Ub(je.fromDom(me.getEl()))})});return p(ve),v(),e.fire("OpenNotification",{notification:Un({},ve)}),ve})},I=function(){i().each(function(Q){a().close(Q),x(Q),v()})},K=U(n),J=function(Q){Q.on("SkinLoaded",function(){var ce=Bx(Q);ce&&A({text:ce,type:"warning",timeout:0},!1),v()}),Q.on("show ResizeEditor ResizeWindow NodeChange",function(){ji.requestAnimationFrame(v)}),Q.on("remove",function(){He(n.slice(),function(ce){a().close(ce)})})};return J(e),{open:A,close:I,getNotifications:K}},cl=Fu.PluginManager,Sd=Fu.ThemeManager;function OT(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var DT=function(e){var n=[],a=function(){var me=e.theme;return me&&me.getWindowManagerImpl?me.getWindowManagerImpl():OT()},i=function(me,he){return function(){for(var Oe=[],_e=0;_e<arguments.length;_e++)Oe[_e]=arguments[_e];return he?he.apply(me,Oe):void 0}},l=function(me){e.fire("OpenWindow",{dialog:me})},v=function(me){e.fire("CloseWindow",{dialog:me})},p=function(me){n.push(me),l(me)},x=function(me){v(me),n=ot(n,function(he){return he!==me}),n.length===0&&e.focus()},A=function(){return te.from(n[n.length-1])},I=function(me){e.editorManager.setActive(e),jb(e);var he=me();return p(he),he},K=function(me,he){return I(function(){return a().open(me,he,x)})},J=function(me){return I(function(){return a().openUrl(me,x)})},Q=function(me,he,Oe){var _e=a();_e.alert(me,i(Oe||_e,he))},ce=function(me,he,Oe){var _e=a();_e.confirm(me,i(Oe||_e,he))},ve=function(){A().each(function(me){a().close(me),x(me)})};return e.on("remove",function(){He(n,function(me){a().close(me)})}),{open:K,openUrl:J,alert:Q,confirm:ce,close:ve}},RT=function(e,n){e.notificationManager.open({type:"error",text:n})},Wk=function(e,n){e._skinLoaded?RT(e,n):e.on("SkinLoaded",function(){RT(e,n)})},MR=function(e,n){Wk(e,wu.translate(["Failed to upload image: {0}",n]))},jk=function(e,n,a){Fb(e,n,{message:a}),console.error(a)},BT=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},Gk=function(e,n,a){jk(e,"PluginLoadError",BT("plugin",n,a))},MI=function(e,n,a){jk(e,"IconsLoadError",BT("icons",n,a))},GC=function(e,n,a){jk(e,"LanguageLoadError",BT("language",n,a))},PR=function(e,n,a){var i=wu.translate(["Failed to initialize plugin: {0}",n]);Fb(e,"PluginLoadError",{message:i}),qC(i,a),Wk(e,i)},qC=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,Ou([e],n,!1)):i.log.apply(i,Ou([e],n,!1)))},Om=function(e){return/^[a-z0-9\-]+$/i.test(e)},$T=function(e){return IR(e,Tx(e))},PI=function(e){return IR(e,Ox(e))},IR=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,l="content"+i+".css",v=e.inline===!0;return Qe(n,function(p){return Om(p)&&!v?a+"/"+p+"/"+l:e.documentBaseURI.toAbsolute(p)})},II=function(e){e.contentCSS=e.contentCSS.concat($T(e),PI(e))},E1=function(){var e=1,n=2,a={},i=function(Q,ce){return{status:Q,resultUri:ce}},l=function(Q){return Q in a},v=function(Q){var ce=a[Q];return ce?ce.resultUri:null},p=function(Q){return l(Q)?a[Q].status===e:!1},x=function(Q){return l(Q)?a[Q].status===n:!1},A=function(Q){a[Q]=i(e,null)},I=function(Q,ce){a[Q]=i(n,ce)},K=function(Q){delete a[Q]},J=function(){a={}};return{hasBlobUri:l,getResultUri:v,isPending:p,isUploaded:x,markPending:A,markUploaded:I,removeFailed:K,destroy:J}},NI=0,FI=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},Ji=function(e){return e+NI+++FI()},LI=function(){var e=[],n=function(J){var Q={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return Q[J.toLowerCase()]||"dat"},a=function(J,Q,ce,ve,me){if(Be(J)){var he=J;return i({id:he,name:ve,filename:me,blob:Q,base64:ce})}else{if(de(J))return i(J);throw new Error("Unknown input type")}},i=function(J){if(!J.blob||!J.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var Q=J.id||Ji("blobid"),ce=J.name||Q,ve=J.blob;return{id:U(Q),name:U(ce),filename:U(J.filename||ce+"."+n(ve.type)),blob:U(ve),base64:U(J.base64),blobUri:U(J.blobUri||URL.createObjectURL(ve)),uri:U(J.uri)}},l=function(J){p(J.id())||e.push(J)},v=function(J){return nn(e,J).getOrUndefined()},p=function(J){return v(function(Q){return Q.id()===J})},x=function(J){return v(function(Q){return Q.blobUri()===J})},A=function(J,Q){return v(function(ce){return ce.base64()===J&&ce.blob().type===Q})},I=function(J){e=ot(e,function(Q){return Q.blobUri()===J?(URL.revokeObjectURL(Q.blobUri()),!1):!0})},K=function(){He(e,function(J){URL.revokeObjectURL(J.blobUri())}),e=[]};return{create:a,add:l,get:p,getByUri:x,getByData:A,findFirst:v,removeByUri:I,destroy:K}},NR=function(e,n){var a={},i=function(ve,me){return ve?ve.replace(/\/$/,"")+"/"+me.replace(/^\//,""):me},l=function(ve,me,he,Oe){var _e=new XMLHttpRequest;_e.open("POST",n.url),_e.withCredentials=n.credentials,_e.upload.onprogress=function(We){Oe(We.loaded/We.total*100)},_e.onerror=function(){he("Image upload failed due to a XHR Transport error. Code: "+_e.status)},_e.onload=function(){if(_e.status<200||_e.status>=300){he("HTTP Error: "+_e.status);return}var We=JSON.parse(_e.responseText);if(!We||typeof We.location!="string"){he("Invalid JSON: "+_e.responseText);return}me(i(n.basePath,We.location))};var qe=new FormData;qe.append("file",ve.blob(),ve.filename()),_e.send(qe)},v=function(){return new ui(function(ve){ve([])})},p=function(ve,me){return{url:me,blobInfo:ve,status:!0}},x=function(ve,me,he){return{url:"",blobInfo:ve,status:!1,error:{message:me,options:he}}},A=function(ve,me){yt.each(a[ve],function(he){he(me)}),delete a[ve]},I=function(ve,me,he){return e.markPending(ve.blobUri()),new ui(function(Oe){var _e,qe;try{var We=function(){_e&&(_e.close(),qe=ye)},Re=function(St){We(),e.markUploaded(ve.blobUri(),St),A(ve.blobUri(),p(ve,St)),Oe(p(ve,St))},Je=function(St,Nt){var Hn=Nt||{};We(),e.removeFailed(ve.blobUri()),A(ve.blobUri(),x(ve,St,Hn)),Oe(x(ve,St,Hn))};qe=function(St){St<0||St>100||te.from(_e).orThunk(function(){return te.from(he).map($)}).each(function(Nt){_e=Nt,Nt.progressBar.value(St)})},me(ve,Re,Je,qe)}catch(St){Oe(x(ve,St.message,{}))}})},K=function(ve){return ve===l},J=function(ve){var me=ve.blobUri();return new ui(function(he){a[me]=a[me]||[],a[me].push(he)})},Q=function(ve,me){return ve=yt.grep(ve,function(he){return!e.isUploaded(he.blobUri())}),ui.all(yt.map(ve,function(he){return e.isPending(he.blobUri())?J(he):I(he,n.handler,me)}))},ce=function(ve,me){return!n.url&&K(n.handler)?v():Q(ve,me)};return le(n.handler)===!1&&(n.handler=l),{upload:ce}},MT=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},PT=function(e,n){return NR(n,{url:s4(e),basePath:nd(e),credentials:rd(e),handler:l4(e)})},FR=function(e){var n=E1(),a=PT(e,n);return{upload:function(i,l){return l===void 0&&(l=!0),a.upload(i,l?MT(e):void 0)}}},IT=function(e){var n=yu(null);e.on("change AddUndo",function(i){n.set(Un({},i.level))});var a=function(){var i=e.undoManager.data;Hr(i).filter(function(l){return!km(n.get(),l)}).each(function(l){e.setDirty(!0),e.fire("change",{level:l,lastLevel:Ir(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},zI=function(e){var n=LI(),a,i,l=E1(),v=[],p=IT(e),x=function(We){return function(Re){return e.selection?We(Re):[]}},A=function(We){return We+(We.indexOf("?")===-1?"?":"&")+new Date().getTime()},I=function(We,Re,Je){var St=0;do St=We.indexOf(Re,St),St!==-1&&(We=We.substring(0,St)+Je+We.substr(St+Re.length),St+=Je.length-Re.length+1);while(St!==-1);return We},K=function(We,Re,Je){var St='src="'+Je+'"'+(Je===zn.transparentSrc?' data-mce-placeholder="1"':"");return We=I(We,'src="'+Re+'"',St),We=I(We,'data-mce-src="'+Re+'"','data-mce-src="'+Je+'"'),We},J=function(We,Re){He(e.undoManager.data,function(Je){Je.type==="fragmented"?Je.fragments=Qe(Je.fragments,function(St){return K(St,We,Re)}):Je.content=K(Je.content,We,Re)})},Q=function(We,Re){var Je=e.convertURL(Re,"src");J(We.src,Re),e.$(We).attr({src:nw(e)?A(Re):Re,"data-mce-src":Je})},ce=function(We){return a||(a=PT(e,l)),Oe().then(x(function(Re){var Je=Qe(Re,function(St){return St.blobInfo});return a.upload(Je,MT(e)).then(x(function(St){var Nt=[],Hn=Qe(St,function(mn,Rt){var Ln=Re[Rt].blobInfo,Vt=Re[Rt].image;return mn.status&&u4(e)?(n.removeByUri(Vt.src),Em(e)||Q(Vt,mn.url)):mn.error&&(mn.error.options.remove&&(J(Vt.getAttribute("src"),zn.transparentSrc),Nt.push(Vt)),MR(e,mn.error.message)),{element:Vt,status:mn.status,uploadUri:mn.url,blobInfo:Ln}});return Hn.length>0&&p.fireIfChanged(),Nt.length>0&&(Em(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){He(Nt,function(mn){e.dom.remove(mn),n.removeByUri(mn.src)})})),We&&We(Hn),Hn}))}))},ve=function(We){if(qp(e))return ce(We)},me=function(We){if(jr(v,function(Je){return Je(We)})===!1)return!1;if(We.getAttribute("src").indexOf("data:")===0){var Re=cb(e);return Re(We)}return!0},he=function(We){v.push(We)},Oe=function(){return i||(i=sR(l,n)),i.findAll(e.getBody(),me).then(x(function(We){return We=ot(We,function(Re){return typeof Re=="string"?(Wk(e,Re),!1):!0}),Em(e)||He(We,function(Re){J(Re.image.src,Re.blobInfo.blobUri()),Re.image.src=Re.blobInfo.blobUri(),Re.image.removeAttribute("data-mce-src")}),We}))},_e=function(){n.destroy(),l.destroy(),i=a=null},qe=function(We){return We.replace(/src="(blob:[^"]+)"/g,function(Re,Je){var St=l.getResultUri(Je);if(St)return'src="'+St+'"';var Nt=n.getByUri(Je);if(Nt||(Nt=Ot(e.editorManager.get(),function(mn,Rt){return mn||Rt.editorUpload&&Rt.editorUpload.blobCache.getByUri(Je)},null)),Nt){var Hn=Nt.blob();return'src="data:'+Hn.type+";base64,"+Nt.base64()+'"'}return Re})};return e.on("SetContent",function(){qp(e)?ve():Oe()}),e.on("RawSaveContent",function(We){We.content=qe(We.content)}),e.on("GetContent",function(We){We.source_view||We.format==="raw"||We.format==="tree"||(We.content=qe(We.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(We){He(We,function(Re){var Je=Re.attr("src");if(!n.getByUri(Je)){var St=l.getResultUri(Je);St&&Re.attr("src",St)}})})}),{blobCache:n,addFilter:he,uploadImages:ce,uploadImagesAuto:ve,scanForImages:Oe,destroy:_e}},HI=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,l){return qn(a)&&a.hasAttribute("href")},onformat:function(a,i,l){yt.each(l,function(v,p){e.setAttrib(a,p,v)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return yt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},VI=function(e){var n={},a=function(p){return Xe(p)?n[p]:n},i=function(p){return kr(n,p)},l=function(p,x){p&&(Be(p)?($e(x)||(x=[x]),He(x,function(A){De(A.deep)&&(A.deep=!vs(A)),De(A.split)&&(A.split=!vs(A)||Pi(A)),De(A.remove)&&vs(A)&&!Pi(A)&&(A.remove="none"),vs(A)&&Pi(A)&&(A.mixed=!0,A.block_expand=!0),Be(A.classes)&&(A.classes=A.classes.split(/\s+/))}),n[p]=x):Nr(p,function(A,I){l(I,A)}))},v=function(p){return p&&n[p]&&delete n[p],n};return l(HI(e.dom)),l(f4(e)),{get:a,has:i,register:l,unregister:v}},qk=yt.each,hs=Ma.DOM,hv=function(e,n){var a,i,l,v=n&&n.schema||$s({}),p=function(K,J){J.classes.length&&hs.addClass(K,J.classes.join(" ")),hs.setAttribs(K,J.attrs)},x=function(K){i=typeof K=="string"?{name:K,classes:[],attrs:{}}:K;var J=hs.create(i.name);return p(J,i),J},A=function(K,J){var Q=typeof K!="string"?K.nodeName.toLowerCase():K,ce=v.getElementRule(Q),ve=ce&&ce.parentsRequired;return ve&&ve.length?J&&yt.inArray(ve,J)!==-1?J:ve[0]:!1},I=function(K,J,Q){var ce,ve,me=J.length>0&&J[0],he=me&&me.name,Oe=A(K,he);if(Oe)he===Oe?(ve=J[0],J=J.slice(1)):ve=Oe;else if(me)ve=J[0],J=J.slice(1);else if(!Q)return K;return ve&&(ce=x(ve),ce.appendChild(K)),Q&&(ce||(ce=hs.create("div"),ce.appendChild(K)),yt.each(Q,function(_e){var qe=x(_e);ce.insertBefore(qe,K)})),I(ce,J,ve&&ve.siblings)};return e&&e.length?(i=e[0],a=x(i),l=hs.create("div"),l.appendChild(I(a,e.slice(1),i.siblings)),l):""},UI=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=yt.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,l,v,p,x){switch(l){case"#":a.attrs.id=v;break;case".":a.classes.push(v);break;case":":yt.inArray("checked disabled enabled read-only required".split(" "),v)!==-1&&(a.attrs[v]=v);break}if(p==="["){var A=x.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(a.attrs[A[1]]=A[2])}return""})),a.name=n||"div",a},WI=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),yt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=yt.map(n.split(/(?:~\+|~|\+)/),UI),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},jI=function(e,n){var a,i,l="",v,p=jh(e);if(p==="")return"";var x=function(J){return J.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var A=Rr(n,"preview");if(Id(A,!1))return"";p=A.getOr(p)}a=n.block||n.inline||"span";var I=WI(n.selector);I.length?(I[0].name||(I[0].name=a),a=n.selector,i=hv(I,e)):i=hv([a],e);var K=hs.select(a,i)[0]||i.firstChild;return qk(n.styles,function(J,Q){var ce=x(J);ce&&hs.setStyle(K,Q,ce)}),qk(n.attributes,function(J,Q){var ce=x(J);ce&&hs.setAttrib(K,Q,ce)}),qk(n.classes,function(J){var Q=x(J);hs.hasClass(K,Q)||hs.addClass(K,Q)}),e.fire("PreviewFormats"),hs.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),v=hs.getStyle(e.getBody(),"fontSize",!0),v=/px$/.test(v)?parseInt(v,10):0,qk(p.split(" "),function(J){var Q=hs.getStyle(K,J,!0);if(!(J==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Q)&&(Q=hs.getStyle(e.getBody(),J,!0),hs.toHex(Q).toLowerCase()==="#ffffff"))&&!(J==="color"&&hs.toHex(Q).toLowerCase()==="#000000")){if(J==="font-size"&&/em|%$/.test(Q)){if(v===0)return;var ce=parseFloat(Q)/(/%$/.test(Q)?100:1);Q=ce*v+"px"}J==="border"&&Q&&(l+="padding:0 2px;"),l+=J+":"+Q+";"}}),e.fire("AfterPreviewFormats"),hs.remove(i),l},GI=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},LR=function(e){var n=VI(e),a=yu(null);return GI(e),ZE(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,l,v){NP(e,i,l,v)},remove:function(i,l,v,p){Ig(e,i,l,v,p)},toggle:function(i,l,v){hT(e,i,l,v)},match:function(i,l,v,p){return IC(e,i,l,v,p)},closest:function(i){return IP(e,i)},matchAll:function(i,l){return jD(e,i,l)},matchNode:function(i,l,v,p){return GD(e,i,l,v,p)},canApply:function(i){return Nk(e,i)},formatChanged:function(i,l,v,p){return qD(e,a,i,l,v,p)},getCssText:se(jI,e)}},Oo=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},zR=function(e,n,a){var i=yu(!1),l=function(A){Am(n,!1,a),n.add({},A)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(A){var I=A.command;Oo(I)||(Pk(n,a),n.beforeChange())}),e.on("ExecCommand",function(A){var I=A.command;Oo(I)||l(A)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",function(A){var I=A.keyCode;A.isDefaultPrevented()||((I>=33&&I<=36||I>=37&&I<=40||I===45||A.ctrlKey)&&(l(),e.nodeChanged()),(I===46||I===8)&&e.nodeChanged(),i.get()&&n.typing&&km(xy(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(A){var I=A.keyCode;if(!A.isDefaultPrevented()){if(I>=33&&I<=36||I>=37&&I<=40||I===45){n.typing&&l(A);return}var K=A.ctrlKey&&!A.altKey||A.metaKey;(I<16||I>20)&&I!==224&&I!==91&&!n.typing&&!K&&(n.beforeChange(),Am(n,!0,a),n.add({},A),i.set(!0))}}),e.on("mousedown",function(A){n.typing&&l(A)});var v=function(A){return A.inputType==="insertReplacementText"},p=function(A){return A.inputType==="insertText"&&A.data===null},x=function(A){return A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop"};e.on("input",function(A){A.inputType&&(v(A)||p(A)||x(A))&&l(A)}),e.on("AddUndo Undo Redo ClearUndos",function(A){A.isDefaultPrevented()||e.nodeChanged()})},HR=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},hf=function(e){var n=Qv(),a=yu(0),i=yu(0),l={data:[],typing:!1,beforeChange:function(){RP(e,a,n)},add:function(v,p){return zD(e,l,i,a,n,v,p)},undo:function(){return HD(e,l,a,i)},redo:function(){return VD(e,i,l.data)},clear:function(){UD(e,l,i)},reset:function(){WD(e,l)},hasUndo:function(){return BP(e,l,i)},hasRedo:function(){return $P(e,l,i)},transact:function(v){return MP(e,l,a,v)},ignore:function(v){PP(e,a,v)},extra:function(v,p){mT(e,l,i,v,p)}};return Em(e)||zR(e,l,a),HR(e),l},VR=[9,27,Vn.HOME,Vn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Vn.DOWN,Vn.UP,Vn.LEFT,Vn.RIGHT].concat(zn.browser.isFirefox()?[224]:[]),UR="data-mce-placeholder",WR=function(e){return e.type==="keydown"||e.type==="keyup"},Kk=function(e){var n=e.keyCode;return n===Vn.BACKSPACE||n===Vn.DELETE},qI=function(e){if(WR(e)){var n=e.keyCode;return!Kk(e)&&(Vn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Ae(VR,n))}else return!1},Ay=function(e){return WR(e)&&!(Kk(e)||e.type==="keyup"&&e.keyCode===229)},KI=function(e,n,a){if(Ti(je.fromDom(n),!1)){var i=a==="",l=n.firstElementChild;return l?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(l):a===l.nodeName.toLowerCase():!0}else return!1},jR=function(e){var n=e.dom,a=$i(e),i=aw(e),l=function(v,p){if(!qI(v)){var x=e.getBody(),A=Ay(v)?!1:KI(n,x,a),I=n.getAttrib(x,UR)!=="";(I!==A||p)&&(n.setAttrib(x,UR,A?i:null),n.setAttrib(x,"aria-placeholder",A?i:null),l_(e,A),e.on(A?"keydown":"keyup",l),e.off(A?"keyup":"keydown",l))}};i&&e.on("init",function(v){l(v,!0),e.on("change SetContent ExecCommand",l),e.on("paste",function(p){return ji.setEditorTimeout(e,function(){return l(p)})})})},GR=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,NT=function(e){return GR.test(e)},Ng=function(e,n){return Zl(je.fromDom(n),av(e))},FT=function(e){return Ma.DOM.getStyle(e,"direction",!0)==="rtl"||NT(e.textContent)},XI=function(e,n,a){return ot(Ma.DOM.getParents(a.container(),"*",n),e)},Fg=function(e,n,a){var i=XI(e,n,a);return te.from(i[i.length-1])},YI=function(e,n,a){var i=hc(n,e),l=hc(a,e);return i&&i===l},gf=function(e){return Pn(e)||b0(e)},Sc=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?Ea(a)?gn(a.nextSibling)?dt(a.nextSibling,0):dt.after(a):Pn(n)?dt(a,i+1):n:Ea(a)?gn(a.previousSibling)?dt(a.previousSibling,a.previousSibling.data.length):dt.before(a):b0(n)?dt(a,i-1):n},qR=se(Sc,!0),KR=se(Sc,!1),KC=function(e){return function(n){return Ba(e,je.fromDom(n.dom.parentNode))}},JI=function(e){return Hc(e)||Gi(e)},XC=function(e,n){return Hi(e,n)?hh(n,JI,KC(e)):te.none()},XR=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},LT=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),XR(e))},ZI=function(e,n,a){return eu(ou(a),ol(a),function(i,l){var v=Sc(!0,i),p=Sc(!1,l),x=Sc(!1,n);return e?Ml(a,x).exists(function(A){return A.isEqual(p)&&n.isEqual(v)}):bc(a,x).exists(function(A){return A.isEqual(v)&&n.isEqual(p)})}).getOr(!0)},QI=function(e,n){return{block:e,position:n}},Lg=function(e,n){return{from:e,to:n}},zT=function(e,n){var a=je.fromDom(e),i=je.fromDom(n.container());return XC(a,i).map(function(l){return QI(l,n)})},eN=function(e){return Ba(e.from.block,e.to.block)===!1},tN=function(e){return eo(e.from.block).bind(function(n){return eo(e.to.block).filter(function(a){return Ba(n,a)})}).isSome()},nN=function(e){return La(e.from.block.dom)===!1&&La(e.to.block.dom)===!1},rN=function(e,n,a){return ya(a.position.getNode())&&Ti(a.block)===!1?ov(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?Hu(n,e,i).bind(function(l){return zT(e,l)}):te.some(a)}).getOr(a):a},aN=function(e,n,a){var i=zT(e,dt.fromRangeStart(a)),l=i.bind(function(v){return Hu(n,e,v.position).bind(function(p){return zT(e,p).map(function(x){return rN(e,n,x)})})});return eu(i,l,Lg).filter(function(v){return eN(v)&&tN(v)&&nN(v)})},oN=function(e,n,a){return a.collapsed?aN(e,n,a):te.none()},iN=function(e){var n=Qi(e);return pn(n,Ts).fold(U(n),function(a){return n.slice(0,a)})},YR=function(e){var n=iN(e);return He(n,co),n},JR=function(e,n){var a=yc(n,e);return nn(a.reverse(),function(i){return Ti(i)}).each(co)},uN=function(e){return ot(Gr(e),function(n){return!Ti(n)}).length===0},sN=function(e,n,a,i){if(Ti(a))return ff(a),ou(a.dom);uN(i)&&Ti(n)&&ki(i,je.fromTag("br"));var l=bc(a.dom,dt.before(i.dom));return He(YR(n),function(v){ki(i,v)}),JR(e,n),l},YC=function(e,n,a){if(Ti(a))return co(a),Ti(n)&&ff(n),ou(n.dom);var i=ol(a.dom);return He(YR(n),function(l){Ho(a,l)}),JR(e,n),i},lN=function(e,n){var a=yc(n,e);return te.from(a[a.length-1])},HT=function(e,n){return Hi(n,e)?lN(n,e):te.none()},ZR=function(e,n){ov(e,n.dom).map(function(a){return a.getNode()}).map(je.fromDom).filter(bh).each(co)},QR=function(e,n,a){return ZR(!0,n),ZR(!1,a),HT(n,a).fold(se(YC,e,n,a),se(sN,e,n,a))},eB=function(e,n,a,i){return n?QR(e,i,a):QR(e,a,i)},Xk=function(e,n){var a=je.fromDom(e.getBody()),i=oN(a.dom,n,e.selection.getRng()).bind(function(l){return eB(a,n,l.from.block,l.to.block)});return i.each(function(l){e.selection.setRng(l.toRange())}),i.isSome()},T1=function(e,n){var a=n.getRng();return eu(XC(e,je.fromDom(a.startContainer)),XC(e,je.fromDom(a.endContainer)),function(i,l){return Ba(i,l)===!1?(a.deleteContents(),eB(e,!0,i,l).each(function(v){n.setRng(v.toRange())}),!0):!1}).getOr(!1)},zg=function(e,n){var a=je.fromDom(n),i=se(Ba,e);return Pv(a,ic,i).isSome()},Yk=function(e,n){return zg(e,n.startContainer)||zg(e,n.endContainer)},Jk=function(e,n){var a=bc(e.dom,dt.fromRangeStart(n)).isNone(),i=Ml(e.dom,dt.fromRangeEnd(n)).isNone();return!Yk(e,n)&&a&&i},O1=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},D1=function(e){var n=je.fromDom(e.getBody()),a=e.selection.getRng();return Jk(n,a)?O1(e):T1(n,e.selection)},R1=function(e,n){return e.selection.isCollapsed()?!1:D1(e)},Zk=_l,tB=La,gv=function(e,n,a,i,l){return te.from(n._selectionOverrides.showCaret(e,a,i,l))},VT=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},B1=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?te.none():te.some(VT(n))},UT=function(e,n,a){var i=Yi(1,e.getBody(),n),l=dt.fromRangeStart(i),v=l.getNode();if(Yh(v))return gv(1,e,v,!l.isAtEnd(),!1);var p=l.getNode(!0);if(Yh(p))return gv(1,e,p,!1,!1);var x=e.dom.getParent(l.getNode(),function(A){return tB(A)||Zk(A)});return Yh(x)?gv(1,e,x,!1,a):te.none()},Hg=function(e,n,a){return n.collapsed?UT(e,n,a).getOr(n):n},nB=function(e){return Fl(e)||Cg(e)},rB=function(e){return yd(e)||Sg(e)},aB=function(e,n){gn(n)&&n.data.length===0&&e.remove(n)},JC=function(e,n,a,i,l,v){return gv(i,e,v.getNode(!l),l,!0).each(function(p){if(n.collapsed){var x=n.cloneRange();l?x.setEnd(p.startContainer,p.startOffset):x.setStart(p.endContainer,p.endOffset),x.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),aB(e.dom,a),!0},oB=function(e,n){var a=e.selection.getRng();if(!gn(a.commonAncestorContainer))return!1;var i=n?Mi.Forwards:Mi.Backwards,l=vo(e.getBody()),v=se(gw,n?l.next:l.prev),p=n?nB:rB,x=ng(i,e.getBody(),a),A=Sc(n,v(x));if(!A||!Sb(x,A))return!1;if(p(A))return JC(e,a,x.getNode(),i,n,A);var I=v(A);return I&&p(I)&&Sb(A,I)?JC(e,a,x.getNode(),i,n,I):!1},ZC=function(e,n){return oB(e,n)},iB=function(e){return ic(je.fromDom(e))||Gi(je.fromDom(e))},fl=Bn.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Dm=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return qn(a)&&a.getAttribute("data-mce-caret")===i},uB=function(e,n,a,i){var l=function(v){return tu(je.fromDom(v))&&!gc(a,i,e)};return tg(!n,a).fold(function(){return tg(n,i).fold(rt,l)},l)},WT=function(e,n,a,i){var l=i.getNode(n===!1);return XC(je.fromDom(e),je.fromDom(a.getNode())).map(function(v){return Ti(v)?fl.remove(v.dom):fl.moveToElement(l)}).orThunk(function(){return te.some(fl.moveToElement(l))})},Rm=function(e,n,a){return Hu(n,e,a).bind(function(i){return iB(i.getNode())||uB(e,n,a,i)?te.none():n&&La(i.getNode())||n===!1&&La(i.getNode(!0))?WT(e,n,a,i):n&&yd(a)||n===!1&&Fl(a)?te.some(fl.moveToPosition(i)):te.none()})},pf=function(e,n){return e&&La(n.nextSibling)?te.some(fl.moveToElement(n.nextSibling)):e===!1&&La(n.previousSibling)?te.some(fl.moveToElement(n.previousSibling)):te.none()},cN=function(e,n,a){return a.fold(function(i){return te.some(fl.remove(i))},function(i){return te.some(fl.moveToElement(i))},function(i){return gc(n,i,e)?te.none():te.some(fl.moveToPosition(i))})},fN=function(e,n,a){return Dm(n,a)?pf(n,a.getNode(n===!1)).fold(function(){return Rm(e,n,a)},te.some):Rm(e,n,a).bind(function(i){return cN(e,a,i)})},vN=function(e,n,a){var i=Yi(n?1:-1,e,a),l=dt.fromRangeStart(i),v=je.fromDom(e);return n===!1&&yd(l)?te.some(fl.remove(l.getNode(!0))):n&&Fl(l)?te.some(fl.remove(l.getNode())):n===!1&&Fl(l)&&Ag(v,l)?_E(v,l).map(function(p){return fl.remove(p.getNode())}):n&&yd(l)&&kg(v,l)?Xn(v,l).map(function(p){return fl.remove(p.getNode())}):fN(e,n,l)},dN=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),Tn(e,n,je.fromDom(a)),!0}},mN=function(e,n){return function(a){var i=n?dt.before(a):dt.after(a);return e.selection.setRng(i.toRange()),!0}},hN=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},sB=function(e,n){return te.from(gm(e.getBody(),n))},gN=function(e,n){var a=e.selection.getNode();return sB(e,a).filter(La).fold(function(){return vN(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(dN(e,n),mN(e,n),hN(e))})},at)},pN=function(e){He(Bi(e,".mce-offscreen-selection"),co)},bN=function(e,n){var a=e.selection.getNode();if(La(a)&&!fh(a)){var i=sB(e,a.parentNode).filter(La);return i.fold(function(){return pN(je.fromDom(e.getBody())),Tn(e,n,je.fromDom(e.selection.getNode())),LT(e),!0},at)}return!1},lB=function(e){var n=e.dom,a=e.selection,i=gm(e.getBody(),a.getNode());if(_l(i)&&n.isBlock(i)&&n.isEmpty(i)){var l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(l),a.setRng(dt.before(l).toRange())}return!0},Qk=function(e,n){return e.selection.isCollapsed()?gN(e,n):bN(e,n)},jT=function(e,n){var a=dt.fromRangeStart(e.selection.getRng());return Hu(n,e.getBody(),a).filter(function(i){return n?SE(i):hC(i)}).bind(function(i){return te.from(yb(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},Ey=function(e,n){return e.selection.isCollapsed()?jT(e,n):!1},$1=gn,cB=function(e){return $1(e)&&e.data[0]===Ve},fB=function(e){return $1(e)&&e.data[e.data.length-1]===Ve},GT=function(e){return e.ownerDocument.createTextNode(Ve)},vB=function(e){if($1(e.previousSibling))return fB(e.previousSibling)||e.previousSibling.appendData(Ve),e.previousSibling;if($1(e))return cB(e)||e.insertData(0,Ve),e;var n=GT(e);return e.parentNode.insertBefore(n,e),n},qT=function(e){if($1(e.nextSibling))return cB(e.nextSibling)||e.nextSibling.insertData(0,Ve),e.nextSibling;if($1(e))return fB(e)||e.appendData(Ve),e;var n=GT(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},QC=function(e,n){return e?vB(n):qT(n)},dB=se(QC,!0),KT=se(QC,!1),mB=function(e,n){return gn(e.container())?QC(n,e.container()):QC(n,e.getNode())},hB=function(e,n){var a=n.get();return a&&e.container()===a&&Ea(a)},bf=function(e,n){return n.fold(function(a){ad(e.get());var i=dB(a);return e.set(i),te.some(dt(i,i.length-1))},function(a){return ou(a).map(function(i){if(hB(i,e))return dt(e.get(),1);ad(e.get());var l=mB(i,!0);return e.set(l),dt(l,1)})},function(a){return ol(a).map(function(i){if(hB(i,e))return dt(e.get(),e.get().length-1);ad(e.get());var l=mB(i,!1);return e.set(l),dt(l,l.length-1)})},function(a){ad(e.get());var i=KT(a);return e.set(i),te.some(dt(i,1))})},xc=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return te.none()},su=Bn.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),XT=function(e,n){var a=hc(n,e);return a||e},eA=function(e,n,a){var i=qR(a),l=XT(n,i.container());return Fg(e,l,i).fold(function(){return Ml(l,i).bind(se(Fg,e,l)).map(function(v){return su.before(v)})},te.none)},gB=function(e,n){return fm(e,n)===null},YT=function(e,n,a){return Fg(e,n,a).filter(se(gB,n))},pB=function(e,n,a){var i=KR(a);return YT(e,n,i).bind(function(l){var v=bc(l,i);return v.isNone()?te.some(su.start(l)):te.none()})},bB=function(e,n,a){var i=qR(a);return YT(e,n,i).bind(function(l){var v=Ml(l,i);return v.isNone()?te.some(su.end(l)):te.none()})},yB=function(e,n,a){var i=KR(a),l=XT(n,i.container());return Fg(e,l,i).fold(function(){return bc(l,i).bind(se(Fg,e,l)).map(function(v){return su.after(v)})},te.none)},JT=function(e){return FT(Ty(e))===!1},_c=function(e,n,a){var i=xc([eA,pB,bB,yB],[e,n,a]);return i.filter(JT)},Ty=function(e){return e.fold(xe,xe,xe,xe)},tA=function(e){return e.fold(U("before"),U("start"),U("end"),U("after"))},nA=function(e){return e.fold(su.before,su.before,su.after,su.after)},ZT=function(e){return e.fold(su.start,su.start,su.end,su.end)},yN=function(e,n){return tA(e)===tA(n)&&Ty(e)===Ty(n)},wN=function(e,n,a,i,l,v){return eu(Fg(n,a,i),Fg(n,a,l),function(p,x){return p!==x&&YI(a,p,x)?su.after(e?p:x):v}).getOr(v)},wB=function(e,n){return e.fold(at,function(a){return!yN(a,n)})},CN=function(e,n,a,i,l){var v=Sc(e,l),p=Hu(e,a,v).map(se(Sc,e)),x=p.fold(function(){return i.map(nA)},function(A){return _c(n,a,A).map(se(wN,e,n,a,v,A)).filter(se(wB,i))});return x.filter(JT)},SN=function(e,n){return e?n.fold(Me(te.some,su.start),te.none,Me(te.some,su.after),te.none):n.fold(te.none,Me(te.some,su.before),te.none,Me(te.some,su.end))},eS=function(e,n,a,i){var l=Sc(e,i),v=_c(n,a,l);return _c(n,a,l).bind(se(SN,e)).orThunk(function(){return CN(e,n,a,v,i)})};se(eS,!1),se(eS,!0);var xN=function(e){return le(e.selection.getSel().modify)},CB=function(e,n,a){var i=e?1:-1;return n.setRng(dt(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},_N=function(e,n){var a=n.selection.getRng(),i=e?dt.fromRangeEnd(a):dt.fromRangeStart(a);return xN(n)?e&&Pn(i)?CB(!0,n.selection,i):!e&&b0(i)?CB(!1,n.selection,i):!1:!1},xd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(xd||(xd={}));var rA=function(e,n){return e===Mi.Backwards?tr(n):n},kN=function(e,n,a){return e===Mi.Forwards?n.next(a):n.prev(a)},AN=function(e,n,a,i){return ya(i.getNode(n===Mi.Forwards))?xd.Br:gc(a,i)===!1?xd.Block:xd.Wrap},tS=function(e,n,a,i){for(var l=vo(a),v=i,p=[];v;){var x=kN(n,l,v);if(!x)break;if(ya(x.getNode(!1)))return n===Mi.Forwards?{positions:rA(n,p).concat([x]),breakType:xd.Br,breakAt:te.some(x)}:{positions:rA(n,p),breakType:xd.Br,breakAt:te.some(x)};if(!x.isVisible()){v=x;continue}if(e(v,x)){var A=AN(a,n,v,x);return{positions:rA(n,p),breakType:A,breakAt:te.some(x)}}p.push(x),v=x}return{positions:rA(n,p),breakType:xd.Eol,breakAt:te.none()}},nS=function(e,n,a,i){return n(a,i).breakAt.map(function(l){var v=n(a,l).positions;return e===Mi.Backwards?v.concat(l):[l].concat(v)}).getOr([])},rS=function(e,n){return Ot(e,function(a,i){return a.fold(function(){return te.some(i)},function(l){return eu(va(l.getClientRects()),va(i.getClientRects()),function(v,p){var x=Math.abs(n-v.left),A=Math.abs(n-p.left);return A<=x?i:l}).or(a)})},te.none())},SB=function(e,n){return va(n.getClientRects()).bind(function(a){return rS(e,a.left)})},aS=se(tS,dt.isAbove,-1),oS=se(tS,dt.isBelow,1),EN=se(nS,-1,aS),xB=se(nS,1,oS),TN=function(e,n){return aS(e,n).breakAt.isNone()},ON=function(e,n){return oS(e,n).breakAt.isNone()},QT=function(e){return ou(e).map(function(n){return[n].concat(oS(e,n).positions)}).getOr([])},DN=function(e){return ol(e).map(function(n){return aS(e,n).positions.concat(n)}).getOr([])},RN=function(e){var n=function(i){return Qe(i,function(l){var v=ed(l);return v.node=e,v})};if(qn(e))return n(e.getClientRects());if(gn(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},eO=function(e){return ir(e,RN)},M1;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(M1||(M1={}));var BN=function(e,n,a,i){for(;i=id(i,e,Mo,n);)if(a(i))return},_B=function(e,n,a,i,l,v){var p=0,x=[],A=function(J){var Q=eO([J]);e===-1&&(Q=Q.reverse());for(var ce=0;ce<Q.length;ce++){var ve=Q[ce];if(!a(ve,I)){if(x.length>0&&n(ve,Ks(x))&&p++,ve.line=p,l(ve))return!0;x.push(ve)}}},I=Ks(v.getClientRects());if(!I)return x;var K=v.getNode();return A(K),BN(e,i,A,K),x},$N=function(e,n){return n.line>e},aA=function(e,n){return n.line===e},oA=se(_B,M1.Up,Ih,Nh),MN=se(_B,M1.Down,Nh,Ih),PN=function(e,n,a,i){var l=vo(n),v,p,x,A,I=[],K=0,J=function(me){return Ks(me.getClientRects())};e===1?(v=l.next,p=Nh,x=Ih,A=dt.after(i)):(v=l.prev,p=Ih,x=Nh,A=dt.before(i));var Q=J(A);do if(A.isVisible()){var ce=J(A);if(!x(ce,Q)){I.length>0&&p(ce,Ks(I))&&K++;var ve=ed(ce);if(ve.position=A,ve.line=K,a(ve))return I;I.push(ve)}}while(A=v(A));return I},iS=function(e){return function(n){return $N(e,n)}},tO=function(e){return function(n){return aA(e,n)}},IN=La,kB=id,nO=function(e,n){return Math.abs(e.left-n)},rO=function(e,n){return Math.abs(e.right-n)},AB=function(e,n){return e>=n.left&&e<=n.right},NN=function(e,n){return e>=n.top&&e<=n.bottom},FN=function(e){return Gs(e,"node")},iA=function(e,n,a){return a===void 0&&(a=at),Tf(e,function(i,l){if(AB(n,l))return a(l)?l:i;if(AB(n,i))return a(i)?i:l;var v=Math.min(nO(i,n),rO(i,n)),p=Math.min(nO(l,n),rO(l,n));return p===v&&FN(l)&&IN(l.node)||p<v?l:i})},EB=function(e,n,a,i,l){var v=kB(i,e,Mo,n,!l);do if(!v||a(v))return;while(v=kB(v,e,Mo,n))},LN=function(e,n,a){a===void 0&&(a=!0);var i=[],l=function(v,p){var x=ot(eO([p]),function(A){return!v(A,n)});return i=i.concat(x),x.length===0};return i.push(n),EB(M1.Up,e,se(l,Ih),n.node,a),EB(M1.Down,e,se(l,Nh),n.node,a),i},zN=function(e){return ot(ur(e.getElementsByTagName("*")),sm)},yf=function(e,n){return{node:e.node,before:nO(e,n)<rO(e,n)}},aO=function(e,n,a){var i=eO(zN(e)),l=ot(i,se(NN,a)),v=function(A){return!Ao(A.node)&&!Mu(A.node)},p=iA(l,n,v);if(p){var x=v(p);if(p=iA(LN(e,p,x),n,v),p&&sm(p.node))return yf(p,n)}return null},_d=function(e,n){e.selection.setRng(n),u1(e,e.selection.getRng())},uA=function(e,n,a){return te.some(Hg(e,n,a))},TB=function(e,n,a,i,l,v){var p=n===Mi.Forwards,x=vo(e.getBody()),A=se(gw,p?x.next:x.prev),I=p?i:l;if(!a.collapsed){var K=nm(a);if(v(K))return gv(n,e,K,n===Mi.Backwards,!1)}var J=ng(n,e.getBody(),a);if(I(J))return B1(e,J.getNode(!p));var Q=Sc(p,A(J)),ce=Vc(a);if(!Q)return ce?te.some(a):te.none();if(I(Q))return gv(n,e,Q.getNode(!p),p,!1);var ve=A(Q);return ve&&I(ve)&&Sb(Q,ve)?gv(n,e,ve.getNode(!p),p,!1):ce?uA(e,Q.toRange(),!1):te.none()},oO=function(e,n,a,i,l,v){var p=ng(n,e.getBody(),a),x=Ks(p.getClientRects()),A=n===M1.Down;if(!x)return te.none();var I=A?MN:oA,K=I(e.getBody(),iS(1),p),J=ot(K,tO(1)),Q=x.left,ce=iA(J,Q);if(ce&&v(ce.node)){var ve=Math.abs(Q-ce.left),me=Math.abs(Q-ce.right);return gv(n,e,ce.node,ve<me,!1)}var he;if(i(p)?he=p.getNode():l(p)?he=p.getNode(!0):he=nm(a),he){var Oe=PN(n,e.getBody(),iS(1),he),_e=iA(ot(Oe,tO(1)),Q);if(_e||(_e=Ks(ot(Oe,tO(0))),_e))return uA(e,_e.position.toRange(),!1)}return J.length===0?iO(e,A).filter(A?l:i).map(function(qe){return Hg(e,qe.toRange(),!1)}):te.none()},iO=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var l=dt.fromRangeEnd(a),v=oS(i,l);return Hr(v.positions)}else{var l=dt.fromRangeStart(a),v=aS(i,l);return va(v.positions)}},uO=function(e,n,a){return iO(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},sA=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},OB=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},DB=function(e,n,a){return bf(n,a).map(function(i){return sA(e,i),a})},Oy=function(e,n,a){var i=e.getBody(),l=dt.fromRangeStart(e.selection.getRng()),v=se(Ng,e),p=eS(a,v,i,l);return p.bind(function(x){return DB(e,n,x)})},RB=function(e,n,a){var i=Qe(Bi(je.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(p){return p.dom}),l=ot(i,e),v=ot(a,e);He(oa(l,v),se(OB,!1)),He(oa(v,l),se(OB,!0))},BB=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=dt.fromRangeStart(e.selection.getRng());dt.isTextPosition(a)&&gf(a)===!1&&(sA(e,zx(n.get(),a)),n.set(null))}},$B=function(e,n,a,i){if(n.selection.isCollapsed()){var l=ot(i,e);He(l,function(v){var p=dt.fromRangeStart(n.selection.getRng());_c(e,n.getBody(),p).bind(function(x){return DB(n,a,x)})})}},lA=function(e,n,a){return Kp(e)?Oy(e,n,a).isSome():!1},MB=function(e,n,a){return Kp(n)?_N(e,n):!1},HN=function(e){var n=yu(null),a=se(Ng,e);return e.on("NodeChange",function(i){Kp(e)&&!(zn.browser.isIE()&&i.initial)&&(RB(a,e.dom,i.parents),BB(e,n),$B(a,e,n,i.parents))}),n},VN=se(MB,!0),UN=se(MB,!1),cA=function(e,n,a){if(Kp(e)){var i=iO(e,n).getOrThunk(function(){var l=e.selection.getRng();return n?dt.fromRangeEnd(l):dt.fromRangeStart(l)});return _c(se(Ng,e),e.getBody(),i).exists(function(l){var v=nA(l);return bf(a,v).exists(function(p){return sA(e,p),!0})})}else return!1},WN=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},pv=function(e){return eu(ou(e),ol(e),function(n,a){var i=Sc(!0,n),l=Sc(!1,a);return Ml(e,i).forall(function(v){return v.isEqual(l)})}).getOr(!0)},PB=function(e,n){return function(a){return bf(n,a).exists(function(i){return sA(e,i),!0})}},IB=function(e,n,a,i){var l=e.getBody(),v=se(Ng,e);e.undoManager.ignore(function(){e.selection.setRng(WN(a,i)),e.execCommand("Delete"),_c(v,l,dt.fromRangeStart(e.selection.getRng())).map(ZT).map(PB(e,n))}),e.nodeChanged()},jN=function(e,n){var a=hc(n,e);return a||e},GN=function(e,n,a,i){var l=jN(e.getBody(),i.container()),v=se(Ng,e),p=_c(v,l,i);return p.bind(function(x){return a?x.fold(U(te.some(ZT(x))),te.none,U(te.some(nA(x))),te.none):x.fold(te.none,U(te.some(nA(x))),te.none,U(te.some(ZT(x))))}).map(PB(e,n)).getOrThunk(function(){var x=pc(a,l,i),A=x.bind(function(I){return _c(v,l,I)});return eu(p,A,function(){return Fg(v,l,i).exists(function(I){return pv(I)?(Tn(e,a,je.fromDom(I)),!0):!1})}).orThunk(function(){return A.bind(function(I){return x.map(function(K){return a?IB(e,n,i,K):IB(e,n,K,i),!0})})}).getOr(!1)})},fA=function(e,n,a){if(e.selection.isCollapsed()&&Kp(e)){var i=dt.fromRangeStart(e.selection.getRng());return GN(e,n,a,i)}return!1},qN=function(e,n){var a=yc(n,e);return pn(a,Ts).fold(U(a),function(i){return a.slice(0,i)})},KN=function(e){return v0(e)===1},Vg=function(e,n,a,i){var l=se(z8,n),v=Qe(ot(i,l),function(x){return x.dom});if(v.length===0)Tn(n,e,a);else{var p=py(a.dom,v);n.selection.setRng(p.toRange())}},XN=function(e,n){var a=je.fromDom(e.getBody()),i=je.fromDom(e.selection.getStart()),l=ot(qN(a,i),KN);return Hr(l).exists(function(v){var p=dt.fromRangeStart(e.selection.getRng());return ZI(n,p,v.dom)&&!H8(v)?(Vg(n,e,v,l),!0):!1})},vA=function(e,n){return e.selection.isCollapsed()?XN(e,n):!1},dA=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),Tn(e,n,je.fromDom(a)),!0},sO=function(e,n){var a=n?Cg:Sg,i=n?Mi.Forwards:Mi.Backwards,l=ng(i,e.getBody(),e.selection.getRng());return a(l)?dA(e,n,l.getNode(!n)):te.from(Sc(n,l)).filter(function(v){return a(v)&&Sb(l,v)}).exists(function(v){return dA(e,n,v.getNode(!n))})},YN=function(e,n){var a=e.selection.getNode();return Mu(a)?dA(e,n,a):!1},mA=function(e,n){return e.selection.isCollapsed()?sO(e,n):YN(e,n)},JN=function(e){return hh(e,function(n){return _l(n.dom)||La(n.dom)}).exists(function(n){return _l(n.dom)})},Bm=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},NB=function(e,n){var a=e||_3(n)?"margin":"padding",i=dr(n,"direction")==="rtl"?"-right":"-left";return a+i},ZN=function(e,n,a,i,l,v){var p=NB(a,je.fromDom(v));if(n==="outdent"){var x=Math.max(0,Bm(v.style[p])-i);e.setStyle(v,p,x?x+l:"")}else{var x=Bm(v.style[p])+i+l;e.setStyle(v,p,x)}},QN=function(e,n){return jr(n,function(a){var i=NB(Ex(e),a),l=Ei(a,i).map(Bm).getOr(0),v=e.dom.getContentEditable(a.dom);return v!=="false"&&l>0})},FB=function(e){var n=cO(e);return!e.mode.isReadOnly()&&(n.length>1||QN(e,n))},hA=function(e){return El(e)||Gi(e)},lO=function(e){return eo(e).exists(hA)},cO=function(e){return ot(ei(e.selection.getSelectedBlocks()),function(n){return!hA(n)&&!lO(n)&&JN(n)})},fO=function(e,n){var a=e.dom,i=e.selection,l=e.formatter,v=rw(e),p=/[a-z%]+$/i.exec(v)[0],x=parseInt(v,10),A=Ex(e),I=$i(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&I===""&&!a.getParent(i.getNode(),a.isBlock)&&l.apply("div"),He(cO(e),function(K){ZN(a,n,A,x,p,K.dom)})},vO=function(e,n){if(e.selection.isCollapsed()&&FB(e)){var a=e.dom,i=e.selection.getRng(),l=dt.fromRangeStart(i),v=a.getParent(i.startContainer,a.isBlock);if(v!==null&&rr(je.fromDom(v),l))return fO(e,"outdent"),!0}return!1},LB=function(e,n){e.getDoc().execCommand(n,!1,null)},uS=function(e,n){if(!vO(e)){if(Qk(e,!1))return;if(ZC(e,!1))return;if(fA(e,n,!1))return;if(Xk(e,!1))return;if(pk(e))return;if(Ey(e,!1))return;if(mA(e,!1))return;if(R1(e))return;if(vA(e,!1))return;LB(e,"Delete"),LT(e)}},eF=function(e,n){if(!Qk(e,!0)){if(ZC(e,!0))return;if(fA(e,n,!0))return;if(Xk(e,!0))return;if(pk(e))return;if(Ey(e,!0))return;if(mA(e,!0))return;if(R1(e))return;if(vA(e,!0))return;LB(e,"ForwardDelete")}},tF=function(e,n){e.addCommand("delete",function(){uS(e,n)}),e.addCommand("forwardDelete",function(){eF(e,n)})},zB=5,Dy=400,HB=function(e){return e.touches===void 0||e.touches.length!==1?te.none():te.some(e.touches[0])},$m=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>zB||i>zB},nF=function(e){var n=Qv(),a=yu(!1),i=Qo(function(l){e.fire("longpress",Un(Un({},l),{type:"longpress"})),a.set(!0)},Dy);e.on("touchstart",function(l){HB(l).each(function(v){i.cancel();var p={x:v.clientX,y:v.clientY,target:l.target};i.throttle(l),a.set(!1),n.set(p)})},!0),e.on("touchmove",function(l){i.cancel(),HB(l).each(function(v){n.on(function(p){$m(v,p)&&(n.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(l){i.cancel(),l.type!=="touchcancel"&&n.get().filter(function(v){return v.target.isEqualNode(l.target)}).each(function(){a.get()?l.preventDefault():e.fire("tap",Un(Un({},l),{type:"tap"}))})},!0)},sS=function(e,n){return kr(e,n.nodeName)},dO=function(e,n){return gn(n)?!0:qn(n)?!sS(e,n)&&!Vu(n):!1},rF=function(e,n,a){return Ye(g1(je.fromDom(a),je.fromDom(n)),function(i){return sS(e,i.dom)})},aF=function(e,n){if(gn(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||sS(e,n.nextSibling)))return!0}return!1},oF=function(e){var n=e.dom,a=e.selection,i=e.schema,l=i.getBlockElements(),v=a.getStart(),p=e.getBody(),x,A,I,K=$i(e);if(!(!v||!qn(v)||!K)){var J=p.nodeName.toLowerCase();if(!(!i.isValidChild(J,K.toLowerCase())||rF(l,p,v))){var Q=a.getRng(),ce=Q.startContainer,ve=Q.startOffset,me=Q.endContainer,he=Q.endOffset,Oe=sl(e);for(v=p.firstChild;v;)if(dO(l,v)){if(aF(l,v)){A=v,v=v.nextSibling,n.remove(A);continue}x||(x=n.create(K,Vh(e)),v.parentNode.insertBefore(x,v),I=!0),A=v,v=v.nextSibling,x.appendChild(A)}else x=null,v=v.nextSibling;I&&Oe&&(Q.setStart(ce,ve),Q.setEnd(me,he),a.setRng(Q),e.nodeChanged())}}},VB=function(e){$i(e)&&e.on("NodeChange",se(oF,e))},iF=function(e){return gh(je.fromDom(e.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull()},uF=function(e){e.selection.setRng(e.selection.getRng())},UB=function(e,n){n.hasAttribute("data-mce-caret")&&(s2(n),uF(e),e.selection.scrollIntoView(n))},sF=function(e,n){var a=iF(e);if(a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),UB(e,a);return}Kf(a)&&(UB(e,a),e.undoManager.add())}},WB=function(e){e.on("keyup compositionstart",se(sF,e))},jB=La,P1=function(e,n,a){return TB(n,e,a,Fl,yd,jB)},lF=function(e,n,a){var i=function(v){return Fl(v)||rk(v)},l=function(v){return yd(v)||gC(v)};return oO(n,e,a,i,l,jB)},lS=function(e){var n=e.dom.create($i(e));return(!zn.ie||zn.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},mO=function(e,n,a){var i=vo(e.getBody()),l=se(gw,n===1?i.next:i.prev);if(a.collapsed&&m4(e)){var v=e.dom.getParent(a.startContainer,"PRE");if(!v)return;var p=l(dt.fromRangeStart(a));if(!p){var x=lS(e);n===1?e.$(v).after(x):e.$(v).before(x),e.selection.select(x,!0),e.selection.collapse()}}},hO=function(e,n){var a=n?Mi.Forwards:Mi.Backwards,i=e.selection.getRng();return P1(a,e,i).orThunk(function(){return mO(e,a,i),te.none()})},gO=function(e,n){var a=n?1:-1,i=e.selection.getRng();return lF(a,e,i).orThunk(function(){return mO(e,a,i),te.none()})},GB=function(e,n){return hO(e,n).exists(function(a){return _d(e,a),!0})},qB=function(e,n){return gO(e,n).exists(function(a){return _d(e,a),!0})},KB=function(e,n){var a=n?yd:Fl;return uO(e,n,a)},pO=function(e){return Ae(["figcaption"],_o(e))},XB=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},YB=function(e,n,a){a?Ho(e,n):Qs(e,n)},cF=function(e,n){var a=je.fromTag("br");return YB(e,a,n),XB(a)},fF=function(e,n,a,i){var l=je.fromTag(a),v=je.fromTag("br");return Y(l,i),Ho(l,v),YB(e,l,n),XB(v)},JB=function(e,n,a,i){return n===""?cF(e,i):fF(e,i,n,a)},vF=function(e,n){var a=se(Ba,n);return hh(je.fromDom(e.container()),Ts,a).filter(pO)},dF=function(e,n,a){return n?ON(e.dom,a):TN(e.dom,a)},mF=function(e,n){var a=je.fromDom(e.getBody()),i=dt.fromRangeStart(e.selection.getRng()),l=$i(e),v=Vh(e);return vF(i,a).exists(function(){if(dF(a,n,i)){var p=JB(a,l,v,n);return e.selection.setRng(p),!0}else return!1})},ZB=function(e,n){return e.selection.isCollapsed()?mF(e,n):!1},hF=function(e){return Qe(e,function(n){return Un({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:ye},n)})},gF=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},pF=function(e,n){return ir(hF(e),function(a){return gF(a,n)?[a]:[]})},Mr=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},I1=function(e,n){return nn(pF(e,n),function(a){return a.action()})},QB=function(e,n){var a=n?Mi.Forwards:Mi.Backwards,i=e.selection.getRng();return TB(e,a,i,Cg,Sg,Mu).exists(function(l){return _d(e,l),!0})},bO=function(e,n){var a=n?1:-1,i=e.selection.getRng();return oO(e,a,i,Cg,Sg,Mu).exists(function(l){return _d(e,l),!0})},e$=function(e,n){var a=n?Sg:Cg;return uO(e,n,a)},bF=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},yF=function(e,n){return ir(n,function(a){var i=bF(ed(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},wF=function(e,n,a){return Ot(e,function(i,l){return i.fold(function(){return te.some(l)},function(v){var p=Math.sqrt(Math.abs(v.x-n)+Math.abs(v.y-a)),x=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-a));return te.some(x<p?l:v)})},te.none())},t$=function(e,n,a,i,l){var v=Bi(je.fromDom(a),"td,th,caption").map(function(x){return x.dom}),p=ot(yF(e,v),function(x){return n(x,l)});return wF(p,i,l).map(function(x){return x.cell})},CF=function(e){return e.bottom},SF=function(e){return e.top},xF=function(e,n){return e.y<n},_F=function(e,n){return e.y>n},kF=se(t$,CF,xF),AF=se(t$,SF,_F),EF=function(e,n){return va(n.getClientRects()).bind(function(a){return kF(e,a.left,a.top)}).bind(function(a){return SB(DN(a),n)})},TF=function(e,n){return Hr(n.getClientRects()).bind(function(a){return AF(e,a.left,a.top)}).bind(function(a){return SB(QT(a),n)})},n$=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},OF=function(e){return e.breakType===xd.Wrap&&e.positions.length===0},DF=function(e){return e.breakType===xd.Br&&e.positions.length===1},yO=function(e,n,a){var i=e(n,a);return OF(i)||!ya(a.getNode())&&DF(i)?!n$(e,n,i):i.breakAt.isNone()},r$=se(yO,aS),gA=se(yO,oS),a$=function(e,n,a){var i=dt.fromRangeStart(n);return ov(!e,a).exists(function(l){return l.isEqual(i)})},wO=function(e,n,a,i){var l=e.selection.getRng(),v=n?1:-1;return dw()&&a$(n,l,a)?(gv(v,e,a,!n,!1).each(function(p){_d(e,p)}),!0):!1},CO=function(e,n,a){return EF(n,a).orThunk(function(){return va(a.getClientRects()).bind(function(i){return rS(EN(e,dt.before(n)),i.left)})}).getOr(dt.before(n))},o$=function(e,n,a){return TF(n,a).orThunk(function(){return va(a.getClientRects()).bind(function(i){return rS(xB(e,dt.after(n)),i.left)})}).getOr(dt.after(n))},i$=function(e,n){var a=n.getNode(e);return qn(a)&&a.nodeName==="TABLE"?te.some(a):te.none()},u$=function(e,n,a,i){var l=$i(n);l?n.undoManager.transact(function(){var v=je.fromTag(l);Y(v,Vh(n)),Ho(v,je.fromTag("br")),e?Mv(je.fromDom(a),v):ki(je.fromDom(a),v);var p=n.dom.createRng();p.setStart(v.dom,0),p.setEnd(v.dom,0),_d(n,p)}):_d(n,i.toRange())},N1=function(e,n,a){var i=i$(!!n,a),l=n===!1;i.fold(function(){return _d(e,a.toRange())},function(v){return ov(l,e.getBody()).filter(function(p){return p.isEqual(a)}).fold(function(){return _d(e,a.toRange())},function(p){return u$(n,e,v,a)})})},s$=function(e,n,a,i){var l=e.selection.getRng(),v=dt.fromRangeStart(l),p=e.getBody();if(!n&&r$(i,v)){var x=CO(p,a,v);return N1(e,n,x),!0}else if(n&&gA(i,v)){var x=o$(p,a,v);return N1(e,n,x),!0}else return!1},pA=function(e,n,a){return te.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return te.from(e.dom.getParent(i,"table")).map(function(l){return a(e,n,l,i)})}).getOr(!1)},l$=function(e,n){return pA(e,n,wO)},bA=function(e,n){return pA(e,n,s$)},RF=function(e,n,a){var i=Rn().os;I1([{keyCode:Vn.RIGHT,action:Mr(GB,e,!0)},{keyCode:Vn.LEFT,action:Mr(GB,e,!1)},{keyCode:Vn.UP,action:Mr(qB,e,!1)},{keyCode:Vn.DOWN,action:Mr(qB,e,!0)},{keyCode:Vn.RIGHT,action:Mr(l$,e,!0)},{keyCode:Vn.LEFT,action:Mr(l$,e,!1)},{keyCode:Vn.UP,action:Mr(bA,e,!1)},{keyCode:Vn.DOWN,action:Mr(bA,e,!0)},{keyCode:Vn.RIGHT,action:Mr(QB,e,!0)},{keyCode:Vn.LEFT,action:Mr(QB,e,!1)},{keyCode:Vn.UP,action:Mr(bO,e,!1)},{keyCode:Vn.DOWN,action:Mr(bO,e,!0)},{keyCode:Vn.RIGHT,action:Mr(lA,e,n,!0)},{keyCode:Vn.LEFT,action:Mr(lA,e,n,!1)},{keyCode:Vn.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Mr(VN,e,n)},{keyCode:Vn.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Mr(UN,e,n)},{keyCode:Vn.UP,action:Mr(ZB,e,!1)},{keyCode:Vn.DOWN,action:Mr(ZB,e,!0)}],a).each(function(l){a.preventDefault()})},BF=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&RF(e,n,a)})},$F=function(e,n,a){I1([{keyCode:Vn.BACKSPACE,action:Mr(vO,e,!1)},{keyCode:Vn.BACKSPACE,action:Mr(Qk,e,!1)},{keyCode:Vn.DELETE,action:Mr(Qk,e,!0)},{keyCode:Vn.BACKSPACE,action:Mr(ZC,e,!1)},{keyCode:Vn.DELETE,action:Mr(ZC,e,!0)},{keyCode:Vn.BACKSPACE,action:Mr(fA,e,n,!1)},{keyCode:Vn.DELETE,action:Mr(fA,e,n,!0)},{keyCode:Vn.BACKSPACE,action:Mr(pk,e,!1)},{keyCode:Vn.DELETE,action:Mr(pk,e,!0)},{keyCode:Vn.BACKSPACE,action:Mr(Ey,e,!1)},{keyCode:Vn.DELETE,action:Mr(Ey,e,!0)},{keyCode:Vn.BACKSPACE,action:Mr(mA,e,!1)},{keyCode:Vn.DELETE,action:Mr(mA,e,!0)},{keyCode:Vn.BACKSPACE,action:Mr(R1,e,!1)},{keyCode:Vn.DELETE,action:Mr(R1,e,!0)},{keyCode:Vn.BACKSPACE,action:Mr(Xk,e,!1)},{keyCode:Vn.DELETE,action:Mr(Xk,e,!0)},{keyCode:Vn.BACKSPACE,action:Mr(vA,e,!1)},{keyCode:Vn.DELETE,action:Mr(vA,e,!0)}],a).each(function(i){a.preventDefault()})},MF=function(e,n){I1([{keyCode:Vn.BACKSPACE,action:Mr(lB,e)},{keyCode:Vn.DELETE,action:Mr(lB,e)}],n)},PF=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&$F(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&MF(e,a)})},IF=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Ry=function(e,n){var a,i=n,l=e.dom,v=e.schema.getMoveCaretBeforeOnEnterElements();if(n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var p=IF(n.firstChild);p&&/^(UL|OL|DL)$/.test(p.nodeName)&&n.insertBefore(l.doc.createTextNode(us),n.firstChild)}var x=l.createRng();if(n.normalize(),n.hasChildNodes()){for(var A=new ia(n,n);a=A.current();){if(gn(a)){x.setStart(a,0),x.setEnd(a,0);break}if(v[a.nodeName.toLowerCase()]){x.setStartBefore(a),x.setEndBefore(a);break}i=a,a=A.next()}a||(x.setStart(i,0),x.setEnd(i,0))}else ya(n)?n.nextSibling&&l.isBlock(n.nextSibling)?(x.setStartBefore(n),x.setEndBefore(n)):(x.setStartAfter(n),x.setEndAfter(n)):(x.setStart(n,0),x.setEnd(n,0));e.selection.setRng(x),u1(e,x)}},By=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},SO=function(e){return te.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},xO=function(e){return SO(e).fold(U(""),function(n){return n.nodeName.toUpperCase()})},NF=function(e){return SO(e).filter(function(n){return Gi(je.fromDom(n))}).isSome()},c$=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},f$=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},_O=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},kO=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},AO=function(e){return kO(e)&&kO(e.parentNode)},cS=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},yA=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!qn(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},FF=function(e,n,a,i,l){var v=e.dom,p=e.selection.getRng();if(a!==e.getBody()){AO(a)&&(l="LI");var x=l?n(l):v.create("BR");if(yA(a,i,!0)&&yA(a,i,!1))if(_O(a,"LI")){var A=cS(a);v.insertAfter(x,A),f$(a)?v.remove(A):v.remove(a)}else v.replace(x,a);else if(yA(a,i,!0))_O(a,"LI")?(v.insertAfter(x,cS(a)),x.appendChild(v.doc.createTextNode(" ")),x.appendChild(a)):a.parentNode.insertBefore(x,a),v.remove(i);else if(yA(a,i,!1))v.insertAfter(x,cS(a)),v.remove(i);else{a=cS(a);var I=p.cloneRange();I.setStartAfter(i),I.setEndAfter(a);var K=I.extractContents();l==="LI"&&c$(K,"LI")?(x=K.firstChild,v.insertAfter(K,a)):(v.insertAfter(K,a),v.insertAfter(x,a)),v.remove(i)}Ry(e,x)}},wA=function(e){He(Ph(je.fromDom(e),Ga),function(n){var a=n.dom;a.nodeValue=uc(a.nodeValue)})},LF=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},zF=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},EO=function(e){e.innerHTML='<br data-mce-bogus="1">'},CA=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},v$=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},HF=function(e,n,a){var i=a,l=[],v;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;qn(i)&&!n[i.nodeName.toLowerCase()]&&l.push(i)}for(v=l.length;v--;)i=l[v],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||LF(e,i))&&e.remove(i)}},Vs=function(e,n,a){return gn(n)===!1?a:e?a===1&&n.data.charAt(a-1)===Ve?0:a:a===n.data.length-1&&n.data.charAt(a)===Ve?n.data.length:a},VF=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,Vs(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,Vs(!1,e.endContainer,e.endOffset)),n},TO=function(e){do gn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},OO=function(e,n){var a=e.getRoot(),i,l;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(l=i),i=i.parentNode;return i!==a?l:a},DO=function(e,n,a){var i=e.dom;te.from(a.style).map(i.parseStyle).each(function(A){var I=to(je.fromDom(n)),K=Un(Un({},I),A);i.setStyles(n,K)});var l=te.from(a.class).map(function(A){return A.split(/\s+/)}),v=te.from(n.className).map(function(A){return ot(A.split(/\s+/),function(I){return I!==""})});eu(l,v,function(A,I){var K=ot(I,function(Q){return!Ae(A,Q)}),J=Ou(Ou([],A,!0),K,!0);i.setAttrib(n,"class",J.join(" "))});var p=["style","class"],x=uo(a,function(A,I){return!Ae(p,I)});i.setAttribs(n,x)},fS=function(e,n){var a=$i(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=Vh(e);DO(e,n,i)}},UF=function(e,n,a,i,l){var v,p,x,A,I,K,J=n||"P",Q=e.dom,ce=OO(Q,i);if(p=Q.getParent(i,Q.isBlock),!p||!v$(Q,p)){if(p=p||ce,p===e.getBody()||zF(p)?K=p.nodeName.toLowerCase():K=p.parentNode.nodeName.toLowerCase(),!p.hasChildNodes())return v=Q.create(J),fS(e,v),p.appendChild(v),a.setStart(v,0),a.setEnd(v,0),v;for(A=i;A.parentNode!==p;)A=A.parentNode;for(;A&&!Q.isBlock(A);)x=A,A=A.previousSibling;if(x&&e.schema.isValidChild(K,J.toLowerCase())){for(v=Q.create(J),fS(e,v),x.parentNode.insertBefore(v,x),A=x;A&&!Q.isBlock(A);)I=A.nextSibling,v.appendChild(A),A=I;a.setStart(i,l),a.setEnd(i,l)}}return i},d$=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},WF=function(e,n){var a,i,l,v,p,x,A,I,K,J,Q=e.dom,ce=e.schema,ve=ce.getNonEmptyElements(),me=e.selection.getRng(),he=function(St){var Nt=i,Hn,mn,Rt,Ln=ce.getTextInlineElements();if(St||I==="TABLE"||I==="HR"?Hn=Q.create(St||K):Hn=v.cloneNode(!1),Rt=Hn,i4(e)===!1)Q.setAttrib(Hn,"style",null),Q.setAttrib(Hn,"class",null);else do if(Ln[Nt.nodeName]){if(tf(Nt)||Vu(Nt))continue;mn=Nt.cloneNode(!1),Q.setAttrib(mn,"id",""),Hn.hasChildNodes()?(mn.appendChild(Hn.firstChild),Hn.appendChild(mn)):(Rt=mn,Hn.appendChild(mn))}while((Nt=Nt.parentNode)&&Nt!==Re);return fS(e,Hn),EO(Rt),Hn},Oe=function(St){var Nt,Hn,mn=Vs(St,i,l);if(gn(i)&&(St?mn>0:mn<i.nodeValue.length))return!1;if(i.parentNode===v&&J&&!St||St&&qn(i)&&i===v.firstChild)return!0;if(CA(i,"TABLE")||CA(i,"HR"))return J&&!St||!J&&St;var Rt=new ia(i,v);for(gn(i)&&(St&&mn===0?Rt.prev():!St&&mn===i.nodeValue.length&&Rt.next());Nt=Rt.current();){if(qn(Nt)){if(!Nt.getAttribute("data-mce-bogus")&&(Hn=Nt.nodeName.toLowerCase(),ve[Hn]&&Hn!=="br"))return!1}else if(gn(Nt)&&!Tl(Nt.nodeValue))return!1;St?Rt.prev():Rt.next()}return!0},_e=function(){/^(H[1-6]|PRE|FIGURE)$/.test(I)&&Je!=="HGROUP"?p=he(K):p=he(),jp(e)&&v$(Q,A)&&Q.isEmpty(v)?p=Q.split(A,v):Q.insertAfter(p,v),Ry(e,p)};Hb(Q,me).each(function(St){me.setStart(St.startContainer,St.startOffset),me.setEnd(St.endContainer,St.endOffset)}),i=me.startContainer,l=me.startOffset,K=$i(e);var qe=!!(n&&n.shiftKey),We=!!(n&&n.ctrlKey);qn(i)&&i.hasChildNodes()&&(J=l>i.childNodes.length-1,i=i.childNodes[Math.min(l,i.childNodes.length-1)]||i,J&&gn(i)?l=i.nodeValue.length:l=0);var Re=OO(Q,i);if(Re){(K&&!qe||!K&&qe)&&(i=UF(e,K,me,i,l)),v=Q.getParent(i,Q.isBlock),A=v?Q.getParent(v.parentNode,Q.isBlock):null,I=v?v.nodeName.toUpperCase():"";var Je=A?A.nodeName.toUpperCase():"";if(Je==="LI"&&!We&&(v=A,A=A.parentNode,I=Je),/^(LI|DT|DD)$/.test(I)&&Q.isEmpty(v)){FF(e,he,A,v,K);return}K&&v===e.getBody()||(K=K||"P",wa(v)?(p=s2(v),Q.isEmpty(v)&&EO(v),fS(e,p),Ry(e,p)):Oe()?_e():Oe(!0)?(p=v.parentNode.insertBefore(he(),v),Ry(e,CA(v,"HR")?p:v)):(a=VF(me).cloneRange(),a.setEndAfter(v),x=a.extractContents(),wA(x),TO(x),p=x.firstChild,Q.insertAfter(x,v),HF(Q,ve,p),d$(Q,v),Q.isEmpty(v)&&EO(v),p.normalize(),Q.isEmpty(p)?(Q.remove(p),_e()):(fS(e,p),Ry(e,p))),Q.setAttrib(p,"id",""),e.fire("NewBlock",{newBlock:p}))}},jF=function(e,n,a){for(var i=new ia(n,a),l,v=e.getNonEmptyElements();l=i.next();)if(v[l.nodeName.toLowerCase()]||l.length>0)return!0},m$=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),u1(e,i)},GF=function(e,n){var a=e.selection,i=e.dom,l=a.getRng(),v,p;Hb(i,l).each(function(ve){l.setStart(ve.startContainer,ve.startOffset),l.setEnd(ve.endContainer,ve.endOffset)});var x=l.startOffset,A=l.startContainer;if(A.nodeType===1&&A.hasChildNodes()){var I=x>A.childNodes.length-1;A=A.childNodes[Math.min(x,A.childNodes.length-1)]||A,I&&A.nodeType===3?x=A.nodeValue.length:x=0}var K=i.getParent(A,i.isBlock),J=K?i.getParent(K.parentNode,i.isBlock):null,Q=J?J.nodeName.toUpperCase():"",ce=!!(n&&n.ctrlKey);Q==="LI"&&!ce&&(K=J),A&&A.nodeType===3&&x>=A.nodeValue.length&&(jF(e.schema,A,K)||(v=i.create("br"),l.insertNode(v),l.setStartAfter(v),l.setEndAfter(v),p=!0)),v=i.create("br"),rb(i,l,v),m$(e,v,p),e.undoManager.add()},qF=function(e,n){var a=je.fromTag("br");ki(je.fromDom(n),a),e.undoManager.add()},KF=function(e,n){YF(e.getBody(),n)||Mv(je.fromDom(n),je.fromTag("br"));var a=je.fromTag("br");Mv(je.fromDom(n),a),m$(e,a.dom,!1),e.undoManager.add()},XF=function(e){return ya(e.getNode())},YF=function(e,n){return XF(dt.after(n))?!0:Ml(e,dt.after(n)).map(function(a){return ya(a.getNode())}).getOr(!1)},h$=function(e){return e&&e.nodeName==="A"&&"href"in e},Au=function(e){return e.fold(rt,h$,h$,rt)},JF=function(e){var n=se(Ng,e),a=dt.fromRangeStart(e.selection.getRng());return _c(n,e.getBody(),a).filter(Au)},ZF=function(e,n){n.fold(ye,se(qF,e),se(KF,e),ye)},g$=function(e,n){var a=JF(e);a.isSome()?a.each(se(ZF,e)):GF(e,n)},gs=function(e,n){return SO(e).filter(function(a){return n.length>0&&Zl(je.fromDom(a),n)}).isSome()},QF=function(e){return gs(e,Uh(e))},p$=function(e){return gs(e,Ax(e))},Hl=Bn.generate([{br:[]},{block:[]},{none:[]}]),$y=function(e,n){return p$(e)},RO=function(e){return function(n,a){var i=$i(n)==="";return i===e}},b$=function(e){return function(n,a){return NF(n)===e}},SA=function(e,n){return function(a,i){var l=xO(a)===e.toUpperCase();return l===n}},xA=function(e){return SA("pre",e)},eL=function(){return SA("summary",!0)},_A=function(e){return function(n,a){return tw(n)===e}},tL=function(e,n){return QF(e)},vS=function(e,n){return n},y$=function(e){var n=$i(e),a=By(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},Us=function(e,n){return function(a,i){var l=Ot(e,function(v,p){return v&&p(a,i)},!0);return l?te.some(n):te.none()}},w$=function(e,n){return xc([Us([$y],Hl.none()),Us([eL()],Hl.br()),Us([xA(!0),_A(!1),vS],Hl.br()),Us([xA(!0),_A(!1)],Hl.block()),Us([xA(!0),_A(!0),vS],Hl.block()),Us([xA(!0),_A(!0)],Hl.br()),Us([b$(!0),vS],Hl.br()),Us([b$(!0)],Hl.block()),Us([RO(!0),vS,y$],Hl.block()),Us([RO(!0)],Hl.br()),Us([tL],Hl.br()),Us([RO(!1),vS],Hl.br()),Us([y$],Hl.block())],[e,!!(n&&n.shiftKey)]).getOr(Hl.none())},C$=function(e,n){w$(e,n).fold(function(){g$(e,n)},function(){WF(e,n)},ye)},nL=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),SP(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),C$(e,n)}))},rL=function(e){e.on("keydown",function(n){n.keyCode===Vn.ENTER&&nL(e,n)})},aL=function(e,n,a){I1([{keyCode:Vn.END,action:Mr(KB,e,!0)},{keyCode:Vn.HOME,action:Mr(KB,e,!1)},{keyCode:Vn.END,action:Mr(e$,e,!0)},{keyCode:Vn.HOME,action:Mr(e$,e,!1)},{keyCode:Vn.END,action:Mr(cA,e,!0,n)},{keyCode:Vn.HOME,action:Mr(cA,e,!1,n)}],a).each(function(i){a.preventDefault()})},oL=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&aL(e,n,a)})},BO=Rn().browser,S$=function(e){var n=j0(function(){e.composing||xC(e)},0);BO.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},x$=function(e){S$(e),e.on("input",function(n){n.isComposing===!1&&xC(e)})},_$=Rn(),iL=function(e,n,a){I1([{keyCode:Vn.PAGE_UP,action:Mr(cA,e,!1,n)},{keyCode:Vn.PAGE_DOWN,action:Mr(cA,e,!0,n)}],a)},k$=function(e){return e.stopImmediatePropagation()},A$=function(e){return e.keyCode===Vn.PAGE_UP||e.keyCode===Vn.PAGE_DOWN},E$=function(e,n,a){a&&!e.get()?n.on("NodeChange",k$,!0):!a&&e.get()&&n.off("NodeChange",k$),e.set(a)},uL=function(e,n){if(!_$.os.isOSX()){var a=yu(!1);e.on("keydown",function(i){A$(i)&&E$(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&iL(e,n,i),A$(i)&&a.get()&&(E$(a,e,!1),e.nodeChanged())})}},T$=function(e,n){var a=n.container(),i=n.offset();return gn(a)?(a.insertData(i,e),te.some(dt(a,i+e.length))):Cb(n).map(function(l){var v=je.fromText(e);return n.isAtEnd()?Mv(l,v):ki(l,v),dt(v.dom,e.length)})},O$=se(T$,us),sL=se(T$," "),lL=function(e){return function(n){return n.fold(function(a){return bc(e.dom,dt.before(a))},function(a){return ou(a)},function(a){return ol(a)},function(a){return Ml(e.dom,dt.after(a))})}},cL=function(e,n){return function(a){return AE(e,a)?O$(n):sL(n)}},fL=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},D$=function(e){var n=dt.fromRangeStart(e.selection.getRng()),a=je.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=se(Ng,e),l=dt.fromRangeStart(e.selection.getRng());return _c(i,e.getBody(),l).bind(lL(a)).bind(cL(a,n)).exists(fL(e))}else return!1},vL=function(e,n){I1([{keyCode:Vn.SPACEBAR,action:Mr(D$,e)}],n).each(function(a){n.preventDefault()})},dL=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&vL(e,n)})},mL=function(e){var n=HN(e);return WB(e),BF(e,n),PF(e,n),rL(e),dL(e),x$(e),oL(e,n),uL(e,n),n},hL=function(e){return Em(e)?yu(null):mL(e)},R$=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(l){var v=n.selection.getRng(),p={startContainer:v.startContainer,startOffset:v.startOffset,endContainer:v.endContainer,endOffset:v.endOffset};(l.type==="nodechange"||!jw(p,a))&&n.fire("SelectionChange"),a=p}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var l=n.selection.getStart(!0);!l||!zn.range&&n.selection.isCollapsed()||cd(n)&&!i.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(l){!l.isDefaultPrevented()&&cd(n)&&(n.selection.getNode().nodeName==="IMG"?ji.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,l,v;this.editor.initialized&&a&&!h4(this.editor)&&!this.editor.mode.isReadOnly()&&(v=this.editor.getBody(),i=a.getStart(!0)||v,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,v))&&(i=v),l=[],this.editor.dom.getParent(i,function(p){if(p===v)return!0;l.push(p)}),n=n||{},n.element=i,n.parents=l,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),kA=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},B$=function(e){e.parser.addNodeFilter("details",function(n){He(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){He(n,function(a){var i=a.attr("data-mce-open");a.attr("open",Be(i)?i:null),a.attr("data-mce-open",null)})})},$$=function(e){kA(e),B$(e)},M$=function(e){return qn(e)&&Hc(je.fromDom(e))},gL=function(e){var n=e.selection.getRng(),a=dt.fromRangeStart(n),i=dt.fromRangeEnd(n);if(dt.isElementPosition(a)){var l=a.container();M$(l)&&ou(l).each(function(v){return n.setStart(v.container(),v.offset())})}if(dt.isElementPosition(i)){var l=a.container();M$(l)&&ol(l).each(function(p){return n.setEnd(p.container(),p.offset())})}e.selection.setRng(PE(n))},$O=function(e){e.on("click",function(n){n.detail>=3&&gL(e)})},P$=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,l=a.defaultView;return{top:n.top+l.pageYOffset-i.clientTop,left:n.left+l.pageXOffset-i.clientLeft}},pL=function(e){return e.inline?P$(e.getBody()):{left:0,top:0}},bL=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},yL=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},l={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:l},wf=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=P$(e.getContentAreaContainer()),i=yL(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},I$=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},N$=function(e,n){return I$(pL(e),bL(e),wf(e,n))},AA=La,wL=_l,CL=function(e,n){return AA(n)&&n!==e},SL=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!AA(n)},xL=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},_L=function(e,n,a,i){var l=e.dom,v=n.cloneNode(!0);l.setStyles(v,{width:a,height:i}),l.setAttrib(v,"data-mce-selected",null);var p=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),l.setStyles(v,{margin:0,boxSizing:"border-box"}),p.appendChild(v),p},kL=function(e,n){e.parentNode!==n&&n.appendChild(e)},MO=function(e,n,a,i,l,v){var p=0,x=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>l&&(p=n.pageX+a-l),n.pageY+i>v&&(x=n.pageY+i-v),e.style.width=a-p+"px",e.style.height=i-x+"px"},F$=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},AL=function(e){return e.button===0},L$=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},EL=function(e,n){return function(a){if(AL(a)){var i=nn(n.dom.getParents(a.target),Y3(AA,wL)).getOr(null);if(CL(n.getBody(),i)){var l=n.dom.getPos(i),v=n.getBody(),p=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?v.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?v.scrollHeight:p.offsetHeight)-2,relX:a.pageX-l.x,relY:a.pageY-l.y,width:i.offsetWidth,height:i.offsetHeight,ghost:_L(n,i,i.offsetWidth,i.offsetHeight)})}}}},TL=function(e,n){var a=ji.throttle(function(i,l){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,l)},0);return n.on("remove",a.stop),function(i){return e.on(function(l){var v=Math.max(Math.abs(i.screenX-l.screenX),Math.abs(i.screenY-l.screenY));if(!l.dragging&&v>10){var p=n.fire("dragstart",{target:l.element});if(p.isDefaultPrevented())return;l.dragging=!0,n.focus()}if(l.dragging){var x=L$(l,N$(n,i));kL(l.ghost,n.getBody()),MO(l.ghost,x,l.width,l.height,l.maxX,l.maxY),a(i.clientX,i.clientY)}})}},OL=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},DL=function(e,n){return function(a){e.on(function(i){if(i.dragging){if(SL(n,OL(n.selection),i.element)){var l=xL(i.element),v=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});v.isDefaultPrevented()||n.undoManager.transact(function(){F$(i.element),n.insertContent(n.dom.getOuterHTML(l)),n._selectionOverrides.hideFakeCaret()})}n.fire("dragend")}}),z$(e)}},RL=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),z$(e)}},z$=function(e){e.on(function(n){F$(n.ghost)}),e.clear()},PO=function(e){var n=Qv(),a=Ma.DOM,i=document,l=EL(n,e),v=TL(n,e),p=DL(n,e),x=RL(n,e);e.on("mousedown",l),e.on("mousemove",v),e.on("mouseup",p),a.bind(i,"mousemove",v),a.bind(i,"mouseup",x),e.on("remove",function(){a.unbind(i,"mousemove",v),a.unbind(i,"mouseup",x)}),e.on("keydown",function(A){A.keyCode===Vn.ESC&&x()})},BL=function(e){e.on("drop",function(n){var a=typeof n.clientX<"u"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(AA(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},H$=function(e){var n=function(l){if(!l.isDefaultPrevented()){var v=l.dataTransfer;v&&(Ae(v.types,"Files")||v.files.length>0)&&(l.preventDefault(),l.type==="drop"&&Wk(e,"Dropped file type is not supported"))}},a=function(l){Kb(e,l.target)&&n(l)},i=function(){var l=Ma.DOM,v=e.dom,p=document,x=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];He(A,function(I){l.bind(p,I,a),v.bind(x,I,n)}),e.on("remove",function(){He(A,function(I){l.unbind(p,I,a),v.unbind(x,I,n)})})};e.on("init",function(){ji.setEditorTimeout(e,i,0)})},$L=function(e){PO(e),BL(e),Gh(e)&&H$(e)},ML=function(e){var n=j0(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=Hg(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},PL=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(Mu(a)){var i=gm(e.getBody(),a),l=La(i)?i:a;e.selection.getNode()!==l&&B1(e,l).each(function(v){return e.selection.setRng(v)})}})})},V$=_l,Co=La,EA=function(e,n){return gm(e.getBody(),n)},IL=function(e){var n=e.selection,a=e.dom,i=a.isBlock,l=e.getBody(),v=au(e,l,i,function(){return sl(e)}),p="sel-"+a.uniqueId(),x="data-mce-selected",A,I=function(Rt){return a.hasClass(Rt,"mce-offscreen-selection")},K=function(Rt){return Rt!==l&&(Co(Rt)||Mu(Rt))&&a.isChildOf(Rt,l)},J=function(Rt){return Fl(Rt)||yd(Rt)||Cg(Rt)||Sg(Rt)},Q=function(){var Rt=a.get(p);return Rt&&Rt.getElementsByTagName("*")[0]},ce=function(Rt){Rt&&n.setRng(Rt)},ve=n.getRng,me=function(Rt,Ln,Vt,fn){fn===void 0&&(fn=!0);var jt=e.fire("ShowCaret",{target:Ln,direction:Rt,before:Vt});return jt.isDefaultPrevented()?null:(fn&&n.scrollIntoView(Ln,Rt===-1),v.show(Vt,Ln))},he=function(Rt){Rt.hasAttribute("data-mce-caret")&&(s2(Rt),ce(ve()),n.scrollIntoView(Rt))},Oe=function(){e.on("mouseup",function(jt){var Zt=ve();Zt.collapsed&&Tm(e,jt.clientX,jt.clientY)&&UT(e,Zt,!1).each(ce)}),e.on("click",function(jt){var Zt=EA(e,jt.target);Zt&&(Co(Zt)&&(jt.preventDefault(),e.focus()),V$(Zt)&&a.isChildOf(Zt,n.getNode())&&Nt())}),e.on("blur NewBlock",Nt),e.on("ResizeWindow FullscreenStateChanged",v.reposition);var Rt=function(jt){var Zt=jt.firstChild;if(ke(Zt))return!1;var yn=dt.before(Zt);if(ya(yn.getNode())&&jt.childNodes.length===1)return!J(yn);var $t=vo(jt),hn=$t.next(yn);return hn&&!J(hn)},Ln=function(jt,Zt){var yn=a.getParent(jt,i),$t=a.getParent(Zt,i);return yn===$t},Vt=function(jt,Zt){var yn=a.getParent(jt,i),$t=a.getParent(Zt,i);return ke(yn)?!1:jt!==$t&&a.isChildOf(yn,$t)&&Co(EA(e,yn))===!1?!0:!a.isChildOf($t,yn)&&!Ln(yn,$t)&&Rt(yn)};e.on("tap",function(jt){var Zt=jt.target,yn=EA(e,Zt);Co(yn)?(jt.preventDefault(),B1(e,yn).each(St)):K(Zt)&&B1(e,Zt).each(St)},!0),e.on("mousedown",function(jt){var Zt=jt.target;if(!(Zt!==l&&Zt.nodeName!=="HTML"&&!a.isChildOf(Zt,l))&&Tm(e,jt.clientX,jt.clientY)!==!1){var yn=EA(e,Zt);if(yn)Co(yn)?(jt.preventDefault(),B1(e,yn).each(St)):(Nt(),!(V$(yn)&&jt.shiftKey)&&!pm(jt.clientX,jt.clientY,n.getRng())&&(mn(),n.placeCaretAt(jt.clientX,jt.clientY)));else if(K(Zt))B1(e,Zt).each(St);else if(sm(Zt)===!1){Nt(),mn();var $t=aO(l,jt.clientX,jt.clientY);if($t&&!Vt(Zt,$t.node)){jt.preventDefault();var hn=me(1,$t.node,$t.before,!1);ce(hn),e.getBody().focus()}}}}),e.on("keypress",function(jt){Vn.modifierPressed(jt)||Co(n.getNode())&&jt.preventDefault()}),e.on("GetSelectionRange",function(jt){var Zt=jt.range;if(A){if(!A.parentNode){A=null;return}Zt=Zt.cloneRange(),Zt.selectNode(A),jt.range=Zt}}),e.on("SetSelectionRange",function(jt){jt.range=We(jt.range);var Zt=St(jt.range,jt.forward);Zt&&(jt.range=Zt)});var fn=function(jt){return jt.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(jt){var Zt=jt.range,yn=Zt.startContainer.parentNode;!qe(Zt)&&!fn(yn)&&mn(),I(yn)||Nt()}),e.on("copy",function(jt){var Zt=jt.clipboardData;if(!jt.isDefaultPrevented()&&jt.clipboardData&&!zn.ie){var yn=Q();yn&&(jt.preventDefault(),Zt.clearData(),Zt.setData("text/html",yn.outerHTML),Zt.setData("text/plain",yn.outerText||yn.innerText))}}),$L(e),ML(e),PL(e)},_e=function(Rt){return Nu(Rt)||xp(Rt)||_p(Rt)},qe=function(Rt){return _e(Rt.startContainer)||_e(Rt.endContainer)},We=function(Rt){var Ln=e.schema.getShortEndedElements(),Vt=a.createRng(),fn=Rt.startContainer,jt=Rt.startOffset,Zt=Rt.endContainer,yn=Rt.endOffset;return kr(Ln,fn.nodeName.toLowerCase())?jt===0?Vt.setStartBefore(fn):Vt.setStartAfter(fn):Vt.setStart(fn,jt),kr(Ln,Zt.nodeName.toLowerCase())?yn===0?Vt.setEndBefore(Zt):Vt.setEndAfter(Zt):Vt.setEnd(Zt,yn),Vt},Re=function(Rt,Ln,Vt){var fn=e.$,jt=gh(je.fromDom(e.getBody()),"#"+p).fold(function(){return fn([])},function($t){return fn([$t.dom])});jt.length===0&&(jt=fn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",p),jt.appendTo(e.getBody()));var Zt=a.createRng();Ln===Vt&&zn.ie?(jt.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(Ln),Zt.setStartAfter(jt[0].firstChild.firstChild),Zt.setEndAfter(Ln)):(jt.empty().append(us).append(Ln).append(us),Zt.setStart(jt[0].firstChild,1),Zt.setEnd(jt[0].lastChild,0)),jt.css({top:a.getPos(Rt,e.getBody()).y}),jt[0].focus();var yn=n.getSel();return yn.removeAllRanges(),yn.addRange(Zt),Zt},Je=function(Rt){var Ln=Rt.cloneNode(!0),Vt=e.fire("ObjectSelected",{target:Rt,targetClone:Ln});if(Vt.isDefaultPrevented())return null;var fn=Re(Rt,Vt.targetClone,Ln),jt=je.fromDom(Rt);return He(Bi(je.fromDom(e.getBody()),"*[data-mce-selected]"),function(Zt){Ba(jt,Zt)||bt(Zt,x)}),a.getAttrib(Rt,x)||Rt.setAttribute(x,"1"),A=Rt,mn(),fn},St=function(Rt,Ln){if(!Rt)return null;if(Rt.collapsed){if(!qe(Rt)){var Vt=Ln?1:-1,fn=ng(Vt,l,Rt),jt=fn.getNode(!Ln);if(sm(jt))return me(Vt,jt,Ln?!fn.isAtEnd():!1,!1);var Zt=fn.getNode(Ln);if(sm(Zt))return me(Vt,Zt,Ln?!1:!fn.isAtEnd(),!1)}return null}var yn=Rt.startContainer,$t=Rt.startOffset,hn=Rt.endOffset;if(yn.nodeType===3&&$t===0&&Co(yn.parentNode)&&(yn=yn.parentNode,$t=a.nodeIndex(yn),yn=yn.parentNode),yn.nodeType!==1)return null;if(hn===$t+1&&yn===Rt.endContainer){var xr=yn.childNodes[$t];if(K(xr))return Je(xr)}return null},Nt=function(){A&&A.removeAttribute(x),gh(je.fromDom(e.getBody()),"#"+p).each(co),A=null},Hn=function(){v.destroy(),A=null},mn=function(){v.hide()};return zn.ceFalse&&!Em(e)&&Oe(),{showCaret:me,showBlockCaretContainer:he,hideFakeCaret:mn,destroy:Hn}},NL=function(e){var n=yt.each,a=Vn.BACKSPACE,i=Vn.DELETE,l=e.dom,v=e.selection,p=e.parser,x=zn.gecko,A=zn.ie,I=zn.webkit,K="data:text/mce-internal,",J=A?"Text":"URL",Q=function(Mt,qt){try{e.getDoc().execCommand(Mt,!1,qt)}catch{}},ce=function(Mt){return Mt.isDefaultPrevented()},ve=function(Mt){var qt,Dn;Mt.dataTransfer&&(e.selection.isCollapsed()&&Mt.target.tagName==="IMG"&&v.select(Mt.target),qt=e.selection.getContent(),qt.length>0&&(Dn=K+escape(e.id)+","+escape(qt),Mt.dataTransfer.setData(J,Dn)))},me=function(Mt){var qt;return Mt.dataTransfer&&(qt=Mt.dataTransfer.getData(J),qt&&qt.indexOf(K)>=0)?(qt=qt.substr(K.length).split(","),{id:unescape(qt[0]),html:unescape(qt[1])}):null},he=function(Mt,qt){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:Mt,internal:qt}):e.execCommand("mceInsertContent",!1,Mt)},Oe=function(){var Mt=function(Dn){var et=l.create("body"),Ht=Dn.cloneContents();return et.appendChild(Ht),v.serializer.serialize(et,{format:"html"})},qt=function(Dn){var et=Mt(Dn),Ht=l.createRng();Ht.selectNode(e.getBody());var Pt=Mt(Ht);return et===Pt};e.on("keydown",function(Dn){var et=Dn.keyCode,Ht,Pt;if(!ce(Dn)&&(et===i||et===a)){if(Ht=e.selection.isCollapsed(),Pt=e.getBody(),Ht&&!l.isEmpty(Pt)||!Ht&&!qt(e.selection.getRng()))return;Dn.preventDefault(),e.setContent(""),Pt.firstChild&&l.isBlock(Pt.firstChild)?e.selection.setCursorLocation(Pt.firstChild,0):e.selection.setCursorLocation(Pt,0),e.nodeChanged()}})},_e=function(){e.shortcuts.add("meta+a",null,"SelectAll")},qe=function(){e.inline||l.bind(e.getDoc(),"mousedown mouseup",function(Mt){var qt;if(Mt.target===e.getDoc().documentElement)if(qt=v.getRng(),e.getBody().focus(),Mt.type==="mousedown"){if(Nu(qt.startContainer))return;v.placeCaretAt(Mt.clientX,Mt.clientY)}else v.setRng(qt)})},We=function(){e.on("keydown",function(Mt){if(!ce(Mt)&&Mt.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(v.isCollapsed()&&v.getRng().startOffset===0){var qt=v.getNode(),Dn=qt.previousSibling;if(qt.nodeName==="HR"){l.remove(qt),Mt.preventDefault();return}Dn&&Dn.nodeName&&Dn.nodeName.toLowerCase()==="hr"&&(l.remove(Dn),Mt.preventDefault())}}})},Re=function(){Range.prototype.getClientRects||e.on("mousedown",function(Mt){if(!ce(Mt)&&Mt.target.nodeName==="HTML"){var qt=e.getBody();qt.blur(),ji.setEditorTimeout(e,function(){qt.focus()})}})},Je=function(){e.on("click",function(Mt){var qt=Mt.target;/^(IMG|HR)$/.test(qt.nodeName)&&l.getContentEditableParent(qt)!=="false"&&(Mt.preventDefault(),e.selection.select(qt),e.nodeChanged()),qt.nodeName==="A"&&l.hasClass(qt,"mce-item-anchor")&&(Mt.preventDefault(),v.select(qt))})},St=function(){var Mt=function(){var Dn=l.getAttribs(v.getStart().cloneNode(!1));return function(){var et=v.getStart();et!==e.getBody()&&(l.setAttrib(et,"style",null),n(Dn,function(Ht){et.setAttributeNode(Ht.cloneNode(!0))}))}},qt=function(){return!v.isCollapsed()&&l.getParent(v.getStart(),l.isBlock)!==l.getParent(v.getEnd(),l.isBlock)};e.on("keypress",function(Dn){var et;if(!ce(Dn)&&(Dn.keyCode===8||Dn.keyCode===46)&&qt())return et=Mt(),e.getDoc().execCommand("delete",!1,null),et(),Dn.preventDefault(),!1}),l.bind(e.getDoc(),"cut",function(Dn){var et;!ce(Dn)&&qt()&&(et=Mt(),ji.setEditorTimeout(e,function(){et()}))})},Nt=function(){e.on("keydown",function(Mt){if(!ce(Mt)&&Mt.keyCode===a&&v.isCollapsed()&&v.getRng().startOffset===0){var qt=v.getNode().previousSibling;if(qt&&qt.nodeName&&qt.nodeName.toLowerCase()==="table")return Mt.preventDefault(),!1}})},Hn=function(){e.on("keydown",function(Mt){var qt,Dn;if(!(ce(Mt)||Mt.keyCode!==Vn.BACKSPACE)){qt=v.getRng();var et=qt.startContainer,Ht=qt.startOffset,Pt=l.getRoot();if(Dn=et,!(!qt.collapsed||Ht!==0)){for(;Dn&&Dn.parentNode&&Dn.parentNode.firstChild===Dn&&Dn.parentNode!==Pt;)Dn=Dn.parentNode;Dn.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,Dn),qt=l.createRng(),qt.setStart(et,0),qt.setEnd(et,0),v.setRng(qt))}}})},mn=function(){var Mt=function(){Q("StyleWithCSS",!1),Q("enableInlineTableEditing",!1),Dx(e)||Q("enableObjectResizing",!1)};g4(e)||e.on("BeforeExecCommand mousedown",Mt)},Rt=function(){var Mt=function(){n(l.select("a"),function(qt){var Dn=qt.parentNode,et=l.getRoot();if(Dn.lastChild===qt){for(;Dn&&!l.isBlock(Dn);){if(Dn.parentNode.lastChild!==Dn||Dn===et)return;Dn=Dn.parentNode}l.add(Dn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(qt){(qt.type==="setcontent"||qt.command==="mceInsertLink")&&Mt()})},Ln=function(){$i(e)&&e.on("init",function(){Q("DefaultParagraphSeparator",$i(e))})},Vt=function(){e.on("keyup focusin mouseup",function(Mt){Vn.modifierPressed(Mt)||v.normalize()},!0)},fn=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},jt=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},Zt=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(Mt){var qt;if(Mt.target.nodeName==="HTML"){if(zn.ie>11){e.getBody().focus();return}qt=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(qt),e.selection.normalize(),e.nodeChanged()}}))},yn=function(){zn.mac&&e.on("keydown",function(Mt){if(Vn.metaKeyPressed(Mt)&&!Mt.shiftKey&&(Mt.keyCode===37||Mt.keyCode===39)){Mt.preventDefault();var qt=e.selection.getSel();qt.modify("move",Mt.keyCode===37?"backward":"forward","lineboundary")}})},$t=function(){Q("AutoUrlDetect",!1)},hn=function(){e.on("click",function(Mt){var qt=Mt.target;do if(qt.tagName==="A"){Mt.preventDefault();return}while(qt=qt.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},xr=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(Mt){Mt.preventDefault()})})},ta=function(){p.addNodeFilter("br",function(Mt){for(var qt=Mt.length;qt--;)Mt[qt].attr("class")==="Apple-interchange-newline"&&Mt[qt].remove()})},Yr=function(){e.on("dragstart",function(Mt){ve(Mt)}),e.on("drop",function(Mt){if(!ce(Mt)){var qt=me(Mt);if(qt&&qt.id!==e.id){Mt.preventDefault();var Dn=Ww(Mt.x,Mt.y,e.getDoc());v.setRng(Dn),he(qt.html,!0)}}})},Fi=ye,ao=function(){if(!x||e.removed)return!1;var Mt=e.selection.getSel();return!Mt||!Mt.rangeCount||Mt.rangeCount===0},ju=function(){I&&(qe(),Je(),xr(),_e(),zn.iOS&&(jt(),Zt(),hn())),x&&(Re(),mn(),fn(),yn())},ps=function(){Hn(),Oe(),zn.windowsPhone||Vt(),I&&(qe(),Je(),Ln(),xr(),Nt(),ta(),zn.iOS?(jt(),Zt(),hn()):_e()),zn.ie>=11&&(Zt(),Nt()),zn.ie&&(_e(),$t(),Yr()),x&&(We(),Re(),St(),mn(),Rt(),fn(),yn(),Nt())};return Em(e)?ju():ps(),{refreshContentEditable:Fi,isHidden:ao}},TA=Ma.DOM,IO=function(e,n){var a=je.fromDom(e.getBody()),i=lo(vu(a)),l=je.fromTag("style");M(l,"type","text/css"),Ho(l,je.fromText(n)),Ho(i,l),e.on("remove",function(){co(l)})},FL=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},OA=function(e){return uo(e,function(n){return De(n)===!1})},U$=function(e){var n=e.settings;return OA({block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements,padd_empty_block_inline_children:n.format_empty_lines})},W$=function(e){var n=e.settings,a=e.editorUpload.blobCache;return OA({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:FL(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})},LL=function(e){var n=e.settings;return Un(Un(Un({},W$(e)),U$(e)),OA({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before}))},zL=function(e){var n=zk(W$(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var l=a.length,v,p,x=e.dom,A="data-mce-"+i;l--;)if(v=a[l],p=v.attr(i),p&&!v.attr(A)){if(p.indexOf("data:")===0||p.indexOf("blob:")===0)continue;i==="style"?(p=x.serializeStyle(x.parseStyle(p),v.name),p.length||(p=null),v.attr(A,p),v.attr(i,p)):i==="tabindex"?(v.attr(A,p),v.attr(i,null)):v.attr(A,e.convertURL(p,i,v.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var l=a[i],v=l.attr("type")||"no/type";v.indexOf("mce-")!==0&&l.attr("type","mce-"+v)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var l=a[i];l.type=8,l.name="#comment",l.value="[CDATA["+e.dom.encode(l.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,l=e.schema.getNonEmptyElements();i--;){var v=a[i];v.isEmpty(l)&&v.getAll("br").length===0&&(v.append(new ll("br",1)).shortEnded=!0)}}),n},HL=function(e){e.settings.auto_focus&&ji.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},VL=function(e){var n=e.dom.getRoot();!e.inline&&(!cd(e)||e.selection.getStart(!0)===n)&&ou(n).each(function(a){var i=a.getNode(),l=Ao(i)?ou(i).getOr(a):a;zn.browser.isIE()?lE(e,l.toRange()):e.selection.setRng(l.toRange())})},UL=function(e){e.bindPendingEventDelegates(),e.initialized=!0,s_(e),e.focus(!0),VL(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),HL(e)},j$=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},WL=function(e,n,a){var i=[new ui(function(l,v){return j$(e).loadAll(n,l,v)})];return e.inline?i:i.concat([new ui(function(l,v){return e.ui.styleSheetLoader.loadAll(a,l,v)})])},G$=function(e){var n=j$(e),a=Ox(e),i=e.contentCSS,l=function(){n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},v=function(){e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){var p="";yt.each(e.contentStyles,function(A){p+=A+`\r
`}),e.dom.addStyle(p)}var x=ui.all(WL(e,i,a)).then(v).catch(v);return e.settings.content_style&&IO(e,e.settings.content_style),x},jL=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();sf(e),!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,TA.setAttrib(i,"spellcheck","false")),e.quirks=NL(e),u_(e);var l=mc(e);l!==void 0&&(i.dir=l),n.protect&&e.on("BeforeSetContent",function(v){yt.each(n.protect,function(p){v.content=v.content.replace(p,function(x){return"<!--mce:protected "+escape(x)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(v){e.composing=v.type==="compositionstart"})},GL=function(e){Em(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},NO=function(e){e.removed!==!0&&(GL(e),UL(e))},DA=function(e,n){var a=e.settings,i=e.getElement(),l=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(l.open(),l.write(e.iframeHTML),l.close()),e.inline&&(TA.addClass(i,"mce-content-body"),e.contentDocument=l=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var v=e.getBody();v.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&TA.getStyle(v,"position",!0)==="static"&&(v.style.position="relative"),v.contentEditable=e.getParam("content_editable_state",!0)),v.disabled=!1,e.editorUpload=zI(e),e.schema=$s(U$(e)),e.dom=Ma(l,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:vb(e),referrerPolicy:db(e),onSetAttrib:function(A){e.fire("SetAttrib",A)}}),e.parser=zL(e),e.serializer=bR(LL(e),e),e.selection=rR(e.dom,e.getWin(),e.serializer,e),e.annotator=Nb(e),e.formatter=LR(e),e.undoManager=hf(e),e._nodeChangeDispatcher=new R$(e),e._selectionOverrides=IL(e),nF(e),$$(e),Em(e)||$O(e);var p=hL(e);tF(e,p),VB(e),jR(e);var x=DP(e);jL(e),x.fold(function(){G$(e).then(function(){return NO(e)})},function(A){e.setProgressState(!0),G$(e).then(function(){A().then(function(I){e.setProgressState(!1),NO(e)},function(I){e.notificationManager.open({type:"error",text:String(I)}),NO(e)})})})},dS=Ma.DOM,qL=function(e,n){if(document.domain!==window.location.hostname&&zn.browser.isIE()){var a=Ji("mce");e[a]=function(){DA(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return dS.setAttrib(n,"src",i),!0}return!1},KL=function(e,n,a,i){var l=je.fromTag("iframe");return Y(l,i),Y(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),em(l,"tox-edit-area__iframe"),l},XL=function(e){var n=kx(e)+"<html><head>";ew(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=a4(e),i=o4(e),l=e.translate(Nx(e));return lb(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+lb(e)+'" />'),n+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+l+'">')+"<br></body></html>",n},q$=function(e,n){var a=e.translate("Rich Text Area"),i=KL(e.id,a,n.height,r4(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var l=qL(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=XL(e),dS.add(n.iframeContainer,i),l},YL=function(e,n){var a=q$(e,n);n.editorContainer&&(dS.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=dS.isHidden(n.editorContainer)),e.getElement().style.display="none",dS.setAttrib(e.id,"aria-hidden","true"),a||DA(e)},FO=Ma.DOM,LO=function(e,n,a){var i=cl.get(a),l=cl.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=yt.trim(a),i&&yt.inArray(n,a)===-1){if(yt.each(cl.dependencies(a),function(p){LO(e,n,p)}),e.plugins[a])return;try{var v=new i(e,l,e.$);e.plugins[a]=v,v.init&&(v.init(e,l),n.push(a))}catch(p){PR(e,a,p)}}},zO=function(e){return e.replace(/^\-/,"")},JL=function(e){var n=[];yt.each(pb(e).split(/[ ,]/),function(a){LO(e,n,zO(a))})},ZL=function(e){var n=yt.trim(Qc(e)),a=e.ui.registry.getAll().icons,i=Un(Un({},Uk.get("default").icons),Uk.get(n).icons);Nr(i,function(l,v){kr(a,v)||e.ui.registry.addIcon(v,l)})},QL=function(e){var n=Wh(e);if(Be(n)){e.settings.theme=zO(n);var a=Sd.get(n);e.theme=new a(e,Sd.urls[n]),e.theme.init&&e.theme.init(e,Sd.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},K$=function(e){return e.theme.renderUI()},ez=function(e){var n=e.getElement(),a=Wh(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},X$=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},Y$=function(e){var n=FO.create("div");return FO.insertAfter(n,e),X$(n)},tz=function(e){var n=e.getElement();return e.inline?X$(null):Y$(n)},nz=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,Be(Wh(e))?K$(e):le(Wh(e))?ez(e):tz(e)},J$=function(e,n){var a={show:te.from(n.show).getOr(ye),hide:te.from(n.hide).getOr(ye),disable:te.from(n.disable).getOr(ye),isDisabled:te.from(n.isDisabled).getOr(rt),enable:function(){e.mode.isReadOnly()||te.from(n.enable).map(xt)}};e.ui=Un(Un({},e.ui),a)},Z$=function(e){e.fire("ScriptsLoaded"),ZL(e),QL(e),JL(e);var n=nz(e);J$(e,te.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,II(e),e.inline?DA(e):YL(e,a)},F1=Ma.DOM,Q$=function(e){return e.charAt(0)==="-"},eM=function(e,n){var a=mb(n),i=li(n);if(wu.hasCode(a)===!1&&a!=="en"){var l=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(l,ye,void 0,function(){GC(n,l,a)})}},tM=function(e,n,a,i){var l=Wh(n);if(Be(l)){if(!Q$(l)&&!kr(Sd.urls,l)){var v=$x(n);v?Sd.load(l,n.documentBaseURI.toAbsolute(v)):Sd.load(l,"themes/"+l+"/theme"+a+".js")}e.loadQueue(function(){Sd.waitFor(l,i)})}else i()},rz=function(e){return te.from(fb(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:te.none()}})},nM=function(e,n,a){return te.from(n).filter(function(i){return i.length>0&&!Uk.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:te.some(i)}})},az=function(e,n,a){var i=nM(n,"default",a),l=rz(n).orThunk(function(){return nM(n,Qc(n),"")});He(vr([i,l]),function(v){e.add(v.url,ye,void 0,function(){MI(n,v.url,v.name.getOrUndefined())})})},oz=function(e,n){yt.each(b4(e),function(a,i){cl.load(i,a,ye,void 0,function(){Gk(e,a,i)}),e.settings.plugins+=" "+i}),yt.each(pb(e).split(/[ ,]/),function(a){if(a=yt.trim(a),a&&!cl.urls[a])if(Q$(a)){a=a.substr(1,a.length);var i=cl.dependencies(a);yt.each(i,function(v){var p={prefix:"plugins/",resource:v,suffix:"/plugin"+n+".js"},x=cl.createUrl(p,v);cl.load(x.resource,x,ye,void 0,function(){Gk(e,x.prefix+x.resource+x.suffix,x.resource)})})}else{var l={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};cl.load(a,l,ye,void 0,function(){Gk(e,l.prefix+l.resource+l.suffix,a)})}})},iz=function(e,n){var a=ev.ScriptLoader;tM(a,e,n,function(){eM(a,e),az(a,e,n),oz(e,n),a.loadQueue(function(){e.removed||Z$(e)},e,function(){e.removed||Z$(e)})})},uz=function(e,n){return Al.forElement(e,{contentCssCors:p4(n),referrerPolicy:db(n)})},sz=function(e){var n=e.id;wu.setCode(mb(e));var a=function(){F1.unbind(window,"ready",a),e.render()};if(!Ah.Event.domLoaded){F1.bind(window,"ready",a);return}if(e.getElement()&&zn.contentEditable){var i=je.fromDom(e.getElement()),l=_n(i);e.on("remove",function(){pt(i.dom.attributes,function(p){return bt(i,p.name)}),Y(i,l)}),e.ui.styleSheetLoader=uz(i,e),v4(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var v=e.getElement().form||F1.getParent(n,"form");v&&(e.formElement=v,Mx(e)&&!Ai(e.getElement())&&(F1.insertAfter(F1.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(p){e.fire(p.type,p)},F1.bind(v,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),Px(e)&&!v.submit.nodeType&&!v.submit.length&&!v._mceOldSubmit&&(v._mceOldSubmit=v.submit,v.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),v._mceOldSubmit(v)})),e.windowManager=DT(e),e.notificationManager=mv(e),iw(e)&&e.on("GetContent",function(p){p.save&&(p.content=F1.encode(p.content))}),d4(e)&&e.on("submit",function(){e.initialized&&e.save()}),gb(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),iz(e,e.suffix)}},lz=function(e,n){return JD(e,n)},cz={"font-size":"size","font-family":"face"},fz=function(e,n,a){var i=function(v){return Ei(v,e).orThunk(function(){return _o(v)==="font"?Rr(cz,e).bind(function(p){return Ce(v,p)}):te.none()})},l=function(v){return Ba(je.fromDom(n),v)};return VE(je.fromDom(a),function(v){return i(v)},l)},RA=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},rM=function(e,n){return te.from(Ma.DOM.getStyle(n,e,!0))},HO=function(e){return function(n,a){return te.from(a).map(je.fromDom).filter(Fa).bind(function(i){return fz(e,n,i.dom).or(rM(e,i.dom))}).getOr("")}},vz=HO("font-size"),aM=Me(RA,HO("font-family")),oM=function(e){return ou(e.getBody()).map(function(n){var a=n.container();return gn(a)?a.parentNode:a})},dz=function(e){return te.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?te.none():te.from(e.selection.getStart(!0))})},mz=function(e,n){return dz(e).orThunk(se(oM,e)).map(je.fromDom).filter(Fa).bind(n)},VO=function(e,n){return mz(e,ne(te.some,n))},BA=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=Gp(e),l=im(e);return l?l[a-1]||n:i[a-1]||n}else return n}else return n},hz=function(e){var n=e.split(/\s*,\s*/);return Qe(n,function(a){return a.indexOf(" ")!==-1&&!(go(a,'"')||go(a,"'"))?"'"+a+"'":a}).join(",")},UO=function(e,n){var a=BA(e,n);e.formatter.toggle("fontname",{value:hz(a)}),e.nodeChanged()},gz=function(e){return VO(e,function(n){return aM(e.getBody(),n.dom)}).getOr("")},pz=function(e,n){e.formatter.toggle("fontsize",{value:BA(e,n)}),e.nodeChanged()},bz=function(e){return VO(e,function(n){return vz(e.getBody(),n.dom)}).getOr("")},iM=function(e){return VO(e,function(n){var a=je.fromDom(e.getBody()),i=VE(n,function(v){return Ei(v,"line-height")},se(Ba,a)),l=function(){var v=parseFloat(dr(n,"line-height")),p=parseFloat(dr(n,"font-size"));return String(v/p)};return i.getOrThunk(l)}).getOr("")},yz=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},wz=function(e){if(typeof e!="string"){var n=yt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},Cz=function(e,n){var a=wz(n);XD(e,a.content,a.details)},$A=yt.each,Sz=yt.map,Ws=yt.inArray,Ug=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,l){var v,p=!1,x=this;if(!x.editor.removed){if(n.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!l||!l.skip_focus)?x.editor.focus():nC(x.editor)),l=x.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),l.isDefaultPrevented())return!1;var A=n.toLowerCase();if(v=x.commands.exec[A])return v(A,a,i),x.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if($A(this.editor.plugins,function(I){if(I.execCommand&&I.execCommand(n,a,i))return x.editor.fire("ExecCommand",{command:n,ui:a,value:i}),p=!0,!1}),p)return p;if(x.editor.theme&&x.editor.theme.execCommand&&x.editor.theme.execCommand(n,a,i))return x.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{p=x.editor.getDoc().execCommand(n,a,i)}catch{}return p?(x.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch{}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch{}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;$A(n,function(l,v){$A(v.toLowerCase().split(","),function(p){i.commands[a][p]=l})})},e.prototype.addCommand=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.exec[n]=function(v,p,x,A){return a.call(i||l.editor,p,x,A)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch{}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||l.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var l=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||l.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":ye,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(l,v,p){Yb(n,p)},"Cut,Copy,Paste":function(l){var v=n.getDoc(),p;try{a.execNativeCommand(l)}catch{p=!0}if(l==="paste"&&!v.queryCommandEnabled(l)&&(p=!0),p||!v.queryCommandSupported(l)){var x=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");zn.mac&&(x=x.replace(/Ctrl\+/g,"+")),n.notificationManager.open({text:x,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var l=n.dom.getParent(n.selection.getStart(),"a");l&&n.dom.remove(l,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(l){var v=l.substring(7);v==="full"&&(v="justify"),$A("left,center,right,justify".split(","),function(p){v!==p&&n.formatter.remove("align"+p)}),v!=="none"&&a.toggleFormat("align"+v)},"InsertUnorderedList,InsertOrderedList":function(l){var v;a.execNativeCommand(l);var p=n.dom.getParent(n.selection.getNode(),"ol,ul");p&&(v=p.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(v.nodeName)&&(a.storeSelection(),n.dom.split(v,p),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){a.toggleFormat(l)},"ForeColor,HiliteColor":function(l,v,p){a.toggleFormat(l,{value:p})},FontName:function(l,v,p){UO(n,p)},FontSize:function(l,v,p){pz(n,p)},LineHeight:function(l,v,p){yz(n,p)},Lang:function(l,v,p){a.toggleFormat(l,{value:p.code,customValue:p.customCode})},RemoveFormat:function(l){n.formatter.remove(l)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(l,v,p){return a.toggleFormat(p||"p")},mceCleanup:function(){var l=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(l)},mceRemoveNode:function(l,v,p){var x=p||n.selection.getNode();x!==n.getBody()&&(a.storeSelection(),n.dom.remove(x,!0),a.restoreSelection())},mceSelectNodeDepth:function(l,v,p){var x=0;n.dom.getParent(n.selection.getNode(),function(A){if(A.nodeType===1&&x++===p)return n.selection.select(A),!1},n.getBody())},mceSelectNode:function(l,v,p){n.selection.select(p)},mceInsertContent:function(l,v,p){Cz(n,p)},mceInsertRawHTML:function(l,v,p){n.selection.setContent("tiny_mce_marker");var x=n.getContent();n.setContent(x.replace(/tiny_mce_marker/g,function(){return p}))},mceInsertNewLine:function(l,v,p){C$(n,p)},mceToggleFormat:function(l,v,p){a.toggleFormat(p)},mceSetContent:function(l,v,p){n.setContent(p)},"Indent,Outdent":function(l){fO(n,l)},mceRepaint:ye,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(l,v,p){n.execCommand("mceInsertContent",!1,p.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(l,v,p){typeof p=="string"&&(p={href:p});var x=n.dom.getParent(n.selection.getNode(),"a");p.href=p.href.replace(/ /g,"%20"),(!x||!p.href)&&n.formatter.remove("link"),p.href&&n.formatter.apply("link",p,x)},selectAll:function(){var l=n.dom.getParent(n.selection.getStart(),_l);if(l){var v=n.dom.createRng();v.selectNodeContents(l),n.selection.setRng(v)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(l,v,p){return g$(n,p),!0}});var i=function(l){return function(){var v=n.selection,p=v.isCollapsed()?[n.dom.getParent(v.getNode(),n.dom.isBlock)]:v.getSelectedBlocks(),x=Sz(p,function(A){return!!n.formatter.matchNode(A,l)});return Ws(x,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(l){return a.isFormatMatch(l)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return FB(n)},"InsertUnorderedList,InsertOrderedList":function(l){var v=n.dom.getParent(n.selection.getNode(),"ul,ol");return v&&(l==="insertunorderedlist"&&v.tagName==="UL"||l==="insertorderedlist"&&v.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return gz(n)},this),a.addQueryValueHandler("FontSize",function(){return bz(n)},this),a.addQueryValueHandler("LineHeight",function(){return iM(n)},this)},e}(),L1="data-mce-contenteditable",xz=function(e,n,a){F2(e,n)&&a===!1?N2(e,n):a&&em(e,n)},WO=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch{}},MA=function(e,n){e.dom.contentEditable=n?"true":"false"},_z=function(e){He(Bi(e,'*[contenteditable="true"]'),function(n){M(n,L1,"true"),MA(n,!1)})},kz=function(e){He(Bi(e,"*["+L1+'="true"]'),function(n){bt(n,L1),MA(n,!0)})},uM=function(e){te.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},My=function(e){e.selection.setRng(e.selection.getRng())},Az=function(e,n){var a=je.fromDom(e.getBody());xz(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),uM(e),e.readonly=!0,MA(a,!1),_z(a)):(e.readonly=!1,MA(a,!0),kz(a),WO(e,"StyleWithCSS",!1),WO(e,"enableInlineTableEditing",!1),WO(e,"enableObjectResizing",!1),L_(e)&&e.focus(),My(e),e.nodeChanged())},z1=function(e){return e.readonly},sM=function(e){e.parser.addAttributeFilter("contenteditable",function(n){z1(e)&&He(n,function(a){a.attr(L1,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(L1,function(n){z1(e)&&He(n,function(a){a.attr("contenteditable",a.attr(L1))})}),e.serializer.addTempAttr(L1)},bv=function(e){e.serializer?sM(e):e.on("PreInit",function(){sM(e)})},Ez=function(e){return e.type==="click"},Tz=function(e,n){var a=function(i){return Ba(i,je.fromDom(e.getBody()))};return bo(n,"a",a).bind(function(i){return Ce(i,"href")})},lM=function(e,n){if(Ez(n)&&!Vn.metaKeyPressed(n)){var a=je.fromDom(n.target);Tz(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var l=e.dom.select(i+',[name="'+nh(i,"#")+'"]');l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},Oz=function(e){e.on("ShowCaret",function(n){z1(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){z1(e)&&n.preventDefault()})},cM=yt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),PA=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||rt}return e.isNative=function(n){return!!cM[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),l=Dt(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);var v=this.bindings[i];if(v)for(var p=0,x=v.length;p<x;p++){var A=v[p];if(!A.removed){if(A.once&&this.off(i,A.func),l.isImmediatePropagationStopped())return l;if(A.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l},e.prototype.on=function(n,a,i,l){if(a===!1&&(a=rt),a){var v={func:a,removed:!1};l&&yt.extend(v,l);for(var p=n.toLowerCase().split(" "),x=p.length;x--;){var A=p[x],I=this.bindings[A];I||(I=[],this.toggleEvent(A,!0)),i?I=Ou([v],I,!0):I=Ou(Ou([],I,!0),[v],!1),this.bindings[A]=I}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var l=n.toLowerCase().split(" "),v=l.length;v--;){var p=l[v],x=this.bindings[p];if(!p)return Nr(this.bindings,function(I,K){i.toggleEvent(K,!1),delete i.bindings[K]}),this;if(x){if(!a)x.length=0;else{var A=Yt(x,function(I){return I.func===a});x=A.fail,this.bindings[p]=x,He(A.pass,function(I){I.removed=!0})}x.length||(this.toggleEvent(n,!1),delete this.bindings[p])}}else Nr(this.bindings,function(I,K){i.toggleEvent(K,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),H1=function(e){return e._eventDispatcher||(e._eventDispatcher=new PA({scope:e,toggleEvent:function(n,a){PA.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},IA={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var l=H1(i).fire(e,n);if(a!==!1&&i.parent)for(var v=i.parent();v&&!l.isPropagationStopped();)v.fire(e,l,!1),v=v.parent();return l},on:function(e,n,a){return H1(this).on(e,n,a)},off:function(e,n){return H1(this).off(e,n)},once:function(e,n){return H1(this).once(e,n)},hasEventListeners:function(e){return H1(this).has(e)}},NA=Ma.DOM,V1,FA=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=hb(e);return a?(e.eventRoot||(e.eventRoot=NA.select(a)[0]),e.eventRoot):e.getBody()},Dz=function(e){return!e.hidden&&!z1(e)},jO=function(e,n,a){Dz(e)?e.fire(n,a):z1(e)&&lM(e,a)},GO=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=FA(e,n);if(hb(e)){if(V1||(V1={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||V1&&(Nr(V1,function(l,v){e.dom.unbind(FA(e,v))}),V1=null)})),V1[n])return;a=function(l){for(var v=l.target,p=e.editorManager.get(),x=p.length;x--;){var A=p[x].getBody();(A===v||NA.isChildOf(v,A))&&jO(p[x],n,l)}},V1[n]=a,NA.bind(i,n,a)}else a=function(l){jO(e,n,l)},NA.bind(i,n,a),e.delegates[n]=a}},fM=Un(Un({},IA),{bindPendingEventDelegates:function(){var e=this;yt.each(e._pendingNativeEvents,function(n){GO(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||a.removed||(n?a.initialized?GO(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(FA(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(Nr(e.delegates,function(i,l){e.dom.unbind(FA(e,l),l,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),vM=["design","readonly"],dM=function(e,n,a,i){var l=a[n.get()],v=a[i];try{v.activate()}catch(p){console.error("problem while activating editor mode "+i+":",p);return}l.deactivate(),l.editorReadOnly!==v.editorReadOnly&&Az(e,v.editorReadOnly),n.set(i),Lw(e,i)},Rz=function(e,n,a,i){if(i!==a.get()){if(!kr(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?dM(e,a,n,i):e.on("init",function(){return dM(e,a,n,i)})}},Bz=function(e,n,a){var i;if(Ae(vM,n))throw new Error("Cannot override default mode "+n);return Un(Un({},e),(i={},i[n]=Un(Un({},a),{deactivate:function(){try{a.deactivate()}catch(l){console.error("problem while deactivating editor mode "+n+":",l)}}}),i))},$z=function(e){var n=yu("design"),a=yu({design:{activate:ye,deactivate:ye,editorReadOnly:!1},readonly:{activate:ye,deactivate:ye,editorReadOnly:!0}});return bv(e),Oz(e),{isReadOnly:function(){return z1(e)},set:function(i){return Rz(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,l){a.set(Bz(a.get(),i,l))}}},LA=yt.each,mS=yt.explode,mM={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},hM=yt.makeMap("alt,ctrl,shift,meta,access"),Mz=function(e){var n,a={};LA(mS(e.toLowerCase(),"+"),function(l){l in hM?a[l]=!0:/^[0-9]{2,}$/.test(l)?a.keyCode=parseInt(l,10):(a.charCode=l.charCodeAt(0),a.keyCode=mM[l]||l.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in hM)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,zn.mac?a.ctrl=!0:a.shift=!0),a.meta&&(zn.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},zA=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(LA(a.shortcuts,function(l){if(a.matchShortcut(i,l))return a.pendingPatterns=l.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(l),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,l){var v=this,p=v.normalizeCommandFunc(i);return LA(mS(yt.trim(n)),function(x){var A=v.createShortcut(x,a,p,l);v.shortcuts[A.id]=A}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:yt.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,l){var v=yt.map(mS(n,">"),Mz);return v[v.length-1]=yt.extend(v[v.length-1],{func:i,scope:l||this.editor}),yt.extend(v[0],{desc:this.editor.translate(a),subpatterns:v.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),gM=function(){var e={},n={},a={},i={},l={},v={},p={},x=function(I,K){return function(J,Q){return I[J.toLowerCase()]=Un(Un({},Q),{type:K})}},A=function(I,K){return i[I.toLowerCase()]=K};return{addButton:x(e,"button"),addGroupToolbarButton:x(e,"grouptoolbarbutton"),addToggleButton:x(e,"togglebutton"),addMenuButton:x(e,"menubutton"),addSplitButton:x(e,"splitbutton"),addMenuItem:x(n,"menuitem"),addNestedMenuItem:x(n,"nestedmenuitem"),addToggleMenuItem:x(n,"togglemenuitem"),addAutocompleter:x(a,"autocompleter"),addContextMenu:x(l,"contextmenu"),addContextToolbar:x(v,"contexttoolbar"),addContextForm:x(v,"contextform"),addSidebar:x(p,"sidebar"),addIcon:A,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:l,contextToolbars:v,sidebars:p}}}},Pz=function(){var e=gM();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},U1=Ma.DOM,pM=yt.extend,Iz=yt.each,bM=yt.resolve,Nz=zn.ie,HA=function(){function e(n,a,i){var l=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,pM(this,fM),this.settings=DR(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(ev.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ma.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Fu.languageLoad=this.settings.language_load,Fu.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new gd(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new zA(this),this.editorCommands=new Ug(this),this.settings.cache_suffix&&(zn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:Pz(),styleSheetLoader:void 0,show:ye,hide:ye,enable:ye,disable:ye,isDisabled:rt};var v=this,p=$z(v);this.mode=p,this.setMode=p.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=lr.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}return e.prototype.render=function(){sz(this)},e.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},e.prototype.hasFocus=function(){return sl(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var l=this,v=l.settings[n],p;if(v)return l.callbackLookup&&(p=l.callbackLookup[n])&&(v=p.func,p=p.scope),typeof v=="string"&&(p=v.replace(/\.\w+$/,""),p=p?bM(p):0,v=bM(v),l.callbackLookup=l.callbackLookup||{},l.callbackLookup[n]={func:v,scope:p}),v.apply(p||l,a)},e.prototype.translate=function(n){return wu.translate(n)},e.prototype.getParam=function(n,a,i){return OI(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=Ae(pb(this).split(/[ ,]/),n);return i?a?cl.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,l){this.shortcuts.add(n,a,i,l)},e.prototype.execCommand=function(n,a,i,l){return this.editorCommands.execCommand(n,a,i,l)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(U1.show(n.getContainer()),U1.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(Nz&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(U1.hide(n.getContainer()),U1.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),l;if(a.removed)return"";if(i){n=n||{},n.load=!0;var v=Ai(i)?i.value:i.innerHTML;return l=a.setContent(v,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,l}},e.prototype.save=function(n){var a=this,i=a.getElement(),l,v;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,l=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),l=n.content,Ai(i)?i.value=l:((n.is_removing||!a.inline)&&(i.innerHTML=l),(v=U1.getParent(a.id,"form"))&&Iz(v.elements,function(p){if(p.name===a.id)return p.value=l,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),l},e.prototype.setContent=function(n,a){return AT(this,n,a)},e.prototype.getContent=function(n){return uI(this,n)},e.prototype.insertContent=function(n,a){a&&(n=pM({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?AT(this,this.startContent,{format:"raw"}):AT(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=U1.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=U1.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var l=this,v=l.settings;return v.urlconverter_callback?l.execCallback("urlconverter_callback",n,i,!0,a):!v.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:v.relative_urls?l.documentBaseURI.toRelative(n):(n=l.documentBaseURI.toAbsolute(n,v.remove_script_host),n)},e.prototype.addVisual=function(n){lz(this,n)},e.prototype.remove=function(){cI(this)},e.prototype.destroy=function(n){wR(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Cf=Ma.DOM,Fz=yt.explode,Do=yt.each,qO=yt.extend,kd=0,KO=!1,hS,Wg=[],Wu=[],XO=function(e){return e!=="length"},YO=function(e){var n=e.type;Do(jg.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},JO=function(e){e!==KO&&(e?lr(window).on("resize scroll",YO):lr(window).off("resize scroll",YO),KO=e)},yM=function(e){var n=Wu;delete Wg[e.id];for(var a=0;a<Wg.length;a++)if(Wg[a]===e){Wg.splice(a,1);break}return Wu=ot(Wu,function(i){return e!==i}),jg.activeEditor===e&&(jg.activeEditor=Wu.length>0?Wu[0]:null),jg.focusedEditor===e&&(jg.focusedEditor=null),n.length!==Wu.length},Lz=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(yM(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},zz=document.compatMode!=="CSS1Compat",jg=Un(Un({},IA),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:lr,majorVersion:"5",minorVersion:"10.7",releaseDate:"2022-12-06",editors:Wg,i18n:wu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=gd.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,i=l.suffix;else{for(var v=document.getElementsByTagName("script"),p=0;p<v.length;p++){var x=v[p].src||"";if(x!==""){var A=x.substring(x.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(x)){A.indexOf(".min")!==-1&&(i=".min"),n=x.substring(0,x.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var x=document.currentScript.src;x.indexOf(".min")!==-1&&(i=".min"),n=x.substring(0,x.lastIndexOf("/"))}}e.baseURL=new gd(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new gd(e.baseURL),e.suffix=i,$_(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&Nr(i,function(l,v){Fu.PluginManager.urls[v]=l})},init:function(e){var n=this,a,i=yt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=function(J,Q){return J.inline&&Q.tagName.toLowerCase()in i},v=function(J){var Q=J.id;return Q||(Q=Rr(J,"name").filter(function(ce){return!Cf.get(ce)}).getOrThunk(Cf.uniqueId),J.setAttribute("id",Q)),Q},p=function(J){var Q=e[J];if(Q)return Q.apply(n,[])},x=function(J,Q){return Q.constructor===RegExp?Q.test(J.className):Cf.hasClass(J,Q)},A=function(J){var Q=[];if(zn.browser.isIE()&&zn.browser.version.major<11)return qC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(zz)return qC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(J.types)return Do(J.types,function(ve){Q=Q.concat(Cf.select(ve.selector))}),Q;if(J.selector)return Cf.select(J.selector);if(J.target)return[J.target];switch(J.mode){case"exact":var ce=J.elements||"";ce.length>0&&Do(Fz(ce),function(ve){var me=Cf.get(ve);me?Q.push(me):Do(document.forms,function(he){Do(he.elements,function(Oe){Oe.name===ve&&(ve="mce_editor_"+kd++,Cf.setAttrib(Oe,"id",ve),Q.push(Oe))})})});break;case"textareas":case"specific_textareas":Do(Cf.select("textarea"),function(ve){J.editor_deselector&&x(ve,J.editor_deselector)||(!J.editor_selector||x(ve,J.editor_selector))&&Q.push(ve)});break}return Q},I=function(J){a=J},K=function(){var J=0,Q=[],ce,ve=function(me,he,Oe){var _e=new HA(me,he,n);Q.push(_e),_e.on("init",function(){++J===ce.length&&I(Q)}),_e.targetElm=_e.targetElm||Oe,_e.render()};if(Cf.unbind(window,"ready",K),p("onpageload"),ce=lr.unique(A(e)),e.types){Do(e.types,function(me){yt.each(ce,function(he){return Cf.is(he,me.selector)?(ve(v(he),qO({},e,me),he),!1):!0})});return}yt.each(ce,function(me){Lz(n.get(me.id))}),ce=yt.grep(ce,function(me){return!n.get(me.id)}),ce.length===0?I([]):Do(ce,function(me){l(e,me)?qC("Could not initialize inline editor on invalid inline target element",me):ve(v(me),e,me)})};return n.settings=e,Cf.bind(window,"ready",K),new ui(function(J){a?J(a):I=function(Q){J(Q)}})},get:function(e){return arguments.length===0?Wu.slice(0):Be(e)?nn(Wu,function(n){return n.id===e}).getOr(null):pe(e)&&Wu[e]?Wu[e]:null},add:function(e){var n=this,a=Wg[e.id];return a===e||(n.get(e.id)===null&&(XO(e.id)&&(Wg[e.id]=e),Wg.push(e),Wu.push(e)),JO(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),hS||(hS=function(i){var l=n.fire("BeforeUnload");if(l.returnValue)return i.preventDefault(),i.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",hS))),e},createEditor:function(e,n){return this.add(new HA(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=Wu.length-1;a>=0;a--)n.remove(Wu[a]);return}if(Be(e)){Do(Cf.select(e),function(l){i=n.get(l.id),i&&n.remove(i)});return}return i=e,ue(n.get(i.id))?null:(yM(i)&&n.fire("RemoveEditor",{editor:i}),Wu.length===0&&window.removeEventListener("beforeunload",hS),i.remove(),JO(Wu.length>0),i)},execCommand:function(e,n,a){var i=this,l=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new HA(a,i.settings,i).render(),!0;case"mceRemoveEditor":return l&&l.remove(),!0;case"mceToggleEditor":return l?(l.isHidden()?l.show():l.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){Do(Wu,function(e){e.save()})},addI18n:function(e,n){wu.add(e,n)},translate:function(e){return wu.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new gd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new gd(this.baseURL)}});jg.setup();var wM=Math.min,W1=Math.max,VA=Math.round,CM=function(e,n,a){var i=n.x,l=n.y,v=e.w,p=e.h,x=n.w,A=n.h,I=(a||"").split("");return I[0]==="b"&&(l+=A),I[1]==="r"&&(i+=x),I[0]==="c"&&(l+=VA(A/2)),I[1]==="c"&&(i+=VA(x/2)),I[3]==="b"&&(l-=p),I[4]==="r"&&(i-=v),I[3]==="c"&&(l-=VA(p/2)),I[4]==="c"&&(i-=VA(v/2)),j1(i,l,v,p)},Hz=function(e,n,a,i){var l,v;for(v=0;v<i.length;v++)if(l=CM(e,n,i[v]),l.x>=a.x&&l.x+l.w<=a.w+a.x&&l.y>=a.y&&l.y+l.h<=a.h+a.y)return i[v];return null},Vz=function(e,n,a){return j1(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},Uz=function(e,n){var a=W1(e.x,n.x),i=W1(e.y,n.y),l=wM(e.x+e.w,n.x+n.w),v=wM(e.y+e.h,n.y+n.h);return l-a<0||v-i<0?null:j1(a,i,l-a,v-i)},Wz=function(e,n,a){var i=e.x,l=e.y,v=e.x+e.w,p=e.y+e.h,x=n.x+n.w,A=n.y+n.h,I=W1(0,n.x-i),K=W1(0,n.y-l),J=W1(0,v-x),Q=W1(0,p-A);return i+=I,l+=K,a&&(v+=I,p+=K,i-=J,l-=Q),v-=J,p-=Q,j1(i,l,v-i,p-l)},j1=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},jz=function(e){return j1(e.left,e.top,e.width,e.height)},Gz={inflate:Vz,relativePosition:CM,findBestRelativePosition:Hz,intersect:Uz,clamp:Wz,create:j1,fromClientRect:jz},qz=function(e,n,a){a===void 0&&(a=1e3);var i=!1,l=null,v=function(I){return function(){for(var K=[],J=0;J<arguments.length;J++)K[J]=arguments[J];i||(i=!0,l!==null&&(clearTimeout(l),l=null),I.apply(null,K))}},p=v(e),x=v(n),A=function(){for(var I=[],K=0;K<arguments.length;K++)I[K]=arguments[K];!i&&l===null&&(l=setTimeout(function(){return x.apply(null,I)},a))};return{start:A,resolve:p,reject:x}},ZO=function(){var e={},n={},a=function(l,v){var p='Script at URL "'+v+'" failed to load',x='Script at URL "'+v+"\" did not call `tinymce.Resource.add('"+l+"', data)` within 1 second";if(e[l]!==void 0)return e[l];var A=new ui(function(I,K){var J=qz(I,K);n[l]=J.resolve,ev.ScriptLoader.loadScript(v,function(){return J.start(x)},function(){return J.reject(p)})});return e[l]=A,A},i=function(l,v){n[l]!==void 0&&(n[l](v),delete n[l]),e[l]=ui.resolve(v)};return{load:a,add:i}},gS=ZO(),yv=yt.each,Py=yt.extend,UA,pS,QO=function(){};QO.extend=UA=function(e){var n=this,a=n.prototype,i=function(){var x,A,I,K=this;if(!pS&&(K.init&&K.init.apply(K,arguments),A=K.Mixins,A))for(x=A.length;x--;)I=A[x],I.init&&I.init.apply(K,arguments)},l=function(){return this},v=function(x,A){return function(){var I=this,K=I._super;I._super=a[x];var J=A.apply(I,arguments);return I._super=K,J}};pS=!0;var p=new n;return pS=!1,e.Mixins&&(yv(e.Mixins,function(x){for(var A in x)A!=="init"&&(e[A]=x[A])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&yv(e.Methods.split(","),function(x){e[x]=l}),e.Properties&&yv(e.Properties.split(","),function(x){var A="_"+x;e[x]=function(I){var K=this;return I!==void 0?(K[A]=I,K):K[A]}}),e.Statics&&yv(e.Statics,function(x,A){i[A]=x}),e.Defaults&&a.Defaults&&(e.Defaults=Py({},a.Defaults,e.Defaults)),Nr(e,function(x,A){typeof x=="function"&&a[A]?p[A]=v(A,x):p[A]=x}),i.prototype=p,i.constructor=i,i.extend=UA,i};var bS=Math.min,WA=Math.max,Gg=Math.round,SM=function(e){var n={},a=0,i=0,l=0,v=function(J,Q,ce){var ve,me,he;ve=0,me=0,he=0,J=J/255,Q=Q/255,ce=ce/255;var Oe=bS(J,bS(Q,ce)),_e=WA(J,WA(Q,ce));if(Oe===_e)return he=Oe,{h:0,s:0,v:he*100};var qe=J===Oe?Q-ce:ce===Oe?J-Q:ce-J;return ve=J===Oe?3:ce===Oe?1:5,ve=60*(ve-qe/(_e-Oe)),me=(_e-Oe)/_e,he=_e,{h:Gg(ve),s:Gg(me*100),v:Gg(he*100)}},p=function(J,Q,ce){if(J=(parseInt(J,10)||0)%360,Q=parseInt(Q,10)/100,ce=parseInt(ce,10)/100,Q=WA(0,bS(Q,1)),ce=WA(0,bS(ce,1)),Q===0){a=i=l=Gg(255*ce);return}var ve=J/60,me=ce*Q,he=me*(1-Math.abs(ve%2-1)),Oe=ce-me;switch(Math.floor(ve)){case 0:a=me,i=he,l=0;break;case 1:a=he,i=me,l=0;break;case 2:a=0,i=me,l=he;break;case 3:a=0,i=he,l=me;break;case 4:a=he,i=0,l=me;break;case 5:a=me,i=0,l=he;break;default:a=i=l=0}a=Gg(255*(a+Oe)),i=Gg(255*(i+Oe)),l=Gg(255*(l+Oe))},x=function(){var J=function(Q){return Q=parseInt(Q,10).toString(16),Q.length>1?Q:"0"+Q};return"#"+J(a)+J(i)+J(l)},A=function(){return{r:a,g:i,b:l}},I=function(){return v(a,i,l)},K=function(J){var Q;return typeof J=="object"?"r"in J?(a=J.r,i=J.g,l=J.b):"v"in J&&p(J.h,J.s,J.v):(Q=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(J))?(a=parseInt(Q[1],10),i=parseInt(Q[2],10),l=parseInt(Q[3],10)):(Q=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(J))?(a=parseInt(Q[1],16),i=parseInt(Q[2],16),l=parseInt(Q[3],16)):(Q=/#([0-F])([0-F])([0-F])/gi.exec(J))&&(a=parseInt(Q[1]+Q[1],16),i=parseInt(Q[2]+Q[2],16),l=parseInt(Q[3]+Q[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,l=l<0?0:l>255?255:l,n};return e&&K(e),n.toRgb=A,n.toHsv=I,n.toHex=x,n.parse=K,n},Kz=function(e){var n=JSON.stringify(e);return Be(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},e5={serialize:Kz,parse:function(e){try{return JSON.parse(e)}catch{}}},Xz={callbacks:{},count:0,send:function(e){var n=this,a=Ma.DOM,i=e.count!==void 0?e.count:n.count,l="tinymce_jsonp_"+i;n.callbacks[i]=function(v){a.remove(l),delete n.callbacks[i],e.callback(v)},a.add(a.doc.body,"script",{id:l,src:e.url,type:"text/javascript"}),n.count++}},jA=Un(Un({},IA),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):ji.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",jA.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&yt.each(e.requestheaders,function(l){n.setRequestHeader(l.key,l.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=jA.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();ji.setTimeout(i,10)}}),xM=yt.extend,Yz=function(){function e(n){this.settings=xM({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,l=xM(this.settings,n);l.success=function(v,p){v=e5.parse(v),typeof v>"u"&&(v={error:"JSON Parse error."}),v.error?a.call(l.error_scope||l.scope,v.error,p):i.call(l.success_scope||l.scope,v.result)},l.error=function(v,p){a&&a.call(l.error_scope||l.scope,v,p)},l.data=e5.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),l.content_type="application/json",jA.send(l)},e}(),_M=function(){return function(){var e={},n=[],a={getItem:function(i){var l=e[i];return l||null},setItem:function(i,l){n.push(i),e[i]=String(l)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(l){return l===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},Iy;try{var t5="__storage_test__";Iy=window.localStorage,Iy.setItem(t5,t5),Iy.removeItem(t5)}catch{Iy=_M()}var Jz=Iy,Zz={geom:{Rect:Gz},util:{Promise:ui,Delay:ji,Tools:yt,VK:Vn,URI:gd,Class:QO,EventDispatcher:PA,Observable:IA,I18n:wu,XHR:jA,JSON:e5,JSONRequest:Yz,JSONP:Xz,LocalStorage:Jz,Color:SM,ImageUploader:FR},dom:{EventUtils:Ah,Sizzle:ha,DomQuery:lr,TreeWalker:ia,TextSeeker:V2,DOMUtils:Ma,ScriptLoader:ev,RangeUtils:a1,Serializer:bR,StyleSheetLoader:qS,ControlSelection:Vw,BookmarkManager:fd,Selection:rR,Event:Ah.Event},html:{Styles:Rl,Entities:Bs,Node:ll,Schema:$s,SaxParser:wg,DomParser:zk,Writer:Z_,Serializer:_m},Env:zn,AddOnManager:Fu,Annotator:Nb,Formatter:LR,UndoManager:hf,EditorCommands:Ug,WindowManager:DT,NotificationManager:mv,EditorObservable:fM,Shortcuts:zA,Editor:HA,FocusManager:E_,EditorManager:jg,DOM:Ma.DOM,ScriptLoader:ev.ScriptLoader,PluginManager:cl,ThemeManager:Sd,IconManager:Uk,Resource:gS,trim:yt.trim,isArray:yt.isArray,is:yt.is,toArray:yt.toArray,makeMap:yt.makeMap,each:yt.each,map:yt.map,grep:yt.grep,inArray:yt.inArray,extend:yt.extend,create:yt.create,walk:yt.walk,createNS:yt.createNS,resolve:yt.resolve,explode:yt.explode,_addCacheSuffix:yt._addCacheSuffix,isOpera:zn.opera,isWebKit:zn.webkit,isIE:zn.ie,isGecko:zn.gecko,isMac:zn.mac},kM=yt.extend(jg,Zz),Qz=function(e){try{f.exports=e}catch{}},e7=function(e){window.tinymce=e,window.tinyMCE=e};e7(kM),Qz(kM)})()})(fG);var uoe=fG.exports;const sa=ioe(uoe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var f=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},m=function(t){return function(r){return f(r)===t}},y=function(t){return function(r){return typeof r===t}},b=function(t){return function(r){return t===r}},S=m("string"),_=m("object"),T=m("array"),D=b(null),L=y("boolean"),j=b(void 0),N=function(t){return t==null},V=function(t){return!N(t)},P=y("function"),z=y("number"),X=function(t,r){if(T(t)){for(var o=0,s=t.length;o<s;++o)if(!r(t[o]))return!1;return!0}return!1},G=function(){},Be=function(t){return function(){return t()}},de=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(r.apply(null,o))}},$e=function(t,r){return function(o){return t(r(o))}},ue=function(t){return function(){return t}},Ee=function(t){return t},De=function(t,r){return t===r};function ke(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];var g=r.concat(s);return t.apply(null,g)}}var Xe=function(t){return function(r){return!t(r)}},le=function(t){return function(){throw new Error(t)}},pe=ue(!1),ye=ue(!0),Me=tinymce.util.Tools.resolve("tinymce.ThemeManager"),ne=function(){return ne=Object.assign||function(r){for(var o,s=1,d=arguments.length;s<d;s++){o=arguments[s];for(var g in o)Object.prototype.hasOwnProperty.call(o,g)&&(r[g]=o[g])}return r},ne.apply(this,arguments)};function U(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(t);d<s.length;d++)r.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(t,s[d])&&(o[s[d]]=t[s[d]]);return o}function xe(t,r,o){if(o||arguments.length===2)for(var s=0,d=r.length,g;s<d;s++)(g||!(s in r))&&(g||(g=Array.prototype.slice.call(r,0,s)),g[s]=r[s]);return t.concat(g||Array.prototype.slice.call(r))}var Ze=function(){return se},se=function(){var t=function(s){return s()},r=Ee,o={fold:function(s,d){return s()},isSome:pe,isNone:ye,getOr:r,getOrThunk:t,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:ue(null),getOrUndefined:ue(void 0),or:r,orThunk:t,map:Ze,each:G,bind:Ze,exists:pe,forall:ye,filter:function(){return Ze()},toArray:function(){return[]},toString:ue("none()")};return o}(),ge=function(t){var r=ue(t),o=function(){return d},s=function(g){return g(t)},d={fold:function(g,C){return C(t)},isSome:ye,isNone:pe,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(g){return ge(g(t))},each:function(g){g(t)},bind:s,exists:s,forall:s,filter:function(g){return g(t)?d:se},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return d},ut=function(t){return t==null?se:ge(t)},$={some:ge,none:Ze,from:ut},xt=Array.prototype.slice,rt=Array.prototype.indexOf,at=Array.prototype.push,kn=function(t,r){return rt.call(t,r)},ln=function(t,r){var o=kn(t,r);return o===-1?$.none():$.some(o)},lt=function(t,r){return kn(t,r)>-1},Sn=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(r(d,o))return!0}return!1},te=function(t,r){for(var o=[],s=0;s<t;s++)o.push(r(s));return o},cn=function(t,r){for(var o=[],s=0;s<t.length;s+=r){var d=xt.call(t,s,s+r);o.push(d)}return o},Ue=function(t,r){for(var o=t.length,s=new Array(o),d=0;d<o;d++){var g=t[d];s[d]=r(g,d)}return s},gt=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];r(d,o)}},Gn=function(t,r){for(var o=t.length-1;o>=0;o--){var s=t[o];r(s,o)}},Te=function(t,r){for(var o=[],s=[],d=0,g=t.length;d<g;d++){var C=t[d],E=r(C,d)?o:s;E.push(C)}return{pass:o,fail:s}},Ae=function(t,r){for(var o=[],s=0,d=t.length;s<d;s++){var g=t[s];r(g,s)&&o.push(g)}return o},Ye=function(t,r,o){return Gn(t,function(s,d){o=r(o,s,d)}),o},Qe=function(t,r,o){return gt(t,function(s,d){o=r(o,s,d)}),o},He=function(t,r,o){for(var s=0,d=t.length;s<d;s++){var g=t[s];if(r(g,s))return $.some(g);if(o(g,s))break}return $.none()},pt=function(t,r){return He(t,r,pe)},Yt=function(t,r){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(r(d,o))return $.some(o)}return $.none()},ot=function(t){for(var r=[],o=0,s=t.length;o<s;++o){if(!T(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);at.apply(r,t[o])}return r},Wt=function(t,r){return ot(Ue(t,r))},Ot=function(t,r){for(var o=0,s=t.length;o<s;++o){var d=t[o];if(r(d,o)!==!0)return!1}return!0},It=function(t){var r=xt.call(t,0);return r.reverse(),r},nn=function(t,r){return Ae(t,function(o){return!lt(r,o)})},pn=function(t,r){for(var o={},s=0,d=t.length;s<d;s++){var g=t[s];o[String(g)]=r(g,s)}return o},jn=function(t){return[t]},ir=function(t,r){var o=xt.call(t,0);return o.sort(r),o},jr=function(t,r){return r>=0&&r<t.length?$.some(t[r]):$.none()},tr=function(t){return jr(t,0)},oa=function(t){return jr(t,t.length-1)},fa=P(Array.from)?Array.from:function(t){return xt.call(t)},Jr=function(t,r){for(var o=0;o<t.length;o++){var s=r(t[o],o);if(s.isSome())return s}return $.none()},Ir=Object.keys,va=Object.hasOwnProperty,Hr=function(t,r){for(var o=Ir(t),s=0,d=o.length;s<d;s++){var g=o[s],C=t[g];r(C,g)}},ur=function(t,r){return Ia(t,function(o,s){return{k:s,v:r(o,s)}})},Ia=function(t,r){var o={};return Hr(t,function(s,d){var g=r(s,d);o[g.k]=g.v}),o},Zi=function(t){return function(r,o){t[o]=r}},Kl=function(t,r,o,s){var d={};return Hr(t,function(g,C){(r(g,C)?o:s)(g,C)}),d},Nr=function(t,r){var o={};return Kl(t,r,Zi(o),G),o},Si=function(t,r){var o=[];return Hr(t,function(s,d){o.push(r(s,d))}),o},Ju=function(t,r){for(var o=Ir(t),s=0,d=o.length;s<d;s++){var g=o[s],C=t[g];if(r(C,g,t))return $.some(C)}return $.none()},xi=function(t){return Si(t,Ee)},En=function(t,r){return Dr(t,r)?$.from(t[r]):$.none()},Dr=function(t,r){return va.call(t,r)},uo=function(t,r){return Dr(t,r)&&t[r]!==void 0&&t[r]!==null},lu=function(t,r,o){return o===void 0&&(o=De),t.exists(function(s){return o(s,r)})},Zu=function(t,r,o){return o===void 0&&(o=De),Gs(t,r,o).getOr(t.isNone()&&r.isNone())},Rr=function(t){for(var r=[],o=function(d){r.push(d)},s=0;s<t.length;s++)t[s].each(o);return r},kr=function(t){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s.isSome())r.push(s.getOrDie());else return $.none()}return $.some(r)},Gs=function(t,r,o){return t.isSome()&&r.isSome()?$.some(o(t.getOrDie(),r.getOrDie())):$.none()},Jm=function(t,r,o,s){return t.isSome()&&r.isSome()&&o.isSome()?$.some(s(t.getOrDie(),r.getOrDie(),o.getOrDie())):$.none()},Ef=function(t,r){return t!=null?$.some(r(t)):$.none()},qs=function(t,r){return t?$.some(r):$.none()},Rc=function(t,r){return t+r},Av=function(t,r){return t.substring(r)},gl=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},pl=function(t,r){return Ks(t,r)?Av(t,r.length):t},Tf=function(t,r){return Un(t,r)?t:Rc(t,r)},da=function(t,r){return t.indexOf(r)!==-1},Ks=function(t,r){return gl(t,r,0)},Un=function(t,r){return gl(t,r,t.length-r.length)},Zm=function(t){return function(r){return r.replace(t,"")}},Ou=Zm(/^\s+|\s+$/g),Bc=function(t){return t.length>0},Qm=function(t){return!Bc(t)},Xl=function(t){return t.style!==void 0&&P(t.style.getPropertyValue)},eh=function(t,r){var o=r||document,s=o.createElement("div");if(s.innerHTML=t,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Ss(s.childNodes[0])},Of=function(t,r){var o=r||document,s=o.createElement(t);return Ss(s)},th=function(t,r){var o=r||document,s=o.createTextNode(t);return Ss(s)},Ss=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},$c=function(t,r,o){return $.from(t.dom.elementFromPoint(r,o)).map(Ss)},un={fromHtml:eh,fromTag:Of,fromText:th,fromDom:Ss,fromPoint:$c};typeof window<"u"||Function("return this;")();var Dd=9,Ev=11,Tv=1,Yl=3,Qu=function(t){var r=t.dom.nodeName;return r.toLowerCase()},nh=function(t){return t.dom.nodeType},Bo=function(t){return function(r){return nh(r)===t}},go=Bo(Tv),Du=Bo(Yl),Xs=Bo(Dd),Rd=Bo(Ev),es=function(t){var r=!1,o;return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return r||(r=!0,o=t.apply(null,s)),o}},Df=function(t,r,o,s){var d=t.isiOS()&&/ipad/i.test(o)===!0,g=t.isiOS()&&!d,C=t.isiOS()||t.isAndroid(),E=C||s("(pointer:coarse)"),O=d||!g&&C&&s("(min-device-width:768px)"),B=g||C&&!O,H=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,W=!B&&!O&&!H;return{isiPad:ue(d),isiPhone:ue(g),isTablet:ue(O),isPhone:ue(B),isTouch:ue(E),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ue(H),isDesktop:ue(W)}},Bd=function(t,r){for(var o=0;o<t.length;o++){var s=t[o];if(s.test(r))return s}},bl=function(t,r){var o=Bd(t,r);if(!o)return{major:0,minor:0};var s=function(d){return Number(r.replace(o,"$"+d))};return _i(s(1),s(2))},Ru=function(t,r){var o=String(r).toLowerCase();return t.length===0?Qt():bl(t,o)},Qt=function(){return _i(0,0)},_i=function(t,r){return{major:t,minor:r}},yl={nu:_i,detect:Ru,unknown:Qt},rh=function(t,r){return Jr(r.brands,function(o){var s=o.brand.toLowerCase();return pt(t,function(d){var g;return s===((g=d.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(function(d){return{current:d.name,version:yl.nu(parseInt(o.version,10),0)}})})},Rf=function(t,r){var o=String(r).toLowerCase();return pt(t,function(s){return s.search(o)})},Zr=function(t,r){return Rf(t,r).map(function(o){var s=yl.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Ov=function(t,r){return Rf(t,r).map(function(o){var s=yl.detect(o.versionRegexes,r);return{current:o.name,version:s}})},wl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,so=function(t){return function(r){return da(r,t)}},Dv=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return da(t,"edge/")&&da(t,"chrome")&&da(t,"safari")&&da(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,wl],search:function(t){return da(t,"chrome")&&!da(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return da(t,"msie")||da(t,"trident")}},{name:"Opera",versionRegexes:[wl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:so("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:so("firefox")},{name:"Safari",versionRegexes:[wl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(da(t,"safari")||da(t,"mobile/"))&&da(t,"applewebkit")}}],cu=[{name:"Windows",search:so("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return da(t,"iphone")||da(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:so("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:so("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:so("linux"),versionRegexes:[]},{name:"Solaris",search:so("sunos"),versionRegexes:[]},{name:"FreeBSD",search:so("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:so("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ts={browsers:ue(Dv),oses:ue(cu)},Ra="Edge",Bf="Chrome",$f="IE",Rv="Opera",$d="Firefox",Cl="Safari",Ys=function(){return Bv({current:void 0,version:yl.unknown()})},Bv=function(t){var r=t.current,o=t.version,s=function(d){return function(){return r===d}};return{current:r,version:o,isEdge:s(Ra),isChrome:s(Bf),isIE:s($f),isOpera:s(Rv),isFirefox:s($d),isSafari:s(Cl)}},xs={unknown:Ys,nu:Bv,edge:ue(Ra),chrome:ue(Bf),ie:ue($f),opera:ue(Rv),firefox:ue($d),safari:ue(Cl)},Bu="Windows",oe="iOS",Ne="Android",Ke="Linux",kt="OSX",Gt="Solaris",Rn="FreeBSD",na="ChromeOS",ma=function(){return hr({current:void 0,version:yl.unknown()})},hr=function(t){var r=t.current,o=t.version,s=function(d){return function(){return r===d}};return{current:r,version:o,isWindows:s(Bu),isiOS:s(oe),isAndroid:s(Ne),isOSX:s(kt),isLinux:s(Ke),isSolaris:s(Gt),isFreeBSD:s(Rn),isChromeOS:s(na)}},Na={unknown:ma,nu:hr,windows:ue(Bu),ios:ue(oe),android:ue(Ne),linux:ue(Ke),osx:ue(kt),solaris:ue(Gt),freebsd:ue(Rn),chromeos:ue(na)},ja=function(t,r,o){var s=ts.browsers(),d=ts.oses(),g=r.bind(function(O){return rh(s,O)}).orThunk(function(){return Zr(s,t)}).fold(xs.unknown,xs.nu),C=Ov(d,t).fold(Na.unknown,Na.nu),E=Df(C,g,t,o);return{browser:g,os:C,deviceType:E}},Mc={detect:ja},zi=function(t){return window.matchMedia(t).matches},Jl=es(function(){return Mc.detect(navigator.userAgent,$.from(navigator.userAgentData),zi)}),zn=function(){return Jl()},ah=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},sp=function(t,r){return ah(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},Qr=function(t,r){var o=t.dom;if(o.nodeType!==Tv)return!1;var s=o;if(s.matches!==void 0)return s.matches(r);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(r);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(r);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},lp=function(t){return t.nodeType!==Tv&&t.nodeType!==Dd&&t.nodeType!==Ev||t.childElementCount===0},oh=function(t,r){var o=r===void 0?document:r.dom;return lp(o)?[]:Ue(o.querySelectorAll(t),un.fromDom)},Qy=function(t,r){var o=r===void 0?document:r.dom;return lp(o)?$.none():$.from(o.querySelector(t)).map(un.fromDom)},Sa=function(t,r){return t.dom===r.dom},Js=function(t,r){var o=t.dom,s=r.dom;return o===s?!1:o.contains(s)},e2=function(t,r){return sp(t.dom,r.dom)},Sl=function(t,r){return zn().browser.isIE()?e2(t,r):Js(t,r)},Jo=function(t){return un.fromDom(t.dom.ownerDocument)},Mf=function(t){return Xs(t)?t:Jo(t)},yt=function(t){return un.fromDom(Mf(t).dom.documentElement)},ih=function(t){return un.fromDom(Mf(t).dom.defaultView)},xo=function(t){return $.from(t.dom.parentNode).map(un.fromDom)},i0=function(t){return xo(t)},Pf=function(t){return $.from(t.dom.offsetParent).map(un.fromDom)},$v=function(t){return $.from(t.dom.nextSibling).map(un.fromDom)},je=function(t){return Ue(t.dom.childNodes,un.fromDom)},oi=function(t,r){var o=t.dom.childNodes;return $.from(o[r]).map(un.fromDom)},uh=function(t){return oi(t,0)},cp=function(t,r){return{element:t,offset:r}},u0=function(t,r){var o=je(t);return o.length>0&&r<o.length?cp(o[r],0):cp(t,r)},Md=function(t){return Rd(t)&&V(t.dom.host)},fp=P(Element.prototype.attachShadow)&&P(Node.prototype.getRootNode),vp=ue(fp),_s=fp?function(t){return un.fromDom(t.dom.getRootNode())}:Mf,Zl=function(t){return Md(t)?t:un.fromDom(Mf(t).dom.body)},s0=function(t){return l0(t).isSome()},l0=function(t){var r=_s(t);return Md(r)?$.some(r):$.none()},Ql=function(t){return un.fromDom(t.dom.host)},Ba=function(t){if(vp()&&V(t.target)){var r=un.fromDom(t.target);if(go(r)&&c0(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return tr(o)}}return $.from(t.target)},c0=function(t){return V(t.dom.shadowRoot)},fu=function(t){var r=Du(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return l0(un.fromDom(r)).fold(function(){return o.body.contains(r)},$e(fu,Ql))},Hi=function(){return _o(un.fromDom(document))},_o=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return un.fromDom(r)},Pc=function(t,r,o){if(S(o)||L(o)||z(o))t.setAttribute(r,o+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},or=function(t,r,o){Pc(t.dom,r,o)},ns=function(t,r){var o=t.dom;Hr(r,function(s,d){Pc(o,d,s)})},Fa=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},Ga=function(t,r){return $.from(Fa(t,r))},f0=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},ii=function(t,r){t.dom.removeAttribute(r)},dp=function(t,r,o){if(!S(o))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Xl(t)&&t.style.setProperty(r,o)},xl=function(t,r){Xl(t)&&t.style.removeProperty(r)},Wn=function(t,r,o){var s=t.dom;dp(s,r,o)},rs=function(t,r){var o=t.dom;Hr(r,function(s,d){dp(o,d,s)})},Qa=function(t,r){var o=t.dom;Hr(r,function(s,d){s.fold(function(){xl(o,d)},function(g){dp(o,d,g)})})},eo=function(t,r){var o=t.dom,s=window.getComputedStyle(o),d=s.getPropertyValue(r);return d===""&&!fu(t)?zo(o,r):d},zo=function(t,r){return Xl(t)?t.style.getPropertyValue(r):""},ko=function(t,r){var o=t.dom,s=zo(o,r);return $.from(s).filter(function(d){return d.length>0})},If=function(t){var r={},o=t.dom;if(Xl(o))for(var s=0;s<o.style.length;s++){var d=o.style.item(s);r[d]=o.style[d]}return r},ks=function(t,r,o){var s=un.fromTag(t);Wn(s,r,o);var d=ko(s,r);return d.isSome()},Gr=function(t,r){var o=t.dom;xl(o,r),lu(Ga(t,"style").map(Ou),"")&&ii(t,"style")},$a=function(t){return t.dom.offsetWidth},Qi=function(t,r){var o=function(E,O){if(!z(O)&&!O.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+O);var B=E.dom;Xl(B)&&(B.style[t]=O+"px")},s=function(E){var O=r(E);if(O<=0||O===null){var B=eo(E,t);return parseFloat(B)||0}return O},d=s,g=function(E,O){return Qe(O,function(B,H){var W=eo(E,H),ee=W===void 0?0:parseInt(W,10);return isNaN(ee)?B:B+ee},0)},C=function(E,O,B){var H=g(E,B),W=O>H?O-H:0;return W};return{set:o,get:s,getOuter:d,aggregate:g,max:C}},ec=Qi("height",function(t){var r=t.dom;return fu(t)?r.getBoundingClientRect().height:r.offsetHeight}),$o=function(t){return ec.get(t)},as=function(t){return ec.getOuter(t)},v0=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=ec.max(t,r,o);Wn(t,"max-height",s+"px")},Nf=function(t,r){var o=function(s,d){return Nf(t+s,r+d)};return{left:t,top:r,translate:o}},ba=Nf,Zs=function(t){var r=t.getBoundingClientRect();return ba(r.left,r.top)},Ic=function(t,r){return t!==void 0?t:r!==void 0?r:0},vu=function(t){var r=t.dom.ownerDocument,o=r.body,s=r.defaultView,d=r.documentElement;if(o===t.dom)return ba(o.offsetLeft,o.offsetTop);var g=Ic(s==null?void 0:s.pageYOffset,d.scrollTop),C=Ic(s==null?void 0:s.pageXOffset,d.scrollLeft),E=Ic(d.clientTop,o.clientTop),O=Ic(d.clientLeft,o.clientLeft);return lo(t).translate(C-O,g-E)},lo=function(t){var r=t.dom,o=r.ownerDocument,s=o.body;return s===r?ba(s.offsetLeft,s.offsetTop):fu(t)?Zs(r):ba(0,0)},Nc=Qi("width",function(t){return t.dom.offsetWidth}),tc=function(t,r){return Nc.set(t,r)},Vi=function(t){return Nc.get(t)},du=function(t){return Nc.getOuter(t)},ki=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Nc.max(t,r,o);Wn(t,"max-width",s+"px")},Mv=function(t,r,o,s,d,g,C){return{target:t,x:r,y:o,stop:s,prevent:d,kill:g,raw:C}},Qs=function(t){var r=un.fromDom(Ba(t).getOr(t.target)),o=function(){return t.stopPropagation()},s=function(){return t.preventDefault()},d=de(s,o);return Mv(r,t.clientX,t.clientY,o,s,d,t)},Ho=function(t,r){return function(o){t(o)&&r(Qs(o))}},Pd=function(t,r,o,s,d){var g=Ho(o,s);return t.dom.addEventListener(r,g,d),{unbind:ke(Lf,t,r,g,d)}},d0=function(t,r,o,s){return Pd(t,r,o,s,!1)},Ff=function(t,r,o,s){return Pd(t,r,o,s,!0)},Lf=function(t,r,o,s){t.dom.removeEventListener(r,o,s)},co=function(t,r){var o=xo(t);o.each(function(s){s.dom.insertBefore(r.dom,t.dom)})},zf=function(t,r){var o=$v(t);o.fold(function(){var s=xo(t);s.each(function(d){Ui(d,r)})},function(s){co(s,r)})},Hf=function(t,r){var o=uh(t);o.fold(function(){Ui(t,r)},function(s){t.dom.insertBefore(r.dom,s.dom)})},Ui=function(t,r){t.dom.appendChild(r.dom)},nc=function(t,r,o){oi(t,o).fold(function(){Ui(t,r)},function(s){co(s,r)})},Vf=function(t,r){gt(r,function(o){co(t,o)})},rc=function(t,r){gt(r,function(o){Ui(t,o)})},Va=function(t){t.dom.textContent="",gt(je(t),function(r){$u(r)})},$u=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},sh=function(t){var r=je(t);r.length>0&&Vf(t,r),$u(t)},os=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,s=r.body.scrollTop||r.documentElement.scrollTop;return ba(o,s)},lh=function(t,r,o){var s=o!==void 0?o.dom:document,d=s.defaultView;d&&d.scrollTo(t,r)},m0=function(t){var r=t===void 0?window:t;return zn().browser.isFirefox()?$.none():$.from(r.visualViewport)},mp=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Uf=function(t){var r=t===void 0?window:t,o=r.document,s=os(un.fromDom(o));return m0(r).fold(function(){var d=r.document.documentElement,g=d.clientWidth,C=d.clientHeight;return mp(s.left,s.top,g,C)},function(d){return mp(Math.max(d.pageLeft,s.left),Math.max(d.pageTop,s.top),d.width,d.height)})},Wf=function(t,r){var o=t.view(r);return o.fold(ue([]),function(s){var d=t.owner(s),g=Wf(t,d);return[s].concat(g)})},Fc=function(t,r){var o=r.owner(t),s=Wf(r,o);return $.some(s)},qn=function(t){var r,o=t.dom===document?$.none():$.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(un.fromDom)},As=function(t){return Jo(t)},mu=Object.freeze({__proto__:null,view:qn,owner:As}),Wi=function(t){var r=un.fromDom(document),o=os(r),s=Fc(t,mu);return s.fold(ke(vu,t),function(d){var g=lo(t),C=Ye(d,function(E,O){var B=lo(O);return{left:E.left+B.left,top:E.top+B.top}},{left:0,top:0});return ba(C.left+g.left+o.left,C.top+g.top+o.top)})},Es=function(t,r,o){return{point:t,width:r,height:o}},po=function(t,r,o,s){return{x:t,y:r,width:o,height:s}},Vo=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Ao=function(t){var r=vu(t),o=du(t),s=as(t);return Vo(r.left,r.top,o,s)},Lc=function(t){var r=Wi(t),o=du(t),s=as(t);return Vo(r.left,r.top,o,s)},Ai=function(){return Uf(window)},gn=function(t){var r=function(W){return gn(t)},o=function(W){return gn(t)},s=function(W){return gn(W(t))},d=function(W){return gn(t)},g=function(W){W(t)},C=function(W){return W(t)},E=function(W,ee){return ee(t)},O=function(W){return W(t)},B=function(W){return W(t)},H=function(){return $.some(t)};return{isValue:ye,isError:pe,getOr:ue(t),getOrThunk:ue(t),getOrDie:ue(t),or:r,orThunk:o,fold:E,map:s,mapError:d,each:g,bind:C,exists:O,forall:B,toOptional:H}},jf=function(t){var r=function(B){return B()},o=function(){return le(String(t))()},s=Ee,d=function(B){return B()},g=function(B){return jf(t)},C=function(B){return jf(B(t))},E=function(B){return jf(t)},O=function(B,H){return B(t)};return{isValue:pe,isError:ye,getOr:Ee,getOrThunk:r,getOrDie:o,or:s,orThunk:d,fold:O,map:g,mapError:C,each:G,bind:E,exists:pe,forall:ye,toOptional:$.none}},hp=function(t,r){return t.fold(function(){return jf(r)},gn)},sr={value:gn,error:jf,fromOption:hp},ya;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(ya||(ya={}));var ch=function(t,r,o){return t.stype===ya.Error?r(t.serror):o(t.svalue)},_l=function(t){var r=[],o=[];return gt(t,function(s){ch(s,function(d){return o.push(d)},function(d){return r.push(d)})}),{values:r,errors:o}},La=function(t,r){return t.stype===ya.Error?{stype:ya.Error,serror:r(t.serror)}:t},fh=function(t,r){return t.stype===ya.Value?{stype:ya.Value,svalue:r(t.svalue)}:t},Mu=function(t,r){return t.stype===ya.Value?r(t.svalue):t},Id=function(t,r){return t.stype===ya.Error?r(t.serror):t},vr=function(t){return{stype:ya.Value,svalue:t}},eu=function(t){return{stype:ya.Error,serror:t}},t2=function(t){return ch(t,sr.error,sr.value)},n2=function(t){return t.fold(eu,vr)},Ua={fromResult:n2,toResult:t2,svalue:vr,partition:_l,serror:eu,bind:Mu,bindError:Id,map:fh,mapError:La,fold:ch},vh=function(t,r,o,s){return{tag:"field",key:t,newKey:r,presence:o,prop:s}},M=function(t,r){return{tag:"custom",newKey:t,instantiator:r}},Y=function(t,r,o){switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},re=function(t,r){return r},Ce=function(t,r){var o=_(t)&&_(r);return o?bt(t,r):r},Ge=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var s={},d=0;d<r.length;d++){var g=r[d];for(var C in g)Dr(g,C)&&(s[C]=t(s[C],g[C]))}return s}},bt=Ge(Ce),_n=Ge(re),Jn=function(){return{tag:"required",process:{}}},Ar=function(t){return{tag:"defaultedThunk",process:t}},dr=function(t){return Ar(ue(t))},xa=function(){return{tag:"option",process:{}}},Ei=function(t){return{tag:"mergeWithThunk",process:t}},to=function(t){return Ei(ue(t))},g3=function(t,r){return t.length>0?Ua.svalue(bt(r,_n.apply(void 0,t))):Ua.svalue(r)},VS=function(t){return de(Ua.serror,ot)(t)},US=function(t,r){var o=Ua.partition(t);return o.errors.length>0?VS(o.errors):g3(o.values,r)},p3=function(t){var r=Ua.partition(t);return r.errors.length>0?VS(r.errors):Ua.svalue(r.values)},ac={consolidateObj:US,consolidateArr:p3},gp=function(t){return _(t)&&Ir(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Pu=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:ue("... (only showing first ten failures)")}]):t;return Ue(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},dh=function(t,r){return Ua.serror([{path:t,getErrorInfo:r}])},r2=function(t,r,o){return dh(t,function(){return'Could not find valid *required* value for "'+r+'" in '+gp(o)})},pp=function(t,r){return dh(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},h0=function(t,r,o){return dh(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+gp(r)})},WS=function(t,r){return dh(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},b3=function(t,r){return dh(t,ue(r))},oc=function(t){var r=function(s,d){return Ua.bindError(t(d),function(g){return b3(s,g)})},o=ue("val");return{extract:r,toString:o}},bp=oc(Ua.svalue),y3=function(t,r,o,s){return En(r,o).fold(function(){return r2(t,o,r)},s)},a2=function(t,r,o,s){var d=En(t,r).getOrThunk(function(){return o(t)});return s(d)},w3=function(t,r,o){return o(En(t,r))},C3=function(t,r,o,s){var d=En(t,r).map(function(g){return g===!0?o(t):g});return s(d)},mh=function(t,r,o,s,d){var g=function(E){return d.extract(r.concat([s]),E)},C=function(E){return E.fold(function(){return Ua.svalue($.none())},function(O){var B=d.extract(r.concat([s]),O);return Ua.map(B,$.some)})};switch(t.tag){case"required":return y3(r,o,s,g);case"defaultedThunk":return a2(o,s,t.process,g);case"option":return w3(o,s,C);case"defaultedOptionThunk":return C3(o,s,t.process,C);case"mergeWithThunk":return a2(o,s,ue({}),function(E){var O=bt(t.process(o),E);return g(O)})}},yp=function(t,r,o){for(var s={},d=[],g=0,C=o;g<C.length;g++){var E=C[g];Y(E,function(O,B,H,W){var ee=mh(H,t,r,O,W);Ua.fold(ee,function(ae){d.push.apply(d,ae)},function(ae){s[B]=ae})},function(O,B){s[O]=B(r)})}return d.length>0?Ua.serror(d):Ua.svalue(s)},jS=function(t){var r=function(s,d){return t().extract(s,d)},o=function(){return t().toString()};return{extract:r,toString:o}},GS=function(t){return Ir(Nr(t,V))},is=function(t){var r=Bn(t),o=Ye(t,function(d,g){return Y(g,function(C){var E;return bt(d,(E={},E[C]=!0,E))},ue(d))},{}),s=function(d,g){var C=L(g)?[]:GS(g),E=Ae(C,function(O){return!uo(o,O)});return E.length===0?r.extract(d,g):WS(d,E)};return{extract:s,toString:r.toString}},Bn=function(t){var r=function(s,d){return yp(s,d,t)},o=function(){var s=Ue(t,function(d){return Y(d,function(g,C,E,O){return g+" -> "+O.toString()},function(g,C){return"state("+g+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:r,toString:o}},Gf=function(t){var r=function(s,d){var g=Ue(d,function(C,E){return t.extract(s.concat(["["+E+"]"]),C)});return ac.consolidateArr(g)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},wp=function(t){var r=function(s,d){for(var g=[],C=0,E=t;C<E.length;C++){var O=E[C],B=O.extract(s,d);if(B.stype===ya.Value)return B;g.push(B)}return ac.consolidateArr(g)},o=function(){return"oneOf("+Ue(t,function(s){return s.toString()}).join(", ")+")"};return{extract:r,toString:o}},Pv=function(t,r){var o=function(g,C){return Gf(oc(t)).extract(g,C)},s=function(g,C){var E=Ir(C),O=o(g,E);return Ua.bind(O,function(B){var H=Ue(B,function(W){return vh(W,W,Jn(),r)});return Bn(H).extract(g,C)})},d=function(){return"setOf("+r.toString()+")"};return{extract:s,toString:d}},hh=function(t,r){var o=es(r),s=function(g,C){return o().extract(g,C)},d=function(){return o().toString()};return{extract:s,toString:d}},o2=de(Gf,Bn),kl=ue(bp),Nd=function(t,r){return oc(function(o){var s=typeof o;return t(o)?Ua.svalue(o):Ua.serror("Expected type: "+r+" but got: "+s)})},gh=Nd(z,"number"),bo=Nd(S,"string"),ui=Nd(L,"boolean"),Cp=Nd(P,"function"),zc=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return zc(t[r])});default:return!1}},Sp=oc(function(t){return zc(t)?Ua.svalue(t):Ua.serror("Expected value to be acceptable for sending via postMessage")}),g0=function(t,r,o,s){var d=En(o,s);return d.fold(function(){return h0(t,o,s)},function(g){return g.extract(t.concat(["branch: "+s]),r)})},p0=function(t,r){var o=function(d,g){var C=En(g,t);return C.fold(function(){return pp(d,t)},function(E){return g0(d,g,r,E)})},s=function(){return"chooseOn("+t+"). Possible values: "+Ir(r)};return{extract:o,toString:s}},S3=function(){return Gf(bp)},ph=function(t){return oc(function(r){return t(r).fold(Ua.serror,Ua.svalue)})},ji=function(t,r){return Pv(function(o){return Ua.fromResult(t(o))},r)},qS=function(t,r,o){var s=r.extract([t],o);return Ua.mapError(s,function(d){return{input:o,errors:d}})},qa=function(t,r,o){return Ua.toResult(qS(t,r,o))},Al=function(t){return t.fold(function(r){throw new Error(Iv(r))},Ee)},ia=function(t,r,o){return Al(qa(t,r,o))},Iv=function(t){return`Errors: 
`+Pu(t.errors).join(`
`)+`

Input object: `+gp(t.input)},el=function(t,r){return p0(t,ur(r,Bn))},x3=function(t,r){return hh(t,r)},Uo=vh,hu=M,KS=function(t){return ph(function(r){return lt(t,r)?sr.value(r):sr.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},_t=function(t){return Uo(t,t,Jn(),kl())},Iu=function(t,r){return Uo(t,t,Jn(),r)},qf=function(t){return Iu(t,gh)},Kn=function(t){return Iu(t,bo)},Ts=function(t,r){return Uo(t,t,Jn(),KS(r))},_3=function(t){return Iu(t,ui)},tu=function(t){return Iu(t,Cp)},bh=function(t,r){return Uo(t,t,xa(),oc(function(o){return Ua.serror("The field: "+t+" is forbidden. "+r)}))},Hc=function(t,r){return Uo(t,t,Jn(),Bn(r))},El=function(t,r){return Uo(t,t,Jn(),o2(r))},Gi=function(t,r){return Uo(t,t,Jn(),Gf(r))},qr=function(t){return Uo(t,t,xa(),kl())},ic=function(t,r){return Uo(t,t,xa(),r)},Fd=function(t){return ic(t,gh)},Aa=function(t){return ic(t,bo)},Nv=function(t){return ic(t,Cp)},us=function(t,r){return ic(t,Gf(r))},ss=function(t,r){return ic(t,Bn(r))},k3=function(t,r){return ic(t,is(r))},Ve=function(t,r){return Uo(t,t,dr(r),kl())},gu=function(t,r,o){return Uo(t,t,dr(r),o)},uc=function(t,r){return gu(t,r,gh)},yh=function(t,r){return gu(t,r,bo)},Os=function(t,r,o){return gu(t,r,KS(o))},wa=function(t,r){return gu(t,r,ui)},Ea=function(t,r){return gu(t,r,Cp)},Nu=function(t,r){return gu(t,r,Sp)},Kf=function(t,r,o){return gu(t,r,Gf(o))},i2=function(t,r,o){return gu(t,r,Bn(o))},Pn=function(t){var r=t,o=function(){return r},s=function(d){r=d};return{get:o,set:s}},b0=function(t){if(!T(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return gt(t,function(s,d){var g=Ir(s);if(g.length!==1)throw new Error("one and only one name per case");var C=g[0],E=s[C];if(o[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!T(E))throw new Error("case arguments must be an array");r.push(C),o[C]=function(){for(var O=[],B=0;B<arguments.length;B++)O[B]=arguments[B];var H=O.length;if(H!==E.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+E.length+" ("+E+"), got "+H);var W=function(ee){var ae=Ir(ee);if(r.length!==ae.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+ae.join(","));var fe=Ot(r,function(Se){return lt(ae,Se)});if(!fe)throw new Error("Not all branches were specified when using match. Specified: "+ae.join(", ")+`
Required: `+r.join(", "));return ee[C].apply(null,O)};return{fold:function(){for(var ee=[],ae=0;ae<arguments.length;ae++)ee[ae]=arguments[ae];if(ee.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+ee.length);var fe=ee[d];return fe.apply(null,O)},match:W,log:function(ee){console.log(ee,{constructors:r,constructor:C,params:O})}}}}),o},Ds={generate:b0};Ds.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var XS=function(t){var r=[],o=[];return gt(t,function(s){s.fold(function(d){r.push(d)},function(d){o.push(d)})}),{errors:r,values:o}},xp=function(t,r){var o={};return Hr(t,function(s,d){lt(r,d)||(o[d]=s)}),o},_p=function(t,r){var o;return o={},o[t]=r,o},u2=function(t){var r={};return gt(t,function(o){r[o.key]=o.value}),r},s2=function(t,r){return xp(t,r)},Vc=function(t,r){return _p(t,r)},Xf=function(t){return u2(t)},A3=function(t,r){return t.length===0?sr.value(r):sr.value(bt(r,_n.apply(void 0,t)))},l2=function(t){return sr.error(ot(t))},E3=function(t,r){var o=XS(t);return o.errors.length>0?l2(o.errors):A3(o.values,r)},YS=function(t){return P(t)?t:pe},kp=function(t,r,o){for(var s=t.dom,d=YS(o);s.parentNode;){s=s.parentNode;var g=un.fromDom(s),C=r(g);if(C.isSome())return C;if(d(g))break}return $.none()},wh=function(t,r,o){var s=r(t),d=YS(o);return s.orThunk(function(){return d(t)?$.none():kp(t,r,d)})},JS=function(t,r){return Sa(t.element,r.event.target)},Uc={can:ye,abort:pe,run:G},Ch=function(t){if(!uo(t,"can")&&!uo(t,"abort")&&!uo(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return ne(ne({},Uc),t)},c2=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return Qe(t,function(d,g){return d&&r(g).apply(void 0,o)},!0)}},ZS=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return Qe(t,function(d,g){return d||r(g).apply(void 0,o)},!1)}},T3=function(t){return P(t)?{can:ye,abort:pe,run:t}:t},O3=function(t){var r=c2(t,function(d){return d.can}),o=ZS(t,function(d){return d.abort}),s=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];gt(t,function(C){C.run.apply(void 0,d)})};return{can:r,abort:o,run:s}},Mo=ue,Wc=Mo("touchstart"),Tl=Mo("touchmove"),Fv=Mo("touchend"),QS=Mo("touchcancel"),Ol=Mo("mousedown"),Ld=Mo("mousemove"),f2=Mo("mouseout"),v2=Mo("mouseup"),Yf=Mo("mouseover"),tl=Mo("focusin"),Ti=Mo("focusout"),y0=Mo("keydown"),d2=Mo("keyup"),zd=Mo("input"),Sh=Mo("change"),xh=Mo("click"),D3=Mo("transitioncancel"),_h=Mo("transitionend"),m2=Mo("transitionstart"),R3=Mo("selectstart"),no=function(t){return ue("alloy."+t)},w0={tap:no("tap")},Lv=no("focus"),h2=no("blur.post"),g2=no("paste.post"),nl=no("receive"),Rs=no("execute"),Hd=no("focus.item"),zv=w0.tap,C0=no("longpress"),Ap=no("sandbox.close"),p2=no("typeahead.cancel"),Vd=no("system.init"),S0=no("system.touchmove"),B3=no("system.touchend"),b2=no("system.scroll"),Bs=no("system.resize"),ls=no("system.attached"),kh=no("system.detached"),Dl=no("system.dismissRequested"),qi=no("system.repositionRequested"),x0=no("focusmanager.shifted"),Jf=no("slotcontainer.visibility"),ex=no("change.tab"),Oi=no("dismiss.tab"),y2=no("highlight"),_0=no("dehighlight"),Vr=function(t,r){Rl(t,t.element,r,{})},In=function(t,r,o){Rl(t,t.element,r,o)},$s=function(t){Vr(t,Rs())},k0=function(t,r,o){Rl(t,r,o,{})},Rl=function(t,r,o,s){var d=ne({target:r},s);t.getSystem().triggerEvent(o,r,d)},tx=function(t,r,o,s){t.getSystem().triggerEvent(o,r,s.event)},Ca=function(t){return Xf(t)},w2=function(t,r){return{key:t,value:Ch({abort:r})}},A0=function(t,r){return{key:t,value:Ch({can:r})}},E0=function(t){return{key:t,value:Ch({run:function(r,o){o.event.prevent()}})}},Dt=function(t,r){return{key:t,value:Ch({run:r})}},C2=function(t,r,o){return{key:t,value:Ch({run:function(s,d){r.apply(void 0,[s,d].concat(o))}})}},S2=function(t){return function(r){return Dt(t,r)}},Hv=function(t){return function(r){return{key:t,value:Ch({run:function(o,s){JS(o,s)&&r(o,s)}})}}},Ep=function(t,r){return Dt(t,function(o,s){o.getSystem().getByUid(r).each(function(d){tx(d,d.element,t,s)})})},Ud=function(t,r,o){var s=r.partUids[o];return Ep(t,s)},Vv=function(t,r){return Dt(t,function(o,s){var d=s.event,g=o.getSystem().getByDom(d.target).getOrThunk(function(){var C=wh(d.target,function(E){return o.getSystem().getByDom(E).toOptional()},pe);return C.getOr(o)});r(o,g,s)})},Wd=function(t){return Dt(t,function(r,o){o.cut()})},Ah=function(t){return Dt(t,function(r,o){o.stop()})},Eo=function(t,r){return Hv(t)(r)},nr=Hv(ls()),Ms=Hv(kh()),nx=Hv(Vd()),cs=S2(Rs()),x2=function(t,r){var o=r||document,s=o.createElement("div");return s.innerHTML=t,je(un.fromDom(s))},jc=function(t){return t.dom.innerHTML},Zf=function(t,r){var o=Jo(t),s=o.dom,d=un.fromDom(s.createDocumentFragment()),g=x2(r,s);rc(d,g),Va(t),Ui(t,d)},Qf=function(t){var r=un.fromTag("div"),o=un.fromDom(t.dom.cloneNode(!0));return Ui(r,o),jc(r)},Ps=function(t,r){return un.fromDom(t.dom.cloneNode(r))},Uv=function(t){return Ps(t,!1)},Zo=function(t){if(Md(t))return"#shadow-root";var r=Uv(t);return Qf(r)},pu=function(t){return Zo(t)},Gc=function(t,r,o){return Sa(r,t.element)&&!Sa(r,o)},Wv=Ca([A0(Lv(),function(t,r){var o=r.event,s=o.originator,d=o.target;return Gc(t,s,d)?(console.warn(Lv()+` did not get interpreted by the desired target. 
Originator: `+pu(s)+`
Target: `+pu(d)+`
Check the `+Lv()+" event handlers"),!1):!0})]),Eh=Object.freeze({__proto__:null,events:Wv}),jd=0,wn=function(t){var r=new Date,o=r.getTime(),s=Math.floor(Math.random()*1e9);return jd++,t+"_"+s+jd+String(o)},si=ue("alloy-id-"),sc=ue("data-alloy-id"),qc=si(),Tp=sc(),rx=function(t,r){var o=wn(qc+t);return T0(r,o),o},T0=function(t,r){Object.defineProperty(t.dom,Tp,{value:r,writable:!0})},jv=function(t){var r=go(t)?t.dom[Tp]:null;return $.from(r)},Gv=function(t){return wn(t)},Th=Ee,Op=function(t){var r=function(d){return"The component must be in a context to execute: "+d+(t?`
`+pu(t().element)+" is not in context.":"")},o=function(d){return function(){throw new Error(r(d))}},s=function(d){return function(){console.warn(r(d))}};return{debugInfo:ue("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:pe}},$3=Op(),Is=function(t,r,o){var s=o.toString(),d=s.indexOf(")")+1,g=s.indexOf("("),C=s.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:_2(C.slice(0,1).concat(C.slice(3)))}},t},_2=function(t){return Ue(t,function(r){return Un(r,"/*")?r.substring(0,r.length-2):r})},Gd=function(t,r){var o=t.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),g=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:_2(g)}},t},qv=function(t,r){var o=r.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),g=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:_2(g.slice(1))}},t},k2=wn("alloy-premade"),Kv=function(t){return Vc(k2,t)},ax=function(t){return En(t,k2)},Ka=function(t){return qv(function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t.apply(void 0,xe([r.getApis(),r],o,!1))},t)},Di={init:function(){return Ki({readState:ue("No State required")})}},Ki=function(t){return t},ox=function(t,r){var o=Ue(r,function(d){return ss(d.name(),[_t("config"),Ve("state",Di)])}),s=qa("component.behaviours",Bn(o),t.behaviours).fold(function(d){throw new Error(Iv(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},Ee);return{list:r,data:ur(s,function(d){var g=d.map(function(C){return{config:C.config,state:C.state.init(C.config)}});return ue(g)})}},O0=function(t){return t.list},M3=function(t){return t.data},ix=function(t,r){var o={};return Hr(t,function(s,d){Hr(s,function(g,C){var E=En(o,C).getOr([]);o[C]=E.concat([r(d,g)])})}),o},Bl=function(t){return{classes:j(t.classes)?[]:t.classes,attributes:j(t.attributes)?{}:t.attributes,styles:j(t.styles)?{}:t.styles}},P3=function(t,r){return ne(ne({},t),{attributes:ne(ne({},t.attributes),r.attributes),styles:ne(ne({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},Oh=function(t,r,o,s){var d=ne({},r);gt(o,function(H){d[H.name()]=H.exhibit(t,s)});var g=ix(d,function(H,W){return{name:H,modification:W}}),C=function(H){return Ye(H,function(W,ee){return ne(ne({},ee.modification),W)},{})},E=Ye(g.classes,function(H,W){return W.modification.concat(H)},[]),O=C(g.attributes),B=C(g.styles);return Bl({classes:E,attributes:O,styles:B})},D0=function(t,r,o,s){try{var d=ir(o,function(g,C){var E=g[r],O=C[r],B=s.indexOf(E),H=s.indexOf(O);if(B===-1)throw new Error("The ordering for "+t+" does not have an entry for "+E+`.
Order specified: `+JSON.stringify(s,null,2));if(H===-1)throw new Error("The ordering for "+t+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(s,null,2));return B<H?-1:H<B?1:0});return sr.value(d)}catch(g){return sr.error([g])}},I3=function(t,r){return{handler:t,purpose:r}},ux=function(t,r){return{cHandler:t,purpose:r}},A2=function(t,r){return ux(ke.apply(void 0,[t.handler].concat(r)),t.purpose)},E2=function(t){return t.cHandler},T2=function(t,r){return{name:t,handler:r}},N3=function(t,r){var o={};return gt(t,function(s){o[s.name()]=s.handlers(r)}),o},Xv=function(t,r,o){var s=ne(ne({},o),N3(r,t));return ix(s,T2)},Yv=function(t,r,o,s){var d=Xv(t,o,s);return sx(d,r)},ha=function(t){var r=T3(t);return function(o,s){for(var d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];var C=[o,s].concat(d);r.abort.apply(void 0,C)?s.stop():r.can.apply(void 0,C)&&r.run.apply(void 0,C)}},R0=function(t,r){return sr.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ue(r,function(o){return o.name}),null,2)])},lc=function(t,r,o){var s=r[o];return s?D0("Event: "+o,"name",t,s).map(function(d){var g=Ue(d,function(C){return C.handler});return O3(g)}):R0(o,t)},sx=function(t,r){var o=Si(t,function(s,d){var g=s.length===1?sr.value(s[0].handler):lc(s,r,d);return g.map(function(C){var E=ha(C),O=s.length>1?Ae(r[d],function(B){return Sn(s,function(H){return H.name===B})}).join(" > "):s[0].name;return Vc(d,I3(E,O))})});return E3(o,{})},cc,Kc="alloy.base.behaviour",Jv=Bn([Uo("dom","dom",Jn(),Bn([_t("tag"),Ve("styles",{}),Ve("classes",[]),Ve("attributes",{}),qr("value"),qr("innerHtml")])),_t("components"),_t("uid"),Ve("events",{}),Ve("apis",{}),Uo("eventOrder","eventOrder",to((cc={},cc[Rs()]=["disabling",Kc,"toggling","typeaheadevents"],cc[Lv()]=[Kc,"focusing","keying"],cc[Vd()]=[Kc,"disabling","toggling","representing"],cc[zd()]=[Kc,"representing","streaming","invalidating"],cc[kh()]=[Kc,"representing","item-events","tooltipping"],cc[Ol()]=["focusing",Kc,"item-type-events"],cc[Wc()]=["focusing",Kc,"item-type-events"],cc[Yf()]=["item-type-events","tooltipping"],cc[nl()]=["receiving","reflecting","tooltipping"],cc)),kl()),qr("domModification")]),B0=function(t){return qa("custom.definition",Jv,t)},Dp=function(t){return ne(ne({},t.dom),{uid:t.uid,domChildren:Ue(t.components,function(r){return r.element})})},$0=function(t){return t.domModification.fold(function(){return Bl({})},Bl)},M0=function(t){return t.events},qd=function(t,r){var o=Fa(t,r);return o===void 0||o===""?[]:o.split(" ")},F3=function(t,r,o){var s=qd(t,r),d=s.concat([o]);return or(t,r,d.join(" ")),!0},P0=function(t,r,o){var s=Ae(qd(t,r),function(d){return d!==o});return s.length>0?or(t,r,s.join(" ")):ii(t,r),!1},Dh=function(t){return t.dom.classList!==void 0},Rp=function(t){return qd(t,"class")},Bp=function(t,r){return F3(t,"class",r)},O2=function(t,r){return P0(t,"class",r)},Wo=function(t,r){Dh(t)?t.dom.classList.add(r):Bp(t,r)},Kd=function(t){var r=Dh(t)?t.dom.classList:Rp(t);r.length===0&&ii(t,"class")},Po=function(t,r){if(Dh(t)){var o=t.dom.classList;o.remove(r)}else O2(t,r);Kd(t)},bu=function(t,r){return Dh(t)&&t.dom.classList.contains(r)},Xd=function(t,r){gt(r,function(o){Wo(t,o)})},Ns=function(t,r){gt(r,function(o){Po(t,o)})},I0=function(t,r){return Ot(r,function(o){return bu(t,o)})},Xc=function(t){return t.dom.value},Rh=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},Bh=function(t){var r=un.fromTag(t.tag);ns(r,t.attributes),Xd(r,t.classes),rs(r,t.styles),t.innerHtml.each(function(s){return Zf(r,s)});var o=t.domChildren;if(rc(r,o),t.value.each(function(s){Rh(r,s)}),!t.uid)debugger;return T0(r,t.uid),r},lx=function(t){var r=En(t,"behaviours").getOr({});return Wt(Ir(r),function(o){var s=r[o];return V(s)?[s.me]:[]})},cx=function(t,r){return ox(t,r)},L3=function(t){var r=lx(t);return cx(t,r)},z3=function(t,r,o){var s=Dp(t),d=$0(t),g={"alloy.base.modification":d},C=r.length>0?Oh(o,g,r,s):d;return P3(s,C)},H3=function(t,r,o){var s={"alloy.base.behaviour":M0(t)};return Yv(o,t.eventOrder,r,s).getOrDie()},fx=function(t){var r=function(){return ze},o=Pn($3),s=Al(B0(t)),d=L3(t),g=O0(d),C=M3(d),E=z3(s,g,C),O=Bh(E),B=H3(s,g,C),H=Pn(s.components),W=function(ft){o.set(ft)},ee=function(){o.set(Op(r))},ae=function(){var ft=je(O),ct=Wt(ft,function(Le){return o.get().getByDom(Le).fold(function(){return[]},jn)});H.set(ct)},fe=function(ft){var ct=C,Le=P(ct[ft.name()])?ct[ft.name()]:function(){throw new Error("Could not find "+ft.name()+" in "+JSON.stringify(t,null,2))};return Le()},Se=function(ft){return P(C[ft.name()])},Fe=function(){return s.apis},we=function(ft){return C[ft]().map(function(ct){return ct.state.readState()}).getOr("not enabled")},ze={uid:t.uid,getSystem:o.get,config:fe,hasConfigured:Se,spec:t,readState:we,getApis:Fe,connect:W,disconnect:ee,element:O,syncComponents:ae,components:H.get,events:B};return ze},N0=function(t){var r=En(t,"components").getOr([]);return Ue(r,za)},F0=function(t){var r=Th(t),o=r.events,s=U(r,["events"]),d=N0(s),g=ne(ne({},s),{events:ne(ne({},Eh),o),components:d});return sr.value(fx(g))},Ri=function(t){var r=un.fromText(t);return L0({element:r})},L0=function(t){var r=ia("external.component",is([_t("element"),qr("uid")]),t),o=Pn(Op()),s=function(E){o.set(E)},d=function(){o.set(Op(function(){return C}))},g=r.uid.getOrThunk(function(){return Gv("external")});T0(r.element,g);var C={uid:g,getSystem:o.get,config:$.none,hasConfigured:pe,connect:s,disconnect:d,getApis:function(){return{}},element:r.element,spec:t,readState:ue("No state"),syncComponents:G,components:ue([]),events:{}};return Kv(C)},D2=Gv,rl=function(t){return Dr(t,"uid")},za=function(t){return ax(t).getOrThunk(function(){var r=rl(t)?t:ne({uid:D2("")},t);return F0(r).getOrDie()})},Fs=Kv;function Zv(t,r,o,s,d){return t(o,s)?$.some(o):P(d)&&d(o)?$.none():r(o,s,d)}var R2=function(t,r,o){for(var s=t.dom,d=P(o)?o:pe;s.parentNode;){s=s.parentNode;var g=un.fromDom(s);if(r(g))return $.some(g);if(d(g))break}return $.none()},z0=function(t,r,o){var s=function(d,g){return g(d)};return Zv(s,R2,t,r,o)},vx=function(t,r){var o=function(d){return r(un.fromDom(d))},s=pt(t.dom.childNodes,o);return s.map(un.fromDom)},lr=function(t,r){var o=function(s){for(var d=0;d<s.childNodes.length;d++){var g=un.fromDom(s.childNodes[d]);if(r(g))return $.some(g);var C=o(s.childNodes[d]);if(C.isSome())return C}return $.none()};return o(t.dom)},$h=function(t,r,o){return z0(t,r,o).isSome()},H0=function(t,r,o){return R2(t,function(s){return Qr(s,r)},o)},B2=function(t,r){return vx(t,function(o){return Qr(o,r)})},jo=function(t,r){return Qy(r,t)},al=function(t,r,o){var s=function(d,g){return Qr(d,g)};return Zv(s,H0,t,r,o)},dx=function(t){var r=z0(t,function(o){if(!go(o))return!1;var s=Fa(o,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return r.bind(function(o){var s=Fa(o,"id"),d=_s(o);return jo(d,'[aria-owns="'+s+'"]')})},Yd=function(){var t=wn("aria-owns"),r=function(s){or(s,"aria-owns",t)},o=function(s){ii(s,"aria-owns")};return{id:t,link:r,unlink:o}},Ma=function(t,r){return dx(r).exists(function(o){return Jd(t,o)})},Jd=function(t,r){return $h(r,function(o){return Sa(o,t.element)},pe)||Ma(t,r)},V0="unknown",Mh;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Mh||(Mh={}));var $2=Pn({}),mx=function(t,r){var o=[],s=new Date().getTime();return{logEventCut:function(d,g,C){o.push({outcome:"cut",target:g,purpose:C})},logEventStopped:function(d,g,C){o.push({outcome:"stopped",target:g,purpose:C})},logNoParent:function(d,g,C){o.push({outcome:"no-parent",target:g,purpose:C})},logEventNoHandlers:function(d,g){o.push({outcome:"no-handlers-left",target:g})},logEventResponse:function(d,g,C){o.push({outcome:"response",purpose:C,target:g})},write:function(){var d=new Date().getTime();lt(["mousemove","mouseover","mouseout",Vd()],t)||console.log(t,{event:t,time:d-s,target:r.dom,sequence:Ue(o,function(g){return lt(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+pu(g.target)+")":g.outcome})})}}},$p=function(t,r,o){var s=En($2.get(),t).orThunk(function(){var C=Ir($2.get());return Jr(C,function(E){return t.indexOf(E)>-1?$.some($2.get()[E]):$.none()})}).getOr(Mh.NORMAL);switch(s){case Mh.NORMAL:return o(V3());case Mh.LOGGING:{var d=mx(t,r),g=o(d);return d.write(),g}case Mh.STOP:return!0}},hx=["alloy/data/Fields","alloy/debugging/Debugging"],ev=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return pt(r,function(o){return o.indexOf("alloy")>0&&!Sn(hx,function(s){return o.indexOf(s)>-1})}).getOr(V0)}else return V0},yu={logEventCut:G,logEventStopped:G,logNoParent:G,logEventNoHandlers:G,logEventResponse:G,write:G},M2=function(t,r,o){return $p(t,r,o)},V3=ue(yu),fc=ue([_t("menu"),_t("selectedMenu")]),tv=ue([_t("item"),_t("selectedItem")]);ue(Bn(tv().concat(fc())));var U0=ue(Bn(tv())),U3=Hc("initSize",[_t("numColumns"),_t("numRows")]),W3=function(){return Iu("markers",U0())},Zd=function(){return Hc("markers",[_t("backgroundMenu")].concat(fc()).concat(tv()))},Qd=function(t){return Hc("markers",Ue(t,_t))},W0=function(t,r,o){return ev(),Uo(r,r,o,ph(function(s){return sr.value(function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return s.apply(void 0,d)})}))},Kr=function(t){return W0("onHandler",t,dr(G))},Go=function(t){return W0("onKeyboardHandler",t,dr($.none))},wu=function(t){return W0("onHandler",t,Jn())},Fu=function(t){return W0("onKeyboardHandler",t,Jn())},_a=function(t,r){return hu(t,ue(r))},Qv=function(t){return hu(t,Ee)},j0=ue(U3),Qo=function(t,r,o,s,d,g,C,E){return E===void 0&&(E=!1),{x:t,y:r,bubble:o,direction:s,placement:d,restriction:g,label:C+"-"+d,alwaysFit:E}},Yc=Ds.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),j3=function(t,r,o,s,d,g,C,E,O){return t.fold(r,o,s,d,g,C,E,O)},G3=function(t,r,o,s){return t.fold(r,r,s,s,r,s,o,o)},G0=function(t,r,o,s){return t.fold(r,s,r,s,o,o,r,s)},q0=Yc.southeast,P2=Yc.southwest,I2=Yc.northeast,em=Yc.northwest,Mp=Yc.south,N2=Yc.north,F2=Yc.east,Ph=Yc.west,Bi=function(t,r,o,s){var d=t+r;return d>s?o:d<o?s:d},fs=function(t,r,o){return Math.min(Math.max(t,r),o)},Pp=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},qo=function(t,r){return pn(["left","right","top","bottom"],function(o){return En(r,o).map(function(s){return Pp(t,s)})})},K0=function(t,r,o){var s=function(O,B){return r[O].map(function(H){var W=O==="top"||O==="bottom",ee=W?o.top:o.left,ae=O==="left"||O==="top"?Math.max:Math.min,fe=ae(H,B)+ee;return W?fs(fe,t.y,t.bottom):fs(fe,t.x,t.right)}).getOr(B)},d=s("left",t.x),g=s("top",t.y),C=s("right",t.right),E=s("bottom",t.bottom);return Vo(d,g,C-d,E-g)},nv="layout",L2=function(t){return t.x},z2=function(t,r){return t.x+t.width/2-r.width/2},gx=function(t,r){return t.x+t.width-r.width},H2=function(t,r){return t.y-r.height},Ip=function(t){return t.y+t.height},X0=function(t,r){return t.y+t.height/2-r.height/2},px=function(t){return t.x+t.width},q3=function(t,r){return t.x-r.width},Xi=function(t,r,o){return Qo(L2(t),Ip(t),o.southeast(),q0(),"southeast",qo(t,{left:1,top:3}),nv)},ei=function(t,r,o){return Qo(gx(t,r),Ip(t),o.southwest(),P2(),"southwest",qo(t,{right:0,top:3}),nv)},Cu=function(t,r,o){return Qo(L2(t),H2(t,r),o.northeast(),I2(),"northeast",qo(t,{left:1,bottom:2}),nv)},Su=function(t,r,o){return Qo(gx(t,r),H2(t,r),o.northwest(),em(),"northwest",qo(t,{right:0,bottom:2}),nv)},Lu=function(t,r,o){return Qo(z2(t,r),H2(t,r),o.north(),N2(),"north",qo(t,{bottom:2}),nv)},Io=function(t,r,o){return Qo(z2(t,r),Ip(t),o.south(),Mp(),"south",qo(t,{top:3}),nv)},Y0=function(t,r,o){return Qo(px(t),X0(t,r),o.east(),F2(),"east",qo(t,{left:0}),nv)},J0=function(t,r,o){return Qo(q3(t,r),X0(t,r),o.west(),Ph(),"west",qo(t,{right:1}),nv)},V2=function(){return[Xi,ei,Cu,Su,Io,Lu,Y0,J0]},tm=function(){return[ei,Xi,Su,Cu,Io,Lu,Y0,J0]},ed=function(){return[Cu,Su,Xi,ei,Lu,Io]},Z0=function(){return[Su,Cu,ei,Xi,Lu,Io]},Q0=function(){return[Xi,ei,Cu,Su,Io,Lu]},eb=function(){return[ei,Xi,Su,Cu,Io,Lu]},Ih=function(t,r){return r.universal?t:Ae(t,function(o){return lt(r.channels,o)})},Nh=function(t){return Ca([Dt(nl(),function(r,o){var s=t.channels,d=Ir(s),g=o,C=Ih(d,g);gt(C,function(E){var O=s[E],B=O.schema,H=ia("channel["+E+`] data
Receiver: `+pu(r.element),B,g.data);O.onReceive(r,H)})})])},bx=Object.freeze({__proto__:null,events:Nh}),Jc=[Iu("channels",ji(sr.value,is([wu("onReceive"),Ve("schema",kl())])))],nm=function(t,r,o){return cs(function(s){o(s,t,r)})},Wa=function(t,r,o){return nx(function(s,d){o(s,t,r)})},K3=function(t,r,o,s,d,g){var C=is(t),E=ss(r,[k3("config",t)]);return yx(C,E,r,o,s,d,g)},X3=function(t,r,o,s,d,g){var C=t,E=ss(r,[ic("config",t)]);return yx(C,E,r,o,s,d,g)},tb=function(t,r,o){var s=function(d){for(var g=[],C=1;C<arguments.length;C++)g[C-1]=arguments[C];var E=[d].concat(g);return d.config({name:ue(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(O){var B=Array.prototype.slice.call(E,1);return r.apply(void 0,[d,O.config,O.state].concat(B))})};return Is(s,o,r)},Y3=function(t){return{key:t,value:void 0}},yx=function(t,r,o,s,d,g,C){var E=function(W){return uo(W,o)?W[o]():$.none()},O=ur(d,function(W,ee){return tb(o,W,ee)}),B=ur(g,function(W,ee){return Gd(W,ee)}),H=ne(ne(ne({},B),O),{revoke:ke(Y3,o),config:function(W){var ee=ia(o+"-config",t,W);return{key:o,value:{config:ee,me:H,configAsRaw:es(function(){return ia(o+"-config",t,W)}),initialConfig:W,state:C}}},schema:ue(r),exhibit:function(W,ee){return Gs(E(W),En(s,"exhibit"),function(ae,fe){return fe(ee,ae.config,ae.state)}).getOrThunk(function(){return Bl({})})},name:ue(o),handlers:function(W){return E(W).map(function(ee){var ae=En(s,"events").getOr(function(){return{}});return ae(ee.config,ee.state)}).getOr({})}});return H},Jt=function(t){return Xf(t)},J3=is([_t("fields"),_t("name"),Ve("active",{}),Ve("apis",{}),Ve("state",Di),Ve("extra",{})]),Ko=function(t){var r=ia("Creating behaviour: "+t.name,J3,t);return K3(r.fields,r.name,r.active,r.apis,r.extra,r.state)},U2=is([_t("branchKey"),_t("branches"),_t("name"),Ve("active",{}),Ve("apis",{}),Ve("state",Di),Ve("extra",{})]),rm=function(t){var r=ia("Creating behaviour: "+t.name,U2,t);return X3(el(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},wx=ue(void 0),nu=Ko({fields:Jc,name:"receiving",active:bx}),Np=function(t,r){return Bl({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},nb=Object.freeze({__proto__:null,exhibit:Np}),Fp=function(){return un.fromDom(document)},vc=function(t){return t.dom.focus()},Lp=function(t){return t.dom.blur()},zp=function(t){var r=_s(t).dom;return t.dom===r.activeElement},xu=function(t){return t===void 0&&(t=Fp()),$.from(t.dom.activeElement).map(un.fromDom)},dc=function(t){return xu(_s(t)).filter(function(r){return t.dom.contains(r.dom)})},Cx=function(t,r){var o=_s(r),s=xu(o).bind(function(g){var C=function(E){return Sa(g,E)};return C(r)?$.some(r):lr(r,C)}),d=t(r);return s.each(function(g){xu(o).filter(function(C){return Sa(C,g)}).fold(function(){vc(g)},G)}),d},ru=function(t,r,o,s,d){var g=function(C){return C+"px"};return{position:t,left:r.map(g),top:o.map(g),right:s.map(g),bottom:d.map(g)}},Zc=function(t){return ne(ne({},t),{position:$.some(t.position)})},td=function(t,r){Qa(t,Zc(r))},Hp=Ds.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),dt=function(t,r,o,s,d,g){var C=r.rect,E=C.x-o,O=C.y-s,B=C.width,H=C.height,W=d-(E+B),ee=g-(O+H),ae=$.some(E),fe=$.some(O),Se=$.some(W),Fe=$.some(ee),we=$.none();return j3(r.direction,function(){return ru(t,ae,fe,we,we)},function(){return ru(t,we,fe,Se,we)},function(){return ru(t,ae,we,we,Fe)},function(){return ru(t,we,we,Se,Fe)},function(){return ru(t,ae,fe,we,we)},function(){return ru(t,ae,we,we,Fe)},function(){return ru(t,ae,fe,we,we)},function(){return ru(t,we,fe,Se,we)})},rv=function(t,r){return t.fold(function(){var o=r.rect;return ru("absolute",$.some(o.x),$.some(o.y),$.none(),$.none())},function(o,s,d,g){return dt("absolute",r,o,s,d,g)},function(o,s,d,g){return dt("fixed",r,o,s,d,g)})},Fh=function(t,r){var o=ke(Wi,r),s=t.fold(o,o,function(){var C=os();return Wi(r).translate(-C.left,-C.top)}),d=du(r),g=as(r);return Vo(s.left,s.top,d,g)},Z3=function(t,r){return r.fold(function(){return t.fold(Ai,Ai,Vo)},function(o){return t.fold(o,o,function(){var s=o(),d=rb(t,s.x,s.y);return Vo(d.left,d.top,s.width,s.height)})})},rb=function(t,r,o){var s=ba(r,o),d=function(){var g=os();return s.translate(-g.left,-g.top)};return t.fold(ue(s),ue(s),d)},$l=function(t,r,o,s){return t.fold(r,o,s)};Hp.none;var ab=Hp.relative,W2=Hp.fixed,j2=function(t,r){return{anchorBox:t,origin:r}},ob=function(t,r){return j2(t,r)},G2="data-alloy-placement",q2=function(t,r){or(t,G2,r)},K2=function(t){return Ga(t,G2)},X2=function(t){return ii(t,G2)},am=Ds.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Sx=function(t,r){var o=r.x,s=r.y,d=r.right,g=r.bottom,C=t.x,E=t.y,O=t.right,B=t.bottom,H=t.width,W=t.height,ee=C>=o&&C<=d,ae=E>=s&&E<=g,fe=ee&&ae,Se=O<=d&&O>=o,Fe=B<=g&&B>=s,we=Se&&Fe,ze=Math.min(H,C>=o?d-C:O-o),ft=Math.min(W,E>=s?g-E:B-s);return{originInBounds:fe,sizeInBounds:we,visibleW:ze,visibleH:ft}},Q3=function(t,r){var o=r.x,s=r.y,d=r.right,g=r.bottom,C=t.x,E=t.y,O=t.width,B=t.height,H=Math.max(o,d-O),W=Math.max(s,g-B),ee=fs(C,o,H),ae=fs(E,s,W),fe=Math.min(ee+O,d)-ee,Se=Math.min(ae+B,g)-ae;return Vo(ee,ae,fe,Se)},e4=function(t,r,o){var s=ue(r.bottom-o.y),d=ue(o.bottom-r.y),g=G3(t,d,d,s),C=ue(r.right-o.x),E=ue(o.right-r.x),O=G0(t,E,E,C);return{maxWidth:O,maxHeight:g}},Lh=function(t,r,o,s){var d=t.bubble,g=d.offset,C=K0(s,t.restriction,g),E=t.x+g.left,O=t.y+g.top,B=Vo(E,O,r,o),H=Sx(B,C),W=H.originInBounds,ee=H.sizeInBounds,ae=H.visibleW,fe=H.visibleH,Se=W&&ee,Fe=Se?B:Q3(B,C),we=Fe.width>0&&Fe.height>0,ze=e4(t.direction,Fe,s),ft=ze.maxWidth,ct=ze.maxHeight,Le={rect:Fe,maxHeight:ct,maxWidth:ft,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:O};return Se||t.alwaysFit?am.fit(Le):am.nofit(Le,ae,fe,we)},zh=function(t,r,o,s,d,g){var C=s.width,E=s.height,O=function(H,W,ee,ae,fe){var Se=H(o,s,d,t,g),Fe=Lh(Se,C,E,g);return Fe.fold(ue(Fe),function(we,ze,ft,ct){var Le=fe===ct?ft>ae||ze>ee:!fe&&ct;return Le?Fe:am.nofit(W,ee,ae,fe)})},B=Qe(r,function(H,W){var ee=ke(O,W);return H.fold(ue(H),ee)},am.nofit({rect:o,maxHeight:s.height,maxWidth:s.width,direction:q0(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return B.fold(Ee,Ee)},ib=function(t){var r=Pn($.none()),o=function(){return r.get().each(t)},s=function(){o(),r.set($.none())},d=function(){return r.get().isSome()},g=function(){return r.get()},C=function(E){o(),r.set($.some(E))};return{clear:s,isSet:d,get:g,set:C}},Y2=function(){return ib(function(t){return t.destroy()})},Hh=function(){return ib(function(t){return t.unbind()})},J2=function(){var t=Y2(),r=function(o){return t.get().each(o)};return ne(ne({},t),{run:r})},fo=function(){var t=ib(G),r=function(o){return t.get().each(o)};return ne(ne({},t),{on:r})},Vp=ye,yo=function(t,r,o){return d0(t,r,Vp,o)},ub=function(t,r,o){return Ff(t,r,Vp,o)},om=Qs,Z2=["top","bottom","right","left"],Up="data-alloy-transition-timer",Q2=function(t,r){return I0(t,r.classes)},xx=function(t,r,o){return o.exists(function(s){var d=t.mode;return d==="all"?!0:s[d]!==r[d]})},t4=function(t,r){var o=function(s){return parseFloat(s).toFixed(3)};return Ju(r,function(s,d){var g=t[d].map(o),C=s.map(o);return!Zu(g,C)}).isSome()},_x=function(t){var r=function(g){var C=eo(t,g),E=S(C)?C.split(/\s*,\s*/):[];return Ae(E,Bc)},o=function(g){if(S(g)&&/^[\d.]+/.test(g)){var C=parseFloat(g);return Un(g,"ms")?C:C*1e3}else return 0},s=r("transition-delay"),d=r("transition-duration");return Qe(d,function(g,C,E){var O=o(s[E])+o(C);return Math.max(g,O)},0)},n4=function(t,r){var o=Hh(),s=Hh(),d,g=function(H){var W,ee=(W=H.raw.pseudoElement)!==null&&W!==void 0?W:"";return Sa(H.target,t)&&Qm(ee)&&lt(Z2,H.raw.propertyName)},C=function(H){if(N(H)||g(H)){o.clear(),s.clear();var W=H==null?void 0:H.raw.type;(N(W)||W===_h())&&(clearTimeout(d),ii(t,Up),Ns(t,r.classes))}},E=function(){o.set(yo(t,_h(),C)),s.set(yo(t,D3(),C))};if("ontransitionstart"in t.dom)var O=yo(t,m2(),function(H){g(H)&&(O.unbind(),E())});else E();var B=_x(t);requestAnimationFrame(function(){d=setTimeout(C,B+17),or(t,Up,d)})},sb=function(t,r){Xd(t,r.classes),Ga(t,Up).each(function(o){clearTimeout(parseInt(o,10)),ii(t,Up)}),n4(t,r)},Wp=function(t,r,o,s,d,g){var C=xx(s,d,g);if(C||Q2(t,s)){Wn(t,"position",o.position);var E=Fh(r,t),O=rv(r,ne(ne({},d),{rect:E})),B=pn(Z2,function(H){return O[H]});t4(o,B)&&(Qa(t,B),C&&sb(t,s),$a(t))}else Ns(t,s.classes)},r4=function(t){return{width:du(t),height:as(t)}},kx=function(t,r,o,s){Gr(r,"max-height"),Gr(r,"max-width");var d=r4(r);return zh(r,s.preference,t,d,o,s.bounds)},ew=function(t,r){var o=r.classes;Ns(t,o.off),Xd(t,o.on)},a4=function(t,r,o){var s=o.maxHeightFunction;s(t,r.maxHeight)},o4=function(t,r,o){var s=o.maxWidthFunction;s(t,r.maxWidth)},lb=function(t,r,o){var s=rv(o.origin,r);o.transition.each(function(d){Wp(t,o.origin,s,d,r,o.lastPlacement)}),td(t,s)},tw=function(t,r){q2(t,r.placement)},$i=function(t,r){v0(t,Math.floor(r))},Vh=ue(function(t,r){$i(t,r),rs(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Uh=ue(function(t,r){$i(t,r)}),Ax=function(t,r,o){return t[r]===void 0?o:t[r]},i4=function(t,r,o,s,d,g,C,E){var O=Ax(C,"maxHeightFunction",Vh()),B=Ax(C,"maxWidthFunction",G),H=t.anchorBox,W=t.origin,ee={bounds:Z3(W,g),origin:W,preference:s,maxHeightFunction:O,maxWidthFunction:B,lastPlacement:d,transition:E};return jp(H,r,o,ee)},jp=function(t,r,o,s){var d=kx(t,r,o,s);return lb(r,d,s),tw(r,d),ew(r,d),a4(r,d,s),o4(r,d,s),{layout:d.layout,placement:d.placement}},Gp=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],im=function(t,r,o,s){s===void 0&&(s=1);var d=t*s,g=r*s,C=function(O){return En(o,O).getOr([])},E=function(O,B,H){var W=nn(Gp,H);return{offset:ba(O,B),classesOn:Wt(H,C),classesOff:Wt(W,C)}};return{southeast:function(){return E(-t,r,["top","alignLeft"])},southwest:function(){return E(t,r,["top","alignRight"])},south:function(){return E(-t/2,r,["top","alignCentre"])},northeast:function(){return E(-t,-r,["bottom","alignLeft"])},northwest:function(){return E(t,-r,["bottom","alignRight"])},north:function(){return E(-t/2,-r,["bottom","alignCentre"])},east:function(){return E(t,-r/2,["valignCentre","left"])},west:function(){return E(-t,-r/2,["valignCentre","right"])},insetNortheast:function(){return E(d,g,["top","alignLeft","inset"])},insetNorthwest:function(){return E(-d,g,["top","alignRight","inset"])},insetNorth:function(){return E(-d/2,g,["top","alignCentre","inset"])},insetSoutheast:function(){return E(d,-g,["bottom","alignLeft","inset"])},insetSouthwest:function(){return E(-d,-g,["bottom","alignRight","inset"])},insetSouth:function(){return E(-d/2,-g,["bottom","alignCentre","inset"])},insetEast:function(){return E(-d,-g/2,["valignCentre","right","inset"])},insetWest:function(){return E(d,-g/2,["valignCentre","left","inset"])}}},cb=function(){return im(0,0,{})},qp=Ee,nw=function(t,r){return function(o){return u4(o)==="rtl"?r:t}},u4=function(t){return eo(t,"direction")==="rtl"?"rtl":"ltr"},Qc;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Qc||(Qc={}));var fb="data-alloy-vertical-dir",s4=function(t){return $h(t,function(r){return go(r)&&Fa(r,"data-alloy-vertical-dir")===Qc.BottomToTop})},nd=function(){return ss("layouts",[_t("onLtr"),_t("onRtl"),qr("onBottomLtr"),qr("onBottomRtl")])},rd=function(t,r,o,s,d,g,C){var E=C.map(s4).getOr(!1),O=r.layouts.map(function(ae){return ae.onLtr(t)}),B=r.layouts.map(function(ae){return ae.onRtl(t)}),H=E?r.layouts.bind(function(ae){return ae.onBottomLtr.map(function(fe){return fe(t)})}).or(O).getOr(d):O.getOr(o),W=E?r.layouts.bind(function(ae){return ae.onBottomRtl.map(function(fe){return fe(t)})}).or(B).getOr(g):B.getOr(s),ee=nw(H,W);return ee(t)},l4=function(t,r,o){var s=r.hotspot,d=Fh(o,s.element),g=rd(t.element,r,Q0(),eb(),ed(),Z0(),$.some(r.hotspot.element));return $.some(qp({anchorBox:d,bubble:r.bubble.getOr(cb()),overrides:r.overrides,layouts:g,placer:$.none()}))},vb=[_t("hotspot"),qr("bubble"),Ve("overrides",{}),nd(),_a("placement",l4)],db=function(t,r,o){var s=rb(o,r.x,r.y),d=Vo(s.left,s.top,r.width,r.height),g=rd(t.element,r,V2(),tm(),V2(),tm(),$.none());return $.some(qp({anchorBox:d,bubble:r.bubble,overrides:r.overrides,layouts:g,placer:$.none()}))},mb=[_t("x"),_t("y"),Ve("height",0),Ve("width",0),Ve("bubble",cb()),Ve("overrides",{}),nd(),_a("placement",db)],li=Ds.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Ex=function(t){return t.fold(Ee,function(r,o,s){return r.translate(-o,-s)})},rw=function(t){return t.fold(Ee,Ee)},Tx=function(t){return Qe(t,function(r,o){return r.translate(o.left,o.top)},ba(0,0))},Ox=function(t){var r=Ue(t,Ex);return Tx(r)},mc=function(t){var r=Ue(t,rw);return Tx(r)},av=li.screen,Dx=li.absolute,Rx=function(t,r,o){var s=ih(o.root).dom,d=function(g){var C=Jo(g),E=Jo(t.element);return Sa(C,E)};return $.from(s.frameElement).map(un.fromDom).filter(d).map(vu)},aw=function(t,r,o){var s=Jo(t.element),d=os(s),g=Rx(t,r,o).getOr(d);return Dx(g,d.left,d.top)},hb=function(t,r,o,s){var d=av(ba(t,r));return $.some(Es(d,o,s))},Bx=function(t,r,o,s,d){return t.map(function(g){var C=[r,g.point],E=$l(s,function(){return mc(C)},function(){return mc(C)},function(){return Ox(C)}),O=po(E.left,E.top,g.width,g.height),B=o.showAbove?ed():Q0(),H=o.showAbove?Z0():eb(),W=rd(d,o,B,H,B,H,$.none());return qp({anchorBox:O,bubble:o.bubble.getOr(cb()),overrides:o.overrides,layouts:W,placer:$.none()})})},Wh=function(t,r,o){var s=aw(t,o,r);return r.node.filter(fu).bind(function(d){var g=d.dom.getBoundingClientRect(),C=hb(g.left,g.top,g.width,g.height),E=r.node.getOr(t.element);return Bx(C,s,r,o,E)})},c4=[_t("node"),_t("root"),qr("bubble"),nd(),Ve("overrides",{}),Ve("showAbove",!1),_a("placement",Wh)],Kp="\uFEFF",f4="",jh=function(t,r,o,s){return{start:t,soffset:r,finish:o,foffset:s}},um={create:jh},ow=Ds.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),$x=function(t,r,o,s){return t.fold(r,o,s)},v4=function(t){return t.fold(Ee,Ee,Ee)},Mx=ow.before,Px=ow.on,iw=ow.after,d4={before:Mx,on:Px,after:iw,cata:$x,getStart:v4},gb=Ds.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),m4=function(t){return gb.exact(t.start,t.soffset,t.finish,t.foffset)},Xp=function(t){return t.match({domRange:function(r){return un.fromDom(r.startContainer)},relative:function(r,o){return d4.getStart(r)},exact:function(r,o,s,d){return r}})},h4=gb.domRange,g4=gb.relative,p4=gb.exact,pb=function(t){var r=Xp(t);return ih(r)},b4=um.create,Gh={domRange:h4,relative:g4,exact:p4,exactFromRange:m4,getWin:pb,range:b4},Ix=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,s){t.setStart(o.dom,s)},function(o){t.setStartAfter(o.dom)})},y4=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,s){t.setEnd(o.dom,s)},function(o){t.setEndAfter(o.dom)})},uw=function(t,r,o){var s=t.document.createRange();return Ix(s,r),y4(s,o),s},Nx=function(t,r,o,s,d){var g=t.document.createRange();return g.setStart(r.dom,o),g.setEnd(s.dom,d),g},sw=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},Fx=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?$.some(o).map(sw):$.none()},Lx=function(t){var r=t.getBoundingClientRect();return r.width>0||r.height>0?$.some(r).map(sw):$.none()},qh=Ds.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),lw=function(t,r,o){return r(un.fromDom(o.startContainer),o.startOffset,un.fromDom(o.endContainer),o.endOffset)},cw=function(t,r){return r.match({domRange:function(o){return{ltr:ue(o),rtl:$.none}},relative:function(o,s){return{ltr:es(function(){return uw(t,o,s)}),rtl:es(function(){return $.some(uw(t,s,o))})}},exact:function(o,s,d,g){return{ltr:es(function(){return Nx(t,o,s,d,g)}),rtl:es(function(){return $.some(Nx(t,d,g,o,s))})}}})},w4=function(t,r){var o=r.ltr();if(o.collapsed){var s=r.rtl().filter(function(d){return d.collapsed===!1});return s.map(function(d){return qh.rtl(un.fromDom(d.endContainer),d.endOffset,un.fromDom(d.startContainer),d.startOffset)}).getOrThunk(function(){return lw(t,qh.ltr,o)})}else return lw(t,qh.ltr,o)},C4=function(t,r){var o=cw(t,r);return w4(t,o)},fw=function(t,r){var o=C4(t,r);return o.match({ltr:function(s,d,g,C){var E=t.document.createRange();return E.setStart(s.dom,d),E.setEnd(g.dom,C),E},rtl:function(s,d,g,C){var E=t.document.createRange();return E.setStart(g.dom,C),E.setEnd(s.dom,d),E}})};qh.ltr,qh.rtl;var S4=function(t,r){var o=function(g){if(!t(g))throw new Error("Can only get "+r+" value of a "+r+" node");return s(g).getOr("")},s=function(g){return t(g)?$.from(g.dom.nodeValue):$.none()},d=function(g,C){if(!t(g))throw new Error("Can only set raw "+r+" value of a "+r+" node");g.dom.nodeValue=C};return{get:o,getOption:s,set:d}},zx=S4(Du,"text"),ad=function(t){return zx.get(t)},Kh=function(t){return zx.getOption(t)},Hx=function(t){return Qu(t)==="img"?1:Kh(t).fold(function(){return je(t).length},function(r){return r.length})},x4=function(t){return Kh(t).filter(function(r){return r.trim().length!==0||r.indexOf(f4)>-1}).isSome()},Vx=["img","br"],_4=function(t){var r=x4(t);return r||lt(Vx,Qu(t))},vw=function(t){return Xh(t,_4)},Xh=function(t,r){var o=function(s){for(var d=je(s),g=d.length-1;g>=0;g--){var C=d[g];if(r(C))return $.some(C);var E=o(C);if(E.isSome())return E}return $.none()};return o(t)},au=function(t,r){return oh(r,t)},dw=function(t,r,o,s){var d=Jo(t),g=d.dom.createRange();return g.setStart(t.dom,r),g.setEnd(o.dom,s),g},Yh=function(t,r,o,s){var d=dw(t,r,o,s),g=Sa(t,o)&&r===s;return d.collapsed&&!g},sm=function(t){return $.from(t.getSelection())},bb=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return $.some(um.create(un.fromDom(r.startContainer),r.startOffset,un.fromDom(o.endContainer),o.endOffset))}else return $.none()},k4=function(t){if(t.anchorNode===null||t.focusNode===null)return bb(t);var r=un.fromDom(t.anchorNode),o=un.fromDom(t.focusNode);return Yh(r,t.anchorOffset,o,t.focusOffset)?$.some(um.create(r,t.anchorOffset,o,t.focusOffset)):bb(t)},Ux=function(t){return sm(t).filter(function(r){return r.rangeCount>0}).bind(k4)},mw=function(t,r){var o=fw(t,r);return Fx(o)},zu=function(t,r){var o=fw(t,r);return Lx(o)},Yp=function(t,r){return{element:t,offset:r}},A4=function(t,r){var o=je(t);if(o.length===0)return Yp(t,r);if(r<o.length)return Yp(o[r],0);var s=o[o.length-1],d=Du(s)?ad(s).length:je(s).length;return Yp(s,d)},lm=function(t,r){return Du(t)?Yp(t,r):A4(t,r)},od=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return Ux(t)}});return o().map(function(s){var d=lm(s.start,s.soffset),g=lm(s.finish,s.foffset);return Gh.range(d.element,d.offset,g.element,g.offset)})},Jh=function(t,r,o){var s=ih(r.root).dom,d=aw(t,o,r),g=od(s,r).bind(function(O){var B=zu(s,Gh.exactFromRange(O)).orThunk(function(){var H=un.fromText(Kp);co(O.start,H);var W=mw(s,Gh.exact(H,0,H,1));return $u(H),W});return B.bind(function(H){return hb(H.left,H.top,H.width,H.height)})}),C=od(s,r).bind(function(O){return go(O.start)?$.some(O.start):i0(O.start)}),E=C.getOr(t.element);return Bx(g,d,r,o,E)},id=[qr("getSelection"),_t("root"),qr("bubble"),nd(),Ve("overrides",{}),Ve("showAbove",!1),_a("placement",Jh)],hc="link-layout",gc=function(t){return t.x+t.width},yb=function(t,r){return t.x-r.width},wb=function(t,r){return t.y-r.height+t.height},hw=function(t){return t.y},Zh=function(t,r,o){return Qo(gc(t),hw(t),o.southeast(),q0(),"southeast",qo(t,{left:0,top:2}),hc)},Qh=function(t,r,o){return Qo(yb(t,r),hw(t),o.southwest(),P2(),"southwest",qo(t,{right:1,top:2}),hc)},eg=function(t,r,o){return Qo(gc(t),wb(t,r),o.northeast(),I2(),"northeast",qo(t,{left:0,bottom:3}),hc)},Yi=function(t,r,o){return Qo(yb(t,r),wb(t,r),o.northwest(),em(),"northwest",qo(t,{right:1,bottom:3}),hc)},tg=function(){return[Zh,Qh,eg,Yi]},ng=function(){return[Qh,Zh,Yi,eg]},Cb=function(t,r,o){var s=Fh(o,r.item.element),d=rd(t.element,r,tg(),ng(),tg(),ng(),$.none());return $.some(qp({anchorBox:s,bubble:cb(),overrides:r.overrides,layouts:d,placer:$.none()}))},E4=[_t("item"),nd(),Ve("overrides",{}),_a("placement",Cb)],gw=el("type",{selection:id,node:c4,hotspot:vb,submenu:E4,makeshift:mb}),Sb=[Gi("classes",bo),Os("mode","all",["all","layout","placement"])],Mi=[Ve("useFixed",pe),qr("getBounds")],T4=[Iu("anchor",gw),ss("transition",Sb)],ef=function(){var t=document.documentElement;return W2(0,0,t.clientWidth,t.clientHeight)},xb=function(t){var r=vu(t.element),o=t.element.dom.getBoundingClientRect();return ab(r.left,r.top,o.width,o.height)},pw=function(t,r,o,s,d,g,C){var E=ob(o.anchorBox,r);return i4(E,d.element,o.bubble,o.layouts,g,s,o.overrides,C)},rg=function(t,r,o,s,d){bw(t,r,o,s,d,$.none())},bw=function(t,r,o,s,d,g){var C=g.map(Ao);return Jp(t,r,o,s,d,C)},Jp=function(t,r,o,s,d,g){var C=ia("placement.info",Bn(T4),d),E=C.anchor,O=s.element,B=o.get(s.uid);Cx(function(){Wn(O,"position","fixed");var H=ko(O,"visibility");Wn(O,"visibility","hidden");var W=r.useFixed()?ef():xb(t),ee=E.placement,ae=g.map(ue).or(r.getBounds);ee(t,E,W).each(function(fe){var Se=fe.placer.getOr(pw),Fe=Se(t,W,fe,ae,s,B,C.transition);o.set(s.uid,Fe)}),H.fold(function(){Gr(O,"visibility")},function(fe){Wn(O,"visibility",fe)}),ko(O,"left").isNone()&&ko(O,"top").isNone()&&ko(O,"right").isNone()&&ko(O,"bottom").isNone()&&lu(ko(O,"position"),"fixed")&&Gr(O,"position")},O)},O4=function(t,r,o){return r.useFixed()?"fixed":"absolute"},Wx=function(t,r,o,s){var d=s.element;gt(["position","left","right","top","bottom"],function(g){return Gr(d,g)}),X2(d),o.clear(s.uid)},jx=Object.freeze({__proto__:null,position:rg,positionWithin:bw,positionWithinBounds:Jp,getMode:O4,reset:Wx}),D4=function(){var t={},r=function(d,g){t[d]=g},o=function(d){return En(t,d)},s=function(d){V(d)?delete t[d]:t={}};return Ki({readState:function(){return t},clear:s,set:r,get:o})},ag=Object.freeze({__proto__:null,init:D4}),vo=Ko({fields:Mi,name:"positioning",active:nb,apis:jx,state:ag}),_b=function(t){Vr(t,kh());var r=t.components();gt(r,_b)},kb=function(t){var r=t.components();gt(r,kb),Vr(t,ls())},yw=function(t,r){Ui(t.element,r.element)},Gx=function(t){gt(t.components(),function(r){return $u(r.element)}),Va(t.element),t.syncComponents()},ww=function(t,r){var o=t.components();Gx(t);var s=nn(o,r);gt(s,function(d){_b(d),t.getSystem().removeFromWorld(d)}),gt(r,function(d){d.getSystem().isConnected()?yw(t,d):(t.getSystem().addToWorld(d),yw(t,d),fu(t.element)&&kb(d)),t.syncComponents()})},cm=function(t,r){Ab(t,r,Ui)},Ab=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),fu(t.element)&&kb(r),t.syncComponents()},Hu=function(t){_b(t),$u(t.element),t.getSystem().removeFromWorld(t)},pc=function(t){var r=xo(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});Hu(t),r.each(function(o){o.syncComponents()})},Eb=function(t){var r=t.components();gt(r,Hu),Va(t.element),t.syncComponents()},ov=function(t,r){bc(t,r,Ui)},Ml=function(t,r){bc(t,r,zf)},bc=function(t,r,o){o(t,r.element);var s=je(r.element);gt(s,function(d){r.getByDom(d).each(kb)})},ou=function(t){var r=je(t.element);gt(r,function(o){t.getByDom(o).each(_b)}),$u(t.element)},ol=function(t,r,o,s){o.get().each(function(C){Eb(t)});var d=r.getAttachPoint(t);cm(d,t);var g=t.getSystem().build(s);return cm(t,g),o.set(g),g},og=function(t,r,o,s){var d=ol(t,r,o,s);return r.onOpen(t,d),d},tf=function(t,r,o,s){return o.get().map(function(){return ol(t,r,o,s)})},fm=function(t,r,o,s,d){Jx(t,r),og(t,r,o,s),d(),Zx(t,r)},qx=function(t,r,o){o.get().each(function(s){Eb(t),pc(t),r.onClose(t,s),o.clear()})},Kx=function(t,r,o){return o.isOpen()},R4=function(t,r,o,s){return Kx(t,r,o)&&o.get().exists(function(d){return r.isPartOf(t,d,s)})},B4=function(t,r,o){return o.get()},Xx=function(t,r,o,s){ko(t.element,r).fold(function(){ii(t.element,o)},function(d){or(t.element,o,d)}),Wn(t.element,r,s)},Yx=function(t,r,o){Ga(t.element,o).fold(function(){return Gr(t.element,r)},function(s){return Wn(t.element,r,s)})},Jx=function(t,r,o){var s=r.getAttachPoint(t);Wn(t.element,"position",vo.getMode(s)),Xx(t,"visibility",r.cloakVisibilityAttr,"hidden")},$4=function(t){return Sn(["top","left","right","bottom"],function(r){return ko(t,r).isSome()})},Zx=function(t,r,o){$4(t.element)||Gr(t.element,"position"),Yx(t,"visibility",r.cloakVisibilityAttr)},M4=Object.freeze({__proto__:null,cloak:Jx,decloak:Zx,open:og,openWhileCloaked:fm,close:qx,isOpen:Kx,isPartOf:R4,getState:B4,setContent:tf}),Qx=function(t,r){return Ca([Dt(Ap(),function(o,s){qx(o,t,r)})])},e_=Object.freeze({__proto__:null,events:Qx}),Cw=[Kr("onOpen"),Kr("onClose"),_t("isPartOf"),_t("getAttachPoint"),Ve("cloakVisibilityAttr","data-precloak-visibility")],t_=function(){var t=fo(),r=ue("not-implemented");return Ki({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},P4=Object.freeze({__proto__:null,init:t_}),Tr=Ko({fields:Cw,name:"sandboxing",active:e_,apis:M4,state:P4}),vm=ue("dismiss.popups"),ig=ue("reposition.popups"),Sw=ue("mouse.released"),I4=is([Ve("isExtraPart",pe),ss("fireEventInstead",[Ve("event",Dl())])]),Vu=function(t){var r,o=ia("Dismissal",I4,t);return r={},r[vm()]={schema:is([_t("target")]),onReceive:function(s,d){if(Tr.isOpen(s)){var g=Tr.isPartOf(s,d.target)||o.isExtraPart(s,d.target);g||o.fireEventInstead.fold(function(){return Tr.close(s)},function(C){return Vr(s,C.event)})}}},r},N4=is([ss("fireEventInstead",[Ve("event",qi())]),tu("doReposition")]),dm=function(t){var r,o=ia("Reposition",N4,t);return r={},r[ig()]={onReceive:function(s){Tr.isOpen(s)&&o.fireEventInstead.fold(function(){return o.doReposition(s)},function(d){return Vr(s,d.event)})}},r},ud=function(t,r,o){r.store.manager.onLoad(t,r,o)},Tb=function(t,r,o){r.store.manager.onUnload(t,r,o)},Ob=function(t,r,o,s){r.store.manager.setValue(t,r,o,s)},F4=function(t,r,o){return r.store.manager.getValue(t,r,o)},n_=function(t,r,o){return o},Db=Object.freeze({__proto__:null,onLoad:ud,onUnload:Tb,setValue:Ob,getValue:F4,getState:n_}),xw=function(t,r){var o=t.resetOnDom?[nr(function(s,d){ud(s,t,r)}),Ms(function(s,d){Tb(s,t,r)})]:[Wa(t,r,ud)];return Ca(o)},ug=Object.freeze({__proto__:null,events:xw}),Rb=function(){var t=Pn(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},s=function(){t.set(null)};return Ki({set:t.set,get:t.get,isNotSet:o,clear:s,readState:r})},L4=function(){var t=G;return Ki({readState:t})},nf=function(){var t=Pn({}),r=Pn({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},s=function(){t.set({}),r.set({})},d=function(C){return En(t.get(),C).orThunk(function(){return En(r.get(),C)})},g=function(C){var E=t.get(),O=r.get(),B={},H={};gt(C,function(W){B[W.value]=W,En(W,"meta").each(function(ee){En(ee,"text").each(function(ae){H[ae]=W})})}),t.set(ne(ne({},E),B)),r.set(ne(ne({},O),H))};return Ki({readState:o,lookup:d,update:g,clear:s})},_w=function(t){return t.store.manager.state(t)},kw=Object.freeze({__proto__:null,memory:Rb,dataset:nf,manual:L4,init:_w}),sg=function(t,r,o,s){var d=r.store;o.update([s]),d.setValue(t,s),r.onSetValue(t,s)},Aw=function(t,r,o){var s=r.store,d=s.getDataKey(t);return o.lookup(d).getOrThunk(function(){return s.getFallbackEntry(d)})},Zp=function(t,r,o){var s=r.store;s.initialValue.each(function(d){sg(t,r,o,d)})},r_=function(t,r,o){o.clear()},z4=[qr("initialValue"),_t("getFallbackEntry"),_t("getDataKey"),_t("setValue"),_a("manager",{setValue:sg,getValue:Aw,onLoad:Zp,onUnload:r_,state:nf})],rf=function(t,r,o){return r.store.getValue(t)},vs=function(t,r,o,s){r.store.setValue(t,s),r.onSetValue(t,s)},Pi=function(t,r,o){r.store.initialValue.each(function(s){r.store.setValue(t,s)})},H4=[_t("getValue"),Ve("setValue",G),qr("initialValue"),_a("manager",{setValue:vs,getValue:rf,onLoad:Pi,onUnload:G,state:Di.init})],Ew=function(t,r,o,s){o.set(s),r.onSetValue(t,s)},lg=function(t,r,o){return o.get()},Tw=function(t,r,o){r.store.initialValue.each(function(s){o.isNotSet()&&o.set(s)})},Qp=function(t,r,o){o.clear()},Ow=[qr("initialValue"),_a("manager",{setValue:Ew,getValue:lg,onLoad:Tw,onUnload:Qp,state:Rb})],V4=[gu("store",{mode:"memory"},el("mode",{memory:Ow,manual:H4,dataset:z4})),Kr("onSetValue"),Ve("resetOnDom",!1)],rn=Ko({fields:V4,name:"representing",active:ug,apis:Db,extra:{setValueFrom:function(t,r){var o=rn.getValue(r);rn.setValue(t,o)}},state:kw}),Xo=function(t,r){return i2(t,{},Ue(r,function(o){return bh(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([hu("dump",Ee)]))},cg=function(t){return t.dump},ci=function(t,r){return ne(ne({},Jt(r)),t.dump)},il={field:Xo,augment:ci,get:cg},Dw="placeholder",e1=Ds.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Bb=function(t){return Dr(t,"uiType")},$b=function(t,r,o,s){return t.exists(function(d){return d!==o.owner})?e1.single(!0,ue(o)):En(s,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+Ir(s)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(d){return d.replace()})},Mb=function(t,r,o,s){return Bb(o)&&o.uiType===Dw?$b(t,r,o,s):e1.single(!1,ue(o))},sd=function(t,r,o,s){var d=Mb(t,r,o,s);return d.fold(function(g,C){var E=Bb(o)?C(r,o.config,o.validated):C(r),O=En(E,"components").getOr([]),B=Wt(O,function(H){return sd(t,r,H,s)});return[ne(ne({},E),{components:B})]},function(g,C){if(Bb(o)){var E=C(r,o.config,o.validated),O=o.validated.preprocess.getOr(Ee);return O(E)}else return C(r)})},t1=function(t,r,o,s){return Wt(o,function(d){return sd(t,r,d,s)})},Rw=function(t,r){var o=!1,s=function(){return o},d=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},g=function(){return r.fold(function(C,E){return C},function(C,E){return C})};return{name:ue(t),required:g,used:s,replace:d}},Bw=function(t,r,o,s){var d=ur(s,function(C,E){return Rw(E,C)}),g=t1(t,r,o,d);return Hr(d,function(C){if(C.used()===!1&&C.required())throw new Error("Placeholder: "+C.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),g},$w=e1.single,U4=e1.multiple,a_=ue(Dw),iv=Ds.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),af=Ve("factory",{sketch:Ee}),mm=Ve("schema",[]),fg=_t("name"),Mw=Uo("pname","pname",Ar(function(t){return"<alloy."+wn(t.name)+">"}),kl()),Pb=hu("schema",function(){return[qr("preprocess")]}),of=Ve("defaults",ue({})),Pl=Ve("overrides",ue({})),ld=Bn([af,mm,fg,Mw,of,Pl]),cd=Bn([af,mm,fg,of,Pl]),hm=Bn([af,mm,fg,Mw,of,Pl]),vg=Bn([af,Pb,fg,_t("unit"),Mw,of,Pl]),Pw=function(t){return t.fold($.some,$.none,$.some,$.some)},Iw=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},Nw=function(t){return t.fold(Ee,Ee,Ee,Ee)},Ib=function(t,r){return function(o){var s=ia("Converting part type",r,o);return t(s)}},Ii=Ib(iv.required,ld),Ls=Ib(iv.external,cd),ul=Ib(iv.optional,hm),uf=Ib(iv.group,vg),dg=ue("entirety"),Nb=Object.freeze({__proto__:null,required:Ii,external:Ls,optional:ul,group:uf,asNamedPart:Pw,name:Iw,asCommon:Nw,original:dg}),fd=function(t,r,o,s){return bt(r.defaults(t,o,s),o,{uid:t.partUids[r.name]},r.overrides(t,o,s))},gm=function(t,r,o){var s={},d={};return gt(o,function(g){g.fold(function(C){s[C.pname]=$w(!0,function(E,O,B){return C.factory.sketch(fd(E,C,O,B))})},function(C){var E=r.parts[C.name];d[C.name]=ue(C.factory.sketch(fd(r,C,E[dg()]),E))},function(C){s[C.pname]=$w(!1,function(E,O,B){return C.factory.sketch(fd(E,C,O,B))})},function(C){s[C.pname]=U4(!0,function(E,O,B){var H=E[C.name];return Ue(H,function(W){return C.factory.sketch(bt(C.defaults(E,W,B),W,C.overrides(E,W)))})})})}),{internals:ue(s),externals:ue(d)}},pm=function(t,r){var o={};return gt(r,function(s){Pw(s).each(function(d){var g=W4(t,d.pname);o[d.name]=function(C){var E=ia("Part: "+d.name+" in "+t,Bn(d.schema),C);return ne(ne({},g),{config:C,validated:E})}})}),o},W4=function(t,r){return{uiType:a_(),owner:t,name:r}},Fw=function(t,r,o){return{uiType:a_(),owner:t,name:r,config:o,validated:{}}},o_=function(t){return Wt(t,function(r){return r.fold($.none,$.some,$.none,$.none).map(function(o){return Hc(o.name,o.schema.concat([Qv(dg())]))}).toArray()})},i_=function(t){return Ue(t,Iw)},Lw=function(t,r,o){return gm(t,r,o)},zw=function(t,r,o){return Bw($.some(t),r,r.components,o)},ga=function(t,r,o){var s=r.partUids[o];return t.getSystem().getByUid(s).toOptional()},sf=function(t,r,o){return ga(t,r,o).getOrDie("Could not find part: "+o)},u_=function(t,r,o){var s={},d=r.partUids,g=t.getSystem();return gt(o,function(C){s[C]=ue(g.getByUid(d[C]))}),s},s_=function(t,r){var o=t.getSystem();return ur(r.partUids,function(s,d){return ue(o.getByUid(s))})},l_=function(t){return Ir(t.partUids)},Fb=function(t,r,o){var s={},d=r.partUids,g=t.getSystem();return gt(o,function(C){s[C]=ue(g.getByUid(d[C]).getOrDie())}),s},Hw=function(t,r){var o=i_(r);return Xf(Ue(o,function(s){return{key:s,value:t+"-"+s}}))},n1=function(t){return Uo("partUids","partUids",Ei(function(r){return Hw(r.uid,t)}),kl())},Vn=Object.freeze({__proto__:null,generate:pm,generateOne:Fw,schemas:o_,names:i_,substitutes:Lw,components:zw,defaultUids:Hw,defaultUidsSchema:n1,getAllParts:s_,getAllPartNames:l_,getPart:ga,getPartOrDie:sf,getParts:u_,getPartsOrDie:Fb}),j4=function(t,r){var o=t.length>0?[Hc("parts",t)]:[];return o.concat([_t("uid"),Ve("dom",{}),Ve("components",[]),Qv("originalSpec"),Ve("debug.sketcher",{})]).concat(r)},Vw=function(t,r,o,s,d){var g=j4(s,d);return ia(t+" [SpecSchema]",is(g.concat(r)),o)},c_=function(t,r,o,s){var d=f_(s),g=Vw(t,r,d,[],[]);return o(g,d)},Uw=function(t,r,o,s,d){var g=f_(d),C=o_(o),E=n1(o),O=Vw(t,r,g,C,[E]),B=Lw(t,O,o),H=zw(t,O,B.internals());return s(O,H,g,B.externals())},G4=function(t){return Dr(t,"uid")},f_=function(t){return G4(t)?t:ne(ne({},t),{uid:Gv("uid")})},Ww=function(t){return t.uid!==void 0},jw=is([_t("name"),_t("factory"),_t("configFields"),Ve("apis",{}),Ve("extraApis",{})]),q4=is([_t("name"),_t("factory"),_t("configFields"),_t("partFields"),Ve("apis",{}),Ve("extraApis",{})]),zs=function(t){var r=ia("Sketcher for "+t.name,jw,t),o=function(g){return c_(r.name,r.configFields,r.factory,g)},s=ur(r.apis,Ka),d=ur(r.extraApis,function(g,C){return Gd(g,C)});return ne(ne({name:r.name,configFields:r.configFields,sketch:o},s),d)},_u=function(t){var r=ia("Sketcher for "+t.name,q4,t),o=function(C){return Uw(r.name,r.configFields,r.partFields,r.factory,C)},s=pm(r.name,r.partFields),d=ur(r.apis,Ka),g=ur(r.extraApis,function(C,E){return Gd(C,E)});return ne(ne({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:s},d),g)},lf=function(t){return Qu(t)==="input"&&Fa(t,"type")!=="radio"||Qu(t)==="textarea"},K4=function(t,r,o){return r.find(t)},X4=Object.freeze({__proto__:null,getCurrent:K4}),Gw=[_t("find")],Cr=Ko({fields:Gw,name:"composing",apis:X4}),Y4=["input","button","textarea","select"],Lb=function(t,r,o){var s=r.disabled()?qw:vd;s(t,r)},zb=function(t,r){return r.useNative===!0&&lt(Y4,Qu(t.element))},Hb=function(t){return f0(t.element,"disabled")},r1=function(t){or(t.element,"disabled","disabled")},uv=function(t){ii(t.element,"disabled")},a1=function(t){return Fa(t.element,"aria-disabled")==="true"},J4=function(t){or(t.element,"aria-disabled","true")},v_=function(t){or(t.element,"aria-disabled","false")},qw=function(t,r,o){r.disableClass.each(function(d){Wo(t.element,d)});var s=zb(t,r)?r1:J4;s(t),r.onDisabled(t)},vd=function(t,r,o){r.disableClass.each(function(d){Po(t.element,d)});var s=zb(t,r)?uv:v_;s(t),r.onEnabled(t)},Vb=function(t,r){return zb(t,r)?Hb(t):a1(t)},d_=function(t,r,o,s){var d=s?qw:vd;d(t,r)},Z4=Object.freeze({__proto__:null,enable:vd,disable:qw,isDisabled:Vb,onLoad:Lb,set:d_}),Q4=function(t,r){return Bl({classes:r.disabled()?r.disableClass.toArray():[]})},eE=function(t,r){return Ca([w2(Rs(),function(o,s){return Vb(o,t)}),Wa(t,r,Lb)])},bm=Object.freeze({__proto__:null,exhibit:Q4,events:eE}),Kw=[Ea("disabled",pe),Ve("useNative",!0),qr("disableClass"),Kr("onDisabled"),Kr("onEnabled")],Mn=Ko({fields:Kw,name:"disabling",active:bm,apis:Z4}),m_=function(t,r,o,s){var d=au(t.element,"."+r.highlightClass);gt(d,function(g){Sn(s,function(C){return C.element===g})||(Po(g,r.highlightClass),t.getSystem().getByDom(g).each(function(C){r.onDehighlight(t,C),Vr(C,_0())}))})},h_=function(t,r,o){return m_(t,r,o,[])},tE=function(t,r,o,s){Xw(t,r,o,s)&&(Po(s.element,r.highlightClass),r.onDehighlight(t,s),Vr(s,_0()))},o1=function(t,r,o,s){m_(t,r,o,[s]),Xw(t,r,o,s)||(Wo(s.element,r.highlightClass),r.onHighlight(t,s),Vr(s,y2()))},iu=function(t,r,o){Jw(t,r).each(function(s){o1(t,r,o,s)})},i1=function(t,r,o){Zw(t,r).each(function(s){o1(t,r,o,s)})},nE=function(t,r,o,s){p_(t,r,o,s).fold(function(d){throw d},function(d){o1(t,r,o,d)})},g_=function(t,r,o,s){var d=b_(t,r),g=pt(d,s);g.each(function(C){o1(t,r,o,C)})},Xw=function(t,r,o,s){return bu(s.element,r.highlightClass)},Yw=function(t,r,o){return jo(t.element,"."+r.highlightClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},p_=function(t,r,o,s){var d=au(t.element,"."+r.itemClass);return $.from(d[s]).fold(function(){return sr.error(new Error("No element found with index "+s))},t.getSystem().getByDom)},Jw=function(t,r,o){return jo(t.element,"."+r.itemClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},Zw=function(t,r,o){var s=au(t.element,"."+r.itemClass),d=s.length>0?$.some(s[s.length-1]):$.none();return d.bind(function(g){return t.getSystem().getByDom(g).toOptional()})},sv=function(t,r,o,s){var d=au(t.element,"."+r.itemClass),g=Yt(d,function(C){return bu(C,r.highlightClass)});return g.bind(function(C){var E=Bi(C,s,0,d.length-1);return t.getSystem().getByDom(d[E]).toOptional()})},rE=function(t,r,o){return sv(t,r,o,-1)},aE=function(t,r,o){return sv(t,r,o,1)},b_=function(t,r,o){var s=au(t.element,"."+r.itemClass);return Rr(Ue(s,function(d){return t.getSystem().getByDom(d).toOptional()}))},oE=Object.freeze({__proto__:null,dehighlightAll:h_,dehighlight:tE,highlight:o1,highlightFirst:iu,highlightLast:i1,highlightAt:nE,highlightBy:g_,isHighlighted:Xw,getHighlighted:Yw,getFirst:Jw,getLast:Zw,getPrevious:rE,getNext:aE,getCandidates:b_}),u1=[_t("highlightClass"),_t("itemClass"),Kr("onHighlight"),Kr("onDehighlight")],ea=Ko({fields:u1,name:"highlighting",apis:oE}),Ub=[8],lv=[9],Il=[13],dd=[27],Uu=[32],Wb=[37],ym=[38],mg=[39],md=[40],iE=function(t,r,o){var s=It(t.slice(0,r)),d=It(t.slice(r+1));return pt(s.concat(d),o)},y_=function(t,r,o){var s=It(t.slice(0,r));return pt(s,o)},uE=function(t,r,o){var s=t.slice(0,r),d=t.slice(r+1);return pt(d.concat(s),o)},sE=function(t,r,o){var s=t.slice(r+1);return pt(s,o)},pr=function(t){return function(r){var o=r.raw;return lt(t,o.which)}},Nl=function(t){return function(r){return Ot(t,function(o){return o(r)})}},hg=function(t){var r=t.raw;return r.shiftKey===!0},w_=function(t){var r=t.raw;return r.ctrlKey===!0},s1=Xe(hg),Or=function(t,r){return{matches:t,classification:r}},C_=function(t,r){var o=pt(t,function(s){return s.matches(r)});return o.map(function(s){return s.classification})},S_=function(t,r,o){var s=r.exists(function(d){return o.exists(function(g){return Sa(g,d)})});s||In(t,x0(),{prevFocus:r,newFocus:o})},l1=function(){var t=function(o){return dc(o.element)},r=function(o,s){var d=t(o);o.getSystem().triggerFocus(s,o.element);var g=t(o);S_(o,d,g)};return{get:t,set:r}},x_=function(){var t=function(o){return ea.getHighlighted(o).map(function(s){return s.element})},r=function(o,s){var d=t(o);o.getSystem().getByDom(s).fold(G,function(C){ea.highlight(o,C)});var g=t(o);S_(o,d,g)};return{get:t,set:r}},c1;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(c1||(c1={}));var wm=function(t,r,o,s,d){var g=function(){return t.concat([Ve("focusManager",l1()),gu("focusInside","onFocus",ph(function(B){return lt(["onFocus","onEnterOrSpace","onApi"],B)?sr.value(B):sr.error("Invalid value for focusInside")})),_a("handler",O),_a("state",r),_a("sendFocusIn",d)])},C=function(B,H,W,ee,ae){var fe=W(B,H,ee,ae);return C_(fe,H.event).bind(function(Se){return Se(B,H,ee,ae)})},E=function(B,H){var W=B.focusInside!==c1.OnFocusMode?$.none():d(B).map(function(fe){return Dt(Lv(),function(Se,Fe){fe(Se,B,H),Fe.stop()})}),ee=function(fe,Se){var Fe=pr(Uu.concat(Il))(Se.event);B.focusInside===c1.OnEnterOrSpaceMode&&Fe&&JS(fe,Se)&&d(B).each(function(we){we(fe,B,H),Se.stop()})},ae=[Dt(y0(),function(fe,Se){C(fe,Se,o,B,H).fold(function(){ee(fe,Se)},function(Fe){Se.stop()})}),Dt(d2(),function(fe,Se){C(fe,Se,s,B,H).each(function(Fe){Se.stop()})})];return Ca(W.toArray().concat(ae))},O={schema:g,processKey:C,toEvents:E};return O},Qw=function(t){var r=[qr("onEscape"),qr("onEnter"),Ve("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ve("firstTabstop",0),Ve("useTabstopAt",ye),qr("visibilitySelector")].concat([t]),o=function(Se,Fe){var we=Se.visibilitySelector.bind(function(ze){return al(Fe,ze)}).getOr(Fe);return $o(we)>0},s=function(Se,Fe){var we=au(Se.element,Fe.selector),ze=Ae(we,function(ft){return o(Fe,ft)});return $.from(ze[Fe.firstTabstop])},d=function(Se,Fe){return Fe.focusManager.get(Se).bind(function(we){return al(we,Fe.selector)})},g=function(Se,Fe){return o(Se,Fe)&&Se.useTabstopAt(Fe)},C=function(Se,Fe,we){s(Se,Fe).each(function(ze){Fe.focusManager.set(Se,ze)})},E=function(Se,Fe,we,ze,ft){return ft(Fe,we,function(ct){return g(ze,ct)}).fold(function(){return ze.cyclic?$.some(!0):$.none()},function(ct){return ze.focusManager.set(Se,ct),$.some(!0)})},O=function(Se,Fe,we,ze){var ft=au(Se.element,we.selector);return d(Se,we).bind(function(ct){var Le=Yt(ft,ke(Sa,ct));return Le.bind(function(tt){return E(Se,ft,tt,we,ze)})})},B=function(Se,Fe,we){var ze=we.cyclic?iE:y_;return O(Se,Fe,we,ze)},H=function(Se,Fe,we){var ze=we.cyclic?uE:sE;return O(Se,Fe,we,ze)},W=function(Se,Fe,we){return we.onEnter.bind(function(ze){return ze(Se,Fe)})},ee=function(Se,Fe,we){return we.onEscape.bind(function(ze){return ze(Se,Fe)})},ae=ue([Or(Nl([hg,pr(lv)]),B),Or(pr(lv),H),Or(pr(dd),ee),Or(Nl([s1,pr(Il)]),W)]),fe=ue([]);return wm(r,Di.init,ae,fe,function(){return $.some(C)})},eC=Qw(hu("cyclic",pe)),__=Qw(hu("cyclic",ye)),k_=function(t,r,o){return k0(t,o,Rs()),$.some(!0)},hd=function(t,r,o){var s=lf(o)&&pr(Uu)(r.event);return s?$.none():k_(t,r,o)},Cm=function(t,r){return $.some(!0)},tC=[Ve("execute",hd),Ve("useSpace",!1),Ve("useEnter",!0),Ve("useControlEnter",!1),Ve("useDown",!1)],A_=function(t,r,o){return o.execute(t,r,t.element)},jb=function(t,r,o,s){var d=o.useSpace&&!lf(t.element)?Uu:[],g=o.useEnter?Il:[],C=o.useDown?md:[],E=d.concat(g).concat(C);return[Or(pr(E),A_)].concat(o.useControlEnter?[Or(Nl([w_,pr(Il)]),A_)]:[])},lE=function(t,r,o,s){return o.useSpace&&!lf(t.element)?[Or(pr(Uu),Cm)]:[]},gg=wm(tC,Di.init,jb,lE,function(){return $.none()}),nC=function(){var t=fo(),r=function(d,g){t.set({numRows:d,numColumns:g})},o=function(){return t.get().map(function(d){return d.numRows})},s=function(){return t.get().map(function(d){return d.numColumns})};return Ki({readState:function(){return t.get().map(function(d){return{numRows:String(d.numRows),numColumns:String(d.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:s})},rC=function(t){return t.state(t)},E_=Object.freeze({__proto__:null,flatgrid:nC,init:rC}),aC=function(t){return function(r,o,s,d){var g=t(r.element);return iC(g,r,o,s,d)}},Gb=function(t,r){var o=nw(t,r);return aC(o)},qb=function(t,r){var o=nw(r,t);return aC(o)},oC=function(t){return function(r,o,s,d){return iC(t,r,o,s,d)}},iC=function(t,r,o,s,d){var g=s.focusManager.get(r).bind(function(C){return t(r.element,C,s,d)});return g.map(function(C){return s.focusManager.set(r,C),!0})},T_=oC,Sm=oC,pg=oC,O_=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},D_=function(t){return!O_(t.dom)},Kb=function(t,r){return Yt(t,r).map(function(o){return{index:o,candidates:t}})},R_=function(t,r,o){var s=function(C){return Sa(C,r)},d=au(t,o),g=Ae(d,D_);return Kb(g,s)},B_=function(t,r){return Yt(t,function(o){return Sa(r,o)})},uC=function(t,r,o,s){var d=Math.floor(r/o),g=r%o;return s(d,g).bind(function(C){var E=C.row*o+C.column;return E>=0&&E<t.length?$.some(t[E]):$.none()})},$_=function(t,r,o,s,d){return uC(t,r,s,function(g,C){var E=g===o-1,O=E?t.length-g*s:s,B=Bi(C,d,0,O-1);return $.some({row:g,column:B})})},M_=function(t,r,o,s,d){return uC(t,r,s,function(g,C){var E=Bi(g,d,0,o-1),O=E===o-1,B=O?t.length-E*s:s,H=fs(C,0,B-1);return $.some({row:E,column:H})})},P_=function(t,r,o,s){return $_(t,r,o,s,1)},cE=function(t,r,o,s){return $_(t,r,o,s,-1)},I_=function(t,r,o,s){return M_(t,r,o,s,-1)},sC=function(t,r,o,s){return M_(t,r,o,s,1)},bg=[_t("selector"),Ve("execute",hd),Go("onEscape"),Ve("captureTab",!1),j0()],fE=function(t,r,o){jo(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},N_=function(t,r){return r.focusManager.get(t).bind(function(o){return al(o,r.selector)})},F_=function(t,r,o,s){return N_(t,o).bind(function(d){return o.execute(t,r,d)})},sl=function(t){return function(r,o,s,d){return R_(r,o,s.selector).bind(function(g){return t(g.candidates,g.index,d.getNumRows().getOr(s.initSize.numRows),d.getNumColumns().getOr(s.initSize.numColumns))})}},L_=function(t,r,o){return o.captureTab?$.some(!0):$.none()},z_=function(t,r,o){return o.onEscape(t,r)},Xb=sl(cE),Yb=sl(P_),lC=sl(I_),xm=sl(sC),yg=ue([Or(pr(Wb),Gb(Xb,Yb)),Or(pr(mg),qb(Xb,Yb)),Or(pr(ym),T_(lC)),Or(pr(md),Sm(xm)),Or(Nl([hg,pr(lv)]),L_),Or(Nl([s1,pr(lv)]),L_),Or(pr(dd),z_),Or(pr(Uu.concat(Il)),F_)]),H_=ue([Or(pr(Uu),Cm)]),V_=wm(bg,nC,yg,H_,function(){return $.some(fE)}),Jb=function(t,r,o,s){var d=function(C){return Qu(C)==="button"&&Fa(C,"disabled")==="disabled"},g=function(C,E,O){var B=Bi(E,s,0,O.length-1);return B===C?$.none():d(O[B])?g(C,B,O):$.from(O[B])};return R_(t,o,r).bind(function(C){var E=C.index,O=C.candidates;return g(E,E,O)})},vE=[_t("selector"),Ve("getInitial",$.none),Ve("execute",hd),Go("onEscape"),Ve("executeOnMove",!1),Ve("allowVertical",!0)],Zb=function(t,r){return r.focusManager.get(t).bind(function(o){return al(o,r.selector)})},f1=function(t,r,o){return Zb(t,o).bind(function(s){return o.execute(t,r,s)})},Qb=function(t,r,o){r.getInitial(t).orThunk(function(){return jo(t.element,r.selector)}).each(function(s){r.focusManager.set(t,s)})},U_=function(t,r,o){return Jb(t,o.selector,r,-1)},ey=function(t,r,o){return Jb(t,o.selector,r,1)},ll=function(t){return function(r,o,s,d){return t(r,o,s,d).bind(function(){return s.executeOnMove?f1(r,o,s):$.some(!0)})}},dE=function(t,r,o){return o.onEscape(t,r)},ty=function(t,r,o,s){var d=Wb.concat(o.allowVertical?ym:[]),g=mg.concat(o.allowVertical?md:[]);return[Or(pr(d),ll(Gb(U_,ey))),Or(pr(g),ll(qb(U_,ey))),Or(pr(Il),f1),Or(pr(Uu),f1),Or(pr(dd),dE)]},W_=ue([Or(pr(Uu),Cm)]),v1=wm(vE,Di.init,ty,W_,function(){return $.some(Qb)}),d1=function(t,r,o){return $.from(t[r]).bind(function(s){return $.from(s[o]).map(function(d){return{rowIndex:r,columnIndex:o,cell:d}})})},cC=function(t,r,o,s){var d=t[r],g=d.length,C=Bi(o,s,0,g-1);return d1(t,r,C)},j_=function(t,r,o,s){var d=Bi(o,s,0,t.length-1),g=t[d].length,C=fs(r,0,g-1);return d1(t,d,C)},G_=function(t,r,o,s){var d=t[r],g=d.length,C=fs(o+s,0,g-1);return d1(t,r,C)},q_=function(t,r,o,s){var d=fs(o+s,0,t.length-1),g=t[d].length,C=fs(r,0,g-1);return d1(t,d,C)},ny=function(t,r,o){return cC(t,r,o,1)},gd=function(t,r,o){return cC(t,r,o,-1)},mE=function(t,r,o){return j_(t,o,r,-1)},hE=function(t,r,o){return j_(t,o,r,1)},gE=function(t,r,o){return G_(t,r,o,-1)},pd=function(t,r,o){return G_(t,r,o,1)},pE=function(t,r,o){return q_(t,o,r,-1)},fC=function(t,r,o){return q_(t,o,r,1)},bE=[Hc("selectors",[_t("row"),_t("cell")]),Ve("cycles",!0),Ve("previousSelector",$.none),Ve("execute",hd)],wg=function(t,r,o){var s=r.previousSelector(t).orThunk(function(){var d=r.selectors;return jo(t.element,d.cell)});s.each(function(d){r.focusManager.set(t,d)})},vC=function(t,r,o){return dc(t.element).bind(function(s){return o.execute(t,r,s)})},K_=function(t,r){return Ue(t,function(o){return au(o,r.selectors.cell)})},ry=function(t,r){return function(o,s,d){var g=d.cycles?t:r;return al(s,d.selectors.row).bind(function(C){var E=au(C,d.selectors.cell);return B_(E,s).bind(function(O){var B=au(o,d.selectors.row);return B_(B,C).bind(function(H){var W=K_(B,d);return g(W,H,O).map(function(ee){return ee.cell})})})})}},X_=ry(gd,gE),Y_=ry(ny,pd),yE=ry(mE,pE),ay=ry(hE,fC),oy=ue([Or(pr(Wb),Gb(X_,Y_)),Or(pr(mg),qb(X_,Y_)),Or(pr(ym),T_(yE)),Or(pr(md),Sm(ay)),Or(pr(Uu.concat(Il)),vC)]),dC=ue([Or(pr(Uu),Cm)]),J_=wm(bE,Di.init,oy,dC,function(){return $.some(wg)}),Z_=[_t("selector"),Ve("execute",hd),Ve("moveOnTab",!1)],_m=function(t,r,o){return o.focusManager.get(t).bind(function(s){return o.execute(t,r,s)})},m1=function(t,r,o){jo(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},iy=function(t,r,o){return Jb(t,o.selector,r,-1)},h1=function(t,r,o){return Jb(t,o.selector,r,1)},Q_=function(t,r,o,s){return o.moveOnTab?pg(iy)(t,r,o,s):$.none()},cv=function(t,r,o,s){return o.moveOnTab?pg(h1)(t,r,o,s):$.none()},wE=ue([Or(pr(ym),pg(iy)),Or(pr(md),pg(h1)),Or(Nl([hg,pr(lv)]),Q_),Or(Nl([s1,pr(lv)]),cv),Or(pr(Il),_m),Or(pr(Uu),_m)]),cf=ue([Or(pr(Uu),Cm)]),ek=wm(Z_,Di.init,wE,cf,function(){return $.some(m1)}),uy=[Go("onSpace"),Go("onEnter"),Go("onShiftEnter"),Go("onLeft"),Go("onRight"),Go("onTab"),Go("onShiftTab"),Go("onUp"),Go("onDown"),Go("onEscape"),Ve("stopSpaceKeyup",!1),qr("focusIn")],mC=function(t,r,o){return[Or(pr(Uu),o.onSpace),Or(Nl([s1,pr(Il)]),o.onEnter),Or(Nl([hg,pr(Il)]),o.onShiftEnter),Or(Nl([hg,pr(lv)]),o.onShiftTab),Or(Nl([s1,pr(lv)]),o.onTab),Or(pr(ym),o.onUp),Or(pr(md),o.onDown),Or(pr(Wb),o.onLeft),Or(pr(mg),o.onRight),Or(pr(Uu),o.onSpace),Or(pr(dd),o.onEscape)]},CE=function(t,r,o){return o.stopSpaceKeyup?[Or(pr(Uu),Cm)]:[]},bd=wm(uy,Di.init,mC,CE,function(t){return t.focusIn}),tk=eC.schema(),nk=__.schema(),SE=v1.schema(),hC=V_.schema(),Cg=J_.schema(),Sg=gg.schema(),rk=ek.schema(),gC=bd.schema(),Fl=Object.freeze({__proto__:null,acyclic:tk,cyclic:nk,flow:SE,flatgrid:hC,matrix:Cg,execution:Sg,menu:rk,special:gC}),yd=function(t){return uo(t,"setGridSize")},Fn=rm({branchKey:"mode",branches:Fl,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(s){s(t,r,o)})},setGridSize:function(t,r,o,s,d){yd(o)?o.setGridSize(s,d):console.error("Layout does not support setGridSize")}},state:E_}),pC=function(t,r,o,s){Cx(function(){var d=Ue(s,t.getSystem().build);ww(t,d)},t.element)},ff=function(t,r,o,s){var d=t.getSystem().build(s);Ab(t,d,o)},ak=function(t,r,o,s){ff(t,r,Ui,s)},xE=function(t,r,o,s){ff(t,r,Hf,s)},ok=function(t,r,o,s){var d=g1(t),g=pt(d,function(C){return Sa(s.element,C.element)});g.each(pc)},g1=function(t,r){return t.components()},yc=function(t,r,o,s,d){var g=g1(t);return $.from(g[s]).map(function(C){return ok(t,r,o,C),d.each(function(E){ff(t,r,function(O,B){nc(O,B,s)},E)}),C})},sy=function(t,r,o,s,d){var g=g1(t);return Yt(g,s).bind(function(C){return yc(t,r,o,C,d)})},ik=Object.freeze({__proto__:null,append:ak,prepend:xE,remove:ok,replaceAt:yc,replaceBy:sy,set:pC,contents:g1}),Zn=Ko({fields:[],name:"replacing",apis:ik}),bC=function(t,r){var o=Ca(r);return Ko({fields:[_t("enabled")],name:t,active:{events:ue(o)}})},rr=function(t,r){var o=bC(t,r);return{key:t,value:{config:{},me:o,configAsRaw:ue({}),initialConfig:{},state:Di}}},yC=function(t,r){r.ignore||(vc(t.element),r.onFocus(t))},uk=function(t,r){r.ignore||Lp(t.element)},sk=function(t){return zp(t.element)},xg=Object.freeze({__proto__:null,focus:yC,blur:uk,isFocused:sk}),_g=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return Bl(o)},kg=function(t){return Ca([Dt(Lv(),function(r,o){yC(r,t),o.stop()})].concat(t.stopMousedown?[Dt(Ol(),function(r,o){o.event.prevent()})]:[]))},Ag=Object.freeze({__proto__:null,exhibit:_g,events:kg}),_E=[Kr("onFocus"),Ve("stopMousedown",!1),Ve("ignore",!1)],Xn=Ko({fields:_E,name:"focusing",active:Ag,apis:xg}),lk=function(t){var r=function(){var o=Pn(t),s=function(){return o.get()},d=function(E){return o.set(E)},g=function(){return o.set(t)},C=function(){return o.get()};return{get:s,set:d,clear:g,readState:C}};return{init:r}},wC=function(t,r,o){var s=r.aria;s.update(t,s,o.get())},p1=function(t,r,o){r.toggleClass.each(function(s){o.get()?Wo(t.element,s):Po(t.element,s)})},wd=function(t,r,o){CC(t,r,o,!o.get())},ck=function(t,r,o){o.set(!0),p1(t,r,o),wC(t,r,o)},ly=function(t,r,o){o.set(!1),p1(t,r,o),wC(t,r,o)},CC=function(t,r,o,s){var d=s?ck:ly;d(t,r,o)},kE=function(t,r,o){return o.get()},fk=function(t,r,o){CC(t,r,o,r.selected)},AE=Object.freeze({__proto__:null,onLoad:fk,toggle:wd,isOn:kE,on:ck,off:ly,set:CC}),cy=function(){return Bl({})},EE=function(t,r){var o=nm(t,r,wd),s=Wa(t,r,fk);return Ca(ot([t.toggleOnExecute?[o]:[],[s]]))},fy=Object.freeze({__proto__:null,exhibit:cy,events:EE}),vk=function(t,r,o){or(t.element,"aria-pressed",o),r.syncWithExpanded&&mk(t,r,o)},dk=function(t,r,o){or(t.element,"aria-selected",o)},TE=function(t,r,o){or(t.element,"aria-checked",o)},mk=function(t,r,o){or(t.element,"aria-expanded",o)},SC=[Ve("selected",!1),qr("toggleClass"),Ve("toggleOnExecute",!0),gu("aria",{mode:"none"},el("mode",{pressed:[Ve("syncWithExpanded",!1),_a("update",vk)],checked:[_a("update",TE)],expanded:[_a("update",mk)],selected:[_a("update",dk)],none:[_a("update",G)]}))],Br=Ko({fields:SC,name:"toggling",active:fy,apis:AE,state:lk(!1)}),hk=function(){var t=function(r,o){o.stop(),$s(r)};return[Dt(xh(),t),Dt(zv(),t),Wd(Wc()),Wd(Ol())]},vy=function(t){var r=function(o){return cs(function(s,d){o(s),d.stop()})};return Ca(ot([t.map(r).toArray(),hk()]))},xC="alloy.item-hover",gk="alloy.item-focus",_C=function(t){(dc(t.element).isNone()||Xn.isFocused(t))&&(Xn.isFocused(t)||Xn.focus(t),In(t,xC,{item:t}))},b1=function(t){In(t,gk,{item:t})},dy=ue(xC),u=ue(gk),c=function(t){return{dom:t.dom,domModification:ne(ne({},t.domModification),{attributes:ne(ne(ne({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:il.augment(t.itemBehaviours,[t.toggling.fold(Br.revoke,function(r){return Br.config(ne({aria:{mode:"checked"}},r))}),Xn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){b1(r)}}),Fn.config({mode:"execution"}),rn.config({store:{mode:"memory",initialValue:t.data}}),rr("item-type-events",xe(xe([],hk(),!0),[Dt(Yf(),_C),Dt(Hd(),Xn.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},h=[_t("data"),_t("components"),_t("dom"),Ve("hasSubmenu",!1),qr("toggling"),il.field("itemBehaviours",[Br,Xn,Fn,rn]),Ve("ignoreFocus",!1),Ve("domModification",{}),_a("builder",c),Ve("eventOrder",{})],w=function(t){return{dom:t.dom,components:t.components,events:Ca([Ah(Hd())])}},k=[_t("dom"),_t("components"),_a("builder",w)],R=ue("item-widget"),F=ue([Ii({name:"widget",overrides:function(t){return{behaviours:Jt([rn.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:G}})])}}})]),q=function(t){var r=Lw(R(),t,F()),o=zw(R(),t,r.internals()),s=function(g){return ga(g,t,"widget").map(function(C){return Fn.focusIn(C),C})},d=function(g,C){return lf(C.event.target)?$.none():function(){return t.autofocus&&C.setSource(g.element),$.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:Ca([cs(function(g,C){s(g).each(function(E){C.stop()})}),Dt(Yf(),_C),Dt(Hd(),function(g,C){t.autofocus?s(g):Xn.focus(g)})]),behaviours:il.augment(t.widgetBehaviours,[rn.config({store:{mode:"memory",initialValue:t.data}}),Xn.config({ignore:t.ignoreFocus,onFocus:function(g){b1(g)}}),Fn.config({mode:"special",focusIn:t.autofocus?function(g){s(g)}:wx(),onLeft:d,onRight:d,onEscape:function(g,C){return!Xn.isFocused(g)&&!t.autofocus?(Xn.focus(g),$.some(!0)):(t.autofocus&&C.setSource(g.element),$.none())}})])}},ie=[_t("uid"),_t("data"),_t("components"),_t("dom"),Ve("autofocus",!1),Ve("ignoreFocus",!1),il.field("widgetBehaviours",[rn,Xn,Fn]),Ve("domModification",{}),n1(F()),_a("builder",q)],be=el("type",{widget:ie,item:h,separator:k}),Pe=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},mt=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},zt=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},At=ue([uf({factory:{sketch:function(t){var r=ia("menu.spec item",be,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return Dr(r,"uid")?r:ne(ne({},r),{uid:Gv("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),ht=ue([_t("value"),_t("items"),_t("dom"),_t("components"),Ve("eventOrder",{}),Xo("menuBehaviours",[ea,rn,Cr,Fn]),gu("movement",{mode:"menu",moveOnTab:!0},el("mode",{grid:[j0(),_a("config",Pe)],matrix:[_a("config",mt),_t("rowSelector")],menu:[Ve("moveOnTab",!0),_a("config",zt)]})),W3(),Ve("fakeFocus",!1),Ve("focusManager",l1()),Kr("onHighlight")]),Xt=ue("alloy.menu-focus"),en=function(t,r,o,s){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:ci(t.menuBehaviours,[ea.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),rn.config({store:{mode:"memory",initialValue:t.value}}),Cr.config({find:$.some}),Fn.config(t.movement.config(t,t.movement))]),events:Ca([Dt(u(),function(d,g){var C=g.event;d.getSystem().getByDom(C.target).each(function(E){ea.highlight(d,E),g.stop(),In(d,Xt(),{menu:d,item:E})})}),Dt(dy(),function(d,g){var C=g.event.item;ea.highlight(d,C)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},On=_u({name:"Menu",configFields:ht(),partFields:At(),factory:en}),Ur=function(t){return Ia(t,function(r,o){return{k:r,v:o}})},Tn=function(t,r,o,s){return En(o,s).bind(function(d){return En(t,d).bind(function(g){var C=Tn(t,r,o,g);return $.some([g].concat(C))})}).getOr([])},Yn=function(t,r){var o={};Hr(t,function(C,E){gt(C,function(O){o[O]=E})});var s=r,d=Ur(r),g=ur(d,function(C,E){return[E].concat(Tn(o,s,d,E))});return ur(o,function(C){return En(g,C).getOr([C])})},Sr=function(){var t=Pn({}),r=Pn({}),o=Pn({}),s=fo(),d=Pn({}),g=function(){t.set({}),r.set({}),o.set({}),s.clear()},C=function(){return s.get().isNone()},E=function(Le,tt){var Ct;r.set(ne(ne({},r.get()),(Ct={},Ct[Le]={type:"prepared",menu:tt},Ct)))},O=function(Le,tt,Ct,an){s.set(Le),t.set(Ct),r.set(tt),d.set(an);var Tt=Yn(an,Ct);o.set(Tt)},B=function(Le){return Ju(t.get(),function(tt,Ct){return tt===Le})},H=function(Le,tt,Ct){return Se(Le).bind(function(an){return B(Le).bind(function(Tt){return tt(Tt).map(function(sn){return{triggeredMenu:an,triggeringItem:sn,triggeringPath:Ct}})})})},W=function(Le,tt){var Ct=Ae(we(Le).toArray(),function(an){return Se(an).isSome()});return En(o.get(),Le).bind(function(an){var Tt=It(Ct.concat(an)),sn=Wt(Tt,function(Bt,wt){return H(Bt,tt,Tt.slice(0,wt+1)).fold(function(){return lu(s.get(),Bt)?[]:[$.none()]},function(Kt){return[$.some(Kt)]})});return kr(sn)})},ee=function(Le){return En(t.get(),Le).map(function(tt){var Ct=En(o.get(),Le).getOr([]);return[tt].concat(Ct)})},ae=function(Le){return En(o.get(),Le).bind(function(tt){return tt.length>1?$.some(tt.slice(1)):$.none()})},fe=function(Le){return En(o.get(),Le)},Se=function(Le){return Fe(Le).bind(br)},Fe=function(Le){return En(r.get(),Le)},we=function(Le){return En(t.get(),Le)},ze=function(Le){var tt=d.get();return nn(Ir(tt),Le)},ft=function(){return s.get().bind(Se)},ct=function(){return r.get()};return{setMenuBuilt:E,setContents:O,expand:ee,refresh:fe,collapse:ae,lookupMenu:Fe,lookupItem:we,otherMenus:ze,getPrimary:ft,getMenus:ct,clear:g,isClear:C,getTriggeringPath:W}},br=function(t){return t.type==="prepared"?$.some(t.menu):$.none()},wo={init:Sr,extractPreparedMenu:br},fi=function(t,r){var o=fo(),s=function(Et,bn,An){return ur(An,function(_r,aa){var Pa=function(){return On.sketch(ne(ne({},_r),{value:aa,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?x_():l1()}))};return aa===bn?{type:"prepared",menu:Et.getSystem().build(Pa())}:{type:"notbuilt",nbMenu:Pa}})},d=wo.init(),g=function(Et){var bn=s(Et,t.data.primary,t.data.menus),An=O();return d.setContents(t.data.primary,bn,t.data.expansions,An),d.getPrimary()},C=function(Et){return rn.getValue(Et).value},E=function(Et,bn,An){return Jr(bn,function(_r){if(!_r.getSystem().isConnected())return $.none();var aa=ea.getCandidates(_r);return pt(aa,function(Pa){return C(Pa)===An})})},O=function(Et){return ur(t.data.menus,function(bn,An){return Wt(bn.items,function(_r){return _r.type==="separator"?[]:[_r.data.value]})})},B=function(Et,bn){ea.highlight(Et,bn),ea.getHighlighted(bn).orThunk(function(){return ea.getFirst(bn)}).each(function(An){k0(Et,An.element,Hd())})},H=function(Et,bn){return Rr(Ue(bn,function(An){return Et.lookupMenu(An).bind(function(_r){return _r.type==="prepared"?$.some(_r.menu):$.none()})}))},W=function(Et,bn,An){var _r=H(bn,bn.otherMenus(An));gt(_r,function(aa){Ns(aa.element,[t.markers.backgroundMenu]),t.stayInDom||Zn.remove(Et,aa)})},ee=function(Et){return o.get().getOrThunk(function(){var bn={},An=au(Et.element,"."+t.markers.item),_r=Ae(An,function(aa){return Fa(aa,"aria-haspopup")==="true"});return gt(_r,function(aa){Et.getSystem().getByDom(aa).each(function(Pa){var oo=C(Pa);bn[oo]=Pa})}),o.set(bn),bn})},ae=function(Et,bn){var An=ee(Et);Hr(An,function(_r,aa){var Pa=lt(bn,aa);or(_r.element,"aria-expanded",Pa)})},fe=function(Et,bn,An){return $.from(An[0]).bind(function(_r){return bn.lookupMenu(_r).bind(function(aa){if(aa.type==="notbuilt")return $.none();var Pa=aa.menu,oo=H(bn,An.slice(1));return gt(oo,function(vl){Wo(vl.element,t.markers.backgroundMenu)}),fu(Pa.element)||Zn.append(Et,Fs(Pa)),Ns(Pa.element,[t.markers.backgroundMenu]),B(Et,Pa),W(Et,bn,An),$.some(Pa)})})},Se;(function(Et){Et[Et.HighlightSubmenu=0]="HighlightSubmenu",Et[Et.HighlightParent=1]="HighlightParent"})(Se||(Se={}));var Fe=function(Et,bn,An){if(An.type==="notbuilt"){var _r=Et.getSystem().build(An.nbMenu());return d.setMenuBuilt(bn,_r),_r}else return An.menu},we=function(Et,bn,An){if(An===void 0&&(An=Se.HighlightSubmenu),bn.hasConfigured(Mn)&&Mn.isDisabled(bn))return $.some(bn);var _r=C(bn);return d.expand(_r).bind(function(aa){return ae(Et,aa),$.from(aa[0]).bind(function(Pa){return d.lookupMenu(Pa).bind(function(oo){var vl=Fe(Et,Pa,oo);return fu(vl.element)||Zn.append(Et,Fs(vl)),t.onOpenSubmenu(Et,bn,vl,It(aa)),An===Se.HighlightSubmenu?(ea.highlightFirst(vl),fe(Et,d,aa)):(ea.dehighlightAll(vl),$.some(bn))})})})},ze=function(Et,bn){var An=C(bn);return d.collapse(An).bind(function(_r){return ae(Et,_r),fe(Et,d,_r).map(function(aa){return t.onCollapseMenu(Et,bn,aa),aa})})},ft=function(Et,bn){var An=C(bn);return d.refresh(An).bind(function(_r){return ae(Et,_r),fe(Et,d,_r)})},ct=function(Et,bn){return lf(bn.element)?$.none():we(Et,bn,Se.HighlightSubmenu)},Le=function(Et,bn){return lf(bn.element)?$.none():ze(Et,bn)},tt=function(Et,bn){return ze(Et,bn).orThunk(function(){return t.onEscape(Et,bn).map(function(){return Et})})},Ct=function(Et){return function(bn,An){return al(An.getSource(),"."+t.markers.item).bind(function(_r){return bn.getSystem().getByDom(_r).toOptional().bind(function(aa){return Et(bn,aa).map(ye)})})}},an=Ca([Dt(Xt(),function(Et,bn){var An=bn.event.item;d.lookupItem(C(An)).each(function(){var _r=bn.event.menu;ea.highlight(Et,_r);var aa=C(bn.event.item);d.refresh(aa).each(function(Pa){return W(Et,d,Pa)})})}),cs(function(Et,bn){var An=bn.event.target;Et.getSystem().getByDom(An).each(function(_r){var aa=C(_r);aa.indexOf("collapse-item")===0&&ze(Et,_r),we(Et,_r,Se.HighlightSubmenu).fold(function(){t.onExecute(Et,_r)},G)})}),nr(function(Et,bn){g(Et).each(function(An){Zn.append(Et,Fs(An)),t.onOpenMenu(Et,An),t.highlightImmediately&&B(Et,An)})})].concat(t.navigateOnHover?[Dt(dy(),function(Et,bn){var An=bn.event.item;ft(Et,An),we(Et,An,Se.HighlightParent),t.onHover(Et,An)})]:[])),Tt=function(Et){return ea.getHighlighted(Et).bind(ea.getHighlighted)},sn=function(Et){Tt(Et).each(function(bn){ze(Et,bn)})},Bt=function(Et){d.getPrimary().each(function(bn){B(Et,bn)})},wt=function(Et){return $.from(Et.components()[0]).filter(function(bn){return Fa(bn.element,"role")==="menu"})},Kt=function(Et){var bn=d.getPrimary().bind(function(An){return Tt(Et).bind(function(_r){var aa=C(_r),Pa=xi(d.getMenus()),oo=Rr(Ue(Pa,wo.extractPreparedMenu));return d.getTriggeringPath(aa,function(vl){return E(Et,oo,vl)})}).map(function(_r){return{primary:An,triggeringPath:_r}})});bn.fold(function(){wt(Et).each(function(An){t.onRepositionMenu(Et,An,[])})},function(An){var _r=An.primary,aa=An.triggeringPath;t.onRepositionMenu(Et,_r,aa)})},Cn={collapseMenu:sn,highlightPrimary:Bt,repositionMenus:Kt};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:ci(t.tmenuBehaviours,[Fn.config({mode:"special",onRight:Ct(ct),onLeft:Ct(Le),onEscape:Ct(tt),focusIn:function(Et,bn){d.getPrimary().each(function(An){k0(Et,An.element,Hd())})}}),ea.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Cr.config({find:function(Et){return ea.getHighlighted(Et)}}),Zn.config({})]),eventOrder:t.eventOrder,apis:Cn,events:an}},vi=ue("collapse-item"),$r=function(t,r,o){return{primary:t,menus:r,expansions:o}},Qn=function(t,r){return{primary:t,menus:Vc(t,r),expansions:{}}},Er=function(t){return{value:wn(vi()),meta:{text:t}}},ca=zs({name:"TieredMenu",configFields:[Fu("onExecute"),Fu("onEscape"),wu("onOpenMenu"),wu("onOpenSubmenu"),Kr("onRepositionMenu"),Kr("onCollapseMenu"),Ve("highlightImmediately",!0),Hc("data",[_t("primary"),_t("menus"),_t("expansions")]),Ve("fakeFocus",!1),Kr("onHighlight"),Kr("onHover"),Zd(),_t("dom"),Ve("navigateOnHover",!0),Ve("stayInDom",!1),Xo("tmenuBehaviours",[Fn,ea,Cr,Zn]),Ve("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:fi,extraApis:{tieredData:$r,singleData:Qn,collapseItem:Er}}),ro=function(t,r,o,s,d){var g=function(){return t.lazySink(r)},C=s.type==="horizontal"?{layouts:{onLtr:function(){return Q0()},onRtl:function(){return eb()}}}:{},E=function(B){return B.length===2},O=function(B){return E(B)?C:{}};return ca.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return Tr.close(r),t.onEscape.map(function(B){return B(r)}),$.some(!0)},onExecute:function(){return $.some(!0)},onOpenMenu:function(B,H){vo.positionWithinBounds(g().getOrDie(),H,o,d())},onOpenSubmenu:function(B,H,W,ee){var ae=g().getOrDie();vo.position(ae,W,{anchor:ne({type:"submenu",item:H},O(ee))})},onRepositionMenu:function(B,H,W){var ee=g().getOrDie();vo.positionWithinBounds(ee,H,o,d()),gt(W,function(ae){var fe=O(ae.triggeringPath);vo.position(ee,ae.triggeredMenu,{anchor:ne({type:"submenu",item:ae.triggeringItem},fe)})})}})},fv=function(t,r){var o=function(ae,fe){var Se=t.getRelated(ae);return Se.exists(function(Fe){return Jd(Fe,fe)})},s=function(ae,fe){Tr.setContent(ae,fe)},d=function(ae,fe,Se){g(ae,fe,Se,$.none())},g=function(ae,fe,Se,Fe){C(ae,fe,Se,function(){return Fe.map(function(we){return Ao(we)})})},C=function(ae,fe,Se,Fe){var we=t.lazySink(ae).getOrDie();Tr.openWhileCloaked(ae,fe,function(){return vo.positionWithinBounds(we,ae,Se,Fe())}),rn.setValue(ae,$.some({mode:"position",config:Se,getBounds:Fe}))},E=function(ae,fe,Se){O(ae,fe,Se,$.none)},O=function(ae,fe,Se,Fe){var we=ro(t,ae,fe,Se,Fe);Tr.open(ae,we),rn.setValue(ae,$.some({mode:"menu",menu:we}))},B=function(ae){Tr.isOpen(ae)&&(rn.setValue(ae,$.none()),Tr.close(ae))},H=function(ae){return Tr.getState(ae)},W=function(ae){Tr.isOpen(ae)&&rn.getValue(ae).each(function(fe){switch(fe.mode){case"menu":Tr.getState(ae).each(ca.repositionMenus);break;case"position":var Se=t.lazySink(ae).getOrDie();vo.positionWithinBounds(Se,ae,fe.config,fe.getBounds());break}})},ee={setContent:s,showAt:d,showWithin:g,showWithinBounds:C,showMenuAt:E,showMenuWithinBounds:O,hide:B,getContent:H,reposition:W,isOpen:Tr.isOpen};return{uid:t.uid,dom:t.dom,behaviours:ci(t.inlineBehaviours,[Tr.config({isPartOf:function(ae,fe,Se){return Jd(fe,Se)||o(ae,Se)},getAttachPoint:function(ae){return t.lazySink(ae).getOrDie()},onOpen:function(ae){t.onShow(ae)},onClose:function(ae){t.onHide(ae)}}),rn.config({store:{mode:"memory",initialValue:$.none()}}),nu.config({channels:ne(ne({},Vu(ne({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(ae){return{fireEventInstead:{event:ae.event}}}).getOr({})))),dm(ne(ne({},t.fireRepositionEventInstead.map(function(ae){return{fireEventInstead:{event:ae.event}}}).getOr({})),{doReposition:W})))})]),eventOrder:t.eventOrder,apis:ee}},la=zs({name:"InlineView",configFields:[_t("lazySink"),Kr("onShow"),Kr("onHide"),Nv("onEscape"),Xo("inlineBehaviours",[Tr,rn,nu]),ss("fireDismissalEventInstead",[Ve("event",Dl())]),ss("fireRepositionEventInstead",[Ve("event",qi())]),Ve("getRelated",$.none),Ve("isExtraPart",pe),Ve("eventOrder",$.none)],factory:fv,apis:{showAt:function(t,r,o,s){t.showAt(r,o,s)},showWithin:function(t,r,o,s,d){t.showWithin(r,o,s,d)},showWithinBounds:function(t,r,o,s,d){t.showWithinBounds(r,o,s,d)},showMenuAt:function(t,r,o,s){t.showMenuAt(r,o,s)},showMenuWithinBounds:function(t,r,o,s,d){t.showMenuWithinBounds(r,o,s,d)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),ds="layout-inset",di=function(t){return t.x},y1=function(t,r){return t.x+t.width/2-r.width/2},vv=function(t,r){return t.x+t.width-r.width},wc=function(t){return t.y},Hs=function(t,r){return t.y+t.height-r.height},vf=function(t,r){return t.y+t.height/2-r.height/2},my=function(t,r,o){return Qo(vv(t,r),Hs(t,r),o.insetSouthwest(),em(),"southwest",qo(t,{right:0,bottom:3}),ds)},Eg=function(t,r,o){return Qo(di(t),Hs(t,r),o.insetSoutheast(),I2(),"southeast",qo(t,{left:1,bottom:3}),ds)},Tg=function(t,r,o){return Qo(vv(t,r),wc(t),o.insetNorthwest(),P2(),"northwest",qo(t,{right:0,top:2}),ds)},Og=function(t,r,o){return Qo(di(t),wc(t),o.insetNortheast(),q0(),"northeast",qo(t,{left:1,top:2}),ds)},Cc=function(t,r,o){return Qo(y1(t,r),wc(t),o.insetNorth(),Mp(),"north",qo(t,{top:2}),ds)},Dg=function(t,r,o){return Qo(y1(t,r),Hs(t,r),o.insetSouth(),N2(),"south",qo(t,{bottom:3}),ds)},Rg=function(t,r,o){return Qo(vv(t,r),vf(t,r),o.insetEast(),Ph(),"east",qo(t,{right:0}),ds)},kC=function(t,r,o){return Qo(di(t),vf(t,r),o.insetWest(),F2(),"west",qo(t,{left:1}),ds)},Bg=function(t){switch(t){case"north":return Cc;case"northeast":return Og;case"northwest":return Tg;case"south":return Dg;case"southeast":return Eg;case"southwest":return my;case"east":return Rg;case"west":return kC}},M5=function(t,r,o,s,d){var g=K2(s).map(Bg).getOr(Cc);return g(t,r,o,s,d)},OE=function(t){switch(t){case"north":return Dg;case"northeast":return Eg;case"northwest":return my;case"south":return Cc;case"southeast":return Og;case"southwest":return Tg;case"east":return kC;case"west":return Rg}},n8=function(t,r,o,s,d){var g=K2(s).map(OE).getOr(Cc);return g(t,r,o,s,d)},$g=tinymce.util.Tools.resolve("tinymce.util.Delay"),r8=function(t){var r=vy(t.action),o=t.dom.tag,s=function(g){return En(t.dom,"attributes").bind(function(C){return En(C,g)})},d=function(){if(o==="button"){var g=s("type").getOr("button"),C=s("role").map(function(O){return{role:O}}).getOr({});return ne({type:g},C)}else{var E=s("role").getOr("button");return{role:E}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:il.augment(t.buttonBehaviours,[Xn.config({}),Fn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},ms=zs({name:"Button",factory:r8,configFields:[Ve("uid",void 0),_t("dom"),Ve("components",[]),il.field("buttonBehaviours",[Xn,Fn]),qr("action"),qr("role"),Ve("eventOrder",{})]}),ra=function(t){var r=Ww(t)&&uo(t,"uid")?t.uid:Gv("memento"),o=function(g){return g.getSystem().getByUid(r).getOrDie()},s=function(g){return g.getSystem().getByUid(r).toOptional()},d=function(){return ne(ne({},t),{uid:r})};return{get:o,getOpt:s,asSpec:d}},df=tinymce.util.Tools.resolve("tinymce.util.I18n"),DE={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},P5="temporary-placeholder",hy=function(t){return function(){return En(t,P5).getOr("!not found!")}},RE=function(t,r){var o=t.toLowerCase();if(df.isRtl()){var s=Tf(o,"-rtl");return Dr(r,s)?s:o}else return o},I5=function(t,r){return En(r,RE(t,r))},N5=function(t,r){var o=r();return I5(t,o).getOrThunk(hy(o))},a8=function(t,r,o){var s=r();return I5(t,s).or(o).getOrThunk(hy(s))},o8=function(t){return df.isRtl()?Dr(DE,t):!1},BE=function(){return rr("add-focusable",[nr(function(t){B2(t.element,"svg").each(function(r){return or(r,"focusable","false")})})])},$E=function(t,r,o,s){var d,g,C=o8(r)?["tox-icon--flip"]:[],E=En(o,RE(r,o)).or(s).getOrThunk(hy(o));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(C),innerHtml:E},behaviours:Jt(xe(xe([],(g=t.behaviours)!==null&&g!==void 0?g:[],!0),[BE()],!1))}},dv=function(t,r,o,s){return s===void 0&&(s=$.none()),$E(r,t,o(),s)},i8=function(t,r,o){var s=o(),d=pt(t,function(g){return Dr(s,RE(g,s))});return $E(r,d.getOr(P5),s,$.none())},pk={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},u8=function(t){var r=ra({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Jt([Zn.config({})])}),o=function(ae){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+ae+"%"}}}},s=function(ae){return{dom:{tag:"div",classes:["tox-text"],innerHtml:ae+"%"}}},d=ra({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:Jt([Zn.config({})])}),g=function(ae,fe){ae.getSystem().isConnected()&&d.getOpt(ae).each(function(Se){Zn.set(Se,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(fe)]},s(fe)])})},C=function(ae,fe){if(ae.getSystem().isConnected()){var Se=r.get(ae);Zn.set(Se,[Ri(fe)])}},E={updateProgress:g,updateText:C},O=ot([t.icon.toArray(),t.level.toArray(),t.level.bind(function(ae){return $.from(pk[ae])}).toArray()]),B=ra(ms.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[dv("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(ae){t.onAction(ae)}})),H=i8(O,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),W={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:Jt([Zn.config({})])},ee=[H,W];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(ae){return["tox-notification","tox-notification--in","tox-notification--"+ae]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Jt([Xn.config({}),rr("notification-events",[Dt(tl(),function(ae){B.getOpt(ae).each(Xn.focus)})])]),components:ee.concat(t.progress?[d.asSpec()]:[]).concat(t.closeButton?[B.asSpec()]:[]),apis:E}},ME=zs({name:"Notification",factory:u8,configFields:[qr("level"),_t("progress"),_t("icon"),_t("onAction"),_t("text"),_t("iconProvider"),_t("translationProvider"),wa("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function PE(t,r,o){var s=r.backstage.shared,d=function(B){switch(B){case"bc-bc":return Dg;case"tc-tc":return Cc;case"tc-bc":return Lu;case"bc-tc":default:return Io}},g=function(B){B.length>0&&gt(B,function(H,W){W===0?H.moveRel(null,"banner"):H.moveRel(B[W-1].getEl(),"bc-tc")})},C=function(B,H){var W=!B.closeButton&&B.timeout&&(B.timeout>0||B.timeout<0),ee=function(){H(),la.hide(fe)},ae=za(ME.sketch({text:B.text,level:lt(["success","error","warning","warn","info"],B.type)?B.type:void 0,progress:B.progressBar===!0,icon:$.from(B.icon),closeButton:!W,onAction:ee,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),fe=za(la.sketch(ne({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(fe),B.timeout>0&&$g.setTimeout(function(){ee()},B.timeout);var Se=function(){var Fe=Ao(un.fromDom(t.getContentAreaContainer())),we=Ai(),ze=fs(we.x,Fe.x,Fe.right),ft=fs(we.y,Fe.y,Fe.bottom),ct=Math.max(Fe.right,we.right),Le=Math.max(Fe.bottom,we.bottom);return $.some(Vo(ze,ft,ct-ze,Le-ft))};return{close:ee,moveTo:function(Fe,we){la.showAt(fe,Fs(ae),{anchor:{type:"makeshift",x:Fe,y:we}})},moveRel:function(Fe,we){var ze=Fs(ae),ft={maxHeightFunction:Uh()};if(we!=="banner"&&V(Fe)){var ct=d(we),Le={type:"node",root:Hi(),node:$.some(un.fromDom(Fe)),overrides:ft,layouts:{onRtl:function(){return[ct]},onLtr:function(){return[ct]}}};la.showWithinBounds(fe,ze,{anchor:Le},Se)}else{var tt=ne(ne({},s.anchors.banner()),{overrides:ft});la.showWithinBounds(fe,ze,{anchor:tt},Se)}},text:function(Fe){ME.updateText(ae,Fe)},settings:B,getEl:function(){return ae.element.dom},progressBar:{value:function(Fe){ME.updateProgress(ae,Fe)}}}},E=function(B){B.close()},O=function(B){return B.settings};return{open:C,close:E,reposition:g,getArgs:O}}var s8=function(t,r){var o=null,s=function(){D(o)||(clearTimeout(o),o=null)},d=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];D(o)&&(o=setTimeout(function(){o=null,t.apply(null,g)},r))};return{cancel:s,throttle:d}},IE=function(t,r){var o=null,s=function(){D(o)||(clearTimeout(o),o=null)},d=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];s(),o=setTimeout(function(){o=null,t.apply(null,g)},r)};return{cancel:s,throttle:d}},l8=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),c8=function(t,r){return t.isBlock(r)||lt(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},F5=function(t,r,o,s,d){var g=l8(t,function(C){return c8(t,C)});return $.from(g.backwards(r,o,s,d))},f8="[data-mce-autocompleter]",v8=function(t,r){return bk(un.fromDom(t.selection.getNode())).getOrThunk(function(){var o=un.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Ui(o,un.fromDom(r.extractContents())),r.insertNode(o.dom),xo(o).each(function(s){return s.dom.normalize()}),vw(o).map(function(s){t.selection.setCursorLocation(s.dom,Hx(s))}),o})},bk=function(t){return al(t,f8)},d8=function(t){return t.collapsed&&t.startContainer.nodeType===3},L5=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},z5=function(t){return t!==""&&` \f
\r	\v`.indexOf(t)!==-1},NE=function(t,r){return t.substring(r.length)},FE=function(t,r,o){var s;for(s=r-1;s>=0;s--){var d=t.charAt(s);if(z5(d))return $.none();if(d===o)break}return $.some(s)},m8=function(t,r,o,s){if(s===void 0&&(s=0),!d8(r))return $.none();var d=function(C,E,O){return FE(O,E,o).getOr(E)},g=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return F5(t,r.startContainer,r.startOffset,d,g).bind(function(C){var E=r.cloneRange();if(E.setStart(C.container,C.offset),E.setEnd(r.endContainer,r.endOffset),E.collapsed)return $.none();var O=L5(E),B=O.lastIndexOf(o);return B!==0||NE(O,o).length<s?$.none():$.some({text:NE(O,o),range:E,triggerChar:o})})},LE=function(t,r,o,s){return s===void 0&&(s=0),bk(un.fromDom(r.startContainer)).fold(function(){return m8(t,r,o,s)},function(d){var g=t.createRng();g.selectNode(d.dom);var C=L5(g);return $.some({range:g,text:NE(C,o),triggerChar:o})})},h8=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(s,d){In(s,y0(),{raw:d})};r.on("keydown",function(s){var d=function(){return t.getView().bind(ea.getHighlighted)};s.which===8&&t.onKeypress.throttle(s),t.isActive()&&(s.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?s.which===13?(d().each($s),s.preventDefault()):s.which===40?(d().fold(function(){t.getView().each(ea.highlightFirst)},function(g){o(g,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&d().each(function(g){o(g,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(s){t.isActive()&&!t.isProcessingAction()&&bk(un.fromDom(s.element)).isNone()&&t.cancelIfNecessary()})},H5={setup:h8},AC=tinymce.util.Tools.resolve("tinymce.util.Promise"),zE=function(t,r){return{container:t,offset:r}},g8=function(t){return t.nodeType===Yl},p8=function(t){return t.nodeType===Tv},V5=function(t){if(g8(t))return zE(t,t.data.length);var r=t.childNodes;return r.length>0?V5(r[r.length-1]):zE(t,r.length)},yk=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?yk(o[r],0):o.length>0&&p8(t)&&o.length===r?V5(o[o.length-1]):zE(t,r)},b8=function(t,r){return F5(t,r.container,r.offset,function(o,s){return s===0?-1:s},t.getRoot()).filter(function(o){var s=o.container.data.charAt(o.offset-1);return!z5(s)}).isSome()},y8=function(t){return function(r){var o=yk(r.startContainer,r.startOffset);return!b8(t,o)}},w8=function(t,r,o){return Jr(o.triggerChars,function(s){return LE(t,r,s)})},C8=function(t,r){var o=r(),s=t.selection.getRng();return w8(t.dom,s,o).bind(function(d){return U5(t,r,d)})},U5=function(t,r,o,s){s===void 0&&(s={});var d=r(),g=t.selection.getRng(),C=g.startContainer.nodeValue,E=Ae(d.lookupByChar(o.triggerChar),function(B){return o.text.length>=B.minChars&&B.matches.getOrThunk(function(){return y8(t.dom)})(o.range,C,o.text)});if(E.length===0)return $.none();var O=AC.all(Ue(E,function(B){var H=B.fetch(o.text,B.maxResults,s);return H.then(function(W){return{matchText:o.text,items:W,columns:B.columns,onAction:B.onAction,highlightOn:B.highlightOn}})}));return $.some({lookupData:O,context:o})},W5=Bn([Kn("type"),Aa("text")]),S8=function(t){return qa("separatormenuitem",W5,t)},x8=Bn([Ve("type","autocompleteitem"),Ve("active",!1),Ve("disabled",!1),Ve("meta",{}),Kn("value"),Aa("text"),Aa("icon")]),_8=Bn([Kn("type"),Kn("ch"),uc("minChars",1),Ve("columns",1),uc("maxResults",10),Nv("matches"),tu("fetch"),tu("onAction"),Kf("highlightOn",[],bo)]),k8=function(t){return qa("Autocompleter.Separator",W5,t)},A8=function(t){return qa("Autocompleter.Item",x8,t)},HE=function(t){return qa("Autocompleter",_8,t)},EC=[wa("disabled",!1),Aa("tooltip"),Aa("icon"),Aa("text"),Ea("onSetup",function(){return G})],E8=Bn([Kn("type"),tu("onAction")].concat(EC)),j5=function(t){return qa("toolbarbutton",E8,t)},TC=[wa("active",!1)].concat(EC),T8=Bn(TC.concat([Kn("type"),tu("onAction")])),wk=function(t){return qa("ToggleButton",T8,t)},G5=[Ea("predicate",pe),Os("scope","node",["node","editor"]),Os("position","selection",["node","selection","line"])],O8=EC.concat([Ve("type","contextformbutton"),Ve("primary",!1),tu("onAction"),hu("original",Ee)]),D8=TC.concat([Ve("type","contextformbutton"),Ve("primary",!1),tu("onAction"),hu("original",Ee)]),R8=EC.concat([Ve("type","contextformbutton")]),B8=TC.concat([Ve("type","contextformtogglebutton")]),q5=el("type",{contextformbutton:O8,contextformtogglebutton:D8}),$8=Bn([Ve("type","contextform"),Ea("initValue",ue("")),Aa("label"),Gi("commands",q5),ic("launch",el("type",{contextformbutton:R8,contextformtogglebutton:B8}))].concat(G5)),VE=function(t){return qa("ContextForm",$8,t)},UE=Bn([Ve("type","contexttoolbar"),Kn("items")].concat(G5)),K5=function(t){return qa("ContextToolbar",UE,t)},WE=function(t){var r={};return gt(t,function(o){r[o]={}}),Ir(r)},jE=function(t){var r=t.ui.registry.getAll().popups,o=ur(r,function(C){return HE(C).fold(function(E){throw new Error(Iv(E))},Ee)}),s=WE(Si(o,function(C){return C.ch})),d=xi(o),g=function(C){return Ae(d,function(E){return E.ch===C})};return{dataset:o,triggerChars:s,lookupByChar:g}},Ck;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Ck||(Ck={}));var uu=Ck,OC="tox-menu-nav__js",GE="tox-collection__item",qE="tox-swatch",M8={normal:OC,color:qE},X5="tox-collection__item--enabled",gy="tox-collection__group-heading",KE="tox-collection__item-icon",XE="tox-collection__item-label",P8="tox-collection__item-accessory",YE="tox-collection__item-caret",Y5="tox-collection__item-checkmark",w1="tox-collection__item--active",J5="tox-collection__item-container",JE="tox-collection__item-container--column",Sk="tox-collection__item-container--row",I8="tox-collection__item-container--align-right",Z5="tox-collection__item-container--align-left",Q5="tox-collection__item-container--valign-top",N8="tox-collection__item-container--valign-middle",F8="tox-collection__item-container--valign-bottom",eD=function(t){return En(M8,t).getOr(OC)},L8=function(t){return t==="color"?"tox-swatches":"tox-menu"},ZE=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:L8(t),tieredMenu:"tox-tiered-menu"}},py=function(t){var r=ZE(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:eD(t)}},z8=function(t,r,o){var s=ZE(o);return{tag:"div",classes:ot([[s.menu,"tox-menu-"+r+"-column"],t?[s.hasIcons]:[]])}},H8=[On.parts.items({})],C1=function(t,r,o){var s=ZE(o),d={tag:"div",classes:ot([[s.tieredMenu]])};return{dom:d,markers:py(o)}},xk=function(t,r){return function(o){var s=cn(o,r);return Ue(s,function(d){return{dom:t,components:d}})}},tD=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[On.parts.items({preprocess:t!=="auto"?xk({tag:"div",classes:["tox-swatches__row"]},t):Ee})]}]}},V8=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[On.parts.items({preprocess:xk({tag:"div",classes:["tox-collection__group"]},t)})]}},nD=function(t,r){var o=[],s=[];return gt(t,function(d,g){r(d,g)?(s.length>0&&o.push(s),s=[],Dr(d.dom,"innerHtml")&&s.push(d)):s.push(d)}),s.length>0&&o.push(s),Ue(o,function(d){return{dom:{tag:"div",classes:["tox-collection__group"]},components:d}})},DC=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[On.parts.items({preprocess:function(s){return t!=="auto"&&t>1?xk({tag:"div",classes:["tox-collection__group"]},t)(s):nD(s,function(d,g){return r[g].type==="separator"})}})]}},QE=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[On.parts.items({preprocess:function(o){return nD(o,function(s,d){return t[d].type==="separator"})}})]}},RC=function(t){return Sn(t,function(r){return"icon"in r&&r.icon!==void 0})},Cd=function(t){return console.error(Iv(t)),console.log(t),$.none()},rD=function(t,r,o,s,d){var g=QE(o);return{value:t,dom:g.dom,components:g.components,items:o}},eT=function(t,r,o,s,d){if(d==="color"){var g=tD(s);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"&&s==="auto"){var g=DC(s,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"&&s===1){var g=DC(1,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="normal"){var g=DC(s,o);return{value:t,dom:g.dom,components:g.components,items:o}}if(d==="listpreview"&&s!=="auto"){var g=V8(s);return{value:t,dom:g.dom,components:g.components,items:o}}return{value:t,dom:z8(r,s,d),components:H8,items:o}},tT=[Kn("type"),Kn("src"),Aa("alt"),Kf("classes",[],bo)],U8=Bn(tT),aD=[Kn("type"),Kn("text"),Aa("name"),Kf("classes",["tox-collection__item-label"],bo)],oD=Bn(aD),by=jS(function(){return p0("type",{cardimage:U8,cardtext:oD,cardcontainer:W8})}),W8=Bn([Kn("type"),yh("direction","horizontal"),yh("align","left"),yh("valign","middle"),Gi("items",by)]),Mg=[wa("disabled",!1),Aa("text"),Aa("shortcut"),Uo("value","value",Ar(function(){return wn("menuitem-value")}),kl()),Ve("meta",{})],yy=Bn([Kn("type"),Aa("label"),Gi("items",by),Ea("onSetup",function(){return G}),Ea("onAction",G)].concat(Mg)),j8=function(t){return qa("cardmenuitem",yy,t)},iD=Bn([Kn("type"),wa("active",!1),Aa("icon")].concat(Mg)),uD=function(t){return qa("choicemenuitem",iD,t)},nT=[Kn("type"),Kn("fancytype"),Ea("onAction",G)],rT=[Ve("initData",{})].concat(nT),sD=[i2("initData",{},[wa("allowCustomColors",!0),us("colors",kl())])].concat(nT),G8=el("fancytype",{inserttable:rT,colorswatch:sD}),q8=function(t){return qa("fancymenuitem",G8,t)},_k=Bn([Kn("type"),Ea("onSetup",function(){return G}),Ea("onAction",G),Aa("icon")].concat(Mg)),K8=function(t){return qa("menuitem",_k,t)},lD=Bn([Kn("type"),tu("getSubmenuItems"),Ea("onSetup",function(){return G}),Aa("icon")].concat(Mg)),wy=function(t){return qa("nestedmenuitem",lD,t)},X8=Bn([Kn("type"),Aa("icon"),wa("active",!1),Ea("onSetup",function(){return G}),tu("onAction")].concat(Mg)),Y8=function(t){return qa("togglemenuitem",X8,t)},aT=function(t,r,o){var s=au(t.element,"."+o);if(s.length>0){var d=Yt(s,function(g){var C=g.dom.getBoundingClientRect().top,E=s[0].dom.getBoundingClientRect().top;return Math.abs(C-E)>r}).getOr(s.length);return $.some({numColumns:d,numRows:Math.ceil(s.length/d)})}else return $.none()},oT=function(t,r){return Jt([rr(t,r)])},cD=function(t){return oT(wn("unnamed-events"),t)},kk={namedEvents:oT,unnamedEvents:cD},fD=wn("tooltip.exclusive"),BC=wn("tooltip.show"),$C=wn("tooltip.hide"),vD=function(t,r,o){t.getSystem().broadcastOn([fD],{})},Ak=function(t,r,o,s){o.getTooltip().each(function(d){d.getSystem().isConnected()&&Zn.set(d,s)})},J8=Object.freeze({__proto__:null,hideAllExclusive:vD,setComponents:Ak}),Z8=function(t,r){var o=function(d){r.getTooltip().each(function(g){pc(g),t.onHide(d,g),r.clearTooltip()}),r.clearTimer()},s=function(d){if(!r.isShowing()){vD(d);var g=t.lazySink(d).getOrDie(),C=d.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Ca(t.mode==="normal"?[Dt(Yf(),function(E){Vr(d,BC)}),Dt(f2(),function(E){Vr(d,$C)})]:[]),behaviours:Jt([Zn.config({})])});r.setTooltip(C),cm(g,C),t.onShow(d,C),vo.position(g,C,{anchor:t.anchor(d)})}};return Ca(ot([[Dt(BC,function(d){r.resetTimer(function(){s(d)},t.delay)}),Dt($C,function(d){r.resetTimer(function(){o(d)},t.delay)}),Dt(nl(),function(d,g){var C=g;C.universal||lt(C.channels,fD)&&o(d)}),Ms(function(d){o(d)})],t.mode==="normal"?[Dt(tl(),function(d){Vr(d,BC)}),Dt(h2(),function(d){Vr(d,$C)}),Dt(Yf(),function(d){Vr(d,BC)}),Dt(f2(),function(d){Vr(d,$C)})]:[Dt(y2(),function(d,g){Vr(d,BC)}),Dt(_0(),function(d){Vr(d,$C)})]]))},iT=Object.freeze({__proto__:null,events:Z8}),dD=[_t("lazySink"),_t("tooltipDom"),Ve("exclusive",!0),Ve("tooltipComponents",[]),Ve("delay",300),Os("mode","normal",["normal","follow-highlight"]),Ve("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:ue([Io,Lu,Xi,Cu,ei,Su]),onRtl:ue([Io,Lu,Xi,Cu,ei,Su])}}}),Kr("onHide"),Kr("onShow")],Q8=function(){var t=fo(),r=fo(),o=function(){t.on(clearTimeout)},s=function(g,C){o(),t.set(setTimeout(g,C))},d=ue("not-implemented");return Ki({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:o,resetTimer:s,readState:d})},mD=Object.freeze({__proto__:null,init:Q8}),uT=Ko({fields:dD,name:"tooltipping",active:iT,state:mD,apis:J8}),hD=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},Cy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),eP=tinymce.util.Tools.resolve("tinymce.EditorManager"),tP=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var s=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=eP.baseURL+"/skins/ui/"+s}return o},nP=function(t){return t.getParam("readonly",!1,"boolean")},rP=function(t){return t.getParam("skin")===!1},Ek=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},Tk=function(t){return t.getParam("width",Cy.DOM.getStyle(t.getElement(),"width"))},sT=function(t){return $.from(t.getParam("min_width")).filter(z)},gD=function(t){return $.from(t.getParam("min_height")).filter(z)},Ok=function(t){return $.from(t.getParam("max_width")).filter(z)},pD=function(t){return $.from(t.getParam("max_height")).filter(z)},aP=function(t){return $.from(t.getParam("style_formats")).filter(T)},oP=function(t){return t.getParam("style_formats_merge",!1,"boolean")},bD=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},yD=function(t){return t.getParam("content_langs",void 0,"array")},wD=function(t){return t.getParam("removed_menuitems","")},lT=function(t){return t.getParam("menubar",!0,"boolean")!==!1},cT=function(t){var r=t.getParam("toolbar",!0),o=r===!0,s=S(r),d=T(r)&&r.length>0;return!Dk(t)&&(d||s||o)},CD=function(t){var r=te(9,function(s){return t.getParam("toolbar"+(s+1),!1,"string")}),o=Ae(r,function(s){return typeof s=="string"});return o.length>0?$.some(o):$.none()},Dk=function(t){return CD(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},ye)},Ll;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Ll||(Ll={}));var MC=function(t){return t.getParam("toolbar_mode","","string")},S1;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(S1||(S1={}));var iP=function(t){return t.getParam("toolbar_groups",{},"object")},SD=function(t){return t.getParam("toolbar_location",S1.auto,"string")},xD=function(t){return SD(t)===S1.bottom},uP=function(t){return t.getParam("fixed_toolbar_container","","string")},_D=function(t){return t.getParam("fixed_toolbar_container_target")},sP=function(t){return t.getParam("toolbar_persist",!1,"boolean")},kD=function(t){if(!t.inline)return $.none();var r=uP(t);if(r.length>0)return jo(Hi(),r);var o=_D(t);return V(o)?$.some(un.fromDom(o)):$.none()},Rk=function(t){return t.inline&&kD(t).isSome()},AD=function(t){var r=kD(t);return r.getOrThunk(function(){return Zl(_s(un.fromDom(t.getElement())))})},ED=function(t){return t.inline&&!lT(t)&&!cT(t)&&!Dk(t)},Bk=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!Rk(t)&&!ED(t)},$k=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},TD=function(t){return t.getParam("draggable_modal",!1,"boolean")},lP=function(t){var r=t.getParam("menu");return r?ur(r,function(o){return ne(ne({},o),{items:o.items})}):{}},cP=function(t){return t.getParam("menubar")},fP=function(t){return t.getParam("toolbar",!0)},vP=function(t){return t.getParam("file_picker_callback")},dP=function(t){return t.getParam("file_picker_types")},fT=function(t){return t.getParam("file_browser_callback_types")},OD=function(t){return t.getParam("typeahead_urls")===!1},DD=function(t){return t.getParam("anchor_top","#top")},mP=function(t){return t.getParam("anchor_bottom","#bottom")},RD=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},vT="silver.readonly",hP=Bn([_3("readonly")]),Sy=function(t,r){var o=t.outerContainer,s=o.element;r&&(t.mothership.broadcastOn([vm()],{target:s}),t.uiMothership.broadcastOn([vm()],{target:s})),t.mothership.broadcastOn([vT],{readonly:r}),t.uiMothership.broadcastOn([vT],{readonly:r})},BD=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&Sy(r,!0)}),t.on("SwitchMode",function(){return Sy(r,t.mode.isReadOnly())}),nP(t)&&t.setMode("readonly")},ti=function(){var t;return nu.config({channels:(t={},t[vT]={schema:hP,onReceive:function(r,o){Mn.set(r,o.readonly)}},t)})},gP=function(t){return Mn.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},pP=function(t){return Mn.config({disabled:t})},bP=function(t){return Mn.config({disabled:t,disableClass:"tox-tbtn--disabled"})},yP=function(t){return Mn.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},mf={item:gP,button:pP,splitButton:bP,toolbarButton:yP},xy=function(t,r){var o=t.getApi(r);return function(s){s(o)}},x1=function(t,r){return nr(function(o){var s=xy(t,o);s(function(d){var g=t.onSetup(d);P(g)&&r.set(g)})})},_1=function(t,r){return Ms(function(o){return xy(t,o)(r.get())})},Mk,wP=function(t,r){return cs(function(o,s){xy(t,o)(t.onAction),!t.triggersSubmenu&&r===uu.CLOSE_ON_EXECUTE&&(Vr(o,Ap()),s.stop())})},CP=(Mk={},Mk[Rs()]=["disabling","alloy.base.behaviour","toggling","item-events"],Mk),km=Rr,Pg=function(t,r,o,s){var d=Pn(G);return{type:"item",dom:r.dom,components:km(r.optComponents),data:t.data,eventOrder:CP,hasSubmenu:t.triggersSubmenu,itemBehaviours:Jt([rr("item-events",[wP(t,o),x1(t,d),_1(t,d)]),mf.item(function(){return t.disabled||s.isDisabled()}),ti(),Zn.config({})].concat(t.itemBehaviours))}},Am=function(t){return{value:t.value,meta:ne({text:t.text.getOr("")},t.meta)}},Pk=tinymce.util.Tools.resolve("tinymce.Env"),SP=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},s=Pk.mac?r:o,d=t.split("+"),g=Ue(d,function(C){var E=C.toLowerCase().trim();return Dr(s,E)?s[E]:C});return Pk.mac?g.join(""):g.join("+")},dT=function(t,r,o){return o===void 0&&(o=[KE]),dv(t,{tag:"div",classes:o},r)},$D=function(t){return{dom:{tag:"div",classes:[XE]},components:[Ri(df.translate(t))]}},MD=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},xP=function(t,r){return{dom:{tag:"div",classes:[XE]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Ri(df.translate(r))]}]}},_P=function(t){return{dom:{tag:"div",classes:[P8],innerHtml:SP(t)}}},PD=function(t){return dT("checkmark",t,[Y5])},kP=function(t){return dT("chevron-right",t,[YE])},AP=function(t){return dT("chevron-down",t,[YE])},EP=function(t,r){var o=t.direction==="vertical"?JE:Sk,s=t.align==="left"?Z5:I8,d=function(){switch(t.valign){case"top":return Q5;case"middle":return N8;case"bottom":return F8}};return{dom:{tag:"div",classes:[J5,o,s,d()]},components:r}},TP=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},OP=function(t,r,o){var s="custom",d="remove",g=t.ariaLabel,C=t.value,E=t.iconContent.map(function(B){return a8(B,r.icons,o)}),O=function(){var B=qE,H=E.getOr(""),W=g.map(function(ae){return{title:r.translate(ae)}}).getOr({}),ee={tag:"div",attributes:W,classes:[B]};return C===s?ne(ne({},ee),{tag:"button",classes:xe(xe([],ee.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:H}):C===d?ne(ne({},ee),{classes:xe(xe([],ee.classes,!0),["tox-swatch--remove"],!1),innerHtml:H}):ne(ne({},ee),{attributes:ne(ne({},ee.attributes),{"data-mce-color":C}),styles:{"background-color":C}})};return{dom:O(),optComponents:[]}},ID=function(t){var r=t.map(function(o){return{attributes:{title:df.translate(o)}}}).getOr({});return ne({tag:"div",classes:[OC,GE]},r)},ND=function(t,r,o,s){var d={tag:"div",classes:[KE]},g=function(ee){return dv(ee,d,r.icons,s)},C=function(){return $.some({dom:d})},E=o?t.iconContent.map(g).orThunk(C):$.none(),O=t.checkMark,B=$.from(t.meta).fold(function(){return $D},function(ee){return Dr(ee,"style")?ke(xP,ee.style):$D}),H=t.htmlContent.fold(function(){return t.textContent.map(B)},function(ee){return $.some(MD(ee,[XE]))}),W={dom:ID(t.ariaLabel),optComponents:[E,H,t.shortcutContent.map(_P),O,t.caret]};return W},PC=function(t,r,o,s){return s===void 0&&(s=$.none()),t.presets==="color"?OP(t,r,s):ND(t,r,o,s)},FD=function(t,r){return En(t,"tooltipWorker").map(function(o){return[uT.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:Uh}}},mode:"follow-highlight",onShow:function(s,d){o(function(g){uT.setComponents(s,[L0({element:un.fromDom(g)})])})}})]}).getOr([])},Em=function(t){return Cy.DOM.encode(t)},LD=function(t,r){var o=df.translate(t),s=Em(o);if(r.length>0){var d=new RegExp(hD(r),"gi");return s.replace(d,function(g){return'<span class="tox-autocompleter-highlight">'+g+"</span>"})}else return s},DP=function(t,r,o,s,d,g,C,E){E===void 0&&(E=!0);var O=PC({presets:s,textContent:$.none(),htmlContent:o?t.text.map(function(B){return LD(B,r)}):$.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:$.none(),checkMark:$.none(),caret:$.none(),value:t.value},C.providers,E,t.icon);return Pg({data:Am(t),disabled:t.disabled,getApi:ue({}),onAction:function(B){return d(t.value,t.meta)},onSetup:ue(G),triggersSubmenu:!1,itemBehaviours:FD(t.meta,C)},O,g,C.providers)},Ik=function(t,r){return Ue(t,function(o){switch(o.type){case"cardcontainer":return EP(o,Ik(o.items,r));case"cardimage":return TP(o.src,o.classes,o.alt);case"cardtext":var s=o.name.exists(function(g){return lt(r.cardText.highlightOn,g)}),d=s?$.from(r.cardText.matchText).getOr(""):"";return MD(LD(o.text,d),o.classes)}})},Ni=function(t,r,o,s){var d=function(C){return{isDisabled:function(){return Mn.isDisabled(C)},setDisabled:function(E){Mn.set(C,E),gt(au(C.element,"*"),function(O){C.getSystem().getByDom(O).each(function(B){B.hasConfigured(Mn)&&Mn.set(B,E)})})}}},g={dom:ID(t.label),optComponents:[$.some({dom:{tag:"div",classes:[J5,Sk]},components:Ik(t.items,s)})]};return Pg({data:Am(ne({text:$.none()},t)),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:$.from(s.itemBehaviours).getOr([])},g,r,o.providers)},RP=function(t,r,o,s,d,g,C,E){E===void 0&&(E=!0);var O=function(H){return{setActive:function(W){Br.set(H,W)},isActive:function(){return Br.isOn(H)},isDisabled:function(){return Mn.isDisabled(H)},setDisabled:function(W){return Mn.set(H,W)}}},B=PC({presets:o,textContent:r?t.text:$.none(),htmlContent:$.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:$.none(),checkMark:r?$.some(PD(C.icons)):$.none(),caret:$.none(),value:t.value},C,E);return bt(Pg({data:Am(t),disabled:t.disabled,getApi:O,onAction:function(H){return s(t.value)},onSetup:function(H){return H.setActive(d),G},triggersSubmenu:!1,itemBehaviours:[]},B,g,C),{toggling:{toggleClass:X5,toggleOnExecute:!1,selected:t.active}})},zD=pm(R(),F()),HD=function(t){return{value:t}},VD=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,UD=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,WD=function(t){return VD.test(t)||UD.test(t)},BP=function(t){return pl(t,"#").toUpperCase()},$P=function(t){return WD(t)?$.some({value:BP(t)}):$.none()},MP=function(t){var r=t.value.replace(VD,function(o,s,d,g){return s+s+d+d+g+g});return{value:r}},PP=function(t){var r=MP(t),o=UD.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},mT=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},IC=function(t){var r=mT(t.red)+mT(t.green)+mT(t.blue);return HD(r)},jD=Math.min,GD=Math.max,Nk=Math.round,IP=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,NP=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Ig=function(t,r,o,s){return{red:t,green:r,blue:o,alpha:s}},hT=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},qD=function(t){var r,o,s,d=(t.hue||0)%360,g=t.saturation/100,C=t.value/100;if(g=GD(0,jD(g,1)),C=GD(0,jD(C,1)),g===0)return r=o=s=Nk(255*C),Ig(r,o,s,1);var E=d/60,O=C*g,B=O*(1-Math.abs(E%2-1)),H=C-O;switch(Math.floor(E)){case 0:r=O,o=B,s=0;break;case 1:r=B,o=O,s=0;break;case 2:r=0,o=O,s=B;break;case 3:r=0,o=B,s=O;break;case 4:r=B,o=0,s=O;break;case 5:r=O,o=0,s=B;break;default:r=o=s=0}return r=Nk(255*(r+H)),o=Nk(255*(o+H)),s=Nk(255*(s+H)),Ig(r,o,s,1)},NC=function(t){var r=PP(t),o=parseInt(r[1],16),s=parseInt(r[2],16),d=parseInt(r[3],16);return Ig(o,s,d,1)},KD=function(t,r,o,s){var d=parseInt(t,10),g=parseInt(r,10),C=parseInt(o,10),E=parseFloat(s);return Ig(d,g,C,E)},XD=function(t){if(t==="transparent")return $.some(Ig(0,0,0,0));var r=IP.exec(t);if(r!==null)return $.some(KD(r[1],r[2],r[3],"1"));var o=NP.exec(t);return o!==null?$.some(KD(o[1],o[2],o[3],o[4])):$.none()},YD=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},JD=Ig(255,0,0,1),FP=function(t){return t.fire("SkinLoaded")},ZD=function(t,r){return t.fire("SkinLoadError",r)},LP=function(t){return t.fire("ResizeEditor")},gT=function(t,r){return t.fire("ResizeContent",r)},zP=function(t,r){return t.fire("ScrollContent",r)},QD=function(t,r){return t.fire("TextColorChange",r)},FC=function(t,r,o){return{hue:t,saturation:r,value:o}},pT=function(t){var r=0,o=0,s=0,d=t.red/255,g=t.green/255,C=t.blue/255,E=Math.min(d,Math.min(g,C)),O=Math.max(d,Math.max(g,C));if(E===O)return s=E,FC(0,0,s*100);var B=d===E?g-C:C===E?d-g:C-d;return r=d===E?3:C===E?1:5,r=60*(r-B/(O-E)),o=(O-E)/O,s=O,FC(Math.round(r),Math.round(o*100),Math.round(s*100))},HP=function(t){return pT(NC(t))},eR=function(t){return IC(qD(t))},tR=function(t){return $P(t).orThunk(function(){return XD(t).map(IC)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data,d=s[0],g=s[1],C=s[2],E=s[3];return IC(Ig(d,g,C,E))})},Fk=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),bT="tinymce-custom-colors";function nR(t){t===void 0&&(t=10);var r=Fk.getItem(bT),o=S(r)?JSON.parse(r):[],s=function(O){var B=t-O.length;return B<0?O.slice(0,t):O},d=s(o),g=function(O){ln(d,O).each(C),d.unshift(O),d.length>t&&d.pop(),Fk.setItem(bT,JSON.stringify(d))},C=function(O){d.splice(O,1)},E=function(){return d.slice(0)};return{add:g,state:E}}var mi="choiceitem",rR=[{type:mi,text:"Light Green",value:"#BFEDD2"},{type:mi,text:"Light Yellow",value:"#FBEEB8"},{type:mi,text:"Light Red",value:"#F8CAC6"},{type:mi,text:"Light Purple",value:"#ECCAFA"},{type:mi,text:"Light Blue",value:"#C2E0F4"},{type:mi,text:"Green",value:"#2DC26B"},{type:mi,text:"Yellow",value:"#F1C40F"},{type:mi,text:"Red",value:"#E03E2D"},{type:mi,text:"Purple",value:"#B96AD9"},{type:mi,text:"Blue",value:"#3598DB"},{type:mi,text:"Dark Turquoise",value:"#169179"},{type:mi,text:"Orange",value:"#E67E23"},{type:mi,text:"Dark Red",value:"#BA372A"},{type:mi,text:"Dark Purple",value:"#843FA1"},{type:mi,text:"Dark Blue",value:"#236FA1"},{type:mi,text:"Light Gray",value:"#ECF0F1"},{type:mi,text:"Medium Gray",value:"#CED4D9"},{type:mi,text:"Gray",value:"#95A5A6"},{type:mi,text:"Dark Gray",value:"#7E8C8D"},{type:mi,text:"Navy Blue",value:"#34495E"},{type:mi,text:"Black",value:"#000000"},{type:mi,text:"White",value:"#ffffff"}],aR=nR(10),VP=function(t){for(var r=[],o=0;o<t.length;o+=2)r.push({text:t[o+1],value:"#"+tR(t[o]).value,type:"choiceitem"});return r},UP=function(t,r){return t.getParam("color_cols",r,"number")},oR=function(t){return t.getParam("custom_colors")!==!1},WP=function(t){return t.getParam("color_map")},yT=function(t){var r=WP(t);return r!==void 0?VP(r):rR},wT=function(){return Ue(aR.state(),function(t){return{type:mi,text:t,value:t}})},CT=function(t){aR.add(t)},ST="#000000",iR=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(s){var d;(d=s.style[r==="forecolor"?"color":"background-color"])&&(o=o||d)}),$.from(o)},jP=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},GP=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},xT=function(t){t.addCommand("mceApplyTextcolor",function(r,o){jP(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){GP(t,r)})},qP=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},uR=function(t){var r=yT(t),o=qP(r.length);return UP(t,o)},sR=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,s]:[o]},LC=function(t,r,o,s){if(o==="custom"){var d=vR(t);d(function(g){g.each(function(C){CT(C),t.execCommand("mceApplyTextcolor",r,C),s(C)})},ST)}else o==="remove"?(s(""),t.execCommand("mceRemoveTextcolor",r)):(s(o),t.execCommand("mceApplyTextcolor",r,o))},lR=function(t,r){return t.concat(wT().concat(sR(r)))},_T=function(t,r){return function(o){o(lR(t,r))}},cR=function(t,r,o){var s=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(s,o)},_y=function(t,r,o,s,d){t.ui.registry.addSplitButton(r,{tooltip:s,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(g){var C=iR(t,o);return C.bind(function(E){return XD(E).map(function(O){var B=IC(O).value;return da(g.toLowerCase(),B)})}).getOr(!1)},columns:uR(t),fetch:_T(yT(t),oR(t)),onAction:function(g){LC(t,o,d.get(),G)},onItemAction:function(g,C){LC(t,o,C,function(E){d.set(E),QD(t,{name:r,color:E})})},onSetup:function(g){cR(g,r,d.get());var C=function(E){E.name===r&&cR(g,E.name,E.color)};return t.on("TextColorChange",C),function(){t.off("TextColorChange",C)}}})},fR=function(t,r,o,s){t.ui.registry.addNestedMenuItem(r,{text:s,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(d){LC(t,o,d.value,G)}}]}})},vR=function(t){return function(r,o){var s=!1,d=function(E){var O=E.getData(),B=O.colorpicker;s?(r($.from(B)),E.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",B]))},g=function(E,O){O.name==="hex-valid"&&(s=O.value)},C={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:C,onAction:g,onSubmit:d,onClose:G,onCancel:function(){r($.none())}})}},KP=function(t){xT(t);var r=Pn(ST),o=Pn(ST);_y(t,"forecolor","forecolor","Text color",r),_y(t,"backcolor","hilitecolor","Background color",o),fR(t,"forecolor","forecolor","Text color"),fR(t,"backcolor","hilitecolor","Background color")},kT=function(t,r,o,s,d,g,C,E){var O=RC(r),B=d!=="color"?"normal":"color",H=XP(r,o,s,B,g,C,E);return eT(t,O,H,s,d)},XP=function(t,r,o,s,d,g,C){return Rr(Ue(t,function(E){return E.type==="choiceitem"?uD(E).fold(Cd,function(O){return $.some(RP(O,o===1,s,r,g(E.value),d,C,RC(t)))}):$.none()}))},Lk=function(t,r){var o=py(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var s=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},dR=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+qE:"."+GE}}},mR=function(t,r){var o=hR(t,r),s=r.colorinput.getColorCols(),d="color",g=kT(wn("menu-value"),o,function(E){t.onAction({value:E})},s,d,uu.CLOSE_ON_EXECUTE,pe,r.shared.providers),C=ne(ne({},g),{markers:py(d),movement:Lk(s,d)});return{type:"widget",data:{value:wn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[zD.widget(On.sketch(C))]}},hR=function(t,r){var o=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return lR(r.colorinput.getColors(),o)},function(s){return s.concat(sR(o))})},gR=wn("cell-over"),zk=wn("cell-execute"),YP=function(t,r,o){var s,d=function(E){return In(E,gR,{row:t,col:r})},g=function(E){return In(E,zk,{row:t,col:r})},C=function(E,O){O.stop(),g(E)};return za({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=o,s)},behaviours:Jt([rr("insert-table-picker-cell",[Dt(Yf(),Xn.focus),Dt(Rs(),g),Dt(xh(),C),Dt(zv(),C)]),Br.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Xn.config({onFocus:d})])})},JP=function(t,r,o){for(var s=[],d=0;d<r;d++){for(var g=[],C=0;C<o;C++)g.push(YP(d,C,t));s.push(g)}return s},ZP=function(t,r,o,s,d){for(var g=0;g<s;g++)for(var C=0;C<d;C++)Br.set(t[g][C],g<=r&&C<=o)},QP=function(t){return Wt(t,function(r){return Ue(r,Fs)})},pR=function(t,r){return Ri(r+"x"+t)},eI=function(t){var r=10,o=10,s=wn("size-label"),d=JP(s,r,o),g=pR(0,0),C=ra({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[g],behaviours:Jt([Zn.config({})])});return{type:"widget",data:{value:wn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[zD.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:QP(d).concat(C.asSpec()),behaviours:Jt([rr("insert-table-picker",[nr(function(E){Zn.set(C.get(E),[g])}),Vv(gR,function(E,O,B){var H=B.event,W=H.row,ee=H.col;ZP(d,W,ee,r,o),Zn.set(C.get(E),[pR(W+1,ee+1)])}),Vv(zk,function(E,O,B){var H=B.event,W=H.row,ee=H.col;t.onAction({numRows:W+1,numColumns:ee+1}),Vr(E,Ap())})]),Fn.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},tI={inserttable:eI,colorswatch:mR},nI=function(t,r){return En(tI,t.fancytype).map(function(o){return o(t,r)})},rI=function(t,r,o,s,d){s===void 0&&(s=!0),d===void 0&&(d=!1);var g=d?AP(o.icons):kP(o.icons),C=function(O){return{isDisabled:function(){return Mn.isDisabled(O)},setDisabled:function(B){return Mn.set(O,B)}}},E=PC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:$.none(),ariaLabel:t.text,caret:$.some(g),checkMark:$.none(),shortcutContent:t.shortcut},o,s);return Pg({data:Am(t),getApi:C,disabled:t.disabled,onAction:G,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},E,r,o)},aI=function(t,r,o,s){s===void 0&&(s=!0);var d=function(C){return{isDisabled:function(){return Mn.isDisabled(C)},setDisabled:function(E){return Mn.set(C,E)}}},g=PC({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:$.none(),ariaLabel:t.text,caret:$.none(),checkMark:$.none(),shortcutContent:t.shortcut},o,s);return Pg({data:Am(t),getApi:d,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,o)},oI=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:ne({tag:"div",classes:[GE,gy]},r),components:[]}},iI=function(t,r,o,s){s===void 0&&(s=!0);var d=function(C){return{setActive:function(E){Br.set(C,E)},isActive:function(){return Br.isOn(C)},isDisabled:function(){return Mn.isDisabled(C)},setDisabled:function(E){return Mn.set(C,E)}}},g=PC({iconContent:t.icon,textContent:t.text,htmlContent:$.none(),ariaLabel:t.text,checkMark:$.some(PD(o.icons)),caret:$.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,s);return bt(Pg({data:Am(t),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,o),{toggling:{toggleClass:X5,toggleOnExecute:!1,selected:t.active}})},bR=DP,yR=oI,uI=aI,AT=rI,Hk=iI,sI=nI,Vk=Ni,zC;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(zC||(zC={}));var lI=function(t,r,o,s,d){var g=o.shared.providers,C=function(E){return d?ne(ne({},E),{shortcut:$.none(),icon:E.text.isSome()?$.none():E.icon}):E};switch(t.type){case"menuitem":return K8(t).fold(Cd,function(E){return $.some(uI(C(E),r,g,s))});case"nestedmenuitem":return wy(t).fold(Cd,function(E){return $.some(AT(C(E),r,g,s,d))});case"togglemenuitem":return Y8(t).fold(Cd,function(E){return $.some(Hk(C(E),r,g,s))});case"separator":return S8(t).fold(Cd,function(E){return $.some(yR(E))});case"fancymenuitem":return q8(t).fold(Cd,function(E){return sI(C(E),o)});default:return console.error("Unknown item in general menu",t),$.none()}},cI=function(t,r,o,s,d,g,C){var E=s===1,O=!E||RC(t);return Rr(Ue(t,function(B){switch(B.type){case"separator":return k8(B).fold(Cd,function(H){return $.some(yR(H))});case"cardmenuitem":return j8(B).fold(Cd,function(H){return $.some(Vk(ne(ne({},H),{onAction:function(W){H.onAction(W),o(H.value,H.meta)}}),d,g,{itemBehaviours:FD(H.meta,g),cardText:{matchText:r,highlightOn:C}}))});case"autocompleteitem":default:return A8(B).fold(Cd,function(H){return $.some(bR(H,r,E,"normal",o,d,g,O))})}}))},wR=function(t,r,o,s,d){var g=RC(r),C=Rr(Ue(r,function(O){var B=function(W){return d?!Dr(W,"text"):g},H=function(W){return lI(W,o,s,B(W),d)};return O.type==="nestedmenuitem"&&O.getSubmenuItems().length<=0?H(ne(ne({},O),{disabled:!0})):H(O)})),E=d?rD:eT;return E(t,g,C,1,"normal")},CR=function(t){return ca.singleData(t.value,t)},fI=function(t,r,o,s){var d=o===zC.ContentFocus?x_():l1(),g=Lk(r,s),C=py(s);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:C.selectedItem,item:C.item},movement:g,fakeFocus:o===zC.ContentFocus,focusManager:d,menuBehaviours:kk.unnamedEvents(r!=="auto"?[]:[nr(function(E,O){aT(E,4,C.item).each(function(B){var H=B.numColumns,W=B.numRows;Fn.setGridSize(E,W,H)})})])}},SR=function(t,r){var o=fo(),s=Pn(!1),d=za(la.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Jt([rr("dismissAutocompleter",[Dt(Dl(),function(){return O()})])]),lazySink:r.getSink})),g=function(){return la.isOpen(d)},C=function(){return o.get().isSome()},E=function(){C()&&la.hide(d)},O=function(){if(C()){var we=o.get().map(function(ze){return ze.element});bk(we.getOr(un.fromDom(t.selection.getNode()))).each(sh),E(),o.clear(),s.set(!1)}},B=es(function(){return jE(t)}),H=function(we,ze){var ft=Jr(ze,function(ct){return $.from(ct.columns)}).getOr(1);return Wt(ze,function(ct){var Le=ct.items;return cI(Le,ct.matchText,function(tt,Ct){var an=t.selection.getRng();LE(t.dom,an,we).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Tt){var sn=Tt.range,Bt={hide:function(){O()},reload:function(wt){E(),fe(wt)}};s.set(!0),ct.onAction(Bt,sn,tt,Ct),s.set(!1)})},ft,uu.BUBBLE_TO_SANDBOX,r,ct.highlightOn)})},W=function(we){if(!C()){var ze=v8(t,we.range);o.set({triggerChar:we.triggerChar,element:ze,matchLength:we.text.length}),s.set(!1)}},ee=function(we,ze,ft,ct){we.matchLength=ze.text.length;var Le=Jr(ft,function(tt){return $.from(tt.columns)}).getOr(1);la.showAt(d,On.sketch(fI(eT("autocompleter-value",!0,ct,Le,"normal"),Le,zC.ContentFocus,"normal")),{anchor:{type:"node",root:un.fromDom(t.getBody()),node:$.from(we.element)}}),la.getContent(d).each(ea.highlightFirst)},ae=function(we){return o.get().map(function(ze){return LE(t.dom,t.selection.getRng(),ze.triggerChar).bind(function(ft){return U5(t,B,ft,we)})}).getOrThunk(function(){return C8(t,B)})},fe=function(we){ae(we).fold(O,function(ze){W(ze.context),ze.lookupData.then(function(ft){o.get().map(function(ct){var Le=ze.context;if(ct.triggerChar===Le.triggerChar){var tt=H(Le.triggerChar,ft);tt.length>0?ee(ct,Le,ft,tt):Le.text.length-ct.matchLength>=10?O():E()}})})})},Se=IE(function(we){we.which!==27&&fe()},50),Fe={onKeypress:Se,cancelIfNecessary:O,isMenuOpen:g,isActive:C,isProcessingAction:s.get,getView:function(){return la.getContent(d)}};t.hasPlugin("rtc")===!1&&H5.setup(Fe,t)},vI={register:SR},HC=function(t,r,o){return al(t,r,o).isSome()},xR=function(t,r){var o=null,s=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];o=setTimeout(function(){t.apply(null,g),o=null},r)},d=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:d,schedule:s}},_R=5,dI=400,kR=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?$.none():$.some(r.touches[0])},mI=function(t,r){var o=Math.abs(t.clientX-r.x),s=Math.abs(t.clientY-r.y);return o>_R||s>_R},ET=function(t){var r=fo(),o=Pn(!1),s=xR(function(B){t.triggerEvent(C0(),B),o.set(!0)},dI),d=function(B){return kR(B).each(function(H){s.cancel();var W={x:H.clientX,y:H.clientY,target:B.target};s.schedule(B),o.set(!1),r.set(W)}),$.none()},g=function(B){return s.cancel(),kR(B).each(function(H){r.on(function(W){mI(H,W)&&r.clear()})}),$.none()},C=function(B){s.cancel();var H=function(W){return Sa(W.target,B.target)};return r.get().filter(H).map(function(W){return o.get()?(B.prevent(),!1):t.triggerEvent(zv(),B)})},E=Xf([{key:Wc(),value:d},{key:Tl(),value:g},{key:Fv(),value:C}]),O=function(B,H){return En(E,H).bind(function(W){return W(B)})};return{fireIfReady:O}},hI=function(t){var r=t.raw;return r.which===Ub[0]&&!lt(["input","textarea"],Qu(t.target))&&!HC(t.target,'[contenteditable="true"]')},TT=function(){return zn().browser.isFirefox()},gI=function(t,r){return TT()?ub(t,"focus",r):yo(t,"focusin",r)},pI=function(t,r){return TT()?ub(t,"blur",r):yo(t,"focusout",r)},AR=function(t,r){var o=ne({stopBackspace:!0},r),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=ET(o),g=Ue(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(ae){return yo(t,ae,function(fe){d.fireIfReady(fe,ae).each(function(Fe){Fe&&fe.kill()});var Se=o.triggerEvent(ae,fe);Se&&fe.kill()})}),C=fo(),E=yo(t,"paste",function(ae){d.fireIfReady(ae,"paste").each(function(Se){Se&&ae.kill()});var fe=o.triggerEvent("paste",ae);fe&&ae.kill(),C.set(setTimeout(function(){o.triggerEvent(g2(),ae)},0))}),O=yo(t,"keydown",function(ae){var fe=o.triggerEvent("keydown",ae);fe?ae.kill():o.stopBackspace&&hI(ae)&&ae.prevent()}),B=gI(t,function(ae){var fe=o.triggerEvent("focusin",ae);fe&&ae.kill()}),H=fo(),W=pI(t,function(ae){var fe=o.triggerEvent("focusout",ae);fe&&ae.kill(),H.set(setTimeout(function(){o.triggerEvent(h2(),ae)},0))}),ee=function(){gt(g,function(ae){ae.unbind()}),O.unbind(),B.unbind(),W.unbind(),E.unbind(),C.on(clearTimeout),H.on(clearTimeout)};return{unbind:ee}},ky=function(t,r){var o=En(t,"target").getOr(r);return Pn(o)},bI=function(t,r){var o=Pn(!1),s=Pn(!1),d=function(){o.set(!0)},g=function(){s.set(!0)};return{stop:d,cut:g,isStopped:o.get,isCut:s.get,event:t,setSource:r.set,getSource:r.get}},yI=function(t){var r=Pn(!1),o=function(){r.set(!0)};return{stop:o,cut:G,isStopped:r.get,isCut:pe,event:t,setSource:le("Cannot set source of a broadcasted event"),getSource:le("Cannot get source of a broadcasted event")}},VC=Ds.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),UC=function(t,r,o,s,d,g){var C=t(r,s),E=bI(o,d);return C.fold(function(){return g.logEventNoHandlers(r,s),VC.complete()},function(O){var B=O.descHandler,H=E2(B);return H(E),E.isStopped()?(g.logEventStopped(r,O.element,B.purpose),VC.stopped()):E.isCut()?(g.logEventCut(r,O.element,B.purpose),VC.complete()):xo(O.element).fold(function(){return g.logNoParent(r,O.element,B.purpose),VC.complete()},function(W){return g.logEventResponse(r,O.element,B.purpose),VC.resume(W)})})},ER=function(t,r,o,s,d,g){return UC(t,r,o,s,d,g).fold(ye,function(C){return ER(t,r,o,C,d,g)},pe)},wI=function(t,r,o,s,d){var g=ky(o,s);return UC(t,r,o,s,g,d)},TR=function(t,r,o){var s=yI(r);return gt(t,function(d){var g=d.descHandler,C=E2(g);C(s)}),s.isStopped()},CI=function(t,r,o,s){return OR(t,r,o,o.target,s)},OR=function(t,r,o,s,d){var g=ky(o,s);return ER(t,r,o,s,g,d)},SI=function(t,r){return{element:t,descHandler:r}},xI=function(t,r){return{id:t,descHandler:r}},_I=function(){var t={},r=function(C,E,O){Hr(O,function(B,H){var W=t[H]!==void 0?t[H]:{};W[E]=A2(B,C),t[H]=W})},o=function(C,E){return jv(E).bind(function(O){return En(C,O)}).map(function(O){return SI(E,O)})},s=function(C){return En(t,C).map(function(E){return Si(E,function(O,B){return xI(B,O)})}).getOr([])},d=function(C,E,O){return En(t,E).bind(function(B){return wh(O,function(H){return o(B,H)},C)})},g=function(C){Hr(t,function(E,O){Dr(E,C)&&delete E[C]})};return{registerId:r,unregisterId:g,filterByType:s,find:d}},kI=function(){var t=_I(),r={},o=function(B){var H=B.element;return jv(H).getOrThunk(function(){return rx("uid-",B.element)})},s=function(B,H){var W=r[H];if(W===B)g(B);else throw new Error('The tagId "'+H+'" is already used by: '+pu(W.element)+`
Cannot use it for: `+pu(B.element)+`
The conflicting element is`+(fu(W.element)?" ":" not ")+"already in the DOM")},d=function(B){var H=o(B);uo(r,H)&&s(B,H);var W=[B];t.registerId(W,H,B.events),r[H]=B},g=function(B){jv(B.element).each(function(H){delete r[H],t.unregisterId(H)})},C=function(B){return t.filterByType(B)},E=function(B,H,W){return t.find(B,H,W)},O=function(B){return En(r,B)};return{find:E,filter:C,register:d,unregister:g,getById:O}},AI=function(t){var r=t.dom,o=r.attributes,s=U(r,["attributes"]);return{uid:t.uid,dom:ne({tag:"div",attributes:ne({role:"presentation"},o)},s),components:t.components,behaviours:cg(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},ku=zs({name:"Container",factory:AI,configFields:[Ve("components",[]),Xo("containerBehaviours",[]),Ve("events",{}),Ve("domModification",{}),Ve("eventOrder",{})]}),DR=function(t){var r=function(we){return xo(t.element).fold(ye,function(ze){return Sa(we,ze)})},o=kI(),s=function(we,ze){return o.find(r,we,ze)},d=AR(t.element,{triggerEvent:function(we,ze){return M2(we,ze.target,function(ft){return CI(s,we,ze,ft)})}}),g={debugInfo:ue("real"),triggerEvent:function(we,ze,ft){M2(we,ze,function(ct){return OR(s,we,ft,ze,ct)})},triggerFocus:function(we,ze){jv(we).fold(function(){vc(we)},function(ft){M2(Lv(),we,function(ct){return wI(s,Lv(),{originator:ze,kill:G,prevent:G,target:we},we,ct),!1})})},triggerEscape:function(we,ze){g.triggerEvent("keydown",we.element,ze.event)},getByUid:function(we){return Se(we)},getByDom:function(we){return Fe(we)},build:za,addToGui:function(we){O(we)},removeFromGui:function(we){B(we)},addToWorld:function(we){C(we)},removeFromWorld:function(we){E(we)},broadcast:function(we){ee(we)},broadcastOn:function(we,ze){ae(we,ze)},broadcastEvent:function(we,ze){fe(we,ze)},isConnected:ye},C=function(we){we.connect(g),Du(we.element)||(o.register(we),gt(we.components(),C),g.triggerEvent(Vd(),we.element,{target:we.element}))},E=function(we){Du(we.element)||(gt(we.components(),E),o.unregister(we)),we.disconnect()},O=function(we){cm(t,we)},B=function(we){pc(we)},H=function(){d.unbind(),$u(t.element)},W=function(we){var ze=o.filter(nl());gt(ze,function(ft){var ct=ft.descHandler,Le=E2(ct);Le(we)})},ee=function(we){W({universal:!0,data:we})},ae=function(we,ze){W({universal:!1,channels:we,data:ze})},fe=function(we,ze){var ft=o.filter(we);return TR(ft,ze)},Se=function(we){return o.getById(we).fold(function(){return sr.error(new Error('Could not find component with uid: "'+we+'" in system.'))},sr.value)},Fe=function(we){var ze=jv(we).getOr("not found");return Se(ze)};return C(t),{root:t,element:t.element,destroy:H,add:O,remove:B,getByUid:Se,getByDom:Fe,addToWorld:C,removeFromWorld:E,broadcast:ee,broadcastOn:ae,broadcastEvent:fe}},k1=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ue(t.items,r.interpreter)}},EI=ue([Ve("prefix","form-field"),Xo("fieldBehaviours",[Cr,rn])]),TI=ue([ul({schema:[_t("dom")],name:"label"}),ul({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[_t("text")],name:"aria-descriptor"}),Ii({factory:{sketch:function(t){var r=s2(t,["factory"]);return t.factory.sketch(r)}},schema:[_t("factory")],name:"field"})]),OI=function(t,r,o,s){var d=ci(t.fieldBehaviours,[Cr.config({find:function(E){return ga(E,t,"field")}}),rn.config({store:{mode:"manual",getValue:function(E){return Cr.getCurrent(E).bind(rn.getValue)},setValue:function(E,O){Cr.getCurrent(E).each(function(B){rn.setValue(B,O)})}}})]),g=Ca([nr(function(E,O){var B=u_(E,t,["label","field","aria-descriptor"]);B.field().each(function(H){var W=wn(t.prefix);B.label().each(function(ee){or(ee.element,"for",W),or(H.element,"id",W)}),B["aria-descriptor"]().each(function(ee){var ae=wn(t.prefix);or(ee.element,"id",ae),or(H.element,"aria-describedby",ae)})})})]),C={getField:function(E){return ga(E,t,"field")},getLabel:function(E){return ga(E,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:d,events:g,apis:C}},Xr=_u({name:"FormField",configFields:EI(),partFields:TI(),factory:OI,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),Uk=function(t,r){return Bl({attributes:Xf([{key:r.tabAttr,value:"true"}])})},RR=Object.freeze({__proto__:null,exhibit:Uk}),BR=[Ve("tabAttr","data-alloy-tabstop")],To=Ko({fields:BR,name:"tabstopping",active:RR}),DI=tinymce.util.Tools.resolve("tinymce.html.Entities"),WC=function(t,r,o,s){var d=BI(t,r,o,s);return Xr.sketch(d)},RI=function(t,r){return WC(t,r,[],[])},BI=function(t,r,o,s){return{dom:$R(o),components:t.toArray().concat([r]),fieldBehaviours:Jt(s)}},$I=function(){return $R([])},$R=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},Tm=function(t,r){return Xr.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},zl=wn("form-component-change"),jC=wn("form-close"),A1=wn("form-cancel"),mv=wn("form-action"),cl=wn("form-submit"),Sd=wn("form-block"),OT=wn("form-unblock"),DT=wn("form-tabchange"),RT=wn("form-resize"),Wk=function(t,r){var o,s=t.label.map(function(W){return Tm(W,r)}),d=function(W){return function(ee,ae){al(ae.event.target,"[data-collection-item-value]").each(function(fe){W(ee,ae,fe,Fa(fe,"data-collection-item-value"))})}},g=function(W,ee){var ae=Ue(ee,function(Fe){var we=df.translate(Fe.text),ze=t.columns===1?'<div class="tox-collection__item-label">'+we+"</div>":"",ft='<div class="tox-collection__item-icon">'+Fe.icon+"</div>",ct={_:" "," - ":" ","-":" "},Le=we.replace(/\_| \- |\-/g,function(Ct){return ct[Ct]}),tt=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+tt+'" tabindex="-1" data-collection-item-value="'+DI.encodeAllRaw(Fe.value)+'" title="'+Le+'" aria-label="'+Le+'">'+ft+ze+"</div>"}),fe=t.columns!=="auto"&&t.columns>1?cn(ae,t.columns):[ae],Se=Ue(fe,function(Fe){return'<div class="tox-collection__group">'+Fe.join("")+"</div>"});Zf(W.element,Se.join(""))},C=d(function(W,ee,ae,fe){ee.stop(),r.isDisabled()||In(W,mv,{name:t.name,value:fe})}),E=[Dt(Yf(),d(function(W,ee,ae){vc(ae)})),Dt(xh(),C),Dt(zv(),C),Dt(tl(),d(function(W,ee,ae){jo(W.element,"."+w1).each(function(fe){Po(fe,w1)}),Wo(ae,w1)})),Dt(Ti(),d(function(W){jo(W.element,"."+w1).each(function(ee){Po(ee,w1)})})),cs(d(function(W,ee,ae,fe){In(W,mv,{name:t.name,value:fe})}))],O=function(W,ee){return Ue(au(W.element,".tox-collection__item"),ee)},B=Xr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ee},behaviours:Jt([Mn.config({disabled:r.isDisabled,onDisabled:function(W){O(W,function(ee){Wo(ee,"tox-collection__item--state-disabled"),or(ee,"aria-disabled",!0)})},onEnabled:function(W){O(W,function(ee){Po(ee,"tox-collection__item--state-disabled"),ii(ee,"aria-disabled")})}}),ti(),Zn.config({}),rn.config({store:{mode:"memory",initialValue:[]},onSetValue:function(W,ee){g(W,ee),t.columns==="auto"&&aT(W,5,"tox-collection__item").each(function(ae){var fe=ae.numRows,Se=ae.numColumns;Fn.setGridSize(W,fe,Se)}),Vr(W,RT)}}),To.config({}),Fn.config(dR(t.columns,"normal")),rr("collection-events",E)]),eventOrder:(o={},o[Rs()]=["disabling","alloy.base.behaviour","collection-events"],o)}),H=["tox-form__group--collection"];return WC(s,B,H,[])},MR=ue([qr("data"),Ve("inputAttributes",{}),Ve("inputStyles",{}),Ve("tag","input"),Ve("inputClasses",[]),Kr("onSetValue"),Ve("styles",{}),Ve("eventOrder",{}),Xo("inputBehaviours",[rn,Xn]),Ve("selectOnFocus",!0)]),jk=function(t){return Jt([Xn.config({onFocus:t.selectOnFocus?function(r){var o=r.element,s=Xc(o);o.dom.setSelectionRange(0,s.length)}:G})])},BT=function(t){return ne(ne({},jk(t)),ci(t.inputBehaviours,[rn.config({store:ne(ne({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return Xc(r.element)},setValue:function(r,o){var s=Xc(r.element);s!==o&&Rh(r.element,o)}}),onSetValue:t.onSetValue})]))},Gk=function(t){return{tag:t.tag,attributes:ne({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},MI=function(t,r){return{uid:t.uid,dom:Gk(t),components:[],behaviours:BT(t),eventOrder:t.eventOrder}},GC=zs({name:"Input",configFields:MR(),factory:MI}),PR={},qC={exports:PR};(function(t,r,o,s){(function(d,g){typeof r=="object"&&typeof o<"u"?o.exports=g():typeof t=="function"&&t.amd?t(g):(d=typeof globalThis<"u"?globalThis:d||self,d.EphoxContactWrapper=g())})(this,function(){var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof T6<"u"?T6:typeof self<"u"?self:{},g={exports:{}};(function(B){(function(H){var W=setTimeout;function ee(){}function ae(Le,tt){return function(){Le.apply(tt,arguments)}}function fe(Le){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Le!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ct(Le,this)}function Se(Le,tt){for(;Le._state===3;)Le=Le._value;if(Le._state===0){Le._deferreds.push(tt);return}Le._handled=!0,fe._immediateFn(function(){var Ct=Le._state===1?tt.onFulfilled:tt.onRejected;if(Ct===null){(Le._state===1?Fe:we)(tt.promise,Le._value);return}var an;try{an=Ct(Le._value)}catch(Tt){we(tt.promise,Tt);return}Fe(tt.promise,an)})}function Fe(Le,tt){try{if(tt===Le)throw new TypeError("A promise cannot be resolved with itself.");if(tt&&(typeof tt=="object"||typeof tt=="function")){var Ct=tt.then;if(tt instanceof fe){Le._state=3,Le._value=tt,ze(Le);return}else if(typeof Ct=="function"){ct(ae(Ct,tt),Le);return}}Le._state=1,Le._value=tt,ze(Le)}catch(an){we(Le,an)}}function we(Le,tt){Le._state=2,Le._value=tt,ze(Le)}function ze(Le){Le._state===2&&Le._deferreds.length===0&&fe._immediateFn(function(){Le._handled||fe._unhandledRejectionFn(Le._value)});for(var tt=0,Ct=Le._deferreds.length;tt<Ct;tt++)Se(Le,Le._deferreds[tt]);Le._deferreds=null}function ft(Le,tt,Ct){this.onFulfilled=typeof Le=="function"?Le:null,this.onRejected=typeof tt=="function"?tt:null,this.promise=Ct}function ct(Le,tt){var Ct=!1;try{Le(function(an){Ct||(Ct=!0,Fe(tt,an))},function(an){Ct||(Ct=!0,we(tt,an))})}catch(an){if(Ct)return;Ct=!0,we(tt,an)}}fe.prototype.catch=function(Le){return this.then(null,Le)},fe.prototype.then=function(Le,tt){var Ct=new this.constructor(ee);return Se(this,new ft(Le,tt,Ct)),Ct},fe.all=function(Le){var tt=Array.prototype.slice.call(Le);return new fe(function(Ct,an){if(tt.length===0)return Ct([]);var Tt=tt.length;function sn(wt,Kt){try{if(Kt&&(typeof Kt=="object"||typeof Kt=="function")){var Cn=Kt.then;if(typeof Cn=="function"){Cn.call(Kt,function(Et){sn(wt,Et)},an);return}}tt[wt]=Kt,--Tt===0&&Ct(tt)}catch(Et){an(Et)}}for(var Bt=0;Bt<tt.length;Bt++)sn(Bt,tt[Bt])})},fe.resolve=function(Le){return Le&&typeof Le=="object"&&Le.constructor===fe?Le:new fe(function(tt){tt(Le)})},fe.reject=function(Le){return new fe(function(tt,Ct){Ct(Le)})},fe.race=function(Le){return new fe(function(tt,Ct){for(var an=0,Tt=Le.length;an<Tt;an++)Le[an].then(tt,Ct)})},fe._immediateFn=typeof setImmediate=="function"?function(Le){setImmediate(Le)}:function(Le){W(Le,0)},fe._unhandledRejectionFn=function(tt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",tt)},fe._setImmediateFn=function(tt){fe._immediateFn=tt},fe._setUnhandledRejectionFn=function(tt){fe._unhandledRejectionFn=tt},B.exports?B.exports=fe:H.Promise||(H.Promise=fe)})(d)})(g);var C=g.exports,E=function(){return typeof window<"u"?window:Function("return this;")()}(),O={boltExport:E.Promise||C};return O})})(void 0,PR,qC);var Om=qC.exports.boltExport,$T=function(t){var r=$.none(),o=[],s=function(B){return $T(function(H){d(function(W){H(B(W))})})},d=function(B){C()?O(B):o.push(B)},g=function(B){C()||(r=$.some(B),E(o),o=[])},C=function(){return r.isSome()},E=function(B){gt(B,O)},O=function(B){r.each(function(H){setTimeout(function(){B(H)},0)})};return t(g),{get:d,map:s,isReady:C}},PI=function(t){return $T(function(r){r(t)})},IR={nu:$T,pure:PI},II=function(t){setTimeout(function(){throw t},0)},E1=function(t){var r=function(O){t().then(O,II)},o=function(O){return E1(function(){return t().then(O)})},s=function(O){return E1(function(){return t().then(function(B){return O(B).toPromise()})})},d=function(O){return E1(function(){return t().then(function(){return O.toPromise()})})},g=function(){return IR.nu(r)},C=function(){var O=null;return E1(function(){return O===null&&(O=t()),O})},E=t;return{map:o,bind:s,anonBind:d,toLazy:g,toCached:C,toPromise:E,get:r}},NI=function(t){return E1(function(){return new Om(t)})},FI=function(t){return E1(function(){return Om.resolve(t)})},Ji={nu:NI,pure:FI},LI=["input","textarea"],NR=function(t){var r=Qu(t);return lt(LI,r)},MT=function(t,r){var o=r.getRoot(t).getOr(t.element);Po(o,r.invalidClass),r.notify.each(function(s){NR(t.element)&&or(t.element,"aria-invalid",!1),s.getContainer(t).each(function(d){Zf(d,s.validHtml)}),s.onValid(t)})},PT=function(t,r,o,s){var d=r.getRoot(t).getOr(t.element);Wo(d,r.invalidClass),r.notify.each(function(g){NR(t.element)&&or(t.element,"aria-invalid",!0),g.getContainer(t).each(function(C){Zf(C,s)}),g.onInvalid(t,s)})},FR=function(t,r,o){return r.validator.fold(function(){return Ji.pure(sr.value(!0))},function(s){return s.validate(t)})},IT=function(t,r,o){return r.notify.each(function(s){s.onValidate(t)}),FR(t,r).map(function(s){return t.getSystem().isConnected()?s.fold(function(d){return PT(t,r,o,d),sr.error(d)},function(d){return MT(t,r),sr.value(d)}):sr.error("No longer in system")})},zI=function(t,r){var o=r.getRoot(t).getOr(t.element);return bu(o,r.invalidClass)},HI=Object.freeze({__proto__:null,markValid:MT,markInvalid:PT,query:FR,run:IT,isInvalid:zI}),VI=function(t,r){return t.validator.map(function(o){return Ca([Dt(o.onEvent,function(s){IT(s,t,r).get(Ee)})].concat(o.validateOnLoad?[nr(function(s){IT(s,t,r).get(G)})]:[]))}).getOr({})},qk=Object.freeze({__proto__:null,events:VI}),hs=[_t("invalidClass"),Ve("getRoot",$.none),ss("notify",[Ve("aria","alert"),Ve("getContainer",$.none),Ve("validHtml",""),Kr("onValid"),Kr("onInvalid"),Kr("onValidate")]),ss("validator",[_t("validate"),Ve("onEvent","input"),Ve("validateOnLoad",!0)])],hv=Ko({fields:hs,name:"invalidating",active:qk,apis:HI,extra:{validation:function(t){return function(r){var o=rn.getValue(r);return Ji.pure(t(o))}}}}),UI=function(t,r,o,s){return o.getOrCreate(t,r,s)},WI=Object.freeze({__proto__:null,getCoupled:UI}),jI=[Iu("others",ji(sr.value,kl()))],GI=function(){var t={},r=function(s,d,g){var C=Ir(d.others);if(C)return En(t,g).getOrThunk(function(){var E=En(d.others,g).getOrDie("No information found for coupled component: "+g),O=E(s),B=s.getSystem().build(O);return t[g]=B,B});throw new Error("Cannot find coupled component: "+g+". Known coupled components: "+JSON.stringify(C,null,2))},o=ue({});return Ki({readState:o,getOrCreate:r})},LR=Object.freeze({__proto__:null,init:GI}),Oo=Ko({fields:jI,name:"coupling",apis:WI,state:LR}),zR=ue("sink"),HR=ue(ul({name:zR(),overrides:ue({dom:{tag:"div"},behaviours:Jt([vo.config({useFixed:ye})]),events:Ca([Wd(y0()),Wd(Ol()),Wd(xh())])})})),hf;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(hf||(hf={}));var VR=function(t,r){var o=t.getHotspot(r).getOr(r),s="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:s,hotspot:o,overrides:d}},function(g){return{type:s,hotspot:o,overrides:d,layouts:g}})},UR=function(t,r,o){var s=t.fetch;return s(o).map(r)},WR=function(t,r,o,s,d,g,C){var E=UR(t,r,s),O=jR(s,t);return E.map(function(B){return B.bind(function(H){return $.from(ca.sketch(ne(ne({},g.menu()),{uid:Gv(""),data:H,highlightImmediately:C===hf.HighlightFirst,onOpenMenu:function(W,ee){var ae=O().getOrDie();vo.position(ae,ee,{anchor:o}),Tr.decloak(d)},onOpenSubmenu:function(W,ee,ae){var fe=O().getOrDie();vo.position(fe,ae,{anchor:{type:"submenu",item:ee}}),Tr.decloak(d)},onRepositionMenu:function(W,ee,ae){var fe=O().getOrDie();vo.position(fe,ee,{anchor:o}),gt(ae,function(Se){vo.position(fe,Se.triggeredMenu,{anchor:{type:"submenu",item:Se.triggeringItem}})})},onEscape:function(){return Xn.focus(s),Tr.close(d),$.some(!0)}})))})})},Kk=function(t,r,o,s,d,g,C){var E=VR(t,o),O=WR(t,r,E,o,s,d,C);return O.map(function(B){return B.fold(function(){Tr.isOpen(s)&&Tr.close(s)},function(H){Tr.cloak(s),Tr.open(s,H),g(s)}),s})},qI=function(t,r,o,s,d,g,C){return Tr.close(s),Ji.pure(s)},Ay=function(t,r,o,s,d,g){var C=Oo.getCoupled(o,"sandbox"),E=Tr.isOpen(C),O=E?qI:Kk;return O(t,r,o,C,s,d,g)},KI=function(t,r,o){var s=Cr.getCurrent(r).getOr(r),d=Vi(t.element);o?Wn(s.element,"min-width",d+"px"):tc(s.element,d)},jR=function(t,r){return t.getSystem().getByUid(r.uid+"-"+zR()).map(function(o){return function(){return sr.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return sr.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},GR=function(t){Tr.getState(t).each(function(r){ca.repositionMenus(r)})},NT=function(t,r,o){var s=Yd(),d=function(E,O){var B=VR(t,r);s.link(r.element),t.matchWidth&&KI(B.hotspot,O,t.useMinWidth),t.onOpen(B,E,O),o!==void 0&&o.onOpen!==void 0&&o.onOpen(E,O)},g=function(E,O){s.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(E,O)},C=jR(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:il.augment(t.sandboxBehaviours,[rn.config({store:{mode:"memory",initialValue:r}}),Tr.config({onOpen:d,onClose:g,isPartOf:function(E,O,B){return Jd(O,B)||Jd(r,B)},getAttachPoint:function(){return C().getOrDie()}}),Cr.config({find:function(E){return Tr.getState(E).bind(function(O){return Cr.getCurrent(O)})}}),nu.config({channels:ne(ne({},Vu({isExtraPart:pe})),dm({doReposition:GR}))})])}},Ng=function(t){var r=Oo.getCoupled(t,"sandbox");GR(r)},FT=function(){return[Ve("sandboxClasses",[]),il.field("sandboxBehaviours",[Cr,nu,Tr,rn])]},XI=ue([_t("dom"),_t("fetch"),Kr("onOpen"),Go("onExecute"),Ve("getHotspot",$.some),Ve("getAnchorOverrides",ue({})),nd(),Xo("dropdownBehaviours",[Br,Oo,Fn,Xn]),_t("toggleClass"),Ve("eventOrder",{}),qr("lazySink"),Ve("matchWidth",!1),Ve("useMinWidth",!1),qr("role")].concat(FT())),Fg=ue([Ls({schema:[Zd()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),HR()]),YI=function(t,r,o,s){var d,g=function(H){return En(t.dom,"attributes").bind(function(W){return En(W,H)})},C=function(H){Tr.getState(H).each(function(W){ca.highlightPrimary(W)})},E=function(H){var W=C;Ay(t,Ee,H,s,W,hf.HighlightFirst).get(G)},O={expand:function(H){Br.isOn(H)||Ay(t,Ee,H,s,G,hf.HighlightNone).get(G)},open:function(H){Br.isOn(H)||Ay(t,Ee,H,s,G,hf.HighlightFirst).get(G)},isOpen:Br.isOn,close:function(H){Br.isOn(H)&&Ay(t,Ee,H,s,G,hf.HighlightFirst).get(G)},repositionMenus:function(H){Br.isOn(H)&&Ng(H)}},B=function(H,W){return $s(H),$.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.dropdownBehaviours,[Br.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Oo.config({others:{sandbox:function(H){return NT(t,H,{onOpen:function(){return Br.on(H)},onClose:function(){return Br.off(H)}})}}}),Fn.config({mode:"special",onSpace:B,onEnter:B,onDown:function(H,W){if(gf.isOpen(H)){var ee=Oo.getCoupled(H,"sandbox");C(ee)}else gf.open(H);return $.some(!0)},onEscape:function(H,W){return gf.isOpen(H)?(gf.close(H),$.some(!0)):$.none()}}),Xn.config({})]),events:vy($.some(E)),eventOrder:ne(ne({},t.eventOrder),(d={},d[Rs()]=["disabling","toggling","alloy.base.behaviour"],d)),apis:O,domModification:{attributes:ne(ne({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(H){return{role:H}})),t.dom.tag==="button"?{type:g("type").getOr("button")}:{})}}},gf=_u({name:"Dropdown",configFields:XI(),partFields:Fg(),factory:YI,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),Sc=function(){return Bl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},qR=function(){return Ca([w2(R3(),ye)])},KR=Object.freeze({__proto__:null,events:qR,exhibit:Sc}),KC=Ko({fields:[],name:"unselecting",active:KR}),JI=function(t,r){return gf.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Jt([mf.button(r.providers.isDisabled),ti(),KC.config({}),To.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return Ji.nu(function(s){return t.fetch(s)}).map(function(s){return $.from(CR(bt(kT(wn("menu-value"),s,function(d){t.onItemAction(o,d)},t.columns,t.presets,uu.CLOSE_ON_EXECUTE,pe,r.providers),{movement:Lk(t.columns,t.presets)})))})},parts:{menu:C1(!1,1,t.presets)}})},XC=wn("color-input-change"),XR=wn("color-swatch-change"),LT=wn("color-picker-cancel"),ZI=function(t,r,o){var s=Xr.parts.field({factory:GC,inputClasses:["tox-textfield"],onSetValue:function(O){return hv.run(O).get(G)},inputBehaviours:Jt([Mn.config({disabled:r.providers.isDisabled}),ti(),To.config({}),hv.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(O){return xo(O.element)},notify:{onValid:function(O){var B=rn.getValue(O);In(O,XC,{color:B})}},validator:{validateOnLoad:!1,validate:function(O){var B=rn.getValue(O);if(B.length===0)return Ji.pure(sr.value(!0));var H=un.fromTag("span");Wn(H,"background-color",B);var W=ko(H,"background-color").fold(function(){return sr.error("blah")},function(ee){return sr.value(B)});return Ji.pure(W)}}})]),selectOnFocus:!1}),d=t.label.map(function(O){return Tm(O,r.providers)}),g=function(O,B){In(O,XR,{value:B})},C=function(O,B){E.getOpt(O).each(function(H){B==="custom"?o.colorPicker(function(W){W.fold(function(){return Vr(H,LT)},function(ee){g(H,ee),CT(ee)})},"#ffffff"):B==="remove"?g(H,""):g(H,B)})},E=ra(JI({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[ei,Xi,Io]},onLtr:function(){return[Xi,ei,Io]}},components:[],fetch:_T(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:C},r));return Xr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:d.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,E.asSpec()]}]),fieldBehaviours:Jt([rr("form-field-events",[Dt(XC,function(O,B){E.getOpt(O).each(function(H){Wn(H.element,"background-color",B.event.color)}),In(O,zl,{name:t.name})}),Dt(XR,function(O,B){Xr.getField(O).each(function(H){rn.setValue(H,B.event.value),Cr.getCurrent(O).each(Xn.focus)})}),Dt(LT,function(O,B){Xr.getField(O).each(function(H){Cr.getCurrent(O).each(Xn.focus)})})])])})},QI=ul({schema:[_t("dom")],name:"label"}),Lg=function(t){return ul({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(s){return{events:Ca([C2(Wc(),function(d,g,C){return s(d,C)},[r]),C2(Ol(),function(d,g,C){return s(d,C)},[r]),C2(Ld(),function(d,g,C){C.mouseIsDown.get()&&s(d,C)},[r])])}})}})},zT=Lg("top-left"),eN=Lg("top"),tN=Lg("top-right"),nN=Lg("right"),rN=Lg("bottom-right"),aN=Lg("bottom"),oN=Lg("bottom-left"),iN=Lg("left"),YR=Ii({name:"thumb",defaults:ue({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:Ca([Ud(Wc(),t,"spectrum"),Ud(Tl(),t,"spectrum"),Ud(Fv(),t,"spectrum"),Ud(Ol(),t,"spectrum"),Ud(Ld(),t,"spectrum"),Ud(v2(),t,"spectrum")])}}}),JR=Ii({schema:[hu("mouseIsDown",function(){return Pn(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,s=function(d,g){return o.getValueFromEvent(g).map(function(C){return o.setValueFrom(d,t,C)})};return{behaviours:Jt([Fn.config({mode:"special",onLeft:function(d){return o.onLeft(d,t)},onRight:function(d){return o.onRight(d,t)},onUp:function(d){return o.onUp(d,t)},onDown:function(d){return o.onDown(d,t)}}),Xn.config({})]),events:Ca([Dt(Wc(),s),Dt(Tl(),s),Dt(Ol(),s),Dt(Ld(),function(d,g){t.mouseIsDown.get()&&s(d,g)})])}}}),uN=[QI,iN,nN,eN,aN,zT,tN,oN,rN,YR,JR],sN="slider.change.value",YC=ue(sN),lN=function(t){return t.type.indexOf("touch")!==-1},HT=function(t){var r=t.event.raw;if(lN(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?$.some(o.touches[0]).map(function(d){return ba(d.clientX,d.clientY)}):$.none()}else{var s=r;return s.clientX!==void 0?$.some(s).map(function(d){return ba(d.clientX,d.clientY)}):$.none()}},ZR="top",QR="right",eB="bottom",Xk="left",T1=function(t){return t.model.minX},zg=function(t){return t.model.minY},Yk=function(t){return t.model.minX-1},Jk=function(t){return t.model.minY-1},O1=function(t){return t.model.maxX},D1=function(t){return t.model.maxY},R1=function(t){return t.model.maxX+1},Zk=function(t){return t.model.maxY+1},tB=function(t,r,o){return r(t)-o(t)},gv=function(t){return tB(t,O1,T1)},VT=function(t){return tB(t,D1,zg)},B1=function(t){return gv(t)/2},UT=function(t){return VT(t)/2},Hg=function(t){return t.stepSize},nB=function(t){return t.snapToGrid},rB=function(t){return t.snapStart},aB=function(t){return t.rounded},JC=function(t,r){return t[r+"-edge"]!==void 0},oB=function(t){return JC(t,Xk)},ZC=function(t){return JC(t,QR)},iB=function(t){return JC(t,ZR)},fl=function(t){return JC(t,eB)},Dm=function(t){return t.model.value.get()},uB=function(t){return{x:t}},WT=function(t){return{y:t}},Rm=function(t,r){return{x:t,y:r}},pf=function(t,r){In(t,YC(),{value:r})},cN=function(t,r){pf(t,Rm(Yk(r),Jk(r)))},fN=function(t,r){pf(t,WT(Jk(r)))},vN=function(t,r){pf(t,Rm(B1(r),Jk(r)))},dN=function(t,r){pf(t,Rm(R1(r),Jk(r)))},mN=function(t,r){pf(t,uB(R1(r)))},hN=function(t,r){pf(t,Rm(R1(r),UT(r)))},sB=function(t,r){pf(t,Rm(R1(r),Zk(r)))},gN=function(t,r){pf(t,WT(Zk(r)))},pN=function(t,r){pf(t,Rm(B1(r),Zk(r)))},bN=function(t,r){pf(t,Rm(Yk(r),Zk(r)))},lB=function(t,r){pf(t,uB(Yk(r)))},Qk=function(t,r){pf(t,Rm(Yk(r),UT(r)))},jT=function(t,r,o,s){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-s)},Ey=function(t,r,o,s){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+s)},$1=function(t,r,o){return Math.max(r,Math.min(o,t))},cB=function(t,r,o,s,d){return d.fold(function(){var g=t-r,C=Math.round(g/s)*s;return $1(r+C,r-1,o+1)},function(g){var C=(t-g)%s,E=Math.round(C/s),O=Math.floor((t-g)/s),B=Math.floor((o-g)/s),H=Math.min(B,O+E),W=g+H*s;return Math.max(g,W)})},fB=function(t,r,o){return Math.min(o,Math.max(t,r))-r},GT=function(t){var r=t.min,o=t.max,s=t.range,d=t.value,g=t.step,C=t.snap,E=t.snapStart,O=t.rounded,B=t.hasMinEdge,H=t.hasMaxEdge,W=t.minBound,ee=t.maxBound,ae=t.screenRange,fe=B?r-1:r,Se=H?o+1:o;if(d<W)return fe;if(d>ee)return Se;var Fe=fB(d,W,ee),we=$1(Fe/ae*s+r,fe,Se);return C&&we>=r&&we<=o?cB(we,r,o,g,E):O?Math.round(we):we},vB=function(t){var r=t.min,o=t.max,s=t.range,d=t.value,g=t.hasMinEdge,C=t.hasMaxEdge,E=t.maxBound,O=t.maxOffset,B=t.centerMinEdge,H=t.centerMaxEdge;return d<r?g?0:B:d>o?C?E:H:(d-r)/s*O},qT="top",QC="right",dB="bottom",KT="left",mB="width",hB="height",bf=function(t){return t.element.dom.getBoundingClientRect()},xc=function(t,r){return t[r]},su=function(t){var r=bf(t);return xc(r,KT)},XT=function(t){var r=bf(t);return xc(r,QC)},eA=function(t){var r=bf(t);return xc(r,qT)},gB=function(t){var r=bf(t);return xc(r,dB)},YT=function(t){var r=bf(t);return xc(r,mB)},pB=function(t){var r=bf(t);return xc(r,hB)},bB=function(t,r,o){return(t+r)/2-o},yB=function(t,r){var o=bf(t),s=bf(r),d=xc(o,KT),g=xc(o,QC),C=xc(s,KT);return bB(d,g,C)},JT=function(t,r){var o=bf(t),s=bf(r),d=xc(o,qT),g=xc(o,dB),C=xc(s,qT);return bB(d,g,C)},_c=function(t,r){In(t,YC(),{value:r})},Ty=function(t){return{x:t}},tA=function(t,r,o){var s={min:T1(r),max:O1(r),range:gv(r),value:o,step:Hg(r),snap:nB(r),snapStart:rB(r),rounded:aB(r),hasMinEdge:oB(r),hasMaxEdge:ZC(r),minBound:su(t),maxBound:XT(t),screenRange:YT(t)};return GT(s)},nA=function(t,r,o){var s=tA(t,r,o),d=Ty(s);return _c(t,d),s},ZT=function(t,r){var o=T1(r);_c(t,Ty(o))},yN=function(t,r){var o=O1(r);_c(t,Ty(o))},wN=function(t,r,o){var s=t>0?Ey:jT,d=s(Dm(o).x,T1(o),O1(o),Hg(o));return _c(r,Ty(d)),$.some(d)},wB=function(t){return function(r,o){return wN(t,r,o).map(ye)}},CN=function(t){var r=HT(t);return r.map(function(o){return o.left})},SN=function(t,r,o,s,d){var g=0,C=YT(t),E=s.bind(function(H){return $.some(yB(H,t))}).getOr(g),O=d.bind(function(H){return $.some(yB(H,t))}).getOr(C),B={min:T1(r),max:O1(r),range:gv(r),value:o,hasMinEdge:oB(r),hasMaxEdge:ZC(r),minBound:su(t),minOffset:g,maxBound:XT(t),maxOffset:C,centerMinEdge:E,centerMaxEdge:O};return vB(B)},eS=function(t,r,o,s,d,g){var C=SN(r,g,o,s,d);return su(r)-su(t)+C},xN=function(t,r,o,s){var d=Dm(o),g=eS(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),C=Vi(r.element)/2;Wn(r.element,"left",g-C+"px")},CB=wB(-1),_N=wB(1),xd=$.none,rA=$.none,kN={"top-left":$.none(),top:$.none(),"top-right":$.none(),right:$.some(mN),"bottom-right":$.none(),bottom:$.none(),"bottom-left":$.none(),left:$.some(lB)},AN=Object.freeze({__proto__:null,setValueFrom:nA,setToMin:ZT,setToMax:yN,findValueOfOffset:tA,getValueFromEvent:CN,findPositionOfValue:eS,setPositionFromValue:xN,onLeft:CB,onRight:_N,onUp:xd,onDown:rA,edgeActions:kN}),tS=function(t,r){In(t,YC(),{value:r})},nS=function(t){return{y:t}},rS=function(t,r,o){var s={min:zg(r),max:D1(r),range:VT(r),value:o,step:Hg(r),snap:nB(r),snapStart:rB(r),rounded:aB(r),hasMinEdge:iB(r),hasMaxEdge:fl(r),minBound:eA(t),maxBound:gB(t),screenRange:pB(t)};return GT(s)},SB=function(t,r,o){var s=rS(t,r,o),d=nS(s);return tS(t,d),s},aS=function(t,r){var o=zg(r);tS(t,nS(o))},oS=function(t,r){var o=D1(r);tS(t,nS(o))},EN=function(t,r,o){var s=t>0?Ey:jT,d=s(Dm(o).y,zg(o),D1(o),Hg(o));return tS(r,nS(d)),$.some(d)},xB=function(t){return function(r,o){return EN(t,r,o).map(ye)}},TN=function(t){var r=HT(t);return r.map(function(o){return o.top})},ON=function(t,r,o,s,d){var g=0,C=pB(t),E=s.bind(function(H){return $.some(JT(H,t))}).getOr(g),O=d.bind(function(H){return $.some(JT(H,t))}).getOr(C),B={min:zg(r),max:D1(r),range:VT(r),value:o,hasMinEdge:iB(r),hasMaxEdge:fl(r),minBound:eA(t),minOffset:g,maxBound:gB(t),maxOffset:C,centerMinEdge:E,centerMaxEdge:O};return vB(B)},QT=function(t,r,o,s,d,g){var C=ON(r,g,o,s,d);return eA(r)-eA(t)+C},DN=function(t,r,o,s){var d=Dm(o),g=QT(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),C=$o(r.element)/2;Wn(r.element,"top",g-C+"px")},RN=$.none,eO=$.none,M1=xB(-1),BN=xB(1),_B={"top-left":$.none(),top:$.some(fN),"top-right":$.none(),right:$.none(),"bottom-right":$.none(),bottom:$.some(gN),"bottom-left":$.none(),left:$.none()},$N=Object.freeze({__proto__:null,setValueFrom:SB,setToMin:aS,setToMax:oS,findValueOfOffset:rS,getValueFromEvent:TN,findPositionOfValue:QT,setPositionFromValue:DN,onLeft:RN,onRight:eO,onUp:M1,onDown:BN,edgeActions:_B}),aA=function(t,r){In(t,YC(),{value:r})},oA=function(t,r){return{x:t,y:r}},MN=function(t,r,o){var s=tA(t,r,o.left),d=rS(t,r,o.top),g=oA(s,d);return aA(t,g),g},PN=function(t,r,o,s){var d=t>0?Ey:jT,g=r?Dm(s).x:d(Dm(s).x,T1(s),O1(s),Hg(s)),C=r?d(Dm(s).y,zg(s),D1(s),Hg(s)):Dm(s).y;return aA(o,oA(g,C)),$.some(g)},iS=function(t,r){return function(o,s){return PN(t,r,o,s).map(ye)}},tO=function(t,r){var o=T1(r),s=zg(r);aA(t,oA(o,s))},IN=function(t,r){var o=O1(r),s=D1(r);aA(t,oA(o,s))},kB=function(t){return HT(t)},nO=function(t,r,o,s){var d=Dm(o),g=eS(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),C=QT(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),E=Vi(r.element)/2,O=$o(r.element)/2;Wn(r.element,"left",g-E+"px"),Wn(r.element,"top",C-O+"px")},rO=iS(-1,!1),AB=iS(1,!1),NN=iS(-1,!0),FN=iS(1,!0),iA={"top-left":$.some(cN),top:$.some(vN),"top-right":$.some(dN),right:$.some(hN),"bottom-right":$.some(sB),bottom:$.some(pN),"bottom-left":$.some(bN),left:$.some(Qk)},EB=Object.freeze({__proto__:null,setValueFrom:MN,setToMin:tO,setToMax:IN,getValueFromEvent:kB,setPositionFromValue:nO,onLeft:rO,onRight:AB,onUp:NN,onDown:FN,edgeActions:iA}),LN=[Ve("stepSize",1),Ve("onChange",G),Ve("onChoose",G),Ve("onInit",G),Ve("onDragStart",G),Ve("onDragEnd",G),Ve("snapToGrid",!1),Ve("rounded",!0),qr("snapStart"),Iu("model",el("mode",{x:[Ve("minX",0),Ve("maxX",100),hu("value",function(t){return Pn(t.mode.minX)}),_t("getInitialValue"),_a("manager",AN)],y:[Ve("minY",0),Ve("maxY",100),hu("value",function(t){return Pn(t.mode.minY)}),_t("getInitialValue"),_a("manager",$N)],xy:[Ve("minX",0),Ve("maxX",100),Ve("minY",0),Ve("maxY",100),hu("value",function(t){return Pn({x:t.mode.minX,y:t.mode.minY})}),_t("getInitialValue"),_a("manager",EB)]})),Xo("sliderBehaviours",[Fn,rn]),hu("mouseIsDown",function(){return Pn(!1)})],zN=function(t,r,o,s){var d,g=function(Le){return sf(Le,t,"thumb")},C=function(Le){return sf(Le,t,"spectrum")},E=function(Le){return ga(Le,t,"left-edge")},O=function(Le){return ga(Le,t,"right-edge")},B=function(Le){return ga(Le,t,"top-edge")},H=function(Le){return ga(Le,t,"bottom-edge")},W=t.model,ee=W.manager,ae=function(Le,tt){ee.setPositionFromValue(Le,tt,t,{getLeftEdge:E,getRightEdge:O,getTopEdge:B,getBottomEdge:H,getSpectrum:C})},fe=function(Le,tt){W.value.set(tt);var Ct=g(Le);ae(Le,Ct)},Se=function(Le,tt){fe(Le,tt);var Ct=g(Le);return t.onChange(Le,Ct,tt),$.some(!0)},Fe=function(Le){ee.setToMin(Le,t)},we=function(Le){ee.setToMax(Le,t)},ze=function(Le){var tt=function(){ga(Le,t,"thumb").each(function(an){var Tt=W.value.get();t.onChoose(Le,an,Tt)})},Ct=t.mouseIsDown.get();t.mouseIsDown.set(!1),Ct&&tt()},ft=function(Le,tt){tt.stop(),t.mouseIsDown.set(!0),t.onDragStart(Le,g(Le))},ct=function(Le,tt){tt.stop(),t.onDragEnd(Le,g(Le)),ze(Le)};return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.sliderBehaviours,[Fn.config({mode:"special",focusIn:function(Le){return ga(Le,t,"spectrum").map(Fn.focusIn).map(ye)}}),rn.config({store:{mode:"manual",getValue:function(Le){return W.value.get()}}}),nu.config({channels:(d={},d[Sw()]={onReceive:ze},d)})]),events:Ca([Dt(YC(),function(Le,tt){Se(Le,tt.event.value)}),nr(function(Le,tt){var Ct=W.getInitialValue();W.value.set(Ct);var an=g(Le);ae(Le,an);var Tt=C(Le);t.onInit(Le,an,Tt,W.value.get())}),Dt(Wc(),ft),Dt(Fv(),ct),Dt(Ol(),ft),Dt(v2(),ct)]),apis:{resetToMin:Fe,resetToMax:we,setValue:fe,refresh:ae},domModification:{styles:{position:"relative"}}}},yf=_u({name:"Slider",configFields:LN,partFields:uN,factory:zN,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),aO=wn("rgb-hex-update"),_d=wn("slider-update"),uA=wn("palette-update"),TB=function(t,r){var o=yf.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=yf.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return yf.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ue({y:0})},components:[o,s],sliderBehaviours:Jt([Xn.config({})]),onChange:function(d,g,C){In(d,_d,{value:C})}})},oO="form",iO=[Xo("formBehaviours",[rn])],uO=function(t){return"<alloy.field."+t+">"},sA=function(t){var r=function(){var g=[],C=function(E,O){return g.push(E),Fw(oO,uO(E),O)};return{field:C,record:ue(g)}}(),o=t(r),s=r.record(),d=Ue(s,function(g){return Ii({name:g,pname:uO(g)})});return Uw(oO,iO,d,DB,o)},OB=function(t,r){return t.fold(function(){return sr.error(r)},sr.value)},DB=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.formBehaviours,[rn.config({store:{mode:"manual",getValue:function(o){var s=s_(o,t);return ur(s,function(d,g){return d().bind(function(C){var E=Cr.getCurrent(C);return OB(E,new Error("Cannot find a current component to extract the value from for form part '"+g+"': "+pu(C.element)))}).map(rn.getValue)})},setValue:function(o,s){Hr(s,function(d,g){ga(o,t,g).each(function(C){Cr.getCurrent(C).each(function(E){rn.setValue(E,d)})})})}}})]),apis:{getField:function(o,s){return ga(o,t,s).bind(Cr.getCurrent)}}}},Oy={getField:Ka(function(t,r,o){return t.getField(r,o)}),sketch:sA},RB=wn("valid-input"),BB=wn("invalid-input"),$B=wn("validating-input"),lA="colorcustom.rgb.",MB=function(t,r,o,s){var d=function(ee,ae){return hv.config({invalidClass:r("invalid"),notify:{onValidate:function(fe){In(fe,$B,{type:ee})},onValid:function(fe){In(fe,RB,{type:ee,value:rn.getValue(fe)})},onInvalid:function(fe){In(fe,BB,{type:ee,value:rn.getValue(fe)})}},validator:{validate:function(fe){var Se=rn.getValue(fe),Fe=ae(Se)?sr.value(!0):sr.error(t("aria.input.invalid"));return Ji.pure(Fe)},validateOnLoad:!1}})},g=function(ee,ae,fe,Se,Fe){var we=t(lA+"range"),ze=Xr.parts.label({dom:{tag:"label",innerHtml:fe,attributes:{"aria-label":Se}}}),ft=Xr.parts.field({data:Fe,factory:GC,inputAttributes:ne({type:"text"},ae==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:Jt([d(ae,ee),To.config({})]),onSetValue:function(Ct){if(hv.isInvalid(Ct)){var an=hv.run(Ct);an.get(G)}}}),ct=[ze,ft],Le=ae!=="hex"?[Xr.parts["aria-descriptor"]({text:we})]:[],tt=ct.concat(Le);return{dom:{tag:"div",attributes:{role:"presentation"}},components:tt}},C=function(ee,ae){var fe=IC(ae);return Oy.getField(ee,"hex").each(function(Se){Xn.isFocused(Se)||rn.setValue(ee,{hex:fe.value})}),fe},E=function(ee,ae){var fe=ae.red,Se=ae.green,Fe=ae.blue;rn.setValue(ee,{red:fe,green:Se,blue:Fe})},O=ra({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),B=function(ee,ae){O.getOpt(ee).each(function(fe){Wn(fe.element,"background-color","#"+ae.value)})},H=function(){var ee={red:Pn($.some(255)),green:Pn($.some(255)),blue:Pn($.some(255)),hex:Pn($.some("ffffff"))},ae=function(wt,Kt){var Cn=NC(Kt);E(wt,Cn),we(Cn)},fe=function(wt){return ee[wt].get()},Se=function(wt,Kt){ee[wt].set(Kt)},Fe=function(){return fe("red").bind(function(wt){return fe("green").bind(function(Kt){return fe("blue").map(function(Cn){return Ig(wt,Kt,Cn,1)})})})},we=function(wt){var Kt=wt.red,Cn=wt.green,Et=wt.blue;Se("red",$.some(Kt)),Se("green",$.some(Cn)),Se("blue",$.some(Et))},ze=function(wt,Kt){var Cn=Kt.event;Cn.type!=="hex"?Se(Cn.type,$.none()):s(wt)},ft=function(wt,Kt){o(wt);var Cn=HD(Kt);Se("hex",$.some(Kt));var Et=NC(Cn);E(wt,Et),we(Et),In(wt,aO,{hex:Cn}),B(wt,Cn)},ct=function(wt,Kt,Cn){var Et=parseInt(Cn,10);Se(Kt,$.some(Et)),Fe().each(function(bn){var An=C(wt,bn);In(wt,aO,{hex:An}),B(wt,An)})},Le=function(wt){return wt.type==="hex"},tt=function(wt,Kt){var Cn=Kt.event;Le(Cn)?ft(wt,Cn.value):ct(wt,Cn.type,Cn.value)},Ct=function(wt){return{label:t(lA+wt+".label"),description:t(lA+wt+".description")}},an=Ct("red"),Tt=Ct("green"),sn=Ct("blue"),Bt=Ct("hex");return bt(Oy.sketch(function(wt){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[wt.field("red",Xr.sketch(g(hT,"red",an.label,an.description,255))),wt.field("green",Xr.sketch(g(hT,"green",Tt.label,Tt.description,255))),wt.field("blue",Xr.sketch(g(hT,"blue",sn.label,sn.description,255))),wt.field("hex",Xr.sketch(g(WD,"hex",Bt.label,Bt.description,"ffffff"))),O.asSpec()],formBehaviours:Jt([hv.config({invalidClass:r("form-invalid")}),rr("rgb-form-events",[Dt(RB,tt),Dt(BB,ze),Dt($B,ze)])])}}),{apis:{updateHex:function(wt,Kt){rn.setValue(wt,{hex:Kt.value}),ae(wt,Kt),B(wt,Kt)}}})},W=zs({factory:H,name:"RgbForm",configFields:[],apis:{updateHex:function(ee,ae,fe){ee.updateHex(ae,fe)}},extraApis:{}});return W},HN=function(t,r){var o=yf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),s=yf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),d=function(B,H){var W=B.width,ee=B.height,ae=B.getContext("2d");if(ae!==null){ae.fillStyle=H,ae.fillRect(0,0,W,ee);var fe=ae.createLinearGradient(0,0,W,0);fe.addColorStop(0,"rgba(255,255,255,1)"),fe.addColorStop(1,"rgba(255,255,255,0)"),ae.fillStyle=fe,ae.fillRect(0,0,W,ee);var Se=ae.createLinearGradient(0,0,0,ee);Se.addColorStop(0,"rgba(0,0,0,0)"),Se.addColorStop(1,"rgba(0,0,0,1)"),ae.fillStyle=Se,ae.fillRect(0,0,W,ee)}},g=function(B,H){var W=B.components()[0].element.dom,ee=FC(H,100,100),ae=qD(ee);d(W,YD(ae))},C=function(B,H){var W=pT(NC(H));yf.setValue(B,{x:W.saturation,y:100-W.value})},E=function(B){var H=ue({x:0,y:0}),W=function(fe,Se,Fe){In(fe,uA,{value:Fe})},ee=function(fe,Se,Fe,we){d(Fe.element.dom,YD(JD))},ae=Jt([Cr.config({find:$.some}),Xn.config({})]);return yf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:H},rounded:!1,components:[o,s],onChange:W,onInit:ee,sliderBehaviours:ae})},O=zs({factory:E,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(B,H,W){g(H,W)},setThumb:function(B,H,W){C(H,W)}},extraApis:{}});return O},VN=function(t,r){var o=function(d){var g=MB(t,r,d.onValidHex,d.onInvalidHex),C=HN(t,r),E=function(tt){return(100-tt)/100*360},O=function(tt){return 100-tt/360*100},B={paletteRgba:Pn(JD),paletteHue:Pn(0)},H=ra(TB(t,r)),W=ra(C.sketch({})),ee=ra(g.sketch({})),ae=function(tt,Ct,an){W.getOpt(tt).each(function(Tt){C.setHue(Tt,an)})},fe=function(tt,Ct){ee.getOpt(tt).each(function(an){g.updateHex(an,Ct)})},Se=function(tt,Ct,an){H.getOpt(tt).each(function(Tt){yf.setValue(Tt,{y:O(an)})})},Fe=function(tt,Ct){W.getOpt(tt).each(function(an){C.setThumb(an,Ct)})},we=function(tt,Ct){var an=NC(tt);B.paletteRgba.set(an),B.paletteHue.set(Ct)},ze=function(tt,Ct,an,Tt){we(Ct,an),gt(Tt,function(sn){sn(tt,Ct,an)})},ft=function(){var tt=[fe];return function(Ct,an){var Tt=an.event.value,sn=B.paletteHue.get(),Bt=FC(sn,Tt.x,100-Tt.y),wt=eR(Bt);ze(Ct,wt,sn,tt)}},ct=function(){var tt=[ae,fe];return function(Ct,an){var Tt=E(an.event.value.y),sn=B.paletteRgba.get(),Bt=pT(sn),wt=FC(Tt,Bt.saturation,Bt.value),Kt=eR(wt);ze(Ct,Kt,Tt,tt)}},Le=function(){var tt=[ae,Se,Fe];return function(Ct,an){var Tt=an.event.hex,sn=HP(Tt);ze(Ct,Tt,sn.hue,tt)}};return{uid:d.uid,dom:d.dom,components:[W.asSpec(),H.asSpec(),ee.asSpec()],behaviours:Jt([rr("colour-picker-events",[Dt(aO,Le()),Dt(uA,ft()),Dt(_d,ct())]),Cr.config({find:function(tt){return ee.getOpt(tt)}}),Fn.config({mode:"acyclic"})])}},s=zs({name:"ColourPicker",configFields:[_t("dom"),Ve("onValidHex",G),Ve("onInvalidHex",G)],factory:o});return s},UN=function(){return Cr.config({find:$.some})},cA=function(t){return Cr.config({find:t.getOpt})},WN=function(t){return Cr.config({find:function(r){return oi(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},pv={self:UN,memento:cA,childAt:WN},PB={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},IB=function(t){return PB[t]},jN=function(t){return IB(t)},GN=function(t){var r=function(C){return"tox-"+C},o=VN(jN,r),s=function(C){In(C,mv,{name:"hex-valid",value:!0})},d=function(C){In(C,mv,{name:"hex-valid",value:!1})},g=ra(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:d}));return{dom:{tag:"div"},components:[g.asSpec()],behaviours:Jt([rn.config({store:{mode:"manual",getValue:function(C){var E=g.get(C),O=Cr.getCurrent(E),B=O.bind(function(H){var W=rn.getValue(H);return W.hex});return B.map(function(H){return"#"+H}).getOr("")},setValue:function(C,E){var O=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,B=O.exec(E),H=g.get(C),W=Cr.getCurrent(H);W.fold(function(){console.log("Can not find form")},function(ee){rn.setValue(ee,{hex:$.from(B[1]).getOr("")}),Oy.getField(ee,"hex").each(function(ae){Vr(ae,zd())})})}}}),pv.self()])}},fA=tinymce.util.Tools.resolve("tinymce.Resource"),qN=function(t){return Dr(t,"init")},KN=function(t){var r=fo(),o=ra({dom:{tag:t.tag}}),s=fo();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Jt([rr("custom-editor-events",[nr(function(d){o.getOpt(d).each(function(g){(qN(t)?t.init(g.element.dom):fA.load(t.scriptId,t.scriptUrl).then(function(C){return C(g.element.dom,t.settings)})).then(function(C){s.on(function(E){C.setValue(E)}),s.clear(),r.set(C)})})})]),rn.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return s.get().getOr("")},function(d){return d.getValue()})},setValue:function(d,g){r.get().fold(function(){s.set(g)},function(C){return C.setValue(g)})}}}),pv.self()]),components:[o.asSpec()]}},Vg=tinymce.util.Tools.resolve("tinymce.util.Tools"),XN=Bn([Ve("preprocess",Ee),Ve("postprocess",Ee)]),vA=function(t,r){var o=ia("RepresentingConfigs.memento processors",XN,r);return rn.config({store:{mode:"manual",getValue:function(s){var d=t.get(s),g=rn.getValue(d);return o.postprocess(g)},setValue:function(s,d){var g=o.preprocess(d),C=t.get(s);rn.setValue(C,g)}}})},dA=function(t,r,o){return rn.config(bt({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(s){return{store:{initialValue:s}}}).getOr({})))},sO=function(t,r,o){return dA(t,function(s){return r(s.element)},function(s,d){return o(s.element,d)})},YN=function(t){return sO(t,Xc,Rh)},mA=function(t){return sO(t,jc,Zf)},JN=function(t){return rn.config({store:{mode:"memory",initialValue:t}})},Bm={memento:vA,withElement:sO,withComp:dA,domValue:YN,domHtml:mA,memory:JN},NB="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",ZN=function(t,r){var o=Vg.explode(r.getSetting("images_file_types",NB,"string")),s=function(d){return Sn(o,function(g){return Un(d.name.toLowerCase(),"."+g.toLowerCase())})};return Ae(fa(t),s)},QN=function(t,r){var o=function(W,ee){ee.stop()},s=function(W){return function(ee,ae){gt(W,function(fe){fe(ee,ae)})}},d=function(W,ee){if(!Mn.isDisabled(W)){var ae=ee.event.raw;C(W,ae.dataTransfer.files)}},g=function(W,ee){var ae=ee.event.raw.target;C(W,ae.files)},C=function(W,ee){rn.setValue(W,ZN(ee,r)),In(W,zl,{name:t.name})},E=ra({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Jt([rr("input-file-events",[Wd(xh()),Wd(zv())])])}),O=function(W){return{uid:W.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Jt([Bm.memory([]),pv.self(),Mn.config({}),Br.config({toggleClass:"dragenter",toggleOnExecute:!1}),rr("dropzone-events",[Dt("dragenter",s([o,Br.toggle])),Dt("dragleave",s([o,Br.toggle])),Dt("dragover",o),Dt("drop",s([o,d])),Dt(Sh(),g)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},ms.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[E.asSpec()],action:function(ee){var ae=E.get(ee);ae.element.dom.click()},buttonBehaviours:Jt([To.config({}),mf.button(r.isDisabled),ti()])})]}]}},B=t.label.map(function(W){return Tm(W,r)}),H=Xr.parts.field({factory:{sketch:O}});return WC(B,H,["tox-form__group--stretched"],[])},FB=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:Ue(t.items,r.interpreter)}},hA=wn("alloy-fake-before-tabstop"),lO=wn("alloy-fake-after-tabstop"),cO=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Jt([Xn.config({ignore:!0}),To.config({})])}},fO=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[cO([hA]),t,cO([lO])],behaviours:Jt([pv.childAt(1)])}},vO=function(t,r){In(t,y0(),{raw:{which:9,shiftKey:r}})},LB=function(t,r){var o=r.element;bu(o,hA)?vO(t,!0):bu(o,lO)&&vO(t,!1)},uS=function(t){return HC(t,["."+hA,"."+lO].join(","),pe)},eF=!(zn().browser.isIE()||zn().browser.isEdge()),tF=function(t){var r=Pn("");return{getValue:function(o){return r.get()},setValue:function(o,s){if(t)or(o.element,"srcdoc",s);else{or(o.element,"src","javascript:''");var d=o.element.dom.contentWindow.document;d.open(),d.write(s),d.close()}r.set(s)}}},zB=function(t,r){var o=eF&&t.sandboxed,s=ne(ne({},t.label.map(function(O){return{title:O}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),d=tF(o),g=t.label.map(function(O){return Tm(O,r)}),C=function(O){return fO({uid:O.uid,dom:{tag:"iframe",attributes:s},behaviours:Jt([To.config({}),Xn.config({}),Bm.withComp($.none(),d.getValue,d.setValue)])})},E=Xr.parts.field({factory:{sketch:C}});return WC(g,E,["tox-form__group--stretched"],[])},Dy=function(t,r){return nF(document.createElement("canvas"),t,r)},HB=function(t){var r=Dy(t.width,t.height),o=$m(r);return o.drawImage(t,0,0),r},$m=function(t){return t.getContext("2d")},nF=function(t,r,o){return t.width=r,t.height=o,t},sS=function(t){return t.naturalWidth||t.width},dO=function(t){return t.naturalHeight||t.height},rF=function(t){return new Om(function(r,o){var s=URL.createObjectURL(t),d=new Image,g=function(){d.removeEventListener("load",C),d.removeEventListener("error",E)},C=function(){g(),r(d)},E=function(){g(),o("Unable to load data of type "+t.type+": "+s)};d.addEventListener("load",C),d.addEventListener("error",E),d.src=s,d.complete&&setTimeout(C,0)})},aF=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return $.none();for(var s=o[1],d=r[1],g=1024,C=atob(d),E=C.length,O=Math.ceil(E/g),B=new Array(O),H=0;H<O;++H){for(var W=H*g,ee=Math.min(W+g,E),ae=new Array(ee-W),fe=W,Se=0;fe<ee;++Se,++fe)ae[Se]=C[fe].charCodeAt(0);B[H]=new Uint8Array(ae)}return $.some(new Blob(B,{type:s}))},oF=function(t){return new Om(function(r,o){aF(t).fold(function(){o("uri is not base64: "+t)},r)})},VB=function(t,r,o){return r=r||"image/png",P(HTMLCanvasElement.prototype.toBlob)?new Om(function(s,d){t.toBlob(function(g){g?s(g):d()},r,o)}):oF(t.toDataURL(r,o))},iF=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},uF=function(t){return rF(t).then(function(r){sF(r);var o=Dy(sS(r),dO(r)),s=$m(o);return s.drawImage(r,0,0),o})},UB=function(t){return new Om(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},sF=function(t){URL.revokeObjectURL(t.src)},WB=function(t,r,o){var s=r.type,d=ue(s),g=function(){return Om.resolve(r)},C=ue(o),E=function(){return o.split(",")[1]},O=function(ee,ae){return t.then(function(fe){return VB(fe,ee,ae)})},B=function(ee,ae){return t.then(function(fe){return iF(fe,ee,ae)})},H=function(ee,ae){return B(ee,ae).then(function(fe){return fe.split(",")[1]})},W=function(){return t.then(HB)};return{getType:d,toBlob:g,toDataURL:C,toBase64:E,toAdjustedBlob:O,toAdjustedDataURL:B,toAdjustedBase64:H,toCanvas:W}},jB=function(t){return UB(t).then(function(r){return WB(uF(t),t,r)})},P1=function(t,r){return VB(t,r).then(function(o){return WB(Om.resolve(t),o,t.toDataURL())})},lF=function(t){return jB(t)},lS=function(t,r,o){var s=typeof t=="string"?parseFloat(t):t;return s>o?s=o:s<r&&(s=r),s},mO=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},hO=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],gO=function(t,r){for(var o=[],s=new Array(25),d,g=0;g<5;g++){for(var C=0;C<5;C++)o[C]=r[C+g*5];for(var C=0;C<5;C++){d=0;for(var E=0;E<5;E++)d+=t[C+E*5]*o[E];s[C+g*5]=d}}return s},GB=function(t,r){var o;return r=lS(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=hO[r]:o=hO[Math.floor(r)]*(1-o)+hO[Math.floor(r)+1]*o,o=o*127+127),gO(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},qB=function(t,r){return r=lS(255*r,-255,255),gO(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},KB=function(t,r,o,s){return r=lS(r,0,2),o=lS(o,0,2),s=lS(s,0,2),gO(t,[r,0,0,0,0,0,o,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},pO=function(t,r){return t.toCanvas().then(function(o){return XB(o,t.getType(),r)})},XB=function(t,r,o){var s=$m(t),d=function(C,E){for(var O,B,H,W,ee=C.data,ae=E[0],fe=E[1],Se=E[2],Fe=E[3],we=E[4],ze=E[5],ft=E[6],ct=E[7],Le=E[8],tt=E[9],Ct=E[10],an=E[11],Tt=E[12],sn=E[13],Bt=E[14],wt=E[15],Kt=E[16],Cn=E[17],Et=E[18],bn=E[19],An=0;An<ee.length;An+=4)O=ee[An],B=ee[An+1],H=ee[An+2],W=ee[An+3],ee[An]=O*ae+B*fe+H*Se+W*Fe+we,ee[An+1]=O*ze+B*ft+H*ct+W*Le+tt,ee[An+2]=O*Ct+B*an+H*Tt+W*sn+Bt,ee[An+3]=O*wt+B*Kt+H*Cn+W*Et+bn;return C},g=d(s.getImageData(0,0,t.width,t.height),o);return s.putImageData(g,0,0),P1(t,r)},YB=function(t,r){return t.toCanvas().then(function(o){return cF(o,t.getType(),r)})},cF=function(t,r,o){var s=$m(t),d=function(E,O,B){for(var H=function(Kt,Cn,Et){return Kt>Et?Kt=Et:Kt<Cn&&(Kt=Cn),Kt},W=Math.round(Math.sqrt(B.length)),ee=Math.floor(W/2),ae=E.data,fe=O.data,Se=E.width,Fe=E.height,we=0;we<Fe;we++)for(var ze=0;ze<Se;ze++){for(var ft=0,ct=0,Le=0,tt=0;tt<W;tt++)for(var Ct=0;Ct<W;Ct++){var an=H(ze+Ct-ee,0,Se-1),Tt=H(we+tt-ee,0,Fe-1),sn=(Tt*Se+an)*4,Bt=B[tt*W+Ct];ft+=ae[sn]*Bt,ct+=ae[sn+1]*Bt,Le+=ae[sn+2]*Bt}var wt=(we*Se+ze)*4;fe[wt]=H(ft,0,255),fe[wt+1]=H(ct,0,255),fe[wt+2]=H(Le,0,255)}return O},g=s.getImageData(0,0,t.width,t.height),C=s.getImageData(0,0,t.width,t.height);return C=d(g,C,o),s.putImageData(C,0,0),P1(t,r)},fF=function(t){var r=function(o,s,d){for(var g=$m(o),C=new Array(256),E=function(H,W){for(var ee=H.data,ae=0;ae<ee.length;ae+=4)ee[ae]=W[ee[ae]],ee[ae+1]=W[ee[ae+1]],ee[ae+2]=W[ee[ae+2]];return H},O=0;O<C.length;O++)C[O]=t(O,d);var B=E(g.getImageData(0,0,o.width,o.height),C);return g.putImageData(B,0,0),P1(o,s)};return function(o,s){return o.toCanvas().then(function(d){return r(d,o.getType(),s)})}},JB=function(t){return function(r,o){return pO(r,t(mO(),o))}},vF=function(t){return function(r){return pO(r,t)}},dF=function(t){return function(r){return YB(r,t)}},mF=vF([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),ZB=JB(qB),hF=JB(GB),gF=function(t,r,o,s){return pO(t,KB(mO(),r,o,s))},pF=dF([0,-1,0,-1,5,-1,0,-1,0]),Mr=fF(function(t,r){return Math.pow(t/255,1-r)*255}),I1=function(t,r,o){var s=sS(t),d=dO(t),g=r/s,C=o/d,E=!1;(g<.5||g>2)&&(g=g<.5?.5:2,E=!0),(C<.5||C>2)&&(C=C<.5?.5:2,E=!0);var O=QB(t,g,C);return E?O.then(function(B){return I1(B,r,o)}):O},QB=function(t,r,o){return new Om(function(s){var d=sS(t),g=dO(t),C=Math.floor(d*r),E=Math.floor(g*o),O=Dy(C,E),B=$m(O);B.drawImage(t,0,0,d,g,0,0,C,E),s(O)})},bO=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),s=Math.round(t*o);return Math.ceil(s/o)},e$=function(t,r){return t.toCanvas().then(function(o){return bF(o,t.getType(),r)})},bF=function(t,r,o){var s=o<0?360+o:o,d=s*Math.PI/180,g=t.width,C=t.height,E=Math.sin(d),O=Math.cos(d),B=bO(Math.abs(g*O)+Math.abs(C*E)),H=bO(Math.abs(g*E)+Math.abs(C*O)),W=Dy(B,H),ee=$m(W);return ee.translate(B/2,H/2),ee.rotate(d),ee.drawImage(t,-g/2,-C/2),P1(W,r)},yF=function(t,r){return t.toCanvas().then(function(o){return wF(o,t.getType(),r)})},wF=function(t,r,o){var s=Dy(t.width,t.height),d=$m(s);return o==="v"?(d.scale(1,-1),d.drawImage(t,0,-s.height)):(d.scale(-1,1),d.drawImage(t,-s.width,0)),P1(s,r)},t$=function(t,r,o,s,d){return t.toCanvas().then(function(g){return CF(g,t.getType(),r,o,s,d)})},CF=function(t,r,o,s,d,g){var C=Dy(d,g),E=$m(C);return E.drawImage(t,-o,-s),P1(C,r)},SF=function(t,r,o){return t.toCanvas().then(function(s){return I1(s,r,o).then(function(d){return P1(d,t.getType())})})},xF=function(t){return mF(t)},_F=function(t){return pF(t)},kF=function(t,r){return Mr(t,r)},AF=function(t,r,o,s){return gF(t,r,o,s)},EF=function(t,r){return ZB(t,r)},TF=function(t,r){return hF(t,r)},n$=function(t,r){return yF(t,r)},OF=function(t,r,o,s,d){return t$(t,r,o,s,d)},DF=function(t,r,o){return SF(t,r,o)},yO=function(t,r){return e$(t,r)},r$=function(t,r,o){return dv(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},r)},gA=function(t,r){return r$(t,r,[])},a$=function(t,r){return r$(t,r,[Zn.config({})])},wO=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:Jt([Zn.config({})])}},CO,o$=wn("toolbar.button.execute"),i$=function(t){return cs(function(r,o){xy(t,r)(function(s){In(r,o$,{buttonApi:s}),t.onAction(s)})})},u$=(CO={},CO[Rs()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],CO),N1=wn("update-menu-text"),s$=wn("update-menu-icon"),pA=function(t,r,o){var s=Pn(G),d=t.text.map(function(W){return ra(wO(W,r,o.providers))}),g=t.icon.map(function(W){return ra(a$(W,o.providers.icons))}),C=function(W,ee){var ae=rn.getValue(W);return Xn.focus(ae),In(ae,"keydown",{raw:ee.event.raw}),gf.close(ae),$.some(!0)},E=t.role.fold(function(){return{}},function(W){return{role:W}}),O=t.tooltip.fold(function(){return{}},function(W){var ee=o.providers.translate(W);return{title:ee,"aria-label":ee}}),B=dv("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},o.providers.icons),H=ra(gf.sketch(ne(ne(ne({},t.uid?{uid:t.uid}:{}),E),{dom:{tag:"button",classes:[r,r+"--select"].concat(Ue(t.classes,function(W){return r+"--"+W})),attributes:ne({},O)},components:km([g.map(function(W){return W.asSpec()}),d.map(function(W){return W.asSpec()}),$.some(B)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Jt(xe(xe([],t.dropdownBehaviours,!0),[mf.button(function(){return t.disabled||o.providers.isDisabled()}),ti(),KC.config({}),Zn.config({}),rr("dropdown-events",[x1(t,s),_1(t,s)]),rr("menubutton-update-display-text",[Dt(N1,function(W,ee){d.bind(function(ae){return ae.getOpt(W)}).each(function(ae){Zn.set(ae,[Ri(o.providers.translate(ee.event.text))])})}),Dt(s$,function(W,ee){g.bind(function(ae){return ae.getOpt(W)}).each(function(ae){Zn.set(ae,[a$(ee.event.icon,o.providers.icons)])})})])],!1)),eventOrder:bt(u$,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Jt([Fn.config({mode:"special",onLeft:C,onRight:C})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:C1(!1,t.columns,t.presets)},fetch:function(W){return Ji.nu(ke(t.fetch,W))}})));return H.asSpec()},l$=function(t){return S(t)},bA=function(t){return t.type==="separator"},RF=function(t){return Dr(t,"getSubmenuItems")},BF={type:"separator"},$F=function(t,r){var o=Qe(t,function(s,d){return l$(d)?d===""?s:d==="|"?s.length>0&&!bA(s[s.length-1])?s.concat([BF]):s:Dr(r,d.toLowerCase())?s.concat([r[d.toLowerCase()]]):s:s.concat([d])},[]);return o.length>0&&bA(o[o.length-1])&&o.pop(),o},MF=function(t,r){var o=t.getSubmenuItems(),s=Ry(o,r),d=bt(s.menus,Vc(t.value,s.items)),g=bt(s.expansions,Vc(t.value,t.value));return{item:t,menus:d,expansions:g}},PF=function(t,r){return RF(t)?MF(t,r):{item:t,menus:{},expansions:{}}},IF=function(t){if(bA(t))return t;var r=En(t,"value").getOrThunk(function(){return wn("generated-menu-item")});return bt({value:r},t)},Ry=function(t,r){var o=$F(S(t)?t.split(" "):t,r);return Ye(o,function(s,d){var g=IF(d),C=PF(g,r);return{menus:bt(s.menus,C.menus),items:[C.item].concat(s.items),expansions:bt(s.expansions,C.expansions)}},{menus:{},expansions:{},items:[]})},By=function(t,r,o,s){var d=wn("primary-menu"),g=Ry(t,o.shared.providers.menuItems());if(g.items.length===0)return $.none();var C=wR(d,g.items,r,o,s),E=ur(g.menus,function(B,H){return wR(H,B,r,o,!1)}),O=bt(E,Vc(d,C));return $.from(ca.tieredData(d,O,g.expansions))},SO=function(t){return{isDisabled:function(){return Mn.isDisabled(t)},setDisabled:function(r){return Mn.set(t,r)},setActive:function(r){var o=t.element;r?(Wo(o,"tox-tbtn--enabled"),or(o,"aria-pressed",!0)):(Po(o,"tox-tbtn--enabled"),ii(o,"aria-pressed"))},isActive:function(){return bu(t.element,"tox-tbtn--enabled")}}},xO=function(t,r,o,s){return pA({text:t.text,icon:t.icon,tooltip:t.tooltip,role:s,fetch:function(d,g){t.fetch(function(C){g(By(C,uu.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:SO,columns:1,presets:"normal",classes:[],dropdownBehaviours:[To.config({})]},r,o.shared)},NF=function(t,r,o){var s=function(g){return function(C){var E=!C.isActive();C.setActive(E),g.storage.set(E),o.shared.getSink().each(function(O){r().getOpt(O).each(function(B){vc(B.element),In(B,mv,{name:g.name,value:g.storage.get()})})})}},d=function(g){return function(C){C.setActive(g.storage.get())}};return function(g){g(Ue(t,function(C){var E=C.text.fold(function(){return{}},function(O){return{text:O}});return ne(ne({type:C.type,active:!1},E),{onAction:s(C),onSetup:d(C)})}))}},c$=function(t,r,o,s,d,g){o===void 0&&(o=[]);var C=r.fold(function(){return{}},function(B){return{action:B}}),E=ne({buttonBehaviours:Jt([mf.button(function(){return t.disabled||g.isDisabled()}),ti(),To.config({}),rr("button press",[E0("click"),E0("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},C),O=bt(E,{dom:s});return bt(O,{components:d})},f$=function(t,r,o,s){s===void 0&&(s=[]);var d=t.tooltip.map(function(O){return{"aria-label":o.translate(O),title:o.translate(O)}}).getOr({}),g={tag:"button",classes:["tox-tbtn"],attributes:d},C=t.icon.map(function(O){return gA(O,o.icons)}),E=km([C]);return c$(t,r,s,g,E,o)},_O=function(t,r,o,s){s===void 0&&(s=[]);var d=f$(t,$.some(r),o,s);return ms.sketch(d)},kO=function(t,r,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=o.translate(t.text),C=t.icon?t.icon.map(function(W){return gA(W,o.icons)}):$.none(),E=C.isSome()?km([C]):[],O=C.isSome()?{}:{innerHtml:g},B=xe(xe(xe(xe([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),C.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),d,!0),H=ne(ne({tag:"button",classes:B},O),{attributes:{title:g}});return c$(t,r,s,H,E,o)},AO=function(t,r,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=kO(t,$.some(r),o,s,d);return ms.sketch(g)},cS=function(t,r){return function(o){r==="custom"?In(o,mv,{name:t,value:{}}):r==="submit"?Vr(o,cl):r==="cancel"?Vr(o,A1):console.error("Unknown button type: ",r)}},yA=function(t,r){return r==="menu"},FF=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},wA=function(t,r,o){if(yA(t,r)){var s=function(){return C},d=t,g=ne(ne({},t),{onSetup:function(B){return B.setDisabled(t.disabled),G},fetch:NF(d.items,s,o)}),C=ra(xO(g,"tox-tbtn",o,$.none()));return C.asSpec()}else if(FF(t,r)){var E=cS(t.name,r),O=ne(ne({},t),{borderless:!1});return AO(O,E,o.shared.providers,[])}else console.error("Unknown footer button type: ",r)},LF=function(t,r){var o=cS(t.name,"custom");return RI($.none(),Xr.parts.field(ne({factory:ms},kO(t,$.some(o),r,[Bm.memory(""),pv.self()]))))},zF=ue([Ve("field1Name","field1"),Ve("field2Name","field2"),wu("onLockedChange"),Qd(["lockClass"]),Ve("locked",!1),il.field("coupledFieldBehaviours",[Cr,rn])]),EO=function(t,r,o){return ga(t,r,o).bind(Cr.getCurrent)},CA=function(t,r){return Ii({factory:Xr,name:t,overrides:function(o){return{fieldBehaviours:Jt([rr("coupled-input-behaviour",[Dt(zd(),function(s){EO(s,o,r).each(function(d){ga(s,o,"lock").each(function(g){Br.isOn(g)&&o.onLockedChange(s,d,g)})})})])])}}})},v$=ue([CA("field1","field2"),CA("field2","field1"),Ii({factory:ms,schema:[_t("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Jt([Br.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),HF=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:il.augment(t.coupledFieldBehaviours,[Cr.config({find:$.some}),rn.config({store:{mode:"manual",getValue:function(d){var g,C=Fb(d,t,["field1","field2"]);return g={},g[t.field1Name]=rn.getValue(C.field1()),g[t.field2Name]=rn.getValue(C.field2()),g},setValue:function(d,g){var C=Fb(d,t,["field1","field2"]);uo(g,t.field1Name)&&rn.setValue(C.field1(),g[t.field1Name]),uo(g,t.field2Name)&&rn.setValue(C.field2(),g[t.field2Name])}}})]),apis:{getField1:function(d){return ga(d,t,"field1")},getField2:function(d){return ga(d,t,"field2")},getLock:function(d){return ga(d,t,"lock")}}}},Vs=_u({name:"FormCoupledInputs",configFields:zF(),partFields:v$(),factory:HF,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),VF=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(d){return d in r?r[d]:1},s=t.value.toFixed(o(t.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+t.unit},TO=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var s=parseFloat(o[1]),d=o[2];return sr.value({value:s,unit:d})}else return sr.error(t)},OO=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(d){return Dr(o,d)};return t.unit===r?$.some(t.value):s(t.unit)&&s(r)?o[t.unit]===o[r]?$.some(t.value):$.some(t.value/o[t.unit]*o[r]):$.none()},DO=function(t){return $.none()},fS=function(t,r){return function(o){return OO(o,r).map(function(s){return{value:s*t,unit:r}})}},UF=function(t,r){var o=TO(t).toOptional(),s=TO(r).toOptional();return Gs(o,s,function(d,g){return OO(d,g.unit).map(function(C){return g.value/C}).map(function(C){return fS(C,g.unit)}).getOr(DO)}).getOr(DO)},d$=function(t,r){var o=DO,s=wn("ratio-event"),d=function(W){return dv(W,{tag:"span",classes:["tox-icon","tox-lock-icon__"+W]},r.icons)},g=Vs.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[d("lock"),d("unlock")],buttonBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),To.config({})])}),C=function(W){return{dom:{tag:"div",classes:["tox-form__group"]},components:W}},E=function(W){return Xr.parts.field({factory:GC,inputClasses:["tox-textfield"],inputBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),To.config({}),rr("size-input-events",[Dt(tl(),function(ee,ae){In(ee,s,{isField1:W})}),Dt(Sh(),function(ee,ae){In(ee,zl,{name:t.name})})])]),selectOnFocus:!1})},O=function(W){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(W)}}},B=Vs.parts.field1(C([Xr.parts.label(O("Width")),E(!0)])),H=Vs.parts.field2(C([Xr.parts.label(O("Height")),E(!1)]));return Vs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[B,H,C([O("&nbsp;"),g])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(W,ee,ae){TO(rn.getValue(W)).each(function(fe){o(fe).each(function(Se){rn.setValue(ee,VF(Se))})})},coupledFieldBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(W){Vs.getField1(W).bind(Xr.getField).each(Mn.disable),Vs.getField2(W).bind(Xr.getField).each(Mn.disable),Vs.getLock(W).each(Mn.disable)},onEnabled:function(W){Vs.getField1(W).bind(Xr.getField).each(Mn.enable),Vs.getField2(W).bind(Xr.getField).each(Mn.enable),Vs.getLock(W).each(Mn.enable)}}),ti(),rr("size-input-events2",[Dt(s,function(W,ee){var ae=ee.event.isField1,fe=ae?Vs.getField1(W):Vs.getField2(W),Se=ae?Vs.getField2(W):Vs.getField1(W),Fe=fe.map(rn.getValue).getOr(""),we=Se.map(rn.getValue).getOr("");o=UF(Fe,we)})])])})},WF=ue(wn("undo")),jF=ue(wn("redo")),m$=ue(wn("zoom")),GF=ue(wn("back")),qF=ue(wn("apply")),KF=ue(wn("swap")),XF=ue(wn("transform")),YF=ue(wn("temp-transform")),h$=ue(wn("transform-apply")),Au={undo:WF,redo:jF,zoom:m$,back:GF,apply:qF,swap:KF,transform:XF,tempTransform:YF,transformApply:h$},JF=ue("save-state"),ZF=ue("disable"),g$=ue("enable"),gs={formActionEvent:mv,saveState:JF,disable:ZF,enable:g$},QF=function(t,r){var o=function(dn,cr,ua,Ya){return ra(AO({name:dn,text:dn,disabled:ua,primary:Ya,icon:$.none(),borderless:!1},cr,r))},s=function(dn,cr,ua,Ya){return ra(_O({name:dn,icon:$.some(dn),tooltip:$.some(cr),disabled:Ya,primary:!1,borderless:!1},ua,r))},d=function(dn,cr){dn.map(function(ua){var Ya=ua.get(cr);Ya.hasConfigured(Mn)&&Mn.disable(Ya)})},g=function(dn,cr){dn.map(function(ua){var Ya=ua.get(cr);Ya.hasConfigured(Mn)&&Mn.enable(Ya)})},C={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},E=G,O=function(dn,cr,ua){In(dn,cr,ua)},B=function(dn){return Vr(dn,gs.disable())},H=function(dn){return Vr(dn,gs.enable())},W=function(dn,cr){B(dn),O(dn,Au.transform(),{transform:cr}),H(dn)},ee=function(dn,cr){B(dn),O(dn,Au.tempTransform(),{transform:cr}),H(dn)},ae=function(dn){return function(){_v.getOpt(dn).each(function(cr){Zn.set(cr,[Jg])})}},fe=function(dn,cr){B(dn),O(dn,Au.transformApply(),{transform:cr,swap:ae(dn)}),H(dn)},Se=function(){return o("Back",function(dn){return O(dn,Au.back(),{swap:ae(dn)})},!1,!1)},Fe=function(){return ra({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Jt([Mn.config({})])})},we=function(){return o("Apply",function(dn){return O(dn,Au.apply(),{swap:ae(dn)})},!0,!0)},ze=function(){return function(dn){var cr=t.getRect();return OF(dn,cr.x,cr.y,cr.w,cr.h)}},ft=[Se(),Fe(),o("Apply",function(dn){var cr=ze();fe(dn,cr),t.hideCrop()},!1,!0)],ct=ku.sketch({dom:C,components:ft.map(function(dn){return dn.asSpec()}),containerBehaviours:Jt([rr("image-tools-crop-buttons-events",[Dt(gs.disable(),function(dn,cr){d(ft,dn)}),Dt(gs.enable(),function(dn,cr){g(ft,dn)})])])}),Le=ra(d$({name:"size",label:$.none(),constrain:!0,disabled:!1},r)),tt=function(dn,cr){return function(ua){return DF(ua,dn,cr)}},Ct=[Se(),Fe(),Le,Fe(),o("Apply",function(dn){Le.getOpt(dn).each(function(cr){var ua=rn.getValue(cr),Ya=parseInt(ua.width,10),ws=parseInt(ua.height,10),Xu=tt(Ya,ws);fe(dn,Xu)})},!1,!0)],an=ku.sketch({dom:C,components:Ct.map(function(dn){return dn.asSpec()}),containerBehaviours:Jt([rr("image-tools-resize-buttons-events",[Dt(gs.disable(),function(dn,cr){d(Ct,dn)}),Dt(gs.enable(),function(dn,cr){g(Ct,dn)})])])}),Tt=function(dn,cr){return function(ua){return dn(ua,cr)}},sn=Tt(n$,"h"),Bt=Tt(n$,"v"),wt=Tt(yO,-90),Kt=Tt(yO,90),Cn=function(dn,cr){ee(dn,cr)},Et=[Se(),Fe(),s("flip-horizontally","Flip horizontally",function(dn){Cn(dn,sn)},!1),s("flip-vertically","Flip vertically",function(dn){Cn(dn,Bt)},!1),s("rotate-left","Rotate counterclockwise",function(dn){Cn(dn,wt)},!1),s("rotate-right","Rotate clockwise",function(dn){Cn(dn,Kt)},!1),Fe(),we()],bn=ku.sketch({dom:C,components:Et.map(function(dn){return dn.asSpec()}),containerBehaviours:Jt([rr("image-tools-fliprotate-buttons-events",[Dt(gs.disable(),function(dn,cr){d(Et,dn)}),Dt(gs.enable(),function(dn,cr){g(Et,dn)})])])}),An=function(dn,cr,ua,Ya,ws){var Xu=yf.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(dn)}}),dl=yf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),Tc=yf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ra(yf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:ua,maxX:ws,getInitialValue:ue({x:Ya})},components:[Xu,dl,Tc],sliderBehaviours:Jt([Xn.config({})]),onChoose:cr}))},_r=function(dn,cr,ua,Ya,ws){var Xu=function(dl,Tc,Hy){var ES=Tt(cr,Hy.x/100);W(dl,ES)};return An(dn,Xu,ua,Ya,ws)},aa=function(dn,cr,ua,Ya,ws){return[Se(),_r(dn,cr,ua,Ya,ws),we()]},Pa=function(dn,cr,ua,Ya,ws){var Xu=aa(dn,cr,ua,Ya,ws);return ku.sketch({dom:C,components:Xu.map(function(dl){return dl.asSpec()}),containerBehaviours:Jt([rr("image-tools-filter-panel-buttons-events",[Dt(gs.disable(),function(dl,Tc){d(Xu,dl)}),Dt(gs.enable(),function(dl,Tc){g(Xu,dl)})])])})},oo=[Se(),Fe(),we()],vl=ku.sketch({dom:C,components:oo.map(function(dn){return dn.asSpec()})}),Tu=Pa("Brightness",EF,-100,0,100),ZA=Pa("Contrast",TF,-100,0,100),pi=Pa("Gamma",kF,-100,0,100),q1=function(dn,cr,ua){return function(Ya){return AF(Ya,dn,cr,ua)}},K1=function(dn){var cr=function(ua,Ya,ws){var Xu=_S.getOpt(ua),dl=kS.getOpt(ua),Tc=X1.getOpt(ua);Xu.each(function(Hy){dl.each(function(ES){Tc.each(function(Vy){var W7=rn.getValue(Hy).x/100,j7=rn.getValue(Vy).x/100,J1=rn.getValue(ES).x/100,Uy=q1(W7,j7,J1);W(ua,Uy)})})})};return An(dn,cr,0,100,200)},_S=K1("R"),X1=K1("G"),kS=K1("B"),ys=[Se(),_S,X1,kS,we()],xv=ku.sketch({dom:C,components:ys.map(function(dn){return dn.asSpec()})}),Ku=function(dn,cr,ua){return function(Ya){var ws=function(){_v.getOpt(Ya).each(function(Xu){Zn.set(Xu,[dn]),ua(Xu)})};O(Ya,Au.swap(),{transform:cr,swap:ws})}},AS=function(dn){t.showCrop()},Yg=function(dn){Le.getOpt(dn).each(function(cr){var ua=t.getMeasurements(),Ya=ua.width,ws=ua.height;rn.setValue(cr,{width:Ya,height:ws})})},zy=$.some(_F),bi=$.some(xF),Fm=[s("crop","Crop",Ku(ct,$.none(),AS),!1),s("resize","Resize",Ku(an,$.none(),Yg),!1),s("orientation","Orientation",Ku(bn,$.none(),E),!1),s("brightness","Brightness",Ku(Tu,$.none(),E),!1),s("sharpen","Sharpen",Ku(vl,zy,E),!1),s("contrast","Contrast",Ku(ZA,$.none(),E),!1),s("color-levels","Color levels",Ku(xv,$.none(),E),!1),s("gamma","Gamma",Ku(pi,$.none(),E),!1),s("invert","Invert",Ku(vl,bi,E),!1)],Jg=ku.sketch({dom:C,components:Fm.map(function(dn){return dn.asSpec()})}),Y1=ku.sketch({dom:{tag:"div"},components:[Jg],containerBehaviours:Jt([Zn.config({})])}),_v=ra(Y1),Zg=function(dn){return _v.getOpt(dn).map(function(cr){var ua=cr.components()[0];return ua.components()[ua.components().length-1]})};return{memContainer:_v,getApplyButton:Zg}},p$=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Hl=tinymce.util.Tools.resolve("tinymce.util.Observable"),$y=tinymce.util.Tools.resolve("tinymce.util.VK"),RO=function(t){var r=Math.max,o=t.documentElement,s=t.body,d=r(o.scrollWidth,s.scrollWidth),g=r(o.clientWidth,s.clientWidth),C=r(o.offsetWidth,s.offsetWidth),E=r(o.scrollHeight,s.scrollHeight),O=r(o.clientHeight,s.clientHeight),B=r(o.offsetHeight,s.offsetHeight);return{width:d<C?g:d,height:E<B?O:E}},b$=function(t){return V(t.changedTouches)},SA=function(t){if(b$(t))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function xA(t,r){var o,s,d,g,C=[],E=[],O=(o=r.document)!==null&&o!==void 0?o:document,B=(s=r.root)!==null&&s!==void 0?s:O,H=un.fromDom(O),W,ee,ae,fe=un.fromDom(B.getElementById((d=r.handle)!==null&&d!==void 0?d:t)),Se=function(ft){var ct=ft.raw,Le=RO(O);SA(ct),ft.prevent(),W=ct.button,ee=ct.screenX,ae=ct.screenY;var tt=eo(fe,"cursor");g=un.fromTag("div",O),rs(g,{position:"absolute",top:"0",left:"0",width:Le.width+"px",height:Le.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:tt}),Ui(_o(H),g),E.push(yo(H,"mousemove",Fe),yo(H,"touchmove",Fe),yo(H,"mouseup",we),yo(H,"touchend",we)),r.start(ct)},Fe=function(ft){var ct=ft.raw;if(SA(ct),ct.button!==W)return we(ft);ct.deltaX=ct.screenX-ee,ct.deltaY=ct.screenY-ae,ft.prevent(),r.drag(ct)},we=function(ft){SA(ft.raw),gt(E,function(ct){return ct.unbind()}),E=[],$u(g),r.stop&&r.stop(ft.raw)},ze=function(){gt(E.concat(C),function(ft){return ft.unbind()}),E=[],C=[],V(g)&&$u(g)};return C.push(yo(fe,"mousedown",Se),yo(fe,"touchstart",Se)),{destroy:ze}}var eL=0,_A=function(t,r,o,s,d){var g,C=[],E="tox-",O=E+"crid-"+eL++,B=un.fromDom(s),H=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],W=["top","right","bottom","left"],ee=function(Tt,sn){return{x:sn.x+Tt.x,y:sn.y+Tt.y,w:sn.w,h:sn.h}},ae=function(Tt,sn){return{x:sn.x-Tt.x,y:sn.y-Tt.y,w:sn.w,h:sn.h}},fe=function(){return ae(o,t)},Se=function(Tt,sn,Bt,wt){var Kt=sn.x+Bt*Tt.deltaX,Cn=sn.y+wt*Tt.deltaY,Et=Math.max(20,sn.w+Bt*Tt.deltaW),bn=Math.max(20,sn.h+wt*Tt.deltaH),An=t=p$.clamp({x:Kt,y:Cn,w:Et,h:bn},o,Tt.name==="move");An=ae(o,An),an.fire("updateRect",{rect:An}),Le(An)},Fe=function(){var Tt=function(Kt){var Cn;return xA(O,{document:s.ownerDocument,root:_s(B).dom,handle:O+"-"+Kt.name,start:function(){Cn=t},drag:function(Et){Se(Kt,Cn,Et.deltaX,Et.deltaY)}})},sn=un.fromTag("div");ns(sn,{id:O,class:E+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Ui(B,sn),gt(W,function(Kt){jo(B,"#"+O).each(function(Cn){var Et=un.fromTag("div");ns(Et,{id:O+"-"+Kt,class:E+"croprect-block","data-mce-bogus":"all"}),Wn(Et,"display","none"),Ui(Cn,Et)})}),gt(H,function(Kt){jo(B,"#"+O).each(function(Cn){var Et=un.fromTag("div");ns(Et,{id:O+"-"+Kt.name,"aria-label":Kt.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:Kt.label}),Xd(Et,[E+"croprect-handle",E+"croprect-handle-"+Kt.name]),Wn(Et,"display","none"),Ui(Cn,Et)})}),g=Ue(H,Tt),ze(t);var Bt=function(Kt){or(Kt.target,"aria-grabbed",Kt.raw.type==="focus"?"true":"false")},wt=function(Kt){var Cn;gt(H,function(bn){if(Fa(Kt.target,"id")===O+"-"+bn.name)return Cn=bn,!1});var Et=function(bn,An,_r,aa,Pa){bn.stopPropagation(),bn.preventDefault(),Se(Cn,_r,aa,Pa)};switch(Kt.raw.keyCode){case $y.LEFT:Et(Kt,Cn,t,-10,0);break;case $y.RIGHT:Et(Kt,Cn,t,10,0);break;case $y.UP:Et(Kt,Cn,t,0,-10);break;case $y.DOWN:Et(Kt,Cn,t,0,10);break;case $y.ENTER:case $y.SPACEBAR:Kt.prevent(),d();break}};C.push(yo(B,"focusin",Bt),yo(B,"focusout",Bt),yo(B,"keydown",wt))},we=function(Tt){var sn=xe(xe([],Ue(H,function(wt){return"#"+O+"-"+wt.name}),!0),Ue(W,function(wt){return"#"+O+"-"+wt}),!0).join(","),Bt=au(B,sn);Tt?gt(Bt,function(wt){return Gr(wt,"display")}):gt(Bt,function(wt){return Wn(wt,"display","none")})},ze=function(Tt){var sn=function(Bt,wt){jo(B,"#"+O+"-"+Bt).each(function(Kt){rs(Kt,{left:wt.x+"px",top:wt.y+"px",width:Math.max(0,wt.w)+"px",height:Math.max(0,wt.h)+"px"})})};gt(H,function(Bt){jo(B,"#"+O+"-"+Bt.name).each(function(wt){rs(wt,{left:Tt.w*Bt.xMul+Tt.x+"px",top:Tt.h*Bt.yMul+Tt.y+"px"})})}),sn("top",{x:r.x,y:r.y,w:r.w,h:Tt.y-r.y}),sn("right",{x:Tt.x+Tt.w,y:Tt.y,w:r.w-Tt.x-Tt.w+r.x,h:Tt.h}),sn("bottom",{x:r.x,y:Tt.y+Tt.h,w:r.w,h:r.h-Tt.y-Tt.h+r.y}),sn("left",{x:r.x,y:Tt.y,w:Tt.x-r.x,h:Tt.h}),sn("move",Tt)},ft=function(Tt){t=Tt,ze(t)},ct=function(Tt){r=Tt,ze(t)},Le=function(Tt){ft(ee(o,Tt))},tt=function(Tt){o=Tt,ze(t)},Ct=function(){gt(g,function(Tt){return Tt.destroy()}),g=[],gt(C,function(Tt){return Tt.unbind()}),C=[]};Fe();var an=ne(ne({},Hl),{toggleVisibility:we,setClampRect:tt,setRect:ft,getInnerRect:fe,setInnerRect:Le,setViewPortRect:ct,destroy:Ct});return an},tL={create:_A},vS=function(t){return new AC(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},y$=function(t){var r=ra({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=Pn(1),s=J2(),d=Pn({x:0,y:0,w:1,h:1}),g=Pn({x:0,y:0,w:1,h:1}),C=function(Fe,we){fe.getOpt(Fe).each(function(ze){var ft=o.get(),ct=Vi(ze.element),Le=$o(ze.element),tt=we.dom.naturalWidth*ft,Ct=we.dom.naturalHeight*ft,an=Math.max(0,ct/2-tt/2),Tt=Math.max(0,Le/2-Ct/2),sn={left:an.toString()+"px",top:Tt.toString()+"px",width:tt.toString()+"px",height:Ct.toString()+"px",position:"absolute"};rs(we,sn),r.getOpt(ze).each(function(Bt){rs(Bt.element,sn)}),s.run(function(Bt){var wt=d.get();Bt.setRect({x:wt.x*ft+an,y:wt.y*ft+Tt,w:wt.w*ft,h:wt.h*ft}),Bt.setClampRect({x:an,y:Tt,w:tt,h:Ct}),Bt.setViewPortRect({x:0,y:0,w:ct,h:Le})})})},E=function(Fe,we){fe.getOpt(Fe).each(function(ze){var ft=Vi(ze.element),ct=$o(ze.element),Le=we.dom.naturalWidth,tt=we.dom.naturalHeight,Ct=Math.min(ft/Le,ct/tt);Ct>=1?o.set(1):o.set(Ct)})},O=function(Fe,we){var ze=un.fromTag("img");return or(ze,"src",we),vS(ze.dom).then(function(){Fe.getSystem().isConnected()&&fe.getOpt(Fe).map(function(ft){var ct=L0({element:ze});Zn.replaceAt(ft,1,$.some(ct));var Le=g.get(),tt={x:0,y:0,w:ze.dom.naturalWidth,h:ze.dom.naturalHeight};g.set(tt);var Ct=p$.inflate(tt,-20,-20);d.set(Ct),(Le.w!==tt.w||Le.h!==tt.h)&&E(ft,ze),C(ft,ze)})})},B=function(Fe,we){var ze=o.get(),ft=we>0?Math.min(2,ze+.1):Math.max(.1,ze-.1);o.set(ft),fe.getOpt(Fe).each(function(ct){var Le=ct.components()[1].element;C(ct,Le)})},H=function(){s.run(function(Fe){Fe.toggleVisibility(!0)})},W=function(){s.run(function(Fe){Fe.toggleVisibility(!1)})},ee=function(){return d.get()},ae=ku.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Jt([rr("image-panel-crop-events",[nr(function(Fe){fe.getOpt(Fe).each(function(we){var ze=we.element.dom,ft=tL.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},ze,G);ft.toggleVisibility(!1),ft.on("updateRect",function(ct){var Le=ct.rect,tt=o.get(),Ct={x:Math.round(Le.x/tt),y:Math.round(Le.y/tt),w:Math.round(Le.w/tt),h:Math.round(Le.h/tt)};d.set(Ct)}),s.set(ft)})}),Ms(function(){s.clear()})])])}],containerBehaviours:Jt([Zn.config({}),rr("image-panel-events",[nr(function(Fe){O(Fe,t)})])])}),fe=ra(ae),Se=function(){var Fe=g.get();return{width:Fe.w,height:Fe.h}};return{memContainer:fe,updateSrc:O,zoom:B,showCrop:H,hideCrop:W,getRect:ee,getMeasurements:Se}},Us=function(t,r,o,s,d){return _O({name:t,icon:$.some(r),disabled:o,tooltip:$.some(t),primary:!1,borderless:!1},s,d)},w$=function(t,r){r?Mn.enable(t):Mn.disable(t)},C$=function(t){var r=function(g,C,E){o.getOpt(g).each(function(O){w$(O,C)}),s.getOpt(g).each(function(O){w$(O,E)})},o=ra(Us("Undo","undo",!0,function(g){In(g,Au.undo(),{direction:1})},t)),s=ra(Us("Redo","redo",!0,function(g){In(g,Au.redo(),{direction:1})},t)),d=ku.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),s.asSpec(),Us("Zoom in","zoom-in",!1,function(g){In(g,Au.zoom(),{direction:1})},t),Us("Zoom out","zoom-out",!1,function(g){In(g,Au.zoom(),{direction:-1})},t)]});return{container:d,updateButtonUndoStates:r}};function nL(){var t=[],r=-1,o=function(E){var O=t.splice(++r);return t.push(E),{state:E,removed:O}},s=function(){if(g())return t[--r]},d=function(){if(C())return t[++r]},g=function(){return r>0},C=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:s,redo:d,canUndo:g,canRedo:C}}var rL=function(t){var r=Pn(t),o=fo(),s=nL();s.add(t);var d=function(){return r.get()},g=function(ze){r.set(ze)},C=function(){return o.get().getOrThunk(r.get)},E=function(ze){var ft=O(ze);return W(),o.set(ft),ft.url},O=function(ze){return{blob:ze,url:URL.createObjectURL(ze)}},B=function(ze){URL.revokeObjectURL(ze.url)},H=function(ze){Vg.each(ze,B)},W=function(){o.on(B),o.clear()},ee=function(ze){var ft=O(ze);g(ft);var ct=s.add(ft).removed;return H(ct),ft.url},ae=function(ze){var ft=O(ze);return o.set(ft),ft.url},fe=function(ze){return o.get().fold(G,function(ft){ee(ft.blob),ze()})},Se=function(){var ze=s.undo();return g(ze),ze.url},Fe=function(){var ze=s.redo();return g(ze),ze.url},we=function(){var ze=s.canUndo(),ft=s.canRedo();return{undoEnabled:ze,redoEnabled:ft}};return{getBlobState:d,setBlobState:g,addBlobState:ee,getTempState:C,updateTempState:E,addTempState:ae,applyTempState:fe,destroyTempState:W,undo:Se,redo:Fe,getHistoryStates:we}},aL=function(t,r){var o=rL(t.currentState),s=function(Bt,wt){var Kt=wt.event.direction;Ct.zoom(Bt,Kt)},d=function(Bt){var wt=o.getHistoryStates();an.updateButtonUndoStates(Bt,wt.undoEnabled,wt.redoEnabled),In(Bt,gs.formActionEvent,{name:gs.saveState(),value:wt.undoEnabled})},g=function(Bt){an.updateButtonUndoStates(Bt,!1,!1)},C=function(Bt,wt){var Kt=o.undo();W(Bt,Kt).then(function(Cn){H(Bt),d(Bt)})},E=function(Bt,wt){var Kt=o.redo();W(Bt,Kt).then(function(Cn){H(Bt),d(Bt)})},O=function(Bt){return Bt.toBlob()},B=function(Bt){In(Bt,gs.formActionEvent,{name:gs.disable(),value:{}})},H=function(Bt){Tt.getApplyButton(Bt).each(function(wt){Mn.enable(wt)}),In(Bt,gs.formActionEvent,{name:gs.enable(),value:{}})},W=function(Bt,wt){return B(Bt),Ct.updateSrc(Bt,wt)},ee=function(Bt,wt,Kt,Cn,Et){B(Bt),lF(wt).then(Kt).then(O).then(Cn).then(function(bn){return W(Bt,bn)}).then(function(){d(Bt),Et(),H(Bt)}).catch(function(bn){console.log(bn),Bt.getSystem().isConnected()&&H(Bt)})},ae=function(Bt,wt,Kt){var Cn=o.getBlobState().blob,Et=function(bn){return o.updateTempState(bn)};ee(Bt,Cn,wt,Et,Kt)},fe=function(Bt,wt){var Kt=o.getTempState().blob,Cn=function(Et){return o.addTempState(Et)};ee(Bt,Kt,wt,Cn,G)},Se=function(Bt,wt,Kt){var Cn=o.getBlobState().blob,Et=function(bn){var An=o.addBlobState(bn);return we(Bt),An};ee(Bt,Cn,wt,Et,Kt)},Fe=function(Bt,wt){var Kt=function(){we(Bt);var Cn=wt.event.swap;Cn()};o.applyTempState(Kt)},we=function(Bt){var wt=o.getBlobState().url;return o.destroyTempState(),d(Bt),wt},ze=function(Bt){var wt=we(Bt);W(Bt,wt).then(function(Kt){H(Bt)})},ft=function(Bt,wt){ze(Bt);var Kt=wt.event.swap;Kt(),Ct.hideCrop()},ct=function(Bt,wt){return ae(Bt,wt.event.transform,G)},Le=function(Bt,wt){return fe(Bt,wt.event.transform)},tt=function(Bt,wt){return Se(Bt,wt.event.transform,wt.event.swap)},Ct=y$(t.currentState.url),an=C$(r),Tt=QF(Ct,r),sn=function(Bt,wt){g(Bt);var Kt=wt.event.transform,Cn=wt.event.swap;Kt.fold(function(){Cn()},function(Et){ae(Bt,Et,Cn)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Tt.memContainer.asSpec(),Ct.memContainer.asSpec(),an.container],behaviours:Jt([rn.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),rr("image-tools-events",[Dt(Au.undo(),C),Dt(Au.redo(),E),Dt(Au.zoom(),s),Dt(Au.back(),ft),Dt(Au.apply(),Fe),Dt(Au.transform(),ct),Dt(Au.tempTransform(),Le),Dt(Au.transformApply(),tt),Dt(Au.swap(),sn)]),pv.self()])}},oL=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},s=Ue(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:Jt([pv.self(),Zn.config({}),Bm.domHtml($.none()),Fn.config({mode:"acyclic"})])}},BO=function(t){return!Dr(t,"items")},S$="data-value",x$=function(t,r,o,s){return Ue(o,function(d){return BO(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===s,onAction:function(){rn.setValue(t,d.value),In(t,zl,{name:r}),Xn.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:function(){return x$(t,r,d.items,s)}}})},_$=function(t,r){return Jr(t,function(o){return BO(o)?qs(o.value===r,o):_$(o.items,r)})},iL=function(t,r){var o=r.shared.providers,s=tr(t.items).filter(BO),d=t.label.map(function(E){return Tm(E,o)}),g=Xr.parts.field({dom:{},factory:{sketch:function(E){return pA({uid:E.uid,text:s.map(function(O){return O.text}),icon:$.none(),tooltip:t.label,role:$.none(),fetch:function(O,B){var H=x$(O,t.name,t.items,rn.getValue(O));B(By(H,uu.CLOSE_ON_EXECUTE,r,!1))},onSetup:ue(G),getApi:ue({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[To.config({}),rn.config({store:{mode:"manual",initialValue:s.map(function(O){return O.value}).getOr(""),getValue:function(O){return Fa(O.element,S$)},setValue:function(O,B){_$(t.items,B).each(function(H){or(O.element,S$,H.value),In(O,N1,{text:H.text})})}}})]},"tox-listbox",r.shared)}}}),C={dom:{tag:"div",classes:["tox-listboxfield"]},components:[g]};return Xr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ot([d.toArray(),[C]]),fieldBehaviours:Jt([Mn.config({disabled:ue(t.disabled),onDisabled:function(E){Xr.getField(E).each(Mn.disable)},onEnabled:function(E){Xr.getField(E).each(Mn.enable)}})])})},k$=function(t,r){return{dom:{tag:"div",classes:t.classes},components:Ue(t.items,r.shared.interpreter)}},A$=function(t,r){var o=Ue(t.options,function(d){return{dom:{tag:"option",value:d.value,innerHtml:d.text}}}),s=t.data.map(function(d){return Vc("initialValue",d)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:ci(t.selectBehaviours,[Xn.config({}),rn.config({store:ne({mode:"manual",getValue:function(d){return Xc(d.element)},setValue:function(d,g){var C=pt(t.options,function(E){return E.value===g});C.isSome()&&Rh(d.element,g)}},s)})])}},E$=zs({name:"HtmlSelect",configFields:[_t("options"),Xo("selectBehaviours",[Xn,rn]),Ve("selectClasses",[]),Ve("selectAttributes",{}),qr("data")],factory:A$}),uL=function(t,r){var o=Ue(t.items,function(E){return{text:r.translate(E.text),value:E.value}}),s=t.label.map(function(E){return Tm(E,r)}),d=Xr.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:E$,selectBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),To.config({}),rr("selectbox-change",[Dt(Sh(),function(E,O){In(E,zl,{name:t.name})})])])}),g=t.size>1?$.none():$.some(dv("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),C={dom:{tag:"div",classes:["tox-selectfield"]},components:ot([[d],g.toArray()])};return Xr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ot([s.toArray(),[C]]),fieldBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(E){Xr.getField(E).each(Mn.disable)},onEnabled:function(E){Xr.getField(E).each(Mn.enable)}}),ti()])})},T$=function(t,r){var o=function(E){return{dom:{tag:"th",innerHtml:r.translate(E)}}},s=function(E){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ue(E,o)}]}},d=function(E){return{dom:{tag:"td",innerHtml:r.translate(E)}}},g=function(E){return{dom:{tag:"tr"},components:Ue(E,d)}},C=function(E){return{dom:{tag:"tbody"},components:Ue(E,g)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(t.header),C(t.cells)],behaviours:Jt([To.config({}),Xn.config({})])}},O$=function(t,r){var o=t.label.map(function(ee){return Tm(ee,r)}),s=[Mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),ti(),Fn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(ee){return Vr(ee,cl),$.some(!0)}}),rr("textfield-change",[Dt(zd(),function(ee,ae){In(ee,zl,{name:t.name})}),Dt(g2(),function(ee,ae){In(ee,zl,{name:t.name})})]),To.config({})],d=t.validation.map(function(ee){return hv.config({getRoot:function(ae){return xo(ae.element)},invalidClass:"tox-invalid",validator:{validate:function(ae){var fe=rn.getValue(ae),Se=ee.validator(fe);return Ji.pure(Se===!0?sr.value(fe):sr.error(Se))},validateOnLoad:ee.validateOnLoad}})}).toArray(),g=t.placeholder.fold(ue({}),function(ee){return{placeholder:r.translate(ee)}}),C=t.inputMode.fold(ue({}),function(ee){return{inputmode:ee}}),E=ne(ne({},g),C),O=Xr.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:E,inputClasses:[t.classname],inputBehaviours:Jt(ot([s,d])),selectOnFocus:!1,factory:GC}),B=t.flex?["tox-form__group--stretched"]:[],H=B.concat(t.maximized?["tox-form-group--maximize"]:[]),W=[Mn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(ee){Xr.getField(ee).each(Mn.disable)},onEnabled:function(ee){Xr.getField(ee).each(Mn.enable)}}),ti()];return WC(o,O,H,W)},sL=function(t,r){return O$({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:$.none(),maximized:t.maximized},r)},lL=function(t,r){return O$({name:t.name,multiline:!0,label:t.label,inputMode:$.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:$.none(),maximized:t.maximized},r)},cL=function(t,r){var o=t.stream.streams,s=o.setup(t,r);return Ca([Dt(t.event,s),Ms(function(){return r.cancel()})].concat(t.cancelEvent.map(function(d){return[Dt(d,function(){return r.cancel()})]}).getOr([])))},fL=Object.freeze({__proto__:null,events:cL}),D$=function(t){var r=Pn(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},s=function(g){r.set(g)},d=function(){var g=r.get();g!==null&&g.cancel()};return Ki({readState:o,setTimer:s,cancel:d})},vL=function(t){return t.stream.streams.state(t)},dL=Object.freeze({__proto__:null,throttle:D$,init:vL}),mL=function(t,r){var o=t.stream,s=IE(t.onStream,o.delay);return r.setTimer(s),function(d,g){s.throttle(d,g),o.stopEvent&&g.stop()}},hL=[Iu("stream",el("mode",{throttle:[_t("delay"),Ve("stopEvent",!0),_a("streams",{setup:mL,state:D$})]})),Ve("event","input"),qr("cancelEvent"),wu("onStream")],R$=Ko({fields:hL,name:"streaming",active:fL,state:dL}),kA=function(t,r,o){var s=rn.getValue(o);rn.setValue(r,s),$$(r)},B$=function(t,r){var o=t.element,s=Xc(o),d=o.dom;Fa(o,"type")!=="number"&&r(d,s)},$$=function(t){B$(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},M$=function(t,r){B$(t,function(o,s){return o.setSelectionRange(r,s.length)})},gL=function(t,r,o){if(t.selectsOver){var s=rn.getValue(r),d=t.getDisplayText(s),g=rn.getValue(o),C=t.getDisplayText(g);return C.indexOf(d)===0?$.some(function(){kA(t,r,o),M$(r,d.length)}):$.none()}else return $.none()},$O=ue("alloy.typeahead.itemexecute"),P$=function(t,r,o,s){var d=function(O,B,H){t.previewing.set(!1);var W=Oo.getCoupled(O,"sandbox");if(Tr.isOpen(W))Cr.getCurrent(W).each(function(ae){ea.getHighlighted(ae).fold(function(){H(ae)},function(){tx(W,ae.element,"keydown",B)})});else{var ee=function(ae){Cr.getCurrent(ae).each(H)};Kk(t,C(O),O,W,s,ee,hf.HighlightFirst).get(G)}},g=jk(t),C=function(O){return function(B){return B.map(function(H){var W=xi(H.menus),ee=Wt(W,function(fe){return Ae(fe.items,function(Se){return Se.type==="item"})}),ae=rn.getState(O);return ae.update(Ue(ee,function(fe){return fe.data})),H})}},E=[Xn.config({}),rn.config({onSetValue:t.onSetValue,store:ne({mode:"dataset",getDataKey:function(O){return Xc(O.element)},getFallbackEntry:function(O){return{value:O,meta:{}}},setValue:function(O,B){Rh(O.element,t.model.getDisplayText(B))}},t.initialData.map(function(O){return Vc("initialValue",O)}).getOr({}))}),R$.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(O,B){var H=Oo.getCoupled(O,"sandbox"),W=Xn.isFocused(O);if(W&&Xc(O.element).length>=t.minChars){var ee=Cr.getCurrent(H).bind(function(fe){return ea.getHighlighted(fe).map(rn.getValue)});t.previewing.set(!0);var ae=function(fe){Cr.getCurrent(H).each(function(Se){ee.fold(function(){t.model.selectsOver&&ea.highlightFirst(Se)},function(Fe){ea.highlightBy(Se,function(we){var ze=rn.getValue(we);return ze.value===Fe.value}),ea.getHighlighted(Se).orThunk(function(){return ea.highlightFirst(Se),$.none()})})})};Kk(t,C(O),O,H,s,ae,hf.HighlightFirst).get(G)}},cancelEvent:p2()}),Fn.config({mode:"special",onDown:function(O,B){return d(O,B,ea.highlightFirst),$.some(!0)},onEscape:function(O){var B=Oo.getCoupled(O,"sandbox");return Tr.isOpen(B)?(Tr.close(B),$.some(!0)):$.none()},onUp:function(O,B){return d(O,B,ea.highlightLast),$.some(!0)},onEnter:function(O){var B=Oo.getCoupled(O,"sandbox"),H=Tr.isOpen(B);if(H&&!t.previewing.get())return Cr.getCurrent(B).bind(function(ee){return ea.getHighlighted(ee)}).map(function(ee){return In(O,$O(),{item:ee}),!0});var W=rn.getValue(O);return Vr(O,p2()),t.onExecute(B,O,W),H&&Tr.close(B),$.some(!0)}}),Br.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Oo.config({others:{sandbox:function(O){return NT(t,O,{onOpen:function(){return Br.on(O)},onClose:function(){return Br.off(O)}})}}}),rr("typeaheadevents",[cs(function(O){var B=G;Ay(t,C(O),O,s,B,hf.HighlightFirst).get(G)}),Dt($O(),function(O,B){var H=Oo.getCoupled(O,"sandbox");kA(t.model,O,B.event.item),Vr(O,p2()),t.onItemExecute(O,H,B.event.item,rn.getValue(O)),Tr.close(H),$$(O)})].concat(t.dismissOnBlur?[Dt(h2(),function(O){var B=Oo.getCoupled(O,"sandbox");dc(B.element).isNone()&&Tr.close(B)})]:[]))];return{uid:t.uid,dom:Gk(bt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:ne(ne({},g),ci(t.typeaheadBehaviours,E)),eventOrder:t.eventOrder}},pL=ue([qr("lazySink"),_t("fetch"),Ve("minChars",5),Ve("responseTime",1e3),Kr("onOpen"),Ve("getHotspot",$.some),Ve("getAnchorOverrides",ue({})),Ve("layouts",$.none()),Ve("eventOrder",{}),i2("model",{},[Ve("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),Ve("selectsOver",!0),Ve("populateFromBrowse",!0)]),Kr("onSetValue"),Go("onExecute"),Kr("onItemExecute"),Ve("inputClasses",[]),Ve("inputAttributes",{}),Ve("inputStyles",{}),Ve("matchWidth",!0),Ve("useMinWidth",!1),Ve("dismissOnBlur",!0),Qd(["openClass"]),qr("initialData"),Xo("typeaheadBehaviours",[Xn,rn,R$,Fn,Br,Oo]),hu("previewing",function(){return Pn(!0)})].concat(MR()).concat(FT())),bL=ue([Ls({schema:[Zd()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(s){gL(t.model,s,o).fold(function(){return ea.dehighlight(r,o)},function(d){return d()})}):r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&kA(t.model,s,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(s){return In(s,$O(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&kA(t.model,s,o)})}}}})]),yL=_u({name:"Typeahead",configFields:pL(),partFields:bL(),factory:P$}),wf=function(t){var r=function(){return wf(t.toCached())},o=function(O){return wf(t.bind(function(B){return B.fold(function(H){return Ji.pure(sr.error(H))},function(H){return O(H)})}))},s=function(O){return wf(t.map(function(B){return B.bind(O)}))},d=function(O){return wf(t.map(function(B){return B.map(O)}))},g=function(O){return wf(t.map(function(B){return B.mapError(O)}))},C=function(O,B){return t.map(function(H){return H.fold(O,B)})},E=function(O,B){return wf(Ji.nu(function(H){var W=!1,ee=setTimeout(function(){W=!0,H(sr.error(B()))},O);t.get(function(ae){W||(clearTimeout(ee),H(ae))})}))};return ne(ne({},t),{toCached:r,bindFuture:o,bindResult:s,mapResult:d,mapError:g,foldResult:C,withTimeout:E})},I$=function(t){return wf(Ji.nu(t))},N$=function(t){return wf(Ji.pure(sr.value(t)))},AA=function(t){return wf(Ji.pure(sr.error(t)))},wL=function(t){return wf(Ji.pure(t))},CL=function(t){return wf(t.map(sr.value))},SL=function(t){return I$(function(r){t.then(function(o){r(sr.value(o))},function(o){r(sr.error(o))})})},xL={nu:I$,wrap:wf,pure:N$,value:N$,error:AA,fromResult:wL,fromFuture:CL,fromPromise:SL},_L={type:"separator"},kL=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:G}},MO=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:G}},F$=function(t){return Ue(t,kL)},AL=function(t,r){return Ae(r,function(o){return o.type===t})},L$=function(t,r){return F$(AL(t,r))},EL=function(t){return L$("header",t.targets)},TL=function(t){return L$("anchor",t.targets)},OL=function(t){return $.from(t.anchorTop).map(function(r){return MO("<top>",r)}).toArray()},DL=function(t){return $.from(t.anchorBottom).map(function(r){return MO("<bottom>",r)}).toArray()},RL=function(t){return Ue(t,function(r){return MO(r,r)})},z$=function(t){return Qe(t,function(r,o){var s=r.length===0||o.length===0;return s?r.concat(o):r.concat(_L,o)},[])},PO=function(t,r){var o=t.toLowerCase();return Ae(r,function(s){var d=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return da(d.toLowerCase(),o)||da(s.value.toLowerCase(),o)})},BL=function(t,r,o){var s=rn.getValue(r),d=s.meta.text!==void 0?s.meta.text:s.value,g=o.getLinkInformation();return g.fold(function(){return[]},function(C){var E=PO(d,RL(o.getHistory(t)));return t==="file"?z$([E,PO(d,EL(C)),PO(d,ot([OL(C),TL(C),DL(C)]))]):E})},H$=wn("aria-invalid"),$L=function(t,r,o){var s,d=r.shared.providers,g=function(we){var ze=rn.getValue(we);o.addToHistory(ze.value,t.filetype)},C=Xr.parts.field({factory:yL,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":H$,type:"url"},minChars:0,responseTime:0,fetch:function(we){var ze=BL(t.filetype,we,o),ft=By(ze,uu.BUBBLE_TO_SANDBOX,r,!1);return Ji.pure(ft)},getHotspot:function(we){return ae.getOpt(we)},onSetValue:function(we,ze){we.hasConfigured(hv)&&hv.run(we).get(G)},typeaheadBehaviours:Jt(ot([o.getValidationHandler().map(function(we){return hv.config({getRoot:function(ze){return xo(ze.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(ze,ft){B.getOpt(ze).each(function(ct){or(ct.element,"title",d.translate(ft))})}},validator:{validate:function(ze){var ft=rn.getValue(ze);return xL.nu(function(ct){we({type:t.filetype,url:ft.value},function(Le){if(Le.status==="invalid"){var tt=sr.error(Le.message);ct(tt)}else{var Ct=sr.value(Le.message);ct(Ct)}})})},validateOnLoad:!1}})}).toArray(),[Mn.config({disabled:function(){return t.disabled||d.isDisabled()}}),To.config({}),rr("urlinput-events",ot([t.filetype==="file"?[Dt(zd(),function(we){In(we,zl,{name:t.name})})]:[],[Dt(Sh(),function(we){In(we,zl,{name:t.name}),g(we)}),Dt(g2(),function(we){In(we,zl,{name:t.name}),g(we)})]]))]])),eventOrder:(s={},s[zd()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(we){return we.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:C1(!1,1,"normal")},onExecute:function(we,ze,ft){In(ze,cl,{})},onItemExecute:function(we,ze,ft,ct){g(we),In(we,zl,{name:t.name})}}),E=t.label.map(function(we){return Tm(we,d)}),O=function(we,ze,ft,ct){return ft===void 0&&(ft=we),ct===void 0&&(ct=we),dv(ft,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+we],attributes:ne({title:d.translate(ct),"aria-live":"polite"},ze.fold(function(){return{}},function(Le){return{id:Le}}))},d.icons)},B=ra(O("invalid",$.some(H$),"warning")),H=ra({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[B.asSpec()]}),W=o.getUrlPicker(t.filetype),ee=wn("browser.url.event"),ae=ra({dom:{tag:"div",classes:["tox-control-wrap"]},components:[C,H.asSpec()],behaviours:Jt([Mn.config({disabled:function(){return t.disabled||d.isDisabled()}})])}),fe=ra(AO({name:t.name,icon:$.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(we){return Vr(we,ee)},d,[],["tox-browse-url"])),Se=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ot([[ae.asSpec()],W.map(function(){return fe.asSpec()}).toArray()])}},Fe=function(we){Cr.getCurrent(we).each(function(ze){var ft=rn.getValue(ze),ct=ne({fieldname:t.name},ft);W.each(function(Le){Le(ct).get(function(tt){rn.setValue(ze,tt),In(we,zl,{name:t.name})})})})};return Xr.sketch({dom:$I(),components:E.toArray().concat([Se()]),fieldBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||d.isDisabled()},onDisabled:function(we){Xr.getField(we).each(Mn.disable),fe.getOpt(we).each(Mn.disable)},onEnabled:function(we){Xr.getField(we).each(Mn.enable),fe.getOpt(we).each(Mn.enable)}}),ti(),rr("url-input-events",[Dt(ee,Fe)])])})},ML=function(t,r){return ku.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:N5(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){In(o,mv,{name:"alert-banner",value:t.url})},buttonBehaviours:Jt([BE()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},PL=function(t,r){var o=rn.config({store:{mode:"manual",getValue:function(O){var B=O.element.dom;return B.checked},setValue:function(O,B){var H=O.element.dom;H.checked=B}}}),s=function(O){return O.element.dom.click(),$.some(!0)},d=Xr.parts.field({factory:{sketch:Ee},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Jt([pv.self(),Mn.config({disabled:function(){return t.disabled||r.isDisabled()}}),To.config({}),Xn.config({}),o,Fn.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),rr("checkbox-events",[Dt(Sh(),function(O,B){In(O,zl,{name:t.name})})])])}),g=Xr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:Jt([KC.config({})])}),C=function(O){var B=O==="checked"?"selected":"unselected";return dv(B,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+O]},r.icons)},E=ra({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[C("checked"),C("unchecked")]});return Xr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,E.asSpec(),g],fieldBehaviours:Jt([Mn.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(O){Xr.getField(O).each(Mn.disable)},onEnabled:function(O){Xr.getField(O).each(Mn.enable)}}),ti()])})},V$=function(t){return t.presets==="presentation"?ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):ku.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Jt([To.config({}),Xn.config({})])})},Co=function(t){return function(r,o,s){return En(o,"name").fold(function(){return t(o,s)},function(d){return r.field(d,t(o,s))})}},EA=function(t){return function(r,o,s){var d=bt(o,{source:"dynamic"});return Co(t)(r,d,s)}},IL={bar:Co(function(t,r){return k1(t,r.shared)}),collection:Co(function(t,r){return Wk(t,r.shared.providers)}),alertbanner:Co(function(t,r){return ML(t,r.shared.providers)}),input:Co(function(t,r){return sL(t,r.shared.providers)}),textarea:Co(function(t,r){return lL(t,r.shared.providers)}),label:Co(function(t,r){return oL(t,r.shared)}),iframe:EA(function(t,r){return zB(t,r.shared.providers)}),button:Co(function(t,r){return LF(t,r.shared.providers)}),checkbox:Co(function(t,r){return PL(t,r.shared.providers)}),colorinput:Co(function(t,r){return ZI(t,r.shared,r.colorinput)}),colorpicker:Co(GN),dropzone:Co(function(t,r){return QN(t,r.shared.providers)}),grid:Co(function(t,r){return FB(t,r.shared)}),listbox:Co(function(t,r){return iL(t,r)}),selectbox:Co(function(t,r){return uL(t,r.shared.providers)}),sizeinput:Co(function(t,r){return d$(t,r.shared.providers)}),urlinput:Co(function(t,r){return $L(t,r,r.urlinput)}),customeditor:Co(KN),htmlpanel:Co(V$),imagetools:Co(function(t,r){return aL(t,r.shared.providers)}),table:Co(function(t,r){return T$(t,r.shared.providers)}),panel:Co(function(t,r){return k$(t,r)})},NL={field:function(t,r){return r}},TA=function(t,r,o){var s=bt(o,{shared:{interpreter:function(d){return IO(t,d,s)}}});return IO(t,r,s)},IO=function(t,r,o){return En(IL,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(s){return s(t,r,o)})},FL=function(t,r){var o=NL;return IO(o,t,r)},OA={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},U$=function(t,r,o){var s=12,d={maxHeightFunction:Uh()},g=function(){return{type:"node",root:Zl(t()),node:$.from(t()),bubble:im(s,s,OA),layouts:{onRtl:function(){return[Og]},onLtr:function(){return[Tg]}},overrides:d}},C=function(){return{type:"hotspot",hotspot:r(),bubble:im(-s,s,OA),layouts:{onRtl:function(){return[Xi]},onLtr:function(){return[ei]}},overrides:d}};return function(){return o()?g():C()}},W$=function(t,r,o){var s=function(){return{type:"node",root:Zl(t()),node:$.from(t()),layouts:{onRtl:function(){return[Cc]},onLtr:function(){return[Cc]}}}},d=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[Io]},onLtr:function(){return[Io]}}}};return function(){return o()?s():d()}},LL=function(t,r){return function(){return{type:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return $.some(Gh.range(un.fromDom(o.startContainer),o.startOffset,un.fromDom(o.endContainer),o.endOffset))}}}},zL=function(t){return function(r){return{type:"node",root:t(),node:r}}},HL=function(t,r,o){var s=Rk(t),d=function(){return un.fromDom(t.getBody())},g=function(){return un.fromDom(t.getContentAreaContainer())},C=function(){return s||!o()};return{inlineDialog:U$(g,r,C),banner:W$(g,r,C),cursor:LL(t,d),node:zL(d)}},VL=function(t){return function(r,o){var s=vR(t);s(r,o)}},UL=function(t){return function(){return oR(t)}},j$=function(t){return function(){return yT(t)}},WL=function(t){return function(){return uR(t)}},G$=function(t){return{colorPicker:VL(t),hasCustomColors:UL(t),getColors:j$(t),getColorCols:WL(t)}},jL=function(t){return function(){return TD(t)}},GL=function(t){return{isDraggableModal:jL(t)}},NO=function(t){var r=Pn(xD(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},DA=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],dS=function(t){return Dr(t,"items")},qL=function(t){return Dr(t,"block")},KL=function(t){return Dr(t,"inline")},XL=function(t){return Dr(t,"selector")},q$=function(t){return Qe(t,function(r,o){if(dS(o)){var s=q$(o.items);return{customFormats:r.customFormats.concat(s.customFormats),formats:r.formats.concat([{title:o.title,items:s.formats}])}}else if(KL(o)||qL(o)||XL(o)){var d=S(o.name)?o.name:o.title.toLowerCase(),g="custom-"+d;return{customFormats:r.customFormats.concat([{name:g,format:o}]),formats:r.formats.concat([{title:o.title,format:g,icon:o.icon}])}}else return ne(ne({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},YL=function(t,r){var o=q$(r),s=function(d){gt(d,function(g){t.formatter.has(g.name)||t.formatter.register(g.name,g.format)})};return t.formatter?s(o.customFormats):t.on("init",function(){s(o.customFormats)}),o.formats},FO=function(t){return aP(t).map(function(r){var o=YL(t,r);return oP(t)?DA.concat(o):o}).getOr(DA)},LO=function(t,r,o){var s={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return bt(t,s)},zO=function(t,r,o,s){var d=function(O){return LO(O,o,s)},g=function(O){var B={type:"submenu"};return bt(O,B)},C=function(O){var B=S(O.name)?O.name:wn(O.title),H="custom-"+B,W={type:"formatter",format:H,isSelected:o(H),getStylePreview:s(H)},ee=bt(O,W);return t.formatter.register(B,ee),ee},E=function(O){return Ue(O,function(B){var H=Ir(B);if(uo(B,"items")){var W=E(B.items);return bt(g(B),{getStyleItems:ue(W)})}else return uo(B,"format")?d(B):H.length===1&&lt(H,"title")?bt(B,{type:"separator"}):C(B)})};return E(r)},JL=function(t){var r=function(W){return function(){return t.formatter.match(W)}},o=function(W){return function(){var ee=t.formatter.get(W);return ee!==void 0?$.some({tag:ee.length>0&&(ee[0].inline||ee[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(W))}):$.none()}},s=function(W){var ee=W.items;return ee!==void 0&&ee.length>0?Wt(ee,s):[W.format]},d=Pn([]),g=Pn([]),C=Pn([]),E=Pn([]),O=Pn(!1);t.on("PreInit",function(W){var ee=FO(t),ae=zO(t,ee,r,o);d.set(ae),g.set(Wt(ae,s))}),t.on("addStyleModifications",function(W){var ee=zO(t,W.items,r,o);C.set(ee),O.set(W.replace),E.set(Wt(ee,s))});var B=function(){var W=O.get()?[]:d.get(),ee=C.get();return W.concat(ee)},H=function(){var W=O.get()?[]:g.get(),ee=E.get();return W.concat(ee)};return{getData:B,getFlattenedKeys:H}},ZL=function(t){return V(t)&&t.nodeType===1},QL=Vg.trim,K$=function(t){return function(r){return!!(ZL(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},ez=K$("true"),X$=K$("false"),Y$=function(t,r,o,s,d){return{type:t,title:r,url:o,level:s,attach:d}},tz=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return ez(t)}return!1},nz=function(t,r){return Ue(au(un.fromDom(r),t),function(o){return o.dom})},J$=function(t){return t.innerText||t.textContent},Z$=function(t){return t.id?t.id:wn("h")},F1=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},Q$=function(t){return F1(t)&&tM(t)},eM=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},tM=function(t){return tz(t)&&!X$(t)},rz=function(t){return eM(t)&&tM(t)},nM=function(t){return eM(t)?parseInt(t.nodeName.substr(1),10):0},az=function(t){var r=Z$(t),o=function(){t.id=r};return Y$("header",J$(t),"#"+r,nM(t),o)},oz=function(t){var r=t.id||t.name,o=J$(t);return Y$("anchor",o||"#"+r,"#"+r,0,G)},iz=function(t){return Ue(Ae(t,rz),az)},uz=function(t){return Ue(Ae(t,Q$),oz)},sz=function(t){var r=nz("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},lz=function(t){return QL(t.title).length>0},cz=function(t){var r=sz(t);return Ae(iz(r).concat(uz(r)),lz)},fz={find:cz},RA="tinymce-url-history",rM=5,HO=function(t){return S(t)&&/^https?/.test(t)},vz=function(t){return T(t)&&t.length<=rM&&Ot(t,HO)},aM=function(t){return _(t)&&Ju(t,function(r){return!vz(r)}).isNone()},oM=function(){var t=Fk.getItem(RA);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+RA+" was not valid JSON",o),{};throw o}return aM(r)?r:(console.log("Local storage "+RA+" was not valid format",r),{})},dz=function(t){if(!aM(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Fk.setItem(RA,JSON.stringify(t))},mz=function(t){var r=oM();return En(r,t).getOr([])},VO=function(t,r){if(HO(t)){var o=oM(),s=En(o,r).getOr([]),d=Ae(s,function(g){return g!==t});o[r]=[t].concat(d).slice(0,rM),dz(o)}},BA=function(t){return!!t},hz=function(t){return ur(Vg.makeMap(t,/[, ]/),BA)},UO=function(t){return $.from(vP(t)).filter(P)},gz=function(t){var r=$.some(dP(t)).filter(BA),o=$.some(fT(t)).filter(BA),s=r.or(o).map(hz);return UO(t).fold(pe,function(d){return s.fold(ye,function(g){return Ir(g).length>0?g:!1})})},pz=function(t,r){var o=gz(t);return L(o)?o?UO(t):$.none():o[r]?UO(t):$.none()},bz=function(t,r){return pz(t,r).map(function(o){return function(s){return Ji.nu(function(d){var g=function(E,O){if(!S(E))throw new Error("Expected value to be string");if(O!==void 0&&!_(O))throw new Error("Expected meta to be a object");var B={value:E,meta:O};d(B)},C=ne({filetype:r,fieldname:s.fieldname},$.from(s.meta).getOr({}));o.call(t,g,s.value,C)})}})},iM=function(t){return $.from(t).filter(S).getOrUndefined()},yz=function(t){return OD(t)?$.none():$.some({targets:fz.find(t.getBody()),anchorTop:iM(DD(t)),anchorBottom:iM(mP(t))})},wz=function(t){return $.from(RD(t))},Cz=function(t){return{getHistory:mz,addToHistory:VO,getLinkInformation:function(){return yz(t)},getValidationHandler:function(){return wz(t)},getUrlPicker:function(r){return bz(t,r)}}},$A=function(t,r,o){var s=Pn(!1),d=NO(r),g={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:df.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(C){return FL(C,g)},anchors:HL(r,o,d.isPositionedAtTop),header:d,getSink:function(){return sr.value(t)}},urlinput:Cz(r),styleselect:JL(r),colorinput:G$(r),dialog:GL(r),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(C){return s.set(C)}};return g},Sz=function(t,r,o){var s=function(ct,Le){gt([r,o],function(tt){tt.broadcastEvent(ct,Le)})},d=function(ct,Le){gt([r,o],function(tt){tt.broadcastOn([ct],Le)})},g=function(ct){return d(vm(),{target:ct.target})},C=Fp(),E=yo(C,"touchstart",g),O=yo(C,"touchmove",function(ct){return s(S0(),ct)}),B=yo(C,"touchend",function(ct){return s(B3(),ct)}),H=yo(C,"mousedown",g),W=yo(C,"mouseup",function(ct){ct.raw.button===0&&d(Sw(),{target:ct.target})}),ee=function(ct){return d(vm(),{target:un.fromDom(ct.target)})},ae=function(ct){ct.button===0&&d(Sw(),{target:un.fromDom(ct.target)})},fe=function(){gt(t.editorManager.get(),function(ct){t!==ct&&ct.fire("DismissPopups",{relatedTarget:t})})},Se=function(ct){return s(b2(),om(ct))},Fe=function(ct){d(ig(),{}),s(Bs(),om(ct))},we=function(){return d(ig(),{})},ze=function(ct){ct.state&&d(vm(),{target:un.fromDom(t.getContainer())})},ft=function(ct){d(vm(),{target:un.fromDom(ct.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",ee),t.on("tap",ee),t.on("mouseup",ae),t.on("mousedown",fe),t.on("ScrollWindow",Se),t.on("ResizeWindow",Fe),t.on("ResizeEditor",we),t.on("AfterProgressState",ze),t.on("DismissPopups",ft)}),t.on("remove",function(){t.off("click",ee),t.off("tap",ee),t.off("mouseup",ae),t.off("mousedown",fe),t.off("ScrollWindow",Se),t.off("ResizeWindow",Fe),t.off("ResizeEditor",we),t.off("AfterProgressState",ze),t.off("DismissPopups",ft),H.unbind(),E.unbind(),O.unbind(),B.unbind(),W.unbind()}),t.on("detach",function(){ou(r),ou(o),r.destroy(),o.destroy()})},Ws=Vn,Ug=Nb,L1=ue([Ve("shell",!1),_t("makeItem"),Ve("setupItem",G),il.field("listBehaviours",[Zn])]),xz=function(){return{behaviours:Jt([Zn.config({})])}},WO=ul({name:"items",overrides:xz}),MA=ue([WO]),_z=ue("CustomList"),kz=function(t,r,o,s){var d=function(E,O){C(E).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(B){var H=Zn.contents(B),W=O.length,ee=W-H.length,ae=ee>0?te(ee,function(){return t.makeItem()}):[],fe=H.slice(W);gt(fe,function(Fe){return Zn.remove(B,Fe)}),gt(ae,function(Fe){return Zn.append(B,Fe)});var Se=Zn.contents(B);gt(Se,function(Fe,we){t.setupItem(E,Fe,O[we],we)})})},g=t.shell?{behaviours:[Zn.config({})],components:[]}:{behaviours:[],components:r},C=function(E){return t.shell?$.some(E):ga(E,t,"items")};return{uid:t.uid,dom:t.dom,components:g.components,behaviours:ci(t.listBehaviours,g.behaviours),apis:{setItems:d}}},uM=_u({name:_z(),configFields:L1(),partFields:MA(),factory:kz,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),My=ue([_t("dom"),Ve("shell",!0),Xo("toolbarBehaviours",[Zn])]),Az=function(){return{behaviours:Jt([Zn.config({})])}},z1=ue([ul({name:"groups",overrides:Az})]),sM=function(t,r,o,s){var d=function(E,O){g(E).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(B){Zn.set(B,O)})},g=function(E){return t.shell?$.some(E):ga(E,t,"groups")},C=t.shell?{behaviours:[Zn.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:C.components,behaviours:ci(t.toolbarBehaviours,C.behaviours),apis:{setGroups:d},domModification:{attributes:{role:"group"}}}},bv=_u({name:"Toolbar",configFields:My(),partFields:z1(),factory:sM,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),Ez=G,Tz=pe,lM=ue([]),Oz=Object.freeze({__proto__:null,setup:Ez,isDocked:Tz,getBehaviours:lM}),cM=function(t){var r=lu(ko(t,"position"),"fixed"),o=r?$.none():Pf(t);return o.orThunk(function(){var s=un.fromTag("span");return xo(t).bind(function(d){Ui(d,s);var g=Pf(s);return $u(s),g})})},PA=function(t){return cM(t).map(vu).getOrThunk(function(){return ba(0,0)})},H1=Ds.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),IA=function(t,r){var o=t.element;Wo(o,r.transitionClass),Po(o,r.fadeOutClass),Wo(o,r.fadeInClass),r.onShow(t)},NA=function(t,r){var o=t.element;Wo(o,r.transitionClass),Po(o,r.fadeInClass),Wo(o,r.fadeOutClass),r.onHide(t)},V1=function(t,r){return t.y<r.bottom&&t.bottom>r.y},FA=function(t,r){return t.y>=r.y},Dz=function(t,r){return t.bottom<=r.bottom},jO=function(t,r,o){return Ot(t,function(s){switch(s){case"bottom":return Dz(r,o);case"top":return FA(r,o)}})},GO=function(t,r){return r.getInitialPos().map(function(o){return Vo(o.bounds.x,o.bounds.y,Vi(t),$o(t))})},fM=function(t,r,o){o.setInitialPos({style:If(t),position:eo(t,"position")||"static",bounds:r})},vM=function(t,r,o){return o.getInitialPos().bind(function(s){switch(o.clearInitialPos(),s.position){case"static":return $.some(H1.static());case"absolute":var d=cM(t).map(Ao).getOrThunk(function(){return Ao(Hi())});return $.some(H1.absolute(ru("absolute",En(s.style,"left").map(function(g){return r.x-d.x}),En(s.style,"top").map(function(g){return r.y-d.y}),En(s.style,"right").map(function(g){return d.right-r.right}),En(s.style,"bottom").map(function(g){return d.bottom-r.bottom}))));default:return $.none()}})},dM=function(t,r,o){return GO(t,o).filter(function(s){return jO(o.getModes(),s,r)}).bind(function(s){return vM(t,s,o)})},Rz=function(t,r,o){var s=Ao(t);if(jO(o.getModes(),s,r))return $.none();fM(t,s,o);var d=Ai(),g=s.x-d.x,C=r.y-d.y,E=d.bottom-r.bottom,O=s.y<=r.y;return $.some(H1.fixed(ru("fixed",$.some(g),O?$.some(C):$.none(),$.none(),O?$.none():$.some(E))))},Bz=function(t,r,o){var s=t.element,d=lu(ko(s,"position"),"fixed");return d?dM(s,r,o):Rz(s,r,o)},$z=function(t,r){var o=t.element;return GO(o,r).bind(function(s){return vM(o,s,r)})},LA=function(t,r,o){o.setDocked(!1),gt(["left","right","top","bottom","position"],function(s){return Gr(t.element,s)}),r.onUndocked(t)},mS=function(t,r,o,s){var d=s.position==="fixed";o.setDocked(d),td(t.element,s);var g=d?r.onDocked:r.onUndocked;g(t)},mM=function(t,r,o,s,d){d===void 0&&(d=!1),r.contextual.each(function(g){g.lazyContext(t).each(function(C){var E=V1(C,s);if(E!==o.isVisible())if(o.setVisible(E),d&&!E)Xd(t.element,[g.fadeOutClass]),g.onHide(t);else{var O=E?IA:NA;O(t,g)}})})},hM=function(t,r,o){var s=r.lazyViewport(t),d=o.isDocked();d&&mM(t,r,o,s),Bz(t,s,o).each(function(g){g.fold(function(){return LA(t,r,o)},function(C){return mS(t,r,o,C)},function(C){mM(t,r,o,s,!0),mS(t,r,o,C)})})},Mz=function(t,r,o){var s=t.element;o.setDocked(!1),$z(t,o).each(function(d){d.fold(function(){return LA(t,r,o)},function(g){return mS(t,r,o,g)},G)}),o.setVisible(!0),r.contextual.each(function(d){Ns(s,[d.fadeInClass,d.fadeOutClass,d.transitionClass]),d.onShow(t)}),zA(t,r,o)},zA=function(t,r,o){t.getSystem().isConnected()&&hM(t,r,o)},gM=function(t,r,o){o.isDocked()&&Mz(t,r,o)},Pz=function(t,r,o){return o.isDocked()},U1=function(t,r,o,s){return o.setModes(s)},pM=function(t,r,o){return o.getModes()},Iz=Object.freeze({__proto__:null,refresh:zA,reset:gM,isDocked:Pz,getModes:pM,setModes:U1}),bM=function(t,r){return Ca([Eo(_h(),function(o,s){t.contextual.each(function(d){if(bu(o.element,d.transitionClass)){Ns(o.element,[d.transitionClass,d.fadeInClass]);var g=r.isVisible()?d.onShown:d.onHidden;g(o)}s.stop()})}),Dt(b2(),function(o,s){zA(o,t,r)}),Dt(Bs(),function(o,s){gM(o,t,r)})])},Nz=Object.freeze({__proto__:null,events:bM}),HA=[ss("contextual",[Kn("fadeInClass"),Kn("fadeOutClass"),Kn("transitionClass"),tu("lazyContext"),Kr("onShow"),Kr("onShown"),Kr("onHide"),Kr("onHidden")]),Ea("lazyViewport",Ai),Kf("modes",["top","bottom"],bo),Kr("onDocked"),Kr("onUndocked")],Cf=function(t){var r=Pn(!1),o=Pn(!0),s=fo(),d=Pn(t.modes),g=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+d.get().join(",")};return Ki({isDocked:r.get,setDocked:r.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:o.get,setVisible:o.set,getModes:d.get,setModes:d.set,readState:g})},Fz=Object.freeze({__proto__:null,init:Cf}),Do=Ko({fields:HA,name:"docking",active:Nz,apis:Iz,state:Fz}),qO=ue(wn("toolbar-height-change")),kd={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},KO="tox-tinymce--toolbar-sticky-on",hS="tox-tinymce--toolbar-sticky-off",Wg=function(t,r){var o=Jo(r),s=o.dom.defaultView.innerHeight,d=os(o),g=un.fromDom(t.elm),C=Lc(g),E=$o(g),O=C.y,B=O+E,H=vu(r),W=$o(r),ee=H.top,ae=ee+W,fe=Math.abs(ee-d.top)<2,Se=Math.abs(ae-(d.top+s))<2;if(fe&&O<ae)lh(d.left,O-W,o);else if(Se&&B>ee){var Fe=O-s+E+W;lh(d.left,Fe,o)}},Wu=function(t,r){return lt(Do.getModes(t),r)},XO=function(t){var r=function(s){return as(s)+(parseInt(eo(s,"margin-top"),10)||0)+(parseInt(eo(s,"margin-bottom"),10)||0)},o=t.element;xo(o).each(function(s){var d="padding-"+Do.getModes(t)[0];if(Do.isDocked(t)){var g=Vi(s);Wn(o,"width",g+"px"),Wn(s,d,r(o)+"px")}else Gr(o,"width"),Gr(s,d)})},YO=function(t,r){r?(Po(t,kd.fadeOutClass),Xd(t,[kd.transitionClass,kd.fadeInClass])):(Po(t,kd.fadeInClass),Xd(t,[kd.fadeOutClass,kd.transitionClass]))},JO=function(t,r){var o=un.fromDom(t.getContainer());r?(Wo(o,KO),Po(o,hS)):(Wo(o,hS),Po(o,KO))},yM=function(t,r){var o=Jo(r);xu(o).filter(function(s){return!Sa(r,s)}).filter(function(s){return Sa(s,un.fromDom(o.dom.body))||Sl(t,s)}).each(function(){return vc(r)})},Lz=function(t,r){return dc(t).orThunk(function(){return r().toOptional().bind(function(o){return dc(o.element)})})},zz=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(Do.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(XO)}),t.on("SkinLoaded",function(){o().each(function(s){Do.isDocked(s)?Do.reset(s):Do.refresh(s)})}),t.on("FullscreenStateChanged",function(){o().each(Do.reset)})),t.on("AfterScrollIntoView",function(s){o().each(function(d){Do.refresh(d);var g=d.element;D_(g)&&Wg(s,g)})}),t.on("PostRender",function(){JO(t,!1)})},jg=function(t){return t().map(Do.isDocked).getOr(!1)},wM=function(){var t;return[nu.config({channels:(t={},t[qO()]={onReceive:XO},t)})]},W1=function(t,r){var o=fo(),s=r.getSink,d=function(E){s().each(function(O){return E(O.element)})},g=function(E){t.inline||XO(E),JO(t,Do.isDocked(E)),E.getSystem().broadcastOn([ig()],{}),s().each(function(O){return O.getSystem().broadcastOn([ig()],{})})},C=t.inline?[]:wM();return xe([Xn.config({}),Do.config({contextual:ne({lazyContext:function(E){var O=as(E.element),B=t.inline?t.getContentAreaContainer():t.getContainer(),H=Ao(un.fromDom(B)),W=H.height-O,ee=H.y+(Wu(E,"top")?0:O);return $.some(Vo(H.x,ee,H.width,W))},onShow:function(){d(function(E){return YO(E,!0)})},onShown:function(E){d(function(O){return Ns(O,[kd.transitionClass,kd.fadeInClass])}),o.get().each(function(O){yM(E.element,O),o.clear()})},onHide:function(E){Lz(E.element,s).fold(o.clear,o.set),d(function(O){return YO(O,!1)})},onHidden:function(){d(function(E){return Ns(E,[kd.transitionClass])})}},kd),lazyViewport:function(E){var O=Ai(),B=$k(t),H=O.y+(Wu(E,"top")?B:0),W=O.height-(Wu(E,"bottom")?B:0);return Vo(O.x,H,O.width,W)},modes:[r.header.getDockingMode()],onDocked:g,onUndocked:g})],C,!0)},VA=Object.freeze({__proto__:null,setup:zz,isDocked:jg,getBehaviours:W1}),CM=function(t){var r=t.editor,o=t.sticky?W1:lM;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Jt(o(r,t.sharedBackstage))}},Hz=Bn([Kn("type"),Iu("items",wp([o2([Kn("name"),Gi("items",bo)]),bo]))].concat(EC)),Vz=function(t){return qa("GroupToolbarButton",Hz,t)},Uz=[Aa("text"),Aa("tooltip"),Aa("icon"),tu("fetch"),Ea("onSetup",function(){return G})],Wz=Bn(xe([Kn("type")],Uz,!0)),j1=function(t){return qa("menubutton",Wz,t)},jz=Bn([Kn("type"),Aa("tooltip"),Aa("icon"),Aa("text"),Nv("select"),tu("fetch"),Ea("onSetup",function(){return G}),Os("presets","normal",["normal","color","listpreview"]),Ve("columns",1),tu("onAction"),tu("onItemAction")]),Gz=function(t){return qa("SplitButton",jz,t)},qz=function(t,r){var o=function(d,g){var C=Ue(g,function(E){var O={type:"menubutton",text:E.text,fetch:function(H){H(E.getItems())}},B=j1(O).mapError(function(H){return Iv(H)}).getOrDie();return xO(B,"tox-mbtn",r.backstage,$.some("menuitem"))});Zn.set(d,C)},s={focus:Fn.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:Jt([Zn.config({}),rr("menubar-events",[nr(function(d){t.onSetup(d)}),Dt(Yf(),function(d,g){jo(d.element,".tox-mbtn--active").each(function(C){al(g.event.target,".tox-mbtn").each(function(E){Sa(C,E)||d.getSystem().getByDom(C).each(function(O){d.getSystem().getByDom(E).each(function(B){gf.expand(B),gf.close(O),Xn.focus(B)})})})})}),Dt(x0(),function(d,g){g.event.prevFocus.bind(function(C){return d.getSystem().getByDom(C).toOptional()}).each(function(C){g.event.newFocus.bind(function(E){return d.getSystem().getByDom(E).toOptional()}).each(function(E){gf.isOpen(C)&&(gf.expand(E),gf.close(C))})})})]),Fn.config({mode:"flow",selector:".tox-mbtn",onEscape:function(d){return t.onEscape(d),$.some(!0)}}),To.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},ZO=zs({factory:qz,name:"silver.Menubar",configFields:[_t("dom"),_t("uid"),_t("onEscape"),_t("backstage"),Ve("onSetup",G)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),gS=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},yv=function(t){return t.dimension.property},Py=function(t,r){return t.dimension.getDimension(r)},UA=function(t,r){var o=gS(t,r);Ns(o,[r.shrinkingClass,r.growingClass])},pS=function(t,r){Po(t.element,r.openClass),Wo(t.element,r.closedClass),Wn(t.element,yv(r),"0px"),$a(t.element)},QO=function(t,r){Po(t.element,r.closedClass),Wo(t.element,r.openClass),Gr(t.element,yv(r))},bS=function(t,r,o,s){o.setCollapsed(),Wn(t.element,yv(r),Py(r,t.element)),$a(t.element),UA(t,r),pS(t,r),r.onStartShrink(t),r.onShrunk(t)},WA=function(t,r,o,s){var d=s.getOrThunk(function(){return Py(r,t.element)});o.setCollapsed(),Wn(t.element,yv(r),d),$a(t.element);var g=gS(t,r);Po(g,r.growingClass),Wo(g,r.shrinkingClass),pS(t,r),r.onStartShrink(t)},Gg=function(t,r,o){var s=Py(r,t.element),d=s==="0px"?bS:WA;d(t,r,o,$.some(s))},SM=function(t,r,o){var s=gS(t,r),d=bu(s,r.shrinkingClass),g=Py(r,t.element);QO(t,r);var C=Py(r,t.element),E=function(){Wn(t.element,yv(r),g),$a(t.element)},O=function(){pS(t,r)},B=d?E:O;B(),Po(s,r.shrinkingClass),Wo(s,r.growingClass),QO(t,r),Wn(t.element,yv(r),C),o.setExpanded(),r.onStartGrow(t)},Kz=function(t,r,o){if(o.isExpanded()){Gr(t.element,yv(r));var s=Py(r,t.element);Wn(t.element,yv(r),s)}},e5=function(t,r,o){o.isExpanded()||SM(t,r,o)},Xz=function(t,r,o){o.isExpanded()&&Gg(t,r,o)},jA=function(t,r,o){o.isExpanded()&&bS(t,r,o)},xM=function(t,r,o){return o.isExpanded()},Yz=function(t,r,o){return o.isCollapsed()},_M=function(t,r,o){var s=gS(t,r);return bu(s,r.growingClass)===!0},Iy=function(t,r,o){var s=gS(t,r);return bu(s,r.shrinkingClass)===!0},t5=function(t,r,o){return _M(t,r)||Iy(t,r)},Jz=function(t,r,o){var s=o.isExpanded()?Gg:SM;s(t,r,o)},Zz=Object.freeze({__proto__:null,refresh:Kz,grow:e5,shrink:Xz,immediateShrink:jA,hasGrown:xM,hasShrunk:Yz,isGrowing:_M,isShrinking:Iy,isTransitioning:t5,toggleGrow:Jz,disableTransitions:UA}),kM=function(t,r,o){var s=r.expanded;return Bl(s?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Vc(r.dimension.property,"0px")})},Qz=function(t,r){return Ca([Eo(_h(),function(o,s){var d=s.event.raw;if(d.propertyName===t.dimension.property){UA(o,t),r.isExpanded()&&Gr(o.element,t.dimension.property);var g=r.isExpanded()?t.onGrown:t.onShrunk;g(o)}})])},e7=Object.freeze({__proto__:null,exhibit:kM,events:Qz}),e=[_t("closedClass"),_t("openClass"),_t("shrinkingClass"),_t("growingClass"),qr("getAnimationRoot"),Kr("onShrunk"),Kr("onStartShrink"),Kr("onGrown"),Kr("onStartGrow"),Ve("expanded",!1),Iu("dimension",el("property",{width:[_a("property","width"),_a("getDimension",function(t){return Vi(t)+"px"})],height:[_a("property","height"),_a("getDimension",function(t){return $o(t)+"px"})]}))],n=function(t){var r=Pn(t.expanded),o=function(){return"expanded: "+r.get()};return Ki({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:ke(r.set,!1),setExpanded:ke(r.set,!0),readState:o})},a=Object.freeze({__proto__:null,init:n}),i=Ko({fields:e,name:"sliding",active:e7,apis:Zz,state:a}),l="container",v=[Xo("slotBehaviours",[])],p=function(t){return"<alloy.field."+t+">"},x=function(t){var r=function(){var g=[],C=function(E,O){return g.push(E),Fw(l,p(E),O)};return{slot:C,record:ue(g)}}(),o=t(r),s=r.record(),d=Ue(s,function(g){return Ii({name:g,pname:p(g)})});return Uw(l,v,d,A,o)},A=function(t,r){var o=function(Se){return l_(t)},s=function(Se,Fe){return ga(Se,t,Fe)},d=function(Se,Fe){return function(we,ze){return ga(we,t,ze).map(function(ft){return Se(ft,ze)}).getOr(Fe)}},g=function(Se){return function(Fe,we){gt(we,function(ze){return Se(Fe,ze)})}},C=function(Se,Fe){return Fa(Se.element,"aria-hidden")!=="true"},E=function(Se,Fe){if(!C(Se)){var we=Se.element;Gr(we,"display"),ii(we,"aria-hidden"),In(Se,Jf(),{name:Fe,visible:!0})}},O=function(Se,Fe){if(C(Se)){var we=Se.element;Wn(we,"display","none"),or(we,"aria-hidden","true"),In(Se,Jf(),{name:Fe,visible:!1})}},B=d(C,!1),H=d(O),W=g(H),ee=function(Se){return W(Se,o())},ae=d(E),fe={getSlotNames:o,getSlot:s,isShowing:B,hideSlot:H,hideAllSlots:ee,showSlot:ae};return{uid:t.uid,dom:t.dom,components:r,behaviours:cg(t.slotBehaviours),apis:fe}},I=ur({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return Ka(t)}),K=ne(ne({},I),{sketch:x}),J=Bn([Aa("icon"),Aa("tooltip"),Ea("onShow",G),Ea("onHide",G),Ea("onSetup",function(){return G})]),Q=function(t){return qa("sidebar",J,t)},ce=function(t){var r=t.ui.registry.getAll().sidebars;gt(Ir(r),function(o){var s=r[o],d=function(){return lu($.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:s.icon,tooltip:s.tooltip,onAction:function(g){t.execCommand("ToggleSidebar",!1,o),g.setActive(d())},onSetup:function(g){var C=function(){return g.setActive(d())};return t.on("ToggleSidebar",C),function(){t.off("ToggleSidebar",C)}}})})},ve=function(t){return{element:function(){return t.element.dom}}},me=function(t,r){var o=Ue(Ir(r),function(s){var d=r[s],g=Al(Q(d));return{name:s,getApi:ve,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return Ue(o,function(s){var d=Pn(G);return t.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:kk.unnamedEvents([x1(s,d),_1(s,d),Dt(Jf(),function(g,C){var E=C.event,O=pt(o,function(B){return B.name===E.name});O.each(function(B){var H=E.visible?B.onShow:B.onHide;H(B.getApi(g))})})])})})},he=function(t){return K.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:me(r,t),slotBehaviours:kk.unnamedEvents([nr(function(o){return K.hideAllSlots(o)})])}})},Oe=function(t,r){var o=Cr.getCurrent(t);o.each(function(s){return Zn.set(s,[he(r)])})},_e=function(t,r){var o=Cr.getCurrent(t);o.each(function(s){var d=Cr.getCurrent(s);d.each(function(g){i.hasGrown(s)?K.isShowing(g,r)?i.shrink(s):(K.hideAllSlots(g),K.showSlot(g,r)):(K.hideAllSlots(g),K.showSlot(g,r),i.grow(s))})})},qe=function(t){var r=Cr.getCurrent(t);return r.bind(function(o){var s=i.isGrowing(o)||i.hasGrown(o);if(s){var d=Cr.getCurrent(o);return d.bind(function(g){return pt(K.getSlotNames(g),function(C){return K.isShowing(g,C)})})}else return $.none()})},We=wn("FixSizeEvent"),Re=wn("AutoSizeEvent"),Je=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Jt([To.config({}),Xn.config({}),i.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=Cr.getCurrent(r);o.each(K.hideAllSlots),Vr(r,Re)},onGrown:function(r){Vr(r,Re)},onStartGrow:function(r){In(r,We,{width:ko(r.element,"width").getOr("")})},onStartShrink:function(r){In(r,We,{width:Vi(r.element)+"px"})}}),Zn.config({}),Cr.config({find:function(r){var o=Zn.contents(r);return tr(o)}})])}],behaviours:Jt([pv.childAt(0),rr("sidebar-sliding-events",[Dt(We,function(r,o){Wn(r.element,"width",o.event.width)}),Dt(Re,function(r,o){Gr(r.element,"width")})])])}},St=function(t,r,o,s){or(t.element,"aria-busy",!0);var d=r.getRoot(t).getOr(t),g=Jt([Fn.config({mode:"special",onTab:function(){return $.some(!0)},onShiftTab:function(){return $.some(!0)}}),Xn.config({})]),C=s(d,g),E=d.getSystem().build(C);Zn.append(d,Fs(E)),E.hasConfigured(Fn)&&r.focus&&Fn.focusIn(E),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return Zn.remove(d,E)})},Nt=function(t,r,o){ii(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},Hn=Object.freeze({__proto__:null,block:St,unblock:Nt}),mn=[Ea("getRoot",$.none),wa("focus",!0),Kr("onBlock"),Kr("onUnblock")],Rt=function(){var t=Y2(),r=function(o){t.set({destroy:o})};return Ki({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},Ln=Object.freeze({__proto__:null,init:Rt}),Vt=Ko({fields:mn,name:"blocking",apis:Hn,state:Ln}),fn=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return Qe(r,function(o,s){var d;return s.name==="class"?o:ne(ne({},o),(d={},d[s.name]=s.value,d))},{})},jt=function(t){return Array.prototype.slice.call(t.dom.classList,0)},Zt=function(t){var r=un.fromHtml(t),o=je(r),s=fn(r),d=jt(r),g=o.length===0?{}:{innerHtml:jc(r)};return ne({tag:Qu(r),classes:d,attributes:s},g)},yn=function(t){return function(r,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Zt('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},$t=function(t){return Cr.getCurrent(t).each(function(r){return vc(r.element)})},hn=function(t,r){var o="tabindex",s="data-mce-"+o;$.from(t.iframeElement).map(un.fromDom).each(function(d){r?(Ga(d,o).each(function(g){return or(d,s,g)}),or(d,o,-1)):(ii(d,o),Ga(d,s).each(function(g){or(d,o,g),ii(d,s)}))})},xr=function(t,r,o,s){var d=r.element;if(hn(t,o),o)Vt.block(r,yn(s)),Gr(d,"display"),ii(d,"aria-hidden"),t.hasFocus()&&$t(r);else{var g=Cr.getCurrent(r).exists(function(C){return zp(C.element)});Vt.unblock(r),Wn(d,"display","none"),or(d,"aria-hidden","true"),g&&t.focus()}},ta=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Jt([Zn.config({}),Vt.config({focus:!1}),Cr.config({find:function(r){return tr(r.components())}})]),components:[]}},Yr=function(t){return t.type==="focusin"},Fi=function(t){if(Yr(t)){var r=t.composed?tr(t.composedPath()):$.from(t.target);return r.map(un.fromDom).filter(go).exists(function(o){return bu(o,"mce-pastebin")})}else return!1},ao=function(t,r,o){var s=Pn(!1),d=fo(),g=function(E){s.get()&&!Fi(E)&&(E.preventDefault(),$t(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",g),t.on("BeforeExecCommand",function(E){E.command.toLowerCase()==="mcefocus"&&E.value!==!0&&g(E)})});var C=function(E){E!==s.get()&&(s.set(E),xr(t,r(),E,o.providers),t.fire("AfterProgressState",{state:E}))};t.on("ProgressState",function(E){if(d.on($g.clearTimeout),z(E.time)){var O=$g.setEditorTimeout(t,function(){return C(E.state)},E.time);d.set(O)}else C(E.state),d.clear()})},ju=function(t,r){var o={len:0,list:[]},s=Qe(t,function(d,g){var C=r(g,d.len);return C.fold(ue(d),function(E){return{len:E.finish,list:d.list.concat([E])}})},o);return s.list},ps=function(t,r,o){return{within:t,extra:r,withinWidth:o}},Mt=function(t,r,o){var s=ju(t,function(E,O){var B=o(E);return $.some({element:E,start:O,finish:O+B,width:B})}),d=Ae(s,function(E){return E.finish<=r}),g=Ye(d,function(E,O){return E+O.width},0),C=s.slice(d.length);return{within:d,extra:C,withinWidth:g}},qt=function(t){return Ue(t,function(r){return r.element})},Dn=function(t,r,o){var s=qt(t.concat(r));return ps(s,[],o)},et=function(t,r,o,s){var d=qt(t).concat([o]);return ps(d,qt(r),s)},Ht=function(t,r,o){return ps(qt(t),[],o)},Pt=function(t,r,o){var s=Mt(r,t,o);return s.extra.length===0?$.some(s):$.none()},$n=function(t,r,o,s){var d=Pt(t,r,o).getOrThunk(function(){return Mt(r,t-o(s),o)}),g=d.within,C=d.extra,E=d.withinWidth;return C.length===1&&C[0].width<=o(s)?Dn(g,C,E):C.length>=1?et(g,C,s,E):Ht(g,C,E)},Nn=function(t,r){var o=Ue(r,function(s){return Fs(s)});bv.setGroups(t,o)},ka=function(t){return Jr(t,function(r){return dc(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},ni=function(t,r,o){var s=r.builtGroups.get();if(s.length!==0){var d=sf(t,r,"primary"),g=Oo.getCoupled(t,"overflowGroup");Wn(d.element,"visibility","hidden");var C=s.concat([g]),E=ka(C);o([]),Nn(d,C);var O=Vi(d.element),B=$n(O,r.builtGroups.get(),function(H){return Vi(H.element)},g);B.extra.length===0?(Zn.remove(d,g),o([])):(Nn(d,B.within),o(B.extra)),Gr(d.element,"visibility"),$a(d.element),E.each(Xn.focus)}},Yo=ue([Xo("splitToolbarBehaviours",[Oo]),hu("builtGroups",function(){return Pn([])})]),Mm=ue([Qd(["overflowToggledClass"]),Nv("getOverflowBounds"),_t("lazySink"),hu("overflowGroups",function(){return Pn([])})].concat(Yo())),Gu=ue([Ii({factory:bv,schema:My(),name:"primary"}),Ls({schema:My(),name:"overflow"}),Ls({name:"overflow-button"}),Ls({name:"overflow-group"})]),Eu=ue(function(t,r){ki(t,Math.floor(r))}),hi=ue([Qd(["toggledClass"]),_t("lazySink"),tu("fetch"),Nv("getBounds"),ss("fireDismissalEventInstead",[Ve("event",Dl())]),nd()]),Vl=ue([Ls({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Jt([Br.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Ls({factory:bv,schema:My(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Jt([Fn.config({mode:"cyclic",onEscape:function(r){return ga(r,t,"button").each(Xn.focus),$.none()}})])}}})]),qu=function(t,r){var o=Oo.getCoupled(t,"toolbarSandbox");Tr.isOpen(o)?Tr.close(o):Tr.open(o,r.toolbar())},Sf=function(t,r,o,s){var d=o.getBounds.map(function(C){return C()}),g=o.lazySink(t).getOrDie();vo.positionWithinBounds(g,r,{anchor:{type:"hotspot",hotspot:t,layouts:s,overrides:{maxWidthFunction:Eu()}}},d)},Ta=function(t,r,o,s,d){bv.setGroups(r,d),Sf(t,r,o,s),Br.on(t)},Ha=function(t,r,o){var s=Yd(),d=function(C,E){o.fetch().get(function(O){Ta(t,E,o,r.layouts,O),s.link(t.element),Fn.focusIn(E)})},g=function(){Br.off(t),Xn.focus(t),s.unlink(t.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:Jt([Fn.config({mode:"special",onEscape:function(C){return Tr.close(C),$.some(!0)}}),Tr.config({onOpen:d,onClose:g,isPartOf:function(C,E,O){return Jd(E,O)||Jd(t,O)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),nu.config({channels:ne(ne({},Vu(ne({isExtraPart:pe},o.fireDismissalEventInstead.map(function(C){return{fireEventInstead:{event:C.event}}}).getOr({})))),dm({doReposition:function(){Tr.getState(Oo.getCoupled(t,"toolbarSandbox")).each(function(C){Sf(t,C,o,r.layouts)})}}))})])}},gi=function(t,r,o,s){return ne(ne({},ms.sketch(ne(ne({},s.button()),{action:function(d){qu(d,s)},buttonBehaviours:il.augment({dump:s.button().buttonBehaviours},[Oo.config({others:{toolbarSandbox:function(d){return Ha(d,o,t)}}})])}))),{apis:{setGroups:function(d,g){Tr.getState(Oo.getCoupled(d,"toolbarSandbox")).each(function(C){Ta(d,C,t,o.layouts,g)})},reposition:function(d){Tr.getState(Oo.getCoupled(d,"toolbarSandbox")).each(function(g){Sf(d,g,t,o.layouts)})},toggle:function(d){qu(d,s)},getToolbar:function(d){return Tr.getState(Oo.getCoupled(d,"toolbarSandbox"))},isOpen:function(d){return Tr.isOpen(Oo.getCoupled(d,"toolbarSandbox"))}}})},bs=_u({name:"FloatingToolbarButton",factory:gi,configFields:hi(),partFields:Vl(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),wv=ue([_t("items"),Qd(["itemSelector"]),Xo("tgroupBehaviours",[Fn])]),Cv=ue([uf({name:"items",unit:"item"})]),qg=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.tgroupBehaviours,[Fn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},Ny=_u({name:"ToolbarGroup",configFields:wv(),partFields:Cv(),factory:qg}),GA=function(t){return Ue(t,function(r){return Fs(r)})},AM=function(t,r,o){ni(t,o,function(s){o.overflowGroups.set(s),r.getOpt(t).each(function(d){bs.setGroups(d,GA(s))})})},EM=function(t,r,o,s){var d=ra(bs.sketch({fetch:function(){return Ji.nu(function(g){g(GA(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[ei,Xi]},onRtl:function(){return[Xi,ei]},onBottomLtr:function(){return[Su,Cu]},onBottomRtl:function(){return[Cu,Su]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.splitToolbarBehaviours,[Oo.config({others:{overflowGroup:function(){return Ny.sketch(ne(ne({},s["overflow-group"]()),{items:[d.asSpec()]}))}}})]),apis:{setGroups:function(g,C){t.builtGroups.set(Ue(C,g.getSystem().build)),AM(g,d,t)},refresh:function(g){return AM(g,d,t)},toggle:function(g){d.getOpt(g).each(function(C){bs.toggle(C)})},isOpen:function(g){return d.getOpt(g).map(bs.isOpen).getOr(!1)},reposition:function(g){d.getOpt(g).each(function(C){bs.reposition(C)})},getOverflow:function(g){return d.getOpt(g).bind(bs.getToolbar)}},domModification:{attributes:{role:"group"}}}},n5=_u({name:"SplitFloatingToolbar",configFields:Mm(),partFields:Gu(),factory:EM,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),t7=ue([Qd(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Kr("onOpened"),Kr("onClosed")].concat(Yo())),TM=ue([Ii({factory:bv,schema:My(),name:"primary"}),Ii({factory:bv,schema:My(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Jt([i.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){ga(r,t,"overflow-button").each(function(o){Br.off(o),Xn.focus(o)}),t.onClosed(r)},onGrown:function(r){Fn.focusIn(r),t.onOpened(r)},onStartGrow:function(r){ga(r,t,"overflow-button").each(Br.on)}}),Fn.config({mode:"acyclic",onEscape:function(r){return ga(r,t,"overflow-button").each(Xn.focus),$.some(!0)}})])}}}),Ls({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Jt([Br.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Ls({name:"overflow-group"})]),n7=function(t,r){return ga(t,r,"overflow").map(i.hasGrown).getOr(!1)},OM=function(t,r){ga(t,r,"overflow-button").bind(function(){return ga(t,r,"overflow")}).each(function(o){r5(t,r),i.toggleGrow(o)})},r5=function(t,r){ga(t,r,"overflow").each(function(o){ni(t,r,function(s){var d=Ue(s,function(g){return Fs(g)});bv.setGroups(o,d)}),ga(t,r,"overflow-button").each(function(s){i.hasGrown(o)&&Br.on(s)}),i.refresh(o)})},r7=function(t,r,o,s){var d="alloy.toolbar.toggle",g=function(C,E){var O=Ue(E,C.getSystem().build);t.builtGroups.set(O)};return{uid:t.uid,dom:t.dom,components:r,behaviours:ci(t.splitToolbarBehaviours,[Oo.config({others:{overflowGroup:function(C){return Ny.sketch(ne(ne({},s["overflow-group"]()),{items:[ms.sketch(ne(ne({},s["overflow-button"]()),{action:function(E){Vr(C,d)}}))]}))}}}),rr("toolbar-toggle-events",[Dt(d,function(C){OM(C,t)})])]),apis:{setGroups:function(C,E){g(C,E),r5(C,t)},refresh:function(C){return r5(C,t)},toggle:function(C){return OM(C,t)},isOpen:function(C){return n7(C,t)}},domModification:{attributes:{role:"group"}}}},Pm=_u({name:"SplitSlidingToolbar",configFields:t7(),partFields:TM(),factory:r7,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),a5=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:ne({tag:"div",classes:["tox-toolbar__group"]},r),components:[Ny.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Jt([To.config({}),Xn.config({})])}},Ie=function(t){return Ny.sketch(a5(t))},st=function(t,r){var o=nr(function(s){var d=Ue(t.initGroups,Ie);bv.setGroups(s,d)});return Jt([mf.toolbarButton(t.providers.isDisabled),ti(),Fn.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),rr("toolbar-events",[o])])},Ut=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":a5({title:$.none(),items:[]}),"overflow-button":f$({name:"more",icon:$.some("more-drawer"),disabled:!1,tooltip:$.some("More..."),primary:!1,borderless:!1},$.none(),t.providers)},splitToolbarBehaviours:st(t,r)}},tn=function(t){var r=Ut(t),o=4,s=n5.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return n5.sketch(ne(ne({},r),{lazySink:t.getSink,getOverflowBounds:function(){var d=t.moreDrawerData.lazyHeader().element,g=Lc(d),C=yt(d),E=Lc(C),O=Math.max(C.dom.scrollHeight,E.height);return Vo(g.x+o,E.y,g.width-o*2,O)},parts:ne(ne({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},mr=function(t){var r=Pm.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=Pm.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=Ut(t);return Pm.sketch(ne(ne({},s),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(d){d.getSystem().broadcastOn([qO()],{type:"opened"})},onClosed:function(d){d.getSystem().broadcastOn([qO()],{type:"closed"})}}))},Wr=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return bv.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Ll.scrolling?["tox-toolbar--scrolling"]:[])},components:[bv.parts.groups({})],toolbarBehaviours:st(t,r)})},Xa=function(t,r,o){var s={getSocket:function(d){return Ws.getPart(d,t,"socket")},setSidebar:function(d,g){Ws.getPart(d,t,"sidebar").each(function(C){return Oe(C,g)})},toggleSidebar:function(d,g){Ws.getPart(d,t,"sidebar").each(function(C){return _e(C,g)})},whichSidebar:function(d){return Ws.getPart(d,t,"sidebar").bind(qe).getOrNull()},getHeader:function(d){return Ws.getPart(d,t,"header")},getToolbar:function(d){return Ws.getPart(d,t,"toolbar")},setToolbar:function(d,g){Ws.getPart(d,t,"toolbar").each(function(C){C.getApis().setGroups(C,g)})},setToolbars:function(d,g){Ws.getPart(d,t,"multiple-toolbar").each(function(C){uM.setItems(C,g)})},refreshToolbar:function(d){var g=Ws.getPart(d,t,"toolbar");g.each(function(C){return C.getApis().refresh(C)})},toggleToolbarDrawer:function(d){Ws.getPart(d,t,"toolbar").each(function(g){Ef(g.getApis().toggle,function(C){return C(g)})})},isToolbarDrawerToggled:function(d){return Ws.getPart(d,t,"toolbar").bind(function(g){return $.from(g.getApis().isOpen).map(function(C){return C(g)})}).getOr(!1)},getThrobber:function(d){return Ws.getPart(d,t,"throbber")},focusToolbar:function(d){var g=Ws.getPart(d,t,"toolbar").orThunk(function(){return Ws.getPart(d,t,"multiple-toolbar")});g.each(function(C){Fn.focusIn(C)})},setMenubar:function(d,g){Ws.getPart(d,t,"menubar").each(function(C){ZO.setMenus(C,g)})},focusMenubar:function(d){Ws.getPart(d,t,"menubar").each(function(g){ZO.focus(g)})}};return{uid:t.uid,dom:t.dom,components:r,apis:s,behaviours:t.behaviours}},Kg=Ug.optional({factory:ZO,name:"menubar",schema:[_t("backstage")]}),gG=function(t){return t.type===Ll.sliding?mr:t.type===Ll.floating?tn:Wr},pG=Ug.optional({factory:{sketch:function(t){return uM.sketch({uid:t.uid,dom:t.dom,listBehaviours:Jt([Fn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return Wr({type:t.type,uid:wn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),$.some(!0)}})},setupItem:function(r,o,s,d){bv.setGroups(o,s)},shell:!0})}},name:"multiple-toolbar",schema:[_t("dom"),_t("onEscape")]}),bG=Ug.optional({factory:{sketch:function(t){var r=gG(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),$.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[_t("dom"),_t("onEscape"),_t("getSink")]}),yG=Ug.optional({factory:{sketch:CM},name:"header",schema:[_t("dom")]}),wG=Ug.optional({name:"socket",schema:[_t("dom")]}),CG=Ug.optional({factory:{sketch:Je},name:"sidebar",schema:[_t("dom")]}),SG=Ug.optional({factory:{sketch:ta},name:"throbber",schema:[_t("dom")]}),No=_u({name:"OuterContainer",factory:Xa,configFields:[_t("dom"),_t("behaviours")],partFields:[yG,Kg,bG,pG,wG,CG,SG],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var s=Ue(o,function(d){return Ie(d)});t.setToolbar(r,s)},setToolbars:function(t,r,o){var s=Ue(o,function(d){return Ue(d,Ie)});t.setToolbars(r,s)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),xG="file edit view insert format tools table help",v9={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},_G=function(t,r,o){var s=wD(o).split(/[ ,]/);return{text:t.title,getItems:function(){return Wt(t.items,function(d){var g=d.toLowerCase();return g.trim().length===0?[]:Sn(s,function(C){return C===g})?[]:g==="separator"||g==="|"?[{type:"separator"}]:r.menuItems[g]?[r.menuItems[g]]:[]})}}},a7=function(t){return typeof t=="string"?t.split(" "):t},d9=function(t,r){var o=ne(ne({},v9),r.menus),s=Ir(r.menus).length>0,d=r.menubar===void 0||r.menubar===!0?a7(xG):a7(r.menubar===!1?"":r.menubar),g=Ae(d,function(E){var O=Dr(v9,E);return s?O||En(r.menus,E).exists(function(B){return Dr(B,"items")}):O}),C=Ue(g,function(E){var O=o[E];return _G({title:O.title,items:a7(O.items)},r,t)});return Ae(C,function(E){var O=function(B){return B.type!=="separator"};return E.getItems().length>0&&Sn(E.getItems(),O)})},m9=function(t){var r=function(){t._skinLoaded=!0,FP(t)};return function(){t.initialized?r():t.on("init",r)}},kG=function(t,r){return function(){return ZD(t,{message:r})}},h9=function(t,r,o){return new AC(function(s,d){o.load(r,s,d),t.on("remove",function(){return o.unload(r)})})},AG=function(t,r){var o=r+"/skin.min.css";return h9(t,o,t.ui.styleSheetLoader)},EG=function(t,r){var o=s0(un.fromDom(t.getElement()));if(o){var s=r+"/skin.shadowdom.min.css";return h9(t,s,Cy.DOM.styleSheetLoader)}else return AC.resolve()},g9=function(t,r){var o=tP(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),rP(r)===!1&&S(o)?AC.all([AG(r,o),EG(r,o)]).then(m9(r),kG(r,"Skin could not be loaded")):m9(r)()},TG=ke(g9,!1),OG=ke(g9,!0),DM=function(t,r){return function(o){var s=Hh(),d=function(){o.setActive(t.formatter.match(r));var g=t.formatter.formatChanged(r,o.setActive);s.set(g)};return t.initialized?d():t.once("init",d),function(){t.off("init",d),s.clear()}}},RM=function(t,r,o){return function(s){var d=function(){return o(s)},g=function(){o(s),t.on(r,d)};return t.initialized?g():t.once("init",g),function(){t.off("init",g),t.off(r,d)}}},p9=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},Sv=function(t,r){return function(){return t.execCommand(r)}},DG=function(t,r,o){var s=function(E,O,B,H){var W=r.shared.providers.translate(E.title);if(E.type==="separator")return $.some({type:"separator",text:W});if(E.type==="submenu"){var ee=Wt(E.getStyleItems(),function(ae){return d(ae,O,H)});return O===0&&ee.length<=0?$.none():$.some({type:"nestedmenuitem",text:W,disabled:ee.length<=0,getSubmenuItems:function(){return Wt(E.getStyleItems(),function(ae){return d(ae,O,H)})}})}else return $.some(ne({type:"togglemenuitem",text:W,icon:E.icon,active:E.isSelected(H),disabled:B,onAction:o.onAction(E)},E.getStylePreview().fold(function(){return{}},function(ae){return{meta:{style:ae}}})))},d=function(E,O,B){var H=E.type==="formatter"&&o.isInvalid(E);return O===0?H?[]:s(E,O,!1,B).toArray():s(E,O,H,B).toArray()},g=function(E){var O=o.getCurrentValue(),B=o.shouldHide?0:1;return Wt(E,function(H){return d(H,B,O)})},C=function(E,O){return function(B,H){var W=O(),ee=g(W),ae=By(ee,uu.CLOSE_ON_EXECUTE,E,!1);H(ae)}};return{validateItems:g,getFetch:C}},qA=function(t,r,o){var s=o.dataset,d=s.type==="basic"?function(){return Ue(s.data,function(g){return LO(g,o.isSelectedFor,o.getPreviewFor)})}:s.getData;return{items:DG(t,r,o),getStyleItems:d}},o5=function(t,r,o){var s=qA(t,r,o),d=s.items,g=s.getStyleItems,C=function(O){return{getComponent:ue(O)}},E=RM(t,"NodeChange",function(O){var B=O.getComponent();o.updateText(B)});return pA({text:o.icon.isSome()?$.none():o.text,icon:o.icon,tooltip:$.from(o.tooltip),role:$.none(),fetch:d.getFetch(r,g),onSetup:E,getApi:C,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},RG=function(t){return Ue(t,function(r){var o=r,s=r,d=r.split("=");return d.length>1&&(o=d[0],s=d[1]),{title:o,format:s}})},BG=function(t){return{type:"basic",data:t}},KA;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(KA||(KA={}));var $G=function(t,r){return r===KA.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},o7=function(t,r,o,s){var d=t.getParam(r,o,"string"),g=RG($G(d,s));return{type:"basic",data:g}},i7=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],b9=function(t){var r=function(){return pt(i7,function(E){return t.formatter.match(E.format)})},o=function(E){return function(){return t.formatter.match(E)}},s=function(E){return $.none},d=function(E){var O=r(),B=O.fold(ue("left"),function(H){return H.title.toLowerCase()});In(E,s$,{icon:"align-"+B})},g=BG(i7),C=function(E){return function(){return pt(i7,function(O){return O.format===E.format}).each(function(O){return t.execCommand(O.command)})}};return{tooltip:"Align",text:$.none(),icon:$.some("align-left"),isSelectedFor:o,getCurrentValue:$.none,getPreviewFor:s,onAction:C,updateText:d,dataset:g,shouldHide:!1,isInvalid:function(E){return!t.formatter.canApply(E.format)}}},MG=function(t,r){return o5(t,r,b9(t))},PG=function(t,r){var o=qA(t,r,b9(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},IG="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",NG=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],y9=function(t){var r=t.split(/\s*,\s*/);return Ue(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},FG=function(t){var r=function(){var o=y9(t.toLowerCase());return Ot(NG,function(s){return o.indexOf(s.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},w9=function(t){var r="System Font",o=function(){var B=function(fe){return fe?y9(fe)[0]:""},H=t.queryCommandValue("FontName"),W=O.data,ee=H?H.toLowerCase():"",ae=pt(W,function(fe){var Se=fe.format;return Se.toLowerCase()===ee||B(Se).toLowerCase()===B(ee).toLowerCase()}).orThunk(function(){return qs(FG(ee),{title:r,format:ee})});return{matchOpt:ae,font:H}},s=function(B){return function(H){return H.exists(function(W){return W.format===B})}},d=function(){var B=o().matchOpt;return B},g=function(B){return function(){return $.some({tag:"div",styles:B.indexOf("dings")===-1?{"font-family":B}:{}})}},C=function(B){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,B.format)})}},E=function(B){var H=o(),W=H.matchOpt,ee=H.font,ae=W.fold(ue(ee),function(fe){return fe.title});In(B,N1,{text:ae})},O=o7(t,"font_formats",IG,KA.SemiColon);return{tooltip:"Fonts",text:$.some(r),icon:$.none(),isSelectedFor:s,getCurrentValue:d,getPreviewFor:g,onAction:C,updateText:E,dataset:O,shouldHide:!1,isInvalid:pe}},LG=function(t,r){return o5(t,r,w9(t))},zG=function(t,r){var o=qA(t,r,w9(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},HG="8pt 10pt 12pt 14pt 18pt 24pt 36pt",VG={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},UG={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},WG=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},jG=function(t,r){return/[0-9.]+px$/.test(t)?WG(parseInt(t,10)*72/96,r||0)+"pt":En(UG,t).getOr(t)},GG=function(t){return En(VG,t).getOr("")},C9=function(t){var r=function(){var O=$.none(),B=E.data,H=t.queryCommandValue("FontSize");if(H)for(var W=function(ae){var fe=jG(H,ae),Se=GG(fe);O=pt(B,function(Fe){return Fe.format===H||Fe.format===fe||Fe.format===Se})},ee=3;O.isNone()&&ee>=0;ee--)W(ee);return{matchOpt:O,size:H}},o=function(O){return function(B){return B.exists(function(H){return H.format===O})}},s=function(){var O=r().matchOpt;return O},d=ue($.none),g=function(O){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,O.format)})}},C=function(O){var B=r(),H=B.matchOpt,W=B.size,ee=H.fold(ue(W),function(ae){return ae.title});In(O,N1,{text:ee})},E=o7(t,"fontsize_formats",HG,KA.Space);return{tooltip:"Font sizes",text:$.some("12pt"),icon:$.none(),isSelectedFor:o,getPreviewFor:d,getCurrentValue:s,onAction:g,updateText:C,dataset:E,shouldHide:!1,isInvalid:pe}},qG=function(t,r){return o5(t,r,C9(t))},KG=function(t,r){var o=qA(t,r,C9(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},S9=function(t,r){var o=r(),s=Ue(o,function(d){return d.format});return $.from(t.formatter.closest(s)).bind(function(d){return pt(o,function(g){return g.format===d})}).orThunk(function(){return qs(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},XG="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",x9=function(t){var r="Paragraph",o=function(C){return function(){return t.formatter.match(C)}},s=function(C){return function(){var E=t.formatter.get(C);return $.some({tag:E.length>0&&(E[0].inline||E[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))})}},d=function(C){var E=S9(t,function(){return g.data}),O=E.fold(ue(r),function(B){return B.title});In(C,N1,{text:O})},g=o7(t,"block_formats",XG,KA.SemiColon);return{tooltip:"Blocks",text:$.some(r),icon:$.none(),isSelectedFor:o,getCurrentValue:$.none,getPreviewFor:s,onAction:p9(t),updateText:d,dataset:g,shouldHide:!1,isInvalid:function(C){return!t.formatter.canApply(C.format)}}},YG=function(t,r){return o5(t,r,x9(t))},JG=function(t,r){var o=qA(t,r,x9(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},_9=function(t,r){var o="Paragraph",s=function(C){return function(){return t.formatter.match(C)}},d=function(C){return function(){var E=t.formatter.get(C);return E!==void 0?$.some({tag:E.length>0&&(E[0].inline||E[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(C))}):$.none()}},g=function(C){var E=function(W){var ee=W.items;return ee!==void 0&&ee.length>0?Wt(ee,E):[{title:W.title,format:W.format}]},O=Wt(FO(t),E),B=S9(t,ue(O)),H=B.fold(ue(o),function(W){return W.title});In(C,N1,{text:H})};return{tooltip:"Formats",text:$.some(o),icon:$.none(),isSelectedFor:s,getCurrentValue:$.none,getPreviewFor:d,onAction:p9(t),updateText:g,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(C){return!t.formatter.canApply(C.format)},dataset:r}},ZG=function(t,r){var o=ne({type:"advanced"},r.styleselect);return o5(t,r,_9(t,o))},QG=function(t,r){var o=ne({type:"advanced"},r.styleselect),s=qA(t,r,_9(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},eq=function(t,r){var o=function(s,d){t.updateState.each(function(g){var C=g(s,d);r.set(C)}),t.renderComponents.each(function(g){var C=g(d,r.get()),E=Ue(C,s.getSystem().build);ww(s,E)})};return Ca([Dt(nl(),function(s,d){var g=d;if(!g.universal){var C=t.channel;lt(g.channels,C)&&o(s,g.data)}}),nr(function(s,d){t.initialData.each(function(g){o(s,g)})})])},tq=Object.freeze({__proto__:null,events:eq}),nq=function(t,r,o){return o},rq=Object.freeze({__proto__:null,getState:nq}),aq=[_t("channel"),qr("renderComponents"),qr("updateState"),qr("initialData")],oq=function(){var t=Pn($.none()),r=function(){return t.set($.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:r}},iq=Object.freeze({__proto__:null,init:oq}),kc=Ko({fields:aq,name:"reflecting",active:tq,apis:rq,state:iq}),uq=ue([_t("toggleClass"),_t("fetch"),wu("onExecute"),Ve("getHotspot",$.some),Ve("getAnchorOverrides",ue({})),nd(),wu("onItemExecute"),qr("lazySink"),_t("dom"),Kr("onOpen"),Xo("splitDropdownBehaviours",[Oo,Fn,Xn]),Ve("matchWidth",!1),Ve("useMinWidth",!1),Ve("eventOrder",{}),qr("role")].concat(FT())),sq=Ii({factory:ms,schema:[_t("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Jt([Xn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each($s)},buttonBehaviours:Jt([Br.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),lq=Ii({factory:ms,schema:[_t("dom")],name:"button",defaults:function(){return{buttonBehaviours:Jt([Xn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),cq=ue([sq,lq,ul({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[_t("text")],name:"aria-descriptor"}),Ls({schema:[Zd()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(s){t.onItemExecute(s,r,o)})}}}}),HR()]),fq=function(t,r,o,s){var d,g=function(W){Cr.getCurrent(W).each(function(ee){ea.highlightFirst(ee),Fn.focusIn(ee)})},C=function(W){var ee=g;Ay(t,Ee,W,s,ee,hf.HighlightFirst).get(G)},E=function(W){return C(W),$.some(!0)},O=function(W){var ee=sf(W,t,"button");return $s(ee),$.some(!0)},B=ne(ne({},Ca([nr(function(W,ee){var ae=ga(W,t,"aria-descriptor");ae.each(function(fe){var Se=wn("aria");or(fe.element,"id",Se),or(W.element,"aria-describedby",Se)})})])),vy($.some(C))),H={repositionMenus:function(W){Br.isOn(W)&&Ng(W)}};return{uid:t.uid,dom:t.dom,components:r,apis:H,eventOrder:ne(ne({},t.eventOrder),(d={},d[Rs()]=["disabling","toggling","alloy.base.behaviour"],d)),events:B,behaviours:ci(t.splitDropdownBehaviours,[Oo.config({others:{sandbox:function(W){var ee=sf(W,t,"arrow"),ae={onOpen:function(){Br.on(ee),Br.on(W)},onClose:function(){Br.off(ee),Br.off(W)}};return NT(t,W,ae)}}}),Fn.config({mode:"special",onSpace:O,onEnter:O,onDown:E}),Xn.config({}),Br.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},BM=_u({name:"SplitDropdown",configFields:uq(),partFields:cq(),factory:fq,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),vq=function(t){return{isDisabled:function(){return Mn.isDisabled(t)},setDisabled:function(r){return Mn.set(t,r)}}},dq=function(t){return{setActive:function(r){Br.set(t,r)},isActive:function(){return Br.isOn(t)},isDisabled:function(){return Mn.isDisabled(t)},setDisabled:function(r){return Mn.set(t,r)}}},k9=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},A9=wn("focus-button"),u7=function(t,r,o,s,d,g){var C;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:k9(o,g)},components:km([t.map(function(E){return gA(E,g.icons)}),r.map(function(E){return wO(E,"tox-tbtn",g)})]),eventOrder:(C={},C[Ol()]=["focusing","alloy.base.behaviour","common-button-display-events"],C),buttonBehaviours:Jt([mf.toolbarButton(g.isDisabled),ti(),rr("common-button-display-events",[Dt(Ol(),function(E,O){O.event.prevent(),Vr(E,A9)})])].concat(s.map(function(E){return kc.config({channel:E,initialData:{icon:t,text:r},renderComponents:function(O,B){return km([O.icon.map(function(H){return gA(H,g.icons)}),O.text.map(function(H){return wO(H,"tox-tbtn",g)})])}})}).toArray()).concat(d.getOr([])))}},mq=function(t,r,o,s){var d=r.shared;return bs.sketch({lazySink:d.getSink,fetch:function(){return Ji.nu(function(g){g(Ue(o(t.items),Ie))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:u7(t.icon,t.text,t.tooltip,$.none(),$.none(),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},E9=function(t,r,o){var s=Pn(G),d=u7(t.icon,t.text,t.tooltip,$.none(),$.none(),o);return ms.sketch({dom:d.dom,components:d.components,eventOrder:u$,buttonBehaviours:Jt([rr("toolbar-button-events",[i$({onAction:t.onAction,getApi:r.getApi}),x1(r,s),_1(r,s)]),mf.toolbarButton(function(){return t.disabled||o.isDisabled()}),ti()].concat(r.toolbarButtonBehaviours))})},hq=function(t,r){return T9(t,r,[])},T9=function(t,r,o){return E9(t,{toolbarButtonBehaviours:[].concat(o.length>0?[rr("toolbarButtonWith",o)]:[]),getApi:vq,onSetup:t.onSetup},r)},gq=function(t,r){return O9(t,r,[])},O9=function(t,r,o){return bt(E9(t,{toolbarButtonBehaviours:[Zn.config({}),Br.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[rr("toolbarToggleButtonWith",o)]:[]),getApi:dq,onSetup:t.onSetup},r))},pq=function(t,r,o){return function(s){return Ji.nu(function(d){return r.fetch(d)}).map(function(d){return $.from(CR(bt(kT(wn("menu-value"),d,function(g){r.onItemAction(t(s),g)},r.columns,r.presets,uu.CLOSE_ON_EXECUTE,r.select.getOr(pe),o),{movement:Lk(r.columns,r.presets),menuBehaviours:kk.unnamedEvents(r.columns!=="auto"?[]:[nr(function(g,C){aT(g,4,eD(r.presets)).each(function(E){var O=E.numRows,B=E.numColumns;Fn.setGridSize(g,O,B)})})])})))})}},bq=function(t,r){var o,s=wn("channel-update-split-dropdown-display"),d=function(E){return{isDisabled:function(){return Mn.isDisabled(E)},setDisabled:function(O){return Mn.set(E,O)},setIconFill:function(O,B){jo(E.element,'svg path[id="'+O+'"], rect[id="'+O+'"]').each(function(H){or(H,"fill",B)})},setIconStroke:function(O,B){jo(E.element,'svg path[id="'+O+'"], rect[id="'+O+'"]').each(function(H){or(H,"stroke",B)})},setActive:function(O){or(E.element,"aria-pressed",O),jo(E.element,"span").each(function(B){E.getSystem().getByDom(B).each(function(H){return Br.set(H,O)})})},isActive:function(){return jo(E.element,"span").exists(function(O){return E.getSystem().getByDom(O).exists(Br.isOn)})}}},g=Pn(G),C={getApi:d,onSetup:t.onSetup};return BM.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:ne({"aria-pressed":!1},k9(t.tooltip,r.providers))},onExecute:function(E){t.onAction(d(E))},onItemExecute:function(E,O,B){},splitDropdownBehaviours:Jt([mf.splitButton(r.providers.isDisabled),ti(),rr("split-dropdown-events",[Dt(A9,Xn.focus),x1(C,g),_1(C,g)]),KC.config({})]),eventOrder:(o={},o[ls()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:pq(d,t,r.providers),parts:{menu:C1(!1,t.columns,t.presets)},components:[BM.parts.button(u7(t.icon,t.text,$.none(),$.some(s),$.some([Br.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),BM.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:N5("chevron-down",r.providers.icons)},buttonBehaviours:Jt([mf.splitButton(r.providers.isDisabled),ti(),BE()])}),BM.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},yq=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],i5=function(t,r){return function(o,s,d){var g=t(o).mapError(function(C){return Iv(C)}).getOrDie();return r(g,s,d)}},XA={button:i5(j5,function(t,r){return hq(t,r.backstage.shared.providers)}),togglebutton:i5(wk,function(t,r){return gq(t,r.backstage.shared.providers)}),menubutton:i5(j1,function(t,r){return xO(t,"tox-tbtn",r.backstage,$.none())}),splitbutton:i5(Gz,function(t,r){return bq(t,r.backstage.shared)}),grouptoolbarbutton:i5(Vz,function(t,r,o){var s,d=o.ui.registry.getAll().buttons,g=function(E){return $M(o,{buttons:d,toolbar:E,allowToolbarGroups:!1},r,$.none())},C=(s={},s[fb]=r.backstage.shared.header.isPositionedAtTop()?Qc.TopToBottom:Qc.BottomToTop,s);switch(MC(o)){case Ll.floating:return mq(t,r.backstage,g,C);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return ZG(t,r.backstage)},fontsizeSelectButton:function(t,r){return qG(t,r.backstage)},fontSelectButton:function(t,r){return LG(t,r.backstage)},formatButton:function(t,r){return YG(t,r.backstage)},alignMenuButton:function(t,r){return MG(t,r.backstage)}},wq=function(t,r,o){return En(XA,t.type).fold(function(){return console.error("skipping button defined by",t),$.none()},function(s){return $.some(s(t,r,o))})},D9={styleselect:XA.styleSelectButton,fontsizeselect:XA.fontsizeSelectButton,fontselect:XA.fontSelectButton,formatselect:XA.formatButton,align:XA.alignMenuButton},Cq=function(t){var r=Ue(yq,function(o){var s=Ae(o.items,function(d){return Dr(t,d)||Dr(D9,d)});return{name:o.name,items:s}});return Ae(r,function(o){return o.items.length>0})},Sq=function(t){var r=t.split("|");return Ue(r,function(o){return{items:o.trim().split(" ")}})},xq=function(t){return X(t,function(r){return Dr(r,"name")&&Dr(r,"items")})},_q=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?Cq(o):S(r)?Sq(r):xq(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},kq=function(t,r,o,s,d,g){return En(r,o.toLowerCase()).orThunk(function(){return g.bind(function(C){return Jr(C,function(E){return En(r,E+o.toLowerCase())})})}).fold(function(){return En(D9,o.toLowerCase()).map(function(C){return C(t,d)}).orThunk(function(){return $.none()})},function(C){return C.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),$.none()):wq(C,d,t)})},$M=function(t,r,o,s){var d=_q(r),g=Ue(d,function(C){var E=Wt(C.items,function(O){return O.trim().length===0?[]:kq(t,r.buttons,O,r.allowToolbarGroups,o,s).toArray()});return{title:$.from(t.translate(C.name)),items:E}});return Ae(g,function(C){return C.items.length>0})},R9=function(t,r,o,s){var d=r.outerContainer,g=o.toolbar,C=o.buttons;if(X(g,S)){var E=g.map(function(O){var B={toolbar:O,buttons:C,allowToolbarGroups:o.allowToolbarGroups};return $M(t,B,{backstage:s},$.none())});No.setToolbars(d,E)}else No.setToolbar(d,$M(t,o,{backstage:s},$.none()))},B9=zn(),Aq=B9.os.isiOS()&&B9.os.version.major<=12,Eq=function(t,r){var o=t.dom,s=t.getWin(),d=t.getDoc().documentElement,g=Pn(ba(s.innerWidth,s.innerHeight)),C=Pn(ba(d.offsetWidth,d.offsetHeight)),E=function(){var ee=g.get();(ee.left!==s.innerWidth||ee.top!==s.innerHeight)&&(g.set(ba(s.innerWidth,s.innerHeight)),gT(t))},O=function(){var ee=t.getDoc().documentElement,ae=C.get();(ae.left!==ee.offsetWidth||ae.top!==ee.offsetHeight)&&(C.set(ba(ee.offsetWidth,ee.offsetHeight)),gT(t))},B=function(ee){return zP(t,ee)};o.bind(s,"resize",E),o.bind(s,"scroll",B);var H=ub(un.fromDom(t.getBody()),"load",O),W=r.uiMothership.element;t.on("hide",function(){Wn(W,"display","none")}),t.on("show",function(){Gr(W,"display")}),t.on("NodeChange",O),t.on("remove",function(){H.unbind(),o.unbind(s,"resize",E),o.unbind(s,"scroll",B),s=null})},Tq=function(t,r,o,s,d){var g=Pn(0),C=r.outerContainer;TG(t);var E=un.fromDom(d.targetNode),O=Zl(_s(E));Ml(E,r.mothership),ov(O,r.uiMothership),t.on("PostRender",function(){R9(t,r,o,s),g.set(t.getWin().innerWidth),No.setMenubar(C,d9(t,o)),No.setSidebar(C,o.sidebar),Eq(t,r)});var B=No.getSocket(C).getOrDie("Could not find expected socket element");if(Aq){rs(B.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var H=s8(function(){t.fire("ScrollContent")},20),W=yo(B.element,"scroll",H.throttle);t.on("remove",W.unbind)}BD(t,r),t.addCommand("ToggleSidebar",function(Se,Fe){No.toggleSidebar(C,Fe),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return No.whichSidebar(C)});var ee=MC(t),ae=function(){No.refreshToolbar(r.outerContainer)};(ee===Ll.sliding||ee===Ll.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var Se=t.getWin().innerWidth;Se!==g.get()&&(ae(),g.set(Se))});var fe={enable:function(){Sy(r,!1)},disable:function(){Sy(r,!0)},isDisabled:function(){return Mn.isDisabled(C)}};return{iframeContainer:B.element.dom,editorContainer:C.element.dom,api:fe}},Oq=Object.freeze({__proto__:null,render:Tq}),s7=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?$.some(parseInt(""+t,10)):$.none()},l7=function(t){return z(t)?t+"px":t},MM=function(t,r,o){var s=r.filter(function(g){return t<g}),d=o.filter(function(g){return t>g});return s.or(d).getOr(t)},Dq=function(t){var r=Ek(t),o=gD(t),s=pD(t);return s7(r).map(function(d){return MM(d,o,s)})},Rq=function(t){var r=Dq(t);return r.getOr(Ek(t))},$9=function(t){var r=Tk(t),o=sT(t),s=Ok(t);return s7(r).map(function(d){return MM(d,o,s)})},Bq=function(t){var r=$9(t);return r.getOr(Tk(t))},$q=function(t,r,o,s,d){var g=o.uiMothership,C=o.outerContainer,E=Cy.DOM,O=Rk(t),B=Bk(t),H=Ok(t).or($9(t)),W=s.shared.header,ee=W.isPositionedAtTop,ae=MC(t),fe=ae===Ll.sliding||ae===Ll.floating,Se=Pn(!1),Fe=function(){return Se.get()&&!t.removed},we=function(Bt){return fe?Bt.fold(ue(0),function(wt){return wt.components().length>1?$o(wt.components()[1].element):0}):0},ze=function(Bt){switch(SD(t)){case S1.auto:var wt=No.getToolbar(C),Kt=we(wt),Cn=$o(Bt.element)-Kt,Et=Ao(r),bn=Et.y>Cn;if(bn)return"top";var An=yt(r),_r=Math.max(An.dom.scrollHeight,$o(An)),aa=Et.bottom<_r-Cn;if(aa)return"bottom";var Pa=Ai(),oo=Pa.bottom<Et.bottom-Cn;return oo?"bottom":"top";case S1.bottom:return"bottom";case S1.top:default:return"top"}},ft=function(Bt){var wt=d.get();Do.setModes(wt,[Bt]),W.setDockingMode(Bt);var Kt=ee()?Qc.TopToBottom:Qc.BottomToTop;or(wt.element,fb,Kt)},ct=function(){var Bt=H.getOrThunk(function(){var wt=s7(eo(Hi(),"margin-left")).getOr(0);return Vi(Hi())-vu(r).left+wt});Wn(d.get().element,"max-width",Bt+"px")},Le=function(){var Bt=No.getToolbar(C),wt=we(Bt),Kt=Ao(r),Cn=ee()?Math.max(Kt.y-$o(d.get().element)+wt,0):Kt.bottom;rs(C.element,{position:"absolute",top:Math.round(Cn)+"px",left:Math.round(Kt.x)+"px"})},tt=function(){g.broadcastOn([ig()],{})},Ct=function(Bt){if(Bt===void 0&&(Bt=!1),!!Fe()){if(O||ct(),fe&&No.refreshToolbar(C),O||Le(),B){var wt=d.get();Bt?Do.reset(wt):Do.refresh(wt)}tt()}},an=function(Bt){if(Bt===void 0&&(Bt=!0),!(O||!B||!Fe())){var wt=W.getDockingMode(),Kt=ze(d.get());Kt!==wt&&(ft(Kt),Bt&&Ct(!0))}},Tt=function(){Se.set(!0),Wn(C.element,"display","flex"),E.addClass(t.getBody(),"mce-edit-focus"),Gr(g.element,"display"),an(!1),Ct()},sn=function(){Se.set(!1),o.outerContainer&&(Wn(C.element,"display","none"),E.removeClass(t.getBody(),"mce-edit-focus")),Wn(g.element,"display","none")};return{isVisible:Fe,isPositionedAtTop:ee,show:Tt,hide:sn,update:Ct,updateMode:an,repositionPopups:tt}},M9=function(t,r){var o=Ao(t);return{pos:r?o.y:o.bottom,bounds:o}},Mq=function(t,r,o,s){var d=Pn(M9(r,o.isPositionedAtTop())),g=function(E){var O=M9(r,o.isPositionedAtTop()),B=O.pos,H=O.bounds,W=d.get(),ee=W.pos,ae=W.bounds,fe=H.height!==ae.height||H.width!==ae.width;d.set({pos:B,bounds:H}),fe&&gT(t,E),o.isVisible()&&(ee!==B?o.update(!0):fe&&(o.updateMode(),o.repositionPopups()))};s||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(E){$g.requestAnimationFrame(function(){return g(E)})}),t.on("ScrollWindow",function(){return o.updateMode()});var C=Hh();C.set(ub(un.fromDom(t.getBody()),"load",g)),t.on("remove",function(){C.clear()})},Pq=function(t,r,o,s,d){var g=r.mothership,C=r.uiMothership,E=r.outerContainer,O=Pn(null),B=un.fromDom(d.targetNode),H=$q(t,B,r,s,O),W=sP(t);OG(t);var ee=function(){if(O.get()){H.show();return}O.set(No.getHeader(E).getOrDie());var fe=AD(t);ov(fe,g),ov(fe,C),R9(t,r,o,s),No.setMenubar(E,d9(t,o)),H.show(),Mq(t,B,H,W),t.nodeChanged()};t.on("show",ee),t.on("hide",H.hide),W||(t.on("focus",ee),t.on("blur",H.hide)),t.on("init",function(){(t.hasFocus()||W)&&ee()}),BD(t,r);var ae={show:function(){H.show()},hide:function(){H.hide()},enable:function(){Sy(r,!1)},disable:function(){Sy(r,!0)},isDisabled:function(){return Mn.isDisabled(E)}};return{editorContainer:E.element.dom,api:ae}},Iq=Object.freeze({__proto__:null,render:Pq}),Nq="contexttoolbar-show",P9="contexttoolbar-hide",Fq=function(t){return{hide:function(){return Vr(t,Ap())},getValue:function(){return rn.getValue(t)}}},I9=function(t,r){return Dt(o$,function(o,s){var d=t.get(o),g=Fq(d);r.onAction(g,s.event.buttonApi)})},Lq=function(t,r,o){var s=r.original;s.primary;var d=U(s,["primary"]),g=Al(j5(ne(ne({},d),{type:"button",onAction:G})));return T9(g,o.backstage.shared.providers,[I9(t,r)])},zq=function(t,r,o){var s=r.original;s.primary;var d=U(s,["primary"]),g=Al(wk(ne(ne({},d),{type:"togglebutton",onAction:G})));return O9(g,o.backstage.shared.providers,[I9(t,r)])},Hq=function(t,r,o){var s={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?zq(t,r,s):Lq(t,r,s)},Vq=function(t,r,o){var s=Ue(r,function(C){return ra(Hq(t,C,o))}),d=function(){return Ue(s,function(C){return C.asSpec()})},g=function(C){return Jr(r,function(E,O){return E.primary?$.from(s[O]).bind(function(B){return B.getOpt(C)}).filter(Xe(Mn.isDisabled)):$.none()})};return{asSpecs:d,findPrimary:g}},N9=function(t,r){var o=t.label.fold(function(){return{}},function(g){return{"aria-label":g}}),s=ra(GC.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:Jt([Fn.config({mode:"special",onEnter:function(g){return d.findPrimary(g).map(function(C){return $s(C),!0})},onLeft:function(g,C){return C.cut(),$.none()},onRight:function(g,C){return C.cut(),$.none()}})])})),d=Vq(s,t.commands,r);return[{title:$.none(),items:[s.asSpec()]},{title:$.none(),items:d.asSpecs()}]},Uq=function(t,r,o){return Wr({type:t,uid:wn("context-toolbar"),initGroups:N9(r,o),onEscape:$.none,cyclicKeying:!0,providers:o})},Wq={renderContextForm:Uq,buildInitGroups:N9},F9=function(t,r,o){return o===void 0&&(o=.01),r.bottom-t.y>=o&&t.bottom-r.y>=o},jq=function(t){var r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){var o=u0(un.fromDom(t.startContainer),t.startOffset).element,s=Du(o)?xo(o):$.some(o);return s.filter(go).map(function(d){return d.dom.getBoundingClientRect()}).getOr(r)}else return r},c7=function(t){var r=t.selection.getRng(),o=jq(r);if(t.inline){var s=os();return Vo(s.left+o.left,s.top+o.top,o.width,o.height)}else{var d=Lc(un.fromDom(t.getBody()));return Vo(d.x+o.left,d.y+o.top,o.width,o.height)}},Gq=function(t,r){return r.filter(fu).map(Lc).getOrThunk(function(){return c7(t)})},qq=function(t,r,o){var s=Math.max(t.x+o,r.x),d=Math.min(t.right-o,r.right);return{x:s,width:d-s}},Kq=function(t,r,o,s,d,g){var C=un.fromDom(t.getContainer()),E=jo(C,".tox-editor-header").getOr(C),O=Ao(E),B=O.y>=r.bottom,H=s&&!B;if(t.inline&&H)return{y:Math.max(O.bottom+g,o.y),bottom:o.bottom};if(t.inline&&!H)return{y:o.y,bottom:Math.min(O.y-g,o.bottom)};var W=d==="line"?Ao(C):r;return H?{y:Math.max(O.bottom+g,o.y),bottom:Math.min(W.bottom-g,o.bottom)}:{y:Math.max(W.y+g,o.y),bottom:Math.min(O.y-g,o.bottom)}},L9=function(t,r,o,s){s===void 0&&(s=0);var d=Uf(window),g=Ao(un.fromDom(t.getContentAreaContainer())),C=lT(t)||cT(t)||Dk(t),E=qq(g,d,s),O=E.x,B=E.width;if(t.inline&&!C)return Vo(O,d.y,B,d.height);var H=r.header.isPositionedAtTop(),W=Kq(t,g,d,H,o,s),ee=W.y,ae=W.bottom;return Vo(O,ee,B,ae-ee)},PM=12,z9={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},H9={maxHeightFunction:Uh(),maxWidthFunction:Eu()},Xq=function(t,r){var o=t.selection.getRng(),s=u0(un.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&Sa(s.element,r)},Yq=function(t,r,o){var s=ko(t,"position");Wn(t,"position",r);var d=o(t);return s.each(function(g){return Wn(t,"position",g)}),d},V9=function(t){return t==="node"},Jq=function(t,r,o,s,d){var g=c7(t),C=s.lastElement().exists(function(B){return Sa(o,B)});if(Xq(t,o))return C?M5:Cc;if(C)return Yq(r,s.getMode(),function(){var B=F9(g,Ao(r));return B&&!s.isReposition()?n8:M5});var E=s.getMode()==="fixed"?d.y+os().top:d.y,O=$o(r)+PM;return E+O<=g.y?Cc:Dg},Zq=function(t,r,o,s){var d=function(O){return function(B,H,W,ee,ae){var fe=Jq(t,ee,O,o,ae),Se=ne(ne({},B),{y:ae.y,height:ae.height});return ne(ne({},fe(Se,H,W,ee,ae)),{alwaysFit:!0})}},g=function(O){return V9(s)?[d(O)]:[]},C={onLtr:function(O){return[Lu,Io,Cu,Xi,Su,ei].concat(g(O))},onRtl:function(O){return[Lu,Io,Su,ei,Cu,Xi].concat(g(O))}},E={onLtr:function(O){return[Io,Xi,ei,Cu,Su,Lu].concat(g(O))},onRtl:function(O){return[Io,ei,Xi,Su,Cu,Lu].concat(g(O))}};return r?E:C},Qq=function(t,r,o,s){return r==="line"?{bubble:im(PM,0,z9),layouts:{onLtr:function(){return[Y0]},onRtl:function(){return[J0]}},overrides:H9}:{bubble:im(0,PM,z9,1/PM),layouts:Zq(t,o,s,r),overrides:H9}},f7=function(t,r){var o=Ae(r,function(C){return C.predicate(t.dom)}),s=Te(o,function(C){return C.type==="contexttoolbar"}),d=s.pass,g=s.fail;return{contextToolbars:d,contextForms:g}},eK=function(t){if(t.length<=1)return t;var r=function(E){return Sn(t,function(O){return O.position===E})},o=function(E){return Ae(t,function(O){return O.position===E})},s=r("selection"),d=r("node");if(s||d)if(d&&s){var g=o("node"),C=Ue(o("selection"),function(E){return ne(ne({},E),{position:"node"})});return g.concat(C)}else return o(s?"selection":"node");else return o("line")},tK=function(t){if(t.length<=1)return t;var r=function(s){return pt(t,function(d){return d.position===s})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(s){return s.position});return o.fold(function(){return[]},function(s){return Ae(t,function(d){return d.position===s})})},nK=function(t,r,o){var s=f7(t,r);if(s.contextForms.length>0)return $.some({elem:t,toolbars:[s.contextForms[0]]});var d=f7(t,o);if(d.contextForms.length>0)return $.some({elem:t,toolbars:[d.contextForms[0]]});if(s.contextToolbars.length>0||d.contextToolbars.length>0){var g=eK(s.contextToolbars.concat(d.contextToolbars));return $.some({elem:t,toolbars:g})}else return $.none()},rK=function(t,r,o){return t(r)?$.none():kp(r,function(s){if(go(s)){var d=f7(s,o.inNodeScope),g=d.contextToolbars,C=d.contextForms,E=C.length>0?C:tK(g);return E.length>0?$.some({elem:s,toolbars:E}):$.none()}else return $.none()},t)},aK=function(t,r){var o=un.fromDom(r.getBody()),s=function(C){return Sa(C,o)},d=function(C){return!s(C)&&!Sl(o,C)},g=un.fromDom(r.selection.getNode());return d(g)?$.none():nK(g,t.inNodeScope,t.inEditorScope).orThunk(function(){return rK(s,g,t)})},oK=function(t,r){var o={},s=[],d=[],g={},C={},E=function(H,W){var ee=Al(VE(W));o[H]=ee,ee.launch.map(function(ae){g["form:"+H]=ne(ne({},W.launch),{type:ae.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(ee)}})}),ee.scope==="editor"?d.push(ee):s.push(ee),C[H]=ee},O=function(H,W){K5(W).each(function(ee){W.scope==="editor"?d.push(ee):s.push(ee),C[H]=ee})},B=Ir(t);return gt(B,function(H){var W=t[H];W.type==="contextform"?E(H,W):W.type==="contexttoolbar"&&O(H,W)}),{forms:o,inNodeScope:s,inEditorScope:d,lookupTable:C,formNavigators:g}},U9=wn("forward-slide"),W9=wn("backward-slide"),v7=wn("change-slide-event"),d7="tox-pop--resizing",iK=function(t){var r=Pn([]);return la.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),la.getContent(o).each(function(s){Gr(s.element,"visibility")}),Po(o.element,d7),Gr(o.element,"width")},inlineBehaviours:Jt([rr("context-toolbar-events",[Eo(_h(),function(o,s){s.event.raw.propertyName==="width"&&(Po(o.element,d7),Gr(o.element,"width"))}),Dt(v7,function(o,s){var d=o.element;Gr(d,"width");var g=Vi(d);la.setContent(o,s.event.contents),Wo(d,d7);var C=Vi(d);Wn(d,"width",g+"px"),la.getContent(o).each(function(E){s.event.focus.bind(function(O){return vc(O),dc(d)}).orThunk(function(){return Fn.focusIn(E),xu(_s(d))})}),$g.setTimeout(function(){Wn(o.element,"width",C+"px")},0)}),Dt(U9,function(o,s){la.getContent(o).each(function(d){r.set(r.get().concat([{bar:d,focus:xu(_s(o.element))}]))}),In(o,v7,{contents:s.event.forwardContents,focus:$.none()})}),Dt(W9,function(o,s){oa(r.get()).each(function(d){r.set(r.get().slice(0,r.get().length-1)),In(o,v7,{contents:Fs(d.bar),focus:d.focus})})})]),Fn.config({mode:"special",onEscape:function(o){return oa(r.get()).fold(function(){return t.onEscape()},function(s){return Vr(o,W9),$.some(!0)})}})]),lazySink:function(){return sr.value(t.sink)}})},m7="tox-pop--transition",uK=function(t,r,o,s){var d=s.backstage,g=d.shared,C=zn().deviceType.isTouch,E=fo(),O=fo(),B=fo(),H=za(iK({sink:o,onEscape:function(){return t.focus(),$.some(!0)}})),W=function(){var Tt=B.get().getOr("node"),sn=V9(Tt)?1:0;return L9(t,g,Tt,sn)},ee=function(){return!t.removed&&!(C()&&d.isContextMenuOpen())},ae=function(Tt){return lu(Gs(Tt,E.get(),Sa),!0)},fe=function(){if(ee()){var Tt=W(),sn=lu(B.get(),"node")?Gq(t,E.get()):c7(t);return Tt.height<=0||!F9(sn,Tt)}else return!0},Se=function(){E.clear(),O.clear(),B.clear(),la.hide(H)},Fe=function(){if(la.isOpen(H)){var Tt=H.element;Gr(Tt,"display"),fe()?Wn(Tt,"display","none"):(O.set(0),la.reposition(H))}},we=function(Tt){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Tt],behaviours:Jt([Fn.config({mode:"acyclic"}),rr("pop-dialog-wrap-events",[nr(function(sn){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return Fn.focusIn(sn)})}),Ms(function(sn){t.shortcuts.remove("ctrl+F9")})])])}},ze=es(function(){return oK(r,function(Tt){var sn=Le([Tt]);In(H,U9,{forwardContents:we(sn)})})}),ft=function(Tt,sn){return $M(t,{buttons:Tt,toolbar:sn.items,allowToolbarGroups:!1},s,$.some(["form:"]))},ct=function(Tt,sn){return Wq.buildInitGroups(Tt,sn)},Le=function(Tt){var sn=t.ui.registry.getAll().buttons,Bt=ze(),wt=ne(ne({},sn),Bt.formNavigators),Kt=MC(t)===Ll.scrolling?Ll.scrolling:Ll.default,Cn=ot(Ue(Tt,function(Et){return Et.type==="contexttoolbar"?ft(wt,Et):ct(Et,g.providers)}));return Wr({type:Kt,uid:wn("context-toolbar"),initGroups:Cn,onEscape:$.none,cyclicKeying:!0,providers:g.providers})},tt=function(Tt,sn){var Bt=Tt==="node"?g.anchors.node(sn):g.anchors.cursor(),wt=Qq(t,Tt,C(),{lastElement:E.get,isReposition:function(){return lu(O.get(),0)},getMode:function(){return vo.getMode(o)}});return bt(Bt,wt)},Ct=function(Tt,sn){if(an.cancel(),!!ee()){var Bt=Le(Tt),wt=Tt[0].position,Kt=tt(wt,sn);B.set(wt),O.set(1);var Cn=H.element;Gr(Cn,"display"),ae(sn)||(Po(Cn,m7),vo.reset(o,H)),la.showWithinBounds(H,we(Bt),{anchor:Kt,transition:{classes:[m7],mode:"placement"}},function(){return $.some(W())}),sn.fold(E.clear,E.set),fe()&&Wn(Cn,"display","none")}},an=IE(function(){if(!(!t.hasFocus()||t.removed))if(bu(H.element,m7))an.throttle();else{var Tt=ze();aK(Tt,t).fold(Se,function(sn){Ct(sn.toolbars,$.some(sn.elem))})}},17);t.on("init",function(){t.on("remove",Se),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Fe),t.on("click keyup focus SetContent",an.throttle),t.on(P9,Se),t.on(Nq,function(Tt){var sn=ze();En(sn.lookupTable,Tt.toolbarKey).each(function(Bt){Ct([Bt],qs(Tt.target!==t,Tt.target)),la.getContent(H).each(Fn.focusIn)})}),t.on("focusout",function(Tt){$g.setEditorTimeout(t,function(){dc(o.element).isNone()&&dc(H.element).isNone()&&Se()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&Se()}),t.on("AfterProgressState",function(Tt){Tt.state?Se():t.hasFocus()&&an.throttle()}),t.on("NodeChange",function(Tt){dc(H.element).fold(an.throttle,G)})})},sK=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];gt(r,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:Sv(t,o.cmd),onSetup:DM(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Sv(t,"JustifyNone")})},lK={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},cK=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,s="\\.",d=function(E){return"(?:"+E+")?"},g=["Infinity",t+s+d(t)+d(o),s+t+d(o),t+d(o)].join("|"),C="[+-]?(?:"+g+")";return new RegExp("^("+C+")(.*)$")}(),fK=function(t,r){return Sn(r,function(o){return Sn(lK[o],function(s){return t===s})})},vK=function(t,r){var o=$.from(cK.exec(t));return o.bind(function(s){var d=Number(s[1]),g=s[2];return fK(g,r)?$.some({value:d,unit:g}):$.none()})},dK=function(t,r){return vK(t,r).map(function(o){var s=o.value,d=o.unit;return s+d})},j9=function(t,r){var o=function(){var s=r.getOptions(t),d=r.getCurrent(t).map(r.hash),g=fo();return Ue(s,function(C){return{type:"togglemenuitem",text:r.display(C),onSetup:function(E){var O=function(H){H&&(g.on(function(W){return W.setActive(!1)}),g.set(E)),E.setActive(H)};O(lu(d,r.hash(C)));var B=r.watcher(t,C,O);return function(){g.clear(),B()}},onAction:function(){return r.setCurrent(t,C)}}})};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(s){return s(o())},onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:o,onSetup:r.onMenuSetup})},mK={name:"lineheight",text:"Line height",icon:"line-height",getOptions:bD,hash:function(t){return dK(t,["fixed","relative","empty"]).getOr(t)},display:Ee,watcher:function(t,r,o){return t.formatter.formatChanged("lineheight",o,!1,{value:r}).unbind},getCurrent:function(t){return $.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,r){return t.execCommand("LineHeight",!1,r)}},hK=function(t){var r=$.from(yD(t));return r.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:ue(o),hash:function(s){return j(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,d,g){return s.formatter.formatChanged("lang",g,!1,{value:d.code,customValue:d.customCode}).unbind},getCurrent:function(s){var d=un.fromDom(s.selection.getNode());return wh(d,function(g){return $.some(g).filter(go).bind(function(C){var E=Ga(C,"lang");return E.map(function(O){var B=Ga(C,"data-mce-lang").getOrUndefined();return{code:O,customCode:B,title:""}})})})},setCurrent:function(s,d){return s.execCommand("Lang",!1,d)},onToolbarSetup:function(s){var d=Hh();return s.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",s.setActive,!0)),d.clear}}})},gK=function(t){j9(t,mK),hK(t).each(function(r){return j9(t,r)})},pK=function(t,r){PG(t,r),zG(t,r),QG(t,r),JG(t,r),KG(t,r)},bK=function(t){return RM(t,"NodeChange",function(r){r.setDisabled(!t.queryCommandState("outdent"))})},yK=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:bK(t),onAction:Sv(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Sv(t,"indent")})},wK=function(t){yK(t)},h7=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},CK=function(t){Vg.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,d){t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:DM(t,s.name),onAction:h7(t,s.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:DM(t,o),onAction:h7(t,o)})}},SK=function(t){Vg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:Sv(t,r.action)})})},xK=function(t){Vg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:Sv(t,r.action),onSetup:DM(t,r.name)})})},_K=function(t){CK(t),SK(t),xK(t)},kK=function(t){Vg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:Sv(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:h7(t,"code")})},AK=function(t){_K(t),kK(t)},IM=function(t,r){return RM(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[r]())})},EK=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:IM(t,"hasUndo"),onAction:Sv(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:IM(t,"hasRedo"),onAction:Sv(t,"redo")})},TK=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:IM(t,"hasUndo"),onAction:Sv(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:IM(t,"hasRedo"),onAction:Sv(t,"redo")})},OK=function(t){EK(t),TK(t)},DK=function(t){return RM(t,"VisualAid",function(r){r.setActive(t.hasVisual)})},RK=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:DK(t),onAction:Sv(t,"mceToggleVisualAid")})},BK=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Sv(t,"mceToggleVisualAid")})},$K=function(t){BK(t),RK(t)},MK=function(t,r){sK(t),AK(t),pK(t,r),OK(t),KP(t),$K(t),wK(t),gK(t)},u5=function(t,r){return{type:"makeshift",x:t,y:r}},PK=function(t,r,o){return u5(t.x+r,t.y+o)},G9=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},IK=function(t){if(G9(t)){var r=t.touches[0];return u5(r.pageX,r.pageY)}else return u5(t.pageX,t.pageY)},NK=function(t){if(G9(t)){var r=t.touches[0];return u5(r.clientX,r.clientY)}else return u5(t.clientX,t.clientY)},FK=function(t,r){var o=Cy.DOM.getPos(t);return PK(r,o.x,o.y)},LK=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?IK(r):FK(t.getContentAreaContainer(),NK(r)):q9(t)},q9=function(t){return{type:"selection",root:un.fromDom(t.selection.getNode())}},zK=function(t){return{type:"node",node:$.some(un.fromDom(t.selection.getNode())),root:un.fromDom(t.getBody())}},K9=function(t,r,o){switch(o){case"node":return zK(t);case"point":return LK(t,r);case"selection":return q9(t)}},HK=function(t,r,o,s,d,g){var C=o(),E=K9(t,r,g);By(C,uu.CLOSE_ON_EXECUTE,s,!1).map(function(O){r.preventDefault(),la.showMenuAt(d,{anchor:E},{menu:{markers:py("normal")},data:O})})},VK={onLtr:function(){return[Io,Xi,ei,Cu,Su,Lu,Cc,Dg,Og,Eg,Tg,my]},onRtl:function(){return[Io,ei,Xi,Su,Cu,Lu,Cc,Dg,Tg,my,Og,Eg]}},UK=12,WK={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},jK=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var s=r.touches[0],d=o.getRng(),g=mw(t.getWin(),Gh.domRange(d));return g.exists(function(C){return C.left<=s.clientX&&C.right>=s.clientX&&C.top<=s.clientY&&C.bottom>=s.clientY})},GK=function(t){var r=t.selection.getRng(),o=function(){$g.setEditorTimeout(t,function(){t.selection.setRng(r)},10),g()};t.once("touchend",o);var s=function(C){C.preventDefault(),C.stopImmediatePropagation()};t.on("mousedown",s,!0);var d=function(){return g()};t.once("longpresscancel",d);var g=function(){t.off("touchend",o),t.off("longpresscancel",d),t.off("mousedown",s)}},qK=function(t,r,o){var s=K9(t,r,o),d=o==="point"?UK:0;return ne({bubble:im(0,d,WK),layouts:VK,overrides:{maxWidthFunction:Eu(),maxHeightFunction:Uh()}},s)},KK=function(t,r,o,s,d,g,C){var E=qK(t,r,g);By(o,uu.CLOSE_ON_EXECUTE,s,!0).map(function(O){r.preventDefault(),la.showMenuWithinBounds(d,{anchor:E},{menu:{markers:py("normal"),highlightImmediately:C},data:O,type:"horizontal"},function(){return $.some(L9(t,s.shared,g==="node"?"node":"selection"))}),t.fire(P9)})},XK=function(t,r,o,s,d,g){var C=zn(),E=C.os.isiOS(),O=C.os.isOSX(),B=C.os.isAndroid(),H=C.deviceType.isTouch(),W=function(){return!(B||E||O&&H)},ee=function(){var fe=o();KK(t,r,fe,s,d,g,W())};if((O||E)&&g!=="node"){var ae=function(){GK(t),ee()};jK(t,r)?ae():(t.once("selectionchange",ae),t.once("touchend",function(){return t.off("selectionchange",ae)}))}else ee()},X9=function(t){return typeof t=="string"?t.split(/[ ,]/):t},Y9=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},YK=function(t,r,o){var s=t.ui.registry.getAll().contextMenus;return $.from(t.getParam(r)).map(X9).getOrThunk(function(){return Ae(X9(o),function(d){return Dr(s,d)})})},JK=function(t){return t.getParam("contextmenu")===!1},ZK=function(t){return YK(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},QK=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},J9=function(t){return S(t)?t==="|":t.type==="separator"},g7={type:"separator"},Z9=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(S(t))return t;switch(t.type){case"separator":return g7;case"submenu":return ne(ne({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return S(o)?o:Ue(o,Z9)}});default:return ne(ne({type:"menuitem"},r(t)),{onAction:Be(t.onAction)})}},Q9=function(t,r){if(r.length===0)return t;var o=oa(t).filter(function(d){return!J9(d)}),s=o.fold(function(){return[]},function(d){return[g7]});return t.concat(s).concat(r).concat([g7])},eX=function(t,r,o){var s=Qe(r,function(d,g){return En(t,g.toLowerCase()).map(function(C){var E=C.update(o);if(S(E))return Q9(d,E.split(" "));if(E.length>0){var O=Ue(E,Z9);return Q9(d,O)}else return d}).getOrThunk(function(){return d.concat([g])})},[]);return s.length>0&&J9(s[s.length-1])&&s.pop(),s},tX=function(t,r){return r.ctrlKey&&!Y9(t)},eV=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},tV=function(t,r){return eV(t,r)?t.selection.getStart(!0):r.target},nX=function(t,r){var o=QK(t),s=eV(t,r)?"selection":"point";if(Bc(o)){var d=tV(t,r),g=HC(un.fromDom(d),o);return g?"node":s}else return s},rX=function(t,r,o){var s=zn(),d=s.deviceType.isTouch,g=za(la.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Jt([rr("dismissContextMenu",[Dt(Dl(),function(O,B){Tr.close(O),t.focus()})])])})),C=function(O){return la.hide(g)},E=function(O){if(Y9(t)&&O.preventDefault(),!(tX(t,O)||JK(t))){var B=nX(t,O),H=function(){var ee=tV(t,O),ae=t.ui.registry.getAll(),fe=ZK(t);return eX(ae.contextMenus,fe,ee)},W=d()?XK:HK;W(t,O,H,o,g,B)}};t.on("init",function(){var O="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(O,C),t.on("longpress contextmenu",E)})},p7=Ds.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),NM=function(t){return function(r){return r.translate(-t.left,-t.top)}},FM=function(t){return function(r){return r.translate(t.left,t.top)}},G1=function(t){return function(r,o){return Qe(t,function(s,d){return d(s)},ba(r,o))}},LM=function(t,r,o){return t.fold(G1([FM(o),NM(r)]),G1([NM(r)]),G1([]))},YA=function(t,r,o){return t.fold(G1([FM(o)]),G1([]),G1([FM(r)]))},nV=function(t,r,o){return t.fold(G1([]),G1([NM(o)]),G1([FM(r),NM(o)]))},aX=function(t,r,o,s,d,g){var C=YA(t,d,g),E=YA(r,d,g);return Math.abs(C.left-E.left)<=o&&Math.abs(C.top-E.top)<=s},oX=function(t,r,o,s,d,g){var C=YA(t,d,g),E=YA(r,d,g),O=Math.abs(C.left-E.left),B=Math.abs(C.top-E.top);return ba(O,B)},rV=function(t,r,o){var s=t.fold(function(d,g){return{position:$.some("absolute"),left:$.some(d+"px"),top:$.some(g+"px")}},function(d,g){return{position:$.some("absolute"),left:$.some(d-o.left+"px"),top:$.some(g-o.top+"px")}},function(d,g){return{position:$.some("fixed"),left:$.some(d+"px"),top:$.some(g+"px")}});return ne({right:$.none(),bottom:$.none()},s)},iX=function(t,r,o){return t.fold(function(s,d){return zM(s+r,d+o)},function(s,d){return Fy(s+r,d+o)},function(s,d){return yS(s+r,d+o)})},b7=function(t,r,o,s){var d=function(g,C){return function(E,O){var B=g(r,o,s);return C(E.getOr(B.left),O.getOr(B.top))}};return t.fold(d(nV,zM),d(YA,Fy),d(LM,yS))},zM=p7.offset,Fy=p7.absolute,yS=p7.fixed,aV=function(t,r){var o=Fa(t,r);return j(o)?NaN:parseInt(o,10)},uX=function(t,r){var o=t.element,s=aV(o,r.leftAttr),d=aV(o,r.topAttr);return isNaN(s)||isNaN(d)?$.none():$.some(ba(s,d))},sX=function(t,r,o){var s=t.element;or(s,r.leftAttr,o.left+"px"),or(s,r.topAttr,o.top+"px")},lX=function(t,r){var o=t.element;ii(o,r.leftAttr),ii(o,r.topAttr)},cX=function(t,r,o,s){return uX(t,r).fold(function(){return o},function(d){return yS(d.left+s.left,d.top+s.top)})},fX=function(t,r,o,s,d,g){var C=cX(t,r,o,s),E=r.mustSnap?dX(t,r,C,d,g):mX(t,r,C,d,g),O=LM(C,d,g);return sX(t,r,O),E.fold(function(){return{coord:yS(O.left,O.top),extra:$.none()}},function(B){return{coord:B.output,extra:B.extra}})},vX=function(t,r){lX(t,r)},oV=function(t,r,o,s){return Jr(t,function(d){var g=d.sensor,C=aX(r,g,d.range.left,d.range.top,o,s);return C?$.some({output:b7(d.output,r,o,s),extra:d.extra}):$.none()})},dX=function(t,r,o,s,d){var g=r.getSnapPoints(t),C=oV(g,o,s,d);return C.orThunk(function(){var E=Qe(g,function(O,B){var H=B.sensor,W=oX(o,H,B.range.left,B.range.top,s,d);return O.deltas.fold(function(){return{deltas:$.some(W),snap:$.some(B)}},function(ee){var ae=(W.left+W.top)/2,fe=(ee.left+ee.top)/2;return ae<=fe?{deltas:$.some(W),snap:$.some(B)}:O})},{deltas:$.none(),snap:$.none()});return E.snap.map(function(O){return{output:b7(O.output,o,s,d),extra:O.extra}})})},mX=function(t,r,o,s,d){var g=r.getSnapPoints(t);return oV(g,o,s,d)},hX=function(t,r,o){return{coord:b7(t.output,t.output,r,o),extra:t.extra}},gX=function(t,r,o,s){var d=r.getTarget(t.element);if(r.repositionTarget){var g=Jo(t.element),C=os(g),E=PA(d),O=hX(s,C,E),B=rV(O.coord,C,E);Qa(d,B)}},pX=Object.freeze({__proto__:null,snapTo:gX}),y7="data-initial-z-index",bX=function(t){xo(t.element).filter(go).each(function(r){Ga(r,y7).fold(function(){return Gr(r,"z-index")},function(o){return Wn(r,"z-index",o)}),ii(r,y7)})},yX=function(t){xo(t.element).filter(go).each(function(r){ko(r,"z-index").each(function(o){or(r,y7,o)}),Wn(r,"z-index",eo(t.element,"z-index"))})},iV=function(t,r){t.getSystem().addToGui(r),yX(r)},wX=function(t){bX(t),t.getSystem().removeFromGui(t)},uV=function(t,r,o){return t.getSystem().build(ku.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},CX=ss("snaps",[_t("getSnapPoints"),Kr("onSensor"),_t("leftAttr"),_t("topAttr"),Ve("lazyViewport",Ai),Ve("mustSnap",!1)]),w7=[Ve("useFixed",pe),_t("blockerClass"),Ve("getTarget",Ee),Ve("onDrag",G),Ve("repositionTarget",!0),Ve("onDrop",G),Ea("getBounds",Ai),CX],SX=function(t){return Jm(ko(t,"left"),ko(t,"top"),ko(t,"position"),function(r,o,s){var d=s==="fixed"?yS:zM;return d(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=vu(t);return Fy(r.left,r.top)})},xX=function(t,r,o,s,d){var g=d.bounds,C=YA(r,o,s),E=fs(C.left,g.x,g.x+g.width-d.width),O=fs(C.top,g.y,g.y+g.height-d.height),B=Fy(E,O);return r.fold(function(){var H=nV(B,o,s);return zM(H.left,H.top)},ue(B),function(){var H=LM(B,o,s);return yS(H.left,H.top)})},_X=function(t,r,o,s,d,g,C){var E=r.fold(function(){var O=iX(o,g.left,g.top),B=LM(O,s,d);return yS(B.left,B.top)},function(O){var B=fX(t,O,o,g,s,d);return B.extra.each(function(H){O.onSensor(t,H)}),B.coord});return xX(t,E,s,d,C)},kX=function(t,r,o,s){var d=r.getTarget(t.element);if(r.repositionTarget){var g=Jo(t.element),C=os(g),E=PA(d),O=SX(d),B=_X(t,r.snaps,O,C,E,s,o),H=rV(B,C,E);Qa(d,H)}r.onDrag(t,d,s)},sV=function(t,r){return{bounds:t.getBounds(),height:as(r.element),width:du(r.element)}},C7=function(t,r,o,s,d){var g=o.update(s,d),C=o.getStartData().getOrThunk(function(){return sV(r,t)});g.each(function(E){kX(t,r,C,E)})},lV=function(t,r,o,s){r.each(wX),o.snaps.each(function(g){vX(t,g)});var d=o.getTarget(t.element);s.reset(),o.onDrop(t,d)},S7=function(t){return function(r,o){var s=function(d){o.setStartData(sV(r,d))};return Ca(xe([Dt(b2(),function(d){o.getStartData().each(function(){return s(d)})})],t(r,o,s),!0))}},AX=function(t){return Ca([Dt(Ol(),t.forceDrop),Dt(v2(),t.drop),Dt(Ld(),function(r,o){t.move(o.event)}),Dt(f2(),t.delayDrop)])},EX=function(t){return $.from(ba(t.x,t.y))},TX=function(t,r){return ba(r.left-t.left,r.top-t.top)},OX=Object.freeze({__proto__:null,getData:EX,getDelta:TX}),cV=function(t,r,o){return[Dt(Ol(),function(s,d){var g=d.event.raw;if(g.button===0){d.stop();var C=function(){return lV(s,$.some(B),t,r)},E=xR(C,200),O={drop:C,delayDrop:E.schedule,forceDrop:C,move:function(W){E.cancel(),C7(s,t,r,OX,W)}},B=uV(s,t.blockerClass,AX(O)),H=function(){o(s),iV(s,B)};H()}})]},DX=xe(xe([],w7,!0),[_a("dragger",{handlers:S7(cV)})],!1),RX=function(t){return Ca([Dt(Wc(),t.forceDrop),Dt(Fv(),t.drop),Dt(QS(),t.drop),Dt(Tl(),function(r,o){t.move(o.event)})])},BX=function(t){var r=t[0];return $.some(ba(r.clientX,r.clientY))},$X=function(t){var r=t.raw,o=r.touches;return o.length===1?BX(o):$.none()},MX=function(t,r){return ba(r.left-t.left,r.top-t.top)},fV=Object.freeze({__proto__:null,getData:$X,getDelta:MX}),vV=function(t,r,o){var s=fo(),d=function(g){lV(g,s.get(),t,r),s.clear()};return[Dt(Wc(),function(g,C){C.stop();var E=function(){return d(g)},O={drop:E,delayDrop:G,forceDrop:E,move:function(W){C7(g,t,r,fV,W)}},B=uV(g,t.blockerClass,RX(O));s.set(B);var H=function(){o(g),iV(g,B)};H()}),Dt(Tl(),function(g,C){C.stop(),C7(g,t,r,fV,C.event)}),Dt(Fv(),function(g,C){C.stop(),d(g)}),Dt(QS(),d)]},PX=xe(xe([],w7,!0),[_a("dragger",{handlers:S7(vV)})],!1),IX=function(t,r,o){return xe(xe([],cV(t,r,o),!0),vV(t,r,o),!0)},NX=xe(xe([],w7,!0),[_a("dragger",{handlers:S7(IX)})],!1),FX=DX,LX=PX,zX=NX,HX=Object.freeze({__proto__:null,mouse:FX,touch:LX,mouseOrTouch:zX}),VX=function(){var t=$.none(),r=$.none(),o=function(){t=$.none(),r=$.none()},s=function(O,B){var H=t.map(function(W){return O.getDelta(W,B)});return t=$.some(B),H},d=function(O,B){return O.getData(B).bind(function(H){return s(O,H)})},g=function(O){r=$.some(O)},C=function(){return r},E=ue({});return Ki({readState:E,reset:o,update:d,getStartData:C,setStartData:g})},UX=Object.freeze({__proto__:null,init:VX}),wS=rm({branchKey:"mode",branches:HX,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:$.from(t.extra)}}},state:UX,apis:pX}),x7=40,HM=x7/2,dV=function(t,r,o,s,d,g){return t.fold(function(){return wS.snap({sensor:Fy(o-HM,s-HM),range:ba(d,g),output:Fy($.some(o),$.some(s)),extra:{td:r}})},function(C){var E=o-HM,O=s-HM,B=x7,H=x7,W=C.element.dom.getBoundingClientRect();return wS.snap({sensor:Fy(E,O),range:ba(B,H),output:Fy($.some(o-W.width/2),$.some(s-W.height/2)),extra:{td:r}})})},mV=function(t,r,o){var s=function(d,g){return d.exists(function(C){return Sa(C,g)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(d,g){var C=g.td;s(r.get(),C)||(r.set(C),o(C))},mustSnap:!0}},hV=function(t){return ra(ms.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Jt([wS.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),KC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},WX=function(t,r){var o=Pn([]),s=Pn([]),d=Pn(!1),g=fo(),C=fo(),E=function(Ct){var an=Lc(Ct);return dV(ae.getOpt(r),Ct,an.x,an.y,an.width,an.height)},O=function(){return Ue(o.get(),function(Ct){return E(Ct)})},B=function(Ct){var an=Lc(Ct);return dV(fe.getOpt(r),Ct,an.right,an.bottom,an.width,an.height)},H=function(){return Ue(s.get(),function(Ct){return B(Ct)})},W=mV(O,g,function(Ct){C.get().each(function(an){t.fire("TableSelectorChange",{start:Ct,finish:an})})}),ee=mV(H,C,function(Ct){g.get().each(function(an){t.fire("TableSelectorChange",{start:an,finish:Ct})})}),ae=hV(W),fe=hV(ee),Se=za(ae.asSpec()),Fe=za(fe.asSpec()),we=function(Ct,an,Tt,sn){var Bt=an.dom.getBoundingClientRect();Gr(Ct.element,"display");var wt=ih(un.fromDom(t.getBody())).dom.innerHeight,Kt=Tt(Bt),Cn=sn(Bt,wt);(Kt||Cn)&&Wn(Ct.element,"display","none")},ze=function(Ct,an,Tt,sn){var Bt=Tt(an);wS.snapTo(Ct,Bt);var wt=function(Cn){return Cn[sn]<0},Kt=function(Cn,Et){return Cn[sn]>Et};we(Ct,an,wt,Kt)},ft=function(Ct){return ze(Se,Ct,E,"top")},ct=function(){return g.get().each(ft)},Le=function(Ct){return ze(Fe,Ct,B,"bottom")},tt=function(){return C.get().each(Le)};zn().deviceType.isTouch()&&(t.on("TableSelectionChange",function(Ct){d.get()||(cm(r,Se),cm(r,Fe),d.set(!0)),g.set(Ct.start),C.set(Ct.finish),Ct.otherCells.each(function(an){o.set(an.upOrLeftCells),s.set(an.downOrRightCells),ft(Ct.start),Le(Ct.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){ct(),tt()}),t.on("TableSelectionClear",function(){d.get()&&(pc(Se),pc(Fe),d.set(!1)),g.clear(),C.clear()}))},jX=function(t){return!!(t.nodeType===1&&(t.nodeName==="BR"||t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark"))},GX=function(t,r,o){r.delimiter||(r.delimiter="");var s=function(g){var C=g||[],E=Ue(C,function(B,H){return ms.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":H,"tab-index":-1,"aria-level":H+1},innerHtml:B.name},action:function(W){t.focus(),t.selection.select(B.element),t.nodeChanged()},buttonBehaviours:Jt([mf.button(o.isDisabled),ti()])})}),O={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return Qe(E.slice(1),function(B,H){var W=B;return W.push(O),W.push(H),W},[E[0]])},d=function(g){for(var C=[],E=g.length;E-- >0;){var O=g[E];if(O.nodeType===1&&!jX(O)){var B=t.fire("ResolveName",{name:O.nodeName.toLowerCase(),target:O});if(B.isDefaultPrevented()||C.push({name:B.name,element:O}),B.isPropagationStopped())break}}return C};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Jt([Fn.config({mode:"flow",selector:"div[role=button]"}),Mn.config({disabled:o.isDisabled}),ti(),To.config({}),Zn.config({}),rr("elementPathEvents",[nr(function(g,C){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Fn.focusIn(g)}),t.on("NodeChange",function(E){var O=d(E.parents);O.length>0?Zn.set(g,s(O)):Zn.set(g,[])})})])]),components:[]}},CS;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(CS||(CS={}));var qX=function(t,r,o,s,d){var g={};return g.height=MM(s+r.top,gD(t),pD(t)),o===CS.Both&&(g.width=MM(d+r.left,sT(t),Ok(t))),g},gV=function(t,r,o){var s=un.fromDom(t.getContainer()),d=qX(t,r,o,$o(s),Vi(s));Hr(d,function(g,C){return Wn(s,C,l7(g))}),LP(t)},KX=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?CS.None:o==="both"?CS.Both:CS.Vertical},VM=function(t,r,o,s){var d=20,g=ba(o*d,s*d);return gV(t,g,r),$.some(!0)},XX=function(t,r){var o=KX(t);return o===CS.None?$.none():$.some(dv("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[wS.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,d,g){return gV(t,g,o)},blockerClass:"tox-blocker"}),Fn.config({mode:"special",onLeft:function(){return VM(t,o,-1,0)},onRight:function(){return VM(t,o,1,0)},onUp:function(){return VM(t,o,0,-1)},onDown:function(){return VM(t,o,0,1)}}),To.config({}),Xn.config({})]},r.icons))},YX=function(t,r){var o,s=function(d,g,C){return Zn.set(d,[Ri(r.translate(["{0} "+C,g[C]]))])};return ms.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Jt([mf.button(r.isDisabled),ti(),To.config({}),Zn.config({}),rn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),rr("wordcount-events",[cs(function(d){var g=rn.getValue(d),C=g.mode==="words"?"characters":"words";rn.setValue(d,{mode:C,count:g.count}),s(d,g.count,C)}),nr(function(d){t.on("wordCountUpdate",function(g){var C=rn.getValue(d).mode;rn.setValue(d,{mode:C,count:g.wordCount}),s(d,g.wordCount,C)})})])]),eventOrder:(o={},o[Rs()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},JX=function(t,r){var o=function(){var g=df.translate(["Powered by {0}","Tiny"]),C='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+g+'">'+g+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:C}}},s=function(){var g=[];return t.getParam("elementpath",!0,"boolean")&&g.push(GX(t,{},r)),t.hasPlugin("wordcount")&&g.push(YX(t,r)),t.getParam("branding",!0,"boolean")&&g.push(o()),g.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:g}]:[]},d=function(){var g=s(),C=XX(t,r);return g.concat(C.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:d()}},ZX=function(t){var r,o=t.inline,s=o?Iq:Oq,d=Bk(t)?VA:Oz,g=$.none(),C=zn(),E=C.browser.isIE(),O=E?["tox-platform-ie"]:[],B=C.deviceType.isTouch(),H="tox-platform-touch",W=B?[H]:[],ee=xD(t),ae=AD(t),fe=df.isRtl()?{attributes:{dir:"rtl"}}:{},Se={attributes:(r={},r[fb]=ee?Qc.BottomToTop:Qc.TopToBottom,r)},Fe=function(){return g.bind(No.getHeader)},we=function(){return d.isDocked(Fe)},ze=function(){Wn(Ku.element,"width",document.body.clientWidth+"px")},ft=function(){var bi=Sa(Hi(),ae)&&eo(ae,"display")==="grid",Fm={dom:ne({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(O).concat(W)},fe),behaviours:Jt([vo.config({useFixed:function(){return we()}})])},Jg={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ca([Dt(Bs(),ze)])};return bt(Fm,bi?Jg:{})},ct=za(ft()),Le=function(){return sr.value(ct)},tt=ra({dom:{tag:"div",classes:["tox-anchorbar"]}}),Ct=function(){return g.bind(function(bi){return tt.getOpt(bi)}).getOrDie("Could not find a anchor bar element")},an=function(){return g.bind(function(bi){return No.getToolbar(bi)}).getOrDie("Could not find more toolbar element")},Tt=function(){return g.bind(function(bi){return No.getThrobber(bi)}).getOrDie("Could not find throbber element")},sn=$A(ct,t,Ct),Bt=No.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:sn,onEscape:function(){t.focus()}}),wt=MC(t),Kt=No.parts.toolbar(ne({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Le,providers:sn.shared.providers,onEscape:function(){t.focus()},type:wt,lazyToolbar:an,lazyHeader:function(){return Fe().getOrDie("Could not find header element")}},Se)),Cn=No.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:sn.shared.providers,onEscape:function(){t.focus()},type:wt}),Et=No.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),bn=No.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),An=No.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:sn}),_r=t.getParam("statusbar",!0,"boolean"),aa=_r&&!o?$.some(JX(t,sn.shared.providers)):$.none(),Pa={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Et,bn]},oo=Dk(t),vl=cT(t),Tu=lT(t),ZA=function(){return oo?[Cn]:vl?[Kt]:[]},pi=No.parts.header({dom:ne({tag:"div",classes:["tox-editor-header"]},Se),components:ot([Tu?[Bt]:[],ZA(),Rk(t)?[]:[tt.asSpec()]]),sticky:Bk(t),editor:t,sharedBackstage:sn.shared}),q1=ot([ee?[]:[pi],o?[]:[Pa],ee?[pi]:[]]),K1={dom:{tag:"div",classes:["tox-editor-container"]},components:q1},_S=ot([[K1],o?[]:aa.toArray(),[An]]),X1=ED(t),kS=ne(ne({role:"application"},df.isRtl()?{dir:"rtl"}:{}),X1?{"aria-hidden":"true"}:{}),ys=za(No.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(ee?["tox-tinymce--toolbar-bottom"]:[]).concat(W).concat(O),styles:ne({visibility:"hidden"},X1?{opacity:"0",border:"0"}:{}),attributes:kS},components:_S,behaviours:Jt([ti(),Mn.config({disableClass:"tox-tinymce--disabled"}),Fn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));g=$.some(ys),t.shortcuts.add("alt+F9","focus menubar",function(){No.focusMenubar(ys)}),t.shortcuts.add("alt+F10","focus toolbar",function(){No.focusToolbar(ys)}),t.addCommand("ToggleToolbarDrawer",function(){No.toggleToolbarDrawer(ys)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return No.isToolbarDrawerToggled(ys)});var xv=DR(ys),Ku=DR(ct);Sz(t,xv,Ku);var AS=function(){var bi={broadcastAll:Ku.broadcast,broadcastOn:Ku.broadcastOn,register:G};return{channels:bi}},Yg=function(){var bi=l7(Rq(t)),Fm=l7(Bq(t));return t.inline||(ks("div","width",Fm)&&Wn(ys.element,"width",Fm),ks("div","height",bi)?Wn(ys.element,"height",bi):Wn(ys.element,"height","200px")),bi},zy=function(){d.setup(t,sn.shared,Fe),MK(t,sn),rX(t,Le,sn),ce(t),ao(t,Tt,sn.shared),ur(iP(t),function(Xu,dl){t.ui.registry.addGroupToolbarButton(dl,Xu)});var bi=t.ui.registry.getAll(),Fm=bi.buttons,Jg=bi.menuItems,Y1=bi.contextToolbars,_v=bi.sidebars,Zg=CD(t),dn={menuItems:Jg,menus:lP(t),menubar:cP(t),toolbar:Zg.getOrThunk(function(){return fP(t)}),allowToolbarGroups:wt===Ll.floating,buttons:Fm,sidebar:_v};uK(t,Y1,ct,{backstage:sn}),WX(t,ct);var cr=t.getElement(),ua=Yg(),Ya={mothership:xv,uiMothership:Ku,outerContainer:ys},ws={targetNode:cr,height:ua};return s.render(t,Ya,dn,sn,ws)};return{mothership:xv,uiMothership:Ku,backstage:sn,renderUI:zy,getUi:AS}},QX=function(t,r){var o=$.from(Fa(t,"id")).fold(function(){var s=wn("dialog-describe");return or(r,"id",s),s},Ee);or(t,"aria-describedby",o)},eY=function(t,r){var o=Ga(t,"id").fold(function(){var s=wn("dialog-label");return or(r,"id",s),s},Ee);or(t,"aria-labelledby",o)},tY=ue([_t("lazySink"),qr("dragBlockClass"),Ea("getBounds",Ai),Ve("useTabstopAt",ye),Ve("eventOrder",{}),Xo("modalBehaviours",[Fn]),Go("onExecute"),Fu("onEscape")]),_7={sketch:Ee},nY=ue([ul({name:"draghandle",overrides:function(t,r){return{behaviours:Jt([wS.config({mode:"mouse",getTarget:function(o){return H0(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),Ii({schema:[_t("dom")],name:"title"}),Ii({factory:_7,schema:[_t("dom")],name:"close"}),Ii({factory:_7,schema:[_t("dom")],name:"body"}),ul({factory:_7,schema:[_t("dom")],name:"footer"}),Ls({factory:{sketch:function(t,r){return ne(ne({},t),{dom:r.dom,components:r.components})}},schema:[Ve("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ve("components",[])],name:"blocker"})]),rY=function(t,r,o,s){var d,g=fo(),C=function(fe){g.set(fe);var Se=t.lazySink(fe).getOrDie(),Fe=s.blocker(),we=Se.getSystem().build(ne(ne({},Fe),{components:Fe.components.concat([Fs(fe)]),behaviours:Jt([Xn.config({}),rr("dialog-blocker-events",[Eo(tl(),function(){Fn.focusIn(fe)})])])}));cm(Se,we),Fn.focusIn(fe)},E=function(fe){g.clear(),xo(fe.element).each(function(Se){fe.getSystem().getByDom(Se).each(function(Fe){pc(Fe)})})},O=function(fe){return sf(fe,t,"body")},B=function(fe){return sf(fe,t,"footer")},H=function(fe,Se){Vt.block(fe,Se)},W=function(fe){Vt.unblock(fe)},ee=wn("modal-events"),ae=ne(ne({},t.eventOrder),(d={},d[ls()]=[ee].concat(t.eventOrder["alloy.system.attached"]||[]),d));return{uid:t.uid,dom:t.dom,components:r,apis:{show:C,hide:E,getBody:O,getFooter:B,setIdle:W,setBusy:H},eventOrder:ae,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:ci(t.modalBehaviours,[Zn.config({}),Fn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),Vt.config({getRoot:g.get}),rr(ee,[nr(function(fe){eY(fe.element,sf(fe,t,"title").element),QX(fe.element,sf(fe,t,"body").element)})])])}},Li=_u({name:"ModalDialog",configFields:tY(),partFields:nY(),factory:rY,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),aY=Bn([Kn("type"),Kn("name")].concat(Mg)),oY=ui,pV=[Uo("name","name",Ar(function(){return wn("button-name")}),bo),Aa("icon"),Os("align","end",["start","end"]),wa("primary",!1),wa("disabled",!1)],bV=xe(xe([],pV,!0),[Kn("text")],!1),k7=xe([Ts("type",["submit","cancel","custom"])],bV,!0),iY=xe([Ts("type",["menu"]),Aa("text"),Aa("tooltip"),Aa("icon"),Gi("items",aY)],pV,!0),uY=el("type",{submit:k7,cancel:k7,custom:k7,menu:iY}),sY=[Kn("type"),Kn("text"),Ts("level",["info","warn","error","success"]),Kn("icon"),Ve("url","")],lY=Bn(sY),cY=function(t){return[Kn("type"),t]},fY=[Kn("type"),Kn("text"),wa("disabled",!1),wa("primary",!1),Uo("name","name",Ar(function(){return wn("button-name")}),bo),Aa("icon"),wa("borderless",!1)],vY=Bn(fY),dY=[Kn("type"),Kn("name"),Kn("label"),wa("disabled",!1)],mY=Bn(dY),hY=ui,A7=[Kn("type"),Kn("name")],Ad=A7.concat([Aa("label")]),gY=Ad.concat([Ve("columns","auto")]),pY=Bn(gY),bY=o2([Kn("value"),Kn("text"),Kn("icon")]),yY=Ad,wY=Bn(yY),CY=bo,SY=Ad,xY=Bn(SY),_Y=bo,kY=A7.concat([yh("tag","textarea"),Kn("scriptId"),Kn("scriptUrl"),Nu("settings",void 0)]),AY=A7.concat([yh("tag","textarea"),tu("init")]),EY=ph(function(t){return qa("customeditor.old",is(AY),t).orThunk(function(){return qa("customeditor.new",is(kY),t)})}),TY=bo,OY=Ad,DY=Bn(OY),RY=S3(),BY=function(t){return[Kn("type"),qf("columns"),t]},$Y=[Kn("type"),Kn("html"),Os("presets","presentation",["presentation","document"])],MY=Bn($Y),PY=Ad.concat([wa("sandboxed",!0)]),IY=Bn(PY),NY=bo,FY=Ad.concat([Iu("currentState",Bn([_t("blob"),Kn("url")]))]),LY=Bn(FY),zY=Ad.concat([Aa("inputMode"),Aa("placeholder"),wa("maximized",!1),wa("disabled",!1)]),HY=Bn(zY),VY=bo,UY=function(t){return[Kn("type"),Kn("label"),t]},WY=[Kn("text"),Kn("value")],jY=[Kn("text"),Gi("items",x3("items",function(){return yV}))],yV=wp([Bn(WY),Bn(jY)]),GY=Ad.concat([Gi("items",yV),wa("disabled",!1)]),qY=Bn(GY),KY=bo,XY=Ad.concat([El("items",[Kn("text"),Kn("value")]),uc("size",1),wa("disabled",!1)]),YY=Bn(XY),JY=bo,ZY=Ad.concat([wa("constrain",!0),wa("disabled",!1)]),QY=Bn(ZY),wV=Bn([Kn("width"),Kn("height")]),eJ=[Kn("type"),Gi("header",bo),Gi("cells",Gf(bo))],tJ=Bn(eJ),nJ=Ad.concat([Aa("placeholder"),wa("maximized",!1),wa("disabled",!1)]),rJ=Bn(nJ),aJ=bo,oJ=Ad.concat([Os("filetype","file",["image","media","file"]),Ve("disabled",!1)]),iJ=Bn(oJ),uJ=Bn([Kn("value"),Ve("meta",{})]),E7=function(t){return Uo("items","items",Jn(),Gf(ph(function(r){return qa("Checking item of "+t,T7,r).fold(function(o){return sr.error(Iv(o))},function(o){return sr.value(o)})})))},T7=jS(function(){return p0("type",{alertbanner:lY,bar:Bn(cY(E7("bar"))),button:vY,checkbox:mY,colorinput:wY,colorpicker:xY,dropzone:DY,grid:Bn(BY(E7("grid"))),iframe:IY,input:HY,listbox:qY,selectbox:YY,sizeinput:QY,textarea:rJ,urlinput:iJ,customeditor:EY,htmlpanel:MY,imagetools:LY,collection:pY,label:Bn(UY(E7("label"))),table:tJ,panel:CV})}),sJ=[Kn("type"),Ve("classes",[]),Gi("items",T7)],CV=Bn(sJ),lJ=[Uo("name","name",Ar(function(){return wn("tab-name")}),bo),Kn("title"),Gi("items",T7)],cJ=[Kn("type"),El("tabs",lJ)],fJ=Bn(cJ),vJ=bV,dJ=uY,mJ=Bn([Kn("title"),Iu("body",p0("type",{panel:CV,tabpanel:fJ})),yh("size","normal"),Gi("buttons",dJ),Ve("initialData",{}),Ea("onAction",G),Ea("onChange",G),Ea("onSubmit",G),Ea("onClose",G),Ea("onCancel",G),Ve("onTabChange",G)]),hJ=function(t){return qa("dialog",mJ,t)},gJ=Bn(xe([Ts("type",["cancel","custom"])],vJ,!0)),pJ=Bn([Kn("title"),Kn("url"),Fd("height"),Fd("width"),us("buttons",gJ),Ea("onAction",G),Ea("onCancel",G),Ea("onClose",G),Ea("onMessage",G)]),bJ=function(t){return qa("dialog",pJ,t)},O7=function(t){return _(t)?[t].concat(Wt(xi(t),O7)):T(t)?Wt(t,O7):[]},yJ=function(t){return S(t.type)&&S(t.name)},wJ={checkbox:hY,colorinput:CY,colorpicker:_Y,dropzone:RY,input:VY,iframe:NY,sizeinput:wV,selectbox:JY,listbox:KY,size:wV,textarea:aJ,urlinput:uJ,customeditor:TY,collection:bY,togglemenuitem:oY},CJ=function(t){return $.from(wJ[t.type])},SJ=function(t){return Ae(O7(t),yJ)},xJ=function(t){var r=SJ(t),o=Wt(r,function(s){return CJ(s).fold(function(){return[]},function(d){return[Iu(s.name,d)]})});return Bn(o)},SV=function(t){var r=Al(hJ(t)),o=xJ(t),s=t.initialData;return{internalDialog:r,dataValidator:o,initialData:s}},s5={open:function(t,r){var o=SV(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=Al(bJ(r));return t(o)},redial:function(t){return SV(t)}},xV=function(t){var r=[],o={};return Hr(t,function(s,d){s.fold(function(){r.push(d)},function(g){o[d]=g})}),r.length>0?sr.error(r):sr.value(o)},_J=function(t,r){var o=ra(Oy.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Ue(t.items,function(d){return TA(s,d,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:Jt([Fn.config({mode:"acyclic",useTabstopAt:Xe(uS)}),pv.memento(o),Bm.memento(o,{postprocess:function(s){return xV(s).fold(function(d){return console.error(d),{}},Ee)}})])}},kJ=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:vy(t.action),behaviours:ci(t.tabButtonBehaviours,[Xn.config({}),Fn.config({mode:"execution",useSpace:!0,useEnter:!0}),rn.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},AJ=zs({name:"TabButton",configFields:[Ve("uid",void 0),_t("value"),Uo("dom","dom",Ei(function(){return{attributes:{role:"tab",id:wn("aria"),"aria-selected":"false"}}}),kl()),qr("action"),Ve("domModification",{}),Xo("tabButtonBehaviours",[Xn,Fn,rn]),_t("view")],factory:kJ}),EJ=ue([_t("tabs"),_t("dom"),Ve("clickToDismiss",!1),Xo("tabbarBehaviours",[ea,Fn]),Qd(["tabClass","selectedClass"])]),TJ=uf({factory:AJ,name:"tabs",unit:"tab",overrides:function(t){var r=function(s,d){ea.dehighlight(s,d),In(s,Oi(),{tabbar:s,button:d})},o=function(s,d){ea.highlight(s,d),In(s,ex(),{tabbar:s,button:d})};return{action:function(s){var d=s.getSystem().getByUid(t.uid).getOrDie(),g=ea.isHighlighted(d,s),C=function(){return g&&t.clickToDismiss?r:g?G:o}();C(d,s)},domModification:{classes:[t.markers.tabClass]}}}}),OJ=ue([TJ]),DJ=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:ci(t.tabbarBehaviours,[ea.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(d,g){or(g.element,"aria-selected","true")},onDehighlight:function(d,g){or(g.element,"aria-selected","false")}}),Fn.config({mode:"flow",getInitial:function(d){return ea.getHighlighted(d).map(function(g){return g.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},_V=_u({name:"Tabbar",configFields:EJ(),partFields:OJ(),factory:DJ}),RJ=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:ci(t.tabviewBehaviours,[Zn.config({})]),domModification:{attributes:{role:"tabpanel"}}}},BJ=zs({name:"Tabview",configFields:[Xo("tabviewBehaviours",[Zn])],factory:RJ}),$J=ue([Ve("selectFirst",!0),Kr("onChangeTab"),Kr("onDismissTab"),Ve("tabs",[]),Xo("tabSectionBehaviours",[])]),MJ=Ii({factory:_V,schema:[_t("dom"),Hc("markers",[_t("tabClass"),_t("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),PJ=Ii({factory:BJ,name:"tabview"}),IJ=ue([MJ,PJ]),NJ=function(t,r,o,s){var d=function(C){var E=rn.getValue(C);ga(C,t,"tabview").each(function(O){var B=pt(t.tabs,function(H){return H.value===E});B.each(function(H){var W=H.view();Ga(C.element,"id").each(function(ee){or(O.element,"aria-labelledby",ee)}),Zn.set(O,W),t.onChangeTab(O,C,W)})})},g=function(C,E){ga(C,t,"tabbar").each(function(O){E(O).each($s)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:cg(t.tabSectionBehaviours),events:Ca(ot([t.selectFirst?[nr(function(C,E){g(C,ea.getFirst)})]:[],[Dt(ex(),function(C,E){var O=E.event.button;d(O)}),Dt(Oi(),function(C,E){var O=E.event.button;t.onDismissTab(C,O)})]])),apis:{getViewItems:function(C){return ga(C,t,"tabview").map(function(E){return Zn.contents(E)}).getOr([])},showTab:function(C,E){var O=function(B){var H=ea.getCandidates(B),W=pt(H,function(ee){return rn.getValue(ee)===E});return W.filter(function(ee){return!ea.isHighlighted(B,ee)})};g(C,O)}}}},JA=_u({name:"TabSection",configFields:$J(),partFields:IJ(),factory:NJ,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),FJ=function(t,r,o){return Ue(t,function(s,d){Zn.set(o,t[d].view());var g=r.dom.getBoundingClientRect();return Zn.set(o,[]),g.height})},LJ=function(t){return tr(ir(t,function(r,o){return r>o?-1:r<o?1:0}))},zJ=function(t,r,o){var s=yt(t).dom,d=H0(t,".tox-dialog-wrap").getOr(t),g=eo(d,"position")==="fixed",C;g?C=Math.max(s.clientHeight,window.innerHeight):C=Math.max(s.offsetHeight,s.scrollHeight);var E=$o(r),O=r.dom.offsetLeft>=o.dom.offsetLeft+Vi(o),B=O?Math.max($o(o),E):E,H=parseInt(eo(t,"margin-top"),10)||0,W=parseInt(eo(t,"margin-bottom"),10)||0,ee=$o(t)+H+W,ae=ee-B;return C-ae},HJ=function(t,r){tr(t).each(function(o){return JA.showTab(r,o.value)})},kV=function(t,r){Wn(t,"height",r+"px"),zn().browser.isIE()?Gr(t,"flex-basis"):Wn(t,"flex-basis",r+"px")},UM=function(t,r,o){H0(t,'[role="dialog"]').each(function(s){jo(s,'[role="tablist"]').each(function(d){o.get().map(function(g){return Wn(r,"height","0"),Wn(r,"flex-basis","0"),Math.min(g,zJ(s,r,d))}).each(function(g){kV(r,g)})})})},D7=function(t){return jo(t,'[role="tabpanel"]')},VJ=function(t){var r=function(){var s=fo(),d=[nr(function(C){var E=C.element;D7(E).each(function(O){Wn(O,"visibility","hidden"),C.getSystem().getByDom(O).toOptional().each(function(B){var H=FJ(t,O,B),W=LJ(H);W.fold(s.clear,s.set)}),UM(E,O,s),Gr(O,"visibility"),HJ(t,C),$g.requestAnimationFrame(function(){UM(E,O,s)})})}),Dt(Bs(),function(C){var E=C.element;D7(E).each(function(O){UM(E,O,s)})}),Dt(RT,function(C,E){var O=C.element;D7(O).each(function(B){var H=xu(_s(B));Wn(B,"visibility","hidden");var W=ko(B,"height").map(function(fe){return parseInt(fe,10)});Gr(B,"height"),Gr(B,"flex-basis");var ee=B.dom.getBoundingClientRect().height,ae=W.forall(function(fe){return ee>fe});ae?(s.set(ee),UM(O,B,s)):W.each(function(fe){kV(B,fe)}),Gr(B,"visibility"),H.each(vc)})})],g=!1;return{extraEvents:d,selectFirst:g}}(),o=function(){var s=[],d=!0;return{extraEvents:s,selectFirst:d}}();return{smartTabHeight:r,naiveTabHeight:o}},AV="send-data-to-section",EV="send-data-to-view",UJ=function(t,r){var o=Pn({}),s=function(O){var B=rn.getValue(O),H=xV(B).getOr({}),W=o.get(),ee=bt(W,H);o.set(ee)},d=function(O){var B=o.get();rn.setValue(O,B)},g=Pn(null),C=Ue(t.tabs,function(O){return{value:O.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(O.title)},view:function(){return[Oy.sketch(function(B){return{dom:{tag:"div",classes:["tox-form"]},components:Ue(O.items,function(H){return TA(B,H,r)}),formBehaviours:Jt([Fn.config({mode:"acyclic",useTabstopAt:Xe(uS)}),rr("TabView.form.events",[nr(d),Ms(s)]),nu.config({channels:Xf([{key:AV,value:{onReceive:s}},{key:EV,value:{onReceive:d}}])})])}})]}}}),E=VJ(C).smartTabHeight;return JA.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(O,B,H){var W=rn.getValue(B);In(O,DT,{name:W,oldName:g.get()}),g.set(W)},tabs:C,components:[JA.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[_V.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Jt([To.config({})])}),JA.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:E.selectFirst,tabSectionBehaviours:Jt([rr("tabpanel",E.extraEvents),Fn.config({mode:"acyclic"}),Cr.config({find:function(O){return tr(JA.getViewItems(O))}}),rn.config({store:{mode:"manual",getValue:function(O){return O.getSystem().broadcastOn([AV],{}),o.get()},setValue:function(O,B){o.set(B),O.getSystem().broadcastOn([EV],{})}}})])})},R7=wn("update-dialog"),TV=wn("update-title"),OV=wn("update-body"),DV=wn("update-footer"),RV=wn("body-send-message"),BV=function(t,r,o,s){var d=function(E){switch(E.body.type){case"tabpanel":return[UJ(E.body,o)];default:return[_J(E.body,o)]}},g=function(E,O){return $.some({isTabPanel:function(){return O.body.type==="tabpanel"}})},C={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:ne(ne({},r.map(function(E){return{id:E}}).getOr({})),s?C:{})},components:[],behaviours:Jt([pv.childAt(0),kc.config({channel:OV,updateState:g,renderComponents:d,initialData:t})])}},WJ=function(t,r,o,s){return BV(t,$.some(r),o,s)},jJ=function(t,r){var o=BV(t,$.none(),r,!1);return Li.parts.body(o)},GJ=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[fO({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Jt([To.config({}),Xn.config({})])})]}],behaviours:Jt([Fn.config({mode:"acyclic",useTabstopAt:Xe(uS)})])};return Li.parts.body(r)};function SS(t){"@babel/helpers - typeof";return SS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},SS(t)}function B7(t,r){return B7=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},B7(t,r)}function qJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function WM(t,r,o){return qJ()?WM=Reflect.construct:WM=function(d,g,C){var E=[null];E.push.apply(E,g);var O=Function.bind.apply(d,E),B=new O;return C&&B7(B,C.prototype),B},WM.apply(null,arguments)}function Im(t){return KJ(t)||XJ(t)||YJ(t)||JJ()}function KJ(t){if(Array.isArray(t))return $7(t)}function XJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YJ(t,r){if(t){if(typeof t=="string")return $7(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return $7(t,r)}}function $7(t,r){(r==null||r>t.length)&&(r=t.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=t[o];return s}function JJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ZJ=Object.hasOwnProperty,$V=Object.setPrototypeOf,QJ=Object.isFrozen,eZ=Object.getPrototypeOf,tZ=Object.getOwnPropertyDescriptor,Ac=Object.freeze,Xg=Object.seal,nZ=Object.create,MV=typeof Reflect<"u"&&Reflect,jM=MV.apply,M7=MV.construct;jM||(jM=function(r,o,s){return r.apply(o,s)}),Ac||(Ac=function(r){return r}),Xg||(Xg=function(r){return r}),M7||(M7=function(r,o){return WM(r,Im(o))});var rZ=Nm(Array.prototype.forEach),PV=Nm(Array.prototype.pop),l5=Nm(Array.prototype.push),GM=Nm(String.prototype.toLowerCase),aZ=Nm(String.prototype.match),Ly=Nm(String.prototype.replace),oZ=Nm(String.prototype.indexOf),iZ=Nm(String.prototype.trim),Ec=Nm(RegExp.prototype.test),P7=uZ(TypeError);function Nm(t){return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),d=1;d<o;d++)s[d-1]=arguments[d];return jM(t,r,s)}}function uZ(t){return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return M7(t,o)}}function Oa(t,r){$V&&$V(t,null);for(var o=r.length;o--;){var s=r[o];if(typeof s=="string"){var d=GM(s);d!==s&&(QJ(r)||(r[o]=d),s=d)}t[s]=!0}return t}function xS(t){var r=nZ(null),o;for(o in t)jM(ZJ,t,[o])&&(r[o]=t[o]);return r}function qM(t,r){for(;t!==null;){var o=tZ(t,r);if(o){if(o.get)return Nm(o.get);if(typeof o.value=="function")return Nm(o.value)}t=eZ(t)}function s(d){return console.warn("fallback value for",d),null}return s}var IV=Ac(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I7=Ac(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),N7=Ac(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),sZ=Ac(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),F7=Ac(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),lZ=Ac(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),NV=Ac(["#text"]),FV=Ac(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),L7=Ac(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),LV=Ac(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),KM=Ac(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),cZ=Xg(/\{\{[\w\W]*|[\w\W]*\}\}/gm),fZ=Xg(/<%[\w\W]*|[\w\W]*%>/gm),vZ=Xg(/^data-[\-\w.\u00B7-\uFFFF]/),dZ=Xg(/^aria-[\-\w]+$/),mZ=Xg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hZ=Xg(/^(?:\w+script|data):/i),gZ=Xg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pZ=Xg(/^html$/i),bZ=function(){return typeof window>"u"?null:window},yZ=function(r,o){if(SS(r)!=="object"||typeof r.createPolicy!="function")return null;var s=null,d="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(d)&&(s=o.currentScript.getAttribute(d));var g="dompurify"+(s?"#"+s:"");try{return r.createPolicy(g,{createHTML:function(E){return E}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function zV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bZ(),r=function(vt){return zV(vt)};if(r.version="2.3.8",r.removed=[],!t||!t.document||t.document.nodeType!==9)return r.isSupported=!1,r;var o=t.document,s=t.document,d=t.DocumentFragment,g=t.HTMLTemplateElement,C=t.Node,E=t.Element,O=t.NodeFilter,B=t.NamedNodeMap,H=B===void 0?t.NamedNodeMap||t.MozNamedAttrMap:B,W=t.HTMLFormElement,ee=t.DOMParser,ae=t.trustedTypes,fe=E.prototype,Se=qM(fe,"cloneNode"),Fe=qM(fe,"nextSibling"),we=qM(fe,"childNodes"),ze=qM(fe,"parentNode");if(typeof g=="function"){var ft=s.createElement("template");ft.content&&ft.content.ownerDocument&&(s=ft.content.ownerDocument)}var ct=yZ(ae,o),Le=ct?ct.createHTML(""):"",tt=s,Ct=tt.implementation,an=tt.createNodeIterator,Tt=tt.createDocumentFragment,sn=tt.getElementsByTagName,Bt=o.importNode,wt={};try{wt=xS(s).documentMode?s.documentMode:{}}catch{}var Kt={};r.isSupported=typeof ze=="function"&&Ct&&typeof Ct.createHTMLDocument<"u"&&wt!==9;var Cn=cZ,Et=fZ,bn=vZ,An=dZ,_r=hZ,aa=gZ,Pa=mZ,oo=null,vl=Oa({},[].concat(Im(IV),Im(I7),Im(N7),Im(F7),Im(NV))),Tu=null,ZA=Oa({},[].concat(Im(FV),Im(L7),Im(LV),Im(KM))),pi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q1=null,K1=null,_S=!0,X1=!0,kS=!1,ys=!1,xv=!1,Ku=!1,AS=!1,Yg=!1,zy=!1,bi=!1,Fm=!0,Jg=!0,Y1=!1,_v={},Zg=null,dn=Oa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),cr=null,ua=Oa({},["audio","video","img","source","image","track"]),Ya=null,ws=Oa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xu="http://www.w3.org/1998/Math/MathML",dl="http://www.w3.org/2000/svg",Tc="http://www.w3.org/1999/xhtml",Hy=Tc,ES=!1,Vy,W7=["application/xhtml+xml","text/html"],j7="text/html",J1,Uy=null,qZ=s.createElement("form"),uU=function(vt){return vt instanceof RegExp||vt instanceof Function},G7=function(vt){Uy&&Uy===vt||((!vt||SS(vt)!=="object")&&(vt={}),vt=xS(vt),oo="ALLOWED_TAGS"in vt?Oa({},vt.ALLOWED_TAGS):vl,Tu="ALLOWED_ATTR"in vt?Oa({},vt.ALLOWED_ATTR):ZA,Ya="ADD_URI_SAFE_ATTR"in vt?Oa(xS(ws),vt.ADD_URI_SAFE_ATTR):ws,cr="ADD_DATA_URI_TAGS"in vt?Oa(xS(ua),vt.ADD_DATA_URI_TAGS):ua,Zg="FORBID_CONTENTS"in vt?Oa({},vt.FORBID_CONTENTS):dn,q1="FORBID_TAGS"in vt?Oa({},vt.FORBID_TAGS):{},K1="FORBID_ATTR"in vt?Oa({},vt.FORBID_ATTR):{},_v="USE_PROFILES"in vt?vt.USE_PROFILES:!1,_S=vt.ALLOW_ARIA_ATTR!==!1,X1=vt.ALLOW_DATA_ATTR!==!1,kS=vt.ALLOW_UNKNOWN_PROTOCOLS||!1,ys=vt.SAFE_FOR_TEMPLATES||!1,xv=vt.WHOLE_DOCUMENT||!1,Yg=vt.RETURN_DOM||!1,zy=vt.RETURN_DOM_FRAGMENT||!1,bi=vt.RETURN_TRUSTED_TYPE||!1,AS=vt.FORCE_BODY||!1,Fm=vt.SANITIZE_DOM!==!1,Jg=vt.KEEP_CONTENT!==!1,Y1=vt.IN_PLACE||!1,Pa=vt.ALLOWED_URI_REGEXP||Pa,Hy=vt.NAMESPACE||Tc,vt.CUSTOM_ELEMENT_HANDLING&&uU(vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(pi.tagNameCheck=vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&uU(vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(pi.attributeNameCheck=vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&typeof vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(pi.allowCustomizedBuiltInElements=vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Vy=W7.indexOf(vt.PARSER_MEDIA_TYPE)===-1?Vy=j7:Vy=vt.PARSER_MEDIA_TYPE,J1=Vy==="application/xhtml+xml"?function(xn){return xn}:GM,ys&&(X1=!1),zy&&(Yg=!0),_v&&(oo=Oa({},Im(NV)),Tu=[],_v.html===!0&&(Oa(oo,IV),Oa(Tu,FV)),_v.svg===!0&&(Oa(oo,I7),Oa(Tu,L7),Oa(Tu,KM)),_v.svgFilters===!0&&(Oa(oo,N7),Oa(Tu,L7),Oa(Tu,KM)),_v.mathMl===!0&&(Oa(oo,F7),Oa(Tu,LV),Oa(Tu,KM))),vt.ADD_TAGS&&(oo===vl&&(oo=xS(oo)),Oa(oo,vt.ADD_TAGS)),vt.ADD_ATTR&&(Tu===ZA&&(Tu=xS(Tu)),Oa(Tu,vt.ADD_ATTR)),vt.ADD_URI_SAFE_ATTR&&Oa(Ya,vt.ADD_URI_SAFE_ATTR),vt.FORBID_CONTENTS&&(Zg===dn&&(Zg=xS(Zg)),Oa(Zg,vt.FORBID_CONTENTS)),Jg&&(oo["#text"]=!0),xv&&Oa(oo,["html","head","body"]),oo.table&&(Oa(oo,["tbody"]),delete q1.tbody),Ac&&Ac(vt),Uy=vt)},sU=Oa({},["mi","mo","mn","ms","mtext"]),lU=Oa({},["foreignobject","desc","title","annotation-xml"]),KZ=Oa({},["title","style","font","a","script"]),XM=Oa({},I7);Oa(XM,N7),Oa(XM,sZ);var q7=Oa({},F7);Oa(q7,lZ);var XZ=function(vt){var xn=ze(vt);(!xn||!xn.tagName)&&(xn={namespaceURI:Tc,tagName:"template"});var ar=GM(vt.tagName),Fo=GM(xn.tagName);return vt.namespaceURI===dl?xn.namespaceURI===Tc?ar==="svg":xn.namespaceURI===Xu?ar==="svg"&&(Fo==="annotation-xml"||sU[Fo]):!!XM[ar]:vt.namespaceURI===Xu?xn.namespaceURI===Tc?ar==="math":xn.namespaceURI===dl?ar==="math"&&lU[Fo]:!!q7[ar]:vt.namespaceURI===Tc?xn.namespaceURI===dl&&!lU[Fo]||xn.namespaceURI===Xu&&!sU[Fo]?!1:!q7[ar]&&(KZ[ar]||!XM[ar]):!1},Z1=function(vt){l5(r.removed,{element:vt});try{vt.parentNode.removeChild(vt)}catch{try{vt.outerHTML=Le}catch{vt.remove()}}},cU=function(vt,xn){try{l5(r.removed,{attribute:xn.getAttributeNode(vt),from:xn})}catch{l5(r.removed,{attribute:null,from:xn})}if(xn.removeAttribute(vt),vt==="is"&&!Tu[vt])if(Yg||zy)try{Z1(xn)}catch{}else try{xn.setAttribute(vt,"")}catch{}},fU=function(vt){var xn,ar;if(AS)vt="<remove></remove>"+vt;else{var Fo=aZ(vt,/^[\r\n\t ]+/);ar=Fo&&Fo[0]}Vy==="application/xhtml+xml"&&(vt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+vt+"</body></html>");var xf=ct?ct.createHTML(vt):vt;if(Hy===Tc)try{xn=new ee().parseFromString(xf,Vy)}catch{}if(!xn||!xn.documentElement){xn=Ct.createDocument(Hy,"template",null);try{xn.documentElement.innerHTML=ES?"":xf}catch{}}var Ul=xn.body||xn.documentElement;return vt&&ar&&Ul.insertBefore(s.createTextNode(ar),Ul.childNodes[0]||null),Hy===Tc?sn.call(xn,xv?"html":"body")[0]:xv?xn.documentElement:Ul},vU=function(vt){return an.call(vt.ownerDocument||vt,vt,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT,null,!1)},YZ=function(vt){return vt instanceof W&&(typeof vt.nodeName!="string"||typeof vt.textContent!="string"||typeof vt.removeChild!="function"||!(vt.attributes instanceof H)||typeof vt.removeAttribute!="function"||typeof vt.setAttribute!="function"||typeof vt.namespaceURI!="string"||typeof vt.insertBefore!="function")},c5=function(vt){return SS(C)==="object"?vt instanceof C:vt&&SS(vt)==="object"&&typeof vt.nodeType=="number"&&typeof vt.nodeName=="string"},Q1=function(vt,xn,ar){Kt[vt]&&rZ(Kt[vt],function(Fo){Fo.call(r,xn,ar,Uy)})},dU=function(vt){var xn;if(Q1("beforeSanitizeElements",vt,null),YZ(vt)||Ec(/[\u0080-\uFFFF]/,vt.nodeName))return Z1(vt),!0;var ar=J1(vt.nodeName);if(Q1("uponSanitizeElement",vt,{tagName:ar,allowedTags:oo}),vt.hasChildNodes()&&!c5(vt.firstElementChild)&&(!c5(vt.content)||!c5(vt.content.firstElementChild))&&Ec(/<[/\w]/g,vt.innerHTML)&&Ec(/<[/\w]/g,vt.textContent)||ar==="select"&&Ec(/<template/i,vt.innerHTML))return Z1(vt),!0;if(!oo[ar]||q1[ar]){if(!q1[ar]&&hU(ar)&&(pi.tagNameCheck instanceof RegExp&&Ec(pi.tagNameCheck,ar)||pi.tagNameCheck instanceof Function&&pi.tagNameCheck(ar)))return!1;if(Jg&&!Zg[ar]){var Fo=ze(vt)||vt.parentNode,xf=we(vt)||vt.childNodes;if(xf&&Fo)for(var Ul=xf.length,ml=Ul-1;ml>=0;--ml)Fo.insertBefore(Se(xf[ml],!0),Fe(vt))}return Z1(vt),!0}return vt instanceof E&&!XZ(vt)||(ar==="noscript"||ar==="noembed")&&Ec(/<\/no(script|embed)/i,vt.innerHTML)?(Z1(vt),!0):(ys&&vt.nodeType===3&&(xn=vt.textContent,xn=Ly(xn,Cn," "),xn=Ly(xn,Et," "),vt.textContent!==xn&&(l5(r.removed,{element:vt.cloneNode()}),vt.textContent=xn)),Q1("afterSanitizeElements",vt,null),!1)},mU=function(vt,xn,ar){if(Fm&&(xn==="id"||xn==="name")&&(ar in s||ar in qZ))return!1;if(!(X1&&!K1[xn]&&Ec(bn,xn))){if(!(_S&&Ec(An,xn))){if(!Tu[xn]||K1[xn]){if(!(hU(vt)&&(pi.tagNameCheck instanceof RegExp&&Ec(pi.tagNameCheck,vt)||pi.tagNameCheck instanceof Function&&pi.tagNameCheck(vt))&&(pi.attributeNameCheck instanceof RegExp&&Ec(pi.attributeNameCheck,xn)||pi.attributeNameCheck instanceof Function&&pi.attributeNameCheck(xn))||xn==="is"&&pi.allowCustomizedBuiltInElements&&(pi.tagNameCheck instanceof RegExp&&Ec(pi.tagNameCheck,ar)||pi.tagNameCheck instanceof Function&&pi.tagNameCheck(ar))))return!1}else if(!Ya[xn]){if(!Ec(Pa,Ly(ar,aa,""))){if(!((xn==="src"||xn==="xlink:href"||xn==="href")&&vt!=="script"&&oZ(ar,"data:")===0&&cr[vt])){if(!(kS&&!Ec(_r,Ly(ar,aa,"")))){if(ar)return!1}}}}}}return!0},hU=function(vt){return vt.indexOf("-")>0},gU=function(vt){var xn,ar,Fo,xf;Q1("beforeSanitizeAttributes",vt,null);var Ul=vt.attributes;if(Ul){var ml={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Tu};for(xf=Ul.length;xf--;){xn=Ul[xf];var YM=xn,Oc=YM.name,pU=YM.namespaceURI;if(ar=Oc==="value"?xn.value:iZ(xn.value),Fo=J1(Oc),ml.attrName=Fo,ml.attrValue=ar,ml.keepAttr=!0,ml.forceKeepAttr=void 0,Q1("uponSanitizeAttribute",vt,ml),ar=ml.attrValue,!ml.forceKeepAttr&&(cU(Oc,vt),!!ml.keepAttr)){if(Ec(/\/>/i,ar)){cU(Oc,vt);continue}ys&&(ar=Ly(ar,Cn," "),ar=Ly(ar,Et," "));var ZZ=J1(vt.nodeName);if(mU(ZZ,Fo,ar))try{pU?vt.setAttributeNS(pU,Oc,ar):vt.setAttribute(Oc,ar),PV(r.removed)}catch{}}}Q1("afterSanitizeAttributes",vt,null)}},JZ=function yr(vt){var xn,ar=vU(vt);for(Q1("beforeSanitizeShadowDOM",vt,null);xn=ar.nextNode();)Q1("uponSanitizeShadowNode",xn,null),!dU(xn)&&(xn.content instanceof d&&yr(xn.content),gU(xn));Q1("afterSanitizeShadowDOM",vt,null)};return r.sanitize=function(yr,vt){var xn,ar,Fo,xf,Ul;if(ES=!yr,ES&&(yr="<!-->"),typeof yr!="string"&&!c5(yr)){if(typeof yr.toString!="function")throw P7("toString is not a function");if(yr=yr.toString(),typeof yr!="string")throw P7("dirty is not a string, aborting")}if(!r.isSupported){if(SS(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof yr=="string")return t.toStaticHTML(yr);if(c5(yr))return t.toStaticHTML(yr.outerHTML)}return yr}if(Ku||G7(vt),r.removed=[],typeof yr=="string"&&(Y1=!1),Y1){if(yr.nodeName){var ml=J1(yr.nodeName);if(!oo[ml]||q1[ml])throw P7("root node is forbidden and cannot be sanitized in-place")}}else if(yr instanceof C)xn=fU("<!---->"),ar=xn.ownerDocument.importNode(yr,!0),ar.nodeType===1&&ar.nodeName==="BODY"||ar.nodeName==="HTML"?xn=ar:xn.appendChild(ar);else{if(!Yg&&!ys&&!xv&&yr.indexOf("<")===-1)return ct&&bi?ct.createHTML(yr):yr;if(xn=fU(yr),!xn)return Yg?null:bi?Le:""}xn&&AS&&Z1(xn.firstChild);for(var YM=vU(Y1?yr:xn);Fo=YM.nextNode();)Fo.nodeType===3&&Fo===xf||dU(Fo)||(Fo.content instanceof d&&JZ(Fo.content),gU(Fo),xf=Fo);if(xf=null,Y1)return yr;if(Yg){if(zy)for(Ul=Tt.call(xn.ownerDocument);xn.firstChild;)Ul.appendChild(xn.firstChild);else Ul=xn;return Tu.shadowroot&&(Ul=Bt.call(o,Ul,!0)),Ul}var Oc=xv?xn.outerHTML:xn.innerHTML;return xv&&oo["!doctype"]&&xn.ownerDocument&&xn.ownerDocument.doctype&&xn.ownerDocument.doctype.name&&Ec(pZ,xn.ownerDocument.doctype.name)&&(Oc="<!DOCTYPE "+xn.ownerDocument.doctype.name+`>
`+Oc),ys&&(Oc=Ly(Oc,Cn," "),Oc=Ly(Oc,Et," ")),ct&&bi?ct.createHTML(Oc):Oc},r.setConfig=function(yr){G7(yr),Ku=!0},r.clearConfig=function(){Uy=null,Ku=!1},r.isValidAttribute=function(yr,vt,xn){Uy||G7({});var ar=J1(yr),Fo=J1(vt);return mU(ar,Fo,xn)},r.addHook=function(yr,vt){typeof vt=="function"&&(Kt[yr]=Kt[yr]||[],l5(Kt[yr],vt))},r.removeHook=function(yr){if(Kt[yr])return PV(Kt[yr])},r.removeHooks=function(yr){Kt[yr]&&(Kt[yr]=[])},r.removeAllHooks=function(){Kt={}},r}var wZ=zV(),CZ=function(t){return wZ().sanitize(t)},SZ=Pk.deviceType.isTouch(),HV=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},VV=function(t,r){return Li.parts.close(ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:Jt([To.config({})])}))},UV=function(){return Li.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},WV=function(t,r){return Li.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Zt("<p>"+CZ(r.translate(t))+"</p>")}]}]})},jV=function(t){return Li.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},GV=function(t,r){return[ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},z7=function(t){var r,o="tox-dialog",s=o+"-wrap",d=s+"__backdrop",g=o+"__disable-scroll";return Li.sketch({lazySink:t.lazySink,onEscape:function(C){return t.onEscape(C),$.some(!0)},useTabstopAt:function(C){return!uS(C)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:ne({position:"relative"},t.extraStyles)},components:xe([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:Zt('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:SZ?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:s,modalBehaviours:Jt(xe([Xn.config({}),rr("dialog-events",t.dialogEvents.concat([Eo(tl(),function(C,E){Fn.focusIn(C)})])),rr("scroll-lock",[nr(function(){Wo(Hi(),g)}),Ms(function(){Po(Hi(),g)})])],t.extraBehaviours,!0)),eventOrder:ne((r={},r[Rs()]=["dialog-events"],r[ls()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[kh()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},qV=function(t){return ms.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[dv("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(r){Vr(r,A1)}})},KV=function(t,r,o){var s=function(d){return[Ri(o.translate(d.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:ne({},r.map(function(d){return{id:d}}).getOr({}))},components:s(t),behaviours:Jt([kc.config({channel:TV,renderComponents:s})])}},XV=function(){return{dom:Zt('<div class="tox-dialog__draghandle"></div>')}},xZ=function(t,r,o){return ku.sketch({dom:Zt('<div class="tox-dialog__header"></div>'),components:[KV(t,$.some(r),o),XV(),qV(o)],containerBehaviours:Jt([wS.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return al(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},_Z=function(t,r){var o=Li.parts.title(KV(t,$.none(),r)),s=Li.parts.draghandle(XV()),d=Li.parts.close(qV(r)),g=[o].concat(t.draggable?[s]:[]).concat([d]);return ku.sketch({dom:Zt('<div class="tox-dialog__header"></div>'),components:g})},YV=function(t,r){return _Z({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},JV=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:Zt('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},ZV=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(s){Li.setBusy(t(),function(d,g){return JV(s.message,g,r)})},onUnblock:function(){Li.setIdle(t())}}},QV=function(t,r,o,s){var d,g=function(C,E){return $.some(E)};return za(z7(ne(ne({},t),{lazySink:s.shared.getSink,extraBehaviours:xe([kc.config({channel:R7,updateState:g,initialData:r}),Bm.memory({})],t.extraBehaviours,!0),onEscape:function(C){Vr(C,A1)},dialogEvents:o,eventOrder:(d={},d[nl()]=[kc.name(),nu.name()],d[ls()]=["scroll-lock",kc.name(),"messages","dialog-events","alloy.base.behaviour"],d[kh()]=["alloy.base.behaviour","dialog-events","messages",kc.name(),"scroll-lock"],d)})))},eU=function(t){var r=function(o){var s=Ue(o.items,function(d){var g=Pn(!1);return ne(ne({},d),{storage:g})});return ne(ne({},o),{items:s})};return Ue(t,function(o){return o.type==="menu"?r(o):o})},tU=function(t){return Qe(t,function(r,o){if(o.type==="menu"){var s=o;return Qe(s.items,function(d,g){return d[g.name]=g.storage,d},r)}return r},{})},nU=function(t,r){return[Vv(tl(),LB),t(jC,function(o,s){r.onClose(),s.onClose()}),t(A1,function(o,s,d,g){s.onCancel(o),Vr(g,jC)}),Dt(OT,function(o,s){return r.onUnblock()}),Dt(Sd,function(o,s){return r.onBlock(s.event)})]},kZ=function(t,r){var o=function(d,g){return Dt(d,function(C,E){s(C,function(O,B){g(t(),O,E.event,C)})})},s=function(d,g){kc.getState(d).get().each(function(C){g(C,d)})};return xe(xe([],nU(o,r),!0),[o(mv,function(d,g,C){g.onAction(d,{name:C.name})})],!1)},AZ=function(t,r,o){var s=function(g,C){return Dt(g,function(E,O){d(E,function(B,H){C(t(),B,O.event,E)})})},d=function(g,C){kc.getState(g).get().each(function(E){C(E.internalDialog,g)})};return xe(xe([],nU(s,r),!0),[s(cl,function(g,C){return C.onSubmit(g)}),s(zl,function(g,C,E){C.onChange(g,{name:E.name})}),s(mv,function(g,C,E,O){var B=function(){return Fn.focusIn(O)},H=function(ae){return f0(ae,"disabled")||Ga(ae,"aria-disabled").exists(function(fe){return fe==="true"})},W=_s(O.element),ee=xu(W);C.onAction(g,{name:E.name,value:E.value}),xu(W).fold(B,function(ae){H(ae)||ee.exists(function(fe){return Sl(ae,fe)&&H(fe)})?B():o().toOptional().filter(function(fe){return!Sl(fe.element,ae)}).each(B)})}),s(DT,function(g,C,E){C.onTabChange(g,{newTabName:E.name,oldTabName:E.oldName})}),Ms(function(g){var C=t();rn.setValue(g,C.getData())})],!1)},H7={initUrlDialog:kZ,initDialog:AZ},EZ=function(t,r){return wA(t,t.type,r)},TZ=function(t,r,o){return pt(r,function(s){return s.name===o}).bind(function(s){return s.memento.getOpt(t)})},OZ=function(t,r){var o=r.map(function(E){return E.footerButtons}).getOr([]),s=Te(o,function(E){return E.align==="start"}),d=function(E,O){return ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+E]},components:Ue(O,function(B){return B.memento.asSpec()})})},g=d("start",s.pass),C=d("end",s.fail);return[g,C]},rU=function(t,r){var o=function(s,d){var g=Ue(d.buttons,function(E){var O=ra(EZ(E,r));return{name:E.name,align:E.align,memento:O}}),C=function(E,O){return TZ(E,g,O)};return $.some({lookupByName:C,footerButtons:g})};return{dom:Zt('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Jt([kc.config({channel:DV,initialData:t,updateState:o,renderComponents:OZ})])}},DZ=function(t,r){return rU(t,r)},aU=function(t,r){return Li.parts.footer(rU(t,r))},V7=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var s=Cr.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Oy.getField(s,r).fold(function(){var d=t.getFooter(),g=kc.getState(d);return g.get().bind(function(C){return C.lookupByName(s,r)})},function(d){return $.some(d)})}else return $.none()},RZ=function(t,r){var o=t.getRoot();return kc.getState(o).get().map(function(s){return Al(qa("data",s.dataValidator,r))}).getOr(r)},oU=function(t,r,o){var s=function(Se){var Fe=t.getRoot();Fe.getSystem().isConnected()&&Se(Fe)},d=function(){var Se=t.getRoot(),Fe=Se.getSystem().isConnected()?t.getFormWrapper():Se,we=rn.getValue(Fe),ze=ur(o,function(ft){return ft.get()});return ne(ne({},we),ze)},g=function(Se){s(function(Fe){var we=fe.getData(),ze=ne(ne({},we),Se),ft=RZ(t,ze),ct=t.getFormWrapper();rn.setValue(ct,ft),Hr(o,function(Le,tt){Dr(ze,tt)&&Le.set(ze[tt])})})},C=function(Se){V7(t,Se).each(Mn.disable)},E=function(Se){V7(t,Se).each(Mn.enable)},O=function(Se){V7(t,Se).each(Xn.focus)},B=function(Se){if(!S(Se))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(Fe){In(Fe,Sd,{message:Se})})},H=function(){s(function(Se){Vr(Se,OT)})},W=function(Se){s(function(Fe){var we=t.getBody(),ze=kc.getState(we);ze.get().exists(function(ft){return ft.isTabPanel()})&&Cr.getCurrent(we).each(function(ft){JA.showTab(ft,Se)})})},ee=function(Se){s(function(Fe){var we=r(Se);Fe.getSystem().broadcastOn([R7],we),Fe.getSystem().broadcastOn([TV],we.internalDialog),Fe.getSystem().broadcastOn([OV],we.internalDialog),Fe.getSystem().broadcastOn([DV],we.internalDialog),fe.setData(we.initialData)})},ae=function(){s(function(Se){Vr(Se,jC)})},fe={getData:d,setData:g,disable:C,enable:E,focus:O,block:B,unblock:H,showTab:W,redial:ee,close:ae};return fe},BZ=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},$Z=function(t,r,o){var s=YV(t.internalDialog.title,o),d=jJ({body:t.internalDialog.body},o),g=eU(t.internalDialog.buttons),C=tU(g),E=aU({buttons:g},o),O=H7.initDialog(function(){return ae},ZV(function(){return W},o.shared.providers,r),o.shared.getSink),B=BZ(t.internalDialog.size),H={header:s,body:d,footer:$.some(E),extraClasses:B,extraBehaviours:[],extraStyles:{}},W=QV(H,t,O,o),ee=function(){var fe=function(){var Se=Li.getBody(W);return Cr.getCurrent(Se).getOr(Se)};return{getRoot:ue(W),getBody:function(){return Li.getBody(W)},getFooter:function(){return Li.getFooter(W)},getFormWrapper:fe}}(),ae=oU(ee,r.redial,C);return{dialog:W,instanceApi:ae}},MZ=function(t,r,o,s){var d,g,C=wn("dialog-label"),E=wn("dialog-content"),O=function(we,ze){return $.some(ze)},B=ra(xZ({title:t.internalDialog.title,draggable:!0},C,o.shared.providers)),H=ra(WJ({body:t.internalDialog.body},E,o,s)),W=eU(t.internalDialog.buttons),ee=tU(W),ae=ra(DZ({buttons:W},o)),fe=H7.initDialog(function(){return Fe},{onBlock:function(we){Vt.block(Se,function(ze,ft){return JV(we.message,ft,o.shared.providers)})},onUnblock:function(){Vt.unblock(Se)},onClose:function(){return r.closeWindow()}},o.shared.getSink),Se=za({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(d={role:"dialog"},d["aria-labelledby"]=C,d["aria-describedby"]=E,d)},eventOrder:(g={},g[nl()]=[kc.name(),nu.name()],g[Rs()]=["execute-on-form"],g[ls()]=["reflecting","execute-on-form"],g),behaviours:Jt([Fn.config({mode:"cyclic",onEscape:function(we){return Vr(we,jC),$.some(!0)},useTabstopAt:function(we){return!uS(we)&&(Qu(we)!=="button"||Fa(we,"disabled")!=="disabled")}}),kc.config({channel:R7,updateState:O,initialData:t}),Xn.config({}),rr("execute-on-form",fe.concat([Eo(tl(),function(we,ze){Fn.focusIn(we)})])),Vt.config({getRoot:function(){return $.some(Se)}}),Zn.config({}),Bm.memory({})]),components:[B.asSpec(),H.asSpec(),ae.asSpec()]}),Fe=oU({getRoot:ue(Se),getFooter:function(){return ae.get(Se)},getBody:function(){return H.get(Se)},getFormWrapper:function(){var we=H.get(Se);return Cr.getCurrent(we).getOr(we)}},r.redial,ee);return{dialog:Se,instanceApi:Fe}},U7=tinymce.util.Tools.resolve("tinymce.util.URI"),PZ=function(t){var r=function(C){t.getSystem().isConnected()&&C(t)},o=function(C){if(!S(C))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(E){In(E,Sd,{message:C})})},s=function(){r(function(C){Vr(C,OT)})},d=function(){r(function(C){Vr(C,jC)})},g=function(C){r(function(E){E.getSystem().broadcastOn([RV],C)})};return{block:o,unblock:s,close:d,sendMessage:g}},IZ=["insertContent","setContent","execCommand","close","block","unblock"],iU=function(t){return _(t)&&IZ.indexOf(t.mceAction)!==-1},NZ=function(t){return!iU(t)&&_(t)&&Dr(t,"mceAction")},FZ=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var s=L(o.ui)?o.ui:!1;t.execCommand(o.cmd,s,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},LZ=function(t,r,o,s){var d,g=YV(t.title,s),C=GJ(t),E=t.buttons.bind(function(ze){return ze.length===0?$.none():$.some(aU({buttons:ze},s))}),O=H7.initUrlDialog(function(){return we},ZV(function(){return Fe},s.shared.providers,r)),B=ne(ne({},t.height.fold(function(){return{}},function(ze){return{height:ze+"px","max-height":ze+"px"}})),t.width.fold(function(){return{}},function(ze){return{width:ze+"px","max-width":ze+"px"}})),H=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],W=new U7(t.url,{base_uri:new U7(window.location.href)}),ee=W.protocol+"://"+W.host+(W.port?":"+W.port:""),ae=Hh(),fe=[rr("messages",[nr(function(){var ze=yo(un.fromDom(window),"message",function(ft){if(W.isSameOrigin(new U7(ft.raw.origin))){var ct=ft.raw.data;iU(ct)?FZ(o,we,ct):NZ(ct)&&t.onMessage(we,ct)}});ae.set(ze)}),Ms(ae.clear)]),nu.config({channels:(d={},d[RV]={onReceive:function(ze,ft){jo(ze.element,"iframe").each(function(ct){var Le=ct.dom.contentWindow;Le.postMessage(ft,ee)})}},d)})],Se={header:g,body:C,footer:E,extraClasses:H,extraBehaviours:fe,extraStyles:B},Fe=QV(Se,t,O,s),we=PZ(Fe);return{dialog:Fe,instanceApi:we}},zZ=function(t){var r=t.backstage.shared,o=function(s,d){var g=function(){Li.hide(B),d()},C=ra(wA({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:$.none()},"cancel",t.backstage)),E=UV(),O=VV(g,r.providers),B=za(z7({lazySink:function(){return r.getSink()},header:HV(E,O),body:WV(s,r.providers),footer:$.some(jV(GV([],[C.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Dt(A1,g)],eventOrder:{}}));Li.show(B);var H=C.get(B);Xn.focus(H)};return{open:o}},HZ=function(t){var r=t.backstage.shared,o=function(s,d){var g=function(ee){Li.hide(H),d(ee)},C=ra(wA({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:$.none()},"submit",t.backstage)),E=wA({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:$.none()},"cancel",t.backstage),O=UV(),B=VV(function(){return g(!1)},r.providers),H=za(z7({lazySink:function(){return r.getSink()},header:HV(O,B),body:WV(s,r.providers),footer:$.some(jV(GV([],[E,C.asSpec()]))),onEscape:function(){return g(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Dt(A1,function(){return g(!1)}),Dt(cl,function(){return g(!0)})],eventOrder:{}}));Li.show(H);var W=C.get(H);Xn.focus(W)};return{open:o}},VZ=function(t,r){return Al(qa("data",r,t))},UZ=function(t){return HC(t,".tox-alert-dialog")||HC(t,".tox-confirm-dialog")},WZ=function(t,r,o){return r&&o?[]:[Do.config({contextual:{lazyContext:function(){return $.some(Ao(un.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},jZ=function(t){var r=t.backstage,o=t.editor,s=Bk(o),d=zZ(t),g=HZ(t),C=function(fe,Se,Fe){return Se!==void 0&&Se.inline==="toolbar"?H(fe,r.shared.anchors.inlineDialog(),Fe,Se.ariaAttrs):Se!==void 0&&Se.inline==="cursor"?H(fe,r.shared.anchors.cursor(),Fe,Se.ariaAttrs):B(fe,Fe)},E=function(fe,Se){return O(fe,Se)},O=function(fe,Se){var Fe=function(we){var ze=LZ(we,{closeWindow:function(){Li.hide(ze.dialog),Se(ze.instanceApi)}},o,r);return Li.show(ze.dialog),ze.instanceApi};return s5.openUrl(Fe,fe)},B=function(fe,Se){var Fe=function(we,ze,ft){var ct=ze,Le={dataValidator:ft,initialData:ct,internalDialog:we},tt=$Z(Le,{redial:s5.redial,closeWindow:function(){Li.hide(tt.dialog),Se(tt.instanceApi)}},r);return Li.show(tt.dialog),tt.instanceApi.setData(ct),tt.instanceApi};return s5.open(Fe,fe)},H=function(fe,Se,Fe,we){var ze=function(ft,ct,Le){var tt=VZ(ct,Le),Ct=fo(),an=r.shared.header.isPositionedAtTop(),Tt={dataValidator:Le,initialData:tt,internalDialog:ft},sn=function(){return Ct.on(function(Kt){la.reposition(Kt),Do.refresh(Kt)})},Bt=MZ(Tt,{redial:s5.redial,closeWindow:function(){Ct.on(la.hide),o.off("ResizeEditor",sn),Ct.clear(),Fe(Bt.instanceApi)}},r,we),wt=za(la.sketch(ne(ne({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},an?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Jt(xe([rr("window-manager-inline-events",[Dt(Dl(),function(Kt,Cn){Vr(Bt.dialog,A1)})])],WZ(o,s,an),!0)),isExtraPart:function(Kt,Cn){return UZ(Cn)}})));return Ct.set(wt),la.showWithin(wt,Fs(Bt.dialog),{anchor:Se},$.some(Hi())),(!s||!an)&&(Do.refresh(wt),o.on("ResizeEditor",sn)),Bt.instanceApi.setData(tt),Fn.focusIn(Bt.dialog),Bt.instanceApi};return s5.open(ze,fe)},W=function(fe,Se){g.open(fe,function(Fe){Se(Fe)})},ee=function(fe,Se){d.open(fe,function(){Se()})},ae=function(fe){fe.close()};return{open:C,openUrl:E,alert:ee,close:ae,confirm:W}};function GZ(){Me.add("silver",function(t){var r=ZX(t),o=r.uiMothership,s=r.backstage,d=r.renderUI,g=r.getUi;vI.register(t,s.shared);var C=jZ({editor:t,backstage:s});return{renderUI:d,getWindowManagerImpl:ue(C),getNotificationManagerImpl:function(){return PE(t,{backstage:s},o)},ui:g()}})}GZ()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(U,xe,Ze){var se=xe==="UL"?"InsertUnorderedList":"InsertOrderedList";U.execCommand(se,!1,Ze===!1?null:{"list-style-type":Ze})},y=function(U){U.addCommand("ApplyUnorderedListStyle",function(xe,Ze){m(U,"UL",Ze["list-style-type"])}),U.addCommand("ApplyOrderedListStyle",function(xe,Ze){m(U,"OL",Ze["list-style-type"])})},b=tinymce.util.Tools.resolve("tinymce.util.Tools"),S=function(U){var xe=U.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return xe?xe.split(/[ ,]/):[]},_=function(U){var xe=U.getParam("advlist_bullet_styles","default,circle,square");return xe?xe.split(/[ ,]/):[]},T=function(){},D=function(U){return function(){return U}},L=function(U){return U},j=D(!1),N=D(!0),V=function(){return P},P=function(){var U=function(se){return se()},xe=L,Ze={fold:function(se,ge){return se()},isSome:j,isNone:N,getOr:xe,getOrThunk:U,getOrDie:function(se){throw new Error(se||"error: getOrDie called on none.")},getOrNull:D(null),getOrUndefined:D(void 0),or:xe,orThunk:U,map:V,each:T,bind:V,exists:j,forall:N,filter:function(){return V()},toArray:function(){return[]},toString:D("none()")};return Ze}(),z=function(U){var xe=D(U),Ze=function(){return ge},se=function(ut){return ut(U)},ge={fold:function(ut,$){return $(U)},isSome:N,isNone:j,getOr:xe,getOrThunk:xe,getOrDie:xe,getOrNull:xe,getOrUndefined:xe,or:Ze,orThunk:Ze,map:function(ut){return z(ut(U))},each:function(ut){ut(U)},bind:se,exists:se,forall:se,filter:function(ut){return ut(U)?ge:P},toArray:function(){return[U]},toString:function(){return"some("+U+")"}};return ge},X=function(U){return U==null?P:z(U)},G={some:z,none:V,from:X},Be=function(U,xe){return U.$.contains(U.getBody(),xe)},de=function(U){return U&&/^(TH|TD)$/.test(U.nodeName)},$e=function(U){return function(xe){return xe&&/^(OL|UL|DL)$/.test(xe.nodeName)&&Be(U,xe)}},ue=function(U){var xe=U.dom.getParent(U.selection.getNode(),"ol,ul"),Ze=U.dom.getStyle(xe,"listStyleType");return G.from(Ze)},Ee=function(U,xe){for(var Ze=0;Ze<U.length;Ze++){var se=U[Ze];if(xe(se))return Ze}return-1},De=function(U){return U.replace(/\-/g," ").replace(/\b\w/g,function(xe){return xe.toUpperCase()})},ke=function(U,xe,Ze){var se=Ee(xe.parents,de),ge=se!==-1?xe.parents.slice(0,se):xe.parents,ut=b.grep(ge,$e(U));return ut.length>0&&ut[0].nodeName===Ze},Xe=function(U,xe){return function(Ze){var se=function(ge){Ze.setActive(ke(U,ge,xe))};return U.on("NodeChange",se),function(){return U.off("NodeChange",se)}}},le=function(U,xe,Ze,se,ge,ut){U.ui.registry.addSplitButton(xe,{tooltip:Ze,icon:ge==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function($){var xt=b.map(ut,function(rt){var at=ge==="OL"?"num":"bull",kn=rt==="disc"||rt==="decimal"?"default":rt,ln=rt==="default"?"":rt,lt=De(rt);return{type:"choiceitem",value:ln,icon:"list-"+at+"-"+kn,text:lt}});$(xt)},onAction:function(){return U.execCommand(se)},onItemAction:function($,xt){m(U,ge,xt)},select:function($){var xt=ue(U);return xt.map(function(rt){return $===rt}).getOr(!1)},onSetup:Xe(U,ge)})},pe=function(U,xe,Ze,se,ge,ut){U.ui.registry.addToggleButton(xe,{active:!1,tooltip:Ze,icon:ge==="OL"?"ordered-list":"unordered-list",onSetup:Xe(U,ge),onAction:function(){return U.execCommand(se)}})},ye=function(U,xe,Ze,se,ge,ut){ut.length>1?le(U,xe,Ze,se,ge,ut):pe(U,xe,Ze,se,ge)},Me=function(U){ye(U,"numlist","Numbered list","InsertOrderedList","OL",S(U)),ye(U,"bullist","Bullet list","InsertUnorderedList","UL",_(U))};function ne(){f.add("advlist",function(U){U.hasPlugin("lists")?(Me(U),y(U)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}ne()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(D,L){D.focus(),D.undoManager.transact(function(){D.setContent(L)}),D.selection.setCursorLocation(),D.nodeChanged()},y=function(D){return D.getContent({source_view:!0})},b=function(D){var L=y(D);D.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:L},onSubmit:function(j){m(D,j.getData().code),j.close()}})},S=function(D){D.addCommand("mceCodeEditor",function(){b(D)})},_=function(D){var L=function(){return D.execCommand("mceCodeEditor")};D.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:L}),D.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:L})};function T(){f.add("code",function(D){return S(D),_(D),{}})}T()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=tinymce.util.Tools.resolve("tinymce.util.VK"),y=function(oe){var Ne=typeof oe;return oe===null?"null":Ne==="object"&&(Array.prototype.isPrototypeOf(oe)||oe.constructor&&oe.constructor.name==="Array")?"array":Ne==="object"&&(String.prototype.isPrototypeOf(oe)||oe.constructor&&oe.constructor.name==="String")?"string":Ne},b=function(oe){return function(Ne){return y(Ne)===oe}},S=function(oe){return function(Ne){return typeof Ne===oe}},_=function(oe){return function(Ne){return oe===Ne}},T=b("string"),D=b("array"),L=_(null),j=S("boolean"),N=S("function"),V=function(){},P=function(oe){return function(){return oe}},z=function(oe){return oe},X=function(oe,Ne){return oe===Ne},G=P(!1),Be=P(!0),de=function(){return $e},$e=function(){var oe=function(kt){return kt()},Ne=z,Ke={fold:function(kt,Gt){return kt()},isSome:G,isNone:Be,getOr:Ne,getOrThunk:oe,getOrDie:function(kt){throw new Error(kt||"error: getOrDie called on none.")},getOrNull:P(null),getOrUndefined:P(void 0),or:Ne,orThunk:oe,map:de,each:V,bind:de,exists:G,forall:Be,filter:function(){return de()},toArray:function(){return[]},toString:P("none()")};return Ke}(),ue=function(oe){var Ne=P(oe),Ke=function(){return Gt},kt=function(Rn){return Rn(oe)},Gt={fold:function(Rn,na){return na(oe)},isSome:Be,isNone:G,getOr:Ne,getOrThunk:Ne,getOrDie:Ne,getOrNull:Ne,getOrUndefined:Ne,or:Ke,orThunk:Ke,map:function(Rn){return ue(Rn(oe))},each:function(Rn){Rn(oe)},bind:kt,exists:kt,forall:kt,filter:function(Rn){return Rn(oe)?Gt:$e},toArray:function(){return[oe]},toString:function(){return"some("+oe+")"}};return Gt},Ee=function(oe){return oe==null?$e:ue(oe)},De={some:ue,none:de,from:Ee},ke=Array.prototype.indexOf,Xe=Array.prototype.push,le=function(oe,Ne){return ke.call(oe,Ne)},pe=function(oe,Ne){return le(oe,Ne)>-1},ye=function(oe,Ne){for(var Ke=oe.length,kt=new Array(Ke),Gt=0;Gt<Ke;Gt++){var Rn=oe[Gt];kt[Gt]=Ne(Rn,Gt)}return kt},Me=function(oe,Ne){for(var Ke=0,kt=oe.length;Ke<kt;Ke++){var Gt=oe[Ke];Ne(Gt,Ke)}},ne=function(oe,Ne,Ke){return Me(oe,function(kt,Gt){Ke=Ne(Ke,kt,Gt)}),Ke},U=function(oe){for(var Ne=[],Ke=0,kt=oe.length;Ke<kt;++Ke){if(!D(oe[Ke]))throw new Error("Arr.flatten item "+Ke+" was not an array, input: "+oe);Xe.apply(Ne,oe[Ke])}return Ne},xe=function(oe,Ne){return U(ye(oe,Ne))},Ze=function(oe,Ne){for(var Ke=0;Ke<oe.length;Ke++){var kt=Ne(oe[Ke],Ke);if(kt.isSome())return kt}return De.none()},se=function(oe,Ne,Ke){return Ke===void 0&&(Ke=X),oe.exists(function(kt){return Ke(kt,Ne)})},ge=function(oe){for(var Ne=[],Ke=function(Gt){Ne.push(Gt)},kt=0;kt<oe.length;kt++)oe[kt].each(Ke);return Ne},ut=function(oe,Ne){return oe?De.some(Ne):De.none()},$=function(oe){var Ne=oe.getParam("link_assume_external_targets",!1);return j(Ne)&&Ne?1:T(Ne)&&(Ne==="http"||Ne==="https")?Ne:0},xt=function(oe){return oe.getParam("link_context_toolbar",!1,"boolean")},rt=function(oe){return oe.getParam("link_list")},at=function(oe){return oe.getParam("default_link_target")},kn=function(oe){return oe.getParam("target_list",!0)},ln=function(oe){return oe.getParam("rel_list",[],"array")},lt=function(oe){return oe.getParam("link_class_list",[],"array")},Sn=function(oe){return oe.getParam("link_title",!0,"boolean")},te=function(oe){return oe.getParam("allow_unsafe_link_target",!1,"boolean")},cn=function(oe){return oe.getParam("link_quicklink",!1,"boolean")},Ue=function(oe){return oe.getParam("link_default_protocol","http","string")},gt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Gn=function(oe){return T(oe.value)?oe.value:""},Te=function(oe){return T(oe.text)?oe.text:T(oe.title)?oe.title:""},Ae=function(oe,Ne){var Ke=[];return gt.each(oe,function(kt){var Gt=Te(kt);if(kt.menu!==void 0){var Rn=Ae(kt.menu,Ne);Ke.push({text:Gt,items:Rn})}else{var na=Ne(kt);Ke.push({text:Gt,value:na})}}),Ke},Ye=function(oe){return oe===void 0&&(oe=Gn),function(Ne){return De.from(Ne).map(function(Ke){return Ae(Ke,oe)})}},Qe=function(oe){return Ye(Gn)(oe)},He=function(oe,Ne){return function(Ke){return{name:oe,type:"listbox",label:Ne,items:Ke}}},pt={sanitize:Qe,sanitizeWith:Ye,createUi:He,getValue:Gn},Yt=function(){return Yt=Object.assign||function(Ne){for(var Ke,kt=1,Gt=arguments.length;kt<Gt;kt++){Ke=arguments[kt];for(var Rn in Ke)Object.prototype.hasOwnProperty.call(Ke,Rn)&&(Ne[Rn]=Ke[Rn])}return Ne},Yt.apply(this,arguments)},ot=Object.keys,Wt=Object.hasOwnProperty,Ot=function(oe,Ne){for(var Ke=ot(oe),kt=0,Gt=Ke.length;kt<Gt;kt++){var Rn=Ke[kt],na=oe[Rn];Ne(na,Rn)}},It=function(oe){return function(Ne,Ke){oe[Ke]=Ne}},nn=function(oe,Ne,Ke,kt){var Gt={};return Ot(oe,function(Rn,na){(Ne(Rn,na)?Ke:kt)(Rn,na)}),Gt},pn=function(oe,Ne){var Ke={};return nn(oe,Ne,It(Ke),V),Ke},jn=function(oe,Ne){return Wt.call(oe,Ne)},ir=function(oe,Ne){return jn(oe,Ne)&&oe[Ne]!==void 0&&oe[Ne]!==null},jr=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),tr=tinymce.util.Tools.resolve("tinymce.util.URI"),oa=function(oe){return oe&&oe.nodeName.toLowerCase()==="a"},fa=function(oe){return oa(oe)&&!!va(oe)},Jr=function(oe,Ne){if(oe.collapsed)return[];var Ke=oe.cloneContents(),kt=new jr(Ke.firstChild,Ke),Gt=[],Rn=Ke.firstChild;do Ne(Rn)&&Gt.push(Rn);while(Rn=kt.next());return Gt},Ir=function(oe){return/^\w+:/i.test(oe)},va=function(oe){var Ne=oe.getAttribute("data-mce-href");return Ne||oe.getAttribute("href")},Hr=function(oe,Ne){var Ke=["noopener"],kt=oe?oe.split(/\s+/):[],Gt=function(hr){return gt.trim(hr.sort().join(" "))},Rn=function(hr){return hr=na(hr),hr.length>0?hr.concat(Ke):Ke},na=function(hr){return hr.filter(function(Na){return gt.inArray(Ke,Na)===-1})},ma=Ne?Rn(kt):na(kt);return ma.length>0?Gt(ma):""},ur=function(oe){return oe.replace(/\uFEFF/g,"")},Ia=function(oe,Ne){return Ne=Ne||oe.selection.getNode(),Ju(Ne)?oe.dom.select("a[href]",Ne)[0]:oe.dom.getParent(Ne,"a[href]")},Zi=function(oe,Ne){var Ke=Ne?Ne.innerText||Ne.textContent:oe.getContent({format:"text"});return ur(Ke)},Kl=function(oe){return gt.grep(oe,fa).length>0},Nr=function(oe){return Jr(oe,fa).length>0},Si=function(oe){var Ne=oe.schema.getTextInlineElements(),Ke=function(Gt){return Gt.nodeType===1&&!oa(Gt)&&!jn(Ne,Gt.nodeName.toLowerCase())},kt=Jr(oe.selection.getRng(),Ke);return kt.length===0},Ju=function(oe){return oe&&oe.nodeName==="FIGURE"&&/\bimage\b/i.test(oe.className)},xi=function(oe){var Ne=["title","rel","class","target"];return ne(Ne,function(Ke,kt){return oe[kt].each(function(Gt){Ke[kt]=Gt.length>0?Gt:null}),Ke},{href:oe.href})},En=function(oe,Ne){return(Ne==="http"||Ne==="https")&&!Ir(oe)?Ne+"://"+oe:oe},Dr=function(oe,Ne){var Ke=Yt({},Ne);if(!(ln(oe).length>0)&&te(oe)===!1){var kt=Hr(Ke.rel,Ke.target==="_blank");Ke.rel=kt||null}return De.from(Ke.target).isNone()&&kn(oe)===!1&&(Ke.target=at(oe)),Ke.href=En(Ke.href,$(oe)),Ke},uo=function(oe,Ne,Ke,kt){Ke.each(function(Gt){jn(Ne,"innerText")?Ne.innerText=Gt:Ne.textContent=Gt}),oe.dom.setAttribs(Ne,kt),oe.selection.select(Ne)},lu=function(oe,Ne,Ke,kt){Ju(Ne)?Av(oe,Ne,kt):Ke.fold(function(){oe.execCommand("mceInsertLink",!1,kt)},function(Gt){oe.insertContent(oe.dom.createHTML("a",kt,oe.dom.encode(Gt)))})},Zu=function(oe,Ne,Ke){var kt=oe.selection.getNode(),Gt=Ia(oe,kt),Rn=Dr(oe,xi(Ke));oe.undoManager.transact(function(){Ke.href===Ne.href&&Ne.attach(),Gt?(oe.focus(),uo(oe,Gt,Ke.text,Rn)):lu(oe,kt,Ke.text,Rn)})},Rr=function(oe){var Ne=oe.dom,Ke=oe.selection,kt=Ke.getBookmark(),Gt=Ke.getRng().cloneRange(),Rn=Ne.getParent(Gt.startContainer,"a[href]",oe.getBody()),na=Ne.getParent(Gt.endContainer,"a[href]",oe.getBody());Rn&&Gt.setStartBefore(Rn),na&&Gt.setEndAfter(na),Ke.setRng(Gt),oe.execCommand("unlink"),Ke.moveToBookmark(kt)},kr=function(oe){oe.undoManager.transact(function(){var Ne=oe.selection.getNode();Ju(Ne)?Rc(oe,Ne):Rr(oe),oe.focus()})},Gs=function(oe){var Ne=oe.class,Ke=oe.href,kt=oe.rel,Gt=oe.target,Rn=oe.text,na=oe.title;return pn({class:Ne.getOrNull(),href:Ke,rel:kt.getOrNull(),target:Gt.getOrNull(),text:Rn.getOrNull(),title:na.getOrNull()},function(ma,hr){return L(ma)===!1})},Jm=function(oe,Ne){var Ke=Ne.href;return Yt(Yt({},Ne),{href:tr.isDomSafe(Ke,"a",oe.settings)?Ke:""})},Ef=function(oe,Ne,Ke){var kt=Jm(oe,Ke);oe.hasPlugin("rtc",!0)?oe.execCommand("createlink",!1,Gs(kt)):Zu(oe,Ne,kt)},qs=function(oe){oe.hasPlugin("rtc",!0)?oe.execCommand("unlink"):kr(oe)},Rc=function(oe,Ne){var Ke=oe.dom.select("img",Ne)[0];if(Ke){var kt=oe.dom.getParents(Ke,"a[href]",Ne)[0];kt&&(kt.parentNode.insertBefore(Ke,kt),oe.dom.remove(kt))}},Av=function(oe,Ne,Ke){var kt=oe.dom.select("img",Ne)[0];if(kt){var Gt=oe.dom.create("a",Ke);kt.parentNode.insertBefore(Gt,kt),Gt.appendChild(kt)}},gl=function(oe){return ir(oe,"items")},pl=function(oe,Ne){return Ze(Ne,function(Ke){return gl(Ke)?pl(oe,Ke.items):ut(Ke.value===oe,Ke)})},Tf=function(oe,Ne,Ke,kt){var Gt=kt[Ne],Rn=oe.length>0;return Gt!==void 0?pl(Gt,Ke).map(function(na){return{url:{value:na.value,meta:{text:Rn?oe:na.text,attach:V}},text:Rn?oe:na.text}}):De.none()},da=function(oe,Ne){return Ne==="link"?oe.link:Ne==="anchor"?oe.anchor:De.none()},Ks=function(oe,Ne){var Ke={text:oe.text,title:oe.title},kt=function(hr){return ut(Ke.title.length<=0,De.from(hr.meta.title).getOr(""))},Gt=function(hr){return ut(Ke.text.length<=0,De.from(hr.meta.text).getOr(hr.value))},Rn=function(hr){var Na=Gt(hr.url),ja=kt(hr.url);return Na.isSome()||ja.isSome()?De.some(Yt(Yt({},Na.map(function(Mc){return{text:Mc}}).getOr({})),ja.map(function(Mc){return{title:Mc}}).getOr({}))):De.none()},na=function(hr,Na){var ja=da(Ne,Na.name).getOr([]);return Tf(Ke.text,Na.name,ja,hr)},ma=function(hr,Na){var ja=Na.name;return ja==="url"?Rn(hr()):pe(["anchor","link"],ja)?na(hr(),Na):((ja==="text"||ja==="title")&&(Ke[ja]=hr()[ja]),De.none())};return{onChange:ma}},Un={init:Ks,getDelta:Tf},Zm=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ou=tinymce.util.Tools.resolve("tinymce.util.Promise"),Bc=function(oe,Ne,Ke){var kt=oe.selection.getRng();Zm.setEditorTimeout(oe,function(){oe.windowManager.confirm(Ne,function(Gt){oe.selection.setRng(kt),Ke(Gt)})})},Qm=function(oe){var Ne=oe.href,Ke=Ne.indexOf("@")>0&&Ne.indexOf("/")===-1&&Ne.indexOf("mailto:")===-1;return Ke?De.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(kt){return Yt(Yt({},kt),{href:"mailto:"+Ne})}}):De.none()},Xl=function(oe,Ne){return function(Ke){var kt=Ke.href,Gt=oe===1&&!Ir(kt)||oe===0&&/^\s*www(\.|\d\.)/i.test(kt);return Gt?De.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+Ne+":// prefix?",preprocess:function(Rn){return Yt(Yt({},Rn),{href:Ne+"://"+kt})}}):De.none()}},eh=function(oe,Ne){return Ze([Qm,Xl($(oe),Ue(oe))],function(Ke){return Ke(Ne)}).fold(function(){return Ou.resolve(Ne)},function(Ke){return new Ou(function(kt){Bc(oe,Ke.message,function(Gt){kt(Gt?Ke.preprocess(Ne):Ne)})})})},Of={preprocess:eh},th=function(oe){var Ne=oe.dom.select("a:not([href])"),Ke=xe(Ne,function(kt){var Gt=kt.name||kt.id;return Gt?[{text:Gt,value:"#"+Gt}]:[]});return Ke.length>0?De.some([{text:"None",value:""}].concat(Ke)):De.none()},Ss={getAnchors:th},$c=function(oe){var Ne=lt(oe);return Ne.length>0?pt.sanitize(Ne):De.none()},un={getClasses:$c},Dd=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ev=function(oe){try{return De.some(JSON.parse(oe))}catch{return De.none()}},Tv=function(oe){var Ne=function(kt){return oe.convertURL(kt.value||kt.url,"href")},Ke=rt(oe);return new Ou(function(kt){T(Ke)?Dd.send({url:Ke,success:function(Gt){return kt(Ev(Gt))},error:function(Gt){return kt(De.none())}}):N(Ke)?Ke(function(Gt){return kt(De.some(Gt))}):kt(De.from(Ke))}).then(function(kt){return kt.bind(pt.sanitizeWith(Ne)).map(function(Gt){if(Gt.length>0){var Rn=[{text:"None",value:""}];return Rn.concat(Gt)}else return Gt})})},Yl={getLinks:Tv},Qu=function(oe,Ne){var Ke=ln(oe);if(Ke.length>0){var kt=se(Ne,"_blank"),Gt=te(oe)===!1,Rn=function(ma){return Hr(pt.getValue(ma),kt)},na=Gt?pt.sanitizeWith(Rn):pt.sanitize;return na(Ke)}return De.none()},nh={getRels:Qu},Bo=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],go=function(oe){var Ne=kn(oe);return D(Ne)?pt.sanitize(Ne).orThunk(function(){return De.some(Bo)}):Ne===!1?De.none():De.some(Bo)},Du={getTargets:go},Xs=function(oe,Ne,Ke){var kt=oe.getAttrib(Ne,Ke);return kt!==null&&kt.length>0?De.some(kt):De.none()},Rd=function(oe,Ne){var Ke=oe.dom,kt=Si(oe),Gt=kt?De.some(Zi(oe.selection,Ne)):De.none(),Rn=Ne?De.some(Ke.getAttrib(Ne,"href")):De.none(),na=Ne?De.from(Ke.getAttrib(Ne,"target")):De.none(),ma=Xs(Ke,Ne,"rel"),hr=Xs(Ke,Ne,"class"),Na=Xs(Ke,Ne,"title");return{url:Rn,text:Gt,title:Na,target:na,rel:ma,linkClass:hr}},es=function(oe,Ne){return Yl.getLinks(oe).then(function(Ke){var kt=Rd(oe,Ne);return{anchor:kt,catalogs:{targets:Du.getTargets(oe),rels:nh.getRels(oe,kt.target),classes:un.getClasses(oe),anchor:Ss.getAnchors(oe),link:Ke},optNode:De.from(Ne),flags:{titleEnabled:Sn(oe)}}})},Df={collect:es},Bd=function(oe,Ne){return function(Ke){var kt=Ke.getData();if(!kt.url.value){qs(oe),Ke.close();return}var Gt=function(ma){return De.from(kt[ma]).filter(function(hr){return!se(Ne.anchor[ma],hr)})},Rn={href:kt.url.value,text:Gt("text"),target:Gt("target"),rel:Gt("rel"),class:Gt("linkClass"),title:Gt("title")},na={href:kt.url.value,attach:kt.url.meta!==void 0&&kt.url.meta.attach?kt.url.meta.attach:V};Of.preprocess(oe,Rn).then(function(ma){Ef(oe,na,ma)}),Ke.close()}},bl=function(oe){var Ne=Ia(oe);return Df.collect(oe,Ne)},Ru=function(oe,Ne){var Ke=oe.anchor,kt=Ke.url.getOr("");return{url:{value:kt,meta:{original:{value:kt}}},text:Ke.text.getOr(""),title:Ke.title.getOr(""),anchor:kt,link:kt,rel:Ke.rel.getOr(""),target:Ke.target.or(Ne).getOr(""),linkClass:Ke.linkClass.getOr("")}},Qt=function(oe,Ne,Ke){var kt=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],Gt=oe.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),Rn=oe.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],na=De.from(at(Ke)),ma=Ru(oe,na),hr=oe.catalogs,Na=Un.init(ma,hr),ja={type:"panel",items:U([kt,Gt,Rn,ge([hr.anchor.map(pt.createUi("anchor","Anchors")),hr.rels.map(pt.createUi("rel","Rel")),hr.targets.map(pt.createUi("target","Open link in...")),hr.link.map(pt.createUi("link","Link list")),hr.classes.map(pt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:ja,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ma,onChange:function(Mc,zi){var Jl=zi.name;Na.onChange(Mc.getData,{name:Jl}).each(function(zn){Mc.setData(zn)})},onSubmit:Ne}},_i=function(oe){var Ne=bl(oe);Ne.then(function(Ke){var kt=Bd(oe,Ke);return Qt(Ke,kt,oe)}).then(function(Ke){oe.windowManager.open(Ke)})},yl=function(oe,Ne){document.body.appendChild(oe),oe.dispatchEvent(Ne),document.body.removeChild(oe)},rh=function(oe){var Ne=document.createElement("a");Ne.target="_blank",Ne.href=oe,Ne.rel="noreferrer noopener";var Ke=document.createEvent("MouseEvents");Ke.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),yl(Ne,Ke)},Rf=function(oe,Ne){return oe.dom.getParent(Ne,"a[href]")},Zr=function(oe){return Rf(oe,oe.selection.getStart())},Ov=function(oe){return oe.altKey===!0&&oe.shiftKey===!1&&oe.ctrlKey===!1&&oe.metaKey===!1},wl=function(oe,Ne){if(Ne){var Ke=va(Ne);if(/^#/.test(Ke)){var kt=oe.$(Ke);kt.length&&oe.selection.scrollIntoView(kt[0],!0)}else rh(Ne.href)}},so=function(oe){return function(){_i(oe)}},Dv=function(oe){return function(){wl(oe,Zr(oe))}},cu=function(oe){oe.on("click",function(Ne){var Ke=Rf(oe,Ne.target);Ke&&m.metaKeyPressed(Ne)&&(Ne.preventDefault(),wl(oe,Ke))}),oe.on("keydown",function(Ne){var Ke=Zr(oe);Ke&&Ne.keyCode===13&&Ov(Ne)&&(Ne.preventDefault(),wl(oe,Ke))})},ts=function(oe,Ne){return oe.on("NodeChange",Ne),function(){return oe.off("NodeChange",Ne)}},Ra=function(oe){return function(Ne){var Ke=function(){return Ne.setActive(!oe.mode.isReadOnly()&&Ia(oe,oe.selection.getNode())!==null)};return Ke(),ts(oe,Ke)}},Bf=function(oe){return function(Ne){var Ke=function(){return Ne.setDisabled(Ia(oe,oe.selection.getNode())===null)};return Ke(),ts(oe,Ke)}},$f=function(oe){return function(Ne){var Ke=function(Gt){return Kl(Gt)||Nr(oe.selection.getRng())},kt=oe.dom.getParents(oe.selection.getStart());return Ne.setDisabled(!Ke(kt)),ts(oe,function(Gt){return Ne.setDisabled(!Ke(Gt.parents))})}},Rv=function(oe){oe.addCommand("mceLink",function(){cn(oe)?oe.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):so(oe)()})},$d=function(oe){oe.addShortcut("Meta+K","",function(){oe.execCommand("mceLink")})},Cl=function(oe){oe.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:so(oe),onSetup:Ra(oe)}),oe.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Dv(oe),onSetup:Bf(oe)}),oe.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return qs(oe)},onSetup:$f(oe)})},Ys=function(oe){oe.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Dv(oe),onSetup:Bf(oe)}),oe.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:so(oe)}),oe.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return qs(oe)},onSetup:$f(oe)})},Bv=function(oe){var Ne="link unlink openlink",Ke="link";oe.ui.registry.addContextMenu("link",{update:function(kt){return Kl(oe.dom.getParents(kt,"a"))?Ne:Ke}})},xs=function(oe){var Ne=function(Gt){Gt.selection.collapse(!1)},Ke=function(Gt){var Rn=oe.selection.getNode();return Gt.setDisabled(!Ia(oe,Rn)),V},kt=function(Gt){var Rn=Ia(oe),na=Si(oe);if(!Rn&&na){var ma=Zi(oe.selection,Rn);return De.some(ma.length>0?ma:Gt)}else return De.none()};oe.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ra(oe)},label:"Link",predicate:function(Gt){return!!Ia(oe,Gt)&&xt(oe)},initValue:function(){var Gt=Ia(oe);return Gt?va(Gt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Gt){var Rn=oe.selection.getNode();return Gt.setActive(!!Ia(oe,Rn)),Ra(oe)(Gt)},onAction:function(Gt){var Rn=Gt.getValue(),na=kt(Rn),ma={href:Rn,attach:V};Ef(oe,ma,{href:Rn,text:na,title:De.none(),rel:De.none(),target:De.none(),class:De.none()}),Ne(oe),Gt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ke,onAction:function(Gt){qs(oe),Gt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ke,onAction:function(Gt){Dv(oe)(),Gt.hide()}}]})};function Bu(){f.add("link",function(oe){Cl(oe),Ys(oe),Bv(oe),xs(oe),cu(oe),Rv(oe),$d(oe)})}Bu()})();(function(){var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(M){var Y=typeof M;return M===null?"null":Y==="object"&&(Array.prototype.isPrototypeOf(M)||M.constructor&&M.constructor.name==="Array")?"array":Y==="object"&&(String.prototype.isPrototypeOf(M)||M.constructor&&M.constructor.name==="String")?"string":Y},y=function(M){return function(Y){return m(Y)===M}},b=function(M){return function(Y){return typeof Y===M}},S=y("string"),_=y("object"),T=y("array"),D=b("boolean"),L=b("function"),j=b("number"),N=function(){},V=function(M){return function(){return M}},P=function(M){return M},z=function(M,Y){return M===Y},X=function(M){return function(Y){return!M(Y)}},G=V(!1),Be=V(!0),de=function(){return $e},$e=function(){var M=function(Ce){return Ce()},Y=P,re={fold:function(Ce,Ge){return Ce()},isSome:G,isNone:Be,getOr:Y,getOrThunk:M,getOrDie:function(Ce){throw new Error(Ce||"error: getOrDie called on none.")},getOrNull:V(null),getOrUndefined:V(void 0),or:Y,orThunk:M,map:de,each:N,bind:de,exists:G,forall:Be,filter:function(){return de()},toArray:function(){return[]},toString:V("none()")};return re}(),ue=function(M){var Y=V(M),re=function(){return Ge},Ce=function(bt){return bt(M)},Ge={fold:function(bt,_n){return _n(M)},isSome:Be,isNone:G,getOr:Y,getOrThunk:Y,getOrDie:Y,getOrNull:Y,getOrUndefined:Y,or:re,orThunk:re,map:function(bt){return ue(bt(M))},each:function(bt){bt(M)},bind:Ce,exists:Ce,forall:Ce,filter:function(bt){return bt(M)?Ge:$e},toArray:function(){return[M]},toString:function(){return"some("+M+")"}};return Ge},Ee=function(M){return M==null?$e:ue(M)},De={some:ue,none:de,from:Ee},ke=Array.prototype.slice,Xe=Array.prototype.push,le=function(M,Y){for(var re=M.length,Ce=new Array(re),Ge=0;Ge<re;Ge++){var bt=M[Ge];Ce[Ge]=Y(bt,Ge)}return Ce},pe=function(M,Y){for(var re=0,Ce=M.length;re<Ce;re++){var Ge=M[re];Y(Ge,re)}},ye=function(M,Y){for(var re=[],Ce=0,Ge=M.length;Ce<Ge;Ce++){var bt=M[Ce];Y(bt,Ce)&&re.push(bt)}return re},Me=function(M,Y){if(M.length===0)return[];for(var re=Y(M[0]),Ce=[],Ge=[],bt=0,_n=M.length;bt<_n;bt++){var Jn=M[bt],Ar=Y(Jn);Ar!==re&&(Ce.push(Ge),Ge=[]),re=Ar,Ge.push(Jn)}return Ge.length!==0&&Ce.push(Ge),Ce},ne=function(M,Y,re){return pe(M,function(Ce,Ge){re=Y(re,Ce,Ge)}),re},U=function(M,Y,re){for(var Ce=0,Ge=M.length;Ce<Ge;Ce++){var bt=M[Ce];if(Y(bt,Ce))return De.some(bt);if(re(bt,Ce))break}return De.none()},xe=function(M,Y){return U(M,Y,G)},Ze=function(M){for(var Y=[],re=0,Ce=M.length;re<Ce;++re){if(!T(M[re]))throw new Error("Arr.flatten item "+re+" was not an array, input: "+M);Xe.apply(Y,M[re])}return Y},se=function(M,Y){return Ze(le(M,Y))},ge=function(M){var Y=ke.call(M,0);return Y.reverse(),Y},ut=function(M,Y){return Y>=0&&Y<M.length?De.some(M[Y]):De.none()},$=function(M){return ut(M,0)},xt=function(M){return ut(M,M.length-1)},rt=function(M,Y){for(var re=0;re<M.length;re++){var Ce=Y(M[re],re);if(Ce.isSome())return Ce}return De.none()},at=function(){return at=Object.assign||function(Y){for(var re,Ce=1,Ge=arguments.length;Ce<Ge;Ce++){re=arguments[Ce];for(var bt in re)Object.prototype.hasOwnProperty.call(re,bt)&&(Y[bt]=re[bt])}return Y},at.apply(this,arguments)};function kn(M,Y,re){if(re||arguments.length===2)for(var Ce=0,Ge=Y.length,bt;Ce<Ge;Ce++)(bt||!(Ce in Y))&&(bt||(bt=Array.prototype.slice.call(Y,0,Ce)),bt[Ce]=Y[Ce]);return M.concat(bt||Array.prototype.slice.call(Y))}var ln=function(M){var Y=!1,re;return function(){for(var Ce=[],Ge=0;Ge<arguments.length;Ge++)Ce[Ge]=arguments[Ge];return Y||(Y=!0,re=M.apply(null,Ce)),re}},lt=function(M,Y,re,Ce){var Ge=M.isiOS()&&/ipad/i.test(re)===!0,bt=M.isiOS()&&!Ge,_n=M.isiOS()||M.isAndroid(),Jn=_n||Ce("(pointer:coarse)"),Ar=Ge||!bt&&_n&&Ce("(min-device-width:768px)"),dr=bt||_n&&!Ar,xa=Y.isSafari()&&M.isiOS()&&/safari/i.test(re)===!1,Ei=!dr&&!Ar&&!xa;return{isiPad:V(Ge),isiPhone:V(bt),isTablet:V(Ar),isPhone:V(dr),isTouch:V(Jn),isAndroid:M.isAndroid,isiOS:M.isiOS,isWebView:V(xa),isDesktop:V(Ei)}},Sn=function(M,Y){for(var re=0;re<M.length;re++){var Ce=M[re];if(Ce.test(Y))return Ce}},te=function(M,Y){var re=Sn(M,Y);if(!re)return{major:0,minor:0};var Ce=function(Ge){return Number(Y.replace(re,"$"+Ge))};return gt(Ce(1),Ce(2))},cn=function(M,Y){var re=String(Y).toLowerCase();return M.length===0?Ue():te(M,re)},Ue=function(){return gt(0,0)},gt=function(M,Y){return{major:M,minor:Y}},Gn={nu:gt,detect:cn,unknown:Ue},Te=function(M,Y){return rt(Y.brands,function(re){var Ce=re.brand.toLowerCase();return xe(M,function(Ge){var bt;return Ce===((bt=Ge.brand)===null||bt===void 0?void 0:bt.toLowerCase())}).map(function(Ge){return{current:Ge.name,version:Gn.nu(parseInt(re.version,10),0)}})})},Ae=function(M,Y){var re=String(Y).toLowerCase();return xe(M,function(Ce){return Ce.search(re)})},Ye=function(M,Y){return Ae(M,Y).map(function(re){var Ce=Gn.detect(re.versionRegexes,Y);return{current:re.name,version:Ce}})},Qe=function(M,Y){return Ae(M,Y).map(function(re){var Ce=Gn.detect(re.versionRegexes,Y);return{current:re.name,version:Ce}})},He=function(M,Y){return M.indexOf(Y)!==-1},pt=function(M){return function(Y){return Y.replace(M,"")}},Yt=pt(/^\s+|\s+$/g),ot=function(M){return M.length>0},Wt=function(M){return!ot(M)},Ot=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,It=function(M){return function(Y){return He(Y,M)}},nn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(M){return He(M,"edge/")&&He(M,"chrome")&&He(M,"safari")&&He(M,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ot],search:function(M){return He(M,"chrome")&&!He(M,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(M){return He(M,"msie")||He(M,"trident")}},{name:"Opera",versionRegexes:[Ot,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:It("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:It("firefox")},{name:"Safari",versionRegexes:[Ot,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(M){return(He(M,"safari")||He(M,"mobile/"))&&He(M,"applewebkit")}}],pn=[{name:"Windows",search:It("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(M){return He(M,"iphone")||He(M,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:It("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:It("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:It("linux"),versionRegexes:[]},{name:"Solaris",search:It("sunos"),versionRegexes:[]},{name:"FreeBSD",search:It("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:It("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],jn={browsers:V(nn),oses:V(pn)},ir="Edge",jr="Chrome",tr="IE",oa="Opera",fa="Firefox",Jr="Safari",Ir=function(){return va({current:void 0,version:Gn.unknown()})},va=function(M){var Y=M.current,re=M.version,Ce=function(Ge){return function(){return Y===Ge}};return{current:Y,version:re,isEdge:Ce(ir),isChrome:Ce(jr),isIE:Ce(tr),isOpera:Ce(oa),isFirefox:Ce(fa),isSafari:Ce(Jr)}},Hr={unknown:Ir,nu:va,edge:V(ir),chrome:V(jr),ie:V(tr),opera:V(oa),firefox:V(fa),safari:V(Jr)},ur="Windows",Ia="iOS",Zi="Android",Kl="Linux",Nr="OSX",Si="Solaris",Ju="FreeBSD",xi="ChromeOS",En=function(){return Dr({current:void 0,version:Gn.unknown()})},Dr=function(M){var Y=M.current,re=M.version,Ce=function(Ge){return function(){return Y===Ge}};return{current:Y,version:re,isWindows:Ce(ur),isiOS:Ce(Ia),isAndroid:Ce(Zi),isOSX:Ce(Nr),isLinux:Ce(Kl),isSolaris:Ce(Si),isFreeBSD:Ce(Ju),isChromeOS:Ce(xi)}},uo={unknown:En,nu:Dr,windows:V(ur),ios:V(Ia),android:V(Zi),linux:V(Kl),osx:V(Nr),solaris:V(Si),freebsd:V(Ju),chromeos:V(xi)},lu=function(M,Y,re){var Ce=jn.browsers(),Ge=jn.oses(),bt=Y.bind(function(Ar){return Te(Ce,Ar)}).orThunk(function(){return Ye(Ce,M)}).fold(Hr.unknown,Hr.nu),_n=Qe(Ge,M).fold(uo.unknown,uo.nu),Jn=lt(_n,bt,M,re);return{browser:bt,os:_n,deviceType:Jn}},Zu={detect:lu},Rr=function(M){return window.matchMedia(M).matches},kr=ln(function(){return Zu.detect(navigator.userAgent,De.from(navigator.userAgentData),Rr)}),Gs=function(){return kr()},Jm=function(M,Y,re){return(M.compareDocumentPosition(Y)&re)!==0},Ef=function(M,Y){return Jm(M,Y,Node.DOCUMENT_POSITION_CONTAINED_BY)},qs=1,Rc=function(M,Y){var re=Y||document,Ce=re.createElement("div");if(Ce.innerHTML=M,!Ce.hasChildNodes()||Ce.childNodes.length>1)throw console.error("HTML does not have a single root node",M),new Error("HTML must have a single root node");return pl(Ce.childNodes[0])},Av=function(M,Y){var re=Y||document,Ce=re.createElement(M);return pl(Ce)},gl=function(M,Y){var re=Y||document,Ce=re.createTextNode(M);return pl(Ce)},pl=function(M){if(M==null)throw new Error("Node cannot be null or undefined");return{dom:M}},Tf=function(M,Y,re){return De.from(M.dom.elementFromPoint(Y,re)).map(pl)},da={fromHtml:Rc,fromTag:Av,fromText:gl,fromDom:pl,fromPoint:Tf},Ks=function(M,Y){var re=M.dom;if(re.nodeType!==qs)return!1;var Ce=re;if(Ce.matches!==void 0)return Ce.matches(Y);if(Ce.msMatchesSelector!==void 0)return Ce.msMatchesSelector(Y);if(Ce.webkitMatchesSelector!==void 0)return Ce.webkitMatchesSelector(Y);if(Ce.mozMatchesSelector!==void 0)return Ce.mozMatchesSelector(Y);throw new Error("Browser lacks native selectors")},Un=function(M,Y){return M.dom===Y.dom},Zm=function(M,Y){var re=M.dom,Ce=Y.dom;return re===Ce?!1:re.contains(Ce)},Ou=function(M,Y){return Ef(M.dom,Y.dom)},Bc=function(M,Y){return Gs().browser.isIE()?Ou(M,Y):Zm(M,Y)},Qm=Ks,Xl=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),eh=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Of=tinymce.util.Tools.resolve("tinymce.util.VK"),th=Object.keys,Ss=function(M,Y){for(var re=th(M),Ce=0,Ge=re.length;Ce<Ge;Ce++){var bt=re[Ce],_n=M[bt];Y(_n,bt)}},$c=function(M){return function(Y,re){M[re]=Y}},un=function(M,Y,re,Ce){var Ge={};return Ss(M,function(bt,_n){(Y(bt,_n)?re:Ce)(bt,_n)}),Ge},Dd=function(M,Y){var re={};return un(M,Y,$c(re),N),re};typeof window<"u"||Function("return this;")();var Ev=function(M){var Y=M.dom.nodeName;return Y.toLowerCase()},Tv=function(M){return M.dom.nodeType},Yl=function(M){return function(Y){return Tv(Y)===M}},Qu=Yl(qs),nh=function(M){return function(Y){return Qu(Y)&&Ev(Y)===M}},Bo=function(M,Y,re){if(S(re)||D(re)||j(re))M.setAttribute(Y,re+"");else throw console.error("Invalid call to Attribute.set. Key ",Y,":: Value ",re,":: Element ",M),new Error("Attribute value was not simple")},go=function(M,Y){var re=M.dom;Ss(Y,function(Ce,Ge){Bo(re,Ge,Ce)})},Du=function(M){return ne(M.dom.attributes,function(Y,re){return Y[re.name]=re.value,Y},{})},Xs=function(M){return De.from(M.dom.parentNode).map(da.fromDom)},Rd=function(M){return le(M.dom.childNodes,da.fromDom)},es=function(M,Y){var re=M.dom.childNodes;return De.from(re[Y]).map(da.fromDom)},Df=function(M){return es(M,0)},Bd=function(M){return es(M,M.dom.childNodes.length-1)},bl=function(M,Y){var re=Xs(M);re.each(function(Ce){Ce.dom.insertBefore(Y.dom,M.dom)})},Ru=function(M,Y){M.dom.appendChild(Y.dom)},Qt=function(M,Y){pe(Y,function(re){bl(M,re)})},_i=function(M,Y){pe(Y,function(re){Ru(M,re)})},yl=function(M){var Y=M.dom;Y.parentNode!==null&&Y.parentNode.removeChild(Y)},rh=function(M,Y){return da.fromDom(M.dom.cloneNode(Y))},Rf=function(M){return rh(M,!0)},Zr=function(M,Y){var re=da.fromTag(Y),Ce=Du(M);return go(re,Ce),re},Ov=function(M,Y){var re=Zr(M,Y);bl(M,re);var Ce=Rd(M);return _i(re,Ce),yl(M),re},wl=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),so=tinymce.util.Tools.resolve("tinymce.util.Tools"),Dv=function(M){return function(Y){return Y&&Y.nodeName.toLowerCase()===M}},cu=function(M){return function(Y){return Y&&M.test(Y.nodeName)}},ts=function(M){return M&&M.nodeType===3},Ra=cu(/^(OL|UL|DL)$/),Bf=cu(/^(OL|UL)$/),$f=Dv("ol"),Rv=cu(/^(LI|DT|DD)$/),$d=cu(/^(DT|DD)$/),Cl=cu(/^(TH|TD)$/),Ys=Dv("br"),Bv=function(M){return M.parentNode.firstChild===M},xs=function(M,Y){return Y&&!!M.schema.getTextBlockElements()[Y.nodeName]},Bu=function(M,Y){return M&&M.nodeName in Y},oe=function(M,Y){return Ys(Y)?M.isBlock(Y.nextSibling)&&!Ys(Y.previousSibling):!1},Ne=function(M,Y,re){var Ce=M.isEmpty(Y);return re&&M.select("span[data-mce-type=bookmark]",Y).length>0?!1:Ce},Ke=function(M,Y){return M.isChildOf(Y,M.getRoot())},kt=function(M){return M.getParam("lists_indent_on_tab",!0)},Gt=function(M){var Y=M.getParam("forced_root_block","p");return Y===!1?"":Y===!0?"p":Y},Rn=function(M){return M.getParam("forced_root_block_attrs",{})},na=function(M,Y){var re=M.dom,Ce=M.schema.getBlockElements(),Ge=re.createFragment(),bt=Gt(M),_n,Jn,Ar;if(bt&&(Jn=re.create(bt),Jn.tagName===bt.toUpperCase()&&re.setAttribs(Jn,Rn(M)),Bu(Y.firstChild,Ce)||Ge.appendChild(Jn)),Y)for(;_n=Y.firstChild;){var dr=_n.nodeName;!Ar&&(dr!=="SPAN"||_n.getAttribute("data-mce-type")!=="bookmark")&&(Ar=!0),Bu(_n,Ce)?(Ge.appendChild(_n),Jn=null):bt?(Jn||(Jn=re.create(bt),Ge.appendChild(Jn)),Jn.appendChild(_n)):Ge.appendChild(_n)}return bt?Ar||Jn.appendChild(re.create("br",{"data-mce-bogus":"1"})):Ge.appendChild(re.create("br")),Ge},ma=wl.DOM,hr=function(M,Y,re){var Ce=function(dr){so.each(Ge,function(xa){dr.parentNode.insertBefore(xa,re.parentNode)}),ma.remove(dr)},Ge=ma.select('span[data-mce-type="bookmark"]',Y),bt=na(M,re),_n=ma.createRng();_n.setStartAfter(re),_n.setEndAfter(Y);for(var Jn=_n.extractContents(),Ar=Jn.firstChild;Ar;Ar=Ar.firstChild)if(Ar.nodeName==="LI"&&M.dom.isEmpty(Ar)){ma.remove(Ar);break}M.dom.isEmpty(Jn)||ma.insertAfter(Jn,Y),ma.insertAfter(bt,Y),Ne(M.dom,re.parentNode)&&Ce(re.parentNode),ma.remove(re),Ne(M.dom,Y)&&ma.remove(Y)},Na=nh("dd"),ja=nh("dt"),Mc=function(M,Y){Na(Y)?Ov(Y,"dt"):ja(Y)&&Xs(Y).each(function(re){return hr(M,re.dom,Y.dom)})},zi=function(M){ja(M)&&Ov(M,"dd")},Jl=function(M,Y,re){Y==="Indent"?pe(re,zi):pe(re,function(Ce){return Mc(M,Ce)})},zn=function(M,Y){if(ts(M))return{container:M,offset:Y};var re=Xl.getNode(M,Y);return ts(re)?{container:re,offset:Y>=M.childNodes.length?re.data.length:0}:re.previousSibling&&ts(re.previousSibling)?{container:re.previousSibling,offset:re.previousSibling.data.length}:re.nextSibling&&ts(re.nextSibling)?{container:re.nextSibling,offset:0}:{container:M,offset:Y}},ah=function(M){var Y=M.cloneRange(),re=zn(M.startContainer,M.startOffset);Y.setStart(re.container,re.offset);var Ce=zn(M.endContainer,M.endOffset);return Y.setEnd(Ce.container,Ce.offset),Y},sp=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Qr=function(M,Y){var re=Y||M.selection.getStart(!0);return M.dom.getParent(re,"OL,UL,DL",Sl(M,re))},lp=function(M,Y){return M&&Y.length===1&&Y[0]===M},oh=function(M){return ye(M.querySelectorAll("ol,ul,dl"),Ra)},Qy=function(M){var Y=Qr(M),re=M.selection.getSelectedBlocks();return lp(Y,re)?oh(Y):ye(re,function(Ce){return Ra(Ce)&&Y!==Ce})},Sa=function(M,Y){var re=so.map(Y,function(Ce){var Ge=M.dom.getParent(Ce,"li,dd,dt",Sl(M,Ce));return Ge||Ce});return sp.unique(re)},Js=function(M){var Y=M.selection.getSelectedBlocks();return ye(Sa(M,Y),Rv)},e2=function(M){return ye(Js(M),$d)},Sl=function(M,Y){var re=M.dom.getParents(Y,"TD,TH");return re.length>0?re[0]:M.getBody()},Jo=function(M,Y){var re=M.dom.getParents(Y,"ol,ul",Sl(M,Y));return xt(re)},Mf=function(M){var Y=Jo(M,M.selection.getStart()),re=ye(M.selection.getSelectedBlocks(),Bf);return Y.toArray().concat(re)},yt=function(M){var Y=Mf(M);return ih(M,Y)},ih=function(M,Y){var re=le(Y,function(Ce){return Jo(M,Ce).getOr(Ce)});return sp.unique(re)},xo=function(M,Y,re){return re===void 0&&(re=z),M.exists(function(Ce){return re(Ce,Y)})},i0=function(M,Y,re){return M.isSome()&&Y.isSome()?De.some(re(M.getOrDie(),Y.getOrDie())):De.none()},Pf=function(M,Y){var re=Y||document,Ce=re.createDocumentFragment();return pe(M,function(Ge){Ce.appendChild(Ge.dom)}),da.fromDom(Ce)},$v=function(M,Y,re){return M.fire("ListMutation",{action:Y,element:re})},je=function(M){return M.style!==void 0&&L(M.style.getPropertyValue)},oi=function(M,Y,re){if(!S(re))throw console.error("Invalid call to CSS.set. Property ",Y,":: Value ",re,":: Element ",M),new Error("CSS value must be a string: "+re);je(M)&&M.style.setProperty(Y,re)},uh=function(M,Y,re){var Ce=M.dom;oi(Ce,Y,re)},cp=function(M,Y){Ru(M.item,Y.list)},u0=function(M){for(var Y=1;Y<M.length;Y++)cp(M[Y-1],M[Y])},Md=function(M,Y){i0(xt(M),$(Y),cp)},fp=function(M,Y){var re={list:da.fromTag(Y,M),item:da.fromTag("li",M)};return Ru(re.list,re.item),re},vp=function(M,Y,re){for(var Ce=[],Ge=0;Ge<re;Ge++)Ce.push(fp(M,Y.listType));return Ce},_s=function(M,Y){for(var re=0;re<M.length-1;re++)uh(M[re].item,"list-style-type","none");xt(M).each(function(Ce){go(Ce.list,Y.listAttributes),go(Ce.item,Y.itemAttributes),_i(Ce.item,Y.content)})},Zl=function(M,Y){Ev(M.list)!==Y.listType&&(M.list=Ov(M.list,Y.listType)),go(M.list,Y.listAttributes)},s0=function(M,Y,re){var Ce=da.fromTag("li",M);return go(Ce,Y),_i(Ce,re),Ce},l0=function(M,Y){Ru(M.list,Y),M.item=Y},Ql=function(M,Y,re){var Ce=Y.slice(0,re.depth);return xt(Ce).each(function(Ge){var bt=s0(M,re.itemAttributes,re.content);l0(Ge,bt),Zl(Ge,re)}),Ce},Ba=function(M,Y,re){var Ce=vp(M,re,re.depth-Y.length);return u0(Ce),_s(Ce,re),Md(Y,Ce),Y.concat(Ce)},c0=function(M,Y){var re=ne(Y,function(Ce,Ge){return Ge.depth>Ce.length?Ba(M,Ce,Ge):Ql(M,Ce,Ge)},[]);return $(re).map(function(Ce){return Ce.list})},fu=function(M){return Qm(M,"OL,UL")},Hi=function(M){return Df(M).exists(fu)},_o=function(M){return Bd(M).exists(fu)},Pc=function(M){return M.depth>0},or=function(M){return M.isSelected},ns=function(M){var Y=Rd(M),re=_o(M)?Y.slice(0,-1):Y;return le(re,Rf)},Fa=function(M,Y,re){return Xs(M).filter(Qu).map(function(Ce){return{depth:Y,dirty:!1,isSelected:re,content:ns(M),itemAttributes:Du(M),listAttributes:Du(Ce),listType:Ev(Ce)}})},Ga=function(M,Y){switch(M){case"Indent":Y.depth++;break;case"Outdent":Y.depth--;break;case"Flatten":Y.depth=0}Y.dirty=!0},f0=function(M,Y){M.listType=Y.listType,M.listAttributes=at({},Y.listAttributes)},ii=function(M){M.listAttributes=Dd(M.listAttributes,function(Y,re){return re!=="start"})},dp=function(M,Y){var re=M[Y].depth,Ce=function(bt){return bt.depth===re&&!bt.dirty},Ge=function(bt){return bt.depth<re};return U(ge(M.slice(0,Y)),Ce,Ge).orThunk(function(){return U(M.slice(Y+1),Ce,Ge)})},xl=function(M){return pe(M,function(Y,re){dp(M,re).fold(function(){Y.dirty&&ii(Y)},function(Ce){return f0(Y,Ce)})}),M},Wn=function(M){var Y=M,re=function(){return Y},Ce=function(Ge){Y=Ge};return{get:re,set:Ce}},rs=function(M,Y,re,Ce){return Df(Ce).filter(fu).fold(function(){Y.each(function(_n){Un(_n.start,Ce)&&re.set(!0)});var Ge=Fa(Ce,M,re.get());Y.each(function(_n){Un(_n.end,Ce)&&re.set(!1)});var bt=Bd(Ce).filter(fu).map(function(_n){return Qa(M,Y,re,_n)}).getOr([]);return Ge.toArray().concat(bt)},function(Ge){return Qa(M,Y,re,Ge)})},Qa=function(M,Y,re,Ce){return se(Rd(Ce),function(Ge){var bt=fu(Ge)?Qa:rs,_n=M+1;return bt(_n,Y,re,Ge)})},eo=function(M,Y){var re=Wn(!1),Ce=0;return le(M,function(Ge){return{sourceList:Ge,entries:Qa(Ce,Y,re,Ge)}})},zo=function(M,Y){var re=xl(Y);return le(re,function(Ce){var Ge=Pf(Ce.content);return da.fromDom(na(M,Ge.dom))})},ko=function(M,Y){var re=xl(Y);return c0(M.contentDocument,re).toArray()},If=function(M,Y){return se(Me(Y,Pc),function(re){var Ce=$(re).exists(Pc);return Ce?ko(M,re):zo(M,re)})},ks=function(M,Y){pe(ye(M,or),function(re){return Ga(Y,re)})},Gr=function(M){var Y=le(Js(M),da.fromDom);return i0(xe(Y,X(Hi)),xe(ge(Y),X(Hi)),function(re,Ce){return{start:re,end:Ce}})},$a=function(M,Y,re){var Ce=eo(Y,Gr(M));pe(Ce,function(Ge){ks(Ge.entries,re);var bt=If(M,Ge.entries);pe(bt,function(_n){$v(M,re==="Indent"?"IndentList":"OutdentList",_n.dom)}),Qt(Ge.sourceList,bt),yl(Ge.sourceList)})},Qi=function(M,Y){var re=le(yt(M),da.fromDom),Ce=le(e2(M),da.fromDom),Ge=!1;if(re.length||Ce.length){var bt=M.selection.getBookmark();$a(M,re,Y),Jl(M,Y,Ce),M.selection.moveToBookmark(bt),M.selection.setRng(ah(M.selection.getRng())),M.nodeChanged(),Ge=!0}return Ge},ec=function(M){return Qi(M,"Indent")},$o=function(M){return Qi(M,"Outdent")},as=function(M){return Qi(M,"Flatten")},v0=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Nf=wl.DOM,ba=function(M){var Y={},re=function(Ce){var Ge=M[Ce?"startContainer":"endContainer"],bt=M[Ce?"startOffset":"endOffset"];if(Ge.nodeType===1){var _n=Nf.create("span",{"data-mce-type":"bookmark"});Ge.hasChildNodes()?(bt=Math.min(bt,Ge.childNodes.length-1),Ce?Ge.insertBefore(_n,Ge.childNodes[bt]):Nf.insertAfter(_n,Ge.childNodes[bt])):Ge.appendChild(_n),Ge=_n,bt=0}Y[Ce?"startContainer":"endContainer"]=Ge,Y[Ce?"startOffset":"endOffset"]=bt};return re(!0),M.collapsed||re(),Y},Zs=function(M){var Y=function(Ce){var Ge,bt=function(Ar){for(var dr=Ar.parentNode.firstChild,xa=0;dr;){if(dr===Ar)return xa;(dr.nodeType!==1||dr.getAttribute("data-mce-type")!=="bookmark")&&xa++,dr=dr.nextSibling}return-1},_n=Ge=M[Ce?"startContainer":"endContainer"],Jn=M[Ce?"startOffset":"endOffset"];_n&&(_n.nodeType===1&&(Jn=bt(_n),_n=_n.parentNode,Nf.remove(Ge),!_n.hasChildNodes()&&Nf.isBlock(_n)&&_n.appendChild(Nf.create("br"))),M[Ce?"startContainer":"endContainer"]=_n,M[Ce?"startOffset":"endOffset"]=Jn)};Y(!0),Y();var re=Nf.createRng();return re.setStart(M.startContainer,M.startOffset),M.endContainer&&re.setEnd(M.endContainer,M.endOffset),ah(re)},Ic=function(M){switch(M){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},vu=function(M){return/\btox\-/.test(M.className)},lo=function(M,Y,re){var Ce=function(bt){var _n=U(bt.parents,Ra,Cl).filter(function(Jn){return Jn.nodeName===Y&&!vu(Jn)}).isSome();re(_n)},Ge=M.dom.getParents(M.selection.getNode());return Ce({parents:Ge}),M.on("NodeChange",Ce),function(){return M.off("NodeChange",Ce)}},Nc=function(M,Y,re){var Ce=re["list-style-type"]?re["list-style-type"]:null;M.setStyle(Y,"list-style-type",Ce)},tc=function(M,Y){so.each(Y,function(re,Ce){M.setAttribute(Ce,re)})},Vi=function(M,Y,re){tc(Y,re["list-attributes"]),so.each(M.select("li",Y),function(Ce){tc(Ce,re["list-item-attributes"])})},du=function(M,Y,re){Nc(M,Y,re),Vi(M,Y,re)},ki=function(M,Y,re){so.each(re,function(Ce){var Ge;return M.setStyle(Y,(Ge={},Ge[Ce]="",Ge))})},Mv=function(M,Y,re,Ce){var Ge=Y[re?"startContainer":"endContainer"],bt=Y[re?"startOffset":"endOffset"];for(Ge.nodeType===1&&(Ge=Ge.childNodes[Math.min(bt,Ge.childNodes.length-1)]||Ge),!re&&Ys(Ge.nextSibling)&&(Ge=Ge.nextSibling);Ge.parentNode!==Ce;){if(xs(M,Ge)||/^(TD|TH)$/.test(Ge.parentNode.nodeName))return Ge;Ge=Ge.parentNode}return Ge},Qs=function(M,Y,re){for(var Ce=[],Ge=M.dom,bt=Mv(M,Y,!0,re),_n=Mv(M,Y,!1,re),Jn,Ar=[],dr=bt;dr&&(Ar.push(dr),dr!==_n);dr=dr.nextSibling);return so.each(Ar,function(xa){if(xs(M,xa)){Ce.push(xa),Jn=null;return}if(Ge.isBlock(xa)||Ys(xa)){Ys(xa)&&Ge.remove(xa),Jn=null;return}var Ei=xa.nextSibling;if(v0.isBookmarkNode(xa)&&(Ra(Ei)||xs(M,Ei)||!Ei&&xa.parentNode===re)){Jn=null;return}Jn||(Jn=Ge.create("p"),xa.parentNode.insertBefore(Jn,xa),Ce.push(Jn)),Jn.appendChild(xa)}),Ce},Ho=function(M,Y,re){var Ce=M.getStyle(Y,"list-style-type"),Ge=re?re["list-style-type"]:"";return Ge=Ge===null?"":Ge,Ce===Ge},Pd=function(M,Y,re){var Ce=M.selection.getRng(),Ge="LI",bt=Sl(M,M.selection.getStart(!0)),_n=M.dom;if(_n.getContentEditable(M.selection.getNode())!=="false"){Y=Y.toUpperCase(),Y==="DL"&&(Ge="DT");var Jn=ba(Ce),Ar=Qs(M,Ce,bt);so.each(Ar,function(dr){var xa,Ei=dr.previousSibling,to=dr.parentNode;Rv(to)||(Ei&&Ra(Ei)&&Ei.nodeName===Y&&Ho(_n,Ei,re)?(xa=Ei,dr=_n.rename(dr,Ge),Ei.appendChild(dr)):(xa=_n.create(Y),dr.parentNode.insertBefore(xa,dr),xa.appendChild(dr),dr=_n.rename(dr,Ge)),ki(_n,dr,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),du(_n,xa,re),zf(M.dom,xa))}),M.selection.setRng(Zs(Jn))}},d0=function(M,Y){return M&&Y&&Ra(M)&&M.nodeName===Y.nodeName},Ff=function(M,Y,re){var Ce=M.getStyle(Y,"list-style-type",!0),Ge=M.getStyle(re,"list-style-type",!0);return Ce===Ge},Lf=function(M,Y){return M.className===Y.className},co=function(M,Y,re){return d0(Y,re)&&Ff(M,Y,re)&&Lf(Y,re)},zf=function(M,Y){var re,Ce;if(re=Y.nextSibling,co(M,Y,re)){for(;Ce=re.firstChild;)Y.appendChild(Ce);M.remove(re)}if(re=Y.previousSibling,co(M,Y,re)){for(;Ce=re.lastChild;)Y.insertBefore(Ce,Y.firstChild);M.remove(re)}},Hf=function(M,Y,re,Ce){if(Y.nodeName!==re){var Ge=M.dom.rename(Y,re);du(M.dom,Ge,Ce),$v(M,Ic(re),Ge)}else du(M.dom,Y,Ce),$v(M,Ic(re),Y)},Ui=function(M,Y,re,Ce,Ge){var bt=Ra(Y);if(bt&&Y.nodeName===Ce&&!nc(Ge))as(M);else{Pd(M,Ce,Ge);var _n=ba(M.selection.getRng()),Jn=bt?kn([Y],re,!0):re;so.each(Jn,function(Ar){Hf(M,Ar,Ce,Ge)}),M.selection.setRng(Zs(_n))}},nc=function(M){return"list-style-type"in M},Vf=function(M,Y,re,Ce){if(Y!==M.getBody())if(Y)if(Y.nodeName===re&&!nc(Ce)&&!vu(Y))as(M);else{var Ge=ba(M.selection.getRng());du(M.dom,Y,Ce);var bt=M.dom.rename(Y,re);zf(M.dom,bt),M.selection.setRng(Zs(Ge)),Pd(M,re,Ce),$v(M,Ic(re),bt)}else Pd(M,re,Ce),$v(M,Ic(re),Y)},rc=function(M,Y,re){var Ce=Qr(M),Ge=Qy(M),bt=_(re)?re:{};Ge.length>0?Ui(M,Ce,Ge,Y,bt):Vf(M,Ce,Y,bt)},Va=wl.DOM,$u=function(M,Y){var re=Y.parentNode;if(re.nodeName==="LI"&&re.firstChild===Y){var Ce=re.previousSibling;Ce&&Ce.nodeName==="LI"?(Ce.appendChild(Y),Ne(M,re)&&Va.remove(re)):Va.setStyle(re,"listStyleType","none")}if(Ra(re)){var Ce=re.previousSibling;Ce&&Ce.nodeName==="LI"&&Ce.appendChild(Y)}},sh=function(M,Y){var re=so.grep(M.select("ol,ul",Y));so.each(re,function(Ce){$u(M,Ce)})},os=function(M,Y,re,Ce){var Ge=Y.startContainer,bt=Y.startOffset;if(ts(Ge)&&(re?bt<Ge.data.length:bt>0))return Ge;var _n=M.schema.getNonEmptyElements();Ge.nodeType===1&&(Ge=Xl.getNode(Ge,bt));var Jn=new eh(Ge,Ce);for(re&&oe(M.dom,Ge)&&Jn.next();Ge=Jn[re?"next":"prev2"]();)if(Ge.nodeName==="LI"&&!Ge.hasChildNodes()||_n[Ge.nodeName]||ts(Ge)&&Ge.data.length>0)return Ge},lh=function(M,Y){var re=Y.childNodes;return re.length===1&&!Ra(re[0])&&M.isBlock(re[0])},m0=function(M,Y){lh(M,Y)&&M.remove(Y.firstChild,!0)},mp=function(M,Y,re){var Ce,Ge=lh(M,re)?re.firstChild:re;if(m0(M,Y),!Ne(M,Y,!0))for(;Ce=Y.firstChild;)Ge.appendChild(Ce)},Uf=function(M,Y,re){var Ce,Ge=Y.parentNode;if(!(!Ke(M,Y)||!Ke(M,re))){Ra(re.lastChild)&&(Ce=re.lastChild),Ge===re.lastChild&&Ys(Ge.previousSibling)&&M.remove(Ge.previousSibling);var bt=re.lastChild;bt&&Ys(bt)&&Y.hasChildNodes()&&M.remove(bt),Ne(M,re,!0)&&M.$(re).empty(),mp(M,Y,re),Ce&&re.appendChild(Ce);var _n=Bc(da.fromDom(re),da.fromDom(Y)),Jn=_n?M.getParents(Y,Ra,re):[];M.remove(Y),pe(Jn,function(Ar){Ne(M,Ar)&&Ar!==M.getRoot()&&M.remove(Ar)})}},Wf=function(M,Y,re){M.dom.$(re).empty(),Uf(M.dom,Y,re),M.selection.setCursorLocation(re,0)},Fc=function(M,Y,re,Ce){var Ge=M.dom;if(Ge.isEmpty(Ce))Wf(M,re,Ce);else{var bt=ba(Y);Uf(Ge,re,Ce),M.selection.setRng(Zs(bt))}},qn=function(M,Y,re,Ce){var Ge=ba(Y);Uf(M.dom,re,Ce);var bt=Zs(Ge);M.selection.setRng(bt)},As=function(M,Y){var re=M.dom,Ce=M.selection,Ge=Ce.getStart(),bt=Sl(M,Ge),_n=re.getParent(Ce.getStart(),"LI",bt);if(_n){var Jn=_n.parentNode;if(Jn===M.getBody()&&Ne(re,Jn))return!0;var Ar=ah(Ce.getRng()),dr=re.getParent(os(M,Ar,Y,bt),"LI",bt);if(dr&&dr!==_n)return M.undoManager.transact(function(){Y?Fc(M,Ar,dr,_n):Bv(_n)?$o(M):qn(M,Ar,_n,dr)}),!0;if(!dr&&!Y&&Ar.startOffset===0&&Ar.endOffset===0)return M.undoManager.transact(function(){as(M)}),!0}return!1},mu=function(M,Y,re){var Ce=M.getParent(Y.parentNode,M.isBlock,re);M.remove(Y),Ce&&M.isEmpty(Ce)&&M.remove(Ce)},Wi=function(M,Y){var re=M.dom,Ce=M.selection.getStart(),Ge=Sl(M,Ce),bt=re.getParent(Ce,re.isBlock,Ge);if(bt&&re.isEmpty(bt)){var _n=ah(M.selection.getRng()),Jn=re.getParent(os(M,_n,Y,Ge),"LI",Ge);if(Jn)return M.undoManager.transact(function(){mu(re,bt,Ge),zf(re,Jn.parentNode),M.selection.select(Jn,!0),M.selection.collapse(Y)}),!0}return!1},Es=function(M,Y){return As(M,Y)||Wi(M,Y)},po=function(M){var Y=M.selection.getStart(),re=Sl(M,Y),Ce=M.dom.getParent(Y,"LI,DT,DD",re);return Ce||Js(M).length>0?(M.undoManager.transact(function(){M.execCommand("Delete"),sh(M.dom,M.getBody())}),!0):!1},Vo=function(M,Y){return M.selection.isCollapsed()?Es(M,Y):po(M)},Ao=function(M){M.on("keydown",function(Y){Y.keyCode===Of.BACKSPACE?Vo(M,!1)&&Y.preventDefault():Y.keyCode===Of.DELETE&&Vo(M,!0)&&Y.preventDefault()})},Lc=function(M){return{backspaceDelete:function(Y){Vo(M,Y)}}},Ai=function(M,Y){var re=Qr(M);M.undoManager.transact(function(){_(Y.styles)&&M.dom.setStyles(re,Y.styles),_(Y.attrs)&&Ss(Y.attrs,function(Ce,Ge){return M.dom.setAttrib(re,Ge,Ce)})})},gn=function(M){var Y=ge(Yt(M).split("")),re=le(Y,function(Ce,Ge){var bt=Ce.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Ge)*bt});return ne(re,function(Ce,Ge){return Ce+Ge},0)},jf=function(M){if(M--,M<0)return"";var Y=M%26,re=Math.floor(M/26),Ce=jf(re),Ge=String.fromCharCode("A".charCodeAt(0)+Y);return Ce+Ge},hp=function(M){return/^[A-Z]+$/.test(M)},sr=function(M){return/^[a-z]+$/.test(M)},ya=function(M){return/^[0-9]+$/.test(M)},ch=function(M){return ya(M)?2:hp(M)?0:sr(M)?1:Wt(M)?3:4},_l=function(M){switch(ch(M)){case 2:return De.some({listStyleType:De.none(),start:M});case 0:return De.some({listStyleType:De.some("upper-alpha"),start:gn(M).toString()});case 1:return De.some({listStyleType:De.some("lower-alpha"),start:gn(M).toString()});case 3:return De.some({listStyleType:De.none(),start:""});case 4:return De.none()}},La=function(M){var Y=parseInt(M.start,10);return xo(M.listStyleType,"upper-alpha")?jf(Y):xo(M.listStyleType,"lower-alpha")?jf(Y).toLowerCase():M.start},fh=function(M){var Y=Qr(M);$f(Y)&&M.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:La({start:M.dom.getAttrib(Y,"start","1"),listStyleType:De.some(M.dom.getStyle(Y,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(re){var Ce=re.getData();_l(Ce.start).each(function(Ge){M.execCommand("mceListUpdate",!1,{attrs:{start:Ge.start==="1"?"":Ge.start},styles:{"list-style-type":Ge.listStyleType.getOr("")}})}),re.close()}})},Mu=function(M,Y){return function(){var re=Qr(M);return re&&re.nodeName===Y}},Id=function(M){M.addCommand("mceListProps",function(){fh(M)})},vr=function(M){M.on("BeforeExecCommand",function(Y){var re=Y.command.toLowerCase();re==="indent"?ec(M):re==="outdent"&&$o(M)}),M.addCommand("InsertUnorderedList",function(Y,re){rc(M,"UL",re)}),M.addCommand("InsertOrderedList",function(Y,re){rc(M,"OL",re)}),M.addCommand("InsertDefinitionList",function(Y,re){rc(M,"DL",re)}),M.addCommand("RemoveList",function(){as(M)}),Id(M),M.addCommand("mceListUpdate",function(Y,re){_(re)&&Ai(M,re)}),M.addQueryStateHandler("InsertUnorderedList",Mu(M,"UL")),M.addQueryStateHandler("InsertOrderedList",Mu(M,"OL")),M.addQueryStateHandler("InsertDefinitionList",Mu(M,"DL"))},eu=function(M){M.on("keydown",function(Y){Y.keyCode!==Of.TAB||Of.metaKeyPressed(Y)||M.undoManager.transact(function(){(Y.shiftKey?$o(M):ec(M))&&Y.preventDefault()})})},t2=function(M){kt(M)&&eu(M),Ao(M)},n2=function(M){var Y=function(re){return function(){return M.execCommand(re)}};M.hasPlugin("advlist")||(M.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Y("InsertOrderedList"),onSetup:function(re){return lo(M,"OL",re.setActive)}}),M.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Y("InsertUnorderedList"),onSetup:function(re){return lo(M,"UL",re.setActive)}}))},Ua=function(M){var Y={text:"List properties...",icon:"ordered-list",onAction:function(){return M.execCommand("mceListProps")},onSetup:function(re){return lo(M,"OL",function(Ce){return re.setDisabled(!Ce)})}};M.ui.registry.addMenuItem("listprops",Y),M.ui.registry.addContextMenu("lists",{update:function(re){var Ce=Qr(M,re);return $f(Ce)?["listprops"]:[]}})};function vh(){f.add("lists",function(M){return M.hasPlugin("rtc",!0)===!1?(t2(M),vr(M)):Id(M),n2(M),Ua(M),Lc(M)})}vh()})();(function(){var f=function(u){var c=typeof u;return u===null?"null":c==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":c==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":c},m=function(u){return function(c){return f(c)===u}},y=function(u){return function(c){return typeof c===u}},b=function(u){return function(c){return u===c}},S=m("string"),_=m("object"),T=m("array"),D=b(null),L=y("boolean"),j=b(void 0),N=function(u){return u==null},V=function(u){return!N(u)},P=y("function"),z=y("number"),X=function(){},G=function(u,c){return function(){for(var h=[],w=0;w<arguments.length;w++)h[w]=arguments[w];return u(c.apply(null,h))}},Be=function(u,c){return function(h){return u(c(h))}},de=function(u){return function(){return u}},$e=function(u){return u},ue=function(u,c){return u===c};function Ee(u){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];return function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];var R=c.concat(w);return u.apply(null,R)}}var De=function(u){return function(c){return!u(c)}},ke=function(u){return function(){throw new Error(u)}},Xe=de(!1),le=de(!0),pe=function(){return ye},ye=function(){var u=function(w){return w()},c=$e,h={fold:function(w,k){return w()},isSome:Xe,isNone:le,getOr:c,getOrThunk:u,getOrDie:function(w){throw new Error(w||"error: getOrDie called on none.")},getOrNull:de(null),getOrUndefined:de(void 0),or:c,orThunk:u,map:pe,each:X,bind:pe,exists:Xe,forall:le,filter:function(){return pe()},toArray:function(){return[]},toString:de("none()")};return h}(),Me=function(u){var c=de(u),h=function(){return k},w=function(R){return R(u)},k={fold:function(R,F){return F(u)},isSome:le,isNone:Xe,getOr:c,getOrThunk:c,getOrDie:c,getOrNull:c,getOrUndefined:c,or:h,orThunk:h,map:function(R){return Me(R(u))},each:function(R){R(u)},bind:w,exists:w,forall:w,filter:function(R){return R(u)?k:ye},toArray:function(){return[u]},toString:function(){return"some("+u+")"}};return k},ne=function(u){return u==null?ye:Me(u)},U={some:Me,none:pe,from:ne},xe=Array.prototype.slice,Ze=Array.prototype.indexOf,se=Array.prototype.push,ge=function(u,c){return Ze.call(u,c)},ut=function(u,c){return ge(u,c)>-1},$=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];if(c(k,h))return!0}return!1},xt=function(u,c){for(var h=[],w=0;w<u;w++)h.push(c(w));return h},rt=function(u,c){for(var h=u.length,w=new Array(h),k=0;k<h;k++){var R=u[k];w[k]=c(R,k)}return w},at=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];c(k,h)}},kn=function(u,c){for(var h=u.length-1;h>=0;h--){var w=u[h];c(w,h)}},ln=function(u,c){for(var h=[],w=[],k=0,R=u.length;k<R;k++){var F=u[k],q=c(F,k)?h:w;q.push(F)}return{pass:h,fail:w}},lt=function(u,c){for(var h=[],w=0,k=u.length;w<k;w++){var R=u[w];c(R,w)&&h.push(R)}return h},Sn=function(u,c,h){return kn(u,function(w,k){h=c(h,w,k)}),h},te=function(u,c,h){return at(u,function(w,k){h=c(h,w,k)}),h},cn=function(u,c,h){for(var w=0,k=u.length;w<k;w++){var R=u[w];if(c(R,w))return U.some(R);if(h(R,w))break}return U.none()},Ue=function(u,c){return cn(u,c,Xe)},gt=function(u,c){for(var h=0,w=u.length;h<w;h++){var k=u[h];if(c(k,h))return U.some(h)}return U.none()},Gn=function(u){for(var c=[],h=0,w=u.length;h<w;++h){if(!T(u[h]))throw new Error("Arr.flatten item "+h+" was not an array, input: "+u);se.apply(c,u[h])}return c},Te=function(u,c){return Gn(rt(u,c))},Ae=function(u,c){for(var h=0,w=u.length;h<w;++h){var k=u[h];if(c(k,h)!==!0)return!1}return!0},Ye=function(u){var c=xe.call(u,0);return c.reverse(),c},Qe=function(u,c){for(var h={},w=0,k=u.length;w<k;w++){var R=u[w];h[String(R)]=c(R,w)}return h},He=function(u){return[u]},pt=function(u,c){var h=xe.call(u,0);return h.sort(c),h},Yt=function(u,c){return c>=0&&c<u.length?U.some(u[c]):U.none()},ot=function(u){return Yt(u,0)},Wt=function(u){return Yt(u,u.length-1)},Ot=function(u,c){for(var h=0;h<u.length;h++){var w=c(u[h],h);if(w.isSome())return w}return U.none()},It=function(){return It=Object.assign||function(c){for(var h,w=1,k=arguments.length;w<k;w++){h=arguments[w];for(var R in h)Object.prototype.hasOwnProperty.call(h,R)&&(c[R]=h[R])}return c},It.apply(this,arguments)};function nn(u,c,h){if(h||arguments.length===2)for(var w=0,k=c.length,R;w<k;w++)(R||!(w in c))&&(R||(R=Array.prototype.slice.call(c,0,w)),R[w]=c[w]);return u.concat(R||Array.prototype.slice.call(c))}var pn=function(u){var c=!1,h;return function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];return c||(c=!0,h=u.apply(null,w)),h}},jn=function(u,c,h,w){var k=u.isiOS()&&/ipad/i.test(h)===!0,R=u.isiOS()&&!k,F=u.isiOS()||u.isAndroid(),q=F||w("(pointer:coarse)"),ie=k||!R&&F&&w("(min-device-width:768px)"),be=R||F&&!ie,Pe=c.isSafari()&&u.isiOS()&&/safari/i.test(h)===!1,mt=!be&&!ie&&!Pe;return{isiPad:de(k),isiPhone:de(R),isTablet:de(ie),isPhone:de(be),isTouch:de(q),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:de(Pe),isDesktop:de(mt)}},ir=function(u,c){for(var h=0;h<u.length;h++){var w=u[h];if(w.test(c))return w}},jr=function(u,c){var h=ir(u,c);if(!h)return{major:0,minor:0};var w=function(k){return Number(c.replace(h,"$"+k))};return fa(w(1),w(2))},tr=function(u,c){var h=String(c).toLowerCase();return u.length===0?oa():jr(u,h)},oa=function(){return fa(0,0)},fa=function(u,c){return{major:u,minor:c}},Jr={nu:fa,detect:tr,unknown:oa},Ir=function(u,c){return Ot(c.brands,function(h){var w=h.brand.toLowerCase();return Ue(u,function(k){var R;return w===((R=k.brand)===null||R===void 0?void 0:R.toLowerCase())}).map(function(k){return{current:k.name,version:Jr.nu(parseInt(h.version,10),0)}})})},va=function(u,c){var h=String(c).toLowerCase();return Ue(u,function(w){return w.search(h)})},Hr=function(u,c){return va(u,c).map(function(h){var w=Jr.detect(h.versionRegexes,c);return{current:h.name,version:w}})},ur=function(u,c){return va(u,c).map(function(h){var w=Jr.detect(h.versionRegexes,c);return{current:h.name,version:w}})},Ia=function(u,c){return u.substring(c)},Zi=function(u,c,h){return c===""||u.length>=c.length&&u.substr(h,h+c.length)===c},Kl=function(u,c){return Si(u,c)?Ia(u,c.length):u},Nr=function(u,c){return u.indexOf(c)!==-1},Si=function(u,c){return Zi(u,c,0)},Ju=function(u,c){return Zi(u,c,u.length-c.length)},xi=function(u){return function(c){return c.replace(u,"")}},En=xi(/^\s+|\s+$/g),Dr=function(u){return u.length>0},uo=function(u){return!Dr(u)},lu=function(u){var c=parseFloat(u);return isNaN(c)?U.none():U.some(c)},Zu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Rr=function(u){return function(c){return Nr(c,u)}},kr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return Nr(u,"edge/")&&Nr(u,"chrome")&&Nr(u,"safari")&&Nr(u,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Zu],search:function(u){return Nr(u,"chrome")&&!Nr(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return Nr(u,"msie")||Nr(u,"trident")}},{name:"Opera",versionRegexes:[Zu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Rr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Rr("firefox")},{name:"Safari",versionRegexes:[Zu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(Nr(u,"safari")||Nr(u,"mobile/"))&&Nr(u,"applewebkit")}}],Gs=[{name:"Windows",search:Rr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return Nr(u,"iphone")||Nr(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Rr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Rr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Rr("linux"),versionRegexes:[]},{name:"Solaris",search:Rr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Rr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Rr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Jm={browsers:de(kr),oses:de(Gs)},Ef="Edge",qs="Chrome",Rc="IE",Av="Opera",gl="Firefox",pl="Safari",Tf=function(){return da({current:void 0,version:Jr.unknown()})},da=function(u){var c=u.current,h=u.version,w=function(k){return function(){return c===k}};return{current:c,version:h,isEdge:w(Ef),isChrome:w(qs),isIE:w(Rc),isOpera:w(Av),isFirefox:w(gl),isSafari:w(pl)}},Ks={unknown:Tf,nu:da,edge:de(Ef),chrome:de(qs),ie:de(Rc),opera:de(Av),firefox:de(gl),safari:de(pl)},Un="Windows",Zm="iOS",Ou="Android",Bc="Linux",Qm="OSX",Xl="Solaris",eh="FreeBSD",Of="ChromeOS",th=function(){return Ss({current:void 0,version:Jr.unknown()})},Ss=function(u){var c=u.current,h=u.version,w=function(k){return function(){return c===k}};return{current:c,version:h,isWindows:w(Un),isiOS:w(Zm),isAndroid:w(Ou),isOSX:w(Qm),isLinux:w(Bc),isSolaris:w(Xl),isFreeBSD:w(eh),isChromeOS:w(Of)}},$c={unknown:th,nu:Ss,windows:de(Un),ios:de(Zm),android:de(Ou),linux:de(Bc),osx:de(Qm),solaris:de(Xl),freebsd:de(eh),chromeos:de(Of)},un=function(u,c,h){var w=Jm.browsers(),k=Jm.oses(),R=c.bind(function(ie){return Ir(w,ie)}).orThunk(function(){return Hr(w,u)}).fold(Ks.unknown,Ks.nu),F=ur(k,u).fold($c.unknown,$c.nu),q=jn(F,R,u,h);return{browser:R,os:F,deviceType:q}},Dd={detect:un},Ev=function(u){return window.matchMedia(u).matches},Tv=pn(function(){return Dd.detect(navigator.userAgent,U.from(navigator.userAgentData),Ev)}),Yl=function(){return Tv()},Qu=function(u,c,h){return(u.compareDocumentPosition(c)&h)!==0},nh=function(u,c){return Qu(u,c,Node.DOCUMENT_POSITION_CONTAINED_BY)},Bo=8,go=9,Du=11,Xs=1,Rd=3,es=function(u,c){var h=c||document,w=h.createElement("div");if(w.innerHTML=u,!w.hasChildNodes()||w.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return bl(w.childNodes[0])},Df=function(u,c){var h=c||document,w=h.createElement(u);return bl(w)},Bd=function(u,c){var h=c||document,w=h.createTextNode(u);return bl(w)},bl=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},Ru=function(u,c,h){return U.from(u.dom.elementFromPoint(c,h)).map(bl)},Qt={fromHtml:es,fromTag:Df,fromText:Bd,fromDom:bl,fromPoint:Ru},_i=function(u,c){var h=u.dom;if(h.nodeType!==Xs)return!1;var w=h;if(w.matches!==void 0)return w.matches(c);if(w.msMatchesSelector!==void 0)return w.msMatchesSelector(c);if(w.webkitMatchesSelector!==void 0)return w.webkitMatchesSelector(c);if(w.mozMatchesSelector!==void 0)return w.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")},yl=function(u){return u.nodeType!==Xs&&u.nodeType!==go&&u.nodeType!==Du||u.childElementCount===0},rh=function(u,c){var h=c===void 0?document:c.dom;return yl(h)?[]:rt(h.querySelectorAll(u),Qt.fromDom)},Rf=function(u,c){var h=c===void 0?document:c.dom;return yl(h)?U.none():U.from(h.querySelector(u)).map(Qt.fromDom)},Zr=function(u,c){return u.dom===c.dom},Ov=function(u,c){var h=u.dom,w=c.dom;return h===w?!1:h.contains(w)},wl=function(u,c){return nh(u.dom,c.dom)},so=function(u,c){return Yl().browser.isIE()?wl(u,c):Ov(u,c)},Dv=_i,cu=Object.keys,ts=Object.hasOwnProperty,Ra=function(u,c){for(var h=cu(u),w=0,k=h.length;w<k;w++){var R=h[w],F=u[R];c(F,R)}},Bf=function(u,c){return $f(u,function(h,w){return{k:w,v:c(h,w)}})},$f=function(u,c){var h={};return Ra(u,function(w,k){var R=c(w,k);h[R.k]=R.v}),h},Rv=function(u){return function(c,h){u[h]=c}},$d=function(u,c,h,w){var k={};return Ra(u,function(R,F){(c(R,F)?h:w)(R,F)}),k},Cl=function(u,c){var h={};return $d(u,c,Rv(h),X),h},Ys=function(u,c){var h=[];return Ra(u,function(w,k){h.push(c(w,k))}),h},Bv=function(u){return Ys(u,$e)},xs=function(u){return cu(u).length},Bu=function(u,c){return oe(u,c)?U.from(u[c]):U.none()},oe=function(u,c){return ts.call(u,c)},Ne=function(u,c){return oe(u,c)&&u[c]!==void 0&&u[c]!==null},Ke=function(u){for(var c in u)if(ts.call(u,c))return!1;return!0},kt=["tfoot","thead","tbody","colgroup"],Gt=function(u){return ut(kt,u)},Rn=function(u,c){return{rows:u,columns:c}},na=function(u,c){return{row:u,column:c}},ma=function(u,c,h){return{element:u,rowspan:c,colspan:h}},hr=function(u,c,h,w){return{element:u,rowspan:c,colspan:h,isNew:w}},Na=function(u,c,h,w,k,R){return{element:u,rowspan:c,colspan:h,row:w,column:k,isLocked:R}},ja=function(u,c,h){return{element:u,cells:c,section:h}},Mc=function(u,c,h,w){return{element:u,cells:c,section:h,isNew:w}},zi=function(u,c,h){return{element:u,isNew:c,isLocked:h}},Jl=function(u,c,h,w){return{element:u,cells:c,section:h,isNew:w}},zn=function(u,c,h,w){return{startRow:u,startCol:c,finishRow:h,finishCol:w}},ah=function(u,c,h){return{element:u,colspan:c,column:h}},sp=function(u,c){return{element:u,columns:c}};typeof window<"u"||Function("return this;")();var Qr=function(u){var c=u.dom.nodeName;return c.toLowerCase()},lp=function(u){return u.dom.nodeType},oh=function(u){return function(c){return lp(c)===u}},Qy=function(u){return lp(u)===Bo||Qr(u)==="#comment"},Sa=oh(Xs),Js=oh(Rd),e2=oh(go),Sl=oh(Du),Jo=function(u){return function(c){return Sa(c)&&Qr(c)===u}},Mf=function(u){return Qt.fromDom(u.dom.ownerDocument)},yt=function(u){return e2(u)?u:Mf(u)},ih=function(u){return Qt.fromDom(yt(u).dom.defaultView)},xo=function(u){return U.from(u.dom.parentNode).map(Qt.fromDom)},i0=function(u){return U.from(u.dom.parentElement).map(Qt.fromDom)},Pf=function(u,c){for(var h=P(c)?c:Xe,w=u.dom,k=[];w.parentNode!==null&&w.parentNode!==void 0;){var R=w.parentNode,F=Qt.fromDom(R);if(k.push(F),h(F)===!0)break;w=R}return k},$v=function(u){return U.from(u.dom.previousSibling).map(Qt.fromDom)},je=function(u){return U.from(u.dom.nextSibling).map(Qt.fromDom)},oi=function(u){return rt(u.dom.childNodes,Qt.fromDom)},uh=function(u,c){var h=u.dom.childNodes;return U.from(h[c]).map(Qt.fromDom)},cp=function(u){return uh(u,0)},u0=function(u){return Sl(u)&&V(u.dom.host)},Md=P(Element.prototype.attachShadow)&&P(Node.prototype.getRootNode),fp=de(Md),vp=Md?function(u){return Qt.fromDom(u.dom.getRootNode())}:yt,_s=function(u){var c=vp(u);return u0(c)?U.some(c):U.none()},Zl=function(u){return Qt.fromDom(u.dom.host)},s0=function(u){if(fp()&&V(u.target)){var c=Qt.fromDom(u.target);if(Sa(c)&&l0(c)&&u.composed&&u.composedPath){var h=u.composedPath();if(h)return ot(h)}}return U.from(u.target)},l0=function(u){return V(u.dom.shadowRoot)},Ql=function(u){var c=Js(u)?u.dom.parentNode:u.dom;if(c==null||c.ownerDocument===null)return!1;var h=c.ownerDocument;return _s(Qt.fromDom(c)).fold(function(){return h.body.contains(c)},Be(Ql,Zl))},Ba=function(){return c0(Qt.fromDom(document))},c0=function(u){var c=u.dom.body;if(c==null)throw new Error("Body is not available yet");return Qt.fromDom(c)},fu=function(u,c,h){return lt(Pf(u,h),c)},Hi=function(u,c){return lt(oi(u),c)},_o=function(u,c){var h=[];return at(oi(u),function(w){c(w)&&(h=h.concat([w])),h=h.concat(_o(w,c))}),h},Pc=function(u,c,h){return fu(u,function(w){return _i(w,c)},h)},or=function(u,c){return Hi(u,function(h){return _i(h,c)})},ns=function(u,c){return rh(c,u)};function Fa(u,c,h,w,k){return u(h,w)?U.some(h):P(k)&&k(h)?U.none():c(h,w,k)}var Ga=function(u,c,h){for(var w=u.dom,k=P(h)?h:Xe;w.parentNode;){w=w.parentNode;var R=Qt.fromDom(w);if(c(R))return U.some(R);if(k(R))break}return U.none()},f0=function(u,c,h){var w=function(k,R){return R(k)};return Fa(w,Ga,u,c,h)},ii=function(u,c){var h=function(k){return c(Qt.fromDom(k))},w=Ue(u.dom.childNodes,h);return w.map(Qt.fromDom)},dp=function(u,c){var h=function(w){for(var k=0;k<w.childNodes.length;k++){var R=Qt.fromDom(w.childNodes[k]);if(c(R))return U.some(R);var F=h(w.childNodes[k]);if(F.isSome())return F}return U.none()};return h(u.dom)},xl=function(u,c,h){return Ga(u,function(w){return _i(w,c)},h)},Wn=function(u,c){return ii(u,function(h){return _i(h,c)})},rs=function(u,c){return Rf(c,u)},Qa=function(u,c,h){var w=function(k,R){return _i(k,R)};return Fa(w,xl,u,c,h)},eo=function(u,c,h){if(S(h)||L(h)||z(h))u.setAttribute(c,h+"");else throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",h,":: Element ",u),new Error("Attribute value was not simple")},zo=function(u,c,h){eo(u.dom,c,h)},ko=function(u,c){var h=u.dom;Ra(c,function(w,k){eo(h,k,w)})},If=function(u,c){Ra(c,function(h,w){h.fold(function(){$a(u,w)},function(k){eo(u.dom,w,k)})})},ks=function(u,c){var h=u.dom.getAttribute(c);return h===null?void 0:h},Gr=function(u,c){return U.from(ks(u,c))},$a=function(u,c){u.dom.removeAttribute(c)},Qi=function(u){return te(u.dom.attributes,function(c,h){return c[h.name]=h.value,c},{})},ec=function(u,c,h){return h===void 0&&(h=ue),u.exists(function(w){return h(w,c)})},$o=function(u){for(var c=[],h=function(k){c.push(k)},w=0;w<u.length;w++)u[w].each(h);return c},as=function(u,c,h){return u.isSome()&&c.isSome()?U.some(h(u.getOrDie(),c.getOrDie())):U.none()},v0=function(u,c){return u!=null?c(u):U.none()},Nf=function(u){return u.bind($e)},ba=function(u,c){return u?U.some(c):U.none()},Zs=function(u){return u.style!==void 0&&P(u.style.getPropertyValue)},Ic=function(u,c,h){if(!S(h))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",h,":: Element ",u),new Error("CSS value must be a string: "+h);Zs(u)&&u.style.setProperty(c,h)},vu=function(u,c){Zs(u)&&u.style.removeProperty(c)},lo=function(u,c,h){var w=u.dom;Ic(w,c,h)},Nc=function(u,c){var h=u.dom;Ra(c,function(w,k){Ic(h,k,w)})},tc=function(u,c){var h=u.dom,w=window.getComputedStyle(h),k=w.getPropertyValue(c);return k===""&&!Ql(u)?Vi(h,c):k},Vi=function(u,c){return Zs(u)?u.style.getPropertyValue(c):""},du=function(u,c){var h=u.dom,w=Vi(h,c);return U.from(w).filter(function(k){return k.length>0})},ki=function(u,c){var h=u.dom;vu(h,c),ec(Gr(u,"style").map(En),"")&&$a(u,"style")},Mv=function(u,c){var h=u.dom,w=c.dom;Zs(h)&&Zs(w)&&(w.style.cssText=h.style.cssText)},Qs=function(u,c,h){return h===void 0&&(h=0),Gr(u,c).map(function(w){return parseInt(w,10)}).getOr(h)},Ho=function(u,c){return Qs(u,c,1)},Pd=function(u){return Jo("col")(u)?Qs(u,"span",1)>1:Ho(u,"colspan")>1},d0=function(u){return Ho(u,"rowspan")>1},Ff=function(u,c){return parseInt(tc(u,c),10)},Lf=de(10),co=de(10),zf=function(u,c){return Hf(u,c,le)},Hf=function(u,c,h){return Te(oi(u),function(w){return _i(w,c)?h(w)?[w]:[]:Hf(w,c,h)})},Ui=function(u,c,h){if(h===void 0&&(h=Xe),h(c))return U.none();if(ut(u,Qr(c)))return U.some(c);var w=function(k){return _i(k,"table")||h(k)};return xl(c,u.join(","),w)},nc=function(u,c){return Ui(["td","th"],u,c)},Vf=function(u){return zf(u,"th,td")},rc=function(u){return _i(u,"colgroup")?or(u,"col"):Te(sh(u),function(c){return or(c,"col")})},Va=function(u,c){return Qa(u,"table",c)},$u=function(u){return zf(u,"tr")},sh=function(u){return Va(u).fold(de([]),function(c){return or(c,"colgroup")})},os=function(u,c){return rt(u,function(h){if(Qr(h)==="colgroup"){var w=rt(rc(h),function(k){var R=Qs(k,"span",1);return ma(k,1,R)});return ja(h,w,"colgroup")}else{var w=rt(Vf(h),function(R){var F=Qs(R,"rowspan",1),q=Qs(R,"colspan",1);return ma(R,F,q)});return ja(h,w,c(h))}})},lh=function(u){return xo(u).map(function(c){var h=Qr(c);return Gt(h)?h:"tbody"}).getOr("tbody")},m0=function(u){var c=$u(u),h=sh(u),w=nn(nn([],h,!0),c,!0);return os(w,lh)},mp=function(u,c){return os(u,function(){return c})},Uf=function(u,c,h){var w=u.cells,k=w.slice(0,c),R=w.slice(c),F=k.concat(h).concat(R);return qn(u,F)},Wf=function(u,c,h){return Uf(u,c,[h])},Fc=function(u,c,h){var w=u.cells;w[c]=h},qn=function(u,c){return Jl(u.element,c,u.section,u.isNew)},As=function(u,c){var h=u.cells,w=rt(h,c);return Jl(u.element,w,u.section,u.isNew)},mu=function(u,c){return u.cells[c]},Wi=function(u,c){return mu(u,c).element},Es=function(u){return u.cells.length},po=function(u){var c=ln(u,function(h){return h.section==="colgroup"});return{rows:c.fail,cols:c.pass}},Vo=function(u,c,h){var w=rt(u.cells,h);return Jl(c(u.element),w,u.section,!0)},Ao="data-snooker-locked-cols",Lc=function(u){return Gr(u,Ao).bind(function(c){return U.from(c.match(/\d+/g))}).map(function(c){return Qe(c,le)})},Ai=function(u){var c=te(po(u).rows,function(w,k){return at(k.cells,function(R,F){R.isLocked&&(w[F]=!0)}),w},{}),h=Ys(c,function(w,k){return parseInt(k,10)});return pt(h)},gn=function(u,c){return u+","+c},jf=function(u,c,h){return U.from(u.access[gn(c,h)])},hp=function(u,c,h){var w=sr(u,function(k){return h(c,k.element)});return w.length>0?U.some(w[0]):U.none()},sr=function(u,c){var h=Te(u.all,function(w){return w.cells});return lt(h,c)},ya=function(u){var c={},h=0;return at(u.cells,function(w){var k=w.colspan;xt(k,function(R){var F=h+R;c[F]=ah(w.element,k,F)}),h+=k}),c},ch=function(u){var c={},h=[],w=ot(u).map(function(Xt){return Xt.element}).bind(Va),k=w.bind(Lc).getOr({}),R=0,F=0,q=0,ie=ln(u,function(Xt){return Xt.section==="colgroup"}),be=ie.pass,Pe=ie.fail;at(Pe,function(Xt){var en=[];at(Xt.cells,function(On){for(var Ur=0;c[gn(q,Ur)]!==void 0;)Ur++;for(var Tn=Ne(k,Ur.toString()),Yn=Na(On.element,On.rowspan,On.colspan,q,Ur,Tn),Sr=0;Sr<On.colspan;Sr++)for(var br=0;br<On.rowspan;br++){var wo=q+br,fi=Ur+Sr,vi=gn(wo,fi);c[vi]=Yn,F=Math.max(F,fi+1)}en.push(Yn)}),R++,h.push(ja(Xt.element,en,Xt.section)),q++});var mt=Wt(be).map(function(Xt){var en=ya(Xt),On=sp(Xt.element,Bv(en));return{colgroups:[On],columns:en}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),zt=mt.columns,At=mt.colgroups,ht=Rn(R,F);return{grid:ht,access:c,all:h,columns:zt,colgroups:At}},_l=function(u){var c=m0(u);return ch(c)},La=function(u){return Te(u.all,function(c){return c.cells})},fh=function(u){return Bv(u.columns)},Mu=function(u){return cu(u.columns).length>0},Id=function(u,c){return U.from(u.columns[c])},vr={fromTable:_l,generate:ch,getAt:jf,findItem:hp,filterItems:sr,justCells:La,justColumns:fh,hasColumns:Mu,getColumnAt:Id},eu=function(u,c){var h=c.column,w=c.column+c.colspan-1,k=c.row,R=c.row+c.rowspan-1;return h<=u.finishCol&&w>=u.startCol&&k<=u.finishRow&&R>=u.startRow},t2=function(u,c){return c.column>=u.startCol&&c.column+c.colspan-1<=u.finishCol&&c.row>=u.startRow&&c.row+c.rowspan-1<=u.finishRow},n2=function(u,c){for(var h=!0,w=Ee(t2,c),k=c.startRow;k<=c.finishRow;k++)for(var R=c.startCol;R<=c.finishCol;R++)h=h&&vr.getAt(u,k,R).exists(w);return h?U.some(c):U.none()},Ua=function(u,c){return zn(Math.min(u.row,c.row),Math.min(u.column,c.column),Math.max(u.row+u.rowspan-1,c.row+c.rowspan-1),Math.max(u.column+u.colspan-1,c.column+c.colspan-1))},vh=function(u,c,h){var w=vr.findItem(u,c,Zr),k=vr.findItem(u,h,Zr);return w.bind(function(R){return k.map(function(F){return Ua(R,F)})})},M=function(u,c,h){return vh(u,c,h).bind(function(w){return n2(u,w)})},Y=function(u,c,h,w){return vr.findItem(u,c,Zr).bind(function(k){var R=h>0?k.row+k.rowspan-1:k.row,F=w>0?k.column+k.colspan-1:k.column,q=vr.getAt(u,R+h,F+w);return q.map(function(ie){return ie.element})})},re=function(u,c,h){return vh(u,c,h).map(function(w){var k=vr.filterItems(u,Ee(eu,w));return rt(k,function(R){return R.element})})},Ce=function(u,c){var h=function(w,k){return so(k,w)};return vr.findItem(u,c,h).map(function(w){return w.element})},Ge=function(u,c,h){return Va(u).bind(function(w){var k=Ar(w);return Y(k,u,c,h)})},bt=function(u,c,h){var w=Ar(u);return re(w,c,h)},_n=function(u,c,h,w,k){var R=Ar(u),F=Zr(u,h)?U.some(c):Ce(R,c),q=Zr(u,k)?U.some(w):Ce(R,w);return F.bind(function(ie){return q.bind(function(be){return re(R,ie,be)})})},Jn=function(u,c,h){var w=Ar(u);return M(w,c,h)},Ar=vr.fromTable,dr=function(u,c){var h=xo(u);h.each(function(w){w.dom.insertBefore(c.dom,u.dom)})},xa=function(u,c){var h=je(u);h.fold(function(){var w=xo(u);w.each(function(k){to(k,c)})},function(w){dr(w,c)})},Ei=function(u,c){var h=cp(u);h.fold(function(){to(u,c)},function(w){u.dom.insertBefore(c.dom,w.dom)})},to=function(u,c){u.dom.appendChild(c.dom)},g3=function(u,c,h){uh(u,h).fold(function(){to(u,c)},function(w){dr(w,c)})},VS=function(u,c){dr(u,c),to(c,u)},US=function(u,c){at(c,function(h){dr(u,h)})},p3=function(u,c){at(c,function(h,w){var k=w===0?u:c[w-1];xa(k,h)})},ac=function(u,c){at(c,function(h){to(u,h)})},gp=function(u){u.dom.textContent="",at(oi(u),function(c){Pu(c)})},Pu=function(u){var c=u.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},dh=function(u){var c=oi(u);c.length>0&&US(u,c),Pu(u)},r2=function(u,c){var h=function(R){if(!u(R))throw new Error("Can only get "+c+" value of a "+c+" node");return w(R).getOr("")},w=function(R){return u(R)?U.from(R.dom.nodeValue):U.none()},k=function(R,F){if(!u(R))throw new Error("Can only set raw "+c+" value of a "+c+" node");R.dom.nodeValue=F};return{get:h,getOption:w,set:k}},pp=r2(Js,"text"),h0=function(u){return pp.get(u)},WS=function(u){return pp.getOption(u)},b3=function(u,c){return pp.set(u,c)},oc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function bp(){var u=function(be){return Qt.fromDom(be.dom.cloneNode(!1))},c=function(be){return yt(be).dom},h=function(be){return Sa(be)?Qr(be)==="body"?!0:ut(oc,Qr(be)):!1},w=function(be){return Sa(be)?ut(["br","img","hr","input"],Qr(be)):!1},k=function(be){return Sa(be)&&ks(be,"contenteditable")==="false"},R=function(be,Pe){return be.dom.compareDocumentPosition(Pe.dom)},F=function(be,Pe){var mt=Qi(be);ko(Pe,mt)},q=function(be){var Pe=Qr(be);return ut(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Pe)},ie=function(be){return Sa(be)?Gr(be,"lang"):U.none()};return{up:de({selector:xl,closest:Qa,predicate:Ga,all:Pf}),down:de({selector:ns,predicate:_o}),styles:de({get:tc,getRaw:du,set:lo,remove:ki}),attrs:de({get:ks,set:zo,remove:$a,copyTo:F}),insert:de({before:dr,after:xa,afterAll:p3,append:to,appendAll:ac,prepend:Ei,wrap:VS}),remove:de({unwrap:dh,remove:Pu}),create:de({nu:Qt.fromTag,clone:u,text:Qt.fromText}),query:de({comparePosition:R,prevSibling:$v,nextSibling:je}),property:de({children:oi,name:Qr,parent:xo,document:c,isText:Js,isComment:Qy,isElement:Sa,isSpecial:q,getLanguage:ie,getText:h0,setText:b3,isBoundary:h,isEmptyTag:w,isNonEditable:k}),eq:Zr,is:Dv}}var y3=function(u,c,h,w){var k=h[0],R=h.slice(1);return w(u,c,k,R)},a2=function(u,c,h){return h.length>0?y3(u,c,h,w3):U.none()},w3=function(u,c,h,w){var k=c(u,h);return Sn(w,function(R,F){var q=c(u,F);return C3(u,R,q)},k)},C3=function(u,c,h){return c.bind(function(w){return h.filter(Ee(u.eq,w))})},mh=function(u,c){return Ee(u.eq,c)},yp=function(u,c,h,w){w===void 0&&(w=Xe);var k=[c].concat(u.up().all(c)),R=[h].concat(u.up().all(h)),F=function(Pe){var mt=gt(Pe,w);return mt.fold(function(){return Pe},function(zt){return Pe.slice(0,zt+1)})},q=F(k),ie=F(R),be=Ue(q,function(Pe){return $(ie,mh(u,Pe))});return{firstpath:q,secondpath:ie,shared:be}},jS=a2,GS=yp,is=bp(),Bn=function(u,c){return jS(is,function(h,w){return u(w)},c)},Gf=function(u,c,h){return GS(is,u,c,h)},wp=function(u){return xl(u,"table")},Pv=function(u,c,h){var w=function(k){return function(R){return h!==void 0&&h(R)||Zr(R,k)}};return Zr(u,c)?U.some({boxes:U.some([u]),start:u,finish:c}):wp(u).bind(function(k){return wp(c).bind(function(R){if(Zr(k,R))return U.some({boxes:bt(k,u,c),start:u,finish:c});if(so(k,R)){var F=Pc(c,"td,th",w(k)),q=F.length>0?F[F.length-1]:c;return U.some({boxes:_n(k,u,k,c,R),start:u,finish:q})}else if(so(R,k)){var F=Pc(u,"td,th",w(R)),ie=F.length>0?F[F.length-1]:u;return U.some({boxes:_n(R,u,k,c,R),start:u,finish:ie})}else return Gf(u,c).shared.bind(function(be){return Qa(be,"table",h).bind(function(Pe){var mt=Pc(c,"td,th",w(Pe)),zt=mt.length>0?mt[mt.length-1]:c,At=Pc(u,"td,th",w(Pe)),ht=At.length>0?At[At.length-1]:u;return U.some({boxes:_n(Pe,u,k,c,R),start:ht,finish:zt})})})})})},hh=function(u,c){var h=ns(u,c);return h.length>0?U.some(h):U.none()},o2=function(u,c){return Ue(u,function(h){return _i(h,c)})},kl=function(u,c,h){return rs(u,c).bind(function(w){return rs(u,h).bind(function(k){return Bn(wp,[w,k]).map(function(R){return{first:w,last:k,table:R}})})})},Nd=function(u,c){return xl(u,"table").bind(function(h){return rs(h,c).bind(function(w){return Pv(w,u).bind(function(k){return k.boxes.map(function(R){return{boxes:R,start:k.start,finish:k.finish}})})})})},gh=function(u,c,h,w,k){return o2(u,k).bind(function(R){return Ge(R,c,h).bind(function(F){return Nd(F,w)})})},bo=function(u,c){return hh(u,c)},ui=function(u,c,h){return kl(u,c,h).bind(function(w){var k=function(ie){return Zr(u,ie)},R="thead,tfoot,tbody,table",F=xl(w.first,R,k),q=xl(w.last,R,k);return F.bind(function(ie){return q.bind(function(be){return Zr(ie,be)?Jn(w.table,w.first,w.last):U.none()})})})},Cp=function(u){if(!T(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var c=[],h={};return at(u,function(w,k){var R=cu(w);if(R.length!==1)throw new Error("one and only one name per case");var F=R[0],q=w[F];if(h[F]!==void 0)throw new Error("duplicate key detected:"+F);if(F==="cata")throw new Error("cannot have a case named cata (sorry)");if(!T(q))throw new Error("case arguments must be an array");c.push(F),h[F]=function(){for(var ie=[],be=0;be<arguments.length;be++)ie[be]=arguments[be];var Pe=ie.length;if(Pe!==q.length)throw new Error("Wrong number of arguments to case "+F+". Expected "+q.length+" ("+q+"), got "+Pe);var mt=function(zt){var At=cu(zt);if(c.length!==At.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+At.join(","));var ht=Ae(c,function(Xt){return ut(At,Xt)});if(!ht)throw new Error("Not all branches were specified when using match. Specified: "+At.join(", ")+`
Required: `+c.join(", "));return zt[F].apply(null,ie)};return{fold:function(){for(var zt=[],At=0;At<arguments.length;At++)zt[At]=arguments[At];if(zt.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+zt.length);var ht=zt[k];return ht.apply(null,ie)},match:mt,log:function(zt){console.log(zt,{constructors:c,constructor:F,params:ie})}}}}),h},zc={generate:Cp},Sp=zc.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),g0=function(u,c,h,w){return u.fold(c,h,w)},p0=Sp.none,S3=Sp.multiple,ph=Sp.single,ji=function(u,c,h){var w=function(){return bo(u(),h).fold(function(){return c().fold(p0,ph)},function(k){return S3(k)})};return{get:w}},qS=tinymce.util.Tools.resolve("tinymce.PluginManager"),qa=function(u,c){return Qt.fromDom(u.dom.cloneNode(c))},Al=function(u){return qa(u,!1)},ia=function(u){return qa(u,!0)},Iv=function(u,c){var h=Qt.fromTag(c),w=Qi(u);return ko(h,w),h},el=function(u,c){var h=Iv(u,c),w=oi(ia(u));return ac(h,w),h},x3=function(u,c){var h=Iv(u,c);dr(u,h);var w=oi(u);return ac(h,w),Pu(u),h},Uo=function(u,c){var h=function(q,ie){if(!z(ie)&&!ie.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+ie);var be=q.dom;Zs(be)&&(be.style[u]=ie+"px")},w=function(q){var ie=c(q);if(ie<=0||ie===null){var be=tc(q,u);return parseFloat(be)||0}return ie},k=w,R=function(q,ie){return te(ie,function(be,Pe){var mt=tc(q,Pe),zt=mt===void 0?0:parseInt(mt,10);return isNaN(zt)?be:be+zt},0)},F=function(q,ie,be){var Pe=R(q,be),mt=ie>Pe?ie-Pe:0;return mt};return{set:h,get:w,getOuter:k,aggregate:R,max:F}},hu=function(){var u=Yl().browser;return u.isIE()||u.isEdge()},KS=function(u,c){return lu(u).getOr(c)},_t=function(u,c,h){return KS(tc(u,c),h)},Iu=function(u){return tc(u,"box-sizing")},qf=function(u,c,h,w){var k=_t(u,"padding-"+h,0),R=_t(u,"padding-"+w,0),F=_t(u,"border-"+h+"-width",0),q=_t(u,"border-"+w+"-width",0);return c-k-R-F-q},Kn=function(u,c){var h=u.dom,w=h.getBoundingClientRect().height||h.offsetHeight;return c==="border-box"?w:qf(u,w,"top","bottom")},Ts=function(u,c){var h=u.dom,w=h.getBoundingClientRect().width||h.offsetWidth;return c==="border-box"?w:qf(u,w,"left","right")},_3=function(u){return hu()?Kn(u,Iu(u)):_t(u,"height",u.dom.offsetHeight)},tu=function(u){return hu()?Ts(u,Iu(u)):_t(u,"width",u.dom.offsetWidth)},bh=function(u){return Ts(u,"content-box")},Hc=Uo("width",function(u){return u.dom.offsetWidth}),El=function(u){return Hc.get(u)},Gi=function(u){return Hc.getOuter(u)},qr=bh,ic=tu,Fd=function(u,c){c===void 0&&(c=le);var h=u.grid,w=xt(h.columns,$e),k=xt(h.rows,$e);return rt(w,function(R){var F=function(){return Te(k,function(be){return vr.getAt(u,be,R).filter(function(Pe){return Pe.column===R}).toArray()})},q=function(be){return be.colspan===1&&c(be.element)},ie=function(){return vr.getAt(u,0,R)};return Aa(F,q,ie)})},Aa=function(u,c,h){var w=u(),k=Ue(w,c),R=k.orThunk(function(){return U.from(w[0]).orThunk(h)});return R.map(function(F){return F.element})},Nv=function(u){var c=u.grid,h=xt(c.rows,$e),w=xt(c.columns,$e);return rt(h,function(k){var R=function(){return Te(w,function(ie){return vr.getAt(u,k,ie).filter(function(be){return be.row===k}).fold(de([]),function(be){return[be]})})},F=function(ie){return ie.rowspan===1},q=function(){return vr.getAt(u,k,0)};return Aa(R,F,q)})},us=function(u,c){if(c<0||c>=u.length-1)return U.none();var h=u[c].fold(function(){var k=Ye(u.slice(0,c));return Ot(k,function(R,F){return R.map(function(q){return{value:q,delta:F+1}})})},function(k){return U.some({value:k,delta:0})}),w=u[c+1].fold(function(){var k=u.slice(c+1);return Ot(k,function(R,F){return R.map(function(q){return{value:q,delta:F+1}})})},function(k){return U.some({value:k,delta:1})});return h.bind(function(k){return w.map(function(R){var F=R.delta+k.delta;return Math.abs(R.value-k.value)/F})})},ss=function(u,c){return function(h){return k3(h)==="rtl"?c:u}},k3=function(u){return tc(u,"direction")==="rtl"?"rtl":"ltr"},Ve=Uo("height",function(u){var c=u.dom;return Ql(u)?c.getBoundingClientRect().height:c.offsetHeight}),gu=function(u){return Ve.get(u)},uc=function(u){return Ve.getOuter(u)},yh=_3,Os=function(u,c){var h=function(w,k){return Os(u+w,c+k)};return{left:u,top:c,translate:h}},wa=Os,Ea=function(u){var c=u.getBoundingClientRect();return wa(c.left,c.top)},Nu=function(u,c){return u!==void 0?u:c!==void 0?c:0},Kf=function(u){var c=u.dom.ownerDocument,h=c.body,w=c.defaultView,k=c.documentElement;if(h===u.dom)return wa(h.offsetLeft,h.offsetTop);var R=Nu(w==null?void 0:w.pageYOffset,k.scrollTop),F=Nu(w==null?void 0:w.pageXOffset,k.scrollLeft),q=Nu(k.clientTop,h.clientTop),ie=Nu(k.clientLeft,h.clientLeft);return i2(u).translate(F-ie,R-q)},i2=function(u){var c=u.dom,h=c.ownerDocument,w=h.body;return w===c?wa(w.offsetLeft,w.offsetTop):Ql(u)?Ea(c):wa(0,0)},Pn=function(u,c){return{row:u,y:c}},b0=function(u,c){return{col:u,x:c}},Ds=function(u){var c=Kf(u);return c.left+Gi(u)},XS=function(u){return Kf(u).left},xp=function(u,c){return b0(u,XS(c))},_p=function(u,c){return b0(u,Ds(c))},u2=function(u){return Kf(u).top},s2=function(u,c){return Pn(u,u2(c))},Vc=function(u,c){return Pn(u,u2(c)+uc(c))},Xf=function(u,c,h){if(h.length===0)return[];var w=rt(h.slice(1),function(R,F){return R.map(function(q){return u(F,q)})}),k=h[h.length-1].map(function(R){return c(h.length-1,R)});return w.concat([k])},A3=function(u){return-u},l2={delta:$e,positions:function(u){return Xf(s2,Vc,u)},edge:u2},E3={delta:$e,edge:XS,positions:function(u){return Xf(xp,_p,u)}},YS={delta:A3,edge:Ds,positions:function(u){return Xf(_p,xp,u)}},kp=ss(E3,YS),wh={delta:function(u,c){return kp(c).delta(u,c)},positions:function(u,c){return kp(c).positions(u,c)},edge:function(u){return kp(u).edge(u)}},JS={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Uc=function(){var u="[0-9]+",c="[+-]?"+u,h="[eE]"+c,w="\\.",k=function(q){return"(?:"+q+")?"},R=["Infinity",u+w+k(u)+k(h),w+u+k(h),u+k(h)].join("|"),F="[+-]?(?:"+R+")";return new RegExp("^("+F+")(.*)$")}(),Ch=function(u,c){return $(c,function(h){return $(JS[h],function(w){return u===w})})},c2=function(u,c){var h=U.from(Uc.exec(u));return h.bind(function(w){var k=Number(w[1]),R=w[2];return Ch(R,c)?U.some({value:k,unit:R}):U.none()})},ZS=/(\d+(\.\d+)?)%/,T3=/(\d+(\.\d+)?)px|em/,O3=Jo("col"),Mo=function(u,c,h){var w=i0(u).getOrThunk(function(){return c0(Mf(u))});return c(u)/h(w)*100},Wc=function(u,c){lo(u,"width",c+"px")},Tl=function(u,c){lo(u,"width",c+"%")},Fv=function(u,c){lo(u,"height",c+"px")},QS=function(u){return yh(u)+"px"},Ol=function(u,c,h,w){var k=Va(u).map(function(R){var F=h(R);return Math.floor(c/100*F)}).getOr(c);return w(u,k),k},Ld=function(u,c,h,w){var k=parseFloat(u);return Ju(u,"%")&&Qr(c)!=="table"?Ol(c,k,h,w):k},f2=function(u){var c=QS(u);return c?Ld(c,u,gu,Fv):gu(u)},v2=function(u,c,h){var w=h(u),k=Ho(u,c);return w/k},Yf=function(u,c){return du(u,c).orThunk(function(){return Gr(u,c).map(function(h){return h+"px"})})},tl=function(u){return Yf(u,"width")},Ti=function(u){return Yf(u,"height")},y0=function(u){return Mo(u,El,qr)},d2=function(u){return O3(u)?El(u):ic(u)},zd=function(u){return v2(u,"rowspan",f2)},Sh=function(u){var c=tl(u);return c.bind(function(h){return c2(h,["fixed","relative","empty"])})},xh=function(u,c,h){lo(u,"width",c+h)},D3=function(u){return El(u)+"px"},_h=function(u){return Mo(u,El,qr)+"%"},m2=function(u){return tl(u).exists(function(c){return ZS.test(c)})},R3=function(u){return tl(u).exists(function(c){return T3.test(c)})},no=function(u){return tl(u).isNone()},w0=de(ZS),Lv=Jo("col"),h2=function(u){return tl(u).getOrThunk(function(){return d2(u)+"px"})},g2=function(u){return Ti(u).getOrThunk(function(){return zd(u)+"px"})},nl=function(u){return rt(vr.justColumns(u),function(c){return U.from(c.element)})},Rs=function(u){var c=Yl().browser,h=c.isChrome()||c.isFirefox();return Lv(u)?h:!0},Hd=function(u,c,h,w,k,R){return u.filter(w).fold(function(){return R(us(h,c))},function(F){return k(F)})},zv=function(u,c,h,w){var k=Fd(u),R=vr.hasColumns(u)?nl(u):k,F=[U.some(wh.edge(c))].concat(rt(wh.positions(k,c),function(ie){return ie.map(function(be){return be.x})})),q=De(Pd);return rt(R,function(ie,be){return Hd(ie,be,F,q,function(Pe){if(Rs(Pe))return h(Pe);var mt=v0(k[be],$e);return Hd(mt,be,F,q,function(zt){return w(U.some(El(zt)))},w)},w)})},C0=function(u){return u.map(function(c){return c+"px"}).getOr("")},Ap=function(u,c){return zv(u,c,h2,C0)},p2=function(u,c,h){return zv(u,c,y0,function(w){return w.fold(function(){return h.minCellWidth()},function(k){return k/h.pixelWidth()*100})})},Vd=function(u,c,h){return zv(u,c,d2,function(w){return w.getOrThunk(h.minCellWidth)})},S0=function(u,c,h,w,k){var R=Nv(u),F=[U.some(h.edge(c))].concat(rt(h.positions(R,c),function(q){return q.map(function(ie){return ie.y})}));return rt(R,function(q,ie){return Hd(q,ie,F,De(d0),w,k)})},B3=function(u,c,h){return S0(u,c,h,zd,function(w){return w.getOrThunk(co)})},b2=function(u,c,h){return S0(u,c,h,g2,C0)},Bs=function(u,c){return function(){return Ql(u)?c(u):parseFloat(du(u,"width").getOr("0"))}},ls=function(u){var c=Bs(u,El),h=de(0),w=function(k,R){return Vd(k,u,R)};return{width:c,pixelWidth:c,getWidths:w,getCellDelta:h,singleColumnWidth:de([0]),minCellWidth:h,setElementWidth:X,adjustTableWidth:X,isRelative:!0,label:"none"}},kh=function(u){var c=Bs(u,function(ie){return parseFloat(_h(ie))}),h=Bs(u,El),w=function(ie){return ie/h()*100},k=function(ie,be){return[100-ie]},R=function(){return Lf()/h()*100},F=function(ie){var be=c(),Pe=ie/100*be,mt=be+Pe;Tl(u,mt)},q=function(ie,be){return p2(ie,u,be)};return{width:c,pixelWidth:h,getWidths:q,getCellDelta:w,singleColumnWidth:k,minCellWidth:R,setElementWidth:Tl,adjustTableWidth:F,isRelative:!0,label:"percent"}},Dl=function(u){var c=Bs(u,El),h=$e,w=function(F,q){var ie=Math.max(Lf(),F+q);return[ie-F]},k=function(F){var q=c()+F;Wc(u,q)},R=function(F,q){return Vd(F,u,q)};return{width:c,pixelWidth:c,getWidths:R,getCellDelta:h,singleColumnWidth:w,minCellWidth:Lf,setElementWidth:Wc,adjustTableWidth:k,isRelative:!1,label:"pixel"}},qi=function(u,c){var h=w0().exec(c);return h!==null?kh(u):Dl(u)},x0=function(u){var c=tl(u);return c.fold(function(){return ls(u)},function(h){return qi(u,h)})},Jf={getTableSize:x0,pixelSize:Dl,percentageSize:kh,noneSize:ls},ex=function(u,c,h,w,k,R){return{minRow:u,minCol:c,maxRow:h,maxCol:w,allCells:k,selectedCells:R}},Oi=function(u,c){var h=u.grid.columns,w=u.grid.rows,k=w,R=h,F=0,q=0,ie=[],be=[];return Ra(u.access,function(Pe){if(ie.push(Pe),c(Pe)){be.push(Pe);var mt=Pe.row,zt=mt+Pe.rowspan-1,At=Pe.column,ht=At+Pe.colspan-1;mt<k?k=mt:zt>F&&(F=zt),At<R?R=At:ht>q&&(q=ht)}}),ex(k,R,F,q,ie,be)},y2=function(u,c,h){var w=u[h].element,k=Qt.fromTag("td");to(k,Qt.fromTag("br"));var R=c?to:Ei;R(w,k)},_0=function(u,c,h,w){for(var k=c.grid.columns,R=c.grid.rows,F=0;F<R;F++)for(var q=!1,ie=0;ie<k;ie++)if(!(F<h.minRow||F>h.maxRow||ie<h.minCol||ie>h.maxCol)){var be=vr.getAt(c,F,ie).filter(w).isNone();be?y2(u,q,F):q=!0}},Vr=function(u,c,h,w){Ra(h.columns,function(F){(F.column<c.minCol||F.column>c.maxCol)&&Pu(F.element)});var k=lt(zf(u,"tr"),function(F){return F.dom.childElementCount===0});at(k,Pu),(c.minCol===c.maxCol||c.minRow===c.maxRow)&&at(zf(u,"th,td"),function(F){$a(F,"rowspan"),$a(F,"colspan")}),$a(u,Ao),$a(u,"data-snooker-col-series");var R=Jf.getTableSize(u);R.adjustTableWidth(w)},In=function(u,c,h,w){if(w.minCol===0&&c.grid.columns===w.maxCol+1)return 0;var k=Vd(c,u,h),R=te(k,function(be,Pe){return be+Pe},0),F=te(k.slice(w.minCol,w.maxCol+1),function(be,Pe){return be+Pe},0),q=F/R*h.pixelWidth(),ie=q-h.pixelWidth();return h.getCellDelta(ie)},$s=function(u,c){var h=function(zt){return _i(zt.element,c)},w=ia(u),k=m0(w),R=Jf.getTableSize(u),F=vr.generate(k),q=Oi(F,h),ie="th:not("+c+"),td:not("+c+")",be=Hf(w,"th,td",function(zt){return _i(zt,ie)});at(be,Pu),_0(k,F,q,h);var Pe=vr.fromTable(u),mt=In(u,Pe,R,q);return Vr(w,q,F,mt),w},k0="",Rl=function(u){return Qr(u)==="img"?1:WS(u).fold(function(){return oi(u).length},function(c){return c.length})},tx=function(u){return WS(u).filter(function(c){return c.trim().length!==0||c.indexOf(k0)>-1}).isSome()},Ca=["img","br"],w2=function(u){var c=tx(u);return c||ut(Ca,Qr(u))},A0=function(u){return dp(u,w2)},E0=function(u){return Dt(u,w2)},Dt=function(u,c){var h=function(w){for(var k=oi(w),R=k.length-1;R>=0;R--){var F=k[R];if(c(F))return U.some(F);var q=h(F);if(q.isSome())return q}return U.none()};return h(u)},C2={scope:["row","col"]},S2=function(u){return function(){var c=Qt.fromTag("td",u.dom);return to(c,Qt.fromTag("br",u.dom)),c}},Hv=function(u){return function(){return Qt.fromTag("col",u.dom)}},Ep=function(u){return function(){return Qt.fromTag("colgroup",u.dom)}},Ud=function(u){return function(){return Qt.fromTag("tr",u.dom)}},Vv=function(u,c,h){var w=el(u,c);return Ra(h,function(k,R){k===null?$a(w,R):zo(w,R,k)}),w},Wd=function(u){return u},Ah=function(u,c,h){var w=A0(u);return w.map(function(k){var R=h.join(","),F=Pc(k,R,function(q){return Zr(q,u)});return Sn(F,function(q,ie){var be=Al(ie);return $a(be,"contenteditable"),to(q,be),be},c)}).getOr(c)},Eo=function(u,c){Ra(C2,function(h,w){return Gr(u,w).filter(function(k){return ut(h,k)}).each(function(k){return zo(c,w,k)})})},nr=function(u,c,h){var w=function(F,q){Mv(F.element,q),ki(q,"height"),F.colspan!==1&&ki(q,"width")},k=function(F){var q=Qt.fromTag(Qr(F.element),c.dom),ie=h.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),be=ie.length>0?Ah(F.element,q,ie):q;return to(be,Qt.fromTag("br")),w(F,q),Eo(F.element,q),u(F.element,q),q},R=function(F){var q=Qt.fromTag(Qr(F.element),c.dom);return w(F,q),u(F.element,q),q};return{col:R,colgroup:Ep(c),row:Ud(c),cell:k,replace:Vv,colGap:Hv(c),gap:S2(c)}},Ms=function(u){return{col:Hv(u),colgroup:Ep(u),row:Ud(u),cell:S2(u),replace:Wd,colGap:Hv(u),gap:S2(u)}},nx=function(u,c){var h=c||document,w=h.createElement("div");return w.innerHTML=u,oi(Qt.fromDom(w))},cs=function(u){return rt(u,Qt.fromDom)},x2=function(u){return u.nodeName.toLowerCase()},jc=function(u){return Qt.fromDom(u.getBody())},Zf=function(u){return u.getBoundingClientRect().width},Qf=function(u){return u.getBoundingClientRect().height},Ps=function(u){return function(c){return Zr(c,jc(u))}},Uv=function(u){return u?u.replace(/px$/,""):""},Zo=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},pu=function(u){$a(u,"data-mce-style");var c=function(h){return $a(h,"data-mce-style")};at(Vf(u),c),at(rc(u),c),at($u(u),c)},Gc=function(u,c){var h=u.dom.getStyle(c,"width")||u.dom.getAttrib(c,"width");return U.from(h).filter(Dr)},Wv=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},Eh=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},jd=function(u){return Qt.fromDom(u.selection.getStart())},wn=function(u){return Qt.fromDom(u.selection.getEnd())},si=function(u){return g0(u.get(),de([]),$e,He)},sc=function(u){var c=function(k,R){return Gr(k,R).exists(function(F){return parseInt(F,10)>1})},h=function(k){return c(k,"rowspan")||c(k,"colspan")},w=si(u);return w.length>0&&Ae(w,h)?U.some(w):U.none()},qc=function(u,c,h){return g0(c.get(),U.none,function(w){return w.length<=1?U.none():ui(u,h.firstSelectedSelector,h.lastSelectedSelector).map(function(k){return{bounds:k,cells:w}})},U.none)},Tp="data-mce-selected",rx="td["+Tp+"],th["+Tp+"]",T0="["+Tp+"]",jv="data-mce-first-selected",Gv="td["+jv+"],th["+jv+"]",Th="data-mce-last-selected",Op="td["+Th+"],th["+Th+"]",$3=T0,Is={selected:Tp,selectedSelector:rx,firstSelected:jv,firstSelectedSelector:Gv,lastSelected:Th,lastSelectedSelector:Op},_2=function(u){return{element:u,mergable:U.none(),unmergable:U.none(),selection:[u]}},Gd=function(u,c,h){return{element:h,mergable:qc(c,u,Is),unmergable:sc(u),selection:si(u)}},qv=function(u,c,h){return{element:u,clipboard:c,generators:h}},k2=function(u,c,h,w){return{selection:si(u),clipboard:h,generators:w}},Kv=function(u){return Va(u).bind(function(c){return bo(c,Is.firstSelectedSelector)}).fold(de(u),function(c){return c[0]})},ax=function(u){return function(c,h){var w=Qr(c),k=w==="col"||w==="colgroup"?Kv(c):c;return Qa(k,u,h)}},Ka=ax("th,td,caption"),Di=ax("th,td"),Ki=function(u){return si(u)},ox=function(u,c){var h=Di(u),w=h.bind(function(k){return Va(k)}).map(function(k){return $u(k)});return as(h,w,function(k,R){return lt(R,function(F){return $(cs(F.dom.cells),function(q){return ks(q,c)==="1"||Zr(q,k)})})}).getOr([])},O0=function(u){return Va(u[0]).map(function(c){var h=$s(c,$3);return pu(h),[h]})},M3=function(u,c){return rt(c,function(h){return u.selection.serializer.serialize(h.dom,{})}).join("")},ix=function(u){return rt(u,function(c){return c.dom.innerText}).join("")},Bl=function(u,c,h){u.on("BeforeGetContent",function(w){var k=function(R){w.preventDefault(),O0(R).each(function(F){w.content=w.format==="text"?ix(F):M3(u,F)})};w.selection===!0&&g0(c.get(),X,k,X)}),u.on("BeforeSetContent",function(w){if(w.selection===!0&&w.paste===!0){var k=Ki(c);ot(k).each(function(R){Va(R).each(function(F){var q=lt(nx(w.content),function(zt){return Qr(zt)!=="meta"}),ie=Jo("table");if(q.length===1&&ie(q[0])){w.preventDefault();var be=Qt.fromDom(u.getDoc()),Pe=Ms(be),mt=qv(R,q[0],Pe);h.pasteCells(F,mt).each(function(){u.focus()})}})})}})},P3=zc.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Oh=It({},P3),D0=function(u,c){return u.length===0?Oh.none():u.length===1?Oh.only(0):c===0?Oh.left(0,1):c===u.length-1?Oh.right(c-1,c):c>0&&c<u.length-1?Oh.middle(c-1,c,c+1):Oh.none()},I3=function(u,c,h,w,k){var R=u.slice(0),F=D0(u,c),q=de(rt(R,de(0))),ie=function(zt){return w.singleColumnWidth(R[zt],h)},be=function(zt,At){return k.calcLeftEdgeDeltas(R,zt,At,h,w.minCellWidth(),w.isRelative)},Pe=function(zt,At,ht){return k.calcMiddleDeltas(R,zt,At,ht,h,w.minCellWidth(),w.isRelative)},mt=function(zt,At){return k.calcRightEdgeDeltas(R,zt,At,h,w.minCellWidth(),w.isRelative)};return F.fold(q,ie,be,Pe,mt)},ux=function(u,c,h){for(var w=0,k=u;k<c;k++)w+=h[k]!==void 0?h[k]:0;return w},A2=function(u,c){var h=vr.justCells(u);return rt(h,function(w){var k=ux(w.column,w.column+w.colspan,c);return{element:w.element,width:k,colspan:w.colspan}})},E2=function(u,c){var h=vr.justColumns(u);return rt(h,function(w,k){return{element:w.element,width:c[k],colspan:w.colspan}})},T2=function(u,c){var h=vr.justCells(u);return rt(h,function(w){var k=ux(w.row,w.row+w.rowspan,c);return{element:w.element,height:k,rowspan:w.rowspan}})},N3=function(u,c){return rt(u.all,function(h,w){return{element:h.element,height:c[w]}})},Xv=function(u){return Sn(u,function(c,h){return c+h},0)},Yv=function(u,c){return vr.hasColumns(u)?E2(u,c):A2(u,c)},ha=function(u,c,h){var w=Yv(u,c);at(w,function(k){h.setElementWidth(k.element,k.width)})},R0=function(u,c,h,w,k){var R=vr.fromTable(u),F=k.getCellDelta(c),q=k.getWidths(R,k),ie=h===R.grid.columns-1,be=w.clampTableDelta(q,h,F,k.minCellWidth(),ie),Pe=I3(q,h,be,k,w),mt=rt(Pe,function(zt,At){return zt+q[At]});ha(R,mt,k),w.resizeTable(k.adjustTableWidth,be,ie)},lc=function(u,c,h,w){var k=vr.fromTable(u),R=B3(k,u,w),F=rt(R,function(Pe,mt){return h===mt?Math.max(c+Pe,co()):Pe}),q=T2(k,F),ie=N3(k,F);at(ie,function(Pe){Fv(Pe.element,Pe.height)}),at(q,function(Pe){Fv(Pe.element,Pe.height)});var be=Xv(F);Fv(u,be)},sx=function(u,c,h,w,k){var R=vr.generate(c),F=w.getWidths(R,w),q=w.pixelWidth(),ie=k.calcRedestributedWidths(F,q,h.pixelDelta,w.isRelative),be=ie.newSizes,Pe=ie.delta;ha(R,be,w),w.adjustTableWidth(Pe)},cc=function(u,c,h,w){var k=vr.generate(c),R=w.getWidths(k,w);ha(k,R,w)},Kc=function(u){return rt(u,de(0))},Jv=function(u,c,h,w,k){return k(u.slice(0,c)).concat(w).concat(k(u.slice(h)))},B0=function(u){return function(c,h,w,k){if(u(w)){var R=Math.max(k,c[h]-Math.abs(w)),F=Math.abs(R-c[h]);return w>=0?F:-F}else return w}},Dp=B0(function(u){return u<0}),$0=B0(le),M0=function(){var u=function(q,ie,be,Pe,mt){var zt=Dp(q,ie,Pe,mt);return Jv(q,ie,be+1,[zt,0],Kc)},c=function(q,ie,be,Pe){var mt=(100+be)/100,zt=Math.max(Pe,(q[ie]+be)/mt);return rt(q,function(At,ht){var Xt=ht===ie?zt:At/mt;return Xt-At})},h=function(q,ie,be,Pe,mt,zt){return zt?c(q,ie,Pe,mt):u(q,ie,be,Pe,mt)},w=function(q,ie,be,Pe,mt,zt,At){return h(q,be,Pe,mt,zt,At)},k=function(q,ie){return q(ie)},R=function(q,ie,be,Pe,mt,zt){if(zt)return c(q,be,Pe,mt);var At=Dp(q,be,Pe,mt);return Kc(q.slice(0,be)).concat([At])},F=function(q,ie,be,Pe){if(Pe){var mt=ie+be,zt=mt/ie,At=rt(q,function(ht){return ht/zt});return{delta:zt*100-100,newSizes:At}}else return{delta:be,newSizes:q}};return{resizeTable:k,clampTableDelta:Dp,calcLeftEdgeDeltas:h,calcMiddleDeltas:w,calcRightEdgeDeltas:R,calcRedestributedWidths:F}},qd=function(){var u=function(F,q,ie,be,Pe){var mt=be>=0?ie:q,zt=$0(F,mt,be,Pe);return Jv(F,q,ie+1,[zt,-zt],Kc)},c=function(F,q,ie,be,Pe,mt){return u(F,ie,be,Pe,mt)},h=function(F,q,ie){ie&&F(q)},w=function(F,q,ie,be,Pe,mt){if(mt)return Kc(F);var zt=be/F.length;return rt(F,de(zt))},k=function(F,q,ie,be,Pe){if(Pe){if(ie>=0)return ie;var mt=te(F,function(zt,At){return zt+At-be},0);return Math.max(-mt,ie)}else return Dp(F,q,ie,be)},R=function(F,q,ie,be){return{delta:0,newSizes:F}};return{resizeTable:h,clampTableDelta:k,calcLeftEdgeDeltas:u,calcMiddleDeltas:c,calcRightEdgeDeltas:w,calcRedestributedWidths:R}},F3=function(u,c){var h=U.from(u.dom.documentElement).map(Qt.fromDom).getOr(u);return{parent:de(h),view:de(u),origin:de(wa(0,0)),isResizable:c}},P0=function(u,c,h){var w=function(){return Kf(c)};return{parent:de(c),view:de(u),origin:w,isResizable:h}},Dh=function(u,c,h){return{parent:de(c),view:de(u),origin:de(wa(0,0)),isResizable:h}},Rp={only:F3,detached:P0,body:Dh},Bp=zc.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),O2=function(u,c,h){var w=h.substring(0,h.length-u.length),k=parseFloat(w);return w===k.toString()?c(k):Bp.invalid(h)},Wo=function(u){return Ju(u,"%")?O2("%",Bp.percent,u):Ju(u,"px")?O2("px",Bp.pixels,u):Bp.invalid(u)},Kd=It(It({},Bp),{from:Wo}),Po=function(u,c){return rt(u,function(h){var w=Kd.from(h);return w.fold(function(){return h},function(k){var R=k/c*100;return R+"%"},function(k){return k+"%"})})},bu=function(u,c,h){var w=h/c;return rt(u,function(k){var R=Kd.from(k);return R.fold(function(){return k},function(F){return F*w+"px"},function(F){return F/100*h+"px"})})},Xd=function(u,c){var h=u.fold(function(){return de("")},function(w){var k=w/c;return de(k+"px")},function(){var w=100/c;return de(w+"%")});return xt(c,h)},Ns=function(u,c,h){return u.fold(function(){return c},function(w){return bu(c,h,w)},function(w){return Po(c,h)})},I0=function(u,c,h){var w=Kd.from(h),k=Ae(u,function(R){return R==="0px"})?Xd(w,u.length):Ns(w,u,c);return lx(k)},Xc=function(u,c){return u.length===0?c:Sn(u,function(h,w){return Kd.from(w).fold(de(0),$e,$e)+h},0)},Rh=function(u,c){var h=Math.floor(u);return{value:h+c,remainder:u-h}},Bh=function(u,c){return Kd.from(u).fold(de(u),function(h){return h+c+"px"},function(h){return h+c+"%"})},lx=function(u){if(u.length===0)return u;var c=Sn(u,function(w,k){var R=Kd.from(k).fold(function(){return{value:k,remainder:0}},function(F){return Rh(F,"px")},function(F){return{value:F+"%",remainder:0}});return{output:[R.value].concat(w.output),remainder:w.remainder+R.remainder}},{output:[],remainder:0}),h=c.output;return h.slice(0,h.length-1).concat([Bh(h[h.length-1],Math.round(c.remainder))])},cx=Kd.from,L3=function(u,c,h){at(c,function(w){var k=u.slice(w.column,w.colspan+w.column),R=Xc(k,Lf());lo(w.element,"width",R+h)})},z3=function(u,c,h){at(c,function(w,k){var R=Xc([u[k]],Lf());lo(w.element,"width",R+h)})},H3=function(u,c,h,w){at(h,function(k){var R=u.slice(k.row,k.rowspan+k.row),F=Xc(R,co());lo(k.element,"height",F+w)}),at(c,function(k,R){lo(k.element,"height",u[R])})},fx=function(u){return cx(u).fold(de("px"),de("px"),de("%"))},N0=function(u,c,h){var w=vr.fromTable(u),k=w.all,R=vr.justCells(w),F=vr.justColumns(w);c.each(function(q){var ie=fx(q),be=El(u),Pe=Ap(w,u),mt=I0(Pe,be,q);vr.hasColumns(w)?z3(mt,F,ie):L3(mt,R,ie),lo(u,"width",q)}),h.each(function(q){var ie=fx(q),be=gu(u),Pe=b2(w,u,l2),mt=I0(Pe,be,q);H3(mt,k,R,ie),lo(u,"height",q)})},F0=m2,Ri=R3,L0=no,D2=function(u){var c=vr.fromTable(u);return c.grid},rl=function(u){var c=[],h=function(R){if(R===void 0)throw new Error("Event bind error: undefined handler");c.push(R)},w=function(R){c=lt(c,function(F){return F!==R})},k=function(){for(var R=[],F=0;F<arguments.length;F++)R[F]=arguments[F];var q={};at(u,function(ie,be){q[ie]=R[be]}),at(c,function(ie){ie(q)})};return{bind:h,unbind:w,trigger:k}},za=function(u){var c=Bf(u,function(w){return{bind:w.bind,unbind:w.unbind}}),h=Bf(u,function(w){return w.trigger});return{registry:c,trigger:h}},Fs=function(u,c){var h=null,w=function(){D(h)||(clearTimeout(h),h=null)},k=function(){for(var R=[],F=0;F<arguments.length;F++)R[F]=arguments[F];w(),h=setTimeout(function(){h=null,u.apply(null,R)},c)};return{cancel:w,throttle:k}},Zv=function(u){return u.slice(0).sort()},R2=function(u,c){throw new Error("All required keys ("+Zv(u).join(", ")+") were not specified. Specified keys were: "+Zv(c).join(", ")+".")},z0=function(u){throw new Error("Unsupported keys for object: "+Zv(u).join(", "))},vx=function(u,c){if(!T(c))throw new Error("The "+u+" fields must be an array. Was: "+c+".");at(c,function(h){if(!S(h))throw new Error("The value "+h+" in the "+u+" fields was not a string.")})},lr=function(u,c){throw new Error("All values need to be of type: "+c+". Keys ("+Zv(u).join(", ")+") were not.")},$h=function(u){var c=Zv(u),h=Ue(c,function(w,k){return k<c.length-1&&w===c[k+1]});h.each(function(w){throw new Error("The field: "+w+" occurs more than once in the combined fields: ["+c.join(", ")+"].")})},H0=function(u,c){return B2(u,c,{validate:P,label:"function"})},B2=function(u,c,h){if(c.length===0)throw new Error("You must specify at least one required field.");return vx("required",c),$h(c),function(w){var k=cu(w),R=Ae(c,function(q){return ut(k,q)});R||R2(c,k),u(c,k);var F=lt(c,function(q){return!h.validate(w[q],q)});return F.length>0&&lr(F,h.label),w}},jo=function(u,c){var h=lt(c,function(w){return!ut(u,w)});h.length>0&&z0(h)},al=function(u){return H0(jo,u)},dx=al(["compare","extract","mutate","sink"]),Yd=al(["element","start","stop","destroy"]),Ma=al(["forceDrop","drop","move","delayDrop"]),Jd=function(){var u=U.none(),c=function(){u=U.none()},h=function(R,F){var q=u.map(function(ie){return R.compare(ie,F)});return u=U.some(F),q},w=function(R,F){var q=F.extract(R);q.each(function(ie){var be=h(F,ie);be.each(function(Pe){k.trigger.move(Pe)})})},k=za({move:rl(["info"])});return{onEvent:w,reset:c,events:k.registry}},V0=function(){var u=za({move:rl(["info"])});return{onEvent:X,reset:X,events:u.registry}},Mh=function(){var u=V0(),c=Jd(),h=u,w=function(){h.reset(),h=c},k=function(){h.reset(),h=u},R=function(q,ie){h.onEvent(q,ie)},F=function(){return h===c};return{on:w,off:k,isOn:F,onEvent:R,events:c.events}},$2=function(u,c,h){var w=!1,k=za({start:rl([]),stop:rl([])}),R=Mh(),F=function(){At.stop(),R.isOn()&&(R.off(),k.trigger.stop())},q=Fs(F,200),ie=function(Xt){At.start(Xt),R.on(),k.trigger.start()},be=function(Xt){q.cancel(),R.onEvent(Xt,c)};R.events.move.bind(function(Xt){c.mutate(u,Xt.info)});var Pe=function(){w=!0},mt=function(){w=!1},zt=function(Xt){return function(){for(var en=[],On=0;On<arguments.length;On++)en[On]=arguments[On];w&&Xt.apply(null,en)}},At=c.sink(Ma({forceDrop:F,drop:zt(F),move:zt(be),delayDrop:zt(q.throttle)}),h),ht=function(){At.destroy()};return{element:At.element,go:ie,on:Pe,off:mt,destroy:ht,events:k.registry}},mx=function(u,c,h,w,k,R,F){return{target:u,x:c,y:h,stop:w,prevent:k,kill:R,raw:F}},$p=function(u){var c=Qt.fromDom(s0(u).getOr(u.target)),h=function(){return u.stopPropagation()},w=function(){return u.preventDefault()},k=G(w,h);return mx(c,u.clientX,u.clientY,h,w,k,u)},hx=function(u,c){return function(h){u(h)&&c($p(h))}},ev=function(u,c,h,w,k){var R=hx(h,w);return u.dom.addEventListener(c,R,k),{unbind:Ee(M2,u,c,R,k)}},yu=function(u,c,h,w){return ev(u,c,h,w,!1)},M2=function(u,c,h,w){u.dom.removeEventListener(c,h,w)},V3=le,fc=function(u,c,h){return yu(u,c,V3,h)},tv=$p,U0=function(u,c){var h=ks(u,c);return h===void 0||h===""?[]:h.split(" ")},U3=function(u,c,h){var w=U0(u,c),k=w.concat([h]);return zo(u,c,k.join(" ")),!0},W3=function(u,c,h){var w=lt(U0(u,c),function(k){return k!==h});return w.length>0?zo(u,c,w.join(" ")):$a(u,c),!1},Zd=function(u){return u.dom.classList!==void 0},Qd=function(u){return U0(u,"class")},W0=function(u,c){return U3(u,"class",c)},Kr=function(u,c){return W3(u,"class",c)},Go=function(u,c){Zd(u)?u.dom.classList.add(c):W0(u,c)},wu=function(u){var c=Zd(u)?u.dom.classList:Qd(u);c.length===0&&$a(u,"class")},Fu=function(u,c){if(Zd(u)){var h=u.dom.classList;h.remove(c)}else Kr(u,c);wu(u)},_a=function(u,c){return Zd(u)&&u.dom.classList.contains(c)},Qv=function(u){var c=u.replace(/\./g,"-"),h=function(w){return c+"-"+w};return{resolve:h}},j0=Qv("ephox-dragster"),Qo=j0.resolve,Yc=function(u){var c=It({layerClass:Qo("blocker")},u),h=Qt.fromTag("div");zo(h,"role","presentation"),Nc(h,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Go(h,Qo("blocker")),Go(h,c.layerClass);var w=de(h),k=function(){Pu(h)};return{element:w,destroy:k}},j3=function(u,c){return wa(c.left-u.left,c.top-u.top)},G3=function(u){return U.some(wa(u.x,u.y))},G0=function(u,c){u.mutate(c.left,c.top)},q0=function(u,c){var h=Yc(c),w=fc(h.element(),"mousedown",u.forceDrop),k=fc(h.element(),"mouseup",u.drop),R=fc(h.element(),"mousemove",u.move),F=fc(h.element(),"mouseout",u.delayDrop),q=function(){h.destroy(),k.unbind(),R.unbind(),F.unbind(),w.unbind()},ie=function(Pe){to(Pe,h.element())},be=function(){Pu(h.element())};return Yd({element:h.element,start:ie,stop:be,destroy:q})},P2=dx({compare:j3,extract:G3,sink:q0,mutate:G0}),I2=function(u,c){c===void 0&&(c={});var h=c.mode!==void 0?c.mode:P2;return $2(u,h,c)},em=function(u){return Qa(u,"[contenteditable]")},Mp=function(u,c){return c===void 0&&(c=!1),!Yl().browser.isIE()&&Ql(u)?u.dom.isContentEditable:em(u).fold(de(c),function(h){return N2(h)==="true"})},N2=function(u){return u.dom.contentEditable},F2=Qv("ephox-snooker"),Ph=F2.resolve,Bi=function(){var u=za({drag:rl(["xDelta","yDelta"])}),c=function(h,w){u.trigger.drag(h,w)};return{mutate:c,events:u.registry}},fs=function(){var u=za({drag:rl(["xDelta","yDelta","target"])}),c=U.none(),h=Bi();h.events.drag.bind(function(R){c.each(function(F){u.trigger.drag(R.xDelta,R.yDelta,F)})});var w=function(R){c=U.some(R)},k=function(){return c};return{assign:w,get:k,mutate:h.mutate,events:u.registry}},Pp=function(u,c,h,w,k){var R=Qt.fromTag("div");return Nc(R,{position:"absolute",left:c-w/2+"px",top:h+"px",height:k+"px",width:w+"px"}),ko(R,{"data-column":u,role:"presentation"}),R},qo=function(u,c,h,w,k){var R=Qt.fromTag("div");return Nc(R,{position:"absolute",left:c+"px",top:h-k/2+"px",height:k+"px",width:w+"px"}),ko(R,{"data-row":u,role:"presentation"}),R},K0=Ph("resizer-bar"),nv=Ph("resizer-rows"),L2=Ph("resizer-cols"),z2=7,gx=function(u,c){return Te(u.all,function(h,w){return c(h.element)?[w]:[]})},H2=function(u,c){var h=[];return xt(u.grid.columns,function(w){var k=vr.getColumnAt(u,w).map(function(R){return R.element});k.forall(c)&&h.push(w)}),lt(h,function(w){var k=vr.filterItems(u,function(R){return R.column===w});return Ae(k,function(R){return c(R.element)})})},Ip=function(u){var c=ns(u.parent(),"."+K0);at(c,Pu)},X0=function(u,c,h){var w=u.origin();at(c,function(k){k.each(function(R){var F=h(w,R);Go(F,K0),to(u.parent(),F)})})},px=function(u,c,h,w){X0(u,c,function(k,R){var F=Pp(R.col,R.x-k.left,h.top-k.top,z2,w);return Go(F,L2),F})},q3=function(u,c,h,w){X0(u,c,function(k,R){var F=qo(R.row,h.left-k.left,R.y-k.top,w,z2);return Go(F,nv),F})},Xi=function(u,c,h,w,k){var R=Kf(h),F=c.isResizable,q=w.length>0?l2.positions(w,h):[],ie=q.length>0?gx(u,F):[],be=lt(q,function(At,ht){return $(ie,function(Xt){return ht===Xt})});q3(c,be,R,Gi(h));var Pe=k.length>0?wh.positions(k,h):[],mt=Pe.length>0?H2(u,F):[],zt=lt(Pe,function(At,ht){return $(mt,function(Xt){return ht===Xt})});px(c,zt,R,uc(h))},ei=function(u,c){if(Ip(u),u.isResizable(c)){var h=vr.fromTable(c),w=Nv(h),k=Fd(h);Xi(h,u,c,w,k)}},Cu=function(u,c){var h=ns(u.parent(),"."+K0);at(h,c)},Su=function(u){Cu(u,function(c){lo(c,"display","none")})},Lu=function(u){Cu(u,function(c){lo(c,"display","block")})},Io=function(u){return _a(u,nv)},Y0=function(u){return _a(u,L2)},J0=Ph("resizer-bar-dragging"),V2=function(u){var c=fs(),h=I2(c,{}),w=U.none(),k=function(ht,Xt){return U.from(ks(ht,Xt))};c.events.drag.bind(function(ht){k(ht.target,"data-row").each(function(Xt){var en=Ff(ht.target,"top");lo(ht.target,"top",en+ht.yDelta+"px")}),k(ht.target,"data-column").each(function(Xt){var en=Ff(ht.target,"left");lo(ht.target,"left",en+ht.xDelta+"px")})});var R=function(ht,Xt){var en=Ff(ht,Xt),On=Qs(ht,"data-initial-"+Xt,0);return en-On};h.events.stop.bind(function(){c.get().each(function(ht){w.each(function(Xt){k(ht,"data-row").each(function(en){var On=R(ht,"top");$a(ht,"data-initial-top"),At.trigger.adjustHeight(Xt,On,parseInt(en,10))}),k(ht,"data-column").each(function(en){var On=R(ht,"left");$a(ht,"data-initial-left"),At.trigger.adjustWidth(Xt,On,parseInt(en,10))}),ei(u,Xt)})})});var F=function(ht,Xt){At.trigger.startAdjust(),c.assign(ht),zo(ht,"data-initial-"+Xt,Ff(ht,Xt)),Go(ht,J0),lo(ht,"opacity","0.2"),h.go(u.parent())},q=fc(u.parent(),"mousedown",function(ht){Io(ht.target)&&F(ht.target,"top"),Y0(ht.target)&&F(ht.target,"left")}),ie=function(ht){return Zr(ht,u.view())},be=function(ht){return Qa(ht,"table",ie).filter(Mp)},Pe=fc(u.view(),"mouseover",function(ht){be(ht.target).fold(function(){Ql(ht.target)&&Ip(u)},function(Xt){w=U.some(Xt),ei(u,Xt)})}),mt=function(){q.unbind(),Pe.unbind(),h.destroy(),Ip(u)},zt=function(ht){ei(u,ht)},At=za({adjustHeight:rl(["table","delta","row"]),adjustWidth:rl(["table","delta","column"]),startAdjust:rl([])});return{destroy:mt,refresh:zt,on:h.on,off:h.off,hideBars:Ee(Su,u),showBars:Ee(Lu,u),events:At.registry}},tm=function(u,c,h){var w=l2,k=wh,R=V2(u),F=za({beforeResize:rl(["table","type"]),afterResize:rl(["table","type"]),startDrag:rl([])});return R.events.adjustHeight.bind(function(q){var ie=q.table;F.trigger.beforeResize(ie,"row");var be=w.delta(q.delta,ie);lc(ie,be,q.row,w),F.trigger.afterResize(ie,"row")}),R.events.startAdjust.bind(function(q){F.trigger.startDrag()}),R.events.adjustWidth.bind(function(q){var ie=q.table;F.trigger.beforeResize(ie,"col");var be=k.delta(q.delta,ie),Pe=h(ie);R0(ie,be,q.column,c,Pe),F.trigger.afterResize(ie,"col")}),{on:R.on,off:R.off,hideBars:R.hideBars,showBars:R.showBars,destroy:R.destroy,events:F.registry}},ed={create:tm},Z0=function(u,c){return u.fire("newrow",{node:c})},Q0=function(u,c){return u.fire("newcell",{node:c})},eb=function(u,c,h,w,k){u.fire("ObjectResizeStart",{target:c,width:h,height:w,origin:k})},Ih=function(u,c,h,w,k){u.fire("ObjectResized",{target:c,width:h,height:w,origin:k})},Nh=function(u,c,h,w,k){u.fire("TableSelectionChange",{cells:c,start:h,finish:w,otherCells:k})},bx=function(u){u.fire("TableSelectionClear")},Jc=function(u,c,h){u.fire("TableModified",It(It({},h),{table:c}))},nm={structure:!1,style:!0},Wa={structure:!0,style:!1},K3={structure:!0,style:!0},X3="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",tb={"border-collapse":"collapse",width:"100%"},Y3=xt(5,function(u){var c=u+1+"px";return{title:c,value:c}}),yx=rt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(u){return{title:u,value:u.toLowerCase()}}),Jt=function(u){var c;if(rv(u)){var h=u.dom,w=(c=h.getParent(u.selection.getStart(),h.isBlock))!==null&&c!==void 0?c:u.getBody(),k=qr(Qt.fromDom(w));return It(It({},tb),{width:k+"px"})}else return Fh(u)?Cl(tb,function(R,F){return F!=="width"}):tb},J3={border:"1"},Ko="preservetable",U2=function(u){return u.getParam("table_sizing_mode","auto")},rm=function(u){return u.getParam("table_responsive_width")},wx=function(u){return u.getParam("table_border_widths",Y3,"array")},nu=function(u){return u.getParam("table_border_styles",yx,"array")},Np=function(u){return u.getParam("table_default_attributes",J3,"object")},nb=function(u){return u.getParam("table_default_styles",Jt(u),"object")},Fp=function(u){return u.getParam("table_resize_bars",!0,"boolean")},vc=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},Lp=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},zp=function(u){return u.getParam("table_row_advtab",!0,"boolean")},xu=function(u){return u.getParam("table_advtab",!0,"boolean")},dc=function(u){return u.getParam("table_appearance_options",!0,"boolean")},Cx=function(u){return u.getParam("table_grid",!0,"boolean")},ru=function(u){return u.getParam("table_style_by_css",!1,"boolean")},Zc=function(u){return u.getParam("table_cell_class_list",[],"array")},td=function(u){return u.getParam("table_row_class_list",[],"array")},Hp=function(u){return u.getParam("table_class_list",[],"array")},dt=function(u){return U2(u)==="relative"||rm(u)===!0},rv=function(u){return U2(u)==="fixed"||rm(u)===!1},Fh=function(u){return U2(u)==="responsive"},Z3=function(u){return u.getParam("table_toolbar",X3)},rb=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},$l=function(u){var c="section",h=u.getParam("table_header_type",c,"string"),w=["section","cells","sectionCells","auto"];return ut(w,h)?h:c},ab=function(u){var c=["preservetable","resizetable"],h=u.getParam("table_column_resizing",Ko,"string");return Ue(c,function(w){return w===h}).getOr(Ko)},W2=function(u){return ab(u)==="preservetable"},j2=function(u){return ab(u)==="resizetable"},ob=function(u){var c=u.getParam("table_clone_elements");return S(c)?U.some(c.split(/[ ,]/)):Array.isArray(c)?U.some(c):U.none()},G2=function(u){var c=u.getParam("object_resizing",!0);return S(c)?c==="table":c},q2=function(u){return u.getParam("table_background_color_map",[],"array")},K2=function(u){return u.getParam("table_border_color_map",[],"array")},X2=function(u,c){return dt(u)?Jf.percentageSize(c):rv(u)?Jf.pixelSize(c):Jf.getTableSize(c)},am=function(u){$a(u,"width")},Sx=function(u){var c=_h(u);N0(u,U.some(c),U.none()),am(u)},Q3=function(u){var c=D3(u);N0(u,U.some(c),U.none()),am(u)},e4=function(u){ki(u,"width");var c=rc(u),h=c.length>0?c:Vf(u);at(h,function(w){ki(w,"width"),am(w)}),am(u)},Lh=Sx,zh=Q3,ib=e4,Y2=function(u){var c=vr.fromTable(u);vr.hasColumns(c)||at(Vf(u),function(h){var w=tc(h,"width");lo(h,"width",w),$a(h,"width")})},Hh=function(){var u=Qt.fromTag("div");return Nc(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),to(Ba(),u),u},J2=function(u,c){return u.inline?Rp.body(jc(u),Hh(),c):Rp.only(Qt.fromDom(u.getDoc()),c)},fo=function(u,c){u.inline&&Pu(c.parent())},Vp="bar-",yo=function(u){return ks(u,"data-mce-resize")!=="false"},ub=function(u){var c=U.none(),h=U.none(),w=U.none(),k,R,F=function(ht){return ht.nodeName==="TABLE"},q=function(){return h},ie=function(){return w.getOr(Rp.only(Qt.fromDom(u.getBody()),yo))},be=function(ht){return X2(u,ht)},Pe=function(){return W2(u)?qd():M0()},mt=function(ht){return D2(ht).columns},zt=function(ht,Xt,en){var On=Ju(Xt,"e");if(R===""&&Lh(ht),en!==k&&R!==""){lo(ht,"width",R);var Ur=Pe(),Tn=be(ht),Yn=W2(u)||On?mt(ht)-1:0;R0(ht,en-k,Yn,Ur,Tn)}else if(Wv(R)){var Sr=parseFloat(R.replace("%","")),br=en*Sr/k;lo(ht,"width",br+"%")}Eh(R)&&Y2(ht)},At=function(){h.each(function(ht){ht.destroy()}),w.each(function(ht){fo(u,ht)})};return u.on("init",function(){var ht=J2(u,yo);if(w=U.some(ht),G2(u)&&Fp(u)){var Xt=Pe(),en=ed.create(ht,Xt,be);en.on(),en.events.startDrag.bind(function(On){c=U.some(u.selection.getRng())}),en.events.beforeResize.bind(function(On){var Ur=On.table.dom;eb(u,Ur,Zf(Ur),Qf(Ur),Vp+On.type)}),en.events.afterResize.bind(function(On){var Ur=On.table,Tn=Ur.dom;pu(Ur),c.each(function(Yn){u.selection.setRng(Yn),u.focus()}),Ih(u,Tn,Zf(Tn),Qf(Tn),Vp+On.type),u.undoManager.add()}),h=U.some(en)}}),u.on("ObjectResizeStart",function(ht){var Xt=ht.target;if(F(Xt)){var en=Qt.fromDom(Xt);at(u.dom.select(".mce-clonedresizable"),function(On){u.dom.addClass(On,"mce-"+ab(u)+"-columns")}),!Ri(en)&&rv(u)?zh(en):!F0(en)&&dt(u)&&Lh(en),L0(en)&&Si(ht.origin,Vp)&&Lh(en),k=ht.width,R=Fh(u)?"":Gc(u,Xt).getOr("")}}),u.on("ObjectResized",function(ht){var Xt=ht.target;if(F(Xt)){var en=Qt.fromDom(Xt),On=ht.origin;Si(On,"corner-")&&zt(en,On,ht.width),pu(en),Jc(u,en.dom,nm)}}),u.on("SwitchMode",function(){q().each(function(ht){u.mode.isReadOnly()?ht.hideBars():ht.showBars()})}),{lazyResize:q,lazyWire:ie,destroy:At}},om=function(u,c){return{element:u,offset:c}},Z2=function(u,c,h){return u.property().isText(c)&&u.property().getText(c).trim().length===0||u.property().isComment(c)?h(c).bind(function(w){return Z2(u,w,h).orThunk(function(){return U.some(w)})}):U.none()},Up=function(u,c){if(u.property().isText(c))return u.property().getText(c).length;var h=u.property().children(c);return h.length},Q2=function(u,c){var h=Z2(u,c,u.query().prevSibling).getOr(c);if(u.property().isText(h))return om(h,Up(u,h));var w=u.property().children(h);return w.length>0?Q2(u,w[w.length-1]):om(h,Up(u,h))},xx=Q2,t4=bp(),_x=function(u){return xx(t4,u)},n4=function(u,c){var h=Ho(u,"colspan");if(h===1){var w=Sh(u);w.each(function(k){var R=k.value/2;xh(u,R,k.unit),xh(c,R,k.unit)})}},sb=Jo("th"),Wp=function(u){return Ae(u,function(c){return sb(c.element)})},r4=function(u,c){return u&&c?"sectionCells":u?"section":"cells"},kx=function(u){var c=u.section==="thead",h=ec(ew(u.cells),"th");return c||h?{type:"header",subType:r4(c,h)}:u.section==="tfoot"?{type:"footer"}:{type:"body"}},ew=function(u){var c=lt(u,function(h){return sb(h.element)});return c.length===0?U.some("td"):c.length===u.length?U.some("th"):U.none()},a4=function(u){var c=rt(u,function(R){return kx(R).type}),h=ut(c,"header"),w=ut(c,"footer");if(!h&&!w)return U.some("body");var k=ut(c,"body");return h&&!k&&!w?U.some("header"):!h&&!k&&w?U.some("footer"):U.none()},o4=function(u){return Ot(u.all,function(c){var h=kx(c);return h.type==="header"?U.from(h.subType):U.none()})},lb=function(u,c,h){return zi(h(u.element,c),!0,u.isLocked)},tw=function(u,c){return u.section!==c?Jl(u.element,u.cells,c,u.isNew):u},$i=function(){return{transformRow:tw,transformCell:function(u,c,h){var w=h(u.element,c),k=Qr(w)!=="td"?x3(w,"td"):w;return zi(k,u.isNew,u.isLocked)}}},Vh=function(){return{transformRow:tw,transformCell:lb}},Uh=function(){return{transformRow:function(u,c){var h=c==="thead"?"tbody":c;return tw(u,h)},transformCell:lb}},Ax=function(){return{transformRow:$e,transformCell:lb}},i4=function(u,c){var h=vr.fromTable(u),w=o4(h).getOr(c);switch(w){case"section":return $i();case"sectionCells":return Vh();case"cells":return Uh()}},jp={getTableSectionType:i4,section:$i,sectionCells:Vh,cells:Uh,fallback:Ax},Gp=function(u,c,h,w){h===w?$a(u,c):zo(u,c,h)},im=function(u,c,h){Wt(or(u,c)).fold(function(){return Ei(u,h)},function(w){return xa(w,h)})},cb=function(u,c){var h=Wn(u,c).getOrThunk(function(){var w=Qt.fromTag(c,Mf(u).dom);return c==="thead"?im(u,"caption,colgroup",w):c==="colgroup"?im(u,"caption",w):to(u,w),w});return gp(h),h},qp=function(u,c){var h=[],w=[],k=function(At){return rt(At,function(ht){ht.isNew&&h.push(ht.element);var Xt=ht.element;return gp(Xt),at(ht.cells,function(en){en.isNew&&w.push(en.element),Gp(en.element,"colspan",en.colspan,1),Gp(en.element,"rowspan",en.rowspan,1),to(Xt,en.element)}),Xt})},R=function(At){return Te(At,function(ht){return rt(ht.cells,function(Xt){return Gp(Xt.element,"span",Xt.colspan,1),Xt.element})})},F=function(At,ht){var Xt=cb(u,ht),en=ht==="colgroup"?R:k,On=en(At);ac(Xt,On)},q=function(At){Wn(u,At).each(Pu)},ie=function(At,ht){At.length>0?F(At,ht):q(ht)},be=[],Pe=[],mt=[],zt=[];return at(c,function(At){switch(At.section){case"thead":be.push(At);break;case"tbody":Pe.push(At);break;case"tfoot":mt.push(At);break;case"colgroup":zt.push(At);break}}),ie(zt,"colgroup"),ie(be,"thead"),ie(Pe,"tbody"),ie(mt,"tfoot"),{newRows:h,newCells:w}},nw=function(u){return rt(u,function(c){var h=Al(c.element);return at(c.cells,function(w){var k=ia(w.element);Gp(k,"colspan",w.colspan,1),Gp(k,"rowspan",w.rowspan,1),to(h,k)}),h})},u4=function(u,c){return rt(u,function(h){return mu(h,c)})},Qc=function(u,c){return u[c]},fb=function(u,c){if(u.length===0)return 0;var h=u[0],w=gt(u,function(k){return!c(h.element,k.element)});return w.getOr(u.length)},s4=function(u,c,h,w){var k=Qc(u,c),R=k.section==="colgroup",F=fb(k.cells.slice(h),w),q=R?1:fb(u4(u.slice(c),h),w);return{colspan:F,rowspan:q}},nd=function(u,c){var h=rt(u,function(k){return rt(k.cells,Xe)}),w=function(k,R,F,q){for(var ie=k;ie<k+F;ie++)for(var be=R;be<R+q;be++)h[ie][be]=!0};return rt(u,function(k,R){var F=Te(k.cells,function(q,ie){if(h[R][ie]===!1){var be=s4(u,R,ie,c);return w(R,ie,be.rowspan,be.colspan),[hr(q.element,be.rowspan,be.colspan,q.isNew)]}else return[]});return Mc(k.element,F,k.section,k.isNew)})},rd=function(u,c,h){var w=[];at(u.colgroups,function(Pe){for(var mt=[],zt=0;zt<u.grid.columns;zt++){var At=vr.getColumnAt(u,zt).map(function(ht){return zi(ht.element,h,!1)}).getOrThunk(function(){return zi(c.colGap(),!0,!1)});mt.push(At)}w.push(Jl(Pe.element,mt,"colgroup",h))});for(var k=0;k<u.grid.rows;k++){for(var R=[],F=0;F<u.grid.columns;F++){var q=vr.getAt(u,k,F).map(function(Pe){return zi(Pe.element,h,Pe.isLocked)}).getOrThunk(function(){return zi(c.gap(),!0,!1)});R.push(q)}var ie=u.all[k],be=Jl(ie.element,R,ie.section,h);w.push(be)}return w},l4=function(u,c){return rd(u,c,!1)},vb=function(u){return nd(u,Zr)},db=function(u,c){return Ot(u.all,function(h){return Ue(h.cells,function(w){return Zr(c,w.element)})})},mb=function(u,c,h){var w=rt(c.selection,function(R){return nc(R).bind(function(F){return db(u,F)}).filter(h)}),k=$o(w);return ba(k.length>0,k)},li=function(u,c,h,w,k){return function(R,F,q,ie,be){var Pe=vr.fromTable(F),mt=U.from(be==null?void 0:be.section).getOrThunk(jp.fallback),zt=c(Pe,q).map(function(At){var ht=l4(Pe,ie),Xt=u(ht,At,Zr,k(ie),mt),en=Ai(Xt.grid),On=vb(Xt.grid);return{info:At,grid:On,cursor:Xt.cursor,lockedColumns:en}});return zt.bind(function(At){var ht=qp(F,At.grid),Xt=U.from(be==null?void 0:be.sizing).getOrThunk(function(){return Jf.getTableSize(F)}),en=U.from(be==null?void 0:be.resize).getOrThunk(qd);return h(F,At.grid,At.info,{sizing:Xt,resize:en,section:mt}),w(F),ei(R,F),$a(F,Ao),At.lockedColumns.length>0&&zo(F,Ao,At.lockedColumns.join(",")),U.some({cursor:At.cursor,newRows:ht.newRows,newCells:ht.newCells})})}},Ex=function(u,c){return nc(c.element).bind(function(h){return db(u,h).map(function(w){var k=It(It({},w),{generators:c.generators,clipboard:c.clipboard});return k})})},rw=function(u,c){return mb(u,c,le).map(function(h){return{cells:h,generators:c.generators,clipboard:c.clipboard}})},Tx=function(u,c){return c.mergable},Ox=function(u,c){return c.unmergable},mc=function(u,c){return mb(u,c,le)},av=function(u,c){return mb(u,c,function(h){return!h.isLocked})},Dx=function(u,c){return db(u,c).exists(function(h){return!h.isLocked})},Rx=function(u,c){return Ae(c,function(h){return Dx(u,h)})},aw=function(u,c){return Tx(u,c).filter(function(h){return Rx(u,h.cells)})},hb=function(u,c){return Ox(u,c).filter(function(h){return Rx(u,h)})},Bx=function(u,c,h,w){var k=po(u).rows;if(k.length===0)return u;for(var R=c.startRow;R<=c.finishRow;R++)for(var F=c.startCol;F<=c.finishCol;F++){var q=k[R],ie=mu(q,F).isLocked;Fc(q,F,zi(w(),!1,ie))}return u},Wh=function(u,c,h,w){for(var k=po(u).rows,R=!0,F=0;F<k.length;F++)for(var q=0;q<Es(k[0]);q++){var ie=k[F],be=mu(ie,q),Pe=be.element,mt=h(Pe,c);mt===!0&&R===!1?Fc(ie,q,zi(w(),!0,be.isLocked)):mt===!0&&(R=!1)}return u},c4=function(u,c){return te(u,function(h,w){return $(h,function(k){return c(k.element,w.element)})?h:h.concat([w])},[])},Kp=function(u,c,h,w){return c>0&&c<u[0].cells.length&&at(u,function(k){var R=k.cells[c-1],F=k.cells[c],q=h(F.element,R.element);q&&Fc(k,c,zi(w(),!0,F.isLocked))}),u},f4=function(u,c,h,w){var k=po(u).rows;if(c>0&&c<k.length){var R=k[c-1].cells,F=c4(R,h);at(F,function(q){for(var ie=U.none(),be=c;be<k.length;be++)for(var Pe=function(zt){var At=k[be],ht=mu(At,zt),Xt=h(ht.element,q.element);Xt&&(ie.isNone()&&(ie=U.some(w())),ie.each(function(en){Fc(At,zt,zi(en,!0,ht.isLocked))}))},mt=0;mt<Es(k[0]);mt++)Pe(mt)})}return u},jh=function(u){var c=function(mt){return jh(u)},h=function(mt){return jh(u)},w=function(mt){return jh(mt(u))},k=function(mt){return jh(u)},R=function(mt){mt(u)},F=function(mt){return mt(u)},q=function(mt,zt){return zt(u)},ie=function(mt){return mt(u)},be=function(mt){return mt(u)},Pe=function(){return U.some(u)};return{isValue:le,isError:Xe,getOr:de(u),getOrThunk:de(u),getOrDie:de(u),or:c,orThunk:h,fold:q,map:w,mapError:k,each:R,bind:F,exists:ie,forall:be,toOptional:Pe}},um=function(u){var c=function(be){return be()},h=function(){return ke(String(u))()},w=$e,k=function(be){return be()},R=function(be){return um(u)},F=function(be){return um(be(u))},q=function(be){return um(u)},ie=function(be,Pe){return be(u)};return{isValue:Xe,isError:le,getOr:$e,getOrThunk:c,getOrDie:h,or:w,orThunk:k,fold:ie,map:R,mapError:F,each:X,bind:q,exists:Xe,forall:le,toOptional:U.none}},ow=function(u,c){return u.fold(function(){return um(c)},jh)},$x={value:jh,error:um,fromOption:ow},v4=function(u,c,h){if(u.row>=c.length||u.column>Es(c[0]))return $x.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var w=c.slice(u.row),k=w[0].cells.slice(u.column),R=Es(h[0]),F=h.length;return $x.value({rowDelta:w.length-F,colDelta:k.length-R})},Mx=function(u,c){var h=Es(u[0]),w=Es(c[0]);return{rowDelta:0,colDelta:h-w}},Px=function(u,c){var h=u.length,w=c.length;return{rowDelta:h-w,colDelta:0}},iw=function(u,c,h,w){var k=c.section==="colgroup"?h.col:h.cell;return xt(u,function(R){return zi(k(),!0,w(R))})},d4=function(u,c,h,w){var k=u[u.length-1];return u.concat(xt(c,function(){var R=k.section==="colgroup"?h.colgroup:h.row,F=Vo(k,R,$e),q=iw(F.cells.length,F,h,function(ie){return oe(w,ie.toString())});return qn(F,q)}))},gb=function(u,c,h,w){return rt(u,function(k){var R=iw(c,k,h,Xe);return Uf(k,w,R)})},m4=function(u,c,h){return rt(u,function(w){return te(h,function(k,R){var F=iw(1,w,c,le)[0];return Wf(k,R,F)},w)})},Xp=function(u,c,h){var w=c.colDelta<0?gb:$e,k=c.rowDelta<0?d4:$e,R=Ai(u),F=Es(u[0]),q=$(R,function(Pe){return Pe===F-1}),ie=w(u,Math.abs(c.colDelta),h,q?F-1:F),be=Ai(ie);return k(ie,Math.abs(c.rowDelta),h,Qe(be,le))},h4=function(u,c,h,w){var k=mu(u[c],h),R=Ee(w,k.element),F=u[c];return u.length>1&&Es(F)>1&&(h>0&&R(Wi(F,h-1))||h<F.cells.length-1&&R(Wi(F,h+1))||c>0&&R(Wi(u[c-1],h))||c<u.length-1&&R(Wi(u[c+1],h)))},g4=function(u,c,h,w,k,R){for(var F=u.row,q=u.column,ie=h.length,be=Es(h[0]),Pe=F+ie,mt=q+be+R.length,zt=Qe(R,le),At=F;At<Pe;At++)for(var ht=0,Xt=q;Xt<mt;Xt++){if(zt[Xt]){ht++;continue}h4(c,At,Xt,k)&&Wh(c,Wi(c[At],Xt),k,w.cell);var en=Xt-q-ht,On=mu(h[At-F],en),Ur=On.element,Tn=w.replace(Ur);Fc(c[At],Xt,zi(Tn,!0,On.isLocked))}return c},p4=function(u,c,h){var w=Es(c[0]),k=po(c).cols.length+u.row,R=xt(w-u.column,function(q){return q+u.column}),F=Ue(R,function(q){return Ae(h,function(ie){return ie!==q})}).getOr(w-1);return{row:k,column:F}},pb=function(u,c,h){return lt(h,function(w){return w>=u.column&&w<=Es(c[0])+u.column})},b4=function(u,c,h,w,k){var R=Ai(c),F=p4(u,c,R),q=po(h).rows,ie=pb(F,q,R),be=v4(F,c,q);return be.map(function(Pe){var mt=It(It({},Pe),{colDelta:Pe.colDelta-ie.length}),zt=Xp(c,mt,w),At=Ai(zt),ht=pb(F,q,At);return g4(F,zt,q,w,k,ht)})},Gh=function(u,c,h,w,k){Kp(c,u,k,w.cell);var R=Px(h,c),F=Xp(h,R,w),q=Px(c,F),ie=Xp(c,q,w);return rt(ie,function(be,Pe){return Uf(be,u,F[Pe].cells)})},Ix=function(u,c,h,w,k){f4(c,u,k,w.cell);var R=Ai(c),F=Mx(c,h),q=It(It({},F),{colDelta:F.colDelta-R.length}),ie=Xp(c,q,w),be=po(ie),Pe=be.cols,mt=be.rows,zt=Ai(ie),At=Mx(h,c),ht=It(It({},At),{colDelta:At.colDelta+zt.length}),Xt=m4(h,w,zt),en=Xp(Xt,ht,w);return Pe.concat(mt.slice(0,u)).concat(en).concat(mt.slice(u,mt.length))},y4=function(u,c,h,w){return Vo(u,function(k){return w(k,h)},c)},uw=function(u,c,h,w,k){var R=po(u),F=R.rows,q=R.cols,ie=F.slice(0,c),be=F.slice(c),Pe=y4(F[h],function(mt,zt){var At=c>0&&c<F.length&&w(Wi(F[c-1],zt),Wi(F[c],zt)),ht=At?mu(F[c],zt):zi(k(mt.element,w),!0,mt.isLocked);return ht},w,k);return q.concat(ie).concat([Pe]).concat(be)},Nx=function(u,c,h,w,k,R,F){if(h==="colgroup"||!w){var q=mu(u,k);return zi(F(q.element,R),!0,!1)}else return mu(u,c)},sw=function(u,c,h,w,k){return rt(u,function(R){var F=c>0&&c<Es(R)&&w(Wi(R,c-1),Wi(R,c)),q=Nx(R,c,R.section,F,h,w,k);return Wf(R,c,q)})},Fx=function(u,c){return Te(u,function(h){var w=h.cells,k=Sn(c,function(R,F){return F>=0&&F<R.length?R.slice(0,F).concat(R.slice(F+1)):R},w);return k.length>0?[Jl(h.element,k,h.section,h.isNew)]:[]})},Lx=function(u,c,h){var w=po(u),k=w.rows,R=w.cols;return R.concat(k.slice(0,c)).concat(k.slice(h+1))},qh=function(u,c,h,w){return Wi(u[c],h)!==void 0&&c>0&&w(Wi(u[c-1],h),Wi(u[c],h))},lw=function(u,c,h){return c>0&&h(Wi(u,c-1),Wi(u,c))},cw=function(u,c,h,w){return qh(u,c,h,w)||lw(u[c],h,w)},w4=function(u,c){var h=Ae(c,$e)&&Wp(u.cells);return h?le:function(w,k,R){var F=Qr(w.element);return!(F==="th"&&c[R])}},C4=function(u,c){var h=Ae(c,$e)&&Wp(u);return h?le:function(w,k,R){var F=Qr(w.element);return!(F==="th"&&c[k])}},fw=function(u,c,h,w){var k=function(q){return q==="row"?d0(c):Pd(c)},R=function(q){return k(q)?q+"group":q};if(u)return sb(c)?R(h):null;if(w&&sb(c)){var F=h==="row"?"col":"row";return R(F)}else return null},S4=function(u,c){return function(h,w,k){return U.some(fw(u,h.element,"col",c[k]))}},zx=function(u,c){return function(h,w){return U.some(fw(u,h.element,"row",c[w]))}},ad=function(u,c,h){return zi(h(u.element,c),!0,u.isLocked)},Kh=function(u,c,h,w,k,R,F){var q=function(ie){return $(c,function(be){return h(ie.element,be.element)})};return rt(u,function(ie,be){return As(ie,function(Pe,mt){if(q(Pe)){var zt=F(Pe,be,mt)?k(Pe,h,w):Pe;return R(zt,be,mt).each(function(At){If(zt.element,{scope:U.from(At)})}),zt}else return Pe})})},Hx=function(u,c,h){return Te(u,function(w,k){return cw(u,k,c,h)?[]:[mu(w,c)]})},x4=function(u,c,h){var w=u[c];return Te(w.cells,function(k,R){return cw(u,c,R,h)?[]:[k]})},Vx=function(u,c,h,w,k){var R=po(u).rows,F=Te(c,function(Pe){return Hx(R,Pe,w)}),q=rt(u,function(Pe){return Wp(Pe.cells)}),ie=C4(F,q),be=zx(h,q);return Kh(u,F,w,k,ad,be,ie)},_4=function(u,c,h,w,k,R,F){var q=po(u),ie=q.cols,be=q.rows,Pe=be[c[0]],mt=Te(c,function(On){return x4(be,On,k)}),zt=rt(Pe.cells,function(On,Ur){return Wp(Hx(be,Ur,k))}),At=nn([],be,!0);at(c,function(On){At[On]=F.transformRow(be[On],h)});var ht=ie.concat(At),Xt=w4(Pe,zt),en=S4(w,zt);return Kh(ht,mt,k,R,F.transformCell,en,Xt)},vw=function(u,c,h,w){var k=po(u).rows,R=rt(c,function(F){return mu(k[F.row],F.column)});return Kh(u,R,h,w,ad,U.none,le)},Xh=function(u){var c=function(h,w){var k=$(h,function(R){return R.column===w.column});return k?h:h.concat([w])};return te(u,c,[]).sort(function(h,w){return h.column-w.column})},au=Jo("col"),dw=Jo("colgroup"),Yh=function(u){return Qr(u)==="tr"||dw(u)},sm=function(u){var c=Qs(u,"colspan",1),h=Qs(u,"rowspan",1);return{element:u,colspan:c,rowspan:h}},bb=function(u,c){c===void 0&&(c=sm);var h=function(q){return au(q.element)?u.col(q):u.cell(q)},w=function(q){return dw(q.element)?u.colgroup(q):u.row(q)},k=function(q){if(Yh(q))return w({element:q});var ie=h(c(q));return R=U.some({item:q,replacement:ie}),ie},R=U.none(),F=function(q,ie){return R.fold(function(){return k(q)},function(be){return ie(q,be.item)?be.replacement:k(q)})};return{getOrInit:F}},k4=function(u){return function(c){var h=[],w=function(F,q){return Ue(h,function(ie){return q(ie.item,F)})},k=function(F){var q=u==="td"?{scope:null}:{},ie=c.replace(F,u,q);return h.push({item:F,sub:ie}),ie},R=function(F,q){return Yh(F)||au(F)?F:w(F,q).fold(function(){return k(F)},function(ie){return q(F,ie.item)?ie.sub:k(F)})};return{replaceOrInit:R}}},Ux=function(u){return Gr(u,"scope").map(function(c){return c.substr(0,3)})},mw=function(u){var c=function(w){var k=Ux(w);return k.each(function(R){return zo(w,"scope",R)}),function(){var R=u.cell({element:w,colspan:1,rowspan:1});return ki(R,"width"),ki(w,"width"),k.each(function(F){return zo(R,"scope",F)}),R}},h=function(w){var k=function(){var R=$o(rt(w,Ux));if(R.length===0)return U.none();var F=R[0],q=["row","col"],ie=$(R,function(be){return be!==F&&ut(q,be)});return ie?U.none():U.from(F)};return ki(w[0],"width"),k().fold(function(){return $a(w[0],"scope")},function(R){return zo(w[0],"scope",R+"group")}),de(w[0])};return{unmerge:c,merge:h}},zu={modification:bb,transform:k4,merging:mw},Yp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],A4=function(u,c){var h=u.property().name(c);return ut(["ol","ul"],h)},lm=function(u,c){var h=u.property().name(c);return ut(Yp,h)},od=function(u,c){return ut(["br","img","hr","input"],u.property().name(c))},Jh=bp(),id=function(u){return lm(Jh,u)},hc=function(u){return A4(Jh,u)},gc=function(u){return od(Jh,u)},yb=function(u){var c=function(ie){return Qr(ie)==="br"},h=function(ie){return Ae(ie,function(be){return c(be)||Js(be)&&h0(be).trim().length===0})},w=function(ie){return Qr(ie)==="li"||Ga(ie,hc).isSome()},k=function(ie){return je(ie).map(function(be){return id(be)?!0:gc(be)?Qr(be)!=="img":!1}).getOr(!1)},R=function(ie){return E0(ie).bind(function(be){var Pe=k(be);return xo(be).map(function(mt){return Pe===!0||w(mt)||c(be)||id(mt)&&!Zr(ie,mt)?[]:[Qt.fromTag("br")]})}).getOr([])},F=function(){var ie=Te(u,function(be){var Pe=oi(be);return h(Pe)?[]:Pe.concat(R(be))});return ie.length===0?[Qt.fromTag("br")]:ie},q=F();gp(u[0]),ac(u[0],q)},wb=function(u){return Mp(u,!0)},hw=function(u){var c=Vf(u);c.length===0&&Pu(u)},Zh=function(u,c){return{grid:u,cursor:c}},Qh=function(u){return Ot(u,function(c){return Ot(c.cells,function(h){var w=h.element;return ba(wb(w),w)})})},eg=function(u,c,h){var w,k,R=po(u).rows;return U.from((k=(w=R[c])===null||w===void 0?void 0:w.cells[h])===null||k===void 0?void 0:k.element).filter(wb).orThunk(function(){return Qh(R)})},Yi=function(u,c,h){var w=eg(u,c,h);return Zh(u,w)},tg=function(u){var c=function(h,w){var k=$(h,function(R){return R.row===w.row});return k?h:h.concat([w])};return te(u,c,[]).sort(function(h,w){return h.row-w.row})},ng=function(u,c,h,w){var k=c[0].row,R=tg(c),F=Sn(R,function(q,ie){var be=uw(q.grid,k,ie.row+q.delta,h,w.getOrInit);return{grid:be,delta:q.delta+1}},{grid:u,delta:0}).grid;return Yi(F,k,c[0].column)},Cb=function(u,c,h,w){var k=tg(c),R=k[k.length-1],F=R.row+R.rowspan,q=Sn(k,function(ie,be){return uw(ie,F,be.row,h,w.getOrInit)},u);return Yi(q,F,c[0].column)},E4=function(u,c,h,w){var k=c.details,R=Xh(k),F=R[0].column,q=Sn(R,function(ie,be){var Pe=sw(ie.grid,F,be.column+ie.delta,h,w.getOrInit);return{grid:Pe,delta:ie.delta+1}},{grid:u,delta:0}).grid;return Yi(q,k[0].row,F)},gw=function(u,c,h,w){var k=c.details,R=k[k.length-1],F=R.column+R.colspan,q=Xh(k),ie=Sn(q,function(be,Pe){return sw(be,F,Pe.column,h,w.getOrInit)},u);return Yi(ie,k[0].row,F)},Sb=function(u,c,h,w){var k=Xh(c),R=rt(k,function(q){return q.column}),F=Vx(u,R,!0,h,w.replaceOrInit);return Yi(F,c[0].row,c[0].column)},Mi=function(u,c,h,w){var k=vw(u,c,h,w.replaceOrInit);return Yi(k,c[0].row,c[0].column)},T4=function(u,c,h,w){var k=Xh(c),R=rt(k,function(q){return q.column}),F=Vx(u,R,!1,h,w.replaceOrInit);return Yi(F,c[0].row,c[0].column)},ef=function(u,c,h,w){var k=vw(u,c,h,w.replaceOrInit);return Yi(k,c[0].row,c[0].column)},xb=function(u,c){return function(h,w,k,R,F){var q=tg(w),ie=rt(q,function(Pe){return Pe.row}),be=_4(h,ie,u,c,k,R.replaceOrInit,F);return Yi(be,w[0].row,w[0].column)}},pw=xb("thead",!0),rg=xb("tbody",!1),bw=xb("tfoot",!1),Jp=function(u,c,h,w){var k=Xh(c.details),R=Fx(u,rt(k,function(q){return q.column})),F=R.length>0?R[0].cells.length-1:0;return Yi(R,k[0].row,Math.min(k[0].column,F))},O4=function(u,c,h,w){var k=tg(c),R=Lx(u,k[0].row,k[k.length-1].row),F=R.length>0?R.length-1:0;return Yi(R,Math.min(c[0].row,F),c[0].column)},Wx=function(u,c,h,w){var k=c.cells;yb(k);var R=Bx(u,c.bounds,h,w.merge(k));return Zh(R,U.from(k[0]))},jx=function(u,c,h,w){var k=function(F,q){return Wh(F,q,h,w.unmerge(q))},R=Sn(c,k,u);return Zh(R,U.from(c[0]))},D4=function(u,c,h,w){var k=function(ie,be){var Pe=vr.fromTable(ie);return rd(Pe,be,!0)},R=k(c.clipboard,c.generators),F=na(c.row,c.column),q=b4(F,u,R,c.generators,h);return q.fold(function(){return Zh(u,U.some(c.element))},function(ie){return Yi(ie,c.row,c.column)})},ag=function(u,c,h){var w=mp(u,h.section),k=vr.generate(w);return rd(k,c,!0)},vo=function(u,c,h,w){var k=po(u).rows,R=c.cells[0].column,F=k[c.cells[0].row],q=ag(c.clipboard,c.generators,F),ie=Gh(R,u,q,c.generators,h);return Yi(ie,c.cells[0].row,c.cells[0].column)},_b=function(u,c,h,w){var k=po(u).rows,R=c.cells[c.cells.length-1].column+c.cells[c.cells.length-1].colspan,F=k[c.cells[0].row],q=ag(c.clipboard,c.generators,F),ie=Gh(R,u,q,c.generators,h);return Yi(ie,c.cells[0].row,c.cells[0].column)},kb=function(u,c,h,w){var k=po(u).rows,R=c.cells[0].row,F=k[R],q=ag(c.clipboard,c.generators,F),ie=Ix(R,u,q,c.generators,h);return Yi(ie,c.cells[0].row,c.cells[0].column)},yw=function(u,c,h,w){var k=po(u).rows,R=c.cells[c.cells.length-1].row+c.cells[c.cells.length-1].rowspan,F=k[c.cells[0].row],q=ag(c.clipboard,c.generators,F),ie=Ix(R,u,q,c.generators,h);return Yi(ie,c.cells[0].row,c.cells[0].column)},Gx=function(u,c){var h=vr.fromTable(u),w=mc(h,c);return w.bind(function(k){var R=k[k.length-1],F=k[0].column,q=R.column+R.colspan,ie=Gn(rt(h.all,function(be){return lt(be.cells,function(Pe){return Pe.column>=F&&Pe.column<q})}));return ew(ie)}).getOr("")},ww=function(u,c){var h=vr.fromTable(u),w=mc(h,c);return w.bind(ew).getOr("")},cm=function(u,c){var h=vr.fromTable(u),w=mc(h,c);return w.bind(function(k){var R=k[k.length-1],F=k[0].row,q=R.row+R.rowspan,ie=h.all.slice(F,q);return a4(ie)}).getOr("")},Ab=function(u,c,h,w){return cc(u,c,h,w.sizing)},Hu=function(u,c,h,w){return sx(u,c,h,w.sizing,w.resize)},pc=function(u,c){return $(c,function(h){return h.column===0&&h.isLocked})},Eb=function(u,c){return $(c,function(h){return h.column+h.colspan>=u.grid.columns&&h.isLocked})},ov=function(u,c){var h=Fd(u),w=Xh(c);return te(w,function(k,R){var F=h[R.column],q=F.map(Gi).getOr(0);return k+q},0)},Ml=function(u){return function(c,h){return mc(c,h).filter(function(w){var k=u?pc:Eb;return!k(c,w)}).map(function(w){return{details:w,pixelDelta:ov(c,w)}})}},bc=function(u,c){return av(u,c).map(function(h){return{details:h,pixelDelta:-ov(u,h)}})},ou=function(u){return function(c,h){return rw(c,h).filter(function(w){var k=u?pc:Eb;return!k(c,w.cells)})}},ol=zu.transform("th"),og=zu.transform("td"),tf=li(ng,mc,X,X,zu.modification),fm=li(Cb,mc,X,X,zu.modification),qx=li(E4,Ml(!0),Hu,X,zu.modification),Kx=li(gw,Ml(!1),Hu,X,zu.modification),R4=li(Jp,bc,Hu,hw,zu.modification),B4=li(O4,mc,X,hw,zu.modification),Xx=li(Sb,av,X,X,ol),Yx=li(T4,av,X,X,og),Jx=li(pw,av,X,X,ol),$4=li(rg,av,X,X,og),Zx=li(bw,av,X,X,og),M4=li(Mi,av,X,X,ol),Qx=li(ef,av,X,X,og),e_=li(Wx,aw,Ab,X,zu.merging),Cw=li(jx,hb,Ab,X,zu.merging),t_=li(D4,Ex,Ab,X,zu.modification),P4=li(vo,ou(!0),X,X,zu.modification),Tr=li(_b,ou(!1),X,X,zu.modification),vm=li(kb,rw,X,X,zu.modification),ig=li(yw,rw,X,X,zu.modification),Sw=Gx,I4=ww,Vu=cm,N4=function(u,c,h){var w=function(di){return Qr(jc(di))==="table"},k=function(di){return w(u)===!1||D2(di).rows>1},R=function(di){return w(u)===!1||D2(di).columns>1},F=ob(u),q=j2(u)?X:n4,ie=function(di){switch($l(u)){case"section":return jp.section();case"sectionCells":return jp.sectionCells();case"cells":return jp.cells();default:return jp.getTableSectionType(di,"section")}},be=function(di,y1){return y1.cursor.fold(function(){var vv=Vf(di);return ot(vv).filter(Ql).map(function(wc){c.clear(di);var Hs=u.dom.createRng();return Hs.selectNode(wc.dom),u.selection.setRng(Hs),zo(wc,"data-mce-selected","1"),Hs})},function(vv){var wc=_x(vv),Hs=u.dom.createRng();return Hs.setStart(wc.element.dom,wc.offset),Hs.setEnd(wc.element.dom,wc.offset),u.selection.setRng(Hs),c.clear(di),U.some(Hs)})},Pe=function(di,y1,vv,wc,Hs){return function(vf,my,Eg){Eg===void 0&&(Eg=!1),pu(vf);var Tg=wc(),Og=Qt.fromDom(u.getDoc()),Cc=nr(vv,Og,F),Dg={sizing:X2(u,vf),resize:j2(u)?M0():qd(),section:ie(vf)};return y1(vf)?di(Tg,vf,my,Cc,Dg).bind(function(Rg){at(Rg.newRows,function(Bg){Z0(u,Bg.dom)}),at(Rg.newCells,function(Bg){Q0(u,Bg.dom)});var kC=be(vf,Rg);return Ql(vf)&&(pu(vf),Eg||Jc(u,vf.dom,Hs)),kC.map(function(Bg){return{rng:Bg,effect:Hs}})}):U.none()}},mt=Pe(B4,k,X,h,Wa),zt=Pe(R4,R,X,h,Wa),At=Pe(tf,le,X,h,Wa),ht=Pe(fm,le,X,h,Wa),Xt=Pe(qx,le,q,h,Wa),en=Pe(Kx,le,q,h,Wa),On=Pe(e_,le,X,h,Wa),Ur=Pe(Cw,le,X,h,Wa),Tn=Pe(P4,le,X,h,Wa),Yn=Pe(Tr,le,X,h,Wa),Sr=Pe(vm,le,X,h,Wa),br=Pe(ig,le,X,h,Wa),wo=Pe(t_,le,X,h,K3),fi=Pe(M4,le,X,h,Wa),vi=Pe(Qx,le,X,h,Wa),$r=Pe(Xx,le,X,h,Wa),Qn=Pe(Yx,le,X,h,Wa),Er=Pe(Jx,le,X,h,Wa),ca=Pe($4,le,X,h,Wa),ro=Pe(Zx,le,X,h,Wa),fv=I4,la=Sw,ds=Vu;return{deleteRow:mt,deleteColumn:zt,insertRowsBefore:At,insertRowsAfter:ht,insertColumnsBefore:Xt,insertColumnsAfter:en,mergeCells:On,unmergeCells:Ur,pasteColsBefore:Tn,pasteColsAfter:Yn,pasteRowsBefore:Sr,pasteRowsAfter:br,pasteCells:wo,makeCellsHeader:fi,unmakeCellsHeader:vi,makeColumnsHeader:$r,unmakeColumnsHeader:Qn,makeRowsHeader:Er,makeRowsBody:ca,makeRowsFooter:ro,getTableRowType:ds,getTableCellType:fv,getTableColType:la}},dm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},ud=function(){return Qt.fromTag("th")},Tb=function(){return Qt.fromTag("td")},Ob=function(){return Qt.fromTag("col")},F4=function(u,c,h,w){for(var k=Qt.fromTag("tr"),R=0;R<u;R++){var F=w<c||R<h?ud():Tb();R<h&&zo(F,"scope","row"),w<c&&zo(F,"scope","col"),to(F,Qt.fromTag("br")),to(k,F)}return k},n_=function(u){var c=Qt.fromTag("colgroup");return xt(u,function(){return to(c,Ob())}),c},Db=function(u,c,h,w){return xt(u,function(k){return F4(c,h,w,k)})},xw=function(u,c,h,w,k,R){R===void 0&&(R=dm);var F=Qt.fromTag("table"),q=k!=="cells";Nc(F,R.styles),ko(F,R.attributes),R.colGroups&&to(F,n_(c));var ie=Math.min(u,h);if(q&&h>0){var be=Qt.fromTag("thead");to(F,be);var Pe=k==="sectionCells"?ie:0,mt=Db(h,c,Pe,w);ac(be,mt)}var zt=Qt.fromTag("tbody");to(F,zt);var At=q?u-ie:u,ht=q?0:h,Xt=Db(At,c,ht,w);return ac(zt,Xt),F},ug=function(u){return u.dom.innerHTML},Rb=function(u){var c=Qt.fromTag("div"),h=Qt.fromDom(u.dom.cloneNode(!0));return to(c,h),ug(c)},L4=function(u,c){u.selection.select(c.dom,!0),u.selection.collapse(!0)},nf=function(u,c){rs(c,"td,th").each(Ee(L4,u))},_w=function(u,c){at(ns(c,"tr"),function(h){Z0(u,h.dom),at(ns(h,"th,td"),function(w){Q0(u,w.dom)})})},kw=function(u){return S(u)&&u.indexOf("%")!==-1},sg=function(u,c,h,w,k){var R=nb(u),F={styles:R,attributes:Np(u),colGroups:rb(u)};return u.undoManager.ignore(function(){var q=xw(h,c,k,w,$l(u),F);zo(q,"data-mce-id","__mce");var ie=Rb(q);u.insertContent(ie),u.addVisual()}),rs(jc(u),'table[data-mce-id="__mce"]').map(function(q){return rv(u)?zh(q):Fh(u)?ib(q):(dt(u)||kw(R.width))&&Lh(q),pu(q),$a(q,"data-mce-id"),_w(u,q),nf(u,q),q.dom}).getOr(null)},Aw=function(u,c,h,w,k){w===void 0&&(w={});var R=function(ie){return z(ie)&&ie>0};if(R(c)&&R(h)){var F=w.headerRows||0,q=w.headerColumns||0;return sg(u,h,c,q,F)}else return console.error(k),null},Zp=function(u){return function(){return u().fold(function(){return[]},function(c){return rt(c,function(h){return h.dom})})}},r_=function(u){return function(c){var h=c.length>0?U.some(cs(c)):U.none();u(h)}},z4=function(u){return function(c,h,w){w===void 0&&(w={});var k=Aw(u,h,c,w,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),k}},rf=function(u,c,h,w){return{insertTable:z4(u),setClipboardRows:r_(c.setRows),getClipboardRows:Zp(c.getRows),setClipboardCols:r_(c.setColumns),getClipboardCols:Zp(c.getColumns),resizeHandler:h,selectionTargets:w}},vs=function(u,c,h){var w=Qs(u,c,1);h===1||w<=1?$a(u,c):zo(u,c,Math.min(h,w))},Pi=function(u,c,h){if(vr.hasColumns(u)){var w=lt(vr.justColumns(u),function(F){return F.column>=c&&F.column<h}),k=rt(w,function(F){var q=ia(F.element);return vs(q,"span",h-c),q}),R=Qt.fromTag("colgroup");return ac(R,k),[R]}else return[]},H4=function(u,c,h){return rt(u.all,function(w){var k=lt(w.cells,function(q){return q.column>=c&&q.column<h}),R=rt(k,function(q){var ie=ia(q.element);return vs(ie,"colspan",h-c),ie}),F=Qt.fromTag("tr");return ac(F,R),F})},Ew=function(u,c){var h=vr.fromTable(u),w=av(h,c);return w.map(function(k){var R=k[k.length-1],F=k[0].column,q=R.column+R.colspan,ie=Pi(h,F,q),be=H4(h,F,q);return nn(nn([],ie,!0),be,!0)})},lg=function(u,c,h){var w=vr.fromTable(u),k=mc(w,c);return k.bind(function(R){var F=rd(w,h,!1),q=po(F).rows,ie=q.slice(R[0].row,R[R.length-1].row+R[R.length-1].rowspan),be=Te(ie,function(mt){var zt=lt(mt.cells,function(At){return!At.isLocked});return zt.length>0?[It(It({},mt),{cells:zt})]:[]}),Pe=vb(be);return ba(Pe.length>0,Pe)}).map(function(R){return nw(R)})},Tw=tinymce.util.Tools.resolve("tinymce.util.Tools"),Qp=function(u,c,h){var w=u.select("td,th",c),k,R=function(F,q){for(var ie=0;ie<q.length;ie++){var be=u.getStyle(q[ie],h);if(typeof F>"u"&&(F=be),F!==be)return""}return F};return R(k,w)},Ow=function(u,c,h){h&&u.formatter.apply("align"+h,{},c)},V4=function(u,c,h){h&&u.formatter.apply("valign"+h,{},c)},rn=function(u,c){Tw.each("left center right".split(" "),function(h){u.formatter.remove("align"+h,{},c)})},Xo=function(u,c){Tw.each("top middle bottom".split(" "),function(h){u.formatter.remove("valign"+h,{},c)})},cg=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],ci=function(u){return{value:u}},il=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Dw=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,e1=function(u){return il.test(u)||Dw.test(u)},Bb=function(u){return Kl(u,"#").toUpperCase()},$b=function(u){return e1(u)?U.some({value:Bb(u)}):U.none()},Mb=function(u){var c=u.toString(16);return(c.length===1?"0"+c:c).toUpperCase()},sd=function(u){var c=Mb(u.red)+Mb(u.green)+Mb(u.blue);return ci(c)},t1=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Rw=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Bw=function(u,c,h,w){return{red:u,green:c,blue:h,alpha:w}},$w=function(u,c,h,w){var k=parseInt(u,10),R=parseInt(c,10),F=parseInt(h,10),q=parseFloat(w);return Bw(k,R,F,q)},U4=function(u){if(u==="transparent")return U.some(Bw(0,0,0,0));var c=t1.exec(u);if(c!==null)return U.some($w(c[1],c[2],c[3],"1"));var h=Rw.exec(u);return h!==null?U.some($w(h[1],h[2],h[3],h[4])):U.none()},a_=function(u){return $b(u).orThunk(function(){return U4(u).map(sd)}).getOrThunk(function(){var c=document.createElement("canvas");c.height=1,c.width=1;var h=c.getContext("2d");h.clearRect(0,0,c.width,c.height),h.fillStyle="#FFFFFF",h.fillStyle=u,h.fillRect(0,0,1,1);var w=h.getImageData(0,0,1,1).data,k=w[0],R=w[1],F=w[2],q=w[3];return sd(Bw(k,R,F,q))})},iv=function(u){var c=u,h=function(){return c},w=function(k){c=k};return{get:h,set:w}},af=function(u){var c=iv(U.none()),h=function(){return c.get().each(u)},w=function(){h(),c.set(U.none())},k=function(){return c.get().isSome()},R=function(){return c.get()},F=function(q){h(),c.set(U.some(q))};return{clear:w,isSet:k,get:R,set:F}},mm=function(){return af(function(u){return u.unbind()})},fg=function(){var u=af(X),c=function(h){return u.get().each(h)};return It(It({},u),{on:c})},Mw=function(u,c,h,w){return function(k){var R=mm(),F=uo(w),q=function(){var ie=Ki(c),be=function(Pe){return u.formatter.match(h,{value:w},Pe.dom,F)};F?(k.setActive(!$(ie,be)),R.set(u.formatter.formatChanged(h,function(Pe){return k.setActive(!Pe)},!0))):(k.setActive(Ae(ie,be)),R.set(u.formatter.formatChanged(h,k.setActive,!1,{value:w})))};return u.initialized?q():u.on("init",q),R.clear}},Pb=function(u){return Ne(u,"menu")},of=function(u){return rt(u,function(c){var h=c.text||c.title;return Pb(c)?{text:h,items:of(c.menu)}:{text:h,value:c.value}})},Pl=function(u,c,h,w,k){return rt(h,function(R){var F=R.text||R.title;return Pb(R)?{type:"nestedmenuitem",text:F,getSubmenuItems:function(){return Pl(u,c,R.menu,w,k)}}:{text:F,type:"togglemenuitem",onAction:function(){return k(R.value)},onSetup:Mw(u,c,w,R.value)}})},ld=function(u,c){return function(h){var w;u.execCommand("mceTableApplyCellStyle",!1,(w={},w[c]=h,w))}},cd=function(u){return Te(u,function(c){return Pb(c)?[It(It({},c),{menu:cd(c.menu)})]:Dr(c.value)?[c]:[]})},hm=function(u,c,h,w,k){return function(R){return R(Pl(u,c,h,w,k))}},vg=function(u,c,h){var w=rt(c,function(k){return{text:k.title,value:"#"+a_(k.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:w.length>0?w:void 0,allowCustomColors:!1},onAction:function(k){var R,F=k.value==="remove"?"":k.value;u.execCommand("mceTableApplyCellStyle",!1,(R={},R[h]=F,R))}}]},Pw=function(u){return function(){var c=u.queryCommandValue("mceTableRowType"),h=c==="header"?"body":"header";u.execCommand("mceTableRowType",!1,{type:h})}},Iw=function(u){return function(){var c=u.queryCommandValue("mceTableColType"),h=c==="th"?"td":"th";u.execCommand("mceTableColType",!1,{type:h})}},Nw=function(u){var c=of(Zc(u));return c.length>0?U.some({name:"class",type:"listbox",label:"Class",items:c}):U.none()},Ib=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:cg}],Ii=function(u){return Ib.concat(Nw(u).toArray())},Ls=function(u,c){var h=[{text:"Select...",value:""}],w=[{name:"borderstyle",type:"listbox",label:"Border style",items:h.concat(of(nu(u)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],k={name:"borderwidth",type:"input",label:"Border width"},R=c==="cell"?[k].concat(w):w;return{title:"Advanced",name:"advanced",items:R}},ul=function(u){return function(c,h){var w=c.dom,k=function(q,ie){(!u||ie)&&w.setAttrib(h,q,ie)},R=function(q,ie){(!u||ie)&&w.setStyle(h,q,ie)},F=function(q,ie){(!u||ie)&&(ie===""?c.formatter.remove(q,{value:null},h,!0):c.formatter.apply(q,{value:ie},h))};return{setAttrib:k,setStyle:R,setFormat:F}}},uf={normal:ul(!1),ifTruthy:ul(!0)},dg=function(u){return function(c){return Si(c,"rgb")?u.toHex(c):c}},Nb=function(u,c){var h=Qt.fromDom(c);return{borderwidth:du(h,"border-width").getOr(""),borderstyle:du(h,"border-style").getOr(""),bordercolor:du(h,"border-color").map(dg(u)).getOr(""),backgroundcolor:du(h,"background-color").map(dg(u)).getOr("")}},fd=function(u){var c=u[0],h=u.slice(1);return at(h,function(w){at(cu(c),function(k){Ra(w,function(R,F){var q=c[k];q!==""&&k===F&&q!==R&&(c[k]="")})})}),c},gm=function(u,c,h,w){return Ue(u,function(k){return!j(h.formatter.matchNode(w,c+k))}).getOr("")},pm=Ee(gm,["left","center","right"],"align"),W4=Ee(gm,["top","middle","bottom"],"valign"),Fw=function(u,c){var h=nb(u),w=Np(u),k=function(Pe){return{borderstyle:Bu(h,"border-style").getOr(""),bordercolor:dg(Pe)(Bu(h,"border-color").getOr("")),backgroundcolor:dg(Pe)(Bu(h,"background-color").getOr(""))}},R={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},F=function(){var Pe=h["border-width"];return ru(u)&&Pe?{border:Pe}:Bu(w,"border").fold(function(){return{}},function(mt){return{border:mt}})},q=c?k(u.dom):{},ie=function(){var Pe=Bu(h,"border-spacing").or(Bu(w,"cellspacing")).fold(function(){return{}},function(zt){return{cellspacing:zt}}),mt=Bu(h,"border-padding").or(Bu(w,"cellpadding")).fold(function(){return{}},function(zt){return{cellpadding:zt}});return It(It({},Pe),mt)},be=It(It(It(It(It(It({},R),h),w),q),F()),ie());return be},o_=function(u){return Va(Qt.fromDom(u)).map(function(c){var h={selection:cs(u.cells)};return Vu(c,h)}).getOr("")},i_=function(u,c,h){var w=function(q,ie){var be=du(Qt.fromDom(ie),"border-width");return ru(u)&&be.isSome()?be.getOr(""):q.getAttrib(ie,"border")||Qp(u.dom,ie,"border-width")||Qp(u.dom,ie,"border")},k=u.dom,R=ru(u)?k.getStyle(c,"border-spacing")||k.getAttrib(c,"cellspacing"):k.getAttrib(c,"cellspacing")||k.getStyle(c,"border-spacing"),F=ru(u)?Qp(k,c,"padding")||k.getAttrib(c,"cellpadding"):k.getAttrib(c,"cellpadding")||Qp(k,c,"padding");return It({width:k.getStyle(c,"width")||k.getAttrib(c,"width"),height:k.getStyle(c,"height")||k.getAttrib(c,"height"),cellspacing:R,cellpadding:F,border:w(k,c),caption:!!k.select("caption",c)[0],class:k.getAttrib(c,"class",""),align:pm(u,c)},h?Nb(k,c):{})},Lw=function(u,c,h){var w=u.dom;return It({height:w.getStyle(c,"height")||w.getAttrib(c,"height"),class:w.getAttrib(c,"class",""),type:o_(c),align:pm(u,c)},h?Nb(w,c):{})},zw=function(u,c,h,w){var k=u.dom,R=w.getOr(c),F=function(q,ie){return k.getStyle(q,ie)||k.getAttrib(q,ie)};return It({width:F(R,"width"),height:F(c,"height"),scope:k.getAttrib(c,"scope"),celltype:x2(c),class:k.getAttrib(c,"class",""),halign:pm(u,c),valign:W4(u,c)},h?Nb(k,c):{})},ga=function(u,c){var h=vr.fromTable(u),w=vr.justCells(h),k=lt(w,function(R){return $(c,function(F){return Zr(R.element,F)})});return rt(k,function(R){return{element:R.element.dom,column:vr.getColumnAt(h,R.column).map(function(F){return F.element.dom})}})},sf=function(u,c,h){u.setAttrib("scope",h.scope),u.setAttrib("class",h.class),u.setStyle("height",Zo(h.height)),c.setStyle("width",Zo(h.width))},u_=function(u,c){u.setFormat("tablecellbackgroundcolor",c.backgroundcolor),u.setFormat("tablecellbordercolor",c.bordercolor),u.setFormat("tablecellborderstyle",c.borderstyle),u.setFormat("tablecellborderwidth",Zo(c.borderwidth))},s_=function(u,c,h){var w=c.length===1;at(c,function(k){var R=k.element,F=w?uf.normal(u,R):uf.ifTruthy(u,R),q=k.column.map(function(ie){return w?uf.normal(u,ie):uf.ifTruthy(u,ie)}).getOr(F);sf(F,q,h),Lp(u)&&u_(F,h),w&&(rn(u,R),Xo(u,R)),h.halign&&Ow(u,R,h.halign),h.valign&&V4(u,R,h.valign)})},l_=function(u,c){u.execCommand("mceTableCellType",!1,{type:c.celltype,no_events:!0})},Fb=function(u,c,h,w){var k=Cl(w,function(R,F){return h[F]!==R});xs(k)>0&&c.length>=1&&Va(c[0]).each(function(R){var F=ga(R,c),q=xs(Cl(k,function(be,Pe){return Pe!=="scope"&&Pe!=="celltype"}))>0,ie=oe(k,"celltype");(q||oe(k,"scope"))&&s_(u,F,w),ie&&l_(u,w),Jc(u,R.dom,{structure:ie,style:q})})},Hw=function(u,c,h,w){var k=w.getData();w.close(),u.undoManager.transact(function(){Fb(u,c,h,k),u.focus()})},n1=function(u,c){var h=Va(c[0]).map(function(w){return rt(ga(w,c),function(k){return zw(u,k.element,Lp(u),k.column)})});return fd(h.getOrDie())},Vn=function(u,c){var h=Ki(c);if(h.length!==0){var w=n1(u,h),k={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ii(u)},Ls(u,"cell")]},R={type:"panel",items:[{type:"grid",columns:2,items:Ii(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:Lp(u)?k:R,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onSubmit:Ee(Hw,u,h,w)})}},j4=function(u){var c=of(td(u));return c.length>0?U.some({name:"class",type:"listbox",label:"Class",items:c}):U.none()},Vw=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],c_=function(u){return Vw.concat(j4(u).toArray())},Uw=function(u,c){u.setAttrib("class",c.class),u.setStyle("height",Zo(c.height))},G4=function(u,c){u.setStyle("background-color",c.backgroundcolor),u.setStyle("border-color",c.bordercolor),u.setStyle("border-style",c.borderstyle)},f_=function(u,c,h,w){var k=c.length===1;at(c,function(R){var F=k?uf.normal(u,R):uf.ifTruthy(u,R);Uw(F,h),zp(u)&&G4(F,h),h.align!==w.align&&(rn(u,R),Ow(u,R,h.align))})},Ww=function(u,c){u.execCommand("mceTableRowType",!1,{type:c.type,no_events:!0})},jw=function(u,c,h,w){var k=Cl(w,function(q,ie){return h[ie]!==q});if(xs(k)>0){var R=oe(k,"type"),F=R?xs(k)>1:!0;F&&f_(u,c,w,h),R&&Ww(u,w),Va(Qt.fromDom(c[0])).each(function(q){return Jc(u,q.dom,{structure:R,style:F})})}},q4=function(u,c,h,w){var k=w.getData();w.close(),u.undoManager.transact(function(){jw(u,c,h,k),u.focus()})},zs=function(u){var c=ox(jd(u),Is.selected);if(c.length!==0){var h=rt(c,function(F){return Lw(u,F.dom,zp(u))}),w=fd(h),k={type:"tabpanel",tabs:[{title:"General",name:"general",items:c_(u)},Ls(u,"row")]},R={type:"panel",items:[{type:"grid",columns:2,items:c_(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:zp(u)?k:R,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onSubmit:Ee(q4,u,rt(c,function(F){return F.dom}),w)})}},_u=function(u,c,h){var w=h?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],k=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],R=dc(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],F=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],q=c.length>0?[{type:"listbox",name:"class",label:"Class",items:c}]:[];return w.concat(k).concat(R).concat(F).concat(q)},lf=function(u,c,h,w){if(c.tagName==="TD"||c.tagName==="TH")S(h)?u.setStyle(c,h,w):u.setStyle(c,h);else if(c.children)for(var k=0;k<c.children.length;k++)lf(u,c.children[k],h,w)},K4=function(u,c,h){var w=u.dom,k={},R={};if(k.class=h.class,R.height=Zo(h.height),w.getAttrib(c,"width")&&!ru(u)?k.width=Uv(h.width):R.width=Zo(h.width),ru(u)?(R["border-width"]=Zo(h.border),R["border-spacing"]=Zo(h.cellspacing)):(k.border=h.border,k.cellpadding=h.cellpadding,k.cellspacing=h.cellspacing),ru(u)&&c.children)for(var F=0;F<c.children.length;F++)lf(w,c.children[F],{"border-width":Zo(h.border),padding:Zo(h.cellpadding)}),xu(u)&&lf(w,c.children[F],{"border-color":h.bordercolor});xu(u)&&(R["background-color"]=h.backgroundcolor,R["border-color"]=h.bordercolor,R["border-style"]=h.borderstyle),k.style=w.serializeStyle(It(It({},nb(u)),R)),w.setAttribs(c,It(It({},Np(u)),k))},X4=function(u,c,h,w){var k=u.dom,R=w.getData(),F=Cl(R,function(q,ie){return h[ie]!==q});w.close(),R.class===""&&delete R.class,u.undoManager.transact(function(){if(!c){var q=parseInt(R.cols,10)||1,ie=parseInt(R.rows,10)||1;c=sg(u,q,ie,0,0)}if(xs(F)>0){K4(u,c,R);var be=k.select("caption",c)[0];(be&&!R.caption||!be&&R.caption)&&u.execCommand("mceTableToggleCaption"),R.align===""?rn(u,c):Ow(u,c,R.align)}if(u.focus(),u.addVisual(),xs(F)>0){var Pe=oe(F,"caption"),mt=Pe?xs(F)>1:!0;Jc(u,c,{structure:Pe,style:mt})}})},Gw=function(u,c){var h=u.dom,w,k=Fw(u,xu(u));c===!1?(w=h.getParent(u.selection.getStart(),"table",u.getBody()),w?k=i_(u,w,xu(u)):xu(u)&&(k.borderstyle="",k.bordercolor="",k.backgroundcolor="")):(k.cols="1",k.rows="1",xu(u)&&(k.borderstyle="",k.bordercolor="",k.backgroundcolor=""));var R=of(Hp(u));R.length>0&&k.class&&(k.class=k.class.replace(/\s*mce\-item\-table\s*/g,""));var F={type:"grid",columns:2,items:_u(u,R,c)},q=function(){return{type:"panel",items:[F]}},ie=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[F]},Ls(u,"table")]}},be=xu(u)?ie():q();u.windowManager.open({title:"Table Properties",size:"normal",body:be,onSubmit:Ee(X4,u,w,k),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:k})},Cr=function(u){return Ka(jd(u),Ps(u))},Y4=function(u){return Di(jd(u),Ps(u))},Lb=function(u,c,h,w,k){var R=Ps(u),F=function(){return Cr(u).each(function(Tn){Va(Tn,R).filter(De(R)).each(function(Yn){var Sr=Qt.fromText("");if(xa(Yn,Sr),Pu(Yn),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var br=u.dom.createRng();br.setStart(Sr.dom,0),br.setEnd(Sr.dom,0),u.selection.setRng(br),u.nodeChanged()}})})},q=function(Tn){return Cr(u).each(function(Yn){var Sr=Fh(u)||rv(u)||dt(u);Sr||Va(Yn,R).each(function(br){Tn==="relative"&&!F0(br)?Lh(br):Tn==="fixed"&&!Ri(br)?zh(br):Tn==="responsive"&&!L0(br)&&ib(br),pu(br),Jc(u,br.dom,Wa)})})},ie=function(Tn){return Va(Tn,R)},be=function(Tn){return Y4(u).bind(function(Yn){return ie(Yn).map(function(Sr){return Tn(Sr,Yn)})})},Pe=function(Tn,Yn){be(function(Sr){u.formatter.toggle("tableclass",{value:Yn},Sr.dom),Jc(u,Sr.dom,nm)})},mt=function(Tn,Yn){be(function(Sr){var br=Ki(w),wo=Ae(br,function(vi){return u.formatter.match("tablecellclass",{value:Yn},vi.dom)}),fi=wo?u.formatter.remove:u.formatter.apply;at(br,function(vi){return fi("tablecellclass",{value:Yn},vi.dom)}),Jc(u,Sr.dom,nm)})},zt=function(){Cr(u).each(function(Tn){Va(Tn,R).each(function(Yn){Wn(Yn,"caption").fold(function(){var Sr=Qt.fromTag("caption");to(Sr,Qt.fromText("Caption")),g3(Yn,Sr,0),u.selection.setCursorLocation(Sr.dom,0)},function(Sr){Jo("caption")(Tn)&&Rf("td",Yn).each(function(br){return u.selection.setCursorLocation(br.dom,0)}),Pu(Sr)}),Jc(u,Yn.dom,Wa)})})},At=function(Tn){u.focus()},ht=function(Tn,Yn){return Yn===void 0&&(Yn=!1),be(function(Sr,br){var wo=Gd(w,Sr,br);Tn(Sr,wo,Yn).each(At)})},Xt=function(){return be(function(Tn,Yn){var Sr=Gd(w,Tn,Yn),br=nr(X,Qt.fromDom(u.getDoc()),U.none());return lg(Tn,Sr,br)})},en=function(){return be(function(Tn,Yn){var Sr=Gd(w,Tn,Yn);return Ew(Tn,Sr)})},On=function(Tn,Yn){return Yn().each(function(Sr){var br=rt(Sr,function(wo){return ia(wo)});be(function(wo,fi){var vi=Ms(Qt.fromDom(u.getDoc())),$r=k2(w,fi,br,vi);Tn(wo,$r).each(At)})})},Ur=function(Tn){return function(Yn,Sr){return Bu(Sr,"type").each(function(br){ht(Tn(br),Sr.no_events)})}};Ra({mceTableSplitCells:function(){return ht(c.unmergeCells)},mceTableMergeCells:function(){return ht(c.mergeCells)},mceTableInsertRowBefore:function(){return ht(c.insertRowsBefore)},mceTableInsertRowAfter:function(){return ht(c.insertRowsAfter)},mceTableInsertColBefore:function(){return ht(c.insertColumnsBefore)},mceTableInsertColAfter:function(){return ht(c.insertColumnsAfter)},mceTableDeleteCol:function(){return ht(c.deleteColumn)},mceTableDeleteRow:function(){return ht(c.deleteRow)},mceTableCutCol:function(){return en().each(function(Tn){k.setColumns(Tn),ht(c.deleteColumn)})},mceTableCutRow:function(){return Xt().each(function(Tn){k.setRows(Tn),ht(c.deleteRow)})},mceTableCopyCol:function(){return en().each(function(Tn){return k.setColumns(Tn)})},mceTableCopyRow:function(){return Xt().each(function(Tn){return k.setRows(Tn)})},mceTablePasteColBefore:function(){return On(c.pasteColsBefore,k.getColumns)},mceTablePasteColAfter:function(){return On(c.pasteColsAfter,k.getColumns)},mceTablePasteRowBefore:function(){return On(c.pasteRowsBefore,k.getRows)},mceTablePasteRowAfter:function(){return On(c.pasteRowsAfter,k.getRows)},mceTableDelete:F,mceTableCellToggleClass:mt,mceTableToggleClass:Pe,mceTableToggleCaption:zt,mceTableSizingMode:function(Tn,Yn){return q(Yn)},mceTableCellType:Ur(function(Tn){return Tn==="th"?c.makeCellsHeader:c.unmakeCellsHeader}),mceTableColType:Ur(function(Tn){return Tn==="th"?c.makeColumnsHeader:c.unmakeColumnsHeader}),mceTableRowType:Ur(function(Tn){switch(Tn){case"header":return c.makeRowsHeader;case"footer":return c.makeRowsFooter;default:return c.makeRowsBody}})},function(Tn,Yn){return u.addCommand(Yn,Tn)}),Ra({mceTableProps:Ee(Gw,u,!1),mceTableRowProps:Ee(zs,u),mceTableCellProps:Ee(Vn,u,w)},function(Tn,Yn){return u.addCommand(Yn,function(){return Tn()})}),u.addCommand("mceInsertTable",function(Tn,Yn){_(Yn)&&cu(Yn).length>0?Aw(u,Yn.rows,Yn.columns,Yn.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Gw(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(Tn,Yn){var Sr=function(fi){return"tablecell"+fi.toLowerCase().replace("-","")};if(_(Yn)){var br=Ki(w);if(br.length!==0){var wo=Cl(Yn,function(fi,vi){return u.formatter.has(Sr(vi))&&S(fi)});Ke(wo)||(Ra(wo,function(fi,vi){at(br,function($r){uf.normal(u,$r.dom).setFormat(Sr(vi),fi)})}),ie(br[0]).each(function(fi){return Jc(u,fi.dom,nm)}))}}})},zb=function(u,c,h){var w=Ps(u),k=function(R){return Di(jd(u)).bind(function(F){return Va(F,w).map(function(q){var ie=Gd(h,q,F);return R(q,ie)})}).getOr("")};Ra({mceTableRowType:function(){return k(c.getTableRowType)},mceTableCellType:function(){return k(c.getTableCellType)},mceTableColType:function(){return k(c.getTableColType)}},function(R,F){return u.addQueryValueHandler(F,R)})},Hb=function(){var u=fg(),c=fg();return{getRows:u.get,setRows:function(h){h.fold(u.clear,u.set),c.clear()},clearRows:u.clear,getColumns:c.get,setColumns:function(h){h.fold(c.clear,c.set),u.clear()},clearColumns:c.clear}},r1={remove_similar:!0,inherit:!1},uv=It({selector:"td,th"},r1),a1={tablecellbackgroundcolor:It({styles:{backgroundColor:"%value"}},uv),tablecellverticalalign:It({styles:{"vertical-align":"%value"}},uv),tablecellbordercolor:It({styles:{borderColor:"%value"}},uv),tablecellclass:It({classes:["%value"]},uv),tableclass:It({selector:"table",classes:["%value"]},r1),tablecellborderstyle:It({styles:{borderStyle:"%value"}},uv),tablecellborderwidth:It({styles:{borderWidth:"%value"}},uv)},J4=function(u){u.formatter.register(a1)},v_=zc.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),qw=function(u){return u===void 0&&(u=void 0),v_.none(u)},vd=It(It({},v_),{none:qw}),Vb=function(u,c,h,w,k){k===void 0&&(k=le);var R=w===1;if(!R&&h<=0)return vd.first(u[0]);if(R&&h>=u.length-1)return vd.last(u[u.length-1]);var F=h+w,q=u[F];return k(q)?vd.middle(c,q):Vb(u,c,F,w,k)},d_=function(u,c){return Va(u,c).bind(function(h){var w=Vf(h),k=gt(w,function(R){return Zr(u,R)});return k.map(function(R){return{index:R,all:w}})})},Z4=function(u,c,h){var w=d_(u,h);return w.fold(function(){return vd.none(u)},function(k){return Vb(k.all,u,k.index,1,c)})},Q4=function(u,c,h){var w=d_(u,h);return w.fold(function(){return vd.none()},function(k){return Vb(k.all,u,k.index,-1,c)})},eE=function(u,c,h,w){return{start:u,soffset:c,finish:h,foffset:w}},bm={create:eE},Kw=zc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Mn=function(u,c,h,w){return u.fold(c,h,w)},m_=function(u){return u.fold($e,$e,$e)},h_=Kw.before,tE=Kw.on,o1=Kw.after,iu={before:h_,on:tE,after:o1,cata:Mn,getStart:m_},i1=zc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),nE=function(u){return i1.exact(u.start,u.soffset,u.finish,u.foffset)},g_=function(u){return u.match({domRange:function(c){return Qt.fromDom(c.startContainer)},relative:function(c,h){return iu.getStart(c)},exact:function(c,h,w,k){return c}})},Xw=i1.domRange,Yw=i1.relative,p_=i1.exact,Jw=function(u){var c=g_(u);return ih(c)},Zw=bm.create,sv={domRange:Xw,relative:Yw,exact:p_,exactFromRange:nE,getWin:Jw,range:Zw},rE=function(u,c){var h=u.document.createRange();return h.selectNode(c.dom),h},aE=function(u,c){var h=u.document.createRange();return b_(h,c),h},b_=function(u,c){return u.selectNodeContents(c.dom)},oE=function(u,c){c.fold(function(h){u.setStartBefore(h.dom)},function(h,w){u.setStart(h.dom,w)},function(h){u.setStartAfter(h.dom)})},u1=function(u,c){c.fold(function(h){u.setEndBefore(h.dom)},function(h,w){u.setEnd(h.dom,w)},function(h){u.setEndAfter(h.dom)})},ea=function(u,c,h){var w=u.document.createRange();return oE(w,c),u1(w,h),w},Ub=function(u,c,h,w,k){var R=u.document.createRange();return R.setStart(c.dom,h),R.setEnd(w.dom,k),R},lv=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},Il=function(u){var c=u.getClientRects(),h=c.length>0?c[0]:u.getBoundingClientRect();return h.width>0||h.height>0?U.some(h).map(lv):U.none()},dd=zc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Uu=function(u,c,h){return c(Qt.fromDom(h.startContainer),h.startOffset,Qt.fromDom(h.endContainer),h.endOffset)},Wb=function(u,c){return c.match({domRange:function(h){return{ltr:de(h),rtl:U.none}},relative:function(h,w){return{ltr:pn(function(){return ea(u,h,w)}),rtl:pn(function(){return U.some(ea(u,w,h))})}},exact:function(h,w,k,R){return{ltr:pn(function(){return Ub(u,h,w,k,R)}),rtl:pn(function(){return U.some(Ub(u,k,R,h,w))})}}})},ym=function(u,c){var h=c.ltr();if(h.collapsed){var w=c.rtl().filter(function(k){return k.collapsed===!1});return w.map(function(k){return dd.rtl(Qt.fromDom(k.endContainer),k.endOffset,Qt.fromDom(k.startContainer),k.startOffset)}).getOrThunk(function(){return Uu(u,dd.ltr,h)})}else return Uu(u,dd.ltr,h)},mg=function(u,c){var h=Wb(u,c);return ym(u,h)},md=function(u,c){var h=mg(u,c);return h.match({ltr:function(w,k,R,F){var q=u.document.createRange();return q.setStart(w.dom,k),q.setEnd(R.dom,F),q},rtl:function(w,k,R,F){var q=u.document.createRange();return q.setStart(R.dom,F),q.setEnd(w.dom,k),q}})};dd.ltr,dd.rtl;var iE=function(u,c,h,w,k){if(k===0)return 0;if(c===w)return k-1;for(var R=w,F=1;F<k;F++){var q=u(F),ie=Math.abs(c-q.left);if(h<=q.bottom){if(h<q.top||ie>R)return F-1;R=ie}}return 0},y_=function(u,c,h){return c>=u.left&&c<=u.right&&h>=u.top&&h<=u.bottom},uE=function(u,c,h,w,k){var R=function(be){var Pe=u.dom.createRange();return Pe.setStart(c.dom,be),Pe.collapse(!0),Pe},F=function(be){var Pe=R(be);return Pe.getBoundingClientRect()},q=h0(c).length,ie=iE(F,h,w,k.right,q);return R(ie)},sE=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getClientRects(),F=Ot(R,function(q){return y_(q,h,w)?U.some(q):U.none()});return F.map(function(q){return uE(u,c,h,w,q)})},pr=function(u,c,h,w){var k=u.dom.createRange(),R=oi(c);return Ot(R,function(F){return k.selectNode(F.dom),y_(k.getBoundingClientRect(),h,w)?Nl(u,F,h,w):U.none()})},Nl=function(u,c,h,w){return Js(c)?sE(u,c,h,w):pr(u,c,h,w)},hg=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getBoundingClientRect(),F=Math.max(R.left,Math.min(R.right,h)),q=Math.max(R.top,Math.min(R.bottom,w));return Nl(u,c,F,q)},w_=!0,s1=!1,Or=function(u,c){return c-u.left<u.right-c?w_:s1},C_=function(u,c,h){var w=u.dom.createRange();return w.selectNode(c.dom),w.collapse(h),w},S_=function(u,c,h){var w=u.dom.createRange();w.selectNode(c.dom);var k=w.getBoundingClientRect(),R=Or(k,h),F=R===w_?A0:E0;return F(c).map(function(q){return C_(u,q,R)})},l1=function(u,c,h){var w=c.dom.getBoundingClientRect(),k=Or(w,h);return U.some(C_(u,c,k))},x_=function(u,c,h){var w=oi(c).length===0?l1:S_;return w(u,c,h)},c1=function(u,c,h){var w,k;return U.from((k=(w=u.dom).caretPositionFromPoint)===null||k===void 0?void 0:k.call(w,c,h)).bind(function(R){if(R.offsetNode===null)return U.none();var F=u.dom.createRange();return F.setStart(R.offsetNode,R.offset),F.collapse(),U.some(F)})},wm=function(u,c,h){var w,k;return U.from((k=(w=u.dom).caretRangeFromPoint)===null||k===void 0?void 0:k.call(w,c,h))},Qw=function(u,c,h,w){var k=u.dom.createRange();k.selectNode(c.dom);var R=k.getBoundingClientRect(),F=Math.max(R.left,Math.min(R.right,h)),q=Math.max(R.top,Math.min(R.bottom,w));return hg(u,c,F,q)},eC=function(u,c,h){return Qt.fromPoint(u,c,h).bind(function(w){var k=function(){return x_(u,w,c)};return oi(w).length===0?k():Qw(u,w,c,h).orThunk(k)})},__=function(){return document.caretPositionFromPoint?c1:document.caretRangeFromPoint?wm:eC}(),k_=function(u,c,h){var w=Qt.fromDom(u.document);return __(w,c,h).map(function(k){return bm.create(Qt.fromDom(k.startContainer),k.startOffset,Qt.fromDom(k.endContainer),k.endOffset)})},hd=function(u,c){var h=Qr(u);return h==="input"?iu.after(u):ut(["br","img"],h)?c===0?iu.before(u):iu.after(u):iu.on(u,c)},Cm=function(u,c){var h=u.fold(iu.before,hd,iu.after),w=c.fold(iu.before,hd,iu.after);return sv.relative(h,w)},tC=function(u,c,h,w){var k=hd(u,c),R=hd(h,w);return sv.relative(k,R)},A_=function(u){return u.match({domRange:function(c){var h=Qt.fromDom(c.startContainer),w=Qt.fromDom(c.endContainer);return tC(h,c.startOffset,w,c.endOffset)},relative:Cm,exact:tC})},jb=function(u,c,h,w){var k=Mf(u),R=k.dom.createRange();return R.setStart(u.dom,c),R.setEnd(h.dom,w),R},lE=function(u,c,h,w){var k=jb(u,c,h,w),R=Zr(u,h)&&c===w;return k.collapsed&&!R},gg=function(u){return U.from(u.getSelection())},nC=function(u,c){gg(u).each(function(h){h.removeAllRanges(),h.addRange(c)})},rC=function(u,c,h,w,k){var R=Ub(u,c,h,w,k);nC(u,R)},E_=function(u,c,h,w,k,R){c.collapse(h.dom,w),c.extend(k.dom,R)},aC=function(u,c){return mg(u,c).match({ltr:function(h,w,k,R){rC(u,h,w,k,R)},rtl:function(h,w,k,R){gg(u).each(function(F){if(F.setBaseAndExtent)F.setBaseAndExtent(h.dom,w,k.dom,R);else if(F.extend)try{E_(u,F,h,w,k,R)}catch{rC(u,k,R,h,w)}else rC(u,k,R,h,w)})}})},Gb=function(u,c,h,w,k){var R=tC(c,h,w,k);aC(u,R)},qb=function(u,c,h){var w=Cm(c,h);aC(u,w)},oC=function(u){var c=sv.getWin(u).dom,h=function(k,R,F,q){return Ub(c,k,R,F,q)},w=A_(u);return mg(c,w).match({ltr:h,rtl:h})},iC=function(u){if(u.rangeCount>0){var c=u.getRangeAt(0),h=u.getRangeAt(u.rangeCount-1);return U.some(bm.create(Qt.fromDom(c.startContainer),c.startOffset,Qt.fromDom(h.endContainer),h.endOffset))}else return U.none()},T_=function(u){if(u.anchorNode===null||u.focusNode===null)return iC(u);var c=Qt.fromDom(u.anchorNode),h=Qt.fromDom(u.focusNode);return lE(c,u.anchorOffset,h,u.focusOffset)?U.some(bm.create(c,u.anchorOffset,h,u.focusOffset)):iC(u)},Sm=function(u,c,h){h===void 0&&(h=!0);var w=h?aE:rE,k=w(u,c);nC(u,k)},pg=function(u){return gg(u).filter(function(c){return c.rangeCount>0}).bind(T_)},O_=function(u){return pg(u).map(function(c){return sv.exact(c.start,c.soffset,c.finish,c.foffset)})},D_=function(u,c){var h=md(u,c);return Il(h)},Kb=function(u,c,h){return k_(u,c,h)},R_=function(u){gg(u).each(function(c){return c.removeAllRanges()})},B_=tinymce.util.Tools.resolve("tinymce.util.VK"),uC=function(u,c,h){return P_(u,c,Z4(h,Mp))},$_=function(u,c,h){return P_(u,c,Q4(h,Mp))},M_=function(u,c){var h=sv.exact(c,0,c,0);return oC(h)},P_=function(u,c,h){return h.fold(U.none,U.none,function(w,k){return A0(k).map(function(R){return M_(u,R)})},function(w){return u.execCommand("mceTableInsertRowAfter"),uC(u,c,w)})},cE=["table","li","dl"],I_=function(u,c,h){if(u.keyCode===B_.TAB){var w=jc(c),k=function(q){var ie=Qr(q);return Zr(q,w)||ut(cE,ie)},R=c.selection.getRng(),F=Qt.fromDom(u.shiftKey?R.startContainer:R.endContainer);nc(F,k).each(function(q){u.preventDefault(),Va(q,k).each(h.clear),c.selection.collapse(u.shiftKey);var ie=u.shiftKey?$_:uC,be=ie(c,k,q);be.each(function(Pe){c.selection.setRng(Pe)})})}},sC=function(u,c){return{selection:u,kill:c}},bg={create:sC},fE=function(u,c,h,w){return{start:iu.on(u,c),finish:iu.on(h,w)}},N_={create:fE},F_=function(u,c){var h=md(u,c);return bm.create(Qt.fromDom(h.startContainer),h.startOffset,Qt.fromDom(h.endContainer),h.endOffset)},sl=N_.create,L_=function(u,c,h,w,k,R,F){return Zr(h,k)&&w===R?U.none():Qa(h,"td,th",c).bind(function(q){return Qa(k,"td,th",c).bind(function(ie){return z_(u,c,q,ie,F)})})},z_=function(u,c,h,w,k){return Zr(h,w)?U.none():Pv(h,w,c).bind(function(R){var F=R.boxes.getOr([]);return F.length>1?(k(u,F,R.start,R.finish),U.some(bg.create(U.some(sl(h,0,h,Rl(h))),!0))):U.none()})},Xb=function(u,c,h,w,k){var R=function(F){return k.clearBeforeUpdate(h),k.selectRange(h,F.boxes,F.start,F.finish),F.boxes};return gh(w,u,c,k.firstSelectedSelector,k.lastSelectedSelector).map(R)},Yb=function(u,c){return{item:u,mode:c}},lC=function(u,c,h,w){return w===void 0&&(w=xm),u.property().parent(c).map(function(k){return Yb(k,w)})},xm=function(u,c,h,w){return w===void 0&&(w=yg),h.sibling(u,c).map(function(k){return Yb(k,w)})},yg=function(u,c,h,w){w===void 0&&(w=yg);var k=u.property().children(c),R=h.first(k);return R.map(function(F){return Yb(F,w)})},H_=[{current:lC,next:xm,fallback:U.none()},{current:xm,next:yg,fallback:U.some(lC)},{current:yg,next:yg,fallback:U.some(xm)}],V_=function(u,c,h,w,k){k===void 0&&(k=H_);var R=Ue(k,function(F){return F.current===h});return R.bind(function(F){return F.current(u,c,w,F.next).orThunk(function(){return F.fallback.bind(function(q){return V_(u,c,q,w)})})})},Jb=function(){var u=function(h,w){return h.query().prevSibling(w)},c=function(h){return h.length>0?U.some(h[h.length-1]):U.none()};return{sibling:u,first:c}},vE=function(){var u=function(h,w){return h.query().nextSibling(w)},c=function(h){return h.length>0?U.some(h[0]):U.none()};return{sibling:u,first:c}},Zb={left:Jb,right:vE},f1=function(u,c,h,w,k,R){var F=V_(u,c,w,k);return F.bind(function(q){return R(q.item)?U.none():h(q.item)?U.some(q.item):f1(u,q.item,h,q.mode,k,R)})},Qb=function(u,c,h,w){return f1(u,c,h,xm,Zb.left(),w)},U_=function(u,c,h,w){return f1(u,c,h,xm,Zb.right(),w)},ey=function(u){return function(c){return u.property().children(c).length===0}},ll=function(u,c,h){return ty(u,c,ey(u),h)},dE=function(u,c,h){return W_(u,c,ey(u),h)},ty=Qb,W_=U_,v1=bp(),d1=function(u,c){return ll(v1,u,c)},cC=function(u,c){return dE(v1,u,c)},j_=function(u,c,h){return ty(v1,u,c,h)},G_=function(u,c,h){return W_(v1,u,c,h)},q_=function(u,c,h){return Ga(u,c,h).isSome()},ny=zc.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),gd=function(u,c,h){var w=u.getRect(c),k=u.getRect(h);return k.right>w.left&&k.left<w.right},mE=function(u){return Qa(u,"tr")},hE=function(u,c,h,w,k,R,F){return Qa(w,"td,th",F).bind(function(q){return Qa(c,"td,th",F).map(function(ie){return Zr(q,ie)?Zr(w,q)&&Rl(q)===k?R(ie):ny.none("in same cell"):Bn(mE,[q,ie]).fold(function(){return gd(u,ie,q)?ny.success():R(ie)},function(be){return R(ie)})})}).getOr(ny.none("default"))},gE=function(u,c,h,w,k){return u.fold(c,h,w,k)},pd=It(It({},ny),{verify:hE,cata:gE}),pE=function(u,c,h,w){return{parent:u,children:c,element:h,index:w}},fC=function(u){return xo(u).bind(function(c){var h=oi(c);return bE(h,u).map(function(w){return pE(c,h,u,w)})})},bE=function(u,c){return gt(u,Ee(Zr,c))},wg=function(u){return Qr(u)==="br"},vC=function(u,c,h){return c(u,h).bind(function(w){return Js(w)&&h0(w).trim().length===0?vC(w,c,h):U.some(w)})},K_=function(u,c,h){return h.traverse(c).orThunk(function(){return vC(c,h.gather,u)}).map(h.relative)},ry=function(u,c){return uh(u,c).filter(wg).orThunk(function(){return uh(u,c-1).filter(wg)})},X_=function(u,c,h,w){return ry(c,h).bind(function(k){return w.traverse(k).fold(function(){return vC(k,w.gather,u).map(w.relative)},function(R){return fC(R).map(function(F){return iu.on(F.parent,F.index)})})})},Y_=function(u,c,h,w){var k=wg(c)?K_(u,c,w):X_(u,c,h,w);return k.map(function(R){return{start:R,finish:R}})},yE=function(u){return pd.cata(u,function(c){return U.none()},function(){return U.none()},function(c){return U.some(om(c,0))},function(c){return U.some(om(c,Rl(c)))})},ay=function(u,c){return{left:u.left,top:u.top+c,right:u.right,bottom:u.bottom+c}},oy=function(u,c){return{left:u.left,top:u.top-c,right:u.right,bottom:u.bottom-c}},dC=function(u,c,h){return{left:u.left+c,top:u.top+h,right:u.right+c,bottom:u.bottom+h}},J_=function(u){return u.top},Z_=function(u){return u.bottom},_m=function(u,c,h){return h>=0&&h<Rl(c)?u.getRangedRect(c,h,c,h+1):h>0?u.getRangedRect(c,h-1,c,h):U.none()},m1=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},iy=function(u,c){return U.some(u.getRect(c))},h1=function(u,c,h){return Sa(c)?iy(u,c).map(m1):Js(c)?_m(u,c,h).map(m1):U.none()},Q_=function(u,c){return Sa(c)?iy(u,c).map(m1):Js(c)?u.getRangedRect(c,0,c,Rl(c)).map(m1):U.none()},cv=5,wE=100,cf=zc.generate([{none:[]},{retry:["caret"]}]),ek=function(u,c){return u.left<c.left||Math.abs(c.right-u.left)<1||u.left>c.right},uy=function(u,c,h){return f0(c,id).fold(Xe,function(w){return Q_(u,w).exists(function(k){return ek(h,k)})})},mC=function(u,c,h,w,k){var R=ay(k,cv);return Math.abs(h.bottom-w.bottom)<1||h.top>k.bottom?cf.retry(R):h.top===k.bottom?cf.retry(ay(k,1)):uy(u,c,k)?cf.retry(dC(R,cv,0)):cf.none()},CE=function(u,c,h,w,k){var R=oy(k,cv);return Math.abs(h.top-w.top)<1||h.bottom<k.top?cf.retry(R):h.bottom===k.top?cf.retry(oy(k,1)):uy(u,c,k)?cf.retry(dC(R,cv,0)):cf.none()},bd={point:J_,adjuster:CE,move:oy,gather:d1},tk={point:Z_,adjuster:mC,move:ay,gather:cC},nk=function(u,c,h){return u.elementFromPoint(c,h).filter(function(w){return Qr(w)==="table"}).isSome()},SE=function(u,c,h,w,k){return hC(u,c,h,c.move(w,cv),k)},hC=function(u,c,h,w,k){return k===0?U.some(w):nk(u,w.left,c.point(w))?SE(u,c,h,w,k-1):u.situsFromPoint(w.left,c.point(w)).bind(function(R){return R.start.fold(U.none,function(F){return Q_(u,F).bind(function(q){return c.adjuster(u,F,q,h,w).fold(U.none,function(ie){return hC(u,c,h,ie,k-1)})}).orThunk(function(){return U.some(w)})},U.none)})},Cg=function(u,c){return u.situsFromPoint(c.left,c.bottom+cv)},Sg=function(u,c){return u.situsFromPoint(c.left,c.top-cv)},rk=function(u,c,h){return u.point(c)>h.getInnerHeight()?U.some(u.point(c)-h.getInnerHeight()):u.point(c)<0?U.some(-u.point(c)):U.none()},gC=function(u,c,h){var w=u.move(h,cv),k=hC(c,u,h,w,wE).getOr(w);return rk(u,k,c).fold(function(){return c.situsFromPoint(k.left,u.point(k))},function(R){return c.scrollBy(0,R),c.situsFromPoint(k.left,u.point(k)-R)})},Fl={tryUp:Ee(gC,bd),tryDown:Ee(gC,tk),ieTryUp:Sg,ieTryDown:Cg,getJumpSize:de(cv)},yd=20,Fn=function(u,c,h){return u.getSelection().bind(function(w){return Y_(c,w.finish,w.foffset,h).fold(function(){return U.some(om(w.finish,w.foffset))},function(k){var R=u.fromSitus(k),F=pd.verify(u,w.finish,w.foffset,R.finish,R.foffset,h.failure,c);return yE(F)})})},pC=function(u,c,h,w,k,R){return R===0?U.none():xE(u,c,h,w,k).bind(function(F){var q=u.fromSitus(F),ie=pd.verify(u,h,w,q.finish,q.foffset,k.failure,c);return pd.cata(ie,function(){return U.none()},function(){return U.some(F)},function(be){return Zr(h,be)&&w===0?ff(u,h,w,oy,k):pC(u,c,be,0,k,R-1)},function(be){return Zr(h,be)&&w===Rl(be)?ff(u,h,w,ay,k):pC(u,c,be,Rl(be),k,R-1)})})},ff=function(u,c,h,w,k){return h1(u,c,h).bind(function(R){return ak(u,k,w(R,Fl.getJumpSize()))})},ak=function(u,c,h){var w=Yl().browser;return w.isChrome()||w.isSafari()||w.isFirefox()||w.isEdge()?c.otherRetry(u,h):w.isIE()?c.ieRetry(u,h):U.none()},xE=function(u,c,h,w,k){return h1(u,h,w).bind(function(R){return ak(u,k,R)})},ok=function(u,c,h){return Fn(u,c,h).bind(function(w){return pC(u,c,w.element,w.offset,h,yd).map(u.fromSitus)})},g1=function(u,c){return q_(u,function(h){return xo(h).exists(function(w){return Zr(w,c)})})},yc=function(u,c,h,w,k){return Qa(w,"td,th",c).bind(function(R){return Qa(R,"table",c).bind(function(F){return g1(k,F)?ok(u,c,h).bind(function(q){return Qa(q.finish,"td,th",c).map(function(ie){return{start:R,finish:ie,range:q}})}):U.none()})})},sy=function(u,c,h,w,k,R){return Yl().browser.isIE()?U.none():R(w,c).orThunk(function(){return yc(u,c,h,w,k).map(function(F){var q=F.range;return bg.create(U.some(sl(q.start,q.soffset,q.finish,q.foffset)),!0)})})},ik=function(u,c){return Qa(u,"tr",c).bind(function(h){return Qa(h,"table",c).bind(function(w){var k=ns(w,"tr");return Zr(h,k[0])?j_(w,function(R){return E0(R).isSome()},c).map(function(R){var F=Rl(R);return bg.create(U.some(sl(R,F,R,F)),!0)}):U.none()})})},Zn=function(u,c){return Qa(u,"tr",c).bind(function(h){return Qa(h,"table",c).bind(function(w){var k=ns(w,"tr");return Zr(h,k[k.length-1])?G_(w,function(R){return A0(R).isSome()},c).map(function(R){return bg.create(U.some(sl(R,0,R,0)),!0)}):U.none()})})},bC=function(u,c,h,w,k,R,F){return yc(u,h,w,k,R).bind(function(q){return z_(c,h,q.start,q.finish,F)})},rr=function(u,c){return Qa(u,"td,th",c)},yC=function(u,c,h,w){var k=fg(),R=k.clear,F=function(Pe){k.on(function(mt){w.clearBeforeUpdate(c),rr(Pe.target,h).each(function(zt){Pv(mt,zt,h).each(function(At){var ht=At.boxes.getOr([]);if(ht.length===1){var Xt=ht[0],en=N2(Xt)==="false",On=ec(em(Pe.target),Xt,Zr);en&&On&&(w.selectRange(c,ht,Xt,Xt),u.selectContents(Xt))}else ht.length>1&&(w.selectRange(c,ht,At.start,At.finish),u.selectContents(zt))})})})},q=function(Pe){w.clear(c),rr(Pe.target,h).each(k.set)},ie=function(Pe){F(Pe)},be=function(Pe){F(Pe),R()};return{clearstate:R,mousedown:q,mouseover:ie,mouseup:be}},uk={traverse:je,gather:cC,relative:iu.before,otherRetry:Fl.tryDown,ieRetry:Fl.ieTryDown,failure:pd.failedDown},sk={traverse:$v,gather:d1,relative:iu.before,otherRetry:Fl.tryUp,ieRetry:Fl.ieTryUp,failure:pd.failedUp},xg=function(u){return function(c){return c===u}},_g=xg(38),kg=xg(40),Ag=function(u){return u>=37&&u<=40},_E={isBackward:xg(37),isForward:xg(39)},Xn={isBackward:xg(39),isForward:xg(37)},lk=function(u){var c=u!==void 0?u.dom:document,h=c.body.scrollLeft||c.documentElement.scrollLeft,w=c.body.scrollTop||c.documentElement.scrollTop;return wa(h,w)},wC=function(u,c,h){var w=h!==void 0?h.dom:document,k=w.defaultView;k&&k.scrollBy(u,c)},p1=function(u){var c=function(en,On){return Qt.fromPoint(Qt.fromDom(u.document),en,On)},h=function(en){return en.dom.getBoundingClientRect()},w=function(en,On,Ur,Tn){var Yn=sv.exact(en,On,Ur,Tn);return D_(u,Yn)},k=function(){return O_(u).map(function(en){return F_(u,en)})},R=function(en){var On=sv.relative(en.start,en.finish);return F_(u,On)},F=function(en,On){return Kb(u,en,On).map(function(Ur){return N_.create(Ur.start,Ur.soffset,Ur.finish,Ur.foffset)})},q=function(){R_(u)},ie=function(en){en===void 0&&(en=!1),O_(u).each(function(On){return On.fold(function(Ur){return Ur.collapse(en)},function(Ur,Tn){var Yn=en?Ur:Tn;qb(u,Yn,Yn)},function(Ur,Tn,Yn,Sr){var br=en?Ur:Yn,wo=en?Tn:Sr;Gb(u,br,wo,br,wo)})})},be=function(en){Sm(u,en,!1)},Pe=function(en){Sm(u,en)},mt=function(en){Gb(u,en.start,en.soffset,en.finish,en.foffset)},zt=function(en,On){qb(u,en,On)},At=function(){return u.innerHeight},ht=function(){var en=lk(Qt.fromDom(u.document));return en.top},Xt=function(en,On){wC(en,On,Qt.fromDom(u.document))};return{elementFromPoint:c,getRect:h,getRangedRect:w,getSelection:k,fromSitus:R,situsFromPoint:F,clearSelection:q,collapseSelection:ie,setSelection:mt,setRelativeSelection:zt,selectNode:be,selectContents:Pe,getInnerHeight:At,getScrollY:ht,scrollBy:Xt}},wd=function(u,c){return{rows:u,cols:c}},ck=function(u,c,h,w){var k=p1(u),R=yC(k,c,h,w);return{clearstate:R.clearstate,mousedown:R.mousedown,mouseover:R.mouseover,mouseup:R.mouseup}},ly=function(u,c,h,w){var k=p1(u),R=function(){return w.clear(c),U.none()},F=function(ie,be,Pe,mt,zt,At){var ht=ie.raw,Xt=ht.which,en=ht.shiftKey===!0,On=hh(c,w.selectedSelector).fold(function(){return Ag(Xt)&&!en&&w.clearBeforeUpdate(c),kg(Xt)&&en?Ee(bC,k,c,h,uk,mt,be,w.selectRange):_g(Xt)&&en?Ee(bC,k,c,h,sk,mt,be,w.selectRange):kg(Xt)?Ee(sy,k,h,uk,mt,be,Zn):_g(Xt)?Ee(sy,k,h,sk,mt,be,ik):U.none},function(Ur){var Tn=function(Yn){return function(){var Sr=Ot(Yn,function(br){return Xb(br.rows,br.cols,c,Ur,w)});return Sr.fold(function(){return kl(c,w.firstSelectedSelector,w.lastSelectedSelector).map(function(br){var wo=kg(Xt)||At.isForward(Xt)?iu.after:iu.before;return k.setRelativeSelection(iu.on(br.first,0),wo(br.table)),w.clear(c),bg.create(U.none(),!0)})},function(br){return U.some(bg.create(U.none(),!0))})}};return kg(Xt)&&en?Tn([wd(1,0)]):_g(Xt)&&en?Tn([wd(-1,0)]):At.isBackward(Xt)&&en?Tn([wd(0,-1),wd(-1,0)]):At.isForward(Xt)&&en?Tn([wd(0,1),wd(1,0)]):Ag(Xt)&&!en?R:U.none});return On()},q=function(ie,be,Pe,mt,zt){return hh(c,w.selectedSelector).fold(function(){var At=ie.raw,ht=At.which,Xt=At.shiftKey===!0;return Xt&&Ag(ht)?L_(c,h,be,Pe,mt,zt,w.selectRange):U.none()},U.none)};return{keydown:F,keyup:q}},CC=function(u,c,h,w){var k=p1(u);return function(R,F){w.clearBeforeUpdate(c),Pv(R,F,h).each(function(q){var ie=q.boxes.getOr([]);w.selectRange(c,ie,q.start,q.finish),k.selectContents(F),k.collapseSelection()})}},kE=function(u,c){at(c,function(h){Fu(u,h)})},fk=function(u){return function(c){Go(c,u)}},AE=function(u){return function(c){kE(c,u)}},cy=function(u){var c=fk(u.selected),h=AE([u.selected,u.lastSelected,u.firstSelected]),w=function(R){var F=ns(R,u.selectedSelector);at(F,h)},k=function(R,F,q,ie){w(R),at(F,c),Go(q,u.firstSelected),Go(ie,u.lastSelected)};return{clearBeforeUpdate:w,clear:w,selectRange:k,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},EE=function(u,c,h){var w=function(ie){$a(ie,u.selected),$a(ie,u.firstSelected),$a(ie,u.lastSelected)},k=function(ie){zo(ie,u.selected,"1")},R=function(ie){F(ie),h()},F=function(ie){var be=ns(ie,u.selectedSelector+","+u.firstSelectedSelector+","+u.lastSelectedSelector);at(be,w)},q=function(ie,be,Pe,mt){R(ie),at(be,k),zo(Pe,u.firstSelected,"1"),zo(mt,u.lastSelected,"1"),c(be,Pe,mt)};return{clearBeforeUpdate:F,clear:R,selectRange:q,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},fy={byClass:cy,byAttr:EE},vk=function(u,c){var h=u.slice(0,c[c.length-1].row+1),w=vb(h);return Te(w,function(k){var R=k.cells.slice(0,c[c.length-1].column+1);return rt(R,function(F){return F.element})})},dk=function(u,c){var h=u.slice(c[0].row+c[0].rowspan-1,u.length),w=vb(h);return Te(w,function(k){var R=k.cells.slice(c[0].column+c[0].colspan-1,k.cells.length);return rt(R,function(F){return F.element})})},TE=function(u,c,h){var w=vr.fromTable(u),k=mc(w,c);return k.map(function(R){var F=rd(w,h,!1),q=vk(F,R),ie=dk(F,R);return{upOrLeftCells:q,downOrRightCells:ie}})},mk=tinymce.util.Tools.resolve("tinymce.Env"),SC=function(u){return _a(Qt.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function Br(u,c,h){var w=function(F,q,ie){h.targets().each(function(be){var Pe=Va(q);Pe.each(function(mt){var zt=ob(u),At=nr(X,Qt.fromDom(u.getDoc()),zt),ht=TE(mt,be,At);Nh(u,F,q,ie,ht)})})},k=function(){return bx(u)},R=fy.byAttr(Is,w,k);return u.on("init",function(F){var q=u.getWin(),ie=jc(u),be=Ps(u),Pe=function(){var $r=u.selection,Qn=Qt.fromDom($r.getStart()),Er=Qt.fromDom($r.getEnd()),ca=Bn(Va,[Qn,Er]);ca.fold(function(){return R.clear(ie)},X)},mt=ck(q,ie,be,R),zt=ly(q,ie,be,R),At=CC(q,ie,be,R),ht=function($r){return $r.raw.shiftKey===!0};u.on("TableSelectorChange",function($r){return At($r.start,$r.finish)});var Xt=function($r,Qn){ht($r)&&(Qn.kill&&$r.kill(),Qn.selection.each(function(Er){var ca=sv.relative(Er.start,Er.finish),ro=md(q,ca);u.selection.setRng(ro)}))},en=function($r){var Qn=tv($r);if(Qn.raw.shiftKey&&Ag(Qn.raw.which)){var Er=u.selection.getRng(),ca=Qt.fromDom(Er.startContainer),ro=Qt.fromDom(Er.endContainer);zt.keyup(Qn,ca,Er.startOffset,ro,Er.endOffset).each(function(fv){Xt(Qn,fv)})}},On=function($r){var Qn=tv($r);c().each(function(la){return la.hideBars()});var Er=u.selection.getRng(),ca=Qt.fromDom(Er.startContainer),ro=Qt.fromDom(Er.endContainer),fv=ss(_E,Xn)(Qt.fromDom(u.selection.getStart()));zt.keydown(Qn,ca,Er.startOffset,ro,Er.endOffset,fv).each(function(la){Xt(Qn,la)}),c().each(function(la){return la.showBars()})},Ur=function($r){return $r.button===0},Tn=function($r){return $r.buttons===void 0||mk.browser.isEdge()&&$r.buttons===0?!0:($r.buttons&1)!==0},Yn=function($r){mt.clearstate()},Sr=function($r){Ur($r)&&SC($r)&&mt.mousedown(tv($r))},br=function($r){Tn($r)&&SC($r)&&mt.mouseover(tv($r))},wo=function($r){Ur($r)&&SC($r)&&mt.mouseup(tv($r))},fi=function(){var $r=iv(Qt.fromDom(ie)),Qn=iv(0),Er=function(ca){var ro=Qt.fromDom(ca.target);if(Qr(ro)==="td"||Qr(ro)==="th"){var fv=$r.get(),la=Qn.get();Zr(fv,ro)&&ca.timeStamp-la<300&&(ca.preventDefault(),At(ro,ro))}$r.set(ro),Qn.set(ca.timeStamp)};return{touchEnd:Er}},vi=fi();u.on("dragstart",Yn),u.on("mousedown",Sr),u.on("mouseover",br),u.on("mouseup",wo),u.on("touchend",vi.touchEnd),u.on("keyup",en),u.on("keydown",On),u.on("NodeChange",Pe)}),{clear:R.clear}}var hk=function(u,c){return Wn(u,c).isSome()},vy=function(u,c){var h=iv(U.none()),w=iv([]),k=U.none(),R=Jo("caption"),F=function(Qn){return k.forall(function(Er){return!Er[Qn]})},q=function(){return Ka(jd(u),Ps(u))},ie=function(){return Ka(wn(u),Ps(u))},be=function(){return q().bind(function(Qn){return Nf(as(Va(Qn),ie().bind(Va),function(Er,ca){return Zr(Er,ca)?R(Qn)?U.some(_2(Qn)):U.some(Gd(c,Er,Qn)):U.none()}))})},Pe=function(Qn){var Er=Va(Qn.element);return Er.map(function(ca){var ro=vr.fromTable(ca),fv=mc(ro,Qn).getOr([]),la=te(fv,function(ds,di){return di.isLocked&&(ds.onAny=!0,di.column===0?ds.onFirst=!0:di.column+di.colspan>=ro.grid.columns&&(ds.onLast=!0)),ds},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:aw(ro,Qn).isSome(),unmergeable:hb(ro,Qn).isSome(),locked:la}})},mt=function(){h.set(pn(be)()),k=h.get().bind(Pe),at(w.get(),function(Qn){return Qn()})},zt=function(Qn){return Qn(),w.set(w.get().concat([Qn])),function(){w.set(lt(w.get(),function(Er){return Er!==Qn}))}},At=function(Qn,Er){return zt(function(){return h.get().fold(function(){Qn.setDisabled(!0)},function(ca){Qn.setDisabled(Er(ca))})})},ht=function(Qn,Er,ca){return zt(function(){return h.get().fold(function(){Qn.setDisabled(!0),Qn.setActive(!1)},function(ro){Qn.setDisabled(Er(ro)),Qn.setActive(ca(ro))})})},Xt=function(Qn){return k.exists(function(Er){return Er.locked[Qn]})},en=function(Qn){return At(Qn,function(Er){return!1})},On=function(Qn){return At(Qn,function(Er){return R(Er.element)})},Ur=function(Qn){return function(Er){return At(Er,function(ca){return R(ca.element)||Xt(Qn)})}},Tn=function(Qn){return function(Er){return At(Er,function(ca){return R(ca.element)||Qn().isNone()})}},Yn=function(Qn,Er){return function(ca){return At(ca,function(ro){return R(ro.element)||Qn().isNone()||Xt(Er)})}},Sr=function(Qn){return At(Qn,function(Er){return F("mergeable")})},br=function(Qn){return At(Qn,function(Er){return F("unmergeable")})},wo=function(Qn){return ht(Qn,Xe,function(Er){var ca=Va(Er.element,Ps(u));return ca.exists(function(ro){return hk(ro,"caption")})})},fi=function(Qn,Er){return function(ca){return ht(ca,function(ro){return R(ro.element)},function(){return u.queryCommandValue(Qn)===Er})}},vi=fi("mceTableRowType","header"),$r=fi("mceTableColType","th");return u.on("NodeChange ExecCommand TableSelectorChange",mt),{onSetupTable:en,onSetupCellOrRow:On,onSetupColumn:Ur,onSetupPasteable:Tn,onSetupPasteableColumn:Yn,onSetupMergeable:Sr,onSetupUnmergeable:br,resetTargets:mt,onSetupTableWithCaption:wo,onSetupTableRowHeaders:vi,onSetupTableColumnHeaders:$r,targets:h.get}},xC=function(u,c,h,w){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(q){return q("inserttable | cell row column | advtablesort | tableprops deletetable")}});var k=function(q){return function(){return u.execCommand(q)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:k("mceTableProps"),icon:"table",onSetup:h.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:k("mceTableDelete"),icon:"table-delete-table",onSetup:h.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:k("mceTableCellProps"),icon:"table-cell-properties",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:k("mceTableMergeCells"),icon:"table-merge-cells",onSetup:h.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:k("mceTableSplitCells"),icon:"table-split-cells",onSetup:h.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:k("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:k("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:k("mceTableDeleteRow"),icon:"table-delete-row",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:k("mceTableRowProps"),icon:"table-row-properties",onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:k("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:h.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:k("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:h.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:k("mceTableDeleteCol"),icon:"table-delete-column",onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:k("mceTableCutRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:k("mceTableCopyRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:k("mceTablePasteRowBefore"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:k("mceTablePasteRowAfter"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:k("mceTableCutCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:k("mceTableCopyCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:k("mceTablePasteColBefore"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:k("mceTablePasteColAfter"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:k("mceInsertTable"),icon:"table"});var R=cd(Hp(u));R.length!==0&&u.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:hm(u,c,R,"tableclass",function(q){return u.execCommand("mceTableToggleClass",!1,q)}),onSetup:h.onSetupTable});var F=cd(Zc(u));F.length!==0&&u.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:hm(u,c,F,"tablecellclass",function(q){return u.execCommand("mceTableCellToggleClass",!1,q)}),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:hm(u,c,cg,"tablecellverticalalign",ld(u,"vertical-align")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:hm(u,c,wx(u),"tablecellborderwidth",ld(u,"border-width")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:hm(u,c,nu(u),"tablecellborderstyle",ld(u,"border-style")),onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:k("mceTableToggleCaption"),icon:"table-caption",onSetup:h.onSetupTableWithCaption}),u.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(q){return q(vg(u,q2(u),"background-color"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(q){return q(vg(u,K2(u),"border-color"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:Pw(u),onSetup:h.onSetupTableRowHeaders}),u.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:Iw(u),onSetup:h.onSetupTableColumnHeaders})},gk=function(u){var c=function(w){return u.dom.is(w,"table")&&u.getBody().contains(w)},h=Z3(u);h.length>0&&u.ui.registry.addContextToolbar("table",{predicate:c,items:h,scope:"node",position:"node"})},_C=function(u,c,h,w){var k=function(At){return function(){return u.execCommand(At)}},R=function(At){u.execCommand("mceInsertTable",!1,{rows:At.numRows,columns:At.numColumns})},F={text:"Table properties",onSetup:h.onSetupTable,onAction:k("mceTableProps")},q={text:"Delete table",icon:"table-delete-table",onSetup:h.onSetupTable,onAction:k("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:k("mceTableInsertRowBefore"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:k("mceTableInsertRowAfter"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:k("mceTableDeleteRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:k("mceTableRowProps"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:k("mceTableCutRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:k("mceTableCopyRow"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:k("mceTablePasteRowBefore"),onSetup:h.onSetupPasteable(w.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:k("mceTablePasteRowAfter"),onSetup:h.onSetupPasteable(w.getRows)});var ie={type:"nestedmenuitem",text:"Row",getSubmenuItems:de("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:k("mceTableInsertColBefore"),onSetup:h.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:k("mceTableInsertColAfter"),onSetup:h.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:k("mceTableDeleteCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:k("mceTableCutCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:k("mceTableCopyCol"),onSetup:h.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:k("mceTablePasteColBefore"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:k("mceTablePasteColAfter"),onSetup:h.onSetupPasteableColumn(w.getColumns,"onLast")});var be={type:"nestedmenuitem",text:"Column",getSubmenuItems:de("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:k("mceTableCellProps"),onSetup:h.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:k("mceTableMergeCells"),onSetup:h.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:k("mceTableSplitCells"),onSetup:h.onSetupUnmergeable});var Pe={type:"nestedmenuitem",text:"Cell",getSubmenuItems:de("tablecellprops tablemergecells tablesplitcells")};Cx(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:k("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:R}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:k("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",F),u.ui.registry.addMenuItem("deletetable",q),u.ui.registry.addNestedMenuItem("row",ie),u.ui.registry.addNestedMenuItem("column",be),u.ui.registry.addNestedMenuItem("cell",Pe),u.ui.registry.addContextMenu("table",{update:function(){return h.resetTargets(),h.targets().fold(de(""),function(At){return Qr(At.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var mt=cd(Hp(u));mt.length!==0&&u.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Pl(u,c,mt,"tableclass",function(At){return u.execCommand("mceTableToggleClass",!1,At)})},onSetup:h.onSetupTable});var zt=cd(Zc(u));zt.length!==0&&u.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Pl(u,c,zt,"tablecellclass",function(At){return u.execCommand("mceTableCellToggleClass",!1,At)})},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Pl(u,c,cg,"tablecellverticalalign",ld(u,"vertical-align"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Pl(u,c,wx(u),"tablecellborderwidth",ld(u,"border-width"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Pl(u,c,nu(u),"tablecellborderstyle",ld(u,"border-style"))},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:k("mceTableToggleCaption"),onSetup:h.onSetupTableWithCaption}),u.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return vg(u,q2(u),"background-color")},onSetup:h.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return vg(u,K2(u),"border-color")},onSetup:h.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:Pw(u),onSetup:h.onSetupTableRowHeaders}),u.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:Iw(u),onSetup:h.onSetupTableColumnHeaders})},b1=function(u){var c=ji(function(){return jc(u)},function(){return Di(jd(u),Ps(u))},Is.selectedSelector),h=vy(u,c),w=ub(u),k=Br(u,w.lazyResize,h),R=N4(u,k,w.lazyWire),F=Hb();return Lb(u,R,k,c,F),zb(u,R,c),Bl(u,c,R),_C(u,c,h,F),xC(u,c,h,F),gk(u),u.on("PreInit",function(){u.serializer.addTempAttr(Is.firstSelected),u.serializer.addTempAttr(Is.lastSelected),J4(u)}),vc(u)&&u.on("keydown",function(q){I_(q,u,k)}),u.on("remove",function(){w.destroy()}),rf(u,F,w,h)};function dy(){qS.add("table",b1)}dy()})();const zS=`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment{background-color:#fff0b7}.tox-comments-visible .tox-comment--active{background-color:#ffe168}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden):before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A);cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked:before{content:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A)}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden):before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body *[data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body *[contentEditable=false]{cursor:default}.mce-content-body *[contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A),default}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-object{background:transparent url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A) no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--21by9,.tiny-pageembed--16by9,.tiny-pageembed--4by3,.tiny-pageembed--1by1{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--21by9 iframe,.tiny-pageembed--16by9 iframe,.tiny-pageembed--4by3 iframe,.tiny-pageembed--1by1 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks):before{color:#222f3eb3;content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks):before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks):before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,.mce-content-body .mce-clonedresizable.mce-resizetable-columns td{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor:before{background-color:inherit;border-radius:50%;content:"";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover:after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body img[data-mce-selected],.mce-content-body video[data-mce-selected],.mce-content-body audio[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body table[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,.mce-content-body.mce-content-readonly *[contentEditable=true]:hover{outline:none}.mce-content-body *[data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:none}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:none}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{background-color:#b4d7ffb3;border:1px solid rgba(180,215,255,.7);bottom:-1px;content:"";left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.mce-content-body td[data-mce-selected]:after,.mce-content-body th[data-mce-selected]:after{border-color:#0054b4b3}}.mce-content-body img::-moz-selection{background:none}.mce-content-body img::selection{background:none}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}table[style*="border-width: 0px"],.mce-item-table:not([border]),.mce-item-table[border="0"],table[style*="border-width: 0px"] td,.mce-item-table:not([border]) td,.mce-item-table[border="0"] td,table[style*="border-width: 0px"] th,.mce-item-table:not([border]) th,.mce-item-table[border="0"] th,table[style*="border-width: 0px"] caption,.mce-item-table:not([border]) caption,.mce-item-table[border="0"] caption{border:1px dashed #bbb}.mce-visualblocks p,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks section,.mce-visualblocks article,.mce-visualblocks blockquote,.mce-visualblocks address,.mce-visualblocks pre,.mce-visualblocks figure,.mce-visualblocks figcaption,.mce-visualblocks hgroup,.mce-visualblocks aside,.mce-visualblocks ul,.mce-visualblocks ol,.mce-visualblocks dl{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) ul,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) dl{margin-left:3px}.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] ul,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] dl{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy:after{content:"-"}body{font-family:sans-serif}table{border-collapse:collapse}
`,HS=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) th,table:not([cellpadding]) td{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) th,table[border]:not([border="0"]):not([style*=border-width]) td{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) th,table[border]:not([border="0"]):not([style*=border-style]) td{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) th,table[border]:not([border="0"]):not([style*=border-color]) td{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}
`;const soe={class:"row"},loe=Z("hr",{class:"divider"},null,-1),coe={class:"row content-row"},foe={class:"row content-row"},voe=Z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),doe=Z("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),moe={class:"content-row"},hoe=Z("h3",null,"Zertifikat Bild",-1),goe=Z("hr",{class:"divider"},null,-1),poe={key:0,class:"image"},boe=["src"],yoe={class:"row"},woe={class:"col"},Coe={class:"content-row"},Soe={class:"errorMessages"},r9={__name:"ZertifikateForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newCertificate"],setup(f,{emit:m}){const y=f,b=Ft({"name:de":"","name:en":"","description:de":"","description:en":"",image:null}),S=Ft([]),_=Ft(y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen"),T=Ft(null),D=Xm(),L=()=>(S.value=[],b.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),j=()=>{L()&&(_.value=y.editMode?"Zertifikat aktualisieren...":"Zertifikat erstellen...",b.value["description:de"]=sa.get("editor_de").getContent(),b.value["description:en"]=sa.get("editor_en").getContent(),er.post("/certificates",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(z=>{_.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",y.insidePopup?m("newCertificate",z.data.certificate):D.push("/zertifikate")}).catch(z=>{console.log(z),_.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",z.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Zertifikat")}))},N=()=>{L()&&(_.value=y.editMode?"Zertifikat aktualisieren...":"Zertifikat erstellen...",b.value["description:de"]=sa.get("editor_de").getContent(),b.value["description:en"]=sa.get("editor_en").getContent(),console.log(b.value),b.value.image&&b.value.image!==null&&(b.value.image=b.value.image),er.patch(`/certificates/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(z=>{_.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",D.push("/zertifikate")}).catch(z=>{console.log(z),_.value=y.editMode?"Zertifikat aktualisieren":"Zertifikat erstellen",z.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Zertifikat")}))},V=z=>{const X=z.target.files;if(console.log(X),X)for(let G=0;G<X.length;G++){const Be=X[G],de=new FormData;de.append("file",Be),er.post("/media",de,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then($e=>{b.value.image=$e.data.media.id,T.value=$e.data.media.url}).catch($e=>{console.log($e),window.alert("Fehler beim Upload des Bildes")})}};ho(async()=>{y.editMode&&P(),sa.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:zS.toString()+`
`+HS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:z=>{z.on("init",()=>{z.setContent("<p>Zertifikats Beschreibung</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const P=()=>{er.get(`/certificates/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(z=>{b.value=z.data.certificate,b.value["name:de"]=z.data.certificate.translations[0].name,b.value["name:en"]=z.data.certificate.translations[1].name,z.data.certificate.image&&z.data.certificate.image!==null&&(b.value.image=z.data.certificate.image),z.data.certificate.image!==null&&(T.value=z.data.certificate.image.url),sa.get("editor_de").setContent(z.data.certificate.translations[0].description),sa.get("editor_en").setContent(z.data.certificate.translations[1].description)}).catch(z=>{z.response.status===401?sessionStorage.removeItem("token"):console.log(z)})};return ap(()=>{y.insidePopup||sa.remove()}),(z,X)=>{const G=io("router-Link");return nt(),it(Lr,null,[Z("div",soe,[Z("h1",null,fr(y.editMode?"Zertifikat Aktualisieren":"Zertifikat Erstellen"),1),y.insidePopup?(nt(),it("button",{key:1,class:"button-primary",onClick:X[0]||(X[0]=Be=>m("closePopup"))}," Abbrechen ")):(nt(),Td(G,{key:0,to:"/zertifikate",class:"button-primary"},{default:vn(()=>[Fr("Abbrechen")]),_:1}))]),loe,Z("div",coe,[Lt(Da,{lang:"de",title:"Zertifikat (DE)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":X[1]||(X[1]=Be=>b.value["name:de"]=Be),placeholder:"Name"},null,512),[[wr,b.value["name:de"]]])]),_:1}),Lt(Da,{lang:"en",title:"Zertifikat (EN)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":X[2]||(X[2]=Be=>b.value["name:en"]=Be),placeholder:"Name"},null,512),[[wr,b.value["name:en"]]])]),_:1})]),Z("div",foe,[Lt(Da,{lang:"de",title:"Beschreibung"},{content:vn(()=>[voe]),_:1}),Lt(Da,{lang:"en",title:"Description"},{content:vn(()=>[doe]),_:1})]),Z("div",moe,[hoe,goe,T.value?(nt(),it("div",poe,[Z("img",{src:T.value},null,8,boe)])):zr("",!0),Z("div",yoe,[Z("div",woe,[Z("input",{type:"file",onChange:V},null,32)])])]),Z("div",Coe,[Z("button",{class:"button-primary",onClick:X[3]||(X[3]=Be=>y.editMode?N():j())},fr(_.value),1),Z("div",Soe,[(nt(!0),it(Lr,null,So(S.value,Be=>(nt(),it("p",{key:Be},fr(Be),1))),128))])])],64)}}};const xoe={key:0,class:"Popup"},_oe={class:"addPopup"},koe={class:"select-container"},Aoe={class:"chip-container"},Eoe={class:"chip-name"},Toe=["onClick"],Ooe=Z("img",{src:LS,alt:"close",width:"15",height:"15"},null,-1),Doe=[Ooe],Roe={key:0,class:"selectable-options"},Boe=["onClick"],$oe={class:"option-content"},Moe={key:0,class:"option-avatar"},Poe=["src"],Ioe={class:"option-name"},Noe={__name:"CertificateSelect",props:{selectedCertificate:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=Ft([]),S=Ft(!1),_=Ft(!1),T=Ft([]),D=ri(()=>T.value.filter(z=>z.name.toLowerCase().includes(L.value.toLowerCase()))),L=Ft(""),j=z=>{b.value.push(z),T.value.push(z),_.value=!1},N=async()=>(await er.get("/certificates")).data.certificates,V=z=>{b.value.includes(z)||b.value.push(z)};window.addEventListener("click",z=>{z.target.closest(".select-container")||(S.value=!1)});function P(){return b.value.map(z=>z.id)}return m({getData:P}),ho(async()=>{T.value=await N()}),Gm(()=>y.selectedCertificate,z=>{b.value=z}),(z,X)=>(nt(),it("div",null,[_.value?(nt(),it("div",xoe,[Z("div",{class:"popupBackground",onClick:X[0]||(X[0]=G=>_.value=!1)}),Z("div",_oe,[Lt(r9,{insidePopup:!0,onClosePopup:X[1]||(X[1]=G=>_.value=!1),onNewCertificate:j})])])):zr("",!0),Z("div",koe,[Z("div",{class:"combobox",onClick:X[3]||(X[3]=G=>S.value=!0)},[Z("div",Aoe,[(nt(!0),it(Lr,null,So(b.value,G=>(nt(),it("div",{class:"chip",key:G.id},[Z("div",Eoe,fr(G.name),1),Z("div",{class:"chip-remove",onClick:Be=>b.value.splice(b.value.indexOf(G),1)},Doe,8,Toe)]))),128))]),S.value||b.value.length===0?gr((nt(),it("input",{key:0,type:"search","onUpdate:modelValue":X[2]||(X[2]=G=>L.value=G),placeholder:"Name des Zertifikates"},null,512)),[[wr,L.value]]):zr("",!0)]),S.value?(nt(),it("div",Roe,[(nt(!0),it(Lr,null,So(D.value,G=>(nt(),it("div",{class:"option",key:G.id,onClick:Be=>V(G)},[Z("div",$oe,[G.image?(nt(),it("div",Moe,[Z("img",{src:G.image.url,alt:"avatar"},null,8,Poe)])):zr("",!0),Z("div",Ioe,fr(G.name),1)])],8,Boe))),128)),D.value.length===0?(nt(),it("div",{key:0,class:"option",onClick:X[4]||(X[4]=G=>_.value=!0)},' "'+fr(L.value)+'" hinzufgen ? ',1)):zr("",!0)])):zr("",!0)])]))}},Foe={class:"row"},Loe=Z("hr",{class:"divider"},null,-1),zoe={class:"row content-row"},Hoe={class:"row content-row"},Voe=Z("div",null,[Z("a",{style:{"margin-top":"15px","margin-bottom":"5px","text-decoration":"underline"},href:"https://www.welt-flaggen.de/register/laenderkuerzel/"}," Liste der Lnderkrzel "),Z("p",null," Bitte die Krzel der Lnder von dieser Seite nehmen damit die Flaggen erscheinen. ber die Suche werden die Krzel sofort dargestellt (2-Stellig). ")],-1),Uoe={class:"content-row"},Woe={class:"errorMessages"},a9={__name:"SprachenForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newLanguage"],setup(f,{emit:m}){const y=f,b=Ft({"name:de":"","name:en":"","description:de":"","description:en":""}),S=Ft([]),_=Ft(y.editMode?"Sprache aktualisieren":"Sprache erstellen"),T=Ft(null),D=Xm(),L=()=>(S.value=[],b.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),j=()=>{L()&&(_.value=y.editMode?"Sprache aktualisieren...":"Sprache erstellen...",er.post("/languages",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",y.insidePopup?m("newLanguage",P.data.language):D.push("/sprachen")}).catch(P=>{console.log(P),_.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Sprache")}))},N=()=>{L()&&(_.value=y.editMode?"Sprache aktualisieren...":"Sprache erstellen...",b.value.image!==null&&(b.value.image=b.value.image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(P=>P.id)),b.value.guides!==null&&(b.value.guides=b.value.guides.map(P=>P.id)),er.patch(`/languages/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",D.push("/sprachen")}).catch(P=>{console.log(P),_.value=y.editMode?"Sprache aktualisieren":"Sprache erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Sprache")}))};ho(async()=>{y.editMode&&V()});const V=()=>{er.get(`/languages/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{b.value=P.data.language,b.value["name:de"]=P.data.language.translations[0].name,b.value["name:en"]=P.data.language.translations[1].name,b.value["description:de"]=P.data.language.translations[0].description,b.value["description:en"]=P.data.language.translations[1].description,b.value.image=P.data.language.image,P.data.language.image!==null&&(T.value=P.data.language.image.url)}).catch(P=>{P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return ap(()=>{y.insidePopup||tinymce.remove()}),(P,z)=>{const X=io("router-Link");return nt(),it(Lr,null,[Z("div",Foe,[Z("h1",null,fr(y.editMode?"Sprache Aktualisieren":"Sprache Erstellen"),1),y.insidePopup?(nt(),it("button",{key:1,class:"button-primary",onClick:z[0]||(z[0]=G=>m("closePopup"))}," Abbrechen ")):(nt(),Td(X,{key:0,to:"/sprachen",class:"button-primary"},{default:vn(()=>[Fr("Abbrechen")]),_:1}))]),Loe,Z("div",zoe,[Lt(Da,{lang:"de",title:"Sprache (DE)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":z[1]||(z[1]=G=>b.value["name:de"]=G),placeholder:"Name"},null,512),[[wr,b.value["name:de"]]])]),_:1}),Lt(Da,{lang:"en",title:"Sprache (EN)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":z[2]||(z[2]=G=>b.value["name:en"]=G),placeholder:"Name"},null,512),[[wr,b.value["name:en"]]])]),_:1})]),Z("div",Hoe,[Lt(Da,{lang:"de",title:"Krzel (DE)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":z[3]||(z[3]=G=>b.value["description:de"]=G),placeholder:"Krzel"},null,512),[[wr,b.value["description:de"]]])]),_:1}),Lt(Da,{lang:"en",title:"Krzel (EN)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":z[4]||(z[4]=G=>b.value["description:en"]=G),placeholder:"Shortname"},null,512),[[wr,b.value["description:en"]]])]),_:1}),Voe]),Z("div",Uoe,[Z("button",{class:"button-primary",onClick:z[5]||(z[5]=G=>y.editMode?N():j())},fr(_.value),1),Z("div",Woe,[(nt(!0),it(Lr,null,So(S.value,G=>(nt(),it("p",{key:G},fr(G),1))),128))])])],64)}}};const joe={key:0,class:"Popup"},Goe={class:"addPopup"},qoe={key:1,class:"select-container"},Koe={class:"chip-container"},Xoe={class:"chip-name"},Yoe=["onClick"],Joe=Z("img",{src:LS,alt:"close",width:"15",height:"15"},null,-1),Zoe=[Joe],Qoe={key:0,class:"selectable-options"},eie=["onClick"],tie={class:"option-content"},nie={key:0,class:"option-avatar"},rie=["src"],aie={class:"option-name"},oie={key:2,class:"loadingIndicator"},iie=Z("div",{class:"combobox"},[Z("span",null,"Lade Sprache...")],-1),uie=[iie],sie={__name:"SprachenSelect",props:{selectedLanguages:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=Ft([]),S=Ft(!1),_=Ft(!1),T=Ft([]),D=ri(()=>T.value.filter(z=>z.name.toLowerCase().includes(L.value.toLowerCase()))),L=Ft(""),j=z=>{b.value.push(z),T.value.push(z),_.value=!1},N=async()=>(await er.get("/languages")).data.languages,V=z=>{b.value.includes(z)||b.value.push(z)};window.addEventListener("click",z=>{z.target.closest(".select-container")||(S.value=!1)});function P(){return b.value.map(z=>z.id)}return m({getData:P}),ho(async()=>{T.value=await N()}),Gm(()=>y.selectedLanguages,z=>{b.value=z}),(z,X)=>(nt(),it("div",null,[_.value?(nt(),it("div",joe,[Z("div",{class:"popupBackground",onClick:X[0]||(X[0]=G=>_.value=!1)}),Z("div",Goe,[Lt(a9,{insidePopup:!0,onClosePopup:X[1]||(X[1]=G=>_.value=!1),onNewLanguage:j})])])):zr("",!0),T.value.length>0?(nt(),it("div",qoe,[Z("div",{class:"combobox",onClick:X[3]||(X[3]=G=>S.value=!0)},[Z("div",Koe,[(nt(!0),it(Lr,null,So(b.value,G=>(nt(),it("div",{class:"chip",key:G.id},[Z("div",Xoe,fr(G.name),1),Z("div",{class:"chip-remove",onClick:Be=>b.value.splice(b.value.indexOf(G),1)},Zoe,8,Yoe)]))),128))]),S.value||b.value.length===0?gr((nt(),it("input",{key:0,type:"search","onUpdate:modelValue":X[2]||(X[2]=G=>L.value=G),placeholder:"Name der Sprache"},null,512)),[[wr,L.value]]):zr("",!0)]),S.value?(nt(),it("div",Qoe,[(nt(!0),it(Lr,null,So(D.value,G=>(nt(),it("div",{class:"option",key:G.id,onClick:Be=>V(G)},[Z("div",tie,[G.image?(nt(),it("div",nie,[Z("img",{src:G.image.url,alt:"avatar"},null,8,rie)])):zr("",!0),Z("div",aie,fr(G.name),1)])],8,eie))),128)),D.value.length===0?(nt(),it("div",{key:0,class:"option",onClick:X[4]||(X[4]=G=>_.value=!0)},' "'+fr(L.value)+'" hinzufgen ? ',1)):zr("",!0)])):zr("",!0)])):(nt(),it("div",oie,uie))]))}},lie={class:"row"},cie=Z("hr",{class:"divider"},null,-1),fie={class:"row content-row"},vie={class:"content-row"},die={class:"errorMessages"},o9={__name:"SkillForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newSkill"],setup(f,{emit:m}){const y=f,b=Ft({"name:de":"","name:en":"","description:de":"","description:en":""}),S=Ft([]),_=Ft(y.editMode?"Skill aktualisieren":"Skill erstellen"),T=Ft(null),D=Xm(),L=()=>(S.value=[],b.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),j=()=>{L()&&(_.value=y.editMode?"Skill aktualisieren...":"Skill erstellen...",er.post("/skills",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=y.editMode?"Thema aktualisieren":"Thema erstellen",y.insidePopup?m("newSkill",P.data.skill):D.push("/skills")}).catch(P=>{console.log(P),_.value=y.editMode?"Skill aktualisieren":"Skill erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Skill")}))},N=()=>{L()&&(_.value=y.editMode?"Thema aktualisieren...":"Thema erstellen...",b.value.image&&b.value.image!==null&&(b.value.image=b.value.image.id),b.value.guides!==null&&b.value.guides.length>0?b.value.guides=b.value.guides.map(P=>P.id):b.value.guides=null,er.patch(`/skills/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=y.editMode?"Skill aktualisieren":"Skill erstellen",D.push("/skills")}).catch(P=>{console.log(P),_.value=y.editMode?"Thema aktualisieren":"Thema erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Themas")}))};ho(async()=>{y.editMode&&V()});const V=()=>{er.get(`/skills/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{b.value=P.data.skill,b.value["name:de"]=P.data.skill.translations[0].name,b.value["name:en"]=P.data.skill.translations[1].name,b.value.image=P.data.skill.image,P.data.skill.image!==null&&(T.value=P.data.skill.image.url)}).catch(P=>{P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return ap(()=>{y.insidePopup||tinymce.remove()}),(P,z)=>{const X=io("router-Link");return nt(),it(Lr,null,[Z("div",lie,[Z("h1",null,fr(y.editMode?"Thema Aktualisieren":"Thema Erstellen"),1),y.insidePopup?(nt(),it("button",{key:1,class:"button-primary",onClick:z[0]||(z[0]=G=>m("closePopup"))}," Abbrechen ")):(nt(),Td(X,{key:0,to:"/skills",class:"button-primary"},{default:vn(()=>[Fr("Abbrechen")]),_:1}))]),cie,Z("div",fie,[Lt(Da,{lang:"de",title:"Skill (DE)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":z[1]||(z[1]=G=>b.value["name:de"]=G),placeholder:"Name"},null,512),[[wr,b.value["name:de"]]])]),_:1}),Lt(Da,{lang:"en",title:"Skill (EN)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":z[2]||(z[2]=G=>b.value["name:en"]=G),placeholder:"Name"},null,512),[[wr,b.value["name:en"]]])]),_:1})]),Z("div",vie,[Z("button",{class:"button-primary",onClick:z[3]||(z[3]=G=>y.editMode?N():j())},fr(_.value),1),Z("div",die,[(nt(!0),it(Lr,null,So(S.value,G=>(nt(),it("p",{key:G},fr(G),1))),128))])])],64)}}};const mie={key:0,class:"Popup"},hie={class:"addPopup"},gie={key:1,class:"select-container"},pie={class:"chip-container"},bie={class:"chip-name"},yie=["onClick"],wie=Z("img",{src:LS,alt:"close",width:"15",height:"15"},null,-1),Cie=[wie],Sie={key:0,class:"selectable-options"},xie=["onClick"],_ie={class:"option-content"},kie={key:0,class:"option-avatar"},Aie=["src"],Eie={class:"option-name"},Tie={key:2,class:"loadingIndicator"},Oie=Z("div",{class:"combobox"},[Z("span",null,"Lade Skills...")],-1),Die=[Oie],Rie={__name:"SkillSelect",props:{selectedSkills:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=Ft([]),S=Ft(!1),_=Ft(!1),T=Ft([]),D=ri(()=>T.value.filter(z=>z.name.toLowerCase().includes(L.value.toLowerCase()))),L=Ft(""),j=z=>{b.value.push(z),T.value.push(z),_.value=!1},N=async()=>(await er.get("/skills")).data.skills,V=z=>{b.value.includes(z)||b.value.push(z)};window.addEventListener("click",z=>{z.target.closest(".select-container")||(S.value=!1)});function P(){return b.value.map(z=>z.id)}return m({getData:P}),ho(async()=>{T.value=await N()}),Gm(()=>y.selectedSkills,z=>{b.value=z}),(z,X)=>(nt(),it("div",null,[_.value?(nt(),it("div",mie,[Z("div",{class:"popupBackground",onClick:X[0]||(X[0]=G=>_.value=!1)}),Z("div",hie,[Lt(o9,{insidePopup:!0,onClosePopup:X[1]||(X[1]=G=>_.value=!1),onNewSkill:j})])])):zr("",!0),T.value.length>0?(nt(),it("div",gie,[Z("div",{class:"combobox",onClick:X[3]||(X[3]=G=>S.value=!0)},[Z("div",pie,[(nt(!0),it(Lr,null,So(b.value,G=>(nt(),it("div",{class:"chip",key:G.id},[Z("div",bie,fr(G.name),1),Z("div",{class:"chip-remove",onClick:Be=>b.value.splice(b.value.indexOf(G),1)},Cie,8,yie)]))),128))]),S.value||b.value.length===0?gr((nt(),it("input",{key:0,type:"search","onUpdate:modelValue":X[2]||(X[2]=G=>L.value=G),placeholder:"Name des Skills"},null,512)),[[wr,L.value]]):zr("",!0)]),S.value?(nt(),it("div",Sie,[(nt(!0),it(Lr,null,So(D.value,G=>(nt(),it("div",{class:"option",key:G.id,onClick:Be=>V(G)},[Z("div",_ie,[G.image?(nt(),it("div",kie,[Z("img",{src:G.image.url,alt:"avatar"},null,8,Aie)])):zr("",!0),Z("div",Eie,fr(G.name),1)])],8,xie))),128)),D.value.length===0?(nt(),it("div",{key:0,class:"option",onClick:X[4]||(X[4]=G=>_.value=!0)},' "'+fr(L.value)+'" hinzufgen ? ',1)):zr("",!0)])):zr("",!0)])):(nt(),it("div",Tie,Die))]))}},Bie={class:"row"},$ie=Z("hr",{class:"divider"},null,-1),Mie={class:"row content-row"},Pie={class:"row content-row"},Iie=Z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),Nie=Z("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Fie={class:"content-row"},Lie={class:"errorMessages"},i9={__name:"MobilitaetForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newMobility"],setup(f,{emit:m}){const y=f,b=Ft({"name:de":"","name:en":"","description:de":"","description:en":""}),S=Ft([]),_=Ft(y.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen"),T=Ft(null),D=Xm(),L=()=>(S.value=[],b.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),j=()=>{L()&&(_.value=y.editMode?"Mobilitt aktualisieren...":"Mobilitt erstellen...",b.value["description:de"]=sa.get("editor_de").getContent(),b.value["description:en"]=sa.get("editor_en").getContent(),er.post("/mobility",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=y.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen",y.insidePopup?m("newMobility",P.data.mobility):D.push("/mobilitaet")}).catch(P=>{console.log(P),_.value=y.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen der Mobilitt")}))},N=()=>{L()&&(_.value=y.editMode?"Mobilitt aktualisieren...":"Mobilitt erstellen...",b.value["description:de"]=sa.get("editor_de").getContent(),b.value["description:en"]=sa.get("editor_en").getContent(),b.value.main_image!==null&&(b.value.main_image=b.value.main_image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(P=>P.id)),b.value.guides!==null&&(b.value.guides=b.value.guides.map(P=>P.id)),er.patch(`/mobility/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=y.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen",D.push("/mobilitaet")}).catch(P=>{console.log(P),_.value=y.editMode?"Mobilitt aktualisieren":"Mobilitt erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Mobilitt")}))};ho(async()=>{y.editMode&&V(),sa.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:zS.toString()+`
`+HS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:P=>{P.on("init",()=>{P.setContent("<p>Mobilitts Beschreibung</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const V=()=>{er.get(`/mobility/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{b.value=P.data.mobility,b.value["name:de"]=P.data.mobility.translations[0].name,b.value["name:en"]=P.data.mobility.translations[1].name,b.value.main_image=P.data.mobility.main_image,P.data.mobility.main_image!==null&&(T.value=P.data.mobility.main_image.url),sa.get("editor_de").setContent(P.data.mobility.translations[0].description),sa.get("editor_en").setContent(P.data.mobility.translations[1].description)}).catch(P=>{P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return ap(()=>{y.insidePopup||sa.remove()}),(P,z)=>{const X=io("router-Link");return nt(),it(Lr,null,[Z("div",Bie,[Z("h1",null,fr(y.editMode?"Mobilitt Aktualisieren":"Mobilitt Erstellen"),1),y.insidePopup?(nt(),it("button",{key:1,class:"button-primary",onClick:z[0]||(z[0]=G=>m("closePopup"))}," Abbrechen ")):(nt(),Td(X,{key:0,to:"/mobilitaet",class:"button-primary"},{default:vn(()=>[Fr("Abbrechen")]),_:1}))]),$ie,Z("div",Mie,[Lt(Da,{lang:"de",title:"Mobilitt (DE)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":z[1]||(z[1]=G=>b.value["name:de"]=G),placeholder:"Name"},null,512),[[wr,b.value["name:de"]]])]),_:1}),Lt(Da,{lang:"en",title:"Mobilitt (EN)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":z[2]||(z[2]=G=>b.value["name:en"]=G),placeholder:"Name"},null,512),[[wr,b.value["name:en"]]])]),_:1})]),Z("div",Pie,[Lt(Da,{lang:"de",title:"Beschreibung"},{content:vn(()=>[Iie]),_:1}),Lt(Da,{lang:"en",title:"Description"},{content:vn(()=>[Nie]),_:1})]),Z("div",Fie,[Z("button",{class:"button-primary",onClick:z[3]||(z[3]=G=>y.editMode?N():j())},fr(_.value),1),Z("div",Lie,[(nt(!0),it(Lr,null,So(S.value,G=>(nt(),it("p",{key:G},fr(G),1))),128))])])],64)}}};const zie={key:0,class:"Popup"},Hie={class:"addPopup"},Vie={key:1,class:"select-container"},Uie={class:"chip-container"},Wie={class:"chip-name"},jie=["onClick"],Gie=Z("img",{src:LS,alt:"close",width:"15",height:"15"},null,-1),qie=[Gie],Kie={key:0,class:"selectable-options"},Xie=["onClick"],Yie={class:"option-content"},Jie={key:0,class:"option-avatar"},Zie=["src"],Qie={class:"option-name"},eue={key:2,class:"loadingIndicator"},tue=Z("div",{class:"combobox"},[Z("span",null,"Lade Mobilitten...")],-1),nue=[tue],u9={__name:"MobilitaetSelect",props:{selectedMobilites:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=Ft([]),S=Ft(!1),_=Ft(!1),T=Ft([]),D=ri(()=>T.value.filter(z=>z.name.toLowerCase().includes(L.value.toLowerCase()))),L=Ft(""),j=z=>{console.log(z),b.value.push(z),T.value.push(z),_.value=!1},N=async()=>(await er.get("/mobility")).data.mobilities,V=z=>{b.value.includes(z)||b.value.push(z)};window.addEventListener("click",z=>{z.target.closest(".select-container")||(S.value=!1)});function P(){return b.value.map(z=>z.id)}return m({getData:P}),ho(async()=>{T.value=await N()}),Gm(()=>y.selectedMobilites,z=>{b.value=z}),(z,X)=>(nt(),it("div",null,[_.value?(nt(),it("div",zie,[Z("div",{class:"popupBackground",onClick:X[0]||(X[0]=G=>_.value=!1)}),Z("div",Hie,[Lt(i9,{insidePopup:!0,onClosePopup:X[1]||(X[1]=G=>_.value=!1),onNewMobility:j})])])):zr("",!0),T.value.length>0?(nt(),it("div",Vie,[Z("div",{class:"combobox",onClick:X[3]||(X[3]=G=>S.value=!0)},[Z("div",Uie,[(nt(!0),it(Lr,null,So(b.value,G=>(nt(),it("div",{class:"chip",key:G.id},[Z("div",Wie,fr(G.name),1),Z("div",{class:"chip-remove",onClick:Be=>b.value.splice(b.value.indexOf(G),1)},qie,8,jie)]))),128))]),S.value||b.value.length===0?gr((nt(),it("input",{key:0,type:"search","onUpdate:modelValue":X[2]||(X[2]=G=>L.value=G),placeholder:"Name der Mobilitt"},null,512)),[[wr,L.value]]):zr("",!0)]),S.value?(nt(),it("div",Kie,[(nt(!0),it(Lr,null,So(D.value,G=>(nt(),it("div",{class:"option",key:G.id,onClick:Be=>V(G)},[Z("div",Yie,[G.image?(nt(),it("div",Jie,[Z("img",{src:G.image.url,alt:"avatar"},null,8,Zie)])):zr("",!0),Z("div",Qie,fr(G.name),1)])],8,Xie))),128)),D.value.length===0?(nt(),it("div",{key:0,class:"option",onClick:X[4]||(X[4]=G=>_.value=!0)},' "'+fr(L.value)+'" hinzufgen ? ',1)):zr("",!0)])):zr("",!0)])):(nt(),it("div",eue,nue))]))}};const rue={class:"row"},aue=Z("hr",{class:"divider"},null,-1),oue={class:"row content-row"},iue={class:"row content-row"},uue=Z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),sue=Z("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),lue={class:"content-row"},cue=Z("h3",null,"Guide Eigenschaften",-1),fue=Z("hr",{class:"divider"},null,-1),vue={class:"row"},due={class:"col",style:{width:"23%","min-width":"200px"}},mue=Z("span",null,"Zertifikatsauswahl",-1),hue={class:"col",style:{width:"23%","min-width":"200px"}},gue=Z("span",null,"Sprachauswahl",-1),pue={class:"col",style:{width:"23%","min-width":"200px"}},bue=Z("span",null,"Mobilittsauswahl",-1),yue={class:"col",style:{width:"23%","min-width":"200px"}},wue=Z("span",null,"Skillauswahl",-1),Cue={class:"content-row"},Sue=Z("h3",null,"Kontakt",-1),xue=Z("hr",{class:"divider"},null,-1),_ue={class:"row"},kue={class:"col"},Aue=Z("span",null,"Email",-1),Eue={class:"col"},Tue=Z("span",null,"Telefon",-1),Oue={class:"col"},Due=Z("span",null,"Webseite",-1),Rue={class:"col"},Bue=Z("span",null,"Handynummer",-1),$ue={class:"content-row"},Mue=Z("h3",null,"Guide Bild",-1),Pue=Z("hr",{class:"divider"},null,-1),Iue={key:0,class:"image"},Nue=["src"],Fue={class:"row"},Lue={class:"col"},zue={class:"content-row"},Hue={class:"errorMessages"},s9={__name:"GuideForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newGuide"],setup(f,{emit:m}){const y=f,b=Ft(null),S=Ft(null),_=Ft(null),T=Ft(null),D=Ft({"name:de":"","name:en":"","description:de":"","description:en":"",contact:{},image:null,languages:[],skills:[],mobility:[],certificates:[]}),L=Ft([]),j=Ft(y.editMode?"Guide aktualisieren":"Guide erstellen"),N=Ft(null),V=Xm(),P=()=>{const $e=b.value.getData(),ue=S.value.getData(),Ee=_.value.getData(),De=T.value.getData();return D.value.certificates=$e,D.value.languages=ue,D.value.mobility=Ee,D.value.skills=De,L.value=[],D.value["name:de"]===""&&L.value.push("Bitte geben Sie einen Namen (DE) ein"),D.value["name:en"]===""&&L.value.push("Bitte geben Sie einen Namen (EN) ein"),D.value.languages.length===0&&L.value.push("Bitte whlen Sie mindestens eine Sprache aus"),L.value.length===0},z=()=>{P()&&(j.value=y.editMode?"Guide aktualisieren...":"Guide erstellen...",D.value["description:de"]=sa.get("editor_de").getContent(),D.value["description:en"]=sa.get("editor_en").getContent(),er.post("/guides",D.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then($e=>{j.value=y.editMode?"Guide aktualisieren":"Guide erstellen",y.insidePopup?m("newGuide",$e.data.guide):V.push("/guides")}).catch($e=>{j.value=y.editMode?"Guide aktualisieren":"Guide erstellen",$e.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen des Guides")}))},X=()=>{if(!P())return;j.value=y.editMode?"Guide aktualisieren...":"Guide erstellen...",D.tours!==null&&(D.value.tours=D.value.tours.map(ke=>ke.id)),D.languages!==null&&(D.value.languages=D.value.languages.map(ke=>ke.id)),D.skills!==null&&(D.value.skills=D.value.skills.map(ke=>ke.id)),D.mobility!==null&&(D.value.mobility=D.value.mobility.map(ke=>ke.id)),D.certificates!==null&&(D.value.certificates=D.value.certificates.map(ke=>ke.id)),typeof D.value.image=="object"&&D.value.image!==null&&(D.value.image=D.value.image.id),D.value["description:de"]=sa.get("editor_de").getContent(),D.value["description:en"]=sa.get("editor_en").getContent();const $e=b.value.getData(),ue=S.value.getData(),Ee=_.value.getData(),De=T.value.getData();D.value.certificates=$e,D.value.languages=ue,D.value.mobility=Ee,D.value.skills=De,er.patch(`/guides/${y.id}`,D.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ke=>{j.value=y.editMode?"Guide aktualisieren":"Guide erstellen",V.push("/guides")}).catch(ke=>{console.log(ke),j.value=y.editMode?"Guide aktualisieren":"Guide erstellen",ke.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Guides")})},G=$e=>{const ue=$e.target.files;if(console.log(ue),ue)for(let Ee=0;Ee<ue.length;Ee++){const De=ue[Ee],ke=new FormData;ke.append("file",De),er.post("/media",ke,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Xe=>{D.value.image=Xe.data.media.id,N.value=Xe.data.media.url}).catch(Xe=>{console.log(Xe),window.alert("Fehler beim Upload des Bildes")})}};ho(async()=>{y.editMode&&Be(),sa.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:zS.toString()+`
`+HS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:$e=>{$e.on("init",()=>{$e.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})});const Be=()=>{er.get(`/guides/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then($e=>{D.value=$e.data.guide,D.value["name:de"]=$e.data.guide.translations[0].name,D.value["name:en"]=$e.data.guide.translations[1].name,D.value["description:de"]=$e.data.guide.translations[0].description,D.value["description:en"]=$e.data.guide.translations[1].description,$e.data.guide.contact!==null&&!Array.isArray(JSON.parse($e.data.guide.contact))?D.value.contact=JSON.parse($e.data.guide.contact):D.value.contact={},N.value=$e.data.guide.image?$e.data.guide.image[0].url:null,D.value.languages=$e.data.guide.languages,D.value.skills=$e.data.guide.skills,D.value.mobility=$e.data.guide.mobility,D.value.certificates=$e.data.guide.certificates,$e.data.guide.image!==null&&(N.value=$e.data.guide.image[0].url),sa.get("editor_de").setContent($e.data.guide.translations[0].description||""),sa.get("editor_en").setContent($e.data.guide.translations[1].description||""),console.log(D)}).catch($e=>{console.log($e),$e.response.status===401?sessionStorage.removeItem("token"):console.log($e)})},de=()=>{D.value.image=null,N.value=null};return ap(()=>{y.insidePopup||sa.remove()}),($e,ue)=>{const Ee=io("router-Link");return nt(),it(Lr,null,[Z("div",rue,[Z("h1",null,fr(y.editMode?"Guide Aktualisieren":"Guide Erstellen"),1),y.insidePopup?(nt(),it("button",{key:1,class:"button-primary",onClick:ue[0]||(ue[0]=De=>m("closePopup"))}," Abbrechen ")):(nt(),Td(Ee,{key:0,to:"/guides",class:"button-primary"},{default:vn(()=>[Fr("Abbrechen")]),_:1}))]),aue,Z("div",oue,[Lt(Da,{lang:"de",title:"Name"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":ue[1]||(ue[1]=De=>D.value["name:de"]=De),placeholder:"Name"},null,512),[[wr,D.value["name:de"]]])]),_:1}),Lt(Da,{lang:"en",title:"Name"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":ue[2]||(ue[2]=De=>D.value["name:en"]=De),placeholder:"Name"},null,512),[[wr,D.value["name:en"]]])]),_:1})]),Z("div",iue,[Lt(Da,{lang:"de",title:"Beschreibung"},{content:vn(()=>[uue]),_:1}),Lt(Da,{lang:"en",title:"Description"},{content:vn(()=>[sue]),_:1})]),Z("div",lue,[cue,fue,Z("div",vue,[Z("div",due,[mue,Lt(Noe,{ref_key:"certificateSelect",ref:b,"selected-certificate":D.value.certificates},null,8,["selected-certificate"])]),Z("div",hue,[gue,Lt(sie,{ref_key:"languageSelect",ref:S,"selected-languages":D.value.languages},null,8,["selected-languages"])]),Z("div",pue,[bue,Lt(u9,{ref_key:"mobilitySelect",ref:_,"selected-mobilites":D.value.mobility},null,8,["selected-mobilites"])]),Z("div",yue,[wue,Lt(Rie,{ref_key:"skillSelect",ref:T,"selected-skills":D.value.skills},null,8,["selected-skills"])])])]),Z("div",Cue,[Sue,xue,Z("div",_ue,[Z("div",kue,[Aue,gr(Z("input",{type:"text",placeholder:"Email","onUpdate:modelValue":ue[3]||(ue[3]=De=>D.value.contact.email=De)},null,512),[[wr,D.value.contact.email]])]),Z("div",Eue,[Tue,gr(Z("input",{type:"text",placeholder:"Telefon","onUpdate:modelValue":ue[4]||(ue[4]=De=>D.value.contact.phone=De)},null,512),[[wr,D.value.contact.phone]])]),Z("div",Oue,[Due,gr(Z("input",{type:"text",placeholder:"Webseite","onUpdate:modelValue":ue[5]||(ue[5]=De=>D.value.contact.website=De)},null,512),[[wr,D.value.contact.website]])]),Z("div",Rue,[Bue,gr(Z("input",{type:"text",placeholder:"Handynummer","onUpdate:modelValue":ue[6]||(ue[6]=De=>D.value.contact.mobile=De)},null,512),[[wr,D.value.contact.mobile]])])])]),Z("div",$ue,[Mue,Pue,N.value?(nt(),it("div",Iue,[Z("img",{src:N.value},null,8,Nue)])):zr("",!0),N.value?(nt(),it("a",{key:1,onClick:de,class:"removeImage"},"Bild entfernen")):zr("",!0),Z("div",Fue,[Z("div",Lue,[Z("input",{type:"file",onChange:G},null,32)])])]),Z("div",zue,[Z("button",{class:"button-primary",onClick:ue[7]||(ue[7]=De=>y.editMode?X():z())},fr(j.value),1),Z("div",Hue,[(nt(!0),it(Lr,null,So(L.value,De=>(nt(),it("p",{key:De},fr(De),1))),128))])])],64)}}};const Vue={key:0,class:"Popup"},Uue={class:"addPopup"},Wue={key:1,class:"select-container"},jue={class:"chip-container"},Gue={class:"chip-name"},que=["onClick"],Kue=Z("img",{src:LS,alt:"close",width:"15",height:"15"},null,-1),Xue=[Kue],Yue={key:0,class:"selectable-options"},Jue=["onClick"],Zue={class:"option-content"},Que={key:0,class:"option-avatar"},ese=["src"],tse={class:"option-name"},nse={key:2,class:"loadingIndicator"},rse=Z("div",{class:"combobox"},[Z("span",null,"Lade Guides...")],-1),ase=[rse],vG={__name:"GuideSelect",props:{selectedGuides:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=Ft([]),S=Ft(!1),_=Ft(!1),T=Ft([]),D=ri(()=>T.value.filter(z=>z.name.toLowerCase().includes(L.value.toLowerCase()))),L=Ft(""),j=z=>{b.value.push(z),T.value.push(z),_.value=!1},N=async()=>(await er.get("/guides?preview=true&per_page=300")).data.guides.data,V=z=>{b.value.includes(z)||b.value.push(z)};window.addEventListener("click",z=>{z.target.closest(".select-container")||(S.value=!1)});function P(){return b.value.map(z=>z.id)}return m({getData:P}),ho(async()=>{T.value=await N()}),Gm(()=>y.selectedGuides,z=>{console.log(z),b.value=z}),(z,X)=>(nt(),it("div",null,[_.value?(nt(),it("div",Vue,[Z("div",{class:"popupBackground",onClick:X[0]||(X[0]=G=>_.value=!1)}),Z("div",Uue,[Lt(s9,{insidePopup:"true",onClosePopup:X[1]||(X[1]=G=>_.value=!1),onNewGuide:j})])])):zr("",!0),T.value.length>0?(nt(),it("div",Wue,[Z("div",{class:"combobox",onClick:X[3]||(X[3]=G=>S.value=!0)},[Z("div",jue,[(nt(!0),it(Lr,null,So(b.value,G=>(nt(),it("div",{class:"chip",key:G.id},[Z("div",Gue,fr(G.name),1),Z("div",{class:"chip-remove",onClick:Be=>b.value.splice(b.value.indexOf(G),1)},Xue,8,que)]))),128))]),S.value||b.value.length===0?gr((nt(),it("input",{key:0,type:"search","onUpdate:modelValue":X[2]||(X[2]=G=>L.value=G),placeholder:"Name des Guides"},null,512)),[[wr,L.value]]):zr("",!0)]),S.value?(nt(),it("div",Yue,[(nt(!0),it(Lr,null,So(D.value,G=>(nt(),it("div",{class:"option",key:G.id,onClick:Be=>V(G)},[Z("div",Zue,[G.image?(nt(),it("div",Que,[Z("img",{src:G.image[0].url,alt:"avatar"},null,8,ese)])):zr("",!0),Z("div",tse,fr(G.name),1)])],8,Jue))),128)),D.value.length===0?(nt(),it("div",{key:0,class:"option",onClick:X[4]||(X[4]=G=>_.value=!0)},' "'+fr(L.value)+'" hinzufgen ? ',1)):zr("",!0)])):zr("",!0)])):(nt(),it("div",nse,ase))]))}},ose={class:"row"},ise=Z("hr",{class:"divider"},null,-1),use={class:"row content-row"},sse={class:"content-row"},lse={class:"errorMessages"},l9={__name:"OrtFrom",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newPlace"],setup(f,{emit:m}){const y=f,b=Ft({"name:de":"","name:en":"","description:de":"","description:en":""}),S=Ft([]),_=Ft(y.editMode?"Ort aktualisieren":"Ort erstellen"),T=Ft(null),D=Xm(),L=()=>(S.value=[],b.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),j=()=>{L()&&(_.value=y.editMode?"Ort aktualisieren...":"Ort erstellen...",er.post("/places",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=y.editMode?"Ort aktualisieren":"Ort erstellen",y.insidePopup?m("newPlace",P.data.place):D.push("/orte")}).catch(P=>{console.log(P),_.value=y.editMode?"Ort aktualisieren":"Ort erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen des Ortes")}))},N=()=>{L()&&(_.value=y.editMode?"Ort aktualisieren...":"Ort erstellen...",b.value.main_image!==null&&(b.value.main_image=b.value.main_image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(P=>P.id)),er.patch(`/places/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=y.editMode?"Ort aktualisieren":"Ort erstellen",D.push("/orte")}).catch(P=>{console.log(P),_.value=y.editMode?"Ort aktualisieren":"Ort erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren des Ortes")}))};ho(async()=>{y.editMode&&V()});const V=()=>{er.get(`/places/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{b.value=P.data.place,b.value["name:de"]=P.data.place.translations[0].name,b.value["name:en"]=P.data.place.translations[1].name,b.value.main_image=P.data.place.main_image,P.data.place.main_image!==null&&(T.value=P.data.place.main_image.url)}).catch(P=>{P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return ap(()=>{y.insidePopup||tinymce.remove()}),(P,z)=>{const X=io("router-Link");return nt(),it(Lr,null,[Z("div",ose,[Z("h1",null,fr(y.editMode?"Ort Aktualisieren":"Ort Erstellen"),1),y.insidePopup?(nt(),it("button",{key:1,class:"button-primary",onClick:z[0]||(z[0]=G=>m("closePopup"))}," Abbrechen ")):(nt(),Td(X,{key:0,to:"/orte",class:"button-primary"},{default:vn(()=>[Fr("Abbrechen")]),_:1}))]),ise,Z("div",use,[Lt(Da,{lang:"de",title:"Ort (DE)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":z[1]||(z[1]=G=>b.value["name:de"]=G),placeholder:"Name"},null,512),[[wr,b.value["name:de"]]])]),_:1}),Lt(Da,{lang:"en",title:"Ort (EN)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":z[2]||(z[2]=G=>b.value["name:en"]=G),placeholder:"Name"},null,512),[[wr,b.value["name:en"]]])]),_:1})]),Z("div",sse,[Z("button",{class:"button-primary",onClick:z[3]||(z[3]=G=>y.editMode?N():j())},fr(_.value),1),Z("div",lse,[(nt(!0),it(Lr,null,So(S.value,G=>(nt(),it("p",{key:G},fr(G),1))),128))])])],64)}}};const cse={key:0,class:"Popup"},fse={class:"addPopup"},vse={key:1,class:"select-container"},dse={class:"chip-container"},mse={class:"chip-name"},hse=["onClick"],gse=Z("img",{src:LS,alt:"close",width:"15",height:"15"},null,-1),pse=[gse],bse={key:0,class:"selectable-options"},yse=["onClick"],wse={class:"option-content"},Cse={key:0,class:"option-avatar"},Sse=["src"],xse={class:"option-name"},_se={key:2,class:"loadingIndicator"},kse=Z("div",{class:"combobox"},[Z("span",null,"Lade Orte...")],-1),Ase=[kse],dG={__name:"OrtSelect",props:{selectedplaces:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=Ft([]),S=Ft(!1),_=Ft(!1),T=Ft([]),D=ri(()=>T.value.filter(z=>z.name.toLowerCase().includes(L.value.toLowerCase()))),L=Ft(""),j=z=>{b.value.push(z),T.value.push(z),_.value=!1},N=async()=>(await er.get("/places")).data.places,V=z=>{b.value.includes(z)||b.value.push(z)};window.addEventListener("click",z=>{z.target.closest(".select-container")||(S.value=!1)});function P(){return b.value.map(z=>z.id)}return m({getData:P}),ho(async()=>{T.value=await N()}),Gm(()=>y.selectedplaces,z=>{b.value=z}),(z,X)=>(nt(),it("div",null,[_.value?(nt(),it("div",cse,[Z("div",{class:"popupBackground",onClick:X[0]||(X[0]=G=>_.value=!1)}),Z("div",fse,[Lt(l9,{insidePopup:!0,onClosePopup:X[1]||(X[1]=G=>_.value=!1),onNewPlace:j})])])):zr("",!0),T.value.length>0?(nt(),it("div",vse,[Z("div",{class:"combobox",onClick:X[3]||(X[3]=G=>S.value=!0)},[Z("div",dse,[(nt(!0),it(Lr,null,So(b.value,G=>(nt(),it("div",{class:"chip",key:G.id},[Z("div",mse,fr(G.name),1),Z("div",{class:"chip-remove",onClick:Be=>b.value.splice(b.value.indexOf(G),1)},pse,8,hse)]))),128))]),S.value||b.value.length===0?gr((nt(),it("input",{key:0,type:"search","onUpdate:modelValue":X[2]||(X[2]=G=>L.value=G),placeholder:"Name des Ortes"},null,512)),[[wr,L.value]]):zr("",!0)]),S.value?(nt(),it("div",bse,[(nt(!0),it(Lr,null,So(D.value,G=>(nt(),it("div",{class:"option",key:G.id,onClick:Be=>V(G)},[Z("div",wse,[G.image?(nt(),it("div",Cse,[Z("img",{src:G.image.url,alt:"avatar"},null,8,Sse)])):zr("",!0),Z("div",xse,fr(G.name),1)])],8,yse))),128)),D.value.length===0?(nt(),it("div",{key:0,class:"option",onClick:X[4]||(X[4]=G=>_.value=!0)},' "'+fr(L.value)+'" hinzufgen ? ',1)):zr("",!0)])):zr("",!0)])):(nt(),it("div",_se,Ase))]))}},Ese={class:"row"},Tse=Z("hr",{class:"divider"},null,-1),Ose={class:"row content-row"},Dse={class:"content-row"},Rse={class:"errorMessages"},c9={__name:"KategorieForm",props:{editMode:{type:Boolean,default:!1},id:{type:Number,default:null},insidePopup:{type:Boolean,default:!1}},emits:["closePopup","newTheme"],setup(f,{emit:m}){const y=f,b=Ft({"name:de":"","name:en":"","description:de":"","description:en":""}),S=Ft([]),_=Ft(y.editMode?"Kategorie aktualisieren":"Kategorie erstellen"),T=Ft(null),D=Xm(),L=()=>(S.value=[],b.value["name:de"]===""&&S.value.push("Bitte geben Sie einen Namen (DE) ein"),b.value["name:en"]===""&&S.value.push("Bitte geben Sie einen Namen (EN) ein"),S.value.length===0),j=()=>{L()&&(_.value=y.editMode?"Kategorie aktualisieren...":"Kategorie erstellen...",b.value["name:en"]===""&&(b.value["name:en"]=b.value["name:de"]),b.value["description:en"]===""&&(b.value["description:en"]=b.value["description:de"]),er.post("/themes",b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",y.insidePopup?m("newTheme",P.data.theme):D.push("/kategorien")}).catch(P=>{console.log(P),_.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Erstellen de Kategorie")}))},N=()=>{L()&&(_.value=y.editMode?"Kategorie aktualisieren...":"Kategorie erstellen...",b.value.image&&b.value.image!==null&&(b.value.image=b.value.image.id),b.value.tours!==null&&(b.value.tours=b.value.tours.map(P=>P.id)),er.patch(`/themes/${y.id}`,b.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{_.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",D.push("/kategorien")}).catch(P=>{console.log(P),_.value=y.editMode?"Kategorie aktualisieren":"Kategorie erstellen",P.response&&P.response.status&&P.response.status===401?sessionStorage.removeItem("token"):window.alert("Fehler beim Aktualisieren der Kategorie")}))};ho(async()=>{y.editMode&&V()});const V=()=>{er.get(`/themes/${y.id}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(P=>{b.value=P.data.theme,b.value["name:de"]=P.data.theme.translations[0].name,b.value["name:en"]=P.data.theme.translations[1].name,b.value.image=P.data.theme.image,P.data.theme.image&&P.data.theme.image!==null&&(T.value=P.data.theme.image.url)}).catch(P=>{P.response&&P.response.status&&P.response.status===401?sessionStorage.removeItem("token"):console.log(P)})};return W6(()=>{y.insidePopup||tinymce.remove()}),(P,z)=>{const X=io("router-Link");return nt(),it(Lr,null,[Z("div",Ese,[Z("h1",null,fr(y.editMode?"Kategorie Aktualisieren":"Kategorie Erstellen"),1),y.insidePopup?(nt(),it("button",{key:1,class:"button-primary",onClick:z[0]||(z[0]=G=>m("closePopup"))}," Abbrechen ")):(nt(),Td(X,{key:0,to:"/kategorien",class:"button-primary"},{default:vn(()=>[Fr("Abbrechen")]),_:1}))]),Tse,Z("div",Ose,[Lt(Da,{lang:"de",title:"Kategorie (DE)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":z[1]||(z[1]=G=>b.value["name:de"]=G),placeholder:"Name"},null,512),[[wr,b.value["name:de"]]])]),_:1}),Lt(Da,{lang:"en",title:"Kategorie (EN)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":z[2]||(z[2]=G=>b.value["name:en"]=G),placeholder:"Name"},null,512),[[wr,b.value["name:en"]]])]),_:1})]),Z("div",Dse,[Z("button",{class:"button-primary",onClick:z[3]||(z[3]=G=>y.editMode?N():j())},fr(_.value),1),Z("div",Rse,[(nt(!0),it(Lr,null,So(S.value,G=>(nt(),it("p",{key:G},fr(G),1))),128))])])],64)}}};const Bse={key:0,class:"Popup"},$se={class:"addPopup"},Mse={key:1,class:"select-container"},Pse={class:"chip-container"},Ise={class:"chip-name"},Nse=["onClick"],Fse=Z("img",{src:LS,alt:"close",width:"15",height:"15"},null,-1),Lse=[Fse],zse={key:0,class:"selectable-options"},Hse=["onClick"],Vse={class:"option-content"},Use={key:0,class:"option-avatar"},Wse=["src"],jse={class:"option-name"},Gse={key:2,class:"loadingIndicator"},qse=Z("div",{class:"combobox"},[Z("span",null,"Lade Kategorien...")],-1),Kse=[qse],mG={__name:"KategorieSelect",props:{selectedthemes:{type:Array,default:()=>[]}},setup(f,{expose:m}){const y=f,b=Ft([]),S=Ft(!1),_=Ft(!1),T=Ft([]),D=ri(()=>T.value.filter(z=>z.name.toLowerCase().includes(L.value.toLowerCase()))),L=Ft(""),j=z=>{b.value.push(z),T.value.push(z),_.value=!1},N=async()=>(await er.get("/themes")).data.themes,V=z=>{b.value.includes(z)||b.value.push(z)};window.addEventListener("click",z=>{z.target.closest(".select-container")||(S.value=!1)});function P(){return b.value.map(z=>z.id)}return m({getData:P}),ho(async()=>{T.value=await N()}),Gm(()=>y.selectedthemes,z=>{b.value=z}),(z,X)=>(nt(),it("div",null,[_.value?(nt(),it("div",Bse,[Z("div",{class:"popupBackground",onClick:X[0]||(X[0]=G=>_.value=!1)}),Z("div",$se,[Lt(c9,{insidePopup:!0,onClosePopup:X[1]||(X[1]=G=>_.value=!1),onNewTheme:j})])])):zr("",!0),T.value.length>0?(nt(),it("div",Mse,[Z("div",{class:"combobox",onClick:X[3]||(X[3]=G=>S.value=!0)},[Z("div",Pse,[(nt(!0),it(Lr,null,So(b.value,G=>(nt(),it("div",{class:"chip",key:G.id},[Z("div",Ise,fr(G.name),1),Z("div",{class:"chip-remove",onClick:Be=>b.value.splice(b.value.indexOf(G),1)},Lse,8,Nse)]))),128))]),S.value||b.value.length===0?gr((nt(),it("input",{key:0,type:"search","onUpdate:modelValue":X[2]||(X[2]=G=>L.value=G),placeholder:"Name der Kategorie"},null,512)),[[wr,L.value]]):zr("",!0)]),S.value?(nt(),it("div",zse,[(nt(!0),it(Lr,null,So(D.value,G=>(nt(),it("div",{class:"option",key:G.id,onClick:Be=>V(G)},[Z("div",Vse,[G.image?(nt(),it("div",Use,[Z("img",{src:G.image.url,alt:"avatar"},null,8,Wse)])):zr("",!0),Z("div",jse,fr(G.name),1)])],8,Hse))),128)),D.value.length===0?(nt(),it("div",{key:0,class:"option",onClick:X[4]||(X[4]=G=>_.value=!0)},' "'+fr(L.value)+'" hinzufgen ? ',1)):zr("",!0)])):zr("",!0)])):(nt(),it("div",Gse,Kse))]))}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Xse(f,m,y,b){function S(_){return _ instanceof y?_:new y(function(T){T(_)})}return new(y||(y=Promise))(function(_,T){function D(N){try{j(b.next(N))}catch(V){T(V)}}function L(N){try{j(b.throw(N))}catch(V){T(V)}}function j(N){N.done?_(N.value):S(N.value).then(D,L)}j((b=b.apply(f,m||[])).next())})}var Yse=function f(m,y){if(m===y)return!0;if(m&&y&&typeof m=="object"&&typeof y=="object"){if(m.constructor!==y.constructor)return!1;var b,S,_;if(Array.isArray(m)){if(b=m.length,b!=y.length)return!1;for(S=b;S--!==0;)if(!f(m[S],y[S]))return!1;return!0}if(m.constructor===RegExp)return m.source===y.source&&m.flags===y.flags;if(m.valueOf!==Object.prototype.valueOf)return m.valueOf()===y.valueOf();if(m.toString!==Object.prototype.toString)return m.toString()===y.toString();if(_=Object.keys(m),b=_.length,b!==Object.keys(y).length)return!1;for(S=b;S--!==0;)if(!Object.prototype.hasOwnProperty.call(y,_[S]))return!1;for(S=b;S--!==0;){var T=_[S];if(!f(m[T],y[T]))return!1}return!0}return m!==m&&y!==y};const kW="__googleMapsScriptId";var n3;(function(f){f[f.INITIALIZED=0]="INITIALIZED",f[f.LOADING=1]="LOADING",f[f.SUCCESS=2]="SUCCESS",f[f.FAILURE=3]="FAILURE"})(n3||(n3={}));class $S{constructor({apiKey:m,authReferrerPolicy:y,channel:b,client:S,id:_=kW,language:T,libraries:D=[],mapIds:L,nonce:j,region:N,retries:V=3,url:P="https://maps.googleapis.com/maps/api/js",version:z}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=m,this.authReferrerPolicy=y,this.channel=b,this.client=S,this.id=_||kW,this.language=T,this.libraries=D,this.mapIds=L,this.nonce=j,this.region=N,this.retries=V,this.url=P,this.version=z,$S.instance){if(!Yse(this.options,$S.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify($S.instance.options)}`);return $S.instance}$S.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?n3.FAILURE:this.done?n3.SUCCESS:this.loading?n3.LOADING:n3.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let m=this.url;return m+="?callback=__googleMapsCallback",this.apiKey&&(m+=`&key=${this.apiKey}`),this.channel&&(m+=`&channel=${this.channel}`),this.client&&(m+=`&client=${this.client}`),this.libraries.length>0&&(m+=`&libraries=${this.libraries.join(",")}`),this.language&&(m+=`&language=${this.language}`),this.region&&(m+=`&region=${this.region}`),this.version&&(m+=`&v=${this.version}`),this.mapIds&&(m+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(m+=`&auth_referrer_policy=${this.authReferrerPolicy}`),m}deleteScript(){const m=document.getElementById(this.id);m&&m.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((m,y)=>{this.loadCallback(b=>{b?y(b.error):m(window.google)})})}importLibrary(m){return this.execute(),google.maps.importLibrary(m)}loadCallback(m){this.callbacks.push(m),this.execute()}setScript(){var m,y;if(document.getElementById(this.id)){this.callback();return}const b={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(b).forEach(_=>!b[_]&&delete b[_]),!((y=(m=window==null?void 0:window.google)===null||m===void 0?void 0:m.maps)===null||y===void 0)&&y.importLibrary||(_=>{let T,D,L,j="The Google Maps JavaScript API",N="google",V="importLibrary",P="__ib__",z=document,X=window;X=X[N]||(X[N]={});const G=X.maps||(X.maps={}),Be=new Set,de=new URLSearchParams,$e=()=>T||(T=new Promise((ue,Ee)=>Xse(this,void 0,void 0,function*(){var De;yield D=z.createElement("script"),D.id=this.id,de.set("libraries",[...Be]+"");for(L in _)de.set(L.replace(/[A-Z]/g,ke=>"_"+ke[0].toLowerCase()),_[L]);de.set("callback",N+".maps."+P),D.src=this.url+"?"+de,G[P]=ue,D.onerror=()=>T=Ee(Error(j+" could not load.")),D.nonce=this.nonce||((De=z.querySelector("script[nonce]"))===null||De===void 0?void 0:De.nonce)||"",z.head.append(D)})));G[V]?console.warn(j+" only loads once. Ignoring:",_):G[V]=(ue,...Ee)=>Be.add(ue)&&$e().then(()=>G[V](ue,...Ee))})(b);const S=this.libraries.map(_=>this.importLibrary(_));S.length||S.push(this.importLibrary("core")),Promise.all(S).then(()=>this.callback(),_=>{const T=new ErrorEvent("error",{error:_});this.loadErrorCallback(T)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(m){if(this.errors.push(m),this.errors.length<=this.retries){const y=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${y} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},y)}else this.onerrorEvent=m,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(m=>{m(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}}const Jse={class:"d-flex text-center",style:{margin:"10px 0"}},Zse={class:"row",style:{"justify-content":"unset"}},Qse=Z("div",{class:"col",style:{"margin-right":"10px"}},[Z("input",{id:"address",type:"textbox",value:"",placeholder:"Suche nach Adresse"})],-1),ele={class:"col"},tle="AIzaSyBw_QNEvvoRbs-czfH2GbPPkupqDdJTxhg",hG={__name:"MapComponent",props:{coordinates:{type:Object,default:()=>[]}},setup(f,{expose:m}){const y=f,b=ri(()=>({lat:y.coordinates.lat||53.551086,lng:y.coordinates.lng||9.993682})),S=new $S({apiKey:tle}),_=Ft(null),T=Ft(null);let D=Ft(null),L=Ft(null),j=null;ho(async()=>{await S.load(),L.value=new google.maps.Map(_.value,{center:b.value,zoom:9}),D.value=new google.maps.Geocoder,j=L.value.addListener("click",V),y.coordinates.lat&&y.coordinates.lng&&(T.value=new google.maps.Marker({map:L.value,position:y.coordinates,title:"Adresse"})),console.log(y.coordinates)});const N=()=>{const z=document.getElementById("address").value;D.value.geocode({address:z},(X,G)=>{G==="OK"?(L.value.setCenter(X[0].geometry.location),T.value=new google.maps.Marker({map:L.value,position:X[0].geometry.location,title:"Adresse"})):alert("Die Adresse konnte nicht gefunden werden: "+G)})};VH(async()=>{j&&j.remove(),L.value&&(L.value=null)});const V=z=>{const X={lat:z.latLng.lat(),lng:z.latLng.lng()};T.value&&(T.value=null),T.value=new google.maps.Marker({map:L.value,position:X,title:"Adresse"})};return m({getData:()=>({lat:T.value.position.lat(),lng:T.value.position.lng()})}),(z,X)=>(nt(),it("div",null,[Z("div",Jse,[Z("div",Zse,[Qse,Z("div",ele,[Z("input",{type:"button",class:"button-primary",value:"Adresse Suchen",onClick:X[0]||(X[0]=G=>N())})])])]),Z("div",{ref_key:"mapDiv",ref:_,style:{width:"100%",height:"400px"}},null,512)]))}};const wi=f=>(H6("data-v-26b178e7"),f=f(),V6(),f),nle={class:"row"},rle=wi(()=>Z("h1",null,"Tour erstellen",-1)),ale=wi(()=>Z("hr",{class:"divider"},null,-1)),ole={class:"creation-grid"},ile={class:"main-content"},ule=wi(()=>Z("h4",null,"Allgemeine Informationen",-1)),sle=wi(()=>Z("hr",{class:"divider"},null,-1)),lle={class:"row content-row"},cle={class:"row content-row"},fle={class:"content-row"},vle=wi(()=>Z("h4",null,"Standort",-1)),dle=wi(()=>Z("hr",{class:"divider"},null,-1)),mle={class:"content-row"},hle=wi(()=>Z("h4",null,"Bilder",-1)),gle=wi(()=>Z("hr",{class:"divider"},null,-1)),ple={key:0,class:"images"},ble=["onClick","onDrop"],yle=wi(()=>Z("img",{src:Od,width:"25",height:"25"},null,-1)),wle=[yle],Cle=["src"],Sle={class:"error"},xle=["disabled"],_le={class:"content-row"},kle={key:0},Ale=wi(()=>Z("hr",{class:"divider"},null,-1)),Ele={class:"input-container"},Tle=wi(()=>Z("h5",null,"Datum der Tour",-1)),Ole={class:"input-container"},Dle=wi(()=>Z("h5",null,"Wie lange geht die Tour",-1)),Rle={class:"input-container"},Ble=wi(()=>Z("h5",null,"Preis",-1)),$le={class:"creation-sidebar"},Mle={class:"sidebar-item"},Ple=wi(()=>Z("h4",null,"Guide hinzufgen",-1)),Ile=wi(()=>Z("hr",{class:"divider"},null,-1)),Nle={class:"sidebar-item"},Fle=wi(()=>Z("h4",null,"Ort hinzufgen",-1)),Lle=wi(()=>Z("hr",{class:"divider"},null,-1)),zle={class:"sidebar-item"},Hle=wi(()=>Z("h4",null,"Kategorien hinzufgen",-1)),Vle=wi(()=>Z("hr",{class:"divider"},null,-1)),Ule={class:"sidebar-item"},Wle=wi(()=>Z("h4",null,"Mobilitt hinzufgen",-1)),jle=wi(()=>Z("hr",{class:"divider"},null,-1)),Gle={class:"sidebar-item"},qle=wi(()=>Z("h4",null,"Verffentlichen",-1)),Kle=wi(()=>Z("hr",{class:"divider"},null,-1)),Xle={class:"input-container"},Yle=wi(()=>Z("option",{value:"draft"},"Entwurf",-1)),Jle=wi(()=>Z("option",{value:"published"},"Verffentlichen",-1)),Zle=[Yle,Jle],Qle={class:"errorMessages"},ece={__name:"Create",setup(f){const m=Ft({"name:de":"","name:en":"","description:de":"","description:en":"",location:{lat:0,lng:0},status:"draft",is_public:!1,date:null,duration:null,needs_registration:!1,price:0,guides:[],places:[],images:[],main_image:null,themes:[]}),y=Ft(null),b=Ft(null),S=Ft(null),_=Ft(null),T=Ft(null),D=Ft([]);Ft(null);const L=Ft("Tour erstellen"),j=Ft([]),N=Xm(),V=ri(()=>m.value.price.replace(",",".").replace(/[^0-9.]/g,"")),P=ri(()=>m.value.duration.replace(",",".").replace(/[^0-9.]/g,"")),z=Ft(""),X=Ft(null),G=Ft(!1),Be=()=>{G.value=!0;const De={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};X.value&&Wl(X.value,De).then(ke=>{const Xe=new FormData;Xe.append("file",ke),er.post("/media",Xe,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(le=>{D.value.push(le.data.media),G.value=!1}).catch(le=>{console.log(le),window.alert("Fehler beim Upload des Bildes"),G.value=null})}).catch(ke=>{console.log(ke),window.alert("Fehler beim Komprimieren des Bildes")})},de=De=>{z.value="";const ke=De.target.files,Xe=ke[0].size/1024/1024;if(Xe>1){z.value="Bild("+Xe.toFixed(2)+"MB) ist zu gro (max. 1MB)",X.value=ke[0];return}if(ke)for(let le=0;le<ke.length;le++){const pe=ke[le],ye=new FormData;ye.append("file",pe),er.post("/media",ye,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Me=>{D.value.push(Me.data.media)}).catch(Me=>{console.log(Me),window.alert("Fehler beim Upload des Bildes")})}},$e=De=>{D.value=D.value.filter(ke=>ke.id!==De)},ue=()=>(j.value=[],m.value["name:de"]===""&&j.value.push("Titel der Tour (DE) ist ein Pflichtfeld"),m.value["name:en"]===""&&j.value.push("Titel der Tour (EN) ist ein Pflichtfeld"),D.value.length===0&&j.value.push("Es muss mindestens ein Bild hochgeladen werden"),m.value.is_public&&(m.value.date===null&&j.value.push("Datum der Tour ist ein Pflichtfeld"),m.value.duration===null&&j.value.push("Dauer der Tour ist ein Pflichtfeld"),m.value.price===null&&j.value.push("Preis der Tour ist ein Pflichtfeld")),j.value.length===0),Ee=()=>{if(!ue())return;const De=T.value.getData();m.value.location.lat=De.lat,m.value.location.lng=De.lng,m.value["description:de"]=sa.get("editor_de").getContent(),m.value["description:en"]=sa.get("editor_en").getContent(),m.value.images=D.value.map(ye=>ye.id);const ke=y.value.getData(),Xe=b.value.getData(),le=S.value.getData(),pe=_.value.getData();m.value.guides=ke,m.value.places=Xe,m.value.themes=le,pe.length===0?m.value.mobilities=null:m.value.mobilities=pe,m.value.is_public&&(m.value.price=V.value,m.value.duration=P.value),er.post("/tours",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ye=>{L.value="Tour wurde erstellt",N.push("/tour-bearbeiten/"+ye.data.tour.id)}).catch(ye=>{console.log(ye),ye.response.status===401?sessionStorage.removeItem("token"):window.alert("Tour konnte nicht erstellt werden")})};return ho(async()=>{sa.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:zS.toString()+`
`+HS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:De=>{De.on("init",()=>{De.setContent("<p>Starte hier mit der Beschreibung deiner Tour.</p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),ap(()=>{sa.remove()}),(De,ke)=>{const Xe=io("router-Link");return nt(),it("main",null,[Z("div",nle,[rle,Lt(Xe,{to:"/",class:"button-primary"},{default:vn(()=>[Fr("Abbrechen")]),_:1})]),ale,Z("div",ole,[Z("div",ile,[ule,sle,Z("div",lle,[Lt(Da,{lang:"de",title:"Titel der Tour"},{content:vn(()=>[gr(Z("input",{type:"text",for:"title",placeholder:"Titel","onUpdate:modelValue":ke[0]||(ke[0]=le=>m.value["name:de"]=le)},null,512),[[wr,m.value["name:de"]]])]),_:1}),Lt(Da,{lang:"en",title:"title of the tour"},{content:vn(()=>[gr(Z("input",{type:"text",for:"title",placeholder:"Title","onUpdate:modelValue":ke[1]||(ke[1]=le=>m.value["name:en"]=le)},null,512),[[wr,m.value["name:en"]]])]),_:1})]),Z("div",cle,[Lt(Da,{lang:"de",title:"Beschreibung der Tour"},{content:vn(()=>[gr(Z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de","onUpdate:modelValue":ke[2]||(ke[2]=le=>m.value["description:de"]=le)},null,512),[[wr,m.value["description:de"]]])]),_:1}),Lt(Da,{lang:"en",title:"Description of the tour"},{content:vn(()=>[gr(Z("textarea",{for:"description",placeholder:"Description",id:"editor_en","onUpdate:modelValue":ke[3]||(ke[3]=le=>m.value["description:en"]=le)},null,512),[[wr,m.value["description:en"]]])]),_:1})]),Z("div",fle,[vle,dle,Lt(hG,{ref_key:"mapContainer",ref:T},null,512)]),Z("div",mle,[hle,gle,D.value.length>0?(nt(),it("div",ple,[(nt(!0),it(Lr,null,So(D.value,le=>(nt(),it("div",{class:"image",key:le.id},[Z("button",{class:"removeImage",onClick:pe=>$e(le.id),draggable:"true",onDrop:pe=>De.reorderImages(le.id),onDragover:ke[4]||(ke[4]=(...pe)=>De.allowDrop&&De.allowDrop(...pe)),onDragstart:ke[5]||(ke[5]=(...pe)=>De.dragImage&&De.dragImage(...pe))},wle,40,ble),Z("img",{src:le.url},null,8,Cle)]))),128))])):zr("",!0),Z("input",{type:"file",onChange:de},null,32),Z("p",Sle,fr(z.value),1),z.value?(nt(),it("button",{key:1,class:"button-primary",onClick:Be,disabled:G.value},fr(G.value?"Komprimiere Bild...":"Bild verkleinern"),9,xle)):zr("",!0)]),Z("div",_le,[Lt(E6,{value:m.value.is_public,titel:"ffentliche Tour",onInput:ke[6]||(ke[6]=le=>m.value.is_public=le)},null,8,["value"]),m.value.is_public?(nt(),it("div",kle,[Ale,Z("div",Ele,[Tle,gr(Z("input",{type:"date","onUpdate:modelValue":ke[7]||(ke[7]=le=>m.value.date=le)},null,512),[[wr,m.value.date]])]),Z("div",Ole,[Dle,gr(Z("input",{type:"text","onUpdate:modelValue":ke[8]||(ke[8]=le=>m.value.duration=le),placeholder:"bspw. 1,5 Stunden"},null,512),[[wr,m.value.duration]])]),Z("div",Rle,[Ble,gr(Z("input",{type:"text","onUpdate:modelValue":ke[9]||(ke[9]=le=>m.value.price=le),placeholder:"bspw. 10.50"},null,512),[[wr,m.value.price]])]),Lt(E6,{value:m.value.needs_registration,titel:"Anmeldung erforderlich",onInput:ke[10]||(ke[10]=le=>m.value.needs_registration=le)},null,8,["value"])])):zr("",!0)])]),Z("div",$le,[Z("div",Mle,[Ple,Ile,Lt(vG,{ref_key:"guideSelect",ref:y},null,512)]),Z("div",Nle,[Fle,Lle,Lt(dG,{ref_key:"ortSelect",ref:b},null,512)]),Z("div",zle,[Hle,Vle,Lt(mG,{ref_key:"kategorieSelect",ref:S},null,512)]),Z("div",Ule,[Wle,jle,Lt(u9,{ref_key:"mobilitySelect",ref:_},null,512)]),Z("div",Gle,[qle,Kle,Z("div",Xle,[gr(Z("select",{"onUpdate:modelValue":ke[11]||(ke[11]=le=>m.value.status=le)},Zle,512),[[Cj,m.value.status]])]),Z("button",{class:"button-primary",onClick:Ee},fr(L.value),1),Z("div",Qle,[(nt(!0),it(Lr,null,So(j.value,le=>(nt(),it("p",{key:le},fr(le),1))),128))])])])])])}}},tce=$5(ece,[["__scopeId","data-v-26b178e7"]]);const Ci=f=>(H6("data-v-5da6e60c"),f=f(),V6(),f),nce={class:"row"},rce=Ci(()=>Z("h1",null,"Tour bearbeiten",-1)),ace=Ci(()=>Z("hr",{class:"divider"},null,-1)),oce={class:"creation-grid"},ice={class:"main-content"},uce=Ci(()=>Z("h4",null,"Allgemeine Informationen",-1)),sce=Ci(()=>Z("hr",{class:"divider"},null,-1)),lce={class:"row content-row"},cce={class:"row content-row"},fce={class:"content-row"},vce=Ci(()=>Z("h4",null,"Standort",-1)),dce=Ci(()=>Z("hr",{class:"divider"},null,-1)),mce={class:"content-row"},hce=Ci(()=>Z("h4",null,"Bilder",-1)),gce=Ci(()=>Z("hr",{class:"divider"},null,-1)),pce={key:0,class:"images"},bce=["onClick","onDrop"],yce=Ci(()=>Z("img",{src:Od,width:"25",height:"25"},null,-1)),wce=[yce],Cce=["src"],Sce={class:"error"},xce=["disabled"],_ce={class:"content-row"},kce={key:0},Ace=Ci(()=>Z("hr",{class:"divider"},null,-1)),Ece={class:"input-container"},Tce=Ci(()=>Z("h5",null,"Datum der Tour",-1)),Oce={class:"input-container"},Dce=Ci(()=>Z("h5",null,"Wie lange geht die Tour",-1)),Rce={class:"input-container"},Bce=Ci(()=>Z("h5",null,"Preis",-1)),$ce={class:"creation-sidebar"},Mce={class:"sidebar-item"},Pce=Ci(()=>Z("h4",null,"Guide hinzufgen",-1)),Ice=Ci(()=>Z("hr",{class:"divider"},null,-1)),Nce={class:"sidebar-item"},Fce=Ci(()=>Z("h4",null,"Ort hinzufgen",-1)),Lce=Ci(()=>Z("hr",{class:"divider"},null,-1)),zce={class:"sidebar-item"},Hce=Ci(()=>Z("h4",null,"Kategorien hinzufgen",-1)),Vce=Ci(()=>Z("hr",{class:"divider"},null,-1)),Uce={class:"sidebar-item"},Wce=Ci(()=>Z("h4",null,"Mobilitt hinzufgen",-1)),jce=Ci(()=>Z("hr",{class:"divider"},null,-1)),Gce={class:"sidebar-item"},qce=Ci(()=>Z("h4",null,"Verffentlichen",-1)),Kce=Ci(()=>Z("hr",{class:"divider"},null,-1)),Xce={class:"input-container"},Yce=Ci(()=>Z("option",{value:"draft"},"Entwurf",-1)),Jce=Ci(()=>Z("option",{value:"published"},"Verffentlichen",-1)),Zce=[Yce,Jce],Qce={class:"errorMessages"},efe={__name:"Edit",setup(f){const m=Ft({"name:de":"","name:en":"","description:de":"","description:en":"",location:{lat:0,lng:0},status:"draft",is_public:!1,date:new Date,duration:null,needs_registration:!1,mobilities:null,price:0,guides:[],places:[],images:[],main_image:null,themes:[],created_at:null,updated_at:null}),y=Ft(null),b=Ft(null),S=Ft(null),_=Ft(null),T=Ft(null),D=Ft([]),L=Ft(!0),j=Ft("Aktualisieren"),N=o0(),{id:V}=N.params,P=Xm(),z=Ft([]),X=ri(()=>typeof m.value.price=="number"?m.value.price:m.value.price.replace(",",".").replace(/[^0-9.]/g,"")),G=ri(()=>typeof m.value.duration=="number"?m.value.duration:m.value.duration.replace(",",".").replace(/[^0-9.]/g,"")),Be=()=>{er.get("/tours/"+V,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(ye=>{try{D.value=ye.data.tour.images,m.value["name:de"]=ye.data.tour.translations[0].name,m.value["name:en"]=ye.data.tour.translations[1].name,m.value["description:de"]=ye.data.tour.translations[0].description,m.value["description:en"]=ye.data.tour.translations[1].description;let Me=ye.data.tour.location;Me?(Me=JSON.parse(Me),m.value.location.lat=Me.lat,m.value.location.lng=Me.lng):(m.value.location.lat=0,m.value.location.lng=0),m.value.status=ye.data.tour.status,m.value.is_public=ye.data.tour.is_public,m.value.date=ye.data.tour.date,m.value.duration=ye.data.tour.duration,m.value.needs_registration=ye.data.tour.needs_registration,m.value.mobilities=ye.data.tour.mobilities||null,m.value.price=ye.data.tour.price,m.value.guides=ye.data.tour.guides,m.value.places=ye.data.tour.places,m.value.images=ye.data.tour.images,m.value.main_image=ye.data.tour.main_image,m.value.themes=ye.data.tour.themes,m.value.created_at=ye.data.tour.created_at,m.value.updated_at=ye.data.tour.updated_at,sa.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:zS.toString()+`
`+HS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table",menubar:!1,statusbar:!1,height:200,setup:ne=>{ne.on("init",()=>{console.log("Editor is initialized."),sa.get("editor_de").setContent(m.value["description:de"]||""),sa.get("editor_en").setContent(m.value["description:en"]||"")})}}),L.value=!1}catch(Me){console.log(Me),window.alert("Tour konnte nicht geladen werden")}document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}).catch(ye=>{ye.response.status===401?sessionStorage.removeItem("token"):window.alert("Tour konnte nicht geladen werden")})},de=()=>{if(D.value.length===0){D.value=null;return}let ye=[];for(let Me=0;Me<D.value.length;Me++)ye.push(D.value[Me].id);m.value.images=ye,m.value.main_image=D.value[0].id,D.value.length===0&&(m.value.main_image=null)},$e=Ft(""),ue=Ft(null),Ee=Ft(!1),De=()=>{Ee.value=!0;const ye={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};ue.value&&imageCompression(ue.value,ye).then(Me=>{const ne=new FormData;ne.append("file",Me),er.post("/media",ne,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(U=>{D.value.push(U.data.media),Ee.value=!1}).catch(U=>{console.log(U),window.alert("Fehler beim Upload des Bildes"),Ee.value=null})}).catch(Me=>{console.log(Me),window.alert("Fehler beim Komprimieren des Bildes")})},ke=ye=>{$e.value="";const Me=ye.target.files,ne=Me[0].size/1024/1024;if(ne>1){$e.value="Bild("+ne.toFixed(2)+"MB) ist zu gro (max. 1MB)",ue.value=Me[0];return}if(Me)for(let U=0;U<Me.length;U++){const xe=Me[U],Ze=new FormData;Ze.append("file",xe),er.post("/media",Ze,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(se=>{D.value.push(se.data.media)}).catch(se=>{console.log(se),window.alert("Fehler beim Upload des Bildes")})}},Xe=ye=>{D.value=D.value.filter(Me=>Me.id!==ye)},le=()=>(z.value=[],m.value["name:de"]===""&&z.value.push("Titel der Tour (DE) ist ein Pflichtfeld"),m.value["name:en"]===""&&z.value.push("Titel der Tour (EN) ist ein Pflichtfeld"),D.value.length===0&&z.value.push("Es muss mindestens ein Bild hochgeladen werden"),m.value.is_public&&(m.value.date===null&&z.value.push("Datum der Tour ist ein Pflichtfeld"),m.value.duration===null&&z.value.push("Dauer der Tour ist ein Pflichtfeld"),m.value.price===null&&z.value.push("Preis der Tour ist ein Pflichtfeld")),z.value.length===0),pe=()=>{if(!le())return;const ye=T.value.getData();m.value.location=m.value.location,m.value.location.lat=ye.lat,m.value.location.lng=ye.lng,j.value="Tour wird aktualisiert...",de(),m.value["description:de"]=sa.get("editor_de").getContent(),m.value["description:en"]=sa.get("editor_en").getContent();const Me=y.value.getData(),ne=b.value.getData(),U=S.value.getData(),xe=_.value.getData();m.value.guides=Me,m.value.places=ne,m.value.themes=U,xe.length===0?m.value.mobilities=null:m.value.mobilities=xe,m.value.is_public&&(m.value.price=X.value,m.value.duration=G.value),er.patch("/tours/"+V,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(Ze=>{j.value="Erfolgreich Aktualisiert",window.onbeforeunload=null,setTimeout(()=>{P.push("/touren")},1e3)}).catch(Ze=>{console.log(Ze),Ze.response.status===401?sessionStorage.removeItem("token"):window.alert("Tour konnte nicht aktualisiert werden")})};return ho(()=>{Be()}),ap(()=>{sa.remove()}),(ye,Me)=>{const ne=io("router-Link");return nt(),it("main",null,[Z("div",nce,[rce,Lt(ne,{to:"/",class:"button-primary"},{default:vn(()=>[Fr("Abbrechen")]),_:1})]),ace,Z("div",oce,[Z("div",ice,[uce,sce,Z("div",lce,[Lt(Da,{lang:"de",title:"Titel der Tour"},{content:vn(()=>[gr(Z("input",{type:"text",for:"title",placeholder:"Titel","onUpdate:modelValue":Me[0]||(Me[0]=U=>m.value["name:de"]=U)},null,512),[[wr,m.value["name:de"]]])]),_:1}),Lt(Da,{lang:"en",title:"title of the tour"},{content:vn(()=>[gr(Z("input",{type:"text",for:"title",placeholder:"Title","onUpdate:modelValue":Me[1]||(Me[1]=U=>m.value["name:en"]=U)},null,512),[[wr,m.value["name:en"]]])]),_:1})]),Z("div",cce,[Lt(Da,{lang:"de",title:"Beschreibung der Tour"},{content:vn(()=>[gr(Z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de","onUpdate:modelValue":Me[2]||(Me[2]=U=>m.value["description:de"]=U)},null,512),[[wr,m.value["description:de"]]])]),_:1}),Lt(Da,{lang:"en",title:"Description of the tour"},{content:vn(()=>[gr(Z("textarea",{for:"description",placeholder:"Description",id:"editor_en","onUpdate:modelValue":Me[3]||(Me[3]=U=>m.value["description:en"]=U)},null,512),[[wr,m.value["description:en"]]])]),_:1})]),Z("div",fce,[vce,dce,L.value?zr("",!0):(nt(),Td(hG,{key:0,ref_key:"mapContainer",ref:T,coordinates:m.value.location},null,8,["coordinates"]))]),Z("div",mce,[hce,gce,D.value.length>0?(nt(),it("div",pce,[(nt(!0),it(Lr,null,So(D.value,U=>(nt(),it("div",{class:"image",key:U.id},[Z("button",{class:"removeImage",onClick:xe=>Xe(U.id),draggable:"true",onDrop:xe=>ye.reorderImages(U.id),onDragover:Me[4]||(Me[4]=(...xe)=>ye.allowDrop&&ye.allowDrop(...xe)),onDragstart:Me[5]||(Me[5]=(...xe)=>ye.dragImage&&ye.dragImage(...xe))},wce,40,bce),Z("img",{src:U.url},null,8,Cce)]))),128))])):zr("",!0),Z("input",{type:"file",onChange:ke},null,32),Z("p",Sce,fr($e.value),1),$e.value?(nt(),it("button",{key:1,class:"button-primary",onClick:De,disabled:Ee.value},fr(Ee.value?"Komprimiere Bild...":"Bild verkleinern"),9,xce)):zr("",!0)]),Z("div",_ce,[Lt(E6,{value:m.value.is_public,titel:"ffentliche Tour",onInput:Me[6]||(Me[6]=U=>m.value.is_public=U)},null,8,["value"]),m.value.is_public?(nt(),it("div",kce,[Ace,Z("div",Ece,[Tce,gr(Z("input",{type:"date","onUpdate:modelValue":Me[7]||(Me[7]=U=>m.value.date=U)},null,512),[[wr,m.value.date]])]),Z("div",Oce,[Dce,gr(Z("input",{type:"text","onUpdate:modelValue":Me[8]||(Me[8]=U=>m.value.duration=U),placeholder:"bspw. 1,5 Stunden"},null,512),[[wr,m.value.duration]])]),Z("div",Rce,[Bce,gr(Z("input",{type:"text","onUpdate:modelValue":Me[9]||(Me[9]=U=>m.value.price=U)},null,512),[[wr,m.value.price]])]),Lt(E6,{value:m.value.needs_registration,titel:"Anmeldung erforderlich",onInput:Me[10]||(Me[10]=U=>m.value.needs_registration=U)},null,8,["value"])])):zr("",!0)])]),Z("div",$ce,[Z("div",Mce,[Pce,Ice,Lt(vG,{ref_key:"guideSelect",ref:y,selectedGuides:m.value.guides},null,8,["selectedGuides"])]),Z("div",Nce,[Fce,Lce,Lt(dG,{ref_key:"ortSelect",ref:b,selectedplaces:m.value.places},null,8,["selectedplaces"])]),Z("div",zce,[Hce,Vce,Lt(mG,{ref_key:"kategorieSelect",ref:S,selectedthemes:m.value.themes},null,8,["selectedthemes"])]),Z("div",Uce,[Wce,jce,Lt(u9,{ref_key:"mobilitySelect",ref:_,selectedMobilites:m.value.mobilities},null,8,["selectedMobilites"])]),Z("div",Gce,[qce,Kce,Z("p",null," Erstellt am: "+fr(new Date(m.value.created_at).toLocaleString("de-DE")),1),Z("p",null," Bearbeitet am: "+fr(new Date(m.value.updated_at).toLocaleString("de-DE")),1),Z("div",Xce,[gr(Z("select",{"onUpdate:modelValue":Me[11]||(Me[11]=U=>m.value.status=U)},Zce,512),[[Cj,m.value.status]])]),Z("button",{class:"button-primary",onClick:pe},fr(j.value),1),Z("div",Qce,[(nt(!0),it(Lr,null,So(z.value,U=>(nt(),it("p",{key:U},fr(U),1))),128))])])])])])}}},tfe=$5(efe,[["__scopeId","data-v-5da6e60c"]]),nfe={class:"row"},rfe=Z("h1",null,"Alle Guides",-1),afe=Z("hr",{class:"divider"},null,-1),ofe=Z("img",{src:ip,width:"20"},null,-1),ife=["onClick"],ufe=Z("img",{src:Od,width:"20"},null,-1),sfe=[ufe],lfe={__name:"Overview",setup(f){const m=Ft([]),y=Ft(!1),b=Ft([{key:"name",title:"Name"}]),S=()=>{y.value=!0,er.get("/guides?preview=true&per_page=200").then(T=>{y.value=!1,m.value=T.data.guides.data}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{window.confirm("Willst du diesen Guide wirklich lschen?")&&er.delete(`/guides/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Guide konnte nicht gelscht werden. Bitte versuche es erneut.")})};return ho(()=>{S()}),(T,D)=>{const L=io("router-link"),j=io("RouterLink");return nt(),it("main",null,[Z("div",nfe,[rfe,Lt(L,{to:"/guide-erstellen",class:"button-primary"},{default:vn(()=>[Fr("Guide hinzufgen")]),_:1})]),afe,Lt(up,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:vn(()=>[Fr(" Aktionen ")]),tableActions:vn(N=>[Lt(j,{to:`/guide-bearbeiten/${N.row.id}`},{default:vn(()=>[ofe]),_:2},1032,["to"]),Z("button",{onClick:V=>_(N.row.id)},sfe,8,ife)]),_:1},8,["tableData","tableColumns","loading"])])}}},cfe={__name:"Create",setup(f){return(m,y)=>(nt(),it("main",null,[Lt(s9)]))}},ffe={__name:"Edit",setup(f){const y=o0().params.id;return(b,S)=>(nt(),it("main",null,[Lt(s9,{"edit-mode":!0,id:Lo(y)},null,8,["id"])]))}},vfe={class:"row"},dfe=Z("h1",null,"Alle Sprachen",-1),mfe=Z("hr",{class:"divider"},null,-1),hfe=Z("img",{src:ip,width:"20"},null,-1),gfe=["onClick"],pfe=Z("img",{src:Od,width:"20"},null,-1),bfe=[pfe],yfe={__name:"Overview",setup(f){const m=Ft([]),y=Ft(!1),b=Ft([{key:"name",title:"Name"}]),S=()=>{y.value=!0,er.get("/languages").then(T=>{y.value=!1,m.value=T.data.languages}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{er.delete(`/languages/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Sprache konnte nicht gelscht werden. Bitte versuche es erneut.")})};return ho(()=>{S()}),(T,D)=>{const L=io("router-link"),j=io("RouterLink");return nt(),it("main",null,[Z("div",vfe,[dfe,Lt(L,{to:"/sprache-erstellen",class:"button-primary"},{default:vn(()=>[Fr("Sprache hinzufgen")]),_:1})]),mfe,Lt(up,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:vn(()=>[Fr(" Aktionen ")]),tableActions:vn(N=>[Lt(j,{to:`/sprache-bearbeiten/${N.row.id}`},{default:vn(()=>[hfe]),_:2},1032,["to"]),Z("button",{onClick:V=>_(N.row.id)},bfe,8,gfe)]),_:1},8,["tableData","tableColumns","loading"])])}}},wfe={__name:"Create",setup(f){return(m,y)=>(nt(),it("main",null,[Lt(a9)]))}},Cfe={__name:"Edit",setup(f){const y=o0().params.id;return(b,S)=>(nt(),it("main",null,[Lt(a9,{"edit-mode":!0,id:Lo(y)},null,8,["id"])]))}},Sfe={class:"row"},xfe=Z("h1",null,"Alle Mobilitten",-1),_fe=Z("hr",{class:"divider"},null,-1),kfe=Z("img",{src:ip,width:"20"},null,-1),Afe=["onClick"],Efe=Z("img",{src:Od,width:"20"},null,-1),Tfe=[Efe],Ofe={__name:"Overview",setup(f){const m=Ft([]),y=Ft(!1),b=Ft([{key:"name",title:"Name"}]),S=()=>{y.value=!0,er.get("/mobility").then(T=>{y.value=!1,m.value=T.data.mobilities}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{er.delete(`/mobility/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Mobilitt konnte nicht gelscht werden. Bitte versuche es erneut.")})};return ho(()=>{S()}),(T,D)=>{const L=io("router-link"),j=io("RouterLink");return nt(),it("main",null,[Z("div",Sfe,[xfe,Lt(L,{to:"/mobilitaet-erstellen",class:"button-primary"},{default:vn(()=>[Fr("Mobilitt hinzufgen")]),_:1})]),_fe,Lt(up,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:vn(()=>[Fr(" Aktionen ")]),tableActions:vn(N=>[Lt(j,{to:`/mobilitaet-bearbeiten/${N.row.id}`},{default:vn(()=>[kfe]),_:2},1032,["to"]),Z("button",{onClick:V=>_(N.row.id)},Tfe,8,Afe)]),_:1},8,["tableData","tableColumns","loading"])])}}},Dfe={__name:"Create",setup(f){return(m,y)=>(nt(),it("main",null,[Lt(i9)]))}},Rfe={__name:"Edit",setup(f){const y=o0().params.id;return(b,S)=>(nt(),it("main",null,[Lt(i9,{"edit-mode":!0,id:Lo(y)},null,8,["id"])]))}},Bfe={class:"row"},$fe=Z("h1",null,"Alle Orte",-1),Mfe=Z("hr",{class:"divider"},null,-1),Pfe=Z("img",{src:ip,width:"20"},null,-1),Ife=["onClick"],Nfe=Z("img",{src:Od,width:"20"},null,-1),Ffe=[Nfe],Lfe={__name:"Overview",setup(f){const m=Ft([]),y=Ft(!1),b=Ft([{key:"name",title:"Name"}]),S=()=>{y.value=!0,er.get("/places").then(T=>{y.value=!1,m.value=T.data.places}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{er.delete(`/places/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Ort konnte nicht gelscht werden. Bitte versuche es erneut.")})};return ho(()=>{S()}),(T,D)=>{const L=io("router-link"),j=io("RouterLink");return nt(),it("main",null,[Z("div",Bfe,[$fe,Lt(L,{to:"/ort-erstellen",class:"button-primary"},{default:vn(()=>[Fr("Ort hinzufgen")]),_:1})]),Mfe,Lt(up,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:vn(()=>[Fr(" Aktionen ")]),tableActions:vn(N=>[Lt(j,{to:`/ort-bearbeiten/${N.row.id}`},{default:vn(()=>[Pfe]),_:2},1032,["to"]),Z("button",{onClick:V=>_(N.row.id)},Ffe,8,Ife)]),_:1},8,["tableData","tableColumns","loading"])])}}},zfe={__name:"Create",setup(f){return(m,y)=>(nt(),it("main",null,[Lt(l9)]))}},Hfe={__name:"Edit",setup(f){const y=o0().params.id;return(b,S)=>(nt(),it("main",null,[Lt(l9,{"edit-mode":!0,id:Lo(y)},null,8,["id"])]))}},Vfe={class:"row"},Ufe=Z("h1",null,"Alle Kategorien",-1),Wfe=Z("hr",{class:"divider"},null,-1),jfe=Z("img",{src:ip,width:"20"},null,-1),Gfe=["onClick"],qfe=Z("img",{src:Od,width:"20"},null,-1),Kfe=[qfe],Xfe={__name:"Overview",setup(f){const m=Ft([]),y=Ft(!1),b=Ft([{key:"name",title:"Name"}]),S=()=>{y.value=!0,er.get("/themes").then(T=>{y.value=!1,m.value=T.data.themes}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{const D=m.value.find(L=>L.id===T).name;window.confirm(`Mchtest du die Kategorie "${D}" wirklich lschen?`)&&er.delete(`/themes/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(L=>{console.log(L),L.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Kategorie konnte nicht gelscht werden. Bitte versuche es erneut.")})};return ho(()=>{S()}),(T,D)=>{const L=io("router-link"),j=io("RouterLink");return nt(),it("main",null,[Z("div",Vfe,[Ufe,Lt(L,{to:"/kategorie-erstellen",class:"button-primary"},{default:vn(()=>[Fr("Kategorie hinzufgen")]),_:1})]),Wfe,Lt(up,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:vn(()=>[Fr(" Aktionen ")]),tableActions:vn(N=>[Lt(j,{to:`/kategorie-bearbeiten/${N.row.id}`},{default:vn(()=>[jfe]),_:2},1032,["to"]),Z("button",{onClick:V=>_(N.row.id)},Kfe,8,Gfe)]),_:1},8,["tableData","tableColumns","loading"])])}}},Yfe={__name:"Create",setup(f){return(m,y)=>(nt(),it("main",null,[Lt(c9)]))}},Jfe={__name:"Edit",setup(f){const y=o0().params.id;return(b,S)=>(nt(),it("main",null,[Lt(c9,{"edit-mode":!0,id:Lo(y)},null,8,["id"])]))}},Zfe={class:"row"},Qfe=Z("h1",null,"Alle Zertifikate",-1),eve=Z("hr",{class:"divider"},null,-1),tve=Z("img",{src:ip,width:"20"},null,-1),nve=["onClick"],rve=Z("img",{src:Od,width:"20"},null,-1),ave=[rve],ove={__name:"Overview",setup(f){const m=Ft([]),y=Ft(!1),b=Ft([{key:"name",title:"Name"}]),S=()=>{y.value=!0,er.get("/certificates").then(T=>{y.value=!1,m.value=T.data.certificates}).catch(T=>{y.value=!1,console.log(T),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{er.delete(`/certificates/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Das Zertifikat konnte nicht gelscht werden. Bitte versuche es erneut.")})};return ho(()=>{S()}),(T,D)=>{const L=io("router-link"),j=io("RouterLink");return nt(),it("main",null,[Z("div",Zfe,[Qfe,Lt(L,{to:"/zertifikat-erstellen",class:"button-primary"},{default:vn(()=>[Fr("Zertifikat hinzufgen")]),_:1})]),eve,Lt(up,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:vn(()=>[Fr(" Aktionen ")]),tableActions:vn(N=>[Lt(j,{to:`/zertifikat-bearbeiten/${N.row.id}`},{default:vn(()=>[tve]),_:2},1032,["to"]),Z("button",{onClick:V=>_(N.row.id)},ave,8,nve)]),_:1},8,["tableData","tableColumns","loading"])])}}},ive={__name:"Create",setup(f){return(m,y)=>(nt(),it("main",null,[Lt(r9)]))}},uve={__name:"Edit",setup(f){const y=o0().params.id;return(b,S)=>(nt(),it("main",null,[Lt(r9,{"edit-mode":!0,id:Lo(y)},null,8,["id"])]))}},sve={class:"row"},lve=Z("div",null,[Z("h1",null,"Alle Themen"),Z("p",null,"Themen werden Guides Vergeben (Webseite Filter Themen)")],-1),cve=Z("hr",{class:"divider"},null,-1),fve=Z("img",{src:ip,width:"20"},null,-1),vve=["onClick"],dve=Z("img",{src:Od,width:"20"},null,-1),mve=[dve],hve={__name:"Overview",setup(f){const m=Ft([]),y=Ft(!1),b=Ft([{key:"name",title:"Name"}]),S=()=>{y.value=!0,er.get("/skills?preview=true").then(T=>{y.value=!1,m.value=T.data.skills}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{er.delete(`/skills/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Skill konnte nicht gelscht werden. Bitte versuche es erneut.")})};return ho(()=>{S()}),(T,D)=>{const L=io("router-link"),j=io("RouterLink");return nt(),it("main",null,[Z("div",sve,[lve,Lt(L,{to:"/skill-erstellen",class:"button-primary"},{default:vn(()=>[Fr("Thema hinzufgen")]),_:1})]),cve,Lt(up,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:vn(()=>[Fr(" Aktionen ")]),tableActions:vn(N=>[Lt(j,{to:`/skill-bearbeiten/${N.row.id}`},{default:vn(()=>[fve]),_:2},1032,["to"]),Z("button",{onClick:V=>_(N.row.id)},mve,8,vve)]),_:1},8,["tableData","tableColumns","loading"])])}}},gve={__name:"Create",setup(f){return(m,y)=>(nt(),it("main",null,[Lt(o9)]))}},pve={__name:"Edit",setup(f){const y=o0().params.id;return(b,S)=>(nt(),it("main",null,[Lt(o9,{"edit-mode":!0,id:Lo(y)},null,8,["id"])]))}},bve={class:"row"},yve=Z("h1",null,"Alle Benutzer",-1),wve=Z("hr",{class:"divider"},null,-1),Cve=Z("img",{src:ip,width:"20"},null,-1),Sve=["onClick"],xve=Z("img",{src:Od,width:"20"},null,-1),_ve=[xve],kve={__name:"Overview",setup(f){const m=Ft([]),y=Ft(!1),b=Ft([{key:"name",title:"Name"},{key:"updated_at",title:"zuletzt aktualisiert"}]),S=()=>{y.value=!0,er.get("/users").then(T=>{y.value=!1,m.value=T.data.users}).catch(T=>{y.value=!1,console.log(T),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{er.delete(`/users/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Der Benutzer konnte nicht gelscht werden. Bitte versuche es erneut.")})};return ho(()=>{S()}),(T,D)=>{const L=io("router-link"),j=io("RouterLink");return nt(),it("main",null,[Z("div",bve,[yve,Lt(L,{to:"/verwaltung-erstellen",class:"button-primary"},{default:vn(()=>[Fr("Benutzer hinzufgen")]),_:1})]),wve,Lt(up,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:vn(()=>[Fr(" Aktionen ")]),tableActions:vn(N=>[Lt(j,{to:`/verwaltung-bearbeiten/${N.row.id}`},{default:vn(()=>[Cve]),_:2},1032,["to"]),Z("button",{onClick:V=>_(N.row.id)},_ve,8,Sve)]),_:1},8,["tableData","tableColumns","loading"])])}}},Ave={class:"row"},Eve=Z("h1",null,"Benutzer erstellen",-1),Tve=Z("hr",{class:"divider"},null,-1),Ove={class:"row content-row"},Dve={class:"col",style:{width:"48%","min-width":"200px"}},Rve={class:"col",style:{width:"48%","min-width":"200px"}},Bve={class:"row content-row"},$ve={class:"col",style:{width:"48%","min-width":"200px"}},Mve={class:"col",style:{width:"48%","min-width":"200px"}},Pve={__name:"Create",setup(f){const m=Ft({name:"",email:"",password:"",password_confirmation:""}),y=Xm(),b=()=>m.value.password!==m.value.password_confirmation?(alert("Passwrter stimmen nicht berein"),!1):!0,S=()=>{b()&&er.post("/auth/register",m.value).then(()=>{y.push("/verwaltung")}).catch(_=>{window.alert("Benutzer konnte nicht erstellt werden")})};return(_,T)=>(nt(),it("main",null,[Z("div",Ave,[Eve,Lt(Lo(kv),{to:"/verwaltung",class:"button-primary"},{default:vn(()=>[Fr("Abbrechen")]),_:1})]),Tve,Z("div",Ove,[Z("div",Dve,[gr(Z("input",{type:"name",placeholder:"Benutzername",for:"username",name:"username","onUpdate:modelValue":T[0]||(T[0]=D=>m.value.name=D)},null,512),[[wr,m.value.name]])]),Z("div",Rve,[gr(Z("input",{type:"email",placeholder:"Email",for:"email",name:"email","onUpdate:modelValue":T[1]||(T[1]=D=>m.value.email=D)},null,512),[[wr,m.value.email]])])]),Z("div",Bve,[Z("div",$ve,[gr(Z("input",{type:"password",placeholder:"Passwort",for:"password",name:"password","onUpdate:modelValue":T[2]||(T[2]=D=>m.value.password=D)},null,512),[[wr,m.value.password]])]),Z("div",Mve,[gr(Z("input",{type:"password",placeholder:"Passwort (Wiederholen)",for:"password",name:"password","onUpdate:modelValue":T[3]||(T[3]=D=>m.value.password_confirmation=D)},null,512),[[wr,m.value.password_confirmation]])])]),Z("div",{class:"row content-row"},[Z("button",{class:"button-primary",onClick:S}," Benutzer erstellen ")])]))}},Ive={class:"row"},Nve=Z("h1",null,"Benutzer erstellen",-1),Fve=Z("hr",{class:"divider"},null,-1),Lve={class:"row content-row"},zve={class:"col",style:{width:"48%","min-width":"200px"}},Hve={class:"col",style:{width:"48%","min-width":"200px"}},Vve={class:"row content-row"},Uve={class:"col",style:{width:"48%","min-width":"200px"}},Wve={class:"col",style:{width:"48%","min-width":"200px"}},jve={__name:"Edit",setup(f){const m=Ft({name:"",email:"",password:"",password_confirmation:""}),y=Xm(),b=y.currentRoute.value.params.id,S=()=>m.value.password!==m.value.password_confirmation?(alert("Passwrter stimmen nicht berein"),!1):!0,_=()=>{S()&&er.patch("/users/"+b,m.value).then(()=>{y.push("/verwaltung")}).catch(D=>{window.alert("Benutzer konnte nicht erstellt werden")})},T=()=>{er.get(`/users/${b}`).then(D=>{m.value=D.data.user}).catch(D=>{console.log(D)})};return ho(()=>{T()}),(D,L)=>(nt(),it("main",null,[Z("div",Ive,[Nve,Lt(Lo(kv),{to:"/verwaltung",class:"button-primary"},{default:vn(()=>[Fr("Abbrechen")]),_:1})]),Fve,Z("div",Lve,[Z("div",zve,[gr(Z("input",{type:"name",placeholder:"Benutzername",for:"username",name:"username","onUpdate:modelValue":L[0]||(L[0]=j=>m.value.name=j)},null,512),[[wr,m.value.name]])]),Z("div",Hve,[gr(Z("input",{type:"email",placeholder:"Email",for:"email",name:"email","onUpdate:modelValue":L[1]||(L[1]=j=>m.value.email=j)},null,512),[[wr,m.value.email]])])]),Z("div",Vve,[Z("div",Uve,[gr(Z("input",{type:"password",placeholder:"Passwort",for:"password",name:"password","onUpdate:modelValue":L[2]||(L[2]=j=>m.value.password=j)},null,512),[[wr,m.value.password]])]),Z("div",Wve,[gr(Z("input",{type:"password",placeholder:"Passwort (Wiederholen)",for:"password",name:"password","onUpdate:modelValue":L[3]||(L[3]=j=>m.value.password_confirmation=j)},null,512),[[wr,m.value.password_confirmation]])])]),Z("div",{class:"row content-row"},[Z("button",{class:"button-primary",onClick:_}," Benutzer erstellen ")])]))}},Gve={class:"row"},qve=Z("h1",null,"Alle Seiten",-1),Kve=Z("hr",{class:"divider"},null,-1),Xve=Z("img",{src:ip,width:"20"},null,-1),Yve=["onClick"],Jve=Z("img",{src:Od,width:"20"},null,-1),Zve=[Jve],Qve={__name:"Overview",setup(f){const m=Ft([]),y=Ft(!1),b=Ft([{key:"name",title:"Name"}]),S=()=>{y.value=!0,er.get("/pages").then(T=>{y.value=!1,m.value=T.data}).catch(T=>{y.value=!1,console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Es ist ein Fehler aufgetreten, bitte versuche es erneut.")})},_=T=>{window.confirm("Sind Sie sicher, dass Sie diese Seite lschen mchten?")&&er.delete(`/pages/${T}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{S()}).catch(D=>{console.log(D),D.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gelscht werden. Bitte versuche es erneut.")})};return ho(()=>{S()}),(T,D)=>{const L=io("router-link"),j=io("RouterLink");return nt(),it("main",null,[Z("div",Gve,[qve,Lt(L,{to:"/page-erstellen",class:"button-primary"},{default:vn(()=>[Fr("Seite hinzufgen")]),_:1})]),Kve,Lt(up,{tableData:m.value,tableColumns:b.value,loading:y.value},{actions:vn(()=>[Fr(" Aktionen ")]),tableActions:vn(N=>[Lt(j,{to:`/page-bearbeiten/${N.row.id}`},{default:vn(()=>[Xve]),_:2},1032,["to"]),Z("button",{onClick:V=>_(N.row.id)},Zve,8,Yve)]),_:1},8,["tableData","tableColumns","loading"])])}}},ede={class:"row"},tde=Z("h1",null,"Seite erstellen",-1),nde=Z("hr",{class:"divider"},null,-1),rde={class:"row content-row"},ade={class:"row content-row"},ode=Z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),ide={class:"row content-row"},ude={class:"row content-row"},sde=Z("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),lde={class:"content-row"},cde={class:"errorMessages"},fde={__name:"Create",setup(f){const m=Ft({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""}),y=Ft("Erstellen"),b=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen fr die Seite ein."),!1):!0,S=()=>{b()&&(y.value="Speichern...",m.value["description:de"]=sa.get("editor_de").getContent(),m.value["description:en"]=sa.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),er.post("/pages",m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,router.push("/pages")}).catch(_=>{y.value="Erstellen",console.log(_),_.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gespeichert werden. Bitte versuche es erneut.")}))};return ho(async()=>{await sa.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:zS.toString()+`
`+HS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |   bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:_=>{_.on("init",()=>{_.setContent("<p></p>")})}}),document.addEventListener("input",()=>{window.onbeforeunload=()=>!0})}),W6(()=>{sa.remove()}),(_,T)=>{const D=io("router-Link");return nt(),it("main",null,[Z("div",ede,[tde,Lt(D,{to:"/pages",class:"button-primary"},{default:vn(()=>[Fr("Abbrechen")]),_:1})]),nde,Z("div",rde,[Lt(Da,{lang:"de",title:"Titel (DE)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":T[0]||(T[0]=L=>m.value["name:de"]=L),placeholder:"Name"},null,512),[[wr,m.value["name:de"]]])]),_:1})]),Z("div",ade,[Lt(Da,{lang:"de",title:"Beschreibung"},{content:vn(()=>[ode]),_:1})]),Z("div",ide,[Lt(Da,{lang:"en",title:"Titel (EN)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":T[1]||(T[1]=L=>m.value["name:en"]=L),placeholder:"Name"},null,512),[[wr,m.value["name:en"]]])]),_:1})]),Z("div",ude,[Lt(Da,{lang:"en",title:"Description"},{content:vn(()=>[sde]),_:1})]),Z("div",lde,[Z("button",{class:"button-primary",onClick:T[2]||(T[2]=L=>S())},fr(y.value),1),Z("div",cde,[(nt(!0),it(Lr,null,So(_.errors,L=>(nt(),it("p",{key:L},fr(L),1))),128))])])])}}},vde={class:"row"},dde=Z("h1",null,"Seite erstellen",-1),mde=Z("hr",{class:"divider"},null,-1),hde={class:"row content-row"},gde={class:"row content-row"},pde=Z("textarea",{for:"description",placeholder:"Beschreibung",id:"editor_de"},null,-1),bde={class:"row content-row"},yde={class:"row content-row"},wde=Z("textarea",{for:"description",placeholder:"Description",id:"editor_en"},null,-1),Cde={class:"content-row"},Sde={class:"errorMessages"},xde={__name:"Edit",setup(f){const m=Ft({"name:de":"","name:en":"","description:de":"","description:en":"",status:"entwurf",slug:""}),y=Ft("Erstellen"),b=o0(),S=()=>m.value["name:de"]===""||m.value["name:en"]===""?(window.alert("Bitte geben Sie einen Namen fr die Seite ein."),!1):!0,_=()=>{S()&&(y.value="Speichern...",m.value["description:de"]=sa.get("editor_de").getContent(),m.value["description:en"]=sa.get("editor_en").getContent(),m.value.slug=m.value["name:de"].toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),er.patch("/pages/"+b.params.id,m.value,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then(()=>{window.onbeforeunload=null,router.push("/pages")}).catch(T=>{y.value="Erstellen",console.log(T),T.response.status===401&&sessionStorage.removeItem("token"),window.alert("Die Seite konnte nicht gespeichert werden. Bitte versuche es erneut.")}))};return ho(async()=>{if(b.params.id){const T=await er.get(`/pages/${b.params.id}`);m.value["name:de"]=T.data.translations[0].name,m.value["name:en"]=T.data.translations[1].name,m.value["description:de"]=T.data.translations[0].description,m.value["description:en"]=T.data.translations[1].description,m.value.status=T.data.status,y.value="Aktualisieren"}await sa.init({selector:"textarea",skin:!1,mode:"none",content_css:!1,content_style:zS.toString()+`
`+HS.toString(),plugins:["advlist code link lists table"],toolbar:"undo redo | formatselect | bold italic backcolor |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | removeformat | table | link | code",menubar:!1,statusbar:!1,height:600,setup:T=>{T.on("init",()=>{T.setContent("<p></p>")})}}),setTimeout(()=>{sa.get("editor_de").setContent(m.value["description:de"]),sa.get("editor_en").setContent(m.value["description:en"])},100)}),W6(()=>{sa.remove()}),(T,D)=>{const L=io("router-Link");return nt(),it("main",null,[Z("div",vde,[dde,Lt(L,{to:"/pages",class:"button-primary"},{default:vn(()=>[Fr("Abbrechen")]),_:1})]),mde,Z("div",hde,[Lt(Da,{lang:"de",title:"Titel (DE)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":D[0]||(D[0]=j=>m.value["name:de"]=j),placeholder:"Name"},null,512),[[wr,m.value["name:de"]]])]),_:1})]),Z("div",gde,[Lt(Da,{lang:"de",title:"Beschreibung"},{content:vn(()=>[pde]),_:1})]),Z("div",bde,[Lt(Da,{lang:"en",title:"Titel (EN)"},{content:vn(()=>[gr(Z("input",{type:"text","onUpdate:modelValue":D[1]||(D[1]=j=>m.value["name:en"]=j),placeholder:"Name"},null,512),[[wr,m.value["name:en"]]])]),_:1})]),Z("div",yde,[Lt(Da,{lang:"en",title:"Description"},{content:vn(()=>[wde]),_:1})]),Z("div",Cde,[Z("button",{class:"button-primary",onClick:D[2]||(D[2]=j=>_())},fr(y.value),1),Z("div",Sde,[(nt(!0),it(Lr,null,So(T.errors,j=>(nt(),it("p",{key:j},fr(j),1))),128))])])])}}};const _de={},kde=Z("h1",null,"Dashboard",-1),Ade=Z("hr",{class:"divider"},null,-1),Ede={class:"content-row"},Tde={class:"col"},Ode=Z("h2",null,"Empfohlene Vorgehensweise",-1),Dde=Z("hr",{class:"divider"},null,-1),Rde=Z("h3",null,"Zuerst Zertifikate, Sprachen und Guides erstellen",-1),Bde=Z("p",null," Es ist ratsam, zuerst Guides und ihre Attribute anzulegen, da dies den Aufwand whrend der Tour-Erstellung verringert. ",-1),$de={class:"col",style:{margin:"5px 0"}},Mde={class:"col",style:{margin:"5px 0"}},Pde={class:"col",style:{margin:"5px 0"}},Ide=Z("h3",null,"Touren erstellen",-1),Nde=Z("p",null," Nachdem Sie Guides, Sprachen und Zertifikate erstellt und verknpft haben, knnen Sie mit dem Anlegen der Touren beginnen. Wenn Sie whrend der Tour-Erstellung feststellen, dass Sie einen Guide oder ein Zertifikat vergessen haben, knnen Sie diese auch whrend des Vorgangs erstellen. ",-1),Fde={class:"col",style:{margin:"5px 0"}};function Lde(f,m){const y=io("router-link");return nt(),it("div",null,[kde,Ade,Z("div",Ede,[Z("div",Tde,[Ode,Dde,Z("ol",null,[Z("li",null,[Rde,Bde,Z("div",$de,[Lt(y,{style:{display:"inline-block"},to:"/guides",class:"button-primary"},{default:vn(()=>[Fr("Guides")]),_:1})]),Z("div",Mde,[Lt(y,{style:{display:"inline-block"},to:"/sprachen",class:"button-primary"},{default:vn(()=>[Fr("Sprachen")]),_:1})]),Z("div",Pde,[Lt(y,{style:{display:"inline-block"},to:"/zertifikate",class:"button-primary"},{default:vn(()=>[Fr("Zertifikate")]),_:1})])]),Z("li",null,[Ide,Nde,Z("div",Fde,[Lt(y,{style:{display:"inline-block"},to:"/touren",class:"button-primary"},{default:vn(()=>[Fr("Touren")]),_:1})])])])])])])}const zde=$5(_de,[["render",Lde]]),Hde=Mne({history:Zte("/"),routes:[{path:"/",name:"getting-started",component:zde},{path:"/touren",name:"home",component:zae},{path:"/tour-erstellen",name:"touren",component:tce},{path:"/tour-bearbeiten/:id",name:"tour-bearbeiten",component:tfe},{path:"/guides",name:"guides",component:lfe},{path:"/guide-erstellen",name:"guide-erstellen",component:cfe},{path:"/guide-bearbeiten/:id",name:"guide-bearbeiten",component:ffe},{path:"/sprachen",name:"sprachen",component:yfe},{path:"/sprache-erstellen",name:"sprache-erstellen",component:wfe},{path:"/sprache-bearbeiten/:id",name:"sprache-bearbeiten",component:Cfe},{path:"/mobilitaet",name:"mobilitt",component:Ofe},{path:"/mobilitaet-erstellen",name:"mobilitaet-erstellen",component:Dfe},{path:"/mobilitaet-bearbeiten/:id",name:"mobilitaet-bearbeiten",component:Rfe},{path:"/orte",name:"orte",component:Lfe},{path:"/ort-erstellen",name:"ort-erstellen",component:zfe},{path:"/ort-bearbeiten/:id",name:"ort-bearbeiten",component:Hfe},{path:"/kategorien",name:"kategorien",component:Xfe},{path:"/kategorie-erstellen",name:"kategorie-erstellen",component:Yfe},{path:"/kategorie-bearbeiten/:id",name:"kategorie-bearbeiten",component:Jfe},{path:"/zertifikate",name:"zertifikate",component:ove},{path:"/zertifikat-erstellen",name:"zertifikat-erstellen",component:ive},{path:"/zertifikat-bearbeiten/:id",name:"zertifikat-bearbeiten",component:uve},{path:"/skills",name:"skills",component:hve},{path:"/skill-erstellen",name:"skill-erstellen",component:gve},{path:"/skill-bearbeiten/:id",name:"skill-bearbeiten",component:pve},{path:"/verwaltung",name:"verwaltung",component:kve},{path:"/verwaltung-erstellen",name:"verwaltung-erstellen",component:Pve},{path:"/verwaltung-bearbeiten/:id",name:"verwaltung-bearbeiten",component:jve},{path:"/pages",name:"pages",component:Qve},{path:"/page-erstellen",name:"page-erstellen",component:fde},{path:"/page-bearbeiten/:id",name:"page-bearbeiten",component:xde}],scrollBehavior(f,m,y){return{top:0}}});er.defaults.baseURL="https://api.hamburger-gaestefuehrer.de/api";er.defaults.headers.common["Access-Control-Allow-Origin"]="*";er.defaults.headers.common["Content-Type"]="application/json";er.defaults.withCredentials=!0;const f9=wte(Cae);f9.use(_te());f9.use(Hde);f9.mount("#app");
